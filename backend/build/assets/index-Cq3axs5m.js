var hA=Object.defineProperty;var w1=_e=>{throw TypeError(_e)};var fA=(_e,$,ht)=>$ in _e?hA(_e,$,{enumerable:!0,configurable:!0,writable:!0,value:ht}):_e[$]=ht;var Sr=(_e,$,ht)=>fA(_e,typeof $!="symbol"?$+"":$,ht),Sx=(_e,$,ht)=>$.has(_e)||w1("Cannot "+ht);var wt=(_e,$,ht)=>(Sx(_e,$,"read from private field"),ht?ht.call(_e):$.get(_e)),qt=(_e,$,ht)=>$.has(_e)?w1("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(_e):$.set(_e,ht),Vt=(_e,$,ht,vt)=>(Sx(_e,$,"write to private field"),vt?vt.call(_e,ht):$.set(_e,ht),ht),Ut=(_e,$,ht)=>(Sx(_e,$,"access private method"),ht);var eo=(_e,$,ht,vt)=>({set _(xt){Vt(_e,$,xt,ht)},get _(){return wt(_e,$,vt)}});function _mergeNamespaces(_e,$){for(var ht=0;ht<$.length;ht++){const vt=$[ht];if(typeof vt!="string"&&!Array.isArray(vt)){for(const xt in vt)if(xt!=="default"&&!(xt in _e)){const bt=Object.getOwnPropertyDescriptor(vt,xt);bt&&Object.defineProperty(_e,xt,bt.get?bt:{enumerable:!0,get:()=>vt[xt]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const xt of document.querySelectorAll('link[rel="modulepreload"]'))vt(xt);new MutationObserver(xt=>{for(const bt of xt)if(bt.type==="childList")for(const Et of bt.addedNodes)Et.tagName==="LINK"&&Et.rel==="modulepreload"&&vt(Et)}).observe(document,{childList:!0,subtree:!0});function ht(xt){const bt={};return xt.integrity&&(bt.integrity=xt.integrity),xt.referrerPolicy&&(bt.referrerPolicy=xt.referrerPolicy),xt.crossOrigin==="use-credentials"?bt.credentials="include":xt.crossOrigin==="anonymous"?bt.credentials="omit":bt.credentials="same-origin",bt}function vt(xt){if(xt.ep)return;xt.ep=!0;const bt=ht(xt);fetch(xt.href,bt)}})();function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var $=_e.default;if(typeof $=="function"){var ht=function vt(){return this instanceof vt?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};ht.prototype=$.prototype}else ht={};return Object.defineProperty(ht,"__esModule",{value:!0}),Object.keys(_e).forEach(function(vt){var xt=Object.getOwnPropertyDescriptor(_e,vt);Object.defineProperty(ht,vt,xt.get?xt:{enumerable:!0,get:function(){return _e[vt]}})}),ht}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$8=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$4(_e){return _e===null||typeof _e!="object"?null:(_e=z$2&&_e[z$2]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$5={};function E$2(_e,$,ht){this.props=_e,this.context=$,this.refs=D$5,this.updater=ht||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_e,$){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,$,"setState")};E$2.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$4(){}F$4.prototype=E$2.prototype;function G$3(_e,$,ht){this.props=_e,this.context=$,this.refs=D$5,this.updater=ht||B$2}var H$3=G$3.prototype=new F$4;H$3.constructor=G$3;C$2(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$5=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$4(_e,$,ht){var vt,xt={},bt=null,Et=null;if($!=null)for(vt in $.ref!==void 0&&(Et=$.ref),$.key!==void 0&&(bt=""+$.key),$)J$2.call($,vt)&&!L$2.hasOwnProperty(vt)&&(xt[vt]=$[vt]);var _t=arguments.length-2;if(_t===1)xt.children=ht;else if(1<_t){for(var At=Array(_t),Ct=0;Ct<_t;Ct++)At[Ct]=arguments[Ct+2];xt.children=At}if(_e&&_e.defaultProps)for(vt in _t=_e.defaultProps,_t)xt[vt]===void 0&&(xt[vt]=_t[vt]);return{$$typeof:l$3,type:_e,key:bt,ref:Et,props:xt,_owner:K$1.current}}function N$4(_e,$){return{$$typeof:l$3,type:_e.type,key:$,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$3(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$3}function escape$1(_e){var $={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(ht){return $[ht]})}var P$4=/\/+/g;function Q$1(_e,$){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):$.toString(36)}function R$2(_e,$,ht,vt,xt){var bt=typeof _e;(bt==="undefined"||bt==="boolean")&&(_e=null);var Et=!1;if(_e===null)Et=!0;else switch(bt){case"string":case"number":Et=!0;break;case"object":switch(_e.$$typeof){case l$3:case n$5:Et=!0}}if(Et)return Et=_e,xt=xt(Et),_e=vt===""?"."+Q$1(Et,0):vt,I$5(xt)?(ht="",_e!=null&&(ht=_e.replace(P$4,"$&/")+"/"),R$2(xt,$,ht,"",function(Ct){return Ct})):xt!=null&&(O$3(xt)&&(xt=N$4(xt,ht+(!xt.key||Et&&Et.key===xt.key?"":(""+xt.key).replace(P$4,"$&/")+"/")+_e)),$.push(xt)),1;if(Et=0,vt=vt===""?".":vt+":",I$5(_e))for(var _t=0;_t<_e.length;_t++){bt=_e[_t];var At=vt+Q$1(bt,_t);Et+=R$2(bt,$,ht,At,xt)}else if(At=A$4(_e),typeof At=="function")for(_e=At.call(_e),_t=0;!(bt=_e.next()).done;)bt=bt.value,At=vt+Q$1(bt,_t++),Et+=R$2(bt,$,ht,At,xt);else if(bt==="object")throw $=String(_e),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Et}function S$5(_e,$,ht){if(_e==null)return _e;var vt=[],xt=0;return R$2(_e,vt,"","",function(bt){return $.call(ht,bt,xt++)}),vt}function T$4(_e){if(_e._status===-1){var $=_e._result;$=$(),$.then(function(ht){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=ht)},function(ht){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=ht)}),_e._status===-1&&(_e._status=0,_e._result=$)}if(_e._status===1)return _e._result.default;throw _e._result}var U$3={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(_e,$,ht){S$5(_e,function(){$.apply(this,arguments)},ht)},count:function(_e){var $=0;return S$5(_e,function(){$++}),$},toArray:function(_e){return S$5(_e,function($){return $})||[]},only:function(_e){if(!O$3(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$2;react_production_min.Fragment=p$6;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$1;react_production_min.cloneElement=function(_e,$,ht){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var vt=C$2({},_e.props),xt=_e.key,bt=_e.ref,Et=_e._owner;if($!=null){if($.ref!==void 0&&(bt=$.ref,Et=K$1.current),$.key!==void 0&&(xt=""+$.key),_e.type&&_e.type.defaultProps)var _t=_e.type.defaultProps;for(At in $)J$2.call($,At)&&!L$2.hasOwnProperty(At)&&(vt[At]=$[At]===void 0&&_t!==void 0?_t[At]:$[At])}var At=arguments.length-2;if(At===1)vt.children=ht;else if(1<At){_t=Array(At);for(var Ct=0;Ct<At;Ct++)_t[Ct]=arguments[Ct+2];vt.children=_t}return{$$typeof:l$3,type:_e.type,key:xt,ref:bt,props:vt,_owner:Et}};react_production_min.createContext=function(_e){return _e={$$typeof:u$8,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$5,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$4;react_production_min.createFactory=function(_e){var $=M$4.bind(null,_e);return $.type=_e,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$2,render:_e}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(_e){return{$$typeof:y$5,_payload:{_status:-1,_result:_e},_init:T$4}};react_production_min.memo=function(_e,$){return{$$typeof:x$1,type:_e,compare:$===void 0?null:$}};react_production_min.startTransition=function(_e){var $=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=$}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(_e,$){return U$3.current.useCallback(_e,$)};react_production_min.useContext=function(_e){return U$3.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$3.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,$){return U$3.current.useEffect(_e,$)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(_e,$,ht){return U$3.current.useImperativeHandle(_e,$,ht)};react_production_min.useInsertionEffect=function(_e,$){return U$3.current.useInsertionEffect(_e,$)};react_production_min.useLayoutEffect=function(_e,$){return U$3.current.useLayoutEffect(_e,$)};react_production_min.useMemo=function(_e,$){return U$3.current.useMemo(_e,$)};react_production_min.useReducer=function(_e,$,ht){return U$3.current.useReducer(_e,$,ht)};react_production_min.useRef=function(_e){return U$3.current.useRef(_e)};react_production_min.useState=function(_e){return U$3.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,$,ht){return U$3.current.useSyncExternalStore(_e,$,ht)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),t$4=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$6=reactExports,k=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$4=f$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$1(_e,$,ht){var vt,xt={},bt=null,Et=null;ht!==void 0&&(bt=""+ht),$.key!==void 0&&(bt=""+$.key),$.ref!==void 0&&(Et=$.ref);for(vt in $)m$5.call($,vt)&&!p$5.hasOwnProperty(vt)&&(xt[vt]=$[vt]);if(_e&&_e.defaultProps)for(vt in $=_e.defaultProps,$)xt[vt]===void 0&&(xt[vt]=$[vt]);return{$$typeof:k,type:_e,key:bt,ref:Et,props:xt,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function $(hn,nn){var gn=hn.length;hn.push(nn);e:for(;0<gn;){var wn=gn-1>>>1,rn=hn[wn];if(0<xt(rn,nn))hn[wn]=nn,hn[gn]=rn,gn=wn;else break e}}function ht(hn){return hn.length===0?null:hn[0]}function vt(hn){if(hn.length===0)return null;var nn=hn[0],gn=hn.pop();if(gn!==nn){hn[0]=gn;e:for(var wn=0,rn=hn.length,Xt=rn>>>1;wn<Xt;){var Yt=2*(wn+1)-1,tn=hn[Yt],dn=Yt+1,ln=hn[dn];if(0>xt(tn,gn))dn<rn&&0>xt(ln,tn)?(hn[wn]=ln,hn[dn]=gn,wn=dn):(hn[wn]=tn,hn[Yt]=gn,wn=Yt);else if(dn<rn&&0>xt(ln,gn))hn[wn]=ln,hn[dn]=gn,wn=dn;else break e}}return nn}function xt(hn,nn){var gn=hn.sortIndex-nn.sortIndex;return gn!==0?gn:hn.id-nn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var bt=performance;_e.unstable_now=function(){return bt.now()}}else{var Et=Date,_t=Et.now();_e.unstable_now=function(){return Et.now()-_t}}var At=[],Ct=[],St=1,Rt=null,Pt=3,kt=!1,Mt=!1,Lt=!1,Ot=typeof setTimeout=="function"?setTimeout:null,Ft=typeof clearTimeout=="function"?clearTimeout:null,Dt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $t(hn){for(var nn=ht(Ct);nn!==null;){if(nn.callback===null)vt(Ct);else if(nn.startTime<=hn)vt(Ct),nn.sortIndex=nn.expirationTime,$(At,nn);else break;nn=ht(Ct)}}function Bt(hn){if(Lt=!1,$t(hn),!Mt)if(ht(At)!==null)Mt=!0,xn(Nt);else{var nn=ht(Ct);nn!==null&&an(Bt,nn.startTime-hn)}}function Nt(hn,nn){Mt=!1,Lt&&(Lt=!1,Ft(zt),zt=-1),kt=!0;var gn=Pt;try{for($t(nn),Rt=ht(At);Rt!==null&&(!(Rt.expirationTime>nn)||hn&&!Wt());){var wn=Rt.callback;if(typeof wn=="function"){Rt.callback=null,Pt=Rt.priorityLevel;var rn=wn(Rt.expirationTime<=nn);nn=_e.unstable_now(),typeof rn=="function"?Rt.callback=rn:Rt===ht(At)&&vt(At),$t(nn)}else vt(At);Rt=ht(At)}if(Rt!==null)var Xt=!0;else{var Yt=ht(Ct);Yt!==null&&an(Bt,Yt.startTime-nn),Xt=!1}return Xt}finally{Rt=null,Pt=gn,kt=!1}}var Ht=!1,jt=null,zt=-1,Kt=5,en=-1;function Wt(){return!(_e.unstable_now()-en<Kt)}function Qt(){if(jt!==null){var hn=_e.unstable_now();en=hn;var nn=!0;try{nn=jt(!0,hn)}finally{nn?on():(Ht=!1,jt=null)}}else Ht=!1}var on;if(typeof Dt=="function")on=function(){Dt(Qt)};else if(typeof MessageChannel<"u"){var En=new MessageChannel,un=En.port2;En.port1.onmessage=Qt,on=function(){un.postMessage(null)}}else on=function(){Ot(Qt,0)};function xn(hn){jt=hn,Ht||(Ht=!0,on())}function an(hn,nn){zt=Ot(function(){hn(_e.unstable_now())},nn)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(hn){hn.callback=null},_e.unstable_continueExecution=function(){Mt||kt||(Mt=!0,xn(Nt))},_e.unstable_forceFrameRate=function(hn){0>hn||125<hn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Kt=0<hn?Math.floor(1e3/hn):5},_e.unstable_getCurrentPriorityLevel=function(){return Pt},_e.unstable_getFirstCallbackNode=function(){return ht(At)},_e.unstable_next=function(hn){switch(Pt){case 1:case 2:case 3:var nn=3;break;default:nn=Pt}var gn=Pt;Pt=nn;try{return hn()}finally{Pt=gn}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(hn,nn){switch(hn){case 1:case 2:case 3:case 4:case 5:break;default:hn=3}var gn=Pt;Pt=hn;try{return nn()}finally{Pt=gn}},_e.unstable_scheduleCallback=function(hn,nn,gn){var wn=_e.unstable_now();switch(typeof gn=="object"&&gn!==null?(gn=gn.delay,gn=typeof gn=="number"&&0<gn?wn+gn:wn):gn=wn,hn){case 1:var rn=-1;break;case 2:rn=250;break;case 5:rn=1073741823;break;case 4:rn=1e4;break;default:rn=5e3}return rn=gn+rn,hn={id:St++,callback:nn,priorityLevel:hn,startTime:gn,expirationTime:rn,sortIndex:-1},gn>wn?(hn.sortIndex=gn,$(Ct,hn),ht(At)===null&&hn===ht(Ct)&&(Lt?(Ft(zt),zt=-1):Lt=!0,an(Bt,gn-wn))):(hn.sortIndex=rn,$(At,hn),Mt||kt||(Mt=!0,xn(Nt))),hn},_e.unstable_shouldYield=Wt,_e.unstable_wrapCallback=function(hn){var nn=Pt;return function(){var gn=Pt;Pt=nn;try{return hn.apply(this,arguments)}finally{Pt=gn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(_e){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+_e,ht=1;ht<arguments.length;ht++)$+="&args[]="+encodeURIComponent(arguments[ht]);return"Minified React error #"+_e+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,$){ha(_e,$),ha(_e+"Capture",$)}function ha(_e,$){for(ea[_e]=$,_e=0;_e<$.length;_e++)da.add($[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,$,ht,vt){if(ht!==null&&ht.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return vt?!1:ht!==null?!ht.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,$,ht,vt){if($===null||typeof $>"u"||pa(_e,$,ht,vt))return!0;if(vt)return!1;if(ht!==null)switch(ht.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$1(_e,$,ht,vt,xt,bt,Et){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=vt,this.attributeNamespace=xt,this.mustUseProperty=ht,this.propertyName=_e,this.type=$,this.sanitizeURL=bt,this.removeEmptyString=Et}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$1[_e]=new v$1(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var $=_e[0];z$1[$]=new v$1($,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$1[_e]=new v$1(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$1[_e]=new v$1(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$1[_e]=new v$1(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$1[_e]=new v$1(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$1[_e]=new v$1(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$1[_e]=new v$1(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$1[_e]=new v$1(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$1[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$1[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,$,ht,vt){var xt=z$1.hasOwnProperty($)?z$1[$]:null;(xt!==null?xt.type!==0:vt||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,ht,xt,vt)&&(ht=null),vt||xt===null?oa($)&&(ht===null?_e.removeAttribute($):_e.setAttribute($,""+ht)):xt.mustUseProperty?_e[xt.propertyName]=ht===null?xt.type===3?!1:"":ht:($=xt.attributeName,vt=xt.attributeNamespace,ht===null?_e.removeAttribute($):(xt=xt.type,ht=xt===3||xt===4&&ht===!0?"":""+ht,vt?_e.setAttributeNS(vt,$,ht):_e.setAttribute($,ht))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$3=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(ht){var $=ht.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,$){if(!_e||Na)return"";Na=!0;var ht=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(Ct){var vt=Ct}Reflect.construct(_e,[],$)}else{try{$.call()}catch(Ct){vt=Ct}_e.call($.prototype)}else{try{throw Error()}catch(Ct){vt=Ct}_e()}}catch(Ct){if(Ct&&vt&&typeof Ct.stack=="string"){for(var xt=Ct.stack.split(`
`),bt=vt.stack.split(`
`),Et=xt.length-1,_t=bt.length-1;1<=Et&&0<=_t&&xt[Et]!==bt[_t];)_t--;for(;1<=Et&&0<=_t;Et--,_t--)if(xt[Et]!==bt[_t]){if(Et!==1||_t!==1)do if(Et--,_t--,0>_t||xt[Et]!==bt[_t]){var At=`
`+xt[Et].replace(" at new "," at ");return _e.displayName&&At.includes("<anonymous>")&&(At=At.replace("<anonymous>",_e.displayName)),At}while(1<=Et&&0<=_t);break}}}finally{Na=!1,Error.prepareStackTrace=ht}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var $=_e.render;return _e=_e.displayName,_e||(_e=$.displayName||$.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return $=_e.displayName||null,$!==null?$:Qa(_e.type)||"Memo";case Ha:$=_e._payload,_e=_e._init;try{return Qa(_e($))}catch{}}return null}function Ra(_e){var $=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=$.render,_e=_e.displayName||_e.name||"",$.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var $=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(_e){var $=Ta(_e)?"checked":"value",ht=Object.getOwnPropertyDescriptor(_e.constructor.prototype,$),vt=""+_e[$];if(!_e.hasOwnProperty($)&&typeof ht<"u"&&typeof ht.get=="function"&&typeof ht.set=="function"){var xt=ht.get,bt=ht.set;return Object.defineProperty(_e,$,{configurable:!0,get:function(){return xt.call(this)},set:function(Et){vt=""+Et,bt.call(this,Et)}}),Object.defineProperty(_e,$,{enumerable:ht.enumerable}),{getValue:function(){return vt},setValue:function(Et){vt=""+Et},stopTracking:function(){_e._valueTracker=null,delete _e[$]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var $=_e._valueTracker;if(!$)return!0;var ht=$.getValue(),vt="";return _e&&(vt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=vt,_e!==ht?($.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,$){var ht=$.checked;return A$3({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ht??_e._wrapperState.initialChecked})}function Za(_e,$){var ht=$.defaultValue==null?"":$.defaultValue,vt=$.checked!=null?$.checked:$.defaultChecked;ht=Sa($.value!=null?$.value:ht),_e._wrapperState={initialChecked:vt,initialValue:ht,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(_e,$){$=$.checked,$!=null&&ta(_e,"checked",$,!1)}function bb(_e,$){ab(_e,$);var ht=Sa($.value),vt=$.type;if(ht!=null)vt==="number"?(ht===0&&_e.value===""||_e.value!=ht)&&(_e.value=""+ht):_e.value!==""+ht&&(_e.value=""+ht);else if(vt==="submit"||vt==="reset"){_e.removeAttribute("value");return}$.hasOwnProperty("value")?cb(_e,$.type,ht):$.hasOwnProperty("defaultValue")&&cb(_e,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(_e.defaultChecked=!!$.defaultChecked)}function db(_e,$,ht){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var vt=$.type;if(!(vt!=="submit"&&vt!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+_e._wrapperState.initialValue,ht||$===_e.value||(_e.value=$),_e.defaultValue=$}ht=_e.name,ht!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,ht!==""&&(_e.name=ht)}function cb(_e,$,ht){($!=="number"||Xa(_e.ownerDocument)!==_e)&&(ht==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+ht&&(_e.defaultValue=""+ht))}var eb=Array.isArray;function fb(_e,$,ht,vt){if(_e=_e.options,$){$={};for(var xt=0;xt<ht.length;xt++)$["$"+ht[xt]]=!0;for(ht=0;ht<_e.length;ht++)xt=$.hasOwnProperty("$"+_e[ht].value),_e[ht].selected!==xt&&(_e[ht].selected=xt),xt&&vt&&(_e[ht].defaultSelected=!0)}else{for(ht=""+Sa(ht),$=null,xt=0;xt<_e.length;xt++){if(_e[xt].value===ht){_e[xt].selected=!0,vt&&(_e[xt].defaultSelected=!0);return}$!==null||_e[xt].disabled||($=_e[xt])}$!==null&&($.selected=!0)}}function gb(_e,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$3({},$,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,$){var ht=$.value;if(ht==null){if(ht=$.children,$=$.defaultValue,ht!=null){if($!=null)throw Error(p$4(92));if(eb(ht)){if(1<ht.length)throw Error(p$4(93));ht=ht[0]}$=ht}$==null&&($=""),ht=$}_e._wrapperState={initialValue:Sa(ht)}}function ib(_e,$){var ht=Sa($.value),vt=Sa($.defaultValue);ht!=null&&(ht=""+ht,ht!==_e.value&&(_e.value=ht),$.defaultValue==null&&_e.defaultValue!==ht&&(_e.defaultValue=ht)),vt!=null&&(_e.defaultValue=""+vt)}function jb(_e){var $=_e.textContent;$===_e._wrapperState.initialValue&&$!==""&&$!==null&&(_e.value=$)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,$){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb($):_e==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,ht,vt,xt){MSApp.execUnsafeLocalFunction(function(){return _e($,ht,vt,xt)})}:_e}(function(_e,$){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;$.firstChild;)_e.appendChild($.firstChild)}});function ob(_e,$){if($){var ht=_e.firstChild;if(ht&&ht===_e.lastChild&&ht.nodeType===3){ht.nodeValue=$;return}}_e.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function($){$=$+_e.charAt(0).toUpperCase()+_e.substring(1),pb[$]=pb[_e]})});function rb(_e,$,ht){return $==null||typeof $=="boolean"||$===""?"":ht||typeof $!="number"||$===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+$).trim():$+"px"}function sb(_e,$){_e=_e.style;for(var ht in $)if($.hasOwnProperty(ht)){var vt=ht.indexOf("--")===0,xt=rb(ht,$[ht],vt);ht==="float"&&(ht="cssFloat"),vt?_e.setProperty(ht,xt):_e[ht]=xt}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,$){if($){if(tb[_e]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$4(137,_e));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$4(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$4(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$4(62))}}function vb(_e,$){if(_e.indexOf("-")===-1)return typeof $.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$4(280));var $=_e.stateNode;$&&($=Db($),yb(_e.stateNode,_e.type,$))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,$=Ab;if(Ab=zb=null,Bb(_e),$)for(_e=0;_e<$.length;_e++)Bb($[_e])}}function Gb(_e,$){return _e($)}function Hb(){}var Ib=!1;function Jb(_e,$,ht){if(Ib)return _e($,ht);Ib=!0;try{return Gb(_e,$,ht)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,$){var ht=_e.stateNode;if(ht===null)return null;var vt=Db(ht);if(vt===null)return null;ht=vt[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(vt=!vt.disabled)||(_e=_e.type,vt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!vt;break e;default:_e=!1}if(_e)return null;if(ht&&typeof ht!="function")throw Error(p$4(231,$,typeof ht));return ht}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,$,ht,vt,xt,bt,Et,_t,At){var Ct=Array.prototype.slice.call(arguments,3);try{$.apply(ht,Ct)}catch(St){this.onError(St)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,$,ht,vt,xt,bt,Et,_t,At){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,$,ht,vt,xt,bt,Et,_t,At){if(Tb.apply(this,arguments),Ob){if(Ob){var Ct=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=Ct)}}function Vb(_e){var $=_e,ht=_e;if(_e.alternate)for(;$.return;)$=$.return;else{_e=$;do $=_e,$.flags&4098&&(ht=$.return),_e=$.return;while(_e)}return $.tag===3?ht:null}function Wb(_e){if(_e.tag===13){var $=_e.memoizedState;if($===null&&(_e=_e.alternate,_e!==null&&($=_e.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$4(188))}function Yb(_e){var $=_e.alternate;if(!$){if($=Vb(_e),$===null)throw Error(p$4(188));return $!==_e?null:_e}for(var ht=_e,vt=$;;){var xt=ht.return;if(xt===null)break;var bt=xt.alternate;if(bt===null){if(vt=xt.return,vt!==null){ht=vt;continue}break}if(xt.child===bt.child){for(bt=xt.child;bt;){if(bt===ht)return Xb(xt),_e;if(bt===vt)return Xb(xt),$;bt=bt.sibling}throw Error(p$4(188))}if(ht.return!==vt.return)ht=xt,vt=bt;else{for(var Et=!1,_t=xt.child;_t;){if(_t===ht){Et=!0,ht=xt,vt=bt;break}if(_t===vt){Et=!0,vt=xt,ht=bt;break}_t=_t.sibling}if(!Et){for(_t=bt.child;_t;){if(_t===ht){Et=!0,ht=bt,vt=xt;break}if(_t===vt){Et=!0,vt=bt,ht=xt;break}_t=_t.sibling}if(!Et)throw Error(p$4(189))}}if(ht.alternate!==vt)throw Error(p$4(190))}if(ht.tag!==3)throw Error(p$4(188));return ht.stateNode.current===ht?_e:$}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var $=$b(_e);if($!==null)return $;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,$){var ht=_e.pendingLanes;if(ht===0)return 0;var vt=0,xt=_e.suspendedLanes,bt=_e.pingedLanes,Et=ht&268435455;if(Et!==0){var _t=Et&~xt;_t!==0?vt=tc(_t):(bt&=Et,bt!==0&&(vt=tc(bt)))}else Et=ht&~xt,Et!==0?vt=tc(Et):bt!==0&&(vt=tc(bt));if(vt===0)return 0;if($!==0&&$!==vt&&!($&xt)&&(xt=vt&-vt,bt=$&-$,xt>=bt||xt===16&&(bt&4194240)!==0))return $;if(vt&4&&(vt|=ht&16),$=_e.entangledLanes,$!==0)for(_e=_e.entanglements,$&=vt;0<$;)ht=31-oc($),xt=1<<ht,vt|=_e[ht],$&=~xt;return vt}function vc(_e,$){switch(_e){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,$){for(var ht=_e.suspendedLanes,vt=_e.pingedLanes,xt=_e.expirationTimes,bt=_e.pendingLanes;0<bt;){var Et=31-oc(bt),_t=1<<Et,At=xt[Et];At===-1?(!(_t&ht)||_t&vt)&&(xt[Et]=vc(_t,$)):At<=$&&(_e.expiredLanes|=_t),bt&=~_t}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var $=[],ht=0;31>ht;ht++)$.push(_e);return $}function Ac(_e,$,ht){_e.pendingLanes|=$,$!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,$=31-oc($),_e[$]=ht}function Bc(_e,$){var ht=_e.pendingLanes&~$;_e.pendingLanes=$,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=$,_e.mutableReadLanes&=$,_e.entangledLanes&=$,$=_e.entanglements;var vt=_e.eventTimes;for(_e=_e.expirationTimes;0<ht;){var xt=31-oc(ht),bt=1<<xt;$[xt]=0,vt[xt]=-1,_e[xt]=-1,ht&=~bt}}function Cc(_e,$){var ht=_e.entangledLanes|=$;for(_e=_e.entanglements;ht;){var vt=31-oc(ht),xt=1<<vt;xt&$|_e[vt]&$&&(_e[vt]|=$),ht&=~xt}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,$){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(_e,$,ht,vt,xt,bt){return _e===null||_e.nativeEvent!==bt?(_e={blockedOn:$,domEventName:ht,eventSystemFlags:vt,nativeEvent:bt,targetContainers:[xt]},$!==null&&($=Cb($),$!==null&&Fc($)),_e):(_e.eventSystemFlags|=vt,$=_e.targetContainers,xt!==null&&$.indexOf(xt)===-1&&$.push(xt),_e)}function Uc(_e,$,ht,vt,xt){switch($){case"focusin":return Lc=Tc(Lc,_e,$,ht,vt,xt),!0;case"dragenter":return Mc=Tc(Mc,_e,$,ht,vt,xt),!0;case"mouseover":return Nc=Tc(Nc,_e,$,ht,vt,xt),!0;case"pointerover":var bt=xt.pointerId;return Oc.set(bt,Tc(Oc.get(bt)||null,_e,$,ht,vt,xt)),!0;case"gotpointercapture":return bt=xt.pointerId,Pc.set(bt,Tc(Pc.get(bt)||null,_e,$,ht,vt,xt)),!0}return!1}function Vc(_e){var $=Wc(_e.target);if($!==null){var ht=Vb($);if(ht!==null){if($=ht.tag,$===13){if($=Wb(ht),$!==null){_e.blockedOn=$,Ic(_e.priority,function(){Gc(ht)});return}}else if($===3&&ht.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=ht.tag===3?ht.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var $=_e.targetContainers;0<$.length;){var ht=Yc(_e.domEventName,_e.eventSystemFlags,$[0],_e.nativeEvent);if(ht===null){ht=_e.nativeEvent;var vt=new ht.constructor(ht.type,ht);wb=vt,ht.target.dispatchEvent(vt),wb=null}else return $=Cb(ht),$!==null&&Fc($),_e.blockedOn=ht,!1;$.shift()}return!0}function Zc(_e,$,ht){Xc(_e)&&ht.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,$){_e.blockedOn===$&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function $(xt){return ad(xt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var ht=1;ht<Kc.length;ht++){var vt=Kc[ht];vt.blockedOn===_e&&(vt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach($),Pc.forEach($),ht=0;ht<Qc.length;ht++)vt=Qc[ht],vt.blockedOn===_e&&(vt.blockedOn=null);for(;0<Qc.length&&(ht=Qc[0],ht.blockedOn===null);)Vc(ht),ht.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,$,ht,vt){var xt=C$1,bt=cd.transition;cd.transition=null;try{C$1=1,fd(_e,$,ht,vt)}finally{C$1=xt,cd.transition=bt}}function gd(_e,$,ht,vt){var xt=C$1,bt=cd.transition;cd.transition=null;try{C$1=4,fd(_e,$,ht,vt)}finally{C$1=xt,cd.transition=bt}}function fd(_e,$,ht,vt){if(dd){var xt=Yc(_e,$,ht,vt);if(xt===null)hd(_e,$,vt,id,ht),Sc(_e,vt);else if(Uc(xt,_e,$,ht,vt))vt.stopPropagation();else if(Sc(_e,vt),$&4&&-1<Rc.indexOf(_e)){for(;xt!==null;){var bt=Cb(xt);if(bt!==null&&Ec(bt),bt=Yc(_e,$,ht,vt),bt===null&&hd(_e,$,vt,id,ht),bt===xt)break;xt=bt}xt!==null&&vt.stopPropagation()}else hd(_e,$,vt,null,ht)}}var id=null;function Yc(_e,$,ht,vt){if(id=null,_e=xb(vt),_e=Wc(_e),_e!==null)if($=Vb(_e),$===null)_e=null;else if(ht=$.tag,ht===13){if(_e=Wb($),_e!==null)return _e;_e=null}else if(ht===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;_e=null}else $!==_e&&(_e=null);return id=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,$=ld,ht=$.length,vt,xt="value"in kd?kd.value:kd.textContent,bt=xt.length;for(_e=0;_e<ht&&$[_e]===xt[_e];_e++);var Et=ht-_e;for(vt=1;vt<=Et&&$[ht-vt]===xt[bt-vt];vt++);return md=xt.slice(_e,1<vt?1-vt:void 0)}function od(_e){var $=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&$===13&&(_e=13)):_e=$,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function $(ht,vt,xt,bt,Et){this._reactName=ht,this._targetInst=xt,this.type=vt,this.nativeEvent=bt,this.target=Et,this.currentTarget=null;for(var _t in _e)_e.hasOwnProperty(_t)&&(ht=_e[_t],this[_t]=ht?ht(bt):bt[_t]);return this.isDefaultPrevented=(bt.defaultPrevented!=null?bt.defaultPrevented:bt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ht=this.nativeEvent;ht&&(ht.preventDefault?ht.preventDefault():typeof ht.returnValue!="unknown"&&(ht.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var ht=this.nativeEvent;ht&&(ht.stopPropagation?ht.stopPropagation():typeof ht.cancelBubble!="unknown"&&(ht.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(_e):(_e=Od[_e])?!!$[_e]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(_e){if(_e.key){var $=Md[_e.key]||_e.key;if($!=="Unidentified")return $}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe=!1;function ge(_e,$){switch(_e){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,$){switch(_e){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return _e=$.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,$){if(ie)return _e==="compositionend"||!ae&&ge(_e,$)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $==="input"?!!le[_e.type]:$==="textarea"}function ne(_e,$,ht,vt){Eb(vt),$=oe($,"onChange"),0<$.length&&(ht=new td("onChange","change",null,ht,vt),_e.push({event:ht,listeners:$}))}var pe$1=null,qe$1=null;function re(_e){se(_e,0)}function te$1(_e){var $=ue(_e);if(Wa($))return _e}function ve$1(_e,$){if(_e==="change")return $}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(_e){if(_e.propertyName==="value"&&te$1(qe$1)){var $=[];ne($,qe$1,_e,xb(_e)),Jb(re,$)}}function Ce(_e,$,ht){_e==="focusin"?(Ae(),pe$1=$,qe$1=ht,pe$1.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te$1(qe$1)}function Ee(_e,$){if(_e==="click")return te$1($)}function Fe$1(_e,$){if(_e==="input"||_e==="change")return te$1($)}function Ge(_e,$){return _e===$&&(_e!==0||1/_e===1/$)||_e!==_e&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,$){if(He(_e,$))return!0;if(typeof _e!="object"||_e===null||typeof $!="object"||$===null)return!1;var ht=Object.keys(_e),vt=Object.keys($);if(ht.length!==vt.length)return!1;for(vt=0;vt<ht.length;vt++){var xt=ht[vt];if(!ja.call($,xt)||!He(_e[xt],$[xt]))return!1}return!0}function Je$1(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,$){var ht=Je$1(_e);_e=0;for(var vt;ht;){if(ht.nodeType===3){if(vt=_e+ht.textContent.length,_e<=$&&vt>=$)return{node:ht,offset:$-_e};_e=vt}e:{for(;ht;){if(ht.nextSibling){ht=ht.nextSibling;break e}ht=ht.parentNode}ht=void 0}ht=Je$1(ht)}}function Le(_e,$){return _e&&$?_e===$?!0:_e&&_e.nodeType===3?!1:$&&$.nodeType===3?Le(_e,$.parentNode):"contains"in _e?_e.contains($):_e.compareDocumentPosition?!!(_e.compareDocumentPosition($)&16):!1:!1}function Me(){for(var _e=window,$=Xa();$ instanceof _e.HTMLIFrameElement;){try{var ht=typeof $.contentWindow.location.href=="string"}catch{ht=!1}if(ht)_e=$.contentWindow;else break;$=Xa(_e.document)}return $}function Ne(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $&&($==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||$==="textarea"||_e.contentEditable==="true")}function Oe(_e){var $=Me(),ht=_e.focusedElem,vt=_e.selectionRange;if($!==ht&&ht&&ht.ownerDocument&&Le(ht.ownerDocument.documentElement,ht)){if(vt!==null&&Ne(ht)){if($=vt.start,_e=vt.end,_e===void 0&&(_e=$),"selectionStart"in ht)ht.selectionStart=$,ht.selectionEnd=Math.min(_e,ht.value.length);else if(_e=($=ht.ownerDocument||document)&&$.defaultView||window,_e.getSelection){_e=_e.getSelection();var xt=ht.textContent.length,bt=Math.min(vt.start,xt);vt=vt.end===void 0?bt:Math.min(vt.end,xt),!_e.extend&&bt>vt&&(xt=vt,vt=bt,bt=xt),xt=Ke(ht,bt);var Et=Ke(ht,vt);xt&&Et&&(_e.rangeCount!==1||_e.anchorNode!==xt.node||_e.anchorOffset!==xt.offset||_e.focusNode!==Et.node||_e.focusOffset!==Et.offset)&&($=$.createRange(),$.setStart(xt.node,xt.offset),_e.removeAllRanges(),bt>vt?(_e.addRange($),_e.extend(Et.node,Et.offset)):($.setEnd(Et.node,Et.offset),_e.addRange($)))}}for($=[],_e=ht;_e=_e.parentNode;)_e.nodeType===1&&$.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof ht.focus=="function"&&ht.focus(),ht=0;ht<$.length;ht++)_e=$[ht],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te=!1;function Ue(_e,$,ht){var vt=ht.window===ht?ht.document:ht.nodeType===9?ht:ht.ownerDocument;Te||Qe==null||Qe!==Xa(vt)||(vt=Qe,"selectionStart"in vt&&Ne(vt)?vt={start:vt.selectionStart,end:vt.selectionEnd}:(vt=(vt.ownerDocument&&vt.ownerDocument.defaultView||window).getSelection(),vt={anchorNode:vt.anchorNode,anchorOffset:vt.anchorOffset,focusNode:vt.focusNode,focusOffset:vt.focusOffset}),Se&&Ie(Se,vt)||(Se=vt,vt=oe(Re$1,"onSelect"),0<vt.length&&($=new td("onSelect","select",null,$,ht),_e.push({event:$,listeners:vt}),$.target=Qe)))}function Ve$1(_e,$){var ht={};return ht[_e.toLowerCase()]=$.toLowerCase(),ht["Webkit"+_e]="webkit"+$,ht["Moz"+_e]="moz"+$,ht}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze$1(_e){if(Xe$1[_e])return Xe$1[_e];if(!We[_e])return _e;var $=We[_e],ht;for(ht in $)if($.hasOwnProperty(ht)&&ht in Ye$1)return Xe$1[_e]=$[ht];return _e}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,$){df.set(_e,$),fa($,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,$,ht){var vt=_e.type||"unknown-event";_e.currentTarget=ht,Ub(vt,$,void 0,_e),_e.currentTarget=null}function se(_e,$){$=($&4)!==0;for(var ht=0;ht<_e.length;ht++){var vt=_e[ht],xt=vt.event;vt=vt.listeners;e:{var bt=void 0;if($)for(var Et=vt.length-1;0<=Et;Et--){var _t=vt[Et],At=_t.instance,Ct=_t.currentTarget;if(_t=_t.listener,At!==bt&&xt.isPropagationStopped())break e;nf(xt,_t,Ct),bt=At}else for(Et=0;Et<vt.length;Et++){if(_t=vt[Et],At=_t.instance,Ct=_t.currentTarget,_t=_t.listener,At!==bt&&xt.isPropagationStopped())break e;nf(xt,_t,Ct),bt=At}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$4(_e,$){var ht=$[of];ht===void 0&&(ht=$[of]=new Set);var vt=_e+"__bubble";ht.has(vt)||(pf($,_e,2,!1),ht.add(vt))}function qf(_e,$,ht){var vt=0;$&&(vt|=4),pf(ht,_e,vt,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(ht){ht!=="selectionchange"&&(mf.has(ht)||qf(ht,!1,_e),qf(ht,!0,_e))});var $=_e.nodeType===9?_e:_e.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(_e,$,ht,vt){switch(jd($)){case 1:var xt=ed;break;case 4:xt=gd;break;default:xt=fd}ht=xt.bind(null,$,ht,_e),xt=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(xt=!0),vt?xt!==void 0?_e.addEventListener($,ht,{capture:!0,passive:xt}):_e.addEventListener($,ht,!0):xt!==void 0?_e.addEventListener($,ht,{passive:xt}):_e.addEventListener($,ht,!1)}function hd(_e,$,ht,vt,xt){var bt=vt;if(!($&1)&&!($&2)&&vt!==null)e:for(;;){if(vt===null)return;var Et=vt.tag;if(Et===3||Et===4){var _t=vt.stateNode.containerInfo;if(_t===xt||_t.nodeType===8&&_t.parentNode===xt)break;if(Et===4)for(Et=vt.return;Et!==null;){var At=Et.tag;if((At===3||At===4)&&(At=Et.stateNode.containerInfo,At===xt||At.nodeType===8&&At.parentNode===xt))return;Et=Et.return}for(;_t!==null;){if(Et=Wc(_t),Et===null)return;if(At=Et.tag,At===5||At===6){vt=bt=Et;continue e}_t=_t.parentNode}}vt=vt.return}Jb(function(){var Ct=bt,St=xb(ht),Rt=[];e:{var Pt=df.get(_e);if(Pt!==void 0){var kt=td,Mt=_e;switch(_e){case"keypress":if(od(ht)===0)break e;case"keydown":case"keyup":kt=Rd;break;case"focusin":Mt="focus",kt=Fd;break;case"focusout":Mt="blur",kt=Fd;break;case"beforeblur":case"afterblur":kt=Fd;break;case"click":if(ht.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=Vd;break;case $e$1:case af:case bf:kt=Hd;break;case cf:kt=Xd;break;case"scroll":kt=vd;break;case"wheel":kt=Zd;break;case"copy":case"cut":case"paste":kt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=Td}var Lt=($&4)!==0,Ot=!Lt&&_e==="scroll",Ft=Lt?Pt!==null?Pt+"Capture":null:Pt;Lt=[];for(var Dt=Ct,$t;Dt!==null;){$t=Dt;var Bt=$t.stateNode;if($t.tag===5&&Bt!==null&&($t=Bt,Ft!==null&&(Bt=Kb(Dt,Ft),Bt!=null&&Lt.push(tf(Dt,Bt,$t)))),Ot)break;Dt=Dt.return}0<Lt.length&&(Pt=new kt(Pt,Mt,null,ht,St),Rt.push({event:Pt,listeners:Lt}))}}if(!($&7)){e:{if(Pt=_e==="mouseover"||_e==="pointerover",kt=_e==="mouseout"||_e==="pointerout",Pt&&ht!==wb&&(Mt=ht.relatedTarget||ht.fromElement)&&(Wc(Mt)||Mt[uf]))break e;if((kt||Pt)&&(Pt=St.window===St?St:(Pt=St.ownerDocument)?Pt.defaultView||Pt.parentWindow:window,kt?(Mt=ht.relatedTarget||ht.toElement,kt=Ct,Mt=Mt?Wc(Mt):null,Mt!==null&&(Ot=Vb(Mt),Mt!==Ot||Mt.tag!==5&&Mt.tag!==6)&&(Mt=null)):(kt=null,Mt=Ct),kt!==Mt)){if(Lt=Bd,Bt="onMouseLeave",Ft="onMouseEnter",Dt="mouse",(_e==="pointerout"||_e==="pointerover")&&(Lt=Td,Bt="onPointerLeave",Ft="onPointerEnter",Dt="pointer"),Ot=kt==null?Pt:ue(kt),$t=Mt==null?Pt:ue(Mt),Pt=new Lt(Bt,Dt+"leave",kt,ht,St),Pt.target=Ot,Pt.relatedTarget=$t,Bt=null,Wc(St)===Ct&&(Lt=new Lt(Ft,Dt+"enter",Mt,ht,St),Lt.target=$t,Lt.relatedTarget=Ot,Bt=Lt),Ot=Bt,kt&&Mt)t:{for(Lt=kt,Ft=Mt,Dt=0,$t=Lt;$t;$t=vf($t))Dt++;for($t=0,Bt=Ft;Bt;Bt=vf(Bt))$t++;for(;0<Dt-$t;)Lt=vf(Lt),Dt--;for(;0<$t-Dt;)Ft=vf(Ft),$t--;for(;Dt--;){if(Lt===Ft||Ft!==null&&Lt===Ft.alternate)break t;Lt=vf(Lt),Ft=vf(Ft)}Lt=null}else Lt=null;kt!==null&&wf(Rt,Pt,kt,Lt,!1),Mt!==null&&Ot!==null&&wf(Rt,Ot,Mt,Lt,!0)}}e:{if(Pt=Ct?ue(Ct):window,kt=Pt.nodeName&&Pt.nodeName.toLowerCase(),kt==="select"||kt==="input"&&Pt.type==="file")var Nt=ve$1;else if(me(Pt))if(we)Nt=Fe$1;else{Nt=De;var Ht=Ce}else(kt=Pt.nodeName)&&kt.toLowerCase()==="input"&&(Pt.type==="checkbox"||Pt.type==="radio")&&(Nt=Ee);if(Nt&&(Nt=Nt(_e,Ct))){ne(Rt,Nt,ht,St);break e}Ht&&Ht(_e,Pt,Ct),_e==="focusout"&&(Ht=Pt._wrapperState)&&Ht.controlled&&Pt.type==="number"&&cb(Pt,"number",Pt.value)}switch(Ht=Ct?ue(Ct):window,_e){case"focusin":(me(Ht)||Ht.contentEditable==="true")&&(Qe=Ht,Re$1=Ct,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(Rt,ht,St);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(Rt,ht,St)}var jt;if(ae)e:{switch(_e){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else ie?ge(_e,ht)&&(zt="onCompositionEnd"):_e==="keydown"&&ht.keyCode===229&&(zt="onCompositionStart");zt&&(de&&ht.locale!=="ko"&&(ie||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ie&&(jt=nd()):(kd=St,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Ht=oe(Ct,zt),0<Ht.length&&(zt=new Ld(zt,_e,null,ht,St),Rt.push({event:zt,listeners:Ht}),jt?zt.data=jt:(jt=he(ht),jt!==null&&(zt.data=jt)))),(jt=ce$1?je(_e,ht):ke(_e,ht))&&(Ct=oe(Ct,"onBeforeInput"),0<Ct.length&&(St=new Ld("onBeforeInput","beforeinput",null,ht,St),Rt.push({event:St,listeners:Ct}),St.data=jt))}se(Rt,$)})}function tf(_e,$,ht){return{instance:_e,listener:$,currentTarget:ht}}function oe(_e,$){for(var ht=$+"Capture",vt=[];_e!==null;){var xt=_e,bt=xt.stateNode;xt.tag===5&&bt!==null&&(xt=bt,bt=Kb(_e,ht),bt!=null&&vt.unshift(tf(_e,bt,xt)),bt=Kb(_e,$),bt!=null&&vt.push(tf(_e,bt,xt))),_e=_e.return}return vt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,$,ht,vt,xt){for(var bt=$._reactName,Et=[];ht!==null&&ht!==vt;){var _t=ht,At=_t.alternate,Ct=_t.stateNode;if(At!==null&&At===vt)break;_t.tag===5&&Ct!==null&&(_t=Ct,xt?(At=Kb(ht,bt),At!=null&&Et.unshift(tf(ht,At,_t))):xt||(At=Kb(ht,bt),At!=null&&Et.push(tf(ht,At,_t)))),ht=ht.return}Et.length!==0&&_e.push({event:$,listeners:Et})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,$,ht){if($=zf($),zf(_e)!==$&&ht)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,$){return _e==="textarea"||_e==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,$){var ht=$,vt=0;do{var xt=ht.nextSibling;if(_e.removeChild(ht),xt&&xt.nodeType===8)if(ht=xt.data,ht==="/$"){if(vt===0){_e.removeChild(xt),bd($);return}vt--}else ht!=="$"&&ht!=="$?"&&ht!=="$!"||vt++;ht=xt}while(ht);bd($)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var $=_e.nodeType;if($===1||$===3)break;if($===8){if($=_e.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var $=0;_e;){if(_e.nodeType===8){var ht=_e.data;if(ht==="$"||ht==="$!"||ht==="$?"){if($===0)return _e;$--}else ht==="/$"&&$++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var $=_e[Of];if($)return $;for(var ht=_e.parentNode;ht;){if($=ht[uf]||ht[Of]){if(ht=$.alternate,$.child!==null||ht!==null&&ht.child!==null)for(_e=Mf(_e);_e!==null;){if(ht=_e[Of])return ht;_e=Mf(_e)}return $}_e=ht,ht=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$4(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$1(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(_e,$){Tf++,Sf[Tf]=_e.current,_e.current=$}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,$){var ht=_e.type.contextTypes;if(!ht)return Vf;var vt=_e.stateNode;if(vt&&vt.__reactInternalMemoizedUnmaskedChildContext===$)return vt.__reactInternalMemoizedMaskedChildContext;var xt={},bt;for(bt in ht)xt[bt]=$[bt];return vt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=$,_e.__reactInternalMemoizedMaskedChildContext=xt),xt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(_e,$,ht){if(H$2.current!==Vf)throw Error(p$4(168));G$2(H$2,$),G$2(Wf,ht)}function bg(_e,$,ht){var vt=_e.stateNode;if($=$.childContextTypes,typeof vt.getChildContext!="function")return ht;vt=vt.getChildContext();for(var xt in vt)if(!(xt in $))throw Error(p$4(108,Ra(_e)||"Unknown",xt));return A$3({},ht,vt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,_e),G$2(Wf,Wf.current),!0}function dg(_e,$,ht){var vt=_e.stateNode;if(!vt)throw Error(p$4(169));ht?(_e=bg(_e,$,Xf),vt.__reactInternalMemoizedMergedChildContext=_e,E$1(Wf),E$1(H$2),G$2(H$2,_e)):E$1(Wf),G$2(Wf,ht)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,$=C$1;try{var ht=eg;for(C$1=1;_e<ht.length;_e++){var vt=ht[_e];do vt=vt(!0);while(vt!==null)}eg=null,fg=!1}catch(xt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),xt}finally{C$1=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,$){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=$}function ug(_e,$,ht){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var vt=rg;_e=sg;var xt=32-oc(vt)-1;vt&=~(1<<xt),ht+=1;var bt=32-oc($)+xt;if(30<bt){var Et=xt-xt%5;bt=(vt&(1<<Et)-1).toString(32),vt>>=Et,xt-=Et,rg=1<<32-oc($)+xt|ht<<xt|vt,sg=bt+_e}else rg=1<<bt|ht<<xt|vt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(_e,$){var ht=Bg(5,null,null,0);ht.elementType="DELETED",ht.stateNode=$,ht.return=_e,$=_e.deletions,$===null?(_e.deletions=[ht],_e.flags|=16):$.push(ht)}function Cg(_e,$){switch(_e.tag){case 5:var ht=_e.type;return $=$.nodeType!==1||ht.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=Lf($.firstChild),!0):!1;case 6:return $=_e.pendingProps===""||$.nodeType!==3?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(ht=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:$,treeContext:ht,retryLane:1073741824},ht=Bg(18,null,null,0),ht.stateNode=$,ht.return=_e,_e.child=ht,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$4){var $=yg;if($){var ht=$;if(!Cg(_e,$)){if(Dg(_e))throw Error(p$4(418));$=Lf(ht.nextSibling);var vt=xg;$&&Cg(_e,$)?Ag(vt,ht):(_e.flags=_e.flags&-4097|2,I$4=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$4(418));_e.flags=_e.flags&-4097|2,I$4=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$4)return Fg(_e),I$4=!0,!1;var $;if(($=_e.tag!==3)&&!($=_e.tag!==5)&&($=_e.type,$=$!=="head"&&$!=="body"&&!Ef(_e.type,_e.memoizedProps)),$&&($=yg)){if(Dg(_e))throw Hg(),Error(p$4(418));for(;$;)Ag(_e,$),$=Lf($.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$4(317));e:{for(_e=_e.nextSibling,$=0;_e;){if(_e.nodeType===8){var ht=_e.data;if(ht==="/$"){if($===0){yg=Lf(_e.nextSibling);break e}$--}else ht!=="$"&&ht!=="$!"&&ht!=="$?"||$++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,$,ht){if(_e=ht.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(ht._owner){if(ht=ht._owner,ht){if(ht.tag!==1)throw Error(p$4(309));var vt=ht.stateNode}if(!vt)throw Error(p$4(147,_e));var xt=vt,bt=""+_e;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===bt?$.ref:($=function(Et){var _t=xt.refs;Et===null?delete _t[bt]:_t[bt]=Et},$._stringRef=bt,$)}if(typeof _e!="string")throw Error(p$4(284));if(!ht._owner)throw Error(p$4(290,_e))}return _e}function Mg(_e,$){throw _e=Object.prototype.toString.call($),Error(p$4(31,_e==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_e))}function Ng(_e){var $=_e._init;return $(_e._payload)}function Og(_e){function $(Ft,Dt){if(_e){var $t=Ft.deletions;$t===null?(Ft.deletions=[Dt],Ft.flags|=16):$t.push(Dt)}}function ht(Ft,Dt){if(!_e)return null;for(;Dt!==null;)$(Ft,Dt),Dt=Dt.sibling;return null}function vt(Ft,Dt){for(Ft=new Map;Dt!==null;)Dt.key!==null?Ft.set(Dt.key,Dt):Ft.set(Dt.index,Dt),Dt=Dt.sibling;return Ft}function xt(Ft,Dt){return Ft=Pg(Ft,Dt),Ft.index=0,Ft.sibling=null,Ft}function bt(Ft,Dt,$t){return Ft.index=$t,_e?($t=Ft.alternate,$t!==null?($t=$t.index,$t<Dt?(Ft.flags|=2,Dt):$t):(Ft.flags|=2,Dt)):(Ft.flags|=1048576,Dt)}function Et(Ft){return _e&&Ft.alternate===null&&(Ft.flags|=2),Ft}function _t(Ft,Dt,$t,Bt){return Dt===null||Dt.tag!==6?(Dt=Qg($t,Ft.mode,Bt),Dt.return=Ft,Dt):(Dt=xt(Dt,$t),Dt.return=Ft,Dt)}function At(Ft,Dt,$t,Bt){var Nt=$t.type;return Nt===ya?St(Ft,Dt,$t.props.children,Bt,$t.key):Dt!==null&&(Dt.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Ha&&Ng(Nt)===Dt.type)?(Bt=xt(Dt,$t.props),Bt.ref=Lg(Ft,Dt,$t),Bt.return=Ft,Bt):(Bt=Rg($t.type,$t.key,$t.props,null,Ft.mode,Bt),Bt.ref=Lg(Ft,Dt,$t),Bt.return=Ft,Bt)}function Ct(Ft,Dt,$t,Bt){return Dt===null||Dt.tag!==4||Dt.stateNode.containerInfo!==$t.containerInfo||Dt.stateNode.implementation!==$t.implementation?(Dt=Sg($t,Ft.mode,Bt),Dt.return=Ft,Dt):(Dt=xt(Dt,$t.children||[]),Dt.return=Ft,Dt)}function St(Ft,Dt,$t,Bt,Nt){return Dt===null||Dt.tag!==7?(Dt=Tg($t,Ft.mode,Bt,Nt),Dt.return=Ft,Dt):(Dt=xt(Dt,$t),Dt.return=Ft,Dt)}function Rt(Ft,Dt,$t){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number")return Dt=Qg(""+Dt,Ft.mode,$t),Dt.return=Ft,Dt;if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case va:return $t=Rg(Dt.type,Dt.key,Dt.props,null,Ft.mode,$t),$t.ref=Lg(Ft,null,Dt),$t.return=Ft,$t;case wa:return Dt=Sg(Dt,Ft.mode,$t),Dt.return=Ft,Dt;case Ha:var Bt=Dt._init;return Rt(Ft,Bt(Dt._payload),$t)}if(eb(Dt)||Ka(Dt))return Dt=Tg(Dt,Ft.mode,$t,null),Dt.return=Ft,Dt;Mg(Ft,Dt)}return null}function Pt(Ft,Dt,$t,Bt){var Nt=Dt!==null?Dt.key:null;if(typeof $t=="string"&&$t!==""||typeof $t=="number")return Nt!==null?null:_t(Ft,Dt,""+$t,Bt);if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:return $t.key===Nt?At(Ft,Dt,$t,Bt):null;case wa:return $t.key===Nt?Ct(Ft,Dt,$t,Bt):null;case Ha:return Nt=$t._init,Pt(Ft,Dt,Nt($t._payload),Bt)}if(eb($t)||Ka($t))return Nt!==null?null:St(Ft,Dt,$t,Bt,null);Mg(Ft,$t)}return null}function kt(Ft,Dt,$t,Bt,Nt){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number")return Ft=Ft.get($t)||null,_t(Dt,Ft,""+Bt,Nt);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case va:return Ft=Ft.get(Bt.key===null?$t:Bt.key)||null,At(Dt,Ft,Bt,Nt);case wa:return Ft=Ft.get(Bt.key===null?$t:Bt.key)||null,Ct(Dt,Ft,Bt,Nt);case Ha:var Ht=Bt._init;return kt(Ft,Dt,$t,Ht(Bt._payload),Nt)}if(eb(Bt)||Ka(Bt))return Ft=Ft.get($t)||null,St(Dt,Ft,Bt,Nt,null);Mg(Dt,Bt)}return null}function Mt(Ft,Dt,$t,Bt){for(var Nt=null,Ht=null,jt=Dt,zt=Dt=0,Kt=null;jt!==null&&zt<$t.length;zt++){jt.index>zt?(Kt=jt,jt=null):Kt=jt.sibling;var en=Pt(Ft,jt,$t[zt],Bt);if(en===null){jt===null&&(jt=Kt);break}_e&&jt&&en.alternate===null&&$(Ft,jt),Dt=bt(en,Dt,zt),Ht===null?Nt=en:Ht.sibling=en,Ht=en,jt=Kt}if(zt===$t.length)return ht(Ft,jt),I$4&&tg(Ft,zt),Nt;if(jt===null){for(;zt<$t.length;zt++)jt=Rt(Ft,$t[zt],Bt),jt!==null&&(Dt=bt(jt,Dt,zt),Ht===null?Nt=jt:Ht.sibling=jt,Ht=jt);return I$4&&tg(Ft,zt),Nt}for(jt=vt(Ft,jt);zt<$t.length;zt++)Kt=kt(jt,Ft,zt,$t[zt],Bt),Kt!==null&&(_e&&Kt.alternate!==null&&jt.delete(Kt.key===null?zt:Kt.key),Dt=bt(Kt,Dt,zt),Ht===null?Nt=Kt:Ht.sibling=Kt,Ht=Kt);return _e&&jt.forEach(function(Wt){return $(Ft,Wt)}),I$4&&tg(Ft,zt),Nt}function Lt(Ft,Dt,$t,Bt){var Nt=Ka($t);if(typeof Nt!="function")throw Error(p$4(150));if($t=Nt.call($t),$t==null)throw Error(p$4(151));for(var Ht=Nt=null,jt=Dt,zt=Dt=0,Kt=null,en=$t.next();jt!==null&&!en.done;zt++,en=$t.next()){jt.index>zt?(Kt=jt,jt=null):Kt=jt.sibling;var Wt=Pt(Ft,jt,en.value,Bt);if(Wt===null){jt===null&&(jt=Kt);break}_e&&jt&&Wt.alternate===null&&$(Ft,jt),Dt=bt(Wt,Dt,zt),Ht===null?Nt=Wt:Ht.sibling=Wt,Ht=Wt,jt=Kt}if(en.done)return ht(Ft,jt),I$4&&tg(Ft,zt),Nt;if(jt===null){for(;!en.done;zt++,en=$t.next())en=Rt(Ft,en.value,Bt),en!==null&&(Dt=bt(en,Dt,zt),Ht===null?Nt=en:Ht.sibling=en,Ht=en);return I$4&&tg(Ft,zt),Nt}for(jt=vt(Ft,jt);!en.done;zt++,en=$t.next())en=kt(jt,Ft,zt,en.value,Bt),en!==null&&(_e&&en.alternate!==null&&jt.delete(en.key===null?zt:en.key),Dt=bt(en,Dt,zt),Ht===null?Nt=en:Ht.sibling=en,Ht=en);return _e&&jt.forEach(function(Qt){return $(Ft,Qt)}),I$4&&tg(Ft,zt),Nt}function Ot(Ft,Dt,$t,Bt){if(typeof $t=="object"&&$t!==null&&$t.type===ya&&$t.key===null&&($t=$t.props.children),typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:e:{for(var Nt=$t.key,Ht=Dt;Ht!==null;){if(Ht.key===Nt){if(Nt=$t.type,Nt===ya){if(Ht.tag===7){ht(Ft,Ht.sibling),Dt=xt(Ht,$t.props.children),Dt.return=Ft,Ft=Dt;break e}}else if(Ht.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Ha&&Ng(Nt)===Ht.type){ht(Ft,Ht.sibling),Dt=xt(Ht,$t.props),Dt.ref=Lg(Ft,Ht,$t),Dt.return=Ft,Ft=Dt;break e}ht(Ft,Ht);break}else $(Ft,Ht);Ht=Ht.sibling}$t.type===ya?(Dt=Tg($t.props.children,Ft.mode,Bt,$t.key),Dt.return=Ft,Ft=Dt):(Bt=Rg($t.type,$t.key,$t.props,null,Ft.mode,Bt),Bt.ref=Lg(Ft,Dt,$t),Bt.return=Ft,Ft=Bt)}return Et(Ft);case wa:e:{for(Ht=$t.key;Dt!==null;){if(Dt.key===Ht)if(Dt.tag===4&&Dt.stateNode.containerInfo===$t.containerInfo&&Dt.stateNode.implementation===$t.implementation){ht(Ft,Dt.sibling),Dt=xt(Dt,$t.children||[]),Dt.return=Ft,Ft=Dt;break e}else{ht(Ft,Dt);break}else $(Ft,Dt);Dt=Dt.sibling}Dt=Sg($t,Ft.mode,Bt),Dt.return=Ft,Ft=Dt}return Et(Ft);case Ha:return Ht=$t._init,Ot(Ft,Dt,Ht($t._payload),Bt)}if(eb($t))return Mt(Ft,Dt,$t,Bt);if(Ka($t))return Lt(Ft,Dt,$t,Bt);Mg(Ft,$t)}return typeof $t=="string"&&$t!==""||typeof $t=="number"?($t=""+$t,Dt!==null&&Dt.tag===6?(ht(Ft,Dt.sibling),Dt=xt(Dt,$t),Dt.return=Ft,Ft=Dt):(ht(Ft,Dt),Dt=Qg($t,Ft.mode,Bt),Dt.return=Ft,Ft=Dt),Et(Ft)):ht(Ft,Dt)}return Ot}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_e){var $=Wg.current;E$1(Wg),_e._currentValue=$}function bh(_e,$,ht){for(;_e!==null;){var vt=_e.alternate;if((_e.childLanes&$)!==$?(_e.childLanes|=$,vt!==null&&(vt.childLanes|=$)):vt!==null&&(vt.childLanes&$)!==$&&(vt.childLanes|=$),_e===ht)break;_e=_e.return}}function ch(_e,$){Xg=_e,Zg=Yg=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&$&&(dh=!0),_e.firstContext=null)}function eh(_e){var $=_e._currentValue;if(Zg!==_e)if(_e={context:_e,memoizedValue:$,next:null},Yg===null){if(Xg===null)throw Error(p$4(308));Yg=_e,Xg.dependencies={lanes:0,firstContext:_e}}else Yg=Yg.next=_e;return $}var fh=null;function gh(_e){fh===null?fh=[_e]:fh.push(_e)}function hh(_e,$,ht,vt){var xt=$.interleaved;return xt===null?(ht.next=ht,gh($)):(ht.next=xt.next,xt.next=ht),$.interleaved=ht,ih(_e,vt)}function ih(_e,$){_e.lanes|=$;var ht=_e.alternate;for(ht!==null&&(ht.lanes|=$),ht=_e,_e=_e.return;_e!==null;)_e.childLanes|=$,ht=_e.alternate,ht!==null&&(ht.childLanes|=$),ht=_e,_e=_e.return;return ht.tag===3?ht.stateNode:null}var jh=!1;function kh(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_e,$){_e=_e.updateQueue,$.updateQueue===_e&&($.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function mh(_e,$){return{eventTime:_e,lane:$,tag:0,payload:null,callback:null,next:null}}function nh(_e,$,ht){var vt=_e.updateQueue;if(vt===null)return null;if(vt=vt.shared,K&2){var xt=vt.pending;return xt===null?$.next=$:($.next=xt.next,xt.next=$),vt.pending=$,ih(_e,ht)}return xt=vt.interleaved,xt===null?($.next=$,gh(vt)):($.next=xt.next,xt.next=$),vt.interleaved=$,ih(_e,ht)}function oh(_e,$,ht){if($=$.updateQueue,$!==null&&($=$.shared,(ht&4194240)!==0)){var vt=$.lanes;vt&=_e.pendingLanes,ht|=vt,$.lanes=ht,Cc(_e,ht)}}function ph(_e,$){var ht=_e.updateQueue,vt=_e.alternate;if(vt!==null&&(vt=vt.updateQueue,ht===vt)){var xt=null,bt=null;if(ht=ht.firstBaseUpdate,ht!==null){do{var Et={eventTime:ht.eventTime,lane:ht.lane,tag:ht.tag,payload:ht.payload,callback:ht.callback,next:null};bt===null?xt=bt=Et:bt=bt.next=Et,ht=ht.next}while(ht!==null);bt===null?xt=bt=$:bt=bt.next=$}else xt=bt=$;ht={baseState:vt.baseState,firstBaseUpdate:xt,lastBaseUpdate:bt,shared:vt.shared,effects:vt.effects},_e.updateQueue=ht;return}_e=ht.lastBaseUpdate,_e===null?ht.firstBaseUpdate=$:_e.next=$,ht.lastBaseUpdate=$}function qh(_e,$,ht,vt){var xt=_e.updateQueue;jh=!1;var bt=xt.firstBaseUpdate,Et=xt.lastBaseUpdate,_t=xt.shared.pending;if(_t!==null){xt.shared.pending=null;var At=_t,Ct=At.next;At.next=null,Et===null?bt=Ct:Et.next=Ct,Et=At;var St=_e.alternate;St!==null&&(St=St.updateQueue,_t=St.lastBaseUpdate,_t!==Et&&(_t===null?St.firstBaseUpdate=Ct:_t.next=Ct,St.lastBaseUpdate=At))}if(bt!==null){var Rt=xt.baseState;Et=0,St=Ct=At=null,_t=bt;do{var Pt=_t.lane,kt=_t.eventTime;if((vt&Pt)===Pt){St!==null&&(St=St.next={eventTime:kt,lane:0,tag:_t.tag,payload:_t.payload,callback:_t.callback,next:null});e:{var Mt=_e,Lt=_t;switch(Pt=$,kt=ht,Lt.tag){case 1:if(Mt=Lt.payload,typeof Mt=="function"){Rt=Mt.call(kt,Rt,Pt);break e}Rt=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Lt.payload,Pt=typeof Mt=="function"?Mt.call(kt,Rt,Pt):Mt,Pt==null)break e;Rt=A$3({},Rt,Pt);break e;case 2:jh=!0}}_t.callback!==null&&_t.lane!==0&&(_e.flags|=64,Pt=xt.effects,Pt===null?xt.effects=[_t]:Pt.push(_t))}else kt={eventTime:kt,lane:Pt,tag:_t.tag,payload:_t.payload,callback:_t.callback,next:null},St===null?(Ct=St=kt,At=Rt):St=St.next=kt,Et|=Pt;if(_t=_t.next,_t===null){if(_t=xt.shared.pending,_t===null)break;Pt=_t,_t=Pt.next,Pt.next=null,xt.lastBaseUpdate=Pt,xt.shared.pending=null}}while(!0);if(St===null&&(At=Rt),xt.baseState=At,xt.firstBaseUpdate=Ct,xt.lastBaseUpdate=St,$=xt.shared.interleaved,$!==null){xt=$;do Et|=xt.lane,xt=xt.next;while(xt!==$)}else bt===null&&(xt.shared.lanes=0);rh|=Et,_e.lanes=Et,_e.memoizedState=Rt}}function sh(_e,$,ht){if(_e=$.effects,$.effects=null,_e!==null)for($=0;$<_e.length;$++){var vt=_e[$],xt=vt.callback;if(xt!==null){if(vt.callback=null,vt=ht,typeof xt!="function")throw Error(p$4(191,xt));xt.call(vt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(_e){if(_e===th)throw Error(p$4(174));return _e}function yh(_e,$){switch(G$2(wh,$),G$2(vh,_e),G$2(uh,th),_e=$.nodeType,_e){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:_e=_e===8?$.parentNode:$,$=_e.namespaceURI||null,_e=_e.tagName,$=lb($,_e)}E$1(uh),G$2(uh,$)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(_e){xh(wh.current);var $=xh(uh.current),ht=lb($,_e.type);$!==ht&&(G$2(vh,_e),G$2(uh,ht))}function Bh(_e){vh.current===_e&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(_e){for(var $=_e;$!==null;){if($.tag===13){var ht=$.memoizedState;if(ht!==null&&(ht=ht.dehydrated,ht===null||ht.data==="$?"||ht.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Dh=[];function Eh(){for(var _e=0;_e<Dh.length;_e++)Dh[_e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$3=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$4(321))}function Mh(_e,$){if($===null)return!1;for(var ht=0;ht<$.length&&ht<_e.length;ht++)if(!He(_e[ht],$[ht]))return!1;return!0}function Nh(_e,$,ht,vt,xt,bt){if(Hh=bt,M$3=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Fh.current=_e===null||_e.memoizedState===null?Oh:Ph,_e=ht(vt,xt),Jh){bt=0;do{if(Jh=!1,Kh=0,25<=bt)throw Error(p$4(301));bt+=1,O$2=N$3=null,$.updateQueue=null,Fh.current=Qh,_e=ht(vt,xt)}while(Jh)}if(Fh.current=Rh,$=N$3!==null&&N$3.next!==null,Hh=0,O$2=N$3=M$3=null,Ih=!1,$)throw Error(p$4(300));return _e}function Sh(){var _e=Kh!==0;return Kh=0,_e}function Th(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$3.memoizedState=O$2=_e:O$2=O$2.next=_e,O$2}function Uh(){if(N$3===null){var _e=M$3.alternate;_e=_e!==null?_e.memoizedState:null}else _e=N$3.next;var $=O$2===null?M$3.memoizedState:O$2.next;if($!==null)O$2=$,N$3=_e;else{if(_e===null)throw Error(p$4(310));N$3=_e,_e={memoizedState:N$3.memoizedState,baseState:N$3.baseState,baseQueue:N$3.baseQueue,queue:N$3.queue,next:null},O$2===null?M$3.memoizedState=O$2=_e:O$2=O$2.next=_e}return O$2}function Vh(_e,$){return typeof $=="function"?$(_e):$}function Wh(_e){var $=Uh(),ht=$.queue;if(ht===null)throw Error(p$4(311));ht.lastRenderedReducer=_e;var vt=N$3,xt=vt.baseQueue,bt=ht.pending;if(bt!==null){if(xt!==null){var Et=xt.next;xt.next=bt.next,bt.next=Et}vt.baseQueue=xt=bt,ht.pending=null}if(xt!==null){bt=xt.next,vt=vt.baseState;var _t=Et=null,At=null,Ct=bt;do{var St=Ct.lane;if((Hh&St)===St)At!==null&&(At=At.next={lane:0,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null}),vt=Ct.hasEagerState?Ct.eagerState:_e(vt,Ct.action);else{var Rt={lane:St,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null};At===null?(_t=At=Rt,Et=vt):At=At.next=Rt,M$3.lanes|=St,rh|=St}Ct=Ct.next}while(Ct!==null&&Ct!==bt);At===null?Et=vt:At.next=_t,He(vt,$.memoizedState)||(dh=!0),$.memoizedState=vt,$.baseState=Et,$.baseQueue=At,ht.lastRenderedState=vt}if(_e=ht.interleaved,_e!==null){xt=_e;do bt=xt.lane,M$3.lanes|=bt,rh|=bt,xt=xt.next;while(xt!==_e)}else xt===null&&(ht.lanes=0);return[$.memoizedState,ht.dispatch]}function Xh(_e){var $=Uh(),ht=$.queue;if(ht===null)throw Error(p$4(311));ht.lastRenderedReducer=_e;var vt=ht.dispatch,xt=ht.pending,bt=$.memoizedState;if(xt!==null){ht.pending=null;var Et=xt=xt.next;do bt=_e(bt,Et.action),Et=Et.next;while(Et!==xt);He(bt,$.memoizedState)||(dh=!0),$.memoizedState=bt,$.baseQueue===null&&($.baseState=bt),ht.lastRenderedState=bt}return[bt,vt]}function Yh(){}function Zh(_e,$){var ht=M$3,vt=Uh(),xt=$(),bt=!He(vt.memoizedState,xt);if(bt&&(vt.memoizedState=xt,dh=!0),vt=vt.queue,$h(ai.bind(null,ht,vt,_e),[_e]),vt.getSnapshot!==$||bt||O$2!==null&&O$2.memoizedState.tag&1){if(ht.flags|=2048,bi(9,ci.bind(null,ht,vt,xt,$),void 0,null),Q===null)throw Error(p$4(349));Hh&30||di(ht,$,xt)}return xt}function di(_e,$,ht){_e.flags|=16384,_e={getSnapshot:$,value:ht},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.stores=[_e]):(ht=$.stores,ht===null?$.stores=[_e]:ht.push(_e))}function ci(_e,$,ht,vt){$.value=ht,$.getSnapshot=vt,ei($)&&fi(_e)}function ai(_e,$,ht){return ht(function(){ei($)&&fi(_e)})}function ei(_e){var $=_e.getSnapshot;_e=_e.value;try{var ht=$();return!He(_e,ht)}catch{return!0}}function fi(_e){var $=ih(_e,1);$!==null&&gi($,_e,1,-1)}function hi(_e){var $=Th();return typeof _e=="function"&&(_e=_e()),$.memoizedState=$.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_e},$.queue=_e,_e=_e.dispatch=ii.bind(null,M$3,_e),[$.memoizedState,_e]}function bi(_e,$,ht,vt){return _e={tag:_e,create:$,destroy:ht,deps:vt,next:null},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.lastEffect=_e.next=_e):(ht=$.lastEffect,ht===null?$.lastEffect=_e.next=_e:(vt=ht.next,ht.next=_e,_e.next=vt,$.lastEffect=_e)),_e}function ji(){return Uh().memoizedState}function ki(_e,$,ht,vt){var xt=Th();M$3.flags|=_e,xt.memoizedState=bi(1|$,ht,void 0,vt===void 0?null:vt)}function li(_e,$,ht,vt){var xt=Uh();vt=vt===void 0?null:vt;var bt=void 0;if(N$3!==null){var Et=N$3.memoizedState;if(bt=Et.destroy,vt!==null&&Mh(vt,Et.deps)){xt.memoizedState=bi($,ht,bt,vt);return}}M$3.flags|=_e,xt.memoizedState=bi(1|$,ht,bt,vt)}function mi(_e,$){return ki(8390656,8,_e,$)}function $h(_e,$){return li(2048,8,_e,$)}function ni(_e,$){return li(4,2,_e,$)}function oi(_e,$){return li(4,4,_e,$)}function pi(_e,$){if(typeof $=="function")return _e=_e(),$(_e),function(){$(null)};if($!=null)return _e=_e(),$.current=_e,function(){$.current=null}}function qi(_e,$,ht){return ht=ht!=null?ht.concat([_e]):null,li(4,4,pi.bind(null,$,_e),ht)}function ri(){}function si(_e,$){var ht=Uh();$=$===void 0?null:$;var vt=ht.memoizedState;return vt!==null&&$!==null&&Mh($,vt[1])?vt[0]:(ht.memoizedState=[_e,$],_e)}function ti(_e,$){var ht=Uh();$=$===void 0?null:$;var vt=ht.memoizedState;return vt!==null&&$!==null&&Mh($,vt[1])?vt[0]:(_e=_e(),ht.memoizedState=[_e,$],_e)}function ui(_e,$,ht){return Hh&21?(He(ht,$)||(ht=yc(),M$3.lanes|=ht,rh|=ht,_e.baseState=!0),$):(_e.baseState&&(_e.baseState=!1,dh=!0),_e.memoizedState=ht)}function vi(_e,$){var ht=C$1;C$1=ht!==0&&4>ht?ht:4,_e(!0);var vt=Gh.transition;Gh.transition={};try{_e(!1),$()}finally{C$1=ht,Gh.transition=vt}}function wi(){return Uh().memoizedState}function xi(_e,$,ht){var vt=yi(_e);if(ht={lane:vt,action:ht,hasEagerState:!1,eagerState:null,next:null},zi(_e))Ai($,ht);else if(ht=hh(_e,$,ht,vt),ht!==null){var xt=R$1();gi(ht,_e,vt,xt),Bi(ht,$,vt)}}function ii(_e,$,ht){var vt=yi(_e),xt={lane:vt,action:ht,hasEagerState:!1,eagerState:null,next:null};if(zi(_e))Ai($,xt);else{var bt=_e.alternate;if(_e.lanes===0&&(bt===null||bt.lanes===0)&&(bt=$.lastRenderedReducer,bt!==null))try{var Et=$.lastRenderedState,_t=bt(Et,ht);if(xt.hasEagerState=!0,xt.eagerState=_t,He(_t,Et)){var At=$.interleaved;At===null?(xt.next=xt,gh($)):(xt.next=At.next,At.next=xt),$.interleaved=xt;return}}catch{}finally{}ht=hh(_e,$,xt,vt),ht!==null&&(xt=R$1(),gi(ht,_e,vt,xt),Bi(ht,$,vt))}}function zi(_e){var $=_e.alternate;return _e===M$3||$!==null&&$===M$3}function Ai(_e,$){Jh=Ih=!0;var ht=_e.pending;ht===null?$.next=$:($.next=ht.next,ht.next=$),_e.pending=$}function Bi(_e,$,ht){if(ht&4194240){var vt=$.lanes;vt&=_e.pendingLanes,ht|=vt,$.lanes=ht,Cc(_e,ht)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_e,$){return Th().memoizedState=[_e,$===void 0?null:$],_e},useContext:eh,useEffect:mi,useImperativeHandle:function(_e,$,ht){return ht=ht!=null?ht.concat([_e]):null,ki(4194308,4,pi.bind(null,$,_e),ht)},useLayoutEffect:function(_e,$){return ki(4194308,4,_e,$)},useInsertionEffect:function(_e,$){return ki(4,2,_e,$)},useMemo:function(_e,$){var ht=Th();return $=$===void 0?null:$,_e=_e(),ht.memoizedState=[_e,$],_e},useReducer:function(_e,$,ht){var vt=Th();return $=ht!==void 0?ht($):$,vt.memoizedState=vt.baseState=$,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:$},vt.queue=_e,_e=_e.dispatch=xi.bind(null,M$3,_e),[vt.memoizedState,_e]},useRef:function(_e){var $=Th();return _e={current:_e},$.memoizedState=_e},useState:hi,useDebugValue:ri,useDeferredValue:function(_e){return Th().memoizedState=_e},useTransition:function(){var _e=hi(!1),$=_e[0];return _e=vi.bind(null,_e[1]),Th().memoizedState=_e,[$,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,$,ht){var vt=M$3,xt=Th();if(I$4){if(ht===void 0)throw Error(p$4(407));ht=ht()}else{if(ht=$(),Q===null)throw Error(p$4(349));Hh&30||di(vt,$,ht)}xt.memoizedState=ht;var bt={value:ht,getSnapshot:$};return xt.queue=bt,mi(ai.bind(null,vt,bt,_e),[_e]),vt.flags|=2048,bi(9,ci.bind(null,vt,bt,ht,$),void 0,null),ht},useId:function(){var _e=Th(),$=Q.identifierPrefix;if(I$4){var ht=sg,vt=rg;ht=(vt&~(1<<32-oc(vt)-1)).toString(32)+ht,$=":"+$+"R"+ht,ht=Kh++,0<ht&&($+="H"+ht.toString(32)),$+=":"}else ht=Lh++,$=":"+$+"r"+ht.toString(32)+":";return _e.memoizedState=$},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var $=Uh();return ui($,N$3.memoizedState,_e)},useTransition:function(){var _e=Wh(Vh)[0],$=Uh().memoizedState;return[_e,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var $=Uh();return N$3===null?$.memoizedState=_e:ui($,N$3.memoizedState,_e)},useTransition:function(){var _e=Xh(Vh)[0],$=Uh().memoizedState;return[_e,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_e,$){if(_e&&_e.defaultProps){$=A$3({},$),_e=_e.defaultProps;for(var ht in _e)$[ht]===void 0&&($[ht]=_e[ht]);return $}return $}function Di(_e,$,ht,vt){$=_e.memoizedState,ht=ht(vt,$),ht=ht==null?$:A$3({},$,ht),_e.memoizedState=ht,_e.lanes===0&&(_e.updateQueue.baseState=ht)}var Ei={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,$,ht){_e=_e._reactInternals;var vt=R$1(),xt=yi(_e),bt=mh(vt,xt);bt.payload=$,ht!=null&&(bt.callback=ht),$=nh(_e,bt,xt),$!==null&&(gi($,_e,xt,vt),oh($,_e,xt))},enqueueReplaceState:function(_e,$,ht){_e=_e._reactInternals;var vt=R$1(),xt=yi(_e),bt=mh(vt,xt);bt.tag=1,bt.payload=$,ht!=null&&(bt.callback=ht),$=nh(_e,bt,xt),$!==null&&(gi($,_e,xt,vt),oh($,_e,xt))},enqueueForceUpdate:function(_e,$){_e=_e._reactInternals;var ht=R$1(),vt=yi(_e),xt=mh(ht,vt);xt.tag=2,$!=null&&(xt.callback=$),$=nh(_e,xt,vt),$!==null&&(gi($,_e,vt,ht),oh($,_e,vt))}};function Fi(_e,$,ht,vt,xt,bt,Et){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(vt,bt,Et):$.prototype&&$.prototype.isPureReactComponent?!Ie(ht,vt)||!Ie(xt,bt):!0}function Gi(_e,$,ht){var vt=!1,xt=Vf,bt=$.contextType;return typeof bt=="object"&&bt!==null?bt=eh(bt):(xt=Zf($)?Xf:H$2.current,vt=$.contextTypes,bt=(vt=vt!=null)?Yf(_e,xt):Vf),$=new $(ht,bt),_e.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=Ei,_e.stateNode=$,$._reactInternals=_e,vt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=xt,_e.__reactInternalMemoizedMaskedChildContext=bt),$}function Hi(_e,$,ht,vt){_e=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(ht,vt),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(ht,vt),$.state!==_e&&Ei.enqueueReplaceState($,$.state,null)}function Ii(_e,$,ht,vt){var xt=_e.stateNode;xt.props=ht,xt.state=_e.memoizedState,xt.refs={},kh(_e);var bt=$.contextType;typeof bt=="object"&&bt!==null?xt.context=eh(bt):(bt=Zf($)?Xf:H$2.current,xt.context=Yf(_e,bt)),xt.state=_e.memoizedState,bt=$.getDerivedStateFromProps,typeof bt=="function"&&(Di(_e,$,bt,ht),xt.state=_e.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof xt.getSnapshotBeforeUpdate=="function"||typeof xt.UNSAFE_componentWillMount!="function"&&typeof xt.componentWillMount!="function"||($=xt.state,typeof xt.componentWillMount=="function"&&xt.componentWillMount(),typeof xt.UNSAFE_componentWillMount=="function"&&xt.UNSAFE_componentWillMount(),$!==xt.state&&Ei.enqueueReplaceState(xt,xt.state,null),qh(_e,ht,xt,vt),xt.state=_e.memoizedState),typeof xt.componentDidMount=="function"&&(_e.flags|=4194308)}function Ji(_e,$){try{var ht="",vt=$;do ht+=Pa(vt),vt=vt.return;while(vt);var xt=ht}catch(bt){xt=`
Error generating stack: `+bt.message+`
`+bt.stack}return{value:_e,source:$,stack:xt,digest:null}}function Ki(_e,$,ht){return{value:_e,source:null,stack:ht??null,digest:$??null}}function Li(_e,$){try{console.error($.value)}catch(ht){setTimeout(function(){throw ht})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_e,$,ht){ht=mh(-1,ht),ht.tag=3,ht.payload={element:null};var vt=$.value;return ht.callback=function(){Oi||(Oi=!0,Pi=vt),Li(_e,$)},ht}function Qi(_e,$,ht){ht=mh(-1,ht),ht.tag=3;var vt=_e.type.getDerivedStateFromError;if(typeof vt=="function"){var xt=$.value;ht.payload=function(){return vt(xt)},ht.callback=function(){Li(_e,$)}}var bt=_e.stateNode;return bt!==null&&typeof bt.componentDidCatch=="function"&&(ht.callback=function(){Li(_e,$),typeof vt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var Et=$.stack;this.componentDidCatch($.value,{componentStack:Et!==null?Et:""})}),ht}function Si(_e,$,ht){var vt=_e.pingCache;if(vt===null){vt=_e.pingCache=new Mi;var xt=new Set;vt.set($,xt)}else xt=vt.get($),xt===void 0&&(xt=new Set,vt.set($,xt));xt.has(ht)||(xt.add(ht),_e=Ti.bind(null,_e,$,ht),$.then(_e,_e))}function Ui(_e){do{var $;if(($=_e.tag===13)&&($=_e.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return _e;_e=_e.return}while(_e!==null);return null}function Vi(_e,$,ht,vt,xt){return _e.mode&1?(_e.flags|=65536,_e.lanes=xt,_e):(_e===$?_e.flags|=65536:(_e.flags|=128,ht.flags|=131072,ht.flags&=-52805,ht.tag===1&&(ht.alternate===null?ht.tag=17:($=mh(-1,1),$.tag=2,nh(ht,$,1))),ht.lanes|=1),_e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(_e,$,ht,vt){$.child=_e===null?Vg($,null,ht,vt):Ug($,_e.child,ht,vt)}function Yi(_e,$,ht,vt,xt){ht=ht.render;var bt=$.ref;return ch($,xt),vt=Nh(_e,$,ht,vt,bt,xt),ht=Sh(),_e!==null&&!dh?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~xt,Zi(_e,$,xt)):(I$4&&ht&&vg($),$.flags|=1,Xi(_e,$,vt,xt),$.child)}function $i(_e,$,ht,vt,xt){if(_e===null){var bt=ht.type;return typeof bt=="function"&&!aj(bt)&&bt.defaultProps===void 0&&ht.compare===null&&ht.defaultProps===void 0?($.tag=15,$.type=bt,bj(_e,$,bt,vt,xt)):(_e=Rg(ht.type,null,vt,$,$.mode,xt),_e.ref=$.ref,_e.return=$,$.child=_e)}if(bt=_e.child,!(_e.lanes&xt)){var Et=bt.memoizedProps;if(ht=ht.compare,ht=ht!==null?ht:Ie,ht(Et,vt)&&_e.ref===$.ref)return Zi(_e,$,xt)}return $.flags|=1,_e=Pg(bt,vt),_e.ref=$.ref,_e.return=$,$.child=_e}function bj(_e,$,ht,vt,xt){if(_e!==null){var bt=_e.memoizedProps;if(Ie(bt,vt)&&_e.ref===$.ref)if(dh=!1,$.pendingProps=vt=bt,(_e.lanes&xt)!==0)_e.flags&131072&&(dh=!0);else return $.lanes=_e.lanes,Zi(_e,$,xt)}return cj(_e,$,ht,vt,xt)}function dj(_e,$,ht){var vt=$.pendingProps,xt=vt.children,bt=_e!==null?_e.memoizedState:null;if(vt.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=ht;else{if(!(ht&1073741824))return _e=bt!==null?bt.baseLanes|ht:ht,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:_e,cachePool:null,transitions:null},$.updateQueue=null,G$2(ej,fj),fj|=_e,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt=bt!==null?bt.baseLanes:ht,G$2(ej,fj),fj|=vt}else bt!==null?(vt=bt.baseLanes|ht,$.memoizedState=null):vt=ht,G$2(ej,fj),fj|=vt;return Xi(_e,$,xt,ht),$.child}function gj(_e,$){var ht=$.ref;(_e===null&&ht!==null||_e!==null&&_e.ref!==ht)&&($.flags|=512,$.flags|=2097152)}function cj(_e,$,ht,vt,xt){var bt=Zf(ht)?Xf:H$2.current;return bt=Yf($,bt),ch($,xt),ht=Nh(_e,$,ht,vt,bt,xt),vt=Sh(),_e!==null&&!dh?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~xt,Zi(_e,$,xt)):(I$4&&vt&&vg($),$.flags|=1,Xi(_e,$,ht,xt),$.child)}function hj(_e,$,ht,vt,xt){if(Zf(ht)){var bt=!0;cg($)}else bt=!1;if(ch($,xt),$.stateNode===null)ij(_e,$),Gi($,ht,vt),Ii($,ht,vt,xt),vt=!0;else if(_e===null){var Et=$.stateNode,_t=$.memoizedProps;Et.props=_t;var At=Et.context,Ct=ht.contextType;typeof Ct=="object"&&Ct!==null?Ct=eh(Ct):(Ct=Zf(ht)?Xf:H$2.current,Ct=Yf($,Ct));var St=ht.getDerivedStateFromProps,Rt=typeof St=="function"||typeof Et.getSnapshotBeforeUpdate=="function";Rt||typeof Et.UNSAFE_componentWillReceiveProps!="function"&&typeof Et.componentWillReceiveProps!="function"||(_t!==vt||At!==Ct)&&Hi($,Et,vt,Ct),jh=!1;var Pt=$.memoizedState;Et.state=Pt,qh($,vt,Et,xt),At=$.memoizedState,_t!==vt||Pt!==At||Wf.current||jh?(typeof St=="function"&&(Di($,ht,St,vt),At=$.memoizedState),(_t=jh||Fi($,ht,_t,vt,Pt,At,Ct))?(Rt||typeof Et.UNSAFE_componentWillMount!="function"&&typeof Et.componentWillMount!="function"||(typeof Et.componentWillMount=="function"&&Et.componentWillMount(),typeof Et.UNSAFE_componentWillMount=="function"&&Et.UNSAFE_componentWillMount()),typeof Et.componentDidMount=="function"&&($.flags|=4194308)):(typeof Et.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=vt,$.memoizedState=At),Et.props=vt,Et.state=At,Et.context=Ct,vt=_t):(typeof Et.componentDidMount=="function"&&($.flags|=4194308),vt=!1)}else{Et=$.stateNode,lh(_e,$),_t=$.memoizedProps,Ct=$.type===$.elementType?_t:Ci($.type,_t),Et.props=Ct,Rt=$.pendingProps,Pt=Et.context,At=ht.contextType,typeof At=="object"&&At!==null?At=eh(At):(At=Zf(ht)?Xf:H$2.current,At=Yf($,At));var kt=ht.getDerivedStateFromProps;(St=typeof kt=="function"||typeof Et.getSnapshotBeforeUpdate=="function")||typeof Et.UNSAFE_componentWillReceiveProps!="function"&&typeof Et.componentWillReceiveProps!="function"||(_t!==Rt||Pt!==At)&&Hi($,Et,vt,At),jh=!1,Pt=$.memoizedState,Et.state=Pt,qh($,vt,Et,xt);var Mt=$.memoizedState;_t!==Rt||Pt!==Mt||Wf.current||jh?(typeof kt=="function"&&(Di($,ht,kt,vt),Mt=$.memoizedState),(Ct=jh||Fi($,ht,Ct,vt,Pt,Mt,At)||!1)?(St||typeof Et.UNSAFE_componentWillUpdate!="function"&&typeof Et.componentWillUpdate!="function"||(typeof Et.componentWillUpdate=="function"&&Et.componentWillUpdate(vt,Mt,At),typeof Et.UNSAFE_componentWillUpdate=="function"&&Et.UNSAFE_componentWillUpdate(vt,Mt,At)),typeof Et.componentDidUpdate=="function"&&($.flags|=4),typeof Et.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof Et.componentDidUpdate!="function"||_t===_e.memoizedProps&&Pt===_e.memoizedState||($.flags|=4),typeof Et.getSnapshotBeforeUpdate!="function"||_t===_e.memoizedProps&&Pt===_e.memoizedState||($.flags|=1024),$.memoizedProps=vt,$.memoizedState=Mt),Et.props=vt,Et.state=Mt,Et.context=At,vt=Ct):(typeof Et.componentDidUpdate!="function"||_t===_e.memoizedProps&&Pt===_e.memoizedState||($.flags|=4),typeof Et.getSnapshotBeforeUpdate!="function"||_t===_e.memoizedProps&&Pt===_e.memoizedState||($.flags|=1024),vt=!1)}return jj(_e,$,ht,vt,bt,xt)}function jj(_e,$,ht,vt,xt,bt){gj(_e,$);var Et=($.flags&128)!==0;if(!vt&&!Et)return xt&&dg($,ht,!1),Zi(_e,$,bt);vt=$.stateNode,Wi.current=$;var _t=Et&&typeof ht.getDerivedStateFromError!="function"?null:vt.render();return $.flags|=1,_e!==null&&Et?($.child=Ug($,_e.child,null,bt),$.child=Ug($,null,_t,bt)):Xi(_e,$,_t,bt),$.memoizedState=vt.state,xt&&dg($,ht,!0),$.child}function kj(_e){var $=_e.stateNode;$.pendingContext?ag(_e,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(_e,$.context,!1),yh(_e,$.containerInfo)}function lj(_e,$,ht,vt,xt){return Ig(),Jg(xt),$.flags|=256,Xi(_e,$,ht,vt),$.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function oj(_e,$,ht){var vt=$.pendingProps,xt=L$1.current,bt=!1,Et=($.flags&128)!==0,_t;if((_t=Et)||(_t=_e!==null&&_e.memoizedState===null?!1:(xt&2)!==0),_t?(bt=!0,$.flags&=-129):(_e===null||_e.memoizedState!==null)&&(xt|=1),G$2(L$1,xt&1),_e===null)return Eg($),_e=$.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?($.mode&1?_e.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(Et=vt.children,_e=vt.fallback,bt?(vt=$.mode,bt=$.child,Et={mode:"hidden",children:Et},!(vt&1)&&bt!==null?(bt.childLanes=0,bt.pendingProps=Et):bt=pj(Et,vt,0,null),_e=Tg(_e,vt,ht,null),bt.return=$,_e.return=$,bt.sibling=_e,$.child=bt,$.child.memoizedState=nj(ht),$.memoizedState=mj,_e):qj($,Et));if(xt=_e.memoizedState,xt!==null&&(_t=xt.dehydrated,_t!==null))return rj(_e,$,Et,vt,_t,xt,ht);if(bt){bt=vt.fallback,Et=$.mode,xt=_e.child,_t=xt.sibling;var At={mode:"hidden",children:vt.children};return!(Et&1)&&$.child!==xt?(vt=$.child,vt.childLanes=0,vt.pendingProps=At,$.deletions=null):(vt=Pg(xt,At),vt.subtreeFlags=xt.subtreeFlags&14680064),_t!==null?bt=Pg(_t,bt):(bt=Tg(bt,Et,ht,null),bt.flags|=2),bt.return=$,vt.return=$,vt.sibling=bt,$.child=vt,vt=bt,bt=$.child,Et=_e.child.memoizedState,Et=Et===null?nj(ht):{baseLanes:Et.baseLanes|ht,cachePool:null,transitions:Et.transitions},bt.memoizedState=Et,bt.childLanes=_e.childLanes&~ht,$.memoizedState=mj,vt}return bt=_e.child,_e=bt.sibling,vt=Pg(bt,{mode:"visible",children:vt.children}),!($.mode&1)&&(vt.lanes=ht),vt.return=$,vt.sibling=null,_e!==null&&(ht=$.deletions,ht===null?($.deletions=[_e],$.flags|=16):ht.push(_e)),$.child=vt,$.memoizedState=null,vt}function qj(_e,$){return $=pj({mode:"visible",children:$},_e.mode,0,null),$.return=_e,_e.child=$}function sj(_e,$,ht,vt){return vt!==null&&Jg(vt),Ug($,_e.child,null,ht),_e=qj($,$.pendingProps.children),_e.flags|=2,$.memoizedState=null,_e}function rj(_e,$,ht,vt,xt,bt,Et){if(ht)return $.flags&256?($.flags&=-257,vt=Ki(Error(p$4(422))),sj(_e,$,Et,vt)):$.memoizedState!==null?($.child=_e.child,$.flags|=128,null):(bt=vt.fallback,xt=$.mode,vt=pj({mode:"visible",children:vt.children},xt,0,null),bt=Tg(bt,xt,Et,null),bt.flags|=2,vt.return=$,bt.return=$,vt.sibling=bt,$.child=vt,$.mode&1&&Ug($,_e.child,null,Et),$.child.memoizedState=nj(Et),$.memoizedState=mj,bt);if(!($.mode&1))return sj(_e,$,Et,null);if(xt.data==="$!"){if(vt=xt.nextSibling&&xt.nextSibling.dataset,vt)var _t=vt.dgst;return vt=_t,bt=Error(p$4(419)),vt=Ki(bt,vt,void 0),sj(_e,$,Et,vt)}if(_t=(Et&_e.childLanes)!==0,dh||_t){if(vt=Q,vt!==null){switch(Et&-Et){case 4:xt=2;break;case 16:xt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:xt=32;break;case 536870912:xt=268435456;break;default:xt=0}xt=xt&(vt.suspendedLanes|Et)?0:xt,xt!==0&&xt!==bt.retryLane&&(bt.retryLane=xt,ih(_e,xt),gi(vt,_e,xt,-1))}return tj(),vt=Ki(Error(p$4(421))),sj(_e,$,Et,vt)}return xt.data==="$?"?($.flags|=128,$.child=_e.child,$=uj.bind(null,_e),xt._reactRetry=$,null):(_e=bt.treeContext,yg=Lf(xt.nextSibling),xg=$,I$4=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=$),$=qj($,vt.children),$.flags|=4096,$)}function vj(_e,$,ht){_e.lanes|=$;var vt=_e.alternate;vt!==null&&(vt.lanes|=$),bh(_e.return,$,ht)}function wj(_e,$,ht,vt,xt){var bt=_e.memoizedState;bt===null?_e.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:vt,tail:ht,tailMode:xt}:(bt.isBackwards=$,bt.rendering=null,bt.renderingStartTime=0,bt.last=vt,bt.tail=ht,bt.tailMode=xt)}function xj(_e,$,ht){var vt=$.pendingProps,xt=vt.revealOrder,bt=vt.tail;if(Xi(_e,$,vt.children,ht),vt=L$1.current,vt&2)vt=vt&1|2,$.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=$.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&vj(_e,ht,$);else if(_e.tag===19)vj(_e,ht,$);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}vt&=1}if(G$2(L$1,vt),!($.mode&1))$.memoizedState=null;else switch(xt){case"forwards":for(ht=$.child,xt=null;ht!==null;)_e=ht.alternate,_e!==null&&Ch(_e)===null&&(xt=ht),ht=ht.sibling;ht=xt,ht===null?(xt=$.child,$.child=null):(xt=ht.sibling,ht.sibling=null),wj($,!1,xt,ht,bt);break;case"backwards":for(ht=null,xt=$.child,$.child=null;xt!==null;){if(_e=xt.alternate,_e!==null&&Ch(_e)===null){$.child=xt;break}_e=xt.sibling,xt.sibling=ht,ht=xt,xt=_e}wj($,!0,ht,null,bt);break;case"together":wj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function ij(_e,$){!($.mode&1)&&_e!==null&&(_e.alternate=null,$.alternate=null,$.flags|=2)}function Zi(_e,$,ht){if(_e!==null&&($.dependencies=_e.dependencies),rh|=$.lanes,!(ht&$.childLanes))return null;if(_e!==null&&$.child!==_e.child)throw Error(p$4(153));if($.child!==null){for(_e=$.child,ht=Pg(_e,_e.pendingProps),$.child=ht,ht.return=$;_e.sibling!==null;)_e=_e.sibling,ht=ht.sibling=Pg(_e,_e.pendingProps),ht.return=$;ht.sibling=null}return $.child}function yj(_e,$,ht){switch($.tag){case 3:kj($),Ig();break;case 5:Ah($);break;case 1:Zf($.type)&&cg($);break;case 4:yh($,$.stateNode.containerInfo);break;case 10:var vt=$.type._context,xt=$.memoizedProps.value;G$2(Wg,vt._currentValue),vt._currentValue=xt;break;case 13:if(vt=$.memoizedState,vt!==null)return vt.dehydrated!==null?(G$2(L$1,L$1.current&1),$.flags|=128,null):ht&$.child.childLanes?oj(_e,$,ht):(G$2(L$1,L$1.current&1),_e=Zi(_e,$,ht),_e!==null?_e.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(vt=(ht&$.childLanes)!==0,_e.flags&128){if(vt)return xj(_e,$,ht);$.flags|=128}if(xt=$.memoizedState,xt!==null&&(xt.rendering=null,xt.tail=null,xt.lastEffect=null),G$2(L$1,L$1.current),vt)break;return null;case 22:case 23:return $.lanes=0,dj(_e,$,ht)}return Zi(_e,$,ht)}var zj,Aj,Bj,Cj;zj=function(_e,$){for(var ht=$.child;ht!==null;){if(ht.tag===5||ht.tag===6)_e.appendChild(ht.stateNode);else if(ht.tag!==4&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===$)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===$)return;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}};Aj=function(){};Bj=function(_e,$,ht,vt){var xt=_e.memoizedProps;if(xt!==vt){_e=$.stateNode,xh(uh.current);var bt=null;switch(ht){case"input":xt=Ya(_e,xt),vt=Ya(_e,vt),bt=[];break;case"select":xt=A$3({},xt,{value:void 0}),vt=A$3({},vt,{value:void 0}),bt=[];break;case"textarea":xt=gb(_e,xt),vt=gb(_e,vt),bt=[];break;default:typeof xt.onClick!="function"&&typeof vt.onClick=="function"&&(_e.onclick=Bf)}ub(ht,vt);var Et;ht=null;for(Ct in xt)if(!vt.hasOwnProperty(Ct)&&xt.hasOwnProperty(Ct)&&xt[Ct]!=null)if(Ct==="style"){var _t=xt[Ct];for(Et in _t)_t.hasOwnProperty(Et)&&(ht||(ht={}),ht[Et]="")}else Ct!=="dangerouslySetInnerHTML"&&Ct!=="children"&&Ct!=="suppressContentEditableWarning"&&Ct!=="suppressHydrationWarning"&&Ct!=="autoFocus"&&(ea.hasOwnProperty(Ct)?bt||(bt=[]):(bt=bt||[]).push(Ct,null));for(Ct in vt){var At=vt[Ct];if(_t=xt!=null?xt[Ct]:void 0,vt.hasOwnProperty(Ct)&&At!==_t&&(At!=null||_t!=null))if(Ct==="style")if(_t){for(Et in _t)!_t.hasOwnProperty(Et)||At&&At.hasOwnProperty(Et)||(ht||(ht={}),ht[Et]="");for(Et in At)At.hasOwnProperty(Et)&&_t[Et]!==At[Et]&&(ht||(ht={}),ht[Et]=At[Et])}else ht||(bt||(bt=[]),bt.push(Ct,ht)),ht=At;else Ct==="dangerouslySetInnerHTML"?(At=At?At.__html:void 0,_t=_t?_t.__html:void 0,At!=null&&_t!==At&&(bt=bt||[]).push(Ct,At)):Ct==="children"?typeof At!="string"&&typeof At!="number"||(bt=bt||[]).push(Ct,""+At):Ct!=="suppressContentEditableWarning"&&Ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Ct)?(At!=null&&Ct==="onScroll"&&D$4("scroll",_e),bt||_t===At||(bt=[])):(bt=bt||[]).push(Ct,At))}ht&&(bt=bt||[]).push("style",ht);var Ct=bt;($.updateQueue=Ct)&&($.flags|=4)}};Cj=function(_e,$,ht,vt){ht!==vt&&($.flags|=4)};function Dj(_e,$){if(!I$4)switch(_e.tailMode){case"hidden":$=_e.tail;for(var ht=null;$!==null;)$.alternate!==null&&(ht=$),$=$.sibling;ht===null?_e.tail=null:ht.sibling=null;break;case"collapsed":ht=_e.tail;for(var vt=null;ht!==null;)ht.alternate!==null&&(vt=ht),ht=ht.sibling;vt===null?$||_e.tail===null?_e.tail=null:_e.tail.sibling=null:vt.sibling=null}}function S$4(_e){var $=_e.alternate!==null&&_e.alternate.child===_e.child,ht=0,vt=0;if($)for(var xt=_e.child;xt!==null;)ht|=xt.lanes|xt.childLanes,vt|=xt.subtreeFlags&14680064,vt|=xt.flags&14680064,xt.return=_e,xt=xt.sibling;else for(xt=_e.child;xt!==null;)ht|=xt.lanes|xt.childLanes,vt|=xt.subtreeFlags,vt|=xt.flags,xt.return=_e,xt=xt.sibling;return _e.subtreeFlags|=vt,_e.childLanes=ht,$}function Ej(_e,$,ht){var vt=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4($),null;case 1:return Zf($.type)&&$f(),S$4($),null;case 3:return vt=$.stateNode,zh(),E$1(Wf),E$1(H$2),Eh(),vt.pendingContext&&(vt.context=vt.pendingContext,vt.pendingContext=null),(_e===null||_e.child===null)&&(Gg($)?$.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_e,$),S$4($),null;case 5:Bh($);var xt=xh(wh.current);if(ht=$.type,_e!==null&&$.stateNode!=null)Bj(_e,$,ht,vt,xt),_e.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!vt){if($.stateNode===null)throw Error(p$4(166));return S$4($),null}if(_e=xh(uh.current),Gg($)){vt=$.stateNode,ht=$.type;var bt=$.memoizedProps;switch(vt[Of]=$,vt[Pf]=bt,_e=($.mode&1)!==0,ht){case"dialog":D$4("cancel",vt),D$4("close",vt);break;case"iframe":case"object":case"embed":D$4("load",vt);break;case"video":case"audio":for(xt=0;xt<lf.length;xt++)D$4(lf[xt],vt);break;case"source":D$4("error",vt);break;case"img":case"image":case"link":D$4("error",vt),D$4("load",vt);break;case"details":D$4("toggle",vt);break;case"input":Za(vt,bt),D$4("invalid",vt);break;case"select":vt._wrapperState={wasMultiple:!!bt.multiple},D$4("invalid",vt);break;case"textarea":hb(vt,bt),D$4("invalid",vt)}ub(ht,bt),xt=null;for(var Et in bt)if(bt.hasOwnProperty(Et)){var _t=bt[Et];Et==="children"?typeof _t=="string"?vt.textContent!==_t&&(bt.suppressHydrationWarning!==!0&&Af(vt.textContent,_t,_e),xt=["children",_t]):typeof _t=="number"&&vt.textContent!==""+_t&&(bt.suppressHydrationWarning!==!0&&Af(vt.textContent,_t,_e),xt=["children",""+_t]):ea.hasOwnProperty(Et)&&_t!=null&&Et==="onScroll"&&D$4("scroll",vt)}switch(ht){case"input":Va(vt),db(vt,bt,!0);break;case"textarea":Va(vt),jb(vt);break;case"select":case"option":break;default:typeof bt.onClick=="function"&&(vt.onclick=Bf)}vt=xt,$.updateQueue=vt,vt!==null&&($.flags|=4)}else{Et=xt.nodeType===9?xt:xt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(ht)),_e==="http://www.w3.org/1999/xhtml"?ht==="script"?(_e=Et.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof vt.is=="string"?_e=Et.createElement(ht,{is:vt.is}):(_e=Et.createElement(ht),ht==="select"&&(Et=_e,vt.multiple?Et.multiple=!0:vt.size&&(Et.size=vt.size))):_e=Et.createElementNS(_e,ht),_e[Of]=$,_e[Pf]=vt,zj(_e,$,!1,!1),$.stateNode=_e;e:{switch(Et=vb(ht,vt),ht){case"dialog":D$4("cancel",_e),D$4("close",_e),xt=vt;break;case"iframe":case"object":case"embed":D$4("load",_e),xt=vt;break;case"video":case"audio":for(xt=0;xt<lf.length;xt++)D$4(lf[xt],_e);xt=vt;break;case"source":D$4("error",_e),xt=vt;break;case"img":case"image":case"link":D$4("error",_e),D$4("load",_e),xt=vt;break;case"details":D$4("toggle",_e),xt=vt;break;case"input":Za(_e,vt),xt=Ya(_e,vt),D$4("invalid",_e);break;case"option":xt=vt;break;case"select":_e._wrapperState={wasMultiple:!!vt.multiple},xt=A$3({},vt,{value:void 0}),D$4("invalid",_e);break;case"textarea":hb(_e,vt),xt=gb(_e,vt),D$4("invalid",_e);break;default:xt=vt}ub(ht,xt),_t=xt;for(bt in _t)if(_t.hasOwnProperty(bt)){var At=_t[bt];bt==="style"?sb(_e,At):bt==="dangerouslySetInnerHTML"?(At=At?At.__html:void 0,At!=null&&nb(_e,At)):bt==="children"?typeof At=="string"?(ht!=="textarea"||At!=="")&&ob(_e,At):typeof At=="number"&&ob(_e,""+At):bt!=="suppressContentEditableWarning"&&bt!=="suppressHydrationWarning"&&bt!=="autoFocus"&&(ea.hasOwnProperty(bt)?At!=null&&bt==="onScroll"&&D$4("scroll",_e):At!=null&&ta(_e,bt,At,Et))}switch(ht){case"input":Va(_e),db(_e,vt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":vt.value!=null&&_e.setAttribute("value",""+Sa(vt.value));break;case"select":_e.multiple=!!vt.multiple,bt=vt.value,bt!=null?fb(_e,!!vt.multiple,bt,!1):vt.defaultValue!=null&&fb(_e,!!vt.multiple,vt.defaultValue,!0);break;default:typeof xt.onClick=="function"&&(_e.onclick=Bf)}switch(ht){case"button":case"input":case"select":case"textarea":vt=!!vt.autoFocus;break e;case"img":vt=!0;break e;default:vt=!1}}vt&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$4($),null;case 6:if(_e&&$.stateNode!=null)Cj(_e,$,_e.memoizedProps,vt);else{if(typeof vt!="string"&&$.stateNode===null)throw Error(p$4(166));if(ht=xh(wh.current),xh(uh.current),Gg($)){if(vt=$.stateNode,ht=$.memoizedProps,vt[Of]=$,(bt=vt.nodeValue!==ht)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(vt.nodeValue,ht,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(vt.nodeValue,ht,(_e.mode&1)!==0)}bt&&($.flags|=4)}else vt=(ht.nodeType===9?ht:ht.ownerDocument).createTextNode(vt),vt[Of]=$,$.stateNode=vt}return S$4($),null;case 13:if(E$1(L$1),vt=$.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,bt=!1;else if(bt=Gg($),vt!==null&&vt.dehydrated!==null){if(_e===null){if(!bt)throw Error(p$4(318));if(bt=$.memoizedState,bt=bt!==null?bt.dehydrated:null,!bt)throw Error(p$4(317));bt[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S$4($),bt=!1}else zg!==null&&(Fj(zg),zg=null),bt=!0;if(!bt)return $.flags&65536?$:null}return $.flags&128?($.lanes=ht,$):(vt=vt!==null,vt!==(_e!==null&&_e.memoizedState!==null)&&vt&&($.child.flags|=8192,$.mode&1&&(_e===null||L$1.current&1?T$3===0&&(T$3=3):tj())),$.updateQueue!==null&&($.flags|=4),S$4($),null);case 4:return zh(),Aj(_e,$),_e===null&&sf($.stateNode.containerInfo),S$4($),null;case 10:return ah($.type._context),S$4($),null;case 17:return Zf($.type)&&$f(),S$4($),null;case 19:if(E$1(L$1),bt=$.memoizedState,bt===null)return S$4($),null;if(vt=($.flags&128)!==0,Et=bt.rendering,Et===null)if(vt)Dj(bt,!1);else{if(T$3!==0||_e!==null&&_e.flags&128)for(_e=$.child;_e!==null;){if(Et=Ch(_e),Et!==null){for($.flags|=128,Dj(bt,!1),vt=Et.updateQueue,vt!==null&&($.updateQueue=vt,$.flags|=4),$.subtreeFlags=0,vt=ht,ht=$.child;ht!==null;)bt=ht,_e=vt,bt.flags&=14680066,Et=bt.alternate,Et===null?(bt.childLanes=0,bt.lanes=_e,bt.child=null,bt.subtreeFlags=0,bt.memoizedProps=null,bt.memoizedState=null,bt.updateQueue=null,bt.dependencies=null,bt.stateNode=null):(bt.childLanes=Et.childLanes,bt.lanes=Et.lanes,bt.child=Et.child,bt.subtreeFlags=0,bt.deletions=null,bt.memoizedProps=Et.memoizedProps,bt.memoizedState=Et.memoizedState,bt.updateQueue=Et.updateQueue,bt.type=Et.type,_e=Et.dependencies,bt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),ht=ht.sibling;return G$2(L$1,L$1.current&1|2),$.child}_e=_e.sibling}bt.tail!==null&&B$1()>Gj&&($.flags|=128,vt=!0,Dj(bt,!1),$.lanes=4194304)}else{if(!vt)if(_e=Ch(Et),_e!==null){if($.flags|=128,vt=!0,ht=_e.updateQueue,ht!==null&&($.updateQueue=ht,$.flags|=4),Dj(bt,!0),bt.tail===null&&bt.tailMode==="hidden"&&!Et.alternate&&!I$4)return S$4($),null}else 2*B$1()-bt.renderingStartTime>Gj&&ht!==1073741824&&($.flags|=128,vt=!0,Dj(bt,!1),$.lanes=4194304);bt.isBackwards?(Et.sibling=$.child,$.child=Et):(ht=bt.last,ht!==null?ht.sibling=Et:$.child=Et,bt.last=Et)}return bt.tail!==null?($=bt.tail,bt.rendering=$,bt.tail=$.sibling,bt.renderingStartTime=B$1(),$.sibling=null,ht=L$1.current,G$2(L$1,vt?ht&1|2:ht&1),$):(S$4($),null);case 22:case 23:return Hj(),vt=$.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==vt&&($.flags|=8192),vt&&$.mode&1?fj&1073741824&&(S$4($),$.subtreeFlags&6&&($.flags|=8192)):S$4($),null;case 24:return null;case 25:return null}throw Error(p$4(156,$.tag))}function Ij(_e,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),_e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 3:return zh(),E$1(Wf),E$1(H$2),Eh(),_e=$.flags,_e&65536&&!(_e&128)?($.flags=_e&-65537|128,$):null;case 5:return Bh($),null;case 13:if(E$1(L$1),_e=$.memoizedState,_e!==null&&_e.dehydrated!==null){if($.alternate===null)throw Error(p$4(340));Ig()}return _e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah($.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$2=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(_e,$){var ht=_e.ref;if(ht!==null)if(typeof ht=="function")try{ht(null)}catch(vt){W$2(_e,$,vt)}else ht.current=null}function Mj(_e,$,ht){try{ht()}catch(vt){W$2(_e,$,vt)}}var Nj=!1;function Oj(_e,$){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var ht={start:_e.selectionStart,end:_e.selectionEnd};else e:{ht=(ht=_e.ownerDocument)&&ht.defaultView||window;var vt=ht.getSelection&&ht.getSelection();if(vt&&vt.rangeCount!==0){ht=vt.anchorNode;var xt=vt.anchorOffset,bt=vt.focusNode;vt=vt.focusOffset;try{ht.nodeType,bt.nodeType}catch{ht=null;break e}var Et=0,_t=-1,At=-1,Ct=0,St=0,Rt=_e,Pt=null;t:for(;;){for(var kt;Rt!==ht||xt!==0&&Rt.nodeType!==3||(_t=Et+xt),Rt!==bt||vt!==0&&Rt.nodeType!==3||(At=Et+vt),Rt.nodeType===3&&(Et+=Rt.nodeValue.length),(kt=Rt.firstChild)!==null;)Pt=Rt,Rt=kt;for(;;){if(Rt===_e)break t;if(Pt===ht&&++Ct===xt&&(_t=Et),Pt===bt&&++St===vt&&(At=Et),(kt=Rt.nextSibling)!==null)break;Rt=Pt,Pt=Rt.parentNode}Rt=kt}ht=_t===-1||At===-1?null:{start:_t,end:At}}else ht=null}ht=ht||{start:0,end:0}}else ht=null;for(Df={focusedElem:_e,selectionRange:ht},dd=!1,V$1=$;V$1!==null;)if($=V$1,_e=$.child,($.subtreeFlags&1028)!==0&&_e!==null)_e.return=$,V$1=_e;else for(;V$1!==null;){$=V$1;try{var Mt=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var Lt=Mt.memoizedProps,Ot=Mt.memoizedState,Ft=$.stateNode,Dt=Ft.getSnapshotBeforeUpdate($.elementType===$.type?Lt:Ci($.type,Lt),Ot);Ft.__reactInternalSnapshotBeforeUpdate=Dt}break;case 3:var $t=$.stateNode.containerInfo;$t.nodeType===1?$t.textContent="":$t.nodeType===9&&$t.documentElement&&$t.removeChild($t.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(Bt){W$2($,$.return,Bt)}if(_e=$.sibling,_e!==null){_e.return=$.return,V$1=_e;break}V$1=$.return}return Mt=Nj,Nj=!1,Mt}function Pj(_e,$,ht){var vt=$.updateQueue;if(vt=vt!==null?vt.lastEffect:null,vt!==null){var xt=vt=vt.next;do{if((xt.tag&_e)===_e){var bt=xt.destroy;xt.destroy=void 0,bt!==void 0&&Mj($,ht,bt)}xt=xt.next}while(xt!==vt)}}function Qj(_e,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var ht=$=$.next;do{if((ht.tag&_e)===_e){var vt=ht.create;ht.destroy=vt()}ht=ht.next}while(ht!==$)}}function Rj(_e){var $=_e.ref;if($!==null){var ht=_e.stateNode;switch(_e.tag){case 5:_e=ht;break;default:_e=ht}typeof $=="function"?$(_e):$.current=_e}}function Sj(_e){var $=_e.alternate;$!==null&&(_e.alternate=null,Sj($)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&($=_e.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Tj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Uj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Tj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Vj(_e,$,ht){var vt=_e.tag;if(vt===5||vt===6)_e=_e.stateNode,$?ht.nodeType===8?ht.parentNode.insertBefore(_e,$):ht.insertBefore(_e,$):(ht.nodeType===8?($=ht.parentNode,$.insertBefore(_e,ht)):($=ht,$.appendChild(_e)),ht=ht._reactRootContainer,ht!=null||$.onclick!==null||($.onclick=Bf));else if(vt!==4&&(_e=_e.child,_e!==null))for(Vj(_e,$,ht),_e=_e.sibling;_e!==null;)Vj(_e,$,ht),_e=_e.sibling}function Wj(_e,$,ht){var vt=_e.tag;if(vt===5||vt===6)_e=_e.stateNode,$?ht.insertBefore(_e,$):ht.appendChild(_e);else if(vt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,$,ht),_e=_e.sibling;_e!==null;)Wj(_e,$,ht),_e=_e.sibling}var X=null,Xj=!1;function Yj(_e,$,ht){for(ht=ht.child;ht!==null;)Zj(_e,$,ht),ht=ht.sibling}function Zj(_e,$,ht){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,ht)}catch{}switch(ht.tag){case 5:U$2||Lj(ht,$);case 6:var vt=X,xt=Xj;X=null,Yj(_e,$,ht),X=vt,Xj=xt,X!==null&&(Xj?(_e=X,ht=ht.stateNode,_e.nodeType===8?_e.parentNode.removeChild(ht):_e.removeChild(ht)):X.removeChild(ht.stateNode));break;case 18:X!==null&&(Xj?(_e=X,ht=ht.stateNode,_e.nodeType===8?Kf(_e.parentNode,ht):_e.nodeType===1&&Kf(_e,ht),bd(_e)):Kf(X,ht.stateNode));break;case 4:vt=X,xt=Xj,X=ht.stateNode.containerInfo,Xj=!0,Yj(_e,$,ht),X=vt,Xj=xt;break;case 0:case 11:case 14:case 15:if(!U$2&&(vt=ht.updateQueue,vt!==null&&(vt=vt.lastEffect,vt!==null))){xt=vt=vt.next;do{var bt=xt,Et=bt.destroy;bt=bt.tag,Et!==void 0&&(bt&2||bt&4)&&Mj(ht,$,Et),xt=xt.next}while(xt!==vt)}Yj(_e,$,ht);break;case 1:if(!U$2&&(Lj(ht,$),vt=ht.stateNode,typeof vt.componentWillUnmount=="function"))try{vt.props=ht.memoizedProps,vt.state=ht.memoizedState,vt.componentWillUnmount()}catch(_t){W$2(ht,$,_t)}Yj(_e,$,ht);break;case 21:Yj(_e,$,ht);break;case 22:ht.mode&1?(U$2=(vt=U$2)||ht.memoizedState!==null,Yj(_e,$,ht),U$2=vt):Yj(_e,$,ht);break;default:Yj(_e,$,ht)}}function ak(_e){var $=_e.updateQueue;if($!==null){_e.updateQueue=null;var ht=_e.stateNode;ht===null&&(ht=_e.stateNode=new Kj),$.forEach(function(vt){var xt=bk.bind(null,_e,vt);ht.has(vt)||(ht.add(vt),vt.then(xt,xt))})}}function ck(_e,$){var ht=$.deletions;if(ht!==null)for(var vt=0;vt<ht.length;vt++){var xt=ht[vt];try{var bt=_e,Et=$,_t=Et;e:for(;_t!==null;){switch(_t.tag){case 5:X=_t.stateNode,Xj=!1;break e;case 3:X=_t.stateNode.containerInfo,Xj=!0;break e;case 4:X=_t.stateNode.containerInfo,Xj=!0;break e}_t=_t.return}if(X===null)throw Error(p$4(160));Zj(bt,Et,xt),X=null,Xj=!1;var At=xt.alternate;At!==null&&(At.return=null),xt.return=null}catch(Ct){W$2(xt,$,Ct)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)dk($,_e),$=$.sibling}function dk(_e,$){var ht=_e.alternate,vt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(ck($,_e),ek(_e),vt&4){try{Pj(3,_e,_e.return),Qj(3,_e)}catch(Lt){W$2(_e,_e.return,Lt)}try{Pj(5,_e,_e.return)}catch(Lt){W$2(_e,_e.return,Lt)}}break;case 1:ck($,_e),ek(_e),vt&512&&ht!==null&&Lj(ht,ht.return);break;case 5:if(ck($,_e),ek(_e),vt&512&&ht!==null&&Lj(ht,ht.return),_e.flags&32){var xt=_e.stateNode;try{ob(xt,"")}catch(Lt){W$2(_e,_e.return,Lt)}}if(vt&4&&(xt=_e.stateNode,xt!=null)){var bt=_e.memoizedProps,Et=ht!==null?ht.memoizedProps:bt,_t=_e.type,At=_e.updateQueue;if(_e.updateQueue=null,At!==null)try{_t==="input"&&bt.type==="radio"&&bt.name!=null&&ab(xt,bt),vb(_t,Et);var Ct=vb(_t,bt);for(Et=0;Et<At.length;Et+=2){var St=At[Et],Rt=At[Et+1];St==="style"?sb(xt,Rt):St==="dangerouslySetInnerHTML"?nb(xt,Rt):St==="children"?ob(xt,Rt):ta(xt,St,Rt,Ct)}switch(_t){case"input":bb(xt,bt);break;case"textarea":ib(xt,bt);break;case"select":var Pt=xt._wrapperState.wasMultiple;xt._wrapperState.wasMultiple=!!bt.multiple;var kt=bt.value;kt!=null?fb(xt,!!bt.multiple,kt,!1):Pt!==!!bt.multiple&&(bt.defaultValue!=null?fb(xt,!!bt.multiple,bt.defaultValue,!0):fb(xt,!!bt.multiple,bt.multiple?[]:"",!1))}xt[Pf]=bt}catch(Lt){W$2(_e,_e.return,Lt)}}break;case 6:if(ck($,_e),ek(_e),vt&4){if(_e.stateNode===null)throw Error(p$4(162));xt=_e.stateNode,bt=_e.memoizedProps;try{xt.nodeValue=bt}catch(Lt){W$2(_e,_e.return,Lt)}}break;case 3:if(ck($,_e),ek(_e),vt&4&&ht!==null&&ht.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(Lt){W$2(_e,_e.return,Lt)}break;case 4:ck($,_e),ek(_e);break;case 13:ck($,_e),ek(_e),xt=_e.child,xt.flags&8192&&(bt=xt.memoizedState!==null,xt.stateNode.isHidden=bt,!bt||xt.alternate!==null&&xt.alternate.memoizedState!==null||(fk=B$1())),vt&4&&ak(_e);break;case 22:if(St=ht!==null&&ht.memoizedState!==null,_e.mode&1?(U$2=(Ct=U$2)||St,ck($,_e),U$2=Ct):ck($,_e),ek(_e),vt&8192){if(Ct=_e.memoizedState!==null,(_e.stateNode.isHidden=Ct)&&!St&&_e.mode&1)for(V$1=_e,St=_e.child;St!==null;){for(Rt=V$1=St;V$1!==null;){switch(Pt=V$1,kt=Pt.child,Pt.tag){case 0:case 11:case 14:case 15:Pj(4,Pt,Pt.return);break;case 1:Lj(Pt,Pt.return);var Mt=Pt.stateNode;if(typeof Mt.componentWillUnmount=="function"){vt=Pt,ht=Pt.return;try{$=vt,Mt.props=$.memoizedProps,Mt.state=$.memoizedState,Mt.componentWillUnmount()}catch(Lt){W$2(vt,ht,Lt)}}break;case 5:Lj(Pt,Pt.return);break;case 22:if(Pt.memoizedState!==null){gk(Rt);continue}}kt!==null?(kt.return=Pt,V$1=kt):gk(Rt)}St=St.sibling}e:for(St=null,Rt=_e;;){if(Rt.tag===5){if(St===null){St=Rt;try{xt=Rt.stateNode,Ct?(bt=xt.style,typeof bt.setProperty=="function"?bt.setProperty("display","none","important"):bt.display="none"):(_t=Rt.stateNode,At=Rt.memoizedProps.style,Et=At!=null&&At.hasOwnProperty("display")?At.display:null,_t.style.display=rb("display",Et))}catch(Lt){W$2(_e,_e.return,Lt)}}}else if(Rt.tag===6){if(St===null)try{Rt.stateNode.nodeValue=Ct?"":Rt.memoizedProps}catch(Lt){W$2(_e,_e.return,Lt)}}else if((Rt.tag!==22&&Rt.tag!==23||Rt.memoizedState===null||Rt===_e)&&Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}if(Rt===_e)break e;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===_e)break e;St===Rt&&(St=null),Rt=Rt.return}St===Rt&&(St=null),Rt.sibling.return=Rt.return,Rt=Rt.sibling}}break;case 19:ck($,_e),ek(_e),vt&4&&ak(_e);break;case 21:break;default:ck($,_e),ek(_e)}}function ek(_e){var $=_e.flags;if($&2){try{e:{for(var ht=_e.return;ht!==null;){if(Tj(ht)){var vt=ht;break e}ht=ht.return}throw Error(p$4(160))}switch(vt.tag){case 5:var xt=vt.stateNode;vt.flags&32&&(ob(xt,""),vt.flags&=-33);var bt=Uj(_e);Wj(_e,bt,xt);break;case 3:case 4:var Et=vt.stateNode.containerInfo,_t=Uj(_e);Vj(_e,_t,Et);break;default:throw Error(p$4(161))}}catch(At){W$2(_e,_e.return,At)}_e.flags&=-3}$&4096&&(_e.flags&=-4097)}function hk(_e,$,ht){V$1=_e,ik(_e)}function ik(_e,$,ht){for(var vt=(_e.mode&1)!==0;V$1!==null;){var xt=V$1,bt=xt.child;if(xt.tag===22&&vt){var Et=xt.memoizedState!==null||Jj;if(!Et){var _t=xt.alternate,At=_t!==null&&_t.memoizedState!==null||U$2;_t=Jj;var Ct=U$2;if(Jj=Et,(U$2=At)&&!Ct)for(V$1=xt;V$1!==null;)Et=V$1,At=Et.child,Et.tag===22&&Et.memoizedState!==null?jk(xt):At!==null?(At.return=Et,V$1=At):jk(xt);for(;bt!==null;)V$1=bt,ik(bt),bt=bt.sibling;V$1=xt,Jj=_t,U$2=Ct}kk(_e)}else xt.subtreeFlags&8772&&bt!==null?(bt.return=xt,V$1=bt):kk(_e)}}function kk(_e){for(;V$1!==null;){var $=V$1;if($.flags&8772){var ht=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U$2||Qj(5,$);break;case 1:var vt=$.stateNode;if($.flags&4&&!U$2)if(ht===null)vt.componentDidMount();else{var xt=$.elementType===$.type?ht.memoizedProps:Ci($.type,ht.memoizedProps);vt.componentDidUpdate(xt,ht.memoizedState,vt.__reactInternalSnapshotBeforeUpdate)}var bt=$.updateQueue;bt!==null&&sh($,bt,vt);break;case 3:var Et=$.updateQueue;if(Et!==null){if(ht=null,$.child!==null)switch($.child.tag){case 5:ht=$.child.stateNode;break;case 1:ht=$.child.stateNode}sh($,Et,ht)}break;case 5:var _t=$.stateNode;if(ht===null&&$.flags&4){ht=_t;var At=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":At.autoFocus&&ht.focus();break;case"img":At.src&&(ht.src=At.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var Ct=$.alternate;if(Ct!==null){var St=Ct.memoizedState;if(St!==null){var Rt=St.dehydrated;Rt!==null&&bd(Rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$2||$.flags&512&&Rj($)}catch(Pt){W$2($,$.return,Pt)}}if($===_e){V$1=null;break}if(ht=$.sibling,ht!==null){ht.return=$.return,V$1=ht;break}V$1=$.return}}function gk(_e){for(;V$1!==null;){var $=V$1;if($===_e){V$1=null;break}var ht=$.sibling;if(ht!==null){ht.return=$.return,V$1=ht;break}V$1=$.return}}function jk(_e){for(;V$1!==null;){var $=V$1;try{switch($.tag){case 0:case 11:case 15:var ht=$.return;try{Qj(4,$)}catch(At){W$2($,ht,At)}break;case 1:var vt=$.stateNode;if(typeof vt.componentDidMount=="function"){var xt=$.return;try{vt.componentDidMount()}catch(At){W$2($,xt,At)}}var bt=$.return;try{Rj($)}catch(At){W$2($,bt,At)}break;case 5:var Et=$.return;try{Rj($)}catch(At){W$2($,Et,At)}}}catch(At){W$2($,$.return,At)}if($===_e){V$1=null;break}var _t=$.sibling;if(_t!==null){_t.return=$.return,V$1=_t;break}V$1=$.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(_e){return _e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function gi(_e,$,ht,vt){if(50<yk)throw yk=0,zk=null,Error(p$4(185));Ac(_e,ht,vt),(!(K&2)||_e!==Q)&&(_e===Q&&(!(K&2)&&(qk|=ht),T$3===4&&Ck(_e,Z)),Dk(_e,vt),ht===1&&K===0&&!($.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(_e,$){var ht=_e.callbackNode;wc(_e,$);var vt=uc(_e,_e===Q?Z:0);if(vt===0)ht!==null&&bc(ht),_e.callbackNode=null,_e.callbackPriority=0;else if($=vt&-vt,_e.callbackPriority!==$){if(ht!=null&&bc(ht),$===1)_e.tag===0?ig(Ek.bind(null,_e)):hg(Ek.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),ht=null;else{switch(Dc(vt)){case 1:ht=fc;break;case 4:ht=gc;break;case 16:ht=hc;break;case 536870912:ht=jc;break;default:ht=hc}ht=Fk(ht,Gk.bind(null,_e))}_e.callbackPriority=$,_e.callbackNode=ht}}function Gk(_e,$){if(Ak=-1,Bk=0,K&6)throw Error(p$4(327));var ht=_e.callbackNode;if(Hk()&&_e.callbackNode!==ht)return null;var vt=uc(_e,_e===Q?Z:0);if(vt===0)return null;if(vt&30||vt&_e.expiredLanes||$)$=Ik(_e,vt);else{$=vt;var xt=K;K|=2;var bt=Jk();(Q!==_e||Z!==$)&&(uk=null,Gj=B$1()+500,Kk(_e,$));do try{Lk();break}catch(_t){Mk(_e,_t)}while(!0);$g(),mk.current=bt,K=xt,Y!==null?$=0:(Q=null,Z=0,$=T$3)}if($!==0){if($===2&&(xt=xc(_e),xt!==0&&(vt=xt,$=Nk(_e,xt))),$===1)throw ht=pk,Kk(_e,0),Ck(_e,vt),Dk(_e,B$1()),ht;if($===6)Ck(_e,vt);else{if(xt=_e.current.alternate,!(vt&30)&&!Ok(xt)&&($=Ik(_e,vt),$===2&&(bt=xc(_e),bt!==0&&(vt=bt,$=Nk(_e,bt))),$===1))throw ht=pk,Kk(_e,0),Ck(_e,vt),Dk(_e,B$1()),ht;switch(_e.finishedWork=xt,_e.finishedLanes=vt,$){case 0:case 1:throw Error(p$4(345));case 2:Pk(_e,tk,uk);break;case 3:if(Ck(_e,vt),(vt&130023424)===vt&&($=fk+500-B$1(),10<$)){if(uc(_e,0)!==0)break;if(xt=_e.suspendedLanes,(xt&vt)!==vt){R$1(),_e.pingedLanes|=_e.suspendedLanes&xt;break}_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),$);break}Pk(_e,tk,uk);break;case 4:if(Ck(_e,vt),(vt&4194240)===vt)break;for($=_e.eventTimes,xt=-1;0<vt;){var Et=31-oc(vt);bt=1<<Et,Et=$[Et],Et>xt&&(xt=Et),vt&=~bt}if(vt=xt,vt=B$1()-vt,vt=(120>vt?120:480>vt?480:1080>vt?1080:1920>vt?1920:3e3>vt?3e3:4320>vt?4320:1960*lk(vt/1960))-vt,10<vt){_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),vt);break}Pk(_e,tk,uk);break;case 5:Pk(_e,tk,uk);break;default:throw Error(p$4(329))}}}return Dk(_e,B$1()),_e.callbackNode===ht?Gk.bind(null,_e):null}function Nk(_e,$){var ht=sk;return _e.current.memoizedState.isDehydrated&&(Kk(_e,$).flags|=256),_e=Ik(_e,$),_e!==2&&($=tk,tk=ht,$!==null&&Fj($)),_e}function Fj(_e){tk===null?tk=_e:tk.push.apply(tk,_e)}function Ok(_e){for(var $=_e;;){if($.flags&16384){var ht=$.updateQueue;if(ht!==null&&(ht=ht.stores,ht!==null))for(var vt=0;vt<ht.length;vt++){var xt=ht[vt],bt=xt.getSnapshot;xt=xt.value;try{if(!He(bt(),xt))return!1}catch{return!1}}}if(ht=$.child,$.subtreeFlags&16384&&ht!==null)ht.return=$,$=ht;else{if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Ck(_e,$){for($&=~rk,$&=~qk,_e.suspendedLanes|=$,_e.pingedLanes&=~$,_e=_e.expirationTimes;0<$;){var ht=31-oc($),vt=1<<ht;_e[ht]=-1,$&=~vt}}function Ek(_e){if(K&6)throw Error(p$4(327));Hk();var $=uc(_e,0);if(!($&1))return Dk(_e,B$1()),null;var ht=Ik(_e,$);if(_e.tag!==0&&ht===2){var vt=xc(_e);vt!==0&&($=vt,ht=Nk(_e,vt))}if(ht===1)throw ht=pk,Kk(_e,0),Ck(_e,$),Dk(_e,B$1()),ht;if(ht===6)throw Error(p$4(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=$,Pk(_e,tk,uk),Dk(_e,B$1()),null}function Qk(_e,$){var ht=K;K|=1;try{return _e($)}finally{K=ht,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(_e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var $=K;K|=1;var ht=ok.transition,vt=C$1;try{if(ok.transition=null,C$1=1,_e)return _e()}finally{C$1=vt,ok.transition=ht,K=$,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(_e,$){_e.finishedWork=null,_e.finishedLanes=0;var ht=_e.timeoutHandle;if(ht!==-1&&(_e.timeoutHandle=-1,Gf(ht)),Y!==null)for(ht=Y.return;ht!==null;){var vt=ht;switch(wg(vt),vt.tag){case 1:vt=vt.type.childContextTypes,vt!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$2),Eh();break;case 5:Bh(vt);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(vt.type._context);break;case 22:case 23:Hj()}ht=ht.return}if(Q=_e,Y=_e=Pg(_e.current,null),Z=fj=$,T$3=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for($=0;$<fh.length;$++)if(ht=fh[$],vt=ht.interleaved,vt!==null){ht.interleaved=null;var xt=vt.next,bt=ht.pending;if(bt!==null){var Et=bt.next;bt.next=xt,vt.next=Et}ht.pending=vt}fh=null}return _e}function Mk(_e,$){do{var ht=Y;try{if($g(),Fh.current=Rh,Ih){for(var vt=M$3.memoizedState;vt!==null;){var xt=vt.queue;xt!==null&&(xt.pending=null),vt=vt.next}Ih=!1}if(Hh=0,O$2=N$3=M$3=null,Jh=!1,Kh=0,nk.current=null,ht===null||ht.return===null){T$3=1,pk=$,Y=null;break}e:{var bt=_e,Et=ht.return,_t=ht,At=$;if($=Z,_t.flags|=32768,At!==null&&typeof At=="object"&&typeof At.then=="function"){var Ct=At,St=_t,Rt=St.tag;if(!(St.mode&1)&&(Rt===0||Rt===11||Rt===15)){var Pt=St.alternate;Pt?(St.updateQueue=Pt.updateQueue,St.memoizedState=Pt.memoizedState,St.lanes=Pt.lanes):(St.updateQueue=null,St.memoizedState=null)}var kt=Ui(Et);if(kt!==null){kt.flags&=-257,Vi(kt,Et,_t,bt,$),kt.mode&1&&Si(bt,Ct,$),$=kt,At=Ct;var Mt=$.updateQueue;if(Mt===null){var Lt=new Set;Lt.add(At),$.updateQueue=Lt}else Mt.add(At);break e}else{if(!($&1)){Si(bt,Ct,$),tj();break e}At=Error(p$4(426))}}else if(I$4&&_t.mode&1){var Ot=Ui(Et);if(Ot!==null){!(Ot.flags&65536)&&(Ot.flags|=256),Vi(Ot,Et,_t,bt,$),Jg(Ji(At,_t));break e}}bt=At=Ji(At,_t),T$3!==4&&(T$3=2),sk===null?sk=[bt]:sk.push(bt),bt=Et;do{switch(bt.tag){case 3:bt.flags|=65536,$&=-$,bt.lanes|=$;var Ft=Ni(bt,At,$);ph(bt,Ft);break e;case 1:_t=At;var Dt=bt.type,$t=bt.stateNode;if(!(bt.flags&128)&&(typeof Dt.getDerivedStateFromError=="function"||$t!==null&&typeof $t.componentDidCatch=="function"&&(Ri===null||!Ri.has($t)))){bt.flags|=65536,$&=-$,bt.lanes|=$;var Bt=Qi(bt,_t,$);ph(bt,Bt);break e}}bt=bt.return}while(bt!==null)}Sk(ht)}catch(Nt){$=Nt,Y===ht&&ht!==null&&(Y=ht=ht.return);continue}break}while(!0)}function Jk(){var _e=mk.current;return mk.current=Rh,_e===null?Rh:_e}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(_e,$){var ht=K;K|=2;var vt=Jk();(Q!==_e||Z!==$)&&(uk=null,Kk(_e,$));do try{Tk();break}catch(xt){Mk(_e,xt)}while(!0);if($g(),K=ht,mk.current=vt,Y!==null)throw Error(p$4(261));return Q=null,Z=0,T$3}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(_e){var $=Vk(_e.alternate,_e,fj);_e.memoizedProps=_e.pendingProps,$===null?Sk(_e):Y=$,nk.current=null}function Sk(_e){var $=_e;do{var ht=$.alternate;if(_e=$.return,$.flags&32768){if(ht=Ij(ht,$),ht!==null){ht.flags&=32767,Y=ht;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$3=6,Y=null;return}}else if(ht=Ej(ht,$,fj),ht!==null){Y=ht;return}if($=$.sibling,$!==null){Y=$;return}Y=$=_e}while($!==null);T$3===0&&(T$3=5)}function Pk(_e,$,ht){var vt=C$1,xt=ok.transition;try{ok.transition=null,C$1=1,Wk(_e,$,ht,vt)}finally{ok.transition=xt,C$1=vt}return null}function Wk(_e,$,ht,vt){do Hk();while(wk!==null);if(K&6)throw Error(p$4(327));ht=_e.finishedWork;var xt=_e.finishedLanes;if(ht===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,ht===_e.current)throw Error(p$4(177));_e.callbackNode=null,_e.callbackPriority=0;var bt=ht.lanes|ht.childLanes;if(Bc(_e,bt),_e===Q&&(Y=Q=null,Z=0),!(ht.subtreeFlags&2064)&&!(ht.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),bt=(ht.flags&15990)!==0,ht.subtreeFlags&15990||bt){bt=ok.transition,ok.transition=null;var Et=C$1;C$1=1;var _t=K;K|=4,nk.current=null,Oj(_e,ht),dk(ht,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=ht,hk(ht),dc(),K=_t,C$1=Et,ok.transition=bt}else _e.current=ht;if(vk&&(vk=!1,wk=_e,xk=xt),bt=_e.pendingLanes,bt===0&&(Ri=null),mc(ht.stateNode),Dk(_e,B$1()),$!==null)for(vt=_e.onRecoverableError,ht=0;ht<$.length;ht++)xt=$[ht],vt(xt.value,{componentStack:xt.stack,digest:xt.digest});if(Oi)throw Oi=!1,_e=Pi,Pi=null,_e;return xk&1&&_e.tag!==0&&Hk(),bt=_e.pendingLanes,bt&1?_e===zk?yk++:(yk=0,zk=_e):yk=0,jg(),null}function Hk(){if(wk!==null){var _e=Dc(xk),$=ok.transition,ht=C$1;try{if(ok.transition=null,C$1=16>_e?16:_e,wk===null)var vt=!1;else{if(_e=wk,wk=null,xk=0,K&6)throw Error(p$4(331));var xt=K;for(K|=4,V$1=_e.current;V$1!==null;){var bt=V$1,Et=bt.child;if(V$1.flags&16){var _t=bt.deletions;if(_t!==null){for(var At=0;At<_t.length;At++){var Ct=_t[At];for(V$1=Ct;V$1!==null;){var St=V$1;switch(St.tag){case 0:case 11:case 15:Pj(8,St,bt)}var Rt=St.child;if(Rt!==null)Rt.return=St,V$1=Rt;else for(;V$1!==null;){St=V$1;var Pt=St.sibling,kt=St.return;if(Sj(St),St===Ct){V$1=null;break}if(Pt!==null){Pt.return=kt,V$1=Pt;break}V$1=kt}}}var Mt=bt.alternate;if(Mt!==null){var Lt=Mt.child;if(Lt!==null){Mt.child=null;do{var Ot=Lt.sibling;Lt.sibling=null,Lt=Ot}while(Lt!==null)}}V$1=bt}}if(bt.subtreeFlags&2064&&Et!==null)Et.return=bt,V$1=Et;else e:for(;V$1!==null;){if(bt=V$1,bt.flags&2048)switch(bt.tag){case 0:case 11:case 15:Pj(9,bt,bt.return)}var Ft=bt.sibling;if(Ft!==null){Ft.return=bt.return,V$1=Ft;break e}V$1=bt.return}}var Dt=_e.current;for(V$1=Dt;V$1!==null;){Et=V$1;var $t=Et.child;if(Et.subtreeFlags&2064&&$t!==null)$t.return=Et,V$1=$t;else e:for(Et=Dt;V$1!==null;){if(_t=V$1,_t.flags&2048)try{switch(_t.tag){case 0:case 11:case 15:Qj(9,_t)}}catch(Nt){W$2(_t,_t.return,Nt)}if(_t===Et){V$1=null;break e}var Bt=_t.sibling;if(Bt!==null){Bt.return=_t.return,V$1=Bt;break e}V$1=_t.return}}if(K=xt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}vt=!0}return vt}finally{C$1=ht,ok.transition=$}}return!1}function Xk(_e,$,ht){$=Ji(ht,$),$=Ni(_e,$,1),_e=nh(_e,$,1),$=R$1(),_e!==null&&(Ac(_e,1,$),Dk(_e,$))}function W$2(_e,$,ht){if(_e.tag===3)Xk(_e,_e,ht);else for(;$!==null;){if($.tag===3){Xk($,_e,ht);break}else if($.tag===1){var vt=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof vt.componentDidCatch=="function"&&(Ri===null||!Ri.has(vt))){_e=Ji(ht,_e),_e=Qi($,_e,1),$=nh($,_e,1),_e=R$1(),$!==null&&(Ac($,1,_e),Dk($,_e));break}}$=$.return}}function Ti(_e,$,ht){var vt=_e.pingCache;vt!==null&&vt.delete($),$=R$1(),_e.pingedLanes|=_e.suspendedLanes&ht,Q===_e&&(Z&ht)===ht&&(T$3===4||T$3===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(_e,0):rk|=ht),Dk(_e,$)}function Yk(_e,$){$===0&&(_e.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var ht=R$1();_e=ih(_e,$),_e!==null&&(Ac(_e,$,ht),Dk(_e,ht))}function uj(_e){var $=_e.memoizedState,ht=0;$!==null&&(ht=$.retryLane),Yk(_e,ht)}function bk(_e,$){var ht=0;switch(_e.tag){case 13:var vt=_e.stateNode,xt=_e.memoizedState;xt!==null&&(ht=xt.retryLane);break;case 19:vt=_e.stateNode;break;default:throw Error(p$4(314))}vt!==null&&vt.delete($),Yk(_e,ht)}var Vk;Vk=function(_e,$,ht){if(_e!==null)if(_e.memoizedProps!==$.pendingProps||Wf.current)dh=!0;else{if(!(_e.lanes&ht)&&!($.flags&128))return dh=!1,yj(_e,$,ht);dh=!!(_e.flags&131072)}else dh=!1,I$4&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var vt=$.type;ij(_e,$),_e=$.pendingProps;var xt=Yf($,H$2.current);ch($,ht),xt=Nh(null,$,vt,_e,xt,ht);var bt=Sh();return $.flags|=1,typeof xt=="object"&&xt!==null&&typeof xt.render=="function"&&xt.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(vt)?(bt=!0,cg($)):bt=!1,$.memoizedState=xt.state!==null&&xt.state!==void 0?xt.state:null,kh($),xt.updater=Ei,$.stateNode=xt,xt._reactInternals=$,Ii($,vt,_e,ht),$=jj(null,$,vt,!0,bt,ht)):($.tag=0,I$4&&bt&&vg($),Xi(null,$,xt,ht),$=$.child),$;case 16:vt=$.elementType;e:{switch(ij(_e,$),_e=$.pendingProps,xt=vt._init,vt=xt(vt._payload),$.type=vt,xt=$.tag=Zk(vt),_e=Ci(vt,_e),xt){case 0:$=cj(null,$,vt,_e,ht);break e;case 1:$=hj(null,$,vt,_e,ht);break e;case 11:$=Yi(null,$,vt,_e,ht);break e;case 14:$=$i(null,$,vt,Ci(vt.type,_e),ht);break e}throw Error(p$4(306,vt,""))}return $;case 0:return vt=$.type,xt=$.pendingProps,xt=$.elementType===vt?xt:Ci(vt,xt),cj(_e,$,vt,xt,ht);case 1:return vt=$.type,xt=$.pendingProps,xt=$.elementType===vt?xt:Ci(vt,xt),hj(_e,$,vt,xt,ht);case 3:e:{if(kj($),_e===null)throw Error(p$4(387));vt=$.pendingProps,bt=$.memoizedState,xt=bt.element,lh(_e,$),qh($,vt,null,ht);var Et=$.memoizedState;if(vt=Et.element,bt.isDehydrated)if(bt={element:vt,isDehydrated:!1,cache:Et.cache,pendingSuspenseBoundaries:Et.pendingSuspenseBoundaries,transitions:Et.transitions},$.updateQueue.baseState=bt,$.memoizedState=bt,$.flags&256){xt=Ji(Error(p$4(423)),$),$=lj(_e,$,vt,ht,xt);break e}else if(vt!==xt){xt=Ji(Error(p$4(424)),$),$=lj(_e,$,vt,ht,xt);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I$4=!0,zg=null,ht=Vg($,null,vt,ht),$.child=ht;ht;)ht.flags=ht.flags&-3|4096,ht=ht.sibling;else{if(Ig(),vt===xt){$=Zi(_e,$,ht);break e}Xi(_e,$,vt,ht)}$=$.child}return $;case 5:return Ah($),_e===null&&Eg($),vt=$.type,xt=$.pendingProps,bt=_e!==null?_e.memoizedProps:null,Et=xt.children,Ef(vt,xt)?Et=null:bt!==null&&Ef(vt,bt)&&($.flags|=32),gj(_e,$),Xi(_e,$,Et,ht),$.child;case 6:return _e===null&&Eg($),null;case 13:return oj(_e,$,ht);case 4:return yh($,$.stateNode.containerInfo),vt=$.pendingProps,_e===null?$.child=Ug($,null,vt,ht):Xi(_e,$,vt,ht),$.child;case 11:return vt=$.type,xt=$.pendingProps,xt=$.elementType===vt?xt:Ci(vt,xt),Yi(_e,$,vt,xt,ht);case 7:return Xi(_e,$,$.pendingProps,ht),$.child;case 8:return Xi(_e,$,$.pendingProps.children,ht),$.child;case 12:return Xi(_e,$,$.pendingProps.children,ht),$.child;case 10:e:{if(vt=$.type._context,xt=$.pendingProps,bt=$.memoizedProps,Et=xt.value,G$2(Wg,vt._currentValue),vt._currentValue=Et,bt!==null)if(He(bt.value,Et)){if(bt.children===xt.children&&!Wf.current){$=Zi(_e,$,ht);break e}}else for(bt=$.child,bt!==null&&(bt.return=$);bt!==null;){var _t=bt.dependencies;if(_t!==null){Et=bt.child;for(var At=_t.firstContext;At!==null;){if(At.context===vt){if(bt.tag===1){At=mh(-1,ht&-ht),At.tag=2;var Ct=bt.updateQueue;if(Ct!==null){Ct=Ct.shared;var St=Ct.pending;St===null?At.next=At:(At.next=St.next,St.next=At),Ct.pending=At}}bt.lanes|=ht,At=bt.alternate,At!==null&&(At.lanes|=ht),bh(bt.return,ht,$),_t.lanes|=ht;break}At=At.next}}else if(bt.tag===10)Et=bt.type===$.type?null:bt.child;else if(bt.tag===18){if(Et=bt.return,Et===null)throw Error(p$4(341));Et.lanes|=ht,_t=Et.alternate,_t!==null&&(_t.lanes|=ht),bh(Et,ht,$),Et=bt.sibling}else Et=bt.child;if(Et!==null)Et.return=bt;else for(Et=bt;Et!==null;){if(Et===$){Et=null;break}if(bt=Et.sibling,bt!==null){bt.return=Et.return,Et=bt;break}Et=Et.return}bt=Et}Xi(_e,$,xt.children,ht),$=$.child}return $;case 9:return xt=$.type,vt=$.pendingProps.children,ch($,ht),xt=eh(xt),vt=vt(xt),$.flags|=1,Xi(_e,$,vt,ht),$.child;case 14:return vt=$.type,xt=Ci(vt,$.pendingProps),xt=Ci(vt.type,xt),$i(_e,$,vt,xt,ht);case 15:return bj(_e,$,$.type,$.pendingProps,ht);case 17:return vt=$.type,xt=$.pendingProps,xt=$.elementType===vt?xt:Ci(vt,xt),ij(_e,$),$.tag=1,Zf(vt)?(_e=!0,cg($)):_e=!1,ch($,ht),Gi($,vt,xt),Ii($,vt,xt,ht),jj(null,$,vt,!0,_e,ht);case 19:return xj(_e,$,ht);case 22:return dj(_e,$,ht)}throw Error(p$4(156,$.tag))};function Fk(_e,$){return ac(_e,$)}function $k(_e,$,ht,vt){this.tag=_e,this.key=ht,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=vt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,$,ht,vt){return new $k(_e,$,ht,vt)}function aj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function Zk(_e){if(typeof _e=="function")return aj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function Pg(_e,$){var ht=_e.alternate;return ht===null?(ht=Bg(_e.tag,$,_e.key,_e.mode),ht.elementType=_e.elementType,ht.type=_e.type,ht.stateNode=_e.stateNode,ht.alternate=_e,_e.alternate=ht):(ht.pendingProps=$,ht.type=_e.type,ht.flags=0,ht.subtreeFlags=0,ht.deletions=null),ht.flags=_e.flags&14680064,ht.childLanes=_e.childLanes,ht.lanes=_e.lanes,ht.child=_e.child,ht.memoizedProps=_e.memoizedProps,ht.memoizedState=_e.memoizedState,ht.updateQueue=_e.updateQueue,$=_e.dependencies,ht.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},ht.sibling=_e.sibling,ht.index=_e.index,ht.ref=_e.ref,ht}function Rg(_e,$,ht,vt,xt,bt){var Et=2;if(vt=_e,typeof _e=="function")aj(_e)&&(Et=1);else if(typeof _e=="string")Et=5;else e:switch(_e){case ya:return Tg(ht.children,xt,bt,$);case za:Et=8,xt|=8;break;case Aa:return _e=Bg(12,ht,$,xt|2),_e.elementType=Aa,_e.lanes=bt,_e;case Ea:return _e=Bg(13,ht,$,xt),_e.elementType=Ea,_e.lanes=bt,_e;case Fa:return _e=Bg(19,ht,$,xt),_e.elementType=Fa,_e.lanes=bt,_e;case Ia:return pj(ht,xt,bt,$);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:Et=10;break e;case Ca:Et=9;break e;case Da:Et=11;break e;case Ga:Et=14;break e;case Ha:Et=16,vt=null;break e}throw Error(p$4(130,_e==null?_e:typeof _e,""))}return $=Bg(Et,ht,$,xt),$.elementType=_e,$.type=vt,$.lanes=bt,$}function Tg(_e,$,ht,vt){return _e=Bg(7,_e,vt,$),_e.lanes=ht,_e}function pj(_e,$,ht,vt){return _e=Bg(22,_e,vt,$),_e.elementType=Ia,_e.lanes=ht,_e.stateNode={isHidden:!1},_e}function Qg(_e,$,ht){return _e=Bg(6,_e,null,$),_e.lanes=ht,_e}function Sg(_e,$,ht){return $=Bg(4,_e.children!==null?_e.children:[],_e.key,$),$.lanes=ht,$.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},$}function al(_e,$,ht,vt,xt){this.tag=$,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=vt,this.onRecoverableError=xt,this.mutableSourceEagerHydrationData=null}function bl(_e,$,ht,vt,xt,bt,Et,_t,At){return _e=new al(_e,$,ht,_t,At),$===1?($=1,bt===!0&&($|=8)):$=0,bt=Bg(3,null,null,$),_e.current=bt,bt.stateNode=_e,bt.memoizedState={element:vt,isDehydrated:ht,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(bt),_e}function cl(_e,$,ht){var vt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:vt==null?null:""+vt,children:_e,containerInfo:$,implementation:ht}}function dl(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$4(170));var $=_e;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$4(171))}if(_e.tag===1){var ht=_e.type;if(Zf(ht))return bg(_e,ht,$)}return $}function el(_e,$,ht,vt,xt,bt,Et,_t,At){return _e=bl(ht,vt,!0,_e,xt,bt,Et,_t,At),_e.context=dl(null),ht=_e.current,vt=R$1(),xt=yi(ht),bt=mh(vt,xt),bt.callback=$??null,nh(ht,bt,xt),_e.current.lanes=xt,Ac(_e,xt,vt),Dk(_e,vt),_e}function fl(_e,$,ht,vt){var xt=$.current,bt=R$1(),Et=yi(xt);return ht=dl(ht),$.context===null?$.context=ht:$.pendingContext=ht,$=mh(bt,Et),$.payload={element:_e},vt=vt===void 0?null:vt,vt!==null&&($.callback=vt),_e=nh(xt,$,Et),_e!==null&&(gi(_e,xt,Et,bt),oh(_e,xt,Et)),Et}function gl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function hl(_e,$){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var ht=_e.retryLane;_e.retryLane=ht!==0&&ht<$?ht:$}}function il(_e,$){hl(_e,$),(_e=_e.alternate)&&hl(_e,$)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ll(_e){this._internalRoot=_e}ml.prototype.render=ll.prototype.render=function(_e){var $=this._internalRoot;if($===null)throw Error(p$4(409));fl(_e,$,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var $=_e.containerInfo;Rk(function(){fl(null,_e,null,null)}),$[uf]=null}};function ml(_e){this._internalRoot=_e}ml.prototype.unstable_scheduleHydration=function(_e){if(_e){var $=Hc();_e={blockedOn:null,target:_e,priority:$};for(var ht=0;ht<Qc.length&&$!==0&&$<Qc[ht].priority;ht++);Qc.splice(ht,0,_e),ht===0&&Vc(_e)}};function nl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_e,$,ht,vt,xt){if(xt){if(typeof vt=="function"){var bt=vt;vt=function(){var Ct=gl(Et);bt.call(Ct)}}var Et=el($,vt,_e,0,null,!1,!1,"",pl);return _e._reactRootContainer=Et,_e[uf]=Et.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(),Et}for(;xt=_e.lastChild;)_e.removeChild(xt);if(typeof vt=="function"){var _t=vt;vt=function(){var Ct=gl(At);_t.call(Ct)}}var At=bl(_e,0,!1,null,null,!1,!1,"",pl);return _e._reactRootContainer=At,_e[uf]=At.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(function(){fl($,At,ht,vt)}),At}function rl(_e,$,ht,vt,xt){var bt=ht._reactRootContainer;if(bt){var Et=bt;if(typeof xt=="function"){var _t=xt;xt=function(){var At=gl(Et);_t.call(At)}}fl($,Et,_e,xt)}else Et=ql(ht,$,_e,xt,vt);return gl(Et)}Ec=function(_e){switch(_e.tag){case 3:var $=_e.stateNode;if($.current.memoizedState.isDehydrated){var ht=tc($.pendingLanes);ht!==0&&(Cc($,ht|1),Dk($,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var vt=ih(_e,1);if(vt!==null){var xt=R$1();gi(vt,_e,1,xt)}}),il(_e,1)}};Fc=function(_e){if(_e.tag===13){var $=ih(_e,134217728);if($!==null){var ht=R$1();gi($,_e,134217728,ht)}il(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var $=yi(_e),ht=ih(_e,$);if(ht!==null){var vt=R$1();gi(ht,_e,$,vt)}il(_e,$)}};Hc=function(){return C$1};Ic=function(_e,$){var ht=C$1;try{return C$1=_e,$()}finally{C$1=ht}};yb=function(_e,$,ht){switch($){case"input":if(bb(_e,ht),$=ht.name,ht.type==="radio"&&$!=null){for(ht=_e;ht.parentNode;)ht=ht.parentNode;for(ht=ht.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<ht.length;$++){var vt=ht[$];if(vt!==_e&&vt.form===_e.form){var xt=Db(vt);if(!xt)throw Error(p$4(90));Wa(vt),bb(vt,xt)}}}break;case"textarea":ib(_e,ht);break;case"select":$=ht.value,$!=null&&fb(_e,!!ht.multiple,$,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(_e,$){var ht=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl($))throw Error(p$4(200));return cl(_e,$,null,ht)};reactDom_production_min.createRoot=function(_e,$){if(!nl(_e))throw Error(p$4(299));var ht=!1,vt="",xt=kl;return $!=null&&($.unstable_strictMode===!0&&(ht=!0),$.identifierPrefix!==void 0&&(vt=$.identifierPrefix),$.onRecoverableError!==void 0&&(xt=$.onRecoverableError)),$=bl(_e,1,!1,null,null,ht,!1,vt,xt),_e[uf]=$.current,sf(_e.nodeType===8?_e.parentNode:_e),new ll($)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var $=_e._reactInternals;if($===void 0)throw typeof _e.render=="function"?Error(p$4(188)):(_e=Object.keys(_e).join(","),Error(p$4(268,_e)));return _e=Zb($),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Rk(_e)};reactDom_production_min.hydrate=function(_e,$,ht){if(!ol($))throw Error(p$4(200));return rl(null,_e,$,!0,ht)};reactDom_production_min.hydrateRoot=function(_e,$,ht){if(!nl(_e))throw Error(p$4(405));var vt=ht!=null&&ht.hydratedSources||null,xt=!1,bt="",Et=kl;if(ht!=null&&(ht.unstable_strictMode===!0&&(xt=!0),ht.identifierPrefix!==void 0&&(bt=ht.identifierPrefix),ht.onRecoverableError!==void 0&&(Et=ht.onRecoverableError)),$=el($,null,_e,1,ht??null,xt,!1,bt,Et),_e[uf]=$.current,sf(_e),vt)for(_e=0;_e<vt.length;_e++)ht=vt[_e],xt=ht._getVersion,xt=xt(ht._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[ht,xt]:$.mutableSourceEagerHydrationData.push(ht,xt);return new ml($)};reactDom_production_min.render=function(_e,$,ht){if(!ol($))throw Error(p$4(200));return rl(null,_e,$,!1,ht)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!ol(_e))throw Error(p$4(40));return _e._reactRootContainer?(Rk(function(){rl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,$,ht,vt){if(!ol(ht))throw Error(p$4(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$4(38));return rl(_e,$,ht,!1,vt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$2.apply(this,arguments)}var Action;(function(_e){_e.Pop="POP",_e.Push="PUSH",_e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(_e){_e===void 0&&(_e={});function $(vt,xt){let{pathname:bt,search:Et,hash:_t}=vt.location;return createLocation("",{pathname:bt,search:Et,hash:_t},xt.state&&xt.state.usr||null,xt.state&&xt.state.key||"default")}function ht(vt,xt){return typeof xt=="string"?xt:createPath(xt)}return getUrlBasedHistory($,ht,null,_e)}function invariant$1(_e,$){if(_e===!1||_e===null||typeof _e>"u")throw new Error($)}function warning$2(_e,$){if(!_e){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_e,$){return{usr:_e.state,key:_e.key,idx:$}}function createLocation(_e,$,ht,vt){return ht===void 0&&(ht=null),_extends$2({pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:ht,key:$&&$.key||vt||createKey()})}function createPath(_e){let{pathname:$="/",search:ht="",hash:vt=""}=_e;return ht&&ht!=="?"&&($+=ht.charAt(0)==="?"?ht:"?"+ht),vt&&vt!=="#"&&($+=vt.charAt(0)==="#"?vt:"#"+vt),$}function parsePath(_e){let $={};if(_e){let ht=_e.indexOf("#");ht>=0&&($.hash=_e.substr(ht),_e=_e.substr(0,ht));let vt=_e.indexOf("?");vt>=0&&($.search=_e.substr(vt),_e=_e.substr(0,vt)),_e&&($.pathname=_e)}return $}function getUrlBasedHistory(_e,$,ht,vt){vt===void 0&&(vt={});let{window:xt=document.defaultView,v5Compat:bt=!1}=vt,Et=xt.history,_t=Action.Pop,At=null,Ct=St();Ct==null&&(Ct=0,Et.replaceState(_extends$2({},Et.state,{idx:Ct}),""));function St(){return(Et.state||{idx:null}).idx}function Rt(){_t=Action.Pop;let Ot=St(),Ft=Ot==null?null:Ot-Ct;Ct=Ot,At&&At({action:_t,location:Lt.location,delta:Ft})}function Pt(Ot,Ft){_t=Action.Push;let Dt=createLocation(Lt.location,Ot,Ft);Ct=St()+1;let $t=getHistoryState(Dt,Ct),Bt=Lt.createHref(Dt);try{Et.pushState($t,"",Bt)}catch(Nt){if(Nt instanceof DOMException&&Nt.name==="DataCloneError")throw Nt;xt.location.assign(Bt)}bt&&At&&At({action:_t,location:Lt.location,delta:1})}function kt(Ot,Ft){_t=Action.Replace;let Dt=createLocation(Lt.location,Ot,Ft);Ct=St();let $t=getHistoryState(Dt,Ct),Bt=Lt.createHref(Dt);Et.replaceState($t,"",Bt),bt&&At&&At({action:_t,location:Lt.location,delta:0})}function Mt(Ot){let Ft=xt.location.origin!=="null"?xt.location.origin:xt.location.href,Dt=typeof Ot=="string"?Ot:createPath(Ot);return Dt=Dt.replace(/ $/,"%20"),invariant$1(Ft,"No window.location.(origin|href) available to create URL for href: "+Dt),new URL(Dt,Ft)}let Lt={get action(){return _t},get location(){return _e(xt,Et)},listen(Ot){if(At)throw new Error("A history only accepts one active listener");return xt.addEventListener(PopStateEventType,Rt),At=Ot,()=>{xt.removeEventListener(PopStateEventType,Rt),At=null}},createHref(Ot){return $(xt,Ot)},createURL:Mt,encodeLocation(Ot){let Ft=Mt(Ot);return{pathname:Ft.pathname,search:Ft.search,hash:Ft.hash}},push:Pt,replace:kt,go(Ot){return Et.go(Ot)}};return Lt}var ResultType;(function(_e){_e.data="data",_e.deferred="deferred",_e.redirect="redirect",_e.error="error"})(ResultType||(ResultType={}));function matchRoutes(_e,$,ht){ht===void 0&&(ht="/");let vt=typeof $=="string"?parsePath($):$,xt=stripBasename(vt.pathname||"/",ht);if(xt==null)return null;let bt=flattenRoutes(_e);rankRouteBranches(bt);let Et=null;for(let _t=0;Et==null&&_t<bt.length;++_t){let At=decodePath(xt);Et=matchRouteBranch(bt[_t],At)}return Et}function flattenRoutes(_e,$,ht,vt){$===void 0&&($=[]),ht===void 0&&(ht=[]),vt===void 0&&(vt="");let xt=(bt,Et,_t)=>{let At={relativePath:_t===void 0?bt.path||"":_t,caseSensitive:bt.caseSensitive===!0,childrenIndex:Et,route:bt};At.relativePath.startsWith("/")&&(invariant$1(At.relativePath.startsWith(vt),'Absolute route path "'+At.relativePath+'" nested under path '+('"'+vt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),At.relativePath=At.relativePath.slice(vt.length));let Ct=joinPaths([vt,At.relativePath]),St=ht.concat(At);bt.children&&bt.children.length>0&&(invariant$1(bt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Ct+'".')),flattenRoutes(bt.children,$,St,Ct)),!(bt.path==null&&!bt.index)&&$.push({path:Ct,score:computeScore(Ct,bt.index),routesMeta:St})};return _e.forEach((bt,Et)=>{var _t;if(bt.path===""||!((_t=bt.path)!=null&&_t.includes("?")))xt(bt,Et);else for(let At of explodeOptionalSegments(bt.path))xt(bt,Et,At)}),$}function explodeOptionalSegments(_e){let $=_e.split("/");if($.length===0)return[];let[ht,...vt]=$,xt=ht.endsWith("?"),bt=ht.replace(/\?$/,"");if(vt.length===0)return xt?[bt,""]:[bt];let Et=explodeOptionalSegments(vt.join("/")),_t=[];return _t.push(...Et.map(At=>At===""?bt:[bt,At].join("/"))),xt&&_t.push(...Et),_t.map(At=>_e.startsWith("/")&&At===""?"/":At)}function rankRouteBranches(_e){_e.sort(($,ht)=>$.score!==ht.score?ht.score-$.score:compareIndexes($.routesMeta.map(vt=>vt.childrenIndex),ht.routesMeta.map(vt=>vt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,$){let ht=_e.split("/"),vt=ht.length;return ht.some(isSplat)&&(vt+=splatPenalty),$&&(vt+=indexRouteValue),ht.filter(xt=>!isSplat(xt)).reduce((xt,bt)=>xt+(paramRe.test(bt)?dynamicSegmentValue:bt===""?emptySegmentValue:staticSegmentValue),vt)}function compareIndexes(_e,$){return _e.length===$.length&&_e.slice(0,-1).every((vt,xt)=>vt===$[xt])?_e[_e.length-1]-$[$.length-1]:0}function matchRouteBranch(_e,$){let{routesMeta:ht}=_e,vt={},xt="/",bt=[];for(let Et=0;Et<ht.length;++Et){let _t=ht[Et],At=Et===ht.length-1,Ct=xt==="/"?$:$.slice(xt.length)||"/",St=matchPath({path:_t.relativePath,caseSensitive:_t.caseSensitive,end:At},Ct);if(!St)return null;Object.assign(vt,St.params);let Rt=_t.route;bt.push({params:vt,pathname:joinPaths([xt,St.pathname]),pathnameBase:normalizePathname(joinPaths([xt,St.pathnameBase])),route:Rt}),St.pathnameBase!=="/"&&(xt=joinPaths([xt,St.pathnameBase]))}return bt}function matchPath(_e,$){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[ht,vt]=compilePath(_e.path,_e.caseSensitive,_e.end),xt=$.match(ht);if(!xt)return null;let bt=xt[0],Et=bt.replace(/(.)\/+$/,"$1"),_t=xt.slice(1);return{params:vt.reduce((Ct,St,Rt)=>{let{paramName:Pt,isOptional:kt}=St;if(Pt==="*"){let Lt=_t[Rt]||"";Et=bt.slice(0,bt.length-Lt.length).replace(/(.)\/+$/,"$1")}const Mt=_t[Rt];return kt&&!Mt?Ct[Pt]=void 0:Ct[Pt]=(Mt||"").replace(/%2F/g,"/"),Ct},{}),pathname:bt,pathnameBase:Et,pattern:_e}}function compilePath(_e,$,ht){$===void 0&&($=!1),ht===void 0&&(ht=!0),warning$2(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),'Route path "'+_e+'" will be treated as if it were '+('"'+_e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_e.replace(/\*$/,"/*")+'".'));let vt=[],xt="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Et,_t,At)=>(vt.push({paramName:_t,isOptional:At!=null}),At?"/?([^\\/]+)?":"/([^\\/]+)"));return _e.endsWith("*")?(vt.push({paramName:"*"}),xt+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ht?xt+="\\/*$":_e!==""&&_e!=="/"&&(xt+="(?:(?=\\/|$))"),[new RegExp(xt,$?void 0:"i"),vt]}function decodePath(_e){try{return _e.split("/").map($=>decodeURIComponent($).replace(/\//g,"%2F")).join("/")}catch($){return warning$2(!1,'The URL path "'+_e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+$+").")),_e}}function stripBasename(_e,$){if($==="/")return _e;if(!_e.toLowerCase().startsWith($.toLowerCase()))return null;let ht=$.endsWith("/")?$.length-1:$.length,vt=_e.charAt(ht);return vt&&vt!=="/"?null:_e.slice(ht)||"/"}function resolvePath(_e,$){$===void 0&&($="/");let{pathname:ht,search:vt="",hash:xt=""}=typeof _e=="string"?parsePath(_e):_e;return{pathname:ht?ht.startsWith("/")?ht:resolvePathname(ht,$):$,search:normalizeSearch(vt),hash:normalizeHash(xt)}}function resolvePathname(_e,$){let ht=$.replace(/\/+$/,"").split("/");return _e.split("/").forEach(xt=>{xt===".."?ht.length>1&&ht.pop():xt!=="."&&ht.push(xt)}),ht.length>1?ht.join("/"):"/"}function getInvalidPathError(_e,$,ht,vt){return"Cannot include a '"+_e+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(vt)+"].  Please separate it out to the ")+("`to."+ht+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(_e){return _e.filter(($,ht)=>ht===0||$.route.path&&$.route.path.length>0)}function getResolveToMatches(_e,$){let ht=getPathContributingMatches(_e);return $?ht.map((vt,xt)=>xt===_e.length-1?vt.pathname:vt.pathnameBase):ht.map(vt=>vt.pathnameBase)}function resolveTo(_e,$,ht,vt){vt===void 0&&(vt=!1);let xt;typeof _e=="string"?xt=parsePath(_e):(xt=_extends$2({},_e),invariant$1(!xt.pathname||!xt.pathname.includes("?"),getInvalidPathError("?","pathname","search",xt)),invariant$1(!xt.pathname||!xt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",xt)),invariant$1(!xt.search||!xt.search.includes("#"),getInvalidPathError("#","search","hash",xt)));let bt=_e===""||xt.pathname==="",Et=bt?"/":xt.pathname,_t;if(Et==null)_t=ht;else{let Rt=$.length-1;if(!vt&&Et.startsWith("..")){let Pt=Et.split("/");for(;Pt[0]==="..";)Pt.shift(),Rt-=1;xt.pathname=Pt.join("/")}_t=Rt>=0?$[Rt]:"/"}let At=resolvePath(xt,_t),Ct=Et&&Et!=="/"&&Et.endsWith("/"),St=(bt||Et===".")&&ht.endsWith("/");return!At.pathname.endsWith("/")&&(Ct||St)&&(At.pathname+="/"),At}const joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_e=>!_e||_e==="?"?"":_e.startsWith("?")?_e:"?"+_e,normalizeHash=_e=>!_e||_e==="#"?"":_e.startsWith("#")?_e:"#"+_e;function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(_e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_e)}function useNavigate(){let{isDataRoute:_e}=reactExports.useContext(RouteContext);return _e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let _e=reactExports.useContext(DataRouterContext),{basename:$,future:ht,navigator:vt}=reactExports.useContext(NavigationContext),{matches:xt}=reactExports.useContext(RouteContext),{pathname:bt}=useLocation(),Et=JSON.stringify(getResolveToMatches(xt,ht.v7_relativeSplatPath)),_t=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{_t.current=!0}),reactExports.useCallback(function(Ct,St){if(St===void 0&&(St={}),!_t.current)return;if(typeof Ct=="number"){vt.go(Ct);return}let Rt=resolveTo(Ct,JSON.parse(Et),bt,St.relative==="path");_e==null&&$!=="/"&&(Rt.pathname=Rt.pathname==="/"?$:joinPaths([$,Rt.pathname])),(St.replace?vt.replace:vt.push)(Rt,St.state,St)},[$,vt,Et,bt,_e])}function useRoutes(_e,$){return useRoutesImpl(_e,$)}function useRoutesImpl(_e,$,ht,vt){useInRouterContext()||invariant$1(!1);let{navigator:xt}=reactExports.useContext(NavigationContext),{matches:bt}=reactExports.useContext(RouteContext),Et=bt[bt.length-1],_t=Et?Et.params:{};Et&&Et.pathname;let At=Et?Et.pathnameBase:"/";Et&&Et.route;let Ct=useLocation(),St;if($){var Rt;let Ot=typeof $=="string"?parsePath($):$;At==="/"||(Rt=Ot.pathname)!=null&&Rt.startsWith(At)||invariant$1(!1),St=Ot}else St=Ct;let Pt=St.pathname||"/",kt=Pt;if(At!=="/"){let Ot=At.replace(/^\//,"").split("/");kt="/"+Pt.replace(/^\//,"").split("/").slice(Ot.length).join("/")}let Mt=matchRoutes(_e,{pathname:kt}),Lt=_renderMatches(Mt&&Mt.map(Ot=>Object.assign({},Ot,{params:Object.assign({},_t,Ot.params),pathname:joinPaths([At,xt.encodeLocation?xt.encodeLocation(Ot.pathname).pathname:Ot.pathname]),pathnameBase:Ot.pathnameBase==="/"?At:joinPaths([At,xt.encodeLocation?xt.encodeLocation(Ot.pathnameBase).pathname:Ot.pathnameBase])})),bt,ht,vt);return $&&Lt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},St),navigationType:Action.Pop}},Lt):Lt}function DefaultErrorComponent(){let _e=useRouteError(),$=isRouteErrorResponse(_e)?_e.status+" "+_e.statusText:_e instanceof Error?_e.message:JSON.stringify(_e),ht=_e instanceof Error?_e.stack:null,xt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$),ht?reactExports.createElement("pre",{style:xt},ht):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,ht){return ht.location!==$.location||ht.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:ht.error,location:ht.location,revalidation:$.revalidation||ht.revalidation}}componentDidCatch($,ht){console.error("React Router caught the following error during render",$,ht)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_e){let{routeContext:$,match:ht,children:vt}=_e,xt=reactExports.useContext(DataRouterContext);return xt&&xt.static&&xt.staticContext&&(ht.route.errorElement||ht.route.ErrorBoundary)&&(xt.staticContext._deepestRenderedBoundaryId=ht.route.id),reactExports.createElement(RouteContext.Provider,{value:$},vt)}function _renderMatches(_e,$,ht,vt){var xt;if($===void 0&&($=[]),ht===void 0&&(ht=null),vt===void 0&&(vt=null),_e==null){var bt;if((bt=ht)!=null&&bt.errors)_e=ht.matches;else return null}let Et=_e,_t=(xt=ht)==null?void 0:xt.errors;if(_t!=null){let St=Et.findIndex(Rt=>Rt.route.id&&(_t==null?void 0:_t[Rt.route.id])!==void 0);St>=0||invariant$1(!1),Et=Et.slice(0,Math.min(Et.length,St+1))}let At=!1,Ct=-1;if(ht&&vt&&vt.v7_partialHydration)for(let St=0;St<Et.length;St++){let Rt=Et[St];if((Rt.route.HydrateFallback||Rt.route.hydrateFallbackElement)&&(Ct=St),Rt.route.id){let{loaderData:Pt,errors:kt}=ht,Mt=Rt.route.loader&&Pt[Rt.route.id]===void 0&&(!kt||kt[Rt.route.id]===void 0);if(Rt.route.lazy||Mt){At=!0,Ct>=0?Et=Et.slice(0,Ct+1):Et=[Et[0]];break}}}return Et.reduceRight((St,Rt,Pt)=>{let kt,Mt=!1,Lt=null,Ot=null;ht&&(kt=_t&&Rt.route.id?_t[Rt.route.id]:void 0,Lt=Rt.route.errorElement||defaultErrorElement,At&&(Ct<0&&Pt===0?(Mt=!0,Ot=null):Ct===Pt&&(Mt=!0,Ot=Rt.route.hydrateFallbackElement||null)));let Ft=$.concat(Et.slice(0,Pt+1)),Dt=()=>{let $t;return kt?$t=Lt:Mt?$t=Ot:Rt.route.Component?$t=reactExports.createElement(Rt.route.Component,null):Rt.route.element?$t=Rt.route.element:$t=St,reactExports.createElement(RenderedRoute,{match:Rt,routeContext:{outlet:St,matches:Ft,isDataRoute:ht!=null},children:$t})};return ht&&(Rt.route.ErrorBoundary||Rt.route.errorElement||Pt===0)?reactExports.createElement(RenderErrorBoundary,{location:ht.location,revalidation:ht.revalidation,component:Lt,error:kt,children:Dt(),routeContext:{outlet:null,matches:Ft,isDataRoute:!0}}):Dt()},null)}var DataRouterHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseLoaderData="useLoaderData",_e.UseActionData="useActionData",_e.UseRouteError="useRouteError",_e.UseNavigation="useNavigation",_e.UseRouteLoaderData="useRouteLoaderData",_e.UseMatches="useMatches",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e.UseRouteId="useRouteId",_e}(DataRouterStateHook$1||{});function useDataRouterContext(_e){let $=reactExports.useContext(DataRouterContext);return $||invariant$1(!1),$}function useDataRouterState(_e){let $=reactExports.useContext(DataRouterStateContext);return $||invariant$1(!1),$}function useRouteContext(_e){let $=reactExports.useContext(RouteContext);return $||invariant$1(!1),$}function useCurrentRouteId(_e){let $=useRouteContext(),ht=$.matches[$.matches.length-1];return ht.route.id||invariant$1(!1),ht.route.id}function useRouteError(){var _e;let $=reactExports.useContext(RouteErrorContext),ht=useDataRouterState(DataRouterStateHook$1.UseRouteError),vt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return $!==void 0?$:(_e=ht.errors)==null?void 0:_e[vt]}function useNavigateStable(){let{router:_e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),$=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),ht=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{ht.current=!0}),reactExports.useCallback(function(xt,bt){bt===void 0&&(bt={}),ht.current&&(typeof xt=="number"?_e.navigate(xt):_e.navigate(xt,_extends$1({fromRouteId:$},bt)))},[_e,$])}function Route(_e){invariant$1(!1)}function Router(_e){let{basename:$="/",children:ht=null,location:vt,navigationType:xt=Action.Pop,navigator:bt,static:Et=!1,future:_t}=_e;useInRouterContext()&&invariant$1(!1);let At=$.replace(/^\/*/,"/"),Ct=reactExports.useMemo(()=>({basename:At,navigator:bt,static:Et,future:_extends$1({v7_relativeSplatPath:!1},_t)}),[At,_t,bt,Et]);typeof vt=="string"&&(vt=parsePath(vt));let{pathname:St="/",search:Rt="",hash:Pt="",state:kt=null,key:Mt="default"}=vt,Lt=reactExports.useMemo(()=>{let Ot=stripBasename(St,At);return Ot==null?null:{location:{pathname:Ot,search:Rt,hash:Pt,state:kt,key:Mt},navigationType:xt}},[At,St,Rt,Pt,kt,Mt,xt]);return Lt==null?null:reactExports.createElement(NavigationContext.Provider,{value:Ct},reactExports.createElement(LocationContext.Provider,{children:ht,value:Lt}))}function Routes(_e){let{children:$,location:ht}=_e;return useRoutes(createRoutesFromChildren($),ht)}new Promise(()=>{});function createRoutesFromChildren(_e,$){$===void 0&&($=[]);let ht=[];return reactExports.Children.forEach(_e,(vt,xt)=>{if(!reactExports.isValidElement(vt))return;let bt=[...$,xt];if(vt.type===reactExports.Fragment){ht.push.apply(ht,createRoutesFromChildren(vt.props.children,bt));return}vt.type!==Route&&invariant$1(!1),!vt.props.index||!vt.props.children||invariant$1(!1);let Et={id:vt.props.id||bt.join("-"),caseSensitive:vt.props.caseSensitive,element:vt.props.element,Component:vt.props.Component,index:vt.props.index,path:vt.props.path,loader:vt.props.loader,action:vt.props.action,errorElement:vt.props.errorElement,ErrorBoundary:vt.props.ErrorBoundary,hasErrorBoundary:vt.props.ErrorBoundary!=null||vt.props.errorElement!=null,shouldRevalidate:vt.props.shouldRevalidate,handle:vt.props.handle,lazy:vt.props.lazy};vt.props.children&&(Et.children=createRoutesFromChildren(vt.props.children,bt)),ht.push(Et)}),ht}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=t$4[START_TRANSITION];function BrowserRouter(_e){let{basename:$,children:ht,future:vt,window:xt}=_e,bt=reactExports.useRef();bt.current==null&&(bt.current=createBrowserHistory({window:xt,v5Compat:!0}));let Et=bt.current,[_t,At]=reactExports.useState({action:Et.action,location:Et.location}),{v7_startTransition:Ct}=vt||{},St=reactExports.useCallback(Rt=>{Ct&&startTransitionImpl?startTransitionImpl(()=>At(Rt)):At(Rt)},[At,Ct]);return reactExports.useLayoutEffect(()=>Et.listen(St),[Et,St]),reactExports.createElement(Router,{basename:$,children:ht,location:_t.location,navigationType:_t.action,navigator:Et,future:vt})}var DataRouterHook;(function(_e){_e.UseScrollRestoration="useScrollRestoration",_e.UseSubmit="useSubmit",_e.UseSubmitFetcher="useSubmitFetcher",_e.UseFetcher="useFetcher",_e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_e){_e.UseFetcher="useFetcher",_e.UseFetchers="useFetchers",_e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(_e){const $=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{$.current=_e},[_e]),reactExports.useCallback((...ht)=>{const vt=$.current;return vt==null?void 0:vt(...ht)},[])}const $431fbd86ca7dc216$export$b204af158042fbac=_e=>{var $;return($=_e==null?void 0:_e.ownerDocument)!==null&&$!==void 0?$:document},$431fbd86ca7dc216$export$f21a1ffae260145a=_e=>_e&&"window"in _e&&_e.window===_e?_e:$431fbd86ca7dc216$export$b204af158042fbac(_e).defaultView||window;function r$3(_e){var $,ht,vt="";if(typeof _e=="string"||typeof _e=="number")vt+=_e;else if(typeof _e=="object")if(Array.isArray(_e)){var xt=_e.length;for($=0;$<xt;$++)_e[$]&&(ht=r$3(_e[$]))&&(vt&&(vt+=" "),vt+=ht)}else for(ht in _e)_e[ht]&&(vt&&(vt+=" "),vt+=ht);return vt}function clsx(){for(var _e,$,ht=0,vt="",xt=arguments.length;ht<xt;ht++)(_e=arguments[ht])&&($=r$3(_e))&&(vt&&(vt+=" "),vt+=$);return vt}function $c87311424ea30a05$var$testUserAgent(_e){var $;return typeof window>"u"||window.navigator==null?!1:(($=window.navigator.userAgentData)===null||$===void 0?void 0:$.brands.some(ht=>_e.test(ht.brand)))||_e.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(_e){var $;return typeof window<"u"&&window.navigator!=null?_e.test((($=window.navigator.userAgentData)===null||$===void 0?void 0:$.platform)||window.navigator.platform):!1}function $c87311424ea30a05$export$9ac100e40613ea10(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}function $c87311424ea30a05$export$a11b0059900ceec8(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}function $6a7db85432448f7f$export$60278871457622de(_e){return _e.mozInputSource===0&&_e.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&_e.pointerType?_e.type==="click"&&_e.buttons===1:_e.detail===0&&!_e.pointerType}class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor($,ht){this.nativeEvent=ht,this.target=ht.target,this.currentTarget=ht.currentTarget,this.relatedTarget=ht.relatedTarget,this.bubbles=ht.bubbles,this.cancelable=ht.cancelable,this.defaultPrevented=ht.defaultPrevented,this.eventPhase=ht.eventPhase,this.isTrusted=ht.isTrusted,this.timeStamp=ht.timeStamp,this.type=$}}function $8a9cb279dc87e130$export$715c682d09d639cc(_e){let $=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const vt=$.current;return()=>{vt.observer&&(vt.observer.disconnect(),vt.observer=null)}},[]);let ht=$8ae05eaa5c114e9c$export$7f54fc3180508a52(vt=>{_e==null||_e(vt)});return reactExports.useCallback(vt=>{if(vt.target instanceof HTMLButtonElement||vt.target instanceof HTMLInputElement||vt.target instanceof HTMLTextAreaElement||vt.target instanceof HTMLSelectElement){$.current.isFocused=!0;let xt=vt.target,bt=Et=>{$.current.isFocused=!1,xt.disabled&&ht(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",Et)),$.current.observer&&($.current.observer.disconnect(),$.current.observer=null)};xt.addEventListener("focusout",bt,{once:!0}),$.current.observer=new MutationObserver(()=>{if($.current.isFocused&&xt.disabled){var Et;(Et=$.current.observer)===null||Et===void 0||Et.disconnect();let _t=xt===document.activeElement?null:document.activeElement;xt.dispatchEvent(new FocusEvent("blur",{relatedTarget:_t})),xt.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:_t}))}}),$.current.observer.observe(xt,{attributes:!0,attributeFilter:["disabled"]})}},[ht])}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(_e){let{isDisabled:$,onFocus:ht,onBlur:vt,onFocusChange:xt}=_e;const bt=reactExports.useCallback(At=>{if(At.target===At.currentTarget)return vt&&vt(At),xt&&xt(!1),!0},[vt,xt]),Et=$8a9cb279dc87e130$export$715c682d09d639cc(bt),_t=reactExports.useCallback(At=>{const Ct=$431fbd86ca7dc216$export$b204af158042fbac(At.target);At.target===At.currentTarget&&Ct.activeElement===At.target&&(ht&&ht(At),xt&&xt(!0),Et(At))},[xt,ht,Et]);return{focusProps:{onFocus:!$&&(ht||xt||vt)?_t:void 0,onBlur:!$&&(vt||xt)?bt:void 0}}}let $507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(_e,$){for(let ht of $507fabe10e71c6fb$var$changeHandlers)ht(_e,$)}function $507fabe10e71c6fb$var$isValidKey(_e){return!(_e.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&_e.altKey||_e.ctrlKey||_e.key==="Control"||_e.key==="Shift"||_e.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(_e){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(_e)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",_e))}function $507fabe10e71c6fb$var$handlePointerEvent(_e){$507fabe10e71c6fb$var$currentModality="pointer",(_e.type==="mousedown"||_e.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",_e))}function $507fabe10e71c6fb$var$handleClickEvent(_e){$6a7db85432448f7f$export$60278871457622de(_e)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(_e){_e.target===window||_e.target===document||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",_e)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(_e){if(typeof window>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(_e)))return;const $=$431fbd86ca7dc216$export$f21a1ffae260145a(_e),ht=$431fbd86ca7dc216$export$b204af158042fbac(_e);let vt=$.HTMLElement.prototype.focus;$.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,vt.apply(this,arguments)},ht.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),ht.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),ht.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),$.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),$.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(ht.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(ht.addEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(_e)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set($,{focus:vt})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(_e,$)=>{const ht=$431fbd86ca7dc216$export$f21a1ffae260145a(_e),vt=$431fbd86ca7dc216$export$b204af158042fbac(_e);$&&vt.removeEventListener("DOMContentLoaded",$),$507fabe10e71c6fb$export$d90243b58daecda7.has(ht)&&(ht.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(ht).focus,vt.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),vt.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),vt.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),ht.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),ht.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(vt.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(vt.removeEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(ht))};function $507fabe10e71c6fb$export$2f1888112f558a7d(_e){const $=$431fbd86ca7dc216$export$b204af158042fbac(_e);let ht;return $.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(_e):(ht=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(_e)},$.addEventListener("DOMContentLoaded",ht)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(_e,ht)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(_e,$,ht){var vt;const xt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLInputElement:HTMLInputElement,bt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLTextAreaElement:HTMLTextAreaElement,Et=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLElement:HTMLElement,_t=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).KeyboardEvent:KeyboardEvent;return _e=_e||(ht==null?void 0:ht.target)instanceof xt&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(ht==null||(vt=ht.target)===null||vt===void 0?void 0:vt.type)||(ht==null?void 0:ht.target)instanceof bt||(ht==null?void 0:ht.target)instanceof Et&&(ht==null?void 0:ht.target.isContentEditable),!(_e&&$==="keyboard"&&ht instanceof _t&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[ht.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(_e,$,ht){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let vt=(xt,bt)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(ht!=null&&ht.isTextInput),xt,bt)&&_e($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(vt),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(vt)}},$)}function $9ab94262bd0047c7$export$420e68273165f4ec(_e){let{isDisabled:$,onBlurWithin:ht,onFocusWithin:vt,onFocusWithinChange:xt}=_e,bt=reactExports.useRef({isFocusWithin:!1}),Et=reactExports.useCallback(Ct=>{bt.current.isFocusWithin&&!Ct.currentTarget.contains(Ct.relatedTarget)&&(bt.current.isFocusWithin=!1,ht&&ht(Ct),xt&&xt(!1))},[ht,xt,bt]),_t=$8a9cb279dc87e130$export$715c682d09d639cc(Et),At=reactExports.useCallback(Ct=>{!bt.current.isFocusWithin&&document.activeElement===Ct.target&&(vt&&vt(Ct),xt&&xt(!0),bt.current.isFocusWithin=!0,_t(Ct))},[vt,xt,_t]);return $?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:At,onBlur:Et}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(_e){_e.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.addEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.removeEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents))}}function $6179b936705e76d3$export$ae780daf29e6d456(_e){let{onHoverStart:$,onHoverChange:ht,onHoverEnd:vt,isDisabled:xt}=_e,[bt,Et]=reactExports.useState(!1),_t=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{hoverProps:At,triggerHoverEnd:Ct}=reactExports.useMemo(()=>{let St=(kt,Mt)=>{if(_t.pointerType=Mt,xt||Mt==="touch"||_t.isHovered||!kt.currentTarget.contains(kt.target))return;_t.isHovered=!0;let Lt=kt.currentTarget;_t.target=Lt,$&&$({type:"hoverstart",target:Lt,pointerType:Mt}),ht&&ht(!0),Et(!0)},Rt=(kt,Mt)=>{if(_t.pointerType="",_t.target=null,Mt==="touch"||!_t.isHovered)return;_t.isHovered=!1;let Lt=kt.currentTarget;vt&&vt({type:"hoverend",target:Lt,pointerType:Mt}),ht&&ht(!1),Et(!1)},Pt={};return typeof PointerEvent<"u"?(Pt.onPointerEnter=kt=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&kt.pointerType==="mouse"||St(kt,kt.pointerType)},Pt.onPointerLeave=kt=>{!xt&&kt.currentTarget.contains(kt.target)&&Rt(kt,kt.pointerType)}):(Pt.onTouchStart=()=>{_t.ignoreEmulatedMouseEvents=!0},Pt.onMouseEnter=kt=>{!_t.ignoreEmulatedMouseEvents&&!$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&St(kt,"mouse"),_t.ignoreEmulatedMouseEvents=!1},Pt.onMouseLeave=kt=>{!xt&&kt.currentTarget.contains(kt.target)&&Rt(kt,"mouse")}),{hoverProps:Pt,triggerHoverEnd:Rt}},[$,ht,vt,xt,_t]);return reactExports.useEffect(()=>{xt&&Ct({currentTarget:_t.target},_t.pointerType)},[xt]),{hoverProps:At,isHovered:bt}}function $f7dceffc5ad7768b$export$4e328f61c538687f(_e={}){let{autoFocus:$=!1,isTextInput:ht,within:vt}=_e,xt=reactExports.useRef({isFocused:!1,isFocusVisible:$||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[bt,Et]=reactExports.useState(!1),[_t,At]=reactExports.useState(()=>xt.current.isFocused&&xt.current.isFocusVisible),Ct=reactExports.useCallback(()=>At(xt.current.isFocused&&xt.current.isFocusVisible),[]),St=reactExports.useCallback(kt=>{xt.current.isFocused=kt,Et(kt),Ct()},[Ct]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(kt=>{xt.current.isFocusVisible=kt,Ct()},[],{isTextInput:ht});let{focusProps:Rt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:vt,onFocusChange:St}),{focusWithinProps:Pt}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!vt,onFocusWithinChange:St});return{isFocused:bt,isFocusVisible:_t,focusProps:vt?Pt:Rt}}var i$5=Object.defineProperty,d$3=(_e,$,ht)=>$ in _e?i$5(_e,$,{enumerable:!0,configurable:!0,writable:!0,value:ht}):_e[$]=ht,r$2=(_e,$,ht)=>(d$3(_e,typeof $!="symbol"?$+"":$,ht),ht);let o$5=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set($){this.current!==$&&(this.handoffState="pending",this.currentId=0,this.current=$)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$5=new o$5;function u$7(_e){return s$5.isServer?null:_e instanceof Node?_e.ownerDocument:_e!=null&&_e.hasOwnProperty("current")&&_e.current instanceof Node?_e.current.ownerDocument:document}function t$3(_e){typeof queueMicrotask=="function"?queueMicrotask(_e):Promise.resolve().then(_e).catch($=>setTimeout(()=>{throw $}))}function o$4(){let _e=[],$={addEventListener(ht,vt,xt,bt){return ht.addEventListener(vt,xt,bt),$.add(()=>ht.removeEventListener(vt,xt,bt))},requestAnimationFrame(...ht){let vt=requestAnimationFrame(...ht);return $.add(()=>cancelAnimationFrame(vt))},nextFrame(...ht){return $.requestAnimationFrame(()=>$.requestAnimationFrame(...ht))},setTimeout(...ht){let vt=setTimeout(...ht);return $.add(()=>clearTimeout(vt))},microTask(...ht){let vt={current:!0};return t$3(()=>{vt.current&&ht[0]()}),$.add(()=>{vt.current=!1})},style(ht,vt,xt){let bt=ht.style.getPropertyValue(vt);return Object.assign(ht.style,{[vt]:xt}),this.add(()=>{Object.assign(ht.style,{[vt]:bt})})},group(ht){let vt=o$4();return ht(vt),this.add(()=>vt.dispose())},add(ht){return _e.includes(ht)||_e.push(ht),()=>{let vt=_e.indexOf(ht);if(vt>=0)for(let xt of _e.splice(vt,1))xt()}},dispose(){for(let ht of _e.splice(0))ht()}};return $}function p$3(){let[_e]=reactExports.useState(o$4);return reactExports.useEffect(()=>()=>_e.dispose(),[_e]),_e}let n$3=(_e,$)=>{s$5.isServer?reactExports.useEffect(_e,$):reactExports.useLayoutEffect(_e,$)};function s$4(_e){let $=reactExports.useRef(_e);return n$3(()=>{$.current=_e},[_e]),$}let o$3=function(_e){let $=s$4(_e);return React.useCallback((...ht)=>$.current(...ht),[$])};function E(_e){let $=_e.width/2,ht=_e.height/2;return{top:_e.clientY-ht,right:_e.clientX+$,bottom:_e.clientY+ht,left:_e.clientX-$}}function P$2(_e,$){return!(!_e||!$||_e.right<$.left||_e.left>$.right||_e.bottom<$.top||_e.top>$.bottom)}function w$1({disabled:_e=!1}={}){let $=reactExports.useRef(null),[ht,vt]=reactExports.useState(!1),xt=p$3(),bt=o$3(()=>{$.current=null,vt(!1),xt.dispose()}),Et=o$3(_t=>{if(xt.dispose(),$.current===null){$.current=_t.currentTarget,vt(!0);{let At=u$7(_t.currentTarget);xt.addEventListener(At,"pointerup",bt,!1),xt.addEventListener(At,"pointermove",Ct=>{if($.current){let St=E(Ct);vt(P$2(St,$.current.getBoundingClientRect()))}},!1),xt.addEventListener(At,"pointercancel",bt,!1)}}});return{pressed:ht,pressProps:_e?{}:{onPointerDown:Et,onPointerUp:bt,onClick:bt}}}let e$2=reactExports.createContext(void 0);function a$7(){return reactExports.useContext(e$2)}function t$2(..._e){return Array.from(new Set(_e.flatMap($=>typeof $=="string"?$.split(" "):[]))).filter(Boolean).join(" ")}function u$6(_e,$,...ht){if(_e in $){let xt=$[_e];return typeof xt=="function"?xt(...ht):xt}let vt=new Error(`Tried to handle "${_e}" but there is no handler defined. Only defined handlers are: ${Object.keys($).map(xt=>`"${xt}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(vt,u$6),vt}var O$1=(_e=>(_e[_e.None=0]="None",_e[_e.RenderStrategy=1]="RenderStrategy",_e[_e.Static=2]="Static",_e))(O$1||{}),M$2=(_e=>(_e[_e.Unmount=0]="Unmount",_e[_e.Hidden=1]="Hidden",_e))(M$2||{});function H$1({ourProps:_e,theirProps:$,slot:ht,defaultTag:vt,features:xt,visible:bt=!0,name:Et,mergeRefs:_t}){_t=_t??A$2;let At=N$2($,_e);if(bt)return b$1(At,ht,vt,Et,_t);let Ct=xt??0;if(Ct&2){let{static:St=!1,...Rt}=At;if(St)return b$1(Rt,ht,vt,Et,_t)}if(Ct&1){let{unmount:St=!0,...Rt}=At;return u$6(St?0:1,{0(){return null},1(){return b$1({...Rt,hidden:!0,style:{display:"none"}},ht,vt,Et,_t)}})}return b$1(At,ht,vt,Et,_t)}function b$1(_e,$={},ht,vt,xt){let{as:bt=ht,children:Et,refName:_t="ref",...At}=h$2(_e,["unmount","static"]),Ct=_e.ref!==void 0?{[_t]:_e.ref}:{},St=typeof Et=="function"?Et($):Et;"className"in At&&At.className&&typeof At.className=="function"&&(At.className=At.className($)),At["aria-labelledby"]&&At["aria-labelledby"]===At.id&&(At["aria-labelledby"]=void 0);let Rt={};if($){let Pt=!1,kt=[];for(let[Mt,Lt]of Object.entries($))typeof Lt=="boolean"&&(Pt=!0),Lt===!0&&kt.push(Mt.replace(/([A-Z])/g,Ot=>`-${Ot.toLowerCase()}`));if(Pt){Rt["data-headlessui-state"]=kt.join(" ");for(let Mt of kt)Rt[`data-${Mt}`]=""}}if(bt===reactExports.Fragment&&(Object.keys(m$3(At)).length>0||Object.keys(m$3(Rt)).length>0))if(!reactExports.isValidElement(St)||Array.isArray(St)&&St.length>1){if(Object.keys(m$3(At)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${vt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$3(At)).concat(Object.keys(m$3(Rt))).map(Pt=>`  - ${Pt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(Pt=>`  - ${Pt}`).join(`
`)].join(`
`))}else{let Pt=St.props,kt=Pt==null?void 0:Pt.className,Mt=typeof kt=="function"?(...Ft)=>t$2(kt(...Ft),At.className):t$2(kt,At.className),Lt=Mt?{className:Mt}:{},Ot=N$2(St.props,m$3(h$2(At,["ref"])));for(let Ft in Rt)Ft in Ot&&delete Rt[Ft];return reactExports.cloneElement(St,Object.assign({},Ot,Rt,Ct,{ref:xt(St.ref,Ct.ref)},Lt))}return reactExports.createElement(bt,Object.assign({},h$2(At,["ref"]),bt!==reactExports.Fragment&&Ct,bt!==reactExports.Fragment&&Rt),St)}function A$2(..._e){return _e.every($=>$==null)?void 0:$=>{for(let ht of _e)ht!=null&&(typeof ht=="function"?ht($):ht.current=$)}}function N$2(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let $={},ht={};for(let vt of _e)for(let xt in vt)xt.startsWith("on")&&typeof vt[xt]=="function"?(ht[xt]!=null||(ht[xt]=[]),ht[xt].push(vt[xt])):$[xt]=vt[xt];if($.disabled||$["aria-disabled"])for(let vt in ht)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(vt)&&(ht[vt]=[xt=>{var bt;return(bt=xt==null?void 0:xt.preventDefault)==null?void 0:bt.call(xt)}]);for(let vt in ht)Object.assign($,{[vt](xt,...bt){let Et=ht[vt];for(let _t of Et){if((xt instanceof Event||(xt==null?void 0:xt.nativeEvent)instanceof Event)&&xt.defaultPrevented)return;_t(xt,...bt)}}});return $}function D$3(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let $={},ht={};for(let vt of _e)for(let xt in vt)xt.startsWith("on")&&typeof vt[xt]=="function"?(ht[xt]!=null||(ht[xt]=[]),ht[xt].push(vt[xt])):$[xt]=vt[xt];for(let vt in ht)Object.assign($,{[vt](...xt){let bt=ht[vt];for(let Et of bt)Et==null||Et(...xt)}});return $}function I$3(_e){var $;return Object.assign(reactExports.forwardRef(_e),{displayName:($=_e.displayName)!=null?$:_e.name})}function m$3(_e){let $=Object.assign({},_e);for(let ht in $)$[ht]===void 0&&delete $[ht];return $}function h$2(_e,$=[]){let ht=Object.assign({},_e);for(let vt of $)vt in ht&&delete ht[vt];return ht}let e$1=reactExports.createContext(void 0);function u$5(){return reactExports.useContext(e$1)}function r$1(_e){let $=_e.parentElement,ht=null;for(;$&&!($ instanceof HTMLFieldSetElement);)$ instanceof HTMLLegendElement&&(ht=$),$=$.parentElement;let vt=($==null?void 0:$.getAttribute("disabled"))==="";return vt&&i$4(ht)?!1:vt}function i$4(_e){if(!_e)return!1;let $=_e.previousElementSibling;for(;$!==null;){if($ instanceof HTMLLegendElement)return!1;$=$.previousElementSibling}return!0}let u$4=Symbol();function T$2(_e,$=!0){return Object.assign(_e,{[u$4]:$})}function y$4(..._e){let $=reactExports.useRef(_e);reactExports.useEffect(()=>{$.current=_e},[_e]);let ht=o$3(vt=>{for(let xt of $.current)xt!=null&&(typeof xt=="function"?xt(vt):xt.current=vt)});return _e.every(vt=>vt==null||(vt==null?void 0:vt[u$4]))?void 0:ht}let a$6=reactExports.createContext(null);a$6.displayName="DescriptionContext";function f$5(){let _e=reactExports.useContext(a$6);if(_e===null){let $=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,f$5),$}return _e}function U$1(){let[_e,$]=reactExports.useState([]);return[_e.length>0?_e.join(" "):void 0,reactExports.useMemo(()=>function(ht){let vt=o$3(bt=>($(Et=>[...Et,bt]),()=>$(Et=>{let _t=Et.slice(),At=_t.indexOf(bt);return At!==-1&&_t.splice(At,1),_t}))),xt=reactExports.useMemo(()=>({register:vt,slot:ht.slot,name:ht.name,props:ht.props,value:ht.value}),[vt,ht.slot,ht.name,ht.props,ht.value]);return React.createElement(a$6.Provider,{value:xt},ht.children)},[$])]}let S$3="p";function C(_e,$){let ht=reactExports.useId(),vt=a$7(),{id:xt=`headlessui-description-${ht}`,...bt}=_e,Et=f$5(),_t=y$4($);n$3(()=>Et.register(xt),[xt,Et.register]);let At=vt||!1,Ct=reactExports.useMemo(()=>({...Et.slot,disabled:At}),[Et.slot,At]),St={ref:_t,...Et.props,id:xt};return H$1({ourProps:St,theirProps:bt,slot:Ct,defaultTag:S$3,name:Et.name||"Description"})}let _$1=I$3(C);Object.assign(_$1,{});var o$2=(_e=>(_e.Space=" ",_e.Enter="Enter",_e.Escape="Escape",_e.Backspace="Backspace",_e.Delete="Delete",_e.ArrowLeft="ArrowLeft",_e.ArrowUp="ArrowUp",_e.ArrowRight="ArrowRight",_e.ArrowDown="ArrowDown",_e.Home="Home",_e.End="End",_e.PageUp="PageUp",_e.PageDown="PageDown",_e.Tab="Tab",_e))(o$2||{});let c$4=reactExports.createContext(null);c$4.displayName="LabelContext";function P$1(){let _e=reactExports.useContext(c$4);if(_e===null){let $=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,P$1),$}return _e}function I$2(_e){var $,ht,vt;let xt=(ht=($=reactExports.useContext(c$4))==null?void 0:$.value)!=null?ht:void 0;return((vt=void 0)!=null?vt:0)>0?[xt,..._e].filter(Boolean).join(" "):xt}function z({inherit:_e=!1}={}){let $=I$2(),[ht,vt]=reactExports.useState([]),xt=_e?[$,...ht].filter(Boolean):ht;return[xt.length>0?xt.join(" "):void 0,reactExports.useMemo(()=>function(bt){let Et=o$3(At=>(vt(Ct=>[...Ct,At]),()=>vt(Ct=>{let St=Ct.slice(),Rt=St.indexOf(At);return Rt!==-1&&St.splice(Rt,1),St}))),_t=reactExports.useMemo(()=>({register:Et,slot:bt.slot,name:bt.name,props:bt.props,value:bt.value}),[Et,bt.slot,bt.name,bt.props,bt.value]);return React.createElement(c$4.Provider,{value:_t},bt.children)},[vt])]}let N$1="label";function G$1(_e,$){var ht;let vt=reactExports.useId(),xt=P$1(),bt=u$5(),Et=a$7(),{id:_t=`headlessui-label-${vt}`,htmlFor:At=bt??((ht=xt.props)==null?void 0:ht.htmlFor),passive:Ct=!1,...St}=_e,Rt=y$4($);n$3(()=>xt.register(_t),[_t,xt.register]);let Pt=o$3(Ot=>{let Ft=Ot.currentTarget;if(Ft instanceof HTMLLabelElement&&Ot.preventDefault(),xt.props&&"onClick"in xt.props&&typeof xt.props.onClick=="function"&&xt.props.onClick(Ot),Ft instanceof HTMLLabelElement){let Dt=document.getElementById(Ft.htmlFor);if(Dt){let $t=Dt.getAttribute("disabled");if($t==="true"||$t==="")return;let Bt=Dt.getAttribute("aria-disabled");if(Bt==="true"||Bt==="")return;(Dt instanceof HTMLInputElement&&(Dt.type==="radio"||Dt.type==="checkbox")||Dt.role==="radio"||Dt.role==="checkbox"||Dt.role==="switch")&&Dt.click(),Dt.focus({preventScroll:!0})}}}),kt=Et||!1,Mt=reactExports.useMemo(()=>({...xt.slot,disabled:kt}),[xt.slot,kt]),Lt={ref:Rt,...xt.props,id:_t,htmlFor:At,onClick:Pt};return Ct&&("onClick"in Lt&&(delete Lt.htmlFor,delete Lt.onClick),"onClick"in St&&delete St.onClick),H$1({ourProps:Lt,theirProps:St,slot:Mt,defaultTag:At?N$1:"div",name:xt.name||"Label"})}let U=I$3(G$1);Object.assign(U,{});function s$3(_e){if(_e===null)return{width:0,height:0};let{width:$,height:ht}=_e.getBoundingClientRect();return{width:$,height:ht}}function f$4(_e,$=!1){let ht=_e===null?null:"current"in _e?_e.current:_e,[vt,xt]=reactExports.useReducer(()=>({}),{}),bt=reactExports.useMemo(()=>s$3(ht),[ht,vt]);return n$3(()=>{if(!ht)return;let Et=new ResizeObserver(xt);return Et.observe(ht),()=>{Et.disconnect()}},[ht]),$?{width:`${bt.width}px`,height:`${bt.height}px`}:bt}let a$5=class extends Map{constructor($){super(),this.factory=$}get($){let ht=super.get($);return ht===void 0&&(ht=this.factory($),this.set($,ht)),ht}};function a$4(_e,$){let ht=_e(),vt=new Set;return{getSnapshot(){return ht},subscribe(xt){return vt.add(xt),()=>vt.delete(xt)},dispatch(xt,...bt){let Et=$[xt].call(ht,...bt);Et&&(ht=Et,vt.forEach(_t=>_t()))}}}function o$1(_e){return reactExports.useSyncExternalStore(_e.subscribe,_e.getSnapshot,_e.getSnapshot)}let p$2=new a$5(()=>a$4(()=>[],{ADD(_e){return this.includes(_e)?this:[...this,_e]},REMOVE(_e){let $=this.indexOf(_e);if($===-1)return this;let ht=this.slice();return ht.splice($,1),ht}}));function x(_e,$){let ht=p$2.get($),vt=reactExports.useId(),xt=o$1(ht);if(n$3(()=>{if(_e)return ht.dispatch("ADD",vt),()=>ht.dispatch("REMOVE",vt)},[ht,_e]),!_e)return!1;let bt=xt.indexOf(vt),Et=xt.length;return bt===-1&&(bt=Et,Et+=1),bt===Et-1}let f$3=new Map,u$3=new Map;function h$1(_e){var $;let ht=($=u$3.get(_e))!=null?$:0;return u$3.set(_e,ht+1),ht!==0?()=>m$2(_e):(f$3.set(_e,{"aria-hidden":_e.getAttribute("aria-hidden"),inert:_e.inert}),_e.setAttribute("aria-hidden","true"),_e.inert=!0,()=>m$2(_e))}function m$2(_e){var $;let ht=($=u$3.get(_e))!=null?$:1;if(ht===1?u$3.delete(_e):u$3.set(_e,ht-1),ht!==1)return;let vt=f$3.get(_e);vt&&(vt["aria-hidden"]===null?_e.removeAttribute("aria-hidden"):_e.setAttribute("aria-hidden",vt["aria-hidden"]),_e.inert=vt.inert,f$3.delete(_e))}function y$3(_e,{allowed:$,disallowed:ht}={}){let vt=x(_e,"inert-others");n$3(()=>{var xt,bt;if(!vt)return;let Et=o$4();for(let At of(xt=ht==null?void 0:ht())!=null?xt:[])At&&Et.add(h$1(At));let _t=(bt=$==null?void 0:$())!=null?bt:[];for(let At of _t){if(!At)continue;let Ct=u$7(At);if(!Ct)continue;let St=At.parentElement;for(;St&&St!==Ct.body;){for(let Rt of St.children)_t.some(Pt=>Rt.contains(Pt))||Et.add(h$1(Rt));St=St.parentElement}}return Et.dispose},[vt,$,ht])}function m$1(_e,$,ht){let vt=s$4(xt=>{let bt=xt.getBoundingClientRect();bt.x===0&&bt.y===0&&bt.width===0&&bt.height===0&&ht()});reactExports.useEffect(()=>{if(!_e)return;let xt=$===null?null:$ instanceof HTMLElement?$:$.current;if(!xt)return;let bt=o$4();if(typeof ResizeObserver<"u"){let Et=new ResizeObserver(()=>vt.current(xt));Et.observe(xt),bt.add(()=>Et.disconnect())}if(typeof IntersectionObserver<"u"){let Et=new IntersectionObserver(()=>vt.current(xt));Et.observe(xt),bt.add(()=>Et.disconnect())}return()=>bt.dispose()},[$,vt,_e])}let f$2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(_e=>`${_e}:not([tabindex='-1'])`).join(","),p$1=["[data-autofocus]"].map(_e=>`${_e}:not([tabindex='-1'])`).join(",");var F$3=(_e=>(_e[_e.First=1]="First",_e[_e.Previous=2]="Previous",_e[_e.Next=4]="Next",_e[_e.Last=8]="Last",_e[_e.WrapAround=16]="WrapAround",_e[_e.NoScroll=32]="NoScroll",_e[_e.AutoFocus=64]="AutoFocus",_e))(F$3||{}),T$1=(_e=>(_e[_e.Error=0]="Error",_e[_e.Overflow=1]="Overflow",_e[_e.Success=2]="Success",_e[_e.Underflow=3]="Underflow",_e))(T$1||{}),y$2=(_e=>(_e[_e.Previous=-1]="Previous",_e[_e.Next=1]="Next",_e))(y$2||{});function b(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(f$2)).sort(($,ht)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(ht.tabIndex||Number.MAX_SAFE_INTEGER)))}function S$2(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(p$1)).sort(($,ht)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(ht.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(_e=>(_e[_e.Strict=0]="Strict",_e[_e.Loose=1]="Loose",_e))(h||{});function A$1(_e,$=0){var ht;return _e===((ht=u$7(_e))==null?void 0:ht.body)?!1:u$6($,{0(){return _e.matches(f$2)},1(){let vt=_e;for(;vt!==null;){if(vt.matches(f$2))return!0;vt=vt.parentElement}return!1}})}function G(_e){let $=u$7(_e);o$4().nextFrame(()=>{$&&!A$1($.activeElement,0)&&I$1(_e)})}var H=(_e=>(_e[_e.Keyboard=0]="Keyboard",_e[_e.Mouse=1]="Mouse",_e))(H||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",_e=>{_e.metaKey||_e.altKey||_e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",_e=>{_e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:_e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$1(_e){_e==null||_e.focus({preventScroll:!0})}let w=["textarea","input"].join(",");function O(_e){var $,ht;return(ht=($=_e==null?void 0:_e.matches)==null?void 0:$.call(_e,w))!=null?ht:!1}function _(_e,$=ht=>ht){return _e.slice().sort((ht,vt)=>{let xt=$(ht),bt=$(vt);if(xt===null||bt===null)return 0;let Et=xt.compareDocumentPosition(bt);return Et&Node.DOCUMENT_POSITION_FOLLOWING?-1:Et&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j$2(_e,$){return P(b(),$,{relativeTo:_e})}function P(_e,$,{sorted:ht=!0,relativeTo:vt=null,skipElements:xt=[]}={}){let bt=Array.isArray(_e)?_e.length>0?_e[0].ownerDocument:document:_e.ownerDocument,Et=Array.isArray(_e)?ht?_(_e):_e:$&64?S$2(_e):b(_e);xt.length>0&&Et.length>1&&(Et=Et.filter(kt=>!xt.some(Mt=>Mt!=null&&"current"in Mt?(Mt==null?void 0:Mt.current)===kt:Mt===kt))),vt=vt??bt.activeElement;let _t=(()=>{if($&5)return 1;if($&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),At=(()=>{if($&1)return 0;if($&2)return Math.max(0,Et.indexOf(vt))-1;if($&4)return Math.max(0,Et.indexOf(vt))+1;if($&8)return Et.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Ct=$&32?{preventScroll:!0}:{},St=0,Rt=Et.length,Pt;do{if(St>=Rt||St+Rt<=0)return 0;let kt=At+St;if($&16)kt=(kt+Rt)%Rt;else{if(kt<0)return 3;if(kt>=Rt)return 1}Pt=Et[kt],Pt==null||Pt.focus(Ct),St+=_t}while(Pt!==bt.activeElement);return $&6&&O(Pt)&&Pt.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$3(){return/Android/gi.test(window.navigator.userAgent)}function n$2(){return t$1()||i$3()}function i$2(_e,$,ht,vt){let xt=s$4(ht);reactExports.useEffect(()=>{if(!_e)return;function bt(Et){xt.current(Et)}return document.addEventListener($,bt,vt),()=>document.removeEventListener($,bt,vt)},[_e,$,vt])}function s$2(_e,$,ht,vt){let xt=s$4(ht);reactExports.useEffect(()=>{if(!_e)return;function bt(Et){xt.current(Et)}return window.addEventListener($,bt,vt),()=>window.removeEventListener($,bt,vt)},[_e,$,vt])}const d$2=30;function F$2(_e,$,ht){let vt=x(_e,"outside-click"),xt=s$4(ht),bt=reactExports.useCallback(function(At,Ct){if(At.defaultPrevented)return;let St=Ct(At);if(St===null||!St.getRootNode().contains(St)||!St.isConnected)return;let Rt=function Pt(kt){return typeof kt=="function"?Pt(kt()):Array.isArray(kt)||kt instanceof Set?kt:[kt]}($);for(let Pt of Rt){if(Pt===null)continue;let kt=Pt instanceof HTMLElement?Pt:Pt.current;if(kt!=null&&kt.contains(St)||At.composed&&At.composedPath().includes(kt))return}return!A$1(St,h.Loose)&&St.tabIndex!==-1&&At.preventDefault(),xt.current(At,St)},[xt]),Et=reactExports.useRef(null);i$2(vt,"pointerdown",At=>{var Ct,St;Et.current=((St=(Ct=At.composedPath)==null?void 0:Ct.call(At))==null?void 0:St[0])||At.target},!0),i$2(vt,"mousedown",At=>{var Ct,St;Et.current=((St=(Ct=At.composedPath)==null?void 0:Ct.call(At))==null?void 0:St[0])||At.target},!0),i$2(vt,"click",At=>{n$2()||Et.current&&(bt(At,()=>Et.current),Et.current=null)},!0);let _t=reactExports.useRef({x:0,y:0});i$2(vt,"touchstart",At=>{_t.current.x=At.touches[0].clientX,_t.current.y=At.touches[0].clientY},!0),i$2(vt,"touchend",At=>{let Ct={x:At.changedTouches[0].clientX,y:At.changedTouches[0].clientY};if(!(Math.abs(Ct.x-_t.current.x)>=d$2||Math.abs(Ct.y-_t.current.y)>=d$2))return bt(At,()=>At.target instanceof HTMLElement?At.target:null)},!0),s$2(vt,"blur",At=>bt(At,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function n$1(..._e){return reactExports.useMemo(()=>u$7(..._e),[..._e])}function i$1(_e){var $;if(_e.type)return _e.type;let ht=($=_e.as)!=null?$:"button";if(typeof ht=="string"&&ht.toLowerCase()==="button")return"button"}function T(_e,$){let[ht,vt]=reactExports.useState(()=>i$1(_e));return n$3(()=>{vt(i$1(_e))},[_e.type,_e.as]),n$3(()=>{ht||$.current&&$.current instanceof HTMLButtonElement&&!$.current.hasAttribute("type")&&vt("button")},[ht,$]),ht}function d$1(){let _e;return{before({doc:$}){var ht;let vt=$.documentElement,xt=(ht=$.defaultView)!=null?ht:window;_e=Math.max(0,xt.innerWidth-vt.clientWidth)},after({doc:$,d:ht}){let vt=$.documentElement,xt=Math.max(0,vt.clientWidth-vt.offsetWidth),bt=Math.max(0,_e-xt);ht.style(vt,"paddingRight",`${bt}px`)}}}function d(){return t$1()?{before({doc:_e,d:$,meta:ht}){function vt(xt){return ht.containers.flatMap(bt=>bt()).some(bt=>bt.contains(xt))}$.microTask(()=>{var xt;if(window.getComputedStyle(_e.documentElement).scrollBehavior!=="auto"){let _t=o$4();_t.style(_e.documentElement,"scrollBehavior","auto"),$.add(()=>$.microTask(()=>_t.dispose()))}let bt=(xt=window.scrollY)!=null?xt:window.pageYOffset,Et=null;$.addEventListener(_e,"click",_t=>{if(_t.target instanceof HTMLElement)try{let At=_t.target.closest("a");if(!At)return;let{hash:Ct}=new URL(At.href),St=_e.querySelector(Ct);St&&!vt(St)&&(Et=St)}catch{}},!0),$.addEventListener(_e,"touchstart",_t=>{if(_t.target instanceof HTMLElement)if(vt(_t.target)){let At=_t.target;for(;At.parentElement&&vt(At.parentElement);)At=At.parentElement;$.style(At,"overscrollBehavior","contain")}else $.style(_t.target,"touchAction","none")}),$.addEventListener(_e,"touchmove",_t=>{if(_t.target instanceof HTMLElement){if(_t.target.tagName==="INPUT")return;if(vt(_t.target)){let At=_t.target;for(;At.parentElement&&At.dataset.headlessuiPortal!==""&&!(At.scrollHeight>At.clientHeight||At.scrollWidth>At.clientWidth);)At=At.parentElement;At.dataset.headlessuiPortal===""&&_t.preventDefault()}else _t.preventDefault()}},{passive:!1}),$.add(()=>{var _t;let At=(_t=window.scrollY)!=null?_t:window.pageYOffset;bt!==At&&window.scrollTo(0,bt),Et&&Et.isConnected&&(Et.scrollIntoView({block:"nearest"}),Et=null)})})}}:{}}function r(){return{before({doc:_e,d:$}){$.style(_e.documentElement,"overflow","hidden")}}}function m(_e){let $={};for(let ht of _e)Object.assign($,ht($));return $}let a$3=a$4(()=>new Map,{PUSH(_e,$){var ht;let vt=(ht=this.get(_e))!=null?ht:{doc:_e,count:0,d:o$4(),meta:new Set};return vt.count++,vt.meta.add($),this.set(_e,vt),this},POP(_e,$){let ht=this.get(_e);return ht&&(ht.count--,ht.meta.delete($)),this},SCROLL_PREVENT({doc:_e,d:$,meta:ht}){let vt={doc:_e,d:$,meta:m(ht)},xt=[d(),d$1(),r()];xt.forEach(({before:bt})=>bt==null?void 0:bt(vt)),xt.forEach(({after:bt})=>bt==null?void 0:bt(vt))},SCROLL_ALLOW({d:_e}){_e.dispose()},TEARDOWN({doc:_e}){this.delete(_e)}});a$3.subscribe(()=>{let _e=a$3.getSnapshot(),$=new Map;for(let[ht]of _e)$.set(ht,ht.documentElement.style.overflow);for(let ht of _e.values()){let vt=$.get(ht.doc)==="hidden",xt=ht.count!==0;(xt&&!vt||!xt&&vt)&&a$3.dispatch(ht.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",ht),ht.count===0&&a$3.dispatch("TEARDOWN",ht)}});function a$2(_e,$,ht=()=>({containers:[]})){let vt=o$1(a$3),xt=$?vt.get($):void 0,bt=xt?xt.count>0:!1;return n$3(()=>{if(!(!$||!_e))return a$3.dispatch("PUSH",$,ht),()=>a$3.dispatch("POP",$,ht)},[_e,$]),bt}function f$1(_e,$,ht=()=>[document.body]){let vt=x(_e,"scroll-lock");a$2(vt,$,xt=>{var bt;return{containers:[...(bt=xt.containers)!=null?bt:[],ht]}})}function t(_e){return[_e.screenX,_e.screenY]}function u$2(){let _e=reactExports.useRef([-1,-1]);return{wasMoved($){let ht=t($);return _e.current[0]===ht[0]&&_e.current[1]===ht[1]?!1:(_e.current=ht,!0)},update($){_e.current=t($)}}}function l$1(_e){let $={called:!1};return(...ht)=>{if(!$.called)return $.called=!0,_e(...ht)}}function c$3(_e=0){let[$,ht]=reactExports.useState(_e),vt=reactExports.useCallback(At=>ht(At),[$]),xt=reactExports.useCallback(At=>ht(Ct=>Ct|At),[$]),bt=reactExports.useCallback(At=>($&At)===At,[$]),Et=reactExports.useCallback(At=>ht(Ct=>Ct&~At),[ht]),_t=reactExports.useCallback(At=>ht(Ct=>Ct^At),[ht]);return{flags:$,setFlag:vt,addFlag:xt,hasFlag:bt,removeFlag:Et,toggleFlag:_t}}var D$2=(_e=>(_e[_e.None=0]="None",_e[_e.Closed=1]="Closed",_e[_e.Enter=2]="Enter",_e[_e.Leave=4]="Leave",_e))(D$2||{});function A(_e){let $={};for(let ht in _e)_e[ht]===!0&&($[`data-${ht}`]="");return $}function V(_e,$,ht,vt){let[xt,bt]=reactExports.useState(ht),{hasFlag:Et,addFlag:_t,removeFlag:At}=c$3(_e&&xt?3:0),Ct=reactExports.useRef(!1),St=reactExports.useRef(!1),Rt=p$3();return n$3(function Pt(){var kt;if(!_e)return;ht&&bt(!0);let Mt=$.current;return Mt?((kt=void 0)==null||kt.call(vt,ht),M$1(Mt,{inFlight:Ct,prepare(){St.current?St.current=!1:St.current=Ct.current,Ct.current=!0,!St.current&&(ht?(_t(3),At(4)):(_t(4),At(2)))},run(){St.current?ht?(At(3),_t(4)):(At(4),_t(3)):ht?At(1):_t(1)},done(){var Lt;St.current&&typeof Mt.getAnimations=="function"&&Mt.getAnimations().length>0||(Ct.current=!1,At(7),ht||bt(!1),(Lt=void 0)==null||Lt.call(vt,ht))}})):ht?(_t(3),Rt.nextFrame(()=>Pt())):void 0},[_e,ht,$,Rt]),_e?[xt,{closed:Et(1),enter:Et(2),leave:Et(4),transition:Et(2)||Et(4)}]:[ht,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function M$1(_e,{prepare:$,run:ht,done:vt,inFlight:xt}){let bt=o$4();return R(_e,{prepare:$,inFlight:xt}),bt.nextFrame(()=>{bt.add(F$1(_e,vt)),ht()}),bt.dispose}function F$1(_e,$){let ht=l$1($),vt=o$4();if(!_e)return vt.dispose;let{transitionDuration:xt,transitionDelay:bt}=getComputedStyle(_e),[Et,_t]=[xt,bt].map(Ct=>{let[St=0]=Ct.split(",").filter(Boolean).map(Rt=>Rt.includes("ms")?parseFloat(Rt):parseFloat(Rt)*1e3).sort((Rt,Pt)=>Pt-Rt);return St}),At=Et+_t;if(At!==0){let Ct=vt.group(St=>{let Rt=St.setTimeout(()=>{ht(),St.dispose()},At);St.addEventListener(_e,"transitionrun",Pt=>{Pt.target===Pt.currentTarget&&(Rt(),St.addEventListener(_e,"transitioncancel",kt=>{kt.target===kt.currentTarget&&(ht(),Ct())}))})});vt.addEventListener(_e,"transitionend",St=>{St.target===St.currentTarget&&(ht(),vt.dispose())})}else ht();return vt.dispose}function R(_e,{inFlight:$,prepare:ht}){if($!=null&&$.current){ht();return}let vt=_e.style.transition;_e.style.transition="none",ht(),_e.offsetHeight,_e.style.transition=vt}function F(_e,{container:$,accept:ht,walk:vt}){let xt=reactExports.useRef(ht),bt=reactExports.useRef(vt);reactExports.useEffect(()=>{xt.current=ht,bt.current=vt},[ht,vt]),n$3(()=>{if(!$||!_e)return;let Et=u$7($);if(!Et)return;let _t=xt.current,At=bt.current,Ct=Object.assign(Rt=>_t(Rt),{acceptNode:_t}),St=Et.createTreeWalker($,NodeFilter.SHOW_ELEMENT,Ct,!1);for(;St.nextNode();)At(St.currentNode)},[$,_e,xt,bt])}function getNodeName(_e){return isNode(_e)?(_e.nodeName||"").toLowerCase():"#document"}function getWindow(_e){var $;return(_e==null||($=_e.ownerDocument)==null?void 0:$.defaultView)||window}function getDocumentElement(_e){var $;return($=(isNode(_e)?_e.ownerDocument:_e.document)||window.document)==null?void 0:$.documentElement}function isNode(_e){return _e instanceof Node||_e instanceof getWindow(_e).Node}function isElement(_e){return _e instanceof Element||_e instanceof getWindow(_e).Element}function isHTMLElement(_e){return _e instanceof HTMLElement||_e instanceof getWindow(_e).HTMLElement}function isShadowRoot(_e){return typeof ShadowRoot>"u"?!1:_e instanceof ShadowRoot||_e instanceof getWindow(_e).ShadowRoot}function isOverflowElement(_e){const{overflow:$,overflowX:ht,overflowY:vt,display:xt}=getComputedStyle$1(_e);return/auto|scroll|overlay|hidden|clip/.test($+vt+ht)&&!["inline","contents"].includes(xt)}function isTableElement(_e){return["table","td","th"].includes(getNodeName(_e))}function isTopLayer(_e){return[":popover-open",":modal"].some($=>{try{return _e.matches($)}catch{return!1}})}function isContainingBlock(_e){const $=isWebKit(),ht=getComputedStyle$1(_e);return ht.transform!=="none"||ht.perspective!=="none"||(ht.containerType?ht.containerType!=="normal":!1)||!$&&(ht.backdropFilter?ht.backdropFilter!=="none":!1)||!$&&(ht.filter?ht.filter!=="none":!1)||["transform","perspective","filter"].some(vt=>(ht.willChange||"").includes(vt))||["paint","layout","strict","content"].some(vt=>(ht.contain||"").includes(vt))}function getContainingBlock(_e){let $=getParentNode(_e);for(;isHTMLElement($)&&!isLastTraversableNode($);){if(isTopLayer($))return null;if(isContainingBlock($))return $;$=getParentNode($)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(_e){return["html","body","#document"].includes(getNodeName(_e))}function getComputedStyle$1(_e){return getWindow(_e).getComputedStyle(_e)}function getNodeScroll(_e){return isElement(_e)?{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}:{scrollLeft:_e.pageXOffset,scrollTop:_e.pageYOffset}}function getParentNode(_e){if(getNodeName(_e)==="html")return _e;const $=_e.assignedSlot||_e.parentNode||isShadowRoot(_e)&&_e.host||getDocumentElement(_e);return isShadowRoot($)?$.host:$}function getNearestOverflowAncestor(_e){const $=getParentNode(_e);return isLastTraversableNode($)?_e.ownerDocument?_e.ownerDocument.body:_e.body:isHTMLElement($)&&isOverflowElement($)?$:getNearestOverflowAncestor($)}function getOverflowAncestors(_e,$,ht){var vt;$===void 0&&($=[]),ht===void 0&&(ht=!0);const xt=getNearestOverflowAncestor(_e),bt=xt===((vt=_e.ownerDocument)==null?void 0:vt.body),Et=getWindow(xt);return bt?$.concat(Et,Et.visualViewport||[],isOverflowElement(xt)?xt:[],Et.frameElement&&ht?getOverflowAncestors(Et.frameElement):[]):$.concat(xt,getOverflowAncestors(xt,[],ht))}function getUserAgent(){const _e=navigator.userAgentData;return _e&&Array.isArray(_e.brands)?_e.brands.map($=>{let{brand:ht,version:vt}=$;return ht+"/"+vt}).join(" "):navigator.userAgent}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=_e=>({x:_e,y:_e}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(_e,$,ht){return max(_e,min($,ht))}function evaluate(_e,$){return typeof _e=="function"?_e($):_e}function getSide(_e){return _e.split("-")[0]}function getAlignment(_e){return _e.split("-")[1]}function getOppositeAxis(_e){return _e==="x"?"y":"x"}function getAxisLength(_e){return _e==="y"?"height":"width"}function getSideAxis(_e){return["top","bottom"].includes(getSide(_e))?"y":"x"}function getAlignmentAxis(_e){return getOppositeAxis(getSideAxis(_e))}function getAlignmentSides(_e,$,ht){ht===void 0&&(ht=!1);const vt=getAlignment(_e),xt=getAlignmentAxis(_e),bt=getAxisLength(xt);let Et=xt==="x"?vt===(ht?"end":"start")?"right":"left":vt==="start"?"bottom":"top";return $.reference[bt]>$.floating[bt]&&(Et=getOppositePlacement(Et)),[Et,getOppositePlacement(Et)]}function getExpandedPlacements(_e){const $=getOppositePlacement(_e);return[getOppositeAlignmentPlacement(_e),$,getOppositeAlignmentPlacement($)]}function getOppositeAlignmentPlacement(_e){return _e.replace(/start|end/g,$=>oppositeAlignmentMap[$])}function getSideList(_e,$,ht){const vt=["left","right"],xt=["right","left"],bt=["top","bottom"],Et=["bottom","top"];switch(_e){case"top":case"bottom":return ht?$?xt:vt:$?vt:xt;case"left":case"right":return $?bt:Et;default:return[]}}function getOppositeAxisPlacements(_e,$,ht,vt){const xt=getAlignment(_e);let bt=getSideList(getSide(_e),ht==="start",vt);return xt&&(bt=bt.map(Et=>Et+"-"+xt),$&&(bt=bt.concat(bt.map(getOppositeAlignmentPlacement)))),bt}function getOppositePlacement(_e){return _e.replace(/left|right|bottom|top/g,$=>oppositeSideMap[$])}function expandPaddingObject(_e){return{top:0,right:0,bottom:0,left:0,..._e}}function getPaddingObject(_e){return typeof _e!="number"?expandPaddingObject(_e):{top:_e,right:_e,bottom:_e,left:_e}}function rectToClientRect(_e){const{x:$,y:ht,width:vt,height:xt}=_e;return{width:vt,height:xt,top:ht,left:$,right:$+vt,bottom:ht+xt,x:$,y:ht}}function computeCoordsFromPlacement(_e,$,ht){let{reference:vt,floating:xt}=_e;const bt=getSideAxis($),Et=getAlignmentAxis($),_t=getAxisLength(Et),At=getSide($),Ct=bt==="y",St=vt.x+vt.width/2-xt.width/2,Rt=vt.y+vt.height/2-xt.height/2,Pt=vt[_t]/2-xt[_t]/2;let kt;switch(At){case"top":kt={x:St,y:vt.y-xt.height};break;case"bottom":kt={x:St,y:vt.y+vt.height};break;case"right":kt={x:vt.x+vt.width,y:Rt};break;case"left":kt={x:vt.x-xt.width,y:Rt};break;default:kt={x:vt.x,y:vt.y}}switch(getAlignment($)){case"start":kt[Et]-=Pt*(ht&&Ct?-1:1);break;case"end":kt[Et]+=Pt*(ht&&Ct?-1:1);break}return kt}const computePosition$1=async(_e,$,ht)=>{const{placement:vt="bottom",strategy:xt="absolute",middleware:bt=[],platform:Et}=ht,_t=bt.filter(Boolean),At=await(Et.isRTL==null?void 0:Et.isRTL($));let Ct=await Et.getElementRects({reference:_e,floating:$,strategy:xt}),{x:St,y:Rt}=computeCoordsFromPlacement(Ct,vt,At),Pt=vt,kt={},Mt=0;for(let Lt=0;Lt<_t.length;Lt++){const{name:Ot,fn:Ft}=_t[Lt],{x:Dt,y:$t,data:Bt,reset:Nt}=await Ft({x:St,y:Rt,initialPlacement:vt,placement:Pt,strategy:xt,middlewareData:kt,rects:Ct,platform:Et,elements:{reference:_e,floating:$}});St=Dt??St,Rt=$t??Rt,kt={...kt,[Ot]:{...kt[Ot],...Bt}},Nt&&Mt<=50&&(Mt++,typeof Nt=="object"&&(Nt.placement&&(Pt=Nt.placement),Nt.rects&&(Ct=Nt.rects===!0?await Et.getElementRects({reference:_e,floating:$,strategy:xt}):Nt.rects),{x:St,y:Rt}=computeCoordsFromPlacement(Ct,Pt,At)),Lt=-1)}return{x:St,y:Rt,placement:Pt,strategy:xt,middlewareData:kt}};async function detectOverflow$1(_e,$){var ht;$===void 0&&($={});const{x:vt,y:xt,platform:bt,rects:Et,elements:_t,strategy:At}=_e,{boundary:Ct="clippingAncestors",rootBoundary:St="viewport",elementContext:Rt="floating",altBoundary:Pt=!1,padding:kt=0}=evaluate($,_e),Mt=getPaddingObject(kt),Ot=_t[Pt?Rt==="floating"?"reference":"floating":Rt],Ft=rectToClientRect(await bt.getClippingRect({element:(ht=await(bt.isElement==null?void 0:bt.isElement(Ot)))==null||ht?Ot:Ot.contextElement||await(bt.getDocumentElement==null?void 0:bt.getDocumentElement(_t.floating)),boundary:Ct,rootBoundary:St,strategy:At})),Dt=Rt==="floating"?{x:vt,y:xt,width:Et.floating.width,height:Et.floating.height}:Et.reference,$t=await(bt.getOffsetParent==null?void 0:bt.getOffsetParent(_t.floating)),Bt=await(bt.isElement==null?void 0:bt.isElement($t))?await(bt.getScale==null?void 0:bt.getScale($t))||{x:1,y:1}:{x:1,y:1},Nt=rectToClientRect(bt.convertOffsetParentRelativeRectToViewportRelativeRect?await bt.convertOffsetParentRelativeRectToViewportRelativeRect({elements:_t,rect:Dt,offsetParent:$t,strategy:At}):Dt);return{top:(Ft.top-Nt.top+Mt.top)/Bt.y,bottom:(Nt.bottom-Ft.bottom+Mt.bottom)/Bt.y,left:(Ft.left-Nt.left+Mt.left)/Bt.x,right:(Nt.right-Ft.right+Mt.right)/Bt.x}}const flip$2=function(_e){return _e===void 0&&(_e={}),{name:"flip",options:_e,async fn($){var ht,vt;const{placement:xt,middlewareData:bt,rects:Et,initialPlacement:_t,platform:At,elements:Ct}=$,{mainAxis:St=!0,crossAxis:Rt=!0,fallbackPlacements:Pt,fallbackStrategy:kt="bestFit",fallbackAxisSideDirection:Mt="none",flipAlignment:Lt=!0,...Ot}=evaluate(_e,$);if((ht=bt.arrow)!=null&&ht.alignmentOffset)return{};const Ft=getSide(xt),Dt=getSideAxis(_t),$t=getSide(_t)===_t,Bt=await(At.isRTL==null?void 0:At.isRTL(Ct.floating)),Nt=Pt||($t||!Lt?[getOppositePlacement(_t)]:getExpandedPlacements(_t)),Ht=Mt!=="none";!Pt&&Ht&&Nt.push(...getOppositeAxisPlacements(_t,Lt,Mt,Bt));const jt=[_t,...Nt],zt=await detectOverflow$1($,Ot),Kt=[];let en=((vt=bt.flip)==null?void 0:vt.overflows)||[];if(St&&Kt.push(zt[Ft]),Rt){const En=getAlignmentSides(xt,Et,Bt);Kt.push(zt[En[0]],zt[En[1]])}if(en=[...en,{placement:xt,overflows:Kt}],!Kt.every(En=>En<=0)){var Wt,Qt;const En=(((Wt=bt.flip)==null?void 0:Wt.index)||0)+1,un=jt[En];if(un)return{data:{index:En,overflows:en},reset:{placement:un}};let xn=(Qt=en.filter(an=>an.overflows[0]<=0).sort((an,hn)=>an.overflows[1]-hn.overflows[1])[0])==null?void 0:Qt.placement;if(!xn)switch(kt){case"bestFit":{var on;const an=(on=en.filter(hn=>{if(Ht){const nn=getSideAxis(hn.placement);return nn===Dt||nn==="y"}return!0}).map(hn=>[hn.placement,hn.overflows.filter(nn=>nn>0).reduce((nn,gn)=>nn+gn,0)]).sort((hn,nn)=>hn[1]-nn[1])[0])==null?void 0:on[0];an&&(xn=an);break}case"initialPlacement":xn=_t;break}if(xt!==xn)return{reset:{placement:xn}}}return{}}}};async function convertValueToCoords(_e,$){const{placement:ht,platform:vt,elements:xt}=_e,bt=await(vt.isRTL==null?void 0:vt.isRTL(xt.floating)),Et=getSide(ht),_t=getAlignment(ht),At=getSideAxis(ht)==="y",Ct=["left","top"].includes(Et)?-1:1,St=bt&&At?-1:1,Rt=evaluate($,_e);let{mainAxis:Pt,crossAxis:kt,alignmentAxis:Mt}=typeof Rt=="number"?{mainAxis:Rt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Rt};return _t&&typeof Mt=="number"&&(kt=_t==="end"?Mt*-1:Mt),At?{x:kt*St,y:Pt*Ct}:{x:Pt*Ct,y:kt*St}}const offset$2=function(_e){return _e===void 0&&(_e=0),{name:"offset",options:_e,async fn($){var ht,vt;const{x:xt,y:bt,placement:Et,middlewareData:_t}=$,At=await convertValueToCoords($,_e);return Et===((ht=_t.offset)==null?void 0:ht.placement)&&(vt=_t.arrow)!=null&&vt.alignmentOffset?{}:{x:xt+At.x,y:bt+At.y,data:{...At,placement:Et}}}}},shift$2=function(_e){return _e===void 0&&(_e={}),{name:"shift",options:_e,async fn($){const{x:ht,y:vt,placement:xt}=$,{mainAxis:bt=!0,crossAxis:Et=!1,limiter:_t={fn:Ot=>{let{x:Ft,y:Dt}=Ot;return{x:Ft,y:Dt}}},...At}=evaluate(_e,$),Ct={x:ht,y:vt},St=await detectOverflow$1($,At),Rt=getSideAxis(getSide(xt)),Pt=getOppositeAxis(Rt);let kt=Ct[Pt],Mt=Ct[Rt];if(bt){const Ot=Pt==="y"?"top":"left",Ft=Pt==="y"?"bottom":"right",Dt=kt+St[Ot],$t=kt-St[Ft];kt=clamp(Dt,kt,$t)}if(Et){const Ot=Rt==="y"?"top":"left",Ft=Rt==="y"?"bottom":"right",Dt=Mt+St[Ot],$t=Mt-St[Ft];Mt=clamp(Dt,Mt,$t)}const Lt=_t.fn({...$,[Pt]:kt,[Rt]:Mt});return{...Lt,data:{x:Lt.x-ht,y:Lt.y-vt}}}}},size$2=function(_e){return _e===void 0&&(_e={}),{name:"size",options:_e,async fn($){const{placement:ht,rects:vt,platform:xt,elements:bt}=$,{apply:Et=()=>{},..._t}=evaluate(_e,$),At=await detectOverflow$1($,_t),Ct=getSide(ht),St=getAlignment(ht),Rt=getSideAxis(ht)==="y",{width:Pt,height:kt}=vt.floating;let Mt,Lt;Ct==="top"||Ct==="bottom"?(Mt=Ct,Lt=St===(await(xt.isRTL==null?void 0:xt.isRTL(bt.floating))?"start":"end")?"left":"right"):(Lt=Ct,Mt=St==="end"?"top":"bottom");const Ot=kt-At.top-At.bottom,Ft=Pt-At.left-At.right,Dt=min(kt-At[Mt],Ot),$t=min(Pt-At[Lt],Ft),Bt=!$.middlewareData.shift;let Nt=Dt,Ht=$t;if(Rt?Ht=St||Bt?min($t,Ft):Ft:Nt=St||Bt?min(Dt,Ot):Ot,Bt&&!St){const zt=max(At.left,0),Kt=max(At.right,0),en=max(At.top,0),Wt=max(At.bottom,0);Rt?Ht=Pt-2*(zt!==0||Kt!==0?zt+Kt:max(At.left,At.right)):Nt=kt-2*(en!==0||Wt!==0?en+Wt:max(At.top,At.bottom))}await Et({...$,availableWidth:Ht,availableHeight:Nt});const jt=await xt.getDimensions(bt.floating);return Pt!==jt.width||kt!==jt.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(_e){const $=getComputedStyle$1(_e);let ht=parseFloat($.width)||0,vt=parseFloat($.height)||0;const xt=isHTMLElement(_e),bt=xt?_e.offsetWidth:ht,Et=xt?_e.offsetHeight:vt,_t=round(ht)!==bt||round(vt)!==Et;return _t&&(ht=bt,vt=Et),{width:ht,height:vt,$:_t}}function unwrapElement(_e){return isElement(_e)?_e:_e.contextElement}function getScale(_e){const $=unwrapElement(_e);if(!isHTMLElement($))return createCoords(1);const ht=$.getBoundingClientRect(),{width:vt,height:xt,$:bt}=getCssDimensions($);let Et=(bt?round(ht.width):ht.width)/vt,_t=(bt?round(ht.height):ht.height)/xt;return(!Et||!Number.isFinite(Et))&&(Et=1),(!_t||!Number.isFinite(_t))&&(_t=1),{x:Et,y:_t}}const noOffsets=createCoords(0);function getVisualOffsets(_e){const $=getWindow(_e);return!isWebKit()||!$.visualViewport?noOffsets:{x:$.visualViewport.offsetLeft,y:$.visualViewport.offsetTop}}function shouldAddVisualOffsets(_e,$,ht){return $===void 0&&($=!1),!ht||$&&ht!==getWindow(_e)?!1:$}function getBoundingClientRect(_e,$,ht,vt){$===void 0&&($=!1),ht===void 0&&(ht=!1);const xt=_e.getBoundingClientRect(),bt=unwrapElement(_e);let Et=createCoords(1);$&&(vt?isElement(vt)&&(Et=getScale(vt)):Et=getScale(_e));const _t=shouldAddVisualOffsets(bt,ht,vt)?getVisualOffsets(bt):createCoords(0);let At=(xt.left+_t.x)/Et.x,Ct=(xt.top+_t.y)/Et.y,St=xt.width/Et.x,Rt=xt.height/Et.y;if(bt){const Pt=getWindow(bt),kt=vt&&isElement(vt)?getWindow(vt):vt;let Mt=Pt,Lt=Mt.frameElement;for(;Lt&&vt&&kt!==Mt;){const Ot=getScale(Lt),Ft=Lt.getBoundingClientRect(),Dt=getComputedStyle$1(Lt),$t=Ft.left+(Lt.clientLeft+parseFloat(Dt.paddingLeft))*Ot.x,Bt=Ft.top+(Lt.clientTop+parseFloat(Dt.paddingTop))*Ot.y;At*=Ot.x,Ct*=Ot.y,St*=Ot.x,Rt*=Ot.y,At+=$t,Ct+=Bt,Mt=getWindow(Lt),Lt=Mt.frameElement}}return rectToClientRect({width:St,height:Rt,x:At,y:Ct})}function convertOffsetParentRelativeRectToViewportRelativeRect(_e){let{elements:$,rect:ht,offsetParent:vt,strategy:xt}=_e;const bt=xt==="fixed",Et=getDocumentElement(vt),_t=$?isTopLayer($.floating):!1;if(vt===Et||_t&&bt)return ht;let At={scrollLeft:0,scrollTop:0},Ct=createCoords(1);const St=createCoords(0),Rt=isHTMLElement(vt);if((Rt||!Rt&&!bt)&&((getNodeName(vt)!=="body"||isOverflowElement(Et))&&(At=getNodeScroll(vt)),isHTMLElement(vt))){const Pt=getBoundingClientRect(vt);Ct=getScale(vt),St.x=Pt.x+vt.clientLeft,St.y=Pt.y+vt.clientTop}return{width:ht.width*Ct.x,height:ht.height*Ct.y,x:ht.x*Ct.x-At.scrollLeft*Ct.x+St.x,y:ht.y*Ct.y-At.scrollTop*Ct.y+St.y}}function getClientRects(_e){return Array.from(_e.getClientRects())}function getWindowScrollBarX(_e){return getBoundingClientRect(getDocumentElement(_e)).left+getNodeScroll(_e).scrollLeft}function getDocumentRect(_e){const $=getDocumentElement(_e),ht=getNodeScroll(_e),vt=_e.ownerDocument.body,xt=max($.scrollWidth,$.clientWidth,vt.scrollWidth,vt.clientWidth),bt=max($.scrollHeight,$.clientHeight,vt.scrollHeight,vt.clientHeight);let Et=-ht.scrollLeft+getWindowScrollBarX(_e);const _t=-ht.scrollTop;return getComputedStyle$1(vt).direction==="rtl"&&(Et+=max($.clientWidth,vt.clientWidth)-xt),{width:xt,height:bt,x:Et,y:_t}}function getViewportRect(_e,$){const ht=getWindow(_e),vt=getDocumentElement(_e),xt=ht.visualViewport;let bt=vt.clientWidth,Et=vt.clientHeight,_t=0,At=0;if(xt){bt=xt.width,Et=xt.height;const Ct=isWebKit();(!Ct||Ct&&$==="fixed")&&(_t=xt.offsetLeft,At=xt.offsetTop)}return{width:bt,height:Et,x:_t,y:At}}function getInnerBoundingClientRect(_e,$){const ht=getBoundingClientRect(_e,!0,$==="fixed"),vt=ht.top+_e.clientTop,xt=ht.left+_e.clientLeft,bt=isHTMLElement(_e)?getScale(_e):createCoords(1),Et=_e.clientWidth*bt.x,_t=_e.clientHeight*bt.y,At=xt*bt.x,Ct=vt*bt.y;return{width:Et,height:_t,x:At,y:Ct}}function getClientRectFromClippingAncestor(_e,$,ht){let vt;if($==="viewport")vt=getViewportRect(_e,ht);else if($==="document")vt=getDocumentRect(getDocumentElement(_e));else if(isElement($))vt=getInnerBoundingClientRect($,ht);else{const xt=getVisualOffsets(_e);vt={...$,x:$.x-xt.x,y:$.y-xt.y}}return rectToClientRect(vt)}function hasFixedPositionAncestor(_e,$){const ht=getParentNode(_e);return ht===$||!isElement(ht)||isLastTraversableNode(ht)?!1:getComputedStyle$1(ht).position==="fixed"||hasFixedPositionAncestor(ht,$)}function getClippingElementAncestors(_e,$){const ht=$.get(_e);if(ht)return ht;let vt=getOverflowAncestors(_e,[],!1).filter(_t=>isElement(_t)&&getNodeName(_t)!=="body"),xt=null;const bt=getComputedStyle$1(_e).position==="fixed";let Et=bt?getParentNode(_e):_e;for(;isElement(Et)&&!isLastTraversableNode(Et);){const _t=getComputedStyle$1(Et),At=isContainingBlock(Et);!At&&_t.position==="fixed"&&(xt=null),(bt?!At&&!xt:!At&&_t.position==="static"&&!!xt&&["absolute","fixed"].includes(xt.position)||isOverflowElement(Et)&&!At&&hasFixedPositionAncestor(_e,Et))?vt=vt.filter(St=>St!==Et):xt=_t,Et=getParentNode(Et)}return $.set(_e,vt),vt}function getClippingRect(_e){let{element:$,boundary:ht,rootBoundary:vt,strategy:xt}=_e;const Et=[...ht==="clippingAncestors"?isTopLayer($)?[]:getClippingElementAncestors($,this._c):[].concat(ht),vt],_t=Et[0],At=Et.reduce((Ct,St)=>{const Rt=getClientRectFromClippingAncestor($,St,xt);return Ct.top=max(Rt.top,Ct.top),Ct.right=min(Rt.right,Ct.right),Ct.bottom=min(Rt.bottom,Ct.bottom),Ct.left=max(Rt.left,Ct.left),Ct},getClientRectFromClippingAncestor($,_t,xt));return{width:At.right-At.left,height:At.bottom-At.top,x:At.left,y:At.top}}function getDimensions(_e){const{width:$,height:ht}=getCssDimensions(_e);return{width:$,height:ht}}function getRectRelativeToOffsetParent(_e,$,ht){const vt=isHTMLElement($),xt=getDocumentElement($),bt=ht==="fixed",Et=getBoundingClientRect(_e,!0,bt,$);let _t={scrollLeft:0,scrollTop:0};const At=createCoords(0);if(vt||!vt&&!bt)if((getNodeName($)!=="body"||isOverflowElement(xt))&&(_t=getNodeScroll($)),vt){const Rt=getBoundingClientRect($,!0,bt,$);At.x=Rt.x+$.clientLeft,At.y=Rt.y+$.clientTop}else xt&&(At.x=getWindowScrollBarX(xt));const Ct=Et.left+_t.scrollLeft-At.x,St=Et.top+_t.scrollTop-At.y;return{x:Ct,y:St,width:Et.width,height:Et.height}}function isStaticPositioned(_e){return getComputedStyle$1(_e).position==="static"}function getTrueOffsetParent(_e,$){return!isHTMLElement(_e)||getComputedStyle$1(_e).position==="fixed"?null:$?$(_e):_e.offsetParent}function getOffsetParent(_e,$){const ht=getWindow(_e);if(isTopLayer(_e))return ht;if(!isHTMLElement(_e)){let xt=getParentNode(_e);for(;xt&&!isLastTraversableNode(xt);){if(isElement(xt)&&!isStaticPositioned(xt))return xt;xt=getParentNode(xt)}return ht}let vt=getTrueOffsetParent(_e,$);for(;vt&&isTableElement(vt)&&isStaticPositioned(vt);)vt=getTrueOffsetParent(vt,$);return vt&&isLastTraversableNode(vt)&&isStaticPositioned(vt)&&!isContainingBlock(vt)?ht:vt||getContainingBlock(_e)||ht}const getElementRects=async function(_e){const $=this.getOffsetParent||getOffsetParent,ht=this.getDimensions,vt=await ht(_e.floating);return{reference:getRectRelativeToOffsetParent(_e.reference,await $(_e.floating),_e.strategy),floating:{x:0,y:0,width:vt.width,height:vt.height}}};function isRTL(_e){return getComputedStyle$1(_e).direction==="rtl"}const platform$2={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(_e,$){let ht=null,vt;const xt=getDocumentElement(_e);function bt(){var _t;clearTimeout(vt),(_t=ht)==null||_t.disconnect(),ht=null}function Et(_t,At){_t===void 0&&(_t=!1),At===void 0&&(At=1),bt();const{left:Ct,top:St,width:Rt,height:Pt}=_e.getBoundingClientRect();if(_t||$(),!Rt||!Pt)return;const kt=floor(St),Mt=floor(xt.clientWidth-(Ct+Rt)),Lt=floor(xt.clientHeight-(St+Pt)),Ot=floor(Ct),Dt={rootMargin:-kt+"px "+-Mt+"px "+-Lt+"px "+-Ot+"px",threshold:max(0,min(1,At))||1};let $t=!0;function Bt(Nt){const Ht=Nt[0].intersectionRatio;if(Ht!==At){if(!$t)return Et();Ht?Et(!1,Ht):vt=setTimeout(()=>{Et(!1,1e-7)},1e3)}$t=!1}try{ht=new IntersectionObserver(Bt,{...Dt,root:xt.ownerDocument})}catch{ht=new IntersectionObserver(Bt,Dt)}ht.observe(_e)}return Et(!0),bt}function autoUpdate(_e,$,ht,vt){vt===void 0&&(vt={});const{ancestorScroll:xt=!0,ancestorResize:bt=!0,elementResize:Et=typeof ResizeObserver=="function",layoutShift:_t=typeof IntersectionObserver=="function",animationFrame:At=!1}=vt,Ct=unwrapElement(_e),St=xt||bt?[...Ct?getOverflowAncestors(Ct):[],...getOverflowAncestors($)]:[];St.forEach(Ft=>{xt&&Ft.addEventListener("scroll",ht,{passive:!0}),bt&&Ft.addEventListener("resize",ht)});const Rt=Ct&&_t?observeMove(Ct,ht):null;let Pt=-1,kt=null;Et&&(kt=new ResizeObserver(Ft=>{let[Dt]=Ft;Dt&&Dt.target===Ct&&kt&&(kt.unobserve($),cancelAnimationFrame(Pt),Pt=requestAnimationFrame(()=>{var $t;($t=kt)==null||$t.observe($)})),ht()}),Ct&&!At&&kt.observe(Ct),kt.observe($));let Mt,Lt=At?getBoundingClientRect(_e):null;At&&Ot();function Ot(){const Ft=getBoundingClientRect(_e);Lt&&(Ft.x!==Lt.x||Ft.y!==Lt.y||Ft.width!==Lt.width||Ft.height!==Lt.height)&&ht(),Lt=Ft,Mt=requestAnimationFrame(Ot)}return ht(),()=>{var Ft;St.forEach(Dt=>{xt&&Dt.removeEventListener("scroll",ht),bt&&Dt.removeEventListener("resize",ht)}),Rt==null||Rt(),(Ft=kt)==null||Ft.disconnect(),kt=null,At&&cancelAnimationFrame(Mt)}}const detectOverflow=detectOverflow$1,offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,computePosition=(_e,$,ht)=>{const vt=new Map,xt={platform:platform$2,...ht},bt={...xt.platform,_c:vt};return computePosition$1(_e,$,{...xt,platform:bt})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(_e,$){if(_e===$)return!0;if(typeof _e!=typeof $)return!1;if(typeof _e=="function"&&_e.toString()===$.toString())return!0;let ht,vt,xt;if(_e&&$&&typeof _e=="object"){if(Array.isArray(_e)){if(ht=_e.length,ht!==$.length)return!1;for(vt=ht;vt--!==0;)if(!deepEqual(_e[vt],$[vt]))return!1;return!0}if(xt=Object.keys(_e),ht=xt.length,ht!==Object.keys($).length)return!1;for(vt=ht;vt--!==0;)if(!{}.hasOwnProperty.call($,xt[vt]))return!1;for(vt=ht;vt--!==0;){const bt=xt[vt];if(!(bt==="_owner"&&_e.$$typeof)&&!deepEqual(_e[bt],$[bt]))return!1}return!0}return _e!==_e&&$!==$}function getDPR(_e){return typeof window>"u"?1:(_e.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(_e,$){const ht=getDPR(_e);return Math.round($*ht)/ht}function useLatestRef(_e){const $=reactExports.useRef(_e);return index$1(()=>{$.current=_e}),$}function useFloating$1(_e){_e===void 0&&(_e={});const{placement:$="bottom",strategy:ht="absolute",middleware:vt=[],platform:xt,elements:{reference:bt,floating:Et}={},transform:_t=!0,whileElementsMounted:At,open:Ct}=_e,[St,Rt]=reactExports.useState({x:0,y:0,strategy:ht,placement:$,middlewareData:{},isPositioned:!1}),[Pt,kt]=reactExports.useState(vt);deepEqual(Pt,vt)||kt(vt);const[Mt,Lt]=reactExports.useState(null),[Ot,Ft]=reactExports.useState(null),Dt=reactExports.useCallback(an=>{an!==Ht.current&&(Ht.current=an,Lt(an))},[]),$t=reactExports.useCallback(an=>{an!==jt.current&&(jt.current=an,Ft(an))},[]),Bt=bt||Mt,Nt=Et||Ot,Ht=reactExports.useRef(null),jt=reactExports.useRef(null),zt=reactExports.useRef(St),Kt=At!=null,en=useLatestRef(At),Wt=useLatestRef(xt),Qt=reactExports.useCallback(()=>{if(!Ht.current||!jt.current)return;const an={placement:$,strategy:ht,middleware:Pt};Wt.current&&(an.platform=Wt.current),computePosition(Ht.current,jt.current,an).then(hn=>{const nn={...hn,isPositioned:!0};on.current&&!deepEqual(zt.current,nn)&&(zt.current=nn,reactDomExports.flushSync(()=>{Rt(nn)}))})},[Pt,$,ht,Wt]);index$1(()=>{Ct===!1&&zt.current.isPositioned&&(zt.current.isPositioned=!1,Rt(an=>({...an,isPositioned:!1})))},[Ct]);const on=reactExports.useRef(!1);index$1(()=>(on.current=!0,()=>{on.current=!1}),[]),index$1(()=>{if(Bt&&(Ht.current=Bt),Nt&&(jt.current=Nt),Bt&&Nt){if(en.current)return en.current(Bt,Nt,Qt);Qt()}},[Bt,Nt,Qt,en,Kt]);const En=reactExports.useMemo(()=>({reference:Ht,floating:jt,setReference:Dt,setFloating:$t}),[Dt,$t]),un=reactExports.useMemo(()=>({reference:Bt,floating:Nt}),[Bt,Nt]),xn=reactExports.useMemo(()=>{const an={position:ht,left:0,top:0};if(!un.floating)return an;const hn=roundByDPR(un.floating,St.x),nn=roundByDPR(un.floating,St.y);return _t?{...an,transform:"translate("+hn+"px, "+nn+"px)",...getDPR(un.floating)>=1.5&&{willChange:"transform"}}:{position:ht,left:hn,top:nn}},[ht,_t,un.floating,St.x,St.y]);return reactExports.useMemo(()=>({...St,update:Qt,refs:En,elements:un,floatingStyles:xn}),[St,Qt,En,un,xn])}const offset=(_e,$)=>({...offset$1(_e),options:[_e,$]}),shift=(_e,$)=>({...shift$1(_e),options:[_e,$]}),flip=(_e,$)=>({...flip$1(_e),options:[_e,$]}),size=(_e,$)=>({...size$1(_e),options:[_e,$]}),SafeReact={...t$4},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(_e=>_e());function useEffectEvent(_e){const $=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{$.current=_e}),reactExports.useCallback(function(){for(var ht=arguments.length,vt=new Array(ht),xt=0;xt<ht;xt++)vt[xt]=arguments[xt];return $.current==null?void 0:$.current(...vt)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[_e,$]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{_e==null&&$(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),_e}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const _e=new Map;return{emit($,ht){var vt;(vt=_e.get($))==null||vt.forEach(xt=>xt(ht))},on($,ht){_e.set($,[..._e.get($)||[],ht])},off($,ht){var vt;_e.set($,((vt=_e.get($))==null?void 0:vt.filter(xt=>xt!==ht))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var _e;return((_e=reactExports.useContext(FloatingNodeContext))==null?void 0:_e.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(_e){const{open:$=!1,onOpenChange:ht,elements:vt}=_e,xt=useId(),bt=reactExports.useRef({}),[Et]=reactExports.useState(()=>createPubSub()),_t=useFloatingParentNodeId()!=null,[At,Ct]=reactExports.useState(vt.reference),St=useEffectEvent((kt,Mt,Lt)=>{bt.current.openEvent=kt?Mt:void 0,Et.emit("openchange",{open:kt,event:Mt,reason:Lt,nested:_t}),ht==null||ht(kt,Mt,Lt)}),Rt=reactExports.useMemo(()=>({setPositionReference:Ct}),[]),Pt=reactExports.useMemo(()=>({reference:At||vt.reference||null,floating:vt.floating||null,domReference:vt.reference}),[At,vt.reference,vt.floating]);return reactExports.useMemo(()=>({dataRef:bt,open:$,onOpenChange:St,elements:Pt,events:Et,floatingId:xt,refs:Rt}),[$,St,Pt,Et,xt,Rt])}function useFloating(_e){_e===void 0&&(_e={});const{nodeId:$}=_e,ht=useFloatingRootContext({..._e,elements:{reference:null,floating:null,..._e.elements}}),vt=_e.rootContext||ht,xt=vt.elements,[bt,Et]=reactExports.useState(null),[_t,At]=reactExports.useState(null),St=(xt==null?void 0:xt.reference)||bt,Rt=reactExports.useRef(null),Pt=useFloatingTree();index(()=>{St&&(Rt.current=St)},[St]);const kt=useFloating$1({..._e,elements:{...xt,..._t&&{reference:_t}}}),Mt=reactExports.useCallback($t=>{const Bt=isElement($t)?{getBoundingClientRect:()=>$t.getBoundingClientRect(),contextElement:$t}:$t;At(Bt),kt.refs.setReference(Bt)},[kt.refs]),Lt=reactExports.useCallback($t=>{(isElement($t)||$t===null)&&(Rt.current=$t,Et($t)),(isElement(kt.refs.reference.current)||kt.refs.reference.current===null||$t!==null&&!isElement($t))&&kt.refs.setReference($t)},[kt.refs]),Ot=reactExports.useMemo(()=>({...kt.refs,setReference:Lt,setPositionReference:Mt,domReference:Rt}),[kt.refs,Lt,Mt]),Ft=reactExports.useMemo(()=>({...kt.elements,domReference:St}),[kt.elements,St]),Dt=reactExports.useMemo(()=>({...kt,...vt,refs:Ot,elements:Ft,nodeId:$}),[kt,Ot,Ft,$,vt]);return index(()=>{vt.dataRef.current.floatingContext=Dt;const $t=Pt==null?void 0:Pt.nodesRef.current.find(Bt=>Bt.id===$);$t&&($t.context=Dt)}),reactExports.useMemo(()=>({...kt,context:Dt,refs:Ot,elements:Ft}),[kt,Ot,Ft,Dt])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps(_e,$,ht){const vt=new Map,xt=ht==="item";let bt=_e;if(xt&&_e){const{[ACTIVE_KEY]:Et,[SELECTED_KEY]:_t,...At}=_e;bt=At}return{...ht==="floating"&&{tabIndex:-1},...bt,...$.map(Et=>{const _t=Et?Et[ht]:null;return typeof _t=="function"?_e?_t(_e):null:_t}).concat(_e).reduce((Et,_t)=>(_t&&Object.entries(_t).forEach(At=>{let[Ct,St]=At;if(!(xt&&[ACTIVE_KEY,SELECTED_KEY].includes(Ct)))if(Ct.indexOf("on")===0){if(vt.has(Ct)||vt.set(Ct,[]),typeof St=="function"){var Rt;(Rt=vt.get(Ct))==null||Rt.push(St),Et[Ct]=function(){for(var Pt,kt=arguments.length,Mt=new Array(kt),Lt=0;Lt<kt;Lt++)Mt[Lt]=arguments[Lt];return(Pt=vt.get(Ct))==null?void 0:Pt.map(Ot=>Ot(...Mt)).find(Ot=>Ot!==void 0)}}}else Et[Ct]=St}),Et),{})}}function useInteractions(_e){_e===void 0&&(_e=[]);const $=_e.map(_t=>_t==null?void 0:_t.reference),ht=_e.map(_t=>_t==null?void 0:_t.floating),vt=_e.map(_t=>_t==null?void 0:_t.item),xt=reactExports.useCallback(_t=>mergeProps(_t,_e,"reference"),$),bt=reactExports.useCallback(_t=>mergeProps(_t,_e,"floating"),ht),Et=reactExports.useCallback(_t=>mergeProps(_t,_e,"item"),vt);return reactExports.useMemo(()=>({getReferenceProps:xt,getFloatingProps:bt,getItemProps:Et}),[xt,bt,Et])}function getArgsWithCustomFloatingHeight(_e,$){return{..._e,rects:{..._e.rects,floating:{..._e.rects.floating,height:$}}}}const inner=_e=>({name:"inner",options:_e,async fn($){const{listRef:ht,overflowRef:vt,onFallbackChange:xt,offset:bt=0,index:Et=0,minItemsVisible:_t=4,referenceOverflowThreshold:At=0,scrollRef:Ct,...St}=evaluate(_e,$),{rects:Rt,elements:{floating:Pt}}=$,kt=ht.current[Et];if(!kt)return{};const Mt={...$,...await offset(-kt.offsetTop-Pt.clientTop-Rt.reference.height/2-kt.offsetHeight/2-bt).fn($)},Lt=(Ct==null?void 0:Ct.current)||Pt,Ot=await detectOverflow(getArgsWithCustomFloatingHeight(Mt,Lt.scrollHeight),St),Ft=await detectOverflow(Mt,{...St,elementContext:"reference"}),Dt=Math.max(0,Ot.top),$t=Mt.y+Dt,Bt=Math.max(0,Lt.scrollHeight-Dt-Math.max(0,Ot.bottom));return Lt.style.maxHeight=Bt+"px",Lt.scrollTop=Dt,xt&&(Lt.offsetHeight<kt.offsetHeight*Math.min(_t,ht.current.length-1)-1||Ft.top>=-At||Ft.bottom>=-At?reactDomExports.flushSync(()=>xt(!0)):reactDomExports.flushSync(()=>xt(!1))),vt&&(vt.current=await detectOverflow(getArgsWithCustomFloatingHeight({...Mt,y:$t},Lt.offsetHeight),St)),{y:$t}}});function useInnerOffset(_e,$){const{open:ht,elements:vt}=_e,{enabled:xt=!0,overflowRef:bt,scrollRef:Et,onChange:_t}=$,At=useEffectEvent(_t),Ct=reactExports.useRef(!1),St=reactExports.useRef(null),Rt=reactExports.useRef(null);reactExports.useEffect(()=>{if(!xt)return;function kt(Lt){if(Lt.ctrlKey||!Mt||bt.current==null)return;const Ot=Lt.deltaY,Ft=bt.current.top>=-.5,Dt=bt.current.bottom>=-.5,$t=Mt.scrollHeight-Mt.clientHeight,Bt=Ot<0?-1:1,Nt=Ot<0?"max":"min";Mt.scrollHeight<=Mt.clientHeight||(!Ft&&Ot>0||!Dt&&Ot<0?(Lt.preventDefault(),reactDomExports.flushSync(()=>{At(Ht=>Ht+Math[Nt](Ot,$t*Bt))})):/firefox/i.test(getUserAgent())&&(Mt.scrollTop+=Ot))}const Mt=(Et==null?void 0:Et.current)||vt.floating;if(ht&&Mt)return Mt.addEventListener("wheel",kt),requestAnimationFrame(()=>{St.current=Mt.scrollTop,bt.current!=null&&(Rt.current={...bt.current})}),()=>{St.current=null,Rt.current=null,Mt.removeEventListener("wheel",kt)}},[xt,ht,vt.floating,bt,Et,At]);const Pt=reactExports.useMemo(()=>({onKeyDown(){Ct.current=!0},onWheel(){Ct.current=!1},onPointerMove(){Ct.current=!1},onScroll(){const kt=(Et==null?void 0:Et.current)||vt.floating;if(!(!bt.current||!kt||!Ct.current)){if(St.current!==null){const Mt=kt.scrollTop-St.current;(bt.current.bottom<-.5&&Mt<-1||bt.current.top<-.5&&Mt>1)&&reactDomExports.flushSync(()=>At(Lt=>Lt+Mt))}requestAnimationFrame(()=>{St.current=kt.scrollTop})}}}),[vt.floating,At,bt,Et]);return reactExports.useMemo(()=>xt?{floating:Pt}:{},[xt,Pt])}let y$1=reactExports.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y$1.displayName="FloatingContext";let S$1=reactExports.createContext(null);S$1.displayName="PlacementContext";function xe(_e){return reactExports.useMemo(()=>_e?typeof _e=="string"?{to:_e}:_e:null,[_e])}function ye(){return reactExports.useContext(y$1).setReference}function Fe(){return reactExports.useContext(y$1).getReferenceProps}function be(){let{getFloatingProps:_e,slot:$}=reactExports.useContext(y$1);return reactExports.useCallback((...ht)=>Object.assign({},_e(...ht),{"data-anchor":$.anchor}),[_e,$])}function Re(_e=null){_e===!1&&(_e=null),typeof _e=="string"&&(_e={to:_e});let $=reactExports.useContext(S$1),ht=reactExports.useMemo(()=>_e,[JSON.stringify(_e,typeof HTMLElement<"u"?(xt,bt)=>bt instanceof HTMLElement?bt.outerHTML:bt:void 0)]);n$3(()=>{$==null||$(ht??null)},[$,ht]);let vt=reactExports.useContext(y$1);return reactExports.useMemo(()=>[vt.setFloating,_e?vt.styles:{}],[vt.setFloating,_e,vt.styles])}let q=4;function ve({children:_e,enabled:$=!0}){let[ht,vt]=reactExports.useState(null),[xt,bt]=reactExports.useState(0),Et=reactExports.useRef(null),[_t,At]=reactExports.useState(null);pe(_t);let Ct=$&&ht!==null&&_t!==null,{to:St="bottom",gap:Rt=0,offset:Pt=0,padding:kt=0,inner:Mt}=ce(ht,_t),[Lt,Ot="center"]=St.split(" ");n$3(()=>{Ct&&bt(0)},[Ct]);let{refs:Ft,floatingStyles:Dt,context:$t}=useFloating({open:Ct,placement:Lt==="selection"?Ot==="center"?"bottom":`bottom-${Ot}`:Ot==="center"?`${Lt}`:`${Lt}-${Ot}`,strategy:"absolute",transform:!1,middleware:[offset({mainAxis:Lt==="selection"?0:Rt,crossAxis:Pt}),shift({padding:kt}),Lt!=="selection"&&flip({padding:kt}),Lt==="selection"&&Mt?inner({...Mt,padding:kt,overflowRef:Et,offset:xt,minItemsVisible:q,referenceOverflowThreshold:kt,onFallbackChange(Wt){var Qt,on;if(!Wt)return;let En=$t.elements.floating;if(!En)return;let un=parseFloat(getComputedStyle(En).scrollPaddingBottom)||0,xn=Math.min(q,En.childElementCount),an=0,hn=0;for(let nn of(on=(Qt=$t.elements.floating)==null?void 0:Qt.childNodes)!=null?on:[])if(nn instanceof HTMLElement){let gn=nn.offsetTop,wn=gn+nn.clientHeight+un,rn=En.scrollTop,Xt=rn+En.clientHeight;if(gn>=rn&&wn<=Xt)xn--;else{hn=Math.max(0,Math.min(wn,Xt)-Math.max(gn,rn)),an=nn.clientHeight;break}}xn>=1&&bt(nn=>{let gn=an*xn-hn+un;return nn>=gn?nn:gn})}}):null,size({padding:kt,apply({availableWidth:Wt,availableHeight:Qt,elements:on}){Object.assign(on.floating.style,{overflow:"auto",maxWidth:`${Wt}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${Qt}px)`})}})].filter(Boolean),whileElementsMounted:autoUpdate}),[Bt=Lt,Nt=Ot]=$t.placement.split("-");Lt==="selection"&&(Bt="selection");let Ht=reactExports.useMemo(()=>({anchor:[Bt,Nt].filter(Boolean).join(" ")}),[Bt,Nt]),jt=useInnerOffset($t,{overflowRef:Et,onChange:bt}),{getReferenceProps:zt,getFloatingProps:Kt}=useInteractions([jt]),en=o$3(Wt=>{At(Wt),Ft.setFloating(Wt)});return reactExports.createElement(S$1.Provider,{value:vt},reactExports.createElement(y$1.Provider,{value:{setFloating:en,setReference:Ft.setReference,styles:Dt,getReferenceProps:zt,getFloatingProps:Kt,slot:Ht}},_e))}function pe(_e){n$3(()=>{if(!_e)return;let $=new MutationObserver(()=>{let ht=_e.style.maxHeight;parseFloat(ht)!==parseInt(ht)&&(_e.style.maxHeight=`${Math.ceil(parseFloat(ht))}px`)});return $.observe(_e,{attributes:!0,attributeFilter:["style"]}),()=>{$.disconnect()}},[_e])}function ce(_e,$){var ht,vt,xt;let bt=L((ht=_e==null?void 0:_e.gap)!=null?ht:"var(--anchor-gap, 0)",$),Et=L((vt=_e==null?void 0:_e.offset)!=null?vt:"var(--anchor-offset, 0)",$),_t=L((xt=_e==null?void 0:_e.padding)!=null?xt:"var(--anchor-padding, 0)",$);return{..._e,gap:bt,offset:Et,padding:_t}}function L(_e,$,ht=void 0){let vt=p$3(),xt=o$3((At,Ct)=>{if(At==null)return[ht,null];if(typeof At=="number")return[At,null];if(typeof At=="string"){if(!Ct)return[ht,null];let St=J$1(At,Ct);return[St,Rt=>{let Pt=D$1(At);{let kt=Pt.map(Mt=>window.getComputedStyle(Ct).getPropertyValue(Mt));vt.requestAnimationFrame(function Mt(){vt.nextFrame(Mt);let Lt=!1;for(let[Ft,Dt]of Pt.entries()){let $t=window.getComputedStyle(Ct).getPropertyValue(Dt);if(kt[Ft]!==$t){kt[Ft]=$t,Lt=!0;break}}if(!Lt)return;let Ot=J$1(At,Ct);St!==Ot&&(Rt(Ot),St=Ot)})}return vt.dispose}]}return[ht,null]}),bt=reactExports.useMemo(()=>xt(_e,$)[0],[_e,$]),[Et=bt,_t]=reactExports.useState();return n$3(()=>{let[At,Ct]=xt(_e,$);if(_t(At),!!Ct)return Ct(_t)},[_e,$]),Et}function D$1(_e){let $=/var\((.*)\)/.exec(_e);if($){let ht=$[1].indexOf(",");if(ht===-1)return[$[1]];let vt=$[1].slice(0,ht).trim(),xt=$[1].slice(ht+1).trim();return xt?[vt,...D$1(xt)]:[vt]}return[]}function J$1(_e,$){let ht=document.createElement("div");$.appendChild(ht),ht.style.setProperty("margin-top","0px","important"),ht.style.setProperty("margin-top",_e,"important");let vt=parseFloat(window.getComputedStyle(ht).marginTop)||0;return $.removeChild(ht),vt}let n=reactExports.createContext(null);n.displayName="OpenClosedContext";var i=(_e=>(_e[_e.Open=1]="Open",_e[_e.Closed=2]="Closed",_e[_e.Closing=4]="Closing",_e[_e.Opening=8]="Opening",_e))(i||{});function u$1(){return reactExports.useContext(n)}function c$2({value:_e,children:$}){return React.createElement(n.Provider,{value:_e},$)}function u(_e){throw new Error("Unexpected object: "+_e)}var c$1=(_e=>(_e[_e.First=0]="First",_e[_e.Previous=1]="Previous",_e[_e.Next=2]="Next",_e[_e.Last=3]="Last",_e[_e.Specific=4]="Specific",_e[_e.Nothing=5]="Nothing",_e))(c$1||{});function f(_e,$){let ht=$.resolveItems();if(ht.length<=0)return null;let vt=$.resolveActiveIndex(),xt=vt??-1;switch(_e.focus){case 0:{for(let bt=0;bt<ht.length;++bt)if(!$.resolveDisabled(ht[bt],bt,ht))return bt;return vt}case 1:{xt===-1&&(xt=ht.length);for(let bt=xt-1;bt>=0;--bt)if(!$.resolveDisabled(ht[bt],bt,ht))return bt;return vt}case 2:{for(let bt=xt+1;bt<ht.length;++bt)if(!$.resolveDisabled(ht[bt],bt,ht))return bt;return vt}case 3:{for(let bt=ht.length-1;bt>=0;--bt)if(!$.resolveDisabled(ht[bt],bt,ht))return bt;return vt}case 4:{for(let bt=0;bt<ht.length;++bt)if($.resolveId(ht[bt],bt,ht)===_e.id)return bt;return vt}case 5:return null;default:u(_e)}}function c(_e){let $=o$3(_e),ht=reactExports.useRef(!1);reactExports.useEffect(()=>(ht.current=!1,()=>{ht.current=!0,t$3(()=>{ht.current&&$()})}),[$])}function s$1(){let _e=typeof document>"u";return"useSyncExternalStore"in t$4?($=>$.useSyncExternalStore)(t$4)(()=>()=>{},()=>!1,()=>!_e):!1}function l(){let _e=s$1(),[$,ht]=reactExports.useState(s$5.isHandoffComplete);return $&&s$5.isHandoffComplete===!1&&ht(!1),reactExports.useEffect(()=>{$!==!0&&ht(!0)},[$]),reactExports.useEffect(()=>s$5.handoff(),[]),_e?!1:$}let e=reactExports.createContext(!1);function a$1(){return reactExports.useContext(e)}function D(_e){let $=a$1(),ht=reactExports.useContext(v),vt=n$1(_e),[xt,bt]=reactExports.useState(()=>{var Et;if(!$&&ht!==null)return(Et=ht.current)!=null?Et:null;if(s$5.isServer)return null;let _t=vt==null?void 0:vt.getElementById("headlessui-portal-root");if(_t)return _t;if(vt===null)return null;let At=vt.createElement("div");return At.setAttribute("id","headlessui-portal-root"),vt.body.appendChild(At)});return reactExports.useEffect(()=>{xt!==null&&(vt!=null&&vt.body.contains(xt)||vt==null||vt.body.appendChild(xt))},[xt,vt]),reactExports.useEffect(()=>{$||ht!==null&&bt(ht.current)},[ht,bt,$]),xt}let M=reactExports.Fragment,N=I$3(function(_e,$){let ht=_e,vt=reactExports.useRef(null),xt=y$4(T$2(St=>{vt.current=St}),$),bt=n$1(vt),Et=D(vt),[_t]=reactExports.useState(()=>{var St;return s$5.isServer?null:(St=bt==null?void 0:bt.createElement("div"))!=null?St:null}),At=reactExports.useContext(y),Ct=l();return n$3(()=>{!Et||!_t||Et.contains(_t)||(_t.setAttribute("data-headlessui-portal",""),Et.appendChild(_t))},[Et,_t]),n$3(()=>{if(_t&&At)return At.register(_t)},[At,_t]),c(()=>{var St;!Et||!_t||(_t instanceof Node&&Et.contains(_t)&&Et.removeChild(_t),Et.childNodes.length<=0&&((St=Et.parentElement)==null||St.removeChild(Et)))}),Ct?!Et||!_t?null:reactDomExports.createPortal(H$1({ourProps:{ref:xt},theirProps:ht,slot:{},defaultTag:M,name:"Portal"}),_t):null});function S(_e,$){let ht=y$4($),{enabled:vt=!0,...xt}=_e;return vt?React.createElement(N,{...xt,ref:ht}):H$1({ourProps:{ref:ht},theirProps:xt,slot:{},defaultTag:M,name:"Portal"})}let j$1=reactExports.Fragment,v=reactExports.createContext(null);function W$1(_e,$){let{target:ht,...vt}=_e,xt={ref:y$4($)};return React.createElement(v.Provider,{value:ht},H$1({ourProps:xt,theirProps:vt,defaultTag:j$1,name:"Popover.Group"}))}let y=reactExports.createContext(null),I=I$3(S),J=I$3(W$1),te=Object.assign(I,{Group:J});function p(_e,$){let ht=reactExports.useRef({left:0,top:0});if(n$3(()=>{let xt=$.current;if(!xt)return;let bt=xt.getBoundingClientRect();bt&&(ht.current=bt)},[_e]),$.current==null||!_e||$.current===document.activeElement)return!1;let vt=$.current.getBoundingClientRect();return vt.top!==ht.current.top||vt.left!==ht.current.left}let a=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o(_e){var $,ht;let vt=($=_e.innerText)!=null?$:"",xt=_e.cloneNode(!0);if(!(xt instanceof HTMLElement))return vt;let bt=!1;for(let _t of xt.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))_t.remove(),bt=!0;let Et=bt?(ht=xt.innerText)!=null?ht:"":vt;return a.test(Et)&&(Et=Et.replace(a,"")),Et}function g(_e){let $=_e.getAttribute("aria-label");if(typeof $=="string")return $.trim();let ht=_e.getAttribute("aria-labelledby");if(ht){let vt=ht.split(" ").map(xt=>{let bt=document.getElementById(xt);if(bt){let Et=bt.getAttribute("aria-label");return typeof Et=="string"?Et.trim():o(bt).trim()}return null}).filter(Boolean);if(vt.length>0)return vt.join(", ")}return o(_e).trim()}function s(_e){let $=reactExports.useRef(""),ht=reactExports.useRef("");return o$3(()=>{let vt=_e.current;if(!vt)return"";let xt=vt.innerText;if($.current===xt)return ht.current;let bt=g(vt).trim().toLowerCase();return $.current=xt,ht.current=bt,bt})}var Je=(_e=>(_e[_e.Open=0]="Open",_e[_e.Closed=1]="Closed",_e))(Je||{}),Ve=(_e=>(_e[_e.Pointer=0]="Pointer",_e[_e.Other=1]="Other",_e))(Ve||{}),Xe=(_e=>(_e[_e.OpenMenu=0]="OpenMenu",_e[_e.CloseMenu=1]="CloseMenu",_e[_e.GoToItem=2]="GoToItem",_e[_e.Search=3]="Search",_e[_e.ClearSearch=4]="ClearSearch",_e[_e.RegisterItem=5]="RegisterItem",_e[_e.UnregisterItem=6]="UnregisterItem",_e))(Xe||{});function W(_e,$=ht=>ht){let ht=_e.activeItemIndex!==null?_e.items[_e.activeItemIndex]:null,vt=_($(_e.items.slice()),bt=>bt.dataRef.current.domRef.current),xt=ht?vt.indexOf(ht):null;return xt===-1&&(xt=null),{items:vt,activeItemIndex:xt}}let $e={1(_e){return _e.menuState===1?_e:{..._e,activeItemIndex:null,menuState:1}},0(_e){return _e.menuState===0?_e:{..._e,__demoMode:!1,menuState:0}},2:(_e,$)=>{var ht,vt,xt,bt,Et;if(_e.menuState===1)return _e;let _t={..._e,searchQuery:"",activationTrigger:(ht=$.trigger)!=null?ht:1,__demoMode:!1};if($.focus===c$1.Nothing)return{..._t,activeItemIndex:null};if($.focus===c$1.Specific)return{..._t,activeItemIndex:_e.items.findIndex(St=>St.id===$.id)};if($.focus===c$1.Previous){let St=_e.activeItemIndex;if(St!==null){let Rt=_e.items[St].dataRef.current.domRef,Pt=f($,{resolveItems:()=>_e.items,resolveActiveIndex:()=>_e.activeItemIndex,resolveId:kt=>kt.id,resolveDisabled:kt=>kt.dataRef.current.disabled});if(Pt!==null){let kt=_e.items[Pt].dataRef.current.domRef;if(((vt=Rt.current)==null?void 0:vt.previousElementSibling)===kt.current||((xt=kt.current)==null?void 0:xt.previousElementSibling)===null)return{..._t,activeItemIndex:Pt}}}}else if($.focus===c$1.Next){let St=_e.activeItemIndex;if(St!==null){let Rt=_e.items[St].dataRef.current.domRef,Pt=f($,{resolveItems:()=>_e.items,resolveActiveIndex:()=>_e.activeItemIndex,resolveId:kt=>kt.id,resolveDisabled:kt=>kt.dataRef.current.disabled});if(Pt!==null){let kt=_e.items[Pt].dataRef.current.domRef;if(((bt=Rt.current)==null?void 0:bt.nextElementSibling)===kt.current||((Et=kt.current)==null?void 0:Et.nextElementSibling)===null)return{..._t,activeItemIndex:Pt}}}}let At=W(_e),Ct=f($,{resolveItems:()=>At.items,resolveActiveIndex:()=>At.activeItemIndex,resolveId:St=>St.id,resolveDisabled:St=>St.dataRef.current.disabled});return{..._t,...At,activeItemIndex:Ct}},3:(_e,$)=>{let ht=_e.searchQuery!==""?0:1,vt=_e.searchQuery+$.value.toLowerCase(),xt=(_e.activeItemIndex!==null?_e.items.slice(_e.activeItemIndex+ht).concat(_e.items.slice(0,_e.activeItemIndex+ht)):_e.items).find(Et=>{var _t;return((_t=Et.dataRef.current.textValue)==null?void 0:_t.startsWith(vt))&&!Et.dataRef.current.disabled}),bt=xt?_e.items.indexOf(xt):-1;return bt===-1||bt===_e.activeItemIndex?{..._e,searchQuery:vt}:{..._e,searchQuery:vt,activeItemIndex:bt,activationTrigger:1}},4(_e){return _e.searchQuery===""?_e:{..._e,searchQuery:"",searchActiveItemIndex:null}},5:(_e,$)=>{let ht=W(_e,vt=>[...vt,{id:$.id,dataRef:$.dataRef}]);return{..._e,...ht}},6:(_e,$)=>{let ht=W(_e,vt=>{let xt=vt.findIndex(bt=>bt.id===$.id);return xt!==-1&&vt.splice(xt,1),vt});return{..._e,...ht,activationTrigger:1}}},j=reactExports.createContext(null);j.displayName="MenuContext";function B(_e){let $=reactExports.useContext(j);if($===null){let ht=new Error(`<${_e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(ht,B),ht}return $}function qe(_e,$){return u$6($.type,$e,_e,$)}let ze=reactExports.Fragment;function Ye(_e,$){let{__demoMode:ht=!1,...vt}=_e,xt=reactExports.useReducer(qe,{__demoMode:ht,menuState:ht?0:1,buttonRef:reactExports.createRef(),itemsRef:reactExports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:bt,itemsRef:Et,buttonRef:_t},At]=xt,Ct=y$4($);F$2(bt===0,[_t,Et],(kt,Mt)=>{var Lt;At({type:1}),A$1(Mt,h.Loose)||(kt.preventDefault(),(Lt=_t.current)==null||Lt.focus())});let St=o$3(()=>{At({type:1})}),Rt=reactExports.useMemo(()=>({open:bt===0,close:St}),[bt,St]),Pt={ref:Ct};return React.createElement(ve,null,React.createElement(j.Provider,{value:xt},React.createElement(c$2,{value:u$6(bt,{0:i.Open,1:i.Closed})},H$1({ourProps:Pt,theirProps:vt,slot:Rt,defaultTag:ze,name:"Menu"}))))}let Ze="button";function et(_e,$){var ht;let vt=reactExports.useId(),{id:xt=`headlessui-menu-button-${vt}`,disabled:bt=!1,autoFocus:Et=!1,..._t}=_e,[At,Ct]=B("Menu.Button"),St=Fe(),Rt=y$4(At.buttonRef,$,ye()),Pt=o$3(jt=>{switch(jt.key){case o$2.Space:case o$2.Enter:case o$2.ArrowDown:jt.preventDefault(),jt.stopPropagation(),reactDomExports.flushSync(()=>Ct({type:0})),Ct({type:2,focus:c$1.First});break;case o$2.ArrowUp:jt.preventDefault(),jt.stopPropagation(),reactDomExports.flushSync(()=>Ct({type:0})),Ct({type:2,focus:c$1.Last});break}}),kt=o$3(jt=>{switch(jt.key){case o$2.Space:jt.preventDefault();break}}),Mt=o$3(jt=>{var zt;if(r$1(jt.currentTarget))return jt.preventDefault();bt||(At.menuState===0?(reactDomExports.flushSync(()=>Ct({type:1})),(zt=At.buttonRef.current)==null||zt.focus({preventScroll:!0})):(jt.preventDefault(),Ct({type:0})))}),{isFocusVisible:Lt,focusProps:Ot}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:Et}),{isHovered:Ft,hoverProps:Dt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:bt}),{pressed:$t,pressProps:Bt}=w$1({disabled:bt}),Nt=reactExports.useMemo(()=>({open:At.menuState===0,active:$t||At.menuState===0,disabled:bt,hover:Ft,focus:Lt,autofocus:Et}),[At,Ft,Lt,$t,bt,Et]),Ht=D$3(St(),{ref:Rt,id:xt,type:T(_e,At.buttonRef),"aria-haspopup":"menu","aria-controls":(ht=At.itemsRef.current)==null?void 0:ht.id,"aria-expanded":At.menuState===0,disabled:bt||void 0,autoFocus:Et,onKeyDown:Pt,onKeyUp:kt,onClick:Mt},Ot,Dt,Bt);return H$1({ourProps:Ht,theirProps:_t,slot:Nt,defaultTag:Ze,name:"Menu.Button"})}let tt="div",nt=O$1.RenderStrategy|O$1.Static;function rt(_e,$){var ht,vt;let xt=reactExports.useId(),{id:bt=`headlessui-menu-items-${xt}`,anchor:Et,portal:_t=!1,modal:At=!0,transition:Ct=!1,...St}=_e,Rt=xe(Et),[Pt,kt]=B("Menu.Items"),[Mt,Lt]=Re(Rt),Ot=be(),Ft=y$4(Pt.itemsRef,$,Rt?Mt:null),Dt=n$1(Pt.itemsRef);Rt&&(_t=!0);let $t=u$1(),[Bt,Nt]=V(Ct,Pt.itemsRef,$t!==null?($t&i.Open)===i.Open:Pt.menuState===0);m$1(Bt,Pt.buttonRef,()=>{kt({type:1})});let Ht=Pt.__demoMode?!1:At&&Pt.menuState===0;f$1(Ht,Dt);let jt=Pt.__demoMode?!1:At&&Pt.menuState===0;y$3(jt,{allowed:o$3(()=>[Pt.buttonRef.current,Pt.itemsRef.current])});let zt=Pt.menuState!==0,Kt=p(zt,Pt.buttonRef)?!1:Bt;reactExports.useEffect(()=>{let un=Pt.itemsRef.current;un&&Pt.menuState===0&&un!==(Dt==null?void 0:Dt.activeElement)&&un.focus({preventScroll:!0})},[Pt.menuState,Pt.itemsRef,Dt,Pt.itemsRef.current]),F(Pt.menuState===0,{container:Pt.itemsRef.current,accept(un){return un.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:un.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(un){un.setAttribute("role","none")}});let en=p$3(),Wt=o$3(un=>{var xn,an,hn;switch(en.dispose(),un.key){case o$2.Space:if(Pt.searchQuery!=="")return un.preventDefault(),un.stopPropagation(),kt({type:3,value:un.key});case o$2.Enter:if(un.preventDefault(),un.stopPropagation(),kt({type:1}),Pt.activeItemIndex!==null){let{dataRef:nn}=Pt.items[Pt.activeItemIndex];(an=(xn=nn.current)==null?void 0:xn.domRef.current)==null||an.click()}G(Pt.buttonRef.current);break;case o$2.ArrowDown:return un.preventDefault(),un.stopPropagation(),kt({type:2,focus:c$1.Next});case o$2.ArrowUp:return un.preventDefault(),un.stopPropagation(),kt({type:2,focus:c$1.Previous});case o$2.Home:case o$2.PageUp:return un.preventDefault(),un.stopPropagation(),kt({type:2,focus:c$1.First});case o$2.End:case o$2.PageDown:return un.preventDefault(),un.stopPropagation(),kt({type:2,focus:c$1.Last});case o$2.Escape:un.preventDefault(),un.stopPropagation(),reactDomExports.flushSync(()=>kt({type:1})),(hn=Pt.buttonRef.current)==null||hn.focus({preventScroll:!0});break;case o$2.Tab:un.preventDefault(),un.stopPropagation(),reactDomExports.flushSync(()=>kt({type:1})),j$2(Pt.buttonRef.current,un.shiftKey?F$3.Previous:F$3.Next);break;default:un.key.length===1&&(kt({type:3,value:un.key}),en.setTimeout(()=>kt({type:4}),350));break}}),Qt=o$3(un=>{switch(un.key){case o$2.Space:un.preventDefault();break}}),on=reactExports.useMemo(()=>({open:Pt.menuState===0}),[Pt.menuState]),En=D$3(Rt?Ot():{},{"aria-activedescendant":Pt.activeItemIndex===null||(ht=Pt.items[Pt.activeItemIndex])==null?void 0:ht.id,"aria-labelledby":(vt=Pt.buttonRef.current)==null?void 0:vt.id,id:bt,onKeyDown:Wt,onKeyUp:Qt,role:"menu",tabIndex:Pt.menuState===0?0:void 0,ref:Ft,style:{...St.style,...Lt,"--button-width":f$4(Pt.buttonRef,!0).width},...A(Nt)});return React.createElement(te,{enabled:_t?_e.static||Bt:!1},H$1({ourProps:En,theirProps:St,slot:on,defaultTag:tt,features:nt,visible:Kt,name:"Menu.Items"}))}let ot=reactExports.Fragment;function at(_e,$){let ht=reactExports.useId(),{id:vt=`headlessui-menu-item-${ht}`,disabled:xt=!1,...bt}=_e,[Et,_t]=B("Menu.Item"),At=Et.activeItemIndex!==null?Et.items[Et.activeItemIndex].id===vt:!1,Ct=reactExports.useRef(null),St=y$4($,Ct);n$3(()=>{if(!Et.__demoMode&&Et.menuState===0&&At&&Et.activationTrigger!==0)return o$4().requestAnimationFrame(()=>{var Kt,en;(en=(Kt=Ct.current)==null?void 0:Kt.scrollIntoView)==null||en.call(Kt,{block:"nearest"})})},[Et.__demoMode,Ct,At,Et.menuState,Et.activationTrigger,Et.activeItemIndex]);let Rt=s(Ct),Pt=reactExports.useRef({disabled:xt,domRef:Ct,get textValue(){return Rt()}});n$3(()=>{Pt.current.disabled=xt},[Pt,xt]),n$3(()=>(_t({type:5,id:vt,dataRef:Pt}),()=>_t({type:6,id:vt})),[Pt,vt]);let kt=o$3(()=>{_t({type:1})}),Mt=o$3(Kt=>{if(xt)return Kt.preventDefault();_t({type:1}),G(Et.buttonRef.current)}),Lt=o$3(()=>{if(xt)return _t({type:2,focus:c$1.Nothing});_t({type:2,focus:c$1.Specific,id:vt})}),Ot=u$2(),Ft=o$3(Kt=>{Ot.update(Kt),!xt&&(At||_t({type:2,focus:c$1.Specific,id:vt,trigger:0}))}),Dt=o$3(Kt=>{Ot.wasMoved(Kt)&&(xt||At||_t({type:2,focus:c$1.Specific,id:vt,trigger:0}))}),$t=o$3(Kt=>{Ot.wasMoved(Kt)&&(xt||At&&_t({type:2,focus:c$1.Nothing}))}),[Bt,Nt]=z(),[Ht,jt]=U$1(),zt=reactExports.useMemo(()=>({active:At,focus:At,disabled:xt,close:kt}),[At,xt,kt]);return React.createElement(Nt,null,React.createElement(jt,null,H$1({ourProps:{id:vt,ref:St,role:"menuitem",tabIndex:xt===!0?void 0:-1,"aria-disabled":xt===!0?!0:void 0,"aria-labelledby":Bt,"aria-describedby":Ht,disabled:void 0,onClick:Mt,onFocus:Lt,onPointerEnter:Ft,onMouseEnter:Ft,onPointerMove:Dt,onMouseMove:Dt,onPointerLeave:$t,onMouseLeave:$t},theirProps:bt,slot:zt,defaultTag:ot,name:"Menu.Item"})))}let it="div";function st(_e,$){let[ht,vt]=z();return React.createElement(vt,null,H$1({ourProps:{ref:$,"aria-labelledby":ht,role:"group"},theirProps:_e,slot:{},defaultTag:it,name:"Menu.Section"}))}let lt="header";function ut(_e,$){let ht=reactExports.useId(),{id:vt=`headlessui-menu-heading-${ht}`,...xt}=_e,bt=P$1();n$3(()=>bt.register(vt),[vt,bt.register]);let Et={id:vt,ref:$,role:"presentation",...bt.props};return H$1({ourProps:Et,theirProps:xt,slot:{},defaultTag:lt,name:"Menu.Heading"})}let pt="div";function dt(_e,$){return H$1({ourProps:{ref:$,role:"separator"},theirProps:_e,slot:{},defaultTag:pt,name:"Menu.Separator"})}let mt=I$3(Ye),ct=I$3(et),ft=I$3(rt),Tt=I$3(at),yt=I$3(st),gt=I$3(ut),It=I$3(dt),Zt=Object.assign(mt,{Button:ct,Items:ft,Item:Tt,Section:yt,Heading:gt,Separator:It});function ChevronDownIcon({title:_e,titleId:$,...ht},vt){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:vt,"aria-labelledby":$},ht),_e?reactExports.createElement("title",{id:$},_e):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const ForwardRef=reactExports.forwardRef(ChevronDownIcon);function Form(){return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(249,250,250)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:'"Public Sans", "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Healthcare"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Dashboard"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Patients"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Appointments"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"More"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/3ff28297-380f-4f51-aac1-1fcac1b0d3bb.png")'}})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-[#1C1D22] tracking-light text-2xl font-bold leading-tight px-4 text-left pb-2 pt-5",children:"Add a new patient"}),jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal pb-3 pt-1 px-4",children:"Enter the details of the patient you'd like to add to your practice"}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"First name"}),jsxRuntimeExports.jsx("input",{placeholder:"Type first name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Last name"}),jsxRuntimeExports.jsx("input",{placeholder:"Type last name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Date of birth"}),jsxRuntimeExports.jsx("input",{placeholder:"MM / DD / YYYY",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Gender"}),jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl",children:[jsxRuntimeExports.jsx("input",{placeholder:"Select gender",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] rounded-r-none border-r-0 pr-2 text-base font-normal leading-normal",value:""}),jsxRuntimeExports.jsx("div",{className:"text-[#3C3F4A] flex border border-[#D5D6DD] bg-[#FFFFFF] items-center justify-center pr-[15px] rounded-r-xl border-l-0","data-icon":"CaretUpDown","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,170.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-48-48a8,8,0,0,1,11.32-11.32L128,212.69l42.34-42.35A8,8,0,0,1,181.66,170.34Zm-96-84.68L128,43.31l42.34,42.35a8,8,0,0,0,11.32-11.32l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,85.66,85.66Z"})})})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Weight (lbs)"}),jsxRuntimeExports.jsx("input",{placeholder:"Type weight",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Phone number"}),jsxRuntimeExports.jsx("input",{placeholder:"(555) 555-5555",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"px-4",children:jsxRuntimeExports.jsxs("label",{className:"flex gap-x-3 py-3 flex-row",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-[#D5D6DD] border-2 bg-transparent text-[#607AFB] checked:bg-[#607AFB] checked:border-[#607AFB] focus:ring-0 focus:ring-offset-0 focus:border-[#D5D6DD] focus:outline-none",defaultChecked:!0}),jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal",children:"Patient has an email address"})]})}),jsxRuntimeExports.jsx("div",{className:"flex px-4 py-3",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-12 px-5 flex-1 bg-[#607AFB] text-[#F9FAFA] text-base font-bold leading-normal tracking-[0.015em]",children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Save patient"})})})]})})]})})}function classNames(..._e){return _e.filter(Boolean).join(" ")}function Dropdown(_e){function $(){_e.setEditPatients(!_e.editPatients),_e.setDeletePatients(!1)}function ht(){_e.setDeletePatients(!_e.deletePatients),_e.setEditPatients(!1)}const vt=useNavigate();return jsxRuntimeExports.jsxs(Zt,{as:"div",className:"relative inline-block text-left",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(ct,{className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:["Manage patients",jsxRuntimeExports.jsx(ForwardRef,{className:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),jsxRuntimeExports.jsx(ft,{transition:!0,className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75 data-[enter]:ease-out data-[leave]:ease-in",children:jsxRuntimeExports.jsxs("div",{className:"py-1",children:[jsxRuntimeExports.jsx(Tt,{children:({focus:xt})=>jsxRuntimeExports.jsx("a",{onClick:()=>vt("/form"),className:classNames(xt?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Add Patient"})}),jsxRuntimeExports.jsx(Tt,{children:({focus:xt})=>jsxRuntimeExports.jsx("a",{onClick:$,className:classNames(xt?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Edit Patient"})}),jsxRuntimeExports.jsx(Tt,{children:({focus:xt})=>jsxRuntimeExports.jsx("a",{onClick:ht,className:classNames(xt?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Remove Patient"})})]})})]})}function bind(_e,$){return function(){return _e.apply($,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(_e=>$=>{const ht=toString.call($);return _e[ht]||(_e[ht]=ht.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=_e=>(_e=_e.toLowerCase(),$=>kindOf($)===_e),typeOfTest=_e=>$=>typeof $===_e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(_e){return _e!==null&&!isUndefined(_e)&&_e.constructor!==null&&!isUndefined(_e.constructor)&&isFunction(_e.constructor.isBuffer)&&_e.constructor.isBuffer(_e)}const isArrayBuffer$1=kindOfTest("ArrayBuffer");function isArrayBufferView(_e){let $;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?$=ArrayBuffer.isView(_e):$=_e&&_e.buffer&&isArrayBuffer$1(_e.buffer),$}const isString$1=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=_e=>_e!==null&&typeof _e=="object",isBoolean=_e=>_e===!0||_e===!1,isPlainObject=_e=>{if(kindOf(_e)!=="object")return!1;const $=getPrototypeOf(_e);return($===null||$===Object.prototype||Object.getPrototypeOf($)===null)&&!(Symbol.toStringTag in _e)&&!(Symbol.iterator in _e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob$1=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=_e=>isObject(_e)&&isFunction(_e.pipe),isFormData=_e=>{let $;return _e&&(typeof FormData=="function"&&_e instanceof FormData||isFunction(_e.append)&&(($=kindOf(_e))==="formdata"||$==="object"&&isFunction(_e.toString)&&_e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=_e=>_e.trim?_e.trim():_e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(_e,$,{allOwnKeys:ht=!1}={}){if(_e===null||typeof _e>"u")return;let vt,xt;if(typeof _e!="object"&&(_e=[_e]),isArray(_e))for(vt=0,xt=_e.length;vt<xt;vt++)$.call(null,_e[vt],vt,_e);else{const bt=ht?Object.getOwnPropertyNames(_e):Object.keys(_e),Et=bt.length;let _t;for(vt=0;vt<Et;vt++)_t=bt[vt],$.call(null,_e[_t],_t,_e)}}function findKey(_e,$){$=$.toLowerCase();const ht=Object.keys(_e);let vt=ht.length,xt;for(;vt-- >0;)if(xt=ht[vt],$===xt.toLowerCase())return xt;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=_e=>!isUndefined(_e)&&_e!==_global;function merge(){const{caseless:_e}=isContextDefined(this)&&this||{},$={},ht=(vt,xt)=>{const bt=_e&&findKey($,xt)||xt;isPlainObject($[bt])&&isPlainObject(vt)?$[bt]=merge($[bt],vt):isPlainObject(vt)?$[bt]=merge({},vt):isArray(vt)?$[bt]=vt.slice():$[bt]=vt};for(let vt=0,xt=arguments.length;vt<xt;vt++)arguments[vt]&&forEach(arguments[vt],ht);return $}const extend=(_e,$,ht,{allOwnKeys:vt}={})=>(forEach($,(xt,bt)=>{ht&&isFunction(xt)?_e[bt]=bind(xt,ht):_e[bt]=xt},{allOwnKeys:vt}),_e),stripBOM=_e=>(_e.charCodeAt(0)===65279&&(_e=_e.slice(1)),_e),inherits=(_e,$,ht,vt)=>{_e.prototype=Object.create($.prototype,vt),_e.prototype.constructor=_e,Object.defineProperty(_e,"super",{value:$.prototype}),ht&&Object.assign(_e.prototype,ht)},toFlatObject=(_e,$,ht,vt)=>{let xt,bt,Et;const _t={};if($=$||{},_e==null)return $;do{for(xt=Object.getOwnPropertyNames(_e),bt=xt.length;bt-- >0;)Et=xt[bt],(!vt||vt(Et,_e,$))&&!_t[Et]&&($[Et]=_e[Et],_t[Et]=!0);_e=ht!==!1&&getPrototypeOf(_e)}while(_e&&(!ht||ht(_e,$))&&_e!==Object.prototype);return $},endsWith=(_e,$,ht)=>{_e=String(_e),(ht===void 0||ht>_e.length)&&(ht=_e.length),ht-=$.length;const vt=_e.indexOf($,ht);return vt!==-1&&vt===ht},toArray=_e=>{if(!_e)return null;if(isArray(_e))return _e;let $=_e.length;if(!isNumber($))return null;const ht=new Array($);for(;$-- >0;)ht[$]=_e[$];return ht},isTypedArray=(_e=>$=>_e&&$ instanceof _e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(_e,$)=>{const vt=(_e&&_e[Symbol.iterator]).call(_e);let xt;for(;(xt=vt.next())&&!xt.done;){const bt=xt.value;$.call(_e,bt[0],bt[1])}},matchAll=(_e,$)=>{let ht;const vt=[];for(;(ht=_e.exec($))!==null;)vt.push(ht);return vt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=_e=>_e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(ht,vt,xt){return vt.toUpperCase()+xt}),hasOwnProperty=(({hasOwnProperty:_e})=>($,ht)=>_e.call($,ht))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(_e,$)=>{const ht=Object.getOwnPropertyDescriptors(_e),vt={};forEach(ht,(xt,bt)=>{let Et;(Et=$(xt,bt,_e))!==!1&&(vt[bt]=Et||xt)}),Object.defineProperties(_e,vt)},freezeMethods=_e=>{reduceDescriptors(_e,($,ht)=>{if(isFunction(_e)&&["arguments","caller","callee"].indexOf(ht)!==-1)return!1;const vt=_e[ht];if(isFunction(vt)){if($.enumerable=!1,"writable"in $){$.writable=!1;return}$.set||($.set=()=>{throw Error("Can not rewrite read-only method '"+ht+"'")})}})},toObjectSet=(_e,$)=>{const ht={},vt=xt=>{xt.forEach(bt=>{ht[bt]=!0})};return isArray(_e)?vt(_e):vt(String(_e).split($)),ht},noop=()=>{},toFiniteNumber=(_e,$)=>_e!=null&&Number.isFinite(_e=+_e)?_e:$,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(_e=16,$=ALPHABET.ALPHA_DIGIT)=>{let ht="";const{length:vt}=$;for(;_e--;)ht+=$[Math.random()*vt|0];return ht};function isSpecCompliantForm(_e){return!!(_e&&isFunction(_e.append)&&_e[Symbol.toStringTag]==="FormData"&&_e[Symbol.iterator])}const toJSONObject=_e=>{const $=new Array(10),ht=(vt,xt)=>{if(isObject(vt)){if($.indexOf(vt)>=0)return;if(!("toJSON"in vt)){$[xt]=vt;const bt=isArray(vt)?[]:{};return forEach(vt,(Et,_t)=>{const At=ht(Et,xt+1);!isUndefined(At)&&(bt[_t]=At)}),$[xt]=void 0,bt}}return vt};return ht(_e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=_e=>_e&&(isObject(_e)||isFunction(_e))&&isFunction(_e.then)&&isFunction(_e.catch),utils$1={isArray,isArrayBuffer:isArrayBuffer$1,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob:isBlob$1,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(_e,$,ht,vt,xt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=_e,this.name="AxiosError",$&&(this.code=$),ht&&(this.config=ht),vt&&(this.request=vt),xt&&(this.response=xt)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(_e=>{descriptors[_e]={value:_e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(_e,$,ht,vt,xt,bt)=>{const Et=Object.create(prototype$1);return utils$1.toFlatObject(_e,Et,function(At){return At!==Error.prototype},_t=>_t!=="isAxiosError"),AxiosError.call(Et,_e.message,$,ht,vt,xt),Et.cause=_e,Et.name=_e.name,bt&&Object.assign(Et,bt),Et};const httpAdapter=null;function isVisitable(_e){return utils$1.isPlainObject(_e)||utils$1.isArray(_e)}function removeBrackets(_e){return utils$1.endsWith(_e,"[]")?_e.slice(0,-2):_e}function renderKey(_e,$,ht){return _e?_e.concat($).map(function(xt,bt){return xt=removeBrackets(xt),!ht&&bt?"["+xt+"]":xt}).join(ht?".":""):$}function isFlatArray(_e){return utils$1.isArray(_e)&&!_e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function($){return/^is[A-Z]/.test($)});function toFormData(_e,$,ht){if(!utils$1.isObject(_e))throw new TypeError("target must be an object");$=$||new FormData,ht=utils$1.toFlatObject(ht,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Lt,Ot){return!utils$1.isUndefined(Ot[Lt])});const vt=ht.metaTokens,xt=ht.visitor||St,bt=ht.dots,Et=ht.indexes,At=(ht.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm($);if(!utils$1.isFunction(xt))throw new TypeError("visitor must be a function");function Ct(Mt){if(Mt===null)return"";if(utils$1.isDate(Mt))return Mt.toISOString();if(!At&&utils$1.isBlob(Mt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(Mt)||utils$1.isTypedArray(Mt)?At&&typeof Blob=="function"?new Blob([Mt]):Buffer.from(Mt):Mt}function St(Mt,Lt,Ot){let Ft=Mt;if(Mt&&!Ot&&typeof Mt=="object"){if(utils$1.endsWith(Lt,"{}"))Lt=vt?Lt:Lt.slice(0,-2),Mt=JSON.stringify(Mt);else if(utils$1.isArray(Mt)&&isFlatArray(Mt)||(utils$1.isFileList(Mt)||utils$1.endsWith(Lt,"[]"))&&(Ft=utils$1.toArray(Mt)))return Lt=removeBrackets(Lt),Ft.forEach(function($t,Bt){!(utils$1.isUndefined($t)||$t===null)&&$.append(Et===!0?renderKey([Lt],Bt,bt):Et===null?Lt:Lt+"[]",Ct($t))}),!1}return isVisitable(Mt)?!0:($.append(renderKey(Ot,Lt,bt),Ct(Mt)),!1)}const Rt=[],Pt=Object.assign(predicates,{defaultVisitor:St,convertValue:Ct,isVisitable});function kt(Mt,Lt){if(!utils$1.isUndefined(Mt)){if(Rt.indexOf(Mt)!==-1)throw Error("Circular reference detected in "+Lt.join("."));Rt.push(Mt),utils$1.forEach(Mt,function(Ft,Dt){(!(utils$1.isUndefined(Ft)||Ft===null)&&xt.call($,Ft,utils$1.isString(Dt)?Dt.trim():Dt,Lt,Pt))===!0&&kt(Ft,Lt?Lt.concat(Dt):[Dt])}),Rt.pop()}}if(!utils$1.isObject(_e))throw new TypeError("data must be an object");return kt(_e),$}function encode$1(_e){const $={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(_e).replace(/[!'()~]|%20|%00/g,function(vt){return $[vt]})}function AxiosURLSearchParams(_e,$){this._pairs=[],_e&&toFormData(_e,this,$)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function($,ht){this._pairs.push([$,ht])};prototype.toString=function($){const ht=$?function(vt){return $.call(this,vt,encode$1)}:encode$1;return this._pairs.map(function(xt){return ht(xt[0])+"="+ht(xt[1])},"").join("&")};function encode(_e){return encodeURIComponent(_e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(_e,$,ht){if(!$)return _e;const vt=ht&&ht.encode||encode,xt=ht&&ht.serialize;let bt;if(xt?bt=xt($,ht):bt=utils$1.isURLSearchParams($)?$.toString():new AxiosURLSearchParams($,ht).toString(vt),bt){const Et=_e.indexOf("#");Et!==-1&&(_e=_e.slice(0,Et)),_e+=(_e.indexOf("?")===-1?"?":"&")+bt}return _e}class InterceptorManager{constructor(){this.handlers=[]}use($,ht,vt){return this.handlers.push({fulfilled:$,rejected:ht,synchronous:vt?vt.synchronous:!1,runWhen:vt?vt.runWhen:null}),this.handlers.length-1}eject($){this.handlers[$]&&(this.handlers[$]=null)}clear(){this.handlers&&(this.handlers=[])}forEach($){utils$1.forEach(this.handlers,function(vt){vt!==null&&$(vt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(_e=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(_e)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(_e,$){return toFormData(_e,new platform.classes.URLSearchParams,Object.assign({visitor:function(ht,vt,xt,bt){return platform.isNode&&utils$1.isBuffer(ht)?(this.append(vt,ht.toString("base64")),!1):bt.defaultVisitor.apply(this,arguments)}},$))}function parsePropPath(_e){return utils$1.matchAll(/\w+|\[(\w*)]/g,_e).map($=>$[0]==="[]"?"":$[1]||$[0])}function arrayToObject(_e){const $={},ht=Object.keys(_e);let vt;const xt=ht.length;let bt;for(vt=0;vt<xt;vt++)bt=ht[vt],$[bt]=_e[bt];return $}function formDataToJSON(_e){function $(ht,vt,xt,bt){let Et=ht[bt++];if(Et==="__proto__")return!0;const _t=Number.isFinite(+Et),At=bt>=ht.length;return Et=!Et&&utils$1.isArray(xt)?xt.length:Et,At?(utils$1.hasOwnProp(xt,Et)?xt[Et]=[xt[Et],vt]:xt[Et]=vt,!_t):((!xt[Et]||!utils$1.isObject(xt[Et]))&&(xt[Et]=[]),$(ht,vt,xt[Et],bt)&&utils$1.isArray(xt[Et])&&(xt[Et]=arrayToObject(xt[Et])),!_t)}if(utils$1.isFormData(_e)&&utils$1.isFunction(_e.entries)){const ht={};return utils$1.forEachEntry(_e,(vt,xt)=>{$(parsePropPath(vt),xt,ht,0)}),ht}return null}function stringifySafely(_e,$,ht){if(utils$1.isString(_e))try{return($||JSON.parse)(_e),utils$1.trim(_e)}catch(vt){if(vt.name!=="SyntaxError")throw vt}return(ht||JSON.stringify)(_e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function($,ht){const vt=ht.getContentType()||"",xt=vt.indexOf("application/json")>-1,bt=utils$1.isObject($);if(bt&&utils$1.isHTMLForm($)&&($=new FormData($)),utils$1.isFormData($))return xt?JSON.stringify(formDataToJSON($)):$;if(utils$1.isArrayBuffer($)||utils$1.isBuffer($)||utils$1.isStream($)||utils$1.isFile($)||utils$1.isBlob($)||utils$1.isReadableStream($))return $;if(utils$1.isArrayBufferView($))return $.buffer;if(utils$1.isURLSearchParams($))return ht.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),$.toString();let _t;if(bt){if(vt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm($,this.formSerializer).toString();if((_t=utils$1.isFileList($))||vt.indexOf("multipart/form-data")>-1){const At=this.env&&this.env.FormData;return toFormData(_t?{"files[]":$}:$,At&&new At,this.formSerializer)}}return bt||xt?(ht.setContentType("application/json",!1),stringifySafely($)):$}],transformResponse:[function($){const ht=this.transitional||defaults.transitional,vt=ht&&ht.forcedJSONParsing,xt=this.responseType==="json";if(utils$1.isResponse($)||utils$1.isReadableStream($))return $;if($&&utils$1.isString($)&&(vt&&!this.responseType||xt)){const Et=!(ht&&ht.silentJSONParsing)&&xt;try{return JSON.parse($)}catch(_t){if(Et)throw _t.name==="SyntaxError"?AxiosError.from(_t,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):_t}}return $}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function($){return $>=200&&$<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],_e=>{defaults.headers[_e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=_e=>{const $={};let ht,vt,xt;return _e&&_e.split(`
`).forEach(function(Et){xt=Et.indexOf(":"),ht=Et.substring(0,xt).trim().toLowerCase(),vt=Et.substring(xt+1).trim(),!(!ht||$[ht]&&ignoreDuplicateOf[ht])&&(ht==="set-cookie"?$[ht]?$[ht].push(vt):$[ht]=[vt]:$[ht]=$[ht]?$[ht]+", "+vt:vt)}),$},$internals=Symbol("internals");function normalizeHeader(_e){return _e&&String(_e).trim().toLowerCase()}function normalizeValue(_e){return _e===!1||_e==null?_e:utils$1.isArray(_e)?_e.map(normalizeValue):String(_e)}function parseTokens(_e){const $=Object.create(null),ht=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let vt;for(;vt=ht.exec(_e);)$[vt[1]]=vt[2];return $}const isValidHeaderName=_e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_e.trim());function matchHeaderValue(_e,$,ht,vt,xt){if(utils$1.isFunction(vt))return vt.call(this,$,ht);if(xt&&($=ht),!!utils$1.isString($)){if(utils$1.isString(vt))return $.indexOf(vt)!==-1;if(utils$1.isRegExp(vt))return vt.test($)}}function formatHeader(_e){return _e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,($,ht,vt)=>ht.toUpperCase()+vt)}function buildAccessors(_e,$){const ht=utils$1.toCamelCase(" "+$);["get","set","has"].forEach(vt=>{Object.defineProperty(_e,vt+ht,{value:function(xt,bt,Et){return this[vt].call(this,$,xt,bt,Et)},configurable:!0})})}class AxiosHeaders{constructor($){$&&this.set($)}set($,ht,vt){const xt=this;function bt(_t,At,Ct){const St=normalizeHeader(At);if(!St)throw new Error("header name must be a non-empty string");const Rt=utils$1.findKey(xt,St);(!Rt||xt[Rt]===void 0||Ct===!0||Ct===void 0&&xt[Rt]!==!1)&&(xt[Rt||At]=normalizeValue(_t))}const Et=(_t,At)=>utils$1.forEach(_t,(Ct,St)=>bt(Ct,St,At));if(utils$1.isPlainObject($)||$ instanceof this.constructor)Et($,ht);else if(utils$1.isString($)&&($=$.trim())&&!isValidHeaderName($))Et(parseHeaders($),ht);else if(utils$1.isHeaders($))for(const[_t,At]of $.entries())bt(At,_t,vt);else $!=null&&bt(ht,$,vt);return this}get($,ht){if($=normalizeHeader($),$){const vt=utils$1.findKey(this,$);if(vt){const xt=this[vt];if(!ht)return xt;if(ht===!0)return parseTokens(xt);if(utils$1.isFunction(ht))return ht.call(this,xt,vt);if(utils$1.isRegExp(ht))return ht.exec(xt);throw new TypeError("parser must be boolean|regexp|function")}}}has($,ht){if($=normalizeHeader($),$){const vt=utils$1.findKey(this,$);return!!(vt&&this[vt]!==void 0&&(!ht||matchHeaderValue(this,this[vt],vt,ht)))}return!1}delete($,ht){const vt=this;let xt=!1;function bt(Et){if(Et=normalizeHeader(Et),Et){const _t=utils$1.findKey(vt,Et);_t&&(!ht||matchHeaderValue(vt,vt[_t],_t,ht))&&(delete vt[_t],xt=!0)}}return utils$1.isArray($)?$.forEach(bt):bt($),xt}clear($){const ht=Object.keys(this);let vt=ht.length,xt=!1;for(;vt--;){const bt=ht[vt];(!$||matchHeaderValue(this,this[bt],bt,$,!0))&&(delete this[bt],xt=!0)}return xt}normalize($){const ht=this,vt={};return utils$1.forEach(this,(xt,bt)=>{const Et=utils$1.findKey(vt,bt);if(Et){ht[Et]=normalizeValue(xt),delete ht[bt];return}const _t=$?formatHeader(bt):String(bt).trim();_t!==bt&&delete ht[bt],ht[_t]=normalizeValue(xt),vt[_t]=!0}),this}concat(...$){return this.constructor.concat(this,...$)}toJSON($){const ht=Object.create(null);return utils$1.forEach(this,(vt,xt)=>{vt!=null&&vt!==!1&&(ht[xt]=$&&utils$1.isArray(vt)?vt.join(", "):vt)}),ht}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([$,ht])=>$+": "+ht).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from($){return $ instanceof this?$:new this($)}static concat($,...ht){const vt=new this($);return ht.forEach(xt=>vt.set(xt)),vt}static accessor($){const vt=(this[$internals]=this[$internals]={accessors:{}}).accessors,xt=this.prototype;function bt(Et){const _t=normalizeHeader(Et);vt[_t]||(buildAccessors(xt,Et),vt[_t]=!0)}return utils$1.isArray($)?$.forEach(bt):bt($),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:_e},$)=>{let ht=$[0].toUpperCase()+$.slice(1);return{get:()=>_e,set(vt){this[ht]=vt}}});utils$1.freezeMethods(AxiosHeaders);function transformData(_e,$){const ht=this||defaults,vt=$||ht,xt=AxiosHeaders.from(vt.headers);let bt=vt.data;return utils$1.forEach(_e,function(_t){bt=_t.call(ht,bt,xt.normalize(),$?$.status:void 0)}),xt.normalize(),bt}function isCancel(_e){return!!(_e&&_e.__CANCEL__)}function CanceledError(_e,$,ht){AxiosError.call(this,_e??"canceled",AxiosError.ERR_CANCELED,$,ht),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(_e,$,ht){const vt=ht.config.validateStatus;!ht.status||!vt||vt(ht.status)?_e(ht):$(new AxiosError("Request failed with status code "+ht.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(ht.status/100)-4],ht.config,ht.request,ht))}function parseProtocol(_e){const $=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_e);return $&&$[1]||""}function speedometer(_e,$){_e=_e||10;const ht=new Array(_e),vt=new Array(_e);let xt=0,bt=0,Et;return $=$!==void 0?$:1e3,function(At){const Ct=Date.now(),St=vt[bt];Et||(Et=Ct),ht[xt]=At,vt[xt]=Ct;let Rt=bt,Pt=0;for(;Rt!==xt;)Pt+=ht[Rt++],Rt=Rt%_e;if(xt=(xt+1)%_e,xt===bt&&(bt=(bt+1)%_e),Ct-Et<$)return;const kt=St&&Ct-St;return kt?Math.round(Pt*1e3/kt):void 0}}function throttle(_e,$){let ht=0;const vt=1e3/$;let xt=null;return function(){const Et=this===!0,_t=Date.now();if(Et||_t-ht>vt)return xt&&(clearTimeout(xt),xt=null),ht=_t,_e.apply(null,arguments);xt||(xt=setTimeout(()=>(xt=null,ht=Date.now(),_e.apply(null,arguments)),vt-(_t-ht)))}}const progressEventReducer=(_e,$,ht=3)=>{let vt=0;const xt=speedometer(50,250);return throttle(bt=>{const Et=bt.loaded,_t=bt.lengthComputable?bt.total:void 0,At=Et-vt,Ct=xt(At),St=Et<=_t;vt=Et;const Rt={loaded:Et,total:_t,progress:_t?Et/_t:void 0,bytes:At,rate:Ct||void 0,estimated:Ct&&_t&&St?(_t-Et)/Ct:void 0,event:bt,lengthComputable:_t!=null};Rt[$?"download":"upload"]=!0,_e(Rt)},ht)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const $=/(msie|trident)/i.test(navigator.userAgent),ht=document.createElement("a");let vt;function xt(bt){let Et=bt;return $&&(ht.setAttribute("href",Et),Et=ht.href),ht.setAttribute("href",Et),{href:ht.href,protocol:ht.protocol?ht.protocol.replace(/:$/,""):"",host:ht.host,search:ht.search?ht.search.replace(/^\?/,""):"",hash:ht.hash?ht.hash.replace(/^#/,""):"",hostname:ht.hostname,port:ht.port,pathname:ht.pathname.charAt(0)==="/"?ht.pathname:"/"+ht.pathname}}return vt=xt(window.location.href),function(Et){const _t=utils$1.isString(Et)?xt(Et):Et;return _t.protocol===vt.protocol&&_t.host===vt.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(_e,$,ht,vt,xt,bt){const Et=[_e+"="+encodeURIComponent($)];utils$1.isNumber(ht)&&Et.push("expires="+new Date(ht).toGMTString()),utils$1.isString(vt)&&Et.push("path="+vt),utils$1.isString(xt)&&Et.push("domain="+xt),bt===!0&&Et.push("secure"),document.cookie=Et.join("; ")},read(_e){const $=document.cookie.match(new RegExp("(^|;\\s*)("+_e+")=([^;]*)"));return $?decodeURIComponent($[3]):null},remove(_e){this.write(_e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(_e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_e)}function combineURLs(_e,$){return $?_e.replace(/\/?\/$/,"")+"/"+$.replace(/^\/+/,""):_e}function buildFullPath(_e,$){return _e&&!isAbsoluteURL($)?combineURLs(_e,$):$}const headersToObject=_e=>_e instanceof AxiosHeaders?{..._e}:_e;function mergeConfig(_e,$){$=$||{};const ht={};function vt(Ct,St,Rt){return utils$1.isPlainObject(Ct)&&utils$1.isPlainObject(St)?utils$1.merge.call({caseless:Rt},Ct,St):utils$1.isPlainObject(St)?utils$1.merge({},St):utils$1.isArray(St)?St.slice():St}function xt(Ct,St,Rt){if(utils$1.isUndefined(St)){if(!utils$1.isUndefined(Ct))return vt(void 0,Ct,Rt)}else return vt(Ct,St,Rt)}function bt(Ct,St){if(!utils$1.isUndefined(St))return vt(void 0,St)}function Et(Ct,St){if(utils$1.isUndefined(St)){if(!utils$1.isUndefined(Ct))return vt(void 0,Ct)}else return vt(void 0,St)}function _t(Ct,St,Rt){if(Rt in $)return vt(Ct,St);if(Rt in _e)return vt(void 0,Ct)}const At={url:bt,method:bt,data:bt,baseURL:Et,transformRequest:Et,transformResponse:Et,paramsSerializer:Et,timeout:Et,timeoutMessage:Et,withCredentials:Et,withXSRFToken:Et,adapter:Et,responseType:Et,xsrfCookieName:Et,xsrfHeaderName:Et,onUploadProgress:Et,onDownloadProgress:Et,decompress:Et,maxContentLength:Et,maxBodyLength:Et,beforeRedirect:Et,transport:Et,httpAgent:Et,httpsAgent:Et,cancelToken:Et,socketPath:Et,responseEncoding:Et,validateStatus:_t,headers:(Ct,St)=>xt(headersToObject(Ct),headersToObject(St),!0)};return utils$1.forEach(Object.keys(Object.assign({},_e,$)),function(St){const Rt=At[St]||xt,Pt=Rt(_e[St],$[St],St);utils$1.isUndefined(Pt)&&Rt!==_t||(ht[St]=Pt)}),ht}const resolveConfig=_e=>{const $=mergeConfig({},_e);let{data:ht,withXSRFToken:vt,xsrfHeaderName:xt,xsrfCookieName:bt,headers:Et,auth:_t}=$;$.headers=Et=AxiosHeaders.from(Et),$.url=buildURL(buildFullPath($.baseURL,$.url),_e.params,_e.paramsSerializer),_t&&Et.set("Authorization","Basic "+btoa((_t.username||"")+":"+(_t.password?unescape(encodeURIComponent(_t.password)):"")));let At;if(utils$1.isFormData(ht)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)Et.setContentType(void 0);else if((At=Et.getContentType())!==!1){const[Ct,...St]=At?At.split(";").map(Rt=>Rt.trim()).filter(Boolean):[];Et.setContentType([Ct||"multipart/form-data",...St].join("; "))}}if(platform.hasStandardBrowserEnv&&(vt&&utils$1.isFunction(vt)&&(vt=vt($)),vt||vt!==!1&&isURLSameOrigin($.url))){const Ct=xt&&bt&&cookies.read(bt);Ct&&Et.set(xt,Ct)}return $},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(_e){return new Promise(function(ht,vt){const xt=resolveConfig(_e);let bt=xt.data;const Et=AxiosHeaders.from(xt.headers).normalize();let{responseType:_t}=xt,At;function Ct(){xt.cancelToken&&xt.cancelToken.unsubscribe(At),xt.signal&&xt.signal.removeEventListener("abort",At)}let St=new XMLHttpRequest;St.open(xt.method.toUpperCase(),xt.url,!0),St.timeout=xt.timeout;function Rt(){if(!St)return;const kt=AxiosHeaders.from("getAllResponseHeaders"in St&&St.getAllResponseHeaders()),Lt={data:!_t||_t==="text"||_t==="json"?St.responseText:St.response,status:St.status,statusText:St.statusText,headers:kt,config:_e,request:St};settle(function(Ft){ht(Ft),Ct()},function(Ft){vt(Ft),Ct()},Lt),St=null}"onloadend"in St?St.onloadend=Rt:St.onreadystatechange=function(){!St||St.readyState!==4||St.status===0&&!(St.responseURL&&St.responseURL.indexOf("file:")===0)||setTimeout(Rt)},St.onabort=function(){St&&(vt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,xt,St)),St=null)},St.onerror=function(){vt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,xt,St)),St=null},St.ontimeout=function(){let Mt=xt.timeout?"timeout of "+xt.timeout+"ms exceeded":"timeout exceeded";const Lt=xt.transitional||transitionalDefaults;xt.timeoutErrorMessage&&(Mt=xt.timeoutErrorMessage),vt(new AxiosError(Mt,Lt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,xt,St)),St=null},bt===void 0&&Et.setContentType(null),"setRequestHeader"in St&&utils$1.forEach(Et.toJSON(),function(Mt,Lt){St.setRequestHeader(Lt,Mt)}),utils$1.isUndefined(xt.withCredentials)||(St.withCredentials=!!xt.withCredentials),_t&&_t!=="json"&&(St.responseType=xt.responseType),typeof xt.onDownloadProgress=="function"&&St.addEventListener("progress",progressEventReducer(xt.onDownloadProgress,!0)),typeof xt.onUploadProgress=="function"&&St.upload&&St.upload.addEventListener("progress",progressEventReducer(xt.onUploadProgress)),(xt.cancelToken||xt.signal)&&(At=kt=>{St&&(vt(!kt||kt.type?new CanceledError(null,_e,St):kt),St.abort(),St=null)},xt.cancelToken&&xt.cancelToken.subscribe(At),xt.signal&&(xt.signal.aborted?At():xt.signal.addEventListener("abort",At)));const Pt=parseProtocol(xt.url);if(Pt&&platform.protocols.indexOf(Pt)===-1){vt(new AxiosError("Unsupported protocol "+Pt+":",AxiosError.ERR_BAD_REQUEST,_e));return}St.send(bt||null)})},composeSignals=(_e,$)=>{let ht=new AbortController,vt;const xt=function(At){if(!vt){vt=!0,Et();const Ct=At instanceof Error?At:this.reason;ht.abort(Ct instanceof AxiosError?Ct:new CanceledError(Ct instanceof Error?Ct.message:Ct))}};let bt=$&&setTimeout(()=>{xt(new AxiosError(`timeout ${$} of ms exceeded`,AxiosError.ETIMEDOUT))},$);const Et=()=>{_e&&(bt&&clearTimeout(bt),bt=null,_e.forEach(At=>{At&&(At.removeEventListener?At.removeEventListener("abort",xt):At.unsubscribe(xt))}),_e=null)};_e.forEach(At=>At&&At.addEventListener&&At.addEventListener("abort",xt));const{signal:_t}=ht;return _t.unsubscribe=Et,[_t,()=>{bt&&clearTimeout(bt),bt=null}]},streamChunk=function*(_e,$){let ht=_e.byteLength;if(!$||ht<$){yield _e;return}let vt=0,xt;for(;vt<ht;)xt=vt+$,yield _e.slice(vt,xt),vt=xt},readBytes=async function*(_e,$,ht){for await(const vt of _e)yield*streamChunk(ArrayBuffer.isView(vt)?vt:await ht(String(vt)),$)},trackStream=(_e,$,ht,vt,xt)=>{const bt=readBytes(_e,$,xt);let Et=0;return new ReadableStream({type:"bytes",async pull(_t){const{done:At,value:Ct}=await bt.next();if(At){_t.close(),vt();return}let St=Ct.byteLength;ht&&ht(Et+=St),_t.enqueue(new Uint8Array(Ct))},cancel(_t){return vt(_t),bt.return()}},{highWaterMark:2})},fetchProgressDecorator=(_e,$)=>{const ht=_e!=null;return vt=>setTimeout(()=>$({lengthComputable:ht,total:_e,loaded:vt}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(_e=>$=>_e.encode($))(new TextEncoder):async _e=>new Uint8Array(await new Response(_e).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let _e=!1;const $=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return _e=!0,"half"}}).headers.has("Content-Type");return _e&&!$})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$1.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(_e=>_e.body)};isFetchSupported&&(_e=>{["text","arrayBuffer","blob","formData","stream"].forEach($=>{!resolvers[$]&&(resolvers[$]=utils$1.isFunction(_e[$])?ht=>ht[$]():(ht,vt)=>{throw new AxiosError(`Response type '${$}' is not supported`,AxiosError.ERR_NOT_SUPPORT,vt)})})})(new Response);const getBodyLength=async _e=>{if(_e==null)return 0;if(utils$1.isBlob(_e))return _e.size;if(utils$1.isSpecCompliantForm(_e))return(await new Request(_e).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(_e))return _e.byteLength;if(utils$1.isURLSearchParams(_e)&&(_e=_e+""),utils$1.isString(_e))return(await encodeText(_e)).byteLength},resolveBodyLength=async(_e,$)=>{const ht=utils$1.toFiniteNumber(_e.getContentLength());return ht??getBodyLength($)},fetchAdapter=isFetchSupported&&(async _e=>{let{url:$,method:ht,data:vt,signal:xt,cancelToken:bt,timeout:Et,onDownloadProgress:_t,onUploadProgress:At,responseType:Ct,headers:St,withCredentials:Rt="same-origin",fetchOptions:Pt}=resolveConfig(_e);Ct=Ct?(Ct+"").toLowerCase():"text";let[kt,Mt]=xt||bt||Et?composeSignals([xt,bt],Et):[],Lt,Ot;const Ft=()=>{!Lt&&setTimeout(()=>{kt&&kt.unsubscribe()}),Lt=!0};let Dt;try{if(At&&supportsRequestStream&&ht!=="get"&&ht!=="head"&&(Dt=await resolveBodyLength(St,vt))!==0){let Ht=new Request($,{method:"POST",body:vt,duplex:"half"}),jt;utils$1.isFormData(vt)&&(jt=Ht.headers.get("content-type"))&&St.setContentType(jt),Ht.body&&(vt=trackStream(Ht.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator(Dt,progressEventReducer(At)),null,encodeText))}utils$1.isString(Rt)||(Rt=Rt?"cors":"omit"),Ot=new Request($,{...Pt,signal:kt,method:ht.toUpperCase(),headers:St.normalize().toJSON(),body:vt,duplex:"half",withCredentials:Rt});let $t=await fetch(Ot);const Bt=supportsResponseStream&&(Ct==="stream"||Ct==="response");if(supportsResponseStream&&(_t||Bt)){const Ht={};["status","statusText","headers"].forEach(zt=>{Ht[zt]=$t[zt]});const jt=utils$1.toFiniteNumber($t.headers.get("content-length"));$t=new Response(trackStream($t.body,DEFAULT_CHUNK_SIZE,_t&&fetchProgressDecorator(jt,progressEventReducer(_t,!0)),Bt&&Ft,encodeText),Ht)}Ct=Ct||"text";let Nt=await resolvers[utils$1.findKey(resolvers,Ct)||"text"]($t,_e);return!Bt&&Ft(),Mt&&Mt(),await new Promise((Ht,jt)=>{settle(Ht,jt,{data:Nt,headers:AxiosHeaders.from($t.headers),status:$t.status,statusText:$t.statusText,config:_e,request:Ot})})}catch($t){throw Ft(),$t&&$t.name==="TypeError"&&/fetch/i.test($t.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,_e,Ot),{cause:$t.cause||$t}):AxiosError.from($t,$t&&$t.code,_e,Ot)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(_e,$)=>{if(_e){try{Object.defineProperty(_e,"name",{value:$})}catch{}Object.defineProperty(_e,"adapterName",{value:$})}});const renderReason=_e=>`- ${_e}`,isResolvedHandle=_e=>utils$1.isFunction(_e)||_e===null||_e===!1,adapters={getAdapter:_e=>{_e=utils$1.isArray(_e)?_e:[_e];const{length:$}=_e;let ht,vt;const xt={};for(let bt=0;bt<$;bt++){ht=_e[bt];let Et;if(vt=ht,!isResolvedHandle(ht)&&(vt=knownAdapters[(Et=String(ht)).toLowerCase()],vt===void 0))throw new AxiosError(`Unknown adapter '${Et}'`);if(vt)break;xt[Et||"#"+bt]=vt}if(!vt){const bt=Object.entries(xt).map(([_t,At])=>`adapter ${_t} `+(At===!1?"is not supported by the environment":"is not available in the build"));let Et=$?bt.length>1?`since :
`+bt.map(renderReason).join(`
`):" "+renderReason(bt[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+Et,"ERR_NOT_SUPPORT")}return vt},adapters:knownAdapters};function throwIfCancellationRequested(_e){if(_e.cancelToken&&_e.cancelToken.throwIfRequested(),_e.signal&&_e.signal.aborted)throw new CanceledError(null,_e)}function dispatchRequest(_e){return throwIfCancellationRequested(_e),_e.headers=AxiosHeaders.from(_e.headers),_e.data=transformData.call(_e,_e.transformRequest),["post","put","patch"].indexOf(_e.method)!==-1&&_e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(_e.adapter||defaults.adapter)(_e).then(function(vt){return throwIfCancellationRequested(_e),vt.data=transformData.call(_e,_e.transformResponse,vt),vt.headers=AxiosHeaders.from(vt.headers),vt},function(vt){return isCancel(vt)||(throwIfCancellationRequested(_e),vt&&vt.response&&(vt.response.data=transformData.call(_e,_e.transformResponse,vt.response),vt.response.headers=AxiosHeaders.from(vt.response.headers))),Promise.reject(vt)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((_e,$)=>{validators$1[_e]=function(vt){return typeof vt===_e||"a"+($<1?"n ":" ")+_e}});const deprecatedWarnings={};validators$1.transitional=function($,ht,vt){function xt(bt,Et){return"[Axios v"+VERSION+"] Transitional option '"+bt+"'"+Et+(vt?". "+vt:"")}return(bt,Et,_t)=>{if($===!1)throw new AxiosError(xt(Et," has been removed"+(ht?" in "+ht:"")),AxiosError.ERR_DEPRECATED);return ht&&!deprecatedWarnings[Et]&&(deprecatedWarnings[Et]=!0,console.warn(xt(Et," has been deprecated since v"+ht+" and will be removed in the near future"))),$?$(bt,Et,_t):!0}};function assertOptions(_e,$,ht){if(typeof _e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const vt=Object.keys(_e);let xt=vt.length;for(;xt-- >0;){const bt=vt[xt],Et=$[bt];if(Et){const _t=_e[bt],At=_t===void 0||Et(_t,bt,_e);if(At!==!0)throw new AxiosError("option "+bt+" must be "+At,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(ht!==!0)throw new AxiosError("Unknown option "+bt,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor($){this.defaults=$,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request($,ht){try{return await this._request($,ht)}catch(vt){if(vt instanceof Error){let xt;Error.captureStackTrace?Error.captureStackTrace(xt={}):xt=new Error;const bt=xt.stack?xt.stack.replace(/^.+\n/,""):"";try{vt.stack?bt&&!String(vt.stack).endsWith(bt.replace(/^.+\n.+\n/,""))&&(vt.stack+=`
`+bt):vt.stack=bt}catch{}}throw vt}}_request($,ht){typeof $=="string"?(ht=ht||{},ht.url=$):ht=$||{},ht=mergeConfig(this.defaults,ht);const{transitional:vt,paramsSerializer:xt,headers:bt}=ht;vt!==void 0&&validator.assertOptions(vt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),xt!=null&&(utils$1.isFunction(xt)?ht.paramsSerializer={serialize:xt}:validator.assertOptions(xt,{encode:validators.function,serialize:validators.function},!0)),ht.method=(ht.method||this.defaults.method||"get").toLowerCase();let Et=bt&&utils$1.merge(bt.common,bt[ht.method]);bt&&utils$1.forEach(["delete","get","head","post","put","patch","common"],Mt=>{delete bt[Mt]}),ht.headers=AxiosHeaders.concat(Et,bt);const _t=[];let At=!0;this.interceptors.request.forEach(function(Lt){typeof Lt.runWhen=="function"&&Lt.runWhen(ht)===!1||(At=At&&Lt.synchronous,_t.unshift(Lt.fulfilled,Lt.rejected))});const Ct=[];this.interceptors.response.forEach(function(Lt){Ct.push(Lt.fulfilled,Lt.rejected)});let St,Rt=0,Pt;if(!At){const Mt=[dispatchRequest.bind(this),void 0];for(Mt.unshift.apply(Mt,_t),Mt.push.apply(Mt,Ct),Pt=Mt.length,St=Promise.resolve(ht);Rt<Pt;)St=St.then(Mt[Rt++],Mt[Rt++]);return St}Pt=_t.length;let kt=ht;for(Rt=0;Rt<Pt;){const Mt=_t[Rt++],Lt=_t[Rt++];try{kt=Mt(kt)}catch(Ot){Lt.call(this,Ot);break}}try{St=dispatchRequest.call(this,kt)}catch(Mt){return Promise.reject(Mt)}for(Rt=0,Pt=Ct.length;Rt<Pt;)St=St.then(Ct[Rt++],Ct[Rt++]);return St}getUri($){$=mergeConfig(this.defaults,$);const ht=buildFullPath($.baseURL,$.url);return buildURL(ht,$.params,$.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function($){Axios.prototype[$]=function(ht,vt){return this.request(mergeConfig(vt||{},{method:$,url:ht,data:(vt||{}).data}))}});utils$1.forEach(["post","put","patch"],function($){function ht(vt){return function(bt,Et,_t){return this.request(mergeConfig(_t||{},{method:$,headers:vt?{"Content-Type":"multipart/form-data"}:{},url:bt,data:Et}))}}Axios.prototype[$]=ht(),Axios.prototype[$+"Form"]=ht(!0)});class CancelToken{constructor($){if(typeof $!="function")throw new TypeError("executor must be a function.");let ht;this.promise=new Promise(function(bt){ht=bt});const vt=this;this.promise.then(xt=>{if(!vt._listeners)return;let bt=vt._listeners.length;for(;bt-- >0;)vt._listeners[bt](xt);vt._listeners=null}),this.promise.then=xt=>{let bt;const Et=new Promise(_t=>{vt.subscribe(_t),bt=_t}).then(xt);return Et.cancel=function(){vt.unsubscribe(bt)},Et},$(function(bt,Et,_t){vt.reason||(vt.reason=new CanceledError(bt,Et,_t),ht(vt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe($){if(this.reason){$(this.reason);return}this._listeners?this._listeners.push($):this._listeners=[$]}unsubscribe($){if(!this._listeners)return;const ht=this._listeners.indexOf($);ht!==-1&&this._listeners.splice(ht,1)}static source(){let $;return{token:new CancelToken(function(xt){$=xt}),cancel:$}}}function spread(_e){return function(ht){return _e.apply(null,ht)}}function isAxiosError(_e){return utils$1.isObject(_e)&&_e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([_e,$])=>{HttpStatusCode[$]=_e});function createInstance(_e){const $=new Axios(_e),ht=bind(Axios.prototype.request,$);return utils$1.extend(ht,Axios.prototype,$,{allOwnKeys:!0}),utils$1.extend(ht,$,null,{allOwnKeys:!0}),ht.create=function(xt){return createInstance(mergeConfig(_e,xt))},ht}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function($){return Promise.all($)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=_e=>formDataToJSON(utils$1.isHTMLForm(_e)?new FormData(_e):_e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;function List(_e){const[$,ht]=reactExports.useState(!1),[vt,xt]=reactExports.useState(!1),bt=useNavigate(),[Et,_t]=reactExports.useState([]),At=St=>{const Rt=new Date,Pt=new Date(St);let kt=Rt.getFullYear()-Pt.getFullYear();const Mt=Rt.getMonth()-Pt.getMonth();return(Mt<0||Mt===0&&Rt.getDate()<Pt.getDate())&&kt--,kt};async function Ct(){const St=await axios.get("en/getpatients");_t(St.data),_e.setNoofPatients(St.data.length)}return reactExports.useEffect(()=>{Ct()},[]),At("2004-06-05T18:30:00.000Z"),jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[920px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end w-full",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-[32px] font-bold leading-tight min-w-72",children:"Patients"}),jsxRuntimeExports.jsx("div",{className:`${_e.isDoctor?"hidden":"flex"}`,children:jsxRuntimeExports.jsx(Dropdown,{editPatients:$,setEditPatients:ht,deletePatients:vt,setDeletePatients:xt})})]})}),jsxRuntimeExports.jsx("div",{className:"px-4 py-3",children:jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 h-12 w-full",children:jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl h-full",children:[jsxRuntimeExports.jsx("div",{className:"text-[#4f7396] flex border-none bg-[#e8edf3] items-center justify-center pl-4 rounded-l-xl border-r-0","data-icon":"MagnifyingGlass","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})}),jsxRuntimeExports.jsx("input",{placeholder:"Search patients",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e8edf3] focus:border-none h-full placeholder:text-[#4f7396] px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal"})]})})}),Et.map((St,Rt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 transition-all duration-300 ease-in-out hover:bg-[#e2e8f0] cursor-pointer rounded-xl ",onClick:()=>bt("/patient",{state:{id:St._id}}),children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-14 w-fit transform",style:{backgroundImage:""}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:St.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Age: ",At(St.DOB),", Gender: ",St.gender]})]}),jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`size-6 self-start mt-4 ml-auto mb-2 ${$?"block":"hidden"} `,children:[jsxRuntimeExports.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),jsxRuntimeExports.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]}),jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:`size-6 self-start mt-4 ml-auto mb-2 ${vt?"block":"hidden"}`,children:jsxRuntimeExports.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})]},Rt))]})}function Analytics(_e){return jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[360px]",children:[jsxRuntimeExports.jsx("h3",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analytics"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Total Patients"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:_e.noofPatients}),jsxRuntimeExports.jsx("p",{className:"text-[#078838] text-base font-medium leading-normal",children:"+5%"})]}),jsxRuntimeExports.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Average Age"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:"44"}),jsxRuntimeExports.jsx("p",{className:"text-[#e73908] text-base font-medium leading-normal",children:"-2%"})]})]})]})}const Navbar=_e=>{console.log(_e);const $=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7eef4] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0d151c]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0d151c] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Sanjh Sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#0d151c] text-sm font-medium leading-normal cursor-pointer",onClick:()=>$("/"),children:"Home"}),jsxRuntimeExports.jsx("a",{className:`text-[#0d151c] text-sm font-medium leading-normal cursor-pointer ${_e.patient?"":"hidden"}`,onClick:()=>$("/main"),children:"Patients"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-2",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] font-medium text-sm leading-normal",children:_e.isDoctor?"Doctor":"Care taker"})}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/62891830-57f4-4b6d-ab96-97aa59242b87.png")'}})]})]})};function Main(_e){const[$,ht]=reactExports.useState(0);return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#f8fafb] group/design-root overflow-x-hidden",style:{fontFamily:'Inter, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx(Navbar,{isDoctor:_e.isDoctor}),jsxRuntimeExports.jsxs("div",{className:"gap-1 px-6 flex flex-1 justify-center py-5",children:[jsxRuntimeExports.jsx(List,{isDoctor:_e.isDoctor,setNoofPatients:ht,noofPatients:$}),jsxRuntimeExports.jsx(Analytics,{noofPatients:$})]})]})})}const LandingPage=()=>{const _e=reactExports.useRef(null),$=()=>{_e.current.scrollIntoView({behavior:"smooth"})};let ht=useNavigate();return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{fontFamily:'Epilogue, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_6_543)",children:[jsxRuntimeExports.jsx("path",{d:"M42.1739 20.1739L27.8261 5.82609C29.1366 7.13663 28.3989 10.1876 26.2002 13.7654C24.8538 15.9564 22.9595 18.3449 20.6522 20.6522C18.3449 22.9595 15.9564 24.8538 13.7654 26.2002C10.1876 28.3989 7.13663 29.1366 5.82609 27.8261L20.1739 42.1739C21.4845 43.4845 24.5355 42.7467 28.1133 40.548C30.3042 39.2016 32.6927 37.3073 35 35C37.3073 32.6927 39.2016 30.3042 40.548 28.1133C42.7467 24.5355 43.4845 21.4845 42.1739 20.1739Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.24189 26.4066C7.31369 26.4411 7.64204 26.5637 8.52504 26.3738C9.59462 26.1438 11.0343 25.5311 12.7183 24.4963C14.7583 23.2426 17.0256 21.4503 19.238 19.238C21.4503 17.0256 23.2426 14.7583 24.4963 12.7183C25.5311 11.0343 26.1438 9.59463 26.3738 8.52504C26.5637 7.64204 26.4411 7.31369 26.4066 7.24189C26.345 7.21246 26.143 7.14535 25.6664 7.1918C24.9745 7.25925 23.9954 7.5498 22.7699 8.14278C20.3369 9.32007 17.3369 11.4915 14.4142 14.4142C11.4915 17.3369 9.32007 20.3369 8.14278 22.7699C7.5498 23.9954 7.25925 24.9745 7.1918 25.6664C7.14534 26.143 7.21246 26.345 7.24189 26.4066ZM29.9001 10.7285C29.4519 12.0322 28.7617 13.4172 27.9042 14.8126C26.465 17.1544 24.4686 19.6641 22.0664 22.0664C19.6641 24.4686 17.1544 26.465 14.8126 27.9042C13.4172 28.7617 12.0322 29.4519 10.7285 29.9001L21.5754 40.747C21.6001 40.7606 21.8995 40.931 22.8729 40.7217C23.9424 40.4916 25.3821 39.879 27.0661 38.8441C29.1062 37.5904 31.3734 35.7982 33.5858 33.5858C35.7982 31.3734 37.5904 29.1062 38.8441 27.0661C39.879 25.3821 40.4916 23.9425 40.7216 22.8729C40.931 21.8995 40.7606 21.6001 40.747 21.5754L29.9001 10.7285ZM29.2403 4.41187L43.5881 18.7597C44.9757 20.1473 44.9743 22.1235 44.6322 23.7139C44.2714 25.3919 43.4158 27.2666 42.252 29.1604C40.8128 31.5022 38.8165 34.012 36.4142 36.4142C34.012 38.8165 31.5022 40.8128 29.1604 42.252C27.2666 43.4158 25.3919 44.2714 23.7139 44.6322C22.1235 44.9743 20.1473 44.9757 18.7597 43.5881L4.41187 29.2403C3.29027 28.1187 3.08209 26.5973 3.21067 25.2783C3.34099 23.9415 3.8369 22.4852 4.54214 21.0277C5.96129 18.0948 8.43335 14.7382 11.5858 11.5858C14.7382 8.43335 18.0948 5.9613 21.0277 4.54214C22.4852 3.8369 23.9415 3.34099 25.2783 3.21067C26.5973 3.08209 28.1187 3.29028 29.2403 4.41187Z",fill:"currentColor"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_6_543",children:jsxRuntimeExports.jsx("rect",{width:"48",height:"48",fill:"white"})})})]})}),jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh Sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-9",children:jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal cursor-pointer",onClick:$,children:"Features"})}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#607AFB] text-[#F9FAFA] text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>ht("/signin"),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Login"})})})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"@container",children:jsxRuntimeExports.jsx("div",{className:"@[480px]:p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-xl items-start justify-end px-4 pb-10 @[480px]:px-10",style:{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url("https://cdn.usegalileo.ai/sdxl10/d0342d60-6ca8-4000-abde-e44f0d824c83.png")'},children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[jsxRuntimeExports.jsx("h1",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]",children:"Saanjh Sahayak, better care for our elders"}),jsxRuntimeExports.jsx("h2",{className:"text-white text-sm font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal",children:"We are here to provide comprehensive and compassionate care to the elderly in old age homes."})]}),jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 h-14 w-full max-w-[480px] @[480px]:h-16"})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",ref:_e,children:[jsxRuntimeExports.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Caretakers"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Upload and Monitor Patient Reports"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily upload and monitor patient reports. Our system is designed to handle a variety of formats, ensuring a seamless experience."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Notification","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,128v80a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V56A16,16,0,0,1,48,40h80a8,8,0,0,1,0,16H48V208H200V128a8,8,0,0,1,16,0Zm16-68a36,36,0,1,1-36-36A36,36,0,0,1,232,60Zm-16,0a20,20,0,1,0-20,20A20,20,0,0,0,216,60Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Receive Alerts and Reminders"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Get instant alerts and reminders for medication, doctor's appointments, and more. Stay on top of your loved one's care."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",children:[jsxRuntimeExports.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Doctors"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Verify Patient Information"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Quickly and securely verify patient information. Our platform is designed to ensure compliance with privacy and data protection regulations."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Translate","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M239.15,212.42l-56-112a8,8,0,0,0-14.31,0l-21.71,43.43A88,88,0,0,1,100,126.93,103.65,103.65,0,0,0,127.69,64H152a8,8,0,0,0,0-16H96V32a8,8,0,0,0-16,0V48H24a8,8,0,0,0,0,16h87.63A87.76,87.76,0,0,1,88,116.35a87.74,87.74,0,0,1-19-31,8,8,0,1,0-15.08,5.34A103.63,103.63,0,0,0,76,127a87.55,87.55,0,0,1-52,17,8,8,0,0,0,0,16,103.46,103.46,0,0,0,64-22.08,104.18,104.18,0,0,0,51.44,21.31l-26.6,53.19a8,8,0,0,0,14.31,7.16L140.94,192h70.11l13.79,27.58A8,8,0,0,0,232,224a8,8,0,0,0,7.15-11.58ZM148.94,176,176,121.89,203.05,176Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Analyze with Large Language Model"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Utilize our powerful Large Language Model for in-depth patient analysis. Get insights and recommendations based on the latest medical research."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/fb823941-87a6-47fb-998f-c8224ea8c6db.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get help from experts"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Our team of geriatricians and nurse practitioners are here to help."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/b543c2c9-c73f-4636-8737-59e6d3f7a20e.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Stay connected"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily communicate with our team via video calls, phone calls, or chat."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/sdxl10/8329d0d0-4083-4c19-89c0-de0625991c40.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get reminders"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Set up medication reminders and get alerts when it's time to take a dose."})]})]})]})]})})]})})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose(_e,$),vt,xt;if(Object.getOwnPropertySymbols){var bt=Object.getOwnPropertySymbols(_e);for(xt=0;xt<bt.length;xt++)vt=bt[xt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends.apply(this,arguments)}function ownKeys(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(xt){return Object.getOwnPropertyDescriptor(_e,xt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(ht),!0).forEach(function(vt){_defineProperty(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty(_e,$,ht){return $=_toPropertyKey($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey(_e){var $=_toPrimitive(_e,"string");return typeof $=="symbol"?$:$+""}function _toPrimitive(_e,$){if(typeof _e!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(typeof vt!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function Tree2Element(_e){return _e&&_e.map(($,ht)=>React.createElement($.tag,_objectSpread({key:ht},$.attr),Tree2Element($.child)))}function GenIcon(_e){return $=>React.createElement(IconBase,_extends({attr:_objectSpread({},_e.attr)},$),Tree2Element(_e.child))}function IconBase(_e){var $=ht=>{var{attr:vt,size:xt,title:bt}=_e,Et=_objectWithoutProperties(_e,_excluded),_t=xt||ht.size||"1em",At;return ht.className&&(At=ht.className),_e.className&&(At=(At?At+" ":"")+_e.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},ht.attr,vt,Et,{className:At,style:_objectSpread(_objectSpread({color:_e.color||ht.color},ht.style),_e.style),height:_t,width:_t,xmlns:"http://www.w3.org/2000/svg"}),bt&&React.createElement("title",null,bt),_e.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,ht=>$(ht)):$(DefaultContext)}function FaEdit(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(_e)}function Profile(_e){const[$,ht]=reactExports.useState(_e.id),[vt,xt]=reactExports.useState();async function bt(){const At=await axios.get(`/en/getpatient/${$}`);xt(At.data)}reactExports.useEffect(()=>{bt()},[$]);const Et=At=>{const Ct=new Date,St=new Date(At);let Rt=Ct.getFullYear()-St.getFullYear();const Pt=Ct.getMonth()-St.getMonth();return(Pt<0||Pt===0&&Ct.getDate()<St.getDate())&&Rt--,Rt},_t=[{date:"July 15, 2022",report:"Blood Test"},{date:"June 12, 2022",report:"X-ray"},{date:"March 22, 2022",report:"Blood Test"}];return vt&&jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex p-4 @container",children:[jsxRuntimeExports.jsx("div",{className:`absolute top-2 right-2 ${_e.isDoctor?"hidden":""}`,children:jsxRuntimeExports.jsx("button",{className:"text-blue-500 hover:text-blue-700",children:jsxRuntimeExports.jsx(FaEdit,{size:20})})}),jsxRuntimeExports.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4 self-start",children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-32 w-32",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/4085b1e6-79ae-4450-b2e6-2a0385966715.png")'}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:vt.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#49779c] text-base font-normal leading-normal",children:["Age ",Et(vt.DOB),", ",vt.gender,", Blood type: ",vt.bloodGroup]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 bg-slate-50 px-4 py-3",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"User","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal",children:"Patient Information"}),jsxRuntimeExports.jsxs("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:["Previous test reports: ",vt.reportsList.length]}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:"Known health conditions: Asthma, Allergies"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-14 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-10","data-icon":"Phone","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"})})}),jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-normal leading-normal flex-1 truncate",children:"Contact Number"})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsxs("p",{className:"text-[#0d151c] text-base font-normal leading-normal",children:["(+91) ",vt.phone]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-4 pb-3 pt-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Report History"}),jsxRuntimeExports.jsx("button",{className:`bg-blue-500 text-white px-4 py-2 rounded ${_e.isDoctor?"hidden":""}`,children:"Upload Reports"})]}),jsxRuntimeExports.jsx("div",{children:_t.map((At,Ct)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-[72px] py-2 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:At.date}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:At.report})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},Ct))})]})})}function Patient(_e){const{state:$}=useLocation(),{id:ht}=$;return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:{fontFamily:'Manrope, "Noto Sans", sans-serif;'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx(Navbar,{patient:!0,isDoctor:_e.isDoctor}),jsxRuntimeExports.jsx(Profile,{isDoctor:_e.isDoctor,id:ht})]})})}function Signin(_e){const[$,ht]=reactExports.useState(""),[vt,xt]=reactExports.useState(""),[bt,Et]=reactExports.useState(!1);let _t=useNavigate();const At=()=>{Et(!bt)},Ct={"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(248,250,252)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:"Manrope, 'Noto Sans', sans-serif"};return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:Ct,children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7edf3] px-10 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor",ō:!0})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]})}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-5",children:"Welcome to HealthCo"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-normal leading-normal pb-3 pt-1 px-4 text-center",children:"Please select if you are a doctor or a caretaker."}),jsxRuntimeExports.jsx("div",{className:"flex justify-stretch",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 flex-wrap px-4 py-3 justify-center ",children:[jsxRuntimeExports.jsx("button",{className:`flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 ${_e.isDoctor?" bg-[#1980e6] text-slate-50":"bg-[#e7edf3]  text-[#0e141b]"} text-sm font-bold leading-normal tracking-[0.015em]`,onClick:()=>_e.setIsDoctor(!0),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Doctor"})}),jsxRuntimeExports.jsx("button",{className:`flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 ${_e.isDoctor?"bg-[#e7edf3]  text-[#0e141b]":" bg-[#1980e6] text-slate-50"} text-sm font-bold leading-normal tracking-[0.015em]`,onClick:()=>_e.setIsDoctor(!1),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Caretaker"})})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3 self-center",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-96 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal pb-2",children:"ID"}),jsxRuntimeExports.jsx("input",{placeholder:"Enter your ID",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e7edf3] focus:border-none h-14 placeholder:text-[#4e7397] p-4 text-base font-normal leading-normal",value:$,onChange:St=>ht(St.target.value)})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3 self-center",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-96 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal pb-2",children:"Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{placeholder:"Enter your password",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e7edf3] focus:border-none h-14 placeholder:text-[#4e7397] p-4 text-base font-normal leading-normal",value:vt,onChange:St=>xt(St.target.value),type:bt?"text":"password"}),jsxRuntimeExports.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-sm text-gray-600",onClick:At,children:bt?jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}):jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})})})]})]})}),jsxRuntimeExports.jsx("div",{className:"px-4 self-center"})]})}),jsxRuntimeExports.jsx("footer",{className:"flex justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex max-w-[960px] flex-1 flex-col",children:[jsxRuntimeExports.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal pb-3 pt-1 px-4 text-center",children:"By continuing, you agree to our Terms of Use and Privacy Policy"}),jsxRuntimeExports.jsx("div",{className:"flex px-4 py-3 justify-center",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[143px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 flex-1 bg-[#1980e6] text-slate-50 text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>_t("/main"),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Sign in"})})})]})})]})})}const NewSignin=()=>{const[_e,$]=reactExports.useState(null),ht=vt=>{$(vt)};return jsxRuntimeExports.jsx("div",{className:"relative flex items-center justify-center min-h-screen bg-slate-50",children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex flex-col max-w-[960px] w-full px-6",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between border-b border-solid border-b-[#e7edf3] px-4 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-8",children:[jsxRuntimeExports.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to professionals"),children:"For professionals"}),jsxRuntimeExports.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to caretakers"),children:"For caretakers"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight pb-3",children:"Welcome to HealthCo"}),jsxRuntimeExports.jsx("button",{className:"bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg mb-6",onClick:()=>alert("Display user selection"),children:"Select User"}),_e===null&&jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>ht("doctor"),children:"Doctor"}),jsxRuntimeExports.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>ht("caretaker"),children:"Caretaker"})]}),_e&&jsxRuntimeExports.jsxs("div",{className:"text-[#0e141b] text-base font-normal leading-normal mt-4",children:["You are signed in as ",jsxRuntimeExports.jsx("strong",{children:_e}),"."]})]}),jsxRuntimeExports.jsx("footer",{className:"flex justify-center py-3",children:jsxRuntimeExports.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal",children:"By continuing, you agree to our Terms of Use and Privacy Policy"})})]})})},scriptRel="modulepreload",assetsURL=function(_e){return"/"+_e},seen={},__vitePreload=function($,ht,vt){let xt=Promise.resolve();if(ht&&ht.length>0){document.getElementsByTagName("link");const bt=document.querySelector("meta[property=csp-nonce]"),Et=(bt==null?void 0:bt.nonce)||(bt==null?void 0:bt.getAttribute("nonce"));xt=Promise.all(ht.map(_t=>{if(_t=assetsURL(_t),_t in seen)return;seen[_t]=!0;const At=_t.endsWith(".css"),Ct=At?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_t}"]${Ct}`))return;const St=document.createElement("link");if(St.rel=At?"stylesheet":scriptRel,At||(St.as="script",St.crossOrigin=""),St.href=_t,Et&&St.setAttribute("nonce",Et),document.head.appendChild(St),At)return new Promise((Rt,Pt)=>{St.addEventListener("load",Rt),St.addEventListener("error",()=>Pt(new Error(`Unable to preload CSS for ${_t}`)))})}))}return xt.then(()=>$()).catch(bt=>{const Et=new Event("vite:preloadError",{cancelable:!0});if(Et.payload=bt,window.dispatchEvent(Et),!Et.defaultPrevented)throw bt})};var __webpack_require__={};__webpack_require__.d=(_e,$)=>{for(var ht in $)__webpack_require__.o($,ht)&&!__webpack_require__.o(_e,ht)&&Object.defineProperty(_e,ht,{enumerable:!0,get:$[ht]})};__webpack_require__.o=(_e,$)=>Object.prototype.hasOwnProperty.call(_e,$);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer$1,AnnotationMode:()=>AnnotationMode,CMapCompressionType:()=>CMapCompressionType,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,Outliner:()=>Outliner,PDFDataRangeTransport:()=>PDFDataRangeTransport$1,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses$1,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer$1,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,renderTextLayer:()=>renderTextLayer,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,updateTextLayer:()=>updateTextLayer,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses$1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(_e){Number.isInteger(_e)&&(verbosity=_e)}function getVerbosityLevel(){return verbosity}function info(_e){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${_e}`)}function warn(_e){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${_e}`)}function unreachable(_e){throw new Error(_e)}function assert(_e,$){_e||unreachable($)}function _isValidProtocol(_e){switch(_e==null?void 0:_e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(_e,$=null,ht=null){if(!_e)return null;try{if(ht&&typeof _e=="string"){if(ht.addDefaultProtocol&&_e.startsWith("www.")){const xt=_e.match(/\./g);(xt==null?void 0:xt.length)>=2&&(_e=`http://${_e}`)}if(ht.tryConvertEncoding)try{_e=stringToUTF8String(_e)}catch{}}const vt=$?new URL(_e,$):new URL(_e);if(_isValidProtocol(vt))return vt}catch{}return null}function shadow(_e,$,ht,vt=!1){return Object.defineProperty(_e,$,{value:ht,enumerable:!vt,configurable:!0,writable:!1}),ht}const BaseException=function(){function $(ht,vt){this.constructor===$&&unreachable("Cannot initialize BaseException."),this.message=ht,this.name=vt}return $.prototype=new Error,$.constructor=$,$}();class PasswordException extends BaseException{constructor($,ht){super($,"PasswordException"),this.code=ht}}class UnknownErrorException extends BaseException{constructor($,ht){super($,"UnknownErrorException"),this.details=ht}}class InvalidPDFException extends BaseException{constructor($){super($,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor($){super($,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor($,ht){super($,"UnexpectedResponseException"),this.status=ht}}class FormatError extends BaseException{constructor($){super($,"FormatError")}}class AbortException extends BaseException{constructor($){super($,"AbortException")}}function bytesToString(_e){(typeof _e!="object"||(_e==null?void 0:_e.length)===void 0)&&unreachable("Invalid argument for bytesToString");const $=_e.length,ht=8192;if($<ht)return String.fromCharCode.apply(null,_e);const vt=[];for(let xt=0;xt<$;xt+=ht){const bt=Math.min(xt+ht,$),Et=_e.subarray(xt,bt);vt.push(String.fromCharCode.apply(null,Et))}return vt.join("")}function stringToBytes(_e){typeof _e!="string"&&unreachable("Invalid argument for stringToBytes");const $=_e.length,ht=new Uint8Array($);for(let vt=0;vt<$;++vt)ht[vt]=_e.charCodeAt(vt)&255;return ht}function string32(_e){return String.fromCharCode(_e>>24&255,_e>>16&255,_e>>8&255,_e&255)}function objectFromMap(_e){const $=Object.create(null);for(const[ht,vt]of _e)$[ht]=vt;return $}function isLittleEndian(){const _e=new Uint8Array(4);return _e[0]=1,new Uint32Array(_e.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var $,ht;return shadow(this,"isCSSRoundSupported",(ht=($=globalThis.CSS)==null?void 0:$.supports)==null?void 0:ht.call($,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),_e=>_e.toString(16).padStart(2,"0"));var du,uy,Cx;class Util{static makeHexColor($,ht,vt){return`#${hexNumbers[$]}${hexNumbers[ht]}${hexNumbers[vt]}`}static scaleMinMax($,ht){let vt;$[0]?($[0]<0&&(vt=ht[0],ht[0]=ht[2],ht[2]=vt),ht[0]*=$[0],ht[2]*=$[0],$[3]<0&&(vt=ht[1],ht[1]=ht[3],ht[3]=vt),ht[1]*=$[3],ht[3]*=$[3]):(vt=ht[0],ht[0]=ht[1],ht[1]=vt,vt=ht[2],ht[2]=ht[3],ht[3]=vt,$[1]<0&&(vt=ht[1],ht[1]=ht[3],ht[3]=vt),ht[1]*=$[1],ht[3]*=$[1],$[2]<0&&(vt=ht[0],ht[0]=ht[2],ht[2]=vt),ht[0]*=$[2],ht[2]*=$[2]),ht[0]+=$[4],ht[1]+=$[5],ht[2]+=$[4],ht[3]+=$[5]}static transform($,ht){return[$[0]*ht[0]+$[2]*ht[1],$[1]*ht[0]+$[3]*ht[1],$[0]*ht[2]+$[2]*ht[3],$[1]*ht[2]+$[3]*ht[3],$[0]*ht[4]+$[2]*ht[5]+$[4],$[1]*ht[4]+$[3]*ht[5]+$[5]]}static applyTransform($,ht){const vt=$[0]*ht[0]+$[1]*ht[2]+ht[4],xt=$[0]*ht[1]+$[1]*ht[3]+ht[5];return[vt,xt]}static applyInverseTransform($,ht){const vt=ht[0]*ht[3]-ht[1]*ht[2],xt=($[0]*ht[3]-$[1]*ht[2]+ht[2]*ht[5]-ht[4]*ht[3])/vt,bt=(-$[0]*ht[1]+$[1]*ht[0]+ht[4]*ht[1]-ht[5]*ht[0])/vt;return[xt,bt]}static getAxialAlignedBoundingBox($,ht){const vt=this.applyTransform($,ht),xt=this.applyTransform($.slice(2,4),ht),bt=this.applyTransform([$[0],$[3]],ht),Et=this.applyTransform([$[2],$[1]],ht);return[Math.min(vt[0],xt[0],bt[0],Et[0]),Math.min(vt[1],xt[1],bt[1],Et[1]),Math.max(vt[0],xt[0],bt[0],Et[0]),Math.max(vt[1],xt[1],bt[1],Et[1])]}static inverseTransform($){const ht=$[0]*$[3]-$[1]*$[2];return[$[3]/ht,-$[1]/ht,-$[2]/ht,$[0]/ht,($[2]*$[5]-$[4]*$[3])/ht,($[4]*$[1]-$[5]*$[0])/ht]}static singularValueDecompose2dScale($){const ht=[$[0],$[2],$[1],$[3]],vt=$[0]*ht[0]+$[1]*ht[2],xt=$[0]*ht[1]+$[1]*ht[3],bt=$[2]*ht[0]+$[3]*ht[2],Et=$[2]*ht[1]+$[3]*ht[3],_t=(vt+Et)/2,At=Math.sqrt((vt+Et)**2-4*(vt*Et-bt*xt))/2,Ct=_t+At||1,St=_t-At||1;return[Math.sqrt(Ct),Math.sqrt(St)]}static normalizeRect($){const ht=$.slice(0);return $[0]>$[2]&&(ht[0]=$[2],ht[2]=$[0]),$[1]>$[3]&&(ht[1]=$[3],ht[3]=$[1]),ht}static intersect($,ht){const vt=Math.max(Math.min($[0],$[2]),Math.min(ht[0],ht[2])),xt=Math.min(Math.max($[0],$[2]),Math.max(ht[0],ht[2]));if(vt>xt)return null;const bt=Math.max(Math.min($[1],$[3]),Math.min(ht[1],ht[3])),Et=Math.min(Math.max($[1],$[3]),Math.max(ht[1],ht[3]));return bt>Et?null:[vt,bt,xt,Et]}static bezierBoundingBox($,ht,vt,xt,bt,Et,_t,At,Ct){return Ct?(Ct[0]=Math.min(Ct[0],$,_t),Ct[1]=Math.min(Ct[1],ht,At),Ct[2]=Math.max(Ct[2],$,_t),Ct[3]=Math.max(Ct[3],ht,At)):Ct=[Math.min($,_t),Math.min(ht,At),Math.max($,_t),Math.max(ht,At)],Ut(this,du,Cx).call(this,$,vt,bt,_t,ht,xt,Et,At,3*(-$+3*(vt-bt)+_t),6*($-2*vt+bt),3*(vt-$),Ct),Ut(this,du,Cx).call(this,$,vt,bt,_t,ht,xt,Et,At,3*(-ht+3*(xt-Et)+At),6*(ht-2*xt+Et),3*(xt-ht),Ct),Ct}}du=new WeakSet,uy=function($,ht,vt,xt,bt,Et,_t,At,Ct,St){if(Ct<=0||Ct>=1)return;const Rt=1-Ct,Pt=Ct*Ct,kt=Pt*Ct,Mt=Rt*(Rt*(Rt*$+3*Ct*ht)+3*Pt*vt)+kt*xt,Lt=Rt*(Rt*(Rt*bt+3*Ct*Et)+3*Pt*_t)+kt*At;St[0]=Math.min(St[0],Mt),St[1]=Math.min(St[1],Lt),St[2]=Math.max(St[2],Mt),St[3]=Math.max(St[3],Lt)},Cx=function($,ht,vt,xt,bt,Et,_t,At,Ct,St,Rt,Pt){if(Math.abs(Ct)<1e-12){Math.abs(St)>=1e-12&&Ut(this,du,uy).call(this,$,ht,vt,xt,bt,Et,_t,At,-Rt/St,Pt);return}const kt=St**2-4*Rt*Ct;if(kt<0)return;const Mt=Math.sqrt(kt),Lt=2*Ct;Ut(this,du,uy).call(this,$,ht,vt,xt,bt,Et,_t,At,(-St+Mt)/Lt,Pt),Ut(this,du,uy).call(this,$,ht,vt,xt,bt,Et,_t,At,(-St-Mt)/Lt,Pt)},qt(Util,du);function stringToUTF8String(_e){return decodeURIComponent(escape(_e))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(_e){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["ﬅ","ſt"]])),_e.replaceAll(NormalizeRegex,($,ht,vt)=>ht?ht.normalize("NFKC"):NormalizationMap.get(vt))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const _e=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(_e);else for(let $=0;$<32;$++)_e[$]=Math.floor(Math.random()*255);return bytesToString(_e)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class BaseFilterFactory{constructor(){this.constructor===BaseFilterFactory&&unreachable("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,ht){return"none"}addAlphaFilter($){return"none"}addLuminosityFilter($){return"none"}addHighlightHCMFilter($,ht,vt,xt,bt){return"none"}destroy($=!1){}}class BaseCanvasFactory{constructor(){this.constructor===BaseCanvasFactory&&unreachable("Cannot initialize BaseCanvasFactory.")}create($,ht){if($<=0||ht<=0)throw new Error("Invalid canvas size");const vt=this._createCanvas($,ht);return{canvas:vt,context:vt.getContext("2d")}}reset($,ht,vt){if(!$.canvas)throw new Error("Canvas is not specified");if(ht<=0||vt<=0)throw new Error("Invalid canvas size");$.canvas.width=ht,$.canvas.height=vt}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,ht){unreachable("Abstract method `_createCanvas` called.")}}class BaseCMapReaderFactory{constructor({baseUrl:$=null,isCompressed:ht=!0}){this.constructor===BaseCMapReaderFactory&&unreachable("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=$,this.isCompressed=ht}async fetch({name:$}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!$)throw new Error("CMap name must be specified.");const ht=this.baseUrl+$+(this.isCompressed?".bcmap":""),vt=this.isCompressed?CMapCompressionType.BINARY:CMapCompressionType.NONE;return this._fetchData(ht,vt).catch(xt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ht}`)})}_fetchData($,ht){unreachable("Abstract method `_fetchData` called.")}}class BaseStandardFontDataFactory{constructor({baseUrl:$=null}){this.constructor===BaseStandardFontDataFactory&&unreachable("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=$}async fetch({filename:$}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!$)throw new Error("Font filename must be specified.");const ht=`${this.baseUrl}${$}`;return this._fetchData(ht).catch(vt=>{throw new Error(`Unable to load font data at: ${ht}`)})}_fetchData($){unreachable("Abstract method `_fetchData` called.")}}class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&unreachable("Cannot initialize BaseSVGFactory.")}create($,ht,vt=!1){if($<=0||ht<=0)throw new Error("Invalid SVG dimensions");const xt=this._createSVG("svg:svg");return xt.setAttribute("version","1.1"),vt||(xt.setAttribute("width",`${$}px`),xt.setAttribute("height",`${ht}px`)),xt.setAttribute("preserveAspectRatio","none"),xt.setAttribute("viewBox",`0 0 ${$} ${ht}`),xt}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){unreachable("Abstract method `_createSVG` called.")}}const SVG_NS="http://www.w3.org/2000/svg",Zu=class Zu{};Sr(Zu,"CSS",96),Sr(Zu,"PDF",72),Sr(Zu,"PDF_TO_CSS_UNITS",Zu.CSS/Zu.PDF);let PixelsPerInch=Zu;var Ju,ba,Hl,xo,qy,_d,Lr,co,Yp,Zp,dy,C1,Rx,Qp,n0,r0,Tx,i0;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:ht,ownerDocument:vt=globalThis.document}={}){super();qt(this,Lr);qt(this,Ju);qt(this,ba);qt(this,Hl);qt(this,xo);qt(this,qy);qt(this,_d,0);Vt(this,Hl,ht),Vt(this,xo,vt)}addFilter(ht){if(!ht)return"none";let vt=wt(this,Lr,co).get(ht);if(vt)return vt;const[xt,bt,Et]=Ut(this,Lr,dy).call(this,ht),_t=ht.length===1?xt:`${xt}${bt}${Et}`;if(vt=wt(this,Lr,co).get(_t),vt)return wt(this,Lr,co).set(ht,vt),vt;const At=`g_${wt(this,Hl)}_transfer_map_${eo(this,_d)._++}`,Ct=`url(#${At})`;wt(this,Lr,co).set(ht,Ct),wt(this,Lr,co).set(_t,Ct);const St=Ut(this,Lr,Qp).call(this,At);return Ut(this,Lr,r0).call(this,xt,bt,Et,St),Ct}addHCMFilter(ht,vt){var Mt;const xt=`${ht}-${vt}`,bt="base";let Et=wt(this,Lr,Yp).get(bt);if((Et==null?void 0:Et.key)===xt||(Et?((Mt=Et.filter)==null||Mt.remove(),Et.key=xt,Et.url="none",Et.filter=null):(Et={key:xt,url:"none",filter:null},wt(this,Lr,Yp).set(bt,Et)),!ht||!vt))return Et.url;const _t=Ut(this,Lr,i0).call(this,ht);ht=Util.makeHexColor(..._t);const At=Ut(this,Lr,i0).call(this,vt);if(vt=Util.makeHexColor(...At),wt(this,Lr,Zp).style.color="",ht==="#000000"&&vt==="#ffffff"||ht===vt)return Et.url;const Ct=new Array(256);for(let Lt=0;Lt<=255;Lt++){const Ot=Lt/255;Ct[Lt]=Ot<=.03928?Ot/12.92:((Ot+.055)/1.055)**2.4}const St=Ct.join(","),Rt=`g_${wt(this,Hl)}_hcm_filter`,Pt=Et.filter=Ut(this,Lr,Qp).call(this,Rt);Ut(this,Lr,r0).call(this,St,St,St,Pt),Ut(this,Lr,Rx).call(this,Pt);const kt=(Lt,Ot)=>{const Ft=_t[Lt]/255,Dt=At[Lt]/255,$t=new Array(Ot+1);for(let Bt=0;Bt<=Ot;Bt++)$t[Bt]=Ft+Bt/Ot*(Dt-Ft);return $t.join(",")};return Ut(this,Lr,r0).call(this,kt(0,5),kt(1,5),kt(2,5),Pt),Et.url=`url(#${Rt})`,Et.url}addAlphaFilter(ht){let vt=wt(this,Lr,co).get(ht);if(vt)return vt;const[xt]=Ut(this,Lr,dy).call(this,[ht]),bt=`alpha_${xt}`;if(vt=wt(this,Lr,co).get(bt),vt)return wt(this,Lr,co).set(ht,vt),vt;const Et=`g_${wt(this,Hl)}_alpha_map_${eo(this,_d)._++}`,_t=`url(#${Et})`;wt(this,Lr,co).set(ht,_t),wt(this,Lr,co).set(bt,_t);const At=Ut(this,Lr,Qp).call(this,Et);return Ut(this,Lr,Tx).call(this,xt,At),_t}addLuminosityFilter(ht){let vt=wt(this,Lr,co).get(ht||"luminosity");if(vt)return vt;let xt,bt;if(ht?([xt]=Ut(this,Lr,dy).call(this,[ht]),bt=`luminosity_${xt}`):bt="luminosity",vt=wt(this,Lr,co).get(bt),vt)return wt(this,Lr,co).set(ht,vt),vt;const Et=`g_${wt(this,Hl)}_luminosity_map_${eo(this,_d)._++}`,_t=`url(#${Et})`;wt(this,Lr,co).set(ht,_t),wt(this,Lr,co).set(bt,_t);const At=Ut(this,Lr,Qp).call(this,Et);return Ut(this,Lr,C1).call(this,At),ht&&Ut(this,Lr,Tx).call(this,xt,At),_t}addHighlightHCMFilter(ht,vt,xt,bt,Et){var Dt;const _t=`${vt}-${xt}-${bt}-${Et}`;let At=wt(this,Lr,Yp).get(ht);if((At==null?void 0:At.key)===_t||(At?((Dt=At.filter)==null||Dt.remove(),At.key=_t,At.url="none",At.filter=null):(At={key:_t,url:"none",filter:null},wt(this,Lr,Yp).set(ht,At)),!vt||!xt))return At.url;const[Ct,St]=[vt,xt].map(Ut(this,Lr,i0).bind(this));let Rt=Math.round(.2126*Ct[0]+.7152*Ct[1]+.0722*Ct[2]),Pt=Math.round(.2126*St[0]+.7152*St[1]+.0722*St[2]),[kt,Mt]=[bt,Et].map(Ut(this,Lr,i0).bind(this));Pt<Rt&&([Rt,Pt,kt,Mt]=[Pt,Rt,Mt,kt]),wt(this,Lr,Zp).style.color="";const Lt=($t,Bt,Nt)=>{const Ht=new Array(256),jt=(Pt-Rt)/Nt,zt=$t/255,Kt=(Bt-$t)/(255*Nt);let en=0;for(let Wt=0;Wt<=Nt;Wt++){const Qt=Math.round(Rt+Wt*jt),on=zt+Wt*Kt;for(let En=en;En<=Qt;En++)Ht[En]=on;en=Qt+1}for(let Wt=en;Wt<256;Wt++)Ht[Wt]=Ht[en-1];return Ht.join(",")},Ot=`g_${wt(this,Hl)}_hcm_${ht}_filter`,Ft=At.filter=Ut(this,Lr,Qp).call(this,Ot);return Ut(this,Lr,Rx).call(this,Ft),Ut(this,Lr,r0).call(this,Lt(kt[0],Mt[0],5),Lt(kt[1],Mt[1],5),Lt(kt[2],Mt[2],5),Ft),At.url=`url(#${Ot})`,At.url}destroy(ht=!1){ht&&wt(this,Lr,Yp).size!==0||(wt(this,ba)&&(wt(this,ba).parentNode.parentNode.remove(),Vt(this,ba,null)),wt(this,Ju)&&(wt(this,Ju).clear(),Vt(this,Ju,null)),Vt(this,_d,0))}}Ju=new WeakMap,ba=new WeakMap,Hl=new WeakMap,xo=new WeakMap,qy=new WeakMap,_d=new WeakMap,Lr=new WeakSet,co=function(){return wt(this,Ju)||Vt(this,Ju,new Map)},Yp=function(){return wt(this,qy)||Vt(this,qy,new Map)},Zp=function(){if(!wt(this,ba)){const ht=wt(this,xo).createElement("div"),{style:vt}=ht;vt.visibility="hidden",vt.contain="strict",vt.width=vt.height=0,vt.position="absolute",vt.top=vt.left=0,vt.zIndex=-1;const xt=wt(this,xo).createElementNS(SVG_NS,"svg");xt.setAttribute("width",0),xt.setAttribute("height",0),Vt(this,ba,wt(this,xo).createElementNS(SVG_NS,"defs")),ht.append(xt),xt.append(wt(this,ba)),wt(this,xo).body.append(ht)}return wt(this,ba)},dy=function(ht){if(ht.length===1){const Ct=ht[0],St=new Array(256);for(let Pt=0;Pt<256;Pt++)St[Pt]=Ct[Pt]/255;const Rt=St.join(",");return[Rt,Rt,Rt]}const[vt,xt,bt]=ht,Et=new Array(256),_t=new Array(256),At=new Array(256);for(let Ct=0;Ct<256;Ct++)Et[Ct]=vt[Ct]/255,_t[Ct]=xt[Ct]/255,At[Ct]=bt[Ct]/255;return[Et.join(","),_t.join(","),At.join(",")]},C1=function(ht){const vt=wt(this,xo).createElementNS(SVG_NS,"feColorMatrix");vt.setAttribute("type","matrix"),vt.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),ht.append(vt)},Rx=function(ht){const vt=wt(this,xo).createElementNS(SVG_NS,"feColorMatrix");vt.setAttribute("type","matrix"),vt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ht.append(vt)},Qp=function(ht){const vt=wt(this,xo).createElementNS(SVG_NS,"filter");return vt.setAttribute("color-interpolation-filters","sRGB"),vt.setAttribute("id",ht),wt(this,Lr,Zp).append(vt),vt},n0=function(ht,vt,xt){const bt=wt(this,xo).createElementNS(SVG_NS,vt);bt.setAttribute("type","discrete"),bt.setAttribute("tableValues",xt),ht.append(bt)},r0=function(ht,vt,xt,bt){const Et=wt(this,xo).createElementNS(SVG_NS,"feComponentTransfer");bt.append(Et),Ut(this,Lr,n0).call(this,Et,"feFuncR",ht),Ut(this,Lr,n0).call(this,Et,"feFuncG",vt),Ut(this,Lr,n0).call(this,Et,"feFuncB",xt)},Tx=function(ht,vt){const xt=wt(this,xo).createElementNS(SVG_NS,"feComponentTransfer");vt.append(xt),Ut(this,Lr,n0).call(this,xt,"feFuncA",ht)},i0=function(ht){return wt(this,Lr,Zp).style.color=ht,getRGB(getComputedStyle(wt(this,Lr,Zp)).getPropertyValue("color"))};class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:$=globalThis.document}={}){super(),this._document=$}_createCanvas($,ht){const vt=this._document.createElement("canvas");return vt.width=$,vt.height=ht,vt}}async function fetchData(_e,$="text"){if(isValidFetchUrl(_e,document.baseURI)){const ht=await fetch(_e);if(!ht.ok)throw new Error(ht.statusText);switch($){case"arraybuffer":return ht.arrayBuffer();case"blob":return ht.blob();case"json":return ht.json()}return ht.text()}return new Promise((ht,vt)=>{const xt=new XMLHttpRequest;xt.open("GET",_e,!0),xt.responseType=$,xt.onreadystatechange=()=>{if(xt.readyState===XMLHttpRequest.DONE){if(xt.status===200||xt.status===0){switch($){case"arraybuffer":case"blob":case"json":ht(xt.response);return}ht(xt.responseText);return}vt(new Error(xt.statusText))}},xt.send(null)})}class DOMCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,ht){return fetchData($,this.isCompressed?"arraybuffer":"text").then(vt=>({cMapData:vt instanceof ArrayBuffer?new Uint8Array(vt):stringToBytes(vt),compressionType:ht}))}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return fetchData($,"arraybuffer").then(ht=>new Uint8Array(ht))}}class DOMSVGFactory extends BaseSVGFactory{_createSVG($){return document.createElementNS(SVG_NS,$)}}class PageViewport{constructor({viewBox:$,scale:ht,rotation:vt,offsetX:xt=0,offsetY:bt=0,dontFlip:Et=!1}){this.viewBox=$,this.scale=ht,this.rotation=vt,this.offsetX=xt,this.offsetY=bt;const _t=($[2]+$[0])/2,At=($[3]+$[1])/2;let Ct,St,Rt,Pt;switch(vt%=360,vt<0&&(vt+=360),vt){case 180:Ct=-1,St=0,Rt=0,Pt=1;break;case 90:Ct=0,St=1,Rt=1,Pt=0;break;case 270:Ct=0,St=-1,Rt=-1,Pt=0;break;case 0:Ct=1,St=0,Rt=0,Pt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Et&&(Rt=-Rt,Pt=-Pt);let kt,Mt,Lt,Ot;Ct===0?(kt=Math.abs(At-$[1])*ht+xt,Mt=Math.abs(_t-$[0])*ht+bt,Lt=($[3]-$[1])*ht,Ot=($[2]-$[0])*ht):(kt=Math.abs(_t-$[0])*ht+xt,Mt=Math.abs(At-$[1])*ht+bt,Lt=($[2]-$[0])*ht,Ot=($[3]-$[1])*ht),this.transform=[Ct*ht,St*ht,Rt*ht,Pt*ht,kt-Ct*ht*_t-Rt*ht*At,Mt-St*ht*_t-Pt*ht*At],this.width=Lt,this.height=Ot}get rawDims(){const{viewBox:$}=this;return shadow(this,"rawDims",{pageWidth:$[2]-$[0],pageHeight:$[3]-$[1],pageX:$[0],pageY:$[1]})}clone({scale:$=this.scale,rotation:ht=this.rotation,offsetX:vt=this.offsetX,offsetY:xt=this.offsetY,dontFlip:bt=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:$,rotation:ht,offsetX:vt,offsetY:xt,dontFlip:bt})}convertToViewportPoint($,ht){return Util.applyTransform([$,ht],this.transform)}convertToViewportRectangle($){const ht=Util.applyTransform([$[0],$[1]],this.transform),vt=Util.applyTransform([$[2],$[3]],this.transform);return[ht[0],ht[1],vt[0],vt[1]]}convertToPdfPoint($,ht){return Util.applyInverseTransform([$,ht],this.transform)}}class RenderingCancelledException extends BaseException{constructor($,ht=0){super($,"RenderingCancelledException"),this.extraDelay=ht}}function isDataScheme(_e){const $=_e.length;let ht=0;for(;ht<$&&_e[ht].trim()==="";)ht++;return _e.substring(ht,ht+5).toLowerCase()==="data:"}function isPdfFile(_e){return typeof _e=="string"&&/\.pdf$/i.test(_e)}function getFilenameFromUrl(_e){return[_e]=_e.split(/[#?]/,1),_e.substring(_e.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(_e,$="document.pdf"){if(typeof _e!="string")return $;if(isDataScheme(_e))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),$;const ht=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,vt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,xt=ht.exec(_e);let bt=vt.exec(xt[1])||vt.exec(xt[2])||vt.exec(xt[3]);if(bt&&(bt=bt[0],bt.includes("%")))try{bt=vt.exec(decodeURIComponent(bt))[0]}catch{}return bt||$}class StatTimer{constructor(){Sr(this,"started",Object.create(null));Sr(this,"times",[])}time($){$ in this.started&&warn(`Timer is already running for ${$}`),this.started[$]=Date.now()}timeEnd($){$ in this.started||warn(`Timer has not been started for ${$}`),this.times.push({name:$,start:this.started[$],end:Date.now()}),delete this.started[$]}toString(){const $=[];let ht=0;for(const{name:vt}of this.times)ht=Math.max(vt.length,ht);for(const{name:vt,start:xt,end:bt}of this.times)$.push(`${vt.padEnd(ht)} ${bt-xt}ms
`);return $.join("")}}function isValidFetchUrl(_e,$){try{const{protocol:ht}=$?new URL(_e,$):new URL(_e);return ht==="http:"||ht==="https:"}catch{return!1}}function noContextMenu(_e){_e.preventDefault()}function deprecated(_e){console.log("Deprecated API usage: "+_e)}let pdfDateStringRegex;class PDFDateString{static toDateObject($){if(!$||typeof $!="string")return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ht=pdfDateStringRegex.exec($);if(!ht)return null;const vt=parseInt(ht[1],10);let xt=parseInt(ht[2],10);xt=xt>=1&&xt<=12?xt-1:0;let bt=parseInt(ht[3],10);bt=bt>=1&&bt<=31?bt:1;let Et=parseInt(ht[4],10);Et=Et>=0&&Et<=23?Et:0;let _t=parseInt(ht[5],10);_t=_t>=0&&_t<=59?_t:0;let At=parseInt(ht[6],10);At=At>=0&&At<=59?At:0;const Ct=ht[7]||"Z";let St=parseInt(ht[8],10);St=St>=0&&St<=23?St:0;let Rt=parseInt(ht[9],10)||0;return Rt=Rt>=0&&Rt<=59?Rt:0,Ct==="-"?(Et+=St,_t+=Rt):Ct==="+"&&(Et-=St,_t-=Rt),new Date(Date.UTC(vt,xt,bt,Et,_t,At))}}function getXfaPageViewport(_e,{scale:$=1,rotation:ht=0}){const{width:vt,height:xt}=_e.attributes.style,bt=[0,0,parseInt(vt),parseInt(xt)];return new PageViewport({viewBox:bt,scale:$,rotation:ht})}function getRGB(_e){if(_e.startsWith("#")){const $=parseInt(_e.slice(1),16);return[($&16711680)>>16,($&65280)>>8,$&255]}return _e.startsWith("rgb(")?_e.slice(4,-1).split(",").map($=>parseInt($)):_e.startsWith("rgba(")?_e.slice(5,-1).split(",").map($=>parseInt($)).slice(0,3):(warn(`Not a valid color format: "${_e}"`),[0,0,0])}function getColorValues(_e){const $=document.createElement("span");$.style.visibility="hidden",document.body.append($);for(const ht of _e.keys()){$.style.color=ht;const vt=window.getComputedStyle($).color;_e.set(ht,getRGB(vt))}$.remove()}function getCurrentTransform(_e){const{a:$,b:ht,c:vt,d:xt,e:bt,f:Et}=_e.getTransform();return[$,ht,vt,xt,bt,Et]}function getCurrentTransformInverse(_e){const{a:$,b:ht,c:vt,d:xt,e:bt,f:Et}=_e.getTransform().invertSelf();return[$,ht,vt,xt,bt,Et]}function setLayerDimensions(_e,$,ht=!1,vt=!0){if($ instanceof PageViewport){const{pageWidth:xt,pageHeight:bt}=$.rawDims,{style:Et}=_e,_t=util_FeatureTest.isCSSRoundSupported,At=`var(--scale-factor) * ${xt}px`,Ct=`var(--scale-factor) * ${bt}px`,St=_t?`round(${At}, 1px)`:`calc(${At})`,Rt=_t?`round(${Ct}, 1px)`:`calc(${Ct})`;!ht||$.rotation%180===0?(Et.width=St,Et.height=Rt):(Et.width=Rt,Et.height=St)}vt&&_e.setAttribute("data-main-rotation",$.rotation)}var _h,_f,_a,ep,Ky,R1,mo,T1,P1,hy,k1,Px;const Yy=class Yy{constructor($){qt(this,mo);qt(this,_h,null);qt(this,_f,null);qt(this,_a);qt(this,ep,null);Vt(this,_a,$)}render(){const $=Vt(this,_h,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",Ut(Yy,Ky,R1));const ht=Vt(this,ep,document.createElement("div"));ht.className="buttons",$.append(ht);const vt=wt(this,_a).toolbarPosition;if(vt){const{style:xt}=$,bt=wt(this,_a)._uiManager.direction==="ltr"?1-vt[0]:vt[0];xt.insetInlineEnd=`${100*bt}%`,xt.top=`calc(${100*vt[1]}% + var(--editor-toolbar-vert-offset))`}return Ut(this,mo,k1).call(this),$}hide(){var $;wt(this,_h).classList.add("hidden"),($=wt(this,_f))==null||$.hideDropdown()}show(){wt(this,_h).classList.remove("hidden")}addAltTextButton($){Ut(this,mo,hy).call(this,$),wt(this,ep).prepend($,wt(this,mo,Px))}addColorPicker($){Vt(this,_f,$);const ht=$.renderButton();Ut(this,mo,hy).call(this,ht),wt(this,ep).prepend(ht,wt(this,mo,Px))}remove(){var $;wt(this,_h).remove(),($=wt(this,_f))==null||$.destroy(),Vt(this,_f,null)}};_h=new WeakMap,_f=new WeakMap,_a=new WeakMap,ep=new WeakMap,Ky=new WeakSet,R1=function($){$.stopPropagation()},mo=new WeakSet,T1=function($){wt(this,_a)._focusEventsAllowed=!1,$.preventDefault(),$.stopPropagation()},P1=function($){wt(this,_a)._focusEventsAllowed=!0,$.preventDefault(),$.stopPropagation()},hy=function($){$.addEventListener("focusin",Ut(this,mo,T1).bind(this),{capture:!0}),$.addEventListener("focusout",Ut(this,mo,P1).bind(this),{capture:!0}),$.addEventListener("contextmenu",noContextMenu)},k1=function(){const $=document.createElement("button");$.className="delete",$.tabIndex=0,$.setAttribute("data-l10n-id",`pdfjs-editor-remove-${wt(this,_a).editorType}-button`),Ut(this,mo,hy).call(this,$),$.addEventListener("click",ht=>{wt(this,_a)._uiManager.delete()}),wt(this,ep).append($)},Px=function(){const $=document.createElement("div");return $.className="divider",$},qt(Yy,Ky);let EditorToolbar=Yy;var w0,tp,A0,zu,M1,F1,L1;class HighlightToolbar{constructor($){qt(this,zu);qt(this,w0,null);qt(this,tp,null);qt(this,A0);Vt(this,A0,$)}show($,ht,vt){const[xt,bt]=Ut(this,zu,F1).call(this,ht,vt),{style:Et}=wt(this,tp)||Vt(this,tp,Ut(this,zu,M1).call(this));$.append(wt(this,tp)),Et.insetInlineEnd=`${100*xt}%`,Et.top=`calc(${100*bt}% + var(--editor-toolbar-vert-offset))`}hide(){wt(this,tp).remove()}}w0=new WeakMap,tp=new WeakMap,A0=new WeakMap,zu=new WeakSet,M1=function(){const $=Vt(this,tp,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu);const ht=Vt(this,w0,document.createElement("div"));return ht.className="buttons",$.append(ht),Ut(this,zu,L1).call(this),$},F1=function($,ht){let vt=0,xt=0;for(const bt of $){const Et=bt.y+bt.height;if(Et<vt)continue;const _t=bt.x+(ht?bt.width:0);if(Et>vt){xt=_t,vt=Et;continue}ht?_t>xt&&(xt=_t):_t<xt&&(xt=_t)}return[ht?1-xt:xt,vt]},L1=function(){const $=document.createElement("button");$.className="highlightButton",$.tabIndex=0,$.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const ht=document.createElement("span");$.append(ht),ht.className="visuallyHidden",ht.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("click",()=>{wt(this,A0).highlightSelection("floating_button")}),wt(this,w0).append($)};function bindEvents(_e,$,ht){for(const vt of ht)$.addEventListener(vt,_e[vt].bind(_e))}function opacityToHex(_e){return Math.round(Math.min(255,Math.max(1,255*_e))).toString(16).padStart(2,"0")}var Zy;class IdManager{constructor(){qt(this,Zy,0)}get id(){return`${AnnotationEditorPrefix}${eo(this,Zy)._++}`}}Zy=new WeakMap;var S0,Qy,Do,C0,kx;const n1=class n1{constructor(){qt(this,C0);qt(this,S0,getUuid());qt(this,Qy,0);qt(this,Do,null)}static get _isSVGFittingCanvas(){const $='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',vt=new OffscreenCanvas(1,3).getContext("2d"),xt=new Image;xt.src=$;const bt=xt.decode().then(()=>(vt.drawImage(xt,0,0,1,1,0,0,1,3),new Uint32Array(vt.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",bt)}async getFromFile($){const{lastModified:ht,name:vt,size:xt,type:bt}=$;return Ut(this,C0,kx).call(this,`${ht}_${vt}_${xt}_${bt}`,$)}async getFromUrl($){return Ut(this,C0,kx).call(this,$,$)}async getFromId($){wt(this,Do)||Vt(this,Do,new Map);const ht=wt(this,Do).get($);return ht?ht.bitmap?(ht.refCounter+=1,ht):ht.file?this.getFromFile(ht.file):this.getFromUrl(ht.url):null}getSvgUrl($){const ht=wt(this,Do).get($);return ht!=null&&ht.isSvg?ht.svgUrl:null}deleteId($){wt(this,Do)||Vt(this,Do,new Map);const ht=wt(this,Do).get($);ht&&(ht.refCounter-=1,ht.refCounter===0&&(ht.bitmap=null))}isValidId($){return $.startsWith(`image_${wt(this,S0)}_`)}};S0=new WeakMap,Qy=new WeakMap,Do=new WeakMap,C0=new WeakSet,kx=async function($,ht){wt(this,Do)||Vt(this,Do,new Map);let vt=wt(this,Do).get($);if(vt===null)return null;if(vt!=null&&vt.bitmap)return vt.refCounter+=1,vt;try{vt||(vt={bitmap:null,id:`image_${wt(this,S0)}_${eo(this,Qy)._++}`,refCounter:0,isSvg:!1});let xt;if(typeof ht=="string"?(vt.url=ht,xt=await fetchData(ht,"blob")):xt=vt.file=ht,xt.type==="image/svg+xml"){const bt=n1._isSVGFittingCanvas,Et=new FileReader,_t=new Image,At=new Promise((Ct,St)=>{_t.onload=()=>{vt.bitmap=_t,vt.isSvg=!0,Ct()},Et.onload=async()=>{const Rt=vt.svgUrl=Et.result;_t.src=await bt?`${Rt}#svgView(preserveAspectRatio(none))`:Rt},_t.onerror=Et.onerror=St});Et.readAsDataURL(xt),await At}else vt.bitmap=await createImageBitmap(xt);vt.refCounter=1}catch(xt){console.error(xt),vt=null}return wt(this,Do).set($,vt),vt&&wt(this,Do).set(vt.id,vt),vt};let ImageManager=n1;var Zs,_u,R0,Qs;class CommandManager{constructor($=128){qt(this,Zs,[]);qt(this,_u,!1);qt(this,R0);qt(this,Qs,-1);Vt(this,R0,$)}add({cmd:$,undo:ht,post:vt,mustExec:xt,type:bt=NaN,overwriteIfSameType:Et=!1,keepUndo:_t=!1}){if(xt&&$(),wt(this,_u))return;const At={cmd:$,undo:ht,post:vt,type:bt};if(wt(this,Qs)===-1){wt(this,Zs).length>0&&(wt(this,Zs).length=0),Vt(this,Qs,0),wt(this,Zs).push(At);return}if(Et&&wt(this,Zs)[wt(this,Qs)].type===bt){_t&&(At.undo=wt(this,Zs)[wt(this,Qs)].undo),wt(this,Zs)[wt(this,Qs)]=At;return}const Ct=wt(this,Qs)+1;Ct===wt(this,R0)?wt(this,Zs).splice(0,1):(Vt(this,Qs,Ct),Ct<wt(this,Zs).length&&wt(this,Zs).splice(Ct)),wt(this,Zs).push(At)}undo(){if(wt(this,Qs)===-1)return;Vt(this,_u,!0);const{undo:$,post:ht}=wt(this,Zs)[wt(this,Qs)];$(),ht==null||ht(),Vt(this,_u,!1),Vt(this,Qs,wt(this,Qs)-1)}redo(){if(wt(this,Qs)<wt(this,Zs).length-1){Vt(this,Qs,wt(this,Qs)+1),Vt(this,_u,!0);const{cmd:$,post:ht}=wt(this,Zs)[wt(this,Qs)];$(),ht==null||ht(),Vt(this,_u,!1)}}hasSomethingToUndo(){return wt(this,Qs)!==-1}hasSomethingToRedo(){return wt(this,Qs)<wt(this,Zs).length-1}destroy(){Vt(this,Zs,null)}}Zs=new WeakMap,_u=new WeakMap,R0=new WeakMap,Qs=new WeakMap;var Jy,D1;class KeyboardManager{constructor($){qt(this,Jy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:ht}=util_FeatureTest.platform;for(const[vt,xt,bt={}]of $)for(const Et of vt){const _t=Et.startsWith("mac+");ht&&_t?(this.callbacks.set(Et.slice(4),{callback:xt,options:bt}),this.allKeys.add(Et.split("+").at(-1))):!ht&&!_t&&(this.callbacks.set(Et,{callback:xt,options:bt}),this.allKeys.add(Et.split("+").at(-1)))}}exec($,ht){if(!this.allKeys.has(ht.key))return;const vt=this.callbacks.get(Ut(this,Jy,D1).call(this,ht));if(!vt)return;const{callback:xt,options:{bubbles:bt=!1,args:Et=[],checker:_t=null}}=vt;_t&&!_t($,ht)||(xt.bind($,...Et,ht)(),bt||(ht.stopPropagation(),ht.preventDefault()))}}Jy=new WeakSet,D1=function($){$.altKey&&this.buffer.push("alt"),$.ctrlKey&&this.buffer.push("ctrl"),$.metaKey&&this.buffer.push("meta"),$.shiftKey&&this.buffer.push("shift"),this.buffer.push($.key);const ht=this.buffer.join("+");return this.buffer.length=0,ht};const ex=class ex{get _colors(){const $=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues($),shadow(this,"_colors",$)}convert($){const ht=getRGB($);if(!window.matchMedia("(forced-colors: active)").matches)return ht;for(const[vt,xt]of this._colors)if(xt.every((bt,Et)=>bt===ht[Et]))return ex._colorsMapping.get(vt);return ht}getHexCode($){const ht=this._colors.get($);return ht?Util.makeHexColor(...ht):$}};Sr(ex,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=ex;var Co,Vs,no,am,Ul,lm,zo,cm,np,$a,zl,rp,T0,P0,yl,um,wu,xl,tx,Au,k0,ip,M0,dm,ro,bs,Wl,sp,F0,L0,D0,I0,O0,$0,N0,j0,B0,H0,U0,z0,W0,V0,Su,El,Vl,G0,wr,fy,I1,O1,py,$1,N1,j1,Mx,Fx,Lx,Dx,Ix,ho,bu,B1,H1,Ox,U1,s0,$x;const om=class om{constructor($,ht,vt,xt,bt,Et,_t,At,Ct){qt(this,wr);qt(this,Co,null);qt(this,Vs,new Map);qt(this,no,new Map);qt(this,am,null);qt(this,Ul,null);qt(this,lm,null);qt(this,zo,new CommandManager);qt(this,cm,0);qt(this,np,new Set);qt(this,$a,null);qt(this,zl,null);qt(this,rp,new Set);qt(this,T0,!1);qt(this,P0,null);qt(this,yl,null);qt(this,um,null);qt(this,wu,!1);qt(this,xl,null);qt(this,tx,new IdManager);qt(this,Au,!1);qt(this,k0,!1);qt(this,ip,null);qt(this,M0,null);qt(this,dm,null);qt(this,ro,AnnotationEditorType.NONE);qt(this,bs,new Set);qt(this,Wl,null);qt(this,sp,null);qt(this,F0,null);qt(this,L0,this.blur.bind(this));qt(this,D0,this.focus.bind(this));qt(this,I0,this.copy.bind(this));qt(this,O0,this.cut.bind(this));qt(this,$0,this.paste.bind(this));qt(this,N0,this.keydown.bind(this));qt(this,j0,this.keyup.bind(this));qt(this,B0,this.onEditingAction.bind(this));qt(this,H0,this.onPageChanging.bind(this));qt(this,U0,this.onScaleChanging.bind(this));qt(this,z0,Ut(this,wr,O1).bind(this));qt(this,W0,this.onRotationChanging.bind(this));qt(this,V0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});qt(this,Su,[0,0]);qt(this,El,null);qt(this,Vl,null);qt(this,G0,null);Vt(this,Vl,$),Vt(this,G0,ht),Vt(this,am,vt),this._eventBus=xt,this._eventBus._on("editingaction",wt(this,B0)),this._eventBus._on("pagechanging",wt(this,H0)),this._eventBus._on("scalechanging",wt(this,U0)),this._eventBus._on("rotationchanging",wt(this,W0)),Ut(this,wr,$1).call(this),Ut(this,wr,Fx).call(this),Vt(this,Ul,bt.annotationStorage),Vt(this,P0,bt.filterFactory),Vt(this,sp,Et),Vt(this,um,_t||null),Vt(this,T0,At),Vt(this,dm,Ct||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const $=om.prototype,ht=Et=>wt(Et,Vl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&Et.hasSomethingToControl(),vt=(Et,{target:_t})=>{if(_t instanceof HTMLInputElement){const{type:At}=_t;return At!=="text"&&At!=="number"}return!0},xt=this.TRANSLATE_SMALL,bt=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],$.selectAll,{checker:vt}],[["ctrl+z","mac+meta+z"],$.undo,{checker:vt}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$.redo,{checker:vt}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$.delete,{checker:vt}],[["Enter","mac+Enter"],$.addNewEditorFromKeyboard,{checker:(Et,{target:_t})=>!(_t instanceof HTMLButtonElement)&&wt(Et,Vl).contains(_t)&&!Et.isEnterHandled}],[[" ","mac+ "],$.addNewEditorFromKeyboard,{checker:(Et,{target:_t})=>!(_t instanceof HTMLButtonElement)&&wt(Et,Vl).contains(document.activeElement)}],[["Escape","mac+Escape"],$.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$.translateSelectedEditors,{args:[-xt,0],checker:ht}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$.translateSelectedEditors,{args:[-bt,0],checker:ht}],[["ArrowRight","mac+ArrowRight"],$.translateSelectedEditors,{args:[xt,0],checker:ht}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$.translateSelectedEditors,{args:[bt,0],checker:ht}],[["ArrowUp","mac+ArrowUp"],$.translateSelectedEditors,{args:[0,-xt],checker:ht}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$.translateSelectedEditors,{args:[0,-bt],checker:ht}],[["ArrowDown","mac+ArrowDown"],$.translateSelectedEditors,{args:[0,xt],checker:ht}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$.translateSelectedEditors,{args:[0,bt],checker:ht}]]))}destroy(){var $,ht;Ut(this,wr,Lx).call(this),Ut(this,wr,Mx).call(this),this._eventBus._off("editingaction",wt(this,B0)),this._eventBus._off("pagechanging",wt(this,H0)),this._eventBus._off("scalechanging",wt(this,U0)),this._eventBus._off("rotationchanging",wt(this,W0));for(const vt of wt(this,no).values())vt.destroy();wt(this,no).clear(),wt(this,Vs).clear(),wt(this,rp).clear(),Vt(this,Co,null),wt(this,bs).clear(),wt(this,zo).destroy(),($=wt(this,am))==null||$.destroy(),(ht=wt(this,xl))==null||ht.hide(),Vt(this,xl,null),wt(this,yl)&&(clearTimeout(wt(this,yl)),Vt(this,yl,null)),wt(this,El)&&(clearTimeout(wt(this,El)),Vt(this,El,null)),Ut(this,wr,N1).call(this)}async mlGuess($){var ht;return((ht=wt(this,dm))==null?void 0:ht.guess($))||null}get hasMLManager(){return!!wt(this,dm)}get hcmFilter(){return shadow(this,"hcmFilter",wt(this,sp)?wt(this,P0).addHCMFilter(wt(this,sp).foreground,wt(this,sp).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(wt(this,Vl)).direction)}get highlightColors(){return shadow(this,"highlightColors",wt(this,um)?new Map(wt(this,um).split(",").map($=>$.split("=").map(ht=>ht.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,$=>$.reverse())):null)}setMainHighlightColorPicker($){Vt(this,M0,$)}editAltText($){var ht;(ht=wt(this,am))==null||ht.editAltText(this,$)}onPageChanging({pageNumber:$}){Vt(this,cm,$-1)}focusMainContainer(){wt(this,Vl).focus()}findParent($,ht){for(const vt of wt(this,no).values()){const{x:xt,y:bt,width:Et,height:_t}=vt.div.getBoundingClientRect();if($>=xt&&$<=xt+Et&&ht>=bt&&ht<=bt+_t)return vt}return null}disableUserSelect($=!1){wt(this,G0).classList.toggle("noUserSelect",$)}addShouldRescale($){wt(this,rp).add($)}removeShouldRescale($){wt(this,rp).delete($)}onScaleChanging({scale:$}){this.commitOrRemove(),this.viewParameters.realScale=$*PixelsPerInch.PDF_TO_CSS_UNITS;for(const ht of wt(this,rp))ht.onScaleChanging()}onRotationChanging({pagesRotation:$}){this.commitOrRemove(),this.viewParameters.rotation=$}highlightSelection($=""){const ht=document.getSelection();if(!ht||ht.isCollapsed)return;const{anchorNode:vt,anchorOffset:xt,focusNode:bt,focusOffset:Et}=ht,_t=ht.toString(),Ct=Ut(this,wr,fy).call(this,ht).closest(".textLayer"),St=this.getSelectionBoxes(Ct);if(St){ht.empty(),wt(this,ro)===AnnotationEditorType.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:AnnotationEditorType.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const Rt of wt(this,no).values())if(Rt.hasTextLayer(Ct)){Rt.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:$,boxes:St,anchorNode:vt,anchorOffset:xt,focusNode:bt,focusOffset:Et,text:_t});break}}}addToAnnotationStorage($){!$.isEmpty()&&wt(this,Ul)&&!wt(this,Ul).has($.id)&&wt(this,Ul).setValue($.id,$)}blur(){if(this.isShiftKeyDown=!1,wt(this,wu)&&(Vt(this,wu,!1),Ut(this,wr,py).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:$}=document;for(const ht of wt(this,bs))if(ht.div.contains($)){Vt(this,ip,[ht,$]),ht._focusEventsAllowed=!1;break}}focus(){if(!wt(this,ip))return;const[$,ht]=wt(this,ip);Vt(this,ip,null),ht.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),ht.focus()}addEditListeners(){Ut(this,wr,Fx).call(this),Ut(this,wr,Dx).call(this)}removeEditListeners(){Ut(this,wr,Lx).call(this),Ut(this,wr,Ix).call(this)}copy($){var vt;if($.preventDefault(),(vt=wt(this,Co))==null||vt.commitOrRemove(),!this.hasSelection)return;const ht=[];for(const xt of wt(this,bs)){const bt=xt.serialize(!0);bt&&ht.push(bt)}ht.length!==0&&$.clipboardData.setData("application/pdfjs",JSON.stringify(ht))}cut($){this.copy($),this.delete()}paste($){$.preventDefault();const{clipboardData:ht}=$;for(const bt of ht.items)for(const Et of wt(this,zl))if(Et.isHandlingMimeForPasting(bt.type)){Et.paste(bt,this.currentLayer);return}let vt=ht.getData("application/pdfjs");if(!vt)return;try{vt=JSON.parse(vt)}catch(bt){warn(`paste: "${bt.message}".`);return}if(!Array.isArray(vt))return;this.unselectAll();const xt=this.currentLayer;try{const bt=[];for(const At of vt){const Ct=xt.deserialize(At);if(!Ct)return;bt.push(Ct)}const Et=()=>{for(const At of bt)Ut(this,wr,Ox).call(this,At);Ut(this,wr,$x).call(this,bt)},_t=()=>{for(const At of bt)At.remove()};this.addCommands({cmd:Et,undo:_t,mustExec:!0})}catch(bt){warn(`paste: "${bt.message}".`)}}keydown($){!this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!0),wt(this,ro)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&om._keyboardManager.exec(this,$)}keyup($){this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!1,wt(this,wu)&&(Vt(this,wu,!1),Ut(this,wr,py).call(this,"main_toolbar")))}onEditingAction({name:$}){switch($){case"undo":case"redo":case"delete":case"selectAll":this[$]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState($){$?(Ut(this,wr,j1).call(this),Ut(this,wr,Dx).call(this),Ut(this,wr,ho).call(this,{isEditing:wt(this,ro)!==AnnotationEditorType.NONE,isEmpty:Ut(this,wr,s0).call(this),hasSomethingToUndo:wt(this,zo).hasSomethingToUndo(),hasSomethingToRedo:wt(this,zo).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ut(this,wr,Mx).call(this),Ut(this,wr,Ix).call(this),Ut(this,wr,ho).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($){if(!wt(this,zl)){Vt(this,zl,$);for(const ht of wt(this,zl))Ut(this,wr,bu).call(this,ht.defaultPropertiesToUpdate)}}getId(){return wt(this,tx).id}get currentLayer(){return wt(this,no).get(wt(this,cm))}getLayer($){return wt(this,no).get($)}get currentPageIndex(){return wt(this,cm)}addLayer($){wt(this,no).set($.pageIndex,$),wt(this,Au)?$.enable():$.disable()}removeLayer($){wt(this,no).delete($.pageIndex)}updateMode($,ht=null,vt=!1){if(wt(this,ro)!==$){if(Vt(this,ro,$),$===AnnotationEditorType.NONE){this.setEditingState(!1),Ut(this,wr,H1).call(this);return}this.setEditingState(!0),Ut(this,wr,B1).call(this),this.unselectAll();for(const xt of wt(this,no).values())xt.updateMode($);if(!ht&&vt){this.addNewEditorFromKeyboard();return}if(ht){for(const xt of wt(this,Vs).values())if(xt.annotationElementId===ht){this.setSelected(xt),xt.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar($){$!==wt(this,ro)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$})}updateParams($,ht){var vt;if(wt(this,zl)){switch($){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(vt=wt(this,M0))==null||vt.updateColor(ht);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(wt(this,F0)||Vt(this,F0,new Map)).set($,ht),this.showAllEditors("highlight",ht);break}for(const xt of wt(this,bs))xt.updateParams($,ht);for(const xt of wt(this,zl))xt.updateDefaultParams($,ht)}}showAllEditors($,ht,vt=!1){var bt;for(const Et of wt(this,Vs).values())Et.editorType===$&&Et.show(ht);(((bt=wt(this,F0))==null?void 0:bt.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==ht&&Ut(this,wr,bu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,ht]])}enableWaiting($=!1){if(wt(this,k0)!==$){Vt(this,k0,$);for(const ht of wt(this,no).values())$?ht.disableClick():ht.enableClick(),ht.div.classList.toggle("waiting",$)}}getEditors($){const ht=[];for(const vt of wt(this,Vs).values())vt.pageIndex===$&&ht.push(vt);return ht}getEditor($){return wt(this,Vs).get($)}addEditor($){wt(this,Vs).set($.id,$)}removeEditor($){var ht;$.div.contains(document.activeElement)&&(wt(this,yl)&&clearTimeout(wt(this,yl)),Vt(this,yl,setTimeout(()=>{this.focusMainContainer(),Vt(this,yl,null)},0))),wt(this,Vs).delete($.id),this.unselect($),(!$.annotationElementId||!wt(this,np).has($.annotationElementId))&&((ht=wt(this,Ul))==null||ht.remove($.id))}addDeletedAnnotationElement($){wt(this,np).add($.annotationElementId),this.addChangedExistingAnnotation($),$.deleted=!0}isDeletedAnnotationElement($){return wt(this,np).has($)}removeDeletedAnnotationElement($){wt(this,np).delete($.annotationElementId),this.removeChangedExistingAnnotation($),$.deleted=!1}setActiveEditor($){wt(this,Co)!==$&&(Vt(this,Co,$),$&&Ut(this,wr,bu).call(this,$.propertiesToUpdate))}updateUI($){wt(this,wr,U1)===$&&Ut(this,wr,bu).call(this,$.propertiesToUpdate)}toggleSelected($){if(wt(this,bs).has($)){wt(this,bs).delete($),$.unselect(),Ut(this,wr,ho).call(this,{hasSelectedEditor:this.hasSelection});return}wt(this,bs).add($),$.select(),Ut(this,wr,bu).call(this,$.propertiesToUpdate),Ut(this,wr,ho).call(this,{hasSelectedEditor:!0})}setSelected($){for(const ht of wt(this,bs))ht!==$&&ht.unselect();wt(this,bs).clear(),wt(this,bs).add($),$.select(),Ut(this,wr,bu).call(this,$.propertiesToUpdate),Ut(this,wr,ho).call(this,{hasSelectedEditor:!0})}isSelected($){return wt(this,bs).has($)}get firstSelectedEditor(){return wt(this,bs).values().next().value}unselect($){$.unselect(),wt(this,bs).delete($),Ut(this,wr,ho).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return wt(this,bs).size!==0}get isEnterHandled(){return wt(this,bs).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){wt(this,zo).undo(),Ut(this,wr,ho).call(this,{hasSomethingToUndo:wt(this,zo).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ut(this,wr,s0).call(this)})}redo(){wt(this,zo).redo(),Ut(this,wr,ho).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:wt(this,zo).hasSomethingToRedo(),isEmpty:Ut(this,wr,s0).call(this)})}addCommands($){wt(this,zo).add($),Ut(this,wr,ho).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ut(this,wr,s0).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $=[...wt(this,bs)],ht=()=>{for(const xt of $)xt.remove()},vt=()=>{for(const xt of $)Ut(this,wr,Ox).call(this,xt)};this.addCommands({cmd:ht,undo:vt,mustExec:!0})}commitOrRemove(){var $;($=wt(this,Co))==null||$.commitOrRemove()}hasSomethingToControl(){return wt(this,Co)||this.hasSelection}selectAll(){for(const $ of wt(this,bs))$.commit();Ut(this,wr,$x).call(this,wt(this,Vs).values())}unselectAll(){if(!(wt(this,Co)&&(wt(this,Co).commitOrRemove(),wt(this,ro)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const $ of wt(this,bs))$.unselect();wt(this,bs).clear(),Ut(this,wr,ho).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($,ht,vt=!1){if(vt||this.commitOrRemove(),!this.hasSelection)return;wt(this,Su)[0]+=$,wt(this,Su)[1]+=ht;const[xt,bt]=wt(this,Su),Et=[...wt(this,bs)],_t=1e3;wt(this,El)&&clearTimeout(wt(this,El)),Vt(this,El,setTimeout(()=>{Vt(this,El,null),wt(this,Su)[0]=wt(this,Su)[1]=0,this.addCommands({cmd:()=>{for(const At of Et)wt(this,Vs).has(At.id)&&At.translateInPage(xt,bt)},undo:()=>{for(const At of Et)wt(this,Vs).has(At.id)&&At.translateInPage(-xt,-bt)},mustExec:!1})},_t));for(const At of Et)At.translateInPage($,ht)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Vt(this,$a,new Map);for(const $ of wt(this,bs))wt(this,$a).set($,{savedX:$.x,savedY:$.y,savedPageIndex:$.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!wt(this,$a))return!1;this.disableUserSelect(!1);const $=wt(this,$a);Vt(this,$a,null);let ht=!1;for(const[{x:xt,y:bt,pageIndex:Et},_t]of $)_t.newX=xt,_t.newY=bt,_t.newPageIndex=Et,ht||(ht=xt!==_t.savedX||bt!==_t.savedY||Et!==_t.savedPageIndex);if(!ht)return!1;const vt=(xt,bt,Et,_t)=>{if(wt(this,Vs).has(xt.id)){const At=wt(this,no).get(_t);At?xt._setParentAndPosition(At,bt,Et):(xt.pageIndex=_t,xt.x=bt,xt.y=Et)}};return this.addCommands({cmd:()=>{for(const[xt,{newX:bt,newY:Et,newPageIndex:_t}]of $)vt(xt,bt,Et,_t)},undo:()=>{for(const[xt,{savedX:bt,savedY:Et,savedPageIndex:_t}]of $)vt(xt,bt,Et,_t)},mustExec:!0}),!0}dragSelectedEditors($,ht){if(wt(this,$a))for(const vt of wt(this,$a).keys())vt.drag($,ht)}rebuild($){if($.parent===null){const ht=this.getLayer($.pageIndex);ht?(ht.changeParent($),ht.addOrRebuild($)):(this.addEditor($),this.addToAnnotationStorage($),$.rebuild())}else $.parent.addOrRebuild($)}get isEditorHandlingKeyboard(){var $;return(($=this.getActive())==null?void 0:$.shouldGetKeyboardEvents())||wt(this,bs).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive($){return wt(this,Co)===$}getActive(){return wt(this,Co)}getMode(){return wt(this,ro)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes($){if(!$)return null;const ht=document.getSelection();for(let Ct=0,St=ht.rangeCount;Ct<St;Ct++)if(!$.contains(ht.getRangeAt(Ct).commonAncestorContainer))return null;const{x:vt,y:xt,width:bt,height:Et}=$.getBoundingClientRect();let _t;switch($.getAttribute("data-main-rotation")){case"90":_t=(Ct,St,Rt,Pt)=>({x:(St-xt)/Et,y:1-(Ct+Rt-vt)/bt,width:Pt/Et,height:Rt/bt});break;case"180":_t=(Ct,St,Rt,Pt)=>({x:1-(Ct+Rt-vt)/bt,y:1-(St+Pt-xt)/Et,width:Rt/bt,height:Pt/Et});break;case"270":_t=(Ct,St,Rt,Pt)=>({x:1-(St+Pt-xt)/Et,y:(Ct-vt)/bt,width:Pt/Et,height:Rt/bt});break;default:_t=(Ct,St,Rt,Pt)=>({x:(Ct-vt)/bt,y:(St-xt)/Et,width:Rt/bt,height:Pt/Et});break}const At=[];for(let Ct=0,St=ht.rangeCount;Ct<St;Ct++){const Rt=ht.getRangeAt(Ct);if(!Rt.collapsed)for(const{x:Pt,y:kt,width:Mt,height:Lt}of Rt.getClientRects())Mt===0||Lt===0||At.push(_t(Pt,kt,Mt,Lt))}return At.length===0?null:At}addChangedExistingAnnotation({annotationElementId:$,id:ht}){(wt(this,lm)||Vt(this,lm,new Map)).set($,ht)}removeChangedExistingAnnotation({annotationElementId:$}){var ht;(ht=wt(this,lm))==null||ht.delete($)}renderAnnotationElement($){var xt;const ht=(xt=wt(this,lm))==null?void 0:xt.get($.data.id);if(!ht)return;const vt=wt(this,Ul).getRawValue(ht);vt&&(wt(this,ro)===AnnotationEditorType.NONE&&!vt.hasBeenModified||vt.renderAnnotationElement($))}};Co=new WeakMap,Vs=new WeakMap,no=new WeakMap,am=new WeakMap,Ul=new WeakMap,lm=new WeakMap,zo=new WeakMap,cm=new WeakMap,np=new WeakMap,$a=new WeakMap,zl=new WeakMap,rp=new WeakMap,T0=new WeakMap,P0=new WeakMap,yl=new WeakMap,um=new WeakMap,wu=new WeakMap,xl=new WeakMap,tx=new WeakMap,Au=new WeakMap,k0=new WeakMap,ip=new WeakMap,M0=new WeakMap,dm=new WeakMap,ro=new WeakMap,bs=new WeakMap,Wl=new WeakMap,sp=new WeakMap,F0=new WeakMap,L0=new WeakMap,D0=new WeakMap,I0=new WeakMap,O0=new WeakMap,$0=new WeakMap,N0=new WeakMap,j0=new WeakMap,B0=new WeakMap,H0=new WeakMap,U0=new WeakMap,z0=new WeakMap,W0=new WeakMap,V0=new WeakMap,Su=new WeakMap,El=new WeakMap,Vl=new WeakMap,G0=new WeakMap,wr=new WeakSet,fy=function({anchorNode:$}){return $.nodeType===Node.TEXT_NODE?$.parentElement:$},I1=function(){const $=document.getSelection();if(!$||$.isCollapsed)return;const vt=Ut(this,wr,fy).call(this,$).closest(".textLayer"),xt=this.getSelectionBoxes(vt);xt&&(wt(this,xl)||Vt(this,xl,new HighlightToolbar(this)),wt(this,xl).show(vt,xt,this.direction==="ltr"))},O1=function(){var bt,Et,_t;const $=document.getSelection();if(!$||$.isCollapsed){wt(this,Wl)&&((bt=wt(this,xl))==null||bt.hide(),Vt(this,Wl,null),Ut(this,wr,ho).call(this,{hasSelectedText:!1}));return}const{anchorNode:ht}=$;if(ht===wt(this,Wl))return;if(!Ut(this,wr,fy).call(this,$).closest(".textLayer")){wt(this,Wl)&&((Et=wt(this,xl))==null||Et.hide(),Vt(this,Wl,null),Ut(this,wr,ho).call(this,{hasSelectedText:!1}));return}if((_t=wt(this,xl))==null||_t.hide(),Vt(this,Wl,ht),Ut(this,wr,ho).call(this,{hasSelectedText:!0}),!(wt(this,ro)!==AnnotationEditorType.HIGHLIGHT&&wt(this,ro)!==AnnotationEditorType.NONE)&&(wt(this,ro)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Vt(this,wu,this.isShiftKeyDown),!this.isShiftKeyDown)){const At=Ct=>{Ct.type==="pointerup"&&Ct.button!==0||(window.removeEventListener("pointerup",At),window.removeEventListener("blur",At),Ct.type==="pointerup"&&Ut(this,wr,py).call(this,"main_toolbar"))};window.addEventListener("pointerup",At),window.addEventListener("blur",At)}},py=function($=""){wt(this,ro)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection($):wt(this,T0)&&Ut(this,wr,I1).call(this)},$1=function(){document.addEventListener("selectionchange",wt(this,z0))},N1=function(){document.removeEventListener("selectionchange",wt(this,z0))},j1=function(){window.addEventListener("focus",wt(this,D0)),window.addEventListener("blur",wt(this,L0))},Mx=function(){window.removeEventListener("focus",wt(this,D0)),window.removeEventListener("blur",wt(this,L0))},Fx=function(){window.addEventListener("keydown",wt(this,N0)),window.addEventListener("keyup",wt(this,j0))},Lx=function(){window.removeEventListener("keydown",wt(this,N0)),window.removeEventListener("keyup",wt(this,j0))},Dx=function(){document.addEventListener("copy",wt(this,I0)),document.addEventListener("cut",wt(this,O0)),document.addEventListener("paste",wt(this,$0))},Ix=function(){document.removeEventListener("copy",wt(this,I0)),document.removeEventListener("cut",wt(this,O0)),document.removeEventListener("paste",wt(this,$0))},ho=function($){Object.entries($).some(([vt,xt])=>wt(this,V0)[vt]!==xt)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(wt(this,V0),$)}),wt(this,ro)===AnnotationEditorType.HIGHLIGHT&&$.hasSelectedEditor===!1&&Ut(this,wr,bu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},bu=function($){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$})},B1=function(){if(!wt(this,Au)){Vt(this,Au,!0);for(const $ of wt(this,no).values())$.enable();for(const $ of wt(this,Vs).values())$.enable()}},H1=function(){if(this.unselectAll(),wt(this,Au)){Vt(this,Au,!1);for(const $ of wt(this,no).values())$.disable();for(const $ of wt(this,Vs).values())$.disable()}},Ox=function($){const ht=wt(this,no).get($.pageIndex);ht?ht.addOrRebuild($):(this.addEditor($),this.addToAnnotationStorage($))},U1=function(){let $=null;for($ of wt(this,bs));return $},s0=function(){if(wt(this,Vs).size===0)return!0;if(wt(this,Vs).size===1)for(const $ of wt(this,Vs).values())return $.isEmpty();return!1},$x=function($){for(const ht of wt(this,bs))ht.unselect();wt(this,bs).clear();for(const ht of $)ht.isEmpty()||(wt(this,bs).add(ht),ht.select());Ut(this,wr,ho).call(this,{hasSelectedEditor:this.hasSelection})},Sr(om,"TRANSLATE_SMALL",1),Sr(om,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=om;var Gl,Xl,Wo,Kl,Vo,hm,Yl,X0,Nx;const $l=class $l{constructor($){qt(this,X0);qt(this,Gl,"");qt(this,Xl,!1);qt(this,Wo,null);qt(this,Kl,null);qt(this,Vo,null);qt(this,hm,!1);qt(this,Yl,null);Vt(this,Yl,$)}static initialize($){$l._l10nPromise||($l._l10nPromise=$)}async render(){const $=Vt(this,Wo,document.createElement("button"));$.className="altText";const ht=await $l._l10nPromise.get("pdfjs-editor-alt-text-button-label");$.textContent=ht,$.setAttribute("aria-label",ht),$.tabIndex="0",$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",xt=>xt.stopPropagation());const vt=xt=>{xt.preventDefault(),wt(this,Yl)._uiManager.editAltText(wt(this,Yl))};return $.addEventListener("click",vt,{capture:!0}),$.addEventListener("keydown",xt=>{xt.target===$&&xt.key==="Enter"&&(Vt(this,hm,!0),vt(xt))}),await Ut(this,X0,Nx).call(this),$}finish(){wt(this,Wo)&&(wt(this,Wo).focus({focusVisible:wt(this,hm)}),Vt(this,hm,!1))}isEmpty(){return!wt(this,Gl)&&!wt(this,Xl)}get data(){return{altText:wt(this,Gl),decorative:wt(this,Xl)}}set data({altText:$,decorative:ht}){wt(this,Gl)===$&&wt(this,Xl)===ht||(Vt(this,Gl,$),Vt(this,Xl,ht),Ut(this,X0,Nx).call(this))}toggle($=!1){wt(this,Wo)&&(!$&&wt(this,Vo)&&(clearTimeout(wt(this,Vo)),Vt(this,Vo,null)),wt(this,Wo).disabled=!$)}destroy(){var $;($=wt(this,Wo))==null||$.remove(),Vt(this,Wo,null),Vt(this,Kl,null)}};Gl=new WeakMap,Xl=new WeakMap,Wo=new WeakMap,Kl=new WeakMap,Vo=new WeakMap,hm=new WeakMap,Yl=new WeakMap,X0=new WeakSet,Nx=async function(){var xt;const $=wt(this,Wo);if(!$)return;if(!wt(this,Gl)&&!wt(this,Xl)){$.classList.remove("done"),(xt=wt(this,Kl))==null||xt.remove();return}$.classList.add("done"),$l._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(bt=>{$.setAttribute("aria-label",bt)});let ht=wt(this,Kl);if(!ht){Vt(this,Kl,ht=document.createElement("span")),ht.className="tooltip",ht.setAttribute("role","tooltip");const bt=ht.id=`alt-text-tooltip-${wt(this,Yl).id}`;$.setAttribute("aria-describedby",bt);const Et=100;$.addEventListener("mouseenter",()=>{Vt(this,Vo,setTimeout(()=>{Vt(this,Vo,null),wt(this,Kl).classList.add("show"),wt(this,Yl)._reportTelemetry({action:"alt_text_tooltip"})},Et))}),$.addEventListener("mouseleave",()=>{var _t;wt(this,Vo)&&(clearTimeout(wt(this,Vo)),Vt(this,Vo,null)),(_t=wt(this,Kl))==null||_t.classList.remove("show")})}ht.innerText=wt(this,Xl)?await $l._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):wt(this,Gl),ht.parentNode||$.append(ht);const vt=wt(this,Yl).getImageForAltText();vt==null||vt.setAttribute("aria-describedby",ht.id)},Sr($l,"_l10nPromise",null);let AltText=$l;var Go,fo,fm,op,io,ap,pm,gm,uo,q0,lp,Cu,K0,cp,Zl,_l,mm,vm,Io,Y0,nx,ss,jx,Z0,Bx,Hx,z1,W1,Ux,zx,Wx,V1,G1,X1,q1,Vx,o0;const Rs=class Rs{constructor($){qt(this,ss);qt(this,Go,null);qt(this,fo,null);qt(this,fm,!1);qt(this,op,!1);qt(this,io,null);qt(this,ap,null);qt(this,pm,this.focusin.bind(this));qt(this,gm,this.focusout.bind(this));qt(this,uo,null);qt(this,q0,"");qt(this,lp,!1);qt(this,Cu,null);qt(this,K0,!1);qt(this,cp,!1);qt(this,Zl,!1);qt(this,_l,null);qt(this,mm,0);qt(this,vm,0);qt(this,Io,null);Sr(this,"_initialOptions",Object.create(null));Sr(this,"_isVisible",!0);Sr(this,"_uiManager",null);Sr(this,"_focusEventsAllowed",!0);Sr(this,"_l10nPromise",null);qt(this,Y0,!1);qt(this,nx,Rs._zIndex++);this.constructor===Rs&&unreachable("Cannot initialize AnnotationEditor."),this.parent=$.parent,this.id=$.id,this.width=this.height=null,this.pageIndex=$.parent.pageIndex,this.name=$.name,this.div=null,this._uiManager=$.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=$.isCentered,this._structTreeParentId=null;const{rotation:ht,rawDims:{pageWidth:vt,pageHeight:xt,pageX:bt,pageY:Et}}=this.parent.viewport;this.rotation=ht,this.pageRotation=(360+ht-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[vt,xt],this.pageTranslation=[bt,Et];const[_t,At]=this.parentDimensions;this.x=$.x/_t,this.y=$.y/At,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const $=Rs.prototype._resizeWithKeyboard,ht=AnnotationEditorUIManager.TRANSLATE_SMALL,vt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],$,{args:[-ht,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$,{args:[-vt,0]}],[["ArrowRight","mac+ArrowRight"],$,{args:[ht,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$,{args:[vt,0]}],[["ArrowUp","mac+ArrowUp"],$,{args:[0,-ht]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$,{args:[0,-vt]}],[["ArrowDown","mac+ArrowDown"],$,{args:[0,ht]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$,{args:[0,vt]}],[["Escape","mac+Escape"],Rs.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement($){const ht=new FakeEditor({id:$.parent.getNextId(),parent:$.parent,uiManager:$._uiManager});ht.annotationElementId=$.annotationElementId,ht.deleted=!0,ht._uiManager.addToAnnotationStorage(ht)}static initialize($,ht,vt){if(Rs._l10nPromise||(Rs._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(bt=>[bt,$.get(bt.replaceAll(/([A-Z])/g,Et=>`-${Et.toLowerCase()}`))]))),vt!=null&&vt.strings)for(const bt of vt.strings)Rs._l10nPromise.set(bt,$.get(bt));if(Rs._borderLineWidth!==-1)return;const xt=getComputedStyle(document.documentElement);Rs._borderLineWidth=parseFloat(xt.getPropertyValue("--outline-width"))||0}static updateDefaultParams($,ht){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting($){return!1}static paste($,ht){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return wt(this,Y0)}set _isDraggable($){var ht;Vt(this,Y0,$),(ht=this.div)==null||ht.classList.toggle("draggable",$)}get isEnterHandled(){return!0}center(){const[$,ht]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*ht/($*2),this.y+=this.width*$/(ht*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*ht/($*2),this.y-=this.width*$/(ht*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands($){this._uiManager.addCommands($)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=wt(this,nx)}setParent($){$!==null?(this.pageIndex=$.pageIndex,this.pageDimensions=$.pageDimensions):Ut(this,ss,o0).call(this),this.parent=$}focusin($){this._focusEventsAllowed&&(wt(this,lp)?Vt(this,lp,!1):this.parent.setSelected(this))}focusout($){var vt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const ht=$.relatedTarget;ht!=null&&ht.closest(`#${this.id}`)||($.preventDefault(),(vt=this.parent)!=null&&vt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt($,ht,vt,xt){const[bt,Et]=this.parentDimensions;[vt,xt]=this.screenToPageTranslation(vt,xt),this.x=($+vt)/bt,this.y=(ht+xt)/Et,this.fixAndSetPosition()}translate($,ht){Ut(this,ss,jx).call(this,this.parentDimensions,$,ht)}translateInPage($,ht){wt(this,Cu)||Vt(this,Cu,[this.x,this.y]),Ut(this,ss,jx).call(this,this.pageDimensions,$,ht),this.div.scrollIntoView({block:"nearest"})}drag($,ht){wt(this,Cu)||Vt(this,Cu,[this.x,this.y]);const[vt,xt]=this.parentDimensions;if(this.x+=$/vt,this.y+=ht/xt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Ct,y:St}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Ct,St)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:bt,y:Et}=this;const[_t,At]=this.getBaseTranslation();bt+=_t,Et+=At,this.div.style.left=`${(100*bt).toFixed(2)}%`,this.div.style.top=`${(100*Et).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!wt(this,Cu)&&(wt(this,Cu)[0]!==this.x||wt(this,Cu)[1]!==this.y)}getBaseTranslation(){const[$,ht]=this.parentDimensions,{_borderLineWidth:vt}=Rs,xt=vt/$,bt=vt/ht;switch(this.rotation){case 90:return[-xt,bt];case 180:return[xt,bt];case 270:return[xt,-bt];default:return[-xt,-bt]}}get _mustFixPosition(){return!0}fixAndSetPosition($=this.rotation){const[ht,vt]=this.pageDimensions;let{x:xt,y:bt,width:Et,height:_t}=this;if(Et*=ht,_t*=vt,xt*=ht,bt*=vt,this._mustFixPosition)switch($){case 0:xt=Math.max(0,Math.min(ht-Et,xt)),bt=Math.max(0,Math.min(vt-_t,bt));break;case 90:xt=Math.max(0,Math.min(ht-_t,xt)),bt=Math.min(vt,Math.max(Et,bt));break;case 180:xt=Math.min(ht,Math.max(Et,xt)),bt=Math.min(vt,Math.max(_t,bt));break;case 270:xt=Math.min(ht,Math.max(_t,xt)),bt=Math.max(0,Math.min(vt-Et,bt));break}this.x=xt/=ht,this.y=bt/=vt;const[At,Ct]=this.getBaseTranslation();xt+=At,bt+=Ct;const{style:St}=this.div;St.left=`${(100*xt).toFixed(2)}%`,St.top=`${(100*bt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation($,ht){var vt;return Ut(vt=Rs,Z0,Bx).call(vt,$,ht,this.parentRotation)}pageTranslationToScreen($,ht){var vt;return Ut(vt=Rs,Z0,Bx).call(vt,$,ht,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:$,pageDimensions:[ht,vt]}=this,xt=ht*$,bt=vt*$;return util_FeatureTest.isCSSRoundSupported?[Math.round(xt),Math.round(bt)]:[xt,bt]}setDims($,ht){const[vt,xt]=this.parentDimensions;this.div.style.width=`${(100*$/vt).toFixed(2)}%`,wt(this,op)||(this.div.style.height=`${(100*ht/xt).toFixed(2)}%`)}fixDims(){const{style:$}=this.div,{height:ht,width:vt}=$,xt=vt.endsWith("%"),bt=!wt(this,op)&&ht.endsWith("%");if(xt&&bt)return;const[Et,_t]=this.parentDimensions;xt||($.width=`${(100*parseFloat(vt)/Et).toFixed(2)}%`),!wt(this,op)&&!bt&&($.height=`${(100*parseFloat(ht)/_t).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var $;($=wt(this,fo))==null||$.finish()}async addEditToolbar(){return wt(this,uo)||wt(this,cp)?wt(this,uo):(Vt(this,uo,new EditorToolbar(this)),this.div.append(wt(this,uo).render()),wt(this,fo)&&wt(this,uo).addAltTextButton(await wt(this,fo).render()),wt(this,uo))}removeEditToolbar(){var $;wt(this,uo)&&(wt(this,uo).remove(),Vt(this,uo,null),($=wt(this,fo))==null||$.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){wt(this,fo)||(AltText.initialize(Rs._l10nPromise),Vt(this,fo,new AltText(this)),await this.addEditToolbar())}get altTextData(){var $;return($=wt(this,fo))==null?void 0:$.data}set altTextData($){wt(this,fo)&&(wt(this,fo).data=$)}hasAltText(){var $;return!(($=wt(this,fo))!=null&&$.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=wt(this,fm)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",wt(this,pm)),this.div.addEventListener("focusout",wt(this,gm));const[$,ht]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*ht/$).toFixed(2)}%`,this.div.style.maxHeight=`${(100*$/ht).toFixed(2)}%`);const[vt,xt]=this.getInitialTranslation();return this.translate(vt,xt),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown($){const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht){$.preventDefault();return}if(Vt(this,lp,!0),this._isDraggable){Ut(this,ss,V1).call(this,$);return}Ut(this,ss,Wx).call(this,$)}moveInDOM(){wt(this,_l)&&clearTimeout(wt(this,_l)),Vt(this,_l,setTimeout(()=>{var $;Vt(this,_l,null),($=this.parent)==null||$.moveEditorInDOM(this)},0))}_setParentAndPosition($,ht,vt){$.changeParent(this),this.x=ht,this.y=vt,this.fixAndSetPosition()}getRect($,ht,vt=this.rotation){const xt=this.parentScale,[bt,Et]=this.pageDimensions,[_t,At]=this.pageTranslation,Ct=$/xt,St=ht/xt,Rt=this.x*bt,Pt=this.y*Et,kt=this.width*bt,Mt=this.height*Et;switch(vt){case 0:return[Rt+Ct+_t,Et-Pt-St-Mt+At,Rt+Ct+kt+_t,Et-Pt-St+At];case 90:return[Rt+St+_t,Et-Pt+Ct+At,Rt+St+Mt+_t,Et-Pt+Ct+kt+At];case 180:return[Rt-Ct-kt+_t,Et-Pt+St+At,Rt-Ct+_t,Et-Pt+St+Mt+At];case 270:return[Rt-St-Mt+_t,Et-Pt-Ct-kt+At,Rt-St+_t,Et-Pt-Ct+At];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords($,ht){const[vt,xt,bt,Et]=$,_t=bt-vt,At=Et-xt;switch(this.rotation){case 0:return[vt,ht-Et,_t,At];case 90:return[vt,ht-xt,At,_t];case 180:return[bt,ht-xt,_t,At];case 270:return[bt,ht-Et,At,_t];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Vt(this,cp,!0)}disableEditMode(){Vt(this,cp,!1)}isInEditMode(){return wt(this,cp)}shouldGetKeyboardEvents(){return wt(this,Zl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var $,ht;($=this.div)==null||$.addEventListener("focusin",wt(this,pm)),(ht=this.div)==null||ht.addEventListener("focusout",wt(this,gm))}rotate($){}serialize($=!1,ht=null){unreachable("An editor must be serializable")}static deserialize($,ht,vt){const xt=new this.prototype.constructor({parent:ht,id:ht.getNextId(),uiManager:vt});xt.rotation=$.rotation;const[bt,Et]=xt.pageDimensions,[_t,At,Ct,St]=xt.getRectInCurrentCoords($.rect,Et);return xt.x=_t/bt,xt.y=At/Et,xt.width=Ct/bt,xt.height=St/Et,xt}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",wt(this,pm)),this.div.removeEventListener("focusout",wt(this,gm)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),wt(this,_l)&&(clearTimeout(wt(this,_l)),Vt(this,_l,null)),Ut(this,ss,o0).call(this),this.removeEditToolbar(),wt(this,Io)){for(const $ of wt(this,Io).values())clearTimeout($);Vt(this,Io,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ut(this,ss,z1).call(this),wt(this,io).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown($){if(!this.isResizable||$.target!==this.div||$.key!=="Enter")return;this._uiManager.setSelected(this),Vt(this,ap,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const ht=wt(this,io).children;if(!wt(this,Go)){Vt(this,Go,Array.from(ht));const Et=Ut(this,ss,G1).bind(this),_t=Ut(this,ss,X1).bind(this);for(const At of wt(this,Go)){const Ct=At.getAttribute("data-resizer-name");At.setAttribute("role","spinbutton"),At.addEventListener("keydown",Et),At.addEventListener("blur",_t),At.addEventListener("focus",Ut(this,ss,q1).bind(this,Ct)),Rs._l10nPromise.get(`pdfjs-editor-resizer-label-${Ct}`).then(St=>At.setAttribute("aria-label",St))}}const vt=wt(this,Go)[0];let xt=0;for(const Et of ht){if(Et===vt)break;xt++}const bt=(360-this.rotation+this.parentRotation)%360/90*(wt(this,Go).length/4);if(bt!==xt){if(bt<xt)for(let _t=0;_t<xt-bt;_t++)wt(this,io).append(wt(this,io).firstChild);else if(bt>xt)for(let _t=0;_t<bt-xt;_t++)wt(this,io).firstChild.before(wt(this,io).lastChild);let Et=0;for(const _t of ht){const Ct=wt(this,Go)[Et++].getAttribute("data-resizer-name");Rs._l10nPromise.get(`pdfjs-editor-resizer-label-${Ct}`).then(St=>_t.setAttribute("aria-label",St))}}Ut(this,ss,Vx).call(this,0),Vt(this,Zl,!0),wt(this,io).firstChild.focus({focusVisible:!0}),$.preventDefault(),$.stopImmediatePropagation()}_resizeWithKeyboard($,ht){wt(this,Zl)&&Ut(this,ss,zx).call(this,wt(this,q0),{movementX:$,movementY:ht})}_stopResizingWithKeyboard(){Ut(this,ss,o0).call(this),this.div.focus()}select(){var $,ht;if(this.makeResizable(),($=this.div)==null||$.classList.add("selectedEditor"),!wt(this,uo)){this.addEditToolbar().then(()=>{var vt,xt;(vt=this.div)!=null&&vt.classList.contains("selectedEditor")&&((xt=wt(this,uo))==null||xt.show())});return}(ht=wt(this,uo))==null||ht.show()}unselect(){var $,ht,vt,xt;($=wt(this,io))==null||$.classList.add("hidden"),(ht=this.div)==null||ht.classList.remove("selectedEditor"),(vt=this.div)!=null&&vt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(xt=wt(this,uo))==null||xt.hide()}updateParams($,ht){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return wt(this,K0)}set isEditing($){Vt(this,K0,$),this.parent&&($?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio($,ht){Vt(this,op,!0);const vt=$/ht,{style:xt}=this.div;xt.aspectRatio=vt,xt.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry($,ht=!1){if(ht){wt(this,Io)||Vt(this,Io,new Map);const{action:vt}=$;let xt=wt(this,Io).get(vt);xt&&clearTimeout(xt),xt=setTimeout(()=>{this._reportTelemetry($),wt(this,Io).delete(vt),wt(this,Io).size===0&&Vt(this,Io,null)},Rs._telemetryTimeout),wt(this,Io).set(vt,xt);return}$.type||($.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:$}})}show($=this._isVisible){this.div.classList.toggle("hidden",!$),this._isVisible=$}enable(){this.div&&(this.div.tabIndex=0),Vt(this,fm,!1)}disable(){this.div&&(this.div.tabIndex=-1),Vt(this,fm,!0)}renderAnnotationElement($){let ht=$.container.querySelector(".annotationContent");if(!ht)ht=document.createElement("div"),ht.classList.add("annotationContent",this.editorType),$.container.prepend(ht);else if(ht.nodeName==="CANVAS"){const vt=ht;ht=document.createElement("div"),ht.classList.add("annotationContent",this.editorType),vt.before(ht)}return ht}resetAnnotationElement($){const{firstChild:ht}=$.container;ht.nodeName==="DIV"&&ht.classList.contains("annotationContent")&&ht.remove()}};Go=new WeakMap,fo=new WeakMap,fm=new WeakMap,op=new WeakMap,io=new WeakMap,ap=new WeakMap,pm=new WeakMap,gm=new WeakMap,uo=new WeakMap,q0=new WeakMap,lp=new WeakMap,Cu=new WeakMap,K0=new WeakMap,cp=new WeakMap,Zl=new WeakMap,_l=new WeakMap,mm=new WeakMap,vm=new WeakMap,Io=new WeakMap,Y0=new WeakMap,nx=new WeakMap,ss=new WeakSet,jx=function([$,ht],vt,xt){[vt,xt]=this.screenToPageTranslation(vt,xt),this.x+=vt/$,this.y+=xt/ht,this.fixAndSetPosition()},Z0=new WeakSet,Bx=function($,ht,vt){switch(vt){case 90:return[ht,-$];case 180:return[-$,-ht];case 270:return[-ht,$];default:return[$,ht]}},Hx=function($){switch($){case 90:{const[ht,vt]=this.pageDimensions;return[0,-ht/vt,vt/ht,0]}case 180:return[-1,0,0,-1];case 270:{const[ht,vt]=this.pageDimensions;return[0,ht/vt,-vt/ht,0]}default:return[1,0,0,1]}},z1=function(){if(wt(this,io))return;Vt(this,io,document.createElement("div")),wt(this,io).classList.add("resizers");const $=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const ht of $){const vt=document.createElement("div");wt(this,io).append(vt),vt.classList.add("resizer",ht),vt.setAttribute("data-resizer-name",ht),vt.addEventListener("pointerdown",Ut(this,ss,W1).bind(this,ht)),vt.addEventListener("contextmenu",noContextMenu),vt.tabIndex=-1}this.div.prepend(wt(this,io))},W1=function($,ht){var Mt;ht.preventDefault();const{isMac:vt}=util_FeatureTest.platform;if(ht.button!==0||ht.ctrlKey&&vt)return;(Mt=wt(this,fo))==null||Mt.toggle(!1);const xt=Ut(this,ss,zx).bind(this,$),bt=this._isDraggable;this._isDraggable=!1;const Et={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",xt,Et),window.addEventListener("contextmenu",noContextMenu);const _t=this.x,At=this.y,Ct=this.width,St=this.height,Rt=this.parent.div.style.cursor,Pt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(ht.target).cursor;const kt=()=>{var Lt;this.parent.togglePointerEvents(!0),(Lt=wt(this,fo))==null||Lt.toggle(!0),this._isDraggable=bt,window.removeEventListener("pointerup",kt),window.removeEventListener("blur",kt),window.removeEventListener("pointermove",xt,Et),window.removeEventListener("contextmenu",noContextMenu),this.parent.div.style.cursor=Rt,this.div.style.cursor=Pt,Ut(this,ss,Ux).call(this,_t,At,Ct,St)};window.addEventListener("pointerup",kt),window.addEventListener("blur",kt)},Ux=function($,ht,vt,xt){const bt=this.x,Et=this.y,_t=this.width,At=this.height;bt===$&&Et===ht&&_t===vt&&At===xt||this.addCommands({cmd:()=>{this.width=_t,this.height=At,this.x=bt,this.y=Et;const[Ct,St]=this.parentDimensions;this.setDims(Ct*_t,St*At),this.fixAndSetPosition()},undo:()=>{this.width=vt,this.height=xt,this.x=$,this.y=ht;const[Ct,St]=this.parentDimensions;this.setDims(Ct*vt,St*xt),this.fixAndSetPosition()},mustExec:!0})},zx=function($,ht){const[vt,xt]=this.parentDimensions,bt=this.x,Et=this.y,_t=this.width,At=this.height,Ct=Rs.MIN_SIZE/vt,St=Rs.MIN_SIZE/xt,Rt=an=>Math.round(an*1e4)/1e4,Pt=Ut(this,ss,Hx).call(this,this.rotation),kt=(an,hn)=>[Pt[0]*an+Pt[2]*hn,Pt[1]*an+Pt[3]*hn],Mt=Ut(this,ss,Hx).call(this,360-this.rotation),Lt=(an,hn)=>[Mt[0]*an+Mt[2]*hn,Mt[1]*an+Mt[3]*hn];let Ot,Ft,Dt=!1,$t=!1;switch($){case"topLeft":Dt=!0,Ot=(an,hn)=>[0,0],Ft=(an,hn)=>[an,hn];break;case"topMiddle":Ot=(an,hn)=>[an/2,0],Ft=(an,hn)=>[an/2,hn];break;case"topRight":Dt=!0,Ot=(an,hn)=>[an,0],Ft=(an,hn)=>[0,hn];break;case"middleRight":$t=!0,Ot=(an,hn)=>[an,hn/2],Ft=(an,hn)=>[0,hn/2];break;case"bottomRight":Dt=!0,Ot=(an,hn)=>[an,hn],Ft=(an,hn)=>[0,0];break;case"bottomMiddle":Ot=(an,hn)=>[an/2,hn],Ft=(an,hn)=>[an/2,0];break;case"bottomLeft":Dt=!0,Ot=(an,hn)=>[0,hn],Ft=(an,hn)=>[an,0];break;case"middleLeft":$t=!0,Ot=(an,hn)=>[0,hn/2],Ft=(an,hn)=>[an,hn/2];break}const Bt=Ot(_t,At),Nt=Ft(_t,At);let Ht=kt(...Nt);const jt=Rt(bt+Ht[0]),zt=Rt(Et+Ht[1]);let Kt=1,en=1,[Wt,Qt]=this.screenToPageTranslation(ht.movementX,ht.movementY);if([Wt,Qt]=Lt(Wt/vt,Qt/xt),Dt){const an=Math.hypot(_t,At);Kt=en=Math.max(Math.min(Math.hypot(Nt[0]-Bt[0]-Wt,Nt[1]-Bt[1]-Qt)/an,1/_t,1/At),Ct/_t,St/At)}else $t?Kt=Math.max(Ct,Math.min(1,Math.abs(Nt[0]-Bt[0]-Wt)))/_t:en=Math.max(St,Math.min(1,Math.abs(Nt[1]-Bt[1]-Qt)))/At;const on=Rt(_t*Kt),En=Rt(At*en);Ht=kt(...Ft(on,En));const un=jt-Ht[0],xn=zt-Ht[1];this.width=on,this.height=En,this.x=un,this.y=xn,this.setDims(vt*on,xt*En),this.fixAndSetPosition()},Wx=function($){const{isMac:ht}=util_FeatureTest.platform;$.ctrlKey&&!ht||$.shiftKey||$.metaKey&&ht?this.parent.toggleSelected(this):this.parent.setSelected(this)},V1=function($){const ht=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let vt,xt;ht&&(this.div.classList.add("moving"),vt={passive:!0,capture:!0},Vt(this,mm,$.clientX),Vt(this,vm,$.clientY),xt=Et=>{const{clientX:_t,clientY:At}=Et,[Ct,St]=this.screenToPageTranslation(_t-wt(this,mm),At-wt(this,vm));Vt(this,mm,_t),Vt(this,vm,At),this._uiManager.dragSelectedEditors(Ct,St)},window.addEventListener("pointermove",xt,vt));const bt=()=>{window.removeEventListener("pointerup",bt),window.removeEventListener("blur",bt),ht&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",xt,vt)),Vt(this,lp,!1),this._uiManager.endDragSession()||Ut(this,ss,Wx).call(this,$)};window.addEventListener("pointerup",bt),window.addEventListener("blur",bt)},G1=function($){Rs._resizerKeyboardManager.exec(this,$)},X1=function($){var ht;wt(this,Zl)&&((ht=$.relatedTarget)==null?void 0:ht.parentNode)!==wt(this,io)&&Ut(this,ss,o0).call(this)},q1=function($){Vt(this,q0,wt(this,Zl)?$:"")},Vx=function($){if(wt(this,Go))for(const ht of wt(this,Go))ht.tabIndex=$},o0=function(){if(Vt(this,Zl,!1),Ut(this,ss,Vx).call(this,-1),wt(this,ap)){const{savedX:$,savedY:ht,savedWidth:vt,savedHeight:xt}=wt(this,ap);Ut(this,ss,Ux).call(this,$,ht,vt,xt),Vt(this,ap,null)}},qt(Rs,Z0),Sr(Rs,"_borderLineWidth",-1),Sr(Rs,"_colorManager",new ColorManager),Sr(Rs,"_zIndex",1),Sr(Rs,"_telemetryTimeout",1e3);let AnnotationEditor=Rs;class FakeEditor extends AnnotationEditor{constructor($){super($),this.annotationElementId=$.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor($){this.h1=$?$&4294967295:SEED,this.h2=$?$&4294967295:SEED}update($){let ht,vt;if(typeof $=="string"){ht=new Uint8Array($.length*2),vt=0;for(let Lt=0,Ot=$.length;Lt<Ot;Lt++){const Ft=$.charCodeAt(Lt);Ft<=255?ht[vt++]=Ft:(ht[vt++]=Ft>>>8,ht[vt++]=Ft&255)}}else if(ArrayBuffer.isView($))ht=$.slice(),vt=ht.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const xt=vt>>2,bt=vt-xt*4,Et=new Uint32Array(ht.buffer,0,xt);let _t=0,At=0,Ct=this.h1,St=this.h2;const Rt=3432918353,Pt=461845907,kt=Rt&MASK_LOW,Mt=Pt&MASK_LOW;for(let Lt=0;Lt<xt;Lt++)Lt&1?(_t=Et[Lt],_t=_t*Rt&MASK_HIGH|_t*kt&MASK_LOW,_t=_t<<15|_t>>>17,_t=_t*Pt&MASK_HIGH|_t*Mt&MASK_LOW,Ct^=_t,Ct=Ct<<13|Ct>>>19,Ct=Ct*5+3864292196):(At=Et[Lt],At=At*Rt&MASK_HIGH|At*kt&MASK_LOW,At=At<<15|At>>>17,At=At*Pt&MASK_HIGH|At*Mt&MASK_LOW,St^=At,St=St<<13|St>>>19,St=St*5+3864292196);switch(_t=0,bt){case 3:_t^=ht[xt*4+2]<<16;case 2:_t^=ht[xt*4+1]<<8;case 1:_t^=ht[xt*4],_t=_t*Rt&MASK_HIGH|_t*kt&MASK_LOW,_t=_t<<15|_t>>>17,_t=_t*Pt&MASK_HIGH|_t*Mt&MASK_LOW,xt&1?Ct^=_t:St^=_t}this.h1=Ct,this.h2=St}hexdigest(){let $=this.h1,ht=this.h2;return $^=ht>>>1,$=$*3981806797&MASK_HIGH|$*36045&MASK_LOW,ht=ht*4283543511&MASK_HIGH|((ht<<16|$>>>16)*2950163797&MASK_HIGH)>>>16,$^=ht>>>1,$=$*444984403&MASK_HIGH|$*60499&MASK_LOW,ht=ht*3301882366&MASK_HIGH|((ht<<16|$>>>16)*3120437893&MASK_HIGH)>>>16,$^=ht>>>1,($>>>0).toString(16).padStart(8,"0")+(ht>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var up,so,rx,K1;class AnnotationStorage{constructor(){qt(this,rx);qt(this,up,!1);qt(this,so,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue($,ht){const vt=wt(this,so).get($);return vt===void 0?ht:Object.assign(ht,vt)}getRawValue($){return wt(this,so).get($)}remove($){if(wt(this,so).delete($),wt(this,so).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ht of wt(this,so).values())if(ht instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue($,ht){const vt=wt(this,so).get($);let xt=!1;if(vt!==void 0)for(const[bt,Et]of Object.entries(ht))vt[bt]!==Et&&(xt=!0,vt[bt]=Et);else xt=!0,wt(this,so).set($,ht);xt&&Ut(this,rx,K1).call(this),ht instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ht.constructor._type)}has($){return wt(this,so).has($)}getAll(){return wt(this,so).size>0?objectFromMap(wt(this,so)):null}setAll($){for(const[ht,vt]of Object.entries($))this.setValue(ht,vt)}get size(){return wt(this,so).size}resetModified(){wt(this,up)&&(Vt(this,up,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(wt(this,so).size===0)return SerializableEmpty;const $=new Map,ht=new MurmurHash3_64,vt=[],xt=Object.create(null);let bt=!1;for(const[Et,_t]of wt(this,so)){const At=_t instanceof AnnotationEditor?_t.serialize(!1,xt):_t;At&&($.set(Et,At),ht.update(`${Et}:${JSON.stringify(At)}`),bt||(bt=!!At.bitmap))}if(bt)for(const Et of $.values())Et.bitmap&&vt.push(Et.bitmap);return $.size>0?{map:$,hash:ht.hexdigest(),transfer:vt}:SerializableEmpty}get editorStats(){let $=null;const ht=new Map;for(const vt of wt(this,so).values()){if(!(vt instanceof AnnotationEditor))continue;const xt=vt.telemetryFinalData;if(!xt)continue;const{type:bt}=xt;ht.has(bt)||ht.set(bt,Object.getPrototypeOf(vt).constructor),$||($=Object.create(null));const Et=$[bt]||($[bt]=new Map);for(const[_t,At]of Object.entries(xt)){if(_t==="type")continue;let Ct=Et.get(_t);Ct||(Ct=new Map,Et.set(_t,Ct));const St=Ct.get(At)??0;Ct.set(At,St+1)}}for(const[vt,xt]of ht)$[vt]=xt.computeTelemetryFinalData($[vt]);return $}}up=new WeakMap,so=new WeakMap,rx=new WeakSet,K1=function(){wt(this,up)||(Vt(this,up,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Q0;class PrintAnnotationStorage extends AnnotationStorage{constructor(ht){super();qt(this,Q0);const{map:vt,hash:xt,transfer:bt}=ht.serializable,Et=structuredClone(vt,bt?{transfer:bt}:null);Vt(this,Q0,{map:Et,hash:xt,transfer:bt})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return wt(this,Q0)}}Q0=new WeakMap;var ym;class FontLoader{constructor({ownerDocument:$=globalThis.document,styleElement:ht=null}){qt(this,ym,new Set);this._document=$,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace($){this.nativeFontFaces.add($),this._document.fonts.add($)}removeNativeFontFace($){this.nativeFontFaces.delete($),this._document.fonts.delete($)}insertRule($){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ht=this.styleElement.sheet;ht.insertRule($,ht.cssRules.length)}clear(){for(const $ of this.nativeFontFaces)this._document.fonts.delete($);this.nativeFontFaces.clear(),wt(this,ym).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:$,_inspectFont:ht}){if(!(!$||wt(this,ym).has($.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:vt,src:xt,style:bt}=$,Et=new FontFace(vt,xt,bt);this.addNativeFontFace(Et);try{await Et.load(),wt(this,ym).add(vt),ht==null||ht($)}catch{warn(`Cannot load system font: ${$.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Et)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind($){if($.attached||$.missingFile&&!$.systemFontInfo)return;if($.attached=!0,$.systemFontInfo){await this.loadSystemFont($);return}if(this.isFontLoadingAPISupported){const vt=$.createNativeFontFace();if(vt){this.addNativeFontFace(vt);try{await vt.loaded}catch(xt){throw warn(`Failed to load font '${vt.family}': '${xt}'.`),$.disableFontFace=!0,xt}}return}const ht=$.createFontFaceRule();if(ht){if(this.insertRule(ht),this.isSyncFontLoadingSupported)return;await new Promise(vt=>{const xt=this._queueLoadingCallback(vt);this._prepareFontLoadEvent($,xt)})}}get isFontLoadingAPISupported(){var ht;const $=!!((ht=this._document)!=null&&ht.fonts);return shadow(this,"isFontLoadingAPISupported",$)}get isSyncFontLoadingSupported(){let $=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&($=!0),shadow(this,"isSyncFontLoadingSupported",$)}_queueLoadingCallback($){function ht(){for(assert(!xt.done,"completeRequest() cannot be called twice."),xt.done=!0;vt.length>0&&vt[0].done;){const bt=vt.shift();setTimeout(bt.callback,0)}}const{loadingRequests:vt}=this,xt={done:!1,complete:ht,callback:$};return vt.push(xt),xt}get _loadTestFont(){const $=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",$)}_prepareFontLoadEvent($,ht){function vt(Bt,Nt){return Bt.charCodeAt(Nt)<<24|Bt.charCodeAt(Nt+1)<<16|Bt.charCodeAt(Nt+2)<<8|Bt.charCodeAt(Nt+3)&255}function xt(Bt,Nt,Ht,jt){const zt=Bt.substring(0,Nt),Kt=Bt.substring(Nt+Ht);return zt+jt+Kt}let bt,Et;const _t=this._document.createElement("canvas");_t.width=1,_t.height=1;const At=_t.getContext("2d");let Ct=0;function St(Bt,Nt){if(++Ct>30){warn("Load test font never loaded."),Nt();return}if(At.font="30px "+Bt,At.fillText(".",0,20),At.getImageData(0,0,1,1).data[3]>0){Nt();return}setTimeout(St.bind(null,Bt,Nt))}const Rt=`lt${Date.now()}${this.loadTestFontId++}`;let Pt=this._loadTestFont;Pt=xt(Pt,976,Rt.length,Rt);const Mt=16,Lt=1482184792;let Ot=vt(Pt,Mt);for(bt=0,Et=Rt.length-3;bt<Et;bt+=4)Ot=Ot-Lt+vt(Rt,bt)|0;bt<Rt.length&&(Ot=Ot-Lt+vt(Rt+"XXX",bt)|0),Pt=xt(Pt,Mt,4,string32(Ot));const Ft=`url(data:font/opentype;base64,${btoa(Pt)});`,Dt=`@font-face {font-family:"${Rt}";src:${Ft}}`;this.insertRule(Dt);const $t=this._document.createElement("div");$t.style.visibility="hidden",$t.style.width=$t.style.height="10px",$t.style.position="absolute",$t.style.top=$t.style.left="0px";for(const Bt of[$.loadedName,Rt]){const Nt=this._document.createElement("span");Nt.textContent="Hi",Nt.style.fontFamily=Bt,$t.append(Nt)}this._document.body.append($t),St(Rt,()=>{$t.remove(),ht.complete()})}}ym=new WeakMap;class FontFaceObject{constructor($,{disableFontFace:ht=!1,inspectFont:vt=null}){this.compiledGlyphs=Object.create(null);for(const xt in $)this[xt]=$[xt];this.disableFontFace=ht===!0,this._inspectFont=vt}createNativeFontFace(){var ht;if(!this.data||this.disableFontFace)return null;let $;if(!this.cssFontInfo)$=new FontFace(this.loadedName,this.data,{});else{const vt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(vt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),$=new FontFace(this.cssFontInfo.fontFamily,this.data,vt)}return(ht=this._inspectFont)==null||ht.call(this,this),$}createFontFaceRule(){var xt;if(!this.data||this.disableFontFace)return null;const $=bytesToString(this.data),ht=`url(data:${this.mimetype};base64,${btoa($)});`;let vt;if(!this.cssFontInfo)vt=`@font-face {font-family:"${this.loadedName}";src:${ht}}`;else{let bt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(bt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),vt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${bt}src:${ht}}`}return(xt=this._inspectFont)==null||xt.call(this,this,ht),vt}getPathGenerator($,ht){if(this.compiledGlyphs[ht]!==void 0)return this.compiledGlyphs[ht];let vt;try{vt=$.get(this.loadedName+"_path_"+ht)}catch(bt){warn(`getPathGenerator - ignoring character: "${bt}".`)}if(!Array.isArray(vt)||vt.length===0)return this.compiledGlyphs[ht]=function(bt,Et){};const xt=[];for(let bt=0,Et=vt.length;bt<Et;)switch(vt[bt++]){case FontRenderOps.BEZIER_CURVE_TO:{const[_t,At,Ct,St,Rt,Pt]=vt.slice(bt,bt+6);xt.push(kt=>kt.bezierCurveTo(_t,At,Ct,St,Rt,Pt)),bt+=6}break;case FontRenderOps.MOVE_TO:{const[_t,At]=vt.slice(bt,bt+2);xt.push(Ct=>Ct.moveTo(_t,At)),bt+=2}break;case FontRenderOps.LINE_TO:{const[_t,At]=vt.slice(bt,bt+2);xt.push(Ct=>Ct.lineTo(_t,At)),bt+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[_t,At,Ct,St]=vt.slice(bt,bt+4);xt.push(Rt=>Rt.quadraticCurveTo(_t,At,Ct,St)),bt+=4}break;case FontRenderOps.RESTORE:xt.push(_t=>_t.restore());break;case FontRenderOps.SAVE:xt.push(_t=>_t.save());break;case FontRenderOps.SCALE:assert(xt.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[_t,At,Ct,St,Rt,Pt]=vt.slice(bt,bt+6);xt.push(kt=>kt.transform(_t,At,Ct,St,Rt,Pt)),bt+=6}break;case FontRenderOps.TRANSLATE:{const[_t,At]=vt.slice(bt,bt+2);xt.push(Ct=>Ct.translate(_t,At)),bt+=2}break}return this.compiledGlyphs[ht]=function(Et,_t){xt[0](Et),xt[1](Et),Et.scale(_t,-_t);for(let At=2,Ct=xt.length;At<Ct;At++)xt[At](Et)}}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const $=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),[]),ht=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),vt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),xt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0);let bt,Et;return new Map(Object.entries({fs:$,http:ht,https:vt,url:xt,canvas:bt,path2d:Et}))})().then($=>{packageMap=$,packageCapability.resolve()},$=>{warn(`loadPackages: ${$}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get($){return packageMap==null?void 0:packageMap.get($)}}const node_utils_fetchData=function(_e){return NodePackages.get("fs").promises.readFile(_e).then(ht=>new Uint8Array(ht))};class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas($,ht){return NodePackages.get("canvas").createCanvas($,ht)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,ht){return node_utils_fetchData($).then(vt=>({cMapData:vt,compressionType:ht}))}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return node_utils_fetchData($)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(_e,$){if(!$)return;const ht=$[2]-$[0],vt=$[3]-$[1],xt=new Path2D;xt.rect($[0],$[1],ht,vt),_e.clip(xt)}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&unreachable("Cannot initialize BaseShadingPattern.")}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor($){super(),this._type=$[1],this._bbox=$[2],this._colorStops=$[3],this._p0=$[4],this._p1=$[5],this._r0=$[6],this._r1=$[7],this.matrix=null}_createGradient($){let ht;this._type==="axial"?ht=$.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ht=$.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const vt of this._colorStops)ht.addColorStop(vt[0],vt[1]);return ht}getPattern($,ht,vt,xt){let bt;if(xt===PathType.STROKE||xt===PathType.FILL){const Et=ht.current.getClippedPathBoundingBox(xt,getCurrentTransform($))||[0,0,0,0],_t=Math.ceil(Et[2]-Et[0])||1,At=Math.ceil(Et[3]-Et[1])||1,Ct=ht.cachedCanvases.getCanvas("pattern",_t,At,!0),St=Ct.context;St.clearRect(0,0,St.canvas.width,St.canvas.height),St.beginPath(),St.rect(0,0,St.canvas.width,St.canvas.height),St.translate(-Et[0],-Et[1]),vt=Util.transform(vt,[1,0,0,1,Et[0],Et[1]]),St.transform(...ht.baseTransform),this.matrix&&St.transform(...this.matrix),applyBoundingBox(St,this._bbox),St.fillStyle=this._createGradient(St),St.fill(),bt=$.createPattern(Ct.canvas,"no-repeat");const Rt=new DOMMatrix(vt);bt.setTransform(Rt)}else applyBoundingBox($,this._bbox),bt=this._createGradient($);return bt}}function drawTriangle(_e,$,ht,vt,xt,bt,Et,_t){const At=$.coords,Ct=$.colors,St=_e.data,Rt=_e.width*4;let Pt;At[ht+1]>At[vt+1]&&(Pt=ht,ht=vt,vt=Pt,Pt=bt,bt=Et,Et=Pt),At[vt+1]>At[xt+1]&&(Pt=vt,vt=xt,xt=Pt,Pt=Et,Et=_t,_t=Pt),At[ht+1]>At[vt+1]&&(Pt=ht,ht=vt,vt=Pt,Pt=bt,bt=Et,Et=Pt);const kt=(At[ht]+$.offsetX)*$.scaleX,Mt=(At[ht+1]+$.offsetY)*$.scaleY,Lt=(At[vt]+$.offsetX)*$.scaleX,Ot=(At[vt+1]+$.offsetY)*$.scaleY,Ft=(At[xt]+$.offsetX)*$.scaleX,Dt=(At[xt+1]+$.offsetY)*$.scaleY;if(Mt>=Dt)return;const $t=Ct[bt],Bt=Ct[bt+1],Nt=Ct[bt+2],Ht=Ct[Et],jt=Ct[Et+1],zt=Ct[Et+2],Kt=Ct[_t],en=Ct[_t+1],Wt=Ct[_t+2],Qt=Math.round(Mt),on=Math.round(Dt);let En,un,xn,an,hn,nn,gn,wn;for(let rn=Qt;rn<=on;rn++){if(rn<Ot){const ln=rn<Mt?0:(Mt-rn)/(Mt-Ot);En=kt-(kt-Lt)*ln,un=$t-($t-Ht)*ln,xn=Bt-(Bt-jt)*ln,an=Nt-(Nt-zt)*ln}else{let ln;rn>Dt?ln=1:Ot===Dt?ln=0:ln=(Ot-rn)/(Ot-Dt),En=Lt-(Lt-Ft)*ln,un=Ht-(Ht-Kt)*ln,xn=jt-(jt-en)*ln,an=zt-(zt-Wt)*ln}let Xt;rn<Mt?Xt=0:rn>Dt?Xt=1:Xt=(Mt-rn)/(Mt-Dt),hn=kt-(kt-Ft)*Xt,nn=$t-($t-Kt)*Xt,gn=Bt-(Bt-en)*Xt,wn=Nt-(Nt-Wt)*Xt;const Yt=Math.round(Math.min(En,hn)),tn=Math.round(Math.max(En,hn));let dn=Rt*rn+Yt*4;for(let ln=Yt;ln<=tn;ln++)Xt=(En-ln)/(En-hn),Xt<0?Xt=0:Xt>1&&(Xt=1),St[dn++]=un-(un-nn)*Xt|0,St[dn++]=xn-(xn-gn)*Xt|0,St[dn++]=an-(an-wn)*Xt|0,St[dn++]=255}}function drawFigure(_e,$,ht){const vt=$.coords,xt=$.colors;let bt,Et;switch($.type){case"lattice":const _t=$.verticesPerRow,At=Math.floor(vt.length/_t)-1,Ct=_t-1;for(bt=0;bt<At;bt++){let St=bt*_t;for(let Rt=0;Rt<Ct;Rt++,St++)drawTriangle(_e,ht,vt[St],vt[St+1],vt[St+_t],xt[St],xt[St+1],xt[St+_t]),drawTriangle(_e,ht,vt[St+_t+1],vt[St+1],vt[St+_t],xt[St+_t+1],xt[St+1],xt[St+_t])}break;case"triangles":for(bt=0,Et=vt.length;bt<Et;bt+=3)drawTriangle(_e,ht,vt[bt],vt[bt+1],vt[bt+2],xt[bt],xt[bt+1],xt[bt+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor($){super(),this._coords=$[2],this._colors=$[3],this._figures=$[4],this._bounds=$[5],this._bbox=$[7],this._background=$[8],this.matrix=null}_createMeshCanvas($,ht,vt){const _t=Math.floor(this._bounds[0]),At=Math.floor(this._bounds[1]),Ct=Math.ceil(this._bounds[2])-_t,St=Math.ceil(this._bounds[3])-At,Rt=Math.min(Math.ceil(Math.abs(Ct*$[0]*1.1)),3e3),Pt=Math.min(Math.ceil(Math.abs(St*$[1]*1.1)),3e3),kt=Ct/Rt,Mt=St/Pt,Lt={coords:this._coords,colors:this._colors,offsetX:-_t,offsetY:-At,scaleX:1/kt,scaleY:1/Mt},Ot=Rt+2*2,Ft=Pt+2*2,Dt=vt.getCanvas("mesh",Ot,Ft,!1),$t=Dt.context,Bt=$t.createImageData(Rt,Pt);if(ht){const Ht=Bt.data;for(let jt=0,zt=Ht.length;jt<zt;jt+=4)Ht[jt]=ht[0],Ht[jt+1]=ht[1],Ht[jt+2]=ht[2],Ht[jt+3]=255}for(const Ht of this._figures)drawFigure(Bt,Ht,Lt);return $t.putImageData(Bt,2,2),{canvas:Dt.canvas,offsetX:_t-2*kt,offsetY:At-2*Mt,scaleX:kt,scaleY:Mt}}getPattern($,ht,vt,xt){applyBoundingBox($,this._bbox);let bt;if(xt===PathType.SHADING)bt=Util.singularValueDecompose2dScale(getCurrentTransform($));else if(bt=Util.singularValueDecompose2dScale(ht.baseTransform),this.matrix){const _t=Util.singularValueDecompose2dScale(this.matrix);bt=[bt[0]*_t[0],bt[1]*_t[1]]}const Et=this._createMeshCanvas(bt,xt===PathType.SHADING?null:this._background,ht.cachedCanvases);return xt!==PathType.SHADING&&($.setTransform(...ht.baseTransform),this.matrix&&$.transform(...this.matrix)),$.translate(Et.offsetX,Et.offsetY),$.scale(Et.scaleX,Et.scaleY),$.createPattern(Et.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(_e){switch(_e[0]){case"RadialAxial":return new RadialAxialShadingPattern(_e);case"Mesh":return new MeshShadingPattern(_e);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${_e[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},ix=class ix{constructor($,ht,vt,xt,bt){this.operatorList=$[2],this.matrix=$[3],this.bbox=$[4],this.xstep=$[5],this.ystep=$[6],this.paintType=$[7],this.tilingType=$[8],this.color=ht,this.ctx=vt,this.canvasGraphicsFactory=xt,this.baseTransform=bt}createPatternCanvas($){const ht=this.operatorList,vt=this.bbox,xt=this.xstep,bt=this.ystep,Et=this.paintType,_t=this.tilingType,At=this.color,Ct=this.canvasGraphicsFactory;info("TilingType: "+_t);const St=vt[0],Rt=vt[1],Pt=vt[2],kt=vt[3],Mt=Util.singularValueDecompose2dScale(this.matrix),Lt=Util.singularValueDecompose2dScale(this.baseTransform),Ot=[Mt[0]*Lt[0],Mt[1]*Lt[1]],Ft=this.getSizeAndScale(xt,this.ctx.canvas.width,Ot[0]),Dt=this.getSizeAndScale(bt,this.ctx.canvas.height,Ot[1]),$t=$.cachedCanvases.getCanvas("pattern",Ft.size,Dt.size,!0),Bt=$t.context,Nt=Ct.createCanvasGraphics(Bt);Nt.groupLevel=$.groupLevel,this.setFillAndStrokeStyleToContext(Nt,Et,At);let Ht=St,jt=Rt,zt=Pt,Kt=kt;return St<0&&(Ht=0,zt+=Math.abs(St)),Rt<0&&(jt=0,Kt+=Math.abs(Rt)),Bt.translate(-(Ft.scale*Ht),-(Dt.scale*jt)),Nt.transform(Ft.scale,0,0,Dt.scale,0,0),Bt.save(),this.clipBbox(Nt,Ht,jt,zt,Kt),Nt.baseTransform=getCurrentTransform(Nt.ctx),Nt.executeOperatorList(ht),Nt.endDrawing(),{canvas:$t.canvas,scaleX:Ft.scale,scaleY:Dt.scale,offsetX:Ht,offsetY:jt}}getSizeAndScale($,ht,vt){$=Math.abs($);const xt=Math.max(ix.MAX_PATTERN_SIZE,ht);let bt=Math.ceil($*vt);return bt>=xt?bt=xt:vt=bt/$,{scale:vt,size:bt}}clipBbox($,ht,vt,xt,bt){const Et=xt-ht,_t=bt-vt;$.ctx.rect(ht,vt,Et,_t),$.current.updateRectMinMax(getCurrentTransform($.ctx),[ht,vt,xt,bt]),$.clip(),$.endPath()}setFillAndStrokeStyleToContext($,ht,vt){const xt=$.ctx,bt=$.current;switch(ht){case PaintType.COLORED:const Et=this.ctx;xt.fillStyle=Et.fillStyle,xt.strokeStyle=Et.strokeStyle,bt.fillColor=Et.fillStyle,bt.strokeColor=Et.strokeStyle;break;case PaintType.UNCOLORED:const _t=Util.makeHexColor(vt[0],vt[1],vt[2]);xt.fillStyle=_t,xt.strokeStyle=_t,bt.fillColor=_t,bt.strokeColor=_t;break;default:throw new FormatError(`Unsupported paint type: ${ht}`)}}getPattern($,ht,vt,xt){let bt=vt;xt!==PathType.SHADING&&(bt=Util.transform(bt,ht.baseTransform),this.matrix&&(bt=Util.transform(bt,this.matrix)));const Et=this.createPatternCanvas(ht);let _t=new DOMMatrix(bt);_t=_t.translate(Et.offsetX,Et.offsetY),_t=_t.scale(1/Et.scaleX,1/Et.scaleY);const At=$.createPattern(Et.canvas,"repeat");return At.setTransform(_t),At}};Sr(ix,"MAX_PATTERN_SIZE",3e3);let TilingPattern=ix;function convertBlackAndWhiteToRGBA({src:_e,srcPos:$=0,dest:ht,width:vt,height:xt,nonBlackColor:bt=4294967295,inverseDecode:Et=!1}){const _t=util_FeatureTest.isLittleEndian?4278190080:255,[At,Ct]=Et?[bt,_t]:[_t,bt],St=vt>>3,Rt=vt&7,Pt=_e.length;ht=new Uint32Array(ht.buffer);let kt=0;for(let Mt=0;Mt<xt;Mt++){for(const Ot=$+St;$<Ot;$++){const Ft=$<Pt?_e[$]:255;ht[kt++]=Ft&128?Ct:At,ht[kt++]=Ft&64?Ct:At,ht[kt++]=Ft&32?Ct:At,ht[kt++]=Ft&16?Ct:At,ht[kt++]=Ft&8?Ct:At,ht[kt++]=Ft&4?Ct:At,ht[kt++]=Ft&2?Ct:At,ht[kt++]=Ft&1?Ct:At}if(Rt===0)continue;const Lt=$<Pt?_e[$++]:255;for(let Ot=0;Ot<Rt;Ot++)ht[kt++]=Lt&1<<7-Ot?Ct:At}return{srcPos:$,destPos:kt}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(_e,$){if(_e._removeMirroring)throw new Error("Context is already forwarding operations.");_e.__originalSave=_e.save,_e.__originalRestore=_e.restore,_e.__originalRotate=_e.rotate,_e.__originalScale=_e.scale,_e.__originalTranslate=_e.translate,_e.__originalTransform=_e.transform,_e.__originalSetTransform=_e.setTransform,_e.__originalResetTransform=_e.resetTransform,_e.__originalClip=_e.clip,_e.__originalMoveTo=_e.moveTo,_e.__originalLineTo=_e.lineTo,_e.__originalBezierCurveTo=_e.bezierCurveTo,_e.__originalRect=_e.rect,_e.__originalClosePath=_e.closePath,_e.__originalBeginPath=_e.beginPath,_e._removeMirroring=()=>{_e.save=_e.__originalSave,_e.restore=_e.__originalRestore,_e.rotate=_e.__originalRotate,_e.scale=_e.__originalScale,_e.translate=_e.__originalTranslate,_e.transform=_e.__originalTransform,_e.setTransform=_e.__originalSetTransform,_e.resetTransform=_e.__originalResetTransform,_e.clip=_e.__originalClip,_e.moveTo=_e.__originalMoveTo,_e.lineTo=_e.__originalLineTo,_e.bezierCurveTo=_e.__originalBezierCurveTo,_e.rect=_e.__originalRect,_e.closePath=_e.__originalClosePath,_e.beginPath=_e.__originalBeginPath,delete _e._removeMirroring},_e.save=function(){$.save(),this.__originalSave()},_e.restore=function(){$.restore(),this.__originalRestore()},_e.translate=function(vt,xt){$.translate(vt,xt),this.__originalTranslate(vt,xt)},_e.scale=function(vt,xt){$.scale(vt,xt),this.__originalScale(vt,xt)},_e.transform=function(vt,xt,bt,Et,_t,At){$.transform(vt,xt,bt,Et,_t,At),this.__originalTransform(vt,xt,bt,Et,_t,At)},_e.setTransform=function(vt,xt,bt,Et,_t,At){$.setTransform(vt,xt,bt,Et,_t,At),this.__originalSetTransform(vt,xt,bt,Et,_t,At)},_e.resetTransform=function(){$.resetTransform(),this.__originalResetTransform()},_e.rotate=function(vt){$.rotate(vt),this.__originalRotate(vt)},_e.clip=function(vt){$.clip(vt),this.__originalClip(vt)},_e.moveTo=function(ht,vt){$.moveTo(ht,vt),this.__originalMoveTo(ht,vt)},_e.lineTo=function(ht,vt){$.lineTo(ht,vt),this.__originalLineTo(ht,vt)},_e.bezierCurveTo=function(ht,vt,xt,bt,Et,_t){$.bezierCurveTo(ht,vt,xt,bt,Et,_t),this.__originalBezierCurveTo(ht,vt,xt,bt,Et,_t)},_e.rect=function(ht,vt,xt,bt){$.rect(ht,vt,xt,bt),this.__originalRect(ht,vt,xt,bt)},_e.closePath=function(){$.closePath(),this.__originalClosePath()},_e.beginPath=function(){$.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor($){this.canvasFactory=$,this.cache=Object.create(null)}getCanvas($,ht,vt){let xt;return this.cache[$]!==void 0?(xt=this.cache[$],this.canvasFactory.reset(xt,ht,vt)):(xt=this.canvasFactory.create(ht,vt),this.cache[$]=xt),xt}delete($){delete this.cache[$]}clear(){for(const $ in this.cache){const ht=this.cache[$];this.canvasFactory.destroy(ht),delete this.cache[$]}}}function drawImageAtIntegerCoords(_e,$,ht,vt,xt,bt,Et,_t,At,Ct){const[St,Rt,Pt,kt,Mt,Lt]=getCurrentTransform(_e);if(Rt===0&&Pt===0){const Dt=Et*St+Mt,$t=Math.round(Dt),Bt=_t*kt+Lt,Nt=Math.round(Bt),Ht=(Et+At)*St+Mt,jt=Math.abs(Math.round(Ht)-$t)||1,zt=(_t+Ct)*kt+Lt,Kt=Math.abs(Math.round(zt)-Nt)||1;return _e.setTransform(Math.sign(St),0,0,Math.sign(kt),$t,Nt),_e.drawImage($,ht,vt,xt,bt,0,0,jt,Kt),_e.setTransform(St,Rt,Pt,kt,Mt,Lt),[jt,Kt]}if(St===0&&kt===0){const Dt=_t*Pt+Mt,$t=Math.round(Dt),Bt=Et*Rt+Lt,Nt=Math.round(Bt),Ht=(_t+Ct)*Pt+Mt,jt=Math.abs(Math.round(Ht)-$t)||1,zt=(Et+At)*Rt+Lt,Kt=Math.abs(Math.round(zt)-Nt)||1;return _e.setTransform(0,Math.sign(Rt),Math.sign(Pt),0,$t,Nt),_e.drawImage($,ht,vt,xt,bt,0,0,Kt,jt),_e.setTransform(St,Rt,Pt,kt,Mt,Lt),[Kt,jt]}_e.drawImage($,ht,vt,xt,bt,Et,_t,At,Ct);const Ot=Math.hypot(St,Rt),Ft=Math.hypot(Pt,kt);return[Ot*At,Ft*Ct]}function compileType3Glyph(_e){const{width:$,height:ht}=_e;if($>MAX_SIZE_TO_COMPILE||ht>MAX_SIZE_TO_COMPILE)return null;const vt=1e3,xt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),bt=$+1;let Et=new Uint8Array(bt*(ht+1)),_t,At,Ct;const St=$+7&-8;let Rt=new Uint8Array(St*ht),Pt=0;for(const Ft of _e.data){let Dt=128;for(;Dt>0;)Rt[Pt++]=Ft&Dt?0:255,Dt>>=1}let kt=0;for(Pt=0,Rt[Pt]!==0&&(Et[0]=1,++kt),At=1;At<$;At++)Rt[Pt]!==Rt[Pt+1]&&(Et[At]=Rt[Pt]?2:1,++kt),Pt++;for(Rt[Pt]!==0&&(Et[At]=2,++kt),_t=1;_t<ht;_t++){Pt=_t*St,Ct=_t*bt,Rt[Pt-St]!==Rt[Pt]&&(Et[Ct]=Rt[Pt]?1:8,++kt);let Ft=(Rt[Pt]?4:0)+(Rt[Pt-St]?8:0);for(At=1;At<$;At++)Ft=(Ft>>2)+(Rt[Pt+1]?4:0)+(Rt[Pt-St+1]?8:0),xt[Ft]&&(Et[Ct+At]=xt[Ft],++kt),Pt++;if(Rt[Pt-St]!==Rt[Pt]&&(Et[Ct+At]=Rt[Pt]?2:4,++kt),kt>vt)return null}for(Pt=St*(ht-1),Ct=_t*bt,Rt[Pt]!==0&&(Et[Ct]=8,++kt),At=1;At<$;At++)Rt[Pt]!==Rt[Pt+1]&&(Et[Ct+At]=Rt[Pt]?4:8,++kt),Pt++;if(Rt[Pt]!==0&&(Et[Ct+At]=4,++kt),kt>vt)return null;const Mt=new Int32Array([0,bt,-1,0,-bt,0,0,0,1]),Lt=new Path2D;for(_t=0;kt&&_t<=ht;_t++){let Ft=_t*bt;const Dt=Ft+$;for(;Ft<Dt&&!Et[Ft];)Ft++;if(Ft===Dt)continue;Lt.moveTo(Ft%bt,_t);const $t=Ft;let Bt=Et[Ft];do{const Nt=Mt[Bt];do Ft+=Nt;while(!Et[Ft]);const Ht=Et[Ft];Ht!==5&&Ht!==10?(Bt=Ht,Et[Ft]=0):(Bt=Ht&51*Bt>>4,Et[Ft]&=Bt>>2|Bt<<2),Lt.lineTo(Ft%bt,Ft/bt|0),Et[Ft]||--kt}while($t!==Ft);--_t}return Rt=null,Et=null,function(Ft){Ft.save(),Ft.scale(1/$,-1/ht),Ft.translate(0,-ht),Ft.fill(Lt),Ft.beginPath(),Ft.restore()}}class CanvasExtraState{constructor($,ht){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,$,ht])}clone(){const $=Object.create(this);return $.clipBox=this.clipBox.slice(),$}setCurrentPoint($,ht){this.x=$,this.y=ht}updatePathMinMax($,ht,vt){[ht,vt]=Util.applyTransform([ht,vt],$),this.minX=Math.min(this.minX,ht),this.minY=Math.min(this.minY,vt),this.maxX=Math.max(this.maxX,ht),this.maxY=Math.max(this.maxY,vt)}updateRectMinMax($,ht){const vt=Util.applyTransform(ht,$),xt=Util.applyTransform(ht.slice(2),$),bt=Util.applyTransform([ht[0],ht[3]],$),Et=Util.applyTransform([ht[2],ht[1]],$);this.minX=Math.min(this.minX,vt[0],xt[0],bt[0],Et[0]),this.minY=Math.min(this.minY,vt[1],xt[1],bt[1],Et[1]),this.maxX=Math.max(this.maxX,vt[0],xt[0],bt[0],Et[0]),this.maxY=Math.max(this.maxY,vt[1],xt[1],bt[1],Et[1])}updateScalingPathMinMax($,ht){Util.scaleMinMax($,ht),this.minX=Math.min(this.minX,ht[0]),this.minY=Math.min(this.minY,ht[1]),this.maxX=Math.max(this.maxX,ht[2]),this.maxY=Math.max(this.maxY,ht[3])}updateCurvePathMinMax($,ht,vt,xt,bt,Et,_t,At,Ct,St){const Rt=Util.bezierBoundingBox(ht,vt,xt,bt,Et,_t,At,Ct,St);St||this.updateRectMinMax($,Rt)}getPathBoundingBox($=PathType.FILL,ht=null){const vt=[this.minX,this.minY,this.maxX,this.maxY];if($===PathType.STROKE){ht||unreachable("Stroke bounding box must include transform.");const xt=Util.singularValueDecompose2dScale(ht),bt=xt[0]*this.lineWidth/2,Et=xt[1]*this.lineWidth/2;vt[0]-=bt,vt[1]-=Et,vt[2]+=bt,vt[3]+=Et}return vt}updateClipFromPath(){const $=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox($||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox($){this.clipBox=$,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox($=PathType.FILL,ht=null){return Util.intersect(this.clipBox,this.getPathBoundingBox($,ht))}}function putBinaryImageData(_e,$){if(typeof ImageData<"u"&&$ instanceof ImageData){_e.putImageData($,0,0);return}const ht=$.height,vt=$.width,xt=ht%FULL_CHUNK_HEIGHT,bt=(ht-xt)/FULL_CHUNK_HEIGHT,Et=xt===0?bt:bt+1,_t=_e.createImageData(vt,FULL_CHUNK_HEIGHT);let At=0,Ct;const St=$.data,Rt=_t.data;let Pt,kt,Mt,Lt;if($.kind===util_ImageKind.GRAYSCALE_1BPP){const Ot=St.byteLength,Ft=new Uint32Array(Rt.buffer,0,Rt.byteLength>>2),Dt=Ft.length,$t=vt+7>>3,Bt=4294967295,Nt=util_FeatureTest.isLittleEndian?4278190080:255;for(Pt=0;Pt<Et;Pt++){for(Mt=Pt<bt?FULL_CHUNK_HEIGHT:xt,Ct=0,kt=0;kt<Mt;kt++){const Ht=Ot-At;let jt=0;const zt=Ht>$t?vt:Ht*8-7,Kt=zt&-8;let en=0,Wt=0;for(;jt<Kt;jt+=8)Wt=St[At++],Ft[Ct++]=Wt&128?Bt:Nt,Ft[Ct++]=Wt&64?Bt:Nt,Ft[Ct++]=Wt&32?Bt:Nt,Ft[Ct++]=Wt&16?Bt:Nt,Ft[Ct++]=Wt&8?Bt:Nt,Ft[Ct++]=Wt&4?Bt:Nt,Ft[Ct++]=Wt&2?Bt:Nt,Ft[Ct++]=Wt&1?Bt:Nt;for(;jt<zt;jt++)en===0&&(Wt=St[At++],en=128),Ft[Ct++]=Wt&en?Bt:Nt,en>>=1}for(;Ct<Dt;)Ft[Ct++]=0;_e.putImageData(_t,0,Pt*FULL_CHUNK_HEIGHT)}}else if($.kind===util_ImageKind.RGBA_32BPP){for(kt=0,Lt=vt*FULL_CHUNK_HEIGHT*4,Pt=0;Pt<bt;Pt++)Rt.set(St.subarray(At,At+Lt)),At+=Lt,_e.putImageData(_t,0,kt),kt+=FULL_CHUNK_HEIGHT;Pt<Et&&(Lt=vt*xt*4,Rt.set(St.subarray(At,At+Lt)),_e.putImageData(_t,0,kt))}else if($.kind===util_ImageKind.RGB_24BPP)for(Mt=FULL_CHUNK_HEIGHT,Lt=vt*Mt,Pt=0;Pt<Et;Pt++){for(Pt>=bt&&(Mt=xt,Lt=vt*Mt),Ct=0,kt=Lt;kt--;)Rt[Ct++]=St[At++],Rt[Ct++]=St[At++],Rt[Ct++]=St[At++],Rt[Ct++]=255;_e.putImageData(_t,0,Pt*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${$.kind}`)}function putBinaryImageMask(_e,$){if($.bitmap){_e.drawImage($.bitmap,0,0);return}const ht=$.height,vt=$.width,xt=ht%FULL_CHUNK_HEIGHT,bt=(ht-xt)/FULL_CHUNK_HEIGHT,Et=xt===0?bt:bt+1,_t=_e.createImageData(vt,FULL_CHUNK_HEIGHT);let At=0;const Ct=$.data,St=_t.data;for(let Rt=0;Rt<Et;Rt++){const Pt=Rt<bt?FULL_CHUNK_HEIGHT:xt;({srcPos:At}=convertBlackAndWhiteToRGBA({src:Ct,srcPos:At,dest:St,width:vt,height:Pt,nonBlackColor:0})),_e.putImageData(_t,0,Rt*FULL_CHUNK_HEIGHT)}}function copyCtxState(_e,$){const ht=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const vt of ht)_e[vt]!==void 0&&($[vt]=_e[vt]);_e.setLineDash!==void 0&&($.setLineDash(_e.getLineDash()),$.lineDashOffset=_e.lineDashOffset)}function resetCtxToDefault(_e){if(_e.strokeStyle=_e.fillStyle="#000000",_e.fillRule="nonzero",_e.globalAlpha=1,_e.lineWidth=1,_e.lineCap="butt",_e.lineJoin="miter",_e.miterLimit=10,_e.globalCompositeOperation="source-over",_e.font="10px sans-serif",_e.setLineDash!==void 0&&(_e.setLineDash([]),_e.lineDashOffset=0),!isNodeJS){const{filter:$}=_e;$!=="none"&&$!==""&&(_e.filter="none")}}function getImageSmoothingEnabled(_e,$){if($)return!0;const ht=Util.singularValueDecompose2dScale(_e);ht[0]=Math.fround(ht[0]),ht[1]=Math.fround(ht[1]);const vt=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return ht[0]<=vt&&ht[1]<=vt}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var Wu,Gx,Xx;const r1=class r1{constructor($,ht,vt,xt,bt,{optionalContentConfig:Et,markedContentStack:_t=null},At,Ct){qt(this,Wu);this.ctx=$,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ht,this.objs=vt,this.canvasFactory=xt,this.filterFactory=bt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=_t||[],this.optionalContentConfig=Et,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=At,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ct,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject($,ht=null){return typeof $=="string"?$.startsWith("g_")?this.commonObjs.get($):this.objs.get($):ht}beginDrawing({transform:$,viewport:ht,transparency:vt=!1,background:xt=null}){const bt=this.ctx.canvas.width,Et=this.ctx.canvas.height,_t=this.ctx.fillStyle;if(this.ctx.fillStyle=xt||"#ffffff",this.ctx.fillRect(0,0,bt,Et),this.ctx.fillStyle=_t,vt){const At=this.cachedCanvases.getCanvas("transparent",bt,Et);this.compositeCtx=this.ctx,this.transparentCanvas=At.canvas,this.ctx=At.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),$&&(this.ctx.transform(...$),this.outputScaleX=$[0],this.outputScaleY=$[0]),this.ctx.transform(...ht.transform),this.viewportScale=ht.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList($,ht,vt,xt){const bt=$.argsArray,Et=$.fnArray;let _t=ht||0;const At=bt.length;if(At===_t)return _t;const Ct=At-_t>EXECUTION_STEPS&&typeof vt=="function",St=Ct?Date.now()+EXECUTION_TIME:0;let Rt=0;const Pt=this.commonObjs,kt=this.objs;let Mt;for(;;){if(xt!==void 0&&_t===xt.nextBreakPoint)return xt.breakIt(_t,vt),_t;if(Mt=Et[_t],Mt!==OPS.dependency)this[Mt].apply(this,bt[_t]);else for(const Lt of bt[_t]){const Ot=Lt.startsWith("g_")?Pt:kt;if(!Ot.has(Lt))return Ot.get(Lt,vt),_t}if(_t++,_t===At)return _t;if(Ct&&++Rt>EXECUTION_STEPS){if(Date.now()>St)return vt(),_t;Rt=0}}}endDrawing(){Ut(this,Wu,Gx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const $ of this._cachedBitmapsMap.values()){for(const ht of $.values())typeof HTMLCanvasElement<"u"&&ht instanceof HTMLCanvasElement&&(ht.width=ht.height=0);$.clear()}this._cachedBitmapsMap.clear(),Ut(this,Wu,Xx).call(this)}_scaleImage($,ht){const vt=$.width,xt=$.height;let bt=Math.max(Math.hypot(ht[0],ht[1]),1),Et=Math.max(Math.hypot(ht[2],ht[3]),1),_t=vt,At=xt,Ct="prescale1",St,Rt;for(;bt>2&&_t>1||Et>2&&At>1;){let Pt=_t,kt=At;bt>2&&_t>1&&(Pt=_t>=16384?Math.floor(_t/2)-1||1:Math.ceil(_t/2),bt/=_t/Pt),Et>2&&At>1&&(kt=At>=16384?Math.floor(At/2)-1||1:Math.ceil(At)/2,Et/=At/kt),St=this.cachedCanvases.getCanvas(Ct,Pt,kt),Rt=St.context,Rt.clearRect(0,0,Pt,kt),Rt.drawImage($,0,0,_t,At,0,0,Pt,kt),$=St.canvas,_t=Pt,At=kt,Ct=Ct==="prescale1"?"prescale2":"prescale1"}return{img:$,paintWidth:_t,paintHeight:At}}_createMaskCanvas($){const ht=this.ctx,{width:vt,height:xt}=$,bt=this.current.fillColor,Et=this.current.patternFill,_t=getCurrentTransform(ht);let At,Ct,St,Rt;if(($.bitmap||$.data)&&$.count>1){const zt=$.bitmap||$.data.buffer;Ct=JSON.stringify(Et?_t:[_t.slice(0,4),bt]),At=this._cachedBitmapsMap.get(zt),At||(At=new Map,this._cachedBitmapsMap.set(zt,At));const Kt=At.get(Ct);if(Kt&&!Et){const en=Math.round(Math.min(_t[0],_t[2])+_t[4]),Wt=Math.round(Math.min(_t[1],_t[3])+_t[5]);return{canvas:Kt,offsetX:en,offsetY:Wt}}St=Kt}St||(Rt=this.cachedCanvases.getCanvas("maskCanvas",vt,xt),putBinaryImageMask(Rt.context,$));let Pt=Util.transform(_t,[1/vt,0,0,-1/xt,0,0]);Pt=Util.transform(Pt,[1,0,0,1,0,-xt]);const[kt,Mt,Lt,Ot]=Util.getAxialAlignedBoundingBox([0,0,vt,xt],Pt),Ft=Math.round(Lt-kt)||1,Dt=Math.round(Ot-Mt)||1,$t=this.cachedCanvases.getCanvas("fillCanvas",Ft,Dt),Bt=$t.context,Nt=kt,Ht=Mt;Bt.translate(-Nt,-Ht),Bt.transform(...Pt),St||(St=this._scaleImage(Rt.canvas,getCurrentTransformInverse(Bt)),St=St.img,At&&Et&&At.set(Ct,St)),Bt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(Bt),$.interpolate),drawImageAtIntegerCoords(Bt,St,0,0,St.width,St.height,0,0,vt,xt),Bt.globalCompositeOperation="source-in";const jt=Util.transform(getCurrentTransformInverse(Bt),[1,0,0,1,-Nt,-Ht]);return Bt.fillStyle=Et?bt.getPattern(ht,this,jt,PathType.FILL):bt,Bt.fillRect(0,0,vt,xt),At&&!Et&&(this.cachedCanvases.delete("fillCanvas"),At.set(Ct,$t.canvas)),{canvas:$t.canvas,offsetX:Math.round(Nt),offsetY:Math.round(Ht)}}setLineWidth($){$!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=$,this.ctx.lineWidth=$}setLineCap($){this.ctx.lineCap=LINE_CAP_STYLES[$]}setLineJoin($){this.ctx.lineJoin=LINE_JOIN_STYLES[$]}setMiterLimit($){this.ctx.miterLimit=$}setDash($,ht){const vt=this.ctx;vt.setLineDash!==void 0&&(vt.setLineDash($),vt.lineDashOffset=ht)}setRenderingIntent($){}setFlatness($){}setGState($){for(const[ht,vt]of $)switch(ht){case"LW":this.setLineWidth(vt);break;case"LC":this.setLineCap(vt);break;case"LJ":this.setLineJoin(vt);break;case"ML":this.setMiterLimit(vt);break;case"D":this.setDash(vt[0],vt[1]);break;case"RI":this.setRenderingIntent(vt);break;case"FL":this.setFlatness(vt);break;case"Font":this.setFont(vt[0],vt[1]);break;case"CA":this.current.strokeAlpha=vt;break;case"ca":this.current.fillAlpha=vt,this.ctx.globalAlpha=vt;break;case"BM":this.ctx.globalCompositeOperation=vt;break;case"SMask":this.current.activeSMask=vt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(vt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const $=this.inSMaskMode;this.current.activeSMask&&!$?this.beginSMaskMode():!this.current.activeSMask&&$&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const $=this.ctx.canvas.width,ht=this.ctx.canvas.height,vt="smaskGroupAt"+this.groupLevel,xt=this.cachedCanvases.getCanvas(vt,$,ht);this.suspendedCtx=this.ctx,this.ctx=xt.context;const bt=this.ctx;bt.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,bt),mirrorContextOperations(bt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose($){if(!this.current.activeSMask)return;$?($[0]=Math.floor($[0]),$[1]=Math.floor($[1]),$[2]=Math.ceil($[2]),$[3]=Math.ceil($[3])):$=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ht=this.current.activeSMask,vt=this.suspendedCtx;this.composeSMask(vt,ht,this.ctx,$),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask($,ht,vt,xt){const bt=xt[0],Et=xt[1],_t=xt[2]-bt,At=xt[3]-Et;_t===0||At===0||(this.genericComposeSMask(ht.context,vt,_t,At,ht.subtype,ht.backdrop,ht.transferMap,bt,Et,ht.offsetX,ht.offsetY),$.save(),$.globalAlpha=1,$.globalCompositeOperation="source-over",$.setTransform(1,0,0,1,0,0),$.drawImage(vt.canvas,0,0),$.restore())}genericComposeSMask($,ht,vt,xt,bt,Et,_t,At,Ct,St,Rt){let Pt=$.canvas,kt=At-St,Mt=Ct-Rt;if(Et){if(kt<0||Mt<0||kt+vt>Pt.width||Mt+xt>Pt.height){const Ot=this.cachedCanvases.getCanvas("maskExtension",vt,xt),Ft=Ot.context;Ft.drawImage(Pt,-kt,-Mt),Et.some(Dt=>Dt!==0)&&(Ft.globalCompositeOperation="destination-atop",Ft.fillStyle=Util.makeHexColor(...Et),Ft.fillRect(0,0,vt,xt),Ft.globalCompositeOperation="source-over"),Pt=Ot.canvas,kt=Mt=0}else if(Et.some(Ot=>Ot!==0)){$.save(),$.globalAlpha=1,$.setTransform(1,0,0,1,0,0);const Ot=new Path2D;Ot.rect(kt,Mt,vt,xt),$.clip(Ot),$.globalCompositeOperation="destination-atop",$.fillStyle=Util.makeHexColor(...Et),$.fillRect(kt,Mt,vt,xt),$.restore()}}ht.save(),ht.globalAlpha=1,ht.setTransform(1,0,0,1,0,0),bt==="Alpha"&&_t?ht.filter=this.filterFactory.addAlphaFilter(_t):bt==="Luminosity"&&(ht.filter=this.filterFactory.addLuminosityFilter(_t));const Lt=new Path2D;Lt.rect(At,Ct,vt,xt),ht.clip(Lt),ht.globalCompositeOperation="destination-in",ht.drawImage(Pt,kt,Mt,vt,xt,At,Ct,vt,xt),ht.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const $=this.current;this.stateStack.push($),this.current=$.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform($,ht,vt,xt,bt,Et){this.ctx.transform($,ht,vt,xt,bt,Et),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath($,ht,vt){const xt=this.ctx,bt=this.current;let Et=bt.x,_t=bt.y,At,Ct;const St=getCurrentTransform(xt),Rt=St[0]===0&&St[3]===0||St[1]===0&&St[2]===0,Pt=Rt?vt.slice(0):null;for(let kt=0,Mt=0,Lt=$.length;kt<Lt;kt++)switch($[kt]|0){case OPS.rectangle:Et=ht[Mt++],_t=ht[Mt++];const Ot=ht[Mt++],Ft=ht[Mt++],Dt=Et+Ot,$t=_t+Ft;xt.moveTo(Et,_t),Ot===0||Ft===0?xt.lineTo(Dt,$t):(xt.lineTo(Dt,_t),xt.lineTo(Dt,$t),xt.lineTo(Et,$t)),Rt||bt.updateRectMinMax(St,[Et,_t,Dt,$t]),xt.closePath();break;case OPS.moveTo:Et=ht[Mt++],_t=ht[Mt++],xt.moveTo(Et,_t),Rt||bt.updatePathMinMax(St,Et,_t);break;case OPS.lineTo:Et=ht[Mt++],_t=ht[Mt++],xt.lineTo(Et,_t),Rt||bt.updatePathMinMax(St,Et,_t);break;case OPS.curveTo:At=Et,Ct=_t,Et=ht[Mt+4],_t=ht[Mt+5],xt.bezierCurveTo(ht[Mt],ht[Mt+1],ht[Mt+2],ht[Mt+3],Et,_t),bt.updateCurvePathMinMax(St,At,Ct,ht[Mt],ht[Mt+1],ht[Mt+2],ht[Mt+3],Et,_t,Pt),Mt+=6;break;case OPS.curveTo2:At=Et,Ct=_t,xt.bezierCurveTo(Et,_t,ht[Mt],ht[Mt+1],ht[Mt+2],ht[Mt+3]),bt.updateCurvePathMinMax(St,At,Ct,Et,_t,ht[Mt],ht[Mt+1],ht[Mt+2],ht[Mt+3],Pt),Et=ht[Mt+2],_t=ht[Mt+3],Mt+=4;break;case OPS.curveTo3:At=Et,Ct=_t,Et=ht[Mt+2],_t=ht[Mt+3],xt.bezierCurveTo(ht[Mt],ht[Mt+1],Et,_t,Et,_t),bt.updateCurvePathMinMax(St,At,Ct,ht[Mt],ht[Mt+1],Et,_t,Et,_t,Pt),Mt+=4;break;case OPS.closePath:xt.closePath();break}Rt&&bt.updateScalingPathMinMax(St,Pt),bt.setCurrentPoint(Et,_t)}closePath(){this.ctx.closePath()}stroke($=!0){const ht=this.ctx,vt=this.current.strokeColor;ht.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof vt=="object"&&(vt!=null&&vt.getPattern)?(ht.save(),ht.strokeStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.STROKE),this.rescaleAndStroke(!1),ht.restore()):this.rescaleAndStroke(!0)),$&&this.consumePath(this.current.getClippedPathBoundingBox()),ht.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill($=!0){const ht=this.ctx,vt=this.current.fillColor,xt=this.current.patternFill;let bt=!1;xt&&(ht.save(),ht.fillStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.FILL),bt=!0);const Et=this.current.getClippedPathBoundingBox();this.contentVisible&&Et!==null&&(this.pendingEOFill?(ht.fill("evenodd"),this.pendingEOFill=!1):ht.fill()),bt&&ht.restore(),$&&this.consumePath(Et)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const $=this.pendingTextPaths,ht=this.ctx;if($===void 0){ht.beginPath();return}ht.save(),ht.beginPath();for(const vt of $)ht.setTransform(...vt.transform),ht.translate(vt.x,vt.y),vt.addToPath(ht,vt.fontSize);ht.restore(),ht.clip(),ht.beginPath(),delete this.pendingTextPaths}setCharSpacing($){this.current.charSpacing=$}setWordSpacing($){this.current.wordSpacing=$}setHScale($){this.current.textHScale=$/100}setLeading($){this.current.leading=-$}setFont($,ht){var St;const vt=this.commonObjs.get($),xt=this.current;if(!vt)throw new Error(`Can't find font for ${$}`);if(xt.fontMatrix=vt.fontMatrix||FONT_IDENTITY_MATRIX,(xt.fontMatrix[0]===0||xt.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+$),ht<0?(ht=-ht,xt.fontDirection=-1):xt.fontDirection=1,this.current.font=vt,this.current.fontSize=ht,vt.isType3Font)return;const bt=vt.loadedName||"sans-serif",Et=((St=vt.systemFontInfo)==null?void 0:St.css)||`"${bt}", ${vt.fallbackName}`;let _t="normal";vt.black?_t="900":vt.bold&&(_t="bold");const At=vt.italic?"italic":"normal";let Ct=ht;ht<MIN_FONT_SIZE?Ct=MIN_FONT_SIZE:ht>MAX_FONT_SIZE&&(Ct=MAX_FONT_SIZE),this.current.fontSizeScale=ht/Ct,this.ctx.font=`${At} ${_t} ${Ct}px ${Et}`}setTextRenderingMode($){this.current.textRenderingMode=$}setTextRise($){this.current.textRise=$}moveText($,ht){this.current.x=this.current.lineX+=$,this.current.y=this.current.lineY+=ht}setLeadingMoveText($,ht){this.setLeading(-ht),this.moveText($,ht)}setTextMatrix($,ht,vt,xt,bt,Et){this.current.textMatrix=[$,ht,vt,xt,bt,Et],this.current.textMatrixScale=Math.hypot($,ht),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar($,ht,vt,xt){const bt=this.ctx,Et=this.current,_t=Et.font,At=Et.textRenderingMode,Ct=Et.fontSize/Et.fontSizeScale,St=At&TextRenderingMode.FILL_STROKE_MASK,Rt=!!(At&TextRenderingMode.ADD_TO_PATH_FLAG),Pt=Et.patternFill&&!_t.missingFile;let kt;(_t.disableFontFace||Rt||Pt)&&(kt=_t.getPathGenerator(this.commonObjs,$)),_t.disableFontFace||Pt?(bt.save(),bt.translate(ht,vt),bt.beginPath(),kt(bt,Ct),xt&&bt.setTransform(...xt),(St===TextRenderingMode.FILL||St===TextRenderingMode.FILL_STROKE)&&bt.fill(),(St===TextRenderingMode.STROKE||St===TextRenderingMode.FILL_STROKE)&&bt.stroke(),bt.restore()):((St===TextRenderingMode.FILL||St===TextRenderingMode.FILL_STROKE)&&bt.fillText($,ht,vt),(St===TextRenderingMode.STROKE||St===TextRenderingMode.FILL_STROKE)&&bt.strokeText($,ht,vt)),Rt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(bt),x:ht,y:vt,fontSize:Ct,addToPath:kt})}get isFontSubpixelAAEnabled(){const{context:$}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);$.scale(1.5,1),$.fillText("I",0,10);const ht=$.getImageData(0,0,10,10).data;let vt=!1;for(let xt=3;xt<ht.length;xt+=4)if(ht[xt]>0&&ht[xt]<255){vt=!0;break}return shadow(this,"isFontSubpixelAAEnabled",vt)}showText($){const ht=this.current,vt=ht.font;if(vt.isType3Font)return this.showType3Text($);const xt=ht.fontSize;if(xt===0)return;const bt=this.ctx,Et=ht.fontSizeScale,_t=ht.charSpacing,At=ht.wordSpacing,Ct=ht.fontDirection,St=ht.textHScale*Ct,Rt=$.length,Pt=vt.vertical,kt=Pt?1:-1,Mt=vt.defaultVMetrics,Lt=xt*ht.fontMatrix[0],Ot=ht.textRenderingMode===TextRenderingMode.FILL&&!vt.disableFontFace&&!ht.patternFill;bt.save(),bt.transform(...ht.textMatrix),bt.translate(ht.x,ht.y+ht.textRise),Ct>0?bt.scale(St,-1):bt.scale(St,1);let Ft;if(ht.patternFill){bt.save();const Ht=ht.fillColor.getPattern(bt,this,getCurrentTransformInverse(bt),PathType.FILL);Ft=getCurrentTransform(bt),bt.restore(),bt.fillStyle=Ht}let Dt=ht.lineWidth;const $t=ht.textMatrixScale;if($t===0||Dt===0){const Ht=ht.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(Ht===TextRenderingMode.STROKE||Ht===TextRenderingMode.FILL_STROKE)&&(Dt=this.getSinglePixelWidth())}else Dt/=$t;if(Et!==1&&(bt.scale(Et,Et),Dt/=Et),bt.lineWidth=Dt,vt.isInvalidPDFjsFont){const Ht=[];let jt=0;for(const zt of $)Ht.push(zt.unicode),jt+=zt.width;bt.fillText(Ht.join(""),0,0),ht.x+=jt*Lt*St,bt.restore(),this.compose();return}let Bt=0,Nt;for(Nt=0;Nt<Rt;++Nt){const Ht=$[Nt];if(typeof Ht=="number"){Bt+=kt*Ht*xt/1e3;continue}let jt=!1;const zt=(Ht.isSpace?At:0)+_t,Kt=Ht.fontChar,en=Ht.accent;let Wt,Qt,on=Ht.width;if(Pt){const un=Ht.vmetric||Mt,xn=-(Ht.vmetric?un[1]:on*.5)*Lt,an=un[2]*Lt;on=un?-un[0]:on,Wt=xn/Et,Qt=(Bt+an)/Et}else Wt=Bt/Et,Qt=0;if(vt.remeasure&&on>0){const un=bt.measureText(Kt).width*1e3/xt*Et;if(on<un&&this.isFontSubpixelAAEnabled){const xn=on/un;jt=!0,bt.save(),bt.scale(xn,1),Wt/=xn}else on!==un&&(Wt+=(on-un)/2e3*xt/Et)}if(this.contentVisible&&(Ht.isInFont||vt.missingFile)){if(Ot&&!en)bt.fillText(Kt,Wt,Qt);else if(this.paintChar(Kt,Wt,Qt,Ft),en){const un=Wt+xt*en.offset.x/Et,xn=Qt-xt*en.offset.y/Et;this.paintChar(en.fontChar,un,xn,Ft)}}const En=Pt?on*Lt-zt*Ct:on*Lt+zt*Ct;Bt+=En,jt&&bt.restore()}Pt?ht.y-=Bt:ht.x+=Bt*St,bt.restore(),this.compose()}showType3Text($){const ht=this.ctx,vt=this.current,xt=vt.font,bt=vt.fontSize,Et=vt.fontDirection,_t=xt.vertical?1:-1,At=vt.charSpacing,Ct=vt.wordSpacing,St=vt.textHScale*Et,Rt=vt.fontMatrix||FONT_IDENTITY_MATRIX,Pt=$.length,kt=vt.textRenderingMode===TextRenderingMode.INVISIBLE;let Mt,Lt,Ot,Ft;if(!(kt||bt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ht.save(),ht.transform(...vt.textMatrix),ht.translate(vt.x,vt.y),ht.scale(St,Et),Mt=0;Mt<Pt;++Mt){if(Lt=$[Mt],typeof Lt=="number"){Ft=_t*Lt*bt/1e3,this.ctx.translate(Ft,0),vt.x+=Ft*St;continue}const Dt=(Lt.isSpace?Ct:0)+At,$t=xt.charProcOperatorList[Lt.operatorListId];if(!$t){warn(`Type3 character "${Lt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Lt,this.save(),ht.scale(bt,bt),ht.transform(...Rt),this.executeOperatorList($t),this.restore()),Ot=Util.applyTransform([Lt.width,0],Rt)[0]*bt+Dt,ht.translate(Ot,0),vt.x+=Ot*St}ht.restore(),this.processingType3=null}}setCharWidth($,ht){}setCharWidthAndBounds($,ht,vt,xt,bt,Et){this.ctx.rect(vt,xt,bt-vt,Et-xt),this.ctx.clip(),this.endPath()}getColorN_Pattern($){let ht;if($[0]==="TilingPattern"){const vt=$[1],xt=this.baseTransform||getCurrentTransform(this.ctx),bt={createCanvasGraphics:Et=>new r1(Et,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ht=new TilingPattern($,vt,this.ctx,bt,xt)}else ht=this._getPattern($[1],$[2]);return ht}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor($,ht,vt){const xt=Util.makeHexColor($,ht,vt);this.ctx.strokeStyle=xt,this.current.strokeColor=xt}setFillRGBColor($,ht,vt){const xt=Util.makeHexColor($,ht,vt);this.ctx.fillStyle=xt,this.current.fillColor=xt,this.current.patternFill=!1}_getPattern($,ht=null){let vt;return this.cachedPatterns.has($)?vt=this.cachedPatterns.get($):(vt=getShadingPattern(this.getObject($)),this.cachedPatterns.set($,vt)),ht&&(vt.matrix=ht),vt}shadingFill($){if(!this.contentVisible)return;const ht=this.ctx;this.save();const vt=this._getPattern($);ht.fillStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.SHADING);const xt=getCurrentTransformInverse(ht);if(xt){const{width:bt,height:Et}=ht.canvas,[_t,At,Ct,St]=Util.getAxialAlignedBoundingBox([0,0,bt,Et],xt);this.ctx.fillRect(_t,At,Ct-_t,St-At)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin($,ht){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),$&&this.transform(...$),this.baseTransform=getCurrentTransform(this.ctx),ht)){const vt=ht[2]-ht[0],xt=ht[3]-ht[1];this.ctx.rect(ht[0],ht[1],vt,xt),this.current.updateRectMinMax(getCurrentTransform(this.ctx),ht),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup($){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ht=this.ctx;$.isolated||info("TODO: Support non-isolated groups."),$.knockout&&warn("Knockout groups not supported.");const vt=getCurrentTransform(ht);if($.matrix&&ht.transform(...$.matrix),!$.bbox)throw new Error("Bounding box is required.");let xt=Util.getAxialAlignedBoundingBox($.bbox,getCurrentTransform(ht));const bt=[0,0,ht.canvas.width,ht.canvas.height];xt=Util.intersect(xt,bt)||[0,0,0,0];const Et=Math.floor(xt[0]),_t=Math.floor(xt[1]),At=Math.max(Math.ceil(xt[2])-Et,1),Ct=Math.max(Math.ceil(xt[3])-_t,1);this.current.startNewPathAndClipBox([0,0,At,Ct]);let St="groupAt"+this.groupLevel;$.smask&&(St+="_smask_"+this.smaskCounter++%2);const Rt=this.cachedCanvases.getCanvas(St,At,Ct),Pt=Rt.context;Pt.translate(-Et,-_t),Pt.transform(...vt),$.smask?this.smaskStack.push({canvas:Rt.canvas,context:Pt,offsetX:Et,offsetY:_t,subtype:$.smask.subtype,backdrop:$.smask.backdrop,transferMap:$.smask.transferMap||null,startTransformInverse:null}):(ht.setTransform(1,0,0,1,0,0),ht.translate(Et,_t),ht.save()),copyCtxState(ht,Pt),this.ctx=Pt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ht),this.groupLevel++}endGroup($){if(!this.contentVisible)return;this.groupLevel--;const ht=this.ctx,vt=this.groupStack.pop();if(this.ctx=vt,this.ctx.imageSmoothingEnabled=!1,$.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const xt=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...xt);const bt=Util.getAxialAlignedBoundingBox([0,0,ht.canvas.width,ht.canvas.height],xt);this.ctx.drawImage(ht.canvas,0,0),this.ctx.restore(),this.compose(bt)}}beginAnnotation($,ht,vt,xt,bt){if(Ut(this,Wu,Gx).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),ht){const Et=ht[2]-ht[0],_t=ht[3]-ht[1];if(bt&&this.annotationCanvasMap){vt=vt.slice(),vt[4]-=ht[0],vt[5]-=ht[1],ht=ht.slice(),ht[0]=ht[1]=0,ht[2]=Et,ht[3]=_t;const[At,Ct]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:St}=this,Rt=Math.ceil(Et*this.outputScaleX*St),Pt=Math.ceil(_t*this.outputScaleY*St);this.annotationCanvas=this.canvasFactory.create(Rt,Pt);const{canvas:kt,context:Mt}=this.annotationCanvas;this.annotationCanvasMap.set($,kt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Mt,this.ctx.save(),this.ctx.setTransform(At,0,0,-Ct,0,_t*Ct),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.ctx.rect(ht[0],ht[1],Et,_t),this.ctx.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...vt),this.transform(...xt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ut(this,Wu,Xx).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject($){if(!this.contentVisible)return;const ht=$.count;$=this.getObject($.data,$),$.count=ht;const vt=this.ctx,xt=this.processingType3;if(xt&&(xt.compiled===void 0&&(xt.compiled=compileType3Glyph($)),xt.compiled)){xt.compiled(vt);return}const bt=this._createMaskCanvas($),Et=bt.canvas;vt.save(),vt.setTransform(1,0,0,1,0,0),vt.drawImage(Et,bt.offsetX,bt.offsetY),vt.restore(),this.compose()}paintImageMaskXObjectRepeat($,ht,vt=0,xt=0,bt,Et){if(!this.contentVisible)return;$=this.getObject($.data,$);const _t=this.ctx;_t.save();const At=getCurrentTransform(_t);_t.transform(ht,vt,xt,bt,0,0);const Ct=this._createMaskCanvas($);_t.setTransform(1,0,0,1,Ct.offsetX-At[4],Ct.offsetY-At[5]);for(let St=0,Rt=Et.length;St<Rt;St+=2){const Pt=Util.transform(At,[ht,vt,xt,bt,Et[St],Et[St+1]]),[kt,Mt]=Util.applyTransform([0,0],Pt);_t.drawImage(Ct.canvas,kt,Mt)}_t.restore(),this.compose()}paintImageMaskXObjectGroup($){if(!this.contentVisible)return;const ht=this.ctx,vt=this.current.fillColor,xt=this.current.patternFill;for(const bt of $){const{data:Et,width:_t,height:At,transform:Ct}=bt,St=this.cachedCanvases.getCanvas("maskCanvas",_t,At),Rt=St.context;Rt.save();const Pt=this.getObject(Et,bt);putBinaryImageMask(Rt,Pt),Rt.globalCompositeOperation="source-in",Rt.fillStyle=xt?vt.getPattern(Rt,this,getCurrentTransformInverse(ht),PathType.FILL):vt,Rt.fillRect(0,0,_t,At),Rt.restore(),ht.save(),ht.transform(...Ct),ht.scale(1,-1),drawImageAtIntegerCoords(ht,St.canvas,0,0,_t,At,0,-1,1,1),ht.restore()}this.compose()}paintImageXObject($){if(!this.contentVisible)return;const ht=this.getObject($);if(!ht){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ht)}paintImageXObjectRepeat($,ht,vt,xt){if(!this.contentVisible)return;const bt=this.getObject($);if(!bt){warn("Dependent image isn't ready yet");return}const Et=bt.width,_t=bt.height,At=[];for(let Ct=0,St=xt.length;Ct<St;Ct+=2)At.push({transform:[ht,0,0,vt,xt[Ct],xt[Ct+1]],x:0,y:0,w:Et,h:_t});this.paintInlineImageXObjectGroup(bt,At)}applyTransferMapsToCanvas($){return this.current.transferMaps!=="none"&&($.filter=this.current.transferMaps,$.drawImage($.canvas,0,0),$.filter="none"),$.canvas}applyTransferMapsToBitmap($){if(this.current.transferMaps==="none")return $.bitmap;const{bitmap:ht,width:vt,height:xt}=$,bt=this.cachedCanvases.getCanvas("inlineImage",vt,xt),Et=bt.context;return Et.filter=this.current.transferMaps,Et.drawImage(ht,0,0),Et.filter="none",bt.canvas}paintInlineImageXObject($){if(!this.contentVisible)return;const ht=$.width,vt=$.height,xt=this.ctx;if(this.save(),!isNodeJS){const{filter:_t}=xt;_t!=="none"&&_t!==""&&(xt.filter="none")}xt.scale(1/ht,-1/vt);let bt;if($.bitmap)bt=this.applyTransferMapsToBitmap($);else if(typeof HTMLElement=="function"&&$ instanceof HTMLElement||!$.data)bt=$;else{const At=this.cachedCanvases.getCanvas("inlineImage",ht,vt).context;putBinaryImageData(At,$),bt=this.applyTransferMapsToCanvas(At)}const Et=this._scaleImage(bt,getCurrentTransformInverse(xt));xt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(xt),$.interpolate),drawImageAtIntegerCoords(xt,Et.img,0,0,Et.paintWidth,Et.paintHeight,0,-vt,ht,vt),this.compose(),this.restore()}paintInlineImageXObjectGroup($,ht){if(!this.contentVisible)return;const vt=this.ctx;let xt;if($.bitmap)xt=$.bitmap;else{const bt=$.width,Et=$.height,At=this.cachedCanvases.getCanvas("inlineImage",bt,Et).context;putBinaryImageData(At,$),xt=this.applyTransferMapsToCanvas(At)}for(const bt of ht)vt.save(),vt.transform(...bt.transform),vt.scale(1,-1),drawImageAtIntegerCoords(vt,xt,bt.x,bt.y,bt.w,bt.h,0,-1,1,1),vt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint($){}markPointProps($,ht){}beginMarkedContent($){this.markedContentStack.push({visible:!0})}beginMarkedContentProps($,ht){$==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ht)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath($){const ht=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose($);const vt=this.ctx;this.pendingClip&&(ht||(this.pendingClip===EO_CLIP?vt.clip("evenodd"):vt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),vt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const $=getCurrentTransform(this.ctx);if($[1]===0&&$[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs($[0]),Math.abs($[3]));else{const ht=Math.abs($[0]*$[3]-$[2]*$[1]),vt=Math.hypot($[0],$[2]),xt=Math.hypot($[1],$[3]);this._cachedGetSinglePixelWidth=Math.max(vt,xt)/ht}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:$}=this.current,{a:ht,b:vt,c:xt,d:bt}=this.ctx.getTransform();let Et,_t;if(vt===0&&xt===0){const At=Math.abs(ht),Ct=Math.abs(bt);if(At===Ct)if($===0)Et=_t=1/At;else{const St=At*$;Et=_t=St<1?1/St:1}else if($===0)Et=1/At,_t=1/Ct;else{const St=At*$,Rt=Ct*$;Et=St<1?1/St:1,_t=Rt<1?1/Rt:1}}else{const At=Math.abs(ht*bt-vt*xt),Ct=Math.hypot(ht,vt),St=Math.hypot(xt,bt);if($===0)Et=St/At,_t=Ct/At;else{const Rt=$*At;Et=St>Rt?St/Rt:1,_t=Ct>Rt?Ct/Rt:1}}this._cachedScaleForStroking[0]=Et,this._cachedScaleForStroking[1]=_t}return this._cachedScaleForStroking}rescaleAndStroke($){const{ctx:ht}=this,{lineWidth:vt}=this.current,[xt,bt]=this.getScaleForStroking();if(ht.lineWidth=vt||1,xt===1&&bt===1){ht.stroke();return}const Et=ht.getLineDash();if($&&ht.save(),ht.scale(xt,bt),Et.length>0){const _t=Math.max(xt,bt);ht.setLineDash(Et.map(At=>At/_t)),ht.lineDashOffset/=_t}ht.stroke(),$&&ht.restore()}isContentVisible(){for(let $=this.markedContentStack.length-1;$>=0;$--)if(!this.markedContentStack[$].visible)return!1;return!0}};Wu=new WeakSet,Gx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Xx=function(){if(this.pageColors){const $=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if($!=="none"){const ht=this.ctx.filter;this.ctx.filter=$,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=ht}}};let CanvasGraphics=r1;for(const _e in OPS)CanvasGraphics.prototype[_e]!==void 0&&(CanvasGraphics.prototype[OPS[_e]]=CanvasGraphics.prototype[_e]);var J0,ev;class GlobalWorkerOptions{static get workerPort(){return wt(this,J0)}static set workerPort($){if(!(typeof Worker<"u"&&$ instanceof Worker)&&$!==null)throw new Error("Invalid `workerPort` type.");Vt(this,J0,$)}static get workerSrc(){return wt(this,ev)}static set workerSrc($){if(typeof $!="string")throw new Error("Invalid `workerSrc` type.");Vt(this,ev,$)}}J0=new WeakMap,ev=new WeakMap,qt(GlobalWorkerOptions,J0,null),qt(GlobalWorkerOptions,ev,"");const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new AbortException(_e.message);case"MissingPDFException":return new MissingPDFException(_e.message);case"PasswordException":return new PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new UnknownErrorException(_e.message,_e.details);default:return new UnknownErrorException(_e.message,_e.toString())}}var Dl,Y1,Z1,gy;class MessageHandler{constructor($,ht,vt){qt(this,Dl);this.sourceName=$,this.targetName=ht,this.comObj=vt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=xt=>{const bt=xt.data;if(bt.targetName!==this.sourceName)return;if(bt.stream){Ut(this,Dl,Z1).call(this,bt);return}if(bt.callback){const _t=bt.callbackId,At=this.callbackCapabilities[_t];if(!At)throw new Error(`Cannot resolve callback ${_t}`);if(delete this.callbackCapabilities[_t],bt.callback===CallbackKind.DATA)At.resolve(bt.data);else if(bt.callback===CallbackKind.ERROR)At.reject(wrapReason(bt.reason));else throw new Error("Unexpected callback case");return}const Et=this.actionHandler[bt.action];if(!Et)throw new Error(`Unknown action from worker: ${bt.action}`);if(bt.callbackId){const _t=this.sourceName,At=bt.sourceName;new Promise(function(Ct){Ct(Et(bt.data))}).then(function(Ct){vt.postMessage({sourceName:_t,targetName:At,callback:CallbackKind.DATA,callbackId:bt.callbackId,data:Ct})},function(Ct){vt.postMessage({sourceName:_t,targetName:At,callback:CallbackKind.ERROR,callbackId:bt.callbackId,reason:wrapReason(Ct)})});return}if(bt.streamId){Ut(this,Dl,Y1).call(this,bt);return}Et(bt.data)},vt.addEventListener("message",this._onComObjOnMessage)}on($,ht){const vt=this.actionHandler;if(vt[$])throw new Error(`There is already an actionName called "${$}"`);vt[$]=ht}send($,ht,vt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,data:ht},vt)}sendWithPromise($,ht,vt){const xt=this.callbackId++,bt=Promise.withResolvers();this.callbackCapabilities[xt]=bt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,callbackId:xt,data:ht},vt)}catch(Et){bt.reject(Et)}return bt.promise}sendWithStream($,ht,vt,xt){const bt=this.streamId++,Et=this.sourceName,_t=this.targetName,At=this.comObj;return new ReadableStream({start:Ct=>{const St=Promise.withResolvers();return this.streamControllers[bt]={controller:Ct,startCall:St,pullCall:null,cancelCall:null,isClosed:!1},At.postMessage({sourceName:Et,targetName:_t,action:$,streamId:bt,data:ht,desiredSize:Ct.desiredSize},xt),St.promise},pull:Ct=>{const St=Promise.withResolvers();return this.streamControllers[bt].pullCall=St,At.postMessage({sourceName:Et,targetName:_t,stream:StreamKind.PULL,streamId:bt,desiredSize:Ct.desiredSize}),St.promise},cancel:Ct=>{assert(Ct instanceof Error,"cancel must have a valid reason");const St=Promise.withResolvers();return this.streamControllers[bt].cancelCall=St,this.streamControllers[bt].isClosed=!0,At.postMessage({sourceName:Et,targetName:_t,stream:StreamKind.CANCEL,streamId:bt,reason:wrapReason(Ct)}),St.promise}},vt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Dl=new WeakSet,Y1=function($){const ht=$.streamId,vt=this.sourceName,xt=$.sourceName,bt=this.comObj,Et=this,_t=this.actionHandler[$.action],At={enqueue(Ct,St=1,Rt){if(this.isCancelled)return;const Pt=this.desiredSize;this.desiredSize-=St,Pt>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.ENQUEUE,streamId:ht,chunk:Ct},Rt)},close(){this.isCancelled||(this.isCancelled=!0,bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.CLOSE,streamId:ht}),delete Et.streamSinks[ht])},error(Ct){assert(Ct instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.ERROR,streamId:ht,reason:wrapReason(Ct)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:$.desiredSize,ready:null};At.sinkCapability.resolve(),At.ready=At.sinkCapability.promise,this.streamSinks[ht]=At,new Promise(function(Ct){Ct(_t($.data,At))}).then(function(){bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.START_COMPLETE,streamId:ht,success:!0})},function(Ct){bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.START_COMPLETE,streamId:ht,reason:wrapReason(Ct)})})},Z1=function($){const ht=$.streamId,vt=this.sourceName,xt=$.sourceName,bt=this.comObj,Et=this.streamControllers[ht],_t=this.streamSinks[ht];switch($.stream){case StreamKind.START_COMPLETE:$.success?Et.startCall.resolve():Et.startCall.reject(wrapReason($.reason));break;case StreamKind.PULL_COMPLETE:$.success?Et.pullCall.resolve():Et.pullCall.reject(wrapReason($.reason));break;case StreamKind.PULL:if(!_t){bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.PULL_COMPLETE,streamId:ht,success:!0});break}_t.desiredSize<=0&&$.desiredSize>0&&_t.sinkCapability.resolve(),_t.desiredSize=$.desiredSize,new Promise(function(At){var Ct;At((Ct=_t.onPull)==null?void 0:Ct.call(_t))}).then(function(){bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.PULL_COMPLETE,streamId:ht,success:!0})},function(At){bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.PULL_COMPLETE,streamId:ht,reason:wrapReason(At)})});break;case StreamKind.ENQUEUE:if(assert(Et,"enqueue should have stream controller"),Et.isClosed)break;Et.controller.enqueue($.chunk);break;case StreamKind.CLOSE:if(assert(Et,"close should have stream controller"),Et.isClosed)break;Et.isClosed=!0,Et.controller.close(),Ut(this,Dl,gy).call(this,Et,ht);break;case StreamKind.ERROR:assert(Et,"error should have stream controller"),Et.controller.error(wrapReason($.reason)),Ut(this,Dl,gy).call(this,Et,ht);break;case StreamKind.CANCEL_COMPLETE:$.success?Et.cancelCall.resolve():Et.cancelCall.reject(wrapReason($.reason)),Ut(this,Dl,gy).call(this,Et,ht);break;case StreamKind.CANCEL:if(!_t)break;new Promise(function(At){var Ct;At((Ct=_t.onCancel)==null?void 0:Ct.call(_t,wrapReason($.reason)))}).then(function(){bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.CANCEL_COMPLETE,streamId:ht,success:!0})},function(At){bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.CANCEL_COMPLETE,streamId:ht,reason:wrapReason(At)})}),_t.sinkCapability.reject(wrapReason($.reason)),_t.isCancelled=!0,delete this.streamSinks[ht];break;default:throw new Error("Unexpected stream case")}},gy=async function($,ht){var vt,xt,bt;await Promise.allSettled([(vt=$.startCall)==null?void 0:vt.promise,(xt=$.pullCall)==null?void 0:xt.promise,(bt=$.cancelCall)==null?void 0:bt.promise]),delete this.streamControllers[ht]};var dp,tv;class Metadata{constructor({parsedData:$,rawData:ht}){qt(this,dp);qt(this,tv);Vt(this,dp,$),Vt(this,tv,ht)}getRaw(){return wt(this,tv)}get($){return wt(this,dp).get($)??null}getAll(){return objectFromMap(wt(this,dp))}has($){return wt(this,dp).has($)}}dp=new WeakMap,tv=new WeakMap;const INTERNAL=Symbol("INTERNAL");var nv,rv,iv,xm;class OptionalContentGroup{constructor($,{name:ht,intent:vt,usage:xt}){qt(this,nv,!1);qt(this,rv,!1);qt(this,iv,!1);qt(this,xm,!0);Vt(this,nv,!!($&RenderingIntentFlag.DISPLAY)),Vt(this,rv,!!($&RenderingIntentFlag.PRINT)),this.name=ht,this.intent=vt,this.usage=xt}get visible(){if(wt(this,iv))return wt(this,xm);if(!wt(this,xm))return!1;const{print:$,view:ht}=this.usage;return wt(this,nv)?(ht==null?void 0:ht.viewState)!=="OFF":wt(this,rv)?($==null?void 0:$.printState)!=="OFF":!0}_setVisible($,ht,vt=!1){$!==INTERNAL&&unreachable("Internal method `_setVisible` called."),Vt(this,iv,vt),Vt(this,xm,ht)}}nv=new WeakMap,rv=new WeakMap,iv=new WeakMap,xm=new WeakMap;var Ru,ws,bm,Em,sv,qx;class OptionalContentConfig{constructor($,ht=RenderingIntentFlag.DISPLAY){qt(this,sv);qt(this,Ru,null);qt(this,ws,new Map);qt(this,bm,null);qt(this,Em,null);if(this.renderingIntent=ht,this.name=null,this.creator=null,$!==null){this.name=$.name,this.creator=$.creator,Vt(this,Em,$.order);for(const vt of $.groups)wt(this,ws).set(vt.id,new OptionalContentGroup(ht,vt));if($.baseState==="OFF")for(const vt of wt(this,ws).values())vt._setVisible(INTERNAL,!1);for(const vt of $.on)wt(this,ws).get(vt)._setVisible(INTERNAL,!0);for(const vt of $.off)wt(this,ws).get(vt)._setVisible(INTERNAL,!1);Vt(this,bm,this.getHash())}}isVisible($){if(wt(this,ws).size===0)return!0;if(!$)return info("Optional content group not defined."),!0;if($.type==="OCG")return wt(this,ws).has($.id)?wt(this,ws).get($.id).visible:(warn(`Optional content group not found: ${$.id}`),!0);if($.type==="OCMD"){if($.expression)return Ut(this,sv,qx).call(this,$.expression);if(!$.policy||$.policy==="AnyOn"){for(const ht of $.ids){if(!wt(this,ws).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(wt(this,ws).get(ht).visible)return!0}return!1}else if($.policy==="AllOn"){for(const ht of $.ids){if(!wt(this,ws).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(!wt(this,ws).get(ht).visible)return!1}return!0}else if($.policy==="AnyOff"){for(const ht of $.ids){if(!wt(this,ws).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(!wt(this,ws).get(ht).visible)return!0}return!1}else if($.policy==="AllOff"){for(const ht of $.ids){if(!wt(this,ws).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(wt(this,ws).get(ht).visible)return!1}return!0}return warn(`Unknown optional content policy ${$.policy}.`),!0}return warn(`Unknown group type ${$.type}.`),!0}setVisibility($,ht=!0){const vt=wt(this,ws).get($);if(!vt){warn(`Optional content group not found: ${$}`);return}vt._setVisible(INTERNAL,!!ht,!0),Vt(this,Ru,null)}setOCGState({state:$,preserveRB:ht}){let vt;for(const xt of $){switch(xt){case"ON":case"OFF":case"Toggle":vt=xt;continue}const bt=wt(this,ws).get(xt);if(bt)switch(vt){case"ON":bt._setVisible(INTERNAL,!0);break;case"OFF":bt._setVisible(INTERNAL,!1);break;case"Toggle":bt._setVisible(INTERNAL,!bt.visible);break}}Vt(this,Ru,null)}get hasInitialVisibility(){return wt(this,bm)===null||this.getHash()===wt(this,bm)}getOrder(){return wt(this,ws).size?wt(this,Em)?wt(this,Em).slice():[...wt(this,ws).keys()]:null}getGroups(){return wt(this,ws).size>0?objectFromMap(wt(this,ws)):null}getGroup($){return wt(this,ws).get($)||null}getHash(){if(wt(this,Ru)!==null)return wt(this,Ru);const $=new MurmurHash3_64;for(const[ht,vt]of wt(this,ws))$.update(`${ht}:${vt.visible}`);return Vt(this,Ru,$.hexdigest())}}Ru=new WeakMap,ws=new WeakMap,bm=new WeakMap,Em=new WeakMap,sv=new WeakSet,qx=function($){const ht=$.length;if(ht<2)return!0;const vt=$[0];for(let xt=1;xt<ht;xt++){const bt=$[xt];let Et;if(Array.isArray(bt))Et=Ut(this,sv,qx).call(this,bt);else if(wt(this,ws).has(bt))Et=wt(this,ws).get(bt).visible;else return warn(`Optional content group not found: ${bt}`),!0;switch(vt){case"And":if(!Et)return!1;break;case"Or":if(Et)return!0;break;case"Not":return!Et;default:return!0}}return vt==="And"};class PDFDataTransportStream{constructor($,{disableRange:ht=!1,disableStream:vt=!1}){assert($,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:xt,initialData:bt,progressiveDone:Et,contentDispositionFilename:_t}=$;if(this._queuedChunks=[],this._progressiveDone=Et,this._contentDispositionFilename=_t,(bt==null?void 0:bt.length)>0){const At=bt instanceof Uint8Array&&bt.byteLength===bt.buffer.byteLength?bt.buffer:new Uint8Array(bt).buffer;this._queuedChunks.push(At)}this._pdfDataRangeTransport=$,this._isStreamingSupported=!vt,this._isRangeSupported=!ht,this._contentLength=xt,this._fullRequestReader=null,this._rangeReaders=[],$.addRangeListener((At,Ct)=>{this._onReceiveData({begin:At,chunk:Ct})}),$.addProgressListener((At,Ct)=>{this._onProgress({loaded:At,total:Ct})}),$.addProgressiveReadListener(At=>{this._onReceiveData({chunk:At})}),$.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),$.transportReady()}_onReceiveData({begin:$,chunk:ht}){const vt=ht instanceof Uint8Array&&ht.byteLength===ht.buffer.byteLength?ht.buffer:new Uint8Array(ht).buffer;if($===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(vt):this._queuedChunks.push(vt);else{const xt=this._rangeReaders.some(function(bt){return bt._begin!==$?!1:(bt._enqueue(vt),!0)});assert(xt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}_onProgress($){var ht,vt,xt,bt;$.total===void 0?(vt=(ht=this._rangeReaders[0])==null?void 0:ht.onProgress)==null||vt.call(ht,{loaded:$.loaded}):(bt=(xt=this._fullRequestReader)==null?void 0:xt.onProgress)==null||bt.call(xt,{loaded:$.loaded,total:$.total})}_onProgressiveDone(){var $;($=this._fullRequestReader)==null||$.progressiveDone(),this._progressiveDone=!0}_removeRangeReader($){const ht=this._rangeReaders.indexOf($);ht>=0&&this._rangeReaders.splice(ht,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const $=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,$,this._progressiveDone,this._contentDispositionFilename)}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=new PDFDataTransportStreamRangeReader(this,$,ht);return this._pdfDataRangeTransport.requestDataRange($,ht),this._rangeReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeReaders.slice(0))vt.cancel($);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor($,ht,vt=!1,xt=null){this._stream=$,this._done=vt||!1,this._filename=isPdfFile(xt)?xt:null,this._queuedChunks=ht||[],this._loaded=0;for(const bt of this._queuedChunks)this._loaded+=bt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),$._fullRequestReader=this,this.onProgress=null}_enqueue($){this._done||(this._requests.length>0?this._requests.shift().resolve({value:$,done:!1}):this._queuedChunks.push($),this._loaded+=$.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor($,ht,vt){this._stream=$,this._begin=ht,this._end=vt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue($){if(!this._done){if(this._requests.length===0)this._queuedChunk=$;else{this._requests.shift().resolve({value:$,done:!1});for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(_e){let $=!0,ht=vt("filename\\*","i").exec(_e);if(ht){ht=ht[1];let St=_t(ht);return St=unescape(St),St=At(St),St=Ct(St),bt(St)}if(ht=Et(_e),ht){const St=Ct(ht);return bt(St)}if(ht=vt("filename","i").exec(_e),ht){ht=ht[1];let St=_t(ht);return St=Ct(St),bt(St)}function vt(St,Rt){return new RegExp("(?:^|;)\\s*"+St+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Rt)}function xt(St,Rt){if(St){if(!/^[\x00-\xFF]+$/.test(Rt))return Rt;try{const Pt=new TextDecoder(St,{fatal:!0}),kt=stringToBytes(Rt);Rt=Pt.decode(kt),$=!1}catch{}}return Rt}function bt(St){return $&&/[\x80-\xff]/.test(St)&&(St=xt("utf-8",St),$&&(St=xt("iso-8859-1",St))),St}function Et(St){const Rt=[];let Pt;const kt=vt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Pt=kt.exec(St))!==null;){let[,Lt,Ot,Ft]=Pt;if(Lt=parseInt(Lt,10),Lt in Rt){if(Lt===0)break;continue}Rt[Lt]=[Ot,Ft]}const Mt=[];for(let Lt=0;Lt<Rt.length&&Lt in Rt;++Lt){let[Ot,Ft]=Rt[Lt];Ft=_t(Ft),Ot&&(Ft=unescape(Ft),Lt===0&&(Ft=At(Ft))),Mt.push(Ft)}return Mt.join("")}function _t(St){if(St.startsWith('"')){const Rt=St.slice(1).split('\\"');for(let Pt=0;Pt<Rt.length;++Pt){const kt=Rt[Pt].indexOf('"');kt!==-1&&(Rt[Pt]=Rt[Pt].slice(0,kt),Rt.length=Pt+1),Rt[Pt]=Rt[Pt].replaceAll(/\\(.)/g,"$1")}St=Rt.join('"')}return St}function At(St){const Rt=St.indexOf("'");if(Rt===-1)return St;const Pt=St.slice(0,Rt),Mt=St.slice(Rt+1).replace(/^[^']*'/,"");return xt(Pt,Mt)}function Ct(St){return!St.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(St)?St:St.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Rt,Pt,kt,Mt){if(kt==="q"||kt==="Q")return Mt=Mt.replaceAll("_"," "),Mt=Mt.replaceAll(/=([0-9a-fA-F]{2})/g,function(Lt,Ot){return String.fromCharCode(parseInt(Ot,16))}),xt(Pt,Mt);try{Mt=atob(Mt)}catch{}return xt(Pt,Mt)})}return""}function validateRangeRequestCapabilities({getResponseHeader:_e,isHttp:$,rangeChunkSize:ht,disableRange:vt}){const xt={allowRangeRequests:!1,suggestedLength:void 0},bt=parseInt(_e("Content-Length"),10);return!Number.isInteger(bt)||(xt.suggestedLength=bt,bt<=2*ht)||vt||!$||_e("Accept-Ranges")!=="bytes"||(_e("Content-Encoding")||"identity")!=="identity"||(xt.allowRangeRequests=!0),xt}function extractFilenameFromHeader(_e){const $=_e("Content-Disposition");if($){let ht=getFilenameFromContentDispositionHeader($);if(ht.includes("%"))try{ht=decodeURIComponent(ht)}catch{}if(isPdfFile(ht))return ht}return null}function createResponseStatusError(_e,$){return _e===404||_e===0&&$.startsWith("file:")?new MissingPDFException('Missing PDF "'+$+'".'):new UnexpectedResponseException(`Unexpected server response (${_e}) while retrieving PDF "${$}".`,_e)}function validateResponseStatus(_e){return _e===200||_e===206}function createFetchOptions(_e,$,ht){return{method:"GET",headers:_e,signal:ht.signal,mode:"cors",credentials:$?"include":"same-origin",redirect:"follow"}}function createHeaders(_e){const $=new Headers;for(const ht in _e){const vt=_e[ht];vt!==void 0&&$.append(ht,vt)}return $}function getArrayBuffer(_e){return _e instanceof Uint8Array?_e.buffer:_e instanceof ArrayBuffer?_e:(warn(`getArrayBuffer - unexpected data format: ${_e}`),new Uint8Array(_e).buffer)}class PDFFetchStream{constructor($){this.source=$,this.isHttp=/^https?:/i.test($.url),this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=new PDFFetchStreamRangeReader(this,$,ht);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class PDFFetchStreamReader{constructor($){this._stream=$,this._reader=null,this._loaded=0,this._filename=null;const ht=$.source;this._withCredentials=ht.withCredentials||!1,this._contentLength=ht.length,this._headersCapability=Promise.withResolvers(),this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._headers=createHeaders(this._stream.httpHeaders);const vt=ht.url;fetch(vt,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(xt=>{if(!validateResponseStatus(xt.status))throw createResponseStatusError(xt.status,vt);this._reader=xt.body.getReader(),this._headersCapability.resolve();const bt=At=>xt.headers.get(At),{allowRangeRequests:Et,suggestedLength:_t}=validateRangeRequestCapabilities({getResponseHeader:bt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Et,this._contentLength=_t||this._contentLength,this._filename=extractFilenameFromHeader(bt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._headersCapability.promise;const{value:$,done:ht}=await this._reader.read();return ht?{value:$,done:ht}:(this._loaded+=$.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer($),done:!1})}cancel($){var ht;(ht=this._reader)==null||ht.cancel($),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor($,ht,vt){this._stream=$,this._reader=null,this._loaded=0;const xt=$.source;this._withCredentials=xt.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!xt.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ht}-${vt-1}`);const bt=xt.url;fetch(bt,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(Et=>{if(!validateResponseStatus(Et.status))throw createResponseStatusError(Et.status,bt);this._readCapability.resolve(),this._reader=Et.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._readCapability.promise;const{value:$,done:ht}=await this._reader.read();return ht?{value:$,done:ht}:(this._loaded+=$.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:getArrayBuffer($),done:!1})}cancel($){var ht;(ht=this._reader)==null||ht.cancel($),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(_e){const $=_e.response;return typeof $!="string"?$:stringToBytes($).buffer}class NetworkManager{constructor($,ht={}){this.url=$,this.isHttp=/^https?:/i.test($),this.httpHeaders=this.isHttp&&ht.httpHeaders||Object.create(null),this.withCredentials=ht.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange($,ht,vt){const xt={begin:$,end:ht};for(const bt in vt)xt[bt]=vt[bt];return this.request(xt)}requestFull($){return this.request($)}request($){const ht=new XMLHttpRequest,vt=this.currXhrId++,xt=this.pendingRequests[vt]={xhr:ht};ht.open("GET",this.url),ht.withCredentials=this.withCredentials;for(const bt in this.httpHeaders){const Et=this.httpHeaders[bt];Et!==void 0&&ht.setRequestHeader(bt,Et)}return this.isHttp&&"begin"in $&&"end"in $?(ht.setRequestHeader("Range",`bytes=${$.begin}-${$.end-1}`),xt.expectedStatus=PARTIAL_CONTENT_RESPONSE):xt.expectedStatus=OK_RESPONSE,ht.responseType="arraybuffer",$.onError&&(ht.onerror=function(bt){$.onError(ht.status)}),ht.onreadystatechange=this.onStateChange.bind(this,vt),ht.onprogress=this.onProgress.bind(this,vt),xt.onHeadersReceived=$.onHeadersReceived,xt.onDone=$.onDone,xt.onError=$.onError,xt.onProgress=$.onProgress,ht.send(null),vt}onProgress($,ht){var xt;const vt=this.pendingRequests[$];vt&&((xt=vt.onProgress)==null||xt.call(vt,ht))}onStateChange($,ht){var At,Ct,St;const vt=this.pendingRequests[$];if(!vt)return;const xt=vt.xhr;if(xt.readyState>=2&&vt.onHeadersReceived&&(vt.onHeadersReceived(),delete vt.onHeadersReceived),xt.readyState!==4||!($ in this.pendingRequests))return;if(delete this.pendingRequests[$],xt.status===0&&this.isHttp){(At=vt.onError)==null||At.call(vt,xt.status);return}const bt=xt.status||OK_RESPONSE;if(!(bt===OK_RESPONSE&&vt.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&bt!==vt.expectedStatus){(Ct=vt.onError)==null||Ct.call(vt,xt.status);return}const _t=network_getArrayBuffer(xt);if(bt===PARTIAL_CONTENT_RESPONSE){const Rt=xt.getResponseHeader("Content-Range"),Pt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Rt);vt.onDone({begin:parseInt(Pt[1],10),chunk:_t})}else _t?vt.onDone({begin:0,chunk:_t}):(St=vt.onError)==null||St.call(vt,xt.status)}getRequestXhr($){return this.pendingRequests[$].xhr}isPendingRequest($){return $ in this.pendingRequests}abortRequest($){const ht=this.pendingRequests[$].xhr;delete this.pendingRequests[$],ht.abort()}}class PDFNetworkStream{constructor($){this._source=$,this._manager=new NetworkManager($.url,{httpHeaders:$.httpHeaders,withCredentials:$.withCredentials}),this._rangeChunkSize=$.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed($){const ht=this._rangeRequestReaders.indexOf($);ht>=0&&this._rangeRequestReaders.splice(ht,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader($,ht){const vt=new PDFNetworkStreamRangeRequestReader(this._manager,$,ht);return vt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class PDFNetworkStreamFullRequestReader{constructor($,ht){this._manager=$;const vt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ht.url,this._fullRequestId=$.requestFull(vt),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=ht.disableRange||!1,this._contentLength=ht.length,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const $=this._fullRequestId,ht=this._manager.getRequestXhr($),vt=Et=>ht.getResponseHeader(Et),{allowRangeRequests:xt,suggestedLength:bt}=validateRangeRequestCapabilities({getResponseHeader:vt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});xt&&(this._isRangeSupported=!0),this._contentLength=bt||this._contentLength,this._filename=extractFilenameFromHeader(vt),this._isRangeSupported&&this._manager.abortRequest($),this._headersReceivedCapability.resolve()}_onDone($){if($&&(this._requests.length>0?this._requests.shift().resolve({value:$.chunk,done:!1}):this._cachedChunks.push($.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}}_onError($){this._storedError=createResponseStatusError($,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ht of this._requests)ht.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress($){var ht;(ht=this.onProgress)==null||ht.call(this,{loaded:$.loaded,total:$.lengthComputable?$.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0,this._headersReceivedCapability.reject($);for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor($,ht,vt){this._manager=$;const xt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=$.url,this._requestId=$.requestRange(ht,vt,xt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var $;($=this.onClosed)==null||$.call(this,this)}_onDone($){const ht=$.chunk;this._requests.length>0?this._requests.shift().resolve({value:ht,done:!1}):this._queuedChunk=ht,this._done=!0;for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError($){this._storedError=createResponseStatusError($,this._url);for(const ht of this._requests)ht.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress($){var ht;this.isStreamingSupported||(ht=this.onProgress)==null||ht.call(this,{loaded:$.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(_e){const $=NodePackages.get("url"),ht=$.parse(_e);return ht.protocol==="file:"||ht.host?ht:/^[a-z]:[/\\]/i.test(_e)?$.parse(`file:///${_e}`):(ht.host||(ht.protocol="file:"),ht)}class PDFNodeStream{constructor($){this.source=$,this.url=parseUrl($.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,$,ht):new PDFNodeStreamRangeReader(this,$,ht);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class BaseFullReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null;const ht=$.source;this._contentLength=ht.length,this._loaded=0,this._filename=null,this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",ht=>{this._error(ht)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const ht=$.source;this._isStreamingSupported=!ht.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",ht=>{this._error(ht)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(_e,$){return{protocol:_e.protocol,auth:_e.auth,host:_e.hostname,port:_e.port,path:_e.path,method:"GET",headers:$}}class PDFNodeStreamFullReader extends BaseFullReader{constructor($){super($);const ht=vt=>{if(vt.statusCode===404){const _t=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=_t,this._headersCapability.reject(_t);return}this._headersCapability.resolve(),this._setReadableStream(vt);const xt=_t=>this._readableStream.headers[_t.toLowerCase()],{allowRangeRequests:bt,suggestedLength:Et}=validateRangeRequestCapabilities({getResponseHeader:xt,isHttp:$.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=bt,this._contentLength=Et||this._contentLength,this._filename=extractFilenameFromHeader(xt)};if(this._request=null,this._url.protocol==="http:"){const vt=NodePackages.get("http");this._request=vt.request(createRequestOptions(this._url,$.httpHeaders),ht)}else{const vt=NodePackages.get("https");this._request=vt.request(createRequestOptions(this._url,$.httpHeaders),ht)}this._request.on("error",vt=>{this._storedError=vt,this._headersCapability.reject(vt)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor($,ht,vt){super($),this._httpHeaders={};for(const bt in $.httpHeaders){const Et=$.httpHeaders[bt];Et!==void 0&&(this._httpHeaders[bt]=Et)}this._httpHeaders.Range=`bytes=${ht}-${vt-1}`;const xt=bt=>{if(bt.statusCode===404){const Et=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Et;return}this._setReadableStream(bt)};if(this._request=null,this._url.protocol==="http:"){const bt=NodePackages.get("http");this._request=bt.request(createRequestOptions(this._url,this._httpHeaders),xt)}else{const bt=NodePackages.get("https");this._request=bt.request(createRequestOptions(this._url,this._httpHeaders),xt)}this._request.on("error",bt=>{this._storedError=bt}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor($){super($);let ht=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(ht=ht.replace(/^\//,""));const vt=NodePackages.get("fs");vt.promises.lstat(ht).then(xt=>{this._contentLength=xt.size,this._setReadableStream(vt.createReadStream(ht)),this._headersCapability.resolve()},xt=>{xt.code==="ENOENT"&&(xt=new MissingPDFException(`Missing PDF "${ht}".`)),this._storedError=xt,this._headersCapability.reject(xt)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor($,ht,vt){super($);let xt=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(xt=xt.replace(/^\//,""));const bt=NodePackages.get("fs");this._setReadableStream(bt.createReadStream(xt,{start:ht,end:vt-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var A1,Tu,bo,ov,av,hp,Ql,lv,cv,fp,_m,wm,Pu,Am,uv,Sm,pp,dv,hv,Eo,gp,mp,Cm,fu,Q1,J1,Kx,Uu,my,e_;let TextLayer$1=(Eo=class{constructor({textContentSource:$,container:ht,viewport:vt}){qt(this,fu);qt(this,Tu,Promise.withResolvers());qt(this,bo,null);qt(this,ov,!1);qt(this,av,!!((A1=globalThis.FontInspector)!=null&&A1.enabled));qt(this,hp,null);qt(this,Ql,null);qt(this,lv,0);qt(this,cv,0);qt(this,fp,null);qt(this,_m,null);qt(this,wm,0);qt(this,Pu,0);qt(this,Am,Object.create(null));qt(this,uv,[]);qt(this,Sm,null);qt(this,pp,[]);qt(this,dv,new WeakMap);qt(this,hv,null);if($ instanceof ReadableStream)Vt(this,Sm,$);else if(typeof $=="object")Vt(this,Sm,new ReadableStream({start(At){At.enqueue($),At.close()}}));else throw new Error('No "textContentSource" parameter specified.');Vt(this,bo,Vt(this,_m,ht)),Vt(this,Pu,vt.scale*(globalThis.devicePixelRatio||1)),Vt(this,wm,vt.rotation),Vt(this,Ql,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:xt,pageHeight:bt,pageX:Et,pageY:_t}=vt.rawDims;Vt(this,hv,[1,0,0,-1,-Et,_t+bt]),Vt(this,cv,xt),Vt(this,lv,bt),setLayerDimensions(ht,vt),wt(this,Tu).promise.catch(()=>{}).then(()=>{wt(Eo,Cm).delete(this),Vt(this,Ql,null),Vt(this,Am,null)})}render(){const $=()=>{wt(this,fp).read().then(({value:ht,done:vt})=>{if(vt){wt(this,Tu).resolve();return}wt(this,hp)??Vt(this,hp,ht.lang),Object.assign(wt(this,Am),ht.styles),Ut(this,fu,Q1).call(this,ht.items),$()},wt(this,Tu).reject)};return Vt(this,fp,wt(this,Sm).getReader()),wt(Eo,Cm).add(this),$(),wt(this,Tu).promise}update({viewport:$,onBefore:ht=null}){var bt;const vt=$.scale*(globalThis.devicePixelRatio||1),xt=$.rotation;if(xt!==wt(this,wm)&&(ht==null||ht(),Vt(this,wm,xt),setLayerDimensions(wt(this,_m),{rotation:xt})),vt!==wt(this,Pu)){ht==null||ht(),Vt(this,Pu,vt);const Et={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Ut(bt=Eo,Uu,my).call(bt,wt(this,hp))};for(const _t of wt(this,pp))Et.properties=wt(this,dv).get(_t),Et.div=_t,Ut(this,fu,Kx).call(this,Et)}}cancel(){var ht;const $=new AbortException("TextLayer task cancelled.");(ht=wt(this,fp))==null||ht.cancel($).catch(()=>{}),Vt(this,fp,null),wt(this,Tu).reject($)}get textDivs(){return wt(this,pp)}get textContentItemsStr(){return wt(this,uv)}static cleanup(){if(!(wt(this,Cm).size>0)){wt(this,gp).clear();for(const{canvas:$}of wt(this,mp).values())$.remove();wt(this,mp).clear()}}},Tu=new WeakMap,bo=new WeakMap,ov=new WeakMap,av=new WeakMap,hp=new WeakMap,Ql=new WeakMap,lv=new WeakMap,cv=new WeakMap,fp=new WeakMap,_m=new WeakMap,wm=new WeakMap,Pu=new WeakMap,Am=new WeakMap,uv=new WeakMap,Sm=new WeakMap,pp=new WeakMap,dv=new WeakMap,hv=new WeakMap,gp=new WeakMap,mp=new WeakMap,Cm=new WeakMap,fu=new WeakSet,Q1=function($){var xt,bt;if(wt(this,ov))return;(bt=wt(this,Ql)).ctx||(bt.ctx=Ut(xt=Eo,Uu,my).call(xt,wt(this,hp)));const ht=wt(this,pp),vt=wt(this,uv);for(const Et of $){if(ht.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),Vt(this,ov,!0);return}if(Et.str===void 0){if(Et.type==="beginMarkedContentProps"||Et.type==="beginMarkedContent"){const _t=wt(this,bo);Vt(this,bo,document.createElement("span")),wt(this,bo).classList.add("markedContent"),Et.id!==null&&wt(this,bo).setAttribute("id",`${Et.id}`),_t.append(wt(this,bo))}else Et.type==="endMarkedContent"&&Vt(this,bo,wt(this,bo).parentNode);continue}vt.push(Et.str),Ut(this,fu,J1).call(this,Et)}},J1=function($){var Lt;const ht=document.createElement("span"),vt={angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,fontSize:0};wt(this,pp).push(ht);const xt=Util.transform(wt(this,hv),$.transform);let bt=Math.atan2(xt[1],xt[0]);const Et=wt(this,Am)[$.fontName];Et.vertical&&(bt+=Math.PI/2);const _t=wt(this,av)&&Et.fontSubstitution||Et.fontFamily,At=Math.hypot(xt[2],xt[3]),Ct=At*Ut(Lt=Eo,Uu,e_).call(Lt,_t,wt(this,hp));let St,Rt;bt===0?(St=xt[4],Rt=xt[5]-Ct):(St=xt[4]+Ct*Math.sin(bt),Rt=xt[5]-Ct*Math.cos(bt));const Pt="calc(var(--scale-factor)*",kt=ht.style;wt(this,bo)===wt(this,_m)?(kt.left=`${(100*St/wt(this,cv)).toFixed(2)}%`,kt.top=`${(100*Rt/wt(this,lv)).toFixed(2)}%`):(kt.left=`${Pt}${St.toFixed(2)}px)`,kt.top=`${Pt}${Rt.toFixed(2)}px)`),kt.fontSize=`${Pt}${At.toFixed(2)}px)`,kt.fontFamily=_t,vt.fontSize=At,ht.setAttribute("role","presentation"),ht.textContent=$.str,ht.dir=$.dir,wt(this,av)&&(ht.dataset.fontName=Et.fontSubstitutionLoadedName||$.fontName),bt!==0&&(vt.angle=bt*(180/Math.PI));let Mt=!1;if($.str.length>1)Mt=!0;else if($.str!==" "&&$.transform[0]!==$.transform[3]){const Ot=Math.abs($.transform[0]),Ft=Math.abs($.transform[3]);Ot!==Ft&&Math.max(Ot,Ft)/Math.min(Ot,Ft)>1.5&&(Mt=!0)}if(Mt&&(vt.canvasWidth=Et.vertical?$.height:$.width),wt(this,dv).set(ht,vt),wt(this,Ql).div=ht,wt(this,Ql).properties=vt,Ut(this,fu,Kx).call(this,wt(this,Ql)),vt.hasText&&wt(this,bo).append(ht),vt.hasEOL){const Ot=document.createElement("br");Ot.setAttribute("role","presentation"),wt(this,bo).append(Ot)}},Kx=function($){const{div:ht,properties:vt,ctx:xt,prevFontSize:bt,prevFontFamily:Et}=$,{style:_t}=ht;let At="";if(vt.canvasWidth!==0&&vt.hasText){const{fontFamily:Ct}=_t,{canvasWidth:St,fontSize:Rt}=vt;(bt!==Rt||Et!==Ct)&&(xt.font=`${Rt*wt(this,Pu)}px ${Ct}`,$.prevFontSize=Rt,$.prevFontFamily=Ct);const{width:Pt}=xt.measureText(ht.textContent);Pt>0&&(At=`scaleX(${St*wt(this,Pu)/Pt})`)}vt.angle!==0&&(At=`rotate(${vt.angle}deg) ${At}`),At.length>0&&(_t.transform=At)},Uu=new WeakSet,my=function($=null){let ht=wt(this,mp).get($||($=""));if(!ht){const vt=document.createElement("canvas");vt.className="hiddenCanvasElement",vt.lang=$,document.body.append(vt),ht=vt.getContext("2d",{alpha:!1}),wt(this,mp).set($,ht)}return ht},e_=function($,ht){const vt=wt(this,gp).get($);if(vt)return vt;const xt=Ut(this,Uu,my).call(this,ht),bt=xt.font;xt.canvas.width=xt.canvas.height=DEFAULT_FONT_SIZE,xt.font=`${DEFAULT_FONT_SIZE}px ${$}`;const Et=xt.measureText("");let _t=Et.fontBoundingBoxAscent,At=Math.abs(Et.fontBoundingBoxDescent);if(_t){const Rt=_t/(_t+At);return wt(this,gp).set($,Rt),xt.canvas.width=xt.canvas.height=0,xt.font=bt,Rt}xt.strokeStyle="red",xt.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),xt.strokeText("g",0,0);let Ct=xt.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;At=0;for(let Rt=Ct.length-1-3;Rt>=0;Rt-=4)if(Ct[Rt]>0){At=Math.ceil(Rt/4/DEFAULT_FONT_SIZE);break}xt.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),xt.strokeText("A",0,DEFAULT_FONT_SIZE),Ct=xt.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,_t=0;for(let Rt=0,Pt=Ct.length;Rt<Pt;Rt+=4)if(Ct[Rt]>0){_t=DEFAULT_FONT_SIZE-Math.floor(Rt/4/DEFAULT_FONT_SIZE);break}xt.canvas.width=xt.canvas.height=0,xt.font=bt;const St=_t?_t/(_t+At):DEFAULT_FONT_ASCENT;return wt(this,gp).set($,St),St},qt(Eo,Uu),qt(Eo,gp,new Map),qt(Eo,mp,new Map),qt(Eo,Cm,new Set),Eo);function renderTextLayer(){deprecated("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:_e,container:$,viewport:ht,...vt}=arguments[0],xt=Object.keys(vt);xt.length>0&&warn("Ignoring `renderTextLayer` parameters: "+xt.join(", "));const bt=new TextLayer$1({textContentSource:_e,container:$,viewport:ht}),{textDivs:Et,textContentItemsStr:_t}=bt;return{promise:bt.render(),textDivs:Et,textContentItemsStr:_t}}function updateTextLayer(){deprecated("`updateTextLayer`, please use `TextLayer` instead.")}class XfaText{static textContent($){const ht=[],vt={items:ht,styles:Object.create(null)};function xt(bt){var At;if(!bt)return;let Et=null;const _t=bt.name;if(_t==="#text")Et=bt.value;else if(XfaText.shouldBuildText(_t))(At=bt==null?void 0:bt.attributes)!=null&&At.textContent?Et=bt.attributes.textContent:bt.value&&(Et=bt.value);else return;if(Et!==null&&ht.push({str:Et}),!!bt.children)for(const Ct of bt.children)xt(Ct)}return xt($),vt}static shouldBuildText($){return!($==="textarea"||$==="input"||$==="option"||$==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(_e){if(typeof _e=="string"||_e instanceof URL?_e={url:_e}:(_e instanceof ArrayBuffer||ArrayBuffer.isView(_e))&&(_e={data:_e}),typeof _e!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!_e.url&&!_e.data&&!_e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const $=new PDFDocumentLoadingTask,{docId:ht}=$,vt=_e.url?getUrlProp(_e.url):null,xt=_e.data?getDataProp(_e.data):null,bt=_e.httpHeaders||null,Et=_e.withCredentials===!0,_t=_e.password??null,At=_e.range instanceof PDFDataRangeTransport$1?_e.range:null,Ct=Number.isInteger(_e.rangeChunkSize)&&_e.rangeChunkSize>0?_e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let St=_e.worker instanceof PDFWorker?_e.worker:null;const Rt=_e.verbosity,Pt=typeof _e.docBaseUrl=="string"&&!isDataScheme(_e.docBaseUrl)?_e.docBaseUrl:null,kt=typeof _e.cMapUrl=="string"?_e.cMapUrl:null,Mt=_e.cMapPacked!==!1,Lt=_e.CMapReaderFactory||DefaultCMapReaderFactory,Ot=typeof _e.standardFontDataUrl=="string"?_e.standardFontDataUrl:null,Ft=_e.StandardFontDataFactory||DefaultStandardFontDataFactory,Dt=_e.stopAtErrors!==!0,$t=Number.isInteger(_e.maxImageSize)&&_e.maxImageSize>-1?_e.maxImageSize:-1,Bt=_e.isEvalSupported!==!1,Nt=typeof _e.isOffscreenCanvasSupported=="boolean"?_e.isOffscreenCanvasSupported:!isNodeJS,Ht=Number.isInteger(_e.canvasMaxAreaInBytes)?_e.canvasMaxAreaInBytes:-1,jt=typeof _e.disableFontFace=="boolean"?_e.disableFontFace:isNodeJS,zt=_e.fontExtraProperties===!0,Kt=_e.enableXfa===!0,en=_e.ownerDocument||globalThis.document,Wt=_e.disableRange===!0,Qt=_e.disableStream===!0,on=_e.disableAutoFetch===!0,En=_e.pdfBug===!0,un=At?At.length:_e.length??NaN,xn=typeof _e.useSystemFonts=="boolean"?_e.useSystemFonts:!isNodeJS&&!jt,an=typeof _e.useWorkerFetch=="boolean"?_e.useWorkerFetch:Lt===DOMCMapReaderFactory&&Ft===DOMStandardFontDataFactory&&kt&&Ot&&isValidFetchUrl(kt,document.baseURI)&&isValidFetchUrl(Ot,document.baseURI),hn=_e.canvasFactory||new DefaultCanvasFactory({ownerDocument:en}),nn=_e.filterFactory||new DefaultFilterFactory({docId:ht,ownerDocument:en}),gn=null;setVerbosityLevel(Rt);const wn={canvasFactory:hn,filterFactory:nn};if(an||(wn.cMapReaderFactory=new Lt({baseUrl:kt,isCompressed:Mt}),wn.standardFontDataFactory=new Ft({baseUrl:Ot})),!St){const Yt={verbosity:Rt,port:GlobalWorkerOptions.workerPort};St=Yt.port?PDFWorker.fromPort(Yt):new PDFWorker(Yt),$._worker=St}const rn={docId:ht,apiVersion:"4.3.136",data:xt,password:_t,disableAutoFetch:on,rangeChunkSize:Ct,length:un,docBaseUrl:Pt,enableXfa:Kt,evaluatorOptions:{maxImageSize:$t,disableFontFace:jt,ignoreErrors:Dt,isEvalSupported:Bt,isOffscreenCanvasSupported:Nt,canvasMaxAreaInBytes:Ht,fontExtraProperties:zt,useSystemFonts:xn,cMapUrl:an?kt:null,standardFontDataUrl:an?Ot:null}},Xt={disableFontFace:jt,fontExtraProperties:zt,ownerDocument:en,pdfBug:En,styleElement:gn,loadingParams:{disableAutoFetch:on,enableXfa:Kt}};return St.promise.then(function(){if($.destroyed)throw new Error("Loading aborted");if(St.destroyed)throw new Error("Worker was destroyed");const Yt=St.messageHandler.sendWithPromise("GetDocRequest",rn,xt?[xt.buffer]:null);let tn;return At?tn=new PDFDataTransportStream(At,{disableRange:Wt,disableStream:Qt}):xt||(tn=(ln=>isNodeJS?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&isValidFetchUrl(ln.url)?new PDFFetchStream(ln):new PDFNodeStream(ln):isValidFetchUrl(ln.url)?new PDFFetchStream(ln):new PDFNetworkStream(ln))({url:vt,length:un,httpHeaders:bt,withCredentials:Et,rangeChunkSize:Ct,disableRange:Wt,disableStream:Qt})),Yt.then(dn=>{if($.destroyed)throw new Error("Loading aborted");if(St.destroyed)throw new Error("Worker was destroyed");const ln=new MessageHandler(ht,dn,St.port),fn=new WorkerTransport(ln,$,tn,Xt,wn);$._transport=fn,ln.send("Ready",null)})}).catch($._capability.reject),$}function getUrlProp(_e){if(_e instanceof URL)return _e.href;try{return new URL(_e,window.location).href}catch{if(isNodeJS&&typeof _e=="string")return _e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(_e){if(isNodeJS&&typeof Buffer<"u"&&_e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength)return _e;if(typeof _e=="string")return stringToBytes(_e);if(_e instanceof ArrayBuffer||ArrayBuffer.isView(_e)||typeof _e=="object"&&!isNaN(_e==null?void 0:_e.length))return new Uint8Array(_e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(_e){return typeof _e=="object"&&Number.isInteger(_e==null?void 0:_e.num)&&_e.num>=0&&Number.isInteger(_e==null?void 0:_e.gen)&&_e.gen>=0}var sx;const ox=class ox{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${eo(ox,sx)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var $,ht,vt;this.destroyed=!0;try{($=this._worker)!=null&&$.port&&(this._worker._pendingDestroy=!0),await((ht=this._transport)==null?void 0:ht.destroy())}catch(xt){throw(vt=this._worker)!=null&&vt.port&&delete this._worker._pendingDestroy,xt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};sx=new WeakMap,qt(ox,sx,0);let PDFDocumentLoadingTask=ox,PDFDataRangeTransport$1=class{constructor($,ht,vt=!1,xt=null){this.length=$,this.initialData=ht,this.progressiveDone=vt,this.contentDispositionFilename=xt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener($){this._rangeListeners.push($)}addProgressListener($){this._progressListeners.push($)}addProgressiveReadListener($){this._progressiveReadListeners.push($)}addProgressiveDoneListener($){this._progressiveDoneListeners.push($)}onDataRange($,ht){for(const vt of this._rangeListeners)vt($,ht)}onDataProgress($,ht){this._readyCapability.promise.then(()=>{for(const vt of this._progressListeners)vt($,ht)})}onDataProgressiveRead($){this._readyCapability.promise.then(()=>{for(const ht of this._progressiveReadListeners)ht($)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const $ of this._progressiveDoneListeners)$()})}transportReady(){this._readyCapability.resolve()}requestDataRange($,ht){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class PDFDocumentProxy{constructor($,ht){this._pdfInfo=$,this._transport=ht}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage($){return this._transport.getPage($)}getPageIndex($){return this._transport.getPageIndex($)}getDestinations(){return this._transport.getDestinations()}getDestination($){return this._transport.getDestination($)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:$="display"}={}){const{renderingIntent:ht}=this._transport.getRenderingIntent($);return this._transport.getOptionalContentConfig(ht)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup($=!1){return this._transport.startCleanup($||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber($){return this._transport.cachedPageNumber($)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ku,Jl,No,Jp,vy;class PDFPageProxy{constructor($,ht,vt,xt=!1){qt(this,No);qt(this,ku,null);qt(this,Jl,!1);this._pageIndex=$,this._pageInfo=ht,this._transport=vt,this._stats=xt?new StatTimer:null,this._pdfBug=xt,this.commonObjs=vt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:$,rotation:ht=this.rotate,offsetX:vt=0,offsetY:xt=0,dontFlip:bt=!1}={}){return new PageViewport({viewBox:this.view,scale:$,rotation:ht,offsetX:vt,offsetY:xt,dontFlip:bt})}getAnnotations({intent:$="display"}={}){const{renderingIntent:ht}=this._transport.getRenderingIntent($);return this._transport.getAnnotations(this._pageIndex,ht)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var $;return(($=this._transport._htmlForXfa)==null?void 0:$.children[this._pageIndex])||null}render({canvasContext:$,viewport:ht,intent:vt="display",annotationMode:xt=AnnotationMode.ENABLE,transform:bt=null,background:Et=null,optionalContentConfigPromise:_t=null,annotationCanvasMap:At=null,pageColors:Ct=null,printAnnotationStorage:St=null}){var $t,Bt;($t=this._stats)==null||$t.time("Overall");const Rt=this._transport.getRenderingIntent(vt,xt,St),{renderingIntent:Pt,cacheKey:kt}=Rt;Vt(this,Jl,!1),Ut(this,No,vy).call(this),_t||(_t=this._transport.getOptionalContentConfig(Pt));let Mt=this._intentStates.get(kt);Mt||(Mt=Object.create(null),this._intentStates.set(kt,Mt)),Mt.streamReaderCancelTimeout&&(clearTimeout(Mt.streamReaderCancelTimeout),Mt.streamReaderCancelTimeout=null);const Lt=!!(Pt&RenderingIntentFlag.PRINT);Mt.displayReadyCapability||(Mt.displayReadyCapability=Promise.withResolvers(),Mt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Bt=this._stats)==null||Bt.time("Page Request"),this._pumpOperatorList(Rt));const Ot=Nt=>{var Ht;Mt.renderTasks.delete(Ft),(this._maybeCleanupAfterRender||Lt)&&Vt(this,Jl,!0),Ut(this,No,Jp).call(this,!Lt),Nt?(Ft.capability.reject(Nt),this._abortOperatorList({intentState:Mt,reason:Nt instanceof Error?Nt:new Error(Nt)})):Ft.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Ht=globalThis.Stats)!=null&&Ht.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Ft=new InternalRenderTask({callback:Ot,params:{canvasContext:$,viewport:ht,transform:bt,background:Et},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:At,operatorList:Mt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Lt,pdfBug:this._pdfBug,pageColors:Ct});(Mt.renderTasks||(Mt.renderTasks=new Set)).add(Ft);const Dt=Ft.task;return Promise.all([Mt.displayReadyCapability.promise,_t]).then(([Nt,Ht])=>{var jt;if(this.destroyed){Ot();return}if((jt=this._stats)==null||jt.time("Rendering"),!(Ht.renderingIntent&Pt))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Ft.initializeGraphics({transparency:Nt,optionalContentConfig:Ht}),Ft.operatorListChanged()}).catch(Ot),Dt}getOperatorList({intent:$="display",annotationMode:ht=AnnotationMode.ENABLE,printAnnotationStorage:vt=null}={}){var At;function xt(){Et.operatorList.lastChunk&&(Et.opListReadCapability.resolve(Et.operatorList),Et.renderTasks.delete(_t))}const bt=this._transport.getRenderingIntent($,ht,vt,!0);let Et=this._intentStates.get(bt.cacheKey);Et||(Et=Object.create(null),this._intentStates.set(bt.cacheKey,Et));let _t;return Et.opListReadCapability||(_t=Object.create(null),_t.operatorListChanged=xt,Et.opListReadCapability=Promise.withResolvers(),(Et.renderTasks||(Et.renderTasks=new Set)).add(_t),Et.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(At=this._stats)==null||At.time("Page Request"),this._pumpOperatorList(bt)),Et.opListReadCapability.promise}streamTextContent({includeMarkedContent:$=!1,disableNormalization:ht=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:$===!0,disableNormalization:ht===!0},{highWaterMark:100,size(xt){return xt.items.length}})}getTextContent($={}){if(this._transport._htmlForXfa)return this.getXfa().then(vt=>XfaText.textContent(vt));const ht=this.streamTextContent($);return new Promise(function(vt,xt){function bt(){Et.read().then(function({value:At,done:Ct}){if(Ct){vt(_t);return}_t.lang??(_t.lang=At.lang),Object.assign(_t.styles,At.styles),_t.items.push(...At.items),bt()},xt)}const Et=ht.getReader(),_t={items:[],styles:Object.create(null),lang:null};bt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const $=[];for(const ht of this._intentStates.values())if(this._abortOperatorList({intentState:ht,reason:new Error("Page was destroyed."),force:!0}),!ht.opListReadCapability)for(const vt of ht.renderTasks)$.push(vt.completed),vt.cancel();return this.objs.clear(),Vt(this,Jl,!1),Ut(this,No,vy).call(this),Promise.all($)}cleanup($=!1){Vt(this,Jl,!0);const ht=Ut(this,No,Jp).call(this,!1);return $&&ht&&this._stats&&(this._stats=new StatTimer),ht}_startRenderPage($,ht){var xt,bt;const vt=this._intentStates.get(ht);vt&&((xt=this._stats)==null||xt.timeEnd("Page Request"),(bt=vt.displayReadyCapability)==null||bt.resolve($))}_renderPageChunk($,ht){for(let vt=0,xt=$.length;vt<xt;vt++)ht.operatorList.fnArray.push($.fnArray[vt]),ht.operatorList.argsArray.push($.argsArray[vt]);ht.operatorList.lastChunk=$.lastChunk,ht.operatorList.separateAnnots=$.separateAnnots;for(const vt of ht.renderTasks)vt.operatorListChanged();$.lastChunk&&Ut(this,No,Jp).call(this,!0)}_pumpOperatorList({renderingIntent:$,cacheKey:ht,annotationStorageSerializable:vt}){const{map:xt,transfer:bt}=vt,_t=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:$,cacheKey:ht,annotationStorage:xt},bt).getReader(),At=this._intentStates.get(ht);At.streamReader=_t;const Ct=()=>{_t.read().then(({value:St,done:Rt})=>{if(Rt){At.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(St,At),Ct())},St=>{if(At.streamReader=null,!this._transport.destroyed){if(At.operatorList){At.operatorList.lastChunk=!0;for(const Rt of At.renderTasks)Rt.operatorListChanged();Ut(this,No,Jp).call(this,!0)}if(At.displayReadyCapability)At.displayReadyCapability.reject(St);else if(At.opListReadCapability)At.opListReadCapability.reject(St);else throw St}})};Ct()}_abortOperatorList({intentState:$,reason:ht,force:vt=!1}){if($.streamReader){if($.streamReaderCancelTimeout&&(clearTimeout($.streamReaderCancelTimeout),$.streamReaderCancelTimeout=null),!vt){if($.renderTasks.size>0)return;if(ht instanceof RenderingCancelledException){let xt=RENDERING_CANCELLED_TIMEOUT;ht.extraDelay>0&&ht.extraDelay<1e3&&(xt+=ht.extraDelay),$.streamReaderCancelTimeout=setTimeout(()=>{$.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:$,reason:ht,force:!0})},xt);return}}if($.streamReader.cancel(new AbortException(ht.message)).catch(()=>{}),$.streamReader=null,!this._transport.destroyed){for(const[xt,bt]of this._intentStates)if(bt===$){this._intentStates.delete(xt);break}this.cleanup()}}}get stats(){return this._stats}}ku=new WeakMap,Jl=new WeakMap,No=new WeakSet,Jp=function($=!1){if(Ut(this,No,vy).call(this),!wt(this,Jl)||this.destroyed)return!1;if($)return Vt(this,ku,setTimeout(()=>{Vt(this,ku,null),Ut(this,No,Jp).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ht,operatorList:vt}of this._intentStates.values())if(ht.size>0||!vt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Vt(this,Jl,!1),!0},vy=function(){wt(this,ku)&&(clearTimeout(wt(this,ku)),Vt(this,ku,null))};var vp,ax;class LoopbackPort{constructor(){qt(this,vp,new Set);qt(this,ax,Promise.resolve())}postMessage($,ht){const vt={data:structuredClone($,ht?{transfer:ht}:null)};wt(this,ax).then(()=>{for(const xt of wt(this,vp))xt.call(this,vt)})}addEventListener($,ht){wt(this,vp).add(ht)}removeEventListener($,ht){wt(this,vp).delete(ht)}terminate(){wt(this,vp).clear()}}vp=new WeakMap,ax=new WeakMap;const PDFWorkerUtil={isWorkerDisabled:!1,fakeWorkerId:0};isNodeJS&&(PDFWorkerUtil.isWorkerDisabled=!0,GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),PDFWorkerUtil.isSameOrigin=function(_e,$){let ht;try{if(ht=new URL(_e),!ht.origin||ht.origin==="null")return!1}catch{return!1}const vt=new URL($,ht);return ht.origin===vt.origin},PDFWorkerUtil.createCDNWrapper=function(_e){const $=`await import("${_e}");`;return URL.createObjectURL(new Blob([$],{type:"text/javascript"}))};var yp,Rm,yy;const So=class So{constructor({name:$=null,port:ht=null,verbosity:vt=getVerbosityLevel()}={}){var xt;if(this.name=$,this.destroyed=!1,this.verbosity=vt,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,ht){if((xt=wt(So,yp))!=null&&xt.has(ht))throw new Error("Cannot use more than one PDFWorker per port.");(wt(So,yp)||Vt(So,yp,new WeakMap)).set(ht,this),this._initializeFromPort(ht);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!wt(So,Rm,yy)){let{workerSrc:$}=So;try{PDFWorkerUtil.isSameOrigin(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const ht=new Worker($,{type:"module"}),vt=new MessageHandler("main","worker",ht),xt=()=>{ht.removeEventListener("error",bt),vt.destroy(),ht.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},bt=()=>{this._webWorker||xt()};ht.addEventListener("error",bt),vt.on("test",_t=>{if(ht.removeEventListener("error",bt),this.destroyed){xt();return}_t?(this._messageHandler=vt,this._port=ht,this._webWorker=ht,this._readyCapability.resolve(),vt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),vt.destroy(),ht.terminate())}),vt.on("ready",_t=>{if(ht.removeEventListener("error",bt),this.destroyed){xt();return}try{Et()}catch{this._setupFakeWorker()}});const Et=()=>{const _t=new Uint8Array;vt.send("test",_t,[_t.buffer])};Et();return}catch{info("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||(warn("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),So._setupFakeWorkerGlobal.then($=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ht=new LoopbackPort;this._port=ht;const vt=`fake${PDFWorkerUtil.fakeWorkerId++}`,xt=new MessageHandler(vt+"_worker",vt,ht);$.setup(xt,ht);const bt=new MessageHandler(vt,vt+"_worker",ht);this._messageHandler=bt,this._readyCapability.resolve(),bt.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){var $;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($=wt(So,yp))==null||$.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){var vt;if(!($!=null&&$.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ht=(vt=wt(this,yp))==null?void 0:vt.get($.port);if(ht){if(ht._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ht}return new So($)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>wt(this,Rm,yy)?wt(this,Rm,yy):(await import(this.workerSrc)).WorkerMessageHandler)())}};yp=new WeakMap,Rm=new WeakSet,yy=function(){var $;try{return(($=globalThis.pdfjsWorker)==null?void 0:$.WorkerMessageHandler)||null}catch{return null}},qt(So,Rm),qt(So,yp);let PDFWorker=So;var _c,wl,Tm,Pm,Al,xp,a0;class WorkerTransport{constructor($,ht,vt,xt,bt){qt(this,xp);qt(this,_c,new Map);qt(this,wl,new Map);qt(this,Tm,new Map);qt(this,Pm,new Map);qt(this,Al,null);this.messageHandler=$,this.loadingTask=ht,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:xt.ownerDocument,styleElement:xt.styleElement}),this.loadingParams=xt.loadingParams,this._params=xt,this.canvasFactory=bt.canvasFactory,this.filterFactory=bt.filterFactory,this.cMapReaderFactory=bt.cMapReaderFactory,this.standardFontDataFactory=bt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=vt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent($,ht=AnnotationMode.ENABLE,vt=null,xt=!1){let bt=RenderingIntentFlag.DISPLAY,Et=SerializableEmpty;switch($){case"any":bt=RenderingIntentFlag.ANY;break;case"display":break;case"print":bt=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${$}`)}switch(ht){case AnnotationMode.DISABLE:bt+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:bt+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:bt+=RenderingIntentFlag.ANNOTATIONS_STORAGE,Et=(bt&RenderingIntentFlag.PRINT&&vt instanceof PrintAnnotationStorage?vt:this.annotationStorage).serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${ht}`)}return xt&&(bt+=RenderingIntentFlag.OPLIST),{renderingIntent:bt,cacheKey:`${bt}_${Et.hash}`,annotationStorageSerializable:Et}}destroy(){var vt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(vt=wt(this,Al))==null||vt.reject(new Error("Worker was destroyed during onPassword callback"));const $=[];for(const xt of wt(this,wl).values())$.push(xt._destroy());wt(this,wl).clear(),wt(this,Tm).clear(),wt(this,Pm).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ht=this.messageHandler.sendWithPromise("Terminate",null);return $.push(ht),Promise.all($).then(()=>{var xt;this.commonObjs.clear(),this.fontLoader.clear(),wt(this,_c).clear(),this.filterFactory.destroy(),TextLayer$1.cleanup(),(xt=this._networkStream)==null||xt.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:$,loadingTask:ht}=this;$.on("GetReader",(vt,xt)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=bt=>{this._lastProgress={loaded:bt.loaded,total:bt.total}},xt.onPull=()=>{this._fullReader.read().then(function({value:bt,done:Et}){if(Et){xt.close();return}assert(bt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),xt.enqueue(new Uint8Array(bt),1,[bt])}).catch(bt=>{xt.error(bt)})},xt.onCancel=bt=>{this._fullReader.cancel(bt),xt.ready.catch(Et=>{if(!this.destroyed)throw Et})}}),$.on("ReaderHeadersReady",vt=>{const xt=Promise.withResolvers(),bt=this._fullReader;return bt.headersReady.then(()=>{var Et;(!bt.isStreamingSupported||!bt.isRangeSupported)&&(this._lastProgress&&((Et=ht.onProgress)==null||Et.call(ht,this._lastProgress)),bt.onProgress=_t=>{var At;(At=ht.onProgress)==null||At.call(ht,{loaded:_t.loaded,total:_t.total})}),xt.resolve({isStreamingSupported:bt.isStreamingSupported,isRangeSupported:bt.isRangeSupported,contentLength:bt.contentLength})},xt.reject),xt.promise}),$.on("GetRangeReader",(vt,xt)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const bt=this._networkStream.getRangeReader(vt.begin,vt.end);if(!bt){xt.close();return}xt.onPull=()=>{bt.read().then(function({value:Et,done:_t}){if(_t){xt.close();return}assert(Et instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),xt.enqueue(new Uint8Array(Et),1,[Et])}).catch(Et=>{xt.error(Et)})},xt.onCancel=Et=>{bt.cancel(Et),xt.ready.catch(_t=>{if(!this.destroyed)throw _t})}}),$.on("GetDoc",({pdfInfo:vt})=>{this._numPages=vt.numPages,this._htmlForXfa=vt.htmlForXfa,delete vt.htmlForXfa,ht._capability.resolve(new PDFDocumentProxy(vt,this))}),$.on("DocException",function(vt){let xt;switch(vt.name){case"PasswordException":xt=new PasswordException(vt.message,vt.code);break;case"InvalidPDFException":xt=new InvalidPDFException(vt.message);break;case"MissingPDFException":xt=new MissingPDFException(vt.message);break;case"UnexpectedResponseException":xt=new UnexpectedResponseException(vt.message,vt.status);break;case"UnknownErrorException":xt=new UnknownErrorException(vt.message,vt.details);break;default:unreachable("DocException - expected a valid Error.")}ht._capability.reject(xt)}),$.on("PasswordRequest",vt=>{if(Vt(this,Al,Promise.withResolvers()),ht.onPassword){const xt=bt=>{bt instanceof Error?wt(this,Al).reject(bt):wt(this,Al).resolve({password:bt})};try{ht.onPassword(xt,vt.code)}catch(bt){wt(this,Al).reject(bt)}}else wt(this,Al).reject(new PasswordException(vt.message,vt.code));return wt(this,Al).promise}),$.on("DataLoaded",vt=>{var xt;(xt=ht.onProgress)==null||xt.call(ht,{loaded:vt.length,total:vt.length}),this.downloadInfoCapability.resolve(vt)}),$.on("StartRenderPage",vt=>{if(this.destroyed)return;wt(this,wl).get(vt.pageIndex)._startRenderPage(vt.transparency,vt.cacheKey)}),$.on("commonobj",([vt,xt,bt])=>{var Et;if(this.destroyed||this.commonObjs.has(vt))return null;switch(xt){case"Font":const{disableFontFace:_t,fontExtraProperties:At,pdfBug:Ct}=this._params;if("error"in bt){const kt=bt.error;warn(`Error during font loading: ${kt}`),this.commonObjs.resolve(vt,kt);break}const St=Ct&&((Et=globalThis.FontInspector)!=null&&Et.enabled)?(kt,Mt)=>globalThis.FontInspector.fontAdded(kt,Mt):null,Rt=new FontFaceObject(bt,{disableFontFace:_t,inspectFont:St});this.fontLoader.bind(Rt).catch(()=>$.sendWithPromise("FontFallback",{id:vt})).finally(()=>{!At&&Rt.data&&(Rt.data=null),this.commonObjs.resolve(vt,Rt)});break;case"CopyLocalImage":const{imageRef:Pt}=bt;assert(Pt,"The imageRef must be defined.");for(const kt of wt(this,wl).values())for(const[,Mt]of kt.objs)if((Mt==null?void 0:Mt.ref)===Pt)return Mt.dataLen?(this.commonObjs.resolve(vt,structuredClone(Mt)),Mt.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(vt,bt);break;default:throw new Error(`Got unknown common object type ${xt}`)}return null}),$.on("obj",([vt,xt,bt,Et])=>{var At;if(this.destroyed)return;const _t=wt(this,wl).get(xt);if(!_t.objs.has(vt)){if(_t._intentStates.size===0){(At=Et==null?void 0:Et.bitmap)==null||At.close();return}switch(bt){case"Image":_t.objs.resolve(vt,Et),(Et==null?void 0:Et.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(_t._maybeCleanupAfterRender=!0);break;case"Pattern":_t.objs.resolve(vt,Et);break;default:throw new Error(`Got unknown object type ${bt}`)}}}),$.on("DocProgress",vt=>{var xt;this.destroyed||(xt=ht.onProgress)==null||xt.call(ht,{loaded:vt.loaded,total:vt.total})}),$.on("FetchBuiltInCMap",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(vt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),$.on("FetchStandardFontData",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(vt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var vt;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:$,transfer:ht}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:$,filename:((vt=this._fullReader)==null?void 0:vt.filename)??null},ht).finally(()=>{this.annotationStorage.resetModified()})}getPage($){if(!Number.isInteger($)||$<=0||$>this._numPages)return Promise.reject(new Error("Invalid page request."));const ht=$-1,vt=wt(this,Tm).get(ht);if(vt)return vt;const xt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ht}).then(bt=>{if(this.destroyed)throw new Error("Transport destroyed");bt.refStr&&wt(this,Pm).set(bt.refStr,$);const Et=new PDFPageProxy(ht,bt,this,this._params.pdfBug);return wt(this,wl).set(ht,Et),Et});return wt(this,Tm).set(ht,xt),xt}getPageIndex($){return isRefProxy($)?this.messageHandler.sendWithPromise("GetPageIndex",{num:$.num,gen:$.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations($,ht){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:$,intent:ht})}getFieldObjects(){return Ut(this,xp,a0).call(this,"GetFieldObjects")}hasJSActions(){return Ut(this,xp,a0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination($){return typeof $!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:$})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ut(this,xp,a0).call(this,"GetDocJSActions")}getPageJSActions($){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:$})}getStructTree($){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:$})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig($){return Ut(this,xp,a0).call(this,"GetOptionalContentConfig").then(ht=>new OptionalContentConfig(ht,$))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const $="GetMetadata",ht=wt(this,_c).get($);if(ht)return ht;const vt=this.messageHandler.sendWithPromise($,null).then(xt=>{var bt,Et;return{info:xt[0],metadata:xt[1]?new Metadata(xt[1]):null,contentDispositionFilename:((bt=this._fullReader)==null?void 0:bt.filename)??null,contentLength:((Et=this._fullReader)==null?void 0:Et.contentLength)??null}});return wt(this,_c).set($,vt),vt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup($=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ht of wt(this,wl).values())if(!ht.cleanup())throw new Error(`startCleanup: Page ${ht.pageNumber} is currently rendering.`);this.commonObjs.clear(),$||this.fontLoader.clear(),wt(this,_c).clear(),this.filterFactory.destroy(!0),TextLayer$1.cleanup()}}cachedPageNumber($){if(!isRefProxy($))return null;const ht=$.gen===0?`${$.num}R`:`${$.num}R${$.gen}`;return wt(this,Pm).get(ht)??null}}_c=new WeakMap,wl=new WeakMap,Tm=new WeakMap,Pm=new WeakMap,Al=new WeakMap,xp=new WeakSet,a0=function($,ht=null){const vt=wt(this,_c).get($);if(vt)return vt;const xt=this.messageHandler.sendWithPromise($,ht);return wt(this,_c).set($,xt),xt};const INITIAL_DATA=Symbol("INITIAL_DATA");var Xo,fv,Yx;class PDFObjects{constructor(){qt(this,fv);qt(this,Xo,Object.create(null))}get($,ht=null){if(ht){const xt=Ut(this,fv,Yx).call(this,$);return xt.promise.then(()=>ht(xt.data)),null}const vt=wt(this,Xo)[$];if(!vt||vt.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${$}.`);return vt.data}has($){const ht=wt(this,Xo)[$];return!!ht&&ht.data!==INITIAL_DATA}resolve($,ht=null){const vt=Ut(this,fv,Yx).call(this,$);vt.data=ht,vt.resolve()}clear(){var $;for(const ht in wt(this,Xo)){const{data:vt}=wt(this,Xo)[ht];($=vt==null?void 0:vt.bitmap)==null||$.close()}Vt(this,Xo,Object.create(null))}*[Symbol.iterator](){for(const $ in wt(this,Xo)){const{data:ht}=wt(this,Xo)[$];ht!==INITIAL_DATA&&(yield[$,ht])}}}Xo=new WeakMap,fv=new WeakSet,Yx=function($){var ht;return(ht=wt(this,Xo))[$]||(ht[$]={...Promise.withResolvers(),data:INITIAL_DATA})};var Mu;class RenderTask{constructor($){qt(this,Mu,null);Vt(this,Mu,$),this.onContinue=null}get promise(){return wt(this,Mu).capability.promise}cancel($=0){wt(this,Mu).cancel(null,$)}get separateAnnots(){const{separateAnnots:$}=wt(this,Mu).operatorList;if(!$)return!1;const{annotationCanvasMap:ht}=wt(this,Mu);return $.form||$.canvas&&(ht==null?void 0:ht.size)>0}}Mu=new WeakMap;var bp;const Qu=class Qu{constructor({callback:$,params:ht,objs:vt,commonObjs:xt,annotationCanvasMap:bt,operatorList:Et,pageIndex:_t,canvasFactory:At,filterFactory:Ct,useRequestAnimationFrame:St=!1,pdfBug:Rt=!1,pageColors:Pt=null}){this.callback=$,this.params=ht,this.objs=vt,this.commonObjs=xt,this.annotationCanvasMap=bt,this.operatorListIdx=null,this.operatorList=Et,this._pageIndex=_t,this.canvasFactory=At,this.filterFactory=Ct,this._pdfBug=Rt,this.pageColors=Pt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=St===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ht.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:$=!1,optionalContentConfig:ht}){var _t,At;if(this.cancelled)return;if(this._canvas){if(wt(Qu,bp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");wt(Qu,bp).add(this._canvas)}this._pdfBug&&((_t=globalThis.StepperManager)!=null&&_t.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:vt,viewport:xt,transform:bt,background:Et}=this.params;this.gfx=new CanvasGraphics(vt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ht},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:bt,viewport:xt,transparency:$,background:Et}),this.operatorListIdx=0,this.graphicsReady=!0,(At=this.graphicsReadyCallback)==null||At.call(this)}cancel($=null,ht=0){var vt;this.running=!1,this.cancelled=!0,(vt=this.gfx)==null||vt.endDrawing(),wt(Qu,bp).delete(this._canvas),this.callback($||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ht))}operatorListChanged(){var $;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}($=this.stepper)==null||$.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),wt(Qu,bp).delete(this._canvas),this.callback())))}};bp=new WeakMap,qt(Qu,bp,new WeakSet);let InternalRenderTask=Qu;const version="4.3.136",build="0cec64437";function makeColorComp(_e){return Math.floor(Math.max(0,Math.min(1,_e))*255).toString(16).padStart(2,"0")}function scaleAndClamp(_e){return Math.max(0,Math.min(255,255*_e))}class ColorConverters{static CMYK_G([$,ht,vt,xt]){return["G",1-Math.min(1,.3*$+.59*vt+.11*ht+xt)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_rgb([$]){return $=scaleAndClamp($),[$,$,$]}static G_HTML([$]){const ht=makeColorComp($);return`#${ht}${ht}${ht}`}static RGB_G([$,ht,vt]){return["G",.3*$+.59*ht+.11*vt]}static RGB_rgb($){return $.map(scaleAndClamp)}static RGB_HTML($){return`#${$.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$,ht,vt,xt]){return["RGB",1-Math.min(1,$+xt),1-Math.min(1,vt+xt),1-Math.min(1,ht+xt)]}static CMYK_rgb([$,ht,vt,xt]){return[scaleAndClamp(1-Math.min(1,$+xt)),scaleAndClamp(1-Math.min(1,vt+xt)),scaleAndClamp(1-Math.min(1,ht+xt))]}static CMYK_HTML($){const ht=this.CMYK_RGB($).slice(1);return this.RGB_HTML(ht)}static RGB_CMYK([$,ht,vt]){const xt=1-$,bt=1-ht,Et=1-vt,_t=Math.min(xt,bt,Et);return["CMYK",xt,bt,Et,_t]}}class XfaLayer{static setupStorage($,ht,vt,xt,bt){const Et=xt.getValue(ht,{value:null});switch(vt.name){case"textarea":if(Et.value!==null&&($.textContent=Et.value),bt==="print")break;$.addEventListener("input",_t=>{xt.setValue(ht,{value:_t.target.value})});break;case"input":if(vt.attributes.type==="radio"||vt.attributes.type==="checkbox"){if(Et.value===vt.attributes.xfaOn?$.setAttribute("checked",!0):Et.value===vt.attributes.xfaOff&&$.removeAttribute("checked"),bt==="print")break;$.addEventListener("change",_t=>{xt.setValue(ht,{value:_t.target.checked?_t.target.getAttribute("xfaOn"):_t.target.getAttribute("xfaOff")})})}else{if(Et.value!==null&&$.setAttribute("value",Et.value),bt==="print")break;$.addEventListener("input",_t=>{xt.setValue(ht,{value:_t.target.value})})}break;case"select":if(Et.value!==null){$.setAttribute("value",Et.value);for(const _t of vt.children)_t.attributes.value===Et.value?_t.attributes.selected=!0:_t.attributes.hasOwnProperty("selected")&&delete _t.attributes.selected}$.addEventListener("input",_t=>{const At=_t.target.options,Ct=At.selectedIndex===-1?"":At[At.selectedIndex].value;xt.setValue(ht,{value:Ct})});break}}static setAttributes({html:$,element:ht,storage:vt=null,intent:xt,linkService:bt}){const{attributes:Et}=ht,_t=$ instanceof HTMLAnchorElement;Et.type==="radio"&&(Et.name=`${Et.name}-${xt}`);for(const[At,Ct]of Object.entries(Et))if(Ct!=null)switch(At){case"class":Ct.length&&$.setAttribute(At,Ct.join(" "));break;case"dataId":break;case"id":$.setAttribute("data-element-id",Ct);break;case"style":Object.assign($.style,Ct);break;case"textContent":$.textContent=Ct;break;default:(!_t||At!=="href"&&At!=="newWindow")&&$.setAttribute(At,Ct)}_t&&bt.addLinkAttributes($,Et.href,Et.newWindow),vt&&Et.dataId&&this.setupStorage($,Et.dataId,ht,vt)}static render($){var Rt,Pt;const ht=$.annotationStorage,vt=$.linkService,xt=$.xfaHtml,bt=$.intent||"display",Et=document.createElement(xt.name);xt.attributes&&this.setAttributes({html:Et,element:xt,intent:bt,linkService:vt});const _t=bt!=="richText",At=$.div;if(At.append(Et),$.viewport){const kt=`matrix(${$.viewport.transform.join(",")})`;At.style.transform=kt}_t&&At.setAttribute("class","xfaLayer xfaFont");const Ct=[];if(xt.children.length===0){if(xt.value){const kt=document.createTextNode(xt.value);Et.append(kt),_t&&XfaText.shouldBuildText(xt.name)&&Ct.push(kt)}return{textDivs:Ct}}const St=[[xt,-1,Et]];for(;St.length>0;){const[kt,Mt,Lt]=St.at(-1);if(Mt+1===kt.children.length){St.pop();continue}const Ot=kt.children[++St.at(-1)[1]];if(Ot===null)continue;const{name:Ft}=Ot;if(Ft==="#text"){const $t=document.createTextNode(Ot.value);Ct.push($t),Lt.append($t);continue}const Dt=(Rt=Ot==null?void 0:Ot.attributes)!=null&&Rt.xmlns?document.createElementNS(Ot.attributes.xmlns,Ft):document.createElement(Ft);if(Lt.append(Dt),Ot.attributes&&this.setAttributes({html:Dt,element:Ot,storage:ht,intent:bt,linkService:vt}),((Pt=Ot.children)==null?void 0:Pt.length)>0)St.push([Ot,-1,Dt]);else if(Ot.value){const $t=document.createTextNode(Ot.value);_t&&XfaText.shouldBuildText(Ft)&&Ct.push($t),Dt.append($t)}}for(const kt of At.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))kt.setAttribute("readOnly",!0);return{textDivs:Ct}}static update($){const ht=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=ht,$.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(_e){return{width:_e[2]-_e[0],height:_e[3]-_e[1]}}class AnnotationElementFactory{static create($){switch($.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement($);case AnnotationType.TEXT:return new TextAnnotationElement($);case AnnotationType.WIDGET:switch($.data.fieldType){case"Tx":return new TextWidgetAnnotationElement($);case"Btn":return $.data.radioButton?new RadioButtonWidgetAnnotationElement($):$.data.checkBox?new CheckboxWidgetAnnotationElement($):new PushButtonWidgetAnnotationElement($);case"Ch":return new ChoiceWidgetAnnotationElement($);case"Sig":return new SignatureWidgetAnnotationElement($)}return new WidgetAnnotationElement($);case AnnotationType.POPUP:return new PopupAnnotationElement($);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement($);case AnnotationType.LINE:return new LineAnnotationElement($);case AnnotationType.SQUARE:return new SquareAnnotationElement($);case AnnotationType.CIRCLE:return new CircleAnnotationElement($);case AnnotationType.POLYLINE:return new PolylineAnnotationElement($);case AnnotationType.CARET:return new CaretAnnotationElement($);case AnnotationType.INK:return new InkAnnotationElement($);case AnnotationType.POLYGON:return new PolygonAnnotationElement($);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement($);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement($);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement($);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement($);case AnnotationType.STAMP:return new StampAnnotationElement($);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement($);default:return new AnnotationElement($)}}}var Ep,km,Mm,pv,Zx;const i1=class i1{constructor($,{isRenderable:ht=!1,ignoreBorder:vt=!1,createQuadrilaterals:xt=!1}={}){qt(this,pv);qt(this,Ep,null);qt(this,km,!1);qt(this,Mm,null);this.isRenderable=ht,this.data=$.data,this.layer=$.layer,this.linkService=$.linkService,this.downloadManager=$.downloadManager,this.imageResourcesPath=$.imageResourcesPath,this.renderForms=$.renderForms,this.svgFactory=$.svgFactory,this.annotationStorage=$.annotationStorage,this.enableScripting=$.enableScripting,this.hasJSActions=$.hasJSActions,this._fieldObjects=$.fieldObjects,this.parent=$.parent,ht&&(this.container=this._createContainer(vt)),xt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:$,contentsObj:ht,richText:vt}){return!!($!=null&&$.str||ht!=null&&ht.str||vt!=null&&vt.str)}get hasPopupData(){return i1._hasPopupData(this.data)}updateEdited($){var vt;if(!this.container)return;wt(this,Ep)||Vt(this,Ep,{rect:this.data.rect.slice(0)});const{rect:ht}=$;ht&&Ut(this,pv,Zx).call(this,ht),(vt=wt(this,Mm))==null||vt.popup.updateEdited($)}resetEdited(){var $;wt(this,Ep)&&(Ut(this,pv,Zx).call(this,wt(this,Ep).rect),($=wt(this,Mm))==null||$.popup.resetEdited(),Vt(this,Ep,null))}_createContainer($){const{data:ht,parent:{page:vt,viewport:xt}}=this,bt=document.createElement("section");bt.setAttribute("data-annotation-id",ht.id),this instanceof WidgetAnnotationElement||(bt.tabIndex=DEFAULT_TAB_INDEX);const{style:Et}=bt;if(Et.zIndex=this.parent.zIndex++,ht.popupRef&&bt.setAttribute("aria-haspopup","dialog"),ht.alternativeText&&(bt.title=ht.alternativeText),ht.noRotate&&bt.classList.add("norotate"),!ht.rect||this instanceof PopupAnnotationElement){const{rotation:Lt}=ht;return!ht.hasOwnCanvas&&Lt!==0&&this.setRotation(Lt,bt),bt}const{width:_t,height:At}=getRectDims(ht.rect);if(!$&&ht.borderStyle.width>0){Et.borderWidth=`${ht.borderStyle.width}px`;const Lt=ht.borderStyle.horizontalCornerRadius,Ot=ht.borderStyle.verticalCornerRadius;if(Lt>0||Ot>0){const Dt=`calc(${Lt}px * var(--scale-factor)) / calc(${Ot}px * var(--scale-factor))`;Et.borderRadius=Dt}else if(this instanceof RadioButtonWidgetAnnotationElement){const Dt=`calc(${_t}px * var(--scale-factor)) / calc(${At}px * var(--scale-factor))`;Et.borderRadius=Dt}switch(ht.borderStyle.style){case AnnotationBorderStyleType.SOLID:Et.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:Et.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:Et.borderBottomStyle="solid";break}const Ft=ht.borderColor||null;Ft?(Vt(this,km,!0),Et.borderColor=Util.makeHexColor(Ft[0]|0,Ft[1]|0,Ft[2]|0)):Et.borderWidth=0}const Ct=Util.normalizeRect([ht.rect[0],vt.view[3]-ht.rect[1]+vt.view[1],ht.rect[2],vt.view[3]-ht.rect[3]+vt.view[1]]),{pageWidth:St,pageHeight:Rt,pageX:Pt,pageY:kt}=xt.rawDims;Et.left=`${100*(Ct[0]-Pt)/St}%`,Et.top=`${100*(Ct[1]-kt)/Rt}%`;const{rotation:Mt}=ht;return ht.hasOwnCanvas||Mt===0?(Et.width=`${100*_t/St}%`,Et.height=`${100*At/Rt}%`):this.setRotation(Mt,bt),bt}setRotation($,ht=this.container){if(!this.data.rect)return;const{pageWidth:vt,pageHeight:xt}=this.parent.viewport.rawDims,{width:bt,height:Et}=getRectDims(this.data.rect);let _t,At;$%180===0?(_t=100*bt/vt,At=100*Et/xt):(_t=100*Et/vt,At=100*bt/xt),ht.style.width=`${_t}%`,ht.style.height=`${At}%`,ht.setAttribute("data-main-rotation",(360-$)%360)}get _commonActions(){const $=(ht,vt,xt)=>{const bt=xt.detail[ht],Et=bt[0],_t=bt.slice(1);xt.target.style[vt]=ColorConverters[`${Et}_HTML`](_t),this.annotationStorage.setValue(this.data.id,{[vt]:ColorConverters[`${Et}_rgb`](_t)})};return shadow(this,"_commonActions",{display:ht=>{const{display:vt}=ht.detail,xt=vt%2===1;this.container.style.visibility=xt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:xt,noPrint:vt===1||vt===2})},print:ht=>{this.annotationStorage.setValue(this.data.id,{noPrint:!ht.detail.print})},hidden:ht=>{const{hidden:vt}=ht.detail;this.container.style.visibility=vt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:vt,noView:vt})},focus:ht=>{setTimeout(()=>ht.target.focus({preventScroll:!1}),0)},userName:ht=>{ht.target.title=ht.detail.userName},readonly:ht=>{ht.target.disabled=ht.detail.readonly},required:ht=>{this._setRequired(ht.target,ht.detail.required)},bgColor:ht=>{$("bgColor","backgroundColor",ht)},fillColor:ht=>{$("fillColor","backgroundColor",ht)},fgColor:ht=>{$("fgColor","color",ht)},textColor:ht=>{$("textColor","color",ht)},borderColor:ht=>{$("borderColor","borderColor",ht)},strokeColor:ht=>{$("strokeColor","borderColor",ht)},rotation:ht=>{const vt=ht.detail.rotation;this.setRotation(vt),this.annotationStorage.setValue(this.data.id,{rotation:vt})}})}_dispatchEventFromSandbox($,ht){const vt=this._commonActions;for(const xt of Object.keys(ht.detail)){const bt=$[xt]||vt[xt];bt==null||bt(ht)}}_setDefaultPropertiesFromJS($){if(!this.enableScripting)return;const ht=this.annotationStorage.getRawValue(this.data.id);if(!ht)return;const vt=this._commonActions;for(const[xt,bt]of Object.entries(ht)){const Et=vt[xt];if(Et){const _t={detail:{[xt]:bt},target:$};Et(_t),delete ht[xt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:$}=this.data;if(!$)return;const[ht,vt,xt,bt]=this.data.rect;if($.length===1){const[,{x:Lt,y:Ot},{x:Ft,y:Dt}]=$[0];if(xt===Lt&&bt===Ot&&ht===Ft&&vt===Dt)return}const{style:Et}=this.container;let _t;if(wt(this,km)){const{borderColor:Lt,borderWidth:Ot}=Et;Et.borderWidth=0,_t=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Lt}" stroke-width="${Ot}">`],this.container.classList.add("hasBorder")}const At=xt-ht,Ct=bt-vt,{svgFactory:St}=this,Rt=St.createElement("svg");Rt.classList.add("quadrilateralsContainer"),Rt.setAttribute("width",0),Rt.setAttribute("height",0);const Pt=St.createElement("defs");Rt.append(Pt);const kt=St.createElement("clipPath"),Mt=`clippath_${this.data.id}`;kt.setAttribute("id",Mt),kt.setAttribute("clipPathUnits","objectBoundingBox"),Pt.append(kt);for(const[,{x:Lt,y:Ot},{x:Ft,y:Dt}]of $){const $t=St.createElement("rect"),Bt=(Ft-ht)/At,Nt=(bt-Ot)/Ct,Ht=(Lt-Ft)/At,jt=(Ot-Dt)/Ct;$t.setAttribute("x",Bt),$t.setAttribute("y",Nt),$t.setAttribute("width",Ht),$t.setAttribute("height",jt),kt.append($t),_t==null||_t.push(`<rect vector-effect="non-scaling-stroke" x="${Bt}" y="${Nt}" width="${Ht}" height="${jt}"/>`)}wt(this,km)&&(_t.push("</g></svg>')"),Et.backgroundImage=_t.join("")),this.container.append(Rt),this.container.style.clipPath=`url(#${Mt})`}_createPopup(){const{container:$,data:ht}=this;$.setAttribute("aria-haspopup","dialog");const vt=Vt(this,Mm,new PopupAnnotationElement({data:{color:ht.color,titleObj:ht.titleObj,modificationDate:ht.modificationDate,contentsObj:ht.contentsObj,richText:ht.richText,parentRect:ht.rect,borderStyle:0,id:`popup_${ht.id}`,rotation:ht.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(vt.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName($,ht=null){const vt=[];if(this._fieldObjects){const xt=this._fieldObjects[$];if(xt)for(const{page:bt,id:Et,exportValues:_t}of xt){if(bt===-1||Et===ht)continue;const At=typeof _t=="string"?_t:null,Ct=document.querySelector(`[data-element-id="${Et}"]`);if(Ct&&!GetElementsByNameSet.has(Ct)){warn(`_getElementsByName - element not allowed: ${Et}`);continue}vt.push({id:Et,exportValue:At,domElement:Ct})}return vt}for(const xt of document.getElementsByName($)){const{exportValue:bt}=xt,Et=xt.getAttribute("data-element-id");Et!==ht&&GetElementsByNameSet.has(xt)&&vt.push({id:Et,exportValue:bt,domElement:xt})}return vt}show(){var $;this.container&&(this.container.hidden=!1),($=this.popup)==null||$.maybeShow()}hide(){var $;this.container&&(this.container.hidden=!0),($=this.popup)==null||$.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const $=this.getElementsToTriggerPopup();if(Array.isArray($))for(const ht of $)ht.classList.add("highlightArea");else $.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:$,data:{id:ht}}=this;this.container.addEventListener("dblclick",()=>{var vt;(vt=this.linkService.eventBus)==null||vt.dispatch("switchannotationeditormode",{source:this,mode:$,editId:ht})})}};Ep=new WeakMap,km=new WeakMap,Mm=new WeakMap,pv=new WeakSet,Zx=function($){const{container:{style:ht},data:{rect:vt,rotation:xt},parent:{viewport:{rawDims:{pageWidth:bt,pageHeight:Et,pageX:_t,pageY:At}}}}=this;vt==null||vt.splice(0,4,...$);const{width:Ct,height:St}=getRectDims($);ht.left=`${100*($[0]-_t)/bt}%`,ht.top=`${100*(Et-$[3]+At)/Et}%`,xt===0?(ht.width=`${100*Ct/bt}%`,ht.height=`${100*St/Et}%`):this.setRotation(xt)};let AnnotationElement=i1;var Fo,Xu,t_,n_;class LinkAnnotationElement extends AnnotationElement{constructor(ht,vt=null){super(ht,{isRenderable:!0,ignoreBorder:!!(vt!=null&&vt.ignoreBorder),createQuadrilaterals:!0});qt(this,Fo);this.isTooltipOnly=ht.data.isTooltipOnly}render(){const{data:ht,linkService:vt}=this,xt=document.createElement("a");xt.setAttribute("data-element-id",ht.id);let bt=!1;return ht.url?(vt.addLinkAttributes(xt,ht.url,ht.newWindow),bt=!0):ht.action?(this._bindNamedAction(xt,ht.action),bt=!0):ht.attachment?(Ut(this,Fo,t_).call(this,xt,ht.attachment,ht.attachmentDest),bt=!0):ht.setOCGState?(Ut(this,Fo,n_).call(this,xt,ht.setOCGState),bt=!0):ht.dest?(this._bindLink(xt,ht.dest),bt=!0):(ht.actions&&(ht.actions.Action||ht.actions["Mouse Up"]||ht.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(xt,ht),bt=!0),ht.resetForm?(this._bindResetFormAction(xt,ht.resetForm),bt=!0):this.isTooltipOnly&&!bt&&(this._bindLink(xt,""),bt=!0)),this.container.classList.add("linkAnnotation"),bt&&this.container.append(xt),this.container}_bindLink(ht,vt){ht.href=this.linkService.getDestinationHash(vt),ht.onclick=()=>(vt&&this.linkService.goToDestination(vt),!1),(vt||vt==="")&&Ut(this,Fo,Xu).call(this)}_bindNamedAction(ht,vt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>(this.linkService.executeNamedAction(vt),!1),Ut(this,Fo,Xu).call(this)}_bindJSAction(ht,vt){ht.href=this.linkService.getAnchorUrl("");const xt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const bt of Object.keys(vt.actions)){const Et=xt.get(bt);Et&&(ht[Et]=()=>{var _t;return(_t=this.linkService.eventBus)==null||_t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:vt.id,name:bt}}),!1})}ht.onclick||(ht.onclick=()=>!1),Ut(this,Fo,Xu).call(this)}_bindResetFormAction(ht,vt){const xt=ht.onclick;if(xt||(ht.href=this.linkService.getAnchorUrl("")),Ut(this,Fo,Xu).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),xt||(ht.onclick=()=>!1);return}ht.onclick=()=>{var Rt;xt==null||xt();const{fields:bt,refs:Et,include:_t}=vt,At=[];if(bt.length!==0||Et.length!==0){const Pt=new Set(Et);for(const kt of bt){const Mt=this._fieldObjects[kt]||[];for(const{id:Lt}of Mt)Pt.add(Lt)}for(const kt of Object.values(this._fieldObjects))for(const Mt of kt)Pt.has(Mt.id)===_t&&At.push(Mt)}else for(const Pt of Object.values(this._fieldObjects))At.push(...Pt);const Ct=this.annotationStorage,St=[];for(const Pt of At){const{id:kt}=Pt;switch(St.push(kt),Pt.type){case"text":{const Lt=Pt.defaultValue||"";Ct.setValue(kt,{value:Lt});break}case"checkbox":case"radiobutton":{const Lt=Pt.defaultValue===Pt.exportValues;Ct.setValue(kt,{value:Lt});break}case"combobox":case"listbox":{const Lt=Pt.defaultValue||"";Ct.setValue(kt,{value:Lt});break}default:continue}const Mt=document.querySelector(`[data-element-id="${kt}"]`);if(Mt){if(!GetElementsByNameSet.has(Mt)){warn(`_bindResetFormAction - element not allowed: ${kt}`);continue}}else continue;Mt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Rt=this.linkService.eventBus)==null||Rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:St,name:"ResetForm"}})),!1}}}Fo=new WeakSet,Xu=function(){this.container.setAttribute("data-internal-link","")},t_=function(ht,vt,xt=null){ht.href=this.linkService.getAnchorUrl(""),vt.description&&(ht.title=vt.description),ht.onclick=()=>{var bt;return(bt=this.downloadManager)==null||bt.openOrDownloadData(vt.content,vt.filename,xt),!1},Ut(this,Fo,Xu).call(this)},n_=function(ht,vt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>(this.linkService.executeSetOCGState(vt),!1),Ut(this,Fo,Xu).call(this)};class TextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const $=document.createElement("img");return $.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",$.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),$.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append($),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas($){var ht;this.data.hasOwnCanvas&&(((ht=$.previousSibling)==null?void 0:ht.nodeName)==="CANVAS"&&($.previousSibling.hidden=!0),$.hidden=!1)}_getKeyModifier($){return util_FeatureTest.platform.isMac?$.metaKey:$.ctrlKey}_setEventListener($,ht,vt,xt,bt){vt.includes("mouse")?$.addEventListener(vt,Et=>{var _t;(_t=this.linkService.eventBus)==null||_t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xt,value:bt(Et),shift:Et.shiftKey,modifier:this._getKeyModifier(Et)}})}):$.addEventListener(vt,Et=>{var _t;if(vt==="blur"){if(!ht.focused||!Et.relatedTarget)return;ht.focused=!1}else if(vt==="focus"){if(ht.focused)return;ht.focused=!0}bt&&((_t=this.linkService.eventBus)==null||_t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xt,value:bt(Et)}}))})}_setEventListeners($,ht,vt,xt){var bt,Et,_t;for(const[At,Ct]of vt)(Ct==="Action"||(bt=this.data.actions)!=null&&bt[Ct])&&((Ct==="Focus"||Ct==="Blur")&&(ht||(ht={focused:!1})),this._setEventListener($,ht,At,Ct,xt),Ct==="Focus"&&!((Et=this.data.actions)!=null&&Et.Blur)?this._setEventListener($,ht,"blur","Blur",null):Ct==="Blur"&&!((_t=this.data.actions)!=null&&_t.Focus)&&this._setEventListener($,ht,"focus","Focus",null))}_setBackgroundColor($){const ht=this.data.backgroundColor||null;$.style.backgroundColor=ht===null?"transparent":Util.makeHexColor(ht[0],ht[1],ht[2])}_setTextStyle($){const ht=["left","center","right"],{fontColor:vt}=this.data.defaultAppearanceData,xt=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,bt=$.style;let Et;const _t=2,At=Ct=>Math.round(10*Ct)/10;if(this.data.multiLine){const Ct=Math.abs(this.data.rect[3]-this.data.rect[1]-_t),St=Math.round(Ct/(LINE_FACTOR*xt))||1,Rt=Ct/St;Et=Math.min(xt,At(Rt/LINE_FACTOR))}else{const Ct=Math.abs(this.data.rect[3]-this.data.rect[1]-_t);Et=Math.min(xt,At(Ct/LINE_FACTOR))}bt.fontSize=`calc(${Et}px * var(--scale-factor))`,bt.color=Util.makeHexColor(vt[0],vt[1],vt[2]),this.data.textAlignment!==null&&(bt.textAlign=ht[this.data.textAlignment])}_setRequired($,ht){ht?$.setAttribute("required",!0):$.removeAttribute("required"),$.setAttribute("aria-required",ht)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){const ht=$.renderForms||$.data.hasOwnCanvas||!$.data.hasAppearance&&!!$.data.fieldValue;super($,{isRenderable:ht})}setPropertyOnSiblings($,ht,vt,xt){const bt=this.annotationStorage;for(const Et of this._getElementsByName($.name,$.id))Et.domElement&&(Et.domElement[ht]=vt),bt.setValue(Et.id,{[xt]:vt})}render(){var xt,bt;const $=this.annotationStorage,ht=this.data.id;this.container.classList.add("textWidgetAnnotation");let vt=null;if(this.renderForms){const Et=$.getValue(ht,{value:this.data.fieldValue});let _t=Et.value||"";const At=$.getValue(ht,{charLimit:this.data.maxLen}).charLimit;At&&_t.length>At&&(_t=_t.slice(0,At));let Ct=Et.formattedValue||((xt=this.data.textContent)==null?void 0:xt.join(`
`))||null;Ct&&this.data.comb&&(Ct=Ct.replaceAll(/\s+/g,""));const St={userValue:_t,formattedValue:Ct,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(vt=document.createElement("textarea"),vt.textContent=Ct??_t,this.data.doNotScroll&&(vt.style.overflowY="hidden")):(vt=document.createElement("input"),vt.type="text",vt.setAttribute("value",Ct??_t),this.data.doNotScroll&&(vt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(vt.hidden=!0),GetElementsByNameSet.add(vt),vt.setAttribute("data-element-id",ht),vt.disabled=this.data.readOnly,vt.name=this.data.fieldName,vt.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(vt,this.data.required),At&&(vt.maxLength=At),vt.addEventListener("input",Pt=>{$.setValue(ht,{value:Pt.target.value}),this.setPropertyOnSiblings(vt,"value",Pt.target.value,"value"),St.formattedValue=null}),vt.addEventListener("resetform",Pt=>{const kt=this.data.defaultFieldValue??"";vt.value=St.userValue=kt,St.formattedValue=null});let Rt=Pt=>{const{formattedValue:kt}=St;kt!=null&&(Pt.target.value=kt),Pt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){vt.addEventListener("focus",kt=>{var Lt;if(St.focused)return;const{target:Mt}=kt;St.userValue&&(Mt.value=St.userValue),St.lastCommittedValue=Mt.value,St.commitKey=1,(Lt=this.data.actions)!=null&&Lt.Focus||(St.focused=!0)}),vt.addEventListener("updatefromsandbox",kt=>{this.showElementAndHideCanvas(kt.target);const Mt={value(Lt){St.userValue=Lt.detail.value??"",$.setValue(ht,{value:St.userValue.toString()}),Lt.target.value=St.userValue},formattedValue(Lt){const{formattedValue:Ot}=Lt.detail;St.formattedValue=Ot,Ot!=null&&Lt.target!==document.activeElement&&(Lt.target.value=Ot),$.setValue(ht,{formattedValue:Ot})},selRange(Lt){Lt.target.setSelectionRange(...Lt.detail.selRange)},charLimit:Lt=>{var $t;const{charLimit:Ot}=Lt.detail,{target:Ft}=Lt;if(Ot===0){Ft.removeAttribute("maxLength");return}Ft.setAttribute("maxLength",Ot);let Dt=St.userValue;!Dt||Dt.length<=Ot||(Dt=Dt.slice(0,Ot),Ft.value=St.userValue=Dt,$.setValue(ht,{value:Dt}),($t=this.linkService.eventBus)==null||$t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Dt,willCommit:!0,commitKey:1,selStart:Ft.selectionStart,selEnd:Ft.selectionEnd}}))}};this._dispatchEventFromSandbox(Mt,kt)}),vt.addEventListener("keydown",kt=>{var Ot;St.commitKey=1;let Mt=-1;if(kt.key==="Escape"?Mt=0:kt.key==="Enter"&&!this.data.multiLine?Mt=2:kt.key==="Tab"&&(St.commitKey=3),Mt===-1)return;const{value:Lt}=kt.target;St.lastCommittedValue!==Lt&&(St.lastCommittedValue=Lt,St.userValue=Lt,(Ot=this.linkService.eventBus)==null||Ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Lt,willCommit:!0,commitKey:Mt,selStart:kt.target.selectionStart,selEnd:kt.target.selectionEnd}}))});const Pt=Rt;Rt=null,vt.addEventListener("blur",kt=>{var Lt,Ot;if(!St.focused||!kt.relatedTarget)return;(Lt=this.data.actions)!=null&&Lt.Blur||(St.focused=!1);const{value:Mt}=kt.target;St.userValue=Mt,St.lastCommittedValue!==Mt&&((Ot=this.linkService.eventBus)==null||Ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Mt,willCommit:!0,commitKey:St.commitKey,selStart:kt.target.selectionStart,selEnd:kt.target.selectionEnd}})),Pt(kt)}),(bt=this.data.actions)!=null&&bt.Keystroke&&vt.addEventListener("beforeinput",kt=>{var Nt;St.lastCommittedValue=null;const{data:Mt,target:Lt}=kt,{value:Ot,selectionStart:Ft,selectionEnd:Dt}=Lt;let $t=Ft,Bt=Dt;switch(kt.inputType){case"deleteWordBackward":{const Ht=Ot.substring(0,Ft).match(/\w*[^\w]*$/);Ht&&($t-=Ht[0].length);break}case"deleteWordForward":{const Ht=Ot.substring(Ft).match(/^[^\w]*\w*/);Ht&&(Bt+=Ht[0].length);break}case"deleteContentBackward":Ft===Dt&&($t-=1);break;case"deleteContentForward":Ft===Dt&&(Bt+=1);break}kt.preventDefault(),(Nt=this.linkService.eventBus)==null||Nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Ot,change:Mt||"",willCommit:!1,selStart:$t,selEnd:Bt}})}),this._setEventListeners(vt,St,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],kt=>kt.target.value)}if(Rt&&vt.addEventListener("blur",Rt),this.data.comb){const kt=(this.data.rect[2]-this.data.rect[0])/At;vt.classList.add("comb"),vt.style.letterSpacing=`calc(${kt}px * var(--scale-factor) - 1ch)`}}else vt=document.createElement("div"),vt.textContent=this.data.fieldValue,vt.style.verticalAlign="middle",vt.style.display="table-cell",this.data.hasOwnCanvas&&(vt.hidden=!0);return this._setTextStyle(vt),this._setBackgroundColor(vt),this._setDefaultPropertiesFromJS(vt),this.container.append(vt),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:!!$.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){const $=this.annotationStorage,ht=this.data,vt=ht.id;let xt=$.getValue(vt,{value:ht.exportValue===ht.fieldValue}).value;typeof xt=="string"&&(xt=xt!=="Off",$.setValue(vt,{value:xt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const bt=document.createElement("input");return GetElementsByNameSet.add(bt),bt.setAttribute("data-element-id",vt),bt.disabled=ht.readOnly,this._setRequired(bt,this.data.required),bt.type="checkbox",bt.name=ht.fieldName,xt&&bt.setAttribute("checked",!0),bt.setAttribute("exportValue",ht.exportValue),bt.tabIndex=DEFAULT_TAB_INDEX,bt.addEventListener("change",Et=>{const{name:_t,checked:At}=Et.target;for(const Ct of this._getElementsByName(_t,vt)){const St=At&&Ct.exportValue===ht.exportValue;Ct.domElement&&(Ct.domElement.checked=St),$.setValue(Ct.id,{value:St})}$.setValue(vt,{value:At})}),bt.addEventListener("resetform",Et=>{const _t=ht.defaultFieldValue||"Off";Et.target.checked=_t===ht.exportValue}),this.enableScripting&&this.hasJSActions&&(bt.addEventListener("updatefromsandbox",Et=>{const _t={value(At){At.target.checked=At.detail.value!=="Off",$.setValue(vt,{value:At.target.checked})}};this._dispatchEventFromSandbox(_t,Et)}),this._setEventListeners(bt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Et=>Et.target.checked)),this._setBackgroundColor(bt),this._setDefaultPropertiesFromJS(bt),this.container.append(bt),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const $=this.annotationStorage,ht=this.data,vt=ht.id;let xt=$.getValue(vt,{value:ht.fieldValue===ht.buttonValue}).value;if(typeof xt=="string"&&(xt=xt!==ht.buttonValue,$.setValue(vt,{value:xt})),xt)for(const Et of this._getElementsByName(ht.fieldName,vt))$.setValue(Et.id,{value:!1});const bt=document.createElement("input");if(GetElementsByNameSet.add(bt),bt.setAttribute("data-element-id",vt),bt.disabled=ht.readOnly,this._setRequired(bt,this.data.required),bt.type="radio",bt.name=ht.fieldName,xt&&bt.setAttribute("checked",!0),bt.tabIndex=DEFAULT_TAB_INDEX,bt.addEventListener("change",Et=>{const{name:_t,checked:At}=Et.target;for(const Ct of this._getElementsByName(_t,vt))$.setValue(Ct.id,{value:!1});$.setValue(vt,{value:At})}),bt.addEventListener("resetform",Et=>{const _t=ht.defaultFieldValue;Et.target.checked=_t!=null&&_t===ht.buttonValue}),this.enableScripting&&this.hasJSActions){const Et=ht.buttonValue;bt.addEventListener("updatefromsandbox",_t=>{const At={value:Ct=>{const St=Et===Ct.detail.value;for(const Rt of this._getElementsByName(Ct.target.name)){const Pt=St&&Rt.id===vt;Rt.domElement&&(Rt.domElement.checked=Pt),$.setValue(Rt.id,{value:Pt})}}};this._dispatchEventFromSandbox(At,_t)}),this._setEventListeners(bt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_t=>_t.target.checked)}return this._setBackgroundColor(bt),this._setDefaultPropertiesFromJS(bt),this.container.append(bt),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor($){super($,{ignoreBorder:$.data.hasAppearance})}render(){const $=super.render();$.classList.add("buttonWidgetAnnotation","pushButton");const ht=$.lastChild;return this.enableScripting&&this.hasJSActions&&ht&&(this._setDefaultPropertiesFromJS(ht),ht.addEventListener("updatefromsandbox",vt=>{this._dispatchEventFromSandbox({},vt)})),$}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const $=this.annotationStorage,ht=this.data.id,vt=$.getValue(ht,{value:this.data.fieldValue}),xt=document.createElement("select");GetElementsByNameSet.add(xt),xt.setAttribute("data-element-id",ht),xt.disabled=this.data.readOnly,this._setRequired(xt,this.data.required),xt.name=this.data.fieldName,xt.tabIndex=DEFAULT_TAB_INDEX;let bt=this.data.combo&&this.data.options.length>0;this.data.combo||(xt.size=this.data.options.length,this.data.multiSelect&&(xt.multiple=!0)),xt.addEventListener("resetform",St=>{const Rt=this.data.defaultFieldValue;for(const Pt of xt.options)Pt.selected=Pt.value===Rt});for(const St of this.data.options){const Rt=document.createElement("option");Rt.textContent=St.displayValue,Rt.value=St.exportValue,vt.value.includes(St.exportValue)&&(Rt.setAttribute("selected",!0),bt=!1),xt.append(Rt)}let Et=null;if(bt){const St=document.createElement("option");St.value=" ",St.setAttribute("hidden",!0),St.setAttribute("selected",!0),xt.prepend(St),Et=()=>{St.remove(),xt.removeEventListener("input",Et),Et=null},xt.addEventListener("input",Et)}const _t=St=>{const Rt=St?"value":"textContent",{options:Pt,multiple:kt}=xt;return kt?Array.prototype.filter.call(Pt,Mt=>Mt.selected).map(Mt=>Mt[Rt]):Pt.selectedIndex===-1?null:Pt[Pt.selectedIndex][Rt]};let At=_t(!1);const Ct=St=>{const Rt=St.target.options;return Array.prototype.map.call(Rt,Pt=>({displayValue:Pt.textContent,exportValue:Pt.value}))};return this.enableScripting&&this.hasJSActions?(xt.addEventListener("updatefromsandbox",St=>{const Rt={value(Pt){Et==null||Et();const kt=Pt.detail.value,Mt=new Set(Array.isArray(kt)?kt:[kt]);for(const Lt of xt.options)Lt.selected=Mt.has(Lt.value);$.setValue(ht,{value:_t(!0)}),At=_t(!1)},multipleSelection(Pt){xt.multiple=!0},remove(Pt){const kt=xt.options,Mt=Pt.detail.remove;kt[Mt].selected=!1,xt.remove(Mt),kt.length>0&&Array.prototype.findIndex.call(kt,Ot=>Ot.selected)===-1&&(kt[0].selected=!0),$.setValue(ht,{value:_t(!0),items:Ct(Pt)}),At=_t(!1)},clear(Pt){for(;xt.length!==0;)xt.remove(0);$.setValue(ht,{value:null,items:[]}),At=_t(!1)},insert(Pt){const{index:kt,displayValue:Mt,exportValue:Lt}=Pt.detail.insert,Ot=xt.children[kt],Ft=document.createElement("option");Ft.textContent=Mt,Ft.value=Lt,Ot?Ot.before(Ft):xt.append(Ft),$.setValue(ht,{value:_t(!0),items:Ct(Pt)}),At=_t(!1)},items(Pt){const{items:kt}=Pt.detail;for(;xt.length!==0;)xt.remove(0);for(const Mt of kt){const{displayValue:Lt,exportValue:Ot}=Mt,Ft=document.createElement("option");Ft.textContent=Lt,Ft.value=Ot,xt.append(Ft)}xt.options.length>0&&(xt.options[0].selected=!0),$.setValue(ht,{value:_t(!0),items:Ct(Pt)}),At=_t(!1)},indices(Pt){const kt=new Set(Pt.detail.indices);for(const Mt of Pt.target.options)Mt.selected=kt.has(Mt.index);$.setValue(ht,{value:_t(!0)}),At=_t(!1)},editable(Pt){Pt.target.disabled=!Pt.detail.editable}};this._dispatchEventFromSandbox(Rt,St)}),xt.addEventListener("input",St=>{var kt;const Rt=_t(!0),Pt=_t(!1);$.setValue(ht,{value:Rt}),St.preventDefault(),(kt=this.linkService.eventBus)==null||kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:At,change:Pt,changeEx:Rt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(xt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],St=>St.target.value)):xt.addEventListener("input",function(St){$.setValue(ht,{value:_t(!0)})}),this.data.combo&&this._setTextStyle(xt),this._setBackgroundColor(xt),this._setDefaultPropertiesFromJS(xt),this.container.append(xt),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor($){const{data:ht,elements:vt}=$;super($,{isRenderable:AnnotationElement._hasPopupData(ht)}),this.elements=vt,this.popup=null}render(){this.container.classList.add("popupAnnotation");const $=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),ht=[];for(const vt of this.elements)vt.popup=$,ht.push(vt.data.id),vt.addHighlightArea();return this.container.setAttribute("aria-controls",ht.map(vt=>`${AnnotationPrefix}${vt}`).join(",")),this.container}}var Fm,lx,cx,Lm,_p,$s,eu,wp,gv,mv,Dm,tu,qo,nu,vv,ru,yv,Ap,Sp,As,xy,Qx,r_,i_,s_,o_,by,Ey,Jx;class PopupElement{constructor({container:$,color:ht,elements:vt,titleObj:xt,modificationDate:bt,contentsObj:Et,richText:_t,parent:At,rect:Ct,parentRect:St,open:Rt}){qt(this,As);qt(this,Fm,Ut(this,As,s_).bind(this));qt(this,lx,Ut(this,As,Jx).bind(this));qt(this,cx,Ut(this,As,Ey).bind(this));qt(this,Lm,Ut(this,As,by).bind(this));qt(this,_p,null);qt(this,$s,null);qt(this,eu,null);qt(this,wp,null);qt(this,gv,null);qt(this,mv,null);qt(this,Dm,null);qt(this,tu,!1);qt(this,qo,null);qt(this,nu,null);qt(this,vv,null);qt(this,ru,null);qt(this,yv,null);qt(this,Ap,null);qt(this,Sp,!1);var Pt;Vt(this,$s,$),Vt(this,yv,xt),Vt(this,eu,Et),Vt(this,ru,_t),Vt(this,mv,At),Vt(this,_p,ht),Vt(this,vv,Ct),Vt(this,Dm,St),Vt(this,gv,vt),Vt(this,wp,PDFDateString.toDateObject(bt)),this.trigger=vt.flatMap(kt=>kt.getElementsToTriggerPopup());for(const kt of this.trigger)kt.addEventListener("click",wt(this,Lm)),kt.addEventListener("mouseenter",wt(this,cx)),kt.addEventListener("mouseleave",wt(this,lx)),kt.classList.add("popupTriggerArea");for(const kt of vt)(Pt=kt.container)==null||Pt.addEventListener("keydown",wt(this,Fm));wt(this,$s).hidden=!0,Rt&&Ut(this,As,by).call(this)}render(){if(wt(this,qo))return;const $=Vt(this,qo,document.createElement("div"));if($.className="popup",wt(this,_p)){const bt=$.style.outlineColor=Util.makeHexColor(...wt(this,_p));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$.style.backgroundColor=`color-mix(in srgb, ${bt} 30%, white)`:$.style.backgroundColor=Util.makeHexColor(...wt(this,_p).map(_t=>Math.floor(.7*(255-_t)+_t)))}const ht=document.createElement("span");ht.className="header";const vt=document.createElement("h1");if(ht.append(vt),{dir:vt.dir,str:vt.textContent}=wt(this,yv),$.append(ht),wt(this,wp)){const bt=document.createElement("span");bt.classList.add("popupDate"),bt.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),bt.setAttribute("data-l10n-args",JSON.stringify({date:wt(this,wp).toLocaleDateString(),time:wt(this,wp).toLocaleTimeString()})),ht.append(bt)}const xt=wt(this,As,xy);if(xt)XfaLayer.render({xfaHtml:xt,intent:"richText",div:$}),$.lastChild.classList.add("richText","popupContent");else{const bt=this._formatContents(wt(this,eu));$.append(bt)}wt(this,$s).append($)}_formatContents({str:$,dir:ht}){const vt=document.createElement("p");vt.classList.add("popupContent"),vt.dir=ht;const xt=$.split(/(?:\r\n?|\n)/);for(let bt=0,Et=xt.length;bt<Et;++bt){const _t=xt[bt];vt.append(document.createTextNode(_t)),bt<Et-1&&vt.append(document.createElement("br"))}return vt}updateEdited({rect:$,popupContent:ht}){var vt;wt(this,Ap)||Vt(this,Ap,{contentsObj:wt(this,eu),richText:wt(this,ru)}),$&&Vt(this,nu,null),ht&&(Vt(this,ru,Ut(this,As,i_).call(this,ht)),Vt(this,eu,null)),(vt=wt(this,qo))==null||vt.remove(),Vt(this,qo,null)}resetEdited(){var $;wt(this,Ap)&&({contentsObj:eo(this,eu)._,richText:eo(this,ru)._}=wt(this,Ap),Vt(this,Ap,null),($=wt(this,qo))==null||$.remove(),Vt(this,qo,null),Vt(this,nu,null))}forceHide(){Vt(this,Sp,this.isVisible),wt(this,Sp)&&(wt(this,$s).hidden=!0)}maybeShow(){wt(this,Sp)&&(wt(this,qo)||Ut(this,As,Ey).call(this),Vt(this,Sp,!1),wt(this,$s).hidden=!1)}get isVisible(){return wt(this,$s).hidden===!1}}Fm=new WeakMap,lx=new WeakMap,cx=new WeakMap,Lm=new WeakMap,_p=new WeakMap,$s=new WeakMap,eu=new WeakMap,wp=new WeakMap,gv=new WeakMap,mv=new WeakMap,Dm=new WeakMap,tu=new WeakMap,qo=new WeakMap,nu=new WeakMap,vv=new WeakMap,ru=new WeakMap,yv=new WeakMap,Ap=new WeakMap,Sp=new WeakMap,As=new WeakSet,xy=function(){const $=wt(this,ru),ht=wt(this,eu);return $!=null&&$.str&&(!(ht!=null&&ht.str)||ht.str===$.str)&&wt(this,ru).html||null},Qx=function(){var $,ht,vt;return((vt=(ht=($=wt(this,As,xy))==null?void 0:$.attributes)==null?void 0:ht.style)==null?void 0:vt.fontSize)||0},r_=function(){var $,ht,vt;return((vt=(ht=($=wt(this,As,xy))==null?void 0:$.attributes)==null?void 0:ht.style)==null?void 0:vt.color)||null},i_=function($){const ht=[],vt={str:$,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:ht}]}},xt={style:{color:wt(this,As,r_),fontSize:wt(this,As,Qx)?`calc(${wt(this,As,Qx)}px * var(--scale-factor))`:""}};for(const bt of $.split(`
`))ht.push({name:"span",value:bt,attributes:xt});return vt},s_=function($){$.altKey||$.shiftKey||$.ctrlKey||$.metaKey||($.key==="Enter"||$.key==="Escape"&&wt(this,tu))&&Ut(this,As,by).call(this)},o_=function(){if(wt(this,nu)!==null)return;const{page:{view:$},viewport:{rawDims:{pageWidth:ht,pageHeight:vt,pageX:xt,pageY:bt}}}=wt(this,mv);let Et=!!wt(this,Dm),_t=Et?wt(this,Dm):wt(this,vv);for(const Mt of wt(this,gv))if(!_t||Util.intersect(Mt.data.rect,_t)!==null){_t=Mt.data.rect,Et=!0;break}const At=Util.normalizeRect([_t[0],$[3]-_t[1]+$[1],_t[2],$[3]-_t[3]+$[1]]),St=Et?_t[2]-_t[0]+5:0,Rt=At[0]+St,Pt=At[1];Vt(this,nu,[100*(Rt-xt)/ht,100*(Pt-bt)/vt]);const{style:kt}=wt(this,$s);kt.left=`${wt(this,nu)[0]}%`,kt.top=`${wt(this,nu)[1]}%`},by=function(){Vt(this,tu,!wt(this,tu)),wt(this,tu)?(Ut(this,As,Ey).call(this),wt(this,$s).addEventListener("click",wt(this,Lm)),wt(this,$s).addEventListener("keydown",wt(this,Fm))):(Ut(this,As,Jx).call(this),wt(this,$s).removeEventListener("click",wt(this,Lm)),wt(this,$s).removeEventListener("keydown",wt(this,Fm)))},Ey=function(){wt(this,qo)||this.render(),this.isVisible?wt(this,tu)&&wt(this,$s).classList.add("focused"):(Ut(this,As,o_).call(this),wt(this,$s).hidden=!1,wt(this,$s).style.zIndex=parseInt(wt(this,$s).style.zIndex)+1e3)},Jx=function(){wt(this,$s).classList.remove("focused"),!(wt(this,tu)||!this.isVisible)&&(wt(this,$s).hidden=!0,wt(this,$s).style.zIndex=parseInt(wt(this,$s).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0}),this.textContent=$.data.textContent,this.textPosition=$.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const $=document.createElement("div");$.classList.add("annotationTextContent"),$.setAttribute("role","comment");for(const ht of this.textContent){const vt=document.createElement("span");vt.textContent=ht,$.append(vt)}this.container.append($)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var xv;class LineAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});qt(this,xv,null)}render(){this.container.classList.add("lineAnnotation");const ht=this.data,{width:vt,height:xt}=getRectDims(ht.rect),bt=this.svgFactory.create(vt,xt,!0),Et=Vt(this,xv,this.svgFactory.createElement("svg:line"));return Et.setAttribute("x1",ht.rect[2]-ht.lineCoordinates[0]),Et.setAttribute("y1",ht.rect[3]-ht.lineCoordinates[1]),Et.setAttribute("x2",ht.rect[2]-ht.lineCoordinates[2]),Et.setAttribute("y2",ht.rect[3]-ht.lineCoordinates[3]),Et.setAttribute("stroke-width",ht.borderStyle.width||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),bt.append(Et),this.container.append(bt),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,xv)}addHighlightArea(){this.container.classList.add("highlightArea")}}xv=new WeakMap;var bv;class SquareAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});qt(this,bv,null)}render(){this.container.classList.add("squareAnnotation");const ht=this.data,{width:vt,height:xt}=getRectDims(ht.rect),bt=this.svgFactory.create(vt,xt,!0),Et=ht.borderStyle.width,_t=Vt(this,bv,this.svgFactory.createElement("svg:rect"));return _t.setAttribute("x",Et/2),_t.setAttribute("y",Et/2),_t.setAttribute("width",vt-Et),_t.setAttribute("height",xt-Et),_t.setAttribute("stroke-width",Et||1),_t.setAttribute("stroke","transparent"),_t.setAttribute("fill","transparent"),bt.append(_t),this.container.append(bt),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,bv)}addHighlightArea(){this.container.classList.add("highlightArea")}}bv=new WeakMap;var Ev;class CircleAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});qt(this,Ev,null)}render(){this.container.classList.add("circleAnnotation");const ht=this.data,{width:vt,height:xt}=getRectDims(ht.rect),bt=this.svgFactory.create(vt,xt,!0),Et=ht.borderStyle.width,_t=Vt(this,Ev,this.svgFactory.createElement("svg:ellipse"));return _t.setAttribute("cx",vt/2),_t.setAttribute("cy",xt/2),_t.setAttribute("rx",vt/2-Et/2),_t.setAttribute("ry",xt/2-Et/2),_t.setAttribute("stroke-width",Et||1),_t.setAttribute("stroke","transparent"),_t.setAttribute("fill","transparent"),bt.append(_t),this.container.append(bt),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,Ev)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ev=new WeakMap;var _v;class PolylineAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});qt(this,_v,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const ht=this.data,{width:vt,height:xt}=getRectDims(ht.rect),bt=this.svgFactory.create(vt,xt,!0);let Et=[];for(const At of ht.vertices){const Ct=At.x-ht.rect[0],St=ht.rect[3]-At.y;Et.push(Ct+","+St)}Et=Et.join(" ");const _t=Vt(this,_v,this.svgFactory.createElement(this.svgElementName));return _t.setAttribute("points",Et),_t.setAttribute("stroke-width",ht.borderStyle.width||1),_t.setAttribute("stroke","transparent"),_t.setAttribute("fill","transparent"),bt.append(_t),this.container.append(bt),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,_v)}addHighlightArea(){this.container.classList.add("highlightArea")}}_v=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor($){super($),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var wv;class InkAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});qt(this,wv,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const ht=this.data,{width:vt,height:xt}=getRectDims(ht.rect),bt=this.svgFactory.create(vt,xt,!0);for(const Et of ht.inkLists){let _t=[];for(const Ct of Et){const St=Ct.x-ht.rect[0],Rt=ht.rect[3]-Ct.y;_t.push(`${St},${Rt}`)}_t=_t.join(" ");const At=this.svgFactory.createElement(this.svgElementName);wt(this,wv).push(At),At.setAttribute("points",_t),At.setAttribute("stroke-width",ht.borderStyle.width||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),!ht.popupRef&&this.hasPopupData&&this._createPopup(),bt.append(At)}return this.container.append(bt),this.container}getElementsToTriggerPopup(){return wt(this,wv)}addHighlightArea(){this.container.classList.add("highlightArea")}}wv=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Av,Sv,_b;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(ht){var xt;super(ht,{isRenderable:!0});qt(this,Sv);qt(this,Av,null);const{file:vt}=this.data;this.filename=vt.filename,this.content=vt.content,(xt=this.linkService.eventBus)==null||xt.dispatch("fileattachmentannotation",{source:this,...vt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:ht,data:vt}=this;let xt;vt.hasAppearance||vt.fillAlpha===0?xt=document.createElement("div"):(xt=document.createElement("img"),xt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(vt.name)?"paperclip":"pushpin"}.svg`,vt.fillAlpha&&vt.fillAlpha<1&&(xt.style=`filter: opacity(${Math.round(vt.fillAlpha*100)}%);`)),xt.addEventListener("dblclick",Ut(this,Sv,_b).bind(this)),Vt(this,Av,xt);const{isMac:bt}=util_FeatureTest.platform;return ht.addEventListener("keydown",Et=>{Et.key==="Enter"&&(bt?Et.metaKey:Et.ctrlKey)&&Ut(this,Sv,_b).call(this)}),!vt.popupRef&&this.hasPopupData?this._createPopup():xt.classList.add("popupTriggerArea"),ht.append(xt),ht}getElementsToTriggerPopup(){return wt(this,Av)}addHighlightArea(){this.container.classList.add("highlightArea")}}Av=new WeakMap,Sv=new WeakSet,_b=function(){var ht;(ht=this.downloadManager)==null||ht.openOrDownloadData(this.content,this.filename)};var Cv,Cp,Im,Vp,a_,eE,S1;let AnnotationLayer$1=(S1=class{constructor({div:$,accessibilityManager:ht,annotationCanvasMap:vt,annotationEditorUIManager:xt,page:bt,viewport:Et}){qt(this,Vp);qt(this,Cv,null);qt(this,Cp,null);qt(this,Im,new Map);this.div=$,Vt(this,Cv,ht),Vt(this,Cp,vt),this.page=bt,this.viewport=Et,this.zIndex=0,this._annotationEditorUIManager=xt}async render($){var Et;const{annotations:ht}=$,vt=this.div;setLayerDimensions(vt,this.viewport);const xt=new Map,bt={data:null,layer:vt,linkService:$.linkService,downloadManager:$.downloadManager,imageResourcesPath:$.imageResourcesPath||"",renderForms:$.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:$.annotationStorage||new AnnotationStorage,enableScripting:$.enableScripting===!0,hasJSActions:$.hasJSActions,fieldObjects:$.fieldObjects,parent:this,elements:null};for(const _t of ht){if(_t.noHTML)continue;const At=_t.annotationType===AnnotationType.POPUP;if(At){const Rt=xt.get(_t.id);if(!Rt)continue;bt.elements=Rt}else{const{width:Rt,height:Pt}=getRectDims(_t.rect);if(Rt<=0||Pt<=0)continue}bt.data=_t;const Ct=AnnotationElementFactory.create(bt);if(!Ct.isRenderable)continue;if(!At&&_t.popupRef){const Rt=xt.get(_t.popupRef);Rt?Rt.push(Ct):xt.set(_t.popupRef,[Ct])}const St=Ct.render();_t.hidden&&(St.style.visibility="hidden"),Ut(this,Vp,a_).call(this,St,_t.id),Ct.annotationEditorType>0&&(wt(this,Im).set(Ct.data.id,Ct),(Et=this._annotationEditorUIManager)==null||Et.renderAnnotationElement(Ct))}Ut(this,Vp,eE).call(this)}update({viewport:$}){const ht=this.div;this.viewport=$,setLayerDimensions(ht,{rotation:$.rotation}),Ut(this,Vp,eE).call(this),ht.hidden=!1}getEditableAnnotations(){return Array.from(wt(this,Im).values())}getEditableAnnotation($){return wt(this,Im).get($)}},Cv=new WeakMap,Cp=new WeakMap,Im=new WeakMap,Vp=new WeakSet,a_=function($,ht){var xt;const vt=$.firstChild||$;vt.id=`${AnnotationPrefix}${ht}`,this.div.append($),(xt=wt(this,Cv))==null||xt.moveElementInDOM(this.div,$,vt,!1)},eE=function(){if(!wt(this,Cp))return;const $=this.div;for(const[ht,vt]of wt(this,Cp)){const xt=$.querySelector(`[data-annotation-id="${ht}"]`);if(!xt)continue;vt.className="annotationContent";const{firstChild:bt}=xt;bt?bt.nodeName==="CANVAS"?bt.replaceWith(vt):bt.classList.contains("annotationContent")?bt.after(vt):bt.before(vt):xt.append(vt)}wt(this,Cp).clear()},S1);const EOL_PATTERN=/\r\n?|\n/g;var Rv,Tv,Pv,kv,Mv,Ko,Ro,Fv,To,Om,zs,l_,c_,u_,_y,hu,wy,Ay,d_,tE,h_;const Ps=class Ps extends AnnotationEditor{constructor(ht){super({...ht,name:"freeTextEditor"});qt(this,zs);qt(this,Rv,this.editorDivBlur.bind(this));qt(this,Tv,this.editorDivFocus.bind(this));qt(this,Pv,this.editorDivInput.bind(this));qt(this,kv,this.editorDivKeydown.bind(this));qt(this,Mv,this.editorDivPaste.bind(this));qt(this,Ko);qt(this,Ro,"");qt(this,Fv,`${this.id}-editor`);qt(this,To);qt(this,Om,null);Vt(this,Ko,ht.color||Ps._defaultColor||AnnotationEditor._defaultLineColor),Vt(this,To,ht.fontSize||Ps._defaultFontSize)}static get _keyboardManager(){const ht=Ps.prototype,vt=Et=>Et.isEmpty(),xt=AnnotationEditorUIManager.TRANSLATE_SMALL,bt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ht.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ht.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ht._translateEmpty,{args:[-xt,0],checker:vt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ht._translateEmpty,{args:[-bt,0],checker:vt}],[["ArrowRight","mac+ArrowRight"],ht._translateEmpty,{args:[xt,0],checker:vt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ht._translateEmpty,{args:[bt,0],checker:vt}],[["ArrowUp","mac+ArrowUp"],ht._translateEmpty,{args:[0,-xt],checker:vt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ht._translateEmpty,{args:[0,-bt],checker:vt}],[["ArrowDown","mac+ArrowDown"],ht._translateEmpty,{args:[0,xt],checker:vt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ht._translateEmpty,{args:[0,bt],checker:vt}]]))}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt,{strings:["pdfjs-free-text-default-content"]});const xt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(xt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.FREETEXT_SIZE:Ps._defaultFontSize=vt;break;case AnnotationEditorParamsType.FREETEXT_COLOR:Ps._defaultColor=vt;break}}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.FREETEXT_SIZE:Ut(this,zs,l_).call(this,vt);break;case AnnotationEditorParamsType.FREETEXT_COLOR:Ut(this,zs,c_).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Ps._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,Ps._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,wt(this,To)],[AnnotationEditorParamsType.FREETEXT_COLOR,wt(this,Ko)]]}_translateEmpty(ht,vt){this._uiManager.translateSelectedEditors(ht,vt,!0)}getInitialTranslation(){const ht=this.parentScale;return[-Ps._internalPadding*ht,-(Ps._internalPadding+wt(this,To))*ht]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",wt(this,kv)),this.editorDiv.addEventListener("focus",wt(this,Tv)),this.editorDiv.addEventListener("blur",wt(this,Rv)),this.editorDiv.addEventListener("input",wt(this,Pv)),this.editorDiv.addEventListener("paste",wt(this,Mv)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",wt(this,Fv)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",wt(this,kv)),this.editorDiv.removeEventListener("focus",wt(this,Tv)),this.editorDiv.removeEventListener("blur",wt(this,Rv)),this.editorDiv.removeEventListener("input",wt(this,Pv)),this.editorDiv.removeEventListener("paste",wt(this,Mv)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(ht){this._focusEventsAllowed&&(super.focusin(ht),ht.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ht;this.width||(this.enableEditMode(),this.editorDiv.focus(),(ht=this._initialOptions)!=null&&ht.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ht=wt(this,Ro),vt=Vt(this,Ro,Ut(this,zs,u_).call(this).trimEnd());if(ht===vt)return;const xt=bt=>{if(Vt(this,Ro,bt),!bt){this.remove();return}Ut(this,zs,Ay).call(this),this._uiManager.rebuild(this),Ut(this,zs,_y).call(this)};this.addCommands({cmd:()=>{xt(vt)},undo:()=>{xt(ht)},mustExec:!1}),Ut(this,zs,_y).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ht){this.enterInEditMode()}keydown(ht){ht.target===this.div&&ht.key==="Enter"&&(this.enterInEditMode(),ht.preventDefault())}editorDivKeydown(ht){Ps._keyboardManager.exec(this,ht)}editorDivFocus(ht){this.isEditing=!0}editorDivBlur(ht){this.isEditing=!1}editorDivInput(ht){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ht,vt;this.width&&(ht=this.x,vt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",wt(this,Fv)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(bt=>{var Et;return(Et=this.editorDiv)==null?void 0:Et.setAttribute("default-content",bt)}),this.editorDiv.contentEditable=!0;const{style:xt}=this.editorDiv;if(xt.fontSize=`calc(${wt(this,To)}px * var(--scale-factor))`,xt.color=wt(this,Ko),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[bt,Et]=this.parentDimensions;if(this.annotationElementId){const{position:_t}=wt(this,Om);let[At,Ct]=this.getInitialTranslation();[At,Ct]=this.pageTranslationToScreen(At,Ct);const[St,Rt]=this.pageDimensions,[Pt,kt]=this.pageTranslation;let Mt,Lt;switch(this.rotation){case 0:Mt=ht+(_t[0]-Pt)/St,Lt=vt+this.height-(_t[1]-kt)/Rt;break;case 90:Mt=ht+(_t[0]-Pt)/St,Lt=vt-(_t[1]-kt)/Rt,[At,Ct]=[Ct,-At];break;case 180:Mt=ht-this.width+(_t[0]-Pt)/St,Lt=vt-(_t[1]-kt)/Rt,[At,Ct]=[-At,-Ct];break;case 270:Mt=ht+(_t[0]-Pt-this.height*Rt)/St,Lt=vt+(_t[1]-kt-this.width*St)/Rt,[At,Ct]=[-Ct,At];break}this.setAt(Mt*bt,Lt*Et,At,Ct)}else this.setAt(ht*bt,vt*Et,this.width*bt,this.height*Et);Ut(this,zs,Ay).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(ht){var Mt,Lt,Ot;const vt=ht.clipboardData||window.clipboardData,{types:xt}=vt;if(xt.length===1&&xt[0]==="text/plain")return;ht.preventDefault();const bt=Ut(Mt=Ps,hu,tE).call(Mt,vt.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!bt)return;const Et=window.getSelection();if(!Et.rangeCount)return;this.editorDiv.normalize(),Et.deleteFromDocument();const _t=Et.getRangeAt(0);if(!bt.includes(`
`)){_t.insertNode(document.createTextNode(bt)),this.editorDiv.normalize(),Et.collapseToStart();return}const{startContainer:At,startOffset:Ct}=_t,St=[],Rt=[];if(At.nodeType===Node.TEXT_NODE){const Ft=At.parentElement;if(Rt.push(At.nodeValue.slice(Ct).replaceAll(EOL_PATTERN,"")),Ft!==this.editorDiv){let Dt=St;for(const $t of this.editorDiv.childNodes){if($t===Ft){Dt=Rt;continue}Dt.push(Ut(Lt=Ps,hu,wy).call(Lt,$t))}}St.push(At.nodeValue.slice(0,Ct).replaceAll(EOL_PATTERN,""))}else if(At===this.editorDiv){let Ft=St,Dt=0;for(const $t of this.editorDiv.childNodes)Dt++===Ct&&(Ft=Rt),Ft.push(Ut(Ot=Ps,hu,wy).call(Ot,$t))}Vt(this,Ro,`${St.join(`
`)}${bt}${Rt.join(`
`)}`),Ut(this,zs,Ay).call(this);const Pt=new Range;let kt=St.reduce((Ft,Dt)=>Ft+Dt.length,0);for(const{firstChild:Ft}of this.editorDiv.childNodes)if(Ft.nodeType===Node.TEXT_NODE){const Dt=Ft.nodeValue.length;if(kt<=Dt){Pt.setStart(Ft,kt),Pt.setEnd(Ft,kt);break}kt-=Dt}Et.removeAllRanges(),Et.addRange(Pt)}get contentDiv(){return this.editorDiv}static deserialize(ht,vt,xt){var _t;let bt=null;if(ht instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:At,fontColor:Ct},rect:St,rotation:Rt,id:Pt},textContent:kt,textPosition:Mt,parent:{page:{pageNumber:Lt}}}=ht;if(!kt||kt.length===0)return null;bt=ht={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(Ct),fontSize:At,value:kt.join(`
`),position:Mt,pageIndex:Lt-1,rect:St.slice(0),rotation:Rt,id:Pt,deleted:!1}}const Et=super.deserialize(ht,vt,xt);return Vt(Et,To,ht.fontSize),Vt(Et,Ko,Util.makeHexColor(...ht.color)),Vt(Et,Ro,Ut(_t=Ps,hu,tE).call(_t,ht.value)),Et.annotationElementId=ht.id||null,Vt(Et,Om,bt),Et}serialize(ht=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const vt=Ps._internalPadding*this.parentScale,xt=this.getRect(vt,vt),bt=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:wt(this,Ko)),Et={annotationType:AnnotationEditorType.FREETEXT,color:bt,fontSize:wt(this,To),value:Ut(this,zs,d_).call(this),pageIndex:this.pageIndex,rect:xt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ht?Et:this.annotationElementId&&!Ut(this,zs,h_).call(this,Et)?null:(Et.id=this.annotationElementId,Et)}renderAnnotationElement(ht){const vt=super.renderAnnotationElement(ht);if(this.deleted)return vt;const{style:xt}=vt;xt.fontSize=`calc(${wt(this,To)}px * var(--scale-factor))`,xt.color=wt(this,Ko),vt.replaceChildren();for(const Et of wt(this,Ro).split(`
`)){const _t=document.createElement("div");_t.append(Et?document.createTextNode(Et):document.createElement("br")),vt.append(_t)}const bt=Ps._internalPadding*this.parentScale;return ht.updateEdited({rect:this.getRect(bt,bt),popupContent:wt(this,Ro)}),vt}resetAnnotationElement(ht){super.resetAnnotationElement(ht),ht.resetEdited()}};Rv=new WeakMap,Tv=new WeakMap,Pv=new WeakMap,kv=new WeakMap,Mv=new WeakMap,Ko=new WeakMap,Ro=new WeakMap,Fv=new WeakMap,To=new WeakMap,Om=new WeakMap,zs=new WeakSet,l_=function(ht){const vt=bt=>{this.editorDiv.style.fontSize=`calc(${bt}px * var(--scale-factor))`,this.translate(0,-(bt-wt(this,To))*this.parentScale),Vt(this,To,bt),Ut(this,zs,_y).call(this)},xt=wt(this,To);this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},c_=function(ht){const vt=bt=>{Vt(this,Ko,this.editorDiv.style.color=bt)},xt=wt(this,Ko);this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},u_=function(){var vt;const ht=[];this.editorDiv.normalize();for(const xt of this.editorDiv.childNodes)ht.push(Ut(vt=Ps,hu,wy).call(vt,xt));return ht.join(`
`)},_y=function(){const[ht,vt]=this.parentDimensions;let xt;if(this.isAttachedToDOM)xt=this.div.getBoundingClientRect();else{const{currentLayer:bt,div:Et}=this,_t=Et.style.display,At=Et.classList.contains("hidden");Et.classList.remove("hidden"),Et.style.display="hidden",bt.div.append(this.div),xt=Et.getBoundingClientRect(),Et.remove(),Et.style.display=_t,Et.classList.toggle("hidden",At)}this.rotation%180===this.parentRotation%180?(this.width=xt.width/ht,this.height=xt.height/vt):(this.width=xt.height/ht,this.height=xt.width/vt),this.fixAndSetPosition()},hu=new WeakSet,wy=function(ht){return(ht.nodeType===Node.TEXT_NODE?ht.nodeValue:ht.innerText).replaceAll(EOL_PATTERN,"")},Ay=function(){if(this.editorDiv.replaceChildren(),!!wt(this,Ro))for(const ht of wt(this,Ro).split(`
`)){const vt=document.createElement("div");vt.append(ht?document.createTextNode(ht):document.createElement("br")),this.editorDiv.append(vt)}},d_=function(){return wt(this,Ro).replaceAll(" "," ")},tE=function(ht){return ht.replaceAll(" "," ")},h_=function(ht){const{value:vt,fontSize:xt,color:bt,pageIndex:Et}=wt(this,Om);return this._hasBeenMoved||ht.value!==vt||ht.fontSize!==xt||ht.color.some((_t,At)=>_t!==bt[At])||ht.pageIndex!==Et},qt(Ps,hu),Sr(Ps,"_freeTextDefaultContent",""),Sr(Ps,"_internalPadding",0),Sr(Ps,"_defaultColor",null),Sr(Ps,"_defaultFontSize",10),Sr(Ps,"_type","freetext"),Sr(Ps,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=Ps;var Lv,Fu,Yo,vo,f_,Sy,p_,g_,nE;class Outliner{constructor($,ht=0,vt=0,xt=!0){qt(this,vo);qt(this,Lv);qt(this,Fu,[]);qt(this,Yo,[]);let bt=1/0,Et=-1/0,_t=1/0,At=-1/0;const St=10**-4;for(const{x:Ft,y:Dt,width:$t,height:Bt}of $){const Nt=Math.floor((Ft-ht)/St)*St,Ht=Math.ceil((Ft+$t+ht)/St)*St,jt=Math.floor((Dt-ht)/St)*St,zt=Math.ceil((Dt+Bt+ht)/St)*St,Kt=[Nt,jt,zt,!0],en=[Ht,jt,zt,!1];wt(this,Fu).push(Kt,en),bt=Math.min(bt,Nt),Et=Math.max(Et,Ht),_t=Math.min(_t,jt),At=Math.max(At,zt)}const Rt=Et-bt+2*vt,Pt=At-_t+2*vt,kt=bt-vt,Mt=_t-vt,Lt=wt(this,Fu).at(xt?-1:-2),Ot=[Lt[0],Lt[2]];for(const Ft of wt(this,Fu)){const[Dt,$t,Bt]=Ft;Ft[0]=(Dt-kt)/Rt,Ft[1]=($t-Mt)/Pt,Ft[2]=(Bt-Mt)/Pt}Vt(this,Lv,{x:kt,y:Mt,width:Rt,height:Pt,lastPoint:Ot})}getOutlines(){wt(this,Fu).sort((ht,vt)=>ht[0]-vt[0]||ht[1]-vt[1]||ht[2]-vt[2]);const $=[];for(const ht of wt(this,Fu))ht[3]?($.push(...Ut(this,vo,nE).call(this,ht)),Ut(this,vo,p_).call(this,ht)):(Ut(this,vo,g_).call(this,ht),$.push(...Ut(this,vo,nE).call(this,ht)));return Ut(this,vo,f_).call(this,$)}}Lv=new WeakMap,Fu=new WeakMap,Yo=new WeakMap,vo=new WeakSet,f_=function($){const ht=[],vt=new Set;for(const Et of $){const[_t,At,Ct]=Et;ht.push([_t,At,Et],[_t,Ct,Et])}ht.sort((Et,_t)=>Et[1]-_t[1]||Et[0]-_t[0]);for(let Et=0,_t=ht.length;Et<_t;Et+=2){const At=ht[Et][2],Ct=ht[Et+1][2];At.push(Ct),Ct.push(At),vt.add(At),vt.add(Ct)}const xt=[];let bt;for(;vt.size>0;){const Et=vt.values().next().value;let[_t,At,Ct,St,Rt]=Et;vt.delete(Et);let Pt=_t,kt=At;for(bt=[_t,Ct],xt.push(bt);;){let Mt;if(vt.has(St))Mt=St;else if(vt.has(Rt))Mt=Rt;else break;vt.delete(Mt),[_t,At,Ct,St,Rt]=Mt,Pt!==_t&&(bt.push(Pt,kt,_t,kt===At?At:Ct),Pt=_t),kt=kt===At?Ct:At}bt.push(Pt,kt)}return new HighlightOutline(xt,wt(this,Lv))},Sy=function($){const ht=wt(this,Yo);let vt=0,xt=ht.length-1;for(;vt<=xt;){const bt=vt+xt>>1,Et=ht[bt][0];if(Et===$)return bt;Et<$?vt=bt+1:xt=bt-1}return xt+1},p_=function([,$,ht]){const vt=Ut(this,vo,Sy).call(this,$);wt(this,Yo).splice(vt,0,[$,ht])},g_=function([,$,ht]){const vt=Ut(this,vo,Sy).call(this,$);for(let xt=vt;xt<wt(this,Yo).length;xt++){const[bt,Et]=wt(this,Yo)[xt];if(bt!==$)break;if(bt===$&&Et===ht){wt(this,Yo).splice(xt,1);return}}for(let xt=vt-1;xt>=0;xt--){const[bt,Et]=wt(this,Yo)[xt];if(bt!==$)break;if(bt===$&&Et===ht){wt(this,Yo).splice(xt,1);return}}},nE=function($){const[ht,vt,xt]=$,bt=[[ht,vt,xt]],Et=Ut(this,vo,Sy).call(this,xt);for(let _t=0;_t<Et;_t++){const[At,Ct]=wt(this,Yo)[_t];for(let St=0,Rt=bt.length;St<Rt;St++){const[,Pt,kt]=bt[St];if(!(Ct<=Pt||kt<=At)){if(Pt>=At){if(kt>Ct)bt[St][1]=Ct;else{if(Rt===1)return[];bt.splice(St,1),St--,Rt--}continue}bt[St][2]=At,kt>Ct&&bt.push([ht,Ct,kt])}}}return bt};class Outline{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize($,ht){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof FreeHighlightOutline}}var Dv,$m;class HighlightOutline extends Outline{constructor(ht,vt){super();qt(this,Dv);qt(this,$m);Vt(this,$m,ht),Vt(this,Dv,vt)}toSVGPath(){const ht=[];for(const vt of wt(this,$m)){let[xt,bt]=vt;ht.push(`M${xt} ${bt}`);for(let Et=2;Et<vt.length;Et+=2){const _t=vt[Et],At=vt[Et+1];_t===xt?(ht.push(`V${At}`),bt=At):At===bt&&(ht.push(`H${_t}`),xt=_t)}ht.push("Z")}return ht.join(" ")}serialize([ht,vt,xt,bt],Et){const _t=[],At=xt-ht,Ct=bt-vt;for(const St of wt(this,$m)){const Rt=new Array(St.length);for(let Pt=0;Pt<St.length;Pt+=2)Rt[Pt]=ht+St[Pt]*At,Rt[Pt+1]=bt-St[Pt+1]*Ct;_t.push(Rt)}return _t}get box(){return wt(this,Dv)}}Dv=new WeakMap,$m=new WeakMap;var Sl,iu,Nm,jm,Cl,cs,Rp,Tp,Iv,Ov,Bm,Hm,Lu,$v,ux,dx,Nv,rE;const Nl=class Nl{constructor({x:$,y:ht},vt,xt,bt,Et,_t=0){qt(this,Nv);qt(this,Sl);qt(this,iu,[]);qt(this,Nm);qt(this,jm);qt(this,Cl,[]);qt(this,cs,new Float64Array(18));qt(this,Rp);qt(this,Tp);qt(this,Iv);qt(this,Ov);qt(this,Bm);qt(this,Hm);qt(this,Lu,[]);Vt(this,Sl,vt),Vt(this,Hm,bt*xt),Vt(this,jm,Et),wt(this,cs).set([NaN,NaN,NaN,NaN,$,ht],6),Vt(this,Nm,_t),Vt(this,Ov,wt(Nl,$v)*xt),Vt(this,Iv,wt(Nl,dx)*xt),Vt(this,Bm,xt),wt(this,Lu).push($,ht)}get free(){return!0}isEmpty(){return isNaN(wt(this,cs)[8])}add({x:$,y:ht}){var Kt;Vt(this,Rp,$),Vt(this,Tp,ht);const[vt,xt,bt,Et]=wt(this,Sl);let[_t,At,Ct,St]=wt(this,cs).subarray(8,12);const Rt=$-Ct,Pt=ht-St,kt=Math.hypot(Rt,Pt);if(kt<wt(this,Iv))return!1;const Mt=kt-wt(this,Ov),Lt=Mt/kt,Ot=Lt*Rt,Ft=Lt*Pt;let Dt=_t,$t=At;_t=Ct,At=St,Ct+=Ot,St+=Ft,(Kt=wt(this,Lu))==null||Kt.push($,ht);const Bt=-Ft/Mt,Nt=Ot/Mt,Ht=Bt*wt(this,Hm),jt=Nt*wt(this,Hm);return wt(this,cs).set(wt(this,cs).subarray(2,8),0),wt(this,cs).set([Ct+Ht,St+jt],4),wt(this,cs).set(wt(this,cs).subarray(14,18),12),wt(this,cs).set([Ct-Ht,St-jt],16),isNaN(wt(this,cs)[6])?(wt(this,Cl).length===0&&(wt(this,cs).set([_t+Ht,At+jt],2),wt(this,Cl).push(NaN,NaN,NaN,NaN,(_t+Ht-vt)/bt,(At+jt-xt)/Et),wt(this,cs).set([_t-Ht,At-jt],14),wt(this,iu).push(NaN,NaN,NaN,NaN,(_t-Ht-vt)/bt,(At-jt-xt)/Et)),wt(this,cs).set([Dt,$t,_t,At,Ct,St],6),!this.isEmpty()):(wt(this,cs).set([Dt,$t,_t,At,Ct,St],6),Math.abs(Math.atan2($t-At,Dt-_t)-Math.atan2(Ft,Ot))<Math.PI/2?([_t,At,Ct,St]=wt(this,cs).subarray(2,6),wt(this,Cl).push(NaN,NaN,NaN,NaN,((_t+Ct)/2-vt)/bt,((At+St)/2-xt)/Et),[_t,At,Dt,$t]=wt(this,cs).subarray(14,18),wt(this,iu).push(NaN,NaN,NaN,NaN,((Dt+_t)/2-vt)/bt,(($t+At)/2-xt)/Et),!0):([Dt,$t,_t,At,Ct,St]=wt(this,cs).subarray(0,6),wt(this,Cl).push(((Dt+5*_t)/6-vt)/bt,(($t+5*At)/6-xt)/Et,((5*_t+Ct)/6-vt)/bt,((5*At+St)/6-xt)/Et,((_t+Ct)/2-vt)/bt,((At+St)/2-xt)/Et),[Ct,St,_t,At,Dt,$t]=wt(this,cs).subarray(12,18),wt(this,iu).push(((Dt+5*_t)/6-vt)/bt,(($t+5*At)/6-xt)/Et,((5*_t+Ct)/6-vt)/bt,((5*At+St)/6-xt)/Et,((_t+Ct)/2-vt)/bt,((At+St)/2-xt)/Et),!0))}toSVGPath(){if(this.isEmpty())return"";const $=wt(this,Cl),ht=wt(this,iu),vt=wt(this,cs).subarray(4,6),xt=wt(this,cs).subarray(16,18),[bt,Et,_t,At]=wt(this,Sl),[Ct,St,Rt,Pt]=Ut(this,Nv,rE).call(this);if(isNaN(wt(this,cs)[6])&&!this.isEmpty())return`M${(wt(this,cs)[2]-bt)/_t} ${(wt(this,cs)[3]-Et)/At} L${(wt(this,cs)[4]-bt)/_t} ${(wt(this,cs)[5]-Et)/At} L${Ct} ${St} L${Rt} ${Pt} L${(wt(this,cs)[16]-bt)/_t} ${(wt(this,cs)[17]-Et)/At} L${(wt(this,cs)[14]-bt)/_t} ${(wt(this,cs)[15]-Et)/At} Z`;const kt=[];kt.push(`M${$[4]} ${$[5]}`);for(let Mt=6;Mt<$.length;Mt+=6)isNaN($[Mt])?kt.push(`L${$[Mt+4]} ${$[Mt+5]}`):kt.push(`C${$[Mt]} ${$[Mt+1]} ${$[Mt+2]} ${$[Mt+3]} ${$[Mt+4]} ${$[Mt+5]}`);kt.push(`L${(vt[0]-bt)/_t} ${(vt[1]-Et)/At} L${Ct} ${St} L${Rt} ${Pt} L${(xt[0]-bt)/_t} ${(xt[1]-Et)/At}`);for(let Mt=ht.length-6;Mt>=6;Mt-=6)isNaN(ht[Mt])?kt.push(`L${ht[Mt+4]} ${ht[Mt+5]}`):kt.push(`C${ht[Mt]} ${ht[Mt+1]} ${ht[Mt+2]} ${ht[Mt+3]} ${ht[Mt+4]} ${ht[Mt+5]}`);return kt.push(`L${ht[4]} ${ht[5]} Z`),kt.join(" ")}getOutlines(){var Ft;const $=wt(this,Cl),ht=wt(this,iu),vt=wt(this,cs),xt=vt.subarray(4,6),bt=vt.subarray(16,18),[Et,_t,At,Ct]=wt(this,Sl),St=new Float64Array((((Ft=wt(this,Lu))==null?void 0:Ft.length)??0)+2);for(let Dt=0,$t=St.length-2;Dt<$t;Dt+=2)St[Dt]=(wt(this,Lu)[Dt]-Et)/At,St[Dt+1]=(wt(this,Lu)[Dt+1]-_t)/Ct;St[St.length-2]=(wt(this,Rp)-Et)/At,St[St.length-1]=(wt(this,Tp)-_t)/Ct;const[Rt,Pt,kt,Mt]=Ut(this,Nv,rE).call(this);if(isNaN(vt[6])&&!this.isEmpty()){const Dt=new Float64Array(36);return Dt.set([NaN,NaN,NaN,NaN,(vt[2]-Et)/At,(vt[3]-_t)/Ct,NaN,NaN,NaN,NaN,(vt[4]-Et)/At,(vt[5]-_t)/Ct,NaN,NaN,NaN,NaN,Rt,Pt,NaN,NaN,NaN,NaN,kt,Mt,NaN,NaN,NaN,NaN,(vt[16]-Et)/At,(vt[17]-_t)/Ct,NaN,NaN,NaN,NaN,(vt[14]-Et)/At,(vt[15]-_t)/Ct],0),new FreeHighlightOutline(Dt,St,wt(this,Sl),wt(this,Bm),wt(this,Nm),wt(this,jm))}const Lt=new Float64Array(wt(this,Cl).length+24+wt(this,iu).length);let Ot=$.length;for(let Dt=0;Dt<Ot;Dt+=2){if(isNaN($[Dt])){Lt[Dt]=Lt[Dt+1]=NaN;continue}Lt[Dt]=$[Dt],Lt[Dt+1]=$[Dt+1]}Lt.set([NaN,NaN,NaN,NaN,(xt[0]-Et)/At,(xt[1]-_t)/Ct,NaN,NaN,NaN,NaN,Rt,Pt,NaN,NaN,NaN,NaN,kt,Mt,NaN,NaN,NaN,NaN,(bt[0]-Et)/At,(bt[1]-_t)/Ct],Ot),Ot+=24;for(let Dt=ht.length-6;Dt>=6;Dt-=6)for(let $t=0;$t<6;$t+=2){if(isNaN(ht[Dt+$t])){Lt[Ot]=Lt[Ot+1]=NaN,Ot+=2;continue}Lt[Ot]=ht[Dt+$t],Lt[Ot+1]=ht[Dt+$t+1],Ot+=2}return Lt.set([NaN,NaN,NaN,NaN,ht[4],ht[5]],Ot),new FreeHighlightOutline(Lt,St,wt(this,Sl),wt(this,Bm),wt(this,Nm),wt(this,jm))}};Sl=new WeakMap,iu=new WeakMap,Nm=new WeakMap,jm=new WeakMap,Cl=new WeakMap,cs=new WeakMap,Rp=new WeakMap,Tp=new WeakMap,Iv=new WeakMap,Ov=new WeakMap,Bm=new WeakMap,Hm=new WeakMap,Lu=new WeakMap,$v=new WeakMap,ux=new WeakMap,dx=new WeakMap,Nv=new WeakSet,rE=function(){const $=wt(this,cs).subarray(4,6),ht=wt(this,cs).subarray(16,18),[vt,xt,bt,Et]=wt(this,Sl);return[(wt(this,Rp)+($[0]-ht[0])/2-vt)/bt,(wt(this,Tp)+($[1]-ht[1])/2-xt)/Et,(wt(this,Rp)+(ht[0]-$[0])/2-vt)/bt,(wt(this,Tp)+(ht[1]-$[1])/2-xt)/Et]},qt(Nl,$v,8),qt(Nl,ux,2),qt(Nl,dx,wt(Nl,$v)+wt(Nl,ux));let FreeOutliner=Nl;var Um,Pp,su,jv,Po,Bv,js,_o,l0,c0,m_;class FreeHighlightOutline extends Outline{constructor(ht,vt,xt,bt,Et,_t){super();qt(this,_o);qt(this,Um);qt(this,Pp,null);qt(this,su);qt(this,jv);qt(this,Po);qt(this,Bv);qt(this,js);Vt(this,js,ht),Vt(this,Po,vt),Vt(this,Um,xt),Vt(this,Bv,bt),Vt(this,su,Et),Vt(this,jv,_t),Ut(this,_o,m_).call(this,_t);const{x:At,y:Ct,width:St,height:Rt}=wt(this,Pp);for(let Pt=0,kt=ht.length;Pt<kt;Pt+=2)ht[Pt]=(ht[Pt]-At)/St,ht[Pt+1]=(ht[Pt+1]-Ct)/Rt;for(let Pt=0,kt=vt.length;Pt<kt;Pt+=2)vt[Pt]=(vt[Pt]-At)/St,vt[Pt+1]=(vt[Pt+1]-Ct)/Rt}toSVGPath(){const ht=[`M${wt(this,js)[4]} ${wt(this,js)[5]}`];for(let vt=6,xt=wt(this,js).length;vt<xt;vt+=6){if(isNaN(wt(this,js)[vt])){ht.push(`L${wt(this,js)[vt+4]} ${wt(this,js)[vt+5]}`);continue}ht.push(`C${wt(this,js)[vt]} ${wt(this,js)[vt+1]} ${wt(this,js)[vt+2]} ${wt(this,js)[vt+3]} ${wt(this,js)[vt+4]} ${wt(this,js)[vt+5]}`)}return ht.push("Z"),ht.join(" ")}serialize([ht,vt,xt,bt],Et){const _t=xt-ht,At=bt-vt;let Ct,St;switch(Et){case 0:Ct=Ut(this,_o,l0).call(this,wt(this,js),ht,bt,_t,-At),St=Ut(this,_o,l0).call(this,wt(this,Po),ht,bt,_t,-At);break;case 90:Ct=Ut(this,_o,c0).call(this,wt(this,js),ht,vt,_t,At),St=Ut(this,_o,c0).call(this,wt(this,Po),ht,vt,_t,At);break;case 180:Ct=Ut(this,_o,l0).call(this,wt(this,js),xt,vt,-_t,At),St=Ut(this,_o,l0).call(this,wt(this,Po),xt,vt,-_t,At);break;case 270:Ct=Ut(this,_o,c0).call(this,wt(this,js),xt,bt,-_t,-At),St=Ut(this,_o,c0).call(this,wt(this,Po),xt,bt,-_t,-At);break}return{outline:Array.from(Ct),points:[Array.from(St)]}}get box(){return wt(this,Pp)}getNewOutline(ht,vt){const{x:xt,y:bt,width:Et,height:_t}=wt(this,Pp),[At,Ct,St,Rt]=wt(this,Um),Pt=Et*St,kt=_t*Rt,Mt=xt*St+At,Lt=bt*Rt+Ct,Ot=new FreeOutliner({x:wt(this,Po)[0]*Pt+Mt,y:wt(this,Po)[1]*kt+Lt},wt(this,Um),wt(this,Bv),ht,wt(this,jv),vt??wt(this,su));for(let Ft=2;Ft<wt(this,Po).length;Ft+=2)Ot.add({x:wt(this,Po)[Ft]*Pt+Mt,y:wt(this,Po)[Ft+1]*kt+Lt});return Ot.getOutlines()}}Um=new WeakMap,Pp=new WeakMap,su=new WeakMap,jv=new WeakMap,Po=new WeakMap,Bv=new WeakMap,js=new WeakMap,_o=new WeakSet,l0=function(ht,vt,xt,bt,Et){const _t=new Float64Array(ht.length);for(let At=0,Ct=ht.length;At<Ct;At+=2)_t[At]=vt+ht[At]*bt,_t[At+1]=xt+ht[At+1]*Et;return _t},c0=function(ht,vt,xt,bt,Et){const _t=new Float64Array(ht.length);for(let At=0,Ct=ht.length;At<Ct;At+=2)_t[At]=vt+ht[At+1]*bt,_t[At+1]=xt+ht[At]*Et;return _t},m_=function(ht){const vt=wt(this,js);let xt=vt[4],bt=vt[5],Et=xt,_t=bt,At=xt,Ct=bt,St=xt,Rt=bt;const Pt=ht?Math.max:Math.min;for(let Ft=6,Dt=vt.length;Ft<Dt;Ft+=6){if(isNaN(vt[Ft]))Et=Math.min(Et,vt[Ft+4]),_t=Math.min(_t,vt[Ft+5]),At=Math.max(At,vt[Ft+4]),Ct=Math.max(Ct,vt[Ft+5]),Rt<vt[Ft+5]?(St=vt[Ft+4],Rt=vt[Ft+5]):Rt===vt[Ft+5]&&(St=Pt(St,vt[Ft+4]));else{const $t=Util.bezierBoundingBox(xt,bt,...vt.slice(Ft,Ft+6));Et=Math.min(Et,$t[0]),_t=Math.min(_t,$t[1]),At=Math.max(At,$t[2]),Ct=Math.max(Ct,$t[3]),Rt<$t[3]?(St=$t[2],Rt=$t[3]):Rt===$t[3]&&(St=Pt(St,$t[2]))}xt=vt[Ft+4],bt=vt[Ft+5]}const kt=Et-wt(this,su),Mt=_t-wt(this,su),Lt=At-Et+2*wt(this,su),Ot=Ct-_t+2*wt(this,su);Vt(this,Pp,{x:kt,y:Mt,width:Lt,height:Ot,lastPoint:[St,Rt]})};var Hv,Uv,Zo,kp,zm,Gs,zv,Wm,Wv,Vv,Du,Vm,Ts,iE,sE,v_,qu,y_,Eu;const Bl=class Bl{constructor({editor:$=null,uiManager:ht=null}){qt(this,Ts);qt(this,Hv,Ut(this,Ts,v_).bind(this));qt(this,Uv,Ut(this,Ts,y_).bind(this));qt(this,Zo,null);qt(this,kp,null);qt(this,zm);qt(this,Gs,null);qt(this,zv,!1);qt(this,Wm,!1);qt(this,Wv,null);qt(this,Vv);qt(this,Du,null);qt(this,Vm);var vt;$?(Vt(this,Wm,!1),Vt(this,Vm,AnnotationEditorParamsType.HIGHLIGHT_COLOR),Vt(this,Wv,$)):(Vt(this,Wm,!0),Vt(this,Vm,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),Vt(this,Du,($==null?void 0:$._uiManager)||ht),Vt(this,Vv,wt(this,Du)._eventBus),Vt(this,zm,($==null?void 0:$.color)||((vt=wt(this,Du))==null?void 0:vt.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],Bl.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Bl.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Bl.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Bl.prototype._moveToPrevious],[["Home","mac+Home"],Bl.prototype._moveToBeginning],[["End","mac+End"],Bl.prototype._moveToEnd]]))}renderButton(){const $=Vt(this,Zo,document.createElement("button"));$.className="colorPicker",$.tabIndex="0",$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),$.setAttribute("aria-haspopup",!0),$.addEventListener("click",Ut(this,Ts,qu).bind(this)),$.addEventListener("keydown",wt(this,Hv));const ht=Vt(this,kp,document.createElement("span"));return ht.className="swatch",ht.setAttribute("aria-hidden",!0),ht.style.backgroundColor=wt(this,zm),$.append(ht),$}renderMainDropdown(){const $=Vt(this,Gs,Ut(this,Ts,iE).call(this));return $.setAttribute("aria-orientation","horizontal"),$.setAttribute("aria-labelledby","highlightColorPickerLabel"),$}_colorSelectFromKeyboard($){if($.target===wt(this,Zo)){Ut(this,Ts,qu).call(this,$);return}const ht=$.target.getAttribute("data-color");ht&&Ut(this,Ts,sE).call(this,ht,$)}_moveToNext($){var ht,vt;if(!wt(this,Ts,Eu)){Ut(this,Ts,qu).call(this,$);return}if($.target===wt(this,Zo)){(ht=wt(this,Gs).firstChild)==null||ht.focus();return}(vt=$.target.nextSibling)==null||vt.focus()}_moveToPrevious($){var ht,vt;if($.target===((ht=wt(this,Gs))==null?void 0:ht.firstChild)||$.target===wt(this,Zo)){wt(this,Ts,Eu)&&this._hideDropdownFromKeyboard();return}wt(this,Ts,Eu)||Ut(this,Ts,qu).call(this,$),(vt=$.target.previousSibling)==null||vt.focus()}_moveToBeginning($){var ht;if(!wt(this,Ts,Eu)){Ut(this,Ts,qu).call(this,$);return}(ht=wt(this,Gs).firstChild)==null||ht.focus()}_moveToEnd($){var ht;if(!wt(this,Ts,Eu)){Ut(this,Ts,qu).call(this,$);return}(ht=wt(this,Gs).lastChild)==null||ht.focus()}hideDropdown(){var $;($=wt(this,Gs))==null||$.classList.add("hidden"),window.removeEventListener("pointerdown",wt(this,Uv))}_hideDropdownFromKeyboard(){var $;if(!wt(this,Wm)){if(!wt(this,Ts,Eu)){($=wt(this,Wv))==null||$.unselect();return}this.hideDropdown(),wt(this,Zo).focus({preventScroll:!0,focusVisible:wt(this,zv)})}}updateColor($){if(wt(this,kp)&&(wt(this,kp).style.backgroundColor=$),!wt(this,Gs))return;const ht=wt(this,Du).highlightColors.values();for(const vt of wt(this,Gs).children)vt.setAttribute("aria-selected",ht.next().value===$)}destroy(){var $,ht;($=wt(this,Zo))==null||$.remove(),Vt(this,Zo,null),Vt(this,kp,null),(ht=wt(this,Gs))==null||ht.remove(),Vt(this,Gs,null)}};Hv=new WeakMap,Uv=new WeakMap,Zo=new WeakMap,kp=new WeakMap,zm=new WeakMap,Gs=new WeakMap,zv=new WeakMap,Wm=new WeakMap,Wv=new WeakMap,Vv=new WeakMap,Du=new WeakMap,Vm=new WeakMap,Ts=new WeakSet,iE=function(){const $=document.createElement("div");$.addEventListener("contextmenu",noContextMenu),$.className="dropdown",$.role="listbox",$.setAttribute("aria-multiselectable",!1),$.setAttribute("aria-orientation","vertical"),$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[ht,vt]of wt(this,Du).highlightColors){const xt=document.createElement("button");xt.tabIndex="0",xt.role="option",xt.setAttribute("data-color",vt),xt.title=ht,xt.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${ht}`);const bt=document.createElement("span");xt.append(bt),bt.className="swatch",bt.style.backgroundColor=vt,xt.setAttribute("aria-selected",vt===wt(this,zm)),xt.addEventListener("click",Ut(this,Ts,sE).bind(this,vt)),$.append(xt)}return $.addEventListener("keydown",wt(this,Hv)),$},sE=function($,ht){ht.stopPropagation(),wt(this,Vv).dispatch("switchannotationeditorparams",{source:this,type:wt(this,Vm),value:$})},v_=function($){Bl._keyboardManager.exec(this,$)},qu=function($){if(wt(this,Ts,Eu)){this.hideDropdown();return}if(Vt(this,zv,$.detail===0),window.addEventListener("pointerdown",wt(this,Uv)),wt(this,Gs)){wt(this,Gs).classList.remove("hidden");return}const ht=Vt(this,Gs,Ut(this,Ts,iE).call(this));wt(this,Zo).append(ht)},y_=function($){var ht;(ht=wt(this,Gs))!=null&&ht.contains($.target)||this.hideDropdown()},Eu=function(){return wt(this,Gs)&&!wt(this,Gs).classList.contains("hidden")};let ColorPicker=Bl;var Gm,Gv,Iu,Mp,Xm,Oo,Xv,qv,Fp,Qo,po,ko,hx,qm,Lp,Xs,Km,Rl,Kv,os,oE,aE,x_,b_,E_,lE,u0,jo,_g,__,Cy,d0,w_,A_,S_,C_;const vs=class vs extends AnnotationEditor{constructor(ht){super({...ht,name:"highlightEditor"});qt(this,os);qt(this,Gm,null);qt(this,Gv,0);qt(this,Iu);qt(this,Mp,null);qt(this,Xm,null);qt(this,Oo,null);qt(this,Xv,null);qt(this,qv,0);qt(this,Fp,null);qt(this,Qo,null);qt(this,po,null);qt(this,ko,!1);qt(this,hx,Ut(this,os,__).bind(this));qt(this,qm,null);qt(this,Lp);qt(this,Xs,null);qt(this,Km,"");qt(this,Rl);qt(this,Kv,"");this.color=ht.color||vs._defaultColor,Vt(this,Rl,ht.thickness||vs._defaultThickness),Vt(this,Lp,ht.opacity||vs._defaultOpacity),Vt(this,Iu,ht.boxes||null),Vt(this,Kv,ht.methodOfCreation||""),Vt(this,Km,ht.text||""),this._isDraggable=!1,ht.highlightId>-1?(Vt(this,ko,!0),Ut(this,os,aE).call(this,ht),Ut(this,os,u0).call(this)):(Vt(this,Gm,ht.anchorNode),Vt(this,Gv,ht.anchorOffset),Vt(this,Xv,ht.focusNode),Vt(this,qv,ht.focusOffset),Ut(this,os,oE).call(this),Ut(this,os,u0).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const ht=vs.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],ht._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],ht._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],ht._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],ht._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:wt(this,ko)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:wt(this,Rl),methodOfCreation:wt(this,Kv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(ht){return{numberOfColors:ht.get("color").size}}static initialize(ht,vt){var xt;AnnotationEditor.initialize(ht,vt),vs._defaultColor||(vs._defaultColor=((xt=vt.highlightColors)==null?void 0:xt.values().next().value)||"#fff066")}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:vs._defaultColor=vt;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:vs._defaultThickness=vt;break}}translateInPage(ht,vt){}get toolbarPosition(){return wt(this,qm)}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:Ut(this,os,x_).call(this,vt);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Ut(this,os,b_).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,vs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,vs._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||vs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,wt(this,Rl)||vs._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,wt(this,ko)]]}async addEditToolbar(){const ht=await super.addEditToolbar();return ht?(this._uiManager.highlightColors&&(Vt(this,Xm,new ColorPicker({editor:this})),ht.addColorPicker(wt(this,Xm))),ht):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Ut(this,os,d0).call(this))}getBaseTranslation(){return[0,0]}getRect(ht,vt){return super.getRect(ht,vt,Ut(this,os,d0).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){Ut(this,os,lE).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Ut(this,os,u0).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(ht){var xt;let vt=!1;this.parent&&!ht?Ut(this,os,lE).call(this):ht&&(Ut(this,os,u0).call(this,ht),vt=!this.parent&&((xt=this.div)==null?void 0:xt.classList.contains("selectedEditor"))),super.setParent(ht),this.show(this._isVisible),vt&&this.select()}rotate(ht){var bt,Et,_t;const{drawLayer:vt}=this.parent;let xt;wt(this,ko)?(ht=(ht-this.rotation+360)%360,xt=Ut(bt=vs,jo,_g).call(bt,wt(this,Qo).box,ht)):xt=Ut(Et=vs,jo,_g).call(Et,this,ht),vt.rotate(wt(this,po),ht),vt.rotate(wt(this,Xs),ht),vt.updateBox(wt(this,po),xt),vt.updateBox(wt(this,Xs),Ut(_t=vs,jo,_g).call(_t,wt(this,Oo).box,ht))}render(){if(this.div)return this.div;const ht=super.render();wt(this,Km)&&(ht.setAttribute("aria-label",wt(this,Km)),ht.setAttribute("role","mark")),wt(this,ko)?ht.classList.add("free"):this.div.addEventListener("keydown",wt(this,hx));const vt=Vt(this,Fp,document.createElement("div"));ht.append(vt),vt.setAttribute("aria-hidden","true"),vt.className="internal",vt.style.clipPath=wt(this,Mp);const[xt,bt]=this.parentDimensions;return this.setDims(this.width*xt,this.height*bt),bindEvents(this,wt(this,Fp),["pointerover","pointerleave"]),this.enableEditing(),ht}pointerover(){this.parent.drawLayer.addClass(wt(this,Xs),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(wt(this,Xs),"hovered")}_moveCaret(ht){switch(this.parent.unselect(this),ht){case 0:case 2:Ut(this,os,Cy).call(this,!0);break;case 1:case 3:Ut(this,os,Cy).call(this,!1);break}}select(){var ht,vt;super.select(),wt(this,Xs)&&((ht=this.parent)==null||ht.drawLayer.removeClass(wt(this,Xs),"hovered"),(vt=this.parent)==null||vt.drawLayer.addClass(wt(this,Xs),"selected"))}unselect(){var ht;super.unselect(),wt(this,Xs)&&((ht=this.parent)==null||ht.drawLayer.removeClass(wt(this,Xs),"selected"),wt(this,ko)||Ut(this,os,Cy).call(this,!1))}get _mustFixPosition(){return!wt(this,ko)}show(ht=this._isVisible){super.show(ht),this.parent&&(this.parent.drawLayer.show(wt(this,po),ht),this.parent.drawLayer.show(wt(this,Xs),ht))}static startHighlighting(ht,vt,{target:xt,x:bt,y:Et}){const{x:_t,y:At,width:Ct,height:St}=xt.getBoundingClientRect(),Rt=Lt=>{Ut(this,jo,S_).call(this,ht,Lt)},Pt={capture:!0,passive:!1},kt=Lt=>{Lt.preventDefault(),Lt.stopPropagation()},Mt=Lt=>{xt.removeEventListener("pointermove",Rt),window.removeEventListener("blur",Mt),window.removeEventListener("pointerup",Mt),window.removeEventListener("pointerdown",kt,Pt),window.removeEventListener("contextmenu",noContextMenu),Ut(this,jo,C_).call(this,ht,Lt)};window.addEventListener("blur",Mt),window.addEventListener("pointerup",Mt),window.addEventListener("pointerdown",kt,Pt),window.addEventListener("contextmenu",noContextMenu),xt.addEventListener("pointermove",Rt),this._freeHighlight=new FreeOutliner({x:bt,y:Et},[_t,At,Ct,St],ht.scale,this._defaultThickness/2,vt,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=ht.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(ht,vt,xt){var Lt;const bt=super.deserialize(ht,vt,xt),{rect:[Et,_t,At,Ct],color:St,quadPoints:Rt}=ht;bt.color=Util.makeHexColor(...St),Vt(bt,Lp,ht.opacity);const[Pt,kt]=bt.pageDimensions;bt.width=(At-Et)/Pt,bt.height=(Ct-_t)/kt;const Mt=Vt(bt,Iu,[]);for(let Ot=0;Ot<Rt.length;Ot+=8)Mt.push({x:(Rt[4]-At)/Pt,y:(Ct-(1-Rt[Ot+5]))/kt,width:(Rt[Ot+2]-Rt[Ot])/Pt,height:(Rt[Ot+5]-Rt[Ot+1])/kt});return Ut(Lt=bt,os,oE).call(Lt),bt}serialize(ht=!1){if(this.isEmpty()||ht)return null;const vt=this.getRect(0,0),xt=AnnotationEditor._colorManager.convert(this.color);return{annotationType:AnnotationEditorType.HIGHLIGHT,color:xt,opacity:wt(this,Lp),thickness:wt(this,Rl),quadPoints:Ut(this,os,w_).call(this),outlines:Ut(this,os,A_).call(this,vt),pageIndex:this.pageIndex,rect:vt,rotation:Ut(this,os,d0).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Gm=new WeakMap,Gv=new WeakMap,Iu=new WeakMap,Mp=new WeakMap,Xm=new WeakMap,Oo=new WeakMap,Xv=new WeakMap,qv=new WeakMap,Fp=new WeakMap,Qo=new WeakMap,po=new WeakMap,ko=new WeakMap,hx=new WeakMap,qm=new WeakMap,Lp=new WeakMap,Xs=new WeakMap,Km=new WeakMap,Rl=new WeakMap,Kv=new WeakMap,os=new WeakSet,oE=function(){const ht=new Outliner(wt(this,Iu),.001);Vt(this,Qo,ht.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=wt(this,Qo).box;const vt=new Outliner(wt(this,Iu),.0025,.001,this._uiManager.direction==="ltr");Vt(this,Oo,vt.getOutlines());const{lastPoint:xt}=wt(this,Oo).box;Vt(this,qm,[(xt[0]-this.x)/this.width,(xt[1]-this.y)/this.height])},aE=function({highlightOutlines:ht,highlightId:vt,clipPathId:xt}){var Rt,Pt;if(Vt(this,Qo,ht),Vt(this,Oo,ht.getNewOutline(wt(this,Rl)/2+1.5,.0025)),vt>=0)Vt(this,po,vt),Vt(this,Mp,xt),this.parent.drawLayer.finalizeLine(vt,ht),Vt(this,Xs,this.parent.drawLayer.highlightOutline(wt(this,Oo)));else if(this.parent){const kt=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(wt(this,po),ht),this.parent.drawLayer.updateBox(wt(this,po),Ut(Rt=vs,jo,_g).call(Rt,wt(this,Qo).box,(kt-this.rotation+360)%360)),this.parent.drawLayer.updateLine(wt(this,Xs),wt(this,Oo)),this.parent.drawLayer.updateBox(wt(this,Xs),Ut(Pt=vs,jo,_g).call(Pt,wt(this,Oo).box,kt))}const{x:Et,y:_t,width:At,height:Ct}=ht.box;switch(this.rotation){case 0:this.x=Et,this.y=_t,this.width=At,this.height=Ct;break;case 90:{const[kt,Mt]=this.parentDimensions;this.x=_t,this.y=1-Et,this.width=At*Mt/kt,this.height=Ct*kt/Mt;break}case 180:this.x=1-Et,this.y=1-_t,this.width=At,this.height=Ct;break;case 270:{const[kt,Mt]=this.parentDimensions;this.x=1-_t,this.y=Et,this.width=At*Mt/kt,this.height=Ct*kt/Mt;break}}const{lastPoint:St}=wt(this,Oo).box;Vt(this,qm,[(St[0]-Et)/At,(St[1]-_t)/Ct])},x_=function(ht){const vt=bt=>{var Et,_t;this.color=bt,(Et=this.parent)==null||Et.drawLayer.changeColor(wt(this,po),bt),(_t=wt(this,Xm))==null||_t.updateColor(bt)},xt=this.color;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(ht)},!0)},b_=function(ht){const vt=wt(this,Rl),xt=bt=>{Vt(this,Rl,bt),Ut(this,os,E_).call(this,bt)};this.addCommands({cmd:xt.bind(this,ht),undo:xt.bind(this,vt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:ht},!0)},E_=function(ht){if(!wt(this,ko))return;Ut(this,os,aE).call(this,{highlightOutlines:wt(this,Qo).getNewOutline(ht/2)}),this.fixAndSetPosition();const[vt,xt]=this.parentDimensions;this.setDims(this.width*vt,this.height*xt)},lE=function(){wt(this,po)===null||!this.parent||(this.parent.drawLayer.remove(wt(this,po)),Vt(this,po,null),this.parent.drawLayer.remove(wt(this,Xs)),Vt(this,Xs,null))},u0=function(ht=this.parent){wt(this,po)===null&&({id:eo(this,po)._,clipPathId:eo(this,Mp)._}=ht.drawLayer.highlight(wt(this,Qo),this.color,wt(this,Lp)),Vt(this,Xs,ht.drawLayer.highlightOutline(wt(this,Oo))),wt(this,Fp)&&(wt(this,Fp).style.clipPath=wt(this,Mp)))},jo=new WeakSet,_g=function({x:ht,y:vt,width:xt,height:bt},Et){switch(Et){case 90:return{x:1-vt-bt,y:ht,width:bt,height:xt};case 180:return{x:1-ht-xt,y:1-vt-bt,width:xt,height:bt};case 270:return{x:vt,y:1-ht-xt,width:bt,height:xt}}return{x:ht,y:vt,width:xt,height:bt}},__=function(ht){vs._keyboardManager.exec(this,ht)},Cy=function(ht){if(!wt(this,Gm))return;const vt=window.getSelection();ht?vt.setPosition(wt(this,Gm),wt(this,Gv)):vt.setPosition(wt(this,Xv),wt(this,qv))},d0=function(){return wt(this,ko)?this.rotation:0},w_=function(){if(wt(this,ko))return null;const[ht,vt]=this.pageDimensions,xt=wt(this,Iu),bt=new Array(xt.length*8);let Et=0;for(const{x:_t,y:At,width:Ct,height:St}of xt){const Rt=_t*ht,Pt=(1-At-St)*vt;bt[Et]=bt[Et+4]=Rt,bt[Et+1]=bt[Et+3]=Pt,bt[Et+2]=bt[Et+6]=Rt+Ct*ht,bt[Et+5]=bt[Et+7]=Pt+St*vt,Et+=8}return bt},A_=function(ht){return wt(this,Qo).serialize(ht,Ut(this,os,d0).call(this))},S_=function(ht,vt){this._freeHighlight.add(vt)&&ht.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},C_=function(ht,vt){this._freeHighlight.isEmpty()?ht.drawLayer.removeFreeHighlight(this._freeHighlightId):ht.createAndAddNewEditor(vt,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},qt(vs,jo),Sr(vs,"_defaultColor",null),Sr(vs,"_defaultOpacity",1),Sr(vs,"_defaultThickness",12),Sr(vs,"_l10nPromise"),Sr(vs,"_type","highlight"),Sr(vs,"_editorType",AnnotationEditorType.HIGHLIGHT),Sr(vs,"_freeHighlightId",-1),Sr(vs,"_freeHighlight",null),Sr(vs,"_freeHighlightClipId","");let HighlightEditor=vs;var Dp,Ip,Yv,Zv,Qv,Op,Tl,ou,$o,$p,Np,jp,Bp,Hp,Ou,Ar,R_,T_,P_,k_,cE,M_,uE,F_,L_,D_,I_,O_,Ku,dE,Ry,Ty,em,hE,Py,pu,$_,fE,N_,j_,pE,ky,h0;const Is=class Is extends AnnotationEditor{constructor(ht){super({...ht,name:"inkEditor"});qt(this,Ar);qt(this,Dp,0);qt(this,Ip,0);qt(this,Yv,this.canvasPointermove.bind(this));qt(this,Zv,this.canvasPointerleave.bind(this));qt(this,Qv,this.canvasPointerup.bind(this));qt(this,Op,this.canvasPointerdown.bind(this));qt(this,Tl,null);qt(this,ou,new Path2D);qt(this,$o,!1);qt(this,$p,!1);qt(this,Np,!1);qt(this,jp,null);qt(this,Bp,0);qt(this,Hp,0);qt(this,Ou,null);this.color=ht.color||null,this.thickness=ht.thickness||null,this.opacity=ht.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt)}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.INK_THICKNESS:Is._defaultThickness=vt;break;case AnnotationEditorParamsType.INK_COLOR:Is._defaultColor=vt;break;case AnnotationEditorParamsType.INK_OPACITY:Is._defaultOpacity=vt/100;break}}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.INK_THICKNESS:Ut(this,Ar,R_).call(this,vt);break;case AnnotationEditorParamsType.INK_COLOR:Ut(this,Ar,T_).call(this,vt);break;case AnnotationEditorParamsType.INK_OPACITY:Ut(this,Ar,P_).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,Is._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,Is._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(Is._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Is._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||Is._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Is._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ut(this,Ar,Ry).call(this),Ut(this,Ar,Ty).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ut(this,Ar,em).call(this)),Ut(this,Ar,h0).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,wt(this,Tl)&&(clearTimeout(wt(this,Tl)),Vt(this,Tl,null)),wt(this,jp).disconnect(),Vt(this,jp,null),super.remove())}setParent(ht){!this.parent&&ht?this._uiManager.removeShouldRescale(this):this.parent&&ht===null&&this._uiManager.addShouldRescale(this),super.setParent(ht)}onScaleChanging(){const[ht,vt]=this.parentDimensions,xt=this.width*ht,bt=this.height*vt;this.setDimensions(xt,bt)}enableEditMode(){wt(this,$o)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",wt(this,Op)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",wt(this,Op)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){wt(this,$o)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Vt(this,$o,!0),this.div.classList.add("disabled"),Ut(this,Ar,h0).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(ht){this._focusEventsAllowed&&(super.focusin(ht),this.enableEditMode())}canvasPointerdown(ht){ht.button!==0||!this.isInEditMode()||wt(this,$o)||(this.setInForeground(),ht.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),Ut(this,Ar,M_).call(this,ht.offsetX,ht.offsetY))}canvasPointermove(ht){ht.preventDefault(),Ut(this,Ar,uE).call(this,ht.offsetX,ht.offsetY)}canvasPointerup(ht){ht.preventDefault(),Ut(this,Ar,dE).call(this,ht)}canvasPointerleave(ht){Ut(this,Ar,dE).call(this,ht)}get isResizable(){return!this.isEmpty()&&wt(this,$o)}render(){if(this.div)return this.div;let ht,vt;this.width&&(ht=this.x,vt=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[xt,bt,Et,_t]=Ut(this,Ar,k_).call(this);if(this.setAt(xt,bt,0,0),this.setDims(Et,_t),Ut(this,Ar,Ry).call(this),this.width){const[At,Ct]=this.parentDimensions;this.setAspectRatio(this.width*At,this.height*Ct),this.setAt(ht*At,vt*Ct,this.width*At,this.height*Ct),Vt(this,Np,!0),Ut(this,Ar,em).call(this),this.setDims(this.width*At,this.height*Ct),Ut(this,Ar,Ku).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ut(this,Ar,Ty).call(this),this.div}setDimensions(ht,vt){const xt=Math.round(ht),bt=Math.round(vt);if(wt(this,Bp)===xt&&wt(this,Hp)===bt)return;Vt(this,Bp,xt),Vt(this,Hp,bt),this.canvas.style.visibility="hidden";const[Et,_t]=this.parentDimensions;this.width=ht/Et,this.height=vt/_t,this.fixAndSetPosition(),wt(this,$o)&&Ut(this,Ar,hE).call(this,ht,vt),Ut(this,Ar,em).call(this),Ut(this,Ar,Ku).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(ht,vt,xt){var Ot,Ft,Dt;if(ht instanceof InkAnnotationElement)return null;const bt=super.deserialize(ht,vt,xt);bt.thickness=ht.thickness,bt.color=Util.makeHexColor(...ht.color),bt.opacity=ht.opacity;const[Et,_t]=bt.pageDimensions,At=bt.width*Et,Ct=bt.height*_t,St=bt.parentScale,Rt=ht.thickness/2;Vt(bt,$o,!0),Vt(bt,Bp,Math.round(At)),Vt(bt,Hp,Math.round(Ct));const{paths:Pt,rect:kt,rotation:Mt}=ht;for(let{bezier:$t}of Pt){$t=Ut(Ot=Is,pu,N_).call(Ot,$t,kt,Mt);const Bt=[];bt.paths.push(Bt);let Nt=St*($t[0]-Rt),Ht=St*($t[1]-Rt);for(let zt=2,Kt=$t.length;zt<Kt;zt+=6){const en=St*($t[zt]-Rt),Wt=St*($t[zt+1]-Rt),Qt=St*($t[zt+2]-Rt),on=St*($t[zt+3]-Rt),En=St*($t[zt+4]-Rt),un=St*($t[zt+5]-Rt);Bt.push([[Nt,Ht],[en,Wt],[Qt,on],[En,un]]),Nt=En,Ht=un}const jt=Ut(this,pu,$_).call(this,Bt);bt.bezierPath2D.push(jt)}const Lt=Ut(Ft=bt,Ar,pE).call(Ft);return Vt(bt,Ip,Math.max(AnnotationEditor.MIN_SIZE,Lt[2]-Lt[0])),Vt(bt,Dp,Math.max(AnnotationEditor.MIN_SIZE,Lt[3]-Lt[1])),Ut(Dt=bt,Ar,hE).call(Dt,At,Ct),bt}serialize(){if(this.isEmpty())return null;const ht=this.getRect(0,0),vt=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:vt,thickness:this.thickness,opacity:this.opacity,paths:Ut(this,Ar,j_).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ht),pageIndex:this.pageIndex,rect:ht,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Dp=new WeakMap,Ip=new WeakMap,Yv=new WeakMap,Zv=new WeakMap,Qv=new WeakMap,Op=new WeakMap,Tl=new WeakMap,ou=new WeakMap,$o=new WeakMap,$p=new WeakMap,Np=new WeakMap,jp=new WeakMap,Bp=new WeakMap,Hp=new WeakMap,Ou=new WeakMap,Ar=new WeakSet,R_=function(ht){const vt=bt=>{this.thickness=bt,Ut(this,Ar,h0).call(this)},xt=this.thickness;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},T_=function(ht){const vt=bt=>{this.color=bt,Ut(this,Ar,Ku).call(this)},xt=this.color;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},P_=function(ht){const vt=bt=>{this.opacity=bt,Ut(this,Ar,Ku).call(this)};ht/=100;const xt=this.opacity;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},k_=function(){const{parentRotation:ht,parentDimensions:[vt,xt]}=this;switch(ht){case 90:return[0,xt,xt,vt];case 180:return[vt,xt,vt,xt];case 270:return[vt,0,xt,vt];default:return[0,0,vt,xt]}},cE=function(){const{ctx:ht,color:vt,opacity:xt,thickness:bt,parentScale:Et,scaleFactor:_t}=this;ht.lineWidth=bt*Et/_t,ht.lineCap="round",ht.lineJoin="round",ht.miterLimit=10,ht.strokeStyle=`${vt}${opacityToHex(xt)}`},M_=function(ht,vt){this.canvas.addEventListener("contextmenu",noContextMenu),this.canvas.addEventListener("pointerleave",wt(this,Zv)),this.canvas.addEventListener("pointermove",wt(this,Yv)),this.canvas.addEventListener("pointerup",wt(this,Qv)),this.canvas.removeEventListener("pointerdown",wt(this,Op)),this.isEditing=!0,wt(this,Np)||(Vt(this,Np,!0),Ut(this,Ar,em).call(this),this.thickness||(this.thickness=Is._defaultThickness),this.color||(this.color=Is._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Is._defaultOpacity)),this.currentPath.push([ht,vt]),Vt(this,$p,!1),Ut(this,Ar,cE).call(this),Vt(this,Ou,()=>{Ut(this,Ar,D_).call(this),wt(this,Ou)&&window.requestAnimationFrame(wt(this,Ou))}),window.requestAnimationFrame(wt(this,Ou))},uE=function(ht,vt){const[xt,bt]=this.currentPath.at(-1);if(this.currentPath.length>1&&ht===xt&&vt===bt)return;const Et=this.currentPath;let _t=wt(this,ou);if(Et.push([ht,vt]),Vt(this,$p,!0),Et.length<=2){_t.moveTo(...Et[0]),_t.lineTo(ht,vt);return}Et.length===3&&(Vt(this,ou,_t=new Path2D),_t.moveTo(...Et[0])),Ut(this,Ar,I_).call(this,_t,...Et.at(-3),...Et.at(-2),ht,vt)},F_=function(){if(this.currentPath.length===0)return;const ht=this.currentPath.at(-1);wt(this,ou).lineTo(...ht)},L_=function(ht,vt){Vt(this,Ou,null),ht=Math.min(Math.max(ht,0),this.canvas.width),vt=Math.min(Math.max(vt,0),this.canvas.height),Ut(this,Ar,uE).call(this,ht,vt),Ut(this,Ar,F_).call(this);let xt;if(this.currentPath.length!==1)xt=Ut(this,Ar,O_).call(this);else{const Ct=[ht,vt];xt=[[Ct,Ct.slice(),Ct.slice(),Ct]]}const bt=wt(this,ou),Et=this.currentPath;this.currentPath=[],Vt(this,ou,new Path2D);const _t=()=>{this.allRawPaths.push(Et),this.paths.push(xt),this.bezierPath2D.push(bt),this._uiManager.rebuild(this)},At=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ut(this,Ar,Ry).call(this),Ut(this,Ar,Ty).call(this)),Ut(this,Ar,h0).call(this))};this.addCommands({cmd:_t,undo:At,mustExec:!0})},D_=function(){if(!wt(this,$p))return;Vt(this,$p,!1);const ht=Math.ceil(this.thickness*this.parentScale),vt=this.currentPath.slice(-3),xt=vt.map(_t=>_t[0]),bt=vt.map(_t=>_t[1]);Math.min(...xt)-ht,Math.max(...xt)+ht,Math.min(...bt)-ht,Math.max(...bt)+ht;const{ctx:Et}=this;Et.save(),Et.clearRect(0,0,this.canvas.width,this.canvas.height);for(const _t of this.bezierPath2D)Et.stroke(_t);Et.stroke(wt(this,ou)),Et.restore()},I_=function(ht,vt,xt,bt,Et,_t,At){const Ct=(vt+bt)/2,St=(xt+Et)/2,Rt=(bt+_t)/2,Pt=(Et+At)/2;ht.bezierCurveTo(Ct+2*(bt-Ct)/3,St+2*(Et-St)/3,Rt+2*(bt-Rt)/3,Pt+2*(Et-Pt)/3,Rt,Pt)},O_=function(){const ht=this.currentPath;if(ht.length<=2)return[[ht[0],ht[0],ht.at(-1),ht.at(-1)]];const vt=[];let xt,[bt,Et]=ht[0];for(xt=1;xt<ht.length-2;xt++){const[kt,Mt]=ht[xt],[Lt,Ot]=ht[xt+1],Ft=(kt+Lt)/2,Dt=(Mt+Ot)/2,$t=[bt+2*(kt-bt)/3,Et+2*(Mt-Et)/3],Bt=[Ft+2*(kt-Ft)/3,Dt+2*(Mt-Dt)/3];vt.push([[bt,Et],$t,Bt,[Ft,Dt]]),[bt,Et]=[Ft,Dt]}const[_t,At]=ht[xt],[Ct,St]=ht[xt+1],Rt=[bt+2*(_t-bt)/3,Et+2*(At-Et)/3],Pt=[Ct+2*(_t-Ct)/3,St+2*(At-St)/3];return vt.push([[bt,Et],Rt,Pt,[Ct,St]]),vt},Ku=function(){if(this.isEmpty()){Ut(this,Ar,Py).call(this);return}Ut(this,Ar,cE).call(this);const{canvas:ht,ctx:vt}=this;vt.setTransform(1,0,0,1,0,0),vt.clearRect(0,0,ht.width,ht.height),Ut(this,Ar,Py).call(this);for(const xt of this.bezierPath2D)vt.stroke(xt)},dE=function(ht){this.canvas.removeEventListener("pointerleave",wt(this,Zv)),this.canvas.removeEventListener("pointermove",wt(this,Yv)),this.canvas.removeEventListener("pointerup",wt(this,Qv)),this.canvas.addEventListener("pointerdown",wt(this,Op)),wt(this,Tl)&&clearTimeout(wt(this,Tl)),Vt(this,Tl,setTimeout(()=>{Vt(this,Tl,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),Ut(this,Ar,L_).call(this,ht.offsetX,ht.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ry=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ty=function(){Vt(this,jp,new ResizeObserver(ht=>{const vt=ht[0].contentRect;vt.width&&vt.height&&this.setDimensions(vt.width,vt.height)})),wt(this,jp).observe(this.div)},em=function(){if(!wt(this,Np))return;const[ht,vt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*ht),this.canvas.height=Math.ceil(this.height*vt),Ut(this,Ar,Py).call(this)},hE=function(ht,vt){const xt=Ut(this,Ar,ky).call(this),bt=(ht-xt)/wt(this,Ip),Et=(vt-xt)/wt(this,Dp);this.scaleFactor=Math.min(bt,Et)},Py=function(){const ht=Ut(this,Ar,ky).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ht,this.translationY*this.scaleFactor+ht)},pu=new WeakSet,$_=function(ht){const vt=new Path2D;for(let xt=0,bt=ht.length;xt<bt;xt++){const[Et,_t,At,Ct]=ht[xt];xt===0&&vt.moveTo(...Et),vt.bezierCurveTo(_t[0],_t[1],At[0],At[1],Ct[0],Ct[1])}return vt},fE=function(ht,vt,xt){const[bt,Et,_t,At]=vt;switch(xt){case 0:for(let Ct=0,St=ht.length;Ct<St;Ct+=2)ht[Ct]+=bt,ht[Ct+1]=At-ht[Ct+1];break;case 90:for(let Ct=0,St=ht.length;Ct<St;Ct+=2){const Rt=ht[Ct];ht[Ct]=ht[Ct+1]+bt,ht[Ct+1]=Rt+Et}break;case 180:for(let Ct=0,St=ht.length;Ct<St;Ct+=2)ht[Ct]=_t-ht[Ct],ht[Ct+1]+=Et;break;case 270:for(let Ct=0,St=ht.length;Ct<St;Ct+=2){const Rt=ht[Ct];ht[Ct]=_t-ht[Ct+1],ht[Ct+1]=At-Rt}break;default:throw new Error("Invalid rotation")}return ht},N_=function(ht,vt,xt){const[bt,Et,_t,At]=vt;switch(xt){case 0:for(let Ct=0,St=ht.length;Ct<St;Ct+=2)ht[Ct]-=bt,ht[Ct+1]=At-ht[Ct+1];break;case 90:for(let Ct=0,St=ht.length;Ct<St;Ct+=2){const Rt=ht[Ct];ht[Ct]=ht[Ct+1]-Et,ht[Ct+1]=Rt-bt}break;case 180:for(let Ct=0,St=ht.length;Ct<St;Ct+=2)ht[Ct]=_t-ht[Ct],ht[Ct+1]-=Et;break;case 270:for(let Ct=0,St=ht.length;Ct<St;Ct+=2){const Rt=ht[Ct];ht[Ct]=At-ht[Ct+1],ht[Ct+1]=_t-Rt}break;default:throw new Error("Invalid rotation")}return ht},j_=function(ht,vt,xt,bt){var St,Rt;const Et=[],_t=this.thickness/2,At=ht*vt+_t,Ct=ht*xt+_t;for(const Pt of this.paths){const kt=[],Mt=[];for(let Lt=0,Ot=Pt.length;Lt<Ot;Lt++){const[Ft,Dt,$t,Bt]=Pt[Lt];if(Ft[0]===Bt[0]&&Ft[1]===Bt[1]&&Ot===1){const on=ht*Ft[0]+At,En=ht*Ft[1]+Ct;kt.push(on,En),Mt.push(on,En);break}const Nt=ht*Ft[0]+At,Ht=ht*Ft[1]+Ct,jt=ht*Dt[0]+At,zt=ht*Dt[1]+Ct,Kt=ht*$t[0]+At,en=ht*$t[1]+Ct,Wt=ht*Bt[0]+At,Qt=ht*Bt[1]+Ct;Lt===0&&(kt.push(Nt,Ht),Mt.push(Nt,Ht)),kt.push(jt,zt,Kt,en,Wt,Qt),Mt.push(jt,zt),Lt===Ot-1&&Mt.push(Wt,Qt)}Et.push({bezier:Ut(St=Is,pu,fE).call(St,kt,bt,this.rotation),points:Ut(Rt=Is,pu,fE).call(Rt,Mt,bt,this.rotation)})}return Et},pE=function(){let ht=1/0,vt=-1/0,xt=1/0,bt=-1/0;for(const Et of this.paths)for(const[_t,At,Ct,St]of Et){const Rt=Util.bezierBoundingBox(..._t,...At,...Ct,...St);ht=Math.min(ht,Rt[0]),xt=Math.min(xt,Rt[1]),vt=Math.max(vt,Rt[2]),bt=Math.max(bt,Rt[3])}return[ht,xt,vt,bt]},ky=function(){return wt(this,$o)?Math.ceil(this.thickness*this.parentScale):0},h0=function(ht=!1){if(this.isEmpty())return;if(!wt(this,$o)){Ut(this,Ar,Ku).call(this);return}const vt=Ut(this,Ar,pE).call(this),xt=Ut(this,Ar,ky).call(this);Vt(this,Ip,Math.max(AnnotationEditor.MIN_SIZE,vt[2]-vt[0])),Vt(this,Dp,Math.max(AnnotationEditor.MIN_SIZE,vt[3]-vt[1]));const bt=Math.ceil(xt+wt(this,Ip)*this.scaleFactor),Et=Math.ceil(xt+wt(this,Dp)*this.scaleFactor),[_t,At]=this.parentDimensions;this.width=bt/_t,this.height=Et/At,this.setAspectRatio(bt,Et);const Ct=this.translationX,St=this.translationY;this.translationX=-vt[0],this.translationY=-vt[1],Ut(this,Ar,em).call(this),Ut(this,Ar,Ku).call(this),Vt(this,Bp,bt),Vt(this,Hp,Et),this.setDims(bt,Et);const Rt=ht?xt/this.scaleFactor/2:0;this.translate(Ct-this.translationX-Rt,St-this.translationY-Rt)},qt(Is,pu),Sr(Is,"_defaultColor",null),Sr(Is,"_defaultOpacity",1),Sr(Is,"_defaultThickness",1),Sr(Is,"_type","ink"),Sr(Is,"_editorType",AnnotationEditorType.INK);let InkEditor=Is;var oo,ao,$u,au,Nu,Ym,Pl,Up,Ml,Jo,Jv,gs,f0,p0,My,gE,B_,H_,mE,Fy,U_;const _0=class _0 extends AnnotationEditor{constructor(ht){super({...ht,name:"stampEditor"});qt(this,gs);qt(this,oo,null);qt(this,ao,null);qt(this,$u,null);qt(this,au,null);qt(this,Nu,null);qt(this,Ym,"");qt(this,Pl,null);qt(this,Up,null);qt(this,Ml,null);qt(this,Jo,!1);qt(this,Jv,!1);Vt(this,au,ht.bitmapUrl),Vt(this,Nu,ht.bitmapFile)}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(vt=>`image/${vt}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(ht){return this.supportedTypes.includes(ht)}static paste(ht,vt){vt.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:ht.getAsFile()})}remove(){var ht,vt;wt(this,ao)&&(Vt(this,oo,null),this._uiManager.imageManager.deleteId(wt(this,ao)),(ht=wt(this,Pl))==null||ht.remove(),Vt(this,Pl,null),(vt=wt(this,Up))==null||vt.disconnect(),Vt(this,Up,null),wt(this,Ml)&&(clearTimeout(wt(this,Ml)),Vt(this,Ml,null))),super.remove()}rebuild(){if(!this.parent){wt(this,ao)&&Ut(this,gs,My).call(this);return}super.rebuild(),this.div!==null&&(wt(this,ao)&&wt(this,Pl)===null&&Ut(this,gs,My).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(wt(this,$u)||wt(this,oo)||wt(this,au)||wt(this,Nu)||wt(this,ao))}get isResizable(){return!0}render(){if(this.div)return this.div;let ht,vt;if(this.width&&(ht=this.x,vt=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),wt(this,oo)?Ut(this,gs,gE).call(this):Ut(this,gs,My).call(this),this.width){const[xt,bt]=this.parentDimensions;this.setAt(ht*xt,vt*bt,this.width*xt,this.height*bt)}return this.div}getImageForAltText(){return wt(this,Pl)}static deserialize(ht,vt,xt){if(ht instanceof StampAnnotationElement)return null;const bt=super.deserialize(ht,vt,xt),{rect:Et,bitmapUrl:_t,bitmapId:At,isSvg:Ct,accessibilityData:St}=ht;At&&xt.imageManager.isValidId(At)?Vt(bt,ao,At):Vt(bt,au,_t),Vt(bt,Jo,Ct);const[Rt,Pt]=bt.pageDimensions;return bt.width=(Et[2]-Et[0])/Rt,bt.height=(Et[3]-Et[1])/Pt,St&&(bt.altTextData=St),bt}serialize(ht=!1,vt=null){if(this.isEmpty())return null;const xt={annotationType:AnnotationEditorType.STAMP,bitmapId:wt(this,ao),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:wt(this,Jo),structTreeParentId:this._structTreeParentId};if(ht)return xt.bitmapUrl=Ut(this,gs,Fy).call(this,!0),xt.accessibilityData=this.altTextData,xt;const{decorative:bt,altText:Et}=this.altTextData;if(!bt&&Et&&(xt.accessibilityData={type:"Figure",alt:Et}),vt===null)return xt;vt.stamps||(vt.stamps=new Map);const _t=wt(this,Jo)?(xt.rect[2]-xt.rect[0])*(xt.rect[3]-xt.rect[1]):null;if(!vt.stamps.has(wt(this,ao)))vt.stamps.set(wt(this,ao),{area:_t,serialized:xt}),xt.bitmap=Ut(this,gs,Fy).call(this,!1);else if(wt(this,Jo)){const At=vt.stamps.get(wt(this,ao));_t>At.area&&(At.area=_t,At.serialized.bitmap.close(),At.serialized.bitmap=Ut(this,gs,Fy).call(this,!1))}return xt}};oo=new WeakMap,ao=new WeakMap,$u=new WeakMap,au=new WeakMap,Nu=new WeakMap,Ym=new WeakMap,Pl=new WeakMap,Up=new WeakMap,Ml=new WeakMap,Jo=new WeakMap,Jv=new WeakMap,gs=new WeakSet,f0=function(ht,vt=!1){if(!ht){this.remove();return}Vt(this,oo,ht.bitmap),vt||(Vt(this,ao,ht.id),Vt(this,Jo,ht.isSvg)),ht.file&&Vt(this,Ym,ht.file.name),Ut(this,gs,gE).call(this)},p0=function(){Vt(this,$u,null),this._uiManager.enableWaiting(!1),wt(this,Pl)&&this.div.focus()},My=function(){if(wt(this,ao)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(wt(this,ao)).then(vt=>Ut(this,gs,f0).call(this,vt,!0)).finally(()=>Ut(this,gs,p0).call(this));return}if(wt(this,au)){const vt=wt(this,au);Vt(this,au,null),this._uiManager.enableWaiting(!0),Vt(this,$u,this._uiManager.imageManager.getFromUrl(vt).then(xt=>Ut(this,gs,f0).call(this,xt)).finally(()=>Ut(this,gs,p0).call(this)));return}if(wt(this,Nu)){const vt=wt(this,Nu);Vt(this,Nu,null),this._uiManager.enableWaiting(!0),Vt(this,$u,this._uiManager.imageManager.getFromFile(vt).then(xt=>Ut(this,gs,f0).call(this,xt)).finally(()=>Ut(this,gs,p0).call(this)));return}const ht=document.createElement("input");ht.type="file",ht.accept=_0.supportedTypesStr,Vt(this,$u,new Promise(vt=>{ht.addEventListener("change",async()=>{if(!ht.files||ht.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const xt=await this._uiManager.imageManager.getFromFile(ht.files[0]);Ut(this,gs,f0).call(this,xt)}vt()}),ht.addEventListener("cancel",()=>{this.remove(),vt()})}).finally(()=>Ut(this,gs,p0).call(this))),ht.click()},gE=function(){const{div:ht}=this;let{width:vt,height:xt}=wt(this,oo);const[bt,Et]=this.pageDimensions,_t=.75;if(this.width)vt=this.width*bt,xt=this.height*Et;else if(vt>_t*bt||xt>_t*Et){const Rt=Math.min(_t*bt/vt,_t*Et/xt);vt*=Rt,xt*=Rt}const[At,Ct]=this.parentDimensions;this.setDims(vt*At/bt,xt*Ct/Et),this._uiManager.enableWaiting(!1);const St=Vt(this,Pl,document.createElement("canvas"));ht.append(St),ht.hidden=!1,Ut(this,gs,mE).call(this,vt,xt),Ut(this,gs,U_).call(this),wt(this,Jv)||(this.parent.addUndoableEditor(this),Vt(this,Jv,!0)),this._reportTelemetry({action:"inserted_image"}),wt(this,Ym)&&St.setAttribute("aria-label",wt(this,Ym))},B_=function(ht,vt){var _t;const[xt,bt]=this.parentDimensions;this.width=ht/xt,this.height=vt/bt,this.setDims(ht,vt),(_t=this._initialOptions)!=null&&_t.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,wt(this,Ml)!==null&&clearTimeout(wt(this,Ml)),Vt(this,Ml,setTimeout(()=>{Vt(this,Ml,null),Ut(this,gs,mE).call(this,ht,vt)},200))},H_=function(ht,vt){const{width:xt,height:bt}=wt(this,oo);let Et=xt,_t=bt,At=wt(this,oo);for(;Et>2*ht||_t>2*vt;){const Ct=Et,St=_t;Et>2*ht&&(Et=Et>=16384?Math.floor(Et/2)-1:Math.ceil(Et/2)),_t>2*vt&&(_t=_t>=16384?Math.floor(_t/2)-1:Math.ceil(_t/2));const Rt=new OffscreenCanvas(Et,_t);Rt.getContext("2d").drawImage(At,0,0,Ct,St,0,0,Et,_t),At=Rt.transferToImageBitmap()}return At},mE=function(ht,vt){ht=Math.ceil(ht),vt=Math.ceil(vt);const xt=wt(this,Pl);if(!xt||xt.width===ht&&xt.height===vt)return;xt.width=ht,xt.height=vt;const bt=wt(this,Jo)?wt(this,oo):Ut(this,gs,H_).call(this,ht,vt);if(this._uiManager.hasMLManager&&!this.hasAltText()){const At=new OffscreenCanvas(ht,vt).getContext("2d");At.drawImage(bt,0,0,bt.width,bt.height,0,0,ht,vt),this._uiManager.mlGuess({service:"image-to-text",request:{data:At.getImageData(0,0,ht,vt).data,width:ht,height:vt,channels:4}}).then(Ct=>{const St=(Ct==null?void 0:Ct.output)||"";this.parent&&St&&!this.hasAltText()&&(this.altTextData={altText:St,decorative:!1})})}const Et=xt.getContext("2d");Et.filter=this._uiManager.hcmFilter,Et.drawImage(bt,0,0,bt.width,bt.height,0,0,ht,vt)},Fy=function(ht){if(ht){if(wt(this,Jo)){const bt=this._uiManager.imageManager.getSvgUrl(wt(this,ao));if(bt)return bt}const vt=document.createElement("canvas");return{width:vt.width,height:vt.height}=wt(this,oo),vt.getContext("2d").drawImage(wt(this,oo),0,0),vt.toDataURL()}if(wt(this,Jo)){const[vt,xt]=this.pageDimensions,bt=Math.round(this.width*vt*PixelsPerInch.PDF_TO_CSS_UNITS),Et=Math.round(this.height*xt*PixelsPerInch.PDF_TO_CSS_UNITS),_t=new OffscreenCanvas(bt,Et);return _t.getContext("2d").drawImage(wt(this,oo),0,0,wt(this,oo).width,wt(this,oo).height,0,0,bt,Et),_t.transferToImageBitmap()}return structuredClone(wt(this,oo))},U_=function(){Vt(this,Up,new ResizeObserver(ht=>{const vt=ht[0].contentRect;vt.width&&vt.height&&Ut(this,gs,B_).call(this,vt.width,vt.height)})),wt(this,Up).observe(this.div)},Sr(_0,"_type","stamp"),Sr(_0,"_editorType",AnnotationEditorType.STAMP);let StampEditor=_0;var zp,Zm,Fl,Wp,lu,cu,uu,Mo,ju,Qm,Jm,go,Kr,Bu,lo,z_,vE,yE,xE,Ly;const Uo=class Uo{constructor({uiManager:$,pageIndex:ht,div:vt,accessibilityManager:xt,annotationLayer:bt,drawLayer:Et,textLayer:_t,viewport:At,l10n:Ct}){qt(this,lo);qt(this,zp);qt(this,Zm,!1);qt(this,Fl,null);qt(this,Wp,null);qt(this,lu,null);qt(this,cu,null);qt(this,uu,null);qt(this,Mo,new Map);qt(this,ju,!1);qt(this,Qm,!1);qt(this,Jm,!1);qt(this,go,null);qt(this,Kr);const St=[...wt(Uo,Bu).values()];if(!Uo._initialized){Uo._initialized=!0;for(const Rt of St)Rt.initialize(Ct,$)}$.registerEditorTypes(St),Vt(this,Kr,$),this.pageIndex=ht,this.div=vt,Vt(this,zp,xt),Vt(this,Fl,bt),this.viewport=At,Vt(this,go,_t),this.drawLayer=Et,wt(this,Kr).addLayer(this)}get isEmpty(){return wt(this,Mo).size===0}get isInvisible(){return this.isEmpty&&wt(this,Kr).getMode()===AnnotationEditorType.NONE}updateToolbar($){wt(this,Kr).updateToolbar($)}updateMode($=wt(this,Kr).getMode()){switch(Ut(this,lo,Ly).call(this),$){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:ht}=this.div;for(const vt of wt(Uo,Bu).values())ht.toggle(`${vt._type}Editing`,$===vt._editorType);this.div.hidden=!1}hasTextLayer($){var ht;return $===((ht=wt(this,go))==null?void 0:ht.div)}addInkEditorIfNeeded($){if(wt(this,Kr).getMode()!==AnnotationEditorType.INK)return;if(!$){for(const vt of wt(this,Mo).values())if(vt.isEmpty()){vt.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($){wt(this,Kr).setEditingState($)}addCommands($){wt(this,Kr).addCommands($)}togglePointerEvents($=!1){this.div.classList.toggle("disabled",!$)}toggleAnnotationLayerPointerEvents($=!1){var ht;(ht=wt(this,Fl))==null||ht.div.classList.toggle("disabled",!$)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const $=new Set;for(const vt of wt(this,Mo).values())vt.enableEditing(),vt.show(!0),vt.annotationElementId&&(wt(this,Kr).removeChangedExistingAnnotation(vt),$.add(vt.annotationElementId));if(!wt(this,Fl))return;const ht=wt(this,Fl).getEditableAnnotations();for(const vt of ht){if(vt.hide(),wt(this,Kr).isDeletedAnnotationElement(vt.data.id)||$.has(vt.data.id))continue;const xt=this.deserialize(vt);xt&&(this.addOrRebuild(xt),xt.enableEditing())}}disable(){var xt;Vt(this,Jm,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const $=new Map,ht=new Map;for(const bt of wt(this,Mo).values())if(bt.disableEditing(),!!bt.annotationElementId){if(bt.serialize()!==null){$.set(bt.annotationElementId,bt);continue}else ht.set(bt.annotationElementId,bt);(xt=this.getEditableAnnotation(bt.annotationElementId))==null||xt.show(),bt.remove()}if(wt(this,Fl)){const bt=wt(this,Fl).getEditableAnnotations();for(const Et of bt){const{id:_t}=Et.data;if(wt(this,Kr).isDeletedAnnotationElement(_t))continue;let At=ht.get(_t);if(At){At.resetAnnotationElement(Et),At.show(!1),Et.show();continue}At=$.get(_t),At&&(wt(this,Kr).addChangedExistingAnnotation(At),At.renderAnnotationElement(Et),At.show(!1)),Et.show()}}Ut(this,lo,Ly).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:vt}=this.div;for(const bt of wt(Uo,Bu).values())vt.remove(`${bt._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Vt(this,Jm,!1)}getEditableAnnotation($){var ht;return((ht=wt(this,Fl))==null?void 0:ht.getEditableAnnotation($))||null}setActiveEditor($){wt(this,Kr).getActive()!==$&&wt(this,Kr).setActiveEditor($)}enableTextSelection(){var $;this.div.tabIndex=-1,($=wt(this,go))!=null&&$.div&&!wt(this,cu)&&(Vt(this,cu,Ut(this,lo,z_).bind(this)),wt(this,go).div.addEventListener("pointerdown",wt(this,cu)),wt(this,go).div.classList.add("highlighting"))}disableTextSelection(){var $;this.div.tabIndex=0,($=wt(this,go))!=null&&$.div&&wt(this,cu)&&(wt(this,go).div.removeEventListener("pointerdown",wt(this,cu)),Vt(this,cu,null),wt(this,go).div.classList.remove("highlighting"))}enableClick(){wt(this,lu)||(Vt(this,lu,this.pointerdown.bind(this)),Vt(this,Wp,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",wt(this,lu)),this.div.addEventListener("pointerup",wt(this,Wp)))}disableClick(){wt(this,lu)&&(this.div.removeEventListener("pointerdown",wt(this,lu)),this.div.removeEventListener("pointerup",wt(this,Wp)),Vt(this,lu,null),Vt(this,Wp,null))}attach($){wt(this,Mo).set($.id,$);const{annotationElementId:ht}=$;ht&&wt(this,Kr).isDeletedAnnotationElement(ht)&&wt(this,Kr).removeDeletedAnnotationElement($)}detach($){var ht;wt(this,Mo).delete($.id),(ht=wt(this,zp))==null||ht.removePointerInTextLayer($.contentDiv),!wt(this,Jm)&&$.annotationElementId&&wt(this,Kr).addDeletedAnnotationElement($)}remove($){this.detach($),wt(this,Kr).removeEditor($),$.div.remove(),$.isAttachedToDOM=!1,wt(this,Qm)||this.addInkEditorIfNeeded(!1)}changeParent($){var ht;$.parent!==this&&($.parent&&$.annotationElementId&&(wt(this,Kr).addDeletedAnnotationElement($.annotationElementId),AnnotationEditor.deleteAnnotationElement($),$.annotationElementId=null),this.attach($),(ht=$.parent)==null||ht.detach($),$.setParent(this),$.div&&$.isAttachedToDOM&&($.div.remove(),this.div.append($.div)))}add($){if(!($.parent===this&&$.isAttachedToDOM)){if(this.changeParent($),wt(this,Kr).addEditor($),this.attach($),!$.isAttachedToDOM){const ht=$.render();this.div.append(ht),$.isAttachedToDOM=!0}$.fixAndSetPosition(),$.onceAdded(),wt(this,Kr).addToAnnotationStorage($),$._reportTelemetry($.telemetryInitialData)}}moveEditorInDOM($){var vt;if(!$.isAttachedToDOM)return;const{activeElement:ht}=document;$.div.contains(ht)&&!wt(this,uu)&&($._focusEventsAllowed=!1,Vt(this,uu,setTimeout(()=>{Vt(this,uu,null),$.div.contains(document.activeElement)?$._focusEventsAllowed=!0:($.div.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),ht.focus())},0))),$._structTreeParentId=(vt=wt(this,zp))==null?void 0:vt.moveElementInDOM(this.div,$.div,$.contentDiv,!0)}addOrRebuild($){$.needsToBeRebuilt()?($.parent||($.parent=this),$.rebuild(),$.show()):this.add($)}addUndoableEditor($){const ht=()=>$._uiManager.rebuild($),vt=()=>{$.remove()};this.addCommands({cmd:ht,undo:vt,mustExec:!1})}getNextId(){return wt(this,Kr).getId()}canCreateNewEmptyEditor(){var $;return($=wt(this,lo,vE))==null?void 0:$.canCreateNewEmptyEditor()}pasteEditor($,ht){wt(this,Kr).updateToolbar($),wt(this,Kr).updateMode($);const{offsetX:vt,offsetY:xt}=Ut(this,lo,xE).call(this),bt=this.getNextId(),Et=Ut(this,lo,yE).call(this,{parent:this,id:bt,x:vt,y:xt,uiManager:wt(this,Kr),isCentered:!0,...ht});Et&&this.add(Et)}deserialize($){var ht;return((ht=wt(Uo,Bu).get($.annotationType??$.annotationEditorType))==null?void 0:ht.deserialize($,this,wt(this,Kr)))||null}createAndAddNewEditor($,ht,vt={}){const xt=this.getNextId(),bt=Ut(this,lo,yE).call(this,{parent:this,id:xt,x:$.offsetX,y:$.offsetY,uiManager:wt(this,Kr),isCentered:ht,...vt});return bt&&this.add(bt),bt}addNewEditor(){this.createAndAddNewEditor(Ut(this,lo,xE).call(this),!0)}setSelected($){wt(this,Kr).setSelected($)}toggleSelected($){wt(this,Kr).toggleSelected($)}isSelected($){return wt(this,Kr).isSelected($)}unselect($){wt(this,Kr).unselect($)}pointerup($){const{isMac:ht}=util_FeatureTest.platform;if(!($.button!==0||$.ctrlKey&&ht)&&$.target===this.div&&wt(this,ju)){if(Vt(this,ju,!1),!wt(this,Zm)){Vt(this,Zm,!0);return}if(wt(this,Kr).getMode()===AnnotationEditorType.STAMP){wt(this,Kr).unselectAll();return}this.createAndAddNewEditor($,!1)}}pointerdown($){if(wt(this,Kr).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),wt(this,ju)){Vt(this,ju,!1);return}const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht||$.target!==this.div)return;Vt(this,ju,!0);const vt=wt(this,Kr).getActive();Vt(this,Zm,!vt||vt.isEmpty())}findNewParent($,ht,vt){const xt=wt(this,Kr).findParent(ht,vt);return xt===null||xt===this?!1:(xt.changeParent($),!0)}destroy(){var $,ht;(($=wt(this,Kr).getActive())==null?void 0:$.parent)===this&&(wt(this,Kr).commitOrRemove(),wt(this,Kr).setActiveEditor(null)),wt(this,uu)&&(clearTimeout(wt(this,uu)),Vt(this,uu,null));for(const vt of wt(this,Mo).values())(ht=wt(this,zp))==null||ht.removePointerInTextLayer(vt.contentDiv),vt.setParent(null),vt.isAttachedToDOM=!1,vt.div.remove();this.div=null,wt(this,Mo).clear(),wt(this,Kr).removeLayer(this)}render({viewport:$}){this.viewport=$,setLayerDimensions(this.div,$);for(const ht of wt(this,Kr).getEditors(this.pageIndex))this.add(ht),ht.rebuild();this.updateMode()}update({viewport:$}){wt(this,Kr).commitOrRemove(),Ut(this,lo,Ly).call(this);const ht=this.viewport.rotation,vt=$.rotation;if(this.viewport=$,setLayerDimensions(this.div,{rotation:vt}),ht!==vt)for(const xt of wt(this,Mo).values())xt.rotate(vt);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:$,pageHeight:ht}=this.viewport.rawDims;return[$,ht]}get scale(){return wt(this,Kr).viewParameters.realScale}};zp=new WeakMap,Zm=new WeakMap,Fl=new WeakMap,Wp=new WeakMap,lu=new WeakMap,cu=new WeakMap,uu=new WeakMap,Mo=new WeakMap,ju=new WeakMap,Qm=new WeakMap,Jm=new WeakMap,go=new WeakMap,Kr=new WeakMap,Bu=new WeakMap,lo=new WeakSet,z_=function($){if(wt(this,Kr).unselectAll(),$.target===wt(this,go).div){const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht)return;wt(this,Kr).showAllEditors("highlight",!0,!0),wt(this,go).div.classList.add("free"),HighlightEditor.startHighlighting(this,wt(this,Kr).direction==="ltr",$),wt(this,go).div.addEventListener("pointerup",()=>{wt(this,go).div.classList.remove("free")},{once:!0}),$.preventDefault()}},vE=function(){return wt(Uo,Bu).get(wt(this,Kr).getMode())},yE=function($){const ht=wt(this,lo,vE);return ht?new ht.prototype.constructor($):null},xE=function(){const{x:$,y:ht,width:vt,height:xt}=this.div.getBoundingClientRect(),bt=Math.max(0,$),Et=Math.max(0,ht),_t=Math.min(window.innerWidth,$+vt),At=Math.min(window.innerHeight,ht+xt),Ct=(bt+_t)/2-$,St=(Et+At)/2-ht,[Rt,Pt]=this.viewport.rotation%180===0?[Ct,St]:[St,Ct];return{offsetX:Rt,offsetY:Pt}},Ly=function(){Vt(this,Qm,!0);for(const $ of wt(this,Mo).values())$.isEmpty()&&$.remove();Vt(this,Qm,!1)},Sr(Uo,"_initialized",!1),qt(Uo,Bu,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map($=>[$._editorType,$])));let AnnotationEditorLayer=Uo;var Ll,ey,qs,Hu,ty,bE,Gp,EE,W_;const to=class to{constructor({pageIndex:$}){qt(this,Gp);qt(this,Ll,null);qt(this,ey,0);qt(this,qs,new Map);qt(this,Hu,new Map);this.pageIndex=$}setParent($){if(!wt(this,Ll)){Vt(this,Ll,$);return}if(wt(this,Ll)!==$){if(wt(this,qs).size>0)for(const ht of wt(this,qs).values())ht.remove(),$.append(ht);Vt(this,Ll,$)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}highlight($,ht,vt,xt=!1){const bt=eo(this,ey)._++,Et=Ut(this,Gp,EE).call(this,$.box);Et.classList.add("highlight"),$.free&&Et.classList.add("free");const _t=to._svgFactory.createElement("defs");Et.append(_t);const At=to._svgFactory.createElement("path");_t.append(At);const Ct=`path_p${this.pageIndex}_${bt}`;At.setAttribute("id",Ct),At.setAttribute("d",$.toSVGPath()),xt&&wt(this,Hu).set(bt,At);const St=Ut(this,Gp,W_).call(this,_t,Ct),Rt=to._svgFactory.createElement("use");return Et.append(Rt),Et.setAttribute("fill",ht),Et.setAttribute("fill-opacity",vt),Rt.setAttribute("href",`#${Ct}`),wt(this,qs).set(bt,Et),{id:bt,clipPathId:`url(#${St})`}}highlightOutline($){const ht=eo(this,ey)._++,vt=Ut(this,Gp,EE).call(this,$.box);vt.classList.add("highlightOutline");const xt=to._svgFactory.createElement("defs");vt.append(xt);const bt=to._svgFactory.createElement("path");xt.append(bt);const Et=`path_p${this.pageIndex}_${ht}`;bt.setAttribute("id",Et),bt.setAttribute("d",$.toSVGPath()),bt.setAttribute("vector-effect","non-scaling-stroke");let _t;if($.free){vt.classList.add("free");const St=to._svgFactory.createElement("mask");xt.append(St),_t=`mask_p${this.pageIndex}_${ht}`,St.setAttribute("id",_t),St.setAttribute("maskUnits","objectBoundingBox");const Rt=to._svgFactory.createElement("rect");St.append(Rt),Rt.setAttribute("width","1"),Rt.setAttribute("height","1"),Rt.setAttribute("fill","white");const Pt=to._svgFactory.createElement("use");St.append(Pt),Pt.setAttribute("href",`#${Et}`),Pt.setAttribute("stroke","none"),Pt.setAttribute("fill","black"),Pt.setAttribute("fill-rule","nonzero"),Pt.classList.add("mask")}const At=to._svgFactory.createElement("use");vt.append(At),At.setAttribute("href",`#${Et}`),_t&&At.setAttribute("mask",`url(#${_t})`);const Ct=At.cloneNode();return vt.append(Ct),At.classList.add("mainOutline"),Ct.classList.add("secondaryOutline"),wt(this,qs).set(ht,vt),ht}finalizeLine($,ht){const vt=wt(this,Hu).get($);wt(this,Hu).delete($),this.updateBox($,ht.box),vt.setAttribute("d",ht.toSVGPath())}updateLine($,ht){wt(this,qs).get($).firstChild.firstChild.setAttribute("d",ht.toSVGPath())}removeFreeHighlight($){this.remove($),wt(this,Hu).delete($)}updatePath($,ht){wt(this,Hu).get($).setAttribute("d",ht.toSVGPath())}updateBox($,ht){var vt;Ut(vt=to,ty,bE).call(vt,wt(this,qs).get($),ht)}show($,ht){wt(this,qs).get($).classList.toggle("hidden",!ht)}rotate($,ht){wt(this,qs).get($).setAttribute("data-main-rotation",ht)}changeColor($,ht){wt(this,qs).get($).setAttribute("fill",ht)}changeOpacity($,ht){wt(this,qs).get($).setAttribute("fill-opacity",ht)}addClass($,ht){wt(this,qs).get($).classList.add(ht)}removeClass($,ht){wt(this,qs).get($).classList.remove(ht)}remove($){wt(this,Ll)!==null&&(wt(this,qs).get($).remove(),wt(this,qs).delete($))}destroy(){Vt(this,Ll,null);for(const $ of wt(this,qs).values())$.remove();wt(this,qs).clear()}};Ll=new WeakMap,ey=new WeakMap,qs=new WeakMap,Hu=new WeakMap,ty=new WeakSet,bE=function($,{x:ht=0,y:vt=0,width:xt=1,height:bt=1}={}){const{style:Et}=$;Et.top=`${100*vt}%`,Et.left=`${100*ht}%`,Et.width=`${100*xt}%`,Et.height=`${100*bt}%`},Gp=new WeakSet,EE=function($){var vt;const ht=to._svgFactory.create(1,1,!0);return wt(this,Ll).append(ht),ht.setAttribute("aria-hidden",!0),Ut(vt=to,ty,bE).call(vt,ht,$),ht},W_=function($,ht){const vt=to._svgFactory.createElement("clipPath");$.append(vt);const xt=`clip_${ht}`;vt.setAttribute("id",xt),vt.setAttribute("clipPathUnits","objectBoundingBox");const bt=to._svgFactory.createElement("use");return vt.append(bt),bt.setAttribute("href",`#${ht}`),bt.classList.add("clip"),xt},qt(to,ty);let DrawLayer=to;var __webpack_exports__AbortException=__webpack_exports__.AbortException,__webpack_exports__AnnotationEditorLayer=__webpack_exports__.AnnotationEditorLayer,__webpack_exports__AnnotationEditorParamsType=__webpack_exports__.AnnotationEditorParamsType,__webpack_exports__AnnotationEditorType=__webpack_exports__.AnnotationEditorType,__webpack_exports__AnnotationEditorUIManager=__webpack_exports__.AnnotationEditorUIManager,__webpack_exports__AnnotationLayer=__webpack_exports__.AnnotationLayer,__webpack_exports__AnnotationMode=__webpack_exports__.AnnotationMode,__webpack_exports__CMapCompressionType=__webpack_exports__.CMapCompressionType,__webpack_exports__ColorPicker=__webpack_exports__.ColorPicker,__webpack_exports__DOMSVGFactory=__webpack_exports__.DOMSVGFactory,__webpack_exports__DrawLayer=__webpack_exports__.DrawLayer,__webpack_exports__FeatureTest=__webpack_exports__.FeatureTest,__webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions,__webpack_exports__ImageKind=__webpack_exports__.ImageKind,__webpack_exports__InvalidPDFException=__webpack_exports__.InvalidPDFException,__webpack_exports__MissingPDFException=__webpack_exports__.MissingPDFException,__webpack_exports__OPS=__webpack_exports__.OPS,__webpack_exports__Outliner=__webpack_exports__.Outliner,__webpack_exports__PDFDataRangeTransport=__webpack_exports__.PDFDataRangeTransport,__webpack_exports__PDFDateString=__webpack_exports__.PDFDateString,__webpack_exports__PDFWorker=__webpack_exports__.PDFWorker,__webpack_exports__PasswordResponses=__webpack_exports__.PasswordResponses,__webpack_exports__PermissionFlag=__webpack_exports__.PermissionFlag,__webpack_exports__PixelsPerInch=__webpack_exports__.PixelsPerInch,__webpack_exports__RenderingCancelledException=__webpack_exports__.RenderingCancelledException,__webpack_exports__TextLayer=__webpack_exports__.TextLayer,__webpack_exports__UnexpectedResponseException=__webpack_exports__.UnexpectedResponseException,__webpack_exports__Util=__webpack_exports__.Util,__webpack_exports__VerbosityLevel=__webpack_exports__.VerbosityLevel,__webpack_exports__XfaLayer=__webpack_exports__.XfaLayer,__webpack_exports__build=__webpack_exports__.build,__webpack_exports__createValidAbsoluteUrl=__webpack_exports__.createValidAbsoluteUrl,__webpack_exports__fetchData=__webpack_exports__.fetchData,__webpack_exports__getDocument=__webpack_exports__.getDocument,__webpack_exports__getFilenameFromUrl=__webpack_exports__.getFilenameFromUrl,__webpack_exports__getPdfFilenameFromUrl=__webpack_exports__.getPdfFilenameFromUrl,__webpack_exports__getXfaPageViewport=__webpack_exports__.getXfaPageViewport,__webpack_exports__isDataScheme=__webpack_exports__.isDataScheme,__webpack_exports__isPdfFile=__webpack_exports__.isPdfFile,__webpack_exports__noContextMenu=__webpack_exports__.noContextMenu,__webpack_exports__normalizeUnicode=__webpack_exports__.normalizeUnicode,__webpack_exports__renderTextLayer=__webpack_exports__.renderTextLayer,__webpack_exports__setLayerDimensions=__webpack_exports__.setLayerDimensions,__webpack_exports__shadow=__webpack_exports__.shadow,__webpack_exports__updateTextLayer=__webpack_exports__.updateTextLayer,__webpack_exports__version=__webpack_exports__.version;const pdfjs=Object.freeze(Object.defineProperty({__proto__:null,AbortException:__webpack_exports__AbortException,AnnotationEditorLayer:__webpack_exports__AnnotationEditorLayer,AnnotationEditorParamsType:__webpack_exports__AnnotationEditorParamsType,AnnotationEditorType:__webpack_exports__AnnotationEditorType,AnnotationEditorUIManager:__webpack_exports__AnnotationEditorUIManager,AnnotationLayer:__webpack_exports__AnnotationLayer,AnnotationMode:__webpack_exports__AnnotationMode,CMapCompressionType:__webpack_exports__CMapCompressionType,ColorPicker:__webpack_exports__ColorPicker,DOMSVGFactory:__webpack_exports__DOMSVGFactory,DrawLayer:__webpack_exports__DrawLayer,FeatureTest:__webpack_exports__FeatureTest,GlobalWorkerOptions:__webpack_exports__GlobalWorkerOptions,ImageKind:__webpack_exports__ImageKind,InvalidPDFException:__webpack_exports__InvalidPDFException,MissingPDFException:__webpack_exports__MissingPDFException,OPS:__webpack_exports__OPS,Outliner:__webpack_exports__Outliner,PDFDataRangeTransport:__webpack_exports__PDFDataRangeTransport,PDFDateString:__webpack_exports__PDFDateString,PDFWorker:__webpack_exports__PDFWorker,PasswordResponses:__webpack_exports__PasswordResponses,PermissionFlag:__webpack_exports__PermissionFlag,PixelsPerInch:__webpack_exports__PixelsPerInch,RenderingCancelledException:__webpack_exports__RenderingCancelledException,TextLayer:__webpack_exports__TextLayer,UnexpectedResponseException:__webpack_exports__UnexpectedResponseException,Util:__webpack_exports__Util,VerbosityLevel:__webpack_exports__VerbosityLevel,XfaLayer:__webpack_exports__XfaLayer,build:__webpack_exports__build,createValidAbsoluteUrl:__webpack_exports__createValidAbsoluteUrl,fetchData:__webpack_exports__fetchData,getDocument:__webpack_exports__getDocument,getFilenameFromUrl:__webpack_exports__getFilenameFromUrl,getPdfFilenameFromUrl:__webpack_exports__getPdfFilenameFromUrl,getXfaPageViewport:__webpack_exports__getXfaPageViewport,isDataScheme:__webpack_exports__isDataScheme,isPdfFile:__webpack_exports__isPdfFile,noContextMenu:__webpack_exports__noContextMenu,normalizeUnicode:__webpack_exports__normalizeUnicode,renderTextLayer:__webpack_exports__renderTextLayer,setLayerDimensions:__webpack_exports__setLayerDimensions,shadow:__webpack_exports__shadow,updateTextLayer:__webpack_exports__updateTextLayer,version:__webpack_exports__version},Symbol.toStringTag,{value:"Module"}));var __spreadArray=function(_e,$,ht){if(ht||arguments.length===2)for(var vt=0,xt=$.length,bt;vt<xt;vt++)(bt||!(vt in $))&&(bt||(bt=Array.prototype.slice.call($,0,vt)),bt[vt]=$[vt]);return _e.concat(bt||Array.prototype.slice.call($))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(_e,$){var ht={};return allEvents.forEach(function(vt){var xt=_e[vt];xt&&($?ht[vt]=function(bt){return xt(bt,$(vt))}:ht[vt]=xt)}),ht}function makeCancellablePromise(_e){var $=!1,ht=new Promise(function(vt,xt){_e.then(function(bt){return!$&&vt(bt)}).catch(function(bt){return!$&&xt(bt)})});return{promise:ht,cancel:function(){$=!0}}}var prefix="Invariant failed";function invariant(_e,$){if(!_e)throw new Error(prefix)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(_e,$,ht){for(ht of _e.keys())if(dequal(ht,$))return ht}function dequal(_e,$){var ht,vt,xt;if(_e===$)return!0;if(_e&&$&&(ht=_e.constructor)===$.constructor){if(ht===Date)return _e.getTime()===$.getTime();if(ht===RegExp)return _e.toString()===$.toString();if(ht===Array){if((vt=_e.length)===$.length)for(;vt--&&dequal(_e[vt],$[vt]););return vt===-1}if(ht===Set){if(_e.size!==$.size)return!1;for(vt of _e)if(xt=vt,xt&&typeof xt=="object"&&(xt=find($,xt),!xt)||!$.has(xt))return!1;return!0}if(ht===Map){if(_e.size!==$.size)return!1;for(vt of _e)if(xt=vt[0],xt&&typeof xt=="object"&&(xt=find($,xt),!xt)||!dequal(vt[1],$.get(xt)))return!1;return!0}if(ht===ArrayBuffer)_e=new Uint8Array(_e),$=new Uint8Array($);else if(ht===DataView){if((vt=_e.byteLength)===$.byteLength)for(;vt--&&_e.getInt8(vt)===$.getInt8(vt););return vt===-1}if(ArrayBuffer.isView(_e)){if((vt=_e.byteLength)===$.byteLength)for(;vt--&&_e[vt]===$[vt];);return vt===-1}if(!ht||typeof _e=="object"){vt=0;for(ht in _e)if(has.call(_e,ht)&&++vt&&!has.call($,ht)||!(ht in $)||!dequal(_e[ht],$[ht]))return!1;return Object.keys($).length===vt}}return _e!==_e&&$!==$}const DocumentContext=reactExports.createContext(null);function Message({children:_e,type:$}){return jsxRuntimeExports.jsx("div",{className:`react-pdf__message react-pdf__message--${$}`,children:_e})}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument($){this.pdfDocument=$}setViewer($){this.pdfViewer=$}setExternalLinkRel($){this.externalLinkRel=$}setExternalLinkTarget($){this.externalLinkTarget=$}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page($){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=$}get rotation(){return 0}set rotation($){}goToDestination($){return new Promise(ht=>{invariant(this.pdfDocument),invariant($),typeof $=="string"?this.pdfDocument.getDestination($).then(ht):Array.isArray($)?ht($):$.then(ht)}).then(ht=>{invariant(Array.isArray(ht));const vt=ht[0];new Promise(xt=>{invariant(this.pdfDocument),vt instanceof Object?this.pdfDocument.getPageIndex(vt).then(bt=>{xt(bt)}).catch(()=>{invariant(!1)}):typeof vt=="number"?xt(vt):invariant(!1)}).then(xt=>{const bt=xt+1;invariant(this.pdfViewer),invariant(bt>=1&&bt<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:ht,pageIndex:xt,pageNumber:bt})})})}navigateTo($){this.goToDestination($)}goToPage($){const ht=$-1;invariant(this.pdfViewer),invariant($>=1&&$<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:ht,pageNumber:$})}addLinkAttributes($,ht,vt){$.href=ht,$.rel=this.externalLinkRel||DEFAULT_LINK_REL,$.target=vt?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(_e){return typeof _e<"u"}function isProvided(_e){return isDefined(_e)&&_e!==null}function isString(_e){return typeof _e=="string"}function isArrayBuffer(_e){return _e instanceof ArrayBuffer}function isBlob(_e){return invariant(isBrowser),_e instanceof Blob}function isDataURI(_e){return isString(_e)&&/^data:/.test(_e)}function dataURItoByteString(_e){invariant(isDataURI(_e));const[$="",ht=""]=_e.split(",");return $.split(";").indexOf("base64")!==-1?atob(ht):unescape(ht)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(_e){_e&&_e.cancel&&_e.cancel()}function makePageCallback(_e,$){return Object.defineProperty(_e,"width",{get(){return this.view[2]*$},configurable:!0}),Object.defineProperty(_e,"height",{get(){return this.view[3]*$},configurable:!0}),Object.defineProperty(_e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(_e,"originalHeight",{get(){return this.view[3]},configurable:!0}),_e}function isCancelException(_e){return _e.name==="RenderingCancelledException"}function loadFromFile(_e){return new Promise(($,ht)=>{const vt=new FileReader;vt.onload=()=>{if(!vt.result)return ht(new Error("Error while reading a file."));$(vt.result)},vt.onerror=xt=>{if(!xt.target)return ht(new Error("Error while reading a file."));const{error:bt}=xt.target;if(!bt)return ht(new Error("Error while reading a file."));switch(bt.code){case bt.NOT_FOUND_ERR:return ht(new Error("Error while reading a file: File not found."));case bt.SECURITY_ERR:return ht(new Error("Error while reading a file: Security error."));case bt.ABORT_ERR:return ht(new Error("Error while reading a file: Aborted."));default:return ht(new Error("Error while reading a file."))}},vt.readAsArrayBuffer(_e)})}function reducer(_e,$){switch($.type){case"RESOLVE":return{value:$.value,error:void 0};case"REJECT":return{value:!1,error:$.error};case"RESET":return{value:void 0,error:void 0};default:return _e}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}var __awaiter=function(_e,$,ht,vt){function xt(bt){return bt instanceof ht?bt:new ht(function(Et){Et(bt)})}return new(ht||(ht=Promise))(function(bt,Et){function _t(St){try{Ct(vt.next(St))}catch(Rt){Et(Rt)}}function At(St){try{Ct(vt.throw(St))}catch(Rt){Et(Rt)}}function Ct(St){St.done?bt(St.value):xt(St.value).then(_t,At)}Ct((vt=vt.apply(_e,$||[])).next())})},__rest$1=function(_e,$){var ht={};for(var vt in _e)Object.prototype.hasOwnProperty.call(_e,vt)&&$.indexOf(vt)<0&&(ht[vt]=_e[vt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,vt=Object.getOwnPropertySymbols(_e);xt<vt.length;xt++)$.indexOf(vt[xt])<0&&Object.prototype.propertyIsEnumerable.call(_e,vt[xt])&&(ht[vt[xt]]=_e[vt[xt]]);return ht};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(_e,$)=>{switch($){case PasswordResponses.NEED_PASSWORD:{const ht=prompt("Enter the password to open this PDF file.");_e(ht);break}case PasswordResponses.INCORRECT_PASSWORD:{const ht=prompt("Invalid password. Please try again.");_e(ht);break}}};function isParameterObject(_e){return typeof _e=="object"&&_e!==null&&("data"in _e||"range"in _e||"url"in _e)}const Document=reactExports.forwardRef(function($,ht){var{children:vt,className:xt,error:bt="Failed to load PDF file.",externalLinkRel:Et,externalLinkTarget:_t,file:At,inputRef:Ct,imageResourcesPath:St,loading:Rt="Loading PDF…",noData:Pt="No PDF file specified.",onItemClick:kt,onLoadError:Mt,onLoadProgress:Lt,onLoadSuccess:Ot,onPassword:Ft=defaultOnPassword,onSourceError:Dt,onSourceSuccess:$t,options:Bt,renderMode:Nt,rotate:Ht}=$,jt=__rest$1($,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[zt,Kt]=useResolver(),{value:en,error:Wt}=zt,[Qt,on]=useResolver(),{value:En,error:un}=Qt,xn=reactExports.useRef(new LinkService),an=reactExports.useRef([]),hn=reactExports.useRef(void 0),nn=reactExports.useRef(void 0);At&&At!==hn.current&&isParameterObject(At)&&(warning$1(!dequal(At,hn.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),hn.current=At),Bt&&Bt!==nn.current&&(warning$1(!dequal(Bt,nn.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),nn.current=Bt);const gn=reactExports.useRef({scrollPageIntoView:Tn=>{const{dest:Fn,pageNumber:sn,pageIndex:mn=sn-1}=Tn;if(kt){kt({dest:Fn,pageIndex:mn,pageNumber:sn});return}const Pn=an.current[mn];if(Pn){Pn.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${sn} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(ht,()=>({linkService:xn,pages:an,viewer:gn}),[]);function wn(){$t&&$t()}function rn(){Wt&&(warning$1(!1,Wt.toString()),Dt&&Dt(Wt))}function Xt(){Kt({type:"RESET"})}reactExports.useEffect(Xt,[At,Kt]);const Yt=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!At)return null;if(typeof At=="string")return isDataURI(At)?{data:dataURItoByteString(At)}:(displayCORSWarning(),{url:At});if(At instanceof PDFDataRangeTransport)return{range:At};if(isArrayBuffer(At))return{data:At};if(isBrowser&&isBlob(At))return{data:yield loadFromFile(At)};if(invariant(typeof At=="object"),invariant(isParameterObject(At)),"url"in At&&typeof At.url=="string"){if(isDataURI(At.url)){const{url:Tn}=At,Fn=__rest$1(At,["url"]),sn=dataURItoByteString(Tn);return Object.assign({data:sn},Fn)}displayCORSWarning()}return At}),[At]);reactExports.useEffect(()=>{const Tn=makeCancellablePromise(Yt());return Tn.promise.then(Fn=>{Kt({type:"RESOLVE",value:Fn})}).catch(Fn=>{Kt({type:"REJECT",error:Fn})}),()=>{cancelRunningTask(Tn)}},[Yt,Kt]),reactExports.useEffect(()=>{if(!(typeof en>"u")){if(en===!1){rn();return}wn()}},[en]);function tn(){En&&(Ot&&Ot(En),an.current=new Array(En.numPages),xn.current.setDocument(En))}function dn(){un&&(warning$1(!1,un.toString()),Mt&&Mt(un))}function ln(){on({type:"RESET"})}reactExports.useEffect(ln,[on,en]);function fn(){if(!en)return;const Tn=Object.assign(Object.assign({},en),Bt),Fn=__webpack_exports__getDocument(Tn);Lt&&(Fn.onProgress=Lt),Ft&&(Fn.onPassword=Ft);const sn=Fn;return sn.promise.then(mn=>{on({type:"RESOLVE",value:mn})}).catch(mn=>{sn.destroyed||on({type:"REJECT",error:mn})}),()=>{sn.destroy()}}reactExports.useEffect(fn,[Bt,on,en]),reactExports.useEffect(()=>{if(!(typeof En>"u")){if(En===!1){dn();return}tn()}},[En]);function Sn(){xn.current.setViewer(gn.current),xn.current.setExternalLinkRel(Et),xn.current.setExternalLinkTarget(_t)}reactExports.useEffect(Sn,[Et,_t]);function Mn(Tn,Fn){an.current[Tn]=Fn}function Hn(Tn){delete an.current[Tn]}const Un=reactExports.useMemo(()=>({imageResourcesPath:St,linkService:xn.current,onItemClick:kt,pdf:En,registerPage:Mn,renderMode:Nt,rotate:Ht,unregisterPage:Hn}),[St,kt,En,Nt,Ht]),Wn=reactExports.useMemo(()=>makeEventProps(jt,()=>En),[jt,En]);function Xn(){return jsxRuntimeExports.jsx(DocumentContext.Provider,{value:Un,children:vt})}function Kn(){return At?En==null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof Rt=="function"?Rt():Rt}):En===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof bt=="function"?bt():bt}):Xn():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof Pt=="function"?Pt():Pt})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx("react-pdf__Document",xt),ref:Ct,style:{"--scale-factor":"1"}},Wn,{children:Kn()}))});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var _e=[],$=0;$<arguments.length;$++)_e[$]=arguments[$];var ht=_e.filter(Boolean);if(ht.length<=1){var vt=ht[0];return vt||null}return function(bt){ht.forEach(function(Et){typeof Et=="function"?Et(bt):Et&&(Et.current=bt)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(_e){return _e in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(_e){return"children"in _e}function isStructTreeNodeWithOnlyContentChild(_e){return isStructTreeNode(_e)?_e.children.length===1&&0 in _e.children&&"id"in _e.children[0]:!1}function getRoleAttributes(_e){const $={};if(isStructTreeNode(_e)){const{role:ht}=_e,vt=ht.match(HEADING_PATTERN);if(vt)$.role="heading",$["aria-level"]=Number(vt[1]);else if(isPdfRole(ht)){const xt=PDF_ROLE_TO_HTML_ROLE[ht];xt&&($.role=xt)}}return $}function getBaseAttributes(_e){const $={};if(isStructTreeNode(_e)){if(_e.alt!==void 0&&($["aria-label"]=_e.alt),_e.lang!==void 0&&($.lang=_e.lang),isStructTreeNodeWithOnlyContentChild(_e)){const[ht]=_e.children;if(ht){const vt=getBaseAttributes(ht);return Object.assign(Object.assign({},$),vt)}}}else"id"in _e&&($["aria-owns"]=_e.id);return $}function getAttributes(_e){return _e?Object.assign(Object.assign({},getRoleAttributes(_e)),getBaseAttributes(_e)):null}function StructTreeItem({className:_e,node:$}){const ht=reactExports.useMemo(()=>getAttributes($),[$]),vt=reactExports.useMemo(()=>!isStructTreeNode($)||isStructTreeNodeWithOnlyContentChild($)?null:$.children.map((xt,bt)=>jsxRuntimeExports.jsx(StructTreeItem,{node:xt},bt)),[$]);return jsxRuntimeExports.jsx("span",Object.assign({className:_e},ht,{children:vt}))}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const _e=usePageContext();invariant(_e);const{onGetStructTreeError:$,onGetStructTreeSuccess:ht}=_e,[vt,xt]=useResolver(),{value:bt,error:Et}=vt,{customTextRenderer:_t,page:At}=_e;function Ct(){bt&&ht&&ht(bt)}function St(){Et&&(warning$1(!1,Et.toString()),$&&$(Et))}function Rt(){xt({type:"RESET"})}reactExports.useEffect(Rt,[xt,At]);function Pt(){if(_t||!At)return;const kt=makeCancellablePromise(At.getStructTree()),Mt=kt;return kt.promise.then(Lt=>{xt({type:"RESOLVE",value:Lt})}).catch(Lt=>{xt({type:"REJECT",error:Lt})}),()=>cancelRunningTask(Mt)}return reactExports.useEffect(Pt,[_t,At,xt]),reactExports.useEffect(()=>{if(bt!==void 0){if(bt===!1){St();return}Ct()}},[bt]),bt?jsxRuntimeExports.jsx(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:bt}):null}const ANNOTATION_MODE=__webpack_exports__AnnotationMode;function Canvas(_e){const $=usePageContext();invariant($);const ht=Object.assign(Object.assign({},$),_e),{_className:vt,canvasBackground:xt,devicePixelRatio:bt=getDevicePixelRatio(),onRenderError:Et,onRenderSuccess:_t,page:At,renderForms:Ct,renderTextLayer:St,rotate:Rt,scale:Pt}=ht,{canvasRef:kt}=_e;invariant(At);const Mt=reactExports.useRef(null);function Lt(){At&&_t&&_t(makePageCallback(At,Pt))}function Ot(Nt){isCancelException(Nt)||(warning$1(!1,Nt.toString()),Et&&Et(Nt))}const Ft=reactExports.useMemo(()=>At.getViewport({scale:Pt*bt,rotation:Rt}),[bt,At,Rt,Pt]),Dt=reactExports.useMemo(()=>At.getViewport({scale:Pt,rotation:Rt}),[At,Rt,Pt]);function $t(){if(!At)return;At.cleanup();const{current:Nt}=Mt;if(!Nt)return;Nt.width=Ft.width,Nt.height=Ft.height,Nt.style.width=`${Math.floor(Dt.width)}px`,Nt.style.height=`${Math.floor(Dt.height)}px`,Nt.style.visibility="hidden";const Ht={annotationMode:Ct?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:Nt.getContext("2d",{alpha:!1}),viewport:Ft};xt&&(Ht.background=xt);const jt=At.render(Ht),zt=jt;return jt.promise.then(()=>{Nt.style.visibility="",Lt()}).catch(Ot),()=>cancelRunningTask(zt)}reactExports.useEffect($t,[xt,Mt,bt,At,Ct,Ft,Dt]);const Bt=reactExports.useCallback(()=>{const{current:Nt}=Mt;Nt&&(Nt.width=0,Nt.height=0)},[Mt]);return reactExports.useEffect(()=>Bt,[Bt]),jsxRuntimeExports.jsx("canvas",{className:`${vt}__canvas`,dir:"ltr",ref:mergeRefs(kt,Mt),style:{display:"block",userSelect:"none"},children:St?jsxRuntimeExports.jsx(StructTree,{}):null})}function isTextItem(_e){return"str"in _e}function TextLayer(){const _e=usePageContext();invariant(_e);const{customTextRenderer:$,onGetTextError:ht,onGetTextSuccess:vt,onRenderTextLayerError:xt,onRenderTextLayerSuccess:bt,page:Et,pageIndex:_t,pageNumber:At,rotate:Ct,scale:St}=_e;invariant(Et);const[Rt,Pt]=useResolver(),{value:kt,error:Mt}=Rt,Lt=reactExports.useRef(null),Ot=reactExports.useRef(void 0);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function Ft(){kt&&vt&&vt(kt)}function Dt(){Mt&&(warning$1(!1,Mt.toString()),ht&&ht(Mt))}function $t(){Pt({type:"RESET"})}reactExports.useEffect($t,[Et,Pt]);function Bt(){if(!Et)return;const Wt=makeCancellablePromise(Et.getTextContent()),Qt=Wt;return Wt.promise.then(on=>{Pt({type:"RESOLVE",value:on})}).catch(on=>{Pt({type:"REJECT",error:on})}),()=>cancelRunningTask(Qt)}reactExports.useEffect(Bt,[Et,Pt]),reactExports.useEffect(()=>{if(kt!==void 0){if(kt===!1){Dt();return}Ft()}},[kt]);const Nt=reactExports.useCallback(()=>{bt&&bt()},[bt]),Ht=reactExports.useCallback(Wt=>{warning$1(!1,Wt.toString()),xt&&xt(Wt)},[xt]);function jt(){const Wt=Ot.current;Wt&&Wt.classList.add("active")}function zt(){const Wt=Ot.current;Wt&&Wt.classList.remove("active")}const Kt=reactExports.useMemo(()=>Et.getViewport({scale:St,rotation:Ct}),[Et,Ct,St]);function en(){if(!Et||!kt)return;const{current:Wt}=Lt;if(!Wt)return;Wt.innerHTML="";const Qt=Et.streamTextContent({includeMarkedContent:!0}),on={container:Wt,textContentSource:Qt,viewport:Kt},En=new __webpack_exports__TextLayer(on),un=En;return En.render().then(()=>{const xn=document.createElement("div");xn.className="endOfContent",Wt.append(xn),Ot.current=xn;const an=Wt.querySelectorAll('[role="presentation"]');if($){let hn=0;kt.items.forEach((nn,gn)=>{if(!isTextItem(nn))return;const wn=an[hn];if(!wn)return;const rn=$(Object.assign({pageIndex:_t,pageNumber:At,itemIndex:gn},nn));wn.innerHTML=rn,hn+=nn.str&&nn.hasEOL?2:1})}Nt()}).catch(Ht),()=>cancelRunningTask(un)}return reactExports.useLayoutEffect(en,[$,Ht,Nt,Et,_t,At,kt,Kt]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:zt,onMouseDown:jt,ref:Lt})}function AnnotationLayer(){const _e=useDocumentContext(),$=usePageContext();invariant($);const ht=Object.assign(Object.assign({},_e),$),{imageResourcesPath:vt,linkService:xt,onGetAnnotationsError:bt,onGetAnnotationsSuccess:Et,onRenderAnnotationLayerError:_t,onRenderAnnotationLayerSuccess:At,page:Ct,pdf:St,renderForms:Rt,rotate:Pt,scale:kt=1}=ht;invariant(St),invariant(Ct),invariant(xt);const[Mt,Lt]=useResolver(),{value:Ot,error:Ft}=Mt,Dt=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function $t(){Ot&&Et&&Et(Ot)}function Bt(){Ft&&(warning$1(!1,Ft.toString()),bt&&bt(Ft))}function Nt(){Lt({type:"RESET"})}reactExports.useEffect(Nt,[Lt,Ct]);function Ht(){if(!Ct)return;const Wt=makeCancellablePromise(Ct.getAnnotations()),Qt=Wt;return Wt.promise.then(on=>{Lt({type:"RESOLVE",value:on})}).catch(on=>{Lt({type:"REJECT",error:on})}),()=>{cancelRunningTask(Qt)}}reactExports.useEffect(Ht,[Lt,Ct,Rt]),reactExports.useEffect(()=>{if(Ot!==void 0){if(Ot===!1){Bt();return}$t()}},[Ot]);function jt(){At&&At()}function zt(Wt){warning$1(!1,`${Wt}`),_t&&_t(Wt)}const Kt=reactExports.useMemo(()=>Ct.getViewport({scale:kt,rotation:Pt}),[Ct,Pt,kt]);function en(){if(!St||!Ct||!xt||!Ot)return;const{current:Wt}=Dt;if(!Wt)return;const Qt=Kt.clone({dontFlip:!0}),on={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:Wt,l10n:null,page:Ct,viewport:Qt},En={annotations:Ot,annotationStorage:St.annotationStorage,div:Wt,imageResourcesPath:vt,linkService:xt,page:Ct,renderForms:Rt,viewport:Qt};Wt.innerHTML="";try{new __webpack_exports__AnnotationLayer(on).render(En),jt()}catch(un){zt(un)}return()=>{}}return reactExports.useEffect(en,[Ot,vt,xt,Ct,Rt,Kt]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:Dt})}var __rest=function(_e,$){var ht={};for(var vt in _e)Object.prototype.hasOwnProperty.call(_e,vt)&&$.indexOf(vt)<0&&(ht[vt]=_e[vt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,vt=Object.getOwnPropertySymbols(_e);xt<vt.length;xt++)$.indexOf(vt[xt])<0&&Object.prototype.propertyIsEnumerable.call(_e,vt[xt])&&(ht[vt[xt]]=_e[vt[xt]]);return ht};const defaultScale=1;function Page(_e){const $=useDocumentContext(),ht=Object.assign(Object.assign({},$),_e),{_className:vt="react-pdf__Page",_enableRegisterUnregisterPage:xt=!0,canvasBackground:bt,canvasRef:Et,children:_t,className:At,customRenderer:Ct,customTextRenderer:St,devicePixelRatio:Rt,error:Pt="Failed to load the page.",height:kt,inputRef:Mt,loading:Lt="Loading page…",noData:Ot="No page specified.",onGetAnnotationsError:Ft,onGetAnnotationsSuccess:Dt,onGetStructTreeError:$t,onGetStructTreeSuccess:Bt,onGetTextError:Nt,onGetTextSuccess:Ht,onLoadError:jt,onLoadSuccess:zt,onRenderAnnotationLayerError:Kt,onRenderAnnotationLayerSuccess:en,onRenderError:Wt,onRenderSuccess:Qt,onRenderTextLayerError:on,onRenderTextLayerSuccess:En,pageIndex:un,pageNumber:xn,pdf:an,registerPage:hn,renderAnnotationLayer:nn=!0,renderForms:gn=!1,renderMode:wn="canvas",renderTextLayer:rn=!0,rotate:Xt,scale:Yt=defaultScale,unregisterPage:tn,width:dn}=ht,ln=__rest(ht,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[fn,Sn]=useResolver(),{value:Mn,error:Hn}=fn,Un=reactExports.useRef(null);invariant(an);const Wn=isProvided(xn)?xn-1:un??null,Xn=xn??(isProvided(un)?un+1:null),Kn=Xt??(Mn?Mn.rotate:null),Tn=reactExports.useMemo(()=>{if(!Mn)return null;let zr=1;const dr=Yt??defaultScale;if(dn||kt){const gr=Mn.getViewport({scale:1,rotation:Kn});dn?zr=dn/gr.width:kt&&(zr=kt/gr.height)}return dr*zr},[kt,Mn,Kn,Yt,dn]);function Fn(){return()=>{isProvided(Wn)&&xt&&tn&&tn(Wn)}}reactExports.useEffect(Fn,[xt,an,Wn,tn]);function sn(){if(zt){if(!Mn||!Tn)return;zt(makePageCallback(Mn,Tn))}if(xt&&hn){if(!isProvided(Wn)||!Un.current)return;hn(Wn,Un.current)}}function mn(){Hn&&(warning$1(!1,Hn.toString()),jt&&jt(Hn))}function Pn(){Sn({type:"RESET"})}reactExports.useEffect(Pn,[Sn,an,Wn]);function Nn(){if(!an||!Xn)return;const zr=makeCancellablePromise(an.getPage(Xn)),dr=zr;return zr.promise.then(gr=>{Sn({type:"RESOLVE",value:gr})}).catch(gr=>{Sn({type:"REJECT",error:gr})}),()=>cancelRunningTask(dr)}reactExports.useEffect(Nn,[Sn,an,Wn,Xn,hn]),reactExports.useEffect(()=>{if(Mn!==void 0){if(Mn===!1){mn();return}sn()}},[Mn,Tn]);const Vn=reactExports.useMemo(()=>Mn&&isProvided(Wn)&&Xn&&isProvided(Kn)&&isProvided(Tn)?{_className:vt,canvasBackground:bt,customTextRenderer:St,devicePixelRatio:Rt,onGetAnnotationsError:Ft,onGetAnnotationsSuccess:Dt,onGetStructTreeError:$t,onGetStructTreeSuccess:Bt,onGetTextError:Nt,onGetTextSuccess:Ht,onRenderAnnotationLayerError:Kt,onRenderAnnotationLayerSuccess:en,onRenderError:Wt,onRenderSuccess:Qt,onRenderTextLayerError:on,onRenderTextLayerSuccess:En,page:Mn,pageIndex:Wn,pageNumber:Xn,renderForms:gn,renderTextLayer:rn,rotate:Kn,scale:Tn}:null,[vt,bt,St,Rt,Ft,Dt,$t,Bt,Nt,Ht,Kt,en,Wt,Qt,on,En,Mn,Wn,Xn,gn,rn,Kn,Tn]),Qn=reactExports.useMemo(()=>makeEventProps(ln,()=>Mn&&(Tn?makePageCallback(Mn,Tn):void 0)),[ln,Mn,Tn]),qn=`${Wn}@${Tn}/${Kn}`;function kn(){switch(wn){case"custom":return invariant(Ct),jsxRuntimeExports.jsx(Ct,{},`${qn}_custom`);case"none":return null;case"canvas":default:return jsxRuntimeExports.jsx(Canvas,{canvasRef:Et},`${qn}_canvas`)}}function sr(){return rn?jsxRuntimeExports.jsx(TextLayer,{},`${qn}_text`):null}function rr(){return nn?jsxRuntimeExports.jsx(AnnotationLayer,{},`${qn}_annotations`):null}function $r(){return jsxRuntimeExports.jsxs(PageContext.Provider,{value:Vn,children:[kn(),sr(),rr(),_t]})}function Pr(){return Xn?an===null||Mn===void 0||Mn===null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof Lt=="function"?Lt():Lt}):an===!1||Mn===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof Pt=="function"?Pt():Pt}):$r():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof Ot=="function"?Ot():Ot})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx(vt,At),"data-page-number":Xn,ref:mergeRefs(Mt,Un),style:{"--scale-factor":`${Tn}`,backgroundColor:bt||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Qn,{children:Pr()}))}displayWorkerWarning();__webpack_exports__GlobalWorkerOptions.workerSrc="pdf.worker.mjs";__webpack_exports__GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker.min-DKQKFyKK.js",import.meta.url).toString();function Upload(){const[_e,$]=reactExports.useState(""),[ht,vt]=reactExports.useState(""),[xt,bt]=reactExports.useState(null);reactExports.useState(null);const Et=async _t=>{_t.preventDefault();const At=new FormData;At.append("title",_e),At.append("file",ht),console.log(_e,ht);const Ct=await axios.post("/en/uploadpdf",At,{headers:{"Content-Type":"multipart/form-data"}});console.log(Ct),Ct.data.status=="ok"&&(alert("Uploaded Successfully!!!"),getPdf())};return jsxRuntimeExports.jsxs("div",{className:"App",children:[jsxRuntimeExports.jsxs("form",{className:"formStyle",onSubmit:Et,children:[jsxRuntimeExports.jsx("h4",{children:"Upload Pdf in React"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"text",className:"form-control",placeholder:"Title",required:!0,onChange:_t=>$(_t.target.value)}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"file",class:"form-control",accept:"application/pdf",required:!0,onChange:_t=>vt(_t.target.files[0])}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{class:"btn btn-primary",type:"submit",children:"Submit"})]}),jsxRuntimeExports.jsxs("div",{className:"uploaded",children:[jsxRuntimeExports.jsx("h4",{children:"Uploaded PDF:"}),jsxRuntimeExports.jsx("div",{className:"output-div",children:xt==null?"":xt.map(_t=>jsxRuntimeExports.jsxs("div",{className:"inner-div",children:[jsxRuntimeExports.jsxs("h6",{children:["Title: ",_t.title]}),jsxRuntimeExports.jsx("button",{className:"btn btn-primary",onClick:()=>showPdf(_t.pdf),children:"Show Pdf"})]}))})]})]})}var core_min={};function commonjsRequire(_e){throw new Error('Could not dynamically require "'+_e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,ht){module.exports=$.pdfjsLib=ht()})(globalThis,()=>(()=>{var __webpack_modules__=[,(_e,$)=>{var rs;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=nn,$.bytesToString=Hn,$.createValidAbsoluteUrl=wn,$.getModificationDate=rr,$.getUuid=gr,$.getVerbosityLevel=un,$.info=xn,$.isArrayBuffer=kn,$.isArrayEqual=sr,$.isNodeJS=void 0,$.normalizeUnicode=dr,$.objectFromMap=Kn,$.objectSize=Xn,$.setVerbosityLevel=En,$.shadow=rn,$.string32=Wn,$.stringToBytes=Un,$.stringToPDFString=Vn,$.stringToUTF8String=Qn,$.unreachable=hn,$.utf8StringToString=qn,$.warn=an;const ht=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=ht;const vt=[1,0,0,1,0,0];$.IDENTITY_MATRIX=vt;const xt=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=xt;const bt=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=bt;const Et=1.35;$.LINE_FACTOR=Et;const _t=.35;$.LINE_DESCENT_FACTOR=_t;const At=_t/Et;$.BASELINE_FACTOR=At;const Ct={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=Ct;const St={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=St;const Rt="pdfjs_internal_editor_";$.AnnotationEditorPrefix=Rt;const Pt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=Pt;const kt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=kt;const Mt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=Mt;const Lt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=Lt;const Ot={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=Ot;const Ft={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=Ft;const Dt={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=Dt;const $t={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=$t;const Bt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=Bt;const Nt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=Nt;const Ht={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=Ht;const jt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=jt;const zt={O:"PageOpen",C:"PageClose"};$.PageActionEventType=zt;const Kt={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=Kt;const en={NONE:0,BINARY:1};$.CMapCompressionType=en;const Wt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=Wt;const Qt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=Qt;let on=Kt.WARNINGS;function En(Yn){Number.isInteger(Yn)&&(on=Yn)}function un(){return on}function xn(Yn){on>=Kt.INFOS&&console.log(`Info: ${Yn}`)}function an(Yn){on>=Kt.WARNINGS&&console.log(`Warning: ${Yn}`)}function hn(Yn){throw new Error(Yn)}function nn(Yn,Ln){Yn||hn(Ln)}function gn(Yn){switch(Yn==null?void 0:Yn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function wn(Yn,Ln=null,In=null){if(!Yn)return null;try{if(In&&typeof Yn=="string"){if(In.addDefaultProtocol&&Yn.startsWith("www.")){const vr=Yn.match(/\./g);(vr==null?void 0:vr.length)>=2&&(Yn=`http://${Yn}`)}if(In.tryConvertEncoding)try{Yn=Qn(Yn)}catch{}}const fr=Ln?new URL(Yn,Ln):new URL(Yn);if(gn(fr))return fr}catch{}return null}function rn(Yn,Ln,In,fr=!1){return Object.defineProperty(Yn,Ln,{value:In,enumerable:!fr,configurable:!0,writable:!1}),In}const Xt=function(){function Ln(In,fr){this.constructor===Ln&&hn("Cannot initialize BaseException."),this.message=In,this.name=fr}return Ln.prototype=new Error,Ln.constructor=Ln,Ln}();$.BaseException=Xt;class Yt extends Xt{constructor(Ln,In){super(Ln,"PasswordException"),this.code=In}}$.PasswordException=Yt;class tn extends Xt{constructor(Ln,In){super(Ln,"UnknownErrorException"),this.details=In}}$.UnknownErrorException=tn;class dn extends Xt{constructor(Ln){super(Ln,"InvalidPDFException")}}$.InvalidPDFException=dn;class ln extends Xt{constructor(Ln){super(Ln,"MissingPDFException")}}$.MissingPDFException=ln;class fn extends Xt{constructor(Ln,In){super(Ln,"UnexpectedResponseException"),this.status=In}}$.UnexpectedResponseException=fn;class Sn extends Xt{constructor(Ln){super(Ln,"FormatError")}}$.FormatError=Sn;class Mn extends Xt{constructor(Ln){super(Ln,"AbortException")}}$.AbortException=Mn;function Hn(Yn){(typeof Yn!="object"||(Yn==null?void 0:Yn.length)===void 0)&&hn("Invalid argument for bytesToString");const Ln=Yn.length,In=8192;if(Ln<In)return String.fromCharCode.apply(null,Yn);const fr=[];for(let vr=0;vr<Ln;vr+=In){const kr=Math.min(vr+In,Ln),vn=Yn.subarray(vr,kr);fr.push(String.fromCharCode.apply(null,vn))}return fr.join("")}function Un(Yn){typeof Yn!="string"&&hn("Invalid argument for stringToBytes");const Ln=Yn.length,In=new Uint8Array(Ln);for(let fr=0;fr<Ln;++fr)In[fr]=Yn.charCodeAt(fr)&255;return In}function Wn(Yn){return String.fromCharCode(Yn>>24&255,Yn>>16&255,Yn>>8&255,Yn&255)}function Xn(Yn){return Object.keys(Yn).length}function Kn(Yn){const Ln=Object.create(null);for(const[In,fr]of Yn)Ln[In]=fr;return Ln}function Tn(){const Yn=new Uint8Array(4);return Yn[0]=1,new Uint32Array(Yn.buffer,0,1)[0]===1}function Fn(){try{return new Function(""),!0}catch{return!1}}class sn{static get isLittleEndian(){return rn(this,"isLittleEndian",Tn())}static get isEvalSupported(){return rn(this,"isEvalSupported",Fn())}static get isOffscreenCanvasSupported(){return rn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?rn(this,"platform",{isWin:!1,isMac:!1}):rn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Ln,In;return rn(this,"isCSSRoundSupported",(In=(Ln=globalThis.CSS)==null?void 0:Ln.supports)==null?void 0:In.call(Ln,"width: round(1.5px, 1px)"))}}$.FeatureTest=sn;const mn=[...Array(256).keys()].map(Yn=>Yn.toString(16).padStart(2,"0"));class Pn{static makeHexColor(Ln,In,fr){return`#${mn[Ln]}${mn[In]}${mn[fr]}`}static scaleMinMax(Ln,In){let fr;Ln[0]?(Ln[0]<0&&(fr=In[0],In[0]=In[1],In[1]=fr),In[0]*=Ln[0],In[1]*=Ln[0],Ln[3]<0&&(fr=In[2],In[2]=In[3],In[3]=fr),In[2]*=Ln[3],In[3]*=Ln[3]):(fr=In[0],In[0]=In[2],In[2]=fr,fr=In[1],In[1]=In[3],In[3]=fr,Ln[1]<0&&(fr=In[2],In[2]=In[3],In[3]=fr),In[2]*=Ln[1],In[3]*=Ln[1],Ln[2]<0&&(fr=In[0],In[0]=In[1],In[1]=fr),In[0]*=Ln[2],In[1]*=Ln[2]),In[0]+=Ln[4],In[1]+=Ln[4],In[2]+=Ln[5],In[3]+=Ln[5]}static transform(Ln,In){return[Ln[0]*In[0]+Ln[2]*In[1],Ln[1]*In[0]+Ln[3]*In[1],Ln[0]*In[2]+Ln[2]*In[3],Ln[1]*In[2]+Ln[3]*In[3],Ln[0]*In[4]+Ln[2]*In[5]+Ln[4],Ln[1]*In[4]+Ln[3]*In[5]+Ln[5]]}static applyTransform(Ln,In){const fr=Ln[0]*In[0]+Ln[1]*In[2]+In[4],vr=Ln[0]*In[1]+Ln[1]*In[3]+In[5];return[fr,vr]}static applyInverseTransform(Ln,In){const fr=In[0]*In[3]-In[1]*In[2],vr=(Ln[0]*In[3]-Ln[1]*In[2]+In[2]*In[5]-In[4]*In[3])/fr,kr=(-Ln[0]*In[1]+Ln[1]*In[0]+In[4]*In[1]-In[5]*In[0])/fr;return[vr,kr]}static getAxialAlignedBoundingBox(Ln,In){const fr=this.applyTransform(Ln,In),vr=this.applyTransform(Ln.slice(2,4),In),kr=this.applyTransform([Ln[0],Ln[3]],In),vn=this.applyTransform([Ln[2],Ln[1]],In);return[Math.min(fr[0],vr[0],kr[0],vn[0]),Math.min(fr[1],vr[1],kr[1],vn[1]),Math.max(fr[0],vr[0],kr[0],vn[0]),Math.max(fr[1],vr[1],kr[1],vn[1])]}static inverseTransform(Ln){const In=Ln[0]*Ln[3]-Ln[1]*Ln[2];return[Ln[3]/In,-Ln[1]/In,-Ln[2]/In,Ln[0]/In,(Ln[2]*Ln[5]-Ln[4]*Ln[3])/In,(Ln[4]*Ln[1]-Ln[5]*Ln[0])/In]}static singularValueDecompose2dScale(Ln){const In=[Ln[0],Ln[2],Ln[1],Ln[3]],fr=Ln[0]*In[0]+Ln[1]*In[2],vr=Ln[0]*In[1]+Ln[1]*In[3],kr=Ln[2]*In[0]+Ln[3]*In[2],vn=Ln[2]*In[1]+Ln[3]*In[3],Gn=(fr+vn)/2,ar=Math.sqrt((fr+vn)**2-4*(fr*vn-kr*vr))/2,yr=Gn+ar||1,Er=Gn-ar||1;return[Math.sqrt(yr),Math.sqrt(Er)]}static normalizeRect(Ln){const In=Ln.slice(0);return Ln[0]>Ln[2]&&(In[0]=Ln[2],In[2]=Ln[0]),Ln[1]>Ln[3]&&(In[1]=Ln[3],In[3]=Ln[1]),In}static intersect(Ln,In){const fr=Math.max(Math.min(Ln[0],Ln[2]),Math.min(In[0],In[2])),vr=Math.min(Math.max(Ln[0],Ln[2]),Math.max(In[0],In[2]));if(fr>vr)return null;const kr=Math.max(Math.min(Ln[1],Ln[3]),Math.min(In[1],In[3])),vn=Math.min(Math.max(Ln[1],Ln[3]),Math.max(In[1],In[3]));return kr>vn?null:[fr,kr,vr,vn]}static bezierBoundingBox(Ln,In,fr,vr,kr,vn,Gn,ar){const yr=[],Er=[[],[]];let hr,pn,cn,Cn,Bn,zn,Zn,nr;for(let Hr=0;Hr<2;++Hr){if(Hr===0?(pn=6*Ln-12*fr+6*kr,hr=-3*Ln+9*fr-9*kr+3*Gn,cn=3*fr-3*Ln):(pn=6*In-12*vr+6*vn,hr=-3*In+9*vr-9*vn+3*ar,cn=3*vr-3*In),Math.abs(hr)<1e-12){if(Math.abs(pn)<1e-12)continue;Cn=-cn/pn,0<Cn&&Cn<1&&yr.push(Cn);continue}Zn=pn*pn-4*cn*hr,nr=Math.sqrt(Zn),!(Zn<0)&&(Bn=(-pn+nr)/(2*hr),0<Bn&&Bn<1&&yr.push(Bn),zn=(-pn-nr)/(2*hr),0<zn&&zn<1&&yr.push(zn))}let xr=yr.length,pr;const cr=xr;for(;xr--;)Cn=yr[xr],pr=1-Cn,Er[0][xr]=pr*pr*pr*Ln+3*pr*pr*Cn*fr+3*pr*Cn*Cn*kr+Cn*Cn*Cn*Gn,Er[1][xr]=pr*pr*pr*In+3*pr*pr*Cn*vr+3*pr*Cn*Cn*vn+Cn*Cn*Cn*ar;return Er[0][cr]=Ln,Er[1][cr]=In,Er[0][cr+1]=Gn,Er[1][cr+1]=ar,Er[0].length=Er[1].length=cr+2,[Math.min(...Er[0]),Math.min(...Er[1]),Math.max(...Er[0]),Math.max(...Er[1])]}}$.Util=Pn;const Nn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Vn(Yn){if(Yn[0]>="ï"){let In;if(Yn[0]==="þ"&&Yn[1]==="ÿ"?In="utf-16be":Yn[0]==="ÿ"&&Yn[1]==="þ"?In="utf-16le":Yn[0]==="ï"&&Yn[1]==="»"&&Yn[2]==="¿"&&(In="utf-8"),In)try{const fr=new TextDecoder(In,{fatal:!0}),vr=Un(Yn);return fr.decode(vr)}catch(fr){an(`stringToPDFString: "${fr}".`)}}const Ln=[];for(let In=0,fr=Yn.length;In<fr;In++){const vr=Nn[Yn.charCodeAt(In)];Ln.push(vr?String.fromCharCode(vr):Yn.charAt(In))}return Ln.join("")}function Qn(Yn){return decodeURIComponent(escape(Yn))}function qn(Yn){return unescape(encodeURIComponent(Yn))}function kn(Yn){return typeof Yn=="object"&&(Yn==null?void 0:Yn.byteLength)!==void 0}function sr(Yn,Ln){if(Yn.length!==Ln.length)return!1;for(let In=0,fr=Yn.length;In<fr;In++)if(Yn[In]!==Ln[In])return!1;return!0}function rr(Yn=new Date){return[Yn.getUTCFullYear().toString(),(Yn.getUTCMonth()+1).toString().padStart(2,"0"),Yn.getUTCDate().toString().padStart(2,"0"),Yn.getUTCHours().toString().padStart(2,"0"),Yn.getUTCMinutes().toString().padStart(2,"0"),Yn.getUTCSeconds().toString().padStart(2,"0")].join("")}class $r{constructor(){qt(this,rs,!1);this.promise=new Promise((Ln,In)=>{this.resolve=fr=>{Vt(this,rs,!0),Ln(fr)},this.reject=fr=>{Vt(this,rs,!0),In(fr)}})}get settled(){return wt(this,rs)}}rs=new WeakMap,$.PromiseCapability=$r;let Pr=null,zr=null;function dr(Yn){return Pr||(Pr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,zr=new Map([["ﬅ","ſt"]])),Yn.replaceAll(Pr,(Ln,In,fr)=>In?In.normalize("NFKC"):zr.get(fr))}function gr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Yn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Yn);else for(let Ln=0;Ln<32;Ln++)Yn[Ln]=Math.floor(Math.random()*255);return Hn(Yn)}const Wr="pdfjs_internal_id_";$.AnnotationPrefix=Wr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var _e,ht,vt,xt,tm,Dy,_t,At,Ct,St,Rt,Pt,kt,Mt,Lt,Iy,Ft,Dt,_E,Bt,Nt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(jt){if(typeof jt=="string"||jt instanceof URL?jt={url:jt}:(0,_util.isArrayBuffer)(jt)&&(jt={data:jt}),typeof jt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!jt.url&&!jt.data&&!jt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const zt=new PDFDocumentLoadingTask,{docId:Kt}=zt,en=jt.url?getUrlProp(jt.url):null,Wt=jt.data?getDataProp(jt.data):null,Qt=jt.httpHeaders||null,on=jt.withCredentials===!0,En=jt.password??null,un=jt.range instanceof PDFDataRangeTransport?jt.range:null,xn=Number.isInteger(jt.rangeChunkSize)&&jt.rangeChunkSize>0?jt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let an=jt.worker instanceof PDFWorker?jt.worker:null;const hn=jt.verbosity,nn=typeof jt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(jt.docBaseUrl)?jt.docBaseUrl:null,gn=typeof jt.cMapUrl=="string"?jt.cMapUrl:null,wn=jt.cMapPacked!==!1,rn=jt.CMapReaderFactory||DefaultCMapReaderFactory,Xt=typeof jt.standardFontDataUrl=="string"?jt.standardFontDataUrl:null,Yt=jt.StandardFontDataFactory||DefaultStandardFontDataFactory,tn=jt.stopAtErrors!==!0,dn=Number.isInteger(jt.maxImageSize)&&jt.maxImageSize>-1?jt.maxImageSize:-1,ln=jt.isEvalSupported!==!1,fn=typeof jt.isOffscreenCanvasSupported=="boolean"?jt.isOffscreenCanvasSupported:!_util.isNodeJS,Sn=Number.isInteger(jt.canvasMaxAreaInBytes)?jt.canvasMaxAreaInBytes:-1,Mn=typeof jt.disableFontFace=="boolean"?jt.disableFontFace:_util.isNodeJS,Hn=jt.fontExtraProperties===!0,Un=jt.enableXfa===!0,Wn=jt.ownerDocument||globalThis.document,Xn=jt.disableRange===!0,Kn=jt.disableStream===!0,Tn=jt.disableAutoFetch===!0,Fn=jt.pdfBug===!0,sn=un?un.length:jt.length??NaN,mn=typeof jt.useSystemFonts=="boolean"?jt.useSystemFonts:!_util.isNodeJS&&!Mn,Pn=typeof jt.useWorkerFetch=="boolean"?jt.useWorkerFetch:rn===_display_utils.DOMCMapReaderFactory&&Yt===_display_utils.DOMStandardFontDataFactory&&gn&&Xt&&(0,_display_utils.isValidFetchUrl)(gn,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Xt,document.baseURI),Nn=jt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Wn}),Vn=jt.filterFactory||new DefaultFilterFactory({docId:Kt,ownerDocument:Wn}),Qn=null;(0,_util.setVerbosityLevel)(hn);const qn={canvasFactory:Nn,filterFactory:Vn};if(Pn||(qn.cMapReaderFactory=new rn({baseUrl:gn,isCompressed:wn}),qn.standardFontDataFactory=new Yt({baseUrl:Xt})),!an){const rr={verbosity:hn,port:_worker_options.GlobalWorkerOptions.workerPort};an=rr.port?PDFWorker.fromPort(rr):new PDFWorker(rr),zt._worker=an}const kn={docId:Kt,apiVersion:"3.11.174",data:Wt,password:En,disableAutoFetch:Tn,rangeChunkSize:xn,length:sn,docBaseUrl:nn,enableXfa:Un,evaluatorOptions:{maxImageSize:dn,disableFontFace:Mn,ignoreErrors:tn,isEvalSupported:ln,isOffscreenCanvasSupported:fn,canvasMaxAreaInBytes:Sn,fontExtraProperties:Hn,useSystemFonts:mn,cMapUrl:Pn?gn:null,standardFontDataUrl:Pn?Xt:null}},sr={ignoreErrors:tn,isEvalSupported:ln,disableFontFace:Mn,fontExtraProperties:Hn,enableXfa:Un,ownerDocument:Wn,disableAutoFetch:Tn,pdfBug:Fn,styleElement:Qn};return an.promise.then(function(){if(zt.destroyed)throw new Error("Loading aborted");const rr=_fetchDocument(an,kn),$r=new Promise(function(Pr){let zr;un?zr=new _transport_stream.PDFDataTransportStream({length:sn,initialData:un.initialData,progressiveDone:un.progressiveDone,contentDispositionFilename:un.contentDispositionFilename,disableRange:Xn,disableStream:Kn},un):Wt||(zr=(gr=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(gr):(0,_display_utils.isValidFetchUrl)(gr.url)?new _displayFetch_stream.PDFFetchStream(gr):new _displayNetwork.PDFNetworkStream(gr))({url:en,length:sn,httpHeaders:Qt,withCredentials:on,rangeChunkSize:xn,disableRange:Xn,disableStream:Kn})),Pr(zr)});return Promise.all([rr,$r]).then(function([Pr,zr]){if(zt.destroyed)throw new Error("Loading aborted");const dr=new _message_handler.MessageHandler(Kt,Pr,an.port),gr=new WorkerTransport(dr,zt,zr,sr,qn);zt._transport=gr,dr.send("Ready",null)})}).catch(zt._capability.reject),zt}async function _fetchDocument(jt,zt){if(jt.destroyed)throw new Error("Worker was destroyed");const Kt=await jt.messageHandler.sendWithPromise("GetDocRequest",zt,zt.data?[zt.data.buffer]:null);if(jt.destroyed)throw new Error("Worker was destroyed");return Kt}function getUrlProp(jt){if(jt instanceof URL)return jt.href;try{return new URL(jt,window.location).href}catch{if(_util.isNodeJS&&typeof jt=="string")return jt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(jt){if(_util.isNodeJS&&typeof Buffer<"u"&&jt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(jt instanceof Uint8Array&&jt.byteLength===jt.buffer.byteLength)return jt;if(typeof jt=="string")return(0,_util.stringToBytes)(jt);if(typeof jt=="object"&&!isNaN(jt==null?void 0:jt.length)||(0,_util.isArrayBuffer)(jt))return new Uint8Array(jt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${eo($,_e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var zt,Kt,en;this.destroyed=!0;try{(zt=this._worker)!=null&&zt.port&&(this._worker._pendingDestroy=!0),await((Kt=this._transport)==null?void 0:Kt.destroy())}catch(Wt){throw(en=this._worker)!=null&&en.port&&delete this._worker._pendingDestroy,Wt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};_e=new WeakMap,qt($,_e,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(zt,Kt,en=!1,Wt=null){this.length=zt,this.initialData=Kt,this.progressiveDone=en,this.contentDispositionFilename=Wt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(zt){this._rangeListeners.push(zt)}addProgressListener(zt){this._progressListeners.push(zt)}addProgressiveReadListener(zt){this._progressiveReadListeners.push(zt)}addProgressiveDoneListener(zt){this._progressiveDoneListeners.push(zt)}onDataRange(zt,Kt){for(const en of this._rangeListeners)en(zt,Kt)}onDataProgress(zt,Kt){this._readyCapability.promise.then(()=>{for(const en of this._progressListeners)en(zt,Kt)})}onDataProgressiveRead(zt){this._readyCapability.promise.then(()=>{for(const Kt of this._progressiveReadListeners)Kt(zt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const zt of this._progressiveDoneListeners)zt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(zt,Kt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(zt,Kt){this._pdfInfo=zt,this._transport=Kt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(en=>{if(!en)return en;const Wt=[];for(const Qt in en)Wt.push(...en[Qt]);return Wt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(zt){return this._transport.getPage(zt)}getPageIndex(zt){return this._transport.getPageIndex(zt)}getDestinations(){return this._transport.getDestinations()}getDestination(zt){return this._transport.getDestination(zt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(zt=!1){return this._transport.startCleanup(zt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(zt,Kt,en,Wt=!1){qt(this,xt);qt(this,ht,null);qt(this,vt,!1);this._pageIndex=zt,this._pageInfo=Kt,this._transport=en,this._stats=Wt?new _display_utils.StatTimer:null,this._pdfBug=Wt,this.commonObjs=en.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:zt,rotation:Kt=this.rotate,offsetX:en=0,offsetY:Wt=0,dontFlip:Qt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:zt,rotation:Kt,offsetX:en,offsetY:Wt,dontFlip:Qt})}getAnnotations({intent:zt="display"}={}){const Kt=this._transport.getRenderingIntent(zt);return this._transport.getAnnotations(this._pageIndex,Kt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var zt;return((zt=this._transport._htmlForXfa)==null?void 0:zt.children[this._pageIndex])||null}render({canvasContext:zt,viewport:Kt,intent:en="display",annotationMode:Wt=_util.AnnotationMode.ENABLE,transform:Qt=null,background:on=null,optionalContentConfigPromise:En=null,annotationCanvasMap:un=null,pageColors:xn=null,printAnnotationStorage:an=null}){var Yt,tn;(Yt=this._stats)==null||Yt.time("Overall");const hn=this._transport.getRenderingIntent(en,Wt,an);Vt(this,vt,!1),Ut(this,xt,Dy).call(this),En||(En=this._transport.getOptionalContentConfig());let nn=this._intentStates.get(hn.cacheKey);nn||(nn=Object.create(null),this._intentStates.set(hn.cacheKey,nn)),nn.streamReaderCancelTimeout&&(clearTimeout(nn.streamReaderCancelTimeout),nn.streamReaderCancelTimeout=null);const gn=!!(hn.renderingIntent&_util.RenderingIntentFlag.PRINT);nn.displayReadyCapability||(nn.displayReadyCapability=new _util.PromiseCapability,nn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(tn=this._stats)==null||tn.time("Page Request"),this._pumpOperatorList(hn));const wn=dn=>{var ln,fn;nn.renderTasks.delete(rn),(this._maybeCleanupAfterRender||gn)&&Vt(this,vt,!0),Ut(this,xt,tm).call(this,!gn),dn?(rn.capability.reject(dn),this._abortOperatorList({intentState:nn,reason:dn instanceof Error?dn:new Error(dn)})):rn.capability.resolve(),(ln=this._stats)==null||ln.timeEnd("Rendering"),(fn=this._stats)==null||fn.timeEnd("Overall")},rn=new InternalRenderTask({callback:wn,params:{canvasContext:zt,viewport:Kt,transform:Qt,background:on},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:un,operatorList:nn.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!gn,pdfBug:this._pdfBug,pageColors:xn});(nn.renderTasks||(nn.renderTasks=new Set)).add(rn);const Xt=rn.task;return Promise.all([nn.displayReadyCapability.promise,En]).then(([dn,ln])=>{var fn;if(this.destroyed){wn();return}(fn=this._stats)==null||fn.time("Rendering"),rn.initializeGraphics({transparency:dn,optionalContentConfig:ln}),rn.operatorListChanged()}).catch(wn),Xt}getOperatorList({intent:zt="display",annotationMode:Kt=_util.AnnotationMode.ENABLE,printAnnotationStorage:en=null}={}){var un;function Wt(){on.operatorList.lastChunk&&(on.opListReadCapability.resolve(on.operatorList),on.renderTasks.delete(En))}const Qt=this._transport.getRenderingIntent(zt,Kt,en,!0);let on=this._intentStates.get(Qt.cacheKey);on||(on=Object.create(null),this._intentStates.set(Qt.cacheKey,on));let En;return on.opListReadCapability||(En=Object.create(null),En.operatorListChanged=Wt,on.opListReadCapability=new _util.PromiseCapability,(on.renderTasks||(on.renderTasks=new Set)).add(En),on.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(un=this._stats)==null||un.time("Page Request"),this._pumpOperatorList(Qt)),on.opListReadCapability.promise}streamTextContent({includeMarkedContent:zt=!1,disableNormalization:Kt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:zt===!0,disableNormalization:Kt===!0},{highWaterMark:100,size(Wt){return Wt.items.length}})}getTextContent(zt={}){if(this._transport._htmlForXfa)return this.getXfa().then(en=>_xfa_text.XfaText.textContent(en));const Kt=this.streamTextContent(zt);return new Promise(function(en,Wt){function Qt(){on.read().then(function({value:un,done:xn}){if(xn){en(En);return}Object.assign(En.styles,un.styles),En.items.push(...un.items),Qt()},Wt)}const on=Kt.getReader(),En={items:[],styles:Object.create(null)};Qt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const zt=[];for(const Kt of this._intentStates.values())if(this._abortOperatorList({intentState:Kt,reason:new Error("Page was destroyed."),force:!0}),!Kt.opListReadCapability)for(const en of Kt.renderTasks)zt.push(en.completed),en.cancel();return this.objs.clear(),Vt(this,vt,!1),Ut(this,xt,Dy).call(this),Promise.all(zt)}cleanup(zt=!1){Vt(this,vt,!0);const Kt=Ut(this,xt,tm).call(this,!1);return zt&&Kt&&this._stats&&(this._stats=new _display_utils.StatTimer),Kt}_startRenderPage(zt,Kt){var Wt,Qt;const en=this._intentStates.get(Kt);en&&((Wt=this._stats)==null||Wt.timeEnd("Page Request"),(Qt=en.displayReadyCapability)==null||Qt.resolve(zt))}_renderPageChunk(zt,Kt){for(let en=0,Wt=zt.length;en<Wt;en++)Kt.operatorList.fnArray.push(zt.fnArray[en]),Kt.operatorList.argsArray.push(zt.argsArray[en]);Kt.operatorList.lastChunk=zt.lastChunk,Kt.operatorList.separateAnnots=zt.separateAnnots;for(const en of Kt.renderTasks)en.operatorListChanged();zt.lastChunk&&Ut(this,xt,tm).call(this,!0)}_pumpOperatorList({renderingIntent:zt,cacheKey:Kt,annotationStorageSerializable:en}){const{map:Wt,transfers:Qt}=en,En=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:zt,cacheKey:Kt,annotationStorage:Wt},Qt).getReader(),un=this._intentStates.get(Kt);un.streamReader=En;const xn=()=>{En.read().then(({value:an,done:hn})=>{if(hn){un.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(an,un),xn())},an=>{if(un.streamReader=null,!this._transport.destroyed){if(un.operatorList){un.operatorList.lastChunk=!0;for(const hn of un.renderTasks)hn.operatorListChanged();Ut(this,xt,tm).call(this,!0)}if(un.displayReadyCapability)un.displayReadyCapability.reject(an);else if(un.opListReadCapability)un.opListReadCapability.reject(an);else throw an}})};xn()}_abortOperatorList({intentState:zt,reason:Kt,force:en=!1}){if(zt.streamReader){if(zt.streamReaderCancelTimeout&&(clearTimeout(zt.streamReaderCancelTimeout),zt.streamReaderCancelTimeout=null),!en){if(zt.renderTasks.size>0)return;if(Kt instanceof _display_utils.RenderingCancelledException){let Wt=RENDERING_CANCELLED_TIMEOUT;Kt.extraDelay>0&&Kt.extraDelay<1e3&&(Wt+=Kt.extraDelay),zt.streamReaderCancelTimeout=setTimeout(()=>{zt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:zt,reason:Kt,force:!0})},Wt);return}}if(zt.streamReader.cancel(new _util.AbortException(Kt.message)).catch(()=>{}),zt.streamReader=null,!this._transport.destroyed){for(const[Wt,Qt]of this._intentStates)if(Qt===zt){this._intentStates.delete(Wt);break}this.cleanup()}}}get stats(){return this._stats}}ht=new WeakMap,vt=new WeakMap,xt=new WeakSet,tm=function(zt=!1){if(Ut(this,xt,Dy).call(this),!wt(this,vt)||this.destroyed)return!1;if(zt)return Vt(this,ht,setTimeout(()=>{Vt(this,ht,null),Ut(this,xt,tm).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Kt,operatorList:en}of this._intentStates.values())if(Kt.size>0||!en.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Vt(this,vt,!1),!0},Dy=function(){wt(this,ht)&&(clearTimeout(wt(this,ht)),Vt(this,ht,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){qt(this,_t,new Set);qt(this,At,Promise.resolve())}postMessage(zt,Kt){const en={data:structuredClone(zt,Kt?{transfer:Kt}:null)};wt(this,At).then(()=>{for(const Wt of wt(this,_t))Wt.call(this,en)})}addEventListener(zt,Kt){wt(this,_t).add(Kt)}removeEventListener(zt,Kt){wt(this,_t).delete(Kt)}terminate(){wt(this,_t).clear()}}_t=new WeakMap,At=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const jt=(Ct=document==null?void 0:document.currentScript)==null?void 0:Ct.src;jt&&(PDFWorkerUtil.fallbackWorkerSrc=jt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(jt,zt){let Kt;try{if(Kt=new URL(jt),!Kt.origin||Kt.origin==="null")return!1}catch{return!1}const en=new URL(zt,Kt);return Kt.origin===en.origin},PDFWorkerUtil.createCDNWrapper=function(jt){const zt=`importScripts("${jt}");`;return URL.createObjectURL(new Blob([zt]))}}const _PDFWorker=class _PDFWorker{constructor({name:jt=null,port:zt=null,verbosity:Kt=(0,_util.getVerbosityLevel)()}={}){var en;if(this.name=jt,this.destroyed=!1,this.verbosity=Kt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,zt){if((en=wt(_PDFWorker,St))!=null&&en.has(zt))throw new Error("Cannot use more than one PDFWorker per port.");(wt(_PDFWorker,St)||Vt(_PDFWorker,St,new WeakMap)).set(zt,this),this._initializeFromPort(zt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(jt){this._port=jt,this._messageHandler=new _message_handler.MessageHandler("main","worker",jt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:jt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,jt)||(jt=PDFWorkerUtil.createCDNWrapper(new URL(jt,window.location).href));const zt=new Worker(jt),Kt=new _message_handler.MessageHandler("main","worker",zt),en=()=>{zt.removeEventListener("error",Wt),Kt.destroy(),zt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Wt=()=>{this._webWorker||en()};zt.addEventListener("error",Wt),Kt.on("test",on=>{if(zt.removeEventListener("error",Wt),this.destroyed){en();return}on?(this._messageHandler=Kt,this._port=zt,this._webWorker=zt,this._readyCapability.resolve(),Kt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Kt.destroy(),zt.terminate())}),Kt.on("ready",on=>{if(zt.removeEventListener("error",Wt),this.destroyed){en();return}try{Qt()}catch{this._setupFakeWorker()}});const Qt=()=>{const on=new Uint8Array;Kt.send("test",on,[on.buffer])};Qt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(jt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const zt=new LoopbackPort;this._port=zt;const Kt=`fake${PDFWorkerUtil.fakeWorkerId++}`,en=new _message_handler.MessageHandler(Kt+"_worker",Kt,zt);jt.setup(en,zt);const Wt=new _message_handler.MessageHandler(Kt,Kt+"_worker",zt);this._messageHandler=Wt,this._readyCapability.resolve(),Wt.send("configure",{verbosity:this.verbosity})}).catch(jt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${jt.message}".`))})}destroy(){var jt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(jt=wt(_PDFWorker,St))==null||jt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(jt){var Kt;if(!(jt!=null&&jt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const zt=(Kt=wt(this,St))==null?void 0:Kt.get(jt.port);if(zt){if(zt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return zt}return new _PDFWorker(jt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var jt;try{return((jt=globalThis.pdfjsWorker)==null?void 0:jt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};St=new WeakMap,qt(_PDFWorker,St);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(zt,Kt,en,Wt,Qt){qt(this,Lt);qt(this,Rt,new Map);qt(this,Pt,new Map);qt(this,kt,new Map);qt(this,Mt,null);this.messageHandler=zt,this.loadingTask=Kt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Wt.ownerDocument,styleElement:Wt.styleElement}),this._params=Wt,this.canvasFactory=Qt.canvasFactory,this.filterFactory=Qt.filterFactory,this.cMapReaderFactory=Qt.cMapReaderFactory,this.standardFontDataFactory=Qt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=en,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(zt,Kt=_util.AnnotationMode.ENABLE,en=null,Wt=!1){let Qt=_util.RenderingIntentFlag.DISPLAY,on=_annotation_storage.SerializableEmpty;switch(zt){case"any":Qt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Qt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${zt}`)}switch(Kt){case _util.AnnotationMode.DISABLE:Qt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Qt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Qt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,on=(Qt&_util.RenderingIntentFlag.PRINT&&en instanceof _annotation_storage.PrintAnnotationStorage?en:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Kt}`)}return Wt&&(Qt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Qt,cacheKey:`${Qt}_${on.hash}`,annotationStorageSerializable:on}}destroy(){var en;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(en=wt(this,Mt))==null||en.reject(new Error("Worker was destroyed during onPassword callback"));const zt=[];for(const Wt of wt(this,Pt).values())zt.push(Wt._destroy());wt(this,Pt).clear(),wt(this,kt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Kt=this.messageHandler.sendWithPromise("Terminate",null);return zt.push(Kt),Promise.all(zt).then(()=>{var Wt;this.commonObjs.clear(),this.fontLoader.clear(),wt(this,Rt).clear(),this.filterFactory.destroy(),(Wt=this._networkStream)==null||Wt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:zt,loadingTask:Kt}=this;zt.on("GetReader",(en,Wt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Qt=>{this._lastProgress={loaded:Qt.loaded,total:Qt.total}},Wt.onPull=()=>{this._fullReader.read().then(function({value:Qt,done:on}){if(on){Wt.close();return}(0,_util.assert)(Qt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Wt.enqueue(new Uint8Array(Qt),1,[Qt])}).catch(Qt=>{Wt.error(Qt)})},Wt.onCancel=Qt=>{this._fullReader.cancel(Qt),Wt.ready.catch(on=>{if(!this.destroyed)throw on})}}),zt.on("ReaderHeadersReady",en=>{const Wt=new _util.PromiseCapability,Qt=this._fullReader;return Qt.headersReady.then(()=>{var on;(!Qt.isStreamingSupported||!Qt.isRangeSupported)&&(this._lastProgress&&((on=Kt.onProgress)==null||on.call(Kt,this._lastProgress)),Qt.onProgress=En=>{var un;(un=Kt.onProgress)==null||un.call(Kt,{loaded:En.loaded,total:En.total})}),Wt.resolve({isStreamingSupported:Qt.isStreamingSupported,isRangeSupported:Qt.isRangeSupported,contentLength:Qt.contentLength})},Wt.reject),Wt.promise}),zt.on("GetRangeReader",(en,Wt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Qt=this._networkStream.getRangeReader(en.begin,en.end);if(!Qt){Wt.close();return}Wt.onPull=()=>{Qt.read().then(function({value:on,done:En}){if(En){Wt.close();return}(0,_util.assert)(on instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Wt.enqueue(new Uint8Array(on),1,[on])}).catch(on=>{Wt.error(on)})},Wt.onCancel=on=>{Qt.cancel(on),Wt.ready.catch(En=>{if(!this.destroyed)throw En})}}),zt.on("GetDoc",({pdfInfo:en})=>{this._numPages=en.numPages,this._htmlForXfa=en.htmlForXfa,delete en.htmlForXfa,Kt._capability.resolve(new PDFDocumentProxy(en,this))}),zt.on("DocException",function(en){let Wt;switch(en.name){case"PasswordException":Wt=new _util.PasswordException(en.message,en.code);break;case"InvalidPDFException":Wt=new _util.InvalidPDFException(en.message);break;case"MissingPDFException":Wt=new _util.MissingPDFException(en.message);break;case"UnexpectedResponseException":Wt=new _util.UnexpectedResponseException(en.message,en.status);break;case"UnknownErrorException":Wt=new _util.UnknownErrorException(en.message,en.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Kt._capability.reject(Wt)}),zt.on("PasswordRequest",en=>{if(Vt(this,Mt,new _util.PromiseCapability),Kt.onPassword){const Wt=Qt=>{Qt instanceof Error?wt(this,Mt).reject(Qt):wt(this,Mt).resolve({password:Qt})};try{Kt.onPassword(Wt,en.code)}catch(Qt){wt(this,Mt).reject(Qt)}}else wt(this,Mt).reject(new _util.PasswordException(en.message,en.code));return wt(this,Mt).promise}),zt.on("DataLoaded",en=>{var Wt;(Wt=Kt.onProgress)==null||Wt.call(Kt,{loaded:en.length,total:en.length}),this.downloadInfoCapability.resolve(en)}),zt.on("StartRenderPage",en=>{if(this.destroyed)return;wt(this,Pt).get(en.pageIndex)._startRenderPage(en.transparency,en.cacheKey)}),zt.on("commonobj",([en,Wt,Qt])=>{var on;if(!this.destroyed&&!this.commonObjs.has(en))switch(Wt){case"Font":const En=this._params;if("error"in Qt){const an=Qt.error;(0,_util.warn)(`Error during font loading: ${an}`),this.commonObjs.resolve(en,an);break}const un=En.pdfBug&&((on=globalThis.FontInspector)!=null&&on.enabled)?(an,hn)=>globalThis.FontInspector.fontAdded(an,hn):null,xn=new _font_loader.FontFaceObject(Qt,{isEvalSupported:En.isEvalSupported,disableFontFace:En.disableFontFace,ignoreErrors:En.ignoreErrors,inspectFont:un});this.fontLoader.bind(xn).catch(an=>zt.sendWithPromise("FontFallback",{id:en})).finally(()=>{!En.fontExtraProperties&&xn.data&&(xn.data=null),this.commonObjs.resolve(en,xn)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(en,Qt);break;default:throw new Error(`Got unknown common object type ${Wt}`)}}),zt.on("obj",([en,Wt,Qt,on])=>{var un;if(this.destroyed)return;const En=wt(this,Pt).get(Wt);if(!En.objs.has(en))switch(Qt){case"Image":if(En.objs.resolve(en,on),on){let xn;if(on.bitmap){const{width:an,height:hn}=on;xn=an*hn*4}else xn=((un=on.data)==null?void 0:un.length)||0;xn>_util.MAX_IMAGE_SIZE_TO_CACHE&&(En._maybeCleanupAfterRender=!0)}break;case"Pattern":En.objs.resolve(en,on);break;default:throw new Error(`Got unknown object type ${Qt}`)}}),zt.on("DocProgress",en=>{var Wt;this.destroyed||(Wt=Kt.onProgress)==null||Wt.call(Kt,{loaded:en.loaded,total:en.total})}),zt.on("FetchBuiltInCMap",en=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(en):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),zt.on("FetchStandardFontData",en=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(en):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var en;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:zt,transfers:Kt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:zt,filename:((en=this._fullReader)==null?void 0:en.filename)??null},Kt).finally(()=>{this.annotationStorage.resetModified()})}getPage(zt){if(!Number.isInteger(zt)||zt<=0||zt>this._numPages)return Promise.reject(new Error("Invalid page request."));const Kt=zt-1,en=wt(this,kt).get(Kt);if(en)return en;const Wt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Kt}).then(Qt=>{if(this.destroyed)throw new Error("Transport destroyed");const on=new PDFPageProxy(Kt,Qt,this,this._params.pdfBug);return wt(this,Pt).set(Kt,on),on});return wt(this,kt).set(Kt,Wt),Wt}getPageIndex(zt){return typeof zt!="object"||zt===null||!Number.isInteger(zt.num)||zt.num<0||!Number.isInteger(zt.gen)||zt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:zt.num,gen:zt.gen})}getAnnotations(zt,Kt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:zt,intent:Kt})}getFieldObjects(){return Ut(this,Lt,Iy).call(this,"GetFieldObjects")}hasJSActions(){return Ut(this,Lt,Iy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(zt){return typeof zt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:zt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ut(this,Lt,Iy).call(this,"GetDocJSActions")}getPageJSActions(zt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:zt})}getStructTree(zt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:zt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(zt=>new _optional_content_config.OptionalContentConfig(zt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const zt="GetMetadata",Kt=wt(this,Rt).get(zt);if(Kt)return Kt;const en=this.messageHandler.sendWithPromise(zt,null).then(Wt=>{var Qt,on;return{info:Wt[0],metadata:Wt[1]?new _metadata.Metadata(Wt[1]):null,contentDispositionFilename:((Qt=this._fullReader)==null?void 0:Qt.filename)??null,contentLength:((on=this._fullReader)==null?void 0:on.contentLength)??null}});return wt(this,Rt).set(zt,en),en}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(zt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Kt of wt(this,Pt).values())if(!Kt.cleanup())throw new Error(`startCleanup: Page ${Kt.pageNumber} is currently rendering.`);this.commonObjs.clear(),zt||this.fontLoader.clear(),wt(this,Rt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:zt,enableXfa:Kt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:zt,enableXfa:Kt})}}Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Lt=new WeakSet,Iy=function(zt,Kt=null){const en=wt(this,Rt).get(zt);if(en)return en;const Wt=this.messageHandler.sendWithPromise(zt,Kt);return wt(this,Rt).set(zt,Wt),Wt};class PDFObjects{constructor(){qt(this,Dt);qt(this,Ft,Object.create(null))}get(zt,Kt=null){if(Kt){const Wt=Ut(this,Dt,_E).call(this,zt);return Wt.capability.promise.then(()=>Kt(Wt.data)),null}const en=wt(this,Ft)[zt];if(!(en!=null&&en.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${zt}.`);return en.data}has(zt){const Kt=wt(this,Ft)[zt];return(Kt==null?void 0:Kt.capability.settled)||!1}resolve(zt,Kt=null){const en=Ut(this,Dt,_E).call(this,zt);en.data=Kt,en.capability.resolve()}clear(){var zt;for(const Kt in wt(this,Ft)){const{data:en}=wt(this,Ft)[Kt];(zt=en==null?void 0:en.bitmap)==null||zt.close()}Vt(this,Ft,Object.create(null))}}Ft=new WeakMap,Dt=new WeakSet,_E=function(zt){var Kt;return(Kt=wt(this,Ft))[zt]||(Kt[zt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(zt){qt(this,Bt,null);Vt(this,Bt,zt),this.onContinue=null}get promise(){return wt(this,Bt).capability.promise}cancel(zt=0){wt(this,Bt).cancel(null,zt)}get separateAnnots(){const{separateAnnots:zt}=wt(this,Bt).operatorList;if(!zt)return!1;const{annotationCanvasMap:Kt}=wt(this,Bt);return zt.form||zt.canvas&&(Kt==null?void 0:Kt.size)>0}}Bt=new WeakMap,exports.RenderTask=RenderTask;const Ht=class Ht{constructor({callback:zt,params:Kt,objs:en,commonObjs:Wt,annotationCanvasMap:Qt,operatorList:on,pageIndex:En,canvasFactory:un,filterFactory:xn,useRequestAnimationFrame:an=!1,pdfBug:hn=!1,pageColors:nn=null}){this.callback=zt,this.params=Kt,this.objs=en,this.commonObjs=Wt,this.annotationCanvasMap=Qt,this.operatorListIdx=null,this.operatorList=on,this._pageIndex=En,this.canvasFactory=un,this.filterFactory=xn,this._pdfBug=hn,this.pageColors=nn,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=an===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Kt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:zt=!1,optionalContentConfig:Kt}){var En,un;if(this.cancelled)return;if(this._canvas){if(wt(Ht,Nt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");wt(Ht,Nt).add(this._canvas)}this._pdfBug&&((En=globalThis.StepperManager)!=null&&En.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:en,viewport:Wt,transform:Qt,background:on}=this.params;this.gfx=new _canvas.CanvasGraphics(en,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Kt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Qt,viewport:Wt,transparency:zt,background:on}),this.operatorListIdx=0,this.graphicsReady=!0,(un=this.graphicsReadyCallback)==null||un.call(this)}cancel(zt=null,Kt=0){var en;this.running=!1,this.cancelled=!0,(en=this.gfx)==null||en.endDrawing(),wt(Ht,Nt).delete(this._canvas),this.callback(zt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Kt))}operatorListChanged(){var zt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(zt=this.stepper)==null||zt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),wt(Ht,Nt).delete(this._canvas),this.callback())))}};Nt=new WeakMap,qt(Ht,Nt,new WeakSet);let InternalRenderTask=Ht;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(_e,$,ht)=>{var Ct,St,Rt,V_,kt;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var vt=ht(1),xt=ht(4),bt=ht(8);const Et=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=Et;class _t{constructor(){qt(this,Rt);qt(this,Ct,!1);qt(this,St,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Lt,Ot){const Ft=wt(this,St).get(Lt);return Ft===void 0?Ot:Object.assign(Ot,Ft)}getRawValue(Lt){return wt(this,St).get(Lt)}remove(Lt){if(wt(this,St).delete(Lt),wt(this,St).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Ot of wt(this,St).values())if(Ot instanceof xt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Lt,Ot){const Ft=wt(this,St).get(Lt);let Dt=!1;if(Ft!==void 0)for(const[$t,Bt]of Object.entries(Ot))Ft[$t]!==Bt&&(Dt=!0,Ft[$t]=Bt);else Dt=!0,wt(this,St).set(Lt,Ot);Dt&&Ut(this,Rt,V_).call(this),Ot instanceof xt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Ot.constructor._type)}has(Lt){return wt(this,St).has(Lt)}getAll(){return wt(this,St).size>0?(0,vt.objectFromMap)(wt(this,St)):null}setAll(Lt){for(const[Ot,Ft]of Object.entries(Lt))this.setValue(Ot,Ft)}get size(){return wt(this,St).size}resetModified(){wt(this,Ct)&&(Vt(this,Ct,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new At(this)}get serializable(){if(wt(this,St).size===0)return Et;const Lt=new Map,Ot=new bt.MurmurHash3_64,Ft=[],Dt=Object.create(null);let $t=!1;for(const[Bt,Nt]of wt(this,St)){const Ht=Nt instanceof xt.AnnotationEditor?Nt.serialize(!1,Dt):Nt;Ht&&(Lt.set(Bt,Ht),Ot.update(`${Bt}:${JSON.stringify(Ht)}`),$t||($t=!!Ht.bitmap))}if($t)for(const Bt of Lt.values())Bt.bitmap&&Ft.push(Bt.bitmap);return Lt.size>0?{map:Lt,hash:Ot.hexdigest(),transfers:Ft}:Et}}Ct=new WeakMap,St=new WeakMap,Rt=new WeakSet,V_=function(){wt(this,Ct)||(Vt(this,Ct,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=_t;class At extends _t{constructor(Ot){super();qt(this,kt);const{map:Ft,hash:Dt,transfers:$t}=Ot.serializable,Bt=structuredClone(Ft,$t?{transfer:$t}:null);Vt(this,kt,{map:Bt,hash:Dt,transfers:$t})}get print(){(0,vt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return wt(this,kt)}}kt=new WeakMap,$.PrintAnnotationStorage=At},(_e,$,ht)=>{var At,Ct,St,Rt,Pt,kt,Mt,Lt,Ot,Ft,Dt,$t,Bt,Nt,Ht,wE,AE,Kt,SE,CE,G_,X_,q_,RE,K_;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var vt=ht(5),xt=ht(1),bt=ht(6);const an=class an{constructor(nn){qt(this,Ht);qt(this,At,"");qt(this,Ct,!1);qt(this,St,null);qt(this,Rt,null);qt(this,Pt,null);qt(this,kt,!1);qt(this,Mt,null);qt(this,Lt,this.focusin.bind(this));qt(this,Ot,this.focusout.bind(this));qt(this,Ft,!1);qt(this,Dt,!1);qt(this,$t,!1);Sr(this,"_initialOptions",Object.create(null));Sr(this,"_uiManager",null);Sr(this,"_focusEventsAllowed",!0);Sr(this,"_l10nPromise",null);qt(this,Bt,!1);qt(this,Nt,an._zIndex++);this.constructor===an&&(0,xt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=nn.parent,this.id=nn.id,this.width=this.height=null,this.pageIndex=nn.parent.pageIndex,this.name=nn.name,this.div=null,this._uiManager=nn.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=nn.isCentered,this._structTreeParentId=null;const{rotation:gn,rawDims:{pageWidth:wn,pageHeight:rn,pageX:Xt,pageY:Yt}}=this.parent.viewport;this.rotation=gn,this.pageRotation=(360+gn-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[wn,rn],this.pageTranslation=[Xt,Yt];const[tn,dn]=this.parentDimensions;this.x=nn.x/tn,this.y=nn.y/dn,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,xt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(nn){const gn=new _t({id:nn.parent.getNextId(),parent:nn.parent,uiManager:nn._uiManager});gn.annotationElementId=nn.annotationElementId,gn.deleted=!0,gn._uiManager.addToAnnotationStorage(gn)}static initialize(nn,gn=null){if(an._l10nPromise||(an._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(rn=>[rn,nn.get(rn)]))),gn!=null&&gn.strings)for(const rn of gn.strings)an._l10nPromise.set(rn,nn.get(rn));if(an._borderLineWidth!==-1)return;const wn=getComputedStyle(document.documentElement);an._borderLineWidth=parseFloat(wn.getPropertyValue("--outline-width"))||0}static updateDefaultParams(nn,gn){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(nn){return!1}static paste(nn,gn){(0,xt.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return wt(this,Bt)}set _isDraggable(nn){var gn;Vt(this,Bt,nn),(gn=this.div)==null||gn.classList.toggle("draggable",nn)}center(){const[nn,gn]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*gn/(nn*2),this.y+=this.width*nn/(gn*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*gn/(nn*2),this.y-=this.width*nn/(gn*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(nn){this._uiManager.addCommands(nn)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=wt(this,Nt)}setParent(nn){nn!==null&&(this.pageIndex=nn.pageIndex,this.pageDimensions=nn.pageDimensions),this.parent=nn}focusin(nn){this._focusEventsAllowed&&(wt(this,Ft)?Vt(this,Ft,!1):this.parent.setSelected(this))}focusout(nn){var wn;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const gn=nn.relatedTarget;gn!=null&&gn.closest(`#${this.id}`)||(nn.preventDefault(),(wn=this.parent)!=null&&wn.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(nn,gn,wn,rn){const[Xt,Yt]=this.parentDimensions;[wn,rn]=this.screenToPageTranslation(wn,rn),this.x=(nn+wn)/Xt,this.y=(gn+rn)/Yt,this.fixAndSetPosition()}translate(nn,gn){Ut(this,Ht,wE).call(this,this.parentDimensions,nn,gn)}translateInPage(nn,gn){Ut(this,Ht,wE).call(this,this.pageDimensions,nn,gn),this.div.scrollIntoView({block:"nearest"})}drag(nn,gn){const[wn,rn]=this.parentDimensions;if(this.x+=nn/wn,this.y+=gn/rn,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:ln,y:fn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,ln,fn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Xt,y:Yt}=this;const[tn,dn]=Ut(this,Ht,AE).call(this);Xt+=tn,Yt+=dn,this.div.style.left=`${(100*Xt).toFixed(2)}%`,this.div.style.top=`${(100*Yt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[nn,gn]=this.pageDimensions;let{x:wn,y:rn,width:Xt,height:Yt}=this;switch(Xt*=nn,Yt*=gn,wn*=nn,rn*=gn,this.rotation){case 0:wn=Math.max(0,Math.min(nn-Xt,wn)),rn=Math.max(0,Math.min(gn-Yt,rn));break;case 90:wn=Math.max(0,Math.min(nn-Yt,wn)),rn=Math.min(gn,Math.max(Xt,rn));break;case 180:wn=Math.min(nn,Math.max(Xt,wn)),rn=Math.min(gn,Math.max(Yt,rn));break;case 270:wn=Math.min(nn,Math.max(Yt,wn)),rn=Math.max(0,Math.min(gn-Xt,rn));break}this.x=wn/=nn,this.y=rn/=gn;const[tn,dn]=Ut(this,Ht,AE).call(this);wn+=tn,rn+=dn;const{style:ln}=this.div;ln.left=`${(100*wn).toFixed(2)}%`,ln.top=`${(100*rn).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(nn,gn){var wn;return Ut(wn=an,Kt,SE).call(wn,nn,gn,this.parentRotation)}pageTranslationToScreen(nn,gn){var wn;return Ut(wn=an,Kt,SE).call(wn,nn,gn,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:nn,pageDimensions:[gn,wn]}=this,rn=gn*nn,Xt=wn*nn;return xt.FeatureTest.isCSSRoundSupported?[Math.round(rn),Math.round(Xt)]:[rn,Xt]}setDims(nn,gn){var Xt;const[wn,rn]=this.parentDimensions;this.div.style.width=`${(100*nn/wn).toFixed(2)}%`,wt(this,kt)||(this.div.style.height=`${(100*gn/rn).toFixed(2)}%`),(Xt=wt(this,St))==null||Xt.classList.toggle("small",nn<an.SMALL_EDITOR_SIZE||gn<an.SMALL_EDITOR_SIZE)}fixDims(){const{style:nn}=this.div,{height:gn,width:wn}=nn,rn=wn.endsWith("%"),Xt=!wt(this,kt)&&gn.endsWith("%");if(rn&&Xt)return;const[Yt,tn]=this.parentDimensions;rn||(nn.width=`${(100*parseFloat(wn)/Yt).toFixed(2)}%`),!wt(this,kt)&&!Xt&&(nn.height=`${(100*parseFloat(gn)/tn).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(wt(this,St))return;const nn=Vt(this,St,document.createElement("button"));nn.className="altText";const gn=await an._l10nPromise.get("editor_alt_text_button_label");nn.textContent=gn,nn.setAttribute("aria-label",gn),nn.tabIndex="0",nn.addEventListener("contextmenu",bt.noContextMenu),nn.addEventListener("pointerdown",wn=>wn.stopPropagation()),nn.addEventListener("click",wn=>{wn.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),nn.addEventListener("keydown",wn=>{wn.target===nn&&wn.key==="Enter"&&(wn.preventDefault(),this._uiManager.editAltText(this))}),Ut(this,Ht,RE).call(this),this.div.append(nn),an.SMALL_EDITOR_SIZE||(an.SMALL_EDITOR_SIZE=Math.min(128,Math.round(nn.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:wt(this,At),decorative:wt(this,Ct)}}set altTextData({altText:nn,decorative:gn}){wt(this,At)===nn&&wt(this,Ct)===gn||(Vt(this,At,nn),Vt(this,Ct,gn),Ut(this,Ht,RE).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",wt(this,Lt)),this.div.addEventListener("focusout",wt(this,Ot));const[nn,gn]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*gn/nn).toFixed(2)}%`,this.div.style.maxHeight=`${(100*nn/gn).toFixed(2)}%`);const[wn,rn]=this.getInitialTranslation();return this.translate(wn,rn),(0,vt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(nn){const{isMac:gn}=xt.FeatureTest.platform;if(nn.button!==0||nn.ctrlKey&&gn){nn.preventDefault();return}Vt(this,Ft,!0),Ut(this,Ht,K_).call(this,nn)}moveInDOM(){var nn;(nn=this.parent)==null||nn.moveEditorInDOM(this)}_setParentAndPosition(nn,gn,wn){nn.changeParent(this),this.x=gn,this.y=wn,this.fixAndSetPosition()}getRect(nn,gn){const wn=this.parentScale,[rn,Xt]=this.pageDimensions,[Yt,tn]=this.pageTranslation,dn=nn/wn,ln=gn/wn,fn=this.x*rn,Sn=this.y*Xt,Mn=this.width*rn,Hn=this.height*Xt;switch(this.rotation){case 0:return[fn+dn+Yt,Xt-Sn-ln-Hn+tn,fn+dn+Mn+Yt,Xt-Sn-ln+tn];case 90:return[fn+ln+Yt,Xt-Sn+dn+tn,fn+ln+Hn+Yt,Xt-Sn+dn+Mn+tn];case 180:return[fn-dn-Mn+Yt,Xt-Sn+ln+tn,fn-dn+Yt,Xt-Sn+ln+Hn+tn];case 270:return[fn-ln-Hn+Yt,Xt-Sn-dn-Mn+tn,fn-ln+Yt,Xt-Sn-dn+tn];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(nn,gn){const[wn,rn,Xt,Yt]=nn,tn=Xt-wn,dn=Yt-rn;switch(this.rotation){case 0:return[wn,gn-Yt,tn,dn];case 90:return[wn,gn-rn,dn,tn];case 180:return[Xt,gn-rn,tn,dn];case 270:return[Xt,gn-Yt,dn,tn];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Vt(this,$t,!0)}disableEditMode(){Vt(this,$t,!1)}isInEditMode(){return wt(this,$t)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var nn,gn;(nn=this.div)==null||nn.addEventListener("focusin",wt(this,Lt)),(gn=this.div)==null||gn.addEventListener("focusout",wt(this,Ot))}serialize(nn=!1,gn=null){(0,xt.unreachable)("An editor must be serializable")}static deserialize(nn,gn,wn){const rn=new this.prototype.constructor({parent:gn,id:gn.getNextId(),uiManager:wn});rn.rotation=nn.rotation;const[Xt,Yt]=rn.pageDimensions,[tn,dn,ln,fn]=rn.getRectInCurrentCoords(nn.rect,Yt);return rn.x=tn/Xt,rn.y=dn/Yt,rn.width=ln/Xt,rn.height=fn/Yt,rn}remove(){var nn;this.div.removeEventListener("focusin",wt(this,Lt)),this.div.removeEventListener("focusout",wt(this,Ot)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(nn=wt(this,St))==null||nn.remove(),Vt(this,St,null),Vt(this,Rt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ut(this,Ht,G_).call(this),wt(this,Mt).classList.remove("hidden"))}select(){var nn;this.makeResizable(),(nn=this.div)==null||nn.classList.add("selectedEditor")}unselect(){var nn,gn,wn;(nn=wt(this,Mt))==null||nn.classList.add("hidden"),(gn=this.div)==null||gn.classList.remove("selectedEditor"),(wn=this.div)!=null&&wn.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(nn,gn){}disableEditing(){wt(this,St)&&(wt(this,St).hidden=!0)}enableEditing(){wt(this,St)&&(wt(this,St).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return wt(this,Dt)}set isEditing(nn){Vt(this,Dt,nn),this.parent&&(nn?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(nn,gn){Vt(this,kt,!0);const wn=nn/gn,{style:rn}=this.div;rn.aspectRatio=wn,rn.height="auto"}static get MIN_SIZE(){return 16}};At=new WeakMap,Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Lt=new WeakMap,Ot=new WeakMap,Ft=new WeakMap,Dt=new WeakMap,$t=new WeakMap,Bt=new WeakMap,Nt=new WeakMap,Ht=new WeakSet,wE=function([nn,gn],wn,rn){[wn,rn]=this.screenToPageTranslation(wn,rn),this.x+=wn/nn,this.y+=rn/gn,this.fixAndSetPosition()},AE=function(){const[nn,gn]=this.parentDimensions,{_borderLineWidth:wn}=an,rn=wn/nn,Xt=wn/gn;switch(this.rotation){case 90:return[-rn,Xt];case 180:return[rn,Xt];case 270:return[rn,-Xt];default:return[-rn,-Xt]}},Kt=new WeakSet,SE=function(nn,gn,wn){switch(wn){case 90:return[gn,-nn];case 180:return[-nn,-gn];case 270:return[-gn,nn];default:return[nn,gn]}},CE=function(nn){switch(nn){case 90:{const[gn,wn]=this.pageDimensions;return[0,-gn/wn,wn/gn,0]}case 180:return[-1,0,0,-1];case 270:{const[gn,wn]=this.pageDimensions;return[0,gn/wn,-wn/gn,0]}default:return[1,0,0,1]}},G_=function(){if(wt(this,Mt))return;Vt(this,Mt,document.createElement("div")),wt(this,Mt).classList.add("resizers");const nn=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||nn.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const gn of nn){const wn=document.createElement("div");wt(this,Mt).append(wn),wn.classList.add("resizer",gn),wn.addEventListener("pointerdown",Ut(this,Ht,X_).bind(this,gn)),wn.addEventListener("contextmenu",bt.noContextMenu)}this.div.prepend(wt(this,Mt))},X_=function(nn,gn){gn.preventDefault();const{isMac:wn}=xt.FeatureTest.platform;if(gn.button!==0||gn.ctrlKey&&wn)return;const rn=Ut(this,Ht,q_).bind(this,nn),Xt=this._isDraggable;this._isDraggable=!1;const Yt={passive:!0,capture:!0};window.addEventListener("pointermove",rn,Yt);const tn=this.x,dn=this.y,ln=this.width,fn=this.height,Sn=this.parent.div.style.cursor,Mn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(gn.target).cursor;const Hn=()=>{this._isDraggable=Xt,window.removeEventListener("pointerup",Hn),window.removeEventListener("blur",Hn),window.removeEventListener("pointermove",rn,Yt),this.parent.div.style.cursor=Sn,this.div.style.cursor=Mn;const Un=this.x,Wn=this.y,Xn=this.width,Kn=this.height;Un===tn&&Wn===dn&&Xn===ln&&Kn===fn||this.addCommands({cmd:()=>{this.width=Xn,this.height=Kn,this.x=Un,this.y=Wn;const[Tn,Fn]=this.parentDimensions;this.setDims(Tn*Xn,Fn*Kn),this.fixAndSetPosition()},undo:()=>{this.width=ln,this.height=fn,this.x=tn,this.y=dn;const[Tn,Fn]=this.parentDimensions;this.setDims(Tn*ln,Fn*fn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Hn),window.addEventListener("blur",Hn)},q_=function(nn,gn){const[wn,rn]=this.parentDimensions,Xt=this.x,Yt=this.y,tn=this.width,dn=this.height,ln=an.MIN_SIZE/wn,fn=an.MIN_SIZE/rn,Sn=dr=>Math.round(dr*1e4)/1e4,Mn=Ut(this,Ht,CE).call(this,this.rotation),Hn=(dr,gr)=>[Mn[0]*dr+Mn[2]*gr,Mn[1]*dr+Mn[3]*gr],Un=Ut(this,Ht,CE).call(this,360-this.rotation),Wn=(dr,gr)=>[Un[0]*dr+Un[2]*gr,Un[1]*dr+Un[3]*gr];let Xn,Kn,Tn=!1,Fn=!1;switch(nn){case"topLeft":Tn=!0,Xn=(dr,gr)=>[0,0],Kn=(dr,gr)=>[dr,gr];break;case"topMiddle":Xn=(dr,gr)=>[dr/2,0],Kn=(dr,gr)=>[dr/2,gr];break;case"topRight":Tn=!0,Xn=(dr,gr)=>[dr,0],Kn=(dr,gr)=>[0,gr];break;case"middleRight":Fn=!0,Xn=(dr,gr)=>[dr,gr/2],Kn=(dr,gr)=>[0,gr/2];break;case"bottomRight":Tn=!0,Xn=(dr,gr)=>[dr,gr],Kn=(dr,gr)=>[0,0];break;case"bottomMiddle":Xn=(dr,gr)=>[dr/2,gr],Kn=(dr,gr)=>[dr/2,0];break;case"bottomLeft":Tn=!0,Xn=(dr,gr)=>[0,gr],Kn=(dr,gr)=>[dr,0];break;case"middleLeft":Fn=!0,Xn=(dr,gr)=>[0,gr/2],Kn=(dr,gr)=>[dr,gr/2];break}const sn=Xn(tn,dn),mn=Kn(tn,dn);let Pn=Hn(...mn);const Nn=Sn(Xt+Pn[0]),Vn=Sn(Yt+Pn[1]);let Qn=1,qn=1,[kn,sr]=this.screenToPageTranslation(gn.movementX,gn.movementY);if([kn,sr]=Wn(kn/wn,sr/rn),Tn){const dr=Math.hypot(tn,dn);Qn=qn=Math.max(Math.min(Math.hypot(mn[0]-sn[0]-kn,mn[1]-sn[1]-sr)/dr,1/tn,1/dn),ln/tn,fn/dn)}else Fn?Qn=Math.max(ln,Math.min(1,Math.abs(mn[0]-sn[0]-kn)))/tn:qn=Math.max(fn,Math.min(1,Math.abs(mn[1]-sn[1]-sr)))/dn;const rr=Sn(tn*Qn),$r=Sn(dn*qn);Pn=Hn(...Kn(rr,$r));const Pr=Nn-Pn[0],zr=Vn-Pn[1];this.width=rr,this.height=$r,this.x=Pr,this.y=zr,this.setDims(wn*rr,rn*$r),this.fixAndSetPosition()},RE=async function(){var wn;const nn=wt(this,St);if(!nn)return;if(!wt(this,At)&&!wt(this,Ct)){nn.classList.remove("done"),(wn=wt(this,Rt))==null||wn.remove();return}an._l10nPromise.get("editor_alt_text_edit_button_label").then(rn=>{nn.setAttribute("aria-label",rn)});let gn=wt(this,Rt);if(!gn){Vt(this,Rt,gn=document.createElement("span")),gn.className="tooltip",gn.setAttribute("role","tooltip");const rn=gn.id=`alt-text-tooltip-${this.id}`;nn.setAttribute("aria-describedby",rn);const Xt=100;nn.addEventListener("mouseenter",()=>{Vt(this,Pt,setTimeout(()=>{Vt(this,Pt,null),wt(this,Rt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Xt))}),nn.addEventListener("mouseleave",()=>{var Yt;clearTimeout(wt(this,Pt)),Vt(this,Pt,null),(Yt=wt(this,Rt))==null||Yt.classList.remove("show")})}nn.classList.add("done"),gn.innerText=wt(this,Ct)?await an._l10nPromise.get("editor_alt_text_decorative_tooltip"):wt(this,At),gn.parentNode||nn.append(gn)},K_=function(nn){if(!this._isDraggable)return;const gn=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let wn,rn;gn&&(wn={passive:!0,capture:!0},rn=Yt=>{const[tn,dn]=this.screenToPageTranslation(Yt.movementX,Yt.movementY);this._uiManager.dragSelectedEditors(tn,dn)},window.addEventListener("pointermove",rn,wn));const Xt=()=>{if(window.removeEventListener("pointerup",Xt),window.removeEventListener("blur",Xt),gn&&window.removeEventListener("pointermove",rn,wn),Vt(this,Ft,!1),!this._uiManager.endDragSession()){const{isMac:Yt}=xt.FeatureTest.platform;nn.ctrlKey&&!Yt||nn.shiftKey||nn.metaKey&&Yt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Xt),window.addEventListener("blur",Xt)},qt(an,Kt),Sr(an,"_borderLineWidth",-1),Sr(an,"_colorManager",new vt.ColorManager),Sr(an,"_zIndex",1),Sr(an,"SMALL_EDITOR_SIZE",0);let Et=an;$.AnnotationEditor=Et;class _t extends Et{constructor(nn){super(nn),this.annotationElementId=nn.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(_e,$,ht)=>{var kt,Mt,Lt,Ot,Ft,TE,Bt,Nt,Ht,jt,zt,Y_,Wt,Qt,on,En,un,xn,an,hn,nn,gn,wn,rn,Xt,Yt,tn,dn,ln,fn,Sn,Mn,Hn,Un,Wn,Xn,Kn,Tn,Fn,sn,mn,Pn,Nn,Vn,Qn,qn,kn,Z_,PE,kE,Oy,ME,FE,Lo,g0,Q_,J_,LE,m0,DE;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=bt,$.opacityToHex=Et;var vt=ht(1),xt=ht(6);function bt(kr,vn,Gn){for(const ar of Gn)vn.addEventListener(ar,kr[ar].bind(kr))}function Et(kr){return Math.round(Math.min(255,Math.max(1,255*kr))).toString(16).padStart(2,"0")}class _t{constructor(){qt(this,kt,0)}getId(){return`${vt.AnnotationEditorPrefix}${eo(this,kt)._++}`}}kt=new WeakMap;const $t=class $t{constructor(){qt(this,Ft);qt(this,Mt,(0,vt.getUuid)());qt(this,Lt,0);qt(this,Ot,null)}static get _isSVGFittingCanvas(){const vn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',ar=new OffscreenCanvas(1,3).getContext("2d"),yr=new Image;yr.src=vn;const Er=yr.decode().then(()=>(ar.drawImage(yr,0,0,1,1,0,0,1,3),new Uint32Array(ar.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,vt.shadow)(this,"_isSVGFittingCanvas",Er)}async getFromFile(vn){const{lastModified:Gn,name:ar,size:yr,type:Er}=vn;return Ut(this,Ft,TE).call(this,`${Gn}_${ar}_${yr}_${Er}`,vn)}async getFromUrl(vn){return Ut(this,Ft,TE).call(this,vn,vn)}async getFromId(vn){wt(this,Ot)||Vt(this,Ot,new Map);const Gn=wt(this,Ot).get(vn);return Gn?Gn.bitmap?(Gn.refCounter+=1,Gn):Gn.file?this.getFromFile(Gn.file):this.getFromUrl(Gn.url):null}getSvgUrl(vn){const Gn=wt(this,Ot).get(vn);return Gn!=null&&Gn.isSvg?Gn.svgUrl:null}deleteId(vn){wt(this,Ot)||Vt(this,Ot,new Map);const Gn=wt(this,Ot).get(vn);Gn&&(Gn.refCounter-=1,Gn.refCounter===0&&(Gn.bitmap=null))}isValidId(vn){return vn.startsWith(`image_${wt(this,Mt)}_`)}};Mt=new WeakMap,Lt=new WeakMap,Ot=new WeakMap,Ft=new WeakSet,TE=async function(vn,Gn){wt(this,Ot)||Vt(this,Ot,new Map);let ar=wt(this,Ot).get(vn);if(ar===null)return null;if(ar!=null&&ar.bitmap)return ar.refCounter+=1,ar;try{ar||(ar={bitmap:null,id:`image_${wt(this,Mt)}_${eo(this,Lt)._++}`,refCounter:0,isSvg:!1});let yr;if(typeof Gn=="string"){ar.url=Gn;const Er=await fetch(Gn);if(!Er.ok)throw new Error(Er.statusText);yr=await Er.blob()}else yr=ar.file=Gn;if(yr.type==="image/svg+xml"){const Er=$t._isSVGFittingCanvas,hr=new FileReader,pn=new Image,cn=new Promise((Cn,Bn)=>{pn.onload=()=>{ar.bitmap=pn,ar.isSvg=!0,Cn()},hr.onload=async()=>{const zn=ar.svgUrl=hr.result;pn.src=await Er?`${zn}#svgView(preserveAspectRatio(none))`:zn},pn.onerror=hr.onerror=Bn});hr.readAsDataURL(yr),await cn}else ar.bitmap=await createImageBitmap(yr);ar.refCounter=1}catch(yr){console.error(yr),ar=null}return wt(this,Ot).set(vn,ar),ar&&wt(this,Ot).set(ar.id,ar),ar};let At=$t;class Ct{constructor(vn=128){qt(this,Bt,[]);qt(this,Nt,!1);qt(this,Ht);qt(this,jt,-1);Vt(this,Ht,vn)}add({cmd:vn,undo:Gn,mustExec:ar,type:yr=NaN,overwriteIfSameType:Er=!1,keepUndo:hr=!1}){if(ar&&vn(),wt(this,Nt))return;const pn={cmd:vn,undo:Gn,type:yr};if(wt(this,jt)===-1){wt(this,Bt).length>0&&(wt(this,Bt).length=0),Vt(this,jt,0),wt(this,Bt).push(pn);return}if(Er&&wt(this,Bt)[wt(this,jt)].type===yr){hr&&(pn.undo=wt(this,Bt)[wt(this,jt)].undo),wt(this,Bt)[wt(this,jt)]=pn;return}const cn=wt(this,jt)+1;cn===wt(this,Ht)?wt(this,Bt).splice(0,1):(Vt(this,jt,cn),cn<wt(this,Bt).length&&wt(this,Bt).splice(cn)),wt(this,Bt).push(pn)}undo(){wt(this,jt)!==-1&&(Vt(this,Nt,!0),wt(this,Bt)[wt(this,jt)].undo(),Vt(this,Nt,!1),Vt(this,jt,wt(this,jt)-1))}redo(){wt(this,jt)<wt(this,Bt).length-1&&(Vt(this,jt,wt(this,jt)+1),Vt(this,Nt,!0),wt(this,Bt)[wt(this,jt)].cmd(),Vt(this,Nt,!1))}hasSomethingToUndo(){return wt(this,jt)!==-1}hasSomethingToRedo(){return wt(this,jt)<wt(this,Bt).length-1}destroy(){Vt(this,Bt,null)}}Bt=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,jt=new WeakMap,$.CommandManager=Ct;class St{constructor(vn){qt(this,zt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Gn}=vt.FeatureTest.platform;for(const[ar,yr,Er={}]of vn)for(const hr of ar){const pn=hr.startsWith("mac+");Gn&&pn?(this.callbacks.set(hr.slice(4),{callback:yr,options:Er}),this.allKeys.add(hr.split("+").at(-1))):!Gn&&!pn&&(this.callbacks.set(hr,{callback:yr,options:Er}),this.allKeys.add(hr.split("+").at(-1)))}}exec(vn,Gn){if(!this.allKeys.has(Gn.key))return;const ar=this.callbacks.get(Ut(this,zt,Y_).call(this,Gn));if(!ar)return;const{callback:yr,options:{bubbles:Er=!1,args:hr=[],checker:pn=null}}=ar;pn&&!pn(vn,Gn)||(yr.bind(vn,...hr)(),Er||(Gn.stopPropagation(),Gn.preventDefault()))}}zt=new WeakSet,Y_=function(vn){vn.altKey&&this.buffer.push("alt"),vn.ctrlKey&&this.buffer.push("ctrl"),vn.metaKey&&this.buffer.push("meta"),vn.shiftKey&&this.buffer.push("shift"),this.buffer.push(vn.key);const Gn=this.buffer.join("+");return this.buffer.length=0,Gn},$.KeyboardManager=St;const en=class en{get _colors(){const vn=new Map([["CanvasText",null],["Canvas",null]]);return(0,xt.getColorValues)(vn),(0,vt.shadow)(this,"_colors",vn)}convert(vn){const Gn=(0,xt.getRGB)(vn);if(!window.matchMedia("(forced-colors: active)").matches)return Gn;for(const[ar,yr]of this._colors)if(yr.every((Er,hr)=>Er===Gn[hr]))return en._colorsMapping.get(ar);return Gn}getHexCode(vn){const Gn=this._colors.get(vn);return Gn?vt.Util.makeHexColor(...Gn):vn}};Sr(en,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Rt=en;$.ColorManager=Rt;const vr=class vr{constructor(vn,Gn,ar,yr,Er,hr){qt(this,kn);qt(this,Wt,null);qt(this,Qt,new Map);qt(this,on,new Map);qt(this,En,null);qt(this,un,null);qt(this,xn,new Ct);qt(this,an,0);qt(this,hn,new Set);qt(this,nn,null);qt(this,gn,null);qt(this,wn,new Set);qt(this,rn,null);qt(this,Xt,new _t);qt(this,Yt,!1);qt(this,tn,!1);qt(this,dn,null);qt(this,ln,vt.AnnotationEditorType.NONE);qt(this,fn,new Set);qt(this,Sn,null);qt(this,Mn,this.blur.bind(this));qt(this,Hn,this.focus.bind(this));qt(this,Un,this.copy.bind(this));qt(this,Wn,this.cut.bind(this));qt(this,Xn,this.paste.bind(this));qt(this,Kn,this.keydown.bind(this));qt(this,Tn,this.onEditingAction.bind(this));qt(this,Fn,this.onPageChanging.bind(this));qt(this,sn,this.onScaleChanging.bind(this));qt(this,mn,this.onRotationChanging.bind(this));qt(this,Pn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});qt(this,Nn,[0,0]);qt(this,Vn,null);qt(this,Qn,null);qt(this,qn,null);Vt(this,Qn,vn),Vt(this,qn,Gn),Vt(this,En,ar),this._eventBus=yr,this._eventBus._on("editingaction",wt(this,Tn)),this._eventBus._on("pagechanging",wt(this,Fn)),this._eventBus._on("scalechanging",wt(this,sn)),this._eventBus._on("rotationchanging",wt(this,mn)),Vt(this,un,Er.annotationStorage),Vt(this,rn,Er.filterFactory),Vt(this,Sn,hr),this.viewParameters={realScale:xt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const vn=vr.prototype,Gn=Er=>{const{activeElement:hr}=document;return hr&&wt(Er,Qn).contains(hr)&&Er.hasSomethingToControl()},ar=this.TRANSLATE_SMALL,yr=this.TRANSLATE_BIG;return(0,vt.shadow)(this,"_keyboardManager",new St([[["ctrl+a","mac+meta+a"],vn.selectAll],[["ctrl+z","mac+meta+z"],vn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],vn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],vn.delete],[["Escape","mac+Escape"],vn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],vn.translateSelectedEditors,{args:[-ar,0],checker:Gn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],vn.translateSelectedEditors,{args:[-yr,0],checker:Gn}],[["ArrowRight","mac+ArrowRight"],vn.translateSelectedEditors,{args:[ar,0],checker:Gn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],vn.translateSelectedEditors,{args:[yr,0],checker:Gn}],[["ArrowUp","mac+ArrowUp"],vn.translateSelectedEditors,{args:[0,-ar],checker:Gn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],vn.translateSelectedEditors,{args:[0,-yr],checker:Gn}],[["ArrowDown","mac+ArrowDown"],vn.translateSelectedEditors,{args:[0,ar],checker:Gn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],vn.translateSelectedEditors,{args:[0,yr],checker:Gn}]]))}destroy(){Ut(this,kn,Oy).call(this),Ut(this,kn,PE).call(this),this._eventBus._off("editingaction",wt(this,Tn)),this._eventBus._off("pagechanging",wt(this,Fn)),this._eventBus._off("scalechanging",wt(this,sn)),this._eventBus._off("rotationchanging",wt(this,mn));for(const vn of wt(this,on).values())vn.destroy();wt(this,on).clear(),wt(this,Qt).clear(),wt(this,wn).clear(),Vt(this,Wt,null),wt(this,fn).clear(),wt(this,xn).destroy(),wt(this,En).destroy()}get hcmFilter(){return(0,vt.shadow)(this,"hcmFilter",wt(this,Sn)?wt(this,rn).addHCMFilter(wt(this,Sn).foreground,wt(this,Sn).background):"none")}get direction(){return(0,vt.shadow)(this,"direction",getComputedStyle(wt(this,Qn)).direction)}editAltText(vn){var Gn;(Gn=wt(this,En))==null||Gn.editAltText(this,vn)}onPageChanging({pageNumber:vn}){Vt(this,an,vn-1)}focusMainContainer(){wt(this,Qn).focus()}findParent(vn,Gn){for(const ar of wt(this,on).values()){const{x:yr,y:Er,width:hr,height:pn}=ar.div.getBoundingClientRect();if(vn>=yr&&vn<=yr+hr&&Gn>=Er&&Gn<=Er+pn)return ar}return null}disableUserSelect(vn=!1){wt(this,qn).classList.toggle("noUserSelect",vn)}addShouldRescale(vn){wt(this,wn).add(vn)}removeShouldRescale(vn){wt(this,wn).delete(vn)}onScaleChanging({scale:vn}){this.commitOrRemove(),this.viewParameters.realScale=vn*xt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Gn of wt(this,wn))Gn.onScaleChanging()}onRotationChanging({pagesRotation:vn}){this.commitOrRemove(),this.viewParameters.rotation=vn}addToAnnotationStorage(vn){!vn.isEmpty()&&wt(this,un)&&!wt(this,un).has(vn.id)&&wt(this,un).setValue(vn.id,vn)}blur(){if(!this.hasSelection)return;const{activeElement:vn}=document;for(const Gn of wt(this,fn))if(Gn.div.contains(vn)){Vt(this,dn,[Gn,vn]),Gn._focusEventsAllowed=!1;break}}focus(){if(!wt(this,dn))return;const[vn,Gn]=wt(this,dn);Vt(this,dn,null),Gn.addEventListener("focusin",()=>{vn._focusEventsAllowed=!0},{once:!0}),Gn.focus()}addEditListeners(){Ut(this,kn,kE).call(this),Ut(this,kn,ME).call(this)}removeEditListeners(){Ut(this,kn,Oy).call(this),Ut(this,kn,FE).call(this)}copy(vn){var ar;if(vn.preventDefault(),(ar=wt(this,Wt))==null||ar.commitOrRemove(),!this.hasSelection)return;const Gn=[];for(const yr of wt(this,fn)){const Er=yr.serialize(!0);Er&&Gn.push(Er)}Gn.length!==0&&vn.clipboardData.setData("application/pdfjs",JSON.stringify(Gn))}cut(vn){this.copy(vn),this.delete()}paste(vn){vn.preventDefault();const{clipboardData:Gn}=vn;for(const Er of Gn.items)for(const hr of wt(this,gn))if(hr.isHandlingMimeForPasting(Er.type)){hr.paste(Er,this.currentLayer);return}let ar=Gn.getData("application/pdfjs");if(!ar)return;try{ar=JSON.parse(ar)}catch(Er){(0,vt.warn)(`paste: "${Er.message}".`);return}if(!Array.isArray(ar))return;this.unselectAll();const yr=this.currentLayer;try{const Er=[];for(const cn of ar){const Cn=yr.deserialize(cn);if(!Cn)return;Er.push(Cn)}const hr=()=>{for(const cn of Er)Ut(this,kn,LE).call(this,cn);Ut(this,kn,DE).call(this,Er)},pn=()=>{for(const cn of Er)cn.remove()};this.addCommands({cmd:hr,undo:pn,mustExec:!0})}catch(Er){(0,vt.warn)(`paste: "${Er.message}".`)}}keydown(vn){var Gn;(Gn=this.getActive())!=null&&Gn.shouldGetKeyboardEvents()||vr._keyboardManager.exec(this,vn)}onEditingAction(vn){["undo","redo","delete","selectAll"].includes(vn.name)&&this[vn.name]()}setEditingState(vn){vn?(Ut(this,kn,Z_).call(this),Ut(this,kn,kE).call(this),Ut(this,kn,ME).call(this),Ut(this,kn,Lo).call(this,{isEditing:wt(this,ln)!==vt.AnnotationEditorType.NONE,isEmpty:Ut(this,kn,m0).call(this),hasSomethingToUndo:wt(this,xn).hasSomethingToUndo(),hasSomethingToRedo:wt(this,xn).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ut(this,kn,PE).call(this),Ut(this,kn,Oy).call(this),Ut(this,kn,FE).call(this),Ut(this,kn,Lo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(vn){if(!wt(this,gn)){Vt(this,gn,vn);for(const Gn of wt(this,gn))Ut(this,kn,g0).call(this,Gn.defaultPropertiesToUpdate)}}getId(){return wt(this,Xt).getId()}get currentLayer(){return wt(this,on).get(wt(this,an))}getLayer(vn){return wt(this,on).get(vn)}get currentPageIndex(){return wt(this,an)}addLayer(vn){wt(this,on).set(vn.pageIndex,vn),wt(this,Yt)?vn.enable():vn.disable()}removeLayer(vn){wt(this,on).delete(vn.pageIndex)}updateMode(vn,Gn=null){if(wt(this,ln)!==vn){if(Vt(this,ln,vn),vn===vt.AnnotationEditorType.NONE){this.setEditingState(!1),Ut(this,kn,J_).call(this);return}this.setEditingState(!0),Ut(this,kn,Q_).call(this),this.unselectAll();for(const ar of wt(this,on).values())ar.updateMode(vn);if(Gn){for(const ar of wt(this,Qt).values())if(ar.annotationElementId===Gn){this.setSelected(ar),ar.enterInEditMode();break}}}}updateToolbar(vn){vn!==wt(this,ln)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:vn})}updateParams(vn,Gn){if(wt(this,gn)){if(vn===vt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(vn);return}for(const ar of wt(this,fn))ar.updateParams(vn,Gn);for(const ar of wt(this,gn))ar.updateDefaultParams(vn,Gn)}}enableWaiting(vn=!1){if(wt(this,tn)!==vn){Vt(this,tn,vn);for(const Gn of wt(this,on).values())vn?Gn.disableClick():Gn.enableClick(),Gn.div.classList.toggle("waiting",vn)}}getEditors(vn){const Gn=[];for(const ar of wt(this,Qt).values())ar.pageIndex===vn&&Gn.push(ar);return Gn}getEditor(vn){return wt(this,Qt).get(vn)}addEditor(vn){wt(this,Qt).set(vn.id,vn)}removeEditor(vn){var Gn;wt(this,Qt).delete(vn.id),this.unselect(vn),(!vn.annotationElementId||!wt(this,hn).has(vn.annotationElementId))&&((Gn=wt(this,un))==null||Gn.remove(vn.id))}addDeletedAnnotationElement(vn){wt(this,hn).add(vn.annotationElementId),vn.deleted=!0}isDeletedAnnotationElement(vn){return wt(this,hn).has(vn)}removeDeletedAnnotationElement(vn){wt(this,hn).delete(vn.annotationElementId),vn.deleted=!1}setActiveEditor(vn){wt(this,Wt)!==vn&&(Vt(this,Wt,vn),vn&&Ut(this,kn,g0).call(this,vn.propertiesToUpdate))}toggleSelected(vn){if(wt(this,fn).has(vn)){wt(this,fn).delete(vn),vn.unselect(),Ut(this,kn,Lo).call(this,{hasSelectedEditor:this.hasSelection});return}wt(this,fn).add(vn),vn.select(),Ut(this,kn,g0).call(this,vn.propertiesToUpdate),Ut(this,kn,Lo).call(this,{hasSelectedEditor:!0})}setSelected(vn){for(const Gn of wt(this,fn))Gn!==vn&&Gn.unselect();wt(this,fn).clear(),wt(this,fn).add(vn),vn.select(),Ut(this,kn,g0).call(this,vn.propertiesToUpdate),Ut(this,kn,Lo).call(this,{hasSelectedEditor:!0})}isSelected(vn){return wt(this,fn).has(vn)}unselect(vn){vn.unselect(),wt(this,fn).delete(vn),Ut(this,kn,Lo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return wt(this,fn).size!==0}undo(){wt(this,xn).undo(),Ut(this,kn,Lo).call(this,{hasSomethingToUndo:wt(this,xn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ut(this,kn,m0).call(this)})}redo(){wt(this,xn).redo(),Ut(this,kn,Lo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:wt(this,xn).hasSomethingToRedo(),isEmpty:Ut(this,kn,m0).call(this)})}addCommands(vn){wt(this,xn).add(vn),Ut(this,kn,Lo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ut(this,kn,m0).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const vn=[...wt(this,fn)],Gn=()=>{for(const yr of vn)yr.remove()},ar=()=>{for(const yr of vn)Ut(this,kn,LE).call(this,yr)};this.addCommands({cmd:Gn,undo:ar,mustExec:!0})}commitOrRemove(){var vn;(vn=wt(this,Wt))==null||vn.commitOrRemove()}hasSomethingToControl(){return wt(this,Wt)||this.hasSelection}selectAll(){for(const vn of wt(this,fn))vn.commit();Ut(this,kn,DE).call(this,wt(this,Qt).values())}unselectAll(){if(wt(this,Wt)){wt(this,Wt).commitOrRemove();return}if(this.hasSelection){for(const vn of wt(this,fn))vn.unselect();wt(this,fn).clear(),Ut(this,kn,Lo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(vn,Gn,ar=!1){if(ar||this.commitOrRemove(),!this.hasSelection)return;wt(this,Nn)[0]+=vn,wt(this,Nn)[1]+=Gn;const[yr,Er]=wt(this,Nn),hr=[...wt(this,fn)],pn=1e3;wt(this,Vn)&&clearTimeout(wt(this,Vn)),Vt(this,Vn,setTimeout(()=>{Vt(this,Vn,null),wt(this,Nn)[0]=wt(this,Nn)[1]=0,this.addCommands({cmd:()=>{for(const cn of hr)wt(this,Qt).has(cn.id)&&cn.translateInPage(yr,Er)},undo:()=>{for(const cn of hr)wt(this,Qt).has(cn.id)&&cn.translateInPage(-yr,-Er)},mustExec:!1})},pn));for(const cn of hr)cn.translateInPage(vn,Gn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Vt(this,nn,new Map);for(const vn of wt(this,fn))wt(this,nn).set(vn,{savedX:vn.x,savedY:vn.y,savedPageIndex:vn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!wt(this,nn))return!1;this.disableUserSelect(!1);const vn=wt(this,nn);Vt(this,nn,null);let Gn=!1;for(const[{x:yr,y:Er,pageIndex:hr},pn]of vn)pn.newX=yr,pn.newY=Er,pn.newPageIndex=hr,Gn||(Gn=yr!==pn.savedX||Er!==pn.savedY||hr!==pn.savedPageIndex);if(!Gn)return!1;const ar=(yr,Er,hr,pn)=>{if(wt(this,Qt).has(yr.id)){const cn=wt(this,on).get(pn);cn?yr._setParentAndPosition(cn,Er,hr):(yr.pageIndex=pn,yr.x=Er,yr.y=hr)}};return this.addCommands({cmd:()=>{for(const[yr,{newX:Er,newY:hr,newPageIndex:pn}]of vn)ar(yr,Er,hr,pn)},undo:()=>{for(const[yr,{savedX:Er,savedY:hr,savedPageIndex:pn}]of vn)ar(yr,Er,hr,pn)},mustExec:!0}),!0}dragSelectedEditors(vn,Gn){if(wt(this,nn))for(const ar of wt(this,nn).keys())ar.drag(vn,Gn)}rebuild(vn){if(vn.parent===null){const Gn=this.getLayer(vn.pageIndex);Gn?(Gn.changeParent(vn),Gn.addOrRebuild(vn)):(this.addEditor(vn),this.addToAnnotationStorage(vn),vn.rebuild())}else vn.parent.addOrRebuild(vn)}isActive(vn){return wt(this,Wt)===vn}getActive(){return wt(this,Wt)}getMode(){return wt(this,ln)}get imageManager(){return(0,vt.shadow)(this,"imageManager",new At)}};Wt=new WeakMap,Qt=new WeakMap,on=new WeakMap,En=new WeakMap,un=new WeakMap,xn=new WeakMap,an=new WeakMap,hn=new WeakMap,nn=new WeakMap,gn=new WeakMap,wn=new WeakMap,rn=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,tn=new WeakMap,dn=new WeakMap,ln=new WeakMap,fn=new WeakMap,Sn=new WeakMap,Mn=new WeakMap,Hn=new WeakMap,Un=new WeakMap,Wn=new WeakMap,Xn=new WeakMap,Kn=new WeakMap,Tn=new WeakMap,Fn=new WeakMap,sn=new WeakMap,mn=new WeakMap,Pn=new WeakMap,Nn=new WeakMap,Vn=new WeakMap,Qn=new WeakMap,qn=new WeakMap,kn=new WeakSet,Z_=function(){window.addEventListener("focus",wt(this,Hn)),window.addEventListener("blur",wt(this,Mn))},PE=function(){window.removeEventListener("focus",wt(this,Hn)),window.removeEventListener("blur",wt(this,Mn))},kE=function(){window.addEventListener("keydown",wt(this,Kn),{capture:!0})},Oy=function(){window.removeEventListener("keydown",wt(this,Kn),{capture:!0})},ME=function(){document.addEventListener("copy",wt(this,Un)),document.addEventListener("cut",wt(this,Wn)),document.addEventListener("paste",wt(this,Xn))},FE=function(){document.removeEventListener("copy",wt(this,Un)),document.removeEventListener("cut",wt(this,Wn)),document.removeEventListener("paste",wt(this,Xn))},Lo=function(vn){Object.entries(vn).some(([ar,yr])=>wt(this,Pn)[ar]!==yr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(wt(this,Pn),vn)})},g0=function(vn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:vn})},Q_=function(){if(!wt(this,Yt)){Vt(this,Yt,!0);for(const vn of wt(this,on).values())vn.enable()}},J_=function(){if(this.unselectAll(),wt(this,Yt)){Vt(this,Yt,!1);for(const vn of wt(this,on).values())vn.disable()}},LE=function(vn){const Gn=wt(this,on).get(vn.pageIndex);Gn?Gn.addOrRebuild(vn):this.addEditor(vn)},m0=function(){if(wt(this,Qt).size===0)return!0;if(wt(this,Qt).size===1)for(const vn of wt(this,Qt).values())return vn.isEmpty();return!1},DE=function(vn){wt(this,fn).clear();for(const Gn of vn)Gn.isEmpty()||(wt(this,fn).add(Gn),Gn.select());Ut(this,kn,Lo).call(this,{hasSelectedEditor:!0})},Sr(vr,"TRANSLATE_SMALL",1),Sr(vr,"TRANSLATE_BIG",10);let Pt=vr;$.AnnotationEditorUIManager=Pt},(_e,$,ht)=>{var an,hn,nn,gn,wn,rn,Xt,Yt,tn,dn,ln,fn,nm,rm,IE,$y,Ny,v0,y0;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=jt,$.getColorValues=Qt,$.getCurrentTransform=on,$.getCurrentTransformInverse=En,$.getFilenameFromUrl=Ft,$.getPdfFilenameFromUrl=Dt,$.getRGB=Wt,$.getXfaPageViewport=en,$.isDataScheme=Lt,$.isPdfFile=Ot,$.isValidFetchUrl=Bt,$.loadScript=Ht,$.noContextMenu=Nt,$.setLayerDimensions=un;var vt=ht(7),xt=ht(1);const bt="http://www.w3.org/2000/svg",xn=class xn{};Sr(xn,"CSS",96),Sr(xn,"PDF",72),Sr(xn,"PDF_TO_CSS_UNITS",xn.CSS/xn.PDF);let Et=xn;$.PixelsPerInch=Et;class _t extends vt.BaseFilterFactory{constructor({docId:sn,ownerDocument:mn=globalThis.document}={}){super();qt(this,fn);qt(this,an);qt(this,hn);qt(this,nn);qt(this,gn);qt(this,wn);qt(this,rn);qt(this,Xt);qt(this,Yt);qt(this,tn);qt(this,dn);qt(this,ln,0);Vt(this,nn,sn),Vt(this,gn,mn)}addFilter(sn){if(!sn)return"none";let mn=wt(this,fn,nm).get(sn);if(mn)return mn;let Pn,Nn,Vn,Qn;if(sn.length===1){const rr=sn[0],$r=new Array(256);for(let Pr=0;Pr<256;Pr++)$r[Pr]=rr[Pr]/255;Qn=Pn=Nn=Vn=$r.join(",")}else{const[rr,$r,Pr]=sn,zr=new Array(256),dr=new Array(256),gr=new Array(256);for(let Wr=0;Wr<256;Wr++)zr[Wr]=rr[Wr]/255,dr[Wr]=$r[Wr]/255,gr[Wr]=Pr[Wr]/255;Pn=zr.join(","),Nn=dr.join(","),Vn=gr.join(","),Qn=`${Pn}${Nn}${Vn}`}if(mn=wt(this,fn,nm).get(Qn),mn)return wt(this,fn,nm).set(sn,mn),mn;const qn=`g_${wt(this,nn)}_transfer_map_${eo(this,ln)._++}`,kn=`url(#${qn})`;wt(this,fn,nm).set(sn,kn),wt(this,fn,nm).set(Qn,kn);const sr=Ut(this,fn,$y).call(this,qn);return Ut(this,fn,v0).call(this,Pn,Nn,Vn,sr),kn}addHCMFilter(sn,mn){var $r;const Pn=`${sn}-${mn}`;if(wt(this,rn)===Pn)return wt(this,Xt);if(Vt(this,rn,Pn),Vt(this,Xt,"none"),($r=wt(this,wn))==null||$r.remove(),!sn||!mn)return wt(this,Xt);const Nn=Ut(this,fn,y0).call(this,sn);sn=xt.Util.makeHexColor(...Nn);const Vn=Ut(this,fn,y0).call(this,mn);if(mn=xt.Util.makeHexColor(...Vn),wt(this,fn,rm).style.color="",sn==="#000000"&&mn==="#ffffff"||sn===mn)return wt(this,Xt);const Qn=new Array(256);for(let Pr=0;Pr<=255;Pr++){const zr=Pr/255;Qn[Pr]=zr<=.03928?zr/12.92:((zr+.055)/1.055)**2.4}const qn=Qn.join(","),kn=`g_${wt(this,nn)}_hcm_filter`,sr=Vt(this,Yt,Ut(this,fn,$y).call(this,kn));Ut(this,fn,v0).call(this,qn,qn,qn,sr),Ut(this,fn,IE).call(this,sr);const rr=(Pr,zr)=>{const dr=Nn[Pr]/255,gr=Vn[Pr]/255,Wr=new Array(zr+1);for(let rs=0;rs<=zr;rs++)Wr[rs]=dr+rs/zr*(gr-dr);return Wr.join(",")};return Ut(this,fn,v0).call(this,rr(0,5),rr(1,5),rr(2,5),sr),Vt(this,Xt,`url(#${kn})`),wt(this,Xt)}addHighlightHCMFilter(sn,mn,Pn,Nn){var gr;const Vn=`${sn}-${mn}-${Pn}-${Nn}`;if(wt(this,tn)===Vn)return wt(this,dn);if(Vt(this,tn,Vn),Vt(this,dn,"none"),(gr=wt(this,Yt))==null||gr.remove(),!sn||!mn)return wt(this,dn);const[Qn,qn]=[sn,mn].map(Ut(this,fn,y0).bind(this));let kn=Math.round(.2126*Qn[0]+.7152*Qn[1]+.0722*Qn[2]),sr=Math.round(.2126*qn[0]+.7152*qn[1]+.0722*qn[2]),[rr,$r]=[Pn,Nn].map(Ut(this,fn,y0).bind(this));sr<kn&&([kn,sr,rr,$r]=[sr,kn,$r,rr]),wt(this,fn,rm).style.color="";const Pr=(Wr,rs,Yn)=>{const Ln=new Array(256),In=(sr-kn)/Yn,fr=Wr/255,vr=(rs-Wr)/(255*Yn);let kr=0;for(let vn=0;vn<=Yn;vn++){const Gn=Math.round(kn+vn*In),ar=fr+vn*vr;for(let yr=kr;yr<=Gn;yr++)Ln[yr]=ar;kr=Gn+1}for(let vn=kr;vn<256;vn++)Ln[vn]=Ln[kr-1];return Ln.join(",")},zr=`g_${wt(this,nn)}_hcm_highlight_filter`,dr=Vt(this,Yt,Ut(this,fn,$y).call(this,zr));return Ut(this,fn,IE).call(this,dr),Ut(this,fn,v0).call(this,Pr(rr[0],$r[0],5),Pr(rr[1],$r[1],5),Pr(rr[2],$r[2],5),dr),Vt(this,dn,`url(#${zr})`),wt(this,dn)}destroy(sn=!1){sn&&(wt(this,Xt)||wt(this,dn))||(wt(this,hn)&&(wt(this,hn).parentNode.parentNode.remove(),Vt(this,hn,null)),wt(this,an)&&(wt(this,an).clear(),Vt(this,an,null)),Vt(this,ln,0))}}an=new WeakMap,hn=new WeakMap,nn=new WeakMap,gn=new WeakMap,wn=new WeakMap,rn=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,tn=new WeakMap,dn=new WeakMap,ln=new WeakMap,fn=new WeakSet,nm=function(){return wt(this,an)||Vt(this,an,new Map)},rm=function(){if(!wt(this,hn)){const sn=wt(this,gn).createElement("div"),{style:mn}=sn;mn.visibility="hidden",mn.contain="strict",mn.width=mn.height=0,mn.position="absolute",mn.top=mn.left=0,mn.zIndex=-1;const Pn=wt(this,gn).createElementNS(bt,"svg");Pn.setAttribute("width",0),Pn.setAttribute("height",0),Vt(this,hn,wt(this,gn).createElementNS(bt,"defs")),sn.append(Pn),Pn.append(wt(this,hn)),wt(this,gn).body.append(sn)}return wt(this,hn)},IE=function(sn){const mn=wt(this,gn).createElementNS(bt,"feColorMatrix");mn.setAttribute("type","matrix"),mn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),sn.append(mn)},$y=function(sn){const mn=wt(this,gn).createElementNS(bt,"filter");return mn.setAttribute("color-interpolation-filters","sRGB"),mn.setAttribute("id",sn),wt(this,fn,rm).append(mn),mn},Ny=function(sn,mn,Pn){const Nn=wt(this,gn).createElementNS(bt,mn);Nn.setAttribute("type","discrete"),Nn.setAttribute("tableValues",Pn),sn.append(Nn)},v0=function(sn,mn,Pn,Nn){const Vn=wt(this,gn).createElementNS(bt,"feComponentTransfer");Nn.append(Vn),Ut(this,fn,Ny).call(this,Vn,"feFuncR",sn),Ut(this,fn,Ny).call(this,Vn,"feFuncG",mn),Ut(this,fn,Ny).call(this,Vn,"feFuncB",Pn)},y0=function(sn){return wt(this,fn,rm).style.color=sn,Wt(getComputedStyle(wt(this,fn,rm)).getPropertyValue("color"))},$.DOMFilterFactory=_t;class At extends vt.BaseCanvasFactory{constructor({ownerDocument:Fn=globalThis.document}={}){super(),this._document=Fn}_createCanvas(Fn,sn){const mn=this._document.createElement("canvas");return mn.width=Fn,mn.height=sn,mn}}$.DOMCanvasFactory=At;async function Ct(Tn,Fn=!1){if(Bt(Tn,document.baseURI)){const sn=await fetch(Tn);if(!sn.ok)throw new Error(sn.statusText);return Fn?new Uint8Array(await sn.arrayBuffer()):(0,xt.stringToBytes)(await sn.text())}return new Promise((sn,mn)=>{const Pn=new XMLHttpRequest;Pn.open("GET",Tn,!0),Fn&&(Pn.responseType="arraybuffer"),Pn.onreadystatechange=()=>{if(Pn.readyState===XMLHttpRequest.DONE){if(Pn.status===200||Pn.status===0){let Nn;if(Fn&&Pn.response?Nn=new Uint8Array(Pn.response):!Fn&&Pn.responseText&&(Nn=(0,xt.stringToBytes)(Pn.responseText)),Nn){sn(Nn);return}}mn(new Error(Pn.statusText))}},Pn.send(null)})}class St extends vt.BaseCMapReaderFactory{_fetchData(Fn,sn){return Ct(Fn,this.isCompressed).then(mn=>({cMapData:mn,compressionType:sn}))}}$.DOMCMapReaderFactory=St;class Rt extends vt.BaseStandardFontDataFactory{_fetchData(Fn){return Ct(Fn,!0)}}$.DOMStandardFontDataFactory=Rt;class Pt extends vt.BaseSVGFactory{_createSVG(Fn){return document.createElementNS(bt,Fn)}}$.DOMSVGFactory=Pt;class kt{constructor({viewBox:Fn,scale:sn,rotation:mn,offsetX:Pn=0,offsetY:Nn=0,dontFlip:Vn=!1}){this.viewBox=Fn,this.scale=sn,this.rotation=mn,this.offsetX=Pn,this.offsetY=Nn;const Qn=(Fn[2]+Fn[0])/2,qn=(Fn[3]+Fn[1])/2;let kn,sr,rr,$r;switch(mn%=360,mn<0&&(mn+=360),mn){case 180:kn=-1,sr=0,rr=0,$r=1;break;case 90:kn=0,sr=1,rr=1,$r=0;break;case 270:kn=0,sr=-1,rr=-1,$r=0;break;case 0:kn=1,sr=0,rr=0,$r=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Vn&&(rr=-rr,$r=-$r);let Pr,zr,dr,gr;kn===0?(Pr=Math.abs(qn-Fn[1])*sn+Pn,zr=Math.abs(Qn-Fn[0])*sn+Nn,dr=(Fn[3]-Fn[1])*sn,gr=(Fn[2]-Fn[0])*sn):(Pr=Math.abs(Qn-Fn[0])*sn+Pn,zr=Math.abs(qn-Fn[1])*sn+Nn,dr=(Fn[2]-Fn[0])*sn,gr=(Fn[3]-Fn[1])*sn),this.transform=[kn*sn,sr*sn,rr*sn,$r*sn,Pr-kn*sn*Qn-rr*sn*qn,zr-sr*sn*Qn-$r*sn*qn],this.width=dr,this.height=gr}get rawDims(){const{viewBox:Fn}=this;return(0,xt.shadow)(this,"rawDims",{pageWidth:Fn[2]-Fn[0],pageHeight:Fn[3]-Fn[1],pageX:Fn[0],pageY:Fn[1]})}clone({scale:Fn=this.scale,rotation:sn=this.rotation,offsetX:mn=this.offsetX,offsetY:Pn=this.offsetY,dontFlip:Nn=!1}={}){return new kt({viewBox:this.viewBox.slice(),scale:Fn,rotation:sn,offsetX:mn,offsetY:Pn,dontFlip:Nn})}convertToViewportPoint(Fn,sn){return xt.Util.applyTransform([Fn,sn],this.transform)}convertToViewportRectangle(Fn){const sn=xt.Util.applyTransform([Fn[0],Fn[1]],this.transform),mn=xt.Util.applyTransform([Fn[2],Fn[3]],this.transform);return[sn[0],sn[1],mn[0],mn[1]]}convertToPdfPoint(Fn,sn){return xt.Util.applyInverseTransform([Fn,sn],this.transform)}}$.PageViewport=kt;class Mt extends xt.BaseException{constructor(Fn,sn=0){super(Fn,"RenderingCancelledException"),this.extraDelay=sn}}$.RenderingCancelledException=Mt;function Lt(Tn){const Fn=Tn.length;let sn=0;for(;sn<Fn&&Tn[sn].trim()==="";)sn++;return Tn.substring(sn,sn+5).toLowerCase()==="data:"}function Ot(Tn){return typeof Tn=="string"&&/\.pdf$/i.test(Tn)}function Ft(Tn,Fn=!1){return Fn||([Tn]=Tn.split(/[#?]/,1)),Tn.substring(Tn.lastIndexOf("/")+1)}function Dt(Tn,Fn="document.pdf"){if(typeof Tn!="string")return Fn;if(Lt(Tn))return(0,xt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Fn;const sn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,mn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Pn=sn.exec(Tn);let Nn=mn.exec(Pn[1])||mn.exec(Pn[2])||mn.exec(Pn[3]);if(Nn&&(Nn=Nn[0],Nn.includes("%")))try{Nn=mn.exec(decodeURIComponent(Nn))[0]}catch{}return Nn||Fn}class $t{constructor(){Sr(this,"started",Object.create(null));Sr(this,"times",[])}time(Fn){Fn in this.started&&(0,xt.warn)(`Timer is already running for ${Fn}`),this.started[Fn]=Date.now()}timeEnd(Fn){Fn in this.started||(0,xt.warn)(`Timer has not been started for ${Fn}`),this.times.push({name:Fn,start:this.started[Fn],end:Date.now()}),delete this.started[Fn]}toString(){const Fn=[];let sn=0;for(const{name:mn}of this.times)sn=Math.max(mn.length,sn);for(const{name:mn,start:Pn,end:Nn}of this.times)Fn.push(`${mn.padEnd(sn)} ${Nn-Pn}ms
`);return Fn.join("")}}$.StatTimer=$t;function Bt(Tn,Fn){try{const{protocol:sn}=Fn?new URL(Tn,Fn):new URL(Tn);return sn==="http:"||sn==="https:"}catch{return!1}}function Nt(Tn){Tn.preventDefault()}function Ht(Tn,Fn=!1){return new Promise((sn,mn)=>{const Pn=document.createElement("script");Pn.src=Tn,Pn.onload=function(Nn){Fn&&Pn.remove(),sn(Nn)},Pn.onerror=function(){mn(new Error(`Cannot load script at: ${Pn.src}`))},(document.head||document.documentElement).append(Pn)})}function jt(Tn){console.log("Deprecated API usage: "+Tn)}let zt;class Kt{static toDateObject(Fn){if(!Fn||typeof Fn!="string")return null;zt||(zt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const sn=zt.exec(Fn);if(!sn)return null;const mn=parseInt(sn[1],10);let Pn=parseInt(sn[2],10);Pn=Pn>=1&&Pn<=12?Pn-1:0;let Nn=parseInt(sn[3],10);Nn=Nn>=1&&Nn<=31?Nn:1;let Vn=parseInt(sn[4],10);Vn=Vn>=0&&Vn<=23?Vn:0;let Qn=parseInt(sn[5],10);Qn=Qn>=0&&Qn<=59?Qn:0;let qn=parseInt(sn[6],10);qn=qn>=0&&qn<=59?qn:0;const kn=sn[7]||"Z";let sr=parseInt(sn[8],10);sr=sr>=0&&sr<=23?sr:0;let rr=parseInt(sn[9],10)||0;return rr=rr>=0&&rr<=59?rr:0,kn==="-"?(Vn+=sr,Qn+=rr):kn==="+"&&(Vn-=sr,Qn-=rr),new Date(Date.UTC(mn,Pn,Nn,Vn,Qn,qn))}}$.PDFDateString=Kt;function en(Tn,{scale:Fn=1,rotation:sn=0}){const{width:mn,height:Pn}=Tn.attributes.style,Nn=[0,0,parseInt(mn),parseInt(Pn)];return new kt({viewBox:Nn,scale:Fn,rotation:sn})}function Wt(Tn){if(Tn.startsWith("#")){const Fn=parseInt(Tn.slice(1),16);return[(Fn&16711680)>>16,(Fn&65280)>>8,Fn&255]}return Tn.startsWith("rgb(")?Tn.slice(4,-1).split(",").map(Fn=>parseInt(Fn)):Tn.startsWith("rgba(")?Tn.slice(5,-1).split(",").map(Fn=>parseInt(Fn)).slice(0,3):((0,xt.warn)(`Not a valid color format: "${Tn}"`),[0,0,0])}function Qt(Tn){const Fn=document.createElement("span");Fn.style.visibility="hidden",document.body.append(Fn);for(const sn of Tn.keys()){Fn.style.color=sn;const mn=window.getComputedStyle(Fn).color;Tn.set(sn,Wt(mn))}Fn.remove()}function on(Tn){const{a:Fn,b:sn,c:mn,d:Pn,e:Nn,f:Vn}=Tn.getTransform();return[Fn,sn,mn,Pn,Nn,Vn]}function En(Tn){const{a:Fn,b:sn,c:mn,d:Pn,e:Nn,f:Vn}=Tn.getTransform().invertSelf();return[Fn,sn,mn,Pn,Nn,Vn]}function un(Tn,Fn,sn=!1,mn=!0){if(Fn instanceof kt){const{pageWidth:Pn,pageHeight:Nn}=Fn.rawDims,{style:Vn}=Tn,Qn=xt.FeatureTest.isCSSRoundSupported,qn=`var(--scale-factor) * ${Pn}px`,kn=`var(--scale-factor) * ${Nn}px`,sr=Qn?`round(${qn}, 1px)`:`calc(${qn})`,rr=Qn?`round(${kn}, 1px)`:`calc(${kn})`;!sn||Fn.rotation%180===0?(Vn.width=sr,Vn.height=rr):(Vn.width=rr,Vn.height=sr)}mn&&Tn.setAttribute("data-main-rotation",Fn.rotation)}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var vt=ht(1);class xt{constructor(){this.constructor===xt&&(0,vt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(St){return"none"}addHCMFilter(St,Rt){return"none"}addHighlightHCMFilter(St,Rt,Pt,kt){return"none"}destroy(St=!1){}}$.BaseFilterFactory=xt;class bt{constructor(){this.constructor===bt&&(0,vt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(St,Rt){if(St<=0||Rt<=0)throw new Error("Invalid canvas size");const Pt=this._createCanvas(St,Rt);return{canvas:Pt,context:Pt.getContext("2d")}}reset(St,Rt,Pt){if(!St.canvas)throw new Error("Canvas is not specified");if(Rt<=0||Pt<=0)throw new Error("Invalid canvas size");St.canvas.width=Rt,St.canvas.height=Pt}destroy(St){if(!St.canvas)throw new Error("Canvas is not specified");St.canvas.width=0,St.canvas.height=0,St.canvas=null,St.context=null}_createCanvas(St,Rt){(0,vt.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=bt;class Et{constructor({baseUrl:St=null,isCompressed:Rt=!0}){this.constructor===Et&&(0,vt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=St,this.isCompressed=Rt}async fetch({name:St}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!St)throw new Error("CMap name must be specified.");const Rt=this.baseUrl+St+(this.isCompressed?".bcmap":""),Pt=this.isCompressed?vt.CMapCompressionType.BINARY:vt.CMapCompressionType.NONE;return this._fetchData(Rt,Pt).catch(kt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Rt}`)})}_fetchData(St,Rt){(0,vt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=Et;class _t{constructor({baseUrl:St=null}){this.constructor===_t&&(0,vt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=St}async fetch({filename:St}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!St)throw new Error("Font filename must be specified.");const Rt=`${this.baseUrl}${St}`;return this._fetchData(Rt).catch(Pt=>{throw new Error(`Unable to load font data at: ${Rt}`)})}_fetchData(St){(0,vt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=_t;class At{constructor(){this.constructor===At&&(0,vt.unreachable)("Cannot initialize BaseSVGFactory.")}create(St,Rt,Pt=!1){if(St<=0||Rt<=0)throw new Error("Invalid SVG dimensions");const kt=this._createSVG("svg:svg");return kt.setAttribute("version","1.1"),Pt||(kt.setAttribute("width",`${St}px`),kt.setAttribute("height",`${Rt}px`)),kt.setAttribute("preserveAspectRatio","none"),kt.setAttribute("viewBox",`0 0 ${St} ${Rt}`),kt}createElement(St){if(typeof St!="string")throw new Error("Invalid SVG element type");return this._createSVG(St)}_createSVG(St){(0,vt.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=At},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var vt=ht(1);const xt=3285377520,bt=4294901760,Et=65535;class _t{constructor(Ct){this.h1=Ct?Ct&4294967295:xt,this.h2=Ct?Ct&4294967295:xt}update(Ct){let St,Rt;if(typeof Ct=="string"){St=new Uint8Array(Ct.length*2),Rt=0;for(let jt=0,zt=Ct.length;jt<zt;jt++){const Kt=Ct.charCodeAt(jt);Kt<=255?St[Rt++]=Kt:(St[Rt++]=Kt>>>8,St[Rt++]=Kt&255)}}else if((0,vt.isArrayBuffer)(Ct))St=Ct.slice(),Rt=St.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Pt=Rt>>2,kt=Rt-Pt*4,Mt=new Uint32Array(St.buffer,0,Pt);let Lt=0,Ot=0,Ft=this.h1,Dt=this.h2;const $t=3432918353,Bt=461845907,Nt=$t&Et,Ht=Bt&Et;for(let jt=0;jt<Pt;jt++)jt&1?(Lt=Mt[jt],Lt=Lt*$t&bt|Lt*Nt&Et,Lt=Lt<<15|Lt>>>17,Lt=Lt*Bt&bt|Lt*Ht&Et,Ft^=Lt,Ft=Ft<<13|Ft>>>19,Ft=Ft*5+3864292196):(Ot=Mt[jt],Ot=Ot*$t&bt|Ot*Nt&Et,Ot=Ot<<15|Ot>>>17,Ot=Ot*Bt&bt|Ot*Ht&Et,Dt^=Ot,Dt=Dt<<13|Dt>>>19,Dt=Dt*5+3864292196);switch(Lt=0,kt){case 3:Lt^=St[Pt*4+2]<<16;case 2:Lt^=St[Pt*4+1]<<8;case 1:Lt^=St[Pt*4],Lt=Lt*$t&bt|Lt*Nt&Et,Lt=Lt<<15|Lt>>>17,Lt=Lt*Bt&bt|Lt*Ht&Et,Pt&1?Ft^=Lt:Dt^=Lt}this.h1=Ft,this.h2=Dt}hexdigest(){let Ct=this.h1,St=this.h2;return Ct^=St>>>1,Ct=Ct*3981806797&bt|Ct*36045&Et,St=St*4283543511&bt|((St<<16|Ct>>>16)*2950163797&bt)>>>16,Ct^=St>>>1,Ct=Ct*444984403&bt|Ct*60499&Et,St=St*3301882366&bt|((St<<16|Ct>>>16)*3120437893&bt)>>>16,Ct^=St>>>1,(Ct>>>0).toString(16).padStart(8,"0")+(St>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=_t},(_e,$,ht)=>{var Et;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var vt=ht(1);class xt{constructor({ownerDocument:At=globalThis.document,styleElement:Ct=null}){qt(this,Et,new Set);this._document=At,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(At){this.nativeFontFaces.add(At),this._document.fonts.add(At)}removeNativeFontFace(At){this.nativeFontFaces.delete(At),this._document.fonts.delete(At)}insertRule(At){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const Ct=this.styleElement.sheet;Ct.insertRule(At,Ct.cssRules.length)}clear(){for(const At of this.nativeFontFaces)this._document.fonts.delete(At);this.nativeFontFaces.clear(),wt(this,Et).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(At){if(!(!At||wt(this,Et).has(At.loadedName))){if((0,vt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:Ct,src:St,style:Rt}=At,Pt=new FontFace(Ct,St,Rt);this.addNativeFontFace(Pt);try{await Pt.load(),wt(this,Et).add(Ct)}catch{(0,vt.warn)(`Cannot load system font: ${At.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Pt)}return}(0,vt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(At){if(At.attached||At.missingFile&&!At.systemFontInfo)return;if(At.attached=!0,At.systemFontInfo){await this.loadSystemFont(At.systemFontInfo);return}if(this.isFontLoadingAPISupported){const St=At.createNativeFontFace();if(St){this.addNativeFontFace(St);try{await St.loaded}catch(Rt){throw(0,vt.warn)(`Failed to load font '${St.family}': '${Rt}'.`),At.disableFontFace=!0,Rt}}return}const Ct=At.createFontFaceRule();if(Ct){if(this.insertRule(Ct),this.isSyncFontLoadingSupported)return;await new Promise(St=>{const Rt=this._queueLoadingCallback(St);this._prepareFontLoadEvent(At,Rt)})}}get isFontLoadingAPISupported(){var Ct;const At=!!((Ct=this._document)!=null&&Ct.fonts);return(0,vt.shadow)(this,"isFontLoadingAPISupported",At)}get isSyncFontLoadingSupported(){let At=!1;return(vt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(At=!0),(0,vt.shadow)(this,"isSyncFontLoadingSupported",At)}_queueLoadingCallback(At){function Ct(){for((0,vt.assert)(!Rt.done,"completeRequest() cannot be called twice."),Rt.done=!0;St.length>0&&St[0].done;){const Pt=St.shift();setTimeout(Pt.callback,0)}}const{loadingRequests:St}=this,Rt={done:!1,complete:Ct,callback:At};return St.push(Rt),Rt}get _loadTestFont(){const At=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,vt.shadow)(this,"_loadTestFont",At)}_prepareFontLoadEvent(At,Ct){function St(Wt,Qt){return Wt.charCodeAt(Qt)<<24|Wt.charCodeAt(Qt+1)<<16|Wt.charCodeAt(Qt+2)<<8|Wt.charCodeAt(Qt+3)&255}function Rt(Wt,Qt,on,En){const un=Wt.substring(0,Qt),xn=Wt.substring(Qt+on);return un+En+xn}let Pt,kt;const Mt=this._document.createElement("canvas");Mt.width=1,Mt.height=1;const Lt=Mt.getContext("2d");let Ot=0;function Ft(Wt,Qt){if(++Ot>30){(0,vt.warn)("Load test font never loaded."),Qt();return}if(Lt.font="30px "+Wt,Lt.fillText(".",0,20),Lt.getImageData(0,0,1,1).data[3]>0){Qt();return}setTimeout(Ft.bind(null,Wt,Qt))}const Dt=`lt${Date.now()}${this.loadTestFontId++}`;let $t=this._loadTestFont;$t=Rt($t,976,Dt.length,Dt);const Nt=16,Ht=1482184792;let jt=St($t,Nt);for(Pt=0,kt=Dt.length-3;Pt<kt;Pt+=4)jt=jt-Ht+St(Dt,Pt)|0;Pt<Dt.length&&(jt=jt-Ht+St(Dt+"XXX",Pt)|0),$t=Rt($t,Nt,4,(0,vt.string32)(jt));const zt=`url(data:font/opentype;base64,${btoa($t)});`,Kt=`@font-face {font-family:"${Dt}";src:${zt}}`;this.insertRule(Kt);const en=this._document.createElement("div");en.style.visibility="hidden",en.style.width=en.style.height="10px",en.style.position="absolute",en.style.top=en.style.left="0px";for(const Wt of[At.loadedName,Dt]){const Qt=this._document.createElement("span");Qt.textContent="Hi",Qt.style.fontFamily=Wt,en.append(Qt)}this._document.body.append(en),Ft(Dt,()=>{en.remove(),Ct.complete()})}}Et=new WeakMap,$.FontLoader=xt;class bt{constructor(At,{isEvalSupported:Ct=!0,disableFontFace:St=!1,ignoreErrors:Rt=!1,inspectFont:Pt=null}){this.compiledGlyphs=Object.create(null);for(const kt in At)this[kt]=At[kt];this.isEvalSupported=Ct!==!1,this.disableFontFace=St===!0,this.ignoreErrors=Rt===!0,this._inspectFont=Pt}createNativeFontFace(){var Ct;if(!this.data||this.disableFontFace)return null;let At;if(!this.cssFontInfo)At=new FontFace(this.loadedName,this.data,{});else{const St={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(St.style=`oblique ${this.cssFontInfo.italicAngle}deg`),At=new FontFace(this.cssFontInfo.fontFamily,this.data,St)}return(Ct=this._inspectFont)==null||Ct.call(this,this),At}createFontFaceRule(){var Rt;if(!this.data||this.disableFontFace)return null;const At=(0,vt.bytesToString)(this.data),Ct=`url(data:${this.mimetype};base64,${btoa(At)});`;let St;if(!this.cssFontInfo)St=`@font-face {font-family:"${this.loadedName}";src:${Ct}}`;else{let Pt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Pt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),St=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Pt}src:${Ct}}`}return(Rt=this._inspectFont)==null||Rt.call(this,this,Ct),St}getPathGenerator(At,Ct){if(this.compiledGlyphs[Ct]!==void 0)return this.compiledGlyphs[Ct];let St;try{St=At.get(this.loadedName+"_path_"+Ct)}catch(Rt){if(!this.ignoreErrors)throw Rt;return(0,vt.warn)(`getPathGenerator - ignoring character: "${Rt}".`),this.compiledGlyphs[Ct]=function(Pt,kt){}}if(this.isEvalSupported&&vt.FeatureTest.isEvalSupported){const Rt=[];for(const Pt of St){const kt=Pt.args!==void 0?Pt.args.join(","):"";Rt.push("c.",Pt.cmd,"(",kt,`);
`)}return this.compiledGlyphs[Ct]=new Function("c","size",Rt.join(""))}return this.compiledGlyphs[Ct]=function(Rt,Pt){for(const kt of St)kt.cmd==="scale"&&(kt.args=[Pt,-Pt]),Rt[kt.cmd].apply(Rt,kt.args)}}}$.FontFaceObject=bt},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var vt=ht(7);ht(1);const xt=function(Ct){return new Promise((St,Rt)=>{require$$5.readFile(Ct,(kt,Mt)=>{if(kt||!Mt){Rt(new Error(kt));return}St(new Uint8Array(Mt))})})};class bt extends vt.BaseFilterFactory{}$.NodeFilterFactory=bt;class Et extends vt.BaseCanvasFactory{_createCanvas(St,Rt){return require$$5.createCanvas(St,Rt)}}$.NodeCanvasFactory=Et;class _t extends vt.BaseCMapReaderFactory{_fetchData(St,Rt){return xt(St).then(Pt=>({cMapData:Pt,compressionType:Rt}))}}$.NodeCMapReaderFactory=_t;class At extends vt.BaseStandardFontDataFactory{_fetchData(St){return xt(St)}}$.NodeStandardFontDataFactory=At},(_e,$,ht)=>{var hn,OE,$E;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var vt=ht(1),xt=ht(6),bt=ht(12),Et=ht(13);const _t=16,At=100,Ct=4096,St=15,Rt=10,Pt=1e3,kt=16;function Mt(rn,Xt){if(rn._removeMirroring)throw new Error("Context is already forwarding operations.");rn.__originalSave=rn.save,rn.__originalRestore=rn.restore,rn.__originalRotate=rn.rotate,rn.__originalScale=rn.scale,rn.__originalTranslate=rn.translate,rn.__originalTransform=rn.transform,rn.__originalSetTransform=rn.setTransform,rn.__originalResetTransform=rn.resetTransform,rn.__originalClip=rn.clip,rn.__originalMoveTo=rn.moveTo,rn.__originalLineTo=rn.lineTo,rn.__originalBezierCurveTo=rn.bezierCurveTo,rn.__originalRect=rn.rect,rn.__originalClosePath=rn.closePath,rn.__originalBeginPath=rn.beginPath,rn._removeMirroring=()=>{rn.save=rn.__originalSave,rn.restore=rn.__originalRestore,rn.rotate=rn.__originalRotate,rn.scale=rn.__originalScale,rn.translate=rn.__originalTranslate,rn.transform=rn.__originalTransform,rn.setTransform=rn.__originalSetTransform,rn.resetTransform=rn.__originalResetTransform,rn.clip=rn.__originalClip,rn.moveTo=rn.__originalMoveTo,rn.lineTo=rn.__originalLineTo,rn.bezierCurveTo=rn.__originalBezierCurveTo,rn.rect=rn.__originalRect,rn.closePath=rn.__originalClosePath,rn.beginPath=rn.__originalBeginPath,delete rn._removeMirroring},rn.save=function(){Xt.save(),this.__originalSave()},rn.restore=function(){Xt.restore(),this.__originalRestore()},rn.translate=function(tn,dn){Xt.translate(tn,dn),this.__originalTranslate(tn,dn)},rn.scale=function(tn,dn){Xt.scale(tn,dn),this.__originalScale(tn,dn)},rn.transform=function(tn,dn,ln,fn,Sn,Mn){Xt.transform(tn,dn,ln,fn,Sn,Mn),this.__originalTransform(tn,dn,ln,fn,Sn,Mn)},rn.setTransform=function(tn,dn,ln,fn,Sn,Mn){Xt.setTransform(tn,dn,ln,fn,Sn,Mn),this.__originalSetTransform(tn,dn,ln,fn,Sn,Mn)},rn.resetTransform=function(){Xt.resetTransform(),this.__originalResetTransform()},rn.rotate=function(tn){Xt.rotate(tn),this.__originalRotate(tn)},rn.clip=function(tn){Xt.clip(tn),this.__originalClip(tn)},rn.moveTo=function(Yt,tn){Xt.moveTo(Yt,tn),this.__originalMoveTo(Yt,tn)},rn.lineTo=function(Yt,tn){Xt.lineTo(Yt,tn),this.__originalLineTo(Yt,tn)},rn.bezierCurveTo=function(Yt,tn,dn,ln,fn,Sn){Xt.bezierCurveTo(Yt,tn,dn,ln,fn,Sn),this.__originalBezierCurveTo(Yt,tn,dn,ln,fn,Sn)},rn.rect=function(Yt,tn,dn,ln){Xt.rect(Yt,tn,dn,ln),this.__originalRect(Yt,tn,dn,ln)},rn.closePath=function(){Xt.closePath(),this.__originalClosePath()},rn.beginPath=function(){Xt.beginPath(),this.__originalBeginPath()}}class Lt{constructor(Xt){this.canvasFactory=Xt,this.cache=Object.create(null)}getCanvas(Xt,Yt,tn){let dn;return this.cache[Xt]!==void 0?(dn=this.cache[Xt],this.canvasFactory.reset(dn,Yt,tn)):(dn=this.canvasFactory.create(Yt,tn),this.cache[Xt]=dn),dn}delete(Xt){delete this.cache[Xt]}clear(){for(const Xt in this.cache){const Yt=this.cache[Xt];this.canvasFactory.destroy(Yt),delete this.cache[Xt]}}}function Ot(rn,Xt,Yt,tn,dn,ln,fn,Sn,Mn,Hn){const[Un,Wn,Xn,Kn,Tn,Fn]=(0,xt.getCurrentTransform)(rn);if(Wn===0&&Xn===0){const Pn=fn*Un+Tn,Nn=Math.round(Pn),Vn=Sn*Kn+Fn,Qn=Math.round(Vn),qn=(fn+Mn)*Un+Tn,kn=Math.abs(Math.round(qn)-Nn)||1,sr=(Sn+Hn)*Kn+Fn,rr=Math.abs(Math.round(sr)-Qn)||1;return rn.setTransform(Math.sign(Un),0,0,Math.sign(Kn),Nn,Qn),rn.drawImage(Xt,Yt,tn,dn,ln,0,0,kn,rr),rn.setTransform(Un,Wn,Xn,Kn,Tn,Fn),[kn,rr]}if(Un===0&&Kn===0){const Pn=Sn*Xn+Tn,Nn=Math.round(Pn),Vn=fn*Wn+Fn,Qn=Math.round(Vn),qn=(Sn+Hn)*Xn+Tn,kn=Math.abs(Math.round(qn)-Nn)||1,sr=(fn+Mn)*Wn+Fn,rr=Math.abs(Math.round(sr)-Qn)||1;return rn.setTransform(0,Math.sign(Wn),Math.sign(Xn),0,Nn,Qn),rn.drawImage(Xt,Yt,tn,dn,ln,0,0,rr,kn),rn.setTransform(Un,Wn,Xn,Kn,Tn,Fn),[rr,kn]}rn.drawImage(Xt,Yt,tn,dn,ln,fn,Sn,Mn,Hn);const sn=Math.hypot(Un,Wn),mn=Math.hypot(Xn,Kn);return[sn*Mn,mn*Hn]}function Ft(rn){const{width:Xt,height:Yt}=rn;if(Xt>Pt||Yt>Pt)return null;const tn=1e3,dn=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ln=Xt+1;let fn=new Uint8Array(ln*(Yt+1)),Sn,Mn,Hn;const Un=Xt+7&-8;let Wn=new Uint8Array(Un*Yt),Xn=0;for(const mn of rn.data){let Pn=128;for(;Pn>0;)Wn[Xn++]=mn&Pn?0:255,Pn>>=1}let Kn=0;for(Xn=0,Wn[Xn]!==0&&(fn[0]=1,++Kn),Mn=1;Mn<Xt;Mn++)Wn[Xn]!==Wn[Xn+1]&&(fn[Mn]=Wn[Xn]?2:1,++Kn),Xn++;for(Wn[Xn]!==0&&(fn[Mn]=2,++Kn),Sn=1;Sn<Yt;Sn++){Xn=Sn*Un,Hn=Sn*ln,Wn[Xn-Un]!==Wn[Xn]&&(fn[Hn]=Wn[Xn]?1:8,++Kn);let mn=(Wn[Xn]?4:0)+(Wn[Xn-Un]?8:0);for(Mn=1;Mn<Xt;Mn++)mn=(mn>>2)+(Wn[Xn+1]?4:0)+(Wn[Xn-Un+1]?8:0),dn[mn]&&(fn[Hn+Mn]=dn[mn],++Kn),Xn++;if(Wn[Xn-Un]!==Wn[Xn]&&(fn[Hn+Mn]=Wn[Xn]?2:4,++Kn),Kn>tn)return null}for(Xn=Un*(Yt-1),Hn=Sn*ln,Wn[Xn]!==0&&(fn[Hn]=8,++Kn),Mn=1;Mn<Xt;Mn++)Wn[Xn]!==Wn[Xn+1]&&(fn[Hn+Mn]=Wn[Xn]?4:8,++Kn),Xn++;if(Wn[Xn]!==0&&(fn[Hn+Mn]=4,++Kn),Kn>tn)return null;const Tn=new Int32Array([0,ln,-1,0,-ln,0,0,0,1]),Fn=new Path2D;for(Sn=0;Kn&&Sn<=Yt;Sn++){let mn=Sn*ln;const Pn=mn+Xt;for(;mn<Pn&&!fn[mn];)mn++;if(mn===Pn)continue;Fn.moveTo(mn%ln,Sn);const Nn=mn;let Vn=fn[mn];do{const Qn=Tn[Vn];do mn+=Qn;while(!fn[mn]);const qn=fn[mn];qn!==5&&qn!==10?(Vn=qn,fn[mn]=0):(Vn=qn&51*Vn>>4,fn[mn]&=Vn>>2|Vn<<2),Fn.lineTo(mn%ln,mn/ln|0),fn[mn]||--Kn}while(Nn!==mn);--Sn}return Wn=null,fn=null,function(mn){mn.save(),mn.scale(1/Xt,-1/Yt),mn.translate(0,-Yt),mn.fill(Fn),mn.beginPath(),mn.restore()}}class Dt{constructor(Xt,Yt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=vt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=vt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=vt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Xt,Yt])}clone(){const Xt=Object.create(this);return Xt.clipBox=this.clipBox.slice(),Xt}setCurrentPoint(Xt,Yt){this.x=Xt,this.y=Yt}updatePathMinMax(Xt,Yt,tn){[Yt,tn]=vt.Util.applyTransform([Yt,tn],Xt),this.minX=Math.min(this.minX,Yt),this.minY=Math.min(this.minY,tn),this.maxX=Math.max(this.maxX,Yt),this.maxY=Math.max(this.maxY,tn)}updateRectMinMax(Xt,Yt){const tn=vt.Util.applyTransform(Yt,Xt),dn=vt.Util.applyTransform(Yt.slice(2),Xt);this.minX=Math.min(this.minX,tn[0],dn[0]),this.minY=Math.min(this.minY,tn[1],dn[1]),this.maxX=Math.max(this.maxX,tn[0],dn[0]),this.maxY=Math.max(this.maxY,tn[1],dn[1])}updateScalingPathMinMax(Xt,Yt){vt.Util.scaleMinMax(Xt,Yt),this.minX=Math.min(this.minX,Yt[0]),this.maxX=Math.max(this.maxX,Yt[1]),this.minY=Math.min(this.minY,Yt[2]),this.maxY=Math.max(this.maxY,Yt[3])}updateCurvePathMinMax(Xt,Yt,tn,dn,ln,fn,Sn,Mn,Hn,Un){const Wn=vt.Util.bezierBoundingBox(Yt,tn,dn,ln,fn,Sn,Mn,Hn);if(Un){Un[0]=Math.min(Un[0],Wn[0],Wn[2]),Un[1]=Math.max(Un[1],Wn[0],Wn[2]),Un[2]=Math.min(Un[2],Wn[1],Wn[3]),Un[3]=Math.max(Un[3],Wn[1],Wn[3]);return}this.updateRectMinMax(Xt,Wn)}getPathBoundingBox(Xt=bt.PathType.FILL,Yt=null){const tn=[this.minX,this.minY,this.maxX,this.maxY];if(Xt===bt.PathType.STROKE){Yt||(0,vt.unreachable)("Stroke bounding box must include transform.");const dn=vt.Util.singularValueDecompose2dScale(Yt),ln=dn[0]*this.lineWidth/2,fn=dn[1]*this.lineWidth/2;tn[0]-=ln,tn[1]-=fn,tn[2]+=ln,tn[3]+=fn}return tn}updateClipFromPath(){const Xt=vt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Xt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Xt){this.clipBox=Xt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Xt=bt.PathType.FILL,Yt=null){return vt.Util.intersect(this.clipBox,this.getPathBoundingBox(Xt,Yt))}}function $t(rn,Xt){if(typeof ImageData<"u"&&Xt instanceof ImageData){rn.putImageData(Xt,0,0);return}const Yt=Xt.height,tn=Xt.width,dn=Yt%kt,ln=(Yt-dn)/kt,fn=dn===0?ln:ln+1,Sn=rn.createImageData(tn,kt);let Mn=0,Hn;const Un=Xt.data,Wn=Sn.data;let Xn,Kn,Tn,Fn;if(Xt.kind===vt.ImageKind.GRAYSCALE_1BPP){const sn=Un.byteLength,mn=new Uint32Array(Wn.buffer,0,Wn.byteLength>>2),Pn=mn.length,Nn=tn+7>>3,Vn=4294967295,Qn=vt.FeatureTest.isLittleEndian?4278190080:255;for(Xn=0;Xn<fn;Xn++){for(Tn=Xn<ln?kt:dn,Hn=0,Kn=0;Kn<Tn;Kn++){const qn=sn-Mn;let kn=0;const sr=qn>Nn?tn:qn*8-7,rr=sr&-8;let $r=0,Pr=0;for(;kn<rr;kn+=8)Pr=Un[Mn++],mn[Hn++]=Pr&128?Vn:Qn,mn[Hn++]=Pr&64?Vn:Qn,mn[Hn++]=Pr&32?Vn:Qn,mn[Hn++]=Pr&16?Vn:Qn,mn[Hn++]=Pr&8?Vn:Qn,mn[Hn++]=Pr&4?Vn:Qn,mn[Hn++]=Pr&2?Vn:Qn,mn[Hn++]=Pr&1?Vn:Qn;for(;kn<sr;kn++)$r===0&&(Pr=Un[Mn++],$r=128),mn[Hn++]=Pr&$r?Vn:Qn,$r>>=1}for(;Hn<Pn;)mn[Hn++]=0;rn.putImageData(Sn,0,Xn*kt)}}else if(Xt.kind===vt.ImageKind.RGBA_32BPP){for(Kn=0,Fn=tn*kt*4,Xn=0;Xn<ln;Xn++)Wn.set(Un.subarray(Mn,Mn+Fn)),Mn+=Fn,rn.putImageData(Sn,0,Kn),Kn+=kt;Xn<fn&&(Fn=tn*dn*4,Wn.set(Un.subarray(Mn,Mn+Fn)),rn.putImageData(Sn,0,Kn))}else if(Xt.kind===vt.ImageKind.RGB_24BPP)for(Tn=kt,Fn=tn*Tn,Xn=0;Xn<fn;Xn++){for(Xn>=ln&&(Tn=dn,Fn=tn*Tn),Hn=0,Kn=Fn;Kn--;)Wn[Hn++]=Un[Mn++],Wn[Hn++]=Un[Mn++],Wn[Hn++]=Un[Mn++],Wn[Hn++]=255;rn.putImageData(Sn,0,Xn*kt)}else throw new Error(`bad image kind: ${Xt.kind}`)}function Bt(rn,Xt){if(Xt.bitmap){rn.drawImage(Xt.bitmap,0,0);return}const Yt=Xt.height,tn=Xt.width,dn=Yt%kt,ln=(Yt-dn)/kt,fn=dn===0?ln:ln+1,Sn=rn.createImageData(tn,kt);let Mn=0;const Hn=Xt.data,Un=Sn.data;for(let Wn=0;Wn<fn;Wn++){const Xn=Wn<ln?kt:dn;({srcPos:Mn}=(0,Et.convertBlackAndWhiteToRGBA)({src:Hn,srcPos:Mn,dest:Un,width:tn,height:Xn,nonBlackColor:0})),rn.putImageData(Sn,0,Wn*kt)}}function Nt(rn,Xt){const Yt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const tn of Yt)rn[tn]!==void 0&&(Xt[tn]=rn[tn]);rn.setLineDash!==void 0&&(Xt.setLineDash(rn.getLineDash()),Xt.lineDashOffset=rn.lineDashOffset)}function Ht(rn){if(rn.strokeStyle=rn.fillStyle="#000000",rn.fillRule="nonzero",rn.globalAlpha=1,rn.lineWidth=1,rn.lineCap="butt",rn.lineJoin="miter",rn.miterLimit=10,rn.globalCompositeOperation="source-over",rn.font="10px sans-serif",rn.setLineDash!==void 0&&(rn.setLineDash([]),rn.lineDashOffset=0),!vt.isNodeJS){const{filter:Xt}=rn;Xt!=="none"&&Xt!==""&&(rn.filter="none")}}function jt(rn,Xt,Yt,tn){const dn=rn.length;for(let ln=3;ln<dn;ln+=4){const fn=rn[ln];if(fn===0)rn[ln-3]=Xt,rn[ln-2]=Yt,rn[ln-1]=tn;else if(fn<255){const Sn=255-fn;rn[ln-3]=rn[ln-3]*fn+Xt*Sn>>8,rn[ln-2]=rn[ln-2]*fn+Yt*Sn>>8,rn[ln-1]=rn[ln-1]*fn+tn*Sn>>8}}}function zt(rn,Xt,Yt){const tn=rn.length,dn=1/255;for(let ln=3;ln<tn;ln+=4){const fn=Yt?Yt[rn[ln]]:rn[ln];Xt[ln]=Xt[ln]*fn*dn|0}}function Kt(rn,Xt,Yt){const tn=rn.length;for(let dn=3;dn<tn;dn+=4){const ln=rn[dn-3]*77+rn[dn-2]*152+rn[dn-1]*28;Xt[dn]=Yt?Xt[dn]*Yt[ln>>8]>>8:Xt[dn]*ln>>16}}function en(rn,Xt,Yt,tn,dn,ln,fn,Sn,Mn,Hn,Un){const Wn=!!ln,Xn=Wn?ln[0]:0,Kn=Wn?ln[1]:0,Tn=Wn?ln[2]:0,Fn=dn==="Luminosity"?Kt:zt,mn=Math.min(tn,Math.ceil(1048576/Yt));for(let Pn=0;Pn<tn;Pn+=mn){const Nn=Math.min(mn,tn-Pn),Vn=rn.getImageData(Sn-Hn,Pn+(Mn-Un),Yt,Nn),Qn=Xt.getImageData(Sn,Pn+Mn,Yt,Nn);Wn&&jt(Vn.data,Xn,Kn,Tn),Fn(Vn.data,Qn.data,fn),Xt.putImageData(Qn,Sn,Pn+Mn)}}function Wt(rn,Xt,Yt,tn){const dn=tn[0],ln=tn[1],fn=tn[2]-dn,Sn=tn[3]-ln;fn===0||Sn===0||(en(Xt.context,Yt,fn,Sn,Xt.subtype,Xt.backdrop,Xt.transferMap,dn,ln,Xt.offsetX,Xt.offsetY),rn.save(),rn.globalAlpha=1,rn.globalCompositeOperation="source-over",rn.setTransform(1,0,0,1,0,0),rn.drawImage(Yt.canvas,0,0),rn.restore())}function Qt(rn,Xt){const Yt=vt.Util.singularValueDecompose2dScale(rn);Yt[0]=Math.fround(Yt[0]),Yt[1]=Math.fround(Yt[1]);const tn=Math.fround((globalThis.devicePixelRatio||1)*xt.PixelsPerInch.PDF_TO_CSS_UNITS);return Xt!==void 0?Xt:Yt[0]<=tn||Yt[1]<=tn}const on=["butt","round","square"],En=["miter","round","bevel"],un={},xn={},wn=class wn{constructor(Xt,Yt,tn,dn,ln,{optionalContentConfig:fn,markedContentStack:Sn=null},Mn,Hn){qt(this,hn);this.ctx=Xt,this.current=new Dt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Yt,this.objs=tn,this.canvasFactory=dn,this.filterFactory=ln,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Sn||[],this.optionalContentConfig=fn,this.cachedCanvases=new Lt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Mn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Hn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Xt,Yt=null){return typeof Xt=="string"?Xt.startsWith("g_")?this.commonObjs.get(Xt):this.objs.get(Xt):Yt}beginDrawing({transform:Xt,viewport:Yt,transparency:tn=!1,background:dn=null}){const ln=this.ctx.canvas.width,fn=this.ctx.canvas.height,Sn=this.ctx.fillStyle;if(this.ctx.fillStyle=dn||"#ffffff",this.ctx.fillRect(0,0,ln,fn),this.ctx.fillStyle=Sn,tn){const Mn=this.cachedCanvases.getCanvas("transparent",ln,fn);this.compositeCtx=this.ctx,this.transparentCanvas=Mn.canvas,this.ctx=Mn.context,this.ctx.save(),this.ctx.transform(...(0,xt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Ht(this.ctx),Xt&&(this.ctx.transform(...Xt),this.outputScaleX=Xt[0],this.outputScaleY=Xt[0]),this.ctx.transform(...Yt.transform),this.viewportScale=Yt.scale,this.baseTransform=(0,xt.getCurrentTransform)(this.ctx)}executeOperatorList(Xt,Yt,tn,dn){const ln=Xt.argsArray,fn=Xt.fnArray;let Sn=Yt||0;const Mn=ln.length;if(Mn===Sn)return Sn;const Hn=Mn-Sn>Rt&&typeof tn=="function",Un=Hn?Date.now()+St:0;let Wn=0;const Xn=this.commonObjs,Kn=this.objs;let Tn;for(;;){if(dn!==void 0&&Sn===dn.nextBreakPoint)return dn.breakIt(Sn,tn),Sn;if(Tn=fn[Sn],Tn!==vt.OPS.dependency)this[Tn].apply(this,ln[Sn]);else for(const Fn of ln[Sn]){const sn=Fn.startsWith("g_")?Xn:Kn;if(!sn.has(Fn))return sn.get(Fn,tn),Sn}if(Sn++,Sn===Mn)return Sn;if(Hn&&++Wn>Rt){if(Date.now()>Un)return tn(),Sn;Wn=0}}}endDrawing(){Ut(this,hn,OE).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Xt of this._cachedBitmapsMap.values()){for(const Yt of Xt.values())typeof HTMLCanvasElement<"u"&&Yt instanceof HTMLCanvasElement&&(Yt.width=Yt.height=0);Xt.clear()}this._cachedBitmapsMap.clear(),Ut(this,hn,$E).call(this)}_scaleImage(Xt,Yt){const tn=Xt.width,dn=Xt.height;let ln=Math.max(Math.hypot(Yt[0],Yt[1]),1),fn=Math.max(Math.hypot(Yt[2],Yt[3]),1),Sn=tn,Mn=dn,Hn="prescale1",Un,Wn;for(;ln>2&&Sn>1||fn>2&&Mn>1;){let Xn=Sn,Kn=Mn;ln>2&&Sn>1&&(Xn=Sn>=16384?Math.floor(Sn/2)-1||1:Math.ceil(Sn/2),ln/=Sn/Xn),fn>2&&Mn>1&&(Kn=Mn>=16384?Math.floor(Mn/2)-1||1:Math.ceil(Mn)/2,fn/=Mn/Kn),Un=this.cachedCanvases.getCanvas(Hn,Xn,Kn),Wn=Un.context,Wn.clearRect(0,0,Xn,Kn),Wn.drawImage(Xt,0,0,Sn,Mn,0,0,Xn,Kn),Xt=Un.canvas,Sn=Xn,Mn=Kn,Hn=Hn==="prescale1"?"prescale2":"prescale1"}return{img:Xt,paintWidth:Sn,paintHeight:Mn}}_createMaskCanvas(Xt){const Yt=this.ctx,{width:tn,height:dn}=Xt,ln=this.current.fillColor,fn=this.current.patternFill,Sn=(0,xt.getCurrentTransform)(Yt);let Mn,Hn,Un,Wn;if((Xt.bitmap||Xt.data)&&Xt.count>1){const kn=Xt.bitmap||Xt.data.buffer;Hn=JSON.stringify(fn?Sn:[Sn.slice(0,4),ln]),Mn=this._cachedBitmapsMap.get(kn),Mn||(Mn=new Map,this._cachedBitmapsMap.set(kn,Mn));const sr=Mn.get(Hn);if(sr&&!fn){const rr=Math.round(Math.min(Sn[0],Sn[2])+Sn[4]),$r=Math.round(Math.min(Sn[1],Sn[3])+Sn[5]);return{canvas:sr,offsetX:rr,offsetY:$r}}Un=sr}Un||(Wn=this.cachedCanvases.getCanvas("maskCanvas",tn,dn),Bt(Wn.context,Xt));let Xn=vt.Util.transform(Sn,[1/tn,0,0,-1/dn,0,0]);Xn=vt.Util.transform(Xn,[1,0,0,1,0,-dn]);const Kn=vt.Util.applyTransform([0,0],Xn),Tn=vt.Util.applyTransform([tn,dn],Xn),Fn=vt.Util.normalizeRect([Kn[0],Kn[1],Tn[0],Tn[1]]),sn=Math.round(Fn[2]-Fn[0])||1,mn=Math.round(Fn[3]-Fn[1])||1,Pn=this.cachedCanvases.getCanvas("fillCanvas",sn,mn),Nn=Pn.context,Vn=Math.min(Kn[0],Tn[0]),Qn=Math.min(Kn[1],Tn[1]);Nn.translate(-Vn,-Qn),Nn.transform(...Xn),Un||(Un=this._scaleImage(Wn.canvas,(0,xt.getCurrentTransformInverse)(Nn)),Un=Un.img,Mn&&fn&&Mn.set(Hn,Un)),Nn.imageSmoothingEnabled=Qt((0,xt.getCurrentTransform)(Nn),Xt.interpolate),Ot(Nn,Un,0,0,Un.width,Un.height,0,0,tn,dn),Nn.globalCompositeOperation="source-in";const qn=vt.Util.transform((0,xt.getCurrentTransformInverse)(Nn),[1,0,0,1,-Vn,-Qn]);return Nn.fillStyle=fn?ln.getPattern(Yt,this,qn,bt.PathType.FILL):ln,Nn.fillRect(0,0,tn,dn),Mn&&!fn&&(this.cachedCanvases.delete("fillCanvas"),Mn.set(Hn,Pn.canvas)),{canvas:Pn.canvas,offsetX:Math.round(Vn),offsetY:Math.round(Qn)}}setLineWidth(Xt){Xt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Xt,this.ctx.lineWidth=Xt}setLineCap(Xt){this.ctx.lineCap=on[Xt]}setLineJoin(Xt){this.ctx.lineJoin=En[Xt]}setMiterLimit(Xt){this.ctx.miterLimit=Xt}setDash(Xt,Yt){const tn=this.ctx;tn.setLineDash!==void 0&&(tn.setLineDash(Xt),tn.lineDashOffset=Yt)}setRenderingIntent(Xt){}setFlatness(Xt){}setGState(Xt){for(const[Yt,tn]of Xt)switch(Yt){case"LW":this.setLineWidth(tn);break;case"LC":this.setLineCap(tn);break;case"LJ":this.setLineJoin(tn);break;case"ML":this.setMiterLimit(tn);break;case"D":this.setDash(tn[0],tn[1]);break;case"RI":this.setRenderingIntent(tn);break;case"FL":this.setFlatness(tn);break;case"Font":this.setFont(tn[0],tn[1]);break;case"CA":this.current.strokeAlpha=tn;break;case"ca":this.current.fillAlpha=tn,this.ctx.globalAlpha=tn;break;case"BM":this.ctx.globalCompositeOperation=tn;break;case"SMask":this.current.activeSMask=tn?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(tn);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Xt=this.inSMaskMode;this.current.activeSMask&&!Xt?this.beginSMaskMode():!this.current.activeSMask&&Xt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Xt=this.ctx.canvas.width,Yt=this.ctx.canvas.height,tn="smaskGroupAt"+this.groupLevel,dn=this.cachedCanvases.getCanvas(tn,Xt,Yt);this.suspendedCtx=this.ctx,this.ctx=dn.context;const ln=this.ctx;ln.setTransform(...(0,xt.getCurrentTransform)(this.suspendedCtx)),Nt(this.suspendedCtx,ln),Mt(ln,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Nt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Xt){if(!this.current.activeSMask)return;Xt?(Xt[0]=Math.floor(Xt[0]),Xt[1]=Math.floor(Xt[1]),Xt[2]=Math.ceil(Xt[2]),Xt[3]=Math.ceil(Xt[3])):Xt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Yt=this.current.activeSMask,tn=this.suspendedCtx;Wt(tn,Yt,this.ctx,Xt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Nt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Xt=this.current;this.stateStack.push(Xt),this.current=Xt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Nt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Xt,Yt,tn,dn,ln,fn){this.ctx.transform(Xt,Yt,tn,dn,ln,fn),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Xt,Yt,tn){const dn=this.ctx,ln=this.current;let fn=ln.x,Sn=ln.y,Mn,Hn;const Un=(0,xt.getCurrentTransform)(dn),Wn=Un[0]===0&&Un[3]===0||Un[1]===0&&Un[2]===0,Xn=Wn?tn.slice(0):null;for(let Kn=0,Tn=0,Fn=Xt.length;Kn<Fn;Kn++)switch(Xt[Kn]|0){case vt.OPS.rectangle:fn=Yt[Tn++],Sn=Yt[Tn++];const sn=Yt[Tn++],mn=Yt[Tn++],Pn=fn+sn,Nn=Sn+mn;dn.moveTo(fn,Sn),sn===0||mn===0?dn.lineTo(Pn,Nn):(dn.lineTo(Pn,Sn),dn.lineTo(Pn,Nn),dn.lineTo(fn,Nn)),Wn||ln.updateRectMinMax(Un,[fn,Sn,Pn,Nn]),dn.closePath();break;case vt.OPS.moveTo:fn=Yt[Tn++],Sn=Yt[Tn++],dn.moveTo(fn,Sn),Wn||ln.updatePathMinMax(Un,fn,Sn);break;case vt.OPS.lineTo:fn=Yt[Tn++],Sn=Yt[Tn++],dn.lineTo(fn,Sn),Wn||ln.updatePathMinMax(Un,fn,Sn);break;case vt.OPS.curveTo:Mn=fn,Hn=Sn,fn=Yt[Tn+4],Sn=Yt[Tn+5],dn.bezierCurveTo(Yt[Tn],Yt[Tn+1],Yt[Tn+2],Yt[Tn+3],fn,Sn),ln.updateCurvePathMinMax(Un,Mn,Hn,Yt[Tn],Yt[Tn+1],Yt[Tn+2],Yt[Tn+3],fn,Sn,Xn),Tn+=6;break;case vt.OPS.curveTo2:Mn=fn,Hn=Sn,dn.bezierCurveTo(fn,Sn,Yt[Tn],Yt[Tn+1],Yt[Tn+2],Yt[Tn+3]),ln.updateCurvePathMinMax(Un,Mn,Hn,fn,Sn,Yt[Tn],Yt[Tn+1],Yt[Tn+2],Yt[Tn+3],Xn),fn=Yt[Tn+2],Sn=Yt[Tn+3],Tn+=4;break;case vt.OPS.curveTo3:Mn=fn,Hn=Sn,fn=Yt[Tn+2],Sn=Yt[Tn+3],dn.bezierCurveTo(Yt[Tn],Yt[Tn+1],fn,Sn,fn,Sn),ln.updateCurvePathMinMax(Un,Mn,Hn,Yt[Tn],Yt[Tn+1],fn,Sn,fn,Sn,Xn),Tn+=4;break;case vt.OPS.closePath:dn.closePath();break}Wn&&ln.updateScalingPathMinMax(Un,Xn),ln.setCurrentPoint(fn,Sn)}closePath(){this.ctx.closePath()}stroke(Xt=!0){const Yt=this.ctx,tn=this.current.strokeColor;Yt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof tn=="object"&&(tn!=null&&tn.getPattern)?(Yt.save(),Yt.strokeStyle=tn.getPattern(Yt,this,(0,xt.getCurrentTransformInverse)(Yt),bt.PathType.STROKE),this.rescaleAndStroke(!1),Yt.restore()):this.rescaleAndStroke(!0)),Xt&&this.consumePath(this.current.getClippedPathBoundingBox()),Yt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Xt=!0){const Yt=this.ctx,tn=this.current.fillColor,dn=this.current.patternFill;let ln=!1;dn&&(Yt.save(),Yt.fillStyle=tn.getPattern(Yt,this,(0,xt.getCurrentTransformInverse)(Yt),bt.PathType.FILL),ln=!0);const fn=this.current.getClippedPathBoundingBox();this.contentVisible&&fn!==null&&(this.pendingEOFill?(Yt.fill("evenodd"),this.pendingEOFill=!1):Yt.fill()),ln&&Yt.restore(),Xt&&this.consumePath(fn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=un}eoClip(){this.pendingClip=xn}beginText(){this.current.textMatrix=vt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Xt=this.pendingTextPaths,Yt=this.ctx;if(Xt===void 0){Yt.beginPath();return}Yt.save(),Yt.beginPath();for(const tn of Xt)Yt.setTransform(...tn.transform),Yt.translate(tn.x,tn.y),tn.addToPath(Yt,tn.fontSize);Yt.restore(),Yt.clip(),Yt.beginPath(),delete this.pendingTextPaths}setCharSpacing(Xt){this.current.charSpacing=Xt}setWordSpacing(Xt){this.current.wordSpacing=Xt}setHScale(Xt){this.current.textHScale=Xt/100}setLeading(Xt){this.current.leading=-Xt}setFont(Xt,Yt){var Un;const tn=this.commonObjs.get(Xt),dn=this.current;if(!tn)throw new Error(`Can't find font for ${Xt}`);if(dn.fontMatrix=tn.fontMatrix||vt.FONT_IDENTITY_MATRIX,(dn.fontMatrix[0]===0||dn.fontMatrix[3]===0)&&(0,vt.warn)("Invalid font matrix for font "+Xt),Yt<0?(Yt=-Yt,dn.fontDirection=-1):dn.fontDirection=1,this.current.font=tn,this.current.fontSize=Yt,tn.isType3Font)return;const ln=tn.loadedName||"sans-serif",fn=((Un=tn.systemFontInfo)==null?void 0:Un.css)||`"${ln}", ${tn.fallbackName}`;let Sn="normal";tn.black?Sn="900":tn.bold&&(Sn="bold");const Mn=tn.italic?"italic":"normal";let Hn=Yt;Yt<_t?Hn=_t:Yt>At&&(Hn=At),this.current.fontSizeScale=Yt/Hn,this.ctx.font=`${Mn} ${Sn} ${Hn}px ${fn}`}setTextRenderingMode(Xt){this.current.textRenderingMode=Xt}setTextRise(Xt){this.current.textRise=Xt}moveText(Xt,Yt){this.current.x=this.current.lineX+=Xt,this.current.y=this.current.lineY+=Yt}setLeadingMoveText(Xt,Yt){this.setLeading(-Yt),this.moveText(Xt,Yt)}setTextMatrix(Xt,Yt,tn,dn,ln,fn){this.current.textMatrix=[Xt,Yt,tn,dn,ln,fn],this.current.textMatrixScale=Math.hypot(Xt,Yt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Xt,Yt,tn,dn){const ln=this.ctx,fn=this.current,Sn=fn.font,Mn=fn.textRenderingMode,Hn=fn.fontSize/fn.fontSizeScale,Un=Mn&vt.TextRenderingMode.FILL_STROKE_MASK,Wn=!!(Mn&vt.TextRenderingMode.ADD_TO_PATH_FLAG),Xn=fn.patternFill&&!Sn.missingFile;let Kn;(Sn.disableFontFace||Wn||Xn)&&(Kn=Sn.getPathGenerator(this.commonObjs,Xt)),Sn.disableFontFace||Xn?(ln.save(),ln.translate(Yt,tn),ln.beginPath(),Kn(ln,Hn),dn&&ln.setTransform(...dn),(Un===vt.TextRenderingMode.FILL||Un===vt.TextRenderingMode.FILL_STROKE)&&ln.fill(),(Un===vt.TextRenderingMode.STROKE||Un===vt.TextRenderingMode.FILL_STROKE)&&ln.stroke(),ln.restore()):((Un===vt.TextRenderingMode.FILL||Un===vt.TextRenderingMode.FILL_STROKE)&&ln.fillText(Xt,Yt,tn),(Un===vt.TextRenderingMode.STROKE||Un===vt.TextRenderingMode.FILL_STROKE)&&ln.strokeText(Xt,Yt,tn)),Wn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,xt.getCurrentTransform)(ln),x:Yt,y:tn,fontSize:Hn,addToPath:Kn})}get isFontSubpixelAAEnabled(){const{context:Xt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Xt.scale(1.5,1),Xt.fillText("I",0,10);const Yt=Xt.getImageData(0,0,10,10).data;let tn=!1;for(let dn=3;dn<Yt.length;dn+=4)if(Yt[dn]>0&&Yt[dn]<255){tn=!0;break}return(0,vt.shadow)(this,"isFontSubpixelAAEnabled",tn)}showText(Xt){const Yt=this.current,tn=Yt.font;if(tn.isType3Font)return this.showType3Text(Xt);const dn=Yt.fontSize;if(dn===0)return;const ln=this.ctx,fn=Yt.fontSizeScale,Sn=Yt.charSpacing,Mn=Yt.wordSpacing,Hn=Yt.fontDirection,Un=Yt.textHScale*Hn,Wn=Xt.length,Xn=tn.vertical,Kn=Xn?1:-1,Tn=tn.defaultVMetrics,Fn=dn*Yt.fontMatrix[0],sn=Yt.textRenderingMode===vt.TextRenderingMode.FILL&&!tn.disableFontFace&&!Yt.patternFill;ln.save(),ln.transform(...Yt.textMatrix),ln.translate(Yt.x,Yt.y+Yt.textRise),Hn>0?ln.scale(Un,-1):ln.scale(Un,1);let mn;if(Yt.patternFill){ln.save();const qn=Yt.fillColor.getPattern(ln,this,(0,xt.getCurrentTransformInverse)(ln),bt.PathType.FILL);mn=(0,xt.getCurrentTransform)(ln),ln.restore(),ln.fillStyle=qn}let Pn=Yt.lineWidth;const Nn=Yt.textMatrixScale;if(Nn===0||Pn===0){const qn=Yt.textRenderingMode&vt.TextRenderingMode.FILL_STROKE_MASK;(qn===vt.TextRenderingMode.STROKE||qn===vt.TextRenderingMode.FILL_STROKE)&&(Pn=this.getSinglePixelWidth())}else Pn/=Nn;if(fn!==1&&(ln.scale(fn,fn),Pn/=fn),ln.lineWidth=Pn,tn.isInvalidPDFjsFont){const qn=[];let kn=0;for(const sr of Xt)qn.push(sr.unicode),kn+=sr.width;ln.fillText(qn.join(""),0,0),Yt.x+=kn*Fn*Un,ln.restore(),this.compose();return}let Vn=0,Qn;for(Qn=0;Qn<Wn;++Qn){const qn=Xt[Qn];if(typeof qn=="number"){Vn+=Kn*qn*dn/1e3;continue}let kn=!1;const sr=(qn.isSpace?Mn:0)+Sn,rr=qn.fontChar,$r=qn.accent;let Pr,zr,dr=qn.width;if(Xn){const Wr=qn.vmetric||Tn,rs=-(qn.vmetric?Wr[1]:dr*.5)*Fn,Yn=Wr[2]*Fn;dr=Wr?-Wr[0]:dr,Pr=rs/fn,zr=(Vn+Yn)/fn}else Pr=Vn/fn,zr=0;if(tn.remeasure&&dr>0){const Wr=ln.measureText(rr).width*1e3/dn*fn;if(dr<Wr&&this.isFontSubpixelAAEnabled){const rs=dr/Wr;kn=!0,ln.save(),ln.scale(rs,1),Pr/=rs}else dr!==Wr&&(Pr+=(dr-Wr)/2e3*dn/fn)}if(this.contentVisible&&(qn.isInFont||tn.missingFile)){if(sn&&!$r)ln.fillText(rr,Pr,zr);else if(this.paintChar(rr,Pr,zr,mn),$r){const Wr=Pr+dn*$r.offset.x/fn,rs=zr-dn*$r.offset.y/fn;this.paintChar($r.fontChar,Wr,rs,mn)}}const gr=Xn?dr*Fn-sr*Hn:dr*Fn+sr*Hn;Vn+=gr,kn&&ln.restore()}Xn?Yt.y-=Vn:Yt.x+=Vn*Un,ln.restore(),this.compose()}showType3Text(Xt){const Yt=this.ctx,tn=this.current,dn=tn.font,ln=tn.fontSize,fn=tn.fontDirection,Sn=dn.vertical?1:-1,Mn=tn.charSpacing,Hn=tn.wordSpacing,Un=tn.textHScale*fn,Wn=tn.fontMatrix||vt.FONT_IDENTITY_MATRIX,Xn=Xt.length,Kn=tn.textRenderingMode===vt.TextRenderingMode.INVISIBLE;let Tn,Fn,sn,mn;if(!(Kn||ln===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Yt.save(),Yt.transform(...tn.textMatrix),Yt.translate(tn.x,tn.y),Yt.scale(Un,fn),Tn=0;Tn<Xn;++Tn){if(Fn=Xt[Tn],typeof Fn=="number"){mn=Sn*Fn*ln/1e3,this.ctx.translate(mn,0),tn.x+=mn*Un;continue}const Pn=(Fn.isSpace?Hn:0)+Mn,Nn=dn.charProcOperatorList[Fn.operatorListId];if(!Nn){(0,vt.warn)(`Type3 character "${Fn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Fn,this.save(),Yt.scale(ln,ln),Yt.transform(...Wn),this.executeOperatorList(Nn),this.restore()),sn=vt.Util.applyTransform([Fn.width,0],Wn)[0]*ln+Pn,Yt.translate(sn,0),tn.x+=sn*Un}Yt.restore(),this.processingType3=null}}setCharWidth(Xt,Yt){}setCharWidthAndBounds(Xt,Yt,tn,dn,ln,fn){this.ctx.rect(tn,dn,ln-tn,fn-dn),this.ctx.clip(),this.endPath()}getColorN_Pattern(Xt){let Yt;if(Xt[0]==="TilingPattern"){const tn=Xt[1],dn=this.baseTransform||(0,xt.getCurrentTransform)(this.ctx),ln={createCanvasGraphics:fn=>new wn(fn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Yt=new bt.TilingPattern(Xt,tn,this.ctx,ln,dn)}else Yt=this._getPattern(Xt[1],Xt[2]);return Yt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Xt,Yt,tn){const dn=vt.Util.makeHexColor(Xt,Yt,tn);this.ctx.strokeStyle=dn,this.current.strokeColor=dn}setFillRGBColor(Xt,Yt,tn){const dn=vt.Util.makeHexColor(Xt,Yt,tn);this.ctx.fillStyle=dn,this.current.fillColor=dn,this.current.patternFill=!1}_getPattern(Xt,Yt=null){let tn;return this.cachedPatterns.has(Xt)?tn=this.cachedPatterns.get(Xt):(tn=(0,bt.getShadingPattern)(this.getObject(Xt)),this.cachedPatterns.set(Xt,tn)),Yt&&(tn.matrix=Yt),tn}shadingFill(Xt){if(!this.contentVisible)return;const Yt=this.ctx;this.save();const tn=this._getPattern(Xt);Yt.fillStyle=tn.getPattern(Yt,this,(0,xt.getCurrentTransformInverse)(Yt),bt.PathType.SHADING);const dn=(0,xt.getCurrentTransformInverse)(Yt);if(dn){const{width:ln,height:fn}=Yt.canvas,[Sn,Mn,Hn,Un]=vt.Util.getAxialAlignedBoundingBox([0,0,ln,fn],dn);this.ctx.fillRect(Sn,Mn,Hn-Sn,Un-Mn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,vt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,vt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Xt,Yt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Xt)&&Xt.length===6&&this.transform(...Xt),this.baseTransform=(0,xt.getCurrentTransform)(this.ctx),Yt)){const tn=Yt[2]-Yt[0],dn=Yt[3]-Yt[1];this.ctx.rect(Yt[0],Yt[1],tn,dn),this.current.updateRectMinMax((0,xt.getCurrentTransform)(this.ctx),Yt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Xt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Yt=this.ctx;Xt.isolated||(0,vt.info)("TODO: Support non-isolated groups."),Xt.knockout&&(0,vt.warn)("Knockout groups not supported.");const tn=(0,xt.getCurrentTransform)(Yt);if(Xt.matrix&&Yt.transform(...Xt.matrix),!Xt.bbox)throw new Error("Bounding box is required.");let dn=vt.Util.getAxialAlignedBoundingBox(Xt.bbox,(0,xt.getCurrentTransform)(Yt));const ln=[0,0,Yt.canvas.width,Yt.canvas.height];dn=vt.Util.intersect(dn,ln)||[0,0,0,0];const fn=Math.floor(dn[0]),Sn=Math.floor(dn[1]);let Mn=Math.max(Math.ceil(dn[2])-fn,1),Hn=Math.max(Math.ceil(dn[3])-Sn,1),Un=1,Wn=1;Mn>Ct&&(Un=Mn/Ct,Mn=Ct),Hn>Ct&&(Wn=Hn/Ct,Hn=Ct),this.current.startNewPathAndClipBox([0,0,Mn,Hn]);let Xn="groupAt"+this.groupLevel;Xt.smask&&(Xn+="_smask_"+this.smaskCounter++%2);const Kn=this.cachedCanvases.getCanvas(Xn,Mn,Hn),Tn=Kn.context;Tn.scale(1/Un,1/Wn),Tn.translate(-fn,-Sn),Tn.transform(...tn),Xt.smask?this.smaskStack.push({canvas:Kn.canvas,context:Tn,offsetX:fn,offsetY:Sn,scaleX:Un,scaleY:Wn,subtype:Xt.smask.subtype,backdrop:Xt.smask.backdrop,transferMap:Xt.smask.transferMap||null,startTransformInverse:null}):(Yt.setTransform(1,0,0,1,0,0),Yt.translate(fn,Sn),Yt.scale(Un,Wn),Yt.save()),Nt(Yt,Tn),this.ctx=Tn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Yt),this.groupLevel++}endGroup(Xt){if(!this.contentVisible)return;this.groupLevel--;const Yt=this.ctx,tn=this.groupStack.pop();if(this.ctx=tn,this.ctx.imageSmoothingEnabled=!1,Xt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const dn=(0,xt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...dn);const ln=vt.Util.getAxialAlignedBoundingBox([0,0,Yt.canvas.width,Yt.canvas.height],dn);this.ctx.drawImage(Yt.canvas,0,0),this.ctx.restore(),this.compose(ln)}}beginAnnotation(Xt,Yt,tn,dn,ln){if(Ut(this,hn,OE).call(this),Ht(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Yt)&&Yt.length===4){const fn=Yt[2]-Yt[0],Sn=Yt[3]-Yt[1];if(ln&&this.annotationCanvasMap){tn=tn.slice(),tn[4]-=Yt[0],tn[5]-=Yt[1],Yt=Yt.slice(),Yt[0]=Yt[1]=0,Yt[2]=fn,Yt[3]=Sn;const[Mn,Hn]=vt.Util.singularValueDecompose2dScale((0,xt.getCurrentTransform)(this.ctx)),{viewportScale:Un}=this,Wn=Math.ceil(fn*this.outputScaleX*Un),Xn=Math.ceil(Sn*this.outputScaleY*Un);this.annotationCanvas=this.canvasFactory.create(Wn,Xn);const{canvas:Kn,context:Tn}=this.annotationCanvas;this.annotationCanvasMap.set(Xt,Kn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Tn,this.ctx.save(),this.ctx.setTransform(Mn,0,0,-Hn,0,Sn*Hn),Ht(this.ctx)}else Ht(this.ctx),this.ctx.rect(Yt[0],Yt[1],fn,Sn),this.ctx.clip(),this.endPath()}this.current=new Dt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...tn),this.transform(...dn)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ut(this,hn,$E).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Xt){if(!this.contentVisible)return;const Yt=Xt.count;Xt=this.getObject(Xt.data,Xt),Xt.count=Yt;const tn=this.ctx,dn=this.processingType3;if(dn&&(dn.compiled===void 0&&(dn.compiled=Ft(Xt)),dn.compiled)){dn.compiled(tn);return}const ln=this._createMaskCanvas(Xt),fn=ln.canvas;tn.save(),tn.setTransform(1,0,0,1,0,0),tn.drawImage(fn,ln.offsetX,ln.offsetY),tn.restore(),this.compose()}paintImageMaskXObjectRepeat(Xt,Yt,tn=0,dn=0,ln,fn){if(!this.contentVisible)return;Xt=this.getObject(Xt.data,Xt);const Sn=this.ctx;Sn.save();const Mn=(0,xt.getCurrentTransform)(Sn);Sn.transform(Yt,tn,dn,ln,0,0);const Hn=this._createMaskCanvas(Xt);Sn.setTransform(1,0,0,1,Hn.offsetX-Mn[4],Hn.offsetY-Mn[5]);for(let Un=0,Wn=fn.length;Un<Wn;Un+=2){const Xn=vt.Util.transform(Mn,[Yt,tn,dn,ln,fn[Un],fn[Un+1]]),[Kn,Tn]=vt.Util.applyTransform([0,0],Xn);Sn.drawImage(Hn.canvas,Kn,Tn)}Sn.restore(),this.compose()}paintImageMaskXObjectGroup(Xt){if(!this.contentVisible)return;const Yt=this.ctx,tn=this.current.fillColor,dn=this.current.patternFill;for(const ln of Xt){const{data:fn,width:Sn,height:Mn,transform:Hn}=ln,Un=this.cachedCanvases.getCanvas("maskCanvas",Sn,Mn),Wn=Un.context;Wn.save();const Xn=this.getObject(fn,ln);Bt(Wn,Xn),Wn.globalCompositeOperation="source-in",Wn.fillStyle=dn?tn.getPattern(Wn,this,(0,xt.getCurrentTransformInverse)(Yt),bt.PathType.FILL):tn,Wn.fillRect(0,0,Sn,Mn),Wn.restore(),Yt.save(),Yt.transform(...Hn),Yt.scale(1,-1),Ot(Yt,Un.canvas,0,0,Sn,Mn,0,-1,1,1),Yt.restore()}this.compose()}paintImageXObject(Xt){if(!this.contentVisible)return;const Yt=this.getObject(Xt);if(!Yt){(0,vt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Yt)}paintImageXObjectRepeat(Xt,Yt,tn,dn){if(!this.contentVisible)return;const ln=this.getObject(Xt);if(!ln){(0,vt.warn)("Dependent image isn't ready yet");return}const fn=ln.width,Sn=ln.height,Mn=[];for(let Hn=0,Un=dn.length;Hn<Un;Hn+=2)Mn.push({transform:[Yt,0,0,tn,dn[Hn],dn[Hn+1]],x:0,y:0,w:fn,h:Sn});this.paintInlineImageXObjectGroup(ln,Mn)}applyTransferMapsToCanvas(Xt){return this.current.transferMaps!=="none"&&(Xt.filter=this.current.transferMaps,Xt.drawImage(Xt.canvas,0,0),Xt.filter="none"),Xt.canvas}applyTransferMapsToBitmap(Xt){if(this.current.transferMaps==="none")return Xt.bitmap;const{bitmap:Yt,width:tn,height:dn}=Xt,ln=this.cachedCanvases.getCanvas("inlineImage",tn,dn),fn=ln.context;return fn.filter=this.current.transferMaps,fn.drawImage(Yt,0,0),fn.filter="none",ln.canvas}paintInlineImageXObject(Xt){if(!this.contentVisible)return;const Yt=Xt.width,tn=Xt.height,dn=this.ctx;if(this.save(),!vt.isNodeJS){const{filter:Sn}=dn;Sn!=="none"&&Sn!==""&&(dn.filter="none")}dn.scale(1/Yt,-1/tn);let ln;if(Xt.bitmap)ln=this.applyTransferMapsToBitmap(Xt);else if(typeof HTMLElement=="function"&&Xt instanceof HTMLElement||!Xt.data)ln=Xt;else{const Mn=this.cachedCanvases.getCanvas("inlineImage",Yt,tn).context;$t(Mn,Xt),ln=this.applyTransferMapsToCanvas(Mn)}const fn=this._scaleImage(ln,(0,xt.getCurrentTransformInverse)(dn));dn.imageSmoothingEnabled=Qt((0,xt.getCurrentTransform)(dn),Xt.interpolate),Ot(dn,fn.img,0,0,fn.paintWidth,fn.paintHeight,0,-tn,Yt,tn),this.compose(),this.restore()}paintInlineImageXObjectGroup(Xt,Yt){if(!this.contentVisible)return;const tn=this.ctx;let dn;if(Xt.bitmap)dn=Xt.bitmap;else{const ln=Xt.width,fn=Xt.height,Mn=this.cachedCanvases.getCanvas("inlineImage",ln,fn).context;$t(Mn,Xt),dn=this.applyTransferMapsToCanvas(Mn)}for(const ln of Yt)tn.save(),tn.transform(...ln.transform),tn.scale(1,-1),Ot(tn,dn,ln.x,ln.y,ln.w,ln.h,0,-1,1,1),tn.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Xt){}markPointProps(Xt,Yt){}beginMarkedContent(Xt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Xt,Yt){Xt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Yt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Xt){const Yt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Xt);const tn=this.ctx;this.pendingClip&&(Yt||(this.pendingClip===xn?tn.clip("evenodd"):tn.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),tn.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Xt=(0,xt.getCurrentTransform)(this.ctx);if(Xt[1]===0&&Xt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Xt[0]),Math.abs(Xt[3]));else{const Yt=Math.abs(Xt[0]*Xt[3]-Xt[2]*Xt[1]),tn=Math.hypot(Xt[0],Xt[2]),dn=Math.hypot(Xt[1],Xt[3]);this._cachedGetSinglePixelWidth=Math.max(tn,dn)/Yt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Xt}=this.current,{a:Yt,b:tn,c:dn,d:ln}=this.ctx.getTransform();let fn,Sn;if(tn===0&&dn===0){const Mn=Math.abs(Yt),Hn=Math.abs(ln);if(Mn===Hn)if(Xt===0)fn=Sn=1/Mn;else{const Un=Mn*Xt;fn=Sn=Un<1?1/Un:1}else if(Xt===0)fn=1/Mn,Sn=1/Hn;else{const Un=Mn*Xt,Wn=Hn*Xt;fn=Un<1?1/Un:1,Sn=Wn<1?1/Wn:1}}else{const Mn=Math.abs(Yt*ln-tn*dn),Hn=Math.hypot(Yt,tn),Un=Math.hypot(dn,ln);if(Xt===0)fn=Un/Mn,Sn=Hn/Mn;else{const Wn=Xt*Mn;fn=Un>Wn?Un/Wn:1,Sn=Hn>Wn?Hn/Wn:1}}this._cachedScaleForStroking[0]=fn,this._cachedScaleForStroking[1]=Sn}return this._cachedScaleForStroking}rescaleAndStroke(Xt){const{ctx:Yt}=this,{lineWidth:tn}=this.current,[dn,ln]=this.getScaleForStroking();if(Yt.lineWidth=tn||1,dn===1&&ln===1){Yt.stroke();return}const fn=Yt.getLineDash();if(Xt&&Yt.save(),Yt.scale(dn,ln),fn.length>0){const Sn=Math.max(dn,ln);Yt.setLineDash(fn.map(Mn=>Mn/Sn)),Yt.lineDashOffset/=Sn}Yt.stroke(),Xt&&Yt.restore()}isContentVisible(){for(let Xt=this.markedContentStack.length-1;Xt>=0;Xt--)if(!this.markedContentStack[Xt].visible)return!1;return!0}};hn=new WeakSet,OE=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$E=function(){if(this.pageColors){const Xt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Xt!=="none"){const Yt=this.ctx.filter;this.ctx.filter=Xt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Yt}}};let an=wn;$.CanvasGraphics=an;for(const rn in vt.OPS)an.prototype[rn]!==void 0&&(an.prototype[vt.OPS[rn]]=an.prototype[rn])},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=kt;var vt=ht(1),xt=ht(6);const bt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=bt;function Et(Ft,Dt){if(!Dt)return;const $t=Dt[2]-Dt[0],Bt=Dt[3]-Dt[1],Nt=new Path2D;Nt.rect(Dt[0],Dt[1],$t,Bt),Ft.clip(Nt)}class _t{constructor(){this.constructor===_t&&(0,vt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,vt.unreachable)("Abstract method `getPattern` called.")}}class At extends _t{constructor(Dt){super(),this._type=Dt[1],this._bbox=Dt[2],this._colorStops=Dt[3],this._p0=Dt[4],this._p1=Dt[5],this._r0=Dt[6],this._r1=Dt[7],this.matrix=null}_createGradient(Dt){let $t;this._type==="axial"?$t=Dt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&($t=Dt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Bt of this._colorStops)$t.addColorStop(Bt[0],Bt[1]);return $t}getPattern(Dt,$t,Bt,Nt){let Ht;if(Nt===bt.STROKE||Nt===bt.FILL){const jt=$t.current.getClippedPathBoundingBox(Nt,(0,xt.getCurrentTransform)(Dt))||[0,0,0,0],zt=Math.ceil(jt[2]-jt[0])||1,Kt=Math.ceil(jt[3]-jt[1])||1,en=$t.cachedCanvases.getCanvas("pattern",zt,Kt,!0),Wt=en.context;Wt.clearRect(0,0,Wt.canvas.width,Wt.canvas.height),Wt.beginPath(),Wt.rect(0,0,Wt.canvas.width,Wt.canvas.height),Wt.translate(-jt[0],-jt[1]),Bt=vt.Util.transform(Bt,[1,0,0,1,jt[0],jt[1]]),Wt.transform(...$t.baseTransform),this.matrix&&Wt.transform(...this.matrix),Et(Wt,this._bbox),Wt.fillStyle=this._createGradient(Wt),Wt.fill(),Ht=Dt.createPattern(en.canvas,"no-repeat");const Qt=new DOMMatrix(Bt);Ht.setTransform(Qt)}else Et(Dt,this._bbox),Ht=this._createGradient(Dt);return Ht}}function Ct(Ft,Dt,$t,Bt,Nt,Ht,jt,zt){const Kt=Dt.coords,en=Dt.colors,Wt=Ft.data,Qt=Ft.width*4;let on;Kt[$t+1]>Kt[Bt+1]&&(on=$t,$t=Bt,Bt=on,on=Ht,Ht=jt,jt=on),Kt[Bt+1]>Kt[Nt+1]&&(on=Bt,Bt=Nt,Nt=on,on=jt,jt=zt,zt=on),Kt[$t+1]>Kt[Bt+1]&&(on=$t,$t=Bt,Bt=on,on=Ht,Ht=jt,jt=on);const En=(Kt[$t]+Dt.offsetX)*Dt.scaleX,un=(Kt[$t+1]+Dt.offsetY)*Dt.scaleY,xn=(Kt[Bt]+Dt.offsetX)*Dt.scaleX,an=(Kt[Bt+1]+Dt.offsetY)*Dt.scaleY,hn=(Kt[Nt]+Dt.offsetX)*Dt.scaleX,nn=(Kt[Nt+1]+Dt.offsetY)*Dt.scaleY;if(un>=nn)return;const gn=en[Ht],wn=en[Ht+1],rn=en[Ht+2],Xt=en[jt],Yt=en[jt+1],tn=en[jt+2],dn=en[zt],ln=en[zt+1],fn=en[zt+2],Sn=Math.round(un),Mn=Math.round(nn);let Hn,Un,Wn,Xn,Kn,Tn,Fn,sn;for(let mn=Sn;mn<=Mn;mn++){if(mn<an){const qn=mn<un?0:(un-mn)/(un-an);Hn=En-(En-xn)*qn,Un=gn-(gn-Xt)*qn,Wn=wn-(wn-Yt)*qn,Xn=rn-(rn-tn)*qn}else{let qn;mn>nn?qn=1:an===nn?qn=0:qn=(an-mn)/(an-nn),Hn=xn-(xn-hn)*qn,Un=Xt-(Xt-dn)*qn,Wn=Yt-(Yt-ln)*qn,Xn=tn-(tn-fn)*qn}let Pn;mn<un?Pn=0:mn>nn?Pn=1:Pn=(un-mn)/(un-nn),Kn=En-(En-hn)*Pn,Tn=gn-(gn-dn)*Pn,Fn=wn-(wn-ln)*Pn,sn=rn-(rn-fn)*Pn;const Nn=Math.round(Math.min(Hn,Kn)),Vn=Math.round(Math.max(Hn,Kn));let Qn=Qt*mn+Nn*4;for(let qn=Nn;qn<=Vn;qn++)Pn=(Hn-qn)/(Hn-Kn),Pn<0?Pn=0:Pn>1&&(Pn=1),Wt[Qn++]=Un-(Un-Tn)*Pn|0,Wt[Qn++]=Wn-(Wn-Fn)*Pn|0,Wt[Qn++]=Xn-(Xn-sn)*Pn|0,Wt[Qn++]=255}}function St(Ft,Dt,$t){const Bt=Dt.coords,Nt=Dt.colors;let Ht,jt;switch(Dt.type){case"lattice":const zt=Dt.verticesPerRow,Kt=Math.floor(Bt.length/zt)-1,en=zt-1;for(Ht=0;Ht<Kt;Ht++){let Wt=Ht*zt;for(let Qt=0;Qt<en;Qt++,Wt++)Ct(Ft,$t,Bt[Wt],Bt[Wt+1],Bt[Wt+zt],Nt[Wt],Nt[Wt+1],Nt[Wt+zt]),Ct(Ft,$t,Bt[Wt+zt+1],Bt[Wt+1],Bt[Wt+zt],Nt[Wt+zt+1],Nt[Wt+1],Nt[Wt+zt])}break;case"triangles":for(Ht=0,jt=Bt.length;Ht<jt;Ht+=3)Ct(Ft,$t,Bt[Ht],Bt[Ht+1],Bt[Ht+2],Nt[Ht],Nt[Ht+1],Nt[Ht+2]);break;default:throw new Error("illegal figure")}}class Rt extends _t{constructor(Dt){super(),this._coords=Dt[2],this._colors=Dt[3],this._figures=Dt[4],this._bounds=Dt[5],this._bbox=Dt[7],this._background=Dt[8],this.matrix=null}_createMeshCanvas(Dt,$t,Bt){const zt=Math.floor(this._bounds[0]),Kt=Math.floor(this._bounds[1]),en=Math.ceil(this._bounds[2])-zt,Wt=Math.ceil(this._bounds[3])-Kt,Qt=Math.min(Math.ceil(Math.abs(en*Dt[0]*1.1)),3e3),on=Math.min(Math.ceil(Math.abs(Wt*Dt[1]*1.1)),3e3),En=en/Qt,un=Wt/on,xn={coords:this._coords,colors:this._colors,offsetX:-zt,offsetY:-Kt,scaleX:1/En,scaleY:1/un},an=Qt+2*2,hn=on+2*2,nn=Bt.getCanvas("mesh",an,hn,!1),gn=nn.context,wn=gn.createImageData(Qt,on);if($t){const Xt=wn.data;for(let Yt=0,tn=Xt.length;Yt<tn;Yt+=4)Xt[Yt]=$t[0],Xt[Yt+1]=$t[1],Xt[Yt+2]=$t[2],Xt[Yt+3]=255}for(const Xt of this._figures)St(wn,Xt,xn);return gn.putImageData(wn,2,2),{canvas:nn.canvas,offsetX:zt-2*En,offsetY:Kt-2*un,scaleX:En,scaleY:un}}getPattern(Dt,$t,Bt,Nt){Et(Dt,this._bbox);let Ht;if(Nt===bt.SHADING)Ht=vt.Util.singularValueDecompose2dScale((0,xt.getCurrentTransform)(Dt));else if(Ht=vt.Util.singularValueDecompose2dScale($t.baseTransform),this.matrix){const zt=vt.Util.singularValueDecompose2dScale(this.matrix);Ht=[Ht[0]*zt[0],Ht[1]*zt[1]]}const jt=this._createMeshCanvas(Ht,Nt===bt.SHADING?null:this._background,$t.cachedCanvases);return Nt!==bt.SHADING&&(Dt.setTransform(...$t.baseTransform),this.matrix&&Dt.transform(...this.matrix)),Dt.translate(jt.offsetX,jt.offsetY),Dt.scale(jt.scaleX,jt.scaleY),Dt.createPattern(jt.canvas,"no-repeat")}}class Pt extends _t{getPattern(){return"hotpink"}}function kt(Ft){switch(Ft[0]){case"RadialAxial":return new At(Ft);case"Mesh":return new Rt(Ft);case"Dummy":return new Pt}throw new Error(`Unknown IR type: ${Ft[0]}`)}const Mt={COLORED:1,UNCOLORED:2},Ot=class Ot{constructor(Dt,$t,Bt,Nt,Ht){this.operatorList=Dt[2],this.matrix=Dt[3]||[1,0,0,1,0,0],this.bbox=Dt[4],this.xstep=Dt[5],this.ystep=Dt[6],this.paintType=Dt[7],this.tilingType=Dt[8],this.color=$t,this.ctx=Bt,this.canvasGraphicsFactory=Nt,this.baseTransform=Ht}createPatternCanvas(Dt){const $t=this.operatorList,Bt=this.bbox,Nt=this.xstep,Ht=this.ystep,jt=this.paintType,zt=this.tilingType,Kt=this.color,en=this.canvasGraphicsFactory;(0,vt.info)("TilingType: "+zt);const Wt=Bt[0],Qt=Bt[1],on=Bt[2],En=Bt[3],un=vt.Util.singularValueDecompose2dScale(this.matrix),xn=vt.Util.singularValueDecompose2dScale(this.baseTransform),an=[un[0]*xn[0],un[1]*xn[1]],hn=this.getSizeAndScale(Nt,this.ctx.canvas.width,an[0]),nn=this.getSizeAndScale(Ht,this.ctx.canvas.height,an[1]),gn=Dt.cachedCanvases.getCanvas("pattern",hn.size,nn.size,!0),wn=gn.context,rn=en.createCanvasGraphics(wn);rn.groupLevel=Dt.groupLevel,this.setFillAndStrokeStyleToContext(rn,jt,Kt);let Xt=Wt,Yt=Qt,tn=on,dn=En;return Wt<0&&(Xt=0,tn+=Math.abs(Wt)),Qt<0&&(Yt=0,dn+=Math.abs(Qt)),wn.translate(-(hn.scale*Xt),-(nn.scale*Yt)),rn.transform(hn.scale,0,0,nn.scale,0,0),wn.save(),this.clipBbox(rn,Xt,Yt,tn,dn),rn.baseTransform=(0,xt.getCurrentTransform)(rn.ctx),rn.executeOperatorList($t),rn.endDrawing(),{canvas:gn.canvas,scaleX:hn.scale,scaleY:nn.scale,offsetX:Xt,offsetY:Yt}}getSizeAndScale(Dt,$t,Bt){Dt=Math.abs(Dt);const Nt=Math.max(Ot.MAX_PATTERN_SIZE,$t);let Ht=Math.ceil(Dt*Bt);return Ht>=Nt?Ht=Nt:Bt=Ht/Dt,{scale:Bt,size:Ht}}clipBbox(Dt,$t,Bt,Nt,Ht){const jt=Nt-$t,zt=Ht-Bt;Dt.ctx.rect($t,Bt,jt,zt),Dt.current.updateRectMinMax((0,xt.getCurrentTransform)(Dt.ctx),[$t,Bt,Nt,Ht]),Dt.clip(),Dt.endPath()}setFillAndStrokeStyleToContext(Dt,$t,Bt){const Nt=Dt.ctx,Ht=Dt.current;switch($t){case Mt.COLORED:const jt=this.ctx;Nt.fillStyle=jt.fillStyle,Nt.strokeStyle=jt.strokeStyle,Ht.fillColor=jt.fillStyle,Ht.strokeColor=jt.strokeStyle;break;case Mt.UNCOLORED:const zt=vt.Util.makeHexColor(Bt[0],Bt[1],Bt[2]);Nt.fillStyle=zt,Nt.strokeStyle=zt,Ht.fillColor=zt,Ht.strokeColor=zt;break;default:throw new vt.FormatError(`Unsupported paint type: ${$t}`)}}getPattern(Dt,$t,Bt,Nt){let Ht=Bt;Nt!==bt.SHADING&&(Ht=vt.Util.transform(Ht,$t.baseTransform),this.matrix&&(Ht=vt.Util.transform(Ht,this.matrix)));const jt=this.createPatternCanvas($t);let zt=new DOMMatrix(Ht);zt=zt.translate(jt.offsetX,jt.offsetY),zt=zt.scale(1/jt.scaleX,1/jt.scaleY);const Kt=Dt.createPattern(jt.canvas,"repeat");return Kt.setTransform(zt),Kt}};Sr(Ot,"MAX_PATTERN_SIZE",3e3);let Lt=Ot;$.TilingPattern=Lt},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=bt,$.convertToRGBA=xt,$.grayToRGBA=_t;var vt=ht(1);function xt(At){switch(At.kind){case vt.ImageKind.GRAYSCALE_1BPP:return bt(At);case vt.ImageKind.RGB_24BPP:return Et(At)}return null}function bt({src:At,srcPos:Ct=0,dest:St,width:Rt,height:Pt,nonBlackColor:kt=4294967295,inverseDecode:Mt=!1}){const Lt=vt.FeatureTest.isLittleEndian?4278190080:255,[Ot,Ft]=Mt?[kt,Lt]:[Lt,kt],Dt=Rt>>3,$t=Rt&7,Bt=At.length;St=new Uint32Array(St.buffer);let Nt=0;for(let Ht=0;Ht<Pt;Ht++){for(const zt=Ct+Dt;Ct<zt;Ct++){const Kt=Ct<Bt?At[Ct]:255;St[Nt++]=Kt&128?Ft:Ot,St[Nt++]=Kt&64?Ft:Ot,St[Nt++]=Kt&32?Ft:Ot,St[Nt++]=Kt&16?Ft:Ot,St[Nt++]=Kt&8?Ft:Ot,St[Nt++]=Kt&4?Ft:Ot,St[Nt++]=Kt&2?Ft:Ot,St[Nt++]=Kt&1?Ft:Ot}if($t===0)continue;const jt=Ct<Bt?At[Ct++]:255;for(let zt=0;zt<$t;zt++)St[Nt++]=jt&1<<7-zt?Ft:Ot}return{srcPos:Ct,destPos:Nt}}function Et({src:At,srcPos:Ct=0,dest:St,destPos:Rt=0,width:Pt,height:kt}){let Mt=0;const Lt=At.length>>2,Ot=new Uint32Array(At.buffer,Ct,Lt);if(vt.FeatureTest.isLittleEndian){for(;Mt<Lt-2;Mt+=3,Rt+=4){const Ft=Ot[Mt],Dt=Ot[Mt+1],$t=Ot[Mt+2];St[Rt]=Ft|4278190080,St[Rt+1]=Ft>>>24|Dt<<8|4278190080,St[Rt+2]=Dt>>>16|$t<<16|4278190080,St[Rt+3]=$t>>>8|4278190080}for(let Ft=Mt*4,Dt=At.length;Ft<Dt;Ft+=3)St[Rt++]=At[Ft]|At[Ft+1]<<8|At[Ft+2]<<16|4278190080}else{for(;Mt<Lt-2;Mt+=3,Rt+=4){const Ft=Ot[Mt],Dt=Ot[Mt+1],$t=Ot[Mt+2];St[Rt]=Ft|255,St[Rt+1]=Ft<<24|Dt>>>8|255,St[Rt+2]=Dt<<16|$t>>>16|255,St[Rt+3]=$t<<8|255}for(let Ft=Mt*4,Dt=At.length;Ft<Dt;Ft+=3)St[Rt++]=At[Ft]<<24|At[Ft+1]<<16|At[Ft+2]<<8|255}return{srcPos:Ct,destPos:Rt}}function _t(At,Ct){if(vt.FeatureTest.isLittleEndian)for(let St=0,Rt=At.length;St<Rt;St++)Ct[St]=At[St]*65793|4278190080;else for(let St=0,Rt=At.length;St<Rt;St++)Ct[St]=At[St]*16843008|255}},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const ht=Object.create(null);$.GlobalWorkerOptions=ht,ht.workerPort=null,ht.workerSrc=""},(_e,$,ht)=>{var At,ew,tw,jy;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var vt=ht(1);const xt={UNKNOWN:0,DATA:1,ERROR:2},bt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Et(Pt){switch(Pt instanceof Error||typeof Pt=="object"&&Pt!==null||(0,vt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Pt.name){case"AbortException":return new vt.AbortException(Pt.message);case"MissingPDFException":return new vt.MissingPDFException(Pt.message);case"PasswordException":return new vt.PasswordException(Pt.message,Pt.code);case"UnexpectedResponseException":return new vt.UnexpectedResponseException(Pt.message,Pt.status);case"UnknownErrorException":return new vt.UnknownErrorException(Pt.message,Pt.details);default:return new vt.UnknownErrorException(Pt.message,Pt.toString())}}class _t{constructor(kt,Mt,Lt){qt(this,At);this.sourceName=kt,this.targetName=Mt,this.comObj=Lt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Ot=>{const Ft=Ot.data;if(Ft.targetName!==this.sourceName)return;if(Ft.stream){Ut(this,At,tw).call(this,Ft);return}if(Ft.callback){const $t=Ft.callbackId,Bt=this.callbackCapabilities[$t];if(!Bt)throw new Error(`Cannot resolve callback ${$t}`);if(delete this.callbackCapabilities[$t],Ft.callback===xt.DATA)Bt.resolve(Ft.data);else if(Ft.callback===xt.ERROR)Bt.reject(Et(Ft.reason));else throw new Error("Unexpected callback case");return}const Dt=this.actionHandler[Ft.action];if(!Dt)throw new Error(`Unknown action from worker: ${Ft.action}`);if(Ft.callbackId){const $t=this.sourceName,Bt=Ft.sourceName;new Promise(function(Nt){Nt(Dt(Ft.data))}).then(function(Nt){Lt.postMessage({sourceName:$t,targetName:Bt,callback:xt.DATA,callbackId:Ft.callbackId,data:Nt})},function(Nt){Lt.postMessage({sourceName:$t,targetName:Bt,callback:xt.ERROR,callbackId:Ft.callbackId,reason:Et(Nt)})});return}if(Ft.streamId){Ut(this,At,ew).call(this,Ft);return}Dt(Ft.data)},Lt.addEventListener("message",this._onComObjOnMessage)}on(kt,Mt){const Lt=this.actionHandler;if(Lt[kt])throw new Error(`There is already an actionName called "${kt}"`);Lt[kt]=Mt}send(kt,Mt,Lt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:kt,data:Mt},Lt)}sendWithPromise(kt,Mt,Lt){const Ot=this.callbackId++,Ft=new vt.PromiseCapability;this.callbackCapabilities[Ot]=Ft;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:kt,callbackId:Ot,data:Mt},Lt)}catch(Dt){Ft.reject(Dt)}return Ft.promise}sendWithStream(kt,Mt,Lt,Ot){const Ft=this.streamId++,Dt=this.sourceName,$t=this.targetName,Bt=this.comObj;return new ReadableStream({start:Nt=>{const Ht=new vt.PromiseCapability;return this.streamControllers[Ft]={controller:Nt,startCall:Ht,pullCall:null,cancelCall:null,isClosed:!1},Bt.postMessage({sourceName:Dt,targetName:$t,action:kt,streamId:Ft,data:Mt,desiredSize:Nt.desiredSize},Ot),Ht.promise},pull:Nt=>{const Ht=new vt.PromiseCapability;return this.streamControllers[Ft].pullCall=Ht,Bt.postMessage({sourceName:Dt,targetName:$t,stream:bt.PULL,streamId:Ft,desiredSize:Nt.desiredSize}),Ht.promise},cancel:Nt=>{(0,vt.assert)(Nt instanceof Error,"cancel must have a valid reason");const Ht=new vt.PromiseCapability;return this.streamControllers[Ft].cancelCall=Ht,this.streamControllers[Ft].isClosed=!0,Bt.postMessage({sourceName:Dt,targetName:$t,stream:bt.CANCEL,streamId:Ft,reason:Et(Nt)}),Ht.promise}},Lt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}At=new WeakSet,ew=function(kt){const Mt=kt.streamId,Lt=this.sourceName,Ot=kt.sourceName,Ft=this.comObj,Dt=this,$t=this.actionHandler[kt.action],Bt={enqueue(Nt,Ht=1,jt){if(this.isCancelled)return;const zt=this.desiredSize;this.desiredSize-=Ht,zt>0&&this.desiredSize<=0&&(this.sinkCapability=new vt.PromiseCapability,this.ready=this.sinkCapability.promise),Ft.postMessage({sourceName:Lt,targetName:Ot,stream:bt.ENQUEUE,streamId:Mt,chunk:Nt},jt)},close(){this.isCancelled||(this.isCancelled=!0,Ft.postMessage({sourceName:Lt,targetName:Ot,stream:bt.CLOSE,streamId:Mt}),delete Dt.streamSinks[Mt])},error(Nt){(0,vt.assert)(Nt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Ft.postMessage({sourceName:Lt,targetName:Ot,stream:bt.ERROR,streamId:Mt,reason:Et(Nt)}))},sinkCapability:new vt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:kt.desiredSize,ready:null};Bt.sinkCapability.resolve(),Bt.ready=Bt.sinkCapability.promise,this.streamSinks[Mt]=Bt,new Promise(function(Nt){Nt($t(kt.data,Bt))}).then(function(){Ft.postMessage({sourceName:Lt,targetName:Ot,stream:bt.START_COMPLETE,streamId:Mt,success:!0})},function(Nt){Ft.postMessage({sourceName:Lt,targetName:Ot,stream:bt.START_COMPLETE,streamId:Mt,reason:Et(Nt)})})},tw=function(kt){const Mt=kt.streamId,Lt=this.sourceName,Ot=kt.sourceName,Ft=this.comObj,Dt=this.streamControllers[Mt],$t=this.streamSinks[Mt];switch(kt.stream){case bt.START_COMPLETE:kt.success?Dt.startCall.resolve():Dt.startCall.reject(Et(kt.reason));break;case bt.PULL_COMPLETE:kt.success?Dt.pullCall.resolve():Dt.pullCall.reject(Et(kt.reason));break;case bt.PULL:if(!$t){Ft.postMessage({sourceName:Lt,targetName:Ot,stream:bt.PULL_COMPLETE,streamId:Mt,success:!0});break}$t.desiredSize<=0&&kt.desiredSize>0&&$t.sinkCapability.resolve(),$t.desiredSize=kt.desiredSize,new Promise(function(Bt){var Nt;Bt((Nt=$t.onPull)==null?void 0:Nt.call($t))}).then(function(){Ft.postMessage({sourceName:Lt,targetName:Ot,stream:bt.PULL_COMPLETE,streamId:Mt,success:!0})},function(Bt){Ft.postMessage({sourceName:Lt,targetName:Ot,stream:bt.PULL_COMPLETE,streamId:Mt,reason:Et(Bt)})});break;case bt.ENQUEUE:if((0,vt.assert)(Dt,"enqueue should have stream controller"),Dt.isClosed)break;Dt.controller.enqueue(kt.chunk);break;case bt.CLOSE:if((0,vt.assert)(Dt,"close should have stream controller"),Dt.isClosed)break;Dt.isClosed=!0,Dt.controller.close(),Ut(this,At,jy).call(this,Dt,Mt);break;case bt.ERROR:(0,vt.assert)(Dt,"error should have stream controller"),Dt.controller.error(Et(kt.reason)),Ut(this,At,jy).call(this,Dt,Mt);break;case bt.CANCEL_COMPLETE:kt.success?Dt.cancelCall.resolve():Dt.cancelCall.reject(Et(kt.reason)),Ut(this,At,jy).call(this,Dt,Mt);break;case bt.CANCEL:if(!$t)break;new Promise(function(Bt){var Nt;Bt((Nt=$t.onCancel)==null?void 0:Nt.call($t,Et(kt.reason)))}).then(function(){Ft.postMessage({sourceName:Lt,targetName:Ot,stream:bt.CANCEL_COMPLETE,streamId:Mt,success:!0})},function(Bt){Ft.postMessage({sourceName:Lt,targetName:Ot,stream:bt.CANCEL_COMPLETE,streamId:Mt,reason:Et(Bt)})}),$t.sinkCapability.reject(Et(kt.reason)),$t.isCancelled=!0,delete this.streamSinks[Mt];break;default:throw new Error("Unexpected stream case")}},jy=async function(kt,Mt){var Lt,Ot,Ft;await Promise.allSettled([(Lt=kt.startCall)==null?void 0:Lt.promise,(Ot=kt.pullCall)==null?void 0:Ot.promise,(Ft=kt.cancelCall)==null?void 0:Ft.promise]),delete this.streamControllers[Mt]},$.MessageHandler=_t},(_e,$,ht)=>{var bt,Et;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var vt=ht(1);class xt{constructor({parsedData:At,rawData:Ct}){qt(this,bt);qt(this,Et);Vt(this,bt,At),Vt(this,Et,Ct)}getRaw(){return wt(this,Et)}get(At){return wt(this,bt).get(At)??null}getAll(){return(0,vt.objectFromMap)(wt(this,bt))}has(At){return wt(this,bt).has(At)}}bt=new WeakMap,Et=new WeakMap,$.Metadata=xt},(_e,$,ht)=>{var At,Ct,St,Rt,Pt,kt,NE;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var vt=ht(1),xt=ht(8);const bt=Symbol("INTERNAL");class Et{constructor(Ot,Ft){qt(this,At,!0);this.name=Ot,this.intent=Ft}get visible(){return wt(this,At)}_setVisible(Ot,Ft){Ot!==bt&&(0,vt.unreachable)("Internal method `_setVisible` called."),Vt(this,At,Ft)}}At=new WeakMap;class _t{constructor(Ot){qt(this,kt);qt(this,Ct,null);qt(this,St,new Map);qt(this,Rt,null);qt(this,Pt,null);if(this.name=null,this.creator=null,Ot!==null){this.name=Ot.name,this.creator=Ot.creator,Vt(this,Pt,Ot.order);for(const Ft of Ot.groups)wt(this,St).set(Ft.id,new Et(Ft.name,Ft.intent));if(Ot.baseState==="OFF")for(const Ft of wt(this,St).values())Ft._setVisible(bt,!1);for(const Ft of Ot.on)wt(this,St).get(Ft)._setVisible(bt,!0);for(const Ft of Ot.off)wt(this,St).get(Ft)._setVisible(bt,!1);Vt(this,Rt,this.getHash())}}isVisible(Ot){if(wt(this,St).size===0)return!0;if(!Ot)return(0,vt.warn)("Optional content group not defined."),!0;if(Ot.type==="OCG")return wt(this,St).has(Ot.id)?wt(this,St).get(Ot.id).visible:((0,vt.warn)(`Optional content group not found: ${Ot.id}`),!0);if(Ot.type==="OCMD"){if(Ot.expression)return Ut(this,kt,NE).call(this,Ot.expression);if(!Ot.policy||Ot.policy==="AnyOn"){for(const Ft of Ot.ids){if(!wt(this,St).has(Ft))return(0,vt.warn)(`Optional content group not found: ${Ft}`),!0;if(wt(this,St).get(Ft).visible)return!0}return!1}else if(Ot.policy==="AllOn"){for(const Ft of Ot.ids){if(!wt(this,St).has(Ft))return(0,vt.warn)(`Optional content group not found: ${Ft}`),!0;if(!wt(this,St).get(Ft).visible)return!1}return!0}else if(Ot.policy==="AnyOff"){for(const Ft of Ot.ids){if(!wt(this,St).has(Ft))return(0,vt.warn)(`Optional content group not found: ${Ft}`),!0;if(!wt(this,St).get(Ft).visible)return!0}return!1}else if(Ot.policy==="AllOff"){for(const Ft of Ot.ids){if(!wt(this,St).has(Ft))return(0,vt.warn)(`Optional content group not found: ${Ft}`),!0;if(wt(this,St).get(Ft).visible)return!1}return!0}return(0,vt.warn)(`Unknown optional content policy ${Ot.policy}.`),!0}return(0,vt.warn)(`Unknown group type ${Ot.type}.`),!0}setVisibility(Ot,Ft=!0){if(!wt(this,St).has(Ot)){(0,vt.warn)(`Optional content group not found: ${Ot}`);return}wt(this,St).get(Ot)._setVisible(bt,!!Ft),Vt(this,Ct,null)}get hasInitialVisibility(){return wt(this,Rt)===null||this.getHash()===wt(this,Rt)}getOrder(){return wt(this,St).size?wt(this,Pt)?wt(this,Pt).slice():[...wt(this,St).keys()]:null}getGroups(){return wt(this,St).size>0?(0,vt.objectFromMap)(wt(this,St)):null}getGroup(Ot){return wt(this,St).get(Ot)||null}getHash(){if(wt(this,Ct)!==null)return wt(this,Ct);const Ot=new xt.MurmurHash3_64;for(const[Ft,Dt]of wt(this,St))Ot.update(`${Ft}:${Dt.visible}`);return Vt(this,Ct,Ot.hexdigest())}}Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakSet,NE=function(Ot){const Ft=Ot.length;if(Ft<2)return!0;const Dt=Ot[0];for(let $t=1;$t<Ft;$t++){const Bt=Ot[$t];let Nt;if(Array.isArray(Bt))Nt=Ut(this,kt,NE).call(this,Bt);else if(wt(this,St).has(Bt))Nt=wt(this,St).get(Bt).visible;else return(0,vt.warn)(`Optional content group not found: ${Bt}`),!0;switch(Dt){case"And":if(!Nt)return!1;break;case"Or":if(Nt)return!0;break;case"Not":return!Nt;default:return!0}}return Dt==="And"},$.OptionalContentConfig=_t},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var vt=ht(1),xt=ht(6);class bt{constructor({length:Ct,initialData:St,progressiveDone:Rt=!1,contentDispositionFilename:Pt=null,disableRange:kt=!1,disableStream:Mt=!1},Lt){if((0,vt.assert)(Lt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Rt,this._contentDispositionFilename=Pt,(St==null?void 0:St.length)>0){const Ot=St instanceof Uint8Array&&St.byteLength===St.buffer.byteLength?St.buffer:new Uint8Array(St).buffer;this._queuedChunks.push(Ot)}this._pdfDataRangeTransport=Lt,this._isStreamingSupported=!Mt,this._isRangeSupported=!kt,this._contentLength=Ct,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Ot,Ft)=>{this._onReceiveData({begin:Ot,chunk:Ft})}),this._pdfDataRangeTransport.addProgressListener((Ot,Ft)=>{this._onProgress({loaded:Ot,total:Ft})}),this._pdfDataRangeTransport.addProgressiveReadListener(Ot=>{this._onReceiveData({chunk:Ot})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:Ct,chunk:St}){const Rt=St instanceof Uint8Array&&St.byteLength===St.buffer.byteLength?St.buffer:new Uint8Array(St).buffer;if(Ct===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Rt):this._queuedChunks.push(Rt);else{const Pt=this._rangeReaders.some(function(kt){return kt._begin!==Ct?!1:(kt._enqueue(Rt),!0)});(0,vt.assert)(Pt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var Ct;return((Ct=this._fullRequestReader)==null?void 0:Ct._loaded)??0}_onProgress(Ct){var St,Rt,Pt,kt;Ct.total===void 0?(Rt=(St=this._rangeReaders[0])==null?void 0:St.onProgress)==null||Rt.call(St,{loaded:Ct.loaded}):(kt=(Pt=this._fullRequestReader)==null?void 0:Pt.onProgress)==null||kt.call(Pt,{loaded:Ct.loaded,total:Ct.total})}_onProgressiveDone(){var Ct;(Ct=this._fullRequestReader)==null||Ct.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(Ct){const St=this._rangeReaders.indexOf(Ct);St>=0&&this._rangeReaders.splice(St,1)}getFullReader(){(0,vt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const Ct=this._queuedChunks;return this._queuedChunks=null,new Et(this,Ct,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(Ct,St){if(St<=this._progressiveDataLength)return null;const Rt=new _t(this,Ct,St);return this._pdfDataRangeTransport.requestDataRange(Ct,St),this._rangeReaders.push(Rt),Rt}cancelAllRequests(Ct){var St;(St=this._fullRequestReader)==null||St.cancel(Ct);for(const Rt of this._rangeReaders.slice(0))Rt.cancel(Ct);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=bt;class Et{constructor(Ct,St,Rt=!1,Pt=null){this._stream=Ct,this._done=Rt||!1,this._filename=(0,xt.isPdfFile)(Pt)?Pt:null,this._queuedChunks=St||[],this._loaded=0;for(const kt of this._queuedChunks)this._loaded+=kt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),Ct._fullRequestReader=this,this.onProgress=null}_enqueue(Ct){this._done||(this._requests.length>0?this._requests.shift().resolve({value:Ct,done:!1}):this._queuedChunks.push(Ct),this._loaded+=Ct.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Ct=new vt.PromiseCapability;return this._requests.push(Ct),Ct.promise}cancel(Ct){this._done=!0;for(const St of this._requests)St.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _t{constructor(Ct,St,Rt){this._stream=Ct,this._begin=St,this._end=Rt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(Ct){if(!this._done){if(this._requests.length===0)this._queuedChunk=Ct;else{this._requests.shift().resolve({value:Ct,done:!1});for(const Rt of this._requests)Rt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const St=this._queuedChunk;return this._queuedChunk=null,{value:St,done:!1}}if(this._done)return{value:void 0,done:!0};const Ct=new vt.PromiseCapability;return this._requests.push(Ct),Ct.promise}cancel(Ct){this._done=!0;for(const St of this._requests)St.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var vt=ht(1),xt=ht(20);function bt(Rt,Pt,kt){return{method:"GET",headers:Rt,signal:kt.signal,mode:"cors",credentials:Pt?"include":"same-origin",redirect:"follow"}}function Et(Rt){const Pt=new Headers;for(const kt in Rt){const Mt=Rt[kt];Mt!==void 0&&Pt.append(kt,Mt)}return Pt}function _t(Rt){return Rt instanceof Uint8Array?Rt.buffer:Rt instanceof ArrayBuffer?Rt:((0,vt.warn)(`getArrayBuffer - unexpected data format: ${Rt}`),new Uint8Array(Rt).buffer)}class At{constructor(Pt){this.source=Pt,this.isHttp=/^https?:/i.test(Pt.url),this.httpHeaders=this.isHttp&&Pt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Pt;return((Pt=this._fullRequestReader)==null?void 0:Pt._loaded)??0}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ct(this),this._fullRequestReader}getRangeReader(Pt,kt){if(kt<=this._progressiveDataLength)return null;const Mt=new St(this,Pt,kt);return this._rangeRequestReaders.push(Mt),Mt}cancelAllRequests(Pt){var kt;(kt=this._fullRequestReader)==null||kt.cancel(Pt);for(const Mt of this._rangeRequestReaders.slice(0))Mt.cancel(Pt)}}$.PDFFetchStream=At;class Ct{constructor(Pt){this._stream=Pt,this._reader=null,this._loaded=0,this._filename=null;const kt=Pt.source;this._withCredentials=kt.withCredentials||!1,this._contentLength=kt.length,this._headersCapability=new vt.PromiseCapability,this._disableRange=kt.disableRange||!1,this._rangeChunkSize=kt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!kt.disableStream,this._isRangeSupported=!kt.disableRange,this._headers=Et(this._stream.httpHeaders);const Mt=kt.url;fetch(Mt,bt(this._headers,this._withCredentials,this._abortController)).then(Lt=>{if(!(0,xt.validateResponseStatus)(Lt.status))throw(0,xt.createResponseStatusError)(Lt.status,Mt);this._reader=Lt.body.getReader(),this._headersCapability.resolve();const Ot=$t=>Lt.headers.get($t),{allowRangeRequests:Ft,suggestedLength:Dt}=(0,xt.validateRangeRequestCapabilities)({getResponseHeader:Ot,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ft,this._contentLength=Dt||this._contentLength,this._filename=(0,xt.extractFilenameFromHeader)(Ot),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new vt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Mt;await this._headersCapability.promise;const{value:Pt,done:kt}=await this._reader.read();return kt?{value:Pt,done:kt}:(this._loaded+=Pt.byteLength,(Mt=this.onProgress)==null||Mt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:_t(Pt),done:!1})}cancel(Pt){var kt;(kt=this._reader)==null||kt.cancel(Pt),this._abortController.abort()}}class St{constructor(Pt,kt,Mt){this._stream=Pt,this._reader=null,this._loaded=0;const Lt=Pt.source;this._withCredentials=Lt.withCredentials||!1,this._readCapability=new vt.PromiseCapability,this._isStreamingSupported=!Lt.disableStream,this._abortController=new AbortController,this._headers=Et(this._stream.httpHeaders),this._headers.append("Range",`bytes=${kt}-${Mt-1}`);const Ot=Lt.url;fetch(Ot,bt(this._headers,this._withCredentials,this._abortController)).then(Ft=>{if(!(0,xt.validateResponseStatus)(Ft.status))throw(0,xt.createResponseStatusError)(Ft.status,Ot);this._readCapability.resolve(),this._reader=Ft.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Mt;await this._readCapability.promise;const{value:Pt,done:kt}=await this._reader.read();return kt?{value:Pt,done:kt}:(this._loaded+=Pt.byteLength,(Mt=this.onProgress)==null||Mt.call(this,{loaded:this._loaded}),{value:_t(Pt),done:!1})}cancel(Pt){var kt;(kt=this._reader)==null||kt.cancel(Pt),this._abortController.abort()}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=At,$.extractFilenameFromHeader=_t,$.validateRangeRequestCapabilities=Et,$.validateResponseStatus=Ct;var vt=ht(1),xt=ht(21),bt=ht(6);function Et({getResponseHeader:St,isHttp:Rt,rangeChunkSize:Pt,disableRange:kt}){const Mt={allowRangeRequests:!1,suggestedLength:void 0},Lt=parseInt(St("Content-Length"),10);return!Number.isInteger(Lt)||(Mt.suggestedLength=Lt,Lt<=2*Pt)||kt||!Rt||St("Accept-Ranges")!=="bytes"||(St("Content-Encoding")||"identity")!=="identity"||(Mt.allowRangeRequests=!0),Mt}function _t(St){const Rt=St("Content-Disposition");if(Rt){let Pt=(0,xt.getFilenameFromContentDispositionHeader)(Rt);if(Pt.includes("%"))try{Pt=decodeURIComponent(Pt)}catch{}if((0,bt.isPdfFile)(Pt))return Pt}return null}function At(St,Rt){return St===404||St===0&&Rt.startsWith("file:")?new vt.MissingPDFException('Missing PDF "'+Rt+'".'):new vt.UnexpectedResponseException(`Unexpected server response (${St}) while retrieving PDF "${Rt}".`,St)}function Ct(St){return St===200||St===206}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=xt;var vt=ht(1);function xt(bt){let Et=!0,_t=At("filename\\*","i").exec(bt);if(_t){_t=_t[1];let Lt=Pt(_t);return Lt=unescape(Lt),Lt=kt(Lt),Lt=Mt(Lt),St(Lt)}if(_t=Rt(bt),_t){const Lt=Mt(_t);return St(Lt)}if(_t=At("filename","i").exec(bt),_t){_t=_t[1];let Lt=Pt(_t);return Lt=Mt(Lt),St(Lt)}function At(Lt,Ot){return new RegExp("(?:^|;)\\s*"+Lt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Ot)}function Ct(Lt,Ot){if(Lt){if(!/^[\x00-\xFF]+$/.test(Ot))return Ot;try{const Ft=new TextDecoder(Lt,{fatal:!0}),Dt=(0,vt.stringToBytes)(Ot);Ot=Ft.decode(Dt),Et=!1}catch{}}return Ot}function St(Lt){return Et&&/[\x80-\xff]/.test(Lt)&&(Lt=Ct("utf-8",Lt),Et&&(Lt=Ct("iso-8859-1",Lt))),Lt}function Rt(Lt){const Ot=[];let Ft;const Dt=At("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Ft=Dt.exec(Lt))!==null;){let[,Bt,Nt,Ht]=Ft;if(Bt=parseInt(Bt,10),Bt in Ot){if(Bt===0)break;continue}Ot[Bt]=[Nt,Ht]}const $t=[];for(let Bt=0;Bt<Ot.length&&Bt in Ot;++Bt){let[Nt,Ht]=Ot[Bt];Ht=Pt(Ht),Nt&&(Ht=unescape(Ht),Bt===0&&(Ht=kt(Ht))),$t.push(Ht)}return $t.join("")}function Pt(Lt){if(Lt.startsWith('"')){const Ot=Lt.slice(1).split('\\"');for(let Ft=0;Ft<Ot.length;++Ft){const Dt=Ot[Ft].indexOf('"');Dt!==-1&&(Ot[Ft]=Ot[Ft].slice(0,Dt),Ot.length=Ft+1),Ot[Ft]=Ot[Ft].replaceAll(/\\(.)/g,"$1")}Lt=Ot.join('"')}return Lt}function kt(Lt){const Ot=Lt.indexOf("'");if(Ot===-1)return Lt;const Ft=Lt.slice(0,Ot),$t=Lt.slice(Ot+1).replace(/^[^']*'/,"");return Ct(Ft,$t)}function Mt(Lt){return!Lt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Lt)?Lt:Lt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Ot,Ft,Dt,$t){if(Dt==="q"||Dt==="Q")return $t=$t.replaceAll("_"," "),$t=$t.replaceAll(/=([0-9a-fA-F]{2})/g,function(Bt,Nt){return String.fromCharCode(parseInt(Nt,16))}),Ct(Ft,$t);try{$t=atob($t)}catch{}return Ct(Ft,$t)})}return""}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var vt=ht(1),xt=ht(20);const bt=200,Et=206;function _t(Pt){const kt=Pt.response;return typeof kt!="string"?kt:(0,vt.stringToBytes)(kt).buffer}class At{constructor(kt,Mt={}){this.url=kt,this.isHttp=/^https?:/i.test(kt),this.httpHeaders=this.isHttp&&Mt.httpHeaders||Object.create(null),this.withCredentials=Mt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(kt,Mt,Lt){const Ot={begin:kt,end:Mt};for(const Ft in Lt)Ot[Ft]=Lt[Ft];return this.request(Ot)}requestFull(kt){return this.request(kt)}request(kt){const Mt=new XMLHttpRequest,Lt=this.currXhrId++,Ot=this.pendingRequests[Lt]={xhr:Mt};Mt.open("GET",this.url),Mt.withCredentials=this.withCredentials;for(const Ft in this.httpHeaders){const Dt=this.httpHeaders[Ft];Dt!==void 0&&Mt.setRequestHeader(Ft,Dt)}return this.isHttp&&"begin"in kt&&"end"in kt?(Mt.setRequestHeader("Range",`bytes=${kt.begin}-${kt.end-1}`),Ot.expectedStatus=Et):Ot.expectedStatus=bt,Mt.responseType="arraybuffer",kt.onError&&(Mt.onerror=function(Ft){kt.onError(Mt.status)}),Mt.onreadystatechange=this.onStateChange.bind(this,Lt),Mt.onprogress=this.onProgress.bind(this,Lt),Ot.onHeadersReceived=kt.onHeadersReceived,Ot.onDone=kt.onDone,Ot.onError=kt.onError,Ot.onProgress=kt.onProgress,Mt.send(null),Lt}onProgress(kt,Mt){var Ot;const Lt=this.pendingRequests[kt];Lt&&((Ot=Lt.onProgress)==null||Ot.call(Lt,Mt))}onStateChange(kt,Mt){var Bt,Nt,Ht;const Lt=this.pendingRequests[kt];if(!Lt)return;const Ot=Lt.xhr;if(Ot.readyState>=2&&Lt.onHeadersReceived&&(Lt.onHeadersReceived(),delete Lt.onHeadersReceived),Ot.readyState!==4||!(kt in this.pendingRequests))return;if(delete this.pendingRequests[kt],Ot.status===0&&this.isHttp){(Bt=Lt.onError)==null||Bt.call(Lt,Ot.status);return}const Ft=Ot.status||bt;if(!(Ft===bt&&Lt.expectedStatus===Et)&&Ft!==Lt.expectedStatus){(Nt=Lt.onError)==null||Nt.call(Lt,Ot.status);return}const $t=_t(Ot);if(Ft===Et){const jt=Ot.getResponseHeader("Content-Range"),zt=/bytes (\d+)-(\d+)\/(\d+)/.exec(jt);Lt.onDone({begin:parseInt(zt[1],10),chunk:$t})}else $t?Lt.onDone({begin:0,chunk:$t}):(Ht=Lt.onError)==null||Ht.call(Lt,Ot.status)}getRequestXhr(kt){return this.pendingRequests[kt].xhr}isPendingRequest(kt){return kt in this.pendingRequests}abortRequest(kt){const Mt=this.pendingRequests[kt].xhr;delete this.pendingRequests[kt],Mt.abort()}}class Ct{constructor(kt){this._source=kt,this._manager=new At(kt.url,{httpHeaders:kt.httpHeaders,withCredentials:kt.withCredentials}),this._rangeChunkSize=kt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(kt){const Mt=this._rangeRequestReaders.indexOf(kt);Mt>=0&&this._rangeRequestReaders.splice(Mt,1)}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new St(this._manager,this._source),this._fullRequestReader}getRangeReader(kt,Mt){const Lt=new Rt(this._manager,kt,Mt);return Lt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Lt),Lt}cancelAllRequests(kt){var Mt;(Mt=this._fullRequestReader)==null||Mt.cancel(kt);for(const Lt of this._rangeRequestReaders.slice(0))Lt.cancel(kt)}}$.PDFNetworkStream=Ct;class St{constructor(kt,Mt){this._manager=kt;const Lt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Mt.url,this._fullRequestId=kt.requestFull(Lt),this._headersReceivedCapability=new vt.PromiseCapability,this._disableRange=Mt.disableRange||!1,this._contentLength=Mt.length,this._rangeChunkSize=Mt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const kt=this._fullRequestId,Mt=this._manager.getRequestXhr(kt),Lt=Dt=>Mt.getResponseHeader(Dt),{allowRangeRequests:Ot,suggestedLength:Ft}=(0,xt.validateRangeRequestCapabilities)({getResponseHeader:Lt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Ot&&(this._isRangeSupported=!0),this._contentLength=Ft||this._contentLength,this._filename=(0,xt.extractFilenameFromHeader)(Lt),this._isRangeSupported&&this._manager.abortRequest(kt),this._headersReceivedCapability.resolve()}_onDone(kt){if(kt&&(this._requests.length>0?this._requests.shift().resolve({value:kt.chunk,done:!1}):this._cachedChunks.push(kt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Mt of this._requests)Mt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(kt){this._storedError=(0,xt.createResponseStatusError)(kt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Mt of this._requests)Mt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(kt){var Mt;(Mt=this.onProgress)==null||Mt.call(this,{loaded:kt.loaded,total:kt.lengthComputable?kt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const kt=new vt.PromiseCapability;return this._requests.push(kt),kt.promise}cancel(kt){this._done=!0,this._headersReceivedCapability.reject(kt);for(const Mt of this._requests)Mt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Rt{constructor(kt,Mt,Lt){this._manager=kt;const Ot={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=kt.url,this._requestId=kt.requestRange(Mt,Lt,Ot),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var kt;(kt=this.onClosed)==null||kt.call(this,this)}_onDone(kt){const Mt=kt.chunk;this._requests.length>0?this._requests.shift().resolve({value:Mt,done:!1}):this._queuedChunk=Mt,this._done=!0;for(const Lt of this._requests)Lt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(kt){this._storedError=(0,xt.createResponseStatusError)(kt,this._url);for(const Mt of this._requests)Mt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(kt){var Mt;this.isStreamingSupported||(Mt=this.onProgress)==null||Mt.call(this,{loaded:kt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Mt=this._queuedChunk;return this._queuedChunk=null,{value:Mt,done:!1}}if(this._done)return{value:void 0,done:!0};const kt=new vt.PromiseCapability;return this._requests.push(kt),kt.promise}cancel(kt){this._done=!0;for(const Mt of this._requests)Mt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var vt=ht(1),xt=ht(20);const bt=/^file:\/\/\/[a-zA-Z]:\//;function Et(Lt){const Ot=require$$5,Ft=Ot.parse(Lt);return Ft.protocol==="file:"||Ft.host?Ft:/^[a-z]:[/\\]/i.test(Lt)?Ot.parse(`file:///${Lt}`):(Ft.host||(Ft.protocol="file:"),Ft)}class _t{constructor(Ot){this.source=Ot,this.url=Et(Ot.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Ot.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Ot;return((Ot=this._fullRequestReader)==null?void 0:Ot._loaded)??0}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new kt(this):new Rt(this),this._fullRequestReader}getRangeReader(Ot,Ft){if(Ft<=this._progressiveDataLength)return null;const Dt=this.isFsUrl?new Mt(this,Ot,Ft):new Pt(this,Ot,Ft);return this._rangeRequestReaders.push(Dt),Dt}cancelAllRequests(Ot){var Ft;(Ft=this._fullRequestReader)==null||Ft.cancel(Ot);for(const Dt of this._rangeRequestReaders.slice(0))Dt.cancel(Ot)}}$.PDFNodeStream=_t;class At{constructor(Ot){this._url=Ot.url,this._done=!1,this._storedError=null,this.onProgress=null;const Ft=Ot.source;this._contentLength=Ft.length,this._loaded=0,this._filename=null,this._disableRange=Ft.disableRange||!1,this._rangeChunkSize=Ft.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Ft.disableStream,this._isRangeSupported=!Ft.disableRange,this._readableStream=null,this._readCapability=new vt.PromiseCapability,this._headersCapability=new vt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Dt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Ot=this._readableStream.read();return Ot===null?(this._readCapability=new vt.PromiseCapability,this.read()):(this._loaded+=Ot.length,(Dt=this.onProgress)==null||Dt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Ot).buffer,done:!1})}cancel(Ot){if(!this._readableStream){this._error(Ot);return}this._readableStream.destroy(Ot)}_error(Ot){this._storedError=Ot,this._readCapability.resolve()}_setReadableStream(Ot){this._readableStream=Ot,Ot.on("readable",()=>{this._readCapability.resolve()}),Ot.on("end",()=>{Ot.destroy(),this._done=!0,this._readCapability.resolve()}),Ot.on("error",Ft=>{this._error(Ft)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new vt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ct{constructor(Ot){this._url=Ot.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new vt.PromiseCapability;const Ft=Ot.source;this._isStreamingSupported=!Ft.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Dt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Ot=this._readableStream.read();return Ot===null?(this._readCapability=new vt.PromiseCapability,this.read()):(this._loaded+=Ot.length,(Dt=this.onProgress)==null||Dt.call(this,{loaded:this._loaded}),{value:new Uint8Array(Ot).buffer,done:!1})}cancel(Ot){if(!this._readableStream){this._error(Ot);return}this._readableStream.destroy(Ot)}_error(Ot){this._storedError=Ot,this._readCapability.resolve()}_setReadableStream(Ot){this._readableStream=Ot,Ot.on("readable",()=>{this._readCapability.resolve()}),Ot.on("end",()=>{Ot.destroy(),this._done=!0,this._readCapability.resolve()}),Ot.on("error",Ft=>{this._error(Ft)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function St(Lt,Ot){return{protocol:Lt.protocol,auth:Lt.auth,host:Lt.hostname,port:Lt.port,path:Lt.path,method:"GET",headers:Ot}}class Rt extends At{constructor(Ot){super(Ot);const Ft=Dt=>{if(Dt.statusCode===404){const Ht=new vt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ht,this._headersCapability.reject(Ht);return}this._headersCapability.resolve(),this._setReadableStream(Dt);const $t=Ht=>this._readableStream.headers[Ht.toLowerCase()],{allowRangeRequests:Bt,suggestedLength:Nt}=(0,xt.validateRangeRequestCapabilities)({getResponseHeader:$t,isHttp:Ot.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Bt,this._contentLength=Nt||this._contentLength,this._filename=(0,xt.extractFilenameFromHeader)($t)};if(this._request=null,this._url.protocol==="http:"){const Dt=require$$5;this._request=Dt.request(St(this._url,Ot.httpHeaders),Ft)}else{const Dt=require$$5;this._request=Dt.request(St(this._url,Ot.httpHeaders),Ft)}this._request.on("error",Dt=>{this._storedError=Dt,this._headersCapability.reject(Dt)}),this._request.end()}}class Pt extends Ct{constructor(Ot,Ft,Dt){super(Ot),this._httpHeaders={};for(const Bt in Ot.httpHeaders){const Nt=Ot.httpHeaders[Bt];Nt!==void 0&&(this._httpHeaders[Bt]=Nt)}this._httpHeaders.Range=`bytes=${Ft}-${Dt-1}`;const $t=Bt=>{if(Bt.statusCode===404){const Nt=new vt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Nt;return}this._setReadableStream(Bt)};if(this._request=null,this._url.protocol==="http:"){const Bt=require$$5;this._request=Bt.request(St(this._url,this._httpHeaders),$t)}else{const Bt=require$$5;this._request=Bt.request(St(this._url,this._httpHeaders),$t)}this._request.on("error",Bt=>{this._storedError=Bt}),this._request.end()}}class kt extends At{constructor(Ot){super(Ot);let Ft=decodeURIComponent(this._url.path);bt.test(this._url.href)&&(Ft=Ft.replace(/^\//,""));const Dt=require$$5;Dt.lstat(Ft,($t,Bt)=>{if($t){$t.code==="ENOENT"&&($t=new vt.MissingPDFException(`Missing PDF "${Ft}".`)),this._storedError=$t,this._headersCapability.reject($t);return}this._contentLength=Bt.size,this._setReadableStream(Dt.createReadStream(Ft)),this._headersCapability.resolve()})}}class Mt extends Ct{constructor(Ot,Ft,Dt){super(Ot);let $t=decodeURIComponent(this._url.path);bt.test(this._url.href)&&($t=$t.replace(/^\//,""));const Bt=require$$5;this._setReadableStream(Bt.createReadStream($t,{start:Ft,end:Dt-1}))}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var vt=ht(6),xt=ht(1);const bt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Et="http://www.w3.org/XML/1998/namespace",_t="http://www.w3.org/1999/xlink",At=["butt","round","square"],Ct=["miter","round","bevel"],St=function(Bt,Nt="",Ht=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Ht)return URL.createObjectURL(new Blob([Bt],{type:Nt}));const jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let zt=`data:${Nt};base64,`;for(let Kt=0,en=Bt.length;Kt<en;Kt+=3){const Wt=Bt[Kt]&255,Qt=Bt[Kt+1]&255,on=Bt[Kt+2]&255,En=Wt>>2,un=(Wt&3)<<4|Qt>>4,xn=Kt+1<en?(Qt&15)<<2|on>>6:64,an=Kt+2<en?on&63:64;zt+=jt[En]+jt[un]+jt[xn]+jt[an]}return zt},Rt=function(){const Bt=new Uint8Array([137,80,78,71,13,10,26,10]),Nt=12,Ht=new Int32Array(256);for(let on=0;on<256;on++){let En=on;for(let un=0;un<8;un++)En=En&1?3988292384^En>>1&2147483647:En>>1&2147483647;Ht[on]=En}function jt(on,En,un){let xn=-1;for(let an=En;an<un;an++){const hn=(xn^on[an])&255,nn=Ht[hn];xn=xn>>>8^nn}return xn^-1}function zt(on,En,un,xn){let an=xn;const hn=En.length;un[an]=hn>>24&255,un[an+1]=hn>>16&255,un[an+2]=hn>>8&255,un[an+3]=hn&255,an+=4,un[an]=on.charCodeAt(0)&255,un[an+1]=on.charCodeAt(1)&255,un[an+2]=on.charCodeAt(2)&255,un[an+3]=on.charCodeAt(3)&255,an+=4,un.set(En,an),an+=En.length;const nn=jt(un,xn+4,an);un[an]=nn>>24&255,un[an+1]=nn>>16&255,un[an+2]=nn>>8&255,un[an+3]=nn&255}function Kt(on,En,un){let xn=1,an=0;for(let hn=En;hn<un;++hn)xn=(xn+(on[hn]&255))%65521,an=(an+xn)%65521;return an<<16|xn}function en(on){if(!xt.isNodeJS)return Wt(on);try{const En=parseInt(process.versions.node)>=8?on:Buffer.from(on),un=require$$5.deflateSync(En,{level:9});return un instanceof Uint8Array?un:new Uint8Array(un)}catch(En){(0,xt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+En)}return Wt(on)}function Wt(on){let En=on.length;const un=65535,xn=Math.ceil(En/un),an=new Uint8Array(2+En+xn*5+4);let hn=0;an[hn++]=120,an[hn++]=156;let nn=0;for(;En>un;)an[hn++]=0,an[hn++]=255,an[hn++]=255,an[hn++]=0,an[hn++]=0,an.set(on.subarray(nn,nn+un),hn),hn+=un,nn+=un,En-=un;an[hn++]=1,an[hn++]=En&255,an[hn++]=En>>8&255,an[hn++]=~En&65535&255,an[hn++]=(~En&65535)>>8&255,an.set(on.subarray(nn),hn),hn+=on.length-nn;const gn=Kt(on,0,on.length);return an[hn++]=gn>>24&255,an[hn++]=gn>>16&255,an[hn++]=gn>>8&255,an[hn++]=gn&255,an}function Qt(on,En,un,xn){const an=on.width,hn=on.height;let nn,gn,wn;const rn=on.data;switch(En){case xt.ImageKind.GRAYSCALE_1BPP:gn=0,nn=1,wn=an+7>>3;break;case xt.ImageKind.RGB_24BPP:gn=2,nn=8,wn=an*3;break;case xt.ImageKind.RGBA_32BPP:gn=6,nn=8,wn=an*4;break;default:throw new Error("invalid format")}const Xt=new Uint8Array((1+wn)*hn);let Yt=0,tn=0;for(let Hn=0;Hn<hn;++Hn)Xt[Yt++]=0,Xt.set(rn.subarray(tn,tn+wn),Yt),tn+=wn,Yt+=wn;if(En===xt.ImageKind.GRAYSCALE_1BPP&&xn){Yt=0;for(let Hn=0;Hn<hn;Hn++){Yt++;for(let Un=0;Un<wn;Un++)Xt[Yt++]^=255}}const dn=new Uint8Array([an>>24&255,an>>16&255,an>>8&255,an&255,hn>>24&255,hn>>16&255,hn>>8&255,hn&255,nn,gn,0,0,0]),ln=en(Xt),fn=Bt.length+Nt*3+dn.length+ln.length,Sn=new Uint8Array(fn);let Mn=0;return Sn.set(Bt,Mn),Mn+=Bt.length,zt("IHDR",dn,Sn,Mn),Mn+=Nt+dn.length,zt("IDATA",ln,Sn,Mn),Mn+=Nt+ln.length,zt("IEND",new Uint8Array(0),Sn,Mn),St(Sn,"image/png",un)}return function(En,un,xn){const an=En.kind===void 0?xt.ImageKind.GRAYSCALE_1BPP:En.kind;return Qt(En,an,un,xn)}}();class Pt{constructor(){this.fontSizeScale=1,this.fontWeight=bt.fontWeight,this.fontSize=0,this.textMatrix=xt.IDENTITY_MATRIX,this.fontMatrix=xt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=xt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=bt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Nt,Ht){this.x=Nt,this.y=Ht}}function kt(Bt){let Nt=[];const Ht=[];for(const jt of Bt){if(jt.fn==="save"){Nt.push({fnId:92,fn:"group",items:[]}),Ht.push(Nt),Nt=Nt.at(-1).items;continue}jt.fn==="restore"?Nt=Ht.pop():Nt.push(jt)}return Nt}function Mt(Bt){if(Number.isInteger(Bt))return Bt.toString();const Nt=Bt.toFixed(10);let Ht=Nt.length-1;if(Nt[Ht]!=="0")return Nt;do Ht--;while(Nt[Ht]==="0");return Nt.substring(0,Nt[Ht]==="."?Ht:Ht+1)}function Lt(Bt){if(Bt[4]===0&&Bt[5]===0){if(Bt[1]===0&&Bt[2]===0)return Bt[0]===1&&Bt[3]===1?"":`scale(${Mt(Bt[0])} ${Mt(Bt[3])})`;if(Bt[0]===Bt[3]&&Bt[1]===-Bt[2]){const Nt=Math.acos(Bt[0])*180/Math.PI;return`rotate(${Mt(Nt)})`}}else if(Bt[0]===1&&Bt[1]===0&&Bt[2]===0&&Bt[3]===1)return`translate(${Mt(Bt[4])} ${Mt(Bt[5])})`;return`matrix(${Mt(Bt[0])} ${Mt(Bt[1])} ${Mt(Bt[2])} ${Mt(Bt[3])} ${Mt(Bt[4])} ${Mt(Bt[5])})`}let Ot=0,Ft=0,Dt=0;class $t{constructor(Nt,Ht,jt=!1){(0,vt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new vt.DOMSVGFactory,this.current=new Pt,this.transformMatrix=xt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Nt,this.objs=Ht,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!jt,this._operatorIdMapping=[];for(const zt in xt.OPS)this._operatorIdMapping[xt.OPS[zt]]=zt}getObject(Nt,Ht=null){return typeof Nt=="string"?Nt.startsWith("g_")?this.commonObjs.get(Nt):this.objs.get(Nt):Ht}save(){this.transformStack.push(this.transformMatrix);const Nt=this.current;this.extraStack.push(Nt),this.current=Nt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Nt){this.save(),this.executeOpTree(Nt),this.restore()}loadDependencies(Nt){const Ht=Nt.fnArray,jt=Nt.argsArray;for(let zt=0,Kt=Ht.length;zt<Kt;zt++)if(Ht[zt]===xt.OPS.dependency)for(const en of jt[zt]){const Wt=en.startsWith("g_")?this.commonObjs:this.objs,Qt=new Promise(on=>{Wt.get(en,on)});this.current.dependencies.push(Qt)}return Promise.all(this.current.dependencies)}transform(Nt,Ht,jt,zt,Kt,en){const Wt=[Nt,Ht,jt,zt,Kt,en];this.transformMatrix=xt.Util.transform(this.transformMatrix,Wt),this.tgrp=null}getSVG(Nt,Ht){this.viewport=Ht;const jt=this._initialize(Ht);return this.loadDependencies(Nt).then(()=>(this.transformMatrix=xt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Nt)),jt))}convertOpList(Nt){const Ht=this._operatorIdMapping,jt=Nt.argsArray,zt=Nt.fnArray,Kt=[];for(let en=0,Wt=zt.length;en<Wt;en++){const Qt=zt[en];Kt.push({fnId:Qt,fn:Ht[Qt],args:jt[en]})}return kt(Kt)}executeOpTree(Nt){for(const Ht of Nt){const jt=Ht.fn,zt=Ht.fnId,Kt=Ht.args;switch(zt|0){case xt.OPS.beginText:this.beginText();break;case xt.OPS.dependency:break;case xt.OPS.setLeading:this.setLeading(Kt);break;case xt.OPS.setLeadingMoveText:this.setLeadingMoveText(Kt[0],Kt[1]);break;case xt.OPS.setFont:this.setFont(Kt);break;case xt.OPS.showText:this.showText(Kt[0]);break;case xt.OPS.showSpacedText:this.showText(Kt[0]);break;case xt.OPS.endText:this.endText();break;case xt.OPS.moveText:this.moveText(Kt[0],Kt[1]);break;case xt.OPS.setCharSpacing:this.setCharSpacing(Kt[0]);break;case xt.OPS.setWordSpacing:this.setWordSpacing(Kt[0]);break;case xt.OPS.setHScale:this.setHScale(Kt[0]);break;case xt.OPS.setTextMatrix:this.setTextMatrix(Kt[0],Kt[1],Kt[2],Kt[3],Kt[4],Kt[5]);break;case xt.OPS.setTextRise:this.setTextRise(Kt[0]);break;case xt.OPS.setTextRenderingMode:this.setTextRenderingMode(Kt[0]);break;case xt.OPS.setLineWidth:this.setLineWidth(Kt[0]);break;case xt.OPS.setLineJoin:this.setLineJoin(Kt[0]);break;case xt.OPS.setLineCap:this.setLineCap(Kt[0]);break;case xt.OPS.setMiterLimit:this.setMiterLimit(Kt[0]);break;case xt.OPS.setFillRGBColor:this.setFillRGBColor(Kt[0],Kt[1],Kt[2]);break;case xt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Kt[0],Kt[1],Kt[2]);break;case xt.OPS.setStrokeColorN:this.setStrokeColorN(Kt);break;case xt.OPS.setFillColorN:this.setFillColorN(Kt);break;case xt.OPS.shadingFill:this.shadingFill(Kt[0]);break;case xt.OPS.setDash:this.setDash(Kt[0],Kt[1]);break;case xt.OPS.setRenderingIntent:this.setRenderingIntent(Kt[0]);break;case xt.OPS.setFlatness:this.setFlatness(Kt[0]);break;case xt.OPS.setGState:this.setGState(Kt[0]);break;case xt.OPS.fill:this.fill();break;case xt.OPS.eoFill:this.eoFill();break;case xt.OPS.stroke:this.stroke();break;case xt.OPS.fillStroke:this.fillStroke();break;case xt.OPS.eoFillStroke:this.eoFillStroke();break;case xt.OPS.clip:this.clip("nonzero");break;case xt.OPS.eoClip:this.clip("evenodd");break;case xt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case xt.OPS.paintImageXObject:this.paintImageXObject(Kt[0]);break;case xt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Kt[0]);break;case xt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Kt[0]);break;case xt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Kt[0],Kt[1]);break;case xt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case xt.OPS.closePath:this.closePath();break;case xt.OPS.closeStroke:this.closeStroke();break;case xt.OPS.closeFillStroke:this.closeFillStroke();break;case xt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case xt.OPS.nextLine:this.nextLine();break;case xt.OPS.transform:this.transform(Kt[0],Kt[1],Kt[2],Kt[3],Kt[4],Kt[5]);break;case xt.OPS.constructPath:this.constructPath(Kt[0],Kt[1]);break;case xt.OPS.endPath:this.endPath();break;case 92:this.group(Ht.items);break;default:(0,xt.warn)(`Unimplemented operator ${jt}`);break}}}setWordSpacing(Nt){this.current.wordSpacing=Nt}setCharSpacing(Nt){this.current.charSpacing=Nt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Nt,Ht,jt,zt,Kt,en){const Wt=this.current;Wt.textMatrix=Wt.lineMatrix=[Nt,Ht,jt,zt,Kt,en],Wt.textMatrixScale=Math.hypot(Nt,Ht),Wt.x=Wt.lineX=0,Wt.y=Wt.lineY=0,Wt.xcoords=[],Wt.ycoords=[],Wt.tspan=this.svgFactory.createElement("svg:tspan"),Wt.tspan.setAttributeNS(null,"font-family",Wt.fontFamily),Wt.tspan.setAttributeNS(null,"font-size",`${Mt(Wt.fontSize)}px`),Wt.tspan.setAttributeNS(null,"y",Mt(-Wt.y)),Wt.txtElement=this.svgFactory.createElement("svg:text"),Wt.txtElement.append(Wt.tspan)}beginText(){const Nt=this.current;Nt.x=Nt.lineX=0,Nt.y=Nt.lineY=0,Nt.textMatrix=xt.IDENTITY_MATRIX,Nt.lineMatrix=xt.IDENTITY_MATRIX,Nt.textMatrixScale=1,Nt.tspan=this.svgFactory.createElement("svg:tspan"),Nt.txtElement=this.svgFactory.createElement("svg:text"),Nt.txtgrp=this.svgFactory.createElement("svg:g"),Nt.xcoords=[],Nt.ycoords=[]}moveText(Nt,Ht){const jt=this.current;jt.x=jt.lineX+=Nt,jt.y=jt.lineY+=Ht,jt.xcoords=[],jt.ycoords=[],jt.tspan=this.svgFactory.createElement("svg:tspan"),jt.tspan.setAttributeNS(null,"font-family",jt.fontFamily),jt.tspan.setAttributeNS(null,"font-size",`${Mt(jt.fontSize)}px`),jt.tspan.setAttributeNS(null,"y",Mt(-jt.y))}showText(Nt){const Ht=this.current,jt=Ht.font,zt=Ht.fontSize;if(zt===0)return;const Kt=Ht.fontSizeScale,en=Ht.charSpacing,Wt=Ht.wordSpacing,Qt=Ht.fontDirection,on=Ht.textHScale*Qt,En=jt.vertical,un=En?1:-1,xn=jt.defaultVMetrics,an=zt*Ht.fontMatrix[0];let hn=0;for(const wn of Nt){if(wn===null){hn+=Qt*Wt;continue}else if(typeof wn=="number"){hn+=un*wn*zt/1e3;continue}const rn=(wn.isSpace?Wt:0)+en,Xt=wn.fontChar;let Yt,tn,dn=wn.width;if(En){let fn;const Sn=wn.vmetric||xn;fn=wn.vmetric?Sn[1]:dn*.5,fn=-fn*an;const Mn=Sn[2]*an;dn=Sn?-Sn[0]:dn,Yt=fn/Kt,tn=(hn+Mn)/Kt}else Yt=hn/Kt,tn=0;(wn.isInFont||jt.missingFile)&&(Ht.xcoords.push(Ht.x+Yt),En&&Ht.ycoords.push(-Ht.y+tn),Ht.tspan.textContent+=Xt);const ln=En?dn*an-rn*Qt:dn*an+rn*Qt;hn+=ln}Ht.tspan.setAttributeNS(null,"x",Ht.xcoords.map(Mt).join(" ")),En?Ht.tspan.setAttributeNS(null,"y",Ht.ycoords.map(Mt).join(" ")):Ht.tspan.setAttributeNS(null,"y",Mt(-Ht.y)),En?Ht.y-=hn:Ht.x+=hn*on,Ht.tspan.setAttributeNS(null,"font-family",Ht.fontFamily),Ht.tspan.setAttributeNS(null,"font-size",`${Mt(Ht.fontSize)}px`),Ht.fontStyle!==bt.fontStyle&&Ht.tspan.setAttributeNS(null,"font-style",Ht.fontStyle),Ht.fontWeight!==bt.fontWeight&&Ht.tspan.setAttributeNS(null,"font-weight",Ht.fontWeight);const nn=Ht.textRenderingMode&xt.TextRenderingMode.FILL_STROKE_MASK;if(nn===xt.TextRenderingMode.FILL||nn===xt.TextRenderingMode.FILL_STROKE?(Ht.fillColor!==bt.fillColor&&Ht.tspan.setAttributeNS(null,"fill",Ht.fillColor),Ht.fillAlpha<1&&Ht.tspan.setAttributeNS(null,"fill-opacity",Ht.fillAlpha)):Ht.textRenderingMode===xt.TextRenderingMode.ADD_TO_PATH?Ht.tspan.setAttributeNS(null,"fill","transparent"):Ht.tspan.setAttributeNS(null,"fill","none"),nn===xt.TextRenderingMode.STROKE||nn===xt.TextRenderingMode.FILL_STROKE){const wn=1/(Ht.textMatrixScale||1);this._setStrokeAttributes(Ht.tspan,wn)}let gn=Ht.textMatrix;Ht.textRise!==0&&(gn=gn.slice(),gn[5]+=Ht.textRise),Ht.txtElement.setAttributeNS(null,"transform",`${Lt(gn)} scale(${Mt(on)}, -1)`),Ht.txtElement.setAttributeNS(Et,"xml:space","preserve"),Ht.txtElement.append(Ht.tspan),Ht.txtgrp.append(Ht.txtElement),this._ensureTransformGroup().append(Ht.txtElement)}setLeadingMoveText(Nt,Ht){this.setLeading(-Ht),this.moveText(Nt,Ht)}addFontStyle(Nt){if(!Nt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Ht=St(Nt.data,Nt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Nt.loadedName}"; src: url(${Ht}); }
`}setFont(Nt){const Ht=this.current,jt=this.commonObjs.get(Nt[0]);let zt=Nt[1];Ht.font=jt,this.embedFonts&&!jt.missingFile&&!this.embeddedFonts[jt.loadedName]&&(this.addFontStyle(jt),this.embeddedFonts[jt.loadedName]=jt),Ht.fontMatrix=jt.fontMatrix||xt.FONT_IDENTITY_MATRIX;let Kt="normal";jt.black?Kt="900":jt.bold&&(Kt="bold");const en=jt.italic?"italic":"normal";zt<0?(zt=-zt,Ht.fontDirection=-1):Ht.fontDirection=1,Ht.fontSize=zt,Ht.fontFamily=jt.loadedName,Ht.fontWeight=Kt,Ht.fontStyle=en,Ht.tspan=this.svgFactory.createElement("svg:tspan"),Ht.tspan.setAttributeNS(null,"y",Mt(-Ht.y)),Ht.xcoords=[],Ht.ycoords=[]}endText(){var Ht;const Nt=this.current;Nt.textRenderingMode&xt.TextRenderingMode.ADD_TO_PATH_FLAG&&((Ht=Nt.txtElement)!=null&&Ht.hasChildNodes())&&(Nt.element=Nt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Nt){Nt>0&&(this.current.lineWidth=Nt)}setLineCap(Nt){this.current.lineCap=At[Nt]}setLineJoin(Nt){this.current.lineJoin=Ct[Nt]}setMiterLimit(Nt){this.current.miterLimit=Nt}setStrokeAlpha(Nt){this.current.strokeAlpha=Nt}setStrokeRGBColor(Nt,Ht,jt){this.current.strokeColor=xt.Util.makeHexColor(Nt,Ht,jt)}setFillAlpha(Nt){this.current.fillAlpha=Nt}setFillRGBColor(Nt,Ht,jt){this.current.fillColor=xt.Util.makeHexColor(Nt,Ht,jt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Nt){this.current.strokeColor=this._makeColorN_Pattern(Nt)}setFillColorN(Nt){this.current.fillColor=this._makeColorN_Pattern(Nt)}shadingFill(Nt){const{width:Ht,height:jt}=this.viewport,zt=xt.Util.inverseTransform(this.transformMatrix),[Kt,en,Wt,Qt]=xt.Util.getAxialAlignedBoundingBox([0,0,Ht,jt],zt),on=this.svgFactory.createElement("svg:rect");on.setAttributeNS(null,"x",Kt),on.setAttributeNS(null,"y",en),on.setAttributeNS(null,"width",Wt-Kt),on.setAttributeNS(null,"height",Qt-en),on.setAttributeNS(null,"fill",this._makeShadingPattern(Nt)),this.current.fillAlpha<1&&on.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(on)}_makeColorN_Pattern(Nt){return Nt[0]==="TilingPattern"?this._makeTilingPattern(Nt):this._makeShadingPattern(Nt)}_makeTilingPattern(Nt){const Ht=Nt[1],jt=Nt[2],zt=Nt[3]||xt.IDENTITY_MATRIX,[Kt,en,Wt,Qt]=Nt[4],on=Nt[5],En=Nt[6],un=Nt[7],xn=`shading${Dt++}`,[an,hn,nn,gn]=xt.Util.normalizeRect([...xt.Util.applyTransform([Kt,en],zt),...xt.Util.applyTransform([Wt,Qt],zt)]),[wn,rn]=xt.Util.singularValueDecompose2dScale(zt),Xt=on*wn,Yt=En*rn,tn=this.svgFactory.createElement("svg:pattern");tn.setAttributeNS(null,"id",xn),tn.setAttributeNS(null,"patternUnits","userSpaceOnUse"),tn.setAttributeNS(null,"width",Xt),tn.setAttributeNS(null,"height",Yt),tn.setAttributeNS(null,"x",`${an}`),tn.setAttributeNS(null,"y",`${hn}`);const dn=this.svg,ln=this.transformMatrix,fn=this.current.fillColor,Sn=this.current.strokeColor,Mn=this.svgFactory.create(nn-an,gn-hn);if(this.svg=Mn,this.transformMatrix=zt,un===2){const Hn=xt.Util.makeHexColor(...Ht);this.current.fillColor=Hn,this.current.strokeColor=Hn}return this.executeOpTree(this.convertOpList(jt)),this.svg=dn,this.transformMatrix=ln,this.current.fillColor=fn,this.current.strokeColor=Sn,tn.append(Mn.childNodes[0]),this.defs.append(tn),`url(#${xn})`}_makeShadingPattern(Nt){switch(typeof Nt=="string"&&(Nt=this.objs.get(Nt)),Nt[0]){case"RadialAxial":const Ht=`shading${Dt++}`,jt=Nt[3];let zt;switch(Nt[1]){case"axial":const Kt=Nt[4],en=Nt[5];zt=this.svgFactory.createElement("svg:linearGradient"),zt.setAttributeNS(null,"id",Ht),zt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),zt.setAttributeNS(null,"x1",Kt[0]),zt.setAttributeNS(null,"y1",Kt[1]),zt.setAttributeNS(null,"x2",en[0]),zt.setAttributeNS(null,"y2",en[1]);break;case"radial":const Wt=Nt[4],Qt=Nt[5],on=Nt[6],En=Nt[7];zt=this.svgFactory.createElement("svg:radialGradient"),zt.setAttributeNS(null,"id",Ht),zt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),zt.setAttributeNS(null,"cx",Qt[0]),zt.setAttributeNS(null,"cy",Qt[1]),zt.setAttributeNS(null,"r",En),zt.setAttributeNS(null,"fx",Wt[0]),zt.setAttributeNS(null,"fy",Wt[1]),zt.setAttributeNS(null,"fr",on);break;default:throw new Error(`Unknown RadialAxial type: ${Nt[1]}`)}for(const Kt of jt){const en=this.svgFactory.createElement("svg:stop");en.setAttributeNS(null,"offset",Kt[0]),en.setAttributeNS(null,"stop-color",Kt[1]),zt.append(en)}return this.defs.append(zt),`url(#${Ht})`;case"Mesh":return(0,xt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Nt[0]}`)}}setDash(Nt,Ht){this.current.dashArray=Nt,this.current.dashPhase=Ht}constructPath(Nt,Ht){const jt=this.current;let zt=jt.x,Kt=jt.y,en=[],Wt=0;for(const Qt of Nt)switch(Qt|0){case xt.OPS.rectangle:zt=Ht[Wt++],Kt=Ht[Wt++];const on=Ht[Wt++],En=Ht[Wt++],un=zt+on,xn=Kt+En;en.push("M",Mt(zt),Mt(Kt),"L",Mt(un),Mt(Kt),"L",Mt(un),Mt(xn),"L",Mt(zt),Mt(xn),"Z");break;case xt.OPS.moveTo:zt=Ht[Wt++],Kt=Ht[Wt++],en.push("M",Mt(zt),Mt(Kt));break;case xt.OPS.lineTo:zt=Ht[Wt++],Kt=Ht[Wt++],en.push("L",Mt(zt),Mt(Kt));break;case xt.OPS.curveTo:zt=Ht[Wt+4],Kt=Ht[Wt+5],en.push("C",Mt(Ht[Wt]),Mt(Ht[Wt+1]),Mt(Ht[Wt+2]),Mt(Ht[Wt+3]),Mt(zt),Mt(Kt)),Wt+=6;break;case xt.OPS.curveTo2:en.push("C",Mt(zt),Mt(Kt),Mt(Ht[Wt]),Mt(Ht[Wt+1]),Mt(Ht[Wt+2]),Mt(Ht[Wt+3])),zt=Ht[Wt+2],Kt=Ht[Wt+3],Wt+=4;break;case xt.OPS.curveTo3:zt=Ht[Wt+2],Kt=Ht[Wt+3],en.push("C",Mt(Ht[Wt]),Mt(Ht[Wt+1]),Mt(zt),Mt(Kt),Mt(zt),Mt(Kt)),Wt+=4;break;case xt.OPS.closePath:en.push("Z");break}en=en.join(" "),jt.path&&Nt.length>0&&Nt[0]!==xt.OPS.rectangle&&Nt[0]!==xt.OPS.moveTo?en=jt.path.getAttributeNS(null,"d")+en:(jt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(jt.path)),jt.path.setAttributeNS(null,"d",en),jt.path.setAttributeNS(null,"fill","none"),jt.element=jt.path,jt.setCurrentPoint(zt,Kt)}endPath(){const Nt=this.current;if(Nt.path=null,!this.pendingClip)return;if(!Nt.element){this.pendingClip=null;return}const Ht=`clippath${Ot++}`,jt=this.svgFactory.createElement("svg:clipPath");jt.setAttributeNS(null,"id",Ht),jt.setAttributeNS(null,"transform",Lt(this.transformMatrix));const zt=Nt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?zt.setAttributeNS(null,"clip-rule","evenodd"):zt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,jt.append(zt),this.defs.append(jt),Nt.activeClipUrl){Nt.clipGroup=null;for(const Kt of this.extraStack)Kt.clipGroup=null;jt.setAttributeNS(null,"clip-path",Nt.activeClipUrl)}Nt.activeClipUrl=`url(#${Ht})`,this.tgrp=null}clip(Nt){this.pendingClip=Nt}closePath(){const Nt=this.current;if(Nt.path){const Ht=`${Nt.path.getAttributeNS(null,"d")}Z`;Nt.path.setAttributeNS(null,"d",Ht)}}setLeading(Nt){this.current.leading=-Nt}setTextRise(Nt){this.current.textRise=Nt}setTextRenderingMode(Nt){this.current.textRenderingMode=Nt}setHScale(Nt){this.current.textHScale=Nt/100}setRenderingIntent(Nt){}setFlatness(Nt){}setGState(Nt){for(const[Ht,jt]of Nt)switch(Ht){case"LW":this.setLineWidth(jt);break;case"LC":this.setLineCap(jt);break;case"LJ":this.setLineJoin(jt);break;case"ML":this.setMiterLimit(jt);break;case"D":this.setDash(jt[0],jt[1]);break;case"RI":this.setRenderingIntent(jt);break;case"FL":this.setFlatness(jt);break;case"Font":this.setFont(jt);break;case"CA":this.setStrokeAlpha(jt);break;case"ca":this.setFillAlpha(jt);break;default:(0,xt.warn)(`Unimplemented graphic state operator ${Ht}`);break}}fill(){const Nt=this.current;Nt.element&&(Nt.element.setAttributeNS(null,"fill",Nt.fillColor),Nt.element.setAttributeNS(null,"fill-opacity",Nt.fillAlpha),this.endPath())}stroke(){const Nt=this.current;Nt.element&&(this._setStrokeAttributes(Nt.element),Nt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Nt,Ht=1){const jt=this.current;let zt=jt.dashArray;Ht!==1&&zt.length>0&&(zt=zt.map(function(Kt){return Ht*Kt})),Nt.setAttributeNS(null,"stroke",jt.strokeColor),Nt.setAttributeNS(null,"stroke-opacity",jt.strokeAlpha),Nt.setAttributeNS(null,"stroke-miterlimit",Mt(jt.miterLimit)),Nt.setAttributeNS(null,"stroke-linecap",jt.lineCap),Nt.setAttributeNS(null,"stroke-linejoin",jt.lineJoin),Nt.setAttributeNS(null,"stroke-width",Mt(Ht*jt.lineWidth)+"px"),Nt.setAttributeNS(null,"stroke-dasharray",zt.map(Mt).join(" ")),Nt.setAttributeNS(null,"stroke-dashoffset",Mt(Ht*jt.dashPhase)+"px")}eoFill(){var Nt;(Nt=this.current.element)==null||Nt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Nt;(Nt=this.current.element)==null||Nt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Nt=this.svgFactory.createElement("svg:rect");Nt.setAttributeNS(null,"x","0"),Nt.setAttributeNS(null,"y","0"),Nt.setAttributeNS(null,"width","1px"),Nt.setAttributeNS(null,"height","1px"),Nt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Nt)}paintImageXObject(Nt){const Ht=this.getObject(Nt);if(!Ht){(0,xt.warn)(`Dependent image with object ID ${Nt} is not ready yet`);return}this.paintInlineImageXObject(Ht)}paintInlineImageXObject(Nt,Ht){const jt=Nt.width,zt=Nt.height,Kt=Rt(Nt,this.forceDataSchema,!!Ht),en=this.svgFactory.createElement("svg:rect");en.setAttributeNS(null,"x","0"),en.setAttributeNS(null,"y","0"),en.setAttributeNS(null,"width",Mt(jt)),en.setAttributeNS(null,"height",Mt(zt)),this.current.element=en,this.clip("nonzero");const Wt=this.svgFactory.createElement("svg:image");Wt.setAttributeNS(_t,"xlink:href",Kt),Wt.setAttributeNS(null,"x","0"),Wt.setAttributeNS(null,"y",Mt(-zt)),Wt.setAttributeNS(null,"width",Mt(jt)+"px"),Wt.setAttributeNS(null,"height",Mt(zt)+"px"),Wt.setAttributeNS(null,"transform",`scale(${Mt(1/jt)} ${Mt(-1/zt)})`),Ht?Ht.append(Wt):this._ensureTransformGroup().append(Wt)}paintImageMaskXObject(Nt){const Ht=this.getObject(Nt.data,Nt);if(Ht.bitmap){(0,xt.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const jt=this.current,zt=Ht.width,Kt=Ht.height,en=jt.fillColor;jt.maskId=`mask${Ft++}`;const Wt=this.svgFactory.createElement("svg:mask");Wt.setAttributeNS(null,"id",jt.maskId);const Qt=this.svgFactory.createElement("svg:rect");Qt.setAttributeNS(null,"x","0"),Qt.setAttributeNS(null,"y","0"),Qt.setAttributeNS(null,"width",Mt(zt)),Qt.setAttributeNS(null,"height",Mt(Kt)),Qt.setAttributeNS(null,"fill",en),Qt.setAttributeNS(null,"mask",`url(#${jt.maskId})`),this.defs.append(Wt),this._ensureTransformGroup().append(Qt),this.paintInlineImageXObject(Ht,Wt)}paintFormXObjectBegin(Nt,Ht){if(Array.isArray(Nt)&&Nt.length===6&&this.transform(Nt[0],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5]),Ht){const jt=Ht[2]-Ht[0],zt=Ht[3]-Ht[1],Kt=this.svgFactory.createElement("svg:rect");Kt.setAttributeNS(null,"x",Ht[0]),Kt.setAttributeNS(null,"y",Ht[1]),Kt.setAttributeNS(null,"width",Mt(jt)),Kt.setAttributeNS(null,"height",Mt(zt)),this.current.element=Kt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Nt){const Ht=this.svgFactory.create(Nt.width,Nt.height),jt=this.svgFactory.createElement("svg:defs");Ht.append(jt),this.defs=jt;const zt=this.svgFactory.createElement("svg:g");return zt.setAttributeNS(null,"transform",Lt(Nt.transform)),Ht.append(zt),this.svg=zt,Ht}_ensureClipGroup(){if(!this.current.clipGroup){const Nt=this.svgFactory.createElement("svg:g");Nt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Nt),this.current.clipGroup=Nt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Lt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=$t},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class ht{static textContent(xt){const bt=[],Et={items:bt,styles:Object.create(null)};function _t(At){var Rt;if(!At)return;let Ct=null;const St=At.name;if(St==="#text")Ct=At.value;else if(ht.shouldBuildText(St))(Rt=At==null?void 0:At.attributes)!=null&&Rt.textContent?Ct=At.attributes.textContent:At.value&&(Ct=At.value);else return;if(Ct!==null&&bt.push({str:Ct}),!!At.children)for(const Pt of At.children)_t(Pt)}return _t(xt),Et}static shouldBuildText(xt){return!(xt==="textarea"||xt==="input"||xt==="option"||xt==="select")}}$.XfaText=ht},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=Lt,$.updateTextLayer=Ot;var vt=ht(1),xt=ht(6);const bt=1e5,Et=30,_t=.8,At=new Map;function Ct(Ft,Dt){let $t;if(Dt&&vt.FeatureTest.isOffscreenCanvasSupported)$t=new OffscreenCanvas(Ft,Ft).getContext("2d",{alpha:!1});else{const Bt=document.createElement("canvas");Bt.width=Bt.height=Ft,$t=Bt.getContext("2d",{alpha:!1})}return $t}function St(Ft,Dt){const $t=At.get(Ft);if($t)return $t;const Bt=Ct(Et,Dt);Bt.font=`${Et}px ${Ft}`;const Nt=Bt.measureText("");let Ht=Nt.fontBoundingBoxAscent,jt=Math.abs(Nt.fontBoundingBoxDescent);if(Ht){const Kt=Ht/(Ht+jt);return At.set(Ft,Kt),Bt.canvas.width=Bt.canvas.height=0,Kt}Bt.strokeStyle="red",Bt.clearRect(0,0,Et,Et),Bt.strokeText("g",0,0);let zt=Bt.getImageData(0,0,Et,Et).data;jt=0;for(let Kt=zt.length-1-3;Kt>=0;Kt-=4)if(zt[Kt]>0){jt=Math.ceil(Kt/4/Et);break}Bt.clearRect(0,0,Et,Et),Bt.strokeText("A",0,Et),zt=Bt.getImageData(0,0,Et,Et).data,Ht=0;for(let Kt=0,en=zt.length;Kt<en;Kt+=4)if(zt[Kt]>0){Ht=Et-Math.floor(Kt/4/Et);break}if(Bt.canvas.width=Bt.canvas.height=0,Ht){const Kt=Ht/(Ht+jt);return At.set(Ft,Kt),Kt}return At.set(Ft,_t),_t}function Rt(Ft,Dt,$t){const Bt=document.createElement("span"),Nt={angle:0,canvasWidth:0,hasText:Dt.str!=="",hasEOL:Dt.hasEOL,fontSize:0};Ft._textDivs.push(Bt);const Ht=vt.Util.transform(Ft._transform,Dt.transform);let jt=Math.atan2(Ht[1],Ht[0]);const zt=$t[Dt.fontName];zt.vertical&&(jt+=Math.PI/2);const Kt=Math.hypot(Ht[2],Ht[3]),en=Kt*St(zt.fontFamily,Ft._isOffscreenCanvasSupported);let Wt,Qt;jt===0?(Wt=Ht[4],Qt=Ht[5]-en):(Wt=Ht[4]+en*Math.sin(jt),Qt=Ht[5]-en*Math.cos(jt));const on="calc(var(--scale-factor)*",En=Bt.style;Ft._container===Ft._rootContainer?(En.left=`${(100*Wt/Ft._pageWidth).toFixed(2)}%`,En.top=`${(100*Qt/Ft._pageHeight).toFixed(2)}%`):(En.left=`${on}${Wt.toFixed(2)}px)`,En.top=`${on}${Qt.toFixed(2)}px)`),En.fontSize=`${on}${Kt.toFixed(2)}px)`,En.fontFamily=zt.fontFamily,Nt.fontSize=Kt,Bt.setAttribute("role","presentation"),Bt.textContent=Dt.str,Bt.dir=Dt.dir,Ft._fontInspectorEnabled&&(Bt.dataset.fontName=Dt.fontName),jt!==0&&(Nt.angle=jt*(180/Math.PI));let un=!1;if(Dt.str.length>1)un=!0;else if(Dt.str!==" "&&Dt.transform[0]!==Dt.transform[3]){const xn=Math.abs(Dt.transform[0]),an=Math.abs(Dt.transform[3]);xn!==an&&Math.max(xn,an)/Math.min(xn,an)>1.5&&(un=!0)}un&&(Nt.canvasWidth=zt.vertical?Dt.height:Dt.width),Ft._textDivProperties.set(Bt,Nt),Ft._isReadableStream&&Ft._layoutText(Bt)}function Pt(Ft){const{div:Dt,scale:$t,properties:Bt,ctx:Nt,prevFontSize:Ht,prevFontFamily:jt}=Ft,{style:zt}=Dt;let Kt="";if(Bt.canvasWidth!==0&&Bt.hasText){const{fontFamily:en}=zt,{canvasWidth:Wt,fontSize:Qt}=Bt;(Ht!==Qt||jt!==en)&&(Nt.font=`${Qt*$t}px ${en}`,Ft.prevFontSize=Qt,Ft.prevFontFamily=en);const{width:on}=Nt.measureText(Dt.textContent);on>0&&(Kt=`scaleX(${Wt*$t/on})`)}Bt.angle!==0&&(Kt=`rotate(${Bt.angle}deg) ${Kt}`),Kt.length>0&&(zt.transform=Kt)}function kt(Ft){if(Ft._canceled)return;const Dt=Ft._textDivs,$t=Ft._capability;if(Dt.length>bt){$t.resolve();return}if(!Ft._isReadableStream)for(const Nt of Dt)Ft._layoutText(Nt);$t.resolve()}class Mt{constructor({textContentSource:Dt,container:$t,viewport:Bt,textDivs:Nt,textDivProperties:Ht,textContentItemsStr:jt,isOffscreenCanvasSupported:zt}){var on;this._textContentSource=Dt,this._isReadableStream=Dt instanceof ReadableStream,this._container=this._rootContainer=$t,this._textDivs=Nt||[],this._textContentItemsStr=jt||[],this._isOffscreenCanvasSupported=zt,this._fontInspectorEnabled=!!((on=globalThis.FontInspector)!=null&&on.enabled),this._reader=null,this._textDivProperties=Ht||new WeakMap,this._canceled=!1,this._capability=new vt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Bt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Ct(0,zt)};const{pageWidth:Kt,pageHeight:en,pageX:Wt,pageY:Qt}=Bt.rawDims;this._transform=[1,0,0,-1,-Wt,Qt+en],this._pageWidth=Kt,this._pageHeight=en,(0,xt.setLayerDimensions)($t,Bt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new vt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new vt.AbortException("TextLayer task cancelled."))}_processItems(Dt,$t){for(const Bt of Dt){if(Bt.str===void 0){if(Bt.type==="beginMarkedContentProps"||Bt.type==="beginMarkedContent"){const Nt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Bt.id!==null&&this._container.setAttribute("id",`${Bt.id}`),Nt.append(this._container)}else Bt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Bt.str),Rt(this,Bt,$t)}}_layoutText(Dt){const $t=this._layoutTextParams.properties=this._textDivProperties.get(Dt);if(this._layoutTextParams.div=Dt,Pt(this._layoutTextParams),$t.hasText&&this._container.append(Dt),$t.hasEOL){const Bt=document.createElement("br");Bt.setAttribute("role","presentation"),this._container.append(Bt)}}_render(){const Dt=new vt.PromiseCapability;let $t=Object.create(null);if(this._isReadableStream){const Bt=()=>{this._reader.read().then(({value:Nt,done:Ht})=>{if(Ht){Dt.resolve();return}Object.assign($t,Nt.styles),this._processItems(Nt.items,$t),Bt()},Dt.reject)};this._reader=this._textContentSource.getReader(),Bt()}else if(this._textContentSource){const{items:Bt,styles:Nt}=this._textContentSource;this._processItems(Bt,Nt),Dt.resolve()}else throw new Error('No "textContentSource" parameter specified.');Dt.promise.then(()=>{$t=null,kt(this)},this._capability.reject)}}$.TextLayerRenderTask=Mt;function Lt(Ft){!Ft.textContentSource&&(Ft.textContent||Ft.textContentStream)&&((0,xt.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Ft.textContentSource=Ft.textContent||Ft.textContentStream);const{container:Dt,viewport:$t}=Ft,Bt=getComputedStyle(Dt),Nt=Bt.getPropertyValue("visibility"),Ht=parseFloat(Bt.getPropertyValue("--scale-factor"));Nt==="visible"&&(!Ht||Math.abs(Ht-$t.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const jt=new Mt(Ft);return jt._render(),jt}function Ot({container:Ft,viewport:Dt,textDivs:$t,textDivProperties:Bt,isOffscreenCanvasSupported:Nt,mustRotate:Ht=!0,mustRescale:jt=!0}){if(Ht&&(0,xt.setLayerDimensions)(Ft,{rotation:Dt.rotation}),jt){const zt=Ct(0,Nt),en={prevFontSize:null,prevFontFamily:null,div:null,scale:Dt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:zt};for(const Wt of $t)en.properties=Bt.get(Wt),en.div=Wt,Pt(en)}}},(_e,$,ht)=>{var St,Rt,Pt,kt,Mt,Lt,Ot,Ft,Dt,$t,Bt,jE,By,BE,HE;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var vt=ht(1),xt=ht(4),bt=ht(28),Et=ht(33),_t=ht(6),At=ht(34);const Kt=class Kt{constructor({uiManager:Wt,pageIndex:Qt,div:on,accessibilityManager:En,annotationLayer:un,viewport:xn,l10n:an}){qt(this,Bt);qt(this,St);qt(this,Rt,!1);qt(this,Pt,null);qt(this,kt,this.pointerup.bind(this));qt(this,Mt,this.pointerdown.bind(this));qt(this,Lt,new Map);qt(this,Ot,!1);qt(this,Ft,!1);qt(this,Dt,!1);qt(this,$t);const hn=[bt.FreeTextEditor,Et.InkEditor,At.StampEditor];if(!Kt._initialized){Kt._initialized=!0;for(const nn of hn)nn.initialize(an)}Wt.registerEditorTypes(hn),Vt(this,$t,Wt),this.pageIndex=Qt,this.div=on,Vt(this,St,En),Vt(this,Pt,un),this.viewport=xn,wt(this,$t).addLayer(this)}get isEmpty(){return wt(this,Lt).size===0}updateToolbar(Wt){wt(this,$t).updateToolbar(Wt)}updateMode(Wt=wt(this,$t).getMode()){Ut(this,Bt,HE).call(this),Wt===vt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Wt!==vt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Wt===vt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Wt===vt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Wt===vt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Wt){if(!Wt&&wt(this,$t).getMode()!==vt.AnnotationEditorType.INK)return;if(!Wt){for(const on of wt(this,Lt).values())if(on.isEmpty()){on.setInBackground();return}}Ut(this,Bt,By).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Wt){wt(this,$t).setEditingState(Wt)}addCommands(Wt){wt(this,$t).addCommands(Wt)}enable(){this.div.style.pointerEvents="auto";const Wt=new Set;for(const on of wt(this,Lt).values())on.enableEditing(),on.annotationElementId&&Wt.add(on.annotationElementId);if(!wt(this,Pt))return;const Qt=wt(this,Pt).getEditableAnnotations();for(const on of Qt){if(on.hide(),wt(this,$t).isDeletedAnnotationElement(on.data.id)||Wt.has(on.data.id))continue;const En=this.deserialize(on);En&&(this.addOrRebuild(En),En.enableEditing())}}disable(){var Qt;Vt(this,Dt,!0),this.div.style.pointerEvents="none";const Wt=new Set;for(const on of wt(this,Lt).values()){if(on.disableEditing(),!on.annotationElementId||on.serialize()!==null){Wt.add(on.annotationElementId);continue}(Qt=this.getEditableAnnotation(on.annotationElementId))==null||Qt.show(),on.remove()}if(wt(this,Pt)){const on=wt(this,Pt).getEditableAnnotations();for(const En of on){const{id:un}=En.data;Wt.has(un)||wt(this,$t).isDeletedAnnotationElement(un)||En.show()}}Ut(this,Bt,HE).call(this),this.isEmpty&&(this.div.hidden=!0),Vt(this,Dt,!1)}getEditableAnnotation(Wt){var Qt;return((Qt=wt(this,Pt))==null?void 0:Qt.getEditableAnnotation(Wt))||null}setActiveEditor(Wt){wt(this,$t).getActive()!==Wt&&wt(this,$t).setActiveEditor(Wt)}enableClick(){this.div.addEventListener("pointerdown",wt(this,Mt)),this.div.addEventListener("pointerup",wt(this,kt))}disableClick(){this.div.removeEventListener("pointerdown",wt(this,Mt)),this.div.removeEventListener("pointerup",wt(this,kt))}attach(Wt){wt(this,Lt).set(Wt.id,Wt);const{annotationElementId:Qt}=Wt;Qt&&wt(this,$t).isDeletedAnnotationElement(Qt)&&wt(this,$t).removeDeletedAnnotationElement(Wt)}detach(Wt){var Qt;wt(this,Lt).delete(Wt.id),(Qt=wt(this,St))==null||Qt.removePointerInTextLayer(Wt.contentDiv),!wt(this,Dt)&&Wt.annotationElementId&&wt(this,$t).addDeletedAnnotationElement(Wt)}remove(Wt){this.detach(Wt),wt(this,$t).removeEditor(Wt),Wt.div.contains(document.activeElement)&&setTimeout(()=>{wt(this,$t).focusMainContainer()},0),Wt.div.remove(),Wt.isAttachedToDOM=!1,wt(this,Ft)||this.addInkEditorIfNeeded(!1)}changeParent(Wt){var Qt;Wt.parent!==this&&(Wt.annotationElementId&&(wt(this,$t).addDeletedAnnotationElement(Wt.annotationElementId),xt.AnnotationEditor.deleteAnnotationElement(Wt),Wt.annotationElementId=null),this.attach(Wt),(Qt=Wt.parent)==null||Qt.detach(Wt),Wt.setParent(this),Wt.div&&Wt.isAttachedToDOM&&(Wt.div.remove(),this.div.append(Wt.div)))}add(Wt){if(this.changeParent(Wt),wt(this,$t).addEditor(Wt),this.attach(Wt),!Wt.isAttachedToDOM){const Qt=Wt.render();this.div.append(Qt),Wt.isAttachedToDOM=!0}Wt.fixAndSetPosition(),Wt.onceAdded(),wt(this,$t).addToAnnotationStorage(Wt)}moveEditorInDOM(Wt){var on;if(!Wt.isAttachedToDOM)return;const{activeElement:Qt}=document;Wt.div.contains(Qt)&&(Wt._focusEventsAllowed=!1,setTimeout(()=>{Wt.div.contains(document.activeElement)?Wt._focusEventsAllowed=!0:(Wt.div.addEventListener("focusin",()=>{Wt._focusEventsAllowed=!0},{once:!0}),Qt.focus())},0)),Wt._structTreeParentId=(on=wt(this,St))==null?void 0:on.moveElementInDOM(this.div,Wt.div,Wt.contentDiv,!0)}addOrRebuild(Wt){Wt.needsToBeRebuilt()?Wt.rebuild():this.add(Wt)}addUndoableEditor(Wt){const Qt=()=>Wt._uiManager.rebuild(Wt),on=()=>{Wt.remove()};this.addCommands({cmd:Qt,undo:on,mustExec:!1})}getNextId(){return wt(this,$t).getId()}pasteEditor(Wt,Qt){wt(this,$t).updateToolbar(Wt),wt(this,$t).updateMode(Wt);const{offsetX:on,offsetY:En}=Ut(this,Bt,BE).call(this),un=this.getNextId(),xn=Ut(this,Bt,jE).call(this,{parent:this,id:un,x:on,y:En,uiManager:wt(this,$t),isCentered:!0,...Qt});xn&&this.add(xn)}deserialize(Wt){switch(Wt.annotationType??Wt.annotationEditorType){case vt.AnnotationEditorType.FREETEXT:return bt.FreeTextEditor.deserialize(Wt,this,wt(this,$t));case vt.AnnotationEditorType.INK:return Et.InkEditor.deserialize(Wt,this,wt(this,$t));case vt.AnnotationEditorType.STAMP:return At.StampEditor.deserialize(Wt,this,wt(this,$t))}return null}addNewEditor(){Ut(this,Bt,By).call(this,Ut(this,Bt,BE).call(this),!0)}setSelected(Wt){wt(this,$t).setSelected(Wt)}toggleSelected(Wt){wt(this,$t).toggleSelected(Wt)}isSelected(Wt){return wt(this,$t).isSelected(Wt)}unselect(Wt){wt(this,$t).unselect(Wt)}pointerup(Wt){const{isMac:Qt}=vt.FeatureTest.platform;if(!(Wt.button!==0||Wt.ctrlKey&&Qt)&&Wt.target===this.div&&wt(this,Ot)){if(Vt(this,Ot,!1),!wt(this,Rt)){Vt(this,Rt,!0);return}if(wt(this,$t).getMode()===vt.AnnotationEditorType.STAMP){wt(this,$t).unselectAll();return}Ut(this,Bt,By).call(this,Wt,!1)}}pointerdown(Wt){if(wt(this,Ot)){Vt(this,Ot,!1);return}const{isMac:Qt}=vt.FeatureTest.platform;if(Wt.button!==0||Wt.ctrlKey&&Qt||Wt.target!==this.div)return;Vt(this,Ot,!0);const on=wt(this,$t).getActive();Vt(this,Rt,!on||on.isEmpty())}findNewParent(Wt,Qt,on){const En=wt(this,$t).findParent(Qt,on);return En===null||En===this?!1:(En.changeParent(Wt),!0)}destroy(){var Wt,Qt;((Wt=wt(this,$t).getActive())==null?void 0:Wt.parent)===this&&(wt(this,$t).commitOrRemove(),wt(this,$t).setActiveEditor(null));for(const on of wt(this,Lt).values())(Qt=wt(this,St))==null||Qt.removePointerInTextLayer(on.contentDiv),on.setParent(null),on.isAttachedToDOM=!1,on.div.remove();this.div=null,wt(this,Lt).clear(),wt(this,$t).removeLayer(this)}render({viewport:Wt}){this.viewport=Wt,(0,_t.setLayerDimensions)(this.div,Wt);for(const Qt of wt(this,$t).getEditors(this.pageIndex))this.add(Qt);this.updateMode()}update({viewport:Wt}){wt(this,$t).commitOrRemove(),this.viewport=Wt,(0,_t.setLayerDimensions)(this.div,{rotation:Wt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Wt,pageHeight:Qt}=this.viewport.rawDims;return[Wt,Qt]}};St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Lt=new WeakMap,Ot=new WeakMap,Ft=new WeakMap,Dt=new WeakMap,$t=new WeakMap,Bt=new WeakSet,jE=function(Wt){switch(wt(this,$t).getMode()){case vt.AnnotationEditorType.FREETEXT:return new bt.FreeTextEditor(Wt);case vt.AnnotationEditorType.INK:return new Et.InkEditor(Wt);case vt.AnnotationEditorType.STAMP:return new At.StampEditor(Wt)}return null},By=function(Wt,Qt){const on=this.getNextId(),En=Ut(this,Bt,jE).call(this,{parent:this,id:on,x:Wt.offsetX,y:Wt.offsetY,uiManager:wt(this,$t),isCentered:Qt});return En&&this.add(En),En},BE=function(){const{x:Wt,y:Qt,width:on,height:En}=this.div.getBoundingClientRect(),un=Math.max(0,Wt),xn=Math.max(0,Qt),an=Math.min(window.innerWidth,Wt+on),hn=Math.min(window.innerHeight,Qt+En),nn=(un+an)/2-Wt,gn=(xn+hn)/2-Qt,[wn,rn]=this.viewport.rotation%180===0?[nn,gn]:[gn,nn];return{offsetX:wn,offsetY:rn}},HE=function(){Vt(this,Ft,!0);for(const Wt of wt(this,Lt).values())Wt.isEmpty()&&Wt.remove();Vt(this,Ft,!1)},Sr(Kt,"_initialized",!1);let Ct=Kt;$.AnnotationEditorLayer=Ct},(_e,$,ht)=>{var At,Ct,St,Rt,Pt,kt,Mt,Lt,Ot,Ft,nw,rw,iw,x0,UE,sw,zE;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var vt=ht(1),xt=ht(5),bt=ht(4),Et=ht(29);const Kt=class Kt extends bt.AnnotationEditor{constructor(Qt){super({...Qt,name:"freeTextEditor"});qt(this,Ft);qt(this,At,this.editorDivBlur.bind(this));qt(this,Ct,this.editorDivFocus.bind(this));qt(this,St,this.editorDivInput.bind(this));qt(this,Rt,this.editorDivKeydown.bind(this));qt(this,Pt);qt(this,kt,"");qt(this,Mt,`${this.id}-editor`);qt(this,Lt);qt(this,Ot,null);Vt(this,Pt,Qt.color||Kt._defaultColor||bt.AnnotationEditor._defaultLineColor),Vt(this,Lt,Qt.fontSize||Kt._defaultFontSize)}static get _keyboardManager(){const Qt=Kt.prototype,on=xn=>xn.isEmpty(),En=xt.AnnotationEditorUIManager.TRANSLATE_SMALL,un=xt.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,vt.shadow)(this,"_keyboardManager",new xt.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Qt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Qt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Qt._translateEmpty,{args:[-En,0],checker:on}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Qt._translateEmpty,{args:[-un,0],checker:on}],[["ArrowRight","mac+ArrowRight"],Qt._translateEmpty,{args:[En,0],checker:on}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Qt._translateEmpty,{args:[un,0],checker:on}],[["ArrowUp","mac+ArrowUp"],Qt._translateEmpty,{args:[0,-En],checker:on}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Qt._translateEmpty,{args:[0,-un],checker:on}],[["ArrowDown","mac+ArrowDown"],Qt._translateEmpty,{args:[0,En],checker:on}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Qt._translateEmpty,{args:[0,un],checker:on}]]))}static initialize(Qt){bt.AnnotationEditor.initialize(Qt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const on=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(on.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Qt,on){switch(Qt){case vt.AnnotationEditorParamsType.FREETEXT_SIZE:Kt._defaultFontSize=on;break;case vt.AnnotationEditorParamsType.FREETEXT_COLOR:Kt._defaultColor=on;break}}updateParams(Qt,on){switch(Qt){case vt.AnnotationEditorParamsType.FREETEXT_SIZE:Ut(this,Ft,nw).call(this,on);break;case vt.AnnotationEditorParamsType.FREETEXT_COLOR:Ut(this,Ft,rw).call(this,on);break}}static get defaultPropertiesToUpdate(){return[[vt.AnnotationEditorParamsType.FREETEXT_SIZE,Kt._defaultFontSize],[vt.AnnotationEditorParamsType.FREETEXT_COLOR,Kt._defaultColor||bt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[vt.AnnotationEditorParamsType.FREETEXT_SIZE,wt(this,Lt)],[vt.AnnotationEditorParamsType.FREETEXT_COLOR,wt(this,Pt)]]}_translateEmpty(Qt,on){this._uiManager.translateSelectedEditors(Qt,on,!0)}getInitialTranslation(){const Qt=this.parentScale;return[-Kt._internalPadding*Qt,-(Kt._internalPadding+wt(this,Lt))*Qt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(vt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",wt(this,Rt)),this.editorDiv.addEventListener("focus",wt(this,Ct)),this.editorDiv.addEventListener("blur",wt(this,At)),this.editorDiv.addEventListener("input",wt(this,St)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",wt(this,Mt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",wt(this,Rt)),this.editorDiv.removeEventListener("focus",wt(this,Ct)),this.editorDiv.removeEventListener("blur",wt(this,At)),this.editorDiv.removeEventListener("input",wt(this,St)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Qt){this._focusEventsAllowed&&(super.focusin(Qt),Qt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Qt;if(this.width){Ut(this,Ft,zE).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Qt=this._initialOptions)!=null&&Qt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Qt=wt(this,kt),on=Vt(this,kt,Ut(this,Ft,iw).call(this).trimEnd());if(Qt===on)return;const En=un=>{if(Vt(this,kt,un),!un){this.remove();return}Ut(this,Ft,UE).call(this),this._uiManager.rebuild(this),Ut(this,Ft,x0).call(this)};this.addCommands({cmd:()=>{En(on)},undo:()=>{En(Qt)},mustExec:!1}),Ut(this,Ft,x0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Qt){this.enterInEditMode()}keydown(Qt){Qt.target===this.div&&Qt.key==="Enter"&&(this.enterInEditMode(),Qt.preventDefault())}editorDivKeydown(Qt){Kt._keyboardManager.exec(this,Qt)}editorDivFocus(Qt){this.isEditing=!0}editorDivBlur(Qt){this.isEditing=!1}editorDivInput(Qt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Qt,on;this.width&&(Qt=this.x,on=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",wt(this,Mt)),this.enableEditing(),bt.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(un=>{var xn;return(xn=this.editorDiv)==null?void 0:xn.setAttribute("aria-label",un)}),bt.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(un=>{var xn;return(xn=this.editorDiv)==null?void 0:xn.setAttribute("default-content",un)}),this.editorDiv.contentEditable=!0;const{style:En}=this.editorDiv;if(En.fontSize=`calc(${wt(this,Lt)}px * var(--scale-factor))`,En.color=wt(this,Pt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,xt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[un,xn]=this.parentDimensions;if(this.annotationElementId){const{position:an}=wt(this,Ot);let[hn,nn]=this.getInitialTranslation();[hn,nn]=this.pageTranslationToScreen(hn,nn);const[gn,wn]=this.pageDimensions,[rn,Xt]=this.pageTranslation;let Yt,tn;switch(this.rotation){case 0:Yt=Qt+(an[0]-rn)/gn,tn=on+this.height-(an[1]-Xt)/wn;break;case 90:Yt=Qt+(an[0]-rn)/gn,tn=on-(an[1]-Xt)/wn,[hn,nn]=[nn,-hn];break;case 180:Yt=Qt-this.width+(an[0]-rn)/gn,tn=on-(an[1]-Xt)/wn,[hn,nn]=[-hn,-nn];break;case 270:Yt=Qt+(an[0]-rn-this.height*wn)/gn,tn=on+(an[1]-Xt-this.width*gn)/wn,[hn,nn]=[-nn,hn];break}this.setAt(Yt*un,tn*xn,hn,nn)}else this.setAt(Qt*un,on*xn,this.width*un,this.height*xn);Ut(this,Ft,UE).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Qt,on,En){let un=null;if(Qt instanceof Et.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:an,fontColor:hn},rect:nn,rotation:gn,id:wn},textContent:rn,textPosition:Xt,parent:{page:{pageNumber:Yt}}}=Qt;if(!rn||rn.length===0)return null;un=Qt={annotationType:vt.AnnotationEditorType.FREETEXT,color:Array.from(hn),fontSize:an,value:rn.join(`
`),position:Xt,pageIndex:Yt-1,rect:nn,rotation:gn,id:wn,deleted:!1}}const xn=super.deserialize(Qt,on,En);return Vt(xn,Lt,Qt.fontSize),Vt(xn,Pt,vt.Util.makeHexColor(...Qt.color)),Vt(xn,kt,Qt.value),xn.annotationElementId=Qt.id||null,Vt(xn,Ot,un),xn}serialize(Qt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const on=Kt._internalPadding*this.parentScale,En=this.getRect(on,on),un=bt.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:wt(this,Pt)),xn={annotationType:vt.AnnotationEditorType.FREETEXT,color:un,fontSize:wt(this,Lt),value:wt(this,kt),pageIndex:this.pageIndex,rect:En,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Qt?xn:this.annotationElementId&&!Ut(this,Ft,sw).call(this,xn)?null:(xn.id=this.annotationElementId,xn)}};At=new WeakMap,Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Lt=new WeakMap,Ot=new WeakMap,Ft=new WeakSet,nw=function(Qt){const on=un=>{this.editorDiv.style.fontSize=`calc(${un}px * var(--scale-factor))`,this.translate(0,-(un-wt(this,Lt))*this.parentScale),Vt(this,Lt,un),Ut(this,Ft,x0).call(this)},En=wt(this,Lt);this.addCommands({cmd:()=>{on(Qt)},undo:()=>{on(En)},mustExec:!0,type:vt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},rw=function(Qt){const on=wt(this,Pt);this.addCommands({cmd:()=>{Vt(this,Pt,this.editorDiv.style.color=Qt)},undo:()=>{Vt(this,Pt,this.editorDiv.style.color=on)},mustExec:!0,type:vt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},iw=function(){const Qt=this.editorDiv.getElementsByTagName("div");if(Qt.length===0)return this.editorDiv.innerText;const on=[];for(const En of Qt)on.push(En.innerText.replace(/\r\n?|\n/,""));return on.join(`
`)},x0=function(){const[Qt,on]=this.parentDimensions;let En;if(this.isAttachedToDOM)En=this.div.getBoundingClientRect();else{const{currentLayer:un,div:xn}=this,an=xn.style.display;xn.style.display="hidden",un.div.append(this.div),En=xn.getBoundingClientRect(),xn.remove(),xn.style.display=an}this.rotation%180===this.parentRotation%180?(this.width=En.width/Qt,this.height=En.height/on):(this.width=En.height/Qt,this.height=En.width/on),this.fixAndSetPosition()},UE=function(){if(this.editorDiv.replaceChildren(),!!wt(this,kt))for(const Qt of wt(this,kt).split(`
`)){const on=document.createElement("div");on.append(Qt?document.createTextNode(Qt):document.createElement("br")),this.editorDiv.append(on)}},sw=function(Qt){const{value:on,fontSize:En,color:un,rect:xn,pageIndex:an}=wt(this,Ot);return Qt.value!==on||Qt.fontSize!==En||Qt.rect.some((hn,nn)=>Math.abs(hn-xn[nn])>=1)||Qt.color.some((hn,nn)=>hn!==un[nn])||Qt.pageIndex!==an},zE=function(Qt=!1){if(!this.annotationElementId)return;if(Ut(this,Ft,x0).call(this),!Qt&&(this.width===0||this.height===0)){setTimeout(()=>Ut(this,Ft,zE).call(this,!0),0);return}const on=Kt._internalPadding*this.parentScale;wt(this,Ot).rect=this.getRect(on,on)},Sr(Kt,"_freeTextDefaultContent",""),Sr(Kt,"_internalPadding",0),Sr(Kt,"_defaultColor",null),Sr(Kt,"_defaultFontSize",10),Sr(Kt,"_type","freetext");let _t=Kt;$.FreeTextEditor=_t},(_e,$,ht)=>{var tn,ln,Yu,ow,Mn,Hn,Un,Wn,Xn,Kn,Tn,Fn,sn,mn,Pn,Nn,Vn,Qn,qn,kn,sr,rr,aw,Hy,WE,VE,gr,Wr,rs,Yn,Ln,In,fr,GE,kr,vn,Gn,ar,lw,XE;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var vt=ht(1),xt=ht(6),bt=ht(3),Et=ht(30),_t=ht(31),At=ht(32);const Ct=1e3,St=9,Rt=new WeakSet;function Pt(hr){return{width:hr[2]-hr[0],height:hr[3]-hr[1]}}class kt{static create(pn){switch(pn.data.annotationType){case vt.AnnotationType.LINK:return new Lt(pn);case vt.AnnotationType.TEXT:return new Ot(pn);case vt.AnnotationType.WIDGET:switch(pn.data.fieldType){case"Tx":return new Dt(pn);case"Btn":return pn.data.radioButton?new Nt(pn):pn.data.checkBox?new Bt(pn):new Ht(pn);case"Ch":return new jt(pn);case"Sig":return new $t(pn)}return new Ft(pn);case vt.AnnotationType.POPUP:return new zt(pn);case vt.AnnotationType.FREETEXT:return new en(pn);case vt.AnnotationType.LINE:return new Wt(pn);case vt.AnnotationType.SQUARE:return new Qt(pn);case vt.AnnotationType.CIRCLE:return new on(pn);case vt.AnnotationType.POLYLINE:return new En(pn);case vt.AnnotationType.CARET:return new xn(pn);case vt.AnnotationType.INK:return new an(pn);case vt.AnnotationType.POLYGON:return new un(pn);case vt.AnnotationType.HIGHLIGHT:return new hn(pn);case vt.AnnotationType.UNDERLINE:return new nn(pn);case vt.AnnotationType.SQUIGGLY:return new gn(pn);case vt.AnnotationType.STRIKEOUT:return new wn(pn);case vt.AnnotationType.STAMP:return new rn(pn);case vt.AnnotationType.FILEATTACHMENT:return new Xt(pn);default:return new Mt(pn)}}}const dn=class dn{constructor(pn,{isRenderable:cn=!1,ignoreBorder:Cn=!1,createQuadrilaterals:Bn=!1}={}){qt(this,tn,!1);this.isRenderable=cn,this.data=pn.data,this.layer=pn.layer,this.linkService=pn.linkService,this.downloadManager=pn.downloadManager,this.imageResourcesPath=pn.imageResourcesPath,this.renderForms=pn.renderForms,this.svgFactory=pn.svgFactory,this.annotationStorage=pn.annotationStorage,this.enableScripting=pn.enableScripting,this.hasJSActions=pn.hasJSActions,this._fieldObjects=pn.fieldObjects,this.parent=pn.parent,cn&&(this.container=this._createContainer(Cn)),Bn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:pn,contentsObj:cn,richText:Cn}){return!!(pn!=null&&pn.str||cn!=null&&cn.str||Cn!=null&&Cn.str)}get hasPopupData(){return dn._hasPopupData(this.data)}_createContainer(pn){const{data:cn,parent:{page:Cn,viewport:Bn}}=this,zn=document.createElement("section");zn.setAttribute("data-annotation-id",cn.id),this instanceof Ft||(zn.tabIndex=Ct),zn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&zn.setAttribute("aria-haspopup","dialog"),cn.noRotate&&zn.classList.add("norotate");const{pageWidth:Zn,pageHeight:nr,pageX:xr,pageY:pr}=Bn.rawDims;if(!cn.rect||this instanceof zt){const{rotation:Ir}=cn;return!cn.hasOwnCanvas&&Ir!==0&&this.setRotation(Ir,zn),zn}const{width:cr,height:Hr}=Pt(cn.rect),mr=vt.Util.normalizeRect([cn.rect[0],Cn.view[3]-cn.rect[1]+Cn.view[1],cn.rect[2],Cn.view[3]-cn.rect[3]+Cn.view[1]]);if(!pn&&cn.borderStyle.width>0){zn.style.borderWidth=`${cn.borderStyle.width}px`;const Ir=cn.borderStyle.horizontalCornerRadius,Xr=cn.borderStyle.verticalCornerRadius;if(Ir>0||Xr>0){const hs=`calc(${Ir}px * var(--scale-factor)) / calc(${Xr}px * var(--scale-factor))`;zn.style.borderRadius=hs}else if(this instanceof Nt){const hs=`calc(${cr}px * var(--scale-factor)) / calc(${Hr}px * var(--scale-factor))`;zn.style.borderRadius=hs}switch(cn.borderStyle.style){case vt.AnnotationBorderStyleType.SOLID:zn.style.borderStyle="solid";break;case vt.AnnotationBorderStyleType.DASHED:zn.style.borderStyle="dashed";break;case vt.AnnotationBorderStyleType.BEVELED:(0,vt.warn)("Unimplemented border style: beveled");break;case vt.AnnotationBorderStyleType.INSET:(0,vt.warn)("Unimplemented border style: inset");break;case vt.AnnotationBorderStyleType.UNDERLINE:zn.style.borderBottomStyle="solid";break}const es=cn.borderColor||null;es?(Vt(this,tn,!0),zn.style.borderColor=vt.Util.makeHexColor(es[0]|0,es[1]|0,es[2]|0)):zn.style.borderWidth=0}zn.style.left=`${100*(mr[0]-xr)/Zn}%`,zn.style.top=`${100*(mr[1]-pr)/nr}%`;const{rotation:_r}=cn;return cn.hasOwnCanvas||_r===0?(zn.style.width=`${100*cr/Zn}%`,zn.style.height=`${100*Hr/nr}%`):this.setRotation(_r,zn),zn}setRotation(pn,cn=this.container){if(!this.data.rect)return;const{pageWidth:Cn,pageHeight:Bn}=this.parent.viewport.rawDims,{width:zn,height:Zn}=Pt(this.data.rect);let nr,xr;pn%180===0?(nr=100*zn/Cn,xr=100*Zn/Bn):(nr=100*Zn/Cn,xr=100*zn/Bn),cn.style.width=`${nr}%`,cn.style.height=`${xr}%`,cn.setAttribute("data-main-rotation",(360-pn)%360)}get _commonActions(){const pn=(cn,Cn,Bn)=>{const zn=Bn.detail[cn],Zn=zn[0],nr=zn.slice(1);Bn.target.style[Cn]=Et.ColorConverters[`${Zn}_HTML`](nr),this.annotationStorage.setValue(this.data.id,{[Cn]:Et.ColorConverters[`${Zn}_rgb`](nr)})};return(0,vt.shadow)(this,"_commonActions",{display:cn=>{const{display:Cn}=cn.detail,Bn=Cn%2===1;this.container.style.visibility=Bn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Bn,noPrint:Cn===1||Cn===2})},print:cn=>{this.annotationStorage.setValue(this.data.id,{noPrint:!cn.detail.print})},hidden:cn=>{const{hidden:Cn}=cn.detail;this.container.style.visibility=Cn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Cn,noView:Cn})},focus:cn=>{setTimeout(()=>cn.target.focus({preventScroll:!1}),0)},userName:cn=>{cn.target.title=cn.detail.userName},readonly:cn=>{cn.target.disabled=cn.detail.readonly},required:cn=>{this._setRequired(cn.target,cn.detail.required)},bgColor:cn=>{pn("bgColor","backgroundColor",cn)},fillColor:cn=>{pn("fillColor","backgroundColor",cn)},fgColor:cn=>{pn("fgColor","color",cn)},textColor:cn=>{pn("textColor","color",cn)},borderColor:cn=>{pn("borderColor","borderColor",cn)},strokeColor:cn=>{pn("strokeColor","borderColor",cn)},rotation:cn=>{const Cn=cn.detail.rotation;this.setRotation(Cn),this.annotationStorage.setValue(this.data.id,{rotation:Cn})}})}_dispatchEventFromSandbox(pn,cn){const Cn=this._commonActions;for(const Bn of Object.keys(cn.detail)){const zn=pn[Bn]||Cn[Bn];zn==null||zn(cn)}}_setDefaultPropertiesFromJS(pn){if(!this.enableScripting)return;const cn=this.annotationStorage.getRawValue(this.data.id);if(!cn)return;const Cn=this._commonActions;for(const[Bn,zn]of Object.entries(cn)){const Zn=Cn[Bn];if(Zn){const nr={detail:{[Bn]:zn},target:pn};Zn(nr),delete cn[Bn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:pn}=this.data;if(!pn)return;const[cn,Cn,Bn,zn]=this.data.rect;if(pn.length===1){const[,{x:Xr,y:es},{x:hs,y:Bs}]=pn[0];if(Bn===Xr&&zn===es&&cn===hs&&Cn===Bs)return}const{style:Zn}=this.container;let nr;if(wt(this,tn)){const{borderColor:Xr,borderWidth:es}=Zn;Zn.borderWidth=0,nr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Xr}" stroke-width="${es}">`],this.container.classList.add("hasBorder")}const xr=Bn-cn,pr=zn-Cn,{svgFactory:cr}=this,Hr=cr.createElement("svg");Hr.classList.add("quadrilateralsContainer"),Hr.setAttribute("width",0),Hr.setAttribute("height",0);const mr=cr.createElement("defs");Hr.append(mr);const _r=cr.createElement("clipPath"),Ir=`clippath_${this.data.id}`;_r.setAttribute("id",Ir),_r.setAttribute("clipPathUnits","objectBoundingBox"),mr.append(_r);for(const[,{x:Xr,y:es},{x:hs,y:Bs}]of pn){const ks=cr.createElement("rect"),Bo=(hs-cn)/xr,na=(zn-es)/pr,ga=(Xr-hs)/xr,ny=(es-Bs)/pr;ks.setAttribute("x",Bo),ks.setAttribute("y",na),ks.setAttribute("width",ga),ks.setAttribute("height",ny),_r.append(ks),nr==null||nr.push(`<rect vector-effect="non-scaling-stroke" x="${Bo}" y="${na}" width="${ga}" height="${ny}"/>`)}wt(this,tn)&&(nr.push("</g></svg>')"),Zn.backgroundImage=nr.join("")),this.container.append(Hr),this.container.style.clipPath=`url(#${Ir})`}_createPopup(){const{container:pn,data:cn}=this;pn.setAttribute("aria-haspopup","dialog");const Cn=new zt({data:{color:cn.color,titleObj:cn.titleObj,modificationDate:cn.modificationDate,contentsObj:cn.contentsObj,richText:cn.richText,parentRect:cn.rect,borderStyle:0,id:`popup_${cn.id}`,rotation:cn.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Cn.render())}render(){(0,vt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(pn,cn=null){const Cn=[];if(this._fieldObjects){const Bn=this._fieldObjects[pn];if(Bn)for(const{page:zn,id:Zn,exportValues:nr}of Bn){if(zn===-1||Zn===cn)continue;const xr=typeof nr=="string"?nr:null,pr=document.querySelector(`[data-element-id="${Zn}"]`);if(pr&&!Rt.has(pr)){(0,vt.warn)(`_getElementsByName - element not allowed: ${Zn}`);continue}Cn.push({id:Zn,exportValue:xr,domElement:pr})}return Cn}for(const Bn of document.getElementsByName(pn)){const{exportValue:zn}=Bn,Zn=Bn.getAttribute("data-element-id");Zn!==cn&&Rt.has(Bn)&&Cn.push({id:Zn,exportValue:zn,domElement:Bn})}return Cn}show(){var pn;this.container&&(this.container.hidden=!1),(pn=this.popup)==null||pn.maybeShow()}hide(){var pn;this.container&&(this.container.hidden=!0),(pn=this.popup)==null||pn.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const pn=this.getElementsToTriggerPopup();if(Array.isArray(pn))for(const cn of pn)cn.classList.add("highlightArea");else pn.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:pn,data:{id:cn}}=this;this.container.addEventListener("dblclick",()=>{var Cn;(Cn=this.linkService.eventBus)==null||Cn.dispatch("switchannotationeditormode",{source:this,mode:pn,editId:cn})})}};tn=new WeakMap;let Mt=dn;class Lt extends Mt{constructor(cn,Cn=null){super(cn,{isRenderable:!0,ignoreBorder:!!(Cn!=null&&Cn.ignoreBorder),createQuadrilaterals:!0});qt(this,ln);this.isTooltipOnly=cn.data.isTooltipOnly}render(){const{data:cn,linkService:Cn}=this,Bn=document.createElement("a");Bn.setAttribute("data-element-id",cn.id);let zn=!1;return cn.url?(Cn.addLinkAttributes(Bn,cn.url,cn.newWindow),zn=!0):cn.action?(this._bindNamedAction(Bn,cn.action),zn=!0):cn.attachment?(this._bindAttachment(Bn,cn.attachment),zn=!0):cn.setOCGState?(Ut(this,ln,ow).call(this,Bn,cn.setOCGState),zn=!0):cn.dest?(this._bindLink(Bn,cn.dest),zn=!0):(cn.actions&&(cn.actions.Action||cn.actions["Mouse Up"]||cn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Bn,cn),zn=!0),cn.resetForm?(this._bindResetFormAction(Bn,cn.resetForm),zn=!0):this.isTooltipOnly&&!zn&&(this._bindLink(Bn,""),zn=!0)),this.container.classList.add("linkAnnotation"),zn&&this.container.append(Bn),this.container}_bindLink(cn,Cn){cn.href=this.linkService.getDestinationHash(Cn),cn.onclick=()=>(Cn&&this.linkService.goToDestination(Cn),!1),(Cn||Cn==="")&&Ut(this,ln,Yu).call(this)}_bindNamedAction(cn,Cn){cn.href=this.linkService.getAnchorUrl(""),cn.onclick=()=>(this.linkService.executeNamedAction(Cn),!1),Ut(this,ln,Yu).call(this)}_bindAttachment(cn,Cn){cn.href=this.linkService.getAnchorUrl(""),cn.onclick=()=>{var Bn;return(Bn=this.downloadManager)==null||Bn.openOrDownloadData(this.container,Cn.content,Cn.filename),!1},Ut(this,ln,Yu).call(this)}_bindJSAction(cn,Cn){cn.href=this.linkService.getAnchorUrl("");const Bn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const zn of Object.keys(Cn.actions)){const Zn=Bn.get(zn);Zn&&(cn[Zn]=()=>{var nr;return(nr=this.linkService.eventBus)==null||nr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Cn.id,name:zn}}),!1})}cn.onclick||(cn.onclick=()=>!1),Ut(this,ln,Yu).call(this)}_bindResetFormAction(cn,Cn){const Bn=cn.onclick;if(Bn||(cn.href=this.linkService.getAnchorUrl("")),Ut(this,ln,Yu).call(this),!this._fieldObjects){(0,vt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Bn||(cn.onclick=()=>!1);return}cn.onclick=()=>{var Hr;Bn==null||Bn();const{fields:zn,refs:Zn,include:nr}=Cn,xr=[];if(zn.length!==0||Zn.length!==0){const mr=new Set(Zn);for(const _r of zn){const Ir=this._fieldObjects[_r]||[];for(const{id:Xr}of Ir)mr.add(Xr)}for(const _r of Object.values(this._fieldObjects))for(const Ir of _r)mr.has(Ir.id)===nr&&xr.push(Ir)}else for(const mr of Object.values(this._fieldObjects))xr.push(...mr);const pr=this.annotationStorage,cr=[];for(const mr of xr){const{id:_r}=mr;switch(cr.push(_r),mr.type){case"text":{const Xr=mr.defaultValue||"";pr.setValue(_r,{value:Xr});break}case"checkbox":case"radiobutton":{const Xr=mr.defaultValue===mr.exportValues;pr.setValue(_r,{value:Xr});break}case"combobox":case"listbox":{const Xr=mr.defaultValue||"";pr.setValue(_r,{value:Xr});break}default:continue}const Ir=document.querySelector(`[data-element-id="${_r}"]`);if(Ir){if(!Rt.has(Ir)){(0,vt.warn)(`_bindResetFormAction - element not allowed: ${_r}`);continue}}else continue;Ir.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Hr=this.linkService.eventBus)==null||Hr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:cr,name:"ResetForm"}})),!1}}}ln=new WeakSet,Yu=function(){this.container.setAttribute("data-internal-link","")},ow=function(cn,Cn){cn.href=this.linkService.getAnchorUrl(""),cn.onclick=()=>(this.linkService.executeSetOCGState(Cn),!1),Ut(this,ln,Yu).call(this)};class Ot extends Mt{constructor(pn){super(pn,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const pn=document.createElement("img");return pn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",pn.alt="[{{type}} Annotation]",pn.dataset.l10nId="text_annotation_type",pn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(pn),this.container}}class Ft extends Mt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(pn){var cn;this.data.hasOwnCanvas&&(((cn=pn.previousSibling)==null?void 0:cn.nodeName)==="CANVAS"&&(pn.previousSibling.hidden=!0),pn.hidden=!1)}_getKeyModifier(pn){const{isWin:cn,isMac:Cn}=vt.FeatureTest.platform;return cn&&pn.ctrlKey||Cn&&pn.metaKey}_setEventListener(pn,cn,Cn,Bn,zn){Cn.includes("mouse")?pn.addEventListener(Cn,Zn=>{var nr;(nr=this.linkService.eventBus)==null||nr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Bn,value:zn(Zn),shift:Zn.shiftKey,modifier:this._getKeyModifier(Zn)}})}):pn.addEventListener(Cn,Zn=>{var nr;if(Cn==="blur"){if(!cn.focused||!Zn.relatedTarget)return;cn.focused=!1}else if(Cn==="focus"){if(cn.focused)return;cn.focused=!0}zn&&((nr=this.linkService.eventBus)==null||nr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Bn,value:zn(Zn)}}))})}_setEventListeners(pn,cn,Cn,Bn){var zn,Zn,nr;for(const[xr,pr]of Cn)(pr==="Action"||(zn=this.data.actions)!=null&&zn[pr])&&((pr==="Focus"||pr==="Blur")&&(cn||(cn={focused:!1})),this._setEventListener(pn,cn,xr,pr,Bn),pr==="Focus"&&!((Zn=this.data.actions)!=null&&Zn.Blur)?this._setEventListener(pn,cn,"blur","Blur",null):pr==="Blur"&&!((nr=this.data.actions)!=null&&nr.Focus)&&this._setEventListener(pn,cn,"focus","Focus",null))}_setBackgroundColor(pn){const cn=this.data.backgroundColor||null;pn.style.backgroundColor=cn===null?"transparent":vt.Util.makeHexColor(cn[0],cn[1],cn[2])}_setTextStyle(pn){const cn=["left","center","right"],{fontColor:Cn}=this.data.defaultAppearanceData,Bn=this.data.defaultAppearanceData.fontSize||St,zn=pn.style;let Zn;const nr=2,xr=pr=>Math.round(10*pr)/10;if(this.data.multiLine){const pr=Math.abs(this.data.rect[3]-this.data.rect[1]-nr),cr=Math.round(pr/(vt.LINE_FACTOR*Bn))||1,Hr=pr/cr;Zn=Math.min(Bn,xr(Hr/vt.LINE_FACTOR))}else{const pr=Math.abs(this.data.rect[3]-this.data.rect[1]-nr);Zn=Math.min(Bn,xr(pr/vt.LINE_FACTOR))}zn.fontSize=`calc(${Zn}px * var(--scale-factor))`,zn.color=vt.Util.makeHexColor(Cn[0],Cn[1],Cn[2]),this.data.textAlignment!==null&&(zn.textAlign=cn[this.data.textAlignment])}_setRequired(pn,cn){cn?pn.setAttribute("required",!0):pn.removeAttribute("required"),pn.setAttribute("aria-required",cn)}}class Dt extends Ft{constructor(pn){const cn=pn.renderForms||!pn.data.hasAppearance&&!!pn.data.fieldValue;super(pn,{isRenderable:cn})}setPropertyOnSiblings(pn,cn,Cn,Bn){const zn=this.annotationStorage;for(const Zn of this._getElementsByName(pn.name,pn.id))Zn.domElement&&(Zn.domElement[cn]=Cn),zn.setValue(Zn.id,{[Bn]:Cn})}render(){var Bn,zn;const pn=this.annotationStorage,cn=this.data.id;this.container.classList.add("textWidgetAnnotation");let Cn=null;if(this.renderForms){const Zn=pn.getValue(cn,{value:this.data.fieldValue});let nr=Zn.value||"";const xr=pn.getValue(cn,{charLimit:this.data.maxLen}).charLimit;xr&&nr.length>xr&&(nr=nr.slice(0,xr));let pr=Zn.formattedValue||((Bn=this.data.textContent)==null?void 0:Bn.join(`
`))||null;pr&&this.data.comb&&(pr=pr.replaceAll(/\s+/g,""));const cr={userValue:nr,formattedValue:pr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Cn=document.createElement("textarea"),Cn.textContent=pr??nr,this.data.doNotScroll&&(Cn.style.overflowY="hidden")):(Cn=document.createElement("input"),Cn.type="text",Cn.setAttribute("value",pr??nr),this.data.doNotScroll&&(Cn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Cn.hidden=!0),Rt.add(Cn),Cn.setAttribute("data-element-id",cn),Cn.disabled=this.data.readOnly,Cn.name=this.data.fieldName,Cn.tabIndex=Ct,this._setRequired(Cn,this.data.required),xr&&(Cn.maxLength=xr),Cn.addEventListener("input",mr=>{pn.setValue(cn,{value:mr.target.value}),this.setPropertyOnSiblings(Cn,"value",mr.target.value,"value"),cr.formattedValue=null}),Cn.addEventListener("resetform",mr=>{const _r=this.data.defaultFieldValue??"";Cn.value=cr.userValue=_r,cr.formattedValue=null});let Hr=mr=>{const{formattedValue:_r}=cr;_r!=null&&(mr.target.value=_r),mr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Cn.addEventListener("focus",_r=>{if(cr.focused)return;const{target:Ir}=_r;cr.userValue&&(Ir.value=cr.userValue),cr.lastCommittedValue=Ir.value,cr.commitKey=1,cr.focused=!0}),Cn.addEventListener("updatefromsandbox",_r=>{this.showElementAndHideCanvas(_r.target);const Ir={value(Xr){cr.userValue=Xr.detail.value??"",pn.setValue(cn,{value:cr.userValue.toString()}),Xr.target.value=cr.userValue},formattedValue(Xr){const{formattedValue:es}=Xr.detail;cr.formattedValue=es,es!=null&&Xr.target!==document.activeElement&&(Xr.target.value=es),pn.setValue(cn,{formattedValue:es})},selRange(Xr){Xr.target.setSelectionRange(...Xr.detail.selRange)},charLimit:Xr=>{var ks;const{charLimit:es}=Xr.detail,{target:hs}=Xr;if(es===0){hs.removeAttribute("maxLength");return}hs.setAttribute("maxLength",es);let Bs=cr.userValue;!Bs||Bs.length<=es||(Bs=Bs.slice(0,es),hs.value=cr.userValue=Bs,pn.setValue(cn,{value:Bs}),(ks=this.linkService.eventBus)==null||ks.dispatch("dispatcheventinsandbox",{source:this,detail:{id:cn,name:"Keystroke",value:Bs,willCommit:!0,commitKey:1,selStart:hs.selectionStart,selEnd:hs.selectionEnd}}))}};this._dispatchEventFromSandbox(Ir,_r)}),Cn.addEventListener("keydown",_r=>{var es;cr.commitKey=1;let Ir=-1;if(_r.key==="Escape"?Ir=0:_r.key==="Enter"&&!this.data.multiLine?Ir=2:_r.key==="Tab"&&(cr.commitKey=3),Ir===-1)return;const{value:Xr}=_r.target;cr.lastCommittedValue!==Xr&&(cr.lastCommittedValue=Xr,cr.userValue=Xr,(es=this.linkService.eventBus)==null||es.dispatch("dispatcheventinsandbox",{source:this,detail:{id:cn,name:"Keystroke",value:Xr,willCommit:!0,commitKey:Ir,selStart:_r.target.selectionStart,selEnd:_r.target.selectionEnd}}))});const mr=Hr;Hr=null,Cn.addEventListener("blur",_r=>{var Xr;if(!cr.focused||!_r.relatedTarget)return;cr.focused=!1;const{value:Ir}=_r.target;cr.userValue=Ir,cr.lastCommittedValue!==Ir&&((Xr=this.linkService.eventBus)==null||Xr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:cn,name:"Keystroke",value:Ir,willCommit:!0,commitKey:cr.commitKey,selStart:_r.target.selectionStart,selEnd:_r.target.selectionEnd}})),mr(_r)}),(zn=this.data.actions)!=null&&zn.Keystroke&&Cn.addEventListener("beforeinput",_r=>{var na;cr.lastCommittedValue=null;const{data:Ir,target:Xr}=_r,{value:es,selectionStart:hs,selectionEnd:Bs}=Xr;let ks=hs,Bo=Bs;switch(_r.inputType){case"deleteWordBackward":{const ga=es.substring(0,hs).match(/\w*[^\w]*$/);ga&&(ks-=ga[0].length);break}case"deleteWordForward":{const ga=es.substring(hs).match(/^[^\w]*\w*/);ga&&(Bo+=ga[0].length);break}case"deleteContentBackward":hs===Bs&&(ks-=1);break;case"deleteContentForward":hs===Bs&&(Bo+=1);break}_r.preventDefault(),(na=this.linkService.eventBus)==null||na.dispatch("dispatcheventinsandbox",{source:this,detail:{id:cn,name:"Keystroke",value:es,change:Ir||"",willCommit:!1,selStart:ks,selEnd:Bo}})}),this._setEventListeners(Cn,cr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_r=>_r.target.value)}if(Hr&&Cn.addEventListener("blur",Hr),this.data.comb){const _r=(this.data.rect[2]-this.data.rect[0])/xr;Cn.classList.add("comb"),Cn.style.letterSpacing=`calc(${_r}px * var(--scale-factor) - 1ch)`}}else Cn=document.createElement("div"),Cn.textContent=this.data.fieldValue,Cn.style.verticalAlign="middle",Cn.style.display="table-cell";return this._setTextStyle(Cn),this._setBackgroundColor(Cn),this._setDefaultPropertiesFromJS(Cn),this.container.append(Cn),this.container}}class $t extends Ft{constructor(pn){super(pn,{isRenderable:!!pn.data.hasOwnCanvas})}}class Bt extends Ft{constructor(pn){super(pn,{isRenderable:pn.renderForms})}render(){const pn=this.annotationStorage,cn=this.data,Cn=cn.id;let Bn=pn.getValue(Cn,{value:cn.exportValue===cn.fieldValue}).value;typeof Bn=="string"&&(Bn=Bn!=="Off",pn.setValue(Cn,{value:Bn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const zn=document.createElement("input");return Rt.add(zn),zn.setAttribute("data-element-id",Cn),zn.disabled=cn.readOnly,this._setRequired(zn,this.data.required),zn.type="checkbox",zn.name=cn.fieldName,Bn&&zn.setAttribute("checked",!0),zn.setAttribute("exportValue",cn.exportValue),zn.tabIndex=Ct,zn.addEventListener("change",Zn=>{const{name:nr,checked:xr}=Zn.target;for(const pr of this._getElementsByName(nr,Cn)){const cr=xr&&pr.exportValue===cn.exportValue;pr.domElement&&(pr.domElement.checked=cr),pn.setValue(pr.id,{value:cr})}pn.setValue(Cn,{value:xr})}),zn.addEventListener("resetform",Zn=>{const nr=cn.defaultFieldValue||"Off";Zn.target.checked=nr===cn.exportValue}),this.enableScripting&&this.hasJSActions&&(zn.addEventListener("updatefromsandbox",Zn=>{const nr={value(xr){xr.target.checked=xr.detail.value!=="Off",pn.setValue(Cn,{value:xr.target.checked})}};this._dispatchEventFromSandbox(nr,Zn)}),this._setEventListeners(zn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Zn=>Zn.target.checked)),this._setBackgroundColor(zn),this._setDefaultPropertiesFromJS(zn),this.container.append(zn),this.container}}class Nt extends Ft{constructor(pn){super(pn,{isRenderable:pn.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const pn=this.annotationStorage,cn=this.data,Cn=cn.id;let Bn=pn.getValue(Cn,{value:cn.fieldValue===cn.buttonValue}).value;typeof Bn=="string"&&(Bn=Bn!==cn.buttonValue,pn.setValue(Cn,{value:Bn}));const zn=document.createElement("input");if(Rt.add(zn),zn.setAttribute("data-element-id",Cn),zn.disabled=cn.readOnly,this._setRequired(zn,this.data.required),zn.type="radio",zn.name=cn.fieldName,Bn&&zn.setAttribute("checked",!0),zn.tabIndex=Ct,zn.addEventListener("change",Zn=>{const{name:nr,checked:xr}=Zn.target;for(const pr of this._getElementsByName(nr,Cn))pn.setValue(pr.id,{value:!1});pn.setValue(Cn,{value:xr})}),zn.addEventListener("resetform",Zn=>{const nr=cn.defaultFieldValue;Zn.target.checked=nr!=null&&nr===cn.buttonValue}),this.enableScripting&&this.hasJSActions){const Zn=cn.buttonValue;zn.addEventListener("updatefromsandbox",nr=>{const xr={value:pr=>{const cr=Zn===pr.detail.value;for(const Hr of this._getElementsByName(pr.target.name)){const mr=cr&&Hr.id===Cn;Hr.domElement&&(Hr.domElement.checked=mr),pn.setValue(Hr.id,{value:mr})}}};this._dispatchEventFromSandbox(xr,nr)}),this._setEventListeners(zn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],nr=>nr.target.checked)}return this._setBackgroundColor(zn),this._setDefaultPropertiesFromJS(zn),this.container.append(zn),this.container}}class Ht extends Lt{constructor(pn){super(pn,{ignoreBorder:pn.data.hasAppearance})}render(){const pn=super.render();pn.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(pn.title=this.data.alternativeText);const cn=pn.lastChild;return this.enableScripting&&this.hasJSActions&&cn&&(this._setDefaultPropertiesFromJS(cn),cn.addEventListener("updatefromsandbox",Cn=>{this._dispatchEventFromSandbox({},Cn)})),pn}}class jt extends Ft{constructor(pn){super(pn,{isRenderable:pn.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const pn=this.annotationStorage,cn=this.data.id,Cn=pn.getValue(cn,{value:this.data.fieldValue}),Bn=document.createElement("select");Rt.add(Bn),Bn.setAttribute("data-element-id",cn),Bn.disabled=this.data.readOnly,this._setRequired(Bn,this.data.required),Bn.name=this.data.fieldName,Bn.tabIndex=Ct;let zn=this.data.combo&&this.data.options.length>0;this.data.combo||(Bn.size=this.data.options.length,this.data.multiSelect&&(Bn.multiple=!0)),Bn.addEventListener("resetform",cr=>{const Hr=this.data.defaultFieldValue;for(const mr of Bn.options)mr.selected=mr.value===Hr});for(const cr of this.data.options){const Hr=document.createElement("option");Hr.textContent=cr.displayValue,Hr.value=cr.exportValue,Cn.value.includes(cr.exportValue)&&(Hr.setAttribute("selected",!0),zn=!1),Bn.append(Hr)}let Zn=null;if(zn){const cr=document.createElement("option");cr.value=" ",cr.setAttribute("hidden",!0),cr.setAttribute("selected",!0),Bn.prepend(cr),Zn=()=>{cr.remove(),Bn.removeEventListener("input",Zn),Zn=null},Bn.addEventListener("input",Zn)}const nr=cr=>{const Hr=cr?"value":"textContent",{options:mr,multiple:_r}=Bn;return _r?Array.prototype.filter.call(mr,Ir=>Ir.selected).map(Ir=>Ir[Hr]):mr.selectedIndex===-1?null:mr[mr.selectedIndex][Hr]};let xr=nr(!1);const pr=cr=>{const Hr=cr.target.options;return Array.prototype.map.call(Hr,mr=>({displayValue:mr.textContent,exportValue:mr.value}))};return this.enableScripting&&this.hasJSActions?(Bn.addEventListener("updatefromsandbox",cr=>{const Hr={value(mr){Zn==null||Zn();const _r=mr.detail.value,Ir=new Set(Array.isArray(_r)?_r:[_r]);for(const Xr of Bn.options)Xr.selected=Ir.has(Xr.value);pn.setValue(cn,{value:nr(!0)}),xr=nr(!1)},multipleSelection(mr){Bn.multiple=!0},remove(mr){const _r=Bn.options,Ir=mr.detail.remove;_r[Ir].selected=!1,Bn.remove(Ir),_r.length>0&&Array.prototype.findIndex.call(_r,es=>es.selected)===-1&&(_r[0].selected=!0),pn.setValue(cn,{value:nr(!0),items:pr(mr)}),xr=nr(!1)},clear(mr){for(;Bn.length!==0;)Bn.remove(0);pn.setValue(cn,{value:null,items:[]}),xr=nr(!1)},insert(mr){const{index:_r,displayValue:Ir,exportValue:Xr}=mr.detail.insert,es=Bn.children[_r],hs=document.createElement("option");hs.textContent=Ir,hs.value=Xr,es?es.before(hs):Bn.append(hs),pn.setValue(cn,{value:nr(!0),items:pr(mr)}),xr=nr(!1)},items(mr){const{items:_r}=mr.detail;for(;Bn.length!==0;)Bn.remove(0);for(const Ir of _r){const{displayValue:Xr,exportValue:es}=Ir,hs=document.createElement("option");hs.textContent=Xr,hs.value=es,Bn.append(hs)}Bn.options.length>0&&(Bn.options[0].selected=!0),pn.setValue(cn,{value:nr(!0),items:pr(mr)}),xr=nr(!1)},indices(mr){const _r=new Set(mr.detail.indices);for(const Ir of mr.target.options)Ir.selected=_r.has(Ir.index);pn.setValue(cn,{value:nr(!0)}),xr=nr(!1)},editable(mr){mr.target.disabled=!mr.detail.editable}};this._dispatchEventFromSandbox(Hr,cr)}),Bn.addEventListener("input",cr=>{var mr;const Hr=nr(!0);pn.setValue(cn,{value:Hr}),cr.preventDefault(),(mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:cn,name:"Keystroke",value:xr,changeEx:Hr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Bn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],cr=>cr.target.value)):Bn.addEventListener("input",function(cr){pn.setValue(cn,{value:nr(!0)})}),this.data.combo&&this._setTextStyle(Bn),this._setBackgroundColor(Bn),this._setDefaultPropertiesFromJS(Bn),this.container.append(Bn),this.container}}class zt extends Mt{constructor(pn){const{data:cn,elements:Cn}=pn;super(pn,{isRenderable:Mt._hasPopupData(cn)}),this.elements=Cn}render(){this.container.classList.add("popupAnnotation");const pn=new Kt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),cn=[];for(const Cn of this.elements)Cn.popup=pn,cn.push(Cn.data.id),Cn.addHighlightArea();return this.container.setAttribute("aria-controls",cn.map(Cn=>`${vt.AnnotationPrefix}${Cn}`).join(",")),this.container}}class Kt{constructor({container:pn,color:cn,elements:Cn,titleObj:Bn,modificationDate:zn,contentsObj:Zn,richText:nr,parent:xr,rect:pr,parentRect:cr,open:Hr}){qt(this,rr);qt(this,Mn,null);qt(this,Hn,Ut(this,rr,aw).bind(this));qt(this,Un,Ut(this,rr,VE).bind(this));qt(this,Wn,Ut(this,rr,WE).bind(this));qt(this,Xn,Ut(this,rr,Hy).bind(this));qt(this,Kn,null);qt(this,Tn,null);qt(this,Fn,null);qt(this,sn,null);qt(this,mn,null);qt(this,Pn,null);qt(this,Nn,!1);qt(this,Vn,null);qt(this,Qn,null);qt(this,qn,null);qt(this,kn,null);qt(this,sr,!1);var _r;Vt(this,Tn,pn),Vt(this,kn,Bn),Vt(this,Fn,Zn),Vt(this,qn,nr),Vt(this,mn,xr),Vt(this,Kn,cn),Vt(this,Qn,pr),Vt(this,Pn,cr),Vt(this,sn,Cn);const mr=xt.PDFDateString.toDateObject(zn);mr&&Vt(this,Mn,xr.l10n.get("annotation_date_string",{date:mr.toLocaleDateString(),time:mr.toLocaleTimeString()})),this.trigger=Cn.flatMap(Ir=>Ir.getElementsToTriggerPopup());for(const Ir of this.trigger)Ir.addEventListener("click",wt(this,Xn)),Ir.addEventListener("mouseenter",wt(this,Wn)),Ir.addEventListener("mouseleave",wt(this,Un)),Ir.classList.add("popupTriggerArea");for(const Ir of Cn)(_r=Ir.container)==null||_r.addEventListener("keydown",wt(this,Hn));wt(this,Tn).hidden=!0,Hr&&Ut(this,rr,Hy).call(this)}render(){if(wt(this,Vn))return;const{page:{view:pn},viewport:{rawDims:{pageWidth:cn,pageHeight:Cn,pageX:Bn,pageY:zn}}}=wt(this,mn),Zn=Vt(this,Vn,document.createElement("div"));if(Zn.className="popup",wt(this,Kn)){const ks=Zn.style.outlineColor=vt.Util.makeHexColor(...wt(this,Kn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Zn.style.backgroundColor=`color-mix(in srgb, ${ks} 30%, white)`:Zn.style.backgroundColor=vt.Util.makeHexColor(...wt(this,Kn).map(na=>Math.floor(.7*(255-na)+na)))}const nr=document.createElement("span");nr.className="header";const xr=document.createElement("h1");if(nr.append(xr),{dir:xr.dir,str:xr.textContent}=wt(this,kn),Zn.append(nr),wt(this,Mn)){const ks=document.createElement("span");ks.classList.add("popupDate"),wt(this,Mn).then(Bo=>{ks.textContent=Bo}),nr.append(ks)}const pr=wt(this,Fn),cr=wt(this,qn);if(cr!=null&&cr.str&&(!(pr!=null&&pr.str)||pr.str===cr.str))At.XfaLayer.render({xfaHtml:cr.html,intent:"richText",div:Zn}),Zn.lastChild.classList.add("richText","popupContent");else{const ks=this._formatContents(pr);Zn.append(ks)}let Hr=!!wt(this,Pn),mr=Hr?wt(this,Pn):wt(this,Qn);for(const ks of wt(this,sn))if(!mr||vt.Util.intersect(ks.data.rect,mr)!==null){mr=ks.data.rect,Hr=!0;break}const _r=vt.Util.normalizeRect([mr[0],pn[3]-mr[1]+pn[1],mr[2],pn[3]-mr[3]+pn[1]]),Xr=Hr?mr[2]-mr[0]+5:0,es=_r[0]+Xr,hs=_r[1],{style:Bs}=wt(this,Tn);Bs.left=`${100*(es-Bn)/cn}%`,Bs.top=`${100*(hs-zn)/Cn}%`,wt(this,Tn).append(Zn)}_formatContents({str:pn,dir:cn}){const Cn=document.createElement("p");Cn.classList.add("popupContent"),Cn.dir=cn;const Bn=pn.split(/(?:\r\n?|\n)/);for(let zn=0,Zn=Bn.length;zn<Zn;++zn){const nr=Bn[zn];Cn.append(document.createTextNode(nr)),zn<Zn-1&&Cn.append(document.createElement("br"))}return Cn}forceHide(){Vt(this,sr,this.isVisible),wt(this,sr)&&(wt(this,Tn).hidden=!0)}maybeShow(){wt(this,sr)&&(Vt(this,sr,!1),wt(this,Tn).hidden=!1)}get isVisible(){return wt(this,Tn).hidden===!1}}Mn=new WeakMap,Hn=new WeakMap,Un=new WeakMap,Wn=new WeakMap,Xn=new WeakMap,Kn=new WeakMap,Tn=new WeakMap,Fn=new WeakMap,sn=new WeakMap,mn=new WeakMap,Pn=new WeakMap,Nn=new WeakMap,Vn=new WeakMap,Qn=new WeakMap,qn=new WeakMap,kn=new WeakMap,sr=new WeakMap,rr=new WeakSet,aw=function(pn){pn.altKey||pn.shiftKey||pn.ctrlKey||pn.metaKey||(pn.key==="Enter"||pn.key==="Escape"&&wt(this,Nn))&&Ut(this,rr,Hy).call(this)},Hy=function(){Vt(this,Nn,!wt(this,Nn)),wt(this,Nn)?(Ut(this,rr,WE).call(this),wt(this,Tn).addEventListener("click",wt(this,Xn)),wt(this,Tn).addEventListener("keydown",wt(this,Hn))):(Ut(this,rr,VE).call(this),wt(this,Tn).removeEventListener("click",wt(this,Xn)),wt(this,Tn).removeEventListener("keydown",wt(this,Hn)))},WE=function(){wt(this,Vn)||this.render(),this.isVisible?wt(this,Nn)&&wt(this,Tn).classList.add("focused"):(wt(this,Tn).hidden=!1,wt(this,Tn).style.zIndex=parseInt(wt(this,Tn).style.zIndex)+1e3)},VE=function(){wt(this,Tn).classList.remove("focused"),!(wt(this,Nn)||!this.isVisible)&&(wt(this,Tn).hidden=!0,wt(this,Tn).style.zIndex=parseInt(wt(this,Tn).style.zIndex)-1e3)};class en extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0}),this.textContent=pn.data.textContent,this.textPosition=pn.data.textPosition,this.annotationEditorType=vt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const pn=document.createElement("div");pn.classList.add("annotationTextContent"),pn.setAttribute("role","comment");for(const cn of this.textContent){const Cn=document.createElement("span");Cn.textContent=cn,pn.append(Cn)}this.container.append(pn)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=en;class Wt extends Mt{constructor(cn){super(cn,{isRenderable:!0,ignoreBorder:!0});qt(this,gr,null)}render(){this.container.classList.add("lineAnnotation");const cn=this.data,{width:Cn,height:Bn}=Pt(cn.rect),zn=this.svgFactory.create(Cn,Bn,!0),Zn=Vt(this,gr,this.svgFactory.createElement("svg:line"));return Zn.setAttribute("x1",cn.rect[2]-cn.lineCoordinates[0]),Zn.setAttribute("y1",cn.rect[3]-cn.lineCoordinates[1]),Zn.setAttribute("x2",cn.rect[2]-cn.lineCoordinates[2]),Zn.setAttribute("y2",cn.rect[3]-cn.lineCoordinates[3]),Zn.setAttribute("stroke-width",cn.borderStyle.width||1),Zn.setAttribute("stroke","transparent"),Zn.setAttribute("fill","transparent"),zn.append(Zn),this.container.append(zn),!cn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,gr)}addHighlightArea(){this.container.classList.add("highlightArea")}}gr=new WeakMap;class Qt extends Mt{constructor(cn){super(cn,{isRenderable:!0,ignoreBorder:!0});qt(this,Wr,null)}render(){this.container.classList.add("squareAnnotation");const cn=this.data,{width:Cn,height:Bn}=Pt(cn.rect),zn=this.svgFactory.create(Cn,Bn,!0),Zn=cn.borderStyle.width,nr=Vt(this,Wr,this.svgFactory.createElement("svg:rect"));return nr.setAttribute("x",Zn/2),nr.setAttribute("y",Zn/2),nr.setAttribute("width",Cn-Zn),nr.setAttribute("height",Bn-Zn),nr.setAttribute("stroke-width",Zn||1),nr.setAttribute("stroke","transparent"),nr.setAttribute("fill","transparent"),zn.append(nr),this.container.append(zn),!cn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,Wr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wr=new WeakMap;class on extends Mt{constructor(cn){super(cn,{isRenderable:!0,ignoreBorder:!0});qt(this,rs,null)}render(){this.container.classList.add("circleAnnotation");const cn=this.data,{width:Cn,height:Bn}=Pt(cn.rect),zn=this.svgFactory.create(Cn,Bn,!0),Zn=cn.borderStyle.width,nr=Vt(this,rs,this.svgFactory.createElement("svg:ellipse"));return nr.setAttribute("cx",Cn/2),nr.setAttribute("cy",Bn/2),nr.setAttribute("rx",Cn/2-Zn/2),nr.setAttribute("ry",Bn/2-Zn/2),nr.setAttribute("stroke-width",Zn||1),nr.setAttribute("stroke","transparent"),nr.setAttribute("fill","transparent"),zn.append(nr),this.container.append(zn),!cn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,rs)}addHighlightArea(){this.container.classList.add("highlightArea")}}rs=new WeakMap;class En extends Mt{constructor(cn){super(cn,{isRenderable:!0,ignoreBorder:!0});qt(this,Yn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const cn=this.data,{width:Cn,height:Bn}=Pt(cn.rect),zn=this.svgFactory.create(Cn,Bn,!0);let Zn=[];for(const xr of cn.vertices){const pr=xr.x-cn.rect[0],cr=cn.rect[3]-xr.y;Zn.push(pr+","+cr)}Zn=Zn.join(" ");const nr=Vt(this,Yn,this.svgFactory.createElement(this.svgElementName));return nr.setAttribute("points",Zn),nr.setAttribute("stroke-width",cn.borderStyle.width||1),nr.setAttribute("stroke","transparent"),nr.setAttribute("fill","transparent"),zn.append(nr),this.container.append(zn),!cn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,Yn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yn=new WeakMap;class un extends En{constructor(pn){super(pn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class xn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class an extends Mt{constructor(cn){super(cn,{isRenderable:!0,ignoreBorder:!0});qt(this,Ln,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=vt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const cn=this.data,{width:Cn,height:Bn}=Pt(cn.rect),zn=this.svgFactory.create(Cn,Bn,!0);for(const Zn of cn.inkLists){let nr=[];for(const pr of Zn){const cr=pr.x-cn.rect[0],Hr=cn.rect[3]-pr.y;nr.push(`${cr},${Hr}`)}nr=nr.join(" ");const xr=this.svgFactory.createElement(this.svgElementName);wt(this,Ln).push(xr),xr.setAttribute("points",nr),xr.setAttribute("stroke-width",cn.borderStyle.width||1),xr.setAttribute("stroke","transparent"),xr.setAttribute("fill","transparent"),!cn.popupRef&&this.hasPopupData&&this._createPopup(),zn.append(xr)}return this.container.append(zn),this.container}getElementsToTriggerPopup(){return wt(this,Ln)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ln=new WeakMap,$.InkAnnotationElement=an;class hn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class nn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class gn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class wn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class rn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=rn;class Xt extends Mt{constructor(cn){var zn;super(cn,{isRenderable:!0});qt(this,fr);qt(this,In,null);const{filename:Cn,content:Bn}=this.data.file;this.filename=(0,xt.getFilenameFromUrl)(Cn,!0),this.content=Bn,(zn=this.linkService.eventBus)==null||zn.dispatch("fileattachmentannotation",{source:this,filename:Cn,content:Bn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:cn,data:Cn}=this;let Bn;Cn.hasAppearance||Cn.fillAlpha===0?Bn=document.createElement("div"):(Bn=document.createElement("img"),Bn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Cn.name)?"paperclip":"pushpin"}.svg`,Cn.fillAlpha&&Cn.fillAlpha<1&&(Bn.style=`filter: opacity(${Math.round(Cn.fillAlpha*100)}%);`)),Bn.addEventListener("dblclick",Ut(this,fr,GE).bind(this)),Vt(this,In,Bn);const{isMac:zn}=vt.FeatureTest.platform;return cn.addEventListener("keydown",Zn=>{Zn.key==="Enter"&&(zn?Zn.metaKey:Zn.ctrlKey)&&Ut(this,fr,GE).call(this)}),!Cn.popupRef&&this.hasPopupData?this._createPopup():Bn.classList.add("popupTriggerArea"),cn.append(Bn),cn}getElementsToTriggerPopup(){return wt(this,In)}addHighlightArea(){this.container.classList.add("highlightArea")}}In=new WeakMap,fr=new WeakSet,GE=function(){var cn;(cn=this.downloadManager)==null||cn.openOrDownloadData(this.container,this.content,this.filename)};class Yt{constructor({div:pn,accessibilityManager:cn,annotationCanvasMap:Cn,l10n:Bn,page:zn,viewport:Zn}){qt(this,ar);qt(this,kr,null);qt(this,vn,null);qt(this,Gn,new Map);this.div=pn,Vt(this,kr,cn),Vt(this,vn,Cn),this.l10n=Bn,this.page=zn,this.viewport=Zn,this.zIndex=0,this.l10n||(this.l10n=_t.NullL10n)}async render(pn){const{annotations:cn}=pn,Cn=this.div;(0,xt.setLayerDimensions)(Cn,this.viewport);const Bn=new Map,zn={data:null,layer:Cn,linkService:pn.linkService,downloadManager:pn.downloadManager,imageResourcesPath:pn.imageResourcesPath||"",renderForms:pn.renderForms!==!1,svgFactory:new xt.DOMSVGFactory,annotationStorage:pn.annotationStorage||new bt.AnnotationStorage,enableScripting:pn.enableScripting===!0,hasJSActions:pn.hasJSActions,fieldObjects:pn.fieldObjects,parent:this,elements:null};for(const Zn of cn){if(Zn.noHTML)continue;const nr=Zn.annotationType===vt.AnnotationType.POPUP;if(nr){const cr=Bn.get(Zn.id);if(!cr)continue;zn.elements=cr}else{const{width:cr,height:Hr}=Pt(Zn.rect);if(cr<=0||Hr<=0)continue}zn.data=Zn;const xr=kt.create(zn);if(!xr.isRenderable)continue;if(!nr&&Zn.popupRef){const cr=Bn.get(Zn.popupRef);cr?cr.push(xr):Bn.set(Zn.popupRef,[xr])}xr.annotationEditorType>0&&wt(this,Gn).set(xr.data.id,xr);const pr=xr.render();Zn.hidden&&(pr.style.visibility="hidden"),Ut(this,ar,lw).call(this,pr,Zn.id)}Ut(this,ar,XE).call(this),await this.l10n.translate(Cn)}update({viewport:pn}){const cn=this.div;this.viewport=pn,(0,xt.setLayerDimensions)(cn,{rotation:pn.rotation}),Ut(this,ar,XE).call(this),cn.hidden=!1}getEditableAnnotations(){return Array.from(wt(this,Gn).values())}getEditableAnnotation(pn){return wt(this,Gn).get(pn)}}kr=new WeakMap,vn=new WeakMap,Gn=new WeakMap,ar=new WeakSet,lw=function(pn,cn){var Bn;const Cn=pn.firstChild||pn;Cn.id=`${vt.AnnotationPrefix}${cn}`,this.div.append(pn),(Bn=wt(this,kr))==null||Bn.moveElementInDOM(this.div,pn,Cn,!1)},XE=function(){if(!wt(this,vn))return;const pn=this.div;for(const[cn,Cn]of wt(this,vn)){const Bn=pn.querySelector(`[data-annotation-id="${cn}"]`);if(!Bn)continue;const{firstChild:zn}=Bn;zn?zn.nodeName==="CANVAS"?zn.replaceWith(Cn):zn.before(Cn):Bn.append(Cn)}wt(this,vn).clear()},$.AnnotationLayer=Yt},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function ht(bt){return Math.floor(Math.max(0,Math.min(1,bt))*255).toString(16).padStart(2,"0")}function vt(bt){return Math.max(0,Math.min(255,255*bt))}class xt{static CMYK_G([Et,_t,At,Ct]){return["G",1-Math.min(1,.3*Et+.59*At+.11*_t+Ct)]}static G_CMYK([Et]){return["CMYK",0,0,0,1-Et]}static G_RGB([Et]){return["RGB",Et,Et,Et]}static G_rgb([Et]){return Et=vt(Et),[Et,Et,Et]}static G_HTML([Et]){const _t=ht(Et);return`#${_t}${_t}${_t}`}static RGB_G([Et,_t,At]){return["G",.3*Et+.59*_t+.11*At]}static RGB_rgb(Et){return Et.map(vt)}static RGB_HTML(Et){return`#${Et.map(ht).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Et,_t,At,Ct]){return["RGB",1-Math.min(1,Et+Ct),1-Math.min(1,At+Ct),1-Math.min(1,_t+Ct)]}static CMYK_rgb([Et,_t,At,Ct]){return[vt(1-Math.min(1,Et+Ct)),vt(1-Math.min(1,At+Ct)),vt(1-Math.min(1,_t+Ct))]}static CMYK_HTML(Et){const _t=this.CMYK_RGB(Et).slice(1);return this.RGB_HTML(_t)}static RGB_CMYK([Et,_t,At]){const Ct=1-Et,St=1-_t,Rt=1-At,Pt=Math.min(Ct,St,Rt);return["CMYK",Ct,St,Rt,Pt]}}$.ColorConverters=xt},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=vt;const ht={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};ht.print_progress_percent="{{progress}}%";function vt(Et,_t){switch(Et){case"find_match_count":Et=`find_match_count[${_t.total===1?"one":"other"}]`;break;case"find_match_count_limit":Et=`find_match_count_limit[${_t.limit===1?"one":"other"}]`;break}return ht[Et]||""}function xt(Et,_t){return _t?Et.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(At,Ct)=>Ct in _t?_t[Ct]:"{{"+Ct+"}}"):Et}const bt={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Et,_t=null,At=vt(Et,_t)){return xt(At,_t)},async translate(Et){}};$.NullL10n=bt},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var vt=ht(25);class xt{static setupStorage(Et,_t,At,Ct,St){const Rt=Ct.getValue(_t,{value:null});switch(At.name){case"textarea":if(Rt.value!==null&&(Et.textContent=Rt.value),St==="print")break;Et.addEventListener("input",Pt=>{Ct.setValue(_t,{value:Pt.target.value})});break;case"input":if(At.attributes.type==="radio"||At.attributes.type==="checkbox"){if(Rt.value===At.attributes.xfaOn?Et.setAttribute("checked",!0):Rt.value===At.attributes.xfaOff&&Et.removeAttribute("checked"),St==="print")break;Et.addEventListener("change",Pt=>{Ct.setValue(_t,{value:Pt.target.checked?Pt.target.getAttribute("xfaOn"):Pt.target.getAttribute("xfaOff")})})}else{if(Rt.value!==null&&Et.setAttribute("value",Rt.value),St==="print")break;Et.addEventListener("input",Pt=>{Ct.setValue(_t,{value:Pt.target.value})})}break;case"select":if(Rt.value!==null){Et.setAttribute("value",Rt.value);for(const Pt of At.children)Pt.attributes.value===Rt.value?Pt.attributes.selected=!0:Pt.attributes.hasOwnProperty("selected")&&delete Pt.attributes.selected}Et.addEventListener("input",Pt=>{const kt=Pt.target.options,Mt=kt.selectedIndex===-1?"":kt[kt.selectedIndex].value;Ct.setValue(_t,{value:Mt})});break}}static setAttributes({html:Et,element:_t,storage:At=null,intent:Ct,linkService:St}){const{attributes:Rt}=_t,Pt=Et instanceof HTMLAnchorElement;Rt.type==="radio"&&(Rt.name=`${Rt.name}-${Ct}`);for(const[kt,Mt]of Object.entries(Rt))if(Mt!=null)switch(kt){case"class":Mt.length&&Et.setAttribute(kt,Mt.join(" "));break;case"dataId":break;case"id":Et.setAttribute("data-element-id",Mt);break;case"style":Object.assign(Et.style,Mt);break;case"textContent":Et.textContent=Mt;break;default:(!Pt||kt!=="href"&&kt!=="newWindow")&&Et.setAttribute(kt,Mt)}Pt&&St.addLinkAttributes(Et,Rt.href,Rt.newWindow),At&&Rt.dataId&&this.setupStorage(Et,Rt.dataId,_t,At)}static render(Et){var Lt;const _t=Et.annotationStorage,At=Et.linkService,Ct=Et.xfaHtml,St=Et.intent||"display",Rt=document.createElement(Ct.name);Ct.attributes&&this.setAttributes({html:Rt,element:Ct,intent:St,linkService:At});const Pt=[[Ct,-1,Rt]],kt=Et.div;if(kt.append(Rt),Et.viewport){const Ot=`matrix(${Et.viewport.transform.join(",")})`;kt.style.transform=Ot}St!=="richText"&&kt.setAttribute("class","xfaLayer xfaFont");const Mt=[];for(;Pt.length>0;){const[Ot,Ft,Dt]=Pt.at(-1);if(Ft+1===Ot.children.length){Pt.pop();continue}const $t=Ot.children[++Pt.at(-1)[1]];if($t===null)continue;const{name:Bt}=$t;if(Bt==="#text"){const Ht=document.createTextNode($t.value);Mt.push(Ht),Dt.append(Ht);continue}const Nt=(Lt=$t==null?void 0:$t.attributes)!=null&&Lt.xmlns?document.createElementNS($t.attributes.xmlns,Bt):document.createElement(Bt);if(Dt.append(Nt),$t.attributes&&this.setAttributes({html:Nt,element:$t,storage:_t,intent:St,linkService:At}),$t.children&&$t.children.length>0)Pt.push([$t,-1,Nt]);else if($t.value){const Ht=document.createTextNode($t.value);vt.XfaText.shouldBuildText(Bt)&&Mt.push(Ht),Nt.append(Ht)}}for(const Ot of kt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Ot.setAttribute("readOnly",!0);return{textDivs:Mt}}static update(Et){const _t=`matrix(${Et.viewport.transform.join(",")})`;Et.div.style.transform=_t,Et.div.hidden=!1}}$.XfaLayer=xt},(_e,$,ht)=>{var Ct,St,Rt,Pt,kt,Mt,Lt,Ot,Ft,Dt,$t,Bt,Nt,Ht,jt,cw,uw,dw,hw,qE,fw,KE,pw,gw,mw,vw,yw,Ol,YE,Uy,zy,im,ZE,Wy,ln,xw,QE,bw,Ew,JE,Vy,sm;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var vt=ht(1),xt=ht(4),bt=ht(29),Et=ht(6),_t=ht(5);const Kn=class Kn extends xt.AnnotationEditor{constructor(sn){super({...sn,name:"inkEditor"});qt(this,jt);qt(this,Ct,0);qt(this,St,0);qt(this,Rt,this.canvasPointermove.bind(this));qt(this,Pt,this.canvasPointerleave.bind(this));qt(this,kt,this.canvasPointerup.bind(this));qt(this,Mt,this.canvasPointerdown.bind(this));qt(this,Lt,new Path2D);qt(this,Ot,!1);qt(this,Ft,!1);qt(this,Dt,!1);qt(this,$t,null);qt(this,Bt,0);qt(this,Nt,0);qt(this,Ht,null);this.color=sn.color||null,this.thickness=sn.thickness||null,this.opacity=sn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(sn){xt.AnnotationEditor.initialize(sn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(sn,mn){switch(sn){case vt.AnnotationEditorParamsType.INK_THICKNESS:Kn._defaultThickness=mn;break;case vt.AnnotationEditorParamsType.INK_COLOR:Kn._defaultColor=mn;break;case vt.AnnotationEditorParamsType.INK_OPACITY:Kn._defaultOpacity=mn/100;break}}updateParams(sn,mn){switch(sn){case vt.AnnotationEditorParamsType.INK_THICKNESS:Ut(this,jt,cw).call(this,mn);break;case vt.AnnotationEditorParamsType.INK_COLOR:Ut(this,jt,uw).call(this,mn);break;case vt.AnnotationEditorParamsType.INK_OPACITY:Ut(this,jt,dw).call(this,mn);break}}static get defaultPropertiesToUpdate(){return[[vt.AnnotationEditorParamsType.INK_THICKNESS,Kn._defaultThickness],[vt.AnnotationEditorParamsType.INK_COLOR,Kn._defaultColor||xt.AnnotationEditor._defaultLineColor],[vt.AnnotationEditorParamsType.INK_OPACITY,Math.round(Kn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[vt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Kn._defaultThickness],[vt.AnnotationEditorParamsType.INK_COLOR,this.color||Kn._defaultColor||xt.AnnotationEditor._defaultLineColor],[vt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Kn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ut(this,jt,Uy).call(this),Ut(this,jt,zy).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ut(this,jt,im).call(this)),Ut(this,jt,sm).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,wt(this,$t).disconnect(),Vt(this,$t,null),super.remove())}setParent(sn){!this.parent&&sn?this._uiManager.removeShouldRescale(this):this.parent&&sn===null&&this._uiManager.addShouldRescale(this),super.setParent(sn)}onScaleChanging(){const[sn,mn]=this.parentDimensions,Pn=this.width*sn,Nn=this.height*mn;this.setDimensions(Pn,Nn)}enableEditMode(){wt(this,Ot)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",wt(this,Mt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",wt(this,Mt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){wt(this,Ot)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Vt(this,Ot,!0),this.div.classList.add("disabled"),Ut(this,jt,sm).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(sn){this._focusEventsAllowed&&(super.focusin(sn),this.enableEditMode())}canvasPointerdown(sn){sn.button!==0||!this.isInEditMode()||wt(this,Ot)||(this.setInForeground(),sn.preventDefault(),sn.type!=="mouse"&&this.div.focus(),Ut(this,jt,fw).call(this,sn.offsetX,sn.offsetY))}canvasPointermove(sn){sn.preventDefault(),Ut(this,jt,KE).call(this,sn.offsetX,sn.offsetY)}canvasPointerup(sn){sn.preventDefault(),Ut(this,jt,YE).call(this,sn)}canvasPointerleave(sn){Ut(this,jt,YE).call(this,sn)}get isResizable(){return!this.isEmpty()&&wt(this,Ot)}render(){if(this.div)return this.div;let sn,mn;this.width&&(sn=this.x,mn=this.y),super.render(),xt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(qn=>{var kn;return(kn=this.div)==null?void 0:kn.setAttribute("aria-label",qn)});const[Pn,Nn,Vn,Qn]=Ut(this,jt,hw).call(this);if(this.setAt(Pn,Nn,0,0),this.setDims(Vn,Qn),Ut(this,jt,Uy).call(this),this.width){const[qn,kn]=this.parentDimensions;this.setAspectRatio(this.width*qn,this.height*kn),this.setAt(sn*qn,mn*kn,this.width*qn,this.height*kn),Vt(this,Dt,!0),Ut(this,jt,im).call(this),this.setDims(this.width*qn,this.height*kn),Ut(this,jt,Ol).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ut(this,jt,zy).call(this),this.div}setDimensions(sn,mn){const Pn=Math.round(sn),Nn=Math.round(mn);if(wt(this,Bt)===Pn&&wt(this,Nt)===Nn)return;Vt(this,Bt,Pn),Vt(this,Nt,Nn),this.canvas.style.visibility="hidden";const[Vn,Qn]=this.parentDimensions;this.width=sn/Vn,this.height=mn/Qn,this.fixAndSetPosition(),wt(this,Ot)&&Ut(this,jt,ZE).call(this,sn,mn),Ut(this,jt,im).call(this),Ut(this,jt,Ol).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(sn,mn,Pn){var gr,Wr,rs;if(sn instanceof bt.InkAnnotationElement)return null;const Nn=super.deserialize(sn,mn,Pn);Nn.thickness=sn.thickness,Nn.color=vt.Util.makeHexColor(...sn.color),Nn.opacity=sn.opacity;const[Vn,Qn]=Nn.pageDimensions,qn=Nn.width*Vn,kn=Nn.height*Qn,sr=Nn.parentScale,rr=sn.thickness/2;Vt(Nn,Ot,!0),Vt(Nn,Bt,Math.round(qn)),Vt(Nn,Nt,Math.round(kn));const{paths:$r,rect:Pr,rotation:zr}=sn;for(let{bezier:Yn}of $r){Yn=Ut(gr=Kn,ln,bw).call(gr,Yn,Pr,zr);const Ln=[];Nn.paths.push(Ln);let In=sr*(Yn[0]-rr),fr=sr*(Yn[1]-rr);for(let kr=2,vn=Yn.length;kr<vn;kr+=6){const Gn=sr*(Yn[kr]-rr),ar=sr*(Yn[kr+1]-rr),yr=sr*(Yn[kr+2]-rr),Er=sr*(Yn[kr+3]-rr),hr=sr*(Yn[kr+4]-rr),pn=sr*(Yn[kr+5]-rr);Ln.push([[In,fr],[Gn,ar],[yr,Er],[hr,pn]]),In=hr,fr=pn}const vr=Ut(this,ln,xw).call(this,Ln);Nn.bezierPath2D.push(vr)}const dr=Ut(Wr=Nn,jt,JE).call(Wr);return Vt(Nn,St,Math.max(xt.AnnotationEditor.MIN_SIZE,dr[2]-dr[0])),Vt(Nn,Ct,Math.max(xt.AnnotationEditor.MIN_SIZE,dr[3]-dr[1])),Ut(rs=Nn,jt,ZE).call(rs,qn,kn),Nn}serialize(){if(this.isEmpty())return null;const sn=this.getRect(0,0),mn=xt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:vt.AnnotationEditorType.INK,color:mn,thickness:this.thickness,opacity:this.opacity,paths:Ut(this,jt,Ew).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,sn),pageIndex:this.pageIndex,rect:sn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Lt=new WeakMap,Ot=new WeakMap,Ft=new WeakMap,Dt=new WeakMap,$t=new WeakMap,Bt=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,jt=new WeakSet,cw=function(sn){const mn=this.thickness;this.addCommands({cmd:()=>{this.thickness=sn,Ut(this,jt,sm).call(this)},undo:()=>{this.thickness=mn,Ut(this,jt,sm).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},uw=function(sn){const mn=this.color;this.addCommands({cmd:()=>{this.color=sn,Ut(this,jt,Ol).call(this)},undo:()=>{this.color=mn,Ut(this,jt,Ol).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},dw=function(sn){sn/=100;const mn=this.opacity;this.addCommands({cmd:()=>{this.opacity=sn,Ut(this,jt,Ol).call(this)},undo:()=>{this.opacity=mn,Ut(this,jt,Ol).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},hw=function(){const{parentRotation:sn,parentDimensions:[mn,Pn]}=this;switch(sn){case 90:return[0,Pn,Pn,mn];case 180:return[mn,Pn,mn,Pn];case 270:return[mn,0,Pn,mn];default:return[0,0,mn,Pn]}},qE=function(){const{ctx:sn,color:mn,opacity:Pn,thickness:Nn,parentScale:Vn,scaleFactor:Qn}=this;sn.lineWidth=Nn*Vn/Qn,sn.lineCap="round",sn.lineJoin="round",sn.miterLimit=10,sn.strokeStyle=`${mn}${(0,_t.opacityToHex)(Pn)}`},fw=function(sn,mn){this.canvas.addEventListener("contextmenu",Et.noContextMenu),this.canvas.addEventListener("pointerleave",wt(this,Pt)),this.canvas.addEventListener("pointermove",wt(this,Rt)),this.canvas.addEventListener("pointerup",wt(this,kt)),this.canvas.removeEventListener("pointerdown",wt(this,Mt)),this.isEditing=!0,wt(this,Dt)||(Vt(this,Dt,!0),Ut(this,jt,im).call(this),this.thickness||(this.thickness=Kn._defaultThickness),this.color||(this.color=Kn._defaultColor||xt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Kn._defaultOpacity)),this.currentPath.push([sn,mn]),Vt(this,Ft,!1),Ut(this,jt,qE).call(this),Vt(this,Ht,()=>{Ut(this,jt,mw).call(this),wt(this,Ht)&&window.requestAnimationFrame(wt(this,Ht))}),window.requestAnimationFrame(wt(this,Ht))},KE=function(sn,mn){const[Pn,Nn]=this.currentPath.at(-1);if(this.currentPath.length>1&&sn===Pn&&mn===Nn)return;const Vn=this.currentPath;let Qn=wt(this,Lt);if(Vn.push([sn,mn]),Vt(this,Ft,!0),Vn.length<=2){Qn.moveTo(...Vn[0]),Qn.lineTo(sn,mn);return}Vn.length===3&&(Vt(this,Lt,Qn=new Path2D),Qn.moveTo(...Vn[0])),Ut(this,jt,vw).call(this,Qn,...Vn.at(-3),...Vn.at(-2),sn,mn)},pw=function(){if(this.currentPath.length===0)return;const sn=this.currentPath.at(-1);wt(this,Lt).lineTo(...sn)},gw=function(sn,mn){Vt(this,Ht,null),sn=Math.min(Math.max(sn,0),this.canvas.width),mn=Math.min(Math.max(mn,0),this.canvas.height),Ut(this,jt,KE).call(this,sn,mn),Ut(this,jt,pw).call(this);let Pn;if(this.currentPath.length!==1)Pn=Ut(this,jt,yw).call(this);else{const kn=[sn,mn];Pn=[[kn,kn.slice(),kn.slice(),kn]]}const Nn=wt(this,Lt),Vn=this.currentPath;this.currentPath=[],Vt(this,Lt,new Path2D);const Qn=()=>{this.allRawPaths.push(Vn),this.paths.push(Pn),this.bezierPath2D.push(Nn),this.rebuild()},qn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ut(this,jt,Uy).call(this),Ut(this,jt,zy).call(this)),Ut(this,jt,sm).call(this))};this.addCommands({cmd:Qn,undo:qn,mustExec:!0})},mw=function(){if(!wt(this,Ft))return;Vt(this,Ft,!1);const sn=Math.ceil(this.thickness*this.parentScale),mn=this.currentPath.slice(-3),Pn=mn.map(Qn=>Qn[0]),Nn=mn.map(Qn=>Qn[1]);Math.min(...Pn)-sn,Math.max(...Pn)+sn,Math.min(...Nn)-sn,Math.max(...Nn)+sn;const{ctx:Vn}=this;Vn.save(),Vn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Qn of this.bezierPath2D)Vn.stroke(Qn);Vn.stroke(wt(this,Lt)),Vn.restore()},vw=function(sn,mn,Pn,Nn,Vn,Qn,qn){const kn=(mn+Nn)/2,sr=(Pn+Vn)/2,rr=(Nn+Qn)/2,$r=(Vn+qn)/2;sn.bezierCurveTo(kn+2*(Nn-kn)/3,sr+2*(Vn-sr)/3,rr+2*(Nn-rr)/3,$r+2*(Vn-$r)/3,rr,$r)},yw=function(){const sn=this.currentPath;if(sn.length<=2)return[[sn[0],sn[0],sn.at(-1),sn.at(-1)]];const mn=[];let Pn,[Nn,Vn]=sn[0];for(Pn=1;Pn<sn.length-2;Pn++){const[Pr,zr]=sn[Pn],[dr,gr]=sn[Pn+1],Wr=(Pr+dr)/2,rs=(zr+gr)/2,Yn=[Nn+2*(Pr-Nn)/3,Vn+2*(zr-Vn)/3],Ln=[Wr+2*(Pr-Wr)/3,rs+2*(zr-rs)/3];mn.push([[Nn,Vn],Yn,Ln,[Wr,rs]]),[Nn,Vn]=[Wr,rs]}const[Qn,qn]=sn[Pn],[kn,sr]=sn[Pn+1],rr=[Nn+2*(Qn-Nn)/3,Vn+2*(qn-Vn)/3],$r=[kn+2*(Qn-kn)/3,sr+2*(qn-sr)/3];return mn.push([[Nn,Vn],rr,$r,[kn,sr]]),mn},Ol=function(){if(this.isEmpty()){Ut(this,jt,Wy).call(this);return}Ut(this,jt,qE).call(this);const{canvas:sn,ctx:mn}=this;mn.setTransform(1,0,0,1,0,0),mn.clearRect(0,0,sn.width,sn.height),Ut(this,jt,Wy).call(this);for(const Pn of this.bezierPath2D)mn.stroke(Pn)},YE=function(sn){this.canvas.removeEventListener("pointerleave",wt(this,Pt)),this.canvas.removeEventListener("pointermove",wt(this,Rt)),this.canvas.removeEventListener("pointerup",wt(this,kt)),this.canvas.addEventListener("pointerdown",wt(this,Mt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Et.noContextMenu)},10),Ut(this,jt,gw).call(this,sn.offsetX,sn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Uy=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",xt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(sn=>{var mn;return(mn=this.canvas)==null?void 0:mn.setAttribute("aria-label",sn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},zy=function(){Vt(this,$t,new ResizeObserver(sn=>{const mn=sn[0].contentRect;mn.width&&mn.height&&this.setDimensions(mn.width,mn.height)})),wt(this,$t).observe(this.div)},im=function(){if(!wt(this,Dt))return;const[sn,mn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*sn),this.canvas.height=Math.ceil(this.height*mn),Ut(this,jt,Wy).call(this)},ZE=function(sn,mn){const Pn=Ut(this,jt,Vy).call(this),Nn=(sn-Pn)/wt(this,St),Vn=(mn-Pn)/wt(this,Ct);this.scaleFactor=Math.min(Nn,Vn)},Wy=function(){const sn=Ut(this,jt,Vy).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+sn,this.translationY*this.scaleFactor+sn)},ln=new WeakSet,xw=function(sn){const mn=new Path2D;for(let Pn=0,Nn=sn.length;Pn<Nn;Pn++){const[Vn,Qn,qn,kn]=sn[Pn];Pn===0&&mn.moveTo(...Vn),mn.bezierCurveTo(Qn[0],Qn[1],qn[0],qn[1],kn[0],kn[1])}return mn},QE=function(sn,mn,Pn){const[Nn,Vn,Qn,qn]=mn;switch(Pn){case 0:for(let kn=0,sr=sn.length;kn<sr;kn+=2)sn[kn]+=Nn,sn[kn+1]=qn-sn[kn+1];break;case 90:for(let kn=0,sr=sn.length;kn<sr;kn+=2){const rr=sn[kn];sn[kn]=sn[kn+1]+Nn,sn[kn+1]=rr+Vn}break;case 180:for(let kn=0,sr=sn.length;kn<sr;kn+=2)sn[kn]=Qn-sn[kn],sn[kn+1]+=Vn;break;case 270:for(let kn=0,sr=sn.length;kn<sr;kn+=2){const rr=sn[kn];sn[kn]=Qn-sn[kn+1],sn[kn+1]=qn-rr}break;default:throw new Error("Invalid rotation")}return sn},bw=function(sn,mn,Pn){const[Nn,Vn,Qn,qn]=mn;switch(Pn){case 0:for(let kn=0,sr=sn.length;kn<sr;kn+=2)sn[kn]-=Nn,sn[kn+1]=qn-sn[kn+1];break;case 90:for(let kn=0,sr=sn.length;kn<sr;kn+=2){const rr=sn[kn];sn[kn]=sn[kn+1]-Vn,sn[kn+1]=rr-Nn}break;case 180:for(let kn=0,sr=sn.length;kn<sr;kn+=2)sn[kn]=Qn-sn[kn],sn[kn+1]-=Vn;break;case 270:for(let kn=0,sr=sn.length;kn<sr;kn+=2){const rr=sn[kn];sn[kn]=qn-sn[kn+1],sn[kn+1]=Qn-rr}break;default:throw new Error("Invalid rotation")}return sn},Ew=function(sn,mn,Pn,Nn){var sr,rr;const Vn=[],Qn=this.thickness/2,qn=sn*mn+Qn,kn=sn*Pn+Qn;for(const $r of this.paths){const Pr=[],zr=[];for(let dr=0,gr=$r.length;dr<gr;dr++){const[Wr,rs,Yn,Ln]=$r[dr],In=sn*Wr[0]+qn,fr=sn*Wr[1]+kn,vr=sn*rs[0]+qn,kr=sn*rs[1]+kn,vn=sn*Yn[0]+qn,Gn=sn*Yn[1]+kn,ar=sn*Ln[0]+qn,yr=sn*Ln[1]+kn;dr===0&&(Pr.push(In,fr),zr.push(In,fr)),Pr.push(vr,kr,vn,Gn,ar,yr),zr.push(vr,kr),dr===gr-1&&zr.push(ar,yr)}Vn.push({bezier:Ut(sr=Kn,ln,QE).call(sr,Pr,Nn,this.rotation),points:Ut(rr=Kn,ln,QE).call(rr,zr,Nn,this.rotation)})}return Vn},JE=function(){let sn=1/0,mn=-1/0,Pn=1/0,Nn=-1/0;for(const Vn of this.paths)for(const[Qn,qn,kn,sr]of Vn){const rr=vt.Util.bezierBoundingBox(...Qn,...qn,...kn,...sr);sn=Math.min(sn,rr[0]),Pn=Math.min(Pn,rr[1]),mn=Math.max(mn,rr[2]),Nn=Math.max(Nn,rr[3])}return[sn,Pn,mn,Nn]},Vy=function(){return wt(this,Ot)?Math.ceil(this.thickness*this.parentScale):0},sm=function(sn=!1){if(this.isEmpty())return;if(!wt(this,Ot)){Ut(this,jt,Ol).call(this);return}const mn=Ut(this,jt,JE).call(this),Pn=Ut(this,jt,Vy).call(this);Vt(this,St,Math.max(xt.AnnotationEditor.MIN_SIZE,mn[2]-mn[0])),Vt(this,Ct,Math.max(xt.AnnotationEditor.MIN_SIZE,mn[3]-mn[1]));const Nn=Math.ceil(Pn+wt(this,St)*this.scaleFactor),Vn=Math.ceil(Pn+wt(this,Ct)*this.scaleFactor),[Qn,qn]=this.parentDimensions;this.width=Nn/Qn,this.height=Vn/qn,this.setAspectRatio(Nn,Vn);const kn=this.translationX,sr=this.translationY;this.translationX=-mn[0],this.translationY=-mn[1],Ut(this,jt,im).call(this),Ut(this,jt,Ol).call(this),Vt(this,Bt,Nn),Vt(this,Nt,Vn),this.setDims(Nn,Vn);const rr=sn?Pn/this.scaleFactor/2:0;this.translate(kn-this.translationX-rr,sr-this.translationY-rr)},qt(Kn,ln),Sr(Kn,"_defaultColor",null),Sr(Kn,"_defaultOpacity",1),Sr(Kn,"_defaultThickness",1),Sr(Kn,"_type","ink");let At=Kn;$.InkEditor=At},(_e,$,ht)=>{var At,Ct,St,Rt,Pt,kt,Mt,Lt,Ot,Ft,Dt,b0,E0,Gy,e1,_w,ww,t1,Xy,Aw;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var vt=ht(1),xt=ht(4),bt=ht(6),Et=ht(29);const Qt=class Qt extends xt.AnnotationEditor{constructor(un){super({...un,name:"stampEditor"});qt(this,Dt);qt(this,At,null);qt(this,Ct,null);qt(this,St,null);qt(this,Rt,null);qt(this,Pt,null);qt(this,kt,null);qt(this,Mt,null);qt(this,Lt,null);qt(this,Ot,!1);qt(this,Ft,!1);Vt(this,Rt,un.bitmapUrl),Vt(this,Pt,un.bitmapFile)}static initialize(un){xt.AnnotationEditor.initialize(un)}static get supportedTypes(){const un=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,vt.shadow)(this,"supportedTypes",un.map(xn=>`image/${xn}`))}static get supportedTypesStr(){return(0,vt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(un){return this.supportedTypes.includes(un)}static paste(un,xn){xn.pasteEditor(vt.AnnotationEditorType.STAMP,{bitmapFile:un.getAsFile()})}remove(){var un,xn;wt(this,Ct)&&(Vt(this,At,null),this._uiManager.imageManager.deleteId(wt(this,Ct)),(un=wt(this,kt))==null||un.remove(),Vt(this,kt,null),(xn=wt(this,Mt))==null||xn.disconnect(),Vt(this,Mt,null)),super.remove()}rebuild(){if(!this.parent){wt(this,Ct)&&Ut(this,Dt,Gy).call(this);return}super.rebuild(),this.div!==null&&(wt(this,Ct)&&Ut(this,Dt,Gy).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(wt(this,St)||wt(this,At)||wt(this,Rt)||wt(this,Pt))}get isResizable(){return!0}render(){if(this.div)return this.div;let un,xn;if(this.width&&(un=this.x,xn=this.y),super.render(),this.div.hidden=!0,wt(this,At)?Ut(this,Dt,e1).call(this):Ut(this,Dt,Gy).call(this),this.width){const[an,hn]=this.parentDimensions;this.setAt(un*an,xn*hn,this.width*an,this.height*hn)}return this.div}static deserialize(un,xn,an){if(un instanceof Et.StampAnnotationElement)return null;const hn=super.deserialize(un,xn,an),{rect:nn,bitmapUrl:gn,bitmapId:wn,isSvg:rn,accessibilityData:Xt}=un;wn&&an.imageManager.isValidId(wn)?Vt(hn,Ct,wn):Vt(hn,Rt,gn),Vt(hn,Ot,rn);const[Yt,tn]=hn.pageDimensions;return hn.width=(nn[2]-nn[0])/Yt,hn.height=(nn[3]-nn[1])/tn,Xt&&(hn.altTextData=Xt),hn}serialize(un=!1,xn=null){if(this.isEmpty())return null;const an={annotationType:vt.AnnotationEditorType.STAMP,bitmapId:wt(this,Ct),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:wt(this,Ot),structTreeParentId:this._structTreeParentId};if(un)return an.bitmapUrl=Ut(this,Dt,Xy).call(this,!0),an.accessibilityData=this.altTextData,an;const{decorative:hn,altText:nn}=this.altTextData;if(!hn&&nn&&(an.accessibilityData={type:"Figure",alt:nn}),xn===null)return an;xn.stamps||(xn.stamps=new Map);const gn=wt(this,Ot)?(an.rect[2]-an.rect[0])*(an.rect[3]-an.rect[1]):null;if(!xn.stamps.has(wt(this,Ct)))xn.stamps.set(wt(this,Ct),{area:gn,serialized:an}),an.bitmap=Ut(this,Dt,Xy).call(this,!1);else if(wt(this,Ot)){const wn=xn.stamps.get(wt(this,Ct));gn>wn.area&&(wn.area=gn,wn.serialized.bitmap.close(),wn.serialized.bitmap=Ut(this,Dt,Xy).call(this,!1))}return an}};At=new WeakMap,Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Lt=new WeakMap,Ot=new WeakMap,Ft=new WeakMap,Dt=new WeakSet,b0=function(un,xn=!1){if(!un){this.remove();return}Vt(this,At,un.bitmap),xn||(Vt(this,Ct,un.id),Vt(this,Ot,un.isSvg)),Ut(this,Dt,e1).call(this)},E0=function(){Vt(this,St,null),this._uiManager.enableWaiting(!1),wt(this,kt)&&this.div.focus()},Gy=function(){if(wt(this,Ct)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(wt(this,Ct)).then(xn=>Ut(this,Dt,b0).call(this,xn,!0)).finally(()=>Ut(this,Dt,E0).call(this));return}if(wt(this,Rt)){const xn=wt(this,Rt);Vt(this,Rt,null),this._uiManager.enableWaiting(!0),Vt(this,St,this._uiManager.imageManager.getFromUrl(xn).then(an=>Ut(this,Dt,b0).call(this,an)).finally(()=>Ut(this,Dt,E0).call(this)));return}if(wt(this,Pt)){const xn=wt(this,Pt);Vt(this,Pt,null),this._uiManager.enableWaiting(!0),Vt(this,St,this._uiManager.imageManager.getFromFile(xn).then(an=>Ut(this,Dt,b0).call(this,an)).finally(()=>Ut(this,Dt,E0).call(this)));return}const un=document.createElement("input");un.type="file",un.accept=Qt.supportedTypesStr,Vt(this,St,new Promise(xn=>{un.addEventListener("change",async()=>{if(!un.files||un.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const an=await this._uiManager.imageManager.getFromFile(un.files[0]);Ut(this,Dt,b0).call(this,an)}xn()}),un.addEventListener("cancel",()=>{this.remove(),xn()})}).finally(()=>Ut(this,Dt,E0).call(this))),un.click()},e1=function(){const{div:un}=this;let{width:xn,height:an}=wt(this,At);const[hn,nn]=this.pageDimensions,gn=.75;if(this.width)xn=this.width*hn,an=this.height*nn;else if(xn>gn*hn||an>gn*nn){const Yt=Math.min(gn*hn/xn,gn*nn/an);xn*=Yt,an*=Yt}const[wn,rn]=this.parentDimensions;this.setDims(xn*wn/hn,an*rn/nn),this._uiManager.enableWaiting(!1);const Xt=Vt(this,kt,document.createElement("canvas"));un.append(Xt),un.hidden=!1,Ut(this,Dt,t1).call(this,xn,an),Ut(this,Dt,Aw).call(this),wt(this,Ft)||(this.parent.addUndoableEditor(this),Vt(this,Ft,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},_w=function(un,xn){var gn;const[an,hn]=this.parentDimensions;this.width=un/an,this.height=xn/hn,this.setDims(un,xn),(gn=this._initialOptions)!=null&&gn.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,wt(this,Lt)!==null&&clearTimeout(wt(this,Lt)),Vt(this,Lt,setTimeout(()=>{Vt(this,Lt,null),Ut(this,Dt,t1).call(this,un,xn)},200))},ww=function(un,xn){const{width:an,height:hn}=wt(this,At);let nn=an,gn=hn,wn=wt(this,At);for(;nn>2*un||gn>2*xn;){const rn=nn,Xt=gn;nn>2*un&&(nn=nn>=16384?Math.floor(nn/2)-1:Math.ceil(nn/2)),gn>2*xn&&(gn=gn>=16384?Math.floor(gn/2)-1:Math.ceil(gn/2));const Yt=new OffscreenCanvas(nn,gn);Yt.getContext("2d").drawImage(wn,0,0,rn,Xt,0,0,nn,gn),wn=Yt.transferToImageBitmap()}return wn},t1=function(un,xn){un=Math.ceil(un),xn=Math.ceil(xn);const an=wt(this,kt);if(!an||an.width===un&&an.height===xn)return;an.width=un,an.height=xn;const hn=wt(this,Ot)?wt(this,At):Ut(this,Dt,ww).call(this,un,xn),nn=an.getContext("2d");nn.filter=this._uiManager.hcmFilter,nn.drawImage(hn,0,0,hn.width,hn.height,0,0,un,xn)},Xy=function(un){if(un){if(wt(this,Ot)){const hn=this._uiManager.imageManager.getSvgUrl(wt(this,Ct));if(hn)return hn}const xn=document.createElement("canvas");return{width:xn.width,height:xn.height}=wt(this,At),xn.getContext("2d").drawImage(wt(this,At),0,0),xn.toDataURL()}if(wt(this,Ot)){const[xn,an]=this.pageDimensions,hn=Math.round(this.width*xn*bt.PixelsPerInch.PDF_TO_CSS_UNITS),nn=Math.round(this.height*an*bt.PixelsPerInch.PDF_TO_CSS_UNITS),gn=new OffscreenCanvas(hn,nn);return gn.getContext("2d").drawImage(wt(this,At),0,0,wt(this,At).width,wt(this,At).height,0,0,hn,nn),gn.transferToImageBitmap()}return structuredClone(wt(this,At))},Aw=function(){Vt(this,Mt,new ResizeObserver(un=>{const xn=un[0].contentRect;xn.width&&xn.height&&Ut(this,Dt,_w).call(this,xn.width,xn.height)})),wt(this,Mt).observe(this.div)},Sr(Qt,"_type","stamp");let _t=Qt;$.StampEditor=_t}],__webpack_module_cache__={};function __w_pdfjs_require__(_e){var $=__webpack_module_cache__[_e];if($!==void 0)return $.exports;var ht=__webpack_module_cache__[_e]={exports:{}};return __webpack_modules__[_e](ht,ht.exports,__w_pdfjs_require__),ht.exports}var __webpack_exports__={};return(()=>{var _e=__webpack_exports__;Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(_e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return bt.AnnotationEditorLayer}}),Object.defineProperty(_e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(_e,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(_e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Et.AnnotationEditorUIManager}}),Object.defineProperty(_e,"AnnotationLayer",{enumerable:!0,get:function(){return _t.AnnotationLayer}}),Object.defineProperty(_e,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(_e,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(_e,"DOMSVGFactory",{enumerable:!0,get:function(){return vt.DOMSVGFactory}}),Object.defineProperty(_e,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(_e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return At.GlobalWorkerOptions}}),Object.defineProperty(_e,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(_e,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(_e,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(_e,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(_e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ht.PDFDataRangeTransport}}),Object.defineProperty(_e,"PDFDateString",{enumerable:!0,get:function(){return vt.PDFDateString}}),Object.defineProperty(_e,"PDFWorker",{enumerable:!0,get:function(){return ht.PDFWorker}}),Object.defineProperty(_e,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(_e,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(_e,"PixelsPerInch",{enumerable:!0,get:function(){return vt.PixelsPerInch}}),Object.defineProperty(_e,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(_e,"RenderingCancelledException",{enumerable:!0,get:function(){return vt.RenderingCancelledException}}),Object.defineProperty(_e,"SVGGraphics",{enumerable:!0,get:function(){return ht.SVGGraphics}}),Object.defineProperty(_e,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(_e,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(_e,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(_e,"XfaLayer",{enumerable:!0,get:function(){return Ct.XfaLayer}}),Object.defineProperty(_e,"build",{enumerable:!0,get:function(){return ht.build}}),Object.defineProperty(_e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(_e,"getDocument",{enumerable:!0,get:function(){return ht.getDocument}}),Object.defineProperty(_e,"getFilenameFromUrl",{enumerable:!0,get:function(){return vt.getFilenameFromUrl}}),Object.defineProperty(_e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return vt.getPdfFilenameFromUrl}}),Object.defineProperty(_e,"getXfaPageViewport",{enumerable:!0,get:function(){return vt.getXfaPageViewport}}),Object.defineProperty(_e,"isDataScheme",{enumerable:!0,get:function(){return vt.isDataScheme}}),Object.defineProperty(_e,"isPdfFile",{enumerable:!0,get:function(){return vt.isPdfFile}}),Object.defineProperty(_e,"loadScript",{enumerable:!0,get:function(){return vt.loadScript}}),Object.defineProperty(_e,"noContextMenu",{enumerable:!0,get:function(){return vt.noContextMenu}}),Object.defineProperty(_e,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(_e,"renderTextLayer",{enumerable:!0,get:function(){return xt.renderTextLayer}}),Object.defineProperty(_e,"setLayerDimensions",{enumerable:!0,get:function(){return vt.setLayerDimensions}}),Object.defineProperty(_e,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(_e,"updateTextLayer",{enumerable:!0,get:function(){return xt.updateTextLayer}}),Object.defineProperty(_e,"version",{enumerable:!0,get:function(){return ht.version}});var $=__w_pdfjs_require__(1),ht=__w_pdfjs_require__(2),vt=__w_pdfjs_require__(6),xt=__w_pdfjs_require__(26),bt=__w_pdfjs_require__(27),Et=__w_pdfjs_require__(5),_t=__w_pdfjs_require__(29),At=__w_pdfjs_require__(14),Ct=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(_e){var $=reactExports,ht=pdfExports;function vt(Gt){var Jt=Object.create(null);return Gt&&Object.keys(Gt).forEach(function(yn){if(yn!=="default"){var bn=Object.getOwnPropertyDescriptor(Gt,yn);Object.defineProperty(Jt,yn,bn.get?bn:{enumerable:!0,get:function(){return Gt[yn]}})}}),Jt.default=Gt,Object.freeze(Jt)}var xt,bt=vt($),Et=vt(ht);_e.AnnotationType=void 0,(xt=_e.AnnotationType||(_e.AnnotationType={}))[xt.Text=1]="Text",xt[xt.Link=2]="Link",xt[xt.FreeText=3]="FreeText",xt[xt.Line=4]="Line",xt[xt.Square=5]="Square",xt[xt.Circle=6]="Circle",xt[xt.Polygon=7]="Polygon",xt[xt.Polyline=8]="Polyline",xt[xt.Highlight=9]="Highlight",xt[xt.Underline=10]="Underline",xt[xt.Squiggly=11]="Squiggly",xt[xt.StrikeOut=12]="StrikeOut",xt[xt.Stamp=13]="Stamp",xt[xt.Caret=14]="Caret",xt[xt.Ink=15]="Ink",xt[xt.Popup=16]="Popup",xt[xt.FileAttachment=17]="FileAttachment";var _t=function(Gt,Jt){return _t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(yn,bn){yn.__proto__=bn}||function(yn,bn){for(var An in bn)Object.prototype.hasOwnProperty.call(bn,An)&&(yn[An]=bn[An])},_t(Gt,Jt)};function At(Gt,Jt){if(typeof Jt!="function"&&Jt!==null)throw new TypeError("Class extends value "+String(Jt)+" is not a constructor or null");function yn(){this.constructor=Gt}_t(Gt,Jt),Gt.prototype=Jt===null?Object.create(Jt):(yn.prototype=Jt.prototype,new yn)}var Ct,St=function(){return St=Object.assign||function(Gt){for(var Jt,yn=1,bn=arguments.length;yn<bn;yn++)for(var An in Jt=arguments[yn])Object.prototype.hasOwnProperty.call(Jt,An)&&(Gt[An]=Jt[An]);return Gt},St.apply(this,arguments)};_e.TextDirection=void 0,(Ct=_e.TextDirection||(_e.TextDirection={})).RightToLeft="RTL",Ct.LeftToRight="LTR";var Rt,Pt=bt.createContext({currentTheme:"light",direction:_e.TextDirection.LeftToRight,setCurrentTheme:function(){}}),kt=function(Gt){var Jt=[];return Object.keys(Gt).forEach(function(yn){yn&&Gt[yn]&&Jt.push(yn)}),Jt.join(" ")},Mt=typeof window<"u"?bt.useLayoutEffect:bt.useEffect,Lt=function(Gt){var Jt=bt.useRef(null),yn=Gt.once,bn=Gt.threshold,An=Gt.onVisibilityChanged;return Mt(function(){var Rn=Jt.current;if(Rn){var jn=new IntersectionObserver(function(Dn){Dn.forEach(function(_n){var $n=_n.isIntersecting,On=_n.intersectionRatio;An({isVisible:$n,ratio:On}),$n&&yn&&(jn.unobserve(Rn),jn.disconnect())})},{threshold:bn||0});return jn.observe(Rn),function(){jn.unobserve(Rn),jn.disconnect()}}},[]),Jt},Ot=function(Gt){var Jt=Gt.children,yn=Gt.ignoreDirection,bn=yn!==void 0&&yn,An=Gt.size,Rn=An===void 0?24:An,jn=bt.useContext(Pt).direction,Dn=!bn&&jn===_e.TextDirection.RightToLeft,_n="".concat(Rn||24,"px");return bt.createElement("svg",{"aria-hidden":"true",className:kt({"rpv-core__icon":!0,"rpv-core__icon--rtl":Dn}),focusable:"false",height:_n,viewBox:"0 0 24 24",width:_n},Jt)},Ft=function(){return bt.createElement(Ot,{size:16},bt.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},Dt=function(Gt){var Jt=Gt.children,yn=Gt.testId,bn=Gt.onClick,An=bt.useContext(Pt).direction===_e.TextDirection.RightToLeft,Rn=yn?{"data-testid":yn}:{};return bt.createElement("button",St({className:kt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":An}),type:"button",onClick:bn},Rn),Jt)},$t=function(Gt){var Jt=Gt.size,yn=Jt===void 0?"4rem":Jt,bn=Gt.testId,An=bt.useState(!1),Rn=An[0],jn=An[1],Dn=bn?{"data-testid":bn}:{},_n=Lt({onVisibilityChanged:function($n){jn($n.isVisible)}});return bt.createElement("div",St({},Dn,{className:kt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Rn}),ref:_n,style:{height:yn,width:yn}}))},Bt=function(Gt){var Jt=Gt.ariaLabel,yn=Jt===void 0?"":Jt,bn=Gt.autoFocus,An=bn!==void 0&&bn,Rn=Gt.placeholder,jn=Rn===void 0?"":Rn,Dn=Gt.testId,_n=Gt.type,$n=_n===void 0?"text":_n,On=Gt.value,tr=On===void 0?"":On,er=Gt.onChange,Jn=Gt.onKeyDown,ur=Jn===void 0?function(){}:Jn,lr=bt.useContext(Pt).direction,or=bt.useRef(),Jr=lr===_e.TextDirection.RightToLeft,Dr={ref:or,"data-testid":"","aria-label":yn,className:kt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Jr}),placeholder:jn,value:tr,onChange:function(Or){return er(Or.target.value)},onKeyDown:ur};return Dn&&(Dr["data-testid"]=Dn),Mt(function(){if(An){var Or=or.current;if(Or){var Ur=window.scrollX,Cr=window.scrollY;Or.focus(),window.scrollTo(Ur,Cr)}}},[]),$n==="text"?bt.createElement("input",St({type:"text"},Dr)):bt.createElement("input",St({type:"password"},Dr))};(function(Gt){Gt[Gt.ExitFullScreen=0]="ExitFullScreen",Gt[Gt.FullScreenChange=1]="FullScreenChange",Gt[Gt.FullScreenElement=2]="FullScreenElement",Gt[Gt.FullScreenEnabled=3]="FullScreenEnabled",Gt[Gt.RequestFullScreen=4]="RequestFullScreen"})(Rt||(Rt={}));var Nt,Ht={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},jt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},zt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},Kt=typeof window<"u",en=Kt&&(Rt.FullScreenEnabled in document&&Ht||jt.FullScreenEnabled in document&&jt||zt.FullScreenEnabled in document&&zt)||Ht,Wt=function(){return Kt&&en.FullScreenEnabled in document&&document[en.FullScreenEnabled]===!0},Qt=function(Gt){return Kt?Gt[en.ExitFullScreen]():Promise.resolve({})},on=function(){return Kt?document[en.FullScreenElement]:null},En=function(Gt,Jt){var yn=bt.useRef(),bn=function(){yn.current&&clearTimeout(yn.current)};return bt.useEffect(function(){return function(){return bn()}},[]),bt.useCallback(function(){for(var An=[],Rn=0;Rn<arguments.length;Rn++)An[Rn]=arguments[Rn];bn(),yn.current=setTimeout(function(){Gt.apply(void 0,An)},Jt)},[Gt,Jt])},un=function(){var Gt=bt.useRef(!1);return bt.useEffect(function(){return Gt.current=!0,function(){Gt.current=!1}},[]),Gt},xn=function(Gt){var Jt=bt.useRef(Gt);return bt.useEffect(function(){Jt.current=Gt},[Gt]),Jt.current};(function(Gt){Gt.NotRenderedYet="NotRenderedYet",Gt.Rendering="Rendering",Gt.Rendered="Rendered"})(Nt||(Nt={}));var an,hn=-9999,nn=function(Gt){var Jt=Gt.doc,yn=Jt.numPages,bn=Jt.loadingTask.docId,An=bt.useMemo(function(){return Array(yn).fill(null).map(function(Dn,_n){return{pageIndex:_n,renderStatus:Nt.NotRenderedYet,visibility:hn}})},[bn]),Rn=bt.useRef({currentRenderingPage:-1,startRange:0,endRange:yn-1,visibilities:An}),jn=function(Dn,_n){Rn.current.visibilities[Dn].visibility=_n};return{getHighestPriorityPage:function(){var Dn=Rn.current.visibilities.slice(Rn.current.startRange,Rn.current.endRange+1).filter(function(er){return er.visibility>hn});if(!Dn.length)return-1;for(var _n=Dn[0].pageIndex,$n=Dn[Dn.length-1].pageIndex,On=Dn.length,tr=0;tr<On;tr++){if(Dn[tr].renderStatus===Nt.Rendering)return-1;if(Dn[tr].renderStatus===Nt.NotRenderedYet)return Dn[tr].pageIndex}return $n+1<yn&&Rn.current.visibilities[$n+1].renderStatus!==Nt.Rendered?$n+1:_n-1>=0&&Rn.current.visibilities[_n-1].renderStatus!==Nt.Rendered?_n-1:-1},isInRange:function(Dn){return Dn>=Rn.current.startRange&&Dn<=Rn.current.endRange},markNotRendered:function(){for(var Dn=0;Dn<yn;Dn++)Rn.current.visibilities[Dn].renderStatus=Nt.NotRenderedYet},markRendered:function(Dn){Rn.current.visibilities[Dn].renderStatus=Nt.Rendered},markRendering:function(Dn){Rn.current.currentRenderingPage!==-1&&Rn.current.currentRenderingPage!==Dn&&Rn.current.visibilities[Rn.current.currentRenderingPage].renderStatus===Nt.Rendering&&(Rn.current.visibilities[Rn.current.currentRenderingPage].renderStatus=Nt.NotRenderedYet),Rn.current.visibilities[Dn].renderStatus=Nt.Rendering,Rn.current.currentRenderingPage=Dn},setOutOfRange:function(Dn){jn(Dn,hn)},setRange:function(Dn,_n){Rn.current.startRange=Dn,Rn.current.endRange=_n;for(var $n=0;$n<yn;$n++)($n<Dn||$n>_n)&&(Rn.current.visibilities[$n].visibility=hn,Rn.current.visibilities[$n].renderStatus=Nt.NotRenderedYet)},setVisibility:jn}},gn={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},wn=bt.createContext({l10n:gn,setL10n:function(){}}),rn=0,Xt=function(){return rn++},Yt=function(Gt,Jt,yn){var bn=function(An){var Rn=Jt.current;if(Rn){var jn=An.target;if(jn instanceof Element&&jn.shadowRoot){var Dn=An.composedPath();Dn.length>0&&!Rn.contains(Dn[0])&&yn()}else Rn.contains(jn)||yn()}};bt.useEffect(function(){if(Gt){var An={capture:!0};return document.addEventListener("click",bn,An),function(){document.removeEventListener("click",bn,An)}}},[])},tn=function(Gt){var Jt=function(yn){yn.key==="Escape"&&Gt()};bt.useEffect(function(){return document.addEventListener("keyup",Jt),function(){document.removeEventListener("keyup",Jt)}},[])},dn=function(Gt){var Jt=Gt.ariaControlsSuffix,yn=Gt.children,bn=Gt.closeOnClickOutside,An=Gt.closeOnEscape,Rn=Gt.onToggle,jn=bt.useRef(),Dn=bt.useContext(Pt).direction===_e.TextDirection.RightToLeft;return bt.useEffect(function(){var _n=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=_n}},[]),tn(function(){jn.current&&An&&Rn()}),Yt(bn,jn,Rn),Mt(function(){var _n=jn.current;if(_n){var $n=.75*document.body.clientHeight;_n.getBoundingClientRect().height>=$n&&(_n.style.overflow="auto",_n.style.maxHeight="".concat($n,"px"))}},[]),bt.createElement("div",{"aria-modal":"true",className:kt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Dn}),id:"rpv-core__modal-body-".concat(Jt),ref:jn,role:"dialog",tabIndex:-1},yn)},ln=function(Gt){var Jt=Gt.children;return bt.createElement("div",{className:"rpv-core__modal-overlay"},Jt)};_e.ToggleStatus=void 0,(an=_e.ToggleStatus||(_e.ToggleStatus={})).Close="Close",an.Open="Open",an.Toggle="Toggle";var fn,Sn=function(Gt){var Jt=bt.useState(Gt),yn=Jt[0],bn=Jt[1];return{opened:yn,toggle:function(An){switch(An){case _e.ToggleStatus.Close:bn(!1);break;case _e.ToggleStatus.Open:bn(!0);break;case _e.ToggleStatus.Toggle:default:bn(function(Rn){return!Rn})}}}},Mn=function(Gt){var Jt=Gt.content,yn=Gt.isOpened,bn=yn!==void 0&&yn,An=Gt.target,Rn=Sn(bn),jn=Rn.opened,Dn=Rn.toggle;return bt.createElement(bt.Fragment,null,An&&An(Dn,jn),jn&&Jt(Dn))};_e.Position=void 0,(fn=_e.Position||(_e.Position={})).TopLeft="TOP_LEFT",fn.TopCenter="TOP_CENTER",fn.TopRight="TOP_RIGHT",fn.RightTop="RIGHT_TOP",fn.RightCenter="RIGHT_CENTER",fn.RightBottom="RIGHT_BOTTOM",fn.BottomLeft="BOTTOM_LEFT",fn.BottomCenter="BOTTOM_CENTER",fn.BottomRight="BOTTOM_RIGHT",fn.LeftTop="LEFT_TOP",fn.LeftCenter="LEFT_CENTER",fn.LeftBottom="LEFT_BOTTOM";var Hn,Un,Wn,Xn,Kn,Tn,Fn,sn,mn=function(Gt,Jt,yn,bn,An){Mt(function(){var Rn=Jt.current,jn=Gt.current,Dn=yn.current;if(jn&&Rn&&Dn){var _n=Dn.getBoundingClientRect(),$n=function(er,Jn,ur,lr){var or=Jn.getBoundingClientRect(),Jr=er.getBoundingClientRect(),Dr=Jr.height,Or=Jr.width,Ur=0,Cr=0;switch(ur){case _e.Position.TopLeft:Ur=or.top-Dr,Cr=or.left;break;case _e.Position.TopCenter:Ur=or.top-Dr,Cr=or.left+or.width/2-Or/2;break;case _e.Position.TopRight:Ur=or.top-Dr,Cr=or.left+or.width-Or;break;case _e.Position.RightTop:Ur=or.top,Cr=or.left+or.width;break;case _e.Position.RightCenter:Ur=or.top+or.height/2-Dr/2,Cr=or.left+or.width;break;case _e.Position.RightBottom:Ur=or.top+or.height-Dr,Cr=or.left+or.width;break;case _e.Position.BottomLeft:Ur=or.top+or.height,Cr=or.left;break;case _e.Position.BottomCenter:Ur=or.top+or.height,Cr=or.left+or.width/2-Or/2;break;case _e.Position.BottomRight:Ur=or.top+or.height,Cr=or.left+or.width-Or;break;case _e.Position.LeftTop:Ur=or.top,Cr=or.left-Or;break;case _e.Position.LeftCenter:Ur=or.top+or.height/2-Dr/2,Cr=or.left-Or;break;case _e.Position.LeftBottom:Ur=or.top+or.height-Dr,Cr=or.left-Or}return{left:Cr+(lr.left||0),top:Ur+(lr.top||0)}}(jn,Rn,bn,An),On=$n.top,tr=$n.left;jn.style.top="".concat(On-_n.top,"px"),jn.style.left="".concat(tr-_n.left,"px")}},[])},Pn=function(Gt){var Jt,yn=Gt.customClassName,bn=Gt.position;return bt.createElement("div",{className:kt((Jt={"rpv-core__arrow":!0,"rpv-core__arrow--tl":bn===_e.Position.TopLeft,"rpv-core__arrow--tc":bn===_e.Position.TopCenter,"rpv-core__arrow--tr":bn===_e.Position.TopRight,"rpv-core__arrow--rt":bn===_e.Position.RightTop,"rpv-core__arrow--rc":bn===_e.Position.RightCenter,"rpv-core__arrow--rb":bn===_e.Position.RightBottom,"rpv-core__arrow--bl":bn===_e.Position.BottomLeft,"rpv-core__arrow--bc":bn===_e.Position.BottomCenter,"rpv-core__arrow--br":bn===_e.Position.BottomRight,"rpv-core__arrow--lt":bn===_e.Position.LeftTop,"rpv-core__arrow--lc":bn===_e.Position.LeftCenter,"rpv-core__arrow--lb":bn===_e.Position.LeftBottom},Jt["".concat(yn)]=yn!=="",Jt))})},Nn=function(Gt){var Jt=Gt.ariaControlsSuffix,yn=Gt.children,bn=Gt.closeOnClickOutside,An=Gt.offset,Rn=Gt.position,jn=Gt.targetRef,Dn=Gt.onClose,_n=bt.useRef(),$n=bt.useRef(),On=bt.useRef(),tr=bt.useContext(Pt).direction===_e.TextDirection.RightToLeft;Yt(bn,_n,Dn),mn(_n,jn,On,Rn,An),Mt(function(){var Jn=$n.current;if(Jn){var ur=.75*document.body.clientHeight;Jn.getBoundingClientRect().height>=ur&&(Jn.style.overflow="auto",Jn.style.maxHeight="".concat(ur,"px"))}},[]);var er="rpv-core__popover-body-inner-".concat(Jt);return bt.createElement(bt.Fragment,null,bt.createElement("div",{ref:On,style:{left:0,position:"absolute",top:0}}),bt.createElement("div",{"aria-describedby":er,className:kt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":tr}),id:"rpv-core__popover-body-".concat(Jt),ref:_n,role:"dialog",tabIndex:-1},bt.createElement(Pn,{customClassName:"rpv-core__popover-body-arrow",position:Rn}),bt.createElement("div",{id:er,ref:$n},yn)))},Vn=function(Gt){var Jt=Gt.closeOnEscape,yn=Gt.onClose,bn=bt.useRef();return tn(function(){bn.current&&Jt&&yn()}),bt.createElement("div",{className:"rpv-core__popover-overlay",ref:bn})},Qn=function(Gt){var Jt=Gt.ariaControlsSuffix,yn=Gt.children,bn=Gt.contentRef,An=Gt.offset,Rn=Gt.position,jn=Gt.targetRef,Dn=bt.useRef(),_n=bt.useContext(Pt).direction===_e.TextDirection.RightToLeft;return mn(bn,jn,Dn,Rn,An),bt.createElement(bt.Fragment,null,bt.createElement("div",{ref:Dn,style:{left:0,position:"absolute",top:0}}),bt.createElement("div",{className:kt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":_n}),id:"rpv-core__tooltip-body-".concat(Jt),ref:bn,role:"tooltip"},bt.createElement(Pn,{customClassName:"rpv-core__tooltip-body-arrow",position:Rn}),bt.createElement("div",{className:"rpv-core__tooltip-body-content"},yn)))};_e.FullScreenMode=void 0,(Hn=_e.FullScreenMode||(_e.FullScreenMode={})).Normal="Normal",Hn.Entering="Entering",Hn.Entered="Entered",Hn.EnteredCompletely="EnteredCompletely",Hn.Exitting="Exitting",Hn.Exited="Exited",_e.LayerRenderStatus=void 0,(Un=_e.LayerRenderStatus||(_e.LayerRenderStatus={}))[Un.PreRender=0]="PreRender",Un[Un.DidRender=1]="DidRender",_e.PageMode=void 0,(Wn=_e.PageMode||(_e.PageMode={})).Attachments="UseAttachments",Wn.Bookmarks="UseOutlines",Wn.ContentGroup="UseOC",Wn.Default="UserNone",Wn.FullScreen="FullScreen",Wn.Thumbnails="UseThumbs",_e.PasswordStatus=void 0,(Xn=_e.PasswordStatus||(_e.PasswordStatus={})).RequiredPassword="RequiredPassword",Xn.WrongPassword="WrongPassword",_e.RotateDirection=void 0,(Kn=_e.RotateDirection||(_e.RotateDirection={})).Backward="Backward",Kn.Forward="Forward",_e.ScrollMode=void 0,(Tn=_e.ScrollMode||(_e.ScrollMode={})).Page="Page",Tn.Horizontal="Horizontal",Tn.Vertical="Vertical",Tn.Wrapped="Wrapped",_e.SpecialZoomLevel=void 0,(Fn=_e.SpecialZoomLevel||(_e.SpecialZoomLevel={})).ActualSize="ActualSize",Fn.PageFit="PageFit",Fn.PageWidth="PageWidth",_e.ViewMode=void 0,(sn=_e.ViewMode||(_e.ViewMode={})).DualPage="DualPage",sn.DualPageWithCover="DualPageWithCover",sn.SinglePage="SinglePage";var qn,kn=function(Gt,Jt){return Gt.reduce(function(yn,bn,An){return An%Jt?yn[yn.length-1].push(bn):yn.push([bn]),yn},[])},sr=function(Gt,Jt){switch(Jt[1].name){case"XYZ":return{bottomOffset:function(yn,bn){return Jt[3]===null?bn:Jt[3]},leftOffset:function(yn,bn){return Jt[2]===null?0:Jt[2]},pageIndex:Gt,scaleTo:Jt[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Gt,scaleTo:_e.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Jt[2],leftOffset:0,pageIndex:Gt,scaleTo:_e.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Gt,scaleTo:1}}},rr=new Map,$r=new Map,Pr=function(Gt,Jt){return"".concat(Gt.loadingTask.docId,"___").concat(Jt.num,"R").concat(Jt.gen===0?"":Jt.gen)},zr=function(Gt,Jt,yn){rr.set(Pr(Gt,Jt),yn)},dr=function(Gt,Jt){if(!Gt)return Promise.reject("The document is not loaded yet");var yn="".concat(Gt.loadingTask.docId,"___").concat(Jt),bn=$r.get(yn);return bn?Promise.resolve(bn):new Promise(function(An,Rn){Gt.getPage(Jt+1).then(function(jn){$r.set(yn,jn),jn.ref&&zr(Gt,jn.ref,Jt),An(jn)})})},gr=function(Gt,Jt){return new Promise(function(yn){new Promise(function(bn){typeof Jt=="string"?Gt.getDestination(Jt).then(function(An){bn(An)}):bn(Jt)}).then(function(bn){if(typeof bn[0]=="object"&&bn[0]!==null){var An=bn[0],Rn=function(Dn,_n){var $n=Pr(Dn,_n);return rr.has($n)?rr.get($n):null}(Gt,An);Rn===null?Gt.getPageIndex(An).then(function(Dn){zr(Gt,An,Dn),gr(Gt,Jt).then(function(_n){return yn(_n)})}):yn(sr(Rn,bn))}else{var jn=sr(bn[0],bn);yn(jn)}})})};(function(Gt){Gt[Gt.Solid=1]="Solid",Gt[Gt.Dashed=2]="Dashed",Gt[Gt.Beveled=3]="Beveled",Gt[Gt.Inset=4]="Inset",Gt[Gt.Underline=5]="Underline"})(qn||(qn={}));var Wr,rs=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Yn=function(Gt,Jt,yn,bn){var An=parseInt(Gt,10);return An>=Jt&&An<=yn?An:bn},Ln=function(Gt){return Gt.contentsObj?Gt.contentsObj.str:Gt.contents||""},In=function(Gt){return Gt.titleObj?Gt.titleObj.str:Gt.title||""},fr=function(Gt){var Jt=Gt.annotation,yn=bt.useContext(Pt).direction,bn=In(Jt),An=Ln(Jt),Rn=yn===_e.TextDirection.RightToLeft,jn=bt.useRef(),Dn="";if(Jt.modificationDate){var _n=function($n){var On=rs.exec($n);if(!On)return null;var tr=parseInt(On[1],10),er=Yn(On[2],1,12,1)-1,Jn=Yn(On[3],1,31,1),ur=Yn(On[4],0,23,0),lr=Yn(On[5],0,59,0),or=Yn(On[6],0,59,0),Jr=On[7]||"Z",Dr=Yn(On[8],0,23,0),Or=Yn(On[9],0,59,0);switch(Jr){case"-":ur+=Dr,lr+=Or;break;case"+":ur-=Dr,lr-=Or}return new Date(Date.UTC(tr,er,Jn,ur,lr,or))}(Jt.modificationDate);Dn=_n?"".concat(_n.toLocaleDateString(),", ").concat(_n.toLocaleTimeString()):""}return bt.useLayoutEffect(function(){if(jn.current){var $n=document.querySelector('[data-annotation-id="'.concat(Jt.id,'"]'));if($n){var On=$n;return On.style.zIndex+=1,function(){On.style.zIndex="".concat(parseInt(On.style.zIndex,10)-1)}}}},[]),bt.createElement("div",{ref:jn,className:kt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Rn}),style:{top:Jt.annotationType===_e.AnnotationType.Popup?"":"100%"}},bn&&bt.createElement(bt.Fragment,null,bt.createElement("div",{className:kt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Rn,"rpv-core__annotation-popup-title--rtl":Rn})},bn),bt.createElement("div",{className:"rpv-core__annotation-popup-date"},Dn)),An&&bt.createElement("div",{className:"rpv-core__annotation-popup-content"},An.split(`
`).map(function($n,On){return bt.createElement(bt.Fragment,{key:On},$n,bt.createElement("br",null))})))};(function(Gt){Gt.Click="Click",Gt.Hover="Hover"})(Wr||(Wr={}));var vr,kr=function(Gt){var Jt,yn=Gt.annotation,bn=Gt.children,An=Gt.ignoreBorder,Rn=Gt.hasPopup,jn=Gt.isRenderable,Dn=Gt.page,_n=Gt.viewport,$n=yn.rect,On=function(){var jr=Sn(!1),as=jr.opened,is=jr.toggle,ls=bt.useState(Wr.Hover),us=ls[0],fs=ls[1];return{opened:as,closeOnHover:function(){us===Wr.Hover&&is(_e.ToggleStatus.Close)},openOnHover:function(){us===Wr.Hover&&is(_e.ToggleStatus.Open)},toggleOnClick:function(){switch(us){case Wr.Click:as&&fs(Wr.Hover),is(_e.ToggleStatus.Toggle);break;case Wr.Hover:fs(Wr.Click),is(_e.ToggleStatus.Open)}}}}(),tr=On.closeOnHover,er=On.opened,Jn=On.openOnHover,ur=On.toggleOnClick,lr=(Jt=[$n[0],Dn.view[3]+Dn.view[1]-$n[1],$n[2],Dn.view[3]+Dn.view[1]-$n[3]],[Math.min(Jt[0],Jt[2]),Math.min(Jt[1],Jt[3]),Math.max(Jt[0],Jt[2]),Math.max(Jt[1],Jt[3])]),or=$n[2]-$n[0],Jr=$n[3]-$n[1],Dr={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!An&&yn.borderStyle.width>0){switch(yn.borderStyle.style){case qn.Dashed:Dr.borderStyle="dashed";break;case qn.Solid:Dr.borderStyle="solid";break;case qn.Underline:Dr=Object.assign({borderBottomStyle:"solid"},Dr);case qn.Beveled:case qn.Inset:}var Or=yn.borderStyle.width;Dr.borderWidth="".concat(Or,"px"),yn.borderStyle.style!==qn.Underline&&(or-=2*Or,Jr-=2*Or);var Ur=yn.borderStyle,Cr=Ur.horizontalCornerRadius,Vr=Ur.verticalCornerRadius;(Cr>0||Vr>0)&&(Dr.borderRadius="".concat(Cr,"px / ").concat(Vr,"px")),yn.color?Dr.borderColor="rgb(".concat(0|yn.color[0],", ").concat(0|yn.color[1],", ").concat(0|yn.color[2],")"):Dr.borderWidth="0"}return bt.createElement(bt.Fragment,null,jn&&bn({popup:{opened:er,closeOnHover:tr,openOnHover:Jn,toggleOnClick:ur},slot:{attrs:{style:Object.assign({height:"".concat(Jr,"px"),left:"".concat(lr[0],"px"),top:"".concat(lr[1],"px"),transform:"matrix(".concat(_n.transform.join(","),")"),transformOrigin:"-".concat(lr[0],"px -").concat(lr[1],"px"),width:"".concat(or,"px")},Dr)},children:bt.createElement(bt.Fragment,null,Rn&&er&&bt.createElement(fr,{annotation:yn}))}}))},vn=function(Gt){var Jt=Gt.annotation,yn=Gt.page,bn=Gt.viewport,An=Jt.hasPopup===!1,Rn=In(Jt),jn=Ln(Jt),Dn=!!(Jt.hasPopup||Rn||jn);return bt.createElement(kr,{annotation:Jt,hasPopup:An,ignoreBorder:!0,isRenderable:Dn,page:yn,viewport:bn},function(_n){return bt.createElement("div",St({},_n.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Jt.id,onClick:_n.popup.toggleOnClick,onMouseEnter:_n.popup.openOnHover,onMouseLeave:_n.popup.closeOnHover}),_n.slot.children)})},Gn=function(Gt){var Jt=Gt.annotation,yn=Gt.page,bn=Gt.viewport,An=Jt.hasPopup===!1,Rn=In(Jt),jn=Ln(Jt),Dn=!!(Jt.hasPopup||Rn||jn),_n=Jt.rect,$n=_n[2]-_n[0],On=_n[3]-_n[1],tr=Jt.borderStyle.width;return bt.createElement(kr,{annotation:Jt,hasPopup:An,ignoreBorder:!0,isRenderable:Dn,page:yn,viewport:bn},function(er){return bt.createElement("div",St({},er.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Jt.id,onClick:er.popup.toggleOnClick,onMouseEnter:er.popup.openOnHover,onMouseLeave:er.popup.closeOnHover}),bt.createElement("svg",{height:"".concat(On,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat($n," ").concat(On),width:"".concat($n,"px")},bt.createElement("circle",{cy:On/2,fill:"none",rx:$n/2-tr/2,ry:On/2-tr/2,stroke:"transparent",strokeWidth:tr||1})),er.slot.children)})},ar=function(Gt){var Jt=Gt.annotation,yn=Gt.page,bn=Gt.viewport,An=In(Jt),Rn=Ln(Jt),jn=!(Jt.hasPopup!==!1||!An&&!Rn),Dn=function(){var _n,$n,On,tr,er=Jt.file;er&&(_n=er.filename,$n=er.content,On=typeof $n=="string"?"":URL.createObjectURL(new Blob([$n],{type:""})),(tr=document.createElement("a")).style.display="none",tr.href=On||_n,tr.setAttribute("download",function(Jn){var ur=Jn.split("/").pop();return ur?ur.split("#")[0].split("?")[0]:Jn}(_n)),document.body.appendChild(tr),tr.click(),document.body.removeChild(tr),On&&URL.revokeObjectURL(On))};return bt.createElement(kr,{annotation:Jt,hasPopup:jn,ignoreBorder:!0,isRenderable:!0,page:yn,viewport:bn},function(_n){return bt.createElement("div",St({},_n.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Jt.id,onClick:_n.popup.toggleOnClick,onDoubleClick:Dn,onMouseEnter:_n.popup.openOnHover,onMouseLeave:_n.popup.closeOnHover}),_n.slot.children)})},yr=function(Gt){var Jt=Gt.annotation,yn=Gt.page,bn=Gt.viewport,An=Jt.hasPopup===!1,Rn=In(Jt),jn=Ln(Jt),Dn=!!(Jt.hasPopup||Rn||jn);return bt.createElement(kr,{annotation:Jt,hasPopup:An,ignoreBorder:!0,isRenderable:Dn,page:yn,viewport:bn},function(_n){return bt.createElement("div",St({},_n.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Jt.id,onClick:_n.popup.toggleOnClick,onMouseEnter:_n.popup.openOnHover,onMouseLeave:_n.popup.closeOnHover}),_n.slot.children)})},Er=function(Gt){var Jt=Gt.annotation,yn=Gt.page,bn=Gt.viewport,An=In(Jt),Rn=Ln(Jt),jn=!(!An&&!Rn),Dn=!Jt.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Jt.parentType)!==-1;return Mt(function(){if(Jt.parentId){var _n=document.querySelector('[data-annotation-id="'.concat(Jt.parentId,'"]')),$n=document.querySelector('[data-annotation-id="'.concat(Jt.id,'"]'));if(_n&&$n){var On=parseFloat(_n.style.left),tr=parseFloat(_n.style.top)+parseFloat(_n.style.height);$n.style.left="".concat(On,"px"),$n.style.top="".concat(tr,"px"),$n.style.transformOrigin="-".concat(On,"px -").concat(tr,"px")}}},[]),bt.createElement(kr,{annotation:Jt,hasPopup:Dn,ignoreBorder:!1,isRenderable:jn,page:yn,viewport:bn},function(_n){return bt.createElement("div",St({},_n.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Jt.id}),bt.createElement(fr,{annotation:Jt}))})},hr=function(Gt){var Jt=Gt.annotation,yn=Gt.childAnnotation,bn=Gt.page,An=Gt.viewport,Rn=Jt.hasPopup===!1,jn=In(Jt),Dn=Ln(Jt),_n=!!(Jt.hasPopup||jn||Dn);if(Jt.quadPoints&&Jt.quadPoints.length>0){var $n=Jt.quadPoints.map(function(On){return Object.assign({},Jt,{rect:[On[2].x,On[2].y,On[1].x,On[1].y],quadPoints:[]})});return bt.createElement(bt.Fragment,null,$n.map(function(On,tr){return bt.createElement(hr,{key:tr,annotation:On,childAnnotation:yn,page:bn,viewport:An})}))}return bt.createElement(kr,{annotation:Jt,hasPopup:Rn,ignoreBorder:!0,isRenderable:_n,page:bn,viewport:An},function(On){return bt.createElement(bt.Fragment,null,bt.createElement("div",St({},On.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Jt.id,onClick:On.popup.toggleOnClick,onMouseEnter:On.popup.openOnHover,onMouseLeave:On.popup.closeOnHover}),On.slot.children),yn&&yn.annotationType===_e.AnnotationType.Popup&&On.popup.opened&&bt.createElement(Er,{annotation:yn,page:bn,viewport:An}))})},pn=function(Gt){var Jt=Gt.annotation,yn=Gt.page,bn=Gt.viewport,An=Jt.hasPopup===!1,Rn=In(Jt),jn=Ln(Jt),Dn=!!(Jt.hasPopup||Rn||jn),_n=Jt.rect,$n=_n[2]-_n[0],On=_n[3]-_n[1],tr=Jt.borderStyle.width;return bt.createElement(kr,{annotation:Jt,hasPopup:An,ignoreBorder:!0,isRenderable:Dn,page:yn,viewport:bn},function(er){return bt.createElement("div",St({},er.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Jt.id,onClick:er.popup.toggleOnClick,onMouseEnter:er.popup.openOnHover,onMouseLeave:er.popup.closeOnHover}),Jt.inkLists&&Jt.inkLists.length&&bt.createElement("svg",{height:"".concat(On,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat($n," ").concat(On),width:"".concat($n,"px")},Jt.inkLists.map(function(Jn,ur){return bt.createElement("polyline",{key:ur,fill:"none",stroke:"transparent",strokeWidth:tr||1,points:Jn.map(function(lr){return"".concat(lr.x-_n[0],",").concat(_n[3]-lr.y)}).join(" ")})})),er.slot.children)})},cn=function(Gt){var Jt=Gt.annotation,yn=Gt.page,bn=Gt.viewport,An=Jt.hasPopup===!1,Rn=In(Jt),jn=Ln(Jt),Dn=!!(Jt.hasPopup||Rn||jn),_n=Jt.rect,$n=_n[2]-_n[0],On=_n[3]-_n[1],tr=Jt.borderStyle.width;return bt.createElement(kr,{annotation:Jt,hasPopup:An,ignoreBorder:!0,isRenderable:Dn,page:yn,viewport:bn},function(er){return bt.createElement("div",St({},er.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Jt.id,onClick:er.popup.toggleOnClick,onMouseEnter:er.popup.openOnHover,onMouseLeave:er.popup.closeOnHover}),bt.createElement("svg",{height:"".concat(On,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat($n," ").concat(On),width:"".concat($n,"px")},bt.createElement("line",{stroke:"transparent",strokeWidth:tr||1,x1:_n[2]-Jt.lineCoordinates[0],x2:_n[2]-Jt.lineCoordinates[2],y1:_n[3]-Jt.lineCoordinates[1],y2:_n[3]-Jt.lineCoordinates[3]})),er.slot.children)})},Cn=/^([^\w]*)(javascript|data|vbscript)/im,Bn=/&#(\w+)(^\w|;)?/g,zn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Zn=/^([^:]+):/gm,nr=function(Gt,Jt){var yn,bn=(yn=Gt||"",yn.replace(Bn,function(Dn,_n){return String.fromCharCode(_n)})).replace(zn,"").trim();if(!bn)return Jt;var An=bn[0];if(An==="."||An==="/")return bn;var Rn=bn.match(Zn);if(!Rn)return bn;var jn=Rn[0];return Cn.test(jn)?Jt:bn},xr=function(Gt){var Jt,yn=Gt.annotation,bn=Gt.annotationContainerRef,An=Gt.doc,Rn=Gt.outlines,jn=Gt.page,Dn=Gt.pageIndex,_n=Gt.scale,$n=Gt.viewport,On=Gt.onExecuteNamedAction,tr=Gt.onJumpFromLinkAnnotation,er=Gt.onJumpToDest,Jn=bt.useRef(),ur=Rn&&Rn.length&&yn.dest&&typeof yn.dest=="string"?(Jt=Rn.find(function(Dr){return Dr.dest===yn.dest}))===null||Jt===void 0?void 0:Jt.title:"",lr=!!(yn.url||yn.dest||yn.action||yn.unsafeUrl),or={};if(yn.url||yn.unsafeUrl){var Jr=nr(yn.url||yn.unsafeUrl,"");Jr?or={"data-target":"external",href:Jr,rel:"noopener noreferrer nofollow",target:yn.newWindow?"_blank":"",title:Jr}:lr=!1}else or={href:"","data-annotation-link":yn.id,onClick:function(Dr){Dr.preventDefault(),yn.action?On(yn.action):gr(An,yn.dest).then(function(Or){var Ur=Jn.current,Cr=bn.current;if(Ur&&Cr){var Vr=Ur.getBoundingClientRect();Cr.style.setProperty("height","100%"),Cr.style.setProperty("width","100%");var jr=Cr.getBoundingClientRect();Cr.style.removeProperty("height"),Cr.style.removeProperty("width");var as=(Vr.left-jr.left)/_n,is=(jr.bottom-Vr.bottom+Vr.height)/_n;tr({bottomOffset:is,label:ur,leftOffset:as,pageIndex:Dn})}er(Or)})}};return ur&&(or=Object.assign({},or,{title:ur,"aria-label":ur})),bt.createElement(kr,{annotation:yn,hasPopup:!1,ignoreBorder:!1,isRenderable:lr,page:jn,viewport:$n},function(Dr){return bt.createElement("div",St({},Dr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":yn.id,"data-testid":"core__annotation--link-".concat(yn.id)}),bt.createElement("a",St({ref:Jn},or)))})},pr=function(Gt){var Jt=Gt.annotation,yn=Gt.page,bn=Gt.viewport,An=Jt.hasPopup===!1,Rn=In(Jt),jn=Ln(Jt),Dn=!!(Jt.hasPopup||Rn||jn),_n=Jt.rect,$n=_n[2]-_n[0],On=_n[3]-_n[1],tr=Jt.borderStyle.width;return bt.createElement(kr,{annotation:Jt,hasPopup:An,ignoreBorder:!0,isRenderable:Dn,page:yn,viewport:bn},function(er){return bt.createElement("div",St({},er.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Jt.id,onClick:er.popup.toggleOnClick,onMouseEnter:er.popup.openOnHover,onMouseLeave:er.popup.closeOnHover}),Jt.vertices&&Jt.vertices.length&&bt.createElement("svg",{height:"".concat(On,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat($n," ").concat(On),width:"".concat($n,"px")},bt.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:tr||1,points:Jt.vertices.map(function(Jn){return"".concat(Jn.x-_n[0],",").concat(_n[3]-Jn.y)}).join(" ")})),er.slot.children)})},cr=function(Gt){var Jt=Gt.annotation,yn=Gt.page,bn=Gt.viewport,An=Jt.hasPopup===!1,Rn=In(Jt),jn=Ln(Jt),Dn=!!(Jt.hasPopup||Rn||jn),_n=Jt.rect,$n=_n[2]-_n[0],On=_n[3]-_n[1],tr=Jt.borderStyle.width;return bt.createElement(kr,{annotation:Jt,hasPopup:An,ignoreBorder:!0,isRenderable:Dn,page:yn,viewport:bn},function(er){return bt.createElement("div",St({},er.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Jt.id,onClick:er.popup.toggleOnClick,onMouseEnter:er.popup.openOnHover,onMouseLeave:er.popup.closeOnHover}),Jt.vertices&&Jt.vertices.length&&bt.createElement("svg",{height:"".concat(On,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat($n," ").concat(On),width:"".concat($n,"px")},bt.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:tr||1,points:Jt.vertices.map(function(Jn){return"".concat(Jn.x-_n[0],",").concat(_n[3]-Jn.y)}).join(" ")})),er.slot.children)})},Hr=function(Gt){var Jt=Gt.annotation,yn=Gt.page,bn=Gt.viewport,An=Jt.hasPopup===!1,Rn=In(Jt),jn=Ln(Jt),Dn=!!(Jt.hasPopup||Rn||jn),_n=Jt.rect,$n=_n[2]-_n[0],On=_n[3]-_n[1],tr=Jt.borderStyle.width;return bt.createElement(kr,{annotation:Jt,hasPopup:An,ignoreBorder:!0,isRenderable:Dn,page:yn,viewport:bn},function(er){return bt.createElement("div",St({},er.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Jt.id,onClick:er.popup.toggleOnClick,onMouseEnter:er.popup.openOnHover,onMouseLeave:er.popup.closeOnHover}),bt.createElement("svg",{height:"".concat(On,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat($n," ").concat(On),width:"".concat($n,"px")},bt.createElement("rect",{height:On-tr,fill:"none",stroke:"transparent",strokeWidth:tr||1,x:tr/2,y:tr/2,width:$n-tr})),er.slot.children)})},mr=function(Gt){var Jt=Gt.annotation,yn=Gt.page,bn=Gt.viewport,An=Jt.hasPopup===!1,Rn=In(Jt),jn=Ln(Jt),Dn=!!(Jt.hasPopup||Rn||jn);return bt.createElement(kr,{annotation:Jt,hasPopup:An,ignoreBorder:!0,isRenderable:Dn,page:yn,viewport:bn},function(_n){return bt.createElement("div",St({},_n.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Jt.id,onClick:_n.popup.toggleOnClick,onMouseEnter:_n.popup.openOnHover,onMouseLeave:_n.popup.closeOnHover}),_n.slot.children)})},_r=function(Gt){var Jt=Gt.annotation,yn=Gt.page,bn=Gt.viewport,An=Jt.hasPopup===!1,Rn=In(Jt),jn=Ln(Jt),Dn=!!(Jt.hasPopup||Rn||jn);return bt.createElement(kr,{annotation:Jt,hasPopup:An,ignoreBorder:!0,isRenderable:Dn,page:yn,viewport:bn},function(_n){return bt.createElement("div",St({},_n.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Jt.id,onClick:_n.popup.toggleOnClick,onMouseEnter:_n.popup.openOnHover,onMouseLeave:_n.popup.closeOnHover}),_n.slot.children)})},Ir=function(Gt){var Jt=Gt.annotation,yn=Gt.page,bn=Gt.viewport,An=Jt.hasPopup===!1,Rn=In(Jt),jn=Ln(Jt),Dn=!!(Jt.hasPopup||Rn||jn);return bt.createElement(kr,{annotation:Jt,hasPopup:An,ignoreBorder:!0,isRenderable:Dn,page:yn,viewport:bn},function(_n){return bt.createElement("div",St({},_n.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Jt.id,onClick:_n.popup.toggleOnClick,onMouseEnter:_n.popup.openOnHover,onMouseLeave:_n.popup.closeOnHover}),_n.slot.children)})},Xr=function(){return bt.createElement(Ot,{size:16},bt.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),bt.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),bt.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),bt.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},es=function(){return bt.createElement(Ot,{size:16},bt.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),bt.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),bt.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),bt.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),bt.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),bt.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),bt.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),bt.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),bt.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),bt.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},hs=function(){return bt.createElement(Ot,{size:16},bt.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),bt.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Bs=function(){return bt.createElement(Ot,{size:16},bt.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),bt.createElement("path",{d:"M6 4.5L6 0.5"}),bt.createElement("path",{d:"M18 4.5L18 0.5"}),bt.createElement("path",{d:"M10 4.5L10 0.5"}),bt.createElement("path",{d:"M14 4.5L14 0.5"}))},ks=function(){return bt.createElement(Ot,{size:16},bt.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),bt.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),bt.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Bo=function(){return bt.createElement(Ot,{size:16},bt.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},na=function(Gt){var Jt=Gt.annotation,yn=Gt.childAnnotation,bn=Gt.page,An=Gt.viewport,Rn=Jt.hasPopup===!1,jn=In(Jt),Dn=Ln(Jt),_n=!!(Jt.hasPopup||jn||Dn),$n=Jt.name?Jt.name.toLowerCase():"";return bt.createElement(kr,{annotation:Jt,hasPopup:Rn,ignoreBorder:!1,isRenderable:_n,page:bn,viewport:An},function(On){return bt.createElement(bt.Fragment,null,bt.createElement("div",St({},On.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Jt.id,onClick:On.popup.toggleOnClick,onMouseEnter:On.popup.openOnHover,onMouseLeave:On.popup.closeOnHover}),$n&&bt.createElement("div",{className:"rpv-core__annotation-text-icon"},$n==="check"&&bt.createElement(Ft,null),$n==="comment"&&bt.createElement(Xr,null),$n==="help"&&bt.createElement(es,null),$n==="insert"&&bt.createElement(Bo,null),$n==="key"&&bt.createElement(hs,null),$n==="note"&&bt.createElement(Bs,null),($n==="newparagraph"||$n==="paragraph")&&bt.createElement(ks,null)),On.slot.children),yn&&yn.annotationType===_e.AnnotationType.Popup&&On.popup.opened&&bt.createElement(Er,{annotation:yn,page:bn,viewport:An}))})},ga=function(Gt){var Jt=Gt.annotation,yn=Gt.page,bn=Gt.viewport,An=Jt.hasPopup===!1,Rn=In(Jt),jn=Ln(Jt),Dn=!!(Jt.hasPopup||Rn||jn);return bt.createElement(kr,{annotation:Jt,hasPopup:An,ignoreBorder:!0,isRenderable:Dn,page:yn,viewport:bn},function(_n){return bt.createElement("div",St({},_n.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Jt.id,onClick:_n.popup.toggleOnClick,onMouseEnter:_n.popup.openOnHover,onMouseLeave:_n.popup.closeOnHover}),_n.slot.children)})},ny=function(Gt){var Jt=Gt.annotations,yn=Gt.doc,bn=Gt.outlines,An=Gt.page,Rn=Gt.pageIndex,jn=Gt.plugins,Dn=Gt.rotation,_n=Gt.scale,$n=Gt.onExecuteNamedAction,On=Gt.onJumpFromLinkAnnotation,tr=Gt.onJumpToDest,er=bt.useRef(),Jn=An.getViewport({rotation:Dn,scale:_n}).clone({dontFlip:!0}),ur=Jt.filter(function(lr){return!lr.parentId});return Mt(function(){var lr=er.current;lr&&jn.forEach(function(or){or.onAnnotationLayerRender&&or.onAnnotationLayerRender({annotations:ur,container:lr,pageIndex:Rn,rotation:Dn,scale:_n})})},[]),bt.createElement("div",{ref:er,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Rn)},ur.map(function(lr){var or=Jt.find(function(Jr){return Jr.parentId===lr.id});switch(lr.annotationType){case _e.AnnotationType.Caret:return bt.createElement(vn,{key:lr.id,annotation:lr,page:An,viewport:Jn});case _e.AnnotationType.Circle:return bt.createElement(Gn,{key:lr.id,annotation:lr,page:An,viewport:Jn});case _e.AnnotationType.FileAttachment:return bt.createElement(ar,{key:lr.id,annotation:lr,page:An,viewport:Jn});case _e.AnnotationType.FreeText:return bt.createElement(yr,{key:lr.id,annotation:lr,page:An,viewport:Jn});case _e.AnnotationType.Highlight:return bt.createElement(hr,{key:lr.id,annotation:lr,childAnnotation:or,page:An,viewport:Jn});case _e.AnnotationType.Ink:return bt.createElement(pn,{key:lr.id,annotation:lr,page:An,viewport:Jn});case _e.AnnotationType.Line:return bt.createElement(cn,{key:lr.id,annotation:lr,page:An,viewport:Jn});case _e.AnnotationType.Link:return bt.createElement(xr,{key:lr.id,annotation:lr,annotationContainerRef:er,doc:yn,outlines:bn,page:An,pageIndex:Rn,scale:_n,viewport:Jn,onExecuteNamedAction:$n,onJumpFromLinkAnnotation:On,onJumpToDest:tr});case _e.AnnotationType.Polygon:return bt.createElement(pr,{key:lr.id,annotation:lr,page:An,viewport:Jn});case _e.AnnotationType.Polyline:return bt.createElement(cr,{key:lr.id,annotation:lr,page:An,viewport:Jn});case _e.AnnotationType.Popup:return bt.createElement(Er,{key:lr.id,annotation:lr,page:An,viewport:Jn});case _e.AnnotationType.Square:return bt.createElement(Hr,{key:lr.id,annotation:lr,page:An,viewport:Jn});case _e.AnnotationType.Squiggly:return bt.createElement(mr,{key:lr.id,annotation:lr,page:An,viewport:Jn});case _e.AnnotationType.Stamp:return bt.createElement(_r,{key:lr.id,annotation:lr,page:An,viewport:Jn});case _e.AnnotationType.StrikeOut:return bt.createElement(Ir,{key:lr.id,annotation:lr,page:An,viewport:Jn});case _e.AnnotationType.Text:return bt.createElement(na,{key:lr.id,annotation:lr,childAnnotation:or,page:An,viewport:Jn});case _e.AnnotationType.Underline:return bt.createElement(ga,{key:lr.id,annotation:lr,page:An,viewport:Jn});default:return bt.createElement(bt.Fragment,{key:lr.id})}}))},Sw=function(Gt){var Jt=Gt.page,yn=Gt.renderAnnotations,bn=un(),An=bt.useState({loading:!0,annotations:[]}),Rn=An[0],jn=An[1];return bt.useEffect(function(){Jt.getAnnotations({intent:"display"}).then(function(Dn){bn.current&&jn({loading:!1,annotations:Dn})})},[]),Rn.loading?bt.createElement(bt.Fragment,null):yn(Rn.annotations)},Cw=function(Gt){var Jt=Gt.doc,yn=Gt.outlines,bn=Gt.page,An=Gt.pageIndex,Rn=Gt.plugins,jn=Gt.rotation,Dn=Gt.scale,_n=Gt.onExecuteNamedAction,$n=Gt.onJumpFromLinkAnnotation,On=Gt.onJumpToDest;return bt.createElement(Sw,{page:bn,renderAnnotations:function(tr){return bt.createElement(ny,{annotations:tr,doc:Jt,outlines:yn,page:bn,pageIndex:An,plugins:Rn,rotation:jn,scale:Dn,onExecuteNamedAction:_n,onJumpFromLinkAnnotation:$n,onJumpToDest:On})}})},ry=function(Gt,Jt){var yn=Gt%Jt;return yn===0?Gt:Math.floor(Gt-yn)},Rw=function(Gt){var Jt=Gt.canvasLayerRef,yn=Gt.height,bn=Gt.page,An=Gt.pageIndex,Rn=Gt.plugins,jn=Gt.rotation,Dn=Gt.scale,_n=Gt.width,$n=Gt.onRenderCanvasCompleted,On=bt.useRef();return Mt(function(){var tr=On.current;tr&&tr.cancel();var er=Jt.current;er.removeAttribute("data-testid"),Rn.forEach(function(jr){jr.onCanvasLayerRender&&jr.onCanvasLayerRender({ele:er,pageIndex:An,rotation:jn,scale:Dn,status:_e.LayerRenderStatus.PreRender})});var Jn=bn.getViewport({rotation:jn,scale:Dn}),ur=window.devicePixelRatio||1,lr=Math.sqrt(16777216/(Jn.width*Jn.height)),or=ur>lr;or?er.style.transform="scale(1, 1)":er.style.removeProperty("transform");var Jr=Math.min(lr,ur),Dr=function(jr,as){var is,ls;if(Math.floor(jr)===jr)return[jr,1];var us=1/jr;if(us>as)return[1,as];if(Math.floor(us)===us)return[1,us];for(var fs=jr>1?us:jr,Os=0,Ss=1,Ns=1,Ms=1;;){var Ls=Os+Ns,Ds=Ss+Ms;if(Ds>as)break;fs<=Ls/Ds?(Ns=(is=[Ls,Ds])[0],Ms=is[1]):(Os=(ls=[Ls,Ds])[0],Ss=ls[1])}return fs<(Os/Ss+Ns/Ms)/2?fs===jr?[Os,Ss]:[Ss,Os]:fs===jr?[Ns,Ms]:[Ms,Ns]}(Jr,8),Or=Dr[0],Ur=Dr[1];er.width=ry(Jn.width*Jr,Or),er.height=ry(Jn.height*Jr,Or),er.style.width="".concat(ry(Jn.width,Ur),"px"),er.style.height="".concat(ry(Jn.height,Ur),"px"),er.hidden=!0;var Cr=er.getContext("2d",{alpha:!1}),Vr=or||ur!==1?[Jr,0,0,Jr,0,0]:null;return On.current=bn.render({canvasContext:Cr,transform:Vr,viewport:Jn}),On.current.promise.then(function(){er.hidden=!1,er.setAttribute("data-testid","core__canvas-layer-".concat(An)),Rn.forEach(function(jr){jr.onCanvasLayerRender&&jr.onCanvasLayerRender({ele:er,pageIndex:An,rotation:jn,scale:Dn,status:_e.LayerRenderStatus.DidRender})}),$n()},function(){$n()}),function(){er&&(er.width=0,er.height=0)}},[]),bt.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(yn,"px"),width:"".concat(_n,"px")}},bt.createElement("canvas",{ref:Jt}))},Tw=function(Gt){var Jt=Gt.height,yn=Gt.page,bn=Gt.rotation,An=Gt.scale,Rn=Gt.width,jn=bt.useRef();return Mt(function(){var Dn=jn.current,_n=yn.getViewport({rotation:bn,scale:An});yn.getOperatorList().then(function($n){(function(){var On=jn.current;On&&(On.innerHTML="")})(),new Et.SVGGraphics(yn.commonObjs,yn.objs).getSVG($n,_n).then(function(On){On.style.height="".concat(Jt,"px"),On.style.width="".concat(Rn,"px"),Dn.appendChild(On)})})},[]),bt.createElement("div",{className:"rpv-core__svg-layer",ref:jn})},Pw=function(Gt){var Jt=Gt.containerRef,yn=Gt.page,bn=Gt.pageIndex,An=Gt.plugins,Rn=Gt.rotation,jn=Gt.scale,Dn=Gt.onRenderTextCompleted,_n=bt.useRef(),$n=function(){var On=Jt.current;On&&([].slice.call(On.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(tr){return On.removeChild(tr)}),[].slice.call(On.querySelectorAll('br[role="presentation"]')).forEach(function(tr){return On.removeChild(tr)}))};return Mt(function(){var On=_n.current;On&&On.cancel();var tr=Jt.current;if(tr){tr.removeAttribute("data-testid");var er=yn.getViewport({rotation:Rn,scale:jn});return An.forEach(function(Jn){Jn.onTextLayerRender&&Jn.onTextLayerRender({ele:tr,pageIndex:bn,scale:jn,status:_e.LayerRenderStatus.PreRender})}),yn.getTextContent().then(function(Jn){$n(),_n.current=Et.renderTextLayer({container:tr,textContent:Jn,textContentSource:Jn,viewport:er}),_n.current.promise.then(function(){tr.setAttribute("data-testid","core__text-layer-".concat(bn)),[].slice.call(tr.children).forEach(function(ur){ur.classList.contains("rpv-core__text-layer-text--not")||ur.classList.add("rpv-core__text-layer-text")}),An.forEach(function(ur){ur.onTextLayerRender&&ur.onTextLayerRender({ele:tr,pageIndex:bn,scale:jn,status:_e.LayerRenderStatus.DidRender})}),Dn()},function(){tr.removeAttribute("data-testid"),Dn()})}),function(){var Jn;$n(),(Jn=_n.current)===null||Jn===void 0||Jn.cancel()}}},[]),bt.createElement("div",{className:"rpv-core__text-layer",ref:Jt})},kw=function(Gt){var Jt=Gt.doc,yn=Gt.measureRef,bn=Gt.outlines,An=Gt.pageIndex,Rn=Gt.pageRotation,jn=Gt.pageSize,Dn=Gt.plugins,_n=Gt.renderPage,$n=Gt.renderQueueKey,On=Gt.rotation,tr=Gt.scale,er=Gt.shouldRender,Jn=Gt.viewMode,ur=Gt.onExecuteNamedAction,lr=Gt.onJumpFromLinkAnnotation,or=Gt.onJumpToDest,Jr=Gt.onRenderCompleted,Dr=Gt.onRotatePage,Or=un(),Ur=bt.useState(null),Cr=Ur[0],Vr=Ur[1],jr=bt.useState(!1),as=jr[0],is=jr[1],ls=bt.useState(!1),us=ls[0],fs=ls[1],Os=bt.useRef(),Ss=bt.useRef(),Ns=Math.abs(On+Rn)%180==0,Ms=jn.pageWidth*tr,Ls=jn.pageHeight*tr,Ds=Ns?Ms:Ls,Fs=Ns?Ls:Ms,Js=(jn.rotation+On+Rn)%360,xa=bt.useRef(0),Ho=_n||function(Ws){return bt.createElement(bt.Fragment,null,Ws.canvasLayer.children,Ws.textLayer.children,Ws.annotationLayer.children)};return bt.useEffect(function(){Vr(null),is(!1),fs(!1)},[Rn,On,tr]),bt.useEffect(function(){er&&Or.current&&!Cr&&dr(Jt,An).then(function(Ws){Or.current&&(xa.current=$n,Vr(Ws))})},[er,Cr]),bt.useEffect(function(){as&&us&&($n!==xa.current?(Vr(null),is(!1),fs(!1)):Jr(An))},[as,us]),bt.createElement("div",{className:kt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":Jn===_e.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":Jn===_e.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":Jn===_e.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(An),ref:yn,style:{height:"".concat(Fs,"px"),width:"".concat(Ds,"px")}},Cr?bt.createElement(bt.Fragment,null,Ho({annotationLayer:{attrs:{},children:bt.createElement(Cw,{doc:Jt,outlines:bn,page:Cr,pageIndex:An,plugins:Dn,rotation:Js,scale:tr,onExecuteNamedAction:ur,onJumpFromLinkAnnotation:lr,onJumpToDest:or})},canvasLayer:{attrs:{},children:bt.createElement(Rw,{canvasLayerRef:Os,height:Fs,page:Cr,pageIndex:An,plugins:Dn,rotation:Js,scale:tr,width:Ds,onRenderCanvasCompleted:function(){Or.current&&is(!0)}})},canvasLayerRendered:as,doc:Jt,height:Fs,pageIndex:An,rotation:Js,scale:tr,svgLayer:{attrs:{},children:bt.createElement(Tw,{height:Fs,page:Cr,rotation:Js,scale:tr,width:Ds})},textLayer:{attrs:{},children:bt.createElement(Pw,{containerRef:Ss,page:Cr,pageIndex:An,plugins:Dn,rotation:Js,scale:tr,onRenderTextCompleted:function(){Or.current&&fs(!0)}})},textLayerRendered:us,width:Ds,markRendered:Jr,onRotatePage:function(Ws){return Dr(An,Ws)}}),Dn.map(function(Ws,yo){return Ws.renderPageLayer?bt.createElement(bt.Fragment,{key:yo},Ws.renderPageLayer({canvasLayerRef:Os,canvasLayerRendered:as,doc:Jt,height:Fs,pageIndex:An,rotation:Js,scale:tr,textLayerRef:Ss,textLayerRendered:us,width:Ds})):bt.createElement(bt.Fragment,{key:yo})})):bt.createElement($t,{testId:"core__page-layer-loading-".concat(An)}))},Mw=function(Gt,Jt){var yn=Jt.rect;return Gt.height!==yn.height||Gt.width!==yn.width?yn:Gt};(function(Gt){Gt.Horizontal="Horizontal",Gt.Vertical="Vertical",Gt.Both="Both"})(vr||(vr={}));var Fw=function(Gt){return 1-Math.pow(1-Gt,4)},iy=1e-4,s1={left:0,top:0},o1={capture:!1,passive:!0},Lw=function(Gt){var Jt=Gt.elementRef,yn=Gt.enableSmoothScroll,bn=Gt.isRtl,An=Gt.scrollDirection,Rn=Gt.onSmoothScroll,jn=bt.useState(s1),Dn=jn[0],_n=jn[1],$n=bt.useState(Jt.current),On=$n[0],tr=$n[1],er=bn?-1:1,Jn=bt.useRef(An);Jn.current=An;var ur=bt.useRef(s1),lr=bt.useRef(!0),or=bt.useCallback(function(){lr.current=!0,yn&&_n(ur.current),Rn(!1)},[]),Jr=bt.useCallback(function(){if(On){switch(Jn.current){case vr.Horizontal:ur.current={left:er*On.scrollLeft,top:0};break;case vr.Both:ur.current={left:er*On.scrollLeft,top:On.scrollTop};break;case vr.Vertical:default:ur.current={left:0,top:On.scrollTop}}yn&&!lr.current||_n(ur.current)}},[On]);Mt(function(){tr(Jt.current)}),Mt(function(){if(On)return On.addEventListener("scroll",Jr,o1),function(){On.removeEventListener("scroll",Jr,o1)}},[On]);var Dr=bt.useCallback(function(Or,Ur){var Cr=Jt.current;if(!Cr)return Promise.resolve();var Vr={left:0,top:0};switch(Jn.current){case vr.Horizontal:Vr.left=er*Or.left;break;case vr.Both:Vr.left=er*Or.left,Vr.top=Or.top;break;case vr.Vertical:default:Vr.top=Or.top}return Ur?(lr.current=!1,Rn(!0),new Promise(function(jr,as){(function(is,ls,us,fs,Os,Ss){Os===void 0&&(Os=function(yo){return yo}),Ss===void 0&&(Ss=function(){});var Ns=0,Ms=0,Ls=!1;switch(ls){case vr.Horizontal:Ms=is.scrollLeft,Ns=0;case vr.Both:Ms=is.scrollLeft,Ns=is.scrollTop;break;case vr.Vertical:default:Ms=0,Ns=is.scrollTop}var Ds=function(){Ls||(Ls=!0,is.scrollLeft=us.left,is.scrollTop=us.top,Ss())};if(Math.abs(Ns-us.top)<=iy&&ls===vr.Vertical)Ds();else if(Math.abs(Ms-us.left)<=iy&&ls===vr.Horizontal)Ds();else{var Fs,Js=-1,xa=Ms-us.left,Ho=Ns-us.top,Ws=function(yo){Js===-1&&(Js=yo);var Il=yo-Js,Br=Math.min(Il/fs,1),Nr=Os(Br),Rr={left:Ms-xa*Nr,top:Ns-Ho*Nr};switch(ls){case vr.Horizontal:is.scrollLeft=Rr.left;break;case vr.Both:is.scrollLeft=Rr.left,is.scrollTop=Rr.top;break;case vr.Vertical:default:is.scrollTop=Rr.top}Math.abs(Rr.top-us.top)<=iy&&Math.abs(Rr.left-us.left)<=iy&&!Ls&&(window.cancelAnimationFrame(Fs),Ds()),Il<fs?Fs=window.requestAnimationFrame(Ws):window.cancelAnimationFrame(Fs)};Fs=window.requestAnimationFrame(Ws)}})(Cr,Jn.current,Vr,400,Fw,function(){or(),jr()})})):new Promise(function(jr,as){switch(Jn.current){case vr.Horizontal:Cr.scrollLeft=Vr.left;break;case vr.Both:Cr.scrollLeft=Vr.left,Cr.scrollTop=Vr.top;break;case vr.Vertical:default:Cr.scrollTop=Vr.top}jr()})},[Jt]);return{scrollOffset:Dn,scrollTo:Dr}},e0=function(Gt,Jt,yn){return Math.max(Gt,Math.min(yn,Jt))},Dw=function(Gt,Jt){if(Jt!==_e.ViewMode.DualPageWithCover)return 0;if(!function(An){var Rn=An.length;if(Rn===1)return!1;for(var jn=1;jn<Rn;jn++)if(An[jn].height!==An[0].height||An[jn].width!==An[0].width)return!0;return!1}(Gt))return 2*Gt[0].width;var yn=kn(Gt.slice(1),2).map(function(An){return An.length===2?An[0].width+An[1].width:An[0].width}),bn=[Gt[0].width].concat(yn);return Math.max.apply(Math,bn)},Iw={left:0,top:0},Ow={left:0,top:0},fx={left:0,top:0},$w={left:0,top:0},Nw={height:0,width:0},a1={left:0,top:0},l1="data-virtual-index",jw=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Bw=function(Gt){var Jt=Gt.enableSmoothScroll,yn=Gt.isRtl,bn=Gt.numberOfItems,An=Gt.parentRef,Rn=Gt.setRenderRange,jn=Gt.sizes,Dn=Gt.scrollMode,_n=Gt.viewMode,$n=bt.useState(!1),On=$n[0],tr=$n[1],er=bt.useCallback(function(Br){return tr(Br)},[]),Jn=bt.useRef(Dn);Jn.current=Dn;var ur=bt.useRef(_n);ur.current=_n;var lr=Dn===_e.ScrollMode.Wrapped||_n===_e.ViewMode.DualPageWithCover||_n===_e.ViewMode.DualPage?vr.Both:Dn===_e.ScrollMode.Horizontal?vr.Horizontal:vr.Vertical,or=Lw({elementRef:An,enableSmoothScroll:Jt,isRtl:yn,scrollDirection:lr,onSmoothScroll:er}),Jr=or.scrollOffset,Dr=or.scrollTo,Or=function(Br){var Nr=Br.elementRef,Rr=bt.useState(Nr.current),Mr=Rr[0],Tr=Rr[1],Gr=bt.useRef(!1),qr=bt.useReducer(Mw,{height:0,width:0}),Fr=qr[0],br=qr[1];return Mt(function(){Nr.current!==Mr&&Tr(Nr.current)}),Mt(function(){if(Mr&&!Gr.current){Gr.current=!0;var Zr=Mr.getBoundingClientRect(),_i=Zr.height,Es=Zr.width;br({rect:{height:_i,width:Es}})}},[Mr]),bt.useEffect(function(){if(Mr){var Zr=new ResizeObserver(function(_i,Es){_i.forEach(function(ys){if(ys.target===Mr){var Ks=ys.contentRect,wo=Ks.height,Qr=Ks.width;br({rect:{height:wo,width:Qr}})}})});return Zr.observe(Mr),function(){Zr.unobserve(Mr)}}},[Mr]),Fr}({elementRef:An}),Ur=bt.useRef({scrollOffset:a1,measurements:[]});Ur.current.scrollOffset=Jr;var Cr=bt.useMemo(function(){return Array(bn).fill(-1)},[]),Vr=bt.useState(Cr),jr=Vr[0],as=Vr[1],is=bt.useMemo(function(){var Br=new IntersectionObserver(function(Nr){Nr.forEach(function(Rr){var Mr=Rr.isIntersecting?Rr.intersectionRatio:-1,Tr=Rr.target.getAttribute(l1);if(Tr){var Gr=parseInt(Tr,10);0<=Gr&&Gr<bn&&as(function(qr){return qr[Gr]=Mr,function(Fr,br,Zr){for(var _i,Es=0,ys=br.length;Es<ys;Es++)!_i&&Es in br||(_i||(_i=Array.prototype.slice.call(br,0,Es)),_i[Es]=br[Es]);return Fr.concat(_i||Array.prototype.slice.call(br))}([],qr)})}})},{threshold:jw});return Br},[]),ls=bt.useMemo(function(){return Dn===_e.ScrollMode.Page&&_n===_e.ViewMode.SinglePage?function(Br,Nr,Rr){for(var Mr=[],Tr=0;Tr<Br;Tr++){var Gr={height:Math.max(Nr.height,Rr[Tr].height),width:Math.max(Nr.width,Rr[Tr].width)},qr=Tr===0?$w:Mr[Tr-1].end,Fr={left:qr.left+Gr.width,top:qr.top+Gr.height};Mr[Tr]={index:Tr,start:qr,size:Gr,end:Fr,visibility:-1}}return Mr}(bn,Or,jn):_n===_e.ViewMode.DualPageWithCover?function(Br,Nr,Rr,Mr){for(var Tr=[],Gr=0,qr=0,Fr=fx,br=0;br<Br;br++){var Zr=br===0?{height:Mr===_e.ScrollMode.Page?Math.max(Nr.height,Rr[br].height):Rr[br].height,width:Mr===_e.ScrollMode.Page?Math.max(Nr.width,Rr[br].width):Rr[br].width}:{height:Mr===_e.ScrollMode.Page?Math.max(Nr.height,Rr[br].height):Rr[br].height,width:Math.max(Nr.width/2,Rr[br].width)};Mr===_e.ScrollMode.Page?Fr=br===0?fx:{left:br%2==0?Zr.width:0,top:Math.floor((br-1)/2)*Zr.height+Tr[0].end.top}:br===0?(Fr=fx,Gr=Rr[0].height,qr=0):br%2==1?(Fr={left:0,top:Gr+=qr},qr=br===Br-1?Rr[br].height:Math.max(Rr[br].height,Rr[br+1].height)):Fr={left:Tr[br-1].end.left,top:Gr};var _i={left:Fr.left+Zr.width,top:Fr.top+Zr.height};Tr[br]={index:br,start:Fr,size:Zr,end:_i,visibility:-1}}return Tr}(bn,Or,jn,Dn):_n===_e.ViewMode.DualPage?function(Br,Nr,Rr,Mr){for(var Tr=[],Gr=0,qr=0,Fr=Ow,br=0;br<Br;br++){var Zr={height:Mr===_e.ScrollMode.Page?Math.max(Nr.height,Rr[br].height):Rr[br].height,width:Math.max(Nr.width/2,Rr[br].width)};Mr===_e.ScrollMode.Page?Fr={left:br%2==0?0:Zr.width,top:Math.floor(br/2)*Zr.height}:br%2==0?(Fr={left:0,top:Gr+=qr},qr=br===Br-1?Rr[br].height:Math.max(Rr[br].height,Rr[br+1].height)):Fr={left:Tr[br-1].end.left,top:Gr};var _i={left:Fr.left+Zr.width,top:Fr.top+Zr.height};Tr[br]={index:br,start:Fr,size:Zr,end:_i,visibility:-1}}return Tr}(bn,Or,jn,Dn):function(Br,Nr,Rr,Mr){for(var Tr=[],Gr=0,qr={left:0,top:0},Fr=0,br=Iw,Zr=0;Zr<Br;Zr++){var _i=Rr[Zr];if(Zr===0)Gr=_i.width,qr={left:0,top:0},Fr=_i.height;else switch(Mr){case _e.ScrollMode.Wrapped:(Gr+=_i.width)<Nr.width?(br={left:Tr[Zr-1].end.left,top:qr.top},Fr=Math.max(Fr,_i.height)):(Gr=_i.width,qr={left:(br={left:qr.left,top:qr.top+Fr}).left,top:br.top},Fr=_i.height);break;case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:br=Tr[Zr-1].end}var Es={left:br.left+_i.width,top:br.top+_i.height};Tr[Zr]={index:Zr,start:br,size:_i,end:Es,visibility:-1}}return Tr}(bn,Or,jn,Dn)},[Dn,jn,_n,Or]),us=ls[bn-1]?{height:ls[bn-1].end.top,width:ls[bn-1].end.left}:Nw;Ur.current.measurements=ls;var fs=bt.useMemo(function(){var Br=function(Zr,_i,Es,ys){var Ks=0;switch(Zr){case vr.Horizontal:Ks=ys.left;break;case vr.Vertical:default:Ks=ys.top}var wo=_i.length-1,Qr=function(ms,gu,qp,oy){for(;ms<=gu;){var Vu=(ms+gu)/2|0,t0=oy(Vu);if(t0<qp)ms=Vu+1;else{if(!(t0>qp))return Vu;gu=Vu-1}}return ms>0?ms-1:0}(0,wo,Ks,function(ms){switch(Zr){case vr.Horizontal:return _i[ms].start.left;case vr.Both:case vr.Vertical:default:return _i[ms].start.top}});if(Zr===vr.Both)for(var Ys=_i[Qr].start.top;Qr-1>=0&&_i[Qr-1].start.top===Ys&&_i[Qr-1].start.left>=ys.left;)Qr--;for(var _s=Qr;_s<=wo;){var Cs={top:_i[_s].start.top-ys.top,left:_i[_s].start.left-ys.left},Hs={height:Es.height-Cs.top,width:Es.width-Cs.left};if(Zr===vr.Horizontal&&Hs.width<0||Zr===vr.Vertical&&Hs.height<0||Zr===vr.Both&&(Hs.width<0||Hs.height<0))break;_s++}return{start:Qr,end:_s}}(lr,ls,Or,Jr),Nr=Br.start,Rr=Br.end,Mr=jr.slice(e0(0,bn,Nr),e0(0,bn,Rr)),Tr=Nr+Mr.reduce(function(Zr,_i,Es,ys){return _i>ys[Zr]?Es:Zr},0),Gr=Tr=e0(0,bn-1,Tr),qr=Rn({endPage:Rr,numPages:bn,startPage:Nr}),Fr=qr.startPage,br=qr.endPage;switch(Fr=Math.max(Fr,0),br=Math.min(br,bn-1),_n){case _e.ViewMode.DualPageWithCover:Tr>0&&(Gr=Tr%2==1?Tr:Tr-1),Fr=Fr===0?0:Fr%2==1?Fr:Fr-1,bn-(br=br%2==1?br-1:br)<=2&&(br=bn-1);break;case _e.ViewMode.DualPage:Gr=Tr%2==0?Tr:Tr-1,Fr=Fr%2==0?Fr:Fr-1,br=br%2==1?br:br-1;break;case _e.ViewMode.SinglePage:default:Gr=Tr}return{startPage:Fr,endPage:br,maxVisbilityIndex:Gr}},[ls,Or,Jr,_n,jr]),Os=fs.startPage,Ss=fs.endPage,Ns=fs.maxVisbilityIndex,Ms=bt.useMemo(function(){for(var Br=[],Nr=function(Mr){var Tr=ls[Mr],Gr=St(St({},Tr),{visibility:jr[Mr]!==void 0?jr[Mr]:-1,measureRef:function(qr){qr&&(qr.setAttribute(l1,"".concat(Mr)),is.observe(qr))}});Br.push(Gr)},Rr=Os;Rr<=Ss;Rr++)Nr(Rr);return Br},[Os,Ss,jr,ls]),Ls=bt.useCallback(function(Br,Nr){var Rr=Ur.current.measurements[e0(0,bn-1,Br)],Mr=Jn.current===_e.ScrollMode.Page?a1:Nr;return Rr?Dr({left:Mr.left+Rr.start.left,top:Mr.top+Rr.start.top},Jt):Promise.resolve()},[Dr,Jt]),Ds=bt.useCallback(function(Br,Nr){var Rr=Ur.current.measurements,Mr=Rr[Br].start,Tr=Rr.find(function(qr){return qr.start.top-Mr.top>1e-12});if(!Tr)return Promise.resolve();var Gr=Tr.index;switch(ur.current){case _e.ViewMode.DualPage:Gr=Gr%2==0?Gr:Gr+1;break;case _e.ViewMode.DualPageWithCover:Gr=Gr%2==1?Gr:Gr+1}return Ls(Gr,Nr)},[]),Fs=bt.useCallback(function(Br,Nr){for(var Rr=Ur.current.measurements,Mr=Rr[Br].start,Tr=Br,Gr=!1,qr=bn-1;qr>=0;qr--)if(Mr.top-Rr[qr].start.top>1e-12){Gr=!0,Tr=Rr[qr].index;break}if(!Gr)return Promise.resolve();switch(ur.current){case _e.ViewMode.DualPage:Tr=Tr%2==0?Tr:Tr-1;break;case _e.ViewMode.DualPageWithCover:Tr=Tr%2==0?Tr-1:Tr}return Tr===Br&&(Tr=Br-1),Ls(Tr,Nr)},[]),Js=bt.useCallback(function(Br,Nr){if(ur.current===_e.ViewMode.DualPageWithCover||ur.current===_e.ViewMode.DualPage)return Ds(Br,Nr);switch(Jn.current){case _e.ScrollMode.Wrapped:return Ds(Br,Nr);case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:return Ls(Br+1,Nr)}},[]),xa=bt.useCallback(function(Br,Nr){if(ur.current===_e.ViewMode.DualPageWithCover||ur.current===_e.ViewMode.DualPage)return Fs(Br,Nr);switch(Jn.current){case _e.ScrollMode.Wrapped:return Fs(Br,Nr);case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:return Ls(Br-1,Nr)}},[]),Ho=bt.useCallback(function(){return function(Br,Nr){switch(Nr){case _e.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Br.width,"px")};case _e.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Br.height,"px"),width:"100%"}}}(us,Jn.current)},[us]),Ws=bt.useCallback(function(Br){return function(Nr,Rr,Mr){return Mr!==_e.ScrollMode.Page?{}:{height:"".concat(Rr.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Nr.start.top,"px)")}}(Br,Or,Jn.current)},[Or]),yo=bt.useCallback(function(Br){return function(Nr,Rr,Mr,Tr,Gr){var qr,Fr,br,Zr,_i,Es,ys,Ks=Rr?"right":"left",wo=Rr?-1:1,Qr=Mr.length,Ys=Nr.start.left*wo,_s=Nr.size,Cs=_s.height,Hs=_s.width;if(Tr===_e.ViewMode.DualPageWithCover){var ms=Gr===_e.ScrollMode.Page?0:Nr.start.top;return Nr.index===0||Qr%2==0&&Nr.index===Qr-1?((qr={height:"".concat(Cs,"px"),minWidth:"".concat(Dw(Mr,Tr),"px"),width:"100%"})[Ks]=0,qr.position="absolute",qr.top=0,qr.transform="translate(".concat(Ys,"px, ").concat(ms,"px)"),qr):((Fr={height:"".concat(Cs,"px"),width:"".concat(Hs,"px")})[Ks]=0,Fr.position="absolute",Fr.top=0,Fr.transform="translate(".concat(Ys,"px, ").concat(ms,"px)"),Fr)}if(Tr===_e.ViewMode.DualPage)return(br={height:"".concat(Cs,"px"),width:"".concat(Hs,"px")})[Ks]=0,br.position="absolute",br.top=0,br.transform="translate(".concat(Ys,"px, ").concat(Gr===_e.ScrollMode.Page?0:Nr.start.top,"px)"),br;switch(Gr){case _e.ScrollMode.Horizontal:return(Zr={height:"100%",width:"".concat(Hs,"px")})[Ks]=0,Zr.position="absolute",Zr.top=0,Zr.transform="translateX(".concat(Ys,"px)"),Zr;case _e.ScrollMode.Page:return(_i={height:"".concat(Cs,"px"),width:"".concat(Hs,"px")})[Ks]=0,_i.position="absolute",_i.top=0,_i;case _e.ScrollMode.Wrapped:return(Es={height:"".concat(Cs,"px"),width:"".concat(Hs,"px")})[Ks]=0,Es.position="absolute",Es.top=0,Es.transform="translate(".concat(Ys,"px, ").concat(Nr.start.top,"px)"),Es;case _e.ScrollMode.Vertical:default:return(ys={height:"".concat(Cs,"px"),width:"100%"})[Ks]=0,ys.position="absolute",ys.top=0,ys.transform="translateY(".concat(Nr.start.top,"px)"),ys}}(Br,yn,jn,ur.current,Jn.current)},[yn,jn]),Il=bt.useCallback(function(Br,Nr){var Rr=Ur.current,Mr=Rr.measurements,Tr=Rr.scrollOffset,Gr=Mr[e0(0,bn-1,Nr)];if(Gr){var qr=Jn.current===_e.ScrollMode.Page?{left:Gr.start.left,top:Gr.start.top}:{left:Tr.left*Br,top:Tr.top*Br};return Dr(qr,!1)}return Promise.resolve()},[]);return bt.useEffect(function(){return function(){is.disconnect()}},[]),{boundingClientRect:Or,isSmoothScrolling:On,startPage:Os,endPage:Ss,maxVisbilityIndex:Ns,virtualItems:Ms,getContainerStyles:Ho,getItemContainerStyles:Ws,getItemStyles:yo,scrollToItem:Ls,scrollToNextItem:Js,scrollToPreviousItem:xa,zoom:Il}},px=function(Gt,Jt,yn,bn,An,Rn){var jn=yn;switch(!0){case(An===_e.ViewMode.DualPageWithCover&&Rn>=3):case(An===_e.ViewMode.DualPage&&Rn>=3):jn=2*yn;break;default:jn=yn}switch(bn){case _e.SpecialZoomLevel.ActualSize:return 1;case _e.SpecialZoomLevel.PageFit:return Math.min((Gt.clientWidth-17)/jn,(Gt.clientHeight-16)/Jt);case _e.SpecialZoomLevel.PageWidth:return(Gt.clientWidth-17)/jn}},Hw=function(Gt){var Jt,yn,bn=Gt.getCurrentPage,An=(Jt=50,yn=bt.useRef([]),bt.useEffect(function(){return function(){yn.current=[]}},[]),{push:function($n){var On=yn.current;On.length+1>Jt&&On.shift(),On.push($n),yn.current=On},map:function($n){return yn.current.map(function(On){return $n(On)})},pop:function(){var $n=yn.current;if($n.length===0)return null;var On=$n.pop();return yn.current=$n,On}}),Rn=function($n){var On=bt.useRef([]);return bt.useEffect(function(){return function(){On.current=[]}},[]),{dequeue:function(){var tr=On.current;if(tr.length===0)return null;var er=tr.shift();return On.current=tr,er||null},enqueue:function(tr){var er=On.current;er.length+1>$n&&er.pop(),On.current=[tr].concat(er)},map:function(tr){return On.current.map(function(er){return tr(er)})}}}(50),jn=function(){var $n=Rn.dequeue();return $n&&An.push($n),$n&&$n.pageIndex===bn()?jn():$n},Dn=function(){var $n=An.pop();return $n&&Rn.enqueue($n),$n&&$n.pageIndex===bn()?Dn():$n},_n=bt.useCallback(function($n){An.push($n)},[]);return{getNextDestination:jn,getPreviousDestination:Dn,markVisitedDestination:_n}},c1=function(Gt){var Jt=[];return Gt.map(function(yn){Jt=Jt.concat(yn).concat(function(bn){var An=[];return bn.items&&bn.items.length>0&&(An=An.concat(c1(bn.items))),An}(yn))}),Jt},u1={capture:!1,passive:!0},Uw={height:0,width:0},gx={height:0,width:0},zw=function(Gt){var Jt=Gt.getCurrentPage,yn=Gt.getCurrentScrollMode,bn=Gt.jumpToPage,An=Gt.targetRef,Rn=bt.useState(_e.FullScreenMode.Normal),jn=Rn[0],Dn=Rn[1],_n=function(){var jr=bt.useState(Uw),as=jr[0],is=jr[1],ls=En(function(){is({height:window.innerHeight,width:window.innerWidth})},100);return Mt(function(){return window.addEventListener("resize",ls,u1),function(){window.removeEventListener("resize",ls,u1)}},[]),as}(),$n=bt.useState(gx),On=$n[0],tr=$n[1],er=bt.useRef(gx),Jn=bt.useRef(Jt()),ur=bt.useRef(gx),lr=bt.useState(An.current),or=lr[0],Jr=lr[1],Dr=bt.useRef();Mt(function(){An.current!==or&&Jr(An.current)},[]),Mt(function(){if(or){var jr=new ResizeObserver(function(as){as.forEach(function(is){var ls=is.target.getBoundingClientRect(),us=ls.height,fs=ls.width;tr({height:us,width:fs})})});return jr.observe(or),function(){jr.unobserve(or),jr.disconnect()}}},[or]);var Or=bt.useCallback(function(jr){var as=on();return as&&as!==jr?(Dn(_e.FullScreenMode.Normal),Qt(as)):Promise.resolve()},[]),Ur=bt.useCallback(function(jr){jr&&Wt()&&(Jr(jr),Or(jr).then(function(){Dr.current=jr,Dn(_e.FullScreenMode.Entering),function(as){Kt&&as[en.RequestFullScreen]()}(jr)}))},[]),Cr=bt.useCallback(function(){on()&&(Dn(_e.FullScreenMode.Exitting),Qt(document))},[]),Vr=bt.useCallback(function(){or&&on()!==or&&Dn(_e.FullScreenMode.Exitting)},[or]);return bt.useEffect(function(){switch(jn){case _e.FullScreenMode.Entering:Dr.current&&(Dr.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),Jn.current=Jt(),er.current={height:window.innerHeight,width:window.innerWidth};break;case _e.FullScreenMode.Entered:yn()===_e.ScrollMode.Page?bn(Jn.current).then(function(){Dn(_e.FullScreenMode.EnteredCompletely)}):Dn(_e.FullScreenMode.EnteredCompletely);break;case _e.FullScreenMode.Exitting:Dr.current&&(Dr.current.style.backgroundColor="",Dr.current=null),Jn.current=Jt();break;case _e.FullScreenMode.Exited:Dn(_e.FullScreenMode.Normal),yn()===_e.ScrollMode.Page&&bn(Jn.current)}},[jn]),bt.useEffect(function(){if(jn!==_e.FullScreenMode.Normal)return jn===_e.FullScreenMode.Entering&&_n.height===On.height&&_n.width===On.width&&_n.height>0&&_n.width>0&&(ur.current.height===0||_n.height==ur.current.height)?(ur.current={height:window.innerHeight,width:window.innerWidth},void Dn(_e.FullScreenMode.Entered)):void(jn===_e.FullScreenMode.Exitting&&er.current.height===_n.height&&er.current.width===_n.width&&_n.height>0&&_n.width>0&&Dn(_e.FullScreenMode.Exited))},[jn,_n,On]),bt.useEffect(function(){var jr;return jr=Vr,Kt&&document.addEventListener(en.FullScreenChange,jr),function(){(function(as){Kt&&document.removeEventListener(en.FullScreenChange,as)})(Vr)}},[or]),{enterFullScreenMode:Ur,exitFullScreenMode:Cr,fullScreenMode:jn}},Ww={buildPageStyles:function(){return{}},transformSize:function(Gt){return Gt.size}},Xp={left:0,top:0},Vw=function(Gt){var Jt=Gt.currentFile,yn=Gt.defaultScale,bn=Gt.doc,An=Gt.enableSmoothScroll,Rn=Gt.initialPage,jn=Gt.initialRotation,Dn=Gt.initialScale,_n=Gt.pageLayout,$n=Gt.pageSizes,On=Gt.plugins,tr=Gt.renderPage,er=Gt.scrollMode,Jn=Gt.setRenderRange,ur=Gt.viewMode,lr=Gt.viewerState,or=Gt.onDocumentLoad,Jr=Gt.onOpenFile,Dr=Gt.onPageChange,Or=Gt.onRotate,Ur=Gt.onRotatePage,Cr=Gt.onZoom,Vr=bn.numPages,jr=bn.loadingTask.docId,as=bt.useContext(wn).l10n,is=bt.useContext(Pt),ls=is.direction===_e.TextDirection.RightToLeft,us=bt.useRef(),fs=bt.useRef(),Os=bt.useState(Rn),Ss=Os[0],Ns=Os[1],Ms=bt.useRef(null),Ls=Hw({getCurrentPage:function(){return Qr.current.pageIndex}}),Ds=bt.useState(jn),Fs=Ds[0],Js=Ds[1],xa=xn(Fs),Ho=bt.useState(!1),Ws=Ho[0],yo=Ho[1],Il=bt.useState(new Map),Br=Il[0],Nr=Il[1],Rr=bt.useState(er),Mr=Rr[0],Tr=Rr[1],Gr=xn(Mr),qr=bt.useState(ur),Fr=qr[0],br=qr[1],Zr=xn(Fr),_i=function(ir){var Yr=un(),ts=bt.useState([]),ps=ts[0],ds=ts[1];return bt.useEffect(function(){ir.getOutline().then(function(ns){if(Yr.current&&ns!==null){var Us=c1(ns);ds(Us)}})},[]),ps}(bn),Es=bt.useState(Dn),ys=Es[0],Ks=Es[1],wo=xn(ys),Qr=bt.useRef(lr),Ys=bt.useRef(typeof yn=="string"?yn:null),_s=bt.useRef(-1),Cs=bt.useRef(-1),Hs=bt.useRef(Rn),ms=zw({getCurrentPage:function(){return Qr.current.pageIndex},getCurrentScrollMode:function(){return Qr.current.scrollMode},jumpToPage:function(ir){return vu(ir)},targetRef:fs}),gu=bt.useState(-1),qp=gu[0],oy=gu[1],Vu=bt.useState(0),t0=Vu[0],Zw=Vu[1],Ao=nn({doc:bn});bt.useEffect(function(){return function(){rr.clear(),$r.clear()}},[jr]);var p1=bt.useMemo(function(){return Object.assign({},Ww,_n)},[]),Qw=bt.useMemo(function(){return Array(Vr).fill(0).map(function(ir,Yr){var ts=[$n[Yr].pageHeight,$n[Yr].pageWidth],ps=Math.abs(Fs)%180==0?{height:ts[0],width:ts[1]}:{height:ts[1],width:ts[0]},ds={height:ps.height*ys,width:ps.width*ys};return p1.transformSize({numPages:Vr,pageIndex:Yr,size:ds})})},[Fs,ys]),xs=Bw({enableSmoothScroll:An,isRtl:ls,numberOfItems:Vr,parentRef:fs,scrollMode:Mr,setRenderRange:Jn,sizes:Qw,viewMode:Fr}),Jw=En(function(){!Ys.current||Qr.current.fullScreenMode!==_e.FullScreenMode.Normal||Rn>0&&Hs.current===Rn||Gu(Ys.current)},200);(function(ir){var Yr=ir.targetRef,ts=ir.onResize;Mt(function(){var ps=new ResizeObserver(function(ns){ns.forEach(function(Us){ts(Us.target)})}),ds=Yr.current;if(ds)return ps.observe(ds),function(){ps.unobserve(ds)}},[])})({targetRef:fs,onResize:Jw});var mu=function(ir){var Yr=ir;On.forEach(function(ts){ts.onViewerStateChange&&(Yr=ts.onViewerStateChange(Yr))}),Qr.current=Yr},eA=function(){return fs.current},tA=function(){return Qr.current},nA=bt.useCallback(function(ir){Ls.markVisitedDestination(ir)},[]),yx=bt.useCallback(function(ir){var Yr=ir.pageIndex,ts=ir.bottomOffset,ps=ir.leftOffset,ds=ir.scaleTo,ns=fs.current,Us=Qr.current;return ns&&Us?new Promise(function(yu,Ax){dr(bn,Yr).then(function(ay){var xu=ay.getViewport({scale:1}),ly=0,_1=(typeof ts=="function"?ts(xu.width,xu.height):ts)||0,cy=(typeof ps=="function"?ps(xu.width,xu.height):ps)||0,Kp=Us.scale;switch(ds){case _e.SpecialZoomLevel.PageFit:ly=0,cy=0,Gu(_e.SpecialZoomLevel.PageFit);break;case _e.SpecialZoomLevel.PageWidth:Kp=px(ns,$n[Yr].pageHeight,$n[Yr].pageWidth,_e.SpecialZoomLevel.PageWidth,ur,Vr),ly=(xu.height-_1)*Kp,cy*=Kp,Gu(Kp);break;default:ly=(xu.height-_1)*Kp,cy*=Kp}switch(Us.scrollMode){case _e.ScrollMode.Horizontal:xs.scrollToItem(Yr,{left:cy,top:0}).then(function(){yu()});break;case _e.ScrollMode.Vertical:default:xs.scrollToItem(Yr,{left:0,top:ly}).then(function(){yu()})}})}):Promise.resolve()},[]),g1=bt.useCallback(function(ir){return Ls.markVisitedDestination(ir),yx(ir)},[]),rA=bt.useCallback(function(){var ir=Ls.getNextDestination();return ir?yx(ir):Promise.resolve()},[]),iA=bt.useCallback(function(){var ir=Ls.getPreviousDestination();return ir?yx(ir):Promise.resolve()},[]),sA=bt.useCallback(function(){return xs.scrollToNextItem(Qr.current.pageIndex,Xp)},[]),vu=bt.useCallback(function(ir){return 0<=ir&&ir<Vr?xs.scrollToItem(ir,Xp):Promise.resolve()},[]),oA=bt.useCallback(function(){return xs.scrollToPreviousItem(Qr.current.pageIndex,Xp)},[]),m1=bt.useCallback(function(ir){var Yr,ts;(Yr=ir.name,ts=Yr.split(/\./).pop(),ts?ts.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(ps){var ds=new FileReader;ds.readAsArrayBuffer(ir),ds.onload=function(){var ns=new Uint8Array(ds.result);ps(ns)}}).then(function(ps){Jr(ir.name,ps)})},[Jr]),v1=bt.useCallback(function(ir){var Yr=ir===_e.RotateDirection.Backward?-90:90,ts=Qr.current.rotation,ps=ts===360||ts===-360?Yr:ts+Yr;Ao.markNotRendered(),Js(ps),mu(St(St({},Qr.current),{rotation:ps})),Or({direction:ir,doc:bn,rotation:ps})},[]),xx=bt.useCallback(function(ir,Yr){var ts=Yr===_e.RotateDirection.Backward?-90:90,ps=Qr.current.pagesRotation,ds=(ps.has(ir)?ps.get(ir):jn)+ts,ns=ps.set(ir,ds);Nr(ns),yo(function(Us){return!Us}),mu(St(St({},Qr.current),{pagesRotation:ns,rotatedPage:ir})),Ur({direction:Yr,doc:bn,pageIndex:ir,rotation:ds}),Ao.markRendering(ir),oy(ir)},[]),y1=bt.useCallback(function(ir){mu(St(St({},Qr.current),{scrollMode:ir})),Tr(ir)},[]),x1=bt.useCallback(function(ir){mu(St(St({},Qr.current),{viewMode:ir})),br(ir)},[]),Gu=bt.useCallback(function(ir){var Yr=fs.current,ts=Qr.current.pageIndex;if(!(ts<0||ts>=Vr)){var ps=$n[ts].pageHeight,ds=$n[ts].pageWidth,ns=Yr?typeof ir=="string"?px(Yr,ps,ds,ir,Qr.current.viewMode,Vr):ir:1;Ys.current=typeof ir=="string"?ir:null,ns!==Qr.current.scale&&(Zw(function(Us){return Us+1}),Ao.markNotRendered(),Ks(ns),Cr({doc:bn,scale:ns}),mu(St(St({},Qr.current),{scale:ns})))}},[]),aA=bt.useCallback(function(ir){ms.enterFullScreenMode(ir)},[]),lA=bt.useCallback(function(){ms.exitFullScreenMode()},[]);bt.useEffect(function(){mu(St(St({},Qr.current),{fullScreenMode:ms.fullScreenMode}))},[ms.fullScreenMode]),bt.useEffect(function(){var ir={enterFullScreenMode:aA,exitFullScreenMode:lA,getPagesContainer:eA,getViewerState:tA,jumpToDestination:g1,jumpToNextDestination:rA,jumpToPreviousDestination:iA,jumpToNextPage:sA,jumpToPreviousPage:oA,jumpToPage:vu,openFile:m1,rotate:v1,rotatePage:xx,setViewerState:mu,switchScrollMode:y1,switchViewMode:x1,zoom:Gu};return On.forEach(function(Yr){Yr.install&&Yr.install(ir)}),function(){On.forEach(function(Yr){Yr.uninstall&&Yr.uninstall(ir)})}},[jr]),bt.useEffect(function(){or({doc:bn,file:Jt}),On.forEach(function(ir){ir.onDocumentLoad&&ir.onDocumentLoad({doc:bn,file:Jt})})},[jr]);var bx,Ex,_x,b1=xs.boundingClientRect;bx=function(){Rn&&vu(Rn)},Ex=b1.height>0&&b1.width>0,_x=bt.useRef(!1),Mt(function(){Ex&&!_x.current&&(_x.current=!0,bx())},[bx,Ex]),Mt(function(){var ir=Qr.current.pageIndex;ir>-1&&Gr!==Mr&&xs.scrollToItem(ir,Xp).then(function(){ms.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&(An||Ao.markNotRendered(),_s.current=-1)})},[Mr]),Mt(function(){var ir=Qr.current.pageIndex;ir>-1&&xa!==Fs&&xs.scrollToItem(ir,Xp)},[Fs]),Mt(function(){wo!=0&&wo!=Qr.current.scale&&xs.zoom(Qr.current.scale/wo,Qr.current.pageIndex).then(function(){ms.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&(Cs.current=-1)})},[ys]),Mt(function(){if(Zr!==Qr.current.viewMode){var ir=xs.startPage,Yr=xs.endPage,ts=xs.virtualItems;Ao.markNotRendered(),Ao.setRange(ir,Yr);for(var ps=function(ns){var Us=ts.find(function(yu){return yu.index===ns});Us&&Ao.setVisibility(ns,Us.visibility)},ds=ir;ds<=Yr;ds++)ps(ds);wx()}},[Fr]),Mt(function(){var ir=Qr.current.pageIndex;ir>-1&&Zr!==Fr&&xs.scrollToItem(ir,Xp)},[Fr]),Mt(function(){var ir=Qr.current.pageIndex;ir>0&&ir===Rn&&Hs.current===Rn&&Ys.current&&(Hs.current=-1,Gu(Ys.current))},[Ss]),bt.useEffect(function(){xs.isSmoothScrolling||Ms.current!==null&&Ms.current===Ss||(Ms.current=Ss,Dr({currentPage:Ss,doc:bn}))},[Ss,xs.isSmoothScrolling]),bt.useEffect(function(){ms.fullScreenMode===_e.FullScreenMode.Entering&&Qr.current.scrollMode===_e.ScrollMode.Page&&(_s.current=Qr.current.pageIndex),ms.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&Qr.current.scrollMode===_e.ScrollMode.Page&&An&&(_s.current=-1),ms.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&Ys.current&&(Cs.current=Qr.current.pageIndex,Gu(Ys.current))},[ms.fullScreenMode]),bt.useEffect(function(){if(ms.fullScreenMode!==_e.FullScreenMode.Entering&&ms.fullScreenMode!==_e.FullScreenMode.Exitting&&!xs.isSmoothScrolling){var ir=xs.startPage,Yr=xs.endPage,ts=xs.maxVisbilityIndex,ps=xs.virtualItems,ds=ts,ns=ms.fullScreenMode===_e.FullScreenMode.Entered||ms.fullScreenMode===_e.FullScreenMode.EnteredCompletely;if(!(ns&&ds!==_s.current&&_s.current>-1||ns&&ds!==Cs.current&&Cs.current>-1)){Ns(ds),mu(St(St({},Qr.current),{pageIndex:ds})),Ao.setRange(ir,Yr);for(var Us=function(Ax){var ay=ps.find(function(xu){return xu.index===Ax});ay&&Ao.setVisibility(Ax,ay.visibility)},yu=ir;yu<=Yr;yu++)Us(yu);wx()}}},[xs.startPage,xs.endPage,xs.isSmoothScrolling,xs.maxVisbilityIndex,ms.fullScreenMode,Ws,Fs,ys]);var cA=bt.useCallback(function(ir){Ao.markRendered(ir),wx()},[t0]),wx=function(){var ir=Ao.getHighestPriorityPage();ir>-1&&Ao.isInRange(ir)&&(Ao.markRendering(ir),oy(ir))},uA=function(ir){var Yr=Ss-1,ts=Ss+1;switch(ir){case"FirstPage":vu(0);break;case"LastPage":vu(Vr-1);break;case"NextPage":ts<Vr&&vu(ts);break;case"PrevPage":Yr>=0&&vu(Yr)}},dA=bt.useCallback(function(){var ir=xs.virtualItems,Yr=[];switch(Fr){case _e.ViewMode.DualPage:Yr=kn(ir,2);break;case _e.ViewMode.DualPageWithCover:ir.length&&(Yr=ir[0].index===0?[[ir[0]]].concat(kn(ir.slice(1),2)):kn(ir,2));break;case _e.ViewMode.SinglePage:default:Yr=kn(ir,1)}var ts=as&&as.core?as.core.pageLabel:"Page {{pageIndex}}",ps={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:us,style:{height:"100%"}},children:bt.createElement(bt.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:kt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Mr===_e.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":ls,"rpv-core__inner-pages--single":Mr===_e.ScrollMode.Page,"rpv-core__inner-pages--vertical":Mr===_e.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Mr===_e.ScrollMode.Wrapped}),ref:fs,style:{height:"100%",position:"relative"}},children:bt.createElement("div",{"data-testid":"core__inner-current-page-".concat(Ss),style:Object.assign({"--scale-factor":ys},xs.getContainerStyles())},Yr.map(function(ds){return bt.createElement("div",{className:kt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Mr===_e.ScrollMode.Page}),style:xs.getItemContainerStyles(ds[0]),key:"".concat(ds[0].index,"-").concat(Fr)},ds.map(function(ns){var Us=Fr===_e.ViewMode.DualPageWithCover&&(ns.index===0||Vr%2==0&&ns.index===Vr-1);return bt.createElement("div",{"aria-label":ts.replace("{{pageIndex}}","".concat(ns.index+1)),className:kt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Fr===_e.ViewMode.DualPage&&ns.index%2==0,"rpv-core__inner-page--dual-odd":Fr===_e.ViewMode.DualPage&&ns.index%2==1,"rpv-core__inner-page--dual-cover":Us,"rpv-core__inner-page--dual-cover-even":Fr===_e.ViewMode.DualPageWithCover&&!Us&&ns.index%2==0,"rpv-core__inner-page--dual-cover-odd":Fr===_e.ViewMode.DualPageWithCover&&!Us&&ns.index%2==1,"rpv-core__inner-page--single":Fr===_e.ViewMode.SinglePage&&Mr===_e.ScrollMode.Page}),role:"region",key:"".concat(ns.index,"-").concat(Fr),style:Object.assign({},xs.getItemStyles(ns),p1.buildPageStyles({numPages:Vr,pageIndex:ns.index,scrollMode:Mr,viewMode:Fr}))},bt.createElement(kw,{doc:bn,measureRef:ns.measureRef,outlines:_i,pageIndex:ns.index,pageRotation:Br.has(ns.index)?Br.get(ns.index):0,pageSize:$n[ns.index],plugins:On,renderPage:tr,renderQueueKey:t0,rotation:Fs,scale:ys,shouldRender:qp===ns.index,viewMode:Fr,onExecuteNamedAction:uA,onJumpFromLinkAnnotation:nA,onJumpToDest:g1,onRenderCompleted:cA,onRotatePage:xx}))}))}))}};return On.forEach(function(ds){ds.renderViewer&&(ps=ds.renderViewer({containerRef:us,doc:bn,pagesContainerRef:fs,pagesRotation:Br,pageSizes:$n,rotation:Fs,slot:ps,themeContext:is,jumpToPage:vu,openFile:m1,rotate:v1,rotatePage:xx,switchScrollMode:y1,switchViewMode:x1,zoom:Gu}))}),ps},[On,xs]),E1=bt.useCallback(function(ir){return bt.createElement("div",St({},ir.attrs,{style:ir.attrs&&ir.attrs.style?ir.attrs.style:{}}),ir.children,ir.subSlot&&E1(ir.subSlot))},[]);return E1(dA())},d1=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Gw=function(Gt){var Jt=Gt.defaultScale,yn=Gt.doc,bn=Gt.render,An=Gt.scrollMode,Rn=Gt.viewMode,jn=bt.useRef(),Dn=bt.useState({pageSizes:[],scale:0}),_n=Dn[0],$n=Dn[1];return bt.useLayoutEffect(function(){var On=Array(yn.numPages).fill(0).map(function(tr,er){return new Promise(function(Jn,ur){dr(yn,er).then(function(lr){var or=lr.getViewport({scale:1});Jn({pageHeight:or.height,pageWidth:or.width,rotation:or.rotation})})})});Promise.all(On).then(function(tr){var er=jn.current;if(er&&tr.length!==0){var Jn=tr[0].pageWidth,ur=tr[0].pageHeight,lr=er.parentElement,or=(lr.clientWidth-45)/Jn,Jr=(lr.clientHeight-45)/ur,Dr=or;switch(An){case _e.ScrollMode.Horizontal:Dr=Math.min(or,Jr);break;case _e.ScrollMode.Vertical:default:Dr=or}var Or,Ur,Cr=Jt?typeof Jt=="string"?px(lr,ur,Jn,Jt,Rn,yn.numPages):Jt:(Or=Dr,(Ur=d1.findIndex(function(Vr){return Vr>=Or}))===-1||Ur===0?Or:d1[Ur-1]);$n({pageSizes:tr,scale:Cr})}})},[yn.loadingTask.docId]),_n.pageSizes.length===0||_n.scale===0?bt.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:jn},bt.createElement($t,null)):bn(_n.pageSizes,_n.scale)},sy=function(){},mx=function(Gt){function Jt(yn,bn){var An=Gt.call(this)||this;return An.verifyPassword=yn,An.passwordStatus=bn,An}return At(Jt,Gt),Jt}(sy),Xw=function(Gt){var Jt=Gt.passwordStatus,yn=Gt.renderProtectedView,bn=Gt.verifyPassword,An=Gt.onDocumentAskPassword,Rn=bt.useContext(wn).l10n,jn=bt.useState(""),Dn=jn[0],_n=jn[1],$n=bt.useContext(Pt).direction===_e.TextDirection.RightToLeft,On=function(){return bn(Dn)};return bt.useEffect(function(){An&&An({verifyPassword:bn})},[]),yn?yn({passwordStatus:Jt,verifyPassword:bn}):bt.createElement("div",{className:"rpv-core__asking-password-wrapper"},bt.createElement("div",{className:kt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":$n})},bt.createElement("div",{className:"rpv-core__asking-password-message"},Jt===_e.PasswordStatus.RequiredPassword&&Rn.core.askingPassword.requirePasswordToOpen,Jt===_e.PasswordStatus.WrongPassword&&Rn.core.wrongPassword.tryAgain),bt.createElement("div",{className:"rpv-core__asking-password-body"},bt.createElement("div",{className:kt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!$n,"rpv-core__asking-password-input--rtl":$n})},bt.createElement(Bt,{testId:"core__asking-password-input",type:"password",value:Dn,onChange:_n,onKeyDown:function(tr){tr.key==="Enter"&&On()}})),bt.createElement(Dt,{onClick:On},Rn.core.askingPassword.submit))))},h1=function(Gt){function Jt(yn){var bn=Gt.call(this)||this;return bn.doc=yn,bn}return At(Jt,Gt),Jt}(sy),f1=function(Gt){function Jt(yn){var bn=Gt.call(this)||this;return bn.error=yn,bn}return At(Jt,Gt),Jt}(sy),vx=function(Gt){function Jt(yn){var bn=Gt.call(this)||this;return bn.percentages=yn,bn}return At(Jt,Gt),Jt}(sy),qw=function(Gt){var Jt=Gt.characterMap,yn=Gt.file,bn=Gt.httpHeaders,An=Gt.render,Rn=Gt.renderError,jn=Gt.renderLoader,Dn=Gt.renderProtectedView,_n=Gt.transformGetDocumentParams,$n=Gt.withCredentials,On=Gt.onDocumentAskPassword,tr=bt.useContext(Pt).direction===_e.TextDirection.RightToLeft,er=bt.useState(new vx(0)),Jn=er[0],ur=er[1],lr=bt.useRef(""),or=un();return bt.useEffect(function(){lr.current="",ur(new vx(0));var Jr=new Et.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Dr=Object.assign({httpHeaders:bn,withCredentials:$n,worker:Jr},typeof yn=="string"?{url:yn}:{data:yn},Jt?{cMapUrl:Jt.url,cMapPacked:Jt.isCompressed}:{}),Or=_n?_n(Dr):Dr,Ur=Et.getDocument(Or);return Ur.onPassword=function(Cr,Vr){switch(Vr){case Et.PasswordResponses.NEED_PASSWORD:or.current&&ur(new mx(Cr,_e.PasswordStatus.RequiredPassword));break;case Et.PasswordResponses.INCORRECT_PASSWORD:or.current&&ur(new mx(Cr,_e.PasswordStatus.WrongPassword))}},Ur.onProgress=function(Cr){var Vr=Cr.total>0?Math.min(100,100*Cr.loaded/Cr.total):100;or.current&&lr.current===""&&ur(new vx(Vr))},Ur.promise.then(function(Cr){lr.current=Cr.loadingTask.docId,or.current&&ur(new h1(Cr))},function(Cr){return or.current&&!Jr.destroyed&&ur(new f1({message:Cr.message||"Cannot load document",name:Cr.name}))}),function(){Ur.destroy(),Jr.destroy()}},[yn]),Jn instanceof mx?bt.createElement(Xw,{passwordStatus:Jn.passwordStatus,renderProtectedView:Dn,verifyPassword:Jn.verifyPassword,onDocumentAskPassword:On}):Jn instanceof h1?An(Jn.doc):Jn instanceof f1?Rn?Rn(Jn.error):bt.createElement("div",{className:kt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":tr})},bt.createElement("div",{className:"rpv-core__doc-error-text"},Jn.error.message)):bt.createElement("div",{"data-testid":"core__doc-loading",className:kt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":tr})},jn?jn(Jn.percentages):bt.createElement($t,null))},Kw=function(Gt,Jt){var yn=bt.useMemo(function(){return Gt==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Gt},[]),bn=bt.useState(yn),An=bn[0],Rn=bn[1],jn=xn(An);return bt.useEffect(function(){if(Gt==="auto"){var Dn=window.matchMedia("(prefers-color-scheme: dark)"),_n=function($n){Rn($n.matches?"dark":"light")};return Dn.addEventListener("change",_n),function(){return Dn.removeEventListener("change",_n)}}},[]),bt.useEffect(function(){An!==jn&&Jt&&Jt(An)},[An]),bt.useEffect(function(){Gt!==An&&Rn(Gt)},[Gt]),{currentTheme:An,setCurrentTheme:Rn}},Yw=function(Gt){return{startPage:Gt.startPage-3,endPage:Gt.endPage+3}};_e.Button=function(Gt){var Jt=Gt.children,yn=Gt.testId,bn=Gt.onClick,An=bt.useContext(Pt).direction===_e.TextDirection.RightToLeft,Rn=yn?{"data-testid":yn}:{};return bt.createElement("button",St({className:kt({"rpv-core__button":!0,"rpv-core__button--rtl":An}),type:"button",onClick:bn},Rn),Jt)},_e.Icon=Ot,_e.LazyRender=function(Gt){var Jt=Gt.attrs,yn=Gt.children,bn=Gt.testId,An=bt.useState(!1),Rn=An[0],jn=An[1],Dn=bn?St(St({},Jt),{"data-testid":bn}):Jt,_n=Lt({once:!0,onVisibilityChanged:function($n){$n.isVisible&&jn(!0)}});return bt.createElement("div",St({ref:_n},Dn),Rn&&yn)},_e.LocalizationContext=wn,_e.Menu=function(Gt){var Jt=Gt.children,yn=bt.useRef(),bn=bt.useRef([]),An=bt.useContext(Pt).direction===_e.TextDirection.RightToLeft,Rn=function(Dn){if(yn.current)switch(Dn.key){case"Tab":Dn.preventDefault();break;case"ArrowDown":Dn.preventDefault(),jn(function(_n,$n){return $n+1});break;case"ArrowUp":Dn.preventDefault(),jn(function(_n,$n){return $n-1});break;case"End":Dn.preventDefault(),jn(function(_n,$n){return _n.length-1});break;case"Home":Dn.preventDefault(),jn(function(_n,$n){return 0})}},jn=function(Dn){if(yn.current){var _n=bn.current,$n=_n.findIndex(function(tr){return tr.getAttribute("tabindex")==="0"}),On=Math.min(_n.length-1,Math.max(0,Dn(_n,$n)));$n>=0&&$n<=_n.length-1&&_n[$n].setAttribute("tabindex","-1"),_n[On].setAttribute("tabindex","0"),_n[On].focus()}};return Mt(function(){var Dn=yn.current;if(Dn){var _n=function($n){var On=[];return $n.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(tr){if(tr instanceof HTMLElement){var er=tr.parentElement;(er===$n||window.getComputedStyle(er).display!=="none")&&On.push(tr)}}),On}(Dn);bn.current=_n}},[]),Mt(function(){return document.addEventListener("keydown",Rn),function(){document.removeEventListener("keydown",Rn)}},[]),bt.createElement("div",{ref:yn,"aria-orientation":"vertical",className:kt({"rpv-core__menu":!0,"rpv-core__menu--rtl":An}),role:"menu",tabIndex:0},Jt)},_e.MenuDivider=function(){return bt.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},_e.MenuItem=function(Gt){var Jt=Gt.checked,yn=Jt!==void 0&&Jt,bn=Gt.children,An=Gt.icon,Rn=An===void 0?null:An,jn=Gt.isDisabled,Dn=jn!==void 0&&jn,_n=Gt.testId,$n=Gt.onClick,On=bt.useContext(Pt).direction===_e.TextDirection.RightToLeft,tr=_n?{"data-testid":_n}:{};return bt.createElement("button",St({className:kt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Dn,"rpv-core__menu-item--ltr":!On,"rpv-core__menu-item--rtl":On}),role:"menuitem",tabIndex:-1,type:"button",onClick:$n},tr),bt.createElement("div",{className:kt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!On,"rpv-core__menu-item-icon--rtl":On})},Rn),bt.createElement("div",{className:kt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!On,"rpv-core__menu-item-label--rtl":On})},bn),bt.createElement("div",{className:kt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!On,"rpv-core__menu-item-check--rtl":On})},yn&&bt.createElement(Ft,null)))},_e.MinimalButton=function(Gt){var Jt=Gt.ariaLabel,yn=Jt===void 0?"":Jt,bn=Gt.ariaKeyShortcuts,An=bn===void 0?"":bn,Rn=Gt.children,jn=Gt.isDisabled,Dn=jn!==void 0&&jn,_n=Gt.isSelected,$n=_n!==void 0&&_n,On=Gt.testId,tr=Gt.onClick,er=bt.useContext(Pt).direction===_e.TextDirection.RightToLeft,Jn=On?{"data-testid":On}:{};return bt.createElement("button",St({"aria-label":yn},An&&{"aria-keyshortcuts":An},Dn&&{"aria-disabled":!0},{className:kt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Dn,"rpv-core__minimal-button--rtl":er,"rpv-core__minimal-button--selected":$n}),type:"button",onClick:tr},Jn),Rn)},_e.Modal=function(Gt){var Jt=Gt.ariaControlsSuffix,yn=Gt.closeOnClickOutside,bn=Gt.closeOnEscape,An=Gt.content,Rn=Gt.isOpened,jn=Rn!==void 0&&Rn,Dn=Gt.target,_n=Jt||"".concat(Xt());return bt.createElement(Mn,{target:Dn?function($n,On){return bt.createElement("div",{"aria-expanded":On?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(_n)},Dn($n,On))}:null,content:function($n){return bt.createElement(ln,null,bt.createElement(dn,{ariaControlsSuffix:_n,closeOnClickOutside:yn,closeOnEscape:bn,onToggle:$n},An($n)))},isOpened:jn})},_e.Popover=function(Gt){var Jt=Gt.ariaHasPopup,yn=Jt===void 0?"dialog":Jt,bn=Gt.ariaControlsSuffix,An=Gt.closeOnClickOutside,Rn=Gt.closeOnEscape,jn=Gt.content,Dn=Gt.lockScroll,_n=Dn===void 0||Dn,$n=Gt.offset,On=Gt.position,tr=Gt.target,er=Sn(!1),Jn=er.opened,ur=er.toggle,lr=bt.useRef(),or=bt.useMemo(function(){return bn||"".concat(Xt())},[]);return bt.createElement("div",{ref:lr,"aria-expanded":Jn?"true":"false","aria-haspopup":yn,"aria-controls":"rpv-core__popver-body-".concat(or)},tr(ur,Jn),Jn&&bt.createElement(bt.Fragment,null,_n&&bt.createElement(Vn,{closeOnEscape:Rn,onClose:ur}),bt.createElement(Nn,{ariaControlsSuffix:or,closeOnClickOutside:An,offset:$n,position:On,targetRef:lr,onClose:ur},jn(ur))))},_e.PrimaryButton=Dt,_e.ProgressBar=function(Gt){var Jt=Gt.progress,yn=bt.useContext(Pt).direction===_e.TextDirection.RightToLeft;return bt.createElement("div",{className:kt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":yn})},bt.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Jt,"%")}},Jt,"%"))},_e.Separator=function(){return bt.createElement("div",{className:"rpv-core__separator"})},_e.Spinner=$t,_e.Splitter=function(Gt){var Jt=Gt.constrain,yn=bt.useContext(Pt).direction===_e.TextDirection.RightToLeft,bn=bt.useRef(),An=bt.useRef(),Rn=bt.useRef(),jn=bt.useRef(0),Dn=bt.useRef(0),_n=bt.useRef(0),$n=bt.useRef(0),On={capture:!0},tr=function(Jn){var ur=bn.current,lr=An.current,or=Rn.current;if(ur&&lr&&or){var Jr=$n.current,Dr=Jn.clientX-jn.current,Or=_n.current+(yn?-Dr:Dr),Ur=ur.parentElement.getBoundingClientRect().width,Cr=100*Or/Ur;if(ur.classList.add("rpv-core__splitter--resizing"),Jt){var Vr=Ur-Or-Jr;if(!Jt({firstHalfPercentage:Cr,firstHalfSize:Or,secondHalfPercentage:100*Vr/Ur,secondHalfSize:Vr}))return}lr.style.width="".concat(Cr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),lr.classList.add("rpv-core__splitter-sibling--resizing"),or.classList.add("rpv-core__splitter-sibling--resizing")}},er=function(Jn){var ur=bn.current,lr=An.current,or=Rn.current;ur&&lr&&or&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),ur.classList.remove("rpv-core__splitter--resizing"),lr.classList.remove("rpv-core__splitter-sibling--resizing"),or.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",tr,On),document.removeEventListener("mouseup",er,On))};return bt.useEffect(function(){var Jn=bn.current;Jn&&($n.current=Jn.getBoundingClientRect().width,An.current=Jn.previousElementSibling,Rn.current=Jn.nextElementSibling)},[]),bt.createElement("div",{ref:bn,className:"rpv-core__splitter",onMouseDown:function(Jn){var ur=An.current;ur&&(jn.current=Jn.clientX,Dn.current=Jn.clientY,_n.current=ur.getBoundingClientRect().width,document.addEventListener("mousemove",tr,On),document.addEventListener("mouseup",er,On))}})},_e.TextBox=Bt,_e.ThemeContext=Pt,_e.Tooltip=function(Gt){var Jt=Gt.ariaControlsSuffix,yn=Gt.content,bn=Gt.offset,An=Gt.position,Rn=Gt.target,jn=Sn(!1),Dn=jn.opened,_n=jn.toggle,$n=bt.useRef(),On=bt.useRef(),tr=bt.useMemo(function(){return Jt||"".concat(Xt())},[]);tn(function(){$n.current&&document.activeElement&&$n.current.contains(document.activeElement)&&Jn()});var er=function(){_n(_e.ToggleStatus.Open)},Jn=function(){_n(_e.ToggleStatus.Close)};return bt.createElement(bt.Fragment,null,bt.createElement("div",{ref:$n,"aria-describedby":"rpv-core__tooltip-body-".concat(tr),onBlur:function(ur){ur.relatedTarget instanceof HTMLElement&&ur.currentTarget.parentElement&&ur.currentTarget.parentElement.contains(ur.relatedTarget)?On.current&&(On.current.style.display="none"):Jn()},onFocus:er,onMouseEnter:er,onMouseLeave:Jn},Rn),Dn&&bt.createElement(Qn,{ariaControlsSuffix:tr,contentRef:On,offset:bn,position:An,targetRef:$n},yn()))},_e.Viewer=function(Gt){var Jt=Gt.characterMap,yn=Gt.defaultScale,bn=Gt.enableSmoothScroll,An=bn===void 0||bn,Rn=Gt.fileUrl,jn=Gt.httpHeaders,Dn=jn===void 0?{}:jn,_n=Gt.initialPage,$n=_n===void 0?0:_n,On=Gt.pageLayout,tr=Gt.initialRotation,er=tr===void 0?0:tr,Jn=Gt.localization,ur=Gt.plugins,lr=ur===void 0?[]:ur,or=Gt.renderError,Jr=Gt.renderLoader,Dr=Gt.renderPage,Or=Gt.renderProtectedView,Ur=Gt.scrollMode,Cr=Ur===void 0?_e.ScrollMode.Vertical:Ur,Vr=Gt.setRenderRange,jr=Vr===void 0?Yw:Vr,as=Gt.transformGetDocumentParams,is=Gt.theme,ls=is===void 0?{direction:_e.TextDirection.LeftToRight,theme:"light"}:is,us=Gt.viewMode,fs=us===void 0?_e.ViewMode.SinglePage:us,Os=Gt.withCredentials,Ss=Os!==void 0&&Os,Ns=Gt.onDocumentAskPassword,Ms=Gt.onDocumentLoad,Ls=Ms===void 0?function(){}:Ms,Ds=Gt.onPageChange,Fs=Ds===void 0?function(){}:Ds,Js=Gt.onRotate,xa=Js===void 0?function(){}:Js,Ho=Gt.onRotatePage,Ws=Ho===void 0?function(){}:Ho,yo=Gt.onSwitchTheme,Il=yo===void 0?function(){}:yo,Br=Gt.onZoom,Nr=Br===void 0?function(){}:Br,Rr=bt.useState({data:Rn,name:typeof Rn=="string"?Rn:"",shouldLoad:!1}),Mr=Rr[0],Tr=Rr[1],Gr=function(_s,Cs){Tr({data:Cs,name:_s,shouldLoad:!0})},qr=bt.useState(!1),Fr=qr[0],br=qr[1],Zr=xn(Mr);bt.useEffect(function(){var _s,Cs,Hs,ms;_s=Zr.data,ms=typeof(Cs=Rn),(Hs=typeof _s)=="string"&&ms==="string"&&_s===Cs||Hs==="object"&&ms==="object"&&_s.length===Cs.length&&_s.every(function(gu,qp){return gu===Cs[qp]})||Tr({data:Rn,name:typeof Rn=="string"?Rn:"",shouldLoad:Fr})},[Rn,Fr]);var _i=Lt({onVisibilityChanged:function(_s){br(_s.isVisible),_s.isVisible&&Tr(function(Cs){return Object.assign({},Cs,{shouldLoad:!0})})}}),Es=typeof ls=="string"?{direction:_e.TextDirection.LeftToRight,theme:ls}:ls,ys=bt.useState(Jn||gn),Ks=ys[0],wo=ys[1],Qr={l10n:Ks,setL10n:wo},Ys=Object.assign({},{direction:Es.direction},Kw(Es.theme||"light",Il));return bt.useEffect(function(){Jn&&wo(Jn)},[Jn]),bt.createElement(wn.Provider,{value:Qr},bt.createElement(Pt.Provider,{value:Ys},bt.createElement("div",{ref:_i,className:"rpv-core__viewer rpv-core__viewer--".concat(Ys.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Mr.shouldLoad&&bt.createElement(qw,{characterMap:Jt,file:Mr.data,httpHeaders:Dn,render:function(_s){return bt.createElement(Gw,{defaultScale:yn,doc:_s,render:function(Cs,Hs){return bt.createElement(Vw,{currentFile:{data:Mr.data,name:Mr.name},defaultScale:yn,doc:_s,enableSmoothScroll:An,initialPage:$n,initialRotation:er,initialScale:Hs,pageLayout:On,pageSizes:Cs,plugins:lr,renderPage:Dr,scrollMode:Cr,setRenderRange:jr,viewMode:fs,viewerState:{file:Mr,fullScreenMode:_e.FullScreenMode.Normal,pageIndex:-1,pageHeight:Cs[0].pageHeight,pageWidth:Cs[0].pageWidth,pagesRotation:new Map,rotation:er,scale:Hs,scrollMode:Cr,viewMode:fs},onDocumentLoad:Ls,onOpenFile:Gr,onPageChange:Fs,onRotate:xa,onRotatePage:Ws,onZoom:Nr})},scrollMode:Cr,viewMode:fs})},renderError:or,renderLoader:Jr,renderProtectedView:Or,transformGetDocumentParams:as,withCredentials:Ss,onDocumentAskPassword:Ns}))))},_e.Worker=function(Gt){var Jt=Gt.children,yn=Gt.workerUrl;return Et.GlobalWorkerOptions.workerSrc=yn,bt.createElement(bt.Fragment,null,Jt)},_e.chunk=kn,_e.classNames=kt,_e.createStore=function(Gt){var Jt=Gt||{},yn={},bn=function(Rn,jn){var Dn;Jt=St(St({},Jt),((Dn={})[Rn]=jn,Dn)),(yn[Rn]||[]).forEach(function(_n){return _n(Jt[Rn])})},An=function(Rn){return Jt[Rn]};return{subscribe:function(Rn,jn){yn[Rn]=(yn[Rn]||[]).concat(jn)},unsubscribe:function(Rn,jn){yn[Rn]=(yn[Rn]||[]).filter(function(Dn){return Dn!==jn})},update:function(Rn,jn){bn(Rn,jn)},updateCurrentValue:function(Rn,jn){var Dn=An(Rn);Dn!==void 0&&bn(Rn,jn(Dn))},get:function(Rn){return An(Rn)}}},_e.getDestination=gr,_e.getPage=dr,_e.isFullScreenEnabled=Wt,_e.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},_e.useDebounceCallback=En,_e.useIntersectionObserver=Lt,_e.useIsMounted=un,_e.useIsomorphicLayoutEffect=Mt,_e.usePrevious=xn,_e.useRenderQueue=nn})(core_min);const Load=()=>{reactExports.useState(null),reactExports.useState(null),reactExports.useState(null);const[_e,$]=reactExports.useState(null),[ht,vt]=reactExports.useState(""),[xt,bt]=reactExports.useState(null),[Et,_t]=reactExports.useState(null);function At(Rt){const Pt=Rt.target.files[0];if($(Pt.size/(1024*1024)),Pt){const kt=new FileReader;kt.onloadend=()=>{bt(kt.result.split(",")[1])},kt.readAsDataURL(Pt);const Mt=Rt.target.value.replace("C:\\fakepath\\","");vt(Mt)}else alert("No file selected")}const Ct=async Rt=>{Rt.preventDefault();try{await axios.post("/en/uploadpdf",{file:xt,filename:ht}),console.log("Successfully uploaded.")}catch(Pt){console.log("Error uploading details:",Pt),alert("File size too large")}},St=async Rt=>{Rt.preventDefault();try{console.log("hi");const Pt=await axios.get("/en/pdfid/66813196189877e17f54a9e0",{responseType:"arraybuffer"}),kt=new Uint8Array(Pt.data),Mt=new Blob([kt],{type:"application/pdf"});let Lt=window.URL.createObjectURL(Mt);_t(Lt)}catch(Pt){console.log("Error uploading details:",Pt),alert("File size too large")}};return console.log("url is ",Et),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("form",{onSubmit:Ct,children:[jsxRuntimeExports.jsx("input",{type:"file",onChange:At,accept:"application/pdf"}),jsxRuntimeExports.jsx("button",{type:"submit",children:"Upload"})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{onClick:St,children:"show pdf"}),Et&&jsxRuntimeExports.jsx(Document,{file:Et,children:jsxRuntimeExports.jsx(Page,{pageNumber:1})})]})};function App(){const[_e,$]=reactExports.useState(!0);return jsxRuntimeExports.jsx("div",{className:"App",children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/main",element:jsxRuntimeExports.jsx(Main,{isDoctor:_e})}),jsxRuntimeExports.jsx(Route,{path:"/form",element:jsxRuntimeExports.jsx(Form,{})}),jsxRuntimeExports.jsx(Route,{path:"/patient",element:jsxRuntimeExports.jsx(Patient,{isDoctor:_e})}),jsxRuntimeExports.jsx(Route,{path:"/signin",element:jsxRuntimeExports.jsx(Signin,{setIsDoctor:$,isDoctor:_e})}),jsxRuntimeExports.jsx(Route,{path:"/newSignin",element:jsxRuntimeExports.jsx(NewSignin,{})}),jsxRuntimeExports.jsx(Route,{path:"/upload",element:jsxRuntimeExports.jsx(Upload,{})}),jsxRuntimeExports.jsx(Route,{path:"/load",element:jsxRuntimeExports.jsx(Load,{})})]})})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
