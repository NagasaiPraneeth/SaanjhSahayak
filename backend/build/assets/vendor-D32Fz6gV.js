var U5=Object.defineProperty;var f3=_e=>{throw TypeError(_e)};var H5=(_e,$,xt)=>$ in _e?U5(_e,$,{enumerable:!0,configurable:!0,writable:!0,value:xt}):_e[$]=xt;var Ur=(_e,$,xt)=>H5(_e,typeof $!="symbol"?$+"":$,xt),py=(_e,$,xt)=>$.has(_e)||f3("Cannot "+xt);var Ot=(_e,$,xt)=>(py(_e,$,"read from private field"),xt?xt.call(_e):$.get(_e)),Nn=(_e,$,xt)=>$.has(_e)?f3("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(_e):$.set(_e,xt),$n=(_e,$,xt,bt)=>(py(_e,$,"write to private field"),bt?bt.call(_e,xt):$.set(_e,xt),xt),In=(_e,$,xt)=>(py(_e,$,"access private method"),xt);var So=(_e,$,xt,bt)=>({set _(At){$n(_e,$,At,xt)},get _(){return Ot(_e,$,bt)}});function _mergeNamespaces(_e,$){for(var xt=0;xt<$.length;xt++){const bt=$[xt];if(typeof bt!="string"&&!Array.isArray(bt)){for(const At in bt)if(At!=="default"&&!(At in _e)){const St=Object.getOwnPropertyDescriptor(bt,At);St&&Object.defineProperty(_e,At,St.get?St:{enumerable:!0,get:()=>bt[At]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var $=_e.default;if(typeof $=="function"){var xt=function bt(){return this instanceof bt?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};xt.prototype=$.prototype}else xt={};return Object.defineProperty(xt,"__esModule",{value:!0}),Object.keys(_e).forEach(function(bt){var At=Object.getOwnPropertyDescriptor(_e,bt);Object.defineProperty(xt,bt,At.get?At:{enumerable:!0,get:function(){return _e[bt]}})}),xt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$8=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$4(_e){return _e===null||typeof _e!="object"?null:(_e=z$2&&_e[z$2]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$5={};function E$2(_e,$,xt){this.props=_e,this.context=$,this.refs=D$5,this.updater=xt||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_e,$){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,$,"setState")};E$2.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$4(){}F$4.prototype=E$2.prototype;function G$3(_e,$,xt){this.props=_e,this.context=$,this.refs=D$5,this.updater=xt||B$2}var H$3=G$3.prototype=new F$4;H$3.constructor=G$3;C$2(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$5=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$4(_e,$,xt){var bt,At={},St=null,Et=null;if($!=null)for(bt in $.ref!==void 0&&(Et=$.ref),$.key!==void 0&&(St=""+$.key),$)J$2.call($,bt)&&!L$2.hasOwnProperty(bt)&&(At[bt]=$[bt]);var Ct=arguments.length-2;if(Ct===1)At.children=xt;else if(1<Ct){for(var Pt=Array(Ct),wt=0;wt<Ct;wt++)Pt[wt]=arguments[wt+2];At.children=Pt}if(_e&&_e.defaultProps)for(bt in Ct=_e.defaultProps,Ct)At[bt]===void 0&&(At[bt]=Ct[bt]);return{$$typeof:l$3,type:_e,key:St,ref:Et,props:At,_owner:K$1.current}}function N$4(_e,$){return{$$typeof:l$3,type:_e.type,key:$,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$3(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$3}function escape$1(_e){var $={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(xt){return $[xt]})}var P$4=/\/+/g;function Q$1(_e,$){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):$.toString(36)}function R$2(_e,$,xt,bt,At){var St=typeof _e;(St==="undefined"||St==="boolean")&&(_e=null);var Et=!1;if(_e===null)Et=!0;else switch(St){case"string":case"number":Et=!0;break;case"object":switch(_e.$$typeof){case l$3:case n$5:Et=!0}}if(Et)return Et=_e,At=At(Et),_e=bt===""?"."+Q$1(Et,0):bt,I$5(At)?(xt="",_e!=null&&(xt=_e.replace(P$4,"$&/")+"/"),R$2(At,$,xt,"",function(wt){return wt})):At!=null&&(O$3(At)&&(At=N$4(At,xt+(!At.key||Et&&Et.key===At.key?"":(""+At.key).replace(P$4,"$&/")+"/")+_e)),$.push(At)),1;if(Et=0,bt=bt===""?".":bt+":",I$5(_e))for(var Ct=0;Ct<_e.length;Ct++){St=_e[Ct];var Pt=bt+Q$1(St,Ct);Et+=R$2(St,$,xt,Pt,At)}else if(Pt=A$4(_e),typeof Pt=="function")for(_e=Pt.call(_e),Ct=0;!(St=_e.next()).done;)St=St.value,Pt=bt+Q$1(St,Ct++),Et+=R$2(St,$,xt,Pt,At);else if(St==="object")throw $=String(_e),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Et}function S$5(_e,$,xt){if(_e==null)return _e;var bt=[],At=0;return R$2(_e,bt,"","",function(St){return $.call(xt,St,At++)}),bt}function T$4(_e){if(_e._status===-1){var $=_e._result;$=$(),$.then(function(xt){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=xt)},function(xt){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=xt)}),_e._status===-1&&(_e._status=0,_e._result=$)}if(_e._status===1)return _e._result.default;throw _e._result}var U$3={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(_e,$,xt){S$5(_e,function(){$.apply(this,arguments)},xt)},count:function(_e){var $=0;return S$5(_e,function(){$++}),$},toArray:function(_e){return S$5(_e,function($){return $})||[]},only:function(_e){if(!O$3(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$2;react_production_min.Fragment=p$6;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$2;react_production_min.cloneElement=function(_e,$,xt){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var bt=C$2({},_e.props),At=_e.key,St=_e.ref,Et=_e._owner;if($!=null){if($.ref!==void 0&&(St=$.ref,Et=K$1.current),$.key!==void 0&&(At=""+$.key),_e.type&&_e.type.defaultProps)var Ct=_e.type.defaultProps;for(Pt in $)J$2.call($,Pt)&&!L$2.hasOwnProperty(Pt)&&(bt[Pt]=$[Pt]===void 0&&Ct!==void 0?Ct[Pt]:$[Pt])}var Pt=arguments.length-2;if(Pt===1)bt.children=xt;else if(1<Pt){Ct=Array(Pt);for(var wt=0;wt<Pt;wt++)Ct[wt]=arguments[wt+2];bt.children=Ct}return{$$typeof:l$3,type:_e.type,key:At,ref:St,props:bt,_owner:Et}};react_production_min.createContext=function(_e){return _e={$$typeof:u$8,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$5,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$4;react_production_min.createFactory=function(_e){var $=M$4.bind(null,_e);return $.type=_e,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$2,render:_e}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(_e){return{$$typeof:y$5,_payload:{_status:-1,_result:_e},_init:T$4}};react_production_min.memo=function(_e,$){return{$$typeof:x$1,type:_e,compare:$===void 0?null:$}};react_production_min.startTransition=function(_e){var $=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=$}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(_e,$){return U$3.current.useCallback(_e,$)};react_production_min.useContext=function(_e){return U$3.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$3.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,$){return U$3.current.useEffect(_e,$)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(_e,$,xt){return U$3.current.useImperativeHandle(_e,$,xt)};react_production_min.useInsertionEffect=function(_e,$){return U$3.current.useInsertionEffect(_e,$)};react_production_min.useLayoutEffect=function(_e,$){return U$3.current.useLayoutEffect(_e,$)};react_production_min.useMemo=function(_e,$){return U$3.current.useMemo(_e,$)};react_production_min.useReducer=function(_e,$,xt){return U$3.current.useReducer(_e,$,xt)};react_production_min.useRef=function(_e){return U$3.current.useRef(_e)};react_production_min.useState=function(_e){return U$3.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,$,xt){return U$3.current.useSyncExternalStore(_e,$,xt)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),t$4=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$6=reactExports,k=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$4=f$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$1(_e,$,xt){var bt,At={},St=null,Et=null;xt!==void 0&&(St=""+xt),$.key!==void 0&&(St=""+$.key),$.ref!==void 0&&(Et=$.ref);for(bt in $)m$5.call($,bt)&&!p$5.hasOwnProperty(bt)&&(At[bt]=$[bt]);if(_e&&_e.defaultProps)for(bt in $=_e.defaultProps,$)At[bt]===void 0&&(At[bt]=$[bt]);return{$$typeof:k,type:_e,key:St,ref:Et,props:At,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function $(Ut,Lt){var Vt=Ut.length;Ut.push(Lt);e:for(;0<Vt;){var an=Vt-1>>>1,zt=Ut[an];if(0<At(zt,Lt))Ut[an]=Lt,Ut[Vt]=zt,Vt=an;else break e}}function xt(Ut){return Ut.length===0?null:Ut[0]}function bt(Ut){if(Ut.length===0)return null;var Lt=Ut[0],Vt=Ut.pop();if(Vt!==Lt){Ut[0]=Vt;e:for(var an=0,zt=Ut.length,Wt=zt>>>1;an<Wt;){var nn=2*(an+1)-1,dn=Ut[nn],on=nn+1,hn=Ut[on];if(0>At(dn,Vt))on<zt&&0>At(hn,dn)?(Ut[an]=hn,Ut[on]=Vt,an=on):(Ut[an]=dn,Ut[nn]=Vt,an=nn);else if(on<zt&&0>At(hn,Vt))Ut[an]=hn,Ut[on]=Vt,an=on;else break e}}return Lt}function At(Ut,Lt){var Vt=Ut.sortIndex-Lt.sortIndex;return Vt!==0?Vt:Ut.id-Lt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var St=performance;_e.unstable_now=function(){return St.now()}}else{var Et=Date,Ct=Et.now();_e.unstable_now=function(){return Et.now()-Ct}}var Pt=[],wt=[],kt=1,Rt=null,ht=3,vt=!1,Ft=!1,Ht=!1,qt=typeof setTimeout=="function"?setTimeout:null,Nt=typeof clearTimeout=="function"?clearTimeout:null,$t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Mt(Ut){for(var Lt=xt(wt);Lt!==null;){if(Lt.callback===null)bt(wt);else if(Lt.startTime<=Ut)bt(wt),Lt.sortIndex=Lt.expirationTime,$(Pt,Lt);else break;Lt=xt(wt)}}function Bt(Ut){if(Ht=!1,Mt(Ut),!Ft)if(xt(Pt)!==null)Ft=!0,Yt(_t);else{var Lt=xt(wt);Lt!==null&&un(Bt,Lt.startTime-Ut)}}function _t(Ut,Lt){Ft=!1,Ht&&(Ht=!1,Nt(Gt),Gt=-1),vt=!0;var Vt=ht;try{for(Mt(Lt),Rt=xt(Pt);Rt!==null&&(!(Rt.expirationTime>Lt)||Ut&&!en());){var an=Rt.callback;if(typeof an=="function"){Rt.callback=null,ht=Rt.priorityLevel;var zt=an(Rt.expirationTime<=Lt);Lt=_e.unstable_now(),typeof zt=="function"?Rt.callback=zt:Rt===xt(Pt)&&bt(Pt),Mt(Lt)}else bt(Pt);Rt=xt(Pt)}if(Rt!==null)var Wt=!0;else{var nn=xt(wt);nn!==null&&un(Bt,nn.startTime-Lt),Wt=!1}return Wt}finally{Rt=null,ht=Vt,vt=!1}}var Kt=!1,jt=null,Gt=-1,Qt=5,ln=-1;function en(){return!(_e.unstable_now()-ln<Qt)}function gn(){if(jt!==null){var Ut=_e.unstable_now();ln=Ut;var Lt=!0;try{Lt=jt(!0,Ut)}finally{Lt?tn():(Kt=!1,jt=null)}}else Kt=!1}var tn;if(typeof $t=="function")tn=function(){$t(gn)};else if(typeof MessageChannel<"u"){var bn=new MessageChannel,Xt=bn.port2;bn.port1.onmessage=gn,tn=function(){Xt.postMessage(null)}}else tn=function(){qt(gn,0)};function Yt(Ut){jt=Ut,Kt||(Kt=!0,tn())}function un(Ut,Lt){Gt=qt(function(){Ut(_e.unstable_now())},Lt)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Ut){Ut.callback=null},_e.unstable_continueExecution=function(){Ft||vt||(Ft=!0,Yt(_t))},_e.unstable_forceFrameRate=function(Ut){0>Ut||125<Ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Qt=0<Ut?Math.floor(1e3/Ut):5},_e.unstable_getCurrentPriorityLevel=function(){return ht},_e.unstable_getFirstCallbackNode=function(){return xt(Pt)},_e.unstable_next=function(Ut){switch(ht){case 1:case 2:case 3:var Lt=3;break;default:Lt=ht}var Vt=ht;ht=Lt;try{return Ut()}finally{ht=Vt}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Ut,Lt){switch(Ut){case 1:case 2:case 3:case 4:case 5:break;default:Ut=3}var Vt=ht;ht=Ut;try{return Lt()}finally{ht=Vt}},_e.unstable_scheduleCallback=function(Ut,Lt,Vt){var an=_e.unstable_now();switch(typeof Vt=="object"&&Vt!==null?(Vt=Vt.delay,Vt=typeof Vt=="number"&&0<Vt?an+Vt:an):Vt=an,Ut){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=Vt+zt,Ut={id:kt++,callback:Lt,priorityLevel:Ut,startTime:Vt,expirationTime:zt,sortIndex:-1},Vt>an?(Ut.sortIndex=Vt,$(wt,Ut),xt(Pt)===null&&Ut===xt(wt)&&(Ht?(Nt(Gt),Gt=-1):Ht=!0,un(Bt,Vt-an))):(Ut.sortIndex=zt,$(Pt,Ut),Ft||vt||(Ft=!0,Yt(_t))),Ut},_e.unstable_shouldYield=en,_e.unstable_wrapCallback=function(Ut){var Lt=ht;return function(){var Vt=ht;ht=Lt;try{return Ut.apply(this,arguments)}finally{ht=Vt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(_e){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+_e,xt=1;xt<arguments.length;xt++)$+="&args[]="+encodeURIComponent(arguments[xt]);return"Minified React error #"+_e+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,$){ha(_e,$),ha(_e+"Capture",$)}function ha(_e,$){for(ea[_e]=$,_e=0;_e<$.length;_e++)da.add($[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,$,xt,bt){if(xt!==null&&xt.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return bt?!1:xt!==null?!xt.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,$,xt,bt){if($===null||typeof $>"u"||pa(_e,$,xt,bt))return!0;if(bt)return!1;if(xt!==null)switch(xt.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$1(_e,$,xt,bt,At,St,Et){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=bt,this.attributeNamespace=At,this.mustUseProperty=xt,this.propertyName=_e,this.type=$,this.sanitizeURL=St,this.removeEmptyString=Et}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$1[_e]=new v$1(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var $=_e[0];z$1[$]=new v$1($,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$1[_e]=new v$1(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$1[_e]=new v$1(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$1[_e]=new v$1(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$1[_e]=new v$1(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$1[_e]=new v$1(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$1[_e]=new v$1(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$1[_e]=new v$1(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$1[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$1[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,$,xt,bt){var At=z$1.hasOwnProperty($)?z$1[$]:null;(At!==null?At.type!==0:bt||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,xt,At,bt)&&(xt=null),bt||At===null?oa($)&&(xt===null?_e.removeAttribute($):_e.setAttribute($,""+xt)):At.mustUseProperty?_e[At.propertyName]=xt===null?At.type===3?!1:"":xt:($=At.attributeName,bt=At.attributeNamespace,xt===null?_e.removeAttribute($):(At=At.type,xt=At===3||At===4&&xt===!0?"":""+xt,bt?_e.setAttributeNS(bt,$,xt):_e.setAttribute($,xt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$3=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(xt){var $=xt.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,$){if(!_e||Na)return"";Na=!0;var xt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(wt){var bt=wt}Reflect.construct(_e,[],$)}else{try{$.call()}catch(wt){bt=wt}_e.call($.prototype)}else{try{throw Error()}catch(wt){bt=wt}_e()}}catch(wt){if(wt&&bt&&typeof wt.stack=="string"){for(var At=wt.stack.split(`
`),St=bt.stack.split(`
`),Et=At.length-1,Ct=St.length-1;1<=Et&&0<=Ct&&At[Et]!==St[Ct];)Ct--;for(;1<=Et&&0<=Ct;Et--,Ct--)if(At[Et]!==St[Ct]){if(Et!==1||Ct!==1)do if(Et--,Ct--,0>Ct||At[Et]!==St[Ct]){var Pt=`
`+At[Et].replace(" at new "," at ");return _e.displayName&&Pt.includes("<anonymous>")&&(Pt=Pt.replace("<anonymous>",_e.displayName)),Pt}while(1<=Et&&0<=Ct);break}}}finally{Na=!1,Error.prepareStackTrace=xt}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var $=_e.render;return _e=_e.displayName,_e||(_e=$.displayName||$.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return $=_e.displayName||null,$!==null?$:Qa(_e.type)||"Memo";case Ha:$=_e._payload,_e=_e._init;try{return Qa(_e($))}catch{}}return null}function Ra(_e){var $=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=$.render,_e=_e.displayName||_e.name||"",$.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var $=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(_e){var $=Ta(_e)?"checked":"value",xt=Object.getOwnPropertyDescriptor(_e.constructor.prototype,$),bt=""+_e[$];if(!_e.hasOwnProperty($)&&typeof xt<"u"&&typeof xt.get=="function"&&typeof xt.set=="function"){var At=xt.get,St=xt.set;return Object.defineProperty(_e,$,{configurable:!0,get:function(){return At.call(this)},set:function(Et){bt=""+Et,St.call(this,Et)}}),Object.defineProperty(_e,$,{enumerable:xt.enumerable}),{getValue:function(){return bt},setValue:function(Et){bt=""+Et},stopTracking:function(){_e._valueTracker=null,delete _e[$]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var $=_e._valueTracker;if(!$)return!0;var xt=$.getValue(),bt="";return _e&&(bt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=bt,_e!==xt?($.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,$){var xt=$.checked;return A$3({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:xt??_e._wrapperState.initialChecked})}function Za(_e,$){var xt=$.defaultValue==null?"":$.defaultValue,bt=$.checked!=null?$.checked:$.defaultChecked;xt=Sa($.value!=null?$.value:xt),_e._wrapperState={initialChecked:bt,initialValue:xt,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(_e,$){$=$.checked,$!=null&&ta(_e,"checked",$,!1)}function bb(_e,$){ab(_e,$);var xt=Sa($.value),bt=$.type;if(xt!=null)bt==="number"?(xt===0&&_e.value===""||_e.value!=xt)&&(_e.value=""+xt):_e.value!==""+xt&&(_e.value=""+xt);else if(bt==="submit"||bt==="reset"){_e.removeAttribute("value");return}$.hasOwnProperty("value")?cb(_e,$.type,xt):$.hasOwnProperty("defaultValue")&&cb(_e,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(_e.defaultChecked=!!$.defaultChecked)}function db(_e,$,xt){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var bt=$.type;if(!(bt!=="submit"&&bt!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+_e._wrapperState.initialValue,xt||$===_e.value||(_e.value=$),_e.defaultValue=$}xt=_e.name,xt!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,xt!==""&&(_e.name=xt)}function cb(_e,$,xt){($!=="number"||Xa(_e.ownerDocument)!==_e)&&(xt==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+xt&&(_e.defaultValue=""+xt))}var eb=Array.isArray;function fb(_e,$,xt,bt){if(_e=_e.options,$){$={};for(var At=0;At<xt.length;At++)$["$"+xt[At]]=!0;for(xt=0;xt<_e.length;xt++)At=$.hasOwnProperty("$"+_e[xt].value),_e[xt].selected!==At&&(_e[xt].selected=At),At&&bt&&(_e[xt].defaultSelected=!0)}else{for(xt=""+Sa(xt),$=null,At=0;At<_e.length;At++){if(_e[At].value===xt){_e[At].selected=!0,bt&&(_e[At].defaultSelected=!0);return}$!==null||_e[At].disabled||($=_e[At])}$!==null&&($.selected=!0)}}function gb(_e,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$3({},$,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,$){var xt=$.value;if(xt==null){if(xt=$.children,$=$.defaultValue,xt!=null){if($!=null)throw Error(p$4(92));if(eb(xt)){if(1<xt.length)throw Error(p$4(93));xt=xt[0]}$=xt}$==null&&($=""),xt=$}_e._wrapperState={initialValue:Sa(xt)}}function ib(_e,$){var xt=Sa($.value),bt=Sa($.defaultValue);xt!=null&&(xt=""+xt,xt!==_e.value&&(_e.value=xt),$.defaultValue==null&&_e.defaultValue!==xt&&(_e.defaultValue=xt)),bt!=null&&(_e.defaultValue=""+bt)}function jb(_e){var $=_e.textContent;$===_e._wrapperState.initialValue&&$!==""&&$!==null&&(_e.value=$)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,$){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb($):_e==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,xt,bt,At){MSApp.execUnsafeLocalFunction(function(){return _e($,xt,bt,At)})}:_e}(function(_e,$){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;$.firstChild;)_e.appendChild($.firstChild)}});function ob(_e,$){if($){var xt=_e.firstChild;if(xt&&xt===_e.lastChild&&xt.nodeType===3){xt.nodeValue=$;return}}_e.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function($){$=$+_e.charAt(0).toUpperCase()+_e.substring(1),pb[$]=pb[_e]})});function rb(_e,$,xt){return $==null||typeof $=="boolean"||$===""?"":xt||typeof $!="number"||$===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+$).trim():$+"px"}function sb(_e,$){_e=_e.style;for(var xt in $)if($.hasOwnProperty(xt)){var bt=xt.indexOf("--")===0,At=rb(xt,$[xt],bt);xt==="float"&&(xt="cssFloat"),bt?_e.setProperty(xt,At):_e[xt]=At}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,$){if($){if(tb[_e]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$4(137,_e));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$4(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$4(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$4(62))}}function vb(_e,$){if(_e.indexOf("-")===-1)return typeof $.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$4(280));var $=_e.stateNode;$&&($=Db($),yb(_e.stateNode,_e.type,$))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,$=Ab;if(Ab=zb=null,Bb(_e),$)for(_e=0;_e<$.length;_e++)Bb($[_e])}}function Gb(_e,$){return _e($)}function Hb(){}var Ib=!1;function Jb(_e,$,xt){if(Ib)return _e($,xt);Ib=!0;try{return Gb(_e,$,xt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,$){var xt=_e.stateNode;if(xt===null)return null;var bt=Db(xt);if(bt===null)return null;xt=bt[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(bt=!bt.disabled)||(_e=_e.type,bt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!bt;break e;default:_e=!1}if(_e)return null;if(xt&&typeof xt!="function")throw Error(p$4(231,$,typeof xt));return xt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,$,xt,bt,At,St,Et,Ct,Pt){var wt=Array.prototype.slice.call(arguments,3);try{$.apply(xt,wt)}catch(kt){this.onError(kt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,$,xt,bt,At,St,Et,Ct,Pt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,$,xt,bt,At,St,Et,Ct,Pt){if(Tb.apply(this,arguments),Ob){if(Ob){var wt=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=wt)}}function Vb(_e){var $=_e,xt=_e;if(_e.alternate)for(;$.return;)$=$.return;else{_e=$;do $=_e,$.flags&4098&&(xt=$.return),_e=$.return;while(_e)}return $.tag===3?xt:null}function Wb(_e){if(_e.tag===13){var $=_e.memoizedState;if($===null&&(_e=_e.alternate,_e!==null&&($=_e.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$4(188))}function Yb(_e){var $=_e.alternate;if(!$){if($=Vb(_e),$===null)throw Error(p$4(188));return $!==_e?null:_e}for(var xt=_e,bt=$;;){var At=xt.return;if(At===null)break;var St=At.alternate;if(St===null){if(bt=At.return,bt!==null){xt=bt;continue}break}if(At.child===St.child){for(St=At.child;St;){if(St===xt)return Xb(At),_e;if(St===bt)return Xb(At),$;St=St.sibling}throw Error(p$4(188))}if(xt.return!==bt.return)xt=At,bt=St;else{for(var Et=!1,Ct=At.child;Ct;){if(Ct===xt){Et=!0,xt=At,bt=St;break}if(Ct===bt){Et=!0,bt=At,xt=St;break}Ct=Ct.sibling}if(!Et){for(Ct=St.child;Ct;){if(Ct===xt){Et=!0,xt=St,bt=At;break}if(Ct===bt){Et=!0,bt=St,xt=At;break}Ct=Ct.sibling}if(!Et)throw Error(p$4(189))}}if(xt.alternate!==bt)throw Error(p$4(190))}if(xt.tag!==3)throw Error(p$4(188));return xt.stateNode.current===xt?_e:$}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var $=$b(_e);if($!==null)return $;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,$){var xt=_e.pendingLanes;if(xt===0)return 0;var bt=0,At=_e.suspendedLanes,St=_e.pingedLanes,Et=xt&268435455;if(Et!==0){var Ct=Et&~At;Ct!==0?bt=tc(Ct):(St&=Et,St!==0&&(bt=tc(St)))}else Et=xt&~At,Et!==0?bt=tc(Et):St!==0&&(bt=tc(St));if(bt===0)return 0;if($!==0&&$!==bt&&!($&At)&&(At=bt&-bt,St=$&-$,At>=St||At===16&&(St&4194240)!==0))return $;if(bt&4&&(bt|=xt&16),$=_e.entangledLanes,$!==0)for(_e=_e.entanglements,$&=bt;0<$;)xt=31-oc($),At=1<<xt,bt|=_e[xt],$&=~At;return bt}function vc(_e,$){switch(_e){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,$){for(var xt=_e.suspendedLanes,bt=_e.pingedLanes,At=_e.expirationTimes,St=_e.pendingLanes;0<St;){var Et=31-oc(St),Ct=1<<Et,Pt=At[Et];Pt===-1?(!(Ct&xt)||Ct&bt)&&(At[Et]=vc(Ct,$)):Pt<=$&&(_e.expiredLanes|=Ct),St&=~Ct}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var $=[],xt=0;31>xt;xt++)$.push(_e);return $}function Ac(_e,$,xt){_e.pendingLanes|=$,$!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,$=31-oc($),_e[$]=xt}function Bc(_e,$){var xt=_e.pendingLanes&~$;_e.pendingLanes=$,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=$,_e.mutableReadLanes&=$,_e.entangledLanes&=$,$=_e.entanglements;var bt=_e.eventTimes;for(_e=_e.expirationTimes;0<xt;){var At=31-oc(xt),St=1<<At;$[At]=0,bt[At]=-1,_e[At]=-1,xt&=~St}}function Cc(_e,$){var xt=_e.entangledLanes|=$;for(_e=_e.entanglements;xt;){var bt=31-oc(xt),At=1<<bt;At&$|_e[bt]&$&&(_e[bt]|=$),xt&=~At}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,$){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(_e,$,xt,bt,At,St){return _e===null||_e.nativeEvent!==St?(_e={blockedOn:$,domEventName:xt,eventSystemFlags:bt,nativeEvent:St,targetContainers:[At]},$!==null&&($=Cb($),$!==null&&Fc($)),_e):(_e.eventSystemFlags|=bt,$=_e.targetContainers,At!==null&&$.indexOf(At)===-1&&$.push(At),_e)}function Uc(_e,$,xt,bt,At){switch($){case"focusin":return Lc=Tc(Lc,_e,$,xt,bt,At),!0;case"dragenter":return Mc=Tc(Mc,_e,$,xt,bt,At),!0;case"mouseover":return Nc=Tc(Nc,_e,$,xt,bt,At),!0;case"pointerover":var St=At.pointerId;return Oc.set(St,Tc(Oc.get(St)||null,_e,$,xt,bt,At)),!0;case"gotpointercapture":return St=At.pointerId,Pc.set(St,Tc(Pc.get(St)||null,_e,$,xt,bt,At)),!0}return!1}function Vc(_e){var $=Wc(_e.target);if($!==null){var xt=Vb($);if(xt!==null){if($=xt.tag,$===13){if($=Wb(xt),$!==null){_e.blockedOn=$,Ic(_e.priority,function(){Gc(xt)});return}}else if($===3&&xt.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=xt.tag===3?xt.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var $=_e.targetContainers;0<$.length;){var xt=Yc(_e.domEventName,_e.eventSystemFlags,$[0],_e.nativeEvent);if(xt===null){xt=_e.nativeEvent;var bt=new xt.constructor(xt.type,xt);wb=bt,xt.target.dispatchEvent(bt),wb=null}else return $=Cb(xt),$!==null&&Fc($),_e.blockedOn=xt,!1;$.shift()}return!0}function Zc(_e,$,xt){Xc(_e)&&xt.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,$){_e.blockedOn===$&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function $(At){return ad(At,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var xt=1;xt<Kc.length;xt++){var bt=Kc[xt];bt.blockedOn===_e&&(bt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach($),Pc.forEach($),xt=0;xt<Qc.length;xt++)bt=Qc[xt],bt.blockedOn===_e&&(bt.blockedOn=null);for(;0<Qc.length&&(xt=Qc[0],xt.blockedOn===null);)Vc(xt),xt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,$,xt,bt){var At=C$1,St=cd.transition;cd.transition=null;try{C$1=1,fd(_e,$,xt,bt)}finally{C$1=At,cd.transition=St}}function gd(_e,$,xt,bt){var At=C$1,St=cd.transition;cd.transition=null;try{C$1=4,fd(_e,$,xt,bt)}finally{C$1=At,cd.transition=St}}function fd(_e,$,xt,bt){if(dd){var At=Yc(_e,$,xt,bt);if(At===null)hd(_e,$,bt,id$2,xt),Sc(_e,bt);else if(Uc(At,_e,$,xt,bt))bt.stopPropagation();else if(Sc(_e,bt),$&4&&-1<Rc.indexOf(_e)){for(;At!==null;){var St=Cb(At);if(St!==null&&Ec(St),St=Yc(_e,$,xt,bt),St===null&&hd(_e,$,bt,id$2,xt),St===At)break;At=St}At!==null&&bt.stopPropagation()}else hd(_e,$,bt,null,xt)}}var id$2=null;function Yc(_e,$,xt,bt){if(id$2=null,_e=xb(bt),_e=Wc(_e),_e!==null)if($=Vb(_e),$===null)_e=null;else if(xt=$.tag,xt===13){if(_e=Wb($),_e!==null)return _e;_e=null}else if(xt===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;_e=null}else $!==_e&&(_e=null);return id$2=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,$=ld,xt=$.length,bt,At="value"in kd?kd.value:kd.textContent,St=At.length;for(_e=0;_e<xt&&$[_e]===At[_e];_e++);var Et=xt-_e;for(bt=1;bt<=Et&&$[xt-bt]===At[St-bt];bt++);return md=At.slice(_e,1<bt?1-bt:void 0)}function od(_e){var $=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&$===13&&(_e=13)):_e=$,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function $(xt,bt,At,St,Et){this._reactName=xt,this._targetInst=At,this.type=bt,this.nativeEvent=St,this.target=Et,this.currentTarget=null;for(var Ct in _e)_e.hasOwnProperty(Ct)&&(xt=_e[Ct],this[Ct]=xt?xt(St):St[Ct]);return this.isDefaultPrevented=(St.defaultPrevented!=null?St.defaultPrevented:St.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var xt=this.nativeEvent;xt&&(xt.preventDefault?xt.preventDefault():typeof xt.returnValue!="unknown"&&(xt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var xt=this.nativeEvent;xt&&(xt.stopPropagation?xt.stopPropagation():typeof xt.cancelBubble!="unknown"&&(xt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(_e):(_e=Od[_e])?!!$[_e]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(_e){if(_e.key){var $=Md[_e.key]||_e.key;if($!=="Unidentified")return $}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe=!1;function ge(_e,$){switch(_e){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,$){switch(_e){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return _e=$.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,$){if(ie)return _e==="compositionend"||!ae&&ge(_e,$)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $==="input"?!!le[_e.type]:$==="textarea"}function ne(_e,$,xt,bt){Eb(bt),$=oe($,"onChange"),0<$.length&&(xt=new td("onChange","change",null,xt,bt),_e.push({event:xt,listeners:$}))}var pe$1=null,qe$1=null;function re(_e){se(_e,0)}function te$1(_e){var $=ue(_e);if(Wa($))return _e}function ve$1(_e,$){if(_e==="change")return $}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(_e){if(_e.propertyName==="value"&&te$1(qe$1)){var $=[];ne($,qe$1,_e,xb(_e)),Jb(re,$)}}function Ce(_e,$,xt){_e==="focusin"?(Ae(),pe$1=$,qe$1=xt,pe$1.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te$1(qe$1)}function Ee(_e,$){if(_e==="click")return te$1($)}function Fe$1(_e,$){if(_e==="input"||_e==="change")return te$1($)}function Ge(_e,$){return _e===$&&(_e!==0||1/_e===1/$)||_e!==_e&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,$){if(He(_e,$))return!0;if(typeof _e!="object"||_e===null||typeof $!="object"||$===null)return!1;var xt=Object.keys(_e),bt=Object.keys($);if(xt.length!==bt.length)return!1;for(bt=0;bt<xt.length;bt++){var At=xt[bt];if(!ja.call($,At)||!He(_e[At],$[At]))return!1}return!0}function Je$1(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,$){var xt=Je$1(_e);_e=0;for(var bt;xt;){if(xt.nodeType===3){if(bt=_e+xt.textContent.length,_e<=$&&bt>=$)return{node:xt,offset:$-_e};_e=bt}e:{for(;xt;){if(xt.nextSibling){xt=xt.nextSibling;break e}xt=xt.parentNode}xt=void 0}xt=Je$1(xt)}}function Le(_e,$){return _e&&$?_e===$?!0:_e&&_e.nodeType===3?!1:$&&$.nodeType===3?Le(_e,$.parentNode):"contains"in _e?_e.contains($):_e.compareDocumentPosition?!!(_e.compareDocumentPosition($)&16):!1:!1}function Me(){for(var _e=window,$=Xa();$ instanceof _e.HTMLIFrameElement;){try{var xt=typeof $.contentWindow.location.href=="string"}catch{xt=!1}if(xt)_e=$.contentWindow;else break;$=Xa(_e.document)}return $}function Ne(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $&&($==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||$==="textarea"||_e.contentEditable==="true")}function Oe(_e){var $=Me(),xt=_e.focusedElem,bt=_e.selectionRange;if($!==xt&&xt&&xt.ownerDocument&&Le(xt.ownerDocument.documentElement,xt)){if(bt!==null&&Ne(xt)){if($=bt.start,_e=bt.end,_e===void 0&&(_e=$),"selectionStart"in xt)xt.selectionStart=$,xt.selectionEnd=Math.min(_e,xt.value.length);else if(_e=($=xt.ownerDocument||document)&&$.defaultView||window,_e.getSelection){_e=_e.getSelection();var At=xt.textContent.length,St=Math.min(bt.start,At);bt=bt.end===void 0?St:Math.min(bt.end,At),!_e.extend&&St>bt&&(At=bt,bt=St,St=At),At=Ke(xt,St);var Et=Ke(xt,bt);At&&Et&&(_e.rangeCount!==1||_e.anchorNode!==At.node||_e.anchorOffset!==At.offset||_e.focusNode!==Et.node||_e.focusOffset!==Et.offset)&&($=$.createRange(),$.setStart(At.node,At.offset),_e.removeAllRanges(),St>bt?(_e.addRange($),_e.extend(Et.node,Et.offset)):($.setEnd(Et.node,Et.offset),_e.addRange($)))}}for($=[],_e=xt;_e=_e.parentNode;)_e.nodeType===1&&$.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof xt.focus=="function"&&xt.focus(),xt=0;xt<$.length;xt++)_e=$[xt],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te=!1;function Ue(_e,$,xt){var bt=xt.window===xt?xt.document:xt.nodeType===9?xt:xt.ownerDocument;Te||Qe==null||Qe!==Xa(bt)||(bt=Qe,"selectionStart"in bt&&Ne(bt)?bt={start:bt.selectionStart,end:bt.selectionEnd}:(bt=(bt.ownerDocument&&bt.ownerDocument.defaultView||window).getSelection(),bt={anchorNode:bt.anchorNode,anchorOffset:bt.anchorOffset,focusNode:bt.focusNode,focusOffset:bt.focusOffset}),Se&&Ie(Se,bt)||(Se=bt,bt=oe(Re$1,"onSelect"),0<bt.length&&($=new td("onSelect","select",null,$,xt),_e.push({event:$,listeners:bt}),$.target=Qe)))}function Ve$1(_e,$){var xt={};return xt[_e.toLowerCase()]=$.toLowerCase(),xt["Webkit"+_e]="webkit"+$,xt["Moz"+_e]="moz"+$,xt}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze$1(_e){if(Xe$1[_e])return Xe$1[_e];if(!We[_e])return _e;var $=We[_e],xt;for(xt in $)if($.hasOwnProperty(xt)&&xt in Ye$1)return Xe$1[_e]=$[xt];return _e}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,$){df.set(_e,$),fa($,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,$,xt){var bt=_e.type||"unknown-event";_e.currentTarget=xt,Ub(bt,$,void 0,_e),_e.currentTarget=null}function se(_e,$){$=($&4)!==0;for(var xt=0;xt<_e.length;xt++){var bt=_e[xt],At=bt.event;bt=bt.listeners;e:{var St=void 0;if($)for(var Et=bt.length-1;0<=Et;Et--){var Ct=bt[Et],Pt=Ct.instance,wt=Ct.currentTarget;if(Ct=Ct.listener,Pt!==St&&At.isPropagationStopped())break e;nf(At,Ct,wt),St=Pt}else for(Et=0;Et<bt.length;Et++){if(Ct=bt[Et],Pt=Ct.instance,wt=Ct.currentTarget,Ct=Ct.listener,Pt!==St&&At.isPropagationStopped())break e;nf(At,Ct,wt),St=Pt}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$4(_e,$){var xt=$[of];xt===void 0&&(xt=$[of]=new Set);var bt=_e+"__bubble";xt.has(bt)||(pf($,_e,2,!1),xt.add(bt))}function qf(_e,$,xt){var bt=0;$&&(bt|=4),pf(xt,_e,bt,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(xt){xt!=="selectionchange"&&(mf.has(xt)||qf(xt,!1,_e),qf(xt,!0,_e))});var $=_e.nodeType===9?_e:_e.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(_e,$,xt,bt){switch(jd($)){case 1:var At=ed;break;case 4:At=gd;break;default:At=fd}xt=At.bind(null,$,xt,_e),At=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(At=!0),bt?At!==void 0?_e.addEventListener($,xt,{capture:!0,passive:At}):_e.addEventListener($,xt,!0):At!==void 0?_e.addEventListener($,xt,{passive:At}):_e.addEventListener($,xt,!1)}function hd(_e,$,xt,bt,At){var St=bt;if(!($&1)&&!($&2)&&bt!==null)e:for(;;){if(bt===null)return;var Et=bt.tag;if(Et===3||Et===4){var Ct=bt.stateNode.containerInfo;if(Ct===At||Ct.nodeType===8&&Ct.parentNode===At)break;if(Et===4)for(Et=bt.return;Et!==null;){var Pt=Et.tag;if((Pt===3||Pt===4)&&(Pt=Et.stateNode.containerInfo,Pt===At||Pt.nodeType===8&&Pt.parentNode===At))return;Et=Et.return}for(;Ct!==null;){if(Et=Wc(Ct),Et===null)return;if(Pt=Et.tag,Pt===5||Pt===6){bt=St=Et;continue e}Ct=Ct.parentNode}}bt=bt.return}Jb(function(){var wt=St,kt=xb(xt),Rt=[];e:{var ht=df.get(_e);if(ht!==void 0){var vt=td,Ft=_e;switch(_e){case"keypress":if(od(xt)===0)break e;case"keydown":case"keyup":vt=Rd;break;case"focusin":Ft="focus",vt=Fd;break;case"focusout":Ft="blur",vt=Fd;break;case"beforeblur":case"afterblur":vt=Fd;break;case"click":if(xt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Vd;break;case $e$1:case af:case bf:vt=Hd;break;case cf:vt=Xd;break;case"scroll":vt=vd;break;case"wheel":vt=Zd;break;case"copy":case"cut":case"paste":vt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=Td}var Ht=($&4)!==0,qt=!Ht&&_e==="scroll",Nt=Ht?ht!==null?ht+"Capture":null:ht;Ht=[];for(var $t=wt,Mt;$t!==null;){Mt=$t;var Bt=Mt.stateNode;if(Mt.tag===5&&Bt!==null&&(Mt=Bt,Nt!==null&&(Bt=Kb($t,Nt),Bt!=null&&Ht.push(tf($t,Bt,Mt)))),qt)break;$t=$t.return}0<Ht.length&&(ht=new vt(ht,Ft,null,xt,kt),Rt.push({event:ht,listeners:Ht}))}}if(!($&7)){e:{if(ht=_e==="mouseover"||_e==="pointerover",vt=_e==="mouseout"||_e==="pointerout",ht&&xt!==wb&&(Ft=xt.relatedTarget||xt.fromElement)&&(Wc(Ft)||Ft[uf]))break e;if((vt||ht)&&(ht=kt.window===kt?kt:(ht=kt.ownerDocument)?ht.defaultView||ht.parentWindow:window,vt?(Ft=xt.relatedTarget||xt.toElement,vt=wt,Ft=Ft?Wc(Ft):null,Ft!==null&&(qt=Vb(Ft),Ft!==qt||Ft.tag!==5&&Ft.tag!==6)&&(Ft=null)):(vt=null,Ft=wt),vt!==Ft)){if(Ht=Bd,Bt="onMouseLeave",Nt="onMouseEnter",$t="mouse",(_e==="pointerout"||_e==="pointerover")&&(Ht=Td,Bt="onPointerLeave",Nt="onPointerEnter",$t="pointer"),qt=vt==null?ht:ue(vt),Mt=Ft==null?ht:ue(Ft),ht=new Ht(Bt,$t+"leave",vt,xt,kt),ht.target=qt,ht.relatedTarget=Mt,Bt=null,Wc(kt)===wt&&(Ht=new Ht(Nt,$t+"enter",Ft,xt,kt),Ht.target=Mt,Ht.relatedTarget=qt,Bt=Ht),qt=Bt,vt&&Ft)t:{for(Ht=vt,Nt=Ft,$t=0,Mt=Ht;Mt;Mt=vf(Mt))$t++;for(Mt=0,Bt=Nt;Bt;Bt=vf(Bt))Mt++;for(;0<$t-Mt;)Ht=vf(Ht),$t--;for(;0<Mt-$t;)Nt=vf(Nt),Mt--;for(;$t--;){if(Ht===Nt||Nt!==null&&Ht===Nt.alternate)break t;Ht=vf(Ht),Nt=vf(Nt)}Ht=null}else Ht=null;vt!==null&&wf(Rt,ht,vt,Ht,!1),Ft!==null&&qt!==null&&wf(Rt,qt,Ft,Ht,!0)}}e:{if(ht=wt?ue(wt):window,vt=ht.nodeName&&ht.nodeName.toLowerCase(),vt==="select"||vt==="input"&&ht.type==="file")var _t=ve$1;else if(me(ht))if(we)_t=Fe$1;else{_t=De;var Kt=Ce}else(vt=ht.nodeName)&&vt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(_t=Ee);if(_t&&(_t=_t(_e,wt))){ne(Rt,_t,xt,kt);break e}Kt&&Kt(_e,ht,wt),_e==="focusout"&&(Kt=ht._wrapperState)&&Kt.controlled&&ht.type==="number"&&cb(ht,"number",ht.value)}switch(Kt=wt?ue(wt):window,_e){case"focusin":(me(Kt)||Kt.contentEditable==="true")&&(Qe=Kt,Re$1=wt,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(Rt,xt,kt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(Rt,xt,kt)}var jt;if(ae)e:{switch(_e){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else ie?ge(_e,xt)&&(Gt="onCompositionEnd"):_e==="keydown"&&xt.keyCode===229&&(Gt="onCompositionStart");Gt&&(de&&xt.locale!=="ko"&&(ie||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&ie&&(jt=nd()):(kd=kt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Kt=oe(wt,Gt),0<Kt.length&&(Gt=new Ld(Gt,_e,null,xt,kt),Rt.push({event:Gt,listeners:Kt}),jt?Gt.data=jt:(jt=he(xt),jt!==null&&(Gt.data=jt)))),(jt=ce$1?je(_e,xt):ke(_e,xt))&&(wt=oe(wt,"onBeforeInput"),0<wt.length&&(kt=new Ld("onBeforeInput","beforeinput",null,xt,kt),Rt.push({event:kt,listeners:wt}),kt.data=jt))}se(Rt,$)})}function tf(_e,$,xt){return{instance:_e,listener:$,currentTarget:xt}}function oe(_e,$){for(var xt=$+"Capture",bt=[];_e!==null;){var At=_e,St=At.stateNode;At.tag===5&&St!==null&&(At=St,St=Kb(_e,xt),St!=null&&bt.unshift(tf(_e,St,At)),St=Kb(_e,$),St!=null&&bt.push(tf(_e,St,At))),_e=_e.return}return bt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,$,xt,bt,At){for(var St=$._reactName,Et=[];xt!==null&&xt!==bt;){var Ct=xt,Pt=Ct.alternate,wt=Ct.stateNode;if(Pt!==null&&Pt===bt)break;Ct.tag===5&&wt!==null&&(Ct=wt,At?(Pt=Kb(xt,St),Pt!=null&&Et.unshift(tf(xt,Pt,Ct))):At||(Pt=Kb(xt,St),Pt!=null&&Et.push(tf(xt,Pt,Ct)))),xt=xt.return}Et.length!==0&&_e.push({event:$,listeners:Et})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,$,xt){if($=zf($),zf(_e)!==$&&xt)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,$){return _e==="textarea"||_e==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,$){var xt=$,bt=0;do{var At=xt.nextSibling;if(_e.removeChild(xt),At&&At.nodeType===8)if(xt=At.data,xt==="/$"){if(bt===0){_e.removeChild(At),bd($);return}bt--}else xt!=="$"&&xt!=="$?"&&xt!=="$!"||bt++;xt=At}while(xt);bd($)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var $=_e.nodeType;if($===1||$===3)break;if($===8){if($=_e.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var $=0;_e;){if(_e.nodeType===8){var xt=_e.data;if(xt==="$"||xt==="$!"||xt==="$?"){if($===0)return _e;$--}else xt==="/$"&&$++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var $=_e[Of];if($)return $;for(var xt=_e.parentNode;xt;){if($=xt[uf]||xt[Of]){if(xt=$.alternate,$.child!==null||xt!==null&&xt.child!==null)for(_e=Mf(_e);_e!==null;){if(xt=_e[Of])return xt;_e=Mf(_e)}return $}_e=xt,xt=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$4(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$1(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(_e,$){Tf++,Sf[Tf]=_e.current,_e.current=$}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,$){var xt=_e.type.contextTypes;if(!xt)return Vf;var bt=_e.stateNode;if(bt&&bt.__reactInternalMemoizedUnmaskedChildContext===$)return bt.__reactInternalMemoizedMaskedChildContext;var At={},St;for(St in xt)At[St]=$[St];return bt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=$,_e.__reactInternalMemoizedMaskedChildContext=At),At}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(_e,$,xt){if(H$2.current!==Vf)throw Error(p$4(168));G$2(H$2,$),G$2(Wf,xt)}function bg(_e,$,xt){var bt=_e.stateNode;if($=$.childContextTypes,typeof bt.getChildContext!="function")return xt;bt=bt.getChildContext();for(var At in bt)if(!(At in $))throw Error(p$4(108,Ra(_e)||"Unknown",At));return A$3({},xt,bt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,_e),G$2(Wf,Wf.current),!0}function dg(_e,$,xt){var bt=_e.stateNode;if(!bt)throw Error(p$4(169));xt?(_e=bg(_e,$,Xf),bt.__reactInternalMemoizedMergedChildContext=_e,E$1(Wf),E$1(H$2),G$2(H$2,_e)):E$1(Wf),G$2(Wf,xt)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,$=C$1;try{var xt=eg;for(C$1=1;_e<xt.length;_e++){var bt=xt[_e];do bt=bt(!0);while(bt!==null)}eg=null,fg=!1}catch(At){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),At}finally{C$1=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,$){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=$}function ug(_e,$,xt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var bt=rg;_e=sg;var At=32-oc(bt)-1;bt&=~(1<<At),xt+=1;var St=32-oc($)+At;if(30<St){var Et=At-At%5;St=(bt&(1<<Et)-1).toString(32),bt>>=Et,At-=Et,rg=1<<32-oc($)+At|xt<<At|bt,sg=St+_e}else rg=1<<St|xt<<At|bt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(_e,$){var xt=Bg(5,null,null,0);xt.elementType="DELETED",xt.stateNode=$,xt.return=_e,$=_e.deletions,$===null?(_e.deletions=[xt],_e.flags|=16):$.push(xt)}function Cg(_e,$){switch(_e.tag){case 5:var xt=_e.type;return $=$.nodeType!==1||xt.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=Lf($.firstChild),!0):!1;case 6:return $=_e.pendingProps===""||$.nodeType!==3?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(xt=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:$,treeContext:xt,retryLane:1073741824},xt=Bg(18,null,null,0),xt.stateNode=$,xt.return=_e,_e.child=xt,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$4){var $=yg;if($){var xt=$;if(!Cg(_e,$)){if(Dg(_e))throw Error(p$4(418));$=Lf(xt.nextSibling);var bt=xg;$&&Cg(_e,$)?Ag(bt,xt):(_e.flags=_e.flags&-4097|2,I$4=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$4(418));_e.flags=_e.flags&-4097|2,I$4=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$4)return Fg(_e),I$4=!0,!1;var $;if(($=_e.tag!==3)&&!($=_e.tag!==5)&&($=_e.type,$=$!=="head"&&$!=="body"&&!Ef(_e.type,_e.memoizedProps)),$&&($=yg)){if(Dg(_e))throw Hg(),Error(p$4(418));for(;$;)Ag(_e,$),$=Lf($.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$4(317));e:{for(_e=_e.nextSibling,$=0;_e;){if(_e.nodeType===8){var xt=_e.data;if(xt==="/$"){if($===0){yg=Lf(_e.nextSibling);break e}$--}else xt!=="$"&&xt!=="$!"&&xt!=="$?"||$++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,$,xt){if(_e=xt.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(xt._owner){if(xt=xt._owner,xt){if(xt.tag!==1)throw Error(p$4(309));var bt=xt.stateNode}if(!bt)throw Error(p$4(147,_e));var At=bt,St=""+_e;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===St?$.ref:($=function(Et){var Ct=At.refs;Et===null?delete Ct[St]:Ct[St]=Et},$._stringRef=St,$)}if(typeof _e!="string")throw Error(p$4(284));if(!xt._owner)throw Error(p$4(290,_e))}return _e}function Mg(_e,$){throw _e=Object.prototype.toString.call($),Error(p$4(31,_e==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_e))}function Ng(_e){var $=_e._init;return $(_e._payload)}function Og(_e){function $(Nt,$t){if(_e){var Mt=Nt.deletions;Mt===null?(Nt.deletions=[$t],Nt.flags|=16):Mt.push($t)}}function xt(Nt,$t){if(!_e)return null;for(;$t!==null;)$(Nt,$t),$t=$t.sibling;return null}function bt(Nt,$t){for(Nt=new Map;$t!==null;)$t.key!==null?Nt.set($t.key,$t):Nt.set($t.index,$t),$t=$t.sibling;return Nt}function At(Nt,$t){return Nt=Pg(Nt,$t),Nt.index=0,Nt.sibling=null,Nt}function St(Nt,$t,Mt){return Nt.index=Mt,_e?(Mt=Nt.alternate,Mt!==null?(Mt=Mt.index,Mt<$t?(Nt.flags|=2,$t):Mt):(Nt.flags|=2,$t)):(Nt.flags|=1048576,$t)}function Et(Nt){return _e&&Nt.alternate===null&&(Nt.flags|=2),Nt}function Ct(Nt,$t,Mt,Bt){return $t===null||$t.tag!==6?($t=Qg(Mt,Nt.mode,Bt),$t.return=Nt,$t):($t=At($t,Mt),$t.return=Nt,$t)}function Pt(Nt,$t,Mt,Bt){var _t=Mt.type;return _t===ya?kt(Nt,$t,Mt.props.children,Bt,Mt.key):$t!==null&&($t.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&Ng(_t)===$t.type)?(Bt=At($t,Mt.props),Bt.ref=Lg(Nt,$t,Mt),Bt.return=Nt,Bt):(Bt=Rg(Mt.type,Mt.key,Mt.props,null,Nt.mode,Bt),Bt.ref=Lg(Nt,$t,Mt),Bt.return=Nt,Bt)}function wt(Nt,$t,Mt,Bt){return $t===null||$t.tag!==4||$t.stateNode.containerInfo!==Mt.containerInfo||$t.stateNode.implementation!==Mt.implementation?($t=Sg(Mt,Nt.mode,Bt),$t.return=Nt,$t):($t=At($t,Mt.children||[]),$t.return=Nt,$t)}function kt(Nt,$t,Mt,Bt,_t){return $t===null||$t.tag!==7?($t=Tg(Mt,Nt.mode,Bt,_t),$t.return=Nt,$t):($t=At($t,Mt),$t.return=Nt,$t)}function Rt(Nt,$t,Mt){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return $t=Qg(""+$t,Nt.mode,Mt),$t.return=Nt,$t;if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:return Mt=Rg($t.type,$t.key,$t.props,null,Nt.mode,Mt),Mt.ref=Lg(Nt,null,$t),Mt.return=Nt,Mt;case wa:return $t=Sg($t,Nt.mode,Mt),$t.return=Nt,$t;case Ha:var Bt=$t._init;return Rt(Nt,Bt($t._payload),Mt)}if(eb($t)||Ka($t))return $t=Tg($t,Nt.mode,Mt,null),$t.return=Nt,$t;Mg(Nt,$t)}return null}function ht(Nt,$t,Mt,Bt){var _t=$t!==null?$t.key:null;if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number")return _t!==null?null:Ct(Nt,$t,""+Mt,Bt);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case va:return Mt.key===_t?Pt(Nt,$t,Mt,Bt):null;case wa:return Mt.key===_t?wt(Nt,$t,Mt,Bt):null;case Ha:return _t=Mt._init,ht(Nt,$t,_t(Mt._payload),Bt)}if(eb(Mt)||Ka(Mt))return _t!==null?null:kt(Nt,$t,Mt,Bt,null);Mg(Nt,Mt)}return null}function vt(Nt,$t,Mt,Bt,_t){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number")return Nt=Nt.get(Mt)||null,Ct($t,Nt,""+Bt,_t);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case va:return Nt=Nt.get(Bt.key===null?Mt:Bt.key)||null,Pt($t,Nt,Bt,_t);case wa:return Nt=Nt.get(Bt.key===null?Mt:Bt.key)||null,wt($t,Nt,Bt,_t);case Ha:var Kt=Bt._init;return vt(Nt,$t,Mt,Kt(Bt._payload),_t)}if(eb(Bt)||Ka(Bt))return Nt=Nt.get(Mt)||null,kt($t,Nt,Bt,_t,null);Mg($t,Bt)}return null}function Ft(Nt,$t,Mt,Bt){for(var _t=null,Kt=null,jt=$t,Gt=$t=0,Qt=null;jt!==null&&Gt<Mt.length;Gt++){jt.index>Gt?(Qt=jt,jt=null):Qt=jt.sibling;var ln=ht(Nt,jt,Mt[Gt],Bt);if(ln===null){jt===null&&(jt=Qt);break}_e&&jt&&ln.alternate===null&&$(Nt,jt),$t=St(ln,$t,Gt),Kt===null?_t=ln:Kt.sibling=ln,Kt=ln,jt=Qt}if(Gt===Mt.length)return xt(Nt,jt),I$4&&tg(Nt,Gt),_t;if(jt===null){for(;Gt<Mt.length;Gt++)jt=Rt(Nt,Mt[Gt],Bt),jt!==null&&($t=St(jt,$t,Gt),Kt===null?_t=jt:Kt.sibling=jt,Kt=jt);return I$4&&tg(Nt,Gt),_t}for(jt=bt(Nt,jt);Gt<Mt.length;Gt++)Qt=vt(jt,Nt,Gt,Mt[Gt],Bt),Qt!==null&&(_e&&Qt.alternate!==null&&jt.delete(Qt.key===null?Gt:Qt.key),$t=St(Qt,$t,Gt),Kt===null?_t=Qt:Kt.sibling=Qt,Kt=Qt);return _e&&jt.forEach(function(en){return $(Nt,en)}),I$4&&tg(Nt,Gt),_t}function Ht(Nt,$t,Mt,Bt){var _t=Ka(Mt);if(typeof _t!="function")throw Error(p$4(150));if(Mt=_t.call(Mt),Mt==null)throw Error(p$4(151));for(var Kt=_t=null,jt=$t,Gt=$t=0,Qt=null,ln=Mt.next();jt!==null&&!ln.done;Gt++,ln=Mt.next()){jt.index>Gt?(Qt=jt,jt=null):Qt=jt.sibling;var en=ht(Nt,jt,ln.value,Bt);if(en===null){jt===null&&(jt=Qt);break}_e&&jt&&en.alternate===null&&$(Nt,jt),$t=St(en,$t,Gt),Kt===null?_t=en:Kt.sibling=en,Kt=en,jt=Qt}if(ln.done)return xt(Nt,jt),I$4&&tg(Nt,Gt),_t;if(jt===null){for(;!ln.done;Gt++,ln=Mt.next())ln=Rt(Nt,ln.value,Bt),ln!==null&&($t=St(ln,$t,Gt),Kt===null?_t=ln:Kt.sibling=ln,Kt=ln);return I$4&&tg(Nt,Gt),_t}for(jt=bt(Nt,jt);!ln.done;Gt++,ln=Mt.next())ln=vt(jt,Nt,Gt,ln.value,Bt),ln!==null&&(_e&&ln.alternate!==null&&jt.delete(ln.key===null?Gt:ln.key),$t=St(ln,$t,Gt),Kt===null?_t=ln:Kt.sibling=ln,Kt=ln);return _e&&jt.forEach(function(gn){return $(Nt,gn)}),I$4&&tg(Nt,Gt),_t}function qt(Nt,$t,Mt,Bt){if(typeof Mt=="object"&&Mt!==null&&Mt.type===ya&&Mt.key===null&&(Mt=Mt.props.children),typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case va:e:{for(var _t=Mt.key,Kt=$t;Kt!==null;){if(Kt.key===_t){if(_t=Mt.type,_t===ya){if(Kt.tag===7){xt(Nt,Kt.sibling),$t=At(Kt,Mt.props.children),$t.return=Nt,Nt=$t;break e}}else if(Kt.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&Ng(_t)===Kt.type){xt(Nt,Kt.sibling),$t=At(Kt,Mt.props),$t.ref=Lg(Nt,Kt,Mt),$t.return=Nt,Nt=$t;break e}xt(Nt,Kt);break}else $(Nt,Kt);Kt=Kt.sibling}Mt.type===ya?($t=Tg(Mt.props.children,Nt.mode,Bt,Mt.key),$t.return=Nt,Nt=$t):(Bt=Rg(Mt.type,Mt.key,Mt.props,null,Nt.mode,Bt),Bt.ref=Lg(Nt,$t,Mt),Bt.return=Nt,Nt=Bt)}return Et(Nt);case wa:e:{for(Kt=Mt.key;$t!==null;){if($t.key===Kt)if($t.tag===4&&$t.stateNode.containerInfo===Mt.containerInfo&&$t.stateNode.implementation===Mt.implementation){xt(Nt,$t.sibling),$t=At($t,Mt.children||[]),$t.return=Nt,Nt=$t;break e}else{xt(Nt,$t);break}else $(Nt,$t);$t=$t.sibling}$t=Sg(Mt,Nt.mode,Bt),$t.return=Nt,Nt=$t}return Et(Nt);case Ha:return Kt=Mt._init,qt(Nt,$t,Kt(Mt._payload),Bt)}if(eb(Mt))return Ft(Nt,$t,Mt,Bt);if(Ka(Mt))return Ht(Nt,$t,Mt,Bt);Mg(Nt,Mt)}return typeof Mt=="string"&&Mt!==""||typeof Mt=="number"?(Mt=""+Mt,$t!==null&&$t.tag===6?(xt(Nt,$t.sibling),$t=At($t,Mt),$t.return=Nt,Nt=$t):(xt(Nt,$t),$t=Qg(Mt,Nt.mode,Bt),$t.return=Nt,Nt=$t),Et(Nt)):xt(Nt,$t)}return qt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_e){var $=Wg.current;E$1(Wg),_e._currentValue=$}function bh(_e,$,xt){for(;_e!==null;){var bt=_e.alternate;if((_e.childLanes&$)!==$?(_e.childLanes|=$,bt!==null&&(bt.childLanes|=$)):bt!==null&&(bt.childLanes&$)!==$&&(bt.childLanes|=$),_e===xt)break;_e=_e.return}}function ch(_e,$){Xg=_e,Zg=Yg=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&$&&(dh=!0),_e.firstContext=null)}function eh(_e){var $=_e._currentValue;if(Zg!==_e)if(_e={context:_e,memoizedValue:$,next:null},Yg===null){if(Xg===null)throw Error(p$4(308));Yg=_e,Xg.dependencies={lanes:0,firstContext:_e}}else Yg=Yg.next=_e;return $}var fh=null;function gh(_e){fh===null?fh=[_e]:fh.push(_e)}function hh(_e,$,xt,bt){var At=$.interleaved;return At===null?(xt.next=xt,gh($)):(xt.next=At.next,At.next=xt),$.interleaved=xt,ih(_e,bt)}function ih(_e,$){_e.lanes|=$;var xt=_e.alternate;for(xt!==null&&(xt.lanes|=$),xt=_e,_e=_e.return;_e!==null;)_e.childLanes|=$,xt=_e.alternate,xt!==null&&(xt.childLanes|=$),xt=_e,_e=_e.return;return xt.tag===3?xt.stateNode:null}var jh=!1;function kh(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_e,$){_e=_e.updateQueue,$.updateQueue===_e&&($.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function mh(_e,$){return{eventTime:_e,lane:$,tag:0,payload:null,callback:null,next:null}}function nh(_e,$,xt){var bt=_e.updateQueue;if(bt===null)return null;if(bt=bt.shared,K&2){var At=bt.pending;return At===null?$.next=$:($.next=At.next,At.next=$),bt.pending=$,ih(_e,xt)}return At=bt.interleaved,At===null?($.next=$,gh(bt)):($.next=At.next,At.next=$),bt.interleaved=$,ih(_e,xt)}function oh(_e,$,xt){if($=$.updateQueue,$!==null&&($=$.shared,(xt&4194240)!==0)){var bt=$.lanes;bt&=_e.pendingLanes,xt|=bt,$.lanes=xt,Cc(_e,xt)}}function ph(_e,$){var xt=_e.updateQueue,bt=_e.alternate;if(bt!==null&&(bt=bt.updateQueue,xt===bt)){var At=null,St=null;if(xt=xt.firstBaseUpdate,xt!==null){do{var Et={eventTime:xt.eventTime,lane:xt.lane,tag:xt.tag,payload:xt.payload,callback:xt.callback,next:null};St===null?At=St=Et:St=St.next=Et,xt=xt.next}while(xt!==null);St===null?At=St=$:St=St.next=$}else At=St=$;xt={baseState:bt.baseState,firstBaseUpdate:At,lastBaseUpdate:St,shared:bt.shared,effects:bt.effects},_e.updateQueue=xt;return}_e=xt.lastBaseUpdate,_e===null?xt.firstBaseUpdate=$:_e.next=$,xt.lastBaseUpdate=$}function qh(_e,$,xt,bt){var At=_e.updateQueue;jh=!1;var St=At.firstBaseUpdate,Et=At.lastBaseUpdate,Ct=At.shared.pending;if(Ct!==null){At.shared.pending=null;var Pt=Ct,wt=Pt.next;Pt.next=null,Et===null?St=wt:Et.next=wt,Et=Pt;var kt=_e.alternate;kt!==null&&(kt=kt.updateQueue,Ct=kt.lastBaseUpdate,Ct!==Et&&(Ct===null?kt.firstBaseUpdate=wt:Ct.next=wt,kt.lastBaseUpdate=Pt))}if(St!==null){var Rt=At.baseState;Et=0,kt=wt=Pt=null,Ct=St;do{var ht=Ct.lane,vt=Ct.eventTime;if((bt&ht)===ht){kt!==null&&(kt=kt.next={eventTime:vt,lane:0,tag:Ct.tag,payload:Ct.payload,callback:Ct.callback,next:null});e:{var Ft=_e,Ht=Ct;switch(ht=$,vt=xt,Ht.tag){case 1:if(Ft=Ht.payload,typeof Ft=="function"){Rt=Ft.call(vt,Rt,ht);break e}Rt=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Ht.payload,ht=typeof Ft=="function"?Ft.call(vt,Rt,ht):Ft,ht==null)break e;Rt=A$3({},Rt,ht);break e;case 2:jh=!0}}Ct.callback!==null&&Ct.lane!==0&&(_e.flags|=64,ht=At.effects,ht===null?At.effects=[Ct]:ht.push(Ct))}else vt={eventTime:vt,lane:ht,tag:Ct.tag,payload:Ct.payload,callback:Ct.callback,next:null},kt===null?(wt=kt=vt,Pt=Rt):kt=kt.next=vt,Et|=ht;if(Ct=Ct.next,Ct===null){if(Ct=At.shared.pending,Ct===null)break;ht=Ct,Ct=ht.next,ht.next=null,At.lastBaseUpdate=ht,At.shared.pending=null}}while(!0);if(kt===null&&(Pt=Rt),At.baseState=Pt,At.firstBaseUpdate=wt,At.lastBaseUpdate=kt,$=At.shared.interleaved,$!==null){At=$;do Et|=At.lane,At=At.next;while(At!==$)}else St===null&&(At.shared.lanes=0);rh|=Et,_e.lanes=Et,_e.memoizedState=Rt}}function sh(_e,$,xt){if(_e=$.effects,$.effects=null,_e!==null)for($=0;$<_e.length;$++){var bt=_e[$],At=bt.callback;if(At!==null){if(bt.callback=null,bt=xt,typeof At!="function")throw Error(p$4(191,At));At.call(bt)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(_e){if(_e===th)throw Error(p$4(174));return _e}function yh(_e,$){switch(G$2(wh,$),G$2(vh$1,_e),G$2(uh,th),_e=$.nodeType,_e){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:_e=_e===8?$.parentNode:$,$=_e.namespaceURI||null,_e=_e.tagName,$=lb($,_e)}E$1(uh),G$2(uh,$)}function zh(){E$1(uh),E$1(vh$1),E$1(wh)}function Ah(_e){xh(wh.current);var $=xh(uh.current),xt=lb($,_e.type);$!==xt&&(G$2(vh$1,_e),G$2(uh,xt))}function Bh(_e){vh$1.current===_e&&(E$1(uh),E$1(vh$1))}var L$1=Uf(0);function Ch(_e){for(var $=_e;$!==null;){if($.tag===13){var xt=$.memoizedState;if(xt!==null&&(xt=xt.dehydrated,xt===null||xt.data==="$?"||xt.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Dh=[];function Eh(){for(var _e=0;_e<Dh.length;_e++)Dh[_e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$3=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$4(321))}function Mh(_e,$){if($===null)return!1;for(var xt=0;xt<$.length&&xt<_e.length;xt++)if(!He(_e[xt],$[xt]))return!1;return!0}function Nh(_e,$,xt,bt,At,St){if(Hh=St,M$3=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Fh.current=_e===null||_e.memoizedState===null?Oh:Ph,_e=xt(bt,At),Jh){St=0;do{if(Jh=!1,Kh=0,25<=St)throw Error(p$4(301));St+=1,O$2=N$3=null,$.updateQueue=null,Fh.current=Qh,_e=xt(bt,At)}while(Jh)}if(Fh.current=Rh,$=N$3!==null&&N$3.next!==null,Hh=0,O$2=N$3=M$3=null,Ih=!1,$)throw Error(p$4(300));return _e}function Sh(){var _e=Kh!==0;return Kh=0,_e}function Th(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$3.memoizedState=O$2=_e:O$2=O$2.next=_e,O$2}function Uh(){if(N$3===null){var _e=M$3.alternate;_e=_e!==null?_e.memoizedState:null}else _e=N$3.next;var $=O$2===null?M$3.memoizedState:O$2.next;if($!==null)O$2=$,N$3=_e;else{if(_e===null)throw Error(p$4(310));N$3=_e,_e={memoizedState:N$3.memoizedState,baseState:N$3.baseState,baseQueue:N$3.baseQueue,queue:N$3.queue,next:null},O$2===null?M$3.memoizedState=O$2=_e:O$2=O$2.next=_e}return O$2}function Vh(_e,$){return typeof $=="function"?$(_e):$}function Wh(_e){var $=Uh(),xt=$.queue;if(xt===null)throw Error(p$4(311));xt.lastRenderedReducer=_e;var bt=N$3,At=bt.baseQueue,St=xt.pending;if(St!==null){if(At!==null){var Et=At.next;At.next=St.next,St.next=Et}bt.baseQueue=At=St,xt.pending=null}if(At!==null){St=At.next,bt=bt.baseState;var Ct=Et=null,Pt=null,wt=St;do{var kt=wt.lane;if((Hh&kt)===kt)Pt!==null&&(Pt=Pt.next={lane:0,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),bt=wt.hasEagerState?wt.eagerState:_e(bt,wt.action);else{var Rt={lane:kt,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null};Pt===null?(Ct=Pt=Rt,Et=bt):Pt=Pt.next=Rt,M$3.lanes|=kt,rh|=kt}wt=wt.next}while(wt!==null&&wt!==St);Pt===null?Et=bt:Pt.next=Ct,He(bt,$.memoizedState)||(dh=!0),$.memoizedState=bt,$.baseState=Et,$.baseQueue=Pt,xt.lastRenderedState=bt}if(_e=xt.interleaved,_e!==null){At=_e;do St=At.lane,M$3.lanes|=St,rh|=St,At=At.next;while(At!==_e)}else At===null&&(xt.lanes=0);return[$.memoizedState,xt.dispatch]}function Xh(_e){var $=Uh(),xt=$.queue;if(xt===null)throw Error(p$4(311));xt.lastRenderedReducer=_e;var bt=xt.dispatch,At=xt.pending,St=$.memoizedState;if(At!==null){xt.pending=null;var Et=At=At.next;do St=_e(St,Et.action),Et=Et.next;while(Et!==At);He(St,$.memoizedState)||(dh=!0),$.memoizedState=St,$.baseQueue===null&&($.baseState=St),xt.lastRenderedState=St}return[St,bt]}function Yh(){}function Zh(_e,$){var xt=M$3,bt=Uh(),At=$(),St=!He(bt.memoizedState,At);if(St&&(bt.memoizedState=At,dh=!0),bt=bt.queue,$h(ai.bind(null,xt,bt,_e),[_e]),bt.getSnapshot!==$||St||O$2!==null&&O$2.memoizedState.tag&1){if(xt.flags|=2048,bi(9,ci.bind(null,xt,bt,At,$),void 0,null),Q===null)throw Error(p$4(349));Hh&30||di(xt,$,At)}return At}function di(_e,$,xt){_e.flags|=16384,_e={getSnapshot:$,value:xt},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.stores=[_e]):(xt=$.stores,xt===null?$.stores=[_e]:xt.push(_e))}function ci(_e,$,xt,bt){$.value=xt,$.getSnapshot=bt,ei($)&&fi(_e)}function ai(_e,$,xt){return xt(function(){ei($)&&fi(_e)})}function ei(_e){var $=_e.getSnapshot;_e=_e.value;try{var xt=$();return!He(_e,xt)}catch{return!0}}function fi(_e){var $=ih(_e,1);$!==null&&gi($,_e,1,-1)}function hi(_e){var $=Th();return typeof _e=="function"&&(_e=_e()),$.memoizedState=$.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_e},$.queue=_e,_e=_e.dispatch=ii.bind(null,M$3,_e),[$.memoizedState,_e]}function bi(_e,$,xt,bt){return _e={tag:_e,create:$,destroy:xt,deps:bt,next:null},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.lastEffect=_e.next=_e):(xt=$.lastEffect,xt===null?$.lastEffect=_e.next=_e:(bt=xt.next,xt.next=_e,_e.next=bt,$.lastEffect=_e)),_e}function ji(){return Uh().memoizedState}function ki(_e,$,xt,bt){var At=Th();M$3.flags|=_e,At.memoizedState=bi(1|$,xt,void 0,bt===void 0?null:bt)}function li(_e,$,xt,bt){var At=Uh();bt=bt===void 0?null:bt;var St=void 0;if(N$3!==null){var Et=N$3.memoizedState;if(St=Et.destroy,bt!==null&&Mh(bt,Et.deps)){At.memoizedState=bi($,xt,St,bt);return}}M$3.flags|=_e,At.memoizedState=bi(1|$,xt,St,bt)}function mi(_e,$){return ki(8390656,8,_e,$)}function $h(_e,$){return li(2048,8,_e,$)}function ni(_e,$){return li(4,2,_e,$)}function oi(_e,$){return li(4,4,_e,$)}function pi(_e,$){if(typeof $=="function")return _e=_e(),$(_e),function(){$(null)};if($!=null)return _e=_e(),$.current=_e,function(){$.current=null}}function qi(_e,$,xt){return xt=xt!=null?xt.concat([_e]):null,li(4,4,pi.bind(null,$,_e),xt)}function ri(){}function si(_e,$){var xt=Uh();$=$===void 0?null:$;var bt=xt.memoizedState;return bt!==null&&$!==null&&Mh($,bt[1])?bt[0]:(xt.memoizedState=[_e,$],_e)}function ti(_e,$){var xt=Uh();$=$===void 0?null:$;var bt=xt.memoizedState;return bt!==null&&$!==null&&Mh($,bt[1])?bt[0]:(_e=_e(),xt.memoizedState=[_e,$],_e)}function ui(_e,$,xt){return Hh&21?(He(xt,$)||(xt=yc(),M$3.lanes|=xt,rh|=xt,_e.baseState=!0),$):(_e.baseState&&(_e.baseState=!1,dh=!0),_e.memoizedState=xt)}function vi(_e,$){var xt=C$1;C$1=xt!==0&&4>xt?xt:4,_e(!0);var bt=Gh.transition;Gh.transition={};try{_e(!1),$()}finally{C$1=xt,Gh.transition=bt}}function wi(){return Uh().memoizedState}function xi(_e,$,xt){var bt=yi(_e);if(xt={lane:bt,action:xt,hasEagerState:!1,eagerState:null,next:null},zi(_e))Ai($,xt);else if(xt=hh(_e,$,xt,bt),xt!==null){var At=R$1();gi(xt,_e,bt,At),Bi(xt,$,bt)}}function ii(_e,$,xt){var bt=yi(_e),At={lane:bt,action:xt,hasEagerState:!1,eagerState:null,next:null};if(zi(_e))Ai($,At);else{var St=_e.alternate;if(_e.lanes===0&&(St===null||St.lanes===0)&&(St=$.lastRenderedReducer,St!==null))try{var Et=$.lastRenderedState,Ct=St(Et,xt);if(At.hasEagerState=!0,At.eagerState=Ct,He(Ct,Et)){var Pt=$.interleaved;Pt===null?(At.next=At,gh($)):(At.next=Pt.next,Pt.next=At),$.interleaved=At;return}}catch{}finally{}xt=hh(_e,$,At,bt),xt!==null&&(At=R$1(),gi(xt,_e,bt,At),Bi(xt,$,bt))}}function zi(_e){var $=_e.alternate;return _e===M$3||$!==null&&$===M$3}function Ai(_e,$){Jh=Ih=!0;var xt=_e.pending;xt===null?$.next=$:($.next=xt.next,xt.next=$),_e.pending=$}function Bi(_e,$,xt){if(xt&4194240){var bt=$.lanes;bt&=_e.pendingLanes,xt|=bt,$.lanes=xt,Cc(_e,xt)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_e,$){return Th().memoizedState=[_e,$===void 0?null:$],_e},useContext:eh,useEffect:mi,useImperativeHandle:function(_e,$,xt){return xt=xt!=null?xt.concat([_e]):null,ki(4194308,4,pi.bind(null,$,_e),xt)},useLayoutEffect:function(_e,$){return ki(4194308,4,_e,$)},useInsertionEffect:function(_e,$){return ki(4,2,_e,$)},useMemo:function(_e,$){var xt=Th();return $=$===void 0?null:$,_e=_e(),xt.memoizedState=[_e,$],_e},useReducer:function(_e,$,xt){var bt=Th();return $=xt!==void 0?xt($):$,bt.memoizedState=bt.baseState=$,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:$},bt.queue=_e,_e=_e.dispatch=xi.bind(null,M$3,_e),[bt.memoizedState,_e]},useRef:function(_e){var $=Th();return _e={current:_e},$.memoizedState=_e},useState:hi,useDebugValue:ri,useDeferredValue:function(_e){return Th().memoizedState=_e},useTransition:function(){var _e=hi(!1),$=_e[0];return _e=vi.bind(null,_e[1]),Th().memoizedState=_e,[$,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,$,xt){var bt=M$3,At=Th();if(I$4){if(xt===void 0)throw Error(p$4(407));xt=xt()}else{if(xt=$(),Q===null)throw Error(p$4(349));Hh&30||di(bt,$,xt)}At.memoizedState=xt;var St={value:xt,getSnapshot:$};return At.queue=St,mi(ai.bind(null,bt,St,_e),[_e]),bt.flags|=2048,bi(9,ci.bind(null,bt,St,xt,$),void 0,null),xt},useId:function(){var _e=Th(),$=Q.identifierPrefix;if(I$4){var xt=sg,bt=rg;xt=(bt&~(1<<32-oc(bt)-1)).toString(32)+xt,$=":"+$+"R"+xt,xt=Kh++,0<xt&&($+="H"+xt.toString(32)),$+=":"}else xt=Lh++,$=":"+$+"r"+xt.toString(32)+":";return _e.memoizedState=$},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var $=Uh();return ui($,N$3.memoizedState,_e)},useTransition:function(){var _e=Wh(Vh)[0],$=Uh().memoizedState;return[_e,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var $=Uh();return N$3===null?$.memoizedState=_e:ui($,N$3.memoizedState,_e)},useTransition:function(){var _e=Xh(Vh)[0],$=Uh().memoizedState;return[_e,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_e,$){if(_e&&_e.defaultProps){$=A$3({},$),_e=_e.defaultProps;for(var xt in _e)$[xt]===void 0&&($[xt]=_e[xt]);return $}return $}function Di(_e,$,xt,bt){$=_e.memoizedState,xt=xt(bt,$),xt=xt==null?$:A$3({},$,xt),_e.memoizedState=xt,_e.lanes===0&&(_e.updateQueue.baseState=xt)}var Ei={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,$,xt){_e=_e._reactInternals;var bt=R$1(),At=yi(_e),St=mh(bt,At);St.payload=$,xt!=null&&(St.callback=xt),$=nh(_e,St,At),$!==null&&(gi($,_e,At,bt),oh($,_e,At))},enqueueReplaceState:function(_e,$,xt){_e=_e._reactInternals;var bt=R$1(),At=yi(_e),St=mh(bt,At);St.tag=1,St.payload=$,xt!=null&&(St.callback=xt),$=nh(_e,St,At),$!==null&&(gi($,_e,At,bt),oh($,_e,At))},enqueueForceUpdate:function(_e,$){_e=_e._reactInternals;var xt=R$1(),bt=yi(_e),At=mh(xt,bt);At.tag=2,$!=null&&(At.callback=$),$=nh(_e,At,bt),$!==null&&(gi($,_e,bt,xt),oh($,_e,bt))}};function Fi(_e,$,xt,bt,At,St,Et){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(bt,St,Et):$.prototype&&$.prototype.isPureReactComponent?!Ie(xt,bt)||!Ie(At,St):!0}function Gi(_e,$,xt){var bt=!1,At=Vf,St=$.contextType;return typeof St=="object"&&St!==null?St=eh(St):(At=Zf($)?Xf:H$2.current,bt=$.contextTypes,St=(bt=bt!=null)?Yf(_e,At):Vf),$=new $(xt,St),_e.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=Ei,_e.stateNode=$,$._reactInternals=_e,bt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=At,_e.__reactInternalMemoizedMaskedChildContext=St),$}function Hi(_e,$,xt,bt){_e=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(xt,bt),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(xt,bt),$.state!==_e&&Ei.enqueueReplaceState($,$.state,null)}function Ii(_e,$,xt,bt){var At=_e.stateNode;At.props=xt,At.state=_e.memoizedState,At.refs={},kh(_e);var St=$.contextType;typeof St=="object"&&St!==null?At.context=eh(St):(St=Zf($)?Xf:H$2.current,At.context=Yf(_e,St)),At.state=_e.memoizedState,St=$.getDerivedStateFromProps,typeof St=="function"&&(Di(_e,$,St,xt),At.state=_e.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof At.getSnapshotBeforeUpdate=="function"||typeof At.UNSAFE_componentWillMount!="function"&&typeof At.componentWillMount!="function"||($=At.state,typeof At.componentWillMount=="function"&&At.componentWillMount(),typeof At.UNSAFE_componentWillMount=="function"&&At.UNSAFE_componentWillMount(),$!==At.state&&Ei.enqueueReplaceState(At,At.state,null),qh(_e,xt,At,bt),At.state=_e.memoizedState),typeof At.componentDidMount=="function"&&(_e.flags|=4194308)}function Ji(_e,$){try{var xt="",bt=$;do xt+=Pa(bt),bt=bt.return;while(bt);var At=xt}catch(St){At=`
Error generating stack: `+St.message+`
`+St.stack}return{value:_e,source:$,stack:At,digest:null}}function Ki(_e,$,xt){return{value:_e,source:null,stack:xt??null,digest:$??null}}function Li(_e,$){try{console.error($.value)}catch(xt){setTimeout(function(){throw xt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_e,$,xt){xt=mh(-1,xt),xt.tag=3,xt.payload={element:null};var bt=$.value;return xt.callback=function(){Oi||(Oi=!0,Pi=bt),Li(_e,$)},xt}function Qi(_e,$,xt){xt=mh(-1,xt),xt.tag=3;var bt=_e.type.getDerivedStateFromError;if(typeof bt=="function"){var At=$.value;xt.payload=function(){return bt(At)},xt.callback=function(){Li(_e,$)}}var St=_e.stateNode;return St!==null&&typeof St.componentDidCatch=="function"&&(xt.callback=function(){Li(_e,$),typeof bt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var Et=$.stack;this.componentDidCatch($.value,{componentStack:Et!==null?Et:""})}),xt}function Si(_e,$,xt){var bt=_e.pingCache;if(bt===null){bt=_e.pingCache=new Mi;var At=new Set;bt.set($,At)}else At=bt.get($),At===void 0&&(At=new Set,bt.set($,At));At.has(xt)||(At.add(xt),_e=Ti.bind(null,_e,$,xt),$.then(_e,_e))}function Ui(_e){do{var $;if(($=_e.tag===13)&&($=_e.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return _e;_e=_e.return}while(_e!==null);return null}function Vi(_e,$,xt,bt,At){return _e.mode&1?(_e.flags|=65536,_e.lanes=At,_e):(_e===$?_e.flags|=65536:(_e.flags|=128,xt.flags|=131072,xt.flags&=-52805,xt.tag===1&&(xt.alternate===null?xt.tag=17:($=mh(-1,1),$.tag=2,nh(xt,$,1))),xt.lanes|=1),_e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(_e,$,xt,bt){$.child=_e===null?Vg($,null,xt,bt):Ug($,_e.child,xt,bt)}function Yi(_e,$,xt,bt,At){xt=xt.render;var St=$.ref;return ch($,At),bt=Nh(_e,$,xt,bt,St,At),xt=Sh(),_e!==null&&!dh?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~At,Zi(_e,$,At)):(I$4&&xt&&vg($),$.flags|=1,Xi(_e,$,bt,At),$.child)}function $i(_e,$,xt,bt,At){if(_e===null){var St=xt.type;return typeof St=="function"&&!aj(St)&&St.defaultProps===void 0&&xt.compare===null&&xt.defaultProps===void 0?($.tag=15,$.type=St,bj(_e,$,St,bt,At)):(_e=Rg(xt.type,null,bt,$,$.mode,At),_e.ref=$.ref,_e.return=$,$.child=_e)}if(St=_e.child,!(_e.lanes&At)){var Et=St.memoizedProps;if(xt=xt.compare,xt=xt!==null?xt:Ie,xt(Et,bt)&&_e.ref===$.ref)return Zi(_e,$,At)}return $.flags|=1,_e=Pg(St,bt),_e.ref=$.ref,_e.return=$,$.child=_e}function bj(_e,$,xt,bt,At){if(_e!==null){var St=_e.memoizedProps;if(Ie(St,bt)&&_e.ref===$.ref)if(dh=!1,$.pendingProps=bt=St,(_e.lanes&At)!==0)_e.flags&131072&&(dh=!0);else return $.lanes=_e.lanes,Zi(_e,$,At)}return cj(_e,$,xt,bt,At)}function dj(_e,$,xt){var bt=$.pendingProps,At=bt.children,St=_e!==null?_e.memoizedState:null;if(bt.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=xt;else{if(!(xt&1073741824))return _e=St!==null?St.baseLanes|xt:xt,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:_e,cachePool:null,transitions:null},$.updateQueue=null,G$2(ej,fj),fj|=_e,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt=St!==null?St.baseLanes:xt,G$2(ej,fj),fj|=bt}else St!==null?(bt=St.baseLanes|xt,$.memoizedState=null):bt=xt,G$2(ej,fj),fj|=bt;return Xi(_e,$,At,xt),$.child}function gj(_e,$){var xt=$.ref;(_e===null&&xt!==null||_e!==null&&_e.ref!==xt)&&($.flags|=512,$.flags|=2097152)}function cj(_e,$,xt,bt,At){var St=Zf(xt)?Xf:H$2.current;return St=Yf($,St),ch($,At),xt=Nh(_e,$,xt,bt,St,At),bt=Sh(),_e!==null&&!dh?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~At,Zi(_e,$,At)):(I$4&&bt&&vg($),$.flags|=1,Xi(_e,$,xt,At),$.child)}function hj(_e,$,xt,bt,At){if(Zf(xt)){var St=!0;cg($)}else St=!1;if(ch($,At),$.stateNode===null)ij(_e,$),Gi($,xt,bt),Ii($,xt,bt,At),bt=!0;else if(_e===null){var Et=$.stateNode,Ct=$.memoizedProps;Et.props=Ct;var Pt=Et.context,wt=xt.contextType;typeof wt=="object"&&wt!==null?wt=eh(wt):(wt=Zf(xt)?Xf:H$2.current,wt=Yf($,wt));var kt=xt.getDerivedStateFromProps,Rt=typeof kt=="function"||typeof Et.getSnapshotBeforeUpdate=="function";Rt||typeof Et.UNSAFE_componentWillReceiveProps!="function"&&typeof Et.componentWillReceiveProps!="function"||(Ct!==bt||Pt!==wt)&&Hi($,Et,bt,wt),jh=!1;var ht=$.memoizedState;Et.state=ht,qh($,bt,Et,At),Pt=$.memoizedState,Ct!==bt||ht!==Pt||Wf.current||jh?(typeof kt=="function"&&(Di($,xt,kt,bt),Pt=$.memoizedState),(Ct=jh||Fi($,xt,Ct,bt,ht,Pt,wt))?(Rt||typeof Et.UNSAFE_componentWillMount!="function"&&typeof Et.componentWillMount!="function"||(typeof Et.componentWillMount=="function"&&Et.componentWillMount(),typeof Et.UNSAFE_componentWillMount=="function"&&Et.UNSAFE_componentWillMount()),typeof Et.componentDidMount=="function"&&($.flags|=4194308)):(typeof Et.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=bt,$.memoizedState=Pt),Et.props=bt,Et.state=Pt,Et.context=wt,bt=Ct):(typeof Et.componentDidMount=="function"&&($.flags|=4194308),bt=!1)}else{Et=$.stateNode,lh(_e,$),Ct=$.memoizedProps,wt=$.type===$.elementType?Ct:Ci($.type,Ct),Et.props=wt,Rt=$.pendingProps,ht=Et.context,Pt=xt.contextType,typeof Pt=="object"&&Pt!==null?Pt=eh(Pt):(Pt=Zf(xt)?Xf:H$2.current,Pt=Yf($,Pt));var vt=xt.getDerivedStateFromProps;(kt=typeof vt=="function"||typeof Et.getSnapshotBeforeUpdate=="function")||typeof Et.UNSAFE_componentWillReceiveProps!="function"&&typeof Et.componentWillReceiveProps!="function"||(Ct!==Rt||ht!==Pt)&&Hi($,Et,bt,Pt),jh=!1,ht=$.memoizedState,Et.state=ht,qh($,bt,Et,At);var Ft=$.memoizedState;Ct!==Rt||ht!==Ft||Wf.current||jh?(typeof vt=="function"&&(Di($,xt,vt,bt),Ft=$.memoizedState),(wt=jh||Fi($,xt,wt,bt,ht,Ft,Pt)||!1)?(kt||typeof Et.UNSAFE_componentWillUpdate!="function"&&typeof Et.componentWillUpdate!="function"||(typeof Et.componentWillUpdate=="function"&&Et.componentWillUpdate(bt,Ft,Pt),typeof Et.UNSAFE_componentWillUpdate=="function"&&Et.UNSAFE_componentWillUpdate(bt,Ft,Pt)),typeof Et.componentDidUpdate=="function"&&($.flags|=4),typeof Et.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof Et.componentDidUpdate!="function"||Ct===_e.memoizedProps&&ht===_e.memoizedState||($.flags|=4),typeof Et.getSnapshotBeforeUpdate!="function"||Ct===_e.memoizedProps&&ht===_e.memoizedState||($.flags|=1024),$.memoizedProps=bt,$.memoizedState=Ft),Et.props=bt,Et.state=Ft,Et.context=Pt,bt=wt):(typeof Et.componentDidUpdate!="function"||Ct===_e.memoizedProps&&ht===_e.memoizedState||($.flags|=4),typeof Et.getSnapshotBeforeUpdate!="function"||Ct===_e.memoizedProps&&ht===_e.memoizedState||($.flags|=1024),bt=!1)}return jj(_e,$,xt,bt,St,At)}function jj(_e,$,xt,bt,At,St){gj(_e,$);var Et=($.flags&128)!==0;if(!bt&&!Et)return At&&dg($,xt,!1),Zi(_e,$,St);bt=$.stateNode,Wi.current=$;var Ct=Et&&typeof xt.getDerivedStateFromError!="function"?null:bt.render();return $.flags|=1,_e!==null&&Et?($.child=Ug($,_e.child,null,St),$.child=Ug($,null,Ct,St)):Xi(_e,$,Ct,St),$.memoizedState=bt.state,At&&dg($,xt,!0),$.child}function kj(_e){var $=_e.stateNode;$.pendingContext?ag(_e,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(_e,$.context,!1),yh(_e,$.containerInfo)}function lj(_e,$,xt,bt,At){return Ig(),Jg(At),$.flags|=256,Xi(_e,$,xt,bt),$.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function oj(_e,$,xt){var bt=$.pendingProps,At=L$1.current,St=!1,Et=($.flags&128)!==0,Ct;if((Ct=Et)||(Ct=_e!==null&&_e.memoizedState===null?!1:(At&2)!==0),Ct?(St=!0,$.flags&=-129):(_e===null||_e.memoizedState!==null)&&(At|=1),G$2(L$1,At&1),_e===null)return Eg($),_e=$.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?($.mode&1?_e.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(Et=bt.children,_e=bt.fallback,St?(bt=$.mode,St=$.child,Et={mode:"hidden",children:Et},!(bt&1)&&St!==null?(St.childLanes=0,St.pendingProps=Et):St=pj(Et,bt,0,null),_e=Tg(_e,bt,xt,null),St.return=$,_e.return=$,St.sibling=_e,$.child=St,$.child.memoizedState=nj(xt),$.memoizedState=mj,_e):qj($,Et));if(At=_e.memoizedState,At!==null&&(Ct=At.dehydrated,Ct!==null))return rj(_e,$,Et,bt,Ct,At,xt);if(St){St=bt.fallback,Et=$.mode,At=_e.child,Ct=At.sibling;var Pt={mode:"hidden",children:bt.children};return!(Et&1)&&$.child!==At?(bt=$.child,bt.childLanes=0,bt.pendingProps=Pt,$.deletions=null):(bt=Pg(At,Pt),bt.subtreeFlags=At.subtreeFlags&14680064),Ct!==null?St=Pg(Ct,St):(St=Tg(St,Et,xt,null),St.flags|=2),St.return=$,bt.return=$,bt.sibling=St,$.child=bt,bt=St,St=$.child,Et=_e.child.memoizedState,Et=Et===null?nj(xt):{baseLanes:Et.baseLanes|xt,cachePool:null,transitions:Et.transitions},St.memoizedState=Et,St.childLanes=_e.childLanes&~xt,$.memoizedState=mj,bt}return St=_e.child,_e=St.sibling,bt=Pg(St,{mode:"visible",children:bt.children}),!($.mode&1)&&(bt.lanes=xt),bt.return=$,bt.sibling=null,_e!==null&&(xt=$.deletions,xt===null?($.deletions=[_e],$.flags|=16):xt.push(_e)),$.child=bt,$.memoizedState=null,bt}function qj(_e,$){return $=pj({mode:"visible",children:$},_e.mode,0,null),$.return=_e,_e.child=$}function sj(_e,$,xt,bt){return bt!==null&&Jg(bt),Ug($,_e.child,null,xt),_e=qj($,$.pendingProps.children),_e.flags|=2,$.memoizedState=null,_e}function rj(_e,$,xt,bt,At,St,Et){if(xt)return $.flags&256?($.flags&=-257,bt=Ki(Error(p$4(422))),sj(_e,$,Et,bt)):$.memoizedState!==null?($.child=_e.child,$.flags|=128,null):(St=bt.fallback,At=$.mode,bt=pj({mode:"visible",children:bt.children},At,0,null),St=Tg(St,At,Et,null),St.flags|=2,bt.return=$,St.return=$,bt.sibling=St,$.child=bt,$.mode&1&&Ug($,_e.child,null,Et),$.child.memoizedState=nj(Et),$.memoizedState=mj,St);if(!($.mode&1))return sj(_e,$,Et,null);if(At.data==="$!"){if(bt=At.nextSibling&&At.nextSibling.dataset,bt)var Ct=bt.dgst;return bt=Ct,St=Error(p$4(419)),bt=Ki(St,bt,void 0),sj(_e,$,Et,bt)}if(Ct=(Et&_e.childLanes)!==0,dh||Ct){if(bt=Q,bt!==null){switch(Et&-Et){case 4:At=2;break;case 16:At=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:At=32;break;case 536870912:At=268435456;break;default:At=0}At=At&(bt.suspendedLanes|Et)?0:At,At!==0&&At!==St.retryLane&&(St.retryLane=At,ih(_e,At),gi(bt,_e,At,-1))}return tj(),bt=Ki(Error(p$4(421))),sj(_e,$,Et,bt)}return At.data==="$?"?($.flags|=128,$.child=_e.child,$=uj.bind(null,_e),At._reactRetry=$,null):(_e=St.treeContext,yg=Lf(At.nextSibling),xg=$,I$4=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=$),$=qj($,bt.children),$.flags|=4096,$)}function vj(_e,$,xt){_e.lanes|=$;var bt=_e.alternate;bt!==null&&(bt.lanes|=$),bh(_e.return,$,xt)}function wj(_e,$,xt,bt,At){var St=_e.memoizedState;St===null?_e.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:bt,tail:xt,tailMode:At}:(St.isBackwards=$,St.rendering=null,St.renderingStartTime=0,St.last=bt,St.tail=xt,St.tailMode=At)}function xj(_e,$,xt){var bt=$.pendingProps,At=bt.revealOrder,St=bt.tail;if(Xi(_e,$,bt.children,xt),bt=L$1.current,bt&2)bt=bt&1|2,$.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=$.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&vj(_e,xt,$);else if(_e.tag===19)vj(_e,xt,$);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}bt&=1}if(G$2(L$1,bt),!($.mode&1))$.memoizedState=null;else switch(At){case"forwards":for(xt=$.child,At=null;xt!==null;)_e=xt.alternate,_e!==null&&Ch(_e)===null&&(At=xt),xt=xt.sibling;xt=At,xt===null?(At=$.child,$.child=null):(At=xt.sibling,xt.sibling=null),wj($,!1,At,xt,St);break;case"backwards":for(xt=null,At=$.child,$.child=null;At!==null;){if(_e=At.alternate,_e!==null&&Ch(_e)===null){$.child=At;break}_e=At.sibling,At.sibling=xt,xt=At,At=_e}wj($,!0,xt,null,St);break;case"together":wj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function ij(_e,$){!($.mode&1)&&_e!==null&&(_e.alternate=null,$.alternate=null,$.flags|=2)}function Zi(_e,$,xt){if(_e!==null&&($.dependencies=_e.dependencies),rh|=$.lanes,!(xt&$.childLanes))return null;if(_e!==null&&$.child!==_e.child)throw Error(p$4(153));if($.child!==null){for(_e=$.child,xt=Pg(_e,_e.pendingProps),$.child=xt,xt.return=$;_e.sibling!==null;)_e=_e.sibling,xt=xt.sibling=Pg(_e,_e.pendingProps),xt.return=$;xt.sibling=null}return $.child}function yj(_e,$,xt){switch($.tag){case 3:kj($),Ig();break;case 5:Ah($);break;case 1:Zf($.type)&&cg($);break;case 4:yh($,$.stateNode.containerInfo);break;case 10:var bt=$.type._context,At=$.memoizedProps.value;G$2(Wg,bt._currentValue),bt._currentValue=At;break;case 13:if(bt=$.memoizedState,bt!==null)return bt.dehydrated!==null?(G$2(L$1,L$1.current&1),$.flags|=128,null):xt&$.child.childLanes?oj(_e,$,xt):(G$2(L$1,L$1.current&1),_e=Zi(_e,$,xt),_e!==null?_e.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(bt=(xt&$.childLanes)!==0,_e.flags&128){if(bt)return xj(_e,$,xt);$.flags|=128}if(At=$.memoizedState,At!==null&&(At.rendering=null,At.tail=null,At.lastEffect=null),G$2(L$1,L$1.current),bt)break;return null;case 22:case 23:return $.lanes=0,dj(_e,$,xt)}return Zi(_e,$,xt)}var zj,Aj,Bj,Cj;zj=function(_e,$){for(var xt=$.child;xt!==null;){if(xt.tag===5||xt.tag===6)_e.appendChild(xt.stateNode);else if(xt.tag!==4&&xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===$)break;for(;xt.sibling===null;){if(xt.return===null||xt.return===$)return;xt=xt.return}xt.sibling.return=xt.return,xt=xt.sibling}};Aj=function(){};Bj=function(_e,$,xt,bt){var At=_e.memoizedProps;if(At!==bt){_e=$.stateNode,xh(uh.current);var St=null;switch(xt){case"input":At=Ya(_e,At),bt=Ya(_e,bt),St=[];break;case"select":At=A$3({},At,{value:void 0}),bt=A$3({},bt,{value:void 0}),St=[];break;case"textarea":At=gb(_e,At),bt=gb(_e,bt),St=[];break;default:typeof At.onClick!="function"&&typeof bt.onClick=="function"&&(_e.onclick=Bf)}ub(xt,bt);var Et;xt=null;for(wt in At)if(!bt.hasOwnProperty(wt)&&At.hasOwnProperty(wt)&&At[wt]!=null)if(wt==="style"){var Ct=At[wt];for(Et in Ct)Ct.hasOwnProperty(Et)&&(xt||(xt={}),xt[Et]="")}else wt!=="dangerouslySetInnerHTML"&&wt!=="children"&&wt!=="suppressContentEditableWarning"&&wt!=="suppressHydrationWarning"&&wt!=="autoFocus"&&(ea.hasOwnProperty(wt)?St||(St=[]):(St=St||[]).push(wt,null));for(wt in bt){var Pt=bt[wt];if(Ct=At!=null?At[wt]:void 0,bt.hasOwnProperty(wt)&&Pt!==Ct&&(Pt!=null||Ct!=null))if(wt==="style")if(Ct){for(Et in Ct)!Ct.hasOwnProperty(Et)||Pt&&Pt.hasOwnProperty(Et)||(xt||(xt={}),xt[Et]="");for(Et in Pt)Pt.hasOwnProperty(Et)&&Ct[Et]!==Pt[Et]&&(xt||(xt={}),xt[Et]=Pt[Et])}else xt||(St||(St=[]),St.push(wt,xt)),xt=Pt;else wt==="dangerouslySetInnerHTML"?(Pt=Pt?Pt.__html:void 0,Ct=Ct?Ct.__html:void 0,Pt!=null&&Ct!==Pt&&(St=St||[]).push(wt,Pt)):wt==="children"?typeof Pt!="string"&&typeof Pt!="number"||(St=St||[]).push(wt,""+Pt):wt!=="suppressContentEditableWarning"&&wt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(wt)?(Pt!=null&&wt==="onScroll"&&D$4("scroll",_e),St||Ct===Pt||(St=[])):(St=St||[]).push(wt,Pt))}xt&&(St=St||[]).push("style",xt);var wt=St;($.updateQueue=wt)&&($.flags|=4)}};Cj=function(_e,$,xt,bt){xt!==bt&&($.flags|=4)};function Dj(_e,$){if(!I$4)switch(_e.tailMode){case"hidden":$=_e.tail;for(var xt=null;$!==null;)$.alternate!==null&&(xt=$),$=$.sibling;xt===null?_e.tail=null:xt.sibling=null;break;case"collapsed":xt=_e.tail;for(var bt=null;xt!==null;)xt.alternate!==null&&(bt=xt),xt=xt.sibling;bt===null?$||_e.tail===null?_e.tail=null:_e.tail.sibling=null:bt.sibling=null}}function S$4(_e){var $=_e.alternate!==null&&_e.alternate.child===_e.child,xt=0,bt=0;if($)for(var At=_e.child;At!==null;)xt|=At.lanes|At.childLanes,bt|=At.subtreeFlags&14680064,bt|=At.flags&14680064,At.return=_e,At=At.sibling;else for(At=_e.child;At!==null;)xt|=At.lanes|At.childLanes,bt|=At.subtreeFlags,bt|=At.flags,At.return=_e,At=At.sibling;return _e.subtreeFlags|=bt,_e.childLanes=xt,$}function Ej(_e,$,xt){var bt=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4($),null;case 1:return Zf($.type)&&$f(),S$4($),null;case 3:return bt=$.stateNode,zh(),E$1(Wf),E$1(H$2),Eh(),bt.pendingContext&&(bt.context=bt.pendingContext,bt.pendingContext=null),(_e===null||_e.child===null)&&(Gg($)?$.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_e,$),S$4($),null;case 5:Bh($);var At=xh(wh.current);if(xt=$.type,_e!==null&&$.stateNode!=null)Bj(_e,$,xt,bt,At),_e.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!bt){if($.stateNode===null)throw Error(p$4(166));return S$4($),null}if(_e=xh(uh.current),Gg($)){bt=$.stateNode,xt=$.type;var St=$.memoizedProps;switch(bt[Of]=$,bt[Pf]=St,_e=($.mode&1)!==0,xt){case"dialog":D$4("cancel",bt),D$4("close",bt);break;case"iframe":case"object":case"embed":D$4("load",bt);break;case"video":case"audio":for(At=0;At<lf.length;At++)D$4(lf[At],bt);break;case"source":D$4("error",bt);break;case"img":case"image":case"link":D$4("error",bt),D$4("load",bt);break;case"details":D$4("toggle",bt);break;case"input":Za(bt,St),D$4("invalid",bt);break;case"select":bt._wrapperState={wasMultiple:!!St.multiple},D$4("invalid",bt);break;case"textarea":hb(bt,St),D$4("invalid",bt)}ub(xt,St),At=null;for(var Et in St)if(St.hasOwnProperty(Et)){var Ct=St[Et];Et==="children"?typeof Ct=="string"?bt.textContent!==Ct&&(St.suppressHydrationWarning!==!0&&Af(bt.textContent,Ct,_e),At=["children",Ct]):typeof Ct=="number"&&bt.textContent!==""+Ct&&(St.suppressHydrationWarning!==!0&&Af(bt.textContent,Ct,_e),At=["children",""+Ct]):ea.hasOwnProperty(Et)&&Ct!=null&&Et==="onScroll"&&D$4("scroll",bt)}switch(xt){case"input":Va(bt),db(bt,St,!0);break;case"textarea":Va(bt),jb(bt);break;case"select":case"option":break;default:typeof St.onClick=="function"&&(bt.onclick=Bf)}bt=At,$.updateQueue=bt,bt!==null&&($.flags|=4)}else{Et=At.nodeType===9?At:At.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(xt)),_e==="http://www.w3.org/1999/xhtml"?xt==="script"?(_e=Et.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof bt.is=="string"?_e=Et.createElement(xt,{is:bt.is}):(_e=Et.createElement(xt),xt==="select"&&(Et=_e,bt.multiple?Et.multiple=!0:bt.size&&(Et.size=bt.size))):_e=Et.createElementNS(_e,xt),_e[Of]=$,_e[Pf]=bt,zj(_e,$,!1,!1),$.stateNode=_e;e:{switch(Et=vb(xt,bt),xt){case"dialog":D$4("cancel",_e),D$4("close",_e),At=bt;break;case"iframe":case"object":case"embed":D$4("load",_e),At=bt;break;case"video":case"audio":for(At=0;At<lf.length;At++)D$4(lf[At],_e);At=bt;break;case"source":D$4("error",_e),At=bt;break;case"img":case"image":case"link":D$4("error",_e),D$4("load",_e),At=bt;break;case"details":D$4("toggle",_e),At=bt;break;case"input":Za(_e,bt),At=Ya(_e,bt),D$4("invalid",_e);break;case"option":At=bt;break;case"select":_e._wrapperState={wasMultiple:!!bt.multiple},At=A$3({},bt,{value:void 0}),D$4("invalid",_e);break;case"textarea":hb(_e,bt),At=gb(_e,bt),D$4("invalid",_e);break;default:At=bt}ub(xt,At),Ct=At;for(St in Ct)if(Ct.hasOwnProperty(St)){var Pt=Ct[St];St==="style"?sb(_e,Pt):St==="dangerouslySetInnerHTML"?(Pt=Pt?Pt.__html:void 0,Pt!=null&&nb(_e,Pt)):St==="children"?typeof Pt=="string"?(xt!=="textarea"||Pt!=="")&&ob(_e,Pt):typeof Pt=="number"&&ob(_e,""+Pt):St!=="suppressContentEditableWarning"&&St!=="suppressHydrationWarning"&&St!=="autoFocus"&&(ea.hasOwnProperty(St)?Pt!=null&&St==="onScroll"&&D$4("scroll",_e):Pt!=null&&ta(_e,St,Pt,Et))}switch(xt){case"input":Va(_e),db(_e,bt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":bt.value!=null&&_e.setAttribute("value",""+Sa(bt.value));break;case"select":_e.multiple=!!bt.multiple,St=bt.value,St!=null?fb(_e,!!bt.multiple,St,!1):bt.defaultValue!=null&&fb(_e,!!bt.multiple,bt.defaultValue,!0);break;default:typeof At.onClick=="function"&&(_e.onclick=Bf)}switch(xt){case"button":case"input":case"select":case"textarea":bt=!!bt.autoFocus;break e;case"img":bt=!0;break e;default:bt=!1}}bt&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$4($),null;case 6:if(_e&&$.stateNode!=null)Cj(_e,$,_e.memoizedProps,bt);else{if(typeof bt!="string"&&$.stateNode===null)throw Error(p$4(166));if(xt=xh(wh.current),xh(uh.current),Gg($)){if(bt=$.stateNode,xt=$.memoizedProps,bt[Of]=$,(St=bt.nodeValue!==xt)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(bt.nodeValue,xt,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(bt.nodeValue,xt,(_e.mode&1)!==0)}St&&($.flags|=4)}else bt=(xt.nodeType===9?xt:xt.ownerDocument).createTextNode(bt),bt[Of]=$,$.stateNode=bt}return S$4($),null;case 13:if(E$1(L$1),bt=$.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,St=!1;else if(St=Gg($),bt!==null&&bt.dehydrated!==null){if(_e===null){if(!St)throw Error(p$4(318));if(St=$.memoizedState,St=St!==null?St.dehydrated:null,!St)throw Error(p$4(317));St[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S$4($),St=!1}else zg!==null&&(Fj(zg),zg=null),St=!0;if(!St)return $.flags&65536?$:null}return $.flags&128?($.lanes=xt,$):(bt=bt!==null,bt!==(_e!==null&&_e.memoizedState!==null)&&bt&&($.child.flags|=8192,$.mode&1&&(_e===null||L$1.current&1?T$3===0&&(T$3=3):tj())),$.updateQueue!==null&&($.flags|=4),S$4($),null);case 4:return zh(),Aj(_e,$),_e===null&&sf($.stateNode.containerInfo),S$4($),null;case 10:return ah($.type._context),S$4($),null;case 17:return Zf($.type)&&$f(),S$4($),null;case 19:if(E$1(L$1),St=$.memoizedState,St===null)return S$4($),null;if(bt=($.flags&128)!==0,Et=St.rendering,Et===null)if(bt)Dj(St,!1);else{if(T$3!==0||_e!==null&&_e.flags&128)for(_e=$.child;_e!==null;){if(Et=Ch(_e),Et!==null){for($.flags|=128,Dj(St,!1),bt=Et.updateQueue,bt!==null&&($.updateQueue=bt,$.flags|=4),$.subtreeFlags=0,bt=xt,xt=$.child;xt!==null;)St=xt,_e=bt,St.flags&=14680066,Et=St.alternate,Et===null?(St.childLanes=0,St.lanes=_e,St.child=null,St.subtreeFlags=0,St.memoizedProps=null,St.memoizedState=null,St.updateQueue=null,St.dependencies=null,St.stateNode=null):(St.childLanes=Et.childLanes,St.lanes=Et.lanes,St.child=Et.child,St.subtreeFlags=0,St.deletions=null,St.memoizedProps=Et.memoizedProps,St.memoizedState=Et.memoizedState,St.updateQueue=Et.updateQueue,St.type=Et.type,_e=Et.dependencies,St.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),xt=xt.sibling;return G$2(L$1,L$1.current&1|2),$.child}_e=_e.sibling}St.tail!==null&&B$1()>Gj&&($.flags|=128,bt=!0,Dj(St,!1),$.lanes=4194304)}else{if(!bt)if(_e=Ch(Et),_e!==null){if($.flags|=128,bt=!0,xt=_e.updateQueue,xt!==null&&($.updateQueue=xt,$.flags|=4),Dj(St,!0),St.tail===null&&St.tailMode==="hidden"&&!Et.alternate&&!I$4)return S$4($),null}else 2*B$1()-St.renderingStartTime>Gj&&xt!==1073741824&&($.flags|=128,bt=!0,Dj(St,!1),$.lanes=4194304);St.isBackwards?(Et.sibling=$.child,$.child=Et):(xt=St.last,xt!==null?xt.sibling=Et:$.child=Et,St.last=Et)}return St.tail!==null?($=St.tail,St.rendering=$,St.tail=$.sibling,St.renderingStartTime=B$1(),$.sibling=null,xt=L$1.current,G$2(L$1,bt?xt&1|2:xt&1),$):(S$4($),null);case 22:case 23:return Hj(),bt=$.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==bt&&($.flags|=8192),bt&&$.mode&1?fj&1073741824&&(S$4($),$.subtreeFlags&6&&($.flags|=8192)):S$4($),null;case 24:return null;case 25:return null}throw Error(p$4(156,$.tag))}function Ij(_e,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),_e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 3:return zh(),E$1(Wf),E$1(H$2),Eh(),_e=$.flags,_e&65536&&!(_e&128)?($.flags=_e&-65537|128,$):null;case 5:return Bh($),null;case 13:if(E$1(L$1),_e=$.memoizedState,_e!==null&&_e.dehydrated!==null){if($.alternate===null)throw Error(p$4(340));Ig()}return _e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah($.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$2=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(_e,$){var xt=_e.ref;if(xt!==null)if(typeof xt=="function")try{xt(null)}catch(bt){W$2(_e,$,bt)}else xt.current=null}function Mj(_e,$,xt){try{xt()}catch(bt){W$2(_e,$,bt)}}var Nj=!1;function Oj(_e,$){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var xt={start:_e.selectionStart,end:_e.selectionEnd};else e:{xt=(xt=_e.ownerDocument)&&xt.defaultView||window;var bt=xt.getSelection&&xt.getSelection();if(bt&&bt.rangeCount!==0){xt=bt.anchorNode;var At=bt.anchorOffset,St=bt.focusNode;bt=bt.focusOffset;try{xt.nodeType,St.nodeType}catch{xt=null;break e}var Et=0,Ct=-1,Pt=-1,wt=0,kt=0,Rt=_e,ht=null;t:for(;;){for(var vt;Rt!==xt||At!==0&&Rt.nodeType!==3||(Ct=Et+At),Rt!==St||bt!==0&&Rt.nodeType!==3||(Pt=Et+bt),Rt.nodeType===3&&(Et+=Rt.nodeValue.length),(vt=Rt.firstChild)!==null;)ht=Rt,Rt=vt;for(;;){if(Rt===_e)break t;if(ht===xt&&++wt===At&&(Ct=Et),ht===St&&++kt===bt&&(Pt=Et),(vt=Rt.nextSibling)!==null)break;Rt=ht,ht=Rt.parentNode}Rt=vt}xt=Ct===-1||Pt===-1?null:{start:Ct,end:Pt}}else xt=null}xt=xt||{start:0,end:0}}else xt=null;for(Df={focusedElem:_e,selectionRange:xt},dd=!1,V$1=$;V$1!==null;)if($=V$1,_e=$.child,($.subtreeFlags&1028)!==0&&_e!==null)_e.return=$,V$1=_e;else for(;V$1!==null;){$=V$1;try{var Ft=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(Ft!==null){var Ht=Ft.memoizedProps,qt=Ft.memoizedState,Nt=$.stateNode,$t=Nt.getSnapshotBeforeUpdate($.elementType===$.type?Ht:Ci($.type,Ht),qt);Nt.__reactInternalSnapshotBeforeUpdate=$t}break;case 3:var Mt=$.stateNode.containerInfo;Mt.nodeType===1?Mt.textContent="":Mt.nodeType===9&&Mt.documentElement&&Mt.removeChild(Mt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(Bt){W$2($,$.return,Bt)}if(_e=$.sibling,_e!==null){_e.return=$.return,V$1=_e;break}V$1=$.return}return Ft=Nj,Nj=!1,Ft}function Pj(_e,$,xt){var bt=$.updateQueue;if(bt=bt!==null?bt.lastEffect:null,bt!==null){var At=bt=bt.next;do{if((At.tag&_e)===_e){var St=At.destroy;At.destroy=void 0,St!==void 0&&Mj($,xt,St)}At=At.next}while(At!==bt)}}function Qj(_e,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var xt=$=$.next;do{if((xt.tag&_e)===_e){var bt=xt.create;xt.destroy=bt()}xt=xt.next}while(xt!==$)}}function Rj(_e){var $=_e.ref;if($!==null){var xt=_e.stateNode;switch(_e.tag){case 5:_e=xt;break;default:_e=xt}typeof $=="function"?$(_e):$.current=_e}}function Sj(_e){var $=_e.alternate;$!==null&&(_e.alternate=null,Sj($)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&($=_e.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Tj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Uj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Tj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Vj(_e,$,xt){var bt=_e.tag;if(bt===5||bt===6)_e=_e.stateNode,$?xt.nodeType===8?xt.parentNode.insertBefore(_e,$):xt.insertBefore(_e,$):(xt.nodeType===8?($=xt.parentNode,$.insertBefore(_e,xt)):($=xt,$.appendChild(_e)),xt=xt._reactRootContainer,xt!=null||$.onclick!==null||($.onclick=Bf));else if(bt!==4&&(_e=_e.child,_e!==null))for(Vj(_e,$,xt),_e=_e.sibling;_e!==null;)Vj(_e,$,xt),_e=_e.sibling}function Wj(_e,$,xt){var bt=_e.tag;if(bt===5||bt===6)_e=_e.stateNode,$?xt.insertBefore(_e,$):xt.appendChild(_e);else if(bt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,$,xt),_e=_e.sibling;_e!==null;)Wj(_e,$,xt),_e=_e.sibling}var X$1=null,Xj=!1;function Yj(_e,$,xt){for(xt=xt.child;xt!==null;)Zj(_e,$,xt),xt=xt.sibling}function Zj(_e,$,xt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,xt)}catch{}switch(xt.tag){case 5:U$2||Lj(xt,$);case 6:var bt=X$1,At=Xj;X$1=null,Yj(_e,$,xt),X$1=bt,Xj=At,X$1!==null&&(Xj?(_e=X$1,xt=xt.stateNode,_e.nodeType===8?_e.parentNode.removeChild(xt):_e.removeChild(xt)):X$1.removeChild(xt.stateNode));break;case 18:X$1!==null&&(Xj?(_e=X$1,xt=xt.stateNode,_e.nodeType===8?Kf(_e.parentNode,xt):_e.nodeType===1&&Kf(_e,xt),bd(_e)):Kf(X$1,xt.stateNode));break;case 4:bt=X$1,At=Xj,X$1=xt.stateNode.containerInfo,Xj=!0,Yj(_e,$,xt),X$1=bt,Xj=At;break;case 0:case 11:case 14:case 15:if(!U$2&&(bt=xt.updateQueue,bt!==null&&(bt=bt.lastEffect,bt!==null))){At=bt=bt.next;do{var St=At,Et=St.destroy;St=St.tag,Et!==void 0&&(St&2||St&4)&&Mj(xt,$,Et),At=At.next}while(At!==bt)}Yj(_e,$,xt);break;case 1:if(!U$2&&(Lj(xt,$),bt=xt.stateNode,typeof bt.componentWillUnmount=="function"))try{bt.props=xt.memoizedProps,bt.state=xt.memoizedState,bt.componentWillUnmount()}catch(Ct){W$2(xt,$,Ct)}Yj(_e,$,xt);break;case 21:Yj(_e,$,xt);break;case 22:xt.mode&1?(U$2=(bt=U$2)||xt.memoizedState!==null,Yj(_e,$,xt),U$2=bt):Yj(_e,$,xt);break;default:Yj(_e,$,xt)}}function ak(_e){var $=_e.updateQueue;if($!==null){_e.updateQueue=null;var xt=_e.stateNode;xt===null&&(xt=_e.stateNode=new Kj),$.forEach(function(bt){var At=bk.bind(null,_e,bt);xt.has(bt)||(xt.add(bt),bt.then(At,At))})}}function ck(_e,$){var xt=$.deletions;if(xt!==null)for(var bt=0;bt<xt.length;bt++){var At=xt[bt];try{var St=_e,Et=$,Ct=Et;e:for(;Ct!==null;){switch(Ct.tag){case 5:X$1=Ct.stateNode,Xj=!1;break e;case 3:X$1=Ct.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=Ct.stateNode.containerInfo,Xj=!0;break e}Ct=Ct.return}if(X$1===null)throw Error(p$4(160));Zj(St,Et,At),X$1=null,Xj=!1;var Pt=At.alternate;Pt!==null&&(Pt.return=null),At.return=null}catch(wt){W$2(At,$,wt)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)dk($,_e),$=$.sibling}function dk(_e,$){var xt=_e.alternate,bt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(ck($,_e),ek(_e),bt&4){try{Pj(3,_e,_e.return),Qj(3,_e)}catch(Ht){W$2(_e,_e.return,Ht)}try{Pj(5,_e,_e.return)}catch(Ht){W$2(_e,_e.return,Ht)}}break;case 1:ck($,_e),ek(_e),bt&512&&xt!==null&&Lj(xt,xt.return);break;case 5:if(ck($,_e),ek(_e),bt&512&&xt!==null&&Lj(xt,xt.return),_e.flags&32){var At=_e.stateNode;try{ob(At,"")}catch(Ht){W$2(_e,_e.return,Ht)}}if(bt&4&&(At=_e.stateNode,At!=null)){var St=_e.memoizedProps,Et=xt!==null?xt.memoizedProps:St,Ct=_e.type,Pt=_e.updateQueue;if(_e.updateQueue=null,Pt!==null)try{Ct==="input"&&St.type==="radio"&&St.name!=null&&ab(At,St),vb(Ct,Et);var wt=vb(Ct,St);for(Et=0;Et<Pt.length;Et+=2){var kt=Pt[Et],Rt=Pt[Et+1];kt==="style"?sb(At,Rt):kt==="dangerouslySetInnerHTML"?nb(At,Rt):kt==="children"?ob(At,Rt):ta(At,kt,Rt,wt)}switch(Ct){case"input":bb(At,St);break;case"textarea":ib(At,St);break;case"select":var ht=At._wrapperState.wasMultiple;At._wrapperState.wasMultiple=!!St.multiple;var vt=St.value;vt!=null?fb(At,!!St.multiple,vt,!1):ht!==!!St.multiple&&(St.defaultValue!=null?fb(At,!!St.multiple,St.defaultValue,!0):fb(At,!!St.multiple,St.multiple?[]:"",!1))}At[Pf]=St}catch(Ht){W$2(_e,_e.return,Ht)}}break;case 6:if(ck($,_e),ek(_e),bt&4){if(_e.stateNode===null)throw Error(p$4(162));At=_e.stateNode,St=_e.memoizedProps;try{At.nodeValue=St}catch(Ht){W$2(_e,_e.return,Ht)}}break;case 3:if(ck($,_e),ek(_e),bt&4&&xt!==null&&xt.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(Ht){W$2(_e,_e.return,Ht)}break;case 4:ck($,_e),ek(_e);break;case 13:ck($,_e),ek(_e),At=_e.child,At.flags&8192&&(St=At.memoizedState!==null,At.stateNode.isHidden=St,!St||At.alternate!==null&&At.alternate.memoizedState!==null||(fk=B$1())),bt&4&&ak(_e);break;case 22:if(kt=xt!==null&&xt.memoizedState!==null,_e.mode&1?(U$2=(wt=U$2)||kt,ck($,_e),U$2=wt):ck($,_e),ek(_e),bt&8192){if(wt=_e.memoizedState!==null,(_e.stateNode.isHidden=wt)&&!kt&&_e.mode&1)for(V$1=_e,kt=_e.child;kt!==null;){for(Rt=V$1=kt;V$1!==null;){switch(ht=V$1,vt=ht.child,ht.tag){case 0:case 11:case 14:case 15:Pj(4,ht,ht.return);break;case 1:Lj(ht,ht.return);var Ft=ht.stateNode;if(typeof Ft.componentWillUnmount=="function"){bt=ht,xt=ht.return;try{$=bt,Ft.props=$.memoizedProps,Ft.state=$.memoizedState,Ft.componentWillUnmount()}catch(Ht){W$2(bt,xt,Ht)}}break;case 5:Lj(ht,ht.return);break;case 22:if(ht.memoizedState!==null){gk(Rt);continue}}vt!==null?(vt.return=ht,V$1=vt):gk(Rt)}kt=kt.sibling}e:for(kt=null,Rt=_e;;){if(Rt.tag===5){if(kt===null){kt=Rt;try{At=Rt.stateNode,wt?(St=At.style,typeof St.setProperty=="function"?St.setProperty("display","none","important"):St.display="none"):(Ct=Rt.stateNode,Pt=Rt.memoizedProps.style,Et=Pt!=null&&Pt.hasOwnProperty("display")?Pt.display:null,Ct.style.display=rb("display",Et))}catch(Ht){W$2(_e,_e.return,Ht)}}}else if(Rt.tag===6){if(kt===null)try{Rt.stateNode.nodeValue=wt?"":Rt.memoizedProps}catch(Ht){W$2(_e,_e.return,Ht)}}else if((Rt.tag!==22&&Rt.tag!==23||Rt.memoizedState===null||Rt===_e)&&Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}if(Rt===_e)break e;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===_e)break e;kt===Rt&&(kt=null),Rt=Rt.return}kt===Rt&&(kt=null),Rt.sibling.return=Rt.return,Rt=Rt.sibling}}break;case 19:ck($,_e),ek(_e),bt&4&&ak(_e);break;case 21:break;default:ck($,_e),ek(_e)}}function ek(_e){var $=_e.flags;if($&2){try{e:{for(var xt=_e.return;xt!==null;){if(Tj(xt)){var bt=xt;break e}xt=xt.return}throw Error(p$4(160))}switch(bt.tag){case 5:var At=bt.stateNode;bt.flags&32&&(ob(At,""),bt.flags&=-33);var St=Uj(_e);Wj(_e,St,At);break;case 3:case 4:var Et=bt.stateNode.containerInfo,Ct=Uj(_e);Vj(_e,Ct,Et);break;default:throw Error(p$4(161))}}catch(Pt){W$2(_e,_e.return,Pt)}_e.flags&=-3}$&4096&&(_e.flags&=-4097)}function hk(_e,$,xt){V$1=_e,ik(_e)}function ik(_e,$,xt){for(var bt=(_e.mode&1)!==0;V$1!==null;){var At=V$1,St=At.child;if(At.tag===22&&bt){var Et=At.memoizedState!==null||Jj;if(!Et){var Ct=At.alternate,Pt=Ct!==null&&Ct.memoizedState!==null||U$2;Ct=Jj;var wt=U$2;if(Jj=Et,(U$2=Pt)&&!wt)for(V$1=At;V$1!==null;)Et=V$1,Pt=Et.child,Et.tag===22&&Et.memoizedState!==null?jk(At):Pt!==null?(Pt.return=Et,V$1=Pt):jk(At);for(;St!==null;)V$1=St,ik(St),St=St.sibling;V$1=At,Jj=Ct,U$2=wt}kk(_e)}else At.subtreeFlags&8772&&St!==null?(St.return=At,V$1=St):kk(_e)}}function kk(_e){for(;V$1!==null;){var $=V$1;if($.flags&8772){var xt=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U$2||Qj(5,$);break;case 1:var bt=$.stateNode;if($.flags&4&&!U$2)if(xt===null)bt.componentDidMount();else{var At=$.elementType===$.type?xt.memoizedProps:Ci($.type,xt.memoizedProps);bt.componentDidUpdate(At,xt.memoizedState,bt.__reactInternalSnapshotBeforeUpdate)}var St=$.updateQueue;St!==null&&sh($,St,bt);break;case 3:var Et=$.updateQueue;if(Et!==null){if(xt=null,$.child!==null)switch($.child.tag){case 5:xt=$.child.stateNode;break;case 1:xt=$.child.stateNode}sh($,Et,xt)}break;case 5:var Ct=$.stateNode;if(xt===null&&$.flags&4){xt=Ct;var Pt=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":Pt.autoFocus&&xt.focus();break;case"img":Pt.src&&(xt.src=Pt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var wt=$.alternate;if(wt!==null){var kt=wt.memoizedState;if(kt!==null){var Rt=kt.dehydrated;Rt!==null&&bd(Rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$2||$.flags&512&&Rj($)}catch(ht){W$2($,$.return,ht)}}if($===_e){V$1=null;break}if(xt=$.sibling,xt!==null){xt.return=$.return,V$1=xt;break}V$1=$.return}}function gk(_e){for(;V$1!==null;){var $=V$1;if($===_e){V$1=null;break}var xt=$.sibling;if(xt!==null){xt.return=$.return,V$1=xt;break}V$1=$.return}}function jk(_e){for(;V$1!==null;){var $=V$1;try{switch($.tag){case 0:case 11:case 15:var xt=$.return;try{Qj(4,$)}catch(Pt){W$2($,xt,Pt)}break;case 1:var bt=$.stateNode;if(typeof bt.componentDidMount=="function"){var At=$.return;try{bt.componentDidMount()}catch(Pt){W$2($,At,Pt)}}var St=$.return;try{Rj($)}catch(Pt){W$2($,St,Pt)}break;case 5:var Et=$.return;try{Rj($)}catch(Pt){W$2($,Et,Pt)}}}catch(Pt){W$2($,$.return,Pt)}if($===_e){V$1=null;break}var Ct=$.sibling;if(Ct!==null){Ct.return=$.return,V$1=Ct;break}V$1=$.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(_e){return _e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function gi(_e,$,xt,bt){if(50<yk)throw yk=0,zk=null,Error(p$4(185));Ac(_e,xt,bt),(!(K&2)||_e!==Q)&&(_e===Q&&(!(K&2)&&(qk|=xt),T$3===4&&Ck(_e,Z)),Dk(_e,bt),xt===1&&K===0&&!($.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(_e,$){var xt=_e.callbackNode;wc(_e,$);var bt=uc(_e,_e===Q?Z:0);if(bt===0)xt!==null&&bc(xt),_e.callbackNode=null,_e.callbackPriority=0;else if($=bt&-bt,_e.callbackPriority!==$){if(xt!=null&&bc(xt),$===1)_e.tag===0?ig(Ek.bind(null,_e)):hg(Ek.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),xt=null;else{switch(Dc(bt)){case 1:xt=fc;break;case 4:xt=gc;break;case 16:xt=hc;break;case 536870912:xt=jc;break;default:xt=hc}xt=Fk(xt,Gk.bind(null,_e))}_e.callbackPriority=$,_e.callbackNode=xt}}function Gk(_e,$){if(Ak=-1,Bk=0,K&6)throw Error(p$4(327));var xt=_e.callbackNode;if(Hk()&&_e.callbackNode!==xt)return null;var bt=uc(_e,_e===Q?Z:0);if(bt===0)return null;if(bt&30||bt&_e.expiredLanes||$)$=Ik(_e,bt);else{$=bt;var At=K;K|=2;var St=Jk();(Q!==_e||Z!==$)&&(uk=null,Gj=B$1()+500,Kk(_e,$));do try{Lk();break}catch(Ct){Mk(_e,Ct)}while(!0);$g(),mk.current=St,K=At,Y!==null?$=0:(Q=null,Z=0,$=T$3)}if($!==0){if($===2&&(At=xc(_e),At!==0&&(bt=At,$=Nk(_e,At))),$===1)throw xt=pk,Kk(_e,0),Ck(_e,bt),Dk(_e,B$1()),xt;if($===6)Ck(_e,bt);else{if(At=_e.current.alternate,!(bt&30)&&!Ok(At)&&($=Ik(_e,bt),$===2&&(St=xc(_e),St!==0&&(bt=St,$=Nk(_e,St))),$===1))throw xt=pk,Kk(_e,0),Ck(_e,bt),Dk(_e,B$1()),xt;switch(_e.finishedWork=At,_e.finishedLanes=bt,$){case 0:case 1:throw Error(p$4(345));case 2:Pk(_e,tk,uk);break;case 3:if(Ck(_e,bt),(bt&130023424)===bt&&($=fk+500-B$1(),10<$)){if(uc(_e,0)!==0)break;if(At=_e.suspendedLanes,(At&bt)!==bt){R$1(),_e.pingedLanes|=_e.suspendedLanes&At;break}_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),$);break}Pk(_e,tk,uk);break;case 4:if(Ck(_e,bt),(bt&4194240)===bt)break;for($=_e.eventTimes,At=-1;0<bt;){var Et=31-oc(bt);St=1<<Et,Et=$[Et],Et>At&&(At=Et),bt&=~St}if(bt=At,bt=B$1()-bt,bt=(120>bt?120:480>bt?480:1080>bt?1080:1920>bt?1920:3e3>bt?3e3:4320>bt?4320:1960*lk(bt/1960))-bt,10<bt){_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),bt);break}Pk(_e,tk,uk);break;case 5:Pk(_e,tk,uk);break;default:throw Error(p$4(329))}}}return Dk(_e,B$1()),_e.callbackNode===xt?Gk.bind(null,_e):null}function Nk(_e,$){var xt=sk;return _e.current.memoizedState.isDehydrated&&(Kk(_e,$).flags|=256),_e=Ik(_e,$),_e!==2&&($=tk,tk=xt,$!==null&&Fj($)),_e}function Fj(_e){tk===null?tk=_e:tk.push.apply(tk,_e)}function Ok(_e){for(var $=_e;;){if($.flags&16384){var xt=$.updateQueue;if(xt!==null&&(xt=xt.stores,xt!==null))for(var bt=0;bt<xt.length;bt++){var At=xt[bt],St=At.getSnapshot;At=At.value;try{if(!He(St(),At))return!1}catch{return!1}}}if(xt=$.child,$.subtreeFlags&16384&&xt!==null)xt.return=$,$=xt;else{if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Ck(_e,$){for($&=~rk,$&=~qk,_e.suspendedLanes|=$,_e.pingedLanes&=~$,_e=_e.expirationTimes;0<$;){var xt=31-oc($),bt=1<<xt;_e[xt]=-1,$&=~bt}}function Ek(_e){if(K&6)throw Error(p$4(327));Hk();var $=uc(_e,0);if(!($&1))return Dk(_e,B$1()),null;var xt=Ik(_e,$);if(_e.tag!==0&&xt===2){var bt=xc(_e);bt!==0&&($=bt,xt=Nk(_e,bt))}if(xt===1)throw xt=pk,Kk(_e,0),Ck(_e,$),Dk(_e,B$1()),xt;if(xt===6)throw Error(p$4(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=$,Pk(_e,tk,uk),Dk(_e,B$1()),null}function Qk(_e,$){var xt=K;K|=1;try{return _e($)}finally{K=xt,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(_e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var $=K;K|=1;var xt=ok.transition,bt=C$1;try{if(ok.transition=null,C$1=1,_e)return _e()}finally{C$1=bt,ok.transition=xt,K=$,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(_e,$){_e.finishedWork=null,_e.finishedLanes=0;var xt=_e.timeoutHandle;if(xt!==-1&&(_e.timeoutHandle=-1,Gf(xt)),Y!==null)for(xt=Y.return;xt!==null;){var bt=xt;switch(wg(bt),bt.tag){case 1:bt=bt.type.childContextTypes,bt!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$2),Eh();break;case 5:Bh(bt);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(bt.type._context);break;case 22:case 23:Hj()}xt=xt.return}if(Q=_e,Y=_e=Pg(_e.current,null),Z=fj=$,T$3=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for($=0;$<fh.length;$++)if(xt=fh[$],bt=xt.interleaved,bt!==null){xt.interleaved=null;var At=bt.next,St=xt.pending;if(St!==null){var Et=St.next;St.next=At,bt.next=Et}xt.pending=bt}fh=null}return _e}function Mk(_e,$){do{var xt=Y;try{if($g(),Fh.current=Rh,Ih){for(var bt=M$3.memoizedState;bt!==null;){var At=bt.queue;At!==null&&(At.pending=null),bt=bt.next}Ih=!1}if(Hh=0,O$2=N$3=M$3=null,Jh=!1,Kh=0,nk.current=null,xt===null||xt.return===null){T$3=1,pk=$,Y=null;break}e:{var St=_e,Et=xt.return,Ct=xt,Pt=$;if($=Z,Ct.flags|=32768,Pt!==null&&typeof Pt=="object"&&typeof Pt.then=="function"){var wt=Pt,kt=Ct,Rt=kt.tag;if(!(kt.mode&1)&&(Rt===0||Rt===11||Rt===15)){var ht=kt.alternate;ht?(kt.updateQueue=ht.updateQueue,kt.memoizedState=ht.memoizedState,kt.lanes=ht.lanes):(kt.updateQueue=null,kt.memoizedState=null)}var vt=Ui(Et);if(vt!==null){vt.flags&=-257,Vi(vt,Et,Ct,St,$),vt.mode&1&&Si(St,wt,$),$=vt,Pt=wt;var Ft=$.updateQueue;if(Ft===null){var Ht=new Set;Ht.add(Pt),$.updateQueue=Ht}else Ft.add(Pt);break e}else{if(!($&1)){Si(St,wt,$),tj();break e}Pt=Error(p$4(426))}}else if(I$4&&Ct.mode&1){var qt=Ui(Et);if(qt!==null){!(qt.flags&65536)&&(qt.flags|=256),Vi(qt,Et,Ct,St,$),Jg(Ji(Pt,Ct));break e}}St=Pt=Ji(Pt,Ct),T$3!==4&&(T$3=2),sk===null?sk=[St]:sk.push(St),St=Et;do{switch(St.tag){case 3:St.flags|=65536,$&=-$,St.lanes|=$;var Nt=Ni(St,Pt,$);ph(St,Nt);break e;case 1:Ct=Pt;var $t=St.type,Mt=St.stateNode;if(!(St.flags&128)&&(typeof $t.getDerivedStateFromError=="function"||Mt!==null&&typeof Mt.componentDidCatch=="function"&&(Ri===null||!Ri.has(Mt)))){St.flags|=65536,$&=-$,St.lanes|=$;var Bt=Qi(St,Ct,$);ph(St,Bt);break e}}St=St.return}while(St!==null)}Sk(xt)}catch(_t){$=_t,Y===xt&&xt!==null&&(Y=xt=xt.return);continue}break}while(!0)}function Jk(){var _e=mk.current;return mk.current=Rh,_e===null?Rh:_e}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(_e,$){var xt=K;K|=2;var bt=Jk();(Q!==_e||Z!==$)&&(uk=null,Kk(_e,$));do try{Tk();break}catch(At){Mk(_e,At)}while(!0);if($g(),K=xt,mk.current=bt,Y!==null)throw Error(p$4(261));return Q=null,Z=0,T$3}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(_e){var $=Vk(_e.alternate,_e,fj);_e.memoizedProps=_e.pendingProps,$===null?Sk(_e):Y=$,nk.current=null}function Sk(_e){var $=_e;do{var xt=$.alternate;if(_e=$.return,$.flags&32768){if(xt=Ij(xt,$),xt!==null){xt.flags&=32767,Y=xt;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$3=6,Y=null;return}}else if(xt=Ej(xt,$,fj),xt!==null){Y=xt;return}if($=$.sibling,$!==null){Y=$;return}Y=$=_e}while($!==null);T$3===0&&(T$3=5)}function Pk(_e,$,xt){var bt=C$1,At=ok.transition;try{ok.transition=null,C$1=1,Wk(_e,$,xt,bt)}finally{ok.transition=At,C$1=bt}return null}function Wk(_e,$,xt,bt){do Hk();while(wk!==null);if(K&6)throw Error(p$4(327));xt=_e.finishedWork;var At=_e.finishedLanes;if(xt===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,xt===_e.current)throw Error(p$4(177));_e.callbackNode=null,_e.callbackPriority=0;var St=xt.lanes|xt.childLanes;if(Bc(_e,St),_e===Q&&(Y=Q=null,Z=0),!(xt.subtreeFlags&2064)&&!(xt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),St=(xt.flags&15990)!==0,xt.subtreeFlags&15990||St){St=ok.transition,ok.transition=null;var Et=C$1;C$1=1;var Ct=K;K|=4,nk.current=null,Oj(_e,xt),dk(xt,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=xt,hk(xt),dc(),K=Ct,C$1=Et,ok.transition=St}else _e.current=xt;if(vk&&(vk=!1,wk=_e,xk=At),St=_e.pendingLanes,St===0&&(Ri=null),mc(xt.stateNode),Dk(_e,B$1()),$!==null)for(bt=_e.onRecoverableError,xt=0;xt<$.length;xt++)At=$[xt],bt(At.value,{componentStack:At.stack,digest:At.digest});if(Oi)throw Oi=!1,_e=Pi,Pi=null,_e;return xk&1&&_e.tag!==0&&Hk(),St=_e.pendingLanes,St&1?_e===zk?yk++:(yk=0,zk=_e):yk=0,jg(),null}function Hk(){if(wk!==null){var _e=Dc(xk),$=ok.transition,xt=C$1;try{if(ok.transition=null,C$1=16>_e?16:_e,wk===null)var bt=!1;else{if(_e=wk,wk=null,xk=0,K&6)throw Error(p$4(331));var At=K;for(K|=4,V$1=_e.current;V$1!==null;){var St=V$1,Et=St.child;if(V$1.flags&16){var Ct=St.deletions;if(Ct!==null){for(var Pt=0;Pt<Ct.length;Pt++){var wt=Ct[Pt];for(V$1=wt;V$1!==null;){var kt=V$1;switch(kt.tag){case 0:case 11:case 15:Pj(8,kt,St)}var Rt=kt.child;if(Rt!==null)Rt.return=kt,V$1=Rt;else for(;V$1!==null;){kt=V$1;var ht=kt.sibling,vt=kt.return;if(Sj(kt),kt===wt){V$1=null;break}if(ht!==null){ht.return=vt,V$1=ht;break}V$1=vt}}}var Ft=St.alternate;if(Ft!==null){var Ht=Ft.child;if(Ht!==null){Ft.child=null;do{var qt=Ht.sibling;Ht.sibling=null,Ht=qt}while(Ht!==null)}}V$1=St}}if(St.subtreeFlags&2064&&Et!==null)Et.return=St,V$1=Et;else e:for(;V$1!==null;){if(St=V$1,St.flags&2048)switch(St.tag){case 0:case 11:case 15:Pj(9,St,St.return)}var Nt=St.sibling;if(Nt!==null){Nt.return=St.return,V$1=Nt;break e}V$1=St.return}}var $t=_e.current;for(V$1=$t;V$1!==null;){Et=V$1;var Mt=Et.child;if(Et.subtreeFlags&2064&&Mt!==null)Mt.return=Et,V$1=Mt;else e:for(Et=$t;V$1!==null;){if(Ct=V$1,Ct.flags&2048)try{switch(Ct.tag){case 0:case 11:case 15:Qj(9,Ct)}}catch(_t){W$2(Ct,Ct.return,_t)}if(Ct===Et){V$1=null;break e}var Bt=Ct.sibling;if(Bt!==null){Bt.return=Ct.return,V$1=Bt;break e}V$1=Ct.return}}if(K=At,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}bt=!0}return bt}finally{C$1=xt,ok.transition=$}}return!1}function Xk(_e,$,xt){$=Ji(xt,$),$=Ni(_e,$,1),_e=nh(_e,$,1),$=R$1(),_e!==null&&(Ac(_e,1,$),Dk(_e,$))}function W$2(_e,$,xt){if(_e.tag===3)Xk(_e,_e,xt);else for(;$!==null;){if($.tag===3){Xk($,_e,xt);break}else if($.tag===1){var bt=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof bt.componentDidCatch=="function"&&(Ri===null||!Ri.has(bt))){_e=Ji(xt,_e),_e=Qi($,_e,1),$=nh($,_e,1),_e=R$1(),$!==null&&(Ac($,1,_e),Dk($,_e));break}}$=$.return}}function Ti(_e,$,xt){var bt=_e.pingCache;bt!==null&&bt.delete($),$=R$1(),_e.pingedLanes|=_e.suspendedLanes&xt,Q===_e&&(Z&xt)===xt&&(T$3===4||T$3===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(_e,0):rk|=xt),Dk(_e,$)}function Yk(_e,$){$===0&&(_e.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var xt=R$1();_e=ih(_e,$),_e!==null&&(Ac(_e,$,xt),Dk(_e,xt))}function uj(_e){var $=_e.memoizedState,xt=0;$!==null&&(xt=$.retryLane),Yk(_e,xt)}function bk(_e,$){var xt=0;switch(_e.tag){case 13:var bt=_e.stateNode,At=_e.memoizedState;At!==null&&(xt=At.retryLane);break;case 19:bt=_e.stateNode;break;default:throw Error(p$4(314))}bt!==null&&bt.delete($),Yk(_e,xt)}var Vk;Vk=function(_e,$,xt){if(_e!==null)if(_e.memoizedProps!==$.pendingProps||Wf.current)dh=!0;else{if(!(_e.lanes&xt)&&!($.flags&128))return dh=!1,yj(_e,$,xt);dh=!!(_e.flags&131072)}else dh=!1,I$4&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var bt=$.type;ij(_e,$),_e=$.pendingProps;var At=Yf($,H$2.current);ch($,xt),At=Nh(null,$,bt,_e,At,xt);var St=Sh();return $.flags|=1,typeof At=="object"&&At!==null&&typeof At.render=="function"&&At.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(bt)?(St=!0,cg($)):St=!1,$.memoizedState=At.state!==null&&At.state!==void 0?At.state:null,kh($),At.updater=Ei,$.stateNode=At,At._reactInternals=$,Ii($,bt,_e,xt),$=jj(null,$,bt,!0,St,xt)):($.tag=0,I$4&&St&&vg($),Xi(null,$,At,xt),$=$.child),$;case 16:bt=$.elementType;e:{switch(ij(_e,$),_e=$.pendingProps,At=bt._init,bt=At(bt._payload),$.type=bt,At=$.tag=Zk(bt),_e=Ci(bt,_e),At){case 0:$=cj(null,$,bt,_e,xt);break e;case 1:$=hj(null,$,bt,_e,xt);break e;case 11:$=Yi(null,$,bt,_e,xt);break e;case 14:$=$i(null,$,bt,Ci(bt.type,_e),xt);break e}throw Error(p$4(306,bt,""))}return $;case 0:return bt=$.type,At=$.pendingProps,At=$.elementType===bt?At:Ci(bt,At),cj(_e,$,bt,At,xt);case 1:return bt=$.type,At=$.pendingProps,At=$.elementType===bt?At:Ci(bt,At),hj(_e,$,bt,At,xt);case 3:e:{if(kj($),_e===null)throw Error(p$4(387));bt=$.pendingProps,St=$.memoizedState,At=St.element,lh(_e,$),qh($,bt,null,xt);var Et=$.memoizedState;if(bt=Et.element,St.isDehydrated)if(St={element:bt,isDehydrated:!1,cache:Et.cache,pendingSuspenseBoundaries:Et.pendingSuspenseBoundaries,transitions:Et.transitions},$.updateQueue.baseState=St,$.memoizedState=St,$.flags&256){At=Ji(Error(p$4(423)),$),$=lj(_e,$,bt,xt,At);break e}else if(bt!==At){At=Ji(Error(p$4(424)),$),$=lj(_e,$,bt,xt,At);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I$4=!0,zg=null,xt=Vg($,null,bt,xt),$.child=xt;xt;)xt.flags=xt.flags&-3|4096,xt=xt.sibling;else{if(Ig(),bt===At){$=Zi(_e,$,xt);break e}Xi(_e,$,bt,xt)}$=$.child}return $;case 5:return Ah($),_e===null&&Eg($),bt=$.type,At=$.pendingProps,St=_e!==null?_e.memoizedProps:null,Et=At.children,Ef(bt,At)?Et=null:St!==null&&Ef(bt,St)&&($.flags|=32),gj(_e,$),Xi(_e,$,Et,xt),$.child;case 6:return _e===null&&Eg($),null;case 13:return oj(_e,$,xt);case 4:return yh($,$.stateNode.containerInfo),bt=$.pendingProps,_e===null?$.child=Ug($,null,bt,xt):Xi(_e,$,bt,xt),$.child;case 11:return bt=$.type,At=$.pendingProps,At=$.elementType===bt?At:Ci(bt,At),Yi(_e,$,bt,At,xt);case 7:return Xi(_e,$,$.pendingProps,xt),$.child;case 8:return Xi(_e,$,$.pendingProps.children,xt),$.child;case 12:return Xi(_e,$,$.pendingProps.children,xt),$.child;case 10:e:{if(bt=$.type._context,At=$.pendingProps,St=$.memoizedProps,Et=At.value,G$2(Wg,bt._currentValue),bt._currentValue=Et,St!==null)if(He(St.value,Et)){if(St.children===At.children&&!Wf.current){$=Zi(_e,$,xt);break e}}else for(St=$.child,St!==null&&(St.return=$);St!==null;){var Ct=St.dependencies;if(Ct!==null){Et=St.child;for(var Pt=Ct.firstContext;Pt!==null;){if(Pt.context===bt){if(St.tag===1){Pt=mh(-1,xt&-xt),Pt.tag=2;var wt=St.updateQueue;if(wt!==null){wt=wt.shared;var kt=wt.pending;kt===null?Pt.next=Pt:(Pt.next=kt.next,kt.next=Pt),wt.pending=Pt}}St.lanes|=xt,Pt=St.alternate,Pt!==null&&(Pt.lanes|=xt),bh(St.return,xt,$),Ct.lanes|=xt;break}Pt=Pt.next}}else if(St.tag===10)Et=St.type===$.type?null:St.child;else if(St.tag===18){if(Et=St.return,Et===null)throw Error(p$4(341));Et.lanes|=xt,Ct=Et.alternate,Ct!==null&&(Ct.lanes|=xt),bh(Et,xt,$),Et=St.sibling}else Et=St.child;if(Et!==null)Et.return=St;else for(Et=St;Et!==null;){if(Et===$){Et=null;break}if(St=Et.sibling,St!==null){St.return=Et.return,Et=St;break}Et=Et.return}St=Et}Xi(_e,$,At.children,xt),$=$.child}return $;case 9:return At=$.type,bt=$.pendingProps.children,ch($,xt),At=eh(At),bt=bt(At),$.flags|=1,Xi(_e,$,bt,xt),$.child;case 14:return bt=$.type,At=Ci(bt,$.pendingProps),At=Ci(bt.type,At),$i(_e,$,bt,At,xt);case 15:return bj(_e,$,$.type,$.pendingProps,xt);case 17:return bt=$.type,At=$.pendingProps,At=$.elementType===bt?At:Ci(bt,At),ij(_e,$),$.tag=1,Zf(bt)?(_e=!0,cg($)):_e=!1,ch($,xt),Gi($,bt,At),Ii($,bt,At,xt),jj(null,$,bt,!0,_e,xt);case 19:return xj(_e,$,xt);case 22:return dj(_e,$,xt)}throw Error(p$4(156,$.tag))};function Fk(_e,$){return ac(_e,$)}function $k(_e,$,xt,bt){this.tag=_e,this.key=xt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=bt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,$,xt,bt){return new $k(_e,$,xt,bt)}function aj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function Zk(_e){if(typeof _e=="function")return aj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function Pg(_e,$){var xt=_e.alternate;return xt===null?(xt=Bg(_e.tag,$,_e.key,_e.mode),xt.elementType=_e.elementType,xt.type=_e.type,xt.stateNode=_e.stateNode,xt.alternate=_e,_e.alternate=xt):(xt.pendingProps=$,xt.type=_e.type,xt.flags=0,xt.subtreeFlags=0,xt.deletions=null),xt.flags=_e.flags&14680064,xt.childLanes=_e.childLanes,xt.lanes=_e.lanes,xt.child=_e.child,xt.memoizedProps=_e.memoizedProps,xt.memoizedState=_e.memoizedState,xt.updateQueue=_e.updateQueue,$=_e.dependencies,xt.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},xt.sibling=_e.sibling,xt.index=_e.index,xt.ref=_e.ref,xt}function Rg(_e,$,xt,bt,At,St){var Et=2;if(bt=_e,typeof _e=="function")aj(_e)&&(Et=1);else if(typeof _e=="string")Et=5;else e:switch(_e){case ya:return Tg(xt.children,At,St,$);case za:Et=8,At|=8;break;case Aa:return _e=Bg(12,xt,$,At|2),_e.elementType=Aa,_e.lanes=St,_e;case Ea:return _e=Bg(13,xt,$,At),_e.elementType=Ea,_e.lanes=St,_e;case Fa:return _e=Bg(19,xt,$,At),_e.elementType=Fa,_e.lanes=St,_e;case Ia:return pj(xt,At,St,$);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:Et=10;break e;case Ca:Et=9;break e;case Da:Et=11;break e;case Ga:Et=14;break e;case Ha:Et=16,bt=null;break e}throw Error(p$4(130,_e==null?_e:typeof _e,""))}return $=Bg(Et,xt,$,At),$.elementType=_e,$.type=bt,$.lanes=St,$}function Tg(_e,$,xt,bt){return _e=Bg(7,_e,bt,$),_e.lanes=xt,_e}function pj(_e,$,xt,bt){return _e=Bg(22,_e,bt,$),_e.elementType=Ia,_e.lanes=xt,_e.stateNode={isHidden:!1},_e}function Qg(_e,$,xt){return _e=Bg(6,_e,null,$),_e.lanes=xt,_e}function Sg(_e,$,xt){return $=Bg(4,_e.children!==null?_e.children:[],_e.key,$),$.lanes=xt,$.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},$}function al(_e,$,xt,bt,At){this.tag=$,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=bt,this.onRecoverableError=At,this.mutableSourceEagerHydrationData=null}function bl(_e,$,xt,bt,At,St,Et,Ct,Pt){return _e=new al(_e,$,xt,Ct,Pt),$===1?($=1,St===!0&&($|=8)):$=0,St=Bg(3,null,null,$),_e.current=St,St.stateNode=_e,St.memoizedState={element:bt,isDehydrated:xt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(St),_e}function cl(_e,$,xt){var bt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:bt==null?null:""+bt,children:_e,containerInfo:$,implementation:xt}}function dl(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$4(170));var $=_e;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$4(171))}if(_e.tag===1){var xt=_e.type;if(Zf(xt))return bg(_e,xt,$)}return $}function el(_e,$,xt,bt,At,St,Et,Ct,Pt){return _e=bl(xt,bt,!0,_e,At,St,Et,Ct,Pt),_e.context=dl(null),xt=_e.current,bt=R$1(),At=yi(xt),St=mh(bt,At),St.callback=$??null,nh(xt,St,At),_e.current.lanes=At,Ac(_e,At,bt),Dk(_e,bt),_e}function fl(_e,$,xt,bt){var At=$.current,St=R$1(),Et=yi(At);return xt=dl(xt),$.context===null?$.context=xt:$.pendingContext=xt,$=mh(St,Et),$.payload={element:_e},bt=bt===void 0?null:bt,bt!==null&&($.callback=bt),_e=nh(At,$,Et),_e!==null&&(gi(_e,At,Et,St),oh(_e,At,Et)),Et}function gl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function hl(_e,$){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var xt=_e.retryLane;_e.retryLane=xt!==0&&xt<$?xt:$}}function il(_e,$){hl(_e,$),(_e=_e.alternate)&&hl(_e,$)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ll(_e){this._internalRoot=_e}ml.prototype.render=ll.prototype.render=function(_e){var $=this._internalRoot;if($===null)throw Error(p$4(409));fl(_e,$,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var $=_e.containerInfo;Rk(function(){fl(null,_e,null,null)}),$[uf]=null}};function ml(_e){this._internalRoot=_e}ml.prototype.unstable_scheduleHydration=function(_e){if(_e){var $=Hc();_e={blockedOn:null,target:_e,priority:$};for(var xt=0;xt<Qc.length&&$!==0&&$<Qc[xt].priority;xt++);Qc.splice(xt,0,_e),xt===0&&Vc(_e)}};function nl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_e,$,xt,bt,At){if(At){if(typeof bt=="function"){var St=bt;bt=function(){var wt=gl(Et);St.call(wt)}}var Et=el($,bt,_e,0,null,!1,!1,"",pl);return _e._reactRootContainer=Et,_e[uf]=Et.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(),Et}for(;At=_e.lastChild;)_e.removeChild(At);if(typeof bt=="function"){var Ct=bt;bt=function(){var wt=gl(Pt);Ct.call(wt)}}var Pt=bl(_e,0,!1,null,null,!1,!1,"",pl);return _e._reactRootContainer=Pt,_e[uf]=Pt.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(function(){fl($,Pt,xt,bt)}),Pt}function rl(_e,$,xt,bt,At){var St=xt._reactRootContainer;if(St){var Et=St;if(typeof At=="function"){var Ct=At;At=function(){var Pt=gl(Et);Ct.call(Pt)}}fl($,Et,_e,At)}else Et=ql(xt,$,_e,At,bt);return gl(Et)}Ec=function(_e){switch(_e.tag){case 3:var $=_e.stateNode;if($.current.memoizedState.isDehydrated){var xt=tc($.pendingLanes);xt!==0&&(Cc($,xt|1),Dk($,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var bt=ih(_e,1);if(bt!==null){var At=R$1();gi(bt,_e,1,At)}}),il(_e,1)}};Fc=function(_e){if(_e.tag===13){var $=ih(_e,134217728);if($!==null){var xt=R$1();gi($,_e,134217728,xt)}il(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var $=yi(_e),xt=ih(_e,$);if(xt!==null){var bt=R$1();gi(xt,_e,$,bt)}il(_e,$)}};Hc=function(){return C$1};Ic=function(_e,$){var xt=C$1;try{return C$1=_e,$()}finally{C$1=xt}};yb=function(_e,$,xt){switch($){case"input":if(bb(_e,xt),$=xt.name,xt.type==="radio"&&$!=null){for(xt=_e;xt.parentNode;)xt=xt.parentNode;for(xt=xt.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<xt.length;$++){var bt=xt[$];if(bt!==_e&&bt.form===_e.form){var At=Db(bt);if(!At)throw Error(p$4(90));Wa(bt),bb(bt,At)}}}break;case"textarea":ib(_e,xt);break;case"select":$=xt.value,$!=null&&fb(_e,!!xt.multiple,$,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(_e,$){var xt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl($))throw Error(p$4(200));return cl(_e,$,null,xt)};reactDom_production_min.createRoot=function(_e,$){if(!nl(_e))throw Error(p$4(299));var xt=!1,bt="",At=kl;return $!=null&&($.unstable_strictMode===!0&&(xt=!0),$.identifierPrefix!==void 0&&(bt=$.identifierPrefix),$.onRecoverableError!==void 0&&(At=$.onRecoverableError)),$=bl(_e,1,!1,null,null,xt,!1,bt,At),_e[uf]=$.current,sf(_e.nodeType===8?_e.parentNode:_e),new ll($)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var $=_e._reactInternals;if($===void 0)throw typeof _e.render=="function"?Error(p$4(188)):(_e=Object.keys(_e).join(","),Error(p$4(268,_e)));return _e=Zb($),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Rk(_e)};reactDom_production_min.hydrate=function(_e,$,xt){if(!ol($))throw Error(p$4(200));return rl(null,_e,$,!0,xt)};reactDom_production_min.hydrateRoot=function(_e,$,xt){if(!nl(_e))throw Error(p$4(405));var bt=xt!=null&&xt.hydratedSources||null,At=!1,St="",Et=kl;if(xt!=null&&(xt.unstable_strictMode===!0&&(At=!0),xt.identifierPrefix!==void 0&&(St=xt.identifierPrefix),xt.onRecoverableError!==void 0&&(Et=xt.onRecoverableError)),$=el($,null,_e,1,xt??null,At,!1,St,Et),_e[uf]=$.current,sf(_e),bt)for(_e=0;_e<bt.length;_e++)xt=bt[_e],At=xt._getVersion,At=At(xt._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[xt,At]:$.mutableSourceEagerHydrationData.push(xt,At);return new ml($)};reactDom_production_min.render=function(_e,$,xt){if(!ol($))throw Error(p$4(200));return rl(null,_e,$,!1,xt)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!ol(_e))throw Error(p$4(40));return _e._reactRootContainer?(Rk(function(){rl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,$,xt,bt){if(!ol(xt))throw Error(p$4(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$4(38));return rl(_e,$,xt,!1,bt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var xt=arguments[$];for(var bt in xt)Object.prototype.hasOwnProperty.call(xt,bt)&&(_e[bt]=xt[bt])}return _e},_extends$2.apply(this,arguments)}var Action;(function(_e){_e.Pop="POP",_e.Push="PUSH",_e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(_e){_e===void 0&&(_e={});function $(bt,At){let{pathname:St,search:Et,hash:Ct}=bt.location;return createLocation("",{pathname:St,search:Et,hash:Ct},At.state&&At.state.usr||null,At.state&&At.state.key||"default")}function xt(bt,At){return typeof At=="string"?At:createPath(At)}return getUrlBasedHistory($,xt,null,_e)}function invariant$1(_e,$){if(_e===!1||_e===null||typeof _e>"u")throw new Error($)}function warning(_e,$){if(!_e){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_e,$){return{usr:_e.state,key:_e.key,idx:$}}function createLocation(_e,$,xt,bt){return xt===void 0&&(xt=null),_extends$2({pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:xt,key:$&&$.key||bt||createKey()})}function createPath(_e){let{pathname:$="/",search:xt="",hash:bt=""}=_e;return xt&&xt!=="?"&&($+=xt.charAt(0)==="?"?xt:"?"+xt),bt&&bt!=="#"&&($+=bt.charAt(0)==="#"?bt:"#"+bt),$}function parsePath(_e){let $={};if(_e){let xt=_e.indexOf("#");xt>=0&&($.hash=_e.substr(xt),_e=_e.substr(0,xt));let bt=_e.indexOf("?");bt>=0&&($.search=_e.substr(bt),_e=_e.substr(0,bt)),_e&&($.pathname=_e)}return $}function getUrlBasedHistory(_e,$,xt,bt){bt===void 0&&(bt={});let{window:At=document.defaultView,v5Compat:St=!1}=bt,Et=At.history,Ct=Action.Pop,Pt=null,wt=kt();wt==null&&(wt=0,Et.replaceState(_extends$2({},Et.state,{idx:wt}),""));function kt(){return(Et.state||{idx:null}).idx}function Rt(){Ct=Action.Pop;let qt=kt(),Nt=qt==null?null:qt-wt;wt=qt,Pt&&Pt({action:Ct,location:Ht.location,delta:Nt})}function ht(qt,Nt){Ct=Action.Push;let $t=createLocation(Ht.location,qt,Nt);wt=kt()+1;let Mt=getHistoryState($t,wt),Bt=Ht.createHref($t);try{Et.pushState(Mt,"",Bt)}catch(_t){if(_t instanceof DOMException&&_t.name==="DataCloneError")throw _t;At.location.assign(Bt)}St&&Pt&&Pt({action:Ct,location:Ht.location,delta:1})}function vt(qt,Nt){Ct=Action.Replace;let $t=createLocation(Ht.location,qt,Nt);wt=kt();let Mt=getHistoryState($t,wt),Bt=Ht.createHref($t);Et.replaceState(Mt,"",Bt),St&&Pt&&Pt({action:Ct,location:Ht.location,delta:0})}function Ft(qt){let Nt=At.location.origin!=="null"?At.location.origin:At.location.href,$t=typeof qt=="string"?qt:createPath(qt);return $t=$t.replace(/ $/,"%20"),invariant$1(Nt,"No window.location.(origin|href) available to create URL for href: "+$t),new URL($t,Nt)}let Ht={get action(){return Ct},get location(){return _e(At,Et)},listen(qt){if(Pt)throw new Error("A history only accepts one active listener");return At.addEventListener(PopStateEventType,Rt),Pt=qt,()=>{At.removeEventListener(PopStateEventType,Rt),Pt=null}},createHref(qt){return $(At,qt)},createURL:Ft,encodeLocation(qt){let Nt=Ft(qt);return{pathname:Nt.pathname,search:Nt.search,hash:Nt.hash}},push:ht,replace:vt,go(qt){return Et.go(qt)}};return Ht}var ResultType;(function(_e){_e.data="data",_e.deferred="deferred",_e.redirect="redirect",_e.error="error"})(ResultType||(ResultType={}));function matchRoutes(_e,$,xt){xt===void 0&&(xt="/");let bt=typeof $=="string"?parsePath($):$,At=stripBasename(bt.pathname||"/",xt);if(At==null)return null;let St=flattenRoutes(_e);rankRouteBranches(St);let Et=null;for(let Ct=0;Et==null&&Ct<St.length;++Ct){let Pt=decodePath(At);Et=matchRouteBranch(St[Ct],Pt)}return Et}function flattenRoutes(_e,$,xt,bt){$===void 0&&($=[]),xt===void 0&&(xt=[]),bt===void 0&&(bt="");let At=(St,Et,Ct)=>{let Pt={relativePath:Ct===void 0?St.path||"":Ct,caseSensitive:St.caseSensitive===!0,childrenIndex:Et,route:St};Pt.relativePath.startsWith("/")&&(invariant$1(Pt.relativePath.startsWith(bt),'Absolute route path "'+Pt.relativePath+'" nested under path '+('"'+bt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),Pt.relativePath=Pt.relativePath.slice(bt.length));let wt=joinPaths([bt,Pt.relativePath]),kt=xt.concat(Pt);St.children&&St.children.length>0&&(invariant$1(St.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+wt+'".')),flattenRoutes(St.children,$,kt,wt)),!(St.path==null&&!St.index)&&$.push({path:wt,score:computeScore(wt,St.index),routesMeta:kt})};return _e.forEach((St,Et)=>{var Ct;if(St.path===""||!((Ct=St.path)!=null&&Ct.includes("?")))At(St,Et);else for(let Pt of explodeOptionalSegments(St.path))At(St,Et,Pt)}),$}function explodeOptionalSegments(_e){let $=_e.split("/");if($.length===0)return[];let[xt,...bt]=$,At=xt.endsWith("?"),St=xt.replace(/\?$/,"");if(bt.length===0)return At?[St,""]:[St];let Et=explodeOptionalSegments(bt.join("/")),Ct=[];return Ct.push(...Et.map(Pt=>Pt===""?St:[St,Pt].join("/"))),At&&Ct.push(...Et),Ct.map(Pt=>_e.startsWith("/")&&Pt===""?"/":Pt)}function rankRouteBranches(_e){_e.sort(($,xt)=>$.score!==xt.score?xt.score-$.score:compareIndexes($.routesMeta.map(bt=>bt.childrenIndex),xt.routesMeta.map(bt=>bt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,$){let xt=_e.split("/"),bt=xt.length;return xt.some(isSplat)&&(bt+=splatPenalty),$&&(bt+=indexRouteValue),xt.filter(At=>!isSplat(At)).reduce((At,St)=>At+(paramRe.test(St)?dynamicSegmentValue:St===""?emptySegmentValue:staticSegmentValue),bt)}function compareIndexes(_e,$){return _e.length===$.length&&_e.slice(0,-1).every((bt,At)=>bt===$[At])?_e[_e.length-1]-$[$.length-1]:0}function matchRouteBranch(_e,$){let{routesMeta:xt}=_e,bt={},At="/",St=[];for(let Et=0;Et<xt.length;++Et){let Ct=xt[Et],Pt=Et===xt.length-1,wt=At==="/"?$:$.slice(At.length)||"/",kt=matchPath({path:Ct.relativePath,caseSensitive:Ct.caseSensitive,end:Pt},wt);if(!kt)return null;Object.assign(bt,kt.params);let Rt=Ct.route;St.push({params:bt,pathname:joinPaths([At,kt.pathname]),pathnameBase:normalizePathname(joinPaths([At,kt.pathnameBase])),route:Rt}),kt.pathnameBase!=="/"&&(At=joinPaths([At,kt.pathnameBase]))}return St}function matchPath(_e,$){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[xt,bt]=compilePath(_e.path,_e.caseSensitive,_e.end),At=$.match(xt);if(!At)return null;let St=At[0],Et=St.replace(/(.)\/+$/,"$1"),Ct=At.slice(1);return{params:bt.reduce((wt,kt,Rt)=>{let{paramName:ht,isOptional:vt}=kt;if(ht==="*"){let Ht=Ct[Rt]||"";Et=St.slice(0,St.length-Ht.length).replace(/(.)\/+$/,"$1")}const Ft=Ct[Rt];return vt&&!Ft?wt[ht]=void 0:wt[ht]=(Ft||"").replace(/%2F/g,"/"),wt},{}),pathname:St,pathnameBase:Et,pattern:_e}}function compilePath(_e,$,xt){$===void 0&&($=!1),xt===void 0&&(xt=!0),warning(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),'Route path "'+_e+'" will be treated as if it were '+('"'+_e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_e.replace(/\*$/,"/*")+'".'));let bt=[],At="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Et,Ct,Pt)=>(bt.push({paramName:Ct,isOptional:Pt!=null}),Pt?"/?([^\\/]+)?":"/([^\\/]+)"));return _e.endsWith("*")?(bt.push({paramName:"*"}),At+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):xt?At+="\\/*$":_e!==""&&_e!=="/"&&(At+="(?:(?=\\/|$))"),[new RegExp(At,$?void 0:"i"),bt]}function decodePath(_e){try{return _e.split("/").map($=>decodeURIComponent($).replace(/\//g,"%2F")).join("/")}catch($){return warning(!1,'The URL path "'+_e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+$+").")),_e}}function stripBasename(_e,$){if($==="/")return _e;if(!_e.toLowerCase().startsWith($.toLowerCase()))return null;let xt=$.endsWith("/")?$.length-1:$.length,bt=_e.charAt(xt);return bt&&bt!=="/"?null:_e.slice(xt)||"/"}function resolvePath(_e,$){$===void 0&&($="/");let{pathname:xt,search:bt="",hash:At=""}=typeof _e=="string"?parsePath(_e):_e;return{pathname:xt?xt.startsWith("/")?xt:resolvePathname(xt,$):$,search:normalizeSearch(bt),hash:normalizeHash(At)}}function resolvePathname(_e,$){let xt=$.replace(/\/+$/,"").split("/");return _e.split("/").forEach(At=>{At===".."?xt.length>1&&xt.pop():At!=="."&&xt.push(At)}),xt.length>1?xt.join("/"):"/"}function getInvalidPathError(_e,$,xt,bt){return"Cannot include a '"+_e+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(bt)+"].  Please separate it out to the ")+("`to."+xt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(_e){return _e.filter(($,xt)=>xt===0||$.route.path&&$.route.path.length>0)}function getResolveToMatches(_e,$){let xt=getPathContributingMatches(_e);return $?xt.map((bt,At)=>At===_e.length-1?bt.pathname:bt.pathnameBase):xt.map(bt=>bt.pathnameBase)}function resolveTo(_e,$,xt,bt){bt===void 0&&(bt=!1);let At;typeof _e=="string"?At=parsePath(_e):(At=_extends$2({},_e),invariant$1(!At.pathname||!At.pathname.includes("?"),getInvalidPathError("?","pathname","search",At)),invariant$1(!At.pathname||!At.pathname.includes("#"),getInvalidPathError("#","pathname","hash",At)),invariant$1(!At.search||!At.search.includes("#"),getInvalidPathError("#","search","hash",At)));let St=_e===""||At.pathname==="",Et=St?"/":At.pathname,Ct;if(Et==null)Ct=xt;else{let Rt=$.length-1;if(!bt&&Et.startsWith("..")){let ht=Et.split("/");for(;ht[0]==="..";)ht.shift(),Rt-=1;At.pathname=ht.join("/")}Ct=Rt>=0?$[Rt]:"/"}let Pt=resolvePath(At,Ct),wt=Et&&Et!=="/"&&Et.endsWith("/"),kt=(St||Et===".")&&xt.endsWith("/");return!Pt.pathname.endsWith("/")&&(wt||kt)&&(Pt.pathname+="/"),Pt}const joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_e=>!_e||_e==="?"?"":_e.startsWith("?")?_e:"?"+_e,normalizeHash=_e=>!_e||_e==="#"?"":_e.startsWith("#")?_e:"#"+_e;function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var xt=arguments[$];for(var bt in xt)Object.prototype.hasOwnProperty.call(xt,bt)&&(_e[bt]=xt[bt])}return _e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(_e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_e)}function useNavigate(){let{isDataRoute:_e}=reactExports.useContext(RouteContext);return _e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let _e=reactExports.useContext(DataRouterContext),{basename:$,future:xt,navigator:bt}=reactExports.useContext(NavigationContext),{matches:At}=reactExports.useContext(RouteContext),{pathname:St}=useLocation(),Et=JSON.stringify(getResolveToMatches(At,xt.v7_relativeSplatPath)),Ct=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{Ct.current=!0}),reactExports.useCallback(function(wt,kt){if(kt===void 0&&(kt={}),!Ct.current)return;if(typeof wt=="number"){bt.go(wt);return}let Rt=resolveTo(wt,JSON.parse(Et),St,kt.relative==="path");_e==null&&$!=="/"&&(Rt.pathname=Rt.pathname==="/"?$:joinPaths([$,Rt.pathname])),(kt.replace?bt.replace:bt.push)(Rt,kt.state,kt)},[$,bt,Et,St,_e])}function useRoutes(_e,$){return useRoutesImpl(_e,$)}function useRoutesImpl(_e,$,xt,bt){useInRouterContext()||invariant$1(!1);let{navigator:At}=reactExports.useContext(NavigationContext),{matches:St}=reactExports.useContext(RouteContext),Et=St[St.length-1],Ct=Et?Et.params:{};Et&&Et.pathname;let Pt=Et?Et.pathnameBase:"/";Et&&Et.route;let wt=useLocation(),kt;if($){var Rt;let qt=typeof $=="string"?parsePath($):$;Pt==="/"||(Rt=qt.pathname)!=null&&Rt.startsWith(Pt)||invariant$1(!1),kt=qt}else kt=wt;let ht=kt.pathname||"/",vt=ht;if(Pt!=="/"){let qt=Pt.replace(/^\//,"").split("/");vt="/"+ht.replace(/^\//,"").split("/").slice(qt.length).join("/")}let Ft=matchRoutes(_e,{pathname:vt}),Ht=_renderMatches(Ft&&Ft.map(qt=>Object.assign({},qt,{params:Object.assign({},Ct,qt.params),pathname:joinPaths([Pt,At.encodeLocation?At.encodeLocation(qt.pathname).pathname:qt.pathname]),pathnameBase:qt.pathnameBase==="/"?Pt:joinPaths([Pt,At.encodeLocation?At.encodeLocation(qt.pathnameBase).pathname:qt.pathnameBase])})),St,xt,bt);return $&&Ht?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},kt),navigationType:Action.Pop}},Ht):Ht}function DefaultErrorComponent(){let _e=useRouteError(),$=isRouteErrorResponse(_e)?_e.status+" "+_e.statusText:_e instanceof Error?_e.message:JSON.stringify(_e),xt=_e instanceof Error?_e.stack:null,At={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$),xt?reactExports.createElement("pre",{style:At},xt):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,xt){return xt.location!==$.location||xt.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:xt.error,location:xt.location,revalidation:$.revalidation||xt.revalidation}}componentDidCatch($,xt){console.error("React Router caught the following error during render",$,xt)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_e){let{routeContext:$,match:xt,children:bt}=_e,At=reactExports.useContext(DataRouterContext);return At&&At.static&&At.staticContext&&(xt.route.errorElement||xt.route.ErrorBoundary)&&(At.staticContext._deepestRenderedBoundaryId=xt.route.id),reactExports.createElement(RouteContext.Provider,{value:$},bt)}function _renderMatches(_e,$,xt,bt){var At;if($===void 0&&($=[]),xt===void 0&&(xt=null),bt===void 0&&(bt=null),_e==null){var St;if((St=xt)!=null&&St.errors)_e=xt.matches;else return null}let Et=_e,Ct=(At=xt)==null?void 0:At.errors;if(Ct!=null){let kt=Et.findIndex(Rt=>Rt.route.id&&(Ct==null?void 0:Ct[Rt.route.id])!==void 0);kt>=0||invariant$1(!1),Et=Et.slice(0,Math.min(Et.length,kt+1))}let Pt=!1,wt=-1;if(xt&&bt&&bt.v7_partialHydration)for(let kt=0;kt<Et.length;kt++){let Rt=Et[kt];if((Rt.route.HydrateFallback||Rt.route.hydrateFallbackElement)&&(wt=kt),Rt.route.id){let{loaderData:ht,errors:vt}=xt,Ft=Rt.route.loader&&ht[Rt.route.id]===void 0&&(!vt||vt[Rt.route.id]===void 0);if(Rt.route.lazy||Ft){Pt=!0,wt>=0?Et=Et.slice(0,wt+1):Et=[Et[0]];break}}}return Et.reduceRight((kt,Rt,ht)=>{let vt,Ft=!1,Ht=null,qt=null;xt&&(vt=Ct&&Rt.route.id?Ct[Rt.route.id]:void 0,Ht=Rt.route.errorElement||defaultErrorElement,Pt&&(wt<0&&ht===0?(Ft=!0,qt=null):wt===ht&&(Ft=!0,qt=Rt.route.hydrateFallbackElement||null)));let Nt=$.concat(Et.slice(0,ht+1)),$t=()=>{let Mt;return vt?Mt=Ht:Ft?Mt=qt:Rt.route.Component?Mt=reactExports.createElement(Rt.route.Component,null):Rt.route.element?Mt=Rt.route.element:Mt=kt,reactExports.createElement(RenderedRoute,{match:Rt,routeContext:{outlet:kt,matches:Nt,isDataRoute:xt!=null},children:Mt})};return xt&&(Rt.route.ErrorBoundary||Rt.route.errorElement||ht===0)?reactExports.createElement(RenderErrorBoundary,{location:xt.location,revalidation:xt.revalidation,component:Ht,error:vt,children:$t(),routeContext:{outlet:null,matches:Nt,isDataRoute:!0}}):$t()},null)}var DataRouterHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseLoaderData="useLoaderData",_e.UseActionData="useActionData",_e.UseRouteError="useRouteError",_e.UseNavigation="useNavigation",_e.UseRouteLoaderData="useRouteLoaderData",_e.UseMatches="useMatches",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e.UseRouteId="useRouteId",_e}(DataRouterStateHook$1||{});function useDataRouterContext(_e){let $=reactExports.useContext(DataRouterContext);return $||invariant$1(!1),$}function useDataRouterState(_e){let $=reactExports.useContext(DataRouterStateContext);return $||invariant$1(!1),$}function useRouteContext(_e){let $=reactExports.useContext(RouteContext);return $||invariant$1(!1),$}function useCurrentRouteId(_e){let $=useRouteContext(),xt=$.matches[$.matches.length-1];return xt.route.id||invariant$1(!1),xt.route.id}function useRouteError(){var _e;let $=reactExports.useContext(RouteErrorContext),xt=useDataRouterState(DataRouterStateHook$1.UseRouteError),bt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return $!==void 0?$:(_e=xt.errors)==null?void 0:_e[bt]}function useNavigateStable(){let{router:_e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),$=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),xt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{xt.current=!0}),reactExports.useCallback(function(At,St){St===void 0&&(St={}),xt.current&&(typeof At=="number"?_e.navigate(At):_e.navigate(At,_extends$1({fromRouteId:$},St)))},[_e,$])}function Route(_e){invariant$1(!1)}function Router(_e){let{basename:$="/",children:xt=null,location:bt,navigationType:At=Action.Pop,navigator:St,static:Et=!1,future:Ct}=_e;useInRouterContext()&&invariant$1(!1);let Pt=$.replace(/^\/*/,"/"),wt=reactExports.useMemo(()=>({basename:Pt,navigator:St,static:Et,future:_extends$1({v7_relativeSplatPath:!1},Ct)}),[Pt,Ct,St,Et]);typeof bt=="string"&&(bt=parsePath(bt));let{pathname:kt="/",search:Rt="",hash:ht="",state:vt=null,key:Ft="default"}=bt,Ht=reactExports.useMemo(()=>{let qt=stripBasename(kt,Pt);return qt==null?null:{location:{pathname:qt,search:Rt,hash:ht,state:vt,key:Ft},navigationType:At}},[Pt,kt,Rt,ht,vt,Ft,At]);return Ht==null?null:reactExports.createElement(NavigationContext.Provider,{value:wt},reactExports.createElement(LocationContext.Provider,{children:xt,value:Ht}))}function Routes(_e){let{children:$,location:xt}=_e;return useRoutes(createRoutesFromChildren($),xt)}new Promise(()=>{});function createRoutesFromChildren(_e,$){$===void 0&&($=[]);let xt=[];return reactExports.Children.forEach(_e,(bt,At)=>{if(!reactExports.isValidElement(bt))return;let St=[...$,At];if(bt.type===reactExports.Fragment){xt.push.apply(xt,createRoutesFromChildren(bt.props.children,St));return}bt.type!==Route&&invariant$1(!1),!bt.props.index||!bt.props.children||invariant$1(!1);let Et={id:bt.props.id||St.join("-"),caseSensitive:bt.props.caseSensitive,element:bt.props.element,Component:bt.props.Component,index:bt.props.index,path:bt.props.path,loader:bt.props.loader,action:bt.props.action,errorElement:bt.props.errorElement,ErrorBoundary:bt.props.ErrorBoundary,hasErrorBoundary:bt.props.ErrorBoundary!=null||bt.props.errorElement!=null,shouldRevalidate:bt.props.shouldRevalidate,handle:bt.props.handle,lazy:bt.props.lazy};bt.props.children&&(Et.children=createRoutesFromChildren(bt.props.children,St)),xt.push(Et)}),xt}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=t$4[START_TRANSITION];function BrowserRouter(_e){let{basename:$,children:xt,future:bt,window:At}=_e,St=reactExports.useRef();St.current==null&&(St.current=createBrowserHistory({window:At,v5Compat:!0}));let Et=St.current,[Ct,Pt]=reactExports.useState({action:Et.action,location:Et.location}),{v7_startTransition:wt}=bt||{},kt=reactExports.useCallback(Rt=>{wt&&startTransitionImpl?startTransitionImpl(()=>Pt(Rt)):Pt(Rt)},[Pt,wt]);return reactExports.useLayoutEffect(()=>Et.listen(kt),[Et,kt]),reactExports.createElement(Router,{basename:$,children:xt,location:Ct.location,navigationType:Ct.action,navigator:Et,future:bt})}var DataRouterHook;(function(_e){_e.UseScrollRestoration="useScrollRestoration",_e.UseSubmit="useSubmit",_e.UseSubmitFetcher="useSubmitFetcher",_e.UseFetcher="useFetcher",_e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_e){_e.UseFetcher="useFetcher",_e.UseFetchers="useFetchers",_e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(_e){const $=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{$.current=_e},[_e]),reactExports.useCallback((...xt)=>{const bt=$.current;return bt==null?void 0:bt(...xt)},[])}const $431fbd86ca7dc216$export$b204af158042fbac=_e=>{var $;return($=_e==null?void 0:_e.ownerDocument)!==null&&$!==void 0?$:document},$431fbd86ca7dc216$export$f21a1ffae260145a=_e=>_e&&"window"in _e&&_e.window===_e?_e:$431fbd86ca7dc216$export$b204af158042fbac(_e).defaultView||window;function $c87311424ea30a05$var$testUserAgent(_e){var $;return typeof window>"u"||window.navigator==null?!1:(($=window.navigator.userAgentData)===null||$===void 0?void 0:$.brands.some(xt=>_e.test(xt.brand)))||_e.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(_e){var $;return typeof window<"u"&&window.navigator!=null?_e.test((($=window.navigator.userAgentData)===null||$===void 0?void 0:$.platform)||window.navigator.platform):!1}function $c87311424ea30a05$export$9ac100e40613ea10(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}function $c87311424ea30a05$export$a11b0059900ceec8(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}function $6a7db85432448f7f$export$60278871457622de(_e){return _e.mozInputSource===0&&_e.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&_e.pointerType?_e.type==="click"&&_e.buttons===1:_e.detail===0&&!_e.pointerType}class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor($,xt){this.nativeEvent=xt,this.target=xt.target,this.currentTarget=xt.currentTarget,this.relatedTarget=xt.relatedTarget,this.bubbles=xt.bubbles,this.cancelable=xt.cancelable,this.defaultPrevented=xt.defaultPrevented,this.eventPhase=xt.eventPhase,this.isTrusted=xt.isTrusted,this.timeStamp=xt.timeStamp,this.type=$}}function $8a9cb279dc87e130$export$715c682d09d639cc(_e){let $=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const bt=$.current;return()=>{bt.observer&&(bt.observer.disconnect(),bt.observer=null)}},[]);let xt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(bt=>{_e==null||_e(bt)});return reactExports.useCallback(bt=>{if(bt.target instanceof HTMLButtonElement||bt.target instanceof HTMLInputElement||bt.target instanceof HTMLTextAreaElement||bt.target instanceof HTMLSelectElement){$.current.isFocused=!0;let At=bt.target,St=Et=>{$.current.isFocused=!1,At.disabled&&xt(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",Et)),$.current.observer&&($.current.observer.disconnect(),$.current.observer=null)};At.addEventListener("focusout",St,{once:!0}),$.current.observer=new MutationObserver(()=>{if($.current.isFocused&&At.disabled){var Et;(Et=$.current.observer)===null||Et===void 0||Et.disconnect();let Ct=At===document.activeElement?null:document.activeElement;At.dispatchEvent(new FocusEvent("blur",{relatedTarget:Ct})),At.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:Ct}))}}),$.current.observer.observe(At,{attributes:!0,attributeFilter:["disabled"]})}},[xt])}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(_e){let{isDisabled:$,onFocus:xt,onBlur:bt,onFocusChange:At}=_e;const St=reactExports.useCallback(Pt=>{if(Pt.target===Pt.currentTarget)return bt&&bt(Pt),At&&At(!1),!0},[bt,At]),Et=$8a9cb279dc87e130$export$715c682d09d639cc(St),Ct=reactExports.useCallback(Pt=>{const wt=$431fbd86ca7dc216$export$b204af158042fbac(Pt.target);Pt.target===Pt.currentTarget&&wt.activeElement===Pt.target&&(xt&&xt(Pt),At&&At(!0),Et(Pt))},[At,xt,Et]);return{focusProps:{onFocus:!$&&(xt||At||bt)?Ct:void 0,onBlur:!$&&(bt||At)?St:void 0}}}let $507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(_e,$){for(let xt of $507fabe10e71c6fb$var$changeHandlers)xt(_e,$)}function $507fabe10e71c6fb$var$isValidKey(_e){return!(_e.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&_e.altKey||_e.ctrlKey||_e.key==="Control"||_e.key==="Shift"||_e.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(_e){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(_e)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",_e))}function $507fabe10e71c6fb$var$handlePointerEvent(_e){$507fabe10e71c6fb$var$currentModality="pointer",(_e.type==="mousedown"||_e.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",_e))}function $507fabe10e71c6fb$var$handleClickEvent(_e){$6a7db85432448f7f$export$60278871457622de(_e)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(_e){_e.target===window||_e.target===document||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",_e)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(_e){if(typeof window>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(_e)))return;const $=$431fbd86ca7dc216$export$f21a1ffae260145a(_e),xt=$431fbd86ca7dc216$export$b204af158042fbac(_e);let bt=$.HTMLElement.prototype.focus;$.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,bt.apply(this,arguments)},xt.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),xt.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),xt.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),$.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),$.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(xt.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),xt.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),xt.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(xt.addEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),xt.addEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),xt.addEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(_e)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set($,{focus:bt})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(_e,$)=>{const xt=$431fbd86ca7dc216$export$f21a1ffae260145a(_e),bt=$431fbd86ca7dc216$export$b204af158042fbac(_e);$&&bt.removeEventListener("DOMContentLoaded",$),$507fabe10e71c6fb$export$d90243b58daecda7.has(xt)&&(xt.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(xt).focus,bt.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),bt.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),bt.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),xt.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),xt.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(bt.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(bt.removeEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.removeEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.removeEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(xt))};function $507fabe10e71c6fb$export$2f1888112f558a7d(_e){const $=$431fbd86ca7dc216$export$b204af158042fbac(_e);let xt;return $.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(_e):(xt=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(_e)},$.addEventListener("DOMContentLoaded",xt)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(_e,xt)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(_e,$,xt){var bt;const At=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).HTMLInputElement:HTMLInputElement,St=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).HTMLTextAreaElement:HTMLTextAreaElement,Et=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).HTMLElement:HTMLElement,Ct=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).KeyboardEvent:KeyboardEvent;return _e=_e||(xt==null?void 0:xt.target)instanceof At&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(xt==null||(bt=xt.target)===null||bt===void 0?void 0:bt.type)||(xt==null?void 0:xt.target)instanceof St||(xt==null?void 0:xt.target)instanceof Et&&(xt==null?void 0:xt.target.isContentEditable),!(_e&&$==="keyboard"&&xt instanceof Ct&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[xt.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(_e,$,xt){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let bt=(At,St)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(xt!=null&&xt.isTextInput),At,St)&&_e($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(bt),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(bt)}},$)}function $9ab94262bd0047c7$export$420e68273165f4ec(_e){let{isDisabled:$,onBlurWithin:xt,onFocusWithin:bt,onFocusWithinChange:At}=_e,St=reactExports.useRef({isFocusWithin:!1}),Et=reactExports.useCallback(wt=>{St.current.isFocusWithin&&!wt.currentTarget.contains(wt.relatedTarget)&&(St.current.isFocusWithin=!1,xt&&xt(wt),At&&At(!1))},[xt,At,St]),Ct=$8a9cb279dc87e130$export$715c682d09d639cc(Et),Pt=reactExports.useCallback(wt=>{!St.current.isFocusWithin&&document.activeElement===wt.target&&(bt&&bt(wt),At&&At(!0),St.current.isFocusWithin=!0,Ct(wt))},[bt,At,Ct]);return $?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:Pt,onBlur:Et}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(_e){_e.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.addEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.removeEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents))}}function $6179b936705e76d3$export$ae780daf29e6d456(_e){let{onHoverStart:$,onHoverChange:xt,onHoverEnd:bt,isDisabled:At}=_e,[St,Et]=reactExports.useState(!1),Ct=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{hoverProps:Pt,triggerHoverEnd:wt}=reactExports.useMemo(()=>{let kt=(vt,Ft)=>{if(Ct.pointerType=Ft,At||Ft==="touch"||Ct.isHovered||!vt.currentTarget.contains(vt.target))return;Ct.isHovered=!0;let Ht=vt.currentTarget;Ct.target=Ht,$&&$({type:"hoverstart",target:Ht,pointerType:Ft}),xt&&xt(!0),Et(!0)},Rt=(vt,Ft)=>{if(Ct.pointerType="",Ct.target=null,Ft==="touch"||!Ct.isHovered)return;Ct.isHovered=!1;let Ht=vt.currentTarget;bt&&bt({type:"hoverend",target:Ht,pointerType:Ft}),xt&&xt(!1),Et(!1)},ht={};return typeof PointerEvent<"u"?(ht.onPointerEnter=vt=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&vt.pointerType==="mouse"||kt(vt,vt.pointerType)},ht.onPointerLeave=vt=>{!At&&vt.currentTarget.contains(vt.target)&&Rt(vt,vt.pointerType)}):(ht.onTouchStart=()=>{Ct.ignoreEmulatedMouseEvents=!0},ht.onMouseEnter=vt=>{!Ct.ignoreEmulatedMouseEvents&&!$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&kt(vt,"mouse"),Ct.ignoreEmulatedMouseEvents=!1},ht.onMouseLeave=vt=>{!At&&vt.currentTarget.contains(vt.target)&&Rt(vt,"mouse")}),{hoverProps:ht,triggerHoverEnd:Rt}},[$,xt,bt,At,Ct]);return reactExports.useEffect(()=>{At&&wt({currentTarget:Ct.target},Ct.pointerType)},[At]),{hoverProps:Pt,isHovered:St}}function $f7dceffc5ad7768b$export$4e328f61c538687f(_e={}){let{autoFocus:$=!1,isTextInput:xt,within:bt}=_e,At=reactExports.useRef({isFocused:!1,isFocusVisible:$||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[St,Et]=reactExports.useState(!1),[Ct,Pt]=reactExports.useState(()=>At.current.isFocused&&At.current.isFocusVisible),wt=reactExports.useCallback(()=>Pt(At.current.isFocused&&At.current.isFocusVisible),[]),kt=reactExports.useCallback(vt=>{At.current.isFocused=vt,Et(vt),wt()},[wt]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(vt=>{At.current.isFocusVisible=vt,wt()},[],{isTextInput:xt});let{focusProps:Rt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:bt,onFocusChange:kt}),{focusWithinProps:ht}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!bt,onFocusWithinChange:kt});return{isFocused:St,isFocusVisible:Ct,focusProps:bt?ht:Rt}}var i$5=Object.defineProperty,d$3=(_e,$,xt)=>$ in _e?i$5(_e,$,{enumerable:!0,configurable:!0,writable:!0,value:xt}):_e[$]=xt,r$2=(_e,$,xt)=>(d$3(_e,typeof $!="symbol"?$+"":$,xt),xt);let o$5=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set($){this.current!==$&&(this.handoffState="pending",this.currentId=0,this.current=$)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$5=new o$5;function u$7(_e){return s$5.isServer?null:_e instanceof Node?_e.ownerDocument:_e!=null&&_e.hasOwnProperty("current")&&_e.current instanceof Node?_e.current.ownerDocument:document}function t$3(_e){typeof queueMicrotask=="function"?queueMicrotask(_e):Promise.resolve().then(_e).catch($=>setTimeout(()=>{throw $}))}function o$4(){let _e=[],$={addEventListener(xt,bt,At,St){return xt.addEventListener(bt,At,St),$.add(()=>xt.removeEventListener(bt,At,St))},requestAnimationFrame(...xt){let bt=requestAnimationFrame(...xt);return $.add(()=>cancelAnimationFrame(bt))},nextFrame(...xt){return $.requestAnimationFrame(()=>$.requestAnimationFrame(...xt))},setTimeout(...xt){let bt=setTimeout(...xt);return $.add(()=>clearTimeout(bt))},microTask(...xt){let bt={current:!0};return t$3(()=>{bt.current&&xt[0]()}),$.add(()=>{bt.current=!1})},style(xt,bt,At){let St=xt.style.getPropertyValue(bt);return Object.assign(xt.style,{[bt]:At}),this.add(()=>{Object.assign(xt.style,{[bt]:St})})},group(xt){let bt=o$4();return xt(bt),this.add(()=>bt.dispose())},add(xt){return _e.includes(xt)||_e.push(xt),()=>{let bt=_e.indexOf(xt);if(bt>=0)for(let At of _e.splice(bt,1))At()}},dispose(){for(let xt of _e.splice(0))xt()}};return $}function p$3(){let[_e]=reactExports.useState(o$4);return reactExports.useEffect(()=>()=>_e.dispose(),[_e]),_e}let n$3=(_e,$)=>{s$5.isServer?reactExports.useEffect(_e,$):reactExports.useLayoutEffect(_e,$)};function s$4(_e){let $=reactExports.useRef(_e);return n$3(()=>{$.current=_e},[_e]),$}let o$3=function(_e){let $=s$4(_e);return React.useCallback((...xt)=>$.current(...xt),[$])};function E(_e){let $=_e.width/2,xt=_e.height/2;return{top:_e.clientY-xt,right:_e.clientX+$,bottom:_e.clientY+xt,left:_e.clientX-$}}function P$2(_e,$){return!(!_e||!$||_e.right<$.left||_e.left>$.right||_e.bottom<$.top||_e.top>$.bottom)}function w$1({disabled:_e=!1}={}){let $=reactExports.useRef(null),[xt,bt]=reactExports.useState(!1),At=p$3(),St=o$3(()=>{$.current=null,bt(!1),At.dispose()}),Et=o$3(Ct=>{if(At.dispose(),$.current===null){$.current=Ct.currentTarget,bt(!0);{let Pt=u$7(Ct.currentTarget);At.addEventListener(Pt,"pointerup",St,!1),At.addEventListener(Pt,"pointermove",wt=>{if($.current){let kt=E(wt);bt(P$2(kt,$.current.getBoundingClientRect()))}},!1),At.addEventListener(Pt,"pointercancel",St,!1)}}});return{pressed:xt,pressProps:_e?{}:{onPointerDown:Et,onPointerUp:St,onClick:St}}}let e$2=reactExports.createContext(void 0);function a$7(){return reactExports.useContext(e$2)}function t$2(..._e){return Array.from(new Set(_e.flatMap($=>typeof $=="string"?$.split(" "):[]))).filter(Boolean).join(" ")}function u$6(_e,$,...xt){if(_e in $){let At=$[_e];return typeof At=="function"?At(...xt):At}let bt=new Error(`Tried to handle "${_e}" but there is no handler defined. Only defined handlers are: ${Object.keys($).map(At=>`"${At}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(bt,u$6),bt}var O$1=(_e=>(_e[_e.None=0]="None",_e[_e.RenderStrategy=1]="RenderStrategy",_e[_e.Static=2]="Static",_e))(O$1||{}),M$2=(_e=>(_e[_e.Unmount=0]="Unmount",_e[_e.Hidden=1]="Hidden",_e))(M$2||{});function H$1({ourProps:_e,theirProps:$,slot:xt,defaultTag:bt,features:At,visible:St=!0,name:Et,mergeRefs:Ct}){Ct=Ct??A$2;let Pt=N$2($,_e);if(St)return b$1(Pt,xt,bt,Et,Ct);let wt=At??0;if(wt&2){let{static:kt=!1,...Rt}=Pt;if(kt)return b$1(Rt,xt,bt,Et,Ct)}if(wt&1){let{unmount:kt=!0,...Rt}=Pt;return u$6(kt?0:1,{0(){return null},1(){return b$1({...Rt,hidden:!0,style:{display:"none"}},xt,bt,Et,Ct)}})}return b$1(Pt,xt,bt,Et,Ct)}function b$1(_e,$={},xt,bt,At){let{as:St=xt,children:Et,refName:Ct="ref",...Pt}=h$2(_e,["unmount","static"]),wt=_e.ref!==void 0?{[Ct]:_e.ref}:{},kt=typeof Et=="function"?Et($):Et;"className"in Pt&&Pt.className&&typeof Pt.className=="function"&&(Pt.className=Pt.className($)),Pt["aria-labelledby"]&&Pt["aria-labelledby"]===Pt.id&&(Pt["aria-labelledby"]=void 0);let Rt={};if($){let ht=!1,vt=[];for(let[Ft,Ht]of Object.entries($))typeof Ht=="boolean"&&(ht=!0),Ht===!0&&vt.push(Ft.replace(/([A-Z])/g,qt=>`-${qt.toLowerCase()}`));if(ht){Rt["data-headlessui-state"]=vt.join(" ");for(let Ft of vt)Rt[`data-${Ft}`]=""}}if(St===reactExports.Fragment&&(Object.keys(m$3(Pt)).length>0||Object.keys(m$3(Rt)).length>0))if(!reactExports.isValidElement(kt)||Array.isArray(kt)&&kt.length>1){if(Object.keys(m$3(Pt)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${bt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$3(Pt)).concat(Object.keys(m$3(Rt))).map(ht=>`  - ${ht}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(ht=>`  - ${ht}`).join(`
`)].join(`
`))}else{let ht=kt.props,vt=ht==null?void 0:ht.className,Ft=typeof vt=="function"?(...Nt)=>t$2(vt(...Nt),Pt.className):t$2(vt,Pt.className),Ht=Ft?{className:Ft}:{},qt=N$2(kt.props,m$3(h$2(Pt,["ref"])));for(let Nt in Rt)Nt in qt&&delete Rt[Nt];return reactExports.cloneElement(kt,Object.assign({},qt,Rt,wt,{ref:At(kt.ref,wt.ref)},Ht))}return reactExports.createElement(St,Object.assign({},h$2(Pt,["ref"]),St!==reactExports.Fragment&&wt,St!==reactExports.Fragment&&Rt),kt)}function A$2(..._e){return _e.every($=>$==null)?void 0:$=>{for(let xt of _e)xt!=null&&(typeof xt=="function"?xt($):xt.current=$)}}function N$2(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let $={},xt={};for(let bt of _e)for(let At in bt)At.startsWith("on")&&typeof bt[At]=="function"?(xt[At]!=null||(xt[At]=[]),xt[At].push(bt[At])):$[At]=bt[At];if($.disabled||$["aria-disabled"])for(let bt in xt)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(bt)&&(xt[bt]=[At=>{var St;return(St=At==null?void 0:At.preventDefault)==null?void 0:St.call(At)}]);for(let bt in xt)Object.assign($,{[bt](At,...St){let Et=xt[bt];for(let Ct of Et){if((At instanceof Event||(At==null?void 0:At.nativeEvent)instanceof Event)&&At.defaultPrevented)return;Ct(At,...St)}}});return $}function D$3(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let $={},xt={};for(let bt of _e)for(let At in bt)At.startsWith("on")&&typeof bt[At]=="function"?(xt[At]!=null||(xt[At]=[]),xt[At].push(bt[At])):$[At]=bt[At];for(let bt in xt)Object.assign($,{[bt](...At){let St=xt[bt];for(let Et of St)Et==null||Et(...At)}});return $}function I$3(_e){var $;return Object.assign(reactExports.forwardRef(_e),{displayName:($=_e.displayName)!=null?$:_e.name})}function m$3(_e){let $=Object.assign({},_e);for(let xt in $)$[xt]===void 0&&delete $[xt];return $}function h$2(_e,$=[]){let xt=Object.assign({},_e);for(let bt of $)bt in xt&&delete xt[bt];return xt}let e$1=reactExports.createContext(void 0);function u$5(){return reactExports.useContext(e$1)}function r$1(_e){let $=_e.parentElement,xt=null;for(;$&&!($ instanceof HTMLFieldSetElement);)$ instanceof HTMLLegendElement&&(xt=$),$=$.parentElement;let bt=($==null?void 0:$.getAttribute("disabled"))==="";return bt&&i$4(xt)?!1:bt}function i$4(_e){if(!_e)return!1;let $=_e.previousElementSibling;for(;$!==null;){if($ instanceof HTMLLegendElement)return!1;$=$.previousElementSibling}return!0}let u$4=Symbol();function T$2(_e,$=!0){return Object.assign(_e,{[u$4]:$})}function y$4(..._e){let $=reactExports.useRef(_e);reactExports.useEffect(()=>{$.current=_e},[_e]);let xt=o$3(bt=>{for(let At of $.current)At!=null&&(typeof At=="function"?At(bt):At.current=bt)});return _e.every(bt=>bt==null||(bt==null?void 0:bt[u$4]))?void 0:xt}let a$6=reactExports.createContext(null);a$6.displayName="DescriptionContext";function f$5(){let _e=reactExports.useContext(a$6);if(_e===null){let $=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,f$5),$}return _e}function U$1(){let[_e,$]=reactExports.useState([]);return[_e.length>0?_e.join(" "):void 0,reactExports.useMemo(()=>function(xt){let bt=o$3(St=>($(Et=>[...Et,St]),()=>$(Et=>{let Ct=Et.slice(),Pt=Ct.indexOf(St);return Pt!==-1&&Ct.splice(Pt,1),Ct}))),At=reactExports.useMemo(()=>({register:bt,slot:xt.slot,name:xt.name,props:xt.props,value:xt.value}),[bt,xt.slot,xt.name,xt.props,xt.value]);return React.createElement(a$6.Provider,{value:At},xt.children)},[$])]}let S$3="p";function C(_e,$){let xt=reactExports.useId(),bt=a$7(),{id:At=`headlessui-description-${xt}`,...St}=_e,Et=f$5(),Ct=y$4($);n$3(()=>Et.register(At),[At,Et.register]);let Pt=bt||!1,wt=reactExports.useMemo(()=>({...Et.slot,disabled:Pt}),[Et.slot,Pt]),kt={ref:Ct,...Et.props,id:At};return H$1({ourProps:kt,theirProps:St,slot:wt,defaultTag:S$3,name:Et.name||"Description"})}let _$1=I$3(C);Object.assign(_$1,{});var o$2=(_e=>(_e.Space=" ",_e.Enter="Enter",_e.Escape="Escape",_e.Backspace="Backspace",_e.Delete="Delete",_e.ArrowLeft="ArrowLeft",_e.ArrowUp="ArrowUp",_e.ArrowRight="ArrowRight",_e.ArrowDown="ArrowDown",_e.Home="Home",_e.End="End",_e.PageUp="PageUp",_e.PageDown="PageDown",_e.Tab="Tab",_e))(o$2||{});let c$4=reactExports.createContext(null);c$4.displayName="LabelContext";function P$1(){let _e=reactExports.useContext(c$4);if(_e===null){let $=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,P$1),$}return _e}function I$2(_e){var $,xt,bt;let At=(xt=($=reactExports.useContext(c$4))==null?void 0:$.value)!=null?xt:void 0;return((bt=void 0)!=null?bt:0)>0?[At,..._e].filter(Boolean).join(" "):At}function z({inherit:_e=!1}={}){let $=I$2(),[xt,bt]=reactExports.useState([]),At=_e?[$,...xt].filter(Boolean):xt;return[At.length>0?At.join(" "):void 0,reactExports.useMemo(()=>function(St){let Et=o$3(Pt=>(bt(wt=>[...wt,Pt]),()=>bt(wt=>{let kt=wt.slice(),Rt=kt.indexOf(Pt);return Rt!==-1&&kt.splice(Rt,1),kt}))),Ct=reactExports.useMemo(()=>({register:Et,slot:St.slot,name:St.name,props:St.props,value:St.value}),[Et,St.slot,St.name,St.props,St.value]);return React.createElement(c$4.Provider,{value:Ct},St.children)},[bt])]}let N$1="label";function G$1(_e,$){var xt;let bt=reactExports.useId(),At=P$1(),St=u$5(),Et=a$7(),{id:Ct=`headlessui-label-${bt}`,htmlFor:Pt=St??((xt=At.props)==null?void 0:xt.htmlFor),passive:wt=!1,...kt}=_e,Rt=y$4($);n$3(()=>At.register(Ct),[Ct,At.register]);let ht=o$3(qt=>{let Nt=qt.currentTarget;if(Nt instanceof HTMLLabelElement&&qt.preventDefault(),At.props&&"onClick"in At.props&&typeof At.props.onClick=="function"&&At.props.onClick(qt),Nt instanceof HTMLLabelElement){let $t=document.getElementById(Nt.htmlFor);if($t){let Mt=$t.getAttribute("disabled");if(Mt==="true"||Mt==="")return;let Bt=$t.getAttribute("aria-disabled");if(Bt==="true"||Bt==="")return;($t instanceof HTMLInputElement&&($t.type==="radio"||$t.type==="checkbox")||$t.role==="radio"||$t.role==="checkbox"||$t.role==="switch")&&$t.click(),$t.focus({preventScroll:!0})}}}),vt=Et||!1,Ft=reactExports.useMemo(()=>({...At.slot,disabled:vt}),[At.slot,vt]),Ht={ref:Rt,...At.props,id:Ct,htmlFor:Pt,onClick:ht};return wt&&("onClick"in Ht&&(delete Ht.htmlFor,delete Ht.onClick),"onClick"in kt&&delete kt.onClick),H$1({ourProps:Ht,theirProps:kt,slot:Ft,defaultTag:Pt?N$1:"div",name:At.name||"Label"})}let U=I$3(G$1);Object.assign(U,{});function s$3(_e){if(_e===null)return{width:0,height:0};let{width:$,height:xt}=_e.getBoundingClientRect();return{width:$,height:xt}}function f$4(_e,$=!1){let xt=_e===null?null:"current"in _e?_e.current:_e,[bt,At]=reactExports.useReducer(()=>({}),{}),St=reactExports.useMemo(()=>s$3(xt),[xt,bt]);return n$3(()=>{if(!xt)return;let Et=new ResizeObserver(At);return Et.observe(xt),()=>{Et.disconnect()}},[xt]),$?{width:`${St.width}px`,height:`${St.height}px`}:St}let a$5=class extends Map{constructor($){super(),this.factory=$}get($){let xt=super.get($);return xt===void 0&&(xt=this.factory($),this.set($,xt)),xt}};function a$4(_e,$){let xt=_e(),bt=new Set;return{getSnapshot(){return xt},subscribe(At){return bt.add(At),()=>bt.delete(At)},dispatch(At,...St){let Et=$[At].call(xt,...St);Et&&(xt=Et,bt.forEach(Ct=>Ct()))}}}function o$1(_e){return reactExports.useSyncExternalStore(_e.subscribe,_e.getSnapshot,_e.getSnapshot)}let p$2=new a$5(()=>a$4(()=>[],{ADD(_e){return this.includes(_e)?this:[...this,_e]},REMOVE(_e){let $=this.indexOf(_e);if($===-1)return this;let xt=this.slice();return xt.splice($,1),xt}}));function x(_e,$){let xt=p$2.get($),bt=reactExports.useId(),At=o$1(xt);if(n$3(()=>{if(_e)return xt.dispatch("ADD",bt),()=>xt.dispatch("REMOVE",bt)},[xt,_e]),!_e)return!1;let St=At.indexOf(bt),Et=At.length;return St===-1&&(St=Et,Et+=1),St===Et-1}let f$3=new Map,u$3=new Map;function h$1(_e){var $;let xt=($=u$3.get(_e))!=null?$:0;return u$3.set(_e,xt+1),xt!==0?()=>m$2(_e):(f$3.set(_e,{"aria-hidden":_e.getAttribute("aria-hidden"),inert:_e.inert}),_e.setAttribute("aria-hidden","true"),_e.inert=!0,()=>m$2(_e))}function m$2(_e){var $;let xt=($=u$3.get(_e))!=null?$:1;if(xt===1?u$3.delete(_e):u$3.set(_e,xt-1),xt!==1)return;let bt=f$3.get(_e);bt&&(bt["aria-hidden"]===null?_e.removeAttribute("aria-hidden"):_e.setAttribute("aria-hidden",bt["aria-hidden"]),_e.inert=bt.inert,f$3.delete(_e))}function y$3(_e,{allowed:$,disallowed:xt}={}){let bt=x(_e,"inert-others");n$3(()=>{var At,St;if(!bt)return;let Et=o$4();for(let Pt of(At=xt==null?void 0:xt())!=null?At:[])Pt&&Et.add(h$1(Pt));let Ct=(St=$==null?void 0:$())!=null?St:[];for(let Pt of Ct){if(!Pt)continue;let wt=u$7(Pt);if(!wt)continue;let kt=Pt.parentElement;for(;kt&&kt!==wt.body;){for(let Rt of kt.children)Ct.some(ht=>Rt.contains(ht))||Et.add(h$1(Rt));kt=kt.parentElement}}return Et.dispose},[bt,$,xt])}function m$1(_e,$,xt){let bt=s$4(At=>{let St=At.getBoundingClientRect();St.x===0&&St.y===0&&St.width===0&&St.height===0&&xt()});reactExports.useEffect(()=>{if(!_e)return;let At=$===null?null:$ instanceof HTMLElement?$:$.current;if(!At)return;let St=o$4();if(typeof ResizeObserver<"u"){let Et=new ResizeObserver(()=>bt.current(At));Et.observe(At),St.add(()=>Et.disconnect())}if(typeof IntersectionObserver<"u"){let Et=new IntersectionObserver(()=>bt.current(At));Et.observe(At),St.add(()=>Et.disconnect())}return()=>St.dispose()},[$,bt,_e])}let f$2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(_e=>`${_e}:not([tabindex='-1'])`).join(","),p$1=["[data-autofocus]"].map(_e=>`${_e}:not([tabindex='-1'])`).join(",");var F$3=(_e=>(_e[_e.First=1]="First",_e[_e.Previous=2]="Previous",_e[_e.Next=4]="Next",_e[_e.Last=8]="Last",_e[_e.WrapAround=16]="WrapAround",_e[_e.NoScroll=32]="NoScroll",_e[_e.AutoFocus=64]="AutoFocus",_e))(F$3||{}),T$1=(_e=>(_e[_e.Error=0]="Error",_e[_e.Overflow=1]="Overflow",_e[_e.Success=2]="Success",_e[_e.Underflow=3]="Underflow",_e))(T$1||{}),y$2=(_e=>(_e[_e.Previous=-1]="Previous",_e[_e.Next=1]="Next",_e))(y$2||{});function b(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(f$2)).sort(($,xt)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(xt.tabIndex||Number.MAX_SAFE_INTEGER)))}function S$2(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(p$1)).sort(($,xt)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(xt.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(_e=>(_e[_e.Strict=0]="Strict",_e[_e.Loose=1]="Loose",_e))(h||{});function A$1(_e,$=0){var xt;return _e===((xt=u$7(_e))==null?void 0:xt.body)?!1:u$6($,{0(){return _e.matches(f$2)},1(){let bt=_e;for(;bt!==null;){if(bt.matches(f$2))return!0;bt=bt.parentElement}return!1}})}function G(_e){let $=u$7(_e);o$4().nextFrame(()=>{$&&!A$1($.activeElement,0)&&I$1(_e)})}var H=(_e=>(_e[_e.Keyboard=0]="Keyboard",_e[_e.Mouse=1]="Mouse",_e))(H||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",_e=>{_e.metaKey||_e.altKey||_e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",_e=>{_e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:_e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$1(_e){_e==null||_e.focus({preventScroll:!0})}let w=["textarea","input"].join(",");function O(_e){var $,xt;return(xt=($=_e==null?void 0:_e.matches)==null?void 0:$.call(_e,w))!=null?xt:!1}function _(_e,$=xt=>xt){return _e.slice().sort((xt,bt)=>{let At=$(xt),St=$(bt);if(At===null||St===null)return 0;let Et=At.compareDocumentPosition(St);return Et&Node.DOCUMENT_POSITION_FOLLOWING?-1:Et&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j$2(_e,$){return P(b(),$,{relativeTo:_e})}function P(_e,$,{sorted:xt=!0,relativeTo:bt=null,skipElements:At=[]}={}){let St=Array.isArray(_e)?_e.length>0?_e[0].ownerDocument:document:_e.ownerDocument,Et=Array.isArray(_e)?xt?_(_e):_e:$&64?S$2(_e):b(_e);At.length>0&&Et.length>1&&(Et=Et.filter(vt=>!At.some(Ft=>Ft!=null&&"current"in Ft?(Ft==null?void 0:Ft.current)===vt:Ft===vt))),bt=bt??St.activeElement;let Ct=(()=>{if($&5)return 1;if($&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Pt=(()=>{if($&1)return 0;if($&2)return Math.max(0,Et.indexOf(bt))-1;if($&4)return Math.max(0,Et.indexOf(bt))+1;if($&8)return Et.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),wt=$&32?{preventScroll:!0}:{},kt=0,Rt=Et.length,ht;do{if(kt>=Rt||kt+Rt<=0)return 0;let vt=Pt+kt;if($&16)vt=(vt+Rt)%Rt;else{if(vt<0)return 3;if(vt>=Rt)return 1}ht=Et[vt],ht==null||ht.focus(wt),kt+=Ct}while(ht!==St.activeElement);return $&6&&O(ht)&&ht.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$3(){return/Android/gi.test(window.navigator.userAgent)}function n$2(){return t$1()||i$3()}function i$2(_e,$,xt,bt){let At=s$4(xt);reactExports.useEffect(()=>{if(!_e)return;function St(Et){At.current(Et)}return document.addEventListener($,St,bt),()=>document.removeEventListener($,St,bt)},[_e,$,bt])}function s$2(_e,$,xt,bt){let At=s$4(xt);reactExports.useEffect(()=>{if(!_e)return;function St(Et){At.current(Et)}return window.addEventListener($,St,bt),()=>window.removeEventListener($,St,bt)},[_e,$,bt])}const d$2=30;function F$2(_e,$,xt){let bt=x(_e,"outside-click"),At=s$4(xt),St=reactExports.useCallback(function(Pt,wt){if(Pt.defaultPrevented)return;let kt=wt(Pt);if(kt===null||!kt.getRootNode().contains(kt)||!kt.isConnected)return;let Rt=function ht(vt){return typeof vt=="function"?ht(vt()):Array.isArray(vt)||vt instanceof Set?vt:[vt]}($);for(let ht of Rt){if(ht===null)continue;let vt=ht instanceof HTMLElement?ht:ht.current;if(vt!=null&&vt.contains(kt)||Pt.composed&&Pt.composedPath().includes(vt))return}return!A$1(kt,h.Loose)&&kt.tabIndex!==-1&&Pt.preventDefault(),At.current(Pt,kt)},[At]),Et=reactExports.useRef(null);i$2(bt,"pointerdown",Pt=>{var wt,kt;Et.current=((kt=(wt=Pt.composedPath)==null?void 0:wt.call(Pt))==null?void 0:kt[0])||Pt.target},!0),i$2(bt,"mousedown",Pt=>{var wt,kt;Et.current=((kt=(wt=Pt.composedPath)==null?void 0:wt.call(Pt))==null?void 0:kt[0])||Pt.target},!0),i$2(bt,"click",Pt=>{n$2()||Et.current&&(St(Pt,()=>Et.current),Et.current=null)},!0);let Ct=reactExports.useRef({x:0,y:0});i$2(bt,"touchstart",Pt=>{Ct.current.x=Pt.touches[0].clientX,Ct.current.y=Pt.touches[0].clientY},!0),i$2(bt,"touchend",Pt=>{let wt={x:Pt.changedTouches[0].clientX,y:Pt.changedTouches[0].clientY};if(!(Math.abs(wt.x-Ct.current.x)>=d$2||Math.abs(wt.y-Ct.current.y)>=d$2))return St(Pt,()=>Pt.target instanceof HTMLElement?Pt.target:null)},!0),s$2(bt,"blur",Pt=>St(Pt,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function n$1(..._e){return reactExports.useMemo(()=>u$7(..._e),[..._e])}function i$1(_e){var $;if(_e.type)return _e.type;let xt=($=_e.as)!=null?$:"button";if(typeof xt=="string"&&xt.toLowerCase()==="button")return"button"}function T(_e,$){let[xt,bt]=reactExports.useState(()=>i$1(_e));return n$3(()=>{bt(i$1(_e))},[_e.type,_e.as]),n$3(()=>{xt||$.current&&$.current instanceof HTMLButtonElement&&!$.current.hasAttribute("type")&&bt("button")},[xt,$]),xt}function d$1(){let _e;return{before({doc:$}){var xt;let bt=$.documentElement,At=(xt=$.defaultView)!=null?xt:window;_e=Math.max(0,At.innerWidth-bt.clientWidth)},after({doc:$,d:xt}){let bt=$.documentElement,At=Math.max(0,bt.clientWidth-bt.offsetWidth),St=Math.max(0,_e-At);xt.style(bt,"paddingRight",`${St}px`)}}}function d(){return t$1()?{before({doc:_e,d:$,meta:xt}){function bt(At){return xt.containers.flatMap(St=>St()).some(St=>St.contains(At))}$.microTask(()=>{var At;if(window.getComputedStyle(_e.documentElement).scrollBehavior!=="auto"){let Ct=o$4();Ct.style(_e.documentElement,"scrollBehavior","auto"),$.add(()=>$.microTask(()=>Ct.dispose()))}let St=(At=window.scrollY)!=null?At:window.pageYOffset,Et=null;$.addEventListener(_e,"click",Ct=>{if(Ct.target instanceof HTMLElement)try{let Pt=Ct.target.closest("a");if(!Pt)return;let{hash:wt}=new URL(Pt.href),kt=_e.querySelector(wt);kt&&!bt(kt)&&(Et=kt)}catch{}},!0),$.addEventListener(_e,"touchstart",Ct=>{if(Ct.target instanceof HTMLElement)if(bt(Ct.target)){let Pt=Ct.target;for(;Pt.parentElement&&bt(Pt.parentElement);)Pt=Pt.parentElement;$.style(Pt,"overscrollBehavior","contain")}else $.style(Ct.target,"touchAction","none")}),$.addEventListener(_e,"touchmove",Ct=>{if(Ct.target instanceof HTMLElement){if(Ct.target.tagName==="INPUT")return;if(bt(Ct.target)){let Pt=Ct.target;for(;Pt.parentElement&&Pt.dataset.headlessuiPortal!==""&&!(Pt.scrollHeight>Pt.clientHeight||Pt.scrollWidth>Pt.clientWidth);)Pt=Pt.parentElement;Pt.dataset.headlessuiPortal===""&&Ct.preventDefault()}else Ct.preventDefault()}},{passive:!1}),$.add(()=>{var Ct;let Pt=(Ct=window.scrollY)!=null?Ct:window.pageYOffset;St!==Pt&&window.scrollTo(0,St),Et&&Et.isConnected&&(Et.scrollIntoView({block:"nearest"}),Et=null)})})}}:{}}function r(){return{before({doc:_e,d:$}){$.style(_e.documentElement,"overflow","hidden")}}}function m(_e){let $={};for(let xt of _e)Object.assign($,xt($));return $}let a$3=a$4(()=>new Map,{PUSH(_e,$){var xt;let bt=(xt=this.get(_e))!=null?xt:{doc:_e,count:0,d:o$4(),meta:new Set};return bt.count++,bt.meta.add($),this.set(_e,bt),this},POP(_e,$){let xt=this.get(_e);return xt&&(xt.count--,xt.meta.delete($)),this},SCROLL_PREVENT({doc:_e,d:$,meta:xt}){let bt={doc:_e,d:$,meta:m(xt)},At=[d(),d$1(),r()];At.forEach(({before:St})=>St==null?void 0:St(bt)),At.forEach(({after:St})=>St==null?void 0:St(bt))},SCROLL_ALLOW({d:_e}){_e.dispose()},TEARDOWN({doc:_e}){this.delete(_e)}});a$3.subscribe(()=>{let _e=a$3.getSnapshot(),$=new Map;for(let[xt]of _e)$.set(xt,xt.documentElement.style.overflow);for(let xt of _e.values()){let bt=$.get(xt.doc)==="hidden",At=xt.count!==0;(At&&!bt||!At&&bt)&&a$3.dispatch(xt.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",xt),xt.count===0&&a$3.dispatch("TEARDOWN",xt)}});function a$2(_e,$,xt=()=>({containers:[]})){let bt=o$1(a$3),At=$?bt.get($):void 0,St=At?At.count>0:!1;return n$3(()=>{if(!(!$||!_e))return a$3.dispatch("PUSH",$,xt),()=>a$3.dispatch("POP",$,xt)},[_e,$]),St}function f$1(_e,$,xt=()=>[document.body]){let bt=x(_e,"scroll-lock");a$2(bt,$,At=>{var St;return{containers:[...(St=At.containers)!=null?St:[],xt]}})}function t(_e){return[_e.screenX,_e.screenY]}function u$2(){let _e=reactExports.useRef([-1,-1]);return{wasMoved($){let xt=t($);return _e.current[0]===xt[0]&&_e.current[1]===xt[1]?!1:(_e.current=xt,!0)},update($){_e.current=t($)}}}function l$1(_e){let $={called:!1};return(...xt)=>{if(!$.called)return $.called=!0,_e(...xt)}}function c$3(_e=0){let[$,xt]=reactExports.useState(_e),bt=reactExports.useCallback(Pt=>xt(Pt),[$]),At=reactExports.useCallback(Pt=>xt(wt=>wt|Pt),[$]),St=reactExports.useCallback(Pt=>($&Pt)===Pt,[$]),Et=reactExports.useCallback(Pt=>xt(wt=>wt&~Pt),[xt]),Ct=reactExports.useCallback(Pt=>xt(wt=>wt^Pt),[xt]);return{flags:$,setFlag:bt,addFlag:At,hasFlag:St,removeFlag:Et,toggleFlag:Ct}}var D$2=(_e=>(_e[_e.None=0]="None",_e[_e.Closed=1]="Closed",_e[_e.Enter=2]="Enter",_e[_e.Leave=4]="Leave",_e))(D$2||{});function A(_e){let $={};for(let xt in _e)_e[xt]===!0&&($[`data-${xt}`]="");return $}function V(_e,$,xt,bt){let[At,St]=reactExports.useState(xt),{hasFlag:Et,addFlag:Ct,removeFlag:Pt}=c$3(_e&&At?3:0),wt=reactExports.useRef(!1),kt=reactExports.useRef(!1),Rt=p$3();return n$3(function ht(){var vt;if(!_e)return;xt&&St(!0);let Ft=$.current;return Ft?((vt=void 0)==null||vt.call(bt,xt),M$1(Ft,{inFlight:wt,prepare(){kt.current?kt.current=!1:kt.current=wt.current,wt.current=!0,!kt.current&&(xt?(Ct(3),Pt(4)):(Ct(4),Pt(2)))},run(){kt.current?xt?(Pt(3),Ct(4)):(Pt(4),Ct(3)):xt?Pt(1):Ct(1)},done(){var Ht;kt.current&&typeof Ft.getAnimations=="function"&&Ft.getAnimations().length>0||(wt.current=!1,Pt(7),xt||St(!1),(Ht=void 0)==null||Ht.call(bt,xt))}})):xt?(Ct(3),Rt.nextFrame(()=>ht())):void 0},[_e,xt,$,Rt]),_e?[At,{closed:Et(1),enter:Et(2),leave:Et(4),transition:Et(2)||Et(4)}]:[xt,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function M$1(_e,{prepare:$,run:xt,done:bt,inFlight:At}){let St=o$4();return R(_e,{prepare:$,inFlight:At}),St.nextFrame(()=>{St.add(F$1(_e,bt)),xt()}),St.dispose}function F$1(_e,$){let xt=l$1($),bt=o$4();if(!_e)return bt.dispose;let{transitionDuration:At,transitionDelay:St}=getComputedStyle(_e),[Et,Ct]=[At,St].map(wt=>{let[kt=0]=wt.split(",").filter(Boolean).map(Rt=>Rt.includes("ms")?parseFloat(Rt):parseFloat(Rt)*1e3).sort((Rt,ht)=>ht-Rt);return kt}),Pt=Et+Ct;if(Pt!==0){let wt=bt.group(kt=>{let Rt=kt.setTimeout(()=>{xt(),kt.dispose()},Pt);kt.addEventListener(_e,"transitionrun",ht=>{ht.target===ht.currentTarget&&(Rt(),kt.addEventListener(_e,"transitioncancel",vt=>{vt.target===vt.currentTarget&&(xt(),wt())}))})});bt.addEventListener(_e,"transitionend",kt=>{kt.target===kt.currentTarget&&(xt(),bt.dispose())})}else xt();return bt.dispose}function R(_e,{inFlight:$,prepare:xt}){if($!=null&&$.current){xt();return}let bt=_e.style.transition;_e.style.transition="none",xt(),_e.offsetHeight,_e.style.transition=bt}function F(_e,{container:$,accept:xt,walk:bt}){let At=reactExports.useRef(xt),St=reactExports.useRef(bt);reactExports.useEffect(()=>{At.current=xt,St.current=bt},[xt,bt]),n$3(()=>{if(!$||!_e)return;let Et=u$7($);if(!Et)return;let Ct=At.current,Pt=St.current,wt=Object.assign(Rt=>Ct(Rt),{acceptNode:Ct}),kt=Et.createTreeWalker($,NodeFilter.SHOW_ELEMENT,wt,!1);for(;kt.nextNode();)Pt(kt.currentNode)},[$,_e,At,St])}function getNodeName(_e){return isNode(_e)?(_e.nodeName||"").toLowerCase():"#document"}function getWindow(_e){var $;return(_e==null||($=_e.ownerDocument)==null?void 0:$.defaultView)||window}function getDocumentElement(_e){var $;return($=(isNode(_e)?_e.ownerDocument:_e.document)||window.document)==null?void 0:$.documentElement}function isNode(_e){return _e instanceof Node||_e instanceof getWindow(_e).Node}function isElement(_e){return _e instanceof Element||_e instanceof getWindow(_e).Element}function isHTMLElement(_e){return _e instanceof HTMLElement||_e instanceof getWindow(_e).HTMLElement}function isShadowRoot(_e){return typeof ShadowRoot>"u"?!1:_e instanceof ShadowRoot||_e instanceof getWindow(_e).ShadowRoot}function isOverflowElement(_e){const{overflow:$,overflowX:xt,overflowY:bt,display:At}=getComputedStyle$2(_e);return/auto|scroll|overlay|hidden|clip/.test($+bt+xt)&&!["inline","contents"].includes(At)}function isTableElement(_e){return["table","td","th"].includes(getNodeName(_e))}function isTopLayer(_e){return[":popover-open",":modal"].some($=>{try{return _e.matches($)}catch{return!1}})}function isContainingBlock(_e){const $=isWebKit(),xt=getComputedStyle$2(_e);return xt.transform!=="none"||xt.perspective!=="none"||(xt.containerType?xt.containerType!=="normal":!1)||!$&&(xt.backdropFilter?xt.backdropFilter!=="none":!1)||!$&&(xt.filter?xt.filter!=="none":!1)||["transform","perspective","filter"].some(bt=>(xt.willChange||"").includes(bt))||["paint","layout","strict","content"].some(bt=>(xt.contain||"").includes(bt))}function getContainingBlock(_e){let $=getParentNode(_e);for(;isHTMLElement($)&&!isLastTraversableNode($);){if(isTopLayer($))return null;if(isContainingBlock($))return $;$=getParentNode($)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(_e){return["html","body","#document"].includes(getNodeName(_e))}function getComputedStyle$2(_e){return getWindow(_e).getComputedStyle(_e)}function getNodeScroll(_e){return isElement(_e)?{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}:{scrollLeft:_e.pageXOffset,scrollTop:_e.pageYOffset}}function getParentNode(_e){if(getNodeName(_e)==="html")return _e;const $=_e.assignedSlot||_e.parentNode||isShadowRoot(_e)&&_e.host||getDocumentElement(_e);return isShadowRoot($)?$.host:$}function getNearestOverflowAncestor(_e){const $=getParentNode(_e);return isLastTraversableNode($)?_e.ownerDocument?_e.ownerDocument.body:_e.body:isHTMLElement($)&&isOverflowElement($)?$:getNearestOverflowAncestor($)}function getOverflowAncestors(_e,$,xt){var bt;$===void 0&&($=[]),xt===void 0&&(xt=!0);const At=getNearestOverflowAncestor(_e),St=At===((bt=_e.ownerDocument)==null?void 0:bt.body),Et=getWindow(At);return St?$.concat(Et,Et.visualViewport||[],isOverflowElement(At)?At:[],Et.frameElement&&xt?getOverflowAncestors(Et.frameElement):[]):$.concat(At,getOverflowAncestors(At,[],xt))}function getUserAgent(){const _e=navigator.userAgentData;return _e&&Array.isArray(_e.brands)?_e.brands.map($=>{let{brand:xt,version:bt}=$;return xt+"/"+bt}).join(" "):navigator.userAgent}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=_e=>({x:_e,y:_e}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(_e,$,xt){return max(_e,min($,xt))}function evaluate(_e,$){return typeof _e=="function"?_e($):_e}function getSide(_e){return _e.split("-")[0]}function getAlignment(_e){return _e.split("-")[1]}function getOppositeAxis(_e){return _e==="x"?"y":"x"}function getAxisLength(_e){return _e==="y"?"height":"width"}function getSideAxis(_e){return["top","bottom"].includes(getSide(_e))?"y":"x"}function getAlignmentAxis(_e){return getOppositeAxis(getSideAxis(_e))}function getAlignmentSides(_e,$,xt){xt===void 0&&(xt=!1);const bt=getAlignment(_e),At=getAlignmentAxis(_e),St=getAxisLength(At);let Et=At==="x"?bt===(xt?"end":"start")?"right":"left":bt==="start"?"bottom":"top";return $.reference[St]>$.floating[St]&&(Et=getOppositePlacement(Et)),[Et,getOppositePlacement(Et)]}function getExpandedPlacements(_e){const $=getOppositePlacement(_e);return[getOppositeAlignmentPlacement(_e),$,getOppositeAlignmentPlacement($)]}function getOppositeAlignmentPlacement(_e){return _e.replace(/start|end/g,$=>oppositeAlignmentMap[$])}function getSideList(_e,$,xt){const bt=["left","right"],At=["right","left"],St=["top","bottom"],Et=["bottom","top"];switch(_e){case"top":case"bottom":return xt?$?At:bt:$?bt:At;case"left":case"right":return $?St:Et;default:return[]}}function getOppositeAxisPlacements(_e,$,xt,bt){const At=getAlignment(_e);let St=getSideList(getSide(_e),xt==="start",bt);return At&&(St=St.map(Et=>Et+"-"+At),$&&(St=St.concat(St.map(getOppositeAlignmentPlacement)))),St}function getOppositePlacement(_e){return _e.replace(/left|right|bottom|top/g,$=>oppositeSideMap[$])}function expandPaddingObject(_e){return{top:0,right:0,bottom:0,left:0,..._e}}function getPaddingObject(_e){return typeof _e!="number"?expandPaddingObject(_e):{top:_e,right:_e,bottom:_e,left:_e}}function rectToClientRect(_e){const{x:$,y:xt,width:bt,height:At}=_e;return{width:bt,height:At,top:xt,left:$,right:$+bt,bottom:xt+At,x:$,y:xt}}function computeCoordsFromPlacement(_e,$,xt){let{reference:bt,floating:At}=_e;const St=getSideAxis($),Et=getAlignmentAxis($),Ct=getAxisLength(Et),Pt=getSide($),wt=St==="y",kt=bt.x+bt.width/2-At.width/2,Rt=bt.y+bt.height/2-At.height/2,ht=bt[Ct]/2-At[Ct]/2;let vt;switch(Pt){case"top":vt={x:kt,y:bt.y-At.height};break;case"bottom":vt={x:kt,y:bt.y+bt.height};break;case"right":vt={x:bt.x+bt.width,y:Rt};break;case"left":vt={x:bt.x-At.width,y:Rt};break;default:vt={x:bt.x,y:bt.y}}switch(getAlignment($)){case"start":vt[Et]-=ht*(xt&&wt?-1:1);break;case"end":vt[Et]+=ht*(xt&&wt?-1:1);break}return vt}const computePosition$1=async(_e,$,xt)=>{const{placement:bt="bottom",strategy:At="absolute",middleware:St=[],platform:Et}=xt,Ct=St.filter(Boolean),Pt=await(Et.isRTL==null?void 0:Et.isRTL($));let wt=await Et.getElementRects({reference:_e,floating:$,strategy:At}),{x:kt,y:Rt}=computeCoordsFromPlacement(wt,bt,Pt),ht=bt,vt={},Ft=0;for(let Ht=0;Ht<Ct.length;Ht++){const{name:qt,fn:Nt}=Ct[Ht],{x:$t,y:Mt,data:Bt,reset:_t}=await Nt({x:kt,y:Rt,initialPlacement:bt,placement:ht,strategy:At,middlewareData:vt,rects:wt,platform:Et,elements:{reference:_e,floating:$}});kt=$t??kt,Rt=Mt??Rt,vt={...vt,[qt]:{...vt[qt],...Bt}},_t&&Ft<=50&&(Ft++,typeof _t=="object"&&(_t.placement&&(ht=_t.placement),_t.rects&&(wt=_t.rects===!0?await Et.getElementRects({reference:_e,floating:$,strategy:At}):_t.rects),{x:kt,y:Rt}=computeCoordsFromPlacement(wt,ht,Pt)),Ht=-1)}return{x:kt,y:Rt,placement:ht,strategy:At,middlewareData:vt}};async function detectOverflow$1(_e,$){var xt;$===void 0&&($={});const{x:bt,y:At,platform:St,rects:Et,elements:Ct,strategy:Pt}=_e,{boundary:wt="clippingAncestors",rootBoundary:kt="viewport",elementContext:Rt="floating",altBoundary:ht=!1,padding:vt=0}=evaluate($,_e),Ft=getPaddingObject(vt),qt=Ct[ht?Rt==="floating"?"reference":"floating":Rt],Nt=rectToClientRect(await St.getClippingRect({element:(xt=await(St.isElement==null?void 0:St.isElement(qt)))==null||xt?qt:qt.contextElement||await(St.getDocumentElement==null?void 0:St.getDocumentElement(Ct.floating)),boundary:wt,rootBoundary:kt,strategy:Pt})),$t=Rt==="floating"?{x:bt,y:At,width:Et.floating.width,height:Et.floating.height}:Et.reference,Mt=await(St.getOffsetParent==null?void 0:St.getOffsetParent(Ct.floating)),Bt=await(St.isElement==null?void 0:St.isElement(Mt))?await(St.getScale==null?void 0:St.getScale(Mt))||{x:1,y:1}:{x:1,y:1},_t=rectToClientRect(St.convertOffsetParentRelativeRectToViewportRelativeRect?await St.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Ct,rect:$t,offsetParent:Mt,strategy:Pt}):$t);return{top:(Nt.top-_t.top+Ft.top)/Bt.y,bottom:(_t.bottom-Nt.bottom+Ft.bottom)/Bt.y,left:(Nt.left-_t.left+Ft.left)/Bt.x,right:(_t.right-Nt.right+Ft.right)/Bt.x}}const flip$2=function(_e){return _e===void 0&&(_e={}),{name:"flip",options:_e,async fn($){var xt,bt;const{placement:At,middlewareData:St,rects:Et,initialPlacement:Ct,platform:Pt,elements:wt}=$,{mainAxis:kt=!0,crossAxis:Rt=!0,fallbackPlacements:ht,fallbackStrategy:vt="bestFit",fallbackAxisSideDirection:Ft="none",flipAlignment:Ht=!0,...qt}=evaluate(_e,$);if((xt=St.arrow)!=null&&xt.alignmentOffset)return{};const Nt=getSide(At),$t=getSideAxis(Ct),Mt=getSide(Ct)===Ct,Bt=await(Pt.isRTL==null?void 0:Pt.isRTL(wt.floating)),_t=ht||(Mt||!Ht?[getOppositePlacement(Ct)]:getExpandedPlacements(Ct)),Kt=Ft!=="none";!ht&&Kt&&_t.push(...getOppositeAxisPlacements(Ct,Ht,Ft,Bt));const jt=[Ct,..._t],Gt=await detectOverflow$1($,qt),Qt=[];let ln=((bt=St.flip)==null?void 0:bt.overflows)||[];if(kt&&Qt.push(Gt[Nt]),Rt){const bn=getAlignmentSides(At,Et,Bt);Qt.push(Gt[bn[0]],Gt[bn[1]])}if(ln=[...ln,{placement:At,overflows:Qt}],!Qt.every(bn=>bn<=0)){var en,gn;const bn=(((en=St.flip)==null?void 0:en.index)||0)+1,Xt=jt[bn];if(Xt)return{data:{index:bn,overflows:ln},reset:{placement:Xt}};let Yt=(gn=ln.filter(un=>un.overflows[0]<=0).sort((un,Ut)=>un.overflows[1]-Ut.overflows[1])[0])==null?void 0:gn.placement;if(!Yt)switch(vt){case"bestFit":{var tn;const un=(tn=ln.filter(Ut=>{if(Kt){const Lt=getSideAxis(Ut.placement);return Lt===$t||Lt==="y"}return!0}).map(Ut=>[Ut.placement,Ut.overflows.filter(Lt=>Lt>0).reduce((Lt,Vt)=>Lt+Vt,0)]).sort((Ut,Lt)=>Ut[1]-Lt[1])[0])==null?void 0:tn[0];un&&(Yt=un);break}case"initialPlacement":Yt=Ct;break}if(At!==Yt)return{reset:{placement:Yt}}}return{}}}};async function convertValueToCoords(_e,$){const{placement:xt,platform:bt,elements:At}=_e,St=await(bt.isRTL==null?void 0:bt.isRTL(At.floating)),Et=getSide(xt),Ct=getAlignment(xt),Pt=getSideAxis(xt)==="y",wt=["left","top"].includes(Et)?-1:1,kt=St&&Pt?-1:1,Rt=evaluate($,_e);let{mainAxis:ht,crossAxis:vt,alignmentAxis:Ft}=typeof Rt=="number"?{mainAxis:Rt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Rt};return Ct&&typeof Ft=="number"&&(vt=Ct==="end"?Ft*-1:Ft),Pt?{x:vt*kt,y:ht*wt}:{x:ht*wt,y:vt*kt}}const offset$2=function(_e){return _e===void 0&&(_e=0),{name:"offset",options:_e,async fn($){var xt,bt;const{x:At,y:St,placement:Et,middlewareData:Ct}=$,Pt=await convertValueToCoords($,_e);return Et===((xt=Ct.offset)==null?void 0:xt.placement)&&(bt=Ct.arrow)!=null&&bt.alignmentOffset?{}:{x:At+Pt.x,y:St+Pt.y,data:{...Pt,placement:Et}}}}},shift$2=function(_e){return _e===void 0&&(_e={}),{name:"shift",options:_e,async fn($){const{x:xt,y:bt,placement:At}=$,{mainAxis:St=!0,crossAxis:Et=!1,limiter:Ct={fn:qt=>{let{x:Nt,y:$t}=qt;return{x:Nt,y:$t}}},...Pt}=evaluate(_e,$),wt={x:xt,y:bt},kt=await detectOverflow$1($,Pt),Rt=getSideAxis(getSide(At)),ht=getOppositeAxis(Rt);let vt=wt[ht],Ft=wt[Rt];if(St){const qt=ht==="y"?"top":"left",Nt=ht==="y"?"bottom":"right",$t=vt+kt[qt],Mt=vt-kt[Nt];vt=clamp$1($t,vt,Mt)}if(Et){const qt=Rt==="y"?"top":"left",Nt=Rt==="y"?"bottom":"right",$t=Ft+kt[qt],Mt=Ft-kt[Nt];Ft=clamp$1($t,Ft,Mt)}const Ht=Ct.fn({...$,[ht]:vt,[Rt]:Ft});return{...Ht,data:{x:Ht.x-xt,y:Ht.y-bt}}}}},size$2=function(_e){return _e===void 0&&(_e={}),{name:"size",options:_e,async fn($){const{placement:xt,rects:bt,platform:At,elements:St}=$,{apply:Et=()=>{},...Ct}=evaluate(_e,$),Pt=await detectOverflow$1($,Ct),wt=getSide(xt),kt=getAlignment(xt),Rt=getSideAxis(xt)==="y",{width:ht,height:vt}=bt.floating;let Ft,Ht;wt==="top"||wt==="bottom"?(Ft=wt,Ht=kt===(await(At.isRTL==null?void 0:At.isRTL(St.floating))?"start":"end")?"left":"right"):(Ht=wt,Ft=kt==="end"?"top":"bottom");const qt=vt-Pt.top-Pt.bottom,Nt=ht-Pt.left-Pt.right,$t=min(vt-Pt[Ft],qt),Mt=min(ht-Pt[Ht],Nt),Bt=!$.middlewareData.shift;let _t=$t,Kt=Mt;if(Rt?Kt=kt||Bt?min(Mt,Nt):Nt:_t=kt||Bt?min($t,qt):qt,Bt&&!kt){const Gt=max(Pt.left,0),Qt=max(Pt.right,0),ln=max(Pt.top,0),en=max(Pt.bottom,0);Rt?Kt=ht-2*(Gt!==0||Qt!==0?Gt+Qt:max(Pt.left,Pt.right)):_t=vt-2*(ln!==0||en!==0?ln+en:max(Pt.top,Pt.bottom))}await Et({...$,availableWidth:Kt,availableHeight:_t});const jt=await At.getDimensions(St.floating);return ht!==jt.width||vt!==jt.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(_e){const $=getComputedStyle$2(_e);let xt=parseFloat($.width)||0,bt=parseFloat($.height)||0;const At=isHTMLElement(_e),St=At?_e.offsetWidth:xt,Et=At?_e.offsetHeight:bt,Ct=round(xt)!==St||round(bt)!==Et;return Ct&&(xt=St,bt=Et),{width:xt,height:bt,$:Ct}}function unwrapElement(_e){return isElement(_e)?_e:_e.contextElement}function getScale(_e){const $=unwrapElement(_e);if(!isHTMLElement($))return createCoords(1);const xt=$.getBoundingClientRect(),{width:bt,height:At,$:St}=getCssDimensions($);let Et=(St?round(xt.width):xt.width)/bt,Ct=(St?round(xt.height):xt.height)/At;return(!Et||!Number.isFinite(Et))&&(Et=1),(!Ct||!Number.isFinite(Ct))&&(Ct=1),{x:Et,y:Ct}}const noOffsets=createCoords(0);function getVisualOffsets(_e){const $=getWindow(_e);return!isWebKit()||!$.visualViewport?noOffsets:{x:$.visualViewport.offsetLeft,y:$.visualViewport.offsetTop}}function shouldAddVisualOffsets(_e,$,xt){return $===void 0&&($=!1),!xt||$&&xt!==getWindow(_e)?!1:$}function getBoundingClientRect(_e,$,xt,bt){$===void 0&&($=!1),xt===void 0&&(xt=!1);const At=_e.getBoundingClientRect(),St=unwrapElement(_e);let Et=createCoords(1);$&&(bt?isElement(bt)&&(Et=getScale(bt)):Et=getScale(_e));const Ct=shouldAddVisualOffsets(St,xt,bt)?getVisualOffsets(St):createCoords(0);let Pt=(At.left+Ct.x)/Et.x,wt=(At.top+Ct.y)/Et.y,kt=At.width/Et.x,Rt=At.height/Et.y;if(St){const ht=getWindow(St),vt=bt&&isElement(bt)?getWindow(bt):bt;let Ft=ht,Ht=Ft.frameElement;for(;Ht&&bt&&vt!==Ft;){const qt=getScale(Ht),Nt=Ht.getBoundingClientRect(),$t=getComputedStyle$2(Ht),Mt=Nt.left+(Ht.clientLeft+parseFloat($t.paddingLeft))*qt.x,Bt=Nt.top+(Ht.clientTop+parseFloat($t.paddingTop))*qt.y;Pt*=qt.x,wt*=qt.y,kt*=qt.x,Rt*=qt.y,Pt+=Mt,wt+=Bt,Ft=getWindow(Ht),Ht=Ft.frameElement}}return rectToClientRect({width:kt,height:Rt,x:Pt,y:wt})}function convertOffsetParentRelativeRectToViewportRelativeRect(_e){let{elements:$,rect:xt,offsetParent:bt,strategy:At}=_e;const St=At==="fixed",Et=getDocumentElement(bt),Ct=$?isTopLayer($.floating):!1;if(bt===Et||Ct&&St)return xt;let Pt={scrollLeft:0,scrollTop:0},wt=createCoords(1);const kt=createCoords(0),Rt=isHTMLElement(bt);if((Rt||!Rt&&!St)&&((getNodeName(bt)!=="body"||isOverflowElement(Et))&&(Pt=getNodeScroll(bt)),isHTMLElement(bt))){const ht=getBoundingClientRect(bt);wt=getScale(bt),kt.x=ht.x+bt.clientLeft,kt.y=ht.y+bt.clientTop}return{width:xt.width*wt.x,height:xt.height*wt.y,x:xt.x*wt.x-Pt.scrollLeft*wt.x+kt.x,y:xt.y*wt.y-Pt.scrollTop*wt.y+kt.y}}function getClientRects(_e){return Array.from(_e.getClientRects())}function getWindowScrollBarX(_e){return getBoundingClientRect(getDocumentElement(_e)).left+getNodeScroll(_e).scrollLeft}function getDocumentRect(_e){const $=getDocumentElement(_e),xt=getNodeScroll(_e),bt=_e.ownerDocument.body,At=max($.scrollWidth,$.clientWidth,bt.scrollWidth,bt.clientWidth),St=max($.scrollHeight,$.clientHeight,bt.scrollHeight,bt.clientHeight);let Et=-xt.scrollLeft+getWindowScrollBarX(_e);const Ct=-xt.scrollTop;return getComputedStyle$2(bt).direction==="rtl"&&(Et+=max($.clientWidth,bt.clientWidth)-At),{width:At,height:St,x:Et,y:Ct}}function getViewportRect(_e,$){const xt=getWindow(_e),bt=getDocumentElement(_e),At=xt.visualViewport;let St=bt.clientWidth,Et=bt.clientHeight,Ct=0,Pt=0;if(At){St=At.width,Et=At.height;const wt=isWebKit();(!wt||wt&&$==="fixed")&&(Ct=At.offsetLeft,Pt=At.offsetTop)}return{width:St,height:Et,x:Ct,y:Pt}}function getInnerBoundingClientRect(_e,$){const xt=getBoundingClientRect(_e,!0,$==="fixed"),bt=xt.top+_e.clientTop,At=xt.left+_e.clientLeft,St=isHTMLElement(_e)?getScale(_e):createCoords(1),Et=_e.clientWidth*St.x,Ct=_e.clientHeight*St.y,Pt=At*St.x,wt=bt*St.y;return{width:Et,height:Ct,x:Pt,y:wt}}function getClientRectFromClippingAncestor(_e,$,xt){let bt;if($==="viewport")bt=getViewportRect(_e,xt);else if($==="document")bt=getDocumentRect(getDocumentElement(_e));else if(isElement($))bt=getInnerBoundingClientRect($,xt);else{const At=getVisualOffsets(_e);bt={...$,x:$.x-At.x,y:$.y-At.y}}return rectToClientRect(bt)}function hasFixedPositionAncestor(_e,$){const xt=getParentNode(_e);return xt===$||!isElement(xt)||isLastTraversableNode(xt)?!1:getComputedStyle$2(xt).position==="fixed"||hasFixedPositionAncestor(xt,$)}function getClippingElementAncestors(_e,$){const xt=$.get(_e);if(xt)return xt;let bt=getOverflowAncestors(_e,[],!1).filter(Ct=>isElement(Ct)&&getNodeName(Ct)!=="body"),At=null;const St=getComputedStyle$2(_e).position==="fixed";let Et=St?getParentNode(_e):_e;for(;isElement(Et)&&!isLastTraversableNode(Et);){const Ct=getComputedStyle$2(Et),Pt=isContainingBlock(Et);!Pt&&Ct.position==="fixed"&&(At=null),(St?!Pt&&!At:!Pt&&Ct.position==="static"&&!!At&&["absolute","fixed"].includes(At.position)||isOverflowElement(Et)&&!Pt&&hasFixedPositionAncestor(_e,Et))?bt=bt.filter(kt=>kt!==Et):At=Ct,Et=getParentNode(Et)}return $.set(_e,bt),bt}function getClippingRect(_e){let{element:$,boundary:xt,rootBoundary:bt,strategy:At}=_e;const Et=[...xt==="clippingAncestors"?isTopLayer($)?[]:getClippingElementAncestors($,this._c):[].concat(xt),bt],Ct=Et[0],Pt=Et.reduce((wt,kt)=>{const Rt=getClientRectFromClippingAncestor($,kt,At);return wt.top=max(Rt.top,wt.top),wt.right=min(Rt.right,wt.right),wt.bottom=min(Rt.bottom,wt.bottom),wt.left=max(Rt.left,wt.left),wt},getClientRectFromClippingAncestor($,Ct,At));return{width:Pt.right-Pt.left,height:Pt.bottom-Pt.top,x:Pt.left,y:Pt.top}}function getDimensions(_e){const{width:$,height:xt}=getCssDimensions(_e);return{width:$,height:xt}}function getRectRelativeToOffsetParent(_e,$,xt){const bt=isHTMLElement($),At=getDocumentElement($),St=xt==="fixed",Et=getBoundingClientRect(_e,!0,St,$);let Ct={scrollLeft:0,scrollTop:0};const Pt=createCoords(0);if(bt||!bt&&!St)if((getNodeName($)!=="body"||isOverflowElement(At))&&(Ct=getNodeScroll($)),bt){const Rt=getBoundingClientRect($,!0,St,$);Pt.x=Rt.x+$.clientLeft,Pt.y=Rt.y+$.clientTop}else At&&(Pt.x=getWindowScrollBarX(At));const wt=Et.left+Ct.scrollLeft-Pt.x,kt=Et.top+Ct.scrollTop-Pt.y;return{x:wt,y:kt,width:Et.width,height:Et.height}}function isStaticPositioned(_e){return getComputedStyle$2(_e).position==="static"}function getTrueOffsetParent(_e,$){return!isHTMLElement(_e)||getComputedStyle$2(_e).position==="fixed"?null:$?$(_e):_e.offsetParent}function getOffsetParent(_e,$){const xt=getWindow(_e);if(isTopLayer(_e))return xt;if(!isHTMLElement(_e)){let At=getParentNode(_e);for(;At&&!isLastTraversableNode(At);){if(isElement(At)&&!isStaticPositioned(At))return At;At=getParentNode(At)}return xt}let bt=getTrueOffsetParent(_e,$);for(;bt&&isTableElement(bt)&&isStaticPositioned(bt);)bt=getTrueOffsetParent(bt,$);return bt&&isLastTraversableNode(bt)&&isStaticPositioned(bt)&&!isContainingBlock(bt)?xt:bt||getContainingBlock(_e)||xt}const getElementRects=async function(_e){const $=this.getOffsetParent||getOffsetParent,xt=this.getDimensions,bt=await xt(_e.floating);return{reference:getRectRelativeToOffsetParent(_e.reference,await $(_e.floating),_e.strategy),floating:{x:0,y:0,width:bt.width,height:bt.height}}};function isRTL(_e){return getComputedStyle$2(_e).direction==="rtl"}const platform$2={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(_e,$){let xt=null,bt;const At=getDocumentElement(_e);function St(){var Ct;clearTimeout(bt),(Ct=xt)==null||Ct.disconnect(),xt=null}function Et(Ct,Pt){Ct===void 0&&(Ct=!1),Pt===void 0&&(Pt=1),St();const{left:wt,top:kt,width:Rt,height:ht}=_e.getBoundingClientRect();if(Ct||$(),!Rt||!ht)return;const vt=floor(kt),Ft=floor(At.clientWidth-(wt+Rt)),Ht=floor(At.clientHeight-(kt+ht)),qt=floor(wt),$t={rootMargin:-vt+"px "+-Ft+"px "+-Ht+"px "+-qt+"px",threshold:max(0,min(1,Pt))||1};let Mt=!0;function Bt(_t){const Kt=_t[0].intersectionRatio;if(Kt!==Pt){if(!Mt)return Et();Kt?Et(!1,Kt):bt=setTimeout(()=>{Et(!1,1e-7)},1e3)}Mt=!1}try{xt=new IntersectionObserver(Bt,{...$t,root:At.ownerDocument})}catch{xt=new IntersectionObserver(Bt,$t)}xt.observe(_e)}return Et(!0),St}function autoUpdate(_e,$,xt,bt){bt===void 0&&(bt={});const{ancestorScroll:At=!0,ancestorResize:St=!0,elementResize:Et=typeof ResizeObserver=="function",layoutShift:Ct=typeof IntersectionObserver=="function",animationFrame:Pt=!1}=bt,wt=unwrapElement(_e),kt=At||St?[...wt?getOverflowAncestors(wt):[],...getOverflowAncestors($)]:[];kt.forEach(Nt=>{At&&Nt.addEventListener("scroll",xt,{passive:!0}),St&&Nt.addEventListener("resize",xt)});const Rt=wt&&Ct?observeMove(wt,xt):null;let ht=-1,vt=null;Et&&(vt=new ResizeObserver(Nt=>{let[$t]=Nt;$t&&$t.target===wt&&vt&&(vt.unobserve($),cancelAnimationFrame(ht),ht=requestAnimationFrame(()=>{var Mt;(Mt=vt)==null||Mt.observe($)})),xt()}),wt&&!Pt&&vt.observe(wt),vt.observe($));let Ft,Ht=Pt?getBoundingClientRect(_e):null;Pt&&qt();function qt(){const Nt=getBoundingClientRect(_e);Ht&&(Nt.x!==Ht.x||Nt.y!==Ht.y||Nt.width!==Ht.width||Nt.height!==Ht.height)&&xt(),Ht=Nt,Ft=requestAnimationFrame(qt)}return xt(),()=>{var Nt;kt.forEach($t=>{At&&$t.removeEventListener("scroll",xt),St&&$t.removeEventListener("resize",xt)}),Rt==null||Rt(),(Nt=vt)==null||Nt.disconnect(),vt=null,Pt&&cancelAnimationFrame(Ft)}}const detectOverflow=detectOverflow$1,offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,computePosition=(_e,$,xt)=>{const bt=new Map,At={platform:platform$2,...xt},St={...At.platform,_c:bt};return computePosition$1(_e,$,{...At,platform:St})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(_e,$){if(_e===$)return!0;if(typeof _e!=typeof $)return!1;if(typeof _e=="function"&&_e.toString()===$.toString())return!0;let xt,bt,At;if(_e&&$&&typeof _e=="object"){if(Array.isArray(_e)){if(xt=_e.length,xt!==$.length)return!1;for(bt=xt;bt--!==0;)if(!deepEqual(_e[bt],$[bt]))return!1;return!0}if(At=Object.keys(_e),xt=At.length,xt!==Object.keys($).length)return!1;for(bt=xt;bt--!==0;)if(!{}.hasOwnProperty.call($,At[bt]))return!1;for(bt=xt;bt--!==0;){const St=At[bt];if(!(St==="_owner"&&_e.$$typeof)&&!deepEqual(_e[St],$[St]))return!1}return!0}return _e!==_e&&$!==$}function getDPR(_e){return typeof window>"u"?1:(_e.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(_e,$){const xt=getDPR(_e);return Math.round($*xt)/xt}function useLatestRef(_e){const $=reactExports.useRef(_e);return index$1(()=>{$.current=_e}),$}function useFloating$1(_e){_e===void 0&&(_e={});const{placement:$="bottom",strategy:xt="absolute",middleware:bt=[],platform:At,elements:{reference:St,floating:Et}={},transform:Ct=!0,whileElementsMounted:Pt,open:wt}=_e,[kt,Rt]=reactExports.useState({x:0,y:0,strategy:xt,placement:$,middlewareData:{},isPositioned:!1}),[ht,vt]=reactExports.useState(bt);deepEqual(ht,bt)||vt(bt);const[Ft,Ht]=reactExports.useState(null),[qt,Nt]=reactExports.useState(null),$t=reactExports.useCallback(un=>{un!==Kt.current&&(Kt.current=un,Ht(un))},[]),Mt=reactExports.useCallback(un=>{un!==jt.current&&(jt.current=un,Nt(un))},[]),Bt=St||Ft,_t=Et||qt,Kt=reactExports.useRef(null),jt=reactExports.useRef(null),Gt=reactExports.useRef(kt),Qt=Pt!=null,ln=useLatestRef(Pt),en=useLatestRef(At),gn=reactExports.useCallback(()=>{if(!Kt.current||!jt.current)return;const un={placement:$,strategy:xt,middleware:ht};en.current&&(un.platform=en.current),computePosition(Kt.current,jt.current,un).then(Ut=>{const Lt={...Ut,isPositioned:!0};tn.current&&!deepEqual(Gt.current,Lt)&&(Gt.current=Lt,reactDomExports.flushSync(()=>{Rt(Lt)}))})},[ht,$,xt,en]);index$1(()=>{wt===!1&&Gt.current.isPositioned&&(Gt.current.isPositioned=!1,Rt(un=>({...un,isPositioned:!1})))},[wt]);const tn=reactExports.useRef(!1);index$1(()=>(tn.current=!0,()=>{tn.current=!1}),[]),index$1(()=>{if(Bt&&(Kt.current=Bt),_t&&(jt.current=_t),Bt&&_t){if(ln.current)return ln.current(Bt,_t,gn);gn()}},[Bt,_t,gn,ln,Qt]);const bn=reactExports.useMemo(()=>({reference:Kt,floating:jt,setReference:$t,setFloating:Mt}),[$t,Mt]),Xt=reactExports.useMemo(()=>({reference:Bt,floating:_t}),[Bt,_t]),Yt=reactExports.useMemo(()=>{const un={position:xt,left:0,top:0};if(!Xt.floating)return un;const Ut=roundByDPR(Xt.floating,kt.x),Lt=roundByDPR(Xt.floating,kt.y);return Ct?{...un,transform:"translate("+Ut+"px, "+Lt+"px)",...getDPR(Xt.floating)>=1.5&&{willChange:"transform"}}:{position:xt,left:Ut,top:Lt}},[xt,Ct,Xt.floating,kt.x,kt.y]);return reactExports.useMemo(()=>({...kt,update:gn,refs:bn,elements:Xt,floatingStyles:Yt}),[kt,gn,bn,Xt,Yt])}const offset=(_e,$)=>({...offset$1(_e),options:[_e,$]}),shift=(_e,$)=>({...shift$1(_e),options:[_e,$]}),flip=(_e,$)=>({...flip$1(_e),options:[_e,$]}),size=(_e,$)=>({...size$1(_e),options:[_e,$]}),SafeReact={...t$4},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(_e=>_e());function useEffectEvent(_e){const $=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{$.current=_e}),reactExports.useCallback(function(){for(var xt=arguments.length,bt=new Array(xt),At=0;At<xt;At++)bt[At]=arguments[At];return $.current==null?void 0:$.current(...bt)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[_e,$]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{_e==null&&$(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),_e}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const _e=new Map;return{emit($,xt){var bt;(bt=_e.get($))==null||bt.forEach(At=>At(xt))},on($,xt){_e.set($,[..._e.get($)||[],xt])},off($,xt){var bt;_e.set($,((bt=_e.get($))==null?void 0:bt.filter(At=>At!==xt))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var _e;return((_e=reactExports.useContext(FloatingNodeContext))==null?void 0:_e.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(_e){const{open:$=!1,onOpenChange:xt,elements:bt}=_e,At=useId(),St=reactExports.useRef({}),[Et]=reactExports.useState(()=>createPubSub()),Ct=useFloatingParentNodeId()!=null,[Pt,wt]=reactExports.useState(bt.reference),kt=useEffectEvent((vt,Ft,Ht)=>{St.current.openEvent=vt?Ft:void 0,Et.emit("openchange",{open:vt,event:Ft,reason:Ht,nested:Ct}),xt==null||xt(vt,Ft,Ht)}),Rt=reactExports.useMemo(()=>({setPositionReference:wt}),[]),ht=reactExports.useMemo(()=>({reference:Pt||bt.reference||null,floating:bt.floating||null,domReference:bt.reference}),[Pt,bt.reference,bt.floating]);return reactExports.useMemo(()=>({dataRef:St,open:$,onOpenChange:kt,elements:ht,events:Et,floatingId:At,refs:Rt}),[$,kt,ht,Et,At,Rt])}function useFloating(_e){_e===void 0&&(_e={});const{nodeId:$}=_e,xt=useFloatingRootContext({..._e,elements:{reference:null,floating:null,..._e.elements}}),bt=_e.rootContext||xt,At=bt.elements,[St,Et]=reactExports.useState(null),[Ct,Pt]=reactExports.useState(null),kt=(At==null?void 0:At.reference)||St,Rt=reactExports.useRef(null),ht=useFloatingTree();index(()=>{kt&&(Rt.current=kt)},[kt]);const vt=useFloating$1({..._e,elements:{...At,...Ct&&{reference:Ct}}}),Ft=reactExports.useCallback(Mt=>{const Bt=isElement(Mt)?{getBoundingClientRect:()=>Mt.getBoundingClientRect(),contextElement:Mt}:Mt;Pt(Bt),vt.refs.setReference(Bt)},[vt.refs]),Ht=reactExports.useCallback(Mt=>{(isElement(Mt)||Mt===null)&&(Rt.current=Mt,Et(Mt)),(isElement(vt.refs.reference.current)||vt.refs.reference.current===null||Mt!==null&&!isElement(Mt))&&vt.refs.setReference(Mt)},[vt.refs]),qt=reactExports.useMemo(()=>({...vt.refs,setReference:Ht,setPositionReference:Ft,domReference:Rt}),[vt.refs,Ht,Ft]),Nt=reactExports.useMemo(()=>({...vt.elements,domReference:kt}),[vt.elements,kt]),$t=reactExports.useMemo(()=>({...vt,...bt,refs:qt,elements:Nt,nodeId:$}),[vt,qt,Nt,$,bt]);return index(()=>{bt.dataRef.current.floatingContext=$t;const Mt=ht==null?void 0:ht.nodesRef.current.find(Bt=>Bt.id===$);Mt&&(Mt.context=$t)}),reactExports.useMemo(()=>({...vt,context:$t,refs:qt,elements:Nt}),[vt,qt,Nt,$t])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps(_e,$,xt){const bt=new Map,At=xt==="item";let St=_e;if(At&&_e){const{[ACTIVE_KEY]:Et,[SELECTED_KEY]:Ct,...Pt}=_e;St=Pt}return{...xt==="floating"&&{tabIndex:-1},...St,...$.map(Et=>{const Ct=Et?Et[xt]:null;return typeof Ct=="function"?_e?Ct(_e):null:Ct}).concat(_e).reduce((Et,Ct)=>(Ct&&Object.entries(Ct).forEach(Pt=>{let[wt,kt]=Pt;if(!(At&&[ACTIVE_KEY,SELECTED_KEY].includes(wt)))if(wt.indexOf("on")===0){if(bt.has(wt)||bt.set(wt,[]),typeof kt=="function"){var Rt;(Rt=bt.get(wt))==null||Rt.push(kt),Et[wt]=function(){for(var ht,vt=arguments.length,Ft=new Array(vt),Ht=0;Ht<vt;Ht++)Ft[Ht]=arguments[Ht];return(ht=bt.get(wt))==null?void 0:ht.map(qt=>qt(...Ft)).find(qt=>qt!==void 0)}}}else Et[wt]=kt}),Et),{})}}function useInteractions(_e){_e===void 0&&(_e=[]);const $=_e.map(Ct=>Ct==null?void 0:Ct.reference),xt=_e.map(Ct=>Ct==null?void 0:Ct.floating),bt=_e.map(Ct=>Ct==null?void 0:Ct.item),At=reactExports.useCallback(Ct=>mergeProps(Ct,_e,"reference"),$),St=reactExports.useCallback(Ct=>mergeProps(Ct,_e,"floating"),xt),Et=reactExports.useCallback(Ct=>mergeProps(Ct,_e,"item"),bt);return reactExports.useMemo(()=>({getReferenceProps:At,getFloatingProps:St,getItemProps:Et}),[At,St,Et])}function getArgsWithCustomFloatingHeight(_e,$){return{..._e,rects:{..._e.rects,floating:{..._e.rects.floating,height:$}}}}const inner=_e=>({name:"inner",options:_e,async fn($){const{listRef:xt,overflowRef:bt,onFallbackChange:At,offset:St=0,index:Et=0,minItemsVisible:Ct=4,referenceOverflowThreshold:Pt=0,scrollRef:wt,...kt}=evaluate(_e,$),{rects:Rt,elements:{floating:ht}}=$,vt=xt.current[Et];if(!vt)return{};const Ft={...$,...await offset(-vt.offsetTop-ht.clientTop-Rt.reference.height/2-vt.offsetHeight/2-St).fn($)},Ht=(wt==null?void 0:wt.current)||ht,qt=await detectOverflow(getArgsWithCustomFloatingHeight(Ft,Ht.scrollHeight),kt),Nt=await detectOverflow(Ft,{...kt,elementContext:"reference"}),$t=Math.max(0,qt.top),Mt=Ft.y+$t,Bt=Math.max(0,Ht.scrollHeight-$t-Math.max(0,qt.bottom));return Ht.style.maxHeight=Bt+"px",Ht.scrollTop=$t,At&&(Ht.offsetHeight<vt.offsetHeight*Math.min(Ct,xt.current.length-1)-1||Nt.top>=-Pt||Nt.bottom>=-Pt?reactDomExports.flushSync(()=>At(!0)):reactDomExports.flushSync(()=>At(!1))),bt&&(bt.current=await detectOverflow(getArgsWithCustomFloatingHeight({...Ft,y:Mt},Ht.offsetHeight),kt)),{y:Mt}}});function useInnerOffset(_e,$){const{open:xt,elements:bt}=_e,{enabled:At=!0,overflowRef:St,scrollRef:Et,onChange:Ct}=$,Pt=useEffectEvent(Ct),wt=reactExports.useRef(!1),kt=reactExports.useRef(null),Rt=reactExports.useRef(null);reactExports.useEffect(()=>{if(!At)return;function vt(Ht){if(Ht.ctrlKey||!Ft||St.current==null)return;const qt=Ht.deltaY,Nt=St.current.top>=-.5,$t=St.current.bottom>=-.5,Mt=Ft.scrollHeight-Ft.clientHeight,Bt=qt<0?-1:1,_t=qt<0?"max":"min";Ft.scrollHeight<=Ft.clientHeight||(!Nt&&qt>0||!$t&&qt<0?(Ht.preventDefault(),reactDomExports.flushSync(()=>{Pt(Kt=>Kt+Math[_t](qt,Mt*Bt))})):/firefox/i.test(getUserAgent())&&(Ft.scrollTop+=qt))}const Ft=(Et==null?void 0:Et.current)||bt.floating;if(xt&&Ft)return Ft.addEventListener("wheel",vt),requestAnimationFrame(()=>{kt.current=Ft.scrollTop,St.current!=null&&(Rt.current={...St.current})}),()=>{kt.current=null,Rt.current=null,Ft.removeEventListener("wheel",vt)}},[At,xt,bt.floating,St,Et,Pt]);const ht=reactExports.useMemo(()=>({onKeyDown(){wt.current=!0},onWheel(){wt.current=!1},onPointerMove(){wt.current=!1},onScroll(){const vt=(Et==null?void 0:Et.current)||bt.floating;if(!(!St.current||!vt||!wt.current)){if(kt.current!==null){const Ft=vt.scrollTop-kt.current;(St.current.bottom<-.5&&Ft<-1||St.current.top<-.5&&Ft>1)&&reactDomExports.flushSync(()=>Pt(Ht=>Ht+Ft))}requestAnimationFrame(()=>{kt.current=vt.scrollTop})}}}),[bt.floating,Pt,St,Et]);return reactExports.useMemo(()=>At?{floating:ht}:{},[At,ht])}let y$1=reactExports.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y$1.displayName="FloatingContext";let S$1=reactExports.createContext(null);S$1.displayName="PlacementContext";function xe(_e){return reactExports.useMemo(()=>_e?typeof _e=="string"?{to:_e}:_e:null,[_e])}function ye(){return reactExports.useContext(y$1).setReference}function Fe(){return reactExports.useContext(y$1).getReferenceProps}function be(){let{getFloatingProps:_e,slot:$}=reactExports.useContext(y$1);return reactExports.useCallback((...xt)=>Object.assign({},_e(...xt),{"data-anchor":$.anchor}),[_e,$])}function Re(_e=null){_e===!1&&(_e=null),typeof _e=="string"&&(_e={to:_e});let $=reactExports.useContext(S$1),xt=reactExports.useMemo(()=>_e,[JSON.stringify(_e,typeof HTMLElement<"u"?(At,St)=>St instanceof HTMLElement?St.outerHTML:St:void 0)]);n$3(()=>{$==null||$(xt??null)},[$,xt]);let bt=reactExports.useContext(y$1);return reactExports.useMemo(()=>[bt.setFloating,_e?bt.styles:{}],[bt.setFloating,_e,bt.styles])}let q=4;function ve({children:_e,enabled:$=!0}){let[xt,bt]=reactExports.useState(null),[At,St]=reactExports.useState(0),Et=reactExports.useRef(null),[Ct,Pt]=reactExports.useState(null);pe(Ct);let wt=$&&xt!==null&&Ct!==null,{to:kt="bottom",gap:Rt=0,offset:ht=0,padding:vt=0,inner:Ft}=ce(xt,Ct),[Ht,qt="center"]=kt.split(" ");n$3(()=>{wt&&St(0)},[wt]);let{refs:Nt,floatingStyles:$t,context:Mt}=useFloating({open:wt,placement:Ht==="selection"?qt==="center"?"bottom":`bottom-${qt}`:qt==="center"?`${Ht}`:`${Ht}-${qt}`,strategy:"absolute",transform:!1,middleware:[offset({mainAxis:Ht==="selection"?0:Rt,crossAxis:ht}),shift({padding:vt}),Ht!=="selection"&&flip({padding:vt}),Ht==="selection"&&Ft?inner({...Ft,padding:vt,overflowRef:Et,offset:At,minItemsVisible:q,referenceOverflowThreshold:vt,onFallbackChange(en){var gn,tn;if(!en)return;let bn=Mt.elements.floating;if(!bn)return;let Xt=parseFloat(getComputedStyle(bn).scrollPaddingBottom)||0,Yt=Math.min(q,bn.childElementCount),un=0,Ut=0;for(let Lt of(tn=(gn=Mt.elements.floating)==null?void 0:gn.childNodes)!=null?tn:[])if(Lt instanceof HTMLElement){let Vt=Lt.offsetTop,an=Vt+Lt.clientHeight+Xt,zt=bn.scrollTop,Wt=zt+bn.clientHeight;if(Vt>=zt&&an<=Wt)Yt--;else{Ut=Math.max(0,Math.min(an,Wt)-Math.max(Vt,zt)),un=Lt.clientHeight;break}}Yt>=1&&St(Lt=>{let Vt=un*Yt-Ut+Xt;return Lt>=Vt?Lt:Vt})}}):null,size({padding:vt,apply({availableWidth:en,availableHeight:gn,elements:tn}){Object.assign(tn.floating.style,{overflow:"auto",maxWidth:`${en}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${gn}px)`})}})].filter(Boolean),whileElementsMounted:autoUpdate}),[Bt=Ht,_t=qt]=Mt.placement.split("-");Ht==="selection"&&(Bt="selection");let Kt=reactExports.useMemo(()=>({anchor:[Bt,_t].filter(Boolean).join(" ")}),[Bt,_t]),jt=useInnerOffset(Mt,{overflowRef:Et,onChange:St}),{getReferenceProps:Gt,getFloatingProps:Qt}=useInteractions([jt]),ln=o$3(en=>{Pt(en),Nt.setFloating(en)});return reactExports.createElement(S$1.Provider,{value:bt},reactExports.createElement(y$1.Provider,{value:{setFloating:ln,setReference:Nt.setReference,styles:$t,getReferenceProps:Gt,getFloatingProps:Qt,slot:Kt}},_e))}function pe(_e){n$3(()=>{if(!_e)return;let $=new MutationObserver(()=>{let xt=_e.style.maxHeight;parseFloat(xt)!==parseInt(xt)&&(_e.style.maxHeight=`${Math.ceil(parseFloat(xt))}px`)});return $.observe(_e,{attributes:!0,attributeFilter:["style"]}),()=>{$.disconnect()}},[_e])}function ce(_e,$){var xt,bt,At;let St=L((xt=_e==null?void 0:_e.gap)!=null?xt:"var(--anchor-gap, 0)",$),Et=L((bt=_e==null?void 0:_e.offset)!=null?bt:"var(--anchor-offset, 0)",$),Ct=L((At=_e==null?void 0:_e.padding)!=null?At:"var(--anchor-padding, 0)",$);return{..._e,gap:St,offset:Et,padding:Ct}}function L(_e,$,xt=void 0){let bt=p$3(),At=o$3((Pt,wt)=>{if(Pt==null)return[xt,null];if(typeof Pt=="number")return[Pt,null];if(typeof Pt=="string"){if(!wt)return[xt,null];let kt=J$1(Pt,wt);return[kt,Rt=>{let ht=D$1(Pt);{let vt=ht.map(Ft=>window.getComputedStyle(wt).getPropertyValue(Ft));bt.requestAnimationFrame(function Ft(){bt.nextFrame(Ft);let Ht=!1;for(let[Nt,$t]of ht.entries()){let Mt=window.getComputedStyle(wt).getPropertyValue($t);if(vt[Nt]!==Mt){vt[Nt]=Mt,Ht=!0;break}}if(!Ht)return;let qt=J$1(Pt,wt);kt!==qt&&(Rt(qt),kt=qt)})}return bt.dispose}]}return[xt,null]}),St=reactExports.useMemo(()=>At(_e,$)[0],[_e,$]),[Et=St,Ct]=reactExports.useState();return n$3(()=>{let[Pt,wt]=At(_e,$);if(Ct(Pt),!!wt)return wt(Ct)},[_e,$]),Et}function D$1(_e){let $=/var\((.*)\)/.exec(_e);if($){let xt=$[1].indexOf(",");if(xt===-1)return[$[1]];let bt=$[1].slice(0,xt).trim(),At=$[1].slice(xt+1).trim();return At?[bt,...D$1(At)]:[bt]}return[]}function J$1(_e,$){let xt=document.createElement("div");$.appendChild(xt),xt.style.setProperty("margin-top","0px","important"),xt.style.setProperty("margin-top",_e,"important");let bt=parseFloat(window.getComputedStyle(xt).marginTop)||0;return $.removeChild(xt),bt}let n=reactExports.createContext(null);n.displayName="OpenClosedContext";var i=(_e=>(_e[_e.Open=1]="Open",_e[_e.Closed=2]="Closed",_e[_e.Closing=4]="Closing",_e[_e.Opening=8]="Opening",_e))(i||{});function u$1(){return reactExports.useContext(n)}function c$2({value:_e,children:$}){return React.createElement(n.Provider,{value:_e},$)}function u(_e){throw new Error("Unexpected object: "+_e)}var c$1=(_e=>(_e[_e.First=0]="First",_e[_e.Previous=1]="Previous",_e[_e.Next=2]="Next",_e[_e.Last=3]="Last",_e[_e.Specific=4]="Specific",_e[_e.Nothing=5]="Nothing",_e))(c$1||{});function f(_e,$){let xt=$.resolveItems();if(xt.length<=0)return null;let bt=$.resolveActiveIndex(),At=bt??-1;switch(_e.focus){case 0:{for(let St=0;St<xt.length;++St)if(!$.resolveDisabled(xt[St],St,xt))return St;return bt}case 1:{At===-1&&(At=xt.length);for(let St=At-1;St>=0;--St)if(!$.resolveDisabled(xt[St],St,xt))return St;return bt}case 2:{for(let St=At+1;St<xt.length;++St)if(!$.resolveDisabled(xt[St],St,xt))return St;return bt}case 3:{for(let St=xt.length-1;St>=0;--St)if(!$.resolveDisabled(xt[St],St,xt))return St;return bt}case 4:{for(let St=0;St<xt.length;++St)if($.resolveId(xt[St],St,xt)===_e.id)return St;return bt}case 5:return null;default:u(_e)}}function c(_e){let $=o$3(_e),xt=reactExports.useRef(!1);reactExports.useEffect(()=>(xt.current=!1,()=>{xt.current=!0,t$3(()=>{xt.current&&$()})}),[$])}function s$1(){let _e=typeof document>"u";return"useSyncExternalStore"in t$4?($=>$.useSyncExternalStore)(t$4)(()=>()=>{},()=>!1,()=>!_e):!1}function l(){let _e=s$1(),[$,xt]=reactExports.useState(s$5.isHandoffComplete);return $&&s$5.isHandoffComplete===!1&&xt(!1),reactExports.useEffect(()=>{$!==!0&&xt(!0)},[$]),reactExports.useEffect(()=>s$5.handoff(),[]),_e?!1:$}let e=reactExports.createContext(!1);function a$1(){return reactExports.useContext(e)}function D(_e){let $=a$1(),xt=reactExports.useContext(v),bt=n$1(_e),[At,St]=reactExports.useState(()=>{var Et;if(!$&&xt!==null)return(Et=xt.current)!=null?Et:null;if(s$5.isServer)return null;let Ct=bt==null?void 0:bt.getElementById("headlessui-portal-root");if(Ct)return Ct;if(bt===null)return null;let Pt=bt.createElement("div");return Pt.setAttribute("id","headlessui-portal-root"),bt.body.appendChild(Pt)});return reactExports.useEffect(()=>{At!==null&&(bt!=null&&bt.body.contains(At)||bt==null||bt.body.appendChild(At))},[At,bt]),reactExports.useEffect(()=>{$||xt!==null&&St(xt.current)},[xt,St,$]),At}let M=reactExports.Fragment,N=I$3(function(_e,$){let xt=_e,bt=reactExports.useRef(null),At=y$4(T$2(kt=>{bt.current=kt}),$),St=n$1(bt),Et=D(bt),[Ct]=reactExports.useState(()=>{var kt;return s$5.isServer?null:(kt=St==null?void 0:St.createElement("div"))!=null?kt:null}),Pt=reactExports.useContext(y),wt=l();return n$3(()=>{!Et||!Ct||Et.contains(Ct)||(Ct.setAttribute("data-headlessui-portal",""),Et.appendChild(Ct))},[Et,Ct]),n$3(()=>{if(Ct&&Pt)return Pt.register(Ct)},[Pt,Ct]),c(()=>{var kt;!Et||!Ct||(Ct instanceof Node&&Et.contains(Ct)&&Et.removeChild(Ct),Et.childNodes.length<=0&&((kt=Et.parentElement)==null||kt.removeChild(Et)))}),wt?!Et||!Ct?null:reactDomExports.createPortal(H$1({ourProps:{ref:At},theirProps:xt,slot:{},defaultTag:M,name:"Portal"}),Ct):null});function S(_e,$){let xt=y$4($),{enabled:bt=!0,...At}=_e;return bt?React.createElement(N,{...At,ref:xt}):H$1({ourProps:{ref:xt},theirProps:At,slot:{},defaultTag:M,name:"Portal"})}let j$1=reactExports.Fragment,v=reactExports.createContext(null);function W$1(_e,$){let{target:xt,...bt}=_e,At={ref:y$4($)};return React.createElement(v.Provider,{value:xt},H$1({ourProps:At,theirProps:bt,defaultTag:j$1,name:"Popover.Group"}))}let y=reactExports.createContext(null),I=I$3(S),J=I$3(W$1),te=Object.assign(I,{Group:J});function p(_e,$){let xt=reactExports.useRef({left:0,top:0});if(n$3(()=>{let At=$.current;if(!At)return;let St=At.getBoundingClientRect();St&&(xt.current=St)},[_e]),$.current==null||!_e||$.current===document.activeElement)return!1;let bt=$.current.getBoundingClientRect();return bt.top!==xt.current.top||bt.left!==xt.current.left}let a=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o(_e){var $,xt;let bt=($=_e.innerText)!=null?$:"",At=_e.cloneNode(!0);if(!(At instanceof HTMLElement))return bt;let St=!1;for(let Ct of At.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))Ct.remove(),St=!0;let Et=St?(xt=At.innerText)!=null?xt:"":bt;return a.test(Et)&&(Et=Et.replace(a,"")),Et}function g(_e){let $=_e.getAttribute("aria-label");if(typeof $=="string")return $.trim();let xt=_e.getAttribute("aria-labelledby");if(xt){let bt=xt.split(" ").map(At=>{let St=document.getElementById(At);if(St){let Et=St.getAttribute("aria-label");return typeof Et=="string"?Et.trim():o(St).trim()}return null}).filter(Boolean);if(bt.length>0)return bt.join(", ")}return o(_e).trim()}function s(_e){let $=reactExports.useRef(""),xt=reactExports.useRef("");return o$3(()=>{let bt=_e.current;if(!bt)return"";let At=bt.innerText;if($.current===At)return xt.current;let St=g(bt).trim().toLowerCase();return $.current=At,xt.current=St,St})}var Je=(_e=>(_e[_e.Open=0]="Open",_e[_e.Closed=1]="Closed",_e))(Je||{}),Ve=(_e=>(_e[_e.Pointer=0]="Pointer",_e[_e.Other=1]="Other",_e))(Ve||{}),Xe=(_e=>(_e[_e.OpenMenu=0]="OpenMenu",_e[_e.CloseMenu=1]="CloseMenu",_e[_e.GoToItem=2]="GoToItem",_e[_e.Search=3]="Search",_e[_e.ClearSearch=4]="ClearSearch",_e[_e.RegisterItem=5]="RegisterItem",_e[_e.UnregisterItem=6]="UnregisterItem",_e))(Xe||{});function W(_e,$=xt=>xt){let xt=_e.activeItemIndex!==null?_e.items[_e.activeItemIndex]:null,bt=_($(_e.items.slice()),St=>St.dataRef.current.domRef.current),At=xt?bt.indexOf(xt):null;return At===-1&&(At=null),{items:bt,activeItemIndex:At}}let $e={1(_e){return _e.menuState===1?_e:{..._e,activeItemIndex:null,menuState:1}},0(_e){return _e.menuState===0?_e:{..._e,__demoMode:!1,menuState:0}},2:(_e,$)=>{var xt,bt,At,St,Et;if(_e.menuState===1)return _e;let Ct={..._e,searchQuery:"",activationTrigger:(xt=$.trigger)!=null?xt:1,__demoMode:!1};if($.focus===c$1.Nothing)return{...Ct,activeItemIndex:null};if($.focus===c$1.Specific)return{...Ct,activeItemIndex:_e.items.findIndex(kt=>kt.id===$.id)};if($.focus===c$1.Previous){let kt=_e.activeItemIndex;if(kt!==null){let Rt=_e.items[kt].dataRef.current.domRef,ht=f($,{resolveItems:()=>_e.items,resolveActiveIndex:()=>_e.activeItemIndex,resolveId:vt=>vt.id,resolveDisabled:vt=>vt.dataRef.current.disabled});if(ht!==null){let vt=_e.items[ht].dataRef.current.domRef;if(((bt=Rt.current)==null?void 0:bt.previousElementSibling)===vt.current||((At=vt.current)==null?void 0:At.previousElementSibling)===null)return{...Ct,activeItemIndex:ht}}}}else if($.focus===c$1.Next){let kt=_e.activeItemIndex;if(kt!==null){let Rt=_e.items[kt].dataRef.current.domRef,ht=f($,{resolveItems:()=>_e.items,resolveActiveIndex:()=>_e.activeItemIndex,resolveId:vt=>vt.id,resolveDisabled:vt=>vt.dataRef.current.disabled});if(ht!==null){let vt=_e.items[ht].dataRef.current.domRef;if(((St=Rt.current)==null?void 0:St.nextElementSibling)===vt.current||((Et=vt.current)==null?void 0:Et.nextElementSibling)===null)return{...Ct,activeItemIndex:ht}}}}let Pt=W(_e),wt=f($,{resolveItems:()=>Pt.items,resolveActiveIndex:()=>Pt.activeItemIndex,resolveId:kt=>kt.id,resolveDisabled:kt=>kt.dataRef.current.disabled});return{...Ct,...Pt,activeItemIndex:wt}},3:(_e,$)=>{let xt=_e.searchQuery!==""?0:1,bt=_e.searchQuery+$.value.toLowerCase(),At=(_e.activeItemIndex!==null?_e.items.slice(_e.activeItemIndex+xt).concat(_e.items.slice(0,_e.activeItemIndex+xt)):_e.items).find(Et=>{var Ct;return((Ct=Et.dataRef.current.textValue)==null?void 0:Ct.startsWith(bt))&&!Et.dataRef.current.disabled}),St=At?_e.items.indexOf(At):-1;return St===-1||St===_e.activeItemIndex?{..._e,searchQuery:bt}:{..._e,searchQuery:bt,activeItemIndex:St,activationTrigger:1}},4(_e){return _e.searchQuery===""?_e:{..._e,searchQuery:"",searchActiveItemIndex:null}},5:(_e,$)=>{let xt=W(_e,bt=>[...bt,{id:$.id,dataRef:$.dataRef}]);return{..._e,...xt}},6:(_e,$)=>{let xt=W(_e,bt=>{let At=bt.findIndex(St=>St.id===$.id);return At!==-1&&bt.splice(At,1),bt});return{..._e,...xt,activationTrigger:1}}},j=reactExports.createContext(null);j.displayName="MenuContext";function B(_e){let $=reactExports.useContext(j);if($===null){let xt=new Error(`<${_e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(xt,B),xt}return $}function qe(_e,$){return u$6($.type,$e,_e,$)}let ze=reactExports.Fragment;function Ye(_e,$){let{__demoMode:xt=!1,...bt}=_e,At=reactExports.useReducer(qe,{__demoMode:xt,menuState:xt?0:1,buttonRef:reactExports.createRef(),itemsRef:reactExports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:St,itemsRef:Et,buttonRef:Ct},Pt]=At,wt=y$4($);F$2(St===0,[Ct,Et],(vt,Ft)=>{var Ht;Pt({type:1}),A$1(Ft,h.Loose)||(vt.preventDefault(),(Ht=Ct.current)==null||Ht.focus())});let kt=o$3(()=>{Pt({type:1})}),Rt=reactExports.useMemo(()=>({open:St===0,close:kt}),[St,kt]),ht={ref:wt};return React.createElement(ve,null,React.createElement(j.Provider,{value:At},React.createElement(c$2,{value:u$6(St,{0:i.Open,1:i.Closed})},H$1({ourProps:ht,theirProps:bt,slot:Rt,defaultTag:ze,name:"Menu"}))))}let Ze="button";function et(_e,$){var xt;let bt=reactExports.useId(),{id:At=`headlessui-menu-button-${bt}`,disabled:St=!1,autoFocus:Et=!1,...Ct}=_e,[Pt,wt]=B("Menu.Button"),kt=Fe(),Rt=y$4(Pt.buttonRef,$,ye()),ht=o$3(jt=>{switch(jt.key){case o$2.Space:case o$2.Enter:case o$2.ArrowDown:jt.preventDefault(),jt.stopPropagation(),reactDomExports.flushSync(()=>wt({type:0})),wt({type:2,focus:c$1.First});break;case o$2.ArrowUp:jt.preventDefault(),jt.stopPropagation(),reactDomExports.flushSync(()=>wt({type:0})),wt({type:2,focus:c$1.Last});break}}),vt=o$3(jt=>{switch(jt.key){case o$2.Space:jt.preventDefault();break}}),Ft=o$3(jt=>{var Gt;if(r$1(jt.currentTarget))return jt.preventDefault();St||(Pt.menuState===0?(reactDomExports.flushSync(()=>wt({type:1})),(Gt=Pt.buttonRef.current)==null||Gt.focus({preventScroll:!0})):(jt.preventDefault(),wt({type:0})))}),{isFocusVisible:Ht,focusProps:qt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:Et}),{isHovered:Nt,hoverProps:$t}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:St}),{pressed:Mt,pressProps:Bt}=w$1({disabled:St}),_t=reactExports.useMemo(()=>({open:Pt.menuState===0,active:Mt||Pt.menuState===0,disabled:St,hover:Nt,focus:Ht,autofocus:Et}),[Pt,Nt,Ht,Mt,St,Et]),Kt=D$3(kt(),{ref:Rt,id:At,type:T(_e,Pt.buttonRef),"aria-haspopup":"menu","aria-controls":(xt=Pt.itemsRef.current)==null?void 0:xt.id,"aria-expanded":Pt.menuState===0,disabled:St||void 0,autoFocus:Et,onKeyDown:ht,onKeyUp:vt,onClick:Ft},qt,$t,Bt);return H$1({ourProps:Kt,theirProps:Ct,slot:_t,defaultTag:Ze,name:"Menu.Button"})}let tt="div",nt=O$1.RenderStrategy|O$1.Static;function rt(_e,$){var xt,bt;let At=reactExports.useId(),{id:St=`headlessui-menu-items-${At}`,anchor:Et,portal:Ct=!1,modal:Pt=!0,transition:wt=!1,...kt}=_e,Rt=xe(Et),[ht,vt]=B("Menu.Items"),[Ft,Ht]=Re(Rt),qt=be(),Nt=y$4(ht.itemsRef,$,Rt?Ft:null),$t=n$1(ht.itemsRef);Rt&&(Ct=!0);let Mt=u$1(),[Bt,_t]=V(wt,ht.itemsRef,Mt!==null?(Mt&i.Open)===i.Open:ht.menuState===0);m$1(Bt,ht.buttonRef,()=>{vt({type:1})});let Kt=ht.__demoMode?!1:Pt&&ht.menuState===0;f$1(Kt,$t);let jt=ht.__demoMode?!1:Pt&&ht.menuState===0;y$3(jt,{allowed:o$3(()=>[ht.buttonRef.current,ht.itemsRef.current])});let Gt=ht.menuState!==0,Qt=p(Gt,ht.buttonRef)?!1:Bt;reactExports.useEffect(()=>{let Xt=ht.itemsRef.current;Xt&&ht.menuState===0&&Xt!==($t==null?void 0:$t.activeElement)&&Xt.focus({preventScroll:!0})},[ht.menuState,ht.itemsRef,$t,ht.itemsRef.current]),F(ht.menuState===0,{container:ht.itemsRef.current,accept(Xt){return Xt.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:Xt.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(Xt){Xt.setAttribute("role","none")}});let ln=p$3(),en=o$3(Xt=>{var Yt,un,Ut;switch(ln.dispose(),Xt.key){case o$2.Space:if(ht.searchQuery!=="")return Xt.preventDefault(),Xt.stopPropagation(),vt({type:3,value:Xt.key});case o$2.Enter:if(Xt.preventDefault(),Xt.stopPropagation(),vt({type:1}),ht.activeItemIndex!==null){let{dataRef:Lt}=ht.items[ht.activeItemIndex];(un=(Yt=Lt.current)==null?void 0:Yt.domRef.current)==null||un.click()}G(ht.buttonRef.current);break;case o$2.ArrowDown:return Xt.preventDefault(),Xt.stopPropagation(),vt({type:2,focus:c$1.Next});case o$2.ArrowUp:return Xt.preventDefault(),Xt.stopPropagation(),vt({type:2,focus:c$1.Previous});case o$2.Home:case o$2.PageUp:return Xt.preventDefault(),Xt.stopPropagation(),vt({type:2,focus:c$1.First});case o$2.End:case o$2.PageDown:return Xt.preventDefault(),Xt.stopPropagation(),vt({type:2,focus:c$1.Last});case o$2.Escape:Xt.preventDefault(),Xt.stopPropagation(),reactDomExports.flushSync(()=>vt({type:1})),(Ut=ht.buttonRef.current)==null||Ut.focus({preventScroll:!0});break;case o$2.Tab:Xt.preventDefault(),Xt.stopPropagation(),reactDomExports.flushSync(()=>vt({type:1})),j$2(ht.buttonRef.current,Xt.shiftKey?F$3.Previous:F$3.Next);break;default:Xt.key.length===1&&(vt({type:3,value:Xt.key}),ln.setTimeout(()=>vt({type:4}),350));break}}),gn=o$3(Xt=>{switch(Xt.key){case o$2.Space:Xt.preventDefault();break}}),tn=reactExports.useMemo(()=>({open:ht.menuState===0}),[ht.menuState]),bn=D$3(Rt?qt():{},{"aria-activedescendant":ht.activeItemIndex===null||(xt=ht.items[ht.activeItemIndex])==null?void 0:xt.id,"aria-labelledby":(bt=ht.buttonRef.current)==null?void 0:bt.id,id:St,onKeyDown:en,onKeyUp:gn,role:"menu",tabIndex:ht.menuState===0?0:void 0,ref:Nt,style:{...kt.style,...Ht,"--button-width":f$4(ht.buttonRef,!0).width},...A(_t)});return React.createElement(te,{enabled:Ct?_e.static||Bt:!1},H$1({ourProps:bn,theirProps:kt,slot:tn,defaultTag:tt,features:nt,visible:Qt,name:"Menu.Items"}))}let ot=reactExports.Fragment;function at(_e,$){let xt=reactExports.useId(),{id:bt=`headlessui-menu-item-${xt}`,disabled:At=!1,...St}=_e,[Et,Ct]=B("Menu.Item"),Pt=Et.activeItemIndex!==null?Et.items[Et.activeItemIndex].id===bt:!1,wt=reactExports.useRef(null),kt=y$4($,wt);n$3(()=>{if(!Et.__demoMode&&Et.menuState===0&&Pt&&Et.activationTrigger!==0)return o$4().requestAnimationFrame(()=>{var Qt,ln;(ln=(Qt=wt.current)==null?void 0:Qt.scrollIntoView)==null||ln.call(Qt,{block:"nearest"})})},[Et.__demoMode,wt,Pt,Et.menuState,Et.activationTrigger,Et.activeItemIndex]);let Rt=s(wt),ht=reactExports.useRef({disabled:At,domRef:wt,get textValue(){return Rt()}});n$3(()=>{ht.current.disabled=At},[ht,At]),n$3(()=>(Ct({type:5,id:bt,dataRef:ht}),()=>Ct({type:6,id:bt})),[ht,bt]);let vt=o$3(()=>{Ct({type:1})}),Ft=o$3(Qt=>{if(At)return Qt.preventDefault();Ct({type:1}),G(Et.buttonRef.current)}),Ht=o$3(()=>{if(At)return Ct({type:2,focus:c$1.Nothing});Ct({type:2,focus:c$1.Specific,id:bt})}),qt=u$2(),Nt=o$3(Qt=>{qt.update(Qt),!At&&(Pt||Ct({type:2,focus:c$1.Specific,id:bt,trigger:0}))}),$t=o$3(Qt=>{qt.wasMoved(Qt)&&(At||Pt||Ct({type:2,focus:c$1.Specific,id:bt,trigger:0}))}),Mt=o$3(Qt=>{qt.wasMoved(Qt)&&(At||Pt&&Ct({type:2,focus:c$1.Nothing}))}),[Bt,_t]=z(),[Kt,jt]=U$1(),Gt=reactExports.useMemo(()=>({active:Pt,focus:Pt,disabled:At,close:vt}),[Pt,At,vt]);return React.createElement(_t,null,React.createElement(jt,null,H$1({ourProps:{id:bt,ref:kt,role:"menuitem",tabIndex:At===!0?void 0:-1,"aria-disabled":At===!0?!0:void 0,"aria-labelledby":Bt,"aria-describedby":Kt,disabled:void 0,onClick:Ft,onFocus:Ht,onPointerEnter:Nt,onMouseEnter:Nt,onPointerMove:$t,onMouseMove:$t,onPointerLeave:Mt,onMouseLeave:Mt},theirProps:St,slot:Gt,defaultTag:ot,name:"Menu.Item"})))}let it="div";function st(_e,$){let[xt,bt]=z();return React.createElement(bt,null,H$1({ourProps:{ref:$,"aria-labelledby":xt,role:"group"},theirProps:_e,slot:{},defaultTag:it,name:"Menu.Section"}))}let lt="header";function ut(_e,$){let xt=reactExports.useId(),{id:bt=`headlessui-menu-heading-${xt}`,...At}=_e,St=P$1();n$3(()=>St.register(bt),[bt,St.register]);let Et={id:bt,ref:$,role:"presentation",...St.props};return H$1({ourProps:Et,theirProps:At,slot:{},defaultTag:lt,name:"Menu.Heading"})}let pt="div";function dt(_e,$){return H$1({ourProps:{ref:$,role:"separator"},theirProps:_e,slot:{},defaultTag:pt,name:"Menu.Separator"})}let mt=I$3(Ye),ct=I$3(et),ft=I$3(rt),Tt=I$3(at),yt=I$3(st),gt=I$3(ut),It=I$3(dt),Zt=Object.assign(mt,{Button:ct,Items:ft,Item:Tt,Section:yt,Heading:gt,Separator:It});function ChevronDownIcon({title:_e,titleId:$,...xt},bt){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:bt,"aria-labelledby":$},xt),_e?reactExports.createElement("title",{id:$},_e):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const ForwardRef=reactExports.forwardRef(ChevronDownIcon);function bind(_e,$){return function(){return _e.apply($,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(_e=>$=>{const xt=toString.call($);return _e[xt]||(_e[xt]=xt.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=_e=>(_e=_e.toLowerCase(),$=>kindOf($)===_e),typeOfTest=_e=>$=>typeof $===_e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(_e){return _e!==null&&!isUndefined(_e)&&_e.constructor!==null&&!isUndefined(_e.constructor)&&isFunction(_e.constructor.isBuffer)&&_e.constructor.isBuffer(_e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(_e){let $;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?$=ArrayBuffer.isView(_e):$=_e&&_e.buffer&&isArrayBuffer(_e.buffer),$}const isString$1=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=_e=>_e!==null&&typeof _e=="object",isBoolean=_e=>_e===!0||_e===!1,isPlainObject=_e=>{if(kindOf(_e)!=="object")return!1;const $=getPrototypeOf(_e);return($===null||$===Object.prototype||Object.getPrototypeOf($)===null)&&!(Symbol.toStringTag in _e)&&!(Symbol.iterator in _e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=_e=>isObject(_e)&&isFunction(_e.pipe),isFormData=_e=>{let $;return _e&&(typeof FormData=="function"&&_e instanceof FormData||isFunction(_e.append)&&(($=kindOf(_e))==="formdata"||$==="object"&&isFunction(_e.toString)&&_e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=_e=>_e.trim?_e.trim():_e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(_e,$,{allOwnKeys:xt=!1}={}){if(_e===null||typeof _e>"u")return;let bt,At;if(typeof _e!="object"&&(_e=[_e]),isArray(_e))for(bt=0,At=_e.length;bt<At;bt++)$.call(null,_e[bt],bt,_e);else{const St=xt?Object.getOwnPropertyNames(_e):Object.keys(_e),Et=St.length;let Ct;for(bt=0;bt<Et;bt++)Ct=St[bt],$.call(null,_e[Ct],Ct,_e)}}function findKey(_e,$){$=$.toLowerCase();const xt=Object.keys(_e);let bt=xt.length,At;for(;bt-- >0;)if(At=xt[bt],$===At.toLowerCase())return At;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=_e=>!isUndefined(_e)&&_e!==_global;function merge(){const{caseless:_e}=isContextDefined(this)&&this||{},$={},xt=(bt,At)=>{const St=_e&&findKey($,At)||At;isPlainObject($[St])&&isPlainObject(bt)?$[St]=merge($[St],bt):isPlainObject(bt)?$[St]=merge({},bt):isArray(bt)?$[St]=bt.slice():$[St]=bt};for(let bt=0,At=arguments.length;bt<At;bt++)arguments[bt]&&forEach(arguments[bt],xt);return $}const extend=(_e,$,xt,{allOwnKeys:bt}={})=>(forEach($,(At,St)=>{xt&&isFunction(At)?_e[St]=bind(At,xt):_e[St]=At},{allOwnKeys:bt}),_e),stripBOM=_e=>(_e.charCodeAt(0)===65279&&(_e=_e.slice(1)),_e),inherits=(_e,$,xt,bt)=>{_e.prototype=Object.create($.prototype,bt),_e.prototype.constructor=_e,Object.defineProperty(_e,"super",{value:$.prototype}),xt&&Object.assign(_e.prototype,xt)},toFlatObject=(_e,$,xt,bt)=>{let At,St,Et;const Ct={};if($=$||{},_e==null)return $;do{for(At=Object.getOwnPropertyNames(_e),St=At.length;St-- >0;)Et=At[St],(!bt||bt(Et,_e,$))&&!Ct[Et]&&($[Et]=_e[Et],Ct[Et]=!0);_e=xt!==!1&&getPrototypeOf(_e)}while(_e&&(!xt||xt(_e,$))&&_e!==Object.prototype);return $},endsWith=(_e,$,xt)=>{_e=String(_e),(xt===void 0||xt>_e.length)&&(xt=_e.length),xt-=$.length;const bt=_e.indexOf($,xt);return bt!==-1&&bt===xt},toArray=_e=>{if(!_e)return null;if(isArray(_e))return _e;let $=_e.length;if(!isNumber($))return null;const xt=new Array($);for(;$-- >0;)xt[$]=_e[$];return xt},isTypedArray=(_e=>$=>_e&&$ instanceof _e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(_e,$)=>{const bt=(_e&&_e[Symbol.iterator]).call(_e);let At;for(;(At=bt.next())&&!At.done;){const St=At.value;$.call(_e,St[0],St[1])}},matchAll=(_e,$)=>{let xt;const bt=[];for(;(xt=_e.exec($))!==null;)bt.push(xt);return bt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=_e=>_e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(xt,bt,At){return bt.toUpperCase()+At}),hasOwnProperty=(({hasOwnProperty:_e})=>($,xt)=>_e.call($,xt))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(_e,$)=>{const xt=Object.getOwnPropertyDescriptors(_e),bt={};forEach(xt,(At,St)=>{let Et;(Et=$(At,St,_e))!==!1&&(bt[St]=Et||At)}),Object.defineProperties(_e,bt)},freezeMethods=_e=>{reduceDescriptors(_e,($,xt)=>{if(isFunction(_e)&&["arguments","caller","callee"].indexOf(xt)!==-1)return!1;const bt=_e[xt];if(isFunction(bt)){if($.enumerable=!1,"writable"in $){$.writable=!1;return}$.set||($.set=()=>{throw Error("Can not rewrite read-only method '"+xt+"'")})}})},toObjectSet=(_e,$)=>{const xt={},bt=At=>{At.forEach(St=>{xt[St]=!0})};return isArray(_e)?bt(_e):bt(String(_e).split($)),xt},noop$1=()=>{},toFiniteNumber=(_e,$)=>_e!=null&&Number.isFinite(_e=+_e)?_e:$,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(_e=16,$=ALPHABET.ALPHA_DIGIT)=>{let xt="";const{length:bt}=$;for(;_e--;)xt+=$[Math.random()*bt|0];return xt};function isSpecCompliantForm(_e){return!!(_e&&isFunction(_e.append)&&_e[Symbol.toStringTag]==="FormData"&&_e[Symbol.iterator])}const toJSONObject=_e=>{const $=new Array(10),xt=(bt,At)=>{if(isObject(bt)){if($.indexOf(bt)>=0)return;if(!("toJSON"in bt)){$[At]=bt;const St=isArray(bt)?[]:{};return forEach(bt,(Et,Ct)=>{const Pt=xt(Et,At+1);!isUndefined(Pt)&&(St[Ct]=Pt)}),$[At]=void 0,St}}return bt};return xt(_e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=_e=>_e&&(isObject(_e)||isFunction(_e))&&isFunction(_e.then)&&isFunction(_e.catch),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(_e,$,xt,bt,At){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=_e,this.name="AxiosError",$&&(this.code=$),xt&&(this.config=xt),bt&&(this.request=bt),At&&(this.response=At)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(_e=>{descriptors[_e]={value:_e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(_e,$,xt,bt,At,St)=>{const Et=Object.create(prototype$1);return utils$1.toFlatObject(_e,Et,function(Pt){return Pt!==Error.prototype},Ct=>Ct!=="isAxiosError"),AxiosError.call(Et,_e.message,$,xt,bt,At),Et.cause=_e,Et.name=_e.name,St&&Object.assign(Et,St),Et};const httpAdapter=null;function isVisitable(_e){return utils$1.isPlainObject(_e)||utils$1.isArray(_e)}function removeBrackets(_e){return utils$1.endsWith(_e,"[]")?_e.slice(0,-2):_e}function renderKey(_e,$,xt){return _e?_e.concat($).map(function(At,St){return At=removeBrackets(At),!xt&&St?"["+At+"]":At}).join(xt?".":""):$}function isFlatArray(_e){return utils$1.isArray(_e)&&!_e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function($){return/^is[A-Z]/.test($)});function toFormData(_e,$,xt){if(!utils$1.isObject(_e))throw new TypeError("target must be an object");$=$||new FormData,xt=utils$1.toFlatObject(xt,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ht,qt){return!utils$1.isUndefined(qt[Ht])});const bt=xt.metaTokens,At=xt.visitor||kt,St=xt.dots,Et=xt.indexes,Pt=(xt.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm($);if(!utils$1.isFunction(At))throw new TypeError("visitor must be a function");function wt(Ft){if(Ft===null)return"";if(utils$1.isDate(Ft))return Ft.toISOString();if(!Pt&&utils$1.isBlob(Ft))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(Ft)||utils$1.isTypedArray(Ft)?Pt&&typeof Blob=="function"?new Blob([Ft]):Buffer.from(Ft):Ft}function kt(Ft,Ht,qt){let Nt=Ft;if(Ft&&!qt&&typeof Ft=="object"){if(utils$1.endsWith(Ht,"{}"))Ht=bt?Ht:Ht.slice(0,-2),Ft=JSON.stringify(Ft);else if(utils$1.isArray(Ft)&&isFlatArray(Ft)||(utils$1.isFileList(Ft)||utils$1.endsWith(Ht,"[]"))&&(Nt=utils$1.toArray(Ft)))return Ht=removeBrackets(Ht),Nt.forEach(function(Mt,Bt){!(utils$1.isUndefined(Mt)||Mt===null)&&$.append(Et===!0?renderKey([Ht],Bt,St):Et===null?Ht:Ht+"[]",wt(Mt))}),!1}return isVisitable(Ft)?!0:($.append(renderKey(qt,Ht,St),wt(Ft)),!1)}const Rt=[],ht=Object.assign(predicates,{defaultVisitor:kt,convertValue:wt,isVisitable});function vt(Ft,Ht){if(!utils$1.isUndefined(Ft)){if(Rt.indexOf(Ft)!==-1)throw Error("Circular reference detected in "+Ht.join("."));Rt.push(Ft),utils$1.forEach(Ft,function(Nt,$t){(!(utils$1.isUndefined(Nt)||Nt===null)&&At.call($,Nt,utils$1.isString($t)?$t.trim():$t,Ht,ht))===!0&&vt(Nt,Ht?Ht.concat($t):[$t])}),Rt.pop()}}if(!utils$1.isObject(_e))throw new TypeError("data must be an object");return vt(_e),$}function encode$1(_e){const $={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(_e).replace(/[!'()~]|%20|%00/g,function(bt){return $[bt]})}function AxiosURLSearchParams(_e,$){this._pairs=[],_e&&toFormData(_e,this,$)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function($,xt){this._pairs.push([$,xt])};prototype.toString=function($){const xt=$?function(bt){return $.call(this,bt,encode$1)}:encode$1;return this._pairs.map(function(At){return xt(At[0])+"="+xt(At[1])},"").join("&")};function encode(_e){return encodeURIComponent(_e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(_e,$,xt){if(!$)return _e;const bt=xt&&xt.encode||encode,At=xt&&xt.serialize;let St;if(At?St=At($,xt):St=utils$1.isURLSearchParams($)?$.toString():new AxiosURLSearchParams($,xt).toString(bt),St){const Et=_e.indexOf("#");Et!==-1&&(_e=_e.slice(0,Et)),_e+=(_e.indexOf("?")===-1?"?":"&")+St}return _e}class InterceptorManager{constructor(){this.handlers=[]}use($,xt,bt){return this.handlers.push({fulfilled:$,rejected:xt,synchronous:bt?bt.synchronous:!1,runWhen:bt?bt.runWhen:null}),this.handlers.length-1}eject($){this.handlers[$]&&(this.handlers[$]=null)}clear(){this.handlers&&(this.handlers=[])}forEach($){utils$1.forEach(this.handlers,function(bt){bt!==null&&$(bt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(_e=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(_e)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(_e,$){return toFormData(_e,new platform.classes.URLSearchParams,Object.assign({visitor:function(xt,bt,At,St){return platform.isNode&&utils$1.isBuffer(xt)?(this.append(bt,xt.toString("base64")),!1):St.defaultVisitor.apply(this,arguments)}},$))}function parsePropPath(_e){return utils$1.matchAll(/\w+|\[(\w*)]/g,_e).map($=>$[0]==="[]"?"":$[1]||$[0])}function arrayToObject(_e){const $={},xt=Object.keys(_e);let bt;const At=xt.length;let St;for(bt=0;bt<At;bt++)St=xt[bt],$[St]=_e[St];return $}function formDataToJSON(_e){function $(xt,bt,At,St){let Et=xt[St++];if(Et==="__proto__")return!0;const Ct=Number.isFinite(+Et),Pt=St>=xt.length;return Et=!Et&&utils$1.isArray(At)?At.length:Et,Pt?(utils$1.hasOwnProp(At,Et)?At[Et]=[At[Et],bt]:At[Et]=bt,!Ct):((!At[Et]||!utils$1.isObject(At[Et]))&&(At[Et]=[]),$(xt,bt,At[Et],St)&&utils$1.isArray(At[Et])&&(At[Et]=arrayToObject(At[Et])),!Ct)}if(utils$1.isFormData(_e)&&utils$1.isFunction(_e.entries)){const xt={};return utils$1.forEachEntry(_e,(bt,At)=>{$(parsePropPath(bt),At,xt,0)}),xt}return null}function stringifySafely(_e,$,xt){if(utils$1.isString(_e))try{return($||JSON.parse)(_e),utils$1.trim(_e)}catch(bt){if(bt.name!=="SyntaxError")throw bt}return(xt||JSON.stringify)(_e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function($,xt){const bt=xt.getContentType()||"",At=bt.indexOf("application/json")>-1,St=utils$1.isObject($);if(St&&utils$1.isHTMLForm($)&&($=new FormData($)),utils$1.isFormData($))return At?JSON.stringify(formDataToJSON($)):$;if(utils$1.isArrayBuffer($)||utils$1.isBuffer($)||utils$1.isStream($)||utils$1.isFile($)||utils$1.isBlob($)||utils$1.isReadableStream($))return $;if(utils$1.isArrayBufferView($))return $.buffer;if(utils$1.isURLSearchParams($))return xt.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),$.toString();let Ct;if(St){if(bt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm($,this.formSerializer).toString();if((Ct=utils$1.isFileList($))||bt.indexOf("multipart/form-data")>-1){const Pt=this.env&&this.env.FormData;return toFormData(Ct?{"files[]":$}:$,Pt&&new Pt,this.formSerializer)}}return St||At?(xt.setContentType("application/json",!1),stringifySafely($)):$}],transformResponse:[function($){const xt=this.transitional||defaults.transitional,bt=xt&&xt.forcedJSONParsing,At=this.responseType==="json";if(utils$1.isResponse($)||utils$1.isReadableStream($))return $;if($&&utils$1.isString($)&&(bt&&!this.responseType||At)){const Et=!(xt&&xt.silentJSONParsing)&&At;try{return JSON.parse($)}catch(Ct){if(Et)throw Ct.name==="SyntaxError"?AxiosError.from(Ct,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):Ct}}return $}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function($){return $>=200&&$<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],_e=>{defaults.headers[_e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=_e=>{const $={};let xt,bt,At;return _e&&_e.split(`
`).forEach(function(Et){At=Et.indexOf(":"),xt=Et.substring(0,At).trim().toLowerCase(),bt=Et.substring(At+1).trim(),!(!xt||$[xt]&&ignoreDuplicateOf[xt])&&(xt==="set-cookie"?$[xt]?$[xt].push(bt):$[xt]=[bt]:$[xt]=$[xt]?$[xt]+", "+bt:bt)}),$},$internals=Symbol("internals");function normalizeHeader(_e){return _e&&String(_e).trim().toLowerCase()}function normalizeValue(_e){return _e===!1||_e==null?_e:utils$1.isArray(_e)?_e.map(normalizeValue):String(_e)}function parseTokens(_e){const $=Object.create(null),xt=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let bt;for(;bt=xt.exec(_e);)$[bt[1]]=bt[2];return $}const isValidHeaderName=_e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_e.trim());function matchHeaderValue(_e,$,xt,bt,At){if(utils$1.isFunction(bt))return bt.call(this,$,xt);if(At&&($=xt),!!utils$1.isString($)){if(utils$1.isString(bt))return $.indexOf(bt)!==-1;if(utils$1.isRegExp(bt))return bt.test($)}}function formatHeader(_e){return _e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,($,xt,bt)=>xt.toUpperCase()+bt)}function buildAccessors(_e,$){const xt=utils$1.toCamelCase(" "+$);["get","set","has"].forEach(bt=>{Object.defineProperty(_e,bt+xt,{value:function(At,St,Et){return this[bt].call(this,$,At,St,Et)},configurable:!0})})}class AxiosHeaders{constructor($){$&&this.set($)}set($,xt,bt){const At=this;function St(Ct,Pt,wt){const kt=normalizeHeader(Pt);if(!kt)throw new Error("header name must be a non-empty string");const Rt=utils$1.findKey(At,kt);(!Rt||At[Rt]===void 0||wt===!0||wt===void 0&&At[Rt]!==!1)&&(At[Rt||Pt]=normalizeValue(Ct))}const Et=(Ct,Pt)=>utils$1.forEach(Ct,(wt,kt)=>St(wt,kt,Pt));if(utils$1.isPlainObject($)||$ instanceof this.constructor)Et($,xt);else if(utils$1.isString($)&&($=$.trim())&&!isValidHeaderName($))Et(parseHeaders($),xt);else if(utils$1.isHeaders($))for(const[Ct,Pt]of $.entries())St(Pt,Ct,bt);else $!=null&&St(xt,$,bt);return this}get($,xt){if($=normalizeHeader($),$){const bt=utils$1.findKey(this,$);if(bt){const At=this[bt];if(!xt)return At;if(xt===!0)return parseTokens(At);if(utils$1.isFunction(xt))return xt.call(this,At,bt);if(utils$1.isRegExp(xt))return xt.exec(At);throw new TypeError("parser must be boolean|regexp|function")}}}has($,xt){if($=normalizeHeader($),$){const bt=utils$1.findKey(this,$);return!!(bt&&this[bt]!==void 0&&(!xt||matchHeaderValue(this,this[bt],bt,xt)))}return!1}delete($,xt){const bt=this;let At=!1;function St(Et){if(Et=normalizeHeader(Et),Et){const Ct=utils$1.findKey(bt,Et);Ct&&(!xt||matchHeaderValue(bt,bt[Ct],Ct,xt))&&(delete bt[Ct],At=!0)}}return utils$1.isArray($)?$.forEach(St):St($),At}clear($){const xt=Object.keys(this);let bt=xt.length,At=!1;for(;bt--;){const St=xt[bt];(!$||matchHeaderValue(this,this[St],St,$,!0))&&(delete this[St],At=!0)}return At}normalize($){const xt=this,bt={};return utils$1.forEach(this,(At,St)=>{const Et=utils$1.findKey(bt,St);if(Et){xt[Et]=normalizeValue(At),delete xt[St];return}const Ct=$?formatHeader(St):String(St).trim();Ct!==St&&delete xt[St],xt[Ct]=normalizeValue(At),bt[Ct]=!0}),this}concat(...$){return this.constructor.concat(this,...$)}toJSON($){const xt=Object.create(null);return utils$1.forEach(this,(bt,At)=>{bt!=null&&bt!==!1&&(xt[At]=$&&utils$1.isArray(bt)?bt.join(", "):bt)}),xt}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([$,xt])=>$+": "+xt).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from($){return $ instanceof this?$:new this($)}static concat($,...xt){const bt=new this($);return xt.forEach(At=>bt.set(At)),bt}static accessor($){const bt=(this[$internals]=this[$internals]={accessors:{}}).accessors,At=this.prototype;function St(Et){const Ct=normalizeHeader(Et);bt[Ct]||(buildAccessors(At,Et),bt[Ct]=!0)}return utils$1.isArray($)?$.forEach(St):St($),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:_e},$)=>{let xt=$[0].toUpperCase()+$.slice(1);return{get:()=>_e,set(bt){this[xt]=bt}}});utils$1.freezeMethods(AxiosHeaders);function transformData(_e,$){const xt=this||defaults,bt=$||xt,At=AxiosHeaders.from(bt.headers);let St=bt.data;return utils$1.forEach(_e,function(Ct){St=Ct.call(xt,St,At.normalize(),$?$.status:void 0)}),At.normalize(),St}function isCancel(_e){return!!(_e&&_e.__CANCEL__)}function CanceledError(_e,$,xt){AxiosError.call(this,_e??"canceled",AxiosError.ERR_CANCELED,$,xt),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(_e,$,xt){const bt=xt.config.validateStatus;!xt.status||!bt||bt(xt.status)?_e(xt):$(new AxiosError("Request failed with status code "+xt.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(xt.status/100)-4],xt.config,xt.request,xt))}function parseProtocol(_e){const $=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_e);return $&&$[1]||""}function speedometer(_e,$){_e=_e||10;const xt=new Array(_e),bt=new Array(_e);let At=0,St=0,Et;return $=$!==void 0?$:1e3,function(Pt){const wt=Date.now(),kt=bt[St];Et||(Et=wt),xt[At]=Pt,bt[At]=wt;let Rt=St,ht=0;for(;Rt!==At;)ht+=xt[Rt++],Rt=Rt%_e;if(At=(At+1)%_e,At===St&&(St=(St+1)%_e),wt-Et<$)return;const vt=kt&&wt-kt;return vt?Math.round(ht*1e3/vt):void 0}}function throttle(_e,$){let xt=0;const bt=1e3/$;let At=null;return function(){const Et=this===!0,Ct=Date.now();if(Et||Ct-xt>bt)return At&&(clearTimeout(At),At=null),xt=Ct,_e.apply(null,arguments);At||(At=setTimeout(()=>(At=null,xt=Date.now(),_e.apply(null,arguments)),bt-(Ct-xt)))}}const progressEventReducer=(_e,$,xt=3)=>{let bt=0;const At=speedometer(50,250);return throttle(St=>{const Et=St.loaded,Ct=St.lengthComputable?St.total:void 0,Pt=Et-bt,wt=At(Pt),kt=Et<=Ct;bt=Et;const Rt={loaded:Et,total:Ct,progress:Ct?Et/Ct:void 0,bytes:Pt,rate:wt||void 0,estimated:wt&&Ct&&kt?(Ct-Et)/wt:void 0,event:St,lengthComputable:Ct!=null};Rt[$?"download":"upload"]=!0,_e(Rt)},xt)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const $=/(msie|trident)/i.test(navigator.userAgent),xt=document.createElement("a");let bt;function At(St){let Et=St;return $&&(xt.setAttribute("href",Et),Et=xt.href),xt.setAttribute("href",Et),{href:xt.href,protocol:xt.protocol?xt.protocol.replace(/:$/,""):"",host:xt.host,search:xt.search?xt.search.replace(/^\?/,""):"",hash:xt.hash?xt.hash.replace(/^#/,""):"",hostname:xt.hostname,port:xt.port,pathname:xt.pathname.charAt(0)==="/"?xt.pathname:"/"+xt.pathname}}return bt=At(window.location.href),function(Et){const Ct=utils$1.isString(Et)?At(Et):Et;return Ct.protocol===bt.protocol&&Ct.host===bt.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(_e,$,xt,bt,At,St){const Et=[_e+"="+encodeURIComponent($)];utils$1.isNumber(xt)&&Et.push("expires="+new Date(xt).toGMTString()),utils$1.isString(bt)&&Et.push("path="+bt),utils$1.isString(At)&&Et.push("domain="+At),St===!0&&Et.push("secure"),document.cookie=Et.join("; ")},read(_e){const $=document.cookie.match(new RegExp("(^|;\\s*)("+_e+")=([^;]*)"));return $?decodeURIComponent($[3]):null},remove(_e){this.write(_e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(_e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_e)}function combineURLs(_e,$){return $?_e.replace(/\/?\/$/,"")+"/"+$.replace(/^\/+/,""):_e}function buildFullPath(_e,$){return _e&&!isAbsoluteURL($)?combineURLs(_e,$):$}const headersToObject=_e=>_e instanceof AxiosHeaders?{..._e}:_e;function mergeConfig(_e,$){$=$||{};const xt={};function bt(wt,kt,Rt){return utils$1.isPlainObject(wt)&&utils$1.isPlainObject(kt)?utils$1.merge.call({caseless:Rt},wt,kt):utils$1.isPlainObject(kt)?utils$1.merge({},kt):utils$1.isArray(kt)?kt.slice():kt}function At(wt,kt,Rt){if(utils$1.isUndefined(kt)){if(!utils$1.isUndefined(wt))return bt(void 0,wt,Rt)}else return bt(wt,kt,Rt)}function St(wt,kt){if(!utils$1.isUndefined(kt))return bt(void 0,kt)}function Et(wt,kt){if(utils$1.isUndefined(kt)){if(!utils$1.isUndefined(wt))return bt(void 0,wt)}else return bt(void 0,kt)}function Ct(wt,kt,Rt){if(Rt in $)return bt(wt,kt);if(Rt in _e)return bt(void 0,wt)}const Pt={url:St,method:St,data:St,baseURL:Et,transformRequest:Et,transformResponse:Et,paramsSerializer:Et,timeout:Et,timeoutMessage:Et,withCredentials:Et,withXSRFToken:Et,adapter:Et,responseType:Et,xsrfCookieName:Et,xsrfHeaderName:Et,onUploadProgress:Et,onDownloadProgress:Et,decompress:Et,maxContentLength:Et,maxBodyLength:Et,beforeRedirect:Et,transport:Et,httpAgent:Et,httpsAgent:Et,cancelToken:Et,socketPath:Et,responseEncoding:Et,validateStatus:Ct,headers:(wt,kt)=>At(headersToObject(wt),headersToObject(kt),!0)};return utils$1.forEach(Object.keys(Object.assign({},_e,$)),function(kt){const Rt=Pt[kt]||At,ht=Rt(_e[kt],$[kt],kt);utils$1.isUndefined(ht)&&Rt!==Ct||(xt[kt]=ht)}),xt}const resolveConfig=_e=>{const $=mergeConfig({},_e);let{data:xt,withXSRFToken:bt,xsrfHeaderName:At,xsrfCookieName:St,headers:Et,auth:Ct}=$;$.headers=Et=AxiosHeaders.from(Et),$.url=buildURL(buildFullPath($.baseURL,$.url),_e.params,_e.paramsSerializer),Ct&&Et.set("Authorization","Basic "+btoa((Ct.username||"")+":"+(Ct.password?unescape(encodeURIComponent(Ct.password)):"")));let Pt;if(utils$1.isFormData(xt)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)Et.setContentType(void 0);else if((Pt=Et.getContentType())!==!1){const[wt,...kt]=Pt?Pt.split(";").map(Rt=>Rt.trim()).filter(Boolean):[];Et.setContentType([wt||"multipart/form-data",...kt].join("; "))}}if(platform.hasStandardBrowserEnv&&(bt&&utils$1.isFunction(bt)&&(bt=bt($)),bt||bt!==!1&&isURLSameOrigin($.url))){const wt=At&&St&&cookies.read(St);wt&&Et.set(At,wt)}return $},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(_e){return new Promise(function(xt,bt){const At=resolveConfig(_e);let St=At.data;const Et=AxiosHeaders.from(At.headers).normalize();let{responseType:Ct}=At,Pt;function wt(){At.cancelToken&&At.cancelToken.unsubscribe(Pt),At.signal&&At.signal.removeEventListener("abort",Pt)}let kt=new XMLHttpRequest;kt.open(At.method.toUpperCase(),At.url,!0),kt.timeout=At.timeout;function Rt(){if(!kt)return;const vt=AxiosHeaders.from("getAllResponseHeaders"in kt&&kt.getAllResponseHeaders()),Ht={data:!Ct||Ct==="text"||Ct==="json"?kt.responseText:kt.response,status:kt.status,statusText:kt.statusText,headers:vt,config:_e,request:kt};settle(function(Nt){xt(Nt),wt()},function(Nt){bt(Nt),wt()},Ht),kt=null}"onloadend"in kt?kt.onloadend=Rt:kt.onreadystatechange=function(){!kt||kt.readyState!==4||kt.status===0&&!(kt.responseURL&&kt.responseURL.indexOf("file:")===0)||setTimeout(Rt)},kt.onabort=function(){kt&&(bt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,At,kt)),kt=null)},kt.onerror=function(){bt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,At,kt)),kt=null},kt.ontimeout=function(){let Ft=At.timeout?"timeout of "+At.timeout+"ms exceeded":"timeout exceeded";const Ht=At.transitional||transitionalDefaults;At.timeoutErrorMessage&&(Ft=At.timeoutErrorMessage),bt(new AxiosError(Ft,Ht.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,At,kt)),kt=null},St===void 0&&Et.setContentType(null),"setRequestHeader"in kt&&utils$1.forEach(Et.toJSON(),function(Ft,Ht){kt.setRequestHeader(Ht,Ft)}),utils$1.isUndefined(At.withCredentials)||(kt.withCredentials=!!At.withCredentials),Ct&&Ct!=="json"&&(kt.responseType=At.responseType),typeof At.onDownloadProgress=="function"&&kt.addEventListener("progress",progressEventReducer(At.onDownloadProgress,!0)),typeof At.onUploadProgress=="function"&&kt.upload&&kt.upload.addEventListener("progress",progressEventReducer(At.onUploadProgress)),(At.cancelToken||At.signal)&&(Pt=vt=>{kt&&(bt(!vt||vt.type?new CanceledError(null,_e,kt):vt),kt.abort(),kt=null)},At.cancelToken&&At.cancelToken.subscribe(Pt),At.signal&&(At.signal.aborted?Pt():At.signal.addEventListener("abort",Pt)));const ht=parseProtocol(At.url);if(ht&&platform.protocols.indexOf(ht)===-1){bt(new AxiosError("Unsupported protocol "+ht+":",AxiosError.ERR_BAD_REQUEST,_e));return}kt.send(St||null)})},composeSignals=(_e,$)=>{let xt=new AbortController,bt;const At=function(Pt){if(!bt){bt=!0,Et();const wt=Pt instanceof Error?Pt:this.reason;xt.abort(wt instanceof AxiosError?wt:new CanceledError(wt instanceof Error?wt.message:wt))}};let St=$&&setTimeout(()=>{At(new AxiosError(`timeout ${$} of ms exceeded`,AxiosError.ETIMEDOUT))},$);const Et=()=>{_e&&(St&&clearTimeout(St),St=null,_e.forEach(Pt=>{Pt&&(Pt.removeEventListener?Pt.removeEventListener("abort",At):Pt.unsubscribe(At))}),_e=null)};_e.forEach(Pt=>Pt&&Pt.addEventListener&&Pt.addEventListener("abort",At));const{signal:Ct}=xt;return Ct.unsubscribe=Et,[Ct,()=>{St&&clearTimeout(St),St=null}]},streamChunk=function*(_e,$){let xt=_e.byteLength;if(!$||xt<$){yield _e;return}let bt=0,At;for(;bt<xt;)At=bt+$,yield _e.slice(bt,At),bt=At},readBytes=async function*(_e,$,xt){for await(const bt of _e)yield*streamChunk(ArrayBuffer.isView(bt)?bt:await xt(String(bt)),$)},trackStream=(_e,$,xt,bt,At)=>{const St=readBytes(_e,$,At);let Et=0;return new ReadableStream({type:"bytes",async pull(Ct){const{done:Pt,value:wt}=await St.next();if(Pt){Ct.close(),bt();return}let kt=wt.byteLength;xt&&xt(Et+=kt),Ct.enqueue(new Uint8Array(wt))},cancel(Ct){return bt(Ct),St.return()}},{highWaterMark:2})},fetchProgressDecorator=(_e,$)=>{const xt=_e!=null;return bt=>setTimeout(()=>$({lengthComputable:xt,total:_e,loaded:bt}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(_e=>$=>_e.encode($))(new TextEncoder):async _e=>new Uint8Array(await new Response(_e).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let _e=!1;const $=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return _e=!0,"half"}}).headers.has("Content-Type");return _e&&!$})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$1.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(_e=>_e.body)};isFetchSupported&&(_e=>{["text","arrayBuffer","blob","formData","stream"].forEach($=>{!resolvers[$]&&(resolvers[$]=utils$1.isFunction(_e[$])?xt=>xt[$]():(xt,bt)=>{throw new AxiosError(`Response type '${$}' is not supported`,AxiosError.ERR_NOT_SUPPORT,bt)})})})(new Response);const getBodyLength=async _e=>{if(_e==null)return 0;if(utils$1.isBlob(_e))return _e.size;if(utils$1.isSpecCompliantForm(_e))return(await new Request(_e).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(_e))return _e.byteLength;if(utils$1.isURLSearchParams(_e)&&(_e=_e+""),utils$1.isString(_e))return(await encodeText(_e)).byteLength},resolveBodyLength=async(_e,$)=>{const xt=utils$1.toFiniteNumber(_e.getContentLength());return xt??getBodyLength($)},fetchAdapter=isFetchSupported&&(async _e=>{let{url:$,method:xt,data:bt,signal:At,cancelToken:St,timeout:Et,onDownloadProgress:Ct,onUploadProgress:Pt,responseType:wt,headers:kt,withCredentials:Rt="same-origin",fetchOptions:ht}=resolveConfig(_e);wt=wt?(wt+"").toLowerCase():"text";let[vt,Ft]=At||St||Et?composeSignals([At,St],Et):[],Ht,qt;const Nt=()=>{!Ht&&setTimeout(()=>{vt&&vt.unsubscribe()}),Ht=!0};let $t;try{if(Pt&&supportsRequestStream&&xt!=="get"&&xt!=="head"&&($t=await resolveBodyLength(kt,bt))!==0){let Kt=new Request($,{method:"POST",body:bt,duplex:"half"}),jt;utils$1.isFormData(bt)&&(jt=Kt.headers.get("content-type"))&&kt.setContentType(jt),Kt.body&&(bt=trackStream(Kt.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator($t,progressEventReducer(Pt)),null,encodeText))}utils$1.isString(Rt)||(Rt=Rt?"cors":"omit"),qt=new Request($,{...ht,signal:vt,method:xt.toUpperCase(),headers:kt.normalize().toJSON(),body:bt,duplex:"half",withCredentials:Rt});let Mt=await fetch(qt);const Bt=supportsResponseStream&&(wt==="stream"||wt==="response");if(supportsResponseStream&&(Ct||Bt)){const Kt={};["status","statusText","headers"].forEach(Gt=>{Kt[Gt]=Mt[Gt]});const jt=utils$1.toFiniteNumber(Mt.headers.get("content-length"));Mt=new Response(trackStream(Mt.body,DEFAULT_CHUNK_SIZE,Ct&&fetchProgressDecorator(jt,progressEventReducer(Ct,!0)),Bt&&Nt,encodeText),Kt)}wt=wt||"text";let _t=await resolvers[utils$1.findKey(resolvers,wt)||"text"](Mt,_e);return!Bt&&Nt(),Ft&&Ft(),await new Promise((Kt,jt)=>{settle(Kt,jt,{data:_t,headers:AxiosHeaders.from(Mt.headers),status:Mt.status,statusText:Mt.statusText,config:_e,request:qt})})}catch(Mt){throw Nt(),Mt&&Mt.name==="TypeError"&&/fetch/i.test(Mt.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,_e,qt),{cause:Mt.cause||Mt}):AxiosError.from(Mt,Mt&&Mt.code,_e,qt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(_e,$)=>{if(_e){try{Object.defineProperty(_e,"name",{value:$})}catch{}Object.defineProperty(_e,"adapterName",{value:$})}});const renderReason=_e=>`- ${_e}`,isResolvedHandle=_e=>utils$1.isFunction(_e)||_e===null||_e===!1,adapters={getAdapter:_e=>{_e=utils$1.isArray(_e)?_e:[_e];const{length:$}=_e;let xt,bt;const At={};for(let St=0;St<$;St++){xt=_e[St];let Et;if(bt=xt,!isResolvedHandle(xt)&&(bt=knownAdapters[(Et=String(xt)).toLowerCase()],bt===void 0))throw new AxiosError(`Unknown adapter '${Et}'`);if(bt)break;At[Et||"#"+St]=bt}if(!bt){const St=Object.entries(At).map(([Ct,Pt])=>`adapter ${Ct} `+(Pt===!1?"is not supported by the environment":"is not available in the build"));let Et=$?St.length>1?`since :
`+St.map(renderReason).join(`
`):" "+renderReason(St[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+Et,"ERR_NOT_SUPPORT")}return bt},adapters:knownAdapters};function throwIfCancellationRequested(_e){if(_e.cancelToken&&_e.cancelToken.throwIfRequested(),_e.signal&&_e.signal.aborted)throw new CanceledError(null,_e)}function dispatchRequest(_e){return throwIfCancellationRequested(_e),_e.headers=AxiosHeaders.from(_e.headers),_e.data=transformData.call(_e,_e.transformRequest),["post","put","patch"].indexOf(_e.method)!==-1&&_e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(_e.adapter||defaults.adapter)(_e).then(function(bt){return throwIfCancellationRequested(_e),bt.data=transformData.call(_e,_e.transformResponse,bt),bt.headers=AxiosHeaders.from(bt.headers),bt},function(bt){return isCancel(bt)||(throwIfCancellationRequested(_e),bt&&bt.response&&(bt.response.data=transformData.call(_e,_e.transformResponse,bt.response),bt.response.headers=AxiosHeaders.from(bt.response.headers))),Promise.reject(bt)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((_e,$)=>{validators$1[_e]=function(bt){return typeof bt===_e||"a"+($<1?"n ":" ")+_e}});const deprecatedWarnings={};validators$1.transitional=function($,xt,bt){function At(St,Et){return"[Axios v"+VERSION+"] Transitional option '"+St+"'"+Et+(bt?". "+bt:"")}return(St,Et,Ct)=>{if($===!1)throw new AxiosError(At(Et," has been removed"+(xt?" in "+xt:"")),AxiosError.ERR_DEPRECATED);return xt&&!deprecatedWarnings[Et]&&(deprecatedWarnings[Et]=!0,console.warn(At(Et," has been deprecated since v"+xt+" and will be removed in the near future"))),$?$(St,Et,Ct):!0}};function assertOptions(_e,$,xt){if(typeof _e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const bt=Object.keys(_e);let At=bt.length;for(;At-- >0;){const St=bt[At],Et=$[St];if(Et){const Ct=_e[St],Pt=Ct===void 0||Et(Ct,St,_e);if(Pt!==!0)throw new AxiosError("option "+St+" must be "+Pt,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(xt!==!0)throw new AxiosError("Unknown option "+St,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor($){this.defaults=$,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request($,xt){try{return await this._request($,xt)}catch(bt){if(bt instanceof Error){let At;Error.captureStackTrace?Error.captureStackTrace(At={}):At=new Error;const St=At.stack?At.stack.replace(/^.+\n/,""):"";try{bt.stack?St&&!String(bt.stack).endsWith(St.replace(/^.+\n.+\n/,""))&&(bt.stack+=`
`+St):bt.stack=St}catch{}}throw bt}}_request($,xt){typeof $=="string"?(xt=xt||{},xt.url=$):xt=$||{},xt=mergeConfig(this.defaults,xt);const{transitional:bt,paramsSerializer:At,headers:St}=xt;bt!==void 0&&validator.assertOptions(bt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),At!=null&&(utils$1.isFunction(At)?xt.paramsSerializer={serialize:At}:validator.assertOptions(At,{encode:validators.function,serialize:validators.function},!0)),xt.method=(xt.method||this.defaults.method||"get").toLowerCase();let Et=St&&utils$1.merge(St.common,St[xt.method]);St&&utils$1.forEach(["delete","get","head","post","put","patch","common"],Ft=>{delete St[Ft]}),xt.headers=AxiosHeaders.concat(Et,St);const Ct=[];let Pt=!0;this.interceptors.request.forEach(function(Ht){typeof Ht.runWhen=="function"&&Ht.runWhen(xt)===!1||(Pt=Pt&&Ht.synchronous,Ct.unshift(Ht.fulfilled,Ht.rejected))});const wt=[];this.interceptors.response.forEach(function(Ht){wt.push(Ht.fulfilled,Ht.rejected)});let kt,Rt=0,ht;if(!Pt){const Ft=[dispatchRequest.bind(this),void 0];for(Ft.unshift.apply(Ft,Ct),Ft.push.apply(Ft,wt),ht=Ft.length,kt=Promise.resolve(xt);Rt<ht;)kt=kt.then(Ft[Rt++],Ft[Rt++]);return kt}ht=Ct.length;let vt=xt;for(Rt=0;Rt<ht;){const Ft=Ct[Rt++],Ht=Ct[Rt++];try{vt=Ft(vt)}catch(qt){Ht.call(this,qt);break}}try{kt=dispatchRequest.call(this,vt)}catch(Ft){return Promise.reject(Ft)}for(Rt=0,ht=wt.length;Rt<ht;)kt=kt.then(wt[Rt++],wt[Rt++]);return kt}getUri($){$=mergeConfig(this.defaults,$);const xt=buildFullPath($.baseURL,$.url);return buildURL(xt,$.params,$.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function($){Axios.prototype[$]=function(xt,bt){return this.request(mergeConfig(bt||{},{method:$,url:xt,data:(bt||{}).data}))}});utils$1.forEach(["post","put","patch"],function($){function xt(bt){return function(St,Et,Ct){return this.request(mergeConfig(Ct||{},{method:$,headers:bt?{"Content-Type":"multipart/form-data"}:{},url:St,data:Et}))}}Axios.prototype[$]=xt(),Axios.prototype[$+"Form"]=xt(!0)});class CancelToken{constructor($){if(typeof $!="function")throw new TypeError("executor must be a function.");let xt;this.promise=new Promise(function(St){xt=St});const bt=this;this.promise.then(At=>{if(!bt._listeners)return;let St=bt._listeners.length;for(;St-- >0;)bt._listeners[St](At);bt._listeners=null}),this.promise.then=At=>{let St;const Et=new Promise(Ct=>{bt.subscribe(Ct),St=Ct}).then(At);return Et.cancel=function(){bt.unsubscribe(St)},Et},$(function(St,Et,Ct){bt.reason||(bt.reason=new CanceledError(St,Et,Ct),xt(bt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe($){if(this.reason){$(this.reason);return}this._listeners?this._listeners.push($):this._listeners=[$]}unsubscribe($){if(!this._listeners)return;const xt=this._listeners.indexOf($);xt!==-1&&this._listeners.splice(xt,1)}static source(){let $;return{token:new CancelToken(function(At){$=At}),cancel:$}}}function spread(_e){return function(xt){return _e.apply(null,xt)}}function isAxiosError(_e){return utils$1.isObject(_e)&&_e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([_e,$])=>{HttpStatusCode[$]=_e});function createInstance(_e){const $=new Axios(_e),xt=bind(Axios.prototype.request,$);return utils$1.extend(xt,Axios.prototype,$,{allOwnKeys:!0}),utils$1.extend(xt,$,null,{allOwnKeys:!0}),xt.create=function(At){return createInstance(mergeConfig(_e,At))},xt}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function($){return Promise.all($)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=_e=>formDataToJSON(utils$1.isHTMLForm(_e)?new FormData(_e):_e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=_e=>_e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(..._e)=>_e.filter(($,xt,bt)=>!!$&&bt.indexOf($)===xt).join(" ");/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:_e="currentColor",size:$=24,strokeWidth:xt=2,absoluteStrokeWidth:bt,className:At="",children:St,iconNode:Et,...Ct},Pt)=>reactExports.createElement("svg",{ref:Pt,...defaultAttributes,width:$,height:$,stroke:_e,strokeWidth:bt?Number(xt)*24/Number($):xt,className:mergeClasses("lucide",At),...Ct},[...Et.map(([wt,kt])=>reactExports.createElement(wt,kt)),...Array.isArray(St)?St:[St]]));/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(_e,$)=>{const xt=reactExports.forwardRef(({className:bt,...At},St)=>reactExports.createElement(Icon,{ref:St,iconNode:$,className:mergeClasses(`lucide-${toKebabCase(_e)}`,bt),...At}));return xt.displayName=`${_e}`,xt};/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LineChart=createLucideIcon("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader=createLucideIcon("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageCircle=createLucideIcon("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(_e,$){if(_e==null)return{};var xt=_objectWithoutPropertiesLoose(_e,$),bt,At;if(Object.getOwnPropertySymbols){var St=Object.getOwnPropertySymbols(_e);for(At=0;At<St.length;At++)bt=St[At],!($.indexOf(bt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,bt)&&(xt[bt]=_e[bt])}return xt}function _objectWithoutPropertiesLoose(_e,$){if(_e==null)return{};var xt={};for(var bt in _e)if(Object.prototype.hasOwnProperty.call(_e,bt)){if($.indexOf(bt)>=0)continue;xt[bt]=_e[bt]}return xt}function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var xt=arguments[$];for(var bt in xt)Object.prototype.hasOwnProperty.call(xt,bt)&&(_e[bt]=xt[bt])}return _e},_extends.apply(this,arguments)}function ownKeys(_e,$){var xt=Object.keys(_e);if(Object.getOwnPropertySymbols){var bt=Object.getOwnPropertySymbols(_e);$&&(bt=bt.filter(function(At){return Object.getOwnPropertyDescriptor(_e,At).enumerable})),xt.push.apply(xt,bt)}return xt}function _objectSpread(_e){for(var $=1;$<arguments.length;$++){var xt=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(xt),!0).forEach(function(bt){_defineProperty(_e,bt,xt[bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(xt)):ownKeys(Object(xt)).forEach(function(bt){Object.defineProperty(_e,bt,Object.getOwnPropertyDescriptor(xt,bt))})}return _e}function _defineProperty(_e,$,xt){return $=_toPropertyKey($),$ in _e?Object.defineProperty(_e,$,{value:xt,enumerable:!0,configurable:!0,writable:!0}):_e[$]=xt,_e}function _toPropertyKey(_e){var $=_toPrimitive(_e,"string");return typeof $=="symbol"?$:$+""}function _toPrimitive(_e,$){if(typeof _e!="object"||!_e)return _e;var xt=_e[Symbol.toPrimitive];if(xt!==void 0){var bt=xt.call(_e,$||"default");if(typeof bt!="object")return bt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function Tree2Element(_e){return _e&&_e.map(($,xt)=>React.createElement($.tag,_objectSpread({key:xt},$.attr),Tree2Element($.child)))}function GenIcon(_e){return $=>React.createElement(IconBase,_extends({attr:_objectSpread({},_e.attr)},$),Tree2Element(_e.child))}function IconBase(_e){var $=xt=>{var{attr:bt,size:At,title:St}=_e,Et=_objectWithoutProperties(_e,_excluded),Ct=At||xt.size||"1em",Pt;return xt.className&&(Pt=xt.className),_e.className&&(Pt=(Pt?Pt+" ":"")+_e.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},xt.attr,bt,Et,{className:Pt,style:_objectSpread(_objectSpread({color:_e.color||xt.color},xt.style),_e.style),height:Ct,width:Ct,xmlns:"http://www.w3.org/2000/svg"}),St&&React.createElement("title",null,St),_e.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,xt=>$(xt)):$(DefaultContext)}function FaEdit(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(_e)}const MotionConfigContext=reactExports.createContext({transformPagePoint:_e=>_e,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=_e=>_e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};class Queue{constructor(){this.order=[],this.scheduled=new Set}add($){if(!this.scheduled.has($))return this.scheduled.add($),this.order.push($),!0}remove($){const xt=this.order.indexOf($);xt!==-1&&(this.order.splice(xt,1),this.scheduled.delete($))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(_e){let $=new Queue,xt=new Queue,bt=0,At=!1,St=!1;const Et=new WeakSet,Ct={schedule:(Pt,wt=!1,kt=!1)=>{const Rt=kt&&At,ht=Rt?$:xt;return wt&&Et.add(Pt),ht.add(Pt)&&Rt&&At&&(bt=$.order.length),Pt},cancel:Pt=>{xt.remove(Pt),Et.delete(Pt)},process:Pt=>{if(At){St=!0;return}if(At=!0,[$,xt]=[xt,$],xt.clear(),bt=$.order.length,bt)for(let wt=0;wt<bt;wt++){const kt=$.order[wt];Et.has(kt)&&(Ct.schedule(kt),_e()),kt(Pt)}At=!1,St&&(St=!1,Ct.process(Pt))}};return Ct}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(_e,$){let xt=!1,bt=!0;const At={delta:0,timestamp:0,isProcessing:!1},St=stepsOrder.reduce((Rt,ht)=>(Rt[ht]=createRenderStep(()=>xt=!0),Rt),{}),Et=Rt=>{St[Rt].process(At)},Ct=()=>{const Rt=performance.now();xt=!1,At.delta=bt?1e3/60:Math.max(Math.min(Rt-At.timestamp,maxElapsed),1),At.timestamp=Rt,At.isProcessing=!0,stepsOrder.forEach(Et),At.isProcessing=!1,xt&&$&&(bt=!1,_e(Ct))},Pt=()=>{xt=!0,bt=!0,At.isProcessing||_e(Ct)};return{schedule:stepsOrder.reduce((Rt,ht)=>{const vt=St[ht];return Rt[ht]=(Ft,Ht=!1,qt=!1)=>(xt||Pt(),vt.schedule(Ft,Ht,qt)),Rt},{}),cancel:Rt=>stepsOrder.forEach(ht=>St[ht].cancel(Rt)),state:At,steps:St}}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);function isRefObject(_e){return _e&&typeof _e=="object"&&Object.prototype.hasOwnProperty.call(_e,"current")}const SwitchLayoutGroupContext=reactExports.createContext({});let scheduleHandoffComplete=!1;function useVisualElement(_e,$,xt,bt,At){const{visualElement:St}=reactExports.useContext(MotionContext),Et=reactExports.useContext(LazyContext),Ct=reactExports.useContext(PresenceContext),Pt=reactExports.useContext(MotionConfigContext).reducedMotion,wt=reactExports.useRef();bt=bt||Et.renderer,!wt.current&&bt&&(wt.current=bt(_e,{visualState:$,parent:St,props:xt,presenceContext:Ct,blockInitialAnimation:Ct?Ct.initial===!1:!1,reducedMotionConfig:Pt}));const kt=wt.current,Rt=reactExports.useContext(SwitchLayoutGroupContext);kt&&!kt.projection&&At&&(kt.type==="html"||kt.type==="svg")&&createProjectionNode$1(wt.current,xt,At,Rt),reactExports.useInsertionEffect(()=>{kt&&kt.update(xt,Ct)});const ht=reactExports.useRef(!!(xt[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect(()=>{kt&&(kt.updateFeatures(),microtask.render(kt.render),ht.current&&kt.animationState&&kt.animationState.animateChanges())}),reactExports.useEffect(()=>{kt&&(!ht.current&&kt.animationState&&kt.animationState.animateChanges(),ht.current&&(ht.current=!1,scheduleHandoffComplete||(scheduleHandoffComplete=!0,queueMicrotask(completeHandoff))))}),kt}function completeHandoff(){window.HandoffComplete=!0}function createProjectionNode$1(_e,$,xt,bt){const{layoutId:At,layout:St,drag:Et,dragConstraints:Ct,layoutScroll:Pt,layoutRoot:wt}=$;_e.projection=new xt(_e.latestValues,$["data-framer-portal-id"]?void 0:getClosestProjectingNode(_e.parent)),_e.projection.setOptions({layoutId:At,layout:St,alwaysMeasureLayout:!!Et||Ct&&isRefObject(Ct),visualElement:_e,scheduleRender:()=>_e.scheduleRender(),animationType:typeof St=="string"?St:"both",initialPromotionConfig:bt,layoutScroll:Pt,layoutRoot:wt})}function getClosestProjectingNode(_e){if(_e)return _e.options.allowProjection!==!1?_e.projection:getClosestProjectingNode(_e.parent)}function useMotionRef(_e,$,xt){return reactExports.useCallback(bt=>{bt&&_e.mount&&_e.mount(bt),$&&(bt?$.mount(bt):$.unmount()),xt&&(typeof xt=="function"?xt(bt):isRefObject(xt)&&(xt.current=bt))},[$])}function isVariantLabel(_e){return typeof _e=="string"||Array.isArray(_e)}function isAnimationControls(_e){return _e!==null&&typeof _e=="object"&&typeof _e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(_e){return isAnimationControls(_e.animate)||variantProps.some($=>isVariantLabel(_e[$]))}function isVariantNode(_e){return!!(isControllingVariants(_e)||_e.variants)}function getCurrentTreeVariants(_e,$){if(isControllingVariants(_e)){const{initial:xt,animate:bt}=_e;return{initial:xt===!1||isVariantLabel(xt)?xt:void 0,animate:isVariantLabel(bt)?bt:void 0}}return _e.inherit!==!1?$:{}}function useCreateMotionContext(_e){const{initial:$,animate:xt}=getCurrentTreeVariants(_e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:$,animate:xt}),[variantLabelsAsDependency($),variantLabelsAsDependency(xt)])}function variantLabelsAsDependency(_e){return Array.isArray(_e)?_e.join(" "):_e}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const _e in featureProps)featureDefinitions[_e]={isEnabled:$=>featureProps[_e].some(xt=>!!$[xt])};function loadFeatures(_e){for(const $ in _e)featureDefinitions[$]={...featureDefinitions[$],..._e[$]}}const LayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol"),noop=_e=>_e;let invariant=noop;function createMotionComponent({preloadedFeatures:_e,createVisualElement:$,useRender:xt,useVisualState:bt,Component:At}){_e&&loadFeatures(_e);function St(Ct,Pt){let wt;const kt={...reactExports.useContext(MotionConfigContext),...Ct,layoutId:useLayoutId(Ct)},{isStatic:Rt}=kt,ht=useCreateMotionContext(Ct),vt=bt(Ct,Rt);if(!Rt&&isBrowser){useStrictMode();const Ft=getProjectionFunctionality(kt);wt=Ft.MeasureLayout,ht.visualElement=useVisualElement(At,vt,kt,$,Ft.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:ht,children:[wt&&ht.visualElement?jsxRuntimeExports.jsx(wt,{visualElement:ht.visualElement,...kt}):null,xt(At,Ct,useMotionRef(vt,ht.visualElement,Pt),vt,Rt,ht.visualElement)]})}const Et=reactExports.forwardRef(St);return Et[motionComponentSymbol]=At,Et}function useLayoutId({layoutId:_e}){const $=reactExports.useContext(LayoutGroupContext).id;return $&&_e!==void 0?$+"-"+_e:_e}function useStrictMode(_e,$){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(_e){const{drag:$,layout:xt}=featureDefinitions;if(!$&&!xt)return{};const bt={...$,...xt};return{MeasureLayout:$!=null&&$.isEnabled(_e)||xt!=null&&xt.isEnabled(_e)?bt.MeasureLayout:void 0,ProjectionNode:bt.ProjectionNode}}function createMotionProxy(_e){function $(bt,At={}){return createMotionComponent(_e(bt,At))}if(typeof Proxy>"u")return $;const xt=new Map;return new Proxy($,{get:(bt,At)=>(xt.has(At)||xt.set(At,$(At)),xt.get(At))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(_e){return typeof _e!="string"||_e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(_e)>-1||/[A-Z]/u.test(_e))}const scaleCorrectors={};function addScaleCorrector(_e){Object.assign(scaleCorrectors,_e)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(_e,{layout:$,layoutId:xt}){return transformProps.has(_e)||_e.startsWith("origin")||($||xt!==void 0)&&(!!scaleCorrectors[_e]||_e==="opacity")}const isMotionValue=_e=>!!(_e&&_e.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(_e,{enableHardwareAcceleration:$=!0,allowTransformNone:xt=!0},bt,At){let St="";for(let Et=0;Et<numTransforms;Et++){const Ct=transformPropOrder[Et];if(_e[Ct]!==void 0){const Pt=translateAlias[Ct]||Ct;St+=`${Pt}(${_e[Ct]}) `}}return $&&!_e.z&&(St+="translateZ(0)"),St=St.trim(),At?St=At(_e,bt?"":St):xt&&bt&&(St="none"),St}const checkStringStartsWith=_e=>$=>typeof $=="string"&&$.startsWith(_e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=_e=>startsAsVariableToken(_e)?singleCssVariableRegex.test(_e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(_e,$)=>$&&typeof _e=="number"?$.transform(_e):_e,clamp=(_e,$,xt)=>xt>$?$:xt<_e?_e:xt,number={test:_e=>typeof _e=="number",parse:parseFloat,transform:_e=>_e},alpha={...number,transform:_e=>clamp(0,1,_e)},scale={...number,default:1},sanitize=_e=>Math.round(_e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function isString(_e){return typeof _e=="string"}function isNullish(_e){return _e==null}const createUnitType=_e=>({test:$=>isString($)&&$.endsWith(_e)&&$.split(" ").length===1,parse:parseFloat,transform:$=>`${$}${_e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:_e=>percent.parse(_e)/100,transform:_e=>percent.transform(_e*100)},int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,backgroundPositionX:px,backgroundPositionY:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(_e,$,xt,bt){const{style:At,vars:St,transform:Et,transformOrigin:Ct}=_e;let Pt=!1,wt=!1,kt=!0;for(const Rt in $){const ht=$[Rt];if(isCSSVariableName(Rt)){St[Rt]=ht;continue}const vt=numberValueTypes[Rt],Ft=getValueAsType(ht,vt);if(transformProps.has(Rt)){if(Pt=!0,Et[Rt]=Ft,!kt)continue;ht!==(vt.default||0)&&(kt=!1)}else Rt.startsWith("origin")?(wt=!0,Ct[Rt]=Ft):At[Rt]=Ft}if($.transform||(Pt||bt?At.transform=buildTransform(_e.transform,xt,kt,bt):At.transform&&(At.transform="none")),wt){const{originX:Rt="50%",originY:ht="50%",originZ:vt=0}=Ct;At.transformOrigin=`${Rt} ${ht} ${vt}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(_e,$,xt){for(const bt in $)!isMotionValue($[bt])&&!isForcedMotionValue(bt,xt)&&(_e[bt]=$[bt])}function useInitialMotionValues({transformTemplate:_e},$,xt){return reactExports.useMemo(()=>{const bt=createHtmlRenderState();return buildHTMLStyles(bt,$,{enableHardwareAcceleration:!xt},_e),Object.assign({},bt.vars,bt.style)},[$])}function useStyle(_e,$,xt){const bt=_e.style||{},At={};return copyRawValuesOnly(At,bt,_e),Object.assign(At,useInitialMotionValues(_e,$,xt)),At}function useHTMLProps(_e,$,xt){const bt={},At=useStyle(_e,$,xt);return _e.drag&&_e.dragListener!==!1&&(bt.draggable=!1,At.userSelect=At.WebkitUserSelect=At.WebkitTouchCallout="none",At.touchAction=_e.drag===!0?"none":`pan-${_e.drag==="x"?"y":"x"}`),_e.tabIndex===void 0&&(_e.onTap||_e.onTapStart||_e.whileTap)&&(bt.tabIndex=0),bt.style=At,bt}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(_e){return _e.startsWith("while")||_e.startsWith("drag")&&_e!=="draggable"||_e.startsWith("layout")||_e.startsWith("onTap")||_e.startsWith("onPan")||_e.startsWith("onLayout")||validMotionProps.has(_e)}let shouldForward=_e=>!isValidMotionProp(_e);function loadExternalIsValidProp(_e){_e&&(shouldForward=$=>$.startsWith("on")?!isValidMotionProp($):_e($))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(_e,$,xt){const bt={};for(const At in _e)At==="values"&&typeof _e.values=="object"||(shouldForward(At)||xt===!0&&isValidMotionProp(At)||!$&&!isValidMotionProp(At)||_e.draggable&&At.startsWith("onDrag"))&&(bt[At]=_e[At]);return bt}function calcOrigin$1(_e,$,xt){return typeof _e=="string"?_e:px.transform($+xt*_e)}function calcSVGTransformOrigin(_e,$,xt){const bt=calcOrigin$1($,_e.x,_e.width),At=calcOrigin$1(xt,_e.y,_e.height);return`${bt} ${At}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(_e,$,xt=1,bt=0,At=!0){_e.pathLength=1;const St=At?dashKeys:camelKeys;_e[St.offset]=px.transform(-bt);const Et=px.transform($),Ct=px.transform(xt);_e[St.array]=`${Et} ${Ct}`}function buildSVGAttrs(_e,{attrX:$,attrY:xt,attrScale:bt,originX:At,originY:St,pathLength:Et,pathSpacing:Ct=1,pathOffset:Pt=0,...wt},kt,Rt,ht){if(buildHTMLStyles(_e,wt,kt,ht),Rt){_e.style.viewBox&&(_e.attrs.viewBox=_e.style.viewBox);return}_e.attrs=_e.style,_e.style={};const{attrs:vt,style:Ft,dimensions:Ht}=_e;vt.transform&&(Ht&&(Ft.transform=vt.transform),delete vt.transform),Ht&&(At!==void 0||St!==void 0||Ft.transform)&&(Ft.transformOrigin=calcSVGTransformOrigin(Ht,At!==void 0?At:.5,St!==void 0?St:.5)),$!==void 0&&(vt.x=$),xt!==void 0&&(vt.y=xt),bt!==void 0&&(vt.scale=bt),Et!==void 0&&buildSVGPath(vt,Et,Ct,Pt,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=_e=>typeof _e=="string"&&_e.toLowerCase()==="svg";function useSVGProps(_e,$,xt,bt){const At=reactExports.useMemo(()=>{const St=createSvgRenderState();return buildSVGAttrs(St,$,{enableHardwareAcceleration:!1},isSVGTag(bt),_e.transformTemplate),{...St.attrs,style:{...St.style}}},[$]);if(_e.style){const St={};copyRawValuesOnly(St,_e.style,_e),At.style={...St,...At.style}}return At}function createUseRender(_e=!1){return(xt,bt,At,{latestValues:St},Et)=>{const Pt=(isSVGComponent(xt)?useSVGProps:useHTMLProps)(bt,St,Et,xt),wt=filterProps(bt,typeof xt=="string",_e),kt=xt!==reactExports.Fragment?{...wt,...Pt,ref:At}:{},{children:Rt}=bt,ht=reactExports.useMemo(()=>isMotionValue(Rt)?Rt.get():Rt,[Rt]);return reactExports.createElement(xt,{...kt,children:ht})}}function renderHTML(_e,{style:$,vars:xt},bt,At){Object.assign(_e.style,$,At&&At.getProjectionStyles(bt));for(const St in xt)_e.style.setProperty(St,xt[St])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(_e,$,xt,bt){renderHTML(_e,$,void 0,bt);for(const At in $.attrs)_e.setAttribute(camelCaseAttributes.has(At)?At:camelToDash(At),$.attrs[At])}function scrapeMotionValuesFromProps$1(_e,$,xt){var bt;const{style:At}=_e,St={};for(const Et in At)(isMotionValue(At[Et])||$.style&&isMotionValue($.style[Et])||isForcedMotionValue(Et,_e)||((bt=xt==null?void 0:xt.getValue(Et))===null||bt===void 0?void 0:bt.liveStyle)!==void 0)&&(St[Et]=At[Et]);return St}function scrapeMotionValuesFromProps(_e,$,xt){const bt=scrapeMotionValuesFromProps$1(_e,$,xt);for(const At in _e)if(isMotionValue(_e[At])||isMotionValue($[At])){const St=transformPropOrder.indexOf(At)!==-1?"attr"+At.charAt(0).toUpperCase()+At.substring(1):At;bt[St]=_e[At]}return bt}function getValueState(_e){const $=[{},{}];return _e==null||_e.values.forEach((xt,bt)=>{$[0][bt]=xt.get(),$[1][bt]=xt.getVelocity()}),$}function resolveVariantFromProps(_e,$,xt,bt){if(typeof $=="function"){const[At,St]=getValueState(bt);$=$(xt!==void 0?xt:_e.custom,At,St)}if(typeof $=="string"&&($=_e.variants&&_e.variants[$]),typeof $=="function"){const[At,St]=getValueState(bt);$=$(xt!==void 0?xt:_e.custom,At,St)}return $}function useConstant(_e){const $=reactExports.useRef(null);return $.current===null&&($.current=_e()),$.current}const isKeyframesTarget=_e=>Array.isArray(_e),isCustomValue=_e=>!!(_e&&typeof _e=="object"&&_e.mix&&_e.toValue),resolveFinalValueInKeyframes=_e=>isKeyframesTarget(_e)?_e[_e.length-1]||0:_e;function resolveMotionValue(_e){const $=isMotionValue(_e)?_e.get():_e;return isCustomValue($)?$.toValue():$}function makeState({scrapeMotionValuesFromProps:_e,createRenderState:$,onMount:xt},bt,At,St){const Et={latestValues:makeLatestValues(bt,At,St,_e),renderState:$()};return xt&&(Et.mount=Ct=>xt(bt,Ct,Et)),Et}const makeUseVisualState=_e=>($,xt)=>{const bt=reactExports.useContext(MotionContext),At=reactExports.useContext(PresenceContext),St=()=>makeState(_e,$,bt,At);return xt?St():useConstant(St)};function makeLatestValues(_e,$,xt,bt){const At={},St=bt(_e,{});for(const ht in St)At[ht]=resolveMotionValue(St[ht]);let{initial:Et,animate:Ct}=_e;const Pt=isControllingVariants(_e),wt=isVariantNode(_e);$&&wt&&!Pt&&_e.inherit!==!1&&(Et===void 0&&(Et=$.initial),Ct===void 0&&(Ct=$.animate));let kt=xt?xt.initial===!1:!1;kt=kt||Et===!1;const Rt=kt?Ct:Et;return Rt&&typeof Rt!="boolean"&&!isAnimationControls(Rt)&&(Array.isArray(Rt)?Rt:[Rt]).forEach(vt=>{const Ft=resolveVariantFromProps(_e,vt);if(!Ft)return;const{transitionEnd:Ht,transition:qt,...Nt}=Ft;for(const $t in Nt){let Mt=Nt[$t];if(Array.isArray(Mt)){const Bt=kt?Mt.length-1:0;Mt=Mt[Bt]}Mt!==null&&(At[$t]=Mt)}for(const $t in Ht)At[$t]=Ht[$t]}),At}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(_e,$,{renderState:xt,latestValues:bt})=>{frame.read(()=>{try{xt.dimensions=typeof $.getBBox=="function"?$.getBBox():$.getBoundingClientRect()}catch{xt.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(xt,bt,{enableHardwareAcceleration:!1},isSVGTag($.tagName),_e.transformTemplate),renderSVG($,xt)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(_e,{forwardMotionProps:$=!1},xt,bt){return{...isSVGComponent(_e)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:xt,useRender:createUseRender($),createVisualElement:bt,Component:_e}}function addDomEvent(_e,$,xt,bt={passive:!0}){return _e.addEventListener($,xt,bt),()=>_e.removeEventListener($,xt)}const isPrimaryPointer=_e=>_e.pointerType==="mouse"?typeof _e.button!="number"||_e.button<=0:_e.isPrimary!==!1;function extractEventInfo(_e,$="page"){return{point:{x:_e[`${$}X`],y:_e[`${$}Y`]}}}const addPointerInfo=_e=>$=>isPrimaryPointer($)&&_e($,extractEventInfo($));function addPointerEvent(_e,$,xt,bt){return addDomEvent(_e,$,addPointerInfo(xt),bt)}const combineFunctions=(_e,$)=>xt=>$(_e(xt)),pipe=(..._e)=>_e.reduce(combineFunctions);function createLock(_e){let $=null;return()=>{const xt=()=>{$=null};return $===null?($=_e,xt):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(_e){let $=!1;if(_e==="y")$=globalVerticalLock();else if(_e==="x")$=globalHorizontalLock();else{const xt=globalHorizontalLock(),bt=globalVerticalLock();xt&&bt?$=()=>{xt(),bt()}:(xt&&xt(),bt&&bt())}return $}function isDragActive(){const _e=getGlobalLock(!0);return _e?(_e(),!1):!0}class Feature{constructor($){this.isMounted=!1,this.node=$}update(){}}function addHoverEvent(_e,$){const xt=$?"pointerenter":"pointerleave",bt=$?"onHoverStart":"onHoverEnd",At=(St,Et)=>{if(St.pointerType==="touch"||isDragActive())return;const Ct=_e.getProps();_e.animationState&&Ct.whileHover&&_e.animationState.setActive("whileHover",$);const Pt=Ct[bt];Pt&&frame.postRender(()=>Pt(St,Et))};return addPointerEvent(_e.current,xt,At,{passive:!_e.getProps()[bt]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let $=!1;try{$=this.node.current.matches(":focus-visible")}catch{$=!0}!$||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(_e,$)=>$?_e===$?!0:isNodeOrChild(_e,$.parentElement):!1;function fireSyntheticPointerEvent(_e,$){if(!$)return;const xt=new PointerEvent("pointer"+_e);$(xt,extractEventInfo(xt))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop,this.removeEndListeners=noop,this.removeAccessibleListeners=noop,this.startPointerPress=($,xt)=>{if(this.isPressing)return;this.removeEndListeners();const bt=this.node.getProps(),St=addPointerEvent(window,"pointerup",(Ct,Pt)=>{if(!this.checkPressEnd())return;const{onTap:wt,onTapCancel:kt,globalTapTarget:Rt}=this.node.getProps(),ht=!Rt&&!isNodeOrChild(this.node.current,Ct.target)?kt:wt;ht&&frame.update(()=>ht(Ct,Pt))},{passive:!(bt.onTap||bt.onPointerUp)}),Et=addPointerEvent(window,"pointercancel",(Ct,Pt)=>this.cancelPress(Ct,Pt),{passive:!(bt.onTapCancel||bt.onPointerCancel)});this.removeEndListeners=pipe(St,Et),this.startPress($,xt)},this.startAccessiblePress=()=>{const $=St=>{if(St.key!=="Enter"||this.isPressing)return;const Et=Ct=>{Ct.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(Pt,wt)=>{const{onTap:kt}=this.node.getProps();kt&&frame.postRender(()=>kt(Pt,wt))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",Et),fireSyntheticPointerEvent("down",(Ct,Pt)=>{this.startPress(Ct,Pt)})},xt=addDomEvent(this.node.current,"keydown",$),bt=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(St,Et)=>this.cancelPress(St,Et))},At=addDomEvent(this.node.current,"blur",bt);this.removeAccessibleListeners=pipe(xt,At)}}startPress($,xt){this.isPressing=!0;const{onTapStart:bt,whileTap:At}=this.node.getProps();At&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),bt&&frame.postRender(()=>bt($,xt))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress($,xt){if(!this.checkPressEnd())return;const{onTapCancel:bt}=this.node.getProps();bt&&frame.postRender(()=>bt($,xt))}mount(){const $=this.node.getProps(),xt=addPointerEvent($.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!($.onTapStart||$.onPointerStart)}),bt=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(xt,bt)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=_e=>{const $=observerCallbacks.get(_e.target);$&&$(_e)},fireAllObserverCallbacks=_e=>{_e.forEach(fireObserverCallback)};function initIntersectionObserver({root:_e,...$}){const xt=_e||document;observers.has(xt)||observers.set(xt,{});const bt=observers.get(xt),At=JSON.stringify($);return bt[At]||(bt[At]=new IntersectionObserver(fireAllObserverCallbacks,{root:_e,...$})),bt[At]}function observeIntersection(_e,$,xt){const bt=initIntersectionObserver($);return observerCallbacks.set(_e,xt),bt.observe(_e),()=>{observerCallbacks.delete(_e),bt.unobserve(_e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:$={}}=this.node.getProps(),{root:xt,margin:bt,amount:At="some",once:St}=$,Et={root:xt?xt.current:void 0,rootMargin:bt,threshold:typeof At=="number"?At:thresholdNames[At]},Ct=Pt=>{const{isIntersecting:wt}=Pt;if(this.isInView===wt||(this.isInView=wt,St&&!wt&&this.hasEnteredView))return;wt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",wt);const{onViewportEnter:kt,onViewportLeave:Rt}=this.node.getProps(),ht=wt?kt:Rt;ht&&ht(Pt)};return observeIntersection(this.node.current,Et,Ct)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:$,prevProps:xt}=this.node;["amount","margin","root"].some(hasViewportOptionChanged($,xt))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:_e={}},{viewport:$={}}={}){return xt=>_e[xt]!==$[xt]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(_e,$){if(!Array.isArray($))return!1;const xt=$.length;if(xt!==_e.length)return!1;for(let bt=0;bt<xt;bt++)if($[bt]!==_e[bt])return!1;return!0}function resolveVariant(_e,$,xt){const bt=_e.getProps();return resolveVariantFromProps(bt,$,xt!==void 0?xt:bt.custom,_e)}const secondsToMilliseconds=_e=>_e*1e3,millisecondsToSeconds=_e=>_e/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=_e=>({type:"spring",stiffness:550,damping:_e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(_e,{keyframes:$})=>$.length>2?keyframesTransition:transformProps.has(_e)?_e.startsWith("scale")?criticallyDampedSpring($[1]):underDampedSpring:ease;function isTransitionDefined({when:_e,delay:$,delayChildren:xt,staggerChildren:bt,staggerDirection:At,repeat:St,repeatType:Et,repeatDelay:Ct,from:Pt,elapsed:wt,...kt}){return!!Object.keys(kt).length}function getValueTransition(_e,$){return _e[$]||_e.default||_e}const isNotNull=_e=>_e!==null;function getFinalKeyframe(_e,{repeat:$,repeatType:xt="loop"},bt){const At=_e.filter(isNotNull),St=$&&xt!=="loop"&&$%2===1?0:At.length-1;return!St||bt===void 0?At[St]:bt}let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:_e=>{now=_e,queueMicrotask(clearTime)}},isZeroValueString=_e=>/^0[^.\s]+$/u.test(_e);function isNone(_e){return typeof _e=="number"?_e===0:_e!==null?_e==="none"||_e==="0"||isZeroValueString(_e):!0}const isNumericalString=_e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(_e),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(_e){const $=splitCSSVariableRegex.exec(_e);if(!$)return[,];const[,xt,bt,At]=$;return[`--${xt??bt}`,At]}function getVariableValue(_e,$,xt=1){const[bt,At]=parseCSSVariable(_e);if(!bt)return;const St=window.getComputedStyle($).getPropertyValue(bt);if(St){const Et=St.trim();return isNumericalString(Et)?parseFloat(Et):Et}return isCSSVariableToken(At)?getVariableValue(At,$,xt+1):At}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=_e=>_e===number||_e===px,getPosFromMatrix=(_e,$)=>parseFloat(_e.split(", ")[$]),getTranslateFromMatrix=(_e,$)=>(xt,{transform:bt})=>{if(bt==="none"||!bt)return 0;const At=bt.match(/^matrix3d\((.+)\)$/u);if(At)return getPosFromMatrix(At[1],$);{const St=bt.match(/^matrix\((.+)\)$/u);return St?getPosFromMatrix(St[1],_e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(_e=>!transformKeys.has(_e));function removeNonTranslationalTransform(_e){const $=[];return nonTranslationalTransformKeys.forEach(xt=>{const bt=_e.getValue(xt);bt!==void 0&&($.push([xt,bt.get()]),bt.set(xt.startsWith("scale")?1:0))}),$}const positionalValues={width:({x:_e},{paddingLeft:$="0",paddingRight:xt="0"})=>_e.max-_e.min-parseFloat($)-parseFloat(xt),height:({y:_e},{paddingTop:$="0",paddingBottom:xt="0"})=>_e.max-_e.min-parseFloat($)-parseFloat(xt),top:(_e,{top:$})=>parseFloat($),left:(_e,{left:$})=>parseFloat($),bottom:({y:_e},{top:$})=>parseFloat($)+(_e.max-_e.min),right:({x:_e},{left:$})=>parseFloat($)+(_e.max-_e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=_e=>$=>$.test(_e),auto={test:_e=>_e==="auto",parse:_e=>_e},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=_e=>dimensionValueTypes.find(testValueType(_e)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const _e=Array.from(toResolve).filter(bt=>bt.needsMeasurement),$=new Set(_e.map(bt=>bt.element)),xt=new Map;$.forEach(bt=>{const At=removeNonTranslationalTransform(bt);At.length&&(xt.set(bt,At),bt.render())}),_e.forEach(bt=>bt.measureInitialState()),$.forEach(bt=>{bt.render();const At=xt.get(bt);At&&At.forEach(([St,Et])=>{var Ct;(Ct=bt.getValue(St))===null||Ct===void 0||Ct.set(Et)})}),_e.forEach(bt=>bt.measureEndState()),_e.forEach(bt=>{bt.suspendedScrollY!==void 0&&window.scrollTo(0,bt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(_e=>_e.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(_e=>{_e.readKeyframes(),_e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor($,xt,bt,At,St,Et=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...$],this.onComplete=xt,this.name=bt,this.motionValue=At,this.element=St,this.isAsync=Et}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:$,name:xt,element:bt,motionValue:At}=this;for(let St=0;St<$.length;St++)if($[St]===null)if(St===0){const Et=At==null?void 0:At.get(),Ct=$[$.length-1];if(Et!==void 0)$[0]=Et;else if(bt&&xt){const Pt=bt.readValue(xt,Ct);Pt!=null&&($[0]=Pt)}$[0]===void 0&&($[0]=Ct),At&&Et===void 0&&At.set($[0])}else $[St]=$[St-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isColorString=(_e,$)=>xt=>!!(isString(xt)&&singleColorRegex.test(xt)&&xt.startsWith(_e)||$&&!isNullish(xt)&&Object.prototype.hasOwnProperty.call(xt,$)),splitColor=(_e,$,xt)=>bt=>{if(!isString(bt))return bt;const[At,St,Et,Ct]=bt.match(floatRegex);return{[_e]:parseFloat(At),[$]:parseFloat(St),[xt]:parseFloat(Et),alpha:Ct!==void 0?parseFloat(Ct):1}},clampRgbUnit=_e=>clamp(0,255,_e),rgbUnit={...number,transform:_e=>Math.round(clampRgbUnit(_e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:_e,green:$,blue:xt,alpha:bt=1})=>"rgba("+rgbUnit.transform(_e)+", "+rgbUnit.transform($)+", "+rgbUnit.transform(xt)+", "+sanitize(alpha.transform(bt))+")"};function parseHex(_e){let $="",xt="",bt="",At="";return _e.length>5?($=_e.substring(1,3),xt=_e.substring(3,5),bt=_e.substring(5,7),At=_e.substring(7,9)):($=_e.substring(1,2),xt=_e.substring(2,3),bt=_e.substring(3,4),At=_e.substring(4,5),$+=$,xt+=xt,bt+=bt,At+=At),{red:parseInt($,16),green:parseInt(xt,16),blue:parseInt(bt,16),alpha:At?parseInt(At,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:_e,saturation:$,lightness:xt,alpha:bt=1})=>"hsla("+Math.round(_e)+", "+percent.transform(sanitize($))+", "+percent.transform(sanitize(xt))+", "+sanitize(alpha.transform(bt))+")"},color={test:_e=>rgba.test(_e)||hex.test(_e)||hsla.test(_e),parse:_e=>rgba.test(_e)?rgba.parse(_e):hsla.test(_e)?hsla.parse(_e):hex.parse(_e),transform:_e=>isString(_e)?_e:_e.hasOwnProperty("red")?rgba.transform(_e):hsla.transform(_e)};function test(_e){var $,xt;return isNaN(_e)&&isString(_e)&&((($=_e.match(floatRegex))===null||$===void 0?void 0:$.length)||0)+(((xt=_e.match(colorRegex))===null||xt===void 0?void 0:xt.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(_e){const $=_e.toString(),xt=[],bt={color:[],number:[],var:[]},At=[];let St=0;const Ct=$.replace(complexRegex,Pt=>(color.test(Pt)?(bt.color.push(St),At.push(COLOR_TOKEN),xt.push(color.parse(Pt))):Pt.startsWith(VAR_FUNCTION_TOKEN)?(bt.var.push(St),At.push(VAR_TOKEN),xt.push(Pt)):(bt.number.push(St),At.push(NUMBER_TOKEN),xt.push(parseFloat(Pt))),++St,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:xt,split:Ct,indexes:bt,types:At}}function parseComplexValue(_e){return analyseComplexValue(_e).values}function createTransformer(_e){const{split:$,types:xt}=analyseComplexValue(_e),bt=$.length;return At=>{let St="";for(let Et=0;Et<bt;Et++)if(St+=$[Et],At[Et]!==void 0){const Ct=xt[Et];Ct===NUMBER_TOKEN?St+=sanitize(At[Et]):Ct===COLOR_TOKEN?St+=color.transform(At[Et]):St+=At[Et]}return St}}const convertNumbersToZero=_e=>typeof _e=="number"?0:_e;function getAnimatableNone$1(_e){const $=parseComplexValue(_e);return createTransformer(_e)($.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(_e){const[$,xt]=_e.slice(0,-1).split("(");if($==="drop-shadow")return _e;const[bt]=xt.match(floatRegex)||[];if(!bt)return _e;const At=xt.replace(bt,"");let St=maxDefaults.has($)?1:0;return bt!==xt&&(St*=100),$+"("+St+At+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:_e=>{const $=_e.match(functionRegex);return $?$.map(applyDefaultFilter).join(" "):_e}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=_e=>defaultValueTypes[_e];function getAnimatableNone(_e,$){let xt=getDefaultValueType(_e);return xt!==filter&&(xt=complex),xt.getAnimatableNone?xt.getAnimatableNone($):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(_e,$,xt){let bt=0,At;for(;bt<_e.length&&!At;){const St=_e[bt];typeof St=="string"&&!invalidTemplates.has(St)&&analyseComplexValue(St).values.length&&(At=_e[bt]),bt++}if(At&&xt)for(const St of $)_e[St]=getAnimatableNone(xt,At)}class DOMKeyframesResolver extends KeyframeResolver{constructor($,xt,bt,At){super($,xt,bt,At,At==null?void 0:At.owner,!0)}readKeyframes(){const{unresolvedKeyframes:$,element:xt,name:bt}=this;if(!xt.current)return;super.readKeyframes();for(let Pt=0;Pt<$.length;Pt++){let wt=$[Pt];if(typeof wt=="string"&&(wt=wt.trim(),isCSSVariableToken(wt))){const kt=getVariableValue(wt,xt.current);kt!==void 0&&($[Pt]=kt),Pt===$.length-1&&(this.finalKeyframe=wt)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(bt)||$.length!==2)return;const[At,St]=$,Et=findDimensionValueType(At),Ct=findDimensionValueType(St);if(Et!==Ct)if(isNumOrPxType(Et)&&isNumOrPxType(Ct))for(let Pt=0;Pt<$.length;Pt++){const wt=$[Pt];typeof wt=="string"&&($[Pt]=parseFloat(wt))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:$,name:xt}=this,bt=[];for(let At=0;At<$.length;At++)isNone($[At])&&bt.push(At);bt.length&&makeNoneKeyframesAnimatable($,bt,xt)}measureInitialState(){const{element:$,unresolvedKeyframes:xt,name:bt}=this;if(!$.current)return;bt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[bt]($.measureViewportBox(),window.getComputedStyle($.current)),xt[0]=this.measuredOrigin;const At=xt[xt.length-1];At!==void 0&&$.getValue(bt,At).jump(At,!1)}measureEndState(){var $;const{element:xt,name:bt,unresolvedKeyframes:At}=this;if(!xt.current)return;const St=xt.getValue(bt);St&&St.jump(this.measuredOrigin,!1);const Et=At.length-1,Ct=At[Et];At[Et]=positionalValues[bt](xt.measureViewportBox(),window.getComputedStyle(xt.current)),Ct!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=Ct),!(($=this.removedTransforms)===null||$===void 0)&&$.length&&this.removedTransforms.forEach(([Pt,wt])=>{xt.getValue(Pt).set(wt)}),this.resolveNoneKeyframes()}}function memo(_e){let $;return()=>($===void 0&&($=_e()),$)}const isAnimatable=(_e,$)=>$==="zIndex"?!1:!!(typeof _e=="number"||Array.isArray(_e)||typeof _e=="string"&&(complex.test(_e)||_e==="0")&&!_e.startsWith("url("));function hasKeyframesChanged(_e){const $=_e[0];if(_e.length===1)return!0;for(let xt=0;xt<_e.length;xt++)if(_e[xt]!==$)return!0}function canAnimate(_e,$,xt,bt){const At=_e[0];if(At===null)return!1;if($==="display"||$==="visibility")return!0;const St=_e[_e.length-1],Et=isAnimatable(At,$),Ct=isAnimatable(St,$);return!Et||!Ct?!1:hasKeyframesChanged(_e)||xt==="spring"&&bt}class BaseAnimation{constructor({autoplay:$=!0,delay:xt=0,type:bt="keyframes",repeat:At=0,repeatDelay:St=0,repeatType:Et="loop",...Ct}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:$,delay:xt,type:bt,repeat:At,repeatDelay:St,repeatType:Et,...Ct},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved($,xt){this.hasAttemptedResolve=!0;const{name:bt,type:At,velocity:St,delay:Et,onComplete:Ct,onUpdate:Pt,isGenerator:wt}=this.options;if(!wt&&!canAnimate($,bt,At,St))if(Et)this.options.duration=0;else{Pt==null||Pt(getFinalKeyframe($,this.options,xt)),Ct==null||Ct(),this.resolveFinishedPromise();return}const kt=this.initPlayback($,xt);kt!==!1&&(this._resolved={keyframes:$,finalKeyframe:xt,...kt},this.onPostResolved())}onPostResolved(){}then($,xt){return this.currentFinishedPromise.then($,xt)}updateFinishedPromise(){this.currentFinishedPromise=new Promise($=>{this.resolveFinishedPromise=$})}}function velocityPerSecond(_e,$){return $?_e*(1e3/$):0}const velocitySampleDuration=5;function calcGeneratorVelocity(_e,$,xt){const bt=Math.max($-velocitySampleDuration,0);return velocityPerSecond(xt-_e(bt),$-bt)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:_e=800,bounce:$=.25,velocity:xt=0,mass:bt=1}){let At,St,Et=1-$;Et=clamp(minDamping,maxDamping,Et),_e=clamp(minDuration,maxDuration$1,millisecondsToSeconds(_e)),Et<1?(At=wt=>{const kt=wt*Et,Rt=kt*_e,ht=kt-xt,vt=calcAngularFreq(wt,Et),Ft=Math.exp(-Rt);return safeMin-ht/vt*Ft},St=wt=>{const Rt=wt*Et*_e,ht=Rt*xt+xt,vt=Math.pow(Et,2)*Math.pow(wt,2)*_e,Ft=Math.exp(-Rt),Ht=calcAngularFreq(Math.pow(wt,2),Et);return(-At(wt)+safeMin>0?-1:1)*((ht-vt)*Ft)/Ht}):(At=wt=>{const kt=Math.exp(-wt*_e),Rt=(wt-xt)*_e+1;return-safeMin+kt*Rt},St=wt=>{const kt=Math.exp(-wt*_e),Rt=(xt-wt)*(_e*_e);return kt*Rt});const Ct=5/_e,Pt=approximateRoot(At,St,Ct);if(_e=secondsToMilliseconds(_e),isNaN(Pt))return{stiffness:100,damping:10,duration:_e};{const wt=Math.pow(Pt,2)*bt;return{stiffness:wt,damping:Et*2*Math.sqrt(bt*wt),duration:_e}}}const rootIterations=12;function approximateRoot(_e,$,xt){let bt=xt;for(let At=1;At<rootIterations;At++)bt=bt-_e(bt)/$(bt);return bt}function calcAngularFreq(_e,$){return _e*Math.sqrt(1-$*$)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(_e,$){return $.some(xt=>_e[xt]!==void 0)}function getSpringOptions(_e){let $={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,..._e};if(!isSpringType(_e,physicsKeys)&&isSpringType(_e,durationKeys)){const xt=findSpring(_e);$={...$,...xt,mass:1},$.isResolvedFromDuration=!0}return $}function spring({keyframes:_e,restDelta:$,restSpeed:xt,...bt}){const At=_e[0],St=_e[_e.length-1],Et={done:!1,value:At},{stiffness:Ct,damping:Pt,mass:wt,duration:kt,velocity:Rt,isResolvedFromDuration:ht}=getSpringOptions({...bt,velocity:-millisecondsToSeconds(bt.velocity||0)}),vt=Rt||0,Ft=Pt/(2*Math.sqrt(Ct*wt)),Ht=St-At,qt=millisecondsToSeconds(Math.sqrt(Ct/wt)),Nt=Math.abs(Ht)<5;xt||(xt=Nt?.01:2),$||($=Nt?.005:.5);let $t;if(Ft<1){const Mt=calcAngularFreq(qt,Ft);$t=Bt=>{const _t=Math.exp(-Ft*qt*Bt);return St-_t*((vt+Ft*qt*Ht)/Mt*Math.sin(Mt*Bt)+Ht*Math.cos(Mt*Bt))}}else if(Ft===1)$t=Mt=>St-Math.exp(-qt*Mt)*(Ht+(vt+qt*Ht)*Mt);else{const Mt=qt*Math.sqrt(Ft*Ft-1);$t=Bt=>{const _t=Math.exp(-Ft*qt*Bt),Kt=Math.min(Mt*Bt,300);return St-_t*((vt+Ft*qt*Ht)*Math.sinh(Kt)+Mt*Ht*Math.cosh(Kt))/Mt}}return{calculatedDuration:ht&&kt||null,next:Mt=>{const Bt=$t(Mt);if(ht)Et.done=Mt>=kt;else{let _t=vt;Mt!==0&&(Ft<1?_t=calcGeneratorVelocity($t,Mt,Bt):_t=0);const Kt=Math.abs(_t)<=xt,jt=Math.abs(St-Bt)<=$;Et.done=Kt&&jt}return Et.value=Et.done?St:Bt,Et}}}function inertia({keyframes:_e,velocity:$=0,power:xt=.8,timeConstant:bt=325,bounceDamping:At=10,bounceStiffness:St=500,modifyTarget:Et,min:Ct,max:Pt,restDelta:wt=.5,restSpeed:kt}){const Rt=_e[0],ht={done:!1,value:Rt},vt=Gt=>Ct!==void 0&&Gt<Ct||Pt!==void 0&&Gt>Pt,Ft=Gt=>Ct===void 0?Pt:Pt===void 0||Math.abs(Ct-Gt)<Math.abs(Pt-Gt)?Ct:Pt;let Ht=xt*$;const qt=Rt+Ht,Nt=Et===void 0?qt:Et(qt);Nt!==qt&&(Ht=Nt-Rt);const $t=Gt=>-Ht*Math.exp(-Gt/bt),Mt=Gt=>Nt+$t(Gt),Bt=Gt=>{const Qt=$t(Gt),ln=Mt(Gt);ht.done=Math.abs(Qt)<=wt,ht.value=ht.done?Nt:ln};let _t,Kt;const jt=Gt=>{vt(ht.value)&&(_t=Gt,Kt=spring({keyframes:[ht.value,Ft(ht.value)],velocity:calcGeneratorVelocity(Mt,Gt,ht.value),damping:At,stiffness:St,restDelta:wt,restSpeed:kt}))};return jt(0),{calculatedDuration:null,next:Gt=>{let Qt=!1;return!Kt&&_t===void 0&&(Qt=!0,Bt(Gt),jt(Gt)),_t!==void 0&&Gt>=_t?Kt.next(Gt-_t):(!Qt&&Bt(Gt),ht)}}}const calcBezier=(_e,$,xt)=>(((1-3*xt+3*$)*_e+(3*xt-6*$))*_e+3*$)*_e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(_e,$,xt,bt,At){let St,Et,Ct=0;do Et=$+(xt-$)/2,St=calcBezier(Et,bt,At)-_e,St>0?xt=Et:$=Et;while(Math.abs(St)>subdivisionPrecision&&++Ct<subdivisionMaxIterations);return Et}function cubicBezier(_e,$,xt,bt){if(_e===$&&xt===bt)return noop;const At=St=>binarySubdivide(St,0,1,_e,xt);return St=>St===0||St===1?St:calcBezier(At(St),$,bt)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=_e=>Array.isArray(_e)&&typeof _e[0]!="number",mirrorEasing=_e=>$=>$<=.5?_e(2*$)/2:(2-_e(2*(1-$)))/2,reverseEasing=_e=>$=>1-_e(1-$),circIn=_e=>1-Math.sin(Math.acos(_e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=_e=>(_e*=2)<1?.5*backIn(_e):.5*(2-Math.pow(2,-10*(_e-1))),easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=_e=>{if(Array.isArray(_e)){invariant(_e.length===4);const[$,xt,bt,At]=_e;return cubicBezier($,xt,bt,At)}else if(typeof _e=="string")return invariant(easingLookup[_e]!==void 0),easingLookup[_e];return _e},progress=(_e,$,xt)=>{const bt=$-_e;return bt===0?1:(xt-_e)/bt},mixNumber$1=(_e,$,xt)=>_e+($-_e)*xt;function hueToRgb(_e,$,xt){return xt<0&&(xt+=1),xt>1&&(xt-=1),xt<1/6?_e+($-_e)*6*xt:xt<1/2?$:xt<2/3?_e+($-_e)*(2/3-xt)*6:_e}function hslaToRgba({hue:_e,saturation:$,lightness:xt,alpha:bt}){_e/=360,$/=100,xt/=100;let At=0,St=0,Et=0;if(!$)At=St=Et=xt;else{const Ct=xt<.5?xt*(1+$):xt+$-xt*$,Pt=2*xt-Ct;At=hueToRgb(Pt,Ct,_e+1/3),St=hueToRgb(Pt,Ct,_e),Et=hueToRgb(Pt,Ct,_e-1/3)}return{red:Math.round(At*255),green:Math.round(St*255),blue:Math.round(Et*255),alpha:bt}}function mixImmediate(_e,$){return xt=>xt>0?$:_e}const mixLinearColor=(_e,$,xt)=>{const bt=_e*_e,At=xt*($*$-bt)+bt;return At<0?0:Math.sqrt(At)},colorTypes=[hex,rgba,hsla],getColorType=_e=>colorTypes.find($=>$.test(_e));function asRGBA(_e){const $=getColorType(_e);if(!$)return!1;let xt=$.parse(_e);return $===hsla&&(xt=hslaToRgba(xt)),xt}const mixColor=(_e,$)=>{const xt=asRGBA(_e),bt=asRGBA($);if(!xt||!bt)return mixImmediate(_e,$);const At={...xt};return St=>(At.red=mixLinearColor(xt.red,bt.red,St),At.green=mixLinearColor(xt.green,bt.green,St),At.blue=mixLinearColor(xt.blue,bt.blue,St),At.alpha=mixNumber$1(xt.alpha,bt.alpha,St),rgba.transform(At))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(_e,$){return invisibleValues.has(_e)?xt=>xt<=0?_e:$:xt=>xt>=1?$:_e}function mixNumber(_e,$){return xt=>mixNumber$1(_e,$,xt)}function getMixer(_e){return typeof _e=="number"?mixNumber:typeof _e=="string"?isCSSVariableToken(_e)?mixImmediate:color.test(_e)?mixColor:mixComplex:Array.isArray(_e)?mixArray:typeof _e=="object"?color.test(_e)?mixColor:mixObject:mixImmediate}function mixArray(_e,$){const xt=[..._e],bt=xt.length,At=_e.map((St,Et)=>getMixer(St)(St,$[Et]));return St=>{for(let Et=0;Et<bt;Et++)xt[Et]=At[Et](St);return xt}}function mixObject(_e,$){const xt={..._e,...$},bt={};for(const At in xt)_e[At]!==void 0&&$[At]!==void 0&&(bt[At]=getMixer(_e[At])(_e[At],$[At]));return At=>{for(const St in bt)xt[St]=bt[St](At);return xt}}function matchOrder(_e,$){var xt;const bt=[],At={color:0,var:0,number:0};for(let St=0;St<$.values.length;St++){const Et=$.types[St],Ct=_e.indexes[Et][At[Et]],Pt=(xt=_e.values[Ct])!==null&&xt!==void 0?xt:0;bt[St]=Pt,At[Et]++}return bt}const mixComplex=(_e,$)=>{const xt=complex.createTransformer($),bt=analyseComplexValue(_e),At=analyseComplexValue($);return bt.indexes.var.length===At.indexes.var.length&&bt.indexes.color.length===At.indexes.color.length&&bt.indexes.number.length>=At.indexes.number.length?invisibleValues.has(_e)&&!At.values.length||invisibleValues.has($)&&!bt.values.length?mixVisibility(_e,$):pipe(mixArray(matchOrder(bt,At),At.values),xt):mixImmediate(_e,$)};function mix(_e,$,xt){return typeof _e=="number"&&typeof $=="number"&&typeof xt=="number"?mixNumber$1(_e,$,xt):getMixer(_e)(_e,$)}function createMixers(_e,$,xt){const bt=[],At=xt||mix,St=_e.length-1;for(let Et=0;Et<St;Et++){let Ct=At(_e[Et],_e[Et+1]);if($){const Pt=Array.isArray($)?$[Et]||noop:$;Ct=pipe(Pt,Ct)}bt.push(Ct)}return bt}function interpolate(_e,$,{clamp:xt=!0,ease:bt,mixer:At}={}){const St=_e.length;if(invariant(St===$.length),St===1)return()=>$[0];if(St===2&&_e[0]===_e[1])return()=>$[1];_e[0]>_e[St-1]&&(_e=[..._e].reverse(),$=[...$].reverse());const Et=createMixers($,bt,At),Ct=Et.length,Pt=wt=>{let kt=0;if(Ct>1)for(;kt<_e.length-2&&!(wt<_e[kt+1]);kt++);const Rt=progress(_e[kt],_e[kt+1],wt);return Et[kt](Rt)};return xt?wt=>Pt(clamp(_e[0],_e[St-1],wt)):Pt}function fillOffset(_e,$){const xt=_e[_e.length-1];for(let bt=1;bt<=$;bt++){const At=progress(0,$,bt);_e.push(mixNumber$1(xt,1,At))}}function defaultOffset(_e){const $=[0];return fillOffset($,_e.length-1),$}function convertOffsetToTimes(_e,$){return _e.map(xt=>xt*$)}function defaultEasing(_e,$){return _e.map(()=>$||easeInOut).splice(0,_e.length-1)}function keyframes({duration:_e=300,keyframes:$,times:xt,ease:bt="easeInOut"}){const At=isEasingArray(bt)?bt.map(easingDefinitionToFunction):easingDefinitionToFunction(bt),St={done:!1,value:$[0]},Et=convertOffsetToTimes(xt&&xt.length===$.length?xt:defaultOffset($),_e),Ct=interpolate(Et,$,{ease:Array.isArray(At)?At:defaultEasing($,At)});return{calculatedDuration:_e,next:Pt=>(St.value=Ct(Pt),St.done=Pt>=_e,St)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(_e){let $=0;const xt=50;let bt=_e.next($);for(;!bt.done&&$<maxGeneratorDuration;)$+=xt,bt=_e.next($);return $>=maxGeneratorDuration?1/0:$}const frameloopDriver=_e=>{const $=({timestamp:xt})=>_e(xt);return{start:()=>frame.update($,!0),stop:()=>cancelFrame($),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=_e=>_e/100;class MainThreadAnimation extends BaseAnimation{constructor({KeyframeResolver:$=KeyframeResolver,...xt}){super(xt),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:Ct}=this.options;Ct&&Ct()};const{name:bt,motionValue:At,keyframes:St}=this.options,Et=(Ct,Pt)=>this.onKeyframesResolved(Ct,Pt);bt&&At&&At.owner?this.resolver=At.owner.resolveKeyframes(St,Et,bt,At):this.resolver=new $(St,Et,bt,At),this.resolver.scheduleResolve()}initPlayback($){const{type:xt="keyframes",repeat:bt=0,repeatDelay:At=0,repeatType:St,velocity:Et=0}=this.options,Ct=generators[xt]||keyframes;let Pt,wt;Ct!==keyframes&&typeof $[0]!="number"&&(Pt=pipe(percentToProgress,mix($[0],$[1])),$=[0,100]);const kt=Ct({...this.options,keyframes:$});St==="mirror"&&(wt=Ct({...this.options,keyframes:[...$].reverse(),velocity:-Et})),kt.calculatedDuration===null&&(kt.calculatedDuration=calcGeneratorDuration(kt));const{calculatedDuration:Rt}=kt,ht=Rt+At,vt=ht*(bt+1)-At;return{generator:kt,mirroredGenerator:wt,mapPercentToKeyframes:Pt,calculatedDuration:Rt,resolvedDuration:ht,totalDuration:vt}}onPostResolved(){const{autoplay:$=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!$?this.pause():this.state=this.pendingPlayState}tick($,xt=!1){const{resolved:bt}=this;if(!bt){const{keyframes:Gt}=this.options;return{done:!0,value:Gt[Gt.length-1]}}const{finalKeyframe:At,generator:St,mirroredGenerator:Et,mapPercentToKeyframes:Ct,keyframes:Pt,calculatedDuration:wt,totalDuration:kt,resolvedDuration:Rt}=bt;if(this.startTime===null)return St.next(0);const{delay:ht,repeat:vt,repeatType:Ft,repeatDelay:Ht,onUpdate:qt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,$):this.speed<0&&(this.startTime=Math.min($-kt/this.speed,this.startTime)),xt?this.currentTime=$:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round($-this.startTime)*this.speed;const Nt=this.currentTime-ht*(this.speed>=0?1:-1),$t=this.speed>=0?Nt<0:Nt>kt;this.currentTime=Math.max(Nt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=kt);let Mt=this.currentTime,Bt=St;if(vt){const Gt=Math.min(this.currentTime,kt)/Rt;let Qt=Math.floor(Gt),ln=Gt%1;!ln&&Gt>=1&&(ln=1),ln===1&&Qt--,Qt=Math.min(Qt,vt+1),!!(Qt%2)&&(Ft==="reverse"?(ln=1-ln,Ht&&(ln-=Ht/Rt)):Ft==="mirror"&&(Bt=Et)),Mt=clamp(0,1,ln)*Rt}const _t=$t?{done:!1,value:Pt[0]}:Bt.next(Mt);Ct&&(_t.value=Ct(_t.value));let{done:Kt}=_t;!$t&&wt!==null&&(Kt=this.speed>=0?this.currentTime>=kt:this.currentTime<=0);const jt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Kt);return jt&&At!==void 0&&(_t.value=getFinalKeyframe(Pt,this.options,At)),qt&&qt(_t.value),jt&&this.finish(),_t}get duration(){const{resolved:$}=this;return $?millisecondsToSeconds($.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time($){$=secondsToMilliseconds($),this.currentTime=$,this.holdTime!==null||this.speed===0?this.holdTime=$:this.driver&&(this.startTime=this.driver.now()-$/this.speed)}get speed(){return this.playbackSpeed}set speed($){const xt=this.playbackSpeed!==$;this.playbackSpeed=$,xt&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:$=frameloopDriver,onPlay:xt}=this.options;this.driver||(this.driver=$(At=>this.tick(At))),xt&&xt();const bt=this.driver.now();this.holdTime!==null?this.startTime=bt-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=bt),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var $;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=($=this.currentTime)!==null&&$!==void 0?$:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:$}=this.options;$&&$()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample($){return this.startTime=0,this.tick($,!0)}}const isBezierDefinition=_e=>Array.isArray(_e)&&typeof _e[0]=="number";function isWaapiSupportedEasing(_e){return!!(!_e||typeof _e=="string"&&_e in supportedWaapiEasing||isBezierDefinition(_e)||Array.isArray(_e)&&_e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([_e,$,xt,bt])=>`cubic-bezier(${_e}, ${$}, ${xt}, ${bt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasingWithDefault(_e){return mapEasingToNativeEasing(_e)||supportedWaapiEasing.easeOut}function mapEasingToNativeEasing(_e){if(_e)return isBezierDefinition(_e)?cubicBezierAsString(_e):Array.isArray(_e)?_e.map(mapEasingToNativeEasingWithDefault):supportedWaapiEasing[_e]}function animateStyle(_e,$,xt,{delay:bt=0,duration:At=300,repeat:St=0,repeatType:Et="loop",ease:Ct,times:Pt}={}){const wt={[$]:xt};Pt&&(wt.offset=Pt);const kt=mapEasingToNativeEasing(Ct);return Array.isArray(kt)&&(wt.easing=kt),_e.animate(wt,{delay:bt,duration:At,easing:Array.isArray(kt)?"linear":kt,fill:"both",iterations:St+1,direction:Et==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(_e){return _e.type==="spring"||_e.name==="backgroundColor"||!isWaapiSupportedEasing(_e.ease)}function pregenerateKeyframes(_e,$){const xt=new MainThreadAnimation({...$,keyframes:_e,repeat:0,delay:0,isGenerator:!0});let bt={done:!1,value:_e[0]};const At=[];let St=0;for(;!bt.done&&St<maxDuration;)bt=xt.sample(St),At.push(bt.value),St+=sampleDelta;return{times:void 0,keyframes:At,duration:St-sampleDelta,ease:"linear"}}class AcceleratedAnimation extends BaseAnimation{constructor($){super($);const{name:xt,motionValue:bt,keyframes:At}=this.options;this.resolver=new DOMKeyframesResolver(At,(St,Et)=>this.onKeyframesResolved(St,Et),xt,bt),this.resolver.scheduleResolve()}initPlayback($,xt){var bt;let{duration:At=300,times:St,ease:Et,type:Ct,motionValue:Pt,name:wt}=this.options;if(!(!((bt=Pt.owner)===null||bt===void 0)&&bt.current))return!1;if(requiresPregeneratedKeyframes(this.options)){const{onComplete:Rt,onUpdate:ht,motionValue:vt,...Ft}=this.options,Ht=pregenerateKeyframes($,Ft);$=Ht.keyframes,$.length===1&&($[1]=$[0]),At=Ht.duration,St=Ht.times,Et=Ht.ease,Ct="keyframes"}const kt=animateStyle(Pt.owner.current,wt,$,{...this.options,duration:At,times:St,ease:Et});return kt.startTime=time.now(),this.pendingTimeline?(kt.timeline=this.pendingTimeline,this.pendingTimeline=void 0):kt.onfinish=()=>{const{onComplete:Rt}=this.options;Pt.set(getFinalKeyframe($,this.options,xt)),Rt&&Rt(),this.cancel(),this.resolveFinishedPromise()},{animation:kt,duration:At,times:St,type:Ct,ease:Et,keyframes:$}}get duration(){const{resolved:$}=this;if(!$)return 0;const{duration:xt}=$;return millisecondsToSeconds(xt)}get time(){const{resolved:$}=this;if(!$)return 0;const{animation:xt}=$;return millisecondsToSeconds(xt.currentTime||0)}set time($){const{resolved:xt}=this;if(!xt)return;const{animation:bt}=xt;bt.currentTime=secondsToMilliseconds($)}get speed(){const{resolved:$}=this;if(!$)return 1;const{animation:xt}=$;return xt.playbackRate}set speed($){const{resolved:xt}=this;if(!xt)return;const{animation:bt}=xt;bt.playbackRate=$}get state(){const{resolved:$}=this;if(!$)return"idle";const{animation:xt}=$;return xt.playState}attachTimeline($){if(!this._resolved)this.pendingTimeline=$;else{const{resolved:xt}=this;if(!xt)return noop;const{animation:bt}=xt;bt.timeline=$,bt.onfinish=null}return noop}play(){if(this.isStopped)return;const{resolved:$}=this;if(!$)return;const{animation:xt}=$;xt.playState==="finished"&&this.updateFinishedPromise(),xt.play()}pause(){const{resolved:$}=this;if(!$)return;const{animation:xt}=$;xt.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:$}=this;if(!$)return;const{animation:xt,keyframes:bt,duration:At,type:St,ease:Et,times:Ct}=$;if(!(xt.playState==="idle"||xt.playState==="finished")){if(this.time){const{motionValue:Pt,onUpdate:wt,onComplete:kt,...Rt}=this.options,ht=new MainThreadAnimation({...Rt,keyframes:bt,duration:At,type:St,ease:Et,times:Ct,isGenerator:!0}),vt=secondsToMilliseconds(this.time);Pt.setWithVelocity(ht.sample(vt-sampleDelta).value,ht.sample(vt).value,sampleDelta)}this.cancel()}}complete(){const{resolved:$}=this;$&&$.animation.finish()}cancel(){const{resolved:$}=this;$&&$.animation.cancel()}static supports($){const{motionValue:xt,name:bt,repeatDelay:At,repeatType:St,damping:Et,type:Ct}=$;return supportsWaapi()&&bt&&acceleratedValues.has(bt)&&xt&&xt.owner&&xt.owner.current instanceof HTMLElement&&!xt.owner.getProps().onUpdate&&!At&&St!=="mirror"&&Et!==0&&Ct!=="inertia"}}function observeTimeline(_e,$){let xt;const bt=()=>{const{currentTime:At}=$,Et=(At===null?0:At.value)/100;xt!==Et&&_e(Et),xt=Et};return frame.update(bt,!0),()=>cancelFrame(bt)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor($){this.stop=()=>this.runAll("stop"),this.animations=$.filter(Boolean)}then($,xt){return Promise.all(this.animations).then($).catch(xt)}getAll($){return this.animations[0][$]}setAll($,xt){for(let bt=0;bt<this.animations.length;bt++)this.animations[bt][$]=xt}attachTimeline($){const xt=this.animations.map(bt=>{if(supportsScrollTimeline()&&bt.attachTimeline)bt.attachTimeline($);else return bt.pause(),observeTimeline(At=>{bt.time=bt.duration*At},$)});return()=>{xt.forEach((bt,At)=>{bt&&bt(),this.animations[At].stop()})}}get time(){return this.getAll("time")}set time($){this.setAll("time",$)}get speed(){return this.getAll("speed")}set speed($){this.setAll("speed",$)}get duration(){let $=0;for(let xt=0;xt<this.animations.length;xt++)$=Math.max($,this.animations[xt].duration);return $}runAll($){this.animations.forEach(xt=>xt[$]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const animateMotionValue=(_e,$,xt,bt={},At,St)=>Et=>{const Ct=getValueTransition(bt,_e)||{},Pt=Ct.delay||bt.delay||0;let{elapsed:wt=0}=bt;wt=wt-secondsToMilliseconds(Pt);let kt={keyframes:Array.isArray(xt)?xt:[null,xt],ease:"easeOut",velocity:$.getVelocity(),...Ct,delay:-wt,onUpdate:ht=>{$.set(ht),Ct.onUpdate&&Ct.onUpdate(ht)},onComplete:()=>{Et(),Ct.onComplete&&Ct.onComplete()},name:_e,motionValue:$,element:St?void 0:At};isTransitionDefined(Ct)||(kt={...kt,...getDefaultTransition(_e,kt)}),kt.duration&&(kt.duration=secondsToMilliseconds(kt.duration)),kt.repeatDelay&&(kt.repeatDelay=secondsToMilliseconds(kt.repeatDelay)),kt.from!==void 0&&(kt.keyframes[0]=kt.from);let Rt=!1;if((kt.type===!1||kt.duration===0&&!kt.repeatDelay)&&(kt.duration=0,kt.delay===0&&(Rt=!0)),Rt&&!St&&$.get()!==void 0){const ht=getFinalKeyframe(kt.keyframes,Ct);if(ht!==void 0)return frame.update(()=>{kt.onUpdate(ht),kt.onComplete()}),new GroupPlaybackControls([])}return!St&&AcceleratedAnimation.supports(kt)?new AcceleratedAnimation(kt):new MainThreadAnimation(kt)};function isWillChangeMotionValue(_e){return!!(isMotionValue(_e)&&_e.add)}function addUniqueItem(_e,$){_e.indexOf($)===-1&&_e.push($)}function removeItem(_e,$){const xt=_e.indexOf($);xt>-1&&_e.splice(xt,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add($){return addUniqueItem(this.subscriptions,$),()=>removeItem(this.subscriptions,$)}notify($,xt,bt){const At=this.subscriptions.length;if(At)if(At===1)this.subscriptions[0]($,xt,bt);else for(let St=0;St<At;St++){const Et=this.subscriptions[St];Et&&Et($,xt,bt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=_e=>!isNaN(parseFloat(_e));class MotionValue{constructor($,xt={}){this.version="11.2.13",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(bt,At=!0)=>{const St=time.now();this.updatedAt!==St&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(bt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),At&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent($),this.owner=xt.owner}setCurrent($){this.current=$,this.updatedAt=time.now(),this.canTrackVelocity===null&&$!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue($=this.current){this.prevFrameValue=$,this.prevUpdatedAt=this.updatedAt}onChange($){return this.on("change",$)}on($,xt){this.events[$]||(this.events[$]=new SubscriptionManager);const bt=this.events[$].add(xt);return $==="change"?()=>{bt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:bt}clearListeners(){for(const $ in this.events)this.events[$].clear()}attach($,xt){this.passiveEffect=$,this.stopPassiveEffect=xt}set($,xt=!0){!xt||!this.passiveEffect?this.updateAndNotify($,xt):this.passiveEffect($,this.updateAndNotify)}setWithVelocity($,xt,bt){this.set(xt),this.prev=void 0,this.prevFrameValue=$,this.prevUpdatedAt=this.updatedAt-bt}jump($,xt=!0){this.updateAndNotify($),this.prev=$,this.prevUpdatedAt=this.prevFrameValue=void 0,xt&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const $=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||$-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const xt=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),xt)}start($){return this.stop(),new Promise(xt=>{this.hasAnimated=!0,this.animation=$(xt),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(_e,$){return new MotionValue(_e,$)}function setMotionValue(_e,$,xt){_e.hasValue($)?_e.getValue($).set(xt):_e.addValue($,motionValue(xt))}function setTarget(_e,$){const xt=resolveVariant(_e,$);let{transitionEnd:bt={},transition:At={},...St}=xt||{};St={...St,...bt};for(const Et in St){const Ct=resolveFinalValueInKeyframes(St[Et]);setMotionValue(_e,Et,Ct)}}function getOptimisedAppearId(_e){return _e.getProps()[optimizedAppearDataAttribute]}function shouldBlockAnimation({protectedKeys:_e,needsAnimating:$},xt){const bt=_e.hasOwnProperty(xt)&&$[xt]!==!0;return $[xt]=!1,bt}function animateTarget(_e,$,{delay:xt=0,transitionOverride:bt,type:At}={}){var St;let{transition:Et=_e.getDefaultTransition(),transitionEnd:Ct,...Pt}=$;const wt=_e.getValue("willChange");bt&&(Et=bt);const kt=[],Rt=At&&_e.animationState&&_e.animationState.getState()[At];for(const ht in Pt){const vt=_e.getValue(ht,(St=_e.latestValues[ht])!==null&&St!==void 0?St:null),Ft=Pt[ht];if(Ft===void 0||Rt&&shouldBlockAnimation(Rt,ht))continue;const Ht={delay:xt,elapsed:0,...getValueTransition(Et||{},ht)};let qt=!1;if(window.HandoffAppearAnimations){const $t=getOptimisedAppearId(_e);if($t){const Mt=window.HandoffAppearAnimations($t,ht,vt,frame);Mt!==null&&(Ht.elapsed=Mt,qt=!0)}}vt.start(animateMotionValue(ht,vt,Ft,_e.shouldReduceMotion&&transformProps.has(ht)?{type:!1}:Ht,_e,qt));const Nt=vt.animation;Nt&&(isWillChangeMotionValue(wt)&&(wt.add(ht),Nt.then(()=>wt.remove(ht))),kt.push(Nt))}return Ct&&Promise.all(kt).then(()=>{frame.update(()=>{Ct&&setTarget(_e,Ct)})}),kt}function animateVariant(_e,$,xt={}){var bt;const At=resolveVariant(_e,$,xt.type==="exit"?(bt=_e.presenceContext)===null||bt===void 0?void 0:bt.custom:void 0);let{transition:St=_e.getDefaultTransition()||{}}=At||{};xt.transitionOverride&&(St=xt.transitionOverride);const Et=At?()=>Promise.all(animateTarget(_e,At,xt)):()=>Promise.resolve(),Ct=_e.variantChildren&&_e.variantChildren.size?(wt=0)=>{const{delayChildren:kt=0,staggerChildren:Rt,staggerDirection:ht}=St;return animateChildren(_e,$,kt+wt,Rt,ht,xt)}:()=>Promise.resolve(),{when:Pt}=St;if(Pt){const[wt,kt]=Pt==="beforeChildren"?[Et,Ct]:[Ct,Et];return wt().then(()=>kt())}else return Promise.all([Et(),Ct(xt.delay)])}function animateChildren(_e,$,xt=0,bt=0,At=1,St){const Et=[],Ct=(_e.variantChildren.size-1)*bt,Pt=At===1?(wt=0)=>wt*bt:(wt=0)=>Ct-wt*bt;return Array.from(_e.variantChildren).sort(sortByTreeOrder).forEach((wt,kt)=>{wt.notify("AnimationStart",$),Et.push(animateVariant(wt,$,{...St,delay:xt+Pt(kt)}).then(()=>wt.notify("AnimationComplete",$)))}),Promise.all(Et)}function sortByTreeOrder(_e,$){return _e.sortNodePosition($)}function animateVisualElement(_e,$,xt={}){_e.notify("AnimationStart",$);let bt;if(Array.isArray($)){const At=$.map(St=>animateVariant(_e,St,xt));bt=Promise.all(At)}else if(typeof $=="string")bt=animateVariant(_e,$,xt);else{const At=typeof $=="function"?resolveVariant(_e,$,xt.custom):$;bt=Promise.all(animateTarget(_e,At,xt))}return bt.then(()=>{frame.postRender(()=>{_e.notify("AnimationComplete",$)})})}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(_e){return $=>Promise.all($.map(({animation:xt,options:bt})=>animateVisualElement(_e,xt,bt)))}function createAnimationState(_e){let $=animateList(_e),xt=createState(),bt=!0;const At=Pt=>(wt,kt)=>{var Rt;const ht=resolveVariant(_e,kt,Pt==="exit"?(Rt=_e.presenceContext)===null||Rt===void 0?void 0:Rt.custom:void 0);if(ht){const{transition:vt,transitionEnd:Ft,...Ht}=ht;wt={...wt,...Ht,...Ft}}return wt};function St(Pt){$=Pt(_e)}function Et(Pt){const wt=_e.getProps(),kt=_e.getVariantContext(!0)||{},Rt=[],ht=new Set;let vt={},Ft=1/0;for(let qt=0;qt<numAnimationTypes;qt++){const Nt=reversePriorityOrder[qt],$t=xt[Nt],Mt=wt[Nt]!==void 0?wt[Nt]:kt[Nt],Bt=isVariantLabel(Mt),_t=Nt===Pt?$t.isActive:null;_t===!1&&(Ft=qt);let Kt=Mt===kt[Nt]&&Mt!==wt[Nt]&&Bt;if(Kt&&bt&&_e.manuallyAnimateOnMount&&(Kt=!1),$t.protectedKeys={...vt},!$t.isActive&&_t===null||!Mt&&!$t.prevProp||isAnimationControls(Mt)||typeof Mt=="boolean")continue;let Gt=checkVariantsDidChange($t.prevProp,Mt)||Nt===Pt&&$t.isActive&&!Kt&&Bt||qt>Ft&&Bt,Qt=!1;const ln=Array.isArray(Mt)?Mt:[Mt];let en=ln.reduce(At(Nt),{});_t===!1&&(en={});const{prevResolvedValues:gn={}}=$t,tn={...gn,...en},bn=Xt=>{Gt=!0,ht.has(Xt)&&(Qt=!0,ht.delete(Xt)),$t.needsAnimating[Xt]=!0;const Yt=_e.getValue(Xt);Yt&&(Yt.liveStyle=!1)};for(const Xt in tn){const Yt=en[Xt],un=gn[Xt];if(vt.hasOwnProperty(Xt))continue;let Ut=!1;isKeyframesTarget(Yt)&&isKeyframesTarget(un)?Ut=!shallowCompare(Yt,un):Ut=Yt!==un,Ut?Yt!=null?bn(Xt):ht.add(Xt):Yt!==void 0&&ht.has(Xt)?bn(Xt):$t.protectedKeys[Xt]=!0}$t.prevProp=Mt,$t.prevResolvedValues=en,$t.isActive&&(vt={...vt,...en}),bt&&_e.blockInitialAnimation&&(Gt=!1),Gt&&(!Kt||Qt)&&Rt.push(...ln.map(Xt=>({animation:Xt,options:{type:Nt}})))}if(ht.size){const qt={};ht.forEach(Nt=>{const $t=_e.getBaseTarget(Nt),Mt=_e.getValue(Nt);Mt&&(Mt.liveStyle=!0),qt[Nt]=$t??null}),Rt.push({animation:qt})}let Ht=!!Rt.length;return bt&&(wt.initial===!1||wt.initial===wt.animate)&&!_e.manuallyAnimateOnMount&&(Ht=!1),bt=!1,Ht?$(Rt):Promise.resolve()}function Ct(Pt,wt){var kt;if(xt[Pt].isActive===wt)return Promise.resolve();(kt=_e.variantChildren)===null||kt===void 0||kt.forEach(ht=>{var vt;return(vt=ht.animationState)===null||vt===void 0?void 0:vt.setActive(Pt,wt)}),xt[Pt].isActive=wt;const Rt=Et(Pt);for(const ht in xt)xt[ht].protectedKeys={};return Rt}return{animateChanges:Et,setActive:Ct,setAnimateFunction:St,getState:()=>xt,reset:()=>{xt=createState(),bt=!0}}}function checkVariantsDidChange(_e,$){return typeof $=="string"?$!==_e:Array.isArray($)?!shallowCompare($,_e):!1}function createTypeState(_e=!1){return{isActive:_e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor($){super($),$.animationState||($.animationState=createAnimationState($))}updateAnimationControlsSubscription(){const{animate:$}=this.node.getProps();isAnimationControls($)&&(this.unmountControls=$.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:$}=this.node.getProps(),{animate:xt}=this.node.prevProps||{};$!==xt&&this.updateAnimationControlsSubscription()}unmount(){var $;this.node.animationState.reset(),($=this.unmountControls)===null||$===void 0||$.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:$,onExitComplete:xt}=this.node.presenceContext,{isPresent:bt}=this.node.prevPresenceContext||{};if(!this.node.animationState||$===bt)return;const At=this.node.animationState.setActive("exit",!$);xt&&!$&&At.then(()=>xt(this.id))}mount(){const{register:$}=this.node.presenceContext||{};$&&(this.unmount=$(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(_e,$)=>Math.abs(_e-$);function distance2D(_e,$){const xt=distance(_e.x,$.x),bt=distance(_e.y,$.y);return Math.sqrt(xt**2+bt**2)}class PanSession{constructor($,xt,{transformPagePoint:bt,contextWindow:At,dragSnapToOrigin:St=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Rt=getPanInfo(this.lastMoveEventInfo,this.history),ht=this.startEvent!==null,vt=distance2D(Rt.offset,{x:0,y:0})>=3;if(!ht&&!vt)return;const{point:Ft}=Rt,{timestamp:Ht}=frameData;this.history.push({...Ft,timestamp:Ht});const{onStart:qt,onMove:Nt}=this.handlers;ht||(qt&&qt(this.lastMoveEvent,Rt),this.startEvent=this.lastMoveEvent),Nt&&Nt(this.lastMoveEvent,Rt)},this.handlePointerMove=(Rt,ht)=>{this.lastMoveEvent=Rt,this.lastMoveEventInfo=transformPoint(ht,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(Rt,ht)=>{this.end();const{onEnd:vt,onSessionEnd:Ft,resumeAnimation:Ht}=this.handlers;if(this.dragSnapToOrigin&&Ht&&Ht(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const qt=getPanInfo(Rt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(ht,this.transformPagePoint),this.history);this.startEvent&&vt&&vt(Rt,qt),Ft&&Ft(Rt,qt)},!isPrimaryPointer($))return;this.dragSnapToOrigin=St,this.handlers=xt,this.transformPagePoint=bt,this.contextWindow=At||window;const Et=extractEventInfo($),Ct=transformPoint(Et,this.transformPagePoint),{point:Pt}=Ct,{timestamp:wt}=frameData;this.history=[{...Pt,timestamp:wt}];const{onSessionStart:kt}=xt;kt&&kt($,getPanInfo(Ct,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers($){this.handlers=$}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(_e,$){return $?{point:$(_e.point)}:_e}function subtractPoint(_e,$){return{x:_e.x-$.x,y:_e.y-$.y}}function getPanInfo({point:_e},$){return{point:_e,delta:subtractPoint(_e,lastDevicePoint($)),offset:subtractPoint(_e,startDevicePoint($)),velocity:getVelocity($,.1)}}function startDevicePoint(_e){return _e[0]}function lastDevicePoint(_e){return _e[_e.length-1]}function getVelocity(_e,$){if(_e.length<2)return{x:0,y:0};let xt=_e.length-1,bt=null;const At=lastDevicePoint(_e);for(;xt>=0&&(bt=_e[xt],!(At.timestamp-bt.timestamp>secondsToMilliseconds($)));)xt--;if(!bt)return{x:0,y:0};const St=millisecondsToSeconds(At.timestamp-bt.timestamp);if(St===0)return{x:0,y:0};const Et={x:(At.x-bt.x)/St,y:(At.y-bt.y)/St};return Et.x===1/0&&(Et.x=0),Et.y===1/0&&(Et.y=0),Et}function calcLength(_e){return _e.max-_e.min}function isNear(_e,$=0,xt=.01){return Math.abs(_e-$)<=xt}function calcAxisDelta(_e,$,xt,bt=.5){_e.origin=bt,_e.originPoint=mixNumber$1($.min,$.max,_e.origin),_e.scale=calcLength(xt)/calcLength($),(isNear(_e.scale,1,1e-4)||isNaN(_e.scale))&&(_e.scale=1),_e.translate=mixNumber$1(xt.min,xt.max,_e.origin)-_e.originPoint,(isNear(_e.translate)||isNaN(_e.translate))&&(_e.translate=0)}function calcBoxDelta(_e,$,xt,bt){calcAxisDelta(_e.x,$.x,xt.x,bt?bt.originX:void 0),calcAxisDelta(_e.y,$.y,xt.y,bt?bt.originY:void 0)}function calcRelativeAxis(_e,$,xt){_e.min=xt.min+$.min,_e.max=_e.min+calcLength($)}function calcRelativeBox(_e,$,xt){calcRelativeAxis(_e.x,$.x,xt.x),calcRelativeAxis(_e.y,$.y,xt.y)}function calcRelativeAxisPosition(_e,$,xt){_e.min=$.min-xt.min,_e.max=_e.min+calcLength($)}function calcRelativePosition(_e,$,xt){calcRelativeAxisPosition(_e.x,$.x,xt.x),calcRelativeAxisPosition(_e.y,$.y,xt.y)}function applyConstraints(_e,{min:$,max:xt},bt){return $!==void 0&&_e<$?_e=bt?mixNumber$1($,_e,bt.min):Math.max(_e,$):xt!==void 0&&_e>xt&&(_e=bt?mixNumber$1(xt,_e,bt.max):Math.min(_e,xt)),_e}function calcRelativeAxisConstraints(_e,$,xt){return{min:$!==void 0?_e.min+$:void 0,max:xt!==void 0?_e.max+xt-(_e.max-_e.min):void 0}}function calcRelativeConstraints(_e,{top:$,left:xt,bottom:bt,right:At}){return{x:calcRelativeAxisConstraints(_e.x,xt,At),y:calcRelativeAxisConstraints(_e.y,$,bt)}}function calcViewportAxisConstraints(_e,$){let xt=$.min-_e.min,bt=$.max-_e.max;return $.max-$.min<_e.max-_e.min&&([xt,bt]=[bt,xt]),{min:xt,max:bt}}function calcViewportConstraints(_e,$){return{x:calcViewportAxisConstraints(_e.x,$.x),y:calcViewportAxisConstraints(_e.y,$.y)}}function calcOrigin(_e,$){let xt=.5;const bt=calcLength(_e),At=calcLength($);return At>bt?xt=progress($.min,$.max-bt,_e.min):bt>At&&(xt=progress(_e.min,_e.max-At,$.min)),clamp(0,1,xt)}function rebaseAxisConstraints(_e,$){const xt={};return $.min!==void 0&&(xt.min=$.min-_e.min),$.max!==void 0&&(xt.max=$.max-_e.min),xt}const defaultElastic=.35;function resolveDragElastic(_e=defaultElastic){return _e===!1?_e=0:_e===!0&&(_e=defaultElastic),{x:resolveAxisElastic(_e,"left","right"),y:resolveAxisElastic(_e,"top","bottom")}}function resolveAxisElastic(_e,$,xt){return{min:resolvePointElastic(_e,$),max:resolvePointElastic(_e,xt)}}function resolvePointElastic(_e,$){return typeof _e=="number"?_e:_e[$]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(_e){return[_e("x"),_e("y")]}function convertBoundingBoxToBox({top:_e,left:$,right:xt,bottom:bt}){return{x:{min:$,max:xt},y:{min:_e,max:bt}}}function convertBoxToBoundingBox({x:_e,y:$}){return{top:$.min,right:_e.max,bottom:$.max,left:_e.min}}function transformBoxPoints(_e,$){if(!$)return _e;const xt=$({x:_e.left,y:_e.top}),bt=$({x:_e.right,y:_e.bottom});return{top:xt.y,left:xt.x,bottom:bt.y,right:bt.x}}function isIdentityScale(_e){return _e===void 0||_e===1}function hasScale({scale:_e,scaleX:$,scaleY:xt}){return!isIdentityScale(_e)||!isIdentityScale($)||!isIdentityScale(xt)}function hasTransform(_e){return hasScale(_e)||has2DTranslate(_e)||_e.z||_e.rotate||_e.rotateX||_e.rotateY||_e.skewX||_e.skewY}function has2DTranslate(_e){return is2DTranslate(_e.x)||is2DTranslate(_e.y)}function is2DTranslate(_e){return _e&&_e!=="0%"}function scalePoint(_e,$,xt){const bt=_e-xt,At=$*bt;return xt+At}function applyPointDelta(_e,$,xt,bt,At){return At!==void 0&&(_e=scalePoint(_e,At,bt)),scalePoint(_e,xt,bt)+$}function applyAxisDelta(_e,$=0,xt=1,bt,At){_e.min=applyPointDelta(_e.min,$,xt,bt,At),_e.max=applyPointDelta(_e.max,$,xt,bt,At)}function applyBoxDelta(_e,{x:$,y:xt}){applyAxisDelta(_e.x,$.translate,$.scale,$.originPoint),applyAxisDelta(_e.y,xt.translate,xt.scale,xt.originPoint)}function applyTreeDeltas(_e,$,xt,bt=!1){const At=xt.length;if(!At)return;$.x=$.y=1;let St,Et;for(let Ct=0;Ct<At;Ct++){St=xt[Ct],Et=St.projectionDelta;const Pt=St.instance;Pt&&Pt.style&&Pt.style.display==="contents"||(bt&&St.options.layoutScroll&&St.scroll&&St!==St.root&&transformBox(_e,{x:-St.scroll.offset.x,y:-St.scroll.offset.y}),Et&&($.x*=Et.x.scale,$.y*=Et.y.scale,applyBoxDelta(_e,Et)),bt&&hasTransform(St.latestValues)&&transformBox(_e,St.latestValues))}$.x=snapToDefault($.x),$.y=snapToDefault($.y)}function snapToDefault(_e){return Number.isInteger(_e)||_e>1.0000000000001||_e<.999999999999?_e:1}function translateAxis(_e,$){_e.min=_e.min+$,_e.max=_e.max+$}function transformAxis(_e,$,[xt,bt,At]){const St=$[At]!==void 0?$[At]:.5,Et=mixNumber$1(_e.min,_e.max,St);applyAxisDelta(_e,$[xt],$[bt],Et,$.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(_e,$){transformAxis(_e.x,$,xKeys$1),transformAxis(_e.y,$,yKeys$1)}function measureViewportBox(_e,$){return convertBoundingBoxToBox(transformBoxPoints(_e.getBoundingClientRect(),$))}function measurePageBox(_e,$,xt){const bt=measureViewportBox(_e,xt),{scroll:At}=$;return At&&(translateAxis(bt.x,At.offset.x),translateAxis(bt.y,At.offset.y)),bt}const getContextWindow=({current:_e})=>_e?_e.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor($){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=$}start($,{snapToCursor:xt=!1}={}){const{presenceContext:bt}=this.visualElement;if(bt&&bt.isPresent===!1)return;const At=kt=>{const{dragSnapToOrigin:Rt}=this.getProps();Rt?this.pauseAnimation():this.stopAnimation(),xt&&this.snapToCursor(extractEventInfo(kt,"page").point)},St=(kt,Rt)=>{const{drag:ht,dragPropagation:vt,onDragStart:Ft}=this.getProps();if(ht&&!vt&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(ht),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(qt=>{let Nt=this.getAxisMotionValue(qt).get()||0;if(percent.test(Nt)){const{projection:$t}=this.visualElement;if($t&&$t.layout){const Mt=$t.layout.layoutBox[qt];Mt&&(Nt=calcLength(Mt)*(parseFloat(Nt)/100))}}this.originPoint[qt]=Nt}),Ft&&frame.postRender(()=>Ft(kt,Rt));const{animationState:Ht}=this.visualElement;Ht&&Ht.setActive("whileDrag",!0)},Et=(kt,Rt)=>{const{dragPropagation:ht,dragDirectionLock:vt,onDirectionLock:Ft,onDrag:Ht}=this.getProps();if(!ht&&!this.openGlobalLock)return;const{offset:qt}=Rt;if(vt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(qt),this.currentDirection!==null&&Ft&&Ft(this.currentDirection);return}this.updateAxis("x",Rt.point,qt),this.updateAxis("y",Rt.point,qt),this.visualElement.render(),Ht&&Ht(kt,Rt)},Ct=(kt,Rt)=>this.stop(kt,Rt),Pt=()=>eachAxis(kt=>{var Rt;return this.getAnimationState(kt)==="paused"&&((Rt=this.getAxisMotionValue(kt).animation)===null||Rt===void 0?void 0:Rt.play())}),{dragSnapToOrigin:wt}=this.getProps();this.panSession=new PanSession($,{onSessionStart:At,onStart:St,onMove:Et,onSessionEnd:Ct,resumeAnimation:Pt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:wt,contextWindow:getContextWindow(this.visualElement)})}stop($,xt){const bt=this.isDragging;if(this.cancel(),!bt)return;const{velocity:At}=xt;this.startAnimation(At);const{onDragEnd:St}=this.getProps();St&&frame.postRender(()=>St($,xt))}cancel(){this.isDragging=!1;const{projection:$,animationState:xt}=this.visualElement;$&&($.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:bt}=this.getProps();!bt&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),xt&&xt.setActive("whileDrag",!1)}updateAxis($,xt,bt){const{drag:At}=this.getProps();if(!bt||!shouldDrag($,At,this.currentDirection))return;const St=this.getAxisMotionValue($);let Et=this.originPoint[$]+bt[$];this.constraints&&this.constraints[$]&&(Et=applyConstraints(Et,this.constraints[$],this.elastic[$])),St.set(Et)}resolveConstraints(){var $;const{dragConstraints:xt,dragElastic:bt}=this.getProps(),At=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):($=this.visualElement.projection)===null||$===void 0?void 0:$.layout,St=this.constraints;xt&&isRefObject(xt)?this.constraints||(this.constraints=this.resolveRefConstraints()):xt&&At?this.constraints=calcRelativeConstraints(At.layoutBox,xt):this.constraints=!1,this.elastic=resolveDragElastic(bt),St!==this.constraints&&At&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(Et=>{this.constraints!==!1&&this.getAxisMotionValue(Et)&&(this.constraints[Et]=rebaseAxisConstraints(At.layoutBox[Et],this.constraints[Et]))})}resolveRefConstraints(){const{dragConstraints:$,onMeasureDragConstraints:xt}=this.getProps();if(!$||!isRefObject($))return!1;const bt=$.current,{projection:At}=this.visualElement;if(!At||!At.layout)return!1;const St=measurePageBox(bt,At.root,this.visualElement.getTransformPagePoint());let Et=calcViewportConstraints(At.layout.layoutBox,St);if(xt){const Ct=xt(convertBoxToBoundingBox(Et));this.hasMutatedConstraints=!!Ct,Ct&&(Et=convertBoundingBoxToBox(Ct))}return Et}startAnimation($){const{drag:xt,dragMomentum:bt,dragElastic:At,dragTransition:St,dragSnapToOrigin:Et,onDragTransitionEnd:Ct}=this.getProps(),Pt=this.constraints||{},wt=eachAxis(kt=>{if(!shouldDrag(kt,xt,this.currentDirection))return;let Rt=Pt&&Pt[kt]||{};Et&&(Rt={min:0,max:0});const ht=At?200:1e6,vt=At?40:1e7,Ft={type:"inertia",velocity:bt?$[kt]:0,bounceStiffness:ht,bounceDamping:vt,timeConstant:750,restDelta:1,restSpeed:10,...St,...Rt};return this.startAxisValueAnimation(kt,Ft)});return Promise.all(wt).then(Ct)}startAxisValueAnimation($,xt){const bt=this.getAxisMotionValue($);return bt.start(animateMotionValue($,bt,0,xt,this.visualElement))}stopAnimation(){eachAxis($=>this.getAxisMotionValue($).stop())}pauseAnimation(){eachAxis($=>{var xt;return(xt=this.getAxisMotionValue($).animation)===null||xt===void 0?void 0:xt.pause()})}getAnimationState($){var xt;return(xt=this.getAxisMotionValue($).animation)===null||xt===void 0?void 0:xt.state}getAxisMotionValue($){const xt=`_drag${$.toUpperCase()}`,bt=this.visualElement.getProps(),At=bt[xt];return At||this.visualElement.getValue($,(bt.initial?bt.initial[$]:void 0)||0)}snapToCursor($){eachAxis(xt=>{const{drag:bt}=this.getProps();if(!shouldDrag(xt,bt,this.currentDirection))return;const{projection:At}=this.visualElement,St=this.getAxisMotionValue(xt);if(At&&At.layout){const{min:Et,max:Ct}=At.layout.layoutBox[xt];St.set($[xt]-mixNumber$1(Et,Ct,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:$,dragConstraints:xt}=this.getProps(),{projection:bt}=this.visualElement;if(!isRefObject(xt)||!bt||!this.constraints)return;this.stopAnimation();const At={x:0,y:0};eachAxis(Et=>{const Ct=this.getAxisMotionValue(Et);if(Ct&&this.constraints!==!1){const Pt=Ct.get();At[Et]=calcOrigin({min:Pt,max:Pt},this.constraints[Et])}});const{transformTemplate:St}=this.visualElement.getProps();this.visualElement.current.style.transform=St?St({},""):"none",bt.root&&bt.root.updateScroll(),bt.updateLayout(),this.resolveConstraints(),eachAxis(Et=>{if(!shouldDrag(Et,$,null))return;const Ct=this.getAxisMotionValue(Et),{min:Pt,max:wt}=this.constraints[Et];Ct.set(mixNumber$1(Pt,wt,At[Et]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const $=this.visualElement.current,xt=addPointerEvent($,"pointerdown",Pt=>{const{drag:wt,dragListener:kt=!0}=this.getProps();wt&&kt&&this.start(Pt)}),bt=()=>{const{dragConstraints:Pt}=this.getProps();isRefObject(Pt)&&Pt.current&&(this.constraints=this.resolveRefConstraints())},{projection:At}=this.visualElement,St=At.addEventListener("measure",bt);At&&!At.layout&&(At.root&&At.root.updateScroll(),At.updateLayout()),frame.read(bt);const Et=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),Ct=At.addEventListener("didUpdate",({delta:Pt,hasLayoutChanged:wt})=>{this.isDragging&&wt&&(eachAxis(kt=>{const Rt=this.getAxisMotionValue(kt);Rt&&(this.originPoint[kt]+=Pt[kt].translate,Rt.set(Rt.get()+Pt[kt].translate))}),this.visualElement.render())});return()=>{Et(),xt(),St(),Ct&&Ct()}}getProps(){const $=this.visualElement.getProps(),{drag:xt=!1,dragDirectionLock:bt=!1,dragPropagation:At=!1,dragConstraints:St=!1,dragElastic:Et=defaultElastic,dragMomentum:Ct=!0}=$;return{...$,drag:xt,dragDirectionLock:bt,dragPropagation:At,dragConstraints:St,dragElastic:Et,dragMomentum:Ct}}}function shouldDrag(_e,$,xt){return($===!0||$===_e)&&(xt===null||xt===_e)}function getCurrentDirection(_e,$=10){let xt=null;return Math.abs(_e.y)>$?xt="y":Math.abs(_e.x)>$&&(xt="x"),xt}class DragGesture extends Feature{constructor($){super($),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls($)}mount(){const{dragControls:$}=this.node.getProps();$&&(this.removeGroupControls=$.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=_e=>($,xt)=>{_e&&frame.postRender(()=>_e($,xt))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown($){this.session=new PanSession($,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:$,onPanStart:xt,onPan:bt,onPanEnd:At}=this.node.getProps();return{onSessionStart:asyncHandler($),onStart:asyncHandler(xt),onMove:bt,onEnd:(St,Et)=>{delete this.session,At&&frame.postRender(()=>At(St,Et))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",$=>this.onPointerDown($))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const _e=reactExports.useContext(PresenceContext);if(_e===null)return[!0,null];const{isPresent:$,onExitComplete:xt,register:bt}=_e,At=reactExports.useId();return reactExports.useEffect(()=>bt(At),[]),!$&&xt?[!1,()=>xt&&xt(At)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(_e,$){return $.max===$.min?0:_e/($.max-$.min)*100}const correctBorderRadius={correct:(_e,$)=>{if(!$.target)return _e;if(typeof _e=="string")if(px.test(_e))_e=parseFloat(_e);else return _e;const xt=pixelsToPercent(_e,$.target.x),bt=pixelsToPercent(_e,$.target.y);return`${xt}% ${bt}%`}},correctBoxShadow={correct:(_e,{treeScale:$,projectionDelta:xt})=>{const bt=_e,At=complex.parse(_e);if(At.length>5)return bt;const St=complex.createTransformer(_e),Et=typeof At[0]!="number"?1:0,Ct=xt.x.scale*$.x,Pt=xt.y.scale*$.y;At[0+Et]/=Ct,At[1+Et]/=Pt;const wt=mixNumber$1(Ct,Pt,.5);return typeof At[2+Et]=="number"&&(At[2+Et]/=wt),typeof At[3+Et]=="number"&&(At[3+Et]/=wt),St(At)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:$,layoutGroup:xt,switchLayoutGroup:bt,layoutId:At}=this.props,{projection:St}=$;addScaleCorrector(defaultScaleCorrectors),St&&(xt.group&&xt.group.add(St),bt&&bt.register&&At&&bt.register(St),St.root.didUpdate(),St.addEventListener("animationComplete",()=>{this.safeToRemove()}),St.setOptions({...St.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate($){const{layoutDependency:xt,visualElement:bt,drag:At,isPresent:St}=this.props,Et=bt.projection;return Et&&(Et.isPresent=St,At||$.layoutDependency!==xt||xt===void 0?Et.willUpdate():this.safeToRemove(),$.isPresent!==St&&(St?Et.promote():Et.relegate()||frame.postRender(()=>{const Ct=Et.getStack();(!Ct||!Ct.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:$}=this.props.visualElement;$&&($.root.didUpdate(),microtask.postRender(()=>{!$.currentAnimation&&$.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:$,layoutGroup:xt,switchLayoutGroup:bt}=this.props,{projection:At}=$;At&&(At.scheduleCheckAfterUnmount(),xt&&xt.group&&xt.group.remove(At),bt&&bt.deregister&&bt.deregister(At))}safeToRemove(){const{safeToRemove:$}=this.props;$&&$()}render(){return null}}function MeasureLayout(_e){const[$,xt]=usePresence(),bt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{..._e,layoutGroup:bt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:$,safeToRemove:xt})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=_e=>typeof _e=="string"?parseFloat(_e):_e,isPx=_e=>typeof _e=="number"||px.test(_e);function mixValues(_e,$,xt,bt,At,St){At?(_e.opacity=mixNumber$1(0,xt.opacity!==void 0?xt.opacity:1,easeCrossfadeIn(bt)),_e.opacityExit=mixNumber$1($.opacity!==void 0?$.opacity:1,0,easeCrossfadeOut(bt))):St&&(_e.opacity=mixNumber$1($.opacity!==void 0?$.opacity:1,xt.opacity!==void 0?xt.opacity:1,bt));for(let Et=0;Et<numBorders;Et++){const Ct=`border${borders[Et]}Radius`;let Pt=getRadius($,Ct),wt=getRadius(xt,Ct);if(Pt===void 0&&wt===void 0)continue;Pt||(Pt=0),wt||(wt=0),Pt===0||wt===0||isPx(Pt)===isPx(wt)?(_e[Ct]=Math.max(mixNumber$1(asNumber(Pt),asNumber(wt),bt),0),(percent.test(wt)||percent.test(Pt))&&(_e[Ct]+="%")):_e[Ct]=wt}($.rotate||xt.rotate)&&(_e.rotate=mixNumber$1($.rotate||0,xt.rotate||0,bt))}function getRadius(_e,$){return _e[$]!==void 0?_e[$]:_e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(_e,$,xt){return bt=>bt<_e?0:bt>$?1:xt(progress(_e,$,bt))}function copyAxisInto(_e,$){_e.min=$.min,_e.max=$.max}function copyBoxInto(_e,$){copyAxisInto(_e.x,$.x),copyAxisInto(_e.y,$.y)}function removePointDelta(_e,$,xt,bt,At){return _e-=$,_e=scalePoint(_e,1/xt,bt),At!==void 0&&(_e=scalePoint(_e,1/At,bt)),_e}function removeAxisDelta(_e,$=0,xt=1,bt=.5,At,St=_e,Et=_e){if(percent.test($)&&($=parseFloat($),$=mixNumber$1(Et.min,Et.max,$/100)-Et.min),typeof $!="number")return;let Ct=mixNumber$1(St.min,St.max,bt);_e===St&&(Ct-=$),_e.min=removePointDelta(_e.min,$,xt,Ct,At),_e.max=removePointDelta(_e.max,$,xt,Ct,At)}function removeAxisTransforms(_e,$,[xt,bt,At],St,Et){removeAxisDelta(_e,$[xt],$[bt],$[At],$.scale,St,Et)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(_e,$,xt,bt){removeAxisTransforms(_e.x,$,xKeys,xt?xt.x:void 0,bt?bt.x:void 0),removeAxisTransforms(_e.y,$,yKeys,xt?xt.y:void 0,bt?bt.y:void 0)}function isAxisDeltaZero(_e){return _e.translate===0&&_e.scale===1}function isDeltaZero(_e){return isAxisDeltaZero(_e.x)&&isAxisDeltaZero(_e.y)}function boxEquals(_e,$){return _e.x.min===$.x.min&&_e.x.max===$.x.max&&_e.y.min===$.y.min&&_e.y.max===$.y.max}function boxEqualsRounded(_e,$){return Math.round(_e.x.min)===Math.round($.x.min)&&Math.round(_e.x.max)===Math.round($.x.max)&&Math.round(_e.y.min)===Math.round($.y.min)&&Math.round(_e.y.max)===Math.round($.y.max)}function aspectRatio(_e){return calcLength(_e.x)/calcLength(_e.y)}class NodeStack{constructor(){this.members=[]}add($){addUniqueItem(this.members,$),$.scheduleRender()}remove($){if(removeItem(this.members,$),$===this.prevLead&&(this.prevLead=void 0),$===this.lead){const xt=this.members[this.members.length-1];xt&&this.promote(xt)}}relegate($){const xt=this.members.findIndex(At=>$===At);if(xt===0)return!1;let bt;for(let At=xt;At>=0;At--){const St=this.members[At];if(St.isPresent!==!1){bt=St;break}}return bt?(this.promote(bt),!0):!1}promote($,xt){const bt=this.lead;if($!==bt&&(this.prevLead=bt,this.lead=$,$.show(),bt)){bt.instance&&bt.scheduleRender(),$.scheduleRender(),$.resumeFrom=bt,xt&&($.resumeFrom.preserveOpacity=!0),bt.snapshot&&($.snapshot=bt.snapshot,$.snapshot.latestValues=bt.animationValues||bt.latestValues),$.root&&$.root.isUpdating&&($.isLayoutDirty=!0);const{crossfade:At}=$.options;At===!1&&bt.hide()}}exitAnimationComplete(){this.members.forEach($=>{const{options:xt,resumingFrom:bt}=$;xt.onExitComplete&&xt.onExitComplete(),bt&&bt.options.onExitComplete&&bt.options.onExitComplete()})}scheduleRender(){this.members.forEach($=>{$.instance&&$.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(_e,$,xt){let bt="";const At=_e.x.translate/$.x,St=_e.y.translate/$.y,Et=(xt==null?void 0:xt.z)||0;if((At||St||Et)&&(bt=`translate3d(${At}px, ${St}px, ${Et}px) `),($.x!==1||$.y!==1)&&(bt+=`scale(${1/$.x}, ${1/$.y}) `),xt){const{transformPerspective:wt,rotate:kt,rotateX:Rt,rotateY:ht,skewX:vt,skewY:Ft}=xt;wt&&(bt=`perspective(${wt}px) ${bt}`),kt&&(bt+=`rotate(${kt}deg) `),Rt&&(bt+=`rotateX(${Rt}deg) `),ht&&(bt+=`rotateY(${ht}deg) `),vt&&(bt+=`skewX(${vt}deg) `),Ft&&(bt+=`skewY(${Ft}deg) `)}const Ct=_e.x.scale*$.x,Pt=_e.y.scale*$.y;return(Ct!==1||Pt!==1)&&(bt+=`scale(${Ct}, ${Pt})`),bt||"none"}const compareByDepth=(_e,$)=>_e.depth-$.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add($){addUniqueItem(this.children,$),this.isDirty=!0}remove($){removeItem(this.children,$),this.isDirty=!0}forEach($){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach($)}}function delay(_e,$){const xt=time.now(),bt=({timestamp:At})=>{const St=At-xt;St>=$&&(cancelFrame(bt),_e(St-$))};return frame.read(bt,!0),()=>cancelFrame(bt)}function record(_e){window.MotionDebug&&window.MotionDebug.record(_e)}function isSVGElement(_e){return _e instanceof SVGElement&&_e.tagName!=="svg"}function animateSingleValue(_e,$,xt){const bt=isMotionValue(_e)?_e:motionValue(_e);return bt.start(animateMotionValue("",bt,$,xt)),bt.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function resetDistortingTransform(_e,$,xt,bt){const{latestValues:At}=$;At[_e]&&(xt[_e]=At[_e],$.setStaticValue(_e,0),bt&&(bt[_e]=0))}function isOptimisedAppearTree(_e){if(_e.hasCheckedOptimisedAppear=!0,_e.root===_e)return!1;const{visualElement:$}=_e.options;return $?getOptimisedAppearId($)?!0:_e.parent&&!_e.parent.hasCheckedOptimisedAppear?isOptimisedAppearTree(_e.parent):!1:!1}function createProjectionNode({attachResizeListener:_e,defaultParent:$,measureScroll:xt,checkIsScrollRoot:bt,resetTransform:At}){return class{constructor(Et={},Ct=$==null?void 0:$()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=Et,this.root=Ct?Ct.root||Ct:this,this.path=Ct?[...Ct.path,Ct]:[],this.parent=Ct,this.depth=Ct?Ct.depth+1:0;for(let Pt=0;Pt<this.path.length;Pt++)this.path[Pt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(Et,Ct){return this.eventHandlers.has(Et)||this.eventHandlers.set(Et,new SubscriptionManager),this.eventHandlers.get(Et).add(Ct)}notifyListeners(Et,...Ct){const Pt=this.eventHandlers.get(Et);Pt&&Pt.notify(...Ct)}hasListeners(Et){return this.eventHandlers.has(Et)}mount(Et,Ct=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(Et),this.instance=Et;const{layoutId:Pt,layout:wt,visualElement:kt}=this.options;if(kt&&!kt.current&&kt.mount(Et),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),Ct&&(wt||Pt)&&(this.isLayoutDirty=!0),_e){let Rt;const ht=()=>this.root.updateBlockedByResize=!1;_e(Et,()=>{this.root.updateBlockedByResize=!0,Rt&&Rt(),Rt=delay(ht,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}Pt&&this.root.registerSharedNode(Pt,this),this.options.animate!==!1&&kt&&(Pt||wt)&&this.addEventListener("didUpdate",({delta:Rt,hasLayoutChanged:ht,hasRelativeTargetChanged:vt,layout:Ft})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Ht=this.options.transition||kt.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:qt,onLayoutAnimationComplete:Nt}=kt.getProps(),$t=!this.targetLayout||!boxEqualsRounded(this.targetLayout,Ft)||vt,Mt=!ht&&vt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Mt||ht&&($t||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(Rt,Mt);const Bt={...getValueTransition(Ht,"layout"),onPlay:qt,onComplete:Nt};(kt.shouldReduceMotion||this.options.layoutRoot)&&(Bt.delay=0,Bt.type=!1),this.startAnimation(Bt)}else ht||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Ft})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const Et=this.getStack();Et&&Et.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:Et}=this.options;return Et&&Et.getProps().transformTemplate}willUpdate(Et=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&isOptimisedAppearTree(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let kt=0;kt<this.path.length;kt++){const Rt=this.path[kt];Rt.shouldResetTransform=!0,Rt.updateScroll("snapshot"),Rt.options.layoutRoot&&Rt.willUpdate(!1)}const{layoutId:Ct,layout:Pt}=this.options;if(Ct===void 0&&!Pt)return;const wt=this.getTransformTemplate();this.prevTransformTemplateValue=wt?wt(this.latestValues,""):void 0,this.updateSnapshot(),Et&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const Ct=time.now();frameData.delta=clamp(0,1e3/60,Ct-frameData.timestamp),frameData.timestamp=Ct,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let Pt=0;Pt<this.path.length;Pt++)this.path[Pt].updateScroll();const Et=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:Ct}=this.options;Ct&&Ct.notify("LayoutMeasure",this.layout.layoutBox,Et?Et.layoutBox:void 0)}updateScroll(Et="measure"){let Ct=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===Et&&(Ct=!1),Ct&&(this.scroll={animationId:this.root.animationId,phase:Et,isRoot:bt(this.instance),offset:xt(this.instance)})}resetTransform(){if(!At)return;const Et=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,Ct=this.projectionDelta&&!isDeltaZero(this.projectionDelta),Pt=this.getTransformTemplate(),wt=Pt?Pt(this.latestValues,""):void 0,kt=wt!==this.prevTransformTemplateValue;Et&&(Ct||hasTransform(this.latestValues)||kt)&&(At(this.instance,wt),this.shouldResetTransform=!1,this.scheduleRender())}measure(Et=!0){const Ct=this.measurePageBox();let Pt=this.removeElementScroll(Ct);return Et&&(Pt=this.removeTransform(Pt)),roundBox(Pt),{animationId:this.root.animationId,measuredBox:Ct,layoutBox:Pt,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:Et}=this.options;if(!Et)return createBox();const Ct=Et.measureViewportBox(),{scroll:Pt}=this.root;return Pt&&(translateAxis(Ct.x,Pt.offset.x),translateAxis(Ct.y,Pt.offset.y)),Ct}removeElementScroll(Et){const Ct=createBox();copyBoxInto(Ct,Et);for(let Pt=0;Pt<this.path.length;Pt++){const wt=this.path[Pt],{scroll:kt,options:Rt}=wt;if(wt!==this.root&&kt&&Rt.layoutScroll){if(kt.isRoot){copyBoxInto(Ct,Et);const{scroll:ht}=this.root;ht&&(translateAxis(Ct.x,-ht.offset.x),translateAxis(Ct.y,-ht.offset.y))}translateAxis(Ct.x,kt.offset.x),translateAxis(Ct.y,kt.offset.y)}}return Ct}applyTransform(Et,Ct=!1){const Pt=createBox();copyBoxInto(Pt,Et);for(let wt=0;wt<this.path.length;wt++){const kt=this.path[wt];!Ct&&kt.options.layoutScroll&&kt.scroll&&kt!==kt.root&&transformBox(Pt,{x:-kt.scroll.offset.x,y:-kt.scroll.offset.y}),hasTransform(kt.latestValues)&&transformBox(Pt,kt.latestValues)}return hasTransform(this.latestValues)&&transformBox(Pt,this.latestValues),Pt}removeTransform(Et){const Ct=createBox();copyBoxInto(Ct,Et);for(let Pt=0;Pt<this.path.length;Pt++){const wt=this.path[Pt];if(!wt.instance||!hasTransform(wt.latestValues))continue;hasScale(wt.latestValues)&&wt.updateSnapshot();const kt=createBox(),Rt=wt.measurePageBox();copyBoxInto(kt,Rt),removeBoxTransforms(Ct,wt.latestValues,wt.snapshot?wt.snapshot.layoutBox:void 0,kt)}return hasTransform(this.latestValues)&&removeBoxTransforms(Ct,this.latestValues),Ct}setTargetDelta(Et){this.targetDelta=Et,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(Et){this.options={...this.options,...Et,crossfade:Et.crossfade!==void 0?Et.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(Et=!1){var Ct;const Pt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=Pt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=Pt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=Pt.isSharedProjectionDirty);const wt=!!this.resumingFrom||this!==Pt;if(!(Et||wt&&this.isSharedProjectionDirty||this.isProjectionDirty||!((Ct=this.parent)===null||Ct===void 0)&&Ct.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:Rt,layoutId:ht}=this.options;if(!(!this.layout||!(Rt||ht))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const vt=this.getClosestProjectingParent();vt&&vt.layout&&this.animationProgress!==1?(this.relativeParent=vt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,vt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const vt=this.getClosestProjectingParent();vt&&!!vt.resumingFrom==!!this.resumingFrom&&!vt.options.layoutScroll&&vt.target&&this.animationProgress!==1?(this.relativeParent=vt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,vt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var Et;const Ct=this.getLead(),Pt=!!this.resumingFrom||this!==Ct;let wt=!0;if((this.isProjectionDirty||!((Et=this.parent)===null||Et===void 0)&&Et.isProjectionDirty)&&(wt=!1),Pt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(wt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(wt=!1),wt)return;const{layout:kt,layoutId:Rt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(kt||Rt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const ht=this.treeScale.x,vt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Pt),Ct.layout&&!Ct.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(Ct.target=Ct.layout.layoutBox,Ct.targetWithTransforms=createBox());const{target:Ft}=Ct;if(!Ft){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const Ht=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,Ft,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==Ht||this.treeScale.x!==ht||this.treeScale.y!==vt)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Ft)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(Et=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),Et){const Ct=this.getStack();Ct&&Ct.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(Et,Ct=!1){const Pt=this.snapshot,wt=Pt?Pt.latestValues:{},kt={...this.latestValues},Rt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!Ct;const ht=createBox(),vt=Pt?Pt.source:void 0,Ft=this.layout?this.layout.source:void 0,Ht=vt!==Ft,qt=this.getStack(),Nt=!qt||qt.members.length<=1,$t=!!(Ht&&!Nt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let Mt;this.mixTargetDelta=Bt=>{const _t=Bt/1e3;mixAxisDelta(Rt.x,Et.x,_t),mixAxisDelta(Rt.y,Et.y,_t),this.setTargetDelta(Rt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(ht,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,ht,_t),Mt&&boxEquals(this.relativeTarget,Mt)&&(this.isProjectionDirty=!1),Mt||(Mt=createBox()),copyBoxInto(Mt,this.relativeTarget)),Ht&&(this.animationValues=kt,mixValues(kt,wt,this.latestValues,_t,$t,Nt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_t},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(Et){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...Et,onUpdate:Ct=>{this.mixTargetDelta(Ct),Et.onUpdate&&Et.onUpdate(Ct)},onComplete:()=>{Et.onComplete&&Et.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const Et=this.getStack();Et&&Et.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const Et=this.getLead();let{targetWithTransforms:Ct,target:Pt,layout:wt,latestValues:kt}=Et;if(!(!Ct||!Pt||!wt)){if(this!==Et&&this.layout&&wt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,wt.layoutBox)){Pt=this.target||createBox();const Rt=calcLength(this.layout.layoutBox.x);Pt.x.min=Et.target.x.min,Pt.x.max=Pt.x.min+Rt;const ht=calcLength(this.layout.layoutBox.y);Pt.y.min=Et.target.y.min,Pt.y.max=Pt.y.min+ht}copyBoxInto(Ct,Pt),transformBox(Ct,kt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,Ct,kt)}}registerSharedNode(Et,Ct){this.sharedNodes.has(Et)||this.sharedNodes.set(Et,new NodeStack),this.sharedNodes.get(Et).add(Ct);const wt=Ct.options.initialPromotionConfig;Ct.promote({transition:wt?wt.transition:void 0,preserveFollowOpacity:wt&&wt.shouldPreserveFollowOpacity?wt.shouldPreserveFollowOpacity(Ct):void 0})}isLead(){const Et=this.getStack();return Et?Et.lead===this:!0}getLead(){var Et;const{layoutId:Ct}=this.options;return Ct?((Et=this.getStack())===null||Et===void 0?void 0:Et.lead)||this:this}getPrevLead(){var Et;const{layoutId:Ct}=this.options;return Ct?(Et=this.getStack())===null||Et===void 0?void 0:Et.prevLead:void 0}getStack(){const{layoutId:Et}=this.options;if(Et)return this.root.sharedNodes.get(Et)}promote({needsReset:Et,transition:Ct,preserveFollowOpacity:Pt}={}){const wt=this.getStack();wt&&wt.promote(this,Pt),Et&&(this.projectionDelta=void 0,this.needsReset=!0),Ct&&this.setOptions({transition:Ct})}relegate(){const Et=this.getStack();return Et?Et.relegate(this):!1}resetSkewAndRotation(){const{visualElement:Et}=this.options;if(!Et)return;let Ct=!1;const{latestValues:Pt}=Et;if((Pt.z||Pt.rotate||Pt.rotateX||Pt.rotateY||Pt.rotateZ||Pt.skewX||Pt.skewY)&&(Ct=!0),!Ct)return;const wt={};Pt.z&&resetDistortingTransform("z",Et,wt,this.animationValues);for(let kt=0;kt<transformAxes.length;kt++)resetDistortingTransform(`rotate${transformAxes[kt]}`,Et,wt,this.animationValues),resetDistortingTransform(`skew${transformAxes[kt]}`,Et,wt,this.animationValues);Et.render();for(const kt in wt)Et.setStaticValue(kt,wt[kt]),this.animationValues&&(this.animationValues[kt]=wt[kt]);Et.scheduleRender()}getProjectionStyles(Et){var Ct,Pt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const wt={visibility:""},kt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,wt.opacity="",wt.pointerEvents=resolveMotionValue(Et==null?void 0:Et.pointerEvents)||"",wt.transform=kt?kt(this.latestValues,""):"none",wt;const Rt=this.getLead();if(!this.projectionDelta||!this.layout||!Rt.target){const Ht={};return this.options.layoutId&&(Ht.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Ht.pointerEvents=resolveMotionValue(Et==null?void 0:Et.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Ht.transform=kt?kt({},""):"none",this.hasProjected=!1),Ht}const ht=Rt.animationValues||Rt.latestValues;this.applyTransformsToTarget(),wt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,ht),kt&&(wt.transform=kt(ht,wt.transform));const{x:vt,y:Ft}=this.projectionDelta;wt.transformOrigin=`${vt.origin*100}% ${Ft.origin*100}% 0`,Rt.animationValues?wt.opacity=Rt===this?(Pt=(Ct=ht.opacity)!==null&&Ct!==void 0?Ct:this.latestValues.opacity)!==null&&Pt!==void 0?Pt:1:this.preserveOpacity?this.latestValues.opacity:ht.opacityExit:wt.opacity=Rt===this?ht.opacity!==void 0?ht.opacity:"":ht.opacityExit!==void 0?ht.opacityExit:0;for(const Ht in scaleCorrectors){if(ht[Ht]===void 0)continue;const{correct:qt,applyTo:Nt}=scaleCorrectors[Ht],$t=wt.transform==="none"?ht[Ht]:qt(ht[Ht],Rt);if(Nt){const Mt=Nt.length;for(let Bt=0;Bt<Mt;Bt++)wt[Nt[Bt]]=$t}else wt[Ht]=$t}return this.options.layoutId&&(wt.pointerEvents=Rt===this?resolveMotionValue(Et==null?void 0:Et.pointerEvents)||"":"none"),wt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(Et=>{var Ct;return(Ct=Et.currentAnimation)===null||Ct===void 0?void 0:Ct.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(_e){_e.updateLayout()}function notifyLayoutUpdate(_e){var $;const xt=(($=_e.resumeFrom)===null||$===void 0?void 0:$.snapshot)||_e.snapshot;if(_e.isLead()&&_e.layout&&xt&&_e.hasListeners("didUpdate")){const{layoutBox:bt,measuredBox:At}=_e.layout,{animationType:St}=_e.options,Et=xt.source!==_e.layout.source;St==="size"?eachAxis(Rt=>{const ht=Et?xt.measuredBox[Rt]:xt.layoutBox[Rt],vt=calcLength(ht);ht.min=bt[Rt].min,ht.max=ht.min+vt}):shouldAnimatePositionOnly(St,xt.layoutBox,bt)&&eachAxis(Rt=>{const ht=Et?xt.measuredBox[Rt]:xt.layoutBox[Rt],vt=calcLength(bt[Rt]);ht.max=ht.min+vt,_e.relativeTarget&&!_e.currentAnimation&&(_e.isProjectionDirty=!0,_e.relativeTarget[Rt].max=_e.relativeTarget[Rt].min+vt)});const Ct=createDelta();calcBoxDelta(Ct,bt,xt.layoutBox);const Pt=createDelta();Et?calcBoxDelta(Pt,_e.applyTransform(At,!0),xt.measuredBox):calcBoxDelta(Pt,bt,xt.layoutBox);const wt=!isDeltaZero(Ct);let kt=!1;if(!_e.resumeFrom){const Rt=_e.getClosestProjectingParent();if(Rt&&!Rt.resumeFrom){const{snapshot:ht,layout:vt}=Rt;if(ht&&vt){const Ft=createBox();calcRelativePosition(Ft,xt.layoutBox,ht.layoutBox);const Ht=createBox();calcRelativePosition(Ht,bt,vt.layoutBox),boxEqualsRounded(Ft,Ht)||(kt=!0),Rt.options.layoutRoot&&(_e.relativeTarget=Ht,_e.relativeTargetOrigin=Ft,_e.relativeParent=Rt)}}}_e.notifyListeners("didUpdate",{layout:bt,snapshot:xt,delta:Pt,layoutDelta:Ct,hasLayoutChanged:wt,hasRelativeTargetChanged:kt})}else if(_e.isLead()){const{onExitComplete:bt}=_e.options;bt&&bt()}_e.options.transition=void 0}function propagateDirtyNodes(_e){projectionFrameData.totalNodes++,_e.parent&&(_e.isProjecting()||(_e.isProjectionDirty=_e.parent.isProjectionDirty),_e.isSharedProjectionDirty||(_e.isSharedProjectionDirty=!!(_e.isProjectionDirty||_e.parent.isProjectionDirty||_e.parent.isSharedProjectionDirty)),_e.isTransformDirty||(_e.isTransformDirty=_e.parent.isTransformDirty))}function cleanDirtyNodes(_e){_e.isProjectionDirty=_e.isSharedProjectionDirty=_e.isTransformDirty=!1}function clearSnapshot(_e){_e.clearSnapshot()}function clearMeasurements(_e){_e.clearMeasurements()}function clearIsLayoutDirty(_e){_e.isLayoutDirty=!1}function resetTransformStyle(_e){const{visualElement:$}=_e.options;$&&$.getProps().onBeforeLayoutMeasure&&$.notify("BeforeLayoutMeasure"),_e.resetTransform()}function finishAnimation(_e){_e.finishAnimation(),_e.targetDelta=_e.relativeTarget=_e.target=void 0,_e.isProjectionDirty=!0}function resolveTargetDelta(_e){_e.resolveTargetDelta()}function calcProjection(_e){_e.calcProjection()}function resetSkewAndRotation(_e){_e.resetSkewAndRotation()}function removeLeadSnapshots(_e){_e.removeLeadSnapshot()}function mixAxisDelta(_e,$,xt){_e.translate=mixNumber$1($.translate,0,xt),_e.scale=mixNumber$1($.scale,1,xt),_e.origin=$.origin,_e.originPoint=$.originPoint}function mixAxis(_e,$,xt,bt){_e.min=mixNumber$1($.min,xt.min,bt),_e.max=mixNumber$1($.max,xt.max,bt)}function mixBox(_e,$,xt,bt){mixAxis(_e.x,$.x,xt.x,bt),mixAxis(_e.y,$.y,xt.y,bt)}function hasOpacityCrossfade(_e){return _e.animationValues&&_e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=_e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(_e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(_e){_e.min=roundPoint(_e.min),_e.max=roundPoint(_e.max)}function roundBox(_e){roundAxis(_e.x),roundAxis(_e.y)}function shouldAnimatePositionOnly(_e,$,xt){return _e==="position"||_e==="preserve-aspect"&&!isNear(aspectRatio($),aspectRatio(xt),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(_e,$)=>addDomEvent(_e,"resize",$),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:_e=>({x:_e.scrollLeft,y:_e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const _e=new DocumentProjectionNode({});_e.mount(window),_e.setOptions({layoutScroll:!0}),rootProjectionNode.current=_e}return rootProjectionNode.current},resetTransform:(_e,$)=>{_e.style.transform=$!==void 0?$:"none"},checkIsScrollRoot:_e=>window.getComputedStyle(_e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const _e=window.matchMedia("(prefers-reduced-motion)"),$=()=>prefersReducedMotion.current=_e.matches;_e.addListener($),$()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(_e,$,xt){const{willChange:bt}=$;for(const At in $){const St=$[At],Et=xt[At];if(isMotionValue(St))_e.addValue(At,St),isWillChangeMotionValue(bt)&&bt.add(At);else if(isMotionValue(Et))_e.addValue(At,motionValue(St,{owner:_e})),isWillChangeMotionValue(bt)&&bt.remove(At);else if(Et!==St)if(_e.hasValue(At)){const Ct=_e.getValue(At);Ct.liveStyle===!0?Ct.jump(St):Ct.hasAnimated||Ct.set(St)}else{const Ct=_e.getStaticValue(At);_e.addValue(At,motionValue(Ct!==void 0?Ct:St,{owner:_e}))}}for(const At in xt)$[At]===void 0&&_e.removeValue(At);return $}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color,complex],findValueType=_e=>valueTypes.find(testValueType(_e)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{scrapeMotionValuesFromProps($,xt,bt){return{}}constructor({parent:$,props:xt,presenceContext:bt,reducedMotionConfig:At,blockInitialAnimation:St,visualState:Et},Ct={}){this.resolveKeyframes=(ht,vt,Ft,Ht)=>new this.KeyframeResolver(ht,vt,Ft,Ht,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:Pt,renderState:wt}=Et;this.latestValues=Pt,this.baseTarget={...Pt},this.initialValues=xt.initial?{...Pt}:{},this.renderState=wt,this.parent=$,this.props=xt,this.presenceContext=bt,this.depth=$?$.depth+1:0,this.reducedMotionConfig=At,this.options=Ct,this.blockInitialAnimation=!!St,this.isControllingVariants=isControllingVariants(xt),this.isVariantNode=isVariantNode(xt),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!($&&$.current);const{willChange:kt,...Rt}=this.scrapeMotionValuesFromProps(xt,{},this);for(const ht in Rt){const vt=Rt[ht];Pt[ht]!==void 0&&isMotionValue(vt)&&(vt.set(Pt[ht],!1),isWillChangeMotionValue(kt)&&kt.add(ht))}}mount($){this.current=$,visualElementStore.set($,this),this.projection&&!this.projection.instance&&this.projection.mount($),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((xt,bt)=>this.bindToMotionValue(bt,xt)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach($=>$()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const $ in this.events)this.events[$].clear();for(const $ in this.features){const xt=this.features[$];xt&&(xt.unmount(),xt.isMounted=!1)}this.current=null}bindToMotionValue($,xt){const bt=transformProps.has($),At=xt.on("change",Et=>{this.latestValues[$]=Et,this.props.onUpdate&&frame.preRender(this.notifyUpdate),bt&&this.projection&&(this.projection.isTransformDirty=!0)}),St=xt.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set($,()=>{At(),St(),xt.owner&&xt.stop()})}sortNodePosition($){return!this.current||!this.sortInstanceNodePosition||this.type!==$.type?0:this.sortInstanceNodePosition(this.current,$.current)}updateFeatures(){let $="animation";for($ in featureDefinitions){const xt=featureDefinitions[$];if(!xt)continue;const{isEnabled:bt,Feature:At}=xt;if(!this.features[$]&&At&&bt(this.props)&&(this.features[$]=new At(this)),this.features[$]){const St=this.features[$];St.isMounted?St.update():(St.mount(),St.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue($){return this.latestValues[$]}setStaticValue($,xt){this.latestValues[$]=xt}update($,xt){($.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=$,this.prevPresenceContext=this.presenceContext,this.presenceContext=xt;for(let bt=0;bt<propEventHandlers.length;bt++){const At=propEventHandlers[bt];this.propEventSubscriptions[At]&&(this.propEventSubscriptions[At](),delete this.propEventSubscriptions[At]);const St="on"+At,Et=$[St];Et&&(this.propEventSubscriptions[At]=this.on(At,Et))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps($,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant($){return this.props.variants?this.props.variants[$]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext($=!1){if($)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const bt=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(bt.initial=this.props.initial),bt}const xt={};for(let bt=0;bt<numVariantProps;bt++){const At=variantProps[bt],St=this.props[At];(isVariantLabel(St)||St===!1)&&(xt[At]=St)}return xt}addVariantChild($){const xt=this.getClosestVariantNode();if(xt)return xt.variantChildren&&xt.variantChildren.add($),()=>xt.variantChildren.delete($)}addValue($,xt){const bt=this.values.get($);xt!==bt&&(bt&&this.removeValue($),this.bindToMotionValue($,xt),this.values.set($,xt),this.latestValues[$]=xt.get())}removeValue($){this.values.delete($);const xt=this.valueSubscriptions.get($);xt&&(xt(),this.valueSubscriptions.delete($)),delete this.latestValues[$],this.removeValueFromRenderState($,this.renderState)}hasValue($){return this.values.has($)}getValue($,xt){if(this.props.values&&this.props.values[$])return this.props.values[$];let bt=this.values.get($);return bt===void 0&&xt!==void 0&&(bt=motionValue(xt===null?void 0:xt,{owner:this}),this.addValue($,bt)),bt}readValue($,xt){var bt;let At=this.latestValues[$]!==void 0||!this.current?this.latestValues[$]:(bt=this.getBaseTargetFromProps(this.props,$))!==null&&bt!==void 0?bt:this.readValueFromInstance(this.current,$,this.options);return At!=null&&(typeof At=="string"&&(isNumericalString(At)||isZeroValueString(At))?At=parseFloat(At):!findValueType(At)&&complex.test(xt)&&(At=getAnimatableNone($,xt)),this.setBaseTarget($,isMotionValue(At)?At.get():At)),isMotionValue(At)?At.get():At}setBaseTarget($,xt){this.baseTarget[$]=xt}getBaseTarget($){var xt;const{initial:bt}=this.props;let At;if(typeof bt=="string"||typeof bt=="object"){const Et=resolveVariantFromProps(this.props,bt,(xt=this.presenceContext)===null||xt===void 0?void 0:xt.custom);Et&&(At=Et[$])}if(bt&&At!==void 0)return At;const St=this.getBaseTargetFromProps(this.props,$);return St!==void 0&&!isMotionValue(St)?St:this.initialValues[$]!==void 0&&At===void 0?void 0:this.baseTarget[$]}on($,xt){return this.events[$]||(this.events[$]=new SubscriptionManager),this.events[$].add(xt)}notify($,...xt){this.events[$]&&this.events[$].notify(...xt)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition($,xt){return $.compareDocumentPosition(xt)&2?1:-1}getBaseTargetFromProps($,xt){return $.style?$.style[xt]:void 0}removeValueFromRenderState($,{vars:xt,style:bt}){delete xt[$],delete bt[$]}}function getComputedStyle$1(_e){return window.getComputedStyle(_e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance($,xt){if(transformProps.has(xt)){const bt=getDefaultValueType(xt);return bt&&bt.default||0}else{const bt=getComputedStyle$1($),At=(isCSSVariableName(xt)?bt.getPropertyValue(xt):bt[xt])||0;return typeof At=="string"?At.trim():At}}measureInstanceViewportBox($,{transformPagePoint:xt}){return measureViewportBox($,xt)}build($,xt,bt,At){buildHTMLStyles($,xt,bt,At.transformTemplate)}scrapeMotionValuesFromProps($,xt,bt){return scrapeMotionValuesFromProps$1($,xt,bt)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:$}=this.props;isMotionValue($)&&(this.childSubscription=$.on("change",xt=>{this.current&&(this.current.textContent=`${xt}`)}))}renderInstance($,xt,bt,At){renderHTML($,xt,bt,At)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps($,xt){return $[xt]}readValueFromInstance($,xt){if(transformProps.has(xt)){const bt=getDefaultValueType(xt);return bt&&bt.default||0}return xt=camelCaseAttributes.has(xt)?xt:camelToDash(xt),$.getAttribute(xt)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps($,xt,bt){return scrapeMotionValuesFromProps($,xt,bt)}build($,xt,bt,At){buildSVGAttrs($,xt,bt,this.isSVGTag,At.transformTemplate)}renderInstance($,xt,bt,At){renderSVG($,xt,bt,At)}mount($){this.isSVGTag=isSVGTag($.tagName),super.mount($)}}const createDomVisualElement=(_e,$)=>isSVGComponent(_e)?new SVGVisualElement($,{enableHardwareAcceleration:!1}):new HTMLVisualElement($,{allowProjection:_e!==reactExports.Fragment,enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((_e,$)=>createDomMotionConfig(_e,$,preloadedFeatures,createDomVisualElement));function useIsMounted(){const _e=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(_e.current=!0,()=>{_e.current=!1}),[]),_e}function useForceUpdate(){const _e=useIsMounted(),[$,xt]=reactExports.useState(0),bt=reactExports.useCallback(()=>{_e.current&&xt($+1)},[$]);return[reactExports.useCallback(()=>frame.postRender(bt),[bt]),$]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate($){const xt=this.props.childRef.current;if(xt&&$.isPresent&&!this.props.isPresent){const bt=this.props.sizeRef.current;bt.height=xt.offsetHeight||0,bt.width=xt.offsetWidth||0,bt.top=xt.offsetTop,bt.left=xt.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:_e,isPresent:$}){const xt=reactExports.useId(),bt=reactExports.useRef(null),At=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:St}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:Et,height:Ct,top:Pt,left:wt}=At.current;if($||!bt.current||!Et||!Ct)return;bt.current.dataset.motionPopId=xt;const kt=document.createElement("style");return St&&(kt.nonce=St),document.head.appendChild(kt),kt.sheet&&kt.sheet.insertRule(`
          [data-motion-pop-id="${xt}"] {
            position: absolute !important;
            width: ${Et}px !important;
            height: ${Ct}px !important;
            top: ${Pt}px !important;
            left: ${wt}px !important;
          }
        `),()=>{document.head.removeChild(kt)}},[$]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:$,childRef:bt,sizeRef:At,children:reactExports.cloneElement(_e,{ref:bt})})}const PresenceChild=({children:_e,initial:$,isPresent:xt,onExitComplete:bt,custom:At,presenceAffectsLayout:St,mode:Et})=>{const Ct=useConstant(newChildrenMap),Pt=reactExports.useId(),wt=reactExports.useMemo(()=>({id:Pt,initial:$,isPresent:xt,custom:At,onExitComplete:kt=>{Ct.set(kt,!0);for(const Rt of Ct.values())if(!Rt)return;bt&&bt()},register:kt=>(Ct.set(kt,!1),()=>Ct.delete(kt))}),St?[Math.random()]:[xt]);return reactExports.useMemo(()=>{Ct.forEach((kt,Rt)=>Ct.set(Rt,!1))},[xt]),reactExports.useEffect(()=>{!xt&&!Ct.size&&bt&&bt()},[xt]),Et==="popLayout"&&(_e=jsxRuntimeExports.jsx(PopChild,{isPresent:xt,children:_e})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:wt,children:_e})};function newChildrenMap(){return new Map}function useUnmountEffect(_e){return reactExports.useEffect(()=>()=>_e(),[])}const getChildKey=_e=>_e.key||"";function updateChildLookup(_e,$){_e.forEach(xt=>{const bt=getChildKey(xt);$.set(bt,xt)})}function onlyElements(_e){const $=[];return reactExports.Children.forEach(_e,xt=>{reactExports.isValidElement(xt)&&$.push(xt)}),$}const AnimatePresence=({children:_e,custom:$,initial:xt=!0,onExitComplete:bt,exitBeforeEnter:At,presenceAffectsLayout:St=!0,mode:Et="sync"})=>{const Ct=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],Pt=useIsMounted(),wt=onlyElements(_e);let kt=wt;const Rt=reactExports.useRef(new Map).current,ht=reactExports.useRef(kt),vt=reactExports.useRef(new Map).current,Ft=reactExports.useRef(!0);if(useIsomorphicLayoutEffect(()=>{Ft.current=!1,updateChildLookup(wt,vt),ht.current=kt}),useUnmountEffect(()=>{Ft.current=!0,vt.clear(),Rt.clear()}),Ft.current)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:kt.map($t=>jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,initial:xt?void 0:!1,presenceAffectsLayout:St,mode:Et,children:$t},getChildKey($t)))});kt=[...kt];const Ht=ht.current.map(getChildKey),qt=wt.map(getChildKey),Nt=Ht.length;for(let $t=0;$t<Nt;$t++){const Mt=Ht[$t];qt.indexOf(Mt)===-1&&!Rt.has(Mt)&&Rt.set(Mt,void 0)}return Et==="wait"&&Rt.size&&(kt=[]),Rt.forEach(($t,Mt)=>{if(qt.indexOf(Mt)!==-1)return;const Bt=vt.get(Mt);if(!Bt)return;const _t=Ht.indexOf(Mt);let Kt=$t;if(!Kt){const jt=()=>{Rt.delete(Mt);const Gt=Array.from(vt.keys()).filter(Qt=>!qt.includes(Qt));if(Gt.forEach(Qt=>vt.delete(Qt)),ht.current=wt.filter(Qt=>{const ln=getChildKey(Qt);return ln===Mt||Gt.includes(ln)}),!Rt.size){if(Pt.current===!1)return;Ct(),bt&&bt()}};Kt=jsxRuntimeExports.jsx(PresenceChild,{isPresent:!1,onExitComplete:jt,custom:$,presenceAffectsLayout:St,mode:Et,children:Bt},getChildKey(Bt)),Rt.set(Mt,Kt)}kt.splice(_t,0,Kt)}),kt=kt.map($t=>{const Mt=$t.key;return Rt.has(Mt)?$t:jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,presenceAffectsLayout:St,mode:Et,children:$t},getChildKey($t))}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Rt.size?kt:kt.map($t=>reactExports.cloneElement($t))})},scriptRel="modulepreload",assetsURL=function(_e){return"/"+_e},seen={},__vitePreload=function($,xt,bt){let At=Promise.resolve();if(xt&&xt.length>0){document.getElementsByTagName("link");const St=document.querySelector("meta[property=csp-nonce]"),Et=(St==null?void 0:St.nonce)||(St==null?void 0:St.getAttribute("nonce"));At=Promise.all(xt.map(Ct=>{if(Ct=assetsURL(Ct),Ct in seen)return;seen[Ct]=!0;const Pt=Ct.endsWith(".css"),wt=Pt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Ct}"]${wt}`))return;const kt=document.createElement("link");if(kt.rel=Pt?"stylesheet":scriptRel,Pt||(kt.as="script",kt.crossOrigin=""),kt.href=Ct,Et&&kt.setAttribute("nonce",Et),document.head.appendChild(kt),Pt)return new Promise((Rt,ht)=>{kt.addEventListener("load",Rt),kt.addEventListener("error",()=>ht(new Error(`Unable to preload CSS for ${Ct}`)))})}))}return At.then(()=>$()).catch(St=>{const Et=new Event("vite:preloadError",{cancelable:!0});if(Et.payload=St,window.dispatchEvent(Et),!Et.defaultPrevented)throw St})};var __webpack_require__={};__webpack_require__.d=(_e,$)=>{for(var xt in $)__webpack_require__.o($,xt)&&!__webpack_require__.o(_e,xt)&&Object.defineProperty(_e,xt,{enumerable:!0,get:$[xt]})};__webpack_require__.o=(_e,$)=>Object.prototype.hasOwnProperty.call(_e,$);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer,AnnotationMode:()=>AnnotationMode,CMapCompressionType:()=>CMapCompressionType,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,Outliner:()=>Outliner,PDFDataRangeTransport:()=>PDFDataRangeTransport,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,renderTextLayer:()=>renderTextLayer,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,updateTextLayer:()=>updateTextLayer,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(_e){Number.isInteger(_e)&&(verbosity=_e)}function getVerbosityLevel(){return verbosity}function info(_e){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${_e}`)}function warn(_e){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${_e}`)}function unreachable(_e){throw new Error(_e)}function assert(_e,$){_e||unreachable($)}function _isValidProtocol(_e){switch(_e==null?void 0:_e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(_e,$=null,xt=null){if(!_e)return null;try{if(xt&&typeof _e=="string"){if(xt.addDefaultProtocol&&_e.startsWith("www.")){const At=_e.match(/\./g);(At==null?void 0:At.length)>=2&&(_e=`http://${_e}`)}if(xt.tryConvertEncoding)try{_e=stringToUTF8String(_e)}catch{}}const bt=$?new URL(_e,$):new URL(_e);if(_isValidProtocol(bt))return bt}catch{}return null}function shadow(_e,$,xt,bt=!1){return Object.defineProperty(_e,$,{value:xt,enumerable:!bt,configurable:!0,writable:!1}),xt}const BaseException=function(){function $(xt,bt){this.constructor===$&&unreachable("Cannot initialize BaseException."),this.message=xt,this.name=bt}return $.prototype=new Error,$.constructor=$,$}();class PasswordException extends BaseException{constructor($,xt){super($,"PasswordException"),this.code=xt}}class UnknownErrorException extends BaseException{constructor($,xt){super($,"UnknownErrorException"),this.details=xt}}class InvalidPDFException extends BaseException{constructor($){super($,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor($){super($,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor($,xt){super($,"UnexpectedResponseException"),this.status=xt}}class FormatError extends BaseException{constructor($){super($,"FormatError")}}class AbortException extends BaseException{constructor($){super($,"AbortException")}}function bytesToString(_e){(typeof _e!="object"||(_e==null?void 0:_e.length)===void 0)&&unreachable("Invalid argument for bytesToString");const $=_e.length,xt=8192;if($<xt)return String.fromCharCode.apply(null,_e);const bt=[];for(let At=0;At<$;At+=xt){const St=Math.min(At+xt,$),Et=_e.subarray(At,St);bt.push(String.fromCharCode.apply(null,Et))}return bt.join("")}function stringToBytes(_e){typeof _e!="string"&&unreachable("Invalid argument for stringToBytes");const $=_e.length,xt=new Uint8Array($);for(let bt=0;bt<$;++bt)xt[bt]=_e.charCodeAt(bt)&255;return xt}function string32(_e){return String.fromCharCode(_e>>24&255,_e>>16&255,_e>>8&255,_e&255)}function objectFromMap(_e){const $=Object.create(null);for(const[xt,bt]of _e)$[xt]=bt;return $}function isLittleEndian(){const _e=new Uint8Array(4);return _e[0]=1,new Uint32Array(_e.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var $,xt;return shadow(this,"isCSSRoundSupported",(xt=($=globalThis.CSS)==null?void 0:$.supports)==null?void 0:xt.call($,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),_e=>_e.toString(16).padStart(2,"0"));var B0,_b,gy;class Util{static makeHexColor($,xt,bt){return`#${hexNumbers[$]}${hexNumbers[xt]}${hexNumbers[bt]}`}static scaleMinMax($,xt){let bt;$[0]?($[0]<0&&(bt=xt[0],xt[0]=xt[2],xt[2]=bt),xt[0]*=$[0],xt[2]*=$[0],$[3]<0&&(bt=xt[1],xt[1]=xt[3],xt[3]=bt),xt[1]*=$[3],xt[3]*=$[3]):(bt=xt[0],xt[0]=xt[1],xt[1]=bt,bt=xt[2],xt[2]=xt[3],xt[3]=bt,$[1]<0&&(bt=xt[1],xt[1]=xt[3],xt[3]=bt),xt[1]*=$[1],xt[3]*=$[1],$[2]<0&&(bt=xt[0],xt[0]=xt[2],xt[2]=bt),xt[0]*=$[2],xt[2]*=$[2]),xt[0]+=$[4],xt[1]+=$[5],xt[2]+=$[4],xt[3]+=$[5]}static transform($,xt){return[$[0]*xt[0]+$[2]*xt[1],$[1]*xt[0]+$[3]*xt[1],$[0]*xt[2]+$[2]*xt[3],$[1]*xt[2]+$[3]*xt[3],$[0]*xt[4]+$[2]*xt[5]+$[4],$[1]*xt[4]+$[3]*xt[5]+$[5]]}static applyTransform($,xt){const bt=$[0]*xt[0]+$[1]*xt[2]+xt[4],At=$[0]*xt[1]+$[1]*xt[3]+xt[5];return[bt,At]}static applyInverseTransform($,xt){const bt=xt[0]*xt[3]-xt[1]*xt[2],At=($[0]*xt[3]-$[1]*xt[2]+xt[2]*xt[5]-xt[4]*xt[3])/bt,St=(-$[0]*xt[1]+$[1]*xt[0]+xt[4]*xt[1]-xt[5]*xt[0])/bt;return[At,St]}static getAxialAlignedBoundingBox($,xt){const bt=this.applyTransform($,xt),At=this.applyTransform($.slice(2,4),xt),St=this.applyTransform([$[0],$[3]],xt),Et=this.applyTransform([$[2],$[1]],xt);return[Math.min(bt[0],At[0],St[0],Et[0]),Math.min(bt[1],At[1],St[1],Et[1]),Math.max(bt[0],At[0],St[0],Et[0]),Math.max(bt[1],At[1],St[1],Et[1])]}static inverseTransform($){const xt=$[0]*$[3]-$[1]*$[2];return[$[3]/xt,-$[1]/xt,-$[2]/xt,$[0]/xt,($[2]*$[5]-$[4]*$[3])/xt,($[4]*$[1]-$[5]*$[0])/xt]}static singularValueDecompose2dScale($){const xt=[$[0],$[2],$[1],$[3]],bt=$[0]*xt[0]+$[1]*xt[2],At=$[0]*xt[1]+$[1]*xt[3],St=$[2]*xt[0]+$[3]*xt[2],Et=$[2]*xt[1]+$[3]*xt[3],Ct=(bt+Et)/2,Pt=Math.sqrt((bt+Et)**2-4*(bt*Et-St*At))/2,wt=Ct+Pt||1,kt=Ct-Pt||1;return[Math.sqrt(wt),Math.sqrt(kt)]}static normalizeRect($){const xt=$.slice(0);return $[0]>$[2]&&(xt[0]=$[2],xt[2]=$[0]),$[1]>$[3]&&(xt[1]=$[3],xt[3]=$[1]),xt}static intersect($,xt){const bt=Math.max(Math.min($[0],$[2]),Math.min(xt[0],xt[2])),At=Math.min(Math.max($[0],$[2]),Math.max(xt[0],xt[2]));if(bt>At)return null;const St=Math.max(Math.min($[1],$[3]),Math.min(xt[1],xt[3])),Et=Math.min(Math.max($[1],$[3]),Math.max(xt[1],xt[3]));return St>Et?null:[bt,St,At,Et]}static bezierBoundingBox($,xt,bt,At,St,Et,Ct,Pt,wt){return wt?(wt[0]=Math.min(wt[0],$,Ct),wt[1]=Math.min(wt[1],xt,Pt),wt[2]=Math.max(wt[2],$,Ct),wt[3]=Math.max(wt[3],xt,Pt)):wt=[Math.min($,Ct),Math.min(xt,Pt),Math.max($,Ct),Math.max(xt,Pt)],In(this,B0,gy).call(this,$,bt,St,Ct,xt,At,Et,Pt,3*(-$+3*(bt-St)+Ct),6*($-2*bt+St),3*(bt-$),wt),In(this,B0,gy).call(this,$,bt,St,Ct,xt,At,Et,Pt,3*(-xt+3*(At-Et)+Pt),6*(xt-2*At+Et),3*(At-xt),wt),wt}}B0=new WeakSet,_b=function($,xt,bt,At,St,Et,Ct,Pt,wt,kt){if(wt<=0||wt>=1)return;const Rt=1-wt,ht=wt*wt,vt=ht*wt,Ft=Rt*(Rt*(Rt*$+3*wt*xt)+3*ht*bt)+vt*At,Ht=Rt*(Rt*(Rt*St+3*wt*Et)+3*ht*Ct)+vt*Pt;kt[0]=Math.min(kt[0],Ft),kt[1]=Math.min(kt[1],Ht),kt[2]=Math.max(kt[2],Ft),kt[3]=Math.max(kt[3],Ht)},gy=function($,xt,bt,At,St,Et,Ct,Pt,wt,kt,Rt,ht){if(Math.abs(wt)<1e-12){Math.abs(kt)>=1e-12&&In(this,B0,_b).call(this,$,xt,bt,At,St,Et,Ct,Pt,-Rt/kt,ht);return}const vt=kt**2-4*Rt*wt;if(vt<0)return;const Ft=Math.sqrt(vt),Ht=2*wt;In(this,B0,_b).call(this,$,xt,bt,At,St,Et,Ct,Pt,(-kt+Ft)/Ht,ht),In(this,B0,_b).call(this,$,xt,bt,At,St,Et,Ct,Pt,(-kt-Ft)/Ht,ht)},Nn(Util,B0);function stringToUTF8String(_e){return decodeURIComponent(escape(_e))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(_e){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),_e.replaceAll(NormalizeRegex,($,xt,bt)=>xt?xt.normalize("NFKC"):NormalizationMap.get(bt))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const _e=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(_e);else for(let $=0;$<32;$++)_e[$]=Math.floor(Math.random()*255);return bytesToString(_e)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class BaseFilterFactory{constructor(){this.constructor===BaseFilterFactory&&unreachable("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,xt){return"none"}addAlphaFilter($){return"none"}addLuminosityFilter($){return"none"}addHighlightHCMFilter($,xt,bt,At,St){return"none"}destroy($=!1){}}class BaseCanvasFactory{constructor(){this.constructor===BaseCanvasFactory&&unreachable("Cannot initialize BaseCanvasFactory.")}create($,xt){if($<=0||xt<=0)throw new Error("Invalid canvas size");const bt=this._createCanvas($,xt);return{canvas:bt,context:bt.getContext("2d")}}reset($,xt,bt){if(!$.canvas)throw new Error("Canvas is not specified");if(xt<=0||bt<=0)throw new Error("Invalid canvas size");$.canvas.width=xt,$.canvas.height=bt}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,xt){unreachable("Abstract method `_createCanvas` called.")}}class BaseCMapReaderFactory{constructor({baseUrl:$=null,isCompressed:xt=!0}){this.constructor===BaseCMapReaderFactory&&unreachable("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=$,this.isCompressed=xt}async fetch({name:$}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!$)throw new Error("CMap name must be specified.");const xt=this.baseUrl+$+(this.isCompressed?".bcmap":""),bt=this.isCompressed?CMapCompressionType.BINARY:CMapCompressionType.NONE;return this._fetchData(xt,bt).catch(At=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${xt}`)})}_fetchData($,xt){unreachable("Abstract method `_fetchData` called.")}}class BaseStandardFontDataFactory{constructor({baseUrl:$=null}){this.constructor===BaseStandardFontDataFactory&&unreachable("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=$}async fetch({filename:$}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!$)throw new Error("Font filename must be specified.");const xt=`${this.baseUrl}${$}`;return this._fetchData(xt).catch(bt=>{throw new Error(`Unable to load font data at: ${xt}`)})}_fetchData($){unreachable("Abstract method `_fetchData` called.")}}class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&unreachable("Cannot initialize BaseSVGFactory.")}create($,xt,bt=!1){if($<=0||xt<=0)throw new Error("Invalid SVG dimensions");const At=this._createSVG("svg:svg");return At.setAttribute("version","1.1"),bt||(At.setAttribute("width",`${$}px`),At.setAttribute("height",`${xt}px`)),At.setAttribute("preserveAspectRatio","none"),At.setAttribute("viewBox",`0 0 ${$} ${xt}`),At}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){unreachable("Abstract method `_createSVG` called.")}}const SVG_NS="http://www.w3.org/2000/svg",Ru=class Ru{};Ur(Ru,"CSS",96),Ur(Ru,"PDF",72),Ur(Ru,"PDF_TO_CSS_UNITS",Ru.CSS/Ru.PDF);let PixelsPerInch=Ru;var Iu,Xl,g0,Uo,H2,Ou,cs,Mo,Lp,Dp,e2,g3,my,Np,Y1,Z1,xy,J1;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:xt,ownerDocument:bt=globalThis.document}={}){super();Nn(this,cs);Nn(this,Iu);Nn(this,Xl);Nn(this,g0);Nn(this,Uo);Nn(this,H2);Nn(this,Ou,0);$n(this,g0,xt),$n(this,Uo,bt)}addFilter(xt){if(!xt)return"none";let bt=Ot(this,cs,Mo).get(xt);if(bt)return bt;const[At,St,Et]=In(this,cs,e2).call(this,xt),Ct=xt.length===1?At:`${At}${St}${Et}`;if(bt=Ot(this,cs,Mo).get(Ct),bt)return Ot(this,cs,Mo).set(xt,bt),bt;const Pt=`g_${Ot(this,g0)}_transfer_map_${So(this,Ou)._++}`,wt=`url(#${Pt})`;Ot(this,cs,Mo).set(xt,wt),Ot(this,cs,Mo).set(Ct,wt);const kt=In(this,cs,Np).call(this,Pt);return In(this,cs,Z1).call(this,At,St,Et,kt),wt}addHCMFilter(xt,bt){var Ft;const At=`${xt}-${bt}`,St="base";let Et=Ot(this,cs,Lp).get(St);if((Et==null?void 0:Et.key)===At||(Et?((Ft=Et.filter)==null||Ft.remove(),Et.key=At,Et.url="none",Et.filter=null):(Et={key:At,url:"none",filter:null},Ot(this,cs,Lp).set(St,Et)),!xt||!bt))return Et.url;const Ct=In(this,cs,J1).call(this,xt);xt=Util.makeHexColor(...Ct);const Pt=In(this,cs,J1).call(this,bt);if(bt=Util.makeHexColor(...Pt),Ot(this,cs,Dp).style.color="",xt==="#000000"&&bt==="#ffffff"||xt===bt)return Et.url;const wt=new Array(256);for(let Ht=0;Ht<=255;Ht++){const qt=Ht/255;wt[Ht]=qt<=.03928?qt/12.92:((qt+.055)/1.055)**2.4}const kt=wt.join(","),Rt=`g_${Ot(this,g0)}_hcm_filter`,ht=Et.filter=In(this,cs,Np).call(this,Rt);In(this,cs,Z1).call(this,kt,kt,kt,ht),In(this,cs,my).call(this,ht);const vt=(Ht,qt)=>{const Nt=Ct[Ht]/255,$t=Pt[Ht]/255,Mt=new Array(qt+1);for(let Bt=0;Bt<=qt;Bt++)Mt[Bt]=Nt+Bt/qt*($t-Nt);return Mt.join(",")};return In(this,cs,Z1).call(this,vt(0,5),vt(1,5),vt(2,5),ht),Et.url=`url(#${Rt})`,Et.url}addAlphaFilter(xt){let bt=Ot(this,cs,Mo).get(xt);if(bt)return bt;const[At]=In(this,cs,e2).call(this,[xt]),St=`alpha_${At}`;if(bt=Ot(this,cs,Mo).get(St),bt)return Ot(this,cs,Mo).set(xt,bt),bt;const Et=`g_${Ot(this,g0)}_alpha_map_${So(this,Ou)._++}`,Ct=`url(#${Et})`;Ot(this,cs,Mo).set(xt,Ct),Ot(this,cs,Mo).set(St,Ct);const Pt=In(this,cs,Np).call(this,Et);return In(this,cs,xy).call(this,At,Pt),Ct}addLuminosityFilter(xt){let bt=Ot(this,cs,Mo).get(xt||"luminosity");if(bt)return bt;let At,St;if(xt?([At]=In(this,cs,e2).call(this,[xt]),St=`luminosity_${At}`):St="luminosity",bt=Ot(this,cs,Mo).get(St),bt)return Ot(this,cs,Mo).set(xt,bt),bt;const Et=`g_${Ot(this,g0)}_luminosity_map_${So(this,Ou)._++}`,Ct=`url(#${Et})`;Ot(this,cs,Mo).set(xt,Ct),Ot(this,cs,Mo).set(St,Ct);const Pt=In(this,cs,Np).call(this,Et);return In(this,cs,g3).call(this,Pt),xt&&In(this,cs,xy).call(this,At,Pt),Ct}addHighlightHCMFilter(xt,bt,At,St,Et){var $t;const Ct=`${bt}-${At}-${St}-${Et}`;let Pt=Ot(this,cs,Lp).get(xt);if((Pt==null?void 0:Pt.key)===Ct||(Pt?(($t=Pt.filter)==null||$t.remove(),Pt.key=Ct,Pt.url="none",Pt.filter=null):(Pt={key:Ct,url:"none",filter:null},Ot(this,cs,Lp).set(xt,Pt)),!bt||!At))return Pt.url;const[wt,kt]=[bt,At].map(In(this,cs,J1).bind(this));let Rt=Math.round(.2126*wt[0]+.7152*wt[1]+.0722*wt[2]),ht=Math.round(.2126*kt[0]+.7152*kt[1]+.0722*kt[2]),[vt,Ft]=[St,Et].map(In(this,cs,J1).bind(this));ht<Rt&&([Rt,ht,vt,Ft]=[ht,Rt,Ft,vt]),Ot(this,cs,Dp).style.color="";const Ht=(Mt,Bt,_t)=>{const Kt=new Array(256),jt=(ht-Rt)/_t,Gt=Mt/255,Qt=(Bt-Mt)/(255*_t);let ln=0;for(let en=0;en<=_t;en++){const gn=Math.round(Rt+en*jt),tn=Gt+en*Qt;for(let bn=ln;bn<=gn;bn++)Kt[bn]=tn;ln=gn+1}for(let en=ln;en<256;en++)Kt[en]=Kt[ln-1];return Kt.join(",")},qt=`g_${Ot(this,g0)}_hcm_${xt}_filter`,Nt=Pt.filter=In(this,cs,Np).call(this,qt);return In(this,cs,my).call(this,Nt),In(this,cs,Z1).call(this,Ht(vt[0],Ft[0],5),Ht(vt[1],Ft[1],5),Ht(vt[2],Ft[2],5),Nt),Pt.url=`url(#${qt})`,Pt.url}destroy(xt=!1){xt&&Ot(this,cs,Lp).size!==0||(Ot(this,Xl)&&(Ot(this,Xl).parentNode.parentNode.remove(),$n(this,Xl,null)),Ot(this,Iu)&&(Ot(this,Iu).clear(),$n(this,Iu,null)),$n(this,Ou,0))}}Iu=new WeakMap,Xl=new WeakMap,g0=new WeakMap,Uo=new WeakMap,H2=new WeakMap,Ou=new WeakMap,cs=new WeakSet,Mo=function(){return Ot(this,Iu)||$n(this,Iu,new Map)},Lp=function(){return Ot(this,H2)||$n(this,H2,new Map)},Dp=function(){if(!Ot(this,Xl)){const xt=Ot(this,Uo).createElement("div"),{style:bt}=xt;bt.visibility="hidden",bt.contain="strict",bt.width=bt.height=0,bt.position="absolute",bt.top=bt.left=0,bt.zIndex=-1;const At=Ot(this,Uo).createElementNS(SVG_NS,"svg");At.setAttribute("width",0),At.setAttribute("height",0),$n(this,Xl,Ot(this,Uo).createElementNS(SVG_NS,"defs")),xt.append(At),At.append(Ot(this,Xl)),Ot(this,Uo).body.append(xt)}return Ot(this,Xl)},e2=function(xt){if(xt.length===1){const wt=xt[0],kt=new Array(256);for(let ht=0;ht<256;ht++)kt[ht]=wt[ht]/255;const Rt=kt.join(",");return[Rt,Rt,Rt]}const[bt,At,St]=xt,Et=new Array(256),Ct=new Array(256),Pt=new Array(256);for(let wt=0;wt<256;wt++)Et[wt]=bt[wt]/255,Ct[wt]=At[wt]/255,Pt[wt]=St[wt]/255;return[Et.join(","),Ct.join(","),Pt.join(",")]},g3=function(xt){const bt=Ot(this,Uo).createElementNS(SVG_NS,"feColorMatrix");bt.setAttribute("type","matrix"),bt.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),xt.append(bt)},my=function(xt){const bt=Ot(this,Uo).createElementNS(SVG_NS,"feColorMatrix");bt.setAttribute("type","matrix"),bt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),xt.append(bt)},Np=function(xt){const bt=Ot(this,Uo).createElementNS(SVG_NS,"filter");return bt.setAttribute("color-interpolation-filters","sRGB"),bt.setAttribute("id",xt),Ot(this,cs,Dp).append(bt),bt},Y1=function(xt,bt,At){const St=Ot(this,Uo).createElementNS(SVG_NS,bt);St.setAttribute("type","discrete"),St.setAttribute("tableValues",At),xt.append(St)},Z1=function(xt,bt,At,St){const Et=Ot(this,Uo).createElementNS(SVG_NS,"feComponentTransfer");St.append(Et),In(this,cs,Y1).call(this,Et,"feFuncR",xt),In(this,cs,Y1).call(this,Et,"feFuncG",bt),In(this,cs,Y1).call(this,Et,"feFuncB",At)},xy=function(xt,bt){const At=Ot(this,Uo).createElementNS(SVG_NS,"feComponentTransfer");bt.append(At),In(this,cs,Y1).call(this,At,"feFuncA",xt)},J1=function(xt){return Ot(this,cs,Dp).style.color=xt,getRGB(getComputedStyle(Ot(this,cs,Dp)).getPropertyValue("color"))};class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:$=globalThis.document}={}){super(),this._document=$}_createCanvas($,xt){const bt=this._document.createElement("canvas");return bt.width=$,bt.height=xt,bt}}async function fetchData(_e,$="text"){if(isValidFetchUrl(_e,document.baseURI)){const xt=await fetch(_e);if(!xt.ok)throw new Error(xt.statusText);switch($){case"arraybuffer":return xt.arrayBuffer();case"blob":return xt.blob();case"json":return xt.json()}return xt.text()}return new Promise((xt,bt)=>{const At=new XMLHttpRequest;At.open("GET",_e,!0),At.responseType=$,At.onreadystatechange=()=>{if(At.readyState===XMLHttpRequest.DONE){if(At.status===200||At.status===0){switch($){case"arraybuffer":case"blob":case"json":xt(At.response);return}xt(At.responseText);return}bt(new Error(At.statusText))}},At.send(null)})}class DOMCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,xt){return fetchData($,this.isCompressed?"arraybuffer":"text").then(bt=>({cMapData:bt instanceof ArrayBuffer?new Uint8Array(bt):stringToBytes(bt),compressionType:xt}))}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return fetchData($,"arraybuffer").then(xt=>new Uint8Array(xt))}}class DOMSVGFactory extends BaseSVGFactory{_createSVG($){return document.createElementNS(SVG_NS,$)}}class PageViewport{constructor({viewBox:$,scale:xt,rotation:bt,offsetX:At=0,offsetY:St=0,dontFlip:Et=!1}){this.viewBox=$,this.scale=xt,this.rotation=bt,this.offsetX=At,this.offsetY=St;const Ct=($[2]+$[0])/2,Pt=($[3]+$[1])/2;let wt,kt,Rt,ht;switch(bt%=360,bt<0&&(bt+=360),bt){case 180:wt=-1,kt=0,Rt=0,ht=1;break;case 90:wt=0,kt=1,Rt=1,ht=0;break;case 270:wt=0,kt=-1,Rt=-1,ht=0;break;case 0:wt=1,kt=0,Rt=0,ht=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Et&&(Rt=-Rt,ht=-ht);let vt,Ft,Ht,qt;wt===0?(vt=Math.abs(Pt-$[1])*xt+At,Ft=Math.abs(Ct-$[0])*xt+St,Ht=($[3]-$[1])*xt,qt=($[2]-$[0])*xt):(vt=Math.abs(Ct-$[0])*xt+At,Ft=Math.abs(Pt-$[1])*xt+St,Ht=($[2]-$[0])*xt,qt=($[3]-$[1])*xt),this.transform=[wt*xt,kt*xt,Rt*xt,ht*xt,vt-wt*xt*Ct-Rt*xt*Pt,Ft-kt*xt*Ct-ht*xt*Pt],this.width=Ht,this.height=qt}get rawDims(){const{viewBox:$}=this;return shadow(this,"rawDims",{pageWidth:$[2]-$[0],pageHeight:$[3]-$[1],pageX:$[0],pageY:$[1]})}clone({scale:$=this.scale,rotation:xt=this.rotation,offsetX:bt=this.offsetX,offsetY:At=this.offsetY,dontFlip:St=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:$,rotation:xt,offsetX:bt,offsetY:At,dontFlip:St})}convertToViewportPoint($,xt){return Util.applyTransform([$,xt],this.transform)}convertToViewportRectangle($){const xt=Util.applyTransform([$[0],$[1]],this.transform),bt=Util.applyTransform([$[2],$[3]],this.transform);return[xt[0],xt[1],bt[0],bt[1]]}convertToPdfPoint($,xt){return Util.applyInverseTransform([$,xt],this.transform)}}class RenderingCancelledException extends BaseException{constructor($,xt=0){super($,"RenderingCancelledException"),this.extraDelay=xt}}function isDataScheme(_e){const $=_e.length;let xt=0;for(;xt<$&&_e[xt].trim()==="";)xt++;return _e.substring(xt,xt+5).toLowerCase()==="data:"}function isPdfFile(_e){return typeof _e=="string"&&/\.pdf$/i.test(_e)}function getFilenameFromUrl(_e){return[_e]=_e.split(/[#?]/,1),_e.substring(_e.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(_e,$="document.pdf"){if(typeof _e!="string")return $;if(isDataScheme(_e))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),$;const xt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,bt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,At=xt.exec(_e);let St=bt.exec(At[1])||bt.exec(At[2])||bt.exec(At[3]);if(St&&(St=St[0],St.includes("%")))try{St=bt.exec(decodeURIComponent(St))[0]}catch{}return St||$}class StatTimer{constructor(){Ur(this,"started",Object.create(null));Ur(this,"times",[])}time($){$ in this.started&&warn(`Timer is already running for ${$}`),this.started[$]=Date.now()}timeEnd($){$ in this.started||warn(`Timer has not been started for ${$}`),this.times.push({name:$,start:this.started[$],end:Date.now()}),delete this.started[$]}toString(){const $=[];let xt=0;for(const{name:bt}of this.times)xt=Math.max(bt.length,xt);for(const{name:bt,start:At,end:St}of this.times)$.push(`${bt.padEnd(xt)} ${St-At}ms
`);return $.join("")}}function isValidFetchUrl(_e,$){try{const{protocol:xt}=$?new URL(_e,$):new URL(_e);return xt==="http:"||xt==="https:"}catch{return!1}}function noContextMenu(_e){_e.preventDefault()}function deprecated(_e){console.log("Deprecated API usage: "+_e)}let pdfDateStringRegex;class PDFDateString{static toDateObject($){if(!$||typeof $!="string")return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const xt=pdfDateStringRegex.exec($);if(!xt)return null;const bt=parseInt(xt[1],10);let At=parseInt(xt[2],10);At=At>=1&&At<=12?At-1:0;let St=parseInt(xt[3],10);St=St>=1&&St<=31?St:1;let Et=parseInt(xt[4],10);Et=Et>=0&&Et<=23?Et:0;let Ct=parseInt(xt[5],10);Ct=Ct>=0&&Ct<=59?Ct:0;let Pt=parseInt(xt[6],10);Pt=Pt>=0&&Pt<=59?Pt:0;const wt=xt[7]||"Z";let kt=parseInt(xt[8],10);kt=kt>=0&&kt<=23?kt:0;let Rt=parseInt(xt[9],10)||0;return Rt=Rt>=0&&Rt<=59?Rt:0,wt==="-"?(Et+=kt,Ct+=Rt):wt==="+"&&(Et-=kt,Ct-=Rt),new Date(Date.UTC(bt,At,St,Et,Ct,Pt))}}function getXfaPageViewport(_e,{scale:$=1,rotation:xt=0}){const{width:bt,height:At}=_e.attributes.style,St=[0,0,parseInt(bt),parseInt(At)];return new PageViewport({viewBox:St,scale:$,rotation:xt})}function getRGB(_e){if(_e.startsWith("#")){const $=parseInt(_e.slice(1),16);return[($&16711680)>>16,($&65280)>>8,$&255]}return _e.startsWith("rgb(")?_e.slice(4,-1).split(",").map($=>parseInt($)):_e.startsWith("rgba(")?_e.slice(5,-1).split(",").map($=>parseInt($)).slice(0,3):(warn(`Not a valid color format: "${_e}"`),[0,0,0])}function getColorValues(_e){const $=document.createElement("span");$.style.visibility="hidden",document.body.append($);for(const xt of _e.keys()){$.style.color=xt;const bt=window.getComputedStyle($).color;_e.set(xt,getRGB(bt))}$.remove()}function getCurrentTransform(_e){const{a:$,b:xt,c:bt,d:At,e:St,f:Et}=_e.getTransform();return[$,xt,bt,At,St,Et]}function getCurrentTransformInverse(_e){const{a:$,b:xt,c:bt,d:At,e:St,f:Et}=_e.getTransform().invertSelf();return[$,xt,bt,At,St,Et]}function setLayerDimensions(_e,$,xt=!1,bt=!0){if($ instanceof PageViewport){const{pageWidth:At,pageHeight:St}=$.rawDims,{style:Et}=_e,Ct=util_FeatureTest.isCSSRoundSupported,Pt=`var(--scale-factor) * ${At}px`,wt=`var(--scale-factor) * ${St}px`,kt=Ct?`round(${Pt}, 1px)`:`calc(${Pt})`,Rt=Ct?`round(${wt}, 1px)`:`calc(${wt})`;!xt||$.rotation%180===0?(Et.width=kt,Et.height=Rt):(Et.width=Rt,Et.height=kt)}bt&&_e.setAttribute("data-main-rotation",$.rotation)}var Lu,Du,Wl,Nu,V2,m3,$o,x3,b3,t2,y3,by;const z2=class z2{constructor($){Nn(this,$o);Nn(this,Lu,null);Nn(this,Du,null);Nn(this,Wl);Nn(this,Nu,null);$n(this,Wl,$)}render(){const $=$n(this,Lu,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",In(z2,V2,m3));const xt=$n(this,Nu,document.createElement("div"));xt.className="buttons",$.append(xt);const bt=Ot(this,Wl).toolbarPosition;if(bt){const{style:At}=$,St=Ot(this,Wl)._uiManager.direction==="ltr"?1-bt[0]:bt[0];At.insetInlineEnd=`${100*St}%`,At.top=`calc(${100*bt[1]}% + var(--editor-toolbar-vert-offset))`}return In(this,$o,y3).call(this),$}hide(){var $;Ot(this,Lu).classList.add("hidden"),($=Ot(this,Du))==null||$.hideDropdown()}show(){Ot(this,Lu).classList.remove("hidden")}addAltTextButton($){In(this,$o,t2).call(this,$),Ot(this,Nu).prepend($,Ot(this,$o,by))}addColorPicker($){$n(this,Du,$);const xt=$.renderButton();In(this,$o,t2).call(this,xt),Ot(this,Nu).prepend(xt,Ot(this,$o,by))}remove(){var $;Ot(this,Lu).remove(),($=Ot(this,Du))==null||$.destroy(),$n(this,Du,null)}};Lu=new WeakMap,Du=new WeakMap,Wl=new WeakMap,Nu=new WeakMap,V2=new WeakSet,m3=function($){$.stopPropagation()},$o=new WeakSet,x3=function($){Ot(this,Wl)._focusEventsAllowed=!1,$.preventDefault(),$.stopPropagation()},b3=function($){Ot(this,Wl)._focusEventsAllowed=!0,$.preventDefault(),$.stopPropagation()},t2=function($){$.addEventListener("focusin",In(this,$o,x3).bind(this),{capture:!0}),$.addEventListener("focusout",In(this,$o,b3).bind(this),{capture:!0}),$.addEventListener("contextmenu",noContextMenu)},y3=function(){const $=document.createElement("button");$.className="delete",$.tabIndex=0,$.setAttribute("data-l10n-id",`pdfjs-editor-remove-${Ot(this,Wl).editorType}-button`),In(this,$o,t2).call(this,$),$.addEventListener("click",xt=>{Ot(this,Wl)._uiManager.delete()}),Ot(this,Nu).append($)},by=function(){const $=document.createElement("div");return $.className="divider",$},Nn(z2,V2);let EditorToolbar=z2;var mm,$u,xm,bu,v3,w3,A3;class HighlightToolbar{constructor($){Nn(this,bu);Nn(this,mm,null);Nn(this,$u,null);Nn(this,xm);$n(this,xm,$)}show($,xt,bt){const[At,St]=In(this,bu,w3).call(this,xt,bt),{style:Et}=Ot(this,$u)||$n(this,$u,In(this,bu,v3).call(this));$.append(Ot(this,$u)),Et.insetInlineEnd=`${100*At}%`,Et.top=`calc(${100*St}% + var(--editor-toolbar-vert-offset))`}hide(){Ot(this,$u).remove()}}mm=new WeakMap,$u=new WeakMap,xm=new WeakMap,bu=new WeakSet,v3=function(){const $=$n(this,$u,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu);const xt=$n(this,mm,document.createElement("div"));return xt.className="buttons",$.append(xt),In(this,bu,A3).call(this),$},w3=function($,xt){let bt=0,At=0;for(const St of $){const Et=St.y+St.height;if(Et<bt)continue;const Ct=St.x+(xt?St.width:0);if(Et>bt){At=Ct,bt=Et;continue}xt?Ct>At&&(At=Ct):Ct<At&&(At=Ct)}return[xt?1-At:At,bt]},A3=function(){const $=document.createElement("button");$.className="highlightButton",$.tabIndex=0,$.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const xt=document.createElement("span");$.append(xt),xt.className="visuallyHidden",xt.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("click",()=>{Ot(this,xm).highlightSelection("floating_button")}),Ot(this,mm).append($)};function bindEvents(_e,$,xt){for(const bt of xt)$.addEventListener(bt,_e[bt].bind(_e))}function opacityToHex(_e){return Math.round(Math.min(255,Math.max(1,255*_e))).toString(16).padStart(2,"0")}var X2;class IdManager{constructor(){Nn(this,X2,0)}get id(){return`${AnnotationEditorPrefix}${So(this,X2)._++}`}}X2=new WeakMap;var bm,W2,yl,ym,yy;const t3=class t3{constructor(){Nn(this,ym);Nn(this,bm,getUuid());Nn(this,W2,0);Nn(this,yl,null)}static get _isSVGFittingCanvas(){const $='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',bt=new OffscreenCanvas(1,3).getContext("2d"),At=new Image;At.src=$;const St=At.decode().then(()=>(bt.drawImage(At,0,0,1,1,0,0,1,3),new Uint32Array(bt.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",St)}async getFromFile($){const{lastModified:xt,name:bt,size:At,type:St}=$;return In(this,ym,yy).call(this,`${xt}_${bt}_${At}_${St}`,$)}async getFromUrl($){return In(this,ym,yy).call(this,$,$)}async getFromId($){Ot(this,yl)||$n(this,yl,new Map);const xt=Ot(this,yl).get($);return xt?xt.bitmap?(xt.refCounter+=1,xt):xt.file?this.getFromFile(xt.file):this.getFromUrl(xt.url):null}getSvgUrl($){const xt=Ot(this,yl).get($);return xt!=null&&xt.isSvg?xt.svgUrl:null}deleteId($){Ot(this,yl)||$n(this,yl,new Map);const xt=Ot(this,yl).get($);xt&&(xt.refCounter-=1,xt.refCounter===0&&(xt.bitmap=null))}isValidId($){return $.startsWith(`image_${Ot(this,bm)}_`)}};bm=new WeakMap,W2=new WeakMap,yl=new WeakMap,ym=new WeakSet,yy=async function($,xt){Ot(this,yl)||$n(this,yl,new Map);let bt=Ot(this,yl).get($);if(bt===null)return null;if(bt!=null&&bt.bitmap)return bt.refCounter+=1,bt;try{bt||(bt={bitmap:null,id:`image_${Ot(this,bm)}_${So(this,W2)._++}`,refCounter:0,isSvg:!1});let At;if(typeof xt=="string"?(bt.url=xt,At=await fetchData(xt,"blob")):At=bt.file=xt,At.type==="image/svg+xml"){const St=t3._isSVGFittingCanvas,Et=new FileReader,Ct=new Image,Pt=new Promise((wt,kt)=>{Ct.onload=()=>{bt.bitmap=Ct,bt.isSvg=!0,wt()},Et.onload=async()=>{const Rt=bt.svgUrl=Et.result;Ct.src=await St?`${Rt}#svgView(preserveAspectRatio(none))`:Rt},Ct.onerror=Et.onerror=kt});Et.readAsDataURL(At),await Pt}else bt.bitmap=await createImageBitmap(At);bt.refCounter=1}catch(At){console.error(At),bt=null}return Ot(this,yl).set($,bt),bt&&Ot(this,yl).set(bt.id,bt),bt};let ImageManager=t3;var yo,Z0,vm,vo;class CommandManager{constructor($=128){Nn(this,yo,[]);Nn(this,Z0,!1);Nn(this,vm);Nn(this,vo,-1);$n(this,vm,$)}add({cmd:$,undo:xt,post:bt,mustExec:At,type:St=NaN,overwriteIfSameType:Et=!1,keepUndo:Ct=!1}){if(At&&$(),Ot(this,Z0))return;const Pt={cmd:$,undo:xt,post:bt,type:St};if(Ot(this,vo)===-1){Ot(this,yo).length>0&&(Ot(this,yo).length=0),$n(this,vo,0),Ot(this,yo).push(Pt);return}if(Et&&Ot(this,yo)[Ot(this,vo)].type===St){Ct&&(Pt.undo=Ot(this,yo)[Ot(this,vo)].undo),Ot(this,yo)[Ot(this,vo)]=Pt;return}const wt=Ot(this,vo)+1;wt===Ot(this,vm)?Ot(this,yo).splice(0,1):($n(this,vo,wt),wt<Ot(this,yo).length&&Ot(this,yo).splice(wt)),Ot(this,yo).push(Pt)}undo(){if(Ot(this,vo)===-1)return;$n(this,Z0,!0);const{undo:$,post:xt}=Ot(this,yo)[Ot(this,vo)];$(),xt==null||xt(),$n(this,Z0,!1),$n(this,vo,Ot(this,vo)-1)}redo(){if(Ot(this,vo)<Ot(this,yo).length-1){$n(this,vo,Ot(this,vo)+1),$n(this,Z0,!0);const{cmd:$,post:xt}=Ot(this,yo)[Ot(this,vo)];$(),xt==null||xt(),$n(this,Z0,!1)}}hasSomethingToUndo(){return Ot(this,vo)!==-1}hasSomethingToRedo(){return Ot(this,vo)<Ot(this,yo).length-1}destroy(){$n(this,yo,null)}}yo=new WeakMap,Z0=new WeakMap,vm=new WeakMap,vo=new WeakMap;var G2,S3;class KeyboardManager{constructor($){Nn(this,G2);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:xt}=util_FeatureTest.platform;for(const[bt,At,St={}]of $)for(const Et of bt){const Ct=Et.startsWith("mac+");xt&&Ct?(this.callbacks.set(Et.slice(4),{callback:At,options:St}),this.allKeys.add(Et.split("+").at(-1))):!xt&&!Ct&&(this.callbacks.set(Et,{callback:At,options:St}),this.allKeys.add(Et.split("+").at(-1)))}}exec($,xt){if(!this.allKeys.has(xt.key))return;const bt=this.callbacks.get(In(this,G2,S3).call(this,xt));if(!bt)return;const{callback:At,options:{bubbles:St=!1,args:Et=[],checker:Ct=null}}=bt;Ct&&!Ct($,xt)||(At.bind($,...Et,xt)(),St||(xt.stopPropagation(),xt.preventDefault()))}}G2=new WeakSet,S3=function($){$.altKey&&this.buffer.push("alt"),$.ctrlKey&&this.buffer.push("ctrl"),$.metaKey&&this.buffer.push("meta"),$.shiftKey&&this.buffer.push("shift"),this.buffer.push($.key);const xt=this.buffer.join("+");return this.buffer.length=0,xt};const q2=class q2{get _colors(){const $=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues($),shadow(this,"_colors",$)}convert($){const xt=getRGB($);if(!window.matchMedia("(forced-colors: active)").matches)return xt;for(const[bt,At]of this._colors)if(At.every((St,Et)=>St===xt[Et]))return q2._colorsMapping.get(bt);return xt}getHexCode($){const xt=this._colors.get($);return xt?Util.makeHexColor(...xt):$}};Ur(q2,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=q2;var Go,fo,Eo,Yp,m0,Zp,Rl,Jp,Bu,Gl,x0,ju,wm,Am,Kl,Qp,J0,Yl,K2,Q0,Sm,Uu,Cm,e1,ko,Ks,b0,Hu,Em,km,Tm,Pm,_m,Fm,Rm,Mm,Im,Om,Lm,Dm,Nm,$m,eu,Zl,y0,Bm,Yr,n2,C3,E3,i2,k3,T3,P3,vy,wy,Ay,Sy,Cy,Oo,K0,_3,F3,Ey,R3,Q1,ky;const Kp=class Kp{constructor($,xt,bt,At,St,Et,Ct,Pt,wt){Nn(this,Yr);Nn(this,Go,null);Nn(this,fo,new Map);Nn(this,Eo,new Map);Nn(this,Yp,null);Nn(this,m0,null);Nn(this,Zp,null);Nn(this,Rl,new CommandManager);Nn(this,Jp,0);Nn(this,Bu,new Set);Nn(this,Gl,null);Nn(this,x0,null);Nn(this,ju,new Set);Nn(this,wm,!1);Nn(this,Am,null);Nn(this,Kl,null);Nn(this,Qp,null);Nn(this,J0,!1);Nn(this,Yl,null);Nn(this,K2,new IdManager);Nn(this,Q0,!1);Nn(this,Sm,!1);Nn(this,Uu,null);Nn(this,Cm,null);Nn(this,e1,null);Nn(this,ko,AnnotationEditorType.NONE);Nn(this,Ks,new Set);Nn(this,b0,null);Nn(this,Hu,null);Nn(this,Em,null);Nn(this,km,this.blur.bind(this));Nn(this,Tm,this.focus.bind(this));Nn(this,Pm,this.copy.bind(this));Nn(this,_m,this.cut.bind(this));Nn(this,Fm,this.paste.bind(this));Nn(this,Rm,this.keydown.bind(this));Nn(this,Mm,this.keyup.bind(this));Nn(this,Im,this.onEditingAction.bind(this));Nn(this,Om,this.onPageChanging.bind(this));Nn(this,Lm,this.onScaleChanging.bind(this));Nn(this,Dm,In(this,Yr,E3).bind(this));Nn(this,Nm,this.onRotationChanging.bind(this));Nn(this,$m,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Nn(this,eu,[0,0]);Nn(this,Zl,null);Nn(this,y0,null);Nn(this,Bm,null);$n(this,y0,$),$n(this,Bm,xt),$n(this,Yp,bt),this._eventBus=At,this._eventBus._on("editingaction",Ot(this,Im)),this._eventBus._on("pagechanging",Ot(this,Om)),this._eventBus._on("scalechanging",Ot(this,Lm)),this._eventBus._on("rotationchanging",Ot(this,Nm)),In(this,Yr,k3).call(this),In(this,Yr,wy).call(this),$n(this,m0,St.annotationStorage),$n(this,Am,St.filterFactory),$n(this,Hu,Et),$n(this,Qp,Ct||null),$n(this,wm,Pt),$n(this,e1,wt||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const $=Kp.prototype,xt=Et=>Ot(Et,y0).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&Et.hasSomethingToControl(),bt=(Et,{target:Ct})=>{if(Ct instanceof HTMLInputElement){const{type:Pt}=Ct;return Pt!=="text"&&Pt!=="number"}return!0},At=this.TRANSLATE_SMALL,St=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],$.selectAll,{checker:bt}],[["ctrl+z","mac+meta+z"],$.undo,{checker:bt}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$.redo,{checker:bt}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$.delete,{checker:bt}],[["Enter","mac+Enter"],$.addNewEditorFromKeyboard,{checker:(Et,{target:Ct})=>!(Ct instanceof HTMLButtonElement)&&Ot(Et,y0).contains(Ct)&&!Et.isEnterHandled}],[[" ","mac+ "],$.addNewEditorFromKeyboard,{checker:(Et,{target:Ct})=>!(Ct instanceof HTMLButtonElement)&&Ot(Et,y0).contains(document.activeElement)}],[["Escape","mac+Escape"],$.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$.translateSelectedEditors,{args:[-At,0],checker:xt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$.translateSelectedEditors,{args:[-St,0],checker:xt}],[["ArrowRight","mac+ArrowRight"],$.translateSelectedEditors,{args:[At,0],checker:xt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$.translateSelectedEditors,{args:[St,0],checker:xt}],[["ArrowUp","mac+ArrowUp"],$.translateSelectedEditors,{args:[0,-At],checker:xt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$.translateSelectedEditors,{args:[0,-St],checker:xt}],[["ArrowDown","mac+ArrowDown"],$.translateSelectedEditors,{args:[0,At],checker:xt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$.translateSelectedEditors,{args:[0,St],checker:xt}]]))}destroy(){var $,xt;In(this,Yr,Ay).call(this),In(this,Yr,vy).call(this),this._eventBus._off("editingaction",Ot(this,Im)),this._eventBus._off("pagechanging",Ot(this,Om)),this._eventBus._off("scalechanging",Ot(this,Lm)),this._eventBus._off("rotationchanging",Ot(this,Nm));for(const bt of Ot(this,Eo).values())bt.destroy();Ot(this,Eo).clear(),Ot(this,fo).clear(),Ot(this,ju).clear(),$n(this,Go,null),Ot(this,Ks).clear(),Ot(this,Rl).destroy(),($=Ot(this,Yp))==null||$.destroy(),(xt=Ot(this,Yl))==null||xt.hide(),$n(this,Yl,null),Ot(this,Kl)&&(clearTimeout(Ot(this,Kl)),$n(this,Kl,null)),Ot(this,Zl)&&(clearTimeout(Ot(this,Zl)),$n(this,Zl,null)),In(this,Yr,T3).call(this)}async mlGuess($){var xt;return((xt=Ot(this,e1))==null?void 0:xt.guess($))||null}get hasMLManager(){return!!Ot(this,e1)}get hcmFilter(){return shadow(this,"hcmFilter",Ot(this,Hu)?Ot(this,Am).addHCMFilter(Ot(this,Hu).foreground,Ot(this,Hu).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(Ot(this,y0)).direction)}get highlightColors(){return shadow(this,"highlightColors",Ot(this,Qp)?new Map(Ot(this,Qp).split(",").map($=>$.split("=").map(xt=>xt.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,$=>$.reverse())):null)}setMainHighlightColorPicker($){$n(this,Cm,$)}editAltText($){var xt;(xt=Ot(this,Yp))==null||xt.editAltText(this,$)}onPageChanging({pageNumber:$}){$n(this,Jp,$-1)}focusMainContainer(){Ot(this,y0).focus()}findParent($,xt){for(const bt of Ot(this,Eo).values()){const{x:At,y:St,width:Et,height:Ct}=bt.div.getBoundingClientRect();if($>=At&&$<=At+Et&&xt>=St&&xt<=St+Ct)return bt}return null}disableUserSelect($=!1){Ot(this,Bm).classList.toggle("noUserSelect",$)}addShouldRescale($){Ot(this,ju).add($)}removeShouldRescale($){Ot(this,ju).delete($)}onScaleChanging({scale:$}){this.commitOrRemove(),this.viewParameters.realScale=$*PixelsPerInch.PDF_TO_CSS_UNITS;for(const xt of Ot(this,ju))xt.onScaleChanging()}onRotationChanging({pagesRotation:$}){this.commitOrRemove(),this.viewParameters.rotation=$}highlightSelection($=""){const xt=document.getSelection();if(!xt||xt.isCollapsed)return;const{anchorNode:bt,anchorOffset:At,focusNode:St,focusOffset:Et}=xt,Ct=xt.toString(),wt=In(this,Yr,n2).call(this,xt).closest(".textLayer"),kt=this.getSelectionBoxes(wt);if(kt){xt.empty(),Ot(this,ko)===AnnotationEditorType.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:AnnotationEditorType.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const Rt of Ot(this,Eo).values())if(Rt.hasTextLayer(wt)){Rt.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:$,boxes:kt,anchorNode:bt,anchorOffset:At,focusNode:St,focusOffset:Et,text:Ct});break}}}addToAnnotationStorage($){!$.isEmpty()&&Ot(this,m0)&&!Ot(this,m0).has($.id)&&Ot(this,m0).setValue($.id,$)}blur(){if(this.isShiftKeyDown=!1,Ot(this,J0)&&($n(this,J0,!1),In(this,Yr,i2).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:$}=document;for(const xt of Ot(this,Ks))if(xt.div.contains($)){$n(this,Uu,[xt,$]),xt._focusEventsAllowed=!1;break}}focus(){if(!Ot(this,Uu))return;const[$,xt]=Ot(this,Uu);$n(this,Uu,null),xt.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),xt.focus()}addEditListeners(){In(this,Yr,wy).call(this),In(this,Yr,Sy).call(this)}removeEditListeners(){In(this,Yr,Ay).call(this),In(this,Yr,Cy).call(this)}copy($){var bt;if($.preventDefault(),(bt=Ot(this,Go))==null||bt.commitOrRemove(),!this.hasSelection)return;const xt=[];for(const At of Ot(this,Ks)){const St=At.serialize(!0);St&&xt.push(St)}xt.length!==0&&$.clipboardData.setData("application/pdfjs",JSON.stringify(xt))}cut($){this.copy($),this.delete()}paste($){$.preventDefault();const{clipboardData:xt}=$;for(const St of xt.items)for(const Et of Ot(this,x0))if(Et.isHandlingMimeForPasting(St.type)){Et.paste(St,this.currentLayer);return}let bt=xt.getData("application/pdfjs");if(!bt)return;try{bt=JSON.parse(bt)}catch(St){warn(`paste: "${St.message}".`);return}if(!Array.isArray(bt))return;this.unselectAll();const At=this.currentLayer;try{const St=[];for(const Pt of bt){const wt=At.deserialize(Pt);if(!wt)return;St.push(wt)}const Et=()=>{for(const Pt of St)In(this,Yr,Ey).call(this,Pt);In(this,Yr,ky).call(this,St)},Ct=()=>{for(const Pt of St)Pt.remove()};this.addCommands({cmd:Et,undo:Ct,mustExec:!0})}catch(St){warn(`paste: "${St.message}".`)}}keydown($){!this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!0),Ot(this,ko)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&Kp._keyboardManager.exec(this,$)}keyup($){this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!1,Ot(this,J0)&&($n(this,J0,!1),In(this,Yr,i2).call(this,"main_toolbar")))}onEditingAction({name:$}){switch($){case"undo":case"redo":case"delete":case"selectAll":this[$]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState($){$?(In(this,Yr,P3).call(this),In(this,Yr,Sy).call(this),In(this,Yr,Oo).call(this,{isEditing:Ot(this,ko)!==AnnotationEditorType.NONE,isEmpty:In(this,Yr,Q1).call(this),hasSomethingToUndo:Ot(this,Rl).hasSomethingToUndo(),hasSomethingToRedo:Ot(this,Rl).hasSomethingToRedo(),hasSelectedEditor:!1})):(In(this,Yr,vy).call(this),In(this,Yr,Cy).call(this),In(this,Yr,Oo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($){if(!Ot(this,x0)){$n(this,x0,$);for(const xt of Ot(this,x0))In(this,Yr,K0).call(this,xt.defaultPropertiesToUpdate)}}getId(){return Ot(this,K2).id}get currentLayer(){return Ot(this,Eo).get(Ot(this,Jp))}getLayer($){return Ot(this,Eo).get($)}get currentPageIndex(){return Ot(this,Jp)}addLayer($){Ot(this,Eo).set($.pageIndex,$),Ot(this,Q0)?$.enable():$.disable()}removeLayer($){Ot(this,Eo).delete($.pageIndex)}updateMode($,xt=null,bt=!1){if(Ot(this,ko)!==$){if($n(this,ko,$),$===AnnotationEditorType.NONE){this.setEditingState(!1),In(this,Yr,F3).call(this);return}this.setEditingState(!0),In(this,Yr,_3).call(this),this.unselectAll();for(const At of Ot(this,Eo).values())At.updateMode($);if(!xt&&bt){this.addNewEditorFromKeyboard();return}if(xt){for(const At of Ot(this,fo).values())if(At.annotationElementId===xt){this.setSelected(At),At.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar($){$!==Ot(this,ko)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$})}updateParams($,xt){var bt;if(Ot(this,x0)){switch($){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(bt=Ot(this,Cm))==null||bt.updateColor(xt);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(Ot(this,Em)||$n(this,Em,new Map)).set($,xt),this.showAllEditors("highlight",xt);break}for(const At of Ot(this,Ks))At.updateParams($,xt);for(const At of Ot(this,x0))At.updateDefaultParams($,xt)}}showAllEditors($,xt,bt=!1){var St;for(const Et of Ot(this,fo).values())Et.editorType===$&&Et.show(xt);(((St=Ot(this,Em))==null?void 0:St.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==xt&&In(this,Yr,K0).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,xt]])}enableWaiting($=!1){if(Ot(this,Sm)!==$){$n(this,Sm,$);for(const xt of Ot(this,Eo).values())$?xt.disableClick():xt.enableClick(),xt.div.classList.toggle("waiting",$)}}getEditors($){const xt=[];for(const bt of Ot(this,fo).values())bt.pageIndex===$&&xt.push(bt);return xt}getEditor($){return Ot(this,fo).get($)}addEditor($){Ot(this,fo).set($.id,$)}removeEditor($){var xt;$.div.contains(document.activeElement)&&(Ot(this,Kl)&&clearTimeout(Ot(this,Kl)),$n(this,Kl,setTimeout(()=>{this.focusMainContainer(),$n(this,Kl,null)},0))),Ot(this,fo).delete($.id),this.unselect($),(!$.annotationElementId||!Ot(this,Bu).has($.annotationElementId))&&((xt=Ot(this,m0))==null||xt.remove($.id))}addDeletedAnnotationElement($){Ot(this,Bu).add($.annotationElementId),this.addChangedExistingAnnotation($),$.deleted=!0}isDeletedAnnotationElement($){return Ot(this,Bu).has($)}removeDeletedAnnotationElement($){Ot(this,Bu).delete($.annotationElementId),this.removeChangedExistingAnnotation($),$.deleted=!1}setActiveEditor($){Ot(this,Go)!==$&&($n(this,Go,$),$&&In(this,Yr,K0).call(this,$.propertiesToUpdate))}updateUI($){Ot(this,Yr,R3)===$&&In(this,Yr,K0).call(this,$.propertiesToUpdate)}toggleSelected($){if(Ot(this,Ks).has($)){Ot(this,Ks).delete($),$.unselect(),In(this,Yr,Oo).call(this,{hasSelectedEditor:this.hasSelection});return}Ot(this,Ks).add($),$.select(),In(this,Yr,K0).call(this,$.propertiesToUpdate),In(this,Yr,Oo).call(this,{hasSelectedEditor:!0})}setSelected($){for(const xt of Ot(this,Ks))xt!==$&&xt.unselect();Ot(this,Ks).clear(),Ot(this,Ks).add($),$.select(),In(this,Yr,K0).call(this,$.propertiesToUpdate),In(this,Yr,Oo).call(this,{hasSelectedEditor:!0})}isSelected($){return Ot(this,Ks).has($)}get firstSelectedEditor(){return Ot(this,Ks).values().next().value}unselect($){$.unselect(),Ot(this,Ks).delete($),In(this,Yr,Oo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Ot(this,Ks).size!==0}get isEnterHandled(){return Ot(this,Ks).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){Ot(this,Rl).undo(),In(this,Yr,Oo).call(this,{hasSomethingToUndo:Ot(this,Rl).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:In(this,Yr,Q1).call(this)})}redo(){Ot(this,Rl).redo(),In(this,Yr,Oo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ot(this,Rl).hasSomethingToRedo(),isEmpty:In(this,Yr,Q1).call(this)})}addCommands($){Ot(this,Rl).add($),In(this,Yr,Oo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:In(this,Yr,Q1).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $=[...Ot(this,Ks)],xt=()=>{for(const At of $)At.remove()},bt=()=>{for(const At of $)In(this,Yr,Ey).call(this,At)};this.addCommands({cmd:xt,undo:bt,mustExec:!0})}commitOrRemove(){var $;($=Ot(this,Go))==null||$.commitOrRemove()}hasSomethingToControl(){return Ot(this,Go)||this.hasSelection}selectAll(){for(const $ of Ot(this,Ks))$.commit();In(this,Yr,ky).call(this,Ot(this,fo).values())}unselectAll(){if(!(Ot(this,Go)&&(Ot(this,Go).commitOrRemove(),Ot(this,ko)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const $ of Ot(this,Ks))$.unselect();Ot(this,Ks).clear(),In(this,Yr,Oo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($,xt,bt=!1){if(bt||this.commitOrRemove(),!this.hasSelection)return;Ot(this,eu)[0]+=$,Ot(this,eu)[1]+=xt;const[At,St]=Ot(this,eu),Et=[...Ot(this,Ks)],Ct=1e3;Ot(this,Zl)&&clearTimeout(Ot(this,Zl)),$n(this,Zl,setTimeout(()=>{$n(this,Zl,null),Ot(this,eu)[0]=Ot(this,eu)[1]=0,this.addCommands({cmd:()=>{for(const Pt of Et)Ot(this,fo).has(Pt.id)&&Pt.translateInPage(At,St)},undo:()=>{for(const Pt of Et)Ot(this,fo).has(Pt.id)&&Pt.translateInPage(-At,-St)},mustExec:!1})},Ct));for(const Pt of Et)Pt.translateInPage($,xt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),$n(this,Gl,new Map);for(const $ of Ot(this,Ks))Ot(this,Gl).set($,{savedX:$.x,savedY:$.y,savedPageIndex:$.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Ot(this,Gl))return!1;this.disableUserSelect(!1);const $=Ot(this,Gl);$n(this,Gl,null);let xt=!1;for(const[{x:At,y:St,pageIndex:Et},Ct]of $)Ct.newX=At,Ct.newY=St,Ct.newPageIndex=Et,xt||(xt=At!==Ct.savedX||St!==Ct.savedY||Et!==Ct.savedPageIndex);if(!xt)return!1;const bt=(At,St,Et,Ct)=>{if(Ot(this,fo).has(At.id)){const Pt=Ot(this,Eo).get(Ct);Pt?At._setParentAndPosition(Pt,St,Et):(At.pageIndex=Ct,At.x=St,At.y=Et)}};return this.addCommands({cmd:()=>{for(const[At,{newX:St,newY:Et,newPageIndex:Ct}]of $)bt(At,St,Et,Ct)},undo:()=>{for(const[At,{savedX:St,savedY:Et,savedPageIndex:Ct}]of $)bt(At,St,Et,Ct)},mustExec:!0}),!0}dragSelectedEditors($,xt){if(Ot(this,Gl))for(const bt of Ot(this,Gl).keys())bt.drag($,xt)}rebuild($){if($.parent===null){const xt=this.getLayer($.pageIndex);xt?(xt.changeParent($),xt.addOrRebuild($)):(this.addEditor($),this.addToAnnotationStorage($),$.rebuild())}else $.parent.addOrRebuild($)}get isEditorHandlingKeyboard(){var $;return(($=this.getActive())==null?void 0:$.shouldGetKeyboardEvents())||Ot(this,Ks).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive($){return Ot(this,Go)===$}getActive(){return Ot(this,Go)}getMode(){return Ot(this,ko)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes($){if(!$)return null;const xt=document.getSelection();for(let wt=0,kt=xt.rangeCount;wt<kt;wt++)if(!$.contains(xt.getRangeAt(wt).commonAncestorContainer))return null;const{x:bt,y:At,width:St,height:Et}=$.getBoundingClientRect();let Ct;switch($.getAttribute("data-main-rotation")){case"90":Ct=(wt,kt,Rt,ht)=>({x:(kt-At)/Et,y:1-(wt+Rt-bt)/St,width:ht/Et,height:Rt/St});break;case"180":Ct=(wt,kt,Rt,ht)=>({x:1-(wt+Rt-bt)/St,y:1-(kt+ht-At)/Et,width:Rt/St,height:ht/Et});break;case"270":Ct=(wt,kt,Rt,ht)=>({x:1-(kt+ht-At)/Et,y:(wt-bt)/St,width:ht/Et,height:Rt/St});break;default:Ct=(wt,kt,Rt,ht)=>({x:(wt-bt)/St,y:(kt-At)/Et,width:Rt/St,height:ht/Et});break}const Pt=[];for(let wt=0,kt=xt.rangeCount;wt<kt;wt++){const Rt=xt.getRangeAt(wt);if(!Rt.collapsed)for(const{x:ht,y:vt,width:Ft,height:Ht}of Rt.getClientRects())Ft===0||Ht===0||Pt.push(Ct(ht,vt,Ft,Ht))}return Pt.length===0?null:Pt}addChangedExistingAnnotation({annotationElementId:$,id:xt}){(Ot(this,Zp)||$n(this,Zp,new Map)).set($,xt)}removeChangedExistingAnnotation({annotationElementId:$}){var xt;(xt=Ot(this,Zp))==null||xt.delete($)}renderAnnotationElement($){var At;const xt=(At=Ot(this,Zp))==null?void 0:At.get($.data.id);if(!xt)return;const bt=Ot(this,m0).getRawValue(xt);bt&&(Ot(this,ko)===AnnotationEditorType.NONE&&!bt.hasBeenModified||bt.renderAnnotationElement($))}};Go=new WeakMap,fo=new WeakMap,Eo=new WeakMap,Yp=new WeakMap,m0=new WeakMap,Zp=new WeakMap,Rl=new WeakMap,Jp=new WeakMap,Bu=new WeakMap,Gl=new WeakMap,x0=new WeakMap,ju=new WeakMap,wm=new WeakMap,Am=new WeakMap,Kl=new WeakMap,Qp=new WeakMap,J0=new WeakMap,Yl=new WeakMap,K2=new WeakMap,Q0=new WeakMap,Sm=new WeakMap,Uu=new WeakMap,Cm=new WeakMap,e1=new WeakMap,ko=new WeakMap,Ks=new WeakMap,b0=new WeakMap,Hu=new WeakMap,Em=new WeakMap,km=new WeakMap,Tm=new WeakMap,Pm=new WeakMap,_m=new WeakMap,Fm=new WeakMap,Rm=new WeakMap,Mm=new WeakMap,Im=new WeakMap,Om=new WeakMap,Lm=new WeakMap,Dm=new WeakMap,Nm=new WeakMap,$m=new WeakMap,eu=new WeakMap,Zl=new WeakMap,y0=new WeakMap,Bm=new WeakMap,Yr=new WeakSet,n2=function({anchorNode:$}){return $.nodeType===Node.TEXT_NODE?$.parentElement:$},C3=function(){const $=document.getSelection();if(!$||$.isCollapsed)return;const bt=In(this,Yr,n2).call(this,$).closest(".textLayer"),At=this.getSelectionBoxes(bt);At&&(Ot(this,Yl)||$n(this,Yl,new HighlightToolbar(this)),Ot(this,Yl).show(bt,At,this.direction==="ltr"))},E3=function(){var St,Et,Ct;const $=document.getSelection();if(!$||$.isCollapsed){Ot(this,b0)&&((St=Ot(this,Yl))==null||St.hide(),$n(this,b0,null),In(this,Yr,Oo).call(this,{hasSelectedText:!1}));return}const{anchorNode:xt}=$;if(xt===Ot(this,b0))return;if(!In(this,Yr,n2).call(this,$).closest(".textLayer")){Ot(this,b0)&&((Et=Ot(this,Yl))==null||Et.hide(),$n(this,b0,null),In(this,Yr,Oo).call(this,{hasSelectedText:!1}));return}if((Ct=Ot(this,Yl))==null||Ct.hide(),$n(this,b0,xt),In(this,Yr,Oo).call(this,{hasSelectedText:!0}),!(Ot(this,ko)!==AnnotationEditorType.HIGHLIGHT&&Ot(this,ko)!==AnnotationEditorType.NONE)&&(Ot(this,ko)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),$n(this,J0,this.isShiftKeyDown),!this.isShiftKeyDown)){const Pt=wt=>{wt.type==="pointerup"&&wt.button!==0||(window.removeEventListener("pointerup",Pt),window.removeEventListener("blur",Pt),wt.type==="pointerup"&&In(this,Yr,i2).call(this,"main_toolbar"))};window.addEventListener("pointerup",Pt),window.addEventListener("blur",Pt)}},i2=function($=""){Ot(this,ko)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection($):Ot(this,wm)&&In(this,Yr,C3).call(this)},k3=function(){document.addEventListener("selectionchange",Ot(this,Dm))},T3=function(){document.removeEventListener("selectionchange",Ot(this,Dm))},P3=function(){window.addEventListener("focus",Ot(this,Tm)),window.addEventListener("blur",Ot(this,km))},vy=function(){window.removeEventListener("focus",Ot(this,Tm)),window.removeEventListener("blur",Ot(this,km))},wy=function(){window.addEventListener("keydown",Ot(this,Rm)),window.addEventListener("keyup",Ot(this,Mm))},Ay=function(){window.removeEventListener("keydown",Ot(this,Rm)),window.removeEventListener("keyup",Ot(this,Mm))},Sy=function(){document.addEventListener("copy",Ot(this,Pm)),document.addEventListener("cut",Ot(this,_m)),document.addEventListener("paste",Ot(this,Fm))},Cy=function(){document.removeEventListener("copy",Ot(this,Pm)),document.removeEventListener("cut",Ot(this,_m)),document.removeEventListener("paste",Ot(this,Fm))},Oo=function($){Object.entries($).some(([bt,At])=>Ot(this,$m)[bt]!==At)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ot(this,$m),$)}),Ot(this,ko)===AnnotationEditorType.HIGHLIGHT&&$.hasSelectedEditor===!1&&In(this,Yr,K0).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},K0=function($){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$})},_3=function(){if(!Ot(this,Q0)){$n(this,Q0,!0);for(const $ of Ot(this,Eo).values())$.enable();for(const $ of Ot(this,fo).values())$.enable()}},F3=function(){if(this.unselectAll(),Ot(this,Q0)){$n(this,Q0,!1);for(const $ of Ot(this,Eo).values())$.disable();for(const $ of Ot(this,fo).values())$.disable()}},Ey=function($){const xt=Ot(this,Eo).get($.pageIndex);xt?xt.addOrRebuild($):(this.addEditor($),this.addToAnnotationStorage($))},R3=function(){let $=null;for($ of Ot(this,Ks));return $},Q1=function(){if(Ot(this,fo).size===0)return!0;if(Ot(this,fo).size===1)for(const $ of Ot(this,fo).values())return $.isEmpty();return!1},ky=function($){for(const xt of Ot(this,Ks))xt.unselect();Ot(this,Ks).clear();for(const xt of $)xt.isEmpty()||(Ot(this,Ks).add(xt),xt.select());In(this,Yr,Oo).call(this,{hasSelectedEditor:this.hasSelection})},Ur(Kp,"TRANSLATE_SMALL",1),Ur(Kp,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=Kp;var v0,w0,Ml,A0,Il,t1,S0,jm,Ty;const d0=class d0{constructor($){Nn(this,jm);Nn(this,v0,"");Nn(this,w0,!1);Nn(this,Ml,null);Nn(this,A0,null);Nn(this,Il,null);Nn(this,t1,!1);Nn(this,S0,null);$n(this,S0,$)}static initialize($){d0._l10nPromise||(d0._l10nPromise=$)}async render(){const $=$n(this,Ml,document.createElement("button"));$.className="altText";const xt=await d0._l10nPromise.get("pdfjs-editor-alt-text-button-label");$.textContent=xt,$.setAttribute("aria-label",xt),$.tabIndex="0",$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",At=>At.stopPropagation());const bt=At=>{At.preventDefault(),Ot(this,S0)._uiManager.editAltText(Ot(this,S0))};return $.addEventListener("click",bt,{capture:!0}),$.addEventListener("keydown",At=>{At.target===$&&At.key==="Enter"&&($n(this,t1,!0),bt(At))}),await In(this,jm,Ty).call(this),$}finish(){Ot(this,Ml)&&(Ot(this,Ml).focus({focusVisible:Ot(this,t1)}),$n(this,t1,!1))}isEmpty(){return!Ot(this,v0)&&!Ot(this,w0)}get data(){return{altText:Ot(this,v0),decorative:Ot(this,w0)}}set data({altText:$,decorative:xt}){Ot(this,v0)===$&&Ot(this,w0)===xt||($n(this,v0,$),$n(this,w0,xt),In(this,jm,Ty).call(this))}toggle($=!1){Ot(this,Ml)&&(!$&&Ot(this,Il)&&(clearTimeout(Ot(this,Il)),$n(this,Il,null)),Ot(this,Ml).disabled=!$)}destroy(){var $;($=Ot(this,Ml))==null||$.remove(),$n(this,Ml,null),$n(this,A0,null)}};v0=new WeakMap,w0=new WeakMap,Ml=new WeakMap,A0=new WeakMap,Il=new WeakMap,t1=new WeakMap,S0=new WeakMap,jm=new WeakSet,Ty=async function(){var At;const $=Ot(this,Ml);if(!$)return;if(!Ot(this,v0)&&!Ot(this,w0)){$.classList.remove("done"),(At=Ot(this,A0))==null||At.remove();return}$.classList.add("done"),d0._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(St=>{$.setAttribute("aria-label",St)});let xt=Ot(this,A0);if(!xt){$n(this,A0,xt=document.createElement("span")),xt.className="tooltip",xt.setAttribute("role","tooltip");const St=xt.id=`alt-text-tooltip-${Ot(this,S0).id}`;$.setAttribute("aria-describedby",St);const Et=100;$.addEventListener("mouseenter",()=>{$n(this,Il,setTimeout(()=>{$n(this,Il,null),Ot(this,A0).classList.add("show"),Ot(this,S0)._reportTelemetry({action:"alt_text_tooltip"})},Et))}),$.addEventListener("mouseleave",()=>{var Ct;Ot(this,Il)&&(clearTimeout(Ot(this,Il)),$n(this,Il,null)),(Ct=Ot(this,A0))==null||Ct.classList.remove("show")})}xt.innerText=Ot(this,w0)?await d0._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):Ot(this,v0),xt.parentNode||$.append(xt);const bt=Ot(this,S0).getImageForAltText();bt==null||bt.setAttribute("aria-describedby",xt.id)},Ur(d0,"_l10nPromise",null);let AltText=d0;var Ol,Lo,n1,Vu,To,zu,i1,r1,Io,Um,Xu,tu,Hm,Wu,C0,Jl,s1,a1,wl,Vm,Y2,Ls,Py,zm,_y,Fy,M3,I3,Ry,My,Iy,O3,L3,D3,N3,Oy,_g;const _a=class _a{constructor($){Nn(this,Ls);Nn(this,Ol,null);Nn(this,Lo,null);Nn(this,n1,!1);Nn(this,Vu,!1);Nn(this,To,null);Nn(this,zu,null);Nn(this,i1,this.focusin.bind(this));Nn(this,r1,this.focusout.bind(this));Nn(this,Io,null);Nn(this,Um,"");Nn(this,Xu,!1);Nn(this,tu,null);Nn(this,Hm,!1);Nn(this,Wu,!1);Nn(this,C0,!1);Nn(this,Jl,null);Nn(this,s1,0);Nn(this,a1,0);Nn(this,wl,null);Ur(this,"_initialOptions",Object.create(null));Ur(this,"_isVisible",!0);Ur(this,"_uiManager",null);Ur(this,"_focusEventsAllowed",!0);Ur(this,"_l10nPromise",null);Nn(this,Vm,!1);Nn(this,Y2,_a._zIndex++);this.constructor===_a&&unreachable("Cannot initialize AnnotationEditor."),this.parent=$.parent,this.id=$.id,this.width=this.height=null,this.pageIndex=$.parent.pageIndex,this.name=$.name,this.div=null,this._uiManager=$.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=$.isCentered,this._structTreeParentId=null;const{rotation:xt,rawDims:{pageWidth:bt,pageHeight:At,pageX:St,pageY:Et}}=this.parent.viewport;this.rotation=xt,this.pageRotation=(360+xt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[bt,At],this.pageTranslation=[St,Et];const[Ct,Pt]=this.parentDimensions;this.x=$.x/Ct,this.y=$.y/Pt,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const $=_a.prototype._resizeWithKeyboard,xt=AnnotationEditorUIManager.TRANSLATE_SMALL,bt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],$,{args:[-xt,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$,{args:[-bt,0]}],[["ArrowRight","mac+ArrowRight"],$,{args:[xt,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$,{args:[bt,0]}],[["ArrowUp","mac+ArrowUp"],$,{args:[0,-xt]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$,{args:[0,-bt]}],[["ArrowDown","mac+ArrowDown"],$,{args:[0,xt]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$,{args:[0,bt]}],[["Escape","mac+Escape"],_a.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement($){const xt=new FakeEditor({id:$.parent.getNextId(),parent:$.parent,uiManager:$._uiManager});xt.annotationElementId=$.annotationElementId,xt.deleted=!0,xt._uiManager.addToAnnotationStorage(xt)}static initialize($,xt,bt){if(_a._l10nPromise||(_a._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(St=>[St,$.get(St.replaceAll(/([A-Z])/g,Et=>`-${Et.toLowerCase()}`))]))),bt!=null&&bt.strings)for(const St of bt.strings)_a._l10nPromise.set(St,$.get(St));if(_a._borderLineWidth!==-1)return;const At=getComputedStyle(document.documentElement);_a._borderLineWidth=parseFloat(At.getPropertyValue("--outline-width"))||0}static updateDefaultParams($,xt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting($){return!1}static paste($,xt){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Ot(this,Vm)}set _isDraggable($){var xt;$n(this,Vm,$),(xt=this.div)==null||xt.classList.toggle("draggable",$)}get isEnterHandled(){return!0}center(){const[$,xt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*xt/($*2),this.y+=this.width*$/(xt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*xt/($*2),this.y-=this.width*$/(xt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands($){this._uiManager.addCommands($)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Ot(this,Y2)}setParent($){$!==null?(this.pageIndex=$.pageIndex,this.pageDimensions=$.pageDimensions):In(this,Ls,_g).call(this),this.parent=$}focusin($){this._focusEventsAllowed&&(Ot(this,Xu)?$n(this,Xu,!1):this.parent.setSelected(this))}focusout($){var bt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const xt=$.relatedTarget;xt!=null&&xt.closest(`#${this.id}`)||($.preventDefault(),(bt=this.parent)!=null&&bt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt($,xt,bt,At){const[St,Et]=this.parentDimensions;[bt,At]=this.screenToPageTranslation(bt,At),this.x=($+bt)/St,this.y=(xt+At)/Et,this.fixAndSetPosition()}translate($,xt){In(this,Ls,Py).call(this,this.parentDimensions,$,xt)}translateInPage($,xt){Ot(this,tu)||$n(this,tu,[this.x,this.y]),In(this,Ls,Py).call(this,this.pageDimensions,$,xt),this.div.scrollIntoView({block:"nearest"})}drag($,xt){Ot(this,tu)||$n(this,tu,[this.x,this.y]);const[bt,At]=this.parentDimensions;if(this.x+=$/bt,this.y+=xt/At,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:wt,y:kt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,wt,kt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:St,y:Et}=this;const[Ct,Pt]=this.getBaseTranslation();St+=Ct,Et+=Pt,this.div.style.left=`${(100*St).toFixed(2)}%`,this.div.style.top=`${(100*Et).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!Ot(this,tu)&&(Ot(this,tu)[0]!==this.x||Ot(this,tu)[1]!==this.y)}getBaseTranslation(){const[$,xt]=this.parentDimensions,{_borderLineWidth:bt}=_a,At=bt/$,St=bt/xt;switch(this.rotation){case 90:return[-At,St];case 180:return[At,St];case 270:return[At,-St];default:return[-At,-St]}}get _mustFixPosition(){return!0}fixAndSetPosition($=this.rotation){const[xt,bt]=this.pageDimensions;let{x:At,y:St,width:Et,height:Ct}=this;if(Et*=xt,Ct*=bt,At*=xt,St*=bt,this._mustFixPosition)switch($){case 0:At=Math.max(0,Math.min(xt-Et,At)),St=Math.max(0,Math.min(bt-Ct,St));break;case 90:At=Math.max(0,Math.min(xt-Ct,At)),St=Math.min(bt,Math.max(Et,St));break;case 180:At=Math.min(xt,Math.max(Et,At)),St=Math.min(bt,Math.max(Ct,St));break;case 270:At=Math.min(xt,Math.max(Ct,At)),St=Math.max(0,Math.min(bt-Et,St));break}this.x=At/=xt,this.y=St/=bt;const[Pt,wt]=this.getBaseTranslation();At+=Pt,St+=wt;const{style:kt}=this.div;kt.left=`${(100*At).toFixed(2)}%`,kt.top=`${(100*St).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation($,xt){var bt;return In(bt=_a,zm,_y).call(bt,$,xt,this.parentRotation)}pageTranslationToScreen($,xt){var bt;return In(bt=_a,zm,_y).call(bt,$,xt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:$,pageDimensions:[xt,bt]}=this,At=xt*$,St=bt*$;return util_FeatureTest.isCSSRoundSupported?[Math.round(At),Math.round(St)]:[At,St]}setDims($,xt){const[bt,At]=this.parentDimensions;this.div.style.width=`${(100*$/bt).toFixed(2)}%`,Ot(this,Vu)||(this.div.style.height=`${(100*xt/At).toFixed(2)}%`)}fixDims(){const{style:$}=this.div,{height:xt,width:bt}=$,At=bt.endsWith("%"),St=!Ot(this,Vu)&&xt.endsWith("%");if(At&&St)return;const[Et,Ct]=this.parentDimensions;At||($.width=`${(100*parseFloat(bt)/Et).toFixed(2)}%`),!Ot(this,Vu)&&!St&&($.height=`${(100*parseFloat(xt)/Ct).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var $;($=Ot(this,Lo))==null||$.finish()}async addEditToolbar(){return Ot(this,Io)||Ot(this,Wu)?Ot(this,Io):($n(this,Io,new EditorToolbar(this)),this.div.append(Ot(this,Io).render()),Ot(this,Lo)&&Ot(this,Io).addAltTextButton(await Ot(this,Lo).render()),Ot(this,Io))}removeEditToolbar(){var $;Ot(this,Io)&&(Ot(this,Io).remove(),$n(this,Io,null),($=Ot(this,Lo))==null||$.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){Ot(this,Lo)||(AltText.initialize(_a._l10nPromise),$n(this,Lo,new AltText(this)),await this.addEditToolbar())}get altTextData(){var $;return($=Ot(this,Lo))==null?void 0:$.data}set altTextData($){Ot(this,Lo)&&(Ot(this,Lo).data=$)}hasAltText(){var $;return!(($=Ot(this,Lo))!=null&&$.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=Ot(this,n1)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",Ot(this,i1)),this.div.addEventListener("focusout",Ot(this,r1));const[$,xt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*xt/$).toFixed(2)}%`,this.div.style.maxHeight=`${(100*$/xt).toFixed(2)}%`);const[bt,At]=this.getInitialTranslation();return this.translate(bt,At),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown($){const{isMac:xt}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&xt){$.preventDefault();return}if($n(this,Xu,!0),this._isDraggable){In(this,Ls,O3).call(this,$);return}In(this,Ls,Iy).call(this,$)}moveInDOM(){Ot(this,Jl)&&clearTimeout(Ot(this,Jl)),$n(this,Jl,setTimeout(()=>{var $;$n(this,Jl,null),($=this.parent)==null||$.moveEditorInDOM(this)},0))}_setParentAndPosition($,xt,bt){$.changeParent(this),this.x=xt,this.y=bt,this.fixAndSetPosition()}getRect($,xt,bt=this.rotation){const At=this.parentScale,[St,Et]=this.pageDimensions,[Ct,Pt]=this.pageTranslation,wt=$/At,kt=xt/At,Rt=this.x*St,ht=this.y*Et,vt=this.width*St,Ft=this.height*Et;switch(bt){case 0:return[Rt+wt+Ct,Et-ht-kt-Ft+Pt,Rt+wt+vt+Ct,Et-ht-kt+Pt];case 90:return[Rt+kt+Ct,Et-ht+wt+Pt,Rt+kt+Ft+Ct,Et-ht+wt+vt+Pt];case 180:return[Rt-wt-vt+Ct,Et-ht+kt+Pt,Rt-wt+Ct,Et-ht+kt+Ft+Pt];case 270:return[Rt-kt-Ft+Ct,Et-ht-wt-vt+Pt,Rt-kt+Ct,Et-ht-wt+Pt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords($,xt){const[bt,At,St,Et]=$,Ct=St-bt,Pt=Et-At;switch(this.rotation){case 0:return[bt,xt-Et,Ct,Pt];case 90:return[bt,xt-At,Pt,Ct];case 180:return[St,xt-At,Ct,Pt];case 270:return[St,xt-Et,Pt,Ct];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){$n(this,Wu,!0)}disableEditMode(){$n(this,Wu,!1)}isInEditMode(){return Ot(this,Wu)}shouldGetKeyboardEvents(){return Ot(this,C0)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var $,xt;($=this.div)==null||$.addEventListener("focusin",Ot(this,i1)),(xt=this.div)==null||xt.addEventListener("focusout",Ot(this,r1))}rotate($){}serialize($=!1,xt=null){unreachable("An editor must be serializable")}static deserialize($,xt,bt){const At=new this.prototype.constructor({parent:xt,id:xt.getNextId(),uiManager:bt});At.rotation=$.rotation;const[St,Et]=At.pageDimensions,[Ct,Pt,wt,kt]=At.getRectInCurrentCoords($.rect,Et);return At.x=Ct/St,At.y=Pt/Et,At.width=wt/St,At.height=kt/Et,At}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",Ot(this,i1)),this.div.removeEventListener("focusout",Ot(this,r1)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),Ot(this,Jl)&&(clearTimeout(Ot(this,Jl)),$n(this,Jl,null)),In(this,Ls,_g).call(this),this.removeEditToolbar(),Ot(this,wl)){for(const $ of Ot(this,wl).values())clearTimeout($);$n(this,wl,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(In(this,Ls,M3).call(this),Ot(this,To).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown($){if(!this.isResizable||$.target!==this.div||$.key!=="Enter")return;this._uiManager.setSelected(this),$n(this,zu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const xt=Ot(this,To).children;if(!Ot(this,Ol)){$n(this,Ol,Array.from(xt));const Et=In(this,Ls,L3).bind(this),Ct=In(this,Ls,D3).bind(this);for(const Pt of Ot(this,Ol)){const wt=Pt.getAttribute("data-resizer-name");Pt.setAttribute("role","spinbutton"),Pt.addEventListener("keydown",Et),Pt.addEventListener("blur",Ct),Pt.addEventListener("focus",In(this,Ls,N3).bind(this,wt)),_a._l10nPromise.get(`pdfjs-editor-resizer-label-${wt}`).then(kt=>Pt.setAttribute("aria-label",kt))}}const bt=Ot(this,Ol)[0];let At=0;for(const Et of xt){if(Et===bt)break;At++}const St=(360-this.rotation+this.parentRotation)%360/90*(Ot(this,Ol).length/4);if(St!==At){if(St<At)for(let Ct=0;Ct<At-St;Ct++)Ot(this,To).append(Ot(this,To).firstChild);else if(St>At)for(let Ct=0;Ct<St-At;Ct++)Ot(this,To).firstChild.before(Ot(this,To).lastChild);let Et=0;for(const Ct of xt){const wt=Ot(this,Ol)[Et++].getAttribute("data-resizer-name");_a._l10nPromise.get(`pdfjs-editor-resizer-label-${wt}`).then(kt=>Ct.setAttribute("aria-label",kt))}}In(this,Ls,Oy).call(this,0),$n(this,C0,!0),Ot(this,To).firstChild.focus({focusVisible:!0}),$.preventDefault(),$.stopImmediatePropagation()}_resizeWithKeyboard($,xt){Ot(this,C0)&&In(this,Ls,My).call(this,Ot(this,Um),{movementX:$,movementY:xt})}_stopResizingWithKeyboard(){In(this,Ls,_g).call(this),this.div.focus()}select(){var $,xt;if(this.makeResizable(),($=this.div)==null||$.classList.add("selectedEditor"),!Ot(this,Io)){this.addEditToolbar().then(()=>{var bt,At;(bt=this.div)!=null&&bt.classList.contains("selectedEditor")&&((At=Ot(this,Io))==null||At.show())});return}(xt=Ot(this,Io))==null||xt.show()}unselect(){var $,xt,bt,At;($=Ot(this,To))==null||$.classList.add("hidden"),(xt=this.div)==null||xt.classList.remove("selectedEditor"),(bt=this.div)!=null&&bt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(At=Ot(this,Io))==null||At.hide()}updateParams($,xt){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return Ot(this,Hm)}set isEditing($){$n(this,Hm,$),this.parent&&($?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio($,xt){$n(this,Vu,!0);const bt=$/xt,{style:At}=this.div;At.aspectRatio=bt,At.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry($,xt=!1){if(xt){Ot(this,wl)||$n(this,wl,new Map);const{action:bt}=$;let At=Ot(this,wl).get(bt);At&&clearTimeout(At),At=setTimeout(()=>{this._reportTelemetry($),Ot(this,wl).delete(bt),Ot(this,wl).size===0&&$n(this,wl,null)},_a._telemetryTimeout),Ot(this,wl).set(bt,At);return}$.type||($.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:$}})}show($=this._isVisible){this.div.classList.toggle("hidden",!$),this._isVisible=$}enable(){this.div&&(this.div.tabIndex=0),$n(this,n1,!1)}disable(){this.div&&(this.div.tabIndex=-1),$n(this,n1,!0)}renderAnnotationElement($){let xt=$.container.querySelector(".annotationContent");if(!xt)xt=document.createElement("div"),xt.classList.add("annotationContent",this.editorType),$.container.prepend(xt);else if(xt.nodeName==="CANVAS"){const bt=xt;xt=document.createElement("div"),xt.classList.add("annotationContent",this.editorType),bt.before(xt)}return xt}resetAnnotationElement($){const{firstChild:xt}=$.container;xt.nodeName==="DIV"&&xt.classList.contains("annotationContent")&&xt.remove()}};Ol=new WeakMap,Lo=new WeakMap,n1=new WeakMap,Vu=new WeakMap,To=new WeakMap,zu=new WeakMap,i1=new WeakMap,r1=new WeakMap,Io=new WeakMap,Um=new WeakMap,Xu=new WeakMap,tu=new WeakMap,Hm=new WeakMap,Wu=new WeakMap,C0=new WeakMap,Jl=new WeakMap,s1=new WeakMap,a1=new WeakMap,wl=new WeakMap,Vm=new WeakMap,Y2=new WeakMap,Ls=new WeakSet,Py=function([$,xt],bt,At){[bt,At]=this.screenToPageTranslation(bt,At),this.x+=bt/$,this.y+=At/xt,this.fixAndSetPosition()},zm=new WeakSet,_y=function($,xt,bt){switch(bt){case 90:return[xt,-$];case 180:return[-$,-xt];case 270:return[-xt,$];default:return[$,xt]}},Fy=function($){switch($){case 90:{const[xt,bt]=this.pageDimensions;return[0,-xt/bt,bt/xt,0]}case 180:return[-1,0,0,-1];case 270:{const[xt,bt]=this.pageDimensions;return[0,xt/bt,-bt/xt,0]}default:return[1,0,0,1]}},M3=function(){if(Ot(this,To))return;$n(this,To,document.createElement("div")),Ot(this,To).classList.add("resizers");const $=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const xt of $){const bt=document.createElement("div");Ot(this,To).append(bt),bt.classList.add("resizer",xt),bt.setAttribute("data-resizer-name",xt),bt.addEventListener("pointerdown",In(this,Ls,I3).bind(this,xt)),bt.addEventListener("contextmenu",noContextMenu),bt.tabIndex=-1}this.div.prepend(Ot(this,To))},I3=function($,xt){var Ft;xt.preventDefault();const{isMac:bt}=util_FeatureTest.platform;if(xt.button!==0||xt.ctrlKey&&bt)return;(Ft=Ot(this,Lo))==null||Ft.toggle(!1);const At=In(this,Ls,My).bind(this,$),St=this._isDraggable;this._isDraggable=!1;const Et={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",At,Et),window.addEventListener("contextmenu",noContextMenu);const Ct=this.x,Pt=this.y,wt=this.width,kt=this.height,Rt=this.parent.div.style.cursor,ht=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(xt.target).cursor;const vt=()=>{var Ht;this.parent.togglePointerEvents(!0),(Ht=Ot(this,Lo))==null||Ht.toggle(!0),this._isDraggable=St,window.removeEventListener("pointerup",vt),window.removeEventListener("blur",vt),window.removeEventListener("pointermove",At,Et),window.removeEventListener("contextmenu",noContextMenu),this.parent.div.style.cursor=Rt,this.div.style.cursor=ht,In(this,Ls,Ry).call(this,Ct,Pt,wt,kt)};window.addEventListener("pointerup",vt),window.addEventListener("blur",vt)},Ry=function($,xt,bt,At){const St=this.x,Et=this.y,Ct=this.width,Pt=this.height;St===$&&Et===xt&&Ct===bt&&Pt===At||this.addCommands({cmd:()=>{this.width=Ct,this.height=Pt,this.x=St,this.y=Et;const[wt,kt]=this.parentDimensions;this.setDims(wt*Ct,kt*Pt),this.fixAndSetPosition()},undo:()=>{this.width=bt,this.height=At,this.x=$,this.y=xt;const[wt,kt]=this.parentDimensions;this.setDims(wt*bt,kt*At),this.fixAndSetPosition()},mustExec:!0})},My=function($,xt){const[bt,At]=this.parentDimensions,St=this.x,Et=this.y,Ct=this.width,Pt=this.height,wt=_a.MIN_SIZE/bt,kt=_a.MIN_SIZE/At,Rt=un=>Math.round(un*1e4)/1e4,ht=In(this,Ls,Fy).call(this,this.rotation),vt=(un,Ut)=>[ht[0]*un+ht[2]*Ut,ht[1]*un+ht[3]*Ut],Ft=In(this,Ls,Fy).call(this,360-this.rotation),Ht=(un,Ut)=>[Ft[0]*un+Ft[2]*Ut,Ft[1]*un+Ft[3]*Ut];let qt,Nt,$t=!1,Mt=!1;switch($){case"topLeft":$t=!0,qt=(un,Ut)=>[0,0],Nt=(un,Ut)=>[un,Ut];break;case"topMiddle":qt=(un,Ut)=>[un/2,0],Nt=(un,Ut)=>[un/2,Ut];break;case"topRight":$t=!0,qt=(un,Ut)=>[un,0],Nt=(un,Ut)=>[0,Ut];break;case"middleRight":Mt=!0,qt=(un,Ut)=>[un,Ut/2],Nt=(un,Ut)=>[0,Ut/2];break;case"bottomRight":$t=!0,qt=(un,Ut)=>[un,Ut],Nt=(un,Ut)=>[0,0];break;case"bottomMiddle":qt=(un,Ut)=>[un/2,Ut],Nt=(un,Ut)=>[un/2,0];break;case"bottomLeft":$t=!0,qt=(un,Ut)=>[0,Ut],Nt=(un,Ut)=>[un,0];break;case"middleLeft":Mt=!0,qt=(un,Ut)=>[0,Ut/2],Nt=(un,Ut)=>[un,Ut/2];break}const Bt=qt(Ct,Pt),_t=Nt(Ct,Pt);let Kt=vt(..._t);const jt=Rt(St+Kt[0]),Gt=Rt(Et+Kt[1]);let Qt=1,ln=1,[en,gn]=this.screenToPageTranslation(xt.movementX,xt.movementY);if([en,gn]=Ht(en/bt,gn/At),$t){const un=Math.hypot(Ct,Pt);Qt=ln=Math.max(Math.min(Math.hypot(_t[0]-Bt[0]-en,_t[1]-Bt[1]-gn)/un,1/Ct,1/Pt),wt/Ct,kt/Pt)}else Mt?Qt=Math.max(wt,Math.min(1,Math.abs(_t[0]-Bt[0]-en)))/Ct:ln=Math.max(kt,Math.min(1,Math.abs(_t[1]-Bt[1]-gn)))/Pt;const tn=Rt(Ct*Qt),bn=Rt(Pt*ln);Kt=vt(...Nt(tn,bn));const Xt=jt-Kt[0],Yt=Gt-Kt[1];this.width=tn,this.height=bn,this.x=Xt,this.y=Yt,this.setDims(bt*tn,At*bn),this.fixAndSetPosition()},Iy=function($){const{isMac:xt}=util_FeatureTest.platform;$.ctrlKey&&!xt||$.shiftKey||$.metaKey&&xt?this.parent.toggleSelected(this):this.parent.setSelected(this)},O3=function($){const xt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let bt,At;xt&&(this.div.classList.add("moving"),bt={passive:!0,capture:!0},$n(this,s1,$.clientX),$n(this,a1,$.clientY),At=Et=>{const{clientX:Ct,clientY:Pt}=Et,[wt,kt]=this.screenToPageTranslation(Ct-Ot(this,s1),Pt-Ot(this,a1));$n(this,s1,Ct),$n(this,a1,Pt),this._uiManager.dragSelectedEditors(wt,kt)},window.addEventListener("pointermove",At,bt));const St=()=>{window.removeEventListener("pointerup",St),window.removeEventListener("blur",St),xt&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",At,bt)),$n(this,Xu,!1),this._uiManager.endDragSession()||In(this,Ls,Iy).call(this,$)};window.addEventListener("pointerup",St),window.addEventListener("blur",St)},L3=function($){_a._resizerKeyboardManager.exec(this,$)},D3=function($){var xt;Ot(this,C0)&&((xt=$.relatedTarget)==null?void 0:xt.parentNode)!==Ot(this,To)&&In(this,Ls,_g).call(this)},N3=function($){$n(this,Um,Ot(this,C0)?$:"")},Oy=function($){if(Ot(this,Ol))for(const xt of Ot(this,Ol))xt.tabIndex=$},_g=function(){if($n(this,C0,!1),In(this,Ls,Oy).call(this,-1),Ot(this,zu)){const{savedX:$,savedY:xt,savedWidth:bt,savedHeight:At}=Ot(this,zu);In(this,Ls,Ry).call(this,$,xt,bt,At),$n(this,zu,null)}},Nn(_a,zm),Ur(_a,"_borderLineWidth",-1),Ur(_a,"_colorManager",new ColorManager),Ur(_a,"_zIndex",1),Ur(_a,"_telemetryTimeout",1e3);let AnnotationEditor=_a;class FakeEditor extends AnnotationEditor{constructor($){super($),this.annotationElementId=$.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor($){this.h1=$?$&4294967295:SEED,this.h2=$?$&4294967295:SEED}update($){let xt,bt;if(typeof $=="string"){xt=new Uint8Array($.length*2),bt=0;for(let Ht=0,qt=$.length;Ht<qt;Ht++){const Nt=$.charCodeAt(Ht);Nt<=255?xt[bt++]=Nt:(xt[bt++]=Nt>>>8,xt[bt++]=Nt&255)}}else if(ArrayBuffer.isView($))xt=$.slice(),bt=xt.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const At=bt>>2,St=bt-At*4,Et=new Uint32Array(xt.buffer,0,At);let Ct=0,Pt=0,wt=this.h1,kt=this.h2;const Rt=3432918353,ht=461845907,vt=Rt&MASK_LOW,Ft=ht&MASK_LOW;for(let Ht=0;Ht<At;Ht++)Ht&1?(Ct=Et[Ht],Ct=Ct*Rt&MASK_HIGH|Ct*vt&MASK_LOW,Ct=Ct<<15|Ct>>>17,Ct=Ct*ht&MASK_HIGH|Ct*Ft&MASK_LOW,wt^=Ct,wt=wt<<13|wt>>>19,wt=wt*5+3864292196):(Pt=Et[Ht],Pt=Pt*Rt&MASK_HIGH|Pt*vt&MASK_LOW,Pt=Pt<<15|Pt>>>17,Pt=Pt*ht&MASK_HIGH|Pt*Ft&MASK_LOW,kt^=Pt,kt=kt<<13|kt>>>19,kt=kt*5+3864292196);switch(Ct=0,St){case 3:Ct^=xt[At*4+2]<<16;case 2:Ct^=xt[At*4+1]<<8;case 1:Ct^=xt[At*4],Ct=Ct*Rt&MASK_HIGH|Ct*vt&MASK_LOW,Ct=Ct<<15|Ct>>>17,Ct=Ct*ht&MASK_HIGH|Ct*Ft&MASK_LOW,At&1?wt^=Ct:kt^=Ct}this.h1=wt,this.h2=kt}hexdigest(){let $=this.h1,xt=this.h2;return $^=xt>>>1,$=$*3981806797&MASK_HIGH|$*36045&MASK_LOW,xt=xt*4283543511&MASK_HIGH|((xt<<16|$>>>16)*2950163797&MASK_HIGH)>>>16,$^=xt>>>1,$=$*444984403&MASK_HIGH|$*60499&MASK_LOW,xt=xt*3301882366&MASK_HIGH|((xt<<16|$>>>16)*3120437893&MASK_HIGH)>>>16,$^=xt>>>1,($>>>0).toString(16).padStart(8,"0")+(xt>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var Gu,Po,Z2,$3;class AnnotationStorage{constructor(){Nn(this,Z2);Nn(this,Gu,!1);Nn(this,Po,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue($,xt){const bt=Ot(this,Po).get($);return bt===void 0?xt:Object.assign(xt,bt)}getRawValue($){return Ot(this,Po).get($)}remove($){if(Ot(this,Po).delete($),Ot(this,Po).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const xt of Ot(this,Po).values())if(xt instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue($,xt){const bt=Ot(this,Po).get($);let At=!1;if(bt!==void 0)for(const[St,Et]of Object.entries(xt))bt[St]!==Et&&(At=!0,bt[St]=Et);else At=!0,Ot(this,Po).set($,xt);At&&In(this,Z2,$3).call(this),xt instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(xt.constructor._type)}has($){return Ot(this,Po).has($)}getAll(){return Ot(this,Po).size>0?objectFromMap(Ot(this,Po)):null}setAll($){for(const[xt,bt]of Object.entries($))this.setValue(xt,bt)}get size(){return Ot(this,Po).size}resetModified(){Ot(this,Gu)&&($n(this,Gu,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(Ot(this,Po).size===0)return SerializableEmpty;const $=new Map,xt=new MurmurHash3_64,bt=[],At=Object.create(null);let St=!1;for(const[Et,Ct]of Ot(this,Po)){const Pt=Ct instanceof AnnotationEditor?Ct.serialize(!1,At):Ct;Pt&&($.set(Et,Pt),xt.update(`${Et}:${JSON.stringify(Pt)}`),St||(St=!!Pt.bitmap))}if(St)for(const Et of $.values())Et.bitmap&&bt.push(Et.bitmap);return $.size>0?{map:$,hash:xt.hexdigest(),transfer:bt}:SerializableEmpty}get editorStats(){let $=null;const xt=new Map;for(const bt of Ot(this,Po).values()){if(!(bt instanceof AnnotationEditor))continue;const At=bt.telemetryFinalData;if(!At)continue;const{type:St}=At;xt.has(St)||xt.set(St,Object.getPrototypeOf(bt).constructor),$||($=Object.create(null));const Et=$[St]||($[St]=new Map);for(const[Ct,Pt]of Object.entries(At)){if(Ct==="type")continue;let wt=Et.get(Ct);wt||(wt=new Map,Et.set(Ct,wt));const kt=wt.get(Pt)??0;wt.set(Pt,kt+1)}}for(const[bt,At]of xt)$[bt]=At.computeTelemetryFinalData($[bt]);return $}}Gu=new WeakMap,Po=new WeakMap,Z2=new WeakSet,$3=function(){Ot(this,Gu)||($n(this,Gu,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Xm;class PrintAnnotationStorage extends AnnotationStorage{constructor(xt){super();Nn(this,Xm);const{map:bt,hash:At,transfer:St}=xt.serializable,Et=structuredClone(bt,St?{transfer:St}:null);$n(this,Xm,{map:Et,hash:At,transfer:St})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return Ot(this,Xm)}}Xm=new WeakMap;var o1;class FontLoader{constructor({ownerDocument:$=globalThis.document,styleElement:xt=null}){Nn(this,o1,new Set);this._document=$,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace($){this.nativeFontFaces.add($),this._document.fonts.add($)}removeNativeFontFace($){this.nativeFontFaces.delete($),this._document.fonts.delete($)}insertRule($){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const xt=this.styleElement.sheet;xt.insertRule($,xt.cssRules.length)}clear(){for(const $ of this.nativeFontFaces)this._document.fonts.delete($);this.nativeFontFaces.clear(),Ot(this,o1).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:$,_inspectFont:xt}){if(!(!$||Ot(this,o1).has($.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:bt,src:At,style:St}=$,Et=new FontFace(bt,At,St);this.addNativeFontFace(Et);try{await Et.load(),Ot(this,o1).add(bt),xt==null||xt($)}catch{warn(`Cannot load system font: ${$.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Et)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind($){if($.attached||$.missingFile&&!$.systemFontInfo)return;if($.attached=!0,$.systemFontInfo){await this.loadSystemFont($);return}if(this.isFontLoadingAPISupported){const bt=$.createNativeFontFace();if(bt){this.addNativeFontFace(bt);try{await bt.loaded}catch(At){throw warn(`Failed to load font '${bt.family}': '${At}'.`),$.disableFontFace=!0,At}}return}const xt=$.createFontFaceRule();if(xt){if(this.insertRule(xt),this.isSyncFontLoadingSupported)return;await new Promise(bt=>{const At=this._queueLoadingCallback(bt);this._prepareFontLoadEvent($,At)})}}get isFontLoadingAPISupported(){var xt;const $=!!((xt=this._document)!=null&&xt.fonts);return shadow(this,"isFontLoadingAPISupported",$)}get isSyncFontLoadingSupported(){let $=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&($=!0),shadow(this,"isSyncFontLoadingSupported",$)}_queueLoadingCallback($){function xt(){for(assert(!At.done,"completeRequest() cannot be called twice."),At.done=!0;bt.length>0&&bt[0].done;){const St=bt.shift();setTimeout(St.callback,0)}}const{loadingRequests:bt}=this,At={done:!1,complete:xt,callback:$};return bt.push(At),At}get _loadTestFont(){const $=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",$)}_prepareFontLoadEvent($,xt){function bt(Bt,_t){return Bt.charCodeAt(_t)<<24|Bt.charCodeAt(_t+1)<<16|Bt.charCodeAt(_t+2)<<8|Bt.charCodeAt(_t+3)&255}function At(Bt,_t,Kt,jt){const Gt=Bt.substring(0,_t),Qt=Bt.substring(_t+Kt);return Gt+jt+Qt}let St,Et;const Ct=this._document.createElement("canvas");Ct.width=1,Ct.height=1;const Pt=Ct.getContext("2d");let wt=0;function kt(Bt,_t){if(++wt>30){warn("Load test font never loaded."),_t();return}if(Pt.font="30px "+Bt,Pt.fillText(".",0,20),Pt.getImageData(0,0,1,1).data[3]>0){_t();return}setTimeout(kt.bind(null,Bt,_t))}const Rt=`lt${Date.now()}${this.loadTestFontId++}`;let ht=this._loadTestFont;ht=At(ht,976,Rt.length,Rt);const Ft=16,Ht=1482184792;let qt=bt(ht,Ft);for(St=0,Et=Rt.length-3;St<Et;St+=4)qt=qt-Ht+bt(Rt,St)|0;St<Rt.length&&(qt=qt-Ht+bt(Rt+"XXX",St)|0),ht=At(ht,Ft,4,string32(qt));const Nt=`url(data:font/opentype;base64,${btoa(ht)});`,$t=`@font-face {font-family:"${Rt}";src:${Nt}}`;this.insertRule($t);const Mt=this._document.createElement("div");Mt.style.visibility="hidden",Mt.style.width=Mt.style.height="10px",Mt.style.position="absolute",Mt.style.top=Mt.style.left="0px";for(const Bt of[$.loadedName,Rt]){const _t=this._document.createElement("span");_t.textContent="Hi",_t.style.fontFamily=Bt,Mt.append(_t)}this._document.body.append(Mt),kt(Rt,()=>{Mt.remove(),xt.complete()})}}o1=new WeakMap;class FontFaceObject{constructor($,{disableFontFace:xt=!1,inspectFont:bt=null}){this.compiledGlyphs=Object.create(null);for(const At in $)this[At]=$[At];this.disableFontFace=xt===!0,this._inspectFont=bt}createNativeFontFace(){var xt;if(!this.data||this.disableFontFace)return null;let $;if(!this.cssFontInfo)$=new FontFace(this.loadedName,this.data,{});else{const bt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(bt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),$=new FontFace(this.cssFontInfo.fontFamily,this.data,bt)}return(xt=this._inspectFont)==null||xt.call(this,this),$}createFontFaceRule(){var At;if(!this.data||this.disableFontFace)return null;const $=bytesToString(this.data),xt=`url(data:${this.mimetype};base64,${btoa($)});`;let bt;if(!this.cssFontInfo)bt=`@font-face {font-family:"${this.loadedName}";src:${xt}}`;else{let St=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(St+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),bt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${St}src:${xt}}`}return(At=this._inspectFont)==null||At.call(this,this,xt),bt}getPathGenerator($,xt){if(this.compiledGlyphs[xt]!==void 0)return this.compiledGlyphs[xt];let bt;try{bt=$.get(this.loadedName+"_path_"+xt)}catch(St){warn(`getPathGenerator - ignoring character: "${St}".`)}if(!Array.isArray(bt)||bt.length===0)return this.compiledGlyphs[xt]=function(St,Et){};const At=[];for(let St=0,Et=bt.length;St<Et;)switch(bt[St++]){case FontRenderOps.BEZIER_CURVE_TO:{const[Ct,Pt,wt,kt,Rt,ht]=bt.slice(St,St+6);At.push(vt=>vt.bezierCurveTo(Ct,Pt,wt,kt,Rt,ht)),St+=6}break;case FontRenderOps.MOVE_TO:{const[Ct,Pt]=bt.slice(St,St+2);At.push(wt=>wt.moveTo(Ct,Pt)),St+=2}break;case FontRenderOps.LINE_TO:{const[Ct,Pt]=bt.slice(St,St+2);At.push(wt=>wt.lineTo(Ct,Pt)),St+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[Ct,Pt,wt,kt]=bt.slice(St,St+4);At.push(Rt=>Rt.quadraticCurveTo(Ct,Pt,wt,kt)),St+=4}break;case FontRenderOps.RESTORE:At.push(Ct=>Ct.restore());break;case FontRenderOps.SAVE:At.push(Ct=>Ct.save());break;case FontRenderOps.SCALE:assert(At.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[Ct,Pt,wt,kt,Rt,ht]=bt.slice(St,St+6);At.push(vt=>vt.transform(Ct,Pt,wt,kt,Rt,ht)),St+=6}break;case FontRenderOps.TRANSLATE:{const[Ct,Pt]=bt.slice(St,St+2);At.push(wt=>wt.translate(Ct,Pt)),St+=2}break}return this.compiledGlyphs[xt]=function(Et,Ct){At[0](Et),At[1](Et),Et.scale(Ct,-Ct);for(let Pt=2,wt=At.length;Pt<wt;Pt++)At[Pt](Et)}}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const $=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),[]),xt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),bt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),At=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0);let St,Et;return new Map(Object.entries({fs:$,http:xt,https:bt,url:At,canvas:St,path2d:Et}))})().then($=>{packageMap=$,packageCapability.resolve()},$=>{warn(`loadPackages: ${$}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get($){return packageMap==null?void 0:packageMap.get($)}}const node_utils_fetchData=function(_e){return NodePackages.get("fs").promises.readFile(_e).then(xt=>new Uint8Array(xt))};class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas($,xt){return NodePackages.get("canvas").createCanvas($,xt)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,xt){return node_utils_fetchData($).then(bt=>({cMapData:bt,compressionType:xt}))}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return node_utils_fetchData($)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(_e,$){if(!$)return;const xt=$[2]-$[0],bt=$[3]-$[1],At=new Path2D;At.rect($[0],$[1],xt,bt),_e.clip(At)}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&unreachable("Cannot initialize BaseShadingPattern.")}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor($){super(),this._type=$[1],this._bbox=$[2],this._colorStops=$[3],this._p0=$[4],this._p1=$[5],this._r0=$[6],this._r1=$[7],this.matrix=null}_createGradient($){let xt;this._type==="axial"?xt=$.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(xt=$.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const bt of this._colorStops)xt.addColorStop(bt[0],bt[1]);return xt}getPattern($,xt,bt,At){let St;if(At===PathType.STROKE||At===PathType.FILL){const Et=xt.current.getClippedPathBoundingBox(At,getCurrentTransform($))||[0,0,0,0],Ct=Math.ceil(Et[2]-Et[0])||1,Pt=Math.ceil(Et[3]-Et[1])||1,wt=xt.cachedCanvases.getCanvas("pattern",Ct,Pt,!0),kt=wt.context;kt.clearRect(0,0,kt.canvas.width,kt.canvas.height),kt.beginPath(),kt.rect(0,0,kt.canvas.width,kt.canvas.height),kt.translate(-Et[0],-Et[1]),bt=Util.transform(bt,[1,0,0,1,Et[0],Et[1]]),kt.transform(...xt.baseTransform),this.matrix&&kt.transform(...this.matrix),applyBoundingBox(kt,this._bbox),kt.fillStyle=this._createGradient(kt),kt.fill(),St=$.createPattern(wt.canvas,"no-repeat");const Rt=new DOMMatrix(bt);St.setTransform(Rt)}else applyBoundingBox($,this._bbox),St=this._createGradient($);return St}}function drawTriangle(_e,$,xt,bt,At,St,Et,Ct){const Pt=$.coords,wt=$.colors,kt=_e.data,Rt=_e.width*4;let ht;Pt[xt+1]>Pt[bt+1]&&(ht=xt,xt=bt,bt=ht,ht=St,St=Et,Et=ht),Pt[bt+1]>Pt[At+1]&&(ht=bt,bt=At,At=ht,ht=Et,Et=Ct,Ct=ht),Pt[xt+1]>Pt[bt+1]&&(ht=xt,xt=bt,bt=ht,ht=St,St=Et,Et=ht);const vt=(Pt[xt]+$.offsetX)*$.scaleX,Ft=(Pt[xt+1]+$.offsetY)*$.scaleY,Ht=(Pt[bt]+$.offsetX)*$.scaleX,qt=(Pt[bt+1]+$.offsetY)*$.scaleY,Nt=(Pt[At]+$.offsetX)*$.scaleX,$t=(Pt[At+1]+$.offsetY)*$.scaleY;if(Ft>=$t)return;const Mt=wt[St],Bt=wt[St+1],_t=wt[St+2],Kt=wt[Et],jt=wt[Et+1],Gt=wt[Et+2],Qt=wt[Ct],ln=wt[Ct+1],en=wt[Ct+2],gn=Math.round(Ft),tn=Math.round($t);let bn,Xt,Yt,un,Ut,Lt,Vt,an;for(let zt=gn;zt<=tn;zt++){if(zt<qt){const hn=zt<Ft?0:(Ft-zt)/(Ft-qt);bn=vt-(vt-Ht)*hn,Xt=Mt-(Mt-Kt)*hn,Yt=Bt-(Bt-jt)*hn,un=_t-(_t-Gt)*hn}else{let hn;zt>$t?hn=1:qt===$t?hn=0:hn=(qt-zt)/(qt-$t),bn=Ht-(Ht-Nt)*hn,Xt=Kt-(Kt-Qt)*hn,Yt=jt-(jt-ln)*hn,un=Gt-(Gt-en)*hn}let Wt;zt<Ft?Wt=0:zt>$t?Wt=1:Wt=(Ft-zt)/(Ft-$t),Ut=vt-(vt-Nt)*Wt,Lt=Mt-(Mt-Qt)*Wt,Vt=Bt-(Bt-ln)*Wt,an=_t-(_t-en)*Wt;const nn=Math.round(Math.min(bn,Ut)),dn=Math.round(Math.max(bn,Ut));let on=Rt*zt+nn*4;for(let hn=nn;hn<=dn;hn++)Wt=(bn-hn)/(bn-Ut),Wt<0?Wt=0:Wt>1&&(Wt=1),kt[on++]=Xt-(Xt-Lt)*Wt|0,kt[on++]=Yt-(Yt-Vt)*Wt|0,kt[on++]=un-(un-an)*Wt|0,kt[on++]=255}}function drawFigure(_e,$,xt){const bt=$.coords,At=$.colors;let St,Et;switch($.type){case"lattice":const Ct=$.verticesPerRow,Pt=Math.floor(bt.length/Ct)-1,wt=Ct-1;for(St=0;St<Pt;St++){let kt=St*Ct;for(let Rt=0;Rt<wt;Rt++,kt++)drawTriangle(_e,xt,bt[kt],bt[kt+1],bt[kt+Ct],At[kt],At[kt+1],At[kt+Ct]),drawTriangle(_e,xt,bt[kt+Ct+1],bt[kt+1],bt[kt+Ct],At[kt+Ct+1],At[kt+1],At[kt+Ct])}break;case"triangles":for(St=0,Et=bt.length;St<Et;St+=3)drawTriangle(_e,xt,bt[St],bt[St+1],bt[St+2],At[St],At[St+1],At[St+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor($){super(),this._coords=$[2],this._colors=$[3],this._figures=$[4],this._bounds=$[5],this._bbox=$[7],this._background=$[8],this.matrix=null}_createMeshCanvas($,xt,bt){const Ct=Math.floor(this._bounds[0]),Pt=Math.floor(this._bounds[1]),wt=Math.ceil(this._bounds[2])-Ct,kt=Math.ceil(this._bounds[3])-Pt,Rt=Math.min(Math.ceil(Math.abs(wt*$[0]*1.1)),3e3),ht=Math.min(Math.ceil(Math.abs(kt*$[1]*1.1)),3e3),vt=wt/Rt,Ft=kt/ht,Ht={coords:this._coords,colors:this._colors,offsetX:-Ct,offsetY:-Pt,scaleX:1/vt,scaleY:1/Ft},qt=Rt+2*2,Nt=ht+2*2,$t=bt.getCanvas("mesh",qt,Nt,!1),Mt=$t.context,Bt=Mt.createImageData(Rt,ht);if(xt){const Kt=Bt.data;for(let jt=0,Gt=Kt.length;jt<Gt;jt+=4)Kt[jt]=xt[0],Kt[jt+1]=xt[1],Kt[jt+2]=xt[2],Kt[jt+3]=255}for(const Kt of this._figures)drawFigure(Bt,Kt,Ht);return Mt.putImageData(Bt,2,2),{canvas:$t.canvas,offsetX:Ct-2*vt,offsetY:Pt-2*Ft,scaleX:vt,scaleY:Ft}}getPattern($,xt,bt,At){applyBoundingBox($,this._bbox);let St;if(At===PathType.SHADING)St=Util.singularValueDecompose2dScale(getCurrentTransform($));else if(St=Util.singularValueDecompose2dScale(xt.baseTransform),this.matrix){const Ct=Util.singularValueDecompose2dScale(this.matrix);St=[St[0]*Ct[0],St[1]*Ct[1]]}const Et=this._createMeshCanvas(St,At===PathType.SHADING?null:this._background,xt.cachedCanvases);return At!==PathType.SHADING&&($.setTransform(...xt.baseTransform),this.matrix&&$.transform(...this.matrix)),$.translate(Et.offsetX,Et.offsetY),$.scale(Et.scaleX,Et.scaleY),$.createPattern(Et.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(_e){switch(_e[0]){case"RadialAxial":return new RadialAxialShadingPattern(_e);case"Mesh":return new MeshShadingPattern(_e);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${_e[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},J2=class J2{constructor($,xt,bt,At,St){this.operatorList=$[2],this.matrix=$[3],this.bbox=$[4],this.xstep=$[5],this.ystep=$[6],this.paintType=$[7],this.tilingType=$[8],this.color=xt,this.ctx=bt,this.canvasGraphicsFactory=At,this.baseTransform=St}createPatternCanvas($){const xt=this.operatorList,bt=this.bbox,At=this.xstep,St=this.ystep,Et=this.paintType,Ct=this.tilingType,Pt=this.color,wt=this.canvasGraphicsFactory;info("TilingType: "+Ct);const kt=bt[0],Rt=bt[1],ht=bt[2],vt=bt[3],Ft=Util.singularValueDecompose2dScale(this.matrix),Ht=Util.singularValueDecompose2dScale(this.baseTransform),qt=[Ft[0]*Ht[0],Ft[1]*Ht[1]],Nt=this.getSizeAndScale(At,this.ctx.canvas.width,qt[0]),$t=this.getSizeAndScale(St,this.ctx.canvas.height,qt[1]),Mt=$.cachedCanvases.getCanvas("pattern",Nt.size,$t.size,!0),Bt=Mt.context,_t=wt.createCanvasGraphics(Bt);_t.groupLevel=$.groupLevel,this.setFillAndStrokeStyleToContext(_t,Et,Pt);let Kt=kt,jt=Rt,Gt=ht,Qt=vt;return kt<0&&(Kt=0,Gt+=Math.abs(kt)),Rt<0&&(jt=0,Qt+=Math.abs(Rt)),Bt.translate(-(Nt.scale*Kt),-($t.scale*jt)),_t.transform(Nt.scale,0,0,$t.scale,0,0),Bt.save(),this.clipBbox(_t,Kt,jt,Gt,Qt),_t.baseTransform=getCurrentTransform(_t.ctx),_t.executeOperatorList(xt),_t.endDrawing(),{canvas:Mt.canvas,scaleX:Nt.scale,scaleY:$t.scale,offsetX:Kt,offsetY:jt}}getSizeAndScale($,xt,bt){$=Math.abs($);const At=Math.max(J2.MAX_PATTERN_SIZE,xt);let St=Math.ceil($*bt);return St>=At?St=At:bt=St/$,{scale:bt,size:St}}clipBbox($,xt,bt,At,St){const Et=At-xt,Ct=St-bt;$.ctx.rect(xt,bt,Et,Ct),$.current.updateRectMinMax(getCurrentTransform($.ctx),[xt,bt,At,St]),$.clip(),$.endPath()}setFillAndStrokeStyleToContext($,xt,bt){const At=$.ctx,St=$.current;switch(xt){case PaintType.COLORED:const Et=this.ctx;At.fillStyle=Et.fillStyle,At.strokeStyle=Et.strokeStyle,St.fillColor=Et.fillStyle,St.strokeColor=Et.strokeStyle;break;case PaintType.UNCOLORED:const Ct=Util.makeHexColor(bt[0],bt[1],bt[2]);At.fillStyle=Ct,At.strokeStyle=Ct,St.fillColor=Ct,St.strokeColor=Ct;break;default:throw new FormatError(`Unsupported paint type: ${xt}`)}}getPattern($,xt,bt,At){let St=bt;At!==PathType.SHADING&&(St=Util.transform(St,xt.baseTransform),this.matrix&&(St=Util.transform(St,this.matrix)));const Et=this.createPatternCanvas(xt);let Ct=new DOMMatrix(St);Ct=Ct.translate(Et.offsetX,Et.offsetY),Ct=Ct.scale(1/Et.scaleX,1/Et.scaleY);const Pt=$.createPattern(Et.canvas,"repeat");return Pt.setTransform(Ct),Pt}};Ur(J2,"MAX_PATTERN_SIZE",3e3);let TilingPattern=J2;function convertBlackAndWhiteToRGBA({src:_e,srcPos:$=0,dest:xt,width:bt,height:At,nonBlackColor:St=4294967295,inverseDecode:Et=!1}){const Ct=util_FeatureTest.isLittleEndian?4278190080:255,[Pt,wt]=Et?[St,Ct]:[Ct,St],kt=bt>>3,Rt=bt&7,ht=_e.length;xt=new Uint32Array(xt.buffer);let vt=0;for(let Ft=0;Ft<At;Ft++){for(const qt=$+kt;$<qt;$++){const Nt=$<ht?_e[$]:255;xt[vt++]=Nt&128?wt:Pt,xt[vt++]=Nt&64?wt:Pt,xt[vt++]=Nt&32?wt:Pt,xt[vt++]=Nt&16?wt:Pt,xt[vt++]=Nt&8?wt:Pt,xt[vt++]=Nt&4?wt:Pt,xt[vt++]=Nt&2?wt:Pt,xt[vt++]=Nt&1?wt:Pt}if(Rt===0)continue;const Ht=$<ht?_e[$++]:255;for(let qt=0;qt<Rt;qt++)xt[vt++]=Ht&1<<7-qt?wt:Pt}return{srcPos:$,destPos:vt}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(_e,$){if(_e._removeMirroring)throw new Error("Context is already forwarding operations.");_e.__originalSave=_e.save,_e.__originalRestore=_e.restore,_e.__originalRotate=_e.rotate,_e.__originalScale=_e.scale,_e.__originalTranslate=_e.translate,_e.__originalTransform=_e.transform,_e.__originalSetTransform=_e.setTransform,_e.__originalResetTransform=_e.resetTransform,_e.__originalClip=_e.clip,_e.__originalMoveTo=_e.moveTo,_e.__originalLineTo=_e.lineTo,_e.__originalBezierCurveTo=_e.bezierCurveTo,_e.__originalRect=_e.rect,_e.__originalClosePath=_e.closePath,_e.__originalBeginPath=_e.beginPath,_e._removeMirroring=()=>{_e.save=_e.__originalSave,_e.restore=_e.__originalRestore,_e.rotate=_e.__originalRotate,_e.scale=_e.__originalScale,_e.translate=_e.__originalTranslate,_e.transform=_e.__originalTransform,_e.setTransform=_e.__originalSetTransform,_e.resetTransform=_e.__originalResetTransform,_e.clip=_e.__originalClip,_e.moveTo=_e.__originalMoveTo,_e.lineTo=_e.__originalLineTo,_e.bezierCurveTo=_e.__originalBezierCurveTo,_e.rect=_e.__originalRect,_e.closePath=_e.__originalClosePath,_e.beginPath=_e.__originalBeginPath,delete _e._removeMirroring},_e.save=function(){$.save(),this.__originalSave()},_e.restore=function(){$.restore(),this.__originalRestore()},_e.translate=function(bt,At){$.translate(bt,At),this.__originalTranslate(bt,At)},_e.scale=function(bt,At){$.scale(bt,At),this.__originalScale(bt,At)},_e.transform=function(bt,At,St,Et,Ct,Pt){$.transform(bt,At,St,Et,Ct,Pt),this.__originalTransform(bt,At,St,Et,Ct,Pt)},_e.setTransform=function(bt,At,St,Et,Ct,Pt){$.setTransform(bt,At,St,Et,Ct,Pt),this.__originalSetTransform(bt,At,St,Et,Ct,Pt)},_e.resetTransform=function(){$.resetTransform(),this.__originalResetTransform()},_e.rotate=function(bt){$.rotate(bt),this.__originalRotate(bt)},_e.clip=function(bt){$.clip(bt),this.__originalClip(bt)},_e.moveTo=function(xt,bt){$.moveTo(xt,bt),this.__originalMoveTo(xt,bt)},_e.lineTo=function(xt,bt){$.lineTo(xt,bt),this.__originalLineTo(xt,bt)},_e.bezierCurveTo=function(xt,bt,At,St,Et,Ct){$.bezierCurveTo(xt,bt,At,St,Et,Ct),this.__originalBezierCurveTo(xt,bt,At,St,Et,Ct)},_e.rect=function(xt,bt,At,St){$.rect(xt,bt,At,St),this.__originalRect(xt,bt,At,St)},_e.closePath=function(){$.closePath(),this.__originalClosePath()},_e.beginPath=function(){$.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor($){this.canvasFactory=$,this.cache=Object.create(null)}getCanvas($,xt,bt){let At;return this.cache[$]!==void 0?(At=this.cache[$],this.canvasFactory.reset(At,xt,bt)):(At=this.canvasFactory.create(xt,bt),this.cache[$]=At),At}delete($){delete this.cache[$]}clear(){for(const $ in this.cache){const xt=this.cache[$];this.canvasFactory.destroy(xt),delete this.cache[$]}}}function drawImageAtIntegerCoords(_e,$,xt,bt,At,St,Et,Ct,Pt,wt){const[kt,Rt,ht,vt,Ft,Ht]=getCurrentTransform(_e);if(Rt===0&&ht===0){const $t=Et*kt+Ft,Mt=Math.round($t),Bt=Ct*vt+Ht,_t=Math.round(Bt),Kt=(Et+Pt)*kt+Ft,jt=Math.abs(Math.round(Kt)-Mt)||1,Gt=(Ct+wt)*vt+Ht,Qt=Math.abs(Math.round(Gt)-_t)||1;return _e.setTransform(Math.sign(kt),0,0,Math.sign(vt),Mt,_t),_e.drawImage($,xt,bt,At,St,0,0,jt,Qt),_e.setTransform(kt,Rt,ht,vt,Ft,Ht),[jt,Qt]}if(kt===0&&vt===0){const $t=Ct*ht+Ft,Mt=Math.round($t),Bt=Et*Rt+Ht,_t=Math.round(Bt),Kt=(Ct+wt)*ht+Ft,jt=Math.abs(Math.round(Kt)-Mt)||1,Gt=(Et+Pt)*Rt+Ht,Qt=Math.abs(Math.round(Gt)-_t)||1;return _e.setTransform(0,Math.sign(Rt),Math.sign(ht),0,Mt,_t),_e.drawImage($,xt,bt,At,St,0,0,Qt,jt),_e.setTransform(kt,Rt,ht,vt,Ft,Ht),[Qt,jt]}_e.drawImage($,xt,bt,At,St,Et,Ct,Pt,wt);const qt=Math.hypot(kt,Rt),Nt=Math.hypot(ht,vt);return[qt*Pt,Nt*wt]}function compileType3Glyph(_e){const{width:$,height:xt}=_e;if($>MAX_SIZE_TO_COMPILE||xt>MAX_SIZE_TO_COMPILE)return null;const bt=1e3,At=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),St=$+1;let Et=new Uint8Array(St*(xt+1)),Ct,Pt,wt;const kt=$+7&-8;let Rt=new Uint8Array(kt*xt),ht=0;for(const Nt of _e.data){let $t=128;for(;$t>0;)Rt[ht++]=Nt&$t?0:255,$t>>=1}let vt=0;for(ht=0,Rt[ht]!==0&&(Et[0]=1,++vt),Pt=1;Pt<$;Pt++)Rt[ht]!==Rt[ht+1]&&(Et[Pt]=Rt[ht]?2:1,++vt),ht++;for(Rt[ht]!==0&&(Et[Pt]=2,++vt),Ct=1;Ct<xt;Ct++){ht=Ct*kt,wt=Ct*St,Rt[ht-kt]!==Rt[ht]&&(Et[wt]=Rt[ht]?1:8,++vt);let Nt=(Rt[ht]?4:0)+(Rt[ht-kt]?8:0);for(Pt=1;Pt<$;Pt++)Nt=(Nt>>2)+(Rt[ht+1]?4:0)+(Rt[ht-kt+1]?8:0),At[Nt]&&(Et[wt+Pt]=At[Nt],++vt),ht++;if(Rt[ht-kt]!==Rt[ht]&&(Et[wt+Pt]=Rt[ht]?2:4,++vt),vt>bt)return null}for(ht=kt*(xt-1),wt=Ct*St,Rt[ht]!==0&&(Et[wt]=8,++vt),Pt=1;Pt<$;Pt++)Rt[ht]!==Rt[ht+1]&&(Et[wt+Pt]=Rt[ht]?4:8,++vt),ht++;if(Rt[ht]!==0&&(Et[wt+Pt]=4,++vt),vt>bt)return null;const Ft=new Int32Array([0,St,-1,0,-St,0,0,0,1]),Ht=new Path2D;for(Ct=0;vt&&Ct<=xt;Ct++){let Nt=Ct*St;const $t=Nt+$;for(;Nt<$t&&!Et[Nt];)Nt++;if(Nt===$t)continue;Ht.moveTo(Nt%St,Ct);const Mt=Nt;let Bt=Et[Nt];do{const _t=Ft[Bt];do Nt+=_t;while(!Et[Nt]);const Kt=Et[Nt];Kt!==5&&Kt!==10?(Bt=Kt,Et[Nt]=0):(Bt=Kt&51*Bt>>4,Et[Nt]&=Bt>>2|Bt<<2),Ht.lineTo(Nt%St,Nt/St|0),Et[Nt]||--vt}while(Mt!==Nt);--Ct}return Rt=null,Et=null,function(Nt){Nt.save(),Nt.scale(1/$,-1/xt),Nt.translate(0,-xt),Nt.fill(Ht),Nt.beginPath(),Nt.restore()}}class CanvasExtraState{constructor($,xt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,$,xt])}clone(){const $=Object.create(this);return $.clipBox=this.clipBox.slice(),$}setCurrentPoint($,xt){this.x=$,this.y=xt}updatePathMinMax($,xt,bt){[xt,bt]=Util.applyTransform([xt,bt],$),this.minX=Math.min(this.minX,xt),this.minY=Math.min(this.minY,bt),this.maxX=Math.max(this.maxX,xt),this.maxY=Math.max(this.maxY,bt)}updateRectMinMax($,xt){const bt=Util.applyTransform(xt,$),At=Util.applyTransform(xt.slice(2),$),St=Util.applyTransform([xt[0],xt[3]],$),Et=Util.applyTransform([xt[2],xt[1]],$);this.minX=Math.min(this.minX,bt[0],At[0],St[0],Et[0]),this.minY=Math.min(this.minY,bt[1],At[1],St[1],Et[1]),this.maxX=Math.max(this.maxX,bt[0],At[0],St[0],Et[0]),this.maxY=Math.max(this.maxY,bt[1],At[1],St[1],Et[1])}updateScalingPathMinMax($,xt){Util.scaleMinMax($,xt),this.minX=Math.min(this.minX,xt[0]),this.minY=Math.min(this.minY,xt[1]),this.maxX=Math.max(this.maxX,xt[2]),this.maxY=Math.max(this.maxY,xt[3])}updateCurvePathMinMax($,xt,bt,At,St,Et,Ct,Pt,wt,kt){const Rt=Util.bezierBoundingBox(xt,bt,At,St,Et,Ct,Pt,wt,kt);kt||this.updateRectMinMax($,Rt)}getPathBoundingBox($=PathType.FILL,xt=null){const bt=[this.minX,this.minY,this.maxX,this.maxY];if($===PathType.STROKE){xt||unreachable("Stroke bounding box must include transform.");const At=Util.singularValueDecompose2dScale(xt),St=At[0]*this.lineWidth/2,Et=At[1]*this.lineWidth/2;bt[0]-=St,bt[1]-=Et,bt[2]+=St,bt[3]+=Et}return bt}updateClipFromPath(){const $=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox($||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox($){this.clipBox=$,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox($=PathType.FILL,xt=null){return Util.intersect(this.clipBox,this.getPathBoundingBox($,xt))}}function putBinaryImageData(_e,$){if(typeof ImageData<"u"&&$ instanceof ImageData){_e.putImageData($,0,0);return}const xt=$.height,bt=$.width,At=xt%FULL_CHUNK_HEIGHT,St=(xt-At)/FULL_CHUNK_HEIGHT,Et=At===0?St:St+1,Ct=_e.createImageData(bt,FULL_CHUNK_HEIGHT);let Pt=0,wt;const kt=$.data,Rt=Ct.data;let ht,vt,Ft,Ht;if($.kind===util_ImageKind.GRAYSCALE_1BPP){const qt=kt.byteLength,Nt=new Uint32Array(Rt.buffer,0,Rt.byteLength>>2),$t=Nt.length,Mt=bt+7>>3,Bt=4294967295,_t=util_FeatureTest.isLittleEndian?4278190080:255;for(ht=0;ht<Et;ht++){for(Ft=ht<St?FULL_CHUNK_HEIGHT:At,wt=0,vt=0;vt<Ft;vt++){const Kt=qt-Pt;let jt=0;const Gt=Kt>Mt?bt:Kt*8-7,Qt=Gt&-8;let ln=0,en=0;for(;jt<Qt;jt+=8)en=kt[Pt++],Nt[wt++]=en&128?Bt:_t,Nt[wt++]=en&64?Bt:_t,Nt[wt++]=en&32?Bt:_t,Nt[wt++]=en&16?Bt:_t,Nt[wt++]=en&8?Bt:_t,Nt[wt++]=en&4?Bt:_t,Nt[wt++]=en&2?Bt:_t,Nt[wt++]=en&1?Bt:_t;for(;jt<Gt;jt++)ln===0&&(en=kt[Pt++],ln=128),Nt[wt++]=en&ln?Bt:_t,ln>>=1}for(;wt<$t;)Nt[wt++]=0;_e.putImageData(Ct,0,ht*FULL_CHUNK_HEIGHT)}}else if($.kind===util_ImageKind.RGBA_32BPP){for(vt=0,Ht=bt*FULL_CHUNK_HEIGHT*4,ht=0;ht<St;ht++)Rt.set(kt.subarray(Pt,Pt+Ht)),Pt+=Ht,_e.putImageData(Ct,0,vt),vt+=FULL_CHUNK_HEIGHT;ht<Et&&(Ht=bt*At*4,Rt.set(kt.subarray(Pt,Pt+Ht)),_e.putImageData(Ct,0,vt))}else if($.kind===util_ImageKind.RGB_24BPP)for(Ft=FULL_CHUNK_HEIGHT,Ht=bt*Ft,ht=0;ht<Et;ht++){for(ht>=St&&(Ft=At,Ht=bt*Ft),wt=0,vt=Ht;vt--;)Rt[wt++]=kt[Pt++],Rt[wt++]=kt[Pt++],Rt[wt++]=kt[Pt++],Rt[wt++]=255;_e.putImageData(Ct,0,ht*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${$.kind}`)}function putBinaryImageMask(_e,$){if($.bitmap){_e.drawImage($.bitmap,0,0);return}const xt=$.height,bt=$.width,At=xt%FULL_CHUNK_HEIGHT,St=(xt-At)/FULL_CHUNK_HEIGHT,Et=At===0?St:St+1,Ct=_e.createImageData(bt,FULL_CHUNK_HEIGHT);let Pt=0;const wt=$.data,kt=Ct.data;for(let Rt=0;Rt<Et;Rt++){const ht=Rt<St?FULL_CHUNK_HEIGHT:At;({srcPos:Pt}=convertBlackAndWhiteToRGBA({src:wt,srcPos:Pt,dest:kt,width:bt,height:ht,nonBlackColor:0})),_e.putImageData(Ct,0,Rt*FULL_CHUNK_HEIGHT)}}function copyCtxState(_e,$){const xt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const bt of xt)_e[bt]!==void 0&&($[bt]=_e[bt]);_e.setLineDash!==void 0&&($.setLineDash(_e.getLineDash()),$.lineDashOffset=_e.lineDashOffset)}function resetCtxToDefault(_e){if(_e.strokeStyle=_e.fillStyle="#000000",_e.fillRule="nonzero",_e.globalAlpha=1,_e.lineWidth=1,_e.lineCap="butt",_e.lineJoin="miter",_e.miterLimit=10,_e.globalCompositeOperation="source-over",_e.font="10px sans-serif",_e.setLineDash!==void 0&&(_e.setLineDash([]),_e.lineDashOffset=0),!isNodeJS){const{filter:$}=_e;$!=="none"&&$!==""&&(_e.filter="none")}}function getImageSmoothingEnabled(_e,$){if($)return!0;const xt=Util.singularValueDecompose2dScale(_e);xt[0]=Math.fround(xt[0]),xt[1]=Math.fround(xt[1]);const bt=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return xt[0]<=bt&&xt[1]<=bt}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var yu,Ly,Dy;const n3=class n3{constructor($,xt,bt,At,St,{optionalContentConfig:Et,markedContentStack:Ct=null},Pt,wt){Nn(this,yu);this.ctx=$,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=xt,this.objs=bt,this.canvasFactory=At,this.filterFactory=St,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ct||[],this.optionalContentConfig=Et,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Pt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=wt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject($,xt=null){return typeof $=="string"?$.startsWith("g_")?this.commonObjs.get($):this.objs.get($):xt}beginDrawing({transform:$,viewport:xt,transparency:bt=!1,background:At=null}){const St=this.ctx.canvas.width,Et=this.ctx.canvas.height,Ct=this.ctx.fillStyle;if(this.ctx.fillStyle=At||"#ffffff",this.ctx.fillRect(0,0,St,Et),this.ctx.fillStyle=Ct,bt){const Pt=this.cachedCanvases.getCanvas("transparent",St,Et);this.compositeCtx=this.ctx,this.transparentCanvas=Pt.canvas,this.ctx=Pt.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),$&&(this.ctx.transform(...$),this.outputScaleX=$[0],this.outputScaleY=$[0]),this.ctx.transform(...xt.transform),this.viewportScale=xt.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList($,xt,bt,At){const St=$.argsArray,Et=$.fnArray;let Ct=xt||0;const Pt=St.length;if(Pt===Ct)return Ct;const wt=Pt-Ct>EXECUTION_STEPS&&typeof bt=="function",kt=wt?Date.now()+EXECUTION_TIME:0;let Rt=0;const ht=this.commonObjs,vt=this.objs;let Ft;for(;;){if(At!==void 0&&Ct===At.nextBreakPoint)return At.breakIt(Ct,bt),Ct;if(Ft=Et[Ct],Ft!==OPS.dependency)this[Ft].apply(this,St[Ct]);else for(const Ht of St[Ct]){const qt=Ht.startsWith("g_")?ht:vt;if(!qt.has(Ht))return qt.get(Ht,bt),Ct}if(Ct++,Ct===Pt)return Ct;if(wt&&++Rt>EXECUTION_STEPS){if(Date.now()>kt)return bt(),Ct;Rt=0}}}endDrawing(){In(this,yu,Ly).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const $ of this._cachedBitmapsMap.values()){for(const xt of $.values())typeof HTMLCanvasElement<"u"&&xt instanceof HTMLCanvasElement&&(xt.width=xt.height=0);$.clear()}this._cachedBitmapsMap.clear(),In(this,yu,Dy).call(this)}_scaleImage($,xt){const bt=$.width,At=$.height;let St=Math.max(Math.hypot(xt[0],xt[1]),1),Et=Math.max(Math.hypot(xt[2],xt[3]),1),Ct=bt,Pt=At,wt="prescale1",kt,Rt;for(;St>2&&Ct>1||Et>2&&Pt>1;){let ht=Ct,vt=Pt;St>2&&Ct>1&&(ht=Ct>=16384?Math.floor(Ct/2)-1||1:Math.ceil(Ct/2),St/=Ct/ht),Et>2&&Pt>1&&(vt=Pt>=16384?Math.floor(Pt/2)-1||1:Math.ceil(Pt)/2,Et/=Pt/vt),kt=this.cachedCanvases.getCanvas(wt,ht,vt),Rt=kt.context,Rt.clearRect(0,0,ht,vt),Rt.drawImage($,0,0,Ct,Pt,0,0,ht,vt),$=kt.canvas,Ct=ht,Pt=vt,wt=wt==="prescale1"?"prescale2":"prescale1"}return{img:$,paintWidth:Ct,paintHeight:Pt}}_createMaskCanvas($){const xt=this.ctx,{width:bt,height:At}=$,St=this.current.fillColor,Et=this.current.patternFill,Ct=getCurrentTransform(xt);let Pt,wt,kt,Rt;if(($.bitmap||$.data)&&$.count>1){const Gt=$.bitmap||$.data.buffer;wt=JSON.stringify(Et?Ct:[Ct.slice(0,4),St]),Pt=this._cachedBitmapsMap.get(Gt),Pt||(Pt=new Map,this._cachedBitmapsMap.set(Gt,Pt));const Qt=Pt.get(wt);if(Qt&&!Et){const ln=Math.round(Math.min(Ct[0],Ct[2])+Ct[4]),en=Math.round(Math.min(Ct[1],Ct[3])+Ct[5]);return{canvas:Qt,offsetX:ln,offsetY:en}}kt=Qt}kt||(Rt=this.cachedCanvases.getCanvas("maskCanvas",bt,At),putBinaryImageMask(Rt.context,$));let ht=Util.transform(Ct,[1/bt,0,0,-1/At,0,0]);ht=Util.transform(ht,[1,0,0,1,0,-At]);const[vt,Ft,Ht,qt]=Util.getAxialAlignedBoundingBox([0,0,bt,At],ht),Nt=Math.round(Ht-vt)||1,$t=Math.round(qt-Ft)||1,Mt=this.cachedCanvases.getCanvas("fillCanvas",Nt,$t),Bt=Mt.context,_t=vt,Kt=Ft;Bt.translate(-_t,-Kt),Bt.transform(...ht),kt||(kt=this._scaleImage(Rt.canvas,getCurrentTransformInverse(Bt)),kt=kt.img,Pt&&Et&&Pt.set(wt,kt)),Bt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(Bt),$.interpolate),drawImageAtIntegerCoords(Bt,kt,0,0,kt.width,kt.height,0,0,bt,At),Bt.globalCompositeOperation="source-in";const jt=Util.transform(getCurrentTransformInverse(Bt),[1,0,0,1,-_t,-Kt]);return Bt.fillStyle=Et?St.getPattern(xt,this,jt,PathType.FILL):St,Bt.fillRect(0,0,bt,At),Pt&&!Et&&(this.cachedCanvases.delete("fillCanvas"),Pt.set(wt,Mt.canvas)),{canvas:Mt.canvas,offsetX:Math.round(_t),offsetY:Math.round(Kt)}}setLineWidth($){$!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=$,this.ctx.lineWidth=$}setLineCap($){this.ctx.lineCap=LINE_CAP_STYLES[$]}setLineJoin($){this.ctx.lineJoin=LINE_JOIN_STYLES[$]}setMiterLimit($){this.ctx.miterLimit=$}setDash($,xt){const bt=this.ctx;bt.setLineDash!==void 0&&(bt.setLineDash($),bt.lineDashOffset=xt)}setRenderingIntent($){}setFlatness($){}setGState($){for(const[xt,bt]of $)switch(xt){case"LW":this.setLineWidth(bt);break;case"LC":this.setLineCap(bt);break;case"LJ":this.setLineJoin(bt);break;case"ML":this.setMiterLimit(bt);break;case"D":this.setDash(bt[0],bt[1]);break;case"RI":this.setRenderingIntent(bt);break;case"FL":this.setFlatness(bt);break;case"Font":this.setFont(bt[0],bt[1]);break;case"CA":this.current.strokeAlpha=bt;break;case"ca":this.current.fillAlpha=bt,this.ctx.globalAlpha=bt;break;case"BM":this.ctx.globalCompositeOperation=bt;break;case"SMask":this.current.activeSMask=bt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(bt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const $=this.inSMaskMode;this.current.activeSMask&&!$?this.beginSMaskMode():!this.current.activeSMask&&$&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const $=this.ctx.canvas.width,xt=this.ctx.canvas.height,bt="smaskGroupAt"+this.groupLevel,At=this.cachedCanvases.getCanvas(bt,$,xt);this.suspendedCtx=this.ctx,this.ctx=At.context;const St=this.ctx;St.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,St),mirrorContextOperations(St,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose($){if(!this.current.activeSMask)return;$?($[0]=Math.floor($[0]),$[1]=Math.floor($[1]),$[2]=Math.ceil($[2]),$[3]=Math.ceil($[3])):$=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const xt=this.current.activeSMask,bt=this.suspendedCtx;this.composeSMask(bt,xt,this.ctx,$),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask($,xt,bt,At){const St=At[0],Et=At[1],Ct=At[2]-St,Pt=At[3]-Et;Ct===0||Pt===0||(this.genericComposeSMask(xt.context,bt,Ct,Pt,xt.subtype,xt.backdrop,xt.transferMap,St,Et,xt.offsetX,xt.offsetY),$.save(),$.globalAlpha=1,$.globalCompositeOperation="source-over",$.setTransform(1,0,0,1,0,0),$.drawImage(bt.canvas,0,0),$.restore())}genericComposeSMask($,xt,bt,At,St,Et,Ct,Pt,wt,kt,Rt){let ht=$.canvas,vt=Pt-kt,Ft=wt-Rt;if(Et){if(vt<0||Ft<0||vt+bt>ht.width||Ft+At>ht.height){const qt=this.cachedCanvases.getCanvas("maskExtension",bt,At),Nt=qt.context;Nt.drawImage(ht,-vt,-Ft),Et.some($t=>$t!==0)&&(Nt.globalCompositeOperation="destination-atop",Nt.fillStyle=Util.makeHexColor(...Et),Nt.fillRect(0,0,bt,At),Nt.globalCompositeOperation="source-over"),ht=qt.canvas,vt=Ft=0}else if(Et.some(qt=>qt!==0)){$.save(),$.globalAlpha=1,$.setTransform(1,0,0,1,0,0);const qt=new Path2D;qt.rect(vt,Ft,bt,At),$.clip(qt),$.globalCompositeOperation="destination-atop",$.fillStyle=Util.makeHexColor(...Et),$.fillRect(vt,Ft,bt,At),$.restore()}}xt.save(),xt.globalAlpha=1,xt.setTransform(1,0,0,1,0,0),St==="Alpha"&&Ct?xt.filter=this.filterFactory.addAlphaFilter(Ct):St==="Luminosity"&&(xt.filter=this.filterFactory.addLuminosityFilter(Ct));const Ht=new Path2D;Ht.rect(Pt,wt,bt,At),xt.clip(Ht),xt.globalCompositeOperation="destination-in",xt.drawImage(ht,vt,Ft,bt,At,Pt,wt,bt,At),xt.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const $=this.current;this.stateStack.push($),this.current=$.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform($,xt,bt,At,St,Et){this.ctx.transform($,xt,bt,At,St,Et),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath($,xt,bt){const At=this.ctx,St=this.current;let Et=St.x,Ct=St.y,Pt,wt;const kt=getCurrentTransform(At),Rt=kt[0]===0&&kt[3]===0||kt[1]===0&&kt[2]===0,ht=Rt?bt.slice(0):null;for(let vt=0,Ft=0,Ht=$.length;vt<Ht;vt++)switch($[vt]|0){case OPS.rectangle:Et=xt[Ft++],Ct=xt[Ft++];const qt=xt[Ft++],Nt=xt[Ft++],$t=Et+qt,Mt=Ct+Nt;At.moveTo(Et,Ct),qt===0||Nt===0?At.lineTo($t,Mt):(At.lineTo($t,Ct),At.lineTo($t,Mt),At.lineTo(Et,Mt)),Rt||St.updateRectMinMax(kt,[Et,Ct,$t,Mt]),At.closePath();break;case OPS.moveTo:Et=xt[Ft++],Ct=xt[Ft++],At.moveTo(Et,Ct),Rt||St.updatePathMinMax(kt,Et,Ct);break;case OPS.lineTo:Et=xt[Ft++],Ct=xt[Ft++],At.lineTo(Et,Ct),Rt||St.updatePathMinMax(kt,Et,Ct);break;case OPS.curveTo:Pt=Et,wt=Ct,Et=xt[Ft+4],Ct=xt[Ft+5],At.bezierCurveTo(xt[Ft],xt[Ft+1],xt[Ft+2],xt[Ft+3],Et,Ct),St.updateCurvePathMinMax(kt,Pt,wt,xt[Ft],xt[Ft+1],xt[Ft+2],xt[Ft+3],Et,Ct,ht),Ft+=6;break;case OPS.curveTo2:Pt=Et,wt=Ct,At.bezierCurveTo(Et,Ct,xt[Ft],xt[Ft+1],xt[Ft+2],xt[Ft+3]),St.updateCurvePathMinMax(kt,Pt,wt,Et,Ct,xt[Ft],xt[Ft+1],xt[Ft+2],xt[Ft+3],ht),Et=xt[Ft+2],Ct=xt[Ft+3],Ft+=4;break;case OPS.curveTo3:Pt=Et,wt=Ct,Et=xt[Ft+2],Ct=xt[Ft+3],At.bezierCurveTo(xt[Ft],xt[Ft+1],Et,Ct,Et,Ct),St.updateCurvePathMinMax(kt,Pt,wt,xt[Ft],xt[Ft+1],Et,Ct,Et,Ct,ht),Ft+=4;break;case OPS.closePath:At.closePath();break}Rt&&St.updateScalingPathMinMax(kt,ht),St.setCurrentPoint(Et,Ct)}closePath(){this.ctx.closePath()}stroke($=!0){const xt=this.ctx,bt=this.current.strokeColor;xt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof bt=="object"&&(bt!=null&&bt.getPattern)?(xt.save(),xt.strokeStyle=bt.getPattern(xt,this,getCurrentTransformInverse(xt),PathType.STROKE),this.rescaleAndStroke(!1),xt.restore()):this.rescaleAndStroke(!0)),$&&this.consumePath(this.current.getClippedPathBoundingBox()),xt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill($=!0){const xt=this.ctx,bt=this.current.fillColor,At=this.current.patternFill;let St=!1;At&&(xt.save(),xt.fillStyle=bt.getPattern(xt,this,getCurrentTransformInverse(xt),PathType.FILL),St=!0);const Et=this.current.getClippedPathBoundingBox();this.contentVisible&&Et!==null&&(this.pendingEOFill?(xt.fill("evenodd"),this.pendingEOFill=!1):xt.fill()),St&&xt.restore(),$&&this.consumePath(Et)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const $=this.pendingTextPaths,xt=this.ctx;if($===void 0){xt.beginPath();return}xt.save(),xt.beginPath();for(const bt of $)xt.setTransform(...bt.transform),xt.translate(bt.x,bt.y),bt.addToPath(xt,bt.fontSize);xt.restore(),xt.clip(),xt.beginPath(),delete this.pendingTextPaths}setCharSpacing($){this.current.charSpacing=$}setWordSpacing($){this.current.wordSpacing=$}setHScale($){this.current.textHScale=$/100}setLeading($){this.current.leading=-$}setFont($,xt){var kt;const bt=this.commonObjs.get($),At=this.current;if(!bt)throw new Error(`Can't find font for ${$}`);if(At.fontMatrix=bt.fontMatrix||FONT_IDENTITY_MATRIX,(At.fontMatrix[0]===0||At.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+$),xt<0?(xt=-xt,At.fontDirection=-1):At.fontDirection=1,this.current.font=bt,this.current.fontSize=xt,bt.isType3Font)return;const St=bt.loadedName||"sans-serif",Et=((kt=bt.systemFontInfo)==null?void 0:kt.css)||`"${St}", ${bt.fallbackName}`;let Ct="normal";bt.black?Ct="900":bt.bold&&(Ct="bold");const Pt=bt.italic?"italic":"normal";let wt=xt;xt<MIN_FONT_SIZE?wt=MIN_FONT_SIZE:xt>MAX_FONT_SIZE&&(wt=MAX_FONT_SIZE),this.current.fontSizeScale=xt/wt,this.ctx.font=`${Pt} ${Ct} ${wt}px ${Et}`}setTextRenderingMode($){this.current.textRenderingMode=$}setTextRise($){this.current.textRise=$}moveText($,xt){this.current.x=this.current.lineX+=$,this.current.y=this.current.lineY+=xt}setLeadingMoveText($,xt){this.setLeading(-xt),this.moveText($,xt)}setTextMatrix($,xt,bt,At,St,Et){this.current.textMatrix=[$,xt,bt,At,St,Et],this.current.textMatrixScale=Math.hypot($,xt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar($,xt,bt,At){const St=this.ctx,Et=this.current,Ct=Et.font,Pt=Et.textRenderingMode,wt=Et.fontSize/Et.fontSizeScale,kt=Pt&TextRenderingMode.FILL_STROKE_MASK,Rt=!!(Pt&TextRenderingMode.ADD_TO_PATH_FLAG),ht=Et.patternFill&&!Ct.missingFile;let vt;(Ct.disableFontFace||Rt||ht)&&(vt=Ct.getPathGenerator(this.commonObjs,$)),Ct.disableFontFace||ht?(St.save(),St.translate(xt,bt),St.beginPath(),vt(St,wt),At&&St.setTransform(...At),(kt===TextRenderingMode.FILL||kt===TextRenderingMode.FILL_STROKE)&&St.fill(),(kt===TextRenderingMode.STROKE||kt===TextRenderingMode.FILL_STROKE)&&St.stroke(),St.restore()):((kt===TextRenderingMode.FILL||kt===TextRenderingMode.FILL_STROKE)&&St.fillText($,xt,bt),(kt===TextRenderingMode.STROKE||kt===TextRenderingMode.FILL_STROKE)&&St.strokeText($,xt,bt)),Rt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(St),x:xt,y:bt,fontSize:wt,addToPath:vt})}get isFontSubpixelAAEnabled(){const{context:$}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);$.scale(1.5,1),$.fillText("I",0,10);const xt=$.getImageData(0,0,10,10).data;let bt=!1;for(let At=3;At<xt.length;At+=4)if(xt[At]>0&&xt[At]<255){bt=!0;break}return shadow(this,"isFontSubpixelAAEnabled",bt)}showText($){const xt=this.current,bt=xt.font;if(bt.isType3Font)return this.showType3Text($);const At=xt.fontSize;if(At===0)return;const St=this.ctx,Et=xt.fontSizeScale,Ct=xt.charSpacing,Pt=xt.wordSpacing,wt=xt.fontDirection,kt=xt.textHScale*wt,Rt=$.length,ht=bt.vertical,vt=ht?1:-1,Ft=bt.defaultVMetrics,Ht=At*xt.fontMatrix[0],qt=xt.textRenderingMode===TextRenderingMode.FILL&&!bt.disableFontFace&&!xt.patternFill;St.save(),St.transform(...xt.textMatrix),St.translate(xt.x,xt.y+xt.textRise),wt>0?St.scale(kt,-1):St.scale(kt,1);let Nt;if(xt.patternFill){St.save();const Kt=xt.fillColor.getPattern(St,this,getCurrentTransformInverse(St),PathType.FILL);Nt=getCurrentTransform(St),St.restore(),St.fillStyle=Kt}let $t=xt.lineWidth;const Mt=xt.textMatrixScale;if(Mt===0||$t===0){const Kt=xt.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(Kt===TextRenderingMode.STROKE||Kt===TextRenderingMode.FILL_STROKE)&&($t=this.getSinglePixelWidth())}else $t/=Mt;if(Et!==1&&(St.scale(Et,Et),$t/=Et),St.lineWidth=$t,bt.isInvalidPDFjsFont){const Kt=[];let jt=0;for(const Gt of $)Kt.push(Gt.unicode),jt+=Gt.width;St.fillText(Kt.join(""),0,0),xt.x+=jt*Ht*kt,St.restore(),this.compose();return}let Bt=0,_t;for(_t=0;_t<Rt;++_t){const Kt=$[_t];if(typeof Kt=="number"){Bt+=vt*Kt*At/1e3;continue}let jt=!1;const Gt=(Kt.isSpace?Pt:0)+Ct,Qt=Kt.fontChar,ln=Kt.accent;let en,gn,tn=Kt.width;if(ht){const Xt=Kt.vmetric||Ft,Yt=-(Kt.vmetric?Xt[1]:tn*.5)*Ht,un=Xt[2]*Ht;tn=Xt?-Xt[0]:tn,en=Yt/Et,gn=(Bt+un)/Et}else en=Bt/Et,gn=0;if(bt.remeasure&&tn>0){const Xt=St.measureText(Qt).width*1e3/At*Et;if(tn<Xt&&this.isFontSubpixelAAEnabled){const Yt=tn/Xt;jt=!0,St.save(),St.scale(Yt,1),en/=Yt}else tn!==Xt&&(en+=(tn-Xt)/2e3*At/Et)}if(this.contentVisible&&(Kt.isInFont||bt.missingFile)){if(qt&&!ln)St.fillText(Qt,en,gn);else if(this.paintChar(Qt,en,gn,Nt),ln){const Xt=en+At*ln.offset.x/Et,Yt=gn-At*ln.offset.y/Et;this.paintChar(ln.fontChar,Xt,Yt,Nt)}}const bn=ht?tn*Ht-Gt*wt:tn*Ht+Gt*wt;Bt+=bn,jt&&St.restore()}ht?xt.y-=Bt:xt.x+=Bt*kt,St.restore(),this.compose()}showType3Text($){const xt=this.ctx,bt=this.current,At=bt.font,St=bt.fontSize,Et=bt.fontDirection,Ct=At.vertical?1:-1,Pt=bt.charSpacing,wt=bt.wordSpacing,kt=bt.textHScale*Et,Rt=bt.fontMatrix||FONT_IDENTITY_MATRIX,ht=$.length,vt=bt.textRenderingMode===TextRenderingMode.INVISIBLE;let Ft,Ht,qt,Nt;if(!(vt||St===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,xt.save(),xt.transform(...bt.textMatrix),xt.translate(bt.x,bt.y),xt.scale(kt,Et),Ft=0;Ft<ht;++Ft){if(Ht=$[Ft],typeof Ht=="number"){Nt=Ct*Ht*St/1e3,this.ctx.translate(Nt,0),bt.x+=Nt*kt;continue}const $t=(Ht.isSpace?wt:0)+Pt,Mt=At.charProcOperatorList[Ht.operatorListId];if(!Mt){warn(`Type3 character "${Ht.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ht,this.save(),xt.scale(St,St),xt.transform(...Rt),this.executeOperatorList(Mt),this.restore()),qt=Util.applyTransform([Ht.width,0],Rt)[0]*St+$t,xt.translate(qt,0),bt.x+=qt*kt}xt.restore(),this.processingType3=null}}setCharWidth($,xt){}setCharWidthAndBounds($,xt,bt,At,St,Et){this.ctx.rect(bt,At,St-bt,Et-At),this.ctx.clip(),this.endPath()}getColorN_Pattern($){let xt;if($[0]==="TilingPattern"){const bt=$[1],At=this.baseTransform||getCurrentTransform(this.ctx),St={createCanvasGraphics:Et=>new n3(Et,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};xt=new TilingPattern($,bt,this.ctx,St,At)}else xt=this._getPattern($[1],$[2]);return xt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor($,xt,bt){const At=Util.makeHexColor($,xt,bt);this.ctx.strokeStyle=At,this.current.strokeColor=At}setFillRGBColor($,xt,bt){const At=Util.makeHexColor($,xt,bt);this.ctx.fillStyle=At,this.current.fillColor=At,this.current.patternFill=!1}_getPattern($,xt=null){let bt;return this.cachedPatterns.has($)?bt=this.cachedPatterns.get($):(bt=getShadingPattern(this.getObject($)),this.cachedPatterns.set($,bt)),xt&&(bt.matrix=xt),bt}shadingFill($){if(!this.contentVisible)return;const xt=this.ctx;this.save();const bt=this._getPattern($);xt.fillStyle=bt.getPattern(xt,this,getCurrentTransformInverse(xt),PathType.SHADING);const At=getCurrentTransformInverse(xt);if(At){const{width:St,height:Et}=xt.canvas,[Ct,Pt,wt,kt]=Util.getAxialAlignedBoundingBox([0,0,St,Et],At);this.ctx.fillRect(Ct,Pt,wt-Ct,kt-Pt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin($,xt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),$&&this.transform(...$),this.baseTransform=getCurrentTransform(this.ctx),xt)){const bt=xt[2]-xt[0],At=xt[3]-xt[1];this.ctx.rect(xt[0],xt[1],bt,At),this.current.updateRectMinMax(getCurrentTransform(this.ctx),xt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup($){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const xt=this.ctx;$.isolated||info("TODO: Support non-isolated groups."),$.knockout&&warn("Knockout groups not supported.");const bt=getCurrentTransform(xt);if($.matrix&&xt.transform(...$.matrix),!$.bbox)throw new Error("Bounding box is required.");let At=Util.getAxialAlignedBoundingBox($.bbox,getCurrentTransform(xt));const St=[0,0,xt.canvas.width,xt.canvas.height];At=Util.intersect(At,St)||[0,0,0,0];const Et=Math.floor(At[0]),Ct=Math.floor(At[1]),Pt=Math.max(Math.ceil(At[2])-Et,1),wt=Math.max(Math.ceil(At[3])-Ct,1);this.current.startNewPathAndClipBox([0,0,Pt,wt]);let kt="groupAt"+this.groupLevel;$.smask&&(kt+="_smask_"+this.smaskCounter++%2);const Rt=this.cachedCanvases.getCanvas(kt,Pt,wt),ht=Rt.context;ht.translate(-Et,-Ct),ht.transform(...bt),$.smask?this.smaskStack.push({canvas:Rt.canvas,context:ht,offsetX:Et,offsetY:Ct,subtype:$.smask.subtype,backdrop:$.smask.backdrop,transferMap:$.smask.transferMap||null,startTransformInverse:null}):(xt.setTransform(1,0,0,1,0,0),xt.translate(Et,Ct),xt.save()),copyCtxState(xt,ht),this.ctx=ht,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(xt),this.groupLevel++}endGroup($){if(!this.contentVisible)return;this.groupLevel--;const xt=this.ctx,bt=this.groupStack.pop();if(this.ctx=bt,this.ctx.imageSmoothingEnabled=!1,$.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const At=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...At);const St=Util.getAxialAlignedBoundingBox([0,0,xt.canvas.width,xt.canvas.height],At);this.ctx.drawImage(xt.canvas,0,0),this.ctx.restore(),this.compose(St)}}beginAnnotation($,xt,bt,At,St){if(In(this,yu,Ly).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),xt){const Et=xt[2]-xt[0],Ct=xt[3]-xt[1];if(St&&this.annotationCanvasMap){bt=bt.slice(),bt[4]-=xt[0],bt[5]-=xt[1],xt=xt.slice(),xt[0]=xt[1]=0,xt[2]=Et,xt[3]=Ct;const[Pt,wt]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:kt}=this,Rt=Math.ceil(Et*this.outputScaleX*kt),ht=Math.ceil(Ct*this.outputScaleY*kt);this.annotationCanvas=this.canvasFactory.create(Rt,ht);const{canvas:vt,context:Ft}=this.annotationCanvas;this.annotationCanvasMap.set($,vt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ft,this.ctx.save(),this.ctx.setTransform(Pt,0,0,-wt,0,Ct*wt),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.ctx.rect(xt[0],xt[1],Et,Ct),this.ctx.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...bt),this.transform(...At)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),In(this,yu,Dy).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject($){if(!this.contentVisible)return;const xt=$.count;$=this.getObject($.data,$),$.count=xt;const bt=this.ctx,At=this.processingType3;if(At&&(At.compiled===void 0&&(At.compiled=compileType3Glyph($)),At.compiled)){At.compiled(bt);return}const St=this._createMaskCanvas($),Et=St.canvas;bt.save(),bt.setTransform(1,0,0,1,0,0),bt.drawImage(Et,St.offsetX,St.offsetY),bt.restore(),this.compose()}paintImageMaskXObjectRepeat($,xt,bt=0,At=0,St,Et){if(!this.contentVisible)return;$=this.getObject($.data,$);const Ct=this.ctx;Ct.save();const Pt=getCurrentTransform(Ct);Ct.transform(xt,bt,At,St,0,0);const wt=this._createMaskCanvas($);Ct.setTransform(1,0,0,1,wt.offsetX-Pt[4],wt.offsetY-Pt[5]);for(let kt=0,Rt=Et.length;kt<Rt;kt+=2){const ht=Util.transform(Pt,[xt,bt,At,St,Et[kt],Et[kt+1]]),[vt,Ft]=Util.applyTransform([0,0],ht);Ct.drawImage(wt.canvas,vt,Ft)}Ct.restore(),this.compose()}paintImageMaskXObjectGroup($){if(!this.contentVisible)return;const xt=this.ctx,bt=this.current.fillColor,At=this.current.patternFill;for(const St of $){const{data:Et,width:Ct,height:Pt,transform:wt}=St,kt=this.cachedCanvases.getCanvas("maskCanvas",Ct,Pt),Rt=kt.context;Rt.save();const ht=this.getObject(Et,St);putBinaryImageMask(Rt,ht),Rt.globalCompositeOperation="source-in",Rt.fillStyle=At?bt.getPattern(Rt,this,getCurrentTransformInverse(xt),PathType.FILL):bt,Rt.fillRect(0,0,Ct,Pt),Rt.restore(),xt.save(),xt.transform(...wt),xt.scale(1,-1),drawImageAtIntegerCoords(xt,kt.canvas,0,0,Ct,Pt,0,-1,1,1),xt.restore()}this.compose()}paintImageXObject($){if(!this.contentVisible)return;const xt=this.getObject($);if(!xt){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(xt)}paintImageXObjectRepeat($,xt,bt,At){if(!this.contentVisible)return;const St=this.getObject($);if(!St){warn("Dependent image isn't ready yet");return}const Et=St.width,Ct=St.height,Pt=[];for(let wt=0,kt=At.length;wt<kt;wt+=2)Pt.push({transform:[xt,0,0,bt,At[wt],At[wt+1]],x:0,y:0,w:Et,h:Ct});this.paintInlineImageXObjectGroup(St,Pt)}applyTransferMapsToCanvas($){return this.current.transferMaps!=="none"&&($.filter=this.current.transferMaps,$.drawImage($.canvas,0,0),$.filter="none"),$.canvas}applyTransferMapsToBitmap($){if(this.current.transferMaps==="none")return $.bitmap;const{bitmap:xt,width:bt,height:At}=$,St=this.cachedCanvases.getCanvas("inlineImage",bt,At),Et=St.context;return Et.filter=this.current.transferMaps,Et.drawImage(xt,0,0),Et.filter="none",St.canvas}paintInlineImageXObject($){if(!this.contentVisible)return;const xt=$.width,bt=$.height,At=this.ctx;if(this.save(),!isNodeJS){const{filter:Ct}=At;Ct!=="none"&&Ct!==""&&(At.filter="none")}At.scale(1/xt,-1/bt);let St;if($.bitmap)St=this.applyTransferMapsToBitmap($);else if(typeof HTMLElement=="function"&&$ instanceof HTMLElement||!$.data)St=$;else{const Pt=this.cachedCanvases.getCanvas("inlineImage",xt,bt).context;putBinaryImageData(Pt,$),St=this.applyTransferMapsToCanvas(Pt)}const Et=this._scaleImage(St,getCurrentTransformInverse(At));At.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(At),$.interpolate),drawImageAtIntegerCoords(At,Et.img,0,0,Et.paintWidth,Et.paintHeight,0,-bt,xt,bt),this.compose(),this.restore()}paintInlineImageXObjectGroup($,xt){if(!this.contentVisible)return;const bt=this.ctx;let At;if($.bitmap)At=$.bitmap;else{const St=$.width,Et=$.height,Pt=this.cachedCanvases.getCanvas("inlineImage",St,Et).context;putBinaryImageData(Pt,$),At=this.applyTransferMapsToCanvas(Pt)}for(const St of xt)bt.save(),bt.transform(...St.transform),bt.scale(1,-1),drawImageAtIntegerCoords(bt,At,St.x,St.y,St.w,St.h,0,-1,1,1),bt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint($){}markPointProps($,xt){}beginMarkedContent($){this.markedContentStack.push({visible:!0})}beginMarkedContentProps($,xt){$==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(xt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath($){const xt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose($);const bt=this.ctx;this.pendingClip&&(xt||(this.pendingClip===EO_CLIP?bt.clip("evenodd"):bt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),bt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const $=getCurrentTransform(this.ctx);if($[1]===0&&$[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs($[0]),Math.abs($[3]));else{const xt=Math.abs($[0]*$[3]-$[2]*$[1]),bt=Math.hypot($[0],$[2]),At=Math.hypot($[1],$[3]);this._cachedGetSinglePixelWidth=Math.max(bt,At)/xt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:$}=this.current,{a:xt,b:bt,c:At,d:St}=this.ctx.getTransform();let Et,Ct;if(bt===0&&At===0){const Pt=Math.abs(xt),wt=Math.abs(St);if(Pt===wt)if($===0)Et=Ct=1/Pt;else{const kt=Pt*$;Et=Ct=kt<1?1/kt:1}else if($===0)Et=1/Pt,Ct=1/wt;else{const kt=Pt*$,Rt=wt*$;Et=kt<1?1/kt:1,Ct=Rt<1?1/Rt:1}}else{const Pt=Math.abs(xt*St-bt*At),wt=Math.hypot(xt,bt),kt=Math.hypot(At,St);if($===0)Et=kt/Pt,Ct=wt/Pt;else{const Rt=$*Pt;Et=kt>Rt?kt/Rt:1,Ct=wt>Rt?wt/Rt:1}}this._cachedScaleForStroking[0]=Et,this._cachedScaleForStroking[1]=Ct}return this._cachedScaleForStroking}rescaleAndStroke($){const{ctx:xt}=this,{lineWidth:bt}=this.current,[At,St]=this.getScaleForStroking();if(xt.lineWidth=bt||1,At===1&&St===1){xt.stroke();return}const Et=xt.getLineDash();if($&&xt.save(),xt.scale(At,St),Et.length>0){const Ct=Math.max(At,St);xt.setLineDash(Et.map(Pt=>Pt/Ct)),xt.lineDashOffset/=Ct}xt.stroke(),$&&xt.restore()}isContentVisible(){for(let $=this.markedContentStack.length-1;$>=0;$--)if(!this.markedContentStack[$].visible)return!1;return!0}};yu=new WeakSet,Ly=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Dy=function(){if(this.pageColors){const $=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if($!=="none"){const xt=this.ctx.filter;this.ctx.filter=$,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=xt}}};let CanvasGraphics=n3;for(const _e in OPS)CanvasGraphics.prototype[_e]!==void 0&&(CanvasGraphics.prototype[OPS[_e]]=CanvasGraphics.prototype[_e]);var Wm,Gm;class GlobalWorkerOptions{static get workerPort(){return Ot(this,Wm)}static set workerPort($){if(!(typeof Worker<"u"&&$ instanceof Worker)&&$!==null)throw new Error("Invalid `workerPort` type.");$n(this,Wm,$)}static get workerSrc(){return Ot(this,Gm)}static set workerSrc($){if(typeof $!="string")throw new Error("Invalid `workerSrc` type.");$n(this,Gm,$)}}Wm=new WeakMap,Gm=new WeakMap,Nn(GlobalWorkerOptions,Wm,null),Nn(GlobalWorkerOptions,Gm,"");const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new AbortException(_e.message);case"MissingPDFException":return new MissingPDFException(_e.message);case"PasswordException":return new PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new UnknownErrorException(_e.message,_e.details);default:return new UnknownErrorException(_e.message,_e.toString())}}var l0,B3,j3,r2;class MessageHandler{constructor($,xt,bt){Nn(this,l0);this.sourceName=$,this.targetName=xt,this.comObj=bt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=At=>{const St=At.data;if(St.targetName!==this.sourceName)return;if(St.stream){In(this,l0,j3).call(this,St);return}if(St.callback){const Ct=St.callbackId,Pt=this.callbackCapabilities[Ct];if(!Pt)throw new Error(`Cannot resolve callback ${Ct}`);if(delete this.callbackCapabilities[Ct],St.callback===CallbackKind.DATA)Pt.resolve(St.data);else if(St.callback===CallbackKind.ERROR)Pt.reject(wrapReason(St.reason));else throw new Error("Unexpected callback case");return}const Et=this.actionHandler[St.action];if(!Et)throw new Error(`Unknown action from worker: ${St.action}`);if(St.callbackId){const Ct=this.sourceName,Pt=St.sourceName;new Promise(function(wt){wt(Et(St.data))}).then(function(wt){bt.postMessage({sourceName:Ct,targetName:Pt,callback:CallbackKind.DATA,callbackId:St.callbackId,data:wt})},function(wt){bt.postMessage({sourceName:Ct,targetName:Pt,callback:CallbackKind.ERROR,callbackId:St.callbackId,reason:wrapReason(wt)})});return}if(St.streamId){In(this,l0,B3).call(this,St);return}Et(St.data)},bt.addEventListener("message",this._onComObjOnMessage)}on($,xt){const bt=this.actionHandler;if(bt[$])throw new Error(`There is already an actionName called "${$}"`);bt[$]=xt}send($,xt,bt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,data:xt},bt)}sendWithPromise($,xt,bt){const At=this.callbackId++,St=Promise.withResolvers();this.callbackCapabilities[At]=St;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,callbackId:At,data:xt},bt)}catch(Et){St.reject(Et)}return St.promise}sendWithStream($,xt,bt,At){const St=this.streamId++,Et=this.sourceName,Ct=this.targetName,Pt=this.comObj;return new ReadableStream({start:wt=>{const kt=Promise.withResolvers();return this.streamControllers[St]={controller:wt,startCall:kt,pullCall:null,cancelCall:null,isClosed:!1},Pt.postMessage({sourceName:Et,targetName:Ct,action:$,streamId:St,data:xt,desiredSize:wt.desiredSize},At),kt.promise},pull:wt=>{const kt=Promise.withResolvers();return this.streamControllers[St].pullCall=kt,Pt.postMessage({sourceName:Et,targetName:Ct,stream:StreamKind.PULL,streamId:St,desiredSize:wt.desiredSize}),kt.promise},cancel:wt=>{assert(wt instanceof Error,"cancel must have a valid reason");const kt=Promise.withResolvers();return this.streamControllers[St].cancelCall=kt,this.streamControllers[St].isClosed=!0,Pt.postMessage({sourceName:Et,targetName:Ct,stream:StreamKind.CANCEL,streamId:St,reason:wrapReason(wt)}),kt.promise}},bt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}l0=new WeakSet,B3=function($){const xt=$.streamId,bt=this.sourceName,At=$.sourceName,St=this.comObj,Et=this,Ct=this.actionHandler[$.action],Pt={enqueue(wt,kt=1,Rt){if(this.isCancelled)return;const ht=this.desiredSize;this.desiredSize-=kt,ht>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),St.postMessage({sourceName:bt,targetName:At,stream:StreamKind.ENQUEUE,streamId:xt,chunk:wt},Rt)},close(){this.isCancelled||(this.isCancelled=!0,St.postMessage({sourceName:bt,targetName:At,stream:StreamKind.CLOSE,streamId:xt}),delete Et.streamSinks[xt])},error(wt){assert(wt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,St.postMessage({sourceName:bt,targetName:At,stream:StreamKind.ERROR,streamId:xt,reason:wrapReason(wt)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:$.desiredSize,ready:null};Pt.sinkCapability.resolve(),Pt.ready=Pt.sinkCapability.promise,this.streamSinks[xt]=Pt,new Promise(function(wt){wt(Ct($.data,Pt))}).then(function(){St.postMessage({sourceName:bt,targetName:At,stream:StreamKind.START_COMPLETE,streamId:xt,success:!0})},function(wt){St.postMessage({sourceName:bt,targetName:At,stream:StreamKind.START_COMPLETE,streamId:xt,reason:wrapReason(wt)})})},j3=function($){const xt=$.streamId,bt=this.sourceName,At=$.sourceName,St=this.comObj,Et=this.streamControllers[xt],Ct=this.streamSinks[xt];switch($.stream){case StreamKind.START_COMPLETE:$.success?Et.startCall.resolve():Et.startCall.reject(wrapReason($.reason));break;case StreamKind.PULL_COMPLETE:$.success?Et.pullCall.resolve():Et.pullCall.reject(wrapReason($.reason));break;case StreamKind.PULL:if(!Ct){St.postMessage({sourceName:bt,targetName:At,stream:StreamKind.PULL_COMPLETE,streamId:xt,success:!0});break}Ct.desiredSize<=0&&$.desiredSize>0&&Ct.sinkCapability.resolve(),Ct.desiredSize=$.desiredSize,new Promise(function(Pt){var wt;Pt((wt=Ct.onPull)==null?void 0:wt.call(Ct))}).then(function(){St.postMessage({sourceName:bt,targetName:At,stream:StreamKind.PULL_COMPLETE,streamId:xt,success:!0})},function(Pt){St.postMessage({sourceName:bt,targetName:At,stream:StreamKind.PULL_COMPLETE,streamId:xt,reason:wrapReason(Pt)})});break;case StreamKind.ENQUEUE:if(assert(Et,"enqueue should have stream controller"),Et.isClosed)break;Et.controller.enqueue($.chunk);break;case StreamKind.CLOSE:if(assert(Et,"close should have stream controller"),Et.isClosed)break;Et.isClosed=!0,Et.controller.close(),In(this,l0,r2).call(this,Et,xt);break;case StreamKind.ERROR:assert(Et,"error should have stream controller"),Et.controller.error(wrapReason($.reason)),In(this,l0,r2).call(this,Et,xt);break;case StreamKind.CANCEL_COMPLETE:$.success?Et.cancelCall.resolve():Et.cancelCall.reject(wrapReason($.reason)),In(this,l0,r2).call(this,Et,xt);break;case StreamKind.CANCEL:if(!Ct)break;new Promise(function(Pt){var wt;Pt((wt=Ct.onCancel)==null?void 0:wt.call(Ct,wrapReason($.reason)))}).then(function(){St.postMessage({sourceName:bt,targetName:At,stream:StreamKind.CANCEL_COMPLETE,streamId:xt,success:!0})},function(Pt){St.postMessage({sourceName:bt,targetName:At,stream:StreamKind.CANCEL_COMPLETE,streamId:xt,reason:wrapReason(Pt)})}),Ct.sinkCapability.reject(wrapReason($.reason)),Ct.isCancelled=!0,delete this.streamSinks[xt];break;default:throw new Error("Unexpected stream case")}},r2=async function($,xt){var bt,At,St;await Promise.allSettled([(bt=$.startCall)==null?void 0:bt.promise,(At=$.pullCall)==null?void 0:At.promise,(St=$.cancelCall)==null?void 0:St.promise]),delete this.streamControllers[xt]};var qu,qm;class Metadata{constructor({parsedData:$,rawData:xt}){Nn(this,qu);Nn(this,qm);$n(this,qu,$),$n(this,qm,xt)}getRaw(){return Ot(this,qm)}get($){return Ot(this,qu).get($)??null}getAll(){return objectFromMap(Ot(this,qu))}has($){return Ot(this,qu).has($)}}qu=new WeakMap,qm=new WeakMap;const INTERNAL=Symbol("INTERNAL");var Km,Ym,Zm,l1;class OptionalContentGroup{constructor($,{name:xt,intent:bt,usage:At}){Nn(this,Km,!1);Nn(this,Ym,!1);Nn(this,Zm,!1);Nn(this,l1,!0);$n(this,Km,!!($&RenderingIntentFlag.DISPLAY)),$n(this,Ym,!!($&RenderingIntentFlag.PRINT)),this.name=xt,this.intent=bt,this.usage=At}get visible(){if(Ot(this,Zm))return Ot(this,l1);if(!Ot(this,l1))return!1;const{print:$,view:xt}=this.usage;return Ot(this,Km)?(xt==null?void 0:xt.viewState)!=="OFF":Ot(this,Ym)?($==null?void 0:$.printState)!=="OFF":!0}_setVisible($,xt,bt=!1){$!==INTERNAL&&unreachable("Internal method `_setVisible` called."),$n(this,Zm,bt),$n(this,l1,xt)}}Km=new WeakMap,Ym=new WeakMap,Zm=new WeakMap,l1=new WeakMap;var nu,ga,c1,u1,Jm,Ny;class OptionalContentConfig{constructor($,xt=RenderingIntentFlag.DISPLAY){Nn(this,Jm);Nn(this,nu,null);Nn(this,ga,new Map);Nn(this,c1,null);Nn(this,u1,null);if(this.renderingIntent=xt,this.name=null,this.creator=null,$!==null){this.name=$.name,this.creator=$.creator,$n(this,u1,$.order);for(const bt of $.groups)Ot(this,ga).set(bt.id,new OptionalContentGroup(xt,bt));if($.baseState==="OFF")for(const bt of Ot(this,ga).values())bt._setVisible(INTERNAL,!1);for(const bt of $.on)Ot(this,ga).get(bt)._setVisible(INTERNAL,!0);for(const bt of $.off)Ot(this,ga).get(bt)._setVisible(INTERNAL,!1);$n(this,c1,this.getHash())}}isVisible($){if(Ot(this,ga).size===0)return!0;if(!$)return info("Optional content group not defined."),!0;if($.type==="OCG")return Ot(this,ga).has($.id)?Ot(this,ga).get($.id).visible:(warn(`Optional content group not found: ${$.id}`),!0);if($.type==="OCMD"){if($.expression)return In(this,Jm,Ny).call(this,$.expression);if(!$.policy||$.policy==="AnyOn"){for(const xt of $.ids){if(!Ot(this,ga).has(xt))return warn(`Optional content group not found: ${xt}`),!0;if(Ot(this,ga).get(xt).visible)return!0}return!1}else if($.policy==="AllOn"){for(const xt of $.ids){if(!Ot(this,ga).has(xt))return warn(`Optional content group not found: ${xt}`),!0;if(!Ot(this,ga).get(xt).visible)return!1}return!0}else if($.policy==="AnyOff"){for(const xt of $.ids){if(!Ot(this,ga).has(xt))return warn(`Optional content group not found: ${xt}`),!0;if(!Ot(this,ga).get(xt).visible)return!0}return!1}else if($.policy==="AllOff"){for(const xt of $.ids){if(!Ot(this,ga).has(xt))return warn(`Optional content group not found: ${xt}`),!0;if(Ot(this,ga).get(xt).visible)return!1}return!0}return warn(`Unknown optional content policy ${$.policy}.`),!0}return warn(`Unknown group type ${$.type}.`),!0}setVisibility($,xt=!0){const bt=Ot(this,ga).get($);if(!bt){warn(`Optional content group not found: ${$}`);return}bt._setVisible(INTERNAL,!!xt,!0),$n(this,nu,null)}setOCGState({state:$,preserveRB:xt}){let bt;for(const At of $){switch(At){case"ON":case"OFF":case"Toggle":bt=At;continue}const St=Ot(this,ga).get(At);if(St)switch(bt){case"ON":St._setVisible(INTERNAL,!0);break;case"OFF":St._setVisible(INTERNAL,!1);break;case"Toggle":St._setVisible(INTERNAL,!St.visible);break}}$n(this,nu,null)}get hasInitialVisibility(){return Ot(this,c1)===null||this.getHash()===Ot(this,c1)}getOrder(){return Ot(this,ga).size?Ot(this,u1)?Ot(this,u1).slice():[...Ot(this,ga).keys()]:null}getGroups(){return Ot(this,ga).size>0?objectFromMap(Ot(this,ga)):null}getGroup($){return Ot(this,ga).get($)||null}getHash(){if(Ot(this,nu)!==null)return Ot(this,nu);const $=new MurmurHash3_64;for(const[xt,bt]of Ot(this,ga))$.update(`${xt}:${bt.visible}`);return $n(this,nu,$.hexdigest())}}nu=new WeakMap,ga=new WeakMap,c1=new WeakMap,u1=new WeakMap,Jm=new WeakSet,Ny=function($){const xt=$.length;if(xt<2)return!0;const bt=$[0];for(let At=1;At<xt;At++){const St=$[At];let Et;if(Array.isArray(St))Et=In(this,Jm,Ny).call(this,St);else if(Ot(this,ga).has(St))Et=Ot(this,ga).get(St).visible;else return warn(`Optional content group not found: ${St}`),!0;switch(bt){case"And":if(!Et)return!1;break;case"Or":if(Et)return!0;break;case"Not":return!Et;default:return!0}}return bt==="And"};class PDFDataTransportStream{constructor($,{disableRange:xt=!1,disableStream:bt=!1}){assert($,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:At,initialData:St,progressiveDone:Et,contentDispositionFilename:Ct}=$;if(this._queuedChunks=[],this._progressiveDone=Et,this._contentDispositionFilename=Ct,(St==null?void 0:St.length)>0){const Pt=St instanceof Uint8Array&&St.byteLength===St.buffer.byteLength?St.buffer:new Uint8Array(St).buffer;this._queuedChunks.push(Pt)}this._pdfDataRangeTransport=$,this._isStreamingSupported=!bt,this._isRangeSupported=!xt,this._contentLength=At,this._fullRequestReader=null,this._rangeReaders=[],$.addRangeListener((Pt,wt)=>{this._onReceiveData({begin:Pt,chunk:wt})}),$.addProgressListener((Pt,wt)=>{this._onProgress({loaded:Pt,total:wt})}),$.addProgressiveReadListener(Pt=>{this._onReceiveData({chunk:Pt})}),$.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),$.transportReady()}_onReceiveData({begin:$,chunk:xt}){const bt=xt instanceof Uint8Array&&xt.byteLength===xt.buffer.byteLength?xt.buffer:new Uint8Array(xt).buffer;if($===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(bt):this._queuedChunks.push(bt);else{const At=this._rangeReaders.some(function(St){return St._begin!==$?!1:(St._enqueue(bt),!0)});assert(At,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}_onProgress($){var xt,bt,At,St;$.total===void 0?(bt=(xt=this._rangeReaders[0])==null?void 0:xt.onProgress)==null||bt.call(xt,{loaded:$.loaded}):(St=(At=this._fullRequestReader)==null?void 0:At.onProgress)==null||St.call(At,{loaded:$.loaded,total:$.total})}_onProgressiveDone(){var $;($=this._fullRequestReader)==null||$.progressiveDone(),this._progressiveDone=!0}_removeRangeReader($){const xt=this._rangeReaders.indexOf($);xt>=0&&this._rangeReaders.splice(xt,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const $=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,$,this._progressiveDone,this._contentDispositionFilename)}getRangeReader($,xt){if(xt<=this._progressiveDataLength)return null;const bt=new PDFDataTransportStreamRangeReader(this,$,xt);return this._pdfDataRangeTransport.requestDataRange($,xt),this._rangeReaders.push(bt),bt}cancelAllRequests($){var xt;(xt=this._fullRequestReader)==null||xt.cancel($);for(const bt of this._rangeReaders.slice(0))bt.cancel($);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor($,xt,bt=!1,At=null){this._stream=$,this._done=bt||!1,this._filename=isPdfFile(At)?At:null,this._queuedChunks=xt||[],this._loaded=0;for(const St of this._queuedChunks)this._loaded+=St.byteLength;this._requests=[],this._headersReady=Promise.resolve(),$._fullRequestReader=this,this.onProgress=null}_enqueue($){this._done||(this._requests.length>0?this._requests.shift().resolve({value:$,done:!1}):this._queuedChunks.push($),this._loaded+=$.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor($,xt,bt){this._stream=$,this._begin=xt,this._end=bt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue($){if(!this._done){if(this._requests.length===0)this._queuedChunk=$;else{this._requests.shift().resolve({value:$,done:!1});for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const xt=this._queuedChunk;return this._queuedChunk=null,{value:xt,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(_e){let $=!0,xt=bt("filename\\*","i").exec(_e);if(xt){xt=xt[1];let kt=Ct(xt);return kt=unescape(kt),kt=Pt(kt),kt=wt(kt),St(kt)}if(xt=Et(_e),xt){const kt=wt(xt);return St(kt)}if(xt=bt("filename","i").exec(_e),xt){xt=xt[1];let kt=Ct(xt);return kt=wt(kt),St(kt)}function bt(kt,Rt){return new RegExp("(?:^|;)\\s*"+kt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Rt)}function At(kt,Rt){if(kt){if(!/^[\x00-\xFF]+$/.test(Rt))return Rt;try{const ht=new TextDecoder(kt,{fatal:!0}),vt=stringToBytes(Rt);Rt=ht.decode(vt),$=!1}catch{}}return Rt}function St(kt){return $&&/[\x80-\xff]/.test(kt)&&(kt=At("utf-8",kt),$&&(kt=At("iso-8859-1",kt))),kt}function Et(kt){const Rt=[];let ht;const vt=bt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ht=vt.exec(kt))!==null;){let[,Ht,qt,Nt]=ht;if(Ht=parseInt(Ht,10),Ht in Rt){if(Ht===0)break;continue}Rt[Ht]=[qt,Nt]}const Ft=[];for(let Ht=0;Ht<Rt.length&&Ht in Rt;++Ht){let[qt,Nt]=Rt[Ht];Nt=Ct(Nt),qt&&(Nt=unescape(Nt),Ht===0&&(Nt=Pt(Nt))),Ft.push(Nt)}return Ft.join("")}function Ct(kt){if(kt.startsWith('"')){const Rt=kt.slice(1).split('\\"');for(let ht=0;ht<Rt.length;++ht){const vt=Rt[ht].indexOf('"');vt!==-1&&(Rt[ht]=Rt[ht].slice(0,vt),Rt.length=ht+1),Rt[ht]=Rt[ht].replaceAll(/\\(.)/g,"$1")}kt=Rt.join('"')}return kt}function Pt(kt){const Rt=kt.indexOf("'");if(Rt===-1)return kt;const ht=kt.slice(0,Rt),Ft=kt.slice(Rt+1).replace(/^[^']*'/,"");return At(ht,Ft)}function wt(kt){return!kt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(kt)?kt:kt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Rt,ht,vt,Ft){if(vt==="q"||vt==="Q")return Ft=Ft.replaceAll("_"," "),Ft=Ft.replaceAll(/=([0-9a-fA-F]{2})/g,function(Ht,qt){return String.fromCharCode(parseInt(qt,16))}),At(ht,Ft);try{Ft=atob(Ft)}catch{}return At(ht,Ft)})}return""}function validateRangeRequestCapabilities({getResponseHeader:_e,isHttp:$,rangeChunkSize:xt,disableRange:bt}){const At={allowRangeRequests:!1,suggestedLength:void 0},St=parseInt(_e("Content-Length"),10);return!Number.isInteger(St)||(At.suggestedLength=St,St<=2*xt)||bt||!$||_e("Accept-Ranges")!=="bytes"||(_e("Content-Encoding")||"identity")!=="identity"||(At.allowRangeRequests=!0),At}function extractFilenameFromHeader(_e){const $=_e("Content-Disposition");if($){let xt=getFilenameFromContentDispositionHeader($);if(xt.includes("%"))try{xt=decodeURIComponent(xt)}catch{}if(isPdfFile(xt))return xt}return null}function createResponseStatusError(_e,$){return _e===404||_e===0&&$.startsWith("file:")?new MissingPDFException('Missing PDF "'+$+'".'):new UnexpectedResponseException(`Unexpected server response (${_e}) while retrieving PDF "${$}".`,_e)}function validateResponseStatus(_e){return _e===200||_e===206}function createFetchOptions(_e,$,xt){return{method:"GET",headers:_e,signal:xt.signal,mode:"cors",credentials:$?"include":"same-origin",redirect:"follow"}}function createHeaders(_e){const $=new Headers;for(const xt in _e){const bt=_e[xt];bt!==void 0&&$.append(xt,bt)}return $}function getArrayBuffer(_e){return _e instanceof Uint8Array?_e.buffer:_e instanceof ArrayBuffer?_e:(warn(`getArrayBuffer - unexpected data format: ${_e}`),new Uint8Array(_e).buffer)}class PDFFetchStream{constructor($){this.source=$,this.isHttp=/^https?:/i.test($.url),this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader($,xt){if(xt<=this._progressiveDataLength)return null;const bt=new PDFFetchStreamRangeReader(this,$,xt);return this._rangeRequestReaders.push(bt),bt}cancelAllRequests($){var xt;(xt=this._fullRequestReader)==null||xt.cancel($);for(const bt of this._rangeRequestReaders.slice(0))bt.cancel($)}}class PDFFetchStreamReader{constructor($){this._stream=$,this._reader=null,this._loaded=0,this._filename=null;const xt=$.source;this._withCredentials=xt.withCredentials||!1,this._contentLength=xt.length,this._headersCapability=Promise.withResolvers(),this._disableRange=xt.disableRange||!1,this._rangeChunkSize=xt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!xt.disableStream,this._isRangeSupported=!xt.disableRange,this._headers=createHeaders(this._stream.httpHeaders);const bt=xt.url;fetch(bt,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(At=>{if(!validateResponseStatus(At.status))throw createResponseStatusError(At.status,bt);this._reader=At.body.getReader(),this._headersCapability.resolve();const St=Pt=>At.headers.get(Pt),{allowRangeRequests:Et,suggestedLength:Ct}=validateRangeRequestCapabilities({getResponseHeader:St,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Et,this._contentLength=Ct||this._contentLength,this._filename=extractFilenameFromHeader(St),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;await this._headersCapability.promise;const{value:$,done:xt}=await this._reader.read();return xt?{value:$,done:xt}:(this._loaded+=$.byteLength,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer($),done:!1})}cancel($){var xt;(xt=this._reader)==null||xt.cancel($),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor($,xt,bt){this._stream=$,this._reader=null,this._loaded=0;const At=$.source;this._withCredentials=At.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!At.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range",`bytes=${xt}-${bt-1}`);const St=At.url;fetch(St,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(Et=>{if(!validateResponseStatus(Et.status))throw createResponseStatusError(Et.status,St);this._readCapability.resolve(),this._reader=Et.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;await this._readCapability.promise;const{value:$,done:xt}=await this._reader.read();return xt?{value:$,done:xt}:(this._loaded+=$.byteLength,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded}),{value:getArrayBuffer($),done:!1})}cancel($){var xt;(xt=this._reader)==null||xt.cancel($),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(_e){const $=_e.response;return typeof $!="string"?$:stringToBytes($).buffer}class NetworkManager{constructor($,xt={}){this.url=$,this.isHttp=/^https?:/i.test($),this.httpHeaders=this.isHttp&&xt.httpHeaders||Object.create(null),this.withCredentials=xt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange($,xt,bt){const At={begin:$,end:xt};for(const St in bt)At[St]=bt[St];return this.request(At)}requestFull($){return this.request($)}request($){const xt=new XMLHttpRequest,bt=this.currXhrId++,At=this.pendingRequests[bt]={xhr:xt};xt.open("GET",this.url),xt.withCredentials=this.withCredentials;for(const St in this.httpHeaders){const Et=this.httpHeaders[St];Et!==void 0&&xt.setRequestHeader(St,Et)}return this.isHttp&&"begin"in $&&"end"in $?(xt.setRequestHeader("Range",`bytes=${$.begin}-${$.end-1}`),At.expectedStatus=PARTIAL_CONTENT_RESPONSE):At.expectedStatus=OK_RESPONSE,xt.responseType="arraybuffer",$.onError&&(xt.onerror=function(St){$.onError(xt.status)}),xt.onreadystatechange=this.onStateChange.bind(this,bt),xt.onprogress=this.onProgress.bind(this,bt),At.onHeadersReceived=$.onHeadersReceived,At.onDone=$.onDone,At.onError=$.onError,At.onProgress=$.onProgress,xt.send(null),bt}onProgress($,xt){var At;const bt=this.pendingRequests[$];bt&&((At=bt.onProgress)==null||At.call(bt,xt))}onStateChange($,xt){var Pt,wt,kt;const bt=this.pendingRequests[$];if(!bt)return;const At=bt.xhr;if(At.readyState>=2&&bt.onHeadersReceived&&(bt.onHeadersReceived(),delete bt.onHeadersReceived),At.readyState!==4||!($ in this.pendingRequests))return;if(delete this.pendingRequests[$],At.status===0&&this.isHttp){(Pt=bt.onError)==null||Pt.call(bt,At.status);return}const St=At.status||OK_RESPONSE;if(!(St===OK_RESPONSE&&bt.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&St!==bt.expectedStatus){(wt=bt.onError)==null||wt.call(bt,At.status);return}const Ct=network_getArrayBuffer(At);if(St===PARTIAL_CONTENT_RESPONSE){const Rt=At.getResponseHeader("Content-Range"),ht=/bytes (\d+)-(\d+)\/(\d+)/.exec(Rt);bt.onDone({begin:parseInt(ht[1],10),chunk:Ct})}else Ct?bt.onDone({begin:0,chunk:Ct}):(kt=bt.onError)==null||kt.call(bt,At.status)}getRequestXhr($){return this.pendingRequests[$].xhr}isPendingRequest($){return $ in this.pendingRequests}abortRequest($){const xt=this.pendingRequests[$].xhr;delete this.pendingRequests[$],xt.abort()}}class PDFNetworkStream{constructor($){this._source=$,this._manager=new NetworkManager($.url,{httpHeaders:$.httpHeaders,withCredentials:$.withCredentials}),this._rangeChunkSize=$.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed($){const xt=this._rangeRequestReaders.indexOf($);xt>=0&&this._rangeRequestReaders.splice(xt,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader($,xt){const bt=new PDFNetworkStreamRangeRequestReader(this._manager,$,xt);return bt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(bt),bt}cancelAllRequests($){var xt;(xt=this._fullRequestReader)==null||xt.cancel($);for(const bt of this._rangeRequestReaders.slice(0))bt.cancel($)}}class PDFNetworkStreamFullRequestReader{constructor($,xt){this._manager=$;const bt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=xt.url,this._fullRequestId=$.requestFull(bt),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=xt.disableRange||!1,this._contentLength=xt.length,this._rangeChunkSize=xt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const $=this._fullRequestId,xt=this._manager.getRequestXhr($),bt=Et=>xt.getResponseHeader(Et),{allowRangeRequests:At,suggestedLength:St}=validateRangeRequestCapabilities({getResponseHeader:bt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});At&&(this._isRangeSupported=!0),this._contentLength=St||this._contentLength,this._filename=extractFilenameFromHeader(bt),this._isRangeSupported&&this._manager.abortRequest($),this._headersReceivedCapability.resolve()}_onDone($){if($&&(this._requests.length>0?this._requests.shift().resolve({value:$.chunk,done:!1}):this._cachedChunks.push($.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError($){this._storedError=createResponseStatusError($,this._url),this._headersReceivedCapability.reject(this._storedError);for(const xt of this._requests)xt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress($){var xt;(xt=this.onProgress)==null||xt.call(this,{loaded:$.loaded,total:$.lengthComputable?$.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0,this._headersReceivedCapability.reject($);for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor($,xt,bt){this._manager=$;const At={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=$.url,this._requestId=$.requestRange(xt,bt,At),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var $;($=this.onClosed)==null||$.call(this,this)}_onDone($){const xt=$.chunk;this._requests.length>0?this._requests.shift().resolve({value:xt,done:!1}):this._queuedChunk=xt,this._done=!0;for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError($){this._storedError=createResponseStatusError($,this._url);for(const xt of this._requests)xt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress($){var xt;this.isStreamingSupported||(xt=this.onProgress)==null||xt.call(this,{loaded:$.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const xt=this._queuedChunk;return this._queuedChunk=null,{value:xt,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(_e){const $=NodePackages.get("url"),xt=$.parse(_e);return xt.protocol==="file:"||xt.host?xt:/^[a-z]:[/\\]/i.test(_e)?$.parse(`file:///${_e}`):(xt.host||(xt.protocol="file:"),xt)}class PDFNodeStream{constructor($){this.source=$,this.url=parseUrl($.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader($,xt){if(xt<=this._progressiveDataLength)return null;const bt=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,$,xt):new PDFNodeStreamRangeReader(this,$,xt);return this._rangeRequestReaders.push(bt),bt}cancelAllRequests($){var xt;(xt=this._fullRequestReader)==null||xt.cancel($);for(const bt of this._rangeRequestReaders.slice(0))bt.cancel($)}}class BaseFullReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null;const xt=$.source;this._contentLength=xt.length,this._loaded=0,this._filename=null,this._disableRange=xt.disableRange||!1,this._rangeChunkSize=xt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!xt.disableStream,this._isRangeSupported=!xt.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",xt=>{this._error(xt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const xt=$.source;this._isStreamingSupported=!xt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",xt=>{this._error(xt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(_e,$){return{protocol:_e.protocol,auth:_e.auth,host:_e.hostname,port:_e.port,path:_e.path,method:"GET",headers:$}}class PDFNodeStreamFullReader extends BaseFullReader{constructor($){super($);const xt=bt=>{if(bt.statusCode===404){const Ct=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ct,this._headersCapability.reject(Ct);return}this._headersCapability.resolve(),this._setReadableStream(bt);const At=Ct=>this._readableStream.headers[Ct.toLowerCase()],{allowRangeRequests:St,suggestedLength:Et}=validateRangeRequestCapabilities({getResponseHeader:At,isHttp:$.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=St,this._contentLength=Et||this._contentLength,this._filename=extractFilenameFromHeader(At)};if(this._request=null,this._url.protocol==="http:"){const bt=NodePackages.get("http");this._request=bt.request(createRequestOptions(this._url,$.httpHeaders),xt)}else{const bt=NodePackages.get("https");this._request=bt.request(createRequestOptions(this._url,$.httpHeaders),xt)}this._request.on("error",bt=>{this._storedError=bt,this._headersCapability.reject(bt)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor($,xt,bt){super($),this._httpHeaders={};for(const St in $.httpHeaders){const Et=$.httpHeaders[St];Et!==void 0&&(this._httpHeaders[St]=Et)}this._httpHeaders.Range=`bytes=${xt}-${bt-1}`;const At=St=>{if(St.statusCode===404){const Et=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Et;return}this._setReadableStream(St)};if(this._request=null,this._url.protocol==="http:"){const St=NodePackages.get("http");this._request=St.request(createRequestOptions(this._url,this._httpHeaders),At)}else{const St=NodePackages.get("https");this._request=St.request(createRequestOptions(this._url,this._httpHeaders),At)}this._request.on("error",St=>{this._storedError=St}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor($){super($);let xt=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(xt=xt.replace(/^\//,""));const bt=NodePackages.get("fs");bt.promises.lstat(xt).then(At=>{this._contentLength=At.size,this._setReadableStream(bt.createReadStream(xt)),this._headersCapability.resolve()},At=>{At.code==="ENOENT"&&(At=new MissingPDFException(`Missing PDF "${xt}".`)),this._storedError=At,this._headersCapability.reject(At)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor($,xt,bt){super($);let At=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(At=At.replace(/^\//,""));const St=NodePackages.get("fs");this._setReadableStream(St.createReadStream(At,{start:xt,end:bt-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var p3,iu,Ho,Qm,ex,Ku,E0,tx,nx,Yu,h1,d1,ru,f1,ix,p1,Zu,rx,sx,Ju,Qu,g1,U0,U3,H3,$y,xu,s2,V3;const _l=class _l{constructor({textContentSource:$,container:xt,viewport:bt}){Nn(this,U0);Nn(this,iu,Promise.withResolvers());Nn(this,Ho,null);Nn(this,Qm,!1);Nn(this,ex,!!((p3=globalThis.FontInspector)!=null&&p3.enabled));Nn(this,Ku,null);Nn(this,E0,null);Nn(this,tx,0);Nn(this,nx,0);Nn(this,Yu,null);Nn(this,h1,null);Nn(this,d1,0);Nn(this,ru,0);Nn(this,f1,Object.create(null));Nn(this,ix,[]);Nn(this,p1,null);Nn(this,Zu,[]);Nn(this,rx,new WeakMap);Nn(this,sx,null);if($ instanceof ReadableStream)$n(this,p1,$);else if(typeof $=="object")$n(this,p1,new ReadableStream({start(Pt){Pt.enqueue($),Pt.close()}}));else throw new Error('No "textContentSource" parameter specified.');$n(this,Ho,$n(this,h1,xt)),$n(this,ru,bt.scale*(globalThis.devicePixelRatio||1)),$n(this,d1,bt.rotation),$n(this,E0,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:At,pageHeight:St,pageX:Et,pageY:Ct}=bt.rawDims;$n(this,sx,[1,0,0,-1,-Et,Ct+St]),$n(this,nx,At),$n(this,tx,St),setLayerDimensions(xt,bt),Ot(this,iu).promise.catch(()=>{}).then(()=>{Ot(_l,g1).delete(this),$n(this,E0,null),$n(this,f1,null)})}render(){const $=()=>{Ot(this,Yu).read().then(({value:xt,done:bt})=>{if(bt){Ot(this,iu).resolve();return}Ot(this,Ku)??$n(this,Ku,xt.lang),Object.assign(Ot(this,f1),xt.styles),In(this,U0,U3).call(this,xt.items),$()},Ot(this,iu).reject)};return $n(this,Yu,Ot(this,p1).getReader()),Ot(_l,g1).add(this),$(),Ot(this,iu).promise}update({viewport:$,onBefore:xt=null}){var St;const bt=$.scale*(globalThis.devicePixelRatio||1),At=$.rotation;if(At!==Ot(this,d1)&&(xt==null||xt(),$n(this,d1,At),setLayerDimensions(Ot(this,h1),{rotation:At})),bt!==Ot(this,ru)){xt==null||xt(),$n(this,ru,bt);const Et={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:In(St=_l,xu,s2).call(St,Ot(this,Ku))};for(const Ct of Ot(this,Zu))Et.properties=Ot(this,rx).get(Ct),Et.div=Ct,In(this,U0,$y).call(this,Et)}}cancel(){var xt;const $=new AbortException("TextLayer task cancelled.");(xt=Ot(this,Yu))==null||xt.cancel($).catch(()=>{}),$n(this,Yu,null),Ot(this,iu).reject($)}get textDivs(){return Ot(this,Zu)}get textContentItemsStr(){return Ot(this,ix)}static cleanup(){if(!(Ot(this,g1).size>0)){Ot(this,Ju).clear();for(const{canvas:$}of Ot(this,Qu).values())$.remove();Ot(this,Qu).clear()}}};iu=new WeakMap,Ho=new WeakMap,Qm=new WeakMap,ex=new WeakMap,Ku=new WeakMap,E0=new WeakMap,tx=new WeakMap,nx=new WeakMap,Yu=new WeakMap,h1=new WeakMap,d1=new WeakMap,ru=new WeakMap,f1=new WeakMap,ix=new WeakMap,p1=new WeakMap,Zu=new WeakMap,rx=new WeakMap,sx=new WeakMap,Ju=new WeakMap,Qu=new WeakMap,g1=new WeakMap,U0=new WeakSet,U3=function($){var At,St;if(Ot(this,Qm))return;(St=Ot(this,E0)).ctx||(St.ctx=In(At=_l,xu,s2).call(At,Ot(this,Ku)));const xt=Ot(this,Zu),bt=Ot(this,ix);for(const Et of $){if(xt.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),$n(this,Qm,!0);return}if(Et.str===void 0){if(Et.type==="beginMarkedContentProps"||Et.type==="beginMarkedContent"){const Ct=Ot(this,Ho);$n(this,Ho,document.createElement("span")),Ot(this,Ho).classList.add("markedContent"),Et.id!==null&&Ot(this,Ho).setAttribute("id",`${Et.id}`),Ct.append(Ot(this,Ho))}else Et.type==="endMarkedContent"&&$n(this,Ho,Ot(this,Ho).parentNode);continue}bt.push(Et.str),In(this,U0,H3).call(this,Et)}},H3=function($){var Ht;const xt=document.createElement("span"),bt={angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,fontSize:0};Ot(this,Zu).push(xt);const At=Util.transform(Ot(this,sx),$.transform);let St=Math.atan2(At[1],At[0]);const Et=Ot(this,f1)[$.fontName];Et.vertical&&(St+=Math.PI/2);const Ct=Ot(this,ex)&&Et.fontSubstitution||Et.fontFamily,Pt=Math.hypot(At[2],At[3]),wt=Pt*In(Ht=_l,xu,V3).call(Ht,Ct,Ot(this,Ku));let kt,Rt;St===0?(kt=At[4],Rt=At[5]-wt):(kt=At[4]+wt*Math.sin(St),Rt=At[5]-wt*Math.cos(St));const ht="calc(var(--scale-factor)*",vt=xt.style;Ot(this,Ho)===Ot(this,h1)?(vt.left=`${(100*kt/Ot(this,nx)).toFixed(2)}%`,vt.top=`${(100*Rt/Ot(this,tx)).toFixed(2)}%`):(vt.left=`${ht}${kt.toFixed(2)}px)`,vt.top=`${ht}${Rt.toFixed(2)}px)`),vt.fontSize=`${ht}${Pt.toFixed(2)}px)`,vt.fontFamily=Ct,bt.fontSize=Pt,xt.setAttribute("role","presentation"),xt.textContent=$.str,xt.dir=$.dir,Ot(this,ex)&&(xt.dataset.fontName=Et.fontSubstitutionLoadedName||$.fontName),St!==0&&(bt.angle=St*(180/Math.PI));let Ft=!1;if($.str.length>1)Ft=!0;else if($.str!==" "&&$.transform[0]!==$.transform[3]){const qt=Math.abs($.transform[0]),Nt=Math.abs($.transform[3]);qt!==Nt&&Math.max(qt,Nt)/Math.min(qt,Nt)>1.5&&(Ft=!0)}if(Ft&&(bt.canvasWidth=Et.vertical?$.height:$.width),Ot(this,rx).set(xt,bt),Ot(this,E0).div=xt,Ot(this,E0).properties=bt,In(this,U0,$y).call(this,Ot(this,E0)),bt.hasText&&Ot(this,Ho).append(xt),bt.hasEOL){const qt=document.createElement("br");qt.setAttribute("role","presentation"),Ot(this,Ho).append(qt)}},$y=function($){const{div:xt,properties:bt,ctx:At,prevFontSize:St,prevFontFamily:Et}=$,{style:Ct}=xt;let Pt="";if(bt.canvasWidth!==0&&bt.hasText){const{fontFamily:wt}=Ct,{canvasWidth:kt,fontSize:Rt}=bt;(St!==Rt||Et!==wt)&&(At.font=`${Rt*Ot(this,ru)}px ${wt}`,$.prevFontSize=Rt,$.prevFontFamily=wt);const{width:ht}=At.measureText(xt.textContent);ht>0&&(Pt=`scaleX(${kt*Ot(this,ru)/ht})`)}bt.angle!==0&&(Pt=`rotate(${bt.angle}deg) ${Pt}`),Pt.length>0&&(Ct.transform=Pt)},xu=new WeakSet,s2=function($=null){let xt=Ot(this,Qu).get($||($=""));if(!xt){const bt=document.createElement("canvas");bt.className="hiddenCanvasElement",bt.lang=$,document.body.append(bt),xt=bt.getContext("2d",{alpha:!1}),Ot(this,Qu).set($,xt)}return xt},V3=function($,xt){const bt=Ot(this,Ju).get($);if(bt)return bt;const At=In(this,xu,s2).call(this,xt),St=At.font;At.canvas.width=At.canvas.height=DEFAULT_FONT_SIZE,At.font=`${DEFAULT_FONT_SIZE}px ${$}`;const Et=At.measureText("");let Ct=Et.fontBoundingBoxAscent,Pt=Math.abs(Et.fontBoundingBoxDescent);if(Ct){const Rt=Ct/(Ct+Pt);return Ot(this,Ju).set($,Rt),At.canvas.width=At.canvas.height=0,At.font=St,Rt}At.strokeStyle="red",At.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),At.strokeText("g",0,0);let wt=At.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;Pt=0;for(let Rt=wt.length-1-3;Rt>=0;Rt-=4)if(wt[Rt]>0){Pt=Math.ceil(Rt/4/DEFAULT_FONT_SIZE);break}At.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),At.strokeText("A",0,DEFAULT_FONT_SIZE),wt=At.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,Ct=0;for(let Rt=0,ht=wt.length;Rt<ht;Rt+=4)if(wt[Rt]>0){Ct=DEFAULT_FONT_SIZE-Math.floor(Rt/4/DEFAULT_FONT_SIZE);break}At.canvas.width=At.canvas.height=0,At.font=St;const kt=Ct?Ct/(Ct+Pt):DEFAULT_FONT_ASCENT;return Ot(this,Ju).set($,kt),kt},Nn(_l,xu),Nn(_l,Ju,new Map),Nn(_l,Qu,new Map),Nn(_l,g1,new Set);let TextLayer=_l;function renderTextLayer(){deprecated("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:_e,container:$,viewport:xt,...bt}=arguments[0],At=Object.keys(bt);At.length>0&&warn("Ignoring `renderTextLayer` parameters: "+At.join(", "));const St=new TextLayer({textContentSource:_e,container:$,viewport:xt}),{textDivs:Et,textContentItemsStr:Ct}=St;return{promise:St.render(),textDivs:Et,textContentItemsStr:Ct}}function updateTextLayer(){deprecated("`updateTextLayer`, please use `TextLayer` instead.")}class XfaText{static textContent($){const xt=[],bt={items:xt,styles:Object.create(null)};function At(St){var Pt;if(!St)return;let Et=null;const Ct=St.name;if(Ct==="#text")Et=St.value;else if(XfaText.shouldBuildText(Ct))(Pt=St==null?void 0:St.attributes)!=null&&Pt.textContent?Et=St.attributes.textContent:St.value&&(Et=St.value);else return;if(Et!==null&&xt.push({str:Et}),!!St.children)for(const wt of St.children)At(wt)}return At($),bt}static shouldBuildText($){return!($==="textarea"||$==="input"||$==="option"||$==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(_e){if(typeof _e=="string"||_e instanceof URL?_e={url:_e}:(_e instanceof ArrayBuffer||ArrayBuffer.isView(_e))&&(_e={data:_e}),typeof _e!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!_e.url&&!_e.data&&!_e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const $=new PDFDocumentLoadingTask,{docId:xt}=$,bt=_e.url?getUrlProp(_e.url):null,At=_e.data?getDataProp(_e.data):null,St=_e.httpHeaders||null,Et=_e.withCredentials===!0,Ct=_e.password??null,Pt=_e.range instanceof PDFDataRangeTransport?_e.range:null,wt=Number.isInteger(_e.rangeChunkSize)&&_e.rangeChunkSize>0?_e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let kt=_e.worker instanceof PDFWorker?_e.worker:null;const Rt=_e.verbosity,ht=typeof _e.docBaseUrl=="string"&&!isDataScheme(_e.docBaseUrl)?_e.docBaseUrl:null,vt=typeof _e.cMapUrl=="string"?_e.cMapUrl:null,Ft=_e.cMapPacked!==!1,Ht=_e.CMapReaderFactory||DefaultCMapReaderFactory,qt=typeof _e.standardFontDataUrl=="string"?_e.standardFontDataUrl:null,Nt=_e.StandardFontDataFactory||DefaultStandardFontDataFactory,$t=_e.stopAtErrors!==!0,Mt=Number.isInteger(_e.maxImageSize)&&_e.maxImageSize>-1?_e.maxImageSize:-1,Bt=_e.isEvalSupported!==!1,_t=typeof _e.isOffscreenCanvasSupported=="boolean"?_e.isOffscreenCanvasSupported:!isNodeJS,Kt=Number.isInteger(_e.canvasMaxAreaInBytes)?_e.canvasMaxAreaInBytes:-1,jt=typeof _e.disableFontFace=="boolean"?_e.disableFontFace:isNodeJS,Gt=_e.fontExtraProperties===!0,Qt=_e.enableXfa===!0,ln=_e.ownerDocument||globalThis.document,en=_e.disableRange===!0,gn=_e.disableStream===!0,tn=_e.disableAutoFetch===!0,bn=_e.pdfBug===!0,Xt=Pt?Pt.length:_e.length??NaN,Yt=typeof _e.useSystemFonts=="boolean"?_e.useSystemFonts:!isNodeJS&&!jt,un=typeof _e.useWorkerFetch=="boolean"?_e.useWorkerFetch:Ht===DOMCMapReaderFactory&&Nt===DOMStandardFontDataFactory&&vt&&qt&&isValidFetchUrl(vt,document.baseURI)&&isValidFetchUrl(qt,document.baseURI),Ut=_e.canvasFactory||new DefaultCanvasFactory({ownerDocument:ln}),Lt=_e.filterFactory||new DefaultFilterFactory({docId:xt,ownerDocument:ln}),Vt=null;setVerbosityLevel(Rt);const an={canvasFactory:Ut,filterFactory:Lt};if(un||(an.cMapReaderFactory=new Ht({baseUrl:vt,isCompressed:Ft}),an.standardFontDataFactory=new Nt({baseUrl:qt})),!kt){const nn={verbosity:Rt,port:GlobalWorkerOptions.workerPort};kt=nn.port?PDFWorker.fromPort(nn):new PDFWorker(nn),$._worker=kt}const zt={docId:xt,apiVersion:"4.3.136",data:At,password:Ct,disableAutoFetch:tn,rangeChunkSize:wt,length:Xt,docBaseUrl:ht,enableXfa:Qt,evaluatorOptions:{maxImageSize:Mt,disableFontFace:jt,ignoreErrors:$t,isEvalSupported:Bt,isOffscreenCanvasSupported:_t,canvasMaxAreaInBytes:Kt,fontExtraProperties:Gt,useSystemFonts:Yt,cMapUrl:un?vt:null,standardFontDataUrl:un?qt:null}},Wt={disableFontFace:jt,fontExtraProperties:Gt,ownerDocument:ln,pdfBug:bn,styleElement:Vt,loadingParams:{disableAutoFetch:tn,enableXfa:Qt}};return kt.promise.then(function(){if($.destroyed)throw new Error("Loading aborted");if(kt.destroyed)throw new Error("Worker was destroyed");const nn=kt.messageHandler.sendWithPromise("GetDocRequest",zt,At?[At.buffer]:null);let dn;return Pt?dn=new PDFDataTransportStream(Pt,{disableRange:en,disableStream:gn}):At||(dn=(hn=>isNodeJS?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&isValidFetchUrl(hn.url)?new PDFFetchStream(hn):new PDFNodeStream(hn):isValidFetchUrl(hn.url)?new PDFFetchStream(hn):new PDFNetworkStream(hn))({url:bt,length:Xt,httpHeaders:St,withCredentials:Et,rangeChunkSize:wt,disableRange:en,disableStream:gn})),nn.then(on=>{if($.destroyed)throw new Error("Loading aborted");if(kt.destroyed)throw new Error("Worker was destroyed");const hn=new MessageHandler(xt,on,kt.port),sn=new WorkerTransport(hn,$,dn,Wt,an);$._transport=sn,hn.send("Ready",null)})}).catch($._capability.reject),$}function getUrlProp(_e){if(_e instanceof URL)return _e.href;try{return new URL(_e,window.location).href}catch{if(isNodeJS&&typeof _e=="string")return _e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(_e){if(isNodeJS&&typeof Buffer<"u"&&_e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength)return _e;if(typeof _e=="string")return stringToBytes(_e);if(_e instanceof ArrayBuffer||ArrayBuffer.isView(_e)||typeof _e=="object"&&!isNaN(_e==null?void 0:_e.length))return new Uint8Array(_e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(_e){return typeof _e=="object"&&Number.isInteger(_e==null?void 0:_e.num)&&_e.num>=0&&Number.isInteger(_e==null?void 0:_e.gen)&&_e.gen>=0}var Q2;const ey=class ey{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${So(ey,Q2)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var $,xt,bt;this.destroyed=!0;try{($=this._worker)!=null&&$.port&&(this._worker._pendingDestroy=!0),await((xt=this._transport)==null?void 0:xt.destroy())}catch(At){throw(bt=this._worker)!=null&&bt.port&&delete this._worker._pendingDestroy,At}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Q2=new WeakMap,Nn(ey,Q2,0);let PDFDocumentLoadingTask=ey;class PDFDataRangeTransport{constructor($,xt,bt=!1,At=null){this.length=$,this.initialData=xt,this.progressiveDone=bt,this.contentDispositionFilename=At,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener($){this._rangeListeners.push($)}addProgressListener($){this._progressListeners.push($)}addProgressiveReadListener($){this._progressiveReadListeners.push($)}addProgressiveDoneListener($){this._progressiveDoneListeners.push($)}onDataRange($,xt){for(const bt of this._rangeListeners)bt($,xt)}onDataProgress($,xt){this._readyCapability.promise.then(()=>{for(const bt of this._progressListeners)bt($,xt)})}onDataProgressiveRead($){this._readyCapability.promise.then(()=>{for(const xt of this._progressiveReadListeners)xt($)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const $ of this._progressiveDoneListeners)$()})}transportReady(){this._readyCapability.resolve()}requestDataRange($,xt){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class PDFDocumentProxy{constructor($,xt){this._pdfInfo=$,this._transport=xt}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage($){return this._transport.getPage($)}getPageIndex($){return this._transport.getPageIndex($)}getDestinations(){return this._transport.getDestinations()}getDestination($){return this._transport.getDestination($)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:$="display"}={}){const{renderingIntent:xt}=this._transport.getRenderingIntent($);return this._transport.getOptionalContentConfig(xt)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup($=!1){return this._transport.startCleanup($||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber($){return this._transport.cachedPageNumber($)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var su,k0,Cl,$p,a2;class PDFPageProxy{constructor($,xt,bt,At=!1){Nn(this,Cl);Nn(this,su,null);Nn(this,k0,!1);this._pageIndex=$,this._pageInfo=xt,this._transport=bt,this._stats=At?new StatTimer:null,this._pdfBug=At,this.commonObjs=bt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:$,rotation:xt=this.rotate,offsetX:bt=0,offsetY:At=0,dontFlip:St=!1}={}){return new PageViewport({viewBox:this.view,scale:$,rotation:xt,offsetX:bt,offsetY:At,dontFlip:St})}getAnnotations({intent:$="display"}={}){const{renderingIntent:xt}=this._transport.getRenderingIntent($);return this._transport.getAnnotations(this._pageIndex,xt)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var $;return(($=this._transport._htmlForXfa)==null?void 0:$.children[this._pageIndex])||null}render({canvasContext:$,viewport:xt,intent:bt="display",annotationMode:At=AnnotationMode.ENABLE,transform:St=null,background:Et=null,optionalContentConfigPromise:Ct=null,annotationCanvasMap:Pt=null,pageColors:wt=null,printAnnotationStorage:kt=null}){var Mt,Bt;(Mt=this._stats)==null||Mt.time("Overall");const Rt=this._transport.getRenderingIntent(bt,At,kt),{renderingIntent:ht,cacheKey:vt}=Rt;$n(this,k0,!1),In(this,Cl,a2).call(this),Ct||(Ct=this._transport.getOptionalContentConfig(ht));let Ft=this._intentStates.get(vt);Ft||(Ft=Object.create(null),this._intentStates.set(vt,Ft)),Ft.streamReaderCancelTimeout&&(clearTimeout(Ft.streamReaderCancelTimeout),Ft.streamReaderCancelTimeout=null);const Ht=!!(ht&RenderingIntentFlag.PRINT);Ft.displayReadyCapability||(Ft.displayReadyCapability=Promise.withResolvers(),Ft.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Bt=this._stats)==null||Bt.time("Page Request"),this._pumpOperatorList(Rt));const qt=_t=>{var Kt;Ft.renderTasks.delete(Nt),(this._maybeCleanupAfterRender||Ht)&&$n(this,k0,!0),In(this,Cl,$p).call(this,!Ht),_t?(Nt.capability.reject(_t),this._abortOperatorList({intentState:Ft,reason:_t instanceof Error?_t:new Error(_t)})):Nt.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Kt=globalThis.Stats)!=null&&Kt.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Nt=new InternalRenderTask({callback:qt,params:{canvasContext:$,viewport:xt,transform:St,background:Et},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Pt,operatorList:Ft.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Ht,pdfBug:this._pdfBug,pageColors:wt});(Ft.renderTasks||(Ft.renderTasks=new Set)).add(Nt);const $t=Nt.task;return Promise.all([Ft.displayReadyCapability.promise,Ct]).then(([_t,Kt])=>{var jt;if(this.destroyed){qt();return}if((jt=this._stats)==null||jt.time("Rendering"),!(Kt.renderingIntent&ht))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Nt.initializeGraphics({transparency:_t,optionalContentConfig:Kt}),Nt.operatorListChanged()}).catch(qt),$t}getOperatorList({intent:$="display",annotationMode:xt=AnnotationMode.ENABLE,printAnnotationStorage:bt=null}={}){var Pt;function At(){Et.operatorList.lastChunk&&(Et.opListReadCapability.resolve(Et.operatorList),Et.renderTasks.delete(Ct))}const St=this._transport.getRenderingIntent($,xt,bt,!0);let Et=this._intentStates.get(St.cacheKey);Et||(Et=Object.create(null),this._intentStates.set(St.cacheKey,Et));let Ct;return Et.opListReadCapability||(Ct=Object.create(null),Ct.operatorListChanged=At,Et.opListReadCapability=Promise.withResolvers(),(Et.renderTasks||(Et.renderTasks=new Set)).add(Ct),Et.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Pt=this._stats)==null||Pt.time("Page Request"),this._pumpOperatorList(St)),Et.opListReadCapability.promise}streamTextContent({includeMarkedContent:$=!1,disableNormalization:xt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:$===!0,disableNormalization:xt===!0},{highWaterMark:100,size(At){return At.items.length}})}getTextContent($={}){if(this._transport._htmlForXfa)return this.getXfa().then(bt=>XfaText.textContent(bt));const xt=this.streamTextContent($);return new Promise(function(bt,At){function St(){Et.read().then(function({value:Pt,done:wt}){if(wt){bt(Ct);return}Ct.lang??(Ct.lang=Pt.lang),Object.assign(Ct.styles,Pt.styles),Ct.items.push(...Pt.items),St()},At)}const Et=xt.getReader(),Ct={items:[],styles:Object.create(null),lang:null};St()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const $=[];for(const xt of this._intentStates.values())if(this._abortOperatorList({intentState:xt,reason:new Error("Page was destroyed."),force:!0}),!xt.opListReadCapability)for(const bt of xt.renderTasks)$.push(bt.completed),bt.cancel();return this.objs.clear(),$n(this,k0,!1),In(this,Cl,a2).call(this),Promise.all($)}cleanup($=!1){$n(this,k0,!0);const xt=In(this,Cl,$p).call(this,!1);return $&&xt&&this._stats&&(this._stats=new StatTimer),xt}_startRenderPage($,xt){var At,St;const bt=this._intentStates.get(xt);bt&&((At=this._stats)==null||At.timeEnd("Page Request"),(St=bt.displayReadyCapability)==null||St.resolve($))}_renderPageChunk($,xt){for(let bt=0,At=$.length;bt<At;bt++)xt.operatorList.fnArray.push($.fnArray[bt]),xt.operatorList.argsArray.push($.argsArray[bt]);xt.operatorList.lastChunk=$.lastChunk,xt.operatorList.separateAnnots=$.separateAnnots;for(const bt of xt.renderTasks)bt.operatorListChanged();$.lastChunk&&In(this,Cl,$p).call(this,!0)}_pumpOperatorList({renderingIntent:$,cacheKey:xt,annotationStorageSerializable:bt}){const{map:At,transfer:St}=bt,Ct=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:$,cacheKey:xt,annotationStorage:At},St).getReader(),Pt=this._intentStates.get(xt);Pt.streamReader=Ct;const wt=()=>{Ct.read().then(({value:kt,done:Rt})=>{if(Rt){Pt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(kt,Pt),wt())},kt=>{if(Pt.streamReader=null,!this._transport.destroyed){if(Pt.operatorList){Pt.operatorList.lastChunk=!0;for(const Rt of Pt.renderTasks)Rt.operatorListChanged();In(this,Cl,$p).call(this,!0)}if(Pt.displayReadyCapability)Pt.displayReadyCapability.reject(kt);else if(Pt.opListReadCapability)Pt.opListReadCapability.reject(kt);else throw kt}})};wt()}_abortOperatorList({intentState:$,reason:xt,force:bt=!1}){if($.streamReader){if($.streamReaderCancelTimeout&&(clearTimeout($.streamReaderCancelTimeout),$.streamReaderCancelTimeout=null),!bt){if($.renderTasks.size>0)return;if(xt instanceof RenderingCancelledException){let At=RENDERING_CANCELLED_TIMEOUT;xt.extraDelay>0&&xt.extraDelay<1e3&&(At+=xt.extraDelay),$.streamReaderCancelTimeout=setTimeout(()=>{$.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:$,reason:xt,force:!0})},At);return}}if($.streamReader.cancel(new AbortException(xt.message)).catch(()=>{}),$.streamReader=null,!this._transport.destroyed){for(const[At,St]of this._intentStates)if(St===$){this._intentStates.delete(At);break}this.cleanup()}}}get stats(){return this._stats}}su=new WeakMap,k0=new WeakMap,Cl=new WeakSet,$p=function($=!1){if(In(this,Cl,a2).call(this),!Ot(this,k0)||this.destroyed)return!1;if($)return $n(this,su,setTimeout(()=>{$n(this,su,null),In(this,Cl,$p).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:xt,operatorList:bt}of this._intentStates.values())if(xt.size>0||!bt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),$n(this,k0,!1),!0},a2=function(){Ot(this,su)&&(clearTimeout(Ot(this,su)),$n(this,su,null))};var _h,ty;class LoopbackPort{constructor(){Nn(this,_h,new Set);Nn(this,ty,Promise.resolve())}postMessage($,xt){const bt={data:structuredClone($,xt?{transfer:xt}:null)};Ot(this,ty).then(()=>{for(const At of Ot(this,_h))At.call(this,bt)})}addEventListener($,xt){Ot(this,_h).add(xt)}removeEventListener($,xt){Ot(this,_h).delete(xt)}terminate(){Ot(this,_h).clear()}}_h=new WeakMap,ty=new WeakMap;const PDFWorkerUtil={isWorkerDisabled:!1,fakeWorkerId:0};isNodeJS&&(PDFWorkerUtil.isWorkerDisabled=!0,GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),PDFWorkerUtil.isSameOrigin=function(_e,$){let xt;try{if(xt=new URL(_e),!xt.origin||xt.origin==="null")return!1}catch{return!1}const bt=new URL($,xt);return xt.origin===bt.origin},PDFWorkerUtil.createCDNWrapper=function(_e){const $=`await import("${_e}");`;return URL.createObjectURL(new Blob([$],{type:"text/javascript"}))};var _d,m1,o2;const Wo=class Wo{constructor({name:$=null,port:xt=null,verbosity:bt=getVerbosityLevel()}={}){var At;if(this.name=$,this.destroyed=!1,this.verbosity=bt,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,xt){if((At=Ot(Wo,_d))!=null&&At.has(xt))throw new Error("Cannot use more than one PDFWorker per port.");(Ot(Wo,_d)||$n(Wo,_d,new WeakMap)).set(xt,this),this._initializeFromPort(xt);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!Ot(Wo,m1,o2)){let{workerSrc:$}=Wo;try{PDFWorkerUtil.isSameOrigin(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const xt=new Worker($,{type:"module"}),bt=new MessageHandler("main","worker",xt),At=()=>{xt.removeEventListener("error",St),bt.destroy(),xt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},St=()=>{this._webWorker||At()};xt.addEventListener("error",St),bt.on("test",Ct=>{if(xt.removeEventListener("error",St),this.destroyed){At();return}Ct?(this._messageHandler=bt,this._port=xt,this._webWorker=xt,this._readyCapability.resolve(),bt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),bt.destroy(),xt.terminate())}),bt.on("ready",Ct=>{if(xt.removeEventListener("error",St),this.destroyed){At();return}try{Et()}catch{this._setupFakeWorker()}});const Et=()=>{const Ct=new Uint8Array;bt.send("test",Ct,[Ct.buffer])};Et();return}catch{info("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||(warn("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),Wo._setupFakeWorkerGlobal.then($=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const xt=new LoopbackPort;this._port=xt;const bt=`fake${PDFWorkerUtil.fakeWorkerId++}`,At=new MessageHandler(bt+"_worker",bt,xt);$.setup(At,xt);const St=new MessageHandler(bt,bt+"_worker",xt);this._messageHandler=St,this._readyCapability.resolve(),St.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){var $;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($=Ot(Wo,_d))==null||$.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){var bt;if(!($!=null&&$.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const xt=(bt=Ot(this,_d))==null?void 0:bt.get($.port);if(xt){if(xt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return xt}return new Wo($)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>Ot(this,m1,o2)?Ot(this,m1,o2):(await import(this.workerSrc)).WorkerMessageHandler)())}};_d=new WeakMap,m1=new WeakSet,o2=function(){var $;try{return(($=globalThis.pdfjsWorker)==null?void 0:$.WorkerMessageHandler)||null}catch{return null}},Nn(Wo,m1),Nn(Wo,_d);let PDFWorker=Wo;var T0,Ql,x1,b1,_c,_f,em;class WorkerTransport{constructor($,xt,bt,At,St){Nn(this,_f);Nn(this,T0,new Map);Nn(this,Ql,new Map);Nn(this,x1,new Map);Nn(this,b1,new Map);Nn(this,_c,null);this.messageHandler=$,this.loadingTask=xt,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:At.ownerDocument,styleElement:At.styleElement}),this.loadingParams=At.loadingParams,this._params=At,this.canvasFactory=St.canvasFactory,this.filterFactory=St.filterFactory,this.cMapReaderFactory=St.cMapReaderFactory,this.standardFontDataFactory=St.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=bt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent($,xt=AnnotationMode.ENABLE,bt=null,At=!1){let St=RenderingIntentFlag.DISPLAY,Et=SerializableEmpty;switch($){case"any":St=RenderingIntentFlag.ANY;break;case"display":break;case"print":St=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${$}`)}switch(xt){case AnnotationMode.DISABLE:St+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:St+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:St+=RenderingIntentFlag.ANNOTATIONS_STORAGE,Et=(St&RenderingIntentFlag.PRINT&&bt instanceof PrintAnnotationStorage?bt:this.annotationStorage).serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${xt}`)}return At&&(St+=RenderingIntentFlag.OPLIST),{renderingIntent:St,cacheKey:`${St}_${Et.hash}`,annotationStorageSerializable:Et}}destroy(){var bt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(bt=Ot(this,_c))==null||bt.reject(new Error("Worker was destroyed during onPassword callback"));const $=[];for(const At of Ot(this,Ql).values())$.push(At._destroy());Ot(this,Ql).clear(),Ot(this,x1).clear(),Ot(this,b1).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const xt=this.messageHandler.sendWithPromise("Terminate",null);return $.push(xt),Promise.all($).then(()=>{var At;this.commonObjs.clear(),this.fontLoader.clear(),Ot(this,T0).clear(),this.filterFactory.destroy(),TextLayer.cleanup(),(At=this._networkStream)==null||At.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:$,loadingTask:xt}=this;$.on("GetReader",(bt,At)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=St=>{this._lastProgress={loaded:St.loaded,total:St.total}},At.onPull=()=>{this._fullReader.read().then(function({value:St,done:Et}){if(Et){At.close();return}assert(St instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),At.enqueue(new Uint8Array(St),1,[St])}).catch(St=>{At.error(St)})},At.onCancel=St=>{this._fullReader.cancel(St),At.ready.catch(Et=>{if(!this.destroyed)throw Et})}}),$.on("ReaderHeadersReady",bt=>{const At=Promise.withResolvers(),St=this._fullReader;return St.headersReady.then(()=>{var Et;(!St.isStreamingSupported||!St.isRangeSupported)&&(this._lastProgress&&((Et=xt.onProgress)==null||Et.call(xt,this._lastProgress)),St.onProgress=Ct=>{var Pt;(Pt=xt.onProgress)==null||Pt.call(xt,{loaded:Ct.loaded,total:Ct.total})}),At.resolve({isStreamingSupported:St.isStreamingSupported,isRangeSupported:St.isRangeSupported,contentLength:St.contentLength})},At.reject),At.promise}),$.on("GetRangeReader",(bt,At)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const St=this._networkStream.getRangeReader(bt.begin,bt.end);if(!St){At.close();return}At.onPull=()=>{St.read().then(function({value:Et,done:Ct}){if(Ct){At.close();return}assert(Et instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),At.enqueue(new Uint8Array(Et),1,[Et])}).catch(Et=>{At.error(Et)})},At.onCancel=Et=>{St.cancel(Et),At.ready.catch(Ct=>{if(!this.destroyed)throw Ct})}}),$.on("GetDoc",({pdfInfo:bt})=>{this._numPages=bt.numPages,this._htmlForXfa=bt.htmlForXfa,delete bt.htmlForXfa,xt._capability.resolve(new PDFDocumentProxy(bt,this))}),$.on("DocException",function(bt){let At;switch(bt.name){case"PasswordException":At=new PasswordException(bt.message,bt.code);break;case"InvalidPDFException":At=new InvalidPDFException(bt.message);break;case"MissingPDFException":At=new MissingPDFException(bt.message);break;case"UnexpectedResponseException":At=new UnexpectedResponseException(bt.message,bt.status);break;case"UnknownErrorException":At=new UnknownErrorException(bt.message,bt.details);break;default:unreachable("DocException - expected a valid Error.")}xt._capability.reject(At)}),$.on("PasswordRequest",bt=>{if($n(this,_c,Promise.withResolvers()),xt.onPassword){const At=St=>{St instanceof Error?Ot(this,_c).reject(St):Ot(this,_c).resolve({password:St})};try{xt.onPassword(At,bt.code)}catch(St){Ot(this,_c).reject(St)}}else Ot(this,_c).reject(new PasswordException(bt.message,bt.code));return Ot(this,_c).promise}),$.on("DataLoaded",bt=>{var At;(At=xt.onProgress)==null||At.call(xt,{loaded:bt.length,total:bt.length}),this.downloadInfoCapability.resolve(bt)}),$.on("StartRenderPage",bt=>{if(this.destroyed)return;Ot(this,Ql).get(bt.pageIndex)._startRenderPage(bt.transparency,bt.cacheKey)}),$.on("commonobj",([bt,At,St])=>{var Et;if(this.destroyed||this.commonObjs.has(bt))return null;switch(At){case"Font":const{disableFontFace:Ct,fontExtraProperties:Pt,pdfBug:wt}=this._params;if("error"in St){const vt=St.error;warn(`Error during font loading: ${vt}`),this.commonObjs.resolve(bt,vt);break}const kt=wt&&((Et=globalThis.FontInspector)!=null&&Et.enabled)?(vt,Ft)=>globalThis.FontInspector.fontAdded(vt,Ft):null,Rt=new FontFaceObject(St,{disableFontFace:Ct,inspectFont:kt});this.fontLoader.bind(Rt).catch(()=>$.sendWithPromise("FontFallback",{id:bt})).finally(()=>{!Pt&&Rt.data&&(Rt.data=null),this.commonObjs.resolve(bt,Rt)});break;case"CopyLocalImage":const{imageRef:ht}=St;assert(ht,"The imageRef must be defined.");for(const vt of Ot(this,Ql).values())for(const[,Ft]of vt.objs)if((Ft==null?void 0:Ft.ref)===ht)return Ft.dataLen?(this.commonObjs.resolve(bt,structuredClone(Ft)),Ft.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(bt,St);break;default:throw new Error(`Got unknown common object type ${At}`)}return null}),$.on("obj",([bt,At,St,Et])=>{var Pt;if(this.destroyed)return;const Ct=Ot(this,Ql).get(At);if(!Ct.objs.has(bt)){if(Ct._intentStates.size===0){(Pt=Et==null?void 0:Et.bitmap)==null||Pt.close();return}switch(St){case"Image":Ct.objs.resolve(bt,Et),(Et==null?void 0:Et.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(Ct._maybeCleanupAfterRender=!0);break;case"Pattern":Ct.objs.resolve(bt,Et);break;default:throw new Error(`Got unknown object type ${St}`)}}}),$.on("DocProgress",bt=>{var At;this.destroyed||(At=xt.onProgress)==null||At.call(xt,{loaded:bt.loaded,total:bt.total})}),$.on("FetchBuiltInCMap",bt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(bt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),$.on("FetchStandardFontData",bt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(bt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var bt;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:$,transfer:xt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:$,filename:((bt=this._fullReader)==null?void 0:bt.filename)??null},xt).finally(()=>{this.annotationStorage.resetModified()})}getPage($){if(!Number.isInteger($)||$<=0||$>this._numPages)return Promise.reject(new Error("Invalid page request."));const xt=$-1,bt=Ot(this,x1).get(xt);if(bt)return bt;const At=this.messageHandler.sendWithPromise("GetPage",{pageIndex:xt}).then(St=>{if(this.destroyed)throw new Error("Transport destroyed");St.refStr&&Ot(this,b1).set(St.refStr,$);const Et=new PDFPageProxy(xt,St,this,this._params.pdfBug);return Ot(this,Ql).set(xt,Et),Et});return Ot(this,x1).set(xt,At),At}getPageIndex($){return isRefProxy($)?this.messageHandler.sendWithPromise("GetPageIndex",{num:$.num,gen:$.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations($,xt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:$,intent:xt})}getFieldObjects(){return In(this,_f,em).call(this,"GetFieldObjects")}hasJSActions(){return In(this,_f,em).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination($){return typeof $!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:$})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return In(this,_f,em).call(this,"GetDocJSActions")}getPageJSActions($){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:$})}getStructTree($){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:$})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig($){return In(this,_f,em).call(this,"GetOptionalContentConfig").then(xt=>new OptionalContentConfig(xt,$))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const $="GetMetadata",xt=Ot(this,T0).get($);if(xt)return xt;const bt=this.messageHandler.sendWithPromise($,null).then(At=>{var St,Et;return{info:At[0],metadata:At[1]?new Metadata(At[1]):null,contentDispositionFilename:((St=this._fullReader)==null?void 0:St.filename)??null,contentLength:((Et=this._fullReader)==null?void 0:Et.contentLength)??null}});return Ot(this,T0).set($,bt),bt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup($=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const xt of Ot(this,Ql).values())if(!xt.cleanup())throw new Error(`startCleanup: Page ${xt.pageNumber} is currently rendering.`);this.commonObjs.clear(),$||this.fontLoader.clear(),Ot(this,T0).clear(),this.filterFactory.destroy(!0),TextLayer.cleanup()}}cachedPageNumber($){if(!isRefProxy($))return null;const xt=$.gen===0?`${$.num}R`:`${$.num}R${$.gen}`;return Ot(this,b1).get(xt)??null}}T0=new WeakMap,Ql=new WeakMap,x1=new WeakMap,b1=new WeakMap,_c=new WeakMap,_f=new WeakSet,em=function($,xt=null){const bt=Ot(this,T0).get($);if(bt)return bt;const At=this.messageHandler.sendWithPromise($,xt);return Ot(this,T0).set($,At),At};const INITIAL_DATA=Symbol("INITIAL_DATA");var Ll,ax,By;class PDFObjects{constructor(){Nn(this,ax);Nn(this,Ll,Object.create(null))}get($,xt=null){if(xt){const At=In(this,ax,By).call(this,$);return At.promise.then(()=>xt(At.data)),null}const bt=Ot(this,Ll)[$];if(!bt||bt.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${$}.`);return bt.data}has($){const xt=Ot(this,Ll)[$];return!!xt&&xt.data!==INITIAL_DATA}resolve($,xt=null){const bt=In(this,ax,By).call(this,$);bt.data=xt,bt.resolve()}clear(){var $;for(const xt in Ot(this,Ll)){const{data:bt}=Ot(this,Ll)[xt];($=bt==null?void 0:bt.bitmap)==null||$.close()}$n(this,Ll,Object.create(null))}*[Symbol.iterator](){for(const $ in Ot(this,Ll)){const{data:xt}=Ot(this,Ll)[$];xt!==INITIAL_DATA&&(yield[$,xt])}}}Ll=new WeakMap,ax=new WeakSet,By=function($){var xt;return(xt=Ot(this,Ll))[$]||(xt[$]={...Promise.withResolvers(),data:INITIAL_DATA})};var au;class RenderTask{constructor($){Nn(this,au,null);$n(this,au,$),this.onContinue=null}get promise(){return Ot(this,au).capability.promise}cancel($=0){Ot(this,au).cancel(null,$)}get separateAnnots(){const{separateAnnots:$}=Ot(this,au).operatorList;if(!$)return!1;const{annotationCanvasMap:xt}=Ot(this,au);return $.form||$.canvas&&(xt==null?void 0:xt.size)>0}}au=new WeakMap;var ep;const Mu=class Mu{constructor({callback:$,params:xt,objs:bt,commonObjs:At,annotationCanvasMap:St,operatorList:Et,pageIndex:Ct,canvasFactory:Pt,filterFactory:wt,useRequestAnimationFrame:kt=!1,pdfBug:Rt=!1,pageColors:ht=null}){this.callback=$,this.params=xt,this.objs=bt,this.commonObjs=At,this.annotationCanvasMap=St,this.operatorListIdx=null,this.operatorList=Et,this._pageIndex=Ct,this.canvasFactory=Pt,this.filterFactory=wt,this._pdfBug=Rt,this.pageColors=ht,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=kt===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=xt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:$=!1,optionalContentConfig:xt}){var Ct,Pt;if(this.cancelled)return;if(this._canvas){if(Ot(Mu,ep).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ot(Mu,ep).add(this._canvas)}this._pdfBug&&((Ct=globalThis.StepperManager)!=null&&Ct.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:bt,viewport:At,transform:St,background:Et}=this.params;this.gfx=new CanvasGraphics(bt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:xt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:St,viewport:At,transparency:$,background:Et}),this.operatorListIdx=0,this.graphicsReady=!0,(Pt=this.graphicsReadyCallback)==null||Pt.call(this)}cancel($=null,xt=0){var bt;this.running=!1,this.cancelled=!0,(bt=this.gfx)==null||bt.endDrawing(),Ot(Mu,ep).delete(this._canvas),this.callback($||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,xt))}operatorListChanged(){var $;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}($=this.stepper)==null||$.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ot(Mu,ep).delete(this._canvas),this.callback())))}};ep=new WeakMap,Nn(Mu,ep,new WeakSet);let InternalRenderTask=Mu;const version="4.3.136",build="0cec64437";function makeColorComp(_e){return Math.floor(Math.max(0,Math.min(1,_e))*255).toString(16).padStart(2,"0")}function scaleAndClamp(_e){return Math.max(0,Math.min(255,255*_e))}class ColorConverters{static CMYK_G([$,xt,bt,At]){return["G",1-Math.min(1,.3*$+.59*bt+.11*xt+At)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_rgb([$]){return $=scaleAndClamp($),[$,$,$]}static G_HTML([$]){const xt=makeColorComp($);return`#${xt}${xt}${xt}`}static RGB_G([$,xt,bt]){return["G",.3*$+.59*xt+.11*bt]}static RGB_rgb($){return $.map(scaleAndClamp)}static RGB_HTML($){return`#${$.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$,xt,bt,At]){return["RGB",1-Math.min(1,$+At),1-Math.min(1,bt+At),1-Math.min(1,xt+At)]}static CMYK_rgb([$,xt,bt,At]){return[scaleAndClamp(1-Math.min(1,$+At)),scaleAndClamp(1-Math.min(1,bt+At)),scaleAndClamp(1-Math.min(1,xt+At))]}static CMYK_HTML($){const xt=this.CMYK_RGB($).slice(1);return this.RGB_HTML(xt)}static RGB_CMYK([$,xt,bt]){const At=1-$,St=1-xt,Et=1-bt,Ct=Math.min(At,St,Et);return["CMYK",At,St,Et,Ct]}}class XfaLayer{static setupStorage($,xt,bt,At,St){const Et=At.getValue(xt,{value:null});switch(bt.name){case"textarea":if(Et.value!==null&&($.textContent=Et.value),St==="print")break;$.addEventListener("input",Ct=>{At.setValue(xt,{value:Ct.target.value})});break;case"input":if(bt.attributes.type==="radio"||bt.attributes.type==="checkbox"){if(Et.value===bt.attributes.xfaOn?$.setAttribute("checked",!0):Et.value===bt.attributes.xfaOff&&$.removeAttribute("checked"),St==="print")break;$.addEventListener("change",Ct=>{At.setValue(xt,{value:Ct.target.checked?Ct.target.getAttribute("xfaOn"):Ct.target.getAttribute("xfaOff")})})}else{if(Et.value!==null&&$.setAttribute("value",Et.value),St==="print")break;$.addEventListener("input",Ct=>{At.setValue(xt,{value:Ct.target.value})})}break;case"select":if(Et.value!==null){$.setAttribute("value",Et.value);for(const Ct of bt.children)Ct.attributes.value===Et.value?Ct.attributes.selected=!0:Ct.attributes.hasOwnProperty("selected")&&delete Ct.attributes.selected}$.addEventListener("input",Ct=>{const Pt=Ct.target.options,wt=Pt.selectedIndex===-1?"":Pt[Pt.selectedIndex].value;At.setValue(xt,{value:wt})});break}}static setAttributes({html:$,element:xt,storage:bt=null,intent:At,linkService:St}){const{attributes:Et}=xt,Ct=$ instanceof HTMLAnchorElement;Et.type==="radio"&&(Et.name=`${Et.name}-${At}`);for(const[Pt,wt]of Object.entries(Et))if(wt!=null)switch(Pt){case"class":wt.length&&$.setAttribute(Pt,wt.join(" "));break;case"dataId":break;case"id":$.setAttribute("data-element-id",wt);break;case"style":Object.assign($.style,wt);break;case"textContent":$.textContent=wt;break;default:(!Ct||Pt!=="href"&&Pt!=="newWindow")&&$.setAttribute(Pt,wt)}Ct&&St.addLinkAttributes($,Et.href,Et.newWindow),bt&&Et.dataId&&this.setupStorage($,Et.dataId,xt,bt)}static render($){var Rt,ht;const xt=$.annotationStorage,bt=$.linkService,At=$.xfaHtml,St=$.intent||"display",Et=document.createElement(At.name);At.attributes&&this.setAttributes({html:Et,element:At,intent:St,linkService:bt});const Ct=St!=="richText",Pt=$.div;if(Pt.append(Et),$.viewport){const vt=`matrix(${$.viewport.transform.join(",")})`;Pt.style.transform=vt}Ct&&Pt.setAttribute("class","xfaLayer xfaFont");const wt=[];if(At.children.length===0){if(At.value){const vt=document.createTextNode(At.value);Et.append(vt),Ct&&XfaText.shouldBuildText(At.name)&&wt.push(vt)}return{textDivs:wt}}const kt=[[At,-1,Et]];for(;kt.length>0;){const[vt,Ft,Ht]=kt.at(-1);if(Ft+1===vt.children.length){kt.pop();continue}const qt=vt.children[++kt.at(-1)[1]];if(qt===null)continue;const{name:Nt}=qt;if(Nt==="#text"){const Mt=document.createTextNode(qt.value);wt.push(Mt),Ht.append(Mt);continue}const $t=(Rt=qt==null?void 0:qt.attributes)!=null&&Rt.xmlns?document.createElementNS(qt.attributes.xmlns,Nt):document.createElement(Nt);if(Ht.append($t),qt.attributes&&this.setAttributes({html:$t,element:qt,storage:xt,intent:St,linkService:bt}),((ht=qt.children)==null?void 0:ht.length)>0)kt.push([qt,-1,$t]);else if(qt.value){const Mt=document.createTextNode(qt.value);Ct&&XfaText.shouldBuildText(Nt)&&wt.push(Mt),$t.append(Mt)}}for(const vt of Pt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))vt.setAttribute("readOnly",!0);return{textDivs:wt}}static update($){const xt=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=xt,$.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(_e){return{width:_e[2]-_e[0],height:_e[3]-_e[1]}}class AnnotationElementFactory{static create($){switch($.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement($);case AnnotationType.TEXT:return new TextAnnotationElement($);case AnnotationType.WIDGET:switch($.data.fieldType){case"Tx":return new TextWidgetAnnotationElement($);case"Btn":return $.data.radioButton?new RadioButtonWidgetAnnotationElement($):$.data.checkBox?new CheckboxWidgetAnnotationElement($):new PushButtonWidgetAnnotationElement($);case"Ch":return new ChoiceWidgetAnnotationElement($);case"Sig":return new SignatureWidgetAnnotationElement($)}return new WidgetAnnotationElement($);case AnnotationType.POPUP:return new PopupAnnotationElement($);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement($);case AnnotationType.LINE:return new LineAnnotationElement($);case AnnotationType.SQUARE:return new SquareAnnotationElement($);case AnnotationType.CIRCLE:return new CircleAnnotationElement($);case AnnotationType.POLYLINE:return new PolylineAnnotationElement($);case AnnotationType.CARET:return new CaretAnnotationElement($);case AnnotationType.INK:return new InkAnnotationElement($);case AnnotationType.POLYGON:return new PolygonAnnotationElement($);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement($);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement($);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement($);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement($);case AnnotationType.STAMP:return new StampAnnotationElement($);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement($);default:return new AnnotationElement($)}}}var tp,y1,v1,ox,jy;const i3=class i3{constructor($,{isRenderable:xt=!1,ignoreBorder:bt=!1,createQuadrilaterals:At=!1}={}){Nn(this,ox);Nn(this,tp,null);Nn(this,y1,!1);Nn(this,v1,null);this.isRenderable=xt,this.data=$.data,this.layer=$.layer,this.linkService=$.linkService,this.downloadManager=$.downloadManager,this.imageResourcesPath=$.imageResourcesPath,this.renderForms=$.renderForms,this.svgFactory=$.svgFactory,this.annotationStorage=$.annotationStorage,this.enableScripting=$.enableScripting,this.hasJSActions=$.hasJSActions,this._fieldObjects=$.fieldObjects,this.parent=$.parent,xt&&(this.container=this._createContainer(bt)),At&&this._createQuadrilaterals()}static _hasPopupData({titleObj:$,contentsObj:xt,richText:bt}){return!!($!=null&&$.str||xt!=null&&xt.str||bt!=null&&bt.str)}get hasPopupData(){return i3._hasPopupData(this.data)}updateEdited($){var bt;if(!this.container)return;Ot(this,tp)||$n(this,tp,{rect:this.data.rect.slice(0)});const{rect:xt}=$;xt&&In(this,ox,jy).call(this,xt),(bt=Ot(this,v1))==null||bt.popup.updateEdited($)}resetEdited(){var $;Ot(this,tp)&&(In(this,ox,jy).call(this,Ot(this,tp).rect),($=Ot(this,v1))==null||$.popup.resetEdited(),$n(this,tp,null))}_createContainer($){const{data:xt,parent:{page:bt,viewport:At}}=this,St=document.createElement("section");St.setAttribute("data-annotation-id",xt.id),this instanceof WidgetAnnotationElement||(St.tabIndex=DEFAULT_TAB_INDEX);const{style:Et}=St;if(Et.zIndex=this.parent.zIndex++,xt.popupRef&&St.setAttribute("aria-haspopup","dialog"),xt.alternativeText&&(St.title=xt.alternativeText),xt.noRotate&&St.classList.add("norotate"),!xt.rect||this instanceof PopupAnnotationElement){const{rotation:Ht}=xt;return!xt.hasOwnCanvas&&Ht!==0&&this.setRotation(Ht,St),St}const{width:Ct,height:Pt}=getRectDims(xt.rect);if(!$&&xt.borderStyle.width>0){Et.borderWidth=`${xt.borderStyle.width}px`;const Ht=xt.borderStyle.horizontalCornerRadius,qt=xt.borderStyle.verticalCornerRadius;if(Ht>0||qt>0){const $t=`calc(${Ht}px * var(--scale-factor)) / calc(${qt}px * var(--scale-factor))`;Et.borderRadius=$t}else if(this instanceof RadioButtonWidgetAnnotationElement){const $t=`calc(${Ct}px * var(--scale-factor)) / calc(${Pt}px * var(--scale-factor))`;Et.borderRadius=$t}switch(xt.borderStyle.style){case AnnotationBorderStyleType.SOLID:Et.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:Et.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:Et.borderBottomStyle="solid";break}const Nt=xt.borderColor||null;Nt?($n(this,y1,!0),Et.borderColor=Util.makeHexColor(Nt[0]|0,Nt[1]|0,Nt[2]|0)):Et.borderWidth=0}const wt=Util.normalizeRect([xt.rect[0],bt.view[3]-xt.rect[1]+bt.view[1],xt.rect[2],bt.view[3]-xt.rect[3]+bt.view[1]]),{pageWidth:kt,pageHeight:Rt,pageX:ht,pageY:vt}=At.rawDims;Et.left=`${100*(wt[0]-ht)/kt}%`,Et.top=`${100*(wt[1]-vt)/Rt}%`;const{rotation:Ft}=xt;return xt.hasOwnCanvas||Ft===0?(Et.width=`${100*Ct/kt}%`,Et.height=`${100*Pt/Rt}%`):this.setRotation(Ft,St),St}setRotation($,xt=this.container){if(!this.data.rect)return;const{pageWidth:bt,pageHeight:At}=this.parent.viewport.rawDims,{width:St,height:Et}=getRectDims(this.data.rect);let Ct,Pt;$%180===0?(Ct=100*St/bt,Pt=100*Et/At):(Ct=100*Et/bt,Pt=100*St/At),xt.style.width=`${Ct}%`,xt.style.height=`${Pt}%`,xt.setAttribute("data-main-rotation",(360-$)%360)}get _commonActions(){const $=(xt,bt,At)=>{const St=At.detail[xt],Et=St[0],Ct=St.slice(1);At.target.style[bt]=ColorConverters[`${Et}_HTML`](Ct),this.annotationStorage.setValue(this.data.id,{[bt]:ColorConverters[`${Et}_rgb`](Ct)})};return shadow(this,"_commonActions",{display:xt=>{const{display:bt}=xt.detail,At=bt%2===1;this.container.style.visibility=At?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:At,noPrint:bt===1||bt===2})},print:xt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!xt.detail.print})},hidden:xt=>{const{hidden:bt}=xt.detail;this.container.style.visibility=bt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:bt,noView:bt})},focus:xt=>{setTimeout(()=>xt.target.focus({preventScroll:!1}),0)},userName:xt=>{xt.target.title=xt.detail.userName},readonly:xt=>{xt.target.disabled=xt.detail.readonly},required:xt=>{this._setRequired(xt.target,xt.detail.required)},bgColor:xt=>{$("bgColor","backgroundColor",xt)},fillColor:xt=>{$("fillColor","backgroundColor",xt)},fgColor:xt=>{$("fgColor","color",xt)},textColor:xt=>{$("textColor","color",xt)},borderColor:xt=>{$("borderColor","borderColor",xt)},strokeColor:xt=>{$("strokeColor","borderColor",xt)},rotation:xt=>{const bt=xt.detail.rotation;this.setRotation(bt),this.annotationStorage.setValue(this.data.id,{rotation:bt})}})}_dispatchEventFromSandbox($,xt){const bt=this._commonActions;for(const At of Object.keys(xt.detail)){const St=$[At]||bt[At];St==null||St(xt)}}_setDefaultPropertiesFromJS($){if(!this.enableScripting)return;const xt=this.annotationStorage.getRawValue(this.data.id);if(!xt)return;const bt=this._commonActions;for(const[At,St]of Object.entries(xt)){const Et=bt[At];if(Et){const Ct={detail:{[At]:St},target:$};Et(Ct),delete xt[At]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:$}=this.data;if(!$)return;const[xt,bt,At,St]=this.data.rect;if($.length===1){const[,{x:Ht,y:qt},{x:Nt,y:$t}]=$[0];if(At===Ht&&St===qt&&xt===Nt&&bt===$t)return}const{style:Et}=this.container;let Ct;if(Ot(this,y1)){const{borderColor:Ht,borderWidth:qt}=Et;Et.borderWidth=0,Ct=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ht}" stroke-width="${qt}">`],this.container.classList.add("hasBorder")}const Pt=At-xt,wt=St-bt,{svgFactory:kt}=this,Rt=kt.createElement("svg");Rt.classList.add("quadrilateralsContainer"),Rt.setAttribute("width",0),Rt.setAttribute("height",0);const ht=kt.createElement("defs");Rt.append(ht);const vt=kt.createElement("clipPath"),Ft=`clippath_${this.data.id}`;vt.setAttribute("id",Ft),vt.setAttribute("clipPathUnits","objectBoundingBox"),ht.append(vt);for(const[,{x:Ht,y:qt},{x:Nt,y:$t}]of $){const Mt=kt.createElement("rect"),Bt=(Nt-xt)/Pt,_t=(St-qt)/wt,Kt=(Ht-Nt)/Pt,jt=(qt-$t)/wt;Mt.setAttribute("x",Bt),Mt.setAttribute("y",_t),Mt.setAttribute("width",Kt),Mt.setAttribute("height",jt),vt.append(Mt),Ct==null||Ct.push(`<rect vector-effect="non-scaling-stroke" x="${Bt}" y="${_t}" width="${Kt}" height="${jt}"/>`)}Ot(this,y1)&&(Ct.push("</g></svg>')"),Et.backgroundImage=Ct.join("")),this.container.append(Rt),this.container.style.clipPath=`url(#${Ft})`}_createPopup(){const{container:$,data:xt}=this;$.setAttribute("aria-haspopup","dialog");const bt=$n(this,v1,new PopupAnnotationElement({data:{color:xt.color,titleObj:xt.titleObj,modificationDate:xt.modificationDate,contentsObj:xt.contentsObj,richText:xt.richText,parentRect:xt.rect,borderStyle:0,id:`popup_${xt.id}`,rotation:xt.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(bt.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName($,xt=null){const bt=[];if(this._fieldObjects){const At=this._fieldObjects[$];if(At)for(const{page:St,id:Et,exportValues:Ct}of At){if(St===-1||Et===xt)continue;const Pt=typeof Ct=="string"?Ct:null,wt=document.querySelector(`[data-element-id="${Et}"]`);if(wt&&!GetElementsByNameSet.has(wt)){warn(`_getElementsByName - element not allowed: ${Et}`);continue}bt.push({id:Et,exportValue:Pt,domElement:wt})}return bt}for(const At of document.getElementsByName($)){const{exportValue:St}=At,Et=At.getAttribute("data-element-id");Et!==xt&&GetElementsByNameSet.has(At)&&bt.push({id:Et,exportValue:St,domElement:At})}return bt}show(){var $;this.container&&(this.container.hidden=!1),($=this.popup)==null||$.maybeShow()}hide(){var $;this.container&&(this.container.hidden=!0),($=this.popup)==null||$.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const $=this.getElementsToTriggerPopup();if(Array.isArray($))for(const xt of $)xt.classList.add("highlightArea");else $.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:$,data:{id:xt}}=this;this.container.addEventListener("dblclick",()=>{var bt;(bt=this.linkService.eventBus)==null||bt.dispatch("switchannotationeditormode",{source:this,mode:$,editId:xt})})}};tp=new WeakMap,y1=new WeakMap,v1=new WeakMap,ox=new WeakSet,jy=function($){const{container:{style:xt},data:{rect:bt,rotation:At},parent:{viewport:{rawDims:{pageWidth:St,pageHeight:Et,pageX:Ct,pageY:Pt}}}}=this;bt==null||bt.splice(0,4,...$);const{width:wt,height:kt}=getRectDims($);xt.left=`${100*($[0]-Ct)/St}%`,xt.top=`${100*(Et-$[3]+Pt)/Et}%`,At===0?(xt.width=`${100*wt/St}%`,xt.height=`${100*kt/Et}%`):this.setRotation(At)};let AnnotationElement=i3;var Qo,Tu,z3,X3;class LinkAnnotationElement extends AnnotationElement{constructor(xt,bt=null){super(xt,{isRenderable:!0,ignoreBorder:!!(bt!=null&&bt.ignoreBorder),createQuadrilaterals:!0});Nn(this,Qo);this.isTooltipOnly=xt.data.isTooltipOnly}render(){const{data:xt,linkService:bt}=this,At=document.createElement("a");At.setAttribute("data-element-id",xt.id);let St=!1;return xt.url?(bt.addLinkAttributes(At,xt.url,xt.newWindow),St=!0):xt.action?(this._bindNamedAction(At,xt.action),St=!0):xt.attachment?(In(this,Qo,z3).call(this,At,xt.attachment,xt.attachmentDest),St=!0):xt.setOCGState?(In(this,Qo,X3).call(this,At,xt.setOCGState),St=!0):xt.dest?(this._bindLink(At,xt.dest),St=!0):(xt.actions&&(xt.actions.Action||xt.actions["Mouse Up"]||xt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(At,xt),St=!0),xt.resetForm?(this._bindResetFormAction(At,xt.resetForm),St=!0):this.isTooltipOnly&&!St&&(this._bindLink(At,""),St=!0)),this.container.classList.add("linkAnnotation"),St&&this.container.append(At),this.container}_bindLink(xt,bt){xt.href=this.linkService.getDestinationHash(bt),xt.onclick=()=>(bt&&this.linkService.goToDestination(bt),!1),(bt||bt==="")&&In(this,Qo,Tu).call(this)}_bindNamedAction(xt,bt){xt.href=this.linkService.getAnchorUrl(""),xt.onclick=()=>(this.linkService.executeNamedAction(bt),!1),In(this,Qo,Tu).call(this)}_bindJSAction(xt,bt){xt.href=this.linkService.getAnchorUrl("");const At=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const St of Object.keys(bt.actions)){const Et=At.get(St);Et&&(xt[Et]=()=>{var Ct;return(Ct=this.linkService.eventBus)==null||Ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt.id,name:St}}),!1})}xt.onclick||(xt.onclick=()=>!1),In(this,Qo,Tu).call(this)}_bindResetFormAction(xt,bt){const At=xt.onclick;if(At||(xt.href=this.linkService.getAnchorUrl("")),In(this,Qo,Tu).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),At||(xt.onclick=()=>!1);return}xt.onclick=()=>{var Rt;At==null||At();const{fields:St,refs:Et,include:Ct}=bt,Pt=[];if(St.length!==0||Et.length!==0){const ht=new Set(Et);for(const vt of St){const Ft=this._fieldObjects[vt]||[];for(const{id:Ht}of Ft)ht.add(Ht)}for(const vt of Object.values(this._fieldObjects))for(const Ft of vt)ht.has(Ft.id)===Ct&&Pt.push(Ft)}else for(const ht of Object.values(this._fieldObjects))Pt.push(...ht);const wt=this.annotationStorage,kt=[];for(const ht of Pt){const{id:vt}=ht;switch(kt.push(vt),ht.type){case"text":{const Ht=ht.defaultValue||"";wt.setValue(vt,{value:Ht});break}case"checkbox":case"radiobutton":{const Ht=ht.defaultValue===ht.exportValues;wt.setValue(vt,{value:Ht});break}case"combobox":case"listbox":{const Ht=ht.defaultValue||"";wt.setValue(vt,{value:Ht});break}default:continue}const Ft=document.querySelector(`[data-element-id="${vt}"]`);if(Ft){if(!GetElementsByNameSet.has(Ft)){warn(`_bindResetFormAction - element not allowed: ${vt}`);continue}}else continue;Ft.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Rt=this.linkService.eventBus)==null||Rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:kt,name:"ResetForm"}})),!1}}}Qo=new WeakSet,Tu=function(){this.container.setAttribute("data-internal-link","")},z3=function(xt,bt,At=null){xt.href=this.linkService.getAnchorUrl(""),bt.description&&(xt.title=bt.description),xt.onclick=()=>{var St;return(St=this.downloadManager)==null||St.openOrDownloadData(bt.content,bt.filename,At),!1},In(this,Qo,Tu).call(this)},X3=function(xt,bt){xt.href=this.linkService.getAnchorUrl(""),xt.onclick=()=>(this.linkService.executeSetOCGState(bt),!1),In(this,Qo,Tu).call(this)};class TextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const $=document.createElement("img");return $.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",$.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),$.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append($),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas($){var xt;this.data.hasOwnCanvas&&(((xt=$.previousSibling)==null?void 0:xt.nodeName)==="CANVAS"&&($.previousSibling.hidden=!0),$.hidden=!1)}_getKeyModifier($){return util_FeatureTest.platform.isMac?$.metaKey:$.ctrlKey}_setEventListener($,xt,bt,At,St){bt.includes("mouse")?$.addEventListener(bt,Et=>{var Ct;(Ct=this.linkService.eventBus)==null||Ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:At,value:St(Et),shift:Et.shiftKey,modifier:this._getKeyModifier(Et)}})}):$.addEventListener(bt,Et=>{var Ct;if(bt==="blur"){if(!xt.focused||!Et.relatedTarget)return;xt.focused=!1}else if(bt==="focus"){if(xt.focused)return;xt.focused=!0}St&&((Ct=this.linkService.eventBus)==null||Ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:At,value:St(Et)}}))})}_setEventListeners($,xt,bt,At){var St,Et,Ct;for(const[Pt,wt]of bt)(wt==="Action"||(St=this.data.actions)!=null&&St[wt])&&((wt==="Focus"||wt==="Blur")&&(xt||(xt={focused:!1})),this._setEventListener($,xt,Pt,wt,At),wt==="Focus"&&!((Et=this.data.actions)!=null&&Et.Blur)?this._setEventListener($,xt,"blur","Blur",null):wt==="Blur"&&!((Ct=this.data.actions)!=null&&Ct.Focus)&&this._setEventListener($,xt,"focus","Focus",null))}_setBackgroundColor($){const xt=this.data.backgroundColor||null;$.style.backgroundColor=xt===null?"transparent":Util.makeHexColor(xt[0],xt[1],xt[2])}_setTextStyle($){const xt=["left","center","right"],{fontColor:bt}=this.data.defaultAppearanceData,At=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,St=$.style;let Et;const Ct=2,Pt=wt=>Math.round(10*wt)/10;if(this.data.multiLine){const wt=Math.abs(this.data.rect[3]-this.data.rect[1]-Ct),kt=Math.round(wt/(LINE_FACTOR*At))||1,Rt=wt/kt;Et=Math.min(At,Pt(Rt/LINE_FACTOR))}else{const wt=Math.abs(this.data.rect[3]-this.data.rect[1]-Ct);Et=Math.min(At,Pt(wt/LINE_FACTOR))}St.fontSize=`calc(${Et}px * var(--scale-factor))`,St.color=Util.makeHexColor(bt[0],bt[1],bt[2]),this.data.textAlignment!==null&&(St.textAlign=xt[this.data.textAlignment])}_setRequired($,xt){xt?$.setAttribute("required",!0):$.removeAttribute("required"),$.setAttribute("aria-required",xt)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){const xt=$.renderForms||$.data.hasOwnCanvas||!$.data.hasAppearance&&!!$.data.fieldValue;super($,{isRenderable:xt})}setPropertyOnSiblings($,xt,bt,At){const St=this.annotationStorage;for(const Et of this._getElementsByName($.name,$.id))Et.domElement&&(Et.domElement[xt]=bt),St.setValue(Et.id,{[At]:bt})}render(){var At,St;const $=this.annotationStorage,xt=this.data.id;this.container.classList.add("textWidgetAnnotation");let bt=null;if(this.renderForms){const Et=$.getValue(xt,{value:this.data.fieldValue});let Ct=Et.value||"";const Pt=$.getValue(xt,{charLimit:this.data.maxLen}).charLimit;Pt&&Ct.length>Pt&&(Ct=Ct.slice(0,Pt));let wt=Et.formattedValue||((At=this.data.textContent)==null?void 0:At.join(`
`))||null;wt&&this.data.comb&&(wt=wt.replaceAll(/\s+/g,""));const kt={userValue:Ct,formattedValue:wt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(bt=document.createElement("textarea"),bt.textContent=wt??Ct,this.data.doNotScroll&&(bt.style.overflowY="hidden")):(bt=document.createElement("input"),bt.type="text",bt.setAttribute("value",wt??Ct),this.data.doNotScroll&&(bt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(bt.hidden=!0),GetElementsByNameSet.add(bt),bt.setAttribute("data-element-id",xt),bt.disabled=this.data.readOnly,bt.name=this.data.fieldName,bt.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(bt,this.data.required),Pt&&(bt.maxLength=Pt),bt.addEventListener("input",ht=>{$.setValue(xt,{value:ht.target.value}),this.setPropertyOnSiblings(bt,"value",ht.target.value,"value"),kt.formattedValue=null}),bt.addEventListener("resetform",ht=>{const vt=this.data.defaultFieldValue??"";bt.value=kt.userValue=vt,kt.formattedValue=null});let Rt=ht=>{const{formattedValue:vt}=kt;vt!=null&&(ht.target.value=vt),ht.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){bt.addEventListener("focus",vt=>{var Ht;if(kt.focused)return;const{target:Ft}=vt;kt.userValue&&(Ft.value=kt.userValue),kt.lastCommittedValue=Ft.value,kt.commitKey=1,(Ht=this.data.actions)!=null&&Ht.Focus||(kt.focused=!0)}),bt.addEventListener("updatefromsandbox",vt=>{this.showElementAndHideCanvas(vt.target);const Ft={value(Ht){kt.userValue=Ht.detail.value??"",$.setValue(xt,{value:kt.userValue.toString()}),Ht.target.value=kt.userValue},formattedValue(Ht){const{formattedValue:qt}=Ht.detail;kt.formattedValue=qt,qt!=null&&Ht.target!==document.activeElement&&(Ht.target.value=qt),$.setValue(xt,{formattedValue:qt})},selRange(Ht){Ht.target.setSelectionRange(...Ht.detail.selRange)},charLimit:Ht=>{var Mt;const{charLimit:qt}=Ht.detail,{target:Nt}=Ht;if(qt===0){Nt.removeAttribute("maxLength");return}Nt.setAttribute("maxLength",qt);let $t=kt.userValue;!$t||$t.length<=qt||($t=$t.slice(0,qt),Nt.value=kt.userValue=$t,$.setValue(xt,{value:$t}),(Mt=this.linkService.eventBus)==null||Mt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xt,name:"Keystroke",value:$t,willCommit:!0,commitKey:1,selStart:Nt.selectionStart,selEnd:Nt.selectionEnd}}))}};this._dispatchEventFromSandbox(Ft,vt)}),bt.addEventListener("keydown",vt=>{var qt;kt.commitKey=1;let Ft=-1;if(vt.key==="Escape"?Ft=0:vt.key==="Enter"&&!this.data.multiLine?Ft=2:vt.key==="Tab"&&(kt.commitKey=3),Ft===-1)return;const{value:Ht}=vt.target;kt.lastCommittedValue!==Ht&&(kt.lastCommittedValue=Ht,kt.userValue=Ht,(qt=this.linkService.eventBus)==null||qt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xt,name:"Keystroke",value:Ht,willCommit:!0,commitKey:Ft,selStart:vt.target.selectionStart,selEnd:vt.target.selectionEnd}}))});const ht=Rt;Rt=null,bt.addEventListener("blur",vt=>{var Ht,qt;if(!kt.focused||!vt.relatedTarget)return;(Ht=this.data.actions)!=null&&Ht.Blur||(kt.focused=!1);const{value:Ft}=vt.target;kt.userValue=Ft,kt.lastCommittedValue!==Ft&&((qt=this.linkService.eventBus)==null||qt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xt,name:"Keystroke",value:Ft,willCommit:!0,commitKey:kt.commitKey,selStart:vt.target.selectionStart,selEnd:vt.target.selectionEnd}})),ht(vt)}),(St=this.data.actions)!=null&&St.Keystroke&&bt.addEventListener("beforeinput",vt=>{var _t;kt.lastCommittedValue=null;const{data:Ft,target:Ht}=vt,{value:qt,selectionStart:Nt,selectionEnd:$t}=Ht;let Mt=Nt,Bt=$t;switch(vt.inputType){case"deleteWordBackward":{const Kt=qt.substring(0,Nt).match(/\w*[^\w]*$/);Kt&&(Mt-=Kt[0].length);break}case"deleteWordForward":{const Kt=qt.substring(Nt).match(/^[^\w]*\w*/);Kt&&(Bt+=Kt[0].length);break}case"deleteContentBackward":Nt===$t&&(Mt-=1);break;case"deleteContentForward":Nt===$t&&(Bt+=1);break}vt.preventDefault(),(_t=this.linkService.eventBus)==null||_t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xt,name:"Keystroke",value:qt,change:Ft||"",willCommit:!1,selStart:Mt,selEnd:Bt}})}),this._setEventListeners(bt,kt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],vt=>vt.target.value)}if(Rt&&bt.addEventListener("blur",Rt),this.data.comb){const vt=(this.data.rect[2]-this.data.rect[0])/Pt;bt.classList.add("comb"),bt.style.letterSpacing=`calc(${vt}px * var(--scale-factor) - 1ch)`}}else bt=document.createElement("div"),bt.textContent=this.data.fieldValue,bt.style.verticalAlign="middle",bt.style.display="table-cell",this.data.hasOwnCanvas&&(bt.hidden=!0);return this._setTextStyle(bt),this._setBackgroundColor(bt),this._setDefaultPropertiesFromJS(bt),this.container.append(bt),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:!!$.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){const $=this.annotationStorage,xt=this.data,bt=xt.id;let At=$.getValue(bt,{value:xt.exportValue===xt.fieldValue}).value;typeof At=="string"&&(At=At!=="Off",$.setValue(bt,{value:At})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const St=document.createElement("input");return GetElementsByNameSet.add(St),St.setAttribute("data-element-id",bt),St.disabled=xt.readOnly,this._setRequired(St,this.data.required),St.type="checkbox",St.name=xt.fieldName,At&&St.setAttribute("checked",!0),St.setAttribute("exportValue",xt.exportValue),St.tabIndex=DEFAULT_TAB_INDEX,St.addEventListener("change",Et=>{const{name:Ct,checked:Pt}=Et.target;for(const wt of this._getElementsByName(Ct,bt)){const kt=Pt&&wt.exportValue===xt.exportValue;wt.domElement&&(wt.domElement.checked=kt),$.setValue(wt.id,{value:kt})}$.setValue(bt,{value:Pt})}),St.addEventListener("resetform",Et=>{const Ct=xt.defaultFieldValue||"Off";Et.target.checked=Ct===xt.exportValue}),this.enableScripting&&this.hasJSActions&&(St.addEventListener("updatefromsandbox",Et=>{const Ct={value(Pt){Pt.target.checked=Pt.detail.value!=="Off",$.setValue(bt,{value:Pt.target.checked})}};this._dispatchEventFromSandbox(Ct,Et)}),this._setEventListeners(St,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Et=>Et.target.checked)),this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const $=this.annotationStorage,xt=this.data,bt=xt.id;let At=$.getValue(bt,{value:xt.fieldValue===xt.buttonValue}).value;if(typeof At=="string"&&(At=At!==xt.buttonValue,$.setValue(bt,{value:At})),At)for(const Et of this._getElementsByName(xt.fieldName,bt))$.setValue(Et.id,{value:!1});const St=document.createElement("input");if(GetElementsByNameSet.add(St),St.setAttribute("data-element-id",bt),St.disabled=xt.readOnly,this._setRequired(St,this.data.required),St.type="radio",St.name=xt.fieldName,At&&St.setAttribute("checked",!0),St.tabIndex=DEFAULT_TAB_INDEX,St.addEventListener("change",Et=>{const{name:Ct,checked:Pt}=Et.target;for(const wt of this._getElementsByName(Ct,bt))$.setValue(wt.id,{value:!1});$.setValue(bt,{value:Pt})}),St.addEventListener("resetform",Et=>{const Ct=xt.defaultFieldValue;Et.target.checked=Ct!=null&&Ct===xt.buttonValue}),this.enableScripting&&this.hasJSActions){const Et=xt.buttonValue;St.addEventListener("updatefromsandbox",Ct=>{const Pt={value:wt=>{const kt=Et===wt.detail.value;for(const Rt of this._getElementsByName(wt.target.name)){const ht=kt&&Rt.id===bt;Rt.domElement&&(Rt.domElement.checked=ht),$.setValue(Rt.id,{value:ht})}}};this._dispatchEventFromSandbox(Pt,Ct)}),this._setEventListeners(St,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ct=>Ct.target.checked)}return this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor($){super($,{ignoreBorder:$.data.hasAppearance})}render(){const $=super.render();$.classList.add("buttonWidgetAnnotation","pushButton");const xt=$.lastChild;return this.enableScripting&&this.hasJSActions&&xt&&(this._setDefaultPropertiesFromJS(xt),xt.addEventListener("updatefromsandbox",bt=>{this._dispatchEventFromSandbox({},bt)})),$}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const $=this.annotationStorage,xt=this.data.id,bt=$.getValue(xt,{value:this.data.fieldValue}),At=document.createElement("select");GetElementsByNameSet.add(At),At.setAttribute("data-element-id",xt),At.disabled=this.data.readOnly,this._setRequired(At,this.data.required),At.name=this.data.fieldName,At.tabIndex=DEFAULT_TAB_INDEX;let St=this.data.combo&&this.data.options.length>0;this.data.combo||(At.size=this.data.options.length,this.data.multiSelect&&(At.multiple=!0)),At.addEventListener("resetform",kt=>{const Rt=this.data.defaultFieldValue;for(const ht of At.options)ht.selected=ht.value===Rt});for(const kt of this.data.options){const Rt=document.createElement("option");Rt.textContent=kt.displayValue,Rt.value=kt.exportValue,bt.value.includes(kt.exportValue)&&(Rt.setAttribute("selected",!0),St=!1),At.append(Rt)}let Et=null;if(St){const kt=document.createElement("option");kt.value=" ",kt.setAttribute("hidden",!0),kt.setAttribute("selected",!0),At.prepend(kt),Et=()=>{kt.remove(),At.removeEventListener("input",Et),Et=null},At.addEventListener("input",Et)}const Ct=kt=>{const Rt=kt?"value":"textContent",{options:ht,multiple:vt}=At;return vt?Array.prototype.filter.call(ht,Ft=>Ft.selected).map(Ft=>Ft[Rt]):ht.selectedIndex===-1?null:ht[ht.selectedIndex][Rt]};let Pt=Ct(!1);const wt=kt=>{const Rt=kt.target.options;return Array.prototype.map.call(Rt,ht=>({displayValue:ht.textContent,exportValue:ht.value}))};return this.enableScripting&&this.hasJSActions?(At.addEventListener("updatefromsandbox",kt=>{const Rt={value(ht){Et==null||Et();const vt=ht.detail.value,Ft=new Set(Array.isArray(vt)?vt:[vt]);for(const Ht of At.options)Ht.selected=Ft.has(Ht.value);$.setValue(xt,{value:Ct(!0)}),Pt=Ct(!1)},multipleSelection(ht){At.multiple=!0},remove(ht){const vt=At.options,Ft=ht.detail.remove;vt[Ft].selected=!1,At.remove(Ft),vt.length>0&&Array.prototype.findIndex.call(vt,qt=>qt.selected)===-1&&(vt[0].selected=!0),$.setValue(xt,{value:Ct(!0),items:wt(ht)}),Pt=Ct(!1)},clear(ht){for(;At.length!==0;)At.remove(0);$.setValue(xt,{value:null,items:[]}),Pt=Ct(!1)},insert(ht){const{index:vt,displayValue:Ft,exportValue:Ht}=ht.detail.insert,qt=At.children[vt],Nt=document.createElement("option");Nt.textContent=Ft,Nt.value=Ht,qt?qt.before(Nt):At.append(Nt),$.setValue(xt,{value:Ct(!0),items:wt(ht)}),Pt=Ct(!1)},items(ht){const{items:vt}=ht.detail;for(;At.length!==0;)At.remove(0);for(const Ft of vt){const{displayValue:Ht,exportValue:qt}=Ft,Nt=document.createElement("option");Nt.textContent=Ht,Nt.value=qt,At.append(Nt)}At.options.length>0&&(At.options[0].selected=!0),$.setValue(xt,{value:Ct(!0),items:wt(ht)}),Pt=Ct(!1)},indices(ht){const vt=new Set(ht.detail.indices);for(const Ft of ht.target.options)Ft.selected=vt.has(Ft.index);$.setValue(xt,{value:Ct(!0)}),Pt=Ct(!1)},editable(ht){ht.target.disabled=!ht.detail.editable}};this._dispatchEventFromSandbox(Rt,kt)}),At.addEventListener("input",kt=>{var vt;const Rt=Ct(!0),ht=Ct(!1);$.setValue(xt,{value:Rt}),kt.preventDefault(),(vt=this.linkService.eventBus)==null||vt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xt,name:"Keystroke",value:Pt,change:ht,changeEx:Rt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(At,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],kt=>kt.target.value)):At.addEventListener("input",function(kt){$.setValue(xt,{value:Ct(!0)})}),this.data.combo&&this._setTextStyle(At),this._setBackgroundColor(At),this._setDefaultPropertiesFromJS(At),this.container.append(At),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor($){const{data:xt,elements:bt}=$;super($,{isRenderable:AnnotationElement._hasPopupData(xt)}),this.elements=bt,this.popup=null}render(){this.container.classList.add("popupAnnotation");const $=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),xt=[];for(const bt of this.elements)bt.popup=$,xt.push(bt.data.id),bt.addHighlightArea();return this.container.setAttribute("aria-controls",xt.map(bt=>`${AnnotationPrefix}${bt}`).join(",")),this.container}}var w1,ny,iy,A1,np,ao,P0,ip,lx,cx,S1,_0,Dl,F0,ux,R0,hx,rp,sp,xa,l2,Uy,W3,G3,q3,K3,c2,u2,Hy;class PopupElement{constructor({container:$,color:xt,elements:bt,titleObj:At,modificationDate:St,contentsObj:Et,richText:Ct,parent:Pt,rect:wt,parentRect:kt,open:Rt}){Nn(this,xa);Nn(this,w1,In(this,xa,q3).bind(this));Nn(this,ny,In(this,xa,Hy).bind(this));Nn(this,iy,In(this,xa,u2).bind(this));Nn(this,A1,In(this,xa,c2).bind(this));Nn(this,np,null);Nn(this,ao,null);Nn(this,P0,null);Nn(this,ip,null);Nn(this,lx,null);Nn(this,cx,null);Nn(this,S1,null);Nn(this,_0,!1);Nn(this,Dl,null);Nn(this,F0,null);Nn(this,ux,null);Nn(this,R0,null);Nn(this,hx,null);Nn(this,rp,null);Nn(this,sp,!1);var ht;$n(this,ao,$),$n(this,hx,At),$n(this,P0,Et),$n(this,R0,Ct),$n(this,cx,Pt),$n(this,np,xt),$n(this,ux,wt),$n(this,S1,kt),$n(this,lx,bt),$n(this,ip,PDFDateString.toDateObject(St)),this.trigger=bt.flatMap(vt=>vt.getElementsToTriggerPopup());for(const vt of this.trigger)vt.addEventListener("click",Ot(this,A1)),vt.addEventListener("mouseenter",Ot(this,iy)),vt.addEventListener("mouseleave",Ot(this,ny)),vt.classList.add("popupTriggerArea");for(const vt of bt)(ht=vt.container)==null||ht.addEventListener("keydown",Ot(this,w1));Ot(this,ao).hidden=!0,Rt&&In(this,xa,c2).call(this)}render(){if(Ot(this,Dl))return;const $=$n(this,Dl,document.createElement("div"));if($.className="popup",Ot(this,np)){const St=$.style.outlineColor=Util.makeHexColor(...Ot(this,np));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$.style.backgroundColor=`color-mix(in srgb, ${St} 30%, white)`:$.style.backgroundColor=Util.makeHexColor(...Ot(this,np).map(Ct=>Math.floor(.7*(255-Ct)+Ct)))}const xt=document.createElement("span");xt.className="header";const bt=document.createElement("h1");if(xt.append(bt),{dir:bt.dir,str:bt.textContent}=Ot(this,hx),$.append(xt),Ot(this,ip)){const St=document.createElement("span");St.classList.add("popupDate"),St.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),St.setAttribute("data-l10n-args",JSON.stringify({date:Ot(this,ip).toLocaleDateString(),time:Ot(this,ip).toLocaleTimeString()})),xt.append(St)}const At=Ot(this,xa,l2);if(At)XfaLayer.render({xfaHtml:At,intent:"richText",div:$}),$.lastChild.classList.add("richText","popupContent");else{const St=this._formatContents(Ot(this,P0));$.append(St)}Ot(this,ao).append($)}_formatContents({str:$,dir:xt}){const bt=document.createElement("p");bt.classList.add("popupContent"),bt.dir=xt;const At=$.split(/(?:\r\n?|\n)/);for(let St=0,Et=At.length;St<Et;++St){const Ct=At[St];bt.append(document.createTextNode(Ct)),St<Et-1&&bt.append(document.createElement("br"))}return bt}updateEdited({rect:$,popupContent:xt}){var bt;Ot(this,rp)||$n(this,rp,{contentsObj:Ot(this,P0),richText:Ot(this,R0)}),$&&$n(this,F0,null),xt&&($n(this,R0,In(this,xa,G3).call(this,xt)),$n(this,P0,null)),(bt=Ot(this,Dl))==null||bt.remove(),$n(this,Dl,null)}resetEdited(){var $;Ot(this,rp)&&({contentsObj:So(this,P0)._,richText:So(this,R0)._}=Ot(this,rp),$n(this,rp,null),($=Ot(this,Dl))==null||$.remove(),$n(this,Dl,null),$n(this,F0,null))}forceHide(){$n(this,sp,this.isVisible),Ot(this,sp)&&(Ot(this,ao).hidden=!0)}maybeShow(){Ot(this,sp)&&(Ot(this,Dl)||In(this,xa,u2).call(this),$n(this,sp,!1),Ot(this,ao).hidden=!1)}get isVisible(){return Ot(this,ao).hidden===!1}}w1=new WeakMap,ny=new WeakMap,iy=new WeakMap,A1=new WeakMap,np=new WeakMap,ao=new WeakMap,P0=new WeakMap,ip=new WeakMap,lx=new WeakMap,cx=new WeakMap,S1=new WeakMap,_0=new WeakMap,Dl=new WeakMap,F0=new WeakMap,ux=new WeakMap,R0=new WeakMap,hx=new WeakMap,rp=new WeakMap,sp=new WeakMap,xa=new WeakSet,l2=function(){const $=Ot(this,R0),xt=Ot(this,P0);return $!=null&&$.str&&(!(xt!=null&&xt.str)||xt.str===$.str)&&Ot(this,R0).html||null},Uy=function(){var $,xt,bt;return((bt=(xt=($=Ot(this,xa,l2))==null?void 0:$.attributes)==null?void 0:xt.style)==null?void 0:bt.fontSize)||0},W3=function(){var $,xt,bt;return((bt=(xt=($=Ot(this,xa,l2))==null?void 0:$.attributes)==null?void 0:xt.style)==null?void 0:bt.color)||null},G3=function($){const xt=[],bt={str:$,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:xt}]}},At={style:{color:Ot(this,xa,W3),fontSize:Ot(this,xa,Uy)?`calc(${Ot(this,xa,Uy)}px * var(--scale-factor))`:""}};for(const St of $.split(`
`))xt.push({name:"span",value:St,attributes:At});return bt},q3=function($){$.altKey||$.shiftKey||$.ctrlKey||$.metaKey||($.key==="Enter"||$.key==="Escape"&&Ot(this,_0))&&In(this,xa,c2).call(this)},K3=function(){if(Ot(this,F0)!==null)return;const{page:{view:$},viewport:{rawDims:{pageWidth:xt,pageHeight:bt,pageX:At,pageY:St}}}=Ot(this,cx);let Et=!!Ot(this,S1),Ct=Et?Ot(this,S1):Ot(this,ux);for(const Ft of Ot(this,lx))if(!Ct||Util.intersect(Ft.data.rect,Ct)!==null){Ct=Ft.data.rect,Et=!0;break}const Pt=Util.normalizeRect([Ct[0],$[3]-Ct[1]+$[1],Ct[2],$[3]-Ct[3]+$[1]]),kt=Et?Ct[2]-Ct[0]+5:0,Rt=Pt[0]+kt,ht=Pt[1];$n(this,F0,[100*(Rt-At)/xt,100*(ht-St)/bt]);const{style:vt}=Ot(this,ao);vt.left=`${Ot(this,F0)[0]}%`,vt.top=`${Ot(this,F0)[1]}%`},c2=function(){$n(this,_0,!Ot(this,_0)),Ot(this,_0)?(In(this,xa,u2).call(this),Ot(this,ao).addEventListener("click",Ot(this,A1)),Ot(this,ao).addEventListener("keydown",Ot(this,w1))):(In(this,xa,Hy).call(this),Ot(this,ao).removeEventListener("click",Ot(this,A1)),Ot(this,ao).removeEventListener("keydown",Ot(this,w1)))},u2=function(){Ot(this,Dl)||this.render(),this.isVisible?Ot(this,_0)&&Ot(this,ao).classList.add("focused"):(In(this,xa,K3).call(this),Ot(this,ao).hidden=!1,Ot(this,ao).style.zIndex=parseInt(Ot(this,ao).style.zIndex)+1e3)},Hy=function(){Ot(this,ao).classList.remove("focused"),!(Ot(this,_0)||!this.isVisible)&&(Ot(this,ao).hidden=!0,Ot(this,ao).style.zIndex=parseInt(Ot(this,ao).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0}),this.textContent=$.data.textContent,this.textPosition=$.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const $=document.createElement("div");$.classList.add("annotationTextContent"),$.setAttribute("role","comment");for(const xt of this.textContent){const bt=document.createElement("span");bt.textContent=xt,$.append(bt)}this.container.append($)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var dx;class LineAnnotationElement extends AnnotationElement{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0});Nn(this,dx,null)}render(){this.container.classList.add("lineAnnotation");const xt=this.data,{width:bt,height:At}=getRectDims(xt.rect),St=this.svgFactory.create(bt,At,!0),Et=$n(this,dx,this.svgFactory.createElement("svg:line"));return Et.setAttribute("x1",xt.rect[2]-xt.lineCoordinates[0]),Et.setAttribute("y1",xt.rect[3]-xt.lineCoordinates[1]),Et.setAttribute("x2",xt.rect[2]-xt.lineCoordinates[2]),Et.setAttribute("y2",xt.rect[3]-xt.lineCoordinates[3]),Et.setAttribute("stroke-width",xt.borderStyle.width||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),St.append(Et),this.container.append(St),!xt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ot(this,dx)}addHighlightArea(){this.container.classList.add("highlightArea")}}dx=new WeakMap;var fx;class SquareAnnotationElement extends AnnotationElement{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0});Nn(this,fx,null)}render(){this.container.classList.add("squareAnnotation");const xt=this.data,{width:bt,height:At}=getRectDims(xt.rect),St=this.svgFactory.create(bt,At,!0),Et=xt.borderStyle.width,Ct=$n(this,fx,this.svgFactory.createElement("svg:rect"));return Ct.setAttribute("x",Et/2),Ct.setAttribute("y",Et/2),Ct.setAttribute("width",bt-Et),Ct.setAttribute("height",At-Et),Ct.setAttribute("stroke-width",Et||1),Ct.setAttribute("stroke","transparent"),Ct.setAttribute("fill","transparent"),St.append(Ct),this.container.append(St),!xt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ot(this,fx)}addHighlightArea(){this.container.classList.add("highlightArea")}}fx=new WeakMap;var gx;class CircleAnnotationElement extends AnnotationElement{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0});Nn(this,gx,null)}render(){this.container.classList.add("circleAnnotation");const xt=this.data,{width:bt,height:At}=getRectDims(xt.rect),St=this.svgFactory.create(bt,At,!0),Et=xt.borderStyle.width,Ct=$n(this,gx,this.svgFactory.createElement("svg:ellipse"));return Ct.setAttribute("cx",bt/2),Ct.setAttribute("cy",At/2),Ct.setAttribute("rx",bt/2-Et/2),Ct.setAttribute("ry",At/2-Et/2),Ct.setAttribute("stroke-width",Et||1),Ct.setAttribute("stroke","transparent"),Ct.setAttribute("fill","transparent"),St.append(Ct),this.container.append(St),!xt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ot(this,gx)}addHighlightArea(){this.container.classList.add("highlightArea")}}gx=new WeakMap;var mx;class PolylineAnnotationElement extends AnnotationElement{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0});Nn(this,mx,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const xt=this.data,{width:bt,height:At}=getRectDims(xt.rect),St=this.svgFactory.create(bt,At,!0);let Et=[];for(const Pt of xt.vertices){const wt=Pt.x-xt.rect[0],kt=xt.rect[3]-Pt.y;Et.push(wt+","+kt)}Et=Et.join(" ");const Ct=$n(this,mx,this.svgFactory.createElement(this.svgElementName));return Ct.setAttribute("points",Et),Ct.setAttribute("stroke-width",xt.borderStyle.width||1),Ct.setAttribute("stroke","transparent"),Ct.setAttribute("fill","transparent"),St.append(Ct),this.container.append(St),!xt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ot(this,mx)}addHighlightArea(){this.container.classList.add("highlightArea")}}mx=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor($){super($),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var xx;class InkAnnotationElement extends AnnotationElement{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0});Nn(this,xx,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const xt=this.data,{width:bt,height:At}=getRectDims(xt.rect),St=this.svgFactory.create(bt,At,!0);for(const Et of xt.inkLists){let Ct=[];for(const wt of Et){const kt=wt.x-xt.rect[0],Rt=xt.rect[3]-wt.y;Ct.push(`${kt},${Rt}`)}Ct=Ct.join(" ");const Pt=this.svgFactory.createElement(this.svgElementName);Ot(this,xx).push(Pt),Pt.setAttribute("points",Ct),Pt.setAttribute("stroke-width",xt.borderStyle.width||1),Pt.setAttribute("stroke","transparent"),Pt.setAttribute("fill","transparent"),!xt.popupRef&&this.hasPopupData&&this._createPopup(),St.append(Pt)}return this.container.append(St),this.container}getElementsToTriggerPopup(){return Ot(this,xx)}addHighlightArea(){this.container.classList.add("highlightArea")}}xx=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var bx,yx,Vy;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(xt){var At;super(xt,{isRenderable:!0});Nn(this,yx);Nn(this,bx,null);const{file:bt}=this.data;this.filename=bt.filename,this.content=bt.content,(At=this.linkService.eventBus)==null||At.dispatch("fileattachmentannotation",{source:this,...bt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:xt,data:bt}=this;let At;bt.hasAppearance||bt.fillAlpha===0?At=document.createElement("div"):(At=document.createElement("img"),At.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(bt.name)?"paperclip":"pushpin"}.svg`,bt.fillAlpha&&bt.fillAlpha<1&&(At.style=`filter: opacity(${Math.round(bt.fillAlpha*100)}%);`)),At.addEventListener("dblclick",In(this,yx,Vy).bind(this)),$n(this,bx,At);const{isMac:St}=util_FeatureTest.platform;return xt.addEventListener("keydown",Et=>{Et.key==="Enter"&&(St?Et.metaKey:Et.ctrlKey)&&In(this,yx,Vy).call(this)}),!bt.popupRef&&this.hasPopupData?this._createPopup():At.classList.add("popupTriggerArea"),xt.append(At),xt}getElementsToTriggerPopup(){return Ot(this,bx)}addHighlightArea(){this.container.classList.add("highlightArea")}}bx=new WeakMap,yx=new WeakSet,Vy=function(){var xt;(xt=this.downloadManager)==null||xt.openOrDownloadData(this.content,this.filename)};var vx,ap,C1,Ep,Y3,zy;class AnnotationLayer{constructor({div:$,accessibilityManager:xt,annotationCanvasMap:bt,annotationEditorUIManager:At,page:St,viewport:Et}){Nn(this,Ep);Nn(this,vx,null);Nn(this,ap,null);Nn(this,C1,new Map);this.div=$,$n(this,vx,xt),$n(this,ap,bt),this.page=St,this.viewport=Et,this.zIndex=0,this._annotationEditorUIManager=At}async render($){var Et;const{annotations:xt}=$,bt=this.div;setLayerDimensions(bt,this.viewport);const At=new Map,St={data:null,layer:bt,linkService:$.linkService,downloadManager:$.downloadManager,imageResourcesPath:$.imageResourcesPath||"",renderForms:$.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:$.annotationStorage||new AnnotationStorage,enableScripting:$.enableScripting===!0,hasJSActions:$.hasJSActions,fieldObjects:$.fieldObjects,parent:this,elements:null};for(const Ct of xt){if(Ct.noHTML)continue;const Pt=Ct.annotationType===AnnotationType.POPUP;if(Pt){const Rt=At.get(Ct.id);if(!Rt)continue;St.elements=Rt}else{const{width:Rt,height:ht}=getRectDims(Ct.rect);if(Rt<=0||ht<=0)continue}St.data=Ct;const wt=AnnotationElementFactory.create(St);if(!wt.isRenderable)continue;if(!Pt&&Ct.popupRef){const Rt=At.get(Ct.popupRef);Rt?Rt.push(wt):At.set(Ct.popupRef,[wt])}const kt=wt.render();Ct.hidden&&(kt.style.visibility="hidden"),In(this,Ep,Y3).call(this,kt,Ct.id),wt.annotationEditorType>0&&(Ot(this,C1).set(wt.data.id,wt),(Et=this._annotationEditorUIManager)==null||Et.renderAnnotationElement(wt))}In(this,Ep,zy).call(this)}update({viewport:$}){const xt=this.div;this.viewport=$,setLayerDimensions(xt,{rotation:$.rotation}),In(this,Ep,zy).call(this),xt.hidden=!1}getEditableAnnotations(){return Array.from(Ot(this,C1).values())}getEditableAnnotation($){return Ot(this,C1).get($)}}vx=new WeakMap,ap=new WeakMap,C1=new WeakMap,Ep=new WeakSet,Y3=function($,xt){var At;const bt=$.firstChild||$;bt.id=`${AnnotationPrefix}${xt}`,this.div.append($),(At=Ot(this,vx))==null||At.moveElementInDOM(this.div,$,bt,!1)},zy=function(){if(!Ot(this,ap))return;const $=this.div;for(const[xt,bt]of Ot(this,ap)){const At=$.querySelector(`[data-annotation-id="${xt}"]`);if(!At)continue;bt.className="annotationContent";const{firstChild:St}=At;St?St.nodeName==="CANVAS"?St.replaceWith(bt):St.classList.contains("annotationContent")?St.after(bt):St.before(bt):At.append(bt)}Ot(this,ap).clear()};const EOL_PATTERN=/\r\n?|\n/g;var wx,Ax,Sx,Cx,Ex,Nl,qo,kx,Ko,E1,uo,Z3,J3,Q3,h2,j0,d2,f2,ev,Xy,tv;const to=class to extends AnnotationEditor{constructor(xt){super({...xt,name:"freeTextEditor"});Nn(this,uo);Nn(this,wx,this.editorDivBlur.bind(this));Nn(this,Ax,this.editorDivFocus.bind(this));Nn(this,Sx,this.editorDivInput.bind(this));Nn(this,Cx,this.editorDivKeydown.bind(this));Nn(this,Ex,this.editorDivPaste.bind(this));Nn(this,Nl);Nn(this,qo,"");Nn(this,kx,`${this.id}-editor`);Nn(this,Ko);Nn(this,E1,null);$n(this,Nl,xt.color||to._defaultColor||AnnotationEditor._defaultLineColor),$n(this,Ko,xt.fontSize||to._defaultFontSize)}static get _keyboardManager(){const xt=to.prototype,bt=Et=>Et.isEmpty(),At=AnnotationEditorUIManager.TRANSLATE_SMALL,St=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],xt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],xt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],xt._translateEmpty,{args:[-At,0],checker:bt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],xt._translateEmpty,{args:[-St,0],checker:bt}],[["ArrowRight","mac+ArrowRight"],xt._translateEmpty,{args:[At,0],checker:bt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],xt._translateEmpty,{args:[St,0],checker:bt}],[["ArrowUp","mac+ArrowUp"],xt._translateEmpty,{args:[0,-At],checker:bt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],xt._translateEmpty,{args:[0,-St],checker:bt}],[["ArrowDown","mac+ArrowDown"],xt._translateEmpty,{args:[0,At],checker:bt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],xt._translateEmpty,{args:[0,St],checker:bt}]]))}static initialize(xt,bt){AnnotationEditor.initialize(xt,bt,{strings:["pdfjs-free-text-default-content"]});const At=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(At.getPropertyValue("--freetext-padding"))}static updateDefaultParams(xt,bt){switch(xt){case AnnotationEditorParamsType.FREETEXT_SIZE:to._defaultFontSize=bt;break;case AnnotationEditorParamsType.FREETEXT_COLOR:to._defaultColor=bt;break}}updateParams(xt,bt){switch(xt){case AnnotationEditorParamsType.FREETEXT_SIZE:In(this,uo,Z3).call(this,bt);break;case AnnotationEditorParamsType.FREETEXT_COLOR:In(this,uo,J3).call(this,bt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,to._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,to._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Ot(this,Ko)],[AnnotationEditorParamsType.FREETEXT_COLOR,Ot(this,Nl)]]}_translateEmpty(xt,bt){this._uiManager.translateSelectedEditors(xt,bt,!0)}getInitialTranslation(){const xt=this.parentScale;return[-to._internalPadding*xt,-(to._internalPadding+Ot(this,Ko))*xt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Ot(this,Cx)),this.editorDiv.addEventListener("focus",Ot(this,Ax)),this.editorDiv.addEventListener("blur",Ot(this,wx)),this.editorDiv.addEventListener("input",Ot(this,Sx)),this.editorDiv.addEventListener("paste",Ot(this,Ex)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Ot(this,kx)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Ot(this,Cx)),this.editorDiv.removeEventListener("focus",Ot(this,Ax)),this.editorDiv.removeEventListener("blur",Ot(this,wx)),this.editorDiv.removeEventListener("input",Ot(this,Sx)),this.editorDiv.removeEventListener("paste",Ot(this,Ex)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(xt){this._focusEventsAllowed&&(super.focusin(xt),xt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var xt;this.width||(this.enableEditMode(),this.editorDiv.focus(),(xt=this._initialOptions)!=null&&xt.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const xt=Ot(this,qo),bt=$n(this,qo,In(this,uo,Q3).call(this).trimEnd());if(xt===bt)return;const At=St=>{if($n(this,qo,St),!St){this.remove();return}In(this,uo,f2).call(this),this._uiManager.rebuild(this),In(this,uo,h2).call(this)};this.addCommands({cmd:()=>{At(bt)},undo:()=>{At(xt)},mustExec:!1}),In(this,uo,h2).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(xt){this.enterInEditMode()}keydown(xt){xt.target===this.div&&xt.key==="Enter"&&(this.enterInEditMode(),xt.preventDefault())}editorDivKeydown(xt){to._keyboardManager.exec(this,xt)}editorDivFocus(xt){this.isEditing=!0}editorDivBlur(xt){this.isEditing=!1}editorDivInput(xt){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let xt,bt;this.width&&(xt=this.x,bt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Ot(this,kx)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(St=>{var Et;return(Et=this.editorDiv)==null?void 0:Et.setAttribute("default-content",St)}),this.editorDiv.contentEditable=!0;const{style:At}=this.editorDiv;if(At.fontSize=`calc(${Ot(this,Ko)}px * var(--scale-factor))`,At.color=Ot(this,Nl),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[St,Et]=this.parentDimensions;if(this.annotationElementId){const{position:Ct}=Ot(this,E1);let[Pt,wt]=this.getInitialTranslation();[Pt,wt]=this.pageTranslationToScreen(Pt,wt);const[kt,Rt]=this.pageDimensions,[ht,vt]=this.pageTranslation;let Ft,Ht;switch(this.rotation){case 0:Ft=xt+(Ct[0]-ht)/kt,Ht=bt+this.height-(Ct[1]-vt)/Rt;break;case 90:Ft=xt+(Ct[0]-ht)/kt,Ht=bt-(Ct[1]-vt)/Rt,[Pt,wt]=[wt,-Pt];break;case 180:Ft=xt-this.width+(Ct[0]-ht)/kt,Ht=bt-(Ct[1]-vt)/Rt,[Pt,wt]=[-Pt,-wt];break;case 270:Ft=xt+(Ct[0]-ht-this.height*Rt)/kt,Ht=bt+(Ct[1]-vt-this.width*kt)/Rt,[Pt,wt]=[-wt,Pt];break}this.setAt(Ft*St,Ht*Et,Pt,wt)}else this.setAt(xt*St,bt*Et,this.width*St,this.height*Et);In(this,uo,f2).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(xt){var Ft,Ht,qt;const bt=xt.clipboardData||window.clipboardData,{types:At}=bt;if(At.length===1&&At[0]==="text/plain")return;xt.preventDefault();const St=In(Ft=to,j0,Xy).call(Ft,bt.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!St)return;const Et=window.getSelection();if(!Et.rangeCount)return;this.editorDiv.normalize(),Et.deleteFromDocument();const Ct=Et.getRangeAt(0);if(!St.includes(`
`)){Ct.insertNode(document.createTextNode(St)),this.editorDiv.normalize(),Et.collapseToStart();return}const{startContainer:Pt,startOffset:wt}=Ct,kt=[],Rt=[];if(Pt.nodeType===Node.TEXT_NODE){const Nt=Pt.parentElement;if(Rt.push(Pt.nodeValue.slice(wt).replaceAll(EOL_PATTERN,"")),Nt!==this.editorDiv){let $t=kt;for(const Mt of this.editorDiv.childNodes){if(Mt===Nt){$t=Rt;continue}$t.push(In(Ht=to,j0,d2).call(Ht,Mt))}}kt.push(Pt.nodeValue.slice(0,wt).replaceAll(EOL_PATTERN,""))}else if(Pt===this.editorDiv){let Nt=kt,$t=0;for(const Mt of this.editorDiv.childNodes)$t++===wt&&(Nt=Rt),Nt.push(In(qt=to,j0,d2).call(qt,Mt))}$n(this,qo,`${kt.join(`
`)}${St}${Rt.join(`
`)}`),In(this,uo,f2).call(this);const ht=new Range;let vt=kt.reduce((Nt,$t)=>Nt+$t.length,0);for(const{firstChild:Nt}of this.editorDiv.childNodes)if(Nt.nodeType===Node.TEXT_NODE){const $t=Nt.nodeValue.length;if(vt<=$t){ht.setStart(Nt,vt),ht.setEnd(Nt,vt);break}vt-=$t}Et.removeAllRanges(),Et.addRange(ht)}get contentDiv(){return this.editorDiv}static deserialize(xt,bt,At){var Ct;let St=null;if(xt instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Pt,fontColor:wt},rect:kt,rotation:Rt,id:ht},textContent:vt,textPosition:Ft,parent:{page:{pageNumber:Ht}}}=xt;if(!vt||vt.length===0)return null;St=xt={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(wt),fontSize:Pt,value:vt.join(`
`),position:Ft,pageIndex:Ht-1,rect:kt.slice(0),rotation:Rt,id:ht,deleted:!1}}const Et=super.deserialize(xt,bt,At);return $n(Et,Ko,xt.fontSize),$n(Et,Nl,Util.makeHexColor(...xt.color)),$n(Et,qo,In(Ct=to,j0,Xy).call(Ct,xt.value)),Et.annotationElementId=xt.id||null,$n(Et,E1,St),Et}serialize(xt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const bt=to._internalPadding*this.parentScale,At=this.getRect(bt,bt),St=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Ot(this,Nl)),Et={annotationType:AnnotationEditorType.FREETEXT,color:St,fontSize:Ot(this,Ko),value:In(this,uo,ev).call(this),pageIndex:this.pageIndex,rect:At,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return xt?Et:this.annotationElementId&&!In(this,uo,tv).call(this,Et)?null:(Et.id=this.annotationElementId,Et)}renderAnnotationElement(xt){const bt=super.renderAnnotationElement(xt);if(this.deleted)return bt;const{style:At}=bt;At.fontSize=`calc(${Ot(this,Ko)}px * var(--scale-factor))`,At.color=Ot(this,Nl),bt.replaceChildren();for(const Et of Ot(this,qo).split(`
`)){const Ct=document.createElement("div");Ct.append(Et?document.createTextNode(Et):document.createElement("br")),bt.append(Ct)}const St=to._internalPadding*this.parentScale;return xt.updateEdited({rect:this.getRect(St,St),popupContent:Ot(this,qo)}),bt}resetAnnotationElement(xt){super.resetAnnotationElement(xt),xt.resetEdited()}};wx=new WeakMap,Ax=new WeakMap,Sx=new WeakMap,Cx=new WeakMap,Ex=new WeakMap,Nl=new WeakMap,qo=new WeakMap,kx=new WeakMap,Ko=new WeakMap,E1=new WeakMap,uo=new WeakSet,Z3=function(xt){const bt=St=>{this.editorDiv.style.fontSize=`calc(${St}px * var(--scale-factor))`,this.translate(0,-(St-Ot(this,Ko))*this.parentScale),$n(this,Ko,St),In(this,uo,h2).call(this)},At=Ot(this,Ko);this.addCommands({cmd:bt.bind(this,xt),undo:bt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},J3=function(xt){const bt=St=>{$n(this,Nl,this.editorDiv.style.color=St)},At=Ot(this,Nl);this.addCommands({cmd:bt.bind(this,xt),undo:bt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Q3=function(){var bt;const xt=[];this.editorDiv.normalize();for(const At of this.editorDiv.childNodes)xt.push(In(bt=to,j0,d2).call(bt,At));return xt.join(`
`)},h2=function(){const[xt,bt]=this.parentDimensions;let At;if(this.isAttachedToDOM)At=this.div.getBoundingClientRect();else{const{currentLayer:St,div:Et}=this,Ct=Et.style.display,Pt=Et.classList.contains("hidden");Et.classList.remove("hidden"),Et.style.display="hidden",St.div.append(this.div),At=Et.getBoundingClientRect(),Et.remove(),Et.style.display=Ct,Et.classList.toggle("hidden",Pt)}this.rotation%180===this.parentRotation%180?(this.width=At.width/xt,this.height=At.height/bt):(this.width=At.height/xt,this.height=At.width/bt),this.fixAndSetPosition()},j0=new WeakSet,d2=function(xt){return(xt.nodeType===Node.TEXT_NODE?xt.nodeValue:xt.innerText).replaceAll(EOL_PATTERN,"")},f2=function(){if(this.editorDiv.replaceChildren(),!!Ot(this,qo))for(const xt of Ot(this,qo).split(`
`)){const bt=document.createElement("div");bt.append(xt?document.createTextNode(xt):document.createElement("br")),this.editorDiv.append(bt)}},ev=function(){return Ot(this,qo).replaceAll(""," ")},Xy=function(xt){return xt.replaceAll(" ","")},tv=function(xt){const{value:bt,fontSize:At,color:St,pageIndex:Et}=Ot(this,E1);return this._hasBeenMoved||xt.value!==bt||xt.fontSize!==At||xt.color.some((Ct,Pt)=>Ct!==St[Pt])||xt.pageIndex!==Et},Nn(to,j0),Ur(to,"_freeTextDefaultContent",""),Ur(to,"_internalPadding",0),Ur(to,"_defaultColor",null),Ur(to,"_defaultFontSize",10),Ur(to,"_type","freetext"),Ur(to,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=to;var Tx,ou,$l,Bo,nv,p2,iv,rv,Wy;class Outliner{constructor($,xt=0,bt=0,At=!0){Nn(this,Bo);Nn(this,Tx);Nn(this,ou,[]);Nn(this,$l,[]);let St=1/0,Et=-1/0,Ct=1/0,Pt=-1/0;const kt=10**-4;for(const{x:Nt,y:$t,width:Mt,height:Bt}of $){const _t=Math.floor((Nt-xt)/kt)*kt,Kt=Math.ceil((Nt+Mt+xt)/kt)*kt,jt=Math.floor(($t-xt)/kt)*kt,Gt=Math.ceil(($t+Bt+xt)/kt)*kt,Qt=[_t,jt,Gt,!0],ln=[Kt,jt,Gt,!1];Ot(this,ou).push(Qt,ln),St=Math.min(St,_t),Et=Math.max(Et,Kt),Ct=Math.min(Ct,jt),Pt=Math.max(Pt,Gt)}const Rt=Et-St+2*bt,ht=Pt-Ct+2*bt,vt=St-bt,Ft=Ct-bt,Ht=Ot(this,ou).at(At?-1:-2),qt=[Ht[0],Ht[2]];for(const Nt of Ot(this,ou)){const[$t,Mt,Bt]=Nt;Nt[0]=($t-vt)/Rt,Nt[1]=(Mt-Ft)/ht,Nt[2]=(Bt-Ft)/ht}$n(this,Tx,{x:vt,y:Ft,width:Rt,height:ht,lastPoint:qt})}getOutlines(){Ot(this,ou).sort((xt,bt)=>xt[0]-bt[0]||xt[1]-bt[1]||xt[2]-bt[2]);const $=[];for(const xt of Ot(this,ou))xt[3]?($.push(...In(this,Bo,Wy).call(this,xt)),In(this,Bo,iv).call(this,xt)):(In(this,Bo,rv).call(this,xt),$.push(...In(this,Bo,Wy).call(this,xt)));return In(this,Bo,nv).call(this,$)}}Tx=new WeakMap,ou=new WeakMap,$l=new WeakMap,Bo=new WeakSet,nv=function($){const xt=[],bt=new Set;for(const Et of $){const[Ct,Pt,wt]=Et;xt.push([Ct,Pt,Et],[Ct,wt,Et])}xt.sort((Et,Ct)=>Et[1]-Ct[1]||Et[0]-Ct[0]);for(let Et=0,Ct=xt.length;Et<Ct;Et+=2){const Pt=xt[Et][2],wt=xt[Et+1][2];Pt.push(wt),wt.push(Pt),bt.add(Pt),bt.add(wt)}const At=[];let St;for(;bt.size>0;){const Et=bt.values().next().value;let[Ct,Pt,wt,kt,Rt]=Et;bt.delete(Et);let ht=Ct,vt=Pt;for(St=[Ct,wt],At.push(St);;){let Ft;if(bt.has(kt))Ft=kt;else if(bt.has(Rt))Ft=Rt;else break;bt.delete(Ft),[Ct,Pt,wt,kt,Rt]=Ft,ht!==Ct&&(St.push(ht,vt,Ct,vt===Pt?Pt:wt),ht=Ct),vt=vt===Pt?wt:Pt}St.push(ht,vt)}return new HighlightOutline(At,Ot(this,Tx))},p2=function($){const xt=Ot(this,$l);let bt=0,At=xt.length-1;for(;bt<=At;){const St=bt+At>>1,Et=xt[St][0];if(Et===$)return St;Et<$?bt=St+1:At=St-1}return At+1},iv=function([,$,xt]){const bt=In(this,Bo,p2).call(this,$);Ot(this,$l).splice(bt,0,[$,xt])},rv=function([,$,xt]){const bt=In(this,Bo,p2).call(this,$);for(let At=bt;At<Ot(this,$l).length;At++){const[St,Et]=Ot(this,$l)[At];if(St!==$)break;if(St===$&&Et===xt){Ot(this,$l).splice(At,1);return}}for(let At=bt-1;At>=0;At--){const[St,Et]=Ot(this,$l)[At];if(St!==$)break;if(St===$&&Et===xt){Ot(this,$l).splice(At,1);return}}},Wy=function($){const[xt,bt,At]=$,St=[[xt,bt,At]],Et=In(this,Bo,p2).call(this,At);for(let Ct=0;Ct<Et;Ct++){const[Pt,wt]=Ot(this,$l)[Ct];for(let kt=0,Rt=St.length;kt<Rt;kt++){const[,ht,vt]=St[kt];if(!(wt<=ht||vt<=Pt)){if(ht>=Pt){if(vt>wt)St[kt][1]=wt;else{if(Rt===1)return[];St.splice(kt,1),kt--,Rt--}continue}St[kt][2]=Pt,vt>wt&&St.push([xt,wt,vt])}}}return St};class Outline{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize($,xt){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof FreeHighlightOutline}}var Px,k1;class HighlightOutline extends Outline{constructor(xt,bt){super();Nn(this,Px);Nn(this,k1);$n(this,k1,xt),$n(this,Px,bt)}toSVGPath(){const xt=[];for(const bt of Ot(this,k1)){let[At,St]=bt;xt.push(`M${At} ${St}`);for(let Et=2;Et<bt.length;Et+=2){const Ct=bt[Et],Pt=bt[Et+1];Ct===At?(xt.push(`V${Pt}`),St=Pt):Pt===St&&(xt.push(`H${Ct}`),At=Ct)}xt.push("Z")}return xt.join(" ")}serialize([xt,bt,At,St],Et){const Ct=[],Pt=At-xt,wt=St-bt;for(const kt of Ot(this,k1)){const Rt=new Array(kt.length);for(let ht=0;ht<kt.length;ht+=2)Rt[ht]=xt+kt[ht]*Pt,Rt[ht+1]=St-kt[ht+1]*wt;Ct.push(Rt)}return Ct}get box(){return Ot(this,Px)}}Px=new WeakMap,k1=new WeakMap;var e0,M0,T1,P1,t0,Bs,op,lp,_x,Fx,_1,F1,lu,Rx,ry,sy,Mx,Gy;const f0=class f0{constructor({x:$,y:xt},bt,At,St,Et,Ct=0){Nn(this,Mx);Nn(this,e0);Nn(this,M0,[]);Nn(this,T1);Nn(this,P1);Nn(this,t0,[]);Nn(this,Bs,new Float64Array(18));Nn(this,op);Nn(this,lp);Nn(this,_x);Nn(this,Fx);Nn(this,_1);Nn(this,F1);Nn(this,lu,[]);$n(this,e0,bt),$n(this,F1,St*At),$n(this,P1,Et),Ot(this,Bs).set([NaN,NaN,NaN,NaN,$,xt],6),$n(this,T1,Ct),$n(this,Fx,Ot(f0,Rx)*At),$n(this,_x,Ot(f0,sy)*At),$n(this,_1,At),Ot(this,lu).push($,xt)}get free(){return!0}isEmpty(){return isNaN(Ot(this,Bs)[8])}add({x:$,y:xt}){var Qt;$n(this,op,$),$n(this,lp,xt);const[bt,At,St,Et]=Ot(this,e0);let[Ct,Pt,wt,kt]=Ot(this,Bs).subarray(8,12);const Rt=$-wt,ht=xt-kt,vt=Math.hypot(Rt,ht);if(vt<Ot(this,_x))return!1;const Ft=vt-Ot(this,Fx),Ht=Ft/vt,qt=Ht*Rt,Nt=Ht*ht;let $t=Ct,Mt=Pt;Ct=wt,Pt=kt,wt+=qt,kt+=Nt,(Qt=Ot(this,lu))==null||Qt.push($,xt);const Bt=-Nt/Ft,_t=qt/Ft,Kt=Bt*Ot(this,F1),jt=_t*Ot(this,F1);return Ot(this,Bs).set(Ot(this,Bs).subarray(2,8),0),Ot(this,Bs).set([wt+Kt,kt+jt],4),Ot(this,Bs).set(Ot(this,Bs).subarray(14,18),12),Ot(this,Bs).set([wt-Kt,kt-jt],16),isNaN(Ot(this,Bs)[6])?(Ot(this,t0).length===0&&(Ot(this,Bs).set([Ct+Kt,Pt+jt],2),Ot(this,t0).push(NaN,NaN,NaN,NaN,(Ct+Kt-bt)/St,(Pt+jt-At)/Et),Ot(this,Bs).set([Ct-Kt,Pt-jt],14),Ot(this,M0).push(NaN,NaN,NaN,NaN,(Ct-Kt-bt)/St,(Pt-jt-At)/Et)),Ot(this,Bs).set([$t,Mt,Ct,Pt,wt,kt],6),!this.isEmpty()):(Ot(this,Bs).set([$t,Mt,Ct,Pt,wt,kt],6),Math.abs(Math.atan2(Mt-Pt,$t-Ct)-Math.atan2(Nt,qt))<Math.PI/2?([Ct,Pt,wt,kt]=Ot(this,Bs).subarray(2,6),Ot(this,t0).push(NaN,NaN,NaN,NaN,((Ct+wt)/2-bt)/St,((Pt+kt)/2-At)/Et),[Ct,Pt,$t,Mt]=Ot(this,Bs).subarray(14,18),Ot(this,M0).push(NaN,NaN,NaN,NaN,(($t+Ct)/2-bt)/St,((Mt+Pt)/2-At)/Et),!0):([$t,Mt,Ct,Pt,wt,kt]=Ot(this,Bs).subarray(0,6),Ot(this,t0).push((($t+5*Ct)/6-bt)/St,((Mt+5*Pt)/6-At)/Et,((5*Ct+wt)/6-bt)/St,((5*Pt+kt)/6-At)/Et,((Ct+wt)/2-bt)/St,((Pt+kt)/2-At)/Et),[wt,kt,Ct,Pt,$t,Mt]=Ot(this,Bs).subarray(12,18),Ot(this,M0).push((($t+5*Ct)/6-bt)/St,((Mt+5*Pt)/6-At)/Et,((5*Ct+wt)/6-bt)/St,((5*Pt+kt)/6-At)/Et,((Ct+wt)/2-bt)/St,((Pt+kt)/2-At)/Et),!0))}toSVGPath(){if(this.isEmpty())return"";const $=Ot(this,t0),xt=Ot(this,M0),bt=Ot(this,Bs).subarray(4,6),At=Ot(this,Bs).subarray(16,18),[St,Et,Ct,Pt]=Ot(this,e0),[wt,kt,Rt,ht]=In(this,Mx,Gy).call(this);if(isNaN(Ot(this,Bs)[6])&&!this.isEmpty())return`M${(Ot(this,Bs)[2]-St)/Ct} ${(Ot(this,Bs)[3]-Et)/Pt} L${(Ot(this,Bs)[4]-St)/Ct} ${(Ot(this,Bs)[5]-Et)/Pt} L${wt} ${kt} L${Rt} ${ht} L${(Ot(this,Bs)[16]-St)/Ct} ${(Ot(this,Bs)[17]-Et)/Pt} L${(Ot(this,Bs)[14]-St)/Ct} ${(Ot(this,Bs)[15]-Et)/Pt} Z`;const vt=[];vt.push(`M${$[4]} ${$[5]}`);for(let Ft=6;Ft<$.length;Ft+=6)isNaN($[Ft])?vt.push(`L${$[Ft+4]} ${$[Ft+5]}`):vt.push(`C${$[Ft]} ${$[Ft+1]} ${$[Ft+2]} ${$[Ft+3]} ${$[Ft+4]} ${$[Ft+5]}`);vt.push(`L${(bt[0]-St)/Ct} ${(bt[1]-Et)/Pt} L${wt} ${kt} L${Rt} ${ht} L${(At[0]-St)/Ct} ${(At[1]-Et)/Pt}`);for(let Ft=xt.length-6;Ft>=6;Ft-=6)isNaN(xt[Ft])?vt.push(`L${xt[Ft+4]} ${xt[Ft+5]}`):vt.push(`C${xt[Ft]} ${xt[Ft+1]} ${xt[Ft+2]} ${xt[Ft+3]} ${xt[Ft+4]} ${xt[Ft+5]}`);return vt.push(`L${xt[4]} ${xt[5]} Z`),vt.join(" ")}getOutlines(){var Nt;const $=Ot(this,t0),xt=Ot(this,M0),bt=Ot(this,Bs),At=bt.subarray(4,6),St=bt.subarray(16,18),[Et,Ct,Pt,wt]=Ot(this,e0),kt=new Float64Array((((Nt=Ot(this,lu))==null?void 0:Nt.length)??0)+2);for(let $t=0,Mt=kt.length-2;$t<Mt;$t+=2)kt[$t]=(Ot(this,lu)[$t]-Et)/Pt,kt[$t+1]=(Ot(this,lu)[$t+1]-Ct)/wt;kt[kt.length-2]=(Ot(this,op)-Et)/Pt,kt[kt.length-1]=(Ot(this,lp)-Ct)/wt;const[Rt,ht,vt,Ft]=In(this,Mx,Gy).call(this);if(isNaN(bt[6])&&!this.isEmpty()){const $t=new Float64Array(36);return $t.set([NaN,NaN,NaN,NaN,(bt[2]-Et)/Pt,(bt[3]-Ct)/wt,NaN,NaN,NaN,NaN,(bt[4]-Et)/Pt,(bt[5]-Ct)/wt,NaN,NaN,NaN,NaN,Rt,ht,NaN,NaN,NaN,NaN,vt,Ft,NaN,NaN,NaN,NaN,(bt[16]-Et)/Pt,(bt[17]-Ct)/wt,NaN,NaN,NaN,NaN,(bt[14]-Et)/Pt,(bt[15]-Ct)/wt],0),new FreeHighlightOutline($t,kt,Ot(this,e0),Ot(this,_1),Ot(this,T1),Ot(this,P1))}const Ht=new Float64Array(Ot(this,t0).length+24+Ot(this,M0).length);let qt=$.length;for(let $t=0;$t<qt;$t+=2){if(isNaN($[$t])){Ht[$t]=Ht[$t+1]=NaN;continue}Ht[$t]=$[$t],Ht[$t+1]=$[$t+1]}Ht.set([NaN,NaN,NaN,NaN,(At[0]-Et)/Pt,(At[1]-Ct)/wt,NaN,NaN,NaN,NaN,Rt,ht,NaN,NaN,NaN,NaN,vt,Ft,NaN,NaN,NaN,NaN,(St[0]-Et)/Pt,(St[1]-Ct)/wt],qt),qt+=24;for(let $t=xt.length-6;$t>=6;$t-=6)for(let Mt=0;Mt<6;Mt+=2){if(isNaN(xt[$t+Mt])){Ht[qt]=Ht[qt+1]=NaN,qt+=2;continue}Ht[qt]=xt[$t+Mt],Ht[qt+1]=xt[$t+Mt+1],qt+=2}return Ht.set([NaN,NaN,NaN,NaN,xt[4],xt[5]],qt),new FreeHighlightOutline(Ht,kt,Ot(this,e0),Ot(this,_1),Ot(this,T1),Ot(this,P1))}};e0=new WeakMap,M0=new WeakMap,T1=new WeakMap,P1=new WeakMap,t0=new WeakMap,Bs=new WeakMap,op=new WeakMap,lp=new WeakMap,_x=new WeakMap,Fx=new WeakMap,_1=new WeakMap,F1=new WeakMap,lu=new WeakMap,Rx=new WeakMap,ry=new WeakMap,sy=new WeakMap,Mx=new WeakSet,Gy=function(){const $=Ot(this,Bs).subarray(4,6),xt=Ot(this,Bs).subarray(16,18),[bt,At,St,Et]=Ot(this,e0);return[(Ot(this,op)+($[0]-xt[0])/2-bt)/St,(Ot(this,lp)+($[1]-xt[1])/2-At)/Et,(Ot(this,op)+(xt[0]-$[0])/2-bt)/St,(Ot(this,lp)+(xt[1]-$[1])/2-At)/Et]},Nn(f0,Rx,8),Nn(f0,ry,2),Nn(f0,sy,Ot(f0,Rx)+Ot(f0,ry));let FreeOutliner=f0;var R1,cp,I0,Ix,Yo,Ox,oo,Vo,tm,nm,sv;class FreeHighlightOutline extends Outline{constructor(xt,bt,At,St,Et,Ct){super();Nn(this,Vo);Nn(this,R1);Nn(this,cp,null);Nn(this,I0);Nn(this,Ix);Nn(this,Yo);Nn(this,Ox);Nn(this,oo);$n(this,oo,xt),$n(this,Yo,bt),$n(this,R1,At),$n(this,Ox,St),$n(this,I0,Et),$n(this,Ix,Ct),In(this,Vo,sv).call(this,Ct);const{x:Pt,y:wt,width:kt,height:Rt}=Ot(this,cp);for(let ht=0,vt=xt.length;ht<vt;ht+=2)xt[ht]=(xt[ht]-Pt)/kt,xt[ht+1]=(xt[ht+1]-wt)/Rt;for(let ht=0,vt=bt.length;ht<vt;ht+=2)bt[ht]=(bt[ht]-Pt)/kt,bt[ht+1]=(bt[ht+1]-wt)/Rt}toSVGPath(){const xt=[`M${Ot(this,oo)[4]} ${Ot(this,oo)[5]}`];for(let bt=6,At=Ot(this,oo).length;bt<At;bt+=6){if(isNaN(Ot(this,oo)[bt])){xt.push(`L${Ot(this,oo)[bt+4]} ${Ot(this,oo)[bt+5]}`);continue}xt.push(`C${Ot(this,oo)[bt]} ${Ot(this,oo)[bt+1]} ${Ot(this,oo)[bt+2]} ${Ot(this,oo)[bt+3]} ${Ot(this,oo)[bt+4]} ${Ot(this,oo)[bt+5]}`)}return xt.push("Z"),xt.join(" ")}serialize([xt,bt,At,St],Et){const Ct=At-xt,Pt=St-bt;let wt,kt;switch(Et){case 0:wt=In(this,Vo,tm).call(this,Ot(this,oo),xt,St,Ct,-Pt),kt=In(this,Vo,tm).call(this,Ot(this,Yo),xt,St,Ct,-Pt);break;case 90:wt=In(this,Vo,nm).call(this,Ot(this,oo),xt,bt,Ct,Pt),kt=In(this,Vo,nm).call(this,Ot(this,Yo),xt,bt,Ct,Pt);break;case 180:wt=In(this,Vo,tm).call(this,Ot(this,oo),At,bt,-Ct,Pt),kt=In(this,Vo,tm).call(this,Ot(this,Yo),At,bt,-Ct,Pt);break;case 270:wt=In(this,Vo,nm).call(this,Ot(this,oo),At,St,-Ct,-Pt),kt=In(this,Vo,nm).call(this,Ot(this,Yo),At,St,-Ct,-Pt);break}return{outline:Array.from(wt),points:[Array.from(kt)]}}get box(){return Ot(this,cp)}getNewOutline(xt,bt){const{x:At,y:St,width:Et,height:Ct}=Ot(this,cp),[Pt,wt,kt,Rt]=Ot(this,R1),ht=Et*kt,vt=Ct*Rt,Ft=At*kt+Pt,Ht=St*Rt+wt,qt=new FreeOutliner({x:Ot(this,Yo)[0]*ht+Ft,y:Ot(this,Yo)[1]*vt+Ht},Ot(this,R1),Ot(this,Ox),xt,Ot(this,Ix),bt??Ot(this,I0));for(let Nt=2;Nt<Ot(this,Yo).length;Nt+=2)qt.add({x:Ot(this,Yo)[Nt]*ht+Ft,y:Ot(this,Yo)[Nt+1]*vt+Ht});return qt.getOutlines()}}R1=new WeakMap,cp=new WeakMap,I0=new WeakMap,Ix=new WeakMap,Yo=new WeakMap,Ox=new WeakMap,oo=new WeakMap,Vo=new WeakSet,tm=function(xt,bt,At,St,Et){const Ct=new Float64Array(xt.length);for(let Pt=0,wt=xt.length;Pt<wt;Pt+=2)Ct[Pt]=bt+xt[Pt]*St,Ct[Pt+1]=At+xt[Pt+1]*Et;return Ct},nm=function(xt,bt,At,St,Et){const Ct=new Float64Array(xt.length);for(let Pt=0,wt=xt.length;Pt<wt;Pt+=2)Ct[Pt]=bt+xt[Pt+1]*St,Ct[Pt+1]=At+xt[Pt]*Et;return Ct},sv=function(xt){const bt=Ot(this,oo);let At=bt[4],St=bt[5],Et=At,Ct=St,Pt=At,wt=St,kt=At,Rt=St;const ht=xt?Math.max:Math.min;for(let Nt=6,$t=bt.length;Nt<$t;Nt+=6){if(isNaN(bt[Nt]))Et=Math.min(Et,bt[Nt+4]),Ct=Math.min(Ct,bt[Nt+5]),Pt=Math.max(Pt,bt[Nt+4]),wt=Math.max(wt,bt[Nt+5]),Rt<bt[Nt+5]?(kt=bt[Nt+4],Rt=bt[Nt+5]):Rt===bt[Nt+5]&&(kt=ht(kt,bt[Nt+4]));else{const Mt=Util.bezierBoundingBox(At,St,...bt.slice(Nt,Nt+6));Et=Math.min(Et,Mt[0]),Ct=Math.min(Ct,Mt[1]),Pt=Math.max(Pt,Mt[2]),wt=Math.max(wt,Mt[3]),Rt<Mt[3]?(kt=Mt[2],Rt=Mt[3]):Rt===Mt[3]&&(kt=ht(kt,Mt[2]))}At=bt[Nt+4],St=bt[Nt+5]}const vt=Et-Ot(this,I0),Ft=Ct-Ot(this,I0),Ht=Pt-Et+2*Ot(this,I0),qt=wt-Ct+2*Ot(this,I0);$n(this,cp,{x:vt,y:Ft,width:Ht,height:qt,lastPoint:[kt,Rt]})};var Lx,Dx,Bl,up,M1,po,Nx,I1,$x,Bx,cu,O1,$a,qy,Ky,av,Pu,ov,Y0;const p0=class p0{constructor({editor:$=null,uiManager:xt=null}){Nn(this,$a);Nn(this,Lx,In(this,$a,av).bind(this));Nn(this,Dx,In(this,$a,ov).bind(this));Nn(this,Bl,null);Nn(this,up,null);Nn(this,M1);Nn(this,po,null);Nn(this,Nx,!1);Nn(this,I1,!1);Nn(this,$x,null);Nn(this,Bx);Nn(this,cu,null);Nn(this,O1);var bt;$?($n(this,I1,!1),$n(this,O1,AnnotationEditorParamsType.HIGHLIGHT_COLOR),$n(this,$x,$)):($n(this,I1,!0),$n(this,O1,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),$n(this,cu,($==null?void 0:$._uiManager)||xt),$n(this,Bx,Ot(this,cu)._eventBus),$n(this,M1,($==null?void 0:$.color)||((bt=Ot(this,cu))==null?void 0:bt.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],p0.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],p0.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],p0.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],p0.prototype._moveToPrevious],[["Home","mac+Home"],p0.prototype._moveToBeginning],[["End","mac+End"],p0.prototype._moveToEnd]]))}renderButton(){const $=$n(this,Bl,document.createElement("button"));$.className="colorPicker",$.tabIndex="0",$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),$.setAttribute("aria-haspopup",!0),$.addEventListener("click",In(this,$a,Pu).bind(this)),$.addEventListener("keydown",Ot(this,Lx));const xt=$n(this,up,document.createElement("span"));return xt.className="swatch",xt.setAttribute("aria-hidden",!0),xt.style.backgroundColor=Ot(this,M1),$.append(xt),$}renderMainDropdown(){const $=$n(this,po,In(this,$a,qy).call(this));return $.setAttribute("aria-orientation","horizontal"),$.setAttribute("aria-labelledby","highlightColorPickerLabel"),$}_colorSelectFromKeyboard($){if($.target===Ot(this,Bl)){In(this,$a,Pu).call(this,$);return}const xt=$.target.getAttribute("data-color");xt&&In(this,$a,Ky).call(this,xt,$)}_moveToNext($){var xt,bt;if(!Ot(this,$a,Y0)){In(this,$a,Pu).call(this,$);return}if($.target===Ot(this,Bl)){(xt=Ot(this,po).firstChild)==null||xt.focus();return}(bt=$.target.nextSibling)==null||bt.focus()}_moveToPrevious($){var xt,bt;if($.target===((xt=Ot(this,po))==null?void 0:xt.firstChild)||$.target===Ot(this,Bl)){Ot(this,$a,Y0)&&this._hideDropdownFromKeyboard();return}Ot(this,$a,Y0)||In(this,$a,Pu).call(this,$),(bt=$.target.previousSibling)==null||bt.focus()}_moveToBeginning($){var xt;if(!Ot(this,$a,Y0)){In(this,$a,Pu).call(this,$);return}(xt=Ot(this,po).firstChild)==null||xt.focus()}_moveToEnd($){var xt;if(!Ot(this,$a,Y0)){In(this,$a,Pu).call(this,$);return}(xt=Ot(this,po).lastChild)==null||xt.focus()}hideDropdown(){var $;($=Ot(this,po))==null||$.classList.add("hidden"),window.removeEventListener("pointerdown",Ot(this,Dx))}_hideDropdownFromKeyboard(){var $;if(!Ot(this,I1)){if(!Ot(this,$a,Y0)){($=Ot(this,$x))==null||$.unselect();return}this.hideDropdown(),Ot(this,Bl).focus({preventScroll:!0,focusVisible:Ot(this,Nx)})}}updateColor($){if(Ot(this,up)&&(Ot(this,up).style.backgroundColor=$),!Ot(this,po))return;const xt=Ot(this,cu).highlightColors.values();for(const bt of Ot(this,po).children)bt.setAttribute("aria-selected",xt.next().value===$)}destroy(){var $,xt;($=Ot(this,Bl))==null||$.remove(),$n(this,Bl,null),$n(this,up,null),(xt=Ot(this,po))==null||xt.remove(),$n(this,po,null)}};Lx=new WeakMap,Dx=new WeakMap,Bl=new WeakMap,up=new WeakMap,M1=new WeakMap,po=new WeakMap,Nx=new WeakMap,I1=new WeakMap,$x=new WeakMap,Bx=new WeakMap,cu=new WeakMap,O1=new WeakMap,$a=new WeakSet,qy=function(){const $=document.createElement("div");$.addEventListener("contextmenu",noContextMenu),$.className="dropdown",$.role="listbox",$.setAttribute("aria-multiselectable",!1),$.setAttribute("aria-orientation","vertical"),$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[xt,bt]of Ot(this,cu).highlightColors){const At=document.createElement("button");At.tabIndex="0",At.role="option",At.setAttribute("data-color",bt),At.title=xt,At.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${xt}`);const St=document.createElement("span");At.append(St),St.className="swatch",St.style.backgroundColor=bt,At.setAttribute("aria-selected",bt===Ot(this,M1)),At.addEventListener("click",In(this,$a,Ky).bind(this,bt)),$.append(At)}return $.addEventListener("keydown",Ot(this,Lx)),$},Ky=function($,xt){xt.stopPropagation(),Ot(this,Bx).dispatch("switchannotationeditorparams",{source:this,type:Ot(this,O1),value:$})},av=function($){p0._keyboardManager.exec(this,$)},Pu=function($){if(Ot(this,$a,Y0)){this.hideDropdown();return}if($n(this,Nx,$.detail===0),window.addEventListener("pointerdown",Ot(this,Dx)),Ot(this,po)){Ot(this,po).classList.remove("hidden");return}const xt=$n(this,po,In(this,$a,qy).call(this));Ot(this,Bl).append(xt)},ov=function($){var xt;(xt=Ot(this,po))!=null&&xt.contains($.target)||this.hideDropdown()},Y0=function(){return Ot(this,po)&&!Ot(this,po).classList.contains("hidden")};let ColorPicker=p0;var L1,jx,uu,hp,D1,Al,Ux,Hx,dp,Ul,Do,Zo,ay,N1,fp,go,$1,n0,Vx,Ds,Yy,Zy,lv,cv,uv,Jy,im,El,Bp,hv,g2,rm,dv,fv,pv,gv;const Xs=class Xs extends AnnotationEditor{constructor(xt){super({...xt,name:"highlightEditor"});Nn(this,Ds);Nn(this,L1,null);Nn(this,jx,0);Nn(this,uu);Nn(this,hp,null);Nn(this,D1,null);Nn(this,Al,null);Nn(this,Ux,null);Nn(this,Hx,0);Nn(this,dp,null);Nn(this,Ul,null);Nn(this,Do,null);Nn(this,Zo,!1);Nn(this,ay,In(this,Ds,hv).bind(this));Nn(this,N1,null);Nn(this,fp);Nn(this,go,null);Nn(this,$1,"");Nn(this,n0);Nn(this,Vx,"");this.color=xt.color||Xs._defaultColor,$n(this,n0,xt.thickness||Xs._defaultThickness),$n(this,fp,xt.opacity||Xs._defaultOpacity),$n(this,uu,xt.boxes||null),$n(this,Vx,xt.methodOfCreation||""),$n(this,$1,xt.text||""),this._isDraggable=!1,xt.highlightId>-1?($n(this,Zo,!0),In(this,Ds,Zy).call(this,xt),In(this,Ds,im).call(this)):($n(this,L1,xt.anchorNode),$n(this,jx,xt.anchorOffset),$n(this,Ux,xt.focusNode),$n(this,Hx,xt.focusOffset),In(this,Ds,Yy).call(this),In(this,Ds,im).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const xt=Xs.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],xt._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],xt._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],xt._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],xt._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:Ot(this,Zo)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:Ot(this,n0),methodOfCreation:Ot(this,Vx)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(xt){return{numberOfColors:xt.get("color").size}}static initialize(xt,bt){var At;AnnotationEditor.initialize(xt,bt),Xs._defaultColor||(Xs._defaultColor=((At=bt.highlightColors)==null?void 0:At.values().next().value)||"#fff066")}static updateDefaultParams(xt,bt){switch(xt){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:Xs._defaultColor=bt;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Xs._defaultThickness=bt;break}}translateInPage(xt,bt){}get toolbarPosition(){return Ot(this,N1)}updateParams(xt,bt){switch(xt){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:In(this,Ds,lv).call(this,bt);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:In(this,Ds,cv).call(this,bt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,Xs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Xs._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||Xs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Ot(this,n0)||Xs._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,Ot(this,Zo)]]}async addEditToolbar(){const xt=await super.addEditToolbar();return xt?(this._uiManager.highlightColors&&($n(this,D1,new ColorPicker({editor:this})),xt.addColorPicker(Ot(this,D1))),xt):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(In(this,Ds,rm).call(this))}getBaseTranslation(){return[0,0]}getRect(xt,bt){return super.getRect(xt,bt,In(this,Ds,rm).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){In(this,Ds,Jy).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(In(this,Ds,im).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(xt){var At;let bt=!1;this.parent&&!xt?In(this,Ds,Jy).call(this):xt&&(In(this,Ds,im).call(this,xt),bt=!this.parent&&((At=this.div)==null?void 0:At.classList.contains("selectedEditor"))),super.setParent(xt),this.show(this._isVisible),bt&&this.select()}rotate(xt){var St,Et,Ct;const{drawLayer:bt}=this.parent;let At;Ot(this,Zo)?(xt=(xt-this.rotation+360)%360,At=In(St=Xs,El,Bp).call(St,Ot(this,Ul).box,xt)):At=In(Et=Xs,El,Bp).call(Et,this,xt),bt.rotate(Ot(this,Do),xt),bt.rotate(Ot(this,go),xt),bt.updateBox(Ot(this,Do),At),bt.updateBox(Ot(this,go),In(Ct=Xs,El,Bp).call(Ct,Ot(this,Al).box,xt))}render(){if(this.div)return this.div;const xt=super.render();Ot(this,$1)&&(xt.setAttribute("aria-label",Ot(this,$1)),xt.setAttribute("role","mark")),Ot(this,Zo)?xt.classList.add("free"):this.div.addEventListener("keydown",Ot(this,ay));const bt=$n(this,dp,document.createElement("div"));xt.append(bt),bt.setAttribute("aria-hidden","true"),bt.className="internal",bt.style.clipPath=Ot(this,hp);const[At,St]=this.parentDimensions;return this.setDims(this.width*At,this.height*St),bindEvents(this,Ot(this,dp),["pointerover","pointerleave"]),this.enableEditing(),xt}pointerover(){this.parent.drawLayer.addClass(Ot(this,go),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(Ot(this,go),"hovered")}_moveCaret(xt){switch(this.parent.unselect(this),xt){case 0:case 2:In(this,Ds,g2).call(this,!0);break;case 1:case 3:In(this,Ds,g2).call(this,!1);break}}select(){var xt,bt;super.select(),Ot(this,go)&&((xt=this.parent)==null||xt.drawLayer.removeClass(Ot(this,go),"hovered"),(bt=this.parent)==null||bt.drawLayer.addClass(Ot(this,go),"selected"))}unselect(){var xt;super.unselect(),Ot(this,go)&&((xt=this.parent)==null||xt.drawLayer.removeClass(Ot(this,go),"selected"),Ot(this,Zo)||In(this,Ds,g2).call(this,!1))}get _mustFixPosition(){return!Ot(this,Zo)}show(xt=this._isVisible){super.show(xt),this.parent&&(this.parent.drawLayer.show(Ot(this,Do),xt),this.parent.drawLayer.show(Ot(this,go),xt))}static startHighlighting(xt,bt,{target:At,x:St,y:Et}){const{x:Ct,y:Pt,width:wt,height:kt}=At.getBoundingClientRect(),Rt=Ht=>{In(this,El,pv).call(this,xt,Ht)},ht={capture:!0,passive:!1},vt=Ht=>{Ht.preventDefault(),Ht.stopPropagation()},Ft=Ht=>{At.removeEventListener("pointermove",Rt),window.removeEventListener("blur",Ft),window.removeEventListener("pointerup",Ft),window.removeEventListener("pointerdown",vt,ht),window.removeEventListener("contextmenu",noContextMenu),In(this,El,gv).call(this,xt,Ht)};window.addEventListener("blur",Ft),window.addEventListener("pointerup",Ft),window.addEventListener("pointerdown",vt,ht),window.addEventListener("contextmenu",noContextMenu),At.addEventListener("pointermove",Rt),this._freeHighlight=new FreeOutliner({x:St,y:Et},[Ct,Pt,wt,kt],xt.scale,this._defaultThickness/2,bt,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=xt.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(xt,bt,At){var Ht;const St=super.deserialize(xt,bt,At),{rect:[Et,Ct,Pt,wt],color:kt,quadPoints:Rt}=xt;St.color=Util.makeHexColor(...kt),$n(St,fp,xt.opacity);const[ht,vt]=St.pageDimensions;St.width=(Pt-Et)/ht,St.height=(wt-Ct)/vt;const Ft=$n(St,uu,[]);for(let qt=0;qt<Rt.length;qt+=8)Ft.push({x:(Rt[4]-Pt)/ht,y:(wt-(1-Rt[qt+5]))/vt,width:(Rt[qt+2]-Rt[qt])/ht,height:(Rt[qt+5]-Rt[qt+1])/vt});return In(Ht=St,Ds,Yy).call(Ht),St}serialize(xt=!1){if(this.isEmpty()||xt)return null;const bt=this.getRect(0,0),At=AnnotationEditor._colorManager.convert(this.color);return{annotationType:AnnotationEditorType.HIGHLIGHT,color:At,opacity:Ot(this,fp),thickness:Ot(this,n0),quadPoints:In(this,Ds,dv).call(this),outlines:In(this,Ds,fv).call(this,bt),pageIndex:this.pageIndex,rect:bt,rotation:In(this,Ds,rm).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};L1=new WeakMap,jx=new WeakMap,uu=new WeakMap,hp=new WeakMap,D1=new WeakMap,Al=new WeakMap,Ux=new WeakMap,Hx=new WeakMap,dp=new WeakMap,Ul=new WeakMap,Do=new WeakMap,Zo=new WeakMap,ay=new WeakMap,N1=new WeakMap,fp=new WeakMap,go=new WeakMap,$1=new WeakMap,n0=new WeakMap,Vx=new WeakMap,Ds=new WeakSet,Yy=function(){const xt=new Outliner(Ot(this,uu),.001);$n(this,Ul,xt.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=Ot(this,Ul).box;const bt=new Outliner(Ot(this,uu),.0025,.001,this._uiManager.direction==="ltr");$n(this,Al,bt.getOutlines());const{lastPoint:At}=Ot(this,Al).box;$n(this,N1,[(At[0]-this.x)/this.width,(At[1]-this.y)/this.height])},Zy=function({highlightOutlines:xt,highlightId:bt,clipPathId:At}){var Rt,ht;if($n(this,Ul,xt),$n(this,Al,xt.getNewOutline(Ot(this,n0)/2+1.5,.0025)),bt>=0)$n(this,Do,bt),$n(this,hp,At),this.parent.drawLayer.finalizeLine(bt,xt),$n(this,go,this.parent.drawLayer.highlightOutline(Ot(this,Al)));else if(this.parent){const vt=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(Ot(this,Do),xt),this.parent.drawLayer.updateBox(Ot(this,Do),In(Rt=Xs,El,Bp).call(Rt,Ot(this,Ul).box,(vt-this.rotation+360)%360)),this.parent.drawLayer.updateLine(Ot(this,go),Ot(this,Al)),this.parent.drawLayer.updateBox(Ot(this,go),In(ht=Xs,El,Bp).call(ht,Ot(this,Al).box,vt))}const{x:Et,y:Ct,width:Pt,height:wt}=xt.box;switch(this.rotation){case 0:this.x=Et,this.y=Ct,this.width=Pt,this.height=wt;break;case 90:{const[vt,Ft]=this.parentDimensions;this.x=Ct,this.y=1-Et,this.width=Pt*Ft/vt,this.height=wt*vt/Ft;break}case 180:this.x=1-Et,this.y=1-Ct,this.width=Pt,this.height=wt;break;case 270:{const[vt,Ft]=this.parentDimensions;this.x=1-Ct,this.y=Et,this.width=Pt*Ft/vt,this.height=wt*vt/Ft;break}}const{lastPoint:kt}=Ot(this,Al).box;$n(this,N1,[(kt[0]-Et)/Pt,(kt[1]-Ct)/wt])},lv=function(xt){const bt=St=>{var Et,Ct;this.color=St,(Et=this.parent)==null||Et.drawLayer.changeColor(Ot(this,Do),St),(Ct=Ot(this,D1))==null||Ct.updateColor(St)},At=this.color;this.addCommands({cmd:bt.bind(this,xt),undo:bt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(xt)},!0)},cv=function(xt){const bt=Ot(this,n0),At=St=>{$n(this,n0,St),In(this,Ds,uv).call(this,St)};this.addCommands({cmd:At.bind(this,xt),undo:At.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:xt},!0)},uv=function(xt){if(!Ot(this,Zo))return;In(this,Ds,Zy).call(this,{highlightOutlines:Ot(this,Ul).getNewOutline(xt/2)}),this.fixAndSetPosition();const[bt,At]=this.parentDimensions;this.setDims(this.width*bt,this.height*At)},Jy=function(){Ot(this,Do)===null||!this.parent||(this.parent.drawLayer.remove(Ot(this,Do)),$n(this,Do,null),this.parent.drawLayer.remove(Ot(this,go)),$n(this,go,null))},im=function(xt=this.parent){Ot(this,Do)===null&&({id:So(this,Do)._,clipPathId:So(this,hp)._}=xt.drawLayer.highlight(Ot(this,Ul),this.color,Ot(this,fp)),$n(this,go,xt.drawLayer.highlightOutline(Ot(this,Al))),Ot(this,dp)&&(Ot(this,dp).style.clipPath=Ot(this,hp)))},El=new WeakSet,Bp=function({x:xt,y:bt,width:At,height:St},Et){switch(Et){case 90:return{x:1-bt-St,y:xt,width:St,height:At};case 180:return{x:1-xt-At,y:1-bt-St,width:At,height:St};case 270:return{x:bt,y:1-xt-At,width:St,height:At}}return{x:xt,y:bt,width:At,height:St}},hv=function(xt){Xs._keyboardManager.exec(this,xt)},g2=function(xt){if(!Ot(this,L1))return;const bt=window.getSelection();xt?bt.setPosition(Ot(this,L1),Ot(this,jx)):bt.setPosition(Ot(this,Ux),Ot(this,Hx))},rm=function(){return Ot(this,Zo)?this.rotation:0},dv=function(){if(Ot(this,Zo))return null;const[xt,bt]=this.pageDimensions,At=Ot(this,uu),St=new Array(At.length*8);let Et=0;for(const{x:Ct,y:Pt,width:wt,height:kt}of At){const Rt=Ct*xt,ht=(1-Pt-kt)*bt;St[Et]=St[Et+4]=Rt,St[Et+1]=St[Et+3]=ht,St[Et+2]=St[Et+6]=Rt+wt*xt,St[Et+5]=St[Et+7]=ht+kt*bt,Et+=8}return St},fv=function(xt){return Ot(this,Ul).serialize(xt,In(this,Ds,rm).call(this))},pv=function(xt,bt){this._freeHighlight.add(bt)&&xt.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},gv=function(xt,bt){this._freeHighlight.isEmpty()?xt.drawLayer.removeFreeHighlight(this._freeHighlightId):xt.createAndAddNewEditor(bt,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Nn(Xs,El),Ur(Xs,"_defaultColor",null),Ur(Xs,"_defaultOpacity",1),Ur(Xs,"_defaultThickness",12),Ur(Xs,"_l10nPromise"),Ur(Xs,"_type","highlight"),Ur(Xs,"_editorType",AnnotationEditorType.HIGHLIGHT),Ur(Xs,"_freeHighlightId",-1),Ur(Xs,"_freeHighlight",null),Ur(Xs,"_freeHighlightClipId","");let HighlightEditor=Xs;var pp,gp,zx,Xx,Wx,mp,i0,O0,Sl,xp,bp,yp,vp,wp,hu,Zr,mv,xv,bv,yv,Qy,vv,e9,wv,Av,Sv,Cv,Ev,_u,t9,m2,x2,jp,n9,b2,H0,kv,i9,Tv,Pv,r9,y2,sm;const so=class so extends AnnotationEditor{constructor(xt){super({...xt,name:"inkEditor"});Nn(this,Zr);Nn(this,pp,0);Nn(this,gp,0);Nn(this,zx,this.canvasPointermove.bind(this));Nn(this,Xx,this.canvasPointerleave.bind(this));Nn(this,Wx,this.canvasPointerup.bind(this));Nn(this,mp,this.canvasPointerdown.bind(this));Nn(this,i0,null);Nn(this,O0,new Path2D);Nn(this,Sl,!1);Nn(this,xp,!1);Nn(this,bp,!1);Nn(this,yp,null);Nn(this,vp,0);Nn(this,wp,0);Nn(this,hu,null);this.color=xt.color||null,this.thickness=xt.thickness||null,this.opacity=xt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(xt,bt){AnnotationEditor.initialize(xt,bt)}static updateDefaultParams(xt,bt){switch(xt){case AnnotationEditorParamsType.INK_THICKNESS:so._defaultThickness=bt;break;case AnnotationEditorParamsType.INK_COLOR:so._defaultColor=bt;break;case AnnotationEditorParamsType.INK_OPACITY:so._defaultOpacity=bt/100;break}}updateParams(xt,bt){switch(xt){case AnnotationEditorParamsType.INK_THICKNESS:In(this,Zr,mv).call(this,bt);break;case AnnotationEditorParamsType.INK_COLOR:In(this,Zr,xv).call(this,bt);break;case AnnotationEditorParamsType.INK_OPACITY:In(this,Zr,bv).call(this,bt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,so._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,so._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(so._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||so._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||so._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??so._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(In(this,Zr,m2).call(this),In(this,Zr,x2).call(this)),this.isAttachedToDOM||(this.parent.add(this),In(this,Zr,jp).call(this)),In(this,Zr,sm).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Ot(this,i0)&&(clearTimeout(Ot(this,i0)),$n(this,i0,null)),Ot(this,yp).disconnect(),$n(this,yp,null),super.remove())}setParent(xt){!this.parent&&xt?this._uiManager.removeShouldRescale(this):this.parent&&xt===null&&this._uiManager.addShouldRescale(this),super.setParent(xt)}onScaleChanging(){const[xt,bt]=this.parentDimensions,At=this.width*xt,St=this.height*bt;this.setDimensions(At,St)}enableEditMode(){Ot(this,Sl)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Ot(this,mp)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Ot(this,mp)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Ot(this,Sl)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),$n(this,Sl,!0),this.div.classList.add("disabled"),In(this,Zr,sm).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(xt){this._focusEventsAllowed&&(super.focusin(xt),this.enableEditMode())}canvasPointerdown(xt){xt.button!==0||!this.isInEditMode()||Ot(this,Sl)||(this.setInForeground(),xt.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),In(this,Zr,vv).call(this,xt.offsetX,xt.offsetY))}canvasPointermove(xt){xt.preventDefault(),In(this,Zr,e9).call(this,xt.offsetX,xt.offsetY)}canvasPointerup(xt){xt.preventDefault(),In(this,Zr,t9).call(this,xt)}canvasPointerleave(xt){In(this,Zr,t9).call(this,xt)}get isResizable(){return!this.isEmpty()&&Ot(this,Sl)}render(){if(this.div)return this.div;let xt,bt;this.width&&(xt=this.x,bt=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[At,St,Et,Ct]=In(this,Zr,yv).call(this);if(this.setAt(At,St,0,0),this.setDims(Et,Ct),In(this,Zr,m2).call(this),this.width){const[Pt,wt]=this.parentDimensions;this.setAspectRatio(this.width*Pt,this.height*wt),this.setAt(xt*Pt,bt*wt,this.width*Pt,this.height*wt),$n(this,bp,!0),In(this,Zr,jp).call(this),this.setDims(this.width*Pt,this.height*wt),In(this,Zr,_u).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return In(this,Zr,x2).call(this),this.div}setDimensions(xt,bt){const At=Math.round(xt),St=Math.round(bt);if(Ot(this,vp)===At&&Ot(this,wp)===St)return;$n(this,vp,At),$n(this,wp,St),this.canvas.style.visibility="hidden";const[Et,Ct]=this.parentDimensions;this.width=xt/Et,this.height=bt/Ct,this.fixAndSetPosition(),Ot(this,Sl)&&In(this,Zr,n9).call(this,xt,bt),In(this,Zr,jp).call(this),In(this,Zr,_u).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(xt,bt,At){var qt,Nt,$t;if(xt instanceof InkAnnotationElement)return null;const St=super.deserialize(xt,bt,At);St.thickness=xt.thickness,St.color=Util.makeHexColor(...xt.color),St.opacity=xt.opacity;const[Et,Ct]=St.pageDimensions,Pt=St.width*Et,wt=St.height*Ct,kt=St.parentScale,Rt=xt.thickness/2;$n(St,Sl,!0),$n(St,vp,Math.round(Pt)),$n(St,wp,Math.round(wt));const{paths:ht,rect:vt,rotation:Ft}=xt;for(let{bezier:Mt}of ht){Mt=In(qt=so,H0,Tv).call(qt,Mt,vt,Ft);const Bt=[];St.paths.push(Bt);let _t=kt*(Mt[0]-Rt),Kt=kt*(Mt[1]-Rt);for(let Gt=2,Qt=Mt.length;Gt<Qt;Gt+=6){const ln=kt*(Mt[Gt]-Rt),en=kt*(Mt[Gt+1]-Rt),gn=kt*(Mt[Gt+2]-Rt),tn=kt*(Mt[Gt+3]-Rt),bn=kt*(Mt[Gt+4]-Rt),Xt=kt*(Mt[Gt+5]-Rt);Bt.push([[_t,Kt],[ln,en],[gn,tn],[bn,Xt]]),_t=bn,Kt=Xt}const jt=In(this,H0,kv).call(this,Bt);St.bezierPath2D.push(jt)}const Ht=In(Nt=St,Zr,r9).call(Nt);return $n(St,gp,Math.max(AnnotationEditor.MIN_SIZE,Ht[2]-Ht[0])),$n(St,pp,Math.max(AnnotationEditor.MIN_SIZE,Ht[3]-Ht[1])),In($t=St,Zr,n9).call($t,Pt,wt),St}serialize(){if(this.isEmpty())return null;const xt=this.getRect(0,0),bt=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:bt,thickness:this.thickness,opacity:this.opacity,paths:In(this,Zr,Pv).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,xt),pageIndex:this.pageIndex,rect:xt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};pp=new WeakMap,gp=new WeakMap,zx=new WeakMap,Xx=new WeakMap,Wx=new WeakMap,mp=new WeakMap,i0=new WeakMap,O0=new WeakMap,Sl=new WeakMap,xp=new WeakMap,bp=new WeakMap,yp=new WeakMap,vp=new WeakMap,wp=new WeakMap,hu=new WeakMap,Zr=new WeakSet,mv=function(xt){const bt=St=>{this.thickness=St,In(this,Zr,sm).call(this)},At=this.thickness;this.addCommands({cmd:bt.bind(this,xt),undo:bt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},xv=function(xt){const bt=St=>{this.color=St,In(this,Zr,_u).call(this)},At=this.color;this.addCommands({cmd:bt.bind(this,xt),undo:bt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},bv=function(xt){const bt=St=>{this.opacity=St,In(this,Zr,_u).call(this)};xt/=100;const At=this.opacity;this.addCommands({cmd:bt.bind(this,xt),undo:bt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},yv=function(){const{parentRotation:xt,parentDimensions:[bt,At]}=this;switch(xt){case 90:return[0,At,At,bt];case 180:return[bt,At,bt,At];case 270:return[bt,0,At,bt];default:return[0,0,bt,At]}},Qy=function(){const{ctx:xt,color:bt,opacity:At,thickness:St,parentScale:Et,scaleFactor:Ct}=this;xt.lineWidth=St*Et/Ct,xt.lineCap="round",xt.lineJoin="round",xt.miterLimit=10,xt.strokeStyle=`${bt}${opacityToHex(At)}`},vv=function(xt,bt){this.canvas.addEventListener("contextmenu",noContextMenu),this.canvas.addEventListener("pointerleave",Ot(this,Xx)),this.canvas.addEventListener("pointermove",Ot(this,zx)),this.canvas.addEventListener("pointerup",Ot(this,Wx)),this.canvas.removeEventListener("pointerdown",Ot(this,mp)),this.isEditing=!0,Ot(this,bp)||($n(this,bp,!0),In(this,Zr,jp).call(this),this.thickness||(this.thickness=so._defaultThickness),this.color||(this.color=so._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=so._defaultOpacity)),this.currentPath.push([xt,bt]),$n(this,xp,!1),In(this,Zr,Qy).call(this),$n(this,hu,()=>{In(this,Zr,Sv).call(this),Ot(this,hu)&&window.requestAnimationFrame(Ot(this,hu))}),window.requestAnimationFrame(Ot(this,hu))},e9=function(xt,bt){const[At,St]=this.currentPath.at(-1);if(this.currentPath.length>1&&xt===At&&bt===St)return;const Et=this.currentPath;let Ct=Ot(this,O0);if(Et.push([xt,bt]),$n(this,xp,!0),Et.length<=2){Ct.moveTo(...Et[0]),Ct.lineTo(xt,bt);return}Et.length===3&&($n(this,O0,Ct=new Path2D),Ct.moveTo(...Et[0])),In(this,Zr,Cv).call(this,Ct,...Et.at(-3),...Et.at(-2),xt,bt)},wv=function(){if(this.currentPath.length===0)return;const xt=this.currentPath.at(-1);Ot(this,O0).lineTo(...xt)},Av=function(xt,bt){$n(this,hu,null),xt=Math.min(Math.max(xt,0),this.canvas.width),bt=Math.min(Math.max(bt,0),this.canvas.height),In(this,Zr,e9).call(this,xt,bt),In(this,Zr,wv).call(this);let At;if(this.currentPath.length!==1)At=In(this,Zr,Ev).call(this);else{const wt=[xt,bt];At=[[wt,wt.slice(),wt.slice(),wt]]}const St=Ot(this,O0),Et=this.currentPath;this.currentPath=[],$n(this,O0,new Path2D);const Ct=()=>{this.allRawPaths.push(Et),this.paths.push(At),this.bezierPath2D.push(St),this._uiManager.rebuild(this)},Pt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(In(this,Zr,m2).call(this),In(this,Zr,x2).call(this)),In(this,Zr,sm).call(this))};this.addCommands({cmd:Ct,undo:Pt,mustExec:!0})},Sv=function(){if(!Ot(this,xp))return;$n(this,xp,!1);const xt=Math.ceil(this.thickness*this.parentScale),bt=this.currentPath.slice(-3),At=bt.map(Ct=>Ct[0]),St=bt.map(Ct=>Ct[1]);Math.min(...At)-xt,Math.max(...At)+xt,Math.min(...St)-xt,Math.max(...St)+xt;const{ctx:Et}=this;Et.save(),Et.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Ct of this.bezierPath2D)Et.stroke(Ct);Et.stroke(Ot(this,O0)),Et.restore()},Cv=function(xt,bt,At,St,Et,Ct,Pt){const wt=(bt+St)/2,kt=(At+Et)/2,Rt=(St+Ct)/2,ht=(Et+Pt)/2;xt.bezierCurveTo(wt+2*(St-wt)/3,kt+2*(Et-kt)/3,Rt+2*(St-Rt)/3,ht+2*(Et-ht)/3,Rt,ht)},Ev=function(){const xt=this.currentPath;if(xt.length<=2)return[[xt[0],xt[0],xt.at(-1),xt.at(-1)]];const bt=[];let At,[St,Et]=xt[0];for(At=1;At<xt.length-2;At++){const[vt,Ft]=xt[At],[Ht,qt]=xt[At+1],Nt=(vt+Ht)/2,$t=(Ft+qt)/2,Mt=[St+2*(vt-St)/3,Et+2*(Ft-Et)/3],Bt=[Nt+2*(vt-Nt)/3,$t+2*(Ft-$t)/3];bt.push([[St,Et],Mt,Bt,[Nt,$t]]),[St,Et]=[Nt,$t]}const[Ct,Pt]=xt[At],[wt,kt]=xt[At+1],Rt=[St+2*(Ct-St)/3,Et+2*(Pt-Et)/3],ht=[wt+2*(Ct-wt)/3,kt+2*(Pt-kt)/3];return bt.push([[St,Et],Rt,ht,[wt,kt]]),bt},_u=function(){if(this.isEmpty()){In(this,Zr,b2).call(this);return}In(this,Zr,Qy).call(this);const{canvas:xt,ctx:bt}=this;bt.setTransform(1,0,0,1,0,0),bt.clearRect(0,0,xt.width,xt.height),In(this,Zr,b2).call(this);for(const At of this.bezierPath2D)bt.stroke(At)},t9=function(xt){this.canvas.removeEventListener("pointerleave",Ot(this,Xx)),this.canvas.removeEventListener("pointermove",Ot(this,zx)),this.canvas.removeEventListener("pointerup",Ot(this,Wx)),this.canvas.addEventListener("pointerdown",Ot(this,mp)),Ot(this,i0)&&clearTimeout(Ot(this,i0)),$n(this,i0,setTimeout(()=>{$n(this,i0,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),In(this,Zr,Av).call(this,xt.offsetX,xt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},m2=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},x2=function(){$n(this,yp,new ResizeObserver(xt=>{const bt=xt[0].contentRect;bt.width&&bt.height&&this.setDimensions(bt.width,bt.height)})),Ot(this,yp).observe(this.div)},jp=function(){if(!Ot(this,bp))return;const[xt,bt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*xt),this.canvas.height=Math.ceil(this.height*bt),In(this,Zr,b2).call(this)},n9=function(xt,bt){const At=In(this,Zr,y2).call(this),St=(xt-At)/Ot(this,gp),Et=(bt-At)/Ot(this,pp);this.scaleFactor=Math.min(St,Et)},b2=function(){const xt=In(this,Zr,y2).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+xt,this.translationY*this.scaleFactor+xt)},H0=new WeakSet,kv=function(xt){const bt=new Path2D;for(let At=0,St=xt.length;At<St;At++){const[Et,Ct,Pt,wt]=xt[At];At===0&&bt.moveTo(...Et),bt.bezierCurveTo(Ct[0],Ct[1],Pt[0],Pt[1],wt[0],wt[1])}return bt},i9=function(xt,bt,At){const[St,Et,Ct,Pt]=bt;switch(At){case 0:for(let wt=0,kt=xt.length;wt<kt;wt+=2)xt[wt]+=St,xt[wt+1]=Pt-xt[wt+1];break;case 90:for(let wt=0,kt=xt.length;wt<kt;wt+=2){const Rt=xt[wt];xt[wt]=xt[wt+1]+St,xt[wt+1]=Rt+Et}break;case 180:for(let wt=0,kt=xt.length;wt<kt;wt+=2)xt[wt]=Ct-xt[wt],xt[wt+1]+=Et;break;case 270:for(let wt=0,kt=xt.length;wt<kt;wt+=2){const Rt=xt[wt];xt[wt]=Ct-xt[wt+1],xt[wt+1]=Pt-Rt}break;default:throw new Error("Invalid rotation")}return xt},Tv=function(xt,bt,At){const[St,Et,Ct,Pt]=bt;switch(At){case 0:for(let wt=0,kt=xt.length;wt<kt;wt+=2)xt[wt]-=St,xt[wt+1]=Pt-xt[wt+1];break;case 90:for(let wt=0,kt=xt.length;wt<kt;wt+=2){const Rt=xt[wt];xt[wt]=xt[wt+1]-Et,xt[wt+1]=Rt-St}break;case 180:for(let wt=0,kt=xt.length;wt<kt;wt+=2)xt[wt]=Ct-xt[wt],xt[wt+1]-=Et;break;case 270:for(let wt=0,kt=xt.length;wt<kt;wt+=2){const Rt=xt[wt];xt[wt]=Pt-xt[wt+1],xt[wt+1]=Ct-Rt}break;default:throw new Error("Invalid rotation")}return xt},Pv=function(xt,bt,At,St){var kt,Rt;const Et=[],Ct=this.thickness/2,Pt=xt*bt+Ct,wt=xt*At+Ct;for(const ht of this.paths){const vt=[],Ft=[];for(let Ht=0,qt=ht.length;Ht<qt;Ht++){const[Nt,$t,Mt,Bt]=ht[Ht];if(Nt[0]===Bt[0]&&Nt[1]===Bt[1]&&qt===1){const tn=xt*Nt[0]+Pt,bn=xt*Nt[1]+wt;vt.push(tn,bn),Ft.push(tn,bn);break}const _t=xt*Nt[0]+Pt,Kt=xt*Nt[1]+wt,jt=xt*$t[0]+Pt,Gt=xt*$t[1]+wt,Qt=xt*Mt[0]+Pt,ln=xt*Mt[1]+wt,en=xt*Bt[0]+Pt,gn=xt*Bt[1]+wt;Ht===0&&(vt.push(_t,Kt),Ft.push(_t,Kt)),vt.push(jt,Gt,Qt,ln,en,gn),Ft.push(jt,Gt),Ht===qt-1&&Ft.push(en,gn)}Et.push({bezier:In(kt=so,H0,i9).call(kt,vt,St,this.rotation),points:In(Rt=so,H0,i9).call(Rt,Ft,St,this.rotation)})}return Et},r9=function(){let xt=1/0,bt=-1/0,At=1/0,St=-1/0;for(const Et of this.paths)for(const[Ct,Pt,wt,kt]of Et){const Rt=Util.bezierBoundingBox(...Ct,...Pt,...wt,...kt);xt=Math.min(xt,Rt[0]),At=Math.min(At,Rt[1]),bt=Math.max(bt,Rt[2]),St=Math.max(St,Rt[3])}return[xt,At,bt,St]},y2=function(){return Ot(this,Sl)?Math.ceil(this.thickness*this.parentScale):0},sm=function(xt=!1){if(this.isEmpty())return;if(!Ot(this,Sl)){In(this,Zr,_u).call(this);return}const bt=In(this,Zr,r9).call(this),At=In(this,Zr,y2).call(this);$n(this,gp,Math.max(AnnotationEditor.MIN_SIZE,bt[2]-bt[0])),$n(this,pp,Math.max(AnnotationEditor.MIN_SIZE,bt[3]-bt[1]));const St=Math.ceil(At+Ot(this,gp)*this.scaleFactor),Et=Math.ceil(At+Ot(this,pp)*this.scaleFactor),[Ct,Pt]=this.parentDimensions;this.width=St/Ct,this.height=Et/Pt,this.setAspectRatio(St,Et);const wt=this.translationX,kt=this.translationY;this.translationX=-bt[0],this.translationY=-bt[1],In(this,Zr,jp).call(this),In(this,Zr,_u).call(this),$n(this,vp,St),$n(this,wp,Et),this.setDims(St,Et);const Rt=xt?At/this.scaleFactor/2:0;this.translate(wt-this.translationX-Rt,kt-this.translationY-Rt)},Nn(so,H0),Ur(so,"_defaultColor",null),Ur(so,"_defaultOpacity",1),Ur(so,"_defaultThickness",1),Ur(so,"_type","ink"),Ur(so,"_editorType",AnnotationEditorType.INK);let InkEditor=so;var _o,Fo,du,L0,fu,B1,r0,Ap,s0,Hl,Gx,Vs,am,om,v2,s9,_v,Fv,a9,w2,Rv;const gm=class gm extends AnnotationEditor{constructor(xt){super({...xt,name:"stampEditor"});Nn(this,Vs);Nn(this,_o,null);Nn(this,Fo,null);Nn(this,du,null);Nn(this,L0,null);Nn(this,fu,null);Nn(this,B1,"");Nn(this,r0,null);Nn(this,Ap,null);Nn(this,s0,null);Nn(this,Hl,!1);Nn(this,Gx,!1);$n(this,L0,xt.bitmapUrl),$n(this,fu,xt.bitmapFile)}static initialize(xt,bt){AnnotationEditor.initialize(xt,bt)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(bt=>`image/${bt}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(xt){return this.supportedTypes.includes(xt)}static paste(xt,bt){bt.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:xt.getAsFile()})}remove(){var xt,bt;Ot(this,Fo)&&($n(this,_o,null),this._uiManager.imageManager.deleteId(Ot(this,Fo)),(xt=Ot(this,r0))==null||xt.remove(),$n(this,r0,null),(bt=Ot(this,Ap))==null||bt.disconnect(),$n(this,Ap,null),Ot(this,s0)&&(clearTimeout(Ot(this,s0)),$n(this,s0,null))),super.remove()}rebuild(){if(!this.parent){Ot(this,Fo)&&In(this,Vs,v2).call(this);return}super.rebuild(),this.div!==null&&(Ot(this,Fo)&&Ot(this,r0)===null&&In(this,Vs,v2).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Ot(this,du)||Ot(this,_o)||Ot(this,L0)||Ot(this,fu)||Ot(this,Fo))}get isResizable(){return!0}render(){if(this.div)return this.div;let xt,bt;if(this.width&&(xt=this.x,bt=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),Ot(this,_o)?In(this,Vs,s9).call(this):In(this,Vs,v2).call(this),this.width){const[At,St]=this.parentDimensions;this.setAt(xt*At,bt*St,this.width*At,this.height*St)}return this.div}getImageForAltText(){return Ot(this,r0)}static deserialize(xt,bt,At){if(xt instanceof StampAnnotationElement)return null;const St=super.deserialize(xt,bt,At),{rect:Et,bitmapUrl:Ct,bitmapId:Pt,isSvg:wt,accessibilityData:kt}=xt;Pt&&At.imageManager.isValidId(Pt)?$n(St,Fo,Pt):$n(St,L0,Ct),$n(St,Hl,wt);const[Rt,ht]=St.pageDimensions;return St.width=(Et[2]-Et[0])/Rt,St.height=(Et[3]-Et[1])/ht,kt&&(St.altTextData=kt),St}serialize(xt=!1,bt=null){if(this.isEmpty())return null;const At={annotationType:AnnotationEditorType.STAMP,bitmapId:Ot(this,Fo),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Ot(this,Hl),structTreeParentId:this._structTreeParentId};if(xt)return At.bitmapUrl=In(this,Vs,w2).call(this,!0),At.accessibilityData=this.altTextData,At;const{decorative:St,altText:Et}=this.altTextData;if(!St&&Et&&(At.accessibilityData={type:"Figure",alt:Et}),bt===null)return At;bt.stamps||(bt.stamps=new Map);const Ct=Ot(this,Hl)?(At.rect[2]-At.rect[0])*(At.rect[3]-At.rect[1]):null;if(!bt.stamps.has(Ot(this,Fo)))bt.stamps.set(Ot(this,Fo),{area:Ct,serialized:At}),At.bitmap=In(this,Vs,w2).call(this,!1);else if(Ot(this,Hl)){const Pt=bt.stamps.get(Ot(this,Fo));Ct>Pt.area&&(Pt.area=Ct,Pt.serialized.bitmap.close(),Pt.serialized.bitmap=In(this,Vs,w2).call(this,!1))}return At}};_o=new WeakMap,Fo=new WeakMap,du=new WeakMap,L0=new WeakMap,fu=new WeakMap,B1=new WeakMap,r0=new WeakMap,Ap=new WeakMap,s0=new WeakMap,Hl=new WeakMap,Gx=new WeakMap,Vs=new WeakSet,am=function(xt,bt=!1){if(!xt){this.remove();return}$n(this,_o,xt.bitmap),bt||($n(this,Fo,xt.id),$n(this,Hl,xt.isSvg)),xt.file&&$n(this,B1,xt.file.name),In(this,Vs,s9).call(this)},om=function(){$n(this,du,null),this._uiManager.enableWaiting(!1),Ot(this,r0)&&this.div.focus()},v2=function(){if(Ot(this,Fo)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Ot(this,Fo)).then(bt=>In(this,Vs,am).call(this,bt,!0)).finally(()=>In(this,Vs,om).call(this));return}if(Ot(this,L0)){const bt=Ot(this,L0);$n(this,L0,null),this._uiManager.enableWaiting(!0),$n(this,du,this._uiManager.imageManager.getFromUrl(bt).then(At=>In(this,Vs,am).call(this,At)).finally(()=>In(this,Vs,om).call(this)));return}if(Ot(this,fu)){const bt=Ot(this,fu);$n(this,fu,null),this._uiManager.enableWaiting(!0),$n(this,du,this._uiManager.imageManager.getFromFile(bt).then(At=>In(this,Vs,am).call(this,At)).finally(()=>In(this,Vs,om).call(this)));return}const xt=document.createElement("input");xt.type="file",xt.accept=gm.supportedTypesStr,$n(this,du,new Promise(bt=>{xt.addEventListener("change",async()=>{if(!xt.files||xt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const At=await this._uiManager.imageManager.getFromFile(xt.files[0]);In(this,Vs,am).call(this,At)}bt()}),xt.addEventListener("cancel",()=>{this.remove(),bt()})}).finally(()=>In(this,Vs,om).call(this))),xt.click()},s9=function(){const{div:xt}=this;let{width:bt,height:At}=Ot(this,_o);const[St,Et]=this.pageDimensions,Ct=.75;if(this.width)bt=this.width*St,At=this.height*Et;else if(bt>Ct*St||At>Ct*Et){const Rt=Math.min(Ct*St/bt,Ct*Et/At);bt*=Rt,At*=Rt}const[Pt,wt]=this.parentDimensions;this.setDims(bt*Pt/St,At*wt/Et),this._uiManager.enableWaiting(!1);const kt=$n(this,r0,document.createElement("canvas"));xt.append(kt),xt.hidden=!1,In(this,Vs,a9).call(this,bt,At),In(this,Vs,Rv).call(this),Ot(this,Gx)||(this.parent.addUndoableEditor(this),$n(this,Gx,!0)),this._reportTelemetry({action:"inserted_image"}),Ot(this,B1)&&kt.setAttribute("aria-label",Ot(this,B1))},_v=function(xt,bt){var Ct;const[At,St]=this.parentDimensions;this.width=xt/At,this.height=bt/St,this.setDims(xt,bt),(Ct=this._initialOptions)!=null&&Ct.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Ot(this,s0)!==null&&clearTimeout(Ot(this,s0)),$n(this,s0,setTimeout(()=>{$n(this,s0,null),In(this,Vs,a9).call(this,xt,bt)},200))},Fv=function(xt,bt){const{width:At,height:St}=Ot(this,_o);let Et=At,Ct=St,Pt=Ot(this,_o);for(;Et>2*xt||Ct>2*bt;){const wt=Et,kt=Ct;Et>2*xt&&(Et=Et>=16384?Math.floor(Et/2)-1:Math.ceil(Et/2)),Ct>2*bt&&(Ct=Ct>=16384?Math.floor(Ct/2)-1:Math.ceil(Ct/2));const Rt=new OffscreenCanvas(Et,Ct);Rt.getContext("2d").drawImage(Pt,0,0,wt,kt,0,0,Et,Ct),Pt=Rt.transferToImageBitmap()}return Pt},a9=function(xt,bt){xt=Math.ceil(xt),bt=Math.ceil(bt);const At=Ot(this,r0);if(!At||At.width===xt&&At.height===bt)return;At.width=xt,At.height=bt;const St=Ot(this,Hl)?Ot(this,_o):In(this,Vs,Fv).call(this,xt,bt);if(this._uiManager.hasMLManager&&!this.hasAltText()){const Pt=new OffscreenCanvas(xt,bt).getContext("2d");Pt.drawImage(St,0,0,St.width,St.height,0,0,xt,bt),this._uiManager.mlGuess({service:"image-to-text",request:{data:Pt.getImageData(0,0,xt,bt).data,width:xt,height:bt,channels:4}}).then(wt=>{const kt=(wt==null?void 0:wt.output)||"";this.parent&&kt&&!this.hasAltText()&&(this.altTextData={altText:kt,decorative:!1})})}const Et=At.getContext("2d");Et.filter=this._uiManager.hcmFilter,Et.drawImage(St,0,0,St.width,St.height,0,0,xt,bt)},w2=function(xt){if(xt){if(Ot(this,Hl)){const St=this._uiManager.imageManager.getSvgUrl(Ot(this,Fo));if(St)return St}const bt=document.createElement("canvas");return{width:bt.width,height:bt.height}=Ot(this,_o),bt.getContext("2d").drawImage(Ot(this,_o),0,0),bt.toDataURL()}if(Ot(this,Hl)){const[bt,At]=this.pageDimensions,St=Math.round(this.width*bt*PixelsPerInch.PDF_TO_CSS_UNITS),Et=Math.round(this.height*At*PixelsPerInch.PDF_TO_CSS_UNITS),Ct=new OffscreenCanvas(St,Et);return Ct.getContext("2d").drawImage(Ot(this,_o),0,0,Ot(this,_o).width,Ot(this,_o).height,0,0,St,Et),Ct.transferToImageBitmap()}return structuredClone(Ot(this,_o))},Rv=function(){$n(this,Ap,new ResizeObserver(xt=>{const bt=xt[0].contentRect;bt.width&&bt.height&&In(this,Vs,_v).call(this,bt.width,bt.height)})),Ot(this,Ap).observe(this.div)},Ur(gm,"_type","stamp"),Ur(gm,"_editorType",AnnotationEditorType.STAMP);let StampEditor=gm;var Sp,j1,a0,Cp,D0,N0,$0,Jo,pu,U1,H1,No,Ss,gu,Ro,Mv,o9,l9,c9,A2;const Fl=class Fl{constructor({uiManager:$,pageIndex:xt,div:bt,accessibilityManager:At,annotationLayer:St,drawLayer:Et,textLayer:Ct,viewport:Pt,l10n:wt}){Nn(this,Ro);Nn(this,Sp);Nn(this,j1,!1);Nn(this,a0,null);Nn(this,Cp,null);Nn(this,D0,null);Nn(this,N0,null);Nn(this,$0,null);Nn(this,Jo,new Map);Nn(this,pu,!1);Nn(this,U1,!1);Nn(this,H1,!1);Nn(this,No,null);Nn(this,Ss);const kt=[...Ot(Fl,gu).values()];if(!Fl._initialized){Fl._initialized=!0;for(const Rt of kt)Rt.initialize(wt,$)}$.registerEditorTypes(kt),$n(this,Ss,$),this.pageIndex=xt,this.div=bt,$n(this,Sp,At),$n(this,a0,St),this.viewport=Pt,$n(this,No,Ct),this.drawLayer=Et,Ot(this,Ss).addLayer(this)}get isEmpty(){return Ot(this,Jo).size===0}get isInvisible(){return this.isEmpty&&Ot(this,Ss).getMode()===AnnotationEditorType.NONE}updateToolbar($){Ot(this,Ss).updateToolbar($)}updateMode($=Ot(this,Ss).getMode()){switch(In(this,Ro,A2).call(this),$){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:xt}=this.div;for(const bt of Ot(Fl,gu).values())xt.toggle(`${bt._type}Editing`,$===bt._editorType);this.div.hidden=!1}hasTextLayer($){var xt;return $===((xt=Ot(this,No))==null?void 0:xt.div)}addInkEditorIfNeeded($){if(Ot(this,Ss).getMode()!==AnnotationEditorType.INK)return;if(!$){for(const bt of Ot(this,Jo).values())if(bt.isEmpty()){bt.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($){Ot(this,Ss).setEditingState($)}addCommands($){Ot(this,Ss).addCommands($)}togglePointerEvents($=!1){this.div.classList.toggle("disabled",!$)}toggleAnnotationLayerPointerEvents($=!1){var xt;(xt=Ot(this,a0))==null||xt.div.classList.toggle("disabled",!$)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const $=new Set;for(const bt of Ot(this,Jo).values())bt.enableEditing(),bt.show(!0),bt.annotationElementId&&(Ot(this,Ss).removeChangedExistingAnnotation(bt),$.add(bt.annotationElementId));if(!Ot(this,a0))return;const xt=Ot(this,a0).getEditableAnnotations();for(const bt of xt){if(bt.hide(),Ot(this,Ss).isDeletedAnnotationElement(bt.data.id)||$.has(bt.data.id))continue;const At=this.deserialize(bt);At&&(this.addOrRebuild(At),At.enableEditing())}}disable(){var At;$n(this,H1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const $=new Map,xt=new Map;for(const St of Ot(this,Jo).values())if(St.disableEditing(),!!St.annotationElementId){if(St.serialize()!==null){$.set(St.annotationElementId,St);continue}else xt.set(St.annotationElementId,St);(At=this.getEditableAnnotation(St.annotationElementId))==null||At.show(),St.remove()}if(Ot(this,a0)){const St=Ot(this,a0).getEditableAnnotations();for(const Et of St){const{id:Ct}=Et.data;if(Ot(this,Ss).isDeletedAnnotationElement(Ct))continue;let Pt=xt.get(Ct);if(Pt){Pt.resetAnnotationElement(Et),Pt.show(!1),Et.show();continue}Pt=$.get(Ct),Pt&&(Ot(this,Ss).addChangedExistingAnnotation(Pt),Pt.renderAnnotationElement(Et),Pt.show(!1)),Et.show()}}In(this,Ro,A2).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:bt}=this.div;for(const St of Ot(Fl,gu).values())bt.remove(`${St._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),$n(this,H1,!1)}getEditableAnnotation($){var xt;return((xt=Ot(this,a0))==null?void 0:xt.getEditableAnnotation($))||null}setActiveEditor($){Ot(this,Ss).getActive()!==$&&Ot(this,Ss).setActiveEditor($)}enableTextSelection(){var $;this.div.tabIndex=-1,($=Ot(this,No))!=null&&$.div&&!Ot(this,N0)&&($n(this,N0,In(this,Ro,Mv).bind(this)),Ot(this,No).div.addEventListener("pointerdown",Ot(this,N0)),Ot(this,No).div.classList.add("highlighting"))}disableTextSelection(){var $;this.div.tabIndex=0,($=Ot(this,No))!=null&&$.div&&Ot(this,N0)&&(Ot(this,No).div.removeEventListener("pointerdown",Ot(this,N0)),$n(this,N0,null),Ot(this,No).div.classList.remove("highlighting"))}enableClick(){Ot(this,D0)||($n(this,D0,this.pointerdown.bind(this)),$n(this,Cp,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",Ot(this,D0)),this.div.addEventListener("pointerup",Ot(this,Cp)))}disableClick(){Ot(this,D0)&&(this.div.removeEventListener("pointerdown",Ot(this,D0)),this.div.removeEventListener("pointerup",Ot(this,Cp)),$n(this,D0,null),$n(this,Cp,null))}attach($){Ot(this,Jo).set($.id,$);const{annotationElementId:xt}=$;xt&&Ot(this,Ss).isDeletedAnnotationElement(xt)&&Ot(this,Ss).removeDeletedAnnotationElement($)}detach($){var xt;Ot(this,Jo).delete($.id),(xt=Ot(this,Sp))==null||xt.removePointerInTextLayer($.contentDiv),!Ot(this,H1)&&$.annotationElementId&&Ot(this,Ss).addDeletedAnnotationElement($)}remove($){this.detach($),Ot(this,Ss).removeEditor($),$.div.remove(),$.isAttachedToDOM=!1,Ot(this,U1)||this.addInkEditorIfNeeded(!1)}changeParent($){var xt;$.parent!==this&&($.parent&&$.annotationElementId&&(Ot(this,Ss).addDeletedAnnotationElement($.annotationElementId),AnnotationEditor.deleteAnnotationElement($),$.annotationElementId=null),this.attach($),(xt=$.parent)==null||xt.detach($),$.setParent(this),$.div&&$.isAttachedToDOM&&($.div.remove(),this.div.append($.div)))}add($){if(!($.parent===this&&$.isAttachedToDOM)){if(this.changeParent($),Ot(this,Ss).addEditor($),this.attach($),!$.isAttachedToDOM){const xt=$.render();this.div.append(xt),$.isAttachedToDOM=!0}$.fixAndSetPosition(),$.onceAdded(),Ot(this,Ss).addToAnnotationStorage($),$._reportTelemetry($.telemetryInitialData)}}moveEditorInDOM($){var bt;if(!$.isAttachedToDOM)return;const{activeElement:xt}=document;$.div.contains(xt)&&!Ot(this,$0)&&($._focusEventsAllowed=!1,$n(this,$0,setTimeout(()=>{$n(this,$0,null),$.div.contains(document.activeElement)?$._focusEventsAllowed=!0:($.div.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),xt.focus())},0))),$._structTreeParentId=(bt=Ot(this,Sp))==null?void 0:bt.moveElementInDOM(this.div,$.div,$.contentDiv,!0)}addOrRebuild($){$.needsToBeRebuilt()?($.parent||($.parent=this),$.rebuild(),$.show()):this.add($)}addUndoableEditor($){const xt=()=>$._uiManager.rebuild($),bt=()=>{$.remove()};this.addCommands({cmd:xt,undo:bt,mustExec:!1})}getNextId(){return Ot(this,Ss).getId()}canCreateNewEmptyEditor(){var $;return($=Ot(this,Ro,o9))==null?void 0:$.canCreateNewEmptyEditor()}pasteEditor($,xt){Ot(this,Ss).updateToolbar($),Ot(this,Ss).updateMode($);const{offsetX:bt,offsetY:At}=In(this,Ro,c9).call(this),St=this.getNextId(),Et=In(this,Ro,l9).call(this,{parent:this,id:St,x:bt,y:At,uiManager:Ot(this,Ss),isCentered:!0,...xt});Et&&this.add(Et)}deserialize($){var xt;return((xt=Ot(Fl,gu).get($.annotationType??$.annotationEditorType))==null?void 0:xt.deserialize($,this,Ot(this,Ss)))||null}createAndAddNewEditor($,xt,bt={}){const At=this.getNextId(),St=In(this,Ro,l9).call(this,{parent:this,id:At,x:$.offsetX,y:$.offsetY,uiManager:Ot(this,Ss),isCentered:xt,...bt});return St&&this.add(St),St}addNewEditor(){this.createAndAddNewEditor(In(this,Ro,c9).call(this),!0)}setSelected($){Ot(this,Ss).setSelected($)}toggleSelected($){Ot(this,Ss).toggleSelected($)}isSelected($){return Ot(this,Ss).isSelected($)}unselect($){Ot(this,Ss).unselect($)}pointerup($){const{isMac:xt}=util_FeatureTest.platform;if(!($.button!==0||$.ctrlKey&&xt)&&$.target===this.div&&Ot(this,pu)){if($n(this,pu,!1),!Ot(this,j1)){$n(this,j1,!0);return}if(Ot(this,Ss).getMode()===AnnotationEditorType.STAMP){Ot(this,Ss).unselectAll();return}this.createAndAddNewEditor($,!1)}}pointerdown($){if(Ot(this,Ss).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),Ot(this,pu)){$n(this,pu,!1);return}const{isMac:xt}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&xt||$.target!==this.div)return;$n(this,pu,!0);const bt=Ot(this,Ss).getActive();$n(this,j1,!bt||bt.isEmpty())}findNewParent($,xt,bt){const At=Ot(this,Ss).findParent(xt,bt);return At===null||At===this?!1:(At.changeParent($),!0)}destroy(){var $,xt;(($=Ot(this,Ss).getActive())==null?void 0:$.parent)===this&&(Ot(this,Ss).commitOrRemove(),Ot(this,Ss).setActiveEditor(null)),Ot(this,$0)&&(clearTimeout(Ot(this,$0)),$n(this,$0,null));for(const bt of Ot(this,Jo).values())(xt=Ot(this,Sp))==null||xt.removePointerInTextLayer(bt.contentDiv),bt.setParent(null),bt.isAttachedToDOM=!1,bt.div.remove();this.div=null,Ot(this,Jo).clear(),Ot(this,Ss).removeLayer(this)}render({viewport:$}){this.viewport=$,setLayerDimensions(this.div,$);for(const xt of Ot(this,Ss).getEditors(this.pageIndex))this.add(xt),xt.rebuild();this.updateMode()}update({viewport:$}){Ot(this,Ss).commitOrRemove(),In(this,Ro,A2).call(this);const xt=this.viewport.rotation,bt=$.rotation;if(this.viewport=$,setLayerDimensions(this.div,{rotation:bt}),xt!==bt)for(const At of Ot(this,Jo).values())At.rotate(bt);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:$,pageHeight:xt}=this.viewport.rawDims;return[$,xt]}get scale(){return Ot(this,Ss).viewParameters.realScale}};Sp=new WeakMap,j1=new WeakMap,a0=new WeakMap,Cp=new WeakMap,D0=new WeakMap,N0=new WeakMap,$0=new WeakMap,Jo=new WeakMap,pu=new WeakMap,U1=new WeakMap,H1=new WeakMap,No=new WeakMap,Ss=new WeakMap,gu=new WeakMap,Ro=new WeakSet,Mv=function($){if(Ot(this,Ss).unselectAll(),$.target===Ot(this,No).div){const{isMac:xt}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&xt)return;Ot(this,Ss).showAllEditors("highlight",!0,!0),Ot(this,No).div.classList.add("free"),HighlightEditor.startHighlighting(this,Ot(this,Ss).direction==="ltr",$),Ot(this,No).div.addEventListener("pointerup",()=>{Ot(this,No).div.classList.remove("free")},{once:!0}),$.preventDefault()}},o9=function(){return Ot(Fl,gu).get(Ot(this,Ss).getMode())},l9=function($){const xt=Ot(this,Ro,o9);return xt?new xt.prototype.constructor($):null},c9=function(){const{x:$,y:xt,width:bt,height:At}=this.div.getBoundingClientRect(),St=Math.max(0,$),Et=Math.max(0,xt),Ct=Math.min(window.innerWidth,$+bt),Pt=Math.min(window.innerHeight,xt+At),wt=(St+Ct)/2-$,kt=(Et+Pt)/2-xt,[Rt,ht]=this.viewport.rotation%180===0?[wt,kt]:[kt,wt];return{offsetX:Rt,offsetY:ht}},A2=function(){$n(this,U1,!0);for(const $ of Ot(this,Jo).values())$.isEmpty()&&$.remove();$n(this,U1,!1)},Ur(Fl,"_initialized",!1),Nn(Fl,gu,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map($=>[$._editorType,$])));let AnnotationEditorLayer=Fl;var o0,qx,mo,mu,Kx,u9,kp,h9,Iv;const Co=class Co{constructor({pageIndex:$}){Nn(this,kp);Nn(this,o0,null);Nn(this,qx,0);Nn(this,mo,new Map);Nn(this,mu,new Map);this.pageIndex=$}setParent($){if(!Ot(this,o0)){$n(this,o0,$);return}if(Ot(this,o0)!==$){if(Ot(this,mo).size>0)for(const xt of Ot(this,mo).values())xt.remove(),$.append(xt);$n(this,o0,$)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}highlight($,xt,bt,At=!1){const St=So(this,qx)._++,Et=In(this,kp,h9).call(this,$.box);Et.classList.add("highlight"),$.free&&Et.classList.add("free");const Ct=Co._svgFactory.createElement("defs");Et.append(Ct);const Pt=Co._svgFactory.createElement("path");Ct.append(Pt);const wt=`path_p${this.pageIndex}_${St}`;Pt.setAttribute("id",wt),Pt.setAttribute("d",$.toSVGPath()),At&&Ot(this,mu).set(St,Pt);const kt=In(this,kp,Iv).call(this,Ct,wt),Rt=Co._svgFactory.createElement("use");return Et.append(Rt),Et.setAttribute("fill",xt),Et.setAttribute("fill-opacity",bt),Rt.setAttribute("href",`#${wt}`),Ot(this,mo).set(St,Et),{id:St,clipPathId:`url(#${kt})`}}highlightOutline($){const xt=So(this,qx)._++,bt=In(this,kp,h9).call(this,$.box);bt.classList.add("highlightOutline");const At=Co._svgFactory.createElement("defs");bt.append(At);const St=Co._svgFactory.createElement("path");At.append(St);const Et=`path_p${this.pageIndex}_${xt}`;St.setAttribute("id",Et),St.setAttribute("d",$.toSVGPath()),St.setAttribute("vector-effect","non-scaling-stroke");let Ct;if($.free){bt.classList.add("free");const kt=Co._svgFactory.createElement("mask");At.append(kt),Ct=`mask_p${this.pageIndex}_${xt}`,kt.setAttribute("id",Ct),kt.setAttribute("maskUnits","objectBoundingBox");const Rt=Co._svgFactory.createElement("rect");kt.append(Rt),Rt.setAttribute("width","1"),Rt.setAttribute("height","1"),Rt.setAttribute("fill","white");const ht=Co._svgFactory.createElement("use");kt.append(ht),ht.setAttribute("href",`#${Et}`),ht.setAttribute("stroke","none"),ht.setAttribute("fill","black"),ht.setAttribute("fill-rule","nonzero"),ht.classList.add("mask")}const Pt=Co._svgFactory.createElement("use");bt.append(Pt),Pt.setAttribute("href",`#${Et}`),Ct&&Pt.setAttribute("mask",`url(#${Ct})`);const wt=Pt.cloneNode();return bt.append(wt),Pt.classList.add("mainOutline"),wt.classList.add("secondaryOutline"),Ot(this,mo).set(xt,bt),xt}finalizeLine($,xt){const bt=Ot(this,mu).get($);Ot(this,mu).delete($),this.updateBox($,xt.box),bt.setAttribute("d",xt.toSVGPath())}updateLine($,xt){Ot(this,mo).get($).firstChild.firstChild.setAttribute("d",xt.toSVGPath())}removeFreeHighlight($){this.remove($),Ot(this,mu).delete($)}updatePath($,xt){Ot(this,mu).get($).setAttribute("d",xt.toSVGPath())}updateBox($,xt){var bt;In(bt=Co,Kx,u9).call(bt,Ot(this,mo).get($),xt)}show($,xt){Ot(this,mo).get($).classList.toggle("hidden",!xt)}rotate($,xt){Ot(this,mo).get($).setAttribute("data-main-rotation",xt)}changeColor($,xt){Ot(this,mo).get($).setAttribute("fill",xt)}changeOpacity($,xt){Ot(this,mo).get($).setAttribute("fill-opacity",xt)}addClass($,xt){Ot(this,mo).get($).classList.add(xt)}removeClass($,xt){Ot(this,mo).get($).classList.remove(xt)}remove($){Ot(this,o0)!==null&&(Ot(this,mo).get($).remove(),Ot(this,mo).delete($))}destroy(){$n(this,o0,null);for(const $ of Ot(this,mo).values())$.remove();Ot(this,mo).clear()}};o0=new WeakMap,qx=new WeakMap,mo=new WeakMap,mu=new WeakMap,Kx=new WeakSet,u9=function($,{x:xt=0,y:bt=0,width:At=1,height:St=1}={}){const{style:Et}=$;Et.top=`${100*bt}%`,Et.left=`${100*xt}%`,Et.width=`${100*At}%`,Et.height=`${100*St}%`},kp=new WeakSet,h9=function($){var bt;const xt=Co._svgFactory.create(1,1,!0);return Ot(this,o0).append(xt),xt.setAttribute("aria-hidden",!0),In(bt=Co,Kx,u9).call(bt,xt,$),xt},Iv=function($,xt){const bt=Co._svgFactory.createElement("clipPath");$.append(bt);const At=`clip_${xt}`;bt.setAttribute("id",At),bt.setAttribute("clipPathUnits","objectBoundingBox");const St=Co._svgFactory.createElement("use");return bt.append(St),St.setAttribute("href",`#${xt}`),St.classList.add("clip"),At},Nn(Co,Kx);let DrawLayer=Co;__webpack_exports__.AbortException;__webpack_exports__.AnnotationEditorLayer;__webpack_exports__.AnnotationEditorParamsType;__webpack_exports__.AnnotationEditorType;__webpack_exports__.AnnotationEditorUIManager;__webpack_exports__.AnnotationLayer;__webpack_exports__.AnnotationMode;__webpack_exports__.CMapCompressionType;__webpack_exports__.ColorPicker;__webpack_exports__.DOMSVGFactory;__webpack_exports__.DrawLayer;__webpack_exports__.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions;__webpack_exports__.ImageKind;__webpack_exports__.InvalidPDFException;__webpack_exports__.MissingPDFException;__webpack_exports__.OPS;__webpack_exports__.Outliner;__webpack_exports__.PDFDataRangeTransport;__webpack_exports__.PDFDateString;__webpack_exports__.PDFWorker;__webpack_exports__.PasswordResponses;__webpack_exports__.PermissionFlag;__webpack_exports__.PixelsPerInch;__webpack_exports__.RenderingCancelledException;__webpack_exports__.TextLayer;__webpack_exports__.UnexpectedResponseException;__webpack_exports__.Util;__webpack_exports__.VerbosityLevel;__webpack_exports__.XfaLayer;__webpack_exports__.build;__webpack_exports__.createValidAbsoluteUrl;__webpack_exports__.fetchData;__webpack_exports__.getDocument;__webpack_exports__.getFilenameFromUrl;__webpack_exports__.getPdfFilenameFromUrl;__webpack_exports__.getXfaPageViewport;__webpack_exports__.isDataScheme;__webpack_exports__.isPdfFile;__webpack_exports__.noContextMenu;__webpack_exports__.normalizeUnicode;__webpack_exports__.renderTextLayer;__webpack_exports__.setLayerDimensions;__webpack_exports__.shadow;__webpack_exports__.updateTextLayer;__webpack_exports__.version;function commonjsRequire(_e){throw new Error('Could not dynamically require "'+_e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,xt){module.exports=$.pdfjsLib=xt()})(globalThis,()=>(()=>{var __webpack_modules__=[,(_e,$)=>{var er;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=Lt,$.bytesToString=vn,$.createValidAbsoluteUrl=an,$.getModificationDate=Tn,$.getUuid=Un,$.getVerbosityLevel=Xt,$.info=Yt,$.isArrayBuffer=Cn,$.isArrayEqual=An,$.isNodeJS=void 0,$.normalizeUnicode=Dn,$.objectFromMap=Pn,$.objectSize=On,$.setVerbosityLevel=bn,$.shadow=zt,$.string32=Fn,$.stringToBytes=kn,$.stringToPDFString=wn,$.stringToUTF8String=En,$.unreachable=Ut,$.utf8StringToString=_n,$.warn=un;const xt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=xt;const bt=[1,0,0,1,0,0];$.IDENTITY_MATRIX=bt;const At=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=At;const St=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=St;const Et=1.35;$.LINE_FACTOR=Et;const Ct=.35;$.LINE_DESCENT_FACTOR=Ct;const Pt=Ct/Et;$.BASELINE_FACTOR=Pt;const wt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=wt;const kt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=kt;const Rt="pdfjs_internal_editor_";$.AnnotationEditorPrefix=Rt;const ht={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=ht;const vt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=vt;const Ft={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=Ft;const Ht={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=Ht;const qt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=qt;const Nt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=Nt;const $t={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=$t;const Mt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=Mt;const Bt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=Bt;const _t={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=_t;const Kt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=Kt;const jt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=jt;const Gt={O:"PageOpen",C:"PageClose"};$.PageActionEventType=Gt;const Qt={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=Qt;const ln={NONE:0,BINARY:1};$.CMapCompressionType=ln;const en={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=en;const gn={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=gn;let tn=Qt.WARNINGS;function bn(Qn){Number.isInteger(Qn)&&(tn=Qn)}function Xt(){return tn}function Yt(Qn){tn>=Qt.INFOS&&console.log(`Info: ${Qn}`)}function un(Qn){tn>=Qt.WARNINGS&&console.log(`Warning: ${Qn}`)}function Ut(Qn){throw new Error(Qn)}function Lt(Qn,Yn){Qn||Ut(Yn)}function Vt(Qn){switch(Qn==null?void 0:Qn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function an(Qn,Yn=null,zn=null){if(!Qn)return null;try{if(zn&&typeof Qn=="string"){if(zn.addDefaultProtocol&&Qn.startsWith("www.")){const lr=Qn.match(/\./g);(lr==null?void 0:lr.length)>=2&&(Qn=`http://${Qn}`)}if(zn.tryConvertEncoding)try{Qn=En(Qn)}catch{}}const nr=Yn?new URL(Qn,Yn):new URL(Qn);if(Vt(nr))return nr}catch{}return null}function zt(Qn,Yn,zn,nr=!1){return Object.defineProperty(Qn,Yn,{value:zn,enumerable:!nr,configurable:!0,writable:!1}),zn}const Wt=function(){function Yn(zn,nr){this.constructor===Yn&&Ut("Cannot initialize BaseException."),this.message=zn,this.name=nr}return Yn.prototype=new Error,Yn.constructor=Yn,Yn}();$.BaseException=Wt;class nn extends Wt{constructor(Yn,zn){super(Yn,"PasswordException"),this.code=zn}}$.PasswordException=nn;class dn extends Wt{constructor(Yn,zn){super(Yn,"UnknownErrorException"),this.details=zn}}$.UnknownErrorException=dn;class on extends Wt{constructor(Yn){super(Yn,"InvalidPDFException")}}$.InvalidPDFException=on;class hn extends Wt{constructor(Yn){super(Yn,"MissingPDFException")}}$.MissingPDFException=hn;class sn extends Wt{constructor(Yn,zn){super(Yn,"UnexpectedResponseException"),this.status=zn}}$.UnexpectedResponseException=sn;class rn extends Wt{constructor(Yn){super(Yn,"FormatError")}}$.FormatError=rn;class xn extends Wt{constructor(Yn){super(Yn,"AbortException")}}$.AbortException=xn;function vn(Qn){(typeof Qn!="object"||(Qn==null?void 0:Qn.length)===void 0)&&Ut("Invalid argument for bytesToString");const Yn=Qn.length,zn=8192;if(Yn<zn)return String.fromCharCode.apply(null,Qn);const nr=[];for(let lr=0;lr<Yn;lr+=zn){const dr=Math.min(lr+zn,Yn),jn=Qn.subarray(lr,dr);nr.push(String.fromCharCode.apply(null,jn))}return nr.join("")}function kn(Qn){typeof Qn!="string"&&Ut("Invalid argument for stringToBytes");const Yn=Qn.length,zn=new Uint8Array(Yn);for(let nr=0;nr<Yn;++nr)zn[nr]=Qn.charCodeAt(nr)&255;return zn}function Fn(Qn){return String.fromCharCode(Qn>>24&255,Qn>>16&255,Qn>>8&255,Qn&255)}function On(Qn){return Object.keys(Qn).length}function Pn(Qn){const Yn=Object.create(null);for(const[zn,nr]of Qn)Yn[zn]=nr;return Yn}function Sn(){const Qn=new Uint8Array(4);return Qn[0]=1,new Uint32Array(Qn.buffer,0,1)[0]===1}function mn(){try{return new Function(""),!0}catch{return!1}}class fn{static get isLittleEndian(){return zt(this,"isLittleEndian",Sn())}static get isEvalSupported(){return zt(this,"isEvalSupported",mn())}static get isOffscreenCanvasSupported(){return zt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?zt(this,"platform",{isWin:!1,isMac:!1}):zt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Yn,zn;return zt(this,"isCSSRoundSupported",(zn=(Yn=globalThis.CSS)==null?void 0:Yn.supports)==null?void 0:zn.call(Yn,"width: round(1.5px, 1px)"))}}$.FeatureTest=fn;const Jt=[...Array(256).keys()].map(Qn=>Qn.toString(16).padStart(2,"0"));class cn{static makeHexColor(Yn,zn,nr){return`#${Jt[Yn]}${Jt[zn]}${Jt[nr]}`}static scaleMinMax(Yn,zn){let nr;Yn[0]?(Yn[0]<0&&(nr=zn[0],zn[0]=zn[1],zn[1]=nr),zn[0]*=Yn[0],zn[1]*=Yn[0],Yn[3]<0&&(nr=zn[2],zn[2]=zn[3],zn[3]=nr),zn[2]*=Yn[3],zn[3]*=Yn[3]):(nr=zn[0],zn[0]=zn[2],zn[2]=nr,nr=zn[1],zn[1]=zn[3],zn[3]=nr,Yn[1]<0&&(nr=zn[2],zn[2]=zn[3],zn[3]=nr),zn[2]*=Yn[1],zn[3]*=Yn[1],Yn[2]<0&&(nr=zn[0],zn[0]=zn[1],zn[1]=nr),zn[0]*=Yn[2],zn[1]*=Yn[2]),zn[0]+=Yn[4],zn[1]+=Yn[4],zn[2]+=Yn[5],zn[3]+=Yn[5]}static transform(Yn,zn){return[Yn[0]*zn[0]+Yn[2]*zn[1],Yn[1]*zn[0]+Yn[3]*zn[1],Yn[0]*zn[2]+Yn[2]*zn[3],Yn[1]*zn[2]+Yn[3]*zn[3],Yn[0]*zn[4]+Yn[2]*zn[5]+Yn[4],Yn[1]*zn[4]+Yn[3]*zn[5]+Yn[5]]}static applyTransform(Yn,zn){const nr=Yn[0]*zn[0]+Yn[1]*zn[2]+zn[4],lr=Yn[0]*zn[1]+Yn[1]*zn[3]+zn[5];return[nr,lr]}static applyInverseTransform(Yn,zn){const nr=zn[0]*zn[3]-zn[1]*zn[2],lr=(Yn[0]*zn[3]-Yn[1]*zn[2]+zn[2]*zn[5]-zn[4]*zn[3])/nr,dr=(-Yn[0]*zn[1]+Yn[1]*zn[0]+zn[4]*zn[1]-zn[5]*zn[0])/nr;return[lr,dr]}static getAxialAlignedBoundingBox(Yn,zn){const nr=this.applyTransform(Yn,zn),lr=this.applyTransform(Yn.slice(2,4),zn),dr=this.applyTransform([Yn[0],Yn[3]],zn),jn=this.applyTransform([Yn[2],Yn[1]],zn);return[Math.min(nr[0],lr[0],dr[0],jn[0]),Math.min(nr[1],lr[1],dr[1],jn[1]),Math.max(nr[0],lr[0],dr[0],jn[0]),Math.max(nr[1],lr[1],dr[1],jn[1])]}static inverseTransform(Yn){const zn=Yn[0]*Yn[3]-Yn[1]*Yn[2];return[Yn[3]/zn,-Yn[1]/zn,-Yn[2]/zn,Yn[0]/zn,(Yn[2]*Yn[5]-Yn[4]*Yn[3])/zn,(Yn[4]*Yn[1]-Yn[5]*Yn[0])/zn]}static singularValueDecompose2dScale(Yn){const zn=[Yn[0],Yn[2],Yn[1],Yn[3]],nr=Yn[0]*zn[0]+Yn[1]*zn[2],lr=Yn[0]*zn[1]+Yn[1]*zn[3],dr=Yn[2]*zn[0]+Yn[3]*zn[2],jn=Yn[2]*zn[1]+Yn[3]*zn[3],Hn=(nr+jn)/2,Xn=Math.sqrt((nr+jn)**2-4*(nr*jn-dr*lr))/2,cr=Hn+Xn||1,sr=Hn-Xn||1;return[Math.sqrt(cr),Math.sqrt(sr)]}static normalizeRect(Yn){const zn=Yn.slice(0);return Yn[0]>Yn[2]&&(zn[0]=Yn[2],zn[2]=Yn[0]),Yn[1]>Yn[3]&&(zn[1]=Yn[3],zn[3]=Yn[1]),zn}static intersect(Yn,zn){const nr=Math.max(Math.min(Yn[0],Yn[2]),Math.min(zn[0],zn[2])),lr=Math.min(Math.max(Yn[0],Yn[2]),Math.max(zn[0],zn[2]));if(nr>lr)return null;const dr=Math.max(Math.min(Yn[1],Yn[3]),Math.min(zn[1],zn[3])),jn=Math.min(Math.max(Yn[1],Yn[3]),Math.max(zn[1],zn[3]));return dr>jn?null:[nr,dr,lr,jn]}static bezierBoundingBox(Yn,zn,nr,lr,dr,jn,Hn,Xn){const cr=[],sr=[[],[]];let xr,Jn,Wn,Zn,ur,hr,or,pr;for(let Dr=0;Dr<2;++Dr){if(Dr===0?(Jn=6*Yn-12*nr+6*dr,xr=-3*Yn+9*nr-9*dr+3*Hn,Wn=3*nr-3*Yn):(Jn=6*zn-12*lr+6*jn,xr=-3*zn+9*lr-9*jn+3*Xn,Wn=3*lr-3*zn),Math.abs(xr)<1e-12){if(Math.abs(Jn)<1e-12)continue;Zn=-Wn/Jn,0<Zn&&Zn<1&&cr.push(Zn);continue}or=Jn*Jn-4*Wn*xr,pr=Math.sqrt(or),!(or<0)&&(ur=(-Jn+pr)/(2*xr),0<ur&&ur<1&&cr.push(ur),hr=(-Jn-pr)/(2*xr),0<hr&&hr<1&&cr.push(hr))}let wr=cr.length,fr;const Ar=wr;for(;wr--;)Zn=cr[wr],fr=1-Zn,sr[0][wr]=fr*fr*fr*Yn+3*fr*fr*Zn*nr+3*fr*Zn*Zn*dr+Zn*Zn*Zn*Hn,sr[1][wr]=fr*fr*fr*zn+3*fr*fr*Zn*lr+3*fr*Zn*Zn*jn+Zn*Zn*Zn*Xn;return sr[0][Ar]=Yn,sr[1][Ar]=zn,sr[0][Ar+1]=Hn,sr[1][Ar+1]=Xn,sr[0].length=sr[1].length=Ar+2,[Math.min(...sr[0]),Math.min(...sr[1]),Math.max(...sr[0]),Math.max(...sr[1])]}}$.Util=cn;const pn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function wn(Qn){if(Qn[0]>=""){let zn;if(Qn[0]===""&&Qn[1]===""?zn="utf-16be":Qn[0]===""&&Qn[1]===""?zn="utf-16le":Qn[0]===""&&Qn[1]===""&&Qn[2]===""&&(zn="utf-8"),zn)try{const nr=new TextDecoder(zn,{fatal:!0}),lr=kn(Qn);return nr.decode(lr)}catch(nr){un(`stringToPDFString: "${nr}".`)}}const Yn=[];for(let zn=0,nr=Qn.length;zn<nr;zn++){const lr=pn[Qn.charCodeAt(zn)];Yn.push(lr?String.fromCharCode(lr):Qn.charAt(zn))}return Yn.join("")}function En(Qn){return decodeURIComponent(escape(Qn))}function _n(Qn){return unescape(encodeURIComponent(Qn))}function Cn(Qn){return typeof Qn=="object"&&(Qn==null?void 0:Qn.byteLength)!==void 0}function An(Qn,Yn){if(Qn.length!==Yn.length)return!1;for(let zn=0,nr=Qn.length;zn<nr;zn++)if(Qn[zn]!==Yn[zn])return!1;return!0}function Tn(Qn=new Date){return[Qn.getUTCFullYear().toString(),(Qn.getUTCMonth()+1).toString().padStart(2,"0"),Qn.getUTCDate().toString().padStart(2,"0"),Qn.getUTCHours().toString().padStart(2,"0"),Qn.getUTCMinutes().toString().padStart(2,"0"),Qn.getUTCSeconds().toString().padStart(2,"0")].join("")}class Mn{constructor(){Nn(this,er,!1);this.promise=new Promise((Yn,zn)=>{this.resolve=nr=>{$n(this,er,!0),Yn(nr)},this.reject=nr=>{$n(this,er,!0),zn(nr)}})}get settled(){return Ot(this,er)}}er=new WeakMap,$.PromiseCapability=Mn;let Rn=null,Ln=null;function Dn(Qn){return Rn||(Rn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ln=new Map([["","t"]])),Qn.replaceAll(Rn,(Yn,zn,nr)=>zn?zn.normalize("NFKC"):Ln.get(nr))}function Un(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Qn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Qn);else for(let Yn=0;Yn<32;Yn++)Qn[Yn]=Math.floor(Math.random()*255);return vn(Qn)}const tr="pdfjs_internal_id_";$.AnnotationPrefix=tr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var _e,xt,bt,At,Up,S2,Ct,Pt,wt,kt,Rt,ht,vt,Ft,Ht,C2,Nt,$t,d9,Bt,_t;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(jt){if(typeof jt=="string"||jt instanceof URL?jt={url:jt}:(0,_util.isArrayBuffer)(jt)&&(jt={data:jt}),typeof jt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!jt.url&&!jt.data&&!jt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Gt=new PDFDocumentLoadingTask,{docId:Qt}=Gt,ln=jt.url?getUrlProp(jt.url):null,en=jt.data?getDataProp(jt.data):null,gn=jt.httpHeaders||null,tn=jt.withCredentials===!0,bn=jt.password??null,Xt=jt.range instanceof PDFDataRangeTransport?jt.range:null,Yt=Number.isInteger(jt.rangeChunkSize)&&jt.rangeChunkSize>0?jt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let un=jt.worker instanceof PDFWorker?jt.worker:null;const Ut=jt.verbosity,Lt=typeof jt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(jt.docBaseUrl)?jt.docBaseUrl:null,Vt=typeof jt.cMapUrl=="string"?jt.cMapUrl:null,an=jt.cMapPacked!==!1,zt=jt.CMapReaderFactory||DefaultCMapReaderFactory,Wt=typeof jt.standardFontDataUrl=="string"?jt.standardFontDataUrl:null,nn=jt.StandardFontDataFactory||DefaultStandardFontDataFactory,dn=jt.stopAtErrors!==!0,on=Number.isInteger(jt.maxImageSize)&&jt.maxImageSize>-1?jt.maxImageSize:-1,hn=jt.isEvalSupported!==!1,sn=typeof jt.isOffscreenCanvasSupported=="boolean"?jt.isOffscreenCanvasSupported:!_util.isNodeJS,rn=Number.isInteger(jt.canvasMaxAreaInBytes)?jt.canvasMaxAreaInBytes:-1,xn=typeof jt.disableFontFace=="boolean"?jt.disableFontFace:_util.isNodeJS,vn=jt.fontExtraProperties===!0,kn=jt.enableXfa===!0,Fn=jt.ownerDocument||globalThis.document,On=jt.disableRange===!0,Pn=jt.disableStream===!0,Sn=jt.disableAutoFetch===!0,mn=jt.pdfBug===!0,fn=Xt?Xt.length:jt.length??NaN,Jt=typeof jt.useSystemFonts=="boolean"?jt.useSystemFonts:!_util.isNodeJS&&!xn,cn=typeof jt.useWorkerFetch=="boolean"?jt.useWorkerFetch:zt===_display_utils.DOMCMapReaderFactory&&nn===_display_utils.DOMStandardFontDataFactory&&Vt&&Wt&&(0,_display_utils.isValidFetchUrl)(Vt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Wt,document.baseURI),pn=jt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Fn}),wn=jt.filterFactory||new DefaultFilterFactory({docId:Qt,ownerDocument:Fn}),En=null;(0,_util.setVerbosityLevel)(Ut);const _n={canvasFactory:pn,filterFactory:wn};if(cn||(_n.cMapReaderFactory=new zt({baseUrl:Vt,isCompressed:an}),_n.standardFontDataFactory=new nn({baseUrl:Wt})),!un){const Tn={verbosity:Ut,port:_worker_options.GlobalWorkerOptions.workerPort};un=Tn.port?PDFWorker.fromPort(Tn):new PDFWorker(Tn),Gt._worker=un}const Cn={docId:Qt,apiVersion:"3.11.174",data:en,password:bn,disableAutoFetch:Sn,rangeChunkSize:Yt,length:fn,docBaseUrl:Lt,enableXfa:kn,evaluatorOptions:{maxImageSize:on,disableFontFace:xn,ignoreErrors:dn,isEvalSupported:hn,isOffscreenCanvasSupported:sn,canvasMaxAreaInBytes:rn,fontExtraProperties:vn,useSystemFonts:Jt,cMapUrl:cn?Vt:null,standardFontDataUrl:cn?Wt:null}},An={ignoreErrors:dn,isEvalSupported:hn,disableFontFace:xn,fontExtraProperties:vn,enableXfa:kn,ownerDocument:Fn,disableAutoFetch:Sn,pdfBug:mn,styleElement:En};return un.promise.then(function(){if(Gt.destroyed)throw new Error("Loading aborted");const Tn=_fetchDocument(un,Cn),Mn=new Promise(function(Rn){let Ln;Xt?Ln=new _transport_stream.PDFDataTransportStream({length:fn,initialData:Xt.initialData,progressiveDone:Xt.progressiveDone,contentDispositionFilename:Xt.contentDispositionFilename,disableRange:On,disableStream:Pn},Xt):en||(Ln=(Un=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Un):(0,_display_utils.isValidFetchUrl)(Un.url)?new _displayFetch_stream.PDFFetchStream(Un):new _displayNetwork.PDFNetworkStream(Un))({url:ln,length:fn,httpHeaders:gn,withCredentials:tn,rangeChunkSize:Yt,disableRange:On,disableStream:Pn})),Rn(Ln)});return Promise.all([Tn,Mn]).then(function([Rn,Ln]){if(Gt.destroyed)throw new Error("Loading aborted");const Dn=new _message_handler.MessageHandler(Qt,Rn,un.port),Un=new WorkerTransport(Dn,Gt,Ln,An,_n);Gt._transport=Un,Dn.send("Ready",null)})}).catch(Gt._capability.reject),Gt}async function _fetchDocument(jt,Gt){if(jt.destroyed)throw new Error("Worker was destroyed");const Qt=await jt.messageHandler.sendWithPromise("GetDocRequest",Gt,Gt.data?[Gt.data.buffer]:null);if(jt.destroyed)throw new Error("Worker was destroyed");return Qt}function getUrlProp(jt){if(jt instanceof URL)return jt.href;try{return new URL(jt,window.location).href}catch{if(_util.isNodeJS&&typeof jt=="string")return jt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(jt){if(_util.isNodeJS&&typeof Buffer<"u"&&jt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(jt instanceof Uint8Array&&jt.byteLength===jt.buffer.byteLength)return jt;if(typeof jt=="string")return(0,_util.stringToBytes)(jt);if(typeof jt=="object"&&!isNaN(jt==null?void 0:jt.length)||(0,_util.isArrayBuffer)(jt))return new Uint8Array(jt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${So($,_e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Gt,Qt,ln;this.destroyed=!0;try{(Gt=this._worker)!=null&&Gt.port&&(this._worker._pendingDestroy=!0),await((Qt=this._transport)==null?void 0:Qt.destroy())}catch(en){throw(ln=this._worker)!=null&&ln.port&&delete this._worker._pendingDestroy,en}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};_e=new WeakMap,Nn($,_e,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Gt,Qt,ln=!1,en=null){this.length=Gt,this.initialData=Qt,this.progressiveDone=ln,this.contentDispositionFilename=en,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Gt){this._rangeListeners.push(Gt)}addProgressListener(Gt){this._progressListeners.push(Gt)}addProgressiveReadListener(Gt){this._progressiveReadListeners.push(Gt)}addProgressiveDoneListener(Gt){this._progressiveDoneListeners.push(Gt)}onDataRange(Gt,Qt){for(const ln of this._rangeListeners)ln(Gt,Qt)}onDataProgress(Gt,Qt){this._readyCapability.promise.then(()=>{for(const ln of this._progressListeners)ln(Gt,Qt)})}onDataProgressiveRead(Gt){this._readyCapability.promise.then(()=>{for(const Qt of this._progressiveReadListeners)Qt(Gt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Gt of this._progressiveDoneListeners)Gt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Gt,Qt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Gt,Qt){this._pdfInfo=Gt,this._transport=Qt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(ln=>{if(!ln)return ln;const en=[];for(const gn in ln)en.push(...ln[gn]);return en}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Gt){return this._transport.getPage(Gt)}getPageIndex(Gt){return this._transport.getPageIndex(Gt)}getDestinations(){return this._transport.getDestinations()}getDestination(Gt){return this._transport.getDestination(Gt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Gt=!1){return this._transport.startCleanup(Gt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Gt,Qt,ln,en=!1){Nn(this,At);Nn(this,xt,null);Nn(this,bt,!1);this._pageIndex=Gt,this._pageInfo=Qt,this._transport=ln,this._stats=en?new _display_utils.StatTimer:null,this._pdfBug=en,this.commonObjs=ln.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Gt,rotation:Qt=this.rotate,offsetX:ln=0,offsetY:en=0,dontFlip:gn=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Gt,rotation:Qt,offsetX:ln,offsetY:en,dontFlip:gn})}getAnnotations({intent:Gt="display"}={}){const Qt=this._transport.getRenderingIntent(Gt);return this._transport.getAnnotations(this._pageIndex,Qt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Gt;return((Gt=this._transport._htmlForXfa)==null?void 0:Gt.children[this._pageIndex])||null}render({canvasContext:Gt,viewport:Qt,intent:ln="display",annotationMode:en=_util.AnnotationMode.ENABLE,transform:gn=null,background:tn=null,optionalContentConfigPromise:bn=null,annotationCanvasMap:Xt=null,pageColors:Yt=null,printAnnotationStorage:un=null}){var nn,dn;(nn=this._stats)==null||nn.time("Overall");const Ut=this._transport.getRenderingIntent(ln,en,un);$n(this,bt,!1),In(this,At,S2).call(this),bn||(bn=this._transport.getOptionalContentConfig());let Lt=this._intentStates.get(Ut.cacheKey);Lt||(Lt=Object.create(null),this._intentStates.set(Ut.cacheKey,Lt)),Lt.streamReaderCancelTimeout&&(clearTimeout(Lt.streamReaderCancelTimeout),Lt.streamReaderCancelTimeout=null);const Vt=!!(Ut.renderingIntent&_util.RenderingIntentFlag.PRINT);Lt.displayReadyCapability||(Lt.displayReadyCapability=new _util.PromiseCapability,Lt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(dn=this._stats)==null||dn.time("Page Request"),this._pumpOperatorList(Ut));const an=on=>{var hn,sn;Lt.renderTasks.delete(zt),(this._maybeCleanupAfterRender||Vt)&&$n(this,bt,!0),In(this,At,Up).call(this,!Vt),on?(zt.capability.reject(on),this._abortOperatorList({intentState:Lt,reason:on instanceof Error?on:new Error(on)})):zt.capability.resolve(),(hn=this._stats)==null||hn.timeEnd("Rendering"),(sn=this._stats)==null||sn.timeEnd("Overall")},zt=new InternalRenderTask({callback:an,params:{canvasContext:Gt,viewport:Qt,transform:gn,background:tn},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Xt,operatorList:Lt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Vt,pdfBug:this._pdfBug,pageColors:Yt});(Lt.renderTasks||(Lt.renderTasks=new Set)).add(zt);const Wt=zt.task;return Promise.all([Lt.displayReadyCapability.promise,bn]).then(([on,hn])=>{var sn;if(this.destroyed){an();return}(sn=this._stats)==null||sn.time("Rendering"),zt.initializeGraphics({transparency:on,optionalContentConfig:hn}),zt.operatorListChanged()}).catch(an),Wt}getOperatorList({intent:Gt="display",annotationMode:Qt=_util.AnnotationMode.ENABLE,printAnnotationStorage:ln=null}={}){var Xt;function en(){tn.operatorList.lastChunk&&(tn.opListReadCapability.resolve(tn.operatorList),tn.renderTasks.delete(bn))}const gn=this._transport.getRenderingIntent(Gt,Qt,ln,!0);let tn=this._intentStates.get(gn.cacheKey);tn||(tn=Object.create(null),this._intentStates.set(gn.cacheKey,tn));let bn;return tn.opListReadCapability||(bn=Object.create(null),bn.operatorListChanged=en,tn.opListReadCapability=new _util.PromiseCapability,(tn.renderTasks||(tn.renderTasks=new Set)).add(bn),tn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Xt=this._stats)==null||Xt.time("Page Request"),this._pumpOperatorList(gn)),tn.opListReadCapability.promise}streamTextContent({includeMarkedContent:Gt=!1,disableNormalization:Qt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Gt===!0,disableNormalization:Qt===!0},{highWaterMark:100,size(en){return en.items.length}})}getTextContent(Gt={}){if(this._transport._htmlForXfa)return this.getXfa().then(ln=>_xfa_text.XfaText.textContent(ln));const Qt=this.streamTextContent(Gt);return new Promise(function(ln,en){function gn(){tn.read().then(function({value:Xt,done:Yt}){if(Yt){ln(bn);return}Object.assign(bn.styles,Xt.styles),bn.items.push(...Xt.items),gn()},en)}const tn=Qt.getReader(),bn={items:[],styles:Object.create(null)};gn()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Gt=[];for(const Qt of this._intentStates.values())if(this._abortOperatorList({intentState:Qt,reason:new Error("Page was destroyed."),force:!0}),!Qt.opListReadCapability)for(const ln of Qt.renderTasks)Gt.push(ln.completed),ln.cancel();return this.objs.clear(),$n(this,bt,!1),In(this,At,S2).call(this),Promise.all(Gt)}cleanup(Gt=!1){$n(this,bt,!0);const Qt=In(this,At,Up).call(this,!1);return Gt&&Qt&&this._stats&&(this._stats=new _display_utils.StatTimer),Qt}_startRenderPage(Gt,Qt){var en,gn;const ln=this._intentStates.get(Qt);ln&&((en=this._stats)==null||en.timeEnd("Page Request"),(gn=ln.displayReadyCapability)==null||gn.resolve(Gt))}_renderPageChunk(Gt,Qt){for(let ln=0,en=Gt.length;ln<en;ln++)Qt.operatorList.fnArray.push(Gt.fnArray[ln]),Qt.operatorList.argsArray.push(Gt.argsArray[ln]);Qt.operatorList.lastChunk=Gt.lastChunk,Qt.operatorList.separateAnnots=Gt.separateAnnots;for(const ln of Qt.renderTasks)ln.operatorListChanged();Gt.lastChunk&&In(this,At,Up).call(this,!0)}_pumpOperatorList({renderingIntent:Gt,cacheKey:Qt,annotationStorageSerializable:ln}){const{map:en,transfers:gn}=ln,bn=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Gt,cacheKey:Qt,annotationStorage:en},gn).getReader(),Xt=this._intentStates.get(Qt);Xt.streamReader=bn;const Yt=()=>{bn.read().then(({value:un,done:Ut})=>{if(Ut){Xt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(un,Xt),Yt())},un=>{if(Xt.streamReader=null,!this._transport.destroyed){if(Xt.operatorList){Xt.operatorList.lastChunk=!0;for(const Ut of Xt.renderTasks)Ut.operatorListChanged();In(this,At,Up).call(this,!0)}if(Xt.displayReadyCapability)Xt.displayReadyCapability.reject(un);else if(Xt.opListReadCapability)Xt.opListReadCapability.reject(un);else throw un}})};Yt()}_abortOperatorList({intentState:Gt,reason:Qt,force:ln=!1}){if(Gt.streamReader){if(Gt.streamReaderCancelTimeout&&(clearTimeout(Gt.streamReaderCancelTimeout),Gt.streamReaderCancelTimeout=null),!ln){if(Gt.renderTasks.size>0)return;if(Qt instanceof _display_utils.RenderingCancelledException){let en=RENDERING_CANCELLED_TIMEOUT;Qt.extraDelay>0&&Qt.extraDelay<1e3&&(en+=Qt.extraDelay),Gt.streamReaderCancelTimeout=setTimeout(()=>{Gt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Gt,reason:Qt,force:!0})},en);return}}if(Gt.streamReader.cancel(new _util.AbortException(Qt.message)).catch(()=>{}),Gt.streamReader=null,!this._transport.destroyed){for(const[en,gn]of this._intentStates)if(gn===Gt){this._intentStates.delete(en);break}this.cleanup()}}}get stats(){return this._stats}}xt=new WeakMap,bt=new WeakMap,At=new WeakSet,Up=function(Gt=!1){if(In(this,At,S2).call(this),!Ot(this,bt)||this.destroyed)return!1;if(Gt)return $n(this,xt,setTimeout(()=>{$n(this,xt,null),In(this,At,Up).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Qt,operatorList:ln}of this._intentStates.values())if(Qt.size>0||!ln.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),$n(this,bt,!1),!0},S2=function(){Ot(this,xt)&&(clearTimeout(Ot(this,xt)),$n(this,xt,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Nn(this,Ct,new Set);Nn(this,Pt,Promise.resolve())}postMessage(Gt,Qt){const ln={data:structuredClone(Gt,Qt?{transfer:Qt}:null)};Ot(this,Pt).then(()=>{for(const en of Ot(this,Ct))en.call(this,ln)})}addEventListener(Gt,Qt){Ot(this,Ct).add(Qt)}removeEventListener(Gt,Qt){Ot(this,Ct).delete(Qt)}terminate(){Ot(this,Ct).clear()}}Ct=new WeakMap,Pt=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const jt=(wt=document==null?void 0:document.currentScript)==null?void 0:wt.src;jt&&(PDFWorkerUtil.fallbackWorkerSrc=jt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(jt,Gt){let Qt;try{if(Qt=new URL(jt),!Qt.origin||Qt.origin==="null")return!1}catch{return!1}const ln=new URL(Gt,Qt);return Qt.origin===ln.origin},PDFWorkerUtil.createCDNWrapper=function(jt){const Gt=`importScripts("${jt}");`;return URL.createObjectURL(new Blob([Gt]))}}const _PDFWorker=class _PDFWorker{constructor({name:jt=null,port:Gt=null,verbosity:Qt=(0,_util.getVerbosityLevel)()}={}){var ln;if(this.name=jt,this.destroyed=!1,this.verbosity=Qt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Gt){if((ln=Ot(_PDFWorker,kt))!=null&&ln.has(Gt))throw new Error("Cannot use more than one PDFWorker per port.");(Ot(_PDFWorker,kt)||$n(_PDFWorker,kt,new WeakMap)).set(Gt,this),this._initializeFromPort(Gt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(jt){this._port=jt,this._messageHandler=new _message_handler.MessageHandler("main","worker",jt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:jt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,jt)||(jt=PDFWorkerUtil.createCDNWrapper(new URL(jt,window.location).href));const Gt=new Worker(jt),Qt=new _message_handler.MessageHandler("main","worker",Gt),ln=()=>{Gt.removeEventListener("error",en),Qt.destroy(),Gt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},en=()=>{this._webWorker||ln()};Gt.addEventListener("error",en),Qt.on("test",tn=>{if(Gt.removeEventListener("error",en),this.destroyed){ln();return}tn?(this._messageHandler=Qt,this._port=Gt,this._webWorker=Gt,this._readyCapability.resolve(),Qt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Qt.destroy(),Gt.terminate())}),Qt.on("ready",tn=>{if(Gt.removeEventListener("error",en),this.destroyed){ln();return}try{gn()}catch{this._setupFakeWorker()}});const gn=()=>{const tn=new Uint8Array;Qt.send("test",tn,[tn.buffer])};gn();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(jt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Gt=new LoopbackPort;this._port=Gt;const Qt=`fake${PDFWorkerUtil.fakeWorkerId++}`,ln=new _message_handler.MessageHandler(Qt+"_worker",Qt,Gt);jt.setup(ln,Gt);const en=new _message_handler.MessageHandler(Qt,Qt+"_worker",Gt);this._messageHandler=en,this._readyCapability.resolve(),en.send("configure",{verbosity:this.verbosity})}).catch(jt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${jt.message}".`))})}destroy(){var jt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(jt=Ot(_PDFWorker,kt))==null||jt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(jt){var Qt;if(!(jt!=null&&jt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Gt=(Qt=Ot(this,kt))==null?void 0:Qt.get(jt.port);if(Gt){if(Gt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Gt}return new _PDFWorker(jt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var jt;try{return((jt=globalThis.pdfjsWorker)==null?void 0:jt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};kt=new WeakMap,Nn(_PDFWorker,kt);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Gt,Qt,ln,en,gn){Nn(this,Ht);Nn(this,Rt,new Map);Nn(this,ht,new Map);Nn(this,vt,new Map);Nn(this,Ft,null);this.messageHandler=Gt,this.loadingTask=Qt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:en.ownerDocument,styleElement:en.styleElement}),this._params=en,this.canvasFactory=gn.canvasFactory,this.filterFactory=gn.filterFactory,this.cMapReaderFactory=gn.cMapReaderFactory,this.standardFontDataFactory=gn.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=ln,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Gt,Qt=_util.AnnotationMode.ENABLE,ln=null,en=!1){let gn=_util.RenderingIntentFlag.DISPLAY,tn=_annotation_storage.SerializableEmpty;switch(Gt){case"any":gn=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":gn=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Gt}`)}switch(Qt){case _util.AnnotationMode.DISABLE:gn+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:gn+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:gn+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,tn=(gn&_util.RenderingIntentFlag.PRINT&&ln instanceof _annotation_storage.PrintAnnotationStorage?ln:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Qt}`)}return en&&(gn+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:gn,cacheKey:`${gn}_${tn.hash}`,annotationStorageSerializable:tn}}destroy(){var ln;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(ln=Ot(this,Ft))==null||ln.reject(new Error("Worker was destroyed during onPassword callback"));const Gt=[];for(const en of Ot(this,ht).values())Gt.push(en._destroy());Ot(this,ht).clear(),Ot(this,vt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Qt=this.messageHandler.sendWithPromise("Terminate",null);return Gt.push(Qt),Promise.all(Gt).then(()=>{var en;this.commonObjs.clear(),this.fontLoader.clear(),Ot(this,Rt).clear(),this.filterFactory.destroy(),(en=this._networkStream)==null||en.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Gt,loadingTask:Qt}=this;Gt.on("GetReader",(ln,en)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=gn=>{this._lastProgress={loaded:gn.loaded,total:gn.total}},en.onPull=()=>{this._fullReader.read().then(function({value:gn,done:tn}){if(tn){en.close();return}(0,_util.assert)(gn instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),en.enqueue(new Uint8Array(gn),1,[gn])}).catch(gn=>{en.error(gn)})},en.onCancel=gn=>{this._fullReader.cancel(gn),en.ready.catch(tn=>{if(!this.destroyed)throw tn})}}),Gt.on("ReaderHeadersReady",ln=>{const en=new _util.PromiseCapability,gn=this._fullReader;return gn.headersReady.then(()=>{var tn;(!gn.isStreamingSupported||!gn.isRangeSupported)&&(this._lastProgress&&((tn=Qt.onProgress)==null||tn.call(Qt,this._lastProgress)),gn.onProgress=bn=>{var Xt;(Xt=Qt.onProgress)==null||Xt.call(Qt,{loaded:bn.loaded,total:bn.total})}),en.resolve({isStreamingSupported:gn.isStreamingSupported,isRangeSupported:gn.isRangeSupported,contentLength:gn.contentLength})},en.reject),en.promise}),Gt.on("GetRangeReader",(ln,en)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const gn=this._networkStream.getRangeReader(ln.begin,ln.end);if(!gn){en.close();return}en.onPull=()=>{gn.read().then(function({value:tn,done:bn}){if(bn){en.close();return}(0,_util.assert)(tn instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),en.enqueue(new Uint8Array(tn),1,[tn])}).catch(tn=>{en.error(tn)})},en.onCancel=tn=>{gn.cancel(tn),en.ready.catch(bn=>{if(!this.destroyed)throw bn})}}),Gt.on("GetDoc",({pdfInfo:ln})=>{this._numPages=ln.numPages,this._htmlForXfa=ln.htmlForXfa,delete ln.htmlForXfa,Qt._capability.resolve(new PDFDocumentProxy(ln,this))}),Gt.on("DocException",function(ln){let en;switch(ln.name){case"PasswordException":en=new _util.PasswordException(ln.message,ln.code);break;case"InvalidPDFException":en=new _util.InvalidPDFException(ln.message);break;case"MissingPDFException":en=new _util.MissingPDFException(ln.message);break;case"UnexpectedResponseException":en=new _util.UnexpectedResponseException(ln.message,ln.status);break;case"UnknownErrorException":en=new _util.UnknownErrorException(ln.message,ln.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Qt._capability.reject(en)}),Gt.on("PasswordRequest",ln=>{if($n(this,Ft,new _util.PromiseCapability),Qt.onPassword){const en=gn=>{gn instanceof Error?Ot(this,Ft).reject(gn):Ot(this,Ft).resolve({password:gn})};try{Qt.onPassword(en,ln.code)}catch(gn){Ot(this,Ft).reject(gn)}}else Ot(this,Ft).reject(new _util.PasswordException(ln.message,ln.code));return Ot(this,Ft).promise}),Gt.on("DataLoaded",ln=>{var en;(en=Qt.onProgress)==null||en.call(Qt,{loaded:ln.length,total:ln.length}),this.downloadInfoCapability.resolve(ln)}),Gt.on("StartRenderPage",ln=>{if(this.destroyed)return;Ot(this,ht).get(ln.pageIndex)._startRenderPage(ln.transparency,ln.cacheKey)}),Gt.on("commonobj",([ln,en,gn])=>{var tn;if(!this.destroyed&&!this.commonObjs.has(ln))switch(en){case"Font":const bn=this._params;if("error"in gn){const un=gn.error;(0,_util.warn)(`Error during font loading: ${un}`),this.commonObjs.resolve(ln,un);break}const Xt=bn.pdfBug&&((tn=globalThis.FontInspector)!=null&&tn.enabled)?(un,Ut)=>globalThis.FontInspector.fontAdded(un,Ut):null,Yt=new _font_loader.FontFaceObject(gn,{isEvalSupported:bn.isEvalSupported,disableFontFace:bn.disableFontFace,ignoreErrors:bn.ignoreErrors,inspectFont:Xt});this.fontLoader.bind(Yt).catch(un=>Gt.sendWithPromise("FontFallback",{id:ln})).finally(()=>{!bn.fontExtraProperties&&Yt.data&&(Yt.data=null),this.commonObjs.resolve(ln,Yt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(ln,gn);break;default:throw new Error(`Got unknown common object type ${en}`)}}),Gt.on("obj",([ln,en,gn,tn])=>{var Xt;if(this.destroyed)return;const bn=Ot(this,ht).get(en);if(!bn.objs.has(ln))switch(gn){case"Image":if(bn.objs.resolve(ln,tn),tn){let Yt;if(tn.bitmap){const{width:un,height:Ut}=tn;Yt=un*Ut*4}else Yt=((Xt=tn.data)==null?void 0:Xt.length)||0;Yt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(bn._maybeCleanupAfterRender=!0)}break;case"Pattern":bn.objs.resolve(ln,tn);break;default:throw new Error(`Got unknown object type ${gn}`)}}),Gt.on("DocProgress",ln=>{var en;this.destroyed||(en=Qt.onProgress)==null||en.call(Qt,{loaded:ln.loaded,total:ln.total})}),Gt.on("FetchBuiltInCMap",ln=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(ln):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Gt.on("FetchStandardFontData",ln=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(ln):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var ln;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Gt,transfers:Qt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Gt,filename:((ln=this._fullReader)==null?void 0:ln.filename)??null},Qt).finally(()=>{this.annotationStorage.resetModified()})}getPage(Gt){if(!Number.isInteger(Gt)||Gt<=0||Gt>this._numPages)return Promise.reject(new Error("Invalid page request."));const Qt=Gt-1,ln=Ot(this,vt).get(Qt);if(ln)return ln;const en=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Qt}).then(gn=>{if(this.destroyed)throw new Error("Transport destroyed");const tn=new PDFPageProxy(Qt,gn,this,this._params.pdfBug);return Ot(this,ht).set(Qt,tn),tn});return Ot(this,vt).set(Qt,en),en}getPageIndex(Gt){return typeof Gt!="object"||Gt===null||!Number.isInteger(Gt.num)||Gt.num<0||!Number.isInteger(Gt.gen)||Gt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Gt.num,gen:Gt.gen})}getAnnotations(Gt,Qt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Gt,intent:Qt})}getFieldObjects(){return In(this,Ht,C2).call(this,"GetFieldObjects")}hasJSActions(){return In(this,Ht,C2).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Gt){return typeof Gt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Gt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return In(this,Ht,C2).call(this,"GetDocJSActions")}getPageJSActions(Gt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Gt})}getStructTree(Gt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Gt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Gt=>new _optional_content_config.OptionalContentConfig(Gt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Gt="GetMetadata",Qt=Ot(this,Rt).get(Gt);if(Qt)return Qt;const ln=this.messageHandler.sendWithPromise(Gt,null).then(en=>{var gn,tn;return{info:en[0],metadata:en[1]?new _metadata.Metadata(en[1]):null,contentDispositionFilename:((gn=this._fullReader)==null?void 0:gn.filename)??null,contentLength:((tn=this._fullReader)==null?void 0:tn.contentLength)??null}});return Ot(this,Rt).set(Gt,ln),ln}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Gt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Qt of Ot(this,ht).values())if(!Qt.cleanup())throw new Error(`startCleanup: Page ${Qt.pageNumber} is currently rendering.`);this.commonObjs.clear(),Gt||this.fontLoader.clear(),Ot(this,Rt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Gt,enableXfa:Qt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Gt,enableXfa:Qt})}}Rt=new WeakMap,ht=new WeakMap,vt=new WeakMap,Ft=new WeakMap,Ht=new WeakSet,C2=function(Gt,Qt=null){const ln=Ot(this,Rt).get(Gt);if(ln)return ln;const en=this.messageHandler.sendWithPromise(Gt,Qt);return Ot(this,Rt).set(Gt,en),en};class PDFObjects{constructor(){Nn(this,$t);Nn(this,Nt,Object.create(null))}get(Gt,Qt=null){if(Qt){const en=In(this,$t,d9).call(this,Gt);return en.capability.promise.then(()=>Qt(en.data)),null}const ln=Ot(this,Nt)[Gt];if(!(ln!=null&&ln.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Gt}.`);return ln.data}has(Gt){const Qt=Ot(this,Nt)[Gt];return(Qt==null?void 0:Qt.capability.settled)||!1}resolve(Gt,Qt=null){const ln=In(this,$t,d9).call(this,Gt);ln.data=Qt,ln.capability.resolve()}clear(){var Gt;for(const Qt in Ot(this,Nt)){const{data:ln}=Ot(this,Nt)[Qt];(Gt=ln==null?void 0:ln.bitmap)==null||Gt.close()}$n(this,Nt,Object.create(null))}}Nt=new WeakMap,$t=new WeakSet,d9=function(Gt){var Qt;return(Qt=Ot(this,Nt))[Gt]||(Qt[Gt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Gt){Nn(this,Bt,null);$n(this,Bt,Gt),this.onContinue=null}get promise(){return Ot(this,Bt).capability.promise}cancel(Gt=0){Ot(this,Bt).cancel(null,Gt)}get separateAnnots(){const{separateAnnots:Gt}=Ot(this,Bt).operatorList;if(!Gt)return!1;const{annotationCanvasMap:Qt}=Ot(this,Bt);return Gt.form||Gt.canvas&&(Qt==null?void 0:Qt.size)>0}}Bt=new WeakMap,exports.RenderTask=RenderTask;const Kt=class Kt{constructor({callback:Gt,params:Qt,objs:ln,commonObjs:en,annotationCanvasMap:gn,operatorList:tn,pageIndex:bn,canvasFactory:Xt,filterFactory:Yt,useRequestAnimationFrame:un=!1,pdfBug:Ut=!1,pageColors:Lt=null}){this.callback=Gt,this.params=Qt,this.objs=ln,this.commonObjs=en,this.annotationCanvasMap=gn,this.operatorListIdx=null,this.operatorList=tn,this._pageIndex=bn,this.canvasFactory=Xt,this.filterFactory=Yt,this._pdfBug=Ut,this.pageColors=Lt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=un===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Qt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Gt=!1,optionalContentConfig:Qt}){var bn,Xt;if(this.cancelled)return;if(this._canvas){if(Ot(Kt,_t).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ot(Kt,_t).add(this._canvas)}this._pdfBug&&((bn=globalThis.StepperManager)!=null&&bn.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:ln,viewport:en,transform:gn,background:tn}=this.params;this.gfx=new _canvas.CanvasGraphics(ln,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Qt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:gn,viewport:en,transparency:Gt,background:tn}),this.operatorListIdx=0,this.graphicsReady=!0,(Xt=this.graphicsReadyCallback)==null||Xt.call(this)}cancel(Gt=null,Qt=0){var ln;this.running=!1,this.cancelled=!0,(ln=this.gfx)==null||ln.endDrawing(),Ot(Kt,_t).delete(this._canvas),this.callback(Gt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Qt))}operatorListChanged(){var Gt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Gt=this.stepper)==null||Gt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ot(Kt,_t).delete(this._canvas),this.callback())))}};_t=new WeakMap,Nn(Kt,_t,new WeakSet);let InternalRenderTask=Kt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(_e,$,xt)=>{var wt,kt,Rt,Ov,vt;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var bt=xt(1),At=xt(4),St=xt(8);const Et=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=Et;class Ct{constructor(){Nn(this,Rt);Nn(this,wt,!1);Nn(this,kt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Ht,qt){const Nt=Ot(this,kt).get(Ht);return Nt===void 0?qt:Object.assign(qt,Nt)}getRawValue(Ht){return Ot(this,kt).get(Ht)}remove(Ht){if(Ot(this,kt).delete(Ht),Ot(this,kt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const qt of Ot(this,kt).values())if(qt instanceof At.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Ht,qt){const Nt=Ot(this,kt).get(Ht);let $t=!1;if(Nt!==void 0)for(const[Mt,Bt]of Object.entries(qt))Nt[Mt]!==Bt&&($t=!0,Nt[Mt]=Bt);else $t=!0,Ot(this,kt).set(Ht,qt);$t&&In(this,Rt,Ov).call(this),qt instanceof At.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(qt.constructor._type)}has(Ht){return Ot(this,kt).has(Ht)}getAll(){return Ot(this,kt).size>0?(0,bt.objectFromMap)(Ot(this,kt)):null}setAll(Ht){for(const[qt,Nt]of Object.entries(Ht))this.setValue(qt,Nt)}get size(){return Ot(this,kt).size}resetModified(){Ot(this,wt)&&($n(this,wt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Pt(this)}get serializable(){if(Ot(this,kt).size===0)return Et;const Ht=new Map,qt=new St.MurmurHash3_64,Nt=[],$t=Object.create(null);let Mt=!1;for(const[Bt,_t]of Ot(this,kt)){const Kt=_t instanceof At.AnnotationEditor?_t.serialize(!1,$t):_t;Kt&&(Ht.set(Bt,Kt),qt.update(`${Bt}:${JSON.stringify(Kt)}`),Mt||(Mt=!!Kt.bitmap))}if(Mt)for(const Bt of Ht.values())Bt.bitmap&&Nt.push(Bt.bitmap);return Ht.size>0?{map:Ht,hash:qt.hexdigest(),transfers:Nt}:Et}}wt=new WeakMap,kt=new WeakMap,Rt=new WeakSet,Ov=function(){Ot(this,wt)||($n(this,wt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=Ct;class Pt extends Ct{constructor(qt){super();Nn(this,vt);const{map:Nt,hash:$t,transfers:Mt}=qt.serializable,Bt=structuredClone(Nt,Mt?{transfer:Mt}:null);$n(this,vt,{map:Bt,hash:$t,transfers:Mt})}get print(){(0,bt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Ot(this,vt)}}vt=new WeakMap,$.PrintAnnotationStorage=Pt},(_e,$,xt)=>{var Pt,wt,kt,Rt,ht,vt,Ft,Ht,qt,Nt,$t,Mt,Bt,_t,Kt,f9,p9,Qt,g9,m9,Lv,Dv,Nv,x9,$v;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var bt=xt(5),At=xt(1),St=xt(6);const un=class un{constructor(Lt){Nn(this,Kt);Nn(this,Pt,"");Nn(this,wt,!1);Nn(this,kt,null);Nn(this,Rt,null);Nn(this,ht,null);Nn(this,vt,!1);Nn(this,Ft,null);Nn(this,Ht,this.focusin.bind(this));Nn(this,qt,this.focusout.bind(this));Nn(this,Nt,!1);Nn(this,$t,!1);Nn(this,Mt,!1);Ur(this,"_initialOptions",Object.create(null));Ur(this,"_uiManager",null);Ur(this,"_focusEventsAllowed",!0);Ur(this,"_l10nPromise",null);Nn(this,Bt,!1);Nn(this,_t,un._zIndex++);this.constructor===un&&(0,At.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Lt.parent,this.id=Lt.id,this.width=this.height=null,this.pageIndex=Lt.parent.pageIndex,this.name=Lt.name,this.div=null,this._uiManager=Lt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Lt.isCentered,this._structTreeParentId=null;const{rotation:Vt,rawDims:{pageWidth:an,pageHeight:zt,pageX:Wt,pageY:nn}}=this.parent.viewport;this.rotation=Vt,this.pageRotation=(360+Vt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[an,zt],this.pageTranslation=[Wt,nn];const[dn,on]=this.parentDimensions;this.x=Lt.x/dn,this.y=Lt.y/on,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,At.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Lt){const Vt=new Ct({id:Lt.parent.getNextId(),parent:Lt.parent,uiManager:Lt._uiManager});Vt.annotationElementId=Lt.annotationElementId,Vt.deleted=!0,Vt._uiManager.addToAnnotationStorage(Vt)}static initialize(Lt,Vt=null){if(un._l10nPromise||(un._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(zt=>[zt,Lt.get(zt)]))),Vt!=null&&Vt.strings)for(const zt of Vt.strings)un._l10nPromise.set(zt,Lt.get(zt));if(un._borderLineWidth!==-1)return;const an=getComputedStyle(document.documentElement);un._borderLineWidth=parseFloat(an.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Lt,Vt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Lt){return!1}static paste(Lt,Vt){(0,At.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Ot(this,Bt)}set _isDraggable(Lt){var Vt;$n(this,Bt,Lt),(Vt=this.div)==null||Vt.classList.toggle("draggable",Lt)}center(){const[Lt,Vt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Vt/(Lt*2),this.y+=this.width*Lt/(Vt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Vt/(Lt*2),this.y-=this.width*Lt/(Vt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Lt){this._uiManager.addCommands(Lt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Ot(this,_t)}setParent(Lt){Lt!==null&&(this.pageIndex=Lt.pageIndex,this.pageDimensions=Lt.pageDimensions),this.parent=Lt}focusin(Lt){this._focusEventsAllowed&&(Ot(this,Nt)?$n(this,Nt,!1):this.parent.setSelected(this))}focusout(Lt){var an;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Vt=Lt.relatedTarget;Vt!=null&&Vt.closest(`#${this.id}`)||(Lt.preventDefault(),(an=this.parent)!=null&&an.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Lt,Vt,an,zt){const[Wt,nn]=this.parentDimensions;[an,zt]=this.screenToPageTranslation(an,zt),this.x=(Lt+an)/Wt,this.y=(Vt+zt)/nn,this.fixAndSetPosition()}translate(Lt,Vt){In(this,Kt,f9).call(this,this.parentDimensions,Lt,Vt)}translateInPage(Lt,Vt){In(this,Kt,f9).call(this,this.pageDimensions,Lt,Vt),this.div.scrollIntoView({block:"nearest"})}drag(Lt,Vt){const[an,zt]=this.parentDimensions;if(this.x+=Lt/an,this.y+=Vt/zt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:hn,y:sn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,hn,sn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Wt,y:nn}=this;const[dn,on]=In(this,Kt,p9).call(this);Wt+=dn,nn+=on,this.div.style.left=`${(100*Wt).toFixed(2)}%`,this.div.style.top=`${(100*nn).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Lt,Vt]=this.pageDimensions;let{x:an,y:zt,width:Wt,height:nn}=this;switch(Wt*=Lt,nn*=Vt,an*=Lt,zt*=Vt,this.rotation){case 0:an=Math.max(0,Math.min(Lt-Wt,an)),zt=Math.max(0,Math.min(Vt-nn,zt));break;case 90:an=Math.max(0,Math.min(Lt-nn,an)),zt=Math.min(Vt,Math.max(Wt,zt));break;case 180:an=Math.min(Lt,Math.max(Wt,an)),zt=Math.min(Vt,Math.max(nn,zt));break;case 270:an=Math.min(Lt,Math.max(nn,an)),zt=Math.max(0,Math.min(Vt-Wt,zt));break}this.x=an/=Lt,this.y=zt/=Vt;const[dn,on]=In(this,Kt,p9).call(this);an+=dn,zt+=on;const{style:hn}=this.div;hn.left=`${(100*an).toFixed(2)}%`,hn.top=`${(100*zt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Lt,Vt){var an;return In(an=un,Qt,g9).call(an,Lt,Vt,this.parentRotation)}pageTranslationToScreen(Lt,Vt){var an;return In(an=un,Qt,g9).call(an,Lt,Vt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Lt,pageDimensions:[Vt,an]}=this,zt=Vt*Lt,Wt=an*Lt;return At.FeatureTest.isCSSRoundSupported?[Math.round(zt),Math.round(Wt)]:[zt,Wt]}setDims(Lt,Vt){var Wt;const[an,zt]=this.parentDimensions;this.div.style.width=`${(100*Lt/an).toFixed(2)}%`,Ot(this,vt)||(this.div.style.height=`${(100*Vt/zt).toFixed(2)}%`),(Wt=Ot(this,kt))==null||Wt.classList.toggle("small",Lt<un.SMALL_EDITOR_SIZE||Vt<un.SMALL_EDITOR_SIZE)}fixDims(){const{style:Lt}=this.div,{height:Vt,width:an}=Lt,zt=an.endsWith("%"),Wt=!Ot(this,vt)&&Vt.endsWith("%");if(zt&&Wt)return;const[nn,dn]=this.parentDimensions;zt||(Lt.width=`${(100*parseFloat(an)/nn).toFixed(2)}%`),!Ot(this,vt)&&!Wt&&(Lt.height=`${(100*parseFloat(Vt)/dn).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Ot(this,kt))return;const Lt=$n(this,kt,document.createElement("button"));Lt.className="altText";const Vt=await un._l10nPromise.get("editor_alt_text_button_label");Lt.textContent=Vt,Lt.setAttribute("aria-label",Vt),Lt.tabIndex="0",Lt.addEventListener("contextmenu",St.noContextMenu),Lt.addEventListener("pointerdown",an=>an.stopPropagation()),Lt.addEventListener("click",an=>{an.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Lt.addEventListener("keydown",an=>{an.target===Lt&&an.key==="Enter"&&(an.preventDefault(),this._uiManager.editAltText(this))}),In(this,Kt,x9).call(this),this.div.append(Lt),un.SMALL_EDITOR_SIZE||(un.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Lt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Ot(this,Pt),decorative:Ot(this,wt)}}set altTextData({altText:Lt,decorative:Vt}){Ot(this,Pt)===Lt&&Ot(this,wt)===Vt||($n(this,Pt,Lt),$n(this,wt,Vt),In(this,Kt,x9).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Ot(this,Ht)),this.div.addEventListener("focusout",Ot(this,qt));const[Lt,Vt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Vt/Lt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Lt/Vt).toFixed(2)}%`);const[an,zt]=this.getInitialTranslation();return this.translate(an,zt),(0,bt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Lt){const{isMac:Vt}=At.FeatureTest.platform;if(Lt.button!==0||Lt.ctrlKey&&Vt){Lt.preventDefault();return}$n(this,Nt,!0),In(this,Kt,$v).call(this,Lt)}moveInDOM(){var Lt;(Lt=this.parent)==null||Lt.moveEditorInDOM(this)}_setParentAndPosition(Lt,Vt,an){Lt.changeParent(this),this.x=Vt,this.y=an,this.fixAndSetPosition()}getRect(Lt,Vt){const an=this.parentScale,[zt,Wt]=this.pageDimensions,[nn,dn]=this.pageTranslation,on=Lt/an,hn=Vt/an,sn=this.x*zt,rn=this.y*Wt,xn=this.width*zt,vn=this.height*Wt;switch(this.rotation){case 0:return[sn+on+nn,Wt-rn-hn-vn+dn,sn+on+xn+nn,Wt-rn-hn+dn];case 90:return[sn+hn+nn,Wt-rn+on+dn,sn+hn+vn+nn,Wt-rn+on+xn+dn];case 180:return[sn-on-xn+nn,Wt-rn+hn+dn,sn-on+nn,Wt-rn+hn+vn+dn];case 270:return[sn-hn-vn+nn,Wt-rn-on-xn+dn,sn-hn+nn,Wt-rn-on+dn];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Lt,Vt){const[an,zt,Wt,nn]=Lt,dn=Wt-an,on=nn-zt;switch(this.rotation){case 0:return[an,Vt-nn,dn,on];case 90:return[an,Vt-zt,on,dn];case 180:return[Wt,Vt-zt,dn,on];case 270:return[Wt,Vt-nn,on,dn];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){$n(this,Mt,!0)}disableEditMode(){$n(this,Mt,!1)}isInEditMode(){return Ot(this,Mt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Lt,Vt;(Lt=this.div)==null||Lt.addEventListener("focusin",Ot(this,Ht)),(Vt=this.div)==null||Vt.addEventListener("focusout",Ot(this,qt))}serialize(Lt=!1,Vt=null){(0,At.unreachable)("An editor must be serializable")}static deserialize(Lt,Vt,an){const zt=new this.prototype.constructor({parent:Vt,id:Vt.getNextId(),uiManager:an});zt.rotation=Lt.rotation;const[Wt,nn]=zt.pageDimensions,[dn,on,hn,sn]=zt.getRectInCurrentCoords(Lt.rect,nn);return zt.x=dn/Wt,zt.y=on/nn,zt.width=hn/Wt,zt.height=sn/nn,zt}remove(){var Lt;this.div.removeEventListener("focusin",Ot(this,Ht)),this.div.removeEventListener("focusout",Ot(this,qt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Lt=Ot(this,kt))==null||Lt.remove(),$n(this,kt,null),$n(this,Rt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(In(this,Kt,Lv).call(this),Ot(this,Ft).classList.remove("hidden"))}select(){var Lt;this.makeResizable(),(Lt=this.div)==null||Lt.classList.add("selectedEditor")}unselect(){var Lt,Vt,an;(Lt=Ot(this,Ft))==null||Lt.classList.add("hidden"),(Vt=this.div)==null||Vt.classList.remove("selectedEditor"),(an=this.div)!=null&&an.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Lt,Vt){}disableEditing(){Ot(this,kt)&&(Ot(this,kt).hidden=!0)}enableEditing(){Ot(this,kt)&&(Ot(this,kt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Ot(this,$t)}set isEditing(Lt){$n(this,$t,Lt),this.parent&&(Lt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Lt,Vt){$n(this,vt,!0);const an=Lt/Vt,{style:zt}=this.div;zt.aspectRatio=an,zt.height="auto"}static get MIN_SIZE(){return 16}};Pt=new WeakMap,wt=new WeakMap,kt=new WeakMap,Rt=new WeakMap,ht=new WeakMap,vt=new WeakMap,Ft=new WeakMap,Ht=new WeakMap,qt=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Mt=new WeakMap,Bt=new WeakMap,_t=new WeakMap,Kt=new WeakSet,f9=function([Lt,Vt],an,zt){[an,zt]=this.screenToPageTranslation(an,zt),this.x+=an/Lt,this.y+=zt/Vt,this.fixAndSetPosition()},p9=function(){const[Lt,Vt]=this.parentDimensions,{_borderLineWidth:an}=un,zt=an/Lt,Wt=an/Vt;switch(this.rotation){case 90:return[-zt,Wt];case 180:return[zt,Wt];case 270:return[zt,-Wt];default:return[-zt,-Wt]}},Qt=new WeakSet,g9=function(Lt,Vt,an){switch(an){case 90:return[Vt,-Lt];case 180:return[-Lt,-Vt];case 270:return[-Vt,Lt];default:return[Lt,Vt]}},m9=function(Lt){switch(Lt){case 90:{const[Vt,an]=this.pageDimensions;return[0,-Vt/an,an/Vt,0]}case 180:return[-1,0,0,-1];case 270:{const[Vt,an]=this.pageDimensions;return[0,Vt/an,-an/Vt,0]}default:return[1,0,0,1]}},Lv=function(){if(Ot(this,Ft))return;$n(this,Ft,document.createElement("div")),Ot(this,Ft).classList.add("resizers");const Lt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Lt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Vt of Lt){const an=document.createElement("div");Ot(this,Ft).append(an),an.classList.add("resizer",Vt),an.addEventListener("pointerdown",In(this,Kt,Dv).bind(this,Vt)),an.addEventListener("contextmenu",St.noContextMenu)}this.div.prepend(Ot(this,Ft))},Dv=function(Lt,Vt){Vt.preventDefault();const{isMac:an}=At.FeatureTest.platform;if(Vt.button!==0||Vt.ctrlKey&&an)return;const zt=In(this,Kt,Nv).bind(this,Lt),Wt=this._isDraggable;this._isDraggable=!1;const nn={passive:!0,capture:!0};window.addEventListener("pointermove",zt,nn);const dn=this.x,on=this.y,hn=this.width,sn=this.height,rn=this.parent.div.style.cursor,xn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Vt.target).cursor;const vn=()=>{this._isDraggable=Wt,window.removeEventListener("pointerup",vn),window.removeEventListener("blur",vn),window.removeEventListener("pointermove",zt,nn),this.parent.div.style.cursor=rn,this.div.style.cursor=xn;const kn=this.x,Fn=this.y,On=this.width,Pn=this.height;kn===dn&&Fn===on&&On===hn&&Pn===sn||this.addCommands({cmd:()=>{this.width=On,this.height=Pn,this.x=kn,this.y=Fn;const[Sn,mn]=this.parentDimensions;this.setDims(Sn*On,mn*Pn),this.fixAndSetPosition()},undo:()=>{this.width=hn,this.height=sn,this.x=dn,this.y=on;const[Sn,mn]=this.parentDimensions;this.setDims(Sn*hn,mn*sn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",vn),window.addEventListener("blur",vn)},Nv=function(Lt,Vt){const[an,zt]=this.parentDimensions,Wt=this.x,nn=this.y,dn=this.width,on=this.height,hn=un.MIN_SIZE/an,sn=un.MIN_SIZE/zt,rn=Dn=>Math.round(Dn*1e4)/1e4,xn=In(this,Kt,m9).call(this,this.rotation),vn=(Dn,Un)=>[xn[0]*Dn+xn[2]*Un,xn[1]*Dn+xn[3]*Un],kn=In(this,Kt,m9).call(this,360-this.rotation),Fn=(Dn,Un)=>[kn[0]*Dn+kn[2]*Un,kn[1]*Dn+kn[3]*Un];let On,Pn,Sn=!1,mn=!1;switch(Lt){case"topLeft":Sn=!0,On=(Dn,Un)=>[0,0],Pn=(Dn,Un)=>[Dn,Un];break;case"topMiddle":On=(Dn,Un)=>[Dn/2,0],Pn=(Dn,Un)=>[Dn/2,Un];break;case"topRight":Sn=!0,On=(Dn,Un)=>[Dn,0],Pn=(Dn,Un)=>[0,Un];break;case"middleRight":mn=!0,On=(Dn,Un)=>[Dn,Un/2],Pn=(Dn,Un)=>[0,Un/2];break;case"bottomRight":Sn=!0,On=(Dn,Un)=>[Dn,Un],Pn=(Dn,Un)=>[0,0];break;case"bottomMiddle":On=(Dn,Un)=>[Dn/2,Un],Pn=(Dn,Un)=>[Dn/2,0];break;case"bottomLeft":Sn=!0,On=(Dn,Un)=>[0,Un],Pn=(Dn,Un)=>[Dn,0];break;case"middleLeft":mn=!0,On=(Dn,Un)=>[0,Un/2],Pn=(Dn,Un)=>[Dn,Un/2];break}const fn=On(dn,on),Jt=Pn(dn,on);let cn=vn(...Jt);const pn=rn(Wt+cn[0]),wn=rn(nn+cn[1]);let En=1,_n=1,[Cn,An]=this.screenToPageTranslation(Vt.movementX,Vt.movementY);if([Cn,An]=Fn(Cn/an,An/zt),Sn){const Dn=Math.hypot(dn,on);En=_n=Math.max(Math.min(Math.hypot(Jt[0]-fn[0]-Cn,Jt[1]-fn[1]-An)/Dn,1/dn,1/on),hn/dn,sn/on)}else mn?En=Math.max(hn,Math.min(1,Math.abs(Jt[0]-fn[0]-Cn)))/dn:_n=Math.max(sn,Math.min(1,Math.abs(Jt[1]-fn[1]-An)))/on;const Tn=rn(dn*En),Mn=rn(on*_n);cn=vn(...Pn(Tn,Mn));const Rn=pn-cn[0],Ln=wn-cn[1];this.width=Tn,this.height=Mn,this.x=Rn,this.y=Ln,this.setDims(an*Tn,zt*Mn),this.fixAndSetPosition()},x9=async function(){var an;const Lt=Ot(this,kt);if(!Lt)return;if(!Ot(this,Pt)&&!Ot(this,wt)){Lt.classList.remove("done"),(an=Ot(this,Rt))==null||an.remove();return}un._l10nPromise.get("editor_alt_text_edit_button_label").then(zt=>{Lt.setAttribute("aria-label",zt)});let Vt=Ot(this,Rt);if(!Vt){$n(this,Rt,Vt=document.createElement("span")),Vt.className="tooltip",Vt.setAttribute("role","tooltip");const zt=Vt.id=`alt-text-tooltip-${this.id}`;Lt.setAttribute("aria-describedby",zt);const Wt=100;Lt.addEventListener("mouseenter",()=>{$n(this,ht,setTimeout(()=>{$n(this,ht,null),Ot(this,Rt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Wt))}),Lt.addEventListener("mouseleave",()=>{var nn;clearTimeout(Ot(this,ht)),$n(this,ht,null),(nn=Ot(this,Rt))==null||nn.classList.remove("show")})}Lt.classList.add("done"),Vt.innerText=Ot(this,wt)?await un._l10nPromise.get("editor_alt_text_decorative_tooltip"):Ot(this,Pt),Vt.parentNode||Lt.append(Vt)},$v=function(Lt){if(!this._isDraggable)return;const Vt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let an,zt;Vt&&(an={passive:!0,capture:!0},zt=nn=>{const[dn,on]=this.screenToPageTranslation(nn.movementX,nn.movementY);this._uiManager.dragSelectedEditors(dn,on)},window.addEventListener("pointermove",zt,an));const Wt=()=>{if(window.removeEventListener("pointerup",Wt),window.removeEventListener("blur",Wt),Vt&&window.removeEventListener("pointermove",zt,an),$n(this,Nt,!1),!this._uiManager.endDragSession()){const{isMac:nn}=At.FeatureTest.platform;Lt.ctrlKey&&!nn||Lt.shiftKey||Lt.metaKey&&nn?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Wt),window.addEventListener("blur",Wt)},Nn(un,Qt),Ur(un,"_borderLineWidth",-1),Ur(un,"_colorManager",new bt.ColorManager),Ur(un,"_zIndex",1),Ur(un,"SMALL_EDITOR_SIZE",0);let Et=un;$.AnnotationEditor=Et;class Ct extends Et{constructor(Lt){super(Lt),this.annotationElementId=Lt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(_e,$,xt)=>{var vt,Ft,Ht,qt,Nt,b9,Bt,_t,Kt,jt,Gt,Bv,en,gn,tn,bn,Xt,Yt,un,Ut,Lt,Vt,an,zt,Wt,nn,dn,on,hn,sn,rn,xn,vn,kn,Fn,On,Pn,Sn,mn,fn,Jt,cn,pn,wn,En,_n,Cn,jv,y9,v9,E2,w9,A9,xl,lm,Uv,Hv,S9,cm,C9;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=St,$.opacityToHex=Et;var bt=xt(1),At=xt(6);function St(dr,jn,Hn){for(const Xn of Hn)jn.addEventListener(Xn,dr[Xn].bind(dr))}function Et(dr){return Math.round(Math.min(255,Math.max(1,255*dr))).toString(16).padStart(2,"0")}class Ct{constructor(){Nn(this,vt,0)}getId(){return`${bt.AnnotationEditorPrefix}${So(this,vt)._++}`}}vt=new WeakMap;const Mt=class Mt{constructor(){Nn(this,Nt);Nn(this,Ft,(0,bt.getUuid)());Nn(this,Ht,0);Nn(this,qt,null)}static get _isSVGFittingCanvas(){const jn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Xn=new OffscreenCanvas(1,3).getContext("2d"),cr=new Image;cr.src=jn;const sr=cr.decode().then(()=>(Xn.drawImage(cr,0,0,1,1,0,0,1,3),new Uint32Array(Xn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,bt.shadow)(this,"_isSVGFittingCanvas",sr)}async getFromFile(jn){const{lastModified:Hn,name:Xn,size:cr,type:sr}=jn;return In(this,Nt,b9).call(this,`${Hn}_${Xn}_${cr}_${sr}`,jn)}async getFromUrl(jn){return In(this,Nt,b9).call(this,jn,jn)}async getFromId(jn){Ot(this,qt)||$n(this,qt,new Map);const Hn=Ot(this,qt).get(jn);return Hn?Hn.bitmap?(Hn.refCounter+=1,Hn):Hn.file?this.getFromFile(Hn.file):this.getFromUrl(Hn.url):null}getSvgUrl(jn){const Hn=Ot(this,qt).get(jn);return Hn!=null&&Hn.isSvg?Hn.svgUrl:null}deleteId(jn){Ot(this,qt)||$n(this,qt,new Map);const Hn=Ot(this,qt).get(jn);Hn&&(Hn.refCounter-=1,Hn.refCounter===0&&(Hn.bitmap=null))}isValidId(jn){return jn.startsWith(`image_${Ot(this,Ft)}_`)}};Ft=new WeakMap,Ht=new WeakMap,qt=new WeakMap,Nt=new WeakSet,b9=async function(jn,Hn){Ot(this,qt)||$n(this,qt,new Map);let Xn=Ot(this,qt).get(jn);if(Xn===null)return null;if(Xn!=null&&Xn.bitmap)return Xn.refCounter+=1,Xn;try{Xn||(Xn={bitmap:null,id:`image_${Ot(this,Ft)}_${So(this,Ht)._++}`,refCounter:0,isSvg:!1});let cr;if(typeof Hn=="string"){Xn.url=Hn;const sr=await fetch(Hn);if(!sr.ok)throw new Error(sr.statusText);cr=await sr.blob()}else cr=Xn.file=Hn;if(cr.type==="image/svg+xml"){const sr=Mt._isSVGFittingCanvas,xr=new FileReader,Jn=new Image,Wn=new Promise((Zn,ur)=>{Jn.onload=()=>{Xn.bitmap=Jn,Xn.isSvg=!0,Zn()},xr.onload=async()=>{const hr=Xn.svgUrl=xr.result;Jn.src=await sr?`${hr}#svgView(preserveAspectRatio(none))`:hr},Jn.onerror=xr.onerror=ur});xr.readAsDataURL(cr),await Wn}else Xn.bitmap=await createImageBitmap(cr);Xn.refCounter=1}catch(cr){console.error(cr),Xn=null}return Ot(this,qt).set(jn,Xn),Xn&&Ot(this,qt).set(Xn.id,Xn),Xn};let Pt=Mt;class wt{constructor(jn=128){Nn(this,Bt,[]);Nn(this,_t,!1);Nn(this,Kt);Nn(this,jt,-1);$n(this,Kt,jn)}add({cmd:jn,undo:Hn,mustExec:Xn,type:cr=NaN,overwriteIfSameType:sr=!1,keepUndo:xr=!1}){if(Xn&&jn(),Ot(this,_t))return;const Jn={cmd:jn,undo:Hn,type:cr};if(Ot(this,jt)===-1){Ot(this,Bt).length>0&&(Ot(this,Bt).length=0),$n(this,jt,0),Ot(this,Bt).push(Jn);return}if(sr&&Ot(this,Bt)[Ot(this,jt)].type===cr){xr&&(Jn.undo=Ot(this,Bt)[Ot(this,jt)].undo),Ot(this,Bt)[Ot(this,jt)]=Jn;return}const Wn=Ot(this,jt)+1;Wn===Ot(this,Kt)?Ot(this,Bt).splice(0,1):($n(this,jt,Wn),Wn<Ot(this,Bt).length&&Ot(this,Bt).splice(Wn)),Ot(this,Bt).push(Jn)}undo(){Ot(this,jt)!==-1&&($n(this,_t,!0),Ot(this,Bt)[Ot(this,jt)].undo(),$n(this,_t,!1),$n(this,jt,Ot(this,jt)-1))}redo(){Ot(this,jt)<Ot(this,Bt).length-1&&($n(this,jt,Ot(this,jt)+1),$n(this,_t,!0),Ot(this,Bt)[Ot(this,jt)].cmd(),$n(this,_t,!1))}hasSomethingToUndo(){return Ot(this,jt)!==-1}hasSomethingToRedo(){return Ot(this,jt)<Ot(this,Bt).length-1}destroy(){$n(this,Bt,null)}}Bt=new WeakMap,_t=new WeakMap,Kt=new WeakMap,jt=new WeakMap,$.CommandManager=wt;class kt{constructor(jn){Nn(this,Gt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Hn}=bt.FeatureTest.platform;for(const[Xn,cr,sr={}]of jn)for(const xr of Xn){const Jn=xr.startsWith("mac+");Hn&&Jn?(this.callbacks.set(xr.slice(4),{callback:cr,options:sr}),this.allKeys.add(xr.split("+").at(-1))):!Hn&&!Jn&&(this.callbacks.set(xr,{callback:cr,options:sr}),this.allKeys.add(xr.split("+").at(-1)))}}exec(jn,Hn){if(!this.allKeys.has(Hn.key))return;const Xn=this.callbacks.get(In(this,Gt,Bv).call(this,Hn));if(!Xn)return;const{callback:cr,options:{bubbles:sr=!1,args:xr=[],checker:Jn=null}}=Xn;Jn&&!Jn(jn,Hn)||(cr.bind(jn,...xr)(),sr||(Hn.stopPropagation(),Hn.preventDefault()))}}Gt=new WeakSet,Bv=function(jn){jn.altKey&&this.buffer.push("alt"),jn.ctrlKey&&this.buffer.push("ctrl"),jn.metaKey&&this.buffer.push("meta"),jn.shiftKey&&this.buffer.push("shift"),this.buffer.push(jn.key);const Hn=this.buffer.join("+");return this.buffer.length=0,Hn},$.KeyboardManager=kt;const ln=class ln{get _colors(){const jn=new Map([["CanvasText",null],["Canvas",null]]);return(0,At.getColorValues)(jn),(0,bt.shadow)(this,"_colors",jn)}convert(jn){const Hn=(0,At.getRGB)(jn);if(!window.matchMedia("(forced-colors: active)").matches)return Hn;for(const[Xn,cr]of this._colors)if(cr.every((sr,xr)=>sr===Hn[xr]))return ln._colorsMapping.get(Xn);return Hn}getHexCode(jn){const Hn=this._colors.get(jn);return Hn?bt.Util.makeHexColor(...Hn):jn}};Ur(ln,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Rt=ln;$.ColorManager=Rt;const lr=class lr{constructor(jn,Hn,Xn,cr,sr,xr){Nn(this,Cn);Nn(this,en,null);Nn(this,gn,new Map);Nn(this,tn,new Map);Nn(this,bn,null);Nn(this,Xt,null);Nn(this,Yt,new wt);Nn(this,un,0);Nn(this,Ut,new Set);Nn(this,Lt,null);Nn(this,Vt,null);Nn(this,an,new Set);Nn(this,zt,null);Nn(this,Wt,new Ct);Nn(this,nn,!1);Nn(this,dn,!1);Nn(this,on,null);Nn(this,hn,bt.AnnotationEditorType.NONE);Nn(this,sn,new Set);Nn(this,rn,null);Nn(this,xn,this.blur.bind(this));Nn(this,vn,this.focus.bind(this));Nn(this,kn,this.copy.bind(this));Nn(this,Fn,this.cut.bind(this));Nn(this,On,this.paste.bind(this));Nn(this,Pn,this.keydown.bind(this));Nn(this,Sn,this.onEditingAction.bind(this));Nn(this,mn,this.onPageChanging.bind(this));Nn(this,fn,this.onScaleChanging.bind(this));Nn(this,Jt,this.onRotationChanging.bind(this));Nn(this,cn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Nn(this,pn,[0,0]);Nn(this,wn,null);Nn(this,En,null);Nn(this,_n,null);$n(this,En,jn),$n(this,_n,Hn),$n(this,bn,Xn),this._eventBus=cr,this._eventBus._on("editingaction",Ot(this,Sn)),this._eventBus._on("pagechanging",Ot(this,mn)),this._eventBus._on("scalechanging",Ot(this,fn)),this._eventBus._on("rotationchanging",Ot(this,Jt)),$n(this,Xt,sr.annotationStorage),$n(this,zt,sr.filterFactory),$n(this,rn,xr),this.viewParameters={realScale:At.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const jn=lr.prototype,Hn=sr=>{const{activeElement:xr}=document;return xr&&Ot(sr,En).contains(xr)&&sr.hasSomethingToControl()},Xn=this.TRANSLATE_SMALL,cr=this.TRANSLATE_BIG;return(0,bt.shadow)(this,"_keyboardManager",new kt([[["ctrl+a","mac+meta+a"],jn.selectAll],[["ctrl+z","mac+meta+z"],jn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],jn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],jn.delete],[["Escape","mac+Escape"],jn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],jn.translateSelectedEditors,{args:[-Xn,0],checker:Hn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],jn.translateSelectedEditors,{args:[-cr,0],checker:Hn}],[["ArrowRight","mac+ArrowRight"],jn.translateSelectedEditors,{args:[Xn,0],checker:Hn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],jn.translateSelectedEditors,{args:[cr,0],checker:Hn}],[["ArrowUp","mac+ArrowUp"],jn.translateSelectedEditors,{args:[0,-Xn],checker:Hn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],jn.translateSelectedEditors,{args:[0,-cr],checker:Hn}],[["ArrowDown","mac+ArrowDown"],jn.translateSelectedEditors,{args:[0,Xn],checker:Hn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],jn.translateSelectedEditors,{args:[0,cr],checker:Hn}]]))}destroy(){In(this,Cn,E2).call(this),In(this,Cn,y9).call(this),this._eventBus._off("editingaction",Ot(this,Sn)),this._eventBus._off("pagechanging",Ot(this,mn)),this._eventBus._off("scalechanging",Ot(this,fn)),this._eventBus._off("rotationchanging",Ot(this,Jt));for(const jn of Ot(this,tn).values())jn.destroy();Ot(this,tn).clear(),Ot(this,gn).clear(),Ot(this,an).clear(),$n(this,en,null),Ot(this,sn).clear(),Ot(this,Yt).destroy(),Ot(this,bn).destroy()}get hcmFilter(){return(0,bt.shadow)(this,"hcmFilter",Ot(this,rn)?Ot(this,zt).addHCMFilter(Ot(this,rn).foreground,Ot(this,rn).background):"none")}get direction(){return(0,bt.shadow)(this,"direction",getComputedStyle(Ot(this,En)).direction)}editAltText(jn){var Hn;(Hn=Ot(this,bn))==null||Hn.editAltText(this,jn)}onPageChanging({pageNumber:jn}){$n(this,un,jn-1)}focusMainContainer(){Ot(this,En).focus()}findParent(jn,Hn){for(const Xn of Ot(this,tn).values()){const{x:cr,y:sr,width:xr,height:Jn}=Xn.div.getBoundingClientRect();if(jn>=cr&&jn<=cr+xr&&Hn>=sr&&Hn<=sr+Jn)return Xn}return null}disableUserSelect(jn=!1){Ot(this,_n).classList.toggle("noUserSelect",jn)}addShouldRescale(jn){Ot(this,an).add(jn)}removeShouldRescale(jn){Ot(this,an).delete(jn)}onScaleChanging({scale:jn}){this.commitOrRemove(),this.viewParameters.realScale=jn*At.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Hn of Ot(this,an))Hn.onScaleChanging()}onRotationChanging({pagesRotation:jn}){this.commitOrRemove(),this.viewParameters.rotation=jn}addToAnnotationStorage(jn){!jn.isEmpty()&&Ot(this,Xt)&&!Ot(this,Xt).has(jn.id)&&Ot(this,Xt).setValue(jn.id,jn)}blur(){if(!this.hasSelection)return;const{activeElement:jn}=document;for(const Hn of Ot(this,sn))if(Hn.div.contains(jn)){$n(this,on,[Hn,jn]),Hn._focusEventsAllowed=!1;break}}focus(){if(!Ot(this,on))return;const[jn,Hn]=Ot(this,on);$n(this,on,null),Hn.addEventListener("focusin",()=>{jn._focusEventsAllowed=!0},{once:!0}),Hn.focus()}addEditListeners(){In(this,Cn,v9).call(this),In(this,Cn,w9).call(this)}removeEditListeners(){In(this,Cn,E2).call(this),In(this,Cn,A9).call(this)}copy(jn){var Xn;if(jn.preventDefault(),(Xn=Ot(this,en))==null||Xn.commitOrRemove(),!this.hasSelection)return;const Hn=[];for(const cr of Ot(this,sn)){const sr=cr.serialize(!0);sr&&Hn.push(sr)}Hn.length!==0&&jn.clipboardData.setData("application/pdfjs",JSON.stringify(Hn))}cut(jn){this.copy(jn),this.delete()}paste(jn){jn.preventDefault();const{clipboardData:Hn}=jn;for(const sr of Hn.items)for(const xr of Ot(this,Vt))if(xr.isHandlingMimeForPasting(sr.type)){xr.paste(sr,this.currentLayer);return}let Xn=Hn.getData("application/pdfjs");if(!Xn)return;try{Xn=JSON.parse(Xn)}catch(sr){(0,bt.warn)(`paste: "${sr.message}".`);return}if(!Array.isArray(Xn))return;this.unselectAll();const cr=this.currentLayer;try{const sr=[];for(const Wn of Xn){const Zn=cr.deserialize(Wn);if(!Zn)return;sr.push(Zn)}const xr=()=>{for(const Wn of sr)In(this,Cn,S9).call(this,Wn);In(this,Cn,C9).call(this,sr)},Jn=()=>{for(const Wn of sr)Wn.remove()};this.addCommands({cmd:xr,undo:Jn,mustExec:!0})}catch(sr){(0,bt.warn)(`paste: "${sr.message}".`)}}keydown(jn){var Hn;(Hn=this.getActive())!=null&&Hn.shouldGetKeyboardEvents()||lr._keyboardManager.exec(this,jn)}onEditingAction(jn){["undo","redo","delete","selectAll"].includes(jn.name)&&this[jn.name]()}setEditingState(jn){jn?(In(this,Cn,jv).call(this),In(this,Cn,v9).call(this),In(this,Cn,w9).call(this),In(this,Cn,xl).call(this,{isEditing:Ot(this,hn)!==bt.AnnotationEditorType.NONE,isEmpty:In(this,Cn,cm).call(this),hasSomethingToUndo:Ot(this,Yt).hasSomethingToUndo(),hasSomethingToRedo:Ot(this,Yt).hasSomethingToRedo(),hasSelectedEditor:!1})):(In(this,Cn,y9).call(this),In(this,Cn,E2).call(this),In(this,Cn,A9).call(this),In(this,Cn,xl).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(jn){if(!Ot(this,Vt)){$n(this,Vt,jn);for(const Hn of Ot(this,Vt))In(this,Cn,lm).call(this,Hn.defaultPropertiesToUpdate)}}getId(){return Ot(this,Wt).getId()}get currentLayer(){return Ot(this,tn).get(Ot(this,un))}getLayer(jn){return Ot(this,tn).get(jn)}get currentPageIndex(){return Ot(this,un)}addLayer(jn){Ot(this,tn).set(jn.pageIndex,jn),Ot(this,nn)?jn.enable():jn.disable()}removeLayer(jn){Ot(this,tn).delete(jn.pageIndex)}updateMode(jn,Hn=null){if(Ot(this,hn)!==jn){if($n(this,hn,jn),jn===bt.AnnotationEditorType.NONE){this.setEditingState(!1),In(this,Cn,Hv).call(this);return}this.setEditingState(!0),In(this,Cn,Uv).call(this),this.unselectAll();for(const Xn of Ot(this,tn).values())Xn.updateMode(jn);if(Hn){for(const Xn of Ot(this,gn).values())if(Xn.annotationElementId===Hn){this.setSelected(Xn),Xn.enterInEditMode();break}}}}updateToolbar(jn){jn!==Ot(this,hn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:jn})}updateParams(jn,Hn){if(Ot(this,Vt)){if(jn===bt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(jn);return}for(const Xn of Ot(this,sn))Xn.updateParams(jn,Hn);for(const Xn of Ot(this,Vt))Xn.updateDefaultParams(jn,Hn)}}enableWaiting(jn=!1){if(Ot(this,dn)!==jn){$n(this,dn,jn);for(const Hn of Ot(this,tn).values())jn?Hn.disableClick():Hn.enableClick(),Hn.div.classList.toggle("waiting",jn)}}getEditors(jn){const Hn=[];for(const Xn of Ot(this,gn).values())Xn.pageIndex===jn&&Hn.push(Xn);return Hn}getEditor(jn){return Ot(this,gn).get(jn)}addEditor(jn){Ot(this,gn).set(jn.id,jn)}removeEditor(jn){var Hn;Ot(this,gn).delete(jn.id),this.unselect(jn),(!jn.annotationElementId||!Ot(this,Ut).has(jn.annotationElementId))&&((Hn=Ot(this,Xt))==null||Hn.remove(jn.id))}addDeletedAnnotationElement(jn){Ot(this,Ut).add(jn.annotationElementId),jn.deleted=!0}isDeletedAnnotationElement(jn){return Ot(this,Ut).has(jn)}removeDeletedAnnotationElement(jn){Ot(this,Ut).delete(jn.annotationElementId),jn.deleted=!1}setActiveEditor(jn){Ot(this,en)!==jn&&($n(this,en,jn),jn&&In(this,Cn,lm).call(this,jn.propertiesToUpdate))}toggleSelected(jn){if(Ot(this,sn).has(jn)){Ot(this,sn).delete(jn),jn.unselect(),In(this,Cn,xl).call(this,{hasSelectedEditor:this.hasSelection});return}Ot(this,sn).add(jn),jn.select(),In(this,Cn,lm).call(this,jn.propertiesToUpdate),In(this,Cn,xl).call(this,{hasSelectedEditor:!0})}setSelected(jn){for(const Hn of Ot(this,sn))Hn!==jn&&Hn.unselect();Ot(this,sn).clear(),Ot(this,sn).add(jn),jn.select(),In(this,Cn,lm).call(this,jn.propertiesToUpdate),In(this,Cn,xl).call(this,{hasSelectedEditor:!0})}isSelected(jn){return Ot(this,sn).has(jn)}unselect(jn){jn.unselect(),Ot(this,sn).delete(jn),In(this,Cn,xl).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Ot(this,sn).size!==0}undo(){Ot(this,Yt).undo(),In(this,Cn,xl).call(this,{hasSomethingToUndo:Ot(this,Yt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:In(this,Cn,cm).call(this)})}redo(){Ot(this,Yt).redo(),In(this,Cn,xl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ot(this,Yt).hasSomethingToRedo(),isEmpty:In(this,Cn,cm).call(this)})}addCommands(jn){Ot(this,Yt).add(jn),In(this,Cn,xl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:In(this,Cn,cm).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const jn=[...Ot(this,sn)],Hn=()=>{for(const cr of jn)cr.remove()},Xn=()=>{for(const cr of jn)In(this,Cn,S9).call(this,cr)};this.addCommands({cmd:Hn,undo:Xn,mustExec:!0})}commitOrRemove(){var jn;(jn=Ot(this,en))==null||jn.commitOrRemove()}hasSomethingToControl(){return Ot(this,en)||this.hasSelection}selectAll(){for(const jn of Ot(this,sn))jn.commit();In(this,Cn,C9).call(this,Ot(this,gn).values())}unselectAll(){if(Ot(this,en)){Ot(this,en).commitOrRemove();return}if(this.hasSelection){for(const jn of Ot(this,sn))jn.unselect();Ot(this,sn).clear(),In(this,Cn,xl).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(jn,Hn,Xn=!1){if(Xn||this.commitOrRemove(),!this.hasSelection)return;Ot(this,pn)[0]+=jn,Ot(this,pn)[1]+=Hn;const[cr,sr]=Ot(this,pn),xr=[...Ot(this,sn)],Jn=1e3;Ot(this,wn)&&clearTimeout(Ot(this,wn)),$n(this,wn,setTimeout(()=>{$n(this,wn,null),Ot(this,pn)[0]=Ot(this,pn)[1]=0,this.addCommands({cmd:()=>{for(const Wn of xr)Ot(this,gn).has(Wn.id)&&Wn.translateInPage(cr,sr)},undo:()=>{for(const Wn of xr)Ot(this,gn).has(Wn.id)&&Wn.translateInPage(-cr,-sr)},mustExec:!1})},Jn));for(const Wn of xr)Wn.translateInPage(jn,Hn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),$n(this,Lt,new Map);for(const jn of Ot(this,sn))Ot(this,Lt).set(jn,{savedX:jn.x,savedY:jn.y,savedPageIndex:jn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Ot(this,Lt))return!1;this.disableUserSelect(!1);const jn=Ot(this,Lt);$n(this,Lt,null);let Hn=!1;for(const[{x:cr,y:sr,pageIndex:xr},Jn]of jn)Jn.newX=cr,Jn.newY=sr,Jn.newPageIndex=xr,Hn||(Hn=cr!==Jn.savedX||sr!==Jn.savedY||xr!==Jn.savedPageIndex);if(!Hn)return!1;const Xn=(cr,sr,xr,Jn)=>{if(Ot(this,gn).has(cr.id)){const Wn=Ot(this,tn).get(Jn);Wn?cr._setParentAndPosition(Wn,sr,xr):(cr.pageIndex=Jn,cr.x=sr,cr.y=xr)}};return this.addCommands({cmd:()=>{for(const[cr,{newX:sr,newY:xr,newPageIndex:Jn}]of jn)Xn(cr,sr,xr,Jn)},undo:()=>{for(const[cr,{savedX:sr,savedY:xr,savedPageIndex:Jn}]of jn)Xn(cr,sr,xr,Jn)},mustExec:!0}),!0}dragSelectedEditors(jn,Hn){if(Ot(this,Lt))for(const Xn of Ot(this,Lt).keys())Xn.drag(jn,Hn)}rebuild(jn){if(jn.parent===null){const Hn=this.getLayer(jn.pageIndex);Hn?(Hn.changeParent(jn),Hn.addOrRebuild(jn)):(this.addEditor(jn),this.addToAnnotationStorage(jn),jn.rebuild())}else jn.parent.addOrRebuild(jn)}isActive(jn){return Ot(this,en)===jn}getActive(){return Ot(this,en)}getMode(){return Ot(this,hn)}get imageManager(){return(0,bt.shadow)(this,"imageManager",new Pt)}};en=new WeakMap,gn=new WeakMap,tn=new WeakMap,bn=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,un=new WeakMap,Ut=new WeakMap,Lt=new WeakMap,Vt=new WeakMap,an=new WeakMap,zt=new WeakMap,Wt=new WeakMap,nn=new WeakMap,dn=new WeakMap,on=new WeakMap,hn=new WeakMap,sn=new WeakMap,rn=new WeakMap,xn=new WeakMap,vn=new WeakMap,kn=new WeakMap,Fn=new WeakMap,On=new WeakMap,Pn=new WeakMap,Sn=new WeakMap,mn=new WeakMap,fn=new WeakMap,Jt=new WeakMap,cn=new WeakMap,pn=new WeakMap,wn=new WeakMap,En=new WeakMap,_n=new WeakMap,Cn=new WeakSet,jv=function(){window.addEventListener("focus",Ot(this,vn)),window.addEventListener("blur",Ot(this,xn))},y9=function(){window.removeEventListener("focus",Ot(this,vn)),window.removeEventListener("blur",Ot(this,xn))},v9=function(){window.addEventListener("keydown",Ot(this,Pn),{capture:!0})},E2=function(){window.removeEventListener("keydown",Ot(this,Pn),{capture:!0})},w9=function(){document.addEventListener("copy",Ot(this,kn)),document.addEventListener("cut",Ot(this,Fn)),document.addEventListener("paste",Ot(this,On))},A9=function(){document.removeEventListener("copy",Ot(this,kn)),document.removeEventListener("cut",Ot(this,Fn)),document.removeEventListener("paste",Ot(this,On))},xl=function(jn){Object.entries(jn).some(([Xn,cr])=>Ot(this,cn)[Xn]!==cr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ot(this,cn),jn)})},lm=function(jn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:jn})},Uv=function(){if(!Ot(this,nn)){$n(this,nn,!0);for(const jn of Ot(this,tn).values())jn.enable()}},Hv=function(){if(this.unselectAll(),Ot(this,nn)){$n(this,nn,!1);for(const jn of Ot(this,tn).values())jn.disable()}},S9=function(jn){const Hn=Ot(this,tn).get(jn.pageIndex);Hn?Hn.addOrRebuild(jn):this.addEditor(jn)},cm=function(){if(Ot(this,gn).size===0)return!0;if(Ot(this,gn).size===1)for(const jn of Ot(this,gn).values())return jn.isEmpty();return!1},C9=function(jn){Ot(this,sn).clear();for(const Hn of jn)Hn.isEmpty()||(Ot(this,sn).add(Hn),Hn.select());In(this,Cn,xl).call(this,{hasSelectedEditor:!0})},Ur(lr,"TRANSLATE_SMALL",1),Ur(lr,"TRANSLATE_BIG",10);let ht=lr;$.AnnotationEditorUIManager=ht},(_e,$,xt)=>{var un,Ut,Lt,Vt,an,zt,Wt,nn,dn,on,hn,sn,Hp,Vp,E9,k2,T2,um,hm;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=jt,$.getColorValues=gn,$.getCurrentTransform=tn,$.getCurrentTransformInverse=bn,$.getFilenameFromUrl=Nt,$.getPdfFilenameFromUrl=$t,$.getRGB=en,$.getXfaPageViewport=ln,$.isDataScheme=Ht,$.isPdfFile=qt,$.isValidFetchUrl=Bt,$.loadScript=Kt,$.noContextMenu=_t,$.setLayerDimensions=Xt;var bt=xt(7),At=xt(1);const St="http://www.w3.org/2000/svg",Yt=class Yt{};Ur(Yt,"CSS",96),Ur(Yt,"PDF",72),Ur(Yt,"PDF_TO_CSS_UNITS",Yt.CSS/Yt.PDF);let Et=Yt;$.PixelsPerInch=Et;class Ct extends bt.BaseFilterFactory{constructor({docId:fn,ownerDocument:Jt=globalThis.document}={}){super();Nn(this,sn);Nn(this,un);Nn(this,Ut);Nn(this,Lt);Nn(this,Vt);Nn(this,an);Nn(this,zt);Nn(this,Wt);Nn(this,nn);Nn(this,dn);Nn(this,on);Nn(this,hn,0);$n(this,Lt,fn),$n(this,Vt,Jt)}addFilter(fn){if(!fn)return"none";let Jt=Ot(this,sn,Hp).get(fn);if(Jt)return Jt;let cn,pn,wn,En;if(fn.length===1){const Tn=fn[0],Mn=new Array(256);for(let Rn=0;Rn<256;Rn++)Mn[Rn]=Tn[Rn]/255;En=cn=pn=wn=Mn.join(",")}else{const[Tn,Mn,Rn]=fn,Ln=new Array(256),Dn=new Array(256),Un=new Array(256);for(let tr=0;tr<256;tr++)Ln[tr]=Tn[tr]/255,Dn[tr]=Mn[tr]/255,Un[tr]=Rn[tr]/255;cn=Ln.join(","),pn=Dn.join(","),wn=Un.join(","),En=`${cn}${pn}${wn}`}if(Jt=Ot(this,sn,Hp).get(En),Jt)return Ot(this,sn,Hp).set(fn,Jt),Jt;const _n=`g_${Ot(this,Lt)}_transfer_map_${So(this,hn)._++}`,Cn=`url(#${_n})`;Ot(this,sn,Hp).set(fn,Cn),Ot(this,sn,Hp).set(En,Cn);const An=In(this,sn,k2).call(this,_n);return In(this,sn,um).call(this,cn,pn,wn,An),Cn}addHCMFilter(fn,Jt){var Mn;const cn=`${fn}-${Jt}`;if(Ot(this,zt)===cn)return Ot(this,Wt);if($n(this,zt,cn),$n(this,Wt,"none"),(Mn=Ot(this,an))==null||Mn.remove(),!fn||!Jt)return Ot(this,Wt);const pn=In(this,sn,hm).call(this,fn);fn=At.Util.makeHexColor(...pn);const wn=In(this,sn,hm).call(this,Jt);if(Jt=At.Util.makeHexColor(...wn),Ot(this,sn,Vp).style.color="",fn==="#000000"&&Jt==="#ffffff"||fn===Jt)return Ot(this,Wt);const En=new Array(256);for(let Rn=0;Rn<=255;Rn++){const Ln=Rn/255;En[Rn]=Ln<=.03928?Ln/12.92:((Ln+.055)/1.055)**2.4}const _n=En.join(","),Cn=`g_${Ot(this,Lt)}_hcm_filter`,An=$n(this,nn,In(this,sn,k2).call(this,Cn));In(this,sn,um).call(this,_n,_n,_n,An),In(this,sn,E9).call(this,An);const Tn=(Rn,Ln)=>{const Dn=pn[Rn]/255,Un=wn[Rn]/255,tr=new Array(Ln+1);for(let er=0;er<=Ln;er++)tr[er]=Dn+er/Ln*(Un-Dn);return tr.join(",")};return In(this,sn,um).call(this,Tn(0,5),Tn(1,5),Tn(2,5),An),$n(this,Wt,`url(#${Cn})`),Ot(this,Wt)}addHighlightHCMFilter(fn,Jt,cn,pn){var Un;const wn=`${fn}-${Jt}-${cn}-${pn}`;if(Ot(this,dn)===wn)return Ot(this,on);if($n(this,dn,wn),$n(this,on,"none"),(Un=Ot(this,nn))==null||Un.remove(),!fn||!Jt)return Ot(this,on);const[En,_n]=[fn,Jt].map(In(this,sn,hm).bind(this));let Cn=Math.round(.2126*En[0]+.7152*En[1]+.0722*En[2]),An=Math.round(.2126*_n[0]+.7152*_n[1]+.0722*_n[2]),[Tn,Mn]=[cn,pn].map(In(this,sn,hm).bind(this));An<Cn&&([Cn,An,Tn,Mn]=[An,Cn,Mn,Tn]),Ot(this,sn,Vp).style.color="";const Rn=(tr,er,Qn)=>{const Yn=new Array(256),zn=(An-Cn)/Qn,nr=tr/255,lr=(er-tr)/(255*Qn);let dr=0;for(let jn=0;jn<=Qn;jn++){const Hn=Math.round(Cn+jn*zn),Xn=nr+jn*lr;for(let cr=dr;cr<=Hn;cr++)Yn[cr]=Xn;dr=Hn+1}for(let jn=dr;jn<256;jn++)Yn[jn]=Yn[dr-1];return Yn.join(",")},Ln=`g_${Ot(this,Lt)}_hcm_highlight_filter`,Dn=$n(this,nn,In(this,sn,k2).call(this,Ln));return In(this,sn,E9).call(this,Dn),In(this,sn,um).call(this,Rn(Tn[0],Mn[0],5),Rn(Tn[1],Mn[1],5),Rn(Tn[2],Mn[2],5),Dn),$n(this,on,`url(#${Ln})`),Ot(this,on)}destroy(fn=!1){fn&&(Ot(this,Wt)||Ot(this,on))||(Ot(this,Ut)&&(Ot(this,Ut).parentNode.parentNode.remove(),$n(this,Ut,null)),Ot(this,un)&&(Ot(this,un).clear(),$n(this,un,null)),$n(this,hn,0))}}un=new WeakMap,Ut=new WeakMap,Lt=new WeakMap,Vt=new WeakMap,an=new WeakMap,zt=new WeakMap,Wt=new WeakMap,nn=new WeakMap,dn=new WeakMap,on=new WeakMap,hn=new WeakMap,sn=new WeakSet,Hp=function(){return Ot(this,un)||$n(this,un,new Map)},Vp=function(){if(!Ot(this,Ut)){const fn=Ot(this,Vt).createElement("div"),{style:Jt}=fn;Jt.visibility="hidden",Jt.contain="strict",Jt.width=Jt.height=0,Jt.position="absolute",Jt.top=Jt.left=0,Jt.zIndex=-1;const cn=Ot(this,Vt).createElementNS(St,"svg");cn.setAttribute("width",0),cn.setAttribute("height",0),$n(this,Ut,Ot(this,Vt).createElementNS(St,"defs")),fn.append(cn),cn.append(Ot(this,Ut)),Ot(this,Vt).body.append(fn)}return Ot(this,Ut)},E9=function(fn){const Jt=Ot(this,Vt).createElementNS(St,"feColorMatrix");Jt.setAttribute("type","matrix"),Jt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),fn.append(Jt)},k2=function(fn){const Jt=Ot(this,Vt).createElementNS(St,"filter");return Jt.setAttribute("color-interpolation-filters","sRGB"),Jt.setAttribute("id",fn),Ot(this,sn,Vp).append(Jt),Jt},T2=function(fn,Jt,cn){const pn=Ot(this,Vt).createElementNS(St,Jt);pn.setAttribute("type","discrete"),pn.setAttribute("tableValues",cn),fn.append(pn)},um=function(fn,Jt,cn,pn){const wn=Ot(this,Vt).createElementNS(St,"feComponentTransfer");pn.append(wn),In(this,sn,T2).call(this,wn,"feFuncR",fn),In(this,sn,T2).call(this,wn,"feFuncG",Jt),In(this,sn,T2).call(this,wn,"feFuncB",cn)},hm=function(fn){return Ot(this,sn,Vp).style.color=fn,en(getComputedStyle(Ot(this,sn,Vp)).getPropertyValue("color"))},$.DOMFilterFactory=Ct;class Pt extends bt.BaseCanvasFactory{constructor({ownerDocument:mn=globalThis.document}={}){super(),this._document=mn}_createCanvas(mn,fn){const Jt=this._document.createElement("canvas");return Jt.width=mn,Jt.height=fn,Jt}}$.DOMCanvasFactory=Pt;async function wt(Sn,mn=!1){if(Bt(Sn,document.baseURI)){const fn=await fetch(Sn);if(!fn.ok)throw new Error(fn.statusText);return mn?new Uint8Array(await fn.arrayBuffer()):(0,At.stringToBytes)(await fn.text())}return new Promise((fn,Jt)=>{const cn=new XMLHttpRequest;cn.open("GET",Sn,!0),mn&&(cn.responseType="arraybuffer"),cn.onreadystatechange=()=>{if(cn.readyState===XMLHttpRequest.DONE){if(cn.status===200||cn.status===0){let pn;if(mn&&cn.response?pn=new Uint8Array(cn.response):!mn&&cn.responseText&&(pn=(0,At.stringToBytes)(cn.responseText)),pn){fn(pn);return}}Jt(new Error(cn.statusText))}},cn.send(null)})}class kt extends bt.BaseCMapReaderFactory{_fetchData(mn,fn){return wt(mn,this.isCompressed).then(Jt=>({cMapData:Jt,compressionType:fn}))}}$.DOMCMapReaderFactory=kt;class Rt extends bt.BaseStandardFontDataFactory{_fetchData(mn){return wt(mn,!0)}}$.DOMStandardFontDataFactory=Rt;class ht extends bt.BaseSVGFactory{_createSVG(mn){return document.createElementNS(St,mn)}}$.DOMSVGFactory=ht;class vt{constructor({viewBox:mn,scale:fn,rotation:Jt,offsetX:cn=0,offsetY:pn=0,dontFlip:wn=!1}){this.viewBox=mn,this.scale=fn,this.rotation=Jt,this.offsetX=cn,this.offsetY=pn;const En=(mn[2]+mn[0])/2,_n=(mn[3]+mn[1])/2;let Cn,An,Tn,Mn;switch(Jt%=360,Jt<0&&(Jt+=360),Jt){case 180:Cn=-1,An=0,Tn=0,Mn=1;break;case 90:Cn=0,An=1,Tn=1,Mn=0;break;case 270:Cn=0,An=-1,Tn=-1,Mn=0;break;case 0:Cn=1,An=0,Tn=0,Mn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}wn&&(Tn=-Tn,Mn=-Mn);let Rn,Ln,Dn,Un;Cn===0?(Rn=Math.abs(_n-mn[1])*fn+cn,Ln=Math.abs(En-mn[0])*fn+pn,Dn=(mn[3]-mn[1])*fn,Un=(mn[2]-mn[0])*fn):(Rn=Math.abs(En-mn[0])*fn+cn,Ln=Math.abs(_n-mn[1])*fn+pn,Dn=(mn[2]-mn[0])*fn,Un=(mn[3]-mn[1])*fn),this.transform=[Cn*fn,An*fn,Tn*fn,Mn*fn,Rn-Cn*fn*En-Tn*fn*_n,Ln-An*fn*En-Mn*fn*_n],this.width=Dn,this.height=Un}get rawDims(){const{viewBox:mn}=this;return(0,At.shadow)(this,"rawDims",{pageWidth:mn[2]-mn[0],pageHeight:mn[3]-mn[1],pageX:mn[0],pageY:mn[1]})}clone({scale:mn=this.scale,rotation:fn=this.rotation,offsetX:Jt=this.offsetX,offsetY:cn=this.offsetY,dontFlip:pn=!1}={}){return new vt({viewBox:this.viewBox.slice(),scale:mn,rotation:fn,offsetX:Jt,offsetY:cn,dontFlip:pn})}convertToViewportPoint(mn,fn){return At.Util.applyTransform([mn,fn],this.transform)}convertToViewportRectangle(mn){const fn=At.Util.applyTransform([mn[0],mn[1]],this.transform),Jt=At.Util.applyTransform([mn[2],mn[3]],this.transform);return[fn[0],fn[1],Jt[0],Jt[1]]}convertToPdfPoint(mn,fn){return At.Util.applyInverseTransform([mn,fn],this.transform)}}$.PageViewport=vt;class Ft extends At.BaseException{constructor(mn,fn=0){super(mn,"RenderingCancelledException"),this.extraDelay=fn}}$.RenderingCancelledException=Ft;function Ht(Sn){const mn=Sn.length;let fn=0;for(;fn<mn&&Sn[fn].trim()==="";)fn++;return Sn.substring(fn,fn+5).toLowerCase()==="data:"}function qt(Sn){return typeof Sn=="string"&&/\.pdf$/i.test(Sn)}function Nt(Sn,mn=!1){return mn||([Sn]=Sn.split(/[#?]/,1)),Sn.substring(Sn.lastIndexOf("/")+1)}function $t(Sn,mn="document.pdf"){if(typeof Sn!="string")return mn;if(Ht(Sn))return(0,At.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),mn;const fn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Jt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,cn=fn.exec(Sn);let pn=Jt.exec(cn[1])||Jt.exec(cn[2])||Jt.exec(cn[3]);if(pn&&(pn=pn[0],pn.includes("%")))try{pn=Jt.exec(decodeURIComponent(pn))[0]}catch{}return pn||mn}class Mt{constructor(){Ur(this,"started",Object.create(null));Ur(this,"times",[])}time(mn){mn in this.started&&(0,At.warn)(`Timer is already running for ${mn}`),this.started[mn]=Date.now()}timeEnd(mn){mn in this.started||(0,At.warn)(`Timer has not been started for ${mn}`),this.times.push({name:mn,start:this.started[mn],end:Date.now()}),delete this.started[mn]}toString(){const mn=[];let fn=0;for(const{name:Jt}of this.times)fn=Math.max(Jt.length,fn);for(const{name:Jt,start:cn,end:pn}of this.times)mn.push(`${Jt.padEnd(fn)} ${pn-cn}ms
`);return mn.join("")}}$.StatTimer=Mt;function Bt(Sn,mn){try{const{protocol:fn}=mn?new URL(Sn,mn):new URL(Sn);return fn==="http:"||fn==="https:"}catch{return!1}}function _t(Sn){Sn.preventDefault()}function Kt(Sn,mn=!1){return new Promise((fn,Jt)=>{const cn=document.createElement("script");cn.src=Sn,cn.onload=function(pn){mn&&cn.remove(),fn(pn)},cn.onerror=function(){Jt(new Error(`Cannot load script at: ${cn.src}`))},(document.head||document.documentElement).append(cn)})}function jt(Sn){console.log("Deprecated API usage: "+Sn)}let Gt;class Qt{static toDateObject(mn){if(!mn||typeof mn!="string")return null;Gt||(Gt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const fn=Gt.exec(mn);if(!fn)return null;const Jt=parseInt(fn[1],10);let cn=parseInt(fn[2],10);cn=cn>=1&&cn<=12?cn-1:0;let pn=parseInt(fn[3],10);pn=pn>=1&&pn<=31?pn:1;let wn=parseInt(fn[4],10);wn=wn>=0&&wn<=23?wn:0;let En=parseInt(fn[5],10);En=En>=0&&En<=59?En:0;let _n=parseInt(fn[6],10);_n=_n>=0&&_n<=59?_n:0;const Cn=fn[7]||"Z";let An=parseInt(fn[8],10);An=An>=0&&An<=23?An:0;let Tn=parseInt(fn[9],10)||0;return Tn=Tn>=0&&Tn<=59?Tn:0,Cn==="-"?(wn+=An,En+=Tn):Cn==="+"&&(wn-=An,En-=Tn),new Date(Date.UTC(Jt,cn,pn,wn,En,_n))}}$.PDFDateString=Qt;function ln(Sn,{scale:mn=1,rotation:fn=0}){const{width:Jt,height:cn}=Sn.attributes.style,pn=[0,0,parseInt(Jt),parseInt(cn)];return new vt({viewBox:pn,scale:mn,rotation:fn})}function en(Sn){if(Sn.startsWith("#")){const mn=parseInt(Sn.slice(1),16);return[(mn&16711680)>>16,(mn&65280)>>8,mn&255]}return Sn.startsWith("rgb(")?Sn.slice(4,-1).split(",").map(mn=>parseInt(mn)):Sn.startsWith("rgba(")?Sn.slice(5,-1).split(",").map(mn=>parseInt(mn)).slice(0,3):((0,At.warn)(`Not a valid color format: "${Sn}"`),[0,0,0])}function gn(Sn){const mn=document.createElement("span");mn.style.visibility="hidden",document.body.append(mn);for(const fn of Sn.keys()){mn.style.color=fn;const Jt=window.getComputedStyle(mn).color;Sn.set(fn,en(Jt))}mn.remove()}function tn(Sn){const{a:mn,b:fn,c:Jt,d:cn,e:pn,f:wn}=Sn.getTransform();return[mn,fn,Jt,cn,pn,wn]}function bn(Sn){const{a:mn,b:fn,c:Jt,d:cn,e:pn,f:wn}=Sn.getTransform().invertSelf();return[mn,fn,Jt,cn,pn,wn]}function Xt(Sn,mn,fn=!1,Jt=!0){if(mn instanceof vt){const{pageWidth:cn,pageHeight:pn}=mn.rawDims,{style:wn}=Sn,En=At.FeatureTest.isCSSRoundSupported,_n=`var(--scale-factor) * ${cn}px`,Cn=`var(--scale-factor) * ${pn}px`,An=En?`round(${_n}, 1px)`:`calc(${_n})`,Tn=En?`round(${Cn}, 1px)`:`calc(${Cn})`;!fn||mn.rotation%180===0?(wn.width=An,wn.height=Tn):(wn.width=Tn,wn.height=An)}Jt&&Sn.setAttribute("data-main-rotation",mn.rotation)}},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var bt=xt(1);class At{constructor(){this.constructor===At&&(0,bt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(kt){return"none"}addHCMFilter(kt,Rt){return"none"}addHighlightHCMFilter(kt,Rt,ht,vt){return"none"}destroy(kt=!1){}}$.BaseFilterFactory=At;class St{constructor(){this.constructor===St&&(0,bt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(kt,Rt){if(kt<=0||Rt<=0)throw new Error("Invalid canvas size");const ht=this._createCanvas(kt,Rt);return{canvas:ht,context:ht.getContext("2d")}}reset(kt,Rt,ht){if(!kt.canvas)throw new Error("Canvas is not specified");if(Rt<=0||ht<=0)throw new Error("Invalid canvas size");kt.canvas.width=Rt,kt.canvas.height=ht}destroy(kt){if(!kt.canvas)throw new Error("Canvas is not specified");kt.canvas.width=0,kt.canvas.height=0,kt.canvas=null,kt.context=null}_createCanvas(kt,Rt){(0,bt.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=St;class Et{constructor({baseUrl:kt=null,isCompressed:Rt=!0}){this.constructor===Et&&(0,bt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=kt,this.isCompressed=Rt}async fetch({name:kt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!kt)throw new Error("CMap name must be specified.");const Rt=this.baseUrl+kt+(this.isCompressed?".bcmap":""),ht=this.isCompressed?bt.CMapCompressionType.BINARY:bt.CMapCompressionType.NONE;return this._fetchData(Rt,ht).catch(vt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Rt}`)})}_fetchData(kt,Rt){(0,bt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=Et;class Ct{constructor({baseUrl:kt=null}){this.constructor===Ct&&(0,bt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=kt}async fetch({filename:kt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!kt)throw new Error("Font filename must be specified.");const Rt=`${this.baseUrl}${kt}`;return this._fetchData(Rt).catch(ht=>{throw new Error(`Unable to load font data at: ${Rt}`)})}_fetchData(kt){(0,bt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=Ct;class Pt{constructor(){this.constructor===Pt&&(0,bt.unreachable)("Cannot initialize BaseSVGFactory.")}create(kt,Rt,ht=!1){if(kt<=0||Rt<=0)throw new Error("Invalid SVG dimensions");const vt=this._createSVG("svg:svg");return vt.setAttribute("version","1.1"),ht||(vt.setAttribute("width",`${kt}px`),vt.setAttribute("height",`${Rt}px`)),vt.setAttribute("preserveAspectRatio","none"),vt.setAttribute("viewBox",`0 0 ${kt} ${Rt}`),vt}createElement(kt){if(typeof kt!="string")throw new Error("Invalid SVG element type");return this._createSVG(kt)}_createSVG(kt){(0,bt.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=Pt},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var bt=xt(1);const At=3285377520,St=4294901760,Et=65535;class Ct{constructor(wt){this.h1=wt?wt&4294967295:At,this.h2=wt?wt&4294967295:At}update(wt){let kt,Rt;if(typeof wt=="string"){kt=new Uint8Array(wt.length*2),Rt=0;for(let jt=0,Gt=wt.length;jt<Gt;jt++){const Qt=wt.charCodeAt(jt);Qt<=255?kt[Rt++]=Qt:(kt[Rt++]=Qt>>>8,kt[Rt++]=Qt&255)}}else if((0,bt.isArrayBuffer)(wt))kt=wt.slice(),Rt=kt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ht=Rt>>2,vt=Rt-ht*4,Ft=new Uint32Array(kt.buffer,0,ht);let Ht=0,qt=0,Nt=this.h1,$t=this.h2;const Mt=3432918353,Bt=461845907,_t=Mt&Et,Kt=Bt&Et;for(let jt=0;jt<ht;jt++)jt&1?(Ht=Ft[jt],Ht=Ht*Mt&St|Ht*_t&Et,Ht=Ht<<15|Ht>>>17,Ht=Ht*Bt&St|Ht*Kt&Et,Nt^=Ht,Nt=Nt<<13|Nt>>>19,Nt=Nt*5+3864292196):(qt=Ft[jt],qt=qt*Mt&St|qt*_t&Et,qt=qt<<15|qt>>>17,qt=qt*Bt&St|qt*Kt&Et,$t^=qt,$t=$t<<13|$t>>>19,$t=$t*5+3864292196);switch(Ht=0,vt){case 3:Ht^=kt[ht*4+2]<<16;case 2:Ht^=kt[ht*4+1]<<8;case 1:Ht^=kt[ht*4],Ht=Ht*Mt&St|Ht*_t&Et,Ht=Ht<<15|Ht>>>17,Ht=Ht*Bt&St|Ht*Kt&Et,ht&1?Nt^=Ht:$t^=Ht}this.h1=Nt,this.h2=$t}hexdigest(){let wt=this.h1,kt=this.h2;return wt^=kt>>>1,wt=wt*3981806797&St|wt*36045&Et,kt=kt*4283543511&St|((kt<<16|wt>>>16)*2950163797&St)>>>16,wt^=kt>>>1,wt=wt*444984403&St|wt*60499&Et,kt=kt*3301882366&St|((kt<<16|wt>>>16)*3120437893&St)>>>16,wt^=kt>>>1,(wt>>>0).toString(16).padStart(8,"0")+(kt>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=Ct},(_e,$,xt)=>{var Et;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var bt=xt(1);class At{constructor({ownerDocument:Pt=globalThis.document,styleElement:wt=null}){Nn(this,Et,new Set);this._document=Pt,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Pt){this.nativeFontFaces.add(Pt),this._document.fonts.add(Pt)}removeNativeFontFace(Pt){this.nativeFontFaces.delete(Pt),this._document.fonts.delete(Pt)}insertRule(Pt){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const wt=this.styleElement.sheet;wt.insertRule(Pt,wt.cssRules.length)}clear(){for(const Pt of this.nativeFontFaces)this._document.fonts.delete(Pt);this.nativeFontFaces.clear(),Ot(this,Et).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(Pt){if(!(!Pt||Ot(this,Et).has(Pt.loadedName))){if((0,bt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:wt,src:kt,style:Rt}=Pt,ht=new FontFace(wt,kt,Rt);this.addNativeFontFace(ht);try{await ht.load(),Ot(this,Et).add(wt)}catch{(0,bt.warn)(`Cannot load system font: ${Pt.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ht)}return}(0,bt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(Pt){if(Pt.attached||Pt.missingFile&&!Pt.systemFontInfo)return;if(Pt.attached=!0,Pt.systemFontInfo){await this.loadSystemFont(Pt.systemFontInfo);return}if(this.isFontLoadingAPISupported){const kt=Pt.createNativeFontFace();if(kt){this.addNativeFontFace(kt);try{await kt.loaded}catch(Rt){throw(0,bt.warn)(`Failed to load font '${kt.family}': '${Rt}'.`),Pt.disableFontFace=!0,Rt}}return}const wt=Pt.createFontFaceRule();if(wt){if(this.insertRule(wt),this.isSyncFontLoadingSupported)return;await new Promise(kt=>{const Rt=this._queueLoadingCallback(kt);this._prepareFontLoadEvent(Pt,Rt)})}}get isFontLoadingAPISupported(){var wt;const Pt=!!((wt=this._document)!=null&&wt.fonts);return(0,bt.shadow)(this,"isFontLoadingAPISupported",Pt)}get isSyncFontLoadingSupported(){let Pt=!1;return(bt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(Pt=!0),(0,bt.shadow)(this,"isSyncFontLoadingSupported",Pt)}_queueLoadingCallback(Pt){function wt(){for((0,bt.assert)(!Rt.done,"completeRequest() cannot be called twice."),Rt.done=!0;kt.length>0&&kt[0].done;){const ht=kt.shift();setTimeout(ht.callback,0)}}const{loadingRequests:kt}=this,Rt={done:!1,complete:wt,callback:Pt};return kt.push(Rt),Rt}get _loadTestFont(){const Pt=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,bt.shadow)(this,"_loadTestFont",Pt)}_prepareFontLoadEvent(Pt,wt){function kt(en,gn){return en.charCodeAt(gn)<<24|en.charCodeAt(gn+1)<<16|en.charCodeAt(gn+2)<<8|en.charCodeAt(gn+3)&255}function Rt(en,gn,tn,bn){const Xt=en.substring(0,gn),Yt=en.substring(gn+tn);return Xt+bn+Yt}let ht,vt;const Ft=this._document.createElement("canvas");Ft.width=1,Ft.height=1;const Ht=Ft.getContext("2d");let qt=0;function Nt(en,gn){if(++qt>30){(0,bt.warn)("Load test font never loaded."),gn();return}if(Ht.font="30px "+en,Ht.fillText(".",0,20),Ht.getImageData(0,0,1,1).data[3]>0){gn();return}setTimeout(Nt.bind(null,en,gn))}const $t=`lt${Date.now()}${this.loadTestFontId++}`;let Mt=this._loadTestFont;Mt=Rt(Mt,976,$t.length,$t);const _t=16,Kt=1482184792;let jt=kt(Mt,_t);for(ht=0,vt=$t.length-3;ht<vt;ht+=4)jt=jt-Kt+kt($t,ht)|0;ht<$t.length&&(jt=jt-Kt+kt($t+"XXX",ht)|0),Mt=Rt(Mt,_t,4,(0,bt.string32)(jt));const Gt=`url(data:font/opentype;base64,${btoa(Mt)});`,Qt=`@font-face {font-family:"${$t}";src:${Gt}}`;this.insertRule(Qt);const ln=this._document.createElement("div");ln.style.visibility="hidden",ln.style.width=ln.style.height="10px",ln.style.position="absolute",ln.style.top=ln.style.left="0px";for(const en of[Pt.loadedName,$t]){const gn=this._document.createElement("span");gn.textContent="Hi",gn.style.fontFamily=en,ln.append(gn)}this._document.body.append(ln),Nt($t,()=>{ln.remove(),wt.complete()})}}Et=new WeakMap,$.FontLoader=At;class St{constructor(Pt,{isEvalSupported:wt=!0,disableFontFace:kt=!1,ignoreErrors:Rt=!1,inspectFont:ht=null}){this.compiledGlyphs=Object.create(null);for(const vt in Pt)this[vt]=Pt[vt];this.isEvalSupported=wt!==!1,this.disableFontFace=kt===!0,this.ignoreErrors=Rt===!0,this._inspectFont=ht}createNativeFontFace(){var wt;if(!this.data||this.disableFontFace)return null;let Pt;if(!this.cssFontInfo)Pt=new FontFace(this.loadedName,this.data,{});else{const kt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(kt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Pt=new FontFace(this.cssFontInfo.fontFamily,this.data,kt)}return(wt=this._inspectFont)==null||wt.call(this,this),Pt}createFontFaceRule(){var Rt;if(!this.data||this.disableFontFace)return null;const Pt=(0,bt.bytesToString)(this.data),wt=`url(data:${this.mimetype};base64,${btoa(Pt)});`;let kt;if(!this.cssFontInfo)kt=`@font-face {font-family:"${this.loadedName}";src:${wt}}`;else{let ht=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ht+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),kt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ht}src:${wt}}`}return(Rt=this._inspectFont)==null||Rt.call(this,this,wt),kt}getPathGenerator(Pt,wt){if(this.compiledGlyphs[wt]!==void 0)return this.compiledGlyphs[wt];let kt;try{kt=Pt.get(this.loadedName+"_path_"+wt)}catch(Rt){if(!this.ignoreErrors)throw Rt;return(0,bt.warn)(`getPathGenerator - ignoring character: "${Rt}".`),this.compiledGlyphs[wt]=function(ht,vt){}}if(this.isEvalSupported&&bt.FeatureTest.isEvalSupported){const Rt=[];for(const ht of kt){const vt=ht.args!==void 0?ht.args.join(","):"";Rt.push("c.",ht.cmd,"(",vt,`);
`)}return this.compiledGlyphs[wt]=new Function("c","size",Rt.join(""))}return this.compiledGlyphs[wt]=function(Rt,ht){for(const vt of kt)vt.cmd==="scale"&&(vt.args=[ht,-ht]),Rt[vt.cmd].apply(Rt,vt.args)}}}$.FontFaceObject=St},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var bt=xt(7);xt(1);const At=function(wt){return new Promise((kt,Rt)=>{require$$5.readFile(wt,(vt,Ft)=>{if(vt||!Ft){Rt(new Error(vt));return}kt(new Uint8Array(Ft))})})};class St extends bt.BaseFilterFactory{}$.NodeFilterFactory=St;class Et extends bt.BaseCanvasFactory{_createCanvas(kt,Rt){return require$$5.createCanvas(kt,Rt)}}$.NodeCanvasFactory=Et;class Ct extends bt.BaseCMapReaderFactory{_fetchData(kt,Rt){return At(kt).then(ht=>({cMapData:ht,compressionType:Rt}))}}$.NodeCMapReaderFactory=Ct;class Pt extends bt.BaseStandardFontDataFactory{_fetchData(kt){return At(kt)}}$.NodeStandardFontDataFactory=Pt},(_e,$,xt)=>{var Ut,k9,T9;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var bt=xt(1),At=xt(6),St=xt(12),Et=xt(13);const Ct=16,Pt=100,wt=4096,kt=15,Rt=10,ht=1e3,vt=16;function Ft(zt,Wt){if(zt._removeMirroring)throw new Error("Context is already forwarding operations.");zt.__originalSave=zt.save,zt.__originalRestore=zt.restore,zt.__originalRotate=zt.rotate,zt.__originalScale=zt.scale,zt.__originalTranslate=zt.translate,zt.__originalTransform=zt.transform,zt.__originalSetTransform=zt.setTransform,zt.__originalResetTransform=zt.resetTransform,zt.__originalClip=zt.clip,zt.__originalMoveTo=zt.moveTo,zt.__originalLineTo=zt.lineTo,zt.__originalBezierCurveTo=zt.bezierCurveTo,zt.__originalRect=zt.rect,zt.__originalClosePath=zt.closePath,zt.__originalBeginPath=zt.beginPath,zt._removeMirroring=()=>{zt.save=zt.__originalSave,zt.restore=zt.__originalRestore,zt.rotate=zt.__originalRotate,zt.scale=zt.__originalScale,zt.translate=zt.__originalTranslate,zt.transform=zt.__originalTransform,zt.setTransform=zt.__originalSetTransform,zt.resetTransform=zt.__originalResetTransform,zt.clip=zt.__originalClip,zt.moveTo=zt.__originalMoveTo,zt.lineTo=zt.__originalLineTo,zt.bezierCurveTo=zt.__originalBezierCurveTo,zt.rect=zt.__originalRect,zt.closePath=zt.__originalClosePath,zt.beginPath=zt.__originalBeginPath,delete zt._removeMirroring},zt.save=function(){Wt.save(),this.__originalSave()},zt.restore=function(){Wt.restore(),this.__originalRestore()},zt.translate=function(dn,on){Wt.translate(dn,on),this.__originalTranslate(dn,on)},zt.scale=function(dn,on){Wt.scale(dn,on),this.__originalScale(dn,on)},zt.transform=function(dn,on,hn,sn,rn,xn){Wt.transform(dn,on,hn,sn,rn,xn),this.__originalTransform(dn,on,hn,sn,rn,xn)},zt.setTransform=function(dn,on,hn,sn,rn,xn){Wt.setTransform(dn,on,hn,sn,rn,xn),this.__originalSetTransform(dn,on,hn,sn,rn,xn)},zt.resetTransform=function(){Wt.resetTransform(),this.__originalResetTransform()},zt.rotate=function(dn){Wt.rotate(dn),this.__originalRotate(dn)},zt.clip=function(dn){Wt.clip(dn),this.__originalClip(dn)},zt.moveTo=function(nn,dn){Wt.moveTo(nn,dn),this.__originalMoveTo(nn,dn)},zt.lineTo=function(nn,dn){Wt.lineTo(nn,dn),this.__originalLineTo(nn,dn)},zt.bezierCurveTo=function(nn,dn,on,hn,sn,rn){Wt.bezierCurveTo(nn,dn,on,hn,sn,rn),this.__originalBezierCurveTo(nn,dn,on,hn,sn,rn)},zt.rect=function(nn,dn,on,hn){Wt.rect(nn,dn,on,hn),this.__originalRect(nn,dn,on,hn)},zt.closePath=function(){Wt.closePath(),this.__originalClosePath()},zt.beginPath=function(){Wt.beginPath(),this.__originalBeginPath()}}class Ht{constructor(Wt){this.canvasFactory=Wt,this.cache=Object.create(null)}getCanvas(Wt,nn,dn){let on;return this.cache[Wt]!==void 0?(on=this.cache[Wt],this.canvasFactory.reset(on,nn,dn)):(on=this.canvasFactory.create(nn,dn),this.cache[Wt]=on),on}delete(Wt){delete this.cache[Wt]}clear(){for(const Wt in this.cache){const nn=this.cache[Wt];this.canvasFactory.destroy(nn),delete this.cache[Wt]}}}function qt(zt,Wt,nn,dn,on,hn,sn,rn,xn,vn){const[kn,Fn,On,Pn,Sn,mn]=(0,At.getCurrentTransform)(zt);if(Fn===0&&On===0){const cn=sn*kn+Sn,pn=Math.round(cn),wn=rn*Pn+mn,En=Math.round(wn),_n=(sn+xn)*kn+Sn,Cn=Math.abs(Math.round(_n)-pn)||1,An=(rn+vn)*Pn+mn,Tn=Math.abs(Math.round(An)-En)||1;return zt.setTransform(Math.sign(kn),0,0,Math.sign(Pn),pn,En),zt.drawImage(Wt,nn,dn,on,hn,0,0,Cn,Tn),zt.setTransform(kn,Fn,On,Pn,Sn,mn),[Cn,Tn]}if(kn===0&&Pn===0){const cn=rn*On+Sn,pn=Math.round(cn),wn=sn*Fn+mn,En=Math.round(wn),_n=(rn+vn)*On+Sn,Cn=Math.abs(Math.round(_n)-pn)||1,An=(sn+xn)*Fn+mn,Tn=Math.abs(Math.round(An)-En)||1;return zt.setTransform(0,Math.sign(Fn),Math.sign(On),0,pn,En),zt.drawImage(Wt,nn,dn,on,hn,0,0,Tn,Cn),zt.setTransform(kn,Fn,On,Pn,Sn,mn),[Tn,Cn]}zt.drawImage(Wt,nn,dn,on,hn,sn,rn,xn,vn);const fn=Math.hypot(kn,Fn),Jt=Math.hypot(On,Pn);return[fn*xn,Jt*vn]}function Nt(zt){const{width:Wt,height:nn}=zt;if(Wt>ht||nn>ht)return null;const dn=1e3,on=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),hn=Wt+1;let sn=new Uint8Array(hn*(nn+1)),rn,xn,vn;const kn=Wt+7&-8;let Fn=new Uint8Array(kn*nn),On=0;for(const Jt of zt.data){let cn=128;for(;cn>0;)Fn[On++]=Jt&cn?0:255,cn>>=1}let Pn=0;for(On=0,Fn[On]!==0&&(sn[0]=1,++Pn),xn=1;xn<Wt;xn++)Fn[On]!==Fn[On+1]&&(sn[xn]=Fn[On]?2:1,++Pn),On++;for(Fn[On]!==0&&(sn[xn]=2,++Pn),rn=1;rn<nn;rn++){On=rn*kn,vn=rn*hn,Fn[On-kn]!==Fn[On]&&(sn[vn]=Fn[On]?1:8,++Pn);let Jt=(Fn[On]?4:0)+(Fn[On-kn]?8:0);for(xn=1;xn<Wt;xn++)Jt=(Jt>>2)+(Fn[On+1]?4:0)+(Fn[On-kn+1]?8:0),on[Jt]&&(sn[vn+xn]=on[Jt],++Pn),On++;if(Fn[On-kn]!==Fn[On]&&(sn[vn+xn]=Fn[On]?2:4,++Pn),Pn>dn)return null}for(On=kn*(nn-1),vn=rn*hn,Fn[On]!==0&&(sn[vn]=8,++Pn),xn=1;xn<Wt;xn++)Fn[On]!==Fn[On+1]&&(sn[vn+xn]=Fn[On]?4:8,++Pn),On++;if(Fn[On]!==0&&(sn[vn+xn]=4,++Pn),Pn>dn)return null;const Sn=new Int32Array([0,hn,-1,0,-hn,0,0,0,1]),mn=new Path2D;for(rn=0;Pn&&rn<=nn;rn++){let Jt=rn*hn;const cn=Jt+Wt;for(;Jt<cn&&!sn[Jt];)Jt++;if(Jt===cn)continue;mn.moveTo(Jt%hn,rn);const pn=Jt;let wn=sn[Jt];do{const En=Sn[wn];do Jt+=En;while(!sn[Jt]);const _n=sn[Jt];_n!==5&&_n!==10?(wn=_n,sn[Jt]=0):(wn=_n&51*wn>>4,sn[Jt]&=wn>>2|wn<<2),mn.lineTo(Jt%hn,Jt/hn|0),sn[Jt]||--Pn}while(pn!==Jt);--rn}return Fn=null,sn=null,function(Jt){Jt.save(),Jt.scale(1/Wt,-1/nn),Jt.translate(0,-nn),Jt.fill(mn),Jt.beginPath(),Jt.restore()}}class $t{constructor(Wt,nn){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=bt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=bt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=bt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Wt,nn])}clone(){const Wt=Object.create(this);return Wt.clipBox=this.clipBox.slice(),Wt}setCurrentPoint(Wt,nn){this.x=Wt,this.y=nn}updatePathMinMax(Wt,nn,dn){[nn,dn]=bt.Util.applyTransform([nn,dn],Wt),this.minX=Math.min(this.minX,nn),this.minY=Math.min(this.minY,dn),this.maxX=Math.max(this.maxX,nn),this.maxY=Math.max(this.maxY,dn)}updateRectMinMax(Wt,nn){const dn=bt.Util.applyTransform(nn,Wt),on=bt.Util.applyTransform(nn.slice(2),Wt);this.minX=Math.min(this.minX,dn[0],on[0]),this.minY=Math.min(this.minY,dn[1],on[1]),this.maxX=Math.max(this.maxX,dn[0],on[0]),this.maxY=Math.max(this.maxY,dn[1],on[1])}updateScalingPathMinMax(Wt,nn){bt.Util.scaleMinMax(Wt,nn),this.minX=Math.min(this.minX,nn[0]),this.maxX=Math.max(this.maxX,nn[1]),this.minY=Math.min(this.minY,nn[2]),this.maxY=Math.max(this.maxY,nn[3])}updateCurvePathMinMax(Wt,nn,dn,on,hn,sn,rn,xn,vn,kn){const Fn=bt.Util.bezierBoundingBox(nn,dn,on,hn,sn,rn,xn,vn);if(kn){kn[0]=Math.min(kn[0],Fn[0],Fn[2]),kn[1]=Math.max(kn[1],Fn[0],Fn[2]),kn[2]=Math.min(kn[2],Fn[1],Fn[3]),kn[3]=Math.max(kn[3],Fn[1],Fn[3]);return}this.updateRectMinMax(Wt,Fn)}getPathBoundingBox(Wt=St.PathType.FILL,nn=null){const dn=[this.minX,this.minY,this.maxX,this.maxY];if(Wt===St.PathType.STROKE){nn||(0,bt.unreachable)("Stroke bounding box must include transform.");const on=bt.Util.singularValueDecompose2dScale(nn),hn=on[0]*this.lineWidth/2,sn=on[1]*this.lineWidth/2;dn[0]-=hn,dn[1]-=sn,dn[2]+=hn,dn[3]+=sn}return dn}updateClipFromPath(){const Wt=bt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Wt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Wt){this.clipBox=Wt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Wt=St.PathType.FILL,nn=null){return bt.Util.intersect(this.clipBox,this.getPathBoundingBox(Wt,nn))}}function Mt(zt,Wt){if(typeof ImageData<"u"&&Wt instanceof ImageData){zt.putImageData(Wt,0,0);return}const nn=Wt.height,dn=Wt.width,on=nn%vt,hn=(nn-on)/vt,sn=on===0?hn:hn+1,rn=zt.createImageData(dn,vt);let xn=0,vn;const kn=Wt.data,Fn=rn.data;let On,Pn,Sn,mn;if(Wt.kind===bt.ImageKind.GRAYSCALE_1BPP){const fn=kn.byteLength,Jt=new Uint32Array(Fn.buffer,0,Fn.byteLength>>2),cn=Jt.length,pn=dn+7>>3,wn=4294967295,En=bt.FeatureTest.isLittleEndian?4278190080:255;for(On=0;On<sn;On++){for(Sn=On<hn?vt:on,vn=0,Pn=0;Pn<Sn;Pn++){const _n=fn-xn;let Cn=0;const An=_n>pn?dn:_n*8-7,Tn=An&-8;let Mn=0,Rn=0;for(;Cn<Tn;Cn+=8)Rn=kn[xn++],Jt[vn++]=Rn&128?wn:En,Jt[vn++]=Rn&64?wn:En,Jt[vn++]=Rn&32?wn:En,Jt[vn++]=Rn&16?wn:En,Jt[vn++]=Rn&8?wn:En,Jt[vn++]=Rn&4?wn:En,Jt[vn++]=Rn&2?wn:En,Jt[vn++]=Rn&1?wn:En;for(;Cn<An;Cn++)Mn===0&&(Rn=kn[xn++],Mn=128),Jt[vn++]=Rn&Mn?wn:En,Mn>>=1}for(;vn<cn;)Jt[vn++]=0;zt.putImageData(rn,0,On*vt)}}else if(Wt.kind===bt.ImageKind.RGBA_32BPP){for(Pn=0,mn=dn*vt*4,On=0;On<hn;On++)Fn.set(kn.subarray(xn,xn+mn)),xn+=mn,zt.putImageData(rn,0,Pn),Pn+=vt;On<sn&&(mn=dn*on*4,Fn.set(kn.subarray(xn,xn+mn)),zt.putImageData(rn,0,Pn))}else if(Wt.kind===bt.ImageKind.RGB_24BPP)for(Sn=vt,mn=dn*Sn,On=0;On<sn;On++){for(On>=hn&&(Sn=on,mn=dn*Sn),vn=0,Pn=mn;Pn--;)Fn[vn++]=kn[xn++],Fn[vn++]=kn[xn++],Fn[vn++]=kn[xn++],Fn[vn++]=255;zt.putImageData(rn,0,On*vt)}else throw new Error(`bad image kind: ${Wt.kind}`)}function Bt(zt,Wt){if(Wt.bitmap){zt.drawImage(Wt.bitmap,0,0);return}const nn=Wt.height,dn=Wt.width,on=nn%vt,hn=(nn-on)/vt,sn=on===0?hn:hn+1,rn=zt.createImageData(dn,vt);let xn=0;const vn=Wt.data,kn=rn.data;for(let Fn=0;Fn<sn;Fn++){const On=Fn<hn?vt:on;({srcPos:xn}=(0,Et.convertBlackAndWhiteToRGBA)({src:vn,srcPos:xn,dest:kn,width:dn,height:On,nonBlackColor:0})),zt.putImageData(rn,0,Fn*vt)}}function _t(zt,Wt){const nn=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const dn of nn)zt[dn]!==void 0&&(Wt[dn]=zt[dn]);zt.setLineDash!==void 0&&(Wt.setLineDash(zt.getLineDash()),Wt.lineDashOffset=zt.lineDashOffset)}function Kt(zt){if(zt.strokeStyle=zt.fillStyle="#000000",zt.fillRule="nonzero",zt.globalAlpha=1,zt.lineWidth=1,zt.lineCap="butt",zt.lineJoin="miter",zt.miterLimit=10,zt.globalCompositeOperation="source-over",zt.font="10px sans-serif",zt.setLineDash!==void 0&&(zt.setLineDash([]),zt.lineDashOffset=0),!bt.isNodeJS){const{filter:Wt}=zt;Wt!=="none"&&Wt!==""&&(zt.filter="none")}}function jt(zt,Wt,nn,dn){const on=zt.length;for(let hn=3;hn<on;hn+=4){const sn=zt[hn];if(sn===0)zt[hn-3]=Wt,zt[hn-2]=nn,zt[hn-1]=dn;else if(sn<255){const rn=255-sn;zt[hn-3]=zt[hn-3]*sn+Wt*rn>>8,zt[hn-2]=zt[hn-2]*sn+nn*rn>>8,zt[hn-1]=zt[hn-1]*sn+dn*rn>>8}}}function Gt(zt,Wt,nn){const dn=zt.length,on=1/255;for(let hn=3;hn<dn;hn+=4){const sn=nn?nn[zt[hn]]:zt[hn];Wt[hn]=Wt[hn]*sn*on|0}}function Qt(zt,Wt,nn){const dn=zt.length;for(let on=3;on<dn;on+=4){const hn=zt[on-3]*77+zt[on-2]*152+zt[on-1]*28;Wt[on]=nn?Wt[on]*nn[hn>>8]>>8:Wt[on]*hn>>16}}function ln(zt,Wt,nn,dn,on,hn,sn,rn,xn,vn,kn){const Fn=!!hn,On=Fn?hn[0]:0,Pn=Fn?hn[1]:0,Sn=Fn?hn[2]:0,mn=on==="Luminosity"?Qt:Gt,Jt=Math.min(dn,Math.ceil(1048576/nn));for(let cn=0;cn<dn;cn+=Jt){const pn=Math.min(Jt,dn-cn),wn=zt.getImageData(rn-vn,cn+(xn-kn),nn,pn),En=Wt.getImageData(rn,cn+xn,nn,pn);Fn&&jt(wn.data,On,Pn,Sn),mn(wn.data,En.data,sn),Wt.putImageData(En,rn,cn+xn)}}function en(zt,Wt,nn,dn){const on=dn[0],hn=dn[1],sn=dn[2]-on,rn=dn[3]-hn;sn===0||rn===0||(ln(Wt.context,nn,sn,rn,Wt.subtype,Wt.backdrop,Wt.transferMap,on,hn,Wt.offsetX,Wt.offsetY),zt.save(),zt.globalAlpha=1,zt.globalCompositeOperation="source-over",zt.setTransform(1,0,0,1,0,0),zt.drawImage(nn.canvas,0,0),zt.restore())}function gn(zt,Wt){const nn=bt.Util.singularValueDecompose2dScale(zt);nn[0]=Math.fround(nn[0]),nn[1]=Math.fround(nn[1]);const dn=Math.fround((globalThis.devicePixelRatio||1)*At.PixelsPerInch.PDF_TO_CSS_UNITS);return Wt!==void 0?Wt:nn[0]<=dn||nn[1]<=dn}const tn=["butt","round","square"],bn=["miter","round","bevel"],Xt={},Yt={},an=class an{constructor(Wt,nn,dn,on,hn,{optionalContentConfig:sn,markedContentStack:rn=null},xn,vn){Nn(this,Ut);this.ctx=Wt,this.current=new $t(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=nn,this.objs=dn,this.canvasFactory=on,this.filterFactory=hn,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=rn||[],this.optionalContentConfig=sn,this.cachedCanvases=new Ht(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=xn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=vn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Wt,nn=null){return typeof Wt=="string"?Wt.startsWith("g_")?this.commonObjs.get(Wt):this.objs.get(Wt):nn}beginDrawing({transform:Wt,viewport:nn,transparency:dn=!1,background:on=null}){const hn=this.ctx.canvas.width,sn=this.ctx.canvas.height,rn=this.ctx.fillStyle;if(this.ctx.fillStyle=on||"#ffffff",this.ctx.fillRect(0,0,hn,sn),this.ctx.fillStyle=rn,dn){const xn=this.cachedCanvases.getCanvas("transparent",hn,sn);this.compositeCtx=this.ctx,this.transparentCanvas=xn.canvas,this.ctx=xn.context,this.ctx.save(),this.ctx.transform(...(0,At.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Kt(this.ctx),Wt&&(this.ctx.transform(...Wt),this.outputScaleX=Wt[0],this.outputScaleY=Wt[0]),this.ctx.transform(...nn.transform),this.viewportScale=nn.scale,this.baseTransform=(0,At.getCurrentTransform)(this.ctx)}executeOperatorList(Wt,nn,dn,on){const hn=Wt.argsArray,sn=Wt.fnArray;let rn=nn||0;const xn=hn.length;if(xn===rn)return rn;const vn=xn-rn>Rt&&typeof dn=="function",kn=vn?Date.now()+kt:0;let Fn=0;const On=this.commonObjs,Pn=this.objs;let Sn;for(;;){if(on!==void 0&&rn===on.nextBreakPoint)return on.breakIt(rn,dn),rn;if(Sn=sn[rn],Sn!==bt.OPS.dependency)this[Sn].apply(this,hn[rn]);else for(const mn of hn[rn]){const fn=mn.startsWith("g_")?On:Pn;if(!fn.has(mn))return fn.get(mn,dn),rn}if(rn++,rn===xn)return rn;if(vn&&++Fn>Rt){if(Date.now()>kn)return dn(),rn;Fn=0}}}endDrawing(){In(this,Ut,k9).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Wt of this._cachedBitmapsMap.values()){for(const nn of Wt.values())typeof HTMLCanvasElement<"u"&&nn instanceof HTMLCanvasElement&&(nn.width=nn.height=0);Wt.clear()}this._cachedBitmapsMap.clear(),In(this,Ut,T9).call(this)}_scaleImage(Wt,nn){const dn=Wt.width,on=Wt.height;let hn=Math.max(Math.hypot(nn[0],nn[1]),1),sn=Math.max(Math.hypot(nn[2],nn[3]),1),rn=dn,xn=on,vn="prescale1",kn,Fn;for(;hn>2&&rn>1||sn>2&&xn>1;){let On=rn,Pn=xn;hn>2&&rn>1&&(On=rn>=16384?Math.floor(rn/2)-1||1:Math.ceil(rn/2),hn/=rn/On),sn>2&&xn>1&&(Pn=xn>=16384?Math.floor(xn/2)-1||1:Math.ceil(xn)/2,sn/=xn/Pn),kn=this.cachedCanvases.getCanvas(vn,On,Pn),Fn=kn.context,Fn.clearRect(0,0,On,Pn),Fn.drawImage(Wt,0,0,rn,xn,0,0,On,Pn),Wt=kn.canvas,rn=On,xn=Pn,vn=vn==="prescale1"?"prescale2":"prescale1"}return{img:Wt,paintWidth:rn,paintHeight:xn}}_createMaskCanvas(Wt){const nn=this.ctx,{width:dn,height:on}=Wt,hn=this.current.fillColor,sn=this.current.patternFill,rn=(0,At.getCurrentTransform)(nn);let xn,vn,kn,Fn;if((Wt.bitmap||Wt.data)&&Wt.count>1){const Cn=Wt.bitmap||Wt.data.buffer;vn=JSON.stringify(sn?rn:[rn.slice(0,4),hn]),xn=this._cachedBitmapsMap.get(Cn),xn||(xn=new Map,this._cachedBitmapsMap.set(Cn,xn));const An=xn.get(vn);if(An&&!sn){const Tn=Math.round(Math.min(rn[0],rn[2])+rn[4]),Mn=Math.round(Math.min(rn[1],rn[3])+rn[5]);return{canvas:An,offsetX:Tn,offsetY:Mn}}kn=An}kn||(Fn=this.cachedCanvases.getCanvas("maskCanvas",dn,on),Bt(Fn.context,Wt));let On=bt.Util.transform(rn,[1/dn,0,0,-1/on,0,0]);On=bt.Util.transform(On,[1,0,0,1,0,-on]);const Pn=bt.Util.applyTransform([0,0],On),Sn=bt.Util.applyTransform([dn,on],On),mn=bt.Util.normalizeRect([Pn[0],Pn[1],Sn[0],Sn[1]]),fn=Math.round(mn[2]-mn[0])||1,Jt=Math.round(mn[3]-mn[1])||1,cn=this.cachedCanvases.getCanvas("fillCanvas",fn,Jt),pn=cn.context,wn=Math.min(Pn[0],Sn[0]),En=Math.min(Pn[1],Sn[1]);pn.translate(-wn,-En),pn.transform(...On),kn||(kn=this._scaleImage(Fn.canvas,(0,At.getCurrentTransformInverse)(pn)),kn=kn.img,xn&&sn&&xn.set(vn,kn)),pn.imageSmoothingEnabled=gn((0,At.getCurrentTransform)(pn),Wt.interpolate),qt(pn,kn,0,0,kn.width,kn.height,0,0,dn,on),pn.globalCompositeOperation="source-in";const _n=bt.Util.transform((0,At.getCurrentTransformInverse)(pn),[1,0,0,1,-wn,-En]);return pn.fillStyle=sn?hn.getPattern(nn,this,_n,St.PathType.FILL):hn,pn.fillRect(0,0,dn,on),xn&&!sn&&(this.cachedCanvases.delete("fillCanvas"),xn.set(vn,cn.canvas)),{canvas:cn.canvas,offsetX:Math.round(wn),offsetY:Math.round(En)}}setLineWidth(Wt){Wt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Wt,this.ctx.lineWidth=Wt}setLineCap(Wt){this.ctx.lineCap=tn[Wt]}setLineJoin(Wt){this.ctx.lineJoin=bn[Wt]}setMiterLimit(Wt){this.ctx.miterLimit=Wt}setDash(Wt,nn){const dn=this.ctx;dn.setLineDash!==void 0&&(dn.setLineDash(Wt),dn.lineDashOffset=nn)}setRenderingIntent(Wt){}setFlatness(Wt){}setGState(Wt){for(const[nn,dn]of Wt)switch(nn){case"LW":this.setLineWidth(dn);break;case"LC":this.setLineCap(dn);break;case"LJ":this.setLineJoin(dn);break;case"ML":this.setMiterLimit(dn);break;case"D":this.setDash(dn[0],dn[1]);break;case"RI":this.setRenderingIntent(dn);break;case"FL":this.setFlatness(dn);break;case"Font":this.setFont(dn[0],dn[1]);break;case"CA":this.current.strokeAlpha=dn;break;case"ca":this.current.fillAlpha=dn,this.ctx.globalAlpha=dn;break;case"BM":this.ctx.globalCompositeOperation=dn;break;case"SMask":this.current.activeSMask=dn?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(dn);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Wt=this.inSMaskMode;this.current.activeSMask&&!Wt?this.beginSMaskMode():!this.current.activeSMask&&Wt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Wt=this.ctx.canvas.width,nn=this.ctx.canvas.height,dn="smaskGroupAt"+this.groupLevel,on=this.cachedCanvases.getCanvas(dn,Wt,nn);this.suspendedCtx=this.ctx,this.ctx=on.context;const hn=this.ctx;hn.setTransform(...(0,At.getCurrentTransform)(this.suspendedCtx)),_t(this.suspendedCtx,hn),Ft(hn,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_t(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Wt){if(!this.current.activeSMask)return;Wt?(Wt[0]=Math.floor(Wt[0]),Wt[1]=Math.floor(Wt[1]),Wt[2]=Math.ceil(Wt[2]),Wt[3]=Math.ceil(Wt[3])):Wt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const nn=this.current.activeSMask,dn=this.suspendedCtx;en(dn,nn,this.ctx,Wt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(_t(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Wt=this.current;this.stateStack.push(Wt),this.current=Wt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),_t(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Wt,nn,dn,on,hn,sn){this.ctx.transform(Wt,nn,dn,on,hn,sn),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Wt,nn,dn){const on=this.ctx,hn=this.current;let sn=hn.x,rn=hn.y,xn,vn;const kn=(0,At.getCurrentTransform)(on),Fn=kn[0]===0&&kn[3]===0||kn[1]===0&&kn[2]===0,On=Fn?dn.slice(0):null;for(let Pn=0,Sn=0,mn=Wt.length;Pn<mn;Pn++)switch(Wt[Pn]|0){case bt.OPS.rectangle:sn=nn[Sn++],rn=nn[Sn++];const fn=nn[Sn++],Jt=nn[Sn++],cn=sn+fn,pn=rn+Jt;on.moveTo(sn,rn),fn===0||Jt===0?on.lineTo(cn,pn):(on.lineTo(cn,rn),on.lineTo(cn,pn),on.lineTo(sn,pn)),Fn||hn.updateRectMinMax(kn,[sn,rn,cn,pn]),on.closePath();break;case bt.OPS.moveTo:sn=nn[Sn++],rn=nn[Sn++],on.moveTo(sn,rn),Fn||hn.updatePathMinMax(kn,sn,rn);break;case bt.OPS.lineTo:sn=nn[Sn++],rn=nn[Sn++],on.lineTo(sn,rn),Fn||hn.updatePathMinMax(kn,sn,rn);break;case bt.OPS.curveTo:xn=sn,vn=rn,sn=nn[Sn+4],rn=nn[Sn+5],on.bezierCurveTo(nn[Sn],nn[Sn+1],nn[Sn+2],nn[Sn+3],sn,rn),hn.updateCurvePathMinMax(kn,xn,vn,nn[Sn],nn[Sn+1],nn[Sn+2],nn[Sn+3],sn,rn,On),Sn+=6;break;case bt.OPS.curveTo2:xn=sn,vn=rn,on.bezierCurveTo(sn,rn,nn[Sn],nn[Sn+1],nn[Sn+2],nn[Sn+3]),hn.updateCurvePathMinMax(kn,xn,vn,sn,rn,nn[Sn],nn[Sn+1],nn[Sn+2],nn[Sn+3],On),sn=nn[Sn+2],rn=nn[Sn+3],Sn+=4;break;case bt.OPS.curveTo3:xn=sn,vn=rn,sn=nn[Sn+2],rn=nn[Sn+3],on.bezierCurveTo(nn[Sn],nn[Sn+1],sn,rn,sn,rn),hn.updateCurvePathMinMax(kn,xn,vn,nn[Sn],nn[Sn+1],sn,rn,sn,rn,On),Sn+=4;break;case bt.OPS.closePath:on.closePath();break}Fn&&hn.updateScalingPathMinMax(kn,On),hn.setCurrentPoint(sn,rn)}closePath(){this.ctx.closePath()}stroke(Wt=!0){const nn=this.ctx,dn=this.current.strokeColor;nn.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof dn=="object"&&(dn!=null&&dn.getPattern)?(nn.save(),nn.strokeStyle=dn.getPattern(nn,this,(0,At.getCurrentTransformInverse)(nn),St.PathType.STROKE),this.rescaleAndStroke(!1),nn.restore()):this.rescaleAndStroke(!0)),Wt&&this.consumePath(this.current.getClippedPathBoundingBox()),nn.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Wt=!0){const nn=this.ctx,dn=this.current.fillColor,on=this.current.patternFill;let hn=!1;on&&(nn.save(),nn.fillStyle=dn.getPattern(nn,this,(0,At.getCurrentTransformInverse)(nn),St.PathType.FILL),hn=!0);const sn=this.current.getClippedPathBoundingBox();this.contentVisible&&sn!==null&&(this.pendingEOFill?(nn.fill("evenodd"),this.pendingEOFill=!1):nn.fill()),hn&&nn.restore(),Wt&&this.consumePath(sn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Xt}eoClip(){this.pendingClip=Yt}beginText(){this.current.textMatrix=bt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Wt=this.pendingTextPaths,nn=this.ctx;if(Wt===void 0){nn.beginPath();return}nn.save(),nn.beginPath();for(const dn of Wt)nn.setTransform(...dn.transform),nn.translate(dn.x,dn.y),dn.addToPath(nn,dn.fontSize);nn.restore(),nn.clip(),nn.beginPath(),delete this.pendingTextPaths}setCharSpacing(Wt){this.current.charSpacing=Wt}setWordSpacing(Wt){this.current.wordSpacing=Wt}setHScale(Wt){this.current.textHScale=Wt/100}setLeading(Wt){this.current.leading=-Wt}setFont(Wt,nn){var kn;const dn=this.commonObjs.get(Wt),on=this.current;if(!dn)throw new Error(`Can't find font for ${Wt}`);if(on.fontMatrix=dn.fontMatrix||bt.FONT_IDENTITY_MATRIX,(on.fontMatrix[0]===0||on.fontMatrix[3]===0)&&(0,bt.warn)("Invalid font matrix for font "+Wt),nn<0?(nn=-nn,on.fontDirection=-1):on.fontDirection=1,this.current.font=dn,this.current.fontSize=nn,dn.isType3Font)return;const hn=dn.loadedName||"sans-serif",sn=((kn=dn.systemFontInfo)==null?void 0:kn.css)||`"${hn}", ${dn.fallbackName}`;let rn="normal";dn.black?rn="900":dn.bold&&(rn="bold");const xn=dn.italic?"italic":"normal";let vn=nn;nn<Ct?vn=Ct:nn>Pt&&(vn=Pt),this.current.fontSizeScale=nn/vn,this.ctx.font=`${xn} ${rn} ${vn}px ${sn}`}setTextRenderingMode(Wt){this.current.textRenderingMode=Wt}setTextRise(Wt){this.current.textRise=Wt}moveText(Wt,nn){this.current.x=this.current.lineX+=Wt,this.current.y=this.current.lineY+=nn}setLeadingMoveText(Wt,nn){this.setLeading(-nn),this.moveText(Wt,nn)}setTextMatrix(Wt,nn,dn,on,hn,sn){this.current.textMatrix=[Wt,nn,dn,on,hn,sn],this.current.textMatrixScale=Math.hypot(Wt,nn),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Wt,nn,dn,on){const hn=this.ctx,sn=this.current,rn=sn.font,xn=sn.textRenderingMode,vn=sn.fontSize/sn.fontSizeScale,kn=xn&bt.TextRenderingMode.FILL_STROKE_MASK,Fn=!!(xn&bt.TextRenderingMode.ADD_TO_PATH_FLAG),On=sn.patternFill&&!rn.missingFile;let Pn;(rn.disableFontFace||Fn||On)&&(Pn=rn.getPathGenerator(this.commonObjs,Wt)),rn.disableFontFace||On?(hn.save(),hn.translate(nn,dn),hn.beginPath(),Pn(hn,vn),on&&hn.setTransform(...on),(kn===bt.TextRenderingMode.FILL||kn===bt.TextRenderingMode.FILL_STROKE)&&hn.fill(),(kn===bt.TextRenderingMode.STROKE||kn===bt.TextRenderingMode.FILL_STROKE)&&hn.stroke(),hn.restore()):((kn===bt.TextRenderingMode.FILL||kn===bt.TextRenderingMode.FILL_STROKE)&&hn.fillText(Wt,nn,dn),(kn===bt.TextRenderingMode.STROKE||kn===bt.TextRenderingMode.FILL_STROKE)&&hn.strokeText(Wt,nn,dn)),Fn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,At.getCurrentTransform)(hn),x:nn,y:dn,fontSize:vn,addToPath:Pn})}get isFontSubpixelAAEnabled(){const{context:Wt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Wt.scale(1.5,1),Wt.fillText("I",0,10);const nn=Wt.getImageData(0,0,10,10).data;let dn=!1;for(let on=3;on<nn.length;on+=4)if(nn[on]>0&&nn[on]<255){dn=!0;break}return(0,bt.shadow)(this,"isFontSubpixelAAEnabled",dn)}showText(Wt){const nn=this.current,dn=nn.font;if(dn.isType3Font)return this.showType3Text(Wt);const on=nn.fontSize;if(on===0)return;const hn=this.ctx,sn=nn.fontSizeScale,rn=nn.charSpacing,xn=nn.wordSpacing,vn=nn.fontDirection,kn=nn.textHScale*vn,Fn=Wt.length,On=dn.vertical,Pn=On?1:-1,Sn=dn.defaultVMetrics,mn=on*nn.fontMatrix[0],fn=nn.textRenderingMode===bt.TextRenderingMode.FILL&&!dn.disableFontFace&&!nn.patternFill;hn.save(),hn.transform(...nn.textMatrix),hn.translate(nn.x,nn.y+nn.textRise),vn>0?hn.scale(kn,-1):hn.scale(kn,1);let Jt;if(nn.patternFill){hn.save();const _n=nn.fillColor.getPattern(hn,this,(0,At.getCurrentTransformInverse)(hn),St.PathType.FILL);Jt=(0,At.getCurrentTransform)(hn),hn.restore(),hn.fillStyle=_n}let cn=nn.lineWidth;const pn=nn.textMatrixScale;if(pn===0||cn===0){const _n=nn.textRenderingMode&bt.TextRenderingMode.FILL_STROKE_MASK;(_n===bt.TextRenderingMode.STROKE||_n===bt.TextRenderingMode.FILL_STROKE)&&(cn=this.getSinglePixelWidth())}else cn/=pn;if(sn!==1&&(hn.scale(sn,sn),cn/=sn),hn.lineWidth=cn,dn.isInvalidPDFjsFont){const _n=[];let Cn=0;for(const An of Wt)_n.push(An.unicode),Cn+=An.width;hn.fillText(_n.join(""),0,0),nn.x+=Cn*mn*kn,hn.restore(),this.compose();return}let wn=0,En;for(En=0;En<Fn;++En){const _n=Wt[En];if(typeof _n=="number"){wn+=Pn*_n*on/1e3;continue}let Cn=!1;const An=(_n.isSpace?xn:0)+rn,Tn=_n.fontChar,Mn=_n.accent;let Rn,Ln,Dn=_n.width;if(On){const tr=_n.vmetric||Sn,er=-(_n.vmetric?tr[1]:Dn*.5)*mn,Qn=tr[2]*mn;Dn=tr?-tr[0]:Dn,Rn=er/sn,Ln=(wn+Qn)/sn}else Rn=wn/sn,Ln=0;if(dn.remeasure&&Dn>0){const tr=hn.measureText(Tn).width*1e3/on*sn;if(Dn<tr&&this.isFontSubpixelAAEnabled){const er=Dn/tr;Cn=!0,hn.save(),hn.scale(er,1),Rn/=er}else Dn!==tr&&(Rn+=(Dn-tr)/2e3*on/sn)}if(this.contentVisible&&(_n.isInFont||dn.missingFile)){if(fn&&!Mn)hn.fillText(Tn,Rn,Ln);else if(this.paintChar(Tn,Rn,Ln,Jt),Mn){const tr=Rn+on*Mn.offset.x/sn,er=Ln-on*Mn.offset.y/sn;this.paintChar(Mn.fontChar,tr,er,Jt)}}const Un=On?Dn*mn-An*vn:Dn*mn+An*vn;wn+=Un,Cn&&hn.restore()}On?nn.y-=wn:nn.x+=wn*kn,hn.restore(),this.compose()}showType3Text(Wt){const nn=this.ctx,dn=this.current,on=dn.font,hn=dn.fontSize,sn=dn.fontDirection,rn=on.vertical?1:-1,xn=dn.charSpacing,vn=dn.wordSpacing,kn=dn.textHScale*sn,Fn=dn.fontMatrix||bt.FONT_IDENTITY_MATRIX,On=Wt.length,Pn=dn.textRenderingMode===bt.TextRenderingMode.INVISIBLE;let Sn,mn,fn,Jt;if(!(Pn||hn===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,nn.save(),nn.transform(...dn.textMatrix),nn.translate(dn.x,dn.y),nn.scale(kn,sn),Sn=0;Sn<On;++Sn){if(mn=Wt[Sn],typeof mn=="number"){Jt=rn*mn*hn/1e3,this.ctx.translate(Jt,0),dn.x+=Jt*kn;continue}const cn=(mn.isSpace?vn:0)+xn,pn=on.charProcOperatorList[mn.operatorListId];if(!pn){(0,bt.warn)(`Type3 character "${mn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=mn,this.save(),nn.scale(hn,hn),nn.transform(...Fn),this.executeOperatorList(pn),this.restore()),fn=bt.Util.applyTransform([mn.width,0],Fn)[0]*hn+cn,nn.translate(fn,0),dn.x+=fn*kn}nn.restore(),this.processingType3=null}}setCharWidth(Wt,nn){}setCharWidthAndBounds(Wt,nn,dn,on,hn,sn){this.ctx.rect(dn,on,hn-dn,sn-on),this.ctx.clip(),this.endPath()}getColorN_Pattern(Wt){let nn;if(Wt[0]==="TilingPattern"){const dn=Wt[1],on=this.baseTransform||(0,At.getCurrentTransform)(this.ctx),hn={createCanvasGraphics:sn=>new an(sn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};nn=new St.TilingPattern(Wt,dn,this.ctx,hn,on)}else nn=this._getPattern(Wt[1],Wt[2]);return nn}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Wt,nn,dn){const on=bt.Util.makeHexColor(Wt,nn,dn);this.ctx.strokeStyle=on,this.current.strokeColor=on}setFillRGBColor(Wt,nn,dn){const on=bt.Util.makeHexColor(Wt,nn,dn);this.ctx.fillStyle=on,this.current.fillColor=on,this.current.patternFill=!1}_getPattern(Wt,nn=null){let dn;return this.cachedPatterns.has(Wt)?dn=this.cachedPatterns.get(Wt):(dn=(0,St.getShadingPattern)(this.getObject(Wt)),this.cachedPatterns.set(Wt,dn)),nn&&(dn.matrix=nn),dn}shadingFill(Wt){if(!this.contentVisible)return;const nn=this.ctx;this.save();const dn=this._getPattern(Wt);nn.fillStyle=dn.getPattern(nn,this,(0,At.getCurrentTransformInverse)(nn),St.PathType.SHADING);const on=(0,At.getCurrentTransformInverse)(nn);if(on){const{width:hn,height:sn}=nn.canvas,[rn,xn,vn,kn]=bt.Util.getAxialAlignedBoundingBox([0,0,hn,sn],on);this.ctx.fillRect(rn,xn,vn-rn,kn-xn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,bt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,bt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Wt,nn){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Wt)&&Wt.length===6&&this.transform(...Wt),this.baseTransform=(0,At.getCurrentTransform)(this.ctx),nn)){const dn=nn[2]-nn[0],on=nn[3]-nn[1];this.ctx.rect(nn[0],nn[1],dn,on),this.current.updateRectMinMax((0,At.getCurrentTransform)(this.ctx),nn),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Wt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const nn=this.ctx;Wt.isolated||(0,bt.info)("TODO: Support non-isolated groups."),Wt.knockout&&(0,bt.warn)("Knockout groups not supported.");const dn=(0,At.getCurrentTransform)(nn);if(Wt.matrix&&nn.transform(...Wt.matrix),!Wt.bbox)throw new Error("Bounding box is required.");let on=bt.Util.getAxialAlignedBoundingBox(Wt.bbox,(0,At.getCurrentTransform)(nn));const hn=[0,0,nn.canvas.width,nn.canvas.height];on=bt.Util.intersect(on,hn)||[0,0,0,0];const sn=Math.floor(on[0]),rn=Math.floor(on[1]);let xn=Math.max(Math.ceil(on[2])-sn,1),vn=Math.max(Math.ceil(on[3])-rn,1),kn=1,Fn=1;xn>wt&&(kn=xn/wt,xn=wt),vn>wt&&(Fn=vn/wt,vn=wt),this.current.startNewPathAndClipBox([0,0,xn,vn]);let On="groupAt"+this.groupLevel;Wt.smask&&(On+="_smask_"+this.smaskCounter++%2);const Pn=this.cachedCanvases.getCanvas(On,xn,vn),Sn=Pn.context;Sn.scale(1/kn,1/Fn),Sn.translate(-sn,-rn),Sn.transform(...dn),Wt.smask?this.smaskStack.push({canvas:Pn.canvas,context:Sn,offsetX:sn,offsetY:rn,scaleX:kn,scaleY:Fn,subtype:Wt.smask.subtype,backdrop:Wt.smask.backdrop,transferMap:Wt.smask.transferMap||null,startTransformInverse:null}):(nn.setTransform(1,0,0,1,0,0),nn.translate(sn,rn),nn.scale(kn,Fn),nn.save()),_t(nn,Sn),this.ctx=Sn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(nn),this.groupLevel++}endGroup(Wt){if(!this.contentVisible)return;this.groupLevel--;const nn=this.ctx,dn=this.groupStack.pop();if(this.ctx=dn,this.ctx.imageSmoothingEnabled=!1,Wt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const on=(0,At.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...on);const hn=bt.Util.getAxialAlignedBoundingBox([0,0,nn.canvas.width,nn.canvas.height],on);this.ctx.drawImage(nn.canvas,0,0),this.ctx.restore(),this.compose(hn)}}beginAnnotation(Wt,nn,dn,on,hn){if(In(this,Ut,k9).call(this),Kt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(nn)&&nn.length===4){const sn=nn[2]-nn[0],rn=nn[3]-nn[1];if(hn&&this.annotationCanvasMap){dn=dn.slice(),dn[4]-=nn[0],dn[5]-=nn[1],nn=nn.slice(),nn[0]=nn[1]=0,nn[2]=sn,nn[3]=rn;const[xn,vn]=bt.Util.singularValueDecompose2dScale((0,At.getCurrentTransform)(this.ctx)),{viewportScale:kn}=this,Fn=Math.ceil(sn*this.outputScaleX*kn),On=Math.ceil(rn*this.outputScaleY*kn);this.annotationCanvas=this.canvasFactory.create(Fn,On);const{canvas:Pn,context:Sn}=this.annotationCanvas;this.annotationCanvasMap.set(Wt,Pn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Sn,this.ctx.save(),this.ctx.setTransform(xn,0,0,-vn,0,rn*vn),Kt(this.ctx)}else Kt(this.ctx),this.ctx.rect(nn[0],nn[1],sn,rn),this.ctx.clip(),this.endPath()}this.current=new $t(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...dn),this.transform(...on)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),In(this,Ut,T9).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Wt){if(!this.contentVisible)return;const nn=Wt.count;Wt=this.getObject(Wt.data,Wt),Wt.count=nn;const dn=this.ctx,on=this.processingType3;if(on&&(on.compiled===void 0&&(on.compiled=Nt(Wt)),on.compiled)){on.compiled(dn);return}const hn=this._createMaskCanvas(Wt),sn=hn.canvas;dn.save(),dn.setTransform(1,0,0,1,0,0),dn.drawImage(sn,hn.offsetX,hn.offsetY),dn.restore(),this.compose()}paintImageMaskXObjectRepeat(Wt,nn,dn=0,on=0,hn,sn){if(!this.contentVisible)return;Wt=this.getObject(Wt.data,Wt);const rn=this.ctx;rn.save();const xn=(0,At.getCurrentTransform)(rn);rn.transform(nn,dn,on,hn,0,0);const vn=this._createMaskCanvas(Wt);rn.setTransform(1,0,0,1,vn.offsetX-xn[4],vn.offsetY-xn[5]);for(let kn=0,Fn=sn.length;kn<Fn;kn+=2){const On=bt.Util.transform(xn,[nn,dn,on,hn,sn[kn],sn[kn+1]]),[Pn,Sn]=bt.Util.applyTransform([0,0],On);rn.drawImage(vn.canvas,Pn,Sn)}rn.restore(),this.compose()}paintImageMaskXObjectGroup(Wt){if(!this.contentVisible)return;const nn=this.ctx,dn=this.current.fillColor,on=this.current.patternFill;for(const hn of Wt){const{data:sn,width:rn,height:xn,transform:vn}=hn,kn=this.cachedCanvases.getCanvas("maskCanvas",rn,xn),Fn=kn.context;Fn.save();const On=this.getObject(sn,hn);Bt(Fn,On),Fn.globalCompositeOperation="source-in",Fn.fillStyle=on?dn.getPattern(Fn,this,(0,At.getCurrentTransformInverse)(nn),St.PathType.FILL):dn,Fn.fillRect(0,0,rn,xn),Fn.restore(),nn.save(),nn.transform(...vn),nn.scale(1,-1),qt(nn,kn.canvas,0,0,rn,xn,0,-1,1,1),nn.restore()}this.compose()}paintImageXObject(Wt){if(!this.contentVisible)return;const nn=this.getObject(Wt);if(!nn){(0,bt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(nn)}paintImageXObjectRepeat(Wt,nn,dn,on){if(!this.contentVisible)return;const hn=this.getObject(Wt);if(!hn){(0,bt.warn)("Dependent image isn't ready yet");return}const sn=hn.width,rn=hn.height,xn=[];for(let vn=0,kn=on.length;vn<kn;vn+=2)xn.push({transform:[nn,0,0,dn,on[vn],on[vn+1]],x:0,y:0,w:sn,h:rn});this.paintInlineImageXObjectGroup(hn,xn)}applyTransferMapsToCanvas(Wt){return this.current.transferMaps!=="none"&&(Wt.filter=this.current.transferMaps,Wt.drawImage(Wt.canvas,0,0),Wt.filter="none"),Wt.canvas}applyTransferMapsToBitmap(Wt){if(this.current.transferMaps==="none")return Wt.bitmap;const{bitmap:nn,width:dn,height:on}=Wt,hn=this.cachedCanvases.getCanvas("inlineImage",dn,on),sn=hn.context;return sn.filter=this.current.transferMaps,sn.drawImage(nn,0,0),sn.filter="none",hn.canvas}paintInlineImageXObject(Wt){if(!this.contentVisible)return;const nn=Wt.width,dn=Wt.height,on=this.ctx;if(this.save(),!bt.isNodeJS){const{filter:rn}=on;rn!=="none"&&rn!==""&&(on.filter="none")}on.scale(1/nn,-1/dn);let hn;if(Wt.bitmap)hn=this.applyTransferMapsToBitmap(Wt);else if(typeof HTMLElement=="function"&&Wt instanceof HTMLElement||!Wt.data)hn=Wt;else{const xn=this.cachedCanvases.getCanvas("inlineImage",nn,dn).context;Mt(xn,Wt),hn=this.applyTransferMapsToCanvas(xn)}const sn=this._scaleImage(hn,(0,At.getCurrentTransformInverse)(on));on.imageSmoothingEnabled=gn((0,At.getCurrentTransform)(on),Wt.interpolate),qt(on,sn.img,0,0,sn.paintWidth,sn.paintHeight,0,-dn,nn,dn),this.compose(),this.restore()}paintInlineImageXObjectGroup(Wt,nn){if(!this.contentVisible)return;const dn=this.ctx;let on;if(Wt.bitmap)on=Wt.bitmap;else{const hn=Wt.width,sn=Wt.height,xn=this.cachedCanvases.getCanvas("inlineImage",hn,sn).context;Mt(xn,Wt),on=this.applyTransferMapsToCanvas(xn)}for(const hn of nn)dn.save(),dn.transform(...hn.transform),dn.scale(1,-1),qt(dn,on,hn.x,hn.y,hn.w,hn.h,0,-1,1,1),dn.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Wt){}markPointProps(Wt,nn){}beginMarkedContent(Wt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Wt,nn){Wt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(nn)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Wt){const nn=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Wt);const dn=this.ctx;this.pendingClip&&(nn||(this.pendingClip===Yt?dn.clip("evenodd"):dn.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),dn.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Wt=(0,At.getCurrentTransform)(this.ctx);if(Wt[1]===0&&Wt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Wt[0]),Math.abs(Wt[3]));else{const nn=Math.abs(Wt[0]*Wt[3]-Wt[2]*Wt[1]),dn=Math.hypot(Wt[0],Wt[2]),on=Math.hypot(Wt[1],Wt[3]);this._cachedGetSinglePixelWidth=Math.max(dn,on)/nn}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Wt}=this.current,{a:nn,b:dn,c:on,d:hn}=this.ctx.getTransform();let sn,rn;if(dn===0&&on===0){const xn=Math.abs(nn),vn=Math.abs(hn);if(xn===vn)if(Wt===0)sn=rn=1/xn;else{const kn=xn*Wt;sn=rn=kn<1?1/kn:1}else if(Wt===0)sn=1/xn,rn=1/vn;else{const kn=xn*Wt,Fn=vn*Wt;sn=kn<1?1/kn:1,rn=Fn<1?1/Fn:1}}else{const xn=Math.abs(nn*hn-dn*on),vn=Math.hypot(nn,dn),kn=Math.hypot(on,hn);if(Wt===0)sn=kn/xn,rn=vn/xn;else{const Fn=Wt*xn;sn=kn>Fn?kn/Fn:1,rn=vn>Fn?vn/Fn:1}}this._cachedScaleForStroking[0]=sn,this._cachedScaleForStroking[1]=rn}return this._cachedScaleForStroking}rescaleAndStroke(Wt){const{ctx:nn}=this,{lineWidth:dn}=this.current,[on,hn]=this.getScaleForStroking();if(nn.lineWidth=dn||1,on===1&&hn===1){nn.stroke();return}const sn=nn.getLineDash();if(Wt&&nn.save(),nn.scale(on,hn),sn.length>0){const rn=Math.max(on,hn);nn.setLineDash(sn.map(xn=>xn/rn)),nn.lineDashOffset/=rn}nn.stroke(),Wt&&nn.restore()}isContentVisible(){for(let Wt=this.markedContentStack.length-1;Wt>=0;Wt--)if(!this.markedContentStack[Wt].visible)return!1;return!0}};Ut=new WeakSet,k9=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},T9=function(){if(this.pageColors){const Wt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Wt!=="none"){const nn=this.ctx.filter;this.ctx.filter=Wt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=nn}}};let un=an;$.CanvasGraphics=un;for(const zt in bt.OPS)un.prototype[zt]!==void 0&&(un.prototype[bt.OPS[zt]]=un.prototype[zt])},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=vt;var bt=xt(1),At=xt(6);const St={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=St;function Et(Nt,$t){if(!$t)return;const Mt=$t[2]-$t[0],Bt=$t[3]-$t[1],_t=new Path2D;_t.rect($t[0],$t[1],Mt,Bt),Nt.clip(_t)}class Ct{constructor(){this.constructor===Ct&&(0,bt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,bt.unreachable)("Abstract method `getPattern` called.")}}class Pt extends Ct{constructor($t){super(),this._type=$t[1],this._bbox=$t[2],this._colorStops=$t[3],this._p0=$t[4],this._p1=$t[5],this._r0=$t[6],this._r1=$t[7],this.matrix=null}_createGradient($t){let Mt;this._type==="axial"?Mt=$t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Mt=$t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Bt of this._colorStops)Mt.addColorStop(Bt[0],Bt[1]);return Mt}getPattern($t,Mt,Bt,_t){let Kt;if(_t===St.STROKE||_t===St.FILL){const jt=Mt.current.getClippedPathBoundingBox(_t,(0,At.getCurrentTransform)($t))||[0,0,0,0],Gt=Math.ceil(jt[2]-jt[0])||1,Qt=Math.ceil(jt[3]-jt[1])||1,ln=Mt.cachedCanvases.getCanvas("pattern",Gt,Qt,!0),en=ln.context;en.clearRect(0,0,en.canvas.width,en.canvas.height),en.beginPath(),en.rect(0,0,en.canvas.width,en.canvas.height),en.translate(-jt[0],-jt[1]),Bt=bt.Util.transform(Bt,[1,0,0,1,jt[0],jt[1]]),en.transform(...Mt.baseTransform),this.matrix&&en.transform(...this.matrix),Et(en,this._bbox),en.fillStyle=this._createGradient(en),en.fill(),Kt=$t.createPattern(ln.canvas,"no-repeat");const gn=new DOMMatrix(Bt);Kt.setTransform(gn)}else Et($t,this._bbox),Kt=this._createGradient($t);return Kt}}function wt(Nt,$t,Mt,Bt,_t,Kt,jt,Gt){const Qt=$t.coords,ln=$t.colors,en=Nt.data,gn=Nt.width*4;let tn;Qt[Mt+1]>Qt[Bt+1]&&(tn=Mt,Mt=Bt,Bt=tn,tn=Kt,Kt=jt,jt=tn),Qt[Bt+1]>Qt[_t+1]&&(tn=Bt,Bt=_t,_t=tn,tn=jt,jt=Gt,Gt=tn),Qt[Mt+1]>Qt[Bt+1]&&(tn=Mt,Mt=Bt,Bt=tn,tn=Kt,Kt=jt,jt=tn);const bn=(Qt[Mt]+$t.offsetX)*$t.scaleX,Xt=(Qt[Mt+1]+$t.offsetY)*$t.scaleY,Yt=(Qt[Bt]+$t.offsetX)*$t.scaleX,un=(Qt[Bt+1]+$t.offsetY)*$t.scaleY,Ut=(Qt[_t]+$t.offsetX)*$t.scaleX,Lt=(Qt[_t+1]+$t.offsetY)*$t.scaleY;if(Xt>=Lt)return;const Vt=ln[Kt],an=ln[Kt+1],zt=ln[Kt+2],Wt=ln[jt],nn=ln[jt+1],dn=ln[jt+2],on=ln[Gt],hn=ln[Gt+1],sn=ln[Gt+2],rn=Math.round(Xt),xn=Math.round(Lt);let vn,kn,Fn,On,Pn,Sn,mn,fn;for(let Jt=rn;Jt<=xn;Jt++){if(Jt<un){const _n=Jt<Xt?0:(Xt-Jt)/(Xt-un);vn=bn-(bn-Yt)*_n,kn=Vt-(Vt-Wt)*_n,Fn=an-(an-nn)*_n,On=zt-(zt-dn)*_n}else{let _n;Jt>Lt?_n=1:un===Lt?_n=0:_n=(un-Jt)/(un-Lt),vn=Yt-(Yt-Ut)*_n,kn=Wt-(Wt-on)*_n,Fn=nn-(nn-hn)*_n,On=dn-(dn-sn)*_n}let cn;Jt<Xt?cn=0:Jt>Lt?cn=1:cn=(Xt-Jt)/(Xt-Lt),Pn=bn-(bn-Ut)*cn,Sn=Vt-(Vt-on)*cn,mn=an-(an-hn)*cn,fn=zt-(zt-sn)*cn;const pn=Math.round(Math.min(vn,Pn)),wn=Math.round(Math.max(vn,Pn));let En=gn*Jt+pn*4;for(let _n=pn;_n<=wn;_n++)cn=(vn-_n)/(vn-Pn),cn<0?cn=0:cn>1&&(cn=1),en[En++]=kn-(kn-Sn)*cn|0,en[En++]=Fn-(Fn-mn)*cn|0,en[En++]=On-(On-fn)*cn|0,en[En++]=255}}function kt(Nt,$t,Mt){const Bt=$t.coords,_t=$t.colors;let Kt,jt;switch($t.type){case"lattice":const Gt=$t.verticesPerRow,Qt=Math.floor(Bt.length/Gt)-1,ln=Gt-1;for(Kt=0;Kt<Qt;Kt++){let en=Kt*Gt;for(let gn=0;gn<ln;gn++,en++)wt(Nt,Mt,Bt[en],Bt[en+1],Bt[en+Gt],_t[en],_t[en+1],_t[en+Gt]),wt(Nt,Mt,Bt[en+Gt+1],Bt[en+1],Bt[en+Gt],_t[en+Gt+1],_t[en+1],_t[en+Gt])}break;case"triangles":for(Kt=0,jt=Bt.length;Kt<jt;Kt+=3)wt(Nt,Mt,Bt[Kt],Bt[Kt+1],Bt[Kt+2],_t[Kt],_t[Kt+1],_t[Kt+2]);break;default:throw new Error("illegal figure")}}class Rt extends Ct{constructor($t){super(),this._coords=$t[2],this._colors=$t[3],this._figures=$t[4],this._bounds=$t[5],this._bbox=$t[7],this._background=$t[8],this.matrix=null}_createMeshCanvas($t,Mt,Bt){const Gt=Math.floor(this._bounds[0]),Qt=Math.floor(this._bounds[1]),ln=Math.ceil(this._bounds[2])-Gt,en=Math.ceil(this._bounds[3])-Qt,gn=Math.min(Math.ceil(Math.abs(ln*$t[0]*1.1)),3e3),tn=Math.min(Math.ceil(Math.abs(en*$t[1]*1.1)),3e3),bn=ln/gn,Xt=en/tn,Yt={coords:this._coords,colors:this._colors,offsetX:-Gt,offsetY:-Qt,scaleX:1/bn,scaleY:1/Xt},un=gn+2*2,Ut=tn+2*2,Lt=Bt.getCanvas("mesh",un,Ut,!1),Vt=Lt.context,an=Vt.createImageData(gn,tn);if(Mt){const Wt=an.data;for(let nn=0,dn=Wt.length;nn<dn;nn+=4)Wt[nn]=Mt[0],Wt[nn+1]=Mt[1],Wt[nn+2]=Mt[2],Wt[nn+3]=255}for(const Wt of this._figures)kt(an,Wt,Yt);return Vt.putImageData(an,2,2),{canvas:Lt.canvas,offsetX:Gt-2*bn,offsetY:Qt-2*Xt,scaleX:bn,scaleY:Xt}}getPattern($t,Mt,Bt,_t){Et($t,this._bbox);let Kt;if(_t===St.SHADING)Kt=bt.Util.singularValueDecompose2dScale((0,At.getCurrentTransform)($t));else if(Kt=bt.Util.singularValueDecompose2dScale(Mt.baseTransform),this.matrix){const Gt=bt.Util.singularValueDecompose2dScale(this.matrix);Kt=[Kt[0]*Gt[0],Kt[1]*Gt[1]]}const jt=this._createMeshCanvas(Kt,_t===St.SHADING?null:this._background,Mt.cachedCanvases);return _t!==St.SHADING&&($t.setTransform(...Mt.baseTransform),this.matrix&&$t.transform(...this.matrix)),$t.translate(jt.offsetX,jt.offsetY),$t.scale(jt.scaleX,jt.scaleY),$t.createPattern(jt.canvas,"no-repeat")}}class ht extends Ct{getPattern(){return"hotpink"}}function vt(Nt){switch(Nt[0]){case"RadialAxial":return new Pt(Nt);case"Mesh":return new Rt(Nt);case"Dummy":return new ht}throw new Error(`Unknown IR type: ${Nt[0]}`)}const Ft={COLORED:1,UNCOLORED:2},qt=class qt{constructor($t,Mt,Bt,_t,Kt){this.operatorList=$t[2],this.matrix=$t[3]||[1,0,0,1,0,0],this.bbox=$t[4],this.xstep=$t[5],this.ystep=$t[6],this.paintType=$t[7],this.tilingType=$t[8],this.color=Mt,this.ctx=Bt,this.canvasGraphicsFactory=_t,this.baseTransform=Kt}createPatternCanvas($t){const Mt=this.operatorList,Bt=this.bbox,_t=this.xstep,Kt=this.ystep,jt=this.paintType,Gt=this.tilingType,Qt=this.color,ln=this.canvasGraphicsFactory;(0,bt.info)("TilingType: "+Gt);const en=Bt[0],gn=Bt[1],tn=Bt[2],bn=Bt[3],Xt=bt.Util.singularValueDecompose2dScale(this.matrix),Yt=bt.Util.singularValueDecompose2dScale(this.baseTransform),un=[Xt[0]*Yt[0],Xt[1]*Yt[1]],Ut=this.getSizeAndScale(_t,this.ctx.canvas.width,un[0]),Lt=this.getSizeAndScale(Kt,this.ctx.canvas.height,un[1]),Vt=$t.cachedCanvases.getCanvas("pattern",Ut.size,Lt.size,!0),an=Vt.context,zt=ln.createCanvasGraphics(an);zt.groupLevel=$t.groupLevel,this.setFillAndStrokeStyleToContext(zt,jt,Qt);let Wt=en,nn=gn,dn=tn,on=bn;return en<0&&(Wt=0,dn+=Math.abs(en)),gn<0&&(nn=0,on+=Math.abs(gn)),an.translate(-(Ut.scale*Wt),-(Lt.scale*nn)),zt.transform(Ut.scale,0,0,Lt.scale,0,0),an.save(),this.clipBbox(zt,Wt,nn,dn,on),zt.baseTransform=(0,At.getCurrentTransform)(zt.ctx),zt.executeOperatorList(Mt),zt.endDrawing(),{canvas:Vt.canvas,scaleX:Ut.scale,scaleY:Lt.scale,offsetX:Wt,offsetY:nn}}getSizeAndScale($t,Mt,Bt){$t=Math.abs($t);const _t=Math.max(qt.MAX_PATTERN_SIZE,Mt);let Kt=Math.ceil($t*Bt);return Kt>=_t?Kt=_t:Bt=Kt/$t,{scale:Bt,size:Kt}}clipBbox($t,Mt,Bt,_t,Kt){const jt=_t-Mt,Gt=Kt-Bt;$t.ctx.rect(Mt,Bt,jt,Gt),$t.current.updateRectMinMax((0,At.getCurrentTransform)($t.ctx),[Mt,Bt,_t,Kt]),$t.clip(),$t.endPath()}setFillAndStrokeStyleToContext($t,Mt,Bt){const _t=$t.ctx,Kt=$t.current;switch(Mt){case Ft.COLORED:const jt=this.ctx;_t.fillStyle=jt.fillStyle,_t.strokeStyle=jt.strokeStyle,Kt.fillColor=jt.fillStyle,Kt.strokeColor=jt.strokeStyle;break;case Ft.UNCOLORED:const Gt=bt.Util.makeHexColor(Bt[0],Bt[1],Bt[2]);_t.fillStyle=Gt,_t.strokeStyle=Gt,Kt.fillColor=Gt,Kt.strokeColor=Gt;break;default:throw new bt.FormatError(`Unsupported paint type: ${Mt}`)}}getPattern($t,Mt,Bt,_t){let Kt=Bt;_t!==St.SHADING&&(Kt=bt.Util.transform(Kt,Mt.baseTransform),this.matrix&&(Kt=bt.Util.transform(Kt,this.matrix)));const jt=this.createPatternCanvas(Mt);let Gt=new DOMMatrix(Kt);Gt=Gt.translate(jt.offsetX,jt.offsetY),Gt=Gt.scale(1/jt.scaleX,1/jt.scaleY);const Qt=$t.createPattern(jt.canvas,"repeat");return Qt.setTransform(Gt),Qt}};Ur(qt,"MAX_PATTERN_SIZE",3e3);let Ht=qt;$.TilingPattern=Ht},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=St,$.convertToRGBA=At,$.grayToRGBA=Ct;var bt=xt(1);function At(Pt){switch(Pt.kind){case bt.ImageKind.GRAYSCALE_1BPP:return St(Pt);case bt.ImageKind.RGB_24BPP:return Et(Pt)}return null}function St({src:Pt,srcPos:wt=0,dest:kt,width:Rt,height:ht,nonBlackColor:vt=4294967295,inverseDecode:Ft=!1}){const Ht=bt.FeatureTest.isLittleEndian?4278190080:255,[qt,Nt]=Ft?[vt,Ht]:[Ht,vt],$t=Rt>>3,Mt=Rt&7,Bt=Pt.length;kt=new Uint32Array(kt.buffer);let _t=0;for(let Kt=0;Kt<ht;Kt++){for(const Gt=wt+$t;wt<Gt;wt++){const Qt=wt<Bt?Pt[wt]:255;kt[_t++]=Qt&128?Nt:qt,kt[_t++]=Qt&64?Nt:qt,kt[_t++]=Qt&32?Nt:qt,kt[_t++]=Qt&16?Nt:qt,kt[_t++]=Qt&8?Nt:qt,kt[_t++]=Qt&4?Nt:qt,kt[_t++]=Qt&2?Nt:qt,kt[_t++]=Qt&1?Nt:qt}if(Mt===0)continue;const jt=wt<Bt?Pt[wt++]:255;for(let Gt=0;Gt<Mt;Gt++)kt[_t++]=jt&1<<7-Gt?Nt:qt}return{srcPos:wt,destPos:_t}}function Et({src:Pt,srcPos:wt=0,dest:kt,destPos:Rt=0,width:ht,height:vt}){let Ft=0;const Ht=Pt.length>>2,qt=new Uint32Array(Pt.buffer,wt,Ht);if(bt.FeatureTest.isLittleEndian){for(;Ft<Ht-2;Ft+=3,Rt+=4){const Nt=qt[Ft],$t=qt[Ft+1],Mt=qt[Ft+2];kt[Rt]=Nt|4278190080,kt[Rt+1]=Nt>>>24|$t<<8|4278190080,kt[Rt+2]=$t>>>16|Mt<<16|4278190080,kt[Rt+3]=Mt>>>8|4278190080}for(let Nt=Ft*4,$t=Pt.length;Nt<$t;Nt+=3)kt[Rt++]=Pt[Nt]|Pt[Nt+1]<<8|Pt[Nt+2]<<16|4278190080}else{for(;Ft<Ht-2;Ft+=3,Rt+=4){const Nt=qt[Ft],$t=qt[Ft+1],Mt=qt[Ft+2];kt[Rt]=Nt|255,kt[Rt+1]=Nt<<24|$t>>>8|255,kt[Rt+2]=$t<<16|Mt>>>16|255,kt[Rt+3]=Mt<<8|255}for(let Nt=Ft*4,$t=Pt.length;Nt<$t;Nt+=3)kt[Rt++]=Pt[Nt]<<24|Pt[Nt+1]<<16|Pt[Nt+2]<<8|255}return{srcPos:wt,destPos:Rt}}function Ct(Pt,wt){if(bt.FeatureTest.isLittleEndian)for(let kt=0,Rt=Pt.length;kt<Rt;kt++)wt[kt]=Pt[kt]*65793|4278190080;else for(let kt=0,Rt=Pt.length;kt<Rt;kt++)wt[kt]=Pt[kt]*16843008|255}},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const xt=Object.create(null);$.GlobalWorkerOptions=xt,xt.workerPort=null,xt.workerSrc=""},(_e,$,xt)=>{var Pt,Vv,zv,P2;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var bt=xt(1);const At={UNKNOWN:0,DATA:1,ERROR:2},St={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Et(ht){switch(ht instanceof Error||typeof ht=="object"&&ht!==null||(0,bt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ht.name){case"AbortException":return new bt.AbortException(ht.message);case"MissingPDFException":return new bt.MissingPDFException(ht.message);case"PasswordException":return new bt.PasswordException(ht.message,ht.code);case"UnexpectedResponseException":return new bt.UnexpectedResponseException(ht.message,ht.status);case"UnknownErrorException":return new bt.UnknownErrorException(ht.message,ht.details);default:return new bt.UnknownErrorException(ht.message,ht.toString())}}class Ct{constructor(vt,Ft,Ht){Nn(this,Pt);this.sourceName=vt,this.targetName=Ft,this.comObj=Ht,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=qt=>{const Nt=qt.data;if(Nt.targetName!==this.sourceName)return;if(Nt.stream){In(this,Pt,zv).call(this,Nt);return}if(Nt.callback){const Mt=Nt.callbackId,Bt=this.callbackCapabilities[Mt];if(!Bt)throw new Error(`Cannot resolve callback ${Mt}`);if(delete this.callbackCapabilities[Mt],Nt.callback===At.DATA)Bt.resolve(Nt.data);else if(Nt.callback===At.ERROR)Bt.reject(Et(Nt.reason));else throw new Error("Unexpected callback case");return}const $t=this.actionHandler[Nt.action];if(!$t)throw new Error(`Unknown action from worker: ${Nt.action}`);if(Nt.callbackId){const Mt=this.sourceName,Bt=Nt.sourceName;new Promise(function(_t){_t($t(Nt.data))}).then(function(_t){Ht.postMessage({sourceName:Mt,targetName:Bt,callback:At.DATA,callbackId:Nt.callbackId,data:_t})},function(_t){Ht.postMessage({sourceName:Mt,targetName:Bt,callback:At.ERROR,callbackId:Nt.callbackId,reason:Et(_t)})});return}if(Nt.streamId){In(this,Pt,Vv).call(this,Nt);return}$t(Nt.data)},Ht.addEventListener("message",this._onComObjOnMessage)}on(vt,Ft){const Ht=this.actionHandler;if(Ht[vt])throw new Error(`There is already an actionName called "${vt}"`);Ht[vt]=Ft}send(vt,Ft,Ht){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:vt,data:Ft},Ht)}sendWithPromise(vt,Ft,Ht){const qt=this.callbackId++,Nt=new bt.PromiseCapability;this.callbackCapabilities[qt]=Nt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:vt,callbackId:qt,data:Ft},Ht)}catch($t){Nt.reject($t)}return Nt.promise}sendWithStream(vt,Ft,Ht,qt){const Nt=this.streamId++,$t=this.sourceName,Mt=this.targetName,Bt=this.comObj;return new ReadableStream({start:_t=>{const Kt=new bt.PromiseCapability;return this.streamControllers[Nt]={controller:_t,startCall:Kt,pullCall:null,cancelCall:null,isClosed:!1},Bt.postMessage({sourceName:$t,targetName:Mt,action:vt,streamId:Nt,data:Ft,desiredSize:_t.desiredSize},qt),Kt.promise},pull:_t=>{const Kt=new bt.PromiseCapability;return this.streamControllers[Nt].pullCall=Kt,Bt.postMessage({sourceName:$t,targetName:Mt,stream:St.PULL,streamId:Nt,desiredSize:_t.desiredSize}),Kt.promise},cancel:_t=>{(0,bt.assert)(_t instanceof Error,"cancel must have a valid reason");const Kt=new bt.PromiseCapability;return this.streamControllers[Nt].cancelCall=Kt,this.streamControllers[Nt].isClosed=!0,Bt.postMessage({sourceName:$t,targetName:Mt,stream:St.CANCEL,streamId:Nt,reason:Et(_t)}),Kt.promise}},Ht)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Pt=new WeakSet,Vv=function(vt){const Ft=vt.streamId,Ht=this.sourceName,qt=vt.sourceName,Nt=this.comObj,$t=this,Mt=this.actionHandler[vt.action],Bt={enqueue(_t,Kt=1,jt){if(this.isCancelled)return;const Gt=this.desiredSize;this.desiredSize-=Kt,Gt>0&&this.desiredSize<=0&&(this.sinkCapability=new bt.PromiseCapability,this.ready=this.sinkCapability.promise),Nt.postMessage({sourceName:Ht,targetName:qt,stream:St.ENQUEUE,streamId:Ft,chunk:_t},jt)},close(){this.isCancelled||(this.isCancelled=!0,Nt.postMessage({sourceName:Ht,targetName:qt,stream:St.CLOSE,streamId:Ft}),delete $t.streamSinks[Ft])},error(_t){(0,bt.assert)(_t instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Nt.postMessage({sourceName:Ht,targetName:qt,stream:St.ERROR,streamId:Ft,reason:Et(_t)}))},sinkCapability:new bt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:vt.desiredSize,ready:null};Bt.sinkCapability.resolve(),Bt.ready=Bt.sinkCapability.promise,this.streamSinks[Ft]=Bt,new Promise(function(_t){_t(Mt(vt.data,Bt))}).then(function(){Nt.postMessage({sourceName:Ht,targetName:qt,stream:St.START_COMPLETE,streamId:Ft,success:!0})},function(_t){Nt.postMessage({sourceName:Ht,targetName:qt,stream:St.START_COMPLETE,streamId:Ft,reason:Et(_t)})})},zv=function(vt){const Ft=vt.streamId,Ht=this.sourceName,qt=vt.sourceName,Nt=this.comObj,$t=this.streamControllers[Ft],Mt=this.streamSinks[Ft];switch(vt.stream){case St.START_COMPLETE:vt.success?$t.startCall.resolve():$t.startCall.reject(Et(vt.reason));break;case St.PULL_COMPLETE:vt.success?$t.pullCall.resolve():$t.pullCall.reject(Et(vt.reason));break;case St.PULL:if(!Mt){Nt.postMessage({sourceName:Ht,targetName:qt,stream:St.PULL_COMPLETE,streamId:Ft,success:!0});break}Mt.desiredSize<=0&&vt.desiredSize>0&&Mt.sinkCapability.resolve(),Mt.desiredSize=vt.desiredSize,new Promise(function(Bt){var _t;Bt((_t=Mt.onPull)==null?void 0:_t.call(Mt))}).then(function(){Nt.postMessage({sourceName:Ht,targetName:qt,stream:St.PULL_COMPLETE,streamId:Ft,success:!0})},function(Bt){Nt.postMessage({sourceName:Ht,targetName:qt,stream:St.PULL_COMPLETE,streamId:Ft,reason:Et(Bt)})});break;case St.ENQUEUE:if((0,bt.assert)($t,"enqueue should have stream controller"),$t.isClosed)break;$t.controller.enqueue(vt.chunk);break;case St.CLOSE:if((0,bt.assert)($t,"close should have stream controller"),$t.isClosed)break;$t.isClosed=!0,$t.controller.close(),In(this,Pt,P2).call(this,$t,Ft);break;case St.ERROR:(0,bt.assert)($t,"error should have stream controller"),$t.controller.error(Et(vt.reason)),In(this,Pt,P2).call(this,$t,Ft);break;case St.CANCEL_COMPLETE:vt.success?$t.cancelCall.resolve():$t.cancelCall.reject(Et(vt.reason)),In(this,Pt,P2).call(this,$t,Ft);break;case St.CANCEL:if(!Mt)break;new Promise(function(Bt){var _t;Bt((_t=Mt.onCancel)==null?void 0:_t.call(Mt,Et(vt.reason)))}).then(function(){Nt.postMessage({sourceName:Ht,targetName:qt,stream:St.CANCEL_COMPLETE,streamId:Ft,success:!0})},function(Bt){Nt.postMessage({sourceName:Ht,targetName:qt,stream:St.CANCEL_COMPLETE,streamId:Ft,reason:Et(Bt)})}),Mt.sinkCapability.reject(Et(vt.reason)),Mt.isCancelled=!0,delete this.streamSinks[Ft];break;default:throw new Error("Unexpected stream case")}},P2=async function(vt,Ft){var Ht,qt,Nt;await Promise.allSettled([(Ht=vt.startCall)==null?void 0:Ht.promise,(qt=vt.pullCall)==null?void 0:qt.promise,(Nt=vt.cancelCall)==null?void 0:Nt.promise]),delete this.streamControllers[Ft]},$.MessageHandler=Ct},(_e,$,xt)=>{var St,Et;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var bt=xt(1);class At{constructor({parsedData:Pt,rawData:wt}){Nn(this,St);Nn(this,Et);$n(this,St,Pt),$n(this,Et,wt)}getRaw(){return Ot(this,Et)}get(Pt){return Ot(this,St).get(Pt)??null}getAll(){return(0,bt.objectFromMap)(Ot(this,St))}has(Pt){return Ot(this,St).has(Pt)}}St=new WeakMap,Et=new WeakMap,$.Metadata=At},(_e,$,xt)=>{var Pt,wt,kt,Rt,ht,vt,P9;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var bt=xt(1),At=xt(8);const St=Symbol("INTERNAL");class Et{constructor(qt,Nt){Nn(this,Pt,!0);this.name=qt,this.intent=Nt}get visible(){return Ot(this,Pt)}_setVisible(qt,Nt){qt!==St&&(0,bt.unreachable)("Internal method `_setVisible` called."),$n(this,Pt,Nt)}}Pt=new WeakMap;class Ct{constructor(qt){Nn(this,vt);Nn(this,wt,null);Nn(this,kt,new Map);Nn(this,Rt,null);Nn(this,ht,null);if(this.name=null,this.creator=null,qt!==null){this.name=qt.name,this.creator=qt.creator,$n(this,ht,qt.order);for(const Nt of qt.groups)Ot(this,kt).set(Nt.id,new Et(Nt.name,Nt.intent));if(qt.baseState==="OFF")for(const Nt of Ot(this,kt).values())Nt._setVisible(St,!1);for(const Nt of qt.on)Ot(this,kt).get(Nt)._setVisible(St,!0);for(const Nt of qt.off)Ot(this,kt).get(Nt)._setVisible(St,!1);$n(this,Rt,this.getHash())}}isVisible(qt){if(Ot(this,kt).size===0)return!0;if(!qt)return(0,bt.warn)("Optional content group not defined."),!0;if(qt.type==="OCG")return Ot(this,kt).has(qt.id)?Ot(this,kt).get(qt.id).visible:((0,bt.warn)(`Optional content group not found: ${qt.id}`),!0);if(qt.type==="OCMD"){if(qt.expression)return In(this,vt,P9).call(this,qt.expression);if(!qt.policy||qt.policy==="AnyOn"){for(const Nt of qt.ids){if(!Ot(this,kt).has(Nt))return(0,bt.warn)(`Optional content group not found: ${Nt}`),!0;if(Ot(this,kt).get(Nt).visible)return!0}return!1}else if(qt.policy==="AllOn"){for(const Nt of qt.ids){if(!Ot(this,kt).has(Nt))return(0,bt.warn)(`Optional content group not found: ${Nt}`),!0;if(!Ot(this,kt).get(Nt).visible)return!1}return!0}else if(qt.policy==="AnyOff"){for(const Nt of qt.ids){if(!Ot(this,kt).has(Nt))return(0,bt.warn)(`Optional content group not found: ${Nt}`),!0;if(!Ot(this,kt).get(Nt).visible)return!0}return!1}else if(qt.policy==="AllOff"){for(const Nt of qt.ids){if(!Ot(this,kt).has(Nt))return(0,bt.warn)(`Optional content group not found: ${Nt}`),!0;if(Ot(this,kt).get(Nt).visible)return!1}return!0}return(0,bt.warn)(`Unknown optional content policy ${qt.policy}.`),!0}return(0,bt.warn)(`Unknown group type ${qt.type}.`),!0}setVisibility(qt,Nt=!0){if(!Ot(this,kt).has(qt)){(0,bt.warn)(`Optional content group not found: ${qt}`);return}Ot(this,kt).get(qt)._setVisible(St,!!Nt),$n(this,wt,null)}get hasInitialVisibility(){return Ot(this,Rt)===null||this.getHash()===Ot(this,Rt)}getOrder(){return Ot(this,kt).size?Ot(this,ht)?Ot(this,ht).slice():[...Ot(this,kt).keys()]:null}getGroups(){return Ot(this,kt).size>0?(0,bt.objectFromMap)(Ot(this,kt)):null}getGroup(qt){return Ot(this,kt).get(qt)||null}getHash(){if(Ot(this,wt)!==null)return Ot(this,wt);const qt=new At.MurmurHash3_64;for(const[Nt,$t]of Ot(this,kt))qt.update(`${Nt}:${$t.visible}`);return $n(this,wt,qt.hexdigest())}}wt=new WeakMap,kt=new WeakMap,Rt=new WeakMap,ht=new WeakMap,vt=new WeakSet,P9=function(qt){const Nt=qt.length;if(Nt<2)return!0;const $t=qt[0];for(let Mt=1;Mt<Nt;Mt++){const Bt=qt[Mt];let _t;if(Array.isArray(Bt))_t=In(this,vt,P9).call(this,Bt);else if(Ot(this,kt).has(Bt))_t=Ot(this,kt).get(Bt).visible;else return(0,bt.warn)(`Optional content group not found: ${Bt}`),!0;switch($t){case"And":if(!_t)return!1;break;case"Or":if(_t)return!0;break;case"Not":return!_t;default:return!0}}return $t==="And"},$.OptionalContentConfig=Ct},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var bt=xt(1),At=xt(6);class St{constructor({length:wt,initialData:kt,progressiveDone:Rt=!1,contentDispositionFilename:ht=null,disableRange:vt=!1,disableStream:Ft=!1},Ht){if((0,bt.assert)(Ht,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Rt,this._contentDispositionFilename=ht,(kt==null?void 0:kt.length)>0){const qt=kt instanceof Uint8Array&&kt.byteLength===kt.buffer.byteLength?kt.buffer:new Uint8Array(kt).buffer;this._queuedChunks.push(qt)}this._pdfDataRangeTransport=Ht,this._isStreamingSupported=!Ft,this._isRangeSupported=!vt,this._contentLength=wt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((qt,Nt)=>{this._onReceiveData({begin:qt,chunk:Nt})}),this._pdfDataRangeTransport.addProgressListener((qt,Nt)=>{this._onProgress({loaded:qt,total:Nt})}),this._pdfDataRangeTransport.addProgressiveReadListener(qt=>{this._onReceiveData({chunk:qt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:wt,chunk:kt}){const Rt=kt instanceof Uint8Array&&kt.byteLength===kt.buffer.byteLength?kt.buffer:new Uint8Array(kt).buffer;if(wt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Rt):this._queuedChunks.push(Rt);else{const ht=this._rangeReaders.some(function(vt){return vt._begin!==wt?!1:(vt._enqueue(Rt),!0)});(0,bt.assert)(ht,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var wt;return((wt=this._fullRequestReader)==null?void 0:wt._loaded)??0}_onProgress(wt){var kt,Rt,ht,vt;wt.total===void 0?(Rt=(kt=this._rangeReaders[0])==null?void 0:kt.onProgress)==null||Rt.call(kt,{loaded:wt.loaded}):(vt=(ht=this._fullRequestReader)==null?void 0:ht.onProgress)==null||vt.call(ht,{loaded:wt.loaded,total:wt.total})}_onProgressiveDone(){var wt;(wt=this._fullRequestReader)==null||wt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(wt){const kt=this._rangeReaders.indexOf(wt);kt>=0&&this._rangeReaders.splice(kt,1)}getFullReader(){(0,bt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const wt=this._queuedChunks;return this._queuedChunks=null,new Et(this,wt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(wt,kt){if(kt<=this._progressiveDataLength)return null;const Rt=new Ct(this,wt,kt);return this._pdfDataRangeTransport.requestDataRange(wt,kt),this._rangeReaders.push(Rt),Rt}cancelAllRequests(wt){var kt;(kt=this._fullRequestReader)==null||kt.cancel(wt);for(const Rt of this._rangeReaders.slice(0))Rt.cancel(wt);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=St;class Et{constructor(wt,kt,Rt=!1,ht=null){this._stream=wt,this._done=Rt||!1,this._filename=(0,At.isPdfFile)(ht)?ht:null,this._queuedChunks=kt||[],this._loaded=0;for(const vt of this._queuedChunks)this._loaded+=vt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),wt._fullRequestReader=this,this.onProgress=null}_enqueue(wt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:wt,done:!1}):this._queuedChunks.push(wt),this._loaded+=wt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const wt=new bt.PromiseCapability;return this._requests.push(wt),wt.promise}cancel(wt){this._done=!0;for(const kt of this._requests)kt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Ct{constructor(wt,kt,Rt){this._stream=wt,this._begin=kt,this._end=Rt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(wt){if(!this._done){if(this._requests.length===0)this._queuedChunk=wt;else{this._requests.shift().resolve({value:wt,done:!1});for(const Rt of this._requests)Rt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const kt=this._queuedChunk;return this._queuedChunk=null,{value:kt,done:!1}}if(this._done)return{value:void 0,done:!0};const wt=new bt.PromiseCapability;return this._requests.push(wt),wt.promise}cancel(wt){this._done=!0;for(const kt of this._requests)kt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var bt=xt(1),At=xt(20);function St(Rt,ht,vt){return{method:"GET",headers:Rt,signal:vt.signal,mode:"cors",credentials:ht?"include":"same-origin",redirect:"follow"}}function Et(Rt){const ht=new Headers;for(const vt in Rt){const Ft=Rt[vt];Ft!==void 0&&ht.append(vt,Ft)}return ht}function Ct(Rt){return Rt instanceof Uint8Array?Rt.buffer:Rt instanceof ArrayBuffer?Rt:((0,bt.warn)(`getArrayBuffer - unexpected data format: ${Rt}`),new Uint8Array(Rt).buffer)}class Pt{constructor(ht){this.source=ht,this.isHttp=/^https?:/i.test(ht.url),this.httpHeaders=this.isHttp&&ht.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ht;return((ht=this._fullRequestReader)==null?void 0:ht._loaded)??0}getFullReader(){return(0,bt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new wt(this),this._fullRequestReader}getRangeReader(ht,vt){if(vt<=this._progressiveDataLength)return null;const Ft=new kt(this,ht,vt);return this._rangeRequestReaders.push(Ft),Ft}cancelAllRequests(ht){var vt;(vt=this._fullRequestReader)==null||vt.cancel(ht);for(const Ft of this._rangeRequestReaders.slice(0))Ft.cancel(ht)}}$.PDFFetchStream=Pt;class wt{constructor(ht){this._stream=ht,this._reader=null,this._loaded=0,this._filename=null;const vt=ht.source;this._withCredentials=vt.withCredentials||!1,this._contentLength=vt.length,this._headersCapability=new bt.PromiseCapability,this._disableRange=vt.disableRange||!1,this._rangeChunkSize=vt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!vt.disableStream,this._isRangeSupported=!vt.disableRange,this._headers=Et(this._stream.httpHeaders);const Ft=vt.url;fetch(Ft,St(this._headers,this._withCredentials,this._abortController)).then(Ht=>{if(!(0,At.validateResponseStatus)(Ht.status))throw(0,At.createResponseStatusError)(Ht.status,Ft);this._reader=Ht.body.getReader(),this._headersCapability.resolve();const qt=Mt=>Ht.headers.get(Mt),{allowRangeRequests:Nt,suggestedLength:$t}=(0,At.validateRangeRequestCapabilities)({getResponseHeader:qt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Nt,this._contentLength=$t||this._contentLength,this._filename=(0,At.extractFilenameFromHeader)(qt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new bt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Ft;await this._headersCapability.promise;const{value:ht,done:vt}=await this._reader.read();return vt?{value:ht,done:vt}:(this._loaded+=ht.byteLength,(Ft=this.onProgress)==null||Ft.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Ct(ht),done:!1})}cancel(ht){var vt;(vt=this._reader)==null||vt.cancel(ht),this._abortController.abort()}}class kt{constructor(ht,vt,Ft){this._stream=ht,this._reader=null,this._loaded=0;const Ht=ht.source;this._withCredentials=Ht.withCredentials||!1,this._readCapability=new bt.PromiseCapability,this._isStreamingSupported=!Ht.disableStream,this._abortController=new AbortController,this._headers=Et(this._stream.httpHeaders),this._headers.append("Range",`bytes=${vt}-${Ft-1}`);const qt=Ht.url;fetch(qt,St(this._headers,this._withCredentials,this._abortController)).then(Nt=>{if(!(0,At.validateResponseStatus)(Nt.status))throw(0,At.createResponseStatusError)(Nt.status,qt);this._readCapability.resolve(),this._reader=Nt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Ft;await this._readCapability.promise;const{value:ht,done:vt}=await this._reader.read();return vt?{value:ht,done:vt}:(this._loaded+=ht.byteLength,(Ft=this.onProgress)==null||Ft.call(this,{loaded:this._loaded}),{value:Ct(ht),done:!1})}cancel(ht){var vt;(vt=this._reader)==null||vt.cancel(ht),this._abortController.abort()}}},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=Pt,$.extractFilenameFromHeader=Ct,$.validateRangeRequestCapabilities=Et,$.validateResponseStatus=wt;var bt=xt(1),At=xt(21),St=xt(6);function Et({getResponseHeader:kt,isHttp:Rt,rangeChunkSize:ht,disableRange:vt}){const Ft={allowRangeRequests:!1,suggestedLength:void 0},Ht=parseInt(kt("Content-Length"),10);return!Number.isInteger(Ht)||(Ft.suggestedLength=Ht,Ht<=2*ht)||vt||!Rt||kt("Accept-Ranges")!=="bytes"||(kt("Content-Encoding")||"identity")!=="identity"||(Ft.allowRangeRequests=!0),Ft}function Ct(kt){const Rt=kt("Content-Disposition");if(Rt){let ht=(0,At.getFilenameFromContentDispositionHeader)(Rt);if(ht.includes("%"))try{ht=decodeURIComponent(ht)}catch{}if((0,St.isPdfFile)(ht))return ht}return null}function Pt(kt,Rt){return kt===404||kt===0&&Rt.startsWith("file:")?new bt.MissingPDFException('Missing PDF "'+Rt+'".'):new bt.UnexpectedResponseException(`Unexpected server response (${kt}) while retrieving PDF "${Rt}".`,kt)}function wt(kt){return kt===200||kt===206}},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=At;var bt=xt(1);function At(St){let Et=!0,Ct=Pt("filename\\*","i").exec(St);if(Ct){Ct=Ct[1];let Ht=ht(Ct);return Ht=unescape(Ht),Ht=vt(Ht),Ht=Ft(Ht),kt(Ht)}if(Ct=Rt(St),Ct){const Ht=Ft(Ct);return kt(Ht)}if(Ct=Pt("filename","i").exec(St),Ct){Ct=Ct[1];let Ht=ht(Ct);return Ht=Ft(Ht),kt(Ht)}function Pt(Ht,qt){return new RegExp("(?:^|;)\\s*"+Ht+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',qt)}function wt(Ht,qt){if(Ht){if(!/^[\x00-\xFF]+$/.test(qt))return qt;try{const Nt=new TextDecoder(Ht,{fatal:!0}),$t=(0,bt.stringToBytes)(qt);qt=Nt.decode($t),Et=!1}catch{}}return qt}function kt(Ht){return Et&&/[\x80-\xff]/.test(Ht)&&(Ht=wt("utf-8",Ht),Et&&(Ht=wt("iso-8859-1",Ht))),Ht}function Rt(Ht){const qt=[];let Nt;const $t=Pt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Nt=$t.exec(Ht))!==null;){let[,Bt,_t,Kt]=Nt;if(Bt=parseInt(Bt,10),Bt in qt){if(Bt===0)break;continue}qt[Bt]=[_t,Kt]}const Mt=[];for(let Bt=0;Bt<qt.length&&Bt in qt;++Bt){let[_t,Kt]=qt[Bt];Kt=ht(Kt),_t&&(Kt=unescape(Kt),Bt===0&&(Kt=vt(Kt))),Mt.push(Kt)}return Mt.join("")}function ht(Ht){if(Ht.startsWith('"')){const qt=Ht.slice(1).split('\\"');for(let Nt=0;Nt<qt.length;++Nt){const $t=qt[Nt].indexOf('"');$t!==-1&&(qt[Nt]=qt[Nt].slice(0,$t),qt.length=Nt+1),qt[Nt]=qt[Nt].replaceAll(/\\(.)/g,"$1")}Ht=qt.join('"')}return Ht}function vt(Ht){const qt=Ht.indexOf("'");if(qt===-1)return Ht;const Nt=Ht.slice(0,qt),Mt=Ht.slice(qt+1).replace(/^[^']*'/,"");return wt(Nt,Mt)}function Ft(Ht){return!Ht.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Ht)?Ht:Ht.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(qt,Nt,$t,Mt){if($t==="q"||$t==="Q")return Mt=Mt.replaceAll("_"," "),Mt=Mt.replaceAll(/=([0-9a-fA-F]{2})/g,function(Bt,_t){return String.fromCharCode(parseInt(_t,16))}),wt(Nt,Mt);try{Mt=atob(Mt)}catch{}return wt(Nt,Mt)})}return""}},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var bt=xt(1),At=xt(20);const St=200,Et=206;function Ct(ht){const vt=ht.response;return typeof vt!="string"?vt:(0,bt.stringToBytes)(vt).buffer}class Pt{constructor(vt,Ft={}){this.url=vt,this.isHttp=/^https?:/i.test(vt),this.httpHeaders=this.isHttp&&Ft.httpHeaders||Object.create(null),this.withCredentials=Ft.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(vt,Ft,Ht){const qt={begin:vt,end:Ft};for(const Nt in Ht)qt[Nt]=Ht[Nt];return this.request(qt)}requestFull(vt){return this.request(vt)}request(vt){const Ft=new XMLHttpRequest,Ht=this.currXhrId++,qt=this.pendingRequests[Ht]={xhr:Ft};Ft.open("GET",this.url),Ft.withCredentials=this.withCredentials;for(const Nt in this.httpHeaders){const $t=this.httpHeaders[Nt];$t!==void 0&&Ft.setRequestHeader(Nt,$t)}return this.isHttp&&"begin"in vt&&"end"in vt?(Ft.setRequestHeader("Range",`bytes=${vt.begin}-${vt.end-1}`),qt.expectedStatus=Et):qt.expectedStatus=St,Ft.responseType="arraybuffer",vt.onError&&(Ft.onerror=function(Nt){vt.onError(Ft.status)}),Ft.onreadystatechange=this.onStateChange.bind(this,Ht),Ft.onprogress=this.onProgress.bind(this,Ht),qt.onHeadersReceived=vt.onHeadersReceived,qt.onDone=vt.onDone,qt.onError=vt.onError,qt.onProgress=vt.onProgress,Ft.send(null),Ht}onProgress(vt,Ft){var qt;const Ht=this.pendingRequests[vt];Ht&&((qt=Ht.onProgress)==null||qt.call(Ht,Ft))}onStateChange(vt,Ft){var Bt,_t,Kt;const Ht=this.pendingRequests[vt];if(!Ht)return;const qt=Ht.xhr;if(qt.readyState>=2&&Ht.onHeadersReceived&&(Ht.onHeadersReceived(),delete Ht.onHeadersReceived),qt.readyState!==4||!(vt in this.pendingRequests))return;if(delete this.pendingRequests[vt],qt.status===0&&this.isHttp){(Bt=Ht.onError)==null||Bt.call(Ht,qt.status);return}const Nt=qt.status||St;if(!(Nt===St&&Ht.expectedStatus===Et)&&Nt!==Ht.expectedStatus){(_t=Ht.onError)==null||_t.call(Ht,qt.status);return}const Mt=Ct(qt);if(Nt===Et){const jt=qt.getResponseHeader("Content-Range"),Gt=/bytes (\d+)-(\d+)\/(\d+)/.exec(jt);Ht.onDone({begin:parseInt(Gt[1],10),chunk:Mt})}else Mt?Ht.onDone({begin:0,chunk:Mt}):(Kt=Ht.onError)==null||Kt.call(Ht,qt.status)}getRequestXhr(vt){return this.pendingRequests[vt].xhr}isPendingRequest(vt){return vt in this.pendingRequests}abortRequest(vt){const Ft=this.pendingRequests[vt].xhr;delete this.pendingRequests[vt],Ft.abort()}}class wt{constructor(vt){this._source=vt,this._manager=new Pt(vt.url,{httpHeaders:vt.httpHeaders,withCredentials:vt.withCredentials}),this._rangeChunkSize=vt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(vt){const Ft=this._rangeRequestReaders.indexOf(vt);Ft>=0&&this._rangeRequestReaders.splice(Ft,1)}getFullReader(){return(0,bt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new kt(this._manager,this._source),this._fullRequestReader}getRangeReader(vt,Ft){const Ht=new Rt(this._manager,vt,Ft);return Ht.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Ht),Ht}cancelAllRequests(vt){var Ft;(Ft=this._fullRequestReader)==null||Ft.cancel(vt);for(const Ht of this._rangeRequestReaders.slice(0))Ht.cancel(vt)}}$.PDFNetworkStream=wt;class kt{constructor(vt,Ft){this._manager=vt;const Ht={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Ft.url,this._fullRequestId=vt.requestFull(Ht),this._headersReceivedCapability=new bt.PromiseCapability,this._disableRange=Ft.disableRange||!1,this._contentLength=Ft.length,this._rangeChunkSize=Ft.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const vt=this._fullRequestId,Ft=this._manager.getRequestXhr(vt),Ht=$t=>Ft.getResponseHeader($t),{allowRangeRequests:qt,suggestedLength:Nt}=(0,At.validateRangeRequestCapabilities)({getResponseHeader:Ht,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});qt&&(this._isRangeSupported=!0),this._contentLength=Nt||this._contentLength,this._filename=(0,At.extractFilenameFromHeader)(Ht),this._isRangeSupported&&this._manager.abortRequest(vt),this._headersReceivedCapability.resolve()}_onDone(vt){if(vt&&(this._requests.length>0?this._requests.shift().resolve({value:vt.chunk,done:!1}):this._cachedChunks.push(vt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Ft of this._requests)Ft.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(vt){this._storedError=(0,At.createResponseStatusError)(vt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Ft of this._requests)Ft.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(vt){var Ft;(Ft=this.onProgress)==null||Ft.call(this,{loaded:vt.loaded,total:vt.lengthComputable?vt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const vt=new bt.PromiseCapability;return this._requests.push(vt),vt.promise}cancel(vt){this._done=!0,this._headersReceivedCapability.reject(vt);for(const Ft of this._requests)Ft.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Rt{constructor(vt,Ft,Ht){this._manager=vt;const qt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=vt.url,this._requestId=vt.requestRange(Ft,Ht,qt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var vt;(vt=this.onClosed)==null||vt.call(this,this)}_onDone(vt){const Ft=vt.chunk;this._requests.length>0?this._requests.shift().resolve({value:Ft,done:!1}):this._queuedChunk=Ft,this._done=!0;for(const Ht of this._requests)Ht.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(vt){this._storedError=(0,At.createResponseStatusError)(vt,this._url);for(const Ft of this._requests)Ft.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(vt){var Ft;this.isStreamingSupported||(Ft=this.onProgress)==null||Ft.call(this,{loaded:vt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Ft=this._queuedChunk;return this._queuedChunk=null,{value:Ft,done:!1}}if(this._done)return{value:void 0,done:!0};const vt=new bt.PromiseCapability;return this._requests.push(vt),vt.promise}cancel(vt){this._done=!0;for(const Ft of this._requests)Ft.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var bt=xt(1),At=xt(20);const St=/^file:\/\/\/[a-zA-Z]:\//;function Et(Ht){const qt=require$$5,Nt=qt.parse(Ht);return Nt.protocol==="file:"||Nt.host?Nt:/^[a-z]:[/\\]/i.test(Ht)?qt.parse(`file:///${Ht}`):(Nt.host||(Nt.protocol="file:"),Nt)}class Ct{constructor(qt){this.source=qt,this.url=Et(qt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&qt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var qt;return((qt=this._fullRequestReader)==null?void 0:qt._loaded)??0}getFullReader(){return(0,bt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new vt(this):new Rt(this),this._fullRequestReader}getRangeReader(qt,Nt){if(Nt<=this._progressiveDataLength)return null;const $t=this.isFsUrl?new Ft(this,qt,Nt):new ht(this,qt,Nt);return this._rangeRequestReaders.push($t),$t}cancelAllRequests(qt){var Nt;(Nt=this._fullRequestReader)==null||Nt.cancel(qt);for(const $t of this._rangeRequestReaders.slice(0))$t.cancel(qt)}}$.PDFNodeStream=Ct;class Pt{constructor(qt){this._url=qt.url,this._done=!1,this._storedError=null,this.onProgress=null;const Nt=qt.source;this._contentLength=Nt.length,this._loaded=0,this._filename=null,this._disableRange=Nt.disableRange||!1,this._rangeChunkSize=Nt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Nt.disableStream,this._isRangeSupported=!Nt.disableRange,this._readableStream=null,this._readCapability=new bt.PromiseCapability,this._headersCapability=new bt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const qt=this._readableStream.read();return qt===null?(this._readCapability=new bt.PromiseCapability,this.read()):(this._loaded+=qt.length,($t=this.onProgress)==null||$t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(qt).buffer,done:!1})}cancel(qt){if(!this._readableStream){this._error(qt);return}this._readableStream.destroy(qt)}_error(qt){this._storedError=qt,this._readCapability.resolve()}_setReadableStream(qt){this._readableStream=qt,qt.on("readable",()=>{this._readCapability.resolve()}),qt.on("end",()=>{qt.destroy(),this._done=!0,this._readCapability.resolve()}),qt.on("error",Nt=>{this._error(Nt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new bt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class wt{constructor(qt){this._url=qt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new bt.PromiseCapability;const Nt=qt.source;this._isStreamingSupported=!Nt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const qt=this._readableStream.read();return qt===null?(this._readCapability=new bt.PromiseCapability,this.read()):(this._loaded+=qt.length,($t=this.onProgress)==null||$t.call(this,{loaded:this._loaded}),{value:new Uint8Array(qt).buffer,done:!1})}cancel(qt){if(!this._readableStream){this._error(qt);return}this._readableStream.destroy(qt)}_error(qt){this._storedError=qt,this._readCapability.resolve()}_setReadableStream(qt){this._readableStream=qt,qt.on("readable",()=>{this._readCapability.resolve()}),qt.on("end",()=>{qt.destroy(),this._done=!0,this._readCapability.resolve()}),qt.on("error",Nt=>{this._error(Nt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function kt(Ht,qt){return{protocol:Ht.protocol,auth:Ht.auth,host:Ht.hostname,port:Ht.port,path:Ht.path,method:"GET",headers:qt}}class Rt extends Pt{constructor(qt){super(qt);const Nt=$t=>{if($t.statusCode===404){const Kt=new bt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Kt,this._headersCapability.reject(Kt);return}this._headersCapability.resolve(),this._setReadableStream($t);const Mt=Kt=>this._readableStream.headers[Kt.toLowerCase()],{allowRangeRequests:Bt,suggestedLength:_t}=(0,At.validateRangeRequestCapabilities)({getResponseHeader:Mt,isHttp:qt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Bt,this._contentLength=_t||this._contentLength,this._filename=(0,At.extractFilenameFromHeader)(Mt)};if(this._request=null,this._url.protocol==="http:"){const $t=require$$5;this._request=$t.request(kt(this._url,qt.httpHeaders),Nt)}else{const $t=require$$5;this._request=$t.request(kt(this._url,qt.httpHeaders),Nt)}this._request.on("error",$t=>{this._storedError=$t,this._headersCapability.reject($t)}),this._request.end()}}class ht extends wt{constructor(qt,Nt,$t){super(qt),this._httpHeaders={};for(const Bt in qt.httpHeaders){const _t=qt.httpHeaders[Bt];_t!==void 0&&(this._httpHeaders[Bt]=_t)}this._httpHeaders.Range=`bytes=${Nt}-${$t-1}`;const Mt=Bt=>{if(Bt.statusCode===404){const _t=new bt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=_t;return}this._setReadableStream(Bt)};if(this._request=null,this._url.protocol==="http:"){const Bt=require$$5;this._request=Bt.request(kt(this._url,this._httpHeaders),Mt)}else{const Bt=require$$5;this._request=Bt.request(kt(this._url,this._httpHeaders),Mt)}this._request.on("error",Bt=>{this._storedError=Bt}),this._request.end()}}class vt extends Pt{constructor(qt){super(qt);let Nt=decodeURIComponent(this._url.path);St.test(this._url.href)&&(Nt=Nt.replace(/^\//,""));const $t=require$$5;$t.lstat(Nt,(Mt,Bt)=>{if(Mt){Mt.code==="ENOENT"&&(Mt=new bt.MissingPDFException(`Missing PDF "${Nt}".`)),this._storedError=Mt,this._headersCapability.reject(Mt);return}this._contentLength=Bt.size,this._setReadableStream($t.createReadStream(Nt)),this._headersCapability.resolve()})}}class Ft extends wt{constructor(qt,Nt,$t){super(qt);let Mt=decodeURIComponent(this._url.path);St.test(this._url.href)&&(Mt=Mt.replace(/^\//,""));const Bt=require$$5;this._setReadableStream(Bt.createReadStream(Mt,{start:Nt,end:$t-1}))}}},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var bt=xt(6),At=xt(1);const St={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Et="http://www.w3.org/XML/1998/namespace",Ct="http://www.w3.org/1999/xlink",Pt=["butt","round","square"],wt=["miter","round","bevel"],kt=function(Bt,_t="",Kt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Kt)return URL.createObjectURL(new Blob([Bt],{type:_t}));const jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Gt=`data:${_t};base64,`;for(let Qt=0,ln=Bt.length;Qt<ln;Qt+=3){const en=Bt[Qt]&255,gn=Bt[Qt+1]&255,tn=Bt[Qt+2]&255,bn=en>>2,Xt=(en&3)<<4|gn>>4,Yt=Qt+1<ln?(gn&15)<<2|tn>>6:64,un=Qt+2<ln?tn&63:64;Gt+=jt[bn]+jt[Xt]+jt[Yt]+jt[un]}return Gt},Rt=function(){const Bt=new Uint8Array([137,80,78,71,13,10,26,10]),_t=12,Kt=new Int32Array(256);for(let tn=0;tn<256;tn++){let bn=tn;for(let Xt=0;Xt<8;Xt++)bn=bn&1?3988292384^bn>>1&2147483647:bn>>1&2147483647;Kt[tn]=bn}function jt(tn,bn,Xt){let Yt=-1;for(let un=bn;un<Xt;un++){const Ut=(Yt^tn[un])&255,Lt=Kt[Ut];Yt=Yt>>>8^Lt}return Yt^-1}function Gt(tn,bn,Xt,Yt){let un=Yt;const Ut=bn.length;Xt[un]=Ut>>24&255,Xt[un+1]=Ut>>16&255,Xt[un+2]=Ut>>8&255,Xt[un+3]=Ut&255,un+=4,Xt[un]=tn.charCodeAt(0)&255,Xt[un+1]=tn.charCodeAt(1)&255,Xt[un+2]=tn.charCodeAt(2)&255,Xt[un+3]=tn.charCodeAt(3)&255,un+=4,Xt.set(bn,un),un+=bn.length;const Lt=jt(Xt,Yt+4,un);Xt[un]=Lt>>24&255,Xt[un+1]=Lt>>16&255,Xt[un+2]=Lt>>8&255,Xt[un+3]=Lt&255}function Qt(tn,bn,Xt){let Yt=1,un=0;for(let Ut=bn;Ut<Xt;++Ut)Yt=(Yt+(tn[Ut]&255))%65521,un=(un+Yt)%65521;return un<<16|Yt}function ln(tn){if(!At.isNodeJS)return en(tn);try{const bn=parseInt(process.versions.node)>=8?tn:Buffer.from(tn),Xt=require$$5.deflateSync(bn,{level:9});return Xt instanceof Uint8Array?Xt:new Uint8Array(Xt)}catch(bn){(0,At.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+bn)}return en(tn)}function en(tn){let bn=tn.length;const Xt=65535,Yt=Math.ceil(bn/Xt),un=new Uint8Array(2+bn+Yt*5+4);let Ut=0;un[Ut++]=120,un[Ut++]=156;let Lt=0;for(;bn>Xt;)un[Ut++]=0,un[Ut++]=255,un[Ut++]=255,un[Ut++]=0,un[Ut++]=0,un.set(tn.subarray(Lt,Lt+Xt),Ut),Ut+=Xt,Lt+=Xt,bn-=Xt;un[Ut++]=1,un[Ut++]=bn&255,un[Ut++]=bn>>8&255,un[Ut++]=~bn&65535&255,un[Ut++]=(~bn&65535)>>8&255,un.set(tn.subarray(Lt),Ut),Ut+=tn.length-Lt;const Vt=Qt(tn,0,tn.length);return un[Ut++]=Vt>>24&255,un[Ut++]=Vt>>16&255,un[Ut++]=Vt>>8&255,un[Ut++]=Vt&255,un}function gn(tn,bn,Xt,Yt){const un=tn.width,Ut=tn.height;let Lt,Vt,an;const zt=tn.data;switch(bn){case At.ImageKind.GRAYSCALE_1BPP:Vt=0,Lt=1,an=un+7>>3;break;case At.ImageKind.RGB_24BPP:Vt=2,Lt=8,an=un*3;break;case At.ImageKind.RGBA_32BPP:Vt=6,Lt=8,an=un*4;break;default:throw new Error("invalid format")}const Wt=new Uint8Array((1+an)*Ut);let nn=0,dn=0;for(let vn=0;vn<Ut;++vn)Wt[nn++]=0,Wt.set(zt.subarray(dn,dn+an),nn),dn+=an,nn+=an;if(bn===At.ImageKind.GRAYSCALE_1BPP&&Yt){nn=0;for(let vn=0;vn<Ut;vn++){nn++;for(let kn=0;kn<an;kn++)Wt[nn++]^=255}}const on=new Uint8Array([un>>24&255,un>>16&255,un>>8&255,un&255,Ut>>24&255,Ut>>16&255,Ut>>8&255,Ut&255,Lt,Vt,0,0,0]),hn=ln(Wt),sn=Bt.length+_t*3+on.length+hn.length,rn=new Uint8Array(sn);let xn=0;return rn.set(Bt,xn),xn+=Bt.length,Gt("IHDR",on,rn,xn),xn+=_t+on.length,Gt("IDATA",hn,rn,xn),xn+=_t+hn.length,Gt("IEND",new Uint8Array(0),rn,xn),kt(rn,"image/png",Xt)}return function(bn,Xt,Yt){const un=bn.kind===void 0?At.ImageKind.GRAYSCALE_1BPP:bn.kind;return gn(bn,un,Xt,Yt)}}();class ht{constructor(){this.fontSizeScale=1,this.fontWeight=St.fontWeight,this.fontSize=0,this.textMatrix=At.IDENTITY_MATRIX,this.fontMatrix=At.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=At.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=St.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(_t,Kt){this.x=_t,this.y=Kt}}function vt(Bt){let _t=[];const Kt=[];for(const jt of Bt){if(jt.fn==="save"){_t.push({fnId:92,fn:"group",items:[]}),Kt.push(_t),_t=_t.at(-1).items;continue}jt.fn==="restore"?_t=Kt.pop():_t.push(jt)}return _t}function Ft(Bt){if(Number.isInteger(Bt))return Bt.toString();const _t=Bt.toFixed(10);let Kt=_t.length-1;if(_t[Kt]!=="0")return _t;do Kt--;while(_t[Kt]==="0");return _t.substring(0,_t[Kt]==="."?Kt:Kt+1)}function Ht(Bt){if(Bt[4]===0&&Bt[5]===0){if(Bt[1]===0&&Bt[2]===0)return Bt[0]===1&&Bt[3]===1?"":`scale(${Ft(Bt[0])} ${Ft(Bt[3])})`;if(Bt[0]===Bt[3]&&Bt[1]===-Bt[2]){const _t=Math.acos(Bt[0])*180/Math.PI;return`rotate(${Ft(_t)})`}}else if(Bt[0]===1&&Bt[1]===0&&Bt[2]===0&&Bt[3]===1)return`translate(${Ft(Bt[4])} ${Ft(Bt[5])})`;return`matrix(${Ft(Bt[0])} ${Ft(Bt[1])} ${Ft(Bt[2])} ${Ft(Bt[3])} ${Ft(Bt[4])} ${Ft(Bt[5])})`}let qt=0,Nt=0,$t=0;class Mt{constructor(_t,Kt,jt=!1){(0,bt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new bt.DOMSVGFactory,this.current=new ht,this.transformMatrix=At.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=_t,this.objs=Kt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!jt,this._operatorIdMapping=[];for(const Gt in At.OPS)this._operatorIdMapping[At.OPS[Gt]]=Gt}getObject(_t,Kt=null){return typeof _t=="string"?_t.startsWith("g_")?this.commonObjs.get(_t):this.objs.get(_t):Kt}save(){this.transformStack.push(this.transformMatrix);const _t=this.current;this.extraStack.push(_t),this.current=_t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(_t){this.save(),this.executeOpTree(_t),this.restore()}loadDependencies(_t){const Kt=_t.fnArray,jt=_t.argsArray;for(let Gt=0,Qt=Kt.length;Gt<Qt;Gt++)if(Kt[Gt]===At.OPS.dependency)for(const ln of jt[Gt]){const en=ln.startsWith("g_")?this.commonObjs:this.objs,gn=new Promise(tn=>{en.get(ln,tn)});this.current.dependencies.push(gn)}return Promise.all(this.current.dependencies)}transform(_t,Kt,jt,Gt,Qt,ln){const en=[_t,Kt,jt,Gt,Qt,ln];this.transformMatrix=At.Util.transform(this.transformMatrix,en),this.tgrp=null}getSVG(_t,Kt){this.viewport=Kt;const jt=this._initialize(Kt);return this.loadDependencies(_t).then(()=>(this.transformMatrix=At.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(_t)),jt))}convertOpList(_t){const Kt=this._operatorIdMapping,jt=_t.argsArray,Gt=_t.fnArray,Qt=[];for(let ln=0,en=Gt.length;ln<en;ln++){const gn=Gt[ln];Qt.push({fnId:gn,fn:Kt[gn],args:jt[ln]})}return vt(Qt)}executeOpTree(_t){for(const Kt of _t){const jt=Kt.fn,Gt=Kt.fnId,Qt=Kt.args;switch(Gt|0){case At.OPS.beginText:this.beginText();break;case At.OPS.dependency:break;case At.OPS.setLeading:this.setLeading(Qt);break;case At.OPS.setLeadingMoveText:this.setLeadingMoveText(Qt[0],Qt[1]);break;case At.OPS.setFont:this.setFont(Qt);break;case At.OPS.showText:this.showText(Qt[0]);break;case At.OPS.showSpacedText:this.showText(Qt[0]);break;case At.OPS.endText:this.endText();break;case At.OPS.moveText:this.moveText(Qt[0],Qt[1]);break;case At.OPS.setCharSpacing:this.setCharSpacing(Qt[0]);break;case At.OPS.setWordSpacing:this.setWordSpacing(Qt[0]);break;case At.OPS.setHScale:this.setHScale(Qt[0]);break;case At.OPS.setTextMatrix:this.setTextMatrix(Qt[0],Qt[1],Qt[2],Qt[3],Qt[4],Qt[5]);break;case At.OPS.setTextRise:this.setTextRise(Qt[0]);break;case At.OPS.setTextRenderingMode:this.setTextRenderingMode(Qt[0]);break;case At.OPS.setLineWidth:this.setLineWidth(Qt[0]);break;case At.OPS.setLineJoin:this.setLineJoin(Qt[0]);break;case At.OPS.setLineCap:this.setLineCap(Qt[0]);break;case At.OPS.setMiterLimit:this.setMiterLimit(Qt[0]);break;case At.OPS.setFillRGBColor:this.setFillRGBColor(Qt[0],Qt[1],Qt[2]);break;case At.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Qt[0],Qt[1],Qt[2]);break;case At.OPS.setStrokeColorN:this.setStrokeColorN(Qt);break;case At.OPS.setFillColorN:this.setFillColorN(Qt);break;case At.OPS.shadingFill:this.shadingFill(Qt[0]);break;case At.OPS.setDash:this.setDash(Qt[0],Qt[1]);break;case At.OPS.setRenderingIntent:this.setRenderingIntent(Qt[0]);break;case At.OPS.setFlatness:this.setFlatness(Qt[0]);break;case At.OPS.setGState:this.setGState(Qt[0]);break;case At.OPS.fill:this.fill();break;case At.OPS.eoFill:this.eoFill();break;case At.OPS.stroke:this.stroke();break;case At.OPS.fillStroke:this.fillStroke();break;case At.OPS.eoFillStroke:this.eoFillStroke();break;case At.OPS.clip:this.clip("nonzero");break;case At.OPS.eoClip:this.clip("evenodd");break;case At.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case At.OPS.paintImageXObject:this.paintImageXObject(Qt[0]);break;case At.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Qt[0]);break;case At.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Qt[0]);break;case At.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Qt[0],Qt[1]);break;case At.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case At.OPS.closePath:this.closePath();break;case At.OPS.closeStroke:this.closeStroke();break;case At.OPS.closeFillStroke:this.closeFillStroke();break;case At.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case At.OPS.nextLine:this.nextLine();break;case At.OPS.transform:this.transform(Qt[0],Qt[1],Qt[2],Qt[3],Qt[4],Qt[5]);break;case At.OPS.constructPath:this.constructPath(Qt[0],Qt[1]);break;case At.OPS.endPath:this.endPath();break;case 92:this.group(Kt.items);break;default:(0,At.warn)(`Unimplemented operator ${jt}`);break}}}setWordSpacing(_t){this.current.wordSpacing=_t}setCharSpacing(_t){this.current.charSpacing=_t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(_t,Kt,jt,Gt,Qt,ln){const en=this.current;en.textMatrix=en.lineMatrix=[_t,Kt,jt,Gt,Qt,ln],en.textMatrixScale=Math.hypot(_t,Kt),en.x=en.lineX=0,en.y=en.lineY=0,en.xcoords=[],en.ycoords=[],en.tspan=this.svgFactory.createElement("svg:tspan"),en.tspan.setAttributeNS(null,"font-family",en.fontFamily),en.tspan.setAttributeNS(null,"font-size",`${Ft(en.fontSize)}px`),en.tspan.setAttributeNS(null,"y",Ft(-en.y)),en.txtElement=this.svgFactory.createElement("svg:text"),en.txtElement.append(en.tspan)}beginText(){const _t=this.current;_t.x=_t.lineX=0,_t.y=_t.lineY=0,_t.textMatrix=At.IDENTITY_MATRIX,_t.lineMatrix=At.IDENTITY_MATRIX,_t.textMatrixScale=1,_t.tspan=this.svgFactory.createElement("svg:tspan"),_t.txtElement=this.svgFactory.createElement("svg:text"),_t.txtgrp=this.svgFactory.createElement("svg:g"),_t.xcoords=[],_t.ycoords=[]}moveText(_t,Kt){const jt=this.current;jt.x=jt.lineX+=_t,jt.y=jt.lineY+=Kt,jt.xcoords=[],jt.ycoords=[],jt.tspan=this.svgFactory.createElement("svg:tspan"),jt.tspan.setAttributeNS(null,"font-family",jt.fontFamily),jt.tspan.setAttributeNS(null,"font-size",`${Ft(jt.fontSize)}px`),jt.tspan.setAttributeNS(null,"y",Ft(-jt.y))}showText(_t){const Kt=this.current,jt=Kt.font,Gt=Kt.fontSize;if(Gt===0)return;const Qt=Kt.fontSizeScale,ln=Kt.charSpacing,en=Kt.wordSpacing,gn=Kt.fontDirection,tn=Kt.textHScale*gn,bn=jt.vertical,Xt=bn?1:-1,Yt=jt.defaultVMetrics,un=Gt*Kt.fontMatrix[0];let Ut=0;for(const an of _t){if(an===null){Ut+=gn*en;continue}else if(typeof an=="number"){Ut+=Xt*an*Gt/1e3;continue}const zt=(an.isSpace?en:0)+ln,Wt=an.fontChar;let nn,dn,on=an.width;if(bn){let sn;const rn=an.vmetric||Yt;sn=an.vmetric?rn[1]:on*.5,sn=-sn*un;const xn=rn[2]*un;on=rn?-rn[0]:on,nn=sn/Qt,dn=(Ut+xn)/Qt}else nn=Ut/Qt,dn=0;(an.isInFont||jt.missingFile)&&(Kt.xcoords.push(Kt.x+nn),bn&&Kt.ycoords.push(-Kt.y+dn),Kt.tspan.textContent+=Wt);const hn=bn?on*un-zt*gn:on*un+zt*gn;Ut+=hn}Kt.tspan.setAttributeNS(null,"x",Kt.xcoords.map(Ft).join(" ")),bn?Kt.tspan.setAttributeNS(null,"y",Kt.ycoords.map(Ft).join(" ")):Kt.tspan.setAttributeNS(null,"y",Ft(-Kt.y)),bn?Kt.y-=Ut:Kt.x+=Ut*tn,Kt.tspan.setAttributeNS(null,"font-family",Kt.fontFamily),Kt.tspan.setAttributeNS(null,"font-size",`${Ft(Kt.fontSize)}px`),Kt.fontStyle!==St.fontStyle&&Kt.tspan.setAttributeNS(null,"font-style",Kt.fontStyle),Kt.fontWeight!==St.fontWeight&&Kt.tspan.setAttributeNS(null,"font-weight",Kt.fontWeight);const Lt=Kt.textRenderingMode&At.TextRenderingMode.FILL_STROKE_MASK;if(Lt===At.TextRenderingMode.FILL||Lt===At.TextRenderingMode.FILL_STROKE?(Kt.fillColor!==St.fillColor&&Kt.tspan.setAttributeNS(null,"fill",Kt.fillColor),Kt.fillAlpha<1&&Kt.tspan.setAttributeNS(null,"fill-opacity",Kt.fillAlpha)):Kt.textRenderingMode===At.TextRenderingMode.ADD_TO_PATH?Kt.tspan.setAttributeNS(null,"fill","transparent"):Kt.tspan.setAttributeNS(null,"fill","none"),Lt===At.TextRenderingMode.STROKE||Lt===At.TextRenderingMode.FILL_STROKE){const an=1/(Kt.textMatrixScale||1);this._setStrokeAttributes(Kt.tspan,an)}let Vt=Kt.textMatrix;Kt.textRise!==0&&(Vt=Vt.slice(),Vt[5]+=Kt.textRise),Kt.txtElement.setAttributeNS(null,"transform",`${Ht(Vt)} scale(${Ft(tn)}, -1)`),Kt.txtElement.setAttributeNS(Et,"xml:space","preserve"),Kt.txtElement.append(Kt.tspan),Kt.txtgrp.append(Kt.txtElement),this._ensureTransformGroup().append(Kt.txtElement)}setLeadingMoveText(_t,Kt){this.setLeading(-Kt),this.moveText(_t,Kt)}addFontStyle(_t){if(!_t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Kt=kt(_t.data,_t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${_t.loadedName}"; src: url(${Kt}); }
`}setFont(_t){const Kt=this.current,jt=this.commonObjs.get(_t[0]);let Gt=_t[1];Kt.font=jt,this.embedFonts&&!jt.missingFile&&!this.embeddedFonts[jt.loadedName]&&(this.addFontStyle(jt),this.embeddedFonts[jt.loadedName]=jt),Kt.fontMatrix=jt.fontMatrix||At.FONT_IDENTITY_MATRIX;let Qt="normal";jt.black?Qt="900":jt.bold&&(Qt="bold");const ln=jt.italic?"italic":"normal";Gt<0?(Gt=-Gt,Kt.fontDirection=-1):Kt.fontDirection=1,Kt.fontSize=Gt,Kt.fontFamily=jt.loadedName,Kt.fontWeight=Qt,Kt.fontStyle=ln,Kt.tspan=this.svgFactory.createElement("svg:tspan"),Kt.tspan.setAttributeNS(null,"y",Ft(-Kt.y)),Kt.xcoords=[],Kt.ycoords=[]}endText(){var Kt;const _t=this.current;_t.textRenderingMode&At.TextRenderingMode.ADD_TO_PATH_FLAG&&((Kt=_t.txtElement)!=null&&Kt.hasChildNodes())&&(_t.element=_t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(_t){_t>0&&(this.current.lineWidth=_t)}setLineCap(_t){this.current.lineCap=Pt[_t]}setLineJoin(_t){this.current.lineJoin=wt[_t]}setMiterLimit(_t){this.current.miterLimit=_t}setStrokeAlpha(_t){this.current.strokeAlpha=_t}setStrokeRGBColor(_t,Kt,jt){this.current.strokeColor=At.Util.makeHexColor(_t,Kt,jt)}setFillAlpha(_t){this.current.fillAlpha=_t}setFillRGBColor(_t,Kt,jt){this.current.fillColor=At.Util.makeHexColor(_t,Kt,jt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(_t){this.current.strokeColor=this._makeColorN_Pattern(_t)}setFillColorN(_t){this.current.fillColor=this._makeColorN_Pattern(_t)}shadingFill(_t){const{width:Kt,height:jt}=this.viewport,Gt=At.Util.inverseTransform(this.transformMatrix),[Qt,ln,en,gn]=At.Util.getAxialAlignedBoundingBox([0,0,Kt,jt],Gt),tn=this.svgFactory.createElement("svg:rect");tn.setAttributeNS(null,"x",Qt),tn.setAttributeNS(null,"y",ln),tn.setAttributeNS(null,"width",en-Qt),tn.setAttributeNS(null,"height",gn-ln),tn.setAttributeNS(null,"fill",this._makeShadingPattern(_t)),this.current.fillAlpha<1&&tn.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(tn)}_makeColorN_Pattern(_t){return _t[0]==="TilingPattern"?this._makeTilingPattern(_t):this._makeShadingPattern(_t)}_makeTilingPattern(_t){const Kt=_t[1],jt=_t[2],Gt=_t[3]||At.IDENTITY_MATRIX,[Qt,ln,en,gn]=_t[4],tn=_t[5],bn=_t[6],Xt=_t[7],Yt=`shading${$t++}`,[un,Ut,Lt,Vt]=At.Util.normalizeRect([...At.Util.applyTransform([Qt,ln],Gt),...At.Util.applyTransform([en,gn],Gt)]),[an,zt]=At.Util.singularValueDecompose2dScale(Gt),Wt=tn*an,nn=bn*zt,dn=this.svgFactory.createElement("svg:pattern");dn.setAttributeNS(null,"id",Yt),dn.setAttributeNS(null,"patternUnits","userSpaceOnUse"),dn.setAttributeNS(null,"width",Wt),dn.setAttributeNS(null,"height",nn),dn.setAttributeNS(null,"x",`${un}`),dn.setAttributeNS(null,"y",`${Ut}`);const on=this.svg,hn=this.transformMatrix,sn=this.current.fillColor,rn=this.current.strokeColor,xn=this.svgFactory.create(Lt-un,Vt-Ut);if(this.svg=xn,this.transformMatrix=Gt,Xt===2){const vn=At.Util.makeHexColor(...Kt);this.current.fillColor=vn,this.current.strokeColor=vn}return this.executeOpTree(this.convertOpList(jt)),this.svg=on,this.transformMatrix=hn,this.current.fillColor=sn,this.current.strokeColor=rn,dn.append(xn.childNodes[0]),this.defs.append(dn),`url(#${Yt})`}_makeShadingPattern(_t){switch(typeof _t=="string"&&(_t=this.objs.get(_t)),_t[0]){case"RadialAxial":const Kt=`shading${$t++}`,jt=_t[3];let Gt;switch(_t[1]){case"axial":const Qt=_t[4],ln=_t[5];Gt=this.svgFactory.createElement("svg:linearGradient"),Gt.setAttributeNS(null,"id",Kt),Gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Gt.setAttributeNS(null,"x1",Qt[0]),Gt.setAttributeNS(null,"y1",Qt[1]),Gt.setAttributeNS(null,"x2",ln[0]),Gt.setAttributeNS(null,"y2",ln[1]);break;case"radial":const en=_t[4],gn=_t[5],tn=_t[6],bn=_t[7];Gt=this.svgFactory.createElement("svg:radialGradient"),Gt.setAttributeNS(null,"id",Kt),Gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Gt.setAttributeNS(null,"cx",gn[0]),Gt.setAttributeNS(null,"cy",gn[1]),Gt.setAttributeNS(null,"r",bn),Gt.setAttributeNS(null,"fx",en[0]),Gt.setAttributeNS(null,"fy",en[1]),Gt.setAttributeNS(null,"fr",tn);break;default:throw new Error(`Unknown RadialAxial type: ${_t[1]}`)}for(const Qt of jt){const ln=this.svgFactory.createElement("svg:stop");ln.setAttributeNS(null,"offset",Qt[0]),ln.setAttributeNS(null,"stop-color",Qt[1]),Gt.append(ln)}return this.defs.append(Gt),`url(#${Kt})`;case"Mesh":return(0,At.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${_t[0]}`)}}setDash(_t,Kt){this.current.dashArray=_t,this.current.dashPhase=Kt}constructPath(_t,Kt){const jt=this.current;let Gt=jt.x,Qt=jt.y,ln=[],en=0;for(const gn of _t)switch(gn|0){case At.OPS.rectangle:Gt=Kt[en++],Qt=Kt[en++];const tn=Kt[en++],bn=Kt[en++],Xt=Gt+tn,Yt=Qt+bn;ln.push("M",Ft(Gt),Ft(Qt),"L",Ft(Xt),Ft(Qt),"L",Ft(Xt),Ft(Yt),"L",Ft(Gt),Ft(Yt),"Z");break;case At.OPS.moveTo:Gt=Kt[en++],Qt=Kt[en++],ln.push("M",Ft(Gt),Ft(Qt));break;case At.OPS.lineTo:Gt=Kt[en++],Qt=Kt[en++],ln.push("L",Ft(Gt),Ft(Qt));break;case At.OPS.curveTo:Gt=Kt[en+4],Qt=Kt[en+5],ln.push("C",Ft(Kt[en]),Ft(Kt[en+1]),Ft(Kt[en+2]),Ft(Kt[en+3]),Ft(Gt),Ft(Qt)),en+=6;break;case At.OPS.curveTo2:ln.push("C",Ft(Gt),Ft(Qt),Ft(Kt[en]),Ft(Kt[en+1]),Ft(Kt[en+2]),Ft(Kt[en+3])),Gt=Kt[en+2],Qt=Kt[en+3],en+=4;break;case At.OPS.curveTo3:Gt=Kt[en+2],Qt=Kt[en+3],ln.push("C",Ft(Kt[en]),Ft(Kt[en+1]),Ft(Gt),Ft(Qt),Ft(Gt),Ft(Qt)),en+=4;break;case At.OPS.closePath:ln.push("Z");break}ln=ln.join(" "),jt.path&&_t.length>0&&_t[0]!==At.OPS.rectangle&&_t[0]!==At.OPS.moveTo?ln=jt.path.getAttributeNS(null,"d")+ln:(jt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(jt.path)),jt.path.setAttributeNS(null,"d",ln),jt.path.setAttributeNS(null,"fill","none"),jt.element=jt.path,jt.setCurrentPoint(Gt,Qt)}endPath(){const _t=this.current;if(_t.path=null,!this.pendingClip)return;if(!_t.element){this.pendingClip=null;return}const Kt=`clippath${qt++}`,jt=this.svgFactory.createElement("svg:clipPath");jt.setAttributeNS(null,"id",Kt),jt.setAttributeNS(null,"transform",Ht(this.transformMatrix));const Gt=_t.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Gt.setAttributeNS(null,"clip-rule","evenodd"):Gt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,jt.append(Gt),this.defs.append(jt),_t.activeClipUrl){_t.clipGroup=null;for(const Qt of this.extraStack)Qt.clipGroup=null;jt.setAttributeNS(null,"clip-path",_t.activeClipUrl)}_t.activeClipUrl=`url(#${Kt})`,this.tgrp=null}clip(_t){this.pendingClip=_t}closePath(){const _t=this.current;if(_t.path){const Kt=`${_t.path.getAttributeNS(null,"d")}Z`;_t.path.setAttributeNS(null,"d",Kt)}}setLeading(_t){this.current.leading=-_t}setTextRise(_t){this.current.textRise=_t}setTextRenderingMode(_t){this.current.textRenderingMode=_t}setHScale(_t){this.current.textHScale=_t/100}setRenderingIntent(_t){}setFlatness(_t){}setGState(_t){for(const[Kt,jt]of _t)switch(Kt){case"LW":this.setLineWidth(jt);break;case"LC":this.setLineCap(jt);break;case"LJ":this.setLineJoin(jt);break;case"ML":this.setMiterLimit(jt);break;case"D":this.setDash(jt[0],jt[1]);break;case"RI":this.setRenderingIntent(jt);break;case"FL":this.setFlatness(jt);break;case"Font":this.setFont(jt);break;case"CA":this.setStrokeAlpha(jt);break;case"ca":this.setFillAlpha(jt);break;default:(0,At.warn)(`Unimplemented graphic state operator ${Kt}`);break}}fill(){const _t=this.current;_t.element&&(_t.element.setAttributeNS(null,"fill",_t.fillColor),_t.element.setAttributeNS(null,"fill-opacity",_t.fillAlpha),this.endPath())}stroke(){const _t=this.current;_t.element&&(this._setStrokeAttributes(_t.element),_t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(_t,Kt=1){const jt=this.current;let Gt=jt.dashArray;Kt!==1&&Gt.length>0&&(Gt=Gt.map(function(Qt){return Kt*Qt})),_t.setAttributeNS(null,"stroke",jt.strokeColor),_t.setAttributeNS(null,"stroke-opacity",jt.strokeAlpha),_t.setAttributeNS(null,"stroke-miterlimit",Ft(jt.miterLimit)),_t.setAttributeNS(null,"stroke-linecap",jt.lineCap),_t.setAttributeNS(null,"stroke-linejoin",jt.lineJoin),_t.setAttributeNS(null,"stroke-width",Ft(Kt*jt.lineWidth)+"px"),_t.setAttributeNS(null,"stroke-dasharray",Gt.map(Ft).join(" ")),_t.setAttributeNS(null,"stroke-dashoffset",Ft(Kt*jt.dashPhase)+"px")}eoFill(){var _t;(_t=this.current.element)==null||_t.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var _t;(_t=this.current.element)==null||_t.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const _t=this.svgFactory.createElement("svg:rect");_t.setAttributeNS(null,"x","0"),_t.setAttributeNS(null,"y","0"),_t.setAttributeNS(null,"width","1px"),_t.setAttributeNS(null,"height","1px"),_t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(_t)}paintImageXObject(_t){const Kt=this.getObject(_t);if(!Kt){(0,At.warn)(`Dependent image with object ID ${_t} is not ready yet`);return}this.paintInlineImageXObject(Kt)}paintInlineImageXObject(_t,Kt){const jt=_t.width,Gt=_t.height,Qt=Rt(_t,this.forceDataSchema,!!Kt),ln=this.svgFactory.createElement("svg:rect");ln.setAttributeNS(null,"x","0"),ln.setAttributeNS(null,"y","0"),ln.setAttributeNS(null,"width",Ft(jt)),ln.setAttributeNS(null,"height",Ft(Gt)),this.current.element=ln,this.clip("nonzero");const en=this.svgFactory.createElement("svg:image");en.setAttributeNS(Ct,"xlink:href",Qt),en.setAttributeNS(null,"x","0"),en.setAttributeNS(null,"y",Ft(-Gt)),en.setAttributeNS(null,"width",Ft(jt)+"px"),en.setAttributeNS(null,"height",Ft(Gt)+"px"),en.setAttributeNS(null,"transform",`scale(${Ft(1/jt)} ${Ft(-1/Gt)})`),Kt?Kt.append(en):this._ensureTransformGroup().append(en)}paintImageMaskXObject(_t){const Kt=this.getObject(_t.data,_t);if(Kt.bitmap){(0,At.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const jt=this.current,Gt=Kt.width,Qt=Kt.height,ln=jt.fillColor;jt.maskId=`mask${Nt++}`;const en=this.svgFactory.createElement("svg:mask");en.setAttributeNS(null,"id",jt.maskId);const gn=this.svgFactory.createElement("svg:rect");gn.setAttributeNS(null,"x","0"),gn.setAttributeNS(null,"y","0"),gn.setAttributeNS(null,"width",Ft(Gt)),gn.setAttributeNS(null,"height",Ft(Qt)),gn.setAttributeNS(null,"fill",ln),gn.setAttributeNS(null,"mask",`url(#${jt.maskId})`),this.defs.append(en),this._ensureTransformGroup().append(gn),this.paintInlineImageXObject(Kt,en)}paintFormXObjectBegin(_t,Kt){if(Array.isArray(_t)&&_t.length===6&&this.transform(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5]),Kt){const jt=Kt[2]-Kt[0],Gt=Kt[3]-Kt[1],Qt=this.svgFactory.createElement("svg:rect");Qt.setAttributeNS(null,"x",Kt[0]),Qt.setAttributeNS(null,"y",Kt[1]),Qt.setAttributeNS(null,"width",Ft(jt)),Qt.setAttributeNS(null,"height",Ft(Gt)),this.current.element=Qt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(_t){const Kt=this.svgFactory.create(_t.width,_t.height),jt=this.svgFactory.createElement("svg:defs");Kt.append(jt),this.defs=jt;const Gt=this.svgFactory.createElement("svg:g");return Gt.setAttributeNS(null,"transform",Ht(_t.transform)),Kt.append(Gt),this.svg=Gt,Kt}_ensureClipGroup(){if(!this.current.clipGroup){const _t=this.svgFactory.createElement("svg:g");_t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(_t),this.current.clipGroup=_t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Ht(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=Mt},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class xt{static textContent(At){const St=[],Et={items:St,styles:Object.create(null)};function Ct(Pt){var Rt;if(!Pt)return;let wt=null;const kt=Pt.name;if(kt==="#text")wt=Pt.value;else if(xt.shouldBuildText(kt))(Rt=Pt==null?void 0:Pt.attributes)!=null&&Rt.textContent?wt=Pt.attributes.textContent:Pt.value&&(wt=Pt.value);else return;if(wt!==null&&St.push({str:wt}),!!Pt.children)for(const ht of Pt.children)Ct(ht)}return Ct(At),Et}static shouldBuildText(At){return!(At==="textarea"||At==="input"||At==="option"||At==="select")}}$.XfaText=xt},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=Ht,$.updateTextLayer=qt;var bt=xt(1),At=xt(6);const St=1e5,Et=30,Ct=.8,Pt=new Map;function wt(Nt,$t){let Mt;if($t&&bt.FeatureTest.isOffscreenCanvasSupported)Mt=new OffscreenCanvas(Nt,Nt).getContext("2d",{alpha:!1});else{const Bt=document.createElement("canvas");Bt.width=Bt.height=Nt,Mt=Bt.getContext("2d",{alpha:!1})}return Mt}function kt(Nt,$t){const Mt=Pt.get(Nt);if(Mt)return Mt;const Bt=wt(Et,$t);Bt.font=`${Et}px ${Nt}`;const _t=Bt.measureText("");let Kt=_t.fontBoundingBoxAscent,jt=Math.abs(_t.fontBoundingBoxDescent);if(Kt){const Qt=Kt/(Kt+jt);return Pt.set(Nt,Qt),Bt.canvas.width=Bt.canvas.height=0,Qt}Bt.strokeStyle="red",Bt.clearRect(0,0,Et,Et),Bt.strokeText("g",0,0);let Gt=Bt.getImageData(0,0,Et,Et).data;jt=0;for(let Qt=Gt.length-1-3;Qt>=0;Qt-=4)if(Gt[Qt]>0){jt=Math.ceil(Qt/4/Et);break}Bt.clearRect(0,0,Et,Et),Bt.strokeText("A",0,Et),Gt=Bt.getImageData(0,0,Et,Et).data,Kt=0;for(let Qt=0,ln=Gt.length;Qt<ln;Qt+=4)if(Gt[Qt]>0){Kt=Et-Math.floor(Qt/4/Et);break}if(Bt.canvas.width=Bt.canvas.height=0,Kt){const Qt=Kt/(Kt+jt);return Pt.set(Nt,Qt),Qt}return Pt.set(Nt,Ct),Ct}function Rt(Nt,$t,Mt){const Bt=document.createElement("span"),_t={angle:0,canvasWidth:0,hasText:$t.str!=="",hasEOL:$t.hasEOL,fontSize:0};Nt._textDivs.push(Bt);const Kt=bt.Util.transform(Nt._transform,$t.transform);let jt=Math.atan2(Kt[1],Kt[0]);const Gt=Mt[$t.fontName];Gt.vertical&&(jt+=Math.PI/2);const Qt=Math.hypot(Kt[2],Kt[3]),ln=Qt*kt(Gt.fontFamily,Nt._isOffscreenCanvasSupported);let en,gn;jt===0?(en=Kt[4],gn=Kt[5]-ln):(en=Kt[4]+ln*Math.sin(jt),gn=Kt[5]-ln*Math.cos(jt));const tn="calc(var(--scale-factor)*",bn=Bt.style;Nt._container===Nt._rootContainer?(bn.left=`${(100*en/Nt._pageWidth).toFixed(2)}%`,bn.top=`${(100*gn/Nt._pageHeight).toFixed(2)}%`):(bn.left=`${tn}${en.toFixed(2)}px)`,bn.top=`${tn}${gn.toFixed(2)}px)`),bn.fontSize=`${tn}${Qt.toFixed(2)}px)`,bn.fontFamily=Gt.fontFamily,_t.fontSize=Qt,Bt.setAttribute("role","presentation"),Bt.textContent=$t.str,Bt.dir=$t.dir,Nt._fontInspectorEnabled&&(Bt.dataset.fontName=$t.fontName),jt!==0&&(_t.angle=jt*(180/Math.PI));let Xt=!1;if($t.str.length>1)Xt=!0;else if($t.str!==" "&&$t.transform[0]!==$t.transform[3]){const Yt=Math.abs($t.transform[0]),un=Math.abs($t.transform[3]);Yt!==un&&Math.max(Yt,un)/Math.min(Yt,un)>1.5&&(Xt=!0)}Xt&&(_t.canvasWidth=Gt.vertical?$t.height:$t.width),Nt._textDivProperties.set(Bt,_t),Nt._isReadableStream&&Nt._layoutText(Bt)}function ht(Nt){const{div:$t,scale:Mt,properties:Bt,ctx:_t,prevFontSize:Kt,prevFontFamily:jt}=Nt,{style:Gt}=$t;let Qt="";if(Bt.canvasWidth!==0&&Bt.hasText){const{fontFamily:ln}=Gt,{canvasWidth:en,fontSize:gn}=Bt;(Kt!==gn||jt!==ln)&&(_t.font=`${gn*Mt}px ${ln}`,Nt.prevFontSize=gn,Nt.prevFontFamily=ln);const{width:tn}=_t.measureText($t.textContent);tn>0&&(Qt=`scaleX(${en*Mt/tn})`)}Bt.angle!==0&&(Qt=`rotate(${Bt.angle}deg) ${Qt}`),Qt.length>0&&(Gt.transform=Qt)}function vt(Nt){if(Nt._canceled)return;const $t=Nt._textDivs,Mt=Nt._capability;if($t.length>St){Mt.resolve();return}if(!Nt._isReadableStream)for(const _t of $t)Nt._layoutText(_t);Mt.resolve()}class Ft{constructor({textContentSource:$t,container:Mt,viewport:Bt,textDivs:_t,textDivProperties:Kt,textContentItemsStr:jt,isOffscreenCanvasSupported:Gt}){var tn;this._textContentSource=$t,this._isReadableStream=$t instanceof ReadableStream,this._container=this._rootContainer=Mt,this._textDivs=_t||[],this._textContentItemsStr=jt||[],this._isOffscreenCanvasSupported=Gt,this._fontInspectorEnabled=!!((tn=globalThis.FontInspector)!=null&&tn.enabled),this._reader=null,this._textDivProperties=Kt||new WeakMap,this._canceled=!1,this._capability=new bt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Bt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:wt(0,Gt)};const{pageWidth:Qt,pageHeight:ln,pageX:en,pageY:gn}=Bt.rawDims;this._transform=[1,0,0,-1,-en,gn+ln],this._pageWidth=Qt,this._pageHeight=ln,(0,At.setLayerDimensions)(Mt,Bt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new bt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new bt.AbortException("TextLayer task cancelled."))}_processItems($t,Mt){for(const Bt of $t){if(Bt.str===void 0){if(Bt.type==="beginMarkedContentProps"||Bt.type==="beginMarkedContent"){const _t=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Bt.id!==null&&this._container.setAttribute("id",`${Bt.id}`),_t.append(this._container)}else Bt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Bt.str),Rt(this,Bt,Mt)}}_layoutText($t){const Mt=this._layoutTextParams.properties=this._textDivProperties.get($t);if(this._layoutTextParams.div=$t,ht(this._layoutTextParams),Mt.hasText&&this._container.append($t),Mt.hasEOL){const Bt=document.createElement("br");Bt.setAttribute("role","presentation"),this._container.append(Bt)}}_render(){const $t=new bt.PromiseCapability;let Mt=Object.create(null);if(this._isReadableStream){const Bt=()=>{this._reader.read().then(({value:_t,done:Kt})=>{if(Kt){$t.resolve();return}Object.assign(Mt,_t.styles),this._processItems(_t.items,Mt),Bt()},$t.reject)};this._reader=this._textContentSource.getReader(),Bt()}else if(this._textContentSource){const{items:Bt,styles:_t}=this._textContentSource;this._processItems(Bt,_t),$t.resolve()}else throw new Error('No "textContentSource" parameter specified.');$t.promise.then(()=>{Mt=null,vt(this)},this._capability.reject)}}$.TextLayerRenderTask=Ft;function Ht(Nt){!Nt.textContentSource&&(Nt.textContent||Nt.textContentStream)&&((0,At.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Nt.textContentSource=Nt.textContent||Nt.textContentStream);const{container:$t,viewport:Mt}=Nt,Bt=getComputedStyle($t),_t=Bt.getPropertyValue("visibility"),Kt=parseFloat(Bt.getPropertyValue("--scale-factor"));_t==="visible"&&(!Kt||Math.abs(Kt-Mt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const jt=new Ft(Nt);return jt._render(),jt}function qt({container:Nt,viewport:$t,textDivs:Mt,textDivProperties:Bt,isOffscreenCanvasSupported:_t,mustRotate:Kt=!0,mustRescale:jt=!0}){if(Kt&&(0,At.setLayerDimensions)(Nt,{rotation:$t.rotation}),jt){const Gt=wt(0,_t),ln={prevFontSize:null,prevFontFamily:null,div:null,scale:$t.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Gt};for(const en of Mt)ln.properties=Bt.get(en),ln.div=en,ht(ln)}}},(_e,$,xt)=>{var kt,Rt,ht,vt,Ft,Ht,qt,Nt,$t,Mt,Bt,_9,_2,F9,R9;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var bt=xt(1),At=xt(4),St=xt(28),Et=xt(33),Ct=xt(6),Pt=xt(34);const Qt=class Qt{constructor({uiManager:en,pageIndex:gn,div:tn,accessibilityManager:bn,annotationLayer:Xt,viewport:Yt,l10n:un}){Nn(this,Bt);Nn(this,kt);Nn(this,Rt,!1);Nn(this,ht,null);Nn(this,vt,this.pointerup.bind(this));Nn(this,Ft,this.pointerdown.bind(this));Nn(this,Ht,new Map);Nn(this,qt,!1);Nn(this,Nt,!1);Nn(this,$t,!1);Nn(this,Mt);const Ut=[St.FreeTextEditor,Et.InkEditor,Pt.StampEditor];if(!Qt._initialized){Qt._initialized=!0;for(const Lt of Ut)Lt.initialize(un)}en.registerEditorTypes(Ut),$n(this,Mt,en),this.pageIndex=gn,this.div=tn,$n(this,kt,bn),$n(this,ht,Xt),this.viewport=Yt,Ot(this,Mt).addLayer(this)}get isEmpty(){return Ot(this,Ht).size===0}updateToolbar(en){Ot(this,Mt).updateToolbar(en)}updateMode(en=Ot(this,Mt).getMode()){In(this,Bt,R9).call(this),en===bt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),en!==bt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",en===bt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",en===bt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",en===bt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(en){if(!en&&Ot(this,Mt).getMode()!==bt.AnnotationEditorType.INK)return;if(!en){for(const tn of Ot(this,Ht).values())if(tn.isEmpty()){tn.setInBackground();return}}In(this,Bt,_2).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(en){Ot(this,Mt).setEditingState(en)}addCommands(en){Ot(this,Mt).addCommands(en)}enable(){this.div.style.pointerEvents="auto";const en=new Set;for(const tn of Ot(this,Ht).values())tn.enableEditing(),tn.annotationElementId&&en.add(tn.annotationElementId);if(!Ot(this,ht))return;const gn=Ot(this,ht).getEditableAnnotations();for(const tn of gn){if(tn.hide(),Ot(this,Mt).isDeletedAnnotationElement(tn.data.id)||en.has(tn.data.id))continue;const bn=this.deserialize(tn);bn&&(this.addOrRebuild(bn),bn.enableEditing())}}disable(){var gn;$n(this,$t,!0),this.div.style.pointerEvents="none";const en=new Set;for(const tn of Ot(this,Ht).values()){if(tn.disableEditing(),!tn.annotationElementId||tn.serialize()!==null){en.add(tn.annotationElementId);continue}(gn=this.getEditableAnnotation(tn.annotationElementId))==null||gn.show(),tn.remove()}if(Ot(this,ht)){const tn=Ot(this,ht).getEditableAnnotations();for(const bn of tn){const{id:Xt}=bn.data;en.has(Xt)||Ot(this,Mt).isDeletedAnnotationElement(Xt)||bn.show()}}In(this,Bt,R9).call(this),this.isEmpty&&(this.div.hidden=!0),$n(this,$t,!1)}getEditableAnnotation(en){var gn;return((gn=Ot(this,ht))==null?void 0:gn.getEditableAnnotation(en))||null}setActiveEditor(en){Ot(this,Mt).getActive()!==en&&Ot(this,Mt).setActiveEditor(en)}enableClick(){this.div.addEventListener("pointerdown",Ot(this,Ft)),this.div.addEventListener("pointerup",Ot(this,vt))}disableClick(){this.div.removeEventListener("pointerdown",Ot(this,Ft)),this.div.removeEventListener("pointerup",Ot(this,vt))}attach(en){Ot(this,Ht).set(en.id,en);const{annotationElementId:gn}=en;gn&&Ot(this,Mt).isDeletedAnnotationElement(gn)&&Ot(this,Mt).removeDeletedAnnotationElement(en)}detach(en){var gn;Ot(this,Ht).delete(en.id),(gn=Ot(this,kt))==null||gn.removePointerInTextLayer(en.contentDiv),!Ot(this,$t)&&en.annotationElementId&&Ot(this,Mt).addDeletedAnnotationElement(en)}remove(en){this.detach(en),Ot(this,Mt).removeEditor(en),en.div.contains(document.activeElement)&&setTimeout(()=>{Ot(this,Mt).focusMainContainer()},0),en.div.remove(),en.isAttachedToDOM=!1,Ot(this,Nt)||this.addInkEditorIfNeeded(!1)}changeParent(en){var gn;en.parent!==this&&(en.annotationElementId&&(Ot(this,Mt).addDeletedAnnotationElement(en.annotationElementId),At.AnnotationEditor.deleteAnnotationElement(en),en.annotationElementId=null),this.attach(en),(gn=en.parent)==null||gn.detach(en),en.setParent(this),en.div&&en.isAttachedToDOM&&(en.div.remove(),this.div.append(en.div)))}add(en){if(this.changeParent(en),Ot(this,Mt).addEditor(en),this.attach(en),!en.isAttachedToDOM){const gn=en.render();this.div.append(gn),en.isAttachedToDOM=!0}en.fixAndSetPosition(),en.onceAdded(),Ot(this,Mt).addToAnnotationStorage(en)}moveEditorInDOM(en){var tn;if(!en.isAttachedToDOM)return;const{activeElement:gn}=document;en.div.contains(gn)&&(en._focusEventsAllowed=!1,setTimeout(()=>{en.div.contains(document.activeElement)?en._focusEventsAllowed=!0:(en.div.addEventListener("focusin",()=>{en._focusEventsAllowed=!0},{once:!0}),gn.focus())},0)),en._structTreeParentId=(tn=Ot(this,kt))==null?void 0:tn.moveElementInDOM(this.div,en.div,en.contentDiv,!0)}addOrRebuild(en){en.needsToBeRebuilt()?en.rebuild():this.add(en)}addUndoableEditor(en){const gn=()=>en._uiManager.rebuild(en),tn=()=>{en.remove()};this.addCommands({cmd:gn,undo:tn,mustExec:!1})}getNextId(){return Ot(this,Mt).getId()}pasteEditor(en,gn){Ot(this,Mt).updateToolbar(en),Ot(this,Mt).updateMode(en);const{offsetX:tn,offsetY:bn}=In(this,Bt,F9).call(this),Xt=this.getNextId(),Yt=In(this,Bt,_9).call(this,{parent:this,id:Xt,x:tn,y:bn,uiManager:Ot(this,Mt),isCentered:!0,...gn});Yt&&this.add(Yt)}deserialize(en){switch(en.annotationType??en.annotationEditorType){case bt.AnnotationEditorType.FREETEXT:return St.FreeTextEditor.deserialize(en,this,Ot(this,Mt));case bt.AnnotationEditorType.INK:return Et.InkEditor.deserialize(en,this,Ot(this,Mt));case bt.AnnotationEditorType.STAMP:return Pt.StampEditor.deserialize(en,this,Ot(this,Mt))}return null}addNewEditor(){In(this,Bt,_2).call(this,In(this,Bt,F9).call(this),!0)}setSelected(en){Ot(this,Mt).setSelected(en)}toggleSelected(en){Ot(this,Mt).toggleSelected(en)}isSelected(en){return Ot(this,Mt).isSelected(en)}unselect(en){Ot(this,Mt).unselect(en)}pointerup(en){const{isMac:gn}=bt.FeatureTest.platform;if(!(en.button!==0||en.ctrlKey&&gn)&&en.target===this.div&&Ot(this,qt)){if($n(this,qt,!1),!Ot(this,Rt)){$n(this,Rt,!0);return}if(Ot(this,Mt).getMode()===bt.AnnotationEditorType.STAMP){Ot(this,Mt).unselectAll();return}In(this,Bt,_2).call(this,en,!1)}}pointerdown(en){if(Ot(this,qt)){$n(this,qt,!1);return}const{isMac:gn}=bt.FeatureTest.platform;if(en.button!==0||en.ctrlKey&&gn||en.target!==this.div)return;$n(this,qt,!0);const tn=Ot(this,Mt).getActive();$n(this,Rt,!tn||tn.isEmpty())}findNewParent(en,gn,tn){const bn=Ot(this,Mt).findParent(gn,tn);return bn===null||bn===this?!1:(bn.changeParent(en),!0)}destroy(){var en,gn;((en=Ot(this,Mt).getActive())==null?void 0:en.parent)===this&&(Ot(this,Mt).commitOrRemove(),Ot(this,Mt).setActiveEditor(null));for(const tn of Ot(this,Ht).values())(gn=Ot(this,kt))==null||gn.removePointerInTextLayer(tn.contentDiv),tn.setParent(null),tn.isAttachedToDOM=!1,tn.div.remove();this.div=null,Ot(this,Ht).clear(),Ot(this,Mt).removeLayer(this)}render({viewport:en}){this.viewport=en,(0,Ct.setLayerDimensions)(this.div,en);for(const gn of Ot(this,Mt).getEditors(this.pageIndex))this.add(gn);this.updateMode()}update({viewport:en}){Ot(this,Mt).commitOrRemove(),this.viewport=en,(0,Ct.setLayerDimensions)(this.div,{rotation:en.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:en,pageHeight:gn}=this.viewport.rawDims;return[en,gn]}};kt=new WeakMap,Rt=new WeakMap,ht=new WeakMap,vt=new WeakMap,Ft=new WeakMap,Ht=new WeakMap,qt=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Mt=new WeakMap,Bt=new WeakSet,_9=function(en){switch(Ot(this,Mt).getMode()){case bt.AnnotationEditorType.FREETEXT:return new St.FreeTextEditor(en);case bt.AnnotationEditorType.INK:return new Et.InkEditor(en);case bt.AnnotationEditorType.STAMP:return new Pt.StampEditor(en)}return null},_2=function(en,gn){const tn=this.getNextId(),bn=In(this,Bt,_9).call(this,{parent:this,id:tn,x:en.offsetX,y:en.offsetY,uiManager:Ot(this,Mt),isCentered:gn});return bn&&this.add(bn),bn},F9=function(){const{x:en,y:gn,width:tn,height:bn}=this.div.getBoundingClientRect(),Xt=Math.max(0,en),Yt=Math.max(0,gn),un=Math.min(window.innerWidth,en+tn),Ut=Math.min(window.innerHeight,gn+bn),Lt=(Xt+un)/2-en,Vt=(Yt+Ut)/2-gn,[an,zt]=this.viewport.rotation%180===0?[Lt,Vt]:[Vt,Lt];return{offsetX:an,offsetY:zt}},R9=function(){$n(this,Nt,!0);for(const en of Ot(this,Ht).values())en.isEmpty()&&en.remove();$n(this,Nt,!1)},Ur(Qt,"_initialized",!1);let wt=Qt;$.AnnotationEditorLayer=wt},(_e,$,xt)=>{var Pt,wt,kt,Rt,ht,vt,Ft,Ht,qt,Nt,Xv,Wv,Gv,dm,M9,qv,I9;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var bt=xt(1),At=xt(5),St=xt(4),Et=xt(29);const Qt=class Qt extends St.AnnotationEditor{constructor(gn){super({...gn,name:"freeTextEditor"});Nn(this,Nt);Nn(this,Pt,this.editorDivBlur.bind(this));Nn(this,wt,this.editorDivFocus.bind(this));Nn(this,kt,this.editorDivInput.bind(this));Nn(this,Rt,this.editorDivKeydown.bind(this));Nn(this,ht);Nn(this,vt,"");Nn(this,Ft,`${this.id}-editor`);Nn(this,Ht);Nn(this,qt,null);$n(this,ht,gn.color||Qt._defaultColor||St.AnnotationEditor._defaultLineColor),$n(this,Ht,gn.fontSize||Qt._defaultFontSize)}static get _keyboardManager(){const gn=Qt.prototype,tn=Yt=>Yt.isEmpty(),bn=At.AnnotationEditorUIManager.TRANSLATE_SMALL,Xt=At.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,bt.shadow)(this,"_keyboardManager",new At.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],gn.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],gn.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],gn._translateEmpty,{args:[-bn,0],checker:tn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],gn._translateEmpty,{args:[-Xt,0],checker:tn}],[["ArrowRight","mac+ArrowRight"],gn._translateEmpty,{args:[bn,0],checker:tn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],gn._translateEmpty,{args:[Xt,0],checker:tn}],[["ArrowUp","mac+ArrowUp"],gn._translateEmpty,{args:[0,-bn],checker:tn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],gn._translateEmpty,{args:[0,-Xt],checker:tn}],[["ArrowDown","mac+ArrowDown"],gn._translateEmpty,{args:[0,bn],checker:tn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],gn._translateEmpty,{args:[0,Xt],checker:tn}]]))}static initialize(gn){St.AnnotationEditor.initialize(gn,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const tn=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(tn.getPropertyValue("--freetext-padding"))}static updateDefaultParams(gn,tn){switch(gn){case bt.AnnotationEditorParamsType.FREETEXT_SIZE:Qt._defaultFontSize=tn;break;case bt.AnnotationEditorParamsType.FREETEXT_COLOR:Qt._defaultColor=tn;break}}updateParams(gn,tn){switch(gn){case bt.AnnotationEditorParamsType.FREETEXT_SIZE:In(this,Nt,Xv).call(this,tn);break;case bt.AnnotationEditorParamsType.FREETEXT_COLOR:In(this,Nt,Wv).call(this,tn);break}}static get defaultPropertiesToUpdate(){return[[bt.AnnotationEditorParamsType.FREETEXT_SIZE,Qt._defaultFontSize],[bt.AnnotationEditorParamsType.FREETEXT_COLOR,Qt._defaultColor||St.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[bt.AnnotationEditorParamsType.FREETEXT_SIZE,Ot(this,Ht)],[bt.AnnotationEditorParamsType.FREETEXT_COLOR,Ot(this,ht)]]}_translateEmpty(gn,tn){this._uiManager.translateSelectedEditors(gn,tn,!0)}getInitialTranslation(){const gn=this.parentScale;return[-Qt._internalPadding*gn,-(Qt._internalPadding+Ot(this,Ht))*gn]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(bt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Ot(this,Rt)),this.editorDiv.addEventListener("focus",Ot(this,wt)),this.editorDiv.addEventListener("blur",Ot(this,Pt)),this.editorDiv.addEventListener("input",Ot(this,kt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Ot(this,Ft)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Ot(this,Rt)),this.editorDiv.removeEventListener("focus",Ot(this,wt)),this.editorDiv.removeEventListener("blur",Ot(this,Pt)),this.editorDiv.removeEventListener("input",Ot(this,kt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(gn){this._focusEventsAllowed&&(super.focusin(gn),gn.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var gn;if(this.width){In(this,Nt,I9).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(gn=this._initialOptions)!=null&&gn.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const gn=Ot(this,vt),tn=$n(this,vt,In(this,Nt,Gv).call(this).trimEnd());if(gn===tn)return;const bn=Xt=>{if($n(this,vt,Xt),!Xt){this.remove();return}In(this,Nt,M9).call(this),this._uiManager.rebuild(this),In(this,Nt,dm).call(this)};this.addCommands({cmd:()=>{bn(tn)},undo:()=>{bn(gn)},mustExec:!1}),In(this,Nt,dm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(gn){this.enterInEditMode()}keydown(gn){gn.target===this.div&&gn.key==="Enter"&&(this.enterInEditMode(),gn.preventDefault())}editorDivKeydown(gn){Qt._keyboardManager.exec(this,gn)}editorDivFocus(gn){this.isEditing=!0}editorDivBlur(gn){this.isEditing=!1}editorDivInput(gn){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let gn,tn;this.width&&(gn=this.x,tn=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Ot(this,Ft)),this.enableEditing(),St.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Xt=>{var Yt;return(Yt=this.editorDiv)==null?void 0:Yt.setAttribute("aria-label",Xt)}),St.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Xt=>{var Yt;return(Yt=this.editorDiv)==null?void 0:Yt.setAttribute("default-content",Xt)}),this.editorDiv.contentEditable=!0;const{style:bn}=this.editorDiv;if(bn.fontSize=`calc(${Ot(this,Ht)}px * var(--scale-factor))`,bn.color=Ot(this,ht),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,At.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Xt,Yt]=this.parentDimensions;if(this.annotationElementId){const{position:un}=Ot(this,qt);let[Ut,Lt]=this.getInitialTranslation();[Ut,Lt]=this.pageTranslationToScreen(Ut,Lt);const[Vt,an]=this.pageDimensions,[zt,Wt]=this.pageTranslation;let nn,dn;switch(this.rotation){case 0:nn=gn+(un[0]-zt)/Vt,dn=tn+this.height-(un[1]-Wt)/an;break;case 90:nn=gn+(un[0]-zt)/Vt,dn=tn-(un[1]-Wt)/an,[Ut,Lt]=[Lt,-Ut];break;case 180:nn=gn-this.width+(un[0]-zt)/Vt,dn=tn-(un[1]-Wt)/an,[Ut,Lt]=[-Ut,-Lt];break;case 270:nn=gn+(un[0]-zt-this.height*an)/Vt,dn=tn+(un[1]-Wt-this.width*Vt)/an,[Ut,Lt]=[-Lt,Ut];break}this.setAt(nn*Xt,dn*Yt,Ut,Lt)}else this.setAt(gn*Xt,tn*Yt,this.width*Xt,this.height*Yt);In(this,Nt,M9).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(gn,tn,bn){let Xt=null;if(gn instanceof Et.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:un,fontColor:Ut},rect:Lt,rotation:Vt,id:an},textContent:zt,textPosition:Wt,parent:{page:{pageNumber:nn}}}=gn;if(!zt||zt.length===0)return null;Xt=gn={annotationType:bt.AnnotationEditorType.FREETEXT,color:Array.from(Ut),fontSize:un,value:zt.join(`
`),position:Wt,pageIndex:nn-1,rect:Lt,rotation:Vt,id:an,deleted:!1}}const Yt=super.deserialize(gn,tn,bn);return $n(Yt,Ht,gn.fontSize),$n(Yt,ht,bt.Util.makeHexColor(...gn.color)),$n(Yt,vt,gn.value),Yt.annotationElementId=gn.id||null,$n(Yt,qt,Xt),Yt}serialize(gn=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const tn=Qt._internalPadding*this.parentScale,bn=this.getRect(tn,tn),Xt=St.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Ot(this,ht)),Yt={annotationType:bt.AnnotationEditorType.FREETEXT,color:Xt,fontSize:Ot(this,Ht),value:Ot(this,vt),pageIndex:this.pageIndex,rect:bn,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return gn?Yt:this.annotationElementId&&!In(this,Nt,qv).call(this,Yt)?null:(Yt.id=this.annotationElementId,Yt)}};Pt=new WeakMap,wt=new WeakMap,kt=new WeakMap,Rt=new WeakMap,ht=new WeakMap,vt=new WeakMap,Ft=new WeakMap,Ht=new WeakMap,qt=new WeakMap,Nt=new WeakSet,Xv=function(gn){const tn=Xt=>{this.editorDiv.style.fontSize=`calc(${Xt}px * var(--scale-factor))`,this.translate(0,-(Xt-Ot(this,Ht))*this.parentScale),$n(this,Ht,Xt),In(this,Nt,dm).call(this)},bn=Ot(this,Ht);this.addCommands({cmd:()=>{tn(gn)},undo:()=>{tn(bn)},mustExec:!0,type:bt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Wv=function(gn){const tn=Ot(this,ht);this.addCommands({cmd:()=>{$n(this,ht,this.editorDiv.style.color=gn)},undo:()=>{$n(this,ht,this.editorDiv.style.color=tn)},mustExec:!0,type:bt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Gv=function(){const gn=this.editorDiv.getElementsByTagName("div");if(gn.length===0)return this.editorDiv.innerText;const tn=[];for(const bn of gn)tn.push(bn.innerText.replace(/\r\n?|\n/,""));return tn.join(`
`)},dm=function(){const[gn,tn]=this.parentDimensions;let bn;if(this.isAttachedToDOM)bn=this.div.getBoundingClientRect();else{const{currentLayer:Xt,div:Yt}=this,un=Yt.style.display;Yt.style.display="hidden",Xt.div.append(this.div),bn=Yt.getBoundingClientRect(),Yt.remove(),Yt.style.display=un}this.rotation%180===this.parentRotation%180?(this.width=bn.width/gn,this.height=bn.height/tn):(this.width=bn.height/gn,this.height=bn.width/tn),this.fixAndSetPosition()},M9=function(){if(this.editorDiv.replaceChildren(),!!Ot(this,vt))for(const gn of Ot(this,vt).split(`
`)){const tn=document.createElement("div");tn.append(gn?document.createTextNode(gn):document.createElement("br")),this.editorDiv.append(tn)}},qv=function(gn){const{value:tn,fontSize:bn,color:Xt,rect:Yt,pageIndex:un}=Ot(this,qt);return gn.value!==tn||gn.fontSize!==bn||gn.rect.some((Ut,Lt)=>Math.abs(Ut-Yt[Lt])>=1)||gn.color.some((Ut,Lt)=>Ut!==Xt[Lt])||gn.pageIndex!==un},I9=function(gn=!1){if(!this.annotationElementId)return;if(In(this,Nt,dm).call(this),!gn&&(this.width===0||this.height===0)){setTimeout(()=>In(this,Nt,I9).call(this,!0),0);return}const tn=Qt._internalPadding*this.parentScale;Ot(this,qt).rect=this.getRect(tn,tn)},Ur(Qt,"_freeTextDefaultContent",""),Ur(Qt,"_internalPadding",0),Ur(Qt,"_defaultColor",null),Ur(Qt,"_defaultFontSize",10),Ur(Qt,"_type","freetext");let Ct=Qt;$.FreeTextEditor=Ct},(_e,$,xt)=>{var dn,hn,Fu,Kv,xn,vn,kn,Fn,On,Pn,Sn,mn,fn,Jt,cn,pn,wn,En,_n,Cn,An,Tn,Yv,F2,O9,L9,Un,tr,er,Qn,Yn,zn,nr,D9,dr,jn,Hn,Xn,Zv,N9;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var bt=xt(1),At=xt(6),St=xt(3),Et=xt(30),Ct=xt(31),Pt=xt(32);const wt=1e3,kt=9,Rt=new WeakSet;function ht(xr){return{width:xr[2]-xr[0],height:xr[3]-xr[1]}}class vt{static create(Jn){switch(Jn.data.annotationType){case bt.AnnotationType.LINK:return new Ht(Jn);case bt.AnnotationType.TEXT:return new qt(Jn);case bt.AnnotationType.WIDGET:switch(Jn.data.fieldType){case"Tx":return new $t(Jn);case"Btn":return Jn.data.radioButton?new _t(Jn):Jn.data.checkBox?new Bt(Jn):new Kt(Jn);case"Ch":return new jt(Jn);case"Sig":return new Mt(Jn)}return new Nt(Jn);case bt.AnnotationType.POPUP:return new Gt(Jn);case bt.AnnotationType.FREETEXT:return new ln(Jn);case bt.AnnotationType.LINE:return new en(Jn);case bt.AnnotationType.SQUARE:return new gn(Jn);case bt.AnnotationType.CIRCLE:return new tn(Jn);case bt.AnnotationType.POLYLINE:return new bn(Jn);case bt.AnnotationType.CARET:return new Yt(Jn);case bt.AnnotationType.INK:return new un(Jn);case bt.AnnotationType.POLYGON:return new Xt(Jn);case bt.AnnotationType.HIGHLIGHT:return new Ut(Jn);case bt.AnnotationType.UNDERLINE:return new Lt(Jn);case bt.AnnotationType.SQUIGGLY:return new Vt(Jn);case bt.AnnotationType.STRIKEOUT:return new an(Jn);case bt.AnnotationType.STAMP:return new zt(Jn);case bt.AnnotationType.FILEATTACHMENT:return new Wt(Jn);default:return new Ft(Jn)}}}const on=class on{constructor(Jn,{isRenderable:Wn=!1,ignoreBorder:Zn=!1,createQuadrilaterals:ur=!1}={}){Nn(this,dn,!1);this.isRenderable=Wn,this.data=Jn.data,this.layer=Jn.layer,this.linkService=Jn.linkService,this.downloadManager=Jn.downloadManager,this.imageResourcesPath=Jn.imageResourcesPath,this.renderForms=Jn.renderForms,this.svgFactory=Jn.svgFactory,this.annotationStorage=Jn.annotationStorage,this.enableScripting=Jn.enableScripting,this.hasJSActions=Jn.hasJSActions,this._fieldObjects=Jn.fieldObjects,this.parent=Jn.parent,Wn&&(this.container=this._createContainer(Zn)),ur&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Jn,contentsObj:Wn,richText:Zn}){return!!(Jn!=null&&Jn.str||Wn!=null&&Wn.str||Zn!=null&&Zn.str)}get hasPopupData(){return on._hasPopupData(this.data)}_createContainer(Jn){const{data:Wn,parent:{page:Zn,viewport:ur}}=this,hr=document.createElement("section");hr.setAttribute("data-annotation-id",Wn.id),this instanceof Nt||(hr.tabIndex=wt),hr.style.zIndex=this.parent.zIndex++,this.data.popupRef&&hr.setAttribute("aria-haspopup","dialog"),Wn.noRotate&&hr.classList.add("norotate");const{pageWidth:or,pageHeight:pr,pageX:wr,pageY:fr}=ur.rawDims;if(!Wn.rect||this instanceof Gt){const{rotation:Cr}=Wn;return!Wn.hasOwnCanvas&&Cr!==0&&this.setRotation(Cr,hr),hr}const{width:Ar,height:Dr}=ht(Wn.rect),Fr=bt.Util.normalizeRect([Wn.rect[0],Zn.view[3]-Wn.rect[1]+Zn.view[1],Wn.rect[2],Zn.view[3]-Wn.rect[3]+Zn.view[1]]);if(!Jn&&Wn.borderStyle.width>0){hr.style.borderWidth=`${Wn.borderStyle.width}px`;const Cr=Wn.borderStyle.horizontalCornerRadius,Pr=Wn.borderStyle.verticalCornerRadius;if(Cr>0||Pr>0){const qr=`calc(${Cr}px * var(--scale-factor)) / calc(${Pr}px * var(--scale-factor))`;hr.style.borderRadius=qr}else if(this instanceof _t){const qr=`calc(${Ar}px * var(--scale-factor)) / calc(${Dr}px * var(--scale-factor))`;hr.style.borderRadius=qr}switch(Wn.borderStyle.style){case bt.AnnotationBorderStyleType.SOLID:hr.style.borderStyle="solid";break;case bt.AnnotationBorderStyleType.DASHED:hr.style.borderStyle="dashed";break;case bt.AnnotationBorderStyleType.BEVELED:(0,bt.warn)("Unimplemented border style: beveled");break;case bt.AnnotationBorderStyleType.INSET:(0,bt.warn)("Unimplemented border style: inset");break;case bt.AnnotationBorderStyleType.UNDERLINE:hr.style.borderBottomStyle="solid";break}const _r=Wn.borderColor||null;_r?($n(this,dn,!0),hr.style.borderColor=bt.Util.makeHexColor(_r[0]|0,_r[1]|0,_r[2]|0)):hr.style.borderWidth=0}hr.style.left=`${100*(Fr[0]-wr)/or}%`,hr.style.top=`${100*(Fr[1]-fr)/pr}%`;const{rotation:$r}=Wn;return Wn.hasOwnCanvas||$r===0?(hr.style.width=`${100*Ar/or}%`,hr.style.height=`${100*Dr/pr}%`):this.setRotation($r,hr),hr}setRotation(Jn,Wn=this.container){if(!this.data.rect)return;const{pageWidth:Zn,pageHeight:ur}=this.parent.viewport.rawDims,{width:hr,height:or}=ht(this.data.rect);let pr,wr;Jn%180===0?(pr=100*hr/Zn,wr=100*or/ur):(pr=100*or/Zn,wr=100*hr/ur),Wn.style.width=`${pr}%`,Wn.style.height=`${wr}%`,Wn.setAttribute("data-main-rotation",(360-Jn)%360)}get _commonActions(){const Jn=(Wn,Zn,ur)=>{const hr=ur.detail[Wn],or=hr[0],pr=hr.slice(1);ur.target.style[Zn]=Et.ColorConverters[`${or}_HTML`](pr),this.annotationStorage.setValue(this.data.id,{[Zn]:Et.ColorConverters[`${or}_rgb`](pr)})};return(0,bt.shadow)(this,"_commonActions",{display:Wn=>{const{display:Zn}=Wn.detail,ur=Zn%2===1;this.container.style.visibility=ur?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:ur,noPrint:Zn===1||Zn===2})},print:Wn=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Wn.detail.print})},hidden:Wn=>{const{hidden:Zn}=Wn.detail;this.container.style.visibility=Zn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Zn,noView:Zn})},focus:Wn=>{setTimeout(()=>Wn.target.focus({preventScroll:!1}),0)},userName:Wn=>{Wn.target.title=Wn.detail.userName},readonly:Wn=>{Wn.target.disabled=Wn.detail.readonly},required:Wn=>{this._setRequired(Wn.target,Wn.detail.required)},bgColor:Wn=>{Jn("bgColor","backgroundColor",Wn)},fillColor:Wn=>{Jn("fillColor","backgroundColor",Wn)},fgColor:Wn=>{Jn("fgColor","color",Wn)},textColor:Wn=>{Jn("textColor","color",Wn)},borderColor:Wn=>{Jn("borderColor","borderColor",Wn)},strokeColor:Wn=>{Jn("strokeColor","borderColor",Wn)},rotation:Wn=>{const Zn=Wn.detail.rotation;this.setRotation(Zn),this.annotationStorage.setValue(this.data.id,{rotation:Zn})}})}_dispatchEventFromSandbox(Jn,Wn){const Zn=this._commonActions;for(const ur of Object.keys(Wn.detail)){const hr=Jn[ur]||Zn[ur];hr==null||hr(Wn)}}_setDefaultPropertiesFromJS(Jn){if(!this.enableScripting)return;const Wn=this.annotationStorage.getRawValue(this.data.id);if(!Wn)return;const Zn=this._commonActions;for(const[ur,hr]of Object.entries(Wn)){const or=Zn[ur];if(or){const pr={detail:{[ur]:hr},target:Jn};or(pr),delete Wn[ur]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Jn}=this.data;if(!Jn)return;const[Wn,Zn,ur,hr]=this.data.rect;if(Jn.length===1){const[,{x:Pr,y:_r},{x:qr,y:vs}]=Jn[0];if(ur===Pr&&hr===_r&&Wn===qr&&Zn===vs)return}const{style:or}=this.container;let pr;if(Ot(this,dn)){const{borderColor:Pr,borderWidth:_r}=or;or.borderWidth=0,pr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Pr}" stroke-width="${_r}">`],this.container.classList.add("hasBorder")}const wr=ur-Wn,fr=hr-Zn,{svgFactory:Ar}=this,Dr=Ar.createElement("svg");Dr.classList.add("quadrilateralsContainer"),Dr.setAttribute("width",0),Dr.setAttribute("height",0);const Fr=Ar.createElement("defs");Dr.append(Fr);const $r=Ar.createElement("clipPath"),Cr=`clippath_${this.data.id}`;$r.setAttribute("id",Cr),$r.setAttribute("clipPathUnits","objectBoundingBox"),Fr.append($r);for(const[,{x:Pr,y:_r},{x:qr,y:vs}]of Jn){const ls=Ar.createElement("rect"),ns=(qr-Wn)/wr,Ns=(hr-_r)/fr,Gs=(Pr-qr)/wr,vr=(_r-vs)/fr;ls.setAttribute("x",ns),ls.setAttribute("y",Ns),ls.setAttribute("width",Gs),ls.setAttribute("height",vr),$r.append(ls),pr==null||pr.push(`<rect vector-effect="non-scaling-stroke" x="${ns}" y="${Ns}" width="${Gs}" height="${vr}"/>`)}Ot(this,dn)&&(pr.push("</g></svg>')"),or.backgroundImage=pr.join("")),this.container.append(Dr),this.container.style.clipPath=`url(#${Cr})`}_createPopup(){const{container:Jn,data:Wn}=this;Jn.setAttribute("aria-haspopup","dialog");const Zn=new Gt({data:{color:Wn.color,titleObj:Wn.titleObj,modificationDate:Wn.modificationDate,contentsObj:Wn.contentsObj,richText:Wn.richText,parentRect:Wn.rect,borderStyle:0,id:`popup_${Wn.id}`,rotation:Wn.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Zn.render())}render(){(0,bt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Jn,Wn=null){const Zn=[];if(this._fieldObjects){const ur=this._fieldObjects[Jn];if(ur)for(const{page:hr,id:or,exportValues:pr}of ur){if(hr===-1||or===Wn)continue;const wr=typeof pr=="string"?pr:null,fr=document.querySelector(`[data-element-id="${or}"]`);if(fr&&!Rt.has(fr)){(0,bt.warn)(`_getElementsByName - element not allowed: ${or}`);continue}Zn.push({id:or,exportValue:wr,domElement:fr})}return Zn}for(const ur of document.getElementsByName(Jn)){const{exportValue:hr}=ur,or=ur.getAttribute("data-element-id");or!==Wn&&Rt.has(ur)&&Zn.push({id:or,exportValue:hr,domElement:ur})}return Zn}show(){var Jn;this.container&&(this.container.hidden=!1),(Jn=this.popup)==null||Jn.maybeShow()}hide(){var Jn;this.container&&(this.container.hidden=!0),(Jn=this.popup)==null||Jn.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Jn=this.getElementsToTriggerPopup();if(Array.isArray(Jn))for(const Wn of Jn)Wn.classList.add("highlightArea");else Jn.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Jn,data:{id:Wn}}=this;this.container.addEventListener("dblclick",()=>{var Zn;(Zn=this.linkService.eventBus)==null||Zn.dispatch("switchannotationeditormode",{source:this,mode:Jn,editId:Wn})})}};dn=new WeakMap;let Ft=on;class Ht extends Ft{constructor(Wn,Zn=null){super(Wn,{isRenderable:!0,ignoreBorder:!!(Zn!=null&&Zn.ignoreBorder),createQuadrilaterals:!0});Nn(this,hn);this.isTooltipOnly=Wn.data.isTooltipOnly}render(){const{data:Wn,linkService:Zn}=this,ur=document.createElement("a");ur.setAttribute("data-element-id",Wn.id);let hr=!1;return Wn.url?(Zn.addLinkAttributes(ur,Wn.url,Wn.newWindow),hr=!0):Wn.action?(this._bindNamedAction(ur,Wn.action),hr=!0):Wn.attachment?(this._bindAttachment(ur,Wn.attachment),hr=!0):Wn.setOCGState?(In(this,hn,Kv).call(this,ur,Wn.setOCGState),hr=!0):Wn.dest?(this._bindLink(ur,Wn.dest),hr=!0):(Wn.actions&&(Wn.actions.Action||Wn.actions["Mouse Up"]||Wn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ur,Wn),hr=!0),Wn.resetForm?(this._bindResetFormAction(ur,Wn.resetForm),hr=!0):this.isTooltipOnly&&!hr&&(this._bindLink(ur,""),hr=!0)),this.container.classList.add("linkAnnotation"),hr&&this.container.append(ur),this.container}_bindLink(Wn,Zn){Wn.href=this.linkService.getDestinationHash(Zn),Wn.onclick=()=>(Zn&&this.linkService.goToDestination(Zn),!1),(Zn||Zn==="")&&In(this,hn,Fu).call(this)}_bindNamedAction(Wn,Zn){Wn.href=this.linkService.getAnchorUrl(""),Wn.onclick=()=>(this.linkService.executeNamedAction(Zn),!1),In(this,hn,Fu).call(this)}_bindAttachment(Wn,Zn){Wn.href=this.linkService.getAnchorUrl(""),Wn.onclick=()=>{var ur;return(ur=this.downloadManager)==null||ur.openOrDownloadData(this.container,Zn.content,Zn.filename),!1},In(this,hn,Fu).call(this)}_bindJSAction(Wn,Zn){Wn.href=this.linkService.getAnchorUrl("");const ur=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const hr of Object.keys(Zn.actions)){const or=ur.get(hr);or&&(Wn[or]=()=>{var pr;return(pr=this.linkService.eventBus)==null||pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Zn.id,name:hr}}),!1})}Wn.onclick||(Wn.onclick=()=>!1),In(this,hn,Fu).call(this)}_bindResetFormAction(Wn,Zn){const ur=Wn.onclick;if(ur||(Wn.href=this.linkService.getAnchorUrl("")),In(this,hn,Fu).call(this),!this._fieldObjects){(0,bt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ur||(Wn.onclick=()=>!1);return}Wn.onclick=()=>{var Dr;ur==null||ur();const{fields:hr,refs:or,include:pr}=Zn,wr=[];if(hr.length!==0||or.length!==0){const Fr=new Set(or);for(const $r of hr){const Cr=this._fieldObjects[$r]||[];for(const{id:Pr}of Cr)Fr.add(Pr)}for(const $r of Object.values(this._fieldObjects))for(const Cr of $r)Fr.has(Cr.id)===pr&&wr.push(Cr)}else for(const Fr of Object.values(this._fieldObjects))wr.push(...Fr);const fr=this.annotationStorage,Ar=[];for(const Fr of wr){const{id:$r}=Fr;switch(Ar.push($r),Fr.type){case"text":{const Pr=Fr.defaultValue||"";fr.setValue($r,{value:Pr});break}case"checkbox":case"radiobutton":{const Pr=Fr.defaultValue===Fr.exportValues;fr.setValue($r,{value:Pr});break}case"combobox":case"listbox":{const Pr=Fr.defaultValue||"";fr.setValue($r,{value:Pr});break}default:continue}const Cr=document.querySelector(`[data-element-id="${$r}"]`);if(Cr){if(!Rt.has(Cr)){(0,bt.warn)(`_bindResetFormAction - element not allowed: ${$r}`);continue}}else continue;Cr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Dr=this.linkService.eventBus)==null||Dr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ar,name:"ResetForm"}})),!1}}}hn=new WeakSet,Fu=function(){this.container.setAttribute("data-internal-link","")},Kv=function(Wn,Zn){Wn.href=this.linkService.getAnchorUrl(""),Wn.onclick=()=>(this.linkService.executeSetOCGState(Zn),!1),In(this,hn,Fu).call(this)};class qt extends Ft{constructor(Jn){super(Jn,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Jn=document.createElement("img");return Jn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Jn.alt="[{{type}} Annotation]",Jn.dataset.l10nId="text_annotation_type",Jn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Jn),this.container}}class Nt extends Ft{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Jn){var Wn;this.data.hasOwnCanvas&&(((Wn=Jn.previousSibling)==null?void 0:Wn.nodeName)==="CANVAS"&&(Jn.previousSibling.hidden=!0),Jn.hidden=!1)}_getKeyModifier(Jn){const{isWin:Wn,isMac:Zn}=bt.FeatureTest.platform;return Wn&&Jn.ctrlKey||Zn&&Jn.metaKey}_setEventListener(Jn,Wn,Zn,ur,hr){Zn.includes("mouse")?Jn.addEventListener(Zn,or=>{var pr;(pr=this.linkService.eventBus)==null||pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ur,value:hr(or),shift:or.shiftKey,modifier:this._getKeyModifier(or)}})}):Jn.addEventListener(Zn,or=>{var pr;if(Zn==="blur"){if(!Wn.focused||!or.relatedTarget)return;Wn.focused=!1}else if(Zn==="focus"){if(Wn.focused)return;Wn.focused=!0}hr&&((pr=this.linkService.eventBus)==null||pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ur,value:hr(or)}}))})}_setEventListeners(Jn,Wn,Zn,ur){var hr,or,pr;for(const[wr,fr]of Zn)(fr==="Action"||(hr=this.data.actions)!=null&&hr[fr])&&((fr==="Focus"||fr==="Blur")&&(Wn||(Wn={focused:!1})),this._setEventListener(Jn,Wn,wr,fr,ur),fr==="Focus"&&!((or=this.data.actions)!=null&&or.Blur)?this._setEventListener(Jn,Wn,"blur","Blur",null):fr==="Blur"&&!((pr=this.data.actions)!=null&&pr.Focus)&&this._setEventListener(Jn,Wn,"focus","Focus",null))}_setBackgroundColor(Jn){const Wn=this.data.backgroundColor||null;Jn.style.backgroundColor=Wn===null?"transparent":bt.Util.makeHexColor(Wn[0],Wn[1],Wn[2])}_setTextStyle(Jn){const Wn=["left","center","right"],{fontColor:Zn}=this.data.defaultAppearanceData,ur=this.data.defaultAppearanceData.fontSize||kt,hr=Jn.style;let or;const pr=2,wr=fr=>Math.round(10*fr)/10;if(this.data.multiLine){const fr=Math.abs(this.data.rect[3]-this.data.rect[1]-pr),Ar=Math.round(fr/(bt.LINE_FACTOR*ur))||1,Dr=fr/Ar;or=Math.min(ur,wr(Dr/bt.LINE_FACTOR))}else{const fr=Math.abs(this.data.rect[3]-this.data.rect[1]-pr);or=Math.min(ur,wr(fr/bt.LINE_FACTOR))}hr.fontSize=`calc(${or}px * var(--scale-factor))`,hr.color=bt.Util.makeHexColor(Zn[0],Zn[1],Zn[2]),this.data.textAlignment!==null&&(hr.textAlign=Wn[this.data.textAlignment])}_setRequired(Jn,Wn){Wn?Jn.setAttribute("required",!0):Jn.removeAttribute("required"),Jn.setAttribute("aria-required",Wn)}}class $t extends Nt{constructor(Jn){const Wn=Jn.renderForms||!Jn.data.hasAppearance&&!!Jn.data.fieldValue;super(Jn,{isRenderable:Wn})}setPropertyOnSiblings(Jn,Wn,Zn,ur){const hr=this.annotationStorage;for(const or of this._getElementsByName(Jn.name,Jn.id))or.domElement&&(or.domElement[Wn]=Zn),hr.setValue(or.id,{[ur]:Zn})}render(){var ur,hr;const Jn=this.annotationStorage,Wn=this.data.id;this.container.classList.add("textWidgetAnnotation");let Zn=null;if(this.renderForms){const or=Jn.getValue(Wn,{value:this.data.fieldValue});let pr=or.value||"";const wr=Jn.getValue(Wn,{charLimit:this.data.maxLen}).charLimit;wr&&pr.length>wr&&(pr=pr.slice(0,wr));let fr=or.formattedValue||((ur=this.data.textContent)==null?void 0:ur.join(`
`))||null;fr&&this.data.comb&&(fr=fr.replaceAll(/\s+/g,""));const Ar={userValue:pr,formattedValue:fr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Zn=document.createElement("textarea"),Zn.textContent=fr??pr,this.data.doNotScroll&&(Zn.style.overflowY="hidden")):(Zn=document.createElement("input"),Zn.type="text",Zn.setAttribute("value",fr??pr),this.data.doNotScroll&&(Zn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Zn.hidden=!0),Rt.add(Zn),Zn.setAttribute("data-element-id",Wn),Zn.disabled=this.data.readOnly,Zn.name=this.data.fieldName,Zn.tabIndex=wt,this._setRequired(Zn,this.data.required),wr&&(Zn.maxLength=wr),Zn.addEventListener("input",Fr=>{Jn.setValue(Wn,{value:Fr.target.value}),this.setPropertyOnSiblings(Zn,"value",Fr.target.value,"value"),Ar.formattedValue=null}),Zn.addEventListener("resetform",Fr=>{const $r=this.data.defaultFieldValue??"";Zn.value=Ar.userValue=$r,Ar.formattedValue=null});let Dr=Fr=>{const{formattedValue:$r}=Ar;$r!=null&&(Fr.target.value=$r),Fr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Zn.addEventListener("focus",$r=>{if(Ar.focused)return;const{target:Cr}=$r;Ar.userValue&&(Cr.value=Ar.userValue),Ar.lastCommittedValue=Cr.value,Ar.commitKey=1,Ar.focused=!0}),Zn.addEventListener("updatefromsandbox",$r=>{this.showElementAndHideCanvas($r.target);const Cr={value(Pr){Ar.userValue=Pr.detail.value??"",Jn.setValue(Wn,{value:Ar.userValue.toString()}),Pr.target.value=Ar.userValue},formattedValue(Pr){const{formattedValue:_r}=Pr.detail;Ar.formattedValue=_r,_r!=null&&Pr.target!==document.activeElement&&(Pr.target.value=_r),Jn.setValue(Wn,{formattedValue:_r})},selRange(Pr){Pr.target.setSelectionRange(...Pr.detail.selRange)},charLimit:Pr=>{var ls;const{charLimit:_r}=Pr.detail,{target:qr}=Pr;if(_r===0){qr.removeAttribute("maxLength");return}qr.setAttribute("maxLength",_r);let vs=Ar.userValue;!vs||vs.length<=_r||(vs=vs.slice(0,_r),qr.value=Ar.userValue=vs,Jn.setValue(Wn,{value:vs}),(ls=this.linkService.eventBus)==null||ls.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wn,name:"Keystroke",value:vs,willCommit:!0,commitKey:1,selStart:qr.selectionStart,selEnd:qr.selectionEnd}}))}};this._dispatchEventFromSandbox(Cr,$r)}),Zn.addEventListener("keydown",$r=>{var _r;Ar.commitKey=1;let Cr=-1;if($r.key==="Escape"?Cr=0:$r.key==="Enter"&&!this.data.multiLine?Cr=2:$r.key==="Tab"&&(Ar.commitKey=3),Cr===-1)return;const{value:Pr}=$r.target;Ar.lastCommittedValue!==Pr&&(Ar.lastCommittedValue=Pr,Ar.userValue=Pr,(_r=this.linkService.eventBus)==null||_r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wn,name:"Keystroke",value:Pr,willCommit:!0,commitKey:Cr,selStart:$r.target.selectionStart,selEnd:$r.target.selectionEnd}}))});const Fr=Dr;Dr=null,Zn.addEventListener("blur",$r=>{var Pr;if(!Ar.focused||!$r.relatedTarget)return;Ar.focused=!1;const{value:Cr}=$r.target;Ar.userValue=Cr,Ar.lastCommittedValue!==Cr&&((Pr=this.linkService.eventBus)==null||Pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wn,name:"Keystroke",value:Cr,willCommit:!0,commitKey:Ar.commitKey,selStart:$r.target.selectionStart,selEnd:$r.target.selectionEnd}})),Fr($r)}),(hr=this.data.actions)!=null&&hr.Keystroke&&Zn.addEventListener("beforeinput",$r=>{var Ns;Ar.lastCommittedValue=null;const{data:Cr,target:Pr}=$r,{value:_r,selectionStart:qr,selectionEnd:vs}=Pr;let ls=qr,ns=vs;switch($r.inputType){case"deleteWordBackward":{const Gs=_r.substring(0,qr).match(/\w*[^\w]*$/);Gs&&(ls-=Gs[0].length);break}case"deleteWordForward":{const Gs=_r.substring(qr).match(/^[^\w]*\w*/);Gs&&(ns+=Gs[0].length);break}case"deleteContentBackward":qr===vs&&(ls-=1);break;case"deleteContentForward":qr===vs&&(ns+=1);break}$r.preventDefault(),(Ns=this.linkService.eventBus)==null||Ns.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wn,name:"Keystroke",value:_r,change:Cr||"",willCommit:!1,selStart:ls,selEnd:ns}})}),this._setEventListeners(Zn,Ar,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$r=>$r.target.value)}if(Dr&&Zn.addEventListener("blur",Dr),this.data.comb){const $r=(this.data.rect[2]-this.data.rect[0])/wr;Zn.classList.add("comb"),Zn.style.letterSpacing=`calc(${$r}px * var(--scale-factor) - 1ch)`}}else Zn=document.createElement("div"),Zn.textContent=this.data.fieldValue,Zn.style.verticalAlign="middle",Zn.style.display="table-cell";return this._setTextStyle(Zn),this._setBackgroundColor(Zn),this._setDefaultPropertiesFromJS(Zn),this.container.append(Zn),this.container}}class Mt extends Nt{constructor(Jn){super(Jn,{isRenderable:!!Jn.data.hasOwnCanvas})}}class Bt extends Nt{constructor(Jn){super(Jn,{isRenderable:Jn.renderForms})}render(){const Jn=this.annotationStorage,Wn=this.data,Zn=Wn.id;let ur=Jn.getValue(Zn,{value:Wn.exportValue===Wn.fieldValue}).value;typeof ur=="string"&&(ur=ur!=="Off",Jn.setValue(Zn,{value:ur})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const hr=document.createElement("input");return Rt.add(hr),hr.setAttribute("data-element-id",Zn),hr.disabled=Wn.readOnly,this._setRequired(hr,this.data.required),hr.type="checkbox",hr.name=Wn.fieldName,ur&&hr.setAttribute("checked",!0),hr.setAttribute("exportValue",Wn.exportValue),hr.tabIndex=wt,hr.addEventListener("change",or=>{const{name:pr,checked:wr}=or.target;for(const fr of this._getElementsByName(pr,Zn)){const Ar=wr&&fr.exportValue===Wn.exportValue;fr.domElement&&(fr.domElement.checked=Ar),Jn.setValue(fr.id,{value:Ar})}Jn.setValue(Zn,{value:wr})}),hr.addEventListener("resetform",or=>{const pr=Wn.defaultFieldValue||"Off";or.target.checked=pr===Wn.exportValue}),this.enableScripting&&this.hasJSActions&&(hr.addEventListener("updatefromsandbox",or=>{const pr={value(wr){wr.target.checked=wr.detail.value!=="Off",Jn.setValue(Zn,{value:wr.target.checked})}};this._dispatchEventFromSandbox(pr,or)}),this._setEventListeners(hr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],or=>or.target.checked)),this._setBackgroundColor(hr),this._setDefaultPropertiesFromJS(hr),this.container.append(hr),this.container}}class _t extends Nt{constructor(Jn){super(Jn,{isRenderable:Jn.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Jn=this.annotationStorage,Wn=this.data,Zn=Wn.id;let ur=Jn.getValue(Zn,{value:Wn.fieldValue===Wn.buttonValue}).value;typeof ur=="string"&&(ur=ur!==Wn.buttonValue,Jn.setValue(Zn,{value:ur}));const hr=document.createElement("input");if(Rt.add(hr),hr.setAttribute("data-element-id",Zn),hr.disabled=Wn.readOnly,this._setRequired(hr,this.data.required),hr.type="radio",hr.name=Wn.fieldName,ur&&hr.setAttribute("checked",!0),hr.tabIndex=wt,hr.addEventListener("change",or=>{const{name:pr,checked:wr}=or.target;for(const fr of this._getElementsByName(pr,Zn))Jn.setValue(fr.id,{value:!1});Jn.setValue(Zn,{value:wr})}),hr.addEventListener("resetform",or=>{const pr=Wn.defaultFieldValue;or.target.checked=pr!=null&&pr===Wn.buttonValue}),this.enableScripting&&this.hasJSActions){const or=Wn.buttonValue;hr.addEventListener("updatefromsandbox",pr=>{const wr={value:fr=>{const Ar=or===fr.detail.value;for(const Dr of this._getElementsByName(fr.target.name)){const Fr=Ar&&Dr.id===Zn;Dr.domElement&&(Dr.domElement.checked=Fr),Jn.setValue(Dr.id,{value:Fr})}}};this._dispatchEventFromSandbox(wr,pr)}),this._setEventListeners(hr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],pr=>pr.target.checked)}return this._setBackgroundColor(hr),this._setDefaultPropertiesFromJS(hr),this.container.append(hr),this.container}}class Kt extends Ht{constructor(Jn){super(Jn,{ignoreBorder:Jn.data.hasAppearance})}render(){const Jn=super.render();Jn.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Jn.title=this.data.alternativeText);const Wn=Jn.lastChild;return this.enableScripting&&this.hasJSActions&&Wn&&(this._setDefaultPropertiesFromJS(Wn),Wn.addEventListener("updatefromsandbox",Zn=>{this._dispatchEventFromSandbox({},Zn)})),Jn}}class jt extends Nt{constructor(Jn){super(Jn,{isRenderable:Jn.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Jn=this.annotationStorage,Wn=this.data.id,Zn=Jn.getValue(Wn,{value:this.data.fieldValue}),ur=document.createElement("select");Rt.add(ur),ur.setAttribute("data-element-id",Wn),ur.disabled=this.data.readOnly,this._setRequired(ur,this.data.required),ur.name=this.data.fieldName,ur.tabIndex=wt;let hr=this.data.combo&&this.data.options.length>0;this.data.combo||(ur.size=this.data.options.length,this.data.multiSelect&&(ur.multiple=!0)),ur.addEventListener("resetform",Ar=>{const Dr=this.data.defaultFieldValue;for(const Fr of ur.options)Fr.selected=Fr.value===Dr});for(const Ar of this.data.options){const Dr=document.createElement("option");Dr.textContent=Ar.displayValue,Dr.value=Ar.exportValue,Zn.value.includes(Ar.exportValue)&&(Dr.setAttribute("selected",!0),hr=!1),ur.append(Dr)}let or=null;if(hr){const Ar=document.createElement("option");Ar.value=" ",Ar.setAttribute("hidden",!0),Ar.setAttribute("selected",!0),ur.prepend(Ar),or=()=>{Ar.remove(),ur.removeEventListener("input",or),or=null},ur.addEventListener("input",or)}const pr=Ar=>{const Dr=Ar?"value":"textContent",{options:Fr,multiple:$r}=ur;return $r?Array.prototype.filter.call(Fr,Cr=>Cr.selected).map(Cr=>Cr[Dr]):Fr.selectedIndex===-1?null:Fr[Fr.selectedIndex][Dr]};let wr=pr(!1);const fr=Ar=>{const Dr=Ar.target.options;return Array.prototype.map.call(Dr,Fr=>({displayValue:Fr.textContent,exportValue:Fr.value}))};return this.enableScripting&&this.hasJSActions?(ur.addEventListener("updatefromsandbox",Ar=>{const Dr={value(Fr){or==null||or();const $r=Fr.detail.value,Cr=new Set(Array.isArray($r)?$r:[$r]);for(const Pr of ur.options)Pr.selected=Cr.has(Pr.value);Jn.setValue(Wn,{value:pr(!0)}),wr=pr(!1)},multipleSelection(Fr){ur.multiple=!0},remove(Fr){const $r=ur.options,Cr=Fr.detail.remove;$r[Cr].selected=!1,ur.remove(Cr),$r.length>0&&Array.prototype.findIndex.call($r,_r=>_r.selected)===-1&&($r[0].selected=!0),Jn.setValue(Wn,{value:pr(!0),items:fr(Fr)}),wr=pr(!1)},clear(Fr){for(;ur.length!==0;)ur.remove(0);Jn.setValue(Wn,{value:null,items:[]}),wr=pr(!1)},insert(Fr){const{index:$r,displayValue:Cr,exportValue:Pr}=Fr.detail.insert,_r=ur.children[$r],qr=document.createElement("option");qr.textContent=Cr,qr.value=Pr,_r?_r.before(qr):ur.append(qr),Jn.setValue(Wn,{value:pr(!0),items:fr(Fr)}),wr=pr(!1)},items(Fr){const{items:$r}=Fr.detail;for(;ur.length!==0;)ur.remove(0);for(const Cr of $r){const{displayValue:Pr,exportValue:_r}=Cr,qr=document.createElement("option");qr.textContent=Pr,qr.value=_r,ur.append(qr)}ur.options.length>0&&(ur.options[0].selected=!0),Jn.setValue(Wn,{value:pr(!0),items:fr(Fr)}),wr=pr(!1)},indices(Fr){const $r=new Set(Fr.detail.indices);for(const Cr of Fr.target.options)Cr.selected=$r.has(Cr.index);Jn.setValue(Wn,{value:pr(!0)}),wr=pr(!1)},editable(Fr){Fr.target.disabled=!Fr.detail.editable}};this._dispatchEventFromSandbox(Dr,Ar)}),ur.addEventListener("input",Ar=>{var Fr;const Dr=pr(!0);Jn.setValue(Wn,{value:Dr}),Ar.preventDefault(),(Fr=this.linkService.eventBus)==null||Fr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wn,name:"Keystroke",value:wr,changeEx:Dr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ur,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ar=>Ar.target.value)):ur.addEventListener("input",function(Ar){Jn.setValue(Wn,{value:pr(!0)})}),this.data.combo&&this._setTextStyle(ur),this._setBackgroundColor(ur),this._setDefaultPropertiesFromJS(ur),this.container.append(ur),this.container}}class Gt extends Ft{constructor(Jn){const{data:Wn,elements:Zn}=Jn;super(Jn,{isRenderable:Ft._hasPopupData(Wn)}),this.elements=Zn}render(){this.container.classList.add("popupAnnotation");const Jn=new Qt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Wn=[];for(const Zn of this.elements)Zn.popup=Jn,Wn.push(Zn.data.id),Zn.addHighlightArea();return this.container.setAttribute("aria-controls",Wn.map(Zn=>`${bt.AnnotationPrefix}${Zn}`).join(",")),this.container}}class Qt{constructor({container:Jn,color:Wn,elements:Zn,titleObj:ur,modificationDate:hr,contentsObj:or,richText:pr,parent:wr,rect:fr,parentRect:Ar,open:Dr}){Nn(this,Tn);Nn(this,xn,null);Nn(this,vn,In(this,Tn,Yv).bind(this));Nn(this,kn,In(this,Tn,L9).bind(this));Nn(this,Fn,In(this,Tn,O9).bind(this));Nn(this,On,In(this,Tn,F2).bind(this));Nn(this,Pn,null);Nn(this,Sn,null);Nn(this,mn,null);Nn(this,fn,null);Nn(this,Jt,null);Nn(this,cn,null);Nn(this,pn,!1);Nn(this,wn,null);Nn(this,En,null);Nn(this,_n,null);Nn(this,Cn,null);Nn(this,An,!1);var $r;$n(this,Sn,Jn),$n(this,Cn,ur),$n(this,mn,or),$n(this,_n,pr),$n(this,Jt,wr),$n(this,Pn,Wn),$n(this,En,fr),$n(this,cn,Ar),$n(this,fn,Zn);const Fr=At.PDFDateString.toDateObject(hr);Fr&&$n(this,xn,wr.l10n.get("annotation_date_string",{date:Fr.toLocaleDateString(),time:Fr.toLocaleTimeString()})),this.trigger=Zn.flatMap(Cr=>Cr.getElementsToTriggerPopup());for(const Cr of this.trigger)Cr.addEventListener("click",Ot(this,On)),Cr.addEventListener("mouseenter",Ot(this,Fn)),Cr.addEventListener("mouseleave",Ot(this,kn)),Cr.classList.add("popupTriggerArea");for(const Cr of Zn)($r=Cr.container)==null||$r.addEventListener("keydown",Ot(this,vn));Ot(this,Sn).hidden=!0,Dr&&In(this,Tn,F2).call(this)}render(){if(Ot(this,wn))return;const{page:{view:Jn},viewport:{rawDims:{pageWidth:Wn,pageHeight:Zn,pageX:ur,pageY:hr}}}=Ot(this,Jt),or=$n(this,wn,document.createElement("div"));if(or.className="popup",Ot(this,Pn)){const ls=or.style.outlineColor=bt.Util.makeHexColor(...Ot(this,Pn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?or.style.backgroundColor=`color-mix(in srgb, ${ls} 30%, white)`:or.style.backgroundColor=bt.Util.makeHexColor(...Ot(this,Pn).map(Ns=>Math.floor(.7*(255-Ns)+Ns)))}const pr=document.createElement("span");pr.className="header";const wr=document.createElement("h1");if(pr.append(wr),{dir:wr.dir,str:wr.textContent}=Ot(this,Cn),or.append(pr),Ot(this,xn)){const ls=document.createElement("span");ls.classList.add("popupDate"),Ot(this,xn).then(ns=>{ls.textContent=ns}),pr.append(ls)}const fr=Ot(this,mn),Ar=Ot(this,_n);if(Ar!=null&&Ar.str&&(!(fr!=null&&fr.str)||fr.str===Ar.str))Pt.XfaLayer.render({xfaHtml:Ar.html,intent:"richText",div:or}),or.lastChild.classList.add("richText","popupContent");else{const ls=this._formatContents(fr);or.append(ls)}let Dr=!!Ot(this,cn),Fr=Dr?Ot(this,cn):Ot(this,En);for(const ls of Ot(this,fn))if(!Fr||bt.Util.intersect(ls.data.rect,Fr)!==null){Fr=ls.data.rect,Dr=!0;break}const $r=bt.Util.normalizeRect([Fr[0],Jn[3]-Fr[1]+Jn[1],Fr[2],Jn[3]-Fr[3]+Jn[1]]),Pr=Dr?Fr[2]-Fr[0]+5:0,_r=$r[0]+Pr,qr=$r[1],{style:vs}=Ot(this,Sn);vs.left=`${100*(_r-ur)/Wn}%`,vs.top=`${100*(qr-hr)/Zn}%`,Ot(this,Sn).append(or)}_formatContents({str:Jn,dir:Wn}){const Zn=document.createElement("p");Zn.classList.add("popupContent"),Zn.dir=Wn;const ur=Jn.split(/(?:\r\n?|\n)/);for(let hr=0,or=ur.length;hr<or;++hr){const pr=ur[hr];Zn.append(document.createTextNode(pr)),hr<or-1&&Zn.append(document.createElement("br"))}return Zn}forceHide(){$n(this,An,this.isVisible),Ot(this,An)&&(Ot(this,Sn).hidden=!0)}maybeShow(){Ot(this,An)&&($n(this,An,!1),Ot(this,Sn).hidden=!1)}get isVisible(){return Ot(this,Sn).hidden===!1}}xn=new WeakMap,vn=new WeakMap,kn=new WeakMap,Fn=new WeakMap,On=new WeakMap,Pn=new WeakMap,Sn=new WeakMap,mn=new WeakMap,fn=new WeakMap,Jt=new WeakMap,cn=new WeakMap,pn=new WeakMap,wn=new WeakMap,En=new WeakMap,_n=new WeakMap,Cn=new WeakMap,An=new WeakMap,Tn=new WeakSet,Yv=function(Jn){Jn.altKey||Jn.shiftKey||Jn.ctrlKey||Jn.metaKey||(Jn.key==="Enter"||Jn.key==="Escape"&&Ot(this,pn))&&In(this,Tn,F2).call(this)},F2=function(){$n(this,pn,!Ot(this,pn)),Ot(this,pn)?(In(this,Tn,O9).call(this),Ot(this,Sn).addEventListener("click",Ot(this,On)),Ot(this,Sn).addEventListener("keydown",Ot(this,vn))):(In(this,Tn,L9).call(this),Ot(this,Sn).removeEventListener("click",Ot(this,On)),Ot(this,Sn).removeEventListener("keydown",Ot(this,vn)))},O9=function(){Ot(this,wn)||this.render(),this.isVisible?Ot(this,pn)&&Ot(this,Sn).classList.add("focused"):(Ot(this,Sn).hidden=!1,Ot(this,Sn).style.zIndex=parseInt(Ot(this,Sn).style.zIndex)+1e3)},L9=function(){Ot(this,Sn).classList.remove("focused"),!(Ot(this,pn)||!this.isVisible)&&(Ot(this,Sn).hidden=!0,Ot(this,Sn).style.zIndex=parseInt(Ot(this,Sn).style.zIndex)-1e3)};class ln extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Jn.data.textContent,this.textPosition=Jn.data.textPosition,this.annotationEditorType=bt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Jn=document.createElement("div");Jn.classList.add("annotationTextContent"),Jn.setAttribute("role","comment");for(const Wn of this.textContent){const Zn=document.createElement("span");Zn.textContent=Wn,Jn.append(Zn)}this.container.append(Jn)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=ln;class en extends Ft{constructor(Wn){super(Wn,{isRenderable:!0,ignoreBorder:!0});Nn(this,Un,null)}render(){this.container.classList.add("lineAnnotation");const Wn=this.data,{width:Zn,height:ur}=ht(Wn.rect),hr=this.svgFactory.create(Zn,ur,!0),or=$n(this,Un,this.svgFactory.createElement("svg:line"));return or.setAttribute("x1",Wn.rect[2]-Wn.lineCoordinates[0]),or.setAttribute("y1",Wn.rect[3]-Wn.lineCoordinates[1]),or.setAttribute("x2",Wn.rect[2]-Wn.lineCoordinates[2]),or.setAttribute("y2",Wn.rect[3]-Wn.lineCoordinates[3]),or.setAttribute("stroke-width",Wn.borderStyle.width||1),or.setAttribute("stroke","transparent"),or.setAttribute("fill","transparent"),hr.append(or),this.container.append(hr),!Wn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ot(this,Un)}addHighlightArea(){this.container.classList.add("highlightArea")}}Un=new WeakMap;class gn extends Ft{constructor(Wn){super(Wn,{isRenderable:!0,ignoreBorder:!0});Nn(this,tr,null)}render(){this.container.classList.add("squareAnnotation");const Wn=this.data,{width:Zn,height:ur}=ht(Wn.rect),hr=this.svgFactory.create(Zn,ur,!0),or=Wn.borderStyle.width,pr=$n(this,tr,this.svgFactory.createElement("svg:rect"));return pr.setAttribute("x",or/2),pr.setAttribute("y",or/2),pr.setAttribute("width",Zn-or),pr.setAttribute("height",ur-or),pr.setAttribute("stroke-width",or||1),pr.setAttribute("stroke","transparent"),pr.setAttribute("fill","transparent"),hr.append(pr),this.container.append(hr),!Wn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ot(this,tr)}addHighlightArea(){this.container.classList.add("highlightArea")}}tr=new WeakMap;class tn extends Ft{constructor(Wn){super(Wn,{isRenderable:!0,ignoreBorder:!0});Nn(this,er,null)}render(){this.container.classList.add("circleAnnotation");const Wn=this.data,{width:Zn,height:ur}=ht(Wn.rect),hr=this.svgFactory.create(Zn,ur,!0),or=Wn.borderStyle.width,pr=$n(this,er,this.svgFactory.createElement("svg:ellipse"));return pr.setAttribute("cx",Zn/2),pr.setAttribute("cy",ur/2),pr.setAttribute("rx",Zn/2-or/2),pr.setAttribute("ry",ur/2-or/2),pr.setAttribute("stroke-width",or||1),pr.setAttribute("stroke","transparent"),pr.setAttribute("fill","transparent"),hr.append(pr),this.container.append(hr),!Wn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ot(this,er)}addHighlightArea(){this.container.classList.add("highlightArea")}}er=new WeakMap;class bn extends Ft{constructor(Wn){super(Wn,{isRenderable:!0,ignoreBorder:!0});Nn(this,Qn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Wn=this.data,{width:Zn,height:ur}=ht(Wn.rect),hr=this.svgFactory.create(Zn,ur,!0);let or=[];for(const wr of Wn.vertices){const fr=wr.x-Wn.rect[0],Ar=Wn.rect[3]-wr.y;or.push(fr+","+Ar)}or=or.join(" ");const pr=$n(this,Qn,this.svgFactory.createElement(this.svgElementName));return pr.setAttribute("points",or),pr.setAttribute("stroke-width",Wn.borderStyle.width||1),pr.setAttribute("stroke","transparent"),pr.setAttribute("fill","transparent"),hr.append(pr),this.container.append(hr),!Wn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ot(this,Qn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qn=new WeakMap;class Xt extends bn{constructor(Jn){super(Jn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Yt extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class un extends Ft{constructor(Wn){super(Wn,{isRenderable:!0,ignoreBorder:!0});Nn(this,Yn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=bt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Wn=this.data,{width:Zn,height:ur}=ht(Wn.rect),hr=this.svgFactory.create(Zn,ur,!0);for(const or of Wn.inkLists){let pr=[];for(const fr of or){const Ar=fr.x-Wn.rect[0],Dr=Wn.rect[3]-fr.y;pr.push(`${Ar},${Dr}`)}pr=pr.join(" ");const wr=this.svgFactory.createElement(this.svgElementName);Ot(this,Yn).push(wr),wr.setAttribute("points",pr),wr.setAttribute("stroke-width",Wn.borderStyle.width||1),wr.setAttribute("stroke","transparent"),wr.setAttribute("fill","transparent"),!Wn.popupRef&&this.hasPopupData&&this._createPopup(),hr.append(wr)}return this.container.append(hr),this.container}getElementsToTriggerPopup(){return Ot(this,Yn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yn=new WeakMap,$.InkAnnotationElement=un;class Ut extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Lt extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Vt extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class an extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class zt extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=zt;class Wt extends Ft{constructor(Wn){var hr;super(Wn,{isRenderable:!0});Nn(this,nr);Nn(this,zn,null);const{filename:Zn,content:ur}=this.data.file;this.filename=(0,At.getFilenameFromUrl)(Zn,!0),this.content=ur,(hr=this.linkService.eventBus)==null||hr.dispatch("fileattachmentannotation",{source:this,filename:Zn,content:ur})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Wn,data:Zn}=this;let ur;Zn.hasAppearance||Zn.fillAlpha===0?ur=document.createElement("div"):(ur=document.createElement("img"),ur.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Zn.name)?"paperclip":"pushpin"}.svg`,Zn.fillAlpha&&Zn.fillAlpha<1&&(ur.style=`filter: opacity(${Math.round(Zn.fillAlpha*100)}%);`)),ur.addEventListener("dblclick",In(this,nr,D9).bind(this)),$n(this,zn,ur);const{isMac:hr}=bt.FeatureTest.platform;return Wn.addEventListener("keydown",or=>{or.key==="Enter"&&(hr?or.metaKey:or.ctrlKey)&&In(this,nr,D9).call(this)}),!Zn.popupRef&&this.hasPopupData?this._createPopup():ur.classList.add("popupTriggerArea"),Wn.append(ur),Wn}getElementsToTriggerPopup(){return Ot(this,zn)}addHighlightArea(){this.container.classList.add("highlightArea")}}zn=new WeakMap,nr=new WeakSet,D9=function(){var Wn;(Wn=this.downloadManager)==null||Wn.openOrDownloadData(this.container,this.content,this.filename)};class nn{constructor({div:Jn,accessibilityManager:Wn,annotationCanvasMap:Zn,l10n:ur,page:hr,viewport:or}){Nn(this,Xn);Nn(this,dr,null);Nn(this,jn,null);Nn(this,Hn,new Map);this.div=Jn,$n(this,dr,Wn),$n(this,jn,Zn),this.l10n=ur,this.page=hr,this.viewport=or,this.zIndex=0,this.l10n||(this.l10n=Ct.NullL10n)}async render(Jn){const{annotations:Wn}=Jn,Zn=this.div;(0,At.setLayerDimensions)(Zn,this.viewport);const ur=new Map,hr={data:null,layer:Zn,linkService:Jn.linkService,downloadManager:Jn.downloadManager,imageResourcesPath:Jn.imageResourcesPath||"",renderForms:Jn.renderForms!==!1,svgFactory:new At.DOMSVGFactory,annotationStorage:Jn.annotationStorage||new St.AnnotationStorage,enableScripting:Jn.enableScripting===!0,hasJSActions:Jn.hasJSActions,fieldObjects:Jn.fieldObjects,parent:this,elements:null};for(const or of Wn){if(or.noHTML)continue;const pr=or.annotationType===bt.AnnotationType.POPUP;if(pr){const Ar=ur.get(or.id);if(!Ar)continue;hr.elements=Ar}else{const{width:Ar,height:Dr}=ht(or.rect);if(Ar<=0||Dr<=0)continue}hr.data=or;const wr=vt.create(hr);if(!wr.isRenderable)continue;if(!pr&&or.popupRef){const Ar=ur.get(or.popupRef);Ar?Ar.push(wr):ur.set(or.popupRef,[wr])}wr.annotationEditorType>0&&Ot(this,Hn).set(wr.data.id,wr);const fr=wr.render();or.hidden&&(fr.style.visibility="hidden"),In(this,Xn,Zv).call(this,fr,or.id)}In(this,Xn,N9).call(this),await this.l10n.translate(Zn)}update({viewport:Jn}){const Wn=this.div;this.viewport=Jn,(0,At.setLayerDimensions)(Wn,{rotation:Jn.rotation}),In(this,Xn,N9).call(this),Wn.hidden=!1}getEditableAnnotations(){return Array.from(Ot(this,Hn).values())}getEditableAnnotation(Jn){return Ot(this,Hn).get(Jn)}}dr=new WeakMap,jn=new WeakMap,Hn=new WeakMap,Xn=new WeakSet,Zv=function(Jn,Wn){var ur;const Zn=Jn.firstChild||Jn;Zn.id=`${bt.AnnotationPrefix}${Wn}`,this.div.append(Jn),(ur=Ot(this,dr))==null||ur.moveElementInDOM(this.div,Jn,Zn,!1)},N9=function(){if(!Ot(this,jn))return;const Jn=this.div;for(const[Wn,Zn]of Ot(this,jn)){const ur=Jn.querySelector(`[data-annotation-id="${Wn}"]`);if(!ur)continue;const{firstChild:hr}=ur;hr?hr.nodeName==="CANVAS"?hr.replaceWith(Zn):hr.before(Zn):ur.append(Zn)}Ot(this,jn).clear()},$.AnnotationLayer=nn},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function xt(St){return Math.floor(Math.max(0,Math.min(1,St))*255).toString(16).padStart(2,"0")}function bt(St){return Math.max(0,Math.min(255,255*St))}class At{static CMYK_G([Et,Ct,Pt,wt]){return["G",1-Math.min(1,.3*Et+.59*Pt+.11*Ct+wt)]}static G_CMYK([Et]){return["CMYK",0,0,0,1-Et]}static G_RGB([Et]){return["RGB",Et,Et,Et]}static G_rgb([Et]){return Et=bt(Et),[Et,Et,Et]}static G_HTML([Et]){const Ct=xt(Et);return`#${Ct}${Ct}${Ct}`}static RGB_G([Et,Ct,Pt]){return["G",.3*Et+.59*Ct+.11*Pt]}static RGB_rgb(Et){return Et.map(bt)}static RGB_HTML(Et){return`#${Et.map(xt).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Et,Ct,Pt,wt]){return["RGB",1-Math.min(1,Et+wt),1-Math.min(1,Pt+wt),1-Math.min(1,Ct+wt)]}static CMYK_rgb([Et,Ct,Pt,wt]){return[bt(1-Math.min(1,Et+wt)),bt(1-Math.min(1,Pt+wt)),bt(1-Math.min(1,Ct+wt))]}static CMYK_HTML(Et){const Ct=this.CMYK_RGB(Et).slice(1);return this.RGB_HTML(Ct)}static RGB_CMYK([Et,Ct,Pt]){const wt=1-Et,kt=1-Ct,Rt=1-Pt,ht=Math.min(wt,kt,Rt);return["CMYK",wt,kt,Rt,ht]}}$.ColorConverters=At},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=bt;const xt={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};xt.print_progress_percent="{{progress}}%";function bt(Et,Ct){switch(Et){case"find_match_count":Et=`find_match_count[${Ct.total===1?"one":"other"}]`;break;case"find_match_count_limit":Et=`find_match_count_limit[${Ct.limit===1?"one":"other"}]`;break}return xt[Et]||""}function At(Et,Ct){return Ct?Et.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(Pt,wt)=>wt in Ct?Ct[wt]:"{{"+wt+"}}"):Et}const St={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Et,Ct=null,Pt=bt(Et,Ct)){return At(Pt,Ct)},async translate(Et){}};$.NullL10n=St},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var bt=xt(25);class At{static setupStorage(Et,Ct,Pt,wt,kt){const Rt=wt.getValue(Ct,{value:null});switch(Pt.name){case"textarea":if(Rt.value!==null&&(Et.textContent=Rt.value),kt==="print")break;Et.addEventListener("input",ht=>{wt.setValue(Ct,{value:ht.target.value})});break;case"input":if(Pt.attributes.type==="radio"||Pt.attributes.type==="checkbox"){if(Rt.value===Pt.attributes.xfaOn?Et.setAttribute("checked",!0):Rt.value===Pt.attributes.xfaOff&&Et.removeAttribute("checked"),kt==="print")break;Et.addEventListener("change",ht=>{wt.setValue(Ct,{value:ht.target.checked?ht.target.getAttribute("xfaOn"):ht.target.getAttribute("xfaOff")})})}else{if(Rt.value!==null&&Et.setAttribute("value",Rt.value),kt==="print")break;Et.addEventListener("input",ht=>{wt.setValue(Ct,{value:ht.target.value})})}break;case"select":if(Rt.value!==null){Et.setAttribute("value",Rt.value);for(const ht of Pt.children)ht.attributes.value===Rt.value?ht.attributes.selected=!0:ht.attributes.hasOwnProperty("selected")&&delete ht.attributes.selected}Et.addEventListener("input",ht=>{const vt=ht.target.options,Ft=vt.selectedIndex===-1?"":vt[vt.selectedIndex].value;wt.setValue(Ct,{value:Ft})});break}}static setAttributes({html:Et,element:Ct,storage:Pt=null,intent:wt,linkService:kt}){const{attributes:Rt}=Ct,ht=Et instanceof HTMLAnchorElement;Rt.type==="radio"&&(Rt.name=`${Rt.name}-${wt}`);for(const[vt,Ft]of Object.entries(Rt))if(Ft!=null)switch(vt){case"class":Ft.length&&Et.setAttribute(vt,Ft.join(" "));break;case"dataId":break;case"id":Et.setAttribute("data-element-id",Ft);break;case"style":Object.assign(Et.style,Ft);break;case"textContent":Et.textContent=Ft;break;default:(!ht||vt!=="href"&&vt!=="newWindow")&&Et.setAttribute(vt,Ft)}ht&&kt.addLinkAttributes(Et,Rt.href,Rt.newWindow),Pt&&Rt.dataId&&this.setupStorage(Et,Rt.dataId,Ct,Pt)}static render(Et){var Ht;const Ct=Et.annotationStorage,Pt=Et.linkService,wt=Et.xfaHtml,kt=Et.intent||"display",Rt=document.createElement(wt.name);wt.attributes&&this.setAttributes({html:Rt,element:wt,intent:kt,linkService:Pt});const ht=[[wt,-1,Rt]],vt=Et.div;if(vt.append(Rt),Et.viewport){const qt=`matrix(${Et.viewport.transform.join(",")})`;vt.style.transform=qt}kt!=="richText"&&vt.setAttribute("class","xfaLayer xfaFont");const Ft=[];for(;ht.length>0;){const[qt,Nt,$t]=ht.at(-1);if(Nt+1===qt.children.length){ht.pop();continue}const Mt=qt.children[++ht.at(-1)[1]];if(Mt===null)continue;const{name:Bt}=Mt;if(Bt==="#text"){const Kt=document.createTextNode(Mt.value);Ft.push(Kt),$t.append(Kt);continue}const _t=(Ht=Mt==null?void 0:Mt.attributes)!=null&&Ht.xmlns?document.createElementNS(Mt.attributes.xmlns,Bt):document.createElement(Bt);if($t.append(_t),Mt.attributes&&this.setAttributes({html:_t,element:Mt,storage:Ct,intent:kt,linkService:Pt}),Mt.children&&Mt.children.length>0)ht.push([Mt,-1,_t]);else if(Mt.value){const Kt=document.createTextNode(Mt.value);bt.XfaText.shouldBuildText(Bt)&&Ft.push(Kt),_t.append(Kt)}}for(const qt of vt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))qt.setAttribute("readOnly",!0);return{textDivs:Ft}}static update(Et){const Ct=`matrix(${Et.viewport.transform.join(",")})`;Et.div.style.transform=Ct,Et.div.hidden=!1}}$.XfaLayer=At},(_e,$,xt)=>{var wt,kt,Rt,ht,vt,Ft,Ht,qt,Nt,$t,Mt,Bt,_t,Kt,jt,Jv,Qv,e5,t5,$9,n5,B9,i5,r5,s5,a5,o5,h0,j9,R2,M2,zp,U9,I2,hn,l5,H9,c5,u5,V9,O2,Xp;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var bt=xt(1),At=xt(4),St=xt(29),Et=xt(6),Ct=xt(5);const Pn=class Pn extends At.AnnotationEditor{constructor(fn){super({...fn,name:"inkEditor"});Nn(this,jt);Nn(this,wt,0);Nn(this,kt,0);Nn(this,Rt,this.canvasPointermove.bind(this));Nn(this,ht,this.canvasPointerleave.bind(this));Nn(this,vt,this.canvasPointerup.bind(this));Nn(this,Ft,this.canvasPointerdown.bind(this));Nn(this,Ht,new Path2D);Nn(this,qt,!1);Nn(this,Nt,!1);Nn(this,$t,!1);Nn(this,Mt,null);Nn(this,Bt,0);Nn(this,_t,0);Nn(this,Kt,null);this.color=fn.color||null,this.thickness=fn.thickness||null,this.opacity=fn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(fn){At.AnnotationEditor.initialize(fn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(fn,Jt){switch(fn){case bt.AnnotationEditorParamsType.INK_THICKNESS:Pn._defaultThickness=Jt;break;case bt.AnnotationEditorParamsType.INK_COLOR:Pn._defaultColor=Jt;break;case bt.AnnotationEditorParamsType.INK_OPACITY:Pn._defaultOpacity=Jt/100;break}}updateParams(fn,Jt){switch(fn){case bt.AnnotationEditorParamsType.INK_THICKNESS:In(this,jt,Jv).call(this,Jt);break;case bt.AnnotationEditorParamsType.INK_COLOR:In(this,jt,Qv).call(this,Jt);break;case bt.AnnotationEditorParamsType.INK_OPACITY:In(this,jt,e5).call(this,Jt);break}}static get defaultPropertiesToUpdate(){return[[bt.AnnotationEditorParamsType.INK_THICKNESS,Pn._defaultThickness],[bt.AnnotationEditorParamsType.INK_COLOR,Pn._defaultColor||At.AnnotationEditor._defaultLineColor],[bt.AnnotationEditorParamsType.INK_OPACITY,Math.round(Pn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[bt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Pn._defaultThickness],[bt.AnnotationEditorParamsType.INK_COLOR,this.color||Pn._defaultColor||At.AnnotationEditor._defaultLineColor],[bt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Pn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(In(this,jt,R2).call(this),In(this,jt,M2).call(this)),this.isAttachedToDOM||(this.parent.add(this),In(this,jt,zp).call(this)),In(this,jt,Xp).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Ot(this,Mt).disconnect(),$n(this,Mt,null),super.remove())}setParent(fn){!this.parent&&fn?this._uiManager.removeShouldRescale(this):this.parent&&fn===null&&this._uiManager.addShouldRescale(this),super.setParent(fn)}onScaleChanging(){const[fn,Jt]=this.parentDimensions,cn=this.width*fn,pn=this.height*Jt;this.setDimensions(cn,pn)}enableEditMode(){Ot(this,qt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Ot(this,Ft)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Ot(this,Ft)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Ot(this,qt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),$n(this,qt,!0),this.div.classList.add("disabled"),In(this,jt,Xp).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(fn){this._focusEventsAllowed&&(super.focusin(fn),this.enableEditMode())}canvasPointerdown(fn){fn.button!==0||!this.isInEditMode()||Ot(this,qt)||(this.setInForeground(),fn.preventDefault(),fn.type!=="mouse"&&this.div.focus(),In(this,jt,n5).call(this,fn.offsetX,fn.offsetY))}canvasPointermove(fn){fn.preventDefault(),In(this,jt,B9).call(this,fn.offsetX,fn.offsetY)}canvasPointerup(fn){fn.preventDefault(),In(this,jt,j9).call(this,fn)}canvasPointerleave(fn){In(this,jt,j9).call(this,fn)}get isResizable(){return!this.isEmpty()&&Ot(this,qt)}render(){if(this.div)return this.div;let fn,Jt;this.width&&(fn=this.x,Jt=this.y),super.render(),At.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(_n=>{var Cn;return(Cn=this.div)==null?void 0:Cn.setAttribute("aria-label",_n)});const[cn,pn,wn,En]=In(this,jt,t5).call(this);if(this.setAt(cn,pn,0,0),this.setDims(wn,En),In(this,jt,R2).call(this),this.width){const[_n,Cn]=this.parentDimensions;this.setAspectRatio(this.width*_n,this.height*Cn),this.setAt(fn*_n,Jt*Cn,this.width*_n,this.height*Cn),$n(this,$t,!0),In(this,jt,zp).call(this),this.setDims(this.width*_n,this.height*Cn),In(this,jt,h0).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return In(this,jt,M2).call(this),this.div}setDimensions(fn,Jt){const cn=Math.round(fn),pn=Math.round(Jt);if(Ot(this,Bt)===cn&&Ot(this,_t)===pn)return;$n(this,Bt,cn),$n(this,_t,pn),this.canvas.style.visibility="hidden";const[wn,En]=this.parentDimensions;this.width=fn/wn,this.height=Jt/En,this.fixAndSetPosition(),Ot(this,qt)&&In(this,jt,U9).call(this,fn,Jt),In(this,jt,zp).call(this),In(this,jt,h0).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(fn,Jt,cn){var Un,tr,er;if(fn instanceof St.InkAnnotationElement)return null;const pn=super.deserialize(fn,Jt,cn);pn.thickness=fn.thickness,pn.color=bt.Util.makeHexColor(...fn.color),pn.opacity=fn.opacity;const[wn,En]=pn.pageDimensions,_n=pn.width*wn,Cn=pn.height*En,An=pn.parentScale,Tn=fn.thickness/2;$n(pn,qt,!0),$n(pn,Bt,Math.round(_n)),$n(pn,_t,Math.round(Cn));const{paths:Mn,rect:Rn,rotation:Ln}=fn;for(let{bezier:Qn}of Mn){Qn=In(Un=Pn,hn,c5).call(Un,Qn,Rn,Ln);const Yn=[];pn.paths.push(Yn);let zn=An*(Qn[0]-Tn),nr=An*(Qn[1]-Tn);for(let dr=2,jn=Qn.length;dr<jn;dr+=6){const Hn=An*(Qn[dr]-Tn),Xn=An*(Qn[dr+1]-Tn),cr=An*(Qn[dr+2]-Tn),sr=An*(Qn[dr+3]-Tn),xr=An*(Qn[dr+4]-Tn),Jn=An*(Qn[dr+5]-Tn);Yn.push([[zn,nr],[Hn,Xn],[cr,sr],[xr,Jn]]),zn=xr,nr=Jn}const lr=In(this,hn,l5).call(this,Yn);pn.bezierPath2D.push(lr)}const Dn=In(tr=pn,jt,V9).call(tr);return $n(pn,kt,Math.max(At.AnnotationEditor.MIN_SIZE,Dn[2]-Dn[0])),$n(pn,wt,Math.max(At.AnnotationEditor.MIN_SIZE,Dn[3]-Dn[1])),In(er=pn,jt,U9).call(er,_n,Cn),pn}serialize(){if(this.isEmpty())return null;const fn=this.getRect(0,0),Jt=At.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:bt.AnnotationEditorType.INK,color:Jt,thickness:this.thickness,opacity:this.opacity,paths:In(this,jt,u5).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,fn),pageIndex:this.pageIndex,rect:fn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};wt=new WeakMap,kt=new WeakMap,Rt=new WeakMap,ht=new WeakMap,vt=new WeakMap,Ft=new WeakMap,Ht=new WeakMap,qt=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Mt=new WeakMap,Bt=new WeakMap,_t=new WeakMap,Kt=new WeakMap,jt=new WeakSet,Jv=function(fn){const Jt=this.thickness;this.addCommands({cmd:()=>{this.thickness=fn,In(this,jt,Xp).call(this)},undo:()=>{this.thickness=Jt,In(this,jt,Xp).call(this)},mustExec:!0,type:bt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Qv=function(fn){const Jt=this.color;this.addCommands({cmd:()=>{this.color=fn,In(this,jt,h0).call(this)},undo:()=>{this.color=Jt,In(this,jt,h0).call(this)},mustExec:!0,type:bt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},e5=function(fn){fn/=100;const Jt=this.opacity;this.addCommands({cmd:()=>{this.opacity=fn,In(this,jt,h0).call(this)},undo:()=>{this.opacity=Jt,In(this,jt,h0).call(this)},mustExec:!0,type:bt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},t5=function(){const{parentRotation:fn,parentDimensions:[Jt,cn]}=this;switch(fn){case 90:return[0,cn,cn,Jt];case 180:return[Jt,cn,Jt,cn];case 270:return[Jt,0,cn,Jt];default:return[0,0,Jt,cn]}},$9=function(){const{ctx:fn,color:Jt,opacity:cn,thickness:pn,parentScale:wn,scaleFactor:En}=this;fn.lineWidth=pn*wn/En,fn.lineCap="round",fn.lineJoin="round",fn.miterLimit=10,fn.strokeStyle=`${Jt}${(0,Ct.opacityToHex)(cn)}`},n5=function(fn,Jt){this.canvas.addEventListener("contextmenu",Et.noContextMenu),this.canvas.addEventListener("pointerleave",Ot(this,ht)),this.canvas.addEventListener("pointermove",Ot(this,Rt)),this.canvas.addEventListener("pointerup",Ot(this,vt)),this.canvas.removeEventListener("pointerdown",Ot(this,Ft)),this.isEditing=!0,Ot(this,$t)||($n(this,$t,!0),In(this,jt,zp).call(this),this.thickness||(this.thickness=Pn._defaultThickness),this.color||(this.color=Pn._defaultColor||At.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Pn._defaultOpacity)),this.currentPath.push([fn,Jt]),$n(this,Nt,!1),In(this,jt,$9).call(this),$n(this,Kt,()=>{In(this,jt,s5).call(this),Ot(this,Kt)&&window.requestAnimationFrame(Ot(this,Kt))}),window.requestAnimationFrame(Ot(this,Kt))},B9=function(fn,Jt){const[cn,pn]=this.currentPath.at(-1);if(this.currentPath.length>1&&fn===cn&&Jt===pn)return;const wn=this.currentPath;let En=Ot(this,Ht);if(wn.push([fn,Jt]),$n(this,Nt,!0),wn.length<=2){En.moveTo(...wn[0]),En.lineTo(fn,Jt);return}wn.length===3&&($n(this,Ht,En=new Path2D),En.moveTo(...wn[0])),In(this,jt,a5).call(this,En,...wn.at(-3),...wn.at(-2),fn,Jt)},i5=function(){if(this.currentPath.length===0)return;const fn=this.currentPath.at(-1);Ot(this,Ht).lineTo(...fn)},r5=function(fn,Jt){$n(this,Kt,null),fn=Math.min(Math.max(fn,0),this.canvas.width),Jt=Math.min(Math.max(Jt,0),this.canvas.height),In(this,jt,B9).call(this,fn,Jt),In(this,jt,i5).call(this);let cn;if(this.currentPath.length!==1)cn=In(this,jt,o5).call(this);else{const Cn=[fn,Jt];cn=[[Cn,Cn.slice(),Cn.slice(),Cn]]}const pn=Ot(this,Ht),wn=this.currentPath;this.currentPath=[],$n(this,Ht,new Path2D);const En=()=>{this.allRawPaths.push(wn),this.paths.push(cn),this.bezierPath2D.push(pn),this.rebuild()},_n=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(In(this,jt,R2).call(this),In(this,jt,M2).call(this)),In(this,jt,Xp).call(this))};this.addCommands({cmd:En,undo:_n,mustExec:!0})},s5=function(){if(!Ot(this,Nt))return;$n(this,Nt,!1);const fn=Math.ceil(this.thickness*this.parentScale),Jt=this.currentPath.slice(-3),cn=Jt.map(En=>En[0]),pn=Jt.map(En=>En[1]);Math.min(...cn)-fn,Math.max(...cn)+fn,Math.min(...pn)-fn,Math.max(...pn)+fn;const{ctx:wn}=this;wn.save(),wn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const En of this.bezierPath2D)wn.stroke(En);wn.stroke(Ot(this,Ht)),wn.restore()},a5=function(fn,Jt,cn,pn,wn,En,_n){const Cn=(Jt+pn)/2,An=(cn+wn)/2,Tn=(pn+En)/2,Mn=(wn+_n)/2;fn.bezierCurveTo(Cn+2*(pn-Cn)/3,An+2*(wn-An)/3,Tn+2*(pn-Tn)/3,Mn+2*(wn-Mn)/3,Tn,Mn)},o5=function(){const fn=this.currentPath;if(fn.length<=2)return[[fn[0],fn[0],fn.at(-1),fn.at(-1)]];const Jt=[];let cn,[pn,wn]=fn[0];for(cn=1;cn<fn.length-2;cn++){const[Rn,Ln]=fn[cn],[Dn,Un]=fn[cn+1],tr=(Rn+Dn)/2,er=(Ln+Un)/2,Qn=[pn+2*(Rn-pn)/3,wn+2*(Ln-wn)/3],Yn=[tr+2*(Rn-tr)/3,er+2*(Ln-er)/3];Jt.push([[pn,wn],Qn,Yn,[tr,er]]),[pn,wn]=[tr,er]}const[En,_n]=fn[cn],[Cn,An]=fn[cn+1],Tn=[pn+2*(En-pn)/3,wn+2*(_n-wn)/3],Mn=[Cn+2*(En-Cn)/3,An+2*(_n-An)/3];return Jt.push([[pn,wn],Tn,Mn,[Cn,An]]),Jt},h0=function(){if(this.isEmpty()){In(this,jt,I2).call(this);return}In(this,jt,$9).call(this);const{canvas:fn,ctx:Jt}=this;Jt.setTransform(1,0,0,1,0,0),Jt.clearRect(0,0,fn.width,fn.height),In(this,jt,I2).call(this);for(const cn of this.bezierPath2D)Jt.stroke(cn)},j9=function(fn){this.canvas.removeEventListener("pointerleave",Ot(this,ht)),this.canvas.removeEventListener("pointermove",Ot(this,Rt)),this.canvas.removeEventListener("pointerup",Ot(this,vt)),this.canvas.addEventListener("pointerdown",Ot(this,Ft)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Et.noContextMenu)},10),In(this,jt,r5).call(this,fn.offsetX,fn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},R2=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",At.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(fn=>{var Jt;return(Jt=this.canvas)==null?void 0:Jt.setAttribute("aria-label",fn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},M2=function(){$n(this,Mt,new ResizeObserver(fn=>{const Jt=fn[0].contentRect;Jt.width&&Jt.height&&this.setDimensions(Jt.width,Jt.height)})),Ot(this,Mt).observe(this.div)},zp=function(){if(!Ot(this,$t))return;const[fn,Jt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*fn),this.canvas.height=Math.ceil(this.height*Jt),In(this,jt,I2).call(this)},U9=function(fn,Jt){const cn=In(this,jt,O2).call(this),pn=(fn-cn)/Ot(this,kt),wn=(Jt-cn)/Ot(this,wt);this.scaleFactor=Math.min(pn,wn)},I2=function(){const fn=In(this,jt,O2).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+fn,this.translationY*this.scaleFactor+fn)},hn=new WeakSet,l5=function(fn){const Jt=new Path2D;for(let cn=0,pn=fn.length;cn<pn;cn++){const[wn,En,_n,Cn]=fn[cn];cn===0&&Jt.moveTo(...wn),Jt.bezierCurveTo(En[0],En[1],_n[0],_n[1],Cn[0],Cn[1])}return Jt},H9=function(fn,Jt,cn){const[pn,wn,En,_n]=Jt;switch(cn){case 0:for(let Cn=0,An=fn.length;Cn<An;Cn+=2)fn[Cn]+=pn,fn[Cn+1]=_n-fn[Cn+1];break;case 90:for(let Cn=0,An=fn.length;Cn<An;Cn+=2){const Tn=fn[Cn];fn[Cn]=fn[Cn+1]+pn,fn[Cn+1]=Tn+wn}break;case 180:for(let Cn=0,An=fn.length;Cn<An;Cn+=2)fn[Cn]=En-fn[Cn],fn[Cn+1]+=wn;break;case 270:for(let Cn=0,An=fn.length;Cn<An;Cn+=2){const Tn=fn[Cn];fn[Cn]=En-fn[Cn+1],fn[Cn+1]=_n-Tn}break;default:throw new Error("Invalid rotation")}return fn},c5=function(fn,Jt,cn){const[pn,wn,En,_n]=Jt;switch(cn){case 0:for(let Cn=0,An=fn.length;Cn<An;Cn+=2)fn[Cn]-=pn,fn[Cn+1]=_n-fn[Cn+1];break;case 90:for(let Cn=0,An=fn.length;Cn<An;Cn+=2){const Tn=fn[Cn];fn[Cn]=fn[Cn+1]-wn,fn[Cn+1]=Tn-pn}break;case 180:for(let Cn=0,An=fn.length;Cn<An;Cn+=2)fn[Cn]=En-fn[Cn],fn[Cn+1]-=wn;break;case 270:for(let Cn=0,An=fn.length;Cn<An;Cn+=2){const Tn=fn[Cn];fn[Cn]=_n-fn[Cn+1],fn[Cn+1]=En-Tn}break;default:throw new Error("Invalid rotation")}return fn},u5=function(fn,Jt,cn,pn){var An,Tn;const wn=[],En=this.thickness/2,_n=fn*Jt+En,Cn=fn*cn+En;for(const Mn of this.paths){const Rn=[],Ln=[];for(let Dn=0,Un=Mn.length;Dn<Un;Dn++){const[tr,er,Qn,Yn]=Mn[Dn],zn=fn*tr[0]+_n,nr=fn*tr[1]+Cn,lr=fn*er[0]+_n,dr=fn*er[1]+Cn,jn=fn*Qn[0]+_n,Hn=fn*Qn[1]+Cn,Xn=fn*Yn[0]+_n,cr=fn*Yn[1]+Cn;Dn===0&&(Rn.push(zn,nr),Ln.push(zn,nr)),Rn.push(lr,dr,jn,Hn,Xn,cr),Ln.push(lr,dr),Dn===Un-1&&Ln.push(Xn,cr)}wn.push({bezier:In(An=Pn,hn,H9).call(An,Rn,pn,this.rotation),points:In(Tn=Pn,hn,H9).call(Tn,Ln,pn,this.rotation)})}return wn},V9=function(){let fn=1/0,Jt=-1/0,cn=1/0,pn=-1/0;for(const wn of this.paths)for(const[En,_n,Cn,An]of wn){const Tn=bt.Util.bezierBoundingBox(...En,..._n,...Cn,...An);fn=Math.min(fn,Tn[0]),cn=Math.min(cn,Tn[1]),Jt=Math.max(Jt,Tn[2]),pn=Math.max(pn,Tn[3])}return[fn,cn,Jt,pn]},O2=function(){return Ot(this,qt)?Math.ceil(this.thickness*this.parentScale):0},Xp=function(fn=!1){if(this.isEmpty())return;if(!Ot(this,qt)){In(this,jt,h0).call(this);return}const Jt=In(this,jt,V9).call(this),cn=In(this,jt,O2).call(this);$n(this,kt,Math.max(At.AnnotationEditor.MIN_SIZE,Jt[2]-Jt[0])),$n(this,wt,Math.max(At.AnnotationEditor.MIN_SIZE,Jt[3]-Jt[1]));const pn=Math.ceil(cn+Ot(this,kt)*this.scaleFactor),wn=Math.ceil(cn+Ot(this,wt)*this.scaleFactor),[En,_n]=this.parentDimensions;this.width=pn/En,this.height=wn/_n,this.setAspectRatio(pn,wn);const Cn=this.translationX,An=this.translationY;this.translationX=-Jt[0],this.translationY=-Jt[1],In(this,jt,zp).call(this),In(this,jt,h0).call(this),$n(this,Bt,pn),$n(this,_t,wn),this.setDims(pn,wn);const Tn=fn?cn/this.scaleFactor/2:0;this.translate(Cn-this.translationX-Tn,An-this.translationY-Tn)},Nn(Pn,hn),Ur(Pn,"_defaultColor",null),Ur(Pn,"_defaultOpacity",1),Ur(Pn,"_defaultThickness",1),Ur(Pn,"_type","ink");let Pt=Pn;$.InkEditor=Pt},(_e,$,xt)=>{var Pt,wt,kt,Rt,ht,vt,Ft,Ht,qt,Nt,$t,fm,pm,L2,z9,h5,d5,X9,D2,f5;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var bt=xt(1),At=xt(4),St=xt(6),Et=xt(29);const gn=class gn extends At.AnnotationEditor{constructor(Xt){super({...Xt,name:"stampEditor"});Nn(this,$t);Nn(this,Pt,null);Nn(this,wt,null);Nn(this,kt,null);Nn(this,Rt,null);Nn(this,ht,null);Nn(this,vt,null);Nn(this,Ft,null);Nn(this,Ht,null);Nn(this,qt,!1);Nn(this,Nt,!1);$n(this,Rt,Xt.bitmapUrl),$n(this,ht,Xt.bitmapFile)}static initialize(Xt){At.AnnotationEditor.initialize(Xt)}static get supportedTypes(){const Xt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,bt.shadow)(this,"supportedTypes",Xt.map(Yt=>`image/${Yt}`))}static get supportedTypesStr(){return(0,bt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Xt){return this.supportedTypes.includes(Xt)}static paste(Xt,Yt){Yt.pasteEditor(bt.AnnotationEditorType.STAMP,{bitmapFile:Xt.getAsFile()})}remove(){var Xt,Yt;Ot(this,wt)&&($n(this,Pt,null),this._uiManager.imageManager.deleteId(Ot(this,wt)),(Xt=Ot(this,vt))==null||Xt.remove(),$n(this,vt,null),(Yt=Ot(this,Ft))==null||Yt.disconnect(),$n(this,Ft,null)),super.remove()}rebuild(){if(!this.parent){Ot(this,wt)&&In(this,$t,L2).call(this);return}super.rebuild(),this.div!==null&&(Ot(this,wt)&&In(this,$t,L2).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Ot(this,kt)||Ot(this,Pt)||Ot(this,Rt)||Ot(this,ht))}get isResizable(){return!0}render(){if(this.div)return this.div;let Xt,Yt;if(this.width&&(Xt=this.x,Yt=this.y),super.render(),this.div.hidden=!0,Ot(this,Pt)?In(this,$t,z9).call(this):In(this,$t,L2).call(this),this.width){const[un,Ut]=this.parentDimensions;this.setAt(Xt*un,Yt*Ut,this.width*un,this.height*Ut)}return this.div}static deserialize(Xt,Yt,un){if(Xt instanceof Et.StampAnnotationElement)return null;const Ut=super.deserialize(Xt,Yt,un),{rect:Lt,bitmapUrl:Vt,bitmapId:an,isSvg:zt,accessibilityData:Wt}=Xt;an&&un.imageManager.isValidId(an)?$n(Ut,wt,an):$n(Ut,Rt,Vt),$n(Ut,qt,zt);const[nn,dn]=Ut.pageDimensions;return Ut.width=(Lt[2]-Lt[0])/nn,Ut.height=(Lt[3]-Lt[1])/dn,Wt&&(Ut.altTextData=Wt),Ut}serialize(Xt=!1,Yt=null){if(this.isEmpty())return null;const un={annotationType:bt.AnnotationEditorType.STAMP,bitmapId:Ot(this,wt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Ot(this,qt),structTreeParentId:this._structTreeParentId};if(Xt)return un.bitmapUrl=In(this,$t,D2).call(this,!0),un.accessibilityData=this.altTextData,un;const{decorative:Ut,altText:Lt}=this.altTextData;if(!Ut&&Lt&&(un.accessibilityData={type:"Figure",alt:Lt}),Yt===null)return un;Yt.stamps||(Yt.stamps=new Map);const Vt=Ot(this,qt)?(un.rect[2]-un.rect[0])*(un.rect[3]-un.rect[1]):null;if(!Yt.stamps.has(Ot(this,wt)))Yt.stamps.set(Ot(this,wt),{area:Vt,serialized:un}),un.bitmap=In(this,$t,D2).call(this,!1);else if(Ot(this,qt)){const an=Yt.stamps.get(Ot(this,wt));Vt>an.area&&(an.area=Vt,an.serialized.bitmap.close(),an.serialized.bitmap=In(this,$t,D2).call(this,!1))}return un}};Pt=new WeakMap,wt=new WeakMap,kt=new WeakMap,Rt=new WeakMap,ht=new WeakMap,vt=new WeakMap,Ft=new WeakMap,Ht=new WeakMap,qt=new WeakMap,Nt=new WeakMap,$t=new WeakSet,fm=function(Xt,Yt=!1){if(!Xt){this.remove();return}$n(this,Pt,Xt.bitmap),Yt||($n(this,wt,Xt.id),$n(this,qt,Xt.isSvg)),In(this,$t,z9).call(this)},pm=function(){$n(this,kt,null),this._uiManager.enableWaiting(!1),Ot(this,vt)&&this.div.focus()},L2=function(){if(Ot(this,wt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Ot(this,wt)).then(Yt=>In(this,$t,fm).call(this,Yt,!0)).finally(()=>In(this,$t,pm).call(this));return}if(Ot(this,Rt)){const Yt=Ot(this,Rt);$n(this,Rt,null),this._uiManager.enableWaiting(!0),$n(this,kt,this._uiManager.imageManager.getFromUrl(Yt).then(un=>In(this,$t,fm).call(this,un)).finally(()=>In(this,$t,pm).call(this)));return}if(Ot(this,ht)){const Yt=Ot(this,ht);$n(this,ht,null),this._uiManager.enableWaiting(!0),$n(this,kt,this._uiManager.imageManager.getFromFile(Yt).then(un=>In(this,$t,fm).call(this,un)).finally(()=>In(this,$t,pm).call(this)));return}const Xt=document.createElement("input");Xt.type="file",Xt.accept=gn.supportedTypesStr,$n(this,kt,new Promise(Yt=>{Xt.addEventListener("change",async()=>{if(!Xt.files||Xt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const un=await this._uiManager.imageManager.getFromFile(Xt.files[0]);In(this,$t,fm).call(this,un)}Yt()}),Xt.addEventListener("cancel",()=>{this.remove(),Yt()})}).finally(()=>In(this,$t,pm).call(this))),Xt.click()},z9=function(){const{div:Xt}=this;let{width:Yt,height:un}=Ot(this,Pt);const[Ut,Lt]=this.pageDimensions,Vt=.75;if(this.width)Yt=this.width*Ut,un=this.height*Lt;else if(Yt>Vt*Ut||un>Vt*Lt){const nn=Math.min(Vt*Ut/Yt,Vt*Lt/un);Yt*=nn,un*=nn}const[an,zt]=this.parentDimensions;this.setDims(Yt*an/Ut,un*zt/Lt),this._uiManager.enableWaiting(!1);const Wt=$n(this,vt,document.createElement("canvas"));Xt.append(Wt),Xt.hidden=!1,In(this,$t,X9).call(this,Yt,un),In(this,$t,f5).call(this),Ot(this,Nt)||(this.parent.addUndoableEditor(this),$n(this,Nt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},h5=function(Xt,Yt){var Vt;const[un,Ut]=this.parentDimensions;this.width=Xt/un,this.height=Yt/Ut,this.setDims(Xt,Yt),(Vt=this._initialOptions)!=null&&Vt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Ot(this,Ht)!==null&&clearTimeout(Ot(this,Ht)),$n(this,Ht,setTimeout(()=>{$n(this,Ht,null),In(this,$t,X9).call(this,Xt,Yt)},200))},d5=function(Xt,Yt){const{width:un,height:Ut}=Ot(this,Pt);let Lt=un,Vt=Ut,an=Ot(this,Pt);for(;Lt>2*Xt||Vt>2*Yt;){const zt=Lt,Wt=Vt;Lt>2*Xt&&(Lt=Lt>=16384?Math.floor(Lt/2)-1:Math.ceil(Lt/2)),Vt>2*Yt&&(Vt=Vt>=16384?Math.floor(Vt/2)-1:Math.ceil(Vt/2));const nn=new OffscreenCanvas(Lt,Vt);nn.getContext("2d").drawImage(an,0,0,zt,Wt,0,0,Lt,Vt),an=nn.transferToImageBitmap()}return an},X9=function(Xt,Yt){Xt=Math.ceil(Xt),Yt=Math.ceil(Yt);const un=Ot(this,vt);if(!un||un.width===Xt&&un.height===Yt)return;un.width=Xt,un.height=Yt;const Ut=Ot(this,qt)?Ot(this,Pt):In(this,$t,d5).call(this,Xt,Yt),Lt=un.getContext("2d");Lt.filter=this._uiManager.hcmFilter,Lt.drawImage(Ut,0,0,Ut.width,Ut.height,0,0,Xt,Yt)},D2=function(Xt){if(Xt){if(Ot(this,qt)){const Ut=this._uiManager.imageManager.getSvgUrl(Ot(this,wt));if(Ut)return Ut}const Yt=document.createElement("canvas");return{width:Yt.width,height:Yt.height}=Ot(this,Pt),Yt.getContext("2d").drawImage(Ot(this,Pt),0,0),Yt.toDataURL()}if(Ot(this,qt)){const[Yt,un]=this.pageDimensions,Ut=Math.round(this.width*Yt*St.PixelsPerInch.PDF_TO_CSS_UNITS),Lt=Math.round(this.height*un*St.PixelsPerInch.PDF_TO_CSS_UNITS),Vt=new OffscreenCanvas(Ut,Lt);return Vt.getContext("2d").drawImage(Ot(this,Pt),0,0,Ot(this,Pt).width,Ot(this,Pt).height,0,0,Ut,Lt),Vt.transferToImageBitmap()}return structuredClone(Ot(this,Pt))},f5=function(){$n(this,Ft,new ResizeObserver(Xt=>{const Yt=Xt[0].contentRect;Yt.width&&Yt.height&&In(this,$t,h5).call(this,Yt.width,Yt.height)})),Ot(this,Ft).observe(this.div)},Ur(gn,"_type","stamp");let Ct=gn;$.StampEditor=Ct}],__webpack_module_cache__={};function __w_pdfjs_require__(_e){var $=__webpack_module_cache__[_e];if($!==void 0)return $.exports;var xt=__webpack_module_cache__[_e]={exports:{}};return __webpack_modules__[_e](xt,xt.exports,__w_pdfjs_require__),xt.exports}var __webpack_exports__={};return(()=>{var _e=__webpack_exports__;Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(_e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return St.AnnotationEditorLayer}}),Object.defineProperty(_e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(_e,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(_e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Et.AnnotationEditorUIManager}}),Object.defineProperty(_e,"AnnotationLayer",{enumerable:!0,get:function(){return Ct.AnnotationLayer}}),Object.defineProperty(_e,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(_e,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(_e,"DOMSVGFactory",{enumerable:!0,get:function(){return bt.DOMSVGFactory}}),Object.defineProperty(_e,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(_e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Pt.GlobalWorkerOptions}}),Object.defineProperty(_e,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(_e,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(_e,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(_e,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(_e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return xt.PDFDataRangeTransport}}),Object.defineProperty(_e,"PDFDateString",{enumerable:!0,get:function(){return bt.PDFDateString}}),Object.defineProperty(_e,"PDFWorker",{enumerable:!0,get:function(){return xt.PDFWorker}}),Object.defineProperty(_e,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(_e,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(_e,"PixelsPerInch",{enumerable:!0,get:function(){return bt.PixelsPerInch}}),Object.defineProperty(_e,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(_e,"RenderingCancelledException",{enumerable:!0,get:function(){return bt.RenderingCancelledException}}),Object.defineProperty(_e,"SVGGraphics",{enumerable:!0,get:function(){return xt.SVGGraphics}}),Object.defineProperty(_e,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(_e,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(_e,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(_e,"XfaLayer",{enumerable:!0,get:function(){return wt.XfaLayer}}),Object.defineProperty(_e,"build",{enumerable:!0,get:function(){return xt.build}}),Object.defineProperty(_e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(_e,"getDocument",{enumerable:!0,get:function(){return xt.getDocument}}),Object.defineProperty(_e,"getFilenameFromUrl",{enumerable:!0,get:function(){return bt.getFilenameFromUrl}}),Object.defineProperty(_e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return bt.getPdfFilenameFromUrl}}),Object.defineProperty(_e,"getXfaPageViewport",{enumerable:!0,get:function(){return bt.getXfaPageViewport}}),Object.defineProperty(_e,"isDataScheme",{enumerable:!0,get:function(){return bt.isDataScheme}}),Object.defineProperty(_e,"isPdfFile",{enumerable:!0,get:function(){return bt.isPdfFile}}),Object.defineProperty(_e,"loadScript",{enumerable:!0,get:function(){return bt.loadScript}}),Object.defineProperty(_e,"noContextMenu",{enumerable:!0,get:function(){return bt.noContextMenu}}),Object.defineProperty(_e,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(_e,"renderTextLayer",{enumerable:!0,get:function(){return At.renderTextLayer}}),Object.defineProperty(_e,"setLayerDimensions",{enumerable:!0,get:function(){return bt.setLayerDimensions}}),Object.defineProperty(_e,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(_e,"updateTextLayer",{enumerable:!0,get:function(){return At.updateTextLayer}}),Object.defineProperty(_e,"version",{enumerable:!0,get:function(){return xt.version}});var $=__w_pdfjs_require__(1),xt=__w_pdfjs_require__(2),bt=__w_pdfjs_require__(6),At=__w_pdfjs_require__(26),St=__w_pdfjs_require__(27),Et=__w_pdfjs_require__(5),Ct=__w_pdfjs_require__(29),Pt=__w_pdfjs_require__(14),wt=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdfjs=getDefaultExportFromCjs(pdfExports);var pdf_worker_entry={},pdf_worker={exports:{}};(function(_e,$){(function(bt,At){_e.exports=bt.pdfjsWorker=At()})(globalThis,()=>(()=>{var xt=[,(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.WorkerTask=Ct.WorkerMessageHandler=void 0;var wt=Pt(2),kt=Pt(3),Rt=Pt(4),ht=Pt(6),vt=Pt(10),Ft=Pt(68),Ht=Pt(73),qt=Pt(104),Nt=Pt(105),$t=Pt(72);class Mt{constructor(jt){this.name=jt,this.terminated=!1,this._capability=new wt.PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}Ct.WorkerTask=Mt;class Bt{static setup(jt,Gt){let Qt=!1;jt.on("test",function(ln){Qt||(Qt=!0,jt.send("test",ln instanceof Uint8Array))}),jt.on("configure",function(ln){(0,wt.setVerbosityLevel)(ln.verbosity)}),jt.on("GetDocRequest",function(ln){return Bt.createDocumentHandler(ln,Gt)})}static createDocumentHandler(jt,Gt){let Qt,ln=!1,en=null;const gn=new Set,tn=(0,wt.getVerbosityLevel)(),{docId:bn,apiVersion:Xt}=jt,Yt="3.11.174";if(Xt!==Yt)throw new Error(`The API version "${Xt}" does not match the Worker version "${Yt}".`);const un=[];for(const on in[])un.push(on);if(un.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+un.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const Ut=bn+"_worker";let Lt=new qt.MessageHandler(Ut,bn,Gt);function Vt(){if(ln)throw new Error("Worker was terminated")}function an(on){gn.add(on)}function zt(on){on.finish(),gn.delete(on)}async function Wt(on){await Qt.ensureDoc("checkHeader"),await Qt.ensureDoc("parseStartXRef"),await Qt.ensureDoc("parse",[on]),await Qt.ensureDoc("checkFirstPage",[on]),await Qt.ensureDoc("checkLastPage",[on]);const hn=await Qt.ensureDoc("isPureXfa");if(hn){const vn=new Mt("loadXfaFonts");an(vn),await Promise.all([Qt.loadXfaFonts(Lt,vn).catch(kn=>{}).then(()=>zt(vn)),Qt.loadXfaImages()])}const[sn,rn]=await Promise.all([Qt.ensureDoc("numPages"),Qt.ensureDoc("fingerprints")]),xn=hn?await Qt.ensureDoc("htmlForXfa"):null;return{numPages:sn,fingerprints:rn,htmlForXfa:xn}}function nn({data:on,password:hn,disableAutoFetch:sn,rangeChunkSize:rn,length:xn,docBaseUrl:vn,enableXfa:kn,evaluatorOptions:Fn}){const On={source:null,disableAutoFetch:sn,docBaseUrl:vn,docId:bn,enableXfa:kn,evaluatorOptions:Fn,handler:Lt,length:xn,password:hn,rangeChunkSize:rn},Pn=new wt.PromiseCapability;let Sn;if(on){try{On.source=on,Sn=new ht.LocalPdfManager(On),Pn.resolve(Sn)}catch(wn){Pn.reject(wn)}return Pn.promise}let mn,fn=[];try{mn=new Nt.PDFWorkerStream(Lt)}catch(wn){return Pn.reject(wn),Pn.promise}const Jt=mn.getFullReader();Jt.headersReady.then(function(){if(Jt.isRangeSupported){On.source=mn,On.length=Jt.contentLength,On.disableAutoFetch||(On.disableAutoFetch=Jt.isStreamingSupported),Sn=new ht.NetworkPdfManager(On);for(const wn of fn)Sn.sendProgressiveData(wn);fn=[],Pn.resolve(Sn),en=null}}).catch(function(wn){Pn.reject(wn),en=null});let cn=0;const pn=function(){const wn=(0,kt.arrayBuffersToBytes)(fn);xn&&wn.length!==xn&&(0,wt.warn)("reported HTTP length is different from actual");try{On.source=wn,Sn=new ht.LocalPdfManager(On),Pn.resolve(Sn)}catch(En){Pn.reject(En)}fn=[]};return new Promise(function(wn,En){const _n=function({value:Cn,done:An}){try{if(Vt(),An){Sn||pn(),en=null;return}cn+=Cn.byteLength,Jt.isStreamingSupported||Lt.send("DocProgress",{loaded:cn,total:Math.max(cn,Jt.contentLength||0)}),Sn?Sn.sendProgressiveData(Cn):fn.push(Cn),Jt.read().then(_n,En)}catch(Tn){En(Tn)}};Jt.read().then(_n,En)}).catch(function(wn){Pn.reject(wn),en=null}),en=function(wn){mn.cancelAllRequests(wn)},Pn.promise}function dn(on){function hn(xn){Vt(),Lt.send("GetDoc",{pdfInfo:xn})}function sn(xn){if(Vt(),xn instanceof wt.PasswordException){const vn=new Mt(`PasswordException: response ${xn.code}`);an(vn),Lt.sendWithPromise("PasswordRequest",xn).then(function({password:kn}){zt(vn),Qt.updatePassword(kn),rn()}).catch(function(){zt(vn),Lt.send("DocException",xn)})}else xn instanceof wt.InvalidPDFException||xn instanceof wt.MissingPDFException||xn instanceof wt.UnexpectedResponseException||xn instanceof wt.UnknownErrorException?Lt.send("DocException",xn):Lt.send("DocException",new wt.UnknownErrorException(xn.message,xn.toString()))}function rn(){Vt(),Wt(!1).then(hn,function(xn){if(Vt(),!(xn instanceof kt.XRefParseException)){sn(xn);return}Qt.requestLoadedStream().then(function(){Vt(),Wt(!0).then(hn,sn)})})}Vt(),nn(on).then(function(xn){if(ln)throw xn.terminate(new wt.AbortException("Worker was terminated.")),new Error("Worker was terminated");Qt=xn,Qt.requestLoadedStream(!0).then(vn=>{Lt.send("DataLoaded",{length:vn.bytes.byteLength})})}).then(rn,sn)}return Lt.on("GetPage",function(on){return Qt.getPage(on.pageIndex).then(function(hn){return Promise.all([Qt.ensure(hn,"rotate"),Qt.ensure(hn,"ref"),Qt.ensure(hn,"userUnit"),Qt.ensure(hn,"view")]).then(function([sn,rn,xn,vn]){return{rotate:sn,ref:rn,userUnit:xn,view:vn}})})}),Lt.on("GetPageIndex",function(on){const hn=Rt.Ref.get(on.num,on.gen);return Qt.ensureCatalog("getPageIndex",[hn])}),Lt.on("GetDestinations",function(on){return Qt.ensureCatalog("destinations")}),Lt.on("GetDestination",function(on){return Qt.ensureCatalog("getDestination",[on.id])}),Lt.on("GetPageLabels",function(on){return Qt.ensureCatalog("pageLabels")}),Lt.on("GetPageLayout",function(on){return Qt.ensureCatalog("pageLayout")}),Lt.on("GetPageMode",function(on){return Qt.ensureCatalog("pageMode")}),Lt.on("GetViewerPreferences",function(on){return Qt.ensureCatalog("viewerPreferences")}),Lt.on("GetOpenAction",function(on){return Qt.ensureCatalog("openAction")}),Lt.on("GetAttachments",function(on){return Qt.ensureCatalog("attachments")}),Lt.on("GetDocJSActions",function(on){return Qt.ensureCatalog("jsActions")}),Lt.on("GetPageJSActions",function({pageIndex:on}){return Qt.getPage(on).then(function(hn){return Qt.ensure(hn,"jsActions")})}),Lt.on("GetOutline",function(on){return Qt.ensureCatalog("documentOutline")}),Lt.on("GetOptionalContentConfig",function(on){return Qt.ensureCatalog("optionalContentConfig")}),Lt.on("GetPermissions",function(on){return Qt.ensureCatalog("permissions")}),Lt.on("GetMetadata",function(on){return Promise.all([Qt.ensureDoc("documentInfo"),Qt.ensureCatalog("metadata")])}),Lt.on("GetMarkInfo",function(on){return Qt.ensureCatalog("markInfo")}),Lt.on("GetData",function(on){return Qt.requestLoadedStream().then(function(hn){return hn.bytes})}),Lt.on("GetAnnotations",function({pageIndex:on,intent:hn}){return Qt.getPage(on).then(function(sn){const rn=new Mt(`GetAnnotations: page ${on}`);return an(rn),sn.getAnnotationsData(Lt,rn,hn).then(xn=>(zt(rn),xn),xn=>{throw zt(rn),xn})})}),Lt.on("GetFieldObjects",function(on){return Qt.ensureDoc("fieldObjects")}),Lt.on("HasJSActions",function(on){return Qt.ensureDoc("hasJSActions")}),Lt.on("GetCalculationOrderIds",function(on){return Qt.ensureDoc("calculationOrderIds")}),Lt.on("SaveDocument",async function({isPureXfa:on,numPages:hn,annotationStorage:sn,filename:rn}){const xn=[Qt.requestLoadedStream(),Qt.ensureCatalog("acroForm"),Qt.ensureCatalog("acroFormRef"),Qt.ensureDoc("startXRef"),Qt.ensureDoc("xref"),Qt.ensureDoc("linearization"),Qt.ensureCatalog("structTreeRoot")],vn=[],kn=on?null:(0,kt.getNewAnnotationsMap)(sn),[Fn,On,Pn,Sn,mn,fn,Jt]=await Promise.all(xn),cn=mn.trailer.getRaw("Root")||null;let pn;if(kn){Jt?await Jt.canUpdateStructTree({pdfManager:Qt,newAnnotationsByPage:kn})&&(pn=Jt):await $t.StructTreeRoot.canCreateStructureTree({catalogRef:cn,pdfManager:Qt,newAnnotationsByPage:kn})&&(pn=null);const Ln=vt.AnnotationFactory.generateImages(sn.values(),mn,Qt.evaluatorOptions.isOffscreenCanvasSupported),Dn=pn===void 0?vn:[];for(const[Un,tr]of kn)Dn.push(Qt.getPage(Un).then(er=>{const Qn=new Mt(`Save (editor): page ${Un}`);return er.saveNewAnnotations(Lt,Qn,tr,Ln).finally(function(){zt(Qn)})}));pn===null?vn.push(Promise.all(Dn).then(async Un=>(await $t.StructTreeRoot.createStructureTree({newAnnotationsByPage:kn,xref:mn,catalogRef:cn,pdfManager:Qt,newRefs:Un}),Un))):pn&&vn.push(Promise.all(Dn).then(async Un=>(await pn.updateStructureTree({newAnnotationsByPage:kn,pdfManager:Qt,newRefs:Un}),Un)))}if(on)vn.push(Qt.serializeXfaData(sn));else for(let Ln=0;Ln<hn;Ln++)vn.push(Qt.getPage(Ln).then(function(Dn){const Un=new Mt(`Save: page ${Ln}`);return Dn.save(Lt,Un,sn).finally(function(){zt(Un)})}));const wn=await Promise.all(vn);let En=[],_n=null;if(on){if(_n=wn[0],!_n)return Fn.bytes}else if(En=wn.flat(2),En.length===0)return Fn.bytes;const Cn=Pn&&On instanceof Rt.Dict&&En.some(Ln=>Ln.needAppearances),An=On instanceof Rt.Dict&&On.get("XFA")||null;let Tn=null,Mn=!1;if(Array.isArray(An)){for(let Ln=0,Dn=An.length;Ln<Dn;Ln+=2)An[Ln]==="datasets"&&(Tn=An[Ln+1],Mn=!0);Tn===null&&(Tn=mn.getNewTemporaryRef())}else An&&(0,wt.warn)("Unsupported XFA type.");let Rn=Object.create(null);if(mn.trailer){const Ln=Object.create(null),Dn=mn.trailer.get("Info")||null;Dn instanceof Rt.Dict&&Dn.forEach((Un,tr)=>{typeof tr=="string"&&(Ln[Un]=(0,wt.stringToPDFString)(tr))}),Rn={rootRef:cn,encryptRef:mn.trailer.getRaw("Encrypt")||null,newRef:mn.getNewTemporaryRef(),infoRef:mn.trailer.getRaw("Info")||null,info:Ln,fileIds:mn.trailer.get("ID")||null,startXRef:fn?Sn:mn.lastXRefStreamPos??Sn,filename:rn}}return(0,Ht.incrementalUpdate)({originalData:Fn.bytes,xrefInfo:Rn,newRefs:En,xref:mn,hasXfa:!!An,xfaDatasetsRef:Tn,hasXfaDatasetsEntry:Mn,needAppearances:Cn,acroFormRef:Pn,acroForm:On,xfaData:_n}).finally(()=>{mn.resetNewTemporaryRef()})}),Lt.on("GetOperatorList",function(on,hn){const sn=on.pageIndex;Qt.getPage(sn).then(function(rn){const xn=new Mt(`GetOperatorList: page ${sn}`);an(xn);const vn=tn>=wt.VerbosityLevel.INFOS?Date.now():0;rn.getOperatorList({handler:Lt,sink:hn,task:xn,intent:on.intent,cacheKey:on.cacheKey,annotationStorage:on.annotationStorage}).then(function(kn){zt(xn),vn&&(0,wt.info)(`page=${sn+1} - getOperatorList: time=${Date.now()-vn}ms, len=${kn.length}`),hn.close()},function(kn){zt(xn),!xn.terminated&&hn.error(kn)})})}),Lt.on("GetTextContent",function(on,hn){const{pageIndex:sn,includeMarkedContent:rn,disableNormalization:xn}=on;Qt.getPage(sn).then(function(vn){const kn=new Mt("GetTextContent: page "+sn);an(kn);const Fn=tn>=wt.VerbosityLevel.INFOS?Date.now():0;vn.extractTextContent({handler:Lt,task:kn,sink:hn,includeMarkedContent:rn,disableNormalization:xn}).then(function(){zt(kn),Fn&&(0,wt.info)(`page=${sn+1} - getTextContent: time=${Date.now()-Fn}ms`),hn.close()},function(On){zt(kn),!kn.terminated&&hn.error(On)})})}),Lt.on("GetStructTree",function(on){return Qt.getPage(on.pageIndex).then(function(hn){return Qt.ensure(hn,"getStructTree")})}),Lt.on("FontFallback",function(on){return Qt.fontFallback(on.id,Lt)}),Lt.on("Cleanup",function(on){return Qt.cleanup(!0)}),Lt.on("Terminate",function(on){ln=!0;const hn=[];if(Qt){Qt.terminate(new wt.AbortException("Worker was terminated."));const sn=Qt.cleanup();hn.push(sn),Qt=null}else(0,Ft.clearGlobalCaches)();en&&en(new wt.AbortException("Worker was terminated."));for(const sn of gn)hn.push(sn.finished),sn.terminate();return Promise.all(hn).then(function(){Lt.destroy(),Lt=null})}),Lt.on("Ready",function(on){dn(jt),jt=null}),Ut}static initializeFromPort(jt){const Gt=new qt.MessageHandler("worker","main",jt);Bt.setup(Gt,jt),Gt.send("ready",null)}}Ct.WorkerMessageHandler=Bt;function _t(Kt){return typeof Kt.postMessage=="function"&&"onmessage"in Kt}typeof window>"u"&&!wt.isNodeJS&&typeof self<"u"&&_t(self)&&Bt.initializeFromPort(self)},(Et,Ct)=>{var dr;Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.VerbosityLevel=Ct.Util=Ct.UnknownErrorException=Ct.UnexpectedResponseException=Ct.TextRenderingMode=Ct.RenderingIntentFlag=Ct.PromiseCapability=Ct.PermissionFlag=Ct.PasswordResponses=Ct.PasswordException=Ct.PageActionEventType=Ct.OPS=Ct.MissingPDFException=Ct.MAX_IMAGE_SIZE_TO_CACHE=Ct.LINE_FACTOR=Ct.LINE_DESCENT_FACTOR=Ct.InvalidPDFException=Ct.ImageKind=Ct.IDENTITY_MATRIX=Ct.FormatError=Ct.FeatureTest=Ct.FONT_IDENTITY_MATRIX=Ct.DocumentActionEventType=Ct.CMapCompressionType=Ct.BaseException=Ct.BASELINE_FACTOR=Ct.AnnotationType=Ct.AnnotationReplyType=Ct.AnnotationPrefix=Ct.AnnotationMode=Ct.AnnotationFlag=Ct.AnnotationFieldFlag=Ct.AnnotationEditorType=Ct.AnnotationEditorPrefix=Ct.AnnotationEditorParamsType=Ct.AnnotationBorderStyleType=Ct.AnnotationActionEventType=Ct.AbortException=void 0,Ct.assert=dn,Ct.bytesToString=mn,Ct.createValidAbsoluteUrl=hn,Ct.getModificationDate=tr,Ct.getUuid=nr,Ct.getVerbosityLevel=an,Ct.info=zt,Ct.isArrayBuffer=Dn,Ct.isArrayEqual=Un,Ct.isNodeJS=void 0,Ct.normalizeUnicode=zn,Ct.objectFromMap=pn,Ct.objectSize=cn,Ct.setVerbosityLevel=Vt,Ct.shadow=sn,Ct.string32=Jt,Ct.stringToBytes=fn,Ct.stringToPDFString=Mn,Ct.stringToUTF8String=Rn,Ct.unreachable=nn,Ct.utf8StringToString=Ln,Ct.warn=Wt;const Pt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");Ct.isNodeJS=Pt;const wt=[1,0,0,1,0,0];Ct.IDENTITY_MATRIX=wt;const kt=[.001,0,0,.001,0,0];Ct.FONT_IDENTITY_MATRIX=kt;const Rt=1e7;Ct.MAX_IMAGE_SIZE_TO_CACHE=Rt;const ht=1.35;Ct.LINE_FACTOR=ht;const vt=.35;Ct.LINE_DESCENT_FACTOR=vt;const Ft=vt/ht;Ct.BASELINE_FACTOR=Ft;const Ht={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};Ct.RenderingIntentFlag=Ht;const qt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};Ct.AnnotationMode=qt;const Nt="pdfjs_internal_editor_";Ct.AnnotationEditorPrefix=Nt;const $t={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};Ct.AnnotationEditorType=$t;const Mt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};Ct.AnnotationEditorParamsType=Mt;const Bt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};Ct.PermissionFlag=Bt;const _t={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};Ct.TextRenderingMode=_t;const Kt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};Ct.ImageKind=Kt;const jt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};Ct.AnnotationType=jt;const Gt={GROUP:"Group",REPLY:"R"};Ct.AnnotationReplyType=Gt;const Qt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};Ct.AnnotationFlag=Qt;const ln={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};Ct.AnnotationFieldFlag=ln;const en={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};Ct.AnnotationBorderStyleType=en;const gn={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};Ct.AnnotationActionEventType=gn;const tn={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};Ct.DocumentActionEventType=tn;const bn={O:"PageOpen",C:"PageClose"};Ct.PageActionEventType=bn;const Xt={ERRORS:0,WARNINGS:1,INFOS:5};Ct.VerbosityLevel=Xt;const Yt={NONE:0,BINARY:1};Ct.CMapCompressionType=Yt;const un={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};Ct.OPS=un;const Ut={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};Ct.PasswordResponses=Ut;let Lt=Xt.WARNINGS;function Vt(jn){Number.isInteger(jn)&&(Lt=jn)}function an(){return Lt}function zt(jn){Lt>=Xt.INFOS&&console.log(`Info: ${jn}`)}function Wt(jn){Lt>=Xt.WARNINGS&&console.log(`Warning: ${jn}`)}function nn(jn){throw new Error(jn)}function dn(jn,Hn){jn||nn(Hn)}function on(jn){switch(jn==null?void 0:jn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function hn(jn,Hn=null,Xn=null){if(!jn)return null;try{if(Xn&&typeof jn=="string"){if(Xn.addDefaultProtocol&&jn.startsWith("www.")){const sr=jn.match(/\./g);(sr==null?void 0:sr.length)>=2&&(jn=`http://${jn}`)}if(Xn.tryConvertEncoding)try{jn=Rn(jn)}catch{}}const cr=Hn?new URL(jn,Hn):new URL(jn);if(on(cr))return cr}catch{}return null}function sn(jn,Hn,Xn,cr=!1){return Object.defineProperty(jn,Hn,{value:Xn,enumerable:!cr,configurable:!0,writable:!1}),Xn}const rn=function(){function Hn(Xn,cr){this.constructor===Hn&&nn("Cannot initialize BaseException."),this.message=Xn,this.name=cr}return Hn.prototype=new Error,Hn.constructor=Hn,Hn}();Ct.BaseException=rn;class xn extends rn{constructor(Hn,Xn){super(Hn,"PasswordException"),this.code=Xn}}Ct.PasswordException=xn;class vn extends rn{constructor(Hn,Xn){super(Hn,"UnknownErrorException"),this.details=Xn}}Ct.UnknownErrorException=vn;class kn extends rn{constructor(Hn){super(Hn,"InvalidPDFException")}}Ct.InvalidPDFException=kn;class Fn extends rn{constructor(Hn){super(Hn,"MissingPDFException")}}Ct.MissingPDFException=Fn;class On extends rn{constructor(Hn,Xn){super(Hn,"UnexpectedResponseException"),this.status=Xn}}Ct.UnexpectedResponseException=On;class Pn extends rn{constructor(Hn){super(Hn,"FormatError")}}Ct.FormatError=Pn;class Sn extends rn{constructor(Hn){super(Hn,"AbortException")}}Ct.AbortException=Sn;function mn(jn){(typeof jn!="object"||(jn==null?void 0:jn.length)===void 0)&&nn("Invalid argument for bytesToString");const Hn=jn.length,Xn=8192;if(Hn<Xn)return String.fromCharCode.apply(null,jn);const cr=[];for(let sr=0;sr<Hn;sr+=Xn){const xr=Math.min(sr+Xn,Hn),Jn=jn.subarray(sr,xr);cr.push(String.fromCharCode.apply(null,Jn))}return cr.join("")}function fn(jn){typeof jn!="string"&&nn("Invalid argument for stringToBytes");const Hn=jn.length,Xn=new Uint8Array(Hn);for(let cr=0;cr<Hn;++cr)Xn[cr]=jn.charCodeAt(cr)&255;return Xn}function Jt(jn){return String.fromCharCode(jn>>24&255,jn>>16&255,jn>>8&255,jn&255)}function cn(jn){return Object.keys(jn).length}function pn(jn){const Hn=Object.create(null);for(const[Xn,cr]of jn)Hn[Xn]=cr;return Hn}function wn(){const jn=new Uint8Array(4);return jn[0]=1,new Uint32Array(jn.buffer,0,1)[0]===1}function En(){try{return new Function(""),!0}catch{return!1}}class _n{static get isLittleEndian(){return sn(this,"isLittleEndian",wn())}static get isEvalSupported(){return sn(this,"isEvalSupported",En())}static get isOffscreenCanvasSupported(){return sn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?sn(this,"platform",{isWin:!1,isMac:!1}):sn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Hn,Xn;return sn(this,"isCSSRoundSupported",(Xn=(Hn=globalThis.CSS)==null?void 0:Hn.supports)==null?void 0:Xn.call(Hn,"width: round(1.5px, 1px)"))}}Ct.FeatureTest=_n;const Cn=[...Array(256).keys()].map(jn=>jn.toString(16).padStart(2,"0"));class An{static makeHexColor(Hn,Xn,cr){return`#${Cn[Hn]}${Cn[Xn]}${Cn[cr]}`}static scaleMinMax(Hn,Xn){let cr;Hn[0]?(Hn[0]<0&&(cr=Xn[0],Xn[0]=Xn[1],Xn[1]=cr),Xn[0]*=Hn[0],Xn[1]*=Hn[0],Hn[3]<0&&(cr=Xn[2],Xn[2]=Xn[3],Xn[3]=cr),Xn[2]*=Hn[3],Xn[3]*=Hn[3]):(cr=Xn[0],Xn[0]=Xn[2],Xn[2]=cr,cr=Xn[1],Xn[1]=Xn[3],Xn[3]=cr,Hn[1]<0&&(cr=Xn[2],Xn[2]=Xn[3],Xn[3]=cr),Xn[2]*=Hn[1],Xn[3]*=Hn[1],Hn[2]<0&&(cr=Xn[0],Xn[0]=Xn[1],Xn[1]=cr),Xn[0]*=Hn[2],Xn[1]*=Hn[2]),Xn[0]+=Hn[4],Xn[1]+=Hn[4],Xn[2]+=Hn[5],Xn[3]+=Hn[5]}static transform(Hn,Xn){return[Hn[0]*Xn[0]+Hn[2]*Xn[1],Hn[1]*Xn[0]+Hn[3]*Xn[1],Hn[0]*Xn[2]+Hn[2]*Xn[3],Hn[1]*Xn[2]+Hn[3]*Xn[3],Hn[0]*Xn[4]+Hn[2]*Xn[5]+Hn[4],Hn[1]*Xn[4]+Hn[3]*Xn[5]+Hn[5]]}static applyTransform(Hn,Xn){const cr=Hn[0]*Xn[0]+Hn[1]*Xn[2]+Xn[4],sr=Hn[0]*Xn[1]+Hn[1]*Xn[3]+Xn[5];return[cr,sr]}static applyInverseTransform(Hn,Xn){const cr=Xn[0]*Xn[3]-Xn[1]*Xn[2],sr=(Hn[0]*Xn[3]-Hn[1]*Xn[2]+Xn[2]*Xn[5]-Xn[4]*Xn[3])/cr,xr=(-Hn[0]*Xn[1]+Hn[1]*Xn[0]+Xn[4]*Xn[1]-Xn[5]*Xn[0])/cr;return[sr,xr]}static getAxialAlignedBoundingBox(Hn,Xn){const cr=this.applyTransform(Hn,Xn),sr=this.applyTransform(Hn.slice(2,4),Xn),xr=this.applyTransform([Hn[0],Hn[3]],Xn),Jn=this.applyTransform([Hn[2],Hn[1]],Xn);return[Math.min(cr[0],sr[0],xr[0],Jn[0]),Math.min(cr[1],sr[1],xr[1],Jn[1]),Math.max(cr[0],sr[0],xr[0],Jn[0]),Math.max(cr[1],sr[1],xr[1],Jn[1])]}static inverseTransform(Hn){const Xn=Hn[0]*Hn[3]-Hn[1]*Hn[2];return[Hn[3]/Xn,-Hn[1]/Xn,-Hn[2]/Xn,Hn[0]/Xn,(Hn[2]*Hn[5]-Hn[4]*Hn[3])/Xn,(Hn[4]*Hn[1]-Hn[5]*Hn[0])/Xn]}static singularValueDecompose2dScale(Hn){const Xn=[Hn[0],Hn[2],Hn[1],Hn[3]],cr=Hn[0]*Xn[0]+Hn[1]*Xn[2],sr=Hn[0]*Xn[1]+Hn[1]*Xn[3],xr=Hn[2]*Xn[0]+Hn[3]*Xn[2],Jn=Hn[2]*Xn[1]+Hn[3]*Xn[3],Wn=(cr+Jn)/2,Zn=Math.sqrt((cr+Jn)**2-4*(cr*Jn-xr*sr))/2,ur=Wn+Zn||1,hr=Wn-Zn||1;return[Math.sqrt(ur),Math.sqrt(hr)]}static normalizeRect(Hn){const Xn=Hn.slice(0);return Hn[0]>Hn[2]&&(Xn[0]=Hn[2],Xn[2]=Hn[0]),Hn[1]>Hn[3]&&(Xn[1]=Hn[3],Xn[3]=Hn[1]),Xn}static intersect(Hn,Xn){const cr=Math.max(Math.min(Hn[0],Hn[2]),Math.min(Xn[0],Xn[2])),sr=Math.min(Math.max(Hn[0],Hn[2]),Math.max(Xn[0],Xn[2]));if(cr>sr)return null;const xr=Math.max(Math.min(Hn[1],Hn[3]),Math.min(Xn[1],Xn[3])),Jn=Math.min(Math.max(Hn[1],Hn[3]),Math.max(Xn[1],Xn[3]));return xr>Jn?null:[cr,xr,sr,Jn]}static bezierBoundingBox(Hn,Xn,cr,sr,xr,Jn,Wn,Zn){const ur=[],hr=[[],[]];let or,pr,wr,fr,Ar,Dr,Fr,$r;for(let qr=0;qr<2;++qr){if(qr===0?(pr=6*Hn-12*cr+6*xr,or=-3*Hn+9*cr-9*xr+3*Wn,wr=3*cr-3*Hn):(pr=6*Xn-12*sr+6*Jn,or=-3*Xn+9*sr-9*Jn+3*Zn,wr=3*sr-3*Xn),Math.abs(or)<1e-12){if(Math.abs(pr)<1e-12)continue;fr=-wr/pr,0<fr&&fr<1&&ur.push(fr);continue}Fr=pr*pr-4*wr*or,$r=Math.sqrt(Fr),!(Fr<0)&&(Ar=(-pr+$r)/(2*or),0<Ar&&Ar<1&&ur.push(Ar),Dr=(-pr-$r)/(2*or),0<Dr&&Dr<1&&ur.push(Dr))}let Cr=ur.length,Pr;const _r=Cr;for(;Cr--;)fr=ur[Cr],Pr=1-fr,hr[0][Cr]=Pr*Pr*Pr*Hn+3*Pr*Pr*fr*cr+3*Pr*fr*fr*xr+fr*fr*fr*Wn,hr[1][Cr]=Pr*Pr*Pr*Xn+3*Pr*Pr*fr*sr+3*Pr*fr*fr*Jn+fr*fr*fr*Zn;return hr[0][_r]=Hn,hr[1][_r]=Xn,hr[0][_r+1]=Wn,hr[1][_r+1]=Zn,hr[0].length=hr[1].length=_r+2,[Math.min(...hr[0]),Math.min(...hr[1]),Math.max(...hr[0]),Math.max(...hr[1])]}}Ct.Util=An;const Tn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Mn(jn){if(jn[0]>=""){let Xn;if(jn[0]===""&&jn[1]===""?Xn="utf-16be":jn[0]===""&&jn[1]===""?Xn="utf-16le":jn[0]===""&&jn[1]===""&&jn[2]===""&&(Xn="utf-8"),Xn)try{const cr=new TextDecoder(Xn,{fatal:!0}),sr=fn(jn);return cr.decode(sr)}catch(cr){Wt(`stringToPDFString: "${cr}".`)}}const Hn=[];for(let Xn=0,cr=jn.length;Xn<cr;Xn++){const sr=Tn[jn.charCodeAt(Xn)];Hn.push(sr?String.fromCharCode(sr):jn.charAt(Xn))}return Hn.join("")}function Rn(jn){return decodeURIComponent(escape(jn))}function Ln(jn){return unescape(encodeURIComponent(jn))}function Dn(jn){return typeof jn=="object"&&(jn==null?void 0:jn.byteLength)!==void 0}function Un(jn,Hn){if(jn.length!==Hn.length)return!1;for(let Xn=0,cr=jn.length;Xn<cr;Xn++)if(jn[Xn]!==Hn[Xn])return!1;return!0}function tr(jn=new Date){return[jn.getUTCFullYear().toString(),(jn.getUTCMonth()+1).toString().padStart(2,"0"),jn.getUTCDate().toString().padStart(2,"0"),jn.getUTCHours().toString().padStart(2,"0"),jn.getUTCMinutes().toString().padStart(2,"0"),jn.getUTCSeconds().toString().padStart(2,"0")].join("")}class er{constructor(){Nn(this,dr,!1);this.promise=new Promise((Hn,Xn)=>{this.resolve=cr=>{$n(this,dr,!0),Hn(cr)},this.reject=cr=>{$n(this,dr,!0),Xn(cr)}})}get settled(){return Ot(this,dr)}}dr=new WeakMap,Ct.PromiseCapability=er;let Qn=null,Yn=null;function zn(jn){return Qn||(Qn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Yn=new Map([["","t"]])),jn.replaceAll(Qn,(Hn,Xn,cr)=>Xn?Xn.normalize("NFKC"):Yn.get(cr))}function nr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const jn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(jn);else for(let Hn=0;Hn<32;Hn++)jn[Hn]=Math.floor(Math.random()*255);return mn(jn)}const lr="pdfjs_internal_id_";Ct.AnnotationPrefix=lr},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.XRefParseException=Ct.XRefEntryException=Ct.ParserEOFException=Ct.PDF_VERSION_REGEXP=Ct.MissingDataException=void 0,Ct.arrayBuffersToBytes=$t,Ct.collectActions=Xt,Ct.encodeToXmlString=un,Ct.escapePDFName=gn,Ct.escapeString=tn,Ct.getInheritableProperty=Mt,Ct.getLookupTableFactory=vt,Ct.getNewAnnotationsMap=zt,Ct.getRotationMatrix=on,Ct.isAscii=Wt,Ct.isWhiteSpace=ln,Ct.log2=Kt,Ct.numberToString=an,Ct.parseXFAPath=en,Ct.readInt8=jt,Ct.readUint16=Gt,Ct.readUint32=Qt,Ct.recoverJsURL=Vt,Ct.stringToUTF16HexString=nn,Ct.stringToUTF16String=dn,Ct.toRomanNumerals=_t,Ct.validateCSSFont=Lt,Ct.validateFontName=Ut;var wt=Pt(2),kt=Pt(4),Rt=Pt(5);const ht=/^[1-9]\.\d$/;Ct.PDF_VERSION_REGEXP=ht;function vt(hn){let sn;return function(){return hn&&(sn=Object.create(null),hn(sn),hn=null),sn}}class Ft extends wt.BaseException{constructor(sn,rn){super(`Missing data [${sn}, ${rn})`,"MissingDataException"),this.begin=sn,this.end=rn}}Ct.MissingDataException=Ft;class Ht extends wt.BaseException{constructor(sn){super(sn,"ParserEOFException")}}Ct.ParserEOFException=Ht;class qt extends wt.BaseException{constructor(sn){super(sn,"XRefEntryException")}}Ct.XRefEntryException=qt;class Nt extends wt.BaseException{constructor(sn){super(sn,"XRefParseException")}}Ct.XRefParseException=Nt;function $t(hn){const sn=hn.length;if(sn===0)return new Uint8Array(0);if(sn===1)return new Uint8Array(hn[0]);let rn=0;for(let kn=0;kn<sn;kn++)rn+=hn[kn].byteLength;const xn=new Uint8Array(rn);let vn=0;for(let kn=0;kn<sn;kn++){const Fn=new Uint8Array(hn[kn]);xn.set(Fn,vn),vn+=Fn.byteLength}return xn}function Mt({dict:hn,key:sn,getArray:rn=!1,stopWhenFound:xn=!0}){let vn;const kn=new kt.RefSet;for(;hn instanceof kt.Dict&&!(hn.objId&&kn.has(hn.objId));){hn.objId&&kn.put(hn.objId);const Fn=rn?hn.getArray(sn):hn.get(sn);if(Fn!==void 0){if(xn)return Fn;(vn||(vn=[])).push(Fn)}hn=hn.get("Parent")}return vn}const Bt=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function _t(hn,sn=!1){(0,wt.assert)(Number.isInteger(hn)&&hn>0,"The number should be a positive integer.");const rn=[];let xn;for(;hn>=1e3;)hn-=1e3,rn.push("M");xn=hn/100|0,hn%=100,rn.push(Bt[xn]),xn=hn/10|0,hn%=10,rn.push(Bt[10+xn]),rn.push(Bt[20+hn]);const vn=rn.join("");return sn?vn.toLowerCase():vn}function Kt(hn){return hn<=0?0:Math.ceil(Math.log2(hn))}function jt(hn,sn){return hn[sn]<<24>>24}function Gt(hn,sn){return hn[sn]<<8|hn[sn+1]}function Qt(hn,sn){return(hn[sn]<<24|hn[sn+1]<<16|hn[sn+2]<<8|hn[sn+3])>>>0}function ln(hn){return hn===32||hn===9||hn===13||hn===10}function en(hn){const sn=/(.+)\[(\d+)\]$/;return hn.split(".").map(rn=>{const xn=rn.match(sn);return xn?{name:xn[1],pos:parseInt(xn[2],10)}:{name:rn,pos:0}})}function gn(hn){const sn=[];let rn=0;for(let xn=0,vn=hn.length;xn<vn;xn++){const kn=hn.charCodeAt(xn);(kn<33||kn>126||kn===35||kn===40||kn===41||kn===60||kn===62||kn===91||kn===93||kn===123||kn===125||kn===47||kn===37)&&(rn<xn&&sn.push(hn.substring(rn,xn)),sn.push(`#${kn.toString(16)}`),rn=xn+1)}return sn.length===0?hn:(rn<hn.length&&sn.push(hn.substring(rn,hn.length)),sn.join(""))}function tn(hn){return hn.replaceAll(/([()\\\n\r])/g,sn=>sn===`
`?"\\n":sn==="\r"?"\\r":`\\${sn}`)}function bn(hn,sn,rn,xn){if(!hn)return;let vn=null;if(hn instanceof kt.Ref){if(xn.has(hn))return;vn=hn,xn.put(vn),hn=sn.fetch(hn)}if(Array.isArray(hn))for(const kn of hn)bn(kn,sn,rn,xn);else if(hn instanceof kt.Dict){if((0,kt.isName)(hn.get("S"),"JavaScript")){const kn=hn.get("JS");let Fn;kn instanceof Rt.BaseStream?Fn=kn.getString():typeof kn=="string"&&(Fn=kn),Fn&&(Fn=(0,wt.stringToPDFString)(Fn).replaceAll("\0","")),Fn&&rn.push(Fn)}bn(hn.getRaw("Next"),sn,rn,xn)}vn&&xn.remove(vn)}function Xt(hn,sn,rn){const xn=Object.create(null),vn=Mt({dict:sn,key:"AA",stopWhenFound:!1});if(vn)for(let kn=vn.length-1;kn>=0;kn--){const Fn=vn[kn];if(Fn instanceof kt.Dict)for(const On of Fn.getKeys()){const Pn=rn[On];if(!Pn)continue;const Sn=Fn.getRaw(On),mn=new kt.RefSet,fn=[];bn(Sn,hn,fn,mn),fn.length>0&&(xn[Pn]=fn)}}if(sn.has("A")){const kn=sn.get("A"),Fn=new kt.RefSet,On=[];bn(kn,hn,On,Fn),On.length>0&&(xn.Action=On)}return(0,wt.objectSize)(xn)>0?xn:null}const Yt={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function un(hn){const sn=[];let rn=0;for(let xn=0,vn=hn.length;xn<vn;xn++){const kn=hn.codePointAt(xn);if(32<=kn&&kn<=126){const Fn=Yt[kn];Fn&&(rn<xn&&sn.push(hn.substring(rn,xn)),sn.push(Fn),rn=xn+1)}else rn<xn&&sn.push(hn.substring(rn,xn)),sn.push(`&#x${kn.toString(16).toUpperCase()};`),kn>55295&&(kn<57344||kn>65533)&&xn++,rn=xn+1}return sn.length===0?hn:(rn<hn.length&&sn.push(hn.substring(rn,hn.length)),sn.join(""))}function Ut(hn,sn=!1){const rn=/^("|').*("|')$/.exec(hn);if(rn&&rn[1]===rn[2]){if(new RegExp(`[^\\\\]${rn[1]}`).test(hn.slice(1,-1)))return sn&&(0,wt.warn)(`FontFamily contains unescaped ${rn[1]}: ${hn}.`),!1}else for(const xn of hn.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(xn)||!/^[\w-\\]+$/.test(xn))return sn&&(0,wt.warn)(`FontFamily contains invalid <custom-ident>: ${hn}.`),!1;return!0}function Lt(hn){const sn="14",rn="400",xn=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:vn,fontWeight:kn,italicAngle:Fn}=hn;if(!Ut(vn,!0))return!1;const On=kn?kn.toString():"";hn.fontWeight=xn.has(On)?On:rn;const Pn=parseFloat(Fn);return hn.italicAngle=isNaN(Pn)||Pn<-90||Pn>90?sn:Fn.toString(),!0}function Vt(hn){const sn=["app.launchURL","window.open","xfa.host.gotoURL"],xn=new RegExp("^\\s*("+sn.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(hn);if(xn!=null&&xn[2]){const vn=xn[2];let kn=!1;return xn[3]==="true"&&xn[1]==="app.launchURL"&&(kn=!0),{url:vn,newWindow:kn}}return null}function an(hn){if(Number.isInteger(hn))return hn.toString();const sn=Math.round(hn*100);return sn%100===0?(sn/100).toString():sn%10===0?hn.toFixed(1):hn.toFixed(2)}function zt(hn){if(!hn)return null;const sn=new Map;for(const[rn,xn]of hn){if(!rn.startsWith(wt.AnnotationEditorPrefix))continue;let vn=sn.get(xn.pageIndex);vn||(vn=[],sn.set(xn.pageIndex,vn)),vn.push(xn)}return sn.size>0?sn:null}function Wt(hn){return/^[\x00-\x7F]*$/.test(hn)}function nn(hn){const sn=[];for(let rn=0,xn=hn.length;rn<xn;rn++){const vn=hn.charCodeAt(rn);sn.push((vn>>8&255).toString(16).padStart(2,"0"),(vn&255).toString(16).padStart(2,"0"))}return sn.join("")}function dn(hn,sn=!1){const rn=[];sn&&rn.push("");for(let xn=0,vn=hn.length;xn<vn;xn++){const kn=hn.charCodeAt(xn);rn.push(String.fromCharCode(kn>>8&255),String.fromCharCode(kn&255))}return rn.join("")}function on(hn,sn,rn){switch(hn){case 90:return[0,1,-1,0,sn,0];case 180:return[-1,0,0,-1,sn,rn];case 270:return[0,-1,1,0,0,rn];default:throw new Error("Invalid rotation")}}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.RefSetCache=Ct.RefSet=Ct.Ref=Ct.Name=Ct.EOF=Ct.Dict=Ct.Cmd=Ct.CIRCULAR_REF=void 0,Ct.clearPrimitiveCaches=Ht,Ct.isCmd=Gt,Ct.isDict=Qt,Ct.isName=jt,Ct.isRefsEqual=ln;var wt=Pt(2);const kt=Symbol("CIRCULAR_REF");Ct.CIRCULAR_REF=kt;const Rt=Symbol("EOF");Ct.EOF=Rt;let ht=Object.create(null),vt=Object.create(null),Ft=Object.create(null);function Ht(){ht=Object.create(null),vt=Object.create(null),Ft=Object.create(null)}class qt{constructor(gn){this.name=gn}static get(gn){return vt[gn]||(vt[gn]=new qt(gn))}}Ct.Name=qt;class Nt{constructor(gn){this.cmd=gn}static get(gn){return ht[gn]||(ht[gn]=new Nt(gn))}}Ct.Cmd=Nt;const $t=function(){return $t};class Mt{constructor(gn=null){this._map=Object.create(null),this.xref=gn,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=$t}assignXref(gn){this.xref=gn}get size(){return Object.keys(this._map).length}get(gn,tn,bn){let Xt=this._map[gn];return Xt===void 0&&tn!==void 0&&(Xt=this._map[tn],Xt===void 0&&bn!==void 0&&(Xt=this._map[bn])),Xt instanceof Bt&&this.xref?this.xref.fetch(Xt,this.suppressEncryption):Xt}async getAsync(gn,tn,bn){let Xt=this._map[gn];return Xt===void 0&&tn!==void 0&&(Xt=this._map[tn],Xt===void 0&&bn!==void 0&&(Xt=this._map[bn])),Xt instanceof Bt&&this.xref?this.xref.fetchAsync(Xt,this.suppressEncryption):Xt}getArray(gn,tn,bn){let Xt=this._map[gn];if(Xt===void 0&&tn!==void 0&&(Xt=this._map[tn],Xt===void 0&&bn!==void 0&&(Xt=this._map[bn])),Xt instanceof Bt&&this.xref&&(Xt=this.xref.fetch(Xt,this.suppressEncryption)),Array.isArray(Xt)){Xt=Xt.slice();for(let Yt=0,un=Xt.length;Yt<un;Yt++)Xt[Yt]instanceof Bt&&this.xref&&(Xt[Yt]=this.xref.fetch(Xt[Yt],this.suppressEncryption))}return Xt}getRaw(gn){return this._map[gn]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(gn,tn){this._map[gn]=tn}has(gn){return this._map[gn]!==void 0}forEach(gn){for(const tn in this._map)gn(tn,this.get(tn))}static get empty(){const gn=new Mt(null);return gn.set=(tn,bn)=>{(0,wt.unreachable)("Should not call `set` on the empty dictionary.")},(0,wt.shadow)(this,"empty",gn)}static merge({xref:gn,dictArray:tn,mergeSubDicts:bn=!1}){const Xt=new Mt(gn),Yt=new Map;for(const un of tn)if(un instanceof Mt)for(const[Ut,Lt]of Object.entries(un._map)){let Vt=Yt.get(Ut);if(Vt===void 0)Vt=[],Yt.set(Ut,Vt);else if(!bn||!(Lt instanceof Mt))continue;Vt.push(Lt)}for(const[un,Ut]of Yt){if(Ut.length===1||!(Ut[0]instanceof Mt)){Xt._map[un]=Ut[0];continue}const Lt=new Mt(gn);for(const Vt of Ut)for(const[an,zt]of Object.entries(Vt._map))Lt._map[an]===void 0&&(Lt._map[an]=zt);Lt.size>0&&(Xt._map[un]=Lt)}return Yt.clear(),Xt.size>0?Xt:Mt.empty}clone(){const gn=new Mt(this.xref);for(const tn of this.getKeys())gn.set(tn,this.getRaw(tn));return gn}}Ct.Dict=Mt;class Bt{constructor(gn,tn){this.num=gn,this.gen=tn}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(gn){const tn=Ft[gn];if(tn)return tn;const bn=/^(\d+)R(\d*)$/.exec(gn);return!bn||bn[1]==="0"?null:Ft[gn]=new Bt(parseInt(bn[1]),bn[2]?parseInt(bn[2]):0)}static get(gn,tn){const bn=tn===0?`${gn}R`:`${gn}R${tn}`;return Ft[bn]||(Ft[bn]=new Bt(gn,tn))}}Ct.Ref=Bt;class _t{constructor(gn=null){this._set=new Set(gn==null?void 0:gn._set)}has(gn){return this._set.has(gn.toString())}put(gn){this._set.add(gn.toString())}remove(gn){this._set.delete(gn.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}Ct.RefSet=_t;class Kt{constructor(){this._map=new Map}get size(){return this._map.size}get(gn){return this._map.get(gn.toString())}has(gn){return this._map.has(gn.toString())}put(gn,tn){this._map.set(gn.toString(),tn)}putAlias(gn,tn){this._map.set(gn.toString(),this.get(tn))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}Ct.RefSetCache=Kt;function jt(en,gn){return en instanceof qt&&(gn===void 0||en.name===gn)}function Gt(en,gn){return en instanceof Nt&&(gn===void 0||en.cmd===gn)}function Qt(en,gn){return en instanceof Mt&&(gn===void 0||jt(en.get("Type"),gn))}function ln(en,gn){return en.num===gn.num&&en.gen===gn.gen}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.BaseStream=void 0;var wt=Pt(2);class kt{constructor(){this.constructor===kt&&(0,wt.unreachable)("Cannot initialize BaseStream.")}get length(){(0,wt.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,wt.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,wt.shadow)(this,"isDataLoaded",!0)}getByte(){(0,wt.unreachable)("Abstract method `getByte` called")}getBytes(ht){(0,wt.unreachable)("Abstract method `getBytes` called")}peekByte(){const ht=this.getByte();return ht!==-1&&this.pos--,ht}peekBytes(ht){const vt=this.getBytes(ht);return this.pos-=vt.length,vt}getUint16(){const ht=this.getByte(),vt=this.getByte();return ht===-1||vt===-1?-1:(ht<<8)+vt}getInt32(){const ht=this.getByte(),vt=this.getByte(),Ft=this.getByte(),Ht=this.getByte();return(ht<<24)+(vt<<16)+(Ft<<8)+Ht}getByteRange(ht,vt){(0,wt.unreachable)("Abstract method `getByteRange` called")}getString(ht){return(0,wt.bytesToString)(this.getBytes(ht))}skip(ht){this.pos+=ht||1}reset(){(0,wt.unreachable)("Abstract method `reset` called")}moveStart(){(0,wt.unreachable)("Abstract method `moveStart` called")}makeSubStream(ht,vt,Ft=null){(0,wt.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}Ct.BaseStream=kt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.NetworkPdfManager=Ct.LocalPdfManager=void 0;var wt=Pt(2),kt=Pt(7),Rt=Pt(3),ht=Pt(9),vt=Pt(8);function Ft($t){if($t){const Mt=(0,wt.createValidAbsoluteUrl)($t);if(Mt)return Mt.href;(0,wt.warn)(`Invalid absolute docBaseUrl: "${$t}".`)}return null}class Ht{constructor(Mt){var Bt;this.constructor===Ht&&(0,wt.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=Ft(Mt.docBaseUrl),this._docId=Mt.docId,this._password=Mt.password,this.enableXfa=Mt.enableXfa,(Bt=Mt.evaluatorOptions).isOffscreenCanvasSupported&&(Bt.isOffscreenCanvasSupported=wt.FeatureTest.isOffscreenCanvasSupported),this.evaluatorOptions=Mt.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(Mt,Bt){return this.ensure(this.pdfDocument,Mt,Bt)}ensureXRef(Mt,Bt){return this.ensure(this.pdfDocument.xref,Mt,Bt)}ensureCatalog(Mt,Bt){return this.ensure(this.pdfDocument.catalog,Mt,Bt)}getPage(Mt){return this.pdfDocument.getPage(Mt)}fontFallback(Mt,Bt){return this.pdfDocument.fontFallback(Mt,Bt)}loadXfaFonts(Mt,Bt){return this.pdfDocument.loadXfaFonts(Mt,Bt)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(Mt){return this.pdfDocument.serializeXfaData(Mt)}cleanup(Mt=!1){return this.pdfDocument.cleanup(Mt)}async ensure(Mt,Bt,_t){(0,wt.unreachable)("Abstract method `ensure` called")}requestRange(Mt,Bt){(0,wt.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(Mt=!1){(0,wt.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(Mt){(0,wt.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(Mt){this._password=Mt}terminate(Mt){(0,wt.unreachable)("Abstract method `terminate` called")}}class qt extends Ht{constructor(Mt){super(Mt);const Bt=new vt.Stream(Mt.source);this.pdfDocument=new ht.PDFDocument(this,Bt),this._loadedStreamPromise=Promise.resolve(Bt)}async ensure(Mt,Bt,_t){const Kt=Mt[Bt];return typeof Kt=="function"?Kt.apply(Mt,_t):Kt}requestRange(Mt,Bt){return Promise.resolve()}requestLoadedStream(Mt=!1){return this._loadedStreamPromise}terminate(Mt){}}Ct.LocalPdfManager=qt;class Nt extends Ht{constructor(Mt){super(Mt),this.streamManager=new kt.ChunkedStreamManager(Mt.source,{msgHandler:Mt.handler,length:Mt.length,disableAutoFetch:Mt.disableAutoFetch,rangeChunkSize:Mt.rangeChunkSize}),this.pdfDocument=new ht.PDFDocument(this,this.streamManager.getStream())}async ensure(Mt,Bt,_t){try{const Kt=Mt[Bt];return typeof Kt=="function"?Kt.apply(Mt,_t):Kt}catch(Kt){if(!(Kt instanceof Rt.MissingDataException))throw Kt;return await this.requestRange(Kt.begin,Kt.end),this.ensure(Mt,Bt,_t)}}requestRange(Mt,Bt){return this.streamManager.requestRange(Mt,Bt)}requestLoadedStream(Mt=!1){return this.streamManager.requestAllChunks(Mt)}sendProgressiveData(Mt){this.streamManager.onReceiveData({chunk:Mt})}terminate(Mt){this.streamManager.abort(Mt)}}Ct.NetworkPdfManager=Nt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.ChunkedStreamManager=Ct.ChunkedStream=void 0;var wt=Pt(3),kt=Pt(2),Rt=Pt(8);class ht extends Rt.Stream{constructor(Ht,qt,Nt){super(new Uint8Array(Ht),0,Ht,null),this.chunkSize=qt,this._loadedChunks=new Set,this.numChunks=Math.ceil(Ht/qt),this.manager=Nt,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const Ht=[];for(let qt=0,Nt=this.numChunks;qt<Nt;++qt)this._loadedChunks.has(qt)||Ht.push(qt);return Ht}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(Ht,qt){const Nt=this.chunkSize;if(Ht%Nt!==0)throw new Error(`Bad begin offset: ${Ht}`);const $t=Ht+qt.byteLength;if($t%Nt!==0&&$t!==this.bytes.length)throw new Error(`Bad end offset: ${$t}`);this.bytes.set(new Uint8Array(qt),Ht);const Mt=Math.floor(Ht/Nt),Bt=Math.floor(($t-1)/Nt)+1;for(let _t=Mt;_t<Bt;++_t)this._loadedChunks.add(_t)}onReceiveProgressiveData(Ht){let qt=this.progressiveDataLength;const Nt=Math.floor(qt/this.chunkSize);this.bytes.set(new Uint8Array(Ht),qt),qt+=Ht.byteLength,this.progressiveDataLength=qt;const $t=qt>=this.end?this.numChunks:Math.floor(qt/this.chunkSize);for(let Mt=Nt;Mt<$t;++Mt)this._loadedChunks.add(Mt)}ensureByte(Ht){if(Ht<this.progressiveDataLength)return;const qt=Math.floor(Ht/this.chunkSize);if(!(qt>this.numChunks)&&qt!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(qt))throw new wt.MissingDataException(Ht,Ht+1);this.lastSuccessfulEnsureByteChunk=qt}}ensureRange(Ht,qt){if(Ht>=qt||qt<=this.progressiveDataLength)return;const Nt=Math.floor(Ht/this.chunkSize);if(Nt>this.numChunks)return;const $t=Math.min(Math.floor((qt-1)/this.chunkSize)+1,this.numChunks);for(let Mt=Nt;Mt<$t;++Mt)if(!this._loadedChunks.has(Mt))throw new wt.MissingDataException(Ht,qt)}nextEmptyChunk(Ht){const qt=this.numChunks;for(let Nt=0;Nt<qt;++Nt){const $t=(Ht+Nt)%qt;if(!this._loadedChunks.has($t))return $t}return null}hasChunk(Ht){return this._loadedChunks.has(Ht)}getByte(){const Ht=this.pos;return Ht>=this.end?-1:(Ht>=this.progressiveDataLength&&this.ensureByte(Ht),this.bytes[this.pos++])}getBytes(Ht){const qt=this.bytes,Nt=this.pos,$t=this.end;if(!Ht)return $t>this.progressiveDataLength&&this.ensureRange(Nt,$t),qt.subarray(Nt,$t);let Mt=Nt+Ht;return Mt>$t&&(Mt=$t),Mt>this.progressiveDataLength&&this.ensureRange(Nt,Mt),this.pos=Mt,qt.subarray(Nt,Mt)}getByteRange(Ht,qt){return Ht<0&&(Ht=0),qt>this.end&&(qt=this.end),qt>this.progressiveDataLength&&this.ensureRange(Ht,qt),this.bytes.subarray(Ht,qt)}makeSubStream(Ht,qt,Nt=null){qt?Ht+qt>this.progressiveDataLength&&this.ensureRange(Ht,Ht+qt):Ht>=this.progressiveDataLength&&this.ensureByte(Ht);function $t(){}$t.prototype=Object.create(this),$t.prototype.getMissingChunks=function(){const Bt=this.chunkSize,_t=Math.floor(this.start/Bt),Kt=Math.floor((this.end-1)/Bt)+1,jt=[];for(let Gt=_t;Gt<Kt;++Gt)this._loadedChunks.has(Gt)||jt.push(Gt);return jt},Object.defineProperty($t.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const Mt=new $t;return Mt.pos=Mt.start=Ht,Mt.end=Ht+qt||this.end,Mt.dict=Nt,Mt}getBaseStreams(){return[this]}}Ct.ChunkedStream=ht;class vt{constructor(Ht,qt){this.length=qt.length,this.chunkSize=qt.rangeChunkSize,this.stream=new ht(this.length,this.chunkSize,this),this.pdfNetworkStream=Ht,this.disableAutoFetch=qt.disableAutoFetch,this.msgHandler=qt.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new kt.PromiseCapability}sendRequest(Ht,qt){const Nt=this.pdfNetworkStream.getRangeReader(Ht,qt);Nt.isStreamingSupported||(Nt.onProgress=this.onProgress.bind(this));let $t=[],Mt=0;return new Promise((Bt,_t)=>{const Kt=({value:jt,done:Gt})=>{try{if(Gt){const Qt=(0,wt.arrayBuffersToBytes)($t);$t=null,Bt(Qt);return}Mt+=jt.byteLength,Nt.isStreamingSupported&&this.onProgress({loaded:Mt}),$t.push(jt),Nt.read().then(Kt,_t)}catch(Qt){_t(Qt)}};Nt.read().then(Kt,_t)}).then(Bt=>{this.aborted||this.onReceiveData({chunk:Bt,begin:Ht})})}requestAllChunks(Ht=!1){if(!Ht){const qt=this.stream.getMissingChunks();this._requestChunks(qt)}return this._loadedStreamCapability.promise}_requestChunks(Ht){const qt=this.currRequestId++,Nt=new Set;this._chunksNeededByRequest.set(qt,Nt);for(const Bt of Ht)this.stream.hasChunk(Bt)||Nt.add(Bt);if(Nt.size===0)return Promise.resolve();const $t=new kt.PromiseCapability;this._promisesByRequest.set(qt,$t);const Mt=[];for(const Bt of Nt){let _t=this._requestsByChunk.get(Bt);_t||(_t=[],this._requestsByChunk.set(Bt,_t),Mt.push(Bt)),_t.push(qt)}if(Mt.length>0){const Bt=this.groupChunks(Mt);for(const _t of Bt){const Kt=_t.beginChunk*this.chunkSize,jt=Math.min(_t.endChunk*this.chunkSize,this.length);this.sendRequest(Kt,jt).catch($t.reject)}}return $t.promise.catch(Bt=>{if(!this.aborted)throw Bt})}getStream(){return this.stream}requestRange(Ht,qt){qt=Math.min(qt,this.length);const Nt=this.getBeginChunk(Ht),$t=this.getEndChunk(qt),Mt=[];for(let Bt=Nt;Bt<$t;++Bt)Mt.push(Bt);return this._requestChunks(Mt)}requestRanges(Ht=[]){const qt=[];for(const Nt of Ht){const $t=this.getBeginChunk(Nt.begin),Mt=this.getEndChunk(Nt.end);for(let Bt=$t;Bt<Mt;++Bt)qt.includes(Bt)||qt.push(Bt)}return qt.sort(function(Nt,$t){return Nt-$t}),this._requestChunks(qt)}groupChunks(Ht){const qt=[];let Nt=-1,$t=-1;for(let Mt=0,Bt=Ht.length;Mt<Bt;++Mt){const _t=Ht[Mt];Nt<0&&(Nt=_t),$t>=0&&$t+1!==_t&&(qt.push({beginChunk:Nt,endChunk:$t+1}),Nt=_t),Mt+1===Ht.length&&qt.push({beginChunk:Nt,endChunk:_t+1}),$t=_t}return qt}onProgress(Ht){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+Ht.loaded,total:this.length})}onReceiveData(Ht){const qt=Ht.chunk,Nt=Ht.begin===void 0,$t=Nt?this.progressiveDataLength:Ht.begin,Mt=$t+qt.byteLength,Bt=Math.floor($t/this.chunkSize),_t=Mt<this.length?Math.floor(Mt/this.chunkSize):Math.ceil(Mt/this.chunkSize);Nt?(this.stream.onReceiveProgressiveData(qt),this.progressiveDataLength=Mt):this.stream.onReceiveData($t,qt),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const Kt=[];for(let jt=Bt;jt<_t;++jt){const Gt=this._requestsByChunk.get(jt);if(Gt){this._requestsByChunk.delete(jt);for(const Qt of Gt){const ln=this._chunksNeededByRequest.get(Qt);ln.has(jt)&&ln.delete(jt),!(ln.size>0)&&Kt.push(Qt)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let jt;if(this.stream.numChunksLoaded===1){const Gt=this.stream.numChunks-1;this.stream.hasChunk(Gt)||(jt=Gt)}else jt=this.stream.nextEmptyChunk(_t);Number.isInteger(jt)&&this._requestChunks([jt])}for(const jt of Kt){const Gt=this._promisesByRequest.get(jt);this._promisesByRequest.delete(jt),Gt.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(Ht){this._loadedStreamCapability.reject(Ht)}getBeginChunk(Ht){return Math.floor(Ht/this.chunkSize)}getEndChunk(Ht){return Math.floor((Ht-1)/this.chunkSize)+1}abort(Ht){var qt;this.aborted=!0,(qt=this.pdfNetworkStream)==null||qt.cancelAllRequests(Ht);for(const Nt of this._promisesByRequest.values())Nt.reject(Ht)}}Ct.ChunkedStreamManager=vt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.StringStream=Ct.Stream=Ct.NullStream=void 0;var wt=Pt(5),kt=Pt(2);class Rt extends wt.BaseStream{constructor(Ht,qt,Nt,$t){super(),this.bytes=Ht instanceof Uint8Array?Ht:new Uint8Array(Ht),this.start=qt||0,this.pos=this.start,this.end=qt+Nt||this.bytes.length,this.dict=$t}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(Ht){const qt=this.bytes,Nt=this.pos,$t=this.end;if(!Ht)return qt.subarray(Nt,$t);let Mt=Nt+Ht;return Mt>$t&&(Mt=$t),this.pos=Mt,qt.subarray(Nt,Mt)}getByteRange(Ht,qt){return Ht<0&&(Ht=0),qt>this.end&&(qt=this.end),this.bytes.subarray(Ht,qt)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(Ht,qt,Nt=null){return new Rt(this.bytes.buffer,Ht,qt,Nt)}}Ct.Stream=Rt;class ht extends Rt{constructor(Ht){super((0,kt.stringToBytes)(Ht))}}Ct.StringStream=ht;class vt extends Rt{constructor(){super(new Uint8Array(0))}}Ct.NullStream=vt},(Et,Ct,Pt)=>{var Wt,W9,dn,G9;Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Page=Ct.PDFDocument=void 0;var wt=Pt(2),kt=Pt(10),Rt=Pt(3),ht=Pt(4),vt=Pt(51),Ft=Pt(5),Ht=Pt(74),qt=Pt(66),Nt=Pt(68),$t=Pt(102),Mt=Pt(16),Bt=Pt(8),_t=Pt(76),Kt=Pt(64),jt=Pt(13),Gt=Pt(18),Qt=Pt(72),ln=Pt(73),en=Pt(77),gn=Pt(103);const tn=1,bn=[0,0,612,792];class Xt{constructor({pdfManager:sn,xref:rn,pageIndex:xn,pageDict:vn,ref:kn,globalIdFactory:Fn,fontCache:On,builtInCMapCache:Pn,standardFontDataCache:Sn,globalImageCache:mn,systemFontCache:fn,nonBlendModesSet:Jt,xfaFactory:cn}){Nn(this,Wt);this.pdfManager=sn,this.pageIndex=xn,this.pageDict=vn,this.xref=rn,this.ref=kn,this.fontCache=On,this.builtInCMapCache=Pn,this.standardFontDataCache=Sn,this.globalImageCache=mn,this.systemFontCache=fn,this.nonBlendModesSet=Jt,this.evaluatorOptions=sn.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=cn;const pn={obj:0};this._localIdFactory=class extends Fn{static createObjId(){return`p${xn}_${++pn.obj}`}static getPageObjId(){return`p${kn.toString()}`}}}_getInheritableProperty(sn,rn=!1){const xn=(0,Rt.getInheritableProperty)({dict:this.pageDict,key:sn,getArray:rn,stopWhenFound:!1});return Array.isArray(xn)?xn.length===1||!(xn[0]instanceof ht.Dict)?xn[0]:ht.Dict.merge({xref:this.xref,dictArray:xn}):xn}get content(){return this.pageDict.getArray("Contents")}get resources(){const sn=this._getInheritableProperty("Resources");return(0,wt.shadow)(this,"resources",sn instanceof ht.Dict?sn:ht.Dict.empty)}_getBoundingBox(sn){if(this.xfaData)return this.xfaData.bbox;let rn=this._getInheritableProperty(sn,!0);if(Array.isArray(rn)&&rn.length===4){if(rn=wt.Util.normalizeRect(rn),rn[2]-rn[0]>0&&rn[3]-rn[1]>0)return rn;(0,wt.warn)(`Empty, or invalid, /${sn} entry.`)}return null}get mediaBox(){return(0,wt.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||bn)}get cropBox(){return(0,wt.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let sn=this.pageDict.get("UserUnit");return(typeof sn!="number"||sn<=0)&&(sn=tn),(0,wt.shadow)(this,"userUnit",sn)}get view(){const{cropBox:sn,mediaBox:rn}=this;if(sn!==rn&&!(0,wt.isArrayEqual)(sn,rn)){const xn=wt.Util.intersect(sn,rn);if(xn&&xn[2]-xn[0]>0&&xn[3]-xn[1]>0)return(0,wt.shadow)(this,"view",xn);(0,wt.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,wt.shadow)(this,"view",rn)}get rotate(){let sn=this._getInheritableProperty("Rotate")||0;return sn%90!==0?sn=0:sn>=360?sn%=360:sn<0&&(sn=(sn%360+360)%360),(0,wt.shadow)(this,"rotate",sn)}_onSubStreamError(sn,rn){if(this.evaluatorOptions.ignoreErrors){(0,wt.warn)(`getContentStream - ignoring sub-stream (${rn}): "${sn}".`);return}throw sn}getContentStream(){return this.pdfManager.ensure(this,"content").then(sn=>sn instanceof Ft.BaseStream?sn:Array.isArray(sn)?new Gt.StreamsSequenceStream(sn,this._onSubStreamError.bind(this)):new Bt.NullStream)}get xfaData(){return(0,wt.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(sn,rn,xn,vn){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const kn=new jt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),Fn=new ht.RefSet,On=new ht.RefSet;In(this,Wt,W9).call(this,xn,Fn,On);const Pn=this.pageDict,Sn=this.annotations.filter(pn=>!(pn instanceof ht.Ref&&Fn.has(pn))),mn=await kt.AnnotationFactory.saveNewAnnotations(kn,rn,xn,vn);for(const{ref:pn}of mn.annotations)pn instanceof ht.Ref&&!On.has(pn)&&Sn.push(pn);const fn=Pn.get("Annots");Pn.set("Annots",Sn);const Jt=[];await(0,ln.writeObject)(this.ref,Pn,Jt,this.xref),fn&&Pn.set("Annots",fn);const cn=mn.dependencies;return cn.push({ref:this.ref,data:Jt.join("")},...mn.annotations),cn}save(sn,rn,xn){const vn=new jt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(kn){const Fn=[];for(const On of kn)On.mustBePrinted(xn)&&Fn.push(On.save(vn,rn,xn).catch(function(Pn){return(0,wt.warn)(`save - ignoring annotation data during "${rn.name}" task: "${Pn}".`),null}));return Promise.all(Fn).then(function(On){return On.filter(Pn=>!!Pn)})})}loadResources(sn){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new _t.ObjectLoader(this.resources,sn,this.xref).load())}getOperatorList({handler:sn,sink:rn,task:xn,intent:vn,cacheKey:kn,annotationStorage:Fn=null}){const On=this.getContentStream(),Pn=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),Sn=new jt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),mn=this.xfaFactory?null:(0,Rt.getNewAnnotationsMap)(Fn);let fn=null,Jt=Promise.resolve(null);if(mn){const wn=mn.get(this.pageIndex);if(wn){const En=this.pdfManager.ensureDoc("annotationGlobals");let _n;const Cn=new Set;for(const{bitmapId:Tn,bitmap:Mn}of wn)Tn&&!Mn&&!Cn.has(Tn)&&Cn.add(Tn);const{isOffscreenCanvasSupported:An}=this.evaluatorOptions;if(Cn.size>0){const Tn=wn.slice();for(const[Mn,Rn]of Fn)Mn.startsWith(wt.AnnotationEditorPrefix)&&Rn.bitmap&&Cn.has(Rn.bitmapId)&&Tn.push(Rn);_n=kt.AnnotationFactory.generateImages(Tn,this.xref,An)}else _n=kt.AnnotationFactory.generateImages(wn,this.xref,An);fn=new ht.RefSet,In(this,Wt,W9).call(this,wn,fn,null),Jt=En.then(Tn=>Tn?kt.AnnotationFactory.printNewAnnotations(Tn,Sn,xn,wn,_n):null)}}const pn=Promise.all([On,Pn]).then(([wn])=>{const En=new Kt.OperatorList(vn,rn);return sn.send("StartRenderPage",{transparency:Sn.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:kn}),Sn.getOperatorList({stream:wn,task:xn,resources:this.resources,operatorList:En}).then(function(){return En})});return Promise.all([pn,this._parsedAnnotations,Jt]).then(function([wn,En,_n]){if(_n){En=En.filter(Ln=>!(Ln.ref&&fn.has(Ln.ref)));for(let Ln=0,Dn=_n.length;Ln<Dn;Ln++){const Un=_n[Ln];if(Un.refToReplace){const tr=En.findIndex(er=>er.ref&&(0,ht.isRefsEqual)(er.ref,Un.refToReplace));tr>=0&&(En.splice(tr,1,Un),_n.splice(Ln--,1),Dn--)}}En=En.concat(_n)}if(En.length===0||vn&wt.RenderingIntentFlag.ANNOTATIONS_DISABLE)return wn.flush(!0),{length:wn.totalLength};const Cn=!!(vn&wt.RenderingIntentFlag.ANNOTATIONS_FORMS),An=!!(vn&wt.RenderingIntentFlag.ANY),Tn=!!(vn&wt.RenderingIntentFlag.DISPLAY),Mn=!!(vn&wt.RenderingIntentFlag.PRINT),Rn=[];for(const Ln of En)(An||Tn&&Ln.mustBeViewed(Fn,Cn)||Mn&&Ln.mustBePrinted(Fn))&&Rn.push(Ln.getOperatorList(Sn,xn,vn,Cn,Fn).catch(function(Dn){return(0,wt.warn)(`getOperatorList - ignoring annotation data during "${xn.name}" task: "${Dn}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(Rn).then(function(Ln){let Dn=!1,Un=!1;for(const{opList:tr,separateForm:er,separateCanvas:Qn}of Ln)wn.addOpList(tr),Dn||(Dn=er),Un||(Un=Qn);return wn.flush(!0,{form:Dn,canvas:Un}),{length:wn.totalLength}})})}extractTextContent({handler:sn,task:rn,includeMarkedContent:xn,disableNormalization:vn,sink:kn}){const Fn=this.getContentStream(),On=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([Fn,On]).then(([Sn])=>new jt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:Sn,task:rn,resources:this.resources,includeMarkedContent:xn,disableNormalization:vn,sink:kn,viewBox:this.view}))}async getStructTree(){const sn=await this.pdfManager.ensureCatalog("structTreeRoot");return sn?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[sn])).serializable):null}_parseStructTree(sn){const rn=new Qt.StructTreePage(sn,this.pageDict);return rn.parse(this.ref),rn}async getAnnotationsData(sn,rn,xn){const vn=await this._parsedAnnotations;if(vn.length===0)return vn;const kn=[],Fn=[];let On;const Pn=!!(xn&wt.RenderingIntentFlag.ANY),Sn=!!(xn&wt.RenderingIntentFlag.DISPLAY),mn=!!(xn&wt.RenderingIntentFlag.PRINT);for(const fn of vn){const Jt=Pn||Sn&&fn.viewable;(Jt||mn&&fn.printable)&&kn.push(fn.data),fn.hasTextContent&&Jt&&(On||(On=new jt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions})),Fn.push(fn.extractTextContent(On,rn,[-1/0,-1/0,1/0,1/0]).catch(function(cn){(0,wt.warn)(`getAnnotationsData - ignoring textContent during "${rn.name}" task: "${cn}".`)})))}return await Promise.all(Fn),kn}get annotations(){const sn=this._getInheritableProperty("Annots");return(0,wt.shadow)(this,"annotations",Array.isArray(sn)?sn:[])}get _parsedAnnotations(){const sn=this.pdfManager.ensure(this,"annotations").then(async rn=>{if(rn.length===0)return rn;const xn=await this.pdfManager.ensureDoc("annotationGlobals");if(!xn)return[];const vn=[];for(const On of rn)vn.push(kt.AnnotationFactory.create(this.xref,On,xn,this._localIdFactory,!1,this.ref).catch(function(Pn){return(0,wt.warn)(`_parsedAnnotations: "${Pn}".`),null}));const kn=[];let Fn;for(const On of await Promise.all(vn))if(On){if(On instanceof kt.PopupAnnotation){(Fn||(Fn=[])).push(On);continue}kn.push(On)}return Fn&&kn.push(...Fn),kn});return(0,wt.shadow)(this,"_parsedAnnotations",sn)}get jsActions(){const sn=(0,Rt.collectActions)(this.xref,this.pageDict,wt.PageActionEventType);return(0,wt.shadow)(this,"jsActions",sn)}}Wt=new WeakSet,W9=function(sn,rn,xn){for(const vn of sn)if(vn.id){const kn=ht.Ref.fromString(vn.id);if(!kn){(0,wt.warn)(`A non-linked annotation cannot be modified: ${vn.id}`);continue}if(vn.deleted){rn.put(kn);continue}xn==null||xn.put(kn),vn.ref=kn,delete vn.id}},Ct.Page=Xt;const Yt=new Uint8Array([37,80,68,70,45]),un=new Uint8Array([115,116,97,114,116,120,114,101,102]),Ut=new Uint8Array([101,110,100,111,98,106]),Lt=1024,Vt="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function an(hn,sn,rn=1024,xn=!1){const vn=sn.length,kn=hn.peekBytes(rn),Fn=kn.length-vn;if(Fn<=0)return!1;if(xn){const On=vn-1;let Pn=kn.length-1;for(;Pn>=On;){let Sn=0;for(;Sn<vn&&kn[Pn-Sn]===sn[On-Sn];)Sn++;if(Sn>=vn)return hn.pos+=Pn-On,!0;Pn--}}else{let On=0;for(;On<=Fn;){let Pn=0;for(;Pn<vn&&kn[On+Pn]===sn[Pn];)Pn++;if(Pn>=vn)return hn.pos+=On,!0;On++}}return!1}class zt{constructor(sn,rn){Nn(this,dn);if(rn.length<=0)throw new wt.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=sn,this.stream=rn,this.xref=new gn.XRef(rn,sn),this._pagePromises=new Map,this._version=null;const xn={font:0};this._globalIdFactory=class{static getDocId(){return`g_${sn.docId}`}static createFontId(){return`f${++xn.font}`}static createObjId(){(0,wt.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,wt.unreachable)("Abstract method `getPageObjId` called.")}}}parse(sn){this.xref.parse(sn),this.catalog=new qt.Catalog(this.pdfManager,this.xref)}get linearization(){let sn=null;try{sn=Mt.Linearization.create(this.stream)}catch(rn){if(rn instanceof Rt.MissingDataException)throw rn;(0,wt.info)(rn)}return(0,wt.shadow)(this,"linearization",sn)}get startXRef(){const sn=this.stream;let rn=0;if(this.linearization)sn.reset(),an(sn,Ut)&&(rn=sn.pos+6-sn.start);else{const vn=un.length;let kn=!1,Fn=sn.end;for(;!kn&&Fn>0;)Fn-=1024-vn,Fn<0&&(Fn=0),sn.pos=Fn,kn=an(sn,un,1024,!0);if(kn){sn.skip(9);let On;do On=sn.getByte();while((0,Rt.isWhiteSpace)(On));let Pn="";for(;On>=32&&On<=57;)Pn+=String.fromCharCode(On),On=sn.getByte();rn=parseInt(Pn,10),isNaN(rn)&&(rn=0)}}return(0,wt.shadow)(this,"startXRef",rn)}checkHeader(){const sn=this.stream;if(sn.reset(),!an(sn,Yt))return;sn.moveStart(),sn.skip(Yt.length);let rn="",xn;for(;(xn=sn.getByte())>32&&rn.length<7;)rn+=String.fromCharCode(xn);Rt.PDF_VERSION_REGEXP.test(rn)?this._version=rn:(0,wt.warn)(`Invalid PDF header version: ${rn}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let sn=0;return this.catalog.hasActualNumPages?sn=this.catalog.numPages:this.xfaFactory?sn=this.xfaFactory.getNumPages():this.linearization?sn=this.linearization.numPages:sn=this.catalog.numPages,(0,wt.shadow)(this,"numPages",sn)}_hasOnlyDocumentSignatures(sn,rn=0){return Array.isArray(sn)?sn.every(vn=>{if(vn=this.xref.fetchIfRef(vn),!(vn instanceof ht.Dict))return!1;if(vn.has("Kids"))return++rn>10?((0,wt.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(vn.get("Kids"),rn);const kn=(0,ht.isName)(vn.get("FT"),"Sig"),Fn=vn.get("Rect"),On=Array.isArray(Fn)&&Fn.every(Pn=>Pn===0);return kn&&On}):!1}get _xfaStreams(){const sn=this.catalog.acroForm;if(!sn)return null;const rn=sn.get("XFA"),xn={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(rn instanceof Ft.BaseStream&&!rn.isEmpty)return xn["xdp:xdp"]=rn,xn;if(!Array.isArray(rn)||rn.length===0)return null;for(let vn=0,kn=rn.length;vn<kn;vn+=2){let Fn;if(vn===0?Fn="xdp:xdp":vn===kn-2?Fn="/xdp:xdp":Fn=rn[vn],!xn.hasOwnProperty(Fn))continue;const On=this.xref.fetchIfRef(rn[vn+1]);!(On instanceof Ft.BaseStream)||On.isEmpty||(xn[Fn]=On)}return xn}get xfaDatasets(){const sn=this._xfaStreams;if(!sn)return(0,wt.shadow)(this,"xfaDatasets",null);for(const rn of["datasets","xdp:xdp"]){const xn=sn[rn];if(xn)try{const vn=(0,wt.stringToUTF8String)(xn.getString()),kn={[rn]:vn};return(0,wt.shadow)(this,"xfaDatasets",new $t.DatasetReader(kn))}catch{(0,wt.warn)("XFA - Invalid utf-8 string.");break}}return(0,wt.shadow)(this,"xfaDatasets",null)}get xfaData(){const sn=this._xfaStreams;if(!sn)return null;const rn=Object.create(null);for(const[xn,vn]of Object.entries(sn))if(vn)try{rn[xn]=(0,wt.stringToUTF8String)(vn.getString())}catch{return(0,wt.warn)("XFA - Invalid utf-8 string."),null}return rn}get xfaFactory(){let sn;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(sn=this.xfaData),(0,wt.shadow)(this,"xfaFactory",sn?new en.XFAFactory(sn):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const sn=await this.pdfManager.ensureCatalog("xfaImages");if(!sn)return;const rn=sn.getKeys();await new _t.ObjectLoader(sn,rn,this.xref).load();const vn=new Map;for(const kn of rn){const Fn=sn.get(kn);Fn instanceof Ft.BaseStream&&vn.set(kn,Fn.getBytes())}this.xfaFactory.setImages(vn)}async loadXfaFonts(sn,rn){const xn=await this.pdfManager.ensureCatalog("acroForm");if(!xn)return;const vn=await xn.getAsync("DR");if(!(vn instanceof ht.Dict))return;await new _t.ObjectLoader(vn,["Font"],this.xref).load();const Fn=vn.get("Font");if(!(Fn instanceof ht.Dict))return;const On=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);On.useSystemFonts=!1;const Pn=new jt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:On}),Sn=new Kt.OperatorList,mn=[],fn={get font(){return mn.at(-1)},set font(En){mn.push(En)},clone(){return this}},Jt=new Map;Fn.forEach((En,_n)=>{Jt.set(En,_n)});const cn=[];for(const[En,_n]of Jt){const Cn=_n.get("FontDescriptor");if(!(Cn instanceof ht.Dict))continue;let An=Cn.get("FontFamily");An=An.replaceAll(/[ ]+(\d)/g,"$1");const Tn=Cn.get("FontWeight"),Mn=-Cn.get("ItalicAngle"),Rn={fontFamily:An,fontWeight:Tn,italicAngle:Mn};(0,Rt.validateCSSFont)(Rn)&&cn.push(Pn.handleSetFont(vn,[ht.Name.get(En),1],null,Sn,rn,fn,null,Rn).catch(function(Ln){return(0,wt.warn)(`loadXfaFonts: "${Ln}".`),null}))}await Promise.all(cn);const pn=this.xfaFactory.setFonts(mn);if(!pn)return;On.ignoreErrors=!0,cn.length=0,mn.length=0;const wn=new Set;for(const En of pn)(0,vt.getXfaFontName)(`${En}-Regular`)||wn.add(En);wn.size&&pn.push("PdfJS-Fallback");for(const En of pn)if(!wn.has(En))for(const _n of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const Cn=`${En}-${_n.name}`,An=(0,vt.getXfaFontDict)(Cn);cn.push(Pn.handleSetFont(vn,[ht.Name.get(Cn),1],null,Sn,rn,fn,An,{fontFamily:En,fontWeight:_n.fontWeight,italicAngle:_n.italicAngle}).catch(function(Tn){return(0,wt.warn)(`loadXfaFonts: "${Tn}".`),null}))}await Promise.all(cn),this.xfaFactory.appendFonts(mn,wn)}async serializeXfaData(sn){return this.xfaFactory?this.xfaFactory.serializeData(sn):null}get version(){return this.catalog.version||this._version}get formInfo(){const sn={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},rn=this.catalog.acroForm;if(!rn)return(0,wt.shadow)(this,"formInfo",sn);try{const xn=rn.get("Fields"),vn=Array.isArray(xn)&&xn.length>0;sn.hasFields=vn;const kn=rn.get("XFA");sn.hasXfa=Array.isArray(kn)&&kn.length>0||kn instanceof Ft.BaseStream&&!kn.isEmpty;const On=!!(rn.get("SigFlags")&1),Pn=On&&this._hasOnlyDocumentSignatures(xn);sn.hasAcroForm=vn&&!Pn,sn.hasSignatures=On}catch(xn){if(xn instanceof Rt.MissingDataException)throw xn;(0,wt.warn)(`Cannot fetch form information: "${xn}".`)}return(0,wt.shadow)(this,"formInfo",sn)}get documentInfo(){const sn={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let rn;try{rn=this.xref.trailer.get("Info")}catch(xn){if(xn instanceof Rt.MissingDataException)throw xn;(0,wt.info)("The document information dictionary is invalid.")}if(!(rn instanceof ht.Dict))return(0,wt.shadow)(this,"documentInfo",sn);for(const xn of rn.getKeys()){const vn=rn.get(xn);switch(xn){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof vn=="string"){sn[xn]=(0,wt.stringToPDFString)(vn);continue}break;case"Trapped":if(vn instanceof ht.Name){sn[xn]=vn;continue}break;default:let kn;switch(typeof vn){case"string":kn=(0,wt.stringToPDFString)(vn);break;case"number":case"boolean":kn=vn;break;default:vn instanceof ht.Name&&(kn=vn);break}if(kn===void 0){(0,wt.warn)(`Bad value, for custom key "${xn}", in Info: ${vn}.`);continue}sn.Custom||(sn.Custom=Object.create(null)),sn.Custom[xn]=kn;continue}(0,wt.warn)(`Bad value, for key "${xn}", in Info: ${vn}.`)}return(0,wt.shadow)(this,"documentInfo",sn)}get fingerprints(){function sn(Fn){return typeof Fn=="string"&&Fn.length>0&&Fn!==Vt}function rn(Fn){const On=[];for(const Pn of Fn){const Sn=Pn.toString(16);On.push(Sn.padStart(2,"0"))}return On.join("")}const xn=this.xref.trailer.get("ID");let vn,kn;return Array.isArray(xn)&&sn(xn[0])?(vn=(0,wt.stringToBytes)(xn[0]),xn[1]!==xn[0]&&sn(xn[1])&&(kn=(0,wt.stringToBytes)(xn[1]))):vn=(0,Ht.calculateMD5)(this.stream.getByteRange(0,Lt),0,Lt),(0,wt.shadow)(this,"fingerprints",[rn(vn),kn?rn(kn):null])}async _getLinearizationPage(sn){const{catalog:rn,linearization:xn,xref:vn}=this,kn=ht.Ref.get(xn.objectNumberFirst,0);try{const Fn=await vn.fetchAsync(kn);if(Fn instanceof ht.Dict){let On=Fn.getRaw("Type");if(On instanceof ht.Ref&&(On=await vn.fetchAsync(On)),(0,ht.isName)(On,"Page")||!Fn.has("Type")&&!Fn.has("Kids"))return rn.pageKidsCountCache.has(kn)||rn.pageKidsCountCache.put(kn,1),rn.pageIndexCache.has(kn)||rn.pageIndexCache.put(kn,0),[Fn,kn]}throw new wt.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(Fn){return(0,wt.warn)(`_getLinearizationPage: "${Fn.message}".`),rn.getPageDict(sn)}}getPage(sn){const rn=this._pagePromises.get(sn);if(rn)return rn;const{catalog:xn,linearization:vn,xfaFactory:kn}=this;let Fn;return kn?Fn=Promise.resolve([ht.Dict.empty,null]):(vn==null?void 0:vn.pageFirst)===sn?Fn=this._getLinearizationPage(sn):Fn=xn.getPageDict(sn),Fn=Fn.then(([On,Pn])=>new Xt({pdfManager:this.pdfManager,xref:this.xref,pageIndex:sn,pageDict:On,ref:Pn,globalIdFactory:this._globalIdFactory,fontCache:xn.fontCache,builtInCMapCache:xn.builtInCMapCache,standardFontDataCache:xn.standardFontDataCache,globalImageCache:xn.globalImageCache,systemFontCache:xn.systemFontCache,nonBlendModesSet:xn.nonBlendModesSet,xfaFactory:kn})),this._pagePromises.set(sn,Fn),Fn}async checkFirstPage(sn=!1){if(!sn)try{await this.getPage(0)}catch(rn){if(rn instanceof Rt.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new Rt.XRefParseException}}async checkLastPage(sn=!1){const{catalog:rn,pdfManager:xn}=this;rn.setActualNumPages();let vn;try{if(await Promise.all([xn.ensureDoc("xfaFactory"),xn.ensureDoc("linearization"),xn.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?vn=this.linearization.numPages:vn=rn.numPages,Number.isInteger(vn)){if(vn<=1)return}else throw new wt.FormatError("Page count is not an integer.");await this.getPage(vn-1)}catch(kn){if(this._pagePromises.delete(vn-1),await this.cleanup(),kn instanceof Rt.XRefEntryException&&!sn)throw new Rt.XRefParseException;(0,wt.warn)(`checkLastPage - invalid /Pages tree /Count: ${vn}.`);let Fn;try{Fn=await rn.getAllPageDicts(sn)}catch(On){if(On instanceof Rt.XRefEntryException&&!sn)throw new Rt.XRefParseException;rn.setActualNumPages(1);return}for(const[On,[Pn,Sn]]of Fn){let mn;Pn instanceof Error?(mn=Promise.reject(Pn),mn.catch(()=>{})):mn=Promise.resolve(new Xt({pdfManager:xn,xref:this.xref,pageIndex:On,pageDict:Pn,ref:Sn,globalIdFactory:this._globalIdFactory,fontCache:rn.fontCache,builtInCMapCache:rn.builtInCMapCache,standardFontDataCache:rn.standardFontDataCache,globalImageCache:rn.globalImageCache,systemFontCache:rn.systemFontCache,nonBlendModesSet:rn.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(On,mn)}rn.setActualNumPages(Fn.size)}}fontFallback(sn,rn){return this.catalog.fontFallback(sn,rn)}async cleanup(sn=!1){return this.catalog?this.catalog.cleanup(sn):(0,Nt.clearGlobalCaches)()}get fieldObjects(){if(!this.formInfo.hasFields)return(0,wt.shadow)(this,"fieldObjects",Promise.resolve(null));const sn=this.pdfManager.ensureDoc("annotationGlobals").then(async rn=>{if(!rn)return null;const xn=Object.create(null),vn=new Map;for(const Fn of this.catalog.acroForm.get("Fields"))In(this,dn,G9).call(this,"",Fn,vn,rn);const kn=[];for(const[Fn,On]of vn)kn.push(Promise.all(On).then(Pn=>{Pn=Pn.filter(Sn=>!!Sn),Pn.length>0&&(xn[Fn]=Pn)}));return await Promise.all(kn),xn});return(0,wt.shadow)(this,"fieldObjects",sn)}get hasJSActions(){const sn=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,wt.shadow)(this,"hasJSActions",sn)}async _parseHasJSActions(){const[sn,rn]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return sn?!0:rn?Object.values(rn).some(xn=>xn.some(vn=>vn.actions!==null)):!1}get calculationOrderIds(){const sn=this.catalog.acroForm;if(!(sn!=null&&sn.has("CO")))return(0,wt.shadow)(this,"calculationOrderIds",null);const rn=sn.get("CO");if(!Array.isArray(rn)||rn.length===0)return(0,wt.shadow)(this,"calculationOrderIds",null);const xn=[];for(const vn of rn)vn instanceof ht.Ref&&xn.push(vn.toString());return xn.length===0?(0,wt.shadow)(this,"calculationOrderIds",null):(0,wt.shadow)(this,"calculationOrderIds",xn)}get annotationGlobals(){return(0,wt.shadow)(this,"annotationGlobals",kt.AnnotationFactory.createGlobals(this.pdfManager))}}dn=new WeakSet,G9=function(sn,rn,xn,vn){const kn=this.xref.fetchIfRef(rn);if(kn.has("T")){const Fn=(0,wt.stringToPDFString)(kn.get("T"));sn=sn===""?Fn:`${sn}.${Fn}`}if(xn.has(sn)||xn.set(sn,[]),xn.get(sn).push(kt.AnnotationFactory.create(this.xref,rn,vn,this._localIdFactory,!0,null).then(Fn=>Fn==null?void 0:Fn.getFieldObject()).catch(function(Fn){return(0,wt.warn)(`#collectFieldObjects: "${Fn}".`),null})),kn.has("Kids"))for(const Fn of kn.get("Kids"))In(this,dn,G9).call(this,sn,Fn,xn,vn)},Ct.PDFDocument=zt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PopupAnnotation=Ct.MarkupAnnotation=Ct.AnnotationFactory=Ct.AnnotationBorderStyle=Ct.Annotation=void 0,Ct.getQuadPoints=en;var wt=Pt(2),kt=Pt(3),Rt=Pt(11),ht=Pt(4),vt=Pt(8),Ft=Pt(5),Ht=Pt(60),qt=Pt(66),Nt=Pt(12),$t=Pt(69),Mt=Pt(26),Bt=Pt(76),_t=Pt(64),Kt=Pt(73),jt=Pt(77);class Gt{static createGlobals(Jt){return Promise.all([Jt.ensureCatalog("acroForm"),Jt.ensureDoc("xfaDatasets"),Jt.ensureCatalog("structTreeRoot"),Jt.ensureCatalog("baseUrl"),Jt.ensureCatalog("attachments")]).then(([cn,pn,wn,En,_n])=>({pdfManager:Jt,acroForm:cn instanceof ht.Dict?cn:ht.Dict.empty,xfaDatasets:pn,structTreeRoot:wn,baseUrl:En,attachments:_n}),cn=>((0,wt.warn)(`createGlobals: "${cn}".`),null))}static async create(Jt,cn,pn,wn,En,_n){const Cn=En?await this._getPageIndex(Jt,cn,pn.pdfManager):null;return pn.pdfManager.ensure(this,"_create",[Jt,cn,pn,wn,En,Cn,_n])}static _create(Jt,cn,pn,wn,En=!1,_n=null,Cn=null){const An=Jt.fetchIfRef(cn);if(!(An instanceof ht.Dict))return;const{acroForm:Tn,pdfManager:Mn}=pn,Rn=cn instanceof ht.Ref?cn.toString():`annot_${wn.createObjId()}`;let Ln=An.get("Subtype");Ln=Ln instanceof ht.Name?Ln.name:null;const Dn={xref:Jt,ref:cn,dict:An,subtype:Ln,id:Rn,annotationGlobals:pn,collectFields:En,needAppearances:!En&&Tn.get("NeedAppearances")===!0,pageIndex:_n,evaluatorOptions:Mn.evaluatorOptions,pageRef:Cn};switch(Ln){case"Link":return new zt(Dn);case"Text":return new an(Dn);case"Widget":let Un=(0,kt.getInheritableProperty)({dict:An,key:"FT"});switch(Un=Un instanceof ht.Name?Un.name:null,Un){case"Tx":return new un(Dn);case"Btn":return new Ut(Dn);case"Ch":return new Lt(Dn);case"Sig":return new Vt(Dn)}return(0,wt.warn)(`Unimplemented widget field type "${Un}", falling back to base field type.`),new Yt(Dn);case"Popup":return new Wt(Dn);case"FreeText":return new nn(Dn);case"Line":return new dn(Dn);case"Square":return new on(Dn);case"Circle":return new hn(Dn);case"PolyLine":return new sn(Dn);case"Polygon":return new rn(Dn);case"Caret":return new xn(Dn);case"Ink":return new vn(Dn);case"Highlight":return new kn(Dn);case"Underline":return new Fn(Dn);case"Squiggly":return new On(Dn);case"StrikeOut":return new Pn(Dn);case"Stamp":return new Sn(Dn);case"FileAttachment":return new mn(Dn);default:return En||(Ln?(0,wt.warn)(`Unimplemented annotation type "${Ln}", falling back to base annotation.`):(0,wt.warn)("Annotation is missing the required /Subtype.")),new tn(Dn)}}static async _getPageIndex(Jt,cn,pn){try{const wn=await Jt.fetchIfRefAsync(cn);if(!(wn instanceof ht.Dict))return-1;const En=wn.getRaw("P");if(En instanceof ht.Ref)try{return await pn.ensureCatalog("getPageIndex",[En])}catch(Cn){(0,wt.info)(`_getPageIndex -- not a valid page reference: "${Cn}".`)}if(wn.has("Kids"))return-1;const _n=await pn.ensureDoc("numPages");for(let Cn=0;Cn<_n;Cn++){const An=await pn.getPage(Cn),Tn=await pn.ensure(An,"annotations");for(const Mn of Tn)if(Mn instanceof ht.Ref&&(0,ht.isRefsEqual)(Mn,cn))return Cn}}catch(wn){(0,wt.warn)(`_getPageIndex: "${wn}".`)}return-1}static generateImages(Jt,cn,pn){if(!pn)return(0,wt.warn)("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let wn;for(const{bitmapId:En,bitmap:_n}of Jt)_n&&(wn||(wn=new Map),wn.set(En,Sn.createImage(_n,cn)));return wn}static async saveNewAnnotations(Jt,cn,pn,wn){const En=Jt.xref;let _n;const Cn=[],An=[],{isOffscreenCanvasSupported:Tn}=Jt.options;for(const Mn of pn)if(!Mn.deleted)switch(Mn.annotationType){case wt.AnnotationEditorType.FREETEXT:if(!_n){const Ln=new ht.Dict(En);Ln.set("BaseFont",ht.Name.get("Helvetica")),Ln.set("Type",ht.Name.get("Font")),Ln.set("Subtype",ht.Name.get("Type1")),Ln.set("Encoding",ht.Name.get("WinAnsiEncoding"));const Dn=[];_n=En.getNewTemporaryRef(),await(0,Kt.writeObject)(_n,Ln,Dn,En),Cn.push({ref:_n,data:Dn.join("")})}An.push(nn.createNewAnnotation(En,Mn,Cn,{evaluator:Jt,task:cn,baseFontRef:_n}));break;case wt.AnnotationEditorType.INK:An.push(vn.createNewAnnotation(En,Mn,Cn));break;case wt.AnnotationEditorType.STAMP:if(!Tn)break;const Rn=await wn.get(Mn.bitmapId);if(Rn.imageStream){const{imageStream:Ln,smaskStream:Dn}=Rn,Un=[];if(Dn){const er=En.getNewTemporaryRef();await(0,Kt.writeObject)(er,Dn,Un,En),Cn.push({ref:er,data:Un.join("")}),Ln.dict.set("SMask",er),Un.length=0}const tr=Rn.imageRef=En.getNewTemporaryRef();await(0,Kt.writeObject)(tr,Ln,Un,En),Cn.push({ref:tr,data:Un.join("")}),Rn.imageStream=Rn.smaskStream=null}An.push(Sn.createNewAnnotation(En,Mn,Cn,{image:Rn}));break}return{annotations:await Promise.all(An),dependencies:Cn}}static async printNewAnnotations(Jt,cn,pn,wn,En){if(!wn)return null;const{options:_n,xref:Cn}=cn,An=[];for(const Tn of wn)if(!Tn.deleted)switch(Tn.annotationType){case wt.AnnotationEditorType.FREETEXT:An.push(nn.createNewPrintAnnotation(Jt,Cn,Tn,{evaluator:cn,task:pn,evaluatorOptions:_n}));break;case wt.AnnotationEditorType.INK:An.push(vn.createNewPrintAnnotation(Jt,Cn,Tn,{evaluatorOptions:_n}));break;case wt.AnnotationEditorType.STAMP:if(!_n.isOffscreenCanvasSupported)break;const Mn=await En.get(Tn.bitmapId);if(Mn.imageStream){const{imageStream:Rn,smaskStream:Ln}=Mn;Ln&&Rn.dict.set("SMask",Ln),Mn.imageRef=new Mt.JpegStream(Rn,Rn.length),Mn.imageStream=Mn.smaskStream=null}An.push(Sn.createNewPrintAnnotation(Jt,Cn,Tn,{image:Mn,evaluatorOptions:_n}));break}return Promise.all(An)}}Ct.AnnotationFactory=Gt;function Qt(fn,Jt=new Uint8ClampedArray(3)){if(!Array.isArray(fn))return Jt;const cn=Jt||new Uint8ClampedArray(3);switch(fn.length){case 0:return null;case 1:return Nt.ColorSpace.singletons.gray.getRgbItem(fn,0,cn,0),cn;case 3:return Nt.ColorSpace.singletons.rgb.getRgbItem(fn,0,cn,0),cn;case 4:return Nt.ColorSpace.singletons.cmyk.getRgbItem(fn,0,cn,0),cn;default:return Jt}}function ln(fn){return Array.from(fn,Jt=>Jt/255)}function en(fn,Jt){const cn=fn.getArray("QuadPoints");if(!Array.isArray(cn)||cn.length===0||cn.length%8>0)return null;const pn=[];for(let wn=0,En=cn.length/8;wn<En;wn++){let _n=1/0,Cn=-1/0,An=1/0,Tn=-1/0;for(let Mn=wn*8,Rn=wn*8+8;Mn<Rn;Mn+=2){const Ln=cn[Mn],Dn=cn[Mn+1];_n=Math.min(Ln,_n),Cn=Math.max(Ln,Cn),An=Math.min(Dn,An),Tn=Math.max(Dn,Tn)}if(Jt!==null&&(_n<Jt[0]||Cn>Jt[2]||An<Jt[1]||Tn>Jt[3]))return null;pn.push([{x:_n,y:Tn},{x:Cn,y:Tn},{x:_n,y:An},{x:Cn,y:An}])}return pn}function gn(fn,Jt,cn){const[pn,wn,En,_n]=wt.Util.getAxialAlignedBoundingBox(Jt,cn);if(pn===En||wn===_n)return[1,0,0,1,fn[0],fn[1]];const Cn=(fn[2]-fn[0])/(En-pn),An=(fn[3]-fn[1])/(_n-wn);return[Cn,0,0,An,fn[0]-pn*Cn,fn[1]-wn*An]}class tn{constructor(Jt){const{dict:cn,xref:pn,annotationGlobals:wn}=Jt;this.setTitle(cn.get("T")),this.setContents(cn.get("Contents")),this.setModificationDate(cn.get("M")),this.setFlags(cn.get("F")),this.setRectangle(cn.getArray("Rect")),this.setColor(cn.getArray("C")),this.setBorderStyle(cn),this.setAppearance(cn),this.setOptionalContent(cn);const En=cn.get("MK");this.setBorderAndBackgroundColors(En),this.setRotation(En,cn),this.ref=Jt.ref instanceof ht.Ref?Jt.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const _n=!!(this.flags&wt.AnnotationFlag.LOCKED),Cn=!!(this.flags&wt.AnnotationFlag.LOCKEDCONTENTS);if(wn.structTreeRoot){let An=cn.get("StructParent");An=Number.isInteger(An)&&An>=0?An:-1,wn.structTreeRoot.addAnnotationIdToPage(Jt.pageRef,An)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:Jt.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:Jt.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&wt.AnnotationFlag.NOROTATE),noHTML:_n&&Cn},Jt.collectFields){const An=cn.get("Kids");if(Array.isArray(An)){const Tn=[];for(const Mn of An)Mn instanceof ht.Ref&&Tn.push(Mn.toString());Tn.length!==0&&(this.data.kidIds=Tn)}this.data.actions=(0,kt.collectActions)(pn,cn,wt.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(cn),this.data.pageIndex=Jt.pageIndex}this._isOffscreenCanvasSupported=Jt.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(Jt,cn){return!!(Jt&cn)}_isViewable(Jt){return!this._hasFlag(Jt,wt.AnnotationFlag.INVISIBLE)&&!this._hasFlag(Jt,wt.AnnotationFlag.NOVIEW)}_isPrintable(Jt){return this._hasFlag(Jt,wt.AnnotationFlag.PRINT)&&!this._hasFlag(Jt,wt.AnnotationFlag.HIDDEN)&&!this._hasFlag(Jt,wt.AnnotationFlag.INVISIBLE)}mustBeViewed(Jt,cn){var wn;const pn=(wn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:wn.noView;return pn!==void 0?!pn:this.viewable&&!this._hasFlag(this.flags,wt.AnnotationFlag.HIDDEN)}mustBePrinted(Jt){var pn;const cn=(pn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:pn.noPrint;return cn!==void 0?!cn:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(Jt){const cn=typeof Jt=="string"?(0,wt.stringToPDFString)(Jt):"",pn=cn&&(0,Ht.bidi)(cn).dir==="rtl"?"rtl":"ltr";return{str:cn,dir:pn}}setDefaultAppearance(Jt){const{dict:cn,annotationGlobals:pn}=Jt,wn=(0,kt.getInheritableProperty)({dict:cn,key:"DA"})||pn.acroForm.get("DA");this._defaultAppearance=typeof wn=="string"?wn:"",this.data.defaultAppearanceData=(0,Rt.parseDefaultAppearance)(this._defaultAppearance)}setTitle(Jt){this._title=this._parseStringHelper(Jt)}setContents(Jt){this._contents=this._parseStringHelper(Jt)}setModificationDate(Jt){this.modificationDate=typeof Jt=="string"?Jt:null}setFlags(Jt){this.flags=Number.isInteger(Jt)&&Jt>0?Jt:0}hasFlag(Jt){return this._hasFlag(this.flags,Jt)}setRectangle(Jt){this.rectangle=Array.isArray(Jt)&&Jt.length===4?wt.Util.normalizeRect(Jt):[0,0,0,0]}setColor(Jt){this.color=Qt(Jt)}setLineEndings(Jt){if(this.lineEndings=["None","None"],Array.isArray(Jt)&&Jt.length===2)for(let cn=0;cn<2;cn++){const pn=Jt[cn];if(pn instanceof ht.Name)switch(pn.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[cn]=pn.name;continue}(0,wt.warn)(`Ignoring invalid lineEnding: ${pn}`)}}setRotation(Jt,cn){this.rotation=0;let pn=Jt instanceof ht.Dict?Jt.get("R")||0:cn.get("Rotate")||0;Number.isInteger(pn)&&pn!==0&&(pn%=360,pn<0&&(pn+=360),pn%90===0&&(this.rotation=pn))}setBorderAndBackgroundColors(Jt){Jt instanceof ht.Dict?(this.borderColor=Qt(Jt.getArray("BC"),null),this.backgroundColor=Qt(Jt.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(Jt){if(this.borderStyle=new bn,Jt instanceof ht.Dict)if(Jt.has("BS")){const cn=Jt.get("BS"),pn=cn.get("Type");(!pn||(0,ht.isName)(pn,"Border"))&&(this.borderStyle.setWidth(cn.get("W"),this.rectangle),this.borderStyle.setStyle(cn.get("S")),this.borderStyle.setDashArray(cn.getArray("D")))}else if(Jt.has("Border")){const cn=Jt.getArray("Border");Array.isArray(cn)&&cn.length>=3&&(this.borderStyle.setHorizontalCornerRadius(cn[0]),this.borderStyle.setVerticalCornerRadius(cn[1]),this.borderStyle.setWidth(cn[2],this.rectangle),cn.length===4&&this.borderStyle.setDashArray(cn[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(Jt){this.appearance=null;const cn=Jt.get("AP");if(!(cn instanceof ht.Dict))return;const pn=cn.get("N");if(pn instanceof Ft.BaseStream){this.appearance=pn;return}if(!(pn instanceof ht.Dict))return;const wn=Jt.get("AS");if(!(wn instanceof ht.Name)||!pn.has(wn.name))return;const En=pn.get(wn.name);En instanceof Ft.BaseStream&&(this.appearance=En)}setOptionalContent(Jt){this.oc=null;const cn=Jt.get("OC");cn instanceof ht.Name?(0,wt.warn)("setOptionalContent: Support for /Name-entry is not implemented."):cn instanceof ht.Dict&&(this.oc=cn)}loadResources(Jt,cn){return cn.dict.getAsync("Resources").then(pn=>pn?new Bt.ObjectLoader(pn,Jt,pn.xref).load().then(function(){return pn}):void 0)}async getOperatorList(Jt,cn,pn,wn,En){const _n=this.data;let Cn=this.appearance;const An=!!(this.data.hasOwnCanvas&&pn&wt.RenderingIntentFlag.DISPLAY);if(!Cn){if(!An)return{opList:new _t.OperatorList,separateForm:!1,separateCanvas:!1};Cn=new vt.StringStream(""),Cn.dict=new ht.Dict}const Tn=Cn.dict,Mn=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],Cn),Rn=Tn.getArray("BBox")||[0,0,1,1],Ln=Tn.getArray("Matrix")||[1,0,0,1,0,0],Dn=gn(_n.rect,Rn,Ln),Un=new _t.OperatorList;let tr;return this.oc&&(tr=await Jt.parseMarkedContentProps(this.oc,null)),tr!==void 0&&Un.addOp(wt.OPS.beginMarkedContentProps,["OC",tr]),Un.addOp(wt.OPS.beginAnnotation,[_n.id,_n.rect,Dn,Ln,An]),await Jt.getOperatorList({stream:Cn,task:cn,resources:Mn,operatorList:Un,fallbackFontDict:this._fallbackFontDict}),Un.addOp(wt.OPS.endAnnotation,[]),tr!==void 0&&Un.addOp(wt.OPS.endMarkedContent,[]),this.reset(),{opList:Un,separateForm:!1,separateCanvas:An}}async save(Jt,cn,pn){return null}get hasTextContent(){return!1}async extractTextContent(Jt,cn,pn){if(!this.appearance)return;const wn=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),En=[],_n=[];let Cn=null;const An={desiredSize:Math.Infinity,ready:!0,enqueue(Tn,Mn){for(const Rn of Tn.items)Rn.str!==void 0&&(Cn||(Cn=Rn.transform.slice(-2)),_n.push(Rn.str),Rn.hasEOL&&(En.push(_n.join("")),_n.length=0))}};if(await Jt.getTextContent({stream:this.appearance,task:cn,resources:wn,includeMarkedContent:!0,sink:An,viewBox:pn}),this.reset(),_n.length&&En.push(_n.join("")),En.length>1||En[0]){const Tn=this.appearance.dict,Mn=Tn.getArray("BBox")||[0,0,1,1],Rn=Tn.getArray("Matrix")||[1,0,0,1,0,0],Ln=this.data.rect,Dn=gn(Ln,Mn,Rn);Dn[4]-=Ln[0],Dn[5]-=Ln[1],Cn=wt.Util.applyTransform(Cn,Dn),Cn=wt.Util.applyTransform(Cn,Rn),this.data.textPosition=Cn,this.data.textContent=En}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const Jt of this._streams)Jt.reset()}_constructFieldName(Jt){if(!Jt.has("T")&&!Jt.has("Parent"))return(0,wt.warn)("Unknown field name, falling back to empty field name."),"";if(!Jt.has("Parent"))return(0,wt.stringToPDFString)(Jt.get("T"));const cn=[];Jt.has("T")&&cn.unshift((0,wt.stringToPDFString)(Jt.get("T")));let pn=Jt;const wn=new ht.RefSet;for(Jt.objId&&wn.put(Jt.objId);pn.has("Parent")&&(pn=pn.get("Parent"),!(!(pn instanceof ht.Dict)||pn.objId&&wn.has(pn.objId)));)pn.objId&&wn.put(pn.objId),pn.has("T")&&cn.unshift((0,wt.stringToPDFString)(pn.get("T")));return cn.join(".")}}Ct.Annotation=tn;class bn{constructor(){this.width=1,this.style=wt.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(Jt,cn=[0,0,0,0]){if(Jt instanceof ht.Name){this.width=0;return}if(typeof Jt=="number"){if(Jt>0){const pn=(cn[2]-cn[0])/2,wn=(cn[3]-cn[1])/2;pn>0&&wn>0&&(Jt>pn||Jt>wn)&&((0,wt.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${Jt}`),Jt=1)}this.width=Jt}}setStyle(Jt){if(Jt instanceof ht.Name)switch(Jt.name){case"S":this.style=wt.AnnotationBorderStyleType.SOLID;break;case"D":this.style=wt.AnnotationBorderStyleType.DASHED;break;case"B":this.style=wt.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=wt.AnnotationBorderStyleType.INSET;break;case"U":this.style=wt.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(Jt,cn=!1){if(Array.isArray(Jt)&&Jt.length>0){let pn=!0,wn=!0;for(const En of Jt)if(+En>=0)En>0&&(wn=!1);else{pn=!1;break}pn&&!wn?(this.dashArray=Jt,cn&&this.setStyle(ht.Name.get("D"))):this.width=0}else Jt&&(this.width=0)}setHorizontalCornerRadius(Jt){Number.isInteger(Jt)&&(this.horizontalCornerRadius=Jt)}setVerticalCornerRadius(Jt){Number.isInteger(Jt)&&(this.verticalCornerRadius=Jt)}}Ct.AnnotationBorderStyle=bn;class Xt extends tn{constructor(Jt){super(Jt);const{dict:cn}=Jt;if(cn.has("IRT")){const wn=cn.getRaw("IRT");this.data.inReplyTo=wn instanceof ht.Ref?wn.toString():null;const En=cn.get("RT");this.data.replyType=En instanceof ht.Name?En.name:wt.AnnotationReplyType.REPLY}let pn=null;if(this.data.replyType===wt.AnnotationReplyType.GROUP){const wn=cn.get("IRT");this.setTitle(wn.get("T")),this.data.titleObj=this._title,this.setContents(wn.get("Contents")),this.data.contentsObj=this._contents,wn.has("CreationDate")?(this.setCreationDate(wn.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,wn.has("M")?(this.setModificationDate(wn.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,pn=wn.getRaw("Popup"),wn.has("C")?(this.setColor(wn.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(cn.get("CreationDate")),this.data.creationDate=this.creationDate,pn=cn.getRaw("Popup"),cn.has("C")||(this.data.color=null);this.data.popupRef=pn instanceof ht.Ref?pn.toString():null,cn.has("RC")&&(this.data.richText=jt.XFAFactory.getRichTextAsHtml(cn.get("RC")))}setCreationDate(Jt){this.creationDate=typeof Jt=="string"?Jt:null}_setDefaultAppearance({xref:Jt,extra:cn,strokeColor:pn,fillColor:wn,blendMode:En,strokeAlpha:_n,fillAlpha:Cn,pointsCallback:An}){let Tn=Number.MAX_VALUE,Mn=Number.MAX_VALUE,Rn=Number.MIN_VALUE,Ln=Number.MIN_VALUE;const Dn=["q"];cn&&Dn.push(cn),pn&&Dn.push(`${pn[0]} ${pn[1]} ${pn[2]} RG`),wn&&Dn.push(`${wn[0]} ${wn[1]} ${wn[2]} rg`);let Un=this.data.quadPoints;Un||(Un=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const jn of Un){const[Hn,Xn,cr,sr]=An(Dn,jn);Tn=Math.min(Tn,Hn),Rn=Math.max(Rn,Xn),Mn=Math.min(Mn,cr),Ln=Math.max(Ln,sr)}Dn.push("Q");const tr=new ht.Dict(Jt),er=new ht.Dict(Jt);er.set("Subtype",ht.Name.get("Form"));const Qn=new vt.StringStream(Dn.join(" "));Qn.dict=er,tr.set("Fm0",Qn);const Yn=new ht.Dict(Jt);En&&Yn.set("BM",ht.Name.get(En)),typeof _n=="number"&&Yn.set("CA",_n),typeof Cn=="number"&&Yn.set("ca",Cn);const zn=new ht.Dict(Jt);zn.set("GS0",Yn);const nr=new ht.Dict(Jt);nr.set("ExtGState",zn),nr.set("XObject",tr);const lr=new ht.Dict(Jt);lr.set("Resources",nr);const dr=this.data.rect=[Tn,Mn,Rn,Ln];lr.set("BBox",dr),this.appearance=new vt.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=lr,this._streams.push(this.appearance,Qn)}static async createNewAnnotation(Jt,cn,pn,wn){const En=cn.ref||(cn.ref=Jt.getNewTemporaryRef()),_n=await this.createNewAppearanceStream(cn,Jt,wn),Cn=[];let An;if(_n){const Tn=Jt.getNewTemporaryRef();An=this.createNewDict(cn,Jt,{apRef:Tn}),await(0,Kt.writeObject)(Tn,_n,Cn,Jt),pn.push({ref:Tn,data:Cn.join("")})}else An=this.createNewDict(cn,Jt,{});return Number.isInteger(cn.parentTreeId)&&An.set("StructParent",cn.parentTreeId),Cn.length=0,await(0,Kt.writeObject)(En,An,Cn,Jt),{ref:En,data:Cn.join("")}}static async createNewPrintAnnotation(Jt,cn,pn,wn){const En=await this.createNewAppearanceStream(pn,cn,wn),_n=this.createNewDict(pn,cn,{ap:En}),Cn=new this.prototype.constructor({dict:_n,xref:cn,annotationGlobals:Jt,evaluatorOptions:wn.evaluatorOptions});return pn.ref&&(Cn.ref=Cn.refToReplace=pn.ref),Cn}}Ct.MarkupAnnotation=Xt;class Yt extends tn{constructor(Jt){var Ln;super(Jt);const{dict:cn,xref:pn,annotationGlobals:wn}=Jt,En=this.data;this._needAppearances=Jt.needAppearances,En.annotationType=wt.AnnotationType.WIDGET,En.fieldName===void 0&&(En.fieldName=this._constructFieldName(cn)),En.actions===void 0&&(En.actions=(0,kt.collectActions)(pn,cn,wt.AnnotationActionEventType));let _n=(0,kt.getInheritableProperty)({dict:cn,key:"V",getArray:!0});En.fieldValue=this._decodeFormValue(_n);const Cn=(0,kt.getInheritableProperty)({dict:cn,key:"DV",getArray:!0});if(En.defaultFieldValue=this._decodeFormValue(Cn),_n===void 0&&wn.xfaDatasets){const Dn=this._title.str;Dn&&(this._hasValueFromXFA=!0,En.fieldValue=_n=wn.xfaDatasets.getValue(Dn))}_n===void 0&&En.defaultFieldValue!==null&&(En.fieldValue=En.defaultFieldValue),En.alternativeText=(0,wt.stringToPDFString)(cn.get("TU")||""),this.setDefaultAppearance(Jt),En.hasAppearance||(En.hasAppearance=this._needAppearances&&En.fieldValue!==void 0&&En.fieldValue!==null);const An=(0,kt.getInheritableProperty)({dict:cn,key:"FT"});En.fieldType=An instanceof ht.Name?An.name:null;const Tn=(0,kt.getInheritableProperty)({dict:cn,key:"DR"}),Mn=wn.acroForm.get("DR"),Rn=(Ln=this.appearance)==null?void 0:Ln.dict.get("Resources");this._fieldResources={localResources:Tn,acroFormResources:Mn,appearanceResources:Rn,mergedResources:ht.Dict.merge({xref:pn,dictArray:[Tn,Rn,Mn],mergeSubDicts:!0})},En.fieldFlags=(0,kt.getInheritableProperty)({dict:cn,key:"Ff"}),(!Number.isInteger(En.fieldFlags)||En.fieldFlags<0)&&(En.fieldFlags=0),En.readOnly=this.hasFieldFlag(wt.AnnotationFieldFlag.READONLY),En.required=this.hasFieldFlag(wt.AnnotationFieldFlag.REQUIRED),En.hidden=this._hasFlag(En.annotationFlags,wt.AnnotationFlag.HIDDEN)||this._hasFlag(En.annotationFlags,wt.AnnotationFlag.NOVIEW)}_decodeFormValue(Jt){return Array.isArray(Jt)?Jt.filter(cn=>typeof cn=="string").map(cn=>(0,wt.stringToPDFString)(cn)):Jt instanceof ht.Name?(0,wt.stringToPDFString)(Jt.name):typeof Jt=="string"?(0,wt.stringToPDFString)(Jt):null}hasFieldFlag(Jt){return!!(this.data.fieldFlags&Jt)}_isViewable(Jt){return!this._hasFlag(Jt,wt.AnnotationFlag.INVISIBLE)}mustBeViewed(Jt,cn){return cn?this.viewable:super.mustBeViewed(Jt,cn)&&!this._hasFlag(this.flags,wt.AnnotationFlag.NOVIEW)}getRotationMatrix(Jt){var En;let cn=(En=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:En.rotation;if(cn===void 0&&(cn=this.rotation),cn===0)return wt.IDENTITY_MATRIX;const pn=this.data.rect[2]-this.data.rect[0],wn=this.data.rect[3]-this.data.rect[1];return(0,kt.getRotationMatrix)(cn,pn,wn)}getBorderAndBackgroundAppearances(Jt){var Cn;let cn=(Cn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:Cn.rotation;if(cn===void 0&&(cn=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const pn=this.data.rect[2]-this.data.rect[0],wn=this.data.rect[3]-this.data.rect[1],En=cn===0||cn===180?`0 0 ${pn} ${wn} re`:`0 0 ${wn} ${pn} re`;let _n="";if(this.backgroundColor&&(_n=`${(0,Rt.getPdfColor)(this.backgroundColor,!0)} ${En} f `),this.borderColor){const An=this.borderStyle.width||1;_n+=`${An} w ${(0,Rt.getPdfColor)(this.borderColor,!1)} ${En} S `}return _n}async getOperatorList(Jt,cn,pn,wn,En){if(wn&&!(this instanceof Vt)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new _t.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(Jt,cn,pn,wn,En);const _n=await this._getAppearance(Jt,cn,pn,En);if(this.appearance&&_n===null)return super.getOperatorList(Jt,cn,pn,wn,En);const Cn=new _t.OperatorList;if(!this._defaultAppearance||_n===null)return{opList:Cn,separateForm:!1,separateCanvas:!1};const An=!!(this.data.hasOwnCanvas&&pn&wt.RenderingIntentFlag.DISPLAY),Tn=[1,0,0,1,0,0],Mn=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],Rn=gn(this.data.rect,Mn,Tn);let Ln;this.oc&&(Ln=await Jt.parseMarkedContentProps(this.oc,null)),Ln!==void 0&&Cn.addOp(wt.OPS.beginMarkedContentProps,["OC",Ln]),Cn.addOp(wt.OPS.beginAnnotation,[this.data.id,this.data.rect,Rn,this.getRotationMatrix(En),An]);const Dn=new vt.StringStream(_n);return await Jt.getOperatorList({stream:Dn,task:cn,resources:this._fieldResources.mergedResources,operatorList:Cn}),Cn.addOp(wt.OPS.endAnnotation,[]),Ln!==void 0&&Cn.addOp(wt.OPS.endMarkedContent,[]),{opList:Cn,separateForm:!1,separateCanvas:An}}_getMKDict(Jt){const cn=new ht.Dict(null);return Jt&&cn.set("R",Jt),this.borderColor&&cn.set("BC",ln(this.borderColor)),this.backgroundColor&&cn.set("BG",ln(this.backgroundColor)),cn.size>0?cn:null}amendSavedDict(Jt,cn){}async save(Jt,cn,pn){const wn=pn==null?void 0:pn.get(this.data.id);let En=wn==null?void 0:wn.value,_n=wn==null?void 0:wn.rotation;if(En===this.data.fieldValue||En===void 0){if(!this._hasValueFromXFA&&_n===void 0)return null;En||(En=this.data.fieldValue)}if(_n===void 0&&!this._hasValueFromXFA&&Array.isArray(En)&&Array.isArray(this.data.fieldValue)&&En.length===this.data.fieldValue.length&&En.every((Qn,Yn)=>Qn===this.data.fieldValue[Yn]))return null;_n===void 0&&(_n=this.rotation);let Cn=null;if(!this._needAppearances&&(Cn=await this._getAppearance(Jt,cn,wt.RenderingIntentFlag.SAVE,pn),Cn===null))return null;let An=!1;Cn!=null&&Cn.needAppearances&&(An=!0,Cn=null);const{xref:Tn}=Jt,Mn=Tn.fetchIfRef(this.ref);if(!(Mn instanceof ht.Dict))return null;const Rn=new ht.Dict(Tn);for(const Qn of Mn.getKeys())Qn!=="AP"&&Rn.set(Qn,Mn.getRaw(Qn));const Ln={path:this.data.fieldName,value:En},Dn=Qn=>(0,kt.isAscii)(Qn)?Qn:(0,kt.stringToUTF16String)(Qn,!0);Rn.set("V",Array.isArray(En)?En.map(Dn):Dn(En)),this.amendSavedDict(pn,Rn);const Un=this._getMKDict(_n);Un&&Rn.set("MK",Un);const tr=[],er=[{ref:this.ref,data:"",xfa:Ln,needAppearances:An}];if(Cn!==null){const Qn=Tn.getNewTemporaryRef(),Yn=new ht.Dict(Tn);Rn.set("AP",Yn),Yn.set("N",Qn);const zn=this._getSaveFieldResources(Tn),nr=new vt.StringStream(Cn),lr=nr.dict=new ht.Dict(Tn);lr.set("Subtype",ht.Name.get("Form")),lr.set("Resources",zn),lr.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const dr=this.getRotationMatrix(pn);dr!==wt.IDENTITY_MATRIX&&lr.set("Matrix",dr),await(0,Kt.writeObject)(Qn,nr,tr,Tn),er.push({ref:Qn,data:tr.join(""),xfa:null,needAppearances:!1}),tr.length=0}return Rn.set("M",`D:${(0,wt.getModificationDate)()}`),await(0,Kt.writeObject)(this.ref,Rn,tr,Tn),er[0].data=tr.join(""),er}async _getAppearance(Jt,cn,pn,wn){if(this.hasFieldFlag(wt.AnnotationFieldFlag.PASSWORD))return null;const _n=wn==null?void 0:wn.get(this.data.id);let Cn,An;if(_n&&(Cn=_n.formattedValue||_n.value,An=_n.rotation),An===void 0&&Cn===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const Tn=this.getBorderAndBackgroundAppearances(wn);if(Cn===void 0&&(Cn=this.data.fieldValue,!Cn))return`/Tx BMC q ${Tn}Q EMC`;if(Array.isArray(Cn)&&Cn.length===1&&(Cn=Cn[0]),(0,wt.assert)(typeof Cn=="string","Expected `value` to be a string."),Cn=Cn.trim(),this.data.combo){const xr=this.data.options.find(({exportValue:Jn})=>Cn===Jn);Cn=(xr==null?void 0:xr.displayValue)||Cn}if(Cn==="")return`/Tx BMC q ${Tn}Q EMC`;An===void 0&&(An=this.rotation);let Mn=-1,Rn;this.data.multiLine?(Rn=Cn.split(/\r\n?|\n/).map(xr=>xr.normalize("NFC")),Mn=Rn.length):Rn=[Cn.replace(/\r\n?|\n/,"").normalize("NFC")];const Ln=1,Dn=2;let Un=this.data.rect[3]-this.data.rect[1],tr=this.data.rect[2]-this.data.rect[0];(An===90||An===270)&&([tr,Un]=[Un,tr]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,Rt.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let er=await Yt._getFontData(Jt,cn,this.data.defaultAppearanceData,this._fieldResources.mergedResources),Qn,Yn,zn;const nr=[];let lr=!1;for(const xr of Rn){const Jn=er.encodeString(xr);Jn.length>1&&(lr=!0),nr.push(Jn.join(""))}if(lr&&pn&wt.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(lr&&this._isOffscreenCanvasSupported){const xr=this.data.comb?"monospace":"sans-serif",Jn=new Rt.FakeUnicodeFont(Jt.xref,xr),Wn=Jn.createFontResources(Rn.join("")),Zn=Wn.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const or=this._fieldResources.mergedResources.get("Font");for(const pr of Zn.getKeys())or.set(pr,Zn.getRaw(pr))}else this._fieldResources.mergedResources.set("Font",Zn);const ur=Jn.fontName.name;er=await Yt._getFontData(Jt,cn,{fontName:ur,fontSize:0},Wn);for(let or=0,pr=nr.length;or<pr;or++)nr[or]=(0,kt.stringToUTF16String)(Rn[or]);const hr=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=ur,[Qn,Yn,zn]=this._computeFontSize(Un-2*Ln,tr-2*Dn,Cn,er,Mn),this.data.defaultAppearanceData=hr}else this._isOffscreenCanvasSupported||(0,wt.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[Qn,Yn,zn]=this._computeFontSize(Un-2*Ln,tr-2*Dn,Cn,er,Mn);let dr=er.descent;isNaN(dr)?dr=wt.BASELINE_FACTOR*zn:dr=Math.max(wt.BASELINE_FACTOR*zn,Math.abs(dr)*Yn);const jn=Math.min(Math.floor((Un-Yn)/2),Ln),Hn=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(Qn,nr,er,Yn,tr,Un,Hn,Dn,jn,dr,zn,wn);if(this.data.comb)return this._getCombAppearance(Qn,er,nr[0],Yn,tr,Un,Dn,jn,dr,zn,wn);const Xn=jn+dr;if(Hn===0||Hn>2)return`/Tx BMC q ${Tn}BT `+Qn+` 1 0 0 1 ${(0,kt.numberToString)(Dn)} ${(0,kt.numberToString)(Xn)} Tm (${(0,kt.escapeString)(nr[0])}) Tj ET Q EMC`;const cr={shift:0},sr=this._renderText(nr[0],er,Yn,tr,Hn,cr,Dn,Xn);return`/Tx BMC q ${Tn}BT `+Qn+` 1 0 0 1 0 0 Tm ${sr} ET Q EMC`}static async _getFontData(Jt,cn,pn,wn){const En=new _t.OperatorList,_n={font:null,clone(){return this}},{fontName:Cn,fontSize:An}=pn;return await Jt.handleSetFont(wn,[Cn&&ht.Name.get(Cn),An],null,En,cn,_n,null),_n.font}_getTextWidth(Jt,cn){return cn.charsToGlyphs(Jt).reduce((pn,wn)=>pn+wn.width,0)/1e3}_computeFontSize(Jt,cn,pn,wn,En){let{fontSize:_n}=this.data.defaultAppearanceData,Cn=(_n||12)*wt.LINE_FACTOR,An=Math.round(Jt/Cn);if(!_n){const Tn=Ln=>Math.floor(Ln*100)/100;if(En===-1){const Ln=this._getTextWidth(pn,wn);_n=Tn(Math.min(Jt/wt.LINE_FACTOR,Ln>cn?cn/Ln:1/0)),An=1}else{const Ln=pn.split(/\r\n?|\n/),Dn=[];for(const tr of Ln){const er=wn.encodeString(tr).join(""),Qn=wn.charsToGlyphs(er),Yn=wn.getCharPositions(er);Dn.push({line:er,glyphs:Qn,positions:Yn})}const Un=tr=>{let er=0;for(const Qn of Dn){const Yn=this._splitLine(null,wn,tr,cn,Qn);if(er+=Yn.length*tr,er>Jt)return!0}return!1};for(An=Math.max(An,En);;){if(Cn=Jt/An,_n=Tn(Cn/wt.LINE_FACTOR),Un(_n)){An++;continue}break}}const{fontName:Mn,fontColor:Rn}=this.data.defaultAppearanceData;this._defaultAppearance=(0,Rt.createDefaultAppearance)({fontSize:_n,fontName:Mn,fontColor:Rn})}return[this._defaultAppearance,_n,Jt/An]}_renderText(Jt,cn,pn,wn,En,_n,Cn,An){let Tn;if(En===1){const Rn=this._getTextWidth(Jt,cn)*pn;Tn=(wn-Rn)/2}else if(En===2){const Rn=this._getTextWidth(Jt,cn)*pn;Tn=wn-Rn-Cn}else Tn=Cn;const Mn=(0,kt.numberToString)(Tn-_n.shift);return _n.shift=Tn,An=(0,kt.numberToString)(An),`${Mn} ${An} Td (${(0,kt.escapeString)(Jt)}) Tj`}_getSaveFieldResources(Jt){var _n;const{localResources:cn,appearanceResources:pn,acroFormResources:wn}=this._fieldResources,En=(_n=this.data.defaultAppearanceData)==null?void 0:_n.fontName;if(!En)return cn||ht.Dict.empty;for(const Cn of[cn,pn])if(Cn instanceof ht.Dict){const An=Cn.get("Font");if(An instanceof ht.Dict&&An.has(En))return Cn}if(wn instanceof ht.Dict){const Cn=wn.get("Font");if(Cn instanceof ht.Dict&&Cn.has(En)){const An=new ht.Dict(Jt);An.set(En,Cn.getRaw(En));const Tn=new ht.Dict(Jt);return Tn.set("Font",An),ht.Dict.merge({xref:Jt,dictArray:[Tn,cn],mergeSubDicts:!0})}}return cn||ht.Dict.empty}getFieldObject(){return null}}class un extends Yt{constructor(Jt){super(Jt),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const cn=Jt.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let pn=(0,kt.getInheritableProperty)({dict:cn,key:"Q"});(!Number.isInteger(pn)||pn<0||pn>2)&&(pn=null),this.data.textAlignment=pn;let wn=(0,kt.getInheritableProperty)({dict:cn,key:"MaxLen"});(!Number.isInteger(wn)||wn<0)&&(wn=0),this.data.maxLen=wn,this.data.multiLine=this.hasFieldFlag(wt.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(wt.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(wt.AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(Jt,cn,pn,wn,En,_n,Cn,An,Tn,Mn,Rn){const Ln=En/this.data.maxLen,Dn=this.getBorderAndBackgroundAppearances(Rn),Un=[],tr=cn.getCharPositions(pn);for(const[Qn,Yn]of tr)Un.push(`(${(0,kt.escapeString)(pn.substring(Qn,Yn))}) Tj`);const er=Un.join(` ${(0,kt.numberToString)(Ln)} 0 Td `);return`/Tx BMC q ${Dn}BT `+Jt+` 1 0 0 1 ${(0,kt.numberToString)(Cn)} ${(0,kt.numberToString)(An+Tn)} Tm ${er} ET Q EMC`}_getMultilineAppearance(Jt,cn,pn,wn,En,_n,Cn,An,Tn,Mn,Rn,Ln){const Dn=[],Un=En-2*An,tr={shift:0};for(let Yn=0,zn=cn.length;Yn<zn;Yn++){const nr=cn[Yn],lr=this._splitLine(nr,pn,wn,Un);for(let dr=0,jn=lr.length;dr<jn;dr++){const Hn=lr[dr],Xn=Yn===0&&dr===0?-Tn-(Rn-Mn):-Rn;Dn.push(this._renderText(Hn,pn,wn,En,Cn,tr,An,Xn))}}const er=this.getBorderAndBackgroundAppearances(Ln),Qn=Dn.join(`
`);return`/Tx BMC q ${er}BT `+Jt+` 1 0 0 1 0 ${(0,kt.numberToString)(_n)} Tm ${Qn} ET Q EMC`}_splitLine(Jt,cn,pn,wn,En={}){Jt=En.line||Jt;const _n=En.glyphs||cn.charsToGlyphs(Jt);if(_n.length<=1)return[Jt];const Cn=En.positions||cn.getCharPositions(Jt),An=pn/1e3,Tn=[];let Mn=-1,Rn=-1,Ln=-1,Dn=0,Un=0;for(let tr=0,er=_n.length;tr<er;tr++){const[Qn,Yn]=Cn[tr],zn=_n[tr],nr=zn.width*An;zn.unicode===" "?Un+nr>wn?(Tn.push(Jt.substring(Dn,Qn)),Dn=Qn,Un=nr,Mn=-1,Ln=-1):(Un+=nr,Mn=Qn,Rn=Yn,Ln=tr):Un+nr>wn?Mn!==-1?(Tn.push(Jt.substring(Dn,Rn)),Dn=Rn,tr=Ln+1,Mn=-1,Un=0):(Tn.push(Jt.substring(Dn,Qn)),Dn=Qn,Un=nr):Un+=nr}return Dn<Jt.length&&Tn.push(Jt.substring(Dn,Jt.length)),Tn}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(wt.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class Ut extends Yt{constructor(Jt){super(Jt),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(wt.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(wt.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(wt.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(Jt):this.data.radioButton?this._processRadioButton(Jt):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(Jt)):(0,wt.warn)("Invalid field flags for button widget annotation")}async getOperatorList(Jt,cn,pn,wn,En){if(this.data.pushButton)return super.getOperatorList(Jt,cn,pn,!1,En);let _n=null,Cn=null;if(En){const Tn=En.get(this.data.id);_n=Tn?Tn.value:null,Cn=Tn?Tn.rotation:null}if(_n===null&&this.appearance)return super.getOperatorList(Jt,cn,pn,wn,En);_n==null&&(_n=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const An=_n?this.checkedAppearance:this.uncheckedAppearance;if(An){const Tn=this.appearance,Mn=An.dict.getArray("Matrix")||wt.IDENTITY_MATRIX;Cn&&An.dict.set("Matrix",this.getRotationMatrix(En)),this.appearance=An;const Rn=super.getOperatorList(Jt,cn,pn,wn,En);return this.appearance=Tn,An.dict.set("Matrix",Mn),Rn}return{opList:new _t.OperatorList,separateForm:!1,separateCanvas:!1}}async save(Jt,cn,pn){return this.data.checkBox?this._saveCheckbox(Jt,cn,pn):this.data.radioButton?this._saveRadioButton(Jt,cn,pn):null}async _saveCheckbox(Jt,cn,pn){if(!pn)return null;const wn=pn.get(this.data.id);let En=wn==null?void 0:wn.rotation,_n=wn==null?void 0:wn.value;if(En===void 0&&(_n===void 0||this.data.fieldValue===this.data.exportValue===_n))return null;const Cn=Jt.xref.fetchIfRef(this.ref);if(!(Cn instanceof ht.Dict))return null;En===void 0&&(En=this.rotation),_n===void 0&&(_n=this.data.fieldValue===this.data.exportValue);const An={path:this.data.fieldName,value:_n?this.data.exportValue:""},Tn=ht.Name.get(_n?this.data.exportValue:"Off");Cn.set("V",Tn),Cn.set("AS",Tn),Cn.set("M",`D:${(0,wt.getModificationDate)()}`);const Mn=this._getMKDict(En);Mn&&Cn.set("MK",Mn);const Rn=[];return await(0,Kt.writeObject)(this.ref,Cn,Rn,Jt.xref),[{ref:this.ref,data:Rn.join(""),xfa:An}]}async _saveRadioButton(Jt,cn,pn){if(!pn)return null;const wn=pn.get(this.data.id);let En=wn==null?void 0:wn.rotation,_n=wn==null?void 0:wn.value;if(En===void 0&&(_n===void 0||this.data.fieldValue===this.data.buttonValue===_n))return null;const Cn=Jt.xref.fetchIfRef(this.ref);if(!(Cn instanceof ht.Dict))return null;_n===void 0&&(_n=this.data.fieldValue===this.data.buttonValue),En===void 0&&(En=this.rotation);const An={path:this.data.fieldName,value:_n?this.data.buttonValue:""},Tn=ht.Name.get(_n?this.data.buttonValue:"Off"),Mn=[];let Rn=null;if(_n)if(this.parent instanceof ht.Ref){const Un=Jt.xref.fetch(this.parent);Un.set("V",Tn),await(0,Kt.writeObject)(this.parent,Un,Mn,Jt.xref),Rn=Mn.join(""),Mn.length=0}else this.parent instanceof ht.Dict&&this.parent.set("V",Tn);Cn.set("AS",Tn),Cn.set("M",`D:${(0,wt.getModificationDate)()}`);const Ln=this._getMKDict(En);Ln&&Cn.set("MK",Ln),await(0,Kt.writeObject)(this.ref,Cn,Mn,Jt.xref);const Dn=[{ref:this.ref,data:Mn.join(""),xfa:An}];return Rn&&Dn.push({ref:this.parent,data:Rn,xfa:null}),Dn}_getDefaultCheckedAppearance(Jt,cn){const pn=this.data.rect[2]-this.data.rect[0],wn=this.data.rect[3]-this.data.rect[1],En=[0,0,pn,wn],Cn=Math.min(pn,wn)*.8;let An,Tn;cn==="check"?(An={width:.755*Cn,height:.705*Cn},Tn="3"):cn==="disc"?(An={width:.791*Cn,height:.705*Cn},Tn="l"):(0,wt.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${cn}`);const Mn=(0,kt.numberToString)((pn-An.width)/2),Rn=(0,kt.numberToString)((wn-An.height)/2),Ln=`q BT /PdfJsZaDb ${Cn} Tf 0 g ${Mn} ${Rn} Td (${Tn}) Tj ET Q`,Dn=new ht.Dict(Jt.xref);Dn.set("FormType",1),Dn.set("Subtype",ht.Name.get("Form")),Dn.set("Type",ht.Name.get("XObject")),Dn.set("BBox",En),Dn.set("Matrix",[1,0,0,1,0,0]),Dn.set("Length",Ln.length);const Un=new ht.Dict(Jt.xref),tr=new ht.Dict(Jt.xref);tr.set("PdfJsZaDb",this.fallbackFontDict),Un.set("Font",tr),Dn.set("Resources",Un),this.checkedAppearance=new vt.StringStream(Ln),this.checkedAppearance.dict=Dn,this._streams.push(this.checkedAppearance)}_processCheckBox(Jt){const cn=Jt.dict.get("AP");if(!(cn instanceof ht.Dict))return;const pn=cn.get("N");if(!(pn instanceof ht.Dict))return;const wn=this._decodeFormValue(Jt.dict.get("AS"));typeof wn=="string"&&(this.data.fieldValue=wn);const En=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",_n=pn.getKeys();if(_n.length===0)_n.push("Off",En);else if(_n.length===1)_n[0]==="Off"?_n.push(En):_n.unshift("Off");else if(_n.includes(En))_n.length=0,_n.push("Off",En);else{const Tn=_n.find(Mn=>Mn!=="Off");_n.length=0,_n.push("Off",Tn)}_n.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=_n[1];const Cn=pn.get(this.data.exportValue);this.checkedAppearance=Cn instanceof Ft.BaseStream?Cn:null;const An=pn.get("Off");this.uncheckedAppearance=An instanceof Ft.BaseStream?An:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(Jt,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(Jt){this.data.fieldValue=this.data.buttonValue=null;const cn=Jt.dict.get("Parent");if(cn instanceof ht.Dict){this.parent=Jt.dict.getRaw("Parent");const Cn=cn.get("V");Cn instanceof ht.Name&&(this.data.fieldValue=this._decodeFormValue(Cn))}const pn=Jt.dict.get("AP");if(!(pn instanceof ht.Dict))return;const wn=pn.get("N");if(!(wn instanceof ht.Dict))return;for(const Cn of wn.getKeys())if(Cn!=="Off"){this.data.buttonValue=this._decodeFormValue(Cn);break}const En=wn.get(this.data.buttonValue);this.checkedAppearance=En instanceof Ft.BaseStream?En:null;const _n=wn.get("Off");this.uncheckedAppearance=_n instanceof Ft.BaseStream?_n:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(Jt,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(Jt){const{dict:cn,annotationGlobals:pn}=Jt;if(!cn.has("A")&&!cn.has("AA")&&!this.data.alternativeText){(0,wt.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!cn.has("A")&&!cn.has("AA"),qt.Catalog.parseDestDictionary({destDict:cn,resultObj:this.data,docBaseUrl:pn.baseUrl,docAttachments:pn.attachments})}getFieldObject(){let Jt="button",cn;return this.data.checkBox?(Jt="checkbox",cn=this.data.exportValue):this.data.radioButton&&(Jt="radiobutton",cn=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:cn,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:Jt}}get fallbackFontDict(){const Jt=new ht.Dict;return Jt.set("BaseFont",ht.Name.get("ZapfDingbats")),Jt.set("Type",ht.Name.get("FallbackType")),Jt.set("Subtype",ht.Name.get("FallbackType")),Jt.set("Encoding",ht.Name.get("ZapfDingbatsEncoding")),(0,wt.shadow)(this,"fallbackFontDict",Jt)}}class Lt extends Yt{constructor(Jt){super(Jt);const{dict:cn,xref:pn}=Jt;this.indices=cn.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const wn=(0,kt.getInheritableProperty)({dict:cn,key:"Opt"});if(Array.isArray(wn))for(let En=0,_n=wn.length;En<_n;En++){const Cn=pn.fetchIfRef(wn[En]),An=Array.isArray(Cn);this.data.options[En]={exportValue:this._decodeFormValue(An?pn.fetchIfRef(Cn[0]):Cn),displayValue:this._decodeFormValue(An?pn.fetchIfRef(Cn[1]):Cn)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const En=this.data.options.length;for(const _n of this.indices)Number.isInteger(_n)&&_n>=0&&_n<En&&this.data.fieldValue.push(this.data.options[_n].exportValue)}this.data.combo=this.hasFieldFlag(wt.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(wt.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const Jt=this.data.combo?"combobox":"listbox",cn=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:cn,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:Jt}}amendSavedDict(Jt,cn){var _n;if(!this.hasIndices)return;let pn=(_n=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:_n.value;Array.isArray(pn)||(pn=[pn]);const wn=[],{options:En}=this.data;for(let Cn=0,An=0,Tn=En.length;Cn<Tn;Cn++)En[Cn].exportValue===pn[An]&&(wn.push(Cn),An+=1);cn.set("I",wn)}async _getAppearance(Jt,cn,pn,wn){if(this.data.combo)return super._getAppearance(Jt,cn,pn,wn);let En,_n;const Cn=wn==null?void 0:wn.get(this.data.id);if(Cn&&(_n=Cn.rotation,En=Cn.value),_n===void 0&&En===void 0&&!this._needAppearances)return null;En===void 0?En=this.data.fieldValue:Array.isArray(En)||(En=[En]);const An=1,Tn=2;let Mn=this.data.rect[3]-this.data.rect[1],Rn=this.data.rect[2]-this.data.rect[0];(_n===90||_n===270)&&([Rn,Mn]=[Mn,Rn]);const Ln=this.data.options.length,Dn=[];for(let Hn=0;Hn<Ln;Hn++){const{exportValue:Xn}=this.data.options[Hn];En.includes(Xn)&&Dn.push(Hn)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,Rt.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const Un=await Yt._getFontData(Jt,cn,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let tr,{fontSize:er}=this.data.defaultAppearanceData;if(er)tr=this._defaultAppearance;else{const Hn=(Mn-An)/Ln;let Xn=-1,cr;for(const{displayValue:sr}of this.data.options){const xr=this._getTextWidth(sr,Un);xr>Xn&&(Xn=xr,cr=sr)}[tr,er]=this._computeFontSize(Hn,Rn-2*Tn,cr,Un,-1)}const Qn=er*wt.LINE_FACTOR,Yn=(Qn-er)/2,zn=Math.floor(Mn/Qn);let nr=0;if(Dn.length>0){const Hn=Math.min(...Dn),Xn=Math.max(...Dn);nr=Math.max(0,Xn-zn+1),nr>Hn&&(nr=Hn)}const lr=Math.min(nr+zn+1,Ln),dr=["/Tx BMC q",`1 1 ${Rn} ${Mn} re W n`];if(Dn.length){dr.push("0.600006 0.756866 0.854904 rg");for(const Hn of Dn)nr<=Hn&&Hn<lr&&dr.push(`1 ${Mn-(Hn-nr+1)*Qn} ${Rn} ${Qn} re f`)}dr.push("BT",tr,`1 0 0 1 0 ${Mn} Tm`);const jn={shift:0};for(let Hn=nr;Hn<lr;Hn++){const{displayValue:Xn}=this.data.options[Hn],cr=Hn===nr?Yn:0;dr.push(this._renderText(Xn,Un,er,Rn,0,jn,Tn,-Qn+cr))}return dr.push("ET Q EMC"),dr.join(`
`)}}class Vt extends Yt{constructor(Jt){super(Jt),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class an extends Xt{constructor(Jt){super(Jt),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate;const{dict:pn}=Jt;this.data.annotationType=wt.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=pn.has("Name")?pn.get("Name").name:"Note"),pn.has("State")?(this.data.state=pn.get("State")||null,this.data.stateModel=pn.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class zt extends tn{constructor(Jt){var En;super(Jt);const{dict:cn,annotationGlobals:pn}=Jt;this.data.annotationType=wt.AnnotationType.LINK;const wn=en(cn,this.rectangle);wn&&(this.data.quadPoints=wn),(En=this.data).borderColor||(En.borderColor=this.data.color),qt.Catalog.parseDestDictionary({destDict:cn,resultObj:this.data,docBaseUrl:pn.baseUrl,docAttachments:pn.attachments})}}class Wt extends tn{constructor(Jt){super(Jt);const{dict:cn}=Jt;this.data.annotationType=wt.AnnotationType.POPUP,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let pn=cn.get("Parent");if(!pn){(0,wt.warn)("Popup annotation has a missing or invalid parent annotation.");return}const wn=pn.getArray("Rect");this.data.parentRect=Array.isArray(wn)&&wn.length===4?wt.Util.normalizeRect(wn):null;const En=pn.get("RT");if((0,ht.isName)(En,wt.AnnotationReplyType.GROUP)&&(pn=pn.get("IRT")),pn.has("M")?(this.setModificationDate(pn.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,pn.has("C")?(this.setColor(pn.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const _n=pn.get("F");this._isViewable(_n)&&this.setFlags(_n)}this.setTitle(pn.get("T")),this.data.titleObj=this._title,this.setContents(pn.get("Contents")),this.data.contentsObj=this._contents,pn.has("RC")&&(this.data.richText=jt.XFAFactory.getRichTextAsHtml(pn.get("RC"))),this.data.open=!!cn.get("Open")}}Ct.PopupAnnotation=Wt;class nn extends Xt{constructor(Jt){var wn;super(Jt),this.data.hasOwnCanvas=!0;const{evaluatorOptions:cn,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.FREETEXT,this.setDefaultAppearance(Jt),this.appearance){const{fontColor:En,fontSize:_n}=(0,Rt.parseAppearanceStream)(this.appearance,cn,pn);this.data.defaultAppearanceData.fontColor=En,this.data.defaultAppearanceData.fontSize=_n||10}else if(this._isOffscreenCanvasSupported){const En=Jt.dict.get("CA"),_n=new Rt.FakeUnicodeFont(pn,"sans-serif");(wn=this.data.defaultAppearanceData).fontSize||(wn.fontSize=10);const{fontColor:Cn,fontSize:An}=this.data.defaultAppearanceData;this.appearance=_n.createAppearance(this._contents.str,this.rectangle,this.rotation,An,Cn,En),this._streams.push(this.appearance,Rt.FakeUnicodeFont.toUnicodeStream)}else(0,wt.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(Jt,cn,{apRef:pn,ap:wn}){const{color:En,fontSize:_n,rect:Cn,rotation:An,user:Tn,value:Mn}=Jt,Rn=new ht.Dict(cn);Rn.set("Type",ht.Name.get("Annot")),Rn.set("Subtype",ht.Name.get("FreeText")),Rn.set("CreationDate",`D:${(0,wt.getModificationDate)()}`),Rn.set("Rect",Cn);const Ln=`/Helv ${_n} Tf ${(0,Rt.getPdfColor)(En,!0)}`;if(Rn.set("DA",Ln),Rn.set("Contents",(0,kt.isAscii)(Mn)?Mn:(0,kt.stringToUTF16String)(Mn,!0)),Rn.set("F",4),Rn.set("Border",[0,0,0]),Rn.set("Rotate",An),Tn&&Rn.set("T",(0,kt.isAscii)(Tn)?Tn:(0,kt.stringToUTF16String)(Tn,!0)),pn||wn){const Dn=new ht.Dict(cn);Rn.set("AP",Dn),pn?Dn.set("N",pn):Dn.set("N",wn)}return Rn}static async createNewAppearanceStream(Jt,cn,pn){const{baseFontRef:wn,evaluator:En,task:_n}=pn,{color:Cn,fontSize:An,rect:Tn,rotation:Mn,value:Rn}=Jt,Ln=new ht.Dict(cn),Dn=new ht.Dict(cn);if(wn)Dn.set("Helv",wn);else{const Fr=new ht.Dict(cn);Fr.set("BaseFont",ht.Name.get("Helvetica")),Fr.set("Type",ht.Name.get("Font")),Fr.set("Subtype",ht.Name.get("Type1")),Fr.set("Encoding",ht.Name.get("WinAnsiEncoding")),Dn.set("Helv",Fr)}Ln.set("Font",Dn);const Un=await Yt._getFontData(En,_n,{fontName:"Helv",fontSize:An},Ln),[tr,er,Qn,Yn]=Tn;let zn=Qn-tr,nr=Yn-er;Mn%180!==0&&([zn,nr]=[nr,zn]);const lr=Rn.split(`
`),dr=An/1e3;let jn=-1/0;const Hn=[];for(let Fr of lr){const $r=Un.encodeString(Fr);if($r.length>1)return null;Fr=$r.join(""),Hn.push(Fr);let Cr=0;const Pr=Un.charsToGlyphs(Fr);for(const _r of Pr)Cr+=_r.width*dr;jn=Math.max(jn,Cr)}let Xn=1;jn>zn&&(Xn=zn/jn);let cr=1;const sr=wt.LINE_FACTOR*An,xr=(wt.LINE_FACTOR-wt.LINE_DESCENT_FACTOR)*An,Jn=sr*lr.length;Jn>nr&&(cr=nr/Jn);const Wn=Math.min(Xn,cr),Zn=An*Wn;let ur,hr,or;switch(Mn){case 0:or=[1,0,0,1],hr=[Tn[0],Tn[1],zn,nr],ur=[Tn[0],Tn[3]-xr];break;case 90:or=[0,1,-1,0],hr=[Tn[1],-Tn[2],zn,nr],ur=[Tn[1],-Tn[0]-xr];break;case 180:or=[-1,0,0,-1],hr=[-Tn[2],-Tn[3],zn,nr],ur=[-Tn[2],-Tn[1]-xr];break;case 270:or=[0,-1,1,0],hr=[-Tn[3],Tn[0],zn,nr],ur=[-Tn[3],Tn[2]-xr];break}const pr=["q",`${or.join(" ")} 0 0 cm`,`${hr.join(" ")} re W n`,"BT",`${(0,Rt.getPdfColor)(Cn,!0)}`,`0 Tc /Helv ${(0,kt.numberToString)(Zn)} Tf`];pr.push(`${ur.join(" ")} Td (${(0,kt.escapeString)(Hn[0])}) Tj`);const wr=(0,kt.numberToString)(sr);for(let Fr=1,$r=Hn.length;Fr<$r;Fr++){const Cr=Hn[Fr];pr.push(`0 -${wr} Td (${(0,kt.escapeString)(Cr)}) Tj`)}pr.push("ET","Q");const fr=pr.join(`
`),Ar=new ht.Dict(cn);Ar.set("FormType",1),Ar.set("Subtype",ht.Name.get("Form")),Ar.set("Type",ht.Name.get("XObject")),Ar.set("BBox",Tn),Ar.set("Resources",Ln),Ar.set("Matrix",[1,0,0,1,-Tn[0],-Tn[1]]);const Dr=new vt.StringStream(fr);return Dr.dict=Ar,Dr}}class dn extends Xt{constructor(Jt){super(Jt);const{dict:cn,xref:pn}=Jt;this.data.annotationType=wt.AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate;const wn=cn.getArray("L");if(this.data.lineCoordinates=wt.Util.normalizeRect(wn),this.setLineEndings(cn.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const En=this.color?ln(this.color):[0,0,0],_n=cn.get("CA"),Cn=Qt(cn.getArray("IC"),null),An=Cn?ln(Cn):null,Tn=An?_n:null,Mn=this.borderStyle.width||1,Rn=2*Mn,Ln=[this.data.lineCoordinates[0]-Rn,this.data.lineCoordinates[1]-Rn,this.data.lineCoordinates[2]+Rn,this.data.lineCoordinates[3]+Rn];wt.Util.intersect(this.rectangle,Ln)||(this.rectangle=Ln),this._setDefaultAppearance({xref:pn,extra:`${Mn} w`,strokeColor:En,fillColor:An,strokeAlpha:_n,fillAlpha:Tn,pointsCallback:(Dn,Un)=>(Dn.push(`${wn[0]} ${wn[1]} m`,`${wn[2]} ${wn[3]} l`,"S"),[Un[0].x-Mn,Un[1].x+Mn,Un[3].y-Mn,Un[1].y+Mn])})}}}class on extends Xt{constructor(Jt){super(Jt);const{dict:cn,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,!this.appearance){const wn=this.color?ln(this.color):[0,0,0],En=cn.get("CA"),_n=Qt(cn.getArray("IC"),null),Cn=_n?ln(_n):null,An=Cn?En:null;if(this.borderStyle.width===0&&!Cn)return;this._setDefaultAppearance({xref:pn,extra:`${this.borderStyle.width} w`,strokeColor:wn,fillColor:Cn,strokeAlpha:En,fillAlpha:An,pointsCallback:(Tn,Mn)=>{const Rn=Mn[2].x+this.borderStyle.width/2,Ln=Mn[2].y+this.borderStyle.width/2,Dn=Mn[3].x-Mn[2].x-this.borderStyle.width,Un=Mn[1].y-Mn[3].y-this.borderStyle.width;return Tn.push(`${Rn} ${Ln} ${Dn} ${Un} re`),Cn?Tn.push("B"):Tn.push("S"),[Mn[0].x,Mn[1].x,Mn[3].y,Mn[1].y]}})}}}class hn extends Xt{constructor(Jt){super(Jt);const{dict:cn,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.CIRCLE,!this.appearance){const wn=this.color?ln(this.color):[0,0,0],En=cn.get("CA"),_n=Qt(cn.getArray("IC"),null),Cn=_n?ln(_n):null,An=Cn?En:null;if(this.borderStyle.width===0&&!Cn)return;const Tn=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:pn,extra:`${this.borderStyle.width} w`,strokeColor:wn,fillColor:Cn,strokeAlpha:En,fillAlpha:An,pointsCallback:(Mn,Rn)=>{const Ln=Rn[0].x+this.borderStyle.width/2,Dn=Rn[0].y-this.borderStyle.width/2,Un=Rn[3].x-this.borderStyle.width/2,tr=Rn[3].y+this.borderStyle.width/2,er=Ln+(Un-Ln)/2,Qn=Dn+(tr-Dn)/2,Yn=(Un-Ln)/2*Tn,zn=(tr-Dn)/2*Tn;return Mn.push(`${er} ${tr} m`,`${er+Yn} ${tr} ${Un} ${Qn+zn} ${Un} ${Qn} c`,`${Un} ${Qn-zn} ${er+Yn} ${Dn} ${er} ${Dn} c`,`${er-Yn} ${Dn} ${Ln} ${Qn-zn} ${Ln} ${Qn} c`,`${Ln} ${Qn+zn} ${er-Yn} ${tr} ${er} ${tr} c`,"h"),Cn?Mn.push("B"):Mn.push("S"),[Rn[0].x,Rn[1].x,Rn[3].y,Rn[1].y]}})}}}class sn extends Xt{constructor(Jt){super(Jt);const{dict:cn,xref:pn}=Jt;this.data.annotationType=wt.AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.vertices=[],this instanceof rn||(this.setLineEndings(cn.getArray("LE")),this.data.lineEndings=this.lineEndings);const wn=cn.getArray("Vertices");if(Array.isArray(wn)){for(let En=0,_n=wn.length;En<_n;En+=2)this.data.vertices.push({x:wn[En],y:wn[En+1]});if(!this.appearance){const En=this.color?ln(this.color):[0,0,0],_n=cn.get("CA"),Cn=this.borderStyle.width||1,An=2*Cn,Tn=[1/0,1/0,-1/0,-1/0];for(const Mn of this.data.vertices)Tn[0]=Math.min(Tn[0],Mn.x-An),Tn[1]=Math.min(Tn[1],Mn.y-An),Tn[2]=Math.max(Tn[2],Mn.x+An),Tn[3]=Math.max(Tn[3],Mn.y+An);wt.Util.intersect(this.rectangle,Tn)||(this.rectangle=Tn),this._setDefaultAppearance({xref:pn,extra:`${Cn} w`,strokeColor:En,strokeAlpha:_n,pointsCallback:(Mn,Rn)=>{const Ln=this.data.vertices;for(let Dn=0,Un=Ln.length;Dn<Un;Dn++)Mn.push(`${Ln[Dn].x} ${Ln[Dn].y} ${Dn===0?"m":"l"}`);return Mn.push("S"),[Rn[0].x,Rn[1].x,Rn[3].y,Rn[1].y]}})}}}}class rn extends sn{constructor(Jt){super(Jt),this.data.annotationType=wt.AnnotationType.POLYGON}}class xn extends Xt{constructor(Jt){super(Jt),this.data.annotationType=wt.AnnotationType.CARET}}class vn extends Xt{constructor(Jt){super(Jt),this.data.hasOwnCanvas=this.data.noRotate;const{dict:cn,xref:pn}=Jt;this.data.annotationType=wt.AnnotationType.INK,this.data.inkLists=[];const wn=cn.getArray("InkList");if(Array.isArray(wn)){for(let En=0,_n=wn.length;En<_n;++En){this.data.inkLists.push([]);for(let Cn=0,An=wn[En].length;Cn<An;Cn+=2)this.data.inkLists[En].push({x:pn.fetchIfRef(wn[En][Cn]),y:pn.fetchIfRef(wn[En][Cn+1])})}if(!this.appearance){const En=this.color?ln(this.color):[0,0,0],_n=cn.get("CA"),Cn=this.borderStyle.width||1,An=2*Cn,Tn=[1/0,1/0,-1/0,-1/0];for(const Mn of this.data.inkLists)for(const Rn of Mn)Tn[0]=Math.min(Tn[0],Rn.x-An),Tn[1]=Math.min(Tn[1],Rn.y-An),Tn[2]=Math.max(Tn[2],Rn.x+An),Tn[3]=Math.max(Tn[3],Rn.y+An);wt.Util.intersect(this.rectangle,Tn)||(this.rectangle=Tn),this._setDefaultAppearance({xref:pn,extra:`${Cn} w`,strokeColor:En,strokeAlpha:_n,pointsCallback:(Mn,Rn)=>{for(const Ln of this.data.inkLists){for(let Dn=0,Un=Ln.length;Dn<Un;Dn++)Mn.push(`${Ln[Dn].x} ${Ln[Dn].y} ${Dn===0?"m":"l"}`);Mn.push("S")}return[Rn[0].x,Rn[1].x,Rn[3].y,Rn[1].y]}})}}}static createNewDict(Jt,cn,{apRef:pn,ap:wn}){const{color:En,opacity:_n,paths:Cn,rect:An,rotation:Tn,thickness:Mn}=Jt,Rn=new ht.Dict(cn);Rn.set("Type",ht.Name.get("Annot")),Rn.set("Subtype",ht.Name.get("Ink")),Rn.set("CreationDate",`D:${(0,wt.getModificationDate)()}`),Rn.set("Rect",An),Rn.set("InkList",Cn.map(Un=>Un.points)),Rn.set("F",4),Rn.set("Rotate",Tn);const Ln=new ht.Dict(cn);Rn.set("BS",Ln),Ln.set("W",Mn),Rn.set("C",Array.from(En,Un=>Un/255)),Rn.set("CA",_n);const Dn=new ht.Dict(cn);return Rn.set("AP",Dn),pn?Dn.set("N",pn):Dn.set("N",wn),Rn}static async createNewAppearanceStream(Jt,cn,pn){const{color:wn,rect:En,paths:_n,thickness:Cn,opacity:An}=Jt,Tn=[`${Cn} w 1 J 1 j`,`${(0,Rt.getPdfColor)(wn,!1)}`];An!==1&&Tn.push("/R0 gs");const Mn=[];for(const{bezier:Un}of _n){Mn.length=0,Mn.push(`${(0,kt.numberToString)(Un[0])} ${(0,kt.numberToString)(Un[1])} m`);for(let tr=2,er=Un.length;tr<er;tr+=6){const Qn=Un.slice(tr,tr+6).map(kt.numberToString).join(" ");Mn.push(`${Qn} c`)}Mn.push("S"),Tn.push(Mn.join(`
`))}const Rn=Tn.join(`
`),Ln=new ht.Dict(cn);if(Ln.set("FormType",1),Ln.set("Subtype",ht.Name.get("Form")),Ln.set("Type",ht.Name.get("XObject")),Ln.set("BBox",En),Ln.set("Length",Rn.length),An!==1){const Un=new ht.Dict(cn),tr=new ht.Dict(cn),er=new ht.Dict(cn);er.set("CA",An),er.set("Type",ht.Name.get("ExtGState")),tr.set("R0",er),Un.set("ExtGState",tr),Ln.set("Resources",Un)}const Dn=new vt.StringStream(Rn);return Dn.dict=Ln,Dn}}class kn extends Xt{constructor(Jt){var En;super(Jt);const{dict:cn,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.HIGHLIGHT,this.data.quadPoints=en(cn,null)){const _n=(En=this.appearance)==null?void 0:En.dict.get("Resources");if(!this.appearance||!(_n!=null&&_n.has("ExtGState"))){this.appearance&&(0,wt.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const Cn=this.color?ln(this.color):[1,1,0],An=cn.get("CA");this._setDefaultAppearance({xref:pn,fillColor:Cn,blendMode:"Multiply",fillAlpha:An,pointsCallback:(Tn,Mn)=>(Tn.push(`${Mn[0].x} ${Mn[0].y} m`,`${Mn[1].x} ${Mn[1].y} l`,`${Mn[3].x} ${Mn[3].y} l`,`${Mn[2].x} ${Mn[2].y} l`,"f"),[Mn[0].x,Mn[1].x,Mn[3].y,Mn[1].y])})}}else this.data.popupRef=null}}class Fn extends Xt{constructor(Jt){super(Jt);const{dict:cn,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.UNDERLINE,this.data.quadPoints=en(cn,null)){if(!this.appearance){const En=this.color?ln(this.color):[0,0,0],_n=cn.get("CA");this._setDefaultAppearance({xref:pn,extra:"[] 0 d 0.571 w",strokeColor:En,strokeAlpha:_n,pointsCallback:(Cn,An)=>(Cn.push(`${An[2].x} ${An[2].y+1.3} m`,`${An[3].x} ${An[3].y+1.3} l`,"S"),[An[0].x,An[1].x,An[3].y,An[1].y])})}}else this.data.popupRef=null}}class On extends Xt{constructor(Jt){super(Jt);const{dict:cn,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.SQUIGGLY,this.data.quadPoints=en(cn,null)){if(!this.appearance){const En=this.color?ln(this.color):[0,0,0],_n=cn.get("CA");this._setDefaultAppearance({xref:pn,extra:"[] 0 d 1 w",strokeColor:En,strokeAlpha:_n,pointsCallback:(Cn,An)=>{const Tn=(An[0].y-An[2].y)/6;let Mn=Tn,Rn=An[2].x;const Ln=An[2].y,Dn=An[3].x;Cn.push(`${Rn} ${Ln+Mn} m`);do Rn+=2,Mn=Mn===0?Tn:0,Cn.push(`${Rn} ${Ln+Mn} l`);while(Rn<Dn);return Cn.push("S"),[An[2].x,Dn,Ln-2*Tn,Ln+2*Tn]}})}}else this.data.popupRef=null}}class Pn extends Xt{constructor(Jt){super(Jt);const{dict:cn,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.STRIKEOUT,this.data.quadPoints=en(cn,null)){if(!this.appearance){const En=this.color?ln(this.color):[0,0,0],_n=cn.get("CA");this._setDefaultAppearance({xref:pn,extra:"[] 0 d 1 w",strokeColor:En,strokeAlpha:_n,pointsCallback:(Cn,An)=>(Cn.push(`${(An[0].x+An[2].x)/2} ${(An[0].y+An[2].y)/2} m`,`${(An[1].x+An[3].x)/2} ${(An[1].y+An[3].y)/2} l`,"S"),[An[0].x,An[1].x,An[3].y,An[1].y])})}}else this.data.popupRef=null}}class Sn extends Xt{constructor(Jt){super(Jt),this.data.annotationType=wt.AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate}static async createImage(Jt,cn){const{width:pn,height:wn}=Jt,En=new OffscreenCanvas(pn,wn),_n=En.getContext("2d",{alpha:!0});_n.drawImage(Jt,0,0);const Cn=_n.getImageData(0,0,pn,wn).data,An=new Uint32Array(Cn.buffer),Tn=An.some(wt.FeatureTest.isLittleEndian?er=>er>>>24!==255:er=>(er&255)!==255);Tn&&(_n.fillStyle="white",_n.fillRect(0,0,pn,wn),_n.drawImage(Jt,0,0));const Mn=En.convertToBlob({type:"image/jpeg",quality:1}).then(er=>er.arrayBuffer()),Rn=ht.Name.get("XObject"),Ln=ht.Name.get("Image"),Dn=new ht.Dict(cn);Dn.set("Type",Rn),Dn.set("Subtype",Ln),Dn.set("BitsPerComponent",8),Dn.set("ColorSpace",ht.Name.get("DeviceRGB")),Dn.set("Filter",ht.Name.get("DCTDecode")),Dn.set("BBox",[0,0,pn,wn]),Dn.set("Width",pn),Dn.set("Height",wn);let Un=null;if(Tn){const er=new Uint8Array(An.length);if(wt.FeatureTest.isLittleEndian)for(let Yn=0,zn=An.length;Yn<zn;Yn++)er[Yn]=An[Yn]>>>24;else for(let Yn=0,zn=An.length;Yn<zn;Yn++)er[Yn]=An[Yn]&255;const Qn=new ht.Dict(cn);Qn.set("Type",Rn),Qn.set("Subtype",Ln),Qn.set("BitsPerComponent",8),Qn.set("ColorSpace",ht.Name.get("DeviceGray")),Qn.set("Width",pn),Qn.set("Height",wn),Un=new vt.Stream(er,0,0,Qn)}return{imageStream:new vt.Stream(await Mn,0,0,Dn),smaskStream:Un,width:pn,height:wn}}static createNewDict(Jt,cn,{apRef:pn,ap:wn}){const{rect:En,rotation:_n,user:Cn}=Jt,An=new ht.Dict(cn);if(An.set("Type",ht.Name.get("Annot")),An.set("Subtype",ht.Name.get("Stamp")),An.set("CreationDate",`D:${(0,wt.getModificationDate)()}`),An.set("Rect",En),An.set("F",4),An.set("Border",[0,0,0]),An.set("Rotate",_n),Cn&&An.set("T",(0,kt.isAscii)(Cn)?Cn:(0,kt.stringToUTF16String)(Cn,!0)),pn||wn){const Tn=new ht.Dict(cn);An.set("AP",Tn),pn?Tn.set("N",pn):Tn.set("N",wn)}return An}static async createNewAppearanceStream(Jt,cn,pn){const{rotation:wn}=Jt,{imageRef:En,width:_n,height:Cn}=pn.image,An=new ht.Dict(cn),Tn=new ht.Dict(cn);An.set("XObject",Tn),Tn.set("Im0",En);const Mn=`q ${_n} 0 0 ${Cn} 0 0 cm /Im0 Do Q`,Rn=new ht.Dict(cn);if(Rn.set("FormType",1),Rn.set("Subtype",ht.Name.get("Form")),Rn.set("Type",ht.Name.get("XObject")),Rn.set("BBox",[0,0,_n,Cn]),Rn.set("Resources",An),wn){const Dn=(0,kt.getRotationMatrix)(wn,_n,Cn);Rn.set("Matrix",Dn)}const Ln=new vt.StringStream(Mn);return Ln.dict=Rn,Ln}}class mn extends Xt{constructor(Jt){super(Jt);const{dict:cn,xref:pn}=Jt,wn=new $t.FileSpec(cn.get("FS"),pn);this.data.annotationType=wt.AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.file=wn.serializable;const En=cn.get("Name");this.data.name=En instanceof ht.Name?(0,wt.stringToPDFString)(En.name):"PushPin";const _n=cn.get("ca");this.data.fillAlpha=typeof _n=="number"&&_n>=0&&_n<=1?_n:null}}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.FakeUnicodeFont=void 0,Ct.createDefaultAppearance=Kt,Ct.getPdfColor=_t,Ct.parseAppearanceStream=Bt,Ct.parseDefaultAppearance=$t;var wt=Pt(4),kt=Pt(3),Rt=Pt(2),ht=Pt(12),vt=Pt(13),Ft=Pt(59),Ht=Pt(57),qt=Pt(8);class Nt extends vt.EvaluatorPreprocessor{constructor(Qt){super(new qt.StringStream(Qt))}parse(){const Qt={fn:0,args:[]},ln={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;Qt.args.length=0,!!this.read(Qt);){if(this.savedStatesDepth!==0)continue;const{fn:en,args:gn}=Qt;switch(en|0){case Rt.OPS.setFont:const[tn,bn]=gn;tn instanceof wt.Name&&(ln.fontName=tn.name),typeof bn=="number"&&bn>0&&(ln.fontSize=bn);break;case Rt.OPS.setFillRGBColor:ht.ColorSpace.singletons.rgb.getRgbItem(gn,0,ln.fontColor,0);break;case Rt.OPS.setFillGray:ht.ColorSpace.singletons.gray.getRgbItem(gn,0,ln.fontColor,0);break;case Rt.OPS.setFillCMYKColor:ht.ColorSpace.singletons.cmyk.getRgbItem(gn,0,ln.fontColor,0);break}}}catch(en){(0,Rt.warn)(`parseDefaultAppearance - ignoring errors: "${en}".`)}return ln}}function $t(Gt){return new Nt(Gt).parse()}class Mt extends vt.EvaluatorPreprocessor{constructor(Qt,ln,en){var gn;super(Qt),this.stream=Qt,this.evaluatorOptions=ln,this.xref=en,this.resources=(gn=Qt.dict)==null?void 0:gn.get("Resources")}parse(){const Qt={fn:0,args:[]};let ln={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:ht.ColorSpace.singletons.gray},en=!1;const gn=[];try{for(;Qt.args.length=0,!(en||!this.read(Qt));){const{fn:tn,args:bn}=Qt;switch(tn|0){case Rt.OPS.save:gn.push({scaleFactor:ln.scaleFactor,fontSize:ln.fontSize,fontName:ln.fontName,fontColor:ln.fontColor.slice(),fillColorSpace:ln.fillColorSpace});break;case Rt.OPS.restore:ln=gn.pop()||ln;break;case Rt.OPS.setTextMatrix:ln.scaleFactor*=Math.hypot(bn[0],bn[1]);break;case Rt.OPS.setFont:const[Xt,Yt]=bn;Xt instanceof wt.Name&&(ln.fontName=Xt.name),typeof Yt=="number"&&Yt>0&&(ln.fontSize=Yt*ln.scaleFactor);break;case Rt.OPS.setFillColorSpace:ln.fillColorSpace=ht.ColorSpace.parse({cs:bn[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case Rt.OPS.setFillColor:ln.fillColorSpace.getRgbItem(bn,0,ln.fontColor,0);break;case Rt.OPS.setFillRGBColor:ht.ColorSpace.singletons.rgb.getRgbItem(bn,0,ln.fontColor,0);break;case Rt.OPS.setFillGray:ht.ColorSpace.singletons.gray.getRgbItem(bn,0,ln.fontColor,0);break;case Rt.OPS.setFillCMYKColor:ht.ColorSpace.singletons.cmyk.getRgbItem(bn,0,ln.fontColor,0);break;case Rt.OPS.showText:case Rt.OPS.showSpacedText:case Rt.OPS.nextLineShowText:case Rt.OPS.nextLineSetSpacingShowText:en=!0;break}}}catch(tn){(0,Rt.warn)(`parseAppearanceStream - ignoring errors: "${tn}".`)}return this.stream.reset(),delete ln.scaleFactor,delete ln.fillColorSpace,ln}get _localColorSpaceCache(){return(0,Rt.shadow)(this,"_localColorSpaceCache",new Ft.LocalColorSpaceCache)}get _pdfFunctionFactory(){const Qt=new Ht.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return(0,Rt.shadow)(this,"_pdfFunctionFactory",Qt)}}function Bt(Gt,Qt,ln){return new Mt(Gt,Qt,ln).parse()}function _t(Gt,Qt){if(Gt[0]===Gt[1]&&Gt[1]===Gt[2]){const ln=Gt[0]/255;return`${(0,kt.numberToString)(ln)} ${Qt?"g":"G"}`}return Array.from(Gt,ln=>(0,kt.numberToString)(ln/255)).join(" ")+` ${Qt?"rg":"RG"}`}function Kt({fontSize:Gt,fontName:Qt,fontColor:ln}){return`/${(0,kt.escapePDFName)(Qt)} ${Gt} Tf ${_t(ln,!0)}`}class jt{constructor(Qt,ln){this.xref=Qt,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=ln;const en=new OffscreenCanvas(1,1);this.ctxMeasure=en.getContext("2d"),jt._fontNameId||(jt._fontNameId=1),this.fontName=wt.Name.get(`InvalidPDFjsFont_${ln}_${jt._fontNameId++}`)}get toUnicodeRef(){if(!jt._toUnicodeRef){const Qt=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,ln=jt.toUnicodeStream=new qt.StringStream(Qt),en=new wt.Dict(this.xref);ln.dict=en,en.set("Length",Qt.length),jt._toUnicodeRef=this.xref.getNewPersistentRef(ln)}return jt._toUnicodeRef}get fontDescriptorRef(){if(!jt._fontDescriptorRef){const Qt=new wt.Dict(this.xref);Qt.set("Type",wt.Name.get("FontDescriptor")),Qt.set("FontName",this.fontName),Qt.set("FontFamily","MyriadPro Regular"),Qt.set("FontBBox",[0,0,0,0]),Qt.set("FontStretch",wt.Name.get("Normal")),Qt.set("FontWeight",400),Qt.set("ItalicAngle",0),jt._fontDescriptorRef=this.xref.getNewPersistentRef(Qt)}return jt._fontDescriptorRef}get descendantFontRef(){const Qt=new wt.Dict(this.xref);Qt.set("BaseFont",this.fontName),Qt.set("Type",wt.Name.get("Font")),Qt.set("Subtype",wt.Name.get("CIDFontType0")),Qt.set("CIDToGIDMap",wt.Name.get("Identity")),Qt.set("FirstChar",this.firstChar),Qt.set("LastChar",this.lastChar),Qt.set("FontDescriptor",this.fontDescriptorRef),Qt.set("DW",1e3);const ln=[],en=[...this.widths.entries()].sort();let gn=null,tn=null;for(const[Xt,Yt]of en){if(!gn){gn=Xt,tn=[Yt];continue}Xt===gn+tn.length?tn.push(Yt):(ln.push(gn,tn),gn=Xt,tn=[Yt])}gn&&ln.push(gn,tn),Qt.set("W",ln);const bn=new wt.Dict(this.xref);return bn.set("Ordering","Identity"),bn.set("Registry","Adobe"),bn.set("Supplement",0),Qt.set("CIDSystemInfo",bn),this.xref.getNewPersistentRef(Qt)}get baseFontRef(){const Qt=new wt.Dict(this.xref);return Qt.set("BaseFont",this.fontName),Qt.set("Type",wt.Name.get("Font")),Qt.set("Subtype",wt.Name.get("Type0")),Qt.set("Encoding",wt.Name.get("Identity-H")),Qt.set("DescendantFonts",[this.descendantFontRef]),Qt.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(Qt)}get resources(){const Qt=new wt.Dict(this.xref),ln=new wt.Dict(this.xref);return ln.set(this.fontName.name,this.baseFontRef),Qt.set("Font",ln),Qt}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(Qt){const ln=this._createContext();for(const en of Qt.split(/\r\n?|\n/))for(const gn of en.split("")){const tn=gn.charCodeAt(0);if(this.widths.has(tn))continue;const bn=ln.measureText(gn),Xt=Math.ceil(bn.width);this.widths.set(tn,Xt),this.firstChar=Math.min(tn,this.firstChar),this.lastChar=Math.max(tn,this.lastChar)}return this.resources}createAppearance(Qt,ln,en,gn,tn,bn){const Xt=this._createContext(),Yt=[];let un=-1/0;for(const mn of Qt.split(/\r\n?|\n/)){Yt.push(mn);const fn=Xt.measureText(mn).width;un=Math.max(un,fn);for(const Jt of mn.split("")){const cn=Jt.charCodeAt(0);let pn=this.widths.get(cn);if(pn===void 0){const wn=Xt.measureText(Jt);pn=Math.ceil(wn.width),this.widths.set(cn,pn),this.firstChar=Math.min(cn,this.firstChar),this.lastChar=Math.max(cn,this.lastChar)}}}un*=gn/1e3;const[Ut,Lt,Vt,an]=ln;let zt=Vt-Ut,Wt=an-Lt;en%180!==0&&([zt,Wt]=[Wt,zt]);let nn=1;un>zt&&(nn=zt/un);let dn=1;const on=Rt.LINE_FACTOR*gn,hn=Rt.LINE_DESCENT_FACTOR*gn,sn=on*Yt.length;sn>Wt&&(dn=Wt/sn);const rn=Math.min(nn,dn),xn=gn*rn,vn=["q",`0 0 ${(0,kt.numberToString)(zt)} ${(0,kt.numberToString)(Wt)} re W n`,"BT",`1 0 0 1 0 ${(0,kt.numberToString)(Wt+hn)} Tm 0 Tc ${_t(tn,!0)}`,`/${this.fontName.name} ${(0,kt.numberToString)(xn)} Tf`],{resources:kn}=this;if(bn=typeof bn=="number"&&bn>=0&&bn<=1?bn:1,bn!==1){vn.push("/R0 gs");const mn=new wt.Dict(this.xref),fn=new wt.Dict(this.xref);fn.set("ca",bn),fn.set("CA",bn),fn.set("Type",wt.Name.get("ExtGState")),mn.set("R0",fn),kn.set("ExtGState",mn)}const Fn=(0,kt.numberToString)(on);for(const mn of Yt)vn.push(`0 -${Fn} Td <${(0,kt.stringToUTF16HexString)(mn)}> Tj`);vn.push("ET","Q");const On=vn.join(`
`),Pn=new wt.Dict(this.xref);if(Pn.set("Subtype",wt.Name.get("Form")),Pn.set("Type",wt.Name.get("XObject")),Pn.set("BBox",[0,0,zt,Wt]),Pn.set("Length",On.length),Pn.set("Resources",kn),en){const mn=(0,kt.getRotationMatrix)(en,zt,Wt);Pn.set("Matrix",mn)}const Sn=new qt.StringStream(On);return Sn.dict=Pn,Sn}}Ct.FakeUnicodeFont=jt},(Et,Ct,Pt)=>{var Gt,q9,ln,K9,gn,tn,bn,Xt,Yt,un,Ut,Lt,Vt,Wp,p5,g5,N2,Gp,qp,m5,x5,b5,Y9,kn,$2,B2,Z9;Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.ColorSpace=void 0;var wt=Pt(2),kt=Pt(4),Rt=Pt(5),ht=Pt(3);function vt(Sn,mn,fn,Jt,cn,pn,wn){wn=wn!==1?0:wn;const _n=fn/cn,Cn=Jt/pn;let An=0,Tn;const Mn=new Uint16Array(cn),Rn=fn*3;for(let Ln=0;Ln<cn;Ln++)Mn[Ln]=Math.floor(Ln*_n)*3;for(let Ln=0;Ln<pn;Ln++){const Dn=Math.floor(Ln*Cn)*Rn;for(let Un=0;Un<cn;Un++)Tn=Dn+Mn[Un],mn[An++]=Sn[Tn++],mn[An++]=Sn[Tn++],mn[An++]=Sn[Tn++],An+=wn}}class Ft{constructor(mn,fn){this.constructor===Ft&&(0,wt.unreachable)("Cannot initialize ColorSpace."),this.name=mn,this.numComps=fn}getRgb(mn,fn){const Jt=new Uint8ClampedArray(3);return this.getRgbItem(mn,fn,Jt,0),Jt}getRgbItem(mn,fn,Jt,cn){(0,wt.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(mn,fn,Jt,cn,pn,wn,En){(0,wt.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(mn,fn){(0,wt.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(mn){return!1}isDefaultDecode(mn,fn){return Ft.isDefaultDecode(mn,this.numComps)}fillRgb(mn,fn,Jt,cn,pn,wn,En,_n,Cn){const An=fn*Jt;let Tn=null;const Mn=1<<En,Rn=Jt!==pn||fn!==cn;if(this.isPassthrough(En))Tn=_n;else if(this.numComps===1&&An>Mn&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const Ln=En<=8?new Uint8Array(Mn):new Uint16Array(Mn);for(let Un=0;Un<Mn;Un++)Ln[Un]=Un;const Dn=new Uint8ClampedArray(Mn*3);if(this.getRgbBuffer(Ln,0,Mn,Dn,0,En,0),Rn){Tn=new Uint8Array(An*3);let Un=0;for(let tr=0;tr<An;++tr){const er=_n[tr]*3;Tn[Un++]=Dn[er],Tn[Un++]=Dn[er+1],Tn[Un++]=Dn[er+2]}}else{let Un=0;for(let tr=0;tr<An;++tr){const er=_n[tr]*3;mn[Un++]=Dn[er],mn[Un++]=Dn[er+1],mn[Un++]=Dn[er+2],Un+=Cn}}}else Rn?(Tn=new Uint8ClampedArray(An*3),this.getRgbBuffer(_n,0,An,Tn,0,En,0)):this.getRgbBuffer(_n,0,cn*wn,mn,0,En,Cn);if(Tn)if(Rn)vt(Tn,mn,fn,Jt,cn,pn,Cn);else{let Ln=0,Dn=0;for(let Un=0,tr=cn*wn;Un<tr;Un++)mn[Ln++]=Tn[Dn++],mn[Ln++]=Tn[Dn++],mn[Ln++]=Tn[Dn++],Ln+=Cn}}get usesZeroToOneRange(){return(0,wt.shadow)(this,"usesZeroToOneRange",!0)}static _cache(mn,fn,Jt,cn){if(!Jt)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!cn)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let pn,wn;mn instanceof kt.Ref&&(wn=mn,mn=fn.fetch(mn)),mn instanceof kt.Name&&(pn=mn.name),(pn||wn)&&Jt.set(pn,wn,cn)}static getCached(mn,fn,Jt){if(!Jt)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(mn instanceof kt.Ref){const cn=Jt.getByRef(mn);if(cn)return cn;try{mn=fn.fetch(mn)}catch(pn){if(pn instanceof ht.MissingDataException)throw pn}}if(mn instanceof kt.Name){const cn=Jt.getByName(mn.name);if(cn)return cn}return null}static async parseAsync({cs:mn,xref:fn,resources:Jt=null,pdfFunctionFactory:cn,localColorSpaceCache:pn}){const wn=this._parse(mn,fn,Jt,cn);return this._cache(mn,fn,pn,wn),wn}static parse({cs:mn,xref:fn,resources:Jt=null,pdfFunctionFactory:cn,localColorSpaceCache:pn}){const wn=this.getCached(mn,fn,pn);if(wn)return wn;const En=this._parse(mn,fn,Jt,cn);return this._cache(mn,fn,pn,En),En}static _parse(mn,fn,Jt=null,cn){if(mn=fn.fetchIfRef(mn),mn instanceof kt.Name)switch(mn.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new qt(null);default:if(Jt instanceof kt.Dict){const pn=Jt.get("ColorSpace");if(pn instanceof kt.Dict){const wn=pn.get(mn.name);if(wn){if(wn instanceof kt.Name)return this._parse(wn,fn,Jt,cn);mn=wn;break}}}throw new wt.FormatError(`Unrecognized ColorSpace: ${mn.name}`)}if(Array.isArray(mn)){const pn=fn.fetchIfRef(mn[0]).name;let wn,En,_n,Cn,An,Tn;switch(pn){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return wn=fn.fetchIfRef(mn[1]),Cn=wn.getArray("WhitePoint"),An=wn.getArray("BlackPoint"),Tn=wn.get("Gamma"),new _t(Cn,An,Tn);case"CalRGB":wn=fn.fetchIfRef(mn[1]),Cn=wn.getArray("WhitePoint"),An=wn.getArray("BlackPoint"),Tn=wn.getArray("Gamma");const Mn=wn.getArray("Matrix");return new Kt(Cn,An,Tn,Mn);case"ICCBased":const Ln=fn.fetchIfRef(mn[1]).dict;En=Ln.get("N");const Dn=Ln.get("Alternate");if(Dn){const zn=this._parse(Dn,fn,Jt,cn);if(zn.numComps===En)return zn;(0,wt.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(En===1)return this.singletons.gray;if(En===3)return this.singletons.rgb;if(En===4)return this.singletons.cmyk;break;case"Pattern":return _n=mn[1]||null,_n&&(_n=this._parse(_n,fn,Jt,cn)),new qt(_n);case"I":case"Indexed":_n=this._parse(mn[1],fn,Jt,cn);const Un=fn.fetchIfRef(mn[2])+1,tr=fn.fetchIfRef(mn[3]);return new Nt(_n,Un,tr);case"Separation":case"DeviceN":const er=fn.fetchIfRef(mn[1]);En=Array.isArray(er)?er.length:1,_n=this._parse(mn[2],fn,Jt,cn);const Qn=cn.create(mn[3]);return new Ht(En,_n,Qn);case"Lab":wn=fn.fetchIfRef(mn[1]),Cn=wn.getArray("WhitePoint"),An=wn.getArray("BlackPoint");const Yn=wn.getArray("Range");return new jt(Cn,An,Yn);default:throw new wt.FormatError(`Unimplemented ColorSpace object: ${pn}`)}}throw new wt.FormatError(`Unrecognized ColorSpace object: ${mn}`)}static isDefaultDecode(mn,fn){if(!Array.isArray(mn))return!0;if(fn*2!==mn.length)return(0,wt.warn)("The decode map is not the correct length"),!0;for(let Jt=0,cn=mn.length;Jt<cn;Jt+=2)if(mn[Jt]!==0||mn[Jt+1]!==1)return!1;return!0}static get singletons(){return(0,wt.shadow)(this,"singletons",{get gray(){return(0,wt.shadow)(this,"gray",new $t)},get rgb(){return(0,wt.shadow)(this,"rgb",new Mt)},get cmyk(){return(0,wt.shadow)(this,"cmyk",new Bt)}})}}Ct.ColorSpace=Ft;class Ht extends Ft{constructor(mn,fn,Jt){super("Alternate",mn),this.base=fn,this.tintFn=Jt,this.tmpBuf=new Float32Array(fn.numComps)}getRgbItem(mn,fn,Jt,cn){const pn=this.tmpBuf;this.tintFn(mn,fn,pn,0),this.base.getRgbItem(pn,0,Jt,cn)}getRgbBuffer(mn,fn,Jt,cn,pn,wn,En){const _n=this.tintFn,Cn=this.base,An=1/((1<<wn)-1),Tn=Cn.numComps,Mn=Cn.usesZeroToOneRange,Rn=(Cn.isPassthrough(8)||!Mn)&&En===0;let Ln=Rn?pn:0;const Dn=Rn?cn:new Uint8ClampedArray(Tn*Jt),Un=this.numComps,tr=new Float32Array(Un),er=new Float32Array(Tn);let Qn,Yn;for(Qn=0;Qn<Jt;Qn++){for(Yn=0;Yn<Un;Yn++)tr[Yn]=mn[fn++]*An;if(_n(tr,0,er,0),Mn)for(Yn=0;Yn<Tn;Yn++)Dn[Ln++]=er[Yn]*255;else Cn.getRgbItem(er,0,Dn,Ln),Ln+=Tn}Rn||Cn.getRgbBuffer(Dn,0,Jt,cn,pn,8,En)}getOutputLength(mn,fn){return this.base.getOutputLength(mn*this.base.numComps/this.numComps,fn)}}class qt extends Ft{constructor(mn){super("Pattern",null),this.base=mn}isDefaultDecode(mn,fn){(0,wt.unreachable)("Should not call PatternCS.isDefaultDecode")}}class Nt extends Ft{constructor(mn,fn,Jt){super("Indexed",1),this.base=mn,this.highVal=fn;const cn=mn.numComps*fn;if(this.lookup=new Uint8Array(cn),Jt instanceof Rt.BaseStream){const pn=Jt.getBytes(cn);this.lookup.set(pn)}else if(typeof Jt=="string")for(let pn=0;pn<cn;++pn)this.lookup[pn]=Jt.charCodeAt(pn)&255;else throw new wt.FormatError(`IndexedCS - unrecognized lookup table: ${Jt}`)}getRgbItem(mn,fn,Jt,cn){const pn=this.base.numComps,wn=mn[fn]*pn;this.base.getRgbBuffer(this.lookup,wn,1,Jt,cn,8,0)}getRgbBuffer(mn,fn,Jt,cn,pn,wn,En){const _n=this.base,Cn=_n.numComps,An=_n.getOutputLength(Cn,En),Tn=this.lookup;for(let Mn=0;Mn<Jt;++Mn){const Rn=mn[fn++]*Cn;_n.getRgbBuffer(Tn,Rn,1,cn,pn,8,En),pn+=An}}getOutputLength(mn,fn){return this.base.getOutputLength(mn*this.base.numComps,fn)}isDefaultDecode(mn,fn){return Array.isArray(mn)?mn.length!==2?((0,wt.warn)("Decode map length is not correct"),!0):!Number.isInteger(fn)||fn<1?((0,wt.warn)("Bits per component is not correct"),!0):mn[0]===0&&mn[1]===(1<<fn)-1:!0}}class $t extends Ft{constructor(){super("DeviceGray",1)}getRgbItem(mn,fn,Jt,cn){const pn=mn[fn]*255;Jt[cn]=Jt[cn+1]=Jt[cn+2]=pn}getRgbBuffer(mn,fn,Jt,cn,pn,wn,En){const _n=255/((1<<wn)-1);let Cn=fn,An=pn;for(let Tn=0;Tn<Jt;++Tn){const Mn=_n*mn[Cn++];cn[An++]=Mn,cn[An++]=Mn,cn[An++]=Mn,An+=En}}getOutputLength(mn,fn){return mn*(3+fn)}}class Mt extends Ft{constructor(){super("DeviceRGB",3)}getRgbItem(mn,fn,Jt,cn){Jt[cn]=mn[fn]*255,Jt[cn+1]=mn[fn+1]*255,Jt[cn+2]=mn[fn+2]*255}getRgbBuffer(mn,fn,Jt,cn,pn,wn,En){if(wn===8&&En===0){cn.set(mn.subarray(fn,fn+Jt*3),pn);return}const _n=255/((1<<wn)-1);let Cn=fn,An=pn;for(let Tn=0;Tn<Jt;++Tn)cn[An++]=_n*mn[Cn++],cn[An++]=_n*mn[Cn++],cn[An++]=_n*mn[Cn++],An+=En}getOutputLength(mn,fn){return mn*(3+fn)/3|0}isPassthrough(mn){return mn===8}}class Bt extends Ft{constructor(){super("DeviceCMYK",4);Nn(this,Gt)}getRgbItem(fn,Jt,cn,pn){In(this,Gt,q9).call(this,fn,Jt,1,cn,pn)}getRgbBuffer(fn,Jt,cn,pn,wn,En,_n){const Cn=1/((1<<En)-1);for(let An=0;An<cn;An++)In(this,Gt,q9).call(this,fn,Jt,Cn,pn,wn),Jt+=4,wn+=3+_n}getOutputLength(fn,Jt){return fn/4*(3+Jt)|0}}Gt=new WeakSet,q9=function(fn,Jt,cn,pn,wn){const En=fn[Jt]*cn,_n=fn[Jt+1]*cn,Cn=fn[Jt+2]*cn,An=fn[Jt+3]*cn;pn[wn]=255+En*(-4.387332384609988*En+54.48615194189176*_n+18.82290502165302*Cn+212.25662451639585*An+-285.2331026137004)+_n*(1.7149763477362134*_n-5.6096736904047315*Cn+-17.873870861415444*An-5.497006427196366)+Cn*(-2.5217340131683033*Cn-21.248923337353073*An+17.5119270841813)+An*(-21.86122147463605*An-189.48180835922747),pn[wn+1]=255+En*(8.841041422036149*En+60.118027045597366*_n+6.871425592049007*Cn+31.159100130055922*An+-79.2970844816548)+_n*(-15.310361306967817*_n+17.575251261109482*Cn+131.35250912493976*An-190.9453302588951)+Cn*(4.444339102852739*Cn+9.8632861493405*An-24.86741582555878)+An*(-20.737325471181034*An-187.80453709719578),pn[wn+2]=255+En*(.8842522430003296*En+8.078677503112928*_n+30.89978309703729*Cn-.23883238689178934*An+-14.183576799673286)+_n*(10.49593273432072*_n+63.02378494754052*Cn+50.606957656360734*An-112.23884253719248)+Cn*(.03296041114873217*Cn+115.60384449646641*An+-193.58209356861505)+An*(-22.33816807309886*An-180.12613974708367)};class _t extends Ft{constructor(fn,Jt,cn){super("CalGray",1);Nn(this,ln);if(!fn)throw new wt.FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=fn,[this.XB,this.YB,this.ZB]=Jt||[0,0,0],this.G=cn||1,this.XW<0||this.ZW<0||this.YW!==1)throw new wt.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,wt.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,wt.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,wt.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(fn,Jt,cn,pn){In(this,ln,K9).call(this,fn,Jt,cn,pn,1)}getRgbBuffer(fn,Jt,cn,pn,wn,En,_n){const Cn=1/((1<<En)-1);for(let An=0;An<cn;++An)In(this,ln,K9).call(this,fn,Jt,pn,wn,Cn),Jt+=1,wn+=3+_n}getOutputLength(fn,Jt){return fn*(3+Jt)}}ln=new WeakSet,K9=function(fn,Jt,cn,pn,wn){const _n=(fn[Jt]*wn)**this.G,Cn=this.YW*_n,An=Math.max(295.8*Cn**.3333333333333333-40.8,0);cn[pn]=An,cn[pn+1]=An,cn[pn+2]=An};const vn=class vn extends Ft{constructor(fn,Jt,cn,pn){super("CalRGB",3);Nn(this,Vt);if(!fn)throw new wt.FormatError("WhitePoint missing - required for color space CalRGB");const[wn,En,_n]=this.whitePoint=fn,[Cn,An,Tn]=this.blackPoint=Jt||new Float32Array(3);if([this.GR,this.GG,this.GB]=cn||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=pn||new Float32Array([1,0,0,0,1,0,0,0,1]),wn<0||_n<0||En!==1)throw new wt.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(Cn<0||An<0||Tn<0)&&((0,wt.info)(`Invalid BlackPoint for ${this.name} [${Cn}, ${An}, ${Tn}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,wt.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(fn,Jt,cn,pn){In(this,Vt,Y9).call(this,fn,Jt,cn,pn,1)}getRgbBuffer(fn,Jt,cn,pn,wn,En,_n){const Cn=1/((1<<En)-1);for(let An=0;An<cn;++An)In(this,Vt,Y9).call(this,fn,Jt,pn,wn,Cn),Jt+=3,wn+=3+_n}getOutputLength(fn,Jt){return fn*(3+Jt)/3|0}};gn=new WeakMap,tn=new WeakMap,bn=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,un=new WeakMap,Ut=new WeakMap,Lt=new WeakMap,Vt=new WeakSet,Wp=function(fn,Jt,cn){cn[0]=fn[0]*Jt[0]+fn[1]*Jt[1]+fn[2]*Jt[2],cn[1]=fn[3]*Jt[0]+fn[4]*Jt[1]+fn[5]*Jt[2],cn[2]=fn[6]*Jt[0]+fn[7]*Jt[1]+fn[8]*Jt[2]},p5=function(fn,Jt,cn){cn[0]=Jt[0]*1/fn[0],cn[1]=Jt[1]*1/fn[1],cn[2]=Jt[2]*1/fn[2]},g5=function(fn,Jt,cn){cn[0]=Jt[0]*.95047/fn[0],cn[1]=Jt[1]*1/fn[1],cn[2]=Jt[2]*1.08883/fn[2]},N2=function(fn){return fn<=.0031308?In(this,Vt,Gp).call(this,0,1,12.92*fn):fn>=.99554525?1:In(this,Vt,Gp).call(this,0,1,1.055*fn**.4166666666666667-.055)},Gp=function(fn,Jt,cn){return Math.max(fn,Math.min(Jt,cn))},qp=function(fn){return fn<0?-In(this,Vt,qp).call(this,-fn):fn>8?((fn+16)/116)**3:fn*Ot(vn,Lt)},m5=function(fn,Jt,cn){if(fn[0]===0&&fn[1]===0&&fn[2]===0){cn[0]=Jt[0],cn[1]=Jt[1],cn[2]=Jt[2];return}const pn=In(this,Vt,qp).call(this,0),wn=pn,En=In(this,Vt,qp).call(this,fn[0]),_n=pn,Cn=In(this,Vt,qp).call(this,fn[1]),An=pn,Tn=In(this,Vt,qp).call(this,fn[2]),Mn=(1-wn)/(1-En),Rn=1-Mn,Ln=(1-_n)/(1-Cn),Dn=1-Ln,Un=(1-An)/(1-Tn),tr=1-Un;cn[0]=Jt[0]*Mn+Rn,cn[1]=Jt[1]*Ln+Dn,cn[2]=Jt[2]*Un+tr},x5=function(fn,Jt,cn){if(fn[0]===1&&fn[2]===1){cn[0]=Jt[0],cn[1]=Jt[1],cn[2]=Jt[2];return}const pn=cn;In(this,Vt,Wp).call(this,Ot(vn,gn),Jt,pn);const wn=Ot(vn,Yt);In(this,Vt,p5).call(this,fn,pn,wn),In(this,Vt,Wp).call(this,Ot(vn,tn),wn,cn)},b5=function(fn,Jt,cn){const pn=cn;In(this,Vt,Wp).call(this,Ot(vn,gn),Jt,pn);const wn=Ot(vn,Yt);In(this,Vt,g5).call(this,fn,pn,wn),In(this,Vt,Wp).call(this,Ot(vn,tn),wn,cn)},Y9=function(fn,Jt,cn,pn,wn){const En=In(this,Vt,Gp).call(this,0,1,fn[Jt]*wn),_n=In(this,Vt,Gp).call(this,0,1,fn[Jt+1]*wn),Cn=In(this,Vt,Gp).call(this,0,1,fn[Jt+2]*wn),An=En===1?1:En**this.GR,Tn=_n===1?1:_n**this.GG,Mn=Cn===1?1:Cn**this.GB,Rn=this.MXA*An+this.MXB*Tn+this.MXC*Mn,Ln=this.MYA*An+this.MYB*Tn+this.MYC*Mn,Dn=this.MZA*An+this.MZB*Tn+this.MZC*Mn,Un=Ot(vn,un);Un[0]=Rn,Un[1]=Ln,Un[2]=Dn;const tr=Ot(vn,Ut);In(this,Vt,x5).call(this,this.whitePoint,Un,tr);const er=Ot(vn,un);In(this,Vt,m5).call(this,this.blackPoint,tr,er);const Qn=Ot(vn,Ut);In(this,Vt,b5).call(this,Ot(vn,Xt),er,Qn);const Yn=Ot(vn,un);In(this,Vt,Wp).call(this,Ot(vn,bn),Qn,Yn),cn[pn]=In(this,Vt,N2).call(this,Yn[0])*255,cn[pn+1]=In(this,Vt,N2).call(this,Yn[1])*255,cn[pn+2]=In(this,Vt,N2).call(this,Yn[2])*255},Nn(vn,gn,new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296])),Nn(vn,tn,new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867])),Nn(vn,bn,new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252])),Nn(vn,Xt,new Float32Array([1,1,1])),Nn(vn,Yt,new Float32Array(3)),Nn(vn,un,new Float32Array(3)),Nn(vn,Ut,new Float32Array(3)),Nn(vn,Lt,.0011070564598794539);let Kt=vn;class jt extends Ft{constructor(fn,Jt,cn){super("Lab",3);Nn(this,kn);if(!fn)throw new wt.FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=fn,[this.amin,this.amax,this.bmin,this.bmax]=cn||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=Jt||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new wt.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,wt.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,wt.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(fn,Jt,cn,pn){In(this,kn,Z9).call(this,fn,Jt,!1,cn,pn)}getRgbBuffer(fn,Jt,cn,pn,wn,En,_n){const Cn=(1<<En)-1;for(let An=0;An<cn;An++)In(this,kn,Z9).call(this,fn,Jt,Cn,pn,wn),Jt+=3,wn+=3+_n}getOutputLength(fn,Jt){return fn*(3+Jt)/3|0}isDefaultDecode(fn,Jt){return!0}get usesZeroToOneRange(){return(0,wt.shadow)(this,"usesZeroToOneRange",!1)}}kn=new WeakSet,$2=function(fn){return fn>=.20689655172413793?fn**3:.12841854934601665*(fn-.13793103448275862)},B2=function(fn,Jt,cn,pn){return cn+fn*(pn-cn)/Jt},Z9=function(fn,Jt,cn,pn,wn){let En=fn[Jt],_n=fn[Jt+1],Cn=fn[Jt+2];cn!==!1&&(En=In(this,kn,B2).call(this,En,cn,0,100),_n=In(this,kn,B2).call(this,_n,cn,this.amin,this.amax),Cn=In(this,kn,B2).call(this,Cn,cn,this.bmin,this.bmax)),_n>this.amax?_n=this.amax:_n<this.amin&&(_n=this.amin),Cn>this.bmax?Cn=this.bmax:Cn<this.bmin&&(Cn=this.bmin);const An=(En+16)/116,Tn=An+_n/500,Mn=An-Cn/200,Rn=this.XW*In(this,kn,$2).call(this,Tn),Ln=this.YW*In(this,kn,$2).call(this,An),Dn=this.ZW*In(this,kn,$2).call(this,Mn);let Un,tr,er;this.ZW<1?(Un=Rn*3.1339+Ln*-1.617+Dn*-.4906,tr=Rn*-.9785+Ln*1.916+Dn*.0333,er=Rn*.072+Ln*-.229+Dn*1.4057):(Un=Rn*3.2406+Ln*-1.5372+Dn*-.4986,tr=Rn*-.9689+Ln*1.8758+Dn*.0415,er=Rn*.0557+Ln*-.204+Dn*1.057),pn[wn]=Math.sqrt(Un)*255,pn[wn+1]=Math.sqrt(tr)*255,pn[wn+2]=Math.sqrt(er)*255}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PartialEvaluator=Ct.EvaluatorPreprocessor=void 0;var wt=Pt(2),kt=Pt(14),Rt=Pt(4),ht=Pt(34),vt=Pt(37),Ft=Pt(41),Ht=Pt(50),qt=Pt(51),Nt=Pt(42),$t=Pt(57),Mt=Pt(16),Bt=Pt(59),_t=Pt(8),Kt=Pt(5),jt=Pt(60),Gt=Pt(12),Qt=Pt(18),ln=Pt(38),en=Pt(61),gn=Pt(39),tn=Pt(45),bn=Pt(40),Xt=Pt(62),Yt=Pt(63),un=Pt(64),Ut=Pt(65);const Lt=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),Vt={TILING:1,SHADING:2},an=10,zt=Promise.resolve();function Wt(On,Pn=!1){if(Array.isArray(On)){for(const Sn of On){const mn=Wt(Sn,!0);if(mn)return mn}return(0,wt.warn)(`Unsupported blend mode Array: ${On}`),"source-over"}if(!(On instanceof Rt.Name))return Pn?null:"source-over";switch(On.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return Pn?null:((0,wt.warn)(`Unsupported blend mode: ${On.name}`),"source-over")}function nn(On){var Pn;On.fn===wt.OPS.paintImageMaskXObject&&((Pn=On.args[0])==null?void 0:Pn.count)>0&&On.args[0].count++}const kn=class kn{constructor(){this.reset()}check(){return++this.checked<kn.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+kn.TIME_SLOT_DURATION_MS,this.checked=0}};Ur(kn,"TIME_SLOT_DURATION_MS",20),Ur(kn,"CHECK_TIME_EVERY",100);let dn=kn;class on{constructor({xref:Pn,handler:Sn,pageIndex:mn,idFactory:fn,fontCache:Jt,builtInCMapCache:cn,standardFontDataCache:pn,globalImageCache:wn,systemFontCache:En,options:_n=null}){this.xref=Pn,this.handler=Sn,this.pageIndex=mn,this.idFactory=fn,this.fontCache=Jt,this.builtInCMapCache=cn,this.standardFontDataCache=pn,this.globalImageCache=wn,this.systemFontCache=En,this.options=_n||Lt,this.parsingType3Font=!1,this._regionalImageCache=new Bt.RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),Xt.ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const Pn=new $t.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,wt.shadow)(this,"_pdfFunctionFactory",Pn)}clone(Pn=null){const Sn=Object.create(this);return Sn.options=Object.assign(Object.create(null),this.options,Pn),Sn}hasBlendModes(Pn,Sn){if(!(Pn instanceof Rt.Dict)||Pn.objId&&Sn.has(Pn.objId))return!1;const mn=new Rt.RefSet(Sn);Pn.objId&&mn.put(Pn.objId);const fn=[Pn],Jt=this.xref;for(;fn.length;){const cn=fn.shift(),pn=cn.get("ExtGState");if(pn instanceof Rt.Dict)for(let En of pn.getRawValues()){if(En instanceof Rt.Ref){if(mn.has(En))continue;try{En=Jt.fetch(En)}catch(Cn){mn.put(En),(0,wt.info)(`hasBlendModes - ignoring ExtGState: "${Cn}".`);continue}}if(!(En instanceof Rt.Dict))continue;En.objId&&mn.put(En.objId);const _n=En.get("BM");if(_n instanceof Rt.Name){if(_n.name!=="Normal")return!0;continue}if(_n!==void 0&&Array.isArray(_n)){for(const Cn of _n)if(Cn instanceof Rt.Name&&Cn.name!=="Normal")return!0}}const wn=cn.get("XObject");if(wn instanceof Rt.Dict)for(let En of wn.getRawValues()){if(En instanceof Rt.Ref){if(mn.has(En))continue;try{En=Jt.fetch(En)}catch(Cn){mn.put(En),(0,wt.info)(`hasBlendModes - ignoring XObject: "${Cn}".`);continue}}if(!(En instanceof Kt.BaseStream))continue;En.dict.objId&&mn.put(En.dict.objId);const _n=En.dict.get("Resources");_n instanceof Rt.Dict&&(_n.objId&&mn.has(_n.objId)||(fn.push(_n),_n.objId&&mn.put(_n.objId)))}}for(const cn of mn)Sn.put(cn);return!1}async fetchBuiltInCMap(Pn){const Sn=this.builtInCMapCache.get(Pn);if(Sn)return Sn;let mn;if(this.options.cMapUrl!==null){const fn=`${this.options.cMapUrl}${Pn}.bcmap`,Jt=await fetch(fn);if(!Jt.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${fn}" with "${Jt.statusText}".`);mn={cMapData:new Uint8Array(await Jt.arrayBuffer()),compressionType:wt.CMapCompressionType.BINARY}}else mn=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:Pn});return mn.compressionType!==wt.CMapCompressionType.NONE&&this.builtInCMapCache.set(Pn,mn),mn}async fetchStandardFontData(Pn){const Sn=this.standardFontDataCache.get(Pn);if(Sn)return new _t.Stream(Sn);if(this.options.useSystemFonts&&Pn!=="Symbol"&&Pn!=="ZapfDingbats")return null;const mn=(0,Ft.getFontNameToFileMap)(),fn=mn[Pn];let Jt;if(this.options.standardFontDataUrl!==null){const cn=`${this.options.standardFontDataUrl}${fn}`,pn=await fetch(cn);pn.ok?Jt=await pn.arrayBuffer():(0,wt.warn)(`fetchStandardFontData: failed to fetch file "${cn}" with "${pn.statusText}".`)}else try{Jt=await this.handler.sendWithPromise("FetchStandardFontData",{filename:fn})}catch(cn){(0,wt.warn)(`fetchStandardFontData: failed to fetch file "${fn}" with "${cn}".`)}return Jt?(this.standardFontDataCache.set(Pn,Jt),new _t.Stream(Jt)):null}async buildFormXObject(Pn,Sn,mn,fn,Jt,cn,pn){const wn=Sn.dict,En=wn.getArray("Matrix");let _n=wn.getArray("BBox");_n=Array.isArray(_n)&&_n.length===4?wt.Util.normalizeRect(_n):null;let Cn,An;wn.has("OC")&&(Cn=await this.parseMarkedContentProps(wn.get("OC"),Pn)),Cn!==void 0&&fn.addOp(wt.OPS.beginMarkedContentProps,["OC",Cn]);const Tn=wn.get("Group");if(Tn){An={matrix:En,bbox:_n,smask:mn,isolated:!1,knockout:!1};const Rn=Tn.get("S");let Ln=null;if((0,Rt.isName)(Rn,"Transparency")&&(An.isolated=Tn.get("I")||!1,An.knockout=Tn.get("K")||!1,Tn.has("CS"))){const Dn=Tn.getRaw("CS"),Un=Gt.ColorSpace.getCached(Dn,this.xref,pn);Un?Ln=Un:Ln=await this.parseColorSpace({cs:Dn,resources:Pn,localColorSpaceCache:pn})}mn!=null&&mn.backdrop&&(Ln||(Ln=Gt.ColorSpace.singletons.rgb),mn.backdrop=Ln.getRgb(mn.backdrop,0)),fn.addOp(wt.OPS.beginGroup,[An])}const Mn=Tn?[En,null]:[En,_n];return fn.addOp(wt.OPS.paintFormXObjectBegin,Mn),this.getOperatorList({stream:Sn,task:Jt,resources:wn.get("Resources")||Pn,operatorList:fn,initialState:cn}).then(function(){fn.addOp(wt.OPS.paintFormXObjectEnd,[]),Tn&&fn.addOp(wt.OPS.endGroup,[An]),Cn!==void 0&&fn.addOp(wt.OPS.endMarkedContent,[])})}_sendImgData(Pn,Sn,mn=!1){const fn=Sn?[Sn.bitmap||Sn.data.buffer]:null;return this.parsingType3Font||mn?this.handler.send("commonobj",[Pn,"Image",Sn],fn):this.handler.send("obj",[Pn,this.pageIndex,"Image",Sn],fn)}async buildPaintImageXObject({resources:Pn,image:Sn,isInline:mn=!1,operatorList:fn,cacheKey:Jt,localImageCache:cn,localColorSpaceCache:pn}){const wn=Sn.dict,En=wn.objId,_n=wn.get("W","Width"),Cn=wn.get("H","Height");if(!(_n&&typeof _n=="number")||!(Cn&&typeof Cn=="number")){(0,wt.warn)("Image dimensions are missing, or not numbers.");return}const An=this.options.maxImageSize;if(An!==-1&&_n*Cn>An){const er="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,wt.warn)(er);return}throw new Error(er)}let Tn;wn.has("OC")&&(Tn=await this.parseMarkedContentProps(wn.get("OC"),Pn));const Mn=wn.get("IM","ImageMask")||!1;let Rn,Ln;if(Mn){const er=wn.get("I","Interpolate"),Qn=_n+7>>3,Yn=Sn.getBytes(Qn*Cn),zn=wn.getArray("D","Decode");if(this.parsingType3Font){if(Rn=Ut.PDFImage.createRawMask({imgArray:Yn,width:_n,height:Cn,imageIsFromDecodeStream:Sn instanceof Qt.DecodeStream,inverseDecode:(zn==null?void 0:zn[0])>0,interpolate:er}),Rn.cached=!!Jt,Ln=[Rn],fn.addImageOps(wt.OPS.paintImageMaskXObject,Ln,Tn),Jt){const lr={fn:wt.OPS.paintImageMaskXObject,args:Ln,optionalContent:Tn};cn.set(Jt,En,lr),En&&this._regionalImageCache.set(null,En,lr)}return}if(Rn=await Ut.PDFImage.createMask({imgArray:Yn,width:_n,height:Cn,imageIsFromDecodeStream:Sn instanceof Qt.DecodeStream,inverseDecode:(zn==null?void 0:zn[0])>0,interpolate:er,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),Rn.isSingleOpaquePixel){if(fn.addImageOps(wt.OPS.paintSolidColorImageMask,[],Tn),Jt){const lr={fn:wt.OPS.paintSolidColorImageMask,args:[],optionalContent:Tn};cn.set(Jt,En,lr),En&&this._regionalImageCache.set(null,En,lr)}return}const nr=`mask_${this.idFactory.createObjId()}`;if(fn.addDependency(nr),this._sendImgData(nr,Rn),Ln=[{data:nr,width:Rn.width,height:Rn.height,interpolate:Rn.interpolate,count:1}],fn.addImageOps(wt.OPS.paintImageMaskXObject,Ln,Tn),Jt){const lr={fn:wt.OPS.paintImageMaskXObject,args:Ln,optionalContent:Tn};cn.set(Jt,En,lr),En&&this._regionalImageCache.set(null,En,lr)}return}if(mn&&!wn.has("SMask")&&!wn.has("Mask")&&_n+Cn<200){Rn=await new Ut.PDFImage({xref:this.xref,res:Pn,image:Sn,isInline:mn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:pn}).createImageData(!0,!1),fn.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,fn.addImageOps(wt.OPS.paintInlineImageXObject,[Rn],Tn);return}let Un=`img_${this.idFactory.createObjId()}`,tr=!1;if(this.parsingType3Font?Un=`${this.idFactory.getDocId()}_type3_${Un}`:En&&(tr=this.globalImageCache.shouldCache(En,this.pageIndex),tr&&(Un=`${this.idFactory.getDocId()}_${Un}`)),fn.addDependency(Un),Ln=[Un,_n,Cn],Ut.PDFImage.buildImage({xref:this.xref,res:Pn,image:Sn,isInline:mn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:pn}).then(async er=>{if(Rn=await er.createImageData(!1,this.options.isOffscreenCanvasSupported),Jt&&En&&tr){const Qn=Rn.bitmap?Rn.width*Rn.height*4:Rn.data.length;this.globalImageCache.addByteSize(En,Qn)}return this._sendImgData(Un,Rn,tr)}).catch(er=>((0,wt.warn)(`Unable to decode image "${Un}": "${er}".`),this._sendImgData(Un,null,tr))),fn.addImageOps(wt.OPS.paintImageXObject,Ln,Tn),Jt){const er={fn:wt.OPS.paintImageXObject,args:Ln,optionalContent:Tn};cn.set(Jt,En,er),En&&(this._regionalImageCache.set(null,En,er),tr&&((0,wt.assert)(!mn,"Cannot cache an inline image globally."),this.globalImageCache.setData(En,{objId:Un,fn:wt.OPS.paintImageXObject,args:Ln,optionalContent:Tn,byteSize:0})))}}handleSMask(Pn,Sn,mn,fn,Jt,cn){const pn=Pn.get("G"),wn={subtype:Pn.get("S").name,backdrop:Pn.get("BC")},En=Pn.get("TR");if((0,$t.isPDFFunction)(En)){const _n=this._pdfFunctionFactory.create(En),Cn=new Uint8Array(256),An=new Float32Array(1);for(let Tn=0;Tn<256;Tn++)An[0]=Tn/255,_n(An,0,An,0),Cn[Tn]=An[0]*255|0;wn.transferMap=Cn}return this.buildFormXObject(Sn,pn,wn,mn,fn,Jt.state.clone(),cn)}handleTransferFunction(Pn){let Sn;if(Array.isArray(Pn))Sn=Pn;else if((0,$t.isPDFFunction)(Pn))Sn=[Pn];else return null;const mn=[];let fn=0,Jt=0;for(const cn of Sn){const pn=this.xref.fetchIfRef(cn);if(fn++,(0,Rt.isName)(pn,"Identity")){mn.push(null);continue}else if(!(0,$t.isPDFFunction)(pn))return null;const wn=this._pdfFunctionFactory.create(pn),En=new Uint8Array(256),_n=new Float32Array(1);for(let Cn=0;Cn<256;Cn++)_n[0]=Cn/255,wn(_n,0,_n,0),En[Cn]=_n[0]*255|0;mn.push(En),Jt++}return!(fn===1||fn===4)||Jt===0?null:mn}handleTilingType(Pn,Sn,mn,fn,Jt,cn,pn,wn){const En=new un.OperatorList,_n=Rt.Dict.merge({xref:this.xref,dictArray:[Jt.get("Resources"),mn]});return this.getOperatorList({stream:fn,task:pn,resources:_n,operatorList:En}).then(function(){const Cn=En.getIR(),An=(0,Ht.getTilingPatternIR)(Cn,Jt,Sn);cn.addDependencies(En.dependencies),cn.addOp(Pn,An),Jt.objId&&wn.set(null,Jt.objId,{operatorListIR:Cn,dict:Jt})}).catch(Cn=>{if(!(Cn instanceof wt.AbortException)){if(this.options.ignoreErrors){(0,wt.warn)(`handleTilingType - ignoring pattern: "${Cn}".`);return}throw Cn}})}handleSetFont(Pn,Sn,mn,fn,Jt,cn,pn=null,wn=null){const En=(Sn==null?void 0:Sn[0])instanceof Rt.Name?Sn[0].name:null;return this.loadFont(En,mn,Pn,pn,wn).then(_n=>_n.font.isType3Font?_n.loadType3Data(this,Pn,Jt).then(function(){return fn.addDependencies(_n.type3Dependencies),_n}).catch(Cn=>new hn({loadedName:"g_font_error",font:new ht.ErrorFont(`Type3 font load error: ${Cn}`),dict:_n.font,evaluatorOptions:this.options})):_n).then(_n=>(cn.font=_n.font,_n.send(this.handler),_n.loadedName))}handleText(Pn,Sn){const mn=Sn.font,fn=mn.charsToGlyphs(Pn);return mn.data&&(Sn.textRenderingMode&wt.TextRenderingMode.ADD_TO_PATH_FLAG||Sn.fillColorSpace.name==="Pattern"||mn.disableFontFace||this.options.disableFontFace)&&on.buildFontPaths(mn,fn,this.handler,this.options),fn}ensureStateFont(Pn){if(Pn.font)return;const Sn=new wt.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){(0,wt.warn)(`ensureStateFont: "${Sn}".`);return}throw Sn}async setGState({resources:Pn,gState:Sn,operatorList:mn,cacheKey:fn,task:Jt,stateManager:cn,localGStateCache:pn,localColorSpaceCache:wn}){const En=Sn.objId;let _n=!0;const Cn=[];let An=Promise.resolve();for(const Tn of Sn.getKeys()){const Mn=Sn.get(Tn);switch(Tn){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":Cn.push([Tn,Mn]);break;case"Font":_n=!1,An=An.then(()=>this.handleSetFont(Pn,null,Mn[0],mn,Jt,cn.state).then(function(Ln){mn.addDependency(Ln),Cn.push([Tn,[Ln,Mn[1]]])}));break;case"BM":Cn.push([Tn,Wt(Mn)]);break;case"SMask":if((0,Rt.isName)(Mn,"None")){Cn.push([Tn,!1]);break}Mn instanceof Rt.Dict?(_n=!1,An=An.then(()=>this.handleSMask(Mn,Pn,mn,Jt,cn,wn)),Cn.push([Tn,!0])):(0,wt.warn)("Unsupported SMask type");break;case"TR":const Rn=this.handleTransferFunction(Mn);Cn.push([Tn,Rn]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,wt.info)("graphic state operator "+Tn);break;default:(0,wt.info)("Unknown graphic state operator "+Tn);break}}return An.then(function(){Cn.length>0&&mn.addOp(wt.OPS.setGState,[Cn]),_n&&pn.set(fn,En,Cn)})}loadFont(Pn,Sn,mn,fn=null,Jt=null){const cn=async()=>new hn({loadedName:"g_font_error",font:new ht.ErrorFont(`Font "${Pn}" is not available.`),dict:Sn,evaluatorOptions:this.options});let pn;if(Sn)Sn instanceof Rt.Ref&&(pn=Sn);else{const Mn=mn.get("Font");Mn&&(pn=Mn.getRaw(Pn))}if(pn){if(this.parsingType3Font&&this.type3FontRefs.has(pn))return cn();if(this.fontCache.has(pn))return this.fontCache.get(pn);Sn=this.xref.fetchIfRef(pn)}if(!(Sn instanceof Rt.Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,wt.warn)(`Font "${Pn}" is not available.`),cn();(0,wt.warn)(`Font "${Pn}" is not available -- attempting to fallback to a default font.`),Sn=fn||on.fallbackFontDict}if(Sn.cacheKey&&this.fontCache.has(Sn.cacheKey))return this.fontCache.get(Sn.cacheKey);const wn=new wt.PromiseCapability;let En;try{En=this.preEvaluateFont(Sn),En.cssFontInfo=Jt}catch(Mn){return(0,wt.warn)(`loadFont - preEvaluateFont failed: "${Mn}".`),cn()}const{descriptor:_n,hash:Cn}=En,An=pn instanceof Rt.Ref;let Tn;if(Cn&&_n instanceof Rt.Dict){const Mn=_n.fontAliases||(_n.fontAliases=Object.create(null));if(Mn[Cn]){const Rn=Mn[Cn].aliasRef;if(An&&Rn&&this.fontCache.has(Rn))return this.fontCache.putAlias(pn,Rn),this.fontCache.get(pn)}else Mn[Cn]={fontID:this.idFactory.createFontId()};An&&(Mn[Cn].aliasRef=pn),Tn=Mn[Cn].fontID}else Tn=this.idFactory.createFontId();return(0,wt.assert)(Tn==null?void 0:Tn.startsWith("f"),'The "fontID" must be (correctly) defined.'),An?this.fontCache.put(pn,wn.promise):(Sn.cacheKey=`cacheKey_${Tn}`,this.fontCache.put(Sn.cacheKey,wn.promise)),Sn.loadedName=`${this.idFactory.getDocId()}_${Tn}`,this.translateFont(En).then(Mn=>{wn.resolve(new hn({loadedName:Sn.loadedName,font:Mn,dict:Sn,evaluatorOptions:this.options}))}).catch(Mn=>{(0,wt.warn)(`loadFont - translateFont failed: "${Mn}".`),wn.resolve(new hn({loadedName:Sn.loadedName,font:new ht.ErrorFont(Mn instanceof Error?Mn.message:Mn),dict:Sn,evaluatorOptions:this.options}))}),wn.promise}buildPath(Pn,Sn,mn,fn=!1){const Jt=Pn.length-1;if(mn||(mn=[]),Jt<0||Pn.fnArray[Jt]!==wt.OPS.constructPath){fn&&((0,wt.warn)(`Encountered path operator "${Sn}" inside of a text object.`),Pn.addOp(wt.OPS.save,null));let cn;switch(Sn){case wt.OPS.rectangle:const pn=mn[0]+mn[2],wn=mn[1]+mn[3];cn=[Math.min(mn[0],pn),Math.max(mn[0],pn),Math.min(mn[1],wn),Math.max(mn[1],wn)];break;case wt.OPS.moveTo:case wt.OPS.lineTo:cn=[mn[0],mn[0],mn[1],mn[1]];break;default:cn=[1/0,-1/0,1/0,-1/0];break}Pn.addOp(wt.OPS.constructPath,[[Sn],mn,cn]),fn&&Pn.addOp(wt.OPS.restore,null)}else{const cn=Pn.argsArray[Jt];cn[0].push(Sn),cn[1].push(...mn);const pn=cn[2];switch(Sn){case wt.OPS.rectangle:const wn=mn[0]+mn[2],En=mn[1]+mn[3];pn[0]=Math.min(pn[0],mn[0],wn),pn[1]=Math.max(pn[1],mn[0],wn),pn[2]=Math.min(pn[2],mn[1],En),pn[3]=Math.max(pn[3],mn[1],En);break;case wt.OPS.moveTo:case wt.OPS.lineTo:pn[0]=Math.min(pn[0],mn[0]),pn[1]=Math.max(pn[1],mn[0]),pn[2]=Math.min(pn[2],mn[1]),pn[3]=Math.max(pn[3],mn[1]);break}}}parseColorSpace({cs:Pn,resources:Sn,localColorSpaceCache:mn}){return Gt.ColorSpace.parseAsync({cs:Pn,xref:this.xref,resources:Sn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:mn}).catch(fn=>{if(fn instanceof wt.AbortException)return null;if(this.options.ignoreErrors)return(0,wt.warn)(`parseColorSpace - ignoring ColorSpace: "${fn}".`),null;throw fn})}parseShading({shading:Pn,resources:Sn,localColorSpaceCache:mn,localShadingPatternCache:fn}){let Jt=fn.get(Pn);if(!Jt){var cn=Ht.Pattern.parseShading(Pn,this.xref,Sn,this._pdfFunctionFactory,mn);const pn=cn.getIR();Jt=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(Jt=`${this.idFactory.getDocId()}_type3_${Jt}`),fn.set(Pn,Jt),this.parsingType3Font?this.handler.send("commonobj",[Jt,"Pattern",pn]):this.handler.send("obj",[Jt,this.pageIndex,"Pattern",pn])}return Jt}handleColorN(Pn,Sn,mn,fn,Jt,cn,pn,wn,En,_n){const Cn=mn.pop();if(Cn instanceof Rt.Name){const An=Jt.getRaw(Cn.name),Tn=An instanceof Rt.Ref&&En.getByRef(An);if(Tn)try{const Rn=fn.base?fn.base.getRgb(mn,0):null,Ln=(0,Ht.getTilingPatternIR)(Tn.operatorListIR,Tn.dict,Rn);Pn.addOp(Sn,Ln);return}catch{}const Mn=this.xref.fetchIfRef(An);if(Mn){const Rn=Mn instanceof Kt.BaseStream?Mn.dict:Mn,Ln=Rn.get("PatternType");if(Ln===Vt.TILING){const Dn=fn.base?fn.base.getRgb(mn,0):null;return this.handleTilingType(Sn,Dn,cn,Mn,Rn,Pn,pn,En)}else if(Ln===Vt.SHADING){const Dn=Rn.get("Shading"),Un=Rn.getArray("Matrix"),tr=this.parseShading({shading:Dn,resources:cn,localColorSpaceCache:wn,localShadingPatternCache:_n});Pn.addOp(Sn,["Shading",tr,Un]);return}throw new wt.FormatError(`Unknown PatternType: ${Ln}`)}}throw new wt.FormatError(`Unknown PatternName: ${Cn}`)}_parseVisibilityExpression(Pn,Sn,mn){if(++Sn>10){(0,wt.warn)("Visibility expression is too deeply nested");return}const Jt=Pn.length,cn=this.xref.fetchIfRef(Pn[0]);if(Jt<2||!(cn instanceof Rt.Name)){(0,wt.warn)("Invalid visibility expression");return}switch(cn.name){case"And":case"Or":case"Not":mn.push(cn.name);break;default:(0,wt.warn)(`Invalid operator ${cn.name} in visibility expression`);return}for(let pn=1;pn<Jt;pn++){const wn=Pn[pn],En=this.xref.fetchIfRef(wn);if(Array.isArray(En)){const _n=[];mn.push(_n),this._parseVisibilityExpression(En,Sn,_n)}else wn instanceof Rt.Ref&&mn.push(wn.toString())}}async parseMarkedContentProps(Pn,Sn){var Jt;let mn;if(Pn instanceof Rt.Name)mn=Sn.get("Properties").get(Pn.name);else if(Pn instanceof Rt.Dict)mn=Pn;else throw new wt.FormatError("Optional content properties malformed.");const fn=(Jt=mn.get("Type"))==null?void 0:Jt.name;if(fn==="OCG")return{type:fn,id:mn.objId};if(fn==="OCMD"){const cn=mn.get("VE");if(Array.isArray(cn)){const wn=[];if(this._parseVisibilityExpression(cn,0,wn),wn.length>0)return{type:"OCMD",expression:wn}}const pn=mn.get("OCGs");if(Array.isArray(pn)||pn instanceof Rt.Dict){const wn=[];if(Array.isArray(pn))for(const En of pn)wn.push(En.toString());else wn.push(pn.objId);return{type:fn,ids:wn,policy:mn.get("P")instanceof Rt.Name?mn.get("P").name:null,expression:null}}else if(pn instanceof Rt.Ref)return{type:fn,id:pn.toString()}}return null}getOperatorList({stream:Pn,task:Sn,resources:mn,operatorList:fn,initialState:Jt=null,fallbackFontDict:cn=null}){if(mn||(mn=Rt.Dict.empty),Jt||(Jt=new xn),!fn)throw new Error('getOperatorList: missing "operatorList" parameter');const pn=this,wn=this.xref;let En=!1;const _n=new Bt.LocalImageCache,Cn=new Bt.LocalColorSpaceCache,An=new Bt.LocalGStateCache,Tn=new Bt.LocalTilingPatternCache,Mn=new Map,Rn=mn.get("XObject")||Rt.Dict.empty,Ln=mn.get("Pattern")||Rt.Dict.empty,Dn=new sn(Jt),Un=new vn(Pn,wn,Dn),tr=new dn;function er(Qn){for(let Yn=0,zn=Un.savedStatesDepth;Yn<zn;Yn++)fn.addOp(wt.OPS.restore,[])}return new Promise(function Qn(Yn,zn){const nr=function(or){Promise.all([or,fn.ready]).then(function(){try{Qn(Yn,zn)}catch(pr){zn(pr)}},zn)};Sn.ensureNotTerminated(),tr.reset();const lr={};let dr,jn,Hn,Xn,cr,sr;for(;!(dr=tr.check())&&(lr.args=null,!!Un.read(lr));){let or=lr.args,pr=lr.fn;switch(pr|0){case wt.OPS.paintXObject:if(sr=or[0]instanceof Rt.Name,cr=or[0].name,sr){const fr=_n.getByName(cr);if(fr){fn.addImageOps(fr.fn,fr.args,fr.optionalContent),nn(fr),or=null;continue}}nr(new Promise(function(fr,Ar){if(!sr)throw new wt.FormatError("XObject must be referred to by name.");let Dr=Rn.getRaw(cr);if(Dr instanceof Rt.Ref){const $r=_n.getByRef(Dr)||pn._regionalImageCache.getByRef(Dr);if($r){fn.addImageOps($r.fn,$r.args,$r.optionalContent),nn($r),fr();return}const Cr=pn.globalImageCache.getData(Dr,pn.pageIndex);if(Cr){fn.addDependency(Cr.objId),fn.addImageOps(Cr.fn,Cr.args,Cr.optionalContent),fr();return}Dr=wn.fetch(Dr)}if(!(Dr instanceof Kt.BaseStream))throw new wt.FormatError("XObject should be a stream");const Fr=Dr.dict.get("Subtype");if(!(Fr instanceof Rt.Name))throw new wt.FormatError("XObject should have a Name subtype");if(Fr.name==="Form"){Dn.save(),pn.buildFormXObject(mn,Dr,null,fn,Sn,Dn.state.clone(),Cn).then(function(){Dn.restore(),fr()},Ar);return}else if(Fr.name==="Image"){pn.buildPaintImageXObject({resources:mn,image:Dr,operatorList:fn,cacheKey:cr,localImageCache:_n,localColorSpaceCache:Cn}).then(fr,Ar);return}else if(Fr.name==="PS")(0,wt.info)("Ignored XObject subtype PS");else throw new wt.FormatError(`Unhandled XObject subtype ${Fr.name}`);fr()}).catch(function(fr){if(!(fr instanceof wt.AbortException)){if(pn.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring XObject: "${fr}".`);return}throw fr}}));return;case wt.OPS.setFont:var xr=or[1];nr(pn.handleSetFont(mn,or,null,fn,Sn,Dn.state,cn).then(function(fr){fn.addDependency(fr),fn.addOp(wt.OPS.setFont,[fr,xr])}));return;case wt.OPS.beginText:En=!0;break;case wt.OPS.endText:En=!1;break;case wt.OPS.endInlineImage:var Jn=or[0].cacheKey;if(Jn){const fr=_n.getByName(Jn);if(fr){fn.addImageOps(fr.fn,fr.args,fr.optionalContent),nn(fr),or=null;continue}}nr(pn.buildPaintImageXObject({resources:mn,image:or[0],isInline:!0,operatorList:fn,cacheKey:Jn,localImageCache:_n,localColorSpaceCache:Cn}));return;case wt.OPS.showText:if(!Dn.state.font){pn.ensureStateFont(Dn.state);continue}or[0]=pn.handleText(or[0],Dn.state);break;case wt.OPS.showSpacedText:if(!Dn.state.font){pn.ensureStateFont(Dn.state);continue}var Wn=[],Zn=Dn.state;for(const fr of or[0])typeof fr=="string"?Wn.push(...pn.handleText(fr,Zn)):typeof fr=="number"&&Wn.push(fr);or[0]=Wn,pr=wt.OPS.showText;break;case wt.OPS.nextLineShowText:if(!Dn.state.font){pn.ensureStateFont(Dn.state);continue}fn.addOp(wt.OPS.nextLine),or[0]=pn.handleText(or[0],Dn.state),pr=wt.OPS.showText;break;case wt.OPS.nextLineSetSpacingShowText:if(!Dn.state.font){pn.ensureStateFont(Dn.state);continue}fn.addOp(wt.OPS.nextLine),fn.addOp(wt.OPS.setWordSpacing,[or.shift()]),fn.addOp(wt.OPS.setCharSpacing,[or.shift()]),or[0]=pn.handleText(or[0],Dn.state),pr=wt.OPS.showText;break;case wt.OPS.setTextRenderingMode:Dn.state.textRenderingMode=or[0];break;case wt.OPS.setFillColorSpace:{const fr=Gt.ColorSpace.getCached(or[0],wn,Cn);if(fr){Dn.state.fillColorSpace=fr;continue}nr(pn.parseColorSpace({cs:or[0],resources:mn,localColorSpaceCache:Cn}).then(function(Ar){Ar&&(Dn.state.fillColorSpace=Ar)}));return}case wt.OPS.setStrokeColorSpace:{const fr=Gt.ColorSpace.getCached(or[0],wn,Cn);if(fr){Dn.state.strokeColorSpace=fr;continue}nr(pn.parseColorSpace({cs:or[0],resources:mn,localColorSpaceCache:Cn}).then(function(Ar){Ar&&(Dn.state.strokeColorSpace=Ar)}));return}case wt.OPS.setFillColor:Xn=Dn.state.fillColorSpace,or=Xn.getRgb(or,0),pr=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeColor:Xn=Dn.state.strokeColorSpace,or=Xn.getRgb(or,0),pr=wt.OPS.setStrokeRGBColor;break;case wt.OPS.setFillGray:Dn.state.fillColorSpace=Gt.ColorSpace.singletons.gray,or=Gt.ColorSpace.singletons.gray.getRgb(or,0),pr=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeGray:Dn.state.strokeColorSpace=Gt.ColorSpace.singletons.gray,or=Gt.ColorSpace.singletons.gray.getRgb(or,0),pr=wt.OPS.setStrokeRGBColor;break;case wt.OPS.setFillCMYKColor:Dn.state.fillColorSpace=Gt.ColorSpace.singletons.cmyk,or=Gt.ColorSpace.singletons.cmyk.getRgb(or,0),pr=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeCMYKColor:Dn.state.strokeColorSpace=Gt.ColorSpace.singletons.cmyk,or=Gt.ColorSpace.singletons.cmyk.getRgb(or,0),pr=wt.OPS.setStrokeRGBColor;break;case wt.OPS.setFillRGBColor:Dn.state.fillColorSpace=Gt.ColorSpace.singletons.rgb,or=Gt.ColorSpace.singletons.rgb.getRgb(or,0);break;case wt.OPS.setStrokeRGBColor:Dn.state.strokeColorSpace=Gt.ColorSpace.singletons.rgb,or=Gt.ColorSpace.singletons.rgb.getRgb(or,0);break;case wt.OPS.setFillColorN:if(Xn=Dn.state.fillColorSpace,Xn.name==="Pattern"){nr(pn.handleColorN(fn,wt.OPS.setFillColorN,or,Xn,Ln,mn,Sn,Cn,Tn,Mn));return}or=Xn.getRgb(or,0),pr=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeColorN:if(Xn=Dn.state.strokeColorSpace,Xn.name==="Pattern"){nr(pn.handleColorN(fn,wt.OPS.setStrokeColorN,or,Xn,Ln,mn,Sn,Cn,Tn,Mn));return}or=Xn.getRgb(or,0),pr=wt.OPS.setStrokeRGBColor;break;case wt.OPS.shadingFill:var ur=mn.get("Shading");if(!ur)throw new wt.FormatError("No shading resource found");var hr=ur.get(or[0].name);if(!hr)throw new wt.FormatError("No shading object found");or=[pn.parseShading({shading:hr,resources:mn,localColorSpaceCache:Cn,localShadingPatternCache:Mn})],pr=wt.OPS.shadingFill;break;case wt.OPS.setGState:if(sr=or[0]instanceof Rt.Name,cr=or[0].name,sr){const fr=An.getByName(cr);if(fr){fr.length>0&&fn.addOp(wt.OPS.setGState,[fr]),or=null;continue}}nr(new Promise(function(fr,Ar){if(!sr)throw new wt.FormatError("GState must be referred to by name.");const Dr=mn.get("ExtGState");if(!(Dr instanceof Rt.Dict))throw new wt.FormatError("ExtGState should be a dictionary.");const Fr=Dr.get(cr);if(!(Fr instanceof Rt.Dict))throw new wt.FormatError("GState should be a dictionary.");pn.setGState({resources:mn,gState:Fr,operatorList:fn,cacheKey:cr,task:Sn,stateManager:Dn,localGStateCache:An,localColorSpaceCache:Cn}).then(fr,Ar)}).catch(function(fr){if(!(fr instanceof wt.AbortException)){if(pn.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring ExtGState: "${fr}".`);return}throw fr}}));return;case wt.OPS.moveTo:case wt.OPS.lineTo:case wt.OPS.curveTo:case wt.OPS.curveTo2:case wt.OPS.curveTo3:case wt.OPS.closePath:case wt.OPS.rectangle:pn.buildPath(fn,pr,or,En);continue;case wt.OPS.markPoint:case wt.OPS.markPointProps:case wt.OPS.beginCompat:case wt.OPS.endCompat:continue;case wt.OPS.beginMarkedContentProps:if(!(or[0]instanceof Rt.Name)){(0,wt.warn)(`Expected name for beginMarkedContentProps arg0=${or[0]}`);continue}if(or[0].name==="OC"){nr(pn.parseMarkedContentProps(or[1],mn).then(fr=>{fn.addOp(wt.OPS.beginMarkedContentProps,["OC",fr])}).catch(fr=>{if(!(fr instanceof wt.AbortException)){if(pn.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${fr}".`);return}throw fr}}));return}or=[or[0].name,or[1]instanceof Rt.Dict?or[1].get("MCID"):null];break;case wt.OPS.beginMarkedContent:case wt.OPS.endMarkedContent:default:if(or!==null){for(jn=0,Hn=or.length;jn<Hn&&!(or[jn]instanceof Rt.Dict);jn++);if(jn<Hn){(0,wt.warn)("getOperatorList - ignoring operator: "+pr);continue}}}fn.addOp(pr,or)}if(dr){nr(zt);return}er(),Yn()}).catch(Qn=>{if(!(Qn instanceof wt.AbortException)){if(this.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring errors during "${Sn.name}" task: "${Qn}".`),er();return}throw Qn}})}getTextContent({stream:Pn,task:Sn,resources:mn,stateManager:fn=null,includeMarkedContent:Jt=!1,sink:cn,seenStyles:pn=new Set,viewBox:wn,markedContentData:En=null,disableNormalization:_n=!1}){mn||(mn=Rt.Dict.empty),fn||(fn=new sn(new rn)),Jt&&(En||(En={level:0}));const Cn={items:[],styles:Object.create(null)},An={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},Tn=[" "," "];let Mn=0;function Rn(Cr){const Pr=(Mn+1)%2,_r=Tn[Mn]!==" "&&Tn[Pr]===" ";return Tn[Mn]=Cr,Mn=Pr,_r}function Ln(){return Tn[Mn]!==" "&&Tn[(Mn+1)%2]===" "}function Dn(){Tn[0]=Tn[1]=" ",Mn=0}const Un=.102,tr=.03,er=-.2,Qn=.102,Yn=.6,zn=.25,nr=this,lr=this.xref,dr=[];let jn=null;const Hn=new Bt.LocalImageCache,Xn=new Bt.LocalGStateCache,cr=new vn(Pn,lr,fn);let sr;function xr({width:Cr=0,height:Pr=0,transform:_r=An.prevTransform,fontName:qr=An.fontName}){Cn.items.push({str:" ",dir:"ltr",width:Cr,height:Pr,transform:_r,fontName:qr,hasEOL:!1})}function Jn(){const Cr=sr.font,Pr=[sr.fontSize*sr.textHScale,0,0,sr.fontSize,0,sr.textRise];if(Cr.isType3Font&&(sr.fontSize<=1||Cr.isCharBBox)&&!(0,wt.isArrayEqual)(sr.fontMatrix,wt.FONT_IDENTITY_MATRIX)){const _r=Cr.bbox[3]-Cr.bbox[1];_r>0&&(Pr[3]*=_r*sr.fontMatrix[3])}return wt.Util.transform(sr.ctm,wt.Util.transform(sr.textMatrix,Pr))}function Wn(){if(An.initialized)return An;const{font:Cr,loadedName:Pr}=sr;pn.has(Pr)||(pn.add(Pr),Cn.styles[Pr]={fontFamily:Cr.fallbackName,ascent:Cr.ascent,descent:Cr.descent,vertical:Cr.vertical}),An.fontName=Pr;const _r=An.transform=Jn();Cr.vertical?(An.width=An.totalWidth=Math.hypot(_r[0],_r[1]),An.height=An.totalHeight=0,An.vertical=!0):(An.width=An.totalWidth=0,An.height=An.totalHeight=Math.hypot(_r[2],_r[3]),An.vertical=!1);const qr=Math.hypot(sr.textLineMatrix[0],sr.textLineMatrix[1]),vs=Math.hypot(sr.ctm[0],sr.ctm[1]);An.textAdvanceScale=vs*qr;const{fontSize:ls}=sr;return An.trackingSpaceMin=ls*Un,An.notASpace=ls*tr,An.negativeSpaceMax=ls*er,An.spaceInFlowMin=ls*Qn,An.spaceInFlowMax=ls*Yn,An.hasEOL=!1,An.initialized=!0,An}function Zn(){if(!An.initialized)return;const Cr=Math.hypot(sr.textLineMatrix[0],sr.textLineMatrix[1]),_r=Math.hypot(sr.ctm[0],sr.ctm[1])*Cr;_r!==An.textAdvanceScale&&(An.vertical?(An.totalHeight+=An.height*An.textAdvanceScale,An.height=0):(An.totalWidth+=An.width*An.textAdvanceScale,An.width=0),An.textAdvanceScale=_r)}function ur(Cr){let Pr=Cr.str.join("");_n||(Pr=(0,wt.normalizeUnicode)(Pr));const _r=(0,jt.bidi)(Pr,-1,Cr.vertical);return{str:_r.str,dir:_r.dir,width:Math.abs(Cr.totalWidth),height:Math.abs(Cr.totalHeight),transform:Cr.transform,fontName:Cr.fontName,hasEOL:Cr.hasEOL}}function hr(Cr,Pr){return nr.loadFont(Cr,Pr,mn).then(function(_r){return _r.font.isType3Font?_r.loadType3Data(nr,mn,Sn).catch(function(){}).then(function(){return _r}):_r}).then(function(_r){sr.loadedName=_r.loadedName,sr.font=_r.font,sr.fontMatrix=_r.font.fontMatrix||wt.FONT_IDENTITY_MATRIX})}function or(Cr,Pr,_r){const qr=Math.hypot(_r[0],_r[1]);return[(_r[0]*Cr+_r[1]*Pr)/qr,(_r[2]*Cr+_r[3]*Pr)/qr]}function pr(Cr){var yr;const Pr=Jn();let _r=Pr[4],qr=Pr[5];if((yr=sr.font)!=null&&yr.vertical){if(_r<wn[0]||_r>wn[2]||qr+Cr<wn[1]||qr>wn[3])return!1}else if(_r+Cr<wn[0]||_r>wn[2]||qr<wn[1]||qr>wn[3])return!1;if(!sr.font||!An.prevTransform)return!0;let vs=An.prevTransform[4],ls=An.prevTransform[5];if(vs===_r&&ls===qr)return!0;let ns=-1;switch(Pr[0]&&Pr[1]===0&&Pr[2]===0?ns=Pr[0]>0?0:180:Pr[1]&&Pr[0]===0&&Pr[3]===0&&(ns=Pr[1]>0?90:270),ns){case 0:break;case 90:[_r,qr]=[qr,_r],[vs,ls]=[ls,vs];break;case 180:[_r,qr,vs,ls]=[-_r,-qr,-vs,-ls];break;case 270:[_r,qr]=[-qr,-_r],[vs,ls]=[-ls,-vs];break;default:[_r,qr]=or(_r,qr,Pr),[vs,ls]=or(vs,ls,An.prevTransform)}if(sr.font.vertical){const Sr=(ls-qr)/An.textAdvanceScale,Rr=_r-vs,Br=Math.sign(An.height);return Sr<Br*An.negativeSpaceMax?Math.abs(Rr)>.5*An.width?(fr(),!0):(Dn(),Dr(),!0):Math.abs(Rr)>An.width?(fr(),!0):(Sr<=Br*An.notASpace&&Dn(),Sr<=Br*An.trackingSpaceMin?Ln()?(Dn(),Dr(),xr({height:Math.abs(Sr)})):An.height+=Sr:Ar(Sr,An.prevTransform,Br)||(An.str.length===0?(Dn(),xr({height:Math.abs(Sr)})):An.height+=Sr),Math.abs(Rr)>An.width*zn&&Dr(),!0)}const Ns=(_r-vs)/An.textAdvanceScale,Gs=qr-ls,vr=Math.sign(An.width);return Ns<vr*An.negativeSpaceMax?Math.abs(Gs)>.5*An.height?(fr(),!0):(Dn(),Dr(),!0):Math.abs(Gs)>An.height?(fr(),!0):(Ns<=vr*An.notASpace&&Dn(),Ns<=vr*An.trackingSpaceMin?Ln()?(Dn(),Dr(),xr({width:Math.abs(Ns)})):An.width+=Ns:Ar(Ns,An.prevTransform,vr)||(An.str.length===0?(Dn(),xr({width:Math.abs(Ns)})):An.width+=Ns),Math.abs(Gs)>An.height*zn&&Dr(),!0)}function wr({chars:Cr,extraSpacing:Pr}){const _r=sr.font;if(!Cr){const ls=sr.charSpacing+Pr;ls&&(_r.vertical?sr.translateTextMatrix(0,-ls):sr.translateTextMatrix(ls*sr.textHScale,0));return}const qr=_r.charsToGlyphs(Cr),vs=sr.fontMatrix[0]*sr.fontSize;for(let ls=0,ns=qr.length;ls<ns;ls++){const Ns=qr[ls],{category:Gs}=Ns;if(Gs.isInvisibleFormatMark)continue;let vr=sr.charSpacing+(ls+1===ns?Pr:0),yr=Ns.width;_r.vertical&&(yr=Ns.vmetric?Ns.vmetric[0]:-yr);let Sr=yr*vs;if(Gs.isWhitespace){_r.vertical?(vr+=-Sr+sr.wordSpacing,sr.translateTextMatrix(0,-vr)):(vr+=Sr+sr.wordSpacing,sr.translateTextMatrix(vr*sr.textHScale,0)),Rn(" ");continue}if(!Gs.isZeroWidthDiacritic&&!pr(Sr)){_r.vertical?sr.translateTextMatrix(0,Sr):sr.translateTextMatrix(Sr*sr.textHScale,0);continue}const Rr=Wn();Gs.isZeroWidthDiacritic&&(Sr=0),_r.vertical?(sr.translateTextMatrix(0,Sr),Sr=Math.abs(Sr),Rr.height+=Sr):(Sr*=sr.textHScale,sr.translateTextMatrix(Sr,0),Rr.width+=Sr),Sr&&(Rr.prevTransform=Jn());const Br=Ns.unicode;Rn(Br)&&Rr.str.push(" "),Rr.str.push(Br),vr&&(_r.vertical?sr.translateTextMatrix(0,-vr):sr.translateTextMatrix(vr*sr.textHScale,0))}}function fr(){Dn(),An.initialized?(An.hasEOL=!0,Dr()):Cn.items.push({str:"",dir:"ltr",width:0,height:0,transform:Jn(),fontName:sr.loadedName,hasEOL:!0})}function Ar(Cr,Pr,_r){if(_r*An.spaceInFlowMin<=Cr&&Cr<=_r*An.spaceInFlowMax)return An.initialized&&(Dn(),An.str.push(" ")),!1;const qr=An.fontName;let vs=0;return An.vertical&&(vs=Cr,Cr=0),Dr(),Dn(),xr({width:Math.abs(Cr),height:Math.abs(vs),transform:Pr||Jn(),fontName:qr}),!0}function Dr(){!An.initialized||!An.str||(An.vertical?An.totalHeight+=An.height*An.textAdvanceScale:An.totalWidth+=An.width*An.textAdvanceScale,Cn.items.push(ur(An)),An.initialized=!1,An.str.length=0)}function Fr(Cr=!1){const Pr=Cn.items.length;Pr!==0&&(Cr&&Pr<an||(cn.enqueue(Cn,Pr),Cn.items=[],Cn.styles=Object.create(null)))}const $r=new dn;return new Promise(function Cr(Pr,_r){const qr=function(Sr){Fr(!0),Promise.all([Sr,cn.ready]).then(function(){try{Cr(Pr,_r)}catch(Rr){_r(Rr)}},_r)};Sn.ensureNotTerminated(),$r.reset();const vs={};let ls,ns=[];for(;!(ls=$r.check())&&(ns.length=0,vs.args=ns,!!cr.read(vs));){const Sr=sr;sr=fn.state;const Rr=vs.fn;switch(ns=vs.args,Rr|0){case wt.OPS.setFont:var Ns=ns[0].name,Gs=ns[1];if(sr.font&&Ns===sr.fontName&&Gs===sr.fontSize)break;Dr(),sr.fontName=Ns,sr.fontSize=Gs,qr(hr(Ns,null));return;case wt.OPS.setTextRise:sr.textRise=ns[0];break;case wt.OPS.setHScale:sr.textHScale=ns[0]/100;break;case wt.OPS.setLeading:sr.leading=ns[0];break;case wt.OPS.moveText:sr.translateTextLineMatrix(ns[0],ns[1]),sr.textMatrix=sr.textLineMatrix.slice();break;case wt.OPS.setLeadingMoveText:sr.leading=-ns[1],sr.translateTextLineMatrix(ns[0],ns[1]),sr.textMatrix=sr.textLineMatrix.slice();break;case wt.OPS.nextLine:sr.carriageReturn();break;case wt.OPS.setTextMatrix:sr.setTextMatrix(ns[0],ns[1],ns[2],ns[3],ns[4],ns[5]),sr.setTextLineMatrix(ns[0],ns[1],ns[2],ns[3],ns[4],ns[5]),Zn();break;case wt.OPS.setCharSpacing:sr.charSpacing=ns[0];break;case wt.OPS.setWordSpacing:sr.wordSpacing=ns[0];break;case wt.OPS.beginText:sr.textMatrix=wt.IDENTITY_MATRIX.slice(),sr.textLineMatrix=wt.IDENTITY_MATRIX.slice();break;case wt.OPS.showSpacedText:if(!fn.state.font){nr.ensureStateFont(fn.state);continue}const Br=(sr.font.vertical?1:-1)*sr.fontSize/1e3,es=ns[0];for(let Or=0,Tr=es.length;Or<Tr;Or++){const Wr=es[Or];if(typeof Wr=="string")dr.push(Wr);else if(typeof Wr=="number"&&Wr!==0){const us=dr.join("");dr.length=0,wr({chars:us,extraSpacing:Wr*Br})}}if(dr.length>0){const Or=dr.join("");dr.length=0,wr({chars:Or,extraSpacing:0})}break;case wt.OPS.showText:if(!fn.state.font){nr.ensureStateFont(fn.state);continue}wr({chars:ns[0],extraSpacing:0});break;case wt.OPS.nextLineShowText:if(!fn.state.font){nr.ensureStateFont(fn.state);continue}sr.carriageReturn(),wr({chars:ns[0],extraSpacing:0});break;case wt.OPS.nextLineSetSpacingShowText:if(!fn.state.font){nr.ensureStateFont(fn.state);continue}sr.wordSpacing=ns[0],sr.charSpacing=ns[1],sr.carriageReturn(),wr({chars:ns[2],extraSpacing:0});break;case wt.OPS.paintXObject:Dr(),jn||(jn=mn.get("XObject")||Rt.Dict.empty);var vr=ns[0]instanceof Rt.Name,yr=ns[0].name;if(vr&&Hn.getByName(yr))break;qr(new Promise(function(Or,Tr){if(!vr)throw new wt.FormatError("XObject must be referred to by name.");let Wr=jn.getRaw(yr);if(Wr instanceof Rt.Ref){if(Hn.getByRef(Wr)){Or();return}if(nr.globalImageCache.getData(Wr,nr.pageIndex)){Or();return}Wr=lr.fetch(Wr)}if(!(Wr instanceof Kt.BaseStream))throw new wt.FormatError("XObject should be a stream");const us=Wr.dict.get("Subtype");if(!(us instanceof Rt.Name))throw new wt.FormatError("XObject should have a Name subtype");if(us.name!=="Form"){Hn.set(yr,Wr.dict.objId,!0),Or();return}const bs=fn.state.clone(),Jr=new sn(bs),ss=Wr.dict.getArray("Matrix");Array.isArray(ss)&&ss.length===6&&Jr.transform(ss),Fr();const ms={enqueueInvoked:!1,enqueue(Xr,hs){this.enqueueInvoked=!0,cn.enqueue(Xr,hs)},get desiredSize(){return cn.desiredSize},get ready(){return cn.ready}};nr.getTextContent({stream:Wr,task:Sn,resources:Wr.dict.get("Resources")||mn,stateManager:Jr,includeMarkedContent:Jt,sink:ms,seenStyles:pn,viewBox:wn,markedContentData:En,disableNormalization:_n}).then(function(){ms.enqueueInvoked||Hn.set(yr,Wr.dict.objId,!0),Or()},Tr)}).catch(function(Or){if(!(Or instanceof wt.AbortException)){if(nr.options.ignoreErrors){(0,wt.warn)(`getTextContent - ignoring XObject: "${Or}".`);return}throw Or}}));return;case wt.OPS.setGState:if(vr=ns[0]instanceof Rt.Name,yr=ns[0].name,vr&&Xn.getByName(yr))break;qr(new Promise(function(Or,Tr){if(!vr)throw new wt.FormatError("GState must be referred to by name.");const Wr=mn.get("ExtGState");if(!(Wr instanceof Rt.Dict))throw new wt.FormatError("ExtGState should be a dictionary.");const us=Wr.get(yr);if(!(us instanceof Rt.Dict))throw new wt.FormatError("GState should be a dictionary.");const bs=us.get("Font");if(!bs){Xn.set(yr,us.objId,!0),Or();return}Dr(),sr.fontName=null,sr.fontSize=bs[1],hr(null,bs[0]).then(Or,Tr)}).catch(function(Or){if(!(Or instanceof wt.AbortException)){if(nr.options.ignoreErrors){(0,wt.warn)(`getTextContent - ignoring ExtGState: "${Or}".`);return}throw Or}}));return;case wt.OPS.beginMarkedContent:Dr(),Jt&&(En.level++,Cn.items.push({type:"beginMarkedContent",tag:ns[0]instanceof Rt.Name?ns[0].name:null}));break;case wt.OPS.beginMarkedContentProps:if(Dr(),Jt){En.level++;let Or=null;ns[1]instanceof Rt.Dict&&(Or=ns[1].get("MCID")),Cn.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Or)?`${nr.idFactory.getPageObjId()}_mc${Or}`:null,tag:ns[0]instanceof Rt.Name?ns[0].name:null})}break;case wt.OPS.endMarkedContent:if(Dr(),Jt){if(En.level===0)break;En.level--,Cn.items.push({type:"endMarkedContent"})}break;case wt.OPS.restore:Sr&&(Sr.font!==sr.font||Sr.fontSize!==sr.fontSize||Sr.fontName!==sr.fontName)&&Dr();break}if(Cn.items.length>=cn.desiredSize){ls=!0;break}}if(ls){qr(zt);return}Dr(),Fr(),Pr()}).catch(Cr=>{if(!(Cr instanceof wt.AbortException)){if(this.options.ignoreErrors){(0,wt.warn)(`getTextContent - ignoring errors during "${Sn.name}" task: "${Cr}".`),Dr(),Fr();return}throw Cr}})}extractDataStructures(Pn,Sn,mn){const fn=this.xref;let Jt;const cn=this.readToUnicode(mn.toUnicode||Pn.get("ToUnicode")||Sn.get("ToUnicode"));if(mn.composite){const An=Pn.get("CIDSystemInfo");An instanceof Rt.Dict&&(mn.cidSystemInfo={registry:(0,wt.stringToPDFString)(An.get("Registry")),ordering:(0,wt.stringToPDFString)(An.get("Ordering")),supplement:An.get("Supplement")});try{const Tn=Pn.get("CIDToGIDMap");Tn instanceof Kt.BaseStream&&(Jt=Tn.getBytes())}catch(Tn){if(!this.options.ignoreErrors)throw Tn;(0,wt.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${Tn}".`)}}const pn=[];let wn=null,En;if(Pn.has("Encoding")){if(En=Pn.get("Encoding"),En instanceof Rt.Dict){if(wn=En.get("BaseEncoding"),wn=wn instanceof Rt.Name?wn.name:null,En.has("Differences")){const An=En.get("Differences");let Tn=0;for(const Mn of An){const Rn=fn.fetchIfRef(Mn);if(typeof Rn=="number")Tn=Rn;else if(Rn instanceof Rt.Name)pn[Tn++]=Rn.name;else throw new wt.FormatError(`Invalid entry in 'Differences' array: ${Rn}`)}}}else if(En instanceof Rt.Name)wn=En.name;else{const An="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new wt.FormatError(An);(0,wt.warn)(An)}wn!=="MacRomanEncoding"&&wn!=="MacExpertEncoding"&&wn!=="WinAnsiEncoding"&&(wn=null)}const _n=!mn.file||mn.isInternalFont,Cn=(0,Ft.getSymbolsFonts)()[mn.name];if(wn&&_n&&Cn&&(wn=null),wn)mn.defaultEncoding=(0,vt.getEncoding)(wn);else{const An=!!(mn.flags&ln.FontFlags.Symbolic),Tn=!!(mn.flags&ln.FontFlags.Nonsymbolic);En=vt.StandardEncoding,mn.type==="TrueType"&&!Tn&&(En=vt.WinAnsiEncoding),(An||Cn)&&(En=vt.MacRomanEncoding,_n&&(/Symbol/i.test(mn.name)?En=vt.SymbolSetEncoding:/Dingbats/i.test(mn.name)?En=vt.ZapfDingbatsEncoding:/Wingdings/i.test(mn.name)&&(En=vt.WinAnsiEncoding))),mn.defaultEncoding=En}return mn.differences=pn,mn.baseEncodingName=wn,mn.hasEncoding=!!wn||pn.length>0,mn.dict=Pn,cn.then(An=>(mn.toUnicode=An,this.buildToUnicode(mn))).then(An=>(mn.toUnicode=An,Jt&&(mn.cidToGidMap=this.readCidToGidMap(Jt,An)),mn))}_simpleFontToUnicode(Pn,Sn=!1){(0,wt.assert)(!Pn.composite,"Must be a simple font.");const mn=[],fn=Pn.defaultEncoding.slice(),Jt=Pn.baseEncodingName,cn=Pn.differences;for(const wn in cn){const En=cn[wn];En!==".notdef"&&(fn[wn]=En)}const pn=(0,gn.getGlyphsUnicode)();for(const wn in fn){let En=fn[wn];if(En==="")continue;let _n=pn[En];if(_n!==void 0){mn[wn]=String.fromCharCode(_n);continue}let Cn=0;switch(En[0]){case"G":En.length===3&&(Cn=parseInt(En.substring(1),16));break;case"g":En.length===5&&(Cn=parseInt(En.substring(1),16));break;case"C":case"c":if(En.length>=3&&En.length<=4){const An=En.substring(1);if(Sn){Cn=parseInt(An,16);break}if(Cn=+An,Number.isNaN(Cn)&&Number.isInteger(parseInt(An,16)))return this._simpleFontToUnicode(Pn,!0)}break;case"u":_n=(0,bn.getUnicodeForGlyph)(En,pn),_n!==-1&&(Cn=_n);break;default:switch(En){case"f_h":case"f_t":case"T_h":mn[wn]=En.replaceAll("_","");continue}break}if(Cn>0&&Cn<=1114111&&Number.isInteger(Cn)){if(Jt&&Cn===+wn){const An=(0,vt.getEncoding)(Jt);if(An&&(En=An[wn])){mn[wn]=String.fromCharCode(pn[En]);continue}}mn[wn]=String.fromCodePoint(Cn)}}return mn}async buildToUnicode(Pn){var Sn;if(Pn.hasIncludedToUnicodeMap=((Sn=Pn.toUnicode)==null?void 0:Sn.length)>0,Pn.hasIncludedToUnicodeMap)return!Pn.composite&&Pn.hasEncoding&&(Pn.fallbackToUnicode=this._simpleFontToUnicode(Pn)),Pn.toUnicode;if(!Pn.composite)return new Nt.ToUnicodeMap(this._simpleFontToUnicode(Pn));if(Pn.composite&&(Pn.cMap.builtInCMap&&!(Pn.cMap instanceof kt.IdentityCMap)||Pn.cidSystemInfo.registry==="Adobe"&&(Pn.cidSystemInfo.ordering==="GB1"||Pn.cidSystemInfo.ordering==="CNS1"||Pn.cidSystemInfo.ordering==="Japan1"||Pn.cidSystemInfo.ordering==="Korea1"))){const{registry:mn,ordering:fn}=Pn.cidSystemInfo,Jt=Rt.Name.get(`${mn}-${fn}-UCS2`),cn=await kt.CMapFactory.create({encoding:Jt,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),pn=[],wn=[];return Pn.cMap.forEach(function(En,_n){if(_n>65535)throw new wt.FormatError("Max size of CID is 65,535");const Cn=cn.lookup(_n);if(Cn){wn.length=0;for(let An=0,Tn=Cn.length;An<Tn;An+=2)wn.push((Cn.charCodeAt(An)<<8)+Cn.charCodeAt(An+1));pn[En]=String.fromCharCode(...wn)}}),new Nt.ToUnicodeMap(pn)}return new Nt.IdentityToUnicodeMap(Pn.firstChar,Pn.lastChar)}readToUnicode(Pn){return Pn?Pn instanceof Rt.Name?kt.CMapFactory.create({encoding:Pn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Sn){return Sn instanceof kt.IdentityCMap?new Nt.IdentityToUnicodeMap(0,65535):new Nt.ToUnicodeMap(Sn.getMap())}):Pn instanceof Kt.BaseStream?kt.CMapFactory.create({encoding:Pn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Sn){if(Sn instanceof kt.IdentityCMap)return new Nt.IdentityToUnicodeMap(0,65535);const mn=new Array(Sn.length);return Sn.forEach(function(fn,Jt){if(typeof Jt=="number"){mn[fn]=String.fromCodePoint(Jt);return}const cn=[];for(let pn=0;pn<Jt.length;pn+=2){const wn=Jt.charCodeAt(pn)<<8|Jt.charCodeAt(pn+1);if((wn&63488)!==55296){cn.push(wn);continue}pn+=2;const En=Jt.charCodeAt(pn)<<8|Jt.charCodeAt(pn+1);cn.push(((wn&1023)<<10)+(En&1023)+65536)}mn[fn]=String.fromCodePoint(...cn)}),new Nt.ToUnicodeMap(mn)},Sn=>{if(Sn instanceof wt.AbortException)return null;if(this.options.ignoreErrors)return(0,wt.warn)(`readToUnicode - ignoring ToUnicode data: "${Sn}".`),null;throw Sn}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(Pn,Sn){const mn=[];for(let fn=0,Jt=Pn.length;fn<Jt;fn++){const cn=Pn[fn++]<<8|Pn[fn],pn=fn>>1;cn===0&&!Sn.has(pn)||(mn[pn]=cn)}return mn}extractWidths(Pn,Sn,mn){const fn=this.xref;let Jt=[],cn=0;const pn=[];let wn,En,_n,Cn,An,Tn,Mn,Rn;if(mn.composite){if(cn=Pn.has("DW")?Pn.get("DW"):1e3,Rn=Pn.get("W"),Rn)for(En=0,_n=Rn.length;En<_n;En++)if(Tn=fn.fetchIfRef(Rn[En++]),Mn=fn.fetchIfRef(Rn[En]),Array.isArray(Mn))for(Cn=0,An=Mn.length;Cn<An;Cn++)Jt[Tn++]=fn.fetchIfRef(Mn[Cn]);else{const Un=fn.fetchIfRef(Rn[++En]);for(Cn=Tn;Cn<=Mn;Cn++)Jt[Cn]=Un}if(mn.vertical){let Un=Pn.getArray("DW2")||[880,-1e3];if(wn=[Un[1],cn*.5,Un[0]],Un=Pn.get("W2"),Un)for(En=0,_n=Un.length;En<_n;En++)if(Tn=fn.fetchIfRef(Un[En++]),Mn=fn.fetchIfRef(Un[En]),Array.isArray(Mn))for(Cn=0,An=Mn.length;Cn<An;Cn++)pn[Tn++]=[fn.fetchIfRef(Mn[Cn++]),fn.fetchIfRef(Mn[Cn++]),fn.fetchIfRef(Mn[Cn])];else{const tr=[fn.fetchIfRef(Un[++En]),fn.fetchIfRef(Un[++En]),fn.fetchIfRef(Un[++En])];for(Cn=Tn;Cn<=Mn;Cn++)pn[Cn]=tr}}}else{const Un=mn.firstChar;if(Rn=Pn.get("Widths"),Rn){for(Cn=Un,En=0,_n=Rn.length;En<_n;En++)Jt[Cn++]=fn.fetchIfRef(Rn[En]);cn=parseFloat(Sn.get("MissingWidth"))||0}else{const tr=Pn.get("BaseFont");if(tr instanceof Rt.Name){const er=this.getBaseFontMetrics(tr.name);Jt=this.buildCharCodeToWidth(er.widths,mn),cn=er.defaultWidth}}}let Ln=!0,Dn=cn;for(const Un in Jt){const tr=Jt[Un];if(tr){if(!Dn){Dn=tr;continue}if(Dn!==tr){Ln=!1;break}}}Ln?mn.flags|=ln.FontFlags.FixedPitch:mn.flags&=~ln.FontFlags.FixedPitch,mn.defaultWidth=cn,mn.widths=Jt,mn.defaultVMetrics=wn,mn.vmetrics=pn}isSerifFont(Pn){const Sn=Pn.split("-")[0];return Sn in(0,Ft.getSerifFonts)()||/serif/gi.test(Sn)}getBaseFontMetrics(Pn){let Sn=0,mn=Object.create(null),fn=!1,cn=(0,Ft.getStdFontMap)()[Pn]||Pn;const pn=(0,tn.getMetrics)();cn in pn||(cn=this.isSerifFont(Pn)?"Times-Roman":"Helvetica");const wn=pn[cn];return typeof wn=="number"?(Sn=wn,fn=!0):mn=wn(),{defaultWidth:Sn,monospace:fn,widths:mn}}buildCharCodeToWidth(Pn,Sn){const mn=Object.create(null),fn=Sn.differences,Jt=Sn.defaultEncoding;for(let cn=0;cn<256;cn++){if(cn in fn&&Pn[fn[cn]]){mn[cn]=Pn[fn[cn]];continue}if(cn in Jt&&Pn[Jt[cn]]){mn[cn]=Pn[Jt[cn]];continue}}return mn}preEvaluateFont(Pn){const Sn=Pn;let mn=Pn.get("Subtype");if(!(mn instanceof Rt.Name))throw new wt.FormatError("invalid font Subtype");let fn=!1,Jt,cn;if(mn.name==="Type0"){const _n=Pn.get("DescendantFonts");if(!_n)throw new wt.FormatError("Descendant fonts are not specified");if(Pn=Array.isArray(_n)?this.xref.fetchIfRef(_n[0]):_n,!(Pn instanceof Rt.Dict))throw new wt.FormatError("Descendant font is not a dictionary.");if(mn=Pn.get("Subtype"),!(mn instanceof Rt.Name))throw new wt.FormatError("invalid font Subtype");fn=!0}const pn=Pn.get("FirstChar")||0,wn=Pn.get("LastChar")||(fn?65535:255),En=Pn.get("FontDescriptor");if(En){Jt=new Yt.MurmurHash3_64;const _n=Sn.getRaw("Encoding");if(_n instanceof Rt.Name)Jt.update(_n.name);else if(_n instanceof Rt.Ref)Jt.update(_n.toString());else if(_n instanceof Rt.Dict){for(const An of _n.getRawValues())if(An instanceof Rt.Name)Jt.update(An.name);else if(An instanceof Rt.Ref)Jt.update(An.toString());else if(Array.isArray(An)){const Tn=An.length,Mn=new Array(Tn);for(let Rn=0;Rn<Tn;Rn++){const Ln=An[Rn];Ln instanceof Rt.Name?Mn[Rn]=Ln.name:(typeof Ln=="number"||Ln instanceof Rt.Ref)&&(Mn[Rn]=Ln.toString())}Jt.update(Mn.join())}}if(Jt.update(`${pn}-${wn}`),cn=Pn.get("ToUnicode")||Sn.get("ToUnicode"),cn instanceof Kt.BaseStream){const An=cn.str||cn,Tn=An.buffer?new Uint8Array(An.buffer.buffer,0,An.bufferLength):new Uint8Array(An.bytes.buffer,An.start,An.end-An.start);Jt.update(Tn)}else cn instanceof Rt.Name&&Jt.update(cn.name);const Cn=Pn.get("Widths")||Sn.get("Widths");if(Array.isArray(Cn)){const An=[];for(const Tn of Cn)(typeof Tn=="number"||Tn instanceof Rt.Ref)&&An.push(Tn.toString());Jt.update(An.join())}if(fn){Jt.update("compositeFont");const An=Pn.get("W")||Sn.get("W");if(Array.isArray(An)){const Mn=[];for(const Rn of An)if(typeof Rn=="number"||Rn instanceof Rt.Ref)Mn.push(Rn.toString());else if(Array.isArray(Rn)){const Ln=[];for(const Dn of Rn)(typeof Dn=="number"||Dn instanceof Rt.Ref)&&Ln.push(Dn.toString());Mn.push(`[${Ln.join()}]`)}Jt.update(Mn.join())}const Tn=Pn.getRaw("CIDToGIDMap")||Sn.getRaw("CIDToGIDMap");Tn instanceof Rt.Name?Jt.update(Tn.name):Tn instanceof Rt.Ref?Jt.update(Tn.toString()):Tn instanceof Kt.BaseStream&&Jt.update(Tn.peekBytes())}}return{descriptor:En,dict:Pn,baseDict:Sn,composite:fn,type:mn.name,firstChar:pn,lastChar:wn,toUnicode:cn,hash:Jt?Jt.hexdigest():""}}async translateFont({descriptor:Pn,dict:Sn,baseDict:mn,composite:fn,type:Jt,firstChar:cn,lastChar:pn,toUnicode:wn,cssFontInfo:En}){const _n=Jt==="Type3";let Cn;if(!Pn)if(_n)Pn=new Rt.Dict(null),Pn.set("FontName",Rt.Name.get(Jt)),Pn.set("FontBBox",Sn.getArray("FontBBox")||[0,0,0,0]);else{let nr=Sn.get("BaseFont");if(!(nr instanceof Rt.Name))throw new wt.FormatError("Base font is not specified");nr=nr.name.replaceAll(/[,_]/g,"-");const lr=this.getBaseFontMetrics(nr),dr=nr.split("-")[0],jn=(this.isSerifFont(dr)?ln.FontFlags.Serif:0)|(lr.monospace?ln.FontFlags.FixedPitch:0)|((0,Ft.getSymbolsFonts)()[dr]?ln.FontFlags.Symbolic:ln.FontFlags.Nonsymbolic);Cn={type:Jt,name:nr,loadedName:mn.loadedName,systemFontInfo:null,widths:lr.widths,defaultWidth:lr.defaultWidth,isSimulatedFlags:!0,flags:jn,firstChar:cn,lastChar:pn,toUnicode:wn,xHeight:0,capHeight:0,italicAngle:0,isType3Font:_n};const Hn=Sn.get("Widths"),Xn=(0,Ft.getStandardFontName)(nr);let cr=null;return Xn&&(cr=await this.fetchStandardFontData(Xn),Cn.isInternalFont=!!cr),!Cn.isInternalFont&&this.options.useSystemFonts&&(Cn.systemFontInfo=(0,en.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,nr,Xn)),this.extractDataStructures(Sn,Sn,Cn).then(sr=>{if(Hn){const xr=[];let Jn=cn;for(const Wn of Hn)xr[Jn++]=this.xref.fetchIfRef(Wn);sr.widths=xr}else sr.widths=this.buildCharCodeToWidth(lr.widths,sr);return new ht.Font(nr,cr,sr)})}let An=Pn.get("FontName"),Tn=Sn.get("BaseFont");typeof An=="string"&&(An=Rt.Name.get(An)),typeof Tn=="string"&&(Tn=Rt.Name.get(Tn));const Mn=An==null?void 0:An.name,Rn=Tn==null?void 0:Tn.name;if(!_n&&Mn!==Rn&&((0,wt.info)(`The FontDescriptor's FontName is "${Mn}" but should be the same as the Font's BaseFont "${Rn}".`),Mn&&Rn&&(Rn.startsWith(Mn)||!(0,Ft.isKnownFontName)(Mn)&&(0,Ft.isKnownFontName)(Rn))&&(An=null)),An||(An=Tn),!(An instanceof Rt.Name))throw new wt.FormatError("invalid font name");let Ln,Dn,Un,tr,er;try{Ln=Pn.get("FontFile","FontFile2","FontFile3")}catch(nr){if(!this.options.ignoreErrors)throw nr;(0,wt.warn)(`translateFont - fetching "${An.name}" font file: "${nr}".`),Ln=new _t.NullStream}let Qn=!1,Yn=null,zn=null;if(Ln){if(Ln.dict){const nr=Ln.dict.get("Subtype");nr instanceof Rt.Name&&(Dn=nr.name),Un=Ln.dict.get("Length1"),tr=Ln.dict.get("Length2"),er=Ln.dict.get("Length3")}}else if(En){const nr=(0,qt.getXfaFontName)(An.name);nr&&(En.fontFamily=`${En.fontFamily}-PdfJS-XFA`,En.metrics=nr.metrics||null,Yn=nr.factors||null,Ln=await this.fetchStandardFontData(nr.name),Qn=!!Ln,mn=Sn=(0,qt.getXfaFontDict)(An.name),fn=!0)}else if(!_n){const nr=(0,Ft.getStandardFontName)(An.name);nr&&(Ln=await this.fetchStandardFontData(nr),Qn=!!Ln),!Qn&&this.options.useSystemFonts&&(zn=(0,en.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,An.name,nr))}if(Cn={type:Jt,name:An.name,subtype:Dn,file:Ln,length1:Un,length2:tr,length3:er,isInternalFont:Qn,loadedName:mn.loadedName,composite:fn,fixedPitch:!1,fontMatrix:Sn.getArray("FontMatrix")||wt.FONT_IDENTITY_MATRIX,firstChar:cn,lastChar:pn,toUnicode:wn,bbox:Pn.getArray("FontBBox")||Sn.getArray("FontBBox"),ascent:Pn.get("Ascent"),descent:Pn.get("Descent"),xHeight:Pn.get("XHeight")||0,capHeight:Pn.get("CapHeight")||0,flags:Pn.get("Flags"),italicAngle:Pn.get("ItalicAngle")||0,isType3Font:_n,cssFontInfo:En,scaleFactors:Yn,systemFontInfo:zn},fn){const nr=mn.get("Encoding");nr instanceof Rt.Name&&(Cn.cidEncoding=nr.name);const lr=await kt.CMapFactory.create({encoding:nr,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Cn.cMap=lr,Cn.vertical=Cn.cMap.vertical}return this.extractDataStructures(Sn,mn,Cn).then(nr=>(this.extractWidths(Sn,Pn,nr),new ht.Font(An.name,Ln,nr)))}static buildFontPaths(Pn,Sn,mn,fn){function Jt(cn){const pn=`${Pn.loadedName}_path_${cn}`;try{if(Pn.renderer.hasBuiltPath(cn))return;mn.send("commonobj",[pn,"FontPath",Pn.renderer.getPathJs(cn)])}catch(wn){if(fn.ignoreErrors){(0,wt.warn)(`buildFontPaths - ignoring ${pn} glyph: "${wn}".`);return}throw wn}}for(const cn of Sn){Jt(cn.fontChar);const pn=cn.accent;pn!=null&&pn.fontChar&&Jt(pn.fontChar)}}static get fallbackFontDict(){const Pn=new Rt.Dict;return Pn.set("BaseFont",Rt.Name.get("Helvetica")),Pn.set("Type",Rt.Name.get("FallbackType")),Pn.set("Subtype",Rt.Name.get("FallbackType")),Pn.set("Encoding",Rt.Name.get("WinAnsiEncoding")),(0,wt.shadow)(this,"fallbackFontDict",Pn)}}Ct.PartialEvaluator=on;class hn{constructor({loadedName:Pn,font:Sn,dict:mn,evaluatorOptions:fn}){this.loadedName=Pn,this.font=Sn,this.dict=mn,this._evaluatorOptions=fn||Lt,this.type3Loaded=null,this.type3Dependencies=Sn.isType3Font?new Set:null,this.sent=!1}send(Pn){this.sent||(this.sent=!0,Pn.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(Pn){this.font.data&&(this.font.disableFontFace=!0,on.buildFontPaths(this.font,this.font.glyphCacheValues,Pn,this._evaluatorOptions))}loadType3Data(Pn,Sn,mn){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const fn=Pn.clone({ignoreErrors:!1});fn.parsingType3Font=!0;const Jt=new Rt.RefSet(Pn.type3FontRefs);this.dict.objId&&!Jt.has(this.dict.objId)&&Jt.put(this.dict.objId),fn.type3FontRefs=Jt;const cn=this.font,pn=this.type3Dependencies;let wn=Promise.resolve();const En=this.dict.get("CharProcs"),_n=this.dict.get("Resources")||Sn,Cn=Object.create(null),An=wt.Util.normalizeRect(cn.bbox||[0,0,0,0]),Tn=An[2]-An[0],Mn=An[3]-An[1],Rn=Math.hypot(Tn,Mn);for(const Ln of En.getKeys())wn=wn.then(()=>{const Dn=En.get(Ln),Un=new un.OperatorList;return fn.getOperatorList({stream:Dn,task:mn,resources:_n,operatorList:Un}).then(()=>{Un.fnArray[0]===wt.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(Un,Rn),Cn[Ln]=Un.getIR();for(const tr of Un.dependencies)pn.add(tr)}).catch(function(tr){(0,wt.warn)(`Type3 font resource "${Ln}" is not available.`);const er=new un.OperatorList;Cn[Ln]=er.getIR()})});return this.type3Loaded=wn.then(()=>{cn.charProcOperatorList=Cn,this._bbox&&(cn.isCharBBox=!0,cn.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(Pn,Sn=NaN){const mn=wt.Util.normalizeRect(Pn.argsArray[0].slice(2)),fn=mn[2]-mn[0],Jt=mn[3]-mn[1],cn=Math.hypot(fn,Jt);fn===0||Jt===0?(Pn.fnArray.splice(0,1),Pn.argsArray.splice(0,1)):(Sn===0||Math.round(cn/Sn)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],mn[0]),this._bbox[1]=Math.min(this._bbox[1],mn[1]),this._bbox[2]=Math.max(this._bbox[2],mn[2]),this._bbox[3]=Math.max(this._bbox[3],mn[3]));let pn=0,wn=Pn.length;for(;pn<wn;){switch(Pn.fnArray[pn]){case wt.OPS.setCharWidthAndBounds:break;case wt.OPS.setStrokeColorSpace:case wt.OPS.setFillColorSpace:case wt.OPS.setStrokeColor:case wt.OPS.setStrokeColorN:case wt.OPS.setFillColor:case wt.OPS.setFillColorN:case wt.OPS.setStrokeGray:case wt.OPS.setFillGray:case wt.OPS.setStrokeRGBColor:case wt.OPS.setFillRGBColor:case wt.OPS.setStrokeCMYKColor:case wt.OPS.setFillCMYKColor:case wt.OPS.shadingFill:case wt.OPS.setRenderingIntent:Pn.fnArray.splice(pn,1),Pn.argsArray.splice(pn,1),wn--;continue;case wt.OPS.setGState:const[En]=Pn.argsArray[pn];let _n=0,Cn=En.length;for(;_n<Cn;){const[An]=En[_n];switch(An){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":En.splice(_n,1),Cn--;continue}_n++}break}pn++}}}class sn{constructor(Pn=new xn){this.state=Pn,this.stateStack=[]}save(){const Pn=this.state;this.stateStack.push(this.state),this.state=Pn.clone()}restore(){const Pn=this.stateStack.pop();Pn&&(this.state=Pn)}transform(Pn){this.state.ctm=wt.Util.transform(this.state.ctm,Pn)}}class rn{constructor(){this.ctm=new Float32Array(wt.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=wt.FONT_IDENTITY_MATRIX,this.textMatrix=wt.IDENTITY_MATRIX.slice(),this.textLineMatrix=wt.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(Pn,Sn,mn,fn,Jt,cn){const pn=this.textMatrix;pn[0]=Pn,pn[1]=Sn,pn[2]=mn,pn[3]=fn,pn[4]=Jt,pn[5]=cn}setTextLineMatrix(Pn,Sn,mn,fn,Jt,cn){const pn=this.textLineMatrix;pn[0]=Pn,pn[1]=Sn,pn[2]=mn,pn[3]=fn,pn[4]=Jt,pn[5]=cn}translateTextMatrix(Pn,Sn){const mn=this.textMatrix;mn[4]=mn[0]*Pn+mn[2]*Sn+mn[4],mn[5]=mn[1]*Pn+mn[3]*Sn+mn[5]}translateTextLineMatrix(Pn,Sn){const mn=this.textLineMatrix;mn[4]=mn[0]*Pn+mn[2]*Sn+mn[4],mn[5]=mn[1]*Pn+mn[3]*Sn+mn[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const Pn=Object.create(this);return Pn.textMatrix=this.textMatrix.slice(),Pn.textLineMatrix=this.textLineMatrix.slice(),Pn.fontMatrix=this.fontMatrix.slice(),Pn}}class xn{constructor(){this.ctm=new Float32Array(wt.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=wt.TextRenderingMode.FILL,this.fillColorSpace=Gt.ColorSpace.singletons.gray,this.strokeColorSpace=Gt.ColorSpace.singletons.gray}clone(){return Object.create(this)}}const Fn=class Fn{static get opMap(){return(0,wt.shadow)(this,"opMap",{w:{id:wt.OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:wt.OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:wt.OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:wt.OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:wt.OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:wt.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:wt.OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:wt.OPS.setGState,numArgs:1,variableArgs:!1},q:{id:wt.OPS.save,numArgs:0,variableArgs:!1},Q:{id:wt.OPS.restore,numArgs:0,variableArgs:!1},cm:{id:wt.OPS.transform,numArgs:6,variableArgs:!1},m:{id:wt.OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:wt.OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:wt.OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:wt.OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:wt.OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:wt.OPS.closePath,numArgs:0,variableArgs:!1},re:{id:wt.OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:wt.OPS.stroke,numArgs:0,variableArgs:!1},s:{id:wt.OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:wt.OPS.fill,numArgs:0,variableArgs:!1},F:{id:wt.OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:wt.OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:wt.OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:wt.OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:wt.OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:wt.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:wt.OPS.endPath,numArgs:0,variableArgs:!1},W:{id:wt.OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:wt.OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:wt.OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:wt.OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:wt.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:wt.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:wt.OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:wt.OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:wt.OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:wt.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:wt.OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:wt.OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:wt.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:wt.OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:wt.OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:wt.OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:wt.OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:wt.OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:wt.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:wt.OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:wt.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:wt.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:wt.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:wt.OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:wt.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:wt.OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:wt.OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:wt.OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:wt.OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:wt.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:wt.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:wt.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:wt.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:wt.OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:wt.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:wt.OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:wt.OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:wt.OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:wt.OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:wt.OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:wt.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:wt.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:wt.OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:wt.OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:wt.OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}constructor(Pn,Sn,mn=new sn){this.parser=new Mt.Parser({lexer:new Mt.Lexer(Pn,Fn.opMap),xref:Sn}),this.stateManager=mn,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(Pn){let Sn=Pn.args;for(;;){const mn=this.parser.getObj();if(mn instanceof Rt.Cmd){const fn=mn.cmd,Jt=Fn.opMap[fn];if(!Jt){(0,wt.warn)(`Unknown command "${fn}".`);continue}const cn=Jt.id,pn=Jt.numArgs;let wn=Sn!==null?Sn.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=cn>=wt.OPS.moveTo&&cn<=wt.OPS.endPath,Jt.variableArgs)wn>pn&&(0,wt.info)(`Command ${fn}: expected [0, ${pn}] args, but received ${wn} args.`);else{if(wn!==pn){const En=this.nonProcessedArgs;for(;wn>pn;)En.push(Sn.shift()),wn--;for(;wn<pn&&En.length!==0;)Sn===null&&(Sn=[]),Sn.unshift(En.pop()),wn++}if(wn<pn){const En=`command ${fn}: expected ${pn} args, but received ${wn} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>Fn.MAX_INVALID_PATH_OPS)throw new wt.FormatError(`Invalid ${En}`);(0,wt.warn)(`Skipping ${En}`),Sn!==null&&(Sn.length=0);continue}}return this.preprocessCommand(cn,Sn),Pn.fn=cn,Pn.args=Sn,!0}if(mn===Rt.EOF)return!1;if(mn!==null&&(Sn===null&&(Sn=[]),Sn.push(mn),Sn.length>33))throw new wt.FormatError("Too many arguments")}}preprocessCommand(Pn,Sn){switch(Pn|0){case wt.OPS.save:this.stateManager.save();break;case wt.OPS.restore:this.stateManager.restore();break;case wt.OPS.transform:this.stateManager.transform(Sn);break}}};Ur(Fn,"MAX_INVALID_PATH_OPS",10);let vn=Fn;Ct.EvaluatorPreprocessor=vn},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.IdentityCMap=Ct.CMapFactory=Ct.CMap=void 0;var wt=Pt(2),kt=Pt(4),Rt=Pt(5),ht=Pt(15),vt=Pt(16),Ft=Pt(3),Ht=Pt(8);const qt=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],Nt=2**24-1;class $t{constructor(Lt=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=Lt}addCodespaceRange(Lt,Vt,an){this.codespaceRanges[Lt-1].push(Vt,an),this.numCodespaceRanges++}mapCidRange(Lt,Vt,an){if(Vt-Lt>Nt)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;Lt<=Vt;)this._map[Lt++]=an++}mapBfRange(Lt,Vt,an){if(Vt-Lt>Nt)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const zt=an.length-1;for(;Lt<=Vt;){this._map[Lt++]=an;const Wt=an.charCodeAt(zt)+1;if(Wt>255){an=an.substring(0,zt-1)+String.fromCharCode(an.charCodeAt(zt-1)+1)+"\0";continue}an=an.substring(0,zt)+String.fromCharCode(Wt)}}mapBfRangeToArray(Lt,Vt,an){if(Vt-Lt>Nt)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const zt=an.length;let Wt=0;for(;Lt<=Vt&&Wt<zt;)this._map[Lt]=an[Wt++],++Lt}mapOne(Lt,Vt){this._map[Lt]=Vt}lookup(Lt){return this._map[Lt]}contains(Lt){return this._map[Lt]!==void 0}forEach(Lt){const Vt=this._map,an=Vt.length;if(an<=65536)for(let zt=0;zt<an;zt++)Vt[zt]!==void 0&&Lt(zt,Vt[zt]);else for(const zt in Vt)Lt(zt,Vt[zt])}charCodeOf(Lt){const Vt=this._map;if(Vt.length<=65536)return Vt.indexOf(Lt);for(const an in Vt)if(Vt[an]===Lt)return an|0;return-1}getMap(){return this._map}readCharCode(Lt,Vt,an){let zt=0;const Wt=this.codespaceRanges;for(let nn=0,dn=Wt.length;nn<dn;nn++){zt=(zt<<8|Lt.charCodeAt(Vt+nn))>>>0;const on=Wt[nn];for(let hn=0,sn=on.length;hn<sn;){const rn=on[hn++],xn=on[hn++];if(zt>=rn&&zt<=xn){an.charcode=zt,an.length=nn+1;return}}}an.charcode=0,an.length=1}getCharCodeLength(Lt){const Vt=this.codespaceRanges;for(let an=0,zt=Vt.length;an<zt;an++){const Wt=Vt[an];for(let nn=0,dn=Wt.length;nn<dn;){const on=Wt[nn++],hn=Wt[nn++];if(Lt>=on&&Lt<=hn)return an+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let Lt=0;Lt<65536;Lt++)if(this._map[Lt]!==Lt)return!1;return!0}}Ct.CMap=$t;class Mt extends $t{constructor(Lt,Vt){super(),this.vertical=Lt,this.addCodespaceRange(Vt,0,65535)}mapCidRange(Lt,Vt,an){(0,wt.unreachable)("should not call mapCidRange")}mapBfRange(Lt,Vt,an){(0,wt.unreachable)("should not call mapBfRange")}mapBfRangeToArray(Lt,Vt,an){(0,wt.unreachable)("should not call mapBfRangeToArray")}mapOne(Lt,Vt){(0,wt.unreachable)("should not call mapCidOne")}lookup(Lt){return Number.isInteger(Lt)&&Lt<=65535?Lt:void 0}contains(Lt){return Number.isInteger(Lt)&&Lt<=65535}forEach(Lt){for(let Vt=0;Vt<=65535;Vt++)Lt(Vt,Vt)}charCodeOf(Lt){return Number.isInteger(Lt)&&Lt<=65535?Lt:-1}getMap(){const Lt=new Array(65536);for(let Vt=0;Vt<=65535;Vt++)Lt[Vt]=Vt;return Lt}get length(){return 65536}get isIdentityCMap(){(0,wt.unreachable)("should not access .isIdentityCMap")}}Ct.IdentityCMap=Mt;function Bt(Ut){let Lt=0;for(let Vt=0;Vt<Ut.length;Vt++)Lt=Lt<<8|Ut.charCodeAt(Vt);return Lt>>>0}function _t(Ut){if(typeof Ut!="string")throw new wt.FormatError("Malformed CMap: expected string.")}function Kt(Ut){if(!Number.isInteger(Ut))throw new wt.FormatError("Malformed CMap: expected int.")}function jt(Ut,Lt){for(;;){let Vt=Lt.getObj();if(Vt===kt.EOF)break;if((0,kt.isCmd)(Vt,"endbfchar"))return;_t(Vt);const an=Bt(Vt);Vt=Lt.getObj(),_t(Vt);const zt=Vt;Ut.mapOne(an,zt)}}function Gt(Ut,Lt){for(;;){let Vt=Lt.getObj();if(Vt===kt.EOF)break;if((0,kt.isCmd)(Vt,"endbfrange"))return;_t(Vt);const an=Bt(Vt);Vt=Lt.getObj(),_t(Vt);const zt=Bt(Vt);if(Vt=Lt.getObj(),Number.isInteger(Vt)||typeof Vt=="string"){const Wt=Number.isInteger(Vt)?String.fromCharCode(Vt):Vt;Ut.mapBfRange(an,zt,Wt)}else if((0,kt.isCmd)(Vt,"[")){Vt=Lt.getObj();const Wt=[];for(;!(0,kt.isCmd)(Vt,"]")&&Vt!==kt.EOF;)Wt.push(Vt),Vt=Lt.getObj();Ut.mapBfRangeToArray(an,zt,Wt)}else break}throw new wt.FormatError("Invalid bf range.")}function Qt(Ut,Lt){for(;;){let Vt=Lt.getObj();if(Vt===kt.EOF)break;if((0,kt.isCmd)(Vt,"endcidchar"))return;_t(Vt);const an=Bt(Vt);Vt=Lt.getObj(),Kt(Vt);const zt=Vt;Ut.mapOne(an,zt)}}function ln(Ut,Lt){for(;;){let Vt=Lt.getObj();if(Vt===kt.EOF)break;if((0,kt.isCmd)(Vt,"endcidrange"))return;_t(Vt);const an=Bt(Vt);Vt=Lt.getObj(),_t(Vt);const zt=Bt(Vt);Vt=Lt.getObj(),Kt(Vt);const Wt=Vt;Ut.mapCidRange(an,zt,Wt)}}function en(Ut,Lt){for(;;){let Vt=Lt.getObj();if(Vt===kt.EOF)break;if((0,kt.isCmd)(Vt,"endcodespacerange"))return;if(typeof Vt!="string")break;const an=Bt(Vt);if(Vt=Lt.getObj(),typeof Vt!="string")break;const zt=Bt(Vt);Ut.addCodespaceRange(Vt.length,an,zt)}throw new wt.FormatError("Invalid codespace range.")}function gn(Ut,Lt){const Vt=Lt.getObj();Number.isInteger(Vt)&&(Ut.vertical=!!Vt)}function tn(Ut,Lt){const Vt=Lt.getObj();Vt instanceof kt.Name&&(Ut.name=Vt.name)}async function bn(Ut,Lt,Vt,an){let zt,Wt;e:for(;;)try{const nn=Lt.getObj();if(nn===kt.EOF)break;if(nn instanceof kt.Name)nn.name==="WMode"?gn(Ut,Lt):nn.name==="CMapName"&&tn(Ut,Lt),zt=nn;else if(nn instanceof kt.Cmd)switch(nn.cmd){case"endcmap":break e;case"usecmap":zt instanceof kt.Name&&(Wt=zt.name);break;case"begincodespacerange":en(Ut,Lt);break;case"beginbfchar":jt(Ut,Lt);break;case"begincidchar":Qt(Ut,Lt);break;case"beginbfrange":Gt(Ut,Lt);break;case"begincidrange":ln(Ut,Lt);break}}catch(nn){if(nn instanceof Ft.MissingDataException)throw nn;(0,wt.warn)("Invalid cMap data: "+nn);continue}return!an&&Wt&&(an=Wt),an?Xt(Ut,Vt,an):Ut}async function Xt(Ut,Lt,Vt){if(Ut.useCMap=await Yt(Vt,Lt),Ut.numCodespaceRanges===0){const an=Ut.useCMap.codespaceRanges;for(let zt=0;zt<an.length;zt++)Ut.codespaceRanges[zt]=an[zt].slice();Ut.numCodespaceRanges=Ut.useCMap.numCodespaceRanges}return Ut.useCMap.forEach(function(an,zt){Ut.contains(an)||Ut.mapOne(an,Ut.useCMap.lookup(an))}),Ut}async function Yt(Ut,Lt){if(Ut==="Identity-H")return new Mt(!1,2);if(Ut==="Identity-V")return new Mt(!0,2);if(!qt.includes(Ut))throw new Error("Unknown CMap name: "+Ut);if(!Lt)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:Vt,compressionType:an}=await Lt(Ut),zt=new $t(!0);if(an===wt.CMapCompressionType.BINARY)return new ht.BinaryCMapReader().process(Vt,zt,Wt=>Xt(zt,Lt,Wt));if(an===wt.CMapCompressionType.NONE){const Wt=new vt.Lexer(new Ht.Stream(Vt));return bn(zt,Wt,Lt,null)}throw new Error(`Invalid CMap "compressionType" value: ${an}`)}class un{static async create({encoding:Lt,fetchBuiltInCMap:Vt,useCMap:an}){if(Lt instanceof kt.Name)return Yt(Lt.name,Vt);if(Lt instanceof Rt.BaseStream){const zt=await bn(new $t,new vt.Lexer(Lt),Vt,an);return zt.isIdentityCMap?Yt(zt.name,Vt):zt}throw new Error("Encoding required.")}}Ct.CMapFactory=un},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.BinaryCMapReader=void 0;var wt=Pt(2);function kt($t,Mt){let Bt=0;for(let _t=0;_t<=Mt;_t++)Bt=Bt<<8|$t[_t];return Bt>>>0}function Rt($t,Mt){return Mt===1?String.fromCharCode($t[0],$t[1]):Mt===3?String.fromCharCode($t[0],$t[1],$t[2],$t[3]):String.fromCharCode(...$t.subarray(0,Mt+1))}function ht($t,Mt,Bt){let _t=0;for(let Kt=Bt;Kt>=0;Kt--)_t+=$t[Kt]+Mt[Kt],$t[Kt]=_t&255,_t>>=8}function vt($t,Mt){let Bt=1;for(let _t=Mt;_t>=0&&Bt>0;_t--)Bt+=$t[_t],$t[_t]=Bt&255,Bt>>=8}const Ft=16,Ht=19;class qt{constructor(Mt){this.buffer=Mt,this.pos=0,this.end=Mt.length,this.tmpBuf=new Uint8Array(Ht)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let Mt=0,Bt;do{const _t=this.readByte();if(_t<0)throw new wt.FormatError("unexpected EOF in bcmap");Bt=!(_t&128),Mt=Mt<<7|_t&127}while(!Bt);return Mt}readSigned(){const Mt=this.readNumber();return Mt&1?~(Mt>>>1):Mt>>>1}readHex(Mt,Bt){Mt.set(this.buffer.subarray(this.pos,this.pos+Bt+1)),this.pos+=Bt+1}readHexNumber(Mt,Bt){let _t;const Kt=this.tmpBuf;let jt=0;do{const en=this.readByte();if(en<0)throw new wt.FormatError("unexpected EOF in bcmap");_t=!(en&128),Kt[jt++]=en&127}while(!_t);let Gt=Bt,Qt=0,ln=0;for(;Gt>=0;){for(;ln<8&&Kt.length>0;)Qt|=Kt[--jt]<<ln,ln+=7;Mt[Gt]=Qt&255,Gt--,Qt>>=8,ln-=8}}readHexSigned(Mt,Bt){this.readHexNumber(Mt,Bt);const _t=Mt[Bt]&1?255:0;let Kt=0;for(let jt=0;jt<=Bt;jt++)Kt=(Kt&1)<<8|Mt[jt],Mt[jt]=Kt>>1^_t}readString(){const Mt=this.readNumber(),Bt=new Array(Mt);for(let _t=0;_t<Mt;_t++)Bt[_t]=this.readNumber();return String.fromCharCode(...Bt)}}class Nt{async process(Mt,Bt,_t){const Kt=new qt(Mt),jt=Kt.readByte();Bt.vertical=!!(jt&1);let Gt=null;const Qt=new Uint8Array(Ft),ln=new Uint8Array(Ft),en=new Uint8Array(Ft),gn=new Uint8Array(Ft),tn=new Uint8Array(Ft);let bn,Xt;for(;(Xt=Kt.readByte())>=0;){const Yt=Xt>>5;if(Yt===7){switch(Xt&31){case 0:Kt.readString();break;case 1:Gt=Kt.readString();break}continue}const un=!!(Xt&16),Ut=Xt&15;if(Ut+1>Ft)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const Lt=1,Vt=Kt.readNumber();switch(Yt){case 0:Kt.readHex(Qt,Ut),Kt.readHexNumber(ln,Ut),ht(ln,Qt,Ut),Bt.addCodespaceRange(Ut+1,kt(Qt,Ut),kt(ln,Ut));for(let an=1;an<Vt;an++)vt(ln,Ut),Kt.readHexNumber(Qt,Ut),ht(Qt,ln,Ut),Kt.readHexNumber(ln,Ut),ht(ln,Qt,Ut),Bt.addCodespaceRange(Ut+1,kt(Qt,Ut),kt(ln,Ut));break;case 1:Kt.readHex(Qt,Ut),Kt.readHexNumber(ln,Ut),ht(ln,Qt,Ut),Kt.readNumber();for(let an=1;an<Vt;an++)vt(ln,Ut),Kt.readHexNumber(Qt,Ut),ht(Qt,ln,Ut),Kt.readHexNumber(ln,Ut),ht(ln,Qt,Ut),Kt.readNumber();break;case 2:Kt.readHex(en,Ut),bn=Kt.readNumber(),Bt.mapOne(kt(en,Ut),bn);for(let an=1;an<Vt;an++)vt(en,Ut),un||(Kt.readHexNumber(tn,Ut),ht(en,tn,Ut)),bn=Kt.readSigned()+(bn+1),Bt.mapOne(kt(en,Ut),bn);break;case 3:Kt.readHex(Qt,Ut),Kt.readHexNumber(ln,Ut),ht(ln,Qt,Ut),bn=Kt.readNumber(),Bt.mapCidRange(kt(Qt,Ut),kt(ln,Ut),bn);for(let an=1;an<Vt;an++)vt(ln,Ut),un?Qt.set(ln):(Kt.readHexNumber(Qt,Ut),ht(Qt,ln,Ut)),Kt.readHexNumber(ln,Ut),ht(ln,Qt,Ut),bn=Kt.readNumber(),Bt.mapCidRange(kt(Qt,Ut),kt(ln,Ut),bn);break;case 4:Kt.readHex(en,Lt),Kt.readHex(gn,Ut),Bt.mapOne(kt(en,Lt),Rt(gn,Ut));for(let an=1;an<Vt;an++)vt(en,Lt),un||(Kt.readHexNumber(tn,Lt),ht(en,tn,Lt)),vt(gn,Ut),Kt.readHexSigned(tn,Ut),ht(gn,tn,Ut),Bt.mapOne(kt(en,Lt),Rt(gn,Ut));break;case 5:Kt.readHex(Qt,Lt),Kt.readHexNumber(ln,Lt),ht(ln,Qt,Lt),Kt.readHex(gn,Ut),Bt.mapBfRange(kt(Qt,Lt),kt(ln,Lt),Rt(gn,Ut));for(let an=1;an<Vt;an++)vt(ln,Lt),un?Qt.set(ln):(Kt.readHexNumber(Qt,Lt),ht(Qt,ln,Lt)),Kt.readHexNumber(ln,Lt),ht(ln,Qt,Lt),Kt.readHex(gn,Ut),Bt.mapBfRange(kt(Qt,Lt),kt(ln,Lt),Rt(gn,Ut));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${Yt}`)}}return Gt?_t(Gt):Bt}}Ct.BinaryCMapReader=Nt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Parser=Ct.Linearization=Ct.Lexer=void 0;var wt=Pt(2),kt=Pt(4),Rt=Pt(3),ht=Pt(8),vt=Pt(17),Ft=Pt(19),Ht=Pt(20),qt=Pt(22),Nt=Pt(23),$t=Pt(26),Mt=Pt(29),Bt=Pt(31),_t=Pt(32),Kt=Pt(33);const jt=1e3;function Gt(bn){const Xt=[],Yt=bn.length;let un=0;for(;un<Yt-1;)Xt.push(bn[un++]<<8|bn[un++]);return un<Yt&&Xt.push(bn[un]),Yt+"_"+String.fromCharCode.apply(null,Xt)}class Qt{constructor({lexer:Xt,xref:Yt,allowStreams:un=!1,recoveryMode:Ut=!1}){this.lexer=Xt,this.xref=Yt,this.allowStreams=un,this.recoveryMode=Ut,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof kt.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(Xt){if(Xt instanceof Rt.MissingDataException)throw Xt;return!1}}getObj(Xt=null){const Yt=this.buf1;if(this.shift(),Yt instanceof kt.Cmd)switch(Yt.cmd){case"BI":return this.makeInlineImage(Xt);case"[":const un=[];for(;!(0,kt.isCmd)(this.buf1,"]")&&this.buf1!==kt.EOF;)un.push(this.getObj(Xt));if(this.buf1===kt.EOF){if(this.recoveryMode)return un;throw new Rt.ParserEOFException("End of file inside array.")}return this.shift(),un;case"<<":const Ut=new kt.Dict(this.xref);for(;!(0,kt.isCmd)(this.buf1,">>")&&this.buf1!==kt.EOF;){if(!(this.buf1 instanceof kt.Name)){(0,wt.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const Lt=this.buf1.name;if(this.shift(),this.buf1===kt.EOF)break;Ut.set(Lt,this.getObj(Xt))}if(this.buf1===kt.EOF){if(this.recoveryMode)return Ut;throw new Rt.ParserEOFException("End of file inside dictionary.")}return(0,kt.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(Ut,Xt):Ut:(this.shift(),Ut);default:return Yt}if(Number.isInteger(Yt)){if(Number.isInteger(this.buf1)&&(0,kt.isCmd)(this.buf2,"R")){const un=kt.Ref.get(Yt,this.buf1);return this.shift(),this.shift(),un}return Yt}return typeof Yt=="string"&&Xt?Xt.decryptString(Yt):Yt}findDefaultInlineStreamEnd(Xt){const{knownCommands:zt}=this.lexer,Wt=Xt.pos,nn=15;let dn=0,on,hn;for(;(on=Xt.getByte())!==-1;)if(dn===0)dn=on===69?1:0;else if(dn===1)dn=on===73?2:0;else if(on===32||on===10||on===13){hn=Xt.pos;const rn=Xt.peekBytes(nn),xn=rn.length;if(xn===0)break;for(let Fn=0;Fn<xn;Fn++)if(on=rn[Fn],!(on===0&&rn[Fn+1]!==0)&&on!==10&&on!==13&&(on<32||on>127)){dn=0;break}if(dn!==2)continue;if(!zt){(0,wt.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const vn=new gn(new ht.Stream(rn.slice()),zt);vn._hexStringWarn=()=>{};let kn=0;for(;;){const Fn=vn.getObj();if(Fn===kt.EOF){dn=0;break}if(Fn instanceof kt.Cmd){const On=zt[Fn.cmd];if(On){if(On.variableArgs?kn<=On.numArgs:kn===On.numArgs)break}else{dn=0;break}kn=0;continue}kn++}if(dn===2)break}else dn=0;on===-1&&((0,wt.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),hn&&((0,wt.warn)('... trying to recover by using the last "EI" occurrence.'),Xt.skip(-(Xt.pos-hn))));let sn=4;return Xt.skip(-sn),on=Xt.peekByte(),Xt.skip(sn),(0,Rt.isWhiteSpace)(on)||sn--,Xt.pos-sn-Wt}findDCTDecodeInlineStreamEnd(Xt){const Yt=Xt.pos;let un=!1,Ut,Lt;for(;(Ut=Xt.getByte())!==-1;)if(Ut===255){switch(Xt.getByte()){case 0:break;case 255:Xt.skip(-1);break;case 217:un=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:Lt=Xt.getUint16(),Lt>2?Xt.skip(Lt-2):Xt.skip(-2);break}if(un)break}const Vt=Xt.pos-Yt;return Ut===-1?((0,wt.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),Xt.skip(-Vt),this.findDefaultInlineStreamEnd(Xt)):(this.inlineStreamSkipEI(Xt),Vt)}findASCII85DecodeInlineStreamEnd(Xt){const Ut=Xt.pos;let Lt;for(;(Lt=Xt.getByte())!==-1;)if(Lt===126){const an=Xt.pos;for(Lt=Xt.peekByte();(0,Rt.isWhiteSpace)(Lt);)Xt.skip(),Lt=Xt.peekByte();if(Lt===62){Xt.skip();break}if(Xt.pos>an){const zt=Xt.peekBytes(2);if(zt[0]===69&&zt[1]===73)break}}const Vt=Xt.pos-Ut;return Lt===-1?((0,wt.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),Xt.skip(-Vt),this.findDefaultInlineStreamEnd(Xt)):(this.inlineStreamSkipEI(Xt),Vt)}findASCIIHexDecodeInlineStreamEnd(Xt){const un=Xt.pos;let Ut;for(;(Ut=Xt.getByte())!==-1&&Ut!==62;);const Lt=Xt.pos-un;return Ut===-1?((0,wt.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),Xt.skip(-Lt),this.findDefaultInlineStreamEnd(Xt)):(this.inlineStreamSkipEI(Xt),Lt)}inlineStreamSkipEI(Xt){let Ut=0,Lt;for(;(Lt=Xt.getByte())!==-1;)if(Ut===0)Ut=Lt===69?1:0;else if(Ut===1)Ut=Lt===73?2:0;else if(Ut===2)break}makeInlineImage(Xt){const Yt=this.lexer,un=Yt.stream,Ut=Object.create(null);let Lt;for(;!(0,kt.isCmd)(this.buf1,"ID")&&this.buf1!==kt.EOF;){if(!(this.buf1 instanceof kt.Name))throw new wt.FormatError("Dictionary key must be a name object");const hn=this.buf1.name;if(this.shift(),this.buf1===kt.EOF)break;Ut[hn]=this.getObj(Xt)}Yt.beginInlineImagePos!==-1&&(Lt=un.pos-Yt.beginInlineImagePos);const Vt=this.xref.fetchIfRef(Ut.F||Ut.Filter);let an;if(Vt instanceof kt.Name)an=Vt.name;else if(Array.isArray(Vt)){const hn=this.xref.fetchIfRef(Vt[0]);hn instanceof kt.Name&&(an=hn.name)}const zt=un.pos;let Wt;switch(an){case"DCT":case"DCTDecode":Wt=this.findDCTDecodeInlineStreamEnd(un);break;case"A85":case"ASCII85Decode":Wt=this.findASCII85DecodeInlineStreamEnd(un);break;case"AHx":case"ASCIIHexDecode":Wt=this.findASCIIHexDecodeInlineStreamEnd(un);break;default:Wt=this.findDefaultInlineStreamEnd(un)}let nn;if(Wt<jt&&Lt>0){const hn=un.pos;un.pos=Yt.beginInlineImagePos,nn=Gt(un.getBytes(Lt+Wt)),un.pos=hn;const sn=this.imageCache[nn];if(sn!==void 0)return this.buf2=kt.Cmd.get("EI"),this.shift(),sn.reset(),sn}const dn=new kt.Dict(this.xref);for(const hn in Ut)dn.set(hn,Ut[hn]);let on=un.makeSubStream(zt,Wt,dn);return Xt&&(on=Xt.createStream(on,Wt)),on=this.filter(on,dn,Wt),on.dict=dn,nn!==void 0&&(on.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[nn]=on),this.buf2=kt.Cmd.get("EI"),this.shift(),on}_findStreamLength(Xt,Yt){const{stream:un}=this.lexer;un.pos=Xt;const Ut=2048,Lt=Yt.length;for(;un.pos<un.end;){const Vt=un.peekBytes(Ut),an=Vt.length-Lt;if(an<=0)break;let zt=0;for(;zt<an;){let Wt=0;for(;Wt<Lt&&Vt[zt+Wt]===Yt[Wt];)Wt++;if(Wt>=Lt)return un.pos+=zt,un.pos-Xt;zt++}un.pos+=an}return-1}makeStream(Xt,Yt){const un=this.lexer;let Ut=un.stream;un.skipToNextLine();const Lt=Ut.pos-1;let Vt=Xt.get("Length");if(Number.isInteger(Vt)||((0,wt.info)(`Bad length "${Vt&&Vt.toString()}" in stream.`),Vt=0),Ut.pos=Lt+Vt,un.nextChar(),this.tryShift()&&(0,kt.isCmd)(this.buf2,"endstream"))this.shift();else{const an=new Uint8Array([101,110,100,115,116,114,101,97,109]);let zt=this._findStreamLength(Lt,an);if(zt<0){for(let nn=1;nn<=1;nn++){const dn=an.length-nn,on=an.slice(0,dn),hn=this._findStreamLength(Lt,on);if(hn>=0){const sn=Ut.peekBytes(dn+1)[dn];if(!(0,Rt.isWhiteSpace)(sn))break;(0,wt.info)(`Found "${(0,wt.bytesToString)(on)}" when searching for endstream command.`),zt=hn;break}}if(zt<0)throw new wt.FormatError("Missing endstream command.")}Vt=zt,un.nextChar(),this.shift(),this.shift()}return this.shift(),Ut=Ut.makeSubStream(Lt,Vt,Xt),Yt&&(Ut=Yt.createStream(Ut,Vt)),Ut=this.filter(Ut,Xt,Vt),Ut.dict=Xt,Ut}filter(Xt,Yt,un){let Ut=Yt.get("F","Filter"),Lt=Yt.get("DP","DecodeParms");if(Ut instanceof kt.Name)return Array.isArray(Lt)&&(0,wt.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(Xt,Ut.name,un,Lt);let Vt=un;if(Array.isArray(Ut)){const an=Ut,zt=Lt;for(let Wt=0,nn=an.length;Wt<nn;++Wt){if(Ut=this.xref.fetchIfRef(an[Wt]),!(Ut instanceof kt.Name))throw new wt.FormatError(`Bad filter name "${Ut}"`);Lt=null,Array.isArray(zt)&&Wt in zt&&(Lt=this.xref.fetchIfRef(zt[Wt])),Xt=this.makeFilter(Xt,Ut.name,Vt,Lt),Vt=null}}return Xt}makeFilter(Xt,Yt,un,Ut){if(un===0)return(0,wt.warn)(`Empty "${Yt}" stream.`),new ht.NullStream;try{switch(Yt){case"Fl":case"FlateDecode":return Ut?new _t.PredictorStream(new qt.FlateStream(Xt,un),un,Ut):new qt.FlateStream(Xt,un);case"LZW":case"LZWDecode":let Lt=1;return Ut?(Ut.has("EarlyChange")&&(Lt=Ut.get("EarlyChange")),new _t.PredictorStream(new Bt.LZWStream(Xt,un,Lt),un,Ut)):new Bt.LZWStream(Xt,un,Lt);case"DCT":case"DCTDecode":return new $t.JpegStream(Xt,un,Ut);case"JPX":case"JPXDecode":return new Mt.JpxStream(Xt,un,Ut);case"A85":case"ASCII85Decode":return new vt.Ascii85Stream(Xt,un);case"AHx":case"ASCIIHexDecode":return new Ft.AsciiHexStream(Xt,un);case"CCF":case"CCITTFaxDecode":return new Ht.CCITTFaxStream(Xt,un,Ut);case"RL":case"RunLengthDecode":return new Kt.RunLengthStream(Xt,un);case"JBIG2Decode":return new Nt.Jbig2Stream(Xt,un,Ut)}return(0,wt.warn)(`Filter "${Yt}" is not supported.`),Xt}catch(Lt){if(Lt instanceof Rt.MissingDataException)throw Lt;return(0,wt.warn)(`Invalid stream: "${Lt}"`),new ht.NullStream}}}Ct.Parser=Qt;const ln=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function en(bn){return bn>=48&&bn<=57?bn&15:bn>=65&&bn<=70||bn>=97&&bn<=102?(bn&15)+9:-1}class gn{constructor(Xt,Yt=null){this.stream=Xt,this.nextChar(),this.strBuf=[],this.knownCommands=Yt,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let Xt=this.currentChar,Yt=!1,un=0,Ut=1;if(Xt===45?(Ut=-1,Xt=this.nextChar(),Xt===45&&(Xt=this.nextChar())):Xt===43&&(Xt=this.nextChar()),Xt===10||Xt===13)do Xt=this.nextChar();while(Xt===10||Xt===13);if(Xt===46&&(un=10,Xt=this.nextChar()),Xt<48||Xt>57){const zt=`Invalid number: ${String.fromCharCode(Xt)} (charCode ${Xt})`;if((0,Rt.isWhiteSpace)(Xt)||Xt===-1)return(0,wt.info)(`Lexer.getNumber - "${zt}".`),0;throw new wt.FormatError(zt)}let Lt=Xt-48,Vt=0,an=1;for(;(Xt=this.nextChar())>=0;)if(Xt>=48&&Xt<=57){const zt=Xt-48;Yt?Vt=Vt*10+zt:(un!==0&&(un*=10),Lt=Lt*10+zt)}else if(Xt===46)if(un===0)un=1;else break;else if(Xt===45)(0,wt.warn)("Badly formatted number: minus sign in the middle");else if(Xt===69||Xt===101){if(Xt=this.peekChar(),Xt===43||Xt===45)an=Xt===45?-1:1,this.nextChar();else if(Xt<48||Xt>57)break;Yt=!0}else break;return un!==0&&(Lt/=un),Yt&&(Lt*=10**(an*Vt)),Ut*Lt}getString(){let Xt=1,Yt=!1;const un=this.strBuf;un.length=0;let Ut=this.nextChar();for(;;){let Lt=!1;switch(Ut|0){case-1:(0,wt.warn)("Unterminated string"),Yt=!0;break;case 40:++Xt,un.push("(");break;case 41:--Xt===0?(this.nextChar(),Yt=!0):un.push(")");break;case 92:switch(Ut=this.nextChar(),Ut){case-1:(0,wt.warn)("Unterminated string"),Yt=!0;break;case 110:un.push(`
`);break;case 114:un.push("\r");break;case 116:un.push("	");break;case 98:un.push("\b");break;case 102:un.push("\f");break;case 92:case 40:case 41:un.push(String.fromCharCode(Ut));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let Vt=Ut&15;Ut=this.nextChar(),Lt=!0,Ut>=48&&Ut<=55&&(Vt=(Vt<<3)+(Ut&15),Ut=this.nextChar(),Ut>=48&&Ut<=55&&(Lt=!1,Vt=(Vt<<3)+(Ut&15))),un.push(String.fromCharCode(Vt));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:un.push(String.fromCharCode(Ut));break}break;default:un.push(String.fromCharCode(Ut));break}if(Yt)break;Lt||(Ut=this.nextChar())}return un.join("")}getName(){let Xt,Yt;const un=this.strBuf;for(un.length=0;(Xt=this.nextChar())>=0&&!ln[Xt];)if(Xt===35){if(Xt=this.nextChar(),ln[Xt]){(0,wt.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),un.push("#");break}const Ut=en(Xt);if(Ut!==-1){Yt=Xt,Xt=this.nextChar();const Lt=en(Xt);if(Lt===-1){if((0,wt.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(Xt)}) in hexadecimal number.`),un.push("#",String.fromCharCode(Yt)),ln[Xt])break;un.push(String.fromCharCode(Xt));continue}un.push(String.fromCharCode(Ut<<4|Lt))}else un.push("#",String.fromCharCode(Xt))}else un.push(String.fromCharCode(Xt));return un.length>127&&(0,wt.warn)(`Name token is longer than allowed by the spec: ${un.length}`),kt.Name.get(un.join(""))}_hexStringWarn(Xt){if(this._hexStringNumWarn++===5){(0,wt.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,wt.warn)(`getHexString - ignoring invalid character: ${Xt}`)}getHexString(){const Xt=this.strBuf;Xt.length=0;let Yt=this.currentChar,un=!0,Ut,Lt;for(this._hexStringNumWarn=0;;)if(Yt<0){(0,wt.warn)("Unterminated hex string");break}else if(Yt===62){this.nextChar();break}else if(ln[Yt]===1){Yt=this.nextChar();continue}else{if(un){if(Ut=en(Yt),Ut===-1){this._hexStringWarn(Yt),Yt=this.nextChar();continue}}else{if(Lt=en(Yt),Lt===-1){this._hexStringWarn(Yt),Yt=this.nextChar();continue}Xt.push(String.fromCharCode(Ut<<4|Lt))}un=!un,Yt=this.nextChar()}return Xt.join("")}getObj(){let Xt=!1,Yt=this.currentChar;for(;;){if(Yt<0)return kt.EOF;if(Xt)(Yt===10||Yt===13)&&(Xt=!1);else if(Yt===37)Xt=!0;else if(ln[Yt]!==1)break;Yt=this.nextChar()}switch(Yt|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),kt.Cmd.get("[");case 93:return this.nextChar(),kt.Cmd.get("]");case 60:return Yt=this.nextChar(),Yt===60?(this.nextChar(),kt.Cmd.get("<<")):this.getHexString();case 62:return Yt=this.nextChar(),Yt===62?(this.nextChar(),kt.Cmd.get(">>")):kt.Cmd.get(">");case 123:return this.nextChar(),kt.Cmd.get("{");case 125:return this.nextChar(),kt.Cmd.get("}");case 41:throw this.nextChar(),new wt.FormatError(`Illegal character: ${Yt}`)}let un=String.fromCharCode(Yt);if(Yt<32||Yt>127){const Vt=this.peekChar();if(Vt>=32&&Vt<=127)return this.nextChar(),kt.Cmd.get(un)}const Ut=this.knownCommands;let Lt=(Ut==null?void 0:Ut[un])!==void 0;for(;(Yt=this.nextChar())>=0&&!ln[Yt];){const Vt=un+String.fromCharCode(Yt);if(Lt&&Ut[Vt]===void 0)break;if(un.length===128)throw new wt.FormatError(`Command token too long: ${un.length}`);un=Vt,Lt=(Ut==null?void 0:Ut[un])!==void 0}return un==="true"?!0:un==="false"?!1:un==="null"?null:(un==="BI"&&(this.beginInlineImagePos=this.stream.pos),kt.Cmd.get(un))}skipToNextLine(){let Xt=this.currentChar;for(;Xt>=0;){if(Xt===13){Xt=this.nextChar(),Xt===10&&this.nextChar();break}else if(Xt===10){this.nextChar();break}Xt=this.nextChar()}}}Ct.Lexer=gn;class tn{static create(Xt){function Yt(dn,on,hn=!1){const sn=dn.get(on);if(Number.isInteger(sn)&&(hn?sn>=0:sn>0))return sn;throw new Error(`The "${on}" parameter in the linearization dictionary is invalid.`)}function un(dn){const on=dn.get("H");let hn;if(Array.isArray(on)&&((hn=on.length)===2||hn===4)){for(let sn=0;sn<hn;sn++){const rn=on[sn];if(!(Number.isInteger(rn)&&rn>0))throw new Error(`Hint (${sn}) in the linearization dictionary is invalid.`)}return on}throw new Error("Hint array in the linearization dictionary is invalid.")}const Ut=new Qt({lexer:new gn(Xt),xref:null}),Lt=Ut.getObj(),Vt=Ut.getObj(),an=Ut.getObj(),zt=Ut.getObj();let Wt,nn;if(Number.isInteger(Lt)&&Number.isInteger(Vt)&&(0,kt.isCmd)(an,"obj")&&zt instanceof kt.Dict&&typeof(Wt=zt.get("Linearized"))=="number"&&Wt>0){if((nn=Yt(zt,"L"))!==Xt.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:nn,hints:un(zt),objectNumberFirst:Yt(zt,"O"),endFirst:Yt(zt,"E"),numPages:Yt(zt,"N"),mainXRefEntriesOffset:Yt(zt,"T"),pageFirst:zt.has("P")?Yt(zt,"P",!0):0}}}Ct.Linearization=tn},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Ascii85Stream=void 0;var wt=Pt(18),kt=Pt(3);class Rt extends wt.DecodeStream{constructor(vt,Ft){Ft&&(Ft*=.8),super(Ft),this.str=vt,this.dict=vt.dict,this.input=new Uint8Array(5)}readBlock(){const qt=this.str;let Nt=qt.getByte();for(;(0,kt.isWhiteSpace)(Nt);)Nt=qt.getByte();if(Nt===-1||Nt===126){this.eof=!0;return}const $t=this.bufferLength;let Mt,Bt;if(Nt===122){for(Mt=this.ensureBuffer($t+4),Bt=0;Bt<4;++Bt)Mt[$t+Bt]=0;this.bufferLength+=4}else{const _t=this.input;for(_t[0]=Nt,Bt=1;Bt<5;++Bt){for(Nt=qt.getByte();(0,kt.isWhiteSpace)(Nt);)Nt=qt.getByte();if(_t[Bt]=Nt,Nt===-1||Nt===126)break}if(Mt=this.ensureBuffer($t+Bt-1),this.bufferLength+=Bt-1,Bt<5){for(;Bt<5;++Bt)_t[Bt]=117;this.eof=!0}let Kt=0;for(Bt=0;Bt<5;++Bt)Kt=Kt*85+(_t[Bt]-33);for(Bt=3;Bt>=0;--Bt)Mt[$t+Bt]=Kt&255,Kt>>=8}}}Ct.Ascii85Stream=Rt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.StreamsSequenceStream=Ct.DecodeStream=void 0;var wt=Pt(5),kt=Pt(8);const Rt=new Uint8Array(0);class ht extends wt.BaseStream{constructor(Ht){if(super(),this._rawMinBufferLength=Ht||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=Rt,this.minBufferLength=512,Ht)for(;this.minBufferLength<Ht;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(Ht){const qt=this.buffer;if(Ht<=qt.byteLength)return qt;let Nt=this.minBufferLength;for(;Nt<Ht;)Nt*=2;const $t=new Uint8Array(Nt);return $t.set(qt),this.buffer=$t}getByte(){const Ht=this.pos;for(;this.bufferLength<=Ht;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(Ht){const qt=this.pos;let Nt;if(Ht){for(this.ensureBuffer(qt+Ht),Nt=qt+Ht;!this.eof&&this.bufferLength<Nt;)this.readBlock();const $t=this.bufferLength;Nt>$t&&(Nt=$t)}else{for(;!this.eof;)this.readBlock();Nt=this.bufferLength}return this.pos=Nt,this.buffer.subarray(qt,Nt)}reset(){this.pos=0}makeSubStream(Ht,qt,Nt=null){if(qt===void 0)for(;!this.eof;)this.readBlock();else{const $t=Ht+qt;for(;this.bufferLength<=$t&&!this.eof;)this.readBlock()}return new kt.Stream(this.buffer,Ht,qt,Nt)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}Ct.DecodeStream=ht;class vt extends ht{constructor(Ht,qt=null){let Nt=0;for(const $t of Ht)Nt+=$t instanceof ht?$t._rawMinBufferLength:$t.length;super(Nt),this.streams=Ht,this._onError=qt}readBlock(){var _t;const Ht=this.streams;if(Ht.length===0){this.eof=!0;return}const qt=Ht.shift();let Nt;try{Nt=qt.getBytes()}catch(Kt){if(this._onError){this._onError(Kt,(_t=qt.dict)==null?void 0:_t.objId);return}throw Kt}const $t=this.bufferLength,Mt=$t+Nt.length;this.ensureBuffer(Mt).set(Nt,$t),this.bufferLength=Mt}getBaseStreams(){const Ht=[];for(const qt of this.streams){const Nt=qt.getBaseStreams();Nt&&Ht.push(...Nt)}return Ht.length>0?Ht:null}}Ct.StreamsSequenceStream=vt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.AsciiHexStream=void 0;var wt=Pt(18);class kt extends wt.DecodeStream{constructor(ht,vt){vt&&(vt*=.5),super(vt),this.str=ht,this.dict=ht.dict,this.firstDigit=-1}readBlock(){const vt=this.str.getBytes(8e3);if(!vt.length){this.eof=!0;return}const Ft=vt.length+1>>1,Ht=this.ensureBuffer(this.bufferLength+Ft);let qt=this.bufferLength,Nt=this.firstDigit;for(const $t of vt){let Mt;if($t>=48&&$t<=57)Mt=$t&15;else if($t>=65&&$t<=70||$t>=97&&$t<=102)Mt=($t&15)+9;else if($t===62){this.eof=!0;break}else continue;Nt<0?Nt=Mt:(Ht[qt++]=Nt<<4|Mt,Nt=-1)}Nt>=0&&this.eof&&(Ht[qt++]=Nt<<4,Nt=-1),this.firstDigit=Nt,this.bufferLength=qt}}Ct.AsciiHexStream=kt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.CCITTFaxStream=void 0;var wt=Pt(21),kt=Pt(18),Rt=Pt(4);class ht extends kt.DecodeStream{constructor(Ft,Ht,qt){super(Ht),this.str=Ft,this.dict=Ft.dict,qt instanceof Rt.Dict||(qt=Rt.Dict.empty);const Nt={next(){return Ft.getByte()}};this.ccittFaxDecoder=new wt.CCITTFaxDecoder(Nt,{K:qt.get("K"),EndOfLine:qt.get("EndOfLine"),EncodedByteAlign:qt.get("EncodedByteAlign"),Columns:qt.get("Columns"),Rows:qt.get("Rows"),EndOfBlock:qt.get("EndOfBlock"),BlackIs1:qt.get("BlackIs1")})}readBlock(){for(;!this.eof;){const Ft=this.ccittFaxDecoder.readNextChar();if(Ft===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=Ft}}}Ct.CCITTFaxStream=ht},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.CCITTFaxDecoder=void 0;var wt=Pt(2);const kt=-2,Rt=-1,ht=0,vt=1,Ft=2,Ht=3,qt=4,Nt=5,$t=6,Mt=7,Bt=8,_t=[[-1,-1],[-1,-1],[7,Bt],[7,Mt],[6,$t],[6,$t],[6,Nt],[6,Nt],[4,ht],[4,ht],[4,ht],[4,ht],[4,ht],[4,ht],[4,ht],[4,ht],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,Ht],[3,Ht],[3,Ht],[3,Ht],[3,Ht],[3,Ht],[3,Ht],[3,Ht],[3,Ht],[3,Ht],[3,Ht],[3,Ht],[3,Ht],[3,Ht],[3,Ht],[3,Ht],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft]],Kt=[[-1,-1],[12,kt],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],jt=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],Gt=[[-1,-1],[-1,-1],[12,kt],[12,kt],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],Qt=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],ln=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class en{constructor(tn,bn={}){if(!tn||typeof tn.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=tn,this.eof=!1,this.encoding=bn.K||0,this.eoline=bn.EndOfLine||!1,this.byteAlign=bn.EncodedByteAlign||!1,this.columns=bn.Columns||1728,this.rows=bn.Rows||0,this.eoblock=bn.EndOfBlock??!0,this.black=bn.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let Xt;for(;(Xt=this._lookBits(12))===0;)this._eatBits(1);Xt===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const tn=this.refLine,bn=this.codingLine,Xt=this.columns;let Yt,un,Ut,Lt;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let an,zt,Wt;if(this.nextLine2D){for(Lt=0;bn[Lt]<Xt;++Lt)tn[Lt]=bn[Lt];for(tn[Lt++]=Xt,tn[Lt]=Xt,bn[0]=0,this.codingPos=0,Yt=0,un=0;bn[this.codingPos]<Xt;)switch(an=this._getTwoDimCode(),an){case ht:this._addPixels(tn[Yt+1],un),tn[Yt+1]<Xt&&(Yt+=2);break;case vt:if(an=zt=0,un){do an+=Wt=this._getBlackCode();while(Wt>=64);do zt+=Wt=this._getWhiteCode();while(Wt>=64)}else{do an+=Wt=this._getWhiteCode();while(Wt>=64);do zt+=Wt=this._getBlackCode();while(Wt>=64)}for(this._addPixels(bn[this.codingPos]+an,un),bn[this.codingPos]<Xt&&this._addPixels(bn[this.codingPos]+zt,un^1);tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Xt;)Yt+=2;break;case Mt:if(this._addPixels(tn[Yt]+3,un),un^=1,bn[this.codingPos]<Xt)for(++Yt;tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Xt;)Yt+=2;break;case Nt:if(this._addPixels(tn[Yt]+2,un),un^=1,bn[this.codingPos]<Xt)for(++Yt;tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Xt;)Yt+=2;break;case Ht:if(this._addPixels(tn[Yt]+1,un),un^=1,bn[this.codingPos]<Xt)for(++Yt;tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Xt;)Yt+=2;break;case Ft:if(this._addPixels(tn[Yt],un),un^=1,bn[this.codingPos]<Xt)for(++Yt;tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Xt;)Yt+=2;break;case Bt:if(this._addPixelsNeg(tn[Yt]-3,un),un^=1,bn[this.codingPos]<Xt)for(Yt>0?--Yt:++Yt;tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Xt;)Yt+=2;break;case $t:if(this._addPixelsNeg(tn[Yt]-2,un),un^=1,bn[this.codingPos]<Xt)for(Yt>0?--Yt:++Yt;tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Xt;)Yt+=2;break;case qt:if(this._addPixelsNeg(tn[Yt]-1,un),un^=1,bn[this.codingPos]<Xt)for(Yt>0?--Yt:++Yt;tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Xt;)Yt+=2;break;case Rt:this._addPixels(Xt,0),this.eof=!0;break;default:(0,wt.info)("bad 2d code"),this._addPixels(Xt,0),this.err=!0}}else for(bn[0]=0,this.codingPos=0,un=0;bn[this.codingPos]<Xt;){if(an=0,un)do an+=Wt=this._getBlackCode();while(Wt>=64);else do an+=Wt=this._getWhiteCode();while(Wt>=64);this._addPixels(bn[this.codingPos]+an,un),un^=1}let nn=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(an=this._lookBits(12),this.eoline)for(;an!==Rt&&an!==1;)this._eatBits(1),an=this._lookBits(12);else for(;an===0;)this._eatBits(1),an=this._lookBits(12);an===1?(this._eatBits(12),nn=!0):an===Rt&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&nn&&this.byteAlign){if(an=this._lookBits(12),an===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(Lt=0;Lt<4;++Lt)an=this._lookBits(12),an!==1&&(0,wt.info)("bad rtc code: "+an),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(an=this._lookBits(13),an===Rt)return this.eof=!0,-1;if(an>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(an&1))}this.outputBits=bn[0]>0?bn[this.codingPos=0]:bn[this.codingPos=1],this.row++}let Vt;if(this.outputBits>=8)Vt=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&bn[this.codingPos]<Xt&&(this.codingPos++,this.outputBits=bn[this.codingPos]-bn[this.codingPos-1]);else{Ut=8,Vt=0;do{if(typeof this.outputBits!="number")throw new wt.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>Ut?(Vt<<=Ut,this.codingPos&1||(Vt|=255>>8-Ut),this.outputBits-=Ut,Ut=0):(Vt<<=this.outputBits,this.codingPos&1||(Vt|=255>>8-this.outputBits),Ut-=this.outputBits,this.outputBits=0,bn[this.codingPos]<Xt?(this.codingPos++,this.outputBits=bn[this.codingPos]-bn[this.codingPos-1]):Ut>0&&(Vt<<=Ut,Ut=0))}while(Ut)}return this.black&&(Vt^=255),Vt}_addPixels(tn,bn){const Xt=this.codingLine;let Yt=this.codingPos;tn>Xt[Yt]&&(tn>this.columns&&((0,wt.info)("row is wrong length"),this.err=!0,tn=this.columns),Yt&1^bn&&++Yt,Xt[Yt]=tn),this.codingPos=Yt}_addPixelsNeg(tn,bn){const Xt=this.codingLine;let Yt=this.codingPos;if(tn>Xt[Yt])tn>this.columns&&((0,wt.info)("row is wrong length"),this.err=!0,tn=this.columns),Yt&1^bn&&++Yt,Xt[Yt]=tn;else if(tn<Xt[Yt]){for(tn<0&&((0,wt.info)("invalid code"),this.err=!0,tn=0);Yt>0&&tn<Xt[Yt-1];)--Yt;Xt[Yt]=tn}this.codingPos=Yt}_findTableCode(tn,bn,Xt,Yt){const un=Yt||0;for(let Ut=tn;Ut<=bn;++Ut){let Lt=this._lookBits(Ut);if(Lt===Rt)return[!0,1,!1];if(Ut<bn&&(Lt<<=bn-Ut),!un||Lt>=un){const Vt=Xt[Lt-un];if(Vt[0]===Ut)return this._eatBits(Ut),[!0,Vt[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let tn=0,bn;if(this.eoblock){if(tn=this._lookBits(7),bn=_t[tn],(bn==null?void 0:bn[0])>0)return this._eatBits(bn[0]),bn[1]}else{const Xt=this._findTableCode(1,7,_t);if(Xt[0]&&Xt[2])return Xt[1]}return(0,wt.info)("Bad two dim code"),Rt}_getWhiteCode(){let tn=0,bn;if(this.eoblock){if(tn=this._lookBits(12),tn===Rt)return 1;if(bn=tn>>5?jt[tn>>3]:Kt[tn],bn[0]>0)return this._eatBits(bn[0]),bn[1]}else{let Xt=this._findTableCode(1,9,jt);if(Xt[0]||(Xt=this._findTableCode(11,12,Kt),Xt[0]))return Xt[1]}return(0,wt.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let tn,bn;if(this.eoblock){if(tn=this._lookBits(13),tn===Rt)return 1;if(tn>>7?!(tn>>9)&&tn>>7?bn=Qt[(tn>>1)-64]:bn=ln[tn>>7]:bn=Gt[tn],bn[0]>0)return this._eatBits(bn[0]),bn[1]}else{let Xt=this._findTableCode(2,6,ln);if(Xt[0]||(Xt=this._findTableCode(7,12,Qt,64),Xt[0])||(Xt=this._findTableCode(10,13,Gt),Xt[0]))return Xt[1]}return(0,wt.info)("bad black code"),this._eatBits(1),1}_lookBits(tn){let bn;for(;this.inputBits<tn;){if((bn=this.source.next())===-1)return this.inputBits===0?Rt:this.inputBuf<<tn-this.inputBits&65535>>16-tn;this.inputBuf=this.inputBuf<<8|bn,this.inputBits+=8}return this.inputBuf>>this.inputBits-tn&65535>>16-tn}_eatBits(tn){(this.inputBits-=tn)<0&&(this.inputBits=0)}}Ct.CCITTFaxDecoder=en},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.FlateStream=void 0;var wt=Pt(18),kt=Pt(2);const Rt=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ht=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),vt=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),Ft=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],Ht=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class qt extends wt.DecodeStream{constructor($t,Mt){super(Mt),this.str=$t,this.dict=$t.dict;const Bt=$t.getByte(),_t=$t.getByte();if(Bt===-1||_t===-1)throw new kt.FormatError(`Invalid header in flate stream: ${Bt}, ${_t}`);if((Bt&15)!==8)throw new kt.FormatError(`Unknown compression method in flate stream: ${Bt}, ${_t}`);if(((Bt<<8)+_t)%31!==0)throw new kt.FormatError(`Bad FCHECK in flate stream: ${Bt}, ${_t}`);if(_t&32)throw new kt.FormatError(`FDICT bit set in flate stream: ${Bt}, ${_t}`);this.codeSize=0,this.codeBuf=0}getBits($t){const Mt=this.str;let Bt=this.codeSize,_t=this.codeBuf,Kt;for(;Bt<$t;){if((Kt=Mt.getByte())===-1)throw new kt.FormatError("Bad encoding in flate stream");_t|=Kt<<Bt,Bt+=8}return Kt=_t&(1<<$t)-1,this.codeBuf=_t>>$t,this.codeSize=Bt-=$t,Kt}getCode($t){const Mt=this.str,Bt=$t[0],_t=$t[1];let Kt=this.codeSize,jt=this.codeBuf,Gt;for(;Kt<_t&&(Gt=Mt.getByte())!==-1;)jt|=Gt<<Kt,Kt+=8;const Qt=Bt[jt&(1<<_t)-1],ln=Qt>>16,en=Qt&65535;if(ln<1||Kt<ln)throw new kt.FormatError("Bad encoding in flate stream");return this.codeBuf=jt>>ln,this.codeSize=Kt-ln,en}generateHuffmanTable($t){const Mt=$t.length;let Bt=0,_t;for(_t=0;_t<Mt;++_t)$t[_t]>Bt&&(Bt=$t[_t]);const Kt=1<<Bt,jt=new Int32Array(Kt);for(let Gt=1,Qt=0,ln=2;Gt<=Bt;++Gt,Qt<<=1,ln<<=1)for(let en=0;en<Mt;++en)if($t[en]===Gt){let gn=0,tn=Qt;for(_t=0;_t<Gt;++_t)gn=gn<<1|tn&1,tn>>=1;for(_t=gn;_t<Kt;_t+=ln)jt[_t]=Gt<<16|en;++Qt}return[jt,Bt]}readBlock(){let $t,Mt;const Bt=this.str;let _t=this.getBits(3);if(_t&1&&(this.eof=!0),_t>>=1,_t===0){let ln;if((ln=Bt.getByte())===-1)throw new kt.FormatError("Bad block header in flate stream");let en=ln;if((ln=Bt.getByte())===-1)throw new kt.FormatError("Bad block header in flate stream");if(en|=ln<<8,(ln=Bt.getByte())===-1)throw new kt.FormatError("Bad block header in flate stream");let gn=ln;if((ln=Bt.getByte())===-1)throw new kt.FormatError("Bad block header in flate stream");if(gn|=ln<<8,gn!==(~en&65535)&&(en!==0||gn!==0))throw new kt.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const tn=this.bufferLength,bn=tn+en;if($t=this.ensureBuffer(bn),this.bufferLength=bn,en===0)Bt.peekByte()===-1&&(this.eof=!0);else{const Xt=Bt.getBytes(en);$t.set(Xt,tn),Xt.length<en&&(this.eof=!0)}return}let Kt,jt;if(_t===1)Kt=Ft,jt=Ht;else if(_t===2){const ln=this.getBits(5)+257,en=this.getBits(5)+1,gn=this.getBits(4)+4,tn=new Uint8Array(Rt.length);let bn;for(bn=0;bn<gn;++bn)tn[Rt[bn]]=this.getBits(3);const Xt=this.generateHuffmanTable(tn);Mt=0,bn=0;const Yt=ln+en,un=new Uint8Array(Yt);let Ut,Lt,Vt;for(;bn<Yt;){const an=this.getCode(Xt);if(an===16)Ut=2,Lt=3,Vt=Mt;else if(an===17)Ut=3,Lt=3,Vt=Mt=0;else if(an===18)Ut=7,Lt=11,Vt=Mt=0;else{un[bn++]=Mt=an;continue}let zt=this.getBits(Ut)+Lt;for(;zt-- >0;)un[bn++]=Vt}Kt=this.generateHuffmanTable(un.subarray(0,ln)),jt=this.generateHuffmanTable(un.subarray(ln,Yt))}else throw new kt.FormatError("Unknown block type in flate stream");$t=this.buffer;let Gt=$t?$t.length:0,Qt=this.bufferLength;for(;;){let ln=this.getCode(Kt);if(ln<256){Qt+1>=Gt&&($t=this.ensureBuffer(Qt+1),Gt=$t.length),$t[Qt++]=ln;continue}if(ln===256){this.bufferLength=Qt;return}ln-=257,ln=ht[ln];let en=ln>>16;en>0&&(en=this.getBits(en)),Mt=(ln&65535)+en,ln=this.getCode(jt),ln=vt[ln],en=ln>>16,en>0&&(en=this.getBits(en));const gn=(ln&65535)+en;Qt+Mt>=Gt&&($t=this.ensureBuffer(Qt+Mt),Gt=$t.length);for(let tn=0;tn<Mt;++tn,++Qt)$t[Qt]=$t[Qt-gn]}}}Ct.FlateStream=qt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Jbig2Stream=void 0;var wt=Pt(5),kt=Pt(18),Rt=Pt(4),ht=Pt(24),vt=Pt(2);class Ft extends kt.DecodeStream{constructor(qt,Nt,$t){super(Nt),this.stream=qt,this.dict=qt.dict,this.maybeLength=Nt,this.params=$t}get bytes(){return(0,vt.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(qt){}readBlock(){if(this.eof)return;const qt=new ht.Jbig2Image,Nt=[];if(this.params instanceof Rt.Dict){const Bt=this.params.get("JBIG2Globals");if(Bt instanceof wt.BaseStream){const _t=Bt.getBytes();Nt.push({data:_t,start:0,end:_t.length})}}Nt.push({data:this.bytes,start:0,end:this.bytes.length});const $t=qt.parseChunks(Nt),Mt=$t.length;for(let Bt=0;Bt<Mt;Bt++)$t[Bt]^=255;this.buffer=$t,this.bufferLength=Mt,this.eof=!0}}Ct.Jbig2Stream=Ft},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Jbig2Image=void 0;var wt=Pt(2),kt=Pt(3),Rt=Pt(25),ht=Pt(21);class vt extends wt.BaseException{constructor(mn){super(`JBIG2 error: ${mn}`,"Jbig2Error")}}class Ft{getContexts(mn){return mn in this?this[mn]:this[mn]=new Int8Array(65536)}}class Ht{constructor(mn,fn,Jt){this.data=mn,this.start=fn,this.end=Jt}get decoder(){const mn=new Rt.ArithmeticDecoder(this.data,this.start,this.end);return(0,wt.shadow)(this,"decoder",mn)}get contextCache(){const mn=new Ft;return(0,wt.shadow)(this,"contextCache",mn)}}const qt=2**31-1,Nt=-(2**31);function $t(Sn,mn,fn){const Jt=Sn.getContexts(mn);let cn=1;function pn(Cn){let An=0;for(let Tn=0;Tn<Cn;Tn++){const Mn=fn.readBit(Jt,cn);cn=cn<256?cn<<1|Mn:(cn<<1|Mn)&511|256,An=An<<1|Mn}return An>>>0}const wn=pn(1),En=pn(1)?pn(1)?pn(1)?pn(1)?pn(1)?pn(32)+4436:pn(12)+340:pn(8)+84:pn(6)+20:pn(4)+4:pn(2);let _n;return wn===0?_n=En:En>0&&(_n=-En),_n>=Nt&&_n<=qt?_n:null}function Mt(Sn,mn,fn){const Jt=Sn.getContexts("IAID");let cn=1;for(let pn=0;pn<fn;pn++){const wn=mn.readBit(Jt,cn);cn=cn<<1|wn}return fn<31?cn&(1<<fn)-1:cn&2147483647}const Bt=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],_t=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],Kt=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],jt=[39717,1941,229,405];function Gt(Sn,mn,fn){const Jt=fn.decoder,cn=fn.contextCache.getContexts("GB"),pn=[];let wn,En,_n,Cn,An,Tn,Mn;const Rn=31735;for(En=0;En<mn;En++)for(An=pn[En]=new Uint8Array(Sn),Tn=En<1?An:pn[En-1],Mn=En<2?An:pn[En-2],wn=Mn[0]<<13|Mn[1]<<12|Mn[2]<<11|Tn[0]<<7|Tn[1]<<6|Tn[2]<<5|Tn[3]<<4,_n=0;_n<Sn;_n++)An[_n]=Cn=Jt.readBit(cn,wn),wn=(wn&Rn)<<1|(_n+3<Sn?Mn[_n+3]<<11:0)|(_n+4<Sn?Tn[_n+4]<<4:0)|Cn;return pn}function Qt(Sn,mn,fn,Jt,cn,pn,wn,En){if(Sn){const wr=new rn(En.data,En.start,En.end);return On(wr,mn,fn,!1)}if(Jt===0&&!pn&&!cn&&wn.length===4&&wn[0].x===3&&wn[0].y===-1&&wn[1].x===-3&&wn[1].y===-1&&wn[2].x===2&&wn[2].y===-2&&wn[3].x===-2&&wn[3].y===-2)return Gt(mn,fn,En);const _n=_t[Jt].concat(wn);_n.sort(function(wr,fr){return wr.y-fr.y||wr.x-fr.x});const Cn=_n.length,An=new Int8Array(Cn),Tn=new Int8Array(Cn),Mn=[];let Rn=0,Ln=0,Dn=0,Un=0,tr,er;for(er=0;er<Cn;er++)An[er]=_n[er].x,Tn[er]=_n[er].y,Ln=Math.min(Ln,_n[er].x),Dn=Math.max(Dn,_n[er].x),Un=Math.min(Un,_n[er].y),er<Cn-1&&_n[er].y===_n[er+1].y&&_n[er].x===_n[er+1].x-1?Rn|=1<<Cn-1-er:Mn.push(er);const Qn=Mn.length,Yn=new Int8Array(Qn),zn=new Int8Array(Qn),nr=new Uint16Array(Qn);for(tr=0;tr<Qn;tr++)er=Mn[tr],Yn[tr]=_n[er].x,zn[tr]=_n[er].y,nr[tr]=1<<Cn-1-er;const lr=-Ln,dr=-Un,jn=mn-Dn,Hn=jt[Jt];let Xn=new Uint8Array(mn);const cr=[],sr=En.decoder,xr=En.contextCache.getContexts("GB");let Jn=0,Wn,Zn,ur,hr=0,or,pr;for(let wr=0;wr<fn;wr++){if(cn){const fr=sr.readBit(xr,Hn);if(Jn^=fr,Jn){cr.push(Xn);continue}}for(Xn=new Uint8Array(Xn),cr.push(Xn),Wn=0;Wn<mn;Wn++){if(Wn>=lr&&Wn<jn&&wr>=dr)for(hr=hr<<1&Rn,er=0;er<Qn;er++)Zn=wr+zn[er],ur=Wn+Yn[er],or=cr[Zn][ur],or&&(or=nr[er],hr|=or);else for(hr=0,pr=Cn-1,er=0;er<Cn;er++,pr--)ur=Wn+An[er],ur>=0&&ur<mn&&(Zn=wr+Tn[er],Zn>=0&&(or=cr[Zn][ur],or&&(hr|=or<<pr)));const fr=sr.readBit(xr,hr);Xn[Wn]=fr}}return cr}function ln(Sn,mn,fn,Jt,cn,pn,wn,En,_n){let Cn=Kt[fn].coding;fn===0&&(Cn=Cn.concat([En[0]]));const An=Cn.length,Tn=new Int32Array(An),Mn=new Int32Array(An);let Rn;for(Rn=0;Rn<An;Rn++)Tn[Rn]=Cn[Rn].x,Mn[Rn]=Cn[Rn].y;let Ln=Kt[fn].reference;fn===0&&(Ln=Ln.concat([En[1]]));const Dn=Ln.length,Un=new Int32Array(Dn),tr=new Int32Array(Dn);for(Rn=0;Rn<Dn;Rn++)Un[Rn]=Ln[Rn].x,tr[Rn]=Ln[Rn].y;const er=Jt[0].length,Qn=Jt.length,Yn=[],zn=_n.decoder,nr=_n.contextCache.getContexts("GR");for(let lr=0;lr<mn;lr++){const dr=new Uint8Array(Sn);Yn.push(dr);for(let jn=0;jn<Sn;jn++){let Hn,Xn,cr=0;for(Rn=0;Rn<An;Rn++)Hn=lr+Mn[Rn],Xn=jn+Tn[Rn],Hn<0||Xn<0||Xn>=Sn?cr<<=1:cr=cr<<1|Yn[Hn][Xn];for(Rn=0;Rn<Dn;Rn++)Hn=lr+tr[Rn]-pn,Xn=jn+Un[Rn]-cn,Hn<0||Hn>=Qn||Xn<0||Xn>=er?cr<<=1:cr=cr<<1|Jt[Hn][Xn];const sr=zn.readBit(nr,cr);dr[jn]=sr}}return Yn}function en(Sn,mn,fn,Jt,cn,pn,wn,En,_n,Cn,An,Tn){if(Sn&&mn)throw new vt("symbol refinement with Huffman is not supported");const Mn=[];let Rn=0,Ln=(0,kt.log2)(fn.length+Jt);const Dn=An.decoder,Un=An.contextCache;let tr,er;for(Sn&&(tr=sn(1),er=[],Ln=Math.max(Ln,1));Mn.length<Jt;){const jn=Sn?pn.tableDeltaHeight.decode(Tn):$t(Un,"IADH",Dn);Rn+=jn;let Hn=0,Xn=0;const cr=Sn?er.length:0;for(;;){const sr=Sn?pn.tableDeltaWidth.decode(Tn):$t(Un,"IADW",Dn);if(sr===null)break;Hn+=sr,Xn+=Hn;let xr;if(mn){const Jn=$t(Un,"IAAI",Dn);if(Jn>1)xr=gn(Sn,mn,Hn,Rn,0,Jn,1,fn.concat(Mn),Ln,0,0,1,0,pn,_n,Cn,An,0,Tn);else{const Wn=Mt(Un,Dn,Ln),Zn=$t(Un,"IARDX",Dn),ur=$t(Un,"IARDY",Dn),hr=Wn<fn.length?fn[Wn]:Mn[Wn-fn.length];xr=ln(Hn,Rn,_n,hr,Zn,ur,!1,Cn,An)}Mn.push(xr)}else Sn?er.push(Hn):(xr=Qt(!1,Hn,Rn,wn,!1,null,En,An),Mn.push(xr))}if(Sn&&!mn){const sr=pn.tableBitmapSize.decode(Tn);Tn.byteAlign();let xr;if(sr===0)xr=Fn(Tn,Xn,Rn);else{const Wn=Tn.end,Zn=Tn.position+sr;Tn.end=Zn,xr=On(Tn,Xn,Rn,!1),Tn.end=Wn,Tn.position=Zn}const Jn=er.length;if(cr===Jn-1)Mn.push(xr);else{let Wn,Zn,ur=0,hr,or,pr;for(Wn=cr;Wn<Jn;Wn++){for(or=er[Wn],hr=ur+or,pr=[],Zn=0;Zn<Rn;Zn++)pr.push(xr[Zn].subarray(ur,hr));Mn.push(pr),ur=hr}}}}const Qn=[],Yn=[];let zn=!1,nr,lr;const dr=fn.length+Jt;for(;Yn.length<dr;){let jn=Sn?tr.decode(Tn):$t(Un,"IAEX",Dn);for(;jn--;)Yn.push(zn);zn=!zn}for(nr=0,lr=fn.length;nr<lr;nr++)Yn[nr]&&Qn.push(fn[nr]);for(let jn=0;jn<Jt;nr++,jn++)Yn[nr]&&Qn.push(Mn[jn]);return Qn}function gn(Sn,mn,fn,Jt,cn,pn,wn,En,_n,Cn,An,Tn,Mn,Rn,Ln,Dn,Un,tr,er){if(Sn&&mn)throw new vt("refinement with Huffman is not supported");const Qn=[];let Yn,zn;for(Yn=0;Yn<Jt;Yn++){if(zn=new Uint8Array(fn),cn)for(let Hn=0;Hn<fn;Hn++)zn[Hn]=cn;Qn.push(zn)}const nr=Un.decoder,lr=Un.contextCache;let dr=Sn?-Rn.tableDeltaT.decode(er):-$t(lr,"IADT",nr),jn=0;for(Yn=0;Yn<pn;){const Hn=Sn?Rn.tableDeltaT.decode(er):$t(lr,"IADT",nr);dr+=Hn;const Xn=Sn?Rn.tableFirstS.decode(er):$t(lr,"IAFS",nr);jn+=Xn;let cr=jn;do{let sr=0;wn>1&&(sr=Sn?er.readBits(tr):$t(lr,"IAIT",nr));const xr=wn*dr+sr,Jn=Sn?Rn.symbolIDTable.decode(er):Mt(lr,nr,_n),Wn=mn&&(Sn?er.readBit():$t(lr,"IARI",nr));let Zn=En[Jn],ur=Zn[0].length,hr=Zn.length;if(Wn){const Fr=$t(lr,"IARDW",nr),$r=$t(lr,"IARDH",nr),Cr=$t(lr,"IARDX",nr),Pr=$t(lr,"IARDY",nr);ur+=Fr,hr+=$r,Zn=ln(ur,hr,Ln,Zn,(Fr>>1)+Cr,($r>>1)+Pr,!1,Dn,Un)}const or=xr-(Tn&1?0:hr-1),pr=cr-(Tn&2?ur-1:0);let wr,fr,Ar;if(Cn){for(wr=0;wr<hr;wr++){if(zn=Qn[pr+wr],!zn)continue;Ar=Zn[wr];const Fr=Math.min(fn-or,ur);switch(Mn){case 0:for(fr=0;fr<Fr;fr++)zn[or+fr]|=Ar[fr];break;case 2:for(fr=0;fr<Fr;fr++)zn[or+fr]^=Ar[fr];break;default:throw new vt(`operator ${Mn} is not supported`)}}cr+=hr-1}else{for(fr=0;fr<hr;fr++)if(zn=Qn[or+fr],!!zn)switch(Ar=Zn[fr],Mn){case 0:for(wr=0;wr<ur;wr++)zn[pr+wr]|=Ar[wr];break;case 2:for(wr=0;wr<ur;wr++)zn[pr+wr]^=Ar[wr];break;default:throw new vt(`operator ${Mn} is not supported`)}cr+=ur-1}Yn++;const Dr=Sn?Rn.tableDeltaS.decode(er):$t(lr,"IADS",nr);if(Dr===null)break;cr+=Dr+An}while(!0)}return Qn}function tn(Sn,mn,fn,Jt,cn,pn){const wn=[];Sn||(wn.push({x:-mn,y:0}),cn===0&&wn.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const En=(Jt+1)*mn,_n=Qt(Sn,En,fn,cn,!1,null,wn,pn),Cn=[];for(let An=0;An<=Jt;An++){const Tn=[],Mn=mn*An,Rn=Mn+mn;for(let Ln=0;Ln<fn;Ln++)Tn.push(_n[Ln].subarray(Mn,Rn));Cn.push(Tn)}return Cn}function bn(Sn,mn,fn,Jt,cn,pn,wn,En,_n,Cn,An,Tn,Mn,Rn,Ln){if(wn)throw new vt("skip is not supported");if(En!==0)throw new vt(`operator "${En}" is not supported in halftone region`);const Un=[];let tr,er,Qn;for(tr=0;tr<cn;tr++){if(Qn=new Uint8Array(Jt),pn)for(er=0;er<Jt;er++)Qn[er]=pn;Un.push(Qn)}const Yn=mn.length,zn=mn[0],nr=zn[0].length,lr=zn.length,dr=(0,kt.log2)(Yn),jn=[];Sn||(jn.push({x:fn<=1?3:2,y:-1}),fn===0&&jn.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Hn=[];let Xn,cr;for(Sn&&(Xn=new rn(Ln.data,Ln.start,Ln.end)),tr=dr-1;tr>=0;tr--)Sn?cr=On(Xn,_n,Cn,!0):cr=Qt(!1,_n,Cn,fn,!1,null,jn,Ln),Hn[tr]=cr;let sr,xr,Jn,Wn,Zn,ur,hr,or,pr;for(sr=0;sr<Cn;sr++)for(xr=0;xr<_n;xr++){for(Jn=0,Wn=0,er=dr-1;er>=0;er--)Jn^=Hn[er][sr][xr],Wn|=Jn<<er;if(Zn=mn[Wn],ur=An+sr*Rn+xr*Mn>>8,hr=Tn+sr*Mn-xr*Rn>>8,ur>=0&&ur+nr<=Jt&&hr>=0&&hr+lr<=cn)for(tr=0;tr<lr;tr++)for(pr=Un[hr+tr],or=Zn[tr],er=0;er<nr;er++)pr[ur+er]|=or[er];else{let wr,fr;for(tr=0;tr<lr;tr++)if(fr=hr+tr,!(fr<0||fr>=cn))for(pr=Un[fr],or=Zn[tr],er=0;er<nr;er++)wr=ur+er,wr>=0&&wr<Jt&&(pr[wr]|=or[er])}}return Un}function Xt(Sn,mn){const fn={};fn.number=(0,kt.readUint32)(Sn,mn);const Jt=Sn[mn+4],cn=Jt&63;if(!Bt[cn])throw new vt("invalid segment type: "+cn);fn.type=cn,fn.typeName=Bt[cn],fn.deferredNonRetain=!!(Jt&128);const pn=!!(Jt&64),wn=Sn[mn+5];let En=wn>>5&7;const _n=[wn&31];let Cn=mn+6;if(wn===7){En=(0,kt.readUint32)(Sn,Cn-1)&536870911,Cn+=3;let Ln=En+7>>3;for(_n[0]=Sn[Cn++];--Ln>0;)_n.push(Sn[Cn++])}else if(wn===5||wn===6)throw new vt("invalid referred-to flags");fn.retainBits=_n;let An=4;fn.number<=256?An=1:fn.number<=65536&&(An=2);const Tn=[];let Mn,Rn;for(Mn=0;Mn<En;Mn++){let Ln;An===1?Ln=Sn[Cn]:An===2?Ln=(0,kt.readUint16)(Sn,Cn):Ln=(0,kt.readUint32)(Sn,Cn),Tn.push(Ln),Cn+=An}if(fn.referredTo=Tn,pn?(fn.pageAssociation=(0,kt.readUint32)(Sn,Cn),Cn+=4):fn.pageAssociation=Sn[Cn++],fn.length=(0,kt.readUint32)(Sn,Cn),Cn+=4,fn.length===4294967295)if(cn===38){const Ln=un(Sn,Cn),Un=!!(Sn[Cn+Ut]&1),tr=6,er=new Uint8Array(tr);for(Un||(er[0]=255,er[1]=172),er[2]=Ln.height>>>24&255,er[3]=Ln.height>>16&255,er[4]=Ln.height>>8&255,er[5]=Ln.height&255,Mn=Cn,Rn=Sn.length;Mn<Rn;Mn++){let Qn=0;for(;Qn<tr&&er[Qn]===Sn[Mn+Qn];)Qn++;if(Qn===tr){fn.length=Mn+tr;break}}if(fn.length===4294967295)throw new vt("segment end was not found")}else throw new vt("invalid unknown segment length");return fn.headerEnd=Cn,fn}function Yt(Sn,mn,fn,Jt){const cn=[];let pn=fn;for(;pn<Jt;){const wn=Xt(mn,pn);pn=wn.headerEnd;const En={header:wn,data:mn};if(Sn.randomAccess||(En.start=pn,pn+=wn.length,En.end=pn),cn.push(En),wn.type===51)break}if(Sn.randomAccess)for(let wn=0,En=cn.length;wn<En;wn++)cn[wn].start=pn,pn+=cn[wn].header.length,cn[wn].end=pn;return cn}function un(Sn,mn){return{width:(0,kt.readUint32)(Sn,mn),height:(0,kt.readUint32)(Sn,mn+4),x:(0,kt.readUint32)(Sn,mn+8),y:(0,kt.readUint32)(Sn,mn+12),combinationOperator:Sn[mn+16]&7}}const Ut=17;function Lt(Sn,mn){const fn=Sn.header,Jt=Sn.data,cn=Sn.end;let pn=Sn.start,wn,En,_n,Cn;switch(fn.type){case 0:const Tn={},Mn=(0,kt.readUint16)(Jt,pn);if(Tn.huffman=!!(Mn&1),Tn.refinement=!!(Mn&2),Tn.huffmanDHSelector=Mn>>2&3,Tn.huffmanDWSelector=Mn>>4&3,Tn.bitmapSizeSelector=Mn>>6&1,Tn.aggregationInstancesSelector=Mn>>7&1,Tn.bitmapCodingContextUsed=!!(Mn&256),Tn.bitmapCodingContextRetained=!!(Mn&512),Tn.template=Mn>>10&3,Tn.refinementTemplate=Mn>>12&1,pn+=2,!Tn.huffman){for(Cn=Tn.template===0?4:1,En=[],_n=0;_n<Cn;_n++)En.push({x:(0,kt.readInt8)(Jt,pn),y:(0,kt.readInt8)(Jt,pn+1)}),pn+=2;Tn.at=En}if(Tn.refinement&&!Tn.refinementTemplate){for(En=[],_n=0;_n<2;_n++)En.push({x:(0,kt.readInt8)(Jt,pn),y:(0,kt.readInt8)(Jt,pn+1)}),pn+=2;Tn.refinementAt=En}Tn.numberOfExportedSymbols=(0,kt.readUint32)(Jt,pn),pn+=4,Tn.numberOfNewSymbols=(0,kt.readUint32)(Jt,pn),pn+=4,wn=[Tn,fn.number,fn.referredTo,Jt,pn,cn];break;case 6:case 7:const Rn={};Rn.info=un(Jt,pn),pn+=Ut;const Ln=(0,kt.readUint16)(Jt,pn);if(pn+=2,Rn.huffman=!!(Ln&1),Rn.refinement=!!(Ln&2),Rn.logStripSize=Ln>>2&3,Rn.stripSize=1<<Rn.logStripSize,Rn.referenceCorner=Ln>>4&3,Rn.transposed=!!(Ln&64),Rn.combinationOperator=Ln>>7&3,Rn.defaultPixelValue=Ln>>9&1,Rn.dsOffset=Ln<<17>>27,Rn.refinementTemplate=Ln>>15&1,Rn.huffman){const lr=(0,kt.readUint16)(Jt,pn);pn+=2,Rn.huffmanFS=lr&3,Rn.huffmanDS=lr>>2&3,Rn.huffmanDT=lr>>4&3,Rn.huffmanRefinementDW=lr>>6&3,Rn.huffmanRefinementDH=lr>>8&3,Rn.huffmanRefinementDX=lr>>10&3,Rn.huffmanRefinementDY=lr>>12&3,Rn.huffmanRefinementSizeSelector=!!(lr&16384)}if(Rn.refinement&&!Rn.refinementTemplate){for(En=[],_n=0;_n<2;_n++)En.push({x:(0,kt.readInt8)(Jt,pn),y:(0,kt.readInt8)(Jt,pn+1)}),pn+=2;Rn.refinementAt=En}Rn.numberOfSymbolInstances=(0,kt.readUint32)(Jt,pn),pn+=4,wn=[Rn,fn.referredTo,Jt,pn,cn];break;case 16:const Dn={},Un=Jt[pn++];Dn.mmr=!!(Un&1),Dn.template=Un>>1&3,Dn.patternWidth=Jt[pn++],Dn.patternHeight=Jt[pn++],Dn.maxPatternIndex=(0,kt.readUint32)(Jt,pn),pn+=4,wn=[Dn,fn.number,Jt,pn,cn];break;case 22:case 23:const tr={};tr.info=un(Jt,pn),pn+=Ut;const er=Jt[pn++];tr.mmr=!!(er&1),tr.template=er>>1&3,tr.enableSkip=!!(er&8),tr.combinationOperator=er>>4&7,tr.defaultPixelValue=er>>7&1,tr.gridWidth=(0,kt.readUint32)(Jt,pn),pn+=4,tr.gridHeight=(0,kt.readUint32)(Jt,pn),pn+=4,tr.gridOffsetX=(0,kt.readUint32)(Jt,pn)&4294967295,pn+=4,tr.gridOffsetY=(0,kt.readUint32)(Jt,pn)&4294967295,pn+=4,tr.gridVectorX=(0,kt.readUint16)(Jt,pn),pn+=2,tr.gridVectorY=(0,kt.readUint16)(Jt,pn),pn+=2,wn=[tr,fn.referredTo,Jt,pn,cn];break;case 38:case 39:const Qn={};Qn.info=un(Jt,pn),pn+=Ut;const Yn=Jt[pn++];if(Qn.mmr=!!(Yn&1),Qn.template=Yn>>1&3,Qn.prediction=!!(Yn&8),!Qn.mmr){for(Cn=Qn.template===0?4:1,En=[],_n=0;_n<Cn;_n++)En.push({x:(0,kt.readInt8)(Jt,pn),y:(0,kt.readInt8)(Jt,pn+1)}),pn+=2;Qn.at=En}wn=[Qn,Jt,pn,cn];break;case 48:const zn={width:(0,kt.readUint32)(Jt,pn),height:(0,kt.readUint32)(Jt,pn+4),resolutionX:(0,kt.readUint32)(Jt,pn+8),resolutionY:(0,kt.readUint32)(Jt,pn+12)};zn.height===4294967295&&delete zn.height;const nr=Jt[pn+16];(0,kt.readUint16)(Jt,pn+17),zn.lossless=!!(nr&1),zn.refinement=!!(nr&2),zn.defaultPixelValue=nr>>2&1,zn.combinationOperator=nr>>3&3,zn.requiresBuffer=!!(nr&32),zn.combinationOperatorOverride=!!(nr&64),wn=[zn];break;case 49:break;case 50:break;case 51:break;case 53:wn=[fn.number,Jt,pn,cn];break;case 62:break;default:throw new vt(`segment type ${fn.typeName}(${fn.type}) is not implemented`)}const An="on"+fn.typeName;An in mn&&mn[An].apply(mn,wn)}function Vt(Sn,mn){for(let fn=0,Jt=Sn.length;fn<Jt;fn++)Lt(Sn[fn],mn)}function an(Sn){const mn=new zt;for(let fn=0,Jt=Sn.length;fn<Jt;fn++){const cn=Sn[fn],pn=Yt({},cn.data,cn.start,cn.end);Vt(pn,mn)}return mn.buffer}class zt{onPageInformation(mn){this.currentPageInfo=mn;const fn=mn.width+7>>3,Jt=new Uint8ClampedArray(fn*mn.height);mn.defaultPixelValue&&Jt.fill(255),this.buffer=Jt}drawBitmap(mn,fn){const Jt=this.currentPageInfo,cn=mn.width,pn=mn.height,wn=Jt.width+7>>3,En=Jt.combinationOperatorOverride?mn.combinationOperator:Jt.combinationOperator,_n=this.buffer,Cn=128>>(mn.x&7);let An=mn.y*wn+(mn.x>>3),Tn,Mn,Rn,Ln;switch(En){case 0:for(Tn=0;Tn<pn;Tn++){for(Rn=Cn,Ln=An,Mn=0;Mn<cn;Mn++)fn[Tn][Mn]&&(_n[Ln]|=Rn),Rn>>=1,Rn||(Rn=128,Ln++);An+=wn}break;case 2:for(Tn=0;Tn<pn;Tn++){for(Rn=Cn,Ln=An,Mn=0;Mn<cn;Mn++)fn[Tn][Mn]&&(_n[Ln]^=Rn),Rn>>=1,Rn||(Rn=128,Ln++);An+=wn}break;default:throw new vt(`operator ${En} is not supported`)}}onImmediateGenericRegion(mn,fn,Jt,cn){const pn=mn.info,wn=new Ht(fn,Jt,cn),En=Qt(mn.mmr,pn.width,pn.height,mn.template,mn.prediction,null,mn.at,wn);this.drawBitmap(pn,En)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(mn,fn,Jt,cn,pn,wn){let En,_n;mn.huffman&&(En=kn(mn,Jt,this.customTables),_n=new rn(cn,pn,wn));let Cn=this.symbols;Cn||(this.symbols=Cn={});const An=[];for(const Mn of Jt){const Rn=Cn[Mn];Rn&&An.push(...Rn)}const Tn=new Ht(cn,pn,wn);Cn[fn]=en(mn.huffman,mn.refinement,An,mn.numberOfNewSymbols,mn.numberOfExportedSymbols,En,mn.template,mn.at,mn.refinementTemplate,mn.refinementAt,Tn,_n)}onImmediateTextRegion(mn,fn,Jt,cn,pn){const wn=mn.info;let En,_n;const Cn=this.symbols,An=[];for(const Ln of fn){const Dn=Cn[Ln];Dn&&An.push(...Dn)}const Tn=(0,kt.log2)(An.length);mn.huffman&&(_n=new rn(Jt,cn,pn),En=vn(mn,fn,this.customTables,An.length,_n));const Mn=new Ht(Jt,cn,pn),Rn=gn(mn.huffman,mn.refinement,wn.width,wn.height,mn.defaultPixelValue,mn.numberOfSymbolInstances,mn.stripSize,An,Tn,mn.transposed,mn.dsOffset,mn.referenceCorner,mn.combinationOperator,En,mn.refinementTemplate,mn.refinementAt,Mn,mn.logStripSize,_n);this.drawBitmap(wn,Rn)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(mn,fn,Jt,cn,pn){let wn=this.patterns;wn||(this.patterns=wn={});const En=new Ht(Jt,cn,pn);wn[fn]=tn(mn.mmr,mn.patternWidth,mn.patternHeight,mn.maxPatternIndex,mn.template,En)}onImmediateHalftoneRegion(mn,fn,Jt,cn,pn){const wn=this.patterns[fn[0]],En=mn.info,_n=new Ht(Jt,cn,pn),Cn=bn(mn.mmr,wn,mn.template,En.width,En.height,mn.defaultPixelValue,mn.enableSkip,mn.combinationOperator,mn.gridWidth,mn.gridHeight,mn.gridOffsetX,mn.gridOffsetY,mn.gridVectorX,mn.gridVectorY,_n);this.drawBitmap(En,Cn)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(mn,fn,Jt,cn){let pn=this.customTables;pn||(this.customTables=pn={}),pn[mn]=on(fn,Jt,cn)}}class Wt{constructor(mn){mn.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=mn[0],this.rangeLength=0,this.prefixCode=mn[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=mn[0],this.prefixLength=mn[1],this.rangeLength=mn[2],this.prefixCode=mn[3],this.isLowerRange=mn[4]==="lower")}}class nn{constructor(mn){this.children=[],mn?(this.isLeaf=!0,this.rangeLength=mn.rangeLength,this.rangeLow=mn.rangeLow,this.isLowerRange=mn.isLowerRange,this.isOOB=mn.isOOB):this.isLeaf=!1}buildTree(mn,fn){const Jt=mn.prefixCode>>fn&1;if(fn<=0)this.children[Jt]=new nn(mn);else{let cn=this.children[Jt];cn||(this.children[Jt]=cn=new nn(null)),cn.buildTree(mn,fn-1)}}decodeNode(mn){if(this.isLeaf){if(this.isOOB)return null;const Jt=mn.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-Jt:Jt)}const fn=this.children[mn.readBit()];if(!fn)throw new vt("invalid Huffman data");return fn.decodeNode(mn)}}class dn{constructor(mn,fn){fn||this.assignPrefixCodes(mn),this.rootNode=new nn(null);for(let Jt=0,cn=mn.length;Jt<cn;Jt++){const pn=mn[Jt];pn.prefixLength>0&&this.rootNode.buildTree(pn,pn.prefixLength-1)}}decode(mn){return this.rootNode.decodeNode(mn)}assignPrefixCodes(mn){const fn=mn.length;let Jt=0;for(let An=0;An<fn;An++)Jt=Math.max(Jt,mn[An].prefixLength);const cn=new Uint32Array(Jt+1);for(let An=0;An<fn;An++)cn[mn[An].prefixLength]++;let pn=1,wn=0,En,_n,Cn;for(cn[0]=0;pn<=Jt;){for(wn=wn+cn[pn-1]<<1,En=wn,_n=0;_n<fn;)Cn=mn[_n],Cn.prefixLength===pn&&(Cn.prefixCode=En,En++),_n++;pn++}}}function on(Sn,mn,fn){const Jt=Sn[mn],cn=(0,kt.readUint32)(Sn,mn+1)&4294967295,pn=(0,kt.readUint32)(Sn,mn+5)&4294967295,wn=new rn(Sn,mn+9,fn),En=(Jt>>1&7)+1,_n=(Jt>>4&7)+1,Cn=[];let An,Tn,Mn=cn;do An=wn.readBits(En),Tn=wn.readBits(_n),Cn.push(new Wt([Mn,An,Tn,0])),Mn+=1<<Tn;while(Mn<pn);return An=wn.readBits(En),Cn.push(new Wt([cn-1,An,32,0,"lower"])),An=wn.readBits(En),Cn.push(new Wt([pn,An,32,0])),Jt&1&&(An=wn.readBits(En),Cn.push(new Wt([An,0]))),new dn(Cn,!1)}const hn={};function sn(Sn){let mn=hn[Sn];if(mn)return mn;let fn;switch(Sn){case 1:fn=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:fn=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:fn=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:fn=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:fn=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:fn=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:fn=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:fn=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:fn=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:fn=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:fn=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:fn=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:fn=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:fn=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:fn=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new vt(`standard table B.${Sn} does not exist`)}for(let Jt=0,cn=fn.length;Jt<cn;Jt++)fn[Jt]=new Wt(fn[Jt]);return mn=new dn(fn,!0),hn[Sn]=mn,mn}class rn{constructor(mn,fn,Jt){this.data=mn,this.start=fn,this.end=Jt,this.position=fn,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new vt("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const mn=this.currentByte>>this.shift&1;return this.shift--,mn}readBits(mn){let fn=0,Jt;for(Jt=mn-1;Jt>=0;Jt--)fn|=this.readBit()<<Jt;return fn}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function xn(Sn,mn,fn){let Jt=0;for(let cn=0,pn=mn.length;cn<pn;cn++){const wn=fn[mn[cn]];if(wn){if(Sn===Jt)return wn;Jt++}}throw new vt("can't find custom Huffman table")}function vn(Sn,mn,fn,Jt,cn){const pn=[];for(let Mn=0;Mn<=34;Mn++){const Rn=cn.readBits(4);pn.push(new Wt([Mn,Rn,0,0]))}const wn=new dn(pn,!1);pn.length=0;for(let Mn=0;Mn<Jt;){const Rn=wn.decode(cn);if(Rn>=32){let Ln,Dn,Un;switch(Rn){case 32:if(Mn===0)throw new vt("no previous value in symbol ID table");Dn=cn.readBits(2)+3,Ln=pn[Mn-1].prefixLength;break;case 33:Dn=cn.readBits(3)+3,Ln=0;break;case 34:Dn=cn.readBits(7)+11,Ln=0;break;default:throw new vt("invalid code length in symbol ID table")}for(Un=0;Un<Dn;Un++)pn.push(new Wt([Mn,Ln,0,0])),Mn++}else pn.push(new Wt([Mn,Rn,0,0])),Mn++}cn.byteAlign();const En=new dn(pn,!1);let _n=0,Cn,An,Tn;switch(Sn.huffmanFS){case 0:case 1:Cn=sn(Sn.huffmanFS+6);break;case 3:Cn=xn(_n,mn,fn),_n++;break;default:throw new vt("invalid Huffman FS selector")}switch(Sn.huffmanDS){case 0:case 1:case 2:An=sn(Sn.huffmanDS+8);break;case 3:An=xn(_n,mn,fn),_n++;break;default:throw new vt("invalid Huffman DS selector")}switch(Sn.huffmanDT){case 0:case 1:case 2:Tn=sn(Sn.huffmanDT+11);break;case 3:Tn=xn(_n,mn,fn),_n++;break;default:throw new vt("invalid Huffman DT selector")}if(Sn.refinement)throw new vt("refinement with Huffman is not supported");return{symbolIDTable:En,tableFirstS:Cn,tableDeltaS:An,tableDeltaT:Tn}}function kn(Sn,mn,fn){let Jt=0,cn,pn;switch(Sn.huffmanDHSelector){case 0:case 1:cn=sn(Sn.huffmanDHSelector+4);break;case 3:cn=xn(Jt,mn,fn),Jt++;break;default:throw new vt("invalid Huffman DH selector")}switch(Sn.huffmanDWSelector){case 0:case 1:pn=sn(Sn.huffmanDWSelector+2);break;case 3:pn=xn(Jt,mn,fn),Jt++;break;default:throw new vt("invalid Huffman DW selector")}let wn,En;return Sn.bitmapSizeSelector?(wn=xn(Jt,mn,fn),Jt++):wn=sn(1),Sn.aggregationInstancesSelector?En=xn(Jt,mn,fn):En=sn(1),{tableDeltaHeight:cn,tableDeltaWidth:pn,tableBitmapSize:wn,tableAggregateInstances:En}}function Fn(Sn,mn,fn){const Jt=[];for(let cn=0;cn<fn;cn++){const pn=new Uint8Array(mn);Jt.push(pn);for(let wn=0;wn<mn;wn++)pn[wn]=Sn.readBit();Sn.byteAlign()}return Jt}function On(Sn,mn,fn,Jt){const cn={K:-1,Columns:mn,Rows:fn,BlackIs1:!0,EndOfBlock:Jt},pn=new ht.CCITTFaxDecoder(Sn,cn),wn=[];let En,_n=!1;for(let Cn=0;Cn<fn;Cn++){const An=new Uint8Array(mn);wn.push(An);let Tn=-1;for(let Mn=0;Mn<mn;Mn++)Tn<0&&(En=pn.readNextChar(),En===-1&&(En=0,_n=!0),Tn=7),An[Mn]=En>>Tn&1,Tn--}if(Jt&&!_n)for(let An=0;An<5&&pn.readNextChar()!==-1;An++);return wn}class Pn{parseChunks(mn){return an(mn)}parse(mn){throw new Error("Not implemented: Jbig2Image.parse")}}Ct.Jbig2Image=Pn},(Et,Ct)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.ArithmeticDecoder=void 0;const Pt=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class wt{constructor(Rt,ht,vt){this.data=Rt,this.bp=ht,this.dataEnd=vt,this.chigh=Rt[ht],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const Rt=this.data;let ht=this.bp;Rt[ht]===255?Rt[ht+1]>143?(this.clow+=65280,this.ct=8):(ht++,this.clow+=Rt[ht]<<9,this.ct=7,this.bp=ht):(ht++,this.clow+=ht<this.dataEnd?Rt[ht]<<8:65280,this.ct=8,this.bp=ht),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(Rt,ht){let vt=Rt[ht]>>1,Ft=Rt[ht]&1;const Ht=Pt[vt],qt=Ht.qe;let Nt,$t=this.a-qt;if(this.chigh<qt)$t<qt?($t=qt,Nt=Ft,vt=Ht.nmps):($t=qt,Nt=1^Ft,Ht.switchFlag===1&&(Ft=Nt),vt=Ht.nlps);else{if(this.chigh-=qt,$t&32768)return this.a=$t,Ft;$t<qt?(Nt=1^Ft,Ht.switchFlag===1&&(Ft=Nt),vt=Ht.nlps):(Nt=Ft,vt=Ht.nmps)}do this.ct===0&&this.byteIn(),$t<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!($t&32768));return this.a=$t,Rt[ht]=vt<<1|Ft,Nt}}Ct.ArithmeticDecoder=wt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.JpegStream=void 0;var wt=Pt(18),kt=Pt(4),Rt=Pt(27),ht=Pt(2);class vt extends wt.DecodeStream{constructor(Ht,qt,Nt){let $t;for(;($t=Ht.getByte())!==-1;)if($t===255){Ht.skip(-1);break}super(qt),this.stream=Ht,this.dict=Ht.dict,this.maybeLength=qt,this.params=Nt}get bytes(){return(0,ht.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Ht){}readBlock(){if(this.eof)return;const Ht={decodeTransform:void 0,colorTransform:void 0},qt=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(qt)){const Mt=this.dict.get("BPC","BitsPerComponent")||8,Bt=qt.length,_t=new Int32Array(Bt);let Kt=!1;const jt=(1<<Mt)-1;for(let Gt=0;Gt<Bt;Gt+=2)_t[Gt]=(qt[Gt+1]-qt[Gt])*256|0,_t[Gt+1]=qt[Gt]*jt|0,(_t[Gt]!==256||_t[Gt+1]!==0)&&(Kt=!0);Kt&&(Ht.decodeTransform=_t)}if(this.params instanceof kt.Dict){const Mt=this.params.get("ColorTransform");Number.isInteger(Mt)&&(Ht.colorTransform=Mt)}const Nt=new Rt.JpegImage(Ht);Nt.parse(this.bytes);const $t=Nt.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=$t,this.bufferLength=$t.length,this.eof=!0}}Ct.JpegStream=vt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.JpegImage=void 0;var wt=Pt(2),kt=Pt(28),Rt=Pt(3);class ht extends wt.BaseException{constructor(Yt){super(`JPEG error: ${Yt}`,"JpegError")}}class vt extends wt.BaseException{constructor(Yt,un){super(Yt,"DNLMarkerError"),this.scanLines=un}}class Ft extends wt.BaseException{constructor(Yt){super(Yt,"EOIMarkerError")}}const Ht=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),qt=4017,Nt=799,$t=3406,Mt=2276,Bt=1567,_t=3784,Kt=5793,jt=2896;function Gt(Xt,Yt){let un=0,Ut,Lt,Vt=16;for(;Vt>0&&!Xt[Vt-1];)Vt--;const an=[{children:[],index:0}];let zt=an[0],Wt;for(Ut=0;Ut<Vt;Ut++){for(Lt=0;Lt<Xt[Ut];Lt++){for(zt=an.pop(),zt.children[zt.index]=Yt[un];zt.index>0;)zt=an.pop();for(zt.index++,an.push(zt);an.length<=Ut;)an.push(Wt={children:[],index:0}),zt.children[zt.index]=Wt.children,zt=Wt;un++}Ut+1<Vt&&(an.push(Wt={children:[],index:0}),zt.children[zt.index]=Wt.children,zt=Wt)}return an[0].children}function Qt(Xt,Yt,un){return 64*((Xt.blocksPerLine+1)*Yt+un)}function ln(Xt,Yt,un,Ut,Lt,Vt,an,zt,Wt,nn=!1){const dn=un.mcusPerLine,on=un.progressive,hn=Yt;let sn=0,rn=0;function xn(){if(rn>0)return rn--,sn>>rn&1;if(sn=Xt[Yt++],sn===255){const zn=Xt[Yt++];if(zn){if(zn===220&&nn){Yt+=2;const nr=(0,Rt.readUint16)(Xt,Yt);if(Yt+=2,nr>0&&nr!==un.scanLines)throw new vt("Found DNL marker (0xFFDC) while parsing scan data",nr)}else if(zn===217){if(nn){const nr=wn*(un.precision===8?8:0);if(nr>0&&Math.round(un.scanLines/nr)>=5)throw new vt("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",nr)}throw new Ft("Found EOI marker (0xFFD9) while parsing scan data")}throw new ht(`unexpected marker ${(sn<<8|zn).toString(16)}`)}}return rn=7,sn>>>7}function vn(zn){let nr=zn;for(;;){switch(nr=nr[xn()],typeof nr){case"number":return nr;case"object":continue}throw new ht("invalid huffman sequence")}}function kn(zn){let nr=0;for(;zn>0;)nr=nr<<1|xn(),zn--;return nr}function Fn(zn){if(zn===1)return xn()===1?1:-1;const nr=kn(zn);return nr>=1<<zn-1?nr:nr+(-1<<zn)+1}function On(zn,nr){const lr=vn(zn.huffmanTableDC),dr=lr===0?0:Fn(lr);zn.blockData[nr]=zn.pred+=dr;let jn=1;for(;jn<64;){const Hn=vn(zn.huffmanTableAC),Xn=Hn&15,cr=Hn>>4;if(Xn===0){if(cr<15)break;jn+=16;continue}jn+=cr;const sr=Ht[jn];zn.blockData[nr+sr]=Fn(Xn),jn++}}function Pn(zn,nr){const lr=vn(zn.huffmanTableDC),dr=lr===0?0:Fn(lr)<<Wt;zn.blockData[nr]=zn.pred+=dr}function Sn(zn,nr){zn.blockData[nr]|=xn()<<Wt}let mn=0;function fn(zn,nr){if(mn>0){mn--;return}let lr=Vt;const dr=an;for(;lr<=dr;){const jn=vn(zn.huffmanTableAC),Hn=jn&15,Xn=jn>>4;if(Hn===0){if(Xn<15){mn=kn(Xn)+(1<<Xn)-1;break}lr+=16;continue}lr+=Xn;const cr=Ht[lr];zn.blockData[nr+cr]=Fn(Hn)*(1<<Wt),lr++}}let Jt=0,cn;function pn(zn,nr){let lr=Vt;const dr=an;let jn=0,Hn,Xn;for(;lr<=dr;){const cr=nr+Ht[lr],sr=zn.blockData[cr]<0?-1:1;switch(Jt){case 0:if(Xn=vn(zn.huffmanTableAC),Hn=Xn&15,jn=Xn>>4,Hn===0)jn<15?(mn=kn(jn)+(1<<jn),Jt=4):(jn=16,Jt=1);else{if(Hn!==1)throw new ht("invalid ACn encoding");cn=Fn(Hn),Jt=jn?2:3}continue;case 1:case 2:zn.blockData[cr]?zn.blockData[cr]+=sr*(xn()<<Wt):(jn--,jn===0&&(Jt=Jt===2?3:0));break;case 3:zn.blockData[cr]?zn.blockData[cr]+=sr*(xn()<<Wt):(zn.blockData[cr]=cn<<Wt,Jt=0);break;case 4:zn.blockData[cr]&&(zn.blockData[cr]+=sr*(xn()<<Wt));break}lr++}Jt===4&&(mn--,mn===0&&(Jt=0))}let wn=0;function En(zn,nr,lr,dr,jn){const Hn=lr/dn|0,Xn=lr%dn;wn=Hn*zn.v+dr;const cr=Xn*zn.h+jn,sr=Qt(zn,wn,cr);nr(zn,sr)}function _n(zn,nr,lr){wn=lr/zn.blocksPerLine|0;const dr=lr%zn.blocksPerLine,jn=Qt(zn,wn,dr);nr(zn,jn)}const Cn=Ut.length;let An,Tn,Mn,Rn,Ln,Dn;on?Vt===0?Dn=zt===0?Pn:Sn:Dn=zt===0?fn:pn:Dn=On;let Un=0,tr;const er=Cn===1?Ut[0].blocksPerLine*Ut[0].blocksPerColumn:dn*un.mcusPerColumn;let Qn,Yn;for(;Un<=er;){const zn=Lt?Math.min(er-Un,Lt):er;if(zn>0){for(Tn=0;Tn<Cn;Tn++)Ut[Tn].pred=0;if(mn=0,Cn===1)for(An=Ut[0],Ln=0;Ln<zn;Ln++)_n(An,Dn,Un),Un++;else for(Ln=0;Ln<zn;Ln++){for(Tn=0;Tn<Cn;Tn++)for(An=Ut[Tn],Qn=An.h,Yn=An.v,Mn=0;Mn<Yn;Mn++)for(Rn=0;Rn<Qn;Rn++)En(An,Dn,Un,Mn,Rn);Un++}}if(rn=0,tr=tn(Xt,Yt),!tr)break;if(tr.invalid){const nr=zn>0?"unexpected":"excessive";(0,wt.warn)(`decodeScan - ${nr} MCU data, current marker is: ${tr.invalid}`),Yt=tr.offset}if(tr.marker>=65488&&tr.marker<=65495)Yt+=2;else break}return Yt-hn}function en(Xt,Yt,un){const Ut=Xt.quantizationTable,Lt=Xt.blockData;let Vt,an,zt,Wt,nn,dn,on,hn,sn,rn,xn,vn,kn,Fn,On,Pn,Sn;if(!Ut)throw new ht("missing required Quantization Table.");for(let mn=0;mn<64;mn+=8){if(sn=Lt[Yt+mn],rn=Lt[Yt+mn+1],xn=Lt[Yt+mn+2],vn=Lt[Yt+mn+3],kn=Lt[Yt+mn+4],Fn=Lt[Yt+mn+5],On=Lt[Yt+mn+6],Pn=Lt[Yt+mn+7],sn*=Ut[mn],!(rn|xn|vn|kn|Fn|On|Pn)){Sn=Kt*sn+512>>10,un[mn]=Sn,un[mn+1]=Sn,un[mn+2]=Sn,un[mn+3]=Sn,un[mn+4]=Sn,un[mn+5]=Sn,un[mn+6]=Sn,un[mn+7]=Sn;continue}rn*=Ut[mn+1],xn*=Ut[mn+2],vn*=Ut[mn+3],kn*=Ut[mn+4],Fn*=Ut[mn+5],On*=Ut[mn+6],Pn*=Ut[mn+7],Vt=Kt*sn+128>>8,an=Kt*kn+128>>8,zt=xn,Wt=On,nn=jt*(rn-Pn)+128>>8,hn=jt*(rn+Pn)+128>>8,dn=vn<<4,on=Fn<<4,Vt=Vt+an+1>>1,an=Vt-an,Sn=zt*_t+Wt*Bt+128>>8,zt=zt*Bt-Wt*_t+128>>8,Wt=Sn,nn=nn+on+1>>1,on=nn-on,hn=hn+dn+1>>1,dn=hn-dn,Vt=Vt+Wt+1>>1,Wt=Vt-Wt,an=an+zt+1>>1,zt=an-zt,Sn=nn*Mt+hn*$t+2048>>12,nn=nn*$t-hn*Mt+2048>>12,hn=Sn,Sn=dn*Nt+on*qt+2048>>12,dn=dn*qt-on*Nt+2048>>12,on=Sn,un[mn]=Vt+hn,un[mn+7]=Vt-hn,un[mn+1]=an+on,un[mn+6]=an-on,un[mn+2]=zt+dn,un[mn+5]=zt-dn,un[mn+3]=Wt+nn,un[mn+4]=Wt-nn}for(let mn=0;mn<8;++mn){if(sn=un[mn],rn=un[mn+8],xn=un[mn+16],vn=un[mn+24],kn=un[mn+32],Fn=un[mn+40],On=un[mn+48],Pn=un[mn+56],!(rn|xn|vn|kn|Fn|On|Pn)){Sn=Kt*sn+8192>>14,Sn<-2040?Sn=0:Sn>=2024?Sn=255:Sn=Sn+2056>>4,Lt[Yt+mn]=Sn,Lt[Yt+mn+8]=Sn,Lt[Yt+mn+16]=Sn,Lt[Yt+mn+24]=Sn,Lt[Yt+mn+32]=Sn,Lt[Yt+mn+40]=Sn,Lt[Yt+mn+48]=Sn,Lt[Yt+mn+56]=Sn;continue}Vt=Kt*sn+2048>>12,an=Kt*kn+2048>>12,zt=xn,Wt=On,nn=jt*(rn-Pn)+2048>>12,hn=jt*(rn+Pn)+2048>>12,dn=vn,on=Fn,Vt=(Vt+an+1>>1)+4112,an=Vt-an,Sn=zt*_t+Wt*Bt+2048>>12,zt=zt*Bt-Wt*_t+2048>>12,Wt=Sn,nn=nn+on+1>>1,on=nn-on,hn=hn+dn+1>>1,dn=hn-dn,Vt=Vt+Wt+1>>1,Wt=Vt-Wt,an=an+zt+1>>1,zt=an-zt,Sn=nn*Mt+hn*$t+2048>>12,nn=nn*$t-hn*Mt+2048>>12,hn=Sn,Sn=dn*Nt+on*qt+2048>>12,dn=dn*qt-on*Nt+2048>>12,on=Sn,sn=Vt+hn,Pn=Vt-hn,rn=an+on,On=an-on,xn=zt+dn,Fn=zt-dn,vn=Wt+nn,kn=Wt-nn,sn<16?sn=0:sn>=4080?sn=255:sn>>=4,rn<16?rn=0:rn>=4080?rn=255:rn>>=4,xn<16?xn=0:xn>=4080?xn=255:xn>>=4,vn<16?vn=0:vn>=4080?vn=255:vn>>=4,kn<16?kn=0:kn>=4080?kn=255:kn>>=4,Fn<16?Fn=0:Fn>=4080?Fn=255:Fn>>=4,On<16?On=0:On>=4080?On=255:On>>=4,Pn<16?Pn=0:Pn>=4080?Pn=255:Pn>>=4,Lt[Yt+mn]=sn,Lt[Yt+mn+8]=rn,Lt[Yt+mn+16]=xn,Lt[Yt+mn+24]=vn,Lt[Yt+mn+32]=kn,Lt[Yt+mn+40]=Fn,Lt[Yt+mn+48]=On,Lt[Yt+mn+56]=Pn}}function gn(Xt,Yt){const un=Yt.blocksPerLine,Ut=Yt.blocksPerColumn,Lt=new Int16Array(64);for(let Vt=0;Vt<Ut;Vt++)for(let an=0;an<un;an++){const zt=Qt(Yt,Vt,an);en(Yt,zt,Lt)}return Yt.blockData}function tn(Xt,Yt,un=Yt){const Ut=Xt.length-1;let Lt=un<Yt?un:Yt;if(Yt>=Ut)return null;const Vt=(0,Rt.readUint16)(Xt,Yt);if(Vt>=65472&&Vt<=65534)return{invalid:null,marker:Vt,offset:Yt};let an=(0,Rt.readUint16)(Xt,Lt);for(;!(an>=65472&&an<=65534);){if(++Lt>=Ut)return null;an=(0,Rt.readUint16)(Xt,Lt)}return{invalid:Vt.toString(16),marker:an,offset:Lt}}class bn{constructor({decodeTransform:Yt=null,colorTransform:un=-1}={}){this._decodeTransform=Yt,this._colorTransform=un}parse(Yt,{dnlScanLines:un=null}={}){function Ut(){const xn=(0,Rt.readUint16)(Yt,Vt);Vt+=2;let vn=Vt+xn-2;const kn=tn(Yt,vn,Vt);kn!=null&&kn.invalid&&((0,wt.warn)("readDataBlock - incorrect length, current marker is: "+kn.invalid),vn=kn.offset);const Fn=Yt.subarray(Vt,vn);return Vt+=Fn.length,Fn}function Lt(xn){const vn=Math.ceil(xn.samplesPerLine/8/xn.maxH),kn=Math.ceil(xn.scanLines/8/xn.maxV);for(const Fn of xn.components){const On=Math.ceil(Math.ceil(xn.samplesPerLine/8)*Fn.h/xn.maxH),Pn=Math.ceil(Math.ceil(xn.scanLines/8)*Fn.v/xn.maxV),Sn=vn*Fn.h,fn=64*(kn*Fn.v)*(Sn+1);Fn.blockData=new Int16Array(fn),Fn.blocksPerLine=On,Fn.blocksPerColumn=Pn}xn.mcusPerLine=vn,xn.mcusPerColumn=kn}let Vt=0,an=null,zt=null,Wt,nn,dn=0;const on=[],hn=[],sn=[];let rn=(0,Rt.readUint16)(Yt,Vt);if(Vt+=2,rn!==65496)throw new ht("SOI not found");rn=(0,Rt.readUint16)(Yt,Vt),Vt+=2;e:for(;rn!==65497;){let xn,vn,kn;switch(rn){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const Fn=Ut();rn===65504&&Fn[0]===74&&Fn[1]===70&&Fn[2]===73&&Fn[3]===70&&Fn[4]===0&&(an={version:{major:Fn[5],minor:Fn[6]},densityUnits:Fn[7],xDensity:Fn[8]<<8|Fn[9],yDensity:Fn[10]<<8|Fn[11],thumbWidth:Fn[12],thumbHeight:Fn[13],thumbData:Fn.subarray(14,14+3*Fn[12]*Fn[13])}),rn===65518&&Fn[0]===65&&Fn[1]===100&&Fn[2]===111&&Fn[3]===98&&Fn[4]===101&&(zt={version:Fn[5]<<8|Fn[6],flags0:Fn[7]<<8|Fn[8],flags1:Fn[9]<<8|Fn[10],transformCode:Fn[11]});break;case 65499:const On=(0,Rt.readUint16)(Yt,Vt);Vt+=2;const Pn=On+Vt-2;let Sn;for(;Vt<Pn;){const Rn=Yt[Vt++],Ln=new Uint16Array(64);if(Rn>>4)if(Rn>>4===1)for(vn=0;vn<64;vn++)Sn=Ht[vn],Ln[Sn]=(0,Rt.readUint16)(Yt,Vt),Vt+=2;else throw new ht("DQT - invalid table spec");else for(vn=0;vn<64;vn++)Sn=Ht[vn],Ln[Sn]=Yt[Vt++];on[Rn&15]=Ln}break;case 65472:case 65473:case 65474:if(Wt)throw new ht("Only single frame JPEGs supported");Vt+=2,Wt={},Wt.extended=rn===65473,Wt.progressive=rn===65474,Wt.precision=Yt[Vt++];const mn=(0,Rt.readUint16)(Yt,Vt);Vt+=2,Wt.scanLines=un||mn,Wt.samplesPerLine=(0,Rt.readUint16)(Yt,Vt),Vt+=2,Wt.components=[],Wt.componentIds={};const fn=Yt[Vt++];let Jt=0,cn=0;for(xn=0;xn<fn;xn++){const Rn=Yt[Vt],Ln=Yt[Vt+1]>>4,Dn=Yt[Vt+1]&15;Jt<Ln&&(Jt=Ln),cn<Dn&&(cn=Dn);const Un=Yt[Vt+2];kn=Wt.components.push({h:Ln,v:Dn,quantizationId:Un,quantizationTable:null}),Wt.componentIds[Rn]=kn-1,Vt+=3}Wt.maxH=Jt,Wt.maxV=cn,Lt(Wt);break;case 65476:const pn=(0,Rt.readUint16)(Yt,Vt);for(Vt+=2,xn=2;xn<pn;){const Rn=Yt[Vt++],Ln=new Uint8Array(16);let Dn=0;for(vn=0;vn<16;vn++,Vt++)Dn+=Ln[vn]=Yt[Vt];const Un=new Uint8Array(Dn);for(vn=0;vn<Dn;vn++,Vt++)Un[vn]=Yt[Vt];xn+=17+Dn,(Rn>>4?hn:sn)[Rn&15]=Gt(Ln,Un)}break;case 65501:Vt+=2,nn=(0,Rt.readUint16)(Yt,Vt),Vt+=2;break;case 65498:const wn=++dn===1&&!un;Vt+=2;const En=Yt[Vt++],_n=[];for(xn=0;xn<En;xn++){const Rn=Yt[Vt++],Ln=Wt.componentIds[Rn],Dn=Wt.components[Ln];Dn.index=Rn;const Un=Yt[Vt++];Dn.huffmanTableDC=sn[Un>>4],Dn.huffmanTableAC=hn[Un&15],_n.push(Dn)}const Cn=Yt[Vt++],An=Yt[Vt++],Tn=Yt[Vt++];try{const Rn=ln(Yt,Vt,Wt,_n,nn,Cn,An,Tn>>4,Tn&15,wn);Vt+=Rn}catch(Rn){if(Rn instanceof vt)return(0,wt.warn)(`${Rn.message} -- attempting to re-parse the JPEG image.`),this.parse(Yt,{dnlScanLines:Rn.scanLines});if(Rn instanceof Ft){(0,wt.warn)(`${Rn.message} -- ignoring the rest of the image data.`);break e}throw Rn}break;case 65500:Vt+=4;break;case 65535:Yt[Vt]!==255&&Vt--;break;default:const Mn=tn(Yt,Vt-2,Vt-3);if(Mn!=null&&Mn.invalid){(0,wt.warn)("JpegImage.parse - unexpected data, current marker is: "+Mn.invalid),Vt=Mn.offset;break}if(!Mn||Vt>=Yt.length-1){(0,wt.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new ht("JpegImage.parse - unknown marker: "+rn.toString(16))}rn=(0,Rt.readUint16)(Yt,Vt),Vt+=2}this.width=Wt.samplesPerLine,this.height=Wt.scanLines,this.jfif=an,this.adobe=zt,this.components=[];for(const xn of Wt.components){const vn=on[xn.quantizationId];vn&&(xn.quantizationTable=vn),this.components.push({index:xn.index,output:gn(Wt,xn),scaleX:xn.h/Wt.maxH,scaleY:xn.v/Wt.maxV,blocksPerLine:xn.blocksPerLine,blocksPerColumn:xn.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(Yt,un,Ut=!1){const Lt=this.width/Yt,Vt=this.height/un;let an,zt,Wt,nn,dn,on,hn,sn,rn,xn,vn=0,kn;const Fn=this.components.length,On=Yt*un*Fn,Pn=new Uint8ClampedArray(On),Sn=new Uint32Array(Yt),mn=4294967288;let fn;for(hn=0;hn<Fn;hn++){if(an=this.components[hn],zt=an.scaleX*Lt,Wt=an.scaleY*Vt,vn=hn,kn=an.output,nn=an.blocksPerLine+1<<3,zt!==fn){for(dn=0;dn<Yt;dn++)sn=0|dn*zt,Sn[dn]=(sn&mn)<<3|sn&7;fn=zt}for(on=0;on<un;on++)for(sn=0|on*Wt,xn=nn*(sn&mn)|(sn&7)<<3,dn=0;dn<Yt;dn++)Pn[vn]=kn[xn+Sn[dn]],vn+=Fn}let Jt=this._decodeTransform;if(!Ut&&Fn===4&&!Jt&&(Jt=new Int32Array([-256,255,-256,255,-256,255,-256,255])),Jt)for(hn=0;hn<On;)for(sn=0,rn=0;sn<Fn;sn++,hn++,rn+=2)Pn[hn]=(Pn[hn]*Jt[rn]>>8)+Jt[rn+1];return Pn}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(Yt){let un,Ut,Lt;for(let Vt=0,an=Yt.length;Vt<an;Vt+=3)un=Yt[Vt],Ut=Yt[Vt+1],Lt=Yt[Vt+2],Yt[Vt]=un-179.456+1.402*Lt,Yt[Vt+1]=un+135.459-.344*Ut-.714*Lt,Yt[Vt+2]=un-226.816+1.772*Ut;return Yt}_convertYccToRgba(Yt,un){for(let Ut=0,Lt=0,Vt=Yt.length;Ut<Vt;Ut+=3,Lt+=4){const an=Yt[Ut],zt=Yt[Ut+1],Wt=Yt[Ut+2];un[Lt]=an-179.456+1.402*Wt,un[Lt+1]=an+135.459-.344*zt-.714*Wt,un[Lt+2]=an-226.816+1.772*zt,un[Lt+3]=255}return un}_convertYcckToRgb(Yt){let un,Ut,Lt,Vt,an=0;for(let zt=0,Wt=Yt.length;zt<Wt;zt+=4)un=Yt[zt],Ut=Yt[zt+1],Lt=Yt[zt+2],Vt=Yt[zt+3],Yt[an++]=-122.67195406894+Ut*(-660635669420364e-19*Ut+.000437130475926232*Lt-54080610064599e-18*un+.00048449797120281*Vt-.154362151871126)+Lt*(-.000957964378445773*Lt+.000817076911346625*un-.00477271405408747*Vt+1.53380253221734)+un*(.000961250184130688*un-.00266257332283933*Vt+.48357088451265)+Vt*(-.000336197177618394*Vt+.484791561490776),Yt[an++]=107.268039397724+Ut*(219927104525741e-19*Ut-.000640992018297945*Lt+.000659397001245577*un+.000426105652938837*Vt-.176491792462875)+Lt*(-.000778269941513683*Lt+.00130872261408275*un+.000770482631801132*Vt-.151051492775562)+un*(.00126935368114843*un-.00265090189010898*Vt+.25802910206845)+Vt*(-.000318913117588328*Vt-.213742400323665),Yt[an++]=-20.810012546947+Ut*(-.000570115196973677*Ut-263409051004589e-19*Lt+.0020741088115012*un-.00288260236853442*Vt+.814272968359295)+Lt*(-153496057440975e-19*Lt-.000132689043961446*un+.000560833691242812*Vt-.195152027534049)+un*(.00174418132927582*un-.00255243321439347*Vt+.116935020465145)+Vt*(-.000343531996510555*Vt+.24165260232407);return Yt.subarray(0,an)}_convertYcckToRgba(Yt){for(let un=0,Ut=Yt.length;un<Ut;un+=4){const Lt=Yt[un],Vt=Yt[un+1],an=Yt[un+2],zt=Yt[un+3];Yt[un]=-122.67195406894+Vt*(-660635669420364e-19*Vt+.000437130475926232*an-54080610064599e-18*Lt+.00048449797120281*zt-.154362151871126)+an*(-.000957964378445773*an+.000817076911346625*Lt-.00477271405408747*zt+1.53380253221734)+Lt*(.000961250184130688*Lt-.00266257332283933*zt+.48357088451265)+zt*(-.000336197177618394*zt+.484791561490776),Yt[un+1]=107.268039397724+Vt*(219927104525741e-19*Vt-.000640992018297945*an+.000659397001245577*Lt+.000426105652938837*zt-.176491792462875)+an*(-.000778269941513683*an+.00130872261408275*Lt+.000770482631801132*zt-.151051492775562)+Lt*(.00126935368114843*Lt-.00265090189010898*zt+.25802910206845)+zt*(-.000318913117588328*zt-.213742400323665),Yt[un+2]=-20.810012546947+Vt*(-.000570115196973677*Vt-263409051004589e-19*an+.0020741088115012*Lt-.00288260236853442*zt+.814272968359295)+an*(-153496057440975e-19*an-.000132689043961446*Lt+.000560833691242812*zt-.195152027534049)+Lt*(.00174418132927582*Lt-.00255243321439347*zt+.116935020465145)+zt*(-.000343531996510555*zt+.24165260232407),Yt[un+3]=255}return Yt}_convertYcckToCmyk(Yt){let un,Ut,Lt;for(let Vt=0,an=Yt.length;Vt<an;Vt+=4)un=Yt[Vt],Ut=Yt[Vt+1],Lt=Yt[Vt+2],Yt[Vt]=434.456-un-1.402*Lt,Yt[Vt+1]=119.541-un+.344*Ut+.714*Lt,Yt[Vt+2]=481.816-un-1.772*Ut;return Yt}_convertCmykToRgb(Yt){let un,Ut,Lt,Vt,an=0;for(let zt=0,Wt=Yt.length;zt<Wt;zt+=4)un=Yt[zt],Ut=Yt[zt+1],Lt=Yt[zt+2],Vt=Yt[zt+3],Yt[an++]=255+un*(-6747147073602441e-20*un+.0008379262121013727*Ut+.0002894718188643294*Lt+.003264231057537806*Vt-1.1185611867203937)+Ut*(26374107616089405e-21*Ut-8626949158638572e-20*Lt-.0002748769067499491*Vt-.02155688794978967)+Lt*(-3878099212869363e-20*Lt-.0003267808279485286*Vt+.0686742238595345)-Vt*(.0003361971776183937*Vt+.7430659151342254),Yt[an++]=255+un*(.00013596372813588848*un+.000924537132573585*Ut+.00010567359618683593*Lt+.0004791864687436512*Vt-.3109689587515875)+Ut*(-.00023545346108370344*Ut+.0002702845253534714*Lt+.0020200308977307156*Vt-.7488052167015494)+Lt*(6834815998235662e-20*Lt+.00015168452363460973*Vt-.09751927774728933)-Vt*(.0003189131175883281*Vt+.7364883807733168),Yt[an++]=255+un*(13598650411385307e-21*un+.00012423956175490851*Ut+.0004751985097583589*Lt-36729317476630422e-22*Vt-.05562186980264034)+Ut*(.00016141380598724676*Ut+.0009692239130725186*Lt+.0007782692450036253*Vt-.44015232367526463)+Lt*(5068882914068769e-22*Lt+.0017778369011375071*Vt-.7591454649749609)-Vt*(.0003435319965105553*Vt+.7063770186160144);return Yt.subarray(0,an)}_convertCmykToRgba(Yt){for(let un=0,Ut=Yt.length;un<Ut;un+=4){const Lt=Yt[un],Vt=Yt[un+1],an=Yt[un+2],zt=Yt[un+3];Yt[un]=255+Lt*(-6747147073602441e-20*Lt+.0008379262121013727*Vt+.0002894718188643294*an+.003264231057537806*zt-1.1185611867203937)+Vt*(26374107616089405e-21*Vt-8626949158638572e-20*an-.0002748769067499491*zt-.02155688794978967)+an*(-3878099212869363e-20*an-.0003267808279485286*zt+.0686742238595345)-zt*(.0003361971776183937*zt+.7430659151342254),Yt[un+1]=255+Lt*(.00013596372813588848*Lt+.000924537132573585*Vt+.00010567359618683593*an+.0004791864687436512*zt-.3109689587515875)+Vt*(-.00023545346108370344*Vt+.0002702845253534714*an+.0020200308977307156*zt-.7488052167015494)+an*(6834815998235662e-20*an+.00015168452363460973*zt-.09751927774728933)-zt*(.0003189131175883281*zt+.7364883807733168),Yt[un+2]=255+Lt*(13598650411385307e-21*Lt+.00012423956175490851*Vt+.0004751985097583589*an-36729317476630422e-22*zt-.05562186980264034)+Vt*(.00016141380598724676*Vt+.0009692239130725186*an+.0007782692450036253*zt-.44015232367526463)+an*(5068882914068769e-22*an+.0017778369011375071*zt-.7591454649749609)-zt*(.0003435319965105553*zt+.7063770186160144),Yt[un+3]=255}return Yt}getData({width:Yt,height:un,forceRGBA:Ut=!1,forceRGB:Lt=!1,isSourcePDF:Vt=!1}){if(this.numComponents>4)throw new ht("Unsupported color mode");const an=this._getLinearizedBlockData(Yt,un,Vt);if(this.numComponents===1&&(Ut||Lt)){const zt=an.length*(Ut?4:3),Wt=new Uint8ClampedArray(zt);let nn=0;if(Ut)(0,kt.grayToRGBA)(an,new Uint32Array(Wt.buffer));else for(const dn of an)Wt[nn++]=dn,Wt[nn++]=dn,Wt[nn++]=dn;return Wt}else if(this.numComponents===3&&this._isColorConversionNeeded){if(Ut){const zt=new Uint8ClampedArray(an.length/3*4);return this._convertYccToRgba(an,zt)}return this._convertYccToRgb(an)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return Ut?this._convertYcckToRgba(an):Lt?this._convertYcckToRgb(an):this._convertYcckToCmyk(an);if(Ut)return this._convertCmykToRgba(an);if(Lt)return this._convertCmykToRgb(an)}return an}}Ct.JpegImage=bn},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.convertBlackAndWhiteToRGBA=Rt,Ct.convertToRGBA=kt,Ct.grayToRGBA=vt;var wt=Pt(2);function kt(Ft){switch(Ft.kind){case wt.ImageKind.GRAYSCALE_1BPP:return Rt(Ft);case wt.ImageKind.RGB_24BPP:return ht(Ft)}return null}function Rt({src:Ft,srcPos:Ht=0,dest:qt,width:Nt,height:$t,nonBlackColor:Mt=4294967295,inverseDecode:Bt=!1}){const _t=wt.FeatureTest.isLittleEndian?4278190080:255,[Kt,jt]=Bt?[Mt,_t]:[_t,Mt],Gt=Nt>>3,Qt=Nt&7,ln=Ft.length;qt=new Uint32Array(qt.buffer);let en=0;for(let gn=0;gn<$t;gn++){for(const bn=Ht+Gt;Ht<bn;Ht++){const Xt=Ht<ln?Ft[Ht]:255;qt[en++]=Xt&128?jt:Kt,qt[en++]=Xt&64?jt:Kt,qt[en++]=Xt&32?jt:Kt,qt[en++]=Xt&16?jt:Kt,qt[en++]=Xt&8?jt:Kt,qt[en++]=Xt&4?jt:Kt,qt[en++]=Xt&2?jt:Kt,qt[en++]=Xt&1?jt:Kt}if(Qt===0)continue;const tn=Ht<ln?Ft[Ht++]:255;for(let bn=0;bn<Qt;bn++)qt[en++]=tn&1<<7-bn?jt:Kt}return{srcPos:Ht,destPos:en}}function ht({src:Ft,srcPos:Ht=0,dest:qt,destPos:Nt=0,width:$t,height:Mt}){let Bt=0;const _t=Ft.length>>2,Kt=new Uint32Array(Ft.buffer,Ht,_t);if(wt.FeatureTest.isLittleEndian){for(;Bt<_t-2;Bt+=3,Nt+=4){const jt=Kt[Bt],Gt=Kt[Bt+1],Qt=Kt[Bt+2];qt[Nt]=jt|4278190080,qt[Nt+1]=jt>>>24|Gt<<8|4278190080,qt[Nt+2]=Gt>>>16|Qt<<16|4278190080,qt[Nt+3]=Qt>>>8|4278190080}for(let jt=Bt*4,Gt=Ft.length;jt<Gt;jt+=3)qt[Nt++]=Ft[jt]|Ft[jt+1]<<8|Ft[jt+2]<<16|4278190080}else{for(;Bt<_t-2;Bt+=3,Nt+=4){const jt=Kt[Bt],Gt=Kt[Bt+1],Qt=Kt[Bt+2];qt[Nt]=jt|255,qt[Nt+1]=jt<<24|Gt>>>8|255,qt[Nt+2]=Gt<<16|Qt>>>16|255,qt[Nt+3]=Qt<<8|255}for(let jt=Bt*4,Gt=Ft.length;jt<Gt;jt+=3)qt[Nt++]=Ft[jt]<<24|Ft[jt+1]<<16|Ft[jt+2]<<8|255}return{srcPos:Ht,destPos:Nt}}function vt(Ft,Ht){if(wt.FeatureTest.isLittleEndian)for(let qt=0,Nt=Ft.length;qt<Nt;qt++)Ht[qt]=Ft[qt]*65793|4278190080;else for(let qt=0,Nt=Ft.length;qt<Nt;qt++)Ht[qt]=Ft[qt]*16843008|255}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.JpxStream=void 0;var wt=Pt(18),kt=Pt(30),Rt=Pt(2);class ht extends wt.DecodeStream{constructor(Ft,Ht,qt){super(Ht),this.stream=Ft,this.dict=Ft.dict,this.maybeLength=Ht,this.params=qt}get bytes(){return(0,Rt.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Ft){}readBlock(){if(this.eof)return;const Ft=new kt.JpxImage;Ft.parse(this.bytes);const Ht=Ft.width,qt=Ft.height,Nt=Ft.componentsCount,$t=Ft.tiles.length;if($t===1)this.buffer=Ft.tiles[0].items;else{const Mt=new Uint8ClampedArray(Ht*qt*Nt);for(let Bt=0;Bt<$t;Bt++){const _t=Ft.tiles[Bt],Kt=_t.width,jt=_t.height,Gt=_t.left,Qt=_t.top,ln=_t.items;let en=0,gn=(Ht*Qt+Gt)*Nt;const tn=Ht*Nt,bn=Kt*Nt;for(let Xt=0;Xt<jt;Xt++){const Yt=ln.subarray(en,en+bn);Mt.set(Yt,gn),en+=bn,gn+=tn}}this.buffer=Mt}this.bufferLength=this.buffer.length,this.eof=!0}}Ct.JpxStream=ht},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.JpxImage=void 0;var wt=Pt(2),kt=Pt(3),Rt=Pt(25);class ht extends wt.BaseException{constructor(on){super(`JPX error: ${on}`,"JpxError")}}const vt={LL:0,LH:1,HL:1,HH:2};class Ft{constructor(){this.failOnCorruptedImage=!1}parse(on){if((0,kt.readUint16)(on,0)===65359){this.parseCodestream(on,0,on.length);return}const sn=on.length;let rn=0;for(;rn<sn;){let xn=8,vn=(0,kt.readUint32)(on,rn);const kn=(0,kt.readUint32)(on,rn+4);if(rn+=xn,vn===1&&(vn=(0,kt.readUint32)(on,rn)*4294967296+(0,kt.readUint32)(on,rn+4),rn+=8,xn+=8),vn===0&&(vn=sn-rn+xn),vn<xn)throw new ht("Invalid box field size");const Fn=vn-xn;let On=!0;switch(kn){case 1785737832:On=!1;break;case 1668246642:const Pn=on[rn];if(Pn===1){const mn=(0,kt.readUint32)(on,rn+3);switch(mn){case 16:case 17:case 18:break;default:(0,wt.warn)("Unknown colorspace "+mn);break}}else Pn===2&&(0,wt.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(on,rn,rn+Fn);break;case 1783636e3:(0,kt.readUint32)(on,rn)!==218793738&&(0,wt.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const Sn=String.fromCharCode(kn>>24&255,kn>>16&255,kn>>8&255,kn&255);(0,wt.warn)(`Unsupported header type ${kn} (${Sn}).`);break}On&&(rn+=Fn)}}parseImageProperties(on){let hn=on.getByte();for(;hn>=0;){const sn=hn;if(hn=on.getByte(),(sn<<8|hn)===65361){on.skip(4);const xn=on.getInt32()>>>0,vn=on.getInt32()>>>0,kn=on.getInt32()>>>0,Fn=on.getInt32()>>>0;on.skip(16);const On=on.getUint16();this.width=xn-kn,this.height=vn-Fn,this.componentsCount=On,this.bitsPerComponent=8;return}}throw new ht("No size marker found in JPX stream")}parseCodestream(on,hn,sn){const rn={};let xn=!1;try{let vn=hn;for(;vn+1<sn;){const kn=(0,kt.readUint16)(on,vn);vn+=2;let Fn=0,On,Pn,Sn,mn,fn,Jt;switch(kn){case 65359:rn.mainHeader=!0;break;case 65497:break;case 65361:Fn=(0,kt.readUint16)(on,vn);const cn={};cn.Xsiz=(0,kt.readUint32)(on,vn+4),cn.Ysiz=(0,kt.readUint32)(on,vn+8),cn.XOsiz=(0,kt.readUint32)(on,vn+12),cn.YOsiz=(0,kt.readUint32)(on,vn+16),cn.XTsiz=(0,kt.readUint32)(on,vn+20),cn.YTsiz=(0,kt.readUint32)(on,vn+24),cn.XTOsiz=(0,kt.readUint32)(on,vn+28),cn.YTOsiz=(0,kt.readUint32)(on,vn+32);const pn=(0,kt.readUint16)(on,vn+36);cn.Csiz=pn;const wn=[];On=vn+38;for(let Ln=0;Ln<pn;Ln++){const Dn={precision:(on[On]&127)+1,isSigned:!!(on[On]&128),XRsiz:on[On+1],YRsiz:on[On+2]};On+=3,Ht(Dn,cn),wn.push(Dn)}rn.SIZ=cn,rn.components=wn,qt(rn,wn),rn.QCC=[],rn.COC=[];break;case 65372:Fn=(0,kt.readUint16)(on,vn);const En={};switch(On=vn+2,Pn=on[On++],Pn&31){case 0:mn=8,fn=!0;break;case 1:mn=16,fn=!1;break;case 2:mn=16,fn=!0;break;default:throw new Error("Invalid SQcd value "+Pn)}for(En.noQuantization=mn===8,En.scalarExpounded=fn,En.guardBits=Pn>>5,Sn=[];On<Fn+vn;){const Ln={};mn===8?(Ln.epsilon=on[On++]>>3,Ln.mu=0):(Ln.epsilon=on[On]>>3,Ln.mu=(on[On]&7)<<8|on[On+1],On+=2),Sn.push(Ln)}En.SPqcds=Sn,rn.mainHeader?rn.QCD=En:(rn.currentTile.QCD=En,rn.currentTile.QCC=[]);break;case 65373:Fn=(0,kt.readUint16)(on,vn);const _n={};On=vn+2;let Cn;switch(rn.SIZ.Csiz<257?Cn=on[On++]:(Cn=(0,kt.readUint16)(on,On),On+=2),Pn=on[On++],Pn&31){case 0:mn=8,fn=!0;break;case 1:mn=16,fn=!1;break;case 2:mn=16,fn=!0;break;default:throw new Error("Invalid SQcd value "+Pn)}for(_n.noQuantization=mn===8,_n.scalarExpounded=fn,_n.guardBits=Pn>>5,Sn=[];On<Fn+vn;){const Ln={};mn===8?(Ln.epsilon=on[On++]>>3,Ln.mu=0):(Ln.epsilon=on[On]>>3,Ln.mu=(on[On]&7)<<8|on[On+1],On+=2),Sn.push(Ln)}_n.SPqcds=Sn,rn.mainHeader?rn.QCC[Cn]=_n:rn.currentTile.QCC[Cn]=_n;break;case 65362:Fn=(0,kt.readUint16)(on,vn);const An={};On=vn+2;const Tn=on[On++];An.entropyCoderWithCustomPrecincts=!!(Tn&1),An.sopMarkerUsed=!!(Tn&2),An.ephMarkerUsed=!!(Tn&4),An.progressionOrder=on[On++],An.layersCount=(0,kt.readUint16)(on,On),On+=2,An.multipleComponentTransform=on[On++],An.decompositionLevelsCount=on[On++],An.xcb=(on[On++]&15)+2,An.ycb=(on[On++]&15)+2;const Mn=on[On++];if(An.selectiveArithmeticCodingBypass=!!(Mn&1),An.resetContextProbabilities=!!(Mn&2),An.terminationOnEachCodingPass=!!(Mn&4),An.verticallyStripe=!!(Mn&8),An.predictableTermination=!!(Mn&16),An.segmentationSymbolUsed=!!(Mn&32),An.reversibleTransformation=on[On++],An.entropyCoderWithCustomPrecincts){const Ln=[];for(;On<Fn+vn;){const Dn=on[On++];Ln.push({PPx:Dn&15,PPy:Dn>>4})}An.precinctsSizes=Ln}const Rn=[];An.selectiveArithmeticCodingBypass&&Rn.push("selectiveArithmeticCodingBypass"),An.terminationOnEachCodingPass&&Rn.push("terminationOnEachCodingPass"),An.verticallyStripe&&Rn.push("verticallyStripe"),An.predictableTermination&&Rn.push("predictableTermination"),Rn.length>0&&(xn=!0,(0,wt.warn)(`JPX: Unsupported COD options (${Rn.join(", ")}).`)),rn.mainHeader?rn.COD=An:(rn.currentTile.COD=An,rn.currentTile.COC=[]);break;case 65424:Fn=(0,kt.readUint16)(on,vn),Jt={},Jt.index=(0,kt.readUint16)(on,vn+2),Jt.length=(0,kt.readUint32)(on,vn+4),Jt.dataEnd=Jt.length+vn-2,Jt.partIndex=on[vn+8],Jt.partsCount=on[vn+9],rn.mainHeader=!1,Jt.partIndex===0&&(Jt.COD=rn.COD,Jt.COC=rn.COC.slice(0),Jt.QCD=rn.QCD,Jt.QCC=rn.QCC.slice(0)),rn.currentTile=Jt;break;case 65427:Jt=rn.currentTile,Jt.partIndex===0&&(un(rn,Jt.index),gn(rn)),Fn=Jt.dataEnd-vn,tn(rn,on,vn,Fn);break;case 65363:(0,wt.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:Fn=(0,kt.readUint16)(on,vn);break;default:throw new Error("Unknown codestream code: "+kn.toString(16))}vn+=Fn}}catch(vn){if(xn||this.failOnCorruptedImage)throw new ht(vn.message);(0,wt.warn)(`JPX: Trying to recover from: "${vn.message}".`)}this.tiles=Yt(rn),this.width=rn.SIZ.Xsiz-rn.SIZ.XOsiz,this.height=rn.SIZ.Ysiz-rn.SIZ.YOsiz,this.componentsCount=rn.SIZ.Csiz}}Ct.JpxImage=Ft;function Ht(dn,on){dn.x0=Math.ceil(on.XOsiz/dn.XRsiz),dn.x1=Math.ceil(on.Xsiz/dn.XRsiz),dn.y0=Math.ceil(on.YOsiz/dn.YRsiz),dn.y1=Math.ceil(on.Ysiz/dn.YRsiz),dn.width=dn.x1-dn.x0,dn.height=dn.y1-dn.y0}function qt(dn,on){const hn=dn.SIZ,sn=[];let rn;const xn=Math.ceil((hn.Xsiz-hn.XTOsiz)/hn.XTsiz),vn=Math.ceil((hn.Ysiz-hn.YTOsiz)/hn.YTsiz);for(let Fn=0;Fn<vn;Fn++)for(let On=0;On<xn;On++)rn={},rn.tx0=Math.max(hn.XTOsiz+On*hn.XTsiz,hn.XOsiz),rn.ty0=Math.max(hn.YTOsiz+Fn*hn.YTsiz,hn.YOsiz),rn.tx1=Math.min(hn.XTOsiz+(On+1)*hn.XTsiz,hn.Xsiz),rn.ty1=Math.min(hn.YTOsiz+(Fn+1)*hn.YTsiz,hn.Ysiz),rn.width=rn.tx1-rn.tx0,rn.height=rn.ty1-rn.ty0,rn.components=[],sn.push(rn);dn.tiles=sn;const kn=hn.Csiz;for(let Fn=0,On=kn;Fn<On;Fn++){const Pn=on[Fn];for(let Sn=0,mn=sn.length;Sn<mn;Sn++){const fn={};rn=sn[Sn],fn.tcx0=Math.ceil(rn.tx0/Pn.XRsiz),fn.tcy0=Math.ceil(rn.ty0/Pn.YRsiz),fn.tcx1=Math.ceil(rn.tx1/Pn.XRsiz),fn.tcy1=Math.ceil(rn.ty1/Pn.YRsiz),fn.width=fn.tcx1-fn.tcx0,fn.height=fn.tcy1-fn.tcy0,rn.components[Fn]=fn}}}function Nt(dn,on,hn){const sn=on.codingStyleParameters,rn={};return sn.entropyCoderWithCustomPrecincts?(rn.PPx=sn.precinctsSizes[hn].PPx,rn.PPy=sn.precinctsSizes[hn].PPy):(rn.PPx=15,rn.PPy=15),rn.xcb_=hn>0?Math.min(sn.xcb,rn.PPx-1):Math.min(sn.xcb,rn.PPx),rn.ycb_=hn>0?Math.min(sn.ycb,rn.PPy-1):Math.min(sn.ycb,rn.PPy),rn}function $t(dn,on,hn){const sn=1<<hn.PPx,rn=1<<hn.PPy,xn=on.resLevel===0,vn=1<<hn.PPx+(xn?0:-1),kn=1<<hn.PPy+(xn?0:-1),Fn=on.trx1>on.trx0?Math.ceil(on.trx1/sn)-Math.floor(on.trx0/sn):0,On=on.try1>on.try0?Math.ceil(on.try1/rn)-Math.floor(on.try0/rn):0,Pn=Fn*On;on.precinctParameters={precinctWidth:sn,precinctHeight:rn,numprecinctswide:Fn,numprecinctshigh:On,numprecincts:Pn,precinctWidthInSubband:vn,precinctHeightInSubband:kn}}function Mt(dn,on,hn){const sn=hn.xcb_,rn=hn.ycb_,xn=1<<sn,vn=1<<rn,kn=on.tbx0>>sn,Fn=on.tby0>>rn,On=on.tbx1+xn-1>>sn,Pn=on.tby1+vn-1>>rn,Sn=on.resolution.precinctParameters,mn=[],fn=[];let Jt,cn,pn,wn;for(cn=Fn;cn<Pn;cn++)for(Jt=kn;Jt<On;Jt++){pn={cbx:Jt,cby:cn,tbx0:xn*Jt,tby0:vn*cn,tbx1:xn*(Jt+1),tby1:vn*(cn+1)},pn.tbx0_=Math.max(on.tbx0,pn.tbx0),pn.tby0_=Math.max(on.tby0,pn.tby0),pn.tbx1_=Math.min(on.tbx1,pn.tbx1),pn.tby1_=Math.min(on.tby1,pn.tby1);const En=Math.floor((pn.tbx0_-on.tbx0)/Sn.precinctWidthInSubband),_n=Math.floor((pn.tby0_-on.tby0)/Sn.precinctHeightInSubband);if(wn=En+_n*Sn.numprecinctswide,pn.precinctNumber=wn,pn.subbandType=on.type,pn.Lblock=3,pn.tbx1_<=pn.tbx0_||pn.tby1_<=pn.tby0_)continue;mn.push(pn);let Cn=fn[wn];Cn!==void 0?(Jt<Cn.cbxMin?Cn.cbxMin=Jt:Jt>Cn.cbxMax&&(Cn.cbxMax=Jt),cn<Cn.cbyMin?Cn.cbxMin=cn:cn>Cn.cbyMax&&(Cn.cbyMax=cn)):fn[wn]=Cn={cbxMin:Jt,cbyMin:cn,cbxMax:Jt,cbyMax:cn},pn.precinct=Cn}on.codeblockParameters={codeblockWidth:sn,codeblockHeight:rn,numcodeblockwide:On-kn+1,numcodeblockhigh:Pn-Fn+1},on.codeblocks=mn,on.precincts=fn}function Bt(dn,on,hn){const sn=[],rn=dn.subbands;for(let xn=0,vn=rn.length;xn<vn;xn++){const Fn=rn[xn].codeblocks;for(let On=0,Pn=Fn.length;On<Pn;On++){const Sn=Fn[On];Sn.precinctNumber===on&&sn.push(Sn)}}return{layerNumber:hn,codeblocks:sn}}function _t(dn){const on=dn.SIZ,hn=dn.currentTile.index,sn=dn.tiles[hn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz;let vn=0;for(let Sn=0;Sn<xn;Sn++)vn=Math.max(vn,sn.components[Sn].codingStyleParameters.decompositionLevelsCount);let kn=0,Fn=0,On=0,Pn=0;this.nextPacket=function(){for(;kn<rn;kn++){for(;Fn<=vn;Fn++){for(;On<xn;On++){const mn=sn.components[On];if(Fn>mn.codingStyleParameters.decompositionLevelsCount)continue;const fn=mn.resolutions[Fn],Jt=fn.precinctParameters.numprecincts;for(;Pn<Jt;){const cn=Bt(fn,Pn,kn);return Pn++,cn}Pn=0}On=0}Fn=0}throw new ht("Out of packets")}}function Kt(dn){const on=dn.SIZ,hn=dn.currentTile.index,sn=dn.tiles[hn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz;let vn=0;for(let Sn=0;Sn<xn;Sn++)vn=Math.max(vn,sn.components[Sn].codingStyleParameters.decompositionLevelsCount);let kn=0,Fn=0,On=0,Pn=0;this.nextPacket=function(){for(;kn<=vn;kn++){for(;Fn<rn;Fn++){for(;On<xn;On++){const mn=sn.components[On];if(kn>mn.codingStyleParameters.decompositionLevelsCount)continue;const fn=mn.resolutions[kn],Jt=fn.precinctParameters.numprecincts;for(;Pn<Jt;){const cn=Bt(fn,Pn,Fn);return Pn++,cn}Pn=0}On=0}Fn=0}throw new ht("Out of packets")}}function jt(dn){const on=dn.SIZ,hn=dn.currentTile.index,sn=dn.tiles[hn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz;let vn,kn,Fn,On,Pn=0;for(Fn=0;Fn<xn;Fn++){const mn=sn.components[Fn];Pn=Math.max(Pn,mn.codingStyleParameters.decompositionLevelsCount)}const Sn=new Int32Array(Pn+1);for(kn=0;kn<=Pn;++kn){let mn=0;for(Fn=0;Fn<xn;++Fn){const fn=sn.components[Fn].resolutions;kn<fn.length&&(mn=Math.max(mn,fn[kn].precinctParameters.numprecincts))}Sn[kn]=mn}vn=0,kn=0,Fn=0,On=0,this.nextPacket=function(){for(;kn<=Pn;kn++){for(;On<Sn[kn];On++){for(;Fn<xn;Fn++){const fn=sn.components[Fn];if(kn>fn.codingStyleParameters.decompositionLevelsCount)continue;const Jt=fn.resolutions[kn],cn=Jt.precinctParameters.numprecincts;if(!(On>=cn)){for(;vn<rn;){const pn=Bt(Jt,On,vn);return vn++,pn}vn=0}}Fn=0}On=0}throw new ht("Out of packets")}}function Gt(dn){const on=dn.SIZ,hn=dn.currentTile.index,sn=dn.tiles[hn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz,vn=en(sn),kn=vn;let Fn=0,On=0,Pn=0,Sn=0,mn=0;this.nextPacket=function(){for(;mn<kn.maxNumHigh;mn++){for(;Sn<kn.maxNumWide;Sn++){for(;Pn<xn;Pn++){const Jt=sn.components[Pn],cn=Jt.codingStyleParameters.decompositionLevelsCount;for(;On<=cn;On++){const pn=Jt.resolutions[On],wn=vn.components[Pn].resolutions[On],En=ln(Sn,mn,wn,kn,pn);if(En!==null){for(;Fn<rn;){const _n=Bt(pn,En,Fn);return Fn++,_n}Fn=0}}On=0}Pn=0}Sn=0}throw new ht("Out of packets")}}function Qt(dn){const on=dn.SIZ,hn=dn.currentTile.index,sn=dn.tiles[hn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz,vn=en(sn);let kn=0,Fn=0,On=0,Pn=0,Sn=0;this.nextPacket=function(){for(;On<xn;++On){const fn=sn.components[On],Jt=vn.components[On],cn=fn.codingStyleParameters.decompositionLevelsCount;for(;Sn<Jt.maxNumHigh;Sn++){for(;Pn<Jt.maxNumWide;Pn++){for(;Fn<=cn;Fn++){const pn=fn.resolutions[Fn],wn=Jt.resolutions[Fn],En=ln(Pn,Sn,wn,Jt,pn);if(En!==null){for(;kn<rn;){const _n=Bt(pn,En,kn);return kn++,_n}kn=0}}Fn=0}Pn=0}Sn=0}throw new ht("Out of packets")}}function ln(dn,on,hn,sn,rn){const xn=dn*sn.minWidth,vn=on*sn.minHeight;if(xn%hn.width!==0||vn%hn.height!==0)return null;const kn=vn/hn.width*rn.precinctParameters.numprecinctswide;return xn/hn.height+kn}function en(dn){const on=dn.components.length;let hn=Number.MAX_VALUE,sn=Number.MAX_VALUE,rn=0,xn=0;const vn=new Array(on);for(let kn=0;kn<on;kn++){const Fn=dn.components[kn],On=Fn.codingStyleParameters.decompositionLevelsCount,Pn=new Array(On+1);let Sn=Number.MAX_VALUE,mn=Number.MAX_VALUE,fn=0,Jt=0,cn=1;for(let pn=On;pn>=0;--pn){const wn=Fn.resolutions[pn],En=cn*wn.precinctParameters.precinctWidth,_n=cn*wn.precinctParameters.precinctHeight;Sn=Math.min(Sn,En),mn=Math.min(mn,_n),fn=Math.max(fn,wn.precinctParameters.numprecinctswide),Jt=Math.max(Jt,wn.precinctParameters.numprecinctshigh),Pn[pn]={width:En,height:_n},cn<<=1}hn=Math.min(hn,Sn),sn=Math.min(sn,mn),rn=Math.max(rn,fn),xn=Math.max(xn,Jt),vn[kn]={resolutions:Pn,minWidth:Sn,minHeight:mn,maxNumWide:fn,maxNumHigh:Jt}}return{components:vn,minWidth:hn,minHeight:sn,maxNumWide:rn,maxNumHigh:xn}}function gn(dn){const on=dn.SIZ,hn=dn.currentTile.index,sn=dn.tiles[hn],rn=on.Csiz;for(let vn=0;vn<rn;vn++){const kn=sn.components[vn],Fn=kn.codingStyleParameters.decompositionLevelsCount,On=[],Pn=[];for(let Sn=0;Sn<=Fn;Sn++){const mn=Nt(dn,kn,Sn),fn={},Jt=1<<Fn-Sn;fn.trx0=Math.ceil(kn.tcx0/Jt),fn.try0=Math.ceil(kn.tcy0/Jt),fn.trx1=Math.ceil(kn.tcx1/Jt),fn.try1=Math.ceil(kn.tcy1/Jt),fn.resLevel=Sn,$t(dn,fn,mn),On.push(fn);let cn;if(Sn===0)cn={},cn.type="LL",cn.tbx0=Math.ceil(kn.tcx0/Jt),cn.tby0=Math.ceil(kn.tcy0/Jt),cn.tbx1=Math.ceil(kn.tcx1/Jt),cn.tby1=Math.ceil(kn.tcy1/Jt),cn.resolution=fn,Mt(dn,cn,mn),Pn.push(cn),fn.subbands=[cn];else{const pn=1<<Fn-Sn+1,wn=[];cn={},cn.type="HL",cn.tbx0=Math.ceil(kn.tcx0/pn-.5),cn.tby0=Math.ceil(kn.tcy0/pn),cn.tbx1=Math.ceil(kn.tcx1/pn-.5),cn.tby1=Math.ceil(kn.tcy1/pn),cn.resolution=fn,Mt(dn,cn,mn),Pn.push(cn),wn.push(cn),cn={},cn.type="LH",cn.tbx0=Math.ceil(kn.tcx0/pn),cn.tby0=Math.ceil(kn.tcy0/pn-.5),cn.tbx1=Math.ceil(kn.tcx1/pn),cn.tby1=Math.ceil(kn.tcy1/pn-.5),cn.resolution=fn,Mt(dn,cn,mn),Pn.push(cn),wn.push(cn),cn={},cn.type="HH",cn.tbx0=Math.ceil(kn.tcx0/pn-.5),cn.tby0=Math.ceil(kn.tcy0/pn-.5),cn.tbx1=Math.ceil(kn.tcx1/pn-.5),cn.tby1=Math.ceil(kn.tcy1/pn-.5),cn.resolution=fn,Mt(dn,cn,mn),Pn.push(cn),wn.push(cn),fn.subbands=wn}}kn.resolutions=On,kn.subbands=Pn}const xn=sn.codingStyleDefaultParameters.progressionOrder;switch(xn){case 0:sn.packetsIterator=new _t(dn);break;case 1:sn.packetsIterator=new Kt(dn);break;case 2:sn.packetsIterator=new jt(dn);break;case 3:sn.packetsIterator=new Gt(dn);break;case 4:sn.packetsIterator=new Qt(dn);break;default:throw new ht(`Unsupported progression order ${xn}`)}}function tn(dn,on,hn,sn){let rn=0,xn,vn=0,kn=!1;function Fn(En){for(;vn<En;){const _n=on[hn+rn];rn++,kn?(xn=xn<<7|_n,vn+=7,kn=!1):(xn=xn<<8|_n,vn+=8),_n===255&&(kn=!0)}return vn-=En,xn>>>vn&(1<<En)-1}function On(En){return on[hn+rn-1]===255&&on[hn+rn]===En?(Pn(1),!0):on[hn+rn]===255&&on[hn+rn+1]===En?(Pn(2),!0):!1}function Pn(En){rn+=En}function Sn(){vn=0,kn&&(rn++,kn=!1)}function mn(){if(Fn(1)===0)return 1;if(Fn(1)===0)return 2;let En=Fn(2);return En<3?En+3:(En=Fn(5),En<31?En+6:(En=Fn(7),En+37))}const fn=dn.currentTile.index,Jt=dn.tiles[fn],cn=dn.COD.sopMarkerUsed,pn=dn.COD.ephMarkerUsed,wn=Jt.packetsIterator;for(;rn<sn;){Sn(),cn&&On(145)&&Pn(4);const En=wn.nextPacket();if(!Fn(1))continue;const _n=En.layerNumber,Cn=[];let An;for(let Tn=0,Mn=En.codeblocks.length;Tn<Mn;Tn++){An=En.codeblocks[Tn];let Rn=An.precinct;const Ln=An.cbx-Rn.cbxMin,Dn=An.cby-Rn.cbyMin;let Un=!1,tr=!1,er,Qn;if(An.included!==void 0)Un=!!Fn(1);else{Rn=An.precinct;let dr;if(Rn.inclusionTree!==void 0)dr=Rn.inclusionTree;else{const jn=Rn.cbxMax-Rn.cbxMin+1,Hn=Rn.cbyMax-Rn.cbyMin+1;dr=new Lt(jn,Hn,_n),Qn=new Ut(jn,Hn),Rn.inclusionTree=dr,Rn.zeroBitPlanesTree=Qn;for(let Xn=0;Xn<_n;Xn++)if(Fn(1)!==0)throw new ht("Invalid tag tree")}if(dr.reset(Ln,Dn,_n))for(;;)if(Fn(1)){if(er=!dr.nextLevel(),er){An.included=!0,Un=tr=!0;break}}else{dr.incrementValue(_n);break}}if(!Un)continue;if(tr){for(Qn=Rn.zeroBitPlanesTree,Qn.reset(Ln,Dn);;)if(Fn(1)){if(er=!Qn.nextLevel(),er)break}else Qn.incrementValue();An.zeroBitPlanes=Qn.value}const Yn=mn();for(;Fn(1);)An.Lblock++;const zn=(0,kt.log2)(Yn),nr=(Yn<1<<zn?zn-1:zn)+An.Lblock,lr=Fn(nr);Cn.push({codeblock:An,codingpasses:Yn,dataLength:lr})}for(Sn(),pn&&On(146);Cn.length>0;){const Tn=Cn.shift();An=Tn.codeblock,An.data===void 0&&(An.data=[]),An.data.push({data:on,start:hn+rn,end:hn+rn+Tn.dataLength,codingpasses:Tn.codingpasses}),rn+=Tn.dataLength}}return rn}function bn(dn,on,hn,sn,rn,xn,vn,kn,Fn){const On=sn.tbx0,Pn=sn.tby0,Sn=sn.tbx1-sn.tbx0,mn=sn.codeblocks,fn=sn.type.charAt(0)==="H"?1:0,Jt=sn.type.charAt(1)==="H"?on:0;for(let cn=0,pn=mn.length;cn<pn;++cn){const wn=mn[cn],En=wn.tbx1_-wn.tbx0_,_n=wn.tby1_-wn.tby0_;if(En===0||_n===0||wn.data===void 0)continue;const Cn=new Vt(En,_n,wn.subbandType,wn.zeroBitPlanes,xn);let An=2;const Tn=wn.data;let Mn=0,Rn=0,Ln,Dn,Un;for(Ln=0,Dn=Tn.length;Ln<Dn;Ln++)Un=Tn[Ln],Mn+=Un.end-Un.start,Rn+=Un.codingpasses;const tr=new Uint8Array(Mn);let er=0;for(Ln=0,Dn=Tn.length;Ln<Dn;Ln++){Un=Tn[Ln];const sr=Un.data.subarray(Un.start,Un.end);tr.set(sr,er),er+=sr.length}const Qn=new Rt.ArithmeticDecoder(tr,0,Mn);for(Cn.setDecoder(Qn),Ln=0;Ln<Rn;Ln++){switch(An){case 0:Cn.runSignificancePropagationPass();break;case 1:Cn.runMagnitudeRefinementPass();break;case 2:Cn.runCleanupPass(),kn&&Cn.checkSegmentationSymbol();break}Fn&&Cn.reset(),An=(An+1)%3}let Yn=wn.tbx0_-On+(wn.tby0_-Pn)*Sn;const zn=Cn.coefficentsSign,nr=Cn.coefficentsMagnitude,lr=Cn.bitsDecoded,dr=vn?0:.5;let jn,Hn,Xn;er=0;const cr=sn.type!=="LL";for(Ln=0;Ln<_n;Ln++){const xr=2*(Yn/Sn|0)*(on-Sn)+fn+Jt;for(jn=0;jn<En;jn++){if(Hn=nr[er],Hn!==0){Hn=(Hn+dr)*rn,zn[er]!==0&&(Hn=-Hn),Xn=lr[er];const Jn=cr?xr+(Yn<<1):Yn;dn[Jn]=vn&&Xn>=xn?Hn:Hn*(1<<xn-Xn)}Yn++,er++}Yn+=Sn-En}}}function Xt(dn,on,hn){const sn=on.components[hn],rn=sn.codingStyleParameters,xn=sn.quantizationParameters,vn=rn.decompositionLevelsCount,kn=xn.SPqcds,Fn=xn.scalarExpounded,On=xn.guardBits,Pn=rn.segmentationSymbolUsed,Sn=rn.resetContextProbabilities,mn=dn.components[hn].precision,fn=rn.reversibleTransformation,Jt=fn?new Wt:new zt,cn=[];let pn=0;for(let En=0;En<=vn;En++){const _n=sn.resolutions[En],Cn=_n.trx1-_n.trx0,An=_n.try1-_n.try0,Tn=new Float32Array(Cn*An);for(let Mn=0,Rn=_n.subbands.length;Mn<Rn;Mn++){let Ln,Dn;Fn?(Ln=kn[pn].mu,Dn=kn[pn].epsilon,pn++):(Ln=kn[0].mu,Dn=kn[0].epsilon+(En>0?1-En:0));const Un=_n.subbands[Mn],tr=vt[Un.type],er=fn?1:2**(mn+tr-Dn)*(1+Ln/2048),Qn=On+Dn-1;bn(Tn,Cn,An,Un,er,Qn,fn,Pn,Sn)}cn.push({width:Cn,height:An,items:Tn})}const wn=Jt.calculate(cn,sn.tcx0,sn.tcy0);return{left:sn.tcx0,top:sn.tcy0,width:wn.width,height:wn.height,items:wn.items}}function Yt(dn){const on=dn.SIZ,hn=dn.components,sn=on.Csiz,rn=[];for(let xn=0,vn=dn.tiles.length;xn<vn;xn++){const kn=dn.tiles[xn],Fn=[];for(let Cn=0;Cn<sn;Cn++)Fn[Cn]=Xt(dn,kn,Cn);const On=Fn[0],Pn=new Uint8ClampedArray(On.items.length*sn),Sn={left:On.left,top:On.top,width:On.width,height:On.height,items:Pn};let mn,fn,Jt=0,cn,pn,wn,En,_n;if(kn.codingStyleDefaultParameters.multipleComponentTransform){const Cn=sn===4,An=Fn[0].items,Tn=Fn[1].items,Mn=Fn[2].items,Rn=Cn?Fn[3].items:null;mn=hn[0].precision-8,fn=(128<<mn)+.5;const Ln=kn.components[0],Dn=sn-3;if(pn=An.length,Ln.codingStyleParameters.reversibleTransformation)for(cn=0;cn<pn;cn++,Jt+=Dn){wn=An[cn]+fn,En=Tn[cn],_n=Mn[cn];const Un=wn-(_n+En>>2);Pn[Jt++]=Un+_n>>mn,Pn[Jt++]=Un>>mn,Pn[Jt++]=Un+En>>mn}else for(cn=0;cn<pn;cn++,Jt+=Dn)wn=An[cn]+fn,En=Tn[cn],_n=Mn[cn],Pn[Jt++]=wn+1.402*_n>>mn,Pn[Jt++]=wn-.34413*En-.71414*_n>>mn,Pn[Jt++]=wn+1.772*En>>mn;if(Cn)for(cn=0,Jt=3;cn<pn;cn++,Jt+=4)Pn[Jt]=Rn[cn]+fn>>mn}else for(let Cn=0;Cn<sn;Cn++){const An=Fn[Cn].items;for(mn=hn[Cn].precision-8,fn=(128<<mn)+.5,Jt=Cn,cn=0,pn=An.length;cn<pn;cn++)Pn[Jt]=An[cn]+fn>>mn,Jt+=sn}rn.push(Sn)}return rn}function un(dn,on){const sn=dn.SIZ.Csiz,rn=dn.tiles[on];for(let xn=0;xn<sn;xn++){const vn=rn.components[xn],kn=dn.currentTile.QCC[xn]!==void 0?dn.currentTile.QCC[xn]:dn.currentTile.QCD;vn.quantizationParameters=kn;const Fn=dn.currentTile.COC[xn]!==void 0?dn.currentTile.COC[xn]:dn.currentTile.COD;vn.codingStyleParameters=Fn}rn.codingStyleDefaultParameters=dn.currentTile.COD}class Ut{constructor(on,hn){const sn=(0,kt.log2)(Math.max(on,hn))+1;this.levels=[];for(let rn=0;rn<sn;rn++){const xn={width:on,height:hn,items:[]};this.levels.push(xn),on=Math.ceil(on/2),hn=Math.ceil(hn/2)}}reset(on,hn){let sn=0,rn=0,xn;for(;sn<this.levels.length;){xn=this.levels[sn];const vn=on+hn*xn.width;if(xn.items[vn]!==void 0){rn=xn.items[vn];break}xn.index=vn,on>>=1,hn>>=1,sn++}sn--,xn=this.levels[sn],xn.items[xn.index]=rn,this.currentLevel=sn,delete this.value}incrementValue(){const on=this.levels[this.currentLevel];on.items[on.index]++}nextLevel(){let on=this.currentLevel,hn=this.levels[on];const sn=hn.items[hn.index];return on--,on<0?(this.value=sn,!1):(this.currentLevel=on,hn=this.levels[on],hn.items[hn.index]=sn,!0)}}class Lt{constructor(on,hn,sn){const rn=(0,kt.log2)(Math.max(on,hn))+1;this.levels=[];for(let xn=0;xn<rn;xn++){const vn=new Uint8Array(on*hn);for(let Fn=0,On=vn.length;Fn<On;Fn++)vn[Fn]=sn;const kn={width:on,height:hn,items:vn};this.levels.push(kn),on=Math.ceil(on/2),hn=Math.ceil(hn/2)}}reset(on,hn,sn){let rn=0;for(;rn<this.levels.length;){const xn=this.levels[rn],vn=on+hn*xn.width;xn.index=vn;const kn=xn.items[vn];if(kn===255)break;if(kn>sn)return this.currentLevel=rn,this.propagateValues(),!1;on>>=1,hn>>=1,rn++}return this.currentLevel=rn-1,!0}incrementValue(on){const hn=this.levels[this.currentLevel];hn.items[hn.index]=on+1,this.propagateValues()}propagateValues(){let on=this.currentLevel,hn=this.levels[on];const sn=hn.items[hn.index];for(;--on>=0;)hn=this.levels[on],hn.items[hn.index]=sn}nextLevel(){let on=this.currentLevel,hn=this.levels[on];const sn=hn.items[hn.index];return hn.items[hn.index]=255,on--,on<0?!1:(this.currentLevel=on,hn=this.levels[on],hn.items[hn.index]=sn,!0)}}const nn=class nn{constructor(on,hn,sn,rn,xn){this.width=on,this.height=hn;let vn;sn==="HH"?vn=nn.HHContextLabel:sn==="HL"?vn=nn.HLContextLabel:vn=nn.LLAndLHContextsLabel,this.contextLabelTable=vn;const kn=on*hn;this.neighborsSignificance=new Uint8Array(kn),this.coefficentsSign=new Uint8Array(kn);let Fn;xn>14?Fn=new Uint32Array(kn):xn>6?Fn=new Uint16Array(kn):Fn=new Uint8Array(kn),this.coefficentsMagnitude=Fn,this.processingFlags=new Uint8Array(kn);const On=new Uint8Array(kn);if(rn!==0)for(let Pn=0;Pn<kn;Pn++)On[Pn]=rn;this.bitsDecoded=On,this.reset()}setDecoder(on){this.decoder=on}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[nn.UNIFORM_CONTEXT]=92,this.contexts[nn.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(on,hn,sn){const rn=this.neighborsSignificance,xn=this.width,vn=this.height,kn=hn>0,Fn=hn+1<xn;let On;on>0&&(On=sn-xn,kn&&(rn[On-1]+=16),Fn&&(rn[On+1]+=16),rn[On]+=4),on+1<vn&&(On=sn+xn,kn&&(rn[On-1]+=16),Fn&&(rn[On+1]+=16),rn[On]+=4),kn&&(rn[sn-1]+=1),Fn&&(rn[sn+1]+=1),rn[sn]|=128}runSignificancePropagationPass(){const on=this.decoder,hn=this.width,sn=this.height,rn=this.coefficentsMagnitude,xn=this.coefficentsSign,vn=this.neighborsSignificance,kn=this.processingFlags,Fn=this.contexts,On=this.contextLabelTable,Pn=this.bitsDecoded,Sn=-2,mn=1,fn=2;for(let Jt=0;Jt<sn;Jt+=4)for(let cn=0;cn<hn;cn++){let pn=Jt*hn+cn;for(let wn=0;wn<4;wn++,pn+=hn){const En=Jt+wn;if(En>=sn)break;if(kn[pn]&=Sn,rn[pn]||!vn[pn])continue;const _n=On[vn[pn]];if(on.readBit(Fn,_n)){const An=this.decodeSignBit(En,cn,pn);xn[pn]=An,rn[pn]=1,this.setNeighborsSignificance(En,cn,pn),kn[pn]|=fn}Pn[pn]++,kn[pn]|=mn}}}decodeSignBit(on,hn,sn){const rn=this.width,xn=this.height,vn=this.coefficentsMagnitude,kn=this.coefficentsSign;let Fn,On,Pn,Sn,mn,fn;Sn=hn>0&&vn[sn-1]!==0,hn+1<rn&&vn[sn+1]!==0?(Pn=kn[sn+1],Sn?(On=kn[sn-1],Fn=1-Pn-On):Fn=1-Pn-Pn):Sn?(On=kn[sn-1],Fn=1-On-On):Fn=0;const Jt=3*Fn;return Sn=on>0&&vn[sn-rn]!==0,on+1<xn&&vn[sn+rn]!==0?(Pn=kn[sn+rn],Sn?(On=kn[sn-rn],Fn=1-Pn-On+Jt):Fn=1-Pn-Pn+Jt):Sn?(On=kn[sn-rn],Fn=1-On-On+Jt):Fn=Jt,Fn>=0?(mn=9+Fn,fn=this.decoder.readBit(this.contexts,mn)):(mn=9-Fn,fn=this.decoder.readBit(this.contexts,mn)^1),fn}runMagnitudeRefinementPass(){const on=this.decoder,hn=this.width,sn=this.height,rn=this.coefficentsMagnitude,xn=this.neighborsSignificance,vn=this.contexts,kn=this.bitsDecoded,Fn=this.processingFlags,On=1,Pn=2,Sn=hn*sn,mn=hn*4;for(let fn=0,Jt;fn<Sn;fn=Jt){Jt=Math.min(Sn,fn+mn);for(let cn=0;cn<hn;cn++)for(let pn=fn+cn;pn<Jt;pn+=hn){if(!rn[pn]||Fn[pn]&On)continue;let wn=16;Fn[pn]&Pn&&(Fn[pn]^=Pn,wn=(xn[pn]&127)===0?15:14);const En=on.readBit(vn,wn);rn[pn]=rn[pn]<<1|En,kn[pn]++,Fn[pn]|=On}}}runCleanupPass(){const on=this.decoder,hn=this.width,sn=this.height,rn=this.neighborsSignificance,xn=this.coefficentsMagnitude,vn=this.coefficentsSign,kn=this.contexts,Fn=this.contextLabelTable,On=this.bitsDecoded,Pn=this.processingFlags,Sn=1,mn=2,fn=hn,Jt=hn*2,cn=hn*3;let pn;for(let wn=0;wn<sn;wn=pn){pn=Math.min(wn+4,sn);const En=wn*hn,_n=wn+3<sn;for(let Cn=0;Cn<hn;Cn++){const An=En+Cn,Tn=_n&&Pn[An]===0&&Pn[An+fn]===0&&Pn[An+Jt]===0&&Pn[An+cn]===0&&rn[An]===0&&rn[An+fn]===0&&rn[An+Jt]===0&&rn[An+cn]===0;let Mn=0,Rn=An,Ln=wn,Dn;if(Tn){if(!on.readBit(kn,nn.RUNLENGTH_CONTEXT)){On[An]++,On[An+fn]++,On[An+Jt]++,On[An+cn]++;continue}Mn=on.readBit(kn,nn.UNIFORM_CONTEXT)<<1|on.readBit(kn,nn.UNIFORM_CONTEXT),Mn!==0&&(Ln=wn+Mn,Rn+=Mn*hn),Dn=this.decodeSignBit(Ln,Cn,Rn),vn[Rn]=Dn,xn[Rn]=1,this.setNeighborsSignificance(Ln,Cn,Rn),Pn[Rn]|=mn,Rn=An;for(let tr=wn;tr<=Ln;tr++,Rn+=hn)On[Rn]++;Mn++}for(Ln=wn+Mn;Ln<pn;Ln++,Rn+=hn){if(xn[Rn]||Pn[Rn]&Sn)continue;const Un=Fn[rn[Rn]];on.readBit(kn,Un)===1&&(Dn=this.decodeSignBit(Ln,Cn,Rn),vn[Rn]=Dn,xn[Rn]=1,this.setNeighborsSignificance(Ln,Cn,Rn),Pn[Rn]|=mn),On[Rn]++}}}}checkSegmentationSymbol(){const on=this.decoder,hn=this.contexts;if((on.readBit(hn,nn.UNIFORM_CONTEXT)<<3|on.readBit(hn,nn.UNIFORM_CONTEXT)<<2|on.readBit(hn,nn.UNIFORM_CONTEXT)<<1|on.readBit(hn,nn.UNIFORM_CONTEXT))!==10)throw new ht("Invalid segmentation symbol")}};Ur(nn,"UNIFORM_CONTEXT",17),Ur(nn,"RUNLENGTH_CONTEXT",18),Ur(nn,"LLAndLHContextsLabel",new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8])),Ur(nn,"HLContextLabel",new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8])),Ur(nn,"HHContextLabel",new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]));let Vt=nn;class an{constructor(){this.constructor===an&&(0,wt.unreachable)("Cannot initialize Transform.")}calculate(on,hn,sn){let rn=on[0];for(let xn=1,vn=on.length;xn<vn;xn++)rn=this.iterate(rn,on[xn],hn,sn);return rn}extend(on,hn,sn){let rn=hn-1,xn=hn+1,vn=hn+sn-2,kn=hn+sn;on[rn--]=on[xn++],on[kn++]=on[vn--],on[rn--]=on[xn++],on[kn++]=on[vn--],on[rn--]=on[xn++],on[kn++]=on[vn--],on[rn]=on[xn],on[kn]=on[vn]}filter(on,hn,sn){(0,wt.unreachable)("Abstract method `filter` called")}iterate(on,hn,sn,rn){const xn=on.width,vn=on.height;let kn=on.items;const Fn=hn.width,On=hn.height,Pn=hn.items;let Sn,mn,fn,Jt,cn,pn;for(fn=0,Sn=0;Sn<vn;Sn++)for(Jt=Sn*2*Fn,mn=0;mn<xn;mn++,fn++,Jt+=2)Pn[Jt]=kn[fn];kn=on.items=null;const wn=4,En=new Float32Array(Fn+2*wn);if(Fn===1){if(sn&1)for(pn=0,fn=0;pn<On;pn++,fn+=Fn)Pn[fn]*=.5}else for(pn=0,fn=0;pn<On;pn++,fn+=Fn)En.set(Pn.subarray(fn,fn+Fn),wn),this.extend(En,wn,Fn),this.filter(En,wn,Fn),Pn.set(En.subarray(wn,wn+Fn),fn);let _n=16;const Cn=[];for(Sn=0;Sn<_n;Sn++)Cn.push(new Float32Array(On+2*wn));let An,Tn=0;if(on=wn+On,On===1){if(rn&1)for(cn=0;cn<Fn;cn++)Pn[cn]*=.5}else for(cn=0;cn<Fn;cn++){if(Tn===0){for(_n=Math.min(Fn-cn,_n),fn=cn,Jt=wn;Jt<on;fn+=Fn,Jt++)for(An=0;An<_n;An++)Cn[An][Jt]=Pn[fn+An];Tn=_n}Tn--;const Mn=Cn[Tn];if(this.extend(Mn,wn,On),this.filter(Mn,wn,On),Tn===0)for(fn=cn-_n+1,Jt=wn;Jt<on;fn+=Fn,Jt++)for(An=0;An<_n;An++)Pn[fn+An]=Cn[An][Jt]}return{width:Fn,height:On,items:Pn}}}class zt extends an{filter(on,hn,sn){const rn=sn>>1;hn|=0;let xn,vn,kn,Fn;const On=-1.586134342059924,Pn=-.052980118572961,Sn=.882911075530934,mn=.443506852043971,fn=1.230174104914001,Jt=1/fn;for(xn=hn-3,vn=rn+4;vn--;xn+=2)on[xn]*=Jt;for(xn=hn-2,kn=mn*on[xn-1],vn=rn+3;vn--&&(Fn=mn*on[xn+1],on[xn]=fn*on[xn]-kn-Fn,vn--);xn+=2)xn+=2,kn=mn*on[xn+1],on[xn]=fn*on[xn]-kn-Fn;for(xn=hn-1,kn=Sn*on[xn-1],vn=rn+2;vn--&&(Fn=Sn*on[xn+1],on[xn]-=kn+Fn,vn--);xn+=2)xn+=2,kn=Sn*on[xn+1],on[xn]-=kn+Fn;for(xn=hn,kn=Pn*on[xn-1],vn=rn+1;vn--&&(Fn=Pn*on[xn+1],on[xn]-=kn+Fn,vn--);xn+=2)xn+=2,kn=Pn*on[xn+1],on[xn]-=kn+Fn;if(rn!==0)for(xn=hn+1,kn=On*on[xn-1],vn=rn;vn--&&(Fn=On*on[xn+1],on[xn]-=kn+Fn,vn--);xn+=2)xn+=2,kn=On*on[xn+1],on[xn]-=kn+Fn}}class Wt extends an{filter(on,hn,sn){const rn=sn>>1;hn|=0;let xn,vn;for(xn=hn,vn=rn+1;vn--;xn+=2)on[xn]-=on[xn-1]+on[xn+1]+2>>2;for(xn=hn+1,vn=rn;vn--;xn+=2)on[xn]+=on[xn-1]+on[xn+1]>>1}}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.LZWStream=void 0;var wt=Pt(18);class kt extends wt.DecodeStream{constructor(ht,vt,Ft){super(vt),this.str=ht,this.dict=ht.dict,this.cachedData=0,this.bitsCached=0;const Ht=4096,qt={earlyChange:Ft,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(Ht),dictionaryLengths:new Uint16Array(Ht),dictionaryPrevCodes:new Uint16Array(Ht),currentSequence:new Uint8Array(Ht),currentSequenceLength:0};for(let Nt=0;Nt<256;++Nt)qt.dictionaryValues[Nt]=Nt,qt.dictionaryLengths[Nt]=1;this.lzwState=qt}readBits(ht){let vt=this.bitsCached,Ft=this.cachedData;for(;vt<ht;){const Ht=this.str.getByte();if(Ht===-1)return this.eof=!0,null;Ft=Ft<<8|Ht,vt+=8}return this.bitsCached=vt-=ht,this.cachedData=Ft,this.lastCode=null,Ft>>>vt&(1<<ht)-1}readBlock(){let Ft=1024,Ht,qt,Nt;const $t=this.lzwState;if(!$t)return;const Mt=$t.earlyChange;let Bt=$t.nextCode;const _t=$t.dictionaryValues,Kt=$t.dictionaryLengths,jt=$t.dictionaryPrevCodes;let Gt=$t.codeLength,Qt=$t.prevCode;const ln=$t.currentSequence;let en=$t.currentSequenceLength,gn=0,tn=this.bufferLength,bn=this.ensureBuffer(this.bufferLength+Ft);for(Ht=0;Ht<512;Ht++){const Xt=this.readBits(Gt),Yt=en>0;if(Xt<256)ln[0]=Xt,en=1;else if(Xt>=258)if(Xt<Bt)for(en=Kt[Xt],qt=en-1,Nt=Xt;qt>=0;qt--)ln[qt]=_t[Nt],Nt=jt[Nt];else ln[en++]=ln[0];else if(Xt===256){Gt=9,Bt=258,en=0;continue}else{this.eof=!0,delete this.lzwState;break}if(Yt&&(jt[Bt]=Qt,Kt[Bt]=Kt[Qt]+1,_t[Bt]=ln[0],Bt++,Gt=Bt+Mt&Bt+Mt-1?Gt:Math.min(Math.log(Bt+Mt)/.6931471805599453+1,12)|0),Qt=Xt,gn+=en,Ft<gn){do Ft+=512;while(Ft<gn);bn=this.ensureBuffer(this.bufferLength+Ft)}for(qt=0;qt<en;qt++)bn[tn++]=ln[qt]}$t.nextCode=Bt,$t.codeLength=Gt,$t.prevCode=Qt,$t.currentSequenceLength=en,this.bufferLength=tn}}Ct.LZWStream=kt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PredictorStream=void 0;var wt=Pt(18),kt=Pt(4),Rt=Pt(2);class ht extends wt.DecodeStream{constructor(Ft,Ht,qt){if(super(Ht),!(qt instanceof kt.Dict))return Ft;const Nt=this.predictor=qt.get("Predictor")||1;if(Nt<=1)return Ft;if(Nt!==2&&(Nt<10||Nt>15))throw new Rt.FormatError(`Unsupported predictor: ${Nt}`);this.readBlock=Nt===2?this.readBlockTiff:this.readBlockPng,this.str=Ft,this.dict=Ft.dict;const $t=this.colors=qt.get("Colors")||1,Mt=this.bits=qt.get("BPC","BitsPerComponent")||8,Bt=this.columns=qt.get("Columns")||1;return this.pixBytes=$t*Mt+7>>3,this.rowBytes=Bt*$t*Mt+7>>3,this}readBlockTiff(){const Ft=this.rowBytes,Ht=this.bufferLength,qt=this.ensureBuffer(Ht+Ft),Nt=this.bits,$t=this.colors,Mt=this.str.getBytes(Ft);if(this.eof=!Mt.length,this.eof)return;let Bt=0,_t=0,Kt=0,jt=0,Gt=Ht,Qt;if(Nt===1&&$t===1)for(Qt=0;Qt<Ft;++Qt){let ln=Mt[Qt]^Bt;ln^=ln>>1,ln^=ln>>2,ln^=ln>>4,Bt=(ln&1)<<7,qt[Gt++]=ln}else if(Nt===8){for(Qt=0;Qt<$t;++Qt)qt[Gt++]=Mt[Qt];for(;Qt<Ft;++Qt)qt[Gt]=qt[Gt-$t]+Mt[Qt],Gt++}else if(Nt===16){const ln=$t*2;for(Qt=0;Qt<ln;++Qt)qt[Gt++]=Mt[Qt];for(;Qt<Ft;Qt+=2){const en=((Mt[Qt]&255)<<8)+(Mt[Qt+1]&255)+((qt[Gt-ln]&255)<<8)+(qt[Gt-ln+1]&255);qt[Gt++]=en>>8&255,qt[Gt++]=en&255}}else{const ln=new Uint8Array($t+1),en=(1<<Nt)-1;let gn=0,tn=Ht;const bn=this.columns;for(Qt=0;Qt<bn;++Qt)for(let Xt=0;Xt<$t;++Xt)Kt<Nt&&(Bt=Bt<<8|Mt[gn++]&255,Kt+=8),ln[Xt]=ln[Xt]+(Bt>>Kt-Nt)&en,Kt-=Nt,_t=_t<<Nt|ln[Xt],jt+=Nt,jt>=8&&(qt[tn++]=_t>>jt-8&255,jt-=8);jt>0&&(qt[tn++]=(_t<<8-jt)+(Bt&(1<<8-jt)-1))}this.bufferLength+=Ft}readBlockPng(){const Ft=this.rowBytes,Ht=this.pixBytes,qt=this.str.getByte(),Nt=this.str.getBytes(Ft);if(this.eof=!Nt.length,this.eof)return;const $t=this.bufferLength,Mt=this.ensureBuffer($t+Ft);let Bt=Mt.subarray($t-Ft,$t);Bt.length===0&&(Bt=new Uint8Array(Ft));let _t,Kt=$t,jt,Gt;switch(qt){case 0:for(_t=0;_t<Ft;++_t)Mt[Kt++]=Nt[_t];break;case 1:for(_t=0;_t<Ht;++_t)Mt[Kt++]=Nt[_t];for(;_t<Ft;++_t)Mt[Kt]=Mt[Kt-Ht]+Nt[_t]&255,Kt++;break;case 2:for(_t=0;_t<Ft;++_t)Mt[Kt++]=Bt[_t]+Nt[_t]&255;break;case 3:for(_t=0;_t<Ht;++_t)Mt[Kt++]=(Bt[_t]>>1)+Nt[_t];for(;_t<Ft;++_t)Mt[Kt]=(Bt[_t]+Mt[Kt-Ht]>>1)+Nt[_t]&255,Kt++;break;case 4:for(_t=0;_t<Ht;++_t)jt=Bt[_t],Gt=Nt[_t],Mt[Kt++]=jt+Gt;for(;_t<Ft;++_t){jt=Bt[_t];const Qt=Bt[_t-Ht],ln=Mt[Kt-Ht],en=ln+jt-Qt;let gn=en-ln;gn<0&&(gn=-gn);let tn=en-jt;tn<0&&(tn=-tn);let bn=en-Qt;bn<0&&(bn=-bn),Gt=Nt[_t],gn<=tn&&gn<=bn?Mt[Kt++]=ln+Gt:tn<=bn?Mt[Kt++]=jt+Gt:Mt[Kt++]=Qt+Gt}break;default:throw new Rt.FormatError(`Unsupported predictor: ${qt}`)}this.bufferLength+=Ft}}Ct.PredictorStream=ht},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.RunLengthStream=void 0;var wt=Pt(18);class kt extends wt.DecodeStream{constructor(ht,vt){super(vt),this.str=ht,this.dict=ht.dict}readBlock(){const ht=this.str.getBytes(2);if(!ht||ht.length<2||ht[0]===128){this.eof=!0;return}let vt,Ft=this.bufferLength,Ht=ht[0];if(Ht<128){if(vt=this.ensureBuffer(Ft+Ht+1),vt[Ft++]=ht[1],Ht>0){const qt=this.str.getBytes(Ht);vt.set(qt,Ft),Ft+=Ht}}else{Ht=257-Ht;const qt=ht[1];vt=this.ensureBuffer(Ft+Ht+1);for(let Nt=0;Nt<Ht;Nt++)vt[Ft++]=qt}this.bufferLength=Ft}}Ct.RunLengthStream=kt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Font=Ct.ErrorFont=void 0;var wt=Pt(2),kt=Pt(35),Rt=Pt(38),ht=Pt(40),vt=Pt(39),Ft=Pt(37),Ht=Pt(41),qt=Pt(42),Nt=Pt(43),$t=Pt(44),Mt=Pt(45),Bt=Pt(46),_t=Pt(14),Kt=Pt(47),jt=Pt(3),Gt=Pt(8),Qt=Pt(48);const ln=[[57344,63743],[1048576,1114109]],en=1e3,gn=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],tn=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function bn(An){if(!An.fontMatrix||An.fontMatrix[0]===wt.FONT_IDENTITY_MATRIX[0])return;const Tn=.001/An.fontMatrix[0],Mn=An.widths;for(const Rn in Mn)Mn[Rn]*=Tn;An.defaultWidth*=Tn}function Xt(An,Tn,Mn){if(An.isInternalFont||An.hasIncludedToUnicodeMap||An.hasEncoding||An.toUnicode instanceof qt.IdentityToUnicodeMap||!Tn||Mn.length===0||An.defaultEncoding===Ft.WinAnsiEncoding)return;for(const Un of Mn)if(!On(Un))return;const Rn=Ft.WinAnsiEncoding,Ln=[],Dn=(0,vt.getGlyphsUnicode)();for(const Un in Rn){const tr=Rn[Un];if(tr==="")continue;const er=Dn[tr];er!==void 0&&(Ln[Un]=String.fromCharCode(er))}Ln.length>0&&An.toUnicode.amend(Ln)}function Yt(An,Tn){if(An.isInternalFont||An.hasIncludedToUnicodeMap||Tn===An.defaultEncoding||An.toUnicode instanceof qt.IdentityToUnicodeMap)return;const Mn=[],Rn=(0,vt.getGlyphsUnicode)();for(const Ln in Tn){if(An.hasEncoding&&(An.baseEncodingName||An.differences[Ln]!==void 0))continue;const Dn=Tn[Ln],Un=(0,ht.getUnicodeForGlyph)(Dn,Rn);Un!==-1&&(Mn[Ln]=String.fromCharCode(Un))}Mn.length>0&&An.toUnicode.amend(Mn)}function un(An){if(!An.fallbackToUnicode||An.toUnicode instanceof qt.IdentityToUnicodeMap)return;const Tn=[];for(const Mn in An.fallbackToUnicode)An.toUnicode.has(Mn)||(Tn[Mn]=An.fallbackToUnicode[Mn]);Tn.length>0&&An.toUnicode.amend(Tn)}class Ut{constructor(Tn,Mn,Rn,Ln,Dn,Un,tr,er,Qn){this.originalCharCode=Tn,this.fontChar=Mn,this.unicode=Rn,this.accent=Ln,this.width=Dn,this.vmetric=Un,this.operatorListId=tr,this.isSpace=er,this.isInFont=Qn}get category(){return(0,wt.shadow)(this,"category",(0,ht.getCharUnicodeCategory)(this.unicode),!0)}}function Lt(An,Tn){return(An<<8)+Tn}function Vt(An,Tn,Mn){An[Tn+1]=Mn,An[Tn]=Mn>>>8}function an(An,Tn){const Mn=(An<<8)+Tn;return Mn&32768?Mn-65536:Mn}function zt(An,Tn,Mn,Rn){return(An<<24)+(Tn<<16)+(Mn<<8)+Rn}function Wt(An){return String.fromCharCode(An>>8&255,An&255)}function nn(An){return An>32767?An=32767:An<-32768&&(An=-32768),String.fromCharCode(An>>8&255,An&255)}function dn(An){const Tn=An.peekBytes(4);return(0,jt.readUint32)(Tn,0)===65536||(0,wt.bytesToString)(Tn)==="true"}function on(An){const Tn=An.peekBytes(4);return(0,wt.bytesToString)(Tn)==="ttcf"}function hn(An){const Tn=An.peekBytes(4);return(0,wt.bytesToString)(Tn)==="OTTO"}function sn(An){const Tn=An.peekBytes(2);return Tn[0]===37&&Tn[1]===33||Tn[0]===128&&Tn[1]===1}function rn(An){const Tn=An.peekBytes(4);return Tn[0]>=1&&Tn[3]>=1&&Tn[3]<=4}function xn(An,{type:Tn,subtype:Mn,composite:Rn}){let Ln,Dn;return dn(An)||on(An)?Ln=Rn?"CIDFontType2":"TrueType":hn(An)?Ln=Rn?"CIDFontType2":"OpenType":sn(An)?Rn?Ln="CIDFontType0":Ln=Tn==="MMType1"?"MMType1":"Type1":rn(An)?Rn?(Ln="CIDFontType0",Dn="CIDFontType0C"):(Ln=Tn==="MMType1"?"MMType1":"Type1",Dn="Type1C"):((0,wt.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),Ln=Tn,Dn=Mn),[Ln,Dn]}function vn(An,Tn){for(const Mn in Tn)An[+Mn]=Tn[Mn]}function kn(An,Tn,Mn){const Rn=[];let Ln;for(let Dn=0,Un=An.length;Dn<Un;Dn++)Ln=(0,ht.getUnicodeForGlyph)(An[Dn],Tn),Ln!==-1&&(Rn[Dn]=Ln);for(const Dn in Mn)Ln=(0,ht.getUnicodeForGlyph)(Mn[Dn],Tn),Ln!==-1&&(Rn[+Dn]=Ln);return Rn}function Fn(An){return An.platform===1&&An.encoding===0&&An.language===0}function On(An){return An.platform===3&&An.encoding===1&&An.language===1033}function Pn(An,Tn,Mn=!1){switch(Tn.length){case 1:return Tn.charCodeAt(0);case 2:return Tn.charCodeAt(0)<<8|Tn.charCodeAt(1)}const Rn=`Unsupported CID string (charCode ${An}): "${Tn}".`;if(Mn)throw new wt.FormatError(Rn);return(0,wt.warn)(Rn),Tn}function Sn(An,Tn,Mn,Rn){const Ln=Object.create(null),Dn=new Map,Un=[],tr=new Set;let er=0,Yn=ln[er][0],zn=ln[er][1];const nr=lr=>ln[0][0]<=lr&&lr<=ln[0][1]||ln[1][0]<=lr&&lr<=ln[1][1];for(let lr in An){lr|=0;let dr=An[lr];if(!Tn(dr))continue;if(Yn>zn){if(er++,er>=ln.length){(0,wt.warn)("Ran out of space in font private use area.");break}Yn=ln[er][0],zn=ln[er][1]}const jn=Yn++;dr===0&&(dr=Mn);let Hn=Rn.get(lr);typeof Hn=="string"&&(Hn=Hn.codePointAt(0)),Hn&&!nr(Hn)&&!tr.has(dr)&&(Dn.set(Hn,dr),tr.add(dr)),Ln[jn]=dr,Un[lr]=jn}return{toFontChar:Un,charCodeToGlyphId:Ln,toUnicodeExtraMap:Dn,nextAvailableFontCharCode:Yn}}function mn(An,Tn,Mn){const Rn=[];for(const Un in An)An[Un]>=Mn||Rn.push({fontCharCode:Un|0,glyphId:An[Un]});if(Tn)for(const[Un,tr]of Tn)tr>=Mn||Rn.push({fontCharCode:Un,glyphId:tr});Rn.length===0&&Rn.push({fontCharCode:0,glyphId:0}),Rn.sort(function(tr,er){return tr.fontCharCode-er.fontCharCode});const Ln=[],Dn=Rn.length;for(let Un=0;Un<Dn;){const tr=Rn[Un].fontCharCode,er=[Rn[Un].glyphId];++Un;let Qn=tr;for(;Un<Dn&&Qn+1===Rn[Un].fontCharCode&&(er.push(Rn[Un].glyphId),++Qn,++Un,Qn!==65535););Ln.push([tr,Qn,er])}return Ln}function fn(An,Tn,Mn){const Rn=mn(An,Tn,Mn),Ln=Rn.at(-1)[1]>65535?2:1;let Dn="\0\0"+Wt(Ln)+"\0\0"+(0,wt.string32)(4+Ln*8),Un,tr,er,Qn;for(Un=Rn.length-1;Un>=0&&!(Rn[Un][0]<=65535);--Un);const Yn=Un+1;Rn[Un][0]<65535&&Rn[Un][1]===65535&&(Rn[Un][1]=65534);const zn=Rn[Un][1]<65535?1:0,nr=Yn+zn,lr=Kt.OpenTypeFileBuilder.getSearchParams(nr,2);let dr="",jn="",Hn="",Xn="",cr="",sr=0,xr,Jn,Wn,Zn;for(Un=0,tr=Yn;Un<tr;Un++){xr=Rn[Un],Jn=xr[0],Wn=xr[1],dr+=Wt(Jn),jn+=Wt(Wn),Zn=xr[2];let pr=!0;for(er=1,Qn=Zn.length;er<Qn;++er)if(Zn[er]!==Zn[er-1]+1){pr=!1;break}if(pr){const wr=Zn[0];Hn+=Wt(wr-Jn&65535),Xn+=Wt(0)}else{const wr=(nr-Un)*2+sr*2;for(sr+=Wn-Jn+1,Hn+=Wt(0),Xn+=Wt(wr),er=0,Qn=Zn.length;er<Qn;++er)cr+=Wt(Zn[er])}}zn>0&&(jn+="",dr+="",Hn+="\0",Xn+="\0\0");const ur="\0\0"+Wt(2*nr)+Wt(lr.range)+Wt(lr.entry)+Wt(lr.rangeShift)+jn+"\0\0"+dr+Hn+Xn+cr;let hr="",or="";if(Ln>1){for(Dn+=`\0\0
`+(0,wt.string32)(4+Ln*8+4+ur.length),hr="",Un=0,tr=Rn.length;Un<tr;Un++){xr=Rn[Un],Jn=xr[0],Zn=xr[2];let pr=Zn[0];for(er=1,Qn=Zn.length;er<Qn;++er)Zn[er]!==Zn[er-1]+1&&(Wn=xr[0]+er-1,hr+=(0,wt.string32)(Jn)+(0,wt.string32)(Wn)+(0,wt.string32)(pr),Jn=Wn+1,pr=Zn[er]);hr+=(0,wt.string32)(Jn)+(0,wt.string32)(xr[1])+(0,wt.string32)(pr)}or="\0\f\0\0"+(0,wt.string32)(hr.length+16)+"\0\0\0\0"+(0,wt.string32)(hr.length/12)}return Dn+"\0"+Wt(ur.length+4)+ur+or+hr}function Jt(An,Tn){Tn.pos=(Tn.start||0)+An.offset;const Mn=Tn.getUint16();Tn.skip(60);const Rn=Tn.getUint16();if(Mn<4&&Rn&768)return!1;const Ln=Tn.getUint16(),Dn=Tn.getUint16();return Ln>Dn||(Tn.skip(6),Tn.getUint16()===0)?!1:(An.data[8]=An.data[9]=0,!0)}function cn(An,Tn,Mn){Mn||(Mn={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0});let Rn=0,Ln=0,Dn=0,Un=0,tr=null,er=0,Qn=-1;if(Tn){for(let Xn in Tn)if(Xn|=0,(tr>Xn||!tr)&&(tr=Xn),er<Xn&&(er=Xn),Qn=(0,ht.getUnicodeRangeFor)(Xn,Qn),Qn<32)Rn|=1<<Qn;else if(Qn<64)Ln|=1<<Qn-32;else if(Qn<96)Dn|=1<<Qn-64;else if(Qn<123)Un|=1<<Qn-96;else throw new wt.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");er>65535&&(er=65535)}else tr=0,er=255;const Yn=An.bbox||[0,0,0,0],zn=Mn.unitsPerEm||1/(An.fontMatrix||wt.FONT_IDENTITY_MATRIX)[0],nr=An.ascentScaled?1:zn/en,lr=Mn.ascent||Math.round(nr*(An.ascent||Yn[3]));let dr=Mn.descent||Math.round(nr*(An.descent||Yn[1]));dr>0&&An.descent>0&&Yn[1]<0&&(dr=-dr);const jn=Mn.yMax||lr,Hn=-Mn.yMin||-dr;return"\0$\0\0\0\0\0\0\0\0\x001\0\0\0\0"+String.fromCharCode(An.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,wt.string32)(Rn)+(0,wt.string32)(Ln)+(0,wt.string32)(Dn)+(0,wt.string32)(Un)+"*21*"+Wt(An.italicAngle?1:0)+Wt(tr||An.firstChar)+Wt(er||An.lastChar)+Wt(lr)+Wt(dr)+"\0d"+Wt(jn)+Wt(Hn)+"\0\0\0\0\0\0\0\0"+Wt(An.xHeight)+Wt(An.capHeight)+Wt(0)+Wt(tr||An.firstChar)+"\0"}function pn(An){const Tn=Math.floor(An.italicAngle*65536);return"\0\0\0"+(0,wt.string32)(Tn)+"\0\0\0\0"+(0,wt.string32)(An.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function wn(An){return An.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function En(An,Tn){Tn||(Tn=[[],[]]);const Mn=[Tn[0][0]||"Original licence",Tn[0][1]||An,Tn[0][2]||"Unknown",Tn[0][3]||"uniqueID",Tn[0][4]||An,Tn[0][5]||"Version 0.11",Tn[0][6]||wn(An),Tn[0][7]||"Unknown",Tn[0][8]||"Unknown",Tn[0][9]||"Unknown"],Rn=[];let Ln,Dn,Un,tr,er;for(Ln=0,Dn=Mn.length;Ln<Dn;Ln++){er=Tn[1][Ln]||Mn[Ln];const Hn=[];for(Un=0,tr=er.length;Un<tr;Un++)Hn.push(Wt(er.charCodeAt(Un)));Rn.push(Hn.join(""))}const Qn=[Mn,Rn],Yn=["\0","\0"],zn=["\0\0","\0"],nr=["\0\0","	"],lr=Mn.length*Yn.length;let dr="\0\0"+Wt(lr)+Wt(lr*12+6),jn=0;for(Ln=0,Dn=Yn.length;Ln<Dn;Ln++){const Hn=Qn[Ln];for(Un=0,tr=Hn.length;Un<tr;Un++){er=Hn[Un];const Xn=Yn[Ln]+zn[Ln]+nr[Ln]+Wt(Un)+Wt(er.length)+Wt(jn);dr+=Xn,jn+=er.length}}return dr+=Mn.join("")+Rn.join(""),dr}class _n{constructor(Tn,Mn,Rn){var Qn;this.name=Tn,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=Rn.loadedName,this.isType3Font=Rn.isType3Font,this.missingFile=!1,this.cssFontInfo=Rn.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let Ln=!!(Rn.flags&Rt.FontFlags.Serif);if(!Ln&&!Rn.isSimulatedFlags){const Yn=Tn.replaceAll(/[,_]/g,"-").split("-")[0],zn=(0,Ht.getSerifFonts)();for(const nr of Yn.split("+"))if(zn[nr]){Ln=!0;break}}this.isSerifFont=Ln,this.isSymbolicFont=!!(Rn.flags&Rt.FontFlags.Symbolic),this.isMonospace=!!(Rn.flags&Rt.FontFlags.FixedPitch);let{type:Dn,subtype:Un}=Rn;this.type=Dn,this.subtype=Un,this.systemFontInfo=Rn.systemFontInfo;const tr=Tn.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!tr,this.isInvalidPDFjsFont?this.fallbackName=tr[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",(Qn=this.systemFontInfo)!=null&&Qn.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=Rn.differences,this.widths=Rn.widths,this.defaultWidth=Rn.defaultWidth,this.composite=Rn.composite,this.cMap=Rn.cMap,this.capHeight=Rn.capHeight/en,this.ascent=Rn.ascent/en,this.descent=Rn.descent/en,this.lineHeight=this.ascent-this.descent,this.fontMatrix=Rn.fontMatrix,this.bbox=Rn.bbox,this.defaultEncoding=Rn.defaultEncoding,this.toUnicode=Rn.toUnicode,this.toFontChar=[],Rn.type==="Type3"){for(let Yn=0;Yn<256;Yn++)this.toFontChar[Yn]=this.differences[Yn]||Rn.defaultEncoding[Yn];return}if(this.cidEncoding=Rn.cidEncoding||"",this.vertical=!!Rn.vertical,this.vertical&&(this.vmetrics=Rn.vmetrics,this.defaultVMetrics=Rn.defaultVMetrics),!Mn||Mn.isEmpty){Mn&&(0,wt.warn)('Font file is empty in "'+Tn+'" ('+this.loadedName+")"),this.fallbackToSystemFont(Rn);return}[Dn,Un]=xn(Mn,Rn),(Dn!==this.type||Un!==this.subtype)&&(0,wt.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${Dn}/${Un}.`);let er;try{switch(Dn){case"MMType1":(0,wt.info)("MMType1 font ("+Tn+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const Yn=Un==="Type1C"||Un==="CIDFontType0C"?new Nt.CFFFont(Mn,Rn):new Qt.Type1Font(Tn,Mn,Rn);bn(Rn),er=this.convert(Tn,Yn,Rn);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",er=this.checkAndRepair(Tn,Mn,Rn),this.isOpenType&&(bn(Rn),Dn="OpenType");break;default:throw new wt.FormatError(`Font ${Dn} is not supported`)}}catch(Yn){(0,wt.warn)(Yn),this.fallbackToSystemFont(Rn);return}un(Rn),this.data=er,this.type=Dn,this.subtype=Un,this.fontMatrix=Rn.fontMatrix,this.widths=Rn.widths,this.defaultWidth=Rn.defaultWidth,this.toUnicode=Rn.toUnicode,this.seacMap=Rn.seacMap}get renderer(){const Tn=$t.FontRendererFactory.create(this,Rt.SEAC_ANALYSIS_ENABLED);return(0,wt.shadow)(this,"renderer",Tn)}exportData(Tn=!1){const Mn=Tn?[...gn,...tn]:gn,Rn=Object.create(null);let Ln,Dn;for(Ln of Mn)Dn=this[Ln],Dn!==void 0&&(Rn[Ln]=Dn);return Rn}fallbackToSystemFont(Tn){this.missingFile=!0;const{name:Mn,type:Rn}=this;let Ln=(0,Rt.normalizeFontName)(Mn);const Dn=(0,Ht.getStdFontMap)(),Un=(0,Ht.getNonStdFontMap)(),tr=!!Dn[Ln],er=!!(Un[Ln]&&Dn[Un[Ln]]);Ln=Dn[Ln]||Un[Ln]||Ln;const Yn=(0,Mt.getFontBasicMetrics)()[Ln];Yn&&(isNaN(this.ascent)&&(this.ascent=Yn.ascent/en),isNaN(this.descent)&&(this.descent=Yn.descent/en),isNaN(this.capHeight)&&(this.capHeight=Yn.capHeight/en)),this.bold=/bold/gi.test(Ln),this.italic=/oblique|italic/gi.test(Ln),this.black=/Black/g.test(Mn);const zn=/Narrow/g.test(Mn);if(this.remeasure=(!tr||zn)&&Object.keys(this.widths).length>0,(tr||er)&&Rn==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const nr=Tn.cidToGidMap,lr=[];if(vn(lr,(0,Ht.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(Mn)?vn(lr,(0,Ht.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(Mn)&&vn(lr,(0,Ht.getSupplementalGlyphMapForCalibri)()),nr){for(const dr in lr){const jn=lr[dr];nr[jn]!==void 0&&(lr[+dr]=nr[jn])}nr.length!==this.toUnicode.length&&Tn.hasIncludedToUnicodeMap&&this.toUnicode instanceof qt.IdentityToUnicodeMap&&this.toUnicode.forEach(function(dr,jn){const Hn=lr[dr];nr[Hn]===void 0&&(lr[+dr]=jn)})}this.toUnicode instanceof qt.IdentityToUnicodeMap||this.toUnicode.forEach(function(dr,jn){lr[+dr]=jn}),this.toFontChar=lr,this.toUnicode=new qt.ToUnicodeMap(lr)}else if(/Symbol/i.test(Ln))this.toFontChar=kn(Ft.SymbolSetEncoding,(0,vt.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(Ln))this.toFontChar=kn(Ft.ZapfDingbatsEncoding,(0,vt.getDingbatsGlyphsUnicode)(),this.differences);else if(tr){const nr=kn(this.defaultEncoding,(0,vt.getGlyphsUnicode)(),this.differences);Rn==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof qt.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(lr,dr){nr[+lr]=dr}),this.toFontChar=nr}else{const nr=(0,vt.getGlyphsUnicode)(),lr=[];this.toUnicode.forEach((dr,jn)=>{if(!this.composite){const Hn=this.differences[dr]||this.defaultEncoding[dr],Xn=(0,ht.getUnicodeForGlyph)(Hn,nr);Xn!==-1&&(jn=Xn)}lr[+dr]=jn}),this.composite&&this.toUnicode instanceof qt.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(Mn)&&vn(lr,(0,Ht.getGlyphMapForStandardFonts)()),this.toFontChar=lr}un(Tn),this.loadedName=Ln.split("-")[0]}checkAndRepair(Tn,Mn,Rn){var ns,Ns,Gs;const Ln=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function Dn(vr,yr){const Sr=Object.create(null);Sr["OS/2"]=null,Sr.cmap=null,Sr.head=null,Sr.hhea=null,Sr.hmtx=null,Sr.maxp=null,Sr.name=null,Sr.post=null;for(let Rr=0;Rr<yr;Rr++){const Br=Un(vr);Ln.includes(Br.tag)&&Br.length!==0&&(Sr[Br.tag]=Br)}return Sr}function Un(vr){const yr=vr.getString(4),Sr=vr.getInt32()>>>0,Rr=vr.getInt32()>>>0,Br=vr.getInt32()>>>0,es=vr.pos;vr.pos=vr.start||0,vr.skip(Rr);const Or=vr.getBytes(Br);return vr.pos=es,yr==="head"&&(Or[8]=Or[9]=Or[10]=Or[11]=0,Or[17]|=32),{tag:yr,checksum:Sr,length:Br,offset:Rr,data:Or}}function tr(vr){return{version:vr.getString(4),numTables:vr.getUint16(),searchRange:vr.getUint16(),entrySelector:vr.getUint16(),rangeShift:vr.getUint16()}}function er(vr){const yr=vr.getString(4);(0,wt.assert)(yr==="ttcf","Must be a TrueType Collection font.");const Sr=vr.getUint16(),Rr=vr.getUint16(),Br=vr.getInt32()>>>0,es=[];for(let Tr=0;Tr<Br;Tr++)es.push(vr.getInt32()>>>0);const Or={ttcTag:yr,majorVersion:Sr,minorVersion:Rr,numFonts:Br,offsetTable:es};switch(Sr){case 1:return Or;case 2:return Or.dsigTag=vr.getInt32()>>>0,Or.dsigLength=vr.getInt32()>>>0,Or.dsigOffset=vr.getInt32()>>>0,Or}throw new wt.FormatError(`Invalid TrueType Collection majorVersion: ${Sr}.`)}function Qn(vr,yr){var Or;const{numFonts:Sr,offsetTable:Rr}=er(vr),Br=yr.split("+");let es;for(let Tr=0;Tr<Sr;Tr++){vr.pos=(vr.start||0)+Rr[Tr];const Wr=tr(vr),us=Dn(vr,Wr.numTables);if(!us.name)throw new wt.FormatError('TrueType Collection font must contain a "name" table.');const[bs]=Hn(us.name);for(let Jr=0,ss=bs.length;Jr<ss;Jr++)for(let ms=0,Xr=bs[Jr].length;ms<Xr;ms++){const hs=(Or=bs[Jr][ms])==null?void 0:Or.replaceAll(/\s/g,"");if(hs){if(hs===yr)return{header:Wr,tables:us};if(!(Br.length<2))for(const Vr of Br)hs===Vr&&(es={name:Vr,header:Wr,tables:us})}}}if(es)return(0,wt.warn)(`TrueType Collection does not contain "${yr}" font, falling back to "${es.name}" font instead.`),{header:es.header,tables:es.tables};throw new wt.FormatError(`TrueType Collection does not contain "${yr}" font.`)}function Yn(vr,yr,Sr,Rr){if(!vr)return(0,wt.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let Br,es=(yr.start||0)+vr.offset;yr.pos=es,yr.skip(2);const Or=yr.getUint16();let Tr,Wr=!1;for(let Xr=0;Xr<Or;Xr++){const hs=yr.getUint16(),Vr=yr.getUint16(),gs=yr.getInt32()>>>0;let ws=!1;if(!((Tr==null?void 0:Tr.platformId)===hs&&(Tr==null?void 0:Tr.encodingId)===Vr)){if(hs===0&&(Vr===0||Vr===1||Vr===3))ws=!0;else if(hs===1&&Vr===0)ws=!0;else if(hs===3&&Vr===1&&(Rr||!Tr))ws=!0,Sr||(Wr=!0);else if(Sr&&hs===3&&Vr===0){ws=!0;let io=!0;if(Xr<Or-1){const ds=yr.peekBytes(2);Lt(ds[0],ds[1])<hs&&(io=!1)}io&&(Wr=!0)}if(ws&&(Tr={platformId:hs,encodingId:Vr,offset:gs}),Wr)break}}if(Tr&&(yr.pos=es+Tr.offset),!Tr||yr.peekByte()===-1)return(0,wt.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const us=yr.getUint16();let bs=!1;const Jr=[];let ss,ms;if(us===0){for(yr.skip(4),ss=0;ss<256;ss++){const Xr=yr.getByte();Xr&&Jr.push({charCode:ss,glyphId:Xr})}bs=!0}else if(us===2){yr.skip(4);const Xr=[];let hs=0;for(let gs=0;gs<256;gs++){const ws=yr.getUint16()>>3;Xr.push(ws),hs=Math.max(ws,hs)}const Vr=[];for(let gs=0;gs<=hs;gs++)Vr.push({firstCode:yr.getUint16(),entryCount:yr.getUint16(),idDelta:an(yr.getByte(),yr.getByte()),idRangePos:yr.pos+yr.getUint16()});for(let gs=0;gs<256;gs++)if(Xr[gs]===0)yr.pos=Vr[0].idRangePos+2*gs,ms=yr.getUint16(),Jr.push({charCode:gs,glyphId:ms});else{const ws=Vr[Xr[gs]];for(ss=0;ss<ws.entryCount;ss++){const io=(gs<<8)+ss+ws.firstCode;yr.pos=ws.idRangePos+2*ss,ms=yr.getUint16(),ms!==0&&(ms=(ms+ws.idDelta)%65536),Jr.push({charCode:io,glyphId:ms})}}}else if(us===4){yr.skip(4);const Xr=yr.getUint16()>>1;yr.skip(6);const hs=[];let Vr;for(Vr=0;Vr<Xr;Vr++)hs.push({end:yr.getUint16()});for(yr.skip(2),Vr=0;Vr<Xr;Vr++)hs[Vr].start=yr.getUint16();for(Vr=0;Vr<Xr;Vr++)hs[Vr].delta=yr.getUint16();let gs=0,ws;for(Vr=0;Vr<Xr;Vr++){Br=hs[Vr];const ds=yr.getUint16();if(!ds){Br.offsetIndex=-1;continue}ws=(ds>>1)-(Xr-Vr),Br.offsetIndex=ws,gs=Math.max(gs,ws+Br.end-Br.start+1)}const io=[];for(ss=0;ss<gs;ss++)io.push(yr.getUint16());for(Vr=0;Vr<Xr;Vr++){Br=hs[Vr],es=Br.start;const ds=Br.end,fs=Br.delta;for(ws=Br.offsetIndex,ss=es;ss<=ds;ss++)ss!==65535&&(ms=ws<0?ss:io[ws+ss-es],ms=ms+fs&65535,Jr.push({charCode:ss,glyphId:ms}))}}else if(us===6){yr.skip(4);const Xr=yr.getUint16(),hs=yr.getUint16();for(ss=0;ss<hs;ss++){ms=yr.getUint16();const Vr=Xr+ss;Jr.push({charCode:Vr,glyphId:ms})}}else if(us===12){yr.skip(10);const Xr=yr.getInt32()>>>0;for(ss=0;ss<Xr;ss++){const hs=yr.getInt32()>>>0,Vr=yr.getInt32()>>>0;let gs=yr.getInt32()>>>0;for(let ws=hs;ws<=Vr;ws++)Jr.push({charCode:ws,glyphId:gs++})}}else return(0,wt.warn)("cmap table has unsupported format: "+us),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};Jr.sort(function(Xr,hs){return Xr.charCode-hs.charCode});for(let Xr=1;Xr<Jr.length;Xr++)Jr[Xr-1].charCode===Jr[Xr].charCode&&(Jr.splice(Xr,1),Xr--);return{platformId:Tr.platformId,encodingId:Tr.encodingId,mappings:Jr,hasShortCmap:bs}}function zn(vr,yr,Sr,Rr,Br,es){if(!yr){Sr&&(Sr.data=null);return}vr.pos=(vr.start||0)+yr.offset,vr.pos+=4,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2;const Or=vr.getUint16();vr.pos+=8,vr.pos+=2;let Tr=vr.getUint16();Or!==0&&(Lt(Rr.data[44],Rr.data[45])&2||(yr.data[22]=0,yr.data[23]=0)),Tr>Br&&((0,wt.info)(`The numOfMetrics (${Tr}) should not be greater than the numGlyphs (${Br}).`),Tr=Br,yr.data[34]=(Tr&65280)>>8,yr.data[35]=Tr&255);const us=Br-Tr-(Sr.length-Tr*4>>1);if(us>0){const bs=new Uint8Array(Sr.length+us*2);bs.set(Sr.data),es&&(bs[Sr.length]=Sr.data[2],bs[Sr.length+1]=Sr.data[3]),Sr.data=bs}}function nr(vr,yr,Sr,Rr,Br,es){const Or={length:0,sizeOfInstructions:0};if(yr<0||yr>=vr.length||Sr>vr.length||Sr-yr<=12)return Or;const Tr=vr.subarray(yr,Sr),Wr=an(Tr[2],Tr[3]),us=an(Tr[4],Tr[5]),bs=an(Tr[6],Tr[7]),Jr=an(Tr[8],Tr[9]);Wr>bs&&(Vt(Tr,2,bs),Vt(Tr,6,Wr)),us>Jr&&(Vt(Tr,4,Jr),Vt(Tr,8,us));const ss=an(Tr[0],Tr[1]);if(ss<0)return ss<-1||(Rr.set(Tr,Br),Or.length=Tr.length),Or;let ms,Xr=10,hs=0;for(ms=0;ms<ss;ms++)hs=(Tr[Xr]<<8|Tr[Xr+1])+1,Xr+=2;const Vr=Xr,gs=Tr[Xr]<<8|Tr[Xr+1];Or.sizeOfInstructions=gs,Xr+=2+gs;const ws=Xr;let io=0;for(ms=0;ms<hs;ms++){const fs=Tr[Xr++];fs&192&&(Tr[Xr-1]=fs&63);let $s=2;fs&2?$s=1:fs&16&&($s=0);let Ys=2;fs&4?Ys=1:fs&32&&(Ys=0);const wo=$s+Ys;if(io+=wo,fs&8){const Tl=Tr[Xr++];Tl===0&&(Tr[Xr-1]^=8),ms+=Tl,io+=Tl*wo}}if(io===0)return Or;let ds=Xr+io;return ds>Tr.length?Or:!es&&gs>0?(Rr.set(Tr.subarray(0,Vr),Br),Rr.set([0,0],Br+Vr),Rr.set(Tr.subarray(ws,ds),Br+Vr+2),ds-=gs,Tr.length-ds>3&&(ds=ds+3&-4),Or.length=ds,Or):Tr.length-ds>3?(ds=ds+3&-4,Rr.set(Tr.subarray(0,ds),Br),Or.length=ds,Or):(Rr.set(Tr,Br),Or.length=Tr.length,Or)}function lr(vr,yr,Sr){const Rr=vr.data,Br=zt(Rr[0],Rr[1],Rr[2],Rr[3]);Br>>16!==1&&((0,wt.info)("Attempting to fix invalid version in head table: "+Br),Rr[0]=0,Rr[1]=1,Rr[2]=0,Rr[3]=0);const es=Lt(Rr[50],Rr[51]);if(es<0||es>1){(0,wt.info)("Attempting to fix invalid indexToLocFormat in head table: "+es);const Or=yr+1;if(Sr===Or<<1)Rr[50]=0,Rr[51]=0;else if(Sr===Or<<2)Rr[50]=0,Rr[51]=1;else throw new wt.FormatError("Could not fix indexToLocFormat: "+es)}}function dr(vr,yr,Sr,Rr,Br,es,Or){let Tr,Wr,us;Rr?(Tr=4,Wr=function($s,Ys){return $s[Ys]<<24|$s[Ys+1]<<16|$s[Ys+2]<<8|$s[Ys+3]},us=function($s,Ys,wo){$s[Ys]=wo>>>24&255,$s[Ys+1]=wo>>16&255,$s[Ys+2]=wo>>8&255,$s[Ys+3]=wo&255}):(Tr=2,Wr=function($s,Ys){return $s[Ys]<<9|$s[Ys+1]<<1},us=function($s,Ys,wo){$s[Ys]=wo>>9&255,$s[Ys+1]=wo>>1&255});const bs=es?Sr+1:Sr,Jr=Tr*(1+bs),ss=new Uint8Array(Jr);ss.set(vr.data.subarray(0,Jr)),vr.data=ss;const ms=yr.data,Xr=ms.length,hs=new Uint8Array(Xr);let Vr,gs;const ws=[];for(Vr=0,gs=0;Vr<Sr+1;Vr++,gs+=Tr){let fs=Wr(ss,gs);fs>Xr&&(fs=Xr),ws.push({index:Vr,offset:fs,endOffset:0})}for(ws.sort((fs,$s)=>fs.offset-$s.offset),Vr=0;Vr<Sr;Vr++)ws[Vr].endOffset=ws[Vr+1].offset;for(ws.sort((fs,$s)=>fs.index-$s.index),Vr=0;Vr<Sr;Vr++){const{offset:fs,endOffset:$s}=ws[Vr];if(fs!==0||$s!==0)break;const Ys=ws[Vr+1].offset;if(Ys!==0){ws[Vr].endOffset=Ys;break}}const io=Object.create(null);let ds=0;for(us(ss,0,ds),Vr=0,gs=Tr;Vr<Sr;Vr++,gs+=Tr){const fs=nr(ms,ws[Vr].offset,ws[Vr].endOffset,hs,ds,Br),$s=fs.length;$s===0&&(io[Vr]=!0),fs.sizeOfInstructions>Or&&(Or=fs.sizeOfInstructions),ds+=$s,us(ss,gs,ds)}if(ds===0){const fs=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(Vr=0,gs=Tr;Vr<bs;Vr++,gs+=Tr)us(ss,gs,fs.length);yr.data=fs}else if(es){const fs=Wr(ss,Tr);hs.length>fs+ds?yr.data=hs.subarray(0,fs+ds):(yr.data=new Uint8Array(fs+ds),yr.data.set(hs.subarray(0,ds))),yr.data.set(hs.subarray(0,fs),ds),us(vr.data,ss.length-Tr,ds+fs)}else yr.data=hs.subarray(0,ds);return{missingGlyphs:io,maxSizeOfInstructions:Or}}function jn(vr,yr,Sr){const Rr=(Mn.start||0)+vr.offset;Mn.pos=Rr;const Br=vr.length,es=Rr+Br,Or=Mn.getInt32();Mn.skip(28);let Tr,Wr=!0,us;switch(Or){case 65536:Tr=Rt.MacStandardGlyphOrdering;break;case 131072:const bs=Mn.getUint16();if(bs!==Sr){Wr=!1;break}const Jr=[];for(us=0;us<bs;++us){const Xr=Mn.getUint16();if(Xr>=32768){Wr=!1;break}Jr.push(Xr)}if(!Wr)break;const ss=[],ms=[];for(;Mn.pos<es;){const Xr=Mn.getByte();for(ms.length=Xr,us=0;us<Xr;++us)ms[us]=String.fromCharCode(Mn.getByte());ss.push(ms.join(""))}for(Tr=[],us=0;us<bs;++us){const Xr=Jr[us];if(Xr<258){Tr.push(Rt.MacStandardGlyphOrdering[Xr]);continue}Tr.push(ss[Xr-258])}break;case 196608:break;default:(0,wt.warn)("Unknown/unsupported post table version "+Or),Wr=!1,yr.defaultEncoding&&(Tr=yr.defaultEncoding);break}return yr.glyphNames=Tr,Wr}function Hn(vr){const yr=(Mn.start||0)+vr.offset;Mn.pos=yr;const Sr=[[],[]],Rr=[],Br=vr.length,es=yr+Br;if(Mn.getUint16()!==0||Br<6)return[Sr,Rr];const Wr=Mn.getUint16(),us=Mn.getUint16(),bs=12;let Jr,ss;for(Jr=0;Jr<Wr&&Mn.pos+bs<=es;Jr++){const ms={platform:Mn.getUint16(),encoding:Mn.getUint16(),language:Mn.getUint16(),name:Mn.getUint16(),length:Mn.getUint16(),offset:Mn.getUint16()};(Fn(ms)||On(ms))&&Rr.push(ms)}for(Jr=0,ss=Rr.length;Jr<ss;Jr++){const ms=Rr[Jr];if(ms.length<=0)continue;const Xr=yr+us+ms.offset;if(Xr+ms.length>es)continue;Mn.pos=Xr;const hs=ms.name;if(ms.encoding){let Vr="";for(let gs=0,ws=ms.length;gs<ws;gs+=2)Vr+=String.fromCharCode(Mn.getUint16());Sr[1][hs]=Vr}else Sr[0][hs]=Mn.getString(ms.length)}return[Sr,Rr]}const Xn=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function cr(vr,yr){let Sr=vr.data,Rr=0,Br,es,Or,Tr,Wr,us=0,bs=0;const Jr=[],ss=[],ms=[];let Xr=yr.tooComplexToFollowFunctions,hs=!1,Vr=0,gs=0;for(let io=Sr.length;Rr<io;){const ds=Sr[Rr++];if(ds===64)if(es=Sr[Rr++],hs||gs)Rr+=es;else for(Br=0;Br<es;Br++)Jr.push(Sr[Rr++]);else if(ds===65)if(es=Sr[Rr++],hs||gs)Rr+=es*2;else for(Br=0;Br<es;Br++)Or=Sr[Rr++],Jr.push(Or<<8|Sr[Rr++]);else if((ds&248)===176)if(es=ds-176+1,hs||gs)Rr+=es;else for(Br=0;Br<es;Br++)Jr.push(Sr[Rr++]);else if((ds&248)===184)if(es=ds-184+1,hs||gs)Rr+=es*2;else for(Br=0;Br<es;Br++)Or=Sr[Rr++],Jr.push(Or<<8|Sr[Rr++]);else if(ds===43&&!Xr){if(!hs&&!gs){if(Tr=Jr.at(-1),isNaN(Tr))(0,wt.info)("TT: CALL empty stack (or invalid entry).");else if(yr.functionsUsed[Tr]=!0,Tr in yr.functionsStackDeltas){const fs=Jr.length+yr.functionsStackDeltas[Tr];if(fs<0){(0,wt.warn)("TT: CALL invalid functions stack delta."),yr.hintsValid=!1;return}Jr.length=fs}else if(Tr in yr.functionsDefined&&!ms.includes(Tr)){if(ss.push({data:Sr,i:Rr,stackTop:Jr.length-1}),ms.push(Tr),Wr=yr.functionsDefined[Tr],!Wr){(0,wt.warn)("TT: CALL non-existent function"),yr.hintsValid=!1;return}Sr=Wr.data,Rr=Wr.i}}}else if(ds===44&&!Xr)(hs||gs)&&((0,wt.warn)("TT: nested FDEFs not allowed"),Xr=!0),hs=!0,bs=Rr,Tr=Jr.pop(),yr.functionsDefined[Tr]={data:Sr,i:Rr};else if(ds===45)if(hs)hs=!1,us=Rr;else{if(Wr=ss.pop(),!Wr){(0,wt.warn)("TT: ENDF bad stack"),yr.hintsValid=!1;return}Tr=ms.pop(),Sr=Wr.data,Rr=Wr.i,yr.functionsStackDeltas[Tr]=Jr.length-Wr.stackTop}else if(ds===137)(hs||gs)&&((0,wt.warn)("TT: nested IDEFs not allowed"),Xr=!0),hs=!0,bs=Rr;else if(ds===88)++Vr;else if(ds===27)gs=Vr;else if(ds===89)gs===Vr&&(gs=0),--Vr;else if(ds===28&&!hs&&!gs){const fs=Jr.at(-1);fs>0&&(Rr+=fs-1)}if(!hs&&!gs){let fs=0;for(ds<=142?fs=Xn[ds]:ds>=192&&ds<=223?fs=-1:ds>=224&&(fs=-2),ds>=113&&ds<=117&&(es=Jr.pop(),isNaN(es)||(fs=-es*2));fs<0&&Jr.length>0;)Jr.pop(),fs++;for(;fs>0;)Jr.push(NaN),fs--}}yr.tooComplexToFollowFunctions=Xr;const ws=[Sr];Rr>Sr.length&&ws.push(new Uint8Array(Rr-Sr.length)),bs>us&&((0,wt.warn)("TT: complementing a missing function tail"),ws.push(new Uint8Array([34,45]))),xr(vr,ws)}function sr(vr,yr){if(!vr.tooComplexToFollowFunctions){if(vr.functionsDefined.length>yr){(0,wt.warn)("TT: more functions defined than expected"),vr.hintsValid=!1;return}for(let Sr=0,Rr=vr.functionsUsed.length;Sr<Rr;Sr++){if(Sr>yr){(0,wt.warn)("TT: invalid function id: "+Sr),vr.hintsValid=!1;return}if(vr.functionsUsed[Sr]&&!vr.functionsDefined[Sr]){(0,wt.warn)("TT: undefined function: "+Sr),vr.hintsValid=!1;return}}}}function xr(vr,yr){if(yr.length>1){let Sr=0,Rr,Br;for(Rr=0,Br=yr.length;Rr<Br;Rr++)Sr+=yr[Rr].length;Sr=Sr+3&-4;const es=new Uint8Array(Sr);let Or=0;for(Rr=0,Br=yr.length;Rr<Br;Rr++)es.set(yr[Rr],Or),Or+=yr[Rr].length;vr.data=es,vr.length=Sr}}function Jn(vr,yr,Sr,Rr){const Br={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(vr&&cr(vr,Br),yr&&cr(yr,Br),vr&&sr(Br,Rr),Sr&&Sr.length&1){const es=new Uint8Array(Sr.length+1);es.set(Sr.data),Sr.data=es}return Br.hintsValid}Mn=new Gt.Stream(new Uint8Array(Mn.getBytes()));let Wn,Zn;if(on(Mn)){const vr=Qn(Mn,this.name);Wn=vr.header,Zn=vr.tables}else Wn=tr(Mn),Zn=Dn(Mn,Wn.numTables);let ur,hr;const or=!Zn["CFF "];if(or){if(!Zn.loca)throw new wt.FormatError('Required "loca" table is not found');Zn.glyf||((0,wt.warn)('Required "glyf" table is not found -- trying to recover.'),Zn.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const vr=Rn.composite&&(((ns=Rn.cidToGidMap)==null?void 0:ns.length)>0||!(Rn.cMap instanceof _t.IdentityCMap));if(Wn.version==="OTTO"&&!vr||!Zn.head||!Zn.hhea||!Zn.maxp||!Zn.post)return hr=new Gt.Stream(Zn["CFF "].data),ur=new Nt.CFFFont(hr,Rn),bn(Rn),this.convert(Tn,ur,Rn);delete Zn.glyf,delete Zn.loca,delete Zn.fpgm,delete Zn.prep,delete Zn["cvt "],this.isOpenType=!0}if(!Zn.maxp)throw new wt.FormatError('Required "maxp" table is not found');Mn.pos=(Mn.start||0)+Zn.maxp.offset;const pr=Mn.getInt32(),wr=Mn.getUint16();if(((Ns=Rn.scaleFactors)==null?void 0:Ns.length)===wr&&or){const{scaleFactors:vr}=Rn,yr=Lt(Zn.head.data[50],Zn.head.data[51]),Sr=new Bt.GlyfTable({glyfTable:Zn.glyf.data,isGlyphLocationsLong:yr,locaTable:Zn.loca.data,numGlyphs:wr});Sr.scale(vr);const{glyf:Rr,loca:Br,isLocationLong:es}=Sr.write();Zn.glyf.data=Rr,Zn.loca.data=Br,es!==!!yr&&(Zn.head.data[50]=0,Zn.head.data[51]=es?1:0);const Or=Zn.hmtx.data;for(let Tr=0;Tr<wr;Tr++){const Wr=4*Tr,us=Math.round(vr[Tr]*Lt(Or[Wr],Or[Wr+1]));Or[Wr]=us>>8&255,Or[Wr+1]=us&255;const bs=Math.round(vr[Tr]*an(Or[Wr+2],Or[Wr+3]));Vt(Or,Wr+2,bs)}}let fr=wr+1,Ar=!0;fr>65535&&(Ar=!1,fr=wr,(0,wt.warn)("Not enough space in glyfs to duplicate first glyph."));let Dr=0,Fr=0;pr>=65536&&Zn.maxp.length>=22&&(Mn.pos+=8,Mn.getUint16()>2&&(Zn.maxp.data[14]=0,Zn.maxp.data[15]=2),Mn.pos+=4,Dr=Mn.getUint16(),Mn.pos+=4,Fr=Mn.getUint16()),Zn.maxp.data[4]=fr>>8,Zn.maxp.data[5]=fr&255;const $r=Jn(Zn.fpgm,Zn.prep,Zn["cvt "],Dr);if($r||(delete Zn.fpgm,delete Zn.prep,delete Zn["cvt "]),zn(Mn,Zn.hhea,Zn.hmtx,Zn.head,fr,Ar),!Zn.head)throw new wt.FormatError('Required "head" table is not found');lr(Zn.head,wr,or?Zn.loca.length:0);let Cr=Object.create(null);if(or){const vr=Lt(Zn.head.data[50],Zn.head.data[51]),yr=dr(Zn.loca,Zn.glyf,wr,vr,$r,Ar,Fr);Cr=yr.missingGlyphs,pr>=65536&&Zn.maxp.length>=22&&(Zn.maxp.data[26]=yr.maxSizeOfInstructions>>8,Zn.maxp.data[27]=yr.maxSizeOfInstructions&255)}if(!Zn.hhea)throw new wt.FormatError('Required "hhea" table is not found');Zn.hhea.data[10]===0&&Zn.hhea.data[11]===0&&(Zn.hhea.data[10]=255,Zn.hhea.data[11]=255);const Pr={unitsPerEm:Lt(Zn.head.data[18],Zn.head.data[19]),yMax:an(Zn.head.data[42],Zn.head.data[43]),yMin:an(Zn.head.data[38],Zn.head.data[39]),ascent:an(Zn.hhea.data[4],Zn.hhea.data[5]),descent:an(Zn.hhea.data[6],Zn.hhea.data[7]),lineGap:an(Zn.hhea.data[8],Zn.hhea.data[9])};this.ascent=Pr.ascent/Pr.unitsPerEm,this.descent=Pr.descent/Pr.unitsPerEm,this.lineGap=Pr.lineGap/Pr.unitsPerEm,(Gs=this.cssFontInfo)!=null&&Gs.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,Zn.post&&jn(Zn.post,Rn,wr),Zn.post={tag:"post",data:pn(Rn)};const _r=[];function qr(vr){return!Cr[vr]}if(Rn.composite){const vr=Rn.cidToGidMap||[],yr=vr.length===0;Rn.cMap.forEach(function(Sr,Rr){if(typeof Rr=="string"&&(Rr=Pn(Sr,Rr,!0)),Rr>65535)throw new wt.FormatError("Max size of CID is 65,535");let Br=-1;yr?Br=Rr:vr[Rr]!==void 0&&(Br=vr[Rr]),Br>=0&&Br<wr&&qr(Br)&&(_r[Sr]=Br)})}else{const vr=Yn(Zn.cmap,Mn,this.isSymbolicFont,Rn.hasEncoding),yr=vr.platformId,Sr=vr.encodingId,Rr=vr.mappings;let Br=[],es=!1;if(Rn.hasEncoding&&(Rn.baseEncodingName==="MacRomanEncoding"||Rn.baseEncodingName==="WinAnsiEncoding")&&(Br=(0,Ft.getEncoding)(Rn.baseEncodingName)),Rn.hasEncoding&&!this.isSymbolicFont&&(yr===3&&Sr===1||yr===1&&Sr===0)){const Or=(0,vt.getGlyphsUnicode)();for(let Tr=0;Tr<256;Tr++){let Wr;if(this.differences[Tr]!==void 0?Wr=this.differences[Tr]:Br.length&&Br[Tr]!==""?Wr=Br[Tr]:Wr=Ft.StandardEncoding[Tr],!Wr)continue;const us=(0,Rt.recoverGlyphName)(Wr,Or);let bs;if(yr===3&&Sr===1?bs=Or[us]:yr===1&&Sr===0&&(bs=Ft.MacRomanEncoding.indexOf(us)),bs===void 0){if(!Rn.glyphNames&&Rn.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof qt.IdentityToUnicodeMap)){const Jr=this.toUnicode.get(Tr);Jr&&(bs=Jr.codePointAt(0))}if(bs===void 0)continue}for(const Jr of Rr)if(Jr.charCode===bs){_r[Tr]=Jr.glyphId;break}}}else if(yr===0){for(const Or of Rr)_r[Or.charCode]=Or.glyphId;es=!0}else for(const Or of Rr){let Tr=Or.charCode;yr===3&&Tr>=61440&&Tr<=61695&&(Tr&=255),_r[Tr]=Or.glyphId}if(Rn.glyphNames&&(Br.length||this.differences.length))for(let Or=0;Or<256;++Or){if(!es&&_r[Or]!==void 0)continue;const Tr=this.differences[Or]||Br[Or];if(!Tr)continue;const Wr=Rn.glyphNames.indexOf(Tr);Wr>0&&qr(Wr)&&(_r[Or]=Wr)}}_r.length===0&&(_r[0]=0);let vs=fr-1;if(Ar||(vs=0),!Rn.cssFontInfo){const vr=Sn(_r,qr,vs,this.toUnicode);this.toFontChar=vr.toFontChar,Zn.cmap={tag:"cmap",data:fn(vr.charCodeToGlyphId,vr.toUnicodeExtraMap,fr)},(!Zn["OS/2"]||!Jt(Zn["OS/2"],Mn))&&(Zn["OS/2"]={tag:"OS/2",data:cn(Rn,vr.charCodeToGlyphId,Pr)})}if(!or)try{hr=new Gt.Stream(Zn["CFF "].data),ur=new kt.CFFParser(hr,Rn,Rt.SEAC_ANALYSIS_ENABLED).parse(),ur.duplicateFirstGlyph();const yr=new kt.CFFCompiler(ur);Zn["CFF "].data=yr.compile()}catch{(0,wt.warn)("Failed to compile font "+Rn.loadedName)}if(!Zn.name)Zn.name={tag:"name",data:En(this.name)};else{const[vr,yr]=Hn(Zn.name);Zn.name.data=En(Tn,vr),this.psName=vr[0][6]||null,Rn.composite||Xt(Rn,this.isSymbolicFont,yr)}const ls=new Kt.OpenTypeFileBuilder(Wn.version);for(const vr in Zn)ls.addTable(vr,Zn[vr].data);return ls.toArray()}convert(Tn,Mn,Rn){Rn.fixedPitch=!1,Rn.builtInEncoding&&Yt(Rn,Rn.builtInEncoding);let Ln=1;Mn instanceof Nt.CFFFont&&(Ln=Mn.numGlyphs-1);const Dn=Mn.getGlyphMapping(Rn);let Un=null,tr=Dn,er=null;Rn.cssFontInfo||(Un=Sn(Dn,Mn.hasGlyphId.bind(Mn),Ln,this.toUnicode),this.toFontChar=Un.toFontChar,tr=Un.charCodeToGlyphId,er=Un.toUnicodeExtraMap);const Qn=Mn.numGlyphs;function Yn(jn,Hn){let Xn=null;for(const cr in jn)Hn===jn[cr]&&(Xn||(Xn=[])).push(cr|0);return Xn}function zn(jn,Hn){for(const Xn in jn)if(Hn===jn[Xn])return Xn|0;return Un.charCodeToGlyphId[Un.nextAvailableFontCharCode]=Hn,Un.nextAvailableFontCharCode++}const nr=Mn.seacs;if(Un&&Rt.SEAC_ANALYSIS_ENABLED&&(nr!=null&&nr.length)){const jn=Rn.fontMatrix||wt.FONT_IDENTITY_MATRIX,Hn=Mn.getCharset(),Xn=Object.create(null);for(let cr in nr){cr|=0;const sr=nr[cr],xr=Ft.StandardEncoding[sr[2]],Jn=Ft.StandardEncoding[sr[3]],Wn=Hn.indexOf(xr),Zn=Hn.indexOf(Jn);if(Wn<0||Zn<0)continue;const ur={x:sr[0]*jn[0]+sr[1]*jn[2]+jn[4],y:sr[0]*jn[1]+sr[1]*jn[3]+jn[5]},hr=Yn(Dn,cr);if(hr)for(const or of hr){const pr=Un.charCodeToGlyphId,wr=zn(pr,Wn),fr=zn(pr,Zn);Xn[or]={baseFontCharCode:wr,accentFontCharCode:fr,accentOffset:ur}}}Rn.seacMap=Xn}const lr=1/(Rn.fontMatrix||wt.FONT_IDENTITY_MATRIX)[0],dr=new Kt.OpenTypeFileBuilder("OTTO");return dr.addTable("CFF ",Mn.data),dr.addTable("OS/2",cn(Rn,tr)),dr.addTable("cmap",fn(tr,er,Qn)),dr.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\0\0"+nn(lr)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+nn(Rn.descent)+""+nn(Rn.ascent)+Wt(Rn.italicAngle?2:0)+"\0\0\0\0\0\0\0"),dr.addTable("hhea","\0\0\0"+nn(Rn.ascent)+nn(Rn.descent)+"\0\0\0\0\0\0\0\0"+nn(Rn.capHeight)+nn(Math.tan(Rn.italicAngle)*Rn.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+Wt(Qn)),dr.addTable("hmtx",function(){const Hn=Mn.charstrings,Xn=Mn.cff?Mn.cff.widths:null;let cr="\0\0\0\0";for(let sr=1,xr=Qn;sr<xr;sr++){let Jn=0;if(Hn){const Wn=Hn[sr-1];Jn="width"in Wn?Wn.width:0}else Xn&&(Jn=Math.ceil(Xn[sr]||0));cr+=Wt(Jn)+Wt(0)}return cr}()),dr.addTable("maxp","\0\0P\0"+Wt(Qn)),dr.addTable("name",En(Tn)),dr.addTable("post",pn(Rn)),dr.toArray()}get spaceWidth(){const Tn=["space","minus","one","i","I"];let Mn;for(const Rn of Tn){if(Rn in this.widths){Mn=this.widths[Rn];break}const Dn=(0,vt.getGlyphsUnicode)()[Rn];let Un=0;if(this.composite&&this.cMap.contains(Dn)&&(Un=this.cMap.lookup(Dn),typeof Un=="string"&&(Un=Pn(Dn,Un))),!Un&&this.toUnicode&&(Un=this.toUnicode.charCodeOf(Dn)),Un<=0&&(Un=Dn),Mn=this.widths[Un],Mn)break}return(0,wt.shadow)(this,"spaceWidth",Mn||this.defaultWidth)}_charToGlyph(Tn,Mn=!1){var lr,dr,jn;let Rn=this._glyphCache[Tn];if((Rn==null?void 0:Rn.isSpace)===Mn)return Rn;let Ln,Dn,Un,tr=Tn;(lr=this.cMap)!=null&&lr.contains(Tn)&&(tr=this.cMap.lookup(Tn),typeof tr=="string"&&(tr=Pn(Tn,tr))),Dn=this.widths[tr],typeof Dn!="number"&&(Dn=this.defaultWidth);const er=(dr=this.vmetrics)==null?void 0:dr[tr];let Qn=this.toUnicode.get(Tn)||Tn;typeof Qn=="number"&&(Qn=String.fromCharCode(Qn));let Yn=this.toFontChar[Tn]!==void 0;if(Ln=this.toFontChar[Tn]||Tn,this.missingFile){const Hn=this.differences[Tn]||this.defaultEncoding[Tn];(Hn===".notdef"||Hn==="")&&this.type==="Type1"&&(Ln=32),Ln=(0,ht.mapSpecialUnicodeValues)(Ln)}this.isType3Font&&(Un=Ln);let zn=null;if((jn=this.seacMap)!=null&&jn[Tn]){Yn=!0;const Hn=this.seacMap[Tn];Ln=Hn.baseFontCharCode,zn={fontChar:String.fromCodePoint(Hn.accentFontCharCode),offset:Hn.accentOffset}}let nr="";return typeof Ln=="number"&&(Ln<=1114111?nr=String.fromCodePoint(Ln):(0,wt.warn)(`charToGlyph - invalid fontCharCode: ${Ln}`)),Rn=new Ut(Tn,nr,Qn,zn,Dn,er,Un,Mn,Yn),this._glyphCache[Tn]=Rn}charsToGlyphs(Tn){let Mn=this._charsCache[Tn];if(Mn)return Mn;if(Mn=[],this.cMap){const Rn=Object.create(null),Ln=Tn.length;let Dn=0;for(;Dn<Ln;){this.cMap.readCharCode(Tn,Dn,Rn);const{charcode:Un,length:tr}=Rn;Dn+=tr;const er=this._charToGlyph(Un,tr===1&&Tn.charCodeAt(Dn-1)===32);Mn.push(er)}}else for(let Rn=0,Ln=Tn.length;Rn<Ln;++Rn){const Dn=Tn.charCodeAt(Rn),Un=this._charToGlyph(Dn,Dn===32);Mn.push(Un)}return this._charsCache[Tn]=Mn}getCharPositions(Tn){const Mn=[];if(this.cMap){const Rn=Object.create(null);let Ln=0;for(;Ln<Tn.length;){this.cMap.readCharCode(Tn,Ln,Rn);const Dn=Rn.length;Mn.push([Ln,Ln+Dn]),Ln+=Dn}}else for(let Rn=0,Ln=Tn.length;Rn<Ln;++Rn)Mn.push([Rn,Rn+1]);return Mn}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(Tn){const Mn=[],Rn=[],Ln=()=>Mn.length%2===1,Dn=this.toUnicode instanceof qt.IdentityToUnicodeMap?Un=>this.toUnicode.charCodeOf(Un):Un=>this.toUnicode.charCodeOf(String.fromCodePoint(Un));for(let Un=0,tr=Tn.length;Un<tr;Un++){const er=Tn.codePointAt(Un);if(er>55295&&(er<57344||er>65533)&&Un++,this.toUnicode){const Qn=Dn(er);if(Qn!==-1){Ln()&&(Mn.push(Rn.join("")),Rn.length=0);const Yn=this.cMap?this.cMap.getCharCodeLength(Qn):1;for(let zn=Yn-1;zn>=0;zn--)Rn.push(String.fromCharCode(Qn>>8*zn&255));continue}}Ln()||(Mn.push(Rn.join("")),Rn.length=0),Rn.push(String.fromCodePoint(er))}return Mn.push(Rn.join("")),Mn}}Ct.Font=_n;class Cn{constructor(Tn){this.error=Tn,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(Tn){return[Tn]}exportData(Tn=!1){return{error:this.error}}}Ct.ErrorFont=Cn},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.CFFTopDict=Ct.CFFStrings=Ct.CFFStandardStrings=Ct.CFFPrivateDict=Ct.CFFParser=Ct.CFFIndex=Ct.CFFHeader=Ct.CFFFDSelect=Ct.CFFCompiler=Ct.CFFCharset=Ct.CFF=void 0;var wt=Pt(2),kt=Pt(36),Rt=Pt(37);const ht=10,vt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];Ct.CFFStandardStrings=vt;const Ft=391,Ht=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],qt=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(un,Ut){un[Ut-2]=un[Ut-2]+un[Ut-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(un,Ut){un[Ut-2]=un[Ut-2]-un[Ut-1]}},{id:"div",min:2,stackDelta:-1,stackFn(un,Ut){un[Ut-2]=un[Ut-2]/un[Ut-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(un,Ut){un[Ut-1]=-un[Ut-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(un,Ut){un[Ut-2]=un[Ut-2]*un[Ut-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class Nt{constructor(Ut,Lt,Vt){this.bytes=Ut.getBytes(),this.properties=Lt,this.seacAnalysisEnabled=!!Vt}parse(){const Ut=this.properties,Lt=new $t;this.cff=Lt;const Vt=this.parseHeader(),an=this.parseIndex(Vt.endPos),zt=this.parseIndex(an.endPos),Wt=this.parseIndex(zt.endPos),nn=this.parseIndex(Wt.endPos),dn=this.parseDict(zt.obj.get(0)),on=this.createDict(Gt,dn,Lt.strings);Lt.header=Vt.obj,Lt.names=this.parseNameIndex(an.obj),Lt.strings=this.parseStringIndex(Wt.obj),Lt.topDict=on,Lt.globalSubrIndex=nn.obj,this.parsePrivateDict(Lt.topDict),Lt.isCIDFont=on.hasName("ROS");const hn=on.getByName("CharStrings"),sn=this.parseIndex(hn).obj,rn=on.getByName("FontMatrix");rn&&(Ut.fontMatrix=rn);const xn=on.getByName("FontBBox");xn&&(Ut.ascent=Math.max(xn[3],xn[1]),Ut.descent=Math.min(xn[1],xn[3]),Ut.ascentScaled=!0);let vn,kn;if(Lt.isCIDFont){const On=this.parseIndex(on.getByName("FDArray")).obj;for(let Pn=0,Sn=On.count;Pn<Sn;++Pn){const mn=On.get(Pn),fn=this.createDict(Gt,this.parseDict(mn),Lt.strings);this.parsePrivateDict(fn),Lt.fdArray.push(fn)}kn=null,vn=this.parseCharsets(on.getByName("charset"),sn.count,Lt.strings,!0),Lt.fdSelect=this.parseFDSelect(on.getByName("FDSelect"),sn.count)}else vn=this.parseCharsets(on.getByName("charset"),sn.count,Lt.strings,!1),kn=this.parseEncoding(on.getByName("Encoding"),Ut,Lt.strings,vn.charset);Lt.charset=vn,Lt.encoding=kn;const Fn=this.parseCharStrings({charStrings:sn,localSubrIndex:on.privateDict.subrsIndex,globalSubrIndex:nn.obj,fdSelect:Lt.fdSelect,fdArray:Lt.fdArray,privateDict:on.privateDict});return Lt.charStrings=Fn.charStrings,Lt.seacs=Fn.seacs,Lt.widths=Fn.widths,Lt}parseHeader(){let Ut=this.bytes;const Lt=Ut.length;let Vt=0;for(;Vt<Lt&&Ut[Vt]!==1;)++Vt;if(Vt>=Lt)throw new wt.FormatError("Invalid CFF header");Vt!==0&&((0,wt.info)("cff data is shifted"),Ut=Ut.subarray(Vt),this.bytes=Ut);const an=Ut[0],zt=Ut[1],Wt=Ut[2],nn=Ut[3];return{obj:new Mt(an,zt,Wt,nn),endPos:Wt}}parseDict(Ut){let Lt=0;function Vt(){let dn=Ut[Lt++];return dn===30?an():dn===28?(dn=Ut[Lt++],dn=(dn<<24|Ut[Lt++]<<16)>>16,dn):dn===29?(dn=Ut[Lt++],dn=dn<<8|Ut[Lt++],dn=dn<<8|Ut[Lt++],dn=dn<<8|Ut[Lt++],dn):dn>=32&&dn<=246?dn-139:dn>=247&&dn<=250?(dn-247)*256+Ut[Lt++]+108:dn>=251&&dn<=254?-((dn-251)*256)-Ut[Lt++]-108:((0,wt.warn)('CFFParser_parseDict: "'+dn+'" is a reserved command.'),NaN)}function an(){let dn="";const hn=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],sn=Ut.length;for(;Lt<sn;){const rn=Ut[Lt++],xn=rn>>4,vn=rn&15;if(xn===15||(dn+=hn[xn],vn===15))break;dn+=hn[vn]}return parseFloat(dn)}let zt=[];const Wt=[];Lt=0;const nn=Ut.length;for(;Lt<nn;){let dn=Ut[Lt];dn<=21?(dn===12&&(dn=dn<<8|Ut[++Lt]),Wt.push([dn,zt]),zt=[],++Lt):zt.push(Vt())}return Wt}parseIndex(Ut){const Lt=new _t,Vt=this.bytes,an=Vt[Ut++]<<8|Vt[Ut++],zt=[];let Wt=Ut,nn,dn;if(an!==0){const on=Vt[Ut++],hn=Ut+(an+1)*on-1;for(nn=0,dn=an+1;nn<dn;++nn){let sn=0;for(let rn=0;rn<on;++rn)sn<<=8,sn+=Vt[Ut++];zt.push(hn+sn)}Wt=zt[an]}for(nn=0,dn=zt.length-1;nn<dn;++nn){const on=zt[nn],hn=zt[nn+1];Lt.add(Vt.subarray(on,hn))}return{obj:Lt,endPos:Wt}}parseNameIndex(Ut){const Lt=[];for(let Vt=0,an=Ut.count;Vt<an;++Vt){const zt=Ut.get(Vt);Lt.push((0,wt.bytesToString)(zt))}return Lt}parseStringIndex(Ut){const Lt=new Bt;for(let Vt=0,an=Ut.count;Vt<an;++Vt){const zt=Ut.get(Vt);Lt.add((0,wt.bytesToString)(zt))}return Lt}createDict(Ut,Lt,Vt){const an=new Ut(Vt);for(const[zt,Wt]of Lt)an.setByKey(zt,Wt);return an}parseCharString(Ut,Lt,Vt,an){if(!Lt||Ut.callDepth>ht)return!1;let zt=Ut.stackSize;const Wt=Ut.stack;let nn=Lt.length;for(let dn=0;dn<nn;){const on=Lt[dn++];let hn=null;if(on===12){const sn=Lt[dn++];sn===0?(Lt[dn-2]=139,Lt[dn-1]=22,zt=0):hn=qt[sn]}else if(on===28)Wt[zt]=(Lt[dn]<<24|Lt[dn+1]<<16)>>16,dn+=2,zt++;else if(on===14){if(zt>=4&&(zt-=4,this.seacAnalysisEnabled))return Ut.seac=Wt.slice(zt,zt+4),!1;hn=Ht[on]}else if(on>=32&&on<=246)Wt[zt]=on-139,zt++;else if(on>=247&&on<=254)Wt[zt]=on<251?(on-247<<8)+Lt[dn]+108:-(on-251<<8)-Lt[dn]-108,dn++,zt++;else if(on===255)Wt[zt]=(Lt[dn]<<24|Lt[dn+1]<<16|Lt[dn+2]<<8|Lt[dn+3])/65536,dn+=4,zt++;else if(on===19||on===20){if(Ut.hints+=zt>>1,Ut.hints===0){Lt.copyWithin(dn-1,dn,-1),dn-=1,nn-=1;continue}dn+=Ut.hints+7>>3,zt%=2,hn=Ht[on]}else if(on===10||on===29){const sn=on===10?Vt:an;if(!sn)return hn=Ht[on],(0,wt.warn)("Missing subrsIndex for "+hn.id),!1;let rn=32768;sn.count<1240?rn=107:sn.count<33900&&(rn=1131);const xn=Wt[--zt]+rn;if(xn<0||xn>=sn.count||isNaN(xn))return hn=Ht[on],(0,wt.warn)("Out of bounds subrIndex for "+hn.id),!1;if(Ut.stackSize=zt,Ut.callDepth++,!this.parseCharString(Ut,sn.get(xn),Vt,an))return!1;Ut.callDepth--,zt=Ut.stackSize;continue}else{if(on===11)return Ut.stackSize=zt,!0;if(on===0&&dn===Lt.length)Lt[dn-1]=14,hn=Ht[14];else if(on===9){Lt.copyWithin(dn-1,dn,-1),dn-=1,nn-=1;continue}else hn=Ht[on]}if(hn){if(hn.stem&&(Ut.hints+=zt>>1,on===3||on===23?Ut.hasVStems=!0:Ut.hasVStems&&(on===1||on===18)&&((0,wt.warn)("CFF stem hints are in wrong order"),Lt[dn-1]=on===1?3:23)),"min"in hn&&!Ut.undefStack&&zt<hn.min)return(0,wt.warn)("Not enough parameters for "+hn.id+"; actual: "+zt+", expected: "+hn.min),zt===0?(Lt[dn-1]=14,!0):!1;Ut.firstStackClearing&&hn.stackClearing&&(Ut.firstStackClearing=!1,zt-=hn.min,zt>=2&&hn.stem?zt%=2:zt>1&&(0,wt.warn)("Found too many parameters for stack-clearing command"),zt>0&&(Ut.width=Wt[zt-1])),"stackDelta"in hn?("stackFn"in hn&&hn.stackFn(Wt,zt),zt+=hn.stackDelta):hn.stackClearing?zt=0:hn.resetStack?(zt=0,Ut.undefStack=!1):hn.undefStack&&(zt=0,Ut.undefStack=!0,Ut.firstStackClearing=!1)}}return nn<Lt.length&&Lt.fill(14,nn),Ut.stackSize=zt,!0}parseCharStrings({charStrings:Ut,localSubrIndex:Lt,globalSubrIndex:Vt,fdSelect:an,fdArray:zt,privateDict:Wt}){const nn=[],dn=[],on=Ut.count;for(let hn=0;hn<on;hn++){const sn=Ut.get(hn),rn={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let xn=!0,vn=null,kn=Wt;if(an&&zt.length){const Fn=an.getFDIndex(hn);Fn===-1&&((0,wt.warn)("Glyph index is not in fd select."),xn=!1),Fn>=zt.length&&((0,wt.warn)("Invalid fd index for glyph index."),xn=!1),xn&&(kn=zt[Fn].privateDict,vn=kn.subrsIndex)}else Lt&&(vn=Lt);if(xn&&(xn=this.parseCharString(rn,sn,vn,Vt)),rn.width!==null){const Fn=kn.getByName("nominalWidthX");dn[hn]=Fn+rn.width}else{const Fn=kn.getByName("defaultWidthX");dn[hn]=Fn}rn.seac!==null&&(nn[hn]=rn.seac),xn||Ut.set(hn,new Uint8Array([14]))}return{charStrings:Ut,seacs:nn,widths:dn}}emptyPrivateDictionary(Ut){const Lt=this.createDict(ln,[],Ut.strings);Ut.setByKey(18,[0,0]),Ut.privateDict=Lt}parsePrivateDict(Ut){if(!Ut.hasName("Private")){this.emptyPrivateDictionary(Ut);return}const Lt=Ut.getByName("Private");if(!Array.isArray(Lt)||Lt.length!==2){Ut.removeByName("Private");return}const Vt=Lt[0],an=Lt[1];if(Vt===0||an>=this.bytes.length){this.emptyPrivateDictionary(Ut);return}const zt=an+Vt,Wt=this.bytes.subarray(an,zt),nn=this.parseDict(Wt),dn=this.createDict(ln,nn,Ut.strings);if(Ut.privateDict=dn,dn.getByName("ExpansionFactor")===0&&dn.setByName("ExpansionFactor",.06),!dn.getByName("Subrs"))return;const on=dn.getByName("Subrs"),hn=an+on;if(on===0||hn>=this.bytes.length){this.emptyPrivateDictionary(Ut);return}const sn=this.parseIndex(hn);dn.subrsIndex=sn.obj}parseCharsets(Ut,Lt,Vt,an){if(Ut===0)return new gn(!0,en.ISO_ADOBE,kt.ISOAdobeCharset);if(Ut===1)return new gn(!0,en.EXPERT,kt.ExpertCharset);if(Ut===2)return new gn(!0,en.EXPERT_SUBSET,kt.ExpertSubsetCharset);const zt=this.bytes,Wt=Ut,nn=zt[Ut++],dn=[an?0:".notdef"];let on,hn,sn;switch(Lt-=1,nn){case 0:for(sn=0;sn<Lt;sn++)on=zt[Ut++]<<8|zt[Ut++],dn.push(an?on:Vt.get(on));break;case 1:for(;dn.length<=Lt;)for(on=zt[Ut++]<<8|zt[Ut++],hn=zt[Ut++],sn=0;sn<=hn;sn++)dn.push(an?on++:Vt.get(on++));break;case 2:for(;dn.length<=Lt;)for(on=zt[Ut++]<<8|zt[Ut++],hn=zt[Ut++]<<8|zt[Ut++],sn=0;sn<=hn;sn++)dn.push(an?on++:Vt.get(on++));break;default:throw new wt.FormatError("Unknown charset format")}const rn=Ut,xn=zt.subarray(Wt,rn);return new gn(!1,nn,dn,xn)}parseEncoding(Ut,Lt,Vt,an){const zt=Object.create(null),Wt=this.bytes;let nn=!1,dn,on,hn,sn=null;function rn(){const xn=Wt[Ut++];for(on=0;on<xn;on++){const vn=Wt[Ut++],kn=(Wt[Ut++]<<8)+(Wt[Ut++]&255);zt[vn]=an.indexOf(Vt.get(kn))}}if(Ut===0||Ut===1){nn=!0,dn=Ut;const xn=Ut?Rt.ExpertEncoding:Rt.StandardEncoding;for(on=0,hn=an.length;on<hn;on++){const vn=xn.indexOf(an[on]);vn!==-1&&(zt[vn]=on)}}else{const xn=Ut;switch(dn=Wt[Ut++],dn&127){case 0:const kn=Wt[Ut++];for(on=1;on<=kn;on++)zt[Wt[Ut++]]=on;break;case 1:const Fn=Wt[Ut++];let On=1;for(on=0;on<Fn;on++){const Pn=Wt[Ut++],Sn=Wt[Ut++];for(let mn=Pn;mn<=Pn+Sn;mn++)zt[mn]=On++}break;default:throw new wt.FormatError(`Unknown encoding format: ${dn} in CFF`)}const vn=Ut;dn&128&&(Wt[xn]&=127,rn()),sn=Wt.subarray(xn,vn)}return dn&=127,new tn(nn,dn,zt,sn)}parseFDSelect(Ut,Lt){const Vt=this.bytes,an=Vt[Ut++],zt=[];let Wt;switch(an){case 0:for(Wt=0;Wt<Lt;++Wt){const dn=Vt[Ut++];zt.push(dn)}break;case 3:const nn=Vt[Ut++]<<8|Vt[Ut++];for(Wt=0;Wt<nn;++Wt){let dn=Vt[Ut++]<<8|Vt[Ut++];Wt===0&&dn!==0&&((0,wt.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),dn=0);const on=Vt[Ut++],hn=Vt[Ut]<<8|Vt[Ut+1];for(let sn=dn;sn<hn;++sn)zt.push(on)}Ut+=2;break;default:throw new wt.FormatError(`parseFDSelect: Unknown format "${an}".`)}if(zt.length!==Lt)throw new wt.FormatError("parseFDSelect: Invalid font data.");return new bn(an,zt)}}Ct.CFFParser=Nt;class $t{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new Bt,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,wt.warn)("Not enough space in charstrings to duplicate first glyph.");return}const Ut=this.charStrings.get(0);this.charStrings.add(Ut),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(Ut){return Ut<0||Ut>=this.charStrings.count?!1:this.charStrings.get(Ut).length>0}}Ct.CFF=$t;class Mt{constructor(Ut,Lt,Vt,an){this.major=Ut,this.minor=Lt,this.hdrSize=Vt,this.offSize=an}}Ct.CFFHeader=Mt;class Bt{constructor(){this.strings=[]}get(Ut){return Ut>=0&&Ut<=Ft-1?vt[Ut]:Ut-Ft<=this.strings.length?this.strings[Ut-Ft]:vt[0]}getSID(Ut){let Lt=vt.indexOf(Ut);return Lt!==-1?Lt:(Lt=this.strings.indexOf(Ut),Lt!==-1?Lt+Ft:-1)}add(Ut){this.strings.push(Ut)}get count(){return this.strings.length}}Ct.CFFStrings=Bt;class _t{constructor(){this.objects=[],this.length=0}add(Ut){this.length+=Ut.length,this.objects.push(Ut)}set(Ut,Lt){this.length+=Lt.length-this.objects[Ut].length,this.objects[Ut]=Lt}get(Ut){return this.objects[Ut]}get count(){return this.objects.length}}Ct.CFFIndex=_t;class Kt{constructor(Ut,Lt){this.keyToNameMap=Ut.keyToNameMap,this.nameToKeyMap=Ut.nameToKeyMap,this.defaults=Ut.defaults,this.types=Ut.types,this.opcodes=Ut.opcodes,this.order=Ut.order,this.strings=Lt,this.values=Object.create(null)}setByKey(Ut,Lt){if(!(Ut in this.keyToNameMap))return!1;if(Lt.length===0)return!0;for(const an of Lt)if(isNaN(an))return(0,wt.warn)(`Invalid CFFDict value: "${Lt}" for key "${Ut}".`),!0;const Vt=this.types[Ut];return(Vt==="num"||Vt==="sid"||Vt==="offset")&&(Lt=Lt[0]),this.values[Ut]=Lt,!0}setByName(Ut,Lt){if(!(Ut in this.nameToKeyMap))throw new wt.FormatError(`Invalid dictionary name "${Ut}"`);this.values[this.nameToKeyMap[Ut]]=Lt}hasName(Ut){return this.nameToKeyMap[Ut]in this.values}getByName(Ut){if(!(Ut in this.nameToKeyMap))throw new wt.FormatError(`Invalid dictionary name ${Ut}"`);const Lt=this.nameToKeyMap[Ut];return Lt in this.values?this.values[Lt]:this.defaults[Lt]}removeByName(Ut){delete this.values[this.nameToKeyMap[Ut]]}static createTables(Ut){const Lt={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const Vt of Ut){const an=Array.isArray(Vt[0])?(Vt[0][0]<<8)+Vt[0][1]:Vt[0];Lt.keyToNameMap[an]=Vt[1],Lt.nameToKeyMap[Vt[1]]=an,Lt.types[an]=Vt[2],Lt.defaults[an]=Vt[3],Lt.opcodes[an]=Array.isArray(Vt[0])?Vt[0]:[Vt[0]],Lt.order.push(an)}return Lt}}const jt=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class Gt extends Kt{static get tables(){return(0,wt.shadow)(this,"tables",this.createTables(jt))}constructor(Ut){super(Gt.tables,Ut),this.privateDict=null}}Ct.CFFTopDict=Gt;const Qt=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class ln extends Kt{static get tables(){return(0,wt.shadow)(this,"tables",this.createTables(Qt))}constructor(Ut){super(ln.tables,Ut),this.subrsIndex=null}}Ct.CFFPrivateDict=ln;const en={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class gn{constructor(Ut,Lt,Vt,an){this.predefined=Ut,this.format=Lt,this.charset=Vt,this.raw=an}}Ct.CFFCharset=gn;class tn{constructor(Ut,Lt,Vt,an){this.predefined=Ut,this.format=Lt,this.encoding=Vt,this.raw=an}}class bn{constructor(Ut,Lt){this.format=Ut,this.fdSelect=Lt}getFDIndex(Ut){return Ut<0||Ut>=this.fdSelect.length?-1:this.fdSelect[Ut]}}Ct.CFFFDSelect=bn;class Xt{constructor(){this.offsets=Object.create(null)}isTracking(Ut){return Ut in this.offsets}track(Ut,Lt){if(Ut in this.offsets)throw new wt.FormatError(`Already tracking location of ${Ut}`);this.offsets[Ut]=Lt}offset(Ut){for(const Lt in this.offsets)this.offsets[Lt]+=Ut}setEntryLocation(Ut,Lt,Vt){if(!(Ut in this.offsets))throw new wt.FormatError(`Not tracking location of ${Ut}`);const an=Vt.data,zt=this.offsets[Ut],Wt=5;for(let nn=0,dn=Lt.length;nn<dn;++nn){const on=nn*Wt+zt,hn=on+1,sn=on+2,rn=on+3,xn=on+4;if(an[on]!==29||an[hn]!==0||an[sn]!==0||an[rn]!==0||an[xn]!==0)throw new wt.FormatError("writing to an offset that is not empty");const vn=Lt[nn];an[on]=29,an[hn]=vn>>24&255,an[sn]=vn>>16&255,an[rn]=vn>>8&255,an[xn]=vn&255}}}class Yt{constructor(Ut){this.cff=Ut}compile(){const Ut=this.cff,Lt={data:[],length:0,add(rn){try{this.data.push(...rn)}catch{this.data=this.data.concat(rn)}this.length=this.data.length}},Vt=this.compileHeader(Ut.header);Lt.add(Vt);const an=this.compileNameIndex(Ut.names);if(Lt.add(an),Ut.isCIDFont&&Ut.topDict.hasName("FontMatrix")){const rn=Ut.topDict.getByName("FontMatrix");Ut.topDict.removeByName("FontMatrix");for(const xn of Ut.fdArray){let vn=rn.slice(0);xn.hasName("FontMatrix")&&(vn=wt.Util.transform(vn,xn.getByName("FontMatrix"))),xn.setByName("FontMatrix",vn)}}const zt=Ut.topDict.getByName("XUID");(zt==null?void 0:zt.length)>16&&Ut.topDict.removeByName("XUID"),Ut.topDict.setByName("charset",0);let Wt=this.compileTopDicts([Ut.topDict],Lt.length,Ut.isCIDFont);Lt.add(Wt.output);const nn=Wt.trackers[0],dn=this.compileStringIndex(Ut.strings.strings);Lt.add(dn);const on=this.compileIndex(Ut.globalSubrIndex);if(Lt.add(on),Ut.encoding&&Ut.topDict.hasName("Encoding"))if(Ut.encoding.predefined)nn.setEntryLocation("Encoding",[Ut.encoding.format],Lt);else{const rn=this.compileEncoding(Ut.encoding);nn.setEntryLocation("Encoding",[Lt.length],Lt),Lt.add(rn)}const hn=this.compileCharset(Ut.charset,Ut.charStrings.count,Ut.strings,Ut.isCIDFont);nn.setEntryLocation("charset",[Lt.length],Lt),Lt.add(hn);const sn=this.compileCharStrings(Ut.charStrings);if(nn.setEntryLocation("CharStrings",[Lt.length],Lt),Lt.add(sn),Ut.isCIDFont){nn.setEntryLocation("FDSelect",[Lt.length],Lt);const rn=this.compileFDSelect(Ut.fdSelect);Lt.add(rn),Wt=this.compileTopDicts(Ut.fdArray,Lt.length,!0),nn.setEntryLocation("FDArray",[Lt.length],Lt),Lt.add(Wt.output);const xn=Wt.trackers;this.compilePrivateDicts(Ut.fdArray,xn,Lt)}return this.compilePrivateDicts([Ut.topDict],[nn],Lt),Lt.add([0]),Lt.data}encodeNumber(Ut){return Number.isInteger(Ut)?this.encodeInteger(Ut):this.encodeFloat(Ut)}static get EncodeFloatRegExp(){return(0,wt.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(Ut){let Lt=Ut.toString();const Vt=Yt.EncodeFloatRegExp.exec(Lt);if(Vt){const dn=parseFloat("1e"+((Vt[2]?+Vt[2]:0)+Vt[1].length));Lt=(Math.round(Ut*dn)/dn).toString()}let an="",zt,Wt;for(zt=0,Wt=Lt.length;zt<Wt;++zt){const dn=Lt[zt];dn==="e"?an+=Lt[++zt]==="-"?"c":"b":dn==="."?an+="a":dn==="-"?an+="e":an+=dn}an+=an.length&1?"f":"ff";const nn=[30];for(zt=0,Wt=an.length;zt<Wt;zt+=2)nn.push(parseInt(an.substring(zt,zt+2),16));return nn}encodeInteger(Ut){let Lt;return Ut>=-107&&Ut<=107?Lt=[Ut+139]:Ut>=108&&Ut<=1131?(Ut-=108,Lt=[(Ut>>8)+247,Ut&255]):Ut>=-1131&&Ut<=-108?(Ut=-Ut-108,Lt=[(Ut>>8)+251,Ut&255]):Ut>=-32768&&Ut<=32767?Lt=[28,Ut>>8&255,Ut&255]:Lt=[29,Ut>>24&255,Ut>>16&255,Ut>>8&255,Ut&255],Lt}compileHeader(Ut){return[Ut.major,Ut.minor,4,Ut.offSize]}compileNameIndex(Ut){const Lt=new _t;for(const Vt of Ut){const an=Math.min(Vt.length,127);let zt=new Array(an);for(let Wt=0;Wt<an;Wt++){let nn=Vt[Wt];(nn<"!"||nn>"~"||nn==="["||nn==="]"||nn==="("||nn===")"||nn==="{"||nn==="}"||nn==="<"||nn===">"||nn==="/"||nn==="%")&&(nn="_"),zt[Wt]=nn}zt=zt.join(""),zt===""&&(zt="Bad_Font_Name"),Lt.add((0,wt.stringToBytes)(zt))}return this.compileIndex(Lt)}compileTopDicts(Ut,Lt,Vt){const an=[];let zt=new _t;for(const Wt of Ut){Vt&&(Wt.removeByName("CIDFontVersion"),Wt.removeByName("CIDFontRevision"),Wt.removeByName("CIDFontType"),Wt.removeByName("CIDCount"),Wt.removeByName("UIDBase"));const nn=new Xt,dn=this.compileDict(Wt,nn);an.push(nn),zt.add(dn),nn.offset(Lt)}return zt=this.compileIndex(zt,an),{trackers:an,output:zt}}compilePrivateDicts(Ut,Lt,Vt){for(let an=0,zt=Ut.length;an<zt;++an){const Wt=Ut[an],nn=Wt.privateDict;if(!nn||!Wt.hasName("Private"))throw new wt.FormatError("There must be a private dictionary.");const dn=new Xt,on=this.compileDict(nn,dn);let hn=Vt.length;if(dn.offset(hn),on.length||(hn=0),Lt[an].setEntryLocation("Private",[on.length,hn],Vt),Vt.add(on),nn.subrsIndex&&nn.hasName("Subrs")){const sn=this.compileIndex(nn.subrsIndex);dn.setEntryLocation("Subrs",[on.length],Vt),Vt.add(sn)}}}compileDict(Ut,Lt){const Vt=[];for(const an of Ut.order){if(!(an in Ut.values))continue;let zt=Ut.values[an],Wt=Ut.types[an];if(Array.isArray(Wt)||(Wt=[Wt]),Array.isArray(zt)||(zt=[zt]),zt.length!==0){for(let nn=0,dn=Wt.length;nn<dn;++nn){const on=Wt[nn],hn=zt[nn];switch(on){case"num":case"sid":Vt.push(...this.encodeNumber(hn));break;case"offset":const sn=Ut.keyToNameMap[an];Lt.isTracking(sn)||Lt.track(sn,Vt.length),Vt.push(29,0,0,0,0);break;case"array":case"delta":Vt.push(...this.encodeNumber(hn));for(let rn=1,xn=zt.length;rn<xn;++rn)Vt.push(...this.encodeNumber(zt[rn]));break;default:throw new wt.FormatError(`Unknown data type of ${on}`)}}Vt.push(...Ut.opcodes[an])}}return Vt}compileStringIndex(Ut){const Lt=new _t;for(const Vt of Ut)Lt.add((0,wt.stringToBytes)(Vt));return this.compileIndex(Lt)}compileCharStrings(Ut){const Lt=new _t;for(let Vt=0;Vt<Ut.count;Vt++){const an=Ut.get(Vt);if(an.length===0){Lt.add(new Uint8Array([139,14]));continue}Lt.add(an)}return this.compileIndex(Lt)}compileCharset(Ut,Lt,Vt,an){let zt;const Wt=Lt-1;if(an)zt=new Uint8Array([2,0,0,Wt>>8&255,Wt&255]);else{const nn=1+Wt*2;zt=new Uint8Array(nn),zt[0]=0;let dn=0;const on=Ut.charset.length;let hn=!1;for(let sn=1;sn<zt.length;sn+=2){let rn=0;if(dn<on){const xn=Ut.charset[dn++];rn=Vt.getSID(xn),rn===-1&&(rn=0,hn||(hn=!0,(0,wt.warn)(`Couldn't find ${xn} in CFF strings`)))}zt[sn]=rn>>8&255,zt[sn+1]=rn&255}}return this.compileTypedArray(zt)}compileEncoding(Ut){return this.compileTypedArray(Ut.raw)}compileFDSelect(Ut){const Lt=Ut.format;let Vt,an;switch(Lt){case 0:for(Vt=new Uint8Array(1+Ut.fdSelect.length),Vt[0]=Lt,an=0;an<Ut.fdSelect.length;an++)Vt[an+1]=Ut.fdSelect[an];break;case 3:const zt=0;let Wt=Ut.fdSelect[0];const nn=[Lt,0,0,zt>>8&255,zt&255,Wt];for(an=1;an<Ut.fdSelect.length;an++){const on=Ut.fdSelect[an];on!==Wt&&(nn.push(an>>8&255,an&255,on),Wt=on)}const dn=(nn.length-3)/3;nn[1]=dn>>8&255,nn[2]=dn&255,nn.push(an>>8&255,an&255),Vt=new Uint8Array(nn);break}return this.compileTypedArray(Vt)}compileTypedArray(Ut){return Array.from(Ut)}compileIndex(Ut,Lt=[]){const Vt=Ut.objects,an=Vt.length;if(an===0)return[0,0];const zt=[an>>8&255,an&255];let Wt=1,nn;for(nn=0;nn<an;++nn)Wt+=Vt[nn].length;let dn;Wt<256?dn=1:Wt<65536?dn=2:Wt<16777216?dn=3:dn=4,zt.push(dn);let on=1;for(nn=0;nn<an+1;nn++)dn===1?zt.push(on&255):dn===2?zt.push(on>>8&255,on&255):dn===3?zt.push(on>>16&255,on>>8&255,on&255):zt.push(on>>>24&255,on>>16&255,on>>8&255,on&255),Vt[nn]&&(on+=Vt[nn].length);for(nn=0;nn<an;nn++)Lt[nn]&&Lt[nn].offset(zt.length),zt.push(...Vt[nn]);return zt}}Ct.CFFCompiler=Yt},(Et,Ct)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.ISOAdobeCharset=Ct.ExpertSubsetCharset=Ct.ExpertCharset=void 0;const Pt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];Ct.ISOAdobeCharset=Pt;const wt=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];Ct.ExpertCharset=wt;const kt=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];Ct.ExpertSubsetCharset=kt},(Et,Ct)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.ZapfDingbatsEncoding=Ct.WinAnsiEncoding=Ct.SymbolSetEncoding=Ct.StandardEncoding=Ct.MacRomanEncoding=Ct.ExpertEncoding=void 0,Ct.getEncoding=Ht;const Pt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];Ct.ExpertEncoding=Pt;const wt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],kt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];Ct.MacRomanEncoding=kt;const Rt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];Ct.StandardEncoding=Rt;const ht=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];Ct.WinAnsiEncoding=ht;const vt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];Ct.SymbolSetEncoding=vt;const Ft=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];Ct.ZapfDingbatsEncoding=Ft;function Ht(qt){switch(qt){case"WinAnsiEncoding":return ht;case"StandardEncoding":return Rt;case"MacRomanEncoding":return kt;case"SymbolSetEncoding":return vt;case"ZapfDingbatsEncoding":return Ft;case"ExpertEncoding":return Pt;case"MacExpertEncoding":return wt;default:return null}}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.SEAC_ANALYSIS_ENABLED=Ct.MacStandardGlyphOrdering=Ct.FontFlags=void 0,Ct.normalizeFontName=$t,Ct.recoverGlyphName=qt,Ct.type1FontGlyphMapping=Nt;var wt=Pt(37),kt=Pt(39),Rt=Pt(40),ht=Pt(2);const vt=!0;Ct.SEAC_ANALYSIS_ENABLED=vt;const Ft={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};Ct.FontFlags=Ft;const Ht=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];Ct.MacStandardGlyphOrdering=Ht;function qt(Mt,Bt){if(Bt[Mt]!==void 0)return Mt;const _t=(0,Rt.getUnicodeForGlyph)(Mt,Bt);if(_t!==-1){for(const Kt in Bt)if(Bt[Kt]===_t)return Kt}return(0,ht.info)("Unable to recover a standard glyph name for: "+Mt),Mt}function Nt(Mt,Bt,_t){const Kt=Object.create(null);let jt,Gt,Qt;const ln=!!(Mt.flags&Ft.Symbolic);if(Mt.isInternalFont)for(Qt=Bt,Gt=0;Gt<Qt.length;Gt++)jt=_t.indexOf(Qt[Gt]),Kt[Gt]=jt>=0?jt:0;else if(Mt.baseEncodingName)for(Qt=(0,wt.getEncoding)(Mt.baseEncodingName),Gt=0;Gt<Qt.length;Gt++)jt=_t.indexOf(Qt[Gt]),Kt[Gt]=jt>=0?jt:0;else if(ln)for(Gt in Bt)Kt[Gt]=Bt[Gt];else for(Qt=wt.StandardEncoding,Gt=0;Gt<Qt.length;Gt++)jt=_t.indexOf(Qt[Gt]),Kt[Gt]=jt>=0?jt:0;const en=Mt.differences;let gn;if(en)for(Gt in en){const tn=en[Gt];if(jt=_t.indexOf(tn),jt===-1){gn||(gn=(0,kt.getGlyphsUnicode)());const bn=qt(tn,gn);bn!==tn&&(jt=_t.indexOf(bn))}Kt[Gt]=jt>=0?jt:0}return Kt}function $t(Mt){return Mt.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.getGlyphsUnicode=Ct.getDingbatsGlyphsUnicode=void 0;var wt=Pt(3);const kt=(0,wt.getLookupTableFactory)(function(ht){ht.A=65,ht.AE=198,ht.AEacute=508,ht.AEmacron=482,ht.AEsmall=63462,ht.Aacute=193,ht.Aacutesmall=63457,ht.Abreve=258,ht.Abreveacute=7854,ht.Abrevecyrillic=1232,ht.Abrevedotbelow=7862,ht.Abrevegrave=7856,ht.Abrevehookabove=7858,ht.Abrevetilde=7860,ht.Acaron=461,ht.Acircle=9398,ht.Acircumflex=194,ht.Acircumflexacute=7844,ht.Acircumflexdotbelow=7852,ht.Acircumflexgrave=7846,ht.Acircumflexhookabove=7848,ht.Acircumflexsmall=63458,ht.Acircumflextilde=7850,ht.Acute=63177,ht.Acutesmall=63412,ht.Acyrillic=1040,ht.Adblgrave=512,ht.Adieresis=196,ht.Adieresiscyrillic=1234,ht.Adieresismacron=478,ht.Adieresissmall=63460,ht.Adotbelow=7840,ht.Adotmacron=480,ht.Agrave=192,ht.Agravesmall=63456,ht.Ahookabove=7842,ht.Aiecyrillic=1236,ht.Ainvertedbreve=514,ht.Alpha=913,ht.Alphatonos=902,ht.Amacron=256,ht.Amonospace=65313,ht.Aogonek=260,ht.Aring=197,ht.Aringacute=506,ht.Aringbelow=7680,ht.Aringsmall=63461,ht.Asmall=63329,ht.Atilde=195,ht.Atildesmall=63459,ht.Aybarmenian=1329,ht.B=66,ht.Bcircle=9399,ht.Bdotaccent=7682,ht.Bdotbelow=7684,ht.Becyrillic=1041,ht.Benarmenian=1330,ht.Beta=914,ht.Bhook=385,ht.Blinebelow=7686,ht.Bmonospace=65314,ht.Brevesmall=63220,ht.Bsmall=63330,ht.Btopbar=386,ht.C=67,ht.Caarmenian=1342,ht.Cacute=262,ht.Caron=63178,ht.Caronsmall=63221,ht.Ccaron=268,ht.Ccedilla=199,ht.Ccedillaacute=7688,ht.Ccedillasmall=63463,ht.Ccircle=9400,ht.Ccircumflex=264,ht.Cdot=266,ht.Cdotaccent=266,ht.Cedillasmall=63416,ht.Chaarmenian=1353,ht.Cheabkhasiancyrillic=1212,ht.Checyrillic=1063,ht.Chedescenderabkhasiancyrillic=1214,ht.Chedescendercyrillic=1206,ht.Chedieresiscyrillic=1268,ht.Cheharmenian=1347,ht.Chekhakassiancyrillic=1227,ht.Cheverticalstrokecyrillic=1208,ht.Chi=935,ht.Chook=391,ht.Circumflexsmall=63222,ht.Cmonospace=65315,ht.Coarmenian=1361,ht.Csmall=63331,ht.D=68,ht.DZ=497,ht.DZcaron=452,ht.Daarmenian=1332,ht.Dafrican=393,ht.Dcaron=270,ht.Dcedilla=7696,ht.Dcircle=9401,ht.Dcircumflexbelow=7698,ht.Dcroat=272,ht.Ddotaccent=7690,ht.Ddotbelow=7692,ht.Decyrillic=1044,ht.Deicoptic=1006,ht.Delta=8710,ht.Deltagreek=916,ht.Dhook=394,ht.Dieresis=63179,ht.DieresisAcute=63180,ht.DieresisGrave=63181,ht.Dieresissmall=63400,ht.Digammagreek=988,ht.Djecyrillic=1026,ht.Dlinebelow=7694,ht.Dmonospace=65316,ht.Dotaccentsmall=63223,ht.Dslash=272,ht.Dsmall=63332,ht.Dtopbar=395,ht.Dz=498,ht.Dzcaron=453,ht.Dzeabkhasiancyrillic=1248,ht.Dzecyrillic=1029,ht.Dzhecyrillic=1039,ht.E=69,ht.Eacute=201,ht.Eacutesmall=63465,ht.Ebreve=276,ht.Ecaron=282,ht.Ecedillabreve=7708,ht.Echarmenian=1333,ht.Ecircle=9402,ht.Ecircumflex=202,ht.Ecircumflexacute=7870,ht.Ecircumflexbelow=7704,ht.Ecircumflexdotbelow=7878,ht.Ecircumflexgrave=7872,ht.Ecircumflexhookabove=7874,ht.Ecircumflexsmall=63466,ht.Ecircumflextilde=7876,ht.Ecyrillic=1028,ht.Edblgrave=516,ht.Edieresis=203,ht.Edieresissmall=63467,ht.Edot=278,ht.Edotaccent=278,ht.Edotbelow=7864,ht.Efcyrillic=1060,ht.Egrave=200,ht.Egravesmall=63464,ht.Eharmenian=1335,ht.Ehookabove=7866,ht.Eightroman=8551,ht.Einvertedbreve=518,ht.Eiotifiedcyrillic=1124,ht.Elcyrillic=1051,ht.Elevenroman=8554,ht.Emacron=274,ht.Emacronacute=7702,ht.Emacrongrave=7700,ht.Emcyrillic=1052,ht.Emonospace=65317,ht.Encyrillic=1053,ht.Endescendercyrillic=1186,ht.Eng=330,ht.Enghecyrillic=1188,ht.Enhookcyrillic=1223,ht.Eogonek=280,ht.Eopen=400,ht.Epsilon=917,ht.Epsilontonos=904,ht.Ercyrillic=1056,ht.Ereversed=398,ht.Ereversedcyrillic=1069,ht.Escyrillic=1057,ht.Esdescendercyrillic=1194,ht.Esh=425,ht.Esmall=63333,ht.Eta=919,ht.Etarmenian=1336,ht.Etatonos=905,ht.Eth=208,ht.Ethsmall=63472,ht.Etilde=7868,ht.Etildebelow=7706,ht.Euro=8364,ht.Ezh=439,ht.Ezhcaron=494,ht.Ezhreversed=440,ht.F=70,ht.Fcircle=9403,ht.Fdotaccent=7710,ht.Feharmenian=1366,ht.Feicoptic=996,ht.Fhook=401,ht.Fitacyrillic=1138,ht.Fiveroman=8548,ht.Fmonospace=65318,ht.Fourroman=8547,ht.Fsmall=63334,ht.G=71,ht.GBsquare=13191,ht.Gacute=500,ht.Gamma=915,ht.Gammaafrican=404,ht.Gangiacoptic=1002,ht.Gbreve=286,ht.Gcaron=486,ht.Gcedilla=290,ht.Gcircle=9404,ht.Gcircumflex=284,ht.Gcommaaccent=290,ht.Gdot=288,ht.Gdotaccent=288,ht.Gecyrillic=1043,ht.Ghadarmenian=1346,ht.Ghemiddlehookcyrillic=1172,ht.Ghestrokecyrillic=1170,ht.Gheupturncyrillic=1168,ht.Ghook=403,ht.Gimarmenian=1331,ht.Gjecyrillic=1027,ht.Gmacron=7712,ht.Gmonospace=65319,ht.Grave=63182,ht.Gravesmall=63328,ht.Gsmall=63335,ht.Gsmallhook=667,ht.Gstroke=484,ht.H=72,ht.H18533=9679,ht.H18543=9642,ht.H18551=9643,ht.H22073=9633,ht.HPsquare=13259,ht.Haabkhasiancyrillic=1192,ht.Hadescendercyrillic=1202,ht.Hardsigncyrillic=1066,ht.Hbar=294,ht.Hbrevebelow=7722,ht.Hcedilla=7720,ht.Hcircle=9405,ht.Hcircumflex=292,ht.Hdieresis=7718,ht.Hdotaccent=7714,ht.Hdotbelow=7716,ht.Hmonospace=65320,ht.Hoarmenian=1344,ht.Horicoptic=1e3,ht.Hsmall=63336,ht.Hungarumlaut=63183,ht.Hungarumlautsmall=63224,ht.Hzsquare=13200,ht.I=73,ht.IAcyrillic=1071,ht.IJ=306,ht.IUcyrillic=1070,ht.Iacute=205,ht.Iacutesmall=63469,ht.Ibreve=300,ht.Icaron=463,ht.Icircle=9406,ht.Icircumflex=206,ht.Icircumflexsmall=63470,ht.Icyrillic=1030,ht.Idblgrave=520,ht.Idieresis=207,ht.Idieresisacute=7726,ht.Idieresiscyrillic=1252,ht.Idieresissmall=63471,ht.Idot=304,ht.Idotaccent=304,ht.Idotbelow=7882,ht.Iebrevecyrillic=1238,ht.Iecyrillic=1045,ht.Ifraktur=8465,ht.Igrave=204,ht.Igravesmall=63468,ht.Ihookabove=7880,ht.Iicyrillic=1048,ht.Iinvertedbreve=522,ht.Iishortcyrillic=1049,ht.Imacron=298,ht.Imacroncyrillic=1250,ht.Imonospace=65321,ht.Iniarmenian=1339,ht.Iocyrillic=1025,ht.Iogonek=302,ht.Iota=921,ht.Iotaafrican=406,ht.Iotadieresis=938,ht.Iotatonos=906,ht.Ismall=63337,ht.Istroke=407,ht.Itilde=296,ht.Itildebelow=7724,ht.Izhitsacyrillic=1140,ht.Izhitsadblgravecyrillic=1142,ht.J=74,ht.Jaarmenian=1345,ht.Jcircle=9407,ht.Jcircumflex=308,ht.Jecyrillic=1032,ht.Jheharmenian=1355,ht.Jmonospace=65322,ht.Jsmall=63338,ht.K=75,ht.KBsquare=13189,ht.KKsquare=13261,ht.Kabashkircyrillic=1184,ht.Kacute=7728,ht.Kacyrillic=1050,ht.Kadescendercyrillic=1178,ht.Kahookcyrillic=1219,ht.Kappa=922,ht.Kastrokecyrillic=1182,ht.Kaverticalstrokecyrillic=1180,ht.Kcaron=488,ht.Kcedilla=310,ht.Kcircle=9408,ht.Kcommaaccent=310,ht.Kdotbelow=7730,ht.Keharmenian=1364,ht.Kenarmenian=1343,ht.Khacyrillic=1061,ht.Kheicoptic=998,ht.Khook=408,ht.Kjecyrillic=1036,ht.Klinebelow=7732,ht.Kmonospace=65323,ht.Koppacyrillic=1152,ht.Koppagreek=990,ht.Ksicyrillic=1134,ht.Ksmall=63339,ht.L=76,ht.LJ=455,ht.LL=63167,ht.Lacute=313,ht.Lambda=923,ht.Lcaron=317,ht.Lcedilla=315,ht.Lcircle=9409,ht.Lcircumflexbelow=7740,ht.Lcommaaccent=315,ht.Ldot=319,ht.Ldotaccent=319,ht.Ldotbelow=7734,ht.Ldotbelowmacron=7736,ht.Liwnarmenian=1340,ht.Lj=456,ht.Ljecyrillic=1033,ht.Llinebelow=7738,ht.Lmonospace=65324,ht.Lslash=321,ht.Lslashsmall=63225,ht.Lsmall=63340,ht.M=77,ht.MBsquare=13190,ht.Macron=63184,ht.Macronsmall=63407,ht.Macute=7742,ht.Mcircle=9410,ht.Mdotaccent=7744,ht.Mdotbelow=7746,ht.Menarmenian=1348,ht.Mmonospace=65325,ht.Msmall=63341,ht.Mturned=412,ht.Mu=924,ht.N=78,ht.NJ=458,ht.Nacute=323,ht.Ncaron=327,ht.Ncedilla=325,ht.Ncircle=9411,ht.Ncircumflexbelow=7754,ht.Ncommaaccent=325,ht.Ndotaccent=7748,ht.Ndotbelow=7750,ht.Nhookleft=413,ht.Nineroman=8552,ht.Nj=459,ht.Njecyrillic=1034,ht.Nlinebelow=7752,ht.Nmonospace=65326,ht.Nowarmenian=1350,ht.Nsmall=63342,ht.Ntilde=209,ht.Ntildesmall=63473,ht.Nu=925,ht.O=79,ht.OE=338,ht.OEsmall=63226,ht.Oacute=211,ht.Oacutesmall=63475,ht.Obarredcyrillic=1256,ht.Obarreddieresiscyrillic=1258,ht.Obreve=334,ht.Ocaron=465,ht.Ocenteredtilde=415,ht.Ocircle=9412,ht.Ocircumflex=212,ht.Ocircumflexacute=7888,ht.Ocircumflexdotbelow=7896,ht.Ocircumflexgrave=7890,ht.Ocircumflexhookabove=7892,ht.Ocircumflexsmall=63476,ht.Ocircumflextilde=7894,ht.Ocyrillic=1054,ht.Odblacute=336,ht.Odblgrave=524,ht.Odieresis=214,ht.Odieresiscyrillic=1254,ht.Odieresissmall=63478,ht.Odotbelow=7884,ht.Ogoneksmall=63227,ht.Ograve=210,ht.Ogravesmall=63474,ht.Oharmenian=1365,ht.Ohm=8486,ht.Ohookabove=7886,ht.Ohorn=416,ht.Ohornacute=7898,ht.Ohorndotbelow=7906,ht.Ohorngrave=7900,ht.Ohornhookabove=7902,ht.Ohorntilde=7904,ht.Ohungarumlaut=336,ht.Oi=418,ht.Oinvertedbreve=526,ht.Omacron=332,ht.Omacronacute=7762,ht.Omacrongrave=7760,ht.Omega=8486,ht.Omegacyrillic=1120,ht.Omegagreek=937,ht.Omegaroundcyrillic=1146,ht.Omegatitlocyrillic=1148,ht.Omegatonos=911,ht.Omicron=927,ht.Omicrontonos=908,ht.Omonospace=65327,ht.Oneroman=8544,ht.Oogonek=490,ht.Oogonekmacron=492,ht.Oopen=390,ht.Oslash=216,ht.Oslashacute=510,ht.Oslashsmall=63480,ht.Osmall=63343,ht.Ostrokeacute=510,ht.Otcyrillic=1150,ht.Otilde=213,ht.Otildeacute=7756,ht.Otildedieresis=7758,ht.Otildesmall=63477,ht.P=80,ht.Pacute=7764,ht.Pcircle=9413,ht.Pdotaccent=7766,ht.Pecyrillic=1055,ht.Peharmenian=1354,ht.Pemiddlehookcyrillic=1190,ht.Phi=934,ht.Phook=420,ht.Pi=928,ht.Piwrarmenian=1363,ht.Pmonospace=65328,ht.Psi=936,ht.Psicyrillic=1136,ht.Psmall=63344,ht.Q=81,ht.Qcircle=9414,ht.Qmonospace=65329,ht.Qsmall=63345,ht.R=82,ht.Raarmenian=1356,ht.Racute=340,ht.Rcaron=344,ht.Rcedilla=342,ht.Rcircle=9415,ht.Rcommaaccent=342,ht.Rdblgrave=528,ht.Rdotaccent=7768,ht.Rdotbelow=7770,ht.Rdotbelowmacron=7772,ht.Reharmenian=1360,ht.Rfraktur=8476,ht.Rho=929,ht.Ringsmall=63228,ht.Rinvertedbreve=530,ht.Rlinebelow=7774,ht.Rmonospace=65330,ht.Rsmall=63346,ht.Rsmallinverted=641,ht.Rsmallinvertedsuperior=694,ht.S=83,ht.SF010000=9484,ht.SF020000=9492,ht.SF030000=9488,ht.SF040000=9496,ht.SF050000=9532,ht.SF060000=9516,ht.SF070000=9524,ht.SF080000=9500,ht.SF090000=9508,ht.SF100000=9472,ht.SF110000=9474,ht.SF190000=9569,ht.SF200000=9570,ht.SF210000=9558,ht.SF220000=9557,ht.SF230000=9571,ht.SF240000=9553,ht.SF250000=9559,ht.SF260000=9565,ht.SF270000=9564,ht.SF280000=9563,ht.SF360000=9566,ht.SF370000=9567,ht.SF380000=9562,ht.SF390000=9556,ht.SF400000=9577,ht.SF410000=9574,ht.SF420000=9568,ht.SF430000=9552,ht.SF440000=9580,ht.SF450000=9575,ht.SF460000=9576,ht.SF470000=9572,ht.SF480000=9573,ht.SF490000=9561,ht.SF500000=9560,ht.SF510000=9554,ht.SF520000=9555,ht.SF530000=9579,ht.SF540000=9578,ht.Sacute=346,ht.Sacutedotaccent=7780,ht.Sampigreek=992,ht.Scaron=352,ht.Scarondotaccent=7782,ht.Scaronsmall=63229,ht.Scedilla=350,ht.Schwa=399,ht.Schwacyrillic=1240,ht.Schwadieresiscyrillic=1242,ht.Scircle=9416,ht.Scircumflex=348,ht.Scommaaccent=536,ht.Sdotaccent=7776,ht.Sdotbelow=7778,ht.Sdotbelowdotaccent=7784,ht.Seharmenian=1357,ht.Sevenroman=8550,ht.Shaarmenian=1351,ht.Shacyrillic=1064,ht.Shchacyrillic=1065,ht.Sheicoptic=994,ht.Shhacyrillic=1210,ht.Shimacoptic=1004,ht.Sigma=931,ht.Sixroman=8549,ht.Smonospace=65331,ht.Softsigncyrillic=1068,ht.Ssmall=63347,ht.Stigmagreek=986,ht.T=84,ht.Tau=932,ht.Tbar=358,ht.Tcaron=356,ht.Tcedilla=354,ht.Tcircle=9417,ht.Tcircumflexbelow=7792,ht.Tcommaaccent=354,ht.Tdotaccent=7786,ht.Tdotbelow=7788,ht.Tecyrillic=1058,ht.Tedescendercyrillic=1196,ht.Tenroman=8553,ht.Tetsecyrillic=1204,ht.Theta=920,ht.Thook=428,ht.Thorn=222,ht.Thornsmall=63486,ht.Threeroman=8546,ht.Tildesmall=63230,ht.Tiwnarmenian=1359,ht.Tlinebelow=7790,ht.Tmonospace=65332,ht.Toarmenian=1337,ht.Tonefive=444,ht.Tonesix=388,ht.Tonetwo=423,ht.Tretroflexhook=430,ht.Tsecyrillic=1062,ht.Tshecyrillic=1035,ht.Tsmall=63348,ht.Twelveroman=8555,ht.Tworoman=8545,ht.U=85,ht.Uacute=218,ht.Uacutesmall=63482,ht.Ubreve=364,ht.Ucaron=467,ht.Ucircle=9418,ht.Ucircumflex=219,ht.Ucircumflexbelow=7798,ht.Ucircumflexsmall=63483,ht.Ucyrillic=1059,ht.Udblacute=368,ht.Udblgrave=532,ht.Udieresis=220,ht.Udieresisacute=471,ht.Udieresisbelow=7794,ht.Udieresiscaron=473,ht.Udieresiscyrillic=1264,ht.Udieresisgrave=475,ht.Udieresismacron=469,ht.Udieresissmall=63484,ht.Udotbelow=7908,ht.Ugrave=217,ht.Ugravesmall=63481,ht.Uhookabove=7910,ht.Uhorn=431,ht.Uhornacute=7912,ht.Uhorndotbelow=7920,ht.Uhorngrave=7914,ht.Uhornhookabove=7916,ht.Uhorntilde=7918,ht.Uhungarumlaut=368,ht.Uhungarumlautcyrillic=1266,ht.Uinvertedbreve=534,ht.Ukcyrillic=1144,ht.Umacron=362,ht.Umacroncyrillic=1262,ht.Umacrondieresis=7802,ht.Umonospace=65333,ht.Uogonek=370,ht.Upsilon=933,ht.Upsilon1=978,ht.Upsilonacutehooksymbolgreek=979,ht.Upsilonafrican=433,ht.Upsilondieresis=939,ht.Upsilondieresishooksymbolgreek=980,ht.Upsilonhooksymbol=978,ht.Upsilontonos=910,ht.Uring=366,ht.Ushortcyrillic=1038,ht.Usmall=63349,ht.Ustraightcyrillic=1198,ht.Ustraightstrokecyrillic=1200,ht.Utilde=360,ht.Utildeacute=7800,ht.Utildebelow=7796,ht.V=86,ht.Vcircle=9419,ht.Vdotbelow=7806,ht.Vecyrillic=1042,ht.Vewarmenian=1358,ht.Vhook=434,ht.Vmonospace=65334,ht.Voarmenian=1352,ht.Vsmall=63350,ht.Vtilde=7804,ht.W=87,ht.Wacute=7810,ht.Wcircle=9420,ht.Wcircumflex=372,ht.Wdieresis=7812,ht.Wdotaccent=7814,ht.Wdotbelow=7816,ht.Wgrave=7808,ht.Wmonospace=65335,ht.Wsmall=63351,ht.X=88,ht.Xcircle=9421,ht.Xdieresis=7820,ht.Xdotaccent=7818,ht.Xeharmenian=1341,ht.Xi=926,ht.Xmonospace=65336,ht.Xsmall=63352,ht.Y=89,ht.Yacute=221,ht.Yacutesmall=63485,ht.Yatcyrillic=1122,ht.Ycircle=9422,ht.Ycircumflex=374,ht.Ydieresis=376,ht.Ydieresissmall=63487,ht.Ydotaccent=7822,ht.Ydotbelow=7924,ht.Yericyrillic=1067,ht.Yerudieresiscyrillic=1272,ht.Ygrave=7922,ht.Yhook=435,ht.Yhookabove=7926,ht.Yiarmenian=1349,ht.Yicyrillic=1031,ht.Yiwnarmenian=1362,ht.Ymonospace=65337,ht.Ysmall=63353,ht.Ytilde=7928,ht.Yusbigcyrillic=1130,ht.Yusbigiotifiedcyrillic=1132,ht.Yuslittlecyrillic=1126,ht.Yuslittleiotifiedcyrillic=1128,ht.Z=90,ht.Zaarmenian=1334,ht.Zacute=377,ht.Zcaron=381,ht.Zcaronsmall=63231,ht.Zcircle=9423,ht.Zcircumflex=7824,ht.Zdot=379,ht.Zdotaccent=379,ht.Zdotbelow=7826,ht.Zecyrillic=1047,ht.Zedescendercyrillic=1176,ht.Zedieresiscyrillic=1246,ht.Zeta=918,ht.Zhearmenian=1338,ht.Zhebrevecyrillic=1217,ht.Zhecyrillic=1046,ht.Zhedescendercyrillic=1174,ht.Zhedieresiscyrillic=1244,ht.Zlinebelow=7828,ht.Zmonospace=65338,ht.Zsmall=63354,ht.Zstroke=437,ht.a=97,ht.aabengali=2438,ht.aacute=225,ht.aadeva=2310,ht.aagujarati=2694,ht.aagurmukhi=2566,ht.aamatragurmukhi=2622,ht.aarusquare=13059,ht.aavowelsignbengali=2494,ht.aavowelsigndeva=2366,ht.aavowelsigngujarati=2750,ht.abbreviationmarkarmenian=1375,ht.abbreviationsigndeva=2416,ht.abengali=2437,ht.abopomofo=12570,ht.abreve=259,ht.abreveacute=7855,ht.abrevecyrillic=1233,ht.abrevedotbelow=7863,ht.abrevegrave=7857,ht.abrevehookabove=7859,ht.abrevetilde=7861,ht.acaron=462,ht.acircle=9424,ht.acircumflex=226,ht.acircumflexacute=7845,ht.acircumflexdotbelow=7853,ht.acircumflexgrave=7847,ht.acircumflexhookabove=7849,ht.acircumflextilde=7851,ht.acute=180,ht.acutebelowcmb=791,ht.acutecmb=769,ht.acutecomb=769,ht.acutedeva=2388,ht.acutelowmod=719,ht.acutetonecmb=833,ht.acyrillic=1072,ht.adblgrave=513,ht.addakgurmukhi=2673,ht.adeva=2309,ht.adieresis=228,ht.adieresiscyrillic=1235,ht.adieresismacron=479,ht.adotbelow=7841,ht.adotmacron=481,ht.ae=230,ht.aeacute=509,ht.aekorean=12624,ht.aemacron=483,ht.afii00208=8213,ht.afii08941=8356,ht.afii10017=1040,ht.afii10018=1041,ht.afii10019=1042,ht.afii10020=1043,ht.afii10021=1044,ht.afii10022=1045,ht.afii10023=1025,ht.afii10024=1046,ht.afii10025=1047,ht.afii10026=1048,ht.afii10027=1049,ht.afii10028=1050,ht.afii10029=1051,ht.afii10030=1052,ht.afii10031=1053,ht.afii10032=1054,ht.afii10033=1055,ht.afii10034=1056,ht.afii10035=1057,ht.afii10036=1058,ht.afii10037=1059,ht.afii10038=1060,ht.afii10039=1061,ht.afii10040=1062,ht.afii10041=1063,ht.afii10042=1064,ht.afii10043=1065,ht.afii10044=1066,ht.afii10045=1067,ht.afii10046=1068,ht.afii10047=1069,ht.afii10048=1070,ht.afii10049=1071,ht.afii10050=1168,ht.afii10051=1026,ht.afii10052=1027,ht.afii10053=1028,ht.afii10054=1029,ht.afii10055=1030,ht.afii10056=1031,ht.afii10057=1032,ht.afii10058=1033,ht.afii10059=1034,ht.afii10060=1035,ht.afii10061=1036,ht.afii10062=1038,ht.afii10063=63172,ht.afii10064=63173,ht.afii10065=1072,ht.afii10066=1073,ht.afii10067=1074,ht.afii10068=1075,ht.afii10069=1076,ht.afii10070=1077,ht.afii10071=1105,ht.afii10072=1078,ht.afii10073=1079,ht.afii10074=1080,ht.afii10075=1081,ht.afii10076=1082,ht.afii10077=1083,ht.afii10078=1084,ht.afii10079=1085,ht.afii10080=1086,ht.afii10081=1087,ht.afii10082=1088,ht.afii10083=1089,ht.afii10084=1090,ht.afii10085=1091,ht.afii10086=1092,ht.afii10087=1093,ht.afii10088=1094,ht.afii10089=1095,ht.afii10090=1096,ht.afii10091=1097,ht.afii10092=1098,ht.afii10093=1099,ht.afii10094=1100,ht.afii10095=1101,ht.afii10096=1102,ht.afii10097=1103,ht.afii10098=1169,ht.afii10099=1106,ht.afii10100=1107,ht.afii10101=1108,ht.afii10102=1109,ht.afii10103=1110,ht.afii10104=1111,ht.afii10105=1112,ht.afii10106=1113,ht.afii10107=1114,ht.afii10108=1115,ht.afii10109=1116,ht.afii10110=1118,ht.afii10145=1039,ht.afii10146=1122,ht.afii10147=1138,ht.afii10148=1140,ht.afii10192=63174,ht.afii10193=1119,ht.afii10194=1123,ht.afii10195=1139,ht.afii10196=1141,ht.afii10831=63175,ht.afii10832=63176,ht.afii10846=1241,ht.afii299=8206,ht.afii300=8207,ht.afii301=8205,ht.afii57381=1642,ht.afii57388=1548,ht.afii57392=1632,ht.afii57393=1633,ht.afii57394=1634,ht.afii57395=1635,ht.afii57396=1636,ht.afii57397=1637,ht.afii57398=1638,ht.afii57399=1639,ht.afii57400=1640,ht.afii57401=1641,ht.afii57403=1563,ht.afii57407=1567,ht.afii57409=1569,ht.afii57410=1570,ht.afii57411=1571,ht.afii57412=1572,ht.afii57413=1573,ht.afii57414=1574,ht.afii57415=1575,ht.afii57416=1576,ht.afii57417=1577,ht.afii57418=1578,ht.afii57419=1579,ht.afii57420=1580,ht.afii57421=1581,ht.afii57422=1582,ht.afii57423=1583,ht.afii57424=1584,ht.afii57425=1585,ht.afii57426=1586,ht.afii57427=1587,ht.afii57428=1588,ht.afii57429=1589,ht.afii57430=1590,ht.afii57431=1591,ht.afii57432=1592,ht.afii57433=1593,ht.afii57434=1594,ht.afii57440=1600,ht.afii57441=1601,ht.afii57442=1602,ht.afii57443=1603,ht.afii57444=1604,ht.afii57445=1605,ht.afii57446=1606,ht.afii57448=1608,ht.afii57449=1609,ht.afii57450=1610,ht.afii57451=1611,ht.afii57452=1612,ht.afii57453=1613,ht.afii57454=1614,ht.afii57455=1615,ht.afii57456=1616,ht.afii57457=1617,ht.afii57458=1618,ht.afii57470=1607,ht.afii57505=1700,ht.afii57506=1662,ht.afii57507=1670,ht.afii57508=1688,ht.afii57509=1711,ht.afii57511=1657,ht.afii57512=1672,ht.afii57513=1681,ht.afii57514=1722,ht.afii57519=1746,ht.afii57534=1749,ht.afii57636=8362,ht.afii57645=1470,ht.afii57658=1475,ht.afii57664=1488,ht.afii57665=1489,ht.afii57666=1490,ht.afii57667=1491,ht.afii57668=1492,ht.afii57669=1493,ht.afii57670=1494,ht.afii57671=1495,ht.afii57672=1496,ht.afii57673=1497,ht.afii57674=1498,ht.afii57675=1499,ht.afii57676=1500,ht.afii57677=1501,ht.afii57678=1502,ht.afii57679=1503,ht.afii57680=1504,ht.afii57681=1505,ht.afii57682=1506,ht.afii57683=1507,ht.afii57684=1508,ht.afii57685=1509,ht.afii57686=1510,ht.afii57687=1511,ht.afii57688=1512,ht.afii57689=1513,ht.afii57690=1514,ht.afii57694=64298,ht.afii57695=64299,ht.afii57700=64331,ht.afii57705=64287,ht.afii57716=1520,ht.afii57717=1521,ht.afii57718=1522,ht.afii57723=64309,ht.afii57793=1460,ht.afii57794=1461,ht.afii57795=1462,ht.afii57796=1467,ht.afii57797=1464,ht.afii57798=1463,ht.afii57799=1456,ht.afii57800=1458,ht.afii57801=1457,ht.afii57802=1459,ht.afii57803=1474,ht.afii57804=1473,ht.afii57806=1465,ht.afii57807=1468,ht.afii57839=1469,ht.afii57841=1471,ht.afii57842=1472,ht.afii57929=700,ht.afii61248=8453,ht.afii61289=8467,ht.afii61352=8470,ht.afii61573=8236,ht.afii61574=8237,ht.afii61575=8238,ht.afii61664=8204,ht.afii63167=1645,ht.afii64937=701,ht.agrave=224,ht.agujarati=2693,ht.agurmukhi=2565,ht.ahiragana=12354,ht.ahookabove=7843,ht.aibengali=2448,ht.aibopomofo=12574,ht.aideva=2320,ht.aiecyrillic=1237,ht.aigujarati=2704,ht.aigurmukhi=2576,ht.aimatragurmukhi=2632,ht.ainarabic=1593,ht.ainfinalarabic=65226,ht.aininitialarabic=65227,ht.ainmedialarabic=65228,ht.ainvertedbreve=515,ht.aivowelsignbengali=2504,ht.aivowelsigndeva=2376,ht.aivowelsigngujarati=2760,ht.akatakana=12450,ht.akatakanahalfwidth=65393,ht.akorean=12623,ht.alef=1488,ht.alefarabic=1575,ht.alefdageshhebrew=64304,ht.aleffinalarabic=65166,ht.alefhamzaabovearabic=1571,ht.alefhamzaabovefinalarabic=65156,ht.alefhamzabelowarabic=1573,ht.alefhamzabelowfinalarabic=65160,ht.alefhebrew=1488,ht.aleflamedhebrew=64335,ht.alefmaddaabovearabic=1570,ht.alefmaddaabovefinalarabic=65154,ht.alefmaksuraarabic=1609,ht.alefmaksurafinalarabic=65264,ht.alefmaksurainitialarabic=65267,ht.alefmaksuramedialarabic=65268,ht.alefpatahhebrew=64302,ht.alefqamatshebrew=64303,ht.aleph=8501,ht.allequal=8780,ht.alpha=945,ht.alphatonos=940,ht.amacron=257,ht.amonospace=65345,ht.ampersand=38,ht.ampersandmonospace=65286,ht.ampersandsmall=63270,ht.amsquare=13250,ht.anbopomofo=12578,ht.angbopomofo=12580,ht.angbracketleft=12296,ht.angbracketright=12297,ht.angkhankhuthai=3674,ht.angle=8736,ht.anglebracketleft=12296,ht.anglebracketleftvertical=65087,ht.anglebracketright=12297,ht.anglebracketrightvertical=65088,ht.angleleft=9001,ht.angleright=9002,ht.angstrom=8491,ht.anoteleia=903,ht.anudattadeva=2386,ht.anusvarabengali=2434,ht.anusvaradeva=2306,ht.anusvaragujarati=2690,ht.aogonek=261,ht.apaatosquare=13056,ht.aparen=9372,ht.apostrophearmenian=1370,ht.apostrophemod=700,ht.apple=63743,ht.approaches=8784,ht.approxequal=8776,ht.approxequalorimage=8786,ht.approximatelyequal=8773,ht.araeaekorean=12686,ht.araeakorean=12685,ht.arc=8978,ht.arighthalfring=7834,ht.aring=229,ht.aringacute=507,ht.aringbelow=7681,ht.arrowboth=8596,ht.arrowdashdown=8675,ht.arrowdashleft=8672,ht.arrowdashright=8674,ht.arrowdashup=8673,ht.arrowdblboth=8660,ht.arrowdbldown=8659,ht.arrowdblleft=8656,ht.arrowdblright=8658,ht.arrowdblup=8657,ht.arrowdown=8595,ht.arrowdownleft=8601,ht.arrowdownright=8600,ht.arrowdownwhite=8681,ht.arrowheaddownmod=709,ht.arrowheadleftmod=706,ht.arrowheadrightmod=707,ht.arrowheadupmod=708,ht.arrowhorizex=63719,ht.arrowleft=8592,ht.arrowleftdbl=8656,ht.arrowleftdblstroke=8653,ht.arrowleftoverright=8646,ht.arrowleftwhite=8678,ht.arrowright=8594,ht.arrowrightdblstroke=8655,ht.arrowrightheavy=10142,ht.arrowrightoverleft=8644,ht.arrowrightwhite=8680,ht.arrowtableft=8676,ht.arrowtabright=8677,ht.arrowup=8593,ht.arrowupdn=8597,ht.arrowupdnbse=8616,ht.arrowupdownbase=8616,ht.arrowupleft=8598,ht.arrowupleftofdown=8645,ht.arrowupright=8599,ht.arrowupwhite=8679,ht.arrowvertex=63718,ht.asciicircum=94,ht.asciicircummonospace=65342,ht.asciitilde=126,ht.asciitildemonospace=65374,ht.ascript=593,ht.ascriptturned=594,ht.asmallhiragana=12353,ht.asmallkatakana=12449,ht.asmallkatakanahalfwidth=65383,ht.asterisk=42,ht.asteriskaltonearabic=1645,ht.asteriskarabic=1645,ht.asteriskmath=8727,ht.asteriskmonospace=65290,ht.asterisksmall=65121,ht.asterism=8258,ht.asuperior=63209,ht.asymptoticallyequal=8771,ht.at=64,ht.atilde=227,ht.atmonospace=65312,ht.atsmall=65131,ht.aturned=592,ht.aubengali=2452,ht.aubopomofo=12576,ht.audeva=2324,ht.augujarati=2708,ht.augurmukhi=2580,ht.aulengthmarkbengali=2519,ht.aumatragurmukhi=2636,ht.auvowelsignbengali=2508,ht.auvowelsigndeva=2380,ht.auvowelsigngujarati=2764,ht.avagrahadeva=2365,ht.aybarmenian=1377,ht.ayin=1506,ht.ayinaltonehebrew=64288,ht.ayinhebrew=1506,ht.b=98,ht.babengali=2476,ht.backslash=92,ht.backslashmonospace=65340,ht.badeva=2348,ht.bagujarati=2732,ht.bagurmukhi=2604,ht.bahiragana=12400,ht.bahtthai=3647,ht.bakatakana=12496,ht.bar=124,ht.barmonospace=65372,ht.bbopomofo=12549,ht.bcircle=9425,ht.bdotaccent=7683,ht.bdotbelow=7685,ht.beamedsixteenthnotes=9836,ht.because=8757,ht.becyrillic=1073,ht.beharabic=1576,ht.behfinalarabic=65168,ht.behinitialarabic=65169,ht.behiragana=12409,ht.behmedialarabic=65170,ht.behmeeminitialarabic=64671,ht.behmeemisolatedarabic=64520,ht.behnoonfinalarabic=64621,ht.bekatakana=12505,ht.benarmenian=1378,ht.bet=1489,ht.beta=946,ht.betasymbolgreek=976,ht.betdagesh=64305,ht.betdageshhebrew=64305,ht.bethebrew=1489,ht.betrafehebrew=64332,ht.bhabengali=2477,ht.bhadeva=2349,ht.bhagujarati=2733,ht.bhagurmukhi=2605,ht.bhook=595,ht.bihiragana=12403,ht.bikatakana=12499,ht.bilabialclick=664,ht.bindigurmukhi=2562,ht.birusquare=13105,ht.blackcircle=9679,ht.blackdiamond=9670,ht.blackdownpointingtriangle=9660,ht.blackleftpointingpointer=9668,ht.blackleftpointingtriangle=9664,ht.blacklenticularbracketleft=12304,ht.blacklenticularbracketleftvertical=65083,ht.blacklenticularbracketright=12305,ht.blacklenticularbracketrightvertical=65084,ht.blacklowerlefttriangle=9699,ht.blacklowerrighttriangle=9698,ht.blackrectangle=9644,ht.blackrightpointingpointer=9658,ht.blackrightpointingtriangle=9654,ht.blacksmallsquare=9642,ht.blacksmilingface=9787,ht.blacksquare=9632,ht.blackstar=9733,ht.blackupperlefttriangle=9700,ht.blackupperrighttriangle=9701,ht.blackuppointingsmalltriangle=9652,ht.blackuppointingtriangle=9650,ht.blank=9251,ht.blinebelow=7687,ht.block=9608,ht.bmonospace=65346,ht.bobaimaithai=3610,ht.bohiragana=12412,ht.bokatakana=12508,ht.bparen=9373,ht.bqsquare=13251,ht.braceex=63732,ht.braceleft=123,ht.braceleftbt=63731,ht.braceleftmid=63730,ht.braceleftmonospace=65371,ht.braceleftsmall=65115,ht.bracelefttp=63729,ht.braceleftvertical=65079,ht.braceright=125,ht.bracerightbt=63742,ht.bracerightmid=63741,ht.bracerightmonospace=65373,ht.bracerightsmall=65116,ht.bracerighttp=63740,ht.bracerightvertical=65080,ht.bracketleft=91,ht.bracketleftbt=63728,ht.bracketleftex=63727,ht.bracketleftmonospace=65339,ht.bracketlefttp=63726,ht.bracketright=93,ht.bracketrightbt=63739,ht.bracketrightex=63738,ht.bracketrightmonospace=65341,ht.bracketrighttp=63737,ht.breve=728,ht.brevebelowcmb=814,ht.brevecmb=774,ht.breveinvertedbelowcmb=815,ht.breveinvertedcmb=785,ht.breveinverteddoublecmb=865,ht.bridgebelowcmb=810,ht.bridgeinvertedbelowcmb=826,ht.brokenbar=166,ht.bstroke=384,ht.bsuperior=63210,ht.btopbar=387,ht.buhiragana=12406,ht.bukatakana=12502,ht.bullet=8226,ht.bulletinverse=9688,ht.bulletoperator=8729,ht.bullseye=9678,ht.c=99,ht.caarmenian=1390,ht.cabengali=2458,ht.cacute=263,ht.cadeva=2330,ht.cagujarati=2714,ht.cagurmukhi=2586,ht.calsquare=13192,ht.candrabindubengali=2433,ht.candrabinducmb=784,ht.candrabindudeva=2305,ht.candrabindugujarati=2689,ht.capslock=8682,ht.careof=8453,ht.caron=711,ht.caronbelowcmb=812,ht.caroncmb=780,ht.carriagereturn=8629,ht.cbopomofo=12568,ht.ccaron=269,ht.ccedilla=231,ht.ccedillaacute=7689,ht.ccircle=9426,ht.ccircumflex=265,ht.ccurl=597,ht.cdot=267,ht.cdotaccent=267,ht.cdsquare=13253,ht.cedilla=184,ht.cedillacmb=807,ht.cent=162,ht.centigrade=8451,ht.centinferior=63199,ht.centmonospace=65504,ht.centoldstyle=63394,ht.centsuperior=63200,ht.chaarmenian=1401,ht.chabengali=2459,ht.chadeva=2331,ht.chagujarati=2715,ht.chagurmukhi=2587,ht.chbopomofo=12564,ht.cheabkhasiancyrillic=1213,ht.checkmark=10003,ht.checyrillic=1095,ht.chedescenderabkhasiancyrillic=1215,ht.chedescendercyrillic=1207,ht.chedieresiscyrillic=1269,ht.cheharmenian=1395,ht.chekhakassiancyrillic=1228,ht.cheverticalstrokecyrillic=1209,ht.chi=967,ht.chieuchacirclekorean=12919,ht.chieuchaparenkorean=12823,ht.chieuchcirclekorean=12905,ht.chieuchkorean=12618,ht.chieuchparenkorean=12809,ht.chochangthai=3594,ht.chochanthai=3592,ht.chochingthai=3593,ht.chochoethai=3596,ht.chook=392,ht.cieucacirclekorean=12918,ht.cieucaparenkorean=12822,ht.cieuccirclekorean=12904,ht.cieuckorean=12616,ht.cieucparenkorean=12808,ht.cieucuparenkorean=12828,ht.circle=9675,ht.circlecopyrt=169,ht.circlemultiply=8855,ht.circleot=8857,ht.circleplus=8853,ht.circlepostalmark=12342,ht.circlewithlefthalfblack=9680,ht.circlewithrighthalfblack=9681,ht.circumflex=710,ht.circumflexbelowcmb=813,ht.circumflexcmb=770,ht.clear=8999,ht.clickalveolar=450,ht.clickdental=448,ht.clicklateral=449,ht.clickretroflex=451,ht.club=9827,ht.clubsuitblack=9827,ht.clubsuitwhite=9831,ht.cmcubedsquare=13220,ht.cmonospace=65347,ht.cmsquaredsquare=13216,ht.coarmenian=1409,ht.colon=58,ht.colonmonetary=8353,ht.colonmonospace=65306,ht.colonsign=8353,ht.colonsmall=65109,ht.colontriangularhalfmod=721,ht.colontriangularmod=720,ht.comma=44,ht.commaabovecmb=787,ht.commaaboverightcmb=789,ht.commaaccent=63171,ht.commaarabic=1548,ht.commaarmenian=1373,ht.commainferior=63201,ht.commamonospace=65292,ht.commareversedabovecmb=788,ht.commareversedmod=701,ht.commasmall=65104,ht.commasuperior=63202,ht.commaturnedabovecmb=786,ht.commaturnedmod=699,ht.compass=9788,ht.congruent=8773,ht.contourintegral=8750,ht.control=8963,ht.controlACK=6,ht.controlBEL=7,ht.controlBS=8,ht.controlCAN=24,ht.controlCR=13,ht.controlDC1=17,ht.controlDC2=18,ht.controlDC3=19,ht.controlDC4=20,ht.controlDEL=127,ht.controlDLE=16,ht.controlEM=25,ht.controlENQ=5,ht.controlEOT=4,ht.controlESC=27,ht.controlETB=23,ht.controlETX=3,ht.controlFF=12,ht.controlFS=28,ht.controlGS=29,ht.controlHT=9,ht.controlLF=10,ht.controlNAK=21,ht.controlNULL=0,ht.controlRS=30,ht.controlSI=15,ht.controlSO=14,ht.controlSOT=2,ht.controlSTX=1,ht.controlSUB=26,ht.controlSYN=22,ht.controlUS=31,ht.controlVT=11,ht.copyright=169,ht.copyrightsans=63721,ht.copyrightserif=63193,ht.cornerbracketleft=12300,ht.cornerbracketlefthalfwidth=65378,ht.cornerbracketleftvertical=65089,ht.cornerbracketright=12301,ht.cornerbracketrighthalfwidth=65379,ht.cornerbracketrightvertical=65090,ht.corporationsquare=13183,ht.cosquare=13255,ht.coverkgsquare=13254,ht.cparen=9374,ht.cruzeiro=8354,ht.cstretched=663,ht.curlyand=8911,ht.curlyor=8910,ht.currency=164,ht.cyrBreve=63185,ht.cyrFlex=63186,ht.cyrbreve=63188,ht.cyrflex=63189,ht.d=100,ht.daarmenian=1380,ht.dabengali=2470,ht.dadarabic=1590,ht.dadeva=2342,ht.dadfinalarabic=65214,ht.dadinitialarabic=65215,ht.dadmedialarabic=65216,ht.dagesh=1468,ht.dageshhebrew=1468,ht.dagger=8224,ht.daggerdbl=8225,ht.dagujarati=2726,ht.dagurmukhi=2598,ht.dahiragana=12384,ht.dakatakana=12480,ht.dalarabic=1583,ht.dalet=1491,ht.daletdagesh=64307,ht.daletdageshhebrew=64307,ht.dalethebrew=1491,ht.dalfinalarabic=65194,ht.dammaarabic=1615,ht.dammalowarabic=1615,ht.dammatanaltonearabic=1612,ht.dammatanarabic=1612,ht.danda=2404,ht.dargahebrew=1447,ht.dargalefthebrew=1447,ht.dasiapneumatacyrilliccmb=1157,ht.dblGrave=63187,ht.dblanglebracketleft=12298,ht.dblanglebracketleftvertical=65085,ht.dblanglebracketright=12299,ht.dblanglebracketrightvertical=65086,ht.dblarchinvertedbelowcmb=811,ht.dblarrowleft=8660,ht.dblarrowright=8658,ht.dbldanda=2405,ht.dblgrave=63190,ht.dblgravecmb=783,ht.dblintegral=8748,ht.dbllowline=8215,ht.dbllowlinecmb=819,ht.dbloverlinecmb=831,ht.dblprimemod=698,ht.dblverticalbar=8214,ht.dblverticallineabovecmb=782,ht.dbopomofo=12553,ht.dbsquare=13256,ht.dcaron=271,ht.dcedilla=7697,ht.dcircle=9427,ht.dcircumflexbelow=7699,ht.dcroat=273,ht.ddabengali=2465,ht.ddadeva=2337,ht.ddagujarati=2721,ht.ddagurmukhi=2593,ht.ddalarabic=1672,ht.ddalfinalarabic=64393,ht.dddhadeva=2396,ht.ddhabengali=2466,ht.ddhadeva=2338,ht.ddhagujarati=2722,ht.ddhagurmukhi=2594,ht.ddotaccent=7691,ht.ddotbelow=7693,ht.decimalseparatorarabic=1643,ht.decimalseparatorpersian=1643,ht.decyrillic=1076,ht.degree=176,ht.dehihebrew=1453,ht.dehiragana=12391,ht.deicoptic=1007,ht.dekatakana=12487,ht.deleteleft=9003,ht.deleteright=8998,ht.delta=948,ht.deltaturned=397,ht.denominatorminusonenumeratorbengali=2552,ht.dezh=676,ht.dhabengali=2471,ht.dhadeva=2343,ht.dhagujarati=2727,ht.dhagurmukhi=2599,ht.dhook=599,ht.dialytikatonos=901,ht.dialytikatonoscmb=836,ht.diamond=9830,ht.diamondsuitwhite=9826,ht.dieresis=168,ht.dieresisacute=63191,ht.dieresisbelowcmb=804,ht.dieresiscmb=776,ht.dieresisgrave=63192,ht.dieresistonos=901,ht.dihiragana=12386,ht.dikatakana=12482,ht.dittomark=12291,ht.divide=247,ht.divides=8739,ht.divisionslash=8725,ht.djecyrillic=1106,ht.dkshade=9619,ht.dlinebelow=7695,ht.dlsquare=13207,ht.dmacron=273,ht.dmonospace=65348,ht.dnblock=9604,ht.dochadathai=3598,ht.dodekthai=3604,ht.dohiragana=12393,ht.dokatakana=12489,ht.dollar=36,ht.dollarinferior=63203,ht.dollarmonospace=65284,ht.dollaroldstyle=63268,ht.dollarsmall=65129,ht.dollarsuperior=63204,ht.dong=8363,ht.dorusquare=13094,ht.dotaccent=729,ht.dotaccentcmb=775,ht.dotbelowcmb=803,ht.dotbelowcomb=803,ht.dotkatakana=12539,ht.dotlessi=305,ht.dotlessj=63166,ht.dotlessjstrokehook=644,ht.dotmath=8901,ht.dottedcircle=9676,ht.doubleyodpatah=64287,ht.doubleyodpatahhebrew=64287,ht.downtackbelowcmb=798,ht.downtackmod=725,ht.dparen=9375,ht.dsuperior=63211,ht.dtail=598,ht.dtopbar=396,ht.duhiragana=12389,ht.dukatakana=12485,ht.dz=499,ht.dzaltone=675,ht.dzcaron=454,ht.dzcurl=677,ht.dzeabkhasiancyrillic=1249,ht.dzecyrillic=1109,ht.dzhecyrillic=1119,ht.e=101,ht.eacute=233,ht.earth=9793,ht.ebengali=2447,ht.ebopomofo=12572,ht.ebreve=277,ht.ecandradeva=2317,ht.ecandragujarati=2701,ht.ecandravowelsigndeva=2373,ht.ecandravowelsigngujarati=2757,ht.ecaron=283,ht.ecedillabreve=7709,ht.echarmenian=1381,ht.echyiwnarmenian=1415,ht.ecircle=9428,ht.ecircumflex=234,ht.ecircumflexacute=7871,ht.ecircumflexbelow=7705,ht.ecircumflexdotbelow=7879,ht.ecircumflexgrave=7873,ht.ecircumflexhookabove=7875,ht.ecircumflextilde=7877,ht.ecyrillic=1108,ht.edblgrave=517,ht.edeva=2319,ht.edieresis=235,ht.edot=279,ht.edotaccent=279,ht.edotbelow=7865,ht.eegurmukhi=2575,ht.eematragurmukhi=2631,ht.efcyrillic=1092,ht.egrave=232,ht.egujarati=2703,ht.eharmenian=1383,ht.ehbopomofo=12573,ht.ehiragana=12360,ht.ehookabove=7867,ht.eibopomofo=12575,ht.eight=56,ht.eightarabic=1640,ht.eightbengali=2542,ht.eightcircle=9319,ht.eightcircleinversesansserif=10129,ht.eightdeva=2414,ht.eighteencircle=9329,ht.eighteenparen=9349,ht.eighteenperiod=9369,ht.eightgujarati=2798,ht.eightgurmukhi=2670,ht.eighthackarabic=1640,ht.eighthangzhou=12328,ht.eighthnotebeamed=9835,ht.eightideographicparen=12839,ht.eightinferior=8328,ht.eightmonospace=65304,ht.eightoldstyle=63288,ht.eightparen=9339,ht.eightperiod=9359,ht.eightpersian=1784,ht.eightroman=8567,ht.eightsuperior=8312,ht.eightthai=3672,ht.einvertedbreve=519,ht.eiotifiedcyrillic=1125,ht.ekatakana=12456,ht.ekatakanahalfwidth=65396,ht.ekonkargurmukhi=2676,ht.ekorean=12628,ht.elcyrillic=1083,ht.element=8712,ht.elevencircle=9322,ht.elevenparen=9342,ht.elevenperiod=9362,ht.elevenroman=8570,ht.ellipsis=8230,ht.ellipsisvertical=8942,ht.emacron=275,ht.emacronacute=7703,ht.emacrongrave=7701,ht.emcyrillic=1084,ht.emdash=8212,ht.emdashvertical=65073,ht.emonospace=65349,ht.emphasismarkarmenian=1371,ht.emptyset=8709,ht.enbopomofo=12579,ht.encyrillic=1085,ht.endash=8211,ht.endashvertical=65074,ht.endescendercyrillic=1187,ht.eng=331,ht.engbopomofo=12581,ht.enghecyrillic=1189,ht.enhookcyrillic=1224,ht.enspace=8194,ht.eogonek=281,ht.eokorean=12627,ht.eopen=603,ht.eopenclosed=666,ht.eopenreversed=604,ht.eopenreversedclosed=606,ht.eopenreversedhook=605,ht.eparen=9376,ht.epsilon=949,ht.epsilontonos=941,ht.equal=61,ht.equalmonospace=65309,ht.equalsmall=65126,ht.equalsuperior=8316,ht.equivalence=8801,ht.erbopomofo=12582,ht.ercyrillic=1088,ht.ereversed=600,ht.ereversedcyrillic=1101,ht.escyrillic=1089,ht.esdescendercyrillic=1195,ht.esh=643,ht.eshcurl=646,ht.eshortdeva=2318,ht.eshortvowelsigndeva=2374,ht.eshreversedloop=426,ht.eshsquatreversed=645,ht.esmallhiragana=12359,ht.esmallkatakana=12455,ht.esmallkatakanahalfwidth=65386,ht.estimated=8494,ht.esuperior=63212,ht.eta=951,ht.etarmenian=1384,ht.etatonos=942,ht.eth=240,ht.etilde=7869,ht.etildebelow=7707,ht.etnahtafoukhhebrew=1425,ht.etnahtafoukhlefthebrew=1425,ht.etnahtahebrew=1425,ht.etnahtalefthebrew=1425,ht.eturned=477,ht.eukorean=12641,ht.euro=8364,ht.evowelsignbengali=2503,ht.evowelsigndeva=2375,ht.evowelsigngujarati=2759,ht.exclam=33,ht.exclamarmenian=1372,ht.exclamdbl=8252,ht.exclamdown=161,ht.exclamdownsmall=63393,ht.exclammonospace=65281,ht.exclamsmall=63265,ht.existential=8707,ht.ezh=658,ht.ezhcaron=495,ht.ezhcurl=659,ht.ezhreversed=441,ht.ezhtail=442,ht.f=102,ht.fadeva=2398,ht.fagurmukhi=2654,ht.fahrenheit=8457,ht.fathaarabic=1614,ht.fathalowarabic=1614,ht.fathatanarabic=1611,ht.fbopomofo=12552,ht.fcircle=9429,ht.fdotaccent=7711,ht.feharabic=1601,ht.feharmenian=1414,ht.fehfinalarabic=65234,ht.fehinitialarabic=65235,ht.fehmedialarabic=65236,ht.feicoptic=997,ht.female=9792,ht.ff=64256,ht.f_f=64256,ht.ffi=64259,ht.f_f_i=64259,ht.ffl=64260,ht.f_f_l=64260,ht.fi=64257,ht.f_i=64257,ht.fifteencircle=9326,ht.fifteenparen=9346,ht.fifteenperiod=9366,ht.figuredash=8210,ht.filledbox=9632,ht.filledrect=9644,ht.finalkaf=1498,ht.finalkafdagesh=64314,ht.finalkafdageshhebrew=64314,ht.finalkafhebrew=1498,ht.finalmem=1501,ht.finalmemhebrew=1501,ht.finalnun=1503,ht.finalnunhebrew=1503,ht.finalpe=1507,ht.finalpehebrew=1507,ht.finaltsadi=1509,ht.finaltsadihebrew=1509,ht.firsttonechinese=713,ht.fisheye=9673,ht.fitacyrillic=1139,ht.five=53,ht.fivearabic=1637,ht.fivebengali=2539,ht.fivecircle=9316,ht.fivecircleinversesansserif=10126,ht.fivedeva=2411,ht.fiveeighths=8541,ht.fivegujarati=2795,ht.fivegurmukhi=2667,ht.fivehackarabic=1637,ht.fivehangzhou=12325,ht.fiveideographicparen=12836,ht.fiveinferior=8325,ht.fivemonospace=65301,ht.fiveoldstyle=63285,ht.fiveparen=9336,ht.fiveperiod=9356,ht.fivepersian=1781,ht.fiveroman=8564,ht.fivesuperior=8309,ht.fivethai=3669,ht.fl=64258,ht.f_l=64258,ht.florin=402,ht.fmonospace=65350,ht.fmsquare=13209,ht.fofanthai=3615,ht.fofathai=3613,ht.fongmanthai=3663,ht.forall=8704,ht.four=52,ht.fourarabic=1636,ht.fourbengali=2538,ht.fourcircle=9315,ht.fourcircleinversesansserif=10125,ht.fourdeva=2410,ht.fourgujarati=2794,ht.fourgurmukhi=2666,ht.fourhackarabic=1636,ht.fourhangzhou=12324,ht.fourideographicparen=12835,ht.fourinferior=8324,ht.fourmonospace=65300,ht.fournumeratorbengali=2551,ht.fouroldstyle=63284,ht.fourparen=9335,ht.fourperiod=9355,ht.fourpersian=1780,ht.fourroman=8563,ht.foursuperior=8308,ht.fourteencircle=9325,ht.fourteenparen=9345,ht.fourteenperiod=9365,ht.fourthai=3668,ht.fourthtonechinese=715,ht.fparen=9377,ht.fraction=8260,ht.franc=8355,ht.g=103,ht.gabengali=2455,ht.gacute=501,ht.gadeva=2327,ht.gafarabic=1711,ht.gaffinalarabic=64403,ht.gafinitialarabic=64404,ht.gafmedialarabic=64405,ht.gagujarati=2711,ht.gagurmukhi=2583,ht.gahiragana=12364,ht.gakatakana=12460,ht.gamma=947,ht.gammalatinsmall=611,ht.gammasuperior=736,ht.gangiacoptic=1003,ht.gbopomofo=12557,ht.gbreve=287,ht.gcaron=487,ht.gcedilla=291,ht.gcircle=9430,ht.gcircumflex=285,ht.gcommaaccent=291,ht.gdot=289,ht.gdotaccent=289,ht.gecyrillic=1075,ht.gehiragana=12370,ht.gekatakana=12466,ht.geometricallyequal=8785,ht.gereshaccenthebrew=1436,ht.gereshhebrew=1523,ht.gereshmuqdamhebrew=1437,ht.germandbls=223,ht.gershayimaccenthebrew=1438,ht.gershayimhebrew=1524,ht.getamark=12307,ht.ghabengali=2456,ht.ghadarmenian=1394,ht.ghadeva=2328,ht.ghagujarati=2712,ht.ghagurmukhi=2584,ht.ghainarabic=1594,ht.ghainfinalarabic=65230,ht.ghaininitialarabic=65231,ht.ghainmedialarabic=65232,ht.ghemiddlehookcyrillic=1173,ht.ghestrokecyrillic=1171,ht.gheupturncyrillic=1169,ht.ghhadeva=2394,ht.ghhagurmukhi=2650,ht.ghook=608,ht.ghzsquare=13203,ht.gihiragana=12366,ht.gikatakana=12462,ht.gimarmenian=1379,ht.gimel=1490,ht.gimeldagesh=64306,ht.gimeldageshhebrew=64306,ht.gimelhebrew=1490,ht.gjecyrillic=1107,ht.glottalinvertedstroke=446,ht.glottalstop=660,ht.glottalstopinverted=662,ht.glottalstopmod=704,ht.glottalstopreversed=661,ht.glottalstopreversedmod=705,ht.glottalstopreversedsuperior=740,ht.glottalstopstroke=673,ht.glottalstopstrokereversed=674,ht.gmacron=7713,ht.gmonospace=65351,ht.gohiragana=12372,ht.gokatakana=12468,ht.gparen=9378,ht.gpasquare=13228,ht.gradient=8711,ht.grave=96,ht.gravebelowcmb=790,ht.gravecmb=768,ht.gravecomb=768,ht.gravedeva=2387,ht.gravelowmod=718,ht.gravemonospace=65344,ht.gravetonecmb=832,ht.greater=62,ht.greaterequal=8805,ht.greaterequalorless=8923,ht.greatermonospace=65310,ht.greaterorequivalent=8819,ht.greaterorless=8823,ht.greateroverequal=8807,ht.greatersmall=65125,ht.gscript=609,ht.gstroke=485,ht.guhiragana=12368,ht.guillemotleft=171,ht.guillemotright=187,ht.guilsinglleft=8249,ht.guilsinglright=8250,ht.gukatakana=12464,ht.guramusquare=13080,ht.gysquare=13257,ht.h=104,ht.haabkhasiancyrillic=1193,ht.haaltonearabic=1729,ht.habengali=2489,ht.hadescendercyrillic=1203,ht.hadeva=2361,ht.hagujarati=2745,ht.hagurmukhi=2617,ht.haharabic=1581,ht.hahfinalarabic=65186,ht.hahinitialarabic=65187,ht.hahiragana=12399,ht.hahmedialarabic=65188,ht.haitusquare=13098,ht.hakatakana=12495,ht.hakatakanahalfwidth=65418,ht.halantgurmukhi=2637,ht.hamzaarabic=1569,ht.hamzalowarabic=1569,ht.hangulfiller=12644,ht.hardsigncyrillic=1098,ht.harpoonleftbarbup=8636,ht.harpoonrightbarbup=8640,ht.hasquare=13258,ht.hatafpatah=1458,ht.hatafpatah16=1458,ht.hatafpatah23=1458,ht.hatafpatah2f=1458,ht.hatafpatahhebrew=1458,ht.hatafpatahnarrowhebrew=1458,ht.hatafpatahquarterhebrew=1458,ht.hatafpatahwidehebrew=1458,ht.hatafqamats=1459,ht.hatafqamats1b=1459,ht.hatafqamats28=1459,ht.hatafqamats34=1459,ht.hatafqamatshebrew=1459,ht.hatafqamatsnarrowhebrew=1459,ht.hatafqamatsquarterhebrew=1459,ht.hatafqamatswidehebrew=1459,ht.hatafsegol=1457,ht.hatafsegol17=1457,ht.hatafsegol24=1457,ht.hatafsegol30=1457,ht.hatafsegolhebrew=1457,ht.hatafsegolnarrowhebrew=1457,ht.hatafsegolquarterhebrew=1457,ht.hatafsegolwidehebrew=1457,ht.hbar=295,ht.hbopomofo=12559,ht.hbrevebelow=7723,ht.hcedilla=7721,ht.hcircle=9431,ht.hcircumflex=293,ht.hdieresis=7719,ht.hdotaccent=7715,ht.hdotbelow=7717,ht.he=1492,ht.heart=9829,ht.heartsuitblack=9829,ht.heartsuitwhite=9825,ht.hedagesh=64308,ht.hedageshhebrew=64308,ht.hehaltonearabic=1729,ht.heharabic=1607,ht.hehebrew=1492,ht.hehfinalaltonearabic=64423,ht.hehfinalalttwoarabic=65258,ht.hehfinalarabic=65258,ht.hehhamzaabovefinalarabic=64421,ht.hehhamzaaboveisolatedarabic=64420,ht.hehinitialaltonearabic=64424,ht.hehinitialarabic=65259,ht.hehiragana=12408,ht.hehmedialaltonearabic=64425,ht.hehmedialarabic=65260,ht.heiseierasquare=13179,ht.hekatakana=12504,ht.hekatakanahalfwidth=65421,ht.hekutaarusquare=13110,ht.henghook=615,ht.herutusquare=13113,ht.het=1495,ht.hethebrew=1495,ht.hhook=614,ht.hhooksuperior=689,ht.hieuhacirclekorean=12923,ht.hieuhaparenkorean=12827,ht.hieuhcirclekorean=12909,ht.hieuhkorean=12622,ht.hieuhparenkorean=12813,ht.hihiragana=12402,ht.hikatakana=12498,ht.hikatakanahalfwidth=65419,ht.hiriq=1460,ht.hiriq14=1460,ht.hiriq21=1460,ht.hiriq2d=1460,ht.hiriqhebrew=1460,ht.hiriqnarrowhebrew=1460,ht.hiriqquarterhebrew=1460,ht.hiriqwidehebrew=1460,ht.hlinebelow=7830,ht.hmonospace=65352,ht.hoarmenian=1392,ht.hohipthai=3627,ht.hohiragana=12411,ht.hokatakana=12507,ht.hokatakanahalfwidth=65422,ht.holam=1465,ht.holam19=1465,ht.holam26=1465,ht.holam32=1465,ht.holamhebrew=1465,ht.holamnarrowhebrew=1465,ht.holamquarterhebrew=1465,ht.holamwidehebrew=1465,ht.honokhukthai=3630,ht.hookabovecomb=777,ht.hookcmb=777,ht.hookpalatalizedbelowcmb=801,ht.hookretroflexbelowcmb=802,ht.hoonsquare=13122,ht.horicoptic=1001,ht.horizontalbar=8213,ht.horncmb=795,ht.hotsprings=9832,ht.house=8962,ht.hparen=9379,ht.hsuperior=688,ht.hturned=613,ht.huhiragana=12405,ht.huiitosquare=13107,ht.hukatakana=12501,ht.hukatakanahalfwidth=65420,ht.hungarumlaut=733,ht.hungarumlautcmb=779,ht.hv=405,ht.hyphen=45,ht.hypheninferior=63205,ht.hyphenmonospace=65293,ht.hyphensmall=65123,ht.hyphensuperior=63206,ht.hyphentwo=8208,ht.i=105,ht.iacute=237,ht.iacyrillic=1103,ht.ibengali=2439,ht.ibopomofo=12583,ht.ibreve=301,ht.icaron=464,ht.icircle=9432,ht.icircumflex=238,ht.icyrillic=1110,ht.idblgrave=521,ht.ideographearthcircle=12943,ht.ideographfirecircle=12939,ht.ideographicallianceparen=12863,ht.ideographiccallparen=12858,ht.ideographiccentrecircle=12965,ht.ideographicclose=12294,ht.ideographiccomma=12289,ht.ideographiccommaleft=65380,ht.ideographiccongratulationparen=12855,ht.ideographiccorrectcircle=12963,ht.ideographicearthparen=12847,ht.ideographicenterpriseparen=12861,ht.ideographicexcellentcircle=12957,ht.ideographicfestivalparen=12864,ht.ideographicfinancialcircle=12950,ht.ideographicfinancialparen=12854,ht.ideographicfireparen=12843,ht.ideographichaveparen=12850,ht.ideographichighcircle=12964,ht.ideographiciterationmark=12293,ht.ideographiclaborcircle=12952,ht.ideographiclaborparen=12856,ht.ideographicleftcircle=12967,ht.ideographiclowcircle=12966,ht.ideographicmedicinecircle=12969,ht.ideographicmetalparen=12846,ht.ideographicmoonparen=12842,ht.ideographicnameparen=12852,ht.ideographicperiod=12290,ht.ideographicprintcircle=12958,ht.ideographicreachparen=12867,ht.ideographicrepresentparen=12857,ht.ideographicresourceparen=12862,ht.ideographicrightcircle=12968,ht.ideographicsecretcircle=12953,ht.ideographicselfparen=12866,ht.ideographicsocietyparen=12851,ht.ideographicspace=12288,ht.ideographicspecialparen=12853,ht.ideographicstockparen=12849,ht.ideographicstudyparen=12859,ht.ideographicsunparen=12848,ht.ideographicsuperviseparen=12860,ht.ideographicwaterparen=12844,ht.ideographicwoodparen=12845,ht.ideographiczero=12295,ht.ideographmetalcircle=12942,ht.ideographmooncircle=12938,ht.ideographnamecircle=12948,ht.ideographsuncircle=12944,ht.ideographwatercircle=12940,ht.ideographwoodcircle=12941,ht.ideva=2311,ht.idieresis=239,ht.idieresisacute=7727,ht.idieresiscyrillic=1253,ht.idotbelow=7883,ht.iebrevecyrillic=1239,ht.iecyrillic=1077,ht.ieungacirclekorean=12917,ht.ieungaparenkorean=12821,ht.ieungcirclekorean=12903,ht.ieungkorean=12615,ht.ieungparenkorean=12807,ht.igrave=236,ht.igujarati=2695,ht.igurmukhi=2567,ht.ihiragana=12356,ht.ihookabove=7881,ht.iibengali=2440,ht.iicyrillic=1080,ht.iideva=2312,ht.iigujarati=2696,ht.iigurmukhi=2568,ht.iimatragurmukhi=2624,ht.iinvertedbreve=523,ht.iishortcyrillic=1081,ht.iivowelsignbengali=2496,ht.iivowelsigndeva=2368,ht.iivowelsigngujarati=2752,ht.ij=307,ht.ikatakana=12452,ht.ikatakanahalfwidth=65394,ht.ikorean=12643,ht.ilde=732,ht.iluyhebrew=1452,ht.imacron=299,ht.imacroncyrillic=1251,ht.imageorapproximatelyequal=8787,ht.imatragurmukhi=2623,ht.imonospace=65353,ht.increment=8710,ht.infinity=8734,ht.iniarmenian=1387,ht.integral=8747,ht.integralbottom=8993,ht.integralbt=8993,ht.integralex=63733,ht.integraltop=8992,ht.integraltp=8992,ht.intersection=8745,ht.intisquare=13061,ht.invbullet=9688,ht.invcircle=9689,ht.invsmileface=9787,ht.iocyrillic=1105,ht.iogonek=303,ht.iota=953,ht.iotadieresis=970,ht.iotadieresistonos=912,ht.iotalatin=617,ht.iotatonos=943,ht.iparen=9380,ht.irigurmukhi=2674,ht.ismallhiragana=12355,ht.ismallkatakana=12451,ht.ismallkatakanahalfwidth=65384,ht.issharbengali=2554,ht.istroke=616,ht.isuperior=63213,ht.iterationhiragana=12445,ht.iterationkatakana=12541,ht.itilde=297,ht.itildebelow=7725,ht.iubopomofo=12585,ht.iucyrillic=1102,ht.ivowelsignbengali=2495,ht.ivowelsigndeva=2367,ht.ivowelsigngujarati=2751,ht.izhitsacyrillic=1141,ht.izhitsadblgravecyrillic=1143,ht.j=106,ht.jaarmenian=1393,ht.jabengali=2460,ht.jadeva=2332,ht.jagujarati=2716,ht.jagurmukhi=2588,ht.jbopomofo=12560,ht.jcaron=496,ht.jcircle=9433,ht.jcircumflex=309,ht.jcrossedtail=669,ht.jdotlessstroke=607,ht.jecyrillic=1112,ht.jeemarabic=1580,ht.jeemfinalarabic=65182,ht.jeeminitialarabic=65183,ht.jeemmedialarabic=65184,ht.jeharabic=1688,ht.jehfinalarabic=64395,ht.jhabengali=2461,ht.jhadeva=2333,ht.jhagujarati=2717,ht.jhagurmukhi=2589,ht.jheharmenian=1403,ht.jis=12292,ht.jmonospace=65354,ht.jparen=9381,ht.jsuperior=690,ht.k=107,ht.kabashkircyrillic=1185,ht.kabengali=2453,ht.kacute=7729,ht.kacyrillic=1082,ht.kadescendercyrillic=1179,ht.kadeva=2325,ht.kaf=1499,ht.kafarabic=1603,ht.kafdagesh=64315,ht.kafdageshhebrew=64315,ht.kaffinalarabic=65242,ht.kafhebrew=1499,ht.kafinitialarabic=65243,ht.kafmedialarabic=65244,ht.kafrafehebrew=64333,ht.kagujarati=2709,ht.kagurmukhi=2581,ht.kahiragana=12363,ht.kahookcyrillic=1220,ht.kakatakana=12459,ht.kakatakanahalfwidth=65398,ht.kappa=954,ht.kappasymbolgreek=1008,ht.kapyeounmieumkorean=12657,ht.kapyeounphieuphkorean=12676,ht.kapyeounpieupkorean=12664,ht.kapyeounssangpieupkorean=12665,ht.karoriisquare=13069,ht.kashidaautoarabic=1600,ht.kashidaautonosidebearingarabic=1600,ht.kasmallkatakana=12533,ht.kasquare=13188,ht.kasraarabic=1616,ht.kasratanarabic=1613,ht.kastrokecyrillic=1183,ht.katahiraprolongmarkhalfwidth=65392,ht.kaverticalstrokecyrillic=1181,ht.kbopomofo=12558,ht.kcalsquare=13193,ht.kcaron=489,ht.kcedilla=311,ht.kcircle=9434,ht.kcommaaccent=311,ht.kdotbelow=7731,ht.keharmenian=1412,ht.kehiragana=12369,ht.kekatakana=12465,ht.kekatakanahalfwidth=65401,ht.kenarmenian=1391,ht.kesmallkatakana=12534,ht.kgreenlandic=312,ht.khabengali=2454,ht.khacyrillic=1093,ht.khadeva=2326,ht.khagujarati=2710,ht.khagurmukhi=2582,ht.khaharabic=1582,ht.khahfinalarabic=65190,ht.khahinitialarabic=65191,ht.khahmedialarabic=65192,ht.kheicoptic=999,ht.khhadeva=2393,ht.khhagurmukhi=2649,ht.khieukhacirclekorean=12920,ht.khieukhaparenkorean=12824,ht.khieukhcirclekorean=12906,ht.khieukhkorean=12619,ht.khieukhparenkorean=12810,ht.khokhaithai=3586,ht.khokhonthai=3589,ht.khokhuatthai=3587,ht.khokhwaithai=3588,ht.khomutthai=3675,ht.khook=409,ht.khorakhangthai=3590,ht.khzsquare=13201,ht.kihiragana=12365,ht.kikatakana=12461,ht.kikatakanahalfwidth=65399,ht.kiroguramusquare=13077,ht.kiromeetorusquare=13078,ht.kirosquare=13076,ht.kiyeokacirclekorean=12910,ht.kiyeokaparenkorean=12814,ht.kiyeokcirclekorean=12896,ht.kiyeokkorean=12593,ht.kiyeokparenkorean=12800,ht.kiyeoksioskorean=12595,ht.kjecyrillic=1116,ht.klinebelow=7733,ht.klsquare=13208,ht.kmcubedsquare=13222,ht.kmonospace=65355,ht.kmsquaredsquare=13218,ht.kohiragana=12371,ht.kohmsquare=13248,ht.kokaithai=3585,ht.kokatakana=12467,ht.kokatakanahalfwidth=65402,ht.kooposquare=13086,ht.koppacyrillic=1153,ht.koreanstandardsymbol=12927,ht.koroniscmb=835,ht.kparen=9382,ht.kpasquare=13226,ht.ksicyrillic=1135,ht.ktsquare=13263,ht.kturned=670,ht.kuhiragana=12367,ht.kukatakana=12463,ht.kukatakanahalfwidth=65400,ht.kvsquare=13240,ht.kwsquare=13246,ht.l=108,ht.labengali=2482,ht.lacute=314,ht.ladeva=2354,ht.lagujarati=2738,ht.lagurmukhi=2610,ht.lakkhangyaothai=3653,ht.lamaleffinalarabic=65276,ht.lamalefhamzaabovefinalarabic=65272,ht.lamalefhamzaaboveisolatedarabic=65271,ht.lamalefhamzabelowfinalarabic=65274,ht.lamalefhamzabelowisolatedarabic=65273,ht.lamalefisolatedarabic=65275,ht.lamalefmaddaabovefinalarabic=65270,ht.lamalefmaddaaboveisolatedarabic=65269,ht.lamarabic=1604,ht.lambda=955,ht.lambdastroke=411,ht.lamed=1500,ht.lameddagesh=64316,ht.lameddageshhebrew=64316,ht.lamedhebrew=1500,ht.lamfinalarabic=65246,ht.lamhahinitialarabic=64714,ht.laminitialarabic=65247,ht.lamjeeminitialarabic=64713,ht.lamkhahinitialarabic=64715,ht.lamlamhehisolatedarabic=65010,ht.lammedialarabic=65248,ht.lammeemhahinitialarabic=64904,ht.lammeeminitialarabic=64716,ht.largecircle=9711,ht.lbar=410,ht.lbelt=620,ht.lbopomofo=12556,ht.lcaron=318,ht.lcedilla=316,ht.lcircle=9435,ht.lcircumflexbelow=7741,ht.lcommaaccent=316,ht.ldot=320,ht.ldotaccent=320,ht.ldotbelow=7735,ht.ldotbelowmacron=7737,ht.leftangleabovecmb=794,ht.lefttackbelowcmb=792,ht.less=60,ht.lessequal=8804,ht.lessequalorgreater=8922,ht.lessmonospace=65308,ht.lessorequivalent=8818,ht.lessorgreater=8822,ht.lessoverequal=8806,ht.lesssmall=65124,ht.lezh=622,ht.lfblock=9612,ht.lhookretroflex=621,ht.lira=8356,ht.liwnarmenian=1388,ht.lj=457,ht.ljecyrillic=1113,ht.ll=63168,ht.lladeva=2355,ht.llagujarati=2739,ht.llinebelow=7739,ht.llladeva=2356,ht.llvocalicbengali=2529,ht.llvocalicdeva=2401,ht.llvocalicvowelsignbengali=2531,ht.llvocalicvowelsigndeva=2403,ht.lmiddletilde=619,ht.lmonospace=65356,ht.lmsquare=13264,ht.lochulathai=3628,ht.logicaland=8743,ht.logicalnot=172,ht.logicalnotreversed=8976,ht.logicalor=8744,ht.lolingthai=3621,ht.longs=383,ht.lowlinecenterline=65102,ht.lowlinecmb=818,ht.lowlinedashed=65101,ht.lozenge=9674,ht.lparen=9383,ht.lslash=322,ht.lsquare=8467,ht.lsuperior=63214,ht.ltshade=9617,ht.luthai=3622,ht.lvocalicbengali=2444,ht.lvocalicdeva=2316,ht.lvocalicvowelsignbengali=2530,ht.lvocalicvowelsigndeva=2402,ht.lxsquare=13267,ht.m=109,ht.mabengali=2478,ht.macron=175,ht.macronbelowcmb=817,ht.macroncmb=772,ht.macronlowmod=717,ht.macronmonospace=65507,ht.macute=7743,ht.madeva=2350,ht.magujarati=2734,ht.magurmukhi=2606,ht.mahapakhhebrew=1444,ht.mahapakhlefthebrew=1444,ht.mahiragana=12414,ht.maichattawalowleftthai=63637,ht.maichattawalowrightthai=63636,ht.maichattawathai=3659,ht.maichattawaupperleftthai=63635,ht.maieklowleftthai=63628,ht.maieklowrightthai=63627,ht.maiekthai=3656,ht.maiekupperleftthai=63626,ht.maihanakatleftthai=63620,ht.maihanakatthai=3633,ht.maitaikhuleftthai=63625,ht.maitaikhuthai=3655,ht.maitholowleftthai=63631,ht.maitholowrightthai=63630,ht.maithothai=3657,ht.maithoupperleftthai=63629,ht.maitrilowleftthai=63634,ht.maitrilowrightthai=63633,ht.maitrithai=3658,ht.maitriupperleftthai=63632,ht.maiyamokthai=3654,ht.makatakana=12510,ht.makatakanahalfwidth=65423,ht.male=9794,ht.mansyonsquare=13127,ht.maqafhebrew=1470,ht.mars=9794,ht.masoracirclehebrew=1455,ht.masquare=13187,ht.mbopomofo=12551,ht.mbsquare=13268,ht.mcircle=9436,ht.mcubedsquare=13221,ht.mdotaccent=7745,ht.mdotbelow=7747,ht.meemarabic=1605,ht.meemfinalarabic=65250,ht.meeminitialarabic=65251,ht.meemmedialarabic=65252,ht.meemmeeminitialarabic=64721,ht.meemmeemisolatedarabic=64584,ht.meetorusquare=13133,ht.mehiragana=12417,ht.meizierasquare=13182,ht.mekatakana=12513,ht.mekatakanahalfwidth=65426,ht.mem=1502,ht.memdagesh=64318,ht.memdageshhebrew=64318,ht.memhebrew=1502,ht.menarmenian=1396,ht.merkhahebrew=1445,ht.merkhakefulahebrew=1446,ht.merkhakefulalefthebrew=1446,ht.merkhalefthebrew=1445,ht.mhook=625,ht.mhzsquare=13202,ht.middledotkatakanahalfwidth=65381,ht.middot=183,ht.mieumacirclekorean=12914,ht.mieumaparenkorean=12818,ht.mieumcirclekorean=12900,ht.mieumkorean=12609,ht.mieumpansioskorean=12656,ht.mieumparenkorean=12804,ht.mieumpieupkorean=12654,ht.mieumsioskorean=12655,ht.mihiragana=12415,ht.mikatakana=12511,ht.mikatakanahalfwidth=65424,ht.minus=8722,ht.minusbelowcmb=800,ht.minuscircle=8854,ht.minusmod=727,ht.minusplus=8723,ht.minute=8242,ht.miribaarusquare=13130,ht.mirisquare=13129,ht.mlonglegturned=624,ht.mlsquare=13206,ht.mmcubedsquare=13219,ht.mmonospace=65357,ht.mmsquaredsquare=13215,ht.mohiragana=12418,ht.mohmsquare=13249,ht.mokatakana=12514,ht.mokatakanahalfwidth=65427,ht.molsquare=13270,ht.momathai=3617,ht.moverssquare=13223,ht.moverssquaredsquare=13224,ht.mparen=9384,ht.mpasquare=13227,ht.mssquare=13235,ht.msuperior=63215,ht.mturned=623,ht.mu=181,ht.mu1=181,ht.muasquare=13186,ht.muchgreater=8811,ht.muchless=8810,ht.mufsquare=13196,ht.mugreek=956,ht.mugsquare=13197,ht.muhiragana=12416,ht.mukatakana=12512,ht.mukatakanahalfwidth=65425,ht.mulsquare=13205,ht.multiply=215,ht.mumsquare=13211,ht.munahhebrew=1443,ht.munahlefthebrew=1443,ht.musicalnote=9834,ht.musicalnotedbl=9835,ht.musicflatsign=9837,ht.musicsharpsign=9839,ht.mussquare=13234,ht.muvsquare=13238,ht.muwsquare=13244,ht.mvmegasquare=13241,ht.mvsquare=13239,ht.mwmegasquare=13247,ht.mwsquare=13245,ht.n=110,ht.nabengali=2472,ht.nabla=8711,ht.nacute=324,ht.nadeva=2344,ht.nagujarati=2728,ht.nagurmukhi=2600,ht.nahiragana=12394,ht.nakatakana=12490,ht.nakatakanahalfwidth=65413,ht.napostrophe=329,ht.nasquare=13185,ht.nbopomofo=12555,ht.nbspace=160,ht.ncaron=328,ht.ncedilla=326,ht.ncircle=9437,ht.ncircumflexbelow=7755,ht.ncommaaccent=326,ht.ndotaccent=7749,ht.ndotbelow=7751,ht.nehiragana=12397,ht.nekatakana=12493,ht.nekatakanahalfwidth=65416,ht.newsheqelsign=8362,ht.nfsquare=13195,ht.ngabengali=2457,ht.ngadeva=2329,ht.ngagujarati=2713,ht.ngagurmukhi=2585,ht.ngonguthai=3591,ht.nhiragana=12435,ht.nhookleft=626,ht.nhookretroflex=627,ht.nieunacirclekorean=12911,ht.nieunaparenkorean=12815,ht.nieuncieuckorean=12597,ht.nieuncirclekorean=12897,ht.nieunhieuhkorean=12598,ht.nieunkorean=12596,ht.nieunpansioskorean=12648,ht.nieunparenkorean=12801,ht.nieunsioskorean=12647,ht.nieuntikeutkorean=12646,ht.nihiragana=12395,ht.nikatakana=12491,ht.nikatakanahalfwidth=65414,ht.nikhahitleftthai=63641,ht.nikhahitthai=3661,ht.nine=57,ht.ninearabic=1641,ht.ninebengali=2543,ht.ninecircle=9320,ht.ninecircleinversesansserif=10130,ht.ninedeva=2415,ht.ninegujarati=2799,ht.ninegurmukhi=2671,ht.ninehackarabic=1641,ht.ninehangzhou=12329,ht.nineideographicparen=12840,ht.nineinferior=8329,ht.ninemonospace=65305,ht.nineoldstyle=63289,ht.nineparen=9340,ht.nineperiod=9360,ht.ninepersian=1785,ht.nineroman=8568,ht.ninesuperior=8313,ht.nineteencircle=9330,ht.nineteenparen=9350,ht.nineteenperiod=9370,ht.ninethai=3673,ht.nj=460,ht.njecyrillic=1114,ht.nkatakana=12531,ht.nkatakanahalfwidth=65437,ht.nlegrightlong=414,ht.nlinebelow=7753,ht.nmonospace=65358,ht.nmsquare=13210,ht.nnabengali=2467,ht.nnadeva=2339,ht.nnagujarati=2723,ht.nnagurmukhi=2595,ht.nnnadeva=2345,ht.nohiragana=12398,ht.nokatakana=12494,ht.nokatakanahalfwidth=65417,ht.nonbreakingspace=160,ht.nonenthai=3603,ht.nonuthai=3609,ht.noonarabic=1606,ht.noonfinalarabic=65254,ht.noonghunnaarabic=1722,ht.noonghunnafinalarabic=64415,ht.nooninitialarabic=65255,ht.noonjeeminitialarabic=64722,ht.noonjeemisolatedarabic=64587,ht.noonmedialarabic=65256,ht.noonmeeminitialarabic=64725,ht.noonmeemisolatedarabic=64590,ht.noonnoonfinalarabic=64653,ht.notcontains=8716,ht.notelement=8713,ht.notelementof=8713,ht.notequal=8800,ht.notgreater=8815,ht.notgreaternorequal=8817,ht.notgreaternorless=8825,ht.notidentical=8802,ht.notless=8814,ht.notlessnorequal=8816,ht.notparallel=8742,ht.notprecedes=8832,ht.notsubset=8836,ht.notsucceeds=8833,ht.notsuperset=8837,ht.nowarmenian=1398,ht.nparen=9385,ht.nssquare=13233,ht.nsuperior=8319,ht.ntilde=241,ht.nu=957,ht.nuhiragana=12396,ht.nukatakana=12492,ht.nukatakanahalfwidth=65415,ht.nuktabengali=2492,ht.nuktadeva=2364,ht.nuktagujarati=2748,ht.nuktagurmukhi=2620,ht.numbersign=35,ht.numbersignmonospace=65283,ht.numbersignsmall=65119,ht.numeralsigngreek=884,ht.numeralsignlowergreek=885,ht.numero=8470,ht.nun=1504,ht.nundagesh=64320,ht.nundageshhebrew=64320,ht.nunhebrew=1504,ht.nvsquare=13237,ht.nwsquare=13243,ht.nyabengali=2462,ht.nyadeva=2334,ht.nyagujarati=2718,ht.nyagurmukhi=2590,ht.o=111,ht.oacute=243,ht.oangthai=3629,ht.obarred=629,ht.obarredcyrillic=1257,ht.obarreddieresiscyrillic=1259,ht.obengali=2451,ht.obopomofo=12571,ht.obreve=335,ht.ocandradeva=2321,ht.ocandragujarati=2705,ht.ocandravowelsigndeva=2377,ht.ocandravowelsigngujarati=2761,ht.ocaron=466,ht.ocircle=9438,ht.ocircumflex=244,ht.ocircumflexacute=7889,ht.ocircumflexdotbelow=7897,ht.ocircumflexgrave=7891,ht.ocircumflexhookabove=7893,ht.ocircumflextilde=7895,ht.ocyrillic=1086,ht.odblacute=337,ht.odblgrave=525,ht.odeva=2323,ht.odieresis=246,ht.odieresiscyrillic=1255,ht.odotbelow=7885,ht.oe=339,ht.oekorean=12634,ht.ogonek=731,ht.ogonekcmb=808,ht.ograve=242,ht.ogujarati=2707,ht.oharmenian=1413,ht.ohiragana=12362,ht.ohookabove=7887,ht.ohorn=417,ht.ohornacute=7899,ht.ohorndotbelow=7907,ht.ohorngrave=7901,ht.ohornhookabove=7903,ht.ohorntilde=7905,ht.ohungarumlaut=337,ht.oi=419,ht.oinvertedbreve=527,ht.okatakana=12458,ht.okatakanahalfwidth=65397,ht.okorean=12631,ht.olehebrew=1451,ht.omacron=333,ht.omacronacute=7763,ht.omacrongrave=7761,ht.omdeva=2384,ht.omega=969,ht.omega1=982,ht.omegacyrillic=1121,ht.omegalatinclosed=631,ht.omegaroundcyrillic=1147,ht.omegatitlocyrillic=1149,ht.omegatonos=974,ht.omgujarati=2768,ht.omicron=959,ht.omicrontonos=972,ht.omonospace=65359,ht.one=49,ht.onearabic=1633,ht.onebengali=2535,ht.onecircle=9312,ht.onecircleinversesansserif=10122,ht.onedeva=2407,ht.onedotenleader=8228,ht.oneeighth=8539,ht.onefitted=63196,ht.onegujarati=2791,ht.onegurmukhi=2663,ht.onehackarabic=1633,ht.onehalf=189,ht.onehangzhou=12321,ht.oneideographicparen=12832,ht.oneinferior=8321,ht.onemonospace=65297,ht.onenumeratorbengali=2548,ht.oneoldstyle=63281,ht.oneparen=9332,ht.oneperiod=9352,ht.onepersian=1777,ht.onequarter=188,ht.oneroman=8560,ht.onesuperior=185,ht.onethai=3665,ht.onethird=8531,ht.oogonek=491,ht.oogonekmacron=493,ht.oogurmukhi=2579,ht.oomatragurmukhi=2635,ht.oopen=596,ht.oparen=9386,ht.openbullet=9702,ht.option=8997,ht.ordfeminine=170,ht.ordmasculine=186,ht.orthogonal=8735,ht.oshortdeva=2322,ht.oshortvowelsigndeva=2378,ht.oslash=248,ht.oslashacute=511,ht.osmallhiragana=12361,ht.osmallkatakana=12457,ht.osmallkatakanahalfwidth=65387,ht.ostrokeacute=511,ht.osuperior=63216,ht.otcyrillic=1151,ht.otilde=245,ht.otildeacute=7757,ht.otildedieresis=7759,ht.oubopomofo=12577,ht.overline=8254,ht.overlinecenterline=65098,ht.overlinecmb=773,ht.overlinedashed=65097,ht.overlinedblwavy=65100,ht.overlinewavy=65099,ht.overscore=175,ht.ovowelsignbengali=2507,ht.ovowelsigndeva=2379,ht.ovowelsigngujarati=2763,ht.p=112,ht.paampssquare=13184,ht.paasentosquare=13099,ht.pabengali=2474,ht.pacute=7765,ht.padeva=2346,ht.pagedown=8671,ht.pageup=8670,ht.pagujarati=2730,ht.pagurmukhi=2602,ht.pahiragana=12401,ht.paiyannoithai=3631,ht.pakatakana=12497,ht.palatalizationcyrilliccmb=1156,ht.palochkacyrillic=1216,ht.pansioskorean=12671,ht.paragraph=182,ht.parallel=8741,ht.parenleft=40,ht.parenleftaltonearabic=64830,ht.parenleftbt=63725,ht.parenleftex=63724,ht.parenleftinferior=8333,ht.parenleftmonospace=65288,ht.parenleftsmall=65113,ht.parenleftsuperior=8317,ht.parenlefttp=63723,ht.parenleftvertical=65077,ht.parenright=41,ht.parenrightaltonearabic=64831,ht.parenrightbt=63736,ht.parenrightex=63735,ht.parenrightinferior=8334,ht.parenrightmonospace=65289,ht.parenrightsmall=65114,ht.parenrightsuperior=8318,ht.parenrighttp=63734,ht.parenrightvertical=65078,ht.partialdiff=8706,ht.paseqhebrew=1472,ht.pashtahebrew=1433,ht.pasquare=13225,ht.patah=1463,ht.patah11=1463,ht.patah1d=1463,ht.patah2a=1463,ht.patahhebrew=1463,ht.patahnarrowhebrew=1463,ht.patahquarterhebrew=1463,ht.patahwidehebrew=1463,ht.pazerhebrew=1441,ht.pbopomofo=12550,ht.pcircle=9439,ht.pdotaccent=7767,ht.pe=1508,ht.pecyrillic=1087,ht.pedagesh=64324,ht.pedageshhebrew=64324,ht.peezisquare=13115,ht.pefinaldageshhebrew=64323,ht.peharabic=1662,ht.peharmenian=1402,ht.pehebrew=1508,ht.pehfinalarabic=64343,ht.pehinitialarabic=64344,ht.pehiragana=12410,ht.pehmedialarabic=64345,ht.pekatakana=12506,ht.pemiddlehookcyrillic=1191,ht.perafehebrew=64334,ht.percent=37,ht.percentarabic=1642,ht.percentmonospace=65285,ht.percentsmall=65130,ht.period=46,ht.periodarmenian=1417,ht.periodcentered=183,ht.periodhalfwidth=65377,ht.periodinferior=63207,ht.periodmonospace=65294,ht.periodsmall=65106,ht.periodsuperior=63208,ht.perispomenigreekcmb=834,ht.perpendicular=8869,ht.perthousand=8240,ht.peseta=8359,ht.pfsquare=13194,ht.phabengali=2475,ht.phadeva=2347,ht.phagujarati=2731,ht.phagurmukhi=2603,ht.phi=966,ht.phi1=981,ht.phieuphacirclekorean=12922,ht.phieuphaparenkorean=12826,ht.phieuphcirclekorean=12908,ht.phieuphkorean=12621,ht.phieuphparenkorean=12812,ht.philatin=632,ht.phinthuthai=3642,ht.phisymbolgreek=981,ht.phook=421,ht.phophanthai=3614,ht.phophungthai=3612,ht.phosamphaothai=3616,ht.pi=960,ht.pieupacirclekorean=12915,ht.pieupaparenkorean=12819,ht.pieupcieuckorean=12662,ht.pieupcirclekorean=12901,ht.pieupkiyeokkorean=12658,ht.pieupkorean=12610,ht.pieupparenkorean=12805,ht.pieupsioskiyeokkorean=12660,ht.pieupsioskorean=12612,ht.pieupsiostikeutkorean=12661,ht.pieupthieuthkorean=12663,ht.pieuptikeutkorean=12659,ht.pihiragana=12404,ht.pikatakana=12500,ht.pisymbolgreek=982,ht.piwrarmenian=1411,ht.planckover2pi=8463,ht.planckover2pi1=8463,ht.plus=43,ht.plusbelowcmb=799,ht.pluscircle=8853,ht.plusminus=177,ht.plusmod=726,ht.plusmonospace=65291,ht.plussmall=65122,ht.plussuperior=8314,ht.pmonospace=65360,ht.pmsquare=13272,ht.pohiragana=12413,ht.pointingindexdownwhite=9759,ht.pointingindexleftwhite=9756,ht.pointingindexrightwhite=9758,ht.pointingindexupwhite=9757,ht.pokatakana=12509,ht.poplathai=3611,ht.postalmark=12306,ht.postalmarkface=12320,ht.pparen=9387,ht.precedes=8826,ht.prescription=8478,ht.primemod=697,ht.primereversed=8245,ht.product=8719,ht.projective=8965,ht.prolongedkana=12540,ht.propellor=8984,ht.propersubset=8834,ht.propersuperset=8835,ht.proportion=8759,ht.proportional=8733,ht.psi=968,ht.psicyrillic=1137,ht.psilipneumatacyrilliccmb=1158,ht.pssquare=13232,ht.puhiragana=12407,ht.pukatakana=12503,ht.pvsquare=13236,ht.pwsquare=13242,ht.q=113,ht.qadeva=2392,ht.qadmahebrew=1448,ht.qafarabic=1602,ht.qaffinalarabic=65238,ht.qafinitialarabic=65239,ht.qafmedialarabic=65240,ht.qamats=1464,ht.qamats10=1464,ht.qamats1a=1464,ht.qamats1c=1464,ht.qamats27=1464,ht.qamats29=1464,ht.qamats33=1464,ht.qamatsde=1464,ht.qamatshebrew=1464,ht.qamatsnarrowhebrew=1464,ht.qamatsqatanhebrew=1464,ht.qamatsqatannarrowhebrew=1464,ht.qamatsqatanquarterhebrew=1464,ht.qamatsqatanwidehebrew=1464,ht.qamatsquarterhebrew=1464,ht.qamatswidehebrew=1464,ht.qarneyparahebrew=1439,ht.qbopomofo=12561,ht.qcircle=9440,ht.qhook=672,ht.qmonospace=65361,ht.qof=1511,ht.qofdagesh=64327,ht.qofdageshhebrew=64327,ht.qofhebrew=1511,ht.qparen=9388,ht.quarternote=9833,ht.qubuts=1467,ht.qubuts18=1467,ht.qubuts25=1467,ht.qubuts31=1467,ht.qubutshebrew=1467,ht.qubutsnarrowhebrew=1467,ht.qubutsquarterhebrew=1467,ht.qubutswidehebrew=1467,ht.question=63,ht.questionarabic=1567,ht.questionarmenian=1374,ht.questiondown=191,ht.questiondownsmall=63423,ht.questiongreek=894,ht.questionmonospace=65311,ht.questionsmall=63295,ht.quotedbl=34,ht.quotedblbase=8222,ht.quotedblleft=8220,ht.quotedblmonospace=65282,ht.quotedblprime=12318,ht.quotedblprimereversed=12317,ht.quotedblright=8221,ht.quoteleft=8216,ht.quoteleftreversed=8219,ht.quotereversed=8219,ht.quoteright=8217,ht.quoterightn=329,ht.quotesinglbase=8218,ht.quotesingle=39,ht.quotesinglemonospace=65287,ht.r=114,ht.raarmenian=1404,ht.rabengali=2480,ht.racute=341,ht.radeva=2352,ht.radical=8730,ht.radicalex=63717,ht.radoverssquare=13230,ht.radoverssquaredsquare=13231,ht.radsquare=13229,ht.rafe=1471,ht.rafehebrew=1471,ht.ragujarati=2736,ht.ragurmukhi=2608,ht.rahiragana=12425,ht.rakatakana=12521,ht.rakatakanahalfwidth=65431,ht.ralowerdiagonalbengali=2545,ht.ramiddlediagonalbengali=2544,ht.ramshorn=612,ht.ratio=8758,ht.rbopomofo=12566,ht.rcaron=345,ht.rcedilla=343,ht.rcircle=9441,ht.rcommaaccent=343,ht.rdblgrave=529,ht.rdotaccent=7769,ht.rdotbelow=7771,ht.rdotbelowmacron=7773,ht.referencemark=8251,ht.reflexsubset=8838,ht.reflexsuperset=8839,ht.registered=174,ht.registersans=63720,ht.registerserif=63194,ht.reharabic=1585,ht.reharmenian=1408,ht.rehfinalarabic=65198,ht.rehiragana=12428,ht.rekatakana=12524,ht.rekatakanahalfwidth=65434,ht.resh=1512,ht.reshdageshhebrew=64328,ht.reshhebrew=1512,ht.reversedtilde=8765,ht.reviahebrew=1431,ht.reviamugrashhebrew=1431,ht.revlogicalnot=8976,ht.rfishhook=638,ht.rfishhookreversed=639,ht.rhabengali=2525,ht.rhadeva=2397,ht.rho=961,ht.rhook=637,ht.rhookturned=635,ht.rhookturnedsuperior=693,ht.rhosymbolgreek=1009,ht.rhotichookmod=734,ht.rieulacirclekorean=12913,ht.rieulaparenkorean=12817,ht.rieulcirclekorean=12899,ht.rieulhieuhkorean=12608,ht.rieulkiyeokkorean=12602,ht.rieulkiyeoksioskorean=12649,ht.rieulkorean=12601,ht.rieulmieumkorean=12603,ht.rieulpansioskorean=12652,ht.rieulparenkorean=12803,ht.rieulphieuphkorean=12607,ht.rieulpieupkorean=12604,ht.rieulpieupsioskorean=12651,ht.rieulsioskorean=12605,ht.rieulthieuthkorean=12606,ht.rieultikeutkorean=12650,ht.rieulyeorinhieuhkorean=12653,ht.rightangle=8735,ht.righttackbelowcmb=793,ht.righttriangle=8895,ht.rihiragana=12426,ht.rikatakana=12522,ht.rikatakanahalfwidth=65432,ht.ring=730,ht.ringbelowcmb=805,ht.ringcmb=778,ht.ringhalfleft=703,ht.ringhalfleftarmenian=1369,ht.ringhalfleftbelowcmb=796,ht.ringhalfleftcentered=723,ht.ringhalfright=702,ht.ringhalfrightbelowcmb=825,ht.ringhalfrightcentered=722,ht.rinvertedbreve=531,ht.rittorusquare=13137,ht.rlinebelow=7775,ht.rlongleg=636,ht.rlonglegturned=634,ht.rmonospace=65362,ht.rohiragana=12429,ht.rokatakana=12525,ht.rokatakanahalfwidth=65435,ht.roruathai=3619,ht.rparen=9389,ht.rrabengali=2524,ht.rradeva=2353,ht.rragurmukhi=2652,ht.rreharabic=1681,ht.rrehfinalarabic=64397,ht.rrvocalicbengali=2528,ht.rrvocalicdeva=2400,ht.rrvocalicgujarati=2784,ht.rrvocalicvowelsignbengali=2500,ht.rrvocalicvowelsigndeva=2372,ht.rrvocalicvowelsigngujarati=2756,ht.rsuperior=63217,ht.rtblock=9616,ht.rturned=633,ht.rturnedsuperior=692,ht.ruhiragana=12427,ht.rukatakana=12523,ht.rukatakanahalfwidth=65433,ht.rupeemarkbengali=2546,ht.rupeesignbengali=2547,ht.rupiah=63197,ht.ruthai=3620,ht.rvocalicbengali=2443,ht.rvocalicdeva=2315,ht.rvocalicgujarati=2699,ht.rvocalicvowelsignbengali=2499,ht.rvocalicvowelsigndeva=2371,ht.rvocalicvowelsigngujarati=2755,ht.s=115,ht.sabengali=2488,ht.sacute=347,ht.sacutedotaccent=7781,ht.sadarabic=1589,ht.sadeva=2360,ht.sadfinalarabic=65210,ht.sadinitialarabic=65211,ht.sadmedialarabic=65212,ht.sagujarati=2744,ht.sagurmukhi=2616,ht.sahiragana=12373,ht.sakatakana=12469,ht.sakatakanahalfwidth=65403,ht.sallallahoualayhewasallamarabic=65018,ht.samekh=1505,ht.samekhdagesh=64321,ht.samekhdageshhebrew=64321,ht.samekhhebrew=1505,ht.saraaathai=3634,ht.saraaethai=3649,ht.saraaimaimalaithai=3652,ht.saraaimaimuanthai=3651,ht.saraamthai=3635,ht.saraathai=3632,ht.saraethai=3648,ht.saraiileftthai=63622,ht.saraiithai=3637,ht.saraileftthai=63621,ht.saraithai=3636,ht.saraothai=3650,ht.saraueeleftthai=63624,ht.saraueethai=3639,ht.saraueleftthai=63623,ht.sarauethai=3638,ht.sarauthai=3640,ht.sarauuthai=3641,ht.sbopomofo=12569,ht.scaron=353,ht.scarondotaccent=7783,ht.scedilla=351,ht.schwa=601,ht.schwacyrillic=1241,ht.schwadieresiscyrillic=1243,ht.schwahook=602,ht.scircle=9442,ht.scircumflex=349,ht.scommaaccent=537,ht.sdotaccent=7777,ht.sdotbelow=7779,ht.sdotbelowdotaccent=7785,ht.seagullbelowcmb=828,ht.second=8243,ht.secondtonechinese=714,ht.section=167,ht.seenarabic=1587,ht.seenfinalarabic=65202,ht.seeninitialarabic=65203,ht.seenmedialarabic=65204,ht.segol=1462,ht.segol13=1462,ht.segol1f=1462,ht.segol2c=1462,ht.segolhebrew=1462,ht.segolnarrowhebrew=1462,ht.segolquarterhebrew=1462,ht.segoltahebrew=1426,ht.segolwidehebrew=1462,ht.seharmenian=1405,ht.sehiragana=12379,ht.sekatakana=12475,ht.sekatakanahalfwidth=65406,ht.semicolon=59,ht.semicolonarabic=1563,ht.semicolonmonospace=65307,ht.semicolonsmall=65108,ht.semivoicedmarkkana=12444,ht.semivoicedmarkkanahalfwidth=65439,ht.sentisquare=13090,ht.sentosquare=13091,ht.seven=55,ht.sevenarabic=1639,ht.sevenbengali=2541,ht.sevencircle=9318,ht.sevencircleinversesansserif=10128,ht.sevendeva=2413,ht.seveneighths=8542,ht.sevengujarati=2797,ht.sevengurmukhi=2669,ht.sevenhackarabic=1639,ht.sevenhangzhou=12327,ht.sevenideographicparen=12838,ht.seveninferior=8327,ht.sevenmonospace=65303,ht.sevenoldstyle=63287,ht.sevenparen=9338,ht.sevenperiod=9358,ht.sevenpersian=1783,ht.sevenroman=8566,ht.sevensuperior=8311,ht.seventeencircle=9328,ht.seventeenparen=9348,ht.seventeenperiod=9368,ht.seventhai=3671,ht.sfthyphen=173,ht.shaarmenian=1399,ht.shabengali=2486,ht.shacyrillic=1096,ht.shaddaarabic=1617,ht.shaddadammaarabic=64609,ht.shaddadammatanarabic=64606,ht.shaddafathaarabic=64608,ht.shaddakasraarabic=64610,ht.shaddakasratanarabic=64607,ht.shade=9618,ht.shadedark=9619,ht.shadelight=9617,ht.shademedium=9618,ht.shadeva=2358,ht.shagujarati=2742,ht.shagurmukhi=2614,ht.shalshelethebrew=1427,ht.shbopomofo=12565,ht.shchacyrillic=1097,ht.sheenarabic=1588,ht.sheenfinalarabic=65206,ht.sheeninitialarabic=65207,ht.sheenmedialarabic=65208,ht.sheicoptic=995,ht.sheqel=8362,ht.sheqelhebrew=8362,ht.sheva=1456,ht.sheva115=1456,ht.sheva15=1456,ht.sheva22=1456,ht.sheva2e=1456,ht.shevahebrew=1456,ht.shevanarrowhebrew=1456,ht.shevaquarterhebrew=1456,ht.shevawidehebrew=1456,ht.shhacyrillic=1211,ht.shimacoptic=1005,ht.shin=1513,ht.shindagesh=64329,ht.shindageshhebrew=64329,ht.shindageshshindot=64300,ht.shindageshshindothebrew=64300,ht.shindageshsindot=64301,ht.shindageshsindothebrew=64301,ht.shindothebrew=1473,ht.shinhebrew=1513,ht.shinshindot=64298,ht.shinshindothebrew=64298,ht.shinsindot=64299,ht.shinsindothebrew=64299,ht.shook=642,ht.sigma=963,ht.sigma1=962,ht.sigmafinal=962,ht.sigmalunatesymbolgreek=1010,ht.sihiragana=12375,ht.sikatakana=12471,ht.sikatakanahalfwidth=65404,ht.siluqhebrew=1469,ht.siluqlefthebrew=1469,ht.similar=8764,ht.sindothebrew=1474,ht.siosacirclekorean=12916,ht.siosaparenkorean=12820,ht.sioscieuckorean=12670,ht.sioscirclekorean=12902,ht.sioskiyeokkorean=12666,ht.sioskorean=12613,ht.siosnieunkorean=12667,ht.siosparenkorean=12806,ht.siospieupkorean=12669,ht.siostikeutkorean=12668,ht.six=54,ht.sixarabic=1638,ht.sixbengali=2540,ht.sixcircle=9317,ht.sixcircleinversesansserif=10127,ht.sixdeva=2412,ht.sixgujarati=2796,ht.sixgurmukhi=2668,ht.sixhackarabic=1638,ht.sixhangzhou=12326,ht.sixideographicparen=12837,ht.sixinferior=8326,ht.sixmonospace=65302,ht.sixoldstyle=63286,ht.sixparen=9337,ht.sixperiod=9357,ht.sixpersian=1782,ht.sixroman=8565,ht.sixsuperior=8310,ht.sixteencircle=9327,ht.sixteencurrencydenominatorbengali=2553,ht.sixteenparen=9347,ht.sixteenperiod=9367,ht.sixthai=3670,ht.slash=47,ht.slashmonospace=65295,ht.slong=383,ht.slongdotaccent=7835,ht.smileface=9786,ht.smonospace=65363,ht.sofpasuqhebrew=1475,ht.softhyphen=173,ht.softsigncyrillic=1100,ht.sohiragana=12381,ht.sokatakana=12477,ht.sokatakanahalfwidth=65407,ht.soliduslongoverlaycmb=824,ht.solidusshortoverlaycmb=823,ht.sorusithai=3625,ht.sosalathai=3624,ht.sosothai=3595,ht.sosuathai=3626,ht.space=32,ht.spacehackarabic=32,ht.spade=9824,ht.spadesuitblack=9824,ht.spadesuitwhite=9828,ht.sparen=9390,ht.squarebelowcmb=827,ht.squarecc=13252,ht.squarecm=13213,ht.squarediagonalcrosshatchfill=9641,ht.squarehorizontalfill=9636,ht.squarekg=13199,ht.squarekm=13214,ht.squarekmcapital=13262,ht.squareln=13265,ht.squarelog=13266,ht.squaremg=13198,ht.squaremil=13269,ht.squaremm=13212,ht.squaremsquared=13217,ht.squareorthogonalcrosshatchfill=9638,ht.squareupperlefttolowerrightfill=9639,ht.squareupperrighttolowerleftfill=9640,ht.squareverticalfill=9637,ht.squarewhitewithsmallblack=9635,ht.srsquare=13275,ht.ssabengali=2487,ht.ssadeva=2359,ht.ssagujarati=2743,ht.ssangcieuckorean=12617,ht.ssanghieuhkorean=12677,ht.ssangieungkorean=12672,ht.ssangkiyeokkorean=12594,ht.ssangnieunkorean=12645,ht.ssangpieupkorean=12611,ht.ssangsioskorean=12614,ht.ssangtikeutkorean=12600,ht.ssuperior=63218,ht.sterling=163,ht.sterlingmonospace=65505,ht.strokelongoverlaycmb=822,ht.strokeshortoverlaycmb=821,ht.subset=8834,ht.subsetnotequal=8842,ht.subsetorequal=8838,ht.succeeds=8827,ht.suchthat=8715,ht.suhiragana=12377,ht.sukatakana=12473,ht.sukatakanahalfwidth=65405,ht.sukunarabic=1618,ht.summation=8721,ht.sun=9788,ht.superset=8835,ht.supersetnotequal=8843,ht.supersetorequal=8839,ht.svsquare=13276,ht.syouwaerasquare=13180,ht.t=116,ht.tabengali=2468,ht.tackdown=8868,ht.tackleft=8867,ht.tadeva=2340,ht.tagujarati=2724,ht.tagurmukhi=2596,ht.taharabic=1591,ht.tahfinalarabic=65218,ht.tahinitialarabic=65219,ht.tahiragana=12383,ht.tahmedialarabic=65220,ht.taisyouerasquare=13181,ht.takatakana=12479,ht.takatakanahalfwidth=65408,ht.tatweelarabic=1600,ht.tau=964,ht.tav=1514,ht.tavdages=64330,ht.tavdagesh=64330,ht.tavdageshhebrew=64330,ht.tavhebrew=1514,ht.tbar=359,ht.tbopomofo=12554,ht.tcaron=357,ht.tccurl=680,ht.tcedilla=355,ht.tcheharabic=1670,ht.tchehfinalarabic=64379,ht.tchehinitialarabic=64380,ht.tchehmedialarabic=64381,ht.tcircle=9443,ht.tcircumflexbelow=7793,ht.tcommaaccent=355,ht.tdieresis=7831,ht.tdotaccent=7787,ht.tdotbelow=7789,ht.tecyrillic=1090,ht.tedescendercyrillic=1197,ht.teharabic=1578,ht.tehfinalarabic=65174,ht.tehhahinitialarabic=64674,ht.tehhahisolatedarabic=64524,ht.tehinitialarabic=65175,ht.tehiragana=12390,ht.tehjeeminitialarabic=64673,ht.tehjeemisolatedarabic=64523,ht.tehmarbutaarabic=1577,ht.tehmarbutafinalarabic=65172,ht.tehmedialarabic=65176,ht.tehmeeminitialarabic=64676,ht.tehmeemisolatedarabic=64526,ht.tehnoonfinalarabic=64627,ht.tekatakana=12486,ht.tekatakanahalfwidth=65411,ht.telephone=8481,ht.telephoneblack=9742,ht.telishagedolahebrew=1440,ht.telishaqetanahebrew=1449,ht.tencircle=9321,ht.tenideographicparen=12841,ht.tenparen=9341,ht.tenperiod=9361,ht.tenroman=8569,ht.tesh=679,ht.tet=1496,ht.tetdagesh=64312,ht.tetdageshhebrew=64312,ht.tethebrew=1496,ht.tetsecyrillic=1205,ht.tevirhebrew=1435,ht.tevirlefthebrew=1435,ht.thabengali=2469,ht.thadeva=2341,ht.thagujarati=2725,ht.thagurmukhi=2597,ht.thalarabic=1584,ht.thalfinalarabic=65196,ht.thanthakhatlowleftthai=63640,ht.thanthakhatlowrightthai=63639,ht.thanthakhatthai=3660,ht.thanthakhatupperleftthai=63638,ht.theharabic=1579,ht.thehfinalarabic=65178,ht.thehinitialarabic=65179,ht.thehmedialarabic=65180,ht.thereexists=8707,ht.therefore=8756,ht.theta=952,ht.theta1=977,ht.thetasymbolgreek=977,ht.thieuthacirclekorean=12921,ht.thieuthaparenkorean=12825,ht.thieuthcirclekorean=12907,ht.thieuthkorean=12620,ht.thieuthparenkorean=12811,ht.thirteencircle=9324,ht.thirteenparen=9344,ht.thirteenperiod=9364,ht.thonangmonthothai=3601,ht.thook=429,ht.thophuthaothai=3602,ht.thorn=254,ht.thothahanthai=3607,ht.thothanthai=3600,ht.thothongthai=3608,ht.thothungthai=3606,ht.thousandcyrillic=1154,ht.thousandsseparatorarabic=1644,ht.thousandsseparatorpersian=1644,ht.three=51,ht.threearabic=1635,ht.threebengali=2537,ht.threecircle=9314,ht.threecircleinversesansserif=10124,ht.threedeva=2409,ht.threeeighths=8540,ht.threegujarati=2793,ht.threegurmukhi=2665,ht.threehackarabic=1635,ht.threehangzhou=12323,ht.threeideographicparen=12834,ht.threeinferior=8323,ht.threemonospace=65299,ht.threenumeratorbengali=2550,ht.threeoldstyle=63283,ht.threeparen=9334,ht.threeperiod=9354,ht.threepersian=1779,ht.threequarters=190,ht.threequartersemdash=63198,ht.threeroman=8562,ht.threesuperior=179,ht.threethai=3667,ht.thzsquare=13204,ht.tihiragana=12385,ht.tikatakana=12481,ht.tikatakanahalfwidth=65409,ht.tikeutacirclekorean=12912,ht.tikeutaparenkorean=12816,ht.tikeutcirclekorean=12898,ht.tikeutkorean=12599,ht.tikeutparenkorean=12802,ht.tilde=732,ht.tildebelowcmb=816,ht.tildecmb=771,ht.tildecomb=771,ht.tildedoublecmb=864,ht.tildeoperator=8764,ht.tildeoverlaycmb=820,ht.tildeverticalcmb=830,ht.timescircle=8855,ht.tipehahebrew=1430,ht.tipehalefthebrew=1430,ht.tippigurmukhi=2672,ht.titlocyrilliccmb=1155,ht.tiwnarmenian=1407,ht.tlinebelow=7791,ht.tmonospace=65364,ht.toarmenian=1385,ht.tohiragana=12392,ht.tokatakana=12488,ht.tokatakanahalfwidth=65412,ht.tonebarextrahighmod=741,ht.tonebarextralowmod=745,ht.tonebarhighmod=742,ht.tonebarlowmod=744,ht.tonebarmidmod=743,ht.tonefive=445,ht.tonesix=389,ht.tonetwo=424,ht.tonos=900,ht.tonsquare=13095,ht.topatakthai=3599,ht.tortoiseshellbracketleft=12308,ht.tortoiseshellbracketleftsmall=65117,ht.tortoiseshellbracketleftvertical=65081,ht.tortoiseshellbracketright=12309,ht.tortoiseshellbracketrightsmall=65118,ht.tortoiseshellbracketrightvertical=65082,ht.totaothai=3605,ht.tpalatalhook=427,ht.tparen=9391,ht.trademark=8482,ht.trademarksans=63722,ht.trademarkserif=63195,ht.tretroflexhook=648,ht.triagdn=9660,ht.triaglf=9668,ht.triagrt=9658,ht.triagup=9650,ht.ts=678,ht.tsadi=1510,ht.tsadidagesh=64326,ht.tsadidageshhebrew=64326,ht.tsadihebrew=1510,ht.tsecyrillic=1094,ht.tsere=1461,ht.tsere12=1461,ht.tsere1e=1461,ht.tsere2b=1461,ht.tserehebrew=1461,ht.tserenarrowhebrew=1461,ht.tserequarterhebrew=1461,ht.tserewidehebrew=1461,ht.tshecyrillic=1115,ht.tsuperior=63219,ht.ttabengali=2463,ht.ttadeva=2335,ht.ttagujarati=2719,ht.ttagurmukhi=2591,ht.tteharabic=1657,ht.ttehfinalarabic=64359,ht.ttehinitialarabic=64360,ht.ttehmedialarabic=64361,ht.tthabengali=2464,ht.tthadeva=2336,ht.tthagujarati=2720,ht.tthagurmukhi=2592,ht.tturned=647,ht.tuhiragana=12388,ht.tukatakana=12484,ht.tukatakanahalfwidth=65410,ht.tusmallhiragana=12387,ht.tusmallkatakana=12483,ht.tusmallkatakanahalfwidth=65391,ht.twelvecircle=9323,ht.twelveparen=9343,ht.twelveperiod=9363,ht.twelveroman=8571,ht.twentycircle=9331,ht.twentyhangzhou=21316,ht.twentyparen=9351,ht.twentyperiod=9371,ht.two=50,ht.twoarabic=1634,ht.twobengali=2536,ht.twocircle=9313,ht.twocircleinversesansserif=10123,ht.twodeva=2408,ht.twodotenleader=8229,ht.twodotleader=8229,ht.twodotleadervertical=65072,ht.twogujarati=2792,ht.twogurmukhi=2664,ht.twohackarabic=1634,ht.twohangzhou=12322,ht.twoideographicparen=12833,ht.twoinferior=8322,ht.twomonospace=65298,ht.twonumeratorbengali=2549,ht.twooldstyle=63282,ht.twoparen=9333,ht.twoperiod=9353,ht.twopersian=1778,ht.tworoman=8561,ht.twostroke=443,ht.twosuperior=178,ht.twothai=3666,ht.twothirds=8532,ht.u=117,ht.uacute=250,ht.ubar=649,ht.ubengali=2441,ht.ubopomofo=12584,ht.ubreve=365,ht.ucaron=468,ht.ucircle=9444,ht.ucircumflex=251,ht.ucircumflexbelow=7799,ht.ucyrillic=1091,ht.udattadeva=2385,ht.udblacute=369,ht.udblgrave=533,ht.udeva=2313,ht.udieresis=252,ht.udieresisacute=472,ht.udieresisbelow=7795,ht.udieresiscaron=474,ht.udieresiscyrillic=1265,ht.udieresisgrave=476,ht.udieresismacron=470,ht.udotbelow=7909,ht.ugrave=249,ht.ugujarati=2697,ht.ugurmukhi=2569,ht.uhiragana=12358,ht.uhookabove=7911,ht.uhorn=432,ht.uhornacute=7913,ht.uhorndotbelow=7921,ht.uhorngrave=7915,ht.uhornhookabove=7917,ht.uhorntilde=7919,ht.uhungarumlaut=369,ht.uhungarumlautcyrillic=1267,ht.uinvertedbreve=535,ht.ukatakana=12454,ht.ukatakanahalfwidth=65395,ht.ukcyrillic=1145,ht.ukorean=12636,ht.umacron=363,ht.umacroncyrillic=1263,ht.umacrondieresis=7803,ht.umatragurmukhi=2625,ht.umonospace=65365,ht.underscore=95,ht.underscoredbl=8215,ht.underscoremonospace=65343,ht.underscorevertical=65075,ht.underscorewavy=65103,ht.union=8746,ht.universal=8704,ht.uogonek=371,ht.uparen=9392,ht.upblock=9600,ht.upperdothebrew=1476,ht.upsilon=965,ht.upsilondieresis=971,ht.upsilondieresistonos=944,ht.upsilonlatin=650,ht.upsilontonos=973,ht.uptackbelowcmb=797,ht.uptackmod=724,ht.uragurmukhi=2675,ht.uring=367,ht.ushortcyrillic=1118,ht.usmallhiragana=12357,ht.usmallkatakana=12453,ht.usmallkatakanahalfwidth=65385,ht.ustraightcyrillic=1199,ht.ustraightstrokecyrillic=1201,ht.utilde=361,ht.utildeacute=7801,ht.utildebelow=7797,ht.uubengali=2442,ht.uudeva=2314,ht.uugujarati=2698,ht.uugurmukhi=2570,ht.uumatragurmukhi=2626,ht.uuvowelsignbengali=2498,ht.uuvowelsigndeva=2370,ht.uuvowelsigngujarati=2754,ht.uvowelsignbengali=2497,ht.uvowelsigndeva=2369,ht.uvowelsigngujarati=2753,ht.v=118,ht.vadeva=2357,ht.vagujarati=2741,ht.vagurmukhi=2613,ht.vakatakana=12535,ht.vav=1493,ht.vavdagesh=64309,ht.vavdagesh65=64309,ht.vavdageshhebrew=64309,ht.vavhebrew=1493,ht.vavholam=64331,ht.vavholamhebrew=64331,ht.vavvavhebrew=1520,ht.vavyodhebrew=1521,ht.vcircle=9445,ht.vdotbelow=7807,ht.vecyrillic=1074,ht.veharabic=1700,ht.vehfinalarabic=64363,ht.vehinitialarabic=64364,ht.vehmedialarabic=64365,ht.vekatakana=12537,ht.venus=9792,ht.verticalbar=124,ht.verticallineabovecmb=781,ht.verticallinebelowcmb=809,ht.verticallinelowmod=716,ht.verticallinemod=712,ht.vewarmenian=1406,ht.vhook=651,ht.vikatakana=12536,ht.viramabengali=2509,ht.viramadeva=2381,ht.viramagujarati=2765,ht.visargabengali=2435,ht.visargadeva=2307,ht.visargagujarati=2691,ht.vmonospace=65366,ht.voarmenian=1400,ht.voicediterationhiragana=12446,ht.voicediterationkatakana=12542,ht.voicedmarkkana=12443,ht.voicedmarkkanahalfwidth=65438,ht.vokatakana=12538,ht.vparen=9393,ht.vtilde=7805,ht.vturned=652,ht.vuhiragana=12436,ht.vukatakana=12532,ht.w=119,ht.wacute=7811,ht.waekorean=12633,ht.wahiragana=12431,ht.wakatakana=12527,ht.wakatakanahalfwidth=65436,ht.wakorean=12632,ht.wasmallhiragana=12430,ht.wasmallkatakana=12526,ht.wattosquare=13143,ht.wavedash=12316,ht.wavyunderscorevertical=65076,ht.wawarabic=1608,ht.wawfinalarabic=65262,ht.wawhamzaabovearabic=1572,ht.wawhamzaabovefinalarabic=65158,ht.wbsquare=13277,ht.wcircle=9446,ht.wcircumflex=373,ht.wdieresis=7813,ht.wdotaccent=7815,ht.wdotbelow=7817,ht.wehiragana=12433,ht.weierstrass=8472,ht.wekatakana=12529,ht.wekorean=12638,ht.weokorean=12637,ht.wgrave=7809,ht.whitebullet=9702,ht.whitecircle=9675,ht.whitecircleinverse=9689,ht.whitecornerbracketleft=12302,ht.whitecornerbracketleftvertical=65091,ht.whitecornerbracketright=12303,ht.whitecornerbracketrightvertical=65092,ht.whitediamond=9671,ht.whitediamondcontainingblacksmalldiamond=9672,ht.whitedownpointingsmalltriangle=9663,ht.whitedownpointingtriangle=9661,ht.whiteleftpointingsmalltriangle=9667,ht.whiteleftpointingtriangle=9665,ht.whitelenticularbracketleft=12310,ht.whitelenticularbracketright=12311,ht.whiterightpointingsmalltriangle=9657,ht.whiterightpointingtriangle=9655,ht.whitesmallsquare=9643,ht.whitesmilingface=9786,ht.whitesquare=9633,ht.whitestar=9734,ht.whitetelephone=9743,ht.whitetortoiseshellbracketleft=12312,ht.whitetortoiseshellbracketright=12313,ht.whiteuppointingsmalltriangle=9653,ht.whiteuppointingtriangle=9651,ht.wihiragana=12432,ht.wikatakana=12528,ht.wikorean=12639,ht.wmonospace=65367,ht.wohiragana=12434,ht.wokatakana=12530,ht.wokatakanahalfwidth=65382,ht.won=8361,ht.wonmonospace=65510,ht.wowaenthai=3623,ht.wparen=9394,ht.wring=7832,ht.wsuperior=695,ht.wturned=653,ht.wynn=447,ht.x=120,ht.xabovecmb=829,ht.xbopomofo=12562,ht.xcircle=9447,ht.xdieresis=7821,ht.xdotaccent=7819,ht.xeharmenian=1389,ht.xi=958,ht.xmonospace=65368,ht.xparen=9395,ht.xsuperior=739,ht.y=121,ht.yaadosquare=13134,ht.yabengali=2479,ht.yacute=253,ht.yadeva=2351,ht.yaekorean=12626,ht.yagujarati=2735,ht.yagurmukhi=2607,ht.yahiragana=12420,ht.yakatakana=12516,ht.yakatakanahalfwidth=65428,ht.yakorean=12625,ht.yamakkanthai=3662,ht.yasmallhiragana=12419,ht.yasmallkatakana=12515,ht.yasmallkatakanahalfwidth=65388,ht.yatcyrillic=1123,ht.ycircle=9448,ht.ycircumflex=375,ht.ydieresis=255,ht.ydotaccent=7823,ht.ydotbelow=7925,ht.yeharabic=1610,ht.yehbarreearabic=1746,ht.yehbarreefinalarabic=64431,ht.yehfinalarabic=65266,ht.yehhamzaabovearabic=1574,ht.yehhamzaabovefinalarabic=65162,ht.yehhamzaaboveinitialarabic=65163,ht.yehhamzaabovemedialarabic=65164,ht.yehinitialarabic=65267,ht.yehmedialarabic=65268,ht.yehmeeminitialarabic=64733,ht.yehmeemisolatedarabic=64600,ht.yehnoonfinalarabic=64660,ht.yehthreedotsbelowarabic=1745,ht.yekorean=12630,ht.yen=165,ht.yenmonospace=65509,ht.yeokorean=12629,ht.yeorinhieuhkorean=12678,ht.yerahbenyomohebrew=1450,ht.yerahbenyomolefthebrew=1450,ht.yericyrillic=1099,ht.yerudieresiscyrillic=1273,ht.yesieungkorean=12673,ht.yesieungpansioskorean=12675,ht.yesieungsioskorean=12674,ht.yetivhebrew=1434,ht.ygrave=7923,ht.yhook=436,ht.yhookabove=7927,ht.yiarmenian=1397,ht.yicyrillic=1111,ht.yikorean=12642,ht.yinyang=9775,ht.yiwnarmenian=1410,ht.ymonospace=65369,ht.yod=1497,ht.yoddagesh=64313,ht.yoddageshhebrew=64313,ht.yodhebrew=1497,ht.yodyodhebrew=1522,ht.yodyodpatahhebrew=64287,ht.yohiragana=12424,ht.yoikorean=12681,ht.yokatakana=12520,ht.yokatakanahalfwidth=65430,ht.yokorean=12635,ht.yosmallhiragana=12423,ht.yosmallkatakana=12519,ht.yosmallkatakanahalfwidth=65390,ht.yotgreek=1011,ht.yoyaekorean=12680,ht.yoyakorean=12679,ht.yoyakthai=3618,ht.yoyingthai=3597,ht.yparen=9396,ht.ypogegrammeni=890,ht.ypogegrammenigreekcmb=837,ht.yr=422,ht.yring=7833,ht.ysuperior=696,ht.ytilde=7929,ht.yturned=654,ht.yuhiragana=12422,ht.yuikorean=12684,ht.yukatakana=12518,ht.yukatakanahalfwidth=65429,ht.yukorean=12640,ht.yusbigcyrillic=1131,ht.yusbigiotifiedcyrillic=1133,ht.yuslittlecyrillic=1127,ht.yuslittleiotifiedcyrillic=1129,ht.yusmallhiragana=12421,ht.yusmallkatakana=12517,ht.yusmallkatakanahalfwidth=65389,ht.yuyekorean=12683,ht.yuyeokorean=12682,ht.yyabengali=2527,ht.yyadeva=2399,ht.z=122,ht.zaarmenian=1382,ht.zacute=378,ht.zadeva=2395,ht.zagurmukhi=2651,ht.zaharabic=1592,ht.zahfinalarabic=65222,ht.zahinitialarabic=65223,ht.zahiragana=12374,ht.zahmedialarabic=65224,ht.zainarabic=1586,ht.zainfinalarabic=65200,ht.zakatakana=12470,ht.zaqefgadolhebrew=1429,ht.zaqefqatanhebrew=1428,ht.zarqahebrew=1432,ht.zayin=1494,ht.zayindagesh=64310,ht.zayindageshhebrew=64310,ht.zayinhebrew=1494,ht.zbopomofo=12567,ht.zcaron=382,ht.zcircle=9449,ht.zcircumflex=7825,ht.zcurl=657,ht.zdot=380,ht.zdotaccent=380,ht.zdotbelow=7827,ht.zecyrillic=1079,ht.zedescendercyrillic=1177,ht.zedieresiscyrillic=1247,ht.zehiragana=12380,ht.zekatakana=12476,ht.zero=48,ht.zeroarabic=1632,ht.zerobengali=2534,ht.zerodeva=2406,ht.zerogujarati=2790,ht.zerogurmukhi=2662,ht.zerohackarabic=1632,ht.zeroinferior=8320,ht.zeromonospace=65296,ht.zerooldstyle=63280,ht.zeropersian=1776,ht.zerosuperior=8304,ht.zerothai=3664,ht.zerowidthjoiner=65279,ht.zerowidthnonjoiner=8204,ht.zerowidthspace=8203,ht.zeta=950,ht.zhbopomofo=12563,ht.zhearmenian=1386,ht.zhebrevecyrillic=1218,ht.zhecyrillic=1078,ht.zhedescendercyrillic=1175,ht.zhedieresiscyrillic=1245,ht.zihiragana=12376,ht.zikatakana=12472,ht.zinorhebrew=1454,ht.zlinebelow=7829,ht.zmonospace=65370,ht.zohiragana=12382,ht.zokatakana=12478,ht.zparen=9397,ht.zretroflexhook=656,ht.zstroke=438,ht.zuhiragana=12378,ht.zukatakana=12474,ht[".notdef"]=0,ht.angbracketleftbig=9001,ht.angbracketleftBig=9001,ht.angbracketleftbigg=9001,ht.angbracketleftBigg=9001,ht.angbracketrightBig=9002,ht.angbracketrightbig=9002,ht.angbracketrightBigg=9002,ht.angbracketrightbigg=9002,ht.arrowhookleft=8618,ht.arrowhookright=8617,ht.arrowlefttophalf=8636,ht.arrowleftbothalf=8637,ht.arrownortheast=8599,ht.arrownorthwest=8598,ht.arrowrighttophalf=8640,ht.arrowrightbothalf=8641,ht.arrowsoutheast=8600,ht.arrowsouthwest=8601,ht.backslashbig=8726,ht.backslashBig=8726,ht.backslashBigg=8726,ht.backslashbigg=8726,ht.bardbl=8214,ht.bracehtipdownleft=65079,ht.bracehtipdownright=65079,ht.bracehtipupleft=65080,ht.bracehtipupright=65080,ht.braceleftBig=123,ht.braceleftbig=123,ht.braceleftbigg=123,ht.braceleftBigg=123,ht.bracerightBig=125,ht.bracerightbig=125,ht.bracerightbigg=125,ht.bracerightBigg=125,ht.bracketleftbig=91,ht.bracketleftBig=91,ht.bracketleftbigg=91,ht.bracketleftBigg=91,ht.bracketrightBig=93,ht.bracketrightbig=93,ht.bracketrightbigg=93,ht.bracketrightBigg=93,ht.ceilingleftbig=8968,ht.ceilingleftBig=8968,ht.ceilingleftBigg=8968,ht.ceilingleftbigg=8968,ht.ceilingrightbig=8969,ht.ceilingrightBig=8969,ht.ceilingrightbigg=8969,ht.ceilingrightBigg=8969,ht.circledotdisplay=8857,ht.circledottext=8857,ht.circlemultiplydisplay=8855,ht.circlemultiplytext=8855,ht.circleplusdisplay=8853,ht.circleplustext=8853,ht.contintegraldisplay=8750,ht.contintegraltext=8750,ht.coproductdisplay=8720,ht.coproducttext=8720,ht.floorleftBig=8970,ht.floorleftbig=8970,ht.floorleftbigg=8970,ht.floorleftBigg=8970,ht.floorrightbig=8971,ht.floorrightBig=8971,ht.floorrightBigg=8971,ht.floorrightbigg=8971,ht.hatwide=770,ht.hatwider=770,ht.hatwidest=770,ht.intercal=7488,ht.integraldisplay=8747,ht.integraltext=8747,ht.intersectiondisplay=8898,ht.intersectiontext=8898,ht.logicalanddisplay=8743,ht.logicalandtext=8743,ht.logicalordisplay=8744,ht.logicalortext=8744,ht.parenleftBig=40,ht.parenleftbig=40,ht.parenleftBigg=40,ht.parenleftbigg=40,ht.parenrightBig=41,ht.parenrightbig=41,ht.parenrightBigg=41,ht.parenrightbigg=41,ht.prime=8242,ht.productdisplay=8719,ht.producttext=8719,ht.radicalbig=8730,ht.radicalBig=8730,ht.radicalBigg=8730,ht.radicalbigg=8730,ht.radicalbt=8730,ht.radicaltp=8730,ht.radicalvertex=8730,ht.slashbig=47,ht.slashBig=47,ht.slashBigg=47,ht.slashbigg=47,ht.summationdisplay=8721,ht.summationtext=8721,ht.tildewide=732,ht.tildewider=732,ht.tildewidest=732,ht.uniondisplay=8899,ht.unionmultidisplay=8846,ht.unionmultitext=8846,ht.unionsqdisplay=8852,ht.unionsqtext=8852,ht.uniontext=8899,ht.vextenddouble=8741,ht.vextendsingle=8739});Ct.getGlyphsUnicode=kt;const Rt=(0,wt.getLookupTableFactory)(function(ht){ht.space=32,ht.a1=9985,ht.a2=9986,ht.a202=9987,ht.a3=9988,ht.a4=9742,ht.a5=9990,ht.a119=9991,ht.a118=9992,ht.a117=9993,ht.a11=9755,ht.a12=9758,ht.a13=9996,ht.a14=9997,ht.a15=9998,ht.a16=9999,ht.a105=1e4,ht.a17=10001,ht.a18=10002,ht.a19=10003,ht.a20=10004,ht.a21=10005,ht.a22=10006,ht.a23=10007,ht.a24=10008,ht.a25=10009,ht.a26=10010,ht.a27=10011,ht.a28=10012,ht.a6=10013,ht.a7=10014,ht.a8=10015,ht.a9=10016,ht.a10=10017,ht.a29=10018,ht.a30=10019,ht.a31=10020,ht.a32=10021,ht.a33=10022,ht.a34=10023,ht.a35=9733,ht.a36=10025,ht.a37=10026,ht.a38=10027,ht.a39=10028,ht.a40=10029,ht.a41=10030,ht.a42=10031,ht.a43=10032,ht.a44=10033,ht.a45=10034,ht.a46=10035,ht.a47=10036,ht.a48=10037,ht.a49=10038,ht.a50=10039,ht.a51=10040,ht.a52=10041,ht.a53=10042,ht.a54=10043,ht.a55=10044,ht.a56=10045,ht.a57=10046,ht.a58=10047,ht.a59=10048,ht.a60=10049,ht.a61=10050,ht.a62=10051,ht.a63=10052,ht.a64=10053,ht.a65=10054,ht.a66=10055,ht.a67=10056,ht.a68=10057,ht.a69=10058,ht.a70=10059,ht.a71=9679,ht.a72=10061,ht.a73=9632,ht.a74=10063,ht.a203=10064,ht.a75=10065,ht.a204=10066,ht.a76=9650,ht.a77=9660,ht.a78=9670,ht.a79=10070,ht.a81=9687,ht.a82=10072,ht.a83=10073,ht.a84=10074,ht.a97=10075,ht.a98=10076,ht.a99=10077,ht.a100=10078,ht.a101=10081,ht.a102=10082,ht.a103=10083,ht.a104=10084,ht.a106=10085,ht.a107=10086,ht.a108=10087,ht.a112=9827,ht.a111=9830,ht.a110=9829,ht.a109=9824,ht.a120=9312,ht.a121=9313,ht.a122=9314,ht.a123=9315,ht.a124=9316,ht.a125=9317,ht.a126=9318,ht.a127=9319,ht.a128=9320,ht.a129=9321,ht.a130=10102,ht.a131=10103,ht.a132=10104,ht.a133=10105,ht.a134=10106,ht.a135=10107,ht.a136=10108,ht.a137=10109,ht.a138=10110,ht.a139=10111,ht.a140=10112,ht.a141=10113,ht.a142=10114,ht.a143=10115,ht.a144=10116,ht.a145=10117,ht.a146=10118,ht.a147=10119,ht.a148=10120,ht.a149=10121,ht.a150=10122,ht.a151=10123,ht.a152=10124,ht.a153=10125,ht.a154=10126,ht.a155=10127,ht.a156=10128,ht.a157=10129,ht.a158=10130,ht.a159=10131,ht.a160=10132,ht.a161=8594,ht.a163=8596,ht.a164=8597,ht.a196=10136,ht.a165=10137,ht.a192=10138,ht.a166=10139,ht.a167=10140,ht.a168=10141,ht.a169=10142,ht.a170=10143,ht.a171=10144,ht.a172=10145,ht.a173=10146,ht.a162=10147,ht.a174=10148,ht.a175=10149,ht.a176=10150,ht.a177=10151,ht.a178=10152,ht.a179=10153,ht.a193=10154,ht.a180=10155,ht.a199=10156,ht.a181=10157,ht.a200=10158,ht.a182=10159,ht.a201=10161,ht.a183=10162,ht.a184=10163,ht.a197=10164,ht.a185=10165,ht.a194=10166,ht.a198=10167,ht.a186=10168,ht.a195=10169,ht.a187=10170,ht.a188=10171,ht.a189=10172,ht.a190=10173,ht.a191=10174,ht.a89=10088,ht.a90=10089,ht.a93=10090,ht.a94=10091,ht.a91=10092,ht.a92=10093,ht.a205=10094,ht.a85=10095,ht.a206=10096,ht.a86=10097,ht.a87=10098,ht.a88=10099,ht.a95=10100,ht.a96=10101,ht[".notdef"]=0});Ct.getDingbatsGlyphsUnicode=Rt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.clearUnicodeCaches=$t,Ct.getCharUnicodeCategory=Nt,Ct.getUnicodeForGlyph=ht,Ct.getUnicodeRangeFor=Ft,Ct.mapSpecialUnicodeValues=Rt;var wt=Pt(3);const kt=(0,wt.getLookupTableFactory)(function(Mt){Mt[63721]=169,Mt[63193]=169,Mt[63720]=174,Mt[63194]=174,Mt[63722]=8482,Mt[63195]=8482,Mt[63729]=9127,Mt[63730]=9128,Mt[63731]=9129,Mt[63740]=9131,Mt[63741]=9132,Mt[63742]=9133,Mt[63726]=9121,Mt[63727]=9122,Mt[63728]=9123,Mt[63737]=9124,Mt[63738]=9125,Mt[63739]=9126,Mt[63723]=9115,Mt[63724]=9116,Mt[63725]=9117,Mt[63734]=9118,Mt[63735]=9119,Mt[63736]=9120});function Rt(Mt){return Mt>=65520&&Mt<=65535?0:Mt>=62976&&Mt<=63743?kt()[Mt]||Mt:Mt===173?45:Mt}function ht(Mt,Bt){let _t=Bt[Mt];if(_t!==void 0)return _t;if(!Mt)return-1;if(Mt[0]==="u"){const Kt=Mt.length;let jt;if(Kt===7&&Mt[1]==="n"&&Mt[2]==="i")jt=Mt.substring(3);else if(Kt>=5&&Kt<=7)jt=Mt.substring(1);else return-1;if(jt===jt.toUpperCase()&&(_t=parseInt(jt,16),_t>=0))return _t}return-1}const vt=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function Ft(Mt,Bt=-1){if(Bt!==-1){const _t=vt[Bt];for(let Kt=0,jt=_t.length;Kt<jt;Kt+=2)if(Mt>=_t[Kt]&&Mt<=_t[Kt+1])return Bt}for(let _t=0,Kt=vt.length;_t<Kt;_t++){const jt=vt[_t];for(let Gt=0,Qt=jt.length;Gt<Qt;Gt+=2)if(Mt>=jt[Gt]&&Mt<=jt[Gt+1])return _t}return-1}const Ht=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),qt=new Map;function Nt(Mt){const Bt=qt.get(Mt);if(Bt)return Bt;const _t=Mt.match(Ht),Kt={isWhitespace:!!(_t!=null&&_t[1]),isZeroWidthDiacritic:!!(_t!=null&&_t[2]),isInvisibleFormatMark:!!(_t!=null&&_t[3])};return qt.set(Mt,Kt),Kt}function $t(){qt.clear()}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.getSerifFonts=Ct.getNonStdFontMap=Ct.getGlyphMapForStandardFonts=Ct.getFontNameToFileMap=void 0,Ct.getStandardFontName=Mt,Ct.getSymbolsFonts=Ct.getSupplementalGlyphMapForCalibri=Ct.getSupplementalGlyphMapForArialBlack=Ct.getStdFontMap=void 0,Ct.isKnownFontName=Bt;var wt=Pt(3),kt=Pt(38);const Rt=(0,wt.getLookupTableFactory)(function(_t){_t["Times-Roman"]="Times-Roman",_t.Helvetica="Helvetica",_t.Courier="Courier",_t.Symbol="Symbol",_t["Times-Bold"]="Times-Bold",_t["Helvetica-Bold"]="Helvetica-Bold",_t["Courier-Bold"]="Courier-Bold",_t.ZapfDingbats="ZapfDingbats",_t["Times-Italic"]="Times-Italic",_t["Helvetica-Oblique"]="Helvetica-Oblique",_t["Courier-Oblique"]="Courier-Oblique",_t["Times-BoldItalic"]="Times-BoldItalic",_t["Helvetica-BoldOblique"]="Helvetica-BoldOblique",_t["Courier-BoldOblique"]="Courier-BoldOblique",_t.ArialNarrow="Helvetica",_t["ArialNarrow-Bold"]="Helvetica-Bold",_t["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",_t["ArialNarrow-Italic"]="Helvetica-Oblique",_t.ArialBlack="Helvetica",_t["ArialBlack-Bold"]="Helvetica-Bold",_t["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",_t["ArialBlack-Italic"]="Helvetica-Oblique",_t["Arial-Black"]="Helvetica",_t["Arial-Black-Bold"]="Helvetica-Bold",_t["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",_t["Arial-Black-Italic"]="Helvetica-Oblique",_t.Arial="Helvetica",_t["Arial-Bold"]="Helvetica-Bold",_t["Arial-BoldItalic"]="Helvetica-BoldOblique",_t["Arial-Italic"]="Helvetica-Oblique",_t.ArialMT="Helvetica",_t["Arial-BoldItalicMT"]="Helvetica-BoldOblique",_t["Arial-BoldMT"]="Helvetica-Bold",_t["Arial-ItalicMT"]="Helvetica-Oblique",_t["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",_t["Arial-BoldMT-Bold"]="Helvetica-Bold",_t["Arial-ItalicMT-Italic"]="Helvetica-Oblique",_t.ArialUnicodeMS="Helvetica",_t["ArialUnicodeMS-Bold"]="Helvetica-Bold",_t["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",_t["ArialUnicodeMS-Italic"]="Helvetica-Oblique",_t["Courier-BoldItalic"]="Courier-BoldOblique",_t["Courier-Italic"]="Courier-Oblique",_t.CourierNew="Courier",_t["CourierNew-Bold"]="Courier-Bold",_t["CourierNew-BoldItalic"]="Courier-BoldOblique",_t["CourierNew-Italic"]="Courier-Oblique",_t["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",_t["CourierNewPS-BoldMT"]="Courier-Bold",_t["CourierNewPS-ItalicMT"]="Courier-Oblique",_t.CourierNewPSMT="Courier",_t["Helvetica-BoldItalic"]="Helvetica-BoldOblique",_t["Helvetica-Italic"]="Helvetica-Oblique",_t["Symbol-Bold"]="Symbol",_t["Symbol-BoldItalic"]="Symbol",_t["Symbol-Italic"]="Symbol",_t.TimesNewRoman="Times-Roman",_t["TimesNewRoman-Bold"]="Times-Bold",_t["TimesNewRoman-BoldItalic"]="Times-BoldItalic",_t["TimesNewRoman-Italic"]="Times-Italic",_t.TimesNewRomanPS="Times-Roman",_t["TimesNewRomanPS-Bold"]="Times-Bold",_t["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",_t["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",_t["TimesNewRomanPS-BoldMT"]="Times-Bold",_t["TimesNewRomanPS-Italic"]="Times-Italic",_t["TimesNewRomanPS-ItalicMT"]="Times-Italic",_t.TimesNewRomanPSMT="Times-Roman",_t["TimesNewRomanPSMT-Bold"]="Times-Bold",_t["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",_t["TimesNewRomanPSMT-Italic"]="Times-Italic"});Ct.getStdFontMap=Rt;const ht=(0,wt.getLookupTableFactory)(function(_t){_t.Courier="FoxitFixed.pfb",_t["Courier-Bold"]="FoxitFixedBold.pfb",_t["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",_t["Courier-Oblique"]="FoxitFixedItalic.pfb",_t.Helvetica="LiberationSans-Regular.ttf",_t["Helvetica-Bold"]="LiberationSans-Bold.ttf",_t["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",_t["Helvetica-Oblique"]="LiberationSans-Italic.ttf",_t["Times-Roman"]="FoxitSerif.pfb",_t["Times-Bold"]="FoxitSerifBold.pfb",_t["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",_t["Times-Italic"]="FoxitSerifItalic.pfb",_t.Symbol="FoxitSymbol.pfb",_t.ZapfDingbats="FoxitDingbats.pfb",_t["LiberationSans-Regular"]="LiberationSans-Regular.ttf",_t["LiberationSans-Bold"]="LiberationSans-Bold.ttf",_t["LiberationSans-Italic"]="LiberationSans-Italic.ttf",_t["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});Ct.getFontNameToFileMap=ht;const vt=(0,wt.getLookupTableFactory)(function(_t){_t.Calibri="Helvetica",_t["Calibri-Bold"]="Helvetica-Bold",_t["Calibri-BoldItalic"]="Helvetica-BoldOblique",_t["Calibri-Italic"]="Helvetica-Oblique",_t.CenturyGothic="Helvetica",_t["CenturyGothic-Bold"]="Helvetica-Bold",_t["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",_t["CenturyGothic-Italic"]="Helvetica-Oblique",_t.ComicSansMS="Comic Sans MS",_t["ComicSansMS-Bold"]="Comic Sans MS-Bold",_t["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",_t["ComicSansMS-Italic"]="Comic Sans MS-Italic",_t.Impact="Helvetica",_t["ItcSymbol-Bold"]="Helvetica-Bold",_t["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",_t["ItcSymbol-Book"]="Helvetica",_t["ItcSymbol-BookItalic"]="Helvetica-Oblique",_t["ItcSymbol-Medium"]="Helvetica",_t["ItcSymbol-MediumItalic"]="Helvetica-Oblique",_t.LucidaConsole="Courier",_t["LucidaConsole-Bold"]="Courier-Bold",_t["LucidaConsole-BoldItalic"]="Courier-BoldOblique",_t["LucidaConsole-Italic"]="Courier-Oblique",_t["LucidaSans-Demi"]="Helvetica-Bold",_t["MS-Gothic"]="MS Gothic",_t["MS-Gothic-Bold"]="MS Gothic-Bold",_t["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",_t["MS-Gothic-Italic"]="MS Gothic-Italic",_t["MS-Mincho"]="MS Mincho",_t["MS-Mincho-Bold"]="MS Mincho-Bold",_t["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",_t["MS-Mincho-Italic"]="MS Mincho-Italic",_t["MS-PGothic"]="MS PGothic",_t["MS-PGothic-Bold"]="MS PGothic-Bold",_t["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",_t["MS-PGothic-Italic"]="MS PGothic-Italic",_t["MS-PMincho"]="MS PMincho",_t["MS-PMincho-Bold"]="MS PMincho-Bold",_t["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",_t["MS-PMincho-Italic"]="MS PMincho-Italic",_t.NuptialScript="Times-Italic",_t.SegoeUISymbol="Helvetica"});Ct.getNonStdFontMap=vt;const Ft=(0,wt.getLookupTableFactory)(function(_t){_t["Adobe Jenson"]=!0,_t["Adobe Text"]=!0,_t.Albertus=!0,_t.Aldus=!0,_t.Alexandria=!0,_t.Algerian=!0,_t["American Typewriter"]=!0,_t.Antiqua=!0,_t.Apex=!0,_t.Arno=!0,_t.Aster=!0,_t.Aurora=!0,_t.Baskerville=!0,_t.Bell=!0,_t.Bembo=!0,_t["Bembo Schoolbook"]=!0,_t.Benguiat=!0,_t["Berkeley Old Style"]=!0,_t["Bernhard Modern"]=!0,_t["Berthold City"]=!0,_t.Bodoni=!0,_t["Bauer Bodoni"]=!0,_t["Book Antiqua"]=!0,_t.Bookman=!0,_t["Bordeaux Roman"]=!0,_t["Californian FB"]=!0,_t.Calisto=!0,_t.Calvert=!0,_t.Capitals=!0,_t.Cambria=!0,_t.Cartier=!0,_t.Caslon=!0,_t.Catull=!0,_t.Centaur=!0,_t["Century Old Style"]=!0,_t["Century Schoolbook"]=!0,_t.Chaparral=!0,_t["Charis SIL"]=!0,_t.Cheltenham=!0,_t["Cholla Slab"]=!0,_t.Clarendon=!0,_t.Clearface=!0,_t.Cochin=!0,_t.Colonna=!0,_t["Computer Modern"]=!0,_t["Concrete Roman"]=!0,_t.Constantia=!0,_t["Cooper Black"]=!0,_t.Corona=!0,_t.Ecotype=!0,_t.Egyptienne=!0,_t.Elephant=!0,_t.Excelsior=!0,_t.Fairfield=!0,_t["FF Scala"]=!0,_t.Folkard=!0,_t.Footlight=!0,_t.FreeSerif=!0,_t["Friz Quadrata"]=!0,_t.Garamond=!0,_t.Gentium=!0,_t.Georgia=!0,_t.Gloucester=!0,_t["Goudy Old Style"]=!0,_t["Goudy Schoolbook"]=!0,_t["Goudy Pro Font"]=!0,_t.Granjon=!0,_t["Guardian Egyptian"]=!0,_t.Heather=!0,_t.Hercules=!0,_t["High Tower Text"]=!0,_t.Hiroshige=!0,_t["Hoefler Text"]=!0,_t["Humana Serif"]=!0,_t.Imprint=!0,_t["Ionic No. 5"]=!0,_t.Janson=!0,_t.Joanna=!0,_t.Korinna=!0,_t.Lexicon=!0,_t.LiberationSerif=!0,_t["Liberation Serif"]=!0,_t["Linux Libertine"]=!0,_t.Literaturnaya=!0,_t.Lucida=!0,_t["Lucida Bright"]=!0,_t.Melior=!0,_t.Memphis=!0,_t.Miller=!0,_t.Minion=!0,_t.Modern=!0,_t["Mona Lisa"]=!0,_t["Mrs Eaves"]=!0,_t["MS Serif"]=!0,_t["Museo Slab"]=!0,_t["New York"]=!0,_t["Nimbus Roman"]=!0,_t["NPS Rawlinson Roadway"]=!0,_t.NuptialScript=!0,_t.Palatino=!0,_t.Perpetua=!0,_t.Plantin=!0,_t["Plantin Schoolbook"]=!0,_t.Playbill=!0,_t["Poor Richard"]=!0,_t["Rawlinson Roadway"]=!0,_t.Renault=!0,_t.Requiem=!0,_t.Rockwell=!0,_t.Roman=!0,_t["Rotis Serif"]=!0,_t.Sabon=!0,_t.Scala=!0,_t.Seagull=!0,_t.Sistina=!0,_t.Souvenir=!0,_t.STIX=!0,_t["Stone Informal"]=!0,_t["Stone Serif"]=!0,_t.Sylfaen=!0,_t.Times=!0,_t.Trajan=!0,_t.Trinit=!0,_t["Trump Mediaeval"]=!0,_t.Utopia=!0,_t["Vale Type"]=!0,_t["Bitstream Vera"]=!0,_t["Vera Serif"]=!0,_t.Versailles=!0,_t.Wanted=!0,_t.Weiss=!0,_t["Wide Latin"]=!0,_t.Windsor=!0,_t.XITS=!0});Ct.getSerifFonts=Ft;const Ht=(0,wt.getLookupTableFactory)(function(_t){_t.Dingbats=!0,_t.Symbol=!0,_t.ZapfDingbats=!0,_t.Wingdings=!0,_t["Wingdings-Bold"]=!0,_t["Wingdings-Regular"]=!0});Ct.getSymbolsFonts=Ht;const qt=(0,wt.getLookupTableFactory)(function(_t){_t[2]=10,_t[3]=32,_t[4]=33,_t[5]=34,_t[6]=35,_t[7]=36,_t[8]=37,_t[9]=38,_t[10]=39,_t[11]=40,_t[12]=41,_t[13]=42,_t[14]=43,_t[15]=44,_t[16]=45,_t[17]=46,_t[18]=47,_t[19]=48,_t[20]=49,_t[21]=50,_t[22]=51,_t[23]=52,_t[24]=53,_t[25]=54,_t[26]=55,_t[27]=56,_t[28]=57,_t[29]=58,_t[30]=894,_t[31]=60,_t[32]=61,_t[33]=62,_t[34]=63,_t[35]=64,_t[36]=65,_t[37]=66,_t[38]=67,_t[39]=68,_t[40]=69,_t[41]=70,_t[42]=71,_t[43]=72,_t[44]=73,_t[45]=74,_t[46]=75,_t[47]=76,_t[48]=77,_t[49]=78,_t[50]=79,_t[51]=80,_t[52]=81,_t[53]=82,_t[54]=83,_t[55]=84,_t[56]=85,_t[57]=86,_t[58]=87,_t[59]=88,_t[60]=89,_t[61]=90,_t[62]=91,_t[63]=92,_t[64]=93,_t[65]=94,_t[66]=95,_t[67]=96,_t[68]=97,_t[69]=98,_t[70]=99,_t[71]=100,_t[72]=101,_t[73]=102,_t[74]=103,_t[75]=104,_t[76]=105,_t[77]=106,_t[78]=107,_t[79]=108,_t[80]=109,_t[81]=110,_t[82]=111,_t[83]=112,_t[84]=113,_t[85]=114,_t[86]=115,_t[87]=116,_t[88]=117,_t[89]=118,_t[90]=119,_t[91]=120,_t[92]=121,_t[93]=122,_t[94]=123,_t[95]=124,_t[96]=125,_t[97]=126,_t[98]=196,_t[99]=197,_t[100]=199,_t[101]=201,_t[102]=209,_t[103]=214,_t[104]=220,_t[105]=225,_t[106]=224,_t[107]=226,_t[108]=228,_t[109]=227,_t[110]=229,_t[111]=231,_t[112]=233,_t[113]=232,_t[114]=234,_t[115]=235,_t[116]=237,_t[117]=236,_t[118]=238,_t[119]=239,_t[120]=241,_t[121]=243,_t[122]=242,_t[123]=244,_t[124]=246,_t[125]=245,_t[126]=250,_t[127]=249,_t[128]=251,_t[129]=252,_t[130]=8224,_t[131]=176,_t[132]=162,_t[133]=163,_t[134]=167,_t[135]=8226,_t[136]=182,_t[137]=223,_t[138]=174,_t[139]=169,_t[140]=8482,_t[141]=180,_t[142]=168,_t[143]=8800,_t[144]=198,_t[145]=216,_t[146]=8734,_t[147]=177,_t[148]=8804,_t[149]=8805,_t[150]=165,_t[151]=181,_t[152]=8706,_t[153]=8721,_t[154]=8719,_t[156]=8747,_t[157]=170,_t[158]=186,_t[159]=8486,_t[160]=230,_t[161]=248,_t[162]=191,_t[163]=161,_t[164]=172,_t[165]=8730,_t[166]=402,_t[167]=8776,_t[168]=8710,_t[169]=171,_t[170]=187,_t[171]=8230,_t[179]=8220,_t[180]=8221,_t[181]=8216,_t[182]=8217,_t[200]=193,_t[203]=205,_t[207]=211,_t[210]=218,_t[223]=711,_t[224]=321,_t[225]=322,_t[226]=352,_t[227]=353,_t[228]=381,_t[229]=382,_t[233]=221,_t[234]=253,_t[252]=263,_t[253]=268,_t[254]=269,_t[258]=258,_t[260]=260,_t[261]=261,_t[265]=280,_t[266]=281,_t[267]=282,_t[268]=283,_t[269]=313,_t[275]=323,_t[276]=324,_t[278]=328,_t[283]=344,_t[284]=345,_t[285]=346,_t[286]=347,_t[292]=367,_t[295]=377,_t[296]=378,_t[298]=380,_t[305]=963,_t[306]=964,_t[307]=966,_t[308]=8215,_t[309]=8252,_t[310]=8319,_t[311]=8359,_t[312]=8592,_t[313]=8593,_t[337]=9552,_t[493]=1039,_t[494]=1040,_t[672]=1488,_t[673]=1489,_t[674]=1490,_t[675]=1491,_t[676]=1492,_t[677]=1493,_t[678]=1494,_t[679]=1495,_t[680]=1496,_t[681]=1497,_t[682]=1498,_t[683]=1499,_t[684]=1500,_t[685]=1501,_t[686]=1502,_t[687]=1503,_t[688]=1504,_t[689]=1505,_t[690]=1506,_t[691]=1507,_t[692]=1508,_t[693]=1509,_t[694]=1510,_t[695]=1511,_t[696]=1512,_t[697]=1513,_t[698]=1514,_t[705]=1524,_t[706]=8362,_t[710]=64288,_t[711]=64298,_t[759]=1617,_t[761]=1776,_t[763]=1778,_t[775]=1652,_t[777]=1764,_t[778]=1780,_t[779]=1781,_t[780]=1782,_t[782]=771,_t[783]=64726,_t[786]=8363,_t[788]=8532,_t[790]=768,_t[791]=769,_t[792]=768,_t[795]=803,_t[797]=64336,_t[798]=64337,_t[799]=64342,_t[800]=64343,_t[801]=64344,_t[802]=64345,_t[803]=64362,_t[804]=64363,_t[805]=64364,_t[2424]=7821,_t[2425]=7822,_t[2426]=7823,_t[2427]=7824,_t[2428]=7825,_t[2429]=7826,_t[2430]=7827,_t[2433]=7682,_t[2678]=8045,_t[2679]=8046,_t[2830]=1552,_t[2838]=686,_t[2840]=751,_t[2842]=753,_t[2843]=754,_t[2844]=755,_t[2846]=757,_t[2856]=767,_t[2857]=848,_t[2858]=849,_t[2862]=853,_t[2863]=854,_t[2864]=855,_t[2865]=861,_t[2866]=862,_t[2906]=7460,_t[2908]=7462,_t[2909]=7463,_t[2910]=7464,_t[2912]=7466,_t[2913]=7467,_t[2914]=7468,_t[2916]=7470,_t[2917]=7471,_t[2918]=7472,_t[2920]=7474,_t[2921]=7475,_t[2922]=7476,_t[2924]=7478,_t[2925]=7479,_t[2926]=7480,_t[2928]=7482,_t[2929]=7483,_t[2930]=7484,_t[2932]=7486,_t[2933]=7487,_t[2934]=7488,_t[2936]=7490,_t[2937]=7491,_t[2938]=7492,_t[2940]=7494,_t[2941]=7495,_t[2942]=7496,_t[2944]=7498,_t[2946]=7500,_t[2948]=7502,_t[2950]=7504,_t[2951]=7505,_t[2952]=7506,_t[2954]=7508,_t[2955]=7509,_t[2956]=7510,_t[2958]=7512,_t[2959]=7513,_t[2960]=7514,_t[2962]=7516,_t[2963]=7517,_t[2964]=7518,_t[2966]=7520,_t[2967]=7521,_t[2968]=7522,_t[2970]=7524,_t[2971]=7525,_t[2972]=7526,_t[2974]=7528,_t[2975]=7529,_t[2976]=7530,_t[2978]=1537,_t[2979]=1538,_t[2980]=1539,_t[2982]=1549,_t[2983]=1551,_t[2984]=1552,_t[2986]=1554,_t[2987]=1555,_t[2988]=1556,_t[2990]=1623,_t[2991]=1624,_t[2995]=1775,_t[2999]=1791,_t[3002]=64290,_t[3003]=64291,_t[3004]=64292,_t[3006]=64294,_t[3007]=64295,_t[3008]=64296,_t[3011]=1900,_t[3014]=8223,_t[3015]=8244,_t[3017]=7532,_t[3018]=7533,_t[3019]=7534,_t[3075]=7590,_t[3076]=7591,_t[3079]=7594,_t[3080]=7595,_t[3083]=7598,_t[3084]=7599,_t[3087]=7602,_t[3088]=7603,_t[3091]=7606,_t[3092]=7607,_t[3095]=7610,_t[3096]=7611,_t[3099]=7614,_t[3100]=7615,_t[3103]=7618,_t[3104]=7619,_t[3107]=8337,_t[3108]=8338,_t[3116]=1884,_t[3119]=1885,_t[3120]=1885,_t[3123]=1886,_t[3124]=1886,_t[3127]=1887,_t[3128]=1887,_t[3131]=1888,_t[3132]=1888,_t[3135]=1889,_t[3136]=1889,_t[3139]=1890,_t[3140]=1890,_t[3143]=1891,_t[3144]=1891,_t[3147]=1892,_t[3148]=1892,_t[3153]=580,_t[3154]=581,_t[3157]=584,_t[3158]=585,_t[3161]=588,_t[3162]=589,_t[3165]=891,_t[3166]=892,_t[3169]=1274,_t[3170]=1275,_t[3173]=1278,_t[3174]=1279,_t[3181]=7622,_t[3182]=7623,_t[3282]=11799,_t[3316]=578,_t[3379]=42785,_t[3393]=1159,_t[3416]=8377});Ct.getGlyphMapForStandardFonts=qt;const Nt=(0,wt.getLookupTableFactory)(function(_t){_t[227]=322,_t[264]=261,_t[291]=346});Ct.getSupplementalGlyphMapForArialBlack=Nt;const $t=(0,wt.getLookupTableFactory)(function(_t){_t[1]=32,_t[4]=65,_t[5]=192,_t[6]=193,_t[9]=196,_t[17]=66,_t[18]=67,_t[21]=268,_t[24]=68,_t[28]=69,_t[29]=200,_t[30]=201,_t[32]=282,_t[38]=70,_t[39]=71,_t[44]=72,_t[47]=73,_t[48]=204,_t[49]=205,_t[58]=74,_t[60]=75,_t[62]=76,_t[68]=77,_t[69]=78,_t[75]=79,_t[76]=210,_t[80]=214,_t[87]=80,_t[89]=81,_t[90]=82,_t[92]=344,_t[94]=83,_t[97]=352,_t[100]=84,_t[104]=85,_t[109]=220,_t[115]=86,_t[116]=87,_t[121]=88,_t[122]=89,_t[124]=221,_t[127]=90,_t[129]=381,_t[258]=97,_t[259]=224,_t[260]=225,_t[263]=228,_t[268]=261,_t[271]=98,_t[272]=99,_t[273]=263,_t[275]=269,_t[282]=100,_t[286]=101,_t[287]=232,_t[288]=233,_t[290]=283,_t[295]=281,_t[296]=102,_t[336]=103,_t[346]=104,_t[349]=105,_t[350]=236,_t[351]=237,_t[361]=106,_t[364]=107,_t[367]=108,_t[371]=322,_t[373]=109,_t[374]=110,_t[381]=111,_t[382]=242,_t[383]=243,_t[386]=246,_t[393]=112,_t[395]=113,_t[396]=114,_t[398]=345,_t[400]=115,_t[401]=347,_t[403]=353,_t[410]=116,_t[437]=117,_t[442]=252,_t[448]=118,_t[449]=119,_t[454]=120,_t[455]=121,_t[457]=253,_t[460]=122,_t[462]=382,_t[463]=380,_t[853]=44,_t[855]=58,_t[856]=46,_t[876]=47,_t[878]=45,_t[882]=45,_t[894]=40,_t[895]=41,_t[896]=91,_t[897]=93,_t[923]=64,_t[1004]=48,_t[1005]=49,_t[1006]=50,_t[1007]=51,_t[1008]=52,_t[1009]=53,_t[1010]=54,_t[1011]=55,_t[1012]=56,_t[1013]=57,_t[1081]=37,_t[1085]=43,_t[1086]=45});Ct.getSupplementalGlyphMapForCalibri=$t;function Mt(_t){const Kt=(0,kt.normalizeFontName)(_t);return Rt()[Kt]}function Bt(_t){const Kt=(0,kt.normalizeFontName)(_t);return!!(Rt()[Kt]||vt()[Kt]||Ft()[Kt]||Ht()[Kt])}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.ToUnicodeMap=Ct.IdentityToUnicodeMap=void 0;var wt=Pt(2);class kt{constructor(vt=[]){this._map=vt}get length(){return this._map.length}forEach(vt){for(const Ft in this._map)vt(Ft,this._map[Ft].charCodeAt(0))}has(vt){return this._map[vt]!==void 0}get(vt){return this._map[vt]}charCodeOf(vt){const Ft=this._map;if(Ft.length<=65536)return Ft.indexOf(vt);for(const Ht in Ft)if(Ft[Ht]===vt)return Ht|0;return-1}amend(vt){for(const Ft in vt)this._map[Ft]=vt[Ft]}}Ct.ToUnicodeMap=kt;class Rt{constructor(vt,Ft){this.firstChar=vt,this.lastChar=Ft}get length(){return this.lastChar+1-this.firstChar}forEach(vt){for(let Ft=this.firstChar,Ht=this.lastChar;Ft<=Ht;Ft++)vt(Ft,Ft)}has(vt){return this.firstChar<=vt&&vt<=this.lastChar}get(vt){if(this.firstChar<=vt&&vt<=this.lastChar)return String.fromCharCode(vt)}charCodeOf(vt){return Number.isInteger(vt)&&vt>=this.firstChar&&vt<=this.lastChar?vt:-1}amend(vt){(0,wt.unreachable)("Should not call amend()")}}Ct.IdentityToUnicodeMap=Rt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.CFFFont=void 0;var wt=Pt(35),kt=Pt(38),Rt=Pt(2);class ht{constructor(Ft,Ht){this.properties=Ht;const qt=new wt.CFFParser(Ft,Ht,kt.SEAC_ANALYSIS_ENABLED);this.cff=qt.parse(),this.cff.duplicateFirstGlyph();const Nt=new wt.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=Nt.compile()}catch{(0,Rt.warn)("Failed to compile font "+Ht.loadedName),this.data=Ft}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const Ft=this.cff,Ht=this.properties,{cidToGidMap:qt,cMap:Nt}=Ht,$t=Ft.charset.charset;let Mt,Bt;if(Ht.composite){let Kt;if((qt==null?void 0:qt.length)>0){Kt=Object.create(null);for(let Gt=0,Qt=qt.length;Gt<Qt;Gt++){const ln=qt[Gt];ln!==void 0&&(Kt[ln]=Gt)}}Mt=Object.create(null);let jt;if(Ft.isCIDFont)for(Bt=0;Bt<$t.length;Bt++){const Gt=$t[Bt];jt=Nt.charCodeOf(Gt),(Kt==null?void 0:Kt[jt])!==void 0&&(jt=Kt[jt]),Mt[jt]=Bt}else for(Bt=0;Bt<Ft.charStrings.count;Bt++)jt=Nt.charCodeOf(Bt),Mt[jt]=Bt;return Mt}let _t=Ft.encoding?Ft.encoding.encoding:null;return Ht.isInternalFont&&(_t=Ht.defaultEncoding),Mt=(0,kt.type1FontGlyphMapping)(Ht,_t,$t),Mt}hasGlyphId(Ft){return this.cff.hasGlyphId(Ft)}_createBuiltInEncoding(){const{charset:Ft,encoding:Ht}=this.cff;if(!Ft||!Ht)return;const qt=Ft.charset,Nt=Ht.encoding,$t=[];for(const Mt in Nt){const Bt=Nt[Mt];if(Bt>=0){const _t=qt[Bt];_t&&($t[Mt]=_t)}}$t.length>0&&(this.properties.builtInEncoding=$t)}}Ct.CFFFont=ht},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.FontRendererFactory=void 0;var wt=Pt(2),kt=Pt(35),Rt=Pt(39),ht=Pt(37),vt=Pt(8);function Ft(Xt,Yt){return(Xt[Yt]<<24|Xt[Yt+1]<<16|Xt[Yt+2]<<8|Xt[Yt+3])>>>0}function Ht(Xt,Yt){return Xt[Yt]<<8|Xt[Yt+1]}function qt(Xt,Yt){return(Xt[Yt]<<24|Xt[Yt+1]<<16)>>16}function Nt(Xt,Yt){return Xt[Yt]<<24>>24}function $t(Xt,Yt){return qt(Xt,Yt)/16384}function Mt(Xt){const Yt=Xt.length;let un=32768;return Yt<1240?un=107:Yt<33900&&(un=1131),un}function Bt(Xt,Yt,un){const Ut=Ht(Xt,Yt+2)===1?Ft(Xt,Yt+8):Ft(Xt,Yt+16),Lt=Ht(Xt,Yt+Ut);let Vt,an,zt;if(Lt===4){Ht(Xt,Yt+Ut+2);const Wt=Ht(Xt,Yt+Ut+6)>>1;for(an=Yt+Ut+14,Vt=[],zt=0;zt<Wt;zt++,an+=2)Vt[zt]={end:Ht(Xt,an)};for(an+=2,zt=0;zt<Wt;zt++,an+=2)Vt[zt].start=Ht(Xt,an);for(zt=0;zt<Wt;zt++,an+=2)Vt[zt].idDelta=Ht(Xt,an);for(zt=0;zt<Wt;zt++,an+=2){let nn=Ht(Xt,an);if(nn!==0){Vt[zt].ids=[];for(let dn=0,on=Vt[zt].end-Vt[zt].start+1;dn<on;dn++)Vt[zt].ids[dn]=Ht(Xt,an+nn),nn+=2}}return Vt}else if(Lt===12){const Wt=Ft(Xt,Yt+Ut+12);for(an=Yt+Ut+16,Vt=[],zt=0;zt<Wt;zt++)Yt=Ft(Xt,an),Vt.push({start:Yt,end:Ft(Xt,an+4),idDelta:Ft(Xt,an+8)-Yt}),an+=12;return Vt}throw new wt.FormatError(`unsupported cmap: ${Lt}`)}function _t(Xt,Yt,un,Ut){var zt,Wt,nn;const Lt={},an=new kt.CFFParser(new vt.Stream(Xt,Yt,un-Yt),Lt,Ut).parse();return{glyphs:an.charStrings.objects,subrs:(Wt=(zt=an.topDict.privateDict)==null?void 0:zt.subrsIndex)==null?void 0:Wt.objects,gsubrs:(nn=an.globalSubrIndex)==null?void 0:nn.objects,isCFFCIDFont:an.isCIDFont,fdSelect:an.fdSelect,fdArray:an.fdArray}}function Kt(Xt,Yt,un){let Ut,Lt;un?(Ut=4,Lt=Ft):(Ut=2,Lt=(zt,Wt)=>2*Ht(zt,Wt));const Vt=[];let an=Lt(Yt,0);for(let zt=Ut;zt<Yt.length;zt+=Ut){const Wt=Lt(Yt,zt);Vt.push(Xt.subarray(an,Wt)),an=Wt}return Vt}function jt(Xt,Yt){const un=Yt.codePointAt(0);let Ut=0,Lt=0,Vt=Xt.length-1;for(;Lt<Vt;){const an=Lt+Vt+1>>1;un<Xt[an].start?Vt=an-1:Lt=an}return Xt[Lt].start<=un&&un<=Xt[Lt].end&&(Ut=Xt[Lt].idDelta+(Xt[Lt].ids?Xt[Lt].ids[un-Xt[Lt].start]:un)&65535),{charCode:un,glyphId:Ut}}function Gt(Xt,Yt,un){function Ut(on,hn){Yt.push({cmd:"moveTo",args:[on,hn]})}function Lt(on,hn){Yt.push({cmd:"lineTo",args:[on,hn]})}function Vt(on,hn,sn,rn){Yt.push({cmd:"quadraticCurveTo",args:[on,hn,sn,rn]})}let an=0;const zt=qt(Xt,an);let Wt,nn=0,dn=0;if(an+=10,zt<0)do{Wt=Ht(Xt,an);const on=Ht(Xt,an+2);an+=4;let hn,sn;Wt&1?(Wt&2?(hn=qt(Xt,an),sn=qt(Xt,an+2)):(hn=Ht(Xt,an),sn=Ht(Xt,an+2)),an+=4):Wt&2?(hn=Nt(Xt,an++),sn=Nt(Xt,an++)):(hn=Xt[an++],sn=Xt[an++]),Wt&2?(nn=hn,dn=sn):(nn=0,dn=0);let rn=1,xn=1,vn=0,kn=0;Wt&8?(rn=xn=$t(Xt,an),an+=2):Wt&64?(rn=$t(Xt,an),xn=$t(Xt,an+2),an+=4):Wt&128&&(rn=$t(Xt,an),vn=$t(Xt,an+2),kn=$t(Xt,an+4),xn=$t(Xt,an+6),an+=8);const Fn=un.glyphs[on];Fn&&(Yt.push({cmd:"save"},{cmd:"transform",args:[rn,vn,kn,xn,nn,dn]}),Gt(Fn,Yt,un),Yt.push({cmd:"restore"}))}while(Wt&32);else{const on=[];let hn,sn;for(hn=0;hn<zt;hn++)on.push(Ht(Xt,an)),an+=2;const rn=Ht(Xt,an);an+=2+rn;const xn=on.at(-1)+1,vn=[];for(;vn.length<xn;){Wt=Xt[an++];let Fn=1;for(Wt&8&&(Fn+=Xt[an++]);Fn-- >0;)vn.push({flags:Wt})}for(hn=0;hn<xn;hn++){switch(vn[hn].flags&18){case 0:nn+=qt(Xt,an),an+=2;break;case 2:nn-=Xt[an++];break;case 18:nn+=Xt[an++];break}vn[hn].x=nn}for(hn=0;hn<xn;hn++){switch(vn[hn].flags&36){case 0:dn+=qt(Xt,an),an+=2;break;case 4:dn-=Xt[an++];break;case 36:dn+=Xt[an++];break}vn[hn].y=dn}let kn=0;for(an=0;an<zt;an++){const Fn=on[an],On=vn.slice(kn,Fn+1);if(On[0].flags&1)On.push(On[0]);else if(On.at(-1).flags&1)On.unshift(On.at(-1));else{const Pn={flags:1,x:(On[0].x+On.at(-1).x)/2,y:(On[0].y+On.at(-1).y)/2};On.unshift(Pn),On.push(Pn)}for(Ut(On[0].x,On[0].y),hn=1,sn=On.length;hn<sn;hn++)On[hn].flags&1?Lt(On[hn].x,On[hn].y):On[hn+1].flags&1?(Vt(On[hn].x,On[hn].y,On[hn+1].x,On[hn+1].y),hn++):Vt(On[hn].x,On[hn].y,(On[hn].x+On[hn+1].x)/2,(On[hn].y+On[hn+1].y)/2);kn=Fn+1}}}function Qt(Xt,Yt,un,Ut){function Lt(hn,sn){Yt.push({cmd:"moveTo",args:[hn,sn]})}function Vt(hn,sn){Yt.push({cmd:"lineTo",args:[hn,sn]})}function an(hn,sn,rn,xn,vn,kn){Yt.push({cmd:"bezierCurveTo",args:[hn,sn,rn,xn,vn,kn]})}const zt=[];let Wt=0,nn=0,dn=0;function on(hn){var rn;let sn=0;for(;sn<hn.length;){let xn=!1,vn=hn[sn++],kn,Fn,On,Pn,Sn,mn,fn,Jt,cn;switch(vn){case 1:dn+=zt.length>>1,xn=!0;break;case 3:dn+=zt.length>>1,xn=!0;break;case 4:nn+=zt.pop(),Lt(Wt,nn),xn=!0;break;case 5:for(;zt.length>0;)Wt+=zt.shift(),nn+=zt.shift(),Vt(Wt,nn);break;case 6:for(;zt.length>0&&(Wt+=zt.shift(),Vt(Wt,nn),zt.length!==0);)nn+=zt.shift(),Vt(Wt,nn);break;case 7:for(;zt.length>0&&(nn+=zt.shift(),Vt(Wt,nn),zt.length!==0);)Wt+=zt.shift(),Vt(Wt,nn);break;case 8:for(;zt.length>0;)kn=Wt+zt.shift(),On=nn+zt.shift(),Fn=kn+zt.shift(),Pn=On+zt.shift(),Wt=Fn+zt.shift(),nn=Pn+zt.shift(),an(kn,On,Fn,Pn,Wt,nn);break;case 10:if(Jt=zt.pop(),cn=null,un.isCFFCIDFont){const pn=un.fdSelect.getFDIndex(Ut);if(pn>=0&&pn<un.fdArray.length){const wn=un.fdArray[pn];let En;(rn=wn.privateDict)!=null&&rn.subrsIndex&&(En=wn.privateDict.subrsIndex.objects),En&&(Jt+=Mt(En),cn=En[Jt])}else(0,wt.warn)("Invalid fd index for glyph index.")}else cn=un.subrs[Jt+un.subrsBias];cn&&on(cn);break;case 11:return;case 12:switch(vn=hn[sn++],vn){case 34:kn=Wt+zt.shift(),Fn=kn+zt.shift(),Sn=nn+zt.shift(),Wt=Fn+zt.shift(),an(kn,nn,Fn,Sn,Wt,Sn),kn=Wt+zt.shift(),Fn=kn+zt.shift(),Wt=Fn+zt.shift(),an(kn,Sn,Fn,nn,Wt,nn);break;case 35:kn=Wt+zt.shift(),On=nn+zt.shift(),Fn=kn+zt.shift(),Pn=On+zt.shift(),Wt=Fn+zt.shift(),nn=Pn+zt.shift(),an(kn,On,Fn,Pn,Wt,nn),kn=Wt+zt.shift(),On=nn+zt.shift(),Fn=kn+zt.shift(),Pn=On+zt.shift(),Wt=Fn+zt.shift(),nn=Pn+zt.shift(),an(kn,On,Fn,Pn,Wt,nn),zt.pop();break;case 36:kn=Wt+zt.shift(),Sn=nn+zt.shift(),Fn=kn+zt.shift(),mn=Sn+zt.shift(),Wt=Fn+zt.shift(),an(kn,Sn,Fn,mn,Wt,mn),kn=Wt+zt.shift(),Fn=kn+zt.shift(),fn=mn+zt.shift(),Wt=Fn+zt.shift(),an(kn,mn,Fn,fn,Wt,nn);break;case 37:const pn=Wt,wn=nn;kn=Wt+zt.shift(),On=nn+zt.shift(),Fn=kn+zt.shift(),Pn=On+zt.shift(),Wt=Fn+zt.shift(),nn=Pn+zt.shift(),an(kn,On,Fn,Pn,Wt,nn),kn=Wt+zt.shift(),On=nn+zt.shift(),Fn=kn+zt.shift(),Pn=On+zt.shift(),Wt=Fn,nn=Pn,Math.abs(Wt-pn)>Math.abs(nn-wn)?Wt+=zt.shift():nn+=zt.shift(),an(kn,On,Fn,Pn,Wt,nn);break;default:throw new wt.FormatError(`unknown operator: 12 ${vn}`)}break;case 14:if(zt.length>=4){const pn=zt.pop(),wn=zt.pop();nn=zt.pop(),Wt=zt.pop(),Yt.push({cmd:"save"},{cmd:"translate",args:[Wt,nn]});let En=jt(un.cmap,String.fromCharCode(un.glyphNameMap[ht.StandardEncoding[pn]]));Qt(un.glyphs[En.glyphId],Yt,un,En.glyphId),Yt.push({cmd:"restore"}),En=jt(un.cmap,String.fromCharCode(un.glyphNameMap[ht.StandardEncoding[wn]])),Qt(un.glyphs[En.glyphId],Yt,un,En.glyphId)}return;case 18:dn+=zt.length>>1,xn=!0;break;case 19:dn+=zt.length>>1,sn+=dn+7>>3,xn=!0;break;case 20:dn+=zt.length>>1,sn+=dn+7>>3,xn=!0;break;case 21:nn+=zt.pop(),Wt+=zt.pop(),Lt(Wt,nn),xn=!0;break;case 22:Wt+=zt.pop(),Lt(Wt,nn),xn=!0;break;case 23:dn+=zt.length>>1,xn=!0;break;case 24:for(;zt.length>2;)kn=Wt+zt.shift(),On=nn+zt.shift(),Fn=kn+zt.shift(),Pn=On+zt.shift(),Wt=Fn+zt.shift(),nn=Pn+zt.shift(),an(kn,On,Fn,Pn,Wt,nn);Wt+=zt.shift(),nn+=zt.shift(),Vt(Wt,nn);break;case 25:for(;zt.length>6;)Wt+=zt.shift(),nn+=zt.shift(),Vt(Wt,nn);kn=Wt+zt.shift(),On=nn+zt.shift(),Fn=kn+zt.shift(),Pn=On+zt.shift(),Wt=Fn+zt.shift(),nn=Pn+zt.shift(),an(kn,On,Fn,Pn,Wt,nn);break;case 26:for(zt.length%2&&(Wt+=zt.shift());zt.length>0;)kn=Wt,On=nn+zt.shift(),Fn=kn+zt.shift(),Pn=On+zt.shift(),Wt=Fn,nn=Pn+zt.shift(),an(kn,On,Fn,Pn,Wt,nn);break;case 27:for(zt.length%2&&(nn+=zt.shift());zt.length>0;)kn=Wt+zt.shift(),On=nn,Fn=kn+zt.shift(),Pn=On+zt.shift(),Wt=Fn+zt.shift(),nn=Pn,an(kn,On,Fn,Pn,Wt,nn);break;case 28:zt.push((hn[sn]<<24|hn[sn+1]<<16)>>16),sn+=2;break;case 29:Jt=zt.pop()+un.gsubrsBias,cn=un.gsubrs[Jt],cn&&on(cn);break;case 30:for(;zt.length>0&&(kn=Wt,On=nn+zt.shift(),Fn=kn+zt.shift(),Pn=On+zt.shift(),Wt=Fn+zt.shift(),nn=Pn+(zt.length===1?zt.shift():0),an(kn,On,Fn,Pn,Wt,nn),zt.length!==0);)kn=Wt+zt.shift(),On=nn,Fn=kn+zt.shift(),Pn=On+zt.shift(),nn=Pn+zt.shift(),Wt=Fn+(zt.length===1?zt.shift():0),an(kn,On,Fn,Pn,Wt,nn);break;case 31:for(;zt.length>0&&(kn=Wt+zt.shift(),On=nn,Fn=kn+zt.shift(),Pn=On+zt.shift(),nn=Pn+zt.shift(),Wt=Fn+(zt.length===1?zt.shift():0),an(kn,On,Fn,Pn,Wt,nn),zt.length!==0);)kn=Wt,On=nn+zt.shift(),Fn=kn+zt.shift(),Pn=On+zt.shift(),Wt=Fn+zt.shift(),nn=Pn+(zt.length===1?zt.shift():0),an(kn,On,Fn,Pn,Wt,nn);break;default:if(vn<32)throw new wt.FormatError(`unknown operator: ${vn}`);vn<247?zt.push(vn-139):vn<251?zt.push((vn-247)*256+hn[sn++]+108):vn<255?zt.push(-(vn-251)*256-hn[sn++]-108):(zt.push((hn[sn]<<24|hn[sn+1]<<16|hn[sn+2]<<8|hn[sn+3])/65536),sn+=4);break}xn&&(zt.length=0)}}on(Xt)}const ln=[];class en{constructor(Yt){this.constructor===en&&(0,wt.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=Yt,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(Yt){const{charCode:un,glyphId:Ut}=jt(this.cmap,Yt);let Lt=this.compiledGlyphs[Ut];if(!Lt)try{Lt=this.compileGlyph(this.glyphs[Ut],Ut),this.compiledGlyphs[Ut]=Lt}catch(Vt){throw this.compiledGlyphs[Ut]=ln,this.compiledCharCodeToGlyphId[un]===void 0&&(this.compiledCharCodeToGlyphId[un]=Ut),Vt}return this.compiledCharCodeToGlyphId[un]===void 0&&(this.compiledCharCodeToGlyphId[un]=Ut),Lt}compileGlyph(Yt,un){if(!Yt||Yt.length===0||Yt[0]===14)return ln;let Ut=this.fontMatrix;if(this.isCFFCIDFont){const Vt=this.fdSelect.getFDIndex(un);Vt>=0&&Vt<this.fdArray.length?Ut=this.fdArray[Vt].getByName("FontMatrix")||wt.FONT_IDENTITY_MATRIX:(0,wt.warn)("Invalid fd index for glyph index.")}const Lt=[{cmd:"save"},{cmd:"transform",args:Ut.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(Yt,Lt,un),Lt.push({cmd:"restore"}),Lt}compileGlyphImpl(){(0,wt.unreachable)("Children classes should implement this.")}hasBuiltPath(Yt){const{charCode:un,glyphId:Ut}=jt(this.cmap,Yt);return this.compiledGlyphs[Ut]!==void 0&&this.compiledCharCodeToGlyphId[un]!==void 0}}class gn extends en{constructor(Yt,un,Ut){super(Ut||[488e-6,0,0,488e-6,0,0]),this.glyphs=Yt,this.cmap=un}compileGlyphImpl(Yt,un){Gt(Yt,un,this)}}class tn extends en{constructor(Yt,un,Ut,Lt){super(Ut||[.001,0,0,.001,0,0]),this.glyphs=Yt.glyphs,this.gsubrs=Yt.gsubrs||[],this.subrs=Yt.subrs||[],this.cmap=un,this.glyphNameMap=Lt||(0,Rt.getGlyphsUnicode)(),this.gsubrsBias=Mt(this.gsubrs),this.subrsBias=Mt(this.subrs),this.isCFFCIDFont=Yt.isCFFCIDFont,this.fdSelect=Yt.fdSelect,this.fdArray=Yt.fdArray}compileGlyphImpl(Yt,un,Ut){Qt(Yt,un,this,Ut)}}class bn{static create(Yt,un){const Ut=new Uint8Array(Yt.data);let Lt,Vt,an,zt,Wt,nn;const dn=Ht(Ut,4);for(let on=0,hn=12;on<dn;on++,hn+=16){const sn=(0,wt.bytesToString)(Ut.subarray(hn,hn+4)),rn=Ft(Ut,hn+8),xn=Ft(Ut,hn+12);switch(sn){case"cmap":Lt=Bt(Ut,rn);break;case"glyf":Vt=Ut.subarray(rn,rn+xn);break;case"loca":an=Ut.subarray(rn,rn+xn);break;case"head":nn=Ht(Ut,rn+18),Wt=Ht(Ut,rn+50);break;case"CFF ":zt=_t(Ut,rn,rn+xn,un);break}}if(Vt){const on=nn?[1/nn,0,0,1/nn,0,0]:Yt.fontMatrix;return new gn(Kt(Vt,an,Wt),Lt,on)}return new tn(zt,Lt,Yt.fontMatrix,Yt.glyphNameMap)}}Ct.FontRendererFactory=bn},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.getMetrics=Ct.getFontBasicMetrics=void 0;var wt=Pt(3);const kt=(0,wt.getLookupTableFactory)(function(ht){ht.Courier=600,ht["Courier-Bold"]=600,ht["Courier-BoldOblique"]=600,ht["Courier-Oblique"]=600,ht.Helvetica=(0,wt.getLookupTableFactory)(function(vt){vt.space=278,vt.exclam=278,vt.quotedbl=355,vt.numbersign=556,vt.dollar=556,vt.percent=889,vt.ampersand=667,vt.quoteright=222,vt.parenleft=333,vt.parenright=333,vt.asterisk=389,vt.plus=584,vt.comma=278,vt.hyphen=333,vt.period=278,vt.slash=278,vt.zero=556,vt.one=556,vt.two=556,vt.three=556,vt.four=556,vt.five=556,vt.six=556,vt.seven=556,vt.eight=556,vt.nine=556,vt.colon=278,vt.semicolon=278,vt.less=584,vt.equal=584,vt.greater=584,vt.question=556,vt.at=1015,vt.A=667,vt.B=667,vt.C=722,vt.D=722,vt.E=667,vt.F=611,vt.G=778,vt.H=722,vt.I=278,vt.J=500,vt.K=667,vt.L=556,vt.M=833,vt.N=722,vt.O=778,vt.P=667,vt.Q=778,vt.R=722,vt.S=667,vt.T=611,vt.U=722,vt.V=667,vt.W=944,vt.X=667,vt.Y=667,vt.Z=611,vt.bracketleft=278,vt.backslash=278,vt.bracketright=278,vt.asciicircum=469,vt.underscore=556,vt.quoteleft=222,vt.a=556,vt.b=556,vt.c=500,vt.d=556,vt.e=556,vt.f=278,vt.g=556,vt.h=556,vt.i=222,vt.j=222,vt.k=500,vt.l=222,vt.m=833,vt.n=556,vt.o=556,vt.p=556,vt.q=556,vt.r=333,vt.s=500,vt.t=278,vt.u=556,vt.v=500,vt.w=722,vt.x=500,vt.y=500,vt.z=500,vt.braceleft=334,vt.bar=260,vt.braceright=334,vt.asciitilde=584,vt.exclamdown=333,vt.cent=556,vt.sterling=556,vt.fraction=167,vt.yen=556,vt.florin=556,vt.section=556,vt.currency=556,vt.quotesingle=191,vt.quotedblleft=333,vt.guillemotleft=556,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=500,vt.fl=500,vt.endash=556,vt.dagger=556,vt.daggerdbl=556,vt.periodcentered=278,vt.paragraph=537,vt.bullet=350,vt.quotesinglbase=222,vt.quotedblbase=333,vt.quotedblright=333,vt.guillemotright=556,vt.ellipsis=1e3,vt.perthousand=1e3,vt.questiondown=611,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=1e3,vt.AE=1e3,vt.ordfeminine=370,vt.Lslash=556,vt.Oslash=778,vt.OE=1e3,vt.ordmasculine=365,vt.ae=889,vt.dotlessi=278,vt.lslash=222,vt.oslash=611,vt.oe=944,vt.germandbls=611,vt.Idieresis=278,vt.eacute=556,vt.abreve=556,vt.uhungarumlaut=556,vt.ecaron=556,vt.Ydieresis=667,vt.divide=584,vt.Yacute=667,vt.Acircumflex=667,vt.aacute=556,vt.Ucircumflex=722,vt.yacute=500,vt.scommaaccent=500,vt.ecircumflex=556,vt.Uring=722,vt.Udieresis=722,vt.aogonek=556,vt.Uacute=722,vt.uogonek=556,vt.Edieresis=667,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=737,vt.Emacron=667,vt.ccaron=500,vt.aring=556,vt.Ncommaaccent=722,vt.lacute=222,vt.agrave=556,vt.Tcommaaccent=611,vt.Cacute=722,vt.atilde=556,vt.Edotaccent=667,vt.scaron=500,vt.scedilla=500,vt.iacute=278,vt.lozenge=471,vt.Rcaron=722,vt.Gcommaaccent=778,vt.ucircumflex=556,vt.acircumflex=556,vt.Amacron=667,vt.rcaron=333,vt.ccedilla=500,vt.Zdotaccent=611,vt.Thorn=667,vt.Omacron=778,vt.Racute=722,vt.Sacute=667,vt.dcaron=643,vt.Umacron=722,vt.uring=556,vt.threesuperior=333,vt.Ograve=778,vt.Agrave=667,vt.Abreve=667,vt.multiply=584,vt.uacute=556,vt.Tcaron=611,vt.partialdiff=476,vt.ydieresis=500,vt.Nacute=722,vt.icircumflex=278,vt.Ecircumflex=667,vt.adieresis=556,vt.edieresis=556,vt.cacute=500,vt.nacute=556,vt.umacron=556,vt.Ncaron=722,vt.Iacute=278,vt.plusminus=584,vt.brokenbar=260,vt.registered=737,vt.Gbreve=778,vt.Idotaccent=278,vt.summation=600,vt.Egrave=667,vt.racute=333,vt.omacron=556,vt.Zacute=611,vt.Zcaron=611,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=722,vt.lcommaaccent=222,vt.tcaron=317,vt.eogonek=556,vt.Uogonek=722,vt.Aacute=667,vt.Adieresis=667,vt.egrave=556,vt.zacute=500,vt.iogonek=222,vt.Oacute=778,vt.oacute=556,vt.amacron=556,vt.sacute=500,vt.idieresis=278,vt.Ocircumflex=778,vt.Ugrave=722,vt.Delta=612,vt.thorn=556,vt.twosuperior=333,vt.Odieresis=778,vt.mu=556,vt.igrave=278,vt.ohungarumlaut=556,vt.Eogonek=667,vt.dcroat=556,vt.threequarters=834,vt.Scedilla=667,vt.lcaron=299,vt.Kcommaaccent=667,vt.Lacute=556,vt.trademark=1e3,vt.edotaccent=556,vt.Igrave=278,vt.Imacron=278,vt.Lcaron=556,vt.onehalf=834,vt.lessequal=549,vt.ocircumflex=556,vt.ntilde=556,vt.Uhungarumlaut=722,vt.Eacute=667,vt.emacron=556,vt.gbreve=556,vt.onequarter=834,vt.Scaron=667,vt.Scommaaccent=667,vt.Ohungarumlaut=778,vt.degree=400,vt.ograve=556,vt.Ccaron=722,vt.ugrave=556,vt.radical=453,vt.Dcaron=722,vt.rcommaaccent=333,vt.Ntilde=722,vt.otilde=556,vt.Rcommaaccent=722,vt.Lcommaaccent=556,vt.Atilde=667,vt.Aogonek=667,vt.Aring=667,vt.Otilde=778,vt.zdotaccent=500,vt.Ecaron=667,vt.Iogonek=278,vt.kcommaaccent=500,vt.minus=584,vt.Icircumflex=278,vt.ncaron=556,vt.tcommaaccent=278,vt.logicalnot=584,vt.odieresis=556,vt.udieresis=556,vt.notequal=549,vt.gcommaaccent=556,vt.eth=556,vt.zcaron=500,vt.ncommaaccent=556,vt.onesuperior=333,vt.imacron=278,vt.Euro=556}),ht["Helvetica-Bold"]=(0,wt.getLookupTableFactory)(function(vt){vt.space=278,vt.exclam=333,vt.quotedbl=474,vt.numbersign=556,vt.dollar=556,vt.percent=889,vt.ampersand=722,vt.quoteright=278,vt.parenleft=333,vt.parenright=333,vt.asterisk=389,vt.plus=584,vt.comma=278,vt.hyphen=333,vt.period=278,vt.slash=278,vt.zero=556,vt.one=556,vt.two=556,vt.three=556,vt.four=556,vt.five=556,vt.six=556,vt.seven=556,vt.eight=556,vt.nine=556,vt.colon=333,vt.semicolon=333,vt.less=584,vt.equal=584,vt.greater=584,vt.question=611,vt.at=975,vt.A=722,vt.B=722,vt.C=722,vt.D=722,vt.E=667,vt.F=611,vt.G=778,vt.H=722,vt.I=278,vt.J=556,vt.K=722,vt.L=611,vt.M=833,vt.N=722,vt.O=778,vt.P=667,vt.Q=778,vt.R=722,vt.S=667,vt.T=611,vt.U=722,vt.V=667,vt.W=944,vt.X=667,vt.Y=667,vt.Z=611,vt.bracketleft=333,vt.backslash=278,vt.bracketright=333,vt.asciicircum=584,vt.underscore=556,vt.quoteleft=278,vt.a=556,vt.b=611,vt.c=556,vt.d=611,vt.e=556,vt.f=333,vt.g=611,vt.h=611,vt.i=278,vt.j=278,vt.k=556,vt.l=278,vt.m=889,vt.n=611,vt.o=611,vt.p=611,vt.q=611,vt.r=389,vt.s=556,vt.t=333,vt.u=611,vt.v=556,vt.w=778,vt.x=556,vt.y=556,vt.z=500,vt.braceleft=389,vt.bar=280,vt.braceright=389,vt.asciitilde=584,vt.exclamdown=333,vt.cent=556,vt.sterling=556,vt.fraction=167,vt.yen=556,vt.florin=556,vt.section=556,vt.currency=556,vt.quotesingle=238,vt.quotedblleft=500,vt.guillemotleft=556,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=611,vt.fl=611,vt.endash=556,vt.dagger=556,vt.daggerdbl=556,vt.periodcentered=278,vt.paragraph=556,vt.bullet=350,vt.quotesinglbase=278,vt.quotedblbase=500,vt.quotedblright=500,vt.guillemotright=556,vt.ellipsis=1e3,vt.perthousand=1e3,vt.questiondown=611,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=1e3,vt.AE=1e3,vt.ordfeminine=370,vt.Lslash=611,vt.Oslash=778,vt.OE=1e3,vt.ordmasculine=365,vt.ae=889,vt.dotlessi=278,vt.lslash=278,vt.oslash=611,vt.oe=944,vt.germandbls=611,vt.Idieresis=278,vt.eacute=556,vt.abreve=556,vt.uhungarumlaut=611,vt.ecaron=556,vt.Ydieresis=667,vt.divide=584,vt.Yacute=667,vt.Acircumflex=722,vt.aacute=556,vt.Ucircumflex=722,vt.yacute=556,vt.scommaaccent=556,vt.ecircumflex=556,vt.Uring=722,vt.Udieresis=722,vt.aogonek=556,vt.Uacute=722,vt.uogonek=611,vt.Edieresis=667,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=737,vt.Emacron=667,vt.ccaron=556,vt.aring=556,vt.Ncommaaccent=722,vt.lacute=278,vt.agrave=556,vt.Tcommaaccent=611,vt.Cacute=722,vt.atilde=556,vt.Edotaccent=667,vt.scaron=556,vt.scedilla=556,vt.iacute=278,vt.lozenge=494,vt.Rcaron=722,vt.Gcommaaccent=778,vt.ucircumflex=611,vt.acircumflex=556,vt.Amacron=722,vt.rcaron=389,vt.ccedilla=556,vt.Zdotaccent=611,vt.Thorn=667,vt.Omacron=778,vt.Racute=722,vt.Sacute=667,vt.dcaron=743,vt.Umacron=722,vt.uring=611,vt.threesuperior=333,vt.Ograve=778,vt.Agrave=722,vt.Abreve=722,vt.multiply=584,vt.uacute=611,vt.Tcaron=611,vt.partialdiff=494,vt.ydieresis=556,vt.Nacute=722,vt.icircumflex=278,vt.Ecircumflex=667,vt.adieresis=556,vt.edieresis=556,vt.cacute=556,vt.nacute=611,vt.umacron=611,vt.Ncaron=722,vt.Iacute=278,vt.plusminus=584,vt.brokenbar=280,vt.registered=737,vt.Gbreve=778,vt.Idotaccent=278,vt.summation=600,vt.Egrave=667,vt.racute=389,vt.omacron=611,vt.Zacute=611,vt.Zcaron=611,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=722,vt.lcommaaccent=278,vt.tcaron=389,vt.eogonek=556,vt.Uogonek=722,vt.Aacute=722,vt.Adieresis=722,vt.egrave=556,vt.zacute=500,vt.iogonek=278,vt.Oacute=778,vt.oacute=611,vt.amacron=556,vt.sacute=556,vt.idieresis=278,vt.Ocircumflex=778,vt.Ugrave=722,vt.Delta=612,vt.thorn=611,vt.twosuperior=333,vt.Odieresis=778,vt.mu=611,vt.igrave=278,vt.ohungarumlaut=611,vt.Eogonek=667,vt.dcroat=611,vt.threequarters=834,vt.Scedilla=667,vt.lcaron=400,vt.Kcommaaccent=722,vt.Lacute=611,vt.trademark=1e3,vt.edotaccent=556,vt.Igrave=278,vt.Imacron=278,vt.Lcaron=611,vt.onehalf=834,vt.lessequal=549,vt.ocircumflex=611,vt.ntilde=611,vt.Uhungarumlaut=722,vt.Eacute=667,vt.emacron=556,vt.gbreve=611,vt.onequarter=834,vt.Scaron=667,vt.Scommaaccent=667,vt.Ohungarumlaut=778,vt.degree=400,vt.ograve=611,vt.Ccaron=722,vt.ugrave=611,vt.radical=549,vt.Dcaron=722,vt.rcommaaccent=389,vt.Ntilde=722,vt.otilde=611,vt.Rcommaaccent=722,vt.Lcommaaccent=611,vt.Atilde=722,vt.Aogonek=722,vt.Aring=722,vt.Otilde=778,vt.zdotaccent=500,vt.Ecaron=667,vt.Iogonek=278,vt.kcommaaccent=556,vt.minus=584,vt.Icircumflex=278,vt.ncaron=611,vt.tcommaaccent=333,vt.logicalnot=584,vt.odieresis=611,vt.udieresis=611,vt.notequal=549,vt.gcommaaccent=611,vt.eth=611,vt.zcaron=500,vt.ncommaaccent=611,vt.onesuperior=333,vt.imacron=278,vt.Euro=556}),ht["Helvetica-BoldOblique"]=(0,wt.getLookupTableFactory)(function(vt){vt.space=278,vt.exclam=333,vt.quotedbl=474,vt.numbersign=556,vt.dollar=556,vt.percent=889,vt.ampersand=722,vt.quoteright=278,vt.parenleft=333,vt.parenright=333,vt.asterisk=389,vt.plus=584,vt.comma=278,vt.hyphen=333,vt.period=278,vt.slash=278,vt.zero=556,vt.one=556,vt.two=556,vt.three=556,vt.four=556,vt.five=556,vt.six=556,vt.seven=556,vt.eight=556,vt.nine=556,vt.colon=333,vt.semicolon=333,vt.less=584,vt.equal=584,vt.greater=584,vt.question=611,vt.at=975,vt.A=722,vt.B=722,vt.C=722,vt.D=722,vt.E=667,vt.F=611,vt.G=778,vt.H=722,vt.I=278,vt.J=556,vt.K=722,vt.L=611,vt.M=833,vt.N=722,vt.O=778,vt.P=667,vt.Q=778,vt.R=722,vt.S=667,vt.T=611,vt.U=722,vt.V=667,vt.W=944,vt.X=667,vt.Y=667,vt.Z=611,vt.bracketleft=333,vt.backslash=278,vt.bracketright=333,vt.asciicircum=584,vt.underscore=556,vt.quoteleft=278,vt.a=556,vt.b=611,vt.c=556,vt.d=611,vt.e=556,vt.f=333,vt.g=611,vt.h=611,vt.i=278,vt.j=278,vt.k=556,vt.l=278,vt.m=889,vt.n=611,vt.o=611,vt.p=611,vt.q=611,vt.r=389,vt.s=556,vt.t=333,vt.u=611,vt.v=556,vt.w=778,vt.x=556,vt.y=556,vt.z=500,vt.braceleft=389,vt.bar=280,vt.braceright=389,vt.asciitilde=584,vt.exclamdown=333,vt.cent=556,vt.sterling=556,vt.fraction=167,vt.yen=556,vt.florin=556,vt.section=556,vt.currency=556,vt.quotesingle=238,vt.quotedblleft=500,vt.guillemotleft=556,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=611,vt.fl=611,vt.endash=556,vt.dagger=556,vt.daggerdbl=556,vt.periodcentered=278,vt.paragraph=556,vt.bullet=350,vt.quotesinglbase=278,vt.quotedblbase=500,vt.quotedblright=500,vt.guillemotright=556,vt.ellipsis=1e3,vt.perthousand=1e3,vt.questiondown=611,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=1e3,vt.AE=1e3,vt.ordfeminine=370,vt.Lslash=611,vt.Oslash=778,vt.OE=1e3,vt.ordmasculine=365,vt.ae=889,vt.dotlessi=278,vt.lslash=278,vt.oslash=611,vt.oe=944,vt.germandbls=611,vt.Idieresis=278,vt.eacute=556,vt.abreve=556,vt.uhungarumlaut=611,vt.ecaron=556,vt.Ydieresis=667,vt.divide=584,vt.Yacute=667,vt.Acircumflex=722,vt.aacute=556,vt.Ucircumflex=722,vt.yacute=556,vt.scommaaccent=556,vt.ecircumflex=556,vt.Uring=722,vt.Udieresis=722,vt.aogonek=556,vt.Uacute=722,vt.uogonek=611,vt.Edieresis=667,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=737,vt.Emacron=667,vt.ccaron=556,vt.aring=556,vt.Ncommaaccent=722,vt.lacute=278,vt.agrave=556,vt.Tcommaaccent=611,vt.Cacute=722,vt.atilde=556,vt.Edotaccent=667,vt.scaron=556,vt.scedilla=556,vt.iacute=278,vt.lozenge=494,vt.Rcaron=722,vt.Gcommaaccent=778,vt.ucircumflex=611,vt.acircumflex=556,vt.Amacron=722,vt.rcaron=389,vt.ccedilla=556,vt.Zdotaccent=611,vt.Thorn=667,vt.Omacron=778,vt.Racute=722,vt.Sacute=667,vt.dcaron=743,vt.Umacron=722,vt.uring=611,vt.threesuperior=333,vt.Ograve=778,vt.Agrave=722,vt.Abreve=722,vt.multiply=584,vt.uacute=611,vt.Tcaron=611,vt.partialdiff=494,vt.ydieresis=556,vt.Nacute=722,vt.icircumflex=278,vt.Ecircumflex=667,vt.adieresis=556,vt.edieresis=556,vt.cacute=556,vt.nacute=611,vt.umacron=611,vt.Ncaron=722,vt.Iacute=278,vt.plusminus=584,vt.brokenbar=280,vt.registered=737,vt.Gbreve=778,vt.Idotaccent=278,vt.summation=600,vt.Egrave=667,vt.racute=389,vt.omacron=611,vt.Zacute=611,vt.Zcaron=611,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=722,vt.lcommaaccent=278,vt.tcaron=389,vt.eogonek=556,vt.Uogonek=722,vt.Aacute=722,vt.Adieresis=722,vt.egrave=556,vt.zacute=500,vt.iogonek=278,vt.Oacute=778,vt.oacute=611,vt.amacron=556,vt.sacute=556,vt.idieresis=278,vt.Ocircumflex=778,vt.Ugrave=722,vt.Delta=612,vt.thorn=611,vt.twosuperior=333,vt.Odieresis=778,vt.mu=611,vt.igrave=278,vt.ohungarumlaut=611,vt.Eogonek=667,vt.dcroat=611,vt.threequarters=834,vt.Scedilla=667,vt.lcaron=400,vt.Kcommaaccent=722,vt.Lacute=611,vt.trademark=1e3,vt.edotaccent=556,vt.Igrave=278,vt.Imacron=278,vt.Lcaron=611,vt.onehalf=834,vt.lessequal=549,vt.ocircumflex=611,vt.ntilde=611,vt.Uhungarumlaut=722,vt.Eacute=667,vt.emacron=556,vt.gbreve=611,vt.onequarter=834,vt.Scaron=667,vt.Scommaaccent=667,vt.Ohungarumlaut=778,vt.degree=400,vt.ograve=611,vt.Ccaron=722,vt.ugrave=611,vt.radical=549,vt.Dcaron=722,vt.rcommaaccent=389,vt.Ntilde=722,vt.otilde=611,vt.Rcommaaccent=722,vt.Lcommaaccent=611,vt.Atilde=722,vt.Aogonek=722,vt.Aring=722,vt.Otilde=778,vt.zdotaccent=500,vt.Ecaron=667,vt.Iogonek=278,vt.kcommaaccent=556,vt.minus=584,vt.Icircumflex=278,vt.ncaron=611,vt.tcommaaccent=333,vt.logicalnot=584,vt.odieresis=611,vt.udieresis=611,vt.notequal=549,vt.gcommaaccent=611,vt.eth=611,vt.zcaron=500,vt.ncommaaccent=611,vt.onesuperior=333,vt.imacron=278,vt.Euro=556}),ht["Helvetica-Oblique"]=(0,wt.getLookupTableFactory)(function(vt){vt.space=278,vt.exclam=278,vt.quotedbl=355,vt.numbersign=556,vt.dollar=556,vt.percent=889,vt.ampersand=667,vt.quoteright=222,vt.parenleft=333,vt.parenright=333,vt.asterisk=389,vt.plus=584,vt.comma=278,vt.hyphen=333,vt.period=278,vt.slash=278,vt.zero=556,vt.one=556,vt.two=556,vt.three=556,vt.four=556,vt.five=556,vt.six=556,vt.seven=556,vt.eight=556,vt.nine=556,vt.colon=278,vt.semicolon=278,vt.less=584,vt.equal=584,vt.greater=584,vt.question=556,vt.at=1015,vt.A=667,vt.B=667,vt.C=722,vt.D=722,vt.E=667,vt.F=611,vt.G=778,vt.H=722,vt.I=278,vt.J=500,vt.K=667,vt.L=556,vt.M=833,vt.N=722,vt.O=778,vt.P=667,vt.Q=778,vt.R=722,vt.S=667,vt.T=611,vt.U=722,vt.V=667,vt.W=944,vt.X=667,vt.Y=667,vt.Z=611,vt.bracketleft=278,vt.backslash=278,vt.bracketright=278,vt.asciicircum=469,vt.underscore=556,vt.quoteleft=222,vt.a=556,vt.b=556,vt.c=500,vt.d=556,vt.e=556,vt.f=278,vt.g=556,vt.h=556,vt.i=222,vt.j=222,vt.k=500,vt.l=222,vt.m=833,vt.n=556,vt.o=556,vt.p=556,vt.q=556,vt.r=333,vt.s=500,vt.t=278,vt.u=556,vt.v=500,vt.w=722,vt.x=500,vt.y=500,vt.z=500,vt.braceleft=334,vt.bar=260,vt.braceright=334,vt.asciitilde=584,vt.exclamdown=333,vt.cent=556,vt.sterling=556,vt.fraction=167,vt.yen=556,vt.florin=556,vt.section=556,vt.currency=556,vt.quotesingle=191,vt.quotedblleft=333,vt.guillemotleft=556,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=500,vt.fl=500,vt.endash=556,vt.dagger=556,vt.daggerdbl=556,vt.periodcentered=278,vt.paragraph=537,vt.bullet=350,vt.quotesinglbase=222,vt.quotedblbase=333,vt.quotedblright=333,vt.guillemotright=556,vt.ellipsis=1e3,vt.perthousand=1e3,vt.questiondown=611,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=1e3,vt.AE=1e3,vt.ordfeminine=370,vt.Lslash=556,vt.Oslash=778,vt.OE=1e3,vt.ordmasculine=365,vt.ae=889,vt.dotlessi=278,vt.lslash=222,vt.oslash=611,vt.oe=944,vt.germandbls=611,vt.Idieresis=278,vt.eacute=556,vt.abreve=556,vt.uhungarumlaut=556,vt.ecaron=556,vt.Ydieresis=667,vt.divide=584,vt.Yacute=667,vt.Acircumflex=667,vt.aacute=556,vt.Ucircumflex=722,vt.yacute=500,vt.scommaaccent=500,vt.ecircumflex=556,vt.Uring=722,vt.Udieresis=722,vt.aogonek=556,vt.Uacute=722,vt.uogonek=556,vt.Edieresis=667,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=737,vt.Emacron=667,vt.ccaron=500,vt.aring=556,vt.Ncommaaccent=722,vt.lacute=222,vt.agrave=556,vt.Tcommaaccent=611,vt.Cacute=722,vt.atilde=556,vt.Edotaccent=667,vt.scaron=500,vt.scedilla=500,vt.iacute=278,vt.lozenge=471,vt.Rcaron=722,vt.Gcommaaccent=778,vt.ucircumflex=556,vt.acircumflex=556,vt.Amacron=667,vt.rcaron=333,vt.ccedilla=500,vt.Zdotaccent=611,vt.Thorn=667,vt.Omacron=778,vt.Racute=722,vt.Sacute=667,vt.dcaron=643,vt.Umacron=722,vt.uring=556,vt.threesuperior=333,vt.Ograve=778,vt.Agrave=667,vt.Abreve=667,vt.multiply=584,vt.uacute=556,vt.Tcaron=611,vt.partialdiff=476,vt.ydieresis=500,vt.Nacute=722,vt.icircumflex=278,vt.Ecircumflex=667,vt.adieresis=556,vt.edieresis=556,vt.cacute=500,vt.nacute=556,vt.umacron=556,vt.Ncaron=722,vt.Iacute=278,vt.plusminus=584,vt.brokenbar=260,vt.registered=737,vt.Gbreve=778,vt.Idotaccent=278,vt.summation=600,vt.Egrave=667,vt.racute=333,vt.omacron=556,vt.Zacute=611,vt.Zcaron=611,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=722,vt.lcommaaccent=222,vt.tcaron=317,vt.eogonek=556,vt.Uogonek=722,vt.Aacute=667,vt.Adieresis=667,vt.egrave=556,vt.zacute=500,vt.iogonek=222,vt.Oacute=778,vt.oacute=556,vt.amacron=556,vt.sacute=500,vt.idieresis=278,vt.Ocircumflex=778,vt.Ugrave=722,vt.Delta=612,vt.thorn=556,vt.twosuperior=333,vt.Odieresis=778,vt.mu=556,vt.igrave=278,vt.ohungarumlaut=556,vt.Eogonek=667,vt.dcroat=556,vt.threequarters=834,vt.Scedilla=667,vt.lcaron=299,vt.Kcommaaccent=667,vt.Lacute=556,vt.trademark=1e3,vt.edotaccent=556,vt.Igrave=278,vt.Imacron=278,vt.Lcaron=556,vt.onehalf=834,vt.lessequal=549,vt.ocircumflex=556,vt.ntilde=556,vt.Uhungarumlaut=722,vt.Eacute=667,vt.emacron=556,vt.gbreve=556,vt.onequarter=834,vt.Scaron=667,vt.Scommaaccent=667,vt.Ohungarumlaut=778,vt.degree=400,vt.ograve=556,vt.Ccaron=722,vt.ugrave=556,vt.radical=453,vt.Dcaron=722,vt.rcommaaccent=333,vt.Ntilde=722,vt.otilde=556,vt.Rcommaaccent=722,vt.Lcommaaccent=556,vt.Atilde=667,vt.Aogonek=667,vt.Aring=667,vt.Otilde=778,vt.zdotaccent=500,vt.Ecaron=667,vt.Iogonek=278,vt.kcommaaccent=500,vt.minus=584,vt.Icircumflex=278,vt.ncaron=556,vt.tcommaaccent=278,vt.logicalnot=584,vt.odieresis=556,vt.udieresis=556,vt.notequal=549,vt.gcommaaccent=556,vt.eth=556,vt.zcaron=500,vt.ncommaaccent=556,vt.onesuperior=333,vt.imacron=278,vt.Euro=556}),ht.Symbol=(0,wt.getLookupTableFactory)(function(vt){vt.space=250,vt.exclam=333,vt.universal=713,vt.numbersign=500,vt.existential=549,vt.percent=833,vt.ampersand=778,vt.suchthat=439,vt.parenleft=333,vt.parenright=333,vt.asteriskmath=500,vt.plus=549,vt.comma=250,vt.minus=549,vt.period=250,vt.slash=278,vt.zero=500,vt.one=500,vt.two=500,vt.three=500,vt.four=500,vt.five=500,vt.six=500,vt.seven=500,vt.eight=500,vt.nine=500,vt.colon=278,vt.semicolon=278,vt.less=549,vt.equal=549,vt.greater=549,vt.question=444,vt.congruent=549,vt.Alpha=722,vt.Beta=667,vt.Chi=722,vt.Delta=612,vt.Epsilon=611,vt.Phi=763,vt.Gamma=603,vt.Eta=722,vt.Iota=333,vt.theta1=631,vt.Kappa=722,vt.Lambda=686,vt.Mu=889,vt.Nu=722,vt.Omicron=722,vt.Pi=768,vt.Theta=741,vt.Rho=556,vt.Sigma=592,vt.Tau=611,vt.Upsilon=690,vt.sigma1=439,vt.Omega=768,vt.Xi=645,vt.Psi=795,vt.Zeta=611,vt.bracketleft=333,vt.therefore=863,vt.bracketright=333,vt.perpendicular=658,vt.underscore=500,vt.radicalex=500,vt.alpha=631,vt.beta=549,vt.chi=549,vt.delta=494,vt.epsilon=439,vt.phi=521,vt.gamma=411,vt.eta=603,vt.iota=329,vt.phi1=603,vt.kappa=549,vt.lambda=549,vt.mu=576,vt.nu=521,vt.omicron=549,vt.pi=549,vt.theta=521,vt.rho=549,vt.sigma=603,vt.tau=439,vt.upsilon=576,vt.omega1=713,vt.omega=686,vt.xi=493,vt.psi=686,vt.zeta=494,vt.braceleft=480,vt.bar=200,vt.braceright=480,vt.similar=549,vt.Euro=750,vt.Upsilon1=620,vt.minute=247,vt.lessequal=549,vt.fraction=167,vt.infinity=713,vt.florin=500,vt.club=753,vt.diamond=753,vt.heart=753,vt.spade=753,vt.arrowboth=1042,vt.arrowleft=987,vt.arrowup=603,vt.arrowright=987,vt.arrowdown=603,vt.degree=400,vt.plusminus=549,vt.second=411,vt.greaterequal=549,vt.multiply=549,vt.proportional=713,vt.partialdiff=494,vt.bullet=460,vt.divide=549,vt.notequal=549,vt.equivalence=549,vt.approxequal=549,vt.ellipsis=1e3,vt.arrowvertex=603,vt.arrowhorizex=1e3,vt.carriagereturn=658,vt.aleph=823,vt.Ifraktur=686,vt.Rfraktur=795,vt.weierstrass=987,vt.circlemultiply=768,vt.circleplus=768,vt.emptyset=823,vt.intersection=768,vt.union=768,vt.propersuperset=713,vt.reflexsuperset=713,vt.notsubset=713,vt.propersubset=713,vt.reflexsubset=713,vt.element=713,vt.notelement=713,vt.angle=768,vt.gradient=713,vt.registerserif=790,vt.copyrightserif=790,vt.trademarkserif=890,vt.product=823,vt.radical=549,vt.dotmath=250,vt.logicalnot=713,vt.logicaland=603,vt.logicalor=603,vt.arrowdblboth=1042,vt.arrowdblleft=987,vt.arrowdblup=603,vt.arrowdblright=987,vt.arrowdbldown=603,vt.lozenge=494,vt.angleleft=329,vt.registersans=790,vt.copyrightsans=790,vt.trademarksans=786,vt.summation=713,vt.parenlefttp=384,vt.parenleftex=384,vt.parenleftbt=384,vt.bracketlefttp=384,vt.bracketleftex=384,vt.bracketleftbt=384,vt.bracelefttp=494,vt.braceleftmid=494,vt.braceleftbt=494,vt.braceex=494,vt.angleright=329,vt.integral=274,vt.integraltp=686,vt.integralex=686,vt.integralbt=686,vt.parenrighttp=384,vt.parenrightex=384,vt.parenrightbt=384,vt.bracketrighttp=384,vt.bracketrightex=384,vt.bracketrightbt=384,vt.bracerighttp=494,vt.bracerightmid=494,vt.bracerightbt=494,vt.apple=790}),ht["Times-Roman"]=(0,wt.getLookupTableFactory)(function(vt){vt.space=250,vt.exclam=333,vt.quotedbl=408,vt.numbersign=500,vt.dollar=500,vt.percent=833,vt.ampersand=778,vt.quoteright=333,vt.parenleft=333,vt.parenright=333,vt.asterisk=500,vt.plus=564,vt.comma=250,vt.hyphen=333,vt.period=250,vt.slash=278,vt.zero=500,vt.one=500,vt.two=500,vt.three=500,vt.four=500,vt.five=500,vt.six=500,vt.seven=500,vt.eight=500,vt.nine=500,vt.colon=278,vt.semicolon=278,vt.less=564,vt.equal=564,vt.greater=564,vt.question=444,vt.at=921,vt.A=722,vt.B=667,vt.C=667,vt.D=722,vt.E=611,vt.F=556,vt.G=722,vt.H=722,vt.I=333,vt.J=389,vt.K=722,vt.L=611,vt.M=889,vt.N=722,vt.O=722,vt.P=556,vt.Q=722,vt.R=667,vt.S=556,vt.T=611,vt.U=722,vt.V=722,vt.W=944,vt.X=722,vt.Y=722,vt.Z=611,vt.bracketleft=333,vt.backslash=278,vt.bracketright=333,vt.asciicircum=469,vt.underscore=500,vt.quoteleft=333,vt.a=444,vt.b=500,vt.c=444,vt.d=500,vt.e=444,vt.f=333,vt.g=500,vt.h=500,vt.i=278,vt.j=278,vt.k=500,vt.l=278,vt.m=778,vt.n=500,vt.o=500,vt.p=500,vt.q=500,vt.r=333,vt.s=389,vt.t=278,vt.u=500,vt.v=500,vt.w=722,vt.x=500,vt.y=500,vt.z=444,vt.braceleft=480,vt.bar=200,vt.braceright=480,vt.asciitilde=541,vt.exclamdown=333,vt.cent=500,vt.sterling=500,vt.fraction=167,vt.yen=500,vt.florin=500,vt.section=500,vt.currency=500,vt.quotesingle=180,vt.quotedblleft=444,vt.guillemotleft=500,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=556,vt.fl=556,vt.endash=500,vt.dagger=500,vt.daggerdbl=500,vt.periodcentered=250,vt.paragraph=453,vt.bullet=350,vt.quotesinglbase=333,vt.quotedblbase=444,vt.quotedblright=444,vt.guillemotright=500,vt.ellipsis=1e3,vt.perthousand=1e3,vt.questiondown=444,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=1e3,vt.AE=889,vt.ordfeminine=276,vt.Lslash=611,vt.Oslash=722,vt.OE=889,vt.ordmasculine=310,vt.ae=667,vt.dotlessi=278,vt.lslash=278,vt.oslash=500,vt.oe=722,vt.germandbls=500,vt.Idieresis=333,vt.eacute=444,vt.abreve=444,vt.uhungarumlaut=500,vt.ecaron=444,vt.Ydieresis=722,vt.divide=564,vt.Yacute=722,vt.Acircumflex=722,vt.aacute=444,vt.Ucircumflex=722,vt.yacute=500,vt.scommaaccent=389,vt.ecircumflex=444,vt.Uring=722,vt.Udieresis=722,vt.aogonek=444,vt.Uacute=722,vt.uogonek=500,vt.Edieresis=611,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=760,vt.Emacron=611,vt.ccaron=444,vt.aring=444,vt.Ncommaaccent=722,vt.lacute=278,vt.agrave=444,vt.Tcommaaccent=611,vt.Cacute=667,vt.atilde=444,vt.Edotaccent=611,vt.scaron=389,vt.scedilla=389,vt.iacute=278,vt.lozenge=471,vt.Rcaron=667,vt.Gcommaaccent=722,vt.ucircumflex=500,vt.acircumflex=444,vt.Amacron=722,vt.rcaron=333,vt.ccedilla=444,vt.Zdotaccent=611,vt.Thorn=556,vt.Omacron=722,vt.Racute=667,vt.Sacute=556,vt.dcaron=588,vt.Umacron=722,vt.uring=500,vt.threesuperior=300,vt.Ograve=722,vt.Agrave=722,vt.Abreve=722,vt.multiply=564,vt.uacute=500,vt.Tcaron=611,vt.partialdiff=476,vt.ydieresis=500,vt.Nacute=722,vt.icircumflex=278,vt.Ecircumflex=611,vt.adieresis=444,vt.edieresis=444,vt.cacute=444,vt.nacute=500,vt.umacron=500,vt.Ncaron=722,vt.Iacute=333,vt.plusminus=564,vt.brokenbar=200,vt.registered=760,vt.Gbreve=722,vt.Idotaccent=333,vt.summation=600,vt.Egrave=611,vt.racute=333,vt.omacron=500,vt.Zacute=611,vt.Zcaron=611,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=667,vt.lcommaaccent=278,vt.tcaron=326,vt.eogonek=444,vt.Uogonek=722,vt.Aacute=722,vt.Adieresis=722,vt.egrave=444,vt.zacute=444,vt.iogonek=278,vt.Oacute=722,vt.oacute=500,vt.amacron=444,vt.sacute=389,vt.idieresis=278,vt.Ocircumflex=722,vt.Ugrave=722,vt.Delta=612,vt.thorn=500,vt.twosuperior=300,vt.Odieresis=722,vt.mu=500,vt.igrave=278,vt.ohungarumlaut=500,vt.Eogonek=611,vt.dcroat=500,vt.threequarters=750,vt.Scedilla=556,vt.lcaron=344,vt.Kcommaaccent=722,vt.Lacute=611,vt.trademark=980,vt.edotaccent=444,vt.Igrave=333,vt.Imacron=333,vt.Lcaron=611,vt.onehalf=750,vt.lessequal=549,vt.ocircumflex=500,vt.ntilde=500,vt.Uhungarumlaut=722,vt.Eacute=611,vt.emacron=444,vt.gbreve=500,vt.onequarter=750,vt.Scaron=556,vt.Scommaaccent=556,vt.Ohungarumlaut=722,vt.degree=400,vt.ograve=500,vt.Ccaron=667,vt.ugrave=500,vt.radical=453,vt.Dcaron=722,vt.rcommaaccent=333,vt.Ntilde=722,vt.otilde=500,vt.Rcommaaccent=667,vt.Lcommaaccent=611,vt.Atilde=722,vt.Aogonek=722,vt.Aring=722,vt.Otilde=722,vt.zdotaccent=444,vt.Ecaron=611,vt.Iogonek=333,vt.kcommaaccent=500,vt.minus=564,vt.Icircumflex=333,vt.ncaron=500,vt.tcommaaccent=278,vt.logicalnot=564,vt.odieresis=500,vt.udieresis=500,vt.notequal=549,vt.gcommaaccent=500,vt.eth=500,vt.zcaron=444,vt.ncommaaccent=500,vt.onesuperior=300,vt.imacron=278,vt.Euro=500}),ht["Times-Bold"]=(0,wt.getLookupTableFactory)(function(vt){vt.space=250,vt.exclam=333,vt.quotedbl=555,vt.numbersign=500,vt.dollar=500,vt.percent=1e3,vt.ampersand=833,vt.quoteright=333,vt.parenleft=333,vt.parenright=333,vt.asterisk=500,vt.plus=570,vt.comma=250,vt.hyphen=333,vt.period=250,vt.slash=278,vt.zero=500,vt.one=500,vt.two=500,vt.three=500,vt.four=500,vt.five=500,vt.six=500,vt.seven=500,vt.eight=500,vt.nine=500,vt.colon=333,vt.semicolon=333,vt.less=570,vt.equal=570,vt.greater=570,vt.question=500,vt.at=930,vt.A=722,vt.B=667,vt.C=722,vt.D=722,vt.E=667,vt.F=611,vt.G=778,vt.H=778,vt.I=389,vt.J=500,vt.K=778,vt.L=667,vt.M=944,vt.N=722,vt.O=778,vt.P=611,vt.Q=778,vt.R=722,vt.S=556,vt.T=667,vt.U=722,vt.V=722,vt.W=1e3,vt.X=722,vt.Y=722,vt.Z=667,vt.bracketleft=333,vt.backslash=278,vt.bracketright=333,vt.asciicircum=581,vt.underscore=500,vt.quoteleft=333,vt.a=500,vt.b=556,vt.c=444,vt.d=556,vt.e=444,vt.f=333,vt.g=500,vt.h=556,vt.i=278,vt.j=333,vt.k=556,vt.l=278,vt.m=833,vt.n=556,vt.o=500,vt.p=556,vt.q=556,vt.r=444,vt.s=389,vt.t=333,vt.u=556,vt.v=500,vt.w=722,vt.x=500,vt.y=500,vt.z=444,vt.braceleft=394,vt.bar=220,vt.braceright=394,vt.asciitilde=520,vt.exclamdown=333,vt.cent=500,vt.sterling=500,vt.fraction=167,vt.yen=500,vt.florin=500,vt.section=500,vt.currency=500,vt.quotesingle=278,vt.quotedblleft=500,vt.guillemotleft=500,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=556,vt.fl=556,vt.endash=500,vt.dagger=500,vt.daggerdbl=500,vt.periodcentered=250,vt.paragraph=540,vt.bullet=350,vt.quotesinglbase=333,vt.quotedblbase=500,vt.quotedblright=500,vt.guillemotright=500,vt.ellipsis=1e3,vt.perthousand=1e3,vt.questiondown=500,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=1e3,vt.AE=1e3,vt.ordfeminine=300,vt.Lslash=667,vt.Oslash=778,vt.OE=1e3,vt.ordmasculine=330,vt.ae=722,vt.dotlessi=278,vt.lslash=278,vt.oslash=500,vt.oe=722,vt.germandbls=556,vt.Idieresis=389,vt.eacute=444,vt.abreve=500,vt.uhungarumlaut=556,vt.ecaron=444,vt.Ydieresis=722,vt.divide=570,vt.Yacute=722,vt.Acircumflex=722,vt.aacute=500,vt.Ucircumflex=722,vt.yacute=500,vt.scommaaccent=389,vt.ecircumflex=444,vt.Uring=722,vt.Udieresis=722,vt.aogonek=500,vt.Uacute=722,vt.uogonek=556,vt.Edieresis=667,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=747,vt.Emacron=667,vt.ccaron=444,vt.aring=500,vt.Ncommaaccent=722,vt.lacute=278,vt.agrave=500,vt.Tcommaaccent=667,vt.Cacute=722,vt.atilde=500,vt.Edotaccent=667,vt.scaron=389,vt.scedilla=389,vt.iacute=278,vt.lozenge=494,vt.Rcaron=722,vt.Gcommaaccent=778,vt.ucircumflex=556,vt.acircumflex=500,vt.Amacron=722,vt.rcaron=444,vt.ccedilla=444,vt.Zdotaccent=667,vt.Thorn=611,vt.Omacron=778,vt.Racute=722,vt.Sacute=556,vt.dcaron=672,vt.Umacron=722,vt.uring=556,vt.threesuperior=300,vt.Ograve=778,vt.Agrave=722,vt.Abreve=722,vt.multiply=570,vt.uacute=556,vt.Tcaron=667,vt.partialdiff=494,vt.ydieresis=500,vt.Nacute=722,vt.icircumflex=278,vt.Ecircumflex=667,vt.adieresis=500,vt.edieresis=444,vt.cacute=444,vt.nacute=556,vt.umacron=556,vt.Ncaron=722,vt.Iacute=389,vt.plusminus=570,vt.brokenbar=220,vt.registered=747,vt.Gbreve=778,vt.Idotaccent=389,vt.summation=600,vt.Egrave=667,vt.racute=444,vt.omacron=500,vt.Zacute=667,vt.Zcaron=667,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=722,vt.lcommaaccent=278,vt.tcaron=416,vt.eogonek=444,vt.Uogonek=722,vt.Aacute=722,vt.Adieresis=722,vt.egrave=444,vt.zacute=444,vt.iogonek=278,vt.Oacute=778,vt.oacute=500,vt.amacron=500,vt.sacute=389,vt.idieresis=278,vt.Ocircumflex=778,vt.Ugrave=722,vt.Delta=612,vt.thorn=556,vt.twosuperior=300,vt.Odieresis=778,vt.mu=556,vt.igrave=278,vt.ohungarumlaut=500,vt.Eogonek=667,vt.dcroat=556,vt.threequarters=750,vt.Scedilla=556,vt.lcaron=394,vt.Kcommaaccent=778,vt.Lacute=667,vt.trademark=1e3,vt.edotaccent=444,vt.Igrave=389,vt.Imacron=389,vt.Lcaron=667,vt.onehalf=750,vt.lessequal=549,vt.ocircumflex=500,vt.ntilde=556,vt.Uhungarumlaut=722,vt.Eacute=667,vt.emacron=444,vt.gbreve=500,vt.onequarter=750,vt.Scaron=556,vt.Scommaaccent=556,vt.Ohungarumlaut=778,vt.degree=400,vt.ograve=500,vt.Ccaron=722,vt.ugrave=556,vt.radical=549,vt.Dcaron=722,vt.rcommaaccent=444,vt.Ntilde=722,vt.otilde=500,vt.Rcommaaccent=722,vt.Lcommaaccent=667,vt.Atilde=722,vt.Aogonek=722,vt.Aring=722,vt.Otilde=778,vt.zdotaccent=444,vt.Ecaron=667,vt.Iogonek=389,vt.kcommaaccent=556,vt.minus=570,vt.Icircumflex=389,vt.ncaron=556,vt.tcommaaccent=333,vt.logicalnot=570,vt.odieresis=500,vt.udieresis=556,vt.notequal=549,vt.gcommaaccent=500,vt.eth=500,vt.zcaron=444,vt.ncommaaccent=556,vt.onesuperior=300,vt.imacron=278,vt.Euro=500}),ht["Times-BoldItalic"]=(0,wt.getLookupTableFactory)(function(vt){vt.space=250,vt.exclam=389,vt.quotedbl=555,vt.numbersign=500,vt.dollar=500,vt.percent=833,vt.ampersand=778,vt.quoteright=333,vt.parenleft=333,vt.parenright=333,vt.asterisk=500,vt.plus=570,vt.comma=250,vt.hyphen=333,vt.period=250,vt.slash=278,vt.zero=500,vt.one=500,vt.two=500,vt.three=500,vt.four=500,vt.five=500,vt.six=500,vt.seven=500,vt.eight=500,vt.nine=500,vt.colon=333,vt.semicolon=333,vt.less=570,vt.equal=570,vt.greater=570,vt.question=500,vt.at=832,vt.A=667,vt.B=667,vt.C=667,vt.D=722,vt.E=667,vt.F=667,vt.G=722,vt.H=778,vt.I=389,vt.J=500,vt.K=667,vt.L=611,vt.M=889,vt.N=722,vt.O=722,vt.P=611,vt.Q=722,vt.R=667,vt.S=556,vt.T=611,vt.U=722,vt.V=667,vt.W=889,vt.X=667,vt.Y=611,vt.Z=611,vt.bracketleft=333,vt.backslash=278,vt.bracketright=333,vt.asciicircum=570,vt.underscore=500,vt.quoteleft=333,vt.a=500,vt.b=500,vt.c=444,vt.d=500,vt.e=444,vt.f=333,vt.g=500,vt.h=556,vt.i=278,vt.j=278,vt.k=500,vt.l=278,vt.m=778,vt.n=556,vt.o=500,vt.p=500,vt.q=500,vt.r=389,vt.s=389,vt.t=278,vt.u=556,vt.v=444,vt.w=667,vt.x=500,vt.y=444,vt.z=389,vt.braceleft=348,vt.bar=220,vt.braceright=348,vt.asciitilde=570,vt.exclamdown=389,vt.cent=500,vt.sterling=500,vt.fraction=167,vt.yen=500,vt.florin=500,vt.section=500,vt.currency=500,vt.quotesingle=278,vt.quotedblleft=500,vt.guillemotleft=500,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=556,vt.fl=556,vt.endash=500,vt.dagger=500,vt.daggerdbl=500,vt.periodcentered=250,vt.paragraph=500,vt.bullet=350,vt.quotesinglbase=333,vt.quotedblbase=500,vt.quotedblright=500,vt.guillemotright=500,vt.ellipsis=1e3,vt.perthousand=1e3,vt.questiondown=500,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=1e3,vt.AE=944,vt.ordfeminine=266,vt.Lslash=611,vt.Oslash=722,vt.OE=944,vt.ordmasculine=300,vt.ae=722,vt.dotlessi=278,vt.lslash=278,vt.oslash=500,vt.oe=722,vt.germandbls=500,vt.Idieresis=389,vt.eacute=444,vt.abreve=500,vt.uhungarumlaut=556,vt.ecaron=444,vt.Ydieresis=611,vt.divide=570,vt.Yacute=611,vt.Acircumflex=667,vt.aacute=500,vt.Ucircumflex=722,vt.yacute=444,vt.scommaaccent=389,vt.ecircumflex=444,vt.Uring=722,vt.Udieresis=722,vt.aogonek=500,vt.Uacute=722,vt.uogonek=556,vt.Edieresis=667,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=747,vt.Emacron=667,vt.ccaron=444,vt.aring=500,vt.Ncommaaccent=722,vt.lacute=278,vt.agrave=500,vt.Tcommaaccent=611,vt.Cacute=667,vt.atilde=500,vt.Edotaccent=667,vt.scaron=389,vt.scedilla=389,vt.iacute=278,vt.lozenge=494,vt.Rcaron=667,vt.Gcommaaccent=722,vt.ucircumflex=556,vt.acircumflex=500,vt.Amacron=667,vt.rcaron=389,vt.ccedilla=444,vt.Zdotaccent=611,vt.Thorn=611,vt.Omacron=722,vt.Racute=667,vt.Sacute=556,vt.dcaron=608,vt.Umacron=722,vt.uring=556,vt.threesuperior=300,vt.Ograve=722,vt.Agrave=667,vt.Abreve=667,vt.multiply=570,vt.uacute=556,vt.Tcaron=611,vt.partialdiff=494,vt.ydieresis=444,vt.Nacute=722,vt.icircumflex=278,vt.Ecircumflex=667,vt.adieresis=500,vt.edieresis=444,vt.cacute=444,vt.nacute=556,vt.umacron=556,vt.Ncaron=722,vt.Iacute=389,vt.plusminus=570,vt.brokenbar=220,vt.registered=747,vt.Gbreve=722,vt.Idotaccent=389,vt.summation=600,vt.Egrave=667,vt.racute=389,vt.omacron=500,vt.Zacute=611,vt.Zcaron=611,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=667,vt.lcommaaccent=278,vt.tcaron=366,vt.eogonek=444,vt.Uogonek=722,vt.Aacute=667,vt.Adieresis=667,vt.egrave=444,vt.zacute=389,vt.iogonek=278,vt.Oacute=722,vt.oacute=500,vt.amacron=500,vt.sacute=389,vt.idieresis=278,vt.Ocircumflex=722,vt.Ugrave=722,vt.Delta=612,vt.thorn=500,vt.twosuperior=300,vt.Odieresis=722,vt.mu=576,vt.igrave=278,vt.ohungarumlaut=500,vt.Eogonek=667,vt.dcroat=500,vt.threequarters=750,vt.Scedilla=556,vt.lcaron=382,vt.Kcommaaccent=667,vt.Lacute=611,vt.trademark=1e3,vt.edotaccent=444,vt.Igrave=389,vt.Imacron=389,vt.Lcaron=611,vt.onehalf=750,vt.lessequal=549,vt.ocircumflex=500,vt.ntilde=556,vt.Uhungarumlaut=722,vt.Eacute=667,vt.emacron=444,vt.gbreve=500,vt.onequarter=750,vt.Scaron=556,vt.Scommaaccent=556,vt.Ohungarumlaut=722,vt.degree=400,vt.ograve=500,vt.Ccaron=667,vt.ugrave=556,vt.radical=549,vt.Dcaron=722,vt.rcommaaccent=389,vt.Ntilde=722,vt.otilde=500,vt.Rcommaaccent=667,vt.Lcommaaccent=611,vt.Atilde=667,vt.Aogonek=667,vt.Aring=667,vt.Otilde=722,vt.zdotaccent=389,vt.Ecaron=667,vt.Iogonek=389,vt.kcommaaccent=500,vt.minus=606,vt.Icircumflex=389,vt.ncaron=556,vt.tcommaaccent=278,vt.logicalnot=606,vt.odieresis=500,vt.udieresis=556,vt.notequal=549,vt.gcommaaccent=500,vt.eth=500,vt.zcaron=389,vt.ncommaaccent=556,vt.onesuperior=300,vt.imacron=278,vt.Euro=500}),ht["Times-Italic"]=(0,wt.getLookupTableFactory)(function(vt){vt.space=250,vt.exclam=333,vt.quotedbl=420,vt.numbersign=500,vt.dollar=500,vt.percent=833,vt.ampersand=778,vt.quoteright=333,vt.parenleft=333,vt.parenright=333,vt.asterisk=500,vt.plus=675,vt.comma=250,vt.hyphen=333,vt.period=250,vt.slash=278,vt.zero=500,vt.one=500,vt.two=500,vt.three=500,vt.four=500,vt.five=500,vt.six=500,vt.seven=500,vt.eight=500,vt.nine=500,vt.colon=333,vt.semicolon=333,vt.less=675,vt.equal=675,vt.greater=675,vt.question=500,vt.at=920,vt.A=611,vt.B=611,vt.C=667,vt.D=722,vt.E=611,vt.F=611,vt.G=722,vt.H=722,vt.I=333,vt.J=444,vt.K=667,vt.L=556,vt.M=833,vt.N=667,vt.O=722,vt.P=611,vt.Q=722,vt.R=611,vt.S=500,vt.T=556,vt.U=722,vt.V=611,vt.W=833,vt.X=611,vt.Y=556,vt.Z=556,vt.bracketleft=389,vt.backslash=278,vt.bracketright=389,vt.asciicircum=422,vt.underscore=500,vt.quoteleft=333,vt.a=500,vt.b=500,vt.c=444,vt.d=500,vt.e=444,vt.f=278,vt.g=500,vt.h=500,vt.i=278,vt.j=278,vt.k=444,vt.l=278,vt.m=722,vt.n=500,vt.o=500,vt.p=500,vt.q=500,vt.r=389,vt.s=389,vt.t=278,vt.u=500,vt.v=444,vt.w=667,vt.x=444,vt.y=444,vt.z=389,vt.braceleft=400,vt.bar=275,vt.braceright=400,vt.asciitilde=541,vt.exclamdown=389,vt.cent=500,vt.sterling=500,vt.fraction=167,vt.yen=500,vt.florin=500,vt.section=500,vt.currency=500,vt.quotesingle=214,vt.quotedblleft=556,vt.guillemotleft=500,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=500,vt.fl=500,vt.endash=500,vt.dagger=500,vt.daggerdbl=500,vt.periodcentered=250,vt.paragraph=523,vt.bullet=350,vt.quotesinglbase=333,vt.quotedblbase=556,vt.quotedblright=556,vt.guillemotright=500,vt.ellipsis=889,vt.perthousand=1e3,vt.questiondown=500,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=889,vt.AE=889,vt.ordfeminine=276,vt.Lslash=556,vt.Oslash=722,vt.OE=944,vt.ordmasculine=310,vt.ae=667,vt.dotlessi=278,vt.lslash=278,vt.oslash=500,vt.oe=667,vt.germandbls=500,vt.Idieresis=333,vt.eacute=444,vt.abreve=500,vt.uhungarumlaut=500,vt.ecaron=444,vt.Ydieresis=556,vt.divide=675,vt.Yacute=556,vt.Acircumflex=611,vt.aacute=500,vt.Ucircumflex=722,vt.yacute=444,vt.scommaaccent=389,vt.ecircumflex=444,vt.Uring=722,vt.Udieresis=722,vt.aogonek=500,vt.Uacute=722,vt.uogonek=500,vt.Edieresis=611,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=760,vt.Emacron=611,vt.ccaron=444,vt.aring=500,vt.Ncommaaccent=667,vt.lacute=278,vt.agrave=500,vt.Tcommaaccent=556,vt.Cacute=667,vt.atilde=500,vt.Edotaccent=611,vt.scaron=389,vt.scedilla=389,vt.iacute=278,vt.lozenge=471,vt.Rcaron=611,vt.Gcommaaccent=722,vt.ucircumflex=500,vt.acircumflex=500,vt.Amacron=611,vt.rcaron=389,vt.ccedilla=444,vt.Zdotaccent=556,vt.Thorn=611,vt.Omacron=722,vt.Racute=611,vt.Sacute=500,vt.dcaron=544,vt.Umacron=722,vt.uring=500,vt.threesuperior=300,vt.Ograve=722,vt.Agrave=611,vt.Abreve=611,vt.multiply=675,vt.uacute=500,vt.Tcaron=556,vt.partialdiff=476,vt.ydieresis=444,vt.Nacute=667,vt.icircumflex=278,vt.Ecircumflex=611,vt.adieresis=500,vt.edieresis=444,vt.cacute=444,vt.nacute=500,vt.umacron=500,vt.Ncaron=667,vt.Iacute=333,vt.plusminus=675,vt.brokenbar=275,vt.registered=760,vt.Gbreve=722,vt.Idotaccent=333,vt.summation=600,vt.Egrave=611,vt.racute=389,vt.omacron=500,vt.Zacute=556,vt.Zcaron=556,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=667,vt.lcommaaccent=278,vt.tcaron=300,vt.eogonek=444,vt.Uogonek=722,vt.Aacute=611,vt.Adieresis=611,vt.egrave=444,vt.zacute=389,vt.iogonek=278,vt.Oacute=722,vt.oacute=500,vt.amacron=500,vt.sacute=389,vt.idieresis=278,vt.Ocircumflex=722,vt.Ugrave=722,vt.Delta=612,vt.thorn=500,vt.twosuperior=300,vt.Odieresis=722,vt.mu=500,vt.igrave=278,vt.ohungarumlaut=500,vt.Eogonek=611,vt.dcroat=500,vt.threequarters=750,vt.Scedilla=500,vt.lcaron=300,vt.Kcommaaccent=667,vt.Lacute=556,vt.trademark=980,vt.edotaccent=444,vt.Igrave=333,vt.Imacron=333,vt.Lcaron=611,vt.onehalf=750,vt.lessequal=549,vt.ocircumflex=500,vt.ntilde=500,vt.Uhungarumlaut=722,vt.Eacute=611,vt.emacron=444,vt.gbreve=500,vt.onequarter=750,vt.Scaron=500,vt.Scommaaccent=500,vt.Ohungarumlaut=722,vt.degree=400,vt.ograve=500,vt.Ccaron=667,vt.ugrave=500,vt.radical=453,vt.Dcaron=722,vt.rcommaaccent=389,vt.Ntilde=667,vt.otilde=500,vt.Rcommaaccent=611,vt.Lcommaaccent=556,vt.Atilde=611,vt.Aogonek=611,vt.Aring=611,vt.Otilde=722,vt.zdotaccent=389,vt.Ecaron=611,vt.Iogonek=333,vt.kcommaaccent=444,vt.minus=675,vt.Icircumflex=333,vt.ncaron=500,vt.tcommaaccent=278,vt.logicalnot=675,vt.odieresis=500,vt.udieresis=500,vt.notequal=549,vt.gcommaaccent=500,vt.eth=500,vt.zcaron=389,vt.ncommaaccent=500,vt.onesuperior=300,vt.imacron=278,vt.Euro=500}),ht.ZapfDingbats=(0,wt.getLookupTableFactory)(function(vt){vt.space=278,vt.a1=974,vt.a2=961,vt.a202=974,vt.a3=980,vt.a4=719,vt.a5=789,vt.a119=790,vt.a118=791,vt.a117=690,vt.a11=960,vt.a12=939,vt.a13=549,vt.a14=855,vt.a15=911,vt.a16=933,vt.a105=911,vt.a17=945,vt.a18=974,vt.a19=755,vt.a20=846,vt.a21=762,vt.a22=761,vt.a23=571,vt.a24=677,vt.a25=763,vt.a26=760,vt.a27=759,vt.a28=754,vt.a6=494,vt.a7=552,vt.a8=537,vt.a9=577,vt.a10=692,vt.a29=786,vt.a30=788,vt.a31=788,vt.a32=790,vt.a33=793,vt.a34=794,vt.a35=816,vt.a36=823,vt.a37=789,vt.a38=841,vt.a39=823,vt.a40=833,vt.a41=816,vt.a42=831,vt.a43=923,vt.a44=744,vt.a45=723,vt.a46=749,vt.a47=790,vt.a48=792,vt.a49=695,vt.a50=776,vt.a51=768,vt.a52=792,vt.a53=759,vt.a54=707,vt.a55=708,vt.a56=682,vt.a57=701,vt.a58=826,vt.a59=815,vt.a60=789,vt.a61=789,vt.a62=707,vt.a63=687,vt.a64=696,vt.a65=689,vt.a66=786,vt.a67=787,vt.a68=713,vt.a69=791,vt.a70=785,vt.a71=791,vt.a72=873,vt.a73=761,vt.a74=762,vt.a203=762,vt.a75=759,vt.a204=759,vt.a76=892,vt.a77=892,vt.a78=788,vt.a79=784,vt.a81=438,vt.a82=138,vt.a83=277,vt.a84=415,vt.a97=392,vt.a98=392,vt.a99=668,vt.a100=668,vt.a89=390,vt.a90=390,vt.a93=317,vt.a94=317,vt.a91=276,vt.a92=276,vt.a205=509,vt.a85=509,vt.a206=410,vt.a86=410,vt.a87=234,vt.a88=234,vt.a95=334,vt.a96=334,vt.a101=732,vt.a102=544,vt.a103=544,vt.a104=910,vt.a106=667,vt.a107=760,vt.a108=760,vt.a112=776,vt.a111=595,vt.a110=694,vt.a109=626,vt.a120=788,vt.a121=788,vt.a122=788,vt.a123=788,vt.a124=788,vt.a125=788,vt.a126=788,vt.a127=788,vt.a128=788,vt.a129=788,vt.a130=788,vt.a131=788,vt.a132=788,vt.a133=788,vt.a134=788,vt.a135=788,vt.a136=788,vt.a137=788,vt.a138=788,vt.a139=788,vt.a140=788,vt.a141=788,vt.a142=788,vt.a143=788,vt.a144=788,vt.a145=788,vt.a146=788,vt.a147=788,vt.a148=788,vt.a149=788,vt.a150=788,vt.a151=788,vt.a152=788,vt.a153=788,vt.a154=788,vt.a155=788,vt.a156=788,vt.a157=788,vt.a158=788,vt.a159=788,vt.a160=894,vt.a161=838,vt.a163=1016,vt.a164=458,vt.a196=748,vt.a165=924,vt.a192=748,vt.a166=918,vt.a167=927,vt.a168=928,vt.a169=928,vt.a170=834,vt.a171=873,vt.a172=828,vt.a173=924,vt.a162=924,vt.a174=917,vt.a175=930,vt.a176=931,vt.a177=463,vt.a178=883,vt.a179=836,vt.a193=836,vt.a180=867,vt.a199=867,vt.a181=696,vt.a200=696,vt.a182=874,vt.a201=874,vt.a183=760,vt.a184=946,vt.a197=771,vt.a185=865,vt.a194=771,vt.a198=888,vt.a186=967,vt.a195=888,vt.a187=831,vt.a188=873,vt.a189=927,vt.a190=970,vt.a191=918})});Ct.getMetrics=kt;const Rt=(0,wt.getLookupTableFactory)(function(ht){ht.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},ht["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},ht["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},ht["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},ht.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},ht["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},ht["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},ht["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},ht["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},ht["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},ht["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},ht["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},ht.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},ht.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});Ct.getFontBasicMetrics=Rt},(Et,Ct)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.GlyfTable=void 0;const Pt=1,wt=2,kt=4,Rt=8,ht=16,vt=32,Ft=64,Ht=1,qt=2,Nt=8,$t=32,Mt=64,Bt=128,_t=256;class Kt{constructor({glyfTable:tn,isGlyphLocationsLong:bn,locaTable:Xt,numGlyphs:Yt}){this.glyphs=[];const un=new DataView(Xt.buffer,Xt.byteOffset,Xt.byteLength),Ut=new DataView(tn.buffer,tn.byteOffset,tn.byteLength),Lt=bn?4:2;let Vt=bn?un.getUint32(0):2*un.getUint16(0),an=0;for(let zt=0;zt<Yt;zt++){an+=Lt;const Wt=bn?un.getUint32(an):2*un.getUint16(an);if(Wt===Vt){this.glyphs.push(new jt({}));continue}const nn=jt.parse(Vt,Ut);this.glyphs.push(nn),Vt=Wt}}getSize(){return this.glyphs.reduce((tn,bn)=>{const Xt=bn.getSize();return tn+(Xt+3&-4)},0)}write(){const tn=this.getSize(),bn=new DataView(new ArrayBuffer(tn)),Xt=tn>131070,Yt=Xt?4:2,un=new DataView(new ArrayBuffer((this.glyphs.length+1)*Yt));Xt?un.setUint32(0,0):un.setUint16(0,0);let Ut=0,Lt=0;for(const Vt of this.glyphs)Ut+=Vt.write(Ut,bn),Ut=Ut+3&-4,Lt+=Yt,Xt?un.setUint32(Lt,Ut):un.setUint16(Lt,Ut>>1);return{isLocationLong:Xt,loca:new Uint8Array(un.buffer),glyf:new Uint8Array(bn.buffer)}}scale(tn){for(let bn=0,Xt=this.glyphs.length;bn<Xt;bn++)this.glyphs[bn].scale(tn[bn])}}Ct.GlyfTable=Kt;class jt{constructor({header:tn=null,simple:bn=null,composites:Xt=null}){this.header=tn,this.simple=bn,this.composites=Xt}static parse(tn,bn){const[Xt,Yt]=Gt.parse(tn,bn);if(tn+=Xt,Yt.numberOfContours<0){const Ut=[];for(;;){const[Lt,Vt]=en.parse(tn,bn);if(tn+=Lt,Ut.push(Vt),!(Vt.flags&$t))break}return new jt({header:Yt,composites:Ut})}const un=ln.parse(tn,bn,Yt.numberOfContours);return new jt({header:Yt,simple:un})}getSize(){if(!this.header)return 0;const tn=this.simple?this.simple.getSize():this.composites.reduce((bn,Xt)=>bn+Xt.getSize(),0);return this.header.getSize()+tn}write(tn,bn){if(!this.header)return 0;const Xt=tn;if(tn+=this.header.write(tn,bn),this.simple)tn+=this.simple.write(tn,bn);else for(const Yt of this.composites)tn+=Yt.write(tn,bn);return tn-Xt}scale(tn){if(!this.header)return;const bn=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(bn,tn),this.simple)this.simple.scale(bn,tn);else for(const Xt of this.composites)Xt.scale(bn,tn)}}class Gt{constructor({numberOfContours:tn,xMin:bn,yMin:Xt,xMax:Yt,yMax:un}){this.numberOfContours=tn,this.xMin=bn,this.yMin=Xt,this.xMax=Yt,this.yMax=un}static parse(tn,bn){return[10,new Gt({numberOfContours:bn.getInt16(tn),xMin:bn.getInt16(tn+2),yMin:bn.getInt16(tn+4),xMax:bn.getInt16(tn+6),yMax:bn.getInt16(tn+8)})]}getSize(){return 10}write(tn,bn){return bn.setInt16(tn,this.numberOfContours),bn.setInt16(tn+2,this.xMin),bn.setInt16(tn+4,this.yMin),bn.setInt16(tn+6,this.xMax),bn.setInt16(tn+8,this.yMax),10}scale(tn,bn){this.xMin=Math.round(tn+(this.xMin-tn)*bn),this.xMax=Math.round(tn+(this.xMax-tn)*bn)}}class Qt{constructor({flags:tn,xCoordinates:bn,yCoordinates:Xt}){this.xCoordinates=bn,this.yCoordinates=Xt,this.flags=tn}}class ln{constructor({contours:tn,instructions:bn}){this.contours=tn,this.instructions=bn}static parse(tn,bn,Xt){const Yt=[];for(let sn=0;sn<Xt;sn++){const rn=bn.getUint16(tn);tn+=2,Yt.push(rn)}const un=Yt[Xt-1]+1,Ut=bn.getUint16(tn);tn+=2;const Lt=new Uint8Array(bn).slice(tn,tn+Ut);tn+=Ut;const Vt=[];for(let sn=0;sn<un;tn++,sn++){let rn=bn.getUint8(tn);if(Vt.push(rn),rn&Rt){const xn=bn.getUint8(++tn);rn^=Rt;for(let vn=0;vn<xn;vn++)Vt.push(rn);sn+=xn}}const an=[];let zt=[],Wt=[],nn=[];const dn=[];let on=0,hn=0;for(let sn=0;sn<un;sn++){const rn=Vt[sn];if(rn&wt){const xn=bn.getUint8(tn++);hn+=rn&ht?xn:-xn,zt.push(hn)}else rn&ht||(hn+=bn.getInt16(tn),tn+=2),zt.push(hn);Yt[on]===sn&&(on++,an.push(zt),zt=[])}hn=0,on=0;for(let sn=0;sn<un;sn++){const rn=Vt[sn];if(rn&kt){const xn=bn.getUint8(tn++);hn+=rn&vt?xn:-xn,Wt.push(hn)}else rn&vt||(hn+=bn.getInt16(tn),tn+=2),Wt.push(hn);nn.push(rn&Pt|rn&Ft),Yt[on]===sn&&(zt=an[on],on++,dn.push(new Qt({flags:nn,xCoordinates:zt,yCoordinates:Wt})),Wt=[],nn=[])}return new ln({contours:dn,instructions:Lt})}getSize(){let tn=this.contours.length*2+2+this.instructions.length,bn=0,Xt=0;for(const Yt of this.contours){tn+=Yt.flags.length;for(let un=0,Ut=Yt.xCoordinates.length;un<Ut;un++){const Lt=Yt.xCoordinates[un],Vt=Yt.yCoordinates[un];let an=Math.abs(Lt-bn);an>255?tn+=2:an>0&&(tn+=1),bn=Lt,an=Math.abs(Vt-Xt),an>255?tn+=2:an>0&&(tn+=1),Xt=Vt}}return tn}write(tn,bn){const Xt=tn,Yt=[],un=[],Ut=[];let Lt=0,Vt=0;for(const an of this.contours){for(let zt=0,Wt=an.xCoordinates.length;zt<Wt;zt++){let nn=an.flags[zt];const dn=an.xCoordinates[zt];let on=dn-Lt;if(on===0)nn|=ht,Yt.push(0);else{const sn=Math.abs(on);sn<=255?(nn|=on>=0?wt|ht:wt,Yt.push(sn)):Yt.push(on)}Lt=dn;const hn=an.yCoordinates[zt];if(on=hn-Vt,on===0)nn|=vt,un.push(0);else{const sn=Math.abs(on);sn<=255?(nn|=on>=0?kt|vt:kt,un.push(sn)):un.push(on)}Vt=hn,Ut.push(nn)}bn.setUint16(tn,Yt.length-1),tn+=2}bn.setUint16(tn,this.instructions.length),tn+=2,this.instructions.length&&(new Uint8Array(bn.buffer,0,bn.buffer.byteLength).set(this.instructions,tn),tn+=this.instructions.length);for(const an of Ut)bn.setUint8(tn++,an);for(let an=0,zt=Yt.length;an<zt;an++){const Wt=Yt[an],nn=Ut[an];nn&wt?bn.setUint8(tn++,Wt):nn&ht||(bn.setInt16(tn,Wt),tn+=2)}for(let an=0,zt=un.length;an<zt;an++){const Wt=un[an],nn=Ut[an];nn&kt?bn.setUint8(tn++,Wt):nn&vt||(bn.setInt16(tn,Wt),tn+=2)}return tn-Xt}scale(tn,bn){for(const Xt of this.contours)if(Xt.xCoordinates.length!==0)for(let Yt=0,un=Xt.xCoordinates.length;Yt<un;Yt++)Xt.xCoordinates[Yt]=Math.round(tn+(Xt.xCoordinates[Yt]-tn)*bn)}}class en{constructor({flags:tn,glyphIndex:bn,argument1:Xt,argument2:Yt,transf:un,instructions:Ut}){this.flags=tn,this.glyphIndex=bn,this.argument1=Xt,this.argument2=Yt,this.transf=un,this.instructions=Ut}static parse(tn,bn){const Xt=tn,Yt=[];let un=bn.getUint16(tn);const Ut=bn.getUint16(tn+2);tn+=4;let Lt,Vt;un&Ht?(un&qt?(Lt=bn.getInt16(tn),Vt=bn.getInt16(tn+2)):(Lt=bn.getUint16(tn),Vt=bn.getUint16(tn+2)),tn+=4,un^=Ht):(un&qt?(Lt=bn.getInt8(tn),Vt=bn.getInt8(tn+1)):(Lt=bn.getUint8(tn),Vt=bn.getUint8(tn+1)),tn+=2),un&Nt?(Yt.push(bn.getUint16(tn)),tn+=2):un&Mt?(Yt.push(bn.getUint16(tn),bn.getUint16(tn+2)),tn+=4):un&Bt&&(Yt.push(bn.getUint16(tn),bn.getUint16(tn+2),bn.getUint16(tn+4),bn.getUint16(tn+6)),tn+=8);let an=null;if(un&_t){const zt=bn.getUint16(tn);tn+=2,an=new Uint8Array(bn).slice(tn,tn+zt),tn+=zt}return[tn-Xt,new en({flags:un,glyphIndex:Ut,argument1:Lt,argument2:Vt,transf:Yt,instructions:an})]}getSize(){let tn=4+this.transf.length*2;return this.flags&_t&&(tn+=2+this.instructions.length),tn+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(tn+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(tn+=2),tn}write(tn,bn){const Xt=tn;return this.flags&qt?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=Ht):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=Ht),bn.setUint16(tn,this.flags),bn.setUint16(tn+2,this.glyphIndex),tn+=4,this.flags&Ht?(this.flags&qt?(bn.setInt16(tn,this.argument1),bn.setInt16(tn+2,this.argument2)):(bn.setUint16(tn,this.argument1),bn.setUint16(tn+2,this.argument2)),tn+=4):(bn.setUint8(tn,this.argument1),bn.setUint8(tn+1,this.argument2),tn+=2),this.flags&_t&&(bn.setUint16(tn,this.instructions.length),tn+=2,this.instructions.length&&(new Uint8Array(bn.buffer,0,bn.buffer.byteLength).set(this.instructions,tn),tn+=this.instructions.length)),tn-Xt}scale(tn,bn){}}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.OpenTypeFileBuilder=void 0;var wt=Pt(3),kt=Pt(2);function Rt(Nt,$t,Mt){Nt[$t]=Mt>>8&255,Nt[$t+1]=Mt&255}function ht(Nt,$t,Mt){Nt[$t]=Mt>>24&255,Nt[$t+1]=Mt>>16&255,Nt[$t+2]=Mt>>8&255,Nt[$t+3]=Mt&255}function vt(Nt,$t,Mt){if(Mt instanceof Uint8Array)Nt.set(Mt,$t);else if(typeof Mt=="string")for(let Bt=0,_t=Mt.length;Bt<_t;Bt++)Nt[$t++]=Mt.charCodeAt(Bt)&255;else for(const Bt of Mt)Nt[$t++]=Bt&255}const Ft=12,Ht=16;class qt{constructor($t){this.sfnt=$t,this.tables=Object.create(null)}static getSearchParams($t,Mt){let Bt=1,_t=0;for(;(Bt^$t)>Bt;)Bt<<=1,_t++;const Kt=Bt*Mt;return{range:Kt,entry:_t,rangeShift:Mt*$t-Kt}}toArray(){let $t=this.sfnt;const Mt=this.tables,Bt=Object.keys(Mt);Bt.sort();const _t=Bt.length;let Kt,jt,Gt,Qt,ln,en=Ft+_t*Ht;const gn=[en];for(Kt=0;Kt<_t;Kt++){Qt=Mt[Bt[Kt]];const Xt=(Qt.length+3&-4)>>>0;en+=Xt,gn.push(en)}const tn=new Uint8Array(en);for(Kt=0;Kt<_t;Kt++)Qt=Mt[Bt[Kt]],vt(tn,gn[Kt],Qt);$t==="true"&&($t=(0,kt.string32)(65536)),tn[0]=$t.charCodeAt(0)&255,tn[1]=$t.charCodeAt(1)&255,tn[2]=$t.charCodeAt(2)&255,tn[3]=$t.charCodeAt(3)&255,Rt(tn,4,_t);const bn=qt.getSearchParams(_t,16);for(Rt(tn,6,bn.range),Rt(tn,8,bn.entry),Rt(tn,10,bn.rangeShift),en=Ft,Kt=0;Kt<_t;Kt++){ln=Bt[Kt],tn[en]=ln.charCodeAt(0)&255,tn[en+1]=ln.charCodeAt(1)&255,tn[en+2]=ln.charCodeAt(2)&255,tn[en+3]=ln.charCodeAt(3)&255;let Xt=0;for(jt=gn[Kt],Gt=gn[Kt+1];jt<Gt;jt+=4){const Yt=(0,wt.readUint32)(tn,jt);Xt=Xt+Yt>>>0}ht(tn,en+4,Xt),ht(tn,en+8,gn[Kt]),ht(tn,en+12,Mt[ln].length),en+=Ht}return tn}addTable($t,Mt){if($t in this.tables)throw new Error("Table "+$t+" already exists");this.tables[$t]=Mt}}Ct.OpenTypeFileBuilder=qt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Type1Font=void 0;var wt=Pt(35),kt=Pt(2),Rt=Pt(38),ht=Pt(3),vt=Pt(8),Ft=Pt(49);function Ht(Mt,Bt,_t){const Kt=Mt.length,jt=Bt.length,Gt=Kt-jt;let Qt=_t,ln=!1;for(;Qt<Gt;){let en=0;for(;en<jt&&Mt[Qt+en]===Bt[en];)en++;if(en>=jt){for(Qt+=en;Qt<Kt&&(0,ht.isWhiteSpace)(Mt[Qt]);)Qt++;ln=!0;break}Qt++}return{found:ln,length:Qt}}function qt(Mt,Bt){const _t=[101,101,120,101,99],Kt=Mt.pos;let jt,Gt,Qt;try{jt=Mt.getBytes(Bt),Gt=jt.length}catch{}if(Gt===Bt&&(Qt=Ht(jt,_t,Bt-2*_t.length),Qt.found&&Qt.length===Bt))return{stream:new vt.Stream(jt),length:Bt};(0,kt.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),Mt.pos=Kt;const ln=2048;let en;for(;;){const gn=Mt.peekBytes(ln);if(Qt=Ht(gn,_t,0),Qt.length===0)break;if(Mt.pos+=Qt.length,Qt.found){en=Mt.pos-Kt;break}}return Mt.pos=Kt,en?{stream:new vt.Stream(Mt.getBytes(en)),length:en}:((0,kt.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new vt.Stream(Mt.getBytes(Bt)),length:Bt})}function Nt(Mt,Bt){const _t=Mt.getBytes();if(_t.length===0)throw new kt.FormatError("getEexecBlock - no font program found.");return{stream:new vt.Stream(_t),length:_t.length}}class $t{constructor(Bt,_t,Kt){let Gt=Kt.length1;Kt.length2;let Qt=_t.peekBytes(6);const ln=Qt[0]===128&&Qt[1]===1;ln&&(_t.skip(6),Gt=Qt[5]<<24|Qt[4]<<16|Qt[3]<<8|Qt[2]);const en=qt(_t,Gt);new Ft.Type1Parser(en.stream,!1,Rt.SEAC_ANALYSIS_ENABLED).extractFontHeader(Kt),ln&&(Qt=_t.getBytes(6),Qt[5]<<24|Qt[4]<<16|Qt[3]<<8|Qt[2]);const tn=Nt(_t),Xt=new Ft.Type1Parser(tn.stream,!0,Rt.SEAC_ANALYSIS_ENABLED).extractFontProgram(Kt);for(const Lt in Xt.properties)Kt[Lt]=Xt.properties[Lt];const Yt=Xt.charstrings,un=this.getType2Charstrings(Yt),Ut=this.getType2Subrs(Xt.subrs);this.charstrings=Yt,this.data=this.wrap(Bt,un,this.charstrings,Ut,Kt),this.seacs=this.getSeacs(Xt.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const Bt=[".notdef"];for(const{glyphName:_t}of this.charstrings)Bt.push(_t);return Bt}getGlyphMapping(Bt){const _t=this.charstrings;if(Bt.composite){const ln=Object.create(null);for(let en=0,gn=_t.length;en<gn;en++){const tn=Bt.cMap.charCodeOf(en);ln[tn]=en+1}return ln}const Kt=[".notdef"];let jt,Gt;for(Gt=0;Gt<_t.length;Gt++)Kt.push(_t[Gt].glyphName);const Qt=Bt.builtInEncoding;if(Qt){jt=Object.create(null);for(const ln in Qt)Gt=Kt.indexOf(Qt[ln]),Gt>=0&&(jt[ln]=Gt)}return(0,Rt.type1FontGlyphMapping)(Bt,jt,Kt)}hasGlyphId(Bt){return Bt<0||Bt>=this.numGlyphs?!1:Bt===0?!0:this.charstrings[Bt-1].charstring.length>0}getSeacs(Bt){const _t=[];for(let Kt=0,jt=Bt.length;Kt<jt;Kt++){const Gt=Bt[Kt];Gt.seac&&(_t[Kt+1]=Gt.seac)}return _t}getType2Charstrings(Bt){const _t=[];for(const Kt of Bt)_t.push(Kt.charstring);return _t}getType2Subrs(Bt){let _t=0;const Kt=Bt.length;Kt<1133?_t=107:Kt<33769?_t=1131:_t=32768;const jt=[];let Gt;for(Gt=0;Gt<_t;Gt++)jt.push([11]);for(Gt=0;Gt<Kt;Gt++)jt.push(Bt[Gt]);return jt}wrap(Bt,_t,Kt,jt,Gt){const Qt=new wt.CFF;Qt.header=new wt.CFFHeader(1,0,4,4),Qt.names=[Bt];const ln=new wt.CFFTopDict;ln.setByName("version",391),ln.setByName("Notice",392),ln.setByName("FullName",393),ln.setByName("FamilyName",394),ln.setByName("Weight",395),ln.setByName("Encoding",null),ln.setByName("FontMatrix",Gt.fontMatrix),ln.setByName("FontBBox",Gt.bbox),ln.setByName("charset",null),ln.setByName("CharStrings",null),ln.setByName("Private",null),Qt.topDict=ln;const en=new wt.CFFStrings;en.add("Version 0.11"),en.add("See original notice"),en.add(Bt),en.add(Bt),en.add("Medium"),Qt.strings=en,Qt.globalSubrIndex=new wt.CFFIndex;const gn=_t.length,tn=[".notdef"];let bn,Xt;for(bn=0;bn<gn;bn++){const an=Kt[bn].glyphName;wt.CFFStandardStrings.indexOf(an)===-1&&en.add(an),tn.push(an)}Qt.charset=new wt.CFFCharset(!1,0,tn);const Yt=new wt.CFFIndex;for(Yt.add([139,14]),bn=0;bn<gn;bn++)Yt.add(_t[bn]);Qt.charStrings=Yt;const un=new wt.CFFPrivateDict;un.setByName("Subrs",null);const Ut=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(bn=0,Xt=Ut.length;bn<Xt;bn++){const an=Ut[bn];if(!(an in Gt.privateData))continue;const zt=Gt.privateData[an];if(Array.isArray(zt))for(let Wt=zt.length-1;Wt>0;Wt--)zt[Wt]-=zt[Wt-1];un.setByName(an,zt)}Qt.topDict.privateDict=un;const Lt=new wt.CFFIndex;for(bn=0,Xt=jt.length;bn<Xt;bn++)Lt.add(jt[bn]);return un.subrsIndex=Lt,new wt.CFFCompiler(Qt).compile()}}Ct.Type1Font=$t},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Type1Parser=void 0;var wt=Pt(37),kt=Pt(3),Rt=Pt(8),ht=Pt(2);const vt=!1,Ft={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class Ht{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(Gt,Qt,ln){const en=Gt.length;let gn=!1,tn,bn,Xt;for(let Yt=0;Yt<en;Yt++){let un=Gt[Yt];if(un<32){switch(un===12&&(un=(un<<8)+Gt[++Yt]),un){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){gn=!0;break}const zt=this.stack.pop();this.stack.push(0,zt);break}gn=this.executeCommand(1,Ft.vmoveto);break;case 5:gn=this.executeCommand(2,Ft.rlineto);break;case 6:gn=this.executeCommand(1,Ft.hlineto);break;case 7:gn=this.executeCommand(1,Ft.vlineto);break;case 8:gn=this.executeCommand(6,Ft.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){gn=!0;break}if(Xt=this.stack.pop(),!Qt[Xt]){gn=!0;break}gn=this.convert(Qt[Xt],Qt,ln);break;case 11:return gn;case 13:if(this.stack.length<2){gn=!0;break}tn=this.stack.pop(),bn=this.stack.pop(),this.lsb=bn,this.width=tn,this.stack.push(tn,bn),gn=this.executeCommand(2,Ft.hmoveto);break;case 14:this.output.push(Ft.endchar[0]);break;case 21:if(this.flexing)break;gn=this.executeCommand(2,Ft.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}gn=this.executeCommand(1,Ft.hmoveto);break;case 30:gn=this.executeCommand(4,Ft.vhcurveto);break;case 31:gn=this.executeCommand(4,Ft.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(ln){const zt=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-zt,gn=this.executeCommand(0,Ft.endchar)}else gn=this.executeCommand(4,Ft.endchar);break;case 3079:if(this.stack.length<4){gn=!0;break}this.stack.pop(),tn=this.stack.pop();const Ut=this.stack.pop();bn=this.stack.pop(),this.lsb=bn,this.width=tn,this.stack.push(tn,bn,Ut),gn=this.executeCommand(3,Ft.rmoveto);break;case 3084:if(this.stack.length<2){gn=!0;break}const Lt=this.stack.pop(),Vt=this.stack.pop();this.stack.push(Vt/Lt);break;case 3088:if(this.stack.length<2){gn=!0;break}Xt=this.stack.pop();const an=this.stack.pop();if(Xt===0&&an===3){const zt=this.stack.splice(-17,17);this.stack.push(zt[2]+zt[0],zt[3]+zt[1],zt[4],zt[5],zt[6],zt[7],zt[8],zt[9],zt[10],zt[11],zt[12],zt[13],zt[14]),gn=this.executeCommand(13,Ft.flex,!0),this.flexing=!1,this.stack.push(zt[15],zt[16])}else Xt===1&&an===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,ht.warn)('Unknown type 1 charstring command of "'+un+'"');break}if(gn)break;continue}else un<=246?un-=139:un<=250?un=(un-247)*256+Gt[++Yt]+108:un<=254?un=-((un-251)*256)-Gt[++Yt]-108:un=(Gt[++Yt]&255)<<24|(Gt[++Yt]&255)<<16|(Gt[++Yt]&255)<<8|(Gt[++Yt]&255)<<0;this.stack.push(un)}return gn}executeCommand(Gt,Qt,ln){const en=this.stack.length;if(Gt>en)return!0;const gn=en-Gt;for(let tn=gn;tn<en;tn++){let bn=this.stack[tn];Number.isInteger(bn)?this.output.push(28,bn>>8&255,bn&255):(bn=65536*bn|0,this.output.push(255,bn>>24&255,bn>>16&255,bn>>8&255,bn&255))}return this.output.push(...Qt),ln?this.stack.splice(gn,Gt):this.stack.length=0,!1}}const qt=55665,Nt=4330;function $t(jt){return jt>=48&&jt<=57||jt>=65&&jt<=70||jt>=97&&jt<=102}function Mt(jt,Gt,Qt){if(Qt>=jt.length)return new Uint8Array(0);const ln=52845,en=22719;let gn=Gt|0,tn,bn;for(tn=0;tn<Qt;tn++)gn=(jt[tn]+gn)*ln+en&65535;const Xt=jt.length-Qt,Yt=new Uint8Array(Xt);for(tn=Qt,bn=0;bn<Xt;tn++,bn++){const un=jt[tn];Yt[bn]=un^gn>>8,gn=(un+gn)*ln+en&65535}return Yt}function Bt(jt,Gt,Qt){let gn=Gt|0;const tn=jt.length,bn=tn>>>1,Xt=new Uint8Array(bn);let Yt,un;for(Yt=0,un=0;Yt<tn;Yt++){const Ut=jt[Yt];if(!$t(Ut))continue;Yt++;let Lt;for(;Yt<tn&&!$t(Lt=jt[Yt]);)Yt++;if(Yt<tn){const Vt=parseInt(String.fromCharCode(Ut,Lt),16);Xt[un++]=Vt^gn>>8,gn=(Vt+gn)*52845+22719&65535}}return Xt.slice(Qt,un)}function _t(jt){return jt===47||jt===91||jt===93||jt===123||jt===125||jt===40||jt===41}class Kt{constructor(Gt,Qt,ln){if(Qt){const en=Gt.getBytes(),gn=!(($t(en[0])||(0,kt.isWhiteSpace)(en[0]))&&$t(en[1])&&$t(en[2])&&$t(en[3])&&$t(en[4])&&$t(en[5])&&$t(en[6])&&$t(en[7]));Gt=new Rt.Stream(gn?Mt(en,qt,4):Bt(en,qt,4))}this.seacAnalysisEnabled=!!ln,this.stream=Gt,this.nextChar()}readNumberArray(){this.getToken();const Gt=[];for(;;){const Qt=this.getToken();if(Qt===null||Qt==="]"||Qt==="}")break;Gt.push(parseFloat(Qt||0))}return Gt}readNumber(){const Gt=this.getToken();return parseFloat(Gt||0)}readInt(){const Gt=this.getToken();return parseInt(Gt||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let Gt=!1,Qt=this.currentChar;for(;;){if(Qt===-1)return null;if(Gt)(Qt===10||Qt===13)&&(Gt=!1);else if(Qt===37)Gt=!0;else if(!(0,kt.isWhiteSpace)(Qt))break;Qt=this.nextChar()}if(_t(Qt))return this.nextChar(),String.fromCharCode(Qt);let ln="";do ln+=String.fromCharCode(Qt),Qt=this.nextChar();while(Qt>=0&&!(0,kt.isWhiteSpace)(Qt)&&!_t(Qt));return ln}readCharStrings(Gt,Qt){return Qt===-1?Gt:Mt(Gt,Nt,Qt)}extractFontProgram(Gt){const Qt=this.stream,ln=[],en=[],gn=Object.create(null);gn.lenIV=4;const tn={subrs:[],charstrings:[],properties:{privateData:gn}};let bn,Xt,Yt,un;for(;(bn=this.getToken())!==null;)if(bn==="/")switch(bn=this.getToken(),bn){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();bn=this.getToken(),!(bn===null||bn==="end");){if(bn!=="/")continue;const Lt=this.getToken();Xt=this.readInt(),this.getToken(),Yt=Xt>0?Qt.getBytes(Xt):new Uint8Array(0),un=tn.properties.privateData.lenIV;const Vt=this.readCharStrings(Yt,un);this.nextChar(),bn=this.getToken(),bn==="noaccess"?this.getToken():bn==="/"&&this.prevChar(),en.push({glyph:Lt,encoded:Vt})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const Lt=this.readInt();Xt=this.readInt(),this.getToken(),Yt=Xt>0?Qt.getBytes(Xt):new Uint8Array(0),un=tn.properties.privateData.lenIV;const Vt=this.readCharStrings(Yt,un);this.nextChar(),bn=this.getToken(),bn==="noaccess"&&this.getToken(),ln[Lt]=Vt}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const Ut=this.readNumberArray();Ut.length>0&&Ut.length%2===0&&vt&&(tn.properties.privateData[bn]=Ut);break;case"StemSnapH":case"StemSnapV":tn.properties.privateData[bn]=this.readNumberArray();break;case"StdHW":case"StdVW":tn.properties.privateData[bn]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":tn.properties.privateData[bn]=this.readNumber();break;case"ExpansionFactor":tn.properties.privateData[bn]=this.readNumber()||.06;break;case"ForceBold":tn.properties.privateData[bn]=this.readBoolean();break}for(const{encoded:Ut,glyph:Lt}of en){const Vt=new Ht,an=Vt.convert(Ut,ln,this.seacAnalysisEnabled);let zt=Vt.output;an&&(zt=[14]);const Wt={glyphName:Lt,charstring:zt,width:Vt.width,lsb:Vt.lsb,seac:Vt.seac};if(Lt===".notdef"?tn.charstrings.unshift(Wt):tn.charstrings.push(Wt),Gt.builtInEncoding){const nn=Gt.builtInEncoding.indexOf(Lt);nn>-1&&Gt.widths[nn]===void 0&&nn>=Gt.firstChar&&nn<=Gt.lastChar&&(Gt.widths[nn]=Vt.width)}}return tn}extractFontHeader(Gt){let Qt;for(;(Qt=this.getToken())!==null;)if(Qt==="/")switch(Qt=this.getToken(),Qt){case"FontMatrix":const ln=this.readNumberArray();Gt.fontMatrix=ln;break;case"Encoding":const en=this.getToken();let gn;if(!/^\d+$/.test(en))gn=(0,wt.getEncoding)(en);else{gn=[];const bn=parseInt(en,10)|0;this.getToken();for(let Xt=0;Xt<bn;Xt++){for(Qt=this.getToken();Qt!=="dup"&&Qt!=="def";)if(Qt=this.getToken(),Qt===null)return;if(Qt==="def")break;const Yt=this.readInt();this.getToken();const un=this.getToken();gn[Yt]=un,this.getToken()}}Gt.builtInEncoding=gn;break;case"FontBBox":const tn=this.readNumberArray();Gt.ascent=Math.max(tn[3],tn[1]),Gt.descent=Math.min(tn[1],tn[3]),Gt.ascentScaled=!0;break}}}Ct.Type1Parser=Kt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Pattern=void 0,Ct.clearPatternCaches=_t,Ct.getTilingPatternIR=Gt;var wt=Pt(2),kt=Pt(5),Rt=Pt(12),ht=Pt(3);const vt={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class Ft{constructor(){(0,wt.unreachable)("Cannot initialize Pattern.")}static parseShading(gn,tn,bn,Xt,Yt){const un=gn instanceof kt.BaseStream?gn.dict:gn,Ut=un.get("ShadingType");try{switch(Ut){case vt.AXIAL:case vt.RADIAL:return new qt(un,tn,bn,Xt,Yt);case vt.FREE_FORM_MESH:case vt.LATTICE_FORM_MESH:case vt.COONS_PATCH_MESH:case vt.TENSOR_PATCH_MESH:return new Kt(gn,tn,bn,Xt,Yt);default:throw new wt.FormatError("Unsupported ShadingType: "+Ut)}}catch(Lt){if(Lt instanceof ht.MissingDataException)throw Lt;return(0,wt.warn)(Lt),new jt}}}Ct.Pattern=Ft;const Qt=class Qt{constructor(){this.constructor===Qt&&(0,wt.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,wt.unreachable)("Abstract method `getIR` called.")}};Ur(Qt,"SMALL_NUMBER",1e-6);let Ht=Qt;class qt extends Ht{constructor(gn,tn,bn,Xt,Yt){super(),this.coordsArr=gn.getArray("Coords"),this.shadingType=gn.get("ShadingType");const un=Rt.ColorSpace.parse({cs:gn.getRaw("CS")||gn.getRaw("ColorSpace"),xref:tn,resources:bn,pdfFunctionFactory:Xt,localColorSpaceCache:Yt}),Ut=gn.getArray("BBox");this.bbox=Array.isArray(Ut)&&Ut.length===4?wt.Util.normalizeRect(Ut):null;let Lt=0,Vt=1;if(gn.has("Domain")){const _n=gn.getArray("Domain");Lt=_n[0],Vt=_n[1]}let an=!1,zt=!1;if(gn.has("Extend")){const _n=gn.getArray("Extend");an=_n[0],zt=_n[1]}if(this.shadingType===vt.RADIAL&&(!an||!zt)){const[_n,Cn,An,Tn,Mn,Rn]=this.coordsArr,Ln=Math.hypot(_n-Tn,Cn-Mn);An<=Rn+Ln&&Rn<=An+Ln&&(0,wt.warn)("Unsupported radial gradient.")}this.extendStart=an,this.extendEnd=zt;const Wt=gn.getRaw("Function"),nn=Xt.createFromArray(Wt),dn=840,on=(Vt-Lt)/dn,hn=this.colorStops=[];if(Lt>=Vt||on<=0){(0,wt.info)("Bad shading domain.");return}const sn=new Float32Array(un.numComps),rn=new Float32Array(1);let xn,vn=0;rn[0]=Lt,nn(rn,0,sn,0);let kn=un.getRgb(sn,0);const Fn=wt.Util.makeHexColor(kn[0],kn[1],kn[2]);hn.push([0,Fn]);let On=1;rn[0]=Lt+on,nn(rn,0,sn,0);let Pn=un.getRgb(sn,0),Sn=Pn[0]-kn[0]+1,mn=Pn[1]-kn[1]+1,fn=Pn[2]-kn[2]+1,Jt=Pn[0]-kn[0]-1,cn=Pn[1]-kn[1]-1,pn=Pn[2]-kn[2]-1;for(let _n=2;_n<dn;_n++){rn[0]=Lt+_n*on,nn(rn,0,sn,0),xn=un.getRgb(sn,0);const Cn=_n-vn;if(Sn=Math.min(Sn,(xn[0]-kn[0]+1)/Cn),mn=Math.min(mn,(xn[1]-kn[1]+1)/Cn),fn=Math.min(fn,(xn[2]-kn[2]+1)/Cn),Jt=Math.max(Jt,(xn[0]-kn[0]-1)/Cn),cn=Math.max(cn,(xn[1]-kn[1]-1)/Cn),pn=Math.max(pn,(xn[2]-kn[2]-1)/Cn),!(Jt<=Sn&&cn<=mn&&pn<=fn)){const Tn=wt.Util.makeHexColor(Pn[0],Pn[1],Pn[2]);hn.push([On/dn,Tn]),Sn=xn[0]-Pn[0]+1,mn=xn[1]-Pn[1]+1,fn=xn[2]-Pn[2]+1,Jt=xn[0]-Pn[0]-1,cn=xn[1]-Pn[1]-1,pn=xn[2]-Pn[2]-1,vn=On,kn=Pn}On=_n,Pn=xn}const wn=wt.Util.makeHexColor(Pn[0],Pn[1],Pn[2]);hn.push([1,wn]);let En="transparent";gn.has("Background")&&(xn=un.getRgb(gn.get("Background"),0),En=wt.Util.makeHexColor(xn[0],xn[1],xn[2])),an||(hn.unshift([0,En]),hn[1][0]+=Ht.SMALL_NUMBER),zt||(hn.at(-1)[0]-=Ht.SMALL_NUMBER,hn.push([1,En])),this.colorStops=hn}getIR(){const gn=this.coordsArr,tn=this.shadingType;let bn,Xt,Yt,un,Ut;return tn===vt.AXIAL?(Xt=[gn[0],gn[1]],Yt=[gn[2],gn[3]],un=null,Ut=null,bn="axial"):tn===vt.RADIAL?(Xt=[gn[0],gn[1]],Yt=[gn[3],gn[4]],un=gn[2],Ut=gn[5],bn="radial"):(0,wt.unreachable)(`getPattern type unknown: ${tn}`),["RadialAxial",bn,this.bbox,this.colorStops,Xt,Yt,un,Ut]}}class Nt{constructor(gn,tn){this.stream=gn,this.context=tn,this.buffer=0,this.bufferLength=0;const bn=tn.numComps;this.tmpCompsBuf=new Float32Array(bn);const Xt=tn.colorSpace.numComps;this.tmpCsCompsBuf=tn.colorFn?new Float32Array(Xt):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const gn=this.stream.getByte();return gn<0?!1:(this.buffer=gn,this.bufferLength=8,!0)}readBits(gn){let tn=this.buffer,bn=this.bufferLength;if(gn===32){if(bn===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;tn=tn<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const Xt=this.stream.getByte();return this.buffer=Xt&(1<<bn)-1,(tn<<8-bn|(Xt&255)>>bn)>>>0}if(gn===8&&bn===0)return this.stream.getByte();for(;bn<gn;)tn=tn<<8|this.stream.getByte(),bn+=8;return bn-=gn,this.bufferLength=bn,this.buffer=tn&(1<<bn)-1,tn>>bn}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const gn=this.context.bitsPerCoordinate,tn=this.readBits(gn),bn=this.readBits(gn),Xt=this.context.decode,Yt=gn<32?1/((1<<gn)-1):23283064365386963e-26;return[tn*Yt*(Xt[1]-Xt[0])+Xt[0],bn*Yt*(Xt[3]-Xt[2])+Xt[2]]}readComponents(){const gn=this.context.numComps,tn=this.context.bitsPerComponent,bn=tn<32?1/((1<<tn)-1):23283064365386963e-26,Xt=this.context.decode,Yt=this.tmpCompsBuf;for(let Ut=0,Lt=4;Ut<gn;Ut++,Lt+=2){const Vt=this.readBits(tn);Yt[Ut]=Vt*bn*(Xt[Lt+1]-Xt[Lt])+Xt[Lt]}const un=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(Yt,0,un,0),this.context.colorSpace.getRgb(un,0)}}let $t=Object.create(null);function Mt(en){const gn=[];for(let tn=0;tn<=en;tn++){const bn=tn/en,Xt=1-bn;gn.push(new Float32Array([Xt**3,3*bn*Xt**2,3*bn**2*Xt,bn**3]))}return gn}function Bt(en){return $t[en]||($t[en]=Mt(en))}function _t(){$t=Object.create(null)}const ln=class ln extends Ht{constructor(gn,tn,bn,Xt,Yt){if(super(),!(gn instanceof kt.BaseStream))throw new wt.FormatError("Mesh data is not a stream");const un=gn.dict;this.shadingType=un.get("ShadingType");const Ut=un.getArray("BBox");this.bbox=Array.isArray(Ut)&&Ut.length===4?wt.Util.normalizeRect(Ut):null;const Lt=Rt.ColorSpace.parse({cs:un.getRaw("CS")||un.getRaw("ColorSpace"),xref:tn,resources:bn,pdfFunctionFactory:Xt,localColorSpaceCache:Yt});this.background=un.has("Background")?Lt.getRgb(un.get("Background"),0):null;const Vt=un.getRaw("Function"),an=Vt?Xt.createFromArray(Vt):null;this.coords=[],this.colors=[],this.figures=[];const zt={bitsPerCoordinate:un.get("BitsPerCoordinate"),bitsPerComponent:un.get("BitsPerComponent"),bitsPerFlag:un.get("BitsPerFlag"),decode:un.getArray("Decode"),colorFn:an,colorSpace:Lt,numComps:an?1:Lt.numComps},Wt=new Nt(gn,zt);let nn=!1;switch(this.shadingType){case vt.FREE_FORM_MESH:this._decodeType4Shading(Wt);break;case vt.LATTICE_FORM_MESH:const dn=un.get("VerticesPerRow")|0;if(dn<2)throw new wt.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(Wt,dn);break;case vt.COONS_PATCH_MESH:this._decodeType6Shading(Wt),nn=!0;break;case vt.TENSOR_PATCH_MESH:this._decodeType7Shading(Wt),nn=!0;break;default:(0,wt.unreachable)("Unsupported mesh type.");break}if(nn){this._updateBounds();for(let dn=0,on=this.figures.length;dn<on;dn++)this._buildFigureFromPatch(dn)}this._updateBounds(),this._packData()}_decodeType4Shading(gn){const tn=this.coords,bn=this.colors,Xt=[];let Yt=0;for(;gn.hasData;){const un=gn.readFlag(),Ut=gn.readCoordinate(),Lt=gn.readComponents();if(Yt===0){if(!(0<=un&&un<=2))throw new wt.FormatError("Unknown type4 flag");switch(un){case 0:Yt=3;break;case 1:Xt.push(Xt.at(-2),Xt.at(-1)),Yt=1;break;case 2:Xt.push(Xt.at(-3),Xt.at(-1)),Yt=1;break}}Xt.push(tn.length),tn.push(Ut),bn.push(Lt),Yt--,gn.align()}this.figures.push({type:"triangles",coords:new Int32Array(Xt),colors:new Int32Array(Xt)})}_decodeType5Shading(gn,tn){const bn=this.coords,Xt=this.colors,Yt=[];for(;gn.hasData;){const un=gn.readCoordinate(),Ut=gn.readComponents();Yt.push(bn.length),bn.push(un),Xt.push(Ut)}this.figures.push({type:"lattice",coords:new Int32Array(Yt),colors:new Int32Array(Yt),verticesPerRow:tn})}_decodeType6Shading(gn){const tn=this.coords,bn=this.colors,Xt=new Int32Array(16),Yt=new Int32Array(4);for(;gn.hasData;){const un=gn.readFlag();if(!(0<=un&&un<=3))throw new wt.FormatError("Unknown type6 flag");const Ut=tn.length;for(let nn=0,dn=un!==0?8:12;nn<dn;nn++)tn.push(gn.readCoordinate());const Lt=bn.length;for(let nn=0,dn=un!==0?2:4;nn<dn;nn++)bn.push(gn.readComponents());let Vt,an,zt,Wt;switch(un){case 0:Xt[12]=Ut+3,Xt[13]=Ut+4,Xt[14]=Ut+5,Xt[15]=Ut+6,Xt[8]=Ut+2,Xt[11]=Ut+7,Xt[4]=Ut+1,Xt[7]=Ut+8,Xt[0]=Ut,Xt[1]=Ut+11,Xt[2]=Ut+10,Xt[3]=Ut+9,Yt[2]=Lt+1,Yt[3]=Lt+2,Yt[0]=Lt,Yt[1]=Lt+3;break;case 1:Vt=Xt[12],an=Xt[13],zt=Xt[14],Wt=Xt[15],Xt[12]=Wt,Xt[13]=Ut+0,Xt[14]=Ut+1,Xt[15]=Ut+2,Xt[8]=zt,Xt[11]=Ut+3,Xt[4]=an,Xt[7]=Ut+4,Xt[0]=Vt,Xt[1]=Ut+7,Xt[2]=Ut+6,Xt[3]=Ut+5,Vt=Yt[2],an=Yt[3],Yt[2]=an,Yt[3]=Lt,Yt[0]=Vt,Yt[1]=Lt+1;break;case 2:Vt=Xt[15],an=Xt[11],Xt[12]=Xt[3],Xt[13]=Ut+0,Xt[14]=Ut+1,Xt[15]=Ut+2,Xt[8]=Xt[7],Xt[11]=Ut+3,Xt[4]=an,Xt[7]=Ut+4,Xt[0]=Vt,Xt[1]=Ut+7,Xt[2]=Ut+6,Xt[3]=Ut+5,Vt=Yt[3],Yt[2]=Yt[1],Yt[3]=Lt,Yt[0]=Vt,Yt[1]=Lt+1;break;case 3:Xt[12]=Xt[0],Xt[13]=Ut+0,Xt[14]=Ut+1,Xt[15]=Ut+2,Xt[8]=Xt[1],Xt[11]=Ut+3,Xt[4]=Xt[2],Xt[7]=Ut+4,Xt[0]=Xt[3],Xt[1]=Ut+7,Xt[2]=Ut+6,Xt[3]=Ut+5,Yt[2]=Yt[0],Yt[3]=Lt,Yt[0]=Yt[1],Yt[1]=Lt+1;break}Xt[5]=tn.length,tn.push([(-4*tn[Xt[0]][0]-tn[Xt[15]][0]+6*(tn[Xt[4]][0]+tn[Xt[1]][0])-2*(tn[Xt[12]][0]+tn[Xt[3]][0])+3*(tn[Xt[13]][0]+tn[Xt[7]][0]))/9,(-4*tn[Xt[0]][1]-tn[Xt[15]][1]+6*(tn[Xt[4]][1]+tn[Xt[1]][1])-2*(tn[Xt[12]][1]+tn[Xt[3]][1])+3*(tn[Xt[13]][1]+tn[Xt[7]][1]))/9]),Xt[6]=tn.length,tn.push([(-4*tn[Xt[3]][0]-tn[Xt[12]][0]+6*(tn[Xt[2]][0]+tn[Xt[7]][0])-2*(tn[Xt[0]][0]+tn[Xt[15]][0])+3*(tn[Xt[4]][0]+tn[Xt[14]][0]))/9,(-4*tn[Xt[3]][1]-tn[Xt[12]][1]+6*(tn[Xt[2]][1]+tn[Xt[7]][1])-2*(tn[Xt[0]][1]+tn[Xt[15]][1])+3*(tn[Xt[4]][1]+tn[Xt[14]][1]))/9]),Xt[9]=tn.length,tn.push([(-4*tn[Xt[12]][0]-tn[Xt[3]][0]+6*(tn[Xt[8]][0]+tn[Xt[13]][0])-2*(tn[Xt[0]][0]+tn[Xt[15]][0])+3*(tn[Xt[11]][0]+tn[Xt[1]][0]))/9,(-4*tn[Xt[12]][1]-tn[Xt[3]][1]+6*(tn[Xt[8]][1]+tn[Xt[13]][1])-2*(tn[Xt[0]][1]+tn[Xt[15]][1])+3*(tn[Xt[11]][1]+tn[Xt[1]][1]))/9]),Xt[10]=tn.length,tn.push([(-4*tn[Xt[15]][0]-tn[Xt[0]][0]+6*(tn[Xt[11]][0]+tn[Xt[14]][0])-2*(tn[Xt[12]][0]+tn[Xt[3]][0])+3*(tn[Xt[2]][0]+tn[Xt[8]][0]))/9,(-4*tn[Xt[15]][1]-tn[Xt[0]][1]+6*(tn[Xt[11]][1]+tn[Xt[14]][1])-2*(tn[Xt[12]][1]+tn[Xt[3]][1])+3*(tn[Xt[2]][1]+tn[Xt[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(Xt),colors:new Int32Array(Yt)})}}_decodeType7Shading(gn){const tn=this.coords,bn=this.colors,Xt=new Int32Array(16),Yt=new Int32Array(4);for(;gn.hasData;){const un=gn.readFlag();if(!(0<=un&&un<=3))throw new wt.FormatError("Unknown type7 flag");const Ut=tn.length;for(let nn=0,dn=un!==0?12:16;nn<dn;nn++)tn.push(gn.readCoordinate());const Lt=bn.length;for(let nn=0,dn=un!==0?2:4;nn<dn;nn++)bn.push(gn.readComponents());let Vt,an,zt,Wt;switch(un){case 0:Xt[12]=Ut+3,Xt[13]=Ut+4,Xt[14]=Ut+5,Xt[15]=Ut+6,Xt[8]=Ut+2,Xt[9]=Ut+13,Xt[10]=Ut+14,Xt[11]=Ut+7,Xt[4]=Ut+1,Xt[5]=Ut+12,Xt[6]=Ut+15,Xt[7]=Ut+8,Xt[0]=Ut,Xt[1]=Ut+11,Xt[2]=Ut+10,Xt[3]=Ut+9,Yt[2]=Lt+1,Yt[3]=Lt+2,Yt[0]=Lt,Yt[1]=Lt+3;break;case 1:Vt=Xt[12],an=Xt[13],zt=Xt[14],Wt=Xt[15],Xt[12]=Wt,Xt[13]=Ut+0,Xt[14]=Ut+1,Xt[15]=Ut+2,Xt[8]=zt,Xt[9]=Ut+9,Xt[10]=Ut+10,Xt[11]=Ut+3,Xt[4]=an,Xt[5]=Ut+8,Xt[6]=Ut+11,Xt[7]=Ut+4,Xt[0]=Vt,Xt[1]=Ut+7,Xt[2]=Ut+6,Xt[3]=Ut+5,Vt=Yt[2],an=Yt[3],Yt[2]=an,Yt[3]=Lt,Yt[0]=Vt,Yt[1]=Lt+1;break;case 2:Vt=Xt[15],an=Xt[11],Xt[12]=Xt[3],Xt[13]=Ut+0,Xt[14]=Ut+1,Xt[15]=Ut+2,Xt[8]=Xt[7],Xt[9]=Ut+9,Xt[10]=Ut+10,Xt[11]=Ut+3,Xt[4]=an,Xt[5]=Ut+8,Xt[6]=Ut+11,Xt[7]=Ut+4,Xt[0]=Vt,Xt[1]=Ut+7,Xt[2]=Ut+6,Xt[3]=Ut+5,Vt=Yt[3],Yt[2]=Yt[1],Yt[3]=Lt,Yt[0]=Vt,Yt[1]=Lt+1;break;case 3:Xt[12]=Xt[0],Xt[13]=Ut+0,Xt[14]=Ut+1,Xt[15]=Ut+2,Xt[8]=Xt[1],Xt[9]=Ut+9,Xt[10]=Ut+10,Xt[11]=Ut+3,Xt[4]=Xt[2],Xt[5]=Ut+8,Xt[6]=Ut+11,Xt[7]=Ut+4,Xt[0]=Xt[3],Xt[1]=Ut+7,Xt[2]=Ut+6,Xt[3]=Ut+5,Yt[2]=Yt[0],Yt[3]=Lt,Yt[0]=Yt[1],Yt[1]=Lt+1;break}this.figures.push({type:"patch",coords:new Int32Array(Xt),colors:new Int32Array(Yt)})}}_buildFigureFromPatch(gn){const tn=this.figures[gn];(0,wt.assert)(tn.type==="patch","Unexpected patch mesh figure");const bn=this.coords,Xt=this.colors,Yt=tn.coords,un=tn.colors,Ut=Math.min(bn[Yt[0]][0],bn[Yt[3]][0],bn[Yt[12]][0],bn[Yt[15]][0]),Lt=Math.min(bn[Yt[0]][1],bn[Yt[3]][1],bn[Yt[12]][1],bn[Yt[15]][1]),Vt=Math.max(bn[Yt[0]][0],bn[Yt[3]][0],bn[Yt[12]][0],bn[Yt[15]][0]),an=Math.max(bn[Yt[0]][1],bn[Yt[3]][1],bn[Yt[12]][1],bn[Yt[15]][1]);let zt=Math.ceil((Vt-Ut)*ln.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));zt=Math.max(ln.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(ln.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,zt));let Wt=Math.ceil((an-Lt)*ln.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));Wt=Math.max(ln.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(ln.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,Wt));const nn=zt+1,dn=new Int32Array((Wt+1)*nn),on=new Int32Array((Wt+1)*nn);let hn=0;const sn=new Uint8Array(3),rn=new Uint8Array(3),xn=Xt[un[0]],vn=Xt[un[1]],kn=Xt[un[2]],Fn=Xt[un[3]],On=Bt(Wt),Pn=Bt(zt);for(let Sn=0;Sn<=Wt;Sn++){sn[0]=(xn[0]*(Wt-Sn)+kn[0]*Sn)/Wt|0,sn[1]=(xn[1]*(Wt-Sn)+kn[1]*Sn)/Wt|0,sn[2]=(xn[2]*(Wt-Sn)+kn[2]*Sn)/Wt|0,rn[0]=(vn[0]*(Wt-Sn)+Fn[0]*Sn)/Wt|0,rn[1]=(vn[1]*(Wt-Sn)+Fn[1]*Sn)/Wt|0,rn[2]=(vn[2]*(Wt-Sn)+Fn[2]*Sn)/Wt|0;for(let mn=0;mn<=zt;mn++,hn++){if((Sn===0||Sn===Wt)&&(mn===0||mn===zt))continue;let fn=0,Jt=0,cn=0;for(let wn=0;wn<=3;wn++)for(let En=0;En<=3;En++,cn++){const _n=On[Sn][wn]*Pn[mn][En];fn+=bn[Yt[cn]][0]*_n,Jt+=bn[Yt[cn]][1]*_n}dn[hn]=bn.length,bn.push([fn,Jt]),on[hn]=Xt.length;const pn=new Uint8Array(3);pn[0]=(sn[0]*(zt-mn)+rn[0]*mn)/zt|0,pn[1]=(sn[1]*(zt-mn)+rn[1]*mn)/zt|0,pn[2]=(sn[2]*(zt-mn)+rn[2]*mn)/zt|0,Xt.push(pn)}}dn[0]=Yt[0],on[0]=un[0],dn[zt]=Yt[3],on[zt]=un[1],dn[nn*Wt]=Yt[12],on[nn*Wt]=un[2],dn[nn*Wt+zt]=Yt[15],on[nn*Wt+zt]=un[3],this.figures[gn]={type:"lattice",coords:dn,colors:on,verticesPerRow:nn}}_updateBounds(){let gn=this.coords[0][0],tn=this.coords[0][1],bn=gn,Xt=tn;for(let Yt=1,un=this.coords.length;Yt<un;Yt++){const Ut=this.coords[Yt][0],Lt=this.coords[Yt][1];gn=gn>Ut?Ut:gn,tn=tn>Lt?Lt:tn,bn=bn<Ut?Ut:bn,Xt=Xt<Lt?Lt:Xt}this.bounds=[gn,tn,bn,Xt]}_packData(){let gn,tn,bn,Xt;const Yt=this.coords,un=new Float32Array(Yt.length*2);for(gn=0,bn=0,tn=Yt.length;gn<tn;gn++){const an=Yt[gn];un[bn++]=an[0],un[bn++]=an[1]}this.coords=un;const Ut=this.colors,Lt=new Uint8Array(Ut.length*3);for(gn=0,bn=0,tn=Ut.length;gn<tn;gn++){const an=Ut[gn];Lt[bn++]=an[0],Lt[bn++]=an[1],Lt[bn++]=an[2]}this.colors=Lt;const Vt=this.figures;for(gn=0,tn=Vt.length;gn<tn;gn++){const an=Vt[gn],zt=an.coords,Wt=an.colors;for(bn=0,Xt=zt.length;bn<Xt;bn++)zt[bn]*=2,Wt[bn]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}};Ur(ln,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3),Ur(ln,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20),Ur(ln,"TRIANGLE_DENSITY",20);let Kt=ln;class jt extends Ht{getIR(){return["Dummy"]}}function Gt(en,gn,tn){const bn=gn.getArray("Matrix"),Xt=wt.Util.normalizeRect(gn.getArray("BBox")),Yt=gn.get("XStep"),un=gn.get("YStep"),Ut=gn.get("PaintType"),Lt=gn.get("TilingType");if(Xt[2]-Xt[0]===0||Xt[3]-Xt[1]===0)throw new wt.FormatError(`Invalid getTilingPatternIR /BBox array: [${Xt}].`);return["TilingPattern",tn,en,bn,Xt,Yt,un,Ut,Lt]}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.getXfaFontDict=Bt,Ct.getXfaFontName=$t;var wt=Pt(52),kt=Pt(4),Rt=Pt(53),ht=Pt(54),vt=Pt(55),Ft=Pt(56),Ht=Pt(3),qt=Pt(38);const Nt=(0,Ht.getLookupTableFactory)(function(_t){_t["MyriadPro-Regular"]=_t["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:vt.MyriadProRegularFactors,baseWidths:ht.LiberationSansRegularWidths,baseMapping:ht.LiberationSansRegularMapping,metrics:vt.MyriadProRegularMetrics},_t["MyriadPro-Bold"]=_t["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:vt.MyriadProBoldFactors,baseWidths:ht.LiberationSansBoldWidths,baseMapping:ht.LiberationSansBoldMapping,metrics:vt.MyriadProBoldMetrics},_t["MyriadPro-It"]=_t["MyriadPro-Italic"]=_t["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:vt.MyriadProItalicFactors,baseWidths:ht.LiberationSansItalicWidths,baseMapping:ht.LiberationSansItalicMapping,metrics:vt.MyriadProItalicMetrics},_t["MyriadPro-BoldIt"]=_t["MyriadPro-BoldItalic"]=_t["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:vt.MyriadProBoldItalicFactors,baseWidths:ht.LiberationSansBoldItalicWidths,baseMapping:ht.LiberationSansBoldItalicMapping,metrics:vt.MyriadProBoldItalicMetrics},_t.ArialMT=_t.Arial=_t["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:ht.LiberationSansRegularWidths,baseMapping:ht.LiberationSansRegularMapping},_t["Arial-BoldMT"]=_t["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:ht.LiberationSansBoldWidths,baseMapping:ht.LiberationSansBoldMapping},_t["Arial-ItalicMT"]=_t["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:ht.LiberationSansItalicWidths,baseMapping:ht.LiberationSansItalicMapping},_t["Arial-BoldItalicMT"]=_t["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:ht.LiberationSansBoldItalicWidths,baseMapping:ht.LiberationSansBoldItalicMapping},_t["Calibri-Regular"]={name:"LiberationSans-Regular",factors:wt.CalibriRegularFactors,baseWidths:ht.LiberationSansRegularWidths,baseMapping:ht.LiberationSansRegularMapping,metrics:wt.CalibriRegularMetrics},_t["Calibri-Bold"]={name:"LiberationSans-Bold",factors:wt.CalibriBoldFactors,baseWidths:ht.LiberationSansBoldWidths,baseMapping:ht.LiberationSansBoldMapping,metrics:wt.CalibriBoldMetrics},_t["Calibri-Italic"]={name:"LiberationSans-Italic",factors:wt.CalibriItalicFactors,baseWidths:ht.LiberationSansItalicWidths,baseMapping:ht.LiberationSansItalicMapping,metrics:wt.CalibriItalicMetrics},_t["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:wt.CalibriBoldItalicFactors,baseWidths:ht.LiberationSansBoldItalicWidths,baseMapping:ht.LiberationSansBoldItalicMapping,metrics:wt.CalibriBoldItalicMetrics},_t["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:Ft.SegoeuiRegularFactors,baseWidths:ht.LiberationSansRegularWidths,baseMapping:ht.LiberationSansRegularMapping,metrics:Ft.SegoeuiRegularMetrics},_t["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:Ft.SegoeuiBoldFactors,baseWidths:ht.LiberationSansBoldWidths,baseMapping:ht.LiberationSansBoldMapping,metrics:Ft.SegoeuiBoldMetrics},_t["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:Ft.SegoeuiItalicFactors,baseWidths:ht.LiberationSansItalicWidths,baseMapping:ht.LiberationSansItalicMapping,metrics:Ft.SegoeuiItalicMetrics},_t["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Ft.SegoeuiBoldItalicFactors,baseWidths:ht.LiberationSansBoldItalicWidths,baseMapping:ht.LiberationSansBoldItalicMapping,metrics:Ft.SegoeuiBoldItalicMetrics},_t["Helvetica-Regular"]=_t.Helvetica={name:"LiberationSans-Regular",factors:Rt.HelveticaRegularFactors,baseWidths:ht.LiberationSansRegularWidths,baseMapping:ht.LiberationSansRegularMapping,metrics:Rt.HelveticaRegularMetrics},_t["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:Rt.HelveticaBoldFactors,baseWidths:ht.LiberationSansBoldWidths,baseMapping:ht.LiberationSansBoldMapping,metrics:Rt.HelveticaBoldMetrics},_t["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:Rt.HelveticaItalicFactors,baseWidths:ht.LiberationSansItalicWidths,baseMapping:ht.LiberationSansItalicMapping,metrics:Rt.HelveticaItalicMetrics},_t["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Rt.HelveticaBoldItalicFactors,baseWidths:ht.LiberationSansBoldItalicWidths,baseMapping:ht.LiberationSansBoldItalicMapping,metrics:Rt.HelveticaBoldItalicMetrics}});function $t(_t){const Kt=(0,qt.normalizeFontName)(_t);return Nt()[Kt]}function Mt(_t){const Kt=$t(_t);if(!Kt)return null;const{baseWidths:jt,baseMapping:Gt,factors:Qt}=Kt,ln=Qt?jt.map((bn,Xt)=>bn*Qt[Xt]):jt;let en=-2,gn;const tn=[];for(const[bn,Xt]of Gt.map((Yt,un)=>[Yt,un]).sort(([Yt],[un])=>Yt-un))bn!==-1&&(bn===en+1?(gn.push(ln[Xt]),en+=1):(en=bn,gn=[ln[Xt]],tn.push(bn,gn)));return tn}function Bt(_t){const Kt=Mt(_t),jt=new kt.Dict(null);jt.set("BaseFont",kt.Name.get(_t)),jt.set("Type",kt.Name.get("Font")),jt.set("Subtype",kt.Name.get("CIDFontType2")),jt.set("Encoding",kt.Name.get("Identity-H")),jt.set("CIDToGIDMap",kt.Name.get("Identity")),jt.set("W",Kt),jt.set("FirstChar",Kt[0]),jt.set("LastChar",Kt.at(-2)+Kt.at(-1).length-1);const Gt=new kt.Dict(null);jt.set("FontDescriptor",Gt);const Qt=new kt.Dict(null);return Qt.set("Ordering","Identity"),Qt.set("Registry","Adobe"),Qt.set("Supplement",0),jt.set("CIDSystemInfo",Qt),jt}},(Et,Ct)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.CalibriRegularMetrics=Ct.CalibriRegularFactors=Ct.CalibriItalicMetrics=Ct.CalibriItalicFactors=Ct.CalibriBoldMetrics=Ct.CalibriBoldItalicMetrics=Ct.CalibriBoldItalicFactors=Ct.CalibriBoldFactors=void 0;const Pt=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Ct.CalibriBoldFactors=Pt;const wt={lineHeight:1.2207,lineGap:.2207};Ct.CalibriBoldMetrics=wt;const kt=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Ct.CalibriBoldItalicFactors=kt;const Rt={lineHeight:1.2207,lineGap:.2207};Ct.CalibriBoldItalicMetrics=Rt;const ht=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Ct.CalibriItalicFactors=ht;const vt={lineHeight:1.2207,lineGap:.2207};Ct.CalibriItalicMetrics=vt;const Ft=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];Ct.CalibriRegularFactors=Ft;const Ht={lineHeight:1.2207,lineGap:.2207};Ct.CalibriRegularMetrics=Ht},(Et,Ct)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.HelveticaRegularMetrics=Ct.HelveticaRegularFactors=Ct.HelveticaItalicMetrics=Ct.HelveticaItalicFactors=Ct.HelveticaBoldMetrics=Ct.HelveticaBoldItalicMetrics=Ct.HelveticaBoldItalicFactors=Ct.HelveticaBoldFactors=void 0;const Pt=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Ct.HelveticaBoldFactors=Pt;const wt={lineHeight:1.2,lineGap:.2};Ct.HelveticaBoldMetrics=wt;const kt=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Ct.HelveticaBoldItalicFactors=kt;const Rt={lineHeight:1.35,lineGap:.2};Ct.HelveticaBoldItalicMetrics=Rt;const ht=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Ct.HelveticaItalicFactors=ht;const vt={lineHeight:1.35,lineGap:.2};Ct.HelveticaItalicMetrics=vt;const Ft=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Ct.HelveticaRegularFactors=Ft;const Ht={lineHeight:1.2,lineGap:.2};Ct.HelveticaRegularMetrics=Ht},(Et,Ct)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.LiberationSansRegularWidths=Ct.LiberationSansRegularMapping=Ct.LiberationSansItalicWidths=Ct.LiberationSansItalicMapping=Ct.LiberationSansBoldWidths=Ct.LiberationSansBoldMapping=Ct.LiberationSansBoldItalicWidths=Ct.LiberationSansBoldItalicMapping=void 0;const Pt=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];Ct.LiberationSansBoldWidths=Pt;const wt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Ct.LiberationSansBoldMapping=wt;const kt=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];Ct.LiberationSansBoldItalicWidths=kt;const Rt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Ct.LiberationSansBoldItalicMapping=Rt;const ht=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];Ct.LiberationSansItalicWidths=ht;const vt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Ct.LiberationSansItalicMapping=vt;const Ft=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];Ct.LiberationSansRegularWidths=Ft;const Ht=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Ct.LiberationSansRegularMapping=Ht},(Et,Ct)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.MyriadProRegularMetrics=Ct.MyriadProRegularFactors=Ct.MyriadProItalicMetrics=Ct.MyriadProItalicFactors=Ct.MyriadProBoldMetrics=Ct.MyriadProBoldItalicMetrics=Ct.MyriadProBoldItalicFactors=Ct.MyriadProBoldFactors=void 0;const Pt=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Ct.MyriadProBoldFactors=Pt;const wt={lineHeight:1.2,lineGap:.2};Ct.MyriadProBoldMetrics=wt;const kt=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Ct.MyriadProBoldItalicFactors=kt;const Rt={lineHeight:1.2,lineGap:.2};Ct.MyriadProBoldItalicMetrics=Rt;const ht=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Ct.MyriadProItalicFactors=ht;const vt={lineHeight:1.2,lineGap:.2};Ct.MyriadProItalicMetrics=vt;const Ft=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Ct.MyriadProRegularFactors=Ft;const Ht={lineHeight:1.2,lineGap:.2};Ct.MyriadProRegularMetrics=Ht},(Et,Ct)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.SegoeuiRegularMetrics=Ct.SegoeuiRegularFactors=Ct.SegoeuiItalicMetrics=Ct.SegoeuiItalicFactors=Ct.SegoeuiBoldMetrics=Ct.SegoeuiBoldItalicMetrics=Ct.SegoeuiBoldItalicFactors=Ct.SegoeuiBoldFactors=void 0;const Pt=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Ct.SegoeuiBoldFactors=Pt;const wt={lineHeight:1.33008,lineGap:0};Ct.SegoeuiBoldMetrics=wt;const kt=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Ct.SegoeuiBoldItalicFactors=kt;const Rt={lineHeight:1.33008,lineGap:0};Ct.SegoeuiBoldItalicMetrics=Rt;const ht=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Ct.SegoeuiItalicFactors=ht;const vt={lineHeight:1.33008,lineGap:0};Ct.SegoeuiItalicMetrics=vt;const Ft=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];Ct.SegoeuiRegularFactors=Ft;const Ht={lineHeight:1.33008,lineGap:0};Ct.SegoeuiRegularMetrics=Ht},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PostScriptEvaluator=Ct.PostScriptCompiler=Ct.PDFFunctionFactory=void 0,Ct.isPDFFunction=Nt;var wt=Pt(4),kt=Pt(2),Rt=Pt(58),ht=Pt(5),vt=Pt(59);class Ft{constructor({xref:Lt,isEvalSupported:Vt=!0}){this.xref=Lt,this.isEvalSupported=Vt!==!1}create(Lt){const Vt=this.getCached(Lt);if(Vt)return Vt;const an=qt.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:Lt instanceof wt.Ref?this.xref.fetch(Lt):Lt});return this._cache(Lt,an),an}createFromArray(Lt){const Vt=this.getCached(Lt);if(Vt)return Vt;const an=qt.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:Lt instanceof wt.Ref?this.xref.fetch(Lt):Lt});return this._cache(Lt,an),an}getCached(Lt){var an;let Vt;if(Lt instanceof wt.Ref?Vt=Lt:Lt instanceof wt.Dict?Vt=Lt.objId:Lt instanceof ht.BaseStream&&(Vt=(an=Lt.dict)==null?void 0:an.objId),Vt){const zt=this._localFunctionCache.getByRef(Vt);if(zt)return zt}return null}_cache(Lt,Vt){var zt;if(!Vt)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let an;Lt instanceof wt.Ref?an=Lt:Lt instanceof wt.Dict?an=Lt.objId:Lt instanceof ht.BaseStream&&(an=(zt=Lt.dict)==null?void 0:zt.objId),an&&this._localFunctionCache.set(null,an,Vt)}get _localFunctionCache(){return(0,kt.shadow)(this,"_localFunctionCache",new vt.LocalFunctionCache)}}Ct.PDFFunctionFactory=Ft;function Ht(Ut){if(!Array.isArray(Ut))return null;const Lt=Ut.length;for(let Vt=0;Vt<Lt;Vt++)if(typeof Ut[Vt]!="number"){const an=new Array(Lt);for(let zt=0;zt<Lt;zt++)an[zt]=+Ut[zt];return an}return Ut}class qt{static getSampleArray(Lt,Vt,an,zt){let Wt,nn,dn=1;for(Wt=0,nn=Lt.length;Wt<nn;Wt++)dn*=Lt[Wt];dn*=Vt;const on=new Array(dn);let hn=0,sn=0;const rn=1/(2**an-1),xn=zt.getBytes((dn*an+7)/8);let vn=0;for(Wt=0;Wt<dn;Wt++){for(;hn<an;)sn<<=8,sn|=xn[vn++],hn+=8;hn-=an,on[Wt]=(sn>>hn)*rn,sn&=(1<<hn)-1}return on}static parse({xref:Lt,isEvalSupported:Vt,fn:an}){const zt=an.dict||an;switch(zt.get("FunctionType")){case 0:return this.constructSampled({xref:Lt,isEvalSupported:Vt,fn:an,dict:zt});case 1:break;case 2:return this.constructInterpolated({xref:Lt,isEvalSupported:Vt,dict:zt});case 3:return this.constructStiched({xref:Lt,isEvalSupported:Vt,dict:zt});case 4:return this.constructPostScript({xref:Lt,isEvalSupported:Vt,fn:an,dict:zt})}throw new kt.FormatError("Unknown type of function")}static parseArray({xref:Lt,isEvalSupported:Vt,fnObj:an}){if(!Array.isArray(an))return this.parse({xref:Lt,isEvalSupported:Vt,fn:an});const zt=[];for(const Wt of an)zt.push(this.parse({xref:Lt,isEvalSupported:Vt,fn:Lt.fetchIfRef(Wt)}));return function(Wt,nn,dn,on){for(let hn=0,sn=zt.length;hn<sn;hn++)zt[hn](Wt,nn,dn,on+hn)}}static constructSampled({xref:Lt,isEvalSupported:Vt,fn:an,dict:zt}){function Wt(Pn){const Sn=Pn.length,mn=[];let fn=0;for(let Jt=0;Jt<Sn;Jt+=2)mn[fn++]=[Pn[Jt],Pn[Jt+1]];return mn}function nn(Pn,Sn,mn,fn,Jt){return fn+(Pn-Sn)*((Jt-fn)/(mn-Sn))}let dn=Ht(zt.getArray("Domain")),on=Ht(zt.getArray("Range"));if(!dn||!on)throw new kt.FormatError("No domain or range");const hn=dn.length/2,sn=on.length/2;dn=Wt(dn),on=Wt(on);const rn=Ht(zt.getArray("Size")),xn=zt.get("BitsPerSample"),vn=zt.get("Order")||1;vn!==1&&(0,kt.info)("No support for cubic spline interpolation: "+vn);let kn=Ht(zt.getArray("Encode"));if(kn)kn=Wt(kn);else{kn=[];for(let Pn=0;Pn<hn;++Pn)kn.push([0,rn[Pn]-1])}let Fn=Ht(zt.getArray("Decode"));Fn=Fn?Wt(Fn):on;const On=this.getSampleArray(rn,sn,xn,an);return function(Sn,mn,fn,Jt){const cn=1<<hn,pn=new Float64Array(cn),wn=new Uint32Array(cn);let En,_n;for(_n=0;_n<cn;_n++)pn[_n]=1;let Cn=sn,An=1;for(En=0;En<hn;++En){const Tn=dn[En][0],Mn=dn[En][1],Rn=Math.min(Math.max(Sn[mn+En],Tn),Mn);let Ln=nn(Rn,Tn,Mn,kn[En][0],kn[En][1]);const Dn=rn[En];Ln=Math.min(Math.max(Ln,0),Dn-1);const Un=Ln<Dn-1?Math.floor(Ln):Ln-1,tr=Un+1-Ln,er=Ln-Un,Qn=Un*Cn,Yn=Qn+Cn;for(_n=0;_n<cn;_n++)_n&An?(pn[_n]*=er,wn[_n]+=Yn):(pn[_n]*=tr,wn[_n]+=Qn);Cn*=Dn,An<<=1}for(_n=0;_n<sn;++_n){let Tn=0;for(En=0;En<cn;En++)Tn+=On[wn[En]+_n]*pn[En];Tn=nn(Tn,0,1,Fn[_n][0],Fn[_n][1]),fn[Jt+_n]=Math.min(Math.max(Tn,on[_n][0]),on[_n][1])}}}static constructInterpolated({xref:Lt,isEvalSupported:Vt,dict:an}){const zt=Ht(an.getArray("C0"))||[0],Wt=Ht(an.getArray("C1"))||[1],nn=an.get("N"),dn=[];for(let hn=0,sn=zt.length;hn<sn;++hn)dn.push(Wt[hn]-zt[hn]);const on=dn.length;return function(sn,rn,xn,vn){const kn=nn===1?sn[rn]:sn[rn]**nn;for(let Fn=0;Fn<on;++Fn)xn[vn+Fn]=zt[Fn]+kn*dn[Fn]}}static constructStiched({xref:Lt,isEvalSupported:Vt,dict:an}){const zt=Ht(an.getArray("Domain"));if(!zt)throw new kt.FormatError("No domain");if(zt.length/2!==1)throw new kt.FormatError("Bad domain for stiched function");const nn=[];for(const sn of an.get("Functions"))nn.push(this.parse({xref:Lt,isEvalSupported:Vt,fn:Lt.fetchIfRef(sn)}));const dn=Ht(an.getArray("Bounds")),on=Ht(an.getArray("Encode")),hn=new Float32Array(1);return function(rn,xn,vn,kn){const On=function(wn,En,_n){return wn>_n?wn=_n:wn<En&&(wn=En),wn}(rn[xn],zt[0],zt[1]),Pn=dn.length;let Sn;for(Sn=0;Sn<Pn&&!(On<dn[Sn]);++Sn);let mn=zt[0];Sn>0&&(mn=dn[Sn-1]);let fn=zt[1];Sn<dn.length&&(fn=dn[Sn]);const Jt=on[2*Sn],cn=on[2*Sn+1];hn[0]=mn===fn?Jt:Jt+(On-mn)*(cn-Jt)/(fn-mn),nn[Sn](hn,0,vn,kn)}}static constructPostScript({xref:Lt,isEvalSupported:Vt,fn:an,dict:zt}){const Wt=Ht(zt.getArray("Domain")),nn=Ht(zt.getArray("Range"));if(!Wt)throw new kt.FormatError("No domain.");if(!nn)throw new kt.FormatError("No range.");const dn=new Rt.PostScriptLexer(an),hn=new Rt.PostScriptParser(dn).parse();if(Vt&&kt.FeatureTest.isEvalSupported){const Pn=new Yt().compile(hn,Wt,nn);if(Pn)return new Function("src","srcOffset","dest","destOffset",Pn)}(0,kt.info)("Unable to compile PS function");const sn=nn.length>>1,rn=Wt.length>>1,xn=new Mt(hn),vn=Object.create(null);let Fn=2048*4;const On=new Float32Array(rn);return function(Sn,mn,fn,Jt){let cn,pn,wn="";const En=On;for(cn=0;cn<rn;cn++)pn=Sn[mn+cn],En[cn]=pn,wn+=pn+"_";const _n=vn[wn];if(_n!==void 0){fn.set(_n,Jt);return}const Cn=new Float32Array(sn),An=xn.execute(En),Tn=An.length-sn;for(cn=0;cn<sn;cn++){pn=An[Tn+cn];let Mn=nn[cn*2];pn<Mn?pn=Mn:(Mn=nn[cn*2+1],pn>Mn&&(pn=Mn)),Cn[cn]=pn}Fn>0&&(Fn--,vn[wn]=Cn),fn.set(Cn,Jt)}}}function Nt(Ut){let Lt;if(Ut instanceof wt.Dict)Lt=Ut;else if(Ut instanceof ht.BaseStream)Lt=Ut.dict;else return!1;return Lt.has("FunctionType")}const un=class un{constructor(Lt){this.stack=Lt?Array.from(Lt):[]}push(Lt){if(this.stack.length>=un.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(Lt)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(Lt){if(this.stack.length+Lt>=un.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const Vt=this.stack;for(let an=Vt.length-Lt,zt=Lt-1;zt>=0;zt--,an++)Vt.push(Vt[an])}index(Lt){this.push(this.stack[this.stack.length-Lt-1])}roll(Lt,Vt){const an=this.stack,zt=an.length-Lt,Wt=an.length-1,nn=zt+(Vt-Math.floor(Vt/Lt)*Lt);for(let dn=zt,on=Wt;dn<on;dn++,on--){const hn=an[dn];an[dn]=an[on],an[on]=hn}for(let dn=zt,on=nn-1;dn<on;dn++,on--){const hn=an[dn];an[dn]=an[on],an[on]=hn}for(let dn=nn,on=Wt;dn<on;dn++,on--){const hn=an[dn];an[dn]=an[on],an[on]=hn}}};Ur(un,"MAX_STACK_SIZE",100);let $t=un;class Mt{constructor(Lt){this.operators=Lt}execute(Lt){const Vt=new $t(Lt);let an=0;const zt=this.operators,Wt=zt.length;let nn,dn,on;for(;an<Wt;){if(nn=zt[an++],typeof nn=="number"){Vt.push(nn);continue}switch(nn){case"jz":on=Vt.pop(),dn=Vt.pop(),dn||(an=on);break;case"j":dn=Vt.pop(),an=dn;break;case"abs":dn=Vt.pop(),Vt.push(Math.abs(dn));break;case"add":on=Vt.pop(),dn=Vt.pop(),Vt.push(dn+on);break;case"and":on=Vt.pop(),dn=Vt.pop(),typeof dn=="boolean"&&typeof on=="boolean"?Vt.push(dn&&on):Vt.push(dn&on);break;case"atan":on=Vt.pop(),dn=Vt.pop(),dn=Math.atan2(dn,on)/Math.PI*180,dn<0&&(dn+=360),Vt.push(dn);break;case"bitshift":on=Vt.pop(),dn=Vt.pop(),dn>0?Vt.push(dn<<on):Vt.push(dn>>on);break;case"ceiling":dn=Vt.pop(),Vt.push(Math.ceil(dn));break;case"copy":dn=Vt.pop(),Vt.copy(dn);break;case"cos":dn=Vt.pop(),Vt.push(Math.cos(dn%360/180*Math.PI));break;case"cvi":dn=Vt.pop()|0,Vt.push(dn);break;case"cvr":break;case"div":on=Vt.pop(),dn=Vt.pop(),Vt.push(dn/on);break;case"dup":Vt.copy(1);break;case"eq":on=Vt.pop(),dn=Vt.pop(),Vt.push(dn===on);break;case"exch":Vt.roll(2,1);break;case"exp":on=Vt.pop(),dn=Vt.pop(),Vt.push(dn**on);break;case"false":Vt.push(!1);break;case"floor":dn=Vt.pop(),Vt.push(Math.floor(dn));break;case"ge":on=Vt.pop(),dn=Vt.pop(),Vt.push(dn>=on);break;case"gt":on=Vt.pop(),dn=Vt.pop(),Vt.push(dn>on);break;case"idiv":on=Vt.pop(),dn=Vt.pop(),Vt.push(dn/on|0);break;case"index":dn=Vt.pop(),Vt.index(dn);break;case"le":on=Vt.pop(),dn=Vt.pop(),Vt.push(dn<=on);break;case"ln":dn=Vt.pop(),Vt.push(Math.log(dn));break;case"log":dn=Vt.pop(),Vt.push(Math.log10(dn));break;case"lt":on=Vt.pop(),dn=Vt.pop(),Vt.push(dn<on);break;case"mod":on=Vt.pop(),dn=Vt.pop(),Vt.push(dn%on);break;case"mul":on=Vt.pop(),dn=Vt.pop(),Vt.push(dn*on);break;case"ne":on=Vt.pop(),dn=Vt.pop(),Vt.push(dn!==on);break;case"neg":dn=Vt.pop(),Vt.push(-dn);break;case"not":dn=Vt.pop(),typeof dn=="boolean"?Vt.push(!dn):Vt.push(~dn);break;case"or":on=Vt.pop(),dn=Vt.pop(),typeof dn=="boolean"&&typeof on=="boolean"?Vt.push(dn||on):Vt.push(dn|on);break;case"pop":Vt.pop();break;case"roll":on=Vt.pop(),dn=Vt.pop(),Vt.roll(dn,on);break;case"round":dn=Vt.pop(),Vt.push(Math.round(dn));break;case"sin":dn=Vt.pop(),Vt.push(Math.sin(dn%360/180*Math.PI));break;case"sqrt":dn=Vt.pop(),Vt.push(Math.sqrt(dn));break;case"sub":on=Vt.pop(),dn=Vt.pop(),Vt.push(dn-on);break;case"true":Vt.push(!0);break;case"truncate":dn=Vt.pop(),dn=dn<0?Math.ceil(dn):Math.floor(dn),Vt.push(dn);break;case"xor":on=Vt.pop(),dn=Vt.pop(),typeof dn=="boolean"&&typeof on=="boolean"?Vt.push(dn!==on):Vt.push(dn^on);break;default:throw new kt.FormatError(`Unknown operator ${nn}`)}}return Vt.stack}}Ct.PostScriptEvaluator=Mt;class Bt{constructor(Lt){this.type=Lt}visit(Lt){(0,kt.unreachable)("abstract method")}}class _t extends Bt{constructor(Lt,Vt,an){super("args"),this.index=Lt,this.min=Vt,this.max=an}visit(Lt){Lt.visitArgument(this)}}class Kt extends Bt{constructor(Lt){super("literal"),this.number=Lt,this.min=Lt,this.max=Lt}visit(Lt){Lt.visitLiteral(this)}}class jt extends Bt{constructor(Lt,Vt,an,zt,Wt){super("binary"),this.op=Lt,this.arg1=Vt,this.arg2=an,this.min=zt,this.max=Wt}visit(Lt){Lt.visitBinaryOperation(this)}}class Gt extends Bt{constructor(Lt,Vt){super("max"),this.arg=Lt,this.min=Lt.min,this.max=Vt}visit(Lt){Lt.visitMin(this)}}class Qt extends Bt{constructor(Lt,Vt,an){super("var"),this.index=Lt,this.min=Vt,this.max=an}visit(Lt){Lt.visitVariable(this)}}class ln extends Bt{constructor(Lt,Vt){super("definition"),this.variable=Lt,this.arg=Vt}visit(Lt){Lt.visitVariableDefinition(this)}}class en{constructor(){this.parts=[]}visitArgument(Lt){this.parts.push("Math.max(",Lt.min,", Math.min(",Lt.max,", src[srcOffset + ",Lt.index,"]))")}visitVariable(Lt){this.parts.push("v",Lt.index)}visitLiteral(Lt){this.parts.push(Lt.number)}visitBinaryOperation(Lt){this.parts.push("("),Lt.arg1.visit(this),this.parts.push(" ",Lt.op," "),Lt.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(Lt){this.parts.push("var "),Lt.variable.visit(this),this.parts.push(" = "),Lt.arg.visit(this),this.parts.push(";")}visitMin(Lt){this.parts.push("Math.min("),Lt.arg.visit(this),this.parts.push(", ",Lt.max,")")}toString(){return this.parts.join("")}}function gn(Ut,Lt){return Lt.type==="literal"&&Lt.number===0?Ut:Ut.type==="literal"&&Ut.number===0?Lt:Lt.type==="literal"&&Ut.type==="literal"?new Kt(Ut.number+Lt.number):new jt("+",Ut,Lt,Ut.min+Lt.min,Ut.max+Lt.max)}function tn(Ut,Lt){if(Lt.type==="literal"){if(Lt.number===0)return new Kt(0);if(Lt.number===1)return Ut;if(Ut.type==="literal")return new Kt(Ut.number*Lt.number)}if(Ut.type==="literal"){if(Ut.number===0)return new Kt(0);if(Ut.number===1)return Lt}const Vt=Math.min(Ut.min*Lt.min,Ut.min*Lt.max,Ut.max*Lt.min,Ut.max*Lt.max),an=Math.max(Ut.min*Lt.min,Ut.min*Lt.max,Ut.max*Lt.min,Ut.max*Lt.max);return new jt("*",Ut,Lt,Vt,an)}function bn(Ut,Lt){if(Lt.type==="literal"){if(Lt.number===0)return Ut;if(Ut.type==="literal")return new Kt(Ut.number-Lt.number)}return Lt.type==="binary"&&Lt.op==="-"&&Ut.type==="literal"&&Ut.number===1&&Lt.arg1.type==="literal"&&Lt.arg1.number===1?Lt.arg2:new jt("-",Ut,Lt,Ut.min-Lt.max,Ut.max-Lt.min)}function Xt(Ut,Lt){return Ut.min>=Lt?new Kt(Lt):Ut.max<=Lt?Ut:new Gt(Ut,Lt)}class Yt{compile(Lt,Vt,an){const zt=[],Wt=[],nn=Vt.length>>1,dn=an.length>>1;let on=0,hn,sn,rn,xn,vn,kn,Fn,On;for(let Sn=0;Sn<nn;Sn++)zt.push(new _t(Sn,Vt[Sn*2],Vt[Sn*2+1]));for(let Sn=0,mn=Lt.length;Sn<mn;Sn++){if(On=Lt[Sn],typeof On=="number"){zt.push(new Kt(On));continue}switch(On){case"add":if(zt.length<2)return null;xn=zt.pop(),rn=zt.pop(),zt.push(gn(rn,xn));break;case"cvr":if(zt.length<1)return null;break;case"mul":if(zt.length<2)return null;xn=zt.pop(),rn=zt.pop(),zt.push(tn(rn,xn));break;case"sub":if(zt.length<2)return null;xn=zt.pop(),rn=zt.pop(),zt.push(bn(rn,xn));break;case"exch":if(zt.length<2)return null;vn=zt.pop(),kn=zt.pop(),zt.push(vn,kn);break;case"pop":if(zt.length<1)return null;zt.pop();break;case"index":if(zt.length<1||(rn=zt.pop(),rn.type!=="literal")||(hn=rn.number,hn<0||!Number.isInteger(hn)||zt.length<hn))return null;if(vn=zt[zt.length-hn-1],vn.type==="literal"||vn.type==="var"){zt.push(vn);break}Fn=new Qt(on++,vn.min,vn.max),zt[zt.length-hn-1]=Fn,zt.push(Fn),Wt.push(new ln(Fn,vn));break;case"dup":if(zt.length<1)return null;if(typeof Lt[Sn+1]=="number"&&Lt[Sn+2]==="gt"&&Lt[Sn+3]===Sn+7&&Lt[Sn+4]==="jz"&&Lt[Sn+5]==="pop"&&Lt[Sn+6]===Lt[Sn+1]){rn=zt.pop(),zt.push(Xt(rn,Lt[Sn+1])),Sn+=6;break}if(vn=zt.at(-1),vn.type==="literal"||vn.type==="var"){zt.push(vn);break}Fn=new Qt(on++,vn.min,vn.max),zt[zt.length-1]=Fn,zt.push(Fn),Wt.push(new ln(Fn,vn));break;case"roll":if(zt.length<2||(xn=zt.pop(),rn=zt.pop(),xn.type!=="literal"||rn.type!=="literal")||(sn=xn.number,hn=rn.number,hn<=0||!Number.isInteger(hn)||!Number.isInteger(sn)||zt.length<hn))return null;if(sn=(sn%hn+hn)%hn,sn===0)break;zt.push(...zt.splice(zt.length-hn,hn-sn));break;default:return null}}if(zt.length!==dn)return null;const Pn=[];for(const Sn of Wt){const mn=new en;Sn.visit(mn),Pn.push(mn.toString())}for(let Sn=0,mn=zt.length;Sn<mn;Sn++){const fn=zt[Sn],Jt=new en;fn.visit(Jt);const cn=an[Sn*2],pn=an[Sn*2+1],wn=[Jt.toString()];cn>fn.min&&(wn.unshift("Math.max(",cn,", "),wn.push(")")),pn<fn.max&&(wn.unshift("Math.min(",pn,", "),wn.push(")")),wn.unshift("dest[destOffset + ",Sn,"] = "),wn.push(";"),Pn.push(wn.join(""))}return Pn.join(`
`)}}Ct.PostScriptCompiler=Yt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PostScriptParser=Ct.PostScriptLexer=void 0;var wt=Pt(2),kt=Pt(4),Rt=Pt(3);class ht{constructor(Nt){this.lexer=Nt,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(Nt){return this.token.type===Nt?(this.nextToken(),!0):!1}expect(Nt){if(this.accept(Nt))return!0;throw new wt.FormatError(`Unexpected symbol: found ${this.token.type} expected ${Nt}.`)}parse(){return this.nextToken(),this.expect(vt.LBRACE),this.parseBlock(),this.expect(vt.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(vt.NUMBER))this.operators.push(this.prev.value);else if(this.accept(vt.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(vt.LBRACE))this.parseCondition();else return}parseCondition(){const Nt=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(vt.RBRACE),this.accept(vt.IF))this.operators[Nt]=this.operators.length,this.operators[Nt+1]="jz";else if(this.accept(vt.LBRACE)){const $t=this.operators.length;this.operators.push(null,null);const Mt=this.operators.length;this.parseBlock(),this.expect(vt.RBRACE),this.expect(vt.IFELSE),this.operators[$t]=this.operators.length,this.operators[$t+1]="j",this.operators[Nt]=Mt,this.operators[Nt+1]="jz"}else throw new wt.FormatError("PS Function: error parsing conditional.")}}Ct.PostScriptParser=ht;const vt={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class Ft{static get opCache(){return(0,wt.shadow)(this,"opCache",Object.create(null))}constructor(Nt,$t){this.type=Nt,this.value=$t}static getOperator(Nt){var $t;return($t=Ft.opCache)[Nt]||($t[Nt]=new Ft(vt.OPERATOR,Nt))}static get LBRACE(){return(0,wt.shadow)(this,"LBRACE",new Ft(vt.LBRACE,"{"))}static get RBRACE(){return(0,wt.shadow)(this,"RBRACE",new Ft(vt.RBRACE,"}"))}static get IF(){return(0,wt.shadow)(this,"IF",new Ft(vt.IF,"IF"))}static get IFELSE(){return(0,wt.shadow)(this,"IFELSE",new Ft(vt.IFELSE,"IFELSE"))}}class Ht{constructor(Nt){this.stream=Nt,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let Nt=!1,$t=this.currentChar;for(;;){if($t<0)return kt.EOF;if(Nt)($t===10||$t===13)&&(Nt=!1);else if($t===37)Nt=!0;else if(!(0,Rt.isWhiteSpace)($t))break;$t=this.nextChar()}switch($t|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new Ft(vt.NUMBER,this.getNumber());case 123:return this.nextChar(),Ft.LBRACE;case 125:return this.nextChar(),Ft.RBRACE}const Mt=this.strBuf;for(Mt.length=0,Mt[0]=String.fromCharCode($t);($t=this.nextChar())>=0&&($t>=65&&$t<=90||$t>=97&&$t<=122);)Mt.push(String.fromCharCode($t));const Bt=Mt.join("");switch(Bt.toLowerCase()){case"if":return Ft.IF;case"ifelse":return Ft.IFELSE;default:return Ft.getOperator(Bt)}}getNumber(){let Nt=this.currentChar;const $t=this.strBuf;for($t.length=0,$t[0]=String.fromCharCode(Nt);(Nt=this.nextChar())>=0&&(Nt>=48&&Nt<=57||Nt===45||Nt===46);)$t.push(String.fromCharCode(Nt));const Mt=parseFloat($t.join(""));if(isNaN(Mt))throw new wt.FormatError(`Invalid floating point number: ${Mt}`);return Mt}}Ct.PostScriptLexer=Ht},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.RegionalImageCache=Ct.LocalTilingPatternCache=Ct.LocalImageCache=Ct.LocalGStateCache=Ct.LocalFunctionCache=Ct.LocalColorSpaceCache=Ct.GlobalImageCache=void 0;var wt=Pt(2),kt=Pt(4);class Rt{constructor(_t){this.constructor===Rt&&(0,wt.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(_t==null?void 0:_t.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new kt.RefSetCache}getByName(_t){this._onlyRefs&&(0,wt.unreachable)("Should not call `getByName` method.");const Kt=this._nameRefMap.get(_t);return Kt?this.getByRef(Kt):this._imageMap.get(_t)||null}getByRef(_t){return this._imageCache.get(_t)||null}set(_t,Kt,jt){(0,wt.unreachable)("Abstract method `set` called.")}}class ht extends Rt{set(_t,Kt=null,jt){if(typeof _t!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(Kt){if(this._imageCache.has(Kt))return;this._nameRefMap.set(_t,Kt),this._imageCache.put(Kt,jt);return}this._imageMap.has(_t)||this._imageMap.set(_t,jt)}}Ct.LocalImageCache=ht;class vt extends Rt{set(_t=null,Kt=null,jt){if(typeof _t!="string"&&!Kt)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(Kt){if(this._imageCache.has(Kt))return;_t!==null&&this._nameRefMap.set(_t,Kt),this._imageCache.put(Kt,jt);return}this._imageMap.has(_t)||this._imageMap.set(_t,jt)}}Ct.LocalColorSpaceCache=vt;class Ft extends Rt{constructor(_t){super({onlyRefs:!0})}set(_t=null,Kt,jt){if(!Kt)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(Kt)||this._imageCache.put(Kt,jt)}}Ct.LocalFunctionCache=Ft;class Ht extends Rt{set(_t,Kt=null,jt){if(typeof _t!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(Kt){if(this._imageCache.has(Kt))return;this._nameRefMap.set(_t,Kt),this._imageCache.put(Kt,jt);return}this._imageMap.has(_t)||this._imageMap.set(_t,jt)}}Ct.LocalGStateCache=Ht;class qt extends Rt{constructor(_t){super({onlyRefs:!0})}set(_t=null,Kt,jt){if(!Kt)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(Kt)||this._imageCache.put(Kt,jt)}}Ct.LocalTilingPatternCache=qt;class Nt extends Rt{constructor(_t){super({onlyRefs:!0})}set(_t=null,Kt,jt){if(!Kt)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(Kt)||this._imageCache.put(Kt,jt)}}Ct.RegionalImageCache=Nt;const Mt=class Mt{constructor(){this._refCache=new kt.RefSetCache,this._imageCache=new kt.RefSetCache}get _byteSize(){let _t=0;for(const Kt of this._imageCache)_t+=Kt.byteSize;return _t}get _cacheLimitReached(){return!(this._imageCache.size<Mt.MIN_IMAGES_TO_CACHE||this._byteSize<Mt.MAX_BYTE_SIZE)}shouldCache(_t,Kt){let jt=this._refCache.get(_t);return jt||(jt=new Set,this._refCache.put(_t,jt)),jt.add(Kt),!(jt.size<Mt.NUM_PAGES_THRESHOLD||!this._imageCache.has(_t)&&this._cacheLimitReached)}addByteSize(_t,Kt){const jt=this._imageCache.get(_t);jt&&(jt.byteSize||(jt.byteSize=Kt))}getData(_t,Kt){const jt=this._refCache.get(_t);if(!jt||jt.size<Mt.NUM_PAGES_THRESHOLD)return null;const Gt=this._imageCache.get(_t);return Gt?(jt.add(Kt),Gt):null}setData(_t,Kt){if(!this._refCache.has(_t))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(_t)){if(this._cacheLimitReached){(0,wt.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(_t,Kt)}}clear(_t=!1){_t||this._refCache.clear(),this._imageCache.clear()}};Ur(Mt,"NUM_PAGES_THRESHOLD",2),Ur(Mt,"MIN_IMAGES_TO_CACHE",10),Ur(Mt,"MAX_BYTE_SIZE",5*wt.MAX_IMAGE_SIZE_TO_CACHE);let $t=Mt;Ct.GlobalImageCache=$t},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.bidi=Bt;var wt=Pt(2);const kt=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],Rt=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function ht(_t){return(_t&1)!==0}function vt(_t){return(_t&1)===0}function Ft(_t,Kt,jt){let Gt,Qt;for(Gt=Kt,Qt=_t.length;Gt<Qt;++Gt)if(_t[Gt]!==jt)return Gt;return Gt}function Ht(_t,Kt,jt,Gt){for(let Qt=Kt;Qt<jt;++Qt)_t[Qt]=Gt}function qt(_t,Kt,jt){for(let Gt=Kt,Qt=jt-1;Gt<Qt;++Gt,--Qt){const ln=_t[Gt];_t[Gt]=_t[Qt],_t[Qt]=ln}}function Nt(_t,Kt,jt=!1){let Gt="ltr";return jt?Gt="ttb":Kt||(Gt="rtl"),{str:_t,dir:Gt}}const $t=[],Mt=[];function Bt(_t,Kt=-1,jt=!1){let Gt=!0;const Qt=_t.length;if(Qt===0||jt)return Nt(_t,Gt,jt);$t.length=Qt,Mt.length=Qt;let ln=0,en,gn;for(en=0;en<Qt;++en){$t[en]=_t.charAt(en);const zt=_t.charCodeAt(en);let Wt="L";zt<=255?Wt=kt[zt]:1424<=zt&&zt<=1524?Wt="R":1536<=zt&&zt<=1791?(Wt=Rt[zt&255],Wt||(0,wt.warn)("Bidi: invalid Unicode character "+zt.toString(16))):(1792<=zt&&zt<=2220||64336<=zt&&zt<=65023||65136<=zt&&zt<=65279)&&(Wt="AL"),(Wt==="R"||Wt==="AL"||Wt==="AN")&&ln++,Mt[en]=Wt}if(ln===0)return Gt=!0,Nt(_t,Gt);Kt===-1&&(ln/Qt<.3&&Qt>4?(Gt=!0,Kt=0):(Gt=!1,Kt=1));const tn=[];for(en=0;en<Qt;++en)tn[en]=Kt;const bn=ht(Kt)?"R":"L",Xt=bn,Yt=Xt;let un=Xt;for(en=0;en<Qt;++en)Mt[en]==="NSM"?Mt[en]=un:un=Mt[en];un=Xt;let Ut;for(en=0;en<Qt;++en)Ut=Mt[en],Ut==="EN"?Mt[en]=un==="AL"?"AN":"EN":(Ut==="R"||Ut==="L"||Ut==="AL")&&(un=Ut);for(en=0;en<Qt;++en)Ut=Mt[en],Ut==="AL"&&(Mt[en]="R");for(en=1;en<Qt-1;++en)Mt[en]==="ES"&&Mt[en-1]==="EN"&&Mt[en+1]==="EN"&&(Mt[en]="EN"),Mt[en]==="CS"&&(Mt[en-1]==="EN"||Mt[en-1]==="AN")&&Mt[en+1]===Mt[en-1]&&(Mt[en]=Mt[en-1]);for(en=0;en<Qt;++en)if(Mt[en]==="EN"){for(let zt=en-1;zt>=0&&Mt[zt]==="ET";--zt)Mt[zt]="EN";for(let zt=en+1;zt<Qt&&Mt[zt]==="ET";++zt)Mt[zt]="EN"}for(en=0;en<Qt;++en)Ut=Mt[en],(Ut==="WS"||Ut==="ES"||Ut==="ET"||Ut==="CS")&&(Mt[en]="ON");for(un=Xt,en=0;en<Qt;++en)Ut=Mt[en],Ut==="EN"?Mt[en]=un==="L"?"L":"EN":(Ut==="R"||Ut==="L")&&(un=Ut);for(en=0;en<Qt;++en)if(Mt[en]==="ON"){const zt=Ft(Mt,en+1,"ON");let Wt=Xt;en>0&&(Wt=Mt[en-1]);let nn=Yt;zt+1<Qt&&(nn=Mt[zt+1]),Wt!=="L"&&(Wt="R"),nn!=="L"&&(nn="R"),Wt===nn&&Ht(Mt,en,zt,Wt),en=zt-1}for(en=0;en<Qt;++en)Mt[en]==="ON"&&(Mt[en]=bn);for(en=0;en<Qt;++en)Ut=Mt[en],vt(tn[en])?Ut==="R"?tn[en]+=1:(Ut==="AN"||Ut==="EN")&&(tn[en]+=2):(Ut==="L"||Ut==="AN"||Ut==="EN")&&(tn[en]+=1);let Lt=-1,Vt=99,an;for(en=0,gn=tn.length;en<gn;++en)an=tn[en],Lt<an&&(Lt=an),Vt>an&&ht(an)&&(Vt=an);for(an=Lt;an>=Vt;--an){let zt=-1;for(en=0,gn=tn.length;en<gn;++en)tn[en]<an?zt>=0&&(qt($t,zt,en),zt=-1):zt<0&&(zt=en);zt>=0&&qt($t,zt,tn.length)}for(en=0,gn=$t.length;en<gn;++en){const zt=$t[en];(zt==="<"||zt===">")&&($t[en]="")}return Nt($t.join(""),Gt)}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.getFontSubstitution=Mt;var wt=Pt(38),kt=Pt(3);const Rt={style:"normal",weight:"normal"},ht={style:"normal",weight:"bold"},vt={style:"italic",weight:"normal"},Ft={style:"italic",weight:"bold"},Ht=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:Rt,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:ht,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:vt,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:Ft,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:Rt,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:ht,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:vt,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:Ft,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:Rt,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:ht,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:vt,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:Ft,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:Rt,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:ht,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:vt,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:Ft,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:Rt,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:ht,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:vt,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:Ft,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:Rt}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),qt=new Map([["Arial-Black","ArialBlack"]]);function Nt(Bt){switch(Bt){case ht:return"Bold";case vt:return"Italic";case Ft:return"Bold Italic";default:if((Bt==null?void 0:Bt.weight)==="bold")return"Bold";if((Bt==null?void 0:Bt.style)==="italic")return"Italic"}return""}function $t({alias:Bt,local:_t,path:Kt,fallback:jt,style:Gt,ultimate:Qt},ln,en,gn=!0,tn=!0,bn=""){const Xt={style:null,ultimate:null};if(_t){const Yt=bn?` ${bn}`:"";for(const un of _t)ln.push(`local(${un}${Yt})`)}if(Bt){const Yt=Ht.get(Bt),un=bn||Nt(Gt);Object.assign(Xt,$t(Yt,ln,en,gn&&!jt,tn&&!Kt,un))}if(Gt&&(Xt.style=Gt),Qt&&(Xt.ultimate=Qt),gn&&jt){const Yt=Ht.get(jt),{ultimate:un}=$t(Yt,ln,en,gn,tn&&!Kt,bn);Xt.ultimate||(Xt.ultimate=un)}return tn&&Kt&&en&&ln.push(`url(${en}${Kt})`),Xt}function Mt(Bt,_t,Kt,jt,Gt){jt=(0,wt.normalizeFontName)(jt);const Qt=jt;let ln=Bt.get(Qt);if(ln)return ln;let en=Ht.get(jt);if(!en){for(const[Lt,Vt]of qt)if(jt.startsWith(Lt)){jt=`${Vt}${jt.substring(Lt.length)}`,en=Ht.get(jt);break}}let gn=!1;en||(en=Ht.get(Gt),gn=!0);const tn=`${_t.getDocId()}_s${_t.createFontId()}`;if(!en){if(!(0,kt.validateFontName)(jt))return Bt.set(Qt,null),null;const Lt=/bold/gi.test(jt),Vt=/oblique|italic/gi.test(jt),an=Lt&&Vt&&Ft||Lt&&ht||Vt&&vt||Rt;return ln={css:tn,guessFallback:!0,loadedName:tn,baseFontName:jt,src:`local(${jt})`,style:an},Bt.set(Qt,ln),ln}const bn=[];gn&&(0,kt.validateFontName)(jt)&&bn.push(`local(${jt})`);const{style:Xt,ultimate:Yt}=$t(en,bn,Kt),un=Yt===null,Ut=un?"":`,${Yt}`;return ln={css:`${tn}${Ut}`,guessFallback:un,loadedName:tn,baseFontName:jt,src:bn.join(","),style:Xt},Bt.set(Qt,ln),ln}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.ImageResizer=void 0;var wt=Pt(2);const kt=2048,Rt=65537,ht=128;class vt{constructor(Ht,qt){this._imgData=Ht,this._isMask=qt}static needsToBeResized(Ht,qt){if(Ht<=this._goodSquareLength&&qt<=this._goodSquareLength)return!1;const{MAX_DIM:Nt}=this;if(Ht>Nt||qt>Nt)return!0;const $t=Ht*qt;if(this._hasMaxArea)return $t>this.MAX_AREA;if($t<this._goodSquareLength**2)return!1;if(this._areGoodDims(Ht,qt))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(Ht*qt))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,Nt,ht,0);const Mt=this.MAX_AREA=this._goodSquareLength**2;return $t>Mt}static get MAX_DIM(){return(0,wt.shadow)(this,"MAX_DIM",this._guessMax(kt,Rt,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,(0,wt.shadow)(this,"MAX_AREA",this._guessMax(vt._goodSquareLength,this.MAX_DIM,ht,0)**2)}static set MAX_AREA(Ht){Ht>=0&&(this._hasMaxArea=!0,(0,wt.shadow)(this,"MAX_AREA",Ht))}static setMaxArea(Ht){this._hasMaxArea||(this.MAX_AREA=Ht>>2)}static _areGoodDims(Ht,qt){try{const Nt=new OffscreenCanvas(Ht,qt),$t=Nt.getContext("2d");$t.fillRect(0,0,1,1);const Mt=$t.getImageData(0,0,1,1).data[3];return Nt.width=Nt.height=1,Mt!==0}catch{return!1}}static _guessMax(Ht,qt,Nt,$t){for(;Ht+Nt+1<qt;){const Mt=Math.floor((Ht+qt)/2),Bt=$t||Mt;this._areGoodDims(Mt,Bt)?Ht=Mt:qt=Mt}return Ht}static async createImage(Ht,qt=!1){return new vt(Ht,qt)._createImage()}async _createImage(){const Ht=this._encodeBMP(),qt=new Blob([Ht.buffer],{type:"image/bmp"}),Nt=createImageBitmap(qt),{MAX_AREA:$t,MAX_DIM:Mt}=vt,{_imgData:Bt}=this,{width:_t,height:Kt}=Bt,jt=Math.max(_t/Mt,Kt/Mt,Math.sqrt(_t*Kt/$t)),Gt=Math.max(jt,2),Qt=Math.round(10*(jt+1.25))/10/Gt,ln=Math.floor(Math.log2(Qt)),en=new Array(ln+2).fill(2);en[0]=Gt,en.splice(-1,1,Qt/(1<<ln));let gn=_t,tn=Kt,bn=await Nt;for(const Xt of en){const Yt=gn,un=tn;gn=Math.floor(gn/Xt)-1,tn=Math.floor(tn/Xt)-1;const Ut=new OffscreenCanvas(gn,tn);Ut.getContext("2d").drawImage(bn,0,0,Yt,un,0,0,gn,tn),bn=Ut.transferToImageBitmap()}return Bt.data=null,Bt.bitmap=bn,Bt.width=gn,Bt.height=tn,Bt}_encodeBMP(){const{width:Ht,height:qt,kind:Nt}=this._imgData;let $t=this._imgData.data,Mt,Bt=new Uint8Array(0),_t=Bt,Kt=0;switch(Nt){case wt.ImageKind.GRAYSCALE_1BPP:{Mt=1,Bt=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const tn=Ht+7>>3,bn=tn+3&-4;if(tn!==bn){const Xt=new Uint8Array(bn*qt);let Yt=0;for(let un=0,Ut=qt*tn;un<Ut;un+=tn,Yt+=bn)Xt.set($t.subarray(un,un+tn),Yt);$t=Xt}break}case wt.ImageKind.RGB_24BPP:{if(Mt=24,Ht&3){const tn=3*Ht,bn=tn+3&-4,Xt=bn-tn,Yt=new Uint8Array(bn*qt);let un=0;for(let Ut=0,Lt=qt*tn;Ut<Lt;Ut+=tn){const Vt=$t.subarray(Ut,Ut+tn);for(let an=0;an<tn;an+=3)Yt[un++]=Vt[an+2],Yt[un++]=Vt[an+1],Yt[un++]=Vt[an];un+=Xt}$t=Yt}else for(let tn=0,bn=$t.length;tn<bn;tn+=3){const Xt=$t[tn];$t[tn]=$t[tn+2],$t[tn+2]=Xt}break}case wt.ImageKind.RGBA_32BPP:Mt=32,Kt=3,_t=new Uint8Array(68);const gn=new DataView(_t.buffer);wt.FeatureTest.isLittleEndian?(gn.setUint32(0,255,!0),gn.setUint32(4,65280,!0),gn.setUint32(8,16711680,!0),gn.setUint32(12,4278190080,!0)):(gn.setUint32(0,4278190080,!0),gn.setUint32(4,16711680,!0),gn.setUint32(8,65280,!0),gn.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let jt=0;const Gt=40+_t.length,Qt=14+Gt+Bt.length+$t.length,ln=new Uint8Array(Qt),en=new DataView(ln.buffer);return en.setUint16(jt,19778,!0),jt+=2,en.setUint32(jt,Qt,!0),jt+=4,en.setUint32(jt,0,!0),jt+=4,en.setUint32(jt,14+Gt+Bt.length,!0),jt+=4,en.setUint32(jt,Gt,!0),jt+=4,en.setInt32(jt,Ht,!0),jt+=4,en.setInt32(jt,-qt,!0),jt+=4,en.setUint16(jt,1,!0),jt+=2,en.setUint16(jt,Mt,!0),jt+=2,en.setUint32(jt,Kt,!0),jt+=4,en.setUint32(jt,0,!0),jt+=4,en.setInt32(jt,0,!0),jt+=4,en.setInt32(jt,0,!0),jt+=4,en.setUint32(jt,Bt.length/4,!0),jt+=4,en.setUint32(jt,0,!0),jt+=4,ln.set(_t,jt),jt+=_t.length,ln.set(Bt,jt),jt+=Bt.length,ln.set($t,jt),ln}}Ct.ImageResizer=vt,vt._goodSquareLength=kt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.MurmurHash3_64=void 0;var wt=Pt(2);const kt=3285377520,Rt=4294901760,ht=65535;class vt{constructor(Ht){this.h1=Ht?Ht&4294967295:kt,this.h2=Ht?Ht&4294967295:kt}update(Ht){let qt,Nt;if(typeof Ht=="string"){qt=new Uint8Array(Ht.length*2),Nt=0;for(let tn=0,bn=Ht.length;tn<bn;tn++){const Xt=Ht.charCodeAt(tn);Xt<=255?qt[Nt++]=Xt:(qt[Nt++]=Xt>>>8,qt[Nt++]=Xt&255)}}else if((0,wt.isArrayBuffer)(Ht))qt=Ht.slice(),Nt=qt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const $t=Nt>>2,Mt=Nt-$t*4,Bt=new Uint32Array(qt.buffer,0,$t);let _t=0,Kt=0,jt=this.h1,Gt=this.h2;const Qt=3432918353,ln=461845907,en=Qt&ht,gn=ln&ht;for(let tn=0;tn<$t;tn++)tn&1?(_t=Bt[tn],_t=_t*Qt&Rt|_t*en&ht,_t=_t<<15|_t>>>17,_t=_t*ln&Rt|_t*gn&ht,jt^=_t,jt=jt<<13|jt>>>19,jt=jt*5+3864292196):(Kt=Bt[tn],Kt=Kt*Qt&Rt|Kt*en&ht,Kt=Kt<<15|Kt>>>17,Kt=Kt*ln&Rt|Kt*gn&ht,Gt^=Kt,Gt=Gt<<13|Gt>>>19,Gt=Gt*5+3864292196);switch(_t=0,Mt){case 3:_t^=qt[$t*4+2]<<16;case 2:_t^=qt[$t*4+1]<<8;case 1:_t^=qt[$t*4],_t=_t*Qt&Rt|_t*en&ht,_t=_t<<15|_t>>>17,_t=_t*ln&Rt|_t*gn&ht,$t&1?jt^=_t:Gt^=_t}this.h1=jt,this.h2=Gt}hexdigest(){let Ht=this.h1,qt=this.h2;return Ht^=qt>>>1,Ht=Ht*3981806797&Rt|Ht*36045&ht,qt=qt*4283543511&Rt|((qt<<16|Ht>>>16)*2950163797&Rt)>>>16,Ht^=qt>>>1,Ht=Ht*444984403&Rt|Ht*60499&ht,qt=qt*3301882366&Rt|((qt<<16|Ht>>>16)*3120437893&Rt)>>>16,Ht^=qt>>>1,(Ht>>>0).toString(16).padStart(8,"0")+(qt>>>0).toString(16).padStart(8,"0")}}Ct.MurmurHash3_64=vt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.OperatorList=void 0;var wt=Pt(2);function kt(qt,Nt,$t,Mt,Bt){let _t=qt;for(let Kt=0,jt=Nt.length-1;Kt<jt;Kt++){const Gt=Nt[Kt];_t=_t[Gt]||(_t[Gt]=[])}_t[Nt.at(-1)]={checkFn:$t,iterateFn:Mt,processFn:Bt}}const Rt=[];kt(Rt,[wt.OPS.save,wt.OPS.transform,wt.OPS.paintInlineImageXObject,wt.OPS.restore],null,function(Nt,$t){const Mt=Nt.fnArray,Bt=Nt.iCurr-3,_t=($t-Bt)%4;switch(_t){case 0:return Mt[$t]===wt.OPS.save;case 1:return Mt[$t]===wt.OPS.transform;case 2:return Mt[$t]===wt.OPS.paintInlineImageXObject;case 3:return Mt[$t]===wt.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${_t}`)},function(Nt,$t){const jt=Nt.fnArray,Gt=Nt.argsArray,Qt=Nt.iCurr,ln=Qt-3,en=Qt-2,gn=Qt-1,tn=Math.min(Math.floor(($t-ln)/4),200);if(tn<10)return $t-($t-ln)%4;let bn=0;const Xt=[];let Yt=0,un=1,Ut=1;for(let nn=0;nn<tn;nn++){const dn=Gt[en+(nn<<2)],on=Gt[gn+(nn<<2)][0];un+on.width>1e3&&(bn=Math.max(bn,un),Ut+=Yt+2,un=0,Yt=0),Xt.push({transform:dn,x:un,y:Ut,w:on.width,h:on.height}),un+=on.width+2,Yt=Math.max(Yt,on.height)}const Lt=Math.max(bn,un)+1,Vt=Ut+Yt+1,an=new Uint8Array(Lt*Vt*4),zt=Lt<<2;for(let nn=0;nn<tn;nn++){const dn=Gt[gn+(nn<<2)][0].data,on=Xt[nn].w<<2;let hn=0,sn=Xt[nn].x+Xt[nn].y*Lt<<2;an.set(dn.subarray(0,on),sn-zt);for(let rn=0,xn=Xt[nn].h;rn<xn;rn++)an.set(dn.subarray(hn,hn+on),sn),hn+=on,sn+=zt;for(an.set(dn.subarray(hn-on,hn),sn);sn>=0;)dn[sn-4]=dn[sn],dn[sn-3]=dn[sn+1],dn[sn-2]=dn[sn+2],dn[sn-1]=dn[sn+3],dn[sn+on]=dn[sn+on-4],dn[sn+on+1]=dn[sn+on-3],dn[sn+on+2]=dn[sn+on-2],dn[sn+on+3]=dn[sn+on-1],sn-=zt}const Wt={width:Lt,height:Vt};if(Nt.isOffscreenCanvasSupported){const nn=new OffscreenCanvas(Lt,Vt);nn.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(an.buffer),Lt,Vt),0,0),Wt.bitmap=nn.transferToImageBitmap(),Wt.data=null}else Wt.kind=wt.ImageKind.RGBA_32BPP,Wt.data=an;return jt.splice(ln,tn*4,wt.OPS.paintInlineImageXObjectGroup),Gt.splice(ln,tn*4,[Wt,Xt]),ln+1}),kt(Rt,[wt.OPS.save,wt.OPS.transform,wt.OPS.paintImageMaskXObject,wt.OPS.restore],null,function(Nt,$t){const Mt=Nt.fnArray,Bt=Nt.iCurr-3,_t=($t-Bt)%4;switch(_t){case 0:return Mt[$t]===wt.OPS.save;case 1:return Mt[$t]===wt.OPS.transform;case 2:return Mt[$t]===wt.OPS.paintImageMaskXObject;case 3:return Mt[$t]===wt.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${_t}`)},function(Nt,$t){const Kt=Nt.fnArray,jt=Nt.argsArray,Gt=Nt.iCurr,Qt=Gt-3,ln=Gt-2,en=Gt-1;let gn=Math.floor(($t-Qt)/4);if(gn<10)return $t-($t-Qt)%4;let tn=!1,bn,Xt;const Yt=jt[en][0],un=jt[ln][0],Ut=jt[ln][1],Lt=jt[ln][2],Vt=jt[ln][3];if(Ut===Lt){tn=!0,bn=ln+4;let an=en+4;for(let zt=1;zt<gn;zt++,bn+=4,an+=4)if(Xt=jt[bn],jt[an][0]!==Yt||Xt[0]!==un||Xt[1]!==Ut||Xt[2]!==Lt||Xt[3]!==Vt){zt<10?tn=!1:gn=zt;break}}if(tn){gn=Math.min(gn,1e3);const an=new Float32Array(gn*2);bn=ln;for(let zt=0;zt<gn;zt++,bn+=4)Xt=jt[bn],an[zt<<1]=Xt[4],an[(zt<<1)+1]=Xt[5];Kt.splice(Qt,gn*4,wt.OPS.paintImageMaskXObjectRepeat),jt.splice(Qt,gn*4,[Yt,un,Ut,Lt,Vt,an])}else{gn=Math.min(gn,100);const an=[];for(let zt=0;zt<gn;zt++){Xt=jt[ln+(zt<<2)];const Wt=jt[en+(zt<<2)][0];an.push({data:Wt.data,width:Wt.width,height:Wt.height,interpolate:Wt.interpolate,count:Wt.count,transform:Xt})}Kt.splice(Qt,gn*4,wt.OPS.paintImageMaskXObjectGroup),jt.splice(Qt,gn*4,[an])}return Qt+1}),kt(Rt,[wt.OPS.save,wt.OPS.transform,wt.OPS.paintImageXObject,wt.OPS.restore],function(qt){const Nt=qt.argsArray,$t=qt.iCurr-2;return Nt[$t][1]===0&&Nt[$t][2]===0},function(Nt,$t){const Mt=Nt.fnArray,Bt=Nt.argsArray,_t=Nt.iCurr-3,Kt=($t-_t)%4;switch(Kt){case 0:return Mt[$t]===wt.OPS.save;case 1:if(Mt[$t]!==wt.OPS.transform)return!1;const jt=Nt.iCurr-2,Gt=Bt[jt][0],Qt=Bt[jt][3];return!(Bt[$t][0]!==Gt||Bt[$t][1]!==0||Bt[$t][2]!==0||Bt[$t][3]!==Qt);case 2:if(Mt[$t]!==wt.OPS.paintImageXObject)return!1;const ln=Nt.iCurr-1,en=Bt[ln][0];return Bt[$t][0]===en;case 3:return Mt[$t]===wt.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${Kt}`)},function(qt,Nt){const Bt=qt.fnArray,_t=qt.argsArray,Kt=qt.iCurr,jt=Kt-3,Gt=Kt-2,Qt=Kt-1,ln=_t[Qt][0],en=_t[Gt][0],gn=_t[Gt][3],tn=Math.min(Math.floor((Nt-jt)/4),1e3);if(tn<3)return Nt-(Nt-jt)%4;const bn=new Float32Array(tn*2);let Xt=Gt;for(let un=0;un<tn;un++,Xt+=4){const Ut=_t[Xt];bn[un<<1]=Ut[4],bn[(un<<1)+1]=Ut[5]}const Yt=[ln,en,gn,bn];return Bt.splice(jt,tn*4,wt.OPS.paintImageXObjectRepeat),_t.splice(jt,tn*4,Yt),jt+1}),kt(Rt,[wt.OPS.beginText,wt.OPS.setFont,wt.OPS.setTextMatrix,wt.OPS.showText,wt.OPS.endText],null,function(Nt,$t){const Mt=Nt.fnArray,Bt=Nt.argsArray,_t=Nt.iCurr-4,Kt=($t-_t)%5;switch(Kt){case 0:return Mt[$t]===wt.OPS.beginText;case 1:return Mt[$t]===wt.OPS.setFont;case 2:return Mt[$t]===wt.OPS.setTextMatrix;case 3:if(Mt[$t]!==wt.OPS.showText)return!1;const jt=Nt.iCurr-3,Gt=Bt[jt][0],Qt=Bt[jt][1];return!(Bt[$t][0]!==Gt||Bt[$t][1]!==Qt);case 4:return Mt[$t]===wt.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${Kt}`)},function(qt,Nt){const Bt=qt.fnArray,_t=qt.argsArray,Kt=qt.iCurr,jt=Kt-4,Gt=Kt-3,Qt=Kt-2,ln=Kt-1,en=Kt,gn=_t[Gt][0],tn=_t[Gt][1];let bn=Math.min(Math.floor((Nt-jt)/5),1e3);if(bn<3)return Nt-(Nt-jt)%5;let Xt=jt;jt>=4&&Bt[jt-4]===Bt[Gt]&&Bt[jt-3]===Bt[Qt]&&Bt[jt-2]===Bt[ln]&&Bt[jt-1]===Bt[en]&&_t[jt-4][0]===gn&&_t[jt-4][1]===tn&&(bn++,Xt-=5);let Yt=Xt+4;for(let un=1;un<bn;un++)Bt.splice(Yt,3),_t.splice(Yt,3),Yt+=2;return Yt+1});class ht{constructor(Nt){this.queue=Nt}_optimize(){}push(Nt,$t){this.queue.fnArray.push(Nt),this.queue.argsArray.push($t),this._optimize()}flush(){}reset(){}}class vt extends ht{constructor(Nt){super(Nt),this.state=null,this.context={iCurr:0,fnArray:Nt.fnArray,argsArray:Nt.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(Nt){this.context.isOffscreenCanvasSupported=Nt}_optimize(){const Nt=this.queue.fnArray;let $t=this.lastProcessed,Mt=Nt.length,Bt=this.state,_t=this.match;if(!Bt&&!_t&&$t+1===Mt&&!Rt[Nt[$t]]){this.lastProcessed=Mt;return}const Kt=this.context;for(;$t<Mt;){if(_t){if((0,_t.iterateFn)(Kt,$t)){$t++;continue}if($t=(0,_t.processFn)(Kt,$t+1),Mt=Nt.length,_t=null,Bt=null,$t>=Mt)break}if(Bt=(Bt||Rt)[Nt[$t]],!Bt||Array.isArray(Bt)){$t++;continue}if(Kt.iCurr=$t,$t++,Bt.checkFn&&!(0,Bt.checkFn)(Kt)){Bt=null;continue}_t=Bt,Bt=null}this.state=Bt,this.match=_t,this.lastProcessed=$t}flush(){for(;this.match;){const Nt=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,Nt),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}const Ht=class Ht{constructor(Nt=0,$t){this._streamSink=$t,this.fnArray=[],this.argsArray=[],this.optimizer=$t&&!(Nt&wt.RenderingIntentFlag.OPLIST)?new vt(this):new ht(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=$t?null:Promise.resolve()}set isOffscreenCanvasSupported(Nt){this.optimizer.isOffscreenCanvasSupported=Nt}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(Nt,$t){this.optimizer.push(Nt,$t),this.weight++,this._streamSink&&(this.weight>=Ht.CHUNK_SIZE?this.flush():this.weight>=Ht.CHUNK_SIZE_ABOUT&&(Nt===wt.OPS.restore||Nt===wt.OPS.endText)&&this.flush())}addImageOps(Nt,$t,Mt){Mt!==void 0&&this.addOp(wt.OPS.beginMarkedContentProps,["OC",Mt]),this.addOp(Nt,$t),Mt!==void 0&&this.addOp(wt.OPS.endMarkedContent,[])}addDependency(Nt){this.dependencies.has(Nt)||(this.dependencies.add(Nt),this.addOp(wt.OPS.dependency,[Nt]))}addDependencies(Nt){for(const $t of Nt)this.addDependency($t)}addOpList(Nt){if(!(Nt instanceof Ht)){(0,wt.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const $t of Nt.dependencies)this.dependencies.add($t);for(let $t=0,Mt=Nt.length;$t<Mt;$t++)this.addOp(Nt.fnArray[$t],Nt.argsArray[$t])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){var _t;const Nt=[],{fnArray:$t,argsArray:Mt,length:Bt}=this;for(let Kt=0;Kt<Bt;Kt++)switch($t[Kt]){case wt.OPS.paintInlineImageXObject:case wt.OPS.paintInlineImageXObjectGroup:case wt.OPS.paintImageMaskXObject:const jt=Mt[Kt][0];!jt.cached&&((_t=jt.data)==null?void 0:_t.buffer)instanceof ArrayBuffer&&Nt.push(jt.data.buffer);break}return Nt}flush(Nt=!1,$t=null){this.optimizer.flush();const Mt=this.length;this._totalLength+=Mt,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:Nt,separateAnnots:$t,length:Mt},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}};Ur(Ht,"CHUNK_SIZE",1e3),Ur(Ht,"CHUNK_SIZE_ABOUT",Ht.CHUNK_SIZE-5);let Ft=Ht;Ct.OperatorList=Ft},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PDFImage=void 0;var wt=Pt(2),kt=Pt(28),Rt=Pt(5),ht=Pt(12),vt=Pt(18),Ft=Pt(62),Ht=Pt(26),qt=Pt(30),Nt=Pt(4);function $t(_t,Kt,jt,Gt){return _t=Kt+_t*jt,_t<0?_t=0:_t>Gt&&(_t=Gt),_t}function Mt(_t,Kt,jt,Gt,Qt,ln){const en=Qt*ln;let gn;Kt<=8?gn=new Uint8Array(en):Kt<=16?gn=new Uint16Array(en):gn=new Uint32Array(en);const tn=jt/Qt,bn=Gt/ln;let Xt,Yt,un,Ut=0,Lt;const Vt=new Uint16Array(Qt),an=jt;for(Xt=0;Xt<Qt;Xt++)Vt[Xt]=Math.floor(Xt*tn);for(Xt=0;Xt<ln;Xt++)for(un=Math.floor(Xt*bn)*an,Yt=0;Yt<Qt;Yt++)Lt=un+Vt[Yt],gn[Ut++]=_t[Lt];return gn}class Bt{constructor({xref:Kt,res:jt,image:Gt,isInline:Qt=!1,smask:ln=null,mask:en=null,isMask:gn=!1,pdfFunctionFactory:tn,localColorSpaceCache:bn}){var an;this.image=Gt;const Xt=Gt.dict,Yt=Xt.get("F","Filter");let un;if(Yt instanceof Nt.Name)un=Yt.name;else if(Array.isArray(Yt)){const zt=Kt.fetchIfRef(Yt[0]);zt instanceof Nt.Name&&(un=zt.name)}switch(un){case"JPXDecode":const zt=new qt.JpxImage;zt.parseImageProperties(Gt.stream),Gt.stream.reset(),Gt.width=zt.width,Gt.height=zt.height,Gt.bitsPerComponent=zt.bitsPerComponent,Gt.numComps=zt.componentsCount;break;case"JBIG2Decode":Gt.bitsPerComponent=1,Gt.numComps=1;break}let Ut=Xt.get("W","Width"),Lt=Xt.get("H","Height");if(Number.isInteger(Gt.width)&&Gt.width>0&&Number.isInteger(Gt.height)&&Gt.height>0&&(Gt.width!==Ut||Gt.height!==Lt)&&((0,wt.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),Ut=Gt.width,Lt=Gt.height),Ut<1||Lt<1)throw new wt.FormatError(`Invalid image width: ${Ut} or height: ${Lt}`);this.width=Ut,this.height=Lt,this.interpolate=Xt.get("I","Interpolate"),this.imageMask=Xt.get("IM","ImageMask")||!1,this.matte=Xt.get("Matte")||!1;let Vt=Gt.bitsPerComponent;if(!Vt&&(Vt=Xt.get("BPC","BitsPerComponent"),!Vt))if(this.imageMask)Vt=1;else throw new wt.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=Vt,!this.imageMask){let zt=Xt.getRaw("CS")||Xt.getRaw("ColorSpace");if(!zt)switch((0,wt.info)("JPX images (which do not require color spaces)"),Gt.numComps){case 1:zt=Nt.Name.get("DeviceGray");break;case 3:zt=Nt.Name.get("DeviceRGB");break;case 4:zt=Nt.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${Gt.numComps} color components not supported.`)}this.colorSpace=ht.ColorSpace.parse({cs:zt,xref:Kt,resources:Qt?jt:null,pdfFunctionFactory:tn,localColorSpaceCache:bn}),this.numComps=this.colorSpace.numComps}if(this.decode=Xt.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,Vt)||gn&&!ht.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const zt=(1<<Vt)-1;this.decodeCoefficients=[],this.decodeAddends=[];const Wt=((an=this.colorSpace)==null?void 0:an.name)==="Indexed";for(let nn=0,dn=0;nn<this.decode.length;nn+=2,++dn){const on=this.decode[nn],hn=this.decode[nn+1];this.decodeCoefficients[dn]=Wt?(hn-on)/zt:hn-on,this.decodeAddends[dn]=Wt?on:zt*on}}ln?this.smask=new Bt({xref:Kt,res:jt,image:ln,isInline:Qt,pdfFunctionFactory:tn,localColorSpaceCache:bn}):en&&(en instanceof Rt.BaseStream?en.dict.get("IM","ImageMask")?this.mask=new Bt({xref:Kt,res:jt,image:en,isInline:Qt,isMask:!0,pdfFunctionFactory:tn,localColorSpaceCache:bn}):(0,wt.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=en)}static async buildImage({xref:Kt,res:jt,image:Gt,isInline:Qt=!1,pdfFunctionFactory:ln,localColorSpaceCache:en}){const gn=Gt;let tn=null,bn=null;const Xt=Gt.dict.get("SMask"),Yt=Gt.dict.get("Mask");return Xt?Xt instanceof Rt.BaseStream?tn=Xt:(0,wt.warn)("Unsupported /SMask format."):Yt&&(Yt instanceof Rt.BaseStream||Array.isArray(Yt)?bn=Yt:(0,wt.warn)("Unsupported /Mask format.")),new Bt({xref:Kt,res:jt,image:gn,isInline:Qt,smask:tn,mask:bn,pdfFunctionFactory:ln,localColorSpaceCache:en})}static createRawMask({imgArray:Kt,width:jt,height:Gt,imageIsFromDecodeStream:Qt,inverseDecode:ln,interpolate:en}){const gn=(jt+7>>3)*Gt,tn=Kt.byteLength,bn=gn===tn;let Xt,Yt;if(Qt&&(!ln||bn)?Xt=Kt:ln?(Xt=new Uint8Array(gn),Xt.set(Kt),Xt.fill(255,tn)):Xt=new Uint8Array(Kt),ln)for(Yt=0;Yt<tn;Yt++)Xt[Yt]^=255;return{data:Xt,width:jt,height:Gt,interpolate:en}}static async createMask({imgArray:Kt,width:jt,height:Gt,imageIsFromDecodeStream:Qt,inverseDecode:ln,interpolate:en,isOffscreenCanvasSupported:gn=!1}){const tn=jt===1&&Gt===1&&ln===(Kt.length===0||!!(Kt[0]&128));if(tn)return{isSingleOpaquePixel:tn};if(gn){if(Ft.ImageResizer.needsToBeResized(jt,Gt)){const Ut=new Uint8ClampedArray(jt*Gt*4);return(0,kt.convertBlackAndWhiteToRGBA)({src:Kt,dest:Ut,width:jt,height:Gt,nonBlackColor:0,inverseDecode:ln}),Ft.ImageResizer.createImage({kind:wt.ImageKind.RGBA_32BPP,data:Ut,width:jt,height:Gt,interpolate:en})}const bn=new OffscreenCanvas(jt,Gt),Xt=bn.getContext("2d"),Yt=Xt.createImageData(jt,Gt);(0,kt.convertBlackAndWhiteToRGBA)({src:Kt,dest:Yt.data,width:jt,height:Gt,nonBlackColor:0,inverseDecode:ln}),Xt.putImageData(Yt,0,0);const un=bn.transferToImageBitmap();return{data:null,width:jt,height:Gt,interpolate:en,bitmap:un}}return this.createRawMask({imgArray:Kt,width:jt,height:Gt,inverseDecode:ln,imageIsFromDecodeStream:Qt,interpolate:en})}get drawWidth(){var Kt,jt;return Math.max(this.width,((Kt=this.smask)==null?void 0:Kt.width)||0,((jt=this.mask)==null?void 0:jt.width)||0)}get drawHeight(){var Kt,jt;return Math.max(this.height,((Kt=this.smask)==null?void 0:Kt.height)||0,((jt=this.mask)==null?void 0:jt.height)||0)}decodeBuffer(Kt){const jt=this.bpc,Gt=this.numComps,Qt=this.decodeAddends,ln=this.decodeCoefficients,en=(1<<jt)-1;let gn,tn;if(jt===1){for(gn=0,tn=Kt.length;gn<tn;gn++)Kt[gn]=+!Kt[gn];return}let bn=0;for(gn=0,tn=this.width*this.height;gn<tn;gn++)for(let Xt=0;Xt<Gt;Xt++)Kt[bn]=$t(Kt[bn],Qt[Xt],ln[Xt],en),bn++}getComponents(Kt){const jt=this.bpc;if(jt===8)return Kt;const Gt=this.width,Qt=this.height,ln=this.numComps,en=Gt*Qt*ln;let gn=0,tn;jt<=8?tn=new Uint8Array(en):jt<=16?tn=new Uint16Array(en):tn=new Uint32Array(en);const bn=Gt*ln,Xt=(1<<jt)-1;let Yt=0,un,Ut;if(jt===1){let Lt,Vt,an;for(let zt=0;zt<Qt;zt++){for(Vt=Yt+(bn&-8),an=Yt+bn;Yt<Vt;)Ut=Kt[gn++],tn[Yt]=Ut>>7&1,tn[Yt+1]=Ut>>6&1,tn[Yt+2]=Ut>>5&1,tn[Yt+3]=Ut>>4&1,tn[Yt+4]=Ut>>3&1,tn[Yt+5]=Ut>>2&1,tn[Yt+6]=Ut>>1&1,tn[Yt+7]=Ut&1,Yt+=8;if(Yt<an)for(Ut=Kt[gn++],Lt=128;Yt<an;)tn[Yt++]=+!!(Ut&Lt),Lt>>=1}}else{let Lt=0;for(Ut=0,Yt=0,un=en;Yt<un;++Yt){for(Yt%bn===0&&(Ut=0,Lt=0);Lt<jt;)Ut=Ut<<8|Kt[gn++],Lt+=8;const Vt=Lt-jt;let an=Ut>>Vt;an<0?an=0:an>Xt&&(an=Xt),tn[Yt]=an,Ut&=(1<<Vt)-1,Lt=Vt}}return tn}fillOpacity(Kt,jt,Gt,Qt,ln){const en=this.smask,gn=this.mask;let tn,bn,Xt,Yt,un,Ut;if(en)bn=en.width,Xt=en.height,tn=new Uint8ClampedArray(bn*Xt),en.fillGrayBuffer(tn),(bn!==jt||Xt!==Gt)&&(tn=Mt(tn,en.bpc,bn,Xt,jt,Gt));else if(gn)if(gn instanceof Bt){for(bn=gn.width,Xt=gn.height,tn=new Uint8ClampedArray(bn*Xt),gn.numComps=1,gn.fillGrayBuffer(tn),Yt=0,un=bn*Xt;Yt<un;++Yt)tn[Yt]=255-tn[Yt];(bn!==jt||Xt!==Gt)&&(tn=Mt(tn,gn.bpc,bn,Xt,jt,Gt))}else if(Array.isArray(gn)){tn=new Uint8ClampedArray(jt*Gt);const Lt=this.numComps;for(Yt=0,un=jt*Gt;Yt<un;++Yt){let Vt=0;const an=Yt*Lt;for(Ut=0;Ut<Lt;++Ut){const zt=ln[an+Ut],Wt=Ut*2;if(zt<gn[Wt]||zt>gn[Wt+1]){Vt=255;break}}tn[Yt]=Vt}}else throw new wt.FormatError("Unknown mask format.");if(tn)for(Yt=0,Ut=3,un=jt*Qt;Yt<un;++Yt,Ut+=4)Kt[Ut]=tn[Yt];else for(Yt=0,Ut=3,un=jt*Qt;Yt<un;++Yt,Ut+=4)Kt[Ut]=255}undoPreblend(Kt,jt,Gt){var Xt;const Qt=(Xt=this.smask)==null?void 0:Xt.matte;if(!Qt)return;const ln=this.colorSpace.getRgb(Qt,0),en=ln[0],gn=ln[1],tn=ln[2],bn=jt*Gt*4;for(let Yt=0;Yt<bn;Yt+=4){const un=Kt[Yt+3];if(un===0){Kt[Yt]=255,Kt[Yt+1]=255,Kt[Yt+2]=255;continue}const Ut=255/un;Kt[Yt]=(Kt[Yt]-en)*Ut+en,Kt[Yt+1]=(Kt[Yt+1]-gn)*Ut+gn,Kt[Yt+2]=(Kt[Yt+2]-tn)*Ut+tn}}async createImageData(Kt=!1,jt=!1){const Gt=this.drawWidth,Qt=this.drawHeight,ln={width:Gt,height:Qt,interpolate:this.interpolate,kind:0,data:null},en=this.numComps,gn=this.width,tn=this.height,bn=this.bpc,Xt=gn*en*bn+7>>3,Yt=jt&&Ft.ImageResizer.needsToBeResized(Gt,Qt);if(!Kt){let on;if(this.colorSpace.name==="DeviceGray"&&bn===1?on=wt.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&bn===8&&!this.needsDecode&&(on=wt.ImageKind.RGB_24BPP),on&&!this.smask&&!this.mask&&Gt===gn&&Qt===tn){const hn=this.getImageBytes(tn*Xt,{});if(jt)return Yt?Ft.ImageResizer.createImage({data:hn,kind:on,width:Gt,height:Qt,interpolate:this.interpolate},this.needsDecode):this.createBitmap(on,gn,tn,hn);if(ln.kind=on,ln.data=hn,this.needsDecode){(0,wt.assert)(on===wt.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const sn=ln.data;for(let rn=0,xn=sn.length;rn<xn;rn++)sn[rn]^=255}return ln}if(this.image instanceof Ht.JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let hn=tn*Xt;if(jt&&!Yt){let sn=!1;switch(this.colorSpace.name){case"DeviceGray":hn*=4,sn=!0;break;case"DeviceRGB":hn=hn/3*4,sn=!0;break;case"DeviceCMYK":sn=!0;break}if(sn){const rn=this.getImageBytes(hn,{drawWidth:Gt,drawHeight:Qt,forceRGBA:!0});return this.createBitmap(wt.ImageKind.RGBA_32BPP,Gt,Qt,rn)}}else switch(this.colorSpace.name){case"DeviceGray":hn*=3;case"DeviceRGB":case"DeviceCMYK":return ln.kind=wt.ImageKind.RGB_24BPP,ln.data=this.getImageBytes(hn,{drawWidth:Gt,drawHeight:Qt,forceRGB:!0}),Yt?Ft.ImageResizer.createImage(ln):ln}}}const un=this.getImageBytes(tn*Xt,{internal:!0}),Ut=0|un.length/Xt*Qt/tn,Lt=this.getComponents(un);let Vt,an,zt,Wt,nn,dn;if(jt&&!Yt&&(zt=new OffscreenCanvas(Gt,Qt),Wt=zt.getContext("2d"),nn=Wt.createImageData(Gt,Qt),dn=nn.data),ln.kind=wt.ImageKind.RGBA_32BPP,!Kt&&!this.smask&&!this.mask?(!jt||Yt?(ln.kind=wt.ImageKind.RGB_24BPP,dn=new Uint8ClampedArray(Gt*Qt*3),Vt=0):(new Uint32Array(dn.buffer).fill(wt.FeatureTest.isLittleEndian?4278190080:255),Vt=1),an=!1):((!jt||Yt)&&(dn=new Uint8ClampedArray(Gt*Qt*4)),Vt=1,an=!0,this.fillOpacity(dn,Gt,Qt,Ut,Lt)),this.needsDecode&&this.decodeBuffer(Lt),this.colorSpace.fillRgb(dn,gn,tn,Gt,Qt,Ut,bn,Lt,Vt),an&&this.undoPreblend(dn,Gt,Ut),jt&&!Yt){Wt.putImageData(nn,0,0);const on=zt.transferToImageBitmap();return{data:null,width:Gt,height:Qt,bitmap:on,interpolate:this.interpolate}}return ln.data=dn,Yt?Ft.ImageResizer.createImage(ln):ln}fillGrayBuffer(Kt){const jt=this.numComps;if(jt!==1)throw new wt.FormatError(`Reading gray scale from a color image: ${jt}`);const Gt=this.width,Qt=this.height,ln=this.bpc,en=Gt*jt*ln+7>>3,gn=this.getImageBytes(Qt*en,{internal:!0}),tn=this.getComponents(gn);let bn,Xt;if(ln===1){if(Xt=Gt*Qt,this.needsDecode)for(bn=0;bn<Xt;++bn)Kt[bn]=tn[bn]-1&255;else for(bn=0;bn<Xt;++bn)Kt[bn]=-tn[bn]&255;return}this.needsDecode&&this.decodeBuffer(tn),Xt=Gt*Qt;const Yt=255/((1<<ln)-1);for(bn=0;bn<Xt;++bn)Kt[bn]=Yt*tn[bn]}createBitmap(Kt,jt,Gt,Qt){const ln=new OffscreenCanvas(jt,Gt),en=ln.getContext("2d");let gn;Kt===wt.ImageKind.RGBA_32BPP?gn=new ImageData(Qt,jt,Gt):(gn=en.createImageData(jt,Gt),(0,kt.convertToRGBA)({kind:Kt,src:Qt,dest:new Uint32Array(gn.data.buffer),width:jt,height:Gt,inverseDecode:this.needsDecode})),en.putImageData(gn,0,0);const tn=ln.transferToImageBitmap();return{data:null,width:jt,height:Gt,bitmap:tn,interpolate:this.interpolate}}getImageBytes(Kt,{drawWidth:jt,drawHeight:Gt,forceRGBA:Qt=!1,forceRGB:ln=!1,internal:en=!1}){this.image.reset(),this.image.drawWidth=jt||this.width,this.image.drawHeight=Gt||this.height,this.image.forceRGBA=!!Qt,this.image.forceRGB=!!ln;const gn=this.image.getBytes(Kt);return en||this.image instanceof vt.DecodeStream?gn:((0,wt.assert)(gn instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(gn))}}Ct.PDFImage=Bt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Catalog=void 0;var wt=Pt(3),kt=Pt(2),Rt=Pt(4),ht=Pt(67),vt=Pt(5),Ft=Pt(68),Ht=Pt(12),qt=Pt(69),Nt=Pt(59),$t=Pt(70),Mt=Pt(72);function Bt(Kt){return Kt instanceof Rt.Dict&&(Kt=Kt.get("D")),Array.isArray(Kt)?Kt:null}class _t{constructor(jt,Gt){if(this.pdfManager=jt,this.xref=Gt,this._catDict=Gt.getCatalogObj(),!(this._catDict instanceof Rt.Dict))throw new kt.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new Rt.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new Nt.GlobalImageCache,this.pageKidsCountCache=new Rt.RefSetCache,this.pageIndexCache=new Rt.RefSetCache,this.nonBlendModesSet=new Rt.RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const jt=this._catDict.get("Version");if(jt instanceof Rt.Name){if(wt.PDF_VERSION_REGEXP.test(jt.name))return(0,kt.shadow)(this,"version",jt.name);(0,kt.warn)(`Invalid PDF catalog version: ${jt.name}`)}return(0,kt.shadow)(this,"version",null)}get lang(){const jt=this._catDict.get("Lang");return(0,kt.shadow)(this,"lang",typeof jt=="string"?(0,kt.stringToPDFString)(jt):null)}get needsRendering(){const jt=this._catDict.get("NeedsRendering");return(0,kt.shadow)(this,"needsRendering",typeof jt=="boolean"?jt:!1)}get collection(){let jt=null;try{const Gt=this._catDict.get("Collection");Gt instanceof Rt.Dict&&Gt.size>0&&(jt=Gt)}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,kt.shadow)(this,"collection",jt)}get acroForm(){let jt=null;try{const Gt=this._catDict.get("AcroForm");Gt instanceof Rt.Dict&&Gt.size>0&&(jt=Gt)}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,kt.shadow)(this,"acroForm",jt)}get acroFormRef(){const jt=this._catDict.getRaw("AcroForm");return(0,kt.shadow)(this,"acroFormRef",jt instanceof Rt.Ref?jt:null)}get metadata(){var Qt;const jt=this._catDict.getRaw("Metadata");if(!(jt instanceof Rt.Ref))return(0,kt.shadow)(this,"metadata",null);let Gt=null;try{const ln=this.xref.fetch(jt,!((Qt=this.xref.encrypt)!=null&&Qt.encryptMetadata));if(ln instanceof vt.BaseStream&&ln.dict instanceof Rt.Dict){const en=ln.dict.get("Type"),gn=ln.dict.get("Subtype");if((0,Rt.isName)(en,"Metadata")&&(0,Rt.isName)(gn,"XML")){const tn=(0,kt.stringToUTF8String)(ln.getString());tn&&(Gt=new $t.MetadataParser(tn).serializable)}}}catch(ln){if(ln instanceof wt.MissingDataException)throw ln;(0,kt.info)(`Skipping invalid Metadata: "${ln}".`)}return(0,kt.shadow)(this,"metadata",Gt)}get markInfo(){let jt=null;try{jt=this._readMarkInfo()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.warn)("Unable to read mark info.")}return(0,kt.shadow)(this,"markInfo",jt)}_readMarkInfo(){const jt=this._catDict.get("MarkInfo");if(!(jt instanceof Rt.Dict))return null;const Gt={Marked:!1,UserProperties:!1,Suspects:!1};for(const Qt in Gt){const ln=jt.get(Qt);typeof ln=="boolean"&&(Gt[Qt]=ln)}return Gt}get structTreeRoot(){let jt=null;try{jt=this._readStructTreeRoot()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.warn)("Unable read to structTreeRoot info.")}return(0,kt.shadow)(this,"structTreeRoot",jt)}_readStructTreeRoot(){const jt=this._catDict.getRaw("StructTreeRoot"),Gt=this.xref.fetchIfRef(jt);if(!(Gt instanceof Rt.Dict))return null;const Qt=new Mt.StructTreeRoot(Gt,jt);return Qt.init(),Qt}get toplevelPagesDict(){const jt=this._catDict.get("Pages");if(!(jt instanceof Rt.Dict))throw new kt.FormatError("Invalid top-level pages dictionary.");return(0,kt.shadow)(this,"toplevelPagesDict",jt)}get documentOutline(){let jt=null;try{jt=this._readDocumentOutline()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.warn)("Unable to read document outline.")}return(0,kt.shadow)(this,"documentOutline",jt)}_readDocumentOutline(){let jt=this._catDict.get("Outlines");if(!(jt instanceof Rt.Dict)||(jt=jt.getRaw("First"),!(jt instanceof Rt.Ref)))return null;const Gt={items:[]},Qt=[{obj:jt,parent:Gt}],ln=new Rt.RefSet;ln.put(jt);const en=this.xref,gn=new Uint8ClampedArray(3);for(;Qt.length>0;){const tn=Qt.shift(),bn=en.fetchIfRef(tn.obj);if(bn===null)continue;if(!bn.has("Title"))throw new kt.FormatError("Invalid outline item encountered.");const Xt={url:null,dest:null,action:null};_t.parseDestDictionary({destDict:bn,resultObj:Xt,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const Yt=bn.get("Title"),un=bn.get("F")||0,Ut=bn.getArray("C"),Lt=bn.get("Count");let Vt=gn;Array.isArray(Ut)&&Ut.length===3&&(Ut[0]!==0||Ut[1]!==0||Ut[2]!==0)&&(Vt=Ht.ColorSpace.singletons.rgb.getRgb(Ut,0));const an={action:Xt.action,attachment:Xt.attachment,dest:Xt.dest,url:Xt.url,unsafeUrl:Xt.unsafeUrl,newWindow:Xt.newWindow,setOCGState:Xt.setOCGState,title:(0,kt.stringToPDFString)(Yt),color:Vt,count:Number.isInteger(Lt)?Lt:void 0,bold:!!(un&2),italic:!!(un&1),items:[]};tn.parent.items.push(an),jt=bn.getRaw("First"),jt instanceof Rt.Ref&&!ln.has(jt)&&(Qt.push({obj:jt,parent:an}),ln.put(jt)),jt=bn.getRaw("Next"),jt instanceof Rt.Ref&&!ln.has(jt)&&(Qt.push({obj:jt,parent:tn.parent}),ln.put(jt))}return Gt.items.length>0?Gt.items:null}get permissions(){let jt=null;try{jt=this._readPermissions()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.warn)("Unable to read permissions.")}return(0,kt.shadow)(this,"permissions",jt)}_readPermissions(){const jt=this.xref.trailer.get("Encrypt");if(!(jt instanceof Rt.Dict))return null;let Gt=jt.get("P");if(typeof Gt!="number")return null;Gt+=4294967296;const Qt=[];for(const ln in kt.PermissionFlag){const en=kt.PermissionFlag[ln];Gt&en&&Qt.push(en)}return Qt}get optionalContentConfig(){let jt=null;try{const Gt=this._catDict.get("OCProperties");if(!Gt)return(0,kt.shadow)(this,"optionalContentConfig",null);const Qt=Gt.get("D");if(!Qt)return(0,kt.shadow)(this,"optionalContentConfig",null);const ln=Gt.get("OCGs");if(!Array.isArray(ln))return(0,kt.shadow)(this,"optionalContentConfig",null);const en=[],gn=[];for(const tn of ln){if(!(tn instanceof Rt.Ref))continue;gn.push(tn);const bn=this.xref.fetchIfRef(tn);en.push({id:tn.toString(),name:typeof bn.get("Name")=="string"?(0,kt.stringToPDFString)(bn.get("Name")):null,intent:typeof bn.get("Intent")=="string"?(0,kt.stringToPDFString)(bn.get("Intent")):null})}jt=this._readOptionalContentConfig(Qt,gn),jt.groups=en}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.warn)(`Unable to read optional content config: ${Gt}`)}return(0,kt.shadow)(this,"optionalContentConfig",jt)}_readOptionalContentConfig(jt,Gt){function Qt(Xt){const Yt=[];if(Array.isArray(Xt))for(const un of Xt)un instanceof Rt.Ref&&Gt.includes(un)&&Yt.push(un.toString());return Yt}function ln(Xt,Yt=0){if(!Array.isArray(Xt))return null;const un=[];for(const Lt of Xt){if(Lt instanceof Rt.Ref&&Gt.includes(Lt)){tn.put(Lt),un.push(Lt.toString());continue}const Vt=en(Lt,Yt);Vt&&un.push(Vt)}if(Yt>0)return un;const Ut=[];for(const Lt of Gt)tn.has(Lt)||Ut.push(Lt.toString());return Ut.length&&un.push({name:null,order:Ut}),un}function en(Xt,Yt){if(++Yt>bn)return(0,kt.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const un=gn.fetchIfRef(Xt);if(!Array.isArray(un))return null;const Ut=gn.fetchIfRef(un[0]);if(typeof Ut!="string")return null;const Lt=ln(un.slice(1),Yt);return!Lt||!Lt.length?null:{name:(0,kt.stringToPDFString)(Ut),order:Lt}}const gn=this.xref,tn=new Rt.RefSet,bn=10;return{name:typeof jt.get("Name")=="string"?(0,kt.stringToPDFString)(jt.get("Name")):null,creator:typeof jt.get("Creator")=="string"?(0,kt.stringToPDFString)(jt.get("Creator")):null,baseState:jt.get("BaseState")instanceof Rt.Name?jt.get("BaseState").name:null,on:Qt(jt.get("ON")),off:Qt(jt.get("OFF")),order:ln(jt.get("Order")),groups:null}}setActualNumPages(jt=null){this._actualNumPages=jt}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const jt=this.toplevelPagesDict.get("Count");if(!Number.isInteger(jt))throw new kt.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,kt.shadow)(this,"_pagesCount",jt)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const jt=this._readDests(),Gt=Object.create(null);if(jt instanceof ht.NameTree)for(const[Qt,ln]of jt.getAll()){const en=Bt(ln);en&&(Gt[(0,kt.stringToPDFString)(Qt)]=en)}else jt instanceof Rt.Dict&&jt.forEach(function(Qt,ln){const en=Bt(ln);en&&(Gt[Qt]=en)});return(0,kt.shadow)(this,"destinations",Gt)}getDestination(jt){const Gt=this._readDests();if(Gt instanceof ht.NameTree){const Qt=Bt(Gt.get(jt));if(Qt)return Qt;const ln=this.destinations[jt];if(ln)return(0,kt.warn)(`Found "${jt}" at an incorrect position in the NameTree.`),ln}else if(Gt instanceof Rt.Dict){const Qt=Bt(Gt.get(jt));if(Qt)return Qt}return null}_readDests(){const jt=this._catDict.get("Names");if(jt!=null&&jt.has("Dests"))return new ht.NameTree(jt.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let jt=null;try{jt=this._readPageLabels()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.warn)("Unable to read page labels.")}return(0,kt.shadow)(this,"pageLabels",jt)}_readPageLabels(){const jt=this._catDict.getRaw("PageLabels");if(!jt)return null;const Gt=new Array(this.numPages);let Qt=null,ln="";const gn=new ht.NumberTree(jt,this.xref).getAll();let tn="",bn=1;for(let Xt=0,Yt=this.numPages;Xt<Yt;Xt++){const un=gn.get(Xt);if(un!==void 0){if(!(un instanceof Rt.Dict))throw new kt.FormatError("PageLabel is not a dictionary.");if(un.has("Type")&&!(0,Rt.isName)(un.get("Type"),"PageLabel"))throw new kt.FormatError("Invalid type in PageLabel dictionary.");if(un.has("S")){const Ut=un.get("S");if(!(Ut instanceof Rt.Name))throw new kt.FormatError("Invalid style in PageLabel dictionary.");Qt=Ut.name}else Qt=null;if(un.has("P")){const Ut=un.get("P");if(typeof Ut!="string")throw new kt.FormatError("Invalid prefix in PageLabel dictionary.");ln=(0,kt.stringToPDFString)(Ut)}else ln="";if(un.has("St")){const Ut=un.get("St");if(!(Number.isInteger(Ut)&&Ut>=1))throw new kt.FormatError("Invalid start in PageLabel dictionary.");bn=Ut}else bn=1}switch(Qt){case"D":tn=bn;break;case"R":case"r":tn=(0,wt.toRomanNumerals)(bn,Qt==="r");break;case"A":case"a":const Ut=26,an=Qt==="a"?97:65,zt=bn-1;tn=String.fromCharCode(an+zt%Ut).repeat(Math.floor(zt/Ut)+1);break;default:if(Qt)throw new kt.FormatError(`Invalid style "${Qt}" in PageLabel dictionary.`);tn=""}Gt[Xt]=ln+tn,bn++}return Gt}get pageLayout(){const jt=this._catDict.get("PageLayout");let Gt="";if(jt instanceof Rt.Name)switch(jt.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":Gt=jt.name}return(0,kt.shadow)(this,"pageLayout",Gt)}get pageMode(){const jt=this._catDict.get("PageMode");let Gt="UseNone";if(jt instanceof Rt.Name)switch(jt.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":Gt=jt.name}return(0,kt.shadow)(this,"pageMode",Gt)}get viewerPreferences(){const jt=this._catDict.get("ViewerPreferences");if(!(jt instanceof Rt.Dict))return(0,kt.shadow)(this,"viewerPreferences",null);let Gt=null;for(const Qt of jt.getKeys()){const ln=jt.get(Qt);let en;switch(Qt){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof ln=="boolean"&&(en=ln);break;case"NonFullScreenPageMode":if(ln instanceof Rt.Name)switch(ln.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":en=ln.name;break;default:en="UseNone"}break;case"Direction":if(ln instanceof Rt.Name)switch(ln.name){case"L2R":case"R2L":en=ln.name;break;default:en="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(ln instanceof Rt.Name)switch(ln.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":en=ln.name;break;default:en="CropBox"}break;case"PrintScaling":if(ln instanceof Rt.Name)switch(ln.name){case"None":case"AppDefault":en=ln.name;break;default:en="AppDefault"}break;case"Duplex":if(ln instanceof Rt.Name)switch(ln.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":en=ln.name;break;default:en="None"}break;case"PrintPageRange":Array.isArray(ln)&&ln.length%2===0&&ln.every((tn,bn,Xt)=>Number.isInteger(tn)&&tn>0&&(bn===0||tn>=Xt[bn-1])&&tn<=this.numPages)&&(en=ln);break;case"NumCopies":Number.isInteger(ln)&&ln>0&&(en=ln);break;default:(0,kt.warn)(`Ignoring non-standard key in ViewerPreferences: ${Qt}.`);continue}if(en===void 0){(0,kt.warn)(`Bad value, for key "${Qt}", in ViewerPreferences: ${ln}.`);continue}Gt||(Gt=Object.create(null)),Gt[Qt]=en}return(0,kt.shadow)(this,"viewerPreferences",Gt)}get openAction(){const jt=this._catDict.get("OpenAction"),Gt=Object.create(null);if(jt instanceof Rt.Dict){const Qt=new Rt.Dict(this.xref);Qt.set("A",jt);const ln={url:null,dest:null,action:null};_t.parseDestDictionary({destDict:Qt,resultObj:ln}),Array.isArray(ln.dest)?Gt.dest=ln.dest:ln.action&&(Gt.action=ln.action)}else Array.isArray(jt)&&(Gt.dest=jt);return(0,kt.shadow)(this,"openAction",(0,kt.objectSize)(Gt)>0?Gt:null)}get attachments(){const jt=this._catDict.get("Names");let Gt=null;if(jt instanceof Rt.Dict&&jt.has("EmbeddedFiles")){const Qt=new ht.NameTree(jt.getRaw("EmbeddedFiles"),this.xref);for(const[ln,en]of Qt.getAll()){const gn=new qt.FileSpec(en,this.xref);Gt||(Gt=Object.create(null)),Gt[(0,kt.stringToPDFString)(ln)]=gn.serializable}}return(0,kt.shadow)(this,"attachments",Gt)}get xfaImages(){const jt=this._catDict.get("Names");let Gt=null;if(jt instanceof Rt.Dict&&jt.has("XFAImages")){const Qt=new ht.NameTree(jt.getRaw("XFAImages"),this.xref);for(const[ln,en]of Qt.getAll())Gt||(Gt=new Rt.Dict(this.xref)),Gt.set((0,kt.stringToPDFString)(ln),en)}return(0,kt.shadow)(this,"xfaImages",Gt)}_collectJavaScript(){const jt=this._catDict.get("Names");let Gt=null;function Qt(en,gn){if(!(gn instanceof Rt.Dict)||!(0,Rt.isName)(gn.get("S"),"JavaScript"))return;let tn=gn.get("JS");if(tn instanceof vt.BaseStream)tn=tn.getString();else if(typeof tn!="string")return;tn=(0,kt.stringToPDFString)(tn).replaceAll("\0",""),tn&&(Gt||(Gt=new Map)).set(en,tn)}if(jt instanceof Rt.Dict&&jt.has("JavaScript")){const en=new ht.NameTree(jt.getRaw("JavaScript"),this.xref);for(const[gn,tn]of en.getAll())Qt((0,kt.stringToPDFString)(gn),tn)}const ln=this._catDict.get("OpenAction");return ln&&Qt("OpenAction",ln),Gt}get jsActions(){const jt=this._collectJavaScript();let Gt=(0,wt.collectActions)(this.xref,this._catDict,kt.DocumentActionEventType);if(jt){Gt||(Gt=Object.create(null));for(const[Qt,ln]of jt)Qt in Gt?Gt[Qt].push(ln):Gt[Qt]=[ln]}return(0,kt.shadow)(this,"jsActions",Gt)}async fontFallback(jt,Gt){const Qt=await Promise.all(this.fontCache);for(const ln of Qt)if(ln.loadedName===jt){ln.fallback(Gt);return}}async cleanup(jt=!1){(0,Ft.clearGlobalCaches)(),this.globalImageCache.clear(jt),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const Gt=await Promise.all(this.fontCache);for(const{dict:Qt}of Gt)delete Qt.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(jt){const Gt=[this.toplevelPagesDict],Qt=new Rt.RefSet,ln=this._catDict.getRaw("Pages");ln instanceof Rt.Ref&&Qt.put(ln);const en=this.xref,gn=this.pageKidsCountCache,tn=this.pageIndexCache;let bn=0;for(;Gt.length;){const Xt=Gt.pop();if(Xt instanceof Rt.Ref){const Lt=gn.get(Xt);if(Lt>=0&&bn+Lt<=jt){bn+=Lt;continue}if(Qt.has(Xt))throw new kt.FormatError("Pages tree contains circular reference.");Qt.put(Xt);const Vt=await en.fetchAsync(Xt);if(Vt instanceof Rt.Dict){let an=Vt.getRaw("Type");if(an instanceof Rt.Ref&&(an=await en.fetchAsync(an)),(0,Rt.isName)(an,"Page")||!Vt.has("Kids")){if(gn.has(Xt)||gn.put(Xt,1),tn.has(Xt)||tn.put(Xt,bn),bn===jt)return[Vt,Xt];bn++;continue}}Gt.push(Vt);continue}if(!(Xt instanceof Rt.Dict))throw new kt.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:Yt}=Xt;let un=Xt.getRaw("Count");if(un instanceof Rt.Ref&&(un=await en.fetchAsync(un)),Number.isInteger(un)&&un>=0&&(Yt&&!gn.has(Yt)&&gn.put(Yt,un),bn+un<=jt)){bn+=un;continue}let Ut=Xt.getRaw("Kids");if(Ut instanceof Rt.Ref&&(Ut=await en.fetchAsync(Ut)),!Array.isArray(Ut)){let Lt=Xt.getRaw("Type");if(Lt instanceof Rt.Ref&&(Lt=await en.fetchAsync(Lt)),(0,Rt.isName)(Lt,"Page")||!Xt.has("Kids")){if(bn===jt)return[Xt,null];bn++;continue}throw new kt.FormatError("Page dictionary kids object is not an array.")}for(let Lt=Ut.length-1;Lt>=0;Lt--)Gt.push(Ut[Lt])}throw new Error(`Page index ${jt} not found.`)}async getAllPageDicts(jt=!1){const{ignoreErrors:Gt}=this.pdfManager.evaluatorOptions,Qt=[{currentNode:this.toplevelPagesDict,posInKids:0}],ln=new Rt.RefSet,en=this._catDict.getRaw("Pages");en instanceof Rt.Ref&&ln.put(en);const gn=new Map,tn=this.xref,bn=this.pageIndexCache;let Xt=0;function Yt(Ut,Lt){Lt&&!bn.has(Lt)&&bn.put(Lt,Xt),gn.set(Xt++,[Ut,Lt])}function un(Ut){if(Ut instanceof wt.XRefEntryException&&!jt)throw Ut;jt&&Gt&&Xt===0&&((0,kt.warn)(`getAllPageDicts - Skipping invalid first page: "${Ut}".`),Ut=Rt.Dict.empty),gn.set(Xt++,[Ut,null])}for(;Qt.length>0;){const Ut=Qt.at(-1),{currentNode:Lt,posInKids:Vt}=Ut;let an=Lt.getRaw("Kids");if(an instanceof Rt.Ref)try{an=await tn.fetchAsync(an)}catch(dn){un(dn);break}if(!Array.isArray(an)){un(new kt.FormatError("Page dictionary kids object is not an array."));break}if(Vt>=an.length){Qt.pop();continue}const zt=an[Vt];let Wt;if(zt instanceof Rt.Ref){if(ln.has(zt)){un(new kt.FormatError("Pages tree contains circular reference."));break}ln.put(zt);try{Wt=await tn.fetchAsync(zt)}catch(dn){un(dn);break}}else Wt=zt;if(!(Wt instanceof Rt.Dict)){un(new kt.FormatError("Page dictionary kid reference points to wrong type of object."));break}let nn=Wt.getRaw("Type");if(nn instanceof Rt.Ref)try{nn=await tn.fetchAsync(nn)}catch(dn){un(dn);break}(0,Rt.isName)(nn,"Page")||!Wt.has("Kids")?Yt(Wt,zt instanceof Rt.Ref?zt:null):Qt.push({currentNode:Wt,posInKids:0}),Ut.posInKids++}return gn}getPageIndex(jt){const Gt=this.pageIndexCache.get(jt);if(Gt!==void 0)return Promise.resolve(Gt);const Qt=this.xref;function ln(tn){let bn=0,Xt;return Qt.fetchAsync(tn).then(function(Yt){if((0,Rt.isRefsEqual)(tn,jt)&&!(0,Rt.isDict)(Yt,"Page")&&!(Yt instanceof Rt.Dict&&!Yt.has("Type")&&Yt.has("Contents")))throw new kt.FormatError("The reference does not point to a /Page dictionary.");if(!Yt)return null;if(!(Yt instanceof Rt.Dict))throw new kt.FormatError("Node must be a dictionary.");return Xt=Yt.getRaw("Parent"),Yt.getAsync("Parent")}).then(function(Yt){if(!Yt)return null;if(!(Yt instanceof Rt.Dict))throw new kt.FormatError("Parent must be a dictionary.");return Yt.getAsync("Kids")}).then(function(Yt){if(!Yt)return null;const un=[];let Ut=!1;for(const Lt of Yt){if(!(Lt instanceof Rt.Ref))throw new kt.FormatError("Kid must be a reference.");if((0,Rt.isRefsEqual)(Lt,tn)){Ut=!0;break}un.push(Qt.fetchAsync(Lt).then(function(Vt){if(!(Vt instanceof Rt.Dict))throw new kt.FormatError("Kid node must be a dictionary.");Vt.has("Count")?bn+=Vt.get("Count"):bn++}))}if(!Ut)throw new kt.FormatError("Kid reference not found in parent's kids.");return Promise.all(un).then(function(){return[bn,Xt]})})}let en=0;const gn=tn=>ln(tn).then(bn=>{if(!bn)return this.pageIndexCache.put(jt,en),en;const[Xt,Yt]=bn;return en+=Xt,gn(Yt)});return gn(jt)}get baseUrl(){const jt=this._catDict.get("URI");if(jt instanceof Rt.Dict){const Gt=jt.get("Base");if(typeof Gt=="string"){const Qt=(0,kt.createValidAbsoluteUrl)(Gt,null,{tryConvertEncoding:!0});if(Qt)return(0,kt.shadow)(this,"baseUrl",Qt.href)}}return(0,kt.shadow)(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:jt,resultObj:Gt,docBaseUrl:Qt=null,docAttachments:ln=null}){if(!(jt instanceof Rt.Dict)){(0,kt.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}let en=jt.get("A"),gn,tn;if(en instanceof Rt.Dict||(jt.has("Dest")?en=jt.get("Dest"):(en=jt.get("AA"),en instanceof Rt.Dict&&(en.has("D")?en=en.get("D"):en.has("U")&&(en=en.get("U"))))),en instanceof Rt.Dict){const bn=en.get("S");if(!(bn instanceof Rt.Name)){(0,kt.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const Xt=bn.name;switch(Xt){case"ResetForm":const Yt=en.get("Flags"),un=((typeof Yt=="number"?Yt:0)&1)===0,Ut=[],Lt=[];for(const kn of en.get("Fields")||[])kn instanceof Rt.Ref?Lt.push(kn.toString()):typeof kn=="string"&&Ut.push((0,kt.stringToPDFString)(kn));Gt.resetForm={fields:Ut,refs:Lt,include:un};break;case"URI":gn=en.get("URI"),gn instanceof Rt.Name&&(gn="/"+gn.name);break;case"GoTo":tn=en.get("D");break;case"Launch":case"GoToR":const Vt=en.get("F");Vt instanceof Rt.Dict?gn=Vt.get("F")||null:typeof Vt=="string"&&(gn=Vt);let an=en.get("D");if(an&&(an instanceof Rt.Name&&(an=an.name),typeof gn=="string")){const kn=gn.split("#")[0];typeof an=="string"?gn=kn+"#"+an:Array.isArray(an)&&(gn=kn+"#"+JSON.stringify(an))}const zt=en.get("NewWindow");typeof zt=="boolean"&&(Gt.newWindow=zt);break;case"GoToE":const Wt=en.get("T");let nn;if(ln&&Wt instanceof Rt.Dict){const kn=Wt.get("R"),Fn=Wt.get("N");(0,Rt.isName)(kn,"C")&&typeof Fn=="string"&&(nn=ln[(0,kt.stringToPDFString)(Fn)])}nn?Gt.attachment=nn:(0,kt.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const dn=en.get("N");dn instanceof Rt.Name&&(Gt.action=dn.name);break;case"SetOCGState":const on=en.get("State"),hn=en.get("PreserveRB");if(!Array.isArray(on)||on.length===0)break;const sn=[];for(const kn of on)if(kn instanceof Rt.Name)switch(kn.name){case"ON":case"OFF":case"Toggle":sn.push(kn.name);break}else kn instanceof Rt.Ref&&sn.push(kn.toString());if(sn.length!==on.length)break;Gt.setOCGState={state:sn,preserveRB:typeof hn=="boolean"?hn:!0};break;case"JavaScript":const rn=en.get("JS");let xn;rn instanceof vt.BaseStream?xn=rn.getString():typeof rn=="string"&&(xn=rn);const vn=xn&&(0,wt.recoverJsURL)((0,kt.stringToPDFString)(xn));if(vn){gn=vn.url,Gt.newWindow=vn.newWindow;break}default:if(Xt==="JavaScript"||Xt==="SubmitForm")break;(0,kt.warn)(`parseDestDictionary - unsupported action: "${Xt}".`);break}}else jt.has("Dest")&&(tn=jt.get("Dest"));if(typeof gn=="string"){const bn=(0,kt.createValidAbsoluteUrl)(gn,Qt,{addDefaultProtocol:!0,tryConvertEncoding:!0});bn&&(Gt.url=bn.href),Gt.unsafeUrl=gn}tn&&(tn instanceof Rt.Name&&(tn=tn.name),typeof tn=="string"?Gt.dest=(0,kt.stringToPDFString)(tn):Array.isArray(tn)&&(Gt.dest=tn))}}Ct.Catalog=_t},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.NumberTree=Ct.NameTree=void 0;var wt=Pt(4),kt=Pt(2);class Rt{constructor(Ht,qt,Nt){this.constructor===Rt&&(0,kt.unreachable)("Cannot initialize NameOrNumberTree."),this.root=Ht,this.xref=qt,this._type=Nt}getAll(){const Ht=new Map;if(!this.root)return Ht;const qt=this.xref,Nt=new wt.RefSet;Nt.put(this.root);const $t=[this.root];for(;$t.length>0;){const Mt=qt.fetchIfRef($t.shift());if(!(Mt instanceof wt.Dict))continue;if(Mt.has("Kids")){const _t=Mt.get("Kids");if(!Array.isArray(_t))continue;for(const Kt of _t){if(Nt.has(Kt))throw new kt.FormatError(`Duplicate entry in "${this._type}" tree.`);$t.push(Kt),Nt.put(Kt)}continue}const Bt=Mt.get(this._type);if(Array.isArray(Bt))for(let _t=0,Kt=Bt.length;_t<Kt;_t+=2)Ht.set(qt.fetchIfRef(Bt[_t]),qt.fetchIfRef(Bt[_t+1]))}return Ht}get(Ht){if(!this.root)return null;const qt=this.xref;let Nt=qt.fetchIfRef(this.root),$t=0;const Mt=10;for(;Nt.has("Kids");){if(++$t>Mt)return(0,kt.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const _t=Nt.get("Kids");if(!Array.isArray(_t))return null;let Kt=0,jt=_t.length-1;for(;Kt<=jt;){const Gt=Kt+jt>>1,Qt=qt.fetchIfRef(_t[Gt]),ln=Qt.get("Limits");if(Ht<qt.fetchIfRef(ln[0]))jt=Gt-1;else if(Ht>qt.fetchIfRef(ln[1]))Kt=Gt+1;else{Nt=Qt;break}}if(Kt>jt)return null}const Bt=Nt.get(this._type);if(Array.isArray(Bt)){let _t=0,Kt=Bt.length-2;for(;_t<=Kt;){const jt=_t+Kt>>1,Gt=jt+(jt&1),Qt=qt.fetchIfRef(Bt[Gt]);if(Ht<Qt)Kt=Gt-2;else if(Ht>Qt)_t=Gt+2;else return qt.fetchIfRef(Bt[Gt+1])}}return null}}class ht extends Rt{constructor(Ht,qt){super(Ht,qt,"Names")}}Ct.NameTree=ht;class vt extends Rt{constructor(Ht,qt){super(Ht,qt,"Nums")}}Ct.NumberTree=vt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.clearGlobalCaches=ht;var wt=Pt(50),kt=Pt(4),Rt=Pt(40);function ht(){(0,wt.clearPatternCaches)(),(0,kt.clearPrimitiveCaches)(),(0,Rt.clearUnicodeCaches)()}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.FileSpec=void 0;var wt=Pt(2),kt=Pt(5),Rt=Pt(4);function ht(Ft){return Ft.has("UF")?Ft.get("UF"):Ft.has("F")?Ft.get("F"):Ft.has("Unix")?Ft.get("Unix"):Ft.has("Mac")?Ft.get("Mac"):Ft.has("DOS")?Ft.get("DOS"):null}class vt{constructor(Ht,qt){Ht instanceof Rt.Dict&&(this.xref=qt,this.root=Ht,Ht.has("FS")&&(this.fs=Ht.get("FS")),this.description=Ht.has("Desc")?(0,wt.stringToPDFString)(Ht.get("Desc")):"",Ht.has("RF")&&(0,wt.warn)("Related file specifications are not supported"),this.contentAvailable=!0,Ht.has("EF")||(this.contentAvailable=!1,(0,wt.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const Ht=ht(this.root)||"unnamed";this._filename=(0,wt.stringToPDFString)(Ht).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=ht(this.root.get("EF")));let Ht=null;if(this.contentRef){const qt=this.xref.fetchIfRef(this.contentRef);qt instanceof kt.BaseStream?Ht=qt.getBytes():(0,wt.warn)("Embedded file specification points to non-existing/invalid content")}else(0,wt.warn)("Embedded file specification does not have a content");return Ht}get serializable(){return{filename:this.filename,content:this.content}}}Ct.FileSpec=vt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.MetadataParser=void 0;var wt=Pt(71);class kt{constructor(ht){ht=this._repair(ht);const Ft=new wt.SimpleXMLParser({lowerCaseName:!0}).parseFromString(ht);this._metadataMap=new Map,this._data=ht,Ft&&this._parse(Ft)}_repair(ht){return ht.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(vt,Ft){const Ht=Ft.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(Nt,$t,Mt,Bt){return String.fromCharCode($t*64+Mt*8+Bt*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(Nt,$t){switch($t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${$t} isn't defined.`)}),qt=[">"];for(let Nt=0,$t=Ht.length;Nt<$t;Nt+=2){const Mt=Ht.charCodeAt(Nt)*256+Ht.charCodeAt(Nt+1);Mt>=32&&Mt<127&&Mt!==60&&Mt!==62&&Mt!==38?qt.push(String.fromCharCode(Mt)):qt.push("&#x"+(65536+Mt).toString(16).substring(1)+";")}return qt.join("")})}_getSequence(ht){const vt=ht.nodeName;return vt!=="rdf:bag"&&vt!=="rdf:seq"&&vt!=="rdf:alt"?null:ht.childNodes.filter(Ft=>Ft.nodeName==="rdf:li")}_parseArray(ht){if(!ht.hasChildNodes())return;const[vt]=ht.childNodes,Ft=this._getSequence(vt)||[];this._metadataMap.set(ht.nodeName,Ft.map(Ht=>Ht.textContent.trim()))}_parse(ht){let vt=ht.documentElement;if(vt.nodeName!=="rdf:rdf")for(vt=vt.firstChild;vt&&vt.nodeName!=="rdf:rdf";)vt=vt.nextSibling;if(!(!vt||vt.nodeName!=="rdf:rdf"||!vt.hasChildNodes())){for(const Ft of vt.childNodes)if(Ft.nodeName==="rdf:description")for(const Ht of Ft.childNodes){const qt=Ht.nodeName;switch(qt){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(Ht);continue}this._metadataMap.set(qt,Ht.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}Ct.MetadataParser=kt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.XMLParserErrorCode=Ct.XMLParserBase=Ct.SimpleXMLParser=Ct.SimpleDOMNode=void 0;var wt=Pt(3);const kt={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};Ct.XMLParserErrorCode=kt;function Rt(qt,Nt){const $t=qt[Nt];return $t===" "||$t===`
`||$t==="\r"||$t==="	"}function ht(qt){for(let Nt=0,$t=qt.length;Nt<$t;Nt++)if(!Rt(qt,Nt))return!1;return!0}class vt{_resolveEntities(Nt){return Nt.replaceAll(/&([^;]+);/g,($t,Mt)=>{if(Mt.substring(0,2)==="#x")return String.fromCodePoint(parseInt(Mt.substring(2),16));if(Mt.substring(0,1)==="#")return String.fromCodePoint(parseInt(Mt.substring(1),10));switch(Mt){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(Mt)})}_parseContent(Nt,$t){const Mt=[];let Bt=$t;function _t(){for(;Bt<Nt.length&&Rt(Nt,Bt);)++Bt}for(;Bt<Nt.length&&!Rt(Nt,Bt)&&Nt[Bt]!==">"&&Nt[Bt]!=="/";)++Bt;const Kt=Nt.substring($t,Bt);for(_t();Bt<Nt.length&&Nt[Bt]!==">"&&Nt[Bt]!=="/"&&Nt[Bt]!=="?";){_t();let jt="",Gt="";for(;Bt<Nt.length&&!Rt(Nt,Bt)&&Nt[Bt]!=="=";)jt+=Nt[Bt],++Bt;if(_t(),Nt[Bt]!=="=")return null;++Bt,_t();const Qt=Nt[Bt];if(Qt!=='"'&&Qt!=="'")return null;const ln=Nt.indexOf(Qt,++Bt);if(ln<0)return null;Gt=Nt.substring(Bt,ln),Mt.push({name:jt,value:this._resolveEntities(Gt)}),Bt=ln+1,_t()}return{name:Kt,attributes:Mt,parsed:Bt-$t}}_parseProcessingInstruction(Nt,$t){let Mt=$t;function Bt(){for(;Mt<Nt.length&&Rt(Nt,Mt);)++Mt}for(;Mt<Nt.length&&!Rt(Nt,Mt)&&Nt[Mt]!==">"&&Nt[Mt]!=="?"&&Nt[Mt]!=="/";)++Mt;const _t=Nt.substring($t,Mt);Bt();const Kt=Mt;for(;Mt<Nt.length&&(Nt[Mt]!=="?"||Nt[Mt+1]!==">");)++Mt;const jt=Nt.substring(Kt,Mt);return{name:_t,value:jt,parsed:Mt-$t}}parseXml(Nt){let $t=0;for(;$t<Nt.length;){const Mt=Nt[$t];let Bt=$t;if(Mt==="<"){++Bt;const _t=Nt[Bt];let Kt;switch(_t){case"/":if(++Bt,Kt=Nt.indexOf(">",Bt),Kt<0){this.onError(kt.UnterminatedElement);return}this.onEndElement(Nt.substring(Bt,Kt)),Bt=Kt+1;break;case"?":++Bt;const jt=this._parseProcessingInstruction(Nt,Bt);if(Nt.substring(Bt+jt.parsed,Bt+jt.parsed+2)!=="?>"){this.onError(kt.UnterminatedXmlDeclaration);return}this.onPi(jt.name,jt.value),Bt+=jt.parsed+2;break;case"!":if(Nt.substring(Bt+1,Bt+3)==="--"){if(Kt=Nt.indexOf("-->",Bt+3),Kt<0){this.onError(kt.UnterminatedComment);return}this.onComment(Nt.substring(Bt+3,Kt)),Bt=Kt+3}else if(Nt.substring(Bt+1,Bt+8)==="[CDATA["){if(Kt=Nt.indexOf("]]>",Bt+8),Kt<0){this.onError(kt.UnterminatedCdat);return}this.onCdata(Nt.substring(Bt+8,Kt)),Bt=Kt+3}else if(Nt.substring(Bt+1,Bt+8)==="DOCTYPE"){const ln=Nt.indexOf("[",Bt+8);let en=!1;if(Kt=Nt.indexOf(">",Bt+8),Kt<0){this.onError(kt.UnterminatedDoctypeDeclaration);return}if(ln>0&&Kt>ln){if(Kt=Nt.indexOf("]>",Bt+8),Kt<0){this.onError(kt.UnterminatedDoctypeDeclaration);return}en=!0}const gn=Nt.substring(Bt+8,Kt+(en?1:0));this.onDoctype(gn),Bt=Kt+(en?2:1)}else{this.onError(kt.MalformedElement);return}break;default:const Gt=this._parseContent(Nt,Bt);if(Gt===null){this.onError(kt.MalformedElement);return}let Qt=!1;if(Nt.substring(Bt+Gt.parsed,Bt+Gt.parsed+2)==="/>")Qt=!0;else if(Nt.substring(Bt+Gt.parsed,Bt+Gt.parsed+1)!==">"){this.onError(kt.UnterminatedElement);return}this.onBeginElement(Gt.name,Gt.attributes,Qt),Bt+=Gt.parsed+(Qt?2:1);break}}else{for(;Bt<Nt.length&&Nt[Bt]!=="<";)Bt++;const _t=Nt.substring($t,Bt);this.onText(this._resolveEntities(_t))}$t=Bt}}onResolveEntity(Nt){return`&${Nt};`}onPi(Nt,$t){}onComment(Nt){}onCdata(Nt){}onDoctype(Nt){}onText(Nt){}onBeginElement(Nt,$t,Mt){}onEndElement(Nt){}onError(Nt){}}Ct.XMLParserBase=vt;class Ft{constructor(Nt,$t){this.nodeName=Nt,this.nodeValue=$t,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){var Nt;return(Nt=this.childNodes)==null?void 0:Nt[0]}get nextSibling(){const Nt=this.parentNode.childNodes;if(!Nt)return;const $t=Nt.indexOf(this);if($t!==-1)return Nt[$t+1]}get textContent(){return this.childNodes?this.childNodes.map(function(Nt){return Nt.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){var Nt;return((Nt=this.childNodes)==null?void 0:Nt.length)>0}searchNode(Nt,$t){var Kt;if($t>=Nt.length)return this;const Mt=Nt[$t];if(Mt.name.startsWith("#")&&$t<Nt.length-1)return this.searchNode(Nt,$t+1);const Bt=[];let _t=this;for(;;){if(Mt.name===_t.nodeName)if(Mt.pos===0){const jt=_t.searchNode(Nt,$t+1);if(jt!==null)return jt}else{if(Bt.length===0)return null;{const[jt]=Bt.pop();let Gt=0;for(const Qt of jt.childNodes)if(Mt.name===Qt.nodeName){if(Gt===Mt.pos)return Qt.searchNode(Nt,$t+1);Gt++}return _t.searchNode(Nt,$t+1)}}if(((Kt=_t.childNodes)==null?void 0:Kt.length)>0)Bt.push([_t,0]),_t=_t.childNodes[0];else{if(Bt.length===0)return null;for(;Bt.length!==0;){const[jt,Gt]=Bt.pop(),Qt=Gt+1;if(Qt<jt.childNodes.length){Bt.push([jt,Qt]),_t=jt.childNodes[Qt];break}}if(Bt.length===0)return null}}}dump(Nt){if(this.nodeName==="#text"){Nt.push((0,wt.encodeToXmlString)(this.nodeValue));return}if(Nt.push(`<${this.nodeName}`),this.attributes)for(const $t of this.attributes)Nt.push(` ${$t.name}="${(0,wt.encodeToXmlString)($t.value)}"`);if(this.hasChildNodes()){Nt.push(">");for(const $t of this.childNodes)$t.dump(Nt);Nt.push(`</${this.nodeName}>`)}else this.nodeValue?Nt.push(`>${(0,wt.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):Nt.push("/>")}}Ct.SimpleDOMNode=Ft;class Ht extends vt{constructor({hasAttributes:Nt=!1,lowerCaseName:$t=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=kt.NoError,this._hasAttributes=Nt,this._lowerCaseName=$t}parseFromString(Nt){if(this._currentFragment=[],this._stack=[],this._errorCode=kt.NoError,this.parseXml(Nt),this._errorCode!==kt.NoError)return;const[$t]=this._currentFragment;if($t)return{documentElement:$t}}onText(Nt){if(ht(Nt))return;const $t=new Ft("#text",Nt);this._currentFragment.push($t)}onCdata(Nt){const $t=new Ft("#text",Nt);this._currentFragment.push($t)}onBeginElement(Nt,$t,Mt){this._lowerCaseName&&(Nt=Nt.toLowerCase());const Bt=new Ft(Nt);Bt.childNodes=[],this._hasAttributes&&(Bt.attributes=$t),this._currentFragment.push(Bt),!Mt&&(this._stack.push(this._currentFragment),this._currentFragment=Bt.childNodes)}onEndElement(Nt){this._currentFragment=this._stack.pop()||[];const $t=this._currentFragment.at(-1);if(!$t)return null;for(const Mt of $t.childNodes)Mt.parentNode=$t;return $t}onError(Nt){this._errorCode=Nt}}Ct.SimpleXMLParser=Ht},(Et,Ct,Pt)=>{var Mt,y5,_t,J9,v5,w5;Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.StructTreeRoot=Ct.StructTreePage=void 0;var wt=Pt(2),kt=Pt(4),Rt=Pt(67),ht=Pt(73);const vt=40,Ft={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5},Qt=class Qt{constructor(en,gn){Nn(this,Mt);this.dict=en,this.ref=gn instanceof kt.Ref?gn:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}addAnnotationIdToPage(en,gn){In(this,Mt,y5).call(this,en,gn,Ft.ANNOTATION)}readRoleMap(){const en=this.dict.get("RoleMap");en instanceof kt.Dict&&en.forEach((gn,tn)=>{tn instanceof kt.Name&&this.roleMap.set(gn,tn.name)})}static async canCreateStructureTree({catalogRef:en,pdfManager:gn,newAnnotationsByPage:tn}){var Yt;if(!(en instanceof kt.Ref))return(0,wt.warn)("Cannot save the struct tree: no catalog reference."),!1;let bn=0,Xt=!0;for(const[un,Ut]of tn){const{ref:Lt}=await gn.getPage(un);if(!(Lt instanceof kt.Ref)){(0,wt.warn)(`Cannot save the struct tree: page ${un} has no ref.`),Xt=!0;break}for(const Vt of Ut)(Yt=Vt.accessibilityData)!=null&&Yt.type&&(Vt.parentTreeId=bn++,Xt=!1)}if(Xt){for(const un of tn.values())for(const Ut of un)delete Ut.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:en,xref:gn,catalogRef:tn,pdfManager:bn,newRefs:Xt}){const Yt=bn.catalog.cloneDict(),un=gn.getNewTemporaryRef();Yt.set("StructTreeRoot",un);const Ut=[];await(0,ht.writeObject)(tn,Yt,Ut,gn),Xt.push({ref:tn,data:Ut.join("")});const Lt=new kt.Dict(gn);Lt.set("Type",kt.Name.get("StructTreeRoot"));const Vt=gn.getNewTemporaryRef();Lt.set("ParentTree",Vt);const an=[];Lt.set("K",an);const zt=new kt.Dict(gn),Wt=[];zt.set("Nums",Wt);const nn=await In(this,_t,J9).call(this,{newAnnotationsByPage:en,structTreeRootRef:un,kids:an,nums:Wt,xref:gn,pdfManager:bn,newRefs:Xt,buffer:Ut});Lt.set("ParentTreeNextKey",nn),Ut.length=0,await(0,ht.writeObject)(Vt,zt,Ut,gn),Xt.push({ref:Vt,data:Ut.join("")}),Ut.length=0,await(0,ht.writeObject)(un,Lt,Ut,gn),Xt.push({ref:un,data:Ut.join("")})}async canUpdateStructTree({pdfManager:en,newAnnotationsByPage:gn}){var Ut,Lt;if(!this.ref)return(0,wt.warn)("Cannot update the struct tree: no root reference."),!1;let tn=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(tn)||tn<0)return(0,wt.warn)("Cannot update the struct tree: invalid next key."),!1;const bn=this.dict.get("ParentTree");if(!(bn instanceof kt.Dict))return(0,wt.warn)("Cannot update the struct tree: ParentTree isn't a dict."),!1;const Xt=bn.get("Nums");if(!Array.isArray(Xt))return(0,wt.warn)("Cannot update the struct tree: nums isn't an array."),!1;const{numPages:Yt}=en.catalog;for(const Vt of gn.keys()){const{pageDict:an,ref:zt}=await en.getPage(Vt);if(!(zt instanceof kt.Ref))return(0,wt.warn)(`Cannot save the struct tree: page ${Vt} has no ref.`),!1;const Wt=an.get("StructParents");if(!Number.isInteger(Wt)||Wt<0||Wt>=Yt)return(0,wt.warn)(`Cannot save the struct tree: page ${Vt} has no id.`),!1}let un=!0;for(const[Vt,an]of gn){const{pageDict:zt}=await en.getPage(Vt);In(Ut=Qt,_t,v5).call(Ut,{elements:an,xref:this.dict.xref,pageDict:zt,parentTree:bn});for(const Wt of an)(Lt=Wt.accessibilityData)!=null&&Lt.type&&(Wt.parentTreeId=tn++,un=!1)}if(un){for(const Vt of gn.values())for(const an of Vt)delete an.parentTreeId,delete an.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:en,pdfManager:gn,newRefs:tn}){var dn;const bn=this.dict.xref,Xt=this.dict.clone(),Yt=this.ref;let un=Xt.getRaw("ParentTree"),Ut;un instanceof kt.Ref?Ut=bn.fetch(un):(Ut=un,un=bn.getNewTemporaryRef(),Xt.set("ParentTree",un)),Ut=Ut.clone();let Lt=Ut.getRaw("Nums"),Vt=null;Lt instanceof kt.Ref&&(Vt=Lt,Lt=bn.fetch(Vt)),Lt=Lt.slice(),Vt||Ut.set("Nums",Lt);let an=Xt.getRaw("K"),zt=null;an instanceof kt.Ref?(zt=an,an=bn.fetch(zt)):(zt=bn.getNewTemporaryRef(),Xt.set("K",zt)),an=Array.isArray(an)?an.slice():[an];const Wt=[],nn=await In(dn=Qt,_t,J9).call(dn,{newAnnotationsByPage:en,structTreeRootRef:Yt,kids:an,nums:Lt,xref:bn,pdfManager:gn,newRefs:tn,buffer:Wt});Xt.set("ParentTreeNextKey",nn),Wt.length=0,await(0,ht.writeObject)(zt,an,Wt,bn),tn.push({ref:zt,data:Wt.join("")}),Vt&&(Wt.length=0,await(0,ht.writeObject)(Vt,Lt,Wt,bn),tn.push({ref:Vt,data:Wt.join("")})),Wt.length=0,await(0,ht.writeObject)(un,Ut,Wt,bn),tn.push({ref:un,data:Wt.join("")}),Wt.length=0,await(0,ht.writeObject)(Yt,Xt,Wt,bn),tn.push({ref:Yt,data:Wt.join("")})}};Mt=new WeakSet,y5=function(en,gn,tn){if(!(en instanceof kt.Ref)||gn<0)return;this.structParentIds||(this.structParentIds=new kt.RefSetCache);let bn=this.structParentIds.get(en);bn||(bn=[],this.structParentIds.put(en,bn)),bn.push([gn,tn])},_t=new WeakSet,J9=async function({newAnnotationsByPage:en,structTreeRootRef:gn,kids:tn,nums:bn,xref:Xt,pdfManager:Yt,newRefs:un,buffer:Ut}){const Lt=kt.Name.get("OBJR");let Vt=-1/0;for(const[an,zt]of en){const{ref:Wt}=await Yt.getPage(an);for(const{accessibilityData:{type:nn,title:dn,lang:on,alt:hn,expanded:sn,actualText:rn},ref:xn,parentTreeId:vn,structTreeParent:kn}of zt){Vt=Math.max(Vt,vn);const Fn=Xt.getNewTemporaryRef(),On=new kt.Dict(Xt);On.set("S",kt.Name.get(nn)),dn&&On.set("T",dn),on&&On.set("Lang",on),hn&&On.set("Alt",hn),sn&&On.set("E",sn),rn&&On.set("ActualText",rn),kn?await In(this,_t,w5).call(this,{structTreeParent:kn,tagDict:On,newTagRef:Fn,fallbackRef:gn,xref:Xt,newRefs:un,buffer:Ut}):On.set("P",gn);const Pn=new kt.Dict(Xt);On.set("K",Pn),Pn.set("Type",Lt),Pn.set("Pg",Wt),Pn.set("Obj",xn),Ut.length=0,await(0,ht.writeObject)(Fn,On,Ut,Xt),un.push({ref:Fn,data:Ut.join("")}),bn.push(vn,Fn),tn.push(Fn)}}return Vt+1},v5=function({elements:en,xref:gn,pageDict:tn,parentTree:bn}){const Xt=new Map;for(const Vt of en)if(Vt.structTreeParentId){const an=parseInt(Vt.structTreeParentId.split("_mc")[1],10);Xt.set(an,Vt)}const Yt=tn.get("StructParents"),Ut=new Rt.NumberTree(bn,gn).get(Yt);if(!Array.isArray(Ut))return;const Lt=(Vt,an,zt)=>{const Wt=Xt.get(Vt);if(Wt){const nn=an.getRaw("P"),dn=gn.fetchIfRef(nn);return nn instanceof kt.Ref&&dn instanceof kt.Dict&&(Wt.structTreeParent={ref:zt,dict:an}),!0}return!1};for(const Vt of Ut){if(!(Vt instanceof kt.Ref))continue;const an=gn.fetch(Vt),zt=an.get("K");if(Number.isInteger(zt)){Lt(zt,an,Vt);continue}if(Array.isArray(zt)){for(let Wt of zt)if(Wt=gn.fetchIfRef(Wt),Number.isInteger(Wt)&&Lt(Wt,an,Vt))break}}},w5=async function({structTreeParent:{ref:en,dict:gn},tagDict:tn,newTagRef:bn,fallbackRef:Xt,xref:Yt,newRefs:un,buffer:Ut}){const Lt=gn.getRaw("P");let Vt=Yt.fetchIfRef(Lt);tn.set("P",Lt);let an=!1,zt,Wt=Vt.getRaw("K");if(Wt instanceof kt.Ref?zt=Yt.fetch(Wt):(zt=Wt,Wt=Yt.getNewTemporaryRef(),Vt=Vt.clone(),Vt.set("K",Wt),an=!0),Array.isArray(zt)){const nn=zt.indexOf(en);if(nn>=0)zt=zt.slice(),zt.splice(nn+1,0,bn);else{(0,wt.warn)("Cannot update the struct tree: parent kid not found."),tn.set("P",Xt);return}}else zt instanceof kt.Dict&&(zt=[Wt,bn],Wt=Yt.getNewTemporaryRef(),Vt.set("K",Wt),an=!0);Ut.length=0,await(0,ht.writeObject)(Wt,zt,Ut,Yt),un.push({ref:Wt,data:Ut.join("")}),an&&(Ut.length=0,await(0,ht.writeObject)(Lt,Vt,Ut,Yt),un.push({ref:Lt,data:Ut.join("")}))},Nn(Qt,_t);let Ht=Qt;Ct.StructTreeRoot=Ht;class qt{constructor(en,gn){this.tree=en,this.dict=gn,this.kids=[],this.parseKids()}get role(){const en=this.dict.get("S"),gn=en instanceof kt.Name?en.name:"",{root:tn}=this.tree;return tn.roleMap.has(gn)?tn.roleMap.get(gn):gn}parseKids(){let en=null;const gn=this.dict.getRaw("Pg");gn instanceof kt.Ref&&(en=gn.toString());const tn=this.dict.get("K");if(Array.isArray(tn))for(const bn of tn){const Xt=this.parseKid(en,bn);Xt&&this.kids.push(Xt)}else{const bn=this.parseKid(en,tn);bn&&this.kids.push(bn)}}parseKid(en,gn){if(Number.isInteger(gn))return this.tree.pageDict.objId!==en?null:new Nt({type:Ft.PAGE_CONTENT,mcid:gn,pageObjId:en});let tn=null;if(gn instanceof kt.Ref?tn=this.dict.xref.fetch(gn):gn instanceof kt.Dict&&(tn=gn),!tn)return null;const bn=tn.getRaw("Pg");bn instanceof kt.Ref&&(en=bn.toString());const Xt=tn.get("Type")instanceof kt.Name?tn.get("Type").name:null;if(Xt==="MCR"){if(this.tree.pageDict.objId!==en)return null;const Yt=tn.getRaw("Stm");return new Nt({type:Ft.STREAM_CONTENT,refObjId:Yt instanceof kt.Ref?Yt.toString():null,pageObjId:en,mcid:tn.get("MCID")})}if(Xt==="OBJR"){if(this.tree.pageDict.objId!==en)return null;const Yt=tn.getRaw("Obj");return new Nt({type:Ft.OBJECT,refObjId:Yt instanceof kt.Ref?Yt.toString():null,pageObjId:en})}return new Nt({type:Ft.ELEMENT,dict:tn})}}class Nt{constructor({type:en,dict:gn=null,mcid:tn=null,pageObjId:bn=null,refObjId:Xt=null}){this.type=en,this.dict=gn,this.mcid=tn,this.pageObjId=bn,this.refObjId=Xt,this.parentNode=null}}class $t{constructor(en,gn){this.root=en,this.rootDict=en?en.dict:null,this.pageDict=gn,this.nodes=[]}parse(en){var un,Ut;if(!this.root||!this.rootDict)return;const gn=this.rootDict.get("ParentTree");if(!gn)return;const tn=this.pageDict.get("StructParents"),bn=en instanceof kt.Ref&&((un=this.root.structParentIds)==null?void 0:un.get(en));if(!Number.isInteger(tn)&&!bn)return;const Xt=new Map,Yt=new Rt.NumberTree(gn,this.rootDict.xref);if(Number.isInteger(tn)){const Lt=Yt.get(tn);if(Array.isArray(Lt))for(const Vt of Lt)Vt instanceof kt.Ref&&this.addNode(this.rootDict.xref.fetch(Vt),Xt)}if(bn)for(const[Lt,Vt]of bn){const an=Yt.get(Lt);if(an){const zt=this.addNode(this.rootDict.xref.fetchIfRef(an),Xt);((Ut=zt==null?void 0:zt.kids)==null?void 0:Ut.length)===1&&zt.kids[0].type===Ft.OBJECT&&(zt.kids[0].type=Vt)}}}addNode(en,gn,tn=0){if(tn>vt)return(0,wt.warn)("StructTree MAX_DEPTH reached."),null;if(gn.has(en))return gn.get(en);const bn=new qt(this,en);gn.set(en,bn);const Xt=en.get("P");if(!Xt||(0,kt.isName)(Xt.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(en,bn)||gn.delete(en),bn;const Yt=this.addNode(Xt,gn,tn+1);if(!Yt)return bn;let un=!1;for(const Ut of Yt.kids)Ut.type===Ft.ELEMENT&&Ut.dict===en&&(Ut.parentNode=bn,un=!0);return un||gn.delete(en),bn}addTopLevelNode(en,gn){const tn=this.rootDict.get("K");if(!tn)return!1;if(tn instanceof kt.Dict)return tn.objId!==en.objId?!1:(this.nodes[0]=gn,!0);if(!Array.isArray(tn))return!0;let bn=!1;for(let Xt=0;Xt<tn.length;Xt++){const Yt=tn[Xt];(Yt==null?void 0:Yt.toString())===en.objId&&(this.nodes[Xt]=gn,bn=!0)}return bn}get serializable(){function en(tn,bn,Xt=0){if(Xt>vt){(0,wt.warn)("StructTree too deep to be fully serialized.");return}const Yt=Object.create(null);Yt.role=tn.role,Yt.children=[],bn.children.push(Yt);const un=tn.dict.get("Alt");typeof un=="string"&&(Yt.alt=(0,wt.stringToPDFString)(un));const Ut=tn.dict.get("Lang");typeof Ut=="string"&&(Yt.lang=(0,wt.stringToPDFString)(Ut));for(const Lt of tn.kids){const Vt=Lt.type===Ft.ELEMENT?Lt.parentNode:null;if(Vt){en(Vt,Yt,Xt+1);continue}else Lt.type===Ft.PAGE_CONTENT||Lt.type===Ft.STREAM_CONTENT?Yt.children.push({type:"content",id:`p${Lt.pageObjId}_mc${Lt.mcid}`}):Lt.type===Ft.OBJECT?Yt.children.push({type:"object",id:Lt.refObjId}):Lt.type===Ft.ANNOTATION&&Yt.children.push({type:"annotation",id:`${wt.AnnotationPrefix}${Lt.refObjId}`})}}const gn=Object.create(null);gn.children=[],gn.role="Root";for(const tn of this.nodes)tn&&en(tn,gn);return gn}}Ct.StructTreePage=$t},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.incrementalUpdate=ln,Ct.writeDict=qt,Ct.writeObject=Ht;var wt=Pt(2),kt=Pt(4),Rt=Pt(3),ht=Pt(71),vt=Pt(5),Ft=Pt(74);async function Ht(en,gn,tn,{encrypt:bn=null}){const Xt=bn==null?void 0:bn.createCipherTransform(en.num,en.gen);tn.push(`${en.num} ${en.gen} obj
`),gn instanceof kt.Dict?await qt(gn,tn,Xt):gn instanceof vt.BaseStream?await Nt(gn,tn,Xt):Array.isArray(gn)&&await $t(gn,tn,Xt),tn.push(`
endobj
`)}async function qt(en,gn,tn){gn.push("<<");for(const bn of en.getKeys())gn.push(` /${(0,Rt.escapePDFName)(bn)} `),await Mt(en.getRaw(bn),gn,tn);gn.push(">>")}async function Nt(en,gn,tn){let bn=en.getString();const{dict:Xt}=en,[Yt,un]=await Promise.all([Xt.getAsync("Filter"),Xt.getAsync("DecodeParms")]),Ut=Array.isArray(Yt)?await Xt.xref.fetchIfRefAsync(Yt[0]):Yt,Lt=(0,kt.isName)(Ut,"FlateDecode");if(typeof CompressionStream<"u"&&(bn.length>=256||Lt))try{const an=(0,wt.stringToBytes)(bn),zt=new CompressionStream("deflate"),Wt=zt.writable.getWriter();Wt.write(an),Wt.close();const nn=await new Response(zt.readable).arrayBuffer();bn=(0,wt.bytesToString)(new Uint8Array(nn));let dn,on;Yt?Lt||(dn=Array.isArray(Yt)?[kt.Name.get("FlateDecode"),...Yt]:[kt.Name.get("FlateDecode"),Yt],un&&(on=Array.isArray(un)?[null,...un]:[null,un])):dn=kt.Name.get("FlateDecode"),dn&&Xt.set("Filter",dn),on&&Xt.set("DecodeParms",on)}catch(an){(0,wt.info)(`writeStream - cannot compress data: "${an}".`)}tn&&(bn=tn.encryptString(bn)),Xt.set("Length",bn.length),await qt(Xt,gn,tn),gn.push(` stream
`,bn,`
endstream`)}async function $t(en,gn,tn){gn.push("[");let bn=!0;for(const Xt of en)bn?bn=!1:gn.push(" "),await Mt(Xt,gn,tn);gn.push("]")}async function Mt(en,gn,tn){en instanceof kt.Name?gn.push(`/${(0,Rt.escapePDFName)(en.name)}`):en instanceof kt.Ref?gn.push(`${en.num} ${en.gen} R`):Array.isArray(en)?await $t(en,gn,tn):typeof en=="string"?(tn&&(en=tn.encryptString(en)),gn.push(`(${(0,Rt.escapeString)(en)})`)):typeof en=="number"?gn.push((0,Rt.numberToString)(en)):typeof en=="boolean"?gn.push(en.toString()):en instanceof kt.Dict?await qt(en,gn,tn):en instanceof vt.BaseStream?await Nt(en,gn,tn):en===null?gn.push("null"):(0,wt.warn)(`Unhandled value in writer: ${typeof en}, please file a bug.`)}function Bt(en,gn,tn,bn){for(let Xt=gn+tn-1;Xt>tn-1;Xt--)bn[Xt]=en&255,en>>=8;return tn+gn}function _t(en,gn,tn){for(let bn=0,Xt=en.length;bn<Xt;bn++)tn[gn+bn]=en.charCodeAt(bn)&255}function Kt(en,gn){const tn=Math.floor(Date.now()/1e3),bn=gn.filename||"",Xt=[tn.toString(),bn,en.toString()];let Yt=Xt.reduce((Lt,Vt)=>Lt+Vt.length,0);for(const Lt of Object.values(gn.info))Xt.push(Lt),Yt+=Lt.length;const un=new Uint8Array(Yt);let Ut=0;for(const Lt of Xt)_t(Lt,Ut,un),Ut+=Lt.length;return(0,wt.bytesToString)((0,Ft.calculateMD5)(un))}function jt(en,gn){const tn=new ht.SimpleXMLParser({hasAttributes:!0}).parseFromString(en);for(const{xfa:Xt}of gn){if(!Xt)continue;const{path:Yt,value:un}=Xt;if(!Yt)continue;const Ut=(0,Rt.parseXFAPath)(Yt);let Lt=tn.documentElement.searchNode(Ut,0);!Lt&&Ut.length>1&&(Lt=tn.documentElement.searchNode([Ut.at(-1)],0)),Lt?Lt.childNodes=Array.isArray(un)?un.map(Vt=>new ht.SimpleDOMNode("value",Vt)):[new ht.SimpleDOMNode("#text",un)]:(0,wt.warn)(`Node not found for path: ${Yt}`)}const bn=[];return tn.documentElement.dump(bn),bn.join("")}async function Gt({xref:en,acroForm:gn,acroFormRef:tn,hasXfa:bn,hasXfaDatasetsEntry:Xt,xfaDatasetsRef:Yt,needAppearances:un,newRefs:Ut}){if(bn&&!Xt&&!Yt&&(0,wt.warn)("XFA - Cannot save it"),!un&&(!bn||!Yt||Xt))return;const Lt=gn.clone();if(bn&&!Xt){const an=gn.get("XFA").slice();an.splice(2,0,"datasets"),an.splice(3,0,Yt),Lt.set("XFA",an)}un&&Lt.set("NeedAppearances",!0);const Vt=[];await Ht(tn,Lt,Vt,en),Ut.push({ref:tn,data:Vt.join("")})}function Qt({xfaData:en,xfaDatasetsRef:gn,newRefs:tn,xref:bn}){if(en===null){const un=bn.fetchIfRef(gn);en=jt(un.getString(),tn)}const Xt=bn.encrypt;Xt&&(en=Xt.createCipherTransform(gn.num,gn.gen).encryptString(en));const Yt=`${gn.num} ${gn.gen} obj
<< /Type /EmbeddedFile /Length ${en.length}>>
stream
`+en+`
endstream
endobj
`;tn.push({ref:gn,data:Yt})}async function ln({originalData:en,xrefInfo:gn,newRefs:tn,xref:bn=null,hasXfa:Xt=!1,xfaDatasetsRef:Yt=null,hasXfaDatasetsEntry:un=!1,needAppearances:Ut,acroFormRef:Lt=null,acroForm:Vt=null,xfaData:an=null}){await Gt({xref:bn,acroForm:Vt,acroFormRef:Lt,hasXfa:Xt,hasXfaDatasetsEntry:un,xfaDatasetsRef:Yt,needAppearances:Ut,newRefs:tn}),Xt&&Qt({xfaData:an,xfaDatasetsRef:Yt,newRefs:tn,xref:bn});const zt=new kt.Dict(null),Wt=gn.newRef;let nn,dn;const on=en.at(-1);on===10||on===13?(nn=[],dn=en.length):(nn=[`
`],dn=en.length+1),zt.set("Size",Wt.num+1),zt.set("Prev",gn.startXRef),zt.set("Type",kt.Name.get("XRef")),gn.rootRef!==null&&zt.set("Root",gn.rootRef),gn.infoRef!==null&&zt.set("Info",gn.infoRef),gn.encryptRef!==null&&zt.set("Encrypt",gn.encryptRef),tn.push({ref:Wt,data:""}),tn=tn.sort((fn,Jt)=>fn.ref.num-Jt.ref.num);const hn=[[0,1,65535]],sn=[0,1];let rn=0;for(const{ref:fn,data:Jt}of tn)rn=Math.max(rn,dn),hn.push([1,dn,Math.min(fn.gen,65535)]),dn+=Jt.length,sn.push(fn.num,1),nn.push(Jt);if(zt.set("Index",sn),Array.isArray(gn.fileIds)&&gn.fileIds.length>0){const fn=Kt(dn,gn);zt.set("ID",[gn.fileIds[0],fn])}const vn=[1,Math.ceil(Math.log2(rn)/8),2],Fn=(vn[0]+vn[1]+vn[2])*hn.length;zt.set("W",vn),zt.set("Length",Fn),nn.push(`${Wt.num} ${Wt.gen} obj
`),await qt(zt,nn,null),nn.push(` stream
`);const On=nn.reduce((fn,Jt)=>fn+Jt.length,0),Pn=`
endstream
endobj
startxref
${dn}
%%EOF
`,Sn=new Uint8Array(en.length+On+Fn+Pn.length);Sn.set(en);let mn=en.length;for(const fn of nn)_t(fn,mn,Sn),mn+=fn.length;for(const[fn,Jt,cn]of hn)mn=Bt(fn,vn[0],mn,Sn),mn=Bt(Jt,vn[1],mn,Sn),mn=Bt(cn,vn[2],mn,Sn);return _t(Pn,mn,Sn),Sn}},(Et,Ct,Pt)=>{var ln,en,A5,Q9,S5,j2,e3;Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.calculateSHA256=Ct.calculateMD5=Ct.PDF20=Ct.PDF17=Ct.CipherTransformFactory=Ct.ARCFourCipher=Ct.AES256Cipher=Ct.AES128Cipher=void 0,Ct.calculateSHA384=Nt,Ct.calculateSHA512=void 0;var wt=Pt(2),kt=Pt(4),Rt=Pt(75);class ht{constructor(Lt){this.a=0,this.b=0;const Vt=new Uint8Array(256),an=Lt.length;for(let zt=0;zt<256;++zt)Vt[zt]=zt;for(let zt=0,Wt=0;zt<256;++zt){const nn=Vt[zt];Wt=Wt+nn+Lt[zt%an]&255,Vt[zt]=Vt[Wt],Vt[Wt]=nn}this.s=Vt}encryptBlock(Lt){let Vt=this.a,an=this.b;const zt=this.s,Wt=Lt.length,nn=new Uint8Array(Wt);for(let dn=0;dn<Wt;++dn){Vt=Vt+1&255;const on=zt[Vt];an=an+on&255;const hn=zt[an];zt[Vt]=hn,zt[an]=on,nn[dn]=Lt[dn]^zt[on+hn&255]}return this.a=Vt,this.b=an,nn}decryptBlock(Lt){return this.encryptBlock(Lt)}encrypt(Lt){return this.encryptBlock(Lt)}}Ct.ARCFourCipher=ht;const vt=function(){const Lt=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),Vt=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function an(zt,Wt,nn){let dn=1732584193,on=-271733879,hn=-1732584194,sn=271733878;const rn=nn+72&-64,xn=new Uint8Array(rn);let vn,kn;for(vn=0;vn<nn;++vn)xn[vn]=zt[Wt++];xn[vn++]=128;const Fn=rn-8;for(;vn<Fn;)xn[vn++]=0;xn[vn++]=nn<<3&255,xn[vn++]=nn>>5&255,xn[vn++]=nn>>13&255,xn[vn++]=nn>>21&255,xn[vn++]=nn>>>29&255,xn[vn++]=0,xn[vn++]=0,xn[vn++]=0;const On=new Int32Array(16);for(vn=0;vn<rn;){for(kn=0;kn<16;++kn,vn+=4)On[kn]=xn[vn]|xn[vn+1]<<8|xn[vn+2]<<16|xn[vn+3]<<24;let Pn=dn,Sn=on,mn=hn,fn=sn,Jt,cn;for(kn=0;kn<64;++kn){kn<16?(Jt=Sn&mn|~Sn&fn,cn=kn):kn<32?(Jt=fn&Sn|~fn&mn,cn=5*kn+1&15):kn<48?(Jt=Sn^mn^fn,cn=3*kn+5&15):(Jt=mn^(Sn|~fn),cn=7*kn&15);const pn=fn,wn=Pn+Jt+Vt[kn]+On[cn]|0,En=Lt[kn];fn=mn,mn=Sn,Sn=Sn+(wn<<En|wn>>>32-En)|0,Pn=pn}dn=dn+Pn|0,on=on+Sn|0,hn=hn+mn|0,sn=sn+fn|0}return new Uint8Array([dn&255,dn>>8&255,dn>>16&255,dn>>>24&255,on&255,on>>8&255,on>>16&255,on>>>24&255,hn&255,hn>>8&255,hn>>16&255,hn>>>24&255,sn&255,sn>>8&255,sn>>16&255,sn>>>24&255])}return an}();Ct.calculateMD5=vt;class Ft{constructor(Lt,Vt){this.high=Lt|0,this.low=Vt|0}and(Lt){this.high&=Lt.high,this.low&=Lt.low}xor(Lt){this.high^=Lt.high,this.low^=Lt.low}or(Lt){this.high|=Lt.high,this.low|=Lt.low}shiftRight(Lt){Lt>=32?(this.low=this.high>>>Lt-32|0,this.high=0):(this.low=this.low>>>Lt|this.high<<32-Lt,this.high=this.high>>>Lt|0)}shiftLeft(Lt){Lt>=32?(this.high=this.low<<Lt-32,this.low=0):(this.high=this.high<<Lt|this.low>>>32-Lt,this.low<<=Lt)}rotateRight(Lt){let Vt,an;Lt&32?(an=this.low,Vt=this.high):(Vt=this.low,an=this.high),Lt&=31,this.low=Vt>>>Lt|an<<32-Lt,this.high=an>>>Lt|Vt<<32-Lt}not(){this.high=~this.high,this.low=~this.low}add(Lt){const Vt=(this.low>>>0)+(Lt.low>>>0);let an=(this.high>>>0)+(Lt.high>>>0);Vt>4294967295&&(an+=1),this.low=Vt|0,this.high=an|0}copyTo(Lt,Vt){Lt[Vt]=this.high>>>24&255,Lt[Vt+1]=this.high>>16&255,Lt[Vt+2]=this.high>>8&255,Lt[Vt+3]=this.high&255,Lt[Vt+4]=this.low>>>24&255,Lt[Vt+5]=this.low>>16&255,Lt[Vt+6]=this.low>>8&255,Lt[Vt+7]=this.low&255}assign(Lt){this.high=Lt.high,this.low=Lt.low}}const Ht=function(){function Lt(sn,rn){return sn>>>rn|sn<<32-rn}function Vt(sn,rn,xn){return sn&rn^~sn&xn}function an(sn,rn,xn){return sn&rn^sn&xn^rn&xn}function zt(sn){return Lt(sn,2)^Lt(sn,13)^Lt(sn,22)}function Wt(sn){return Lt(sn,6)^Lt(sn,11)^Lt(sn,25)}function nn(sn){return Lt(sn,7)^Lt(sn,18)^sn>>>3}function dn(sn){return Lt(sn,17)^Lt(sn,19)^sn>>>10}const on=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function hn(sn,rn,xn){let vn=1779033703,kn=3144134277,Fn=1013904242,On=2773480762,Pn=1359893119,Sn=2600822924,mn=528734635,fn=1541459225;const Jt=Math.ceil((xn+9)/64)*64,cn=new Uint8Array(Jt);let pn,wn;for(pn=0;pn<xn;++pn)cn[pn]=sn[rn++];cn[pn++]=128;const En=Jt-8;for(;pn<En;)cn[pn++]=0;cn[pn++]=0,cn[pn++]=0,cn[pn++]=0,cn[pn++]=xn>>>29&255,cn[pn++]=xn>>21&255,cn[pn++]=xn>>13&255,cn[pn++]=xn>>5&255,cn[pn++]=xn<<3&255;const _n=new Uint32Array(64);for(pn=0;pn<Jt;){for(wn=0;wn<16;++wn)_n[wn]=cn[pn]<<24|cn[pn+1]<<16|cn[pn+2]<<8|cn[pn+3],pn+=4;for(wn=16;wn<64;++wn)_n[wn]=dn(_n[wn-2])+_n[wn-7]+nn(_n[wn-15])+_n[wn-16]|0;let Cn=vn,An=kn,Tn=Fn,Mn=On,Rn=Pn,Ln=Sn,Dn=mn,Un=fn,tr,er;for(wn=0;wn<64;++wn)tr=Un+Wt(Rn)+Vt(Rn,Ln,Dn)+on[wn]+_n[wn],er=zt(Cn)+an(Cn,An,Tn),Un=Dn,Dn=Ln,Ln=Rn,Rn=Mn+tr|0,Mn=Tn,Tn=An,An=Cn,Cn=tr+er|0;vn=vn+Cn|0,kn=kn+An|0,Fn=Fn+Tn|0,On=On+Mn|0,Pn=Pn+Rn|0,Sn=Sn+Ln|0,mn=mn+Dn|0,fn=fn+Un|0}return new Uint8Array([vn>>24&255,vn>>16&255,vn>>8&255,vn&255,kn>>24&255,kn>>16&255,kn>>8&255,kn&255,Fn>>24&255,Fn>>16&255,Fn>>8&255,Fn&255,On>>24&255,On>>16&255,On>>8&255,On&255,Pn>>24&255,Pn>>16&255,Pn>>8&255,Pn&255,Sn>>24&255,Sn>>16&255,Sn>>8&255,Sn&255,mn>>24&255,mn>>16&255,mn>>8&255,mn&255,fn>>24&255,fn>>16&255,fn>>8&255,fn&255])}return hn}();Ct.calculateSHA256=Ht;const qt=function(){function Lt(hn,sn,rn,xn,vn){hn.assign(sn),hn.and(rn),vn.assign(sn),vn.not(),vn.and(xn),hn.xor(vn)}function Vt(hn,sn,rn,xn,vn){hn.assign(sn),hn.and(rn),vn.assign(sn),vn.and(xn),hn.xor(vn),vn.assign(rn),vn.and(xn),hn.xor(vn)}function an(hn,sn,rn){hn.assign(sn),hn.rotateRight(28),rn.assign(sn),rn.rotateRight(34),hn.xor(rn),rn.assign(sn),rn.rotateRight(39),hn.xor(rn)}function zt(hn,sn,rn){hn.assign(sn),hn.rotateRight(14),rn.assign(sn),rn.rotateRight(18),hn.xor(rn),rn.assign(sn),rn.rotateRight(41),hn.xor(rn)}function Wt(hn,sn,rn){hn.assign(sn),hn.rotateRight(1),rn.assign(sn),rn.rotateRight(8),hn.xor(rn),rn.assign(sn),rn.shiftRight(7),hn.xor(rn)}function nn(hn,sn,rn){hn.assign(sn),hn.rotateRight(19),rn.assign(sn),rn.rotateRight(61),hn.xor(rn),rn.assign(sn),rn.shiftRight(6),hn.xor(rn)}const dn=[new Ft(1116352408,3609767458),new Ft(1899447441,602891725),new Ft(3049323471,3964484399),new Ft(3921009573,2173295548),new Ft(961987163,4081628472),new Ft(1508970993,3053834265),new Ft(2453635748,2937671579),new Ft(2870763221,3664609560),new Ft(3624381080,2734883394),new Ft(310598401,1164996542),new Ft(607225278,1323610764),new Ft(1426881987,3590304994),new Ft(1925078388,4068182383),new Ft(2162078206,991336113),new Ft(2614888103,633803317),new Ft(3248222580,3479774868),new Ft(3835390401,2666613458),new Ft(4022224774,944711139),new Ft(264347078,2341262773),new Ft(604807628,2007800933),new Ft(770255983,1495990901),new Ft(1249150122,1856431235),new Ft(1555081692,3175218132),new Ft(1996064986,2198950837),new Ft(2554220882,3999719339),new Ft(2821834349,766784016),new Ft(2952996808,2566594879),new Ft(3210313671,3203337956),new Ft(3336571891,1034457026),new Ft(3584528711,2466948901),new Ft(113926993,3758326383),new Ft(338241895,168717936),new Ft(666307205,1188179964),new Ft(773529912,1546045734),new Ft(1294757372,1522805485),new Ft(1396182291,2643833823),new Ft(1695183700,2343527390),new Ft(1986661051,1014477480),new Ft(2177026350,1206759142),new Ft(2456956037,344077627),new Ft(2730485921,1290863460),new Ft(2820302411,3158454273),new Ft(3259730800,3505952657),new Ft(3345764771,106217008),new Ft(3516065817,3606008344),new Ft(3600352804,1432725776),new Ft(4094571909,1467031594),new Ft(275423344,851169720),new Ft(430227734,3100823752),new Ft(506948616,1363258195),new Ft(659060556,3750685593),new Ft(883997877,3785050280),new Ft(958139571,3318307427),new Ft(1322822218,3812723403),new Ft(1537002063,2003034995),new Ft(1747873779,3602036899),new Ft(1955562222,1575990012),new Ft(2024104815,1125592928),new Ft(2227730452,2716904306),new Ft(2361852424,442776044),new Ft(2428436474,593698344),new Ft(2756734187,3733110249),new Ft(3204031479,2999351573),new Ft(3329325298,3815920427),new Ft(3391569614,3928383900),new Ft(3515267271,566280711),new Ft(3940187606,3454069534),new Ft(4118630271,4000239992),new Ft(116418474,1914138554),new Ft(174292421,2731055270),new Ft(289380356,3203993006),new Ft(460393269,320620315),new Ft(685471733,587496836),new Ft(852142971,1086792851),new Ft(1017036298,365543100),new Ft(1126000580,2618297676),new Ft(1288033470,3409855158),new Ft(1501505948,4234509866),new Ft(1607167915,987167468),new Ft(1816402316,1246189591)];function on(hn,sn,rn,xn=!1){let vn,kn,Fn,On,Pn,Sn,mn,fn;xn?(vn=new Ft(3418070365,3238371032),kn=new Ft(1654270250,914150663),Fn=new Ft(2438529370,812702999),On=new Ft(355462360,4144912697),Pn=new Ft(1731405415,4290775857),Sn=new Ft(2394180231,1750603025),mn=new Ft(3675008525,1694076839),fn=new Ft(1203062813,3204075428)):(vn=new Ft(1779033703,4089235720),kn=new Ft(3144134277,2227873595),Fn=new Ft(1013904242,4271175723),On=new Ft(2773480762,1595750129),Pn=new Ft(1359893119,2917565137),Sn=new Ft(2600822924,725511199),mn=new Ft(528734635,4215389547),fn=new Ft(1541459225,327033209));const Jt=Math.ceil((rn+17)/128)*128,cn=new Uint8Array(Jt);let pn,wn;for(pn=0;pn<rn;++pn)cn[pn]=hn[sn++];cn[pn++]=128;const En=Jt-16;for(;pn<En;)cn[pn++]=0;cn[pn++]=0,cn[pn++]=0,cn[pn++]=0,cn[pn++]=0,cn[pn++]=0,cn[pn++]=0,cn[pn++]=0,cn[pn++]=0,cn[pn++]=0,cn[pn++]=0,cn[pn++]=0,cn[pn++]=rn>>>29&255,cn[pn++]=rn>>21&255,cn[pn++]=rn>>13&255,cn[pn++]=rn>>5&255,cn[pn++]=rn<<3&255;const _n=new Array(80);for(pn=0;pn<80;pn++)_n[pn]=new Ft(0,0);let Cn=new Ft(0,0),An=new Ft(0,0),Tn=new Ft(0,0),Mn=new Ft(0,0),Rn=new Ft(0,0),Ln=new Ft(0,0),Dn=new Ft(0,0),Un=new Ft(0,0);const tr=new Ft(0,0),er=new Ft(0,0),Qn=new Ft(0,0),Yn=new Ft(0,0);let zn;for(pn=0;pn<Jt;){for(wn=0;wn<16;++wn)_n[wn].high=cn[pn]<<24|cn[pn+1]<<16|cn[pn+2]<<8|cn[pn+3],_n[wn].low=cn[pn+4]<<24|cn[pn+5]<<16|cn[pn+6]<<8|cn[pn+7],pn+=8;for(wn=16;wn<80;++wn)zn=_n[wn],nn(zn,_n[wn-2],Yn),zn.add(_n[wn-7]),Wt(Qn,_n[wn-15],Yn),zn.add(Qn),zn.add(_n[wn-16]);for(Cn.assign(vn),An.assign(kn),Tn.assign(Fn),Mn.assign(On),Rn.assign(Pn),Ln.assign(Sn),Dn.assign(mn),Un.assign(fn),wn=0;wn<80;++wn)tr.assign(Un),zt(Qn,Rn,Yn),tr.add(Qn),Lt(Qn,Rn,Ln,Dn,Yn),tr.add(Qn),tr.add(dn[wn]),tr.add(_n[wn]),an(er,Cn,Yn),Vt(Qn,Cn,An,Tn,Yn),er.add(Qn),zn=Un,Un=Dn,Dn=Ln,Ln=Rn,Mn.add(tr),Rn=Mn,Mn=Tn,Tn=An,An=Cn,zn.assign(tr),zn.add(er),Cn=zn;vn.add(Cn),kn.add(An),Fn.add(Tn),On.add(Mn),Pn.add(Rn),Sn.add(Ln),mn.add(Dn),fn.add(Un)}let nr;return xn?(nr=new Uint8Array(48),vn.copyTo(nr,0),kn.copyTo(nr,8),Fn.copyTo(nr,16),On.copyTo(nr,24),Pn.copyTo(nr,32),Sn.copyTo(nr,40)):(nr=new Uint8Array(64),vn.copyTo(nr,0),kn.copyTo(nr,8),Fn.copyTo(nr,16),On.copyTo(nr,24),Pn.copyTo(nr,32),Sn.copyTo(nr,40),mn.copyTo(nr,48),fn.copyTo(nr,56)),nr}return on}();Ct.calculateSHA512=qt;function Nt(Ut,Lt,Vt){return qt(Ut,Lt,Vt,!0)}class $t{decryptBlock(Lt){return Lt}encrypt(Lt){return Lt}}class Mt{constructor(){this.constructor===Mt&&(0,wt.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let Lt=0;Lt<256;Lt++)this._mixCol[Lt]=Lt<128?Lt<<1:Lt<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(Lt){(0,wt.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(Lt,Vt){let an,zt,Wt;const nn=new Uint8Array(16);nn.set(Lt);for(let dn=0,on=this._keySize;dn<16;++dn,++on)nn[dn]^=Vt[on];for(let dn=this._cyclesOfRepetition-1;dn>=1;--dn){an=nn[13],nn[13]=nn[9],nn[9]=nn[5],nn[5]=nn[1],nn[1]=an,an=nn[14],zt=nn[10],nn[14]=nn[6],nn[10]=nn[2],nn[6]=an,nn[2]=zt,an=nn[15],zt=nn[11],Wt=nn[7],nn[15]=nn[3],nn[11]=an,nn[7]=zt,nn[3]=Wt;for(let on=0;on<16;++on)nn[on]=this._inv_s[nn[on]];for(let on=0,hn=dn*16;on<16;++on,++hn)nn[on]^=Vt[hn];for(let on=0;on<16;on+=4){const hn=this._mix[nn[on]],sn=this._mix[nn[on+1]],rn=this._mix[nn[on+2]],xn=this._mix[nn[on+3]];an=hn^sn>>>8^sn<<24^rn>>>16^rn<<16^xn>>>24^xn<<8,nn[on]=an>>>24&255,nn[on+1]=an>>16&255,nn[on+2]=an>>8&255,nn[on+3]=an&255}}an=nn[13],nn[13]=nn[9],nn[9]=nn[5],nn[5]=nn[1],nn[1]=an,an=nn[14],zt=nn[10],nn[14]=nn[6],nn[10]=nn[2],nn[6]=an,nn[2]=zt,an=nn[15],zt=nn[11],Wt=nn[7],nn[15]=nn[3],nn[11]=an,nn[7]=zt,nn[3]=Wt;for(let dn=0;dn<16;++dn)nn[dn]=this._inv_s[nn[dn]],nn[dn]^=Vt[dn];return nn}_encrypt(Lt,Vt){const an=this._s;let zt,Wt,nn;const dn=new Uint8Array(16);dn.set(Lt);for(let on=0;on<16;++on)dn[on]^=Vt[on];for(let on=1;on<this._cyclesOfRepetition;on++){for(let hn=0;hn<16;++hn)dn[hn]=an[dn[hn]];nn=dn[1],dn[1]=dn[5],dn[5]=dn[9],dn[9]=dn[13],dn[13]=nn,nn=dn[2],Wt=dn[6],dn[2]=dn[10],dn[6]=dn[14],dn[10]=nn,dn[14]=Wt,nn=dn[3],Wt=dn[7],zt=dn[11],dn[3]=dn[15],dn[7]=nn,dn[11]=Wt,dn[15]=zt;for(let hn=0;hn<16;hn+=4){const sn=dn[hn+0],rn=dn[hn+1],xn=dn[hn+2],vn=dn[hn+3];zt=sn^rn^xn^vn,dn[hn+0]^=zt^this._mixCol[sn^rn],dn[hn+1]^=zt^this._mixCol[rn^xn],dn[hn+2]^=zt^this._mixCol[xn^vn],dn[hn+3]^=zt^this._mixCol[vn^sn]}for(let hn=0,sn=on*16;hn<16;++hn,++sn)dn[hn]^=Vt[sn]}for(let on=0;on<16;++on)dn[on]=an[dn[on]];nn=dn[1],dn[1]=dn[5],dn[5]=dn[9],dn[9]=dn[13],dn[13]=nn,nn=dn[2],Wt=dn[6],dn[2]=dn[10],dn[6]=dn[14],dn[10]=nn,dn[14]=Wt,nn=dn[3],Wt=dn[7],zt=dn[11],dn[3]=dn[15],dn[7]=nn,dn[11]=Wt,dn[15]=zt;for(let on=0,hn=this._keySize;on<16;++on,++hn)dn[on]^=Vt[hn];return dn}_decryptBlock2(Lt,Vt){const an=Lt.length;let zt=this.buffer,Wt=this.bufferPosition;const nn=[];let dn=this.iv;for(let sn=0;sn<an;++sn){if(zt[Wt]=Lt[sn],++Wt,Wt<16)continue;const rn=this._decrypt(zt,this._key);for(let xn=0;xn<16;++xn)rn[xn]^=dn[xn];dn=zt,nn.push(rn),zt=new Uint8Array(16),Wt=0}if(this.buffer=zt,this.bufferLength=Wt,this.iv=dn,nn.length===0)return new Uint8Array(0);let on=16*nn.length;if(Vt){const sn=nn.at(-1);let rn=sn[15];if(rn<=16){for(let xn=15,vn=16-rn;xn>=vn;--xn)if(sn[xn]!==rn){rn=0;break}on-=rn,nn[nn.length-1]=sn.subarray(0,16-rn)}}const hn=new Uint8Array(on);for(let sn=0,rn=0,xn=nn.length;sn<xn;++sn,rn+=16)hn.set(nn[sn],rn);return hn}decryptBlock(Lt,Vt,an=null){const zt=Lt.length,Wt=this.buffer;let nn=this.bufferPosition;if(an)this.iv=an;else{for(let dn=0;nn<16&&dn<zt;++dn,++nn)Wt[nn]=Lt[dn];if(nn<16)return this.bufferLength=nn,new Uint8Array(0);this.iv=Wt,Lt=Lt.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(Lt,Vt)}encrypt(Lt,Vt){const an=Lt.length;let zt=this.buffer,Wt=this.bufferPosition;const nn=[];Vt||(Vt=new Uint8Array(16));for(let hn=0;hn<an;++hn){if(zt[Wt]=Lt[hn],++Wt,Wt<16)continue;for(let rn=0;rn<16;++rn)zt[rn]^=Vt[rn];const sn=this._encrypt(zt,this._key);Vt=sn,nn.push(sn),zt=new Uint8Array(16),Wt=0}if(this.buffer=zt,this.bufferLength=Wt,this.iv=Vt,nn.length===0)return new Uint8Array(0);const dn=16*nn.length,on=new Uint8Array(dn);for(let hn=0,sn=0,rn=nn.length;hn<rn;++hn,sn+=16)on.set(nn[hn],sn);return on}}class Bt extends Mt{constructor(Lt){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(Lt)}_expandKey(Lt){const an=this._s,zt=this._rcon,Wt=new Uint8Array(176);Wt.set(Lt);for(let nn=16,dn=1;nn<176;++dn){let on=Wt[nn-3],hn=Wt[nn-2],sn=Wt[nn-1],rn=Wt[nn-4];on=an[on],hn=an[hn],sn=an[sn],rn=an[rn],on^=zt[dn];for(let xn=0;xn<4;++xn)Wt[nn]=on^=Wt[nn-16],nn++,Wt[nn]=hn^=Wt[nn-16],nn++,Wt[nn]=sn^=Wt[nn-16],nn++,Wt[nn]=rn^=Wt[nn-16],nn++}return Wt}}Ct.AES128Cipher=Bt;class _t extends Mt{constructor(Lt){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(Lt)}_expandKey(Lt){const an=this._s,zt=new Uint8Array(240);zt.set(Lt);let Wt=1,nn,dn,on,hn;for(let sn=32,rn=1;sn<240;++rn){sn%32===16?(nn=an[nn],dn=an[dn],on=an[on],hn=an[hn]):sn%32===0&&(nn=zt[sn-3],dn=zt[sn-2],on=zt[sn-1],hn=zt[sn-4],nn=an[nn],dn=an[dn],on=an[on],hn=an[hn],nn^=Wt,(Wt<<=1)>=256&&(Wt=(Wt^27)&255));for(let xn=0;xn<4;++xn)zt[sn]=nn^=zt[sn-32],sn++,zt[sn]=dn^=zt[sn-32],sn++,zt[sn]=on^=zt[sn-32],sn++,zt[sn]=hn^=zt[sn-32],sn++}return zt}}Ct.AES256Cipher=_t;class Kt{checkOwnerPassword(Lt,Vt,an,zt){const Wt=new Uint8Array(Lt.length+56);Wt.set(Lt,0),Wt.set(Vt,Lt.length),Wt.set(an,Lt.length+Vt.length);const nn=Ht(Wt,0,Wt.length);return(0,wt.isArrayEqual)(nn,zt)}checkUserPassword(Lt,Vt,an){const zt=new Uint8Array(Lt.length+8);zt.set(Lt,0),zt.set(Vt,Lt.length);const Wt=Ht(zt,0,zt.length);return(0,wt.isArrayEqual)(Wt,an)}getOwnerKey(Lt,Vt,an,zt){const Wt=new Uint8Array(Lt.length+56);Wt.set(Lt,0),Wt.set(Vt,Lt.length),Wt.set(an,Lt.length+Vt.length);const nn=Ht(Wt,0,Wt.length);return new _t(nn).decryptBlock(zt,!1,new Uint8Array(16))}getUserKey(Lt,Vt,an){const zt=new Uint8Array(Lt.length+8);zt.set(Lt,0),zt.set(Vt,Lt.length);const Wt=Ht(zt,0,zt.length);return new _t(Wt).decryptBlock(an,!1,new Uint8Array(16))}}Ct.PDF17=Kt;class jt{_hash(Lt,Vt,an){let zt=Ht(Vt,0,Vt.length).subarray(0,32),Wt=[0],nn=0;for(;nn<64||Wt.at(-1)>nn-32;){const dn=Lt.length+zt.length+an.length,on=new Uint8Array(dn);let hn=0;on.set(Lt,hn),hn+=Lt.length,on.set(zt,hn),hn+=zt.length,on.set(an,hn);const sn=new Uint8Array(dn*64);for(let vn=0,kn=0;vn<64;vn++,kn+=dn)sn.set(on,kn);Wt=new Bt(zt.subarray(0,16)).encrypt(sn,zt.subarray(16,32));const xn=Wt.slice(0,16).reduce((vn,kn)=>vn+kn,0)%3;xn===0?zt=Ht(Wt,0,Wt.length):xn===1?zt=Nt(Wt,0,Wt.length):xn===2&&(zt=qt(Wt,0,Wt.length)),nn++}return zt.subarray(0,32)}checkOwnerPassword(Lt,Vt,an,zt){const Wt=new Uint8Array(Lt.length+56);Wt.set(Lt,0),Wt.set(Vt,Lt.length),Wt.set(an,Lt.length+Vt.length);const nn=this._hash(Lt,Wt,an);return(0,wt.isArrayEqual)(nn,zt)}checkUserPassword(Lt,Vt,an){const zt=new Uint8Array(Lt.length+8);zt.set(Lt,0),zt.set(Vt,Lt.length);const Wt=this._hash(Lt,zt,[]);return(0,wt.isArrayEqual)(Wt,an)}getOwnerKey(Lt,Vt,an,zt){const Wt=new Uint8Array(Lt.length+56);Wt.set(Lt,0),Wt.set(Vt,Lt.length),Wt.set(an,Lt.length+Vt.length);const nn=this._hash(Lt,Wt,an);return new _t(nn).decryptBlock(zt,!1,new Uint8Array(16))}getUserKey(Lt,Vt,an){const zt=new Uint8Array(Lt.length+8);zt.set(Lt,0),zt.set(Vt,Lt.length);const Wt=this._hash(Lt,zt,[]);return new _t(Wt).decryptBlock(an,!1,new Uint8Array(16))}}Ct.PDF20=jt;class Gt{constructor(Lt,Vt){this.StringCipherConstructor=Lt,this.StreamCipherConstructor=Vt}createStream(Lt,Vt){const an=new this.StreamCipherConstructor;return new Rt.DecryptStream(Lt,Vt,function(Wt,nn){return an.decryptBlock(Wt,nn)})}decryptString(Lt){const Vt=new this.StringCipherConstructor;let an=(0,wt.stringToBytes)(Lt);return an=Vt.decryptBlock(an,!0),(0,wt.bytesToString)(an)}encryptString(Lt){const Vt=new this.StringCipherConstructor;if(Vt instanceof Mt){const Wt=16-Lt.length%16;Lt+=String.fromCharCode(Wt).repeat(Wt);const nn=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(nn);else for(let hn=0;hn<16;hn++)nn[hn]=Math.floor(256*Math.random());let dn=(0,wt.stringToBytes)(Lt);dn=Vt.encrypt(dn,nn);const on=new Uint8Array(16+dn.length);return on.set(nn),on.set(dn,16),(0,wt.bytesToString)(on)}let an=(0,wt.stringToBytes)(Lt);return an=Vt.encrypt(an),(0,wt.bytesToString)(an)}}const un=class un{constructor(Lt,Vt,an){Nn(this,en);const zt=Lt.get("Filter");if(!(0,kt.isName)(zt,"Standard"))throw new wt.FormatError("unknown encryption method");this.filterName=zt.name,this.dict=Lt;const Wt=Lt.get("V");if(!Number.isInteger(Wt)||Wt!==1&&Wt!==2&&Wt!==4&&Wt!==5)throw new wt.FormatError("unsupported encryption algorithm");this.algorithm=Wt;let nn=Lt.get("Length");if(!nn)if(Wt<=3)nn=40;else{const Pn=Lt.get("CF"),Sn=Lt.get("StmF");if(Pn instanceof kt.Dict&&Sn instanceof kt.Name){Pn.suppressEncryption=!0;const mn=Pn.get(Sn.name);nn=(mn==null?void 0:mn.get("Length"))||128,nn<40&&(nn<<=3)}}if(!Number.isInteger(nn)||nn<40||nn%8!==0)throw new wt.FormatError("invalid key length");const dn=(0,wt.stringToBytes)(Lt.get("O")),on=(0,wt.stringToBytes)(Lt.get("U")),hn=dn.subarray(0,32),sn=on.subarray(0,32),rn=Lt.get("P"),xn=Lt.get("R"),vn=(Wt===4||Wt===5)&&Lt.get("EncryptMetadata")!==!1;this.encryptMetadata=vn;const kn=(0,wt.stringToBytes)(Vt);let Fn;if(an){if(xn===6)try{an=(0,wt.utf8StringToString)(an)}catch{(0,wt.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}Fn=(0,wt.stringToBytes)(an)}let On;if(Wt!==5)On=In(this,en,Q9).call(this,kn,Fn,hn,sn,rn,xn,nn,vn);else{const Pn=dn.subarray(32,40),Sn=dn.subarray(40,48),mn=on.subarray(0,48),fn=on.subarray(32,40),Jt=on.subarray(40,48),cn=(0,wt.stringToBytes)(Lt.get("OE")),pn=(0,wt.stringToBytes)(Lt.get("UE")),wn=(0,wt.stringToBytes)(Lt.get("Perms"));On=In(this,en,A5).call(this,xn,Fn,hn,Pn,Sn,mn,sn,fn,Jt,cn,pn,wn)}if(!On&&!an)throw new wt.PasswordException("No password given",wt.PasswordResponses.NEED_PASSWORD);if(!On&&an){const Pn=In(this,en,S5).call(this,Fn,hn,xn,nn);On=In(this,en,Q9).call(this,kn,Pn,hn,sn,rn,xn,nn,vn)}if(!On)throw new wt.PasswordException("Incorrect Password",wt.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=On,Wt>=4){const Pn=Lt.get("CF");Pn instanceof kt.Dict&&(Pn.suppressEncryption=!0),this.cf=Pn,this.stmf=Lt.get("StmF")||kt.Name.get("Identity"),this.strf=Lt.get("StrF")||kt.Name.get("Identity"),this.eff=Lt.get("EFF")||this.stmf}}createCipherTransform(Lt,Vt){if(this.algorithm===4||this.algorithm===5)return new Gt(In(this,en,e3).call(this,this.cf,this.strf,Lt,Vt,this.encryptionKey),In(this,en,e3).call(this,this.cf,this.stmf,Lt,Vt,this.encryptionKey));const an=In(this,en,j2).call(this,Lt,Vt,this.encryptionKey,!1),zt=function(){return new ht(an)};return new Gt(zt,zt)}};ln=new WeakMap,en=new WeakSet,A5=function(Lt,Vt,an,zt,Wt,nn,dn,on,hn,sn,rn,xn){if(Vt){const kn=Math.min(127,Vt.length);Vt=Vt.subarray(0,kn)}else Vt=[];const vn=Lt===6?new jt:new Kt;return vn.checkUserPassword(Vt,on,dn)?vn.getUserKey(Vt,hn,rn):Vt.length&&vn.checkOwnerPassword(Vt,zt,nn,an)?vn.getOwnerKey(Vt,Wt,nn,sn):null},Q9=function(Lt,Vt,an,zt,Wt,nn,dn,on){const hn=40+an.length+Lt.length,sn=new Uint8Array(hn);let rn=0,xn,vn;if(Vt)for(vn=Math.min(32,Vt.length);rn<vn;++rn)sn[rn]=Vt[rn];for(xn=0;rn<32;)sn[rn++]=Ot(un,ln)[xn++];for(xn=0,vn=an.length;xn<vn;++xn)sn[rn++]=an[xn];for(sn[rn++]=Wt&255,sn[rn++]=Wt>>8&255,sn[rn++]=Wt>>16&255,sn[rn++]=Wt>>>24&255,xn=0,vn=Lt.length;xn<vn;++xn)sn[rn++]=Lt[xn];nn>=4&&!on&&(sn[rn++]=255,sn[rn++]=255,sn[rn++]=255,sn[rn++]=255);let kn=vt(sn,0,rn);const Fn=dn>>3;if(nn>=3)for(xn=0;xn<50;++xn)kn=vt(kn,0,Fn);const On=kn.subarray(0,Fn);let Pn,Sn;if(nn>=3){for(rn=0;rn<32;++rn)sn[rn]=Ot(un,ln)[rn];for(xn=0,vn=Lt.length;xn<vn;++xn)sn[rn++]=Lt[xn];Pn=new ht(On),Sn=Pn.encryptBlock(vt(sn,0,rn)),vn=On.length;const mn=new Uint8Array(vn);for(xn=1;xn<=19;++xn){for(let fn=0;fn<vn;++fn)mn[fn]=On[fn]^xn;Pn=new ht(mn),Sn=Pn.encryptBlock(Sn)}for(xn=0,vn=Sn.length;xn<vn;++xn)if(zt[xn]!==Sn[xn])return null}else for(Pn=new ht(On),Sn=Pn.encryptBlock(Ot(un,ln)),xn=0,vn=Sn.length;xn<vn;++xn)if(zt[xn]!==Sn[xn])return null;return On},S5=function(Lt,Vt,an,zt){const Wt=new Uint8Array(32);let nn=0;const dn=Math.min(32,Lt.length);for(;nn<dn;++nn)Wt[nn]=Lt[nn];let on=0;for(;nn<32;)Wt[nn++]=Ot(un,ln)[on++];let hn=vt(Wt,0,nn);const sn=zt>>3;if(an>=3)for(on=0;on<50;++on)hn=vt(hn,0,hn.length);let rn,xn;if(an>=3){xn=Vt;const vn=new Uint8Array(sn);for(on=19;on>=0;on--){for(let kn=0;kn<sn;++kn)vn[kn]=hn[kn]^on;rn=new ht(vn),xn=rn.encryptBlock(xn)}}else rn=new ht(hn.subarray(0,sn)),xn=rn.encryptBlock(Vt);return xn},j2=function(Lt,Vt,an,zt=!1){const Wt=new Uint8Array(an.length+9),nn=an.length;let dn;for(dn=0;dn<nn;++dn)Wt[dn]=an[dn];return Wt[dn++]=Lt&255,Wt[dn++]=Lt>>8&255,Wt[dn++]=Lt>>16&255,Wt[dn++]=Vt&255,Wt[dn++]=Vt>>8&255,zt&&(Wt[dn++]=115,Wt[dn++]=65,Wt[dn++]=108,Wt[dn++]=84),vt(Wt,0,dn).subarray(0,Math.min(an.length+5,16))},e3=function(Lt,Vt,an,zt,Wt){if(!(Vt instanceof kt.Name))throw new wt.FormatError("Invalid crypt filter name.");const nn=this,dn=Lt.get(Vt.name),on=dn==null?void 0:dn.get("CFM");if(!on||on.name==="None")return function(){return new $t};if(on.name==="V2")return function(){var hn;return new ht(In(hn=nn,en,j2).call(hn,an,zt,Wt,!1))};if(on.name==="AESV2")return function(){var hn;return new Bt(In(hn=nn,en,j2).call(hn,an,zt,Wt,!0))};if(on.name==="AESV3")return function(){return new _t(Wt)};throw new wt.FormatError("Unknown crypto method")},Nn(un,ln,new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]));let Qt=un;Ct.CipherTransformFactory=Qt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.DecryptStream=void 0;var wt=Pt(18);const kt=512;class Rt extends wt.DecodeStream{constructor(vt,Ft,Ht){super(Ft),this.str=vt,this.dict=vt.dict,this.decrypt=Ht,this.nextChunk=null,this.initialized=!1}readBlock(){var Mt;let vt;if(this.initialized?vt=this.nextChunk:(vt=this.str.getBytes(kt),this.initialized=!0),!vt||vt.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(kt);const Ft=((Mt=this.nextChunk)==null?void 0:Mt.length)>0,Ht=this.decrypt;vt=Ht(vt,!Ft);const qt=this.bufferLength,Nt=qt+vt.length;this.ensureBuffer(Nt).set(vt,qt),this.bufferLength=Nt}}Ct.DecryptStream=Rt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.ObjectLoader=void 0;var wt=Pt(4),kt=Pt(5),Rt=Pt(3),ht=Pt(2);function vt(qt){return qt instanceof wt.Ref||qt instanceof wt.Dict||qt instanceof kt.BaseStream||Array.isArray(qt)}function Ft(qt,Nt){if(qt instanceof wt.Dict)qt=qt.getRawValues();else if(qt instanceof kt.BaseStream)qt=qt.dict.getRawValues();else if(!Array.isArray(qt))return;for(const $t of qt)vt($t)&&Nt.push($t)}class Ht{constructor(Nt,$t,Mt){this.dict=Nt,this.keys=$t,this.xref=Mt,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:Nt,dict:$t}=this;this.refSet=new wt.RefSet;const Mt=[];for(const Bt of Nt){const _t=$t.getRaw(Bt);_t!==void 0&&Mt.push(_t)}return this._walk(Mt)}async _walk(Nt){const $t=[],Mt=[];for(;Nt.length;){let Bt=Nt.pop();if(Bt instanceof wt.Ref){if(this.refSet.has(Bt))continue;try{this.refSet.put(Bt),Bt=this.xref.fetch(Bt)}catch(_t){if(!(_t instanceof Rt.MissingDataException)){(0,ht.warn)(`ObjectLoader._walk - requesting all data: "${_t}".`),this.refSet=null;const{manager:Kt}=this.xref.stream;return Kt.requestAllChunks()}$t.push(Bt),Mt.push({begin:_t.begin,end:_t.end})}}if(Bt instanceof kt.BaseStream){const _t=Bt.getBaseStreams();if(_t){let Kt=!1;for(const jt of _t)jt.isDataLoaded||(Kt=!0,Mt.push({begin:jt.start,end:jt.end}));Kt&&$t.push(Bt)}}Ft(Bt,Nt)}if(Mt.length){await this.xref.stream.manager.requestRanges(Mt);for(const Bt of $t)Bt instanceof wt.Ref&&this.refSet.remove(Bt);return this._walk($t)}this.refSet=null}}Ct.ObjectLoader=Ht},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.XFAFactory=void 0;var wt=Pt(78),kt=Pt(79),Rt=Pt(89),ht=Pt(85),vt=Pt(84),Ft=Pt(2),Ht=Pt(90),qt=Pt(100);class Nt{constructor(Mt){try{this.root=new Ht.XFAParser().parse(Nt._createDocument(Mt));const Bt=new kt.Binder(this.root);this.form=Bt.bind(),this.dataHandler=new Rt.DataHandler(this.root,Bt.getData()),this.form[wt.$globalData].template=this.form}catch(Bt){(0,Ft.warn)(`XFA - an error occurred during parsing and binding: ${Bt}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const Mt=this.form[wt.$toPages]();return new Promise((Bt,_t)=>{const Kt=()=>{try{const jt=Mt.next();jt.done?Bt(jt.value):setTimeout(Kt,0)}catch(jt){_t(jt)}};setTimeout(Kt,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(Mt=>{const{width:Bt,height:_t}=Mt.attributes.style;return[0,0,parseInt(Bt),parseInt(_t)]})}catch(Mt){(0,Ft.warn)(`XFA - an error occurred during layout: ${Mt}`)}}getBoundingBox(Mt){return this.dims[Mt]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(Mt){this.form[wt.$globalData].images=Mt}setFonts(Mt){this.form[wt.$globalData].fontFinder=new ht.FontFinder(Mt);const Bt=[];for(let _t of this.form[wt.$globalData].usedTypefaces)_t=(0,vt.stripQuotes)(_t),this.form[wt.$globalData].fontFinder.find(_t)||Bt.push(_t);return Bt.length>0?Bt:null}appendFonts(Mt,Bt){this.form[wt.$globalData].fontFinder.add(Mt,Bt)}async getPages(){this.pages||await this._createPages();const Mt=this.pages;return this.pages=null,Mt}serializeData(Mt){return this.dataHandler.serialize(Mt)}static _createDocument(Mt){return Mt["/xdp:xdp"]?Object.values(Mt).join(""):Mt["xdp:xdp"]}static getRichTextAsHtml(Mt){if(!Mt||typeof Mt!="string")return null;try{let Bt=new Ht.XFAParser(qt.XhtmlNamespace,!0).parse(Mt);if(!["body","xhtml"].includes(Bt[wt.$nodeName])){const Gt=qt.XhtmlNamespace.body({});Gt[wt.$appendChild](Bt),Bt=Gt}const _t=Bt[wt.$toHTML]();if(!_t.success)return null;const{html:Kt}=_t,{attributes:jt}=Kt;return jt&&(jt.class&&(jt.class=jt.class.filter(Gt=>!Gt.startsWith("xfa"))),jt.dir="auto"),{html:Kt,str:Bt[wt.$text]()}}catch(Bt){(0,Ft.warn)(`XFA - an error occurred during parsing of rich text: ${Bt}`)}return null}}Ct.XFAFactory=Nt},(Et,Ct)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.$uid=Ct.$toStyle=Ct.$toString=Ct.$toPages=Ct.$toHTML=Ct.$text=Ct.$tabIndex=Ct.$setValue=Ct.$setSetAttributes=Ct.$setId=Ct.$searchNode=Ct.$root=Ct.$resolvePrototypes=Ct.$removeChild=Ct.$pushPara=Ct.$pushGlyphs=Ct.$popPara=Ct.$onText=Ct.$onChildCheck=Ct.$onChild=Ct.$nsAttributes=Ct.$nodeName=Ct.$namespaceId=Ct.$lastAttribute=Ct.$isUsable=Ct.$isTransparent=Ct.$isThereMoreWidth=Ct.$isSplittable=Ct.$isNsAgnostic=Ct.$isDescendent=Ct.$isDataValue=Ct.$isCDATAXml=Ct.$isBindable=Ct.$insertAt=Ct.$indexOf=Ct.$ids=Ct.$hasSettableValue=Ct.$globalData=Ct.$getTemplateRoot=Ct.$getSubformParent=Ct.$getRealChildrenByNameIt=Ct.$getParent=Ct.$getNextPage=Ct.$getExtra=Ct.$getDataValue=Ct.$getContainedChildren=Ct.$getChildrenByNameIt=Ct.$getChildrenByName=Ct.$getChildrenByClass=Ct.$getChildren=Ct.$getAvailableSpace=Ct.$getAttributes=Ct.$getAttributeIt=Ct.$flushHTML=Ct.$finalize=Ct.$extra=Ct.$dump=Ct.$data=Ct.$content=Ct.$consumed=Ct.$clone=Ct.$cleanup=Ct.$cleanPage=Ct.$clean=Ct.$childrenToHTML=Ct.$appendChild=Ct.$addHTML=Ct.$acceptWhitespace=void 0;const Pt=Symbol();Ct.$acceptWhitespace=Pt;const wt=Symbol();Ct.$addHTML=wt;const kt=Symbol();Ct.$appendChild=kt;const Rt=Symbol();Ct.$childrenToHTML=Rt;const ht=Symbol();Ct.$clean=ht;const vt=Symbol();Ct.$cleanPage=vt;const Ft=Symbol();Ct.$cleanup=Ft;const Ht=Symbol();Ct.$clone=Ht;const qt=Symbol();Ct.$consumed=qt;const Nt=Symbol("content");Ct.$content=Nt;const $t=Symbol("data");Ct.$data=$t;const Mt=Symbol();Ct.$dump=Mt;const Bt=Symbol("extra");Ct.$extra=Bt;const _t=Symbol();Ct.$finalize=_t;const Kt=Symbol();Ct.$flushHTML=Kt;const jt=Symbol();Ct.$getAttributeIt=jt;const Gt=Symbol();Ct.$getAttributes=Gt;const Qt=Symbol();Ct.$getAvailableSpace=Qt;const ln=Symbol();Ct.$getChildrenByClass=ln;const en=Symbol();Ct.$getChildrenByName=en;const gn=Symbol();Ct.$getChildrenByNameIt=gn;const tn=Symbol();Ct.$getDataValue=tn;const bn=Symbol();Ct.$getExtra=bn;const Xt=Symbol();Ct.$getRealChildrenByNameIt=Xt;const Yt=Symbol();Ct.$getChildren=Yt;const un=Symbol();Ct.$getContainedChildren=un;const Ut=Symbol();Ct.$getNextPage=Ut;const Lt=Symbol();Ct.$getSubformParent=Lt;const Vt=Symbol();Ct.$getParent=Vt;const an=Symbol();Ct.$getTemplateRoot=an;const zt=Symbol();Ct.$globalData=zt;const Wt=Symbol();Ct.$hasSettableValue=Wt;const nn=Symbol();Ct.$ids=nn;const dn=Symbol();Ct.$indexOf=dn;const on=Symbol();Ct.$insertAt=on;const hn=Symbol();Ct.$isCDATAXml=hn;const sn=Symbol();Ct.$isBindable=sn;const rn=Symbol();Ct.$isDataValue=rn;const xn=Symbol();Ct.$isDescendent=xn;const vn=Symbol();Ct.$isNsAgnostic=vn;const kn=Symbol();Ct.$isSplittable=kn;const Fn=Symbol();Ct.$isThereMoreWidth=Fn;const On=Symbol();Ct.$isTransparent=On;const Pn=Symbol();Ct.$isUsable=Pn;const Sn=Symbol();Ct.$lastAttribute=Sn;const mn=Symbol("namespaceId");Ct.$namespaceId=mn;const fn=Symbol("nodeName");Ct.$nodeName=fn;const Jt=Symbol();Ct.$nsAttributes=Jt;const cn=Symbol();Ct.$onChild=cn;const pn=Symbol();Ct.$onChildCheck=pn;const wn=Symbol();Ct.$onText=wn;const En=Symbol();Ct.$pushGlyphs=En;const _n=Symbol();Ct.$popPara=_n;const Cn=Symbol();Ct.$pushPara=Cn;const An=Symbol();Ct.$removeChild=An;const Tn=Symbol("root");Ct.$root=Tn;const Mn=Symbol();Ct.$resolvePrototypes=Mn;const Rn=Symbol();Ct.$searchNode=Rn;const Ln=Symbol();Ct.$setId=Ln;const Dn=Symbol();Ct.$setSetAttributes=Dn;const Un=Symbol();Ct.$setValue=Un;const tr=Symbol();Ct.$tabIndex=tr;const er=Symbol();Ct.$text=er;const Qn=Symbol();Ct.$toPages=Qn;const Yn=Symbol();Ct.$toHTML=Yn;const zn=Symbol();Ct.$toString=zn;const nr=Symbol();Ct.$toStyle=nr;const lr=Symbol("uid");Ct.$uid=lr},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Binder=void 0;var wt=Pt(78),kt=Pt(80),Rt=Pt(88),ht=Pt(87),vt=Pt(81),Ft=Pt(2);const Ht=vt.NamespaceIds.datasets.id;function qt($t){const Mt=new kt.Text({});return Mt[wt.$content]=$t,Mt}class Nt{constructor(Mt){var Bt;this.root=Mt,this.datasets=Mt.datasets,this.data=((Bt=Mt.datasets)==null?void 0:Bt.data)||new ht.XmlObject(vt.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[wt.$getChildren]().length===0,this.root.form=this.form=Mt.template[wt.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(Mt,Bt,_t){var Kt,jt;if(Mt[wt.$data]=Bt,Mt[wt.$hasSettableValue]())if(Bt[wt.$isDataValue]()){const Gt=Bt[wt.$getDataValue]();Mt[wt.$setValue](qt(Gt))}else if(Mt instanceof kt.Field&&((jt=(Kt=Mt.ui)==null?void 0:Kt.choiceList)==null?void 0:jt.open)==="multiSelect"){const Gt=Bt[wt.$getChildren]().map(Qt=>Qt[wt.$content].trim()).join(`
`);Mt[wt.$setValue](qt(Gt))}else this._isConsumeData()&&(0,Ft.warn)("XFA - Nodes haven't the same type.");else!Bt[wt.$isDataValue]()||this._isMatchTemplate()?this._bindElement(Mt,Bt):(0,Ft.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(Mt,Bt,_t,Kt){if(!Mt)return null;let jt,Gt;for(let Qt=0;Qt<3;Qt++){for(jt=_t[wt.$getRealChildrenByNameIt](Mt,!1,!0);Gt=jt.next().value,!!Gt;)if(Bt===Gt[wt.$isDataValue]())return Gt;if(_t[wt.$namespaceId]===vt.NamespaceIds.datasets.id&&_t[wt.$nodeName]==="data")break;_t=_t[wt.$getParent]()}return Kt?(jt=this.data[wt.$getRealChildrenByNameIt](Mt,!0,!1),Gt=jt.next().value,Gt||(jt=this.data[wt.$getAttributeIt](Mt,!0),Gt=jt.next().value,Gt!=null&&Gt[wt.$isDataValue]())?Gt:null):null}_setProperties(Mt,Bt){if(Mt.hasOwnProperty("setProperty"))for(const{ref:_t,target:Kt,connection:jt}of Mt.setProperty.children){if(jt||!_t)continue;const Gt=(0,Rt.searchNode)(this.root,Bt,_t,!1,!1);if(!Gt){(0,Ft.warn)(`XFA - Invalid reference: ${_t}.`);continue}const[Qt]=Gt;if(!Qt[wt.$isDescendent](this.data)){(0,Ft.warn)("XFA - Invalid node: must be a data node.");continue}const ln=(0,Rt.searchNode)(this.root,Mt,Kt,!1,!1);if(!ln){(0,Ft.warn)(`XFA - Invalid target: ${Kt}.`);continue}const[en]=ln;if(!en[wt.$isDescendent](Mt)){(0,Ft.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const gn=en[wt.$getParent]();if(en instanceof kt.SetProperty||gn instanceof kt.SetProperty){(0,Ft.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(en instanceof kt.BindItems||gn instanceof kt.BindItems){(0,Ft.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const tn=Qt[wt.$text](),bn=en[wt.$nodeName];if(en instanceof ht.XFAAttribute){const Xt=Object.create(null);Xt[bn]=tn;const Yt=Reflect.construct(Object.getPrototypeOf(gn).constructor,[Xt]);gn[bn]=Yt[bn];continue}if(!en.hasOwnProperty(wt.$content)){(0,Ft.warn)("XFA - Invalid node to use in setProperty");continue}en[wt.$data]=Qt,en[wt.$content]=tn,en[wt.$finalize]()}}_bindItems(Mt,Bt){if(!Mt.hasOwnProperty("items")||!Mt.hasOwnProperty("bindItems")||Mt.bindItems.isEmpty())return;for(const jt of Mt.items.children)Mt[wt.$removeChild](jt);Mt.items.clear();const _t=new kt.Items({}),Kt=new kt.Items({});Mt[wt.$appendChild](_t),Mt.items.push(_t),Mt[wt.$appendChild](Kt),Mt.items.push(Kt);for(const{ref:jt,labelRef:Gt,valueRef:Qt,connection:ln}of Mt.bindItems.children){if(ln||!jt)continue;const en=(0,Rt.searchNode)(this.root,Bt,jt,!1,!1);if(!en){(0,Ft.warn)(`XFA - Invalid reference: ${jt}.`);continue}for(const gn of en){if(!gn[wt.$isDescendent](this.datasets)){(0,Ft.warn)(`XFA - Invalid ref (${jt}): must be a datasets child.`);continue}const tn=(0,Rt.searchNode)(this.root,gn,Gt,!0,!1);if(!tn){(0,Ft.warn)(`XFA - Invalid label: ${Gt}.`);continue}const[bn]=tn;if(!bn[wt.$isDescendent](this.datasets)){(0,Ft.warn)("XFA - Invalid label: must be a datasets child.");continue}const Xt=(0,Rt.searchNode)(this.root,gn,Qt,!0,!1);if(!Xt){(0,Ft.warn)(`XFA - Invalid value: ${Qt}.`);continue}const[Yt]=Xt;if(!Yt[wt.$isDescendent](this.datasets)){(0,Ft.warn)("XFA - Invalid value: must be a datasets child.");continue}const un=qt(bn[wt.$text]()),Ut=qt(Yt[wt.$text]());_t[wt.$appendChild](un),_t.text.push(un),Kt[wt.$appendChild](Ut),Kt.text.push(Ut)}}}_bindOccurrences(Mt,Bt,_t){let Kt;if(Bt.length>1&&(Kt=Mt[wt.$clone](),Kt[wt.$removeChild](Kt.occur),Kt.occur=null),this._bindValue(Mt,Bt[0],_t),this._setProperties(Mt,Bt[0]),this._bindItems(Mt,Bt[0]),Bt.length===1)return;const jt=Mt[wt.$getParent](),Gt=Mt[wt.$nodeName],Qt=jt[wt.$indexOf](Mt);for(let ln=1,en=Bt.length;ln<en;ln++){const gn=Bt[ln],tn=Kt[wt.$clone]();jt[Gt].push(tn),jt[wt.$insertAt](Qt+ln,tn),this._bindValue(tn,gn,_t),this._setProperties(tn,gn),this._bindItems(tn,gn)}}_createOccurrences(Mt){if(!this.emptyMerge)return;const{occur:Bt}=Mt;if(!Bt||Bt.initial<=1)return;const _t=Mt[wt.$getParent](),Kt=Mt[wt.$nodeName];if(!(_t[Kt]instanceof ht.XFAObjectArray))return;let jt;Mt.name?jt=_t[Kt].children.filter(ln=>ln.name===Mt.name).length:jt=_t[Kt].children.length;const Gt=_t[wt.$indexOf](Mt)+1,Qt=Bt.initial-jt;if(Qt){const ln=Mt[wt.$clone]();ln[wt.$removeChild](ln.occur),ln.occur=null,_t[Kt].push(ln),_t[wt.$insertAt](Gt,ln);for(let en=1;en<Qt;en++){const gn=ln[wt.$clone]();_t[Kt].push(gn),_t[wt.$insertAt](Gt+en,gn)}}}_getOccurInfo(Mt){const{name:Bt,occur:_t}=Mt;if(!_t||!Bt)return[1,1];const Kt=_t.max===-1?1/0:_t.max;return[_t.min,Kt]}_setAndBind(Mt,Bt){this._setProperties(Mt,Bt),this._bindItems(Mt,Bt),this._bindElement(Mt,Bt)}_bindElement(Mt,Bt){const _t=[];this._createOccurrences(Mt);for(const Kt of Mt[wt.$getChildren]()){if(Kt[wt.$data])continue;if(this._mergeMode===void 0&&Kt[wt.$nodeName]==="subform"){this._mergeMode=Kt.mergeMode==="consumeData";const tn=Bt[wt.$getChildren]();if(tn.length>0)this._bindOccurrences(Kt,[tn[0]],null);else if(this.emptyMerge){const bn=Bt[wt.$namespaceId]===Ht?-1:Bt[wt.$namespaceId],Xt=Kt[wt.$data]=new ht.XmlObject(bn,Kt.name||"root");Bt[wt.$appendChild](Xt),this._bindElement(Kt,Xt)}continue}if(!Kt[wt.$isBindable]())continue;let jt=!1,Gt=null,Qt=null,ln=null;if(Kt.bind){switch(Kt.bind.match){case"none":this._setAndBind(Kt,Bt);continue;case"global":jt=!0;break;case"dataRef":if(!Kt.bind.ref){(0,Ft.warn)(`XFA - ref is empty in node ${Kt[wt.$nodeName]}.`),this._setAndBind(Kt,Bt);continue}Qt=Kt.bind.ref;break}Kt.bind.picture&&(Gt=Kt.bind.picture[wt.$content])}const[en,gn]=this._getOccurInfo(Kt);if(Qt)if(ln=(0,Rt.searchNode)(this.root,Bt,Qt,!0,!1),ln===null){if(ln=(0,Rt.createDataNode)(this.data,Bt,Qt),!ln)continue;this._isConsumeData()&&(ln[wt.$consumed]=!0),this._setAndBind(Kt,ln);continue}else this._isConsumeData()&&(ln=ln.filter(tn=>!tn[wt.$consumed])),ln.length>gn?ln=ln.slice(0,gn):ln.length===0&&(ln=null),ln&&this._isConsumeData()&&ln.forEach(tn=>{tn[wt.$consumed]=!0});else{if(!Kt.name){this._setAndBind(Kt,Bt);continue}if(this._isConsumeData()){const tn=[];for(;tn.length<gn;){const bn=this._findDataByNameToConsume(Kt.name,Kt[wt.$hasSettableValue](),Bt,jt);if(!bn)break;bn[wt.$consumed]=!0,tn.push(bn)}ln=tn.length>0?tn:null}else{if(ln=Bt[wt.$getRealChildrenByNameIt](Kt.name,!1,this.emptyMerge).next().value,!ln){if(en===0){_t.push(Kt);continue}const tn=Bt[wt.$namespaceId]===Ht?-1:Bt[wt.$namespaceId];ln=Kt[wt.$data]=new ht.XmlObject(tn,Kt.name),this.emptyMerge&&(ln[wt.$consumed]=!0),Bt[wt.$appendChild](ln),this._setAndBind(Kt,ln);continue}this.emptyMerge&&(ln[wt.$consumed]=!0),ln=[ln]}}ln?this._bindOccurrences(Kt,ln,Gt):en>0?this._setAndBind(Kt,Bt):_t.push(Kt)}_t.forEach(Kt=>Kt[wt.$getParent]()[wt.$removeChild](Kt))}}Ct.Binder=Nt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Value=Ct.Text=Ct.TemplateNamespace=Ct.Template=Ct.SetProperty=Ct.Items=Ct.Field=Ct.BindItems=void 0;var wt=Pt(78),kt=Pt(81),Rt=Pt(82),ht=Pt(83),vt=Pt(87),Ft=Pt(84),Ht=Pt(2),qt=Pt(85),Nt=Pt(3),$t=Pt(88);const Mt=kt.NamespaceIds.template.id,Bt="http://www.w3.org/2000/svg",_t=2,Kt=3,jt=5e3,Gt=/^H(\d+)$/,Qt=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),ln=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function en(Vn){if(!Vn||!Vn.border)return{w:0,h:0};const Dt=Vn.border[wt.$getExtra]();return Dt?{w:Dt.widths[0]+Dt.widths[2]+Dt.insets[0]+Dt.insets[2],h:Dt.widths[1]+Dt.widths[3]+Dt.insets[1]+Dt.insets[3]}:{w:0,h:0}}function gn(Vn){return Vn.margin&&(Vn.margin.topInset||Vn.margin.rightInset||Vn.margin.bottomInset||Vn.margin.leftInset)}function tn(Vn,Dt){if(!Vn.value){const yn=new Bn({});Vn[wt.$appendChild](yn),Vn.value=yn}Vn.value[wt.$setValue](Dt)}function*bn(Vn){for(const Dt of Vn[wt.$getChildren]()){if(Dt instanceof wu){yield*Dt[wt.$getContainedChildren]();continue}yield Dt}}function Xt(Vn){var Dt;return((Dt=Vn.validate)==null?void 0:Dt.nullTest)==="error"}function Yt(Vn){for(;Vn;){if(!Vn.traversal){Vn[wt.$tabIndex]=Vn[wt.$getParent]()[wt.$tabIndex];return}if(Vn[wt.$tabIndex])return;let Dt=null;for(const _i of Vn.traversal[wt.$getChildren]())if(_i.operation==="next"){Dt=_i;break}if(!Dt||!Dt.ref){Vn[wt.$tabIndex]=Vn[wt.$getParent]()[wt.$tabIndex];return}const yn=Vn[wt.$getTemplateRoot]();Vn[wt.$tabIndex]=++yn[wt.$tabIndex];const qn=yn[wt.$searchNode](Dt.ref,Vn);if(!qn)return;Vn=qn[0]}}function un(Vn,Dt){var qn;const yn=Vn.assist;if(yn){const _i=yn[wt.$toHTML]();_i&&(Dt.title=_i);const ir=yn.role.match(Gt);if(ir){const ar="heading",gr=ir[1];Dt.role=ar,Dt["aria-level"]=gr}}if(Vn.layout==="table")Dt.role="table";else if(Vn.layout==="row")Dt.role="row";else{const _i=Vn[wt.$getParent]();_i.layout==="row"&&(Dt.role=((qn=_i.assist)==null?void 0:qn.role)==="TH"?"columnheader":"cell")}}function Ut(Vn){if(!Vn.assist)return null;const Dt=Vn.assist;return Dt.speak&&Dt.speak[wt.$content]!==""?Dt.speak[wt.$content]:Dt.toolTip?Dt.toolTip[wt.$content]:null}function Lt(Vn){return Ft.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:Vn}]})}function Vt(Vn){const Dt=Vn[wt.$getTemplateRoot]();Dt[wt.$extra].firstUnsplittable===null&&(Dt[wt.$extra].firstUnsplittable=Vn,Dt[wt.$extra].noLayoutFailure=!0)}function an(Vn){const Dt=Vn[wt.$getTemplateRoot]();Dt[wt.$extra].firstUnsplittable===Vn&&(Dt[wt.$extra].noLayoutFailure=!1)}function zt(Vn){if(Vn[wt.$extra]||(Vn[wt.$extra]=Object.create(null),Vn.targetType==="auto"))return!1;const Dt=Vn[wt.$getTemplateRoot]();let yn=null;if(Vn.target){if(yn=Dt[wt.$searchNode](Vn.target,Vn[wt.$getParent]()),!yn)return!1;yn=yn[0]}const{currentPageArea:qn,currentContentArea:_i}=Dt[wt.$extra];if(Vn.targetType==="pageArea")return yn instanceof Jr||(yn=null),Vn.startNew?(Vn[wt.$extra].target=yn||qn,!0):yn&&yn!==qn?(Vn[wt.$extra].target=yn,!0):!1;yn instanceof Tn||(yn=null);const Kn=yn&&yn[wt.$getParent]();let ir,ar=Kn;if(Vn.startNew)if(yn){const gr=Kn.contentArea.children,mr=gr.indexOf(_i),br=gr.indexOf(yn);mr!==-1&&mr<br&&(ar=null),ir=br-1}else ir=qn.contentArea.children.indexOf(_i);else if(yn&&yn!==_i)ir=Kn.contentArea.children.indexOf(yn)-1,ar=Kn===qn?null:Kn;else return!1;return Vn[wt.$extra].target=ar,Vn[wt.$extra].index=ir,!0}function Wt(Vn,Dt,yn){const qn=Vn[wt.$getTemplateRoot](),_i=qn[wt.$extra].noLayoutFailure,Kn=Dt[wt.$getSubformParent];Dt[wt.$getSubformParent]=()=>Vn,qn[wt.$extra].noLayoutFailure=!0;const ir=Dt[wt.$toHTML](yn);Vn[wt.$addHTML](ir.html,ir.bbox),qn[wt.$extra].noLayoutFailure=_i,Dt[wt.$getSubformParent]=Kn}class nn extends vt.StringObject{constructor(Dt){super(Mt,"appearanceFilter"),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class dn extends vt.XFAObject{constructor(Dt){super(Mt,"arc",!0),this.circular=(0,Ft.getInteger)({data:Dt.circular,defaultValue:0,validate:yn=>yn===1}),this.hand=(0,Ft.getStringOption)(Dt.hand,["even","left","right"]),this.id=Dt.id||"",this.startAngle=(0,Ft.getFloat)({data:Dt.startAngle,defaultValue:0,validate:yn=>!0}),this.sweepAngle=(0,Ft.getFloat)({data:Dt.sweepAngle,defaultValue:360,validate:yn=>!0}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.edge=null,this.fill=null}[wt.$toHTML](){var gr;const Dt=this.edge||new nr({}),yn=Dt[wt.$toStyle](),qn=Object.create(null);((gr=this.fill)==null?void 0:gr.presence)==="visible"?Object.assign(qn,this.fill[wt.$toStyle]()):qn.fill="transparent",qn.strokeWidth=(0,ht.measureToString)(Dt.presence==="visible"?Dt.thickness:0),qn.stroke=yn.color;let _i;const Kn={xmlns:Bt,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)_i={name:"ellipse",attributes:{xmlns:Bt,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:qn}};else{const mr=this.startAngle*Math.PI/180,br=this.sweepAngle*Math.PI/180,Mr=this.sweepAngle>180?1:0,[Er,kr,ts,Ir]=[50*(1+Math.cos(mr)),50*(1-Math.sin(mr)),50*(1+Math.cos(mr+br)),50*(1-Math.sin(mr+br))];_i={name:"path",attributes:{xmlns:Bt,d:`M ${Er} ${kr} A 50 50 0 ${Mr} 0 ${ts} ${Ir}`,vectorEffect:"non-scaling-stroke",style:qn}},Object.assign(Kn,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const ir={name:"svg",children:[_i],attributes:Kn},ar=this[wt.$getParent]()[wt.$getParent]();return gn(ar)?Ft.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[ir]}):(ir.attributes.style.position="absolute",Ft.HTMLResult.success(ir))}}class on extends vt.XFAObject{constructor(Dt){super(Mt,"area",!0),this.colSpan=(0,Ft.getInteger)({data:Dt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.id=Dt.id||"",this.name=Dt.name||"",this.relevant=(0,Ft.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.x=(0,Ft.getMeasurement)(Dt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Dt.y,"0pt"),this.desc=null,this.extras=null,this.area=new vt.XFAObjectArray,this.draw=new vt.XFAObjectArray,this.exObject=new vt.XFAObjectArray,this.exclGroup=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray,this.subformSet=new vt.XFAObjectArray}*[wt.$getContainedChildren](){yield*bn(this)}[wt.$isTransparent](){return!0}[wt.$isBindable](){return!0}[wt.$addHTML](Dt,yn){const[qn,_i,Kn,ir]=yn;this[wt.$extra].width=Math.max(this[wt.$extra].width,qn+Kn),this[wt.$extra].height=Math.max(this[wt.$extra].height,_i+ir),this[wt.$extra].children.push(Dt)}[wt.$getAvailableSpace](){return this[wt.$extra].availableSpace}[wt.$toHTML](Dt){const yn=(0,ht.toStyle)(this,"position"),qn={style:yn,id:this[wt.$uid],class:["xfaArea"]};(0,ht.isPrintOnly)(this)&&qn.class.push("xfaPrintOnly"),this.name&&(qn.xfaName=this.name);const _i=[];this[wt.$extra]={children:_i,width:0,height:0,availableSpace:Dt};const Kn=this[wt.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!Kn.success)return Kn.isBreak()?Kn:(delete this[wt.$extra],Ft.HTMLResult.FAILURE);yn.width=(0,ht.measureToString)(this[wt.$extra].width),yn.height=(0,ht.measureToString)(this[wt.$extra].height);const ir={name:"div",attributes:qn,children:_i},ar=[this.x,this.y,this[wt.$extra].width,this[wt.$extra].height];return delete this[wt.$extra],Ft.HTMLResult.success(ir,ar)}}class hn extends vt.XFAObject{constructor(Dt){super(Mt,"assist",!0),this.id=Dt.id||"",this.role=Dt.role||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.speak=null,this.toolTip=null}[wt.$toHTML](){var Dt;return((Dt=this.toolTip)==null?void 0:Dt[wt.$content])||null}}class sn extends vt.XFAObject{constructor(Dt){super(Mt,"barcode",!0),this.charEncoding=(0,Ft.getKeyword)({data:Dt.charEncoding?Dt.charEncoding.toLowerCase():"",defaultValue:"",validate:yn=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(yn)||yn.match(/iso-8859-\d{2}/)}),this.checksum=(0,Ft.getStringOption)(Dt.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,Ft.getInteger)({data:Dt.dataColumnCount,defaultValue:-1,validate:yn=>yn>=0}),this.dataLength=(0,Ft.getInteger)({data:Dt.dataLength,defaultValue:-1,validate:yn=>yn>=0}),this.dataPrep=(0,Ft.getStringOption)(Dt.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,Ft.getInteger)({data:Dt.dataRowCount,defaultValue:-1,validate:yn=>yn>=0}),this.endChar=Dt.endChar||"",this.errorCorrectionLevel=(0,Ft.getInteger)({data:Dt.errorCorrectionLevel,defaultValue:-1,validate:yn=>yn>=0&&yn<=8}),this.id=Dt.id||"",this.moduleHeight=(0,Ft.getMeasurement)(Dt.moduleHeight,"5mm"),this.moduleWidth=(0,Ft.getMeasurement)(Dt.moduleWidth,"0.25mm"),this.printCheckDigit=(0,Ft.getInteger)({data:Dt.printCheckDigit,defaultValue:0,validate:yn=>yn===1}),this.rowColumnRatio=(0,Ft.getRatio)(Dt.rowColumnRatio),this.startChar=Dt.startChar||"",this.textLocation=(0,Ft.getStringOption)(Dt.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,Ft.getInteger)({data:Dt.truncate,defaultValue:0,validate:yn=>yn===1}),this.type=(0,Ft.getStringOption)(Dt.type?Dt.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,Ft.getStringOption)(Dt.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.wideNarrowRatio=(0,Ft.getRatio)(Dt.wideNarrowRatio),this.encrypt=null,this.extras=null}}class rn extends vt.XFAObject{constructor(Dt){super(Mt,"bind",!0),this.match=(0,Ft.getStringOption)(Dt.match,["once","dataRef","global","none"]),this.ref=Dt.ref||"",this.picture=null}}class xn extends vt.XFAObject{constructor(Dt){super(Mt,"bindItems"),this.connection=Dt.connection||"",this.labelRef=Dt.labelRef||"",this.ref=Dt.ref||"",this.valueRef=Dt.valueRef||""}}Ct.BindItems=xn;class vn extends vt.XFAObject{constructor(Dt){super(Mt,"bookend"),this.id=Dt.id||"",this.leader=Dt.leader||"",this.trailer=Dt.trailer||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class kn extends vt.Option01{constructor(Dt){super(Mt,"boolean"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$toHTML](Dt){return Lt(this[wt.$content]===1?"1":"0")}}class Fn extends vt.XFAObject{constructor(Dt){super(Mt,"border",!0),this.break=(0,Ft.getStringOption)(Dt.break,["close","open"]),this.hand=(0,Ft.getStringOption)(Dt.hand,["even","left","right"]),this.id=Dt.id||"",this.presence=(0,Ft.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.corner=new vt.XFAObjectArray(4),this.edge=new vt.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[wt.$getExtra](){if(!this[wt.$extra]){const Dt=this.edge.children.slice();if(Dt.length<4){const _i=Dt.at(-1)||new nr({});for(let Kn=Dt.length;Kn<4;Kn++)Dt.push(_i)}const yn=Dt.map(_i=>_i.thickness),qn=[0,0,0,0];this.margin&&(qn[0]=this.margin.topInset,qn[1]=this.margin.rightInset,qn[2]=this.margin.bottomInset,qn[3]=this.margin.leftInset),this[wt.$extra]={widths:yn,insets:qn,edges:Dt}}return this[wt.$extra]}[wt.$toStyle](){var _i;const{edges:Dt}=this[wt.$getExtra](),yn=Dt.map(Kn=>{const ir=Kn[wt.$toStyle]();return ir.color||(ir.color="#000000"),ir}),qn=Object.create(null);if(this.margin&&Object.assign(qn,this.margin[wt.$toStyle]()),((_i=this.fill)==null?void 0:_i.presence)==="visible"&&Object.assign(qn,this.fill[wt.$toStyle]()),this.corner.children.some(Kn=>Kn.radius!==0)){const Kn=this.corner.children.map(ir=>ir[wt.$toStyle]());if(Kn.length===2||Kn.length===3){const ir=Kn.at(-1);for(let ar=Kn.length;ar<4;ar++)Kn.push(ir)}qn.borderRadius=Kn.map(ir=>ir.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":qn.borderStyle="";break;case"inactive":qn.borderStyle="none";break;default:qn.borderStyle=yn.map(Kn=>Kn.style).join(" ");break}return qn.borderWidth=yn.map(Kn=>Kn.width).join(" "),qn.borderColor=yn.map(Kn=>Kn.color).join(" "),qn}}class On extends vt.XFAObject{constructor(Dt){super(Mt,"break",!0),this.after=(0,Ft.getStringOption)(Dt.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=Dt.afterTarget||"",this.before=(0,Ft.getStringOption)(Dt.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=Dt.beforeTarget||"",this.bookendLeader=Dt.bookendLeader||"",this.bookendTrailer=Dt.bookendTrailer||"",this.id=Dt.id||"",this.overflowLeader=Dt.overflowLeader||"",this.overflowTarget=Dt.overflowTarget||"",this.overflowTrailer=Dt.overflowTrailer||"",this.startNew=(0,Ft.getInteger)({data:Dt.startNew,defaultValue:0,validate:yn=>yn===1}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}}class Pn extends vt.XFAObject{constructor(Dt){super(Mt,"breakAfter",!0),this.id=Dt.id||"",this.leader=Dt.leader||"",this.startNew=(0,Ft.getInteger)({data:Dt.startNew,defaultValue:0,validate:yn=>yn===1}),this.target=Dt.target||"",this.targetType=(0,Ft.getStringOption)(Dt.targetType,["auto","contentArea","pageArea"]),this.trailer=Dt.trailer||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.script=null}}class Sn extends vt.XFAObject{constructor(Dt){super(Mt,"breakBefore",!0),this.id=Dt.id||"",this.leader=Dt.leader||"",this.startNew=(0,Ft.getInteger)({data:Dt.startNew,defaultValue:0,validate:yn=>yn===1}),this.target=Dt.target||"",this.targetType=(0,Ft.getStringOption)(Dt.targetType,["auto","contentArea","pageArea"]),this.trailer=Dt.trailer||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.script=null}[wt.$toHTML](Dt){return this[wt.$extra]={},Ft.HTMLResult.FAILURE}}class mn extends vt.XFAObject{constructor(Dt){super(Mt,"button",!0),this.highlight=(0,Ft.getStringOption)(Dt.highlight,["inverted","none","outline","push"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}[wt.$toHTML](Dt){const qn=this[wt.$getParent]()[wt.$getParent](),_i={name:"button",attributes:{id:this[wt.$uid],class:["xfaButton"],style:{}},children:[]};for(const Kn of qn.event.children){if(Kn.activity!=="click"||!Kn.script)continue;const ir=(0,Nt.recoverJsURL)(Kn.script[wt.$content]);if(!ir)continue;const ar=(0,ht.fixURL)(ir.url);ar&&_i.children.push({name:"a",attributes:{id:"link"+this[wt.$uid],href:ar,newWindow:ir.newWindow,class:["xfaLink"],style:{}},children:[]})}return Ft.HTMLResult.success(_i)}}class fn extends vt.XFAObject{constructor(Dt){super(Mt,"calculate",!0),this.id=Dt.id||"",this.override=(0,Ft.getStringOption)(Dt.override,["disabled","error","ignore","warning"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.message=null,this.script=null}}class Jt extends vt.XFAObject{constructor(Dt){super(Mt,"caption",!0),this.id=Dt.id||"",this.placement=(0,Ft.getStringOption)(Dt.placement,["left","bottom","inline","right","top"]),this.presence=(0,Ft.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,Ft.getMeasurement)(Dt.reserve)),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[wt.$setValue](Dt){tn(this,Dt)}[wt.$getExtra](Dt){if(!this[wt.$extra]){let{width:yn,height:qn}=Dt;switch(this.placement){case"left":case"right":case"inline":yn=this.reserve<=0?yn:this.reserve;break;case"top":case"bottom":qn=this.reserve<=0?qn:this.reserve;break}this[wt.$extra]=(0,ht.layoutNode)(this,{width:yn,height:qn})}return this[wt.$extra]}[wt.$toHTML](Dt){if(!this.value)return Ft.HTMLResult.EMPTY;this[wt.$pushPara]();const yn=this.value[wt.$toHTML](Dt).html;if(!yn)return this[wt.$popPara](),Ft.HTMLResult.EMPTY;const qn=this.reserve;if(this.reserve<=0){const{w:ir,h:ar}=this[wt.$getExtra](Dt);switch(this.placement){case"left":case"right":case"inline":this.reserve=ir;break;case"top":case"bottom":this.reserve=ar;break}}const _i=[];typeof yn=="string"?_i.push({name:"#text",value:yn}):_i.push(yn);const Kn=(0,ht.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(Kn.width=(0,ht.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(Kn.height=(0,ht.measureToString)(this.reserve));break}return(0,ht.setPara)(this,null,yn),this[wt.$popPara](),this.reserve=qn,Ft.HTMLResult.success({name:"div",attributes:{style:Kn,class:["xfaCaption"]},children:_i})}}class cn extends vt.StringObject{constructor(Dt){super(Mt,"certificate"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class pn extends vt.XFAObject{constructor(Dt){super(Mt,"certificates",!0),this.credentialServerPolicy=(0,Ft.getStringOption)(Dt.credentialServerPolicy,["optional","required"]),this.id=Dt.id||"",this.url=Dt.url||"",this.urlPolicy=Dt.urlPolicy||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class wn extends vt.XFAObject{constructor(Dt){super(Mt,"checkButton",!0),this.id=Dt.id||"",this.mark=(0,Ft.getStringOption)(Dt.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,Ft.getStringOption)(Dt.shape,["square","round"]),this.size=(0,Ft.getMeasurement)(Dt.size,"10pt"),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.margin=null}[wt.$toHTML](Dt){var Gr,zr,Hr;const yn=(0,ht.toStyle)("margin"),qn=(0,ht.measureToString)(this.size);yn.width=yn.height=qn;let _i,Kn,ir;const ar=this[wt.$getParent]()[wt.$getParent](),gr=ar.items.children.length&&ar.items.children[0][wt.$toHTML]().html||[],mr={on:(gr[0]!==void 0?gr[0]:"on").toString(),off:(gr[1]!==void 0?gr[1]:"off").toString()},Mr=(((Gr=ar.value)==null?void 0:Gr[wt.$text]())||"off")===mr.on||void 0,Er=ar[wt.$getSubformParent](),kr=ar[wt.$uid];let ts;Er instanceof Zn?(ir=Er[wt.$uid],_i="radio",Kn="xfaRadio",ts=((zr=Er[wt.$data])==null?void 0:zr[wt.$uid])||Er[wt.$uid]):(_i="checkbox",Kn="xfaCheckbox",ts=((Hr=ar[wt.$data])==null?void 0:Hr[wt.$uid])||ar[wt.$uid]);const Ir={name:"input",attributes:{class:[Kn],style:yn,fieldId:kr,dataId:ts,type:_i,checked:Mr,xfaOn:mr.on,xfaOff:mr.off,"aria-label":Ut(ar),"aria-required":!1}};return ir&&(Ir.attributes.name=ir),Xt(ar)&&(Ir.attributes["aria-required"]=!0,Ir.attributes.required=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Ir]})}}class En extends vt.XFAObject{constructor(Dt){super(Mt,"choiceList",!0),this.commitOn=(0,Ft.getStringOption)(Dt.commitOn,["select","exit"]),this.id=Dt.id||"",this.open=(0,Ft.getStringOption)(Dt.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,Ft.getInteger)({data:Dt.textEntry,defaultValue:0,validate:yn=>yn===1}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.margin=null}[wt.$toHTML](Dt){var mr,br,Mr;const yn=(0,ht.toStyle)(this,"border","margin"),_i=this[wt.$getParent]()[wt.$getParent](),ir={fontSize:`calc(${((mr=_i.font)==null?void 0:mr.size)||10}px * var(--scale-factor))`},ar=[];if(_i.items.children.length>0){const Er=_i.items;let kr=0,ts=0;Er.children.length===2&&(kr=Er.children[0].save,ts=1-kr);const Ir=Er.children[kr][wt.$toHTML]().html,Gr=Er.children[ts][wt.$toHTML]().html;let zr=!1;const Hr=((br=_i.value)==null?void 0:br[wt.$text]())||"";for(let Qr=0,jr=Ir.length;Qr<jr;Qr++){const Nr={name:"option",attributes:{value:Gr[Qr]||Ir[Qr],style:ir},value:Ir[Qr]};Gr[Qr]===Hr&&(Nr.attributes.selected=zr=!0),ar.push(Nr)}zr||ar.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const gr={class:["xfaSelect"],fieldId:_i[wt.$uid],dataId:((Mr=_i[wt.$data])==null?void 0:Mr[wt.$uid])||_i[wt.$uid],style:yn,"aria-label":Ut(_i),"aria-required":!1};return Xt(_i)&&(gr["aria-required"]=!0,gr.required=!0),this.open==="multiSelect"&&(gr.multiple=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:ar,attributes:gr}]})}}class _n extends vt.XFAObject{constructor(Dt){super(Mt,"color",!0),this.cSpace=(0,Ft.getStringOption)(Dt.cSpace,["SRGB"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.value=Dt.value?(0,Ft.getColor)(Dt.value):"",this.extras=null}[wt.$hasSettableValue](){return!1}[wt.$toStyle](){return this.value?Ht.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Cn extends vt.XFAObject{constructor(Dt){super(Mt,"comb"),this.id=Dt.id||"",this.numberOfCells=(0,Ft.getInteger)({data:Dt.numberOfCells,defaultValue:0,validate:yn=>yn>=0}),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class An extends vt.XFAObject{constructor(Dt){super(Mt,"connect",!0),this.connection=Dt.connection||"",this.id=Dt.id||"",this.ref=Dt.ref||"",this.usage=(0,Ft.getStringOption)(Dt.usage,["exportAndImport","exportOnly","importOnly"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.picture=null}}class Tn extends vt.XFAObject{constructor(Dt){super(Mt,"contentArea",!0),this.h=(0,Ft.getMeasurement)(Dt.h),this.id=Dt.id||"",this.name=Dt.name||"",this.relevant=(0,Ft.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=(0,Ft.getMeasurement)(Dt.w),this.x=(0,Ft.getMeasurement)(Dt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Dt.y,"0pt"),this.desc=null,this.extras=null}[wt.$toHTML](Dt){const yn=(0,ht.measureToString)(this.x),qn=(0,ht.measureToString)(this.y),_i={left:yn,top:qn,width:(0,ht.measureToString)(this.w),height:(0,ht.measureToString)(this.h)},Kn=["xfaContentarea"];return(0,ht.isPrintOnly)(this)&&Kn.push("xfaPrintOnly"),Ft.HTMLResult.success({name:"div",children:[],attributes:{style:_i,class:Kn,id:this[wt.$uid]}})}}class Mn extends vt.XFAObject{constructor(Dt){super(Mt,"corner",!0),this.id=Dt.id||"",this.inverted=(0,Ft.getInteger)({data:Dt.inverted,defaultValue:0,validate:yn=>yn===1}),this.join=(0,Ft.getStringOption)(Dt.join,["square","round"]),this.presence=(0,Ft.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,Ft.getMeasurement)(Dt.radius),this.stroke=(0,Ft.getStringOption)(Dt.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,Ft.getMeasurement)(Dt.thickness,"0.5pt"),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](){const Dt=(0,ht.toStyle)(this,"visibility");return Dt.radius=(0,ht.measureToString)(this.join==="square"?0:this.radius),Dt}}class Rn extends vt.ContentObject{constructor(Dt){super(Mt,"date"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){const Dt=this[wt.$content].trim();this[wt.$content]=Dt?new Date(Dt):null}[wt.$toHTML](Dt){return Lt(this[wt.$content]?this[wt.$content].toString():"")}}class Ln extends vt.ContentObject{constructor(Dt){super(Mt,"dateTime"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){const Dt=this[wt.$content].trim();this[wt.$content]=Dt?new Date(Dt):null}[wt.$toHTML](Dt){return Lt(this[wt.$content]?this[wt.$content].toString():"")}}class Dn extends vt.XFAObject{constructor(Dt){super(Mt,"dateTimeEdit",!0),this.hScrollPolicy=(0,Ft.getStringOption)(Dt.hScrollPolicy,["auto","off","on"]),this.id=Dt.id||"",this.picker=(0,Ft.getStringOption)(Dt.picker,["host","none"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[wt.$toHTML](Dt){var Kn;const yn=(0,ht.toStyle)(this,"border","font","margin"),qn=this[wt.$getParent]()[wt.$getParent](),_i={name:"input",attributes:{type:"text",fieldId:qn[wt.$uid],dataId:((Kn=qn[wt.$data])==null?void 0:Kn[wt.$uid])||qn[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(qn),"aria-required":!1}};return Xt(qn)&&(_i.attributes["aria-required"]=!0,_i.attributes.required=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[_i]})}}class Un extends vt.ContentObject{constructor(Dt){super(Mt,"decimal"),this.fracDigits=(0,Ft.getInteger)({data:Dt.fracDigits,defaultValue:2,validate:yn=>!0}),this.id=Dt.id||"",this.leadDigits=(0,Ft.getInteger)({data:Dt.leadDigits,defaultValue:-1,validate:yn=>!0}),this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){const Dt=parseFloat(this[wt.$content].trim());this[wt.$content]=isNaN(Dt)?null:Dt}[wt.$toHTML](Dt){return Lt(this[wt.$content]!==null?this[wt.$content].toString():"")}}class tr extends vt.XFAObject{constructor(Dt){super(Mt,"defaultUi",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}}class er extends vt.XFAObject{constructor(Dt){super(Mt,"desc",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}}class Qn extends vt.OptionObject{constructor(Dt){super(Mt,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Yn extends vt.XFAObject{constructor(Dt){super(Mt,"digestMethods",!0),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.digestMethod=new vt.XFAObjectArray}}class zn extends vt.XFAObject{constructor(Dt){super(Mt,"draw",!0),this.anchorType=(0,Ft.getStringOption)(Dt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Ft.getInteger)({data:Dt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.h=Dt.h?(0,Ft.getMeasurement)(Dt.h):"",this.hAlign=(0,Ft.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.locale=Dt.locale||"",this.maxH=(0,Ft.getMeasurement)(Dt.maxH,"0pt"),this.maxW=(0,Ft.getMeasurement)(Dt.maxW,"0pt"),this.minH=(0,Ft.getMeasurement)(Dt.minH,"0pt"),this.minW=(0,Ft.getMeasurement)(Dt.minW,"0pt"),this.name=Dt.name||"",this.presence=(0,Ft.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Dt.relevant),this.rotate=(0,Ft.getInteger)({data:Dt.rotate,defaultValue:0,validate:yn=>yn%90===0}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=Dt.w?(0,Ft.getMeasurement)(Dt.w):"",this.x=(0,Ft.getMeasurement)(Dt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Dt.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new vt.XFAObjectArray}[wt.$setValue](Dt){tn(this,Dt)}[wt.$toHTML](Dt){if(Yt(this),this.presence==="hidden"||this.presence==="inactive")return Ft.HTMLResult.EMPTY;(0,ht.fixDimensions)(this),this[wt.$pushPara]();const yn=this.w,qn=this.h,{w:_i,h:Kn,isBroken:ir}=(0,ht.layoutNode)(this,Dt);if(_i&&this.w===""){if(ir&&this[wt.$getSubformParent]()[wt.$isThereMoreWidth]())return this[wt.$popPara](),Ft.HTMLResult.FAILURE;this.w=_i}if(Kn&&this.h===""&&(this.h=Kn),Vt(this),!(0,Rt.checkDimensions)(this,Dt))return this.w=yn,this.h=qn,this[wt.$popPara](),Ft.HTMLResult.FAILURE;an(this);const ar=(0,ht.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,ht.setMinMaxDimensions)(this,ar),ar.margin&&(ar.padding=ar.margin,delete ar.margin);const gr=["xfaDraw"];this.font&&gr.push("xfaFont"),(0,ht.isPrintOnly)(this)&&gr.push("xfaPrintOnly");const mr={style:ar,id:this[wt.$uid],class:gr};this.name&&(mr.xfaName=this.name);const br={name:"div",attributes:mr,children:[]};un(this,mr);const Mr=(0,ht.computeBbox)(this,br,Dt),Er=this.value?this.value[wt.$toHTML](Dt).html:null;return Er===null?(this.w=yn,this.h=qn,this[wt.$popPara](),Ft.HTMLResult.success((0,ht.createWrapper)(this,br),Mr)):(br.children.push(Er),(0,ht.setPara)(this,ar,Er),this.w=yn,this.h=qn,this[wt.$popPara](),Ft.HTMLResult.success((0,ht.createWrapper)(this,br),Mr))}}class nr extends vt.XFAObject{constructor(Dt){super(Mt,"edge",!0),this.cap=(0,Ft.getStringOption)(Dt.cap,["square","butt","round"]),this.id=Dt.id||"",this.presence=(0,Ft.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,Ft.getStringOption)(Dt.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,Ft.getMeasurement)(Dt.thickness,"0.5pt"),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](){const Dt=(0,ht.toStyle)(this,"visibility");if(Object.assign(Dt,{linecap:this.cap,width:(0,ht.measureToString)(this.thickness),color:this.color?this.color[wt.$toStyle]():"#000000",style:""}),this.presence!=="visible")Dt.style="none";else switch(this.stroke){case"solid":Dt.style="solid";break;case"dashDot":Dt.style="dashed";break;case"dashDotDot":Dt.style="dashed";break;case"dashed":Dt.style="dashed";break;case"dotted":Dt.style="dotted";break;case"embossed":Dt.style="ridge";break;case"etched":Dt.style="groove";break;case"lowered":Dt.style="inset";break;case"raised":Dt.style="outset";break}return Dt}}class lr extends vt.OptionObject{constructor(Dt){super(Mt,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class dr extends vt.XFAObject{constructor(Dt){super(Mt,"encodings",!0),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.encoding=new vt.XFAObjectArray}}class jn extends vt.XFAObject{constructor(Dt){super(Mt,"encrypt",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.certificate=null}}class Hn extends vt.XFAObject{constructor(Dt){super(Mt,"encryptData",!0),this.id=Dt.id||"",this.operation=(0,Ft.getStringOption)(Dt.operation,["encrypt","decrypt"]),this.target=Dt.target||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.filter=null,this.manifest=null}}class Xn extends vt.XFAObject{constructor(Dt){super(Mt,"encryption",!0),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.certificate=new vt.XFAObjectArray}}class cr extends vt.OptionObject{constructor(Dt){super(Mt,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class sr extends vt.XFAObject{constructor(Dt){super(Mt,"encryptionMethods",!0),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.encryptionMethod=new vt.XFAObjectArray}}class xr extends vt.XFAObject{constructor(Dt){super(Mt,"event",!0),this.activity=(0,Ft.getStringOption)(Dt.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=Dt.id||"",this.listen=(0,Ft.getStringOption)(Dt.listen,["refOnly","refAndDescendents"]),this.name=Dt.name||"",this.ref=Dt.ref||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class Jn extends vt.ContentObject{constructor(Dt){super(Mt,"exData"),this.contentType=Dt.contentType||"",this.href=Dt.href||"",this.id=Dt.id||"",this.maxLength=(0,Ft.getInteger)({data:Dt.maxLength,defaultValue:-1,validate:yn=>yn>=-1}),this.name=Dt.name||"",this.rid=Dt.rid||"",this.transferEncoding=(0,Ft.getStringOption)(Dt.transferEncoding,["none","base64","package"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$isCDATAXml](){return this.contentType==="text/html"}[wt.$onChild](Dt){return this.contentType==="text/html"&&Dt[wt.$namespaceId]===kt.NamespaceIds.xhtml.id?(this[wt.$content]=Dt,!0):this.contentType==="text/xml"?(this[wt.$content]=Dt,!0):!1}[wt.$toHTML](Dt){return this.contentType!=="text/html"||!this[wt.$content]?Ft.HTMLResult.EMPTY:this[wt.$content][wt.$toHTML](Dt)}}class Wn extends vt.XFAObject{constructor(Dt){super(Mt,"exObject",!0),this.archive=Dt.archive||"",this.classId=Dt.classId||"",this.codeBase=Dt.codeBase||"",this.codeType=Dt.codeType||"",this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.exObject=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}}class Zn extends vt.XFAObject{constructor(Dt){super(Mt,"exclGroup",!0),this.access=(0,Ft.getStringOption)(Dt.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=Dt.accessKey||"",this.anchorType=(0,Ft.getStringOption)(Dt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Ft.getInteger)({data:Dt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.h=Dt.h?(0,Ft.getMeasurement)(Dt.h):"",this.hAlign=(0,Ft.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.layout=(0,Ft.getStringOption)(Dt.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,Ft.getMeasurement)(Dt.maxH,"0pt"),this.maxW=(0,Ft.getMeasurement)(Dt.maxW,"0pt"),this.minH=(0,Ft.getMeasurement)(Dt.minH,"0pt"),this.minW=(0,Ft.getMeasurement)(Dt.minW,"0pt"),this.name=Dt.name||"",this.presence=(0,Ft.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=Dt.w?(0,Ft.getMeasurement)(Dt.w):"",this.x=(0,Ft.getMeasurement)(Dt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Dt.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new vt.XFAObjectArray,this.event=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.setProperty=new vt.XFAObjectArray}[wt.$isBindable](){return!0}[wt.$hasSettableValue](){return!0}[wt.$setValue](Dt){for(const yn of this.field.children){if(!yn.value){const qn=new Bn({});yn[wt.$appendChild](qn),yn.value=qn}yn.value[wt.$setValue](Dt)}}[wt.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine>0||this[wt.$getParent]()[wt.$isThereMoreWidth]()}[wt.$isSplittable](){var yn;const Dt=this[wt.$getSubformParent]();return Dt[wt.$isSplittable]()?this[wt.$extra]._isSplittable!==void 0?this[wt.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[wt.$extra]._isSplittable=!1,!1):(yn=Dt.layout)!=null&&yn.endsWith("-tb")&&Dt[wt.$extra].numberInLine!==0?!1:(this[wt.$extra]._isSplittable=!0,!0):!1}[wt.$flushHTML](){return(0,Rt.flushHTML)(this)}[wt.$addHTML](Dt,yn){(0,Rt.addHTML)(this,Dt,yn)}[wt.$getAvailableSpace](){return(0,Rt.getAvailableSpace)(this)}[wt.$toHTML](Dt){if(Yt(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return Ft.HTMLResult.EMPTY;(0,ht.fixDimensions)(this);const yn=[],qn={id:this[wt.$uid],class:[]};(0,ht.setAccess)(this,qn.class),this[wt.$extra]||(this[wt.$extra]=Object.create(null)),Object.assign(this[wt.$extra],{children:yn,attributes:qn,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,Dt.width),height:Math.min(this.h||1/0,Dt.height)},width:0,height:0,prevHeight:0,currentWidth:0});const _i=this[wt.$isSplittable]();if(_i||Vt(this),!(0,Rt.checkDimensions)(this,Dt))return Ft.HTMLResult.FAILURE;const Kn=new Set(["field"]);if(this.layout.includes("row")){const zr=this[wt.$getSubformParent]().columnWidths;Array.isArray(zr)&&zr.length>0&&(this[wt.$extra].columnWidths=zr,this[wt.$extra].currentColumn=0)}const ir=(0,ht.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),ar=["xfaExclgroup"],gr=(0,ht.layoutClass)(this);gr&&ar.push(gr),(0,ht.isPrintOnly)(this)&&ar.push("xfaPrintOnly"),qn.style=ir,qn.class=ar,this.name&&(qn.xfaName=this.name),this[wt.$pushPara]();const mr=this.layout==="lr-tb"||this.layout==="rl-tb",br=mr?_t:1;for(;this[wt.$extra].attempt<br;this[wt.$extra].attempt++){mr&&this[wt.$extra].attempt===_t-1&&(this[wt.$extra].numberInLine=0);const zr=this[wt.$childrenToHTML]({filter:Kn,include:!0});if(zr.success)break;if(zr.isBreak())return this[wt.$popPara](),zr;if(mr&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine===0&&!this[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure){this[wt.$extra].attempt=br;break}}if(this[wt.$popPara](),_i||an(this),this[wt.$extra].attempt===br)return _i||delete this[wt.$extra],Ft.HTMLResult.FAILURE;let Mr=0,Er=0;this.margin&&(Mr=this.margin.leftInset+this.margin.rightInset,Er=this.margin.topInset+this.margin.bottomInset);const kr=Math.max(this[wt.$extra].width+Mr,this.w||0),ts=Math.max(this[wt.$extra].height+Er,this.h||0),Ir=[this.x,this.y,kr,ts];this.w===""&&(ir.width=(0,ht.measureToString)(kr)),this.h===""&&(ir.height=(0,ht.measureToString)(ts));const Gr={name:"div",attributes:qn,children:yn};return un(this,qn),delete this[wt.$extra],Ft.HTMLResult.success((0,ht.createWrapper)(this,Gr),Ir)}}class ur extends vt.XFAObject{constructor(Dt){super(Mt,"execute"),this.connection=Dt.connection||"",this.executeType=(0,Ft.getStringOption)(Dt.executeType,["import","remerge"]),this.id=Dt.id||"",this.runAt=(0,Ft.getStringOption)(Dt.runAt,["client","both","server"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class hr extends vt.XFAObject{constructor(Dt){super(Mt,"extras",!0),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.extras=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}}class or extends vt.XFAObject{constructor(Dt){super(Mt,"field",!0),this.access=(0,Ft.getStringOption)(Dt.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=Dt.accessKey||"",this.anchorType=(0,Ft.getStringOption)(Dt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Ft.getInteger)({data:Dt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.h=Dt.h?(0,Ft.getMeasurement)(Dt.h):"",this.hAlign=(0,Ft.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.locale=Dt.locale||"",this.maxH=(0,Ft.getMeasurement)(Dt.maxH,"0pt"),this.maxW=(0,Ft.getMeasurement)(Dt.maxW,"0pt"),this.minH=(0,Ft.getMeasurement)(Dt.minH,"0pt"),this.minW=(0,Ft.getMeasurement)(Dt.minW,"0pt"),this.name=Dt.name||"",this.presence=(0,Ft.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Dt.relevant),this.rotate=(0,Ft.getInteger)({data:Dt.rotate,defaultValue:0,validate:yn=>yn%90===0}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=Dt.w?(0,Ft.getMeasurement)(Dt.w):"",this.x=(0,Ft.getMeasurement)(Dt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Dt.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new vt.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new vt.XFAObjectArray,this.connect=new vt.XFAObjectArray,this.event=new vt.XFAObjectArray,this.setProperty=new vt.XFAObjectArray}[wt.$isBindable](){return!0}[wt.$setValue](Dt){tn(this,Dt)}[wt.$toHTML](Dt){var zr,Hr,Qr;if(Yt(this),!this.ui){this.ui=new Cu({}),this.ui[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](this.ui);let jr;switch(this.items.children.length){case 0:jr=new V0({}),this.ui.textEdit=jr;break;case 1:jr=new wn({}),this.ui.checkButton=jr;break;case 2:jr=new En({}),this.ui.choiceList=jr;break}this.ui[wt.$appendChild](jr)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return Ft.HTMLResult.EMPTY;this.caption&&delete this.caption[wt.$extra],this[wt.$pushPara]();const yn=this.caption?this.caption[wt.$toHTML](Dt).html:null,qn=this.w,_i=this.h;let Kn=0,ir=0;this.margin&&(Kn=this.margin.leftInset+this.margin.rightInset,ir=this.margin.topInset+this.margin.bottomInset);let ar=null;if(this.w===""||this.h===""){let jr=null,Nr=null,Cs=0,ks=0;if(this.ui.checkButton)Cs=ks=this.ui.checkButton.size;else{const{w:Fs,h:_s}=(0,ht.layoutNode)(this,Dt);Fs!==null?(Cs=Fs,ks=_s):ks=(0,qt.getMetrics)(this.font,!0).lineNoGap}if(ar=en(this.ui[wt.$getExtra]()),Cs+=ar.w,ks+=ar.h,this.caption){const{w:Fs,h:_s,isBroken:Ms}=this.caption[wt.$getExtra](Dt);if(Ms&&this[wt.$getSubformParent]()[wt.$isThereMoreWidth]())return this[wt.$popPara](),Ft.HTMLResult.FAILURE;switch(jr=Fs,Nr=_s,this.caption.placement){case"left":case"right":case"inline":jr+=Cs;break;case"top":case"bottom":Nr+=ks;break}}else jr=Cs,Nr=ks;jr&&this.w===""&&(jr+=Kn,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<jr?jr:this.minW)),Nr&&this.h===""&&(Nr+=ir,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<Nr?Nr:this.minH))}if(this[wt.$popPara](),(0,ht.fixDimensions)(this),Vt(this),!(0,Rt.checkDimensions)(this,Dt))return this.w=qn,this.h=_i,this[wt.$popPara](),Ft.HTMLResult.FAILURE;an(this);const gr=(0,ht.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,ht.setMinMaxDimensions)(this,gr);const mr=["xfaField"];this.font&&mr.push("xfaFont"),(0,ht.isPrintOnly)(this)&&mr.push("xfaPrintOnly");const br={style:gr,id:this[wt.$uid],class:mr};gr.margin&&(gr.padding=gr.margin,delete gr.margin),(0,ht.setAccess)(this,mr),this.name&&(br.xfaName=this.name);const Mr=[],Er={name:"div",attributes:br,children:Mr};un(this,br);const kr=this.border?this.border[wt.$toStyle]():null,ts=(0,ht.computeBbox)(this,Er,Dt),Ir=this.ui[wt.$toHTML]().html;if(!Ir)return Object.assign(gr,kr),Ft.HTMLResult.success((0,ht.createWrapper)(this,Er),ts);this[wt.$tabIndex]&&((zr=Ir.children)!=null&&zr[0]?Ir.children[0].attributes.tabindex=this[wt.$tabIndex]:Ir.attributes.tabindex=this[wt.$tabIndex]),Ir.attributes.style||(Ir.attributes.style=Object.create(null));let Gr=null;if(this.ui.button?(Ir.children.length===1&&([Gr]=Ir.children.splice(0,1)),Object.assign(Ir.attributes.style,kr)):Object.assign(gr,kr),Mr.push(Ir),this.value){if(this.ui.imageEdit)Ir.children.push(this.value[wt.$toHTML]().html);else if(!this.ui.button){let jr="";if(this.value.exData)jr=this.value.exData[wt.$text]();else if(this.value.text)jr=this.value.text[wt.$getExtra]();else{const Nr=this.value[wt.$toHTML]().html;Nr!==null&&(jr=Nr.children[0].value)}this.ui.textEdit&&((Hr=this.value.text)!=null&&Hr.maxChars)&&(Ir.children[0].attributes.maxLength=this.value.text.maxChars),jr&&(this.ui.numericEdit&&(jr=parseFloat(jr),jr=isNaN(jr)?"":jr.toString()),Ir.children[0].name==="textarea"?Ir.children[0].attributes.textContent=jr:Ir.children[0].attributes.value=jr)}}if(!this.ui.imageEdit&&((Qr=Ir.children)!=null&&Qr[0])&&this.h){ar=ar||en(this.ui[wt.$getExtra]());let jr=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){jr=this.caption.reserve,jr<=0&&(jr=this.caption[wt.$getExtra](Dt).h);const Nr=this.h-jr-ir-ar.h;Ir.children[0].attributes.style.height=(0,ht.measureToString)(Nr)}else Ir.children[0].attributes.style.height="100%"}if(Gr&&Ir.children.push(Gr),!yn)return Ir.attributes.class&&Ir.attributes.class.push("xfaLeft"),this.w=qn,this.h=_i,Ft.HTMLResult.success((0,ht.createWrapper)(this,Er),ts);if(this.ui.button)return gr.padding&&delete gr.padding,yn.name==="div"&&(yn.name="span"),Ir.children.push(yn),Ft.HTMLResult.success(Er,ts);switch(this.ui.checkButton&&(yn.attributes.class[0]="xfaCaptionForCheckButton"),Ir.attributes.class||(Ir.attributes.class=[]),Ir.children.splice(0,0,yn),this.caption.placement){case"left":Ir.attributes.class.push("xfaLeft");break;case"right":Ir.attributes.class.push("xfaRight");break;case"top":Ir.attributes.class.push("xfaTop");break;case"bottom":Ir.attributes.class.push("xfaBottom");break;case"inline":Ir.attributes.class.push("xfaLeft");break}return this.w=qn,this.h=_i,Ft.HTMLResult.success((0,ht.createWrapper)(this,Er),ts)}}Ct.Field=or;class pr extends vt.XFAObject{constructor(Dt){super(Mt,"fill",!0),this.id=Dt.id||"",this.presence=(0,Ft.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[wt.$toStyle](){var ar;const Dt=this[wt.$getParent](),qn=Dt[wt.$getParent]()[wt.$getParent](),_i=Object.create(null);let Kn="color",ir=Kn;Dt instanceof Fn&&(Kn="background-color",ir="background",qn instanceof Cu&&(_i.backgroundColor="white")),(Dt instanceof fs||Dt instanceof dn)&&(Kn=ir="fill",_i.fill="white");for(const gr of Object.getOwnPropertyNames(this)){if(gr==="extras"||gr==="color")continue;const mr=this[gr];if(!(mr instanceof vt.XFAObject))continue;const br=mr[wt.$toStyle](this.color);return br&&(_i[br.startsWith("#")?Kn:ir]=br),_i}if((ar=this.color)!=null&&ar.value){const gr=this.color[wt.$toStyle]();_i[gr.startsWith("#")?Kn:ir]=gr}return _i}}class wr extends vt.XFAObject{constructor(Dt){super(Mt,"filter",!0),this.addRevocationInfo=(0,Ft.getStringOption)(Dt.addRevocationInfo,["","required","optional","none"]),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.version=(0,Ft.getInteger)({data:this.version,defaultValue:5,validate:yn=>yn>=1&&yn<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class fr extends vt.ContentObject{constructor(Dt){super(Mt,"float"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){const Dt=parseFloat(this[wt.$content].trim());this[wt.$content]=isNaN(Dt)?null:Dt}[wt.$toHTML](Dt){return Lt(this[wt.$content]!==null?this[wt.$content].toString():"")}}class Ar extends vt.XFAObject{constructor(Dt){super(Mt,"font",!0),this.baselineShift=(0,Ft.getMeasurement)(Dt.baselineShift),this.fontHorizontalScale=(0,Ft.getFloat)({data:Dt.fontHorizontalScale,defaultValue:100,validate:yn=>yn>=0}),this.fontVerticalScale=(0,Ft.getFloat)({data:Dt.fontVerticalScale,defaultValue:100,validate:yn=>yn>=0}),this.id=Dt.id||"",this.kerningMode=(0,Ft.getStringOption)(Dt.kerningMode,["none","pair"]),this.letterSpacing=(0,Ft.getMeasurement)(Dt.letterSpacing,"0"),this.lineThrough=(0,Ft.getInteger)({data:Dt.lineThrough,defaultValue:0,validate:yn=>yn===1||yn===2}),this.lineThroughPeriod=(0,Ft.getStringOption)(Dt.lineThroughPeriod,["all","word"]),this.overline=(0,Ft.getInteger)({data:Dt.overline,defaultValue:0,validate:yn=>yn===1||yn===2}),this.overlinePeriod=(0,Ft.getStringOption)(Dt.overlinePeriod,["all","word"]),this.posture=(0,Ft.getStringOption)(Dt.posture,["normal","italic"]),this.size=(0,Ft.getMeasurement)(Dt.size,"10pt"),this.typeface=Dt.typeface||"Courier",this.underline=(0,Ft.getInteger)({data:Dt.underline,defaultValue:0,validate:yn=>yn===1||yn===2}),this.underlinePeriod=(0,Ft.getStringOption)(Dt.underlinePeriod,["all","word"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.weight=(0,Ft.getStringOption)(Dt.weight,["normal","bold"]),this.extras=null,this.fill=null}[wt.$clean](Dt){super[wt.$clean](Dt),this[wt.$globalData].usedTypefaces.add(this.typeface)}[wt.$toStyle](){const Dt=(0,ht.toStyle)(this,"fill"),yn=Dt.color;return yn&&(yn==="#000000"?delete Dt.color:yn.startsWith("#")||(Dt.background=yn,Dt.backgroundClip="text",Dt.color="transparent")),this.baselineShift&&(Dt.verticalAlign=(0,ht.measureToString)(this.baselineShift)),Dt.fontKerning=this.kerningMode==="none"?"none":"normal",Dt.letterSpacing=(0,ht.measureToString)(this.letterSpacing),this.lineThrough!==0&&(Dt.textDecoration="line-through",this.lineThrough===2&&(Dt.textDecorationStyle="double")),this.overline!==0&&(Dt.textDecoration="overline",this.overline===2&&(Dt.textDecorationStyle="double")),Dt.fontStyle=this.posture,Dt.fontSize=(0,ht.measureToString)(.99*this.size),(0,ht.setFontFamily)(this,this,this[wt.$globalData].fontFinder,Dt),this.underline!==0&&(Dt.textDecoration="underline",this.underline===2&&(Dt.textDecorationStyle="double")),Dt.fontWeight=this.weight,Dt}}class Dr extends vt.XFAObject{constructor(Dt){super(Mt,"format",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.picture=null}}class Fr extends vt.StringObject{constructor(Dt){super(Mt,"handler"),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class $r extends vt.XFAObject{constructor(Dt){super(Mt,"hyphenation"),this.excludeAllCaps=(0,Ft.getInteger)({data:Dt.excludeAllCaps,defaultValue:0,validate:yn=>yn===1}),this.excludeInitialCap=(0,Ft.getInteger)({data:Dt.excludeInitialCap,defaultValue:0,validate:yn=>yn===1}),this.hyphenate=(0,Ft.getInteger)({data:Dt.hyphenate,defaultValue:0,validate:yn=>yn===1}),this.id=Dt.id||"",this.pushCharacterCount=(0,Ft.getInteger)({data:Dt.pushCharacterCount,defaultValue:3,validate:yn=>yn>=0}),this.remainCharacterCount=(0,Ft.getInteger)({data:Dt.remainCharacterCount,defaultValue:3,validate:yn=>yn>=0}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.wordCharacterCount=(0,Ft.getInteger)({data:Dt.wordCharacterCount,defaultValue:7,validate:yn=>yn>=0})}}class Cr extends vt.StringObject{constructor(Dt){super(Mt,"image"),this.aspect=(0,Ft.getStringOption)(Dt.aspect,["fit","actual","height","none","width"]),this.contentType=Dt.contentType||"",this.href=Dt.href||"",this.id=Dt.id||"",this.name=Dt.name||"",this.transferEncoding=(0,Ft.getStringOption)(Dt.transferEncoding,["base64","none","package"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$toHTML](){if(this.contentType&&!Qt.has(this.contentType.toLowerCase()))return Ft.HTMLResult.EMPTY;let Dt=this[wt.$globalData].images&&this[wt.$globalData].images.get(this.href);if(!Dt&&(this.href||!this[wt.$content])||(!Dt&&this.transferEncoding==="base64"&&(Dt=(0,Ht.stringToBytes)(atob(this[wt.$content]))),!Dt))return Ft.HTMLResult.EMPTY;if(!this.contentType){for(const[Kn,ir]of ln)if(Dt.length>Kn.length&&Kn.every((ar,gr)=>ar===Dt[gr])){this.contentType=ir;break}if(!this.contentType)return Ft.HTMLResult.EMPTY}const yn=new Blob([Dt],{type:this.contentType});let qn;switch(this.aspect){case"fit":case"actual":break;case"height":qn={height:"100%",objectFit:"fill"};break;case"none":qn={width:"100%",height:"100%",objectFit:"fill"};break;case"width":qn={width:"100%",objectFit:"fill"};break}const _i=this[wt.$getParent]();return Ft.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:qn,src:URL.createObjectURL(yn),alt:_i?Ut(_i[wt.$getParent]()):null}})}}class Pr extends vt.XFAObject{constructor(Dt){super(Mt,"imageEdit",!0),this.data=(0,Ft.getStringOption)(Dt.data,["link","embed"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.margin=null}[wt.$toHTML](Dt){return this.data==="embed"?Ft.HTMLResult.success({name:"div",children:[],attributes:{}}):Ft.HTMLResult.EMPTY}}class _r extends vt.ContentObject{constructor(Dt){super(Mt,"integer"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){const Dt=parseInt(this[wt.$content].trim(),10);this[wt.$content]=isNaN(Dt)?null:Dt}[wt.$toHTML](Dt){return Lt(this[wt.$content]!==null?this[wt.$content].toString():"")}}class qr extends vt.XFAObject{constructor(Dt){super(Mt,"issuers",!0),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.certificate=new vt.XFAObjectArray}}class vs extends vt.XFAObject{constructor(Dt){super(Mt,"items",!0),this.id=Dt.id||"",this.name=Dt.name||"",this.presence=(0,Ft.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.ref=Dt.ref||"",this.save=(0,Ft.getInteger)({data:Dt.save,defaultValue:0,validate:yn=>yn===1}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}[wt.$toHTML](){const Dt=[];for(const yn of this[wt.$getChildren]())Dt.push(yn[wt.$text]());return Ft.HTMLResult.success(Dt)}}Ct.Items=vs;class ls extends vt.XFAObject{constructor(Dt){super(Mt,"keep",!0),this.id=Dt.id||"";const yn=["none","contentArea","pageArea"];this.intact=(0,Ft.getStringOption)(Dt.intact,yn),this.next=(0,Ft.getStringOption)(Dt.next,yn),this.previous=(0,Ft.getStringOption)(Dt.previous,yn),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}}class ns extends vt.XFAObject{constructor(Dt){super(Mt,"keyUsage");const yn=["","yes","no"];this.crlSign=(0,Ft.getStringOption)(Dt.crlSign,yn),this.dataEncipherment=(0,Ft.getStringOption)(Dt.dataEncipherment,yn),this.decipherOnly=(0,Ft.getStringOption)(Dt.decipherOnly,yn),this.digitalSignature=(0,Ft.getStringOption)(Dt.digitalSignature,yn),this.encipherOnly=(0,Ft.getStringOption)(Dt.encipherOnly,yn),this.id=Dt.id||"",this.keyAgreement=(0,Ft.getStringOption)(Dt.keyAgreement,yn),this.keyCertSign=(0,Ft.getStringOption)(Dt.keyCertSign,yn),this.keyEncipherment=(0,Ft.getStringOption)(Dt.keyEncipherment,yn),this.nonRepudiation=(0,Ft.getStringOption)(Dt.nonRepudiation,yn),this.type=(0,Ft.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Ns extends vt.XFAObject{constructor(Dt){super(Mt,"line",!0),this.hand=(0,Ft.getStringOption)(Dt.hand,["even","left","right"]),this.id=Dt.id||"",this.slope=(0,Ft.getStringOption)(Dt.slope,["\\","/"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.edge=null}[wt.$toHTML](){const Dt=this[wt.$getParent]()[wt.$getParent](),yn=this.edge||new nr({}),qn=yn[wt.$toStyle](),_i=Object.create(null),Kn=yn.presence==="visible"?yn.thickness:0;_i.strokeWidth=(0,ht.measureToString)(Kn),_i.stroke=qn.color;let ir,ar,gr,mr,br="100%",Mr="100%";Dt.w<=Kn?([ir,ar,gr,mr]=["50%",0,"50%","100%"],br=_i.strokeWidth):Dt.h<=Kn?([ir,ar,gr,mr]=[0,"50%","100%","50%"],Mr=_i.strokeWidth):this.slope==="\\"?[ir,ar,gr,mr]=[0,0,"100%","100%"]:[ir,ar,gr,mr]=[0,"100%","100%",0];const kr={name:"svg",children:[{name:"line",attributes:{xmlns:Bt,x1:ir,y1:ar,x2:gr,y2:mr,style:_i}}],attributes:{xmlns:Bt,width:br,height:Mr,style:{overflow:"visible"}}};return gn(Dt)?Ft.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[kr]}):(kr.attributes.style.position="absolute",Ft.HTMLResult.success(kr))}}class Gs extends vt.XFAObject{constructor(Dt){super(Mt,"linear",!0),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["toRight","toBottom","toLeft","toTop"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Dt){Dt=Dt?Dt[wt.$toStyle]():"#FFFFFF";const yn=this.type.replace(/([RBLT])/," $1").toLowerCase(),qn=this.color?this.color[wt.$toStyle]():"#000000";return`linear-gradient(${yn}, ${Dt}, ${qn})`}}class vr extends vt.ContentObject{constructor(Dt){super(Mt,"lockDocument"),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){this[wt.$content]=(0,Ft.getStringOption)(this[wt.$content],["auto","0","1"])}}class yr extends vt.XFAObject{constructor(Dt){super(Mt,"manifest",!0),this.action=(0,Ft.getStringOption)(Dt.action,["include","all","exclude"]),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.ref=new vt.XFAObjectArray}}class Sr extends vt.XFAObject{constructor(Dt){super(Mt,"margin",!0),this.bottomInset=(0,Ft.getMeasurement)(Dt.bottomInset,"0"),this.id=Dt.id||"",this.leftInset=(0,Ft.getMeasurement)(Dt.leftInset,"0"),this.rightInset=(0,Ft.getMeasurement)(Dt.rightInset,"0"),this.topInset=(0,Ft.getMeasurement)(Dt.topInset,"0"),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}[wt.$toStyle](){return{margin:(0,ht.measureToString)(this.topInset)+" "+(0,ht.measureToString)(this.rightInset)+" "+(0,ht.measureToString)(this.bottomInset)+" "+(0,ht.measureToString)(this.leftInset)}}}class Rr extends vt.XFAObject{constructor(Dt){super(Mt,"mdp"),this.id=Dt.id||"",this.permissions=(0,Ft.getInteger)({data:Dt.permissions,defaultValue:2,validate:yn=>yn===1||yn===3}),this.signatureType=(0,Ft.getStringOption)(Dt.signatureType,["filler","author"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Br extends vt.XFAObject{constructor(Dt){super(Mt,"medium"),this.id=Dt.id||"",this.imagingBBox=(0,Ft.getBBox)(Dt.imagingBBox),this.long=(0,Ft.getMeasurement)(Dt.long),this.orientation=(0,Ft.getStringOption)(Dt.orientation,["portrait","landscape"]),this.short=(0,Ft.getMeasurement)(Dt.short),this.stock=Dt.stock||"",this.trayIn=(0,Ft.getStringOption)(Dt.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,Ft.getStringOption)(Dt.trayOut,["auto","delegate"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class es extends vt.XFAObject{constructor(Dt){super(Mt,"message",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.text=new vt.XFAObjectArray}}class Or extends vt.XFAObject{constructor(Dt){super(Mt,"numericEdit",!0),this.hScrollPolicy=(0,Ft.getStringOption)(Dt.hScrollPolicy,["auto","off","on"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[wt.$toHTML](Dt){var Kn;const yn=(0,ht.toStyle)(this,"border","font","margin"),qn=this[wt.$getParent]()[wt.$getParent](),_i={name:"input",attributes:{type:"text",fieldId:qn[wt.$uid],dataId:((Kn=qn[wt.$data])==null?void 0:Kn[wt.$uid])||qn[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(qn),"aria-required":!1}};return Xt(qn)&&(_i.attributes["aria-required"]=!0,_i.attributes.required=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[_i]})}}class Tr extends vt.XFAObject{constructor(Dt){super(Mt,"occur",!0),this.id=Dt.id||"",this.initial=Dt.initial!==""?(0,Ft.getInteger)({data:Dt.initial,defaultValue:"",validate:yn=>!0}):"",this.max=Dt.max!==""?(0,Ft.getInteger)({data:Dt.max,defaultValue:1,validate:yn=>!0}):"",this.min=Dt.min!==""?(0,Ft.getInteger)({data:Dt.min,defaultValue:1,validate:yn=>!0}):"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}[wt.$clean](){const Dt=this[wt.$getParent](),yn=this.min;this.min===""&&(this.min=Dt instanceof Jr||Dt instanceof ss?0:1),this.max===""&&(yn===""?this.max=Dt instanceof Jr||Dt instanceof ss?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=Dt instanceof Au?1:this.min)}}class Wr extends vt.StringObject{constructor(Dt){super(Mt,"oid"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class us extends vt.XFAObject{constructor(Dt){super(Mt,"oids",!0),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.oid=new vt.XFAObjectArray}}class bs extends vt.XFAObject{constructor(Dt){super(Mt,"overflow"),this.id=Dt.id||"",this.leader=Dt.leader||"",this.target=Dt.target||"",this.trailer=Dt.trailer||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$getExtra](){if(!this[wt.$extra]){const Dt=this[wt.$getParent](),yn=this[wt.$getTemplateRoot](),qn=yn[wt.$searchNode](this.target,Dt),_i=yn[wt.$searchNode](this.leader,Dt),Kn=yn[wt.$searchNode](this.trailer,Dt);this[wt.$extra]={target:(qn==null?void 0:qn[0])||null,leader:(_i==null?void 0:_i[0])||null,trailer:(Kn==null?void 0:Kn[0])||null,addLeader:!1,addTrailer:!1}}return this[wt.$extra]}}class Jr extends vt.XFAObject{constructor(Dt){super(Mt,"pageArea",!0),this.blankOrNotBlank=(0,Ft.getStringOption)(Dt.blankOrNotBlank,["any","blank","notBlank"]),this.id=Dt.id||"",this.initialNumber=(0,Ft.getInteger)({data:Dt.initialNumber,defaultValue:1,validate:yn=>!0}),this.name=Dt.name||"",this.numbered=(0,Ft.getInteger)({data:Dt.numbered,defaultValue:1,validate:yn=>!0}),this.oddOrEven=(0,Ft.getStringOption)(Dt.oddOrEven,["any","even","odd"]),this.pagePosition=(0,Ft.getStringOption)(Dt.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,Ft.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new vt.XFAObjectArray,this.contentArea=new vt.XFAObjectArray,this.draw=new vt.XFAObjectArray,this.exclGroup=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray}[wt.$isUsable](){return this[wt.$extra]?!this.occur||this.occur.max===-1||this[wt.$extra].numberOfUse<this.occur.max:(this[wt.$extra]={numberOfUse:0},!0)}[wt.$cleanPage](){delete this[wt.$extra]}[wt.$getNextPage](){this[wt.$extra]||(this[wt.$extra]={numberOfUse:0});const Dt=this[wt.$getParent]();return Dt.relation==="orderedOccurrence"&&this[wt.$isUsable]()?(this[wt.$extra].numberOfUse+=1,this):Dt[wt.$getNextPage]()}[wt.$getAvailableSpace](){return this[wt.$extra].space||{width:0,height:0}}[wt.$toHTML](){this[wt.$extra]||(this[wt.$extra]={numberOfUse:1});const Dt=[];this[wt.$extra].children=Dt;const yn=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(yn.width=(0,ht.measureToString)(this.medium.short),yn.height=(0,ht.measureToString)(this.medium.long),this[wt.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const qn=yn.width;yn.width=yn.height,yn.height=qn,this[wt.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,Ht.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[wt.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[wt.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),Ft.HTMLResult.success({name:"div",children:Dt,attributes:{class:["xfaPage"],id:this[wt.$uid],style:yn,xfaName:this.name}})}}class ss extends vt.XFAObject{constructor(Dt){super(Mt,"pageSet",!0),this.duplexImposition=(0,Ft.getStringOption)(Dt.duplexImposition,["longEdge","shortEdge"]),this.id=Dt.id||"",this.name=Dt.name||"",this.relation=(0,Ft.getStringOption)(Dt.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,Ft.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.occur=null,this.pageArea=new vt.XFAObjectArray,this.pageSet=new vt.XFAObjectArray}[wt.$cleanPage](){for(const Dt of this.pageArea.children)Dt[wt.$cleanPage]();for(const Dt of this.pageSet.children)Dt[wt.$cleanPage]()}[wt.$isUsable](){return!this.occur||this.occur.max===-1||this[wt.$extra].numberOfUse<this.occur.max}[wt.$getNextPage](){if(this[wt.$extra]||(this[wt.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[wt.$extra].pageIndex+1<this.pageArea.children.length)return this[wt.$extra].pageIndex+=1,this.pageArea.children[this[wt.$extra].pageIndex][wt.$getNextPage]();if(this[wt.$extra].pageSetIndex+1<this.pageSet.children.length)return this[wt.$extra].pageSetIndex+=1,this.pageSet.children[this[wt.$extra].pageSetIndex][wt.$getNextPage]();if(this[wt.$isUsable]())return this[wt.$extra].numberOfUse+=1,this[wt.$extra].pageIndex=-1,this[wt.$extra].pageSetIndex=-1,this[wt.$getNextPage]();const Kn=this[wt.$getParent]();return Kn instanceof ss?Kn[wt.$getNextPage]():(this[wt.$cleanPage](),this[wt.$getNextPage]())}const Dt=this[wt.$getTemplateRoot]()[wt.$extra].pageNumber,yn=Dt%2===0?"even":"odd",qn=Dt===0?"first":"rest";let _i=this.pageArea.children.find(Kn=>Kn.oddOrEven===yn&&Kn.pagePosition===qn);return _i||(_i=this.pageArea.children.find(Kn=>Kn.oddOrEven==="any"&&Kn.pagePosition===qn),_i)||(_i=this.pageArea.children.find(Kn=>Kn.oddOrEven==="any"&&Kn.pagePosition==="any"),_i)?_i:this.pageArea.children[0]}}class ms extends vt.XFAObject{constructor(Dt){super(Mt,"para",!0),this.hAlign=(0,Ft.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.lineHeight=Dt.lineHeight?(0,Ft.getMeasurement)(Dt.lineHeight,"0pt"):"",this.marginLeft=Dt.marginLeft?(0,Ft.getMeasurement)(Dt.marginLeft,"0pt"):"",this.marginRight=Dt.marginRight?(0,Ft.getMeasurement)(Dt.marginRight,"0pt"):"",this.orphans=(0,Ft.getInteger)({data:Dt.orphans,defaultValue:0,validate:yn=>yn>=0}),this.preserve=Dt.preserve||"",this.radixOffset=Dt.radixOffset?(0,Ft.getMeasurement)(Dt.radixOffset,"0pt"):"",this.spaceAbove=Dt.spaceAbove?(0,Ft.getMeasurement)(Dt.spaceAbove,"0pt"):"",this.spaceBelow=Dt.spaceBelow?(0,Ft.getMeasurement)(Dt.spaceBelow,"0pt"):"",this.tabDefault=Dt.tabDefault?(0,Ft.getMeasurement)(this.tabDefault):"",this.tabStops=(Dt.tabStops||"").trim().split(/\s+/).map((yn,qn)=>qn%2===1?(0,Ft.getMeasurement)(yn):yn),this.textIndent=Dt.textIndent?(0,Ft.getMeasurement)(Dt.textIndent,"0pt"):"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.vAlign=(0,Ft.getStringOption)(Dt.vAlign,["top","bottom","middle"]),this.widows=(0,Ft.getInteger)({data:Dt.widows,defaultValue:0,validate:yn=>yn>=0}),this.hyphenation=null}[wt.$toStyle](){const Dt=(0,ht.toStyle)(this,"hAlign");return this.marginLeft!==""&&(Dt.paddingLeft=(0,ht.measureToString)(this.marginLeft)),this.marginRight!==""&&(Dt.paddingight=(0,ht.measureToString)(this.marginRight)),this.spaceAbove!==""&&(Dt.paddingTop=(0,ht.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(Dt.paddingBottom=(0,ht.measureToString)(this.spaceBelow)),this.textIndent!==""&&(Dt.textIndent=(0,ht.measureToString)(this.textIndent),(0,ht.fixTextIndent)(Dt)),this.lineHeight>0&&(Dt.lineHeight=(0,ht.measureToString)(this.lineHeight)),this.tabDefault!==""&&(Dt.tabSize=(0,ht.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(Dt,this.hyphenatation[wt.$toStyle]()),Dt}}class Xr extends vt.XFAObject{constructor(Dt){super(Mt,"passwordEdit",!0),this.hScrollPolicy=(0,Ft.getStringOption)(Dt.hScrollPolicy,["auto","off","on"]),this.id=Dt.id||"",this.passwordChar=Dt.passwordChar||"*",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.margin=null}}class hs extends vt.XFAObject{constructor(Dt){super(Mt,"pattern",!0),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Dt){Dt=Dt?Dt[wt.$toStyle]():"#FFFFFF";const yn=this.color?this.color[wt.$toStyle]():"#000000",qn=5,_i="repeating-linear-gradient",Kn=`${Dt},${Dt} ${qn}px,${yn} ${qn}px,${yn} ${2*qn}px`;switch(this.type){case"crossHatch":return`${_i}(to top,${Kn}) ${_i}(to right,${Kn})`;case"crossDiagonal":return`${_i}(45deg,${Kn}) ${_i}(-45deg,${Kn})`;case"diagonalLeft":return`${_i}(45deg,${Kn})`;case"diagonalRight":return`${_i}(-45deg,${Kn})`;case"horizontal":return`${_i}(to top,${Kn})`;case"vertical":return`${_i}(to right,${Kn})`}return""}}class Vr extends vt.StringObject{constructor(Dt){super(Mt,"picture"),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class gs extends vt.XFAObject{constructor(Dt){super(Mt,"proto",!0),this.appearanceFilter=new vt.XFAObjectArray,this.arc=new vt.XFAObjectArray,this.area=new vt.XFAObjectArray,this.assist=new vt.XFAObjectArray,this.barcode=new vt.XFAObjectArray,this.bindItems=new vt.XFAObjectArray,this.bookend=new vt.XFAObjectArray,this.boolean=new vt.XFAObjectArray,this.border=new vt.XFAObjectArray,this.break=new vt.XFAObjectArray,this.breakAfter=new vt.XFAObjectArray,this.breakBefore=new vt.XFAObjectArray,this.button=new vt.XFAObjectArray,this.calculate=new vt.XFAObjectArray,this.caption=new vt.XFAObjectArray,this.certificate=new vt.XFAObjectArray,this.certificates=new vt.XFAObjectArray,this.checkButton=new vt.XFAObjectArray,this.choiceList=new vt.XFAObjectArray,this.color=new vt.XFAObjectArray,this.comb=new vt.XFAObjectArray,this.connect=new vt.XFAObjectArray,this.contentArea=new vt.XFAObjectArray,this.corner=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.dateTimeEdit=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.defaultUi=new vt.XFAObjectArray,this.desc=new vt.XFAObjectArray,this.digestMethod=new vt.XFAObjectArray,this.digestMethods=new vt.XFAObjectArray,this.draw=new vt.XFAObjectArray,this.edge=new vt.XFAObjectArray,this.encoding=new vt.XFAObjectArray,this.encodings=new vt.XFAObjectArray,this.encrypt=new vt.XFAObjectArray,this.encryptData=new vt.XFAObjectArray,this.encryption=new vt.XFAObjectArray,this.encryptionMethod=new vt.XFAObjectArray,this.encryptionMethods=new vt.XFAObjectArray,this.event=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.exObject=new vt.XFAObjectArray,this.exclGroup=new vt.XFAObjectArray,this.execute=new vt.XFAObjectArray,this.extras=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.fill=new vt.XFAObjectArray,this.filter=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.font=new vt.XFAObjectArray,this.format=new vt.XFAObjectArray,this.handler=new vt.XFAObjectArray,this.hyphenation=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.imageEdit=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.issuers=new vt.XFAObjectArray,this.items=new vt.XFAObjectArray,this.keep=new vt.XFAObjectArray,this.keyUsage=new vt.XFAObjectArray,this.line=new vt.XFAObjectArray,this.linear=new vt.XFAObjectArray,this.lockDocument=new vt.XFAObjectArray,this.manifest=new vt.XFAObjectArray,this.margin=new vt.XFAObjectArray,this.mdp=new vt.XFAObjectArray,this.medium=new vt.XFAObjectArray,this.message=new vt.XFAObjectArray,this.numericEdit=new vt.XFAObjectArray,this.occur=new vt.XFAObjectArray,this.oid=new vt.XFAObjectArray,this.oids=new vt.XFAObjectArray,this.overflow=new vt.XFAObjectArray,this.pageArea=new vt.XFAObjectArray,this.pageSet=new vt.XFAObjectArray,this.para=new vt.XFAObjectArray,this.passwordEdit=new vt.XFAObjectArray,this.pattern=new vt.XFAObjectArray,this.picture=new vt.XFAObjectArray,this.radial=new vt.XFAObjectArray,this.reason=new vt.XFAObjectArray,this.reasons=new vt.XFAObjectArray,this.rectangle=new vt.XFAObjectArray,this.ref=new vt.XFAObjectArray,this.script=new vt.XFAObjectArray,this.setProperty=new vt.XFAObjectArray,this.signData=new vt.XFAObjectArray,this.signature=new vt.XFAObjectArray,this.signing=new vt.XFAObjectArray,this.solid=new vt.XFAObjectArray,this.speak=new vt.XFAObjectArray,this.stipple=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray,this.subformSet=new vt.XFAObjectArray,this.subjectDN=new vt.XFAObjectArray,this.subjectDNs=new vt.XFAObjectArray,this.submit=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.textEdit=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray,this.timeStamp=new vt.XFAObjectArray,this.toolTip=new vt.XFAObjectArray,this.traversal=new vt.XFAObjectArray,this.traverse=new vt.XFAObjectArray,this.ui=new vt.XFAObjectArray,this.validate=new vt.XFAObjectArray,this.value=new vt.XFAObjectArray,this.variables=new vt.XFAObjectArray}}class ws extends vt.XFAObject{constructor(Dt){super(Mt,"radial",!0),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["toEdge","toCenter"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Dt){Dt=Dt?Dt[wt.$toStyle]():"#FFFFFF";const yn=this.color?this.color[wt.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${Dt},${yn}`:`${yn},${Dt}`})`}}class io extends vt.StringObject{constructor(Dt){super(Mt,"reason"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class ds extends vt.XFAObject{constructor(Dt){super(Mt,"reasons",!0),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.reason=new vt.XFAObjectArray}}class fs extends vt.XFAObject{constructor(Dt){super(Mt,"rectangle",!0),this.hand=(0,Ft.getStringOption)(Dt.hand,["even","left","right"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.corner=new vt.XFAObjectArray(4),this.edge=new vt.XFAObjectArray(4),this.fill=null}[wt.$toHTML](){var mr;const Dt=this.edge.children.length?this.edge.children[0]:new nr({}),yn=Dt[wt.$toStyle](),qn=Object.create(null);((mr=this.fill)==null?void 0:mr.presence)==="visible"?Object.assign(qn,this.fill[wt.$toStyle]()):qn.fill="transparent",qn.strokeWidth=(0,ht.measureToString)(Dt.presence==="visible"?Dt.thickness:0),qn.stroke=yn.color;const Kn=(this.corner.children.length?this.corner.children[0]:new Mn({}))[wt.$toStyle](),ar={name:"svg",children:[{name:"rect",attributes:{xmlns:Bt,width:"100%",height:"100%",x:0,y:0,rx:Kn.radius,ry:Kn.radius,style:qn}}],attributes:{xmlns:Bt,style:{overflow:"visible"},width:"100%",height:"100%"}},gr=this[wt.$getParent]()[wt.$getParent]();return gn(gr)?Ft.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[ar]}):(ar.attributes.style.position="absolute",Ft.HTMLResult.success(ar))}}class $s extends vt.StringObject{constructor(Dt){super(Mt,"ref"),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Ys extends vt.StringObject{constructor(Dt){super(Mt,"script"),this.binding=Dt.binding||"",this.contentType=Dt.contentType||"",this.id=Dt.id||"",this.name=Dt.name||"",this.runAt=(0,Ft.getStringOption)(Dt.runAt,["client","both","server"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class wo extends vt.XFAObject{constructor(Dt){super(Mt,"setProperty"),this.connection=Dt.connection||"",this.ref=Dt.ref||"",this.target=Dt.target||""}}Ct.SetProperty=wo;class Tl extends vt.XFAObject{constructor(Dt){super(Mt,"signData",!0),this.id=Dt.id||"",this.operation=(0,Ft.getStringOption)(Dt.operation,["sign","clear","verify"]),this.ref=Dt.ref||"",this.target=Dt.target||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.filter=null,this.manifest=null}}class V1 extends vt.XFAObject{constructor(Dt){super(Mt,"signature",!0),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["PDF1.3","PDF1.6"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Tp extends vt.XFAObject{constructor(Dt){super(Mt,"signing",!0),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.certificate=new vt.XFAObjectArray}}class Pp extends vt.XFAObject{constructor(Dt){super(Mt,"solid",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}[wt.$toStyle](Dt){return Dt?Dt[wt.$toStyle]():"#FFFFFF"}}class z1 extends vt.StringObject{constructor(Dt){super(Mt,"speak"),this.disable=(0,Ft.getInteger)({data:Dt.disable,defaultValue:0,validate:yn=>yn===1}),this.id=Dt.id||"",this.priority=(0,Ft.getStringOption)(Dt.priority,["custom","caption","name","toolTip"]),this.rid=Dt.rid||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class vu extends vt.XFAObject{constructor(Dt){super(Mt,"stipple",!0),this.id=Dt.id||"",this.rate=(0,Ft.getInteger)({data:Dt.rate,defaultValue:50,validate:yn=>yn>=0&&yn<=100}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Dt){const yn=this.rate/100;return Ht.Util.makeHexColor(Math.round(Dt.value.r*(1-yn)+this.value.r*yn),Math.round(Dt.value.g*(1-yn)+this.value.g*yn),Math.round(Dt.value.b*(1-yn)+this.value.b*yn))}}class _p extends vt.XFAObject{constructor(Dt){super(Mt,"subform",!0),this.access=(0,Ft.getStringOption)(Dt.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,Ft.getInteger)({data:Dt.allowMacro,defaultValue:0,validate:yn=>yn===1}),this.anchorType=(0,Ft.getStringOption)(Dt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Ft.getInteger)({data:Dt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.columnWidths=(Dt.columnWidths||"").trim().split(/\s+/).map(yn=>yn==="-1"?-1:(0,Ft.getMeasurement)(yn)),this.h=Dt.h?(0,Ft.getMeasurement)(Dt.h):"",this.hAlign=(0,Ft.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.layout=(0,Ft.getStringOption)(Dt.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=Dt.locale||"",this.maxH=(0,Ft.getMeasurement)(Dt.maxH,"0pt"),this.maxW=(0,Ft.getMeasurement)(Dt.maxW,"0pt"),this.mergeMode=(0,Ft.getStringOption)(Dt.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,Ft.getMeasurement)(Dt.minH,"0pt"),this.minW=(0,Ft.getMeasurement)(Dt.minW,"0pt"),this.name=Dt.name||"",this.presence=(0,Ft.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Dt.relevant),this.restoreState=(0,Ft.getStringOption)(Dt.restoreState,["manual","auto"]),this.scope=(0,Ft.getStringOption)(Dt.scope,["name","none"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=Dt.w?(0,Ft.getMeasurement)(Dt.w):"",this.x=(0,Ft.getMeasurement)(Dt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Dt.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new vt.XFAObjectArray,this.breakAfter=new vt.XFAObjectArray,this.breakBefore=new vt.XFAObjectArray,this.connect=new vt.XFAObjectArray,this.draw=new vt.XFAObjectArray,this.event=new vt.XFAObjectArray,this.exObject=new vt.XFAObjectArray,this.exclGroup=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.proto=new vt.XFAObjectArray,this.setProperty=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray,this.subformSet=new vt.XFAObjectArray}[wt.$getSubformParent](){const Dt=this[wt.$getParent]();return Dt instanceof wu?Dt[wt.$getSubformParent]():Dt}[wt.$isBindable](){return!0}[wt.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine>0||this[wt.$getParent]()[wt.$isThereMoreWidth]()}*[wt.$getContainedChildren](){yield*bn(this)}[wt.$flushHTML](){return(0,Rt.flushHTML)(this)}[wt.$addHTML](Dt,yn){(0,Rt.addHTML)(this,Dt,yn)}[wt.$getAvailableSpace](){return(0,Rt.getAvailableSpace)(this)}[wt.$isSplittable](){var yn;const Dt=this[wt.$getSubformParent]();return Dt[wt.$isSplittable]()?this[wt.$extra]._isSplittable!==void 0?this[wt.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[wt.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[wt.$extra]._isSplittable=!1,!1):(yn=Dt.layout)!=null&&yn.endsWith("-tb")&&Dt[wt.$extra].numberInLine!==0?!1:(this[wt.$extra]._isSplittable=!0,!0):!1}[wt.$toHTML](Dt){var jr;if(Yt(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const Nr=new Pn({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});Nr[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](Nr),this.breakAfter.push(Nr)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const Nr=new Sn({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});Nr[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](Nr),this.breakBefore.push(Nr)}if(this.break.overflowTarget!==""){const Nr=new bs({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});Nr[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](Nr),this.overflow.push(Nr)}this[wt.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return Ft.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,Ht.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const Nr=this.breakBefore.children[0];if(zt(Nr))return Ft.HTMLResult.breakNode(Nr)}if((jr=this[wt.$extra])!=null&&jr.afterBreakAfter)return Ft.HTMLResult.EMPTY;(0,ht.fixDimensions)(this);const yn=[],qn={id:this[wt.$uid],class:[]};(0,ht.setAccess)(this,qn.class),this[wt.$extra]||(this[wt.$extra]=Object.create(null)),Object.assign(this[wt.$extra],{children:yn,line:null,attributes:qn,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,Dt.width),height:Math.min(this.h||1/0,Dt.height)},width:0,height:0,prevHeight:0,currentWidth:0});const _i=this[wt.$getTemplateRoot](),Kn=_i[wt.$extra].noLayoutFailure,ir=this[wt.$isSplittable]();if(ir||Vt(this),!(0,Rt.checkDimensions)(this,Dt))return Ft.HTMLResult.FAILURE;const ar=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const Nr=this[wt.$getSubformParent]().columnWidths;Array.isArray(Nr)&&Nr.length>0&&(this[wt.$extra].columnWidths=Nr,this[wt.$extra].currentColumn=0)}const gr=(0,ht.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),mr=["xfaSubform"],br=(0,ht.layoutClass)(this);if(br&&mr.push(br),qn.style=gr,qn.class=mr,this.name&&(qn.xfaName=this.name),this.overflow){const Nr=this.overflow[wt.$getExtra]();Nr.addLeader&&(Nr.addLeader=!1,Wt(this,Nr.leader,Dt))}this[wt.$pushPara]();const Mr=this.layout==="lr-tb"||this.layout==="rl-tb",Er=Mr?_t:1;for(;this[wt.$extra].attempt<Er;this[wt.$extra].attempt++){Mr&&this[wt.$extra].attempt===_t-1&&(this[wt.$extra].numberInLine=0);const Nr=this[wt.$childrenToHTML]({filter:ar,include:!0});if(Nr.success)break;if(Nr.isBreak())return this[wt.$popPara](),Nr;if(Mr&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine===0&&!_i[wt.$extra].noLayoutFailure){this[wt.$extra].attempt=Er;break}}if(this[wt.$popPara](),ir||an(this),_i[wt.$extra].noLayoutFailure=Kn,this[wt.$extra].attempt===Er)return this.overflow&&(this[wt.$getTemplateRoot]()[wt.$extra].overflowNode=this.overflow),ir||delete this[wt.$extra],Ft.HTMLResult.FAILURE;if(this.overflow){const Nr=this.overflow[wt.$getExtra]();Nr.addTrailer&&(Nr.addTrailer=!1,Wt(this,Nr.trailer,Dt))}let kr=0,ts=0;this.margin&&(kr=this.margin.leftInset+this.margin.rightInset,ts=this.margin.topInset+this.margin.bottomInset);const Ir=Math.max(this[wt.$extra].width+kr,this.w||0),Gr=Math.max(this[wt.$extra].height+ts,this.h||0),zr=[this.x,this.y,Ir,Gr];if(this.w===""&&(gr.width=(0,ht.measureToString)(Ir)),this.h===""&&(gr.height=(0,ht.measureToString)(Gr)),(gr.width==="0px"||gr.height==="0px")&&yn.length===0)return Ft.HTMLResult.EMPTY;const Hr={name:"div",attributes:qn,children:yn};un(this,qn);const Qr=Ft.HTMLResult.success((0,ht.createWrapper)(this,Hr),zr);if(this.breakAfter.children.length>=1){const Nr=this.breakAfter.children[0];if(zt(Nr))return this[wt.$extra].afterBreakAfter=Qr,Ft.HTMLResult.breakNode(Nr)}return delete this[wt.$extra],Qr}}class wu extends vt.XFAObject{constructor(Dt){super(Mt,"subformSet",!0),this.id=Dt.id||"",this.name=Dt.name||"",this.relation=(0,Ft.getStringOption)(Dt.relation,["ordered","choice","unordered"]),this.relevant=(0,Ft.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new vt.XFAObjectArray,this.breakBefore=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray,this.subformSet=new vt.XFAObjectArray}*[wt.$getContainedChildren](){yield*bn(this)}[wt.$getSubformParent](){let Dt=this[wt.$getParent]();for(;!(Dt instanceof _p);)Dt=Dt[wt.$getParent]();return Dt}[wt.$isBindable](){return!0}}class Vl extends vt.ContentObject{constructor(Dt){super(Mt,"subjectDN"),this.delimiter=Dt.delimiter||",",this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){this[wt.$content]=new Map(this[wt.$content].split(this.delimiter).map(Dt=>(Dt=Dt.split("=",2),Dt[0]=Dt[0].trim(),Dt)))}}class X1 extends vt.XFAObject{constructor(Dt){super(Mt,"subjectDNs",!0),this.id=Dt.id||"",this.type=(0,Ft.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.subjectDN=new vt.XFAObjectArray}}class Fp extends vt.XFAObject{constructor(Dt){super(Mt,"submit",!0),this.embedPDF=(0,Ft.getInteger)({data:Dt.embedPDF,defaultValue:0,validate:yn=>yn===1}),this.format=(0,Ft.getStringOption)(Dt.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=Dt.id||"",this.target=Dt.target||"",this.textEncoding=(0,Ft.getKeyword)({data:Dt.textEncoding?Dt.textEncoding.toLowerCase():"",defaultValue:"",validate:yn=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(yn)||yn.match(/iso-8859-\d{2}/)}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.xdpContent=Dt.xdpContent||"",this.encrypt=null,this.encryptData=new vt.XFAObjectArray,this.signData=new vt.XFAObjectArray}}class Au extends vt.XFAObject{constructor(Dt){super(Mt,"template",!0),this.baseProfile=(0,Ft.getStringOption)(Dt.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new vt.XFAObjectArray}[wt.$finalize](){this.subform.children.length===0&&(0,Ht.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,Ht.warn)("XFA - Several subforms in template node: please file a bug."),this[wt.$tabIndex]=jt}[wt.$isSplittable](){return!0}[wt.$searchNode](Dt,yn){return Dt.startsWith("#")?[this[wt.$ids].get(Dt.slice(1))]:(0,$t.searchNode)(this,yn,Dt,!0,!0)}*[wt.$toPages](){var ts,Ir,Gr;if(!this.subform.children.length)return Ft.HTMLResult.success({name:"div",children:[]});this[wt.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const Dt=this.subform.children[0];Dt.pageSet[wt.$cleanPage]();const yn=Dt.pageSet.pageArea.children,qn={name:"div",children:[]};let _i=null,Kn=null,ir=null;if(Dt.breakBefore.children.length>=1?(Kn=Dt.breakBefore.children[0],ir=Kn.target):Dt.subform.children.length>=1&&Dt.subform.children[0].breakBefore.children.length>=1?(Kn=Dt.subform.children[0].breakBefore.children[0],ir=Kn.target):(ts=Dt.break)!=null&&ts.beforeTarget?(Kn=Dt.break,ir=Kn.beforeTarget):Dt.subform.children.length>=1&&((Ir=Dt.subform.children[0].break)!=null&&Ir.beforeTarget)&&(Kn=Dt.subform.children[0].break,ir=Kn.beforeTarget),Kn){const zr=this[wt.$searchNode](ir,Kn[wt.$getParent]());zr instanceof Jr&&(_i=zr,Kn[wt.$extra]={})}_i||(_i=yn[0]),_i[wt.$extra]={numberOfUse:1};const ar=_i[wt.$getParent]();ar[wt.$extra]={numberOfUse:1,pageIndex:ar.pageArea.children.indexOf(_i),pageSetIndex:0};let gr,mr=null,br=null,Mr=!0,Er=0,kr=0;for(;;){if(Mr)Er=0;else if(qn.children.pop(),++Er===Kt)return(0,Ht.warn)("XFA - Something goes wrong: please file a bug."),qn;gr=null,this[wt.$extra].currentPageArea=_i;const zr=_i[wt.$toHTML]().html;qn.children.push(zr),mr&&(this[wt.$extra].noLayoutFailure=!0,zr.children.push(mr[wt.$toHTML](_i[wt.$extra].space).html),mr=null),br&&(this[wt.$extra].noLayoutFailure=!0,zr.children.push(br[wt.$toHTML](_i[wt.$extra].space).html),br=null);const Hr=_i.contentArea.children,Qr=zr.children.filter(Nr=>Nr.attributes.class.includes("xfaContentarea"));Mr=!1,this[wt.$extra].firstUnsplittable=null,this[wt.$extra].noLayoutFailure=!1;const jr=Nr=>{var ks;const Cs=Dt[wt.$flushHTML]();Cs&&(Mr||(Mr=((ks=Cs.children)==null?void 0:ks.length)>0),Qr[Nr].children.push(Cs))};for(let Nr=kr,Cs=Hr.length;Nr<Cs;Nr++){const ks=this[wt.$extra].currentContentArea=Hr[Nr],Fs={width:ks.w,height:ks.h};kr=0,mr&&(Qr[Nr].children.push(mr[wt.$toHTML](Fs).html),mr=null),br&&(Qr[Nr].children.push(br[wt.$toHTML](Fs).html),br=null);const _s=Dt[wt.$toHTML](Fs);if(_s.success)return _s.html?(Mr||(Mr=((Gr=_s.html.children)==null?void 0:Gr.length)>0),Qr[Nr].children.push(_s.html)):!Mr&&qn.children.length>1&&qn.children.pop(),qn;if(_s.isBreak()){const Ms=_s.breakNode;if(jr(Nr),Ms.targetType==="auto")continue;Ms.leader&&(mr=this[wt.$searchNode](Ms.leader,Ms[wt.$getParent]()),mr=mr?mr[0]:null),Ms.trailer&&(br=this[wt.$searchNode](Ms.trailer,Ms[wt.$getParent]()),br=br?br[0]:null),Ms.targetType==="pageArea"?(gr=Ms[wt.$extra].target,Nr=1/0):Ms[wt.$extra].target?(gr=Ms[wt.$extra].target,kr=Ms[wt.$extra].index+1,Nr=1/0):Nr=Ms[wt.$extra].index;continue}if(this[wt.$extra].overflowNode){const Ms=this[wt.$extra].overflowNode;this[wt.$extra].overflowNode=null;const Us=Ms[wt.$getExtra](),Zs=Us.target;Us.addLeader=Us.leader!==null,Us.addTrailer=Us.trailer!==null,jr(Nr);const eo=Nr;if(Nr=1/0,Zs instanceof Jr)gr=Zs;else if(Zs instanceof Tn){const Js=Hr.indexOf(Zs);Js!==-1?Js>eo?Nr=Js-1:kr=Js:(gr=Zs[wt.$getParent](),kr=gr.contentArea.children.indexOf(Zs))}continue}jr(Nr)}this[wt.$extra].pageNumber+=1,gr&&(gr[wt.$isUsable]()?gr[wt.$extra].numberOfUse+=1:gr=null),_i=gr||_i[wt.$getNextPage](),yield null}}}Ct.Template=Au;class c0 extends vt.ContentObject{constructor(Dt){super(Mt,"text"),this.id=Dt.id||"",this.maxChars=(0,Ft.getInteger)({data:Dt.maxChars,defaultValue:0,validate:yn=>yn>=0}),this.name=Dt.name||"",this.rid=Dt.rid||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$acceptWhitespace](){return!0}[wt.$onChild](Dt){return Dt[wt.$namespaceId]===kt.NamespaceIds.xhtml.id?(this[wt.$content]=Dt,!0):((0,Ht.warn)(`XFA - Invalid content in Text: ${Dt[wt.$nodeName]}.`),!1)}[wt.$onText](Dt){this[wt.$content]instanceof vt.XFAObject||super[wt.$onText](Dt)}[wt.$finalize](){typeof this[wt.$content]=="string"&&(this[wt.$content]=this[wt.$content].replaceAll(`\r
`,`
`))}[wt.$getExtra](){return typeof this[wt.$content]=="string"?this[wt.$content].split(/[\u2029\u2028\n]/).reduce((Dt,yn)=>(yn&&Dt.push(yn),Dt),[]).join(`
`):this[wt.$content][wt.$text]()}[wt.$toHTML](Dt){if(typeof this[wt.$content]=="string"){const yn=Lt(this[wt.$content]).html;return this[wt.$content].includes("\u2029")?(yn.name="div",yn.children=[],this[wt.$content].split("\u2029").map(qn=>qn.split(/[\u2028\n]/).reduce((_i,Kn)=>(_i.push({name:"span",value:Kn},{name:"br"}),_i),[])).forEach(qn=>{yn.children.push({name:"p",children:qn})})):/[\u2028\n]/.test(this[wt.$content])&&(yn.name="div",yn.children=[],this[wt.$content].split(/[\u2028\n]/).forEach(qn=>{yn.children.push({name:"span",value:qn},{name:"br"})})),Ft.HTMLResult.success(yn)}return this[wt.$content][wt.$toHTML](Dt)}}Ct.Text=c0;class V0 extends vt.XFAObject{constructor(Dt){super(Mt,"textEdit",!0),this.allowRichText=(0,Ft.getInteger)({data:Dt.allowRichText,defaultValue:0,validate:yn=>yn===1}),this.hScrollPolicy=(0,Ft.getStringOption)(Dt.hScrollPolicy,["auto","off","on"]),this.id=Dt.id||"",this.multiLine=(0,Ft.getInteger)({data:Dt.multiLine,defaultValue:"",validate:yn=>yn===0||yn===1}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.vScrollPolicy=(0,Ft.getStringOption)(Dt.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[wt.$toHTML](Dt){var Kn,ir;const yn=(0,ht.toStyle)(this,"border","font","margin");let qn;const _i=this[wt.$getParent]()[wt.$getParent]();return this.multiLine===""&&(this.multiLine=_i instanceof zn?1:0),this.multiLine===1?qn={name:"textarea",attributes:{dataId:((Kn=_i[wt.$data])==null?void 0:Kn[wt.$uid])||_i[wt.$uid],fieldId:_i[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(_i),"aria-required":!1}}:qn={name:"input",attributes:{type:"text",dataId:((ir=_i[wt.$data])==null?void 0:ir[wt.$uid])||_i[wt.$uid],fieldId:_i[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(_i),"aria-required":!1}},Xt(_i)&&(qn.attributes["aria-required"]=!0,qn.attributes.required=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[qn]})}}class W1 extends vt.StringObject{constructor(Dt){super(Mt,"time"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){const Dt=this[wt.$content].trim();this[wt.$content]=Dt?new Date(Dt):null}[wt.$toHTML](Dt){return Lt(this[wt.$content]?this[wt.$content].toString():"")}}class Rp extends vt.XFAObject{constructor(Dt){super(Mt,"timeStamp"),this.id=Dt.id||"",this.server=Dt.server||"",this.type=(0,Ft.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Mp extends vt.StringObject{constructor(Dt){super(Mt,"toolTip"),this.id=Dt.id||"",this.rid=Dt.rid||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Su extends vt.XFAObject{constructor(Dt){super(Mt,"traversal",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.traverse=new vt.XFAObjectArray}}class G1 extends vt.XFAObject{constructor(Dt){super(Mt,"traverse",!0),this.id=Dt.id||"",this.operation=(0,Ft.getStringOption)(Dt.operation,["next","back","down","first","left","right","up"]),this.ref=Dt.ref||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[wt.$isTransparent](){return!1}}class Cu extends vt.XFAObject{constructor(Dt){super(Mt,"ui",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[wt.$getExtra](){if(this[wt.$extra]===void 0){for(const Dt of Object.getOwnPropertyNames(this)){if(Dt==="extras"||Dt==="picture")continue;const yn=this[Dt];if(yn instanceof vt.XFAObject)return this[wt.$extra]=yn,yn}this[wt.$extra]=null}return this[wt.$extra]}[wt.$toHTML](Dt){const yn=this[wt.$getExtra]();return yn?yn[wt.$toHTML](Dt):Ft.HTMLResult.EMPTY}}class q1 extends vt.XFAObject{constructor(Dt){super(Mt,"validate",!0),this.formatTest=(0,Ft.getStringOption)(Dt.formatTest,["warning","disabled","error"]),this.id=Dt.id||"",this.nullTest=(0,Ft.getStringOption)(Dt.nullTest,["disabled","error","warning"]),this.scriptTest=(0,Ft.getStringOption)(Dt.scriptTest,["error","disabled","warning"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class Bn extends vt.XFAObject{constructor(Dt){super(Mt,"value",!0),this.id=Dt.id||"",this.override=(0,Ft.getInteger)({data:Dt.override,defaultValue:0,validate:yn=>yn===1}),this.relevant=(0,Ft.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[wt.$setValue](Dt){var _i;const yn=this[wt.$getParent]();if(yn instanceof or&&(_i=yn.ui)!=null&&_i.imageEdit){this.image||(this.image=new Cr({}),this[wt.$appendChild](this.image)),this.image[wt.$content]=Dt[wt.$content];return}const qn=Dt[wt.$nodeName];if(this[qn]!==null){this[qn][wt.$content]=Dt[wt.$content];return}for(const Kn of Object.getOwnPropertyNames(this)){const ir=this[Kn];ir instanceof vt.XFAObject&&(this[Kn]=null,this[wt.$removeChild](ir))}this[Dt[wt.$nodeName]]=Dt,this[wt.$appendChild](Dt)}[wt.$text](){if(this.exData)return typeof this.exData[wt.$content]=="string"?this.exData[wt.$content].trim():this.exData[wt.$content][wt.$text]().trim();for(const Dt of Object.getOwnPropertyNames(this)){if(Dt==="image")continue;const yn=this[Dt];if(yn instanceof vt.XFAObject)return(yn[wt.$content]||"").toString().trim()}return null}[wt.$toHTML](Dt){for(const yn of Object.getOwnPropertyNames(this)){const qn=this[yn];if(qn instanceof vt.XFAObject)return qn[wt.$toHTML](Dt)}return Ft.HTMLResult.EMPTY}}Ct.Value=Bn;class Gn extends vt.XFAObject{constructor(Dt){super(Mt,"variables",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.manifest=new vt.XFAObjectArray,this.script=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}[wt.$isTransparent](){return!0}}class rr{static[kt.$buildXFAObject](Dt,yn){if(rr.hasOwnProperty(Dt)){const qn=rr[Dt](yn);return qn[wt.$setSetAttributes](yn),qn}}static appearanceFilter(Dt){return new nn(Dt)}static arc(Dt){return new dn(Dt)}static area(Dt){return new on(Dt)}static assist(Dt){return new hn(Dt)}static barcode(Dt){return new sn(Dt)}static bind(Dt){return new rn(Dt)}static bindItems(Dt){return new xn(Dt)}static bookend(Dt){return new vn(Dt)}static boolean(Dt){return new kn(Dt)}static border(Dt){return new Fn(Dt)}static break(Dt){return new On(Dt)}static breakAfter(Dt){return new Pn(Dt)}static breakBefore(Dt){return new Sn(Dt)}static button(Dt){return new mn(Dt)}static calculate(Dt){return new fn(Dt)}static caption(Dt){return new Jt(Dt)}static certificate(Dt){return new cn(Dt)}static certificates(Dt){return new pn(Dt)}static checkButton(Dt){return new wn(Dt)}static choiceList(Dt){return new En(Dt)}static color(Dt){return new _n(Dt)}static comb(Dt){return new Cn(Dt)}static connect(Dt){return new An(Dt)}static contentArea(Dt){return new Tn(Dt)}static corner(Dt){return new Mn(Dt)}static date(Dt){return new Rn(Dt)}static dateTime(Dt){return new Ln(Dt)}static dateTimeEdit(Dt){return new Dn(Dt)}static decimal(Dt){return new Un(Dt)}static defaultUi(Dt){return new tr(Dt)}static desc(Dt){return new er(Dt)}static digestMethod(Dt){return new Qn(Dt)}static digestMethods(Dt){return new Yn(Dt)}static draw(Dt){return new zn(Dt)}static edge(Dt){return new nr(Dt)}static encoding(Dt){return new lr(Dt)}static encodings(Dt){return new dr(Dt)}static encrypt(Dt){return new jn(Dt)}static encryptData(Dt){return new Hn(Dt)}static encryption(Dt){return new Xn(Dt)}static encryptionMethod(Dt){return new cr(Dt)}static encryptionMethods(Dt){return new sr(Dt)}static event(Dt){return new xr(Dt)}static exData(Dt){return new Jn(Dt)}static exObject(Dt){return new Wn(Dt)}static exclGroup(Dt){return new Zn(Dt)}static execute(Dt){return new ur(Dt)}static extras(Dt){return new hr(Dt)}static field(Dt){return new or(Dt)}static fill(Dt){return new pr(Dt)}static filter(Dt){return new wr(Dt)}static float(Dt){return new fr(Dt)}static font(Dt){return new Ar(Dt)}static format(Dt){return new Dr(Dt)}static handler(Dt){return new Fr(Dt)}static hyphenation(Dt){return new $r(Dt)}static image(Dt){return new Cr(Dt)}static imageEdit(Dt){return new Pr(Dt)}static integer(Dt){return new _r(Dt)}static issuers(Dt){return new qr(Dt)}static items(Dt){return new vs(Dt)}static keep(Dt){return new ls(Dt)}static keyUsage(Dt){return new ns(Dt)}static line(Dt){return new Ns(Dt)}static linear(Dt){return new Gs(Dt)}static lockDocument(Dt){return new vr(Dt)}static manifest(Dt){return new yr(Dt)}static margin(Dt){return new Sr(Dt)}static mdp(Dt){return new Rr(Dt)}static medium(Dt){return new Br(Dt)}static message(Dt){return new es(Dt)}static numericEdit(Dt){return new Or(Dt)}static occur(Dt){return new Tr(Dt)}static oid(Dt){return new Wr(Dt)}static oids(Dt){return new us(Dt)}static overflow(Dt){return new bs(Dt)}static pageArea(Dt){return new Jr(Dt)}static pageSet(Dt){return new ss(Dt)}static para(Dt){return new ms(Dt)}static passwordEdit(Dt){return new Xr(Dt)}static pattern(Dt){return new hs(Dt)}static picture(Dt){return new Vr(Dt)}static proto(Dt){return new gs(Dt)}static radial(Dt){return new ws(Dt)}static reason(Dt){return new io(Dt)}static reasons(Dt){return new ds(Dt)}static rectangle(Dt){return new fs(Dt)}static ref(Dt){return new $s(Dt)}static script(Dt){return new Ys(Dt)}static setProperty(Dt){return new wo(Dt)}static signData(Dt){return new Tl(Dt)}static signature(Dt){return new V1(Dt)}static signing(Dt){return new Tp(Dt)}static solid(Dt){return new Pp(Dt)}static speak(Dt){return new z1(Dt)}static stipple(Dt){return new vu(Dt)}static subform(Dt){return new _p(Dt)}static subformSet(Dt){return new wu(Dt)}static subjectDN(Dt){return new Vl(Dt)}static subjectDNs(Dt){return new X1(Dt)}static submit(Dt){return new Fp(Dt)}static template(Dt){return new Au(Dt)}static text(Dt){return new c0(Dt)}static textEdit(Dt){return new V0(Dt)}static time(Dt){return new W1(Dt)}static timeStamp(Dt){return new Rp(Dt)}static toolTip(Dt){return new Mp(Dt)}static traversal(Dt){return new Su(Dt)}static traverse(Dt){return new G1(Dt)}static ui(Dt){return new Cu(Dt)}static validate(Dt){return new q1(Dt)}static value(Dt){return new Bn(Dt)}static variables(Dt){return new Gn(Dt)}}Ct.TemplateNamespace=rr},(Et,Ct)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.NamespaceIds=Ct.$buildXFAObject=void 0;const Pt=Symbol();Ct.$buildXFAObject=Pt;const wt={config:{id:0,check:kt=>kt.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:kt=>kt.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:kt=>kt.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:kt=>kt.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:kt=>kt.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:kt=>kt==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:kt=>kt==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:kt=>kt.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:kt=>kt==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:kt=>kt.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:kt=>kt.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:kt=>kt==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:kt=>kt==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:kt=>kt==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:kt=>kt==="http://ns.adobe.com/xmpmeta/"}};Ct.NamespaceIds=wt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.addHTML=vt,Ct.checkDimensions=qt,Ct.flushHTML=ht,Ct.getAvailableSpace=Ft;var wt=Pt(78),kt=Pt(83);function Rt(Nt,$t){return{name:"div",attributes:{class:[Nt.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:$t}}function ht(Nt){if(!Nt[wt.$extra])return null;const Mt={name:"div",attributes:Nt[wt.$extra].attributes,children:Nt[wt.$extra].children};if(Nt[wt.$extra].failingNode){const Bt=Nt[wt.$extra].failingNode[wt.$flushHTML]();Bt&&(Nt.layout.endsWith("-tb")?Mt.children.push(Rt(Nt,[Bt])):Mt.children.push(Bt))}return Mt.children.length===0?null:Mt}function vt(Nt,$t,Mt){const Bt=Nt[wt.$extra],_t=Bt.availableSpace,[Kt,jt,Gt,Qt]=Mt;switch(Nt.layout){case"position":{Bt.width=Math.max(Bt.width,Kt+Gt),Bt.height=Math.max(Bt.height,jt+Qt),Bt.children.push($t);break}case"lr-tb":case"rl-tb":(!Bt.line||Bt.attempt===1)&&(Bt.line=Rt(Nt,[]),Bt.children.push(Bt.line),Bt.numberInLine=0),Bt.numberInLine+=1,Bt.line.children.push($t),Bt.attempt===0?(Bt.currentWidth+=Gt,Bt.height=Math.max(Bt.height,Bt.prevHeight+Qt)):(Bt.currentWidth=Gt,Bt.prevHeight=Bt.height,Bt.height+=Qt,Bt.attempt=0),Bt.width=Math.max(Bt.width,Bt.currentWidth);break;case"rl-row":case"row":{Bt.children.push($t),Bt.width+=Gt,Bt.height=Math.max(Bt.height,Qt);const ln=(0,kt.measureToString)(Bt.height);for(const en of Bt.children)en.attributes.style.height=ln;break}case"table":{Bt.width=Math.min(_t.width,Math.max(Bt.width,Gt)),Bt.height+=Qt,Bt.children.push($t);break}case"tb":{Bt.width=Math.min(_t.width,Math.max(Bt.width,Gt)),Bt.height+=Qt,Bt.children.push($t);break}}}function Ft(Nt){const $t=Nt[wt.$extra].availableSpace,Mt=Nt.margin?Nt.margin.topInset+Nt.margin.bottomInset:0,Bt=Nt.margin?Nt.margin.leftInset+Nt.margin.rightInset:0;switch(Nt.layout){case"lr-tb":case"rl-tb":return Nt[wt.$extra].attempt===0?{width:$t.width-Bt-Nt[wt.$extra].currentWidth,height:$t.height-Mt-Nt[wt.$extra].prevHeight}:{width:$t.width-Bt,height:$t.height-Mt-Nt[wt.$extra].height};case"rl-row":case"row":return{width:Nt[wt.$extra].columnWidths.slice(Nt[wt.$extra].currentColumn).reduce((Kt,jt)=>Kt+jt),height:$t.height-Bt};case"table":case"tb":return{width:$t.width-Bt,height:$t.height-Mt-Nt[wt.$extra].height};case"position":default:return $t}}function Ht(Nt){let $t=Nt.w===""?NaN:Nt.w,Mt=Nt.h===""?NaN:Nt.h,[Bt,_t]=[0,0];switch(Nt.anchorType||""){case"bottomCenter":[Bt,_t]=[$t/2,Mt];break;case"bottomLeft":[Bt,_t]=[0,Mt];break;case"bottomRight":[Bt,_t]=[$t,Mt];break;case"middleCenter":[Bt,_t]=[$t/2,Mt/2];break;case"middleLeft":[Bt,_t]=[0,Mt/2];break;case"middleRight":[Bt,_t]=[$t,Mt/2];break;case"topCenter":[Bt,_t]=[$t/2,0];break;case"topRight":[Bt,_t]=[$t,0];break}let Kt,jt;switch(Nt.rotate||0){case 0:[Kt,jt]=[-Bt,-_t];break;case 90:[Kt,jt]=[-_t,Bt],[$t,Mt]=[Mt,-$t];break;case 180:[Kt,jt]=[Bt,_t],[$t,Mt]=[-$t,-Mt];break;case 270:[Kt,jt]=[_t,-Bt],[$t,Mt]=[-Mt,$t];break}return[Nt.x+Kt+Math.min(0,$t),Nt.y+jt+Math.min(0,Mt),Math.abs($t),Math.abs(Mt)]}function qt(Nt,$t){var Qt;if(Nt[wt.$getTemplateRoot]()[wt.$extra].firstUnsplittable===null||Nt.w===0||Nt.h===0)return!0;const Mt=2,Bt=Nt[wt.$getSubformParent](),_t=((Qt=Bt[wt.$extra])==null?void 0:Qt.attempt)||0,[,Kt,jt,Gt]=Ht(Nt);switch(Bt.layout){case"lr-tb":case"rl-tb":return _t===0?Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?Nt.w!==""?Math.round(jt-$t.width)<=Mt:$t.width>Mt:Nt.h!==""&&Math.round(Gt-$t.height)>Mt?!1:Nt.w!==""?Math.round(jt-$t.width)<=Mt?!0:Bt[wt.$extra].numberInLine===0?$t.height>Mt:!1:$t.width>Mt:Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?!0:Nt.h!==""&&Math.round(Gt-$t.height)>Mt?!1:Nt.w===""||Math.round(jt-$t.width)<=Mt?$t.height>Mt:Bt[wt.$isThereMoreWidth]()?!1:$t.height>Mt;case"table":case"tb":return Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?!0:Nt.h!==""&&!Nt[wt.$isSplittable]()?Math.round(Gt-$t.height)<=Mt:Nt.w===""||Math.round(jt-$t.width)<=Mt?$t.height>Mt:Bt[wt.$isThereMoreWidth]()?!1:$t.height>Mt;case"position":if(Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure||Nt.h===""||Math.round(Gt+Kt-$t.height)<=Mt)return!0;const ln=Nt[wt.$getTemplateRoot]()[wt.$extra].currentContentArea;return Gt+Kt>ln.h;case"rl-row":case"row":return Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?!0:Nt.h!==""?Math.round(Gt-$t.height)<=Mt:!0;default:return!0}}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.computeBbox=Bt,Ct.createWrapper=Gt,Ct.fixDimensions=_t,Ct.fixTextIndent=Qt,Ct.fixURL=Xt,Ct.isPrintOnly=en,Ct.layoutClass=Kt,Ct.layoutNode=Mt,Ct.measureToString=Ht,Ct.setAccess=ln,Ct.setFontFamily=bn,Ct.setMinMaxDimensions=Nt,Ct.setPara=tn,Ct.toStyle=jt;var wt=Pt(78),kt=Pt(2),Rt=Pt(84),ht=Pt(85),vt=Pt(86),Ft=Pt(87);function Ht(Yt){return typeof Yt=="string"?"0px":Number.isInteger(Yt)?`${Yt}px`:`${Yt.toFixed(2)}px`}const qt={anchorType(Yt,un){const Ut=Yt[wt.$getSubformParent]();if(!(!Ut||Ut.layout&&Ut.layout!=="position"))switch("transform"in un||(un.transform=""),Yt.anchorType){case"bottomCenter":un.transform+="translate(-50%, -100%)";break;case"bottomLeft":un.transform+="translate(0,-100%)";break;case"bottomRight":un.transform+="translate(-100%,-100%)";break;case"middleCenter":un.transform+="translate(-50%,-50%)";break;case"middleLeft":un.transform+="translate(0,-50%)";break;case"middleRight":un.transform+="translate(-100%,-50%)";break;case"topCenter":un.transform+="translate(-50%,0)";break;case"topRight":un.transform+="translate(-100%,0)";break}},dimensions(Yt,un){var an;const Ut=Yt[wt.$getSubformParent]();let Lt=Yt.w;const Vt=Yt.h;if((an=Ut.layout)!=null&&an.includes("row")){const zt=Ut[wt.$extra],Wt=Yt.colSpan;let nn;Wt===-1?(nn=zt.columnWidths.slice(zt.currentColumn).reduce((dn,on)=>dn+on,0),zt.currentColumn=0):(nn=zt.columnWidths.slice(zt.currentColumn,zt.currentColumn+Wt).reduce((dn,on)=>dn+on,0),zt.currentColumn=(zt.currentColumn+Yt.colSpan)%zt.columnWidths.length),isNaN(nn)||(Lt=Yt.w=nn)}un.width=Lt!==""?Ht(Lt):"auto",un.height=Vt!==""?Ht(Vt):"auto"},position(Yt,un){const Ut=Yt[wt.$getSubformParent]();Ut!=null&&Ut.layout&&Ut.layout!=="position"||(un.position="absolute",un.left=Ht(Yt.x),un.top=Ht(Yt.y))},rotate(Yt,un){Yt.rotate&&("transform"in un||(un.transform=""),un.transform+=`rotate(-${Yt.rotate}deg)`,un.transformOrigin="top left")},presence(Yt,un){switch(Yt.presence){case"invisible":un.visibility="hidden";break;case"hidden":case"inactive":un.display="none";break}},hAlign(Yt,un){if(Yt[wt.$nodeName]==="para")switch(Yt.hAlign){case"justifyAll":un.textAlign="justify-all";break;case"radix":un.textAlign="left";break;default:un.textAlign=Yt.hAlign}else switch(Yt.hAlign){case"left":un.alignSelf="start";break;case"center":un.alignSelf="center";break;case"right":un.alignSelf="end";break}},margin(Yt,un){Yt.margin&&(un.margin=Yt.margin[wt.$toStyle]().margin)}};function Nt(Yt,un){Yt[wt.$getSubformParent]().layout==="position"&&(Yt.minW>0&&(un.minWidth=Ht(Yt.minW)),Yt.maxW>0&&(un.maxWidth=Ht(Yt.maxW)),Yt.minH>0&&(un.minHeight=Ht(Yt.minH)),Yt.maxH>0&&(un.maxHeight=Ht(Yt.maxH)))}function $t(Yt,un,Ut,Lt,Vt,an){const zt=new vt.TextMeasure(un,Ut,Lt,Vt);return typeof Yt=="string"?zt.addString(Yt):Yt[wt.$pushGlyphs](zt),zt.compute(an)}function Mt(Yt,un){let Ut=null,Lt=null,Vt=!1;if((!Yt.w||!Yt.h)&&Yt.value){let an=0,zt=0;Yt.margin&&(an=Yt.margin.leftInset+Yt.margin.rightInset,zt=Yt.margin.topInset+Yt.margin.bottomInset);let Wt=null,nn=null;Yt.para&&(nn=Object.create(null),Wt=Yt.para.lineHeight===""?null:Yt.para.lineHeight,nn.top=Yt.para.spaceAbove===""?0:Yt.para.spaceAbove,nn.bottom=Yt.para.spaceBelow===""?0:Yt.para.spaceBelow,nn.left=Yt.para.marginLeft===""?0:Yt.para.marginLeft,nn.right=Yt.para.marginRight===""?0:Yt.para.marginRight);let dn=Yt.font;if(!dn){const sn=Yt[wt.$getTemplateRoot]();let rn=Yt[wt.$getParent]();for(;rn&&rn!==sn;){if(rn.font){dn=rn.font;break}rn=rn[wt.$getParent]()}}const on=(Yt.w||un.width)-an,hn=Yt[wt.$globalData].fontFinder;if(Yt.value.exData&&Yt.value.exData[wt.$content]&&Yt.value.exData.contentType==="text/html"){const sn=$t(Yt.value.exData[wt.$content],dn,nn,Wt,hn,on);Lt=sn.width,Ut=sn.height,Vt=sn.isBroken}else{const sn=Yt.value[wt.$text]();if(sn){const rn=$t(sn,dn,nn,Wt,hn,on);Lt=rn.width,Ut=rn.height,Vt=rn.isBroken}}Lt!==null&&!Yt.w&&(Lt+=an),Ut!==null&&!Yt.h&&(Ut+=zt)}return{w:Lt,h:Ut,isBroken:Vt}}function Bt(Yt,un,Ut){let Lt;if(Yt.w!==""&&Yt.h!=="")Lt=[Yt.x,Yt.y,Yt.w,Yt.h];else{if(!Ut)return null;let Vt=Yt.w;if(Vt===""){if(Yt.maxW===0){const zt=Yt[wt.$getSubformParent]();Vt=zt.layout==="position"&&zt.w!==""?0:Yt.minW}else Vt=Math.min(Yt.maxW,Ut.width);un.attributes.style.width=Ht(Vt)}let an=Yt.h;if(an===""){if(Yt.maxH===0){const zt=Yt[wt.$getSubformParent]();an=zt.layout==="position"&&zt.h!==""?0:Yt.minH}else an=Math.min(Yt.maxH,Ut.height);un.attributes.style.height=Ht(an)}Lt=[Yt.x,Yt.y,Vt,an]}return Lt}function _t(Yt){var Ut;const un=Yt[wt.$getSubformParent]();if((Ut=un.layout)!=null&&Ut.includes("row")){const Lt=un[wt.$extra],Vt=Yt.colSpan;let an;Vt===-1?an=Lt.columnWidths.slice(Lt.currentColumn).reduce((zt,Wt)=>zt+Wt,0):an=Lt.columnWidths.slice(Lt.currentColumn,Lt.currentColumn+Vt).reduce((zt,Wt)=>zt+Wt,0),isNaN(an)||(Yt.w=an)}un.layout&&un.layout!=="position"&&(Yt.x=Yt.y=0),Yt.layout==="table"&&Yt.w===""&&Array.isArray(Yt.columnWidths)&&(Yt.w=Yt.columnWidths.reduce((Lt,Vt)=>Lt+Vt,0))}function Kt(Yt){switch(Yt.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function jt(Yt,...un){const Ut=Object.create(null);for(const Lt of un){const Vt=Yt[Lt];if(Vt!==null){if(qt.hasOwnProperty(Lt)){qt[Lt](Yt,Ut);continue}if(Vt instanceof Ft.XFAObject){const an=Vt[wt.$toStyle]();an?Object.assign(Ut,an):(0,kt.warn)(`(DEBUG) - XFA - style for ${Lt} not implemented yet`)}}}return Ut}function Gt(Yt,un){const{attributes:Ut}=un,{style:Lt}=Ut,Vt={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(Ut.class.push("xfaWrapped"),Yt.border){const{widths:an,insets:zt}=Yt.border[wt.$extra];let Wt,nn,dn=zt[0],on=zt[3];const hn=zt[0]+zt[2],sn=zt[1]+zt[3];switch(Yt.border.hand){case"even":dn-=an[0]/2,on-=an[3]/2,Wt=`calc(100% + ${(an[1]+an[3])/2-sn}px)`,nn=`calc(100% + ${(an[0]+an[2])/2-hn}px)`;break;case"left":dn-=an[0],on-=an[3],Wt=`calc(100% + ${an[1]+an[3]-sn}px)`,nn=`calc(100% + ${an[0]+an[2]-hn}px)`;break;case"right":Wt=sn?`calc(100% - ${sn}px)`:"100%",nn=hn?`calc(100% - ${hn}px)`:"100%";break}const rn=["xfaBorder"];en(Yt.border)&&rn.push("xfaPrintOnly");const xn={name:"div",attributes:{class:rn,style:{top:`${dn}px`,left:`${on}px`,width:Wt,height:nn}},children:[]};for(const vn of["border","borderWidth","borderColor","borderRadius","borderStyle"])Lt[vn]!==void 0&&(xn.attributes.style[vn]=Lt[vn],delete Lt[vn]);Vt.children.push(xn,un)}else Vt.children.push(un);for(const an of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])Lt[an]!==void 0&&(Vt.attributes.style[an]=Lt[an],delete Lt[an]);return Vt.attributes.style.position=Lt.position==="absolute"?"absolute":"relative",delete Lt.position,Lt.alignSelf&&(Vt.attributes.style.alignSelf=Lt.alignSelf,delete Lt.alignSelf),Vt}function Qt(Yt){const un=(0,Rt.getMeasurement)(Yt.textIndent,"0px");if(un>=0)return;const Lt="padding"+((Yt.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),Vt=(0,Rt.getMeasurement)(Yt[Lt],"0px");Yt[Lt]=`${Vt-un}px`}function ln(Yt,un){switch(Yt.access){case"nonInteractive":un.push("xfaNonInteractive");break;case"readOnly":un.push("xfaReadOnly");break;case"protected":un.push("xfaDisabled");break}}function en(Yt){return Yt.relevant.length>0&&!Yt.relevant[0].excluded&&Yt.relevant[0].viewname==="print"}function gn(Yt){const un=Yt[wt.$getTemplateRoot]()[wt.$extra].paraStack;return un.length?un.at(-1):null}function tn(Yt,un,Ut){var Lt;if((Lt=Ut.attributes.class)!=null&&Lt.includes("xfaRich")){un&&(Yt.h===""&&(un.height="auto"),Yt.w===""&&(un.width="auto"));const Vt=gn(Yt);if(Vt){const an=Ut.attributes.style;switch(an.display="flex",an.flexDirection="column",Vt.vAlign){case"top":an.justifyContent="start";break;case"bottom":an.justifyContent="end";break;case"middle":an.justifyContent="center";break}const zt=Vt[wt.$toStyle]();for(const[Wt,nn]of Object.entries(zt))Wt in an||(an[Wt]=nn)}}}function bn(Yt,un,Ut,Lt){if(!Ut){delete Lt.fontFamily;return}const Vt=(0,Rt.stripQuotes)(Yt.typeface);Lt.fontFamily=`"${Vt}"`;const an=Ut.find(Vt);if(an){const{fontFamily:zt}=an.regular.cssFontInfo;zt!==Vt&&(Lt.fontFamily=`"${zt}"`);const Wt=gn(un);if(Wt&&Wt.lineHeight!==""||Lt.lineHeight)return;const nn=(0,ht.selectFont)(Yt,an);nn&&(Lt.lineHeight=Math.max(1.2,nn.lineHeight))}}function Xt(Yt){const un=(0,kt.createValidAbsoluteUrl)(Yt,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return un?un.href:null}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.HTMLResult=void 0,Ct.getBBox=_t,Ct.getColor=Bt,Ct.getFloat=Ft,Ct.getInteger=vt,Ct.getKeyword=Ht,Ct.getMeasurement=Nt,Ct.getRatio=$t,Ct.getRelevant=Mt,Ct.getStringOption=qt,Ct.stripQuotes=ht;var wt=Pt(2);const kt={pt:jt=>jt,cm:jt=>jt/2.54*72,mm:jt=>jt/(10*2.54)*72,in:jt=>jt*72,px:jt=>jt},Rt=/([+-]?\d+\.?\d*)(.*)/;function ht(jt){return jt.startsWith("'")||jt.startsWith('"')?jt.slice(1,-1):jt}function vt({data:jt,defaultValue:Gt,validate:Qt}){if(!jt)return Gt;jt=jt.trim();const ln=parseInt(jt,10);return!isNaN(ln)&&Qt(ln)?ln:Gt}function Ft({data:jt,defaultValue:Gt,validate:Qt}){if(!jt)return Gt;jt=jt.trim();const ln=parseFloat(jt);return!isNaN(ln)&&Qt(ln)?ln:Gt}function Ht({data:jt,defaultValue:Gt,validate:Qt}){return jt?(jt=jt.trim(),Qt(jt)?jt:Gt):Gt}function qt(jt,Gt){return Ht({data:jt,defaultValue:Gt[0],validate:Qt=>Gt.includes(Qt)})}function Nt(jt,Gt="0"){if(Gt||(Gt="0"),!jt)return Nt(Gt);const Qt=jt.trim().match(Rt);if(!Qt)return Nt(Gt);const[,ln,en]=Qt,gn=parseFloat(ln);if(isNaN(gn))return Nt(Gt);if(gn===0)return 0;const tn=kt[en];return tn?tn(gn):gn}function $t(jt){if(!jt)return{num:1,den:1};const Gt=jt.trim().split(/\s*:\s*/).map(en=>parseFloat(en)).filter(en=>!isNaN(en));if(Gt.length===1&&Gt.push(1),Gt.length===0)return{num:1,den:1};const[Qt,ln]=Gt;return{num:Qt,den:ln}}function Mt(jt){return jt?jt.trim().split(/\s+/).map(Gt=>({excluded:Gt[0]==="-",viewname:Gt.substring(1)})):[]}function Bt(jt,Gt=[0,0,0]){let[Qt,ln,en]=Gt;if(!jt)return{r:Qt,g:ln,b:en};const gn=jt.trim().split(/\s*,\s*/).map(tn=>Math.min(Math.max(0,parseInt(tn.trim(),10)),255)).map(tn=>isNaN(tn)?0:tn);return gn.length<3?{r:Qt,g:ln,b:en}:([Qt,ln,en]=gn,{r:Qt,g:ln,b:en})}function _t(jt){if(!jt)return{x:-1,y:-1,width:-1,height:-1};const Qt=jt.trim().split(/\s*,\s*/).map(bn=>Nt(bn,"-1"));if(Qt.length<4||Qt[2]<0||Qt[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[ln,en,gn,tn]=Qt;return{x:ln,y:en,width:gn,height:tn}}class Kt{static get FAILURE(){return(0,wt.shadow)(this,"FAILURE",new Kt(!1,null,null,null))}static get EMPTY(){return(0,wt.shadow)(this,"EMPTY",new Kt(!0,null,null,null))}constructor(Gt,Qt,ln,en){this.success=Gt,this.html=Qt,this.bbox=ln,this.breakNode=en}isBreak(){return!!this.breakNode}static breakNode(Gt){return new Kt(!1,null,null,Gt)}static success(Gt,Qt=null){return new Kt(!0,Gt,Qt,null)}}Ct.HTMLResult=Kt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.FontFinder=void 0,Ct.getMetrics=Ft,Ct.selectFont=vt;var wt=Pt(78),kt=Pt(84),Rt=Pt(2);class ht{constructor(qt){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(qt)}add(qt,Nt=null){for(const Mt of qt)this.addPdfFont(Mt);for(const Mt of this.fonts.values())Mt.regular||(Mt.regular=Mt.italic||Mt.bold||Mt.bolditalic);if(!Nt||Nt.size===0)return;const $t=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const Mt of Nt)this.fonts.set(Mt,$t)}addPdfFont(qt){var Kt,jt,Gt;const Nt=qt.cssFontInfo,$t=Nt.fontFamily;let Mt=this.fonts.get($t);Mt||(Mt=Object.create(null),this.fonts.set($t,Mt),this.defaultFont||(this.defaultFont=Mt));let Bt="";const _t=parseFloat(Nt.fontWeight);parseFloat(Nt.italicAngle)!==0?Bt=_t>=700?"bolditalic":"italic":_t>=700&&(Bt="bold"),Bt||((qt.name.includes("Bold")||(Kt=qt.psName)!=null&&Kt.includes("Bold"))&&(Bt="bold"),(qt.name.includes("Italic")||qt.name.endsWith("It")||(jt=qt.psName)!=null&&jt.includes("Italic")||(Gt=qt.psName)!=null&&Gt.endsWith("It"))&&(Bt+="italic")),Bt||(Bt="regular"),Mt[Bt]=qt}getDefault(){return this.defaultFont}find(qt,Nt=!0){var Kt,jt;let $t=this.fonts.get(qt)||this.cache.get(qt);if($t)return $t;const Mt=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let Bt=qt.replaceAll(Mt,"");if($t=this.fonts.get(Bt),$t)return this.cache.set(qt,$t),$t;Bt=Bt.toLowerCase();const _t=[];for(const[Gt,Qt]of this.fonts.entries())Gt.replaceAll(Mt,"").toLowerCase().startsWith(Bt)&&_t.push(Qt);if(_t.length===0)for(const[,Gt]of this.fonts.entries())(Kt=Gt.regular.name)!=null&&Kt.replaceAll(Mt,"").toLowerCase().startsWith(Bt)&&_t.push(Gt);if(_t.length===0){Bt=Bt.replaceAll(/psmt|mt/gi,"");for(const[Gt,Qt]of this.fonts.entries())Gt.replaceAll(Mt,"").toLowerCase().startsWith(Bt)&&_t.push(Qt)}if(_t.length===0)for(const Gt of this.fonts.values())(jt=Gt.regular.name)!=null&&jt.replaceAll(Mt,"").toLowerCase().startsWith(Bt)&&_t.push(Gt);return _t.length>=1?(_t.length!==1&&Nt&&(0,Rt.warn)(`XFA - Too many choices to guess the correct font: ${qt}`),this.cache.set(qt,_t[0]),_t[0]):(Nt&&!this.warned.has(qt)&&(this.warned.add(qt),(0,Rt.warn)(`XFA - Cannot find the font: ${qt}`)),null)}}Ct.FontFinder=ht;function vt(Ht,qt){return Ht.posture==="italic"?Ht.weight==="bold"?qt.bolditalic:qt.italic:Ht.weight==="bold"?qt.bold:qt.regular}function Ft(Ht,qt=!1){let Nt=null;if(Ht){const _t=(0,kt.stripQuotes)(Ht.typeface),Kt=Ht[wt.$globalData].fontFinder.find(_t);Nt=vt(Ht,Kt)}if(!Nt)return{lineHeight:12,lineGap:2,lineNoGap:10};const $t=Ht.size||10,Mt=Nt.lineHeight?Math.max(qt?0:1.2,Nt.lineHeight):1.2,Bt=Nt.lineGap===void 0?.2:Nt.lineGap;return{lineHeight:Mt*$t,lineGap:Bt*$t,lineNoGap:Math.max(1,Mt-Bt)*$t}}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.TextMeasure=void 0;var wt=Pt(85);const kt=1.02;class Rt{constructor(Ht,qt,Nt,$t){if(this.lineHeight=Nt,this.paraMargin=qt||{top:0,bottom:0,left:0,right:0},!Ht){[this.pdfFont,this.xfaFont]=this.defaultFont($t);return}this.xfaFont={typeface:Ht.typeface,posture:Ht.posture,weight:Ht.weight,size:Ht.size,letterSpacing:Ht.letterSpacing};const Mt=$t.find(Ht.typeface);if(!Mt){[this.pdfFont,this.xfaFont]=this.defaultFont($t);return}this.pdfFont=(0,wt.selectFont)(Ht,Mt),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont($t))}defaultFont(Ht){const qt=Ht.find("Helvetica",!1)||Ht.find("Myriad Pro",!1)||Ht.find("Arial",!1)||Ht.getDefault();if(qt!=null&&qt.regular){const $t=qt.regular,Bt={typeface:$t.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[$t,Bt]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class ht{constructor(Ht,qt,Nt,$t){this.fontFinder=$t,this.stack=[new Rt(Ht,qt,Nt,$t)]}pushData(Ht,qt,Nt){const $t=this.stack.at(-1);for(const Bt of["typeface","posture","weight","size","letterSpacing"])Ht[Bt]||(Ht[Bt]=$t.xfaFont[Bt]);for(const Bt of["top","bottom","left","right"])isNaN(qt[Bt])&&(qt[Bt]=$t.paraMargin[Bt]);const Mt=new Rt(Ht,qt,Nt||$t.lineHeight,this.fontFinder);Mt.pdfFont||(Mt.pdfFont=$t.pdfFont),this.stack.push(Mt)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class vt{constructor(Ht,qt,Nt,$t){this.glyphs=[],this.fontSelector=new ht(Ht,qt,Nt,$t),this.extraHeight=0}pushData(Ht,qt,Nt){this.fontSelector.pushData(Ht,qt,Nt)}popFont(Ht){return this.fontSelector.popFont()}addPara(){const Ht=this.fontSelector.topFont();this.extraHeight+=Ht.paraMargin.top+Ht.paraMargin.bottom}addString(Ht){if(!Ht)return;const qt=this.fontSelector.topFont(),Nt=qt.xfaFont.size;if(qt.pdfFont){const $t=qt.xfaFont.letterSpacing,Mt=qt.pdfFont,Bt=Mt.lineHeight||1.2,_t=qt.lineHeight||Math.max(1.2,Bt)*Nt,Kt=Mt.lineGap===void 0?.2:Mt.lineGap,jt=Bt-Kt,Gt=Math.max(1,jt)*Nt,Qt=Nt/1e3,ln=Mt.defaultWidth||Mt.charsToGlyphs(" ")[0].width;for(const en of Ht.split(/[\u2029\n]/)){const gn=Mt.encodeString(en).join(""),tn=Mt.charsToGlyphs(gn);for(const bn of tn){const Xt=bn.width||ln;this.glyphs.push([Xt*Qt+$t,_t,Gt,bn.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const $t of Ht.split(/[\u2029\n]/)){for(const Mt of $t.split(""))this.glyphs.push([Nt,1.2*Nt,Nt,Mt,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(Ht){let qt=-1,Nt=0,$t=0,Mt=0,Bt=0,_t=0,Kt=!1,jt=!0;for(let Gt=0,Qt=this.glyphs.length;Gt<Qt;Gt++){const[ln,en,gn,tn,bn]=this.glyphs[Gt],Xt=tn===" ",Yt=jt?gn:en;if(bn){$t=Math.max($t,Bt),Bt=0,Mt+=_t,_t=Yt,qt=-1,Nt=0,jt=!1;continue}if(Xt){Bt+ln>Ht?($t=Math.max($t,Bt),Bt=0,Mt+=_t,_t=Yt,qt=-1,Nt=0,Kt=!0,jt=!1):(_t=Math.max(Yt,_t),Nt=Bt,Bt+=ln,qt=Gt);continue}if(Bt+ln>Ht){Mt+=_t,_t=Yt,qt!==-1?(Gt=qt,$t=Math.max($t,Nt),Bt=0,qt=-1,Nt=0):($t=Math.max($t,Bt),Bt=ln),Kt=!0,jt=!1;continue}Bt+=ln,_t=Math.max(Yt,_t)}return $t=Math.max($t,Bt),Mt+=_t+this.extraHeight,{width:kt*$t,height:Mt,isBroken:Kt}}}Ct.TextMeasure=vt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.XmlObject=Ct.XFAObjectArray=Ct.XFAObject=Ct.XFAAttribute=Ct.StringObject=Ct.OptionObject=Ct.Option10=Ct.Option01=Ct.IntegerObject=Ct.ContentObject=void 0;var wt=Pt(78),kt=Pt(84),Rt=Pt(2),ht=Pt(3),vt=Pt(81),Ft=Pt(88);const Ht=Symbol(),qt=Symbol(),Nt=Symbol(),$t=Symbol("_children"),Mt=Symbol(),Bt=Symbol(),_t=Symbol(),Kt=Symbol(),jt=Symbol(),Gt=Symbol(),Qt=Symbol(),ln=Symbol(),en=Symbol(),gn=Symbol("parent"),tn=Symbol(),bn=Symbol(),Xt=Symbol();let Yt=0;const un=vt.NamespaceIds.datasets.id;class Ut{constructor(rn,xn,vn=!1){this[wt.$namespaceId]=rn,this[wt.$nodeName]=xn,this[Qt]=vn,this[gn]=null,this[$t]=[],this[wt.$uid]=`${xn}${Yt++}`,this[wt.$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(rn){let xn=this,vn=null;for(const{name:kn,index:Fn}of rn){for(let On=0,Pn=isFinite(Fn)?Fn:0;On<=Pn;On++){const Sn=xn[wt.$namespaceId]===un?-1:xn[wt.$namespaceId];vn=new an(Sn,kn),xn[wt.$appendChild](vn)}xn=vn}return vn}[wt.$onChild](rn){if(!this[Qt]||!this[wt.$onChildCheck](rn))return!1;const xn=rn[wt.$nodeName],vn=this[xn];if(vn instanceof Lt){if(vn.push(rn))return this[wt.$appendChild](rn),!0}else return vn!==null&&this[wt.$removeChild](vn),this[xn]=rn,this[wt.$appendChild](rn),!0;let kn="";return this.id?kn=` (id: ${this.id})`:this.name&&(kn=` (name: ${this.name} ${this.h.value})`),(0,Rt.warn)(`XFA - node "${this[wt.$nodeName]}"${kn} has already enough "${xn}"!`),!1}[wt.$onChildCheck](rn){return this.hasOwnProperty(rn[wt.$nodeName])&&rn[wt.$namespaceId]===this[wt.$namespaceId]}[wt.$isNsAgnostic](){return!1}[wt.$acceptWhitespace](){return!1}[wt.$isCDATAXml](){return!1}[wt.$isBindable](){return!1}[wt.$popPara](){this.para&&this[wt.$getTemplateRoot]()[wt.$extra].paraStack.pop()}[wt.$pushPara](){this[wt.$getTemplateRoot]()[wt.$extra].paraStack.push(this.para)}[wt.$setId](rn){this.id&&this[wt.$namespaceId]===vt.NamespaceIds.template.id&&rn.set(this.id,this)}[wt.$getTemplateRoot](){return this[wt.$globalData].template}[wt.$isSplittable](){return!1}[wt.$isThereMoreWidth](){return!1}[wt.$appendChild](rn){rn[gn]=this,this[$t].push(rn),!rn[wt.$globalData]&&this[wt.$globalData]&&(rn[wt.$globalData]=this[wt.$globalData])}[wt.$removeChild](rn){const xn=this[$t].indexOf(rn);this[$t].splice(xn,1)}[wt.$hasSettableValue](){return this.hasOwnProperty("value")}[wt.$setValue](rn){}[wt.$onText](rn){}[wt.$finalize](){}[wt.$clean](rn){delete this[Qt],this[wt.$cleanup]&&(rn.clean(this[wt.$cleanup]),delete this[wt.$cleanup])}[wt.$indexOf](rn){return this[$t].indexOf(rn)}[wt.$insertAt](rn,xn){xn[gn]=this,this[$t].splice(rn,0,xn),!xn[wt.$globalData]&&this[wt.$globalData]&&(xn[wt.$globalData]=this[wt.$globalData])}[wt.$isTransparent](){return!this.name}[wt.$lastAttribute](){return""}[wt.$text](){return this[$t].length===0?this[wt.$content]:this[$t].map(rn=>rn[wt.$text]()).join("")}get[Nt](){const rn=Object.getPrototypeOf(this);if(!rn._attributes){const xn=rn._attributes=new Set;for(const vn of Object.getOwnPropertyNames(this)){if(this[vn]===null||this[vn]instanceof Ut||this[vn]instanceof Lt)break;xn.add(vn)}}return(0,Rt.shadow)(this,Nt,rn._attributes)}[wt.$isDescendent](rn){let xn=this;for(;xn;){if(xn===rn)return!0;xn=xn[wt.$getParent]()}return!1}[wt.$getParent](){return this[gn]}[wt.$getSubformParent](){return this[wt.$getParent]()}[wt.$getChildren](rn=null){return rn?this[rn]:this[$t]}[wt.$dump](){const rn=Object.create(null);this[wt.$content]&&(rn.$content=this[wt.$content]);for(const xn of Object.getOwnPropertyNames(this)){const vn=this[xn];vn!==null&&(vn instanceof Ut?rn[xn]=vn[wt.$dump]():vn instanceof Lt?vn.isEmpty()||(rn[xn]=vn.dump()):rn[xn]=vn)}return rn}[wt.$toStyle](){return null}[wt.$toHTML](){return kt.HTMLResult.EMPTY}*[wt.$getContainedChildren](){for(const rn of this[wt.$getChildren]())yield rn}*[Kt](rn,xn){for(const vn of this[wt.$getContainedChildren]())if(!rn||xn===rn.has(vn[wt.$nodeName])){const kn=this[wt.$getAvailableSpace](),Fn=vn[wt.$toHTML](kn);Fn.success||(this[wt.$extra].failingNode=vn),yield Fn}}[wt.$flushHTML](){return null}[wt.$addHTML](rn,xn){this[wt.$extra].children.push(rn)}[wt.$getAvailableSpace](){}[wt.$childrenToHTML]({filter:rn=null,include:xn=!0}){if(!this[wt.$extra].generator)this[wt.$extra].generator=this[Kt](rn,xn);else{const vn=this[wt.$getAvailableSpace](),kn=this[wt.$extra].failingNode[wt.$toHTML](vn);if(!kn.success)return kn;kn.html&&this[wt.$addHTML](kn.html,kn.bbox),delete this[wt.$extra].failingNode}for(;;){const vn=this[wt.$extra].generator.next();if(vn.done)break;const kn=vn.value;if(!kn.success)return kn;kn.html&&this[wt.$addHTML](kn.html,kn.bbox)}return this[wt.$extra].generator=null,kt.HTMLResult.EMPTY}[wt.$setSetAttributes](rn){this[bn]=new Set(Object.keys(rn))}[Gt](rn){const xn=this[Nt],vn=this[bn];return[...rn].filter(kn=>xn.has(kn)&&!vn.has(kn))}[wt.$resolvePrototypes](rn,xn=new Set){for(const vn of this[$t])vn[tn](rn,xn)}[tn](rn,xn){const vn=this[jt](rn,xn);vn?this[Ht](vn,rn,xn):this[wt.$resolvePrototypes](rn,xn)}[jt](rn,xn){const{use:vn,usehref:kn}=this;if(!vn&&!kn)return null;let Fn=null,On=null,Pn=null,Sn=vn;if(kn?(Sn=kn,kn.startsWith("#som(")&&kn.endsWith(")")?On=kn.slice(5,-1):kn.startsWith(".#som(")&&kn.endsWith(")")?On=kn.slice(6,-1):kn.startsWith("#")?Pn=kn.slice(1):kn.startsWith(".#")&&(Pn=kn.slice(2))):vn.startsWith("#")?Pn=vn.slice(1):On=vn,this.use=this.usehref="",Pn?Fn=rn.get(Pn):(Fn=(0,Ft.searchNode)(rn.get(wt.$root),this,On,!0,!1),Fn&&(Fn=Fn[0])),!Fn)return(0,Rt.warn)(`XFA - Invalid prototype reference: ${Sn}.`),null;if(Fn[wt.$nodeName]!==this[wt.$nodeName])return(0,Rt.warn)(`XFA - Incompatible prototype: ${Fn[wt.$nodeName]} !== ${this[wt.$nodeName]}.`),null;if(xn.has(Fn))return(0,Rt.warn)("XFA - Cycle detected in prototypes use."),null;xn.add(Fn);const mn=Fn[jt](rn,xn);return mn&&Fn[Ht](mn,rn,xn),Fn[wt.$resolvePrototypes](rn,xn),xn.delete(Fn),Fn}[Ht](rn,xn,vn){if(vn.has(rn)){(0,Rt.warn)("XFA - Cycle detected in prototypes use.");return}!this[wt.$content]&&rn[wt.$content]&&(this[wt.$content]=rn[wt.$content]),new Set(vn).add(rn);for(const Fn of this[Gt](rn[bn]))this[Fn]=rn[Fn],this[bn]&&this[bn].add(Fn);for(const Fn of Object.getOwnPropertyNames(this)){if(this[Nt].has(Fn))continue;const On=this[Fn],Pn=rn[Fn];if(On instanceof Lt){for(const Sn of On[$t])Sn[tn](xn,vn);for(let Sn=On[$t].length,mn=Pn[$t].length;Sn<mn;Sn++){const fn=rn[$t][Sn][wt.$clone]();if(On.push(fn))fn[gn]=this,this[$t].push(fn),fn[tn](xn,vn);else break}continue}if(On!==null){On[wt.$resolvePrototypes](xn,vn),Pn&&On[Ht](Pn,xn,vn);continue}if(Pn!==null){const Sn=Pn[wt.$clone]();Sn[gn]=this,this[Fn]=Sn,this[$t].push(Sn),Sn[tn](xn,vn)}}}static[Mt](rn){return Array.isArray(rn)?rn.map(xn=>Ut[Mt](xn)):typeof rn=="object"&&rn!==null?Object.assign({},rn):rn}[wt.$clone](){const rn=Object.create(Object.getPrototypeOf(this));for(const xn of Object.getOwnPropertySymbols(this))try{rn[xn]=this[xn]}catch{(0,Rt.shadow)(rn,xn,this[xn])}rn[wt.$uid]=`${rn[wt.$nodeName]}${Yt++}`,rn[$t]=[];for(const xn of Object.getOwnPropertyNames(this)){if(this[Nt].has(xn)){rn[xn]=Ut[Mt](this[xn]);continue}const vn=this[xn];rn[xn]=vn instanceof Lt?new Lt(vn[ln]):null}for(const xn of this[$t]){const vn=xn[wt.$nodeName],kn=xn[wt.$clone]();rn[$t].push(kn),kn[gn]=rn,rn[vn]===null?rn[vn]=kn:rn[vn][$t].push(kn)}return rn}[wt.$getChildren](rn=null){return rn?this[$t].filter(xn=>xn[wt.$nodeName]===rn):this[$t]}[wt.$getChildrenByClass](rn){return this[rn]}[wt.$getChildrenByName](rn,xn,vn=!0){return Array.from(this[wt.$getChildrenByNameIt](rn,xn,vn))}*[wt.$getChildrenByNameIt](rn,xn,vn=!0){if(rn==="parent"){yield this[gn];return}for(const kn of this[$t])kn[wt.$nodeName]===rn&&(yield kn),kn.name===rn&&(yield kn),(xn||kn[wt.$isTransparent]())&&(yield*kn[wt.$getChildrenByNameIt](rn,xn,!1));vn&&this[Nt].has(rn)&&(yield new Vt(this,rn,this[rn]))}}Ct.XFAObject=Ut;class Lt{constructor(rn=1/0){this[ln]=rn,this[$t]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(rn){return this[$t].length<=this[ln]?(this[$t].push(rn),!0):((0,Rt.warn)(`XFA - node "${rn[wt.$nodeName]}" accepts no more than ${this[ln]} children`),!1)}isEmpty(){return this[$t].length===0}dump(){return this[$t].length===1?this[$t][0][wt.$dump]():this[$t].map(rn=>rn[wt.$dump]())}[wt.$clone](){const rn=new Lt(this[ln]);return rn[$t]=this[$t].map(xn=>xn[wt.$clone]()),rn}get children(){return this[$t]}clear(){this[$t].length=0}}Ct.XFAObjectArray=Lt;class Vt{constructor(rn,xn,vn){this[gn]=rn,this[wt.$nodeName]=xn,this[wt.$content]=vn,this[wt.$consumed]=!1,this[wt.$uid]=`attribute${Yt++}`}[wt.$getParent](){return this[gn]}[wt.$isDataValue](){return!0}[wt.$getDataValue](){return this[wt.$content].trim()}[wt.$setValue](rn){rn=rn.value||"",this[wt.$content]=rn.toString()}[wt.$text](){return this[wt.$content]}[wt.$isDescendent](rn){return this[gn]===rn||this[gn][wt.$isDescendent](rn)}}Ct.XFAAttribute=Vt;class an extends Ut{constructor(rn,xn,vn={}){if(super(rn,xn),this[wt.$content]="",this[Bt]=null,xn!=="#text"){const kn=new Map;this[qt]=kn;for(const[Fn,On]of Object.entries(vn))kn.set(Fn,new Vt(this,Fn,On));if(vn.hasOwnProperty(wt.$nsAttributes)){const Fn=vn[wt.$nsAttributes].xfa.dataNode;Fn!==void 0&&(Fn==="dataGroup"?this[Bt]=!1:Fn==="dataValue"&&(this[Bt]=!0))}}this[wt.$consumed]=!1}[wt.$toString](rn){const xn=this[wt.$nodeName];if(xn==="#text"){rn.push((0,ht.encodeToXmlString)(this[wt.$content]));return}const vn=(0,Rt.utf8StringToString)(xn),kn=this[wt.$namespaceId]===un?"xfa:":"";rn.push(`<${kn}${vn}`);for(const[Fn,On]of this[qt].entries()){const Pn=(0,Rt.utf8StringToString)(Fn);rn.push(` ${Pn}="${(0,ht.encodeToXmlString)(On[wt.$content])}"`)}if(this[Bt]!==null&&(this[Bt]?rn.push(' xfa:dataNode="dataValue"'):rn.push(' xfa:dataNode="dataGroup"')),!this[wt.$content]&&this[$t].length===0){rn.push("/>");return}if(rn.push(">"),this[wt.$content])typeof this[wt.$content]=="string"?rn.push((0,ht.encodeToXmlString)(this[wt.$content])):this[wt.$content][wt.$toString](rn);else for(const Fn of this[$t])Fn[wt.$toString](rn);rn.push(`</${kn}${vn}>`)}[wt.$onChild](rn){if(this[wt.$content]){const xn=new an(this[wt.$namespaceId],"#text");this[wt.$appendChild](xn),xn[wt.$content]=this[wt.$content],this[wt.$content]=""}return this[wt.$appendChild](rn),!0}[wt.$onText](rn){this[wt.$content]+=rn}[wt.$finalize](){if(this[wt.$content]&&this[$t].length>0){const rn=new an(this[wt.$namespaceId],"#text");this[wt.$appendChild](rn),rn[wt.$content]=this[wt.$content],delete this[wt.$content]}}[wt.$toHTML](){return this[wt.$nodeName]==="#text"?kt.HTMLResult.success({name:"#text",value:this[wt.$content]}):kt.HTMLResult.EMPTY}[wt.$getChildren](rn=null){return rn?this[$t].filter(xn=>xn[wt.$nodeName]===rn):this[$t]}[wt.$getAttributes](){return this[qt]}[wt.$getChildrenByClass](rn){const xn=this[qt].get(rn);return xn!==void 0?xn:this[wt.$getChildren](rn)}*[wt.$getChildrenByNameIt](rn,xn){const vn=this[qt].get(rn);vn&&(yield vn);for(const kn of this[$t])kn[wt.$nodeName]===rn&&(yield kn),xn&&(yield*kn[wt.$getChildrenByNameIt](rn,xn))}*[wt.$getAttributeIt](rn,xn){const vn=this[qt].get(rn);vn&&(!xn||!vn[wt.$consumed])&&(yield vn);for(const kn of this[$t])yield*kn[wt.$getAttributeIt](rn,xn)}*[wt.$getRealChildrenByNameIt](rn,xn,vn){for(const kn of this[$t])kn[wt.$nodeName]===rn&&(!vn||!kn[wt.$consumed])&&(yield kn),xn&&(yield*kn[wt.$getRealChildrenByNameIt](rn,xn,vn))}[wt.$isDataValue](){return this[Bt]===null?this[$t].length===0||this[$t][0][wt.$namespaceId]===vt.NamespaceIds.xhtml.id:this[Bt]}[wt.$getDataValue](){return this[Bt]===null?this[$t].length===0?this[wt.$content].trim():this[$t][0][wt.$namespaceId]===vt.NamespaceIds.xhtml.id?this[$t][0][wt.$text]().trim():null:this[wt.$content].trim()}[wt.$setValue](rn){rn=rn.value||"",this[wt.$content]=rn.toString()}[wt.$dump](rn=!1){const xn=Object.create(null);rn&&(xn.$ns=this[wt.$namespaceId]),this[wt.$content]&&(xn.$content=this[wt.$content]),xn.$name=this[wt.$nodeName],xn.children=[];for(const vn of this[$t])xn.children.push(vn[wt.$dump](rn));xn.attributes=Object.create(null);for(const[vn,kn]of this[qt])xn.attributes[vn]=kn[wt.$content];return xn}}Ct.XmlObject=an;class zt extends Ut{constructor(rn,xn){super(rn,xn),this[wt.$content]=""}[wt.$onText](rn){this[wt.$content]+=rn}[wt.$finalize](){}}Ct.ContentObject=zt;class Wt extends zt{constructor(rn,xn,vn){super(rn,xn),this[en]=vn}[wt.$finalize](){this[wt.$content]=(0,kt.getKeyword)({data:this[wt.$content],defaultValue:this[en][0],validate:rn=>this[en].includes(rn)})}[wt.$clean](rn){super[wt.$clean](rn),delete this[en]}}Ct.OptionObject=Wt;class nn extends zt{[wt.$finalize](){this[wt.$content]=this[wt.$content].trim()}}Ct.StringObject=nn;class dn extends zt{constructor(rn,xn,vn,kn){super(rn,xn),this[_t]=vn,this[Xt]=kn}[wt.$finalize](){this[wt.$content]=(0,kt.getInteger)({data:this[wt.$content],defaultValue:this[_t],validate:this[Xt]})}[wt.$clean](rn){super[wt.$clean](rn),delete this[_t],delete this[Xt]}}Ct.IntegerObject=dn;class on extends dn{constructor(rn,xn){super(rn,xn,0,vn=>vn===1)}}Ct.Option01=on;class hn extends dn{constructor(rn,xn){super(rn,xn,1,vn=>vn===0)}}Ct.Option10=hn},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.createDataNode=Mt,Ct.searchNode=$t;var wt=Pt(78),kt=Pt(2);const Rt=/^[^.[]+/,ht=/^[^\]]+/,vt={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},Ft=new Map([["$data",(Bt,_t)=>Bt.datasets?Bt.datasets.data:Bt],["$record",(Bt,_t)=>(Bt.datasets?Bt.datasets.data:Bt)[wt.$getChildren]()[0]],["$template",(Bt,_t)=>Bt.template],["$connectionSet",(Bt,_t)=>Bt.connectionSet],["$form",(Bt,_t)=>Bt.form],["$layout",(Bt,_t)=>Bt.layout],["$host",(Bt,_t)=>Bt.host],["$dataWindow",(Bt,_t)=>Bt.dataWindow],["$event",(Bt,_t)=>Bt.event],["!",(Bt,_t)=>Bt.datasets],["$xfa",(Bt,_t)=>Bt],["xfa",(Bt,_t)=>Bt],["$",(Bt,_t)=>_t]]),Ht=new WeakMap;function qt(Bt){return Bt=Bt.trim(),Bt==="*"?1/0:parseInt(Bt,10)||0}function Nt(Bt,_t,Kt=!0){let jt=Bt.match(Rt);if(!jt)return null;let[Gt]=jt;const Qt=[{name:Gt,cacheName:"."+Gt,index:0,js:null,formCalc:null,operator:vt.dot}];let ln=Gt.length;for(;ln<Bt.length;){const en=ln;if(Bt.charAt(ln++)==="["){if(jt=Bt.slice(ln).match(ht),!jt)return(0,kt.warn)("XFA - Invalid index in SOM expression"),null;Qt.at(-1).index=qt(jt[0]),ln+=jt[0].length+1;continue}let tn;switch(Bt.charAt(ln)){case".":if(!_t)return null;ln++,tn=vt.dotDot;break;case"#":ln++,tn=vt.dotHash;break;case"[":if(Kt)return(0,kt.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;tn=vt.dotBracket;break;case"(":if(Kt)return(0,kt.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;tn=vt.dotParen;break;default:tn=vt.dot;break}if(jt=Bt.slice(ln).match(Rt),!jt)break;[Gt]=jt,ln+=Gt.length,Qt.push({name:Gt,cacheName:Bt.slice(en,ln),operator:tn,index:0,js:null,formCalc:null})}return Qt}function $t(Bt,_t,Kt,jt=!0,Gt=!0){const Qt=Nt(Kt,jt);if(!Qt)return null;const ln=Ft.get(Qt[0].name);let en=0,gn;ln?(gn=!0,Bt=[ln(Bt,_t)],en=1):(gn=_t===null,Bt=[_t||Bt]);for(let tn=Qt.length;en<tn;en++){const{name:bn,cacheName:Xt,operator:Yt,index:un}=Qt[en],Ut=[];for(const Lt of Bt){if(!Lt.isXFAObject)continue;let Vt,an;if(Gt&&(an=Ht.get(Lt),an||(an=new Map,Ht.set(Lt,an)),Vt=an.get(Xt)),!Vt){switch(Yt){case vt.dot:Vt=Lt[wt.$getChildrenByName](bn,!1);break;case vt.dotDot:Vt=Lt[wt.$getChildrenByName](bn,!0);break;case vt.dotHash:Vt=Lt[wt.$getChildrenByClass](bn),Vt=Vt.isXFAObjectArray?Vt.children:[Vt];break}Gt&&an.set(Xt,Vt)}Vt.length>0&&Ut.push(Vt)}if(Ut.length===0&&!gn&&en===0){if(_t=_t[wt.$getParent](),!_t)return null;en=-1,Bt=[_t];continue}Bt=isFinite(un)?Ut.filter(Lt=>un<Lt.length).map(Lt=>Lt[un]):Ut.flat()}return Bt.length===0?null:Bt}function Mt(Bt,_t,Kt){const jt=Nt(Kt);if(!jt||jt.some(ln=>ln.operator===vt.dotDot))return null;const Gt=Ft.get(jt[0].name);let Qt=0;Gt?(Bt=Gt(Bt,_t),Qt=1):Bt=_t||Bt;for(let ln=jt.length;Qt<ln;Qt++){const{name:en,operator:gn,index:tn}=jt[Qt];if(!isFinite(tn))return jt[Qt].index=0,Bt.createNodes(jt.slice(Qt));let bn;switch(gn){case vt.dot:bn=Bt[wt.$getChildrenByName](en,!1);break;case vt.dotDot:bn=Bt[wt.$getChildrenByName](en,!0);break;case vt.dotHash:bn=Bt[wt.$getChildrenByClass](en),bn=bn.isXFAObjectArray?bn.children:[bn];break}if(bn.length===0)return Bt.createNodes(jt.slice(Qt));if(tn<bn.length){const Xt=bn[tn];if(!Xt.isXFAObject)return(0,kt.warn)("XFA - Cannot create a node."),null;Bt=Xt}else return jt[Qt].index=tn-bn.length,Bt.createNodes(jt.slice(Qt))}return null}},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.DataHandler=void 0;var wt=Pt(78);class kt{constructor(ht,vt){this.data=vt,this.dataset=ht.datasets||null}serialize(ht){const vt=[[-1,this.data[wt.$getChildren]()]];for(;vt.length>0;){const Ht=vt.at(-1),[qt,Nt]=Ht;if(qt+1===Nt.length){vt.pop();continue}const $t=Nt[++Ht[0]],Mt=ht.get($t[wt.$uid]);if(Mt)$t[wt.$setValue](Mt);else{const _t=$t[wt.$getAttributes]();for(const Kt of _t.values()){const jt=ht.get(Kt[wt.$uid]);if(jt){Kt[wt.$setValue](jt);break}}}const Bt=$t[wt.$getChildren]();Bt.length>0&&vt.push([-1,Bt])}const Ft=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const Ht of this.dataset[wt.$getChildren]())Ht[wt.$nodeName]!=="data"&&Ht[wt.$toString](Ft);return this.data[wt.$toString](Ft),Ft.push("</xfa:datasets>"),Ft.join("")}}Ct.DataHandler=kt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.XFAParser=void 0;var wt=Pt(78),kt=Pt(71),Rt=Pt(91),ht=Pt(2);class vt extends kt.XMLParserBase{constructor(Ht=null,qt=!1){super(),this._builder=new Rt.Builder(Ht),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=kt.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=qt}parse(Ht){if(this.parseXml(Ht),this._errorCode===kt.XMLParserErrorCode.NoError)return this._current[wt.$finalize](),this._current.element}onText(Ht){if(Ht=Ht.replace(this._nbsps,qt=>qt.slice(1)+" "),this._richText||this._current[wt.$acceptWhitespace]()){this._current[wt.$onText](Ht,this._richText);return}this._whiteRegex.test(Ht)||this._current[wt.$onText](Ht.trim())}onCdata(Ht){this._current[wt.$onText](Ht)}_mkAttributes(Ht,qt){let Nt=null,$t=null;const Mt=Object.create({});for(const{name:Bt,value:_t}of Ht)if(Bt==="xmlns")Nt?(0,ht.warn)(`XFA - multiple namespace definition in <${qt}>`):Nt=_t;else if(Bt.startsWith("xmlns:")){const Kt=Bt.substring(6);$t||($t=[]),$t.push({prefix:Kt,value:_t})}else{const Kt=Bt.indexOf(":");if(Kt===-1)Mt[Bt]=_t;else{let jt=Mt[wt.$nsAttributes];jt||(jt=Mt[wt.$nsAttributes]=Object.create(null));const[Gt,Qt]=[Bt.slice(0,Kt),Bt.slice(Kt+1)],ln=jt[Gt]||(jt[Gt]=Object.create(null));ln[Qt]=_t}}return[Nt,$t,Mt]}_getNameAndPrefix(Ht,qt){const Nt=Ht.indexOf(":");return Nt===-1?[Ht,null]:[Ht.substring(Nt+1),qt?"":Ht.substring(0,Nt)]}onBeginElement(Ht,qt,Nt){const[$t,Mt,Bt]=this._mkAttributes(qt,Ht),[_t,Kt]=this._getNameAndPrefix(Ht,this._builder.isNsAgnostic()),jt=this._builder.build({nsPrefix:Kt,name:_t,attributes:Bt,namespace:$t,prefixes:Mt});if(jt[wt.$globalData]=this._globalData,Nt){jt[wt.$finalize](),this._current[wt.$onChild](jt)&&jt[wt.$setId](this._ids),jt[wt.$clean](this._builder);return}this._stack.push(this._current),this._current=jt}onEndElement(Ht){const qt=this._current;if(qt[wt.$isCDATAXml]()&&typeof qt[wt.$content]=="string"){const Nt=new vt;Nt._globalData=this._globalData;const $t=Nt.parse(qt[wt.$content]);qt[wt.$content]=null,qt[wt.$onChild]($t)}qt[wt.$finalize](),this._current=this._stack.pop(),this._current[wt.$onChild](qt)&&qt[wt.$setId](this._ids),qt[wt.$clean](this._builder)}onError(Ht){this._errorCode=Ht}}Ct.XFAParser=vt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Builder=void 0;var wt=Pt(81),kt=Pt(78),Rt=Pt(92),ht=Pt(80),vt=Pt(101),Ft=Pt(2),Ht=Pt(87);class qt extends Ht.XFAObject{constructor(Bt){super(-1,"root",Object.create(null)),this.element=null,this[kt.$ids]=Bt}[kt.$onChild](Bt){return this.element=Bt,!0}[kt.$finalize](){super[kt.$finalize](),this.element.template instanceof ht.Template&&(this[kt.$ids].set(kt.$root,this.element),this.element.template[kt.$resolvePrototypes](this[kt.$ids]),this.element.template[kt.$ids]=this[kt.$ids])}}class Nt extends Ht.XFAObject{constructor(){super(-1,"",Object.create(null))}[kt.$onChild](Bt){return!1}}class $t{constructor(Bt=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(wt.NamespaceIds).map(({id:_t})=>_t)),this._currentNamespace=Bt||new vt.UnknownNamespace(++this._nextNsId)}buildRoot(Bt){return new qt(Bt)}build({nsPrefix:Bt,name:_t,attributes:Kt,namespace:jt,prefixes:Gt}){const Qt=jt!==null;if(Qt&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(jt)),Gt&&this._addNamespacePrefix(Gt),Kt.hasOwnProperty(kt.$nsAttributes)){const gn=Rt.NamespaceSetUp.datasets,tn=Kt[kt.$nsAttributes];let bn=null;for(const[Xt,Yt]of Object.entries(tn))if(this._getNamespaceToUse(Xt)===gn){bn={xfa:Yt};break}bn?Kt[kt.$nsAttributes]=bn:delete Kt[kt.$nsAttributes]}const ln=this._getNamespaceToUse(Bt),en=(ln==null?void 0:ln[wt.$buildXFAObject](_t,Kt))||new Nt;return en[kt.$isNsAgnostic]()&&this._nsAgnosticLevel++,(Qt||Gt||en[kt.$isNsAgnostic]())&&(en[kt.$cleanup]={hasNamespace:Qt,prefixes:Gt,nsAgnostic:en[kt.$isNsAgnostic]()}),en}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(Bt){let _t=this._namespaces.get(Bt);if(_t)return _t;for(const[Kt,{check:jt}]of Object.entries(wt.NamespaceIds))if(jt(Bt)){if(_t=Rt.NamespaceSetUp[Kt],_t)return this._namespaces.set(Bt,_t),_t;break}return _t=new vt.UnknownNamespace(++this._nextNsId),this._namespaces.set(Bt,_t),_t}_addNamespacePrefix(Bt){for(const{prefix:_t,value:Kt}of Bt){const jt=this._searchNamespace(Kt);let Gt=this._namespacePrefixes.get(_t);Gt||(Gt=[],this._namespacePrefixes.set(_t,Gt)),Gt.push(jt)}}_getNamespaceToUse(Bt){if(!Bt)return this._currentNamespace;const _t=this._namespacePrefixes.get(Bt);return(_t==null?void 0:_t.length)>0?_t.at(-1):((0,Ft.warn)(`Unknown namespace prefix: ${Bt}.`),null)}clean(Bt){const{hasNamespace:_t,prefixes:Kt,nsAgnostic:jt}=Bt;_t&&(this._currentNamespace=this._namespaceStack.pop()),Kt&&Kt.forEach(({prefix:Gt})=>{this._namespacePrefixes.get(Gt).pop()}),jt&&this._nsAgnosticLevel--}}Ct.Builder=$t},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.NamespaceSetUp=void 0;var wt=Pt(93),kt=Pt(94),Rt=Pt(95),ht=Pt(96),vt=Pt(97),Ft=Pt(98),Ht=Pt(80),qt=Pt(99),Nt=Pt(100);const $t={config:wt.ConfigNamespace,connection:kt.ConnectionSetNamespace,datasets:Rt.DatasetsNamespace,localeSet:ht.LocaleSetNamespace,signature:vt.SignatureNamespace,stylesheet:Ft.StylesheetNamespace,template:Ht.TemplateNamespace,xdp:qt.XdpNamespace,xhtml:Nt.XhtmlNamespace};Ct.NamespaceSetUp=$t},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.ConfigNamespace=void 0;var wt=Pt(81),kt=Pt(78),Rt=Pt(87),ht=Pt(84),vt=Pt(2);const Ft=wt.NamespaceIds.config.id;class Ht extends Rt.XFAObject{constructor(yn){super(Ft,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new Rt.XFAObjectArray}}class qt extends Rt.XFAObject{constructor(yn){super(Ft,"acrobat7",!0),this.dynamicRender=null}}class Nt extends Rt.OptionObject{constructor(yn){super(Ft,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class $t extends Rt.OptionObject{constructor(yn){super(Ft,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class Mt extends Rt.Option01{constructor(yn){super(Ft,"addSilentPrint")}}class Bt extends Rt.Option01{constructor(yn){super(Ft,"addViewerPreferences")}}class _t extends Rt.Option10{constructor(yn){super(Ft,"adjustData")}}class Kt extends Rt.IntegerObject{constructor(yn){super(Ft,"adobeExtensionLevel",0,qn=>qn>=1&&qn<=8)}}class jt extends Rt.XFAObject{constructor(yn){super(Ft,"agent",!0),this.name=yn.name?yn.name.trim():"",this.common=new Rt.XFAObjectArray}}class Gt extends Rt.ContentObject{constructor(yn){super(Ft,"alwaysEmbed")}}class Qt extends Rt.StringObject{constructor(yn){super(Ft,"amd")}}class ln extends Rt.XFAObject{constructor(yn){super(Ft,"area"),this.level=(0,ht.getInteger)({data:yn.level,defaultValue:0,validate:qn=>qn>=1&&qn<=3}),this.name=(0,ht.getStringOption)(yn.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class en extends Rt.OptionObject{constructor(yn){super(Ft,"attributes",["preserve","delegate","ignore"])}}class gn extends Rt.OptionObject{constructor(yn){super(Ft,"autoSave",["disabled","enabled"])}}class tn extends Rt.StringObject{constructor(yn){super(Ft,"base")}}class bn extends Rt.XFAObject{constructor(yn){super(Ft,"batchOutput"),this.format=(0,ht.getStringOption)(yn.format,["none","concat","zip","zipCompress"])}}class Xt extends Rt.ContentObject{constructor(yn){super(Ft,"behaviorOverride")}[kt.$finalize](){this[kt.$content]=new Map(this[kt.$content].trim().split(/\s+/).filter(yn=>yn.includes(":")).map(yn=>yn.split(":",2)))}}class Yt extends Rt.XFAObject{constructor(yn){super(Ft,"cache",!0),this.templateCache=null}}class un extends Rt.Option01{constructor(yn){super(Ft,"change")}}class Ut extends Rt.XFAObject{constructor(yn){super(Ft,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new Rt.XFAObjectArray}}class Lt extends Rt.XFAObject{constructor(yn){super(Ft,"compress"),this.scope=(0,ht.getStringOption)(yn.scope,["imageOnly","document"])}}class Vt extends Rt.Option01{constructor(yn){super(Ft,"compressLogicalStructure")}}class an extends Rt.Option10{constructor(yn){super(Ft,"compressObjectStream")}}class zt extends Rt.XFAObject{constructor(yn){super(Ft,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class Wt extends Rt.XFAObject{constructor(yn){super(Ft,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new Rt.XFAObjectArray}}class nn extends Rt.OptionObject{constructor(yn){super(Ft,"conformance",["A","B"])}}class dn extends Rt.Option01{constructor(yn){super(Ft,"contentCopy")}}class on extends Rt.IntegerObject{constructor(yn){super(Ft,"copies",1,qn=>qn>=1)}}class hn extends Rt.StringObject{constructor(yn){super(Ft,"creator")}}class sn extends Rt.IntegerObject{constructor(yn){super(Ft,"currentPage",0,qn=>qn>=0)}}class rn extends Rt.XFAObject{constructor(yn){super(Ft,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new Rt.XFAObjectArray,this.transform=new Rt.XFAObjectArray}}class xn extends Rt.XFAObject{constructor(yn){super(Ft,"debug",!0),this.uri=null}}class vn extends Rt.ContentObject{constructor(yn){super(Ft,"defaultTypeface"),this.writingScript=(0,ht.getStringOption)(yn.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class kn extends Rt.OptionObject{constructor(yn){super(Ft,"destination",["pdf","pcl","ps","webClient","zpl"])}}class Fn extends Rt.Option01{constructor(yn){super(Ft,"documentAssembly")}}class On extends Rt.XFAObject{constructor(yn){super(Ft,"driver",!0),this.name=yn.name?yn.name.trim():"",this.fontInfo=null,this.xdc=null}}class Pn extends Rt.OptionObject{constructor(yn){super(Ft,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class Sn extends Rt.OptionObject{constructor(yn){super(Ft,"dynamicRender",["forbidden","required"])}}class mn extends Rt.Option01{constructor(yn){super(Ft,"embed")}}class fn extends Rt.Option01{constructor(yn){super(Ft,"encrypt")}}class Jt extends Rt.XFAObject{constructor(yn){super(Ft,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class cn extends Rt.OptionObject{constructor(yn){super(Ft,"encryptionLevel",["40bit","128bit"])}}class pn extends Rt.StringObject{constructor(yn){super(Ft,"enforce")}}class wn extends Rt.XFAObject{constructor(yn){super(Ft,"equate"),this.force=(0,ht.getInteger)({data:yn.force,defaultValue:1,validate:qn=>qn===0}),this.from=yn.from||"",this.to=yn.to||""}}class En extends Rt.XFAObject{constructor(yn){super(Ft,"equateRange"),this.from=yn.from||"",this.to=yn.to||"",this._unicodeRange=yn.unicodeRange||""}get unicodeRange(){const yn=[],qn=/U\+([0-9a-fA-F]+)/,_i=this._unicodeRange;for(let Kn of _i.split(",").map(ir=>ir.trim()).filter(ir=>!!ir))Kn=Kn.split("-",2).map(ir=>{const ar=ir.match(qn);return ar?parseInt(ar[1],16):0}),Kn.length===1&&Kn.push(Kn[0]),yn.push(Kn);return(0,vt.shadow)(this,"unicodeRange",yn)}}class _n extends Rt.ContentObject{constructor(yn){super(Ft,"exclude")}[kt.$finalize](){this[kt.$content]=this[kt.$content].trim().split(/\s+/).filter(yn=>yn&&["calculate","close","enter","exit","initialize","ready","validate"].includes(yn))}}class Cn extends Rt.StringObject{constructor(yn){super(Ft,"excludeNS")}}class An extends Rt.OptionObject{constructor(yn){super(Ft,"flipLabel",["usePrinterSetting","on","off"])}}class Tn extends Rt.XFAObject{constructor(yn){super(Ft,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new Rt.XFAObjectArray,this.defaultTypeface=new Rt.XFAObjectArray,this.neverEmbed=new Rt.XFAObjectArray}}class Mn extends Rt.Option01{constructor(yn){super(Ft,"formFieldFilling")}}class Rn extends Rt.StringObject{constructor(yn){super(Ft,"groupParent")}}class Ln extends Rt.OptionObject{constructor(yn){super(Ft,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class Dn extends Rt.StringObject{constructor(yn){super(Ft,"includeXDPContent")}}class Un extends Rt.OptionObject{constructor(yn){super(Ft,"incrementalLoad",["none","forwardOnly"])}}class tr extends Rt.Option01{constructor(yn){super(Ft,"incrementalMerge")}}class er extends Rt.Option01{constructor(yn){super(Ft,"interactive")}}class Qn extends Rt.OptionObject{constructor(yn){super(Ft,"jog",["usePrinterSetting","none","pageSet"])}}class Yn extends Rt.XFAObject{constructor(yn){super(Ft,"labelPrinter",!0),this.name=(0,ht.getStringOption)(yn.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class zn extends Rt.OptionObject{constructor(yn){super(Ft,"layout",["paginate","panel"])}}class nr extends Rt.IntegerObject{constructor(yn){super(Ft,"level",0,qn=>qn>0)}}class lr extends Rt.Option01{constructor(yn){super(Ft,"linearized")}}class dr extends Rt.StringObject{constructor(yn){super(Ft,"locale")}}class jn extends Rt.StringObject{constructor(yn){super(Ft,"localeSet")}}class Hn extends Rt.XFAObject{constructor(yn){super(Ft,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Xn extends Rt.XFAObject{constructor(yn){super(Ft,"map",!0),this.equate=new Rt.XFAObjectArray,this.equateRange=new Rt.XFAObjectArray}}class cr extends Rt.XFAObject{constructor(yn){super(Ft,"mediumInfo",!0),this.map=null}}class sr extends Rt.XFAObject{constructor(yn){super(Ft,"message",!0),this.msgId=null,this.severity=null}}class xr extends Rt.XFAObject{constructor(yn){super(Ft,"messaging",!0),this.message=new Rt.XFAObjectArray}}class Jn extends Rt.OptionObject{constructor(yn){super(Ft,"mode",["append","overwrite"])}}class Wn extends Rt.Option01{constructor(yn){super(Ft,"modifyAnnots")}}class Zn extends Rt.IntegerObject{constructor(yn){super(Ft,"msgId",1,qn=>qn>=1)}}class ur extends Rt.StringObject{constructor(yn){super(Ft,"nameAttr")}}class hr extends Rt.ContentObject{constructor(yn){super(Ft,"neverEmbed")}}class or extends Rt.IntegerObject{constructor(yn){super(Ft,"numberOfCopies",null,qn=>qn>=2&&qn<=5)}}class pr extends Rt.XFAObject{constructor(yn){super(Ft,"openAction",!0),this.destination=null}}class wr extends Rt.XFAObject{constructor(yn){super(Ft,"output",!0),this.to=null,this.type=null,this.uri=null}}class fr extends Rt.StringObject{constructor(yn){super(Ft,"outputBin")}}class Ar extends Rt.XFAObject{constructor(yn){super(Ft,"outputXSL",!0),this.uri=null}}class Dr extends Rt.OptionObject{constructor(yn){super(Ft,"overprint",["none","both","draw","field"])}}class Fr extends Rt.StringObject{constructor(yn){super(Ft,"packets")}[kt.$finalize](){this[kt.$content]!=="*"&&(this[kt.$content]=this[kt.$content].trim().split(/\s+/).filter(yn=>["config","datasets","template","xfdf","xslt"].includes(yn)))}}class $r extends Rt.XFAObject{constructor(yn){super(Ft,"pageOffset"),this.x=(0,ht.getInteger)({data:yn.x,defaultValue:"useXDCSetting",validate:qn=>!0}),this.y=(0,ht.getInteger)({data:yn.y,defaultValue:"useXDCSetting",validate:qn=>!0})}}class Cr extends Rt.StringObject{constructor(yn){super(Ft,"pageRange")}[kt.$finalize](){const yn=this[kt.$content].trim().split(/\s+/).map(_i=>parseInt(_i,10)),qn=[];for(let _i=0,Kn=yn.length;_i<Kn;_i+=2)qn.push(yn.slice(_i,_i+2));this[kt.$content]=qn}}class Pr extends Rt.OptionObject{constructor(yn){super(Ft,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class _r extends Rt.OptionObject{constructor(yn){super(Ft,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class qr extends Rt.IntegerObject{constructor(yn){super(Ft,"part",1,qn=>!1)}}class vs extends Rt.XFAObject{constructor(yn){super(Ft,"pcl",!0),this.name=yn.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class ls extends Rt.XFAObject{constructor(yn){super(Ft,"pdf",!0),this.name=yn.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class ns extends Rt.XFAObject{constructor(yn){super(Ft,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Ns extends Rt.XFAObject{constructor(yn){super(Ft,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class Gs extends Rt.Option01{constructor(yn){super(Ft,"pickTrayByPDFSize")}}class vr extends Rt.StringObject{constructor(yn){super(Ft,"picture")}}class yr extends Rt.Option01{constructor(yn){super(Ft,"plaintextMetadata")}}class Sr extends Rt.OptionObject{constructor(yn){super(Ft,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Rr extends Rt.XFAObject{constructor(yn){super(Ft,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new Rt.XFAObjectArray,this.labelPrinter=new Rt.XFAObjectArray,this.pcl=new Rt.XFAObjectArray,this.pdf=new Rt.XFAObjectArray,this.ps=new Rt.XFAObjectArray,this.submitUrl=new Rt.XFAObjectArray,this.webClient=new Rt.XFAObjectArray,this.zpl=new Rt.XFAObjectArray}}class Br extends Rt.Option01{constructor(yn){super(Ft,"print")}}class es extends Rt.Option01{constructor(yn){super(Ft,"printHighQuality")}}class Or extends Rt.OptionObject{constructor(yn){super(Ft,"printScaling",["appdefault","noScaling"])}}class Tr extends Rt.StringObject{constructor(yn){super(Ft,"printerName")}}class Wr extends Rt.StringObject{constructor(yn){super(Ft,"producer")}}class us extends Rt.XFAObject{constructor(yn){super(Ft,"ps",!0),this.name=yn.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class bs extends Rt.ContentObject{constructor(yn){super(Ft,"range")}[kt.$finalize](){this[kt.$content]=this[kt.$content].trim().split(/\s*,\s*/,2).map(yn=>yn.split("-").map(qn=>parseInt(qn.trim(),10))).filter(yn=>yn.every(qn=>!isNaN(qn))).map(yn=>(yn.length===1&&yn.push(yn[0]),yn))}}class Jr extends Rt.ContentObject{constructor(yn){super(Ft,"record")}[kt.$finalize](){this[kt.$content]=this[kt.$content].trim();const yn=parseInt(this[kt.$content],10);!isNaN(yn)&&yn>=0&&(this[kt.$content]=yn)}}class ss extends Rt.ContentObject{constructor(yn){super(Ft,"relevant")}[kt.$finalize](){this[kt.$content]=this[kt.$content].trim().split(/\s+/)}}class ms extends Rt.ContentObject{constructor(yn){super(Ft,"rename")}[kt.$finalize](){this[kt.$content]=this[kt.$content].trim(),(this[kt.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[kt.$content]))&&(0,vt.warn)("XFA - Rename: invalid XFA name")}}class Xr extends Rt.OptionObject{constructor(yn){super(Ft,"renderPolicy",["server","client"])}}class hs extends Rt.OptionObject{constructor(yn){super(Ft,"runScripts",["both","client","none","server"])}}class Vr extends Rt.XFAObject{constructor(yn){super(Ft,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class gs extends Rt.OptionObject{constructor(yn){super(Ft,"scriptModel",["XFA","none"])}}class ws extends Rt.OptionObject{constructor(yn){super(Ft,"severity",["ignore","error","information","trace","warning"])}}class io extends Rt.XFAObject{constructor(yn){super(Ft,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class ds extends Rt.XFAObject{constructor(yn){super(Ft,"staple"),this.mode=(0,ht.getStringOption)(yn.mode,["usePrinterSetting","on","off"])}}class fs extends Rt.StringObject{constructor(yn){super(Ft,"startNode")}}class $s extends Rt.IntegerObject{constructor(yn){super(Ft,"startPage",0,qn=>!0)}}class Ys extends Rt.OptionObject{constructor(yn){super(Ft,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class wo extends Rt.StringObject{constructor(yn){super(Ft,"submitUrl")}}class Tl extends Rt.IntegerObject{constructor(yn){super(Ft,"subsetBelow",100,qn=>qn>=0&&qn<=100)}}class V1 extends Rt.Option01{constructor(yn){super(Ft,"suppressBanner")}}class Tp extends Rt.Option01{constructor(yn){super(Ft,"tagged")}}class Pp extends Rt.XFAObject{constructor(yn){super(Ft,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class z1 extends Rt.OptionObject{constructor(yn){super(Ft,"threshold",["trace","error","information","warning"])}}class vu extends Rt.OptionObject{constructor(yn){super(Ft,"to",["null","memory","stderr","stdout","system","uri"])}}class _p extends Rt.XFAObject{constructor(yn){super(Ft,"templateCache"),this.maxEntries=(0,ht.getInteger)({data:yn.maxEntries,defaultValue:5,validate:qn=>qn>=0})}}class wu extends Rt.XFAObject{constructor(yn){super(Ft,"trace",!0),this.area=new Rt.XFAObjectArray}}class Vl extends Rt.XFAObject{constructor(yn){super(Ft,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class X1 extends Rt.OptionObject{constructor(yn){super(Ft,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Fp extends Rt.StringObject{constructor(yn){super(Ft,"uri")}}class Au extends Rt.OptionObject{constructor(yn){super(Ft,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class c0 extends Rt.ContentObject{constructor(yn){super(Ft,"validateApprovalSignatures")}[kt.$finalize](){this[kt.$content]=this[kt.$content].trim().split(/\s+/).filter(yn=>["docReady","postSign"].includes(yn))}}class V0 extends Rt.OptionObject{constructor(yn){super(Ft,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class W1 extends Rt.OptionObject{constructor(yn){super(Ft,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class Rp extends Rt.XFAObject{constructor(yn){super(Ft,"VersionControl"),this.outputBelow=(0,ht.getStringOption)(yn.outputBelow,["warn","error","update"]),this.sourceAbove=(0,ht.getStringOption)(yn.sourceAbove,["warn","error"]),this.sourceBelow=(0,ht.getStringOption)(yn.sourceBelow,["update","maintain"])}}class Mp extends Rt.XFAObject{constructor(yn){super(Ft,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class Su extends Rt.XFAObject{constructor(yn){super(Ft,"webClient",!0),this.name=yn.name?yn.name.trim():"",this.fontInfo=null,this.xdc=null}}class G1 extends Rt.OptionObject{constructor(yn){super(Ft,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class Cu extends Rt.ContentObject{constructor(yn){super(Ft,"window")}[kt.$finalize](){const yn=this[kt.$content].trim().split(/\s*,\s*/,2).map(qn=>parseInt(qn,10));if(yn.some(qn=>isNaN(qn))){this[kt.$content]=[0,0];return}yn.length===1&&yn.push(yn[0]),this[kt.$content]=yn}}class q1 extends Rt.XFAObject{constructor(yn){super(Ft,"xdc",!0),this.uri=new Rt.XFAObjectArray,this.xsl=new Rt.XFAObjectArray}}class Bn extends Rt.XFAObject{constructor(yn){super(Ft,"xdp",!0),this.packets=null}}class Gn extends Rt.XFAObject{constructor(yn){super(Ft,"xsl",!0),this.debug=null,this.uri=null}}class rr extends Rt.XFAObject{constructor(yn){super(Ft,"zpl",!0),this.name=yn.name?yn.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Vn{static[wt.$buildXFAObject](yn,qn){if(Vn.hasOwnProperty(yn))return Vn[yn](qn)}static acrobat(yn){return new Ht(yn)}static acrobat7(yn){return new qt(yn)}static ADBE_JSConsole(yn){return new Nt(yn)}static ADBE_JSDebugger(yn){return new $t(yn)}static addSilentPrint(yn){return new Mt(yn)}static addViewerPreferences(yn){return new Bt(yn)}static adjustData(yn){return new _t(yn)}static adobeExtensionLevel(yn){return new Kt(yn)}static agent(yn){return new jt(yn)}static alwaysEmbed(yn){return new Gt(yn)}static amd(yn){return new Qt(yn)}static area(yn){return new ln(yn)}static attributes(yn){return new en(yn)}static autoSave(yn){return new gn(yn)}static base(yn){return new tn(yn)}static batchOutput(yn){return new bn(yn)}static behaviorOverride(yn){return new Xt(yn)}static cache(yn){return new Yt(yn)}static change(yn){return new un(yn)}static common(yn){return new Ut(yn)}static compress(yn){return new Lt(yn)}static compressLogicalStructure(yn){return new Vt(yn)}static compressObjectStream(yn){return new an(yn)}static compression(yn){return new zt(yn)}static config(yn){return new Wt(yn)}static conformance(yn){return new nn(yn)}static contentCopy(yn){return new dn(yn)}static copies(yn){return new on(yn)}static creator(yn){return new hn(yn)}static currentPage(yn){return new sn(yn)}static data(yn){return new rn(yn)}static debug(yn){return new xn(yn)}static defaultTypeface(yn){return new vn(yn)}static destination(yn){return new kn(yn)}static documentAssembly(yn){return new Fn(yn)}static driver(yn){return new On(yn)}static duplexOption(yn){return new Pn(yn)}static dynamicRender(yn){return new Sn(yn)}static embed(yn){return new mn(yn)}static encrypt(yn){return new fn(yn)}static encryption(yn){return new Jt(yn)}static encryptionLevel(yn){return new cn(yn)}static enforce(yn){return new pn(yn)}static equate(yn){return new wn(yn)}static equateRange(yn){return new En(yn)}static exclude(yn){return new _n(yn)}static excludeNS(yn){return new Cn(yn)}static flipLabel(yn){return new An(yn)}static fontInfo(yn){return new Tn(yn)}static formFieldFilling(yn){return new Mn(yn)}static groupParent(yn){return new Rn(yn)}static ifEmpty(yn){return new Ln(yn)}static includeXDPContent(yn){return new Dn(yn)}static incrementalLoad(yn){return new Un(yn)}static incrementalMerge(yn){return new tr(yn)}static interactive(yn){return new er(yn)}static jog(yn){return new Qn(yn)}static labelPrinter(yn){return new Yn(yn)}static layout(yn){return new zn(yn)}static level(yn){return new nr(yn)}static linearized(yn){return new lr(yn)}static locale(yn){return new dr(yn)}static localeSet(yn){return new jn(yn)}static log(yn){return new Hn(yn)}static map(yn){return new Xn(yn)}static mediumInfo(yn){return new cr(yn)}static message(yn){return new sr(yn)}static messaging(yn){return new xr(yn)}static mode(yn){return new Jn(yn)}static modifyAnnots(yn){return new Wn(yn)}static msgId(yn){return new Zn(yn)}static nameAttr(yn){return new ur(yn)}static neverEmbed(yn){return new hr(yn)}static numberOfCopies(yn){return new or(yn)}static openAction(yn){return new pr(yn)}static output(yn){return new wr(yn)}static outputBin(yn){return new fr(yn)}static outputXSL(yn){return new Ar(yn)}static overprint(yn){return new Dr(yn)}static packets(yn){return new Fr(yn)}static pageOffset(yn){return new $r(yn)}static pageRange(yn){return new Cr(yn)}static pagination(yn){return new Pr(yn)}static paginationOverride(yn){return new _r(yn)}static part(yn){return new qr(yn)}static pcl(yn){return new vs(yn)}static pdf(yn){return new ls(yn)}static pdfa(yn){return new ns(yn)}static permissions(yn){return new Ns(yn)}static pickTrayByPDFSize(yn){return new Gs(yn)}static picture(yn){return new vr(yn)}static plaintextMetadata(yn){return new yr(yn)}static presence(yn){return new Sr(yn)}static present(yn){return new Rr(yn)}static print(yn){return new Br(yn)}static printHighQuality(yn){return new es(yn)}static printScaling(yn){return new Or(yn)}static printerName(yn){return new Tr(yn)}static producer(yn){return new Wr(yn)}static ps(yn){return new us(yn)}static range(yn){return new bs(yn)}static record(yn){return new Jr(yn)}static relevant(yn){return new ss(yn)}static rename(yn){return new ms(yn)}static renderPolicy(yn){return new Xr(yn)}static runScripts(yn){return new hs(yn)}static script(yn){return new Vr(yn)}static scriptModel(yn){return new gs(yn)}static severity(yn){return new ws(yn)}static silentPrint(yn){return new io(yn)}static staple(yn){return new ds(yn)}static startNode(yn){return new fs(yn)}static startPage(yn){return new $s(yn)}static submitFormat(yn){return new Ys(yn)}static submitUrl(yn){return new wo(yn)}static subsetBelow(yn){return new Tl(yn)}static suppressBanner(yn){return new V1(yn)}static tagged(yn){return new Tp(yn)}static template(yn){return new Pp(yn)}static templateCache(yn){return new _p(yn)}static threshold(yn){return new z1(yn)}static to(yn){return new vu(yn)}static trace(yn){return new wu(yn)}static transform(yn){return new Vl(yn)}static type(yn){return new X1(yn)}static uri(yn){return new Fp(yn)}static validate(yn){return new Au(yn)}static validateApprovalSignatures(yn){return new c0(yn)}static validationMessaging(yn){return new V0(yn)}static version(yn){return new W1(yn)}static versionControl(yn){return new Rp(yn)}static viewerPreferences(yn){return new Mp(yn)}static webClient(yn){return new Su(yn)}static whitespace(yn){return new G1(yn)}static window(yn){return new Cu(yn)}static xdc(yn){return new q1(yn)}static xdp(yn){return new Bn(yn)}static xsl(yn){return new Gn(yn)}static zpl(yn){return new rr(yn)}}Ct.ConfigNamespace=Vn},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.ConnectionSetNamespace=void 0;var wt=Pt(81),kt=Pt(87);const Rt=wt.NamespaceIds.connectionSet.id;class ht extends kt.XFAObject{constructor(ln){super(Rt,"connectionSet",!0),this.wsdlConnection=new kt.XFAObjectArray,this.xmlConnection=new kt.XFAObjectArray,this.xsdConnection=new kt.XFAObjectArray}}class vt extends kt.XFAObject{constructor(ln){super(Rt,"effectiveInputPolicy"),this.id=ln.id||"",this.name=ln.name||"",this.use=ln.use||"",this.usehref=ln.usehref||""}}class Ft extends kt.XFAObject{constructor(ln){super(Rt,"effectiveOutputPolicy"),this.id=ln.id||"",this.name=ln.name||"",this.use=ln.use||"",this.usehref=ln.usehref||""}}class Ht extends kt.StringObject{constructor(ln){super(Rt,"operation"),this.id=ln.id||"",this.input=ln.input||"",this.name=ln.name||"",this.output=ln.output||"",this.use=ln.use||"",this.usehref=ln.usehref||""}}class qt extends kt.StringObject{constructor(ln){super(Rt,"rootElement"),this.id=ln.id||"",this.name=ln.name||"",this.use=ln.use||"",this.usehref=ln.usehref||""}}class Nt extends kt.StringObject{constructor(ln){super(Rt,"soapAction"),this.id=ln.id||"",this.name=ln.name||"",this.use=ln.use||"",this.usehref=ln.usehref||""}}class $t extends kt.StringObject{constructor(ln){super(Rt,"soapAddress"),this.id=ln.id||"",this.name=ln.name||"",this.use=ln.use||"",this.usehref=ln.usehref||""}}class Mt extends kt.StringObject{constructor(ln){super(Rt,"uri"),this.id=ln.id||"",this.name=ln.name||"",this.use=ln.use||"",this.usehref=ln.usehref||""}}class Bt extends kt.StringObject{constructor(ln){super(Rt,"wsdlAddress"),this.id=ln.id||"",this.name=ln.name||"",this.use=ln.use||"",this.usehref=ln.usehref||""}}class _t extends kt.XFAObject{constructor(ln){super(Rt,"wsdlConnection",!0),this.dataDescription=ln.dataDescription||"",this.name=ln.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class Kt extends kt.XFAObject{constructor(ln){super(Rt,"xmlConnection",!0),this.dataDescription=ln.dataDescription||"",this.name=ln.name||"",this.uri=null}}class jt extends kt.XFAObject{constructor(ln){super(Rt,"xsdConnection",!0),this.dataDescription=ln.dataDescription||"",this.name=ln.name||"",this.rootElement=null,this.uri=null}}class Gt{static[wt.$buildXFAObject](ln,en){if(Gt.hasOwnProperty(ln))return Gt[ln](en)}static connectionSet(ln){return new ht(ln)}static effectiveInputPolicy(ln){return new vt(ln)}static effectiveOutputPolicy(ln){return new Ft(ln)}static operation(ln){return new Ht(ln)}static rootElement(ln){return new qt(ln)}static soapAction(ln){return new Nt(ln)}static soapAddress(ln){return new $t(ln)}static uri(ln){return new Mt(ln)}static wsdlAddress(ln){return new Bt(ln)}static wsdlConnection(ln){return new _t(ln)}static xmlConnection(ln){return new Kt(ln)}static xsdConnection(ln){return new jt(ln)}}Ct.ConnectionSetNamespace=Gt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.DatasetsNamespace=void 0;var wt=Pt(78),kt=Pt(81),Rt=Pt(87);const ht=kt.NamespaceIds.datasets.id;class vt extends Rt.XmlObject{constructor(Nt){super(ht,"data",Nt)}[wt.$isNsAgnostic](){return!0}}class Ft extends Rt.XFAObject{constructor(Nt){super(ht,"datasets",!0),this.data=null,this.Signature=null}[wt.$onChild](Nt){const $t=Nt[wt.$nodeName];($t==="data"&&Nt[wt.$namespaceId]===ht||$t==="Signature"&&Nt[wt.$namespaceId]===kt.NamespaceIds.signature.id)&&(this[$t]=Nt),this[wt.$appendChild](Nt)}}class Ht{static[kt.$buildXFAObject](Nt,$t){if(Ht.hasOwnProperty(Nt))return Ht[Nt]($t)}static datasets(Nt){return new Ft(Nt)}static data(Nt){return new vt(Nt)}}Ct.DatasetsNamespace=Ht},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.LocaleSetNamespace=void 0;var wt=Pt(81),kt=Pt(87),Rt=Pt(84);const ht=wt.NamespaceIds.localeSet.id;class vt extends kt.XFAObject{constructor(Wt){super(ht,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new kt.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new kt.XFAObjectArray(2)}}class Ft extends kt.StringObject{constructor(Wt){super(ht,"currencySymbol"),this.name=(0,Rt.getStringOption)(Wt.name,["symbol","isoname","decimal"])}}class Ht extends kt.XFAObject{constructor(Wt){super(ht,"currencySymbols",!0),this.currencySymbol=new kt.XFAObjectArray(3)}}class qt extends kt.StringObject{constructor(Wt){super(ht,"datePattern"),this.name=(0,Rt.getStringOption)(Wt.name,["full","long","med","short"])}}class Nt extends kt.XFAObject{constructor(Wt){super(ht,"datePatterns",!0),this.datePattern=new kt.XFAObjectArray(4)}}class $t extends kt.ContentObject{constructor(Wt){super(ht,"dateTimeSymbols")}}class Mt extends kt.StringObject{constructor(Wt){super(ht,"day")}}class Bt extends kt.XFAObject{constructor(Wt){super(ht,"dayNames",!0),this.abbr=(0,Rt.getInteger)({data:Wt.abbr,defaultValue:0,validate:nn=>nn===1}),this.day=new kt.XFAObjectArray(7)}}class _t extends kt.StringObject{constructor(Wt){super(ht,"era")}}class Kt extends kt.XFAObject{constructor(Wt){super(ht,"eraNames",!0),this.era=new kt.XFAObjectArray(2)}}class jt extends kt.XFAObject{constructor(Wt){super(ht,"locale",!0),this.desc=Wt.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class Gt extends kt.XFAObject{constructor(Wt){super(ht,"localeSet",!0),this.locale=new kt.XFAObjectArray}}class Qt extends kt.StringObject{constructor(Wt){super(ht,"meridiem")}}class ln extends kt.XFAObject{constructor(Wt){super(ht,"meridiemNames",!0),this.meridiem=new kt.XFAObjectArray(2)}}class en extends kt.StringObject{constructor(Wt){super(ht,"month")}}class gn extends kt.XFAObject{constructor(Wt){super(ht,"monthNames",!0),this.abbr=(0,Rt.getInteger)({data:Wt.abbr,defaultValue:0,validate:nn=>nn===1}),this.month=new kt.XFAObjectArray(12)}}class tn extends kt.StringObject{constructor(Wt){super(ht,"numberPattern"),this.name=(0,Rt.getStringOption)(Wt.name,["full","long","med","short"])}}class bn extends kt.XFAObject{constructor(Wt){super(ht,"numberPatterns",!0),this.numberPattern=new kt.XFAObjectArray(4)}}class Xt extends kt.StringObject{constructor(Wt){super(ht,"numberSymbol"),this.name=(0,Rt.getStringOption)(Wt.name,["decimal","grouping","percent","minus","zero"])}}class Yt extends kt.XFAObject{constructor(Wt){super(ht,"numberSymbols",!0),this.numberSymbol=new kt.XFAObjectArray(5)}}class un extends kt.StringObject{constructor(Wt){super(ht,"timePattern"),this.name=(0,Rt.getStringOption)(Wt.name,["full","long","med","short"])}}class Ut extends kt.XFAObject{constructor(Wt){super(ht,"timePatterns",!0),this.timePattern=new kt.XFAObjectArray(4)}}class Lt extends kt.XFAObject{constructor(Wt){super(ht,"typeFace",!0),this.name=Wt.name|""}}class Vt extends kt.XFAObject{constructor(Wt){super(ht,"typeFaces",!0),this.typeFace=new kt.XFAObjectArray}}class an{static[wt.$buildXFAObject](Wt,nn){if(an.hasOwnProperty(Wt))return an[Wt](nn)}static calendarSymbols(Wt){return new vt(Wt)}static currencySymbol(Wt){return new Ft(Wt)}static currencySymbols(Wt){return new Ht(Wt)}static datePattern(Wt){return new qt(Wt)}static datePatterns(Wt){return new Nt(Wt)}static dateTimeSymbols(Wt){return new $t(Wt)}static day(Wt){return new Mt(Wt)}static dayNames(Wt){return new Bt(Wt)}static era(Wt){return new _t(Wt)}static eraNames(Wt){return new Kt(Wt)}static locale(Wt){return new jt(Wt)}static localeSet(Wt){return new Gt(Wt)}static meridiem(Wt){return new Qt(Wt)}static meridiemNames(Wt){return new ln(Wt)}static month(Wt){return new en(Wt)}static monthNames(Wt){return new gn(Wt)}static numberPattern(Wt){return new tn(Wt)}static numberPatterns(Wt){return new bn(Wt)}static numberSymbol(Wt){return new Xt(Wt)}static numberSymbols(Wt){return new Yt(Wt)}static timePattern(Wt){return new un(Wt)}static timePatterns(Wt){return new Ut(Wt)}static typeFace(Wt){return new Lt(Wt)}static typeFaces(Wt){return new Vt(Wt)}}Ct.LocaleSetNamespace=an},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.SignatureNamespace=void 0;var wt=Pt(81),kt=Pt(87);const Rt=wt.NamespaceIds.signature.id;class ht extends kt.XFAObject{constructor(Ht){super(Rt,"signature",!0)}}class vt{static[wt.$buildXFAObject](Ht,qt){if(vt.hasOwnProperty(Ht))return vt[Ht](qt)}static signature(Ht){return new ht(Ht)}}Ct.SignatureNamespace=vt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.StylesheetNamespace=void 0;var wt=Pt(81),kt=Pt(87);const Rt=wt.NamespaceIds.stylesheet.id;class ht extends kt.XFAObject{constructor(Ht){super(Rt,"stylesheet",!0)}}class vt{static[wt.$buildXFAObject](Ht,qt){if(vt.hasOwnProperty(Ht))return vt[Ht](qt)}static stylesheet(Ht){return new ht(Ht)}}Ct.StylesheetNamespace=vt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.XdpNamespace=void 0;var wt=Pt(81),kt=Pt(78),Rt=Pt(87);const ht=wt.NamespaceIds.xdp.id;class vt extends Rt.XFAObject{constructor(qt){super(ht,"xdp",!0),this.uuid=qt.uuid||"",this.timeStamp=qt.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new Rt.XFAObjectArray,this.template=null}[kt.$onChildCheck](qt){const Nt=wt.NamespaceIds[qt[kt.$nodeName]];return Nt&&qt[kt.$namespaceId]===Nt.id}}class Ft{static[wt.$buildXFAObject](qt,Nt){if(Ft.hasOwnProperty(qt))return Ft[qt](Nt)}static xdp(qt){return new vt(qt)}}Ct.XdpNamespace=Ft},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.XhtmlNamespace=void 0;var wt=Pt(78),kt=Pt(81),Rt=Pt(83),ht=Pt(84),vt=Pt(87);const Ft=kt.NamespaceIds.xhtml.id,Ht=Symbol(),qt=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),Nt=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",Wt=>Wt==="none"?"none":"normal"],["xfa-font-horizontal-scale",Wt=>`scaleX(${Math.max(0,Math.min(parseInt(Wt)/100)).toFixed(2)})`],["xfa-font-vertical-scale",Wt=>`scaleY(${Math.max(0,Math.min(parseInt(Wt)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(Wt,nn)=>(Wt=nn.fontSize=(0,ht.getMeasurement)(Wt),(0,Rt.measureToString)(.99*Wt))],["letter-spacing",Wt=>(0,Rt.measureToString)((0,ht.getMeasurement)(Wt))],["line-height",Wt=>(0,Rt.measureToString)((0,ht.getMeasurement)(Wt))],["margin",Wt=>(0,Rt.measureToString)((0,ht.getMeasurement)(Wt))],["margin-bottom",Wt=>(0,Rt.measureToString)((0,ht.getMeasurement)(Wt))],["margin-left",Wt=>(0,Rt.measureToString)((0,ht.getMeasurement)(Wt))],["margin-right",Wt=>(0,Rt.measureToString)((0,ht.getMeasurement)(Wt))],["margin-top",Wt=>(0,Rt.measureToString)((0,ht.getMeasurement)(Wt))],["text-indent",Wt=>(0,Rt.measureToString)((0,ht.getMeasurement)(Wt))],["font-family",Wt=>Wt],["vertical-align",Wt=>(0,Rt.measureToString)((0,ht.getMeasurement)(Wt))]]),$t=/\s+/g,Mt=/[\r\n]+/g,Bt=/\r\n?/g;function _t(Wt,nn,dn){const on=Object.create(null);if(!Wt)return on;const hn=Object.create(null);for(const[sn,rn]of Wt.split(";").map(xn=>xn.split(":",2))){const xn=Nt.get(sn);if(xn==="")continue;let vn=rn;xn&&(vn=typeof xn=="string"?xn:xn(rn,hn)),sn.endsWith("scale")?on.transform=on.transform?`${on[sn]} ${vn}`:vn:on[sn.replaceAll(/-([a-zA-Z])/g,(kn,Fn)=>Fn.toUpperCase())]=vn}if(on.fontFamily&&(0,Rt.setFontFamily)({typeface:on.fontFamily,weight:on.fontWeight||"normal",posture:on.fontStyle||"normal",size:hn.fontSize||0},nn,nn[wt.$globalData].fontFinder,on),dn&&on.verticalAlign&&on.verticalAlign!=="0px"&&on.fontSize){const xn=(0,ht.getMeasurement)(on.fontSize);on.fontSize=(0,Rt.measureToString)(xn*.583),on.verticalAlign=(0,Rt.measureToString)(Math.sign((0,ht.getMeasurement)(on.verticalAlign))*xn*.333)}return dn&&on.fontSize&&(on.fontSize=`calc(${on.fontSize} * var(--scale-factor))`),(0,Rt.fixTextIndent)(on),on}function Kt(Wt){return Wt.style?Wt.style.trim().split(/\s*;\s*/).filter(nn=>!!nn).map(nn=>nn.split(/\s*:\s*/,2)).filter(([nn,dn])=>(nn==="font-family"&&Wt[wt.$globalData].usedTypefaces.add(dn),qt.has(nn))).map(nn=>nn.join(":")).join(";"):""}const jt=new Set(["body","html"]);class Gt extends vt.XmlObject{constructor(nn,dn){super(Ft,dn),this[Ht]=!1,this.style=nn.style||""}[wt.$clean](nn){super[wt.$clean](nn),this.style=Kt(this)}[wt.$acceptWhitespace](){return!jt.has(this[wt.$nodeName])}[wt.$onText](nn,dn=!1){dn?this[Ht]=!0:(nn=nn.replaceAll(Mt,""),this.style.includes("xfa-spacerun:yes")||(nn=nn.replaceAll($t," "))),nn&&(this[wt.$content]+=nn)}[wt.$pushGlyphs](nn,dn=!0){const on=Object.create(null),hn={top:NaN,bottom:NaN,left:NaN,right:NaN};let sn=null;for(const[rn,xn]of this.style.split(";").map(vn=>vn.split(":",2)))switch(rn){case"font-family":on.typeface=(0,ht.stripQuotes)(xn);break;case"font-size":on.size=(0,ht.getMeasurement)(xn);break;case"font-weight":on.weight=xn;break;case"font-style":on.posture=xn;break;case"letter-spacing":on.letterSpacing=(0,ht.getMeasurement)(xn);break;case"margin":const vn=xn.split(/ \t/).map(kn=>(0,ht.getMeasurement)(kn));switch(vn.length){case 1:hn.top=hn.bottom=hn.left=hn.right=vn[0];break;case 2:hn.top=hn.bottom=vn[0],hn.left=hn.right=vn[1];break;case 3:hn.top=vn[0],hn.bottom=vn[2],hn.left=hn.right=vn[1];break;case 4:hn.top=vn[0],hn.left=vn[1],hn.bottom=vn[2],hn.right=vn[3];break}break;case"margin-top":hn.top=(0,ht.getMeasurement)(xn);break;case"margin-bottom":hn.bottom=(0,ht.getMeasurement)(xn);break;case"margin-left":hn.left=(0,ht.getMeasurement)(xn);break;case"margin-right":hn.right=(0,ht.getMeasurement)(xn);break;case"line-height":sn=(0,ht.getMeasurement)(xn);break}if(nn.pushData(on,hn,sn),this[wt.$content])nn.addString(this[wt.$content]);else for(const rn of this[wt.$getChildren]()){if(rn[wt.$nodeName]==="#text"){nn.addString(rn[wt.$content]);continue}rn[wt.$pushGlyphs](nn)}dn&&nn.popFont()}[wt.$toHTML](nn){const dn=[];if(this[wt.$extra]={children:dn},this[wt.$childrenToHTML]({}),dn.length===0&&!this[wt.$content])return ht.HTMLResult.EMPTY;let on;return this[Ht]?on=this[wt.$content]?this[wt.$content].replaceAll(Bt,`
`):void 0:on=this[wt.$content]||void 0,ht.HTMLResult.success({name:this[wt.$nodeName],attributes:{href:this.href,style:_t(this.style,this,this[Ht])},children:dn,value:on})}}class Qt extends Gt{constructor(nn){super(nn,"a"),this.href=(0,Rt.fixURL)(nn.href)||""}}class ln extends Gt{constructor(nn){super(nn,"b")}[wt.$pushGlyphs](nn){nn.pushFont({weight:"bold"}),super[wt.$pushGlyphs](nn),nn.popFont()}}class en extends Gt{constructor(nn){super(nn,"body")}[wt.$toHTML](nn){const dn=super[wt.$toHTML](nn),{html:on}=dn;return on?(on.name="div",on.attributes.class=["xfaRich"],dn):ht.HTMLResult.EMPTY}}class gn extends Gt{constructor(nn){super(nn,"br")}[wt.$text](){return`
`}[wt.$pushGlyphs](nn){nn.addString(`
`)}[wt.$toHTML](nn){return ht.HTMLResult.success({name:"br"})}}class tn extends Gt{constructor(nn){super(nn,"html")}[wt.$toHTML](nn){var on;const dn=[];if(this[wt.$extra]={children:dn},this[wt.$childrenToHTML]({}),dn.length===0)return ht.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[wt.$content]||""});if(dn.length===1){const hn=dn[0];if((on=hn.attributes)!=null&&on.class.includes("xfaRich"))return ht.HTMLResult.success(hn)}return ht.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:dn})}}class bn extends Gt{constructor(nn){super(nn,"i")}[wt.$pushGlyphs](nn){nn.pushFont({posture:"italic"}),super[wt.$pushGlyphs](nn),nn.popFont()}}class Xt extends Gt{constructor(nn){super(nn,"li")}}class Yt extends Gt{constructor(nn){super(nn,"ol")}}class un extends Gt{constructor(nn){super(nn,"p")}[wt.$pushGlyphs](nn){super[wt.$pushGlyphs](nn,!1),nn.addString(`
`),nn.addPara(),nn.popFont()}[wt.$text](){return this[wt.$getParent]()[wt.$getChildren]().at(-1)===this?super[wt.$text]():super[wt.$text]()+`
`}}class Ut extends Gt{constructor(nn){super(nn,"span")}}class Lt extends Gt{constructor(nn){super(nn,"sub")}}class Vt extends Gt{constructor(nn){super(nn,"sup")}}class an extends Gt{constructor(nn){super(nn,"ul")}}class zt{static[kt.$buildXFAObject](nn,dn){if(zt.hasOwnProperty(nn))return zt[nn](dn)}static a(nn){return new Qt(nn)}static b(nn){return new ln(nn)}static body(nn){return new en(nn)}static br(nn){return new gn(nn)}static html(nn){return new tn(nn)}static i(nn){return new bn(nn)}static li(nn){return new Xt(nn)}static ol(nn){return new Yt(nn)}static p(nn){return new un(nn)}static span(nn){return new Ut(nn)}static sub(nn){return new Lt(nn)}static sup(nn){return new Vt(nn)}static ul(nn){return new an(nn)}}Ct.XhtmlNamespace=zt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.UnknownNamespace=void 0;var wt=Pt(81),kt=Pt(87);class Rt{constructor(vt){this.namespaceId=vt}[wt.$buildXFAObject](vt,Ft){return new kt.XmlObject(this.namespaceId,vt,Ft)}}Ct.UnknownNamespace=Rt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.DatasetReader=void 0;var wt=Pt(2),kt=Pt(3),Rt=Pt(71);function ht(Ht){try{return(0,wt.stringToUTF8String)(Ht)}catch(qt){return(0,wt.warn)(`UTF-8 decoding failed: "${qt}".`),Ht}}class vt extends Rt.SimpleXMLParser{constructor(qt){super(qt),this.node=null}onEndElement(qt){const Nt=super.onEndElement(qt);if(Nt&&qt==="xfa:datasets")throw this.node=Nt,new Error("Aborting DatasetXMLParser.")}}class Ft{constructor(qt){if(qt.datasets)this.node=new Rt.SimpleXMLParser({hasAttributes:!0}).parseFromString(qt.datasets).documentElement;else{const Nt=new vt({hasAttributes:!0});try{Nt.parseFromString(qt["xdp:xdp"])}catch{}this.node=Nt.node}}getValue(qt){if(!this.node||!qt)return"";const Nt=this.node.searchNode((0,kt.parseXFAPath)(qt),0);if(!Nt)return"";const $t=Nt.firstChild;return($t==null?void 0:$t.nodeName)==="value"?Nt.children.map(Mt=>ht(Mt.textContent)):ht(Nt.textContent)}}Ct.DatasetReader=Ft},(Et,Ct,Pt)=>{var qt;Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.XRef=void 0;var wt=Pt(2),kt=Pt(4),Rt=Pt(16),ht=Pt(3),vt=Pt(5),Ft=Pt(74);class Ht{constructor($t,Mt){Nn(this,qt,null);this.stream=$t,this.pdfManager=Mt,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new kt.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef($t){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const Mt=this._newPersistentRefNum++;return this._cacheMap.set(Mt,$t),kt.Ref.get(Mt,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),kt.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef($t){this.startXRefQueue=[$t]}parse($t=!1){let Mt;$t?((0,wt.warn)("Indexing all PDF objects"),Mt=this.indexObjects()):Mt=this.readXRef(),Mt.assignXref(this),this.trailer=Mt;let Bt;try{Bt=Mt.get("Encrypt")}catch(Kt){if(Kt instanceof ht.MissingDataException)throw Kt;(0,wt.warn)(`XRef.parse - Invalid "Encrypt" reference: "${Kt}".`)}if(Bt instanceof kt.Dict){const Kt=Mt.get("ID"),jt=Kt!=null&&Kt.length?Kt[0]:"";Bt.suppressEncryption=!0,this.encrypt=new Ft.CipherTransformFactory(Bt,jt,this.pdfManager.password)}let _t;try{_t=Mt.get("Root")}catch(Kt){if(Kt instanceof ht.MissingDataException)throw Kt;(0,wt.warn)(`XRef.parse - Invalid "Root" reference: "${Kt}".`)}if(_t instanceof kt.Dict)try{if(_t.get("Pages")instanceof kt.Dict){this.root=_t;return}}catch(Kt){if(Kt instanceof ht.MissingDataException)throw Kt;(0,wt.warn)(`XRef.parse - Invalid "Pages" reference: "${Kt}".`)}throw $t?new wt.InvalidPDFException("Invalid Root reference."):new ht.XRefParseException}processXRefTable($t){"tableState"in this||(this.tableState={entryNum:0,streamPos:$t.lexer.stream.pos,parserBuf1:$t.buf1,parserBuf2:$t.buf2});const Mt=this.readXRefTable($t);if(!(0,kt.isCmd)(Mt,"trailer"))throw new wt.FormatError("Invalid XRef table: could not find trailer dictionary");let Bt=$t.getObj();if(!(Bt instanceof kt.Dict)&&Bt.dict&&(Bt=Bt.dict),!(Bt instanceof kt.Dict))throw new wt.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,Bt}readXRefTable($t){const Mt=$t.lexer.stream,Bt=this.tableState;Mt.pos=Bt.streamPos,$t.buf1=Bt.parserBuf1,$t.buf2=Bt.parserBuf2;let _t;for(;;){if(!("firstEntryNum"in Bt)||!("entryCount"in Bt)){if((0,kt.isCmd)(_t=$t.getObj(),"trailer"))break;Bt.firstEntryNum=_t,Bt.entryCount=$t.getObj()}let Kt=Bt.firstEntryNum;const jt=Bt.entryCount;if(!Number.isInteger(Kt)||!Number.isInteger(jt))throw new wt.FormatError("Invalid XRef table: wrong types in subsection header");for(let Gt=Bt.entryNum;Gt<jt;Gt++){Bt.streamPos=Mt.pos,Bt.entryNum=Gt,Bt.parserBuf1=$t.buf1,Bt.parserBuf2=$t.buf2;const Qt={};Qt.offset=$t.getObj(),Qt.gen=$t.getObj();const ln=$t.getObj();if(ln instanceof kt.Cmd)switch(ln.cmd){case"f":Qt.free=!0;break;case"n":Qt.uncompressed=!0;break}if(!Number.isInteger(Qt.offset)||!Number.isInteger(Qt.gen)||!(Qt.free||Qt.uncompressed))throw new wt.FormatError(`Invalid entry in XRef subsection: ${Kt}, ${jt}`);Gt===0&&Qt.free&&Kt===1&&(Kt=0),this.entries[Gt+Kt]||(this.entries[Gt+Kt]=Qt)}Bt.entryNum=0,Bt.streamPos=Mt.pos,Bt.parserBuf1=$t.buf1,Bt.parserBuf2=$t.buf2,delete Bt.firstEntryNum,delete Bt.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new wt.FormatError("Invalid XRef table: unexpected first object");return _t}processXRefStream($t){if(!("streamState"in this)){const Mt=$t.dict,Bt=Mt.get("W");let _t=Mt.get("Index");_t||(_t=[0,Mt.get("Size")]),this.streamState={entryRanges:_t,byteWidths:Bt,entryNum:0,streamPos:$t.pos}}return this.readXRefStream($t),delete this.streamState,$t.dict}readXRefStream($t){const Mt=this.streamState;$t.pos=Mt.streamPos;const[Bt,_t,Kt]=Mt.byteWidths,jt=Mt.entryRanges;for(;jt.length>0;){const[Gt,Qt]=jt;if(!Number.isInteger(Gt)||!Number.isInteger(Qt))throw new wt.FormatError(`Invalid XRef range fields: ${Gt}, ${Qt}`);if(!Number.isInteger(Bt)||!Number.isInteger(_t)||!Number.isInteger(Kt))throw new wt.FormatError(`Invalid XRef entry fields length: ${Gt}, ${Qt}`);for(let ln=Mt.entryNum;ln<Qt;++ln){Mt.entryNum=ln,Mt.streamPos=$t.pos;let en=0,gn=0,tn=0;for(let Xt=0;Xt<Bt;++Xt){const Yt=$t.getByte();if(Yt===-1)throw new wt.FormatError("Invalid XRef byteWidths 'type'.");en=en<<8|Yt}Bt===0&&(en=1);for(let Xt=0;Xt<_t;++Xt){const Yt=$t.getByte();if(Yt===-1)throw new wt.FormatError("Invalid XRef byteWidths 'offset'.");gn=gn<<8|Yt}for(let Xt=0;Xt<Kt;++Xt){const Yt=$t.getByte();if(Yt===-1)throw new wt.FormatError("Invalid XRef byteWidths 'generation'.");tn=tn<<8|Yt}const bn={};switch(bn.offset=gn,bn.gen=tn,en){case 0:bn.free=!0;break;case 1:bn.uncompressed=!0;break;case 2:break;default:throw new wt.FormatError(`Invalid XRef entry type: ${en}`)}this.entries[Gt+ln]||(this.entries[Gt+ln]=bn)}Mt.entryNum=0,Mt.streamPos=$t.pos,jt.splice(0,2)}}indexObjects(){function Gt(hn,sn){let rn="",xn=hn[sn];for(;xn!==10&&xn!==13&&xn!==60&&!(++sn>=hn.length);)rn+=String.fromCharCode(xn),xn=hn[sn];return rn}function Qt(hn,sn,rn){const xn=rn.length,vn=hn.length;let kn=0;for(;sn<vn;){let Fn=0;for(;Fn<xn&&hn[sn+Fn]===rn[Fn];)++Fn;if(Fn>=xn)break;sn++,kn++}return kn}const ln=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,en=/\b(startxref|\d+\s+\d+\s+obj)\b/g,gn=/^(\d+)\s+(\d+)\s+obj\b/,tn=new Uint8Array([116,114,97,105,108,101,114]),bn=new Uint8Array([115,116,97,114,116,120,114,101,102]),Xt=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const Yt=this.stream;Yt.pos=0;const un=Yt.getBytes(),Ut=(0,wt.bytesToString)(un),Lt=un.length;let Vt=Yt.start;const an=[],zt=[];for(;Vt<Lt;){let hn=un[Vt];if(hn===9||hn===10||hn===13||hn===32){++Vt;continue}if(hn===37){do{if(++Vt,Vt>=Lt)break;hn=un[Vt]}while(hn!==10&&hn!==13);continue}const sn=Gt(un,Vt);let rn;if(sn.startsWith("xref")&&(sn.length===4||/\s/.test(sn[4])))Vt+=Qt(un,Vt,tn),an.push(Vt),Vt+=Qt(un,Vt,bn);else if(rn=gn.exec(sn)){const xn=rn[1]|0,vn=rn[2]|0,kn=Vt+sn.length;let Fn,On=!1;if(!this.entries[xn])On=!0;else if(this.entries[xn].gen===vn)try{new Rt.Parser({lexer:new Rt.Lexer(Yt.makeSubStream(kn))}).getObj(),On=!0}catch(fn){fn instanceof ht.ParserEOFException?(0,wt.warn)(`indexObjects -- checking object (${sn}): "${fn}".`):On=!0}On&&(this.entries[xn]={offset:Vt-Yt.start,gen:vn,uncompressed:!0}),ln.lastIndex=kn;const Pn=ln.exec(Ut);Pn?(Fn=ln.lastIndex+1-Vt,Pn[1]!=="endobj"&&((0,wt.warn)(`indexObjects: Found "${Pn[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),Fn-=Pn[1].length+1)):Fn=Lt-Vt;const Sn=un.subarray(Vt,Vt+Fn),mn=Qt(Sn,0,Xt);mn<Fn&&Sn[mn+5]<64&&(zt.push(Vt-Yt.start),this._xrefStms.add(Vt-Yt.start)),Vt+=Fn}else if(sn.startsWith("trailer")&&(sn.length===7||/\s/.test(sn[7]))){an.push(Vt);const xn=Vt+sn.length;let vn;en.lastIndex=xn;const kn=en.exec(Ut);kn?(vn=en.lastIndex+1-Vt,kn[1]!=="startxref"&&((0,wt.warn)(`indexObjects: Found "${kn[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),vn-=kn[1].length+1)):vn=Lt-Vt,Vt+=vn}else Vt+=sn.length+1}for(const hn of zt)this.startXRefQueue.push(hn),this.readXRef(!0);const Wt=[];let nn=!1;for(const hn of an){Yt.pos=hn;const sn=new Rt.Parser({lexer:new Rt.Lexer(Yt),xref:this,allowStreams:!0,recoveryMode:!0}),rn=sn.getObj();if(!(0,kt.isCmd)(rn,"trailer"))continue;const xn=sn.getObj();xn instanceof kt.Dict&&(Wt.push(xn),xn.has("Encrypt")&&(nn=!0))}let dn,on;for(const hn of[...Wt,"genFallback",...Wt]){if(hn==="genFallback"){if(!on)break;this._generationFallback=!0;continue}let sn=!1;try{const rn=hn.get("Root");if(!(rn instanceof kt.Dict))continue;const xn=rn.get("Pages");if(!(xn instanceof kt.Dict))continue;const vn=xn.get("Count");Number.isInteger(vn)&&(sn=!0)}catch(rn){on=rn;continue}if(sn&&(!nn||hn.has("Encrypt"))&&hn.has("ID"))return hn;dn=hn}if(dn)return dn;if(this.topDict)return this.topDict;throw new wt.InvalidPDFException("Invalid PDF structure.")}readXRef($t=!1){const Mt=this.stream,Bt=new Set;for(;this.startXRefQueue.length;){try{const _t=this.startXRefQueue[0];if(Bt.has(_t)){(0,wt.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}Bt.add(_t),Mt.pos=_t+Mt.start;const Kt=new Rt.Parser({lexer:new Rt.Lexer(Mt),xref:this,allowStreams:!0});let jt=Kt.getObj(),Gt;if((0,kt.isCmd)(jt,"xref"))Gt=this.processXRefTable(Kt),this.topDict||(this.topDict=Gt),jt=Gt.get("XRefStm"),Number.isInteger(jt)&&!this._xrefStms.has(jt)&&(this._xrefStms.add(jt),this.startXRefQueue.push(jt),Ot(this,qt)??$n(this,qt,jt));else if(Number.isInteger(jt)){if(!Number.isInteger(Kt.getObj())||!(0,kt.isCmd)(Kt.getObj(),"obj")||!((jt=Kt.getObj())instanceof vt.BaseStream))throw new wt.FormatError("Invalid XRef stream");if(Gt=this.processXRefStream(jt),this.topDict||(this.topDict=Gt),!Gt)throw new wt.FormatError("Failed to read XRef stream")}else throw new wt.FormatError("Invalid XRef stream header");jt=Gt.get("Prev"),Number.isInteger(jt)?this.startXRefQueue.push(jt):jt instanceof kt.Ref&&this.startXRefQueue.push(jt.num)}catch(_t){if(_t instanceof ht.MissingDataException)throw _t;(0,wt.info)("(while reading XRef): "+_t)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!$t)throw new ht.XRefParseException}get lastXRefStreamPos(){return Ot(this,qt)??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry($t){const Mt=this.entries[$t];return Mt&&!Mt.free&&Mt.offset?Mt:null}fetchIfRef($t,Mt=!1){return $t instanceof kt.Ref?this.fetch($t,Mt):$t}fetch($t,Mt=!1){if(!($t instanceof kt.Ref))throw new Error("ref object is not a reference");const Bt=$t.num,_t=this._cacheMap.get(Bt);if(_t!==void 0)return _t instanceof kt.Dict&&!_t.objId&&(_t.objId=$t.toString()),_t;let Kt=this.getEntry(Bt);if(Kt===null)return this._cacheMap.set(Bt,Kt),Kt;if(this._pendingRefs.has($t))return this._pendingRefs.remove($t),(0,wt.warn)(`Ignoring circular reference: ${$t}.`),kt.CIRCULAR_REF;this._pendingRefs.put($t);try{Kt=Kt.uncompressed?this.fetchUncompressed($t,Kt,Mt):this.fetchCompressed($t,Kt,Mt),this._pendingRefs.remove($t)}catch(jt){throw this._pendingRefs.remove($t),jt}return Kt instanceof kt.Dict?Kt.objId=$t.toString():Kt instanceof vt.BaseStream&&(Kt.dict.objId=$t.toString()),Kt}fetchUncompressed($t,Mt,Bt=!1){const _t=$t.gen;let Kt=$t.num;if(Mt.gen!==_t){const gn=`Inconsistent generation in XRef: ${$t}`;if(this._generationFallback&&Mt.gen<_t)return(0,wt.warn)(gn),this.fetchUncompressed(kt.Ref.get(Kt,Mt.gen),Mt,Bt);throw new ht.XRefEntryException(gn)}const jt=this.stream.makeSubStream(Mt.offset+this.stream.start),Gt=new Rt.Parser({lexer:new Rt.Lexer(jt),xref:this,allowStreams:!0}),Qt=Gt.getObj(),ln=Gt.getObj(),en=Gt.getObj();if(Qt!==Kt||ln!==_t||!(en instanceof kt.Cmd))throw new ht.XRefEntryException(`Bad (uncompressed) XRef entry: ${$t}`);if(en.cmd!=="obj"){if(en.cmd.startsWith("obj")&&(Kt=parseInt(en.cmd.substring(3),10),!Number.isNaN(Kt)))return Kt;throw new ht.XRefEntryException(`Bad (uncompressed) XRef entry: ${$t}`)}return Mt=this.encrypt&&!Bt?Gt.getObj(this.encrypt.createCipherTransform(Kt,_t)):Gt.getObj(),Mt instanceof vt.BaseStream||this._cacheMap.set(Kt,Mt),Mt}fetchCompressed($t,Mt,Bt=!1){const _t=Mt.offset,Kt=this.fetch(kt.Ref.get(_t,0));if(!(Kt instanceof vt.BaseStream))throw new wt.FormatError("bad ObjStm stream");const jt=Kt.dict.get("First"),Gt=Kt.dict.get("N");if(!Number.isInteger(jt)||!Number.isInteger(Gt))throw new wt.FormatError("invalid first and n parameters for ObjStm stream");let Qt=new Rt.Parser({lexer:new Rt.Lexer(Kt),xref:this,allowStreams:!0});const ln=new Array(Gt),en=new Array(Gt);for(let bn=0;bn<Gt;++bn){const Xt=Qt.getObj();if(!Number.isInteger(Xt))throw new wt.FormatError(`invalid object number in the ObjStm stream: ${Xt}`);const Yt=Qt.getObj();if(!Number.isInteger(Yt))throw new wt.FormatError(`invalid object offset in the ObjStm stream: ${Yt}`);ln[bn]=Xt,en[bn]=Yt}const gn=(Kt.start||0)+jt,tn=new Array(Gt);for(let bn=0;bn<Gt;++bn){const Xt=bn<Gt-1?en[bn+1]-en[bn]:void 0;if(Xt<0)throw new wt.FormatError("Invalid offset in the ObjStm stream.");Qt=new Rt.Parser({lexer:new Rt.Lexer(Kt.makeSubStream(gn+en[bn],Xt,Kt.dict)),xref:this,allowStreams:!0});const Yt=Qt.getObj();if(tn[bn]=Yt,Yt instanceof vt.BaseStream)continue;const un=ln[bn],Ut=this.entries[un];Ut&&Ut.offset===_t&&Ut.gen===bn&&this._cacheMap.set(un,Yt)}if(Mt=tn[Mt.gen],Mt===void 0)throw new ht.XRefEntryException(`Bad (compressed) XRef entry: ${$t}`);return Mt}async fetchIfRefAsync($t,Mt){return $t instanceof kt.Ref?this.fetchAsync($t,Mt):$t}async fetchAsync($t,Mt){try{return this.fetch($t,Mt)}catch(Bt){if(!(Bt instanceof ht.MissingDataException))throw Bt;return await this.pdfManager.requestRange(Bt.begin,Bt.end),this.fetchAsync($t,Mt)}}getCatalogObj(){return this.root}}qt=new WeakMap,Ct.XRef=Ht},(Et,Ct,Pt)=>{var Ft,C5,E5,U2;Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.MessageHandler=void 0;var wt=Pt(2);const kt={UNKNOWN:0,DATA:1,ERROR:2},Rt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ht($t){switch($t instanceof Error||typeof $t=="object"&&$t!==null||(0,wt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),$t.name){case"AbortException":return new wt.AbortException($t.message);case"MissingPDFException":return new wt.MissingPDFException($t.message);case"PasswordException":return new wt.PasswordException($t.message,$t.code);case"UnexpectedResponseException":return new wt.UnexpectedResponseException($t.message,$t.status);case"UnknownErrorException":return new wt.UnknownErrorException($t.message,$t.details);default:return new wt.UnknownErrorException($t.message,$t.toString())}}class vt{constructor(Mt,Bt,_t){Nn(this,Ft);this.sourceName=Mt,this.targetName=Bt,this.comObj=_t,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Kt=>{const jt=Kt.data;if(jt.targetName!==this.sourceName)return;if(jt.stream){In(this,Ft,E5).call(this,jt);return}if(jt.callback){const Qt=jt.callbackId,ln=this.callbackCapabilities[Qt];if(!ln)throw new Error(`Cannot resolve callback ${Qt}`);if(delete this.callbackCapabilities[Qt],jt.callback===kt.DATA)ln.resolve(jt.data);else if(jt.callback===kt.ERROR)ln.reject(ht(jt.reason));else throw new Error("Unexpected callback case");return}const Gt=this.actionHandler[jt.action];if(!Gt)throw new Error(`Unknown action from worker: ${jt.action}`);if(jt.callbackId){const Qt=this.sourceName,ln=jt.sourceName;new Promise(function(en){en(Gt(jt.data))}).then(function(en){_t.postMessage({sourceName:Qt,targetName:ln,callback:kt.DATA,callbackId:jt.callbackId,data:en})},function(en){_t.postMessage({sourceName:Qt,targetName:ln,callback:kt.ERROR,callbackId:jt.callbackId,reason:ht(en)})});return}if(jt.streamId){In(this,Ft,C5).call(this,jt);return}Gt(jt.data)},_t.addEventListener("message",this._onComObjOnMessage)}on(Mt,Bt){const _t=this.actionHandler;if(_t[Mt])throw new Error(`There is already an actionName called "${Mt}"`);_t[Mt]=Bt}send(Mt,Bt,_t){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Mt,data:Bt},_t)}sendWithPromise(Mt,Bt,_t){const Kt=this.callbackId++,jt=new wt.PromiseCapability;this.callbackCapabilities[Kt]=jt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Mt,callbackId:Kt,data:Bt},_t)}catch(Gt){jt.reject(Gt)}return jt.promise}sendWithStream(Mt,Bt,_t,Kt){const jt=this.streamId++,Gt=this.sourceName,Qt=this.targetName,ln=this.comObj;return new ReadableStream({start:en=>{const gn=new wt.PromiseCapability;return this.streamControllers[jt]={controller:en,startCall:gn,pullCall:null,cancelCall:null,isClosed:!1},ln.postMessage({sourceName:Gt,targetName:Qt,action:Mt,streamId:jt,data:Bt,desiredSize:en.desiredSize},Kt),gn.promise},pull:en=>{const gn=new wt.PromiseCapability;return this.streamControllers[jt].pullCall=gn,ln.postMessage({sourceName:Gt,targetName:Qt,stream:Rt.PULL,streamId:jt,desiredSize:en.desiredSize}),gn.promise},cancel:en=>{(0,wt.assert)(en instanceof Error,"cancel must have a valid reason");const gn=new wt.PromiseCapability;return this.streamControllers[jt].cancelCall=gn,this.streamControllers[jt].isClosed=!0,ln.postMessage({sourceName:Gt,targetName:Qt,stream:Rt.CANCEL,streamId:jt,reason:ht(en)}),gn.promise}},_t)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Ft=new WeakSet,C5=function(Mt){const Bt=Mt.streamId,_t=this.sourceName,Kt=Mt.sourceName,jt=this.comObj,Gt=this,Qt=this.actionHandler[Mt.action],ln={enqueue(en,gn=1,tn){if(this.isCancelled)return;const bn=this.desiredSize;this.desiredSize-=gn,bn>0&&this.desiredSize<=0&&(this.sinkCapability=new wt.PromiseCapability,this.ready=this.sinkCapability.promise),jt.postMessage({sourceName:_t,targetName:Kt,stream:Rt.ENQUEUE,streamId:Bt,chunk:en},tn)},close(){this.isCancelled||(this.isCancelled=!0,jt.postMessage({sourceName:_t,targetName:Kt,stream:Rt.CLOSE,streamId:Bt}),delete Gt.streamSinks[Bt])},error(en){(0,wt.assert)(en instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,jt.postMessage({sourceName:_t,targetName:Kt,stream:Rt.ERROR,streamId:Bt,reason:ht(en)}))},sinkCapability:new wt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:Mt.desiredSize,ready:null};ln.sinkCapability.resolve(),ln.ready=ln.sinkCapability.promise,this.streamSinks[Bt]=ln,new Promise(function(en){en(Qt(Mt.data,ln))}).then(function(){jt.postMessage({sourceName:_t,targetName:Kt,stream:Rt.START_COMPLETE,streamId:Bt,success:!0})},function(en){jt.postMessage({sourceName:_t,targetName:Kt,stream:Rt.START_COMPLETE,streamId:Bt,reason:ht(en)})})},E5=function(Mt){const Bt=Mt.streamId,_t=this.sourceName,Kt=Mt.sourceName,jt=this.comObj,Gt=this.streamControllers[Bt],Qt=this.streamSinks[Bt];switch(Mt.stream){case Rt.START_COMPLETE:Mt.success?Gt.startCall.resolve():Gt.startCall.reject(ht(Mt.reason));break;case Rt.PULL_COMPLETE:Mt.success?Gt.pullCall.resolve():Gt.pullCall.reject(ht(Mt.reason));break;case Rt.PULL:if(!Qt){jt.postMessage({sourceName:_t,targetName:Kt,stream:Rt.PULL_COMPLETE,streamId:Bt,success:!0});break}Qt.desiredSize<=0&&Mt.desiredSize>0&&Qt.sinkCapability.resolve(),Qt.desiredSize=Mt.desiredSize,new Promise(function(ln){var en;ln((en=Qt.onPull)==null?void 0:en.call(Qt))}).then(function(){jt.postMessage({sourceName:_t,targetName:Kt,stream:Rt.PULL_COMPLETE,streamId:Bt,success:!0})},function(ln){jt.postMessage({sourceName:_t,targetName:Kt,stream:Rt.PULL_COMPLETE,streamId:Bt,reason:ht(ln)})});break;case Rt.ENQUEUE:if((0,wt.assert)(Gt,"enqueue should have stream controller"),Gt.isClosed)break;Gt.controller.enqueue(Mt.chunk);break;case Rt.CLOSE:if((0,wt.assert)(Gt,"close should have stream controller"),Gt.isClosed)break;Gt.isClosed=!0,Gt.controller.close(),In(this,Ft,U2).call(this,Gt,Bt);break;case Rt.ERROR:(0,wt.assert)(Gt,"error should have stream controller"),Gt.controller.error(ht(Mt.reason)),In(this,Ft,U2).call(this,Gt,Bt);break;case Rt.CANCEL_COMPLETE:Mt.success?Gt.cancelCall.resolve():Gt.cancelCall.reject(ht(Mt.reason)),In(this,Ft,U2).call(this,Gt,Bt);break;case Rt.CANCEL:if(!Qt)break;new Promise(function(ln){var en;ln((en=Qt.onCancel)==null?void 0:en.call(Qt,ht(Mt.reason)))}).then(function(){jt.postMessage({sourceName:_t,targetName:Kt,stream:Rt.CANCEL_COMPLETE,streamId:Bt,success:!0})},function(ln){jt.postMessage({sourceName:_t,targetName:Kt,stream:Rt.CANCEL_COMPLETE,streamId:Bt,reason:ht(ln)})}),Qt.sinkCapability.reject(ht(Mt.reason)),Qt.isCancelled=!0,delete this.streamSinks[Bt];break;default:throw new Error("Unexpected stream case")}},U2=async function(Mt,Bt){var _t,Kt,jt;await Promise.allSettled([(_t=Mt.startCall)==null?void 0:_t.promise,(Kt=Mt.pullCall)==null?void 0:Kt.promise,(jt=Mt.cancelCall)==null?void 0:jt.promise]),delete this.streamControllers[Bt]},Ct.MessageHandler=vt},(Et,Ct,Pt)=>{Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PDFWorkerStream=void 0;var wt=Pt(2);class kt{constructor(Ft){this._msgHandler=Ft,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,wt.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new Rt(this._msgHandler),this._fullRequestReader}getRangeReader(Ft,Ht){const qt=new ht(Ft,Ht,this._msgHandler);return this._rangeRequestReaders.push(qt),qt}cancelAllRequests(Ft){var Ht;(Ht=this._fullRequestReader)==null||Ht.cancel(Ft);for(const qt of this._rangeRequestReaders.slice(0))qt.cancel(Ft)}}Ct.PDFWorkerStream=kt;class Rt{constructor(Ft){this._msgHandler=Ft,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const Ht=this._msgHandler.sendWithStream("GetReader");this._reader=Ht.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(qt=>{this._isStreamingSupported=qt.isStreamingSupported,this._isRangeSupported=qt.isRangeSupported,this._contentLength=qt.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:Ft,done:Ht}=await this._reader.read();return Ht?{value:void 0,done:!0}:{value:Ft.buffer,done:!1}}cancel(Ft){this._reader.cancel(Ft)}}class ht{constructor(Ft,Ht,qt){this._msgHandler=qt,this.onProgress=null;const Nt=this._msgHandler.sendWithStream("GetRangeReader",{begin:Ft,end:Ht});this._reader=Nt.getReader()}get isStreamingSupported(){return!1}async read(){const{value:Ft,done:Ht}=await this._reader.read();return Ht?{value:void 0,done:!0}:{value:Ft.buffer,done:!1}}cancel(Ft){this._reader.cancel(Ft)}}}],bt={};function At(Et){var Ct=bt[Et];if(Ct!==void 0)return Ct.exports;var Pt=bt[Et]={exports:{}};return xt[Et](Pt,Pt.exports,At),Pt.exports}var St={};return(()=>{var Et=St;Object.defineProperty(Et,"__esModule",{value:!0}),Object.defineProperty(Et,"WorkerMessageHandler",{enumerable:!0,get:function(){return Ct.WorkerMessageHandler}});var Ct=At(1)})(),St})())})(pdf_worker);var pdf_workerExports=pdf_worker.exports;(typeof window<"u"?window:{}).pdfjsWorker=pdf_workerExports;var core_min={};(function(_e){var $=reactExports,xt=pdfExports;function bt(Bn){var Gn=Object.create(null);return Bn&&Object.keys(Bn).forEach(function(rr){if(rr!=="default"){var Vn=Object.getOwnPropertyDescriptor(Bn,rr);Object.defineProperty(Gn,rr,Vn.get?Vn:{enumerable:!0,get:function(){return Bn[rr]}})}}),Gn.default=Bn,Object.freeze(Gn)}var At,St=bt($),Et=bt(xt);_e.AnnotationType=void 0,(At=_e.AnnotationType||(_e.AnnotationType={}))[At.Text=1]="Text",At[At.Link=2]="Link",At[At.FreeText=3]="FreeText",At[At.Line=4]="Line",At[At.Square=5]="Square",At[At.Circle=6]="Circle",At[At.Polygon=7]="Polygon",At[At.Polyline=8]="Polyline",At[At.Highlight=9]="Highlight",At[At.Underline=10]="Underline",At[At.Squiggly=11]="Squiggly",At[At.StrikeOut=12]="StrikeOut",At[At.Stamp=13]="Stamp",At[At.Caret=14]="Caret",At[At.Ink=15]="Ink",At[At.Popup=16]="Popup",At[At.FileAttachment=17]="FileAttachment";var Ct=function(Bn,Gn){return Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rr,Vn){rr.__proto__=Vn}||function(rr,Vn){for(var Dt in Vn)Object.prototype.hasOwnProperty.call(Vn,Dt)&&(rr[Dt]=Vn[Dt])},Ct(Bn,Gn)};function Pt(Bn,Gn){if(typeof Gn!="function"&&Gn!==null)throw new TypeError("Class extends value "+String(Gn)+" is not a constructor or null");function rr(){this.constructor=Bn}Ct(Bn,Gn),Bn.prototype=Gn===null?Object.create(Gn):(rr.prototype=Gn.prototype,new rr)}var wt,kt=function(){return kt=Object.assign||function(Bn){for(var Gn,rr=1,Vn=arguments.length;rr<Vn;rr++)for(var Dt in Gn=arguments[rr])Object.prototype.hasOwnProperty.call(Gn,Dt)&&(Bn[Dt]=Gn[Dt]);return Bn},kt.apply(this,arguments)};_e.TextDirection=void 0,(wt=_e.TextDirection||(_e.TextDirection={})).RightToLeft="RTL",wt.LeftToRight="LTR";var Rt,ht=St.createContext({currentTheme:"light",direction:_e.TextDirection.LeftToRight,setCurrentTheme:function(){}}),vt=function(Bn){var Gn=[];return Object.keys(Bn).forEach(function(rr){rr&&Bn[rr]&&Gn.push(rr)}),Gn.join(" ")},Ft=typeof window<"u"?St.useLayoutEffect:St.useEffect,Ht=function(Bn){var Gn=St.useRef(null),rr=Bn.once,Vn=Bn.threshold,Dt=Bn.onVisibilityChanged;return Ft(function(){var yn=Gn.current;if(yn){var qn=new IntersectionObserver(function(_i){_i.forEach(function(Kn){var ir=Kn.isIntersecting,ar=Kn.intersectionRatio;Dt({isVisible:ir,ratio:ar}),ir&&rr&&(qn.unobserve(yn),qn.disconnect())})},{threshold:Vn||0});return qn.observe(yn),function(){qn.unobserve(yn),qn.disconnect()}}},[]),Gn},qt=function(Bn){var Gn=Bn.children,rr=Bn.ignoreDirection,Vn=rr!==void 0&&rr,Dt=Bn.size,yn=Dt===void 0?24:Dt,qn=St.useContext(ht).direction,_i=!Vn&&qn===_e.TextDirection.RightToLeft,Kn="".concat(yn||24,"px");return St.createElement("svg",{"aria-hidden":"true",className:vt({"rpv-core__icon":!0,"rpv-core__icon--rtl":_i}),focusable:"false",height:Kn,viewBox:"0 0 24 24",width:Kn},Gn)},Nt=function(){return St.createElement(qt,{size:16},St.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},$t=function(Bn){var Gn=Bn.children,rr=Bn.testId,Vn=Bn.onClick,Dt=St.useContext(ht).direction===_e.TextDirection.RightToLeft,yn=rr?{"data-testid":rr}:{};return St.createElement("button",kt({className:vt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Dt}),type:"button",onClick:Vn},yn),Gn)},Mt=function(Bn){var Gn=Bn.size,rr=Gn===void 0?"4rem":Gn,Vn=Bn.testId,Dt=St.useState(!1),yn=Dt[0],qn=Dt[1],_i=Vn?{"data-testid":Vn}:{},Kn=Ht({onVisibilityChanged:function(ir){qn(ir.isVisible)}});return St.createElement("div",kt({},_i,{className:vt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":yn}),ref:Kn,style:{height:rr,width:rr}}))},Bt=function(Bn){var Gn=Bn.ariaLabel,rr=Gn===void 0?"":Gn,Vn=Bn.autoFocus,Dt=Vn!==void 0&&Vn,yn=Bn.placeholder,qn=yn===void 0?"":yn,_i=Bn.testId,Kn=Bn.type,ir=Kn===void 0?"text":Kn,ar=Bn.value,gr=ar===void 0?"":ar,mr=Bn.onChange,br=Bn.onKeyDown,Mr=br===void 0?function(){}:br,Er=St.useContext(ht).direction,kr=St.useRef(),ts=Er===_e.TextDirection.RightToLeft,Ir={ref:kr,"data-testid":"","aria-label":rr,className:vt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":ts}),placeholder:qn,value:gr,onChange:function(Gr){return mr(Gr.target.value)},onKeyDown:Mr};return _i&&(Ir["data-testid"]=_i),Ft(function(){if(Dt){var Gr=kr.current;if(Gr){var zr=window.scrollX,Hr=window.scrollY;Gr.focus(),window.scrollTo(zr,Hr)}}},[]),ir==="text"?St.createElement("input",kt({type:"text"},Ir)):St.createElement("input",kt({type:"password"},Ir))};(function(Bn){Bn[Bn.ExitFullScreen=0]="ExitFullScreen",Bn[Bn.FullScreenChange=1]="FullScreenChange",Bn[Bn.FullScreenElement=2]="FullScreenElement",Bn[Bn.FullScreenEnabled=3]="FullScreenEnabled",Bn[Bn.RequestFullScreen=4]="RequestFullScreen"})(Rt||(Rt={}));var _t,Kt={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},jt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Gt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},Qt=typeof window<"u",ln=Qt&&(Rt.FullScreenEnabled in document&&Kt||jt.FullScreenEnabled in document&&jt||Gt.FullScreenEnabled in document&&Gt)||Kt,en=function(){return Qt&&ln.FullScreenEnabled in document&&document[ln.FullScreenEnabled]===!0},gn=function(Bn){return Qt?Bn[ln.ExitFullScreen]():Promise.resolve({})},tn=function(){return Qt?document[ln.FullScreenElement]:null},bn=function(Bn,Gn){var rr=St.useRef(),Vn=function(){rr.current&&clearTimeout(rr.current)};return St.useEffect(function(){return function(){return Vn()}},[]),St.useCallback(function(){for(var Dt=[],yn=0;yn<arguments.length;yn++)Dt[yn]=arguments[yn];Vn(),rr.current=setTimeout(function(){Bn.apply(void 0,Dt)},Gn)},[Bn,Gn])},Xt=function(){var Bn=St.useRef(!1);return St.useEffect(function(){return Bn.current=!0,function(){Bn.current=!1}},[]),Bn},Yt=function(Bn){var Gn=St.useRef(Bn);return St.useEffect(function(){Gn.current=Bn},[Bn]),Gn.current};(function(Bn){Bn.NotRenderedYet="NotRenderedYet",Bn.Rendering="Rendering",Bn.Rendered="Rendered"})(_t||(_t={}));var un,Ut=-9999,Lt=function(Bn){var Gn=Bn.doc,rr=Gn.numPages,Vn=Gn.loadingTask.docId,Dt=St.useMemo(function(){return Array(rr).fill(null).map(function(_i,Kn){return{pageIndex:Kn,renderStatus:_t.NotRenderedYet,visibility:Ut}})},[Vn]),yn=St.useRef({currentRenderingPage:-1,startRange:0,endRange:rr-1,visibilities:Dt}),qn=function(_i,Kn){yn.current.visibilities[_i].visibility=Kn};return{getHighestPriorityPage:function(){var _i=yn.current.visibilities.slice(yn.current.startRange,yn.current.endRange+1).filter(function(mr){return mr.visibility>Ut});if(!_i.length)return-1;for(var Kn=_i[0].pageIndex,ir=_i[_i.length-1].pageIndex,ar=_i.length,gr=0;gr<ar;gr++){if(_i[gr].renderStatus===_t.Rendering)return-1;if(_i[gr].renderStatus===_t.NotRenderedYet)return _i[gr].pageIndex}return ir+1<rr&&yn.current.visibilities[ir+1].renderStatus!==_t.Rendered?ir+1:Kn-1>=0&&yn.current.visibilities[Kn-1].renderStatus!==_t.Rendered?Kn-1:-1},isInRange:function(_i){return _i>=yn.current.startRange&&_i<=yn.current.endRange},markNotRendered:function(){for(var _i=0;_i<rr;_i++)yn.current.visibilities[_i].renderStatus=_t.NotRenderedYet},markRendered:function(_i){yn.current.visibilities[_i].renderStatus=_t.Rendered},markRendering:function(_i){yn.current.currentRenderingPage!==-1&&yn.current.currentRenderingPage!==_i&&yn.current.visibilities[yn.current.currentRenderingPage].renderStatus===_t.Rendering&&(yn.current.visibilities[yn.current.currentRenderingPage].renderStatus=_t.NotRenderedYet),yn.current.visibilities[_i].renderStatus=_t.Rendering,yn.current.currentRenderingPage=_i},setOutOfRange:function(_i){qn(_i,Ut)},setRange:function(_i,Kn){yn.current.startRange=_i,yn.current.endRange=Kn;for(var ir=0;ir<rr;ir++)(ir<_i||ir>Kn)&&(yn.current.visibilities[ir].visibility=Ut,yn.current.visibilities[ir].renderStatus=_t.NotRenderedYet)},setVisibility:qn}},Vt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},an=St.createContext({l10n:Vt,setL10n:function(){}}),zt=0,Wt=function(){return zt++},nn=function(Bn,Gn,rr){var Vn=function(Dt){var yn=Gn.current;if(yn){var qn=Dt.target;if(qn instanceof Element&&qn.shadowRoot){var _i=Dt.composedPath();_i.length>0&&!yn.contains(_i[0])&&rr()}else yn.contains(qn)||rr()}};St.useEffect(function(){if(Bn){var Dt={capture:!0};return document.addEventListener("click",Vn,Dt),function(){document.removeEventListener("click",Vn,Dt)}}},[])},dn=function(Bn){var Gn=function(rr){rr.key==="Escape"&&Bn()};St.useEffect(function(){return document.addEventListener("keyup",Gn),function(){document.removeEventListener("keyup",Gn)}},[])},on=function(Bn){var Gn=Bn.ariaControlsSuffix,rr=Bn.children,Vn=Bn.closeOnClickOutside,Dt=Bn.closeOnEscape,yn=Bn.onToggle,qn=St.useRef(),_i=St.useContext(ht).direction===_e.TextDirection.RightToLeft;return St.useEffect(function(){var Kn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Kn}},[]),dn(function(){qn.current&&Dt&&yn()}),nn(Vn,qn,yn),Ft(function(){var Kn=qn.current;if(Kn){var ir=.75*document.body.clientHeight;Kn.getBoundingClientRect().height>=ir&&(Kn.style.overflow="auto",Kn.style.maxHeight="".concat(ir,"px"))}},[]),St.createElement("div",{"aria-modal":"true",className:vt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":_i}),id:"rpv-core__modal-body-".concat(Gn),ref:qn,role:"dialog",tabIndex:-1},rr)},hn=function(Bn){var Gn=Bn.children;return St.createElement("div",{className:"rpv-core__modal-overlay"},Gn)};_e.ToggleStatus=void 0,(un=_e.ToggleStatus||(_e.ToggleStatus={})).Close="Close",un.Open="Open",un.Toggle="Toggle";var sn,rn=function(Bn){var Gn=St.useState(Bn),rr=Gn[0],Vn=Gn[1];return{opened:rr,toggle:function(Dt){switch(Dt){case _e.ToggleStatus.Close:Vn(!1);break;case _e.ToggleStatus.Open:Vn(!0);break;case _e.ToggleStatus.Toggle:default:Vn(function(yn){return!yn})}}}},xn=function(Bn){var Gn=Bn.content,rr=Bn.isOpened,Vn=rr!==void 0&&rr,Dt=Bn.target,yn=rn(Vn),qn=yn.opened,_i=yn.toggle;return St.createElement(St.Fragment,null,Dt&&Dt(_i,qn),qn&&Gn(_i))};_e.Position=void 0,(sn=_e.Position||(_e.Position={})).TopLeft="TOP_LEFT",sn.TopCenter="TOP_CENTER",sn.TopRight="TOP_RIGHT",sn.RightTop="RIGHT_TOP",sn.RightCenter="RIGHT_CENTER",sn.RightBottom="RIGHT_BOTTOM",sn.BottomLeft="BOTTOM_LEFT",sn.BottomCenter="BOTTOM_CENTER",sn.BottomRight="BOTTOM_RIGHT",sn.LeftTop="LEFT_TOP",sn.LeftCenter="LEFT_CENTER",sn.LeftBottom="LEFT_BOTTOM";var vn,kn,Fn,On,Pn,Sn,mn,fn,Jt=function(Bn,Gn,rr,Vn,Dt){Ft(function(){var yn=Gn.current,qn=Bn.current,_i=rr.current;if(qn&&yn&&_i){var Kn=_i.getBoundingClientRect(),ir=function(mr,br,Mr,Er){var kr=br.getBoundingClientRect(),ts=mr.getBoundingClientRect(),Ir=ts.height,Gr=ts.width,zr=0,Hr=0;switch(Mr){case _e.Position.TopLeft:zr=kr.top-Ir,Hr=kr.left;break;case _e.Position.TopCenter:zr=kr.top-Ir,Hr=kr.left+kr.width/2-Gr/2;break;case _e.Position.TopRight:zr=kr.top-Ir,Hr=kr.left+kr.width-Gr;break;case _e.Position.RightTop:zr=kr.top,Hr=kr.left+kr.width;break;case _e.Position.RightCenter:zr=kr.top+kr.height/2-Ir/2,Hr=kr.left+kr.width;break;case _e.Position.RightBottom:zr=kr.top+kr.height-Ir,Hr=kr.left+kr.width;break;case _e.Position.BottomLeft:zr=kr.top+kr.height,Hr=kr.left;break;case _e.Position.BottomCenter:zr=kr.top+kr.height,Hr=kr.left+kr.width/2-Gr/2;break;case _e.Position.BottomRight:zr=kr.top+kr.height,Hr=kr.left+kr.width-Gr;break;case _e.Position.LeftTop:zr=kr.top,Hr=kr.left-Gr;break;case _e.Position.LeftCenter:zr=kr.top+kr.height/2-Ir/2,Hr=kr.left-Gr;break;case _e.Position.LeftBottom:zr=kr.top+kr.height-Ir,Hr=kr.left-Gr}return{left:Hr+(Er.left||0),top:zr+(Er.top||0)}}(qn,yn,Vn,Dt),ar=ir.top,gr=ir.left;qn.style.top="".concat(ar-Kn.top,"px"),qn.style.left="".concat(gr-Kn.left,"px")}},[])},cn=function(Bn){var Gn,rr=Bn.customClassName,Vn=Bn.position;return St.createElement("div",{className:vt((Gn={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Vn===_e.Position.TopLeft,"rpv-core__arrow--tc":Vn===_e.Position.TopCenter,"rpv-core__arrow--tr":Vn===_e.Position.TopRight,"rpv-core__arrow--rt":Vn===_e.Position.RightTop,"rpv-core__arrow--rc":Vn===_e.Position.RightCenter,"rpv-core__arrow--rb":Vn===_e.Position.RightBottom,"rpv-core__arrow--bl":Vn===_e.Position.BottomLeft,"rpv-core__arrow--bc":Vn===_e.Position.BottomCenter,"rpv-core__arrow--br":Vn===_e.Position.BottomRight,"rpv-core__arrow--lt":Vn===_e.Position.LeftTop,"rpv-core__arrow--lc":Vn===_e.Position.LeftCenter,"rpv-core__arrow--lb":Vn===_e.Position.LeftBottom},Gn["".concat(rr)]=rr!=="",Gn))})},pn=function(Bn){var Gn=Bn.ariaControlsSuffix,rr=Bn.children,Vn=Bn.closeOnClickOutside,Dt=Bn.offset,yn=Bn.position,qn=Bn.targetRef,_i=Bn.onClose,Kn=St.useRef(),ir=St.useRef(),ar=St.useRef(),gr=St.useContext(ht).direction===_e.TextDirection.RightToLeft;nn(Vn,Kn,_i),Jt(Kn,qn,ar,yn,Dt),Ft(function(){var br=ir.current;if(br){var Mr=.75*document.body.clientHeight;br.getBoundingClientRect().height>=Mr&&(br.style.overflow="auto",br.style.maxHeight="".concat(Mr,"px"))}},[]);var mr="rpv-core__popover-body-inner-".concat(Gn);return St.createElement(St.Fragment,null,St.createElement("div",{ref:ar,style:{left:0,position:"absolute",top:0}}),St.createElement("div",{"aria-describedby":mr,className:vt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":gr}),id:"rpv-core__popover-body-".concat(Gn),ref:Kn,role:"dialog",tabIndex:-1},St.createElement(cn,{customClassName:"rpv-core__popover-body-arrow",position:yn}),St.createElement("div",{id:mr,ref:ir},rr)))},wn=function(Bn){var Gn=Bn.closeOnEscape,rr=Bn.onClose,Vn=St.useRef();return dn(function(){Vn.current&&Gn&&rr()}),St.createElement("div",{className:"rpv-core__popover-overlay",ref:Vn})},En=function(Bn){var Gn=Bn.ariaControlsSuffix,rr=Bn.children,Vn=Bn.contentRef,Dt=Bn.offset,yn=Bn.position,qn=Bn.targetRef,_i=St.useRef(),Kn=St.useContext(ht).direction===_e.TextDirection.RightToLeft;return Jt(Vn,qn,_i,yn,Dt),St.createElement(St.Fragment,null,St.createElement("div",{ref:_i,style:{left:0,position:"absolute",top:0}}),St.createElement("div",{className:vt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Kn}),id:"rpv-core__tooltip-body-".concat(Gn),ref:Vn,role:"tooltip"},St.createElement(cn,{customClassName:"rpv-core__tooltip-body-arrow",position:yn}),St.createElement("div",{className:"rpv-core__tooltip-body-content"},rr)))};_e.FullScreenMode=void 0,(vn=_e.FullScreenMode||(_e.FullScreenMode={})).Normal="Normal",vn.Entering="Entering",vn.Entered="Entered",vn.EnteredCompletely="EnteredCompletely",vn.Exitting="Exitting",vn.Exited="Exited",_e.LayerRenderStatus=void 0,(kn=_e.LayerRenderStatus||(_e.LayerRenderStatus={}))[kn.PreRender=0]="PreRender",kn[kn.DidRender=1]="DidRender",_e.PageMode=void 0,(Fn=_e.PageMode||(_e.PageMode={})).Attachments="UseAttachments",Fn.Bookmarks="UseOutlines",Fn.ContentGroup="UseOC",Fn.Default="UserNone",Fn.FullScreen="FullScreen",Fn.Thumbnails="UseThumbs",_e.PasswordStatus=void 0,(On=_e.PasswordStatus||(_e.PasswordStatus={})).RequiredPassword="RequiredPassword",On.WrongPassword="WrongPassword",_e.RotateDirection=void 0,(Pn=_e.RotateDirection||(_e.RotateDirection={})).Backward="Backward",Pn.Forward="Forward",_e.ScrollMode=void 0,(Sn=_e.ScrollMode||(_e.ScrollMode={})).Page="Page",Sn.Horizontal="Horizontal",Sn.Vertical="Vertical",Sn.Wrapped="Wrapped",_e.SpecialZoomLevel=void 0,(mn=_e.SpecialZoomLevel||(_e.SpecialZoomLevel={})).ActualSize="ActualSize",mn.PageFit="PageFit",mn.PageWidth="PageWidth",_e.ViewMode=void 0,(fn=_e.ViewMode||(_e.ViewMode={})).DualPage="DualPage",fn.DualPageWithCover="DualPageWithCover",fn.SinglePage="SinglePage";var _n,Cn=function(Bn,Gn){return Bn.reduce(function(rr,Vn,Dt){return Dt%Gn?rr[rr.length-1].push(Vn):rr.push([Vn]),rr},[])},An=function(Bn,Gn){switch(Gn[1].name){case"XYZ":return{bottomOffset:function(rr,Vn){return Gn[3]===null?Vn:Gn[3]},leftOffset:function(rr,Vn){return Gn[2]===null?0:Gn[2]},pageIndex:Bn,scaleTo:Gn[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Bn,scaleTo:_e.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Gn[2],leftOffset:0,pageIndex:Bn,scaleTo:_e.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Bn,scaleTo:1}}},Tn=new Map,Mn=new Map,Rn=function(Bn,Gn){return"".concat(Bn.loadingTask.docId,"___").concat(Gn.num,"R").concat(Gn.gen===0?"":Gn.gen)},Ln=function(Bn,Gn,rr){Tn.set(Rn(Bn,Gn),rr)},Dn=function(Bn,Gn){if(!Bn)return Promise.reject("The document is not loaded yet");var rr="".concat(Bn.loadingTask.docId,"___").concat(Gn),Vn=Mn.get(rr);return Vn?Promise.resolve(Vn):new Promise(function(Dt,yn){Bn.getPage(Gn+1).then(function(qn){Mn.set(rr,qn),qn.ref&&Ln(Bn,qn.ref,Gn),Dt(qn)})})},Un=function(Bn,Gn){return new Promise(function(rr){new Promise(function(Vn){typeof Gn=="string"?Bn.getDestination(Gn).then(function(Dt){Vn(Dt)}):Vn(Gn)}).then(function(Vn){if(typeof Vn[0]=="object"&&Vn[0]!==null){var Dt=Vn[0],yn=function(_i,Kn){var ir=Rn(_i,Kn);return Tn.has(ir)?Tn.get(ir):null}(Bn,Dt);yn===null?Bn.getPageIndex(Dt).then(function(_i){Ln(Bn,Dt,_i),Un(Bn,Gn).then(function(Kn){return rr(Kn)})}):rr(An(yn,Vn))}else{var qn=An(Vn[0],Vn);rr(qn)}})})};(function(Bn){Bn[Bn.Solid=1]="Solid",Bn[Bn.Dashed=2]="Dashed",Bn[Bn.Beveled=3]="Beveled",Bn[Bn.Inset=4]="Inset",Bn[Bn.Underline=5]="Underline"})(_n||(_n={}));var tr,er=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Qn=function(Bn,Gn,rr,Vn){var Dt=parseInt(Bn,10);return Dt>=Gn&&Dt<=rr?Dt:Vn},Yn=function(Bn){return Bn.contentsObj?Bn.contentsObj.str:Bn.contents||""},zn=function(Bn){return Bn.titleObj?Bn.titleObj.str:Bn.title||""},nr=function(Bn){var Gn=Bn.annotation,rr=St.useContext(ht).direction,Vn=zn(Gn),Dt=Yn(Gn),yn=rr===_e.TextDirection.RightToLeft,qn=St.useRef(),_i="";if(Gn.modificationDate){var Kn=function(ir){var ar=er.exec(ir);if(!ar)return null;var gr=parseInt(ar[1],10),mr=Qn(ar[2],1,12,1)-1,br=Qn(ar[3],1,31,1),Mr=Qn(ar[4],0,23,0),Er=Qn(ar[5],0,59,0),kr=Qn(ar[6],0,59,0),ts=ar[7]||"Z",Ir=Qn(ar[8],0,23,0),Gr=Qn(ar[9],0,59,0);switch(ts){case"-":Mr+=Ir,Er+=Gr;break;case"+":Mr-=Ir,Er-=Gr}return new Date(Date.UTC(gr,mr,br,Mr,Er,kr))}(Gn.modificationDate);_i=Kn?"".concat(Kn.toLocaleDateString(),", ").concat(Kn.toLocaleTimeString()):""}return St.useLayoutEffect(function(){if(qn.current){var ir=document.querySelector('[data-annotation-id="'.concat(Gn.id,'"]'));if(ir){var ar=ir;return ar.style.zIndex+=1,function(){ar.style.zIndex="".concat(parseInt(ar.style.zIndex,10)-1)}}}},[]),St.createElement("div",{ref:qn,className:vt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":yn}),style:{top:Gn.annotationType===_e.AnnotationType.Popup?"":"100%"}},Vn&&St.createElement(St.Fragment,null,St.createElement("div",{className:vt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!yn,"rpv-core__annotation-popup-title--rtl":yn})},Vn),St.createElement("div",{className:"rpv-core__annotation-popup-date"},_i)),Dt&&St.createElement("div",{className:"rpv-core__annotation-popup-content"},Dt.split(`
`).map(function(ir,ar){return St.createElement(St.Fragment,{key:ar},ir,St.createElement("br",null))})))};(function(Bn){Bn.Click="Click",Bn.Hover="Hover"})(tr||(tr={}));var lr,dr=function(Bn){var Gn,rr=Bn.annotation,Vn=Bn.children,Dt=Bn.ignoreBorder,yn=Bn.hasPopup,qn=Bn.isRenderable,_i=Bn.page,Kn=Bn.viewport,ir=rr.rect,ar=function(){var jr=rn(!1),Nr=jr.opened,Cs=jr.toggle,ks=St.useState(tr.Hover),Fs=ks[0],_s=ks[1];return{opened:Nr,closeOnHover:function(){Fs===tr.Hover&&Cs(_e.ToggleStatus.Close)},openOnHover:function(){Fs===tr.Hover&&Cs(_e.ToggleStatus.Open)},toggleOnClick:function(){switch(Fs){case tr.Click:Nr&&_s(tr.Hover),Cs(_e.ToggleStatus.Toggle);break;case tr.Hover:_s(tr.Click),Cs(_e.ToggleStatus.Open)}}}}(),gr=ar.closeOnHover,mr=ar.opened,br=ar.openOnHover,Mr=ar.toggleOnClick,Er=(Gn=[ir[0],_i.view[3]+_i.view[1]-ir[1],ir[2],_i.view[3]+_i.view[1]-ir[3]],[Math.min(Gn[0],Gn[2]),Math.min(Gn[1],Gn[3]),Math.max(Gn[0],Gn[2]),Math.max(Gn[1],Gn[3])]),kr=ir[2]-ir[0],ts=ir[3]-ir[1],Ir={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Dt&&rr.borderStyle.width>0){switch(rr.borderStyle.style){case _n.Dashed:Ir.borderStyle="dashed";break;case _n.Solid:Ir.borderStyle="solid";break;case _n.Underline:Ir=Object.assign({borderBottomStyle:"solid"},Ir);case _n.Beveled:case _n.Inset:}var Gr=rr.borderStyle.width;Ir.borderWidth="".concat(Gr,"px"),rr.borderStyle.style!==_n.Underline&&(kr-=2*Gr,ts-=2*Gr);var zr=rr.borderStyle,Hr=zr.horizontalCornerRadius,Qr=zr.verticalCornerRadius;(Hr>0||Qr>0)&&(Ir.borderRadius="".concat(Hr,"px / ").concat(Qr,"px")),rr.color?Ir.borderColor="rgb(".concat(0|rr.color[0],", ").concat(0|rr.color[1],", ").concat(0|rr.color[2],")"):Ir.borderWidth="0"}return St.createElement(St.Fragment,null,qn&&Vn({popup:{opened:mr,closeOnHover:gr,openOnHover:br,toggleOnClick:Mr},slot:{attrs:{style:Object.assign({height:"".concat(ts,"px"),left:"".concat(Er[0],"px"),top:"".concat(Er[1],"px"),transform:"matrix(".concat(Kn.transform.join(","),")"),transformOrigin:"-".concat(Er[0],"px -").concat(Er[1],"px"),width:"".concat(kr,"px")},Ir)},children:St.createElement(St.Fragment,null,yn&&mr&&St.createElement(nr,{annotation:rr}))}}))},jn=function(Bn){var Gn=Bn.annotation,rr=Bn.page,Vn=Bn.viewport,Dt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:Vn},function(Kn){return St.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},Hn=function(Bn){var Gn=Bn.annotation,rr=Bn.page,Vn=Bn.viewport,Dt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:Vn},function(mr){return St.createElement("div",kt({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("circle",{cy:ar/2,fill:"none",rx:ir/2-gr/2,ry:ar/2-gr/2,stroke:"transparent",strokeWidth:gr||1})),mr.slot.children)})},Xn=function(Bn){var Gn=Bn.annotation,rr=Bn.page,Vn=Bn.viewport,Dt=zn(Gn),yn=Yn(Gn),qn=!(Gn.hasPopup!==!1||!Dt&&!yn),_i=function(){var Kn,ir,ar,gr,mr=Gn.file;mr&&(Kn=mr.filename,ir=mr.content,ar=typeof ir=="string"?"":URL.createObjectURL(new Blob([ir],{type:""})),(gr=document.createElement("a")).style.display="none",gr.href=ar||Kn,gr.setAttribute("download",function(br){var Mr=br.split("/").pop();return Mr?Mr.split("#")[0].split("?")[0]:br}(Kn)),document.body.appendChild(gr),gr.click(),document.body.removeChild(gr),ar&&URL.revokeObjectURL(ar))};return St.createElement(dr,{annotation:Gn,hasPopup:qn,ignoreBorder:!0,isRenderable:!0,page:rr,viewport:Vn},function(Kn){return St.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onDoubleClick:_i,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},cr=function(Bn){var Gn=Bn.annotation,rr=Bn.page,Vn=Bn.viewport,Dt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:Vn},function(Kn){return St.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},sr=function(Bn){var Gn=Bn.annotation,rr=Bn.page,Vn=Bn.viewport,Dt=zn(Gn),yn=Yn(Gn),qn=!(!Dt&&!yn),_i=!Gn.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Gn.parentType)!==-1;return Ft(function(){if(Gn.parentId){var Kn=document.querySelector('[data-annotation-id="'.concat(Gn.parentId,'"]')),ir=document.querySelector('[data-annotation-id="'.concat(Gn.id,'"]'));if(Kn&&ir){var ar=parseFloat(Kn.style.left),gr=parseFloat(Kn.style.top)+parseFloat(Kn.style.height);ir.style.left="".concat(ar,"px"),ir.style.top="".concat(gr,"px"),ir.style.transformOrigin="-".concat(ar,"px -").concat(gr,"px")}}},[]),St.createElement(dr,{annotation:Gn,hasPopup:_i,ignoreBorder:!1,isRenderable:qn,page:rr,viewport:Vn},function(Kn){return St.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Gn.id}),St.createElement(nr,{annotation:Gn}))})},xr=function(Bn){var Gn=Bn.annotation,rr=Bn.childAnnotation,Vn=Bn.page,Dt=Bn.viewport,yn=Gn.hasPopup===!1,qn=zn(Gn),_i=Yn(Gn),Kn=!!(Gn.hasPopup||qn||_i);if(Gn.quadPoints&&Gn.quadPoints.length>0){var ir=Gn.quadPoints.map(function(ar){return Object.assign({},Gn,{rect:[ar[2].x,ar[2].y,ar[1].x,ar[1].y],quadPoints:[]})});return St.createElement(St.Fragment,null,ir.map(function(ar,gr){return St.createElement(xr,{key:gr,annotation:ar,childAnnotation:rr,page:Vn,viewport:Dt})}))}return St.createElement(dr,{annotation:Gn,hasPopup:yn,ignoreBorder:!0,isRenderable:Kn,page:Vn,viewport:Dt},function(ar){return St.createElement(St.Fragment,null,St.createElement("div",kt({},ar.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Gn.id,onClick:ar.popup.toggleOnClick,onMouseEnter:ar.popup.openOnHover,onMouseLeave:ar.popup.closeOnHover}),ar.slot.children),rr&&rr.annotationType===_e.AnnotationType.Popup&&ar.popup.opened&&St.createElement(sr,{annotation:rr,page:Vn,viewport:Dt}))})},Jn=function(Bn){var Gn=Bn.annotation,rr=Bn.page,Vn=Bn.viewport,Dt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:Vn},function(mr){return St.createElement("div",kt({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),Gn.inkLists&&Gn.inkLists.length&&St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},Gn.inkLists.map(function(br,Mr){return St.createElement("polyline",{key:Mr,fill:"none",stroke:"transparent",strokeWidth:gr||1,points:br.map(function(Er){return"".concat(Er.x-Kn[0],",").concat(Kn[3]-Er.y)}).join(" ")})})),mr.slot.children)})},Wn=function(Bn){var Gn=Bn.annotation,rr=Bn.page,Vn=Bn.viewport,Dt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:Vn},function(mr){return St.createElement("div",kt({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("line",{stroke:"transparent",strokeWidth:gr||1,x1:Kn[2]-Gn.lineCoordinates[0],x2:Kn[2]-Gn.lineCoordinates[2],y1:Kn[3]-Gn.lineCoordinates[1],y2:Kn[3]-Gn.lineCoordinates[3]})),mr.slot.children)})},Zn=/^([^\w]*)(javascript|data|vbscript)/im,ur=/&#(\w+)(^\w|;)?/g,hr=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,or=/^([^:]+):/gm,pr=function(Bn,Gn){var rr,Vn=(rr=Bn||"",rr.replace(ur,function(_i,Kn){return String.fromCharCode(Kn)})).replace(hr,"").trim();if(!Vn)return Gn;var Dt=Vn[0];if(Dt==="."||Dt==="/")return Vn;var yn=Vn.match(or);if(!yn)return Vn;var qn=yn[0];return Zn.test(qn)?Gn:Vn},wr=function(Bn){var Gn,rr=Bn.annotation,Vn=Bn.annotationContainerRef,Dt=Bn.doc,yn=Bn.outlines,qn=Bn.page,_i=Bn.pageIndex,Kn=Bn.scale,ir=Bn.viewport,ar=Bn.onExecuteNamedAction,gr=Bn.onJumpFromLinkAnnotation,mr=Bn.onJumpToDest,br=St.useRef(),Mr=yn&&yn.length&&rr.dest&&typeof rr.dest=="string"?(Gn=yn.find(function(Ir){return Ir.dest===rr.dest}))===null||Gn===void 0?void 0:Gn.title:"",Er=!!(rr.url||rr.dest||rr.action||rr.unsafeUrl),kr={};if(rr.url||rr.unsafeUrl){var ts=pr(rr.url||rr.unsafeUrl,"");ts?kr={"data-target":"external",href:ts,rel:"noopener noreferrer nofollow",target:rr.newWindow?"_blank":"",title:ts}:Er=!1}else kr={href:"","data-annotation-link":rr.id,onClick:function(Ir){Ir.preventDefault(),rr.action?ar(rr.action):Un(Dt,rr.dest).then(function(Gr){var zr=br.current,Hr=Vn.current;if(zr&&Hr){var Qr=zr.getBoundingClientRect();Hr.style.setProperty("height","100%"),Hr.style.setProperty("width","100%");var jr=Hr.getBoundingClientRect();Hr.style.removeProperty("height"),Hr.style.removeProperty("width");var Nr=(Qr.left-jr.left)/Kn,Cs=(jr.bottom-Qr.bottom+Qr.height)/Kn;gr({bottomOffset:Cs,label:Mr,leftOffset:Nr,pageIndex:_i})}mr(Gr)})}};return Mr&&(kr=Object.assign({},kr,{title:Mr,"aria-label":Mr})),St.createElement(dr,{annotation:rr,hasPopup:!1,ignoreBorder:!1,isRenderable:Er,page:qn,viewport:ir},function(Ir){return St.createElement("div",kt({},Ir.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":rr.id,"data-testid":"core__annotation--link-".concat(rr.id)}),St.createElement("a",kt({ref:br},kr)))})},fr=function(Bn){var Gn=Bn.annotation,rr=Bn.page,Vn=Bn.viewport,Dt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:Vn},function(mr){return St.createElement("div",kt({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),Gn.vertices&&Gn.vertices.length&&St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:gr||1,points:Gn.vertices.map(function(br){return"".concat(br.x-Kn[0],",").concat(Kn[3]-br.y)}).join(" ")})),mr.slot.children)})},Ar=function(Bn){var Gn=Bn.annotation,rr=Bn.page,Vn=Bn.viewport,Dt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:Vn},function(mr){return St.createElement("div",kt({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),Gn.vertices&&Gn.vertices.length&&St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:gr||1,points:Gn.vertices.map(function(br){return"".concat(br.x-Kn[0],",").concat(Kn[3]-br.y)}).join(" ")})),mr.slot.children)})},Dr=function(Bn){var Gn=Bn.annotation,rr=Bn.page,Vn=Bn.viewport,Dt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:Vn},function(mr){return St.createElement("div",kt({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("rect",{height:ar-gr,fill:"none",stroke:"transparent",strokeWidth:gr||1,x:gr/2,y:gr/2,width:ir-gr})),mr.slot.children)})},Fr=function(Bn){var Gn=Bn.annotation,rr=Bn.page,Vn=Bn.viewport,Dt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:Vn},function(Kn){return St.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},$r=function(Bn){var Gn=Bn.annotation,rr=Bn.page,Vn=Bn.viewport,Dt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:Vn},function(Kn){return St.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},Cr=function(Bn){var Gn=Bn.annotation,rr=Bn.page,Vn=Bn.viewport,Dt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:Vn},function(Kn){return St.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},Pr=function(){return St.createElement(qt,{size:16},St.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),St.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),St.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),St.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},_r=function(){return St.createElement(qt,{size:16},St.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),St.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),St.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),St.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),St.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),St.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),St.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),St.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),St.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),St.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},qr=function(){return St.createElement(qt,{size:16},St.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),St.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},vs=function(){return St.createElement(qt,{size:16},St.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),St.createElement("path",{d:"M6 4.5L6 0.5"}),St.createElement("path",{d:"M18 4.5L18 0.5"}),St.createElement("path",{d:"M10 4.5L10 0.5"}),St.createElement("path",{d:"M14 4.5L14 0.5"}))},ls=function(){return St.createElement(qt,{size:16},St.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),St.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),St.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},ns=function(){return St.createElement(qt,{size:16},St.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Ns=function(Bn){var Gn=Bn.annotation,rr=Bn.childAnnotation,Vn=Bn.page,Dt=Bn.viewport,yn=Gn.hasPopup===!1,qn=zn(Gn),_i=Yn(Gn),Kn=!!(Gn.hasPopup||qn||_i),ir=Gn.name?Gn.name.toLowerCase():"";return St.createElement(dr,{annotation:Gn,hasPopup:yn,ignoreBorder:!1,isRenderable:Kn,page:Vn,viewport:Dt},function(ar){return St.createElement(St.Fragment,null,St.createElement("div",kt({},ar.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Gn.id,onClick:ar.popup.toggleOnClick,onMouseEnter:ar.popup.openOnHover,onMouseLeave:ar.popup.closeOnHover}),ir&&St.createElement("div",{className:"rpv-core__annotation-text-icon"},ir==="check"&&St.createElement(Nt,null),ir==="comment"&&St.createElement(Pr,null),ir==="help"&&St.createElement(_r,null),ir==="insert"&&St.createElement(ns,null),ir==="key"&&St.createElement(qr,null),ir==="note"&&St.createElement(vs,null),(ir==="newparagraph"||ir==="paragraph")&&St.createElement(ls,null)),ar.slot.children),rr&&rr.annotationType===_e.AnnotationType.Popup&&ar.popup.opened&&St.createElement(sr,{annotation:rr,page:Vn,viewport:Dt}))})},Gs=function(Bn){var Gn=Bn.annotation,rr=Bn.page,Vn=Bn.viewport,Dt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:Vn},function(Kn){return St.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},vr=function(Bn){var Gn=Bn.annotations,rr=Bn.doc,Vn=Bn.outlines,Dt=Bn.page,yn=Bn.pageIndex,qn=Bn.plugins,_i=Bn.rotation,Kn=Bn.scale,ir=Bn.onExecuteNamedAction,ar=Bn.onJumpFromLinkAnnotation,gr=Bn.onJumpToDest,mr=St.useRef(),br=Dt.getViewport({rotation:_i,scale:Kn}).clone({dontFlip:!0}),Mr=Gn.filter(function(Er){return!Er.parentId});return Ft(function(){var Er=mr.current;Er&&qn.forEach(function(kr){kr.onAnnotationLayerRender&&kr.onAnnotationLayerRender({annotations:Mr,container:Er,pageIndex:yn,rotation:_i,scale:Kn})})},[]),St.createElement("div",{ref:mr,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(yn)},Mr.map(function(Er){var kr=Gn.find(function(ts){return ts.parentId===Er.id});switch(Er.annotationType){case _e.AnnotationType.Caret:return St.createElement(jn,{key:Er.id,annotation:Er,page:Dt,viewport:br});case _e.AnnotationType.Circle:return St.createElement(Hn,{key:Er.id,annotation:Er,page:Dt,viewport:br});case _e.AnnotationType.FileAttachment:return St.createElement(Xn,{key:Er.id,annotation:Er,page:Dt,viewport:br});case _e.AnnotationType.FreeText:return St.createElement(cr,{key:Er.id,annotation:Er,page:Dt,viewport:br});case _e.AnnotationType.Highlight:return St.createElement(xr,{key:Er.id,annotation:Er,childAnnotation:kr,page:Dt,viewport:br});case _e.AnnotationType.Ink:return St.createElement(Jn,{key:Er.id,annotation:Er,page:Dt,viewport:br});case _e.AnnotationType.Line:return St.createElement(Wn,{key:Er.id,annotation:Er,page:Dt,viewport:br});case _e.AnnotationType.Link:return St.createElement(wr,{key:Er.id,annotation:Er,annotationContainerRef:mr,doc:rr,outlines:Vn,page:Dt,pageIndex:yn,scale:Kn,viewport:br,onExecuteNamedAction:ir,onJumpFromLinkAnnotation:ar,onJumpToDest:gr});case _e.AnnotationType.Polygon:return St.createElement(fr,{key:Er.id,annotation:Er,page:Dt,viewport:br});case _e.AnnotationType.Polyline:return St.createElement(Ar,{key:Er.id,annotation:Er,page:Dt,viewport:br});case _e.AnnotationType.Popup:return St.createElement(sr,{key:Er.id,annotation:Er,page:Dt,viewport:br});case _e.AnnotationType.Square:return St.createElement(Dr,{key:Er.id,annotation:Er,page:Dt,viewport:br});case _e.AnnotationType.Squiggly:return St.createElement(Fr,{key:Er.id,annotation:Er,page:Dt,viewport:br});case _e.AnnotationType.Stamp:return St.createElement($r,{key:Er.id,annotation:Er,page:Dt,viewport:br});case _e.AnnotationType.StrikeOut:return St.createElement(Cr,{key:Er.id,annotation:Er,page:Dt,viewport:br});case _e.AnnotationType.Text:return St.createElement(Ns,{key:Er.id,annotation:Er,childAnnotation:kr,page:Dt,viewport:br});case _e.AnnotationType.Underline:return St.createElement(Gs,{key:Er.id,annotation:Er,page:Dt,viewport:br});default:return St.createElement(St.Fragment,{key:Er.id})}}))},yr=function(Bn){var Gn=Bn.page,rr=Bn.renderAnnotations,Vn=Xt(),Dt=St.useState({loading:!0,annotations:[]}),yn=Dt[0],qn=Dt[1];return St.useEffect(function(){Gn.getAnnotations({intent:"display"}).then(function(_i){Vn.current&&qn({loading:!1,annotations:_i})})},[]),yn.loading?St.createElement(St.Fragment,null):rr(yn.annotations)},Sr=function(Bn){var Gn=Bn.doc,rr=Bn.outlines,Vn=Bn.page,Dt=Bn.pageIndex,yn=Bn.plugins,qn=Bn.rotation,_i=Bn.scale,Kn=Bn.onExecuteNamedAction,ir=Bn.onJumpFromLinkAnnotation,ar=Bn.onJumpToDest;return St.createElement(yr,{page:Vn,renderAnnotations:function(gr){return St.createElement(vr,{annotations:gr,doc:Gn,outlines:rr,page:Vn,pageIndex:Dt,plugins:yn,rotation:qn,scale:_i,onExecuteNamedAction:Kn,onJumpFromLinkAnnotation:ir,onJumpToDest:ar})}})},Rr=function(Bn,Gn){var rr=Bn%Gn;return rr===0?Bn:Math.floor(Bn-rr)},Br=function(Bn){var Gn=Bn.canvasLayerRef,rr=Bn.height,Vn=Bn.page,Dt=Bn.pageIndex,yn=Bn.plugins,qn=Bn.rotation,_i=Bn.scale,Kn=Bn.width,ir=Bn.onRenderCanvasCompleted,ar=St.useRef();return Ft(function(){var gr=ar.current;gr&&gr.cancel();var mr=Gn.current;mr.removeAttribute("data-testid"),yn.forEach(function(jr){jr.onCanvasLayerRender&&jr.onCanvasLayerRender({ele:mr,pageIndex:Dt,rotation:qn,scale:_i,status:_e.LayerRenderStatus.PreRender})});var br=Vn.getViewport({rotation:qn,scale:_i}),Mr=window.devicePixelRatio||1,Er=Math.sqrt(16777216/(br.width*br.height)),kr=Mr>Er;kr?mr.style.transform="scale(1, 1)":mr.style.removeProperty("transform");var ts=Math.min(Er,Mr),Ir=function(jr,Nr){var Cs,ks;if(Math.floor(jr)===jr)return[jr,1];var Fs=1/jr;if(Fs>Nr)return[1,Nr];if(Math.floor(Fs)===Fs)return[1,Fs];for(var _s=jr>1?Fs:jr,Ms=0,Us=1,Zs=1,eo=1;;){var Js=Ms+Zs,ro=Us+eo;if(ro>Nr)break;_s<=Js/ro?(Zs=(Cs=[Js,ro])[0],eo=Cs[1]):(Ms=(ks=[Js,ro])[0],Us=ks[1])}return _s<(Ms/Us+Zs/eo)/2?_s===jr?[Ms,Us]:[Us,Ms]:_s===jr?[Zs,eo]:[eo,Zs]}(ts,8),Gr=Ir[0],zr=Ir[1];mr.width=Rr(br.width*ts,Gr),mr.height=Rr(br.height*ts,Gr),mr.style.width="".concat(Rr(br.width,zr),"px"),mr.style.height="".concat(Rr(br.height,zr),"px"),mr.hidden=!0;var Hr=mr.getContext("2d",{alpha:!1}),Qr=kr||Mr!==1?[ts,0,0,ts,0,0]:null;return ar.current=Vn.render({canvasContext:Hr,transform:Qr,viewport:br}),ar.current.promise.then(function(){mr.hidden=!1,mr.setAttribute("data-testid","core__canvas-layer-".concat(Dt)),yn.forEach(function(jr){jr.onCanvasLayerRender&&jr.onCanvasLayerRender({ele:mr,pageIndex:Dt,rotation:qn,scale:_i,status:_e.LayerRenderStatus.DidRender})}),ir()},function(){ir()}),function(){mr&&(mr.width=0,mr.height=0)}},[]),St.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(rr,"px"),width:"".concat(Kn,"px")}},St.createElement("canvas",{ref:Gn}))},es=function(Bn){var Gn=Bn.height,rr=Bn.page,Vn=Bn.rotation,Dt=Bn.scale,yn=Bn.width,qn=St.useRef();return Ft(function(){var _i=qn.current,Kn=rr.getViewport({rotation:Vn,scale:Dt});rr.getOperatorList().then(function(ir){(function(){var ar=qn.current;ar&&(ar.innerHTML="")})(),new Et.SVGGraphics(rr.commonObjs,rr.objs).getSVG(ir,Kn).then(function(ar){ar.style.height="".concat(Gn,"px"),ar.style.width="".concat(yn,"px"),_i.appendChild(ar)})})},[]),St.createElement("div",{className:"rpv-core__svg-layer",ref:qn})},Or=function(Bn){var Gn=Bn.containerRef,rr=Bn.page,Vn=Bn.pageIndex,Dt=Bn.plugins,yn=Bn.rotation,qn=Bn.scale,_i=Bn.onRenderTextCompleted,Kn=St.useRef(),ir=function(){var ar=Gn.current;ar&&([].slice.call(ar.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(gr){return ar.removeChild(gr)}),[].slice.call(ar.querySelectorAll('br[role="presentation"]')).forEach(function(gr){return ar.removeChild(gr)}))};return Ft(function(){var ar=Kn.current;ar&&ar.cancel();var gr=Gn.current;if(gr){gr.removeAttribute("data-testid");var mr=rr.getViewport({rotation:yn,scale:qn});return Dt.forEach(function(br){br.onTextLayerRender&&br.onTextLayerRender({ele:gr,pageIndex:Vn,scale:qn,status:_e.LayerRenderStatus.PreRender})}),rr.getTextContent().then(function(br){ir(),Kn.current=Et.renderTextLayer({container:gr,textContent:br,textContentSource:br,viewport:mr}),Kn.current.promise.then(function(){gr.setAttribute("data-testid","core__text-layer-".concat(Vn)),[].slice.call(gr.children).forEach(function(Mr){Mr.classList.contains("rpv-core__text-layer-text--not")||Mr.classList.add("rpv-core__text-layer-text")}),Dt.forEach(function(Mr){Mr.onTextLayerRender&&Mr.onTextLayerRender({ele:gr,pageIndex:Vn,scale:qn,status:_e.LayerRenderStatus.DidRender})}),_i()},function(){gr.removeAttribute("data-testid"),_i()})}),function(){var br;ir(),(br=Kn.current)===null||br===void 0||br.cancel()}}},[]),St.createElement("div",{className:"rpv-core__text-layer",ref:Gn})},Tr=function(Bn){var Gn=Bn.doc,rr=Bn.measureRef,Vn=Bn.outlines,Dt=Bn.pageIndex,yn=Bn.pageRotation,qn=Bn.pageSize,_i=Bn.plugins,Kn=Bn.renderPage,ir=Bn.renderQueueKey,ar=Bn.rotation,gr=Bn.scale,mr=Bn.shouldRender,br=Bn.viewMode,Mr=Bn.onExecuteNamedAction,Er=Bn.onJumpFromLinkAnnotation,kr=Bn.onJumpToDest,ts=Bn.onRenderCompleted,Ir=Bn.onRotatePage,Gr=Xt(),zr=St.useState(null),Hr=zr[0],Qr=zr[1],jr=St.useState(!1),Nr=jr[0],Cs=jr[1],ks=St.useState(!1),Fs=ks[0],_s=ks[1],Ms=St.useRef(),Us=St.useRef(),Zs=Math.abs(ar+yn)%180==0,eo=qn.pageWidth*gr,Js=qn.pageHeight*gr,ro=Zs?eo:Js,no=Zs?Js:eo,Ao=(qn.rotation+ar+yn)%360,zl=St.useRef(0),Pl=Kn||function(ho){return St.createElement(St.Fragment,null,ho.canvasLayer.children,ho.textLayer.children,ho.annotationLayer.children)};return St.useEffect(function(){Qr(null),Cs(!1),_s(!1)},[yn,ar,gr]),St.useEffect(function(){mr&&Gr.current&&!Hr&&Dn(Gn,Dt).then(function(ho){Gr.current&&(zl.current=ir,Qr(ho))})},[mr,Hr]),St.useEffect(function(){Nr&&Fs&&(ir!==zl.current?(Qr(null),Cs(!1),_s(!1)):ts(Dt))},[Nr,Fs]),St.createElement("div",{className:vt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":br===_e.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":br===_e.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":br===_e.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Dt),ref:rr,style:{height:"".concat(no,"px"),width:"".concat(ro,"px")}},Hr?St.createElement(St.Fragment,null,Pl({annotationLayer:{attrs:{},children:St.createElement(Sr,{doc:Gn,outlines:Vn,page:Hr,pageIndex:Dt,plugins:_i,rotation:Ao,scale:gr,onExecuteNamedAction:Mr,onJumpFromLinkAnnotation:Er,onJumpToDest:kr})},canvasLayer:{attrs:{},children:St.createElement(Br,{canvasLayerRef:Ms,height:no,page:Hr,pageIndex:Dt,plugins:_i,rotation:Ao,scale:gr,width:ro,onRenderCanvasCompleted:function(){Gr.current&&Cs(!0)}})},canvasLayerRendered:Nr,doc:Gn,height:no,pageIndex:Dt,rotation:Ao,scale:gr,svgLayer:{attrs:{},children:St.createElement(es,{height:no,page:Hr,rotation:Ao,scale:gr,width:ro})},textLayer:{attrs:{},children:St.createElement(Or,{containerRef:Us,page:Hr,pageIndex:Dt,plugins:_i,rotation:Ao,scale:gr,onRenderTextCompleted:function(){Gr.current&&_s(!0)}})},textLayerRendered:Fs,width:ro,markRendered:ts,onRotatePage:function(ho){return Ir(Dt,ho)}}),_i.map(function(ho,jo){return ho.renderPageLayer?St.createElement(St.Fragment,{key:jo},ho.renderPageLayer({canvasLayerRef:Ms,canvasLayerRendered:Nr,doc:Gn,height:no,pageIndex:Dt,rotation:Ao,scale:gr,textLayerRef:Us,textLayerRendered:Fs,width:ro})):St.createElement(St.Fragment,{key:jo})})):St.createElement(Mt,{testId:"core__page-layer-loading-".concat(Dt)}))},Wr=function(Bn,Gn){var rr=Gn.rect;return Bn.height!==rr.height||Bn.width!==rr.width?rr:Bn};(function(Bn){Bn.Horizontal="Horizontal",Bn.Vertical="Vertical",Bn.Both="Both"})(lr||(lr={}));var us=function(Bn){return 1-Math.pow(1-Bn,4)},bs=1e-4,Jr={left:0,top:0},ss={capture:!1,passive:!0},ms=function(Bn){var Gn=Bn.elementRef,rr=Bn.enableSmoothScroll,Vn=Bn.isRtl,Dt=Bn.scrollDirection,yn=Bn.onSmoothScroll,qn=St.useState(Jr),_i=qn[0],Kn=qn[1],ir=St.useState(Gn.current),ar=ir[0],gr=ir[1],mr=Vn?-1:1,br=St.useRef(Dt);br.current=Dt;var Mr=St.useRef(Jr),Er=St.useRef(!0),kr=St.useCallback(function(){Er.current=!0,rr&&Kn(Mr.current),yn(!1)},[]),ts=St.useCallback(function(){if(ar){switch(br.current){case lr.Horizontal:Mr.current={left:mr*ar.scrollLeft,top:0};break;case lr.Both:Mr.current={left:mr*ar.scrollLeft,top:ar.scrollTop};break;case lr.Vertical:default:Mr.current={left:0,top:ar.scrollTop}}rr&&!Er.current||Kn(Mr.current)}},[ar]);Ft(function(){gr(Gn.current)}),Ft(function(){if(ar)return ar.addEventListener("scroll",ts,ss),function(){ar.removeEventListener("scroll",ts,ss)}},[ar]);var Ir=St.useCallback(function(Gr,zr){var Hr=Gn.current;if(!Hr)return Promise.resolve();var Qr={left:0,top:0};switch(br.current){case lr.Horizontal:Qr.left=mr*Gr.left;break;case lr.Both:Qr.left=mr*Gr.left,Qr.top=Gr.top;break;case lr.Vertical:default:Qr.top=Gr.top}return zr?(Er.current=!1,yn(!0),new Promise(function(jr,Nr){(function(Cs,ks,Fs,_s,Ms,Us){Ms===void 0&&(Ms=function(jo){return jo}),Us===void 0&&(Us=function(){});var Zs=0,eo=0,Js=!1;switch(ks){case lr.Horizontal:eo=Cs.scrollLeft,Zs=0;case lr.Both:eo=Cs.scrollLeft,Zs=Cs.scrollTop;break;case lr.Vertical:default:eo=0,Zs=Cs.scrollTop}var ro=function(){Js||(Js=!0,Cs.scrollLeft=Fs.left,Cs.scrollTop=Fs.top,Us())};if(Math.abs(Zs-Fs.top)<=bs&&ks===lr.Vertical)ro();else if(Math.abs(eo-Fs.left)<=bs&&ks===lr.Horizontal)ro();else{var no,Ao=-1,zl=eo-Fs.left,Pl=Zs-Fs.top,ho=function(jo){Ao===-1&&(Ao=jo);var u0=jo-Ao,xs=Math.min(u0/_s,1),ps=Ms(xs),is={left:eo-zl*ps,top:Zs-Pl*ps};switch(ks){case lr.Horizontal:Cs.scrollLeft=is.left;break;case lr.Both:Cs.scrollLeft=is.left,Cs.scrollTop=is.top;break;case lr.Vertical:default:Cs.scrollTop=is.top}Math.abs(is.top-Fs.top)<=bs&&Math.abs(is.left-Fs.left)<=bs&&!Js&&(window.cancelAnimationFrame(no),ro()),u0<_s?no=window.requestAnimationFrame(ho):window.cancelAnimationFrame(no)};no=window.requestAnimationFrame(ho)}})(Hr,br.current,Qr,400,us,function(){kr(),jr()})})):new Promise(function(jr,Nr){switch(br.current){case lr.Horizontal:Hr.scrollLeft=Qr.left;break;case lr.Both:Hr.scrollLeft=Qr.left,Hr.scrollTop=Qr.top;break;case lr.Vertical:default:Hr.scrollTop=Qr.top}jr()})},[Gn]);return{scrollOffset:_i,scrollTo:Ir}},Xr=function(Bn,Gn,rr){return Math.max(Bn,Math.min(rr,Gn))},hs=function(Bn,Gn){if(Gn!==_e.ViewMode.DualPageWithCover)return 0;if(!function(Dt){var yn=Dt.length;if(yn===1)return!1;for(var qn=1;qn<yn;qn++)if(Dt[qn].height!==Dt[0].height||Dt[qn].width!==Dt[0].width)return!0;return!1}(Bn))return 2*Bn[0].width;var rr=Cn(Bn.slice(1),2).map(function(Dt){return Dt.length===2?Dt[0].width+Dt[1].width:Dt[0].width}),Vn=[Bn[0].width].concat(rr);return Math.max.apply(Math,Vn)},Vr={left:0,top:0},gs={left:0,top:0},ws={left:0,top:0},io={left:0,top:0},ds={height:0,width:0},fs={left:0,top:0},$s="data-virtual-index",Ys=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],wo=function(Bn){var Gn=Bn.enableSmoothScroll,rr=Bn.isRtl,Vn=Bn.numberOfItems,Dt=Bn.parentRef,yn=Bn.setRenderRange,qn=Bn.sizes,_i=Bn.scrollMode,Kn=Bn.viewMode,ir=St.useState(!1),ar=ir[0],gr=ir[1],mr=St.useCallback(function(xs){return gr(xs)},[]),br=St.useRef(_i);br.current=_i;var Mr=St.useRef(Kn);Mr.current=Kn;var Er=_i===_e.ScrollMode.Wrapped||Kn===_e.ViewMode.DualPageWithCover||Kn===_e.ViewMode.DualPage?lr.Both:_i===_e.ScrollMode.Horizontal?lr.Horizontal:lr.Vertical,kr=ms({elementRef:Dt,enableSmoothScroll:Gn,isRtl:rr,scrollDirection:Er,onSmoothScroll:mr}),ts=kr.scrollOffset,Ir=kr.scrollTo,Gr=function(xs){var ps=xs.elementRef,is=St.useState(ps.current),as=is[0],rs=is[1],ys=St.useRef(!1),As=St.useReducer(Wr,{height:0,width:0}),os=As[0],Kr=As[1];return Ft(function(){ps.current!==as&&rs(ps.current)}),Ft(function(){if(as&&!ys.current){ys.current=!0;var Ts=as.getBoundingClientRect(),Rs=Ts.height,Qs=Ts.width;Kr({rect:{height:Rs,width:Qs}})}},[as]),St.useEffect(function(){if(as){var Ts=new ResizeObserver(function(Rs,Qs){Rs.forEach(function(Ws){if(Ws.target===as){var xo=Ws.contentRect,zo=xo.height,Ps=xo.width;Kr({rect:{height:zo,width:Ps}})}})});return Ts.observe(as),function(){Ts.unobserve(as)}}},[as]),os}({elementRef:Dt}),zr=St.useRef({scrollOffset:fs,measurements:[]});zr.current.scrollOffset=ts;var Hr=St.useMemo(function(){return Array(Vn).fill(-1)},[]),Qr=St.useState(Hr),jr=Qr[0],Nr=Qr[1],Cs=St.useMemo(function(){var xs=new IntersectionObserver(function(ps){ps.forEach(function(is){var as=is.isIntersecting?is.intersectionRatio:-1,rs=is.target.getAttribute($s);if(rs){var ys=parseInt(rs,10);0<=ys&&ys<Vn&&Nr(function(As){return As[ys]=as,function(os,Kr,Ts){for(var Rs,Qs=0,Ws=Kr.length;Qs<Ws;Qs++)!Rs&&Qs in Kr||(Rs||(Rs=Array.prototype.slice.call(Kr,0,Qs)),Rs[Qs]=Kr[Qs]);return os.concat(Rs||Array.prototype.slice.call(Kr))}([],As)})}})},{threshold:Ys});return xs},[]),ks=St.useMemo(function(){return _i===_e.ScrollMode.Page&&Kn===_e.ViewMode.SinglePage?function(xs,ps,is){for(var as=[],rs=0;rs<xs;rs++){var ys={height:Math.max(ps.height,is[rs].height),width:Math.max(ps.width,is[rs].width)},As=rs===0?io:as[rs-1].end,os={left:As.left+ys.width,top:As.top+ys.height};as[rs]={index:rs,start:As,size:ys,end:os,visibility:-1}}return as}(Vn,Gr,qn):Kn===_e.ViewMode.DualPageWithCover?function(xs,ps,is,as){for(var rs=[],ys=0,As=0,os=ws,Kr=0;Kr<xs;Kr++){var Ts=Kr===0?{height:as===_e.ScrollMode.Page?Math.max(ps.height,is[Kr].height):is[Kr].height,width:as===_e.ScrollMode.Page?Math.max(ps.width,is[Kr].width):is[Kr].width}:{height:as===_e.ScrollMode.Page?Math.max(ps.height,is[Kr].height):is[Kr].height,width:Math.max(ps.width/2,is[Kr].width)};as===_e.ScrollMode.Page?os=Kr===0?ws:{left:Kr%2==0?Ts.width:0,top:Math.floor((Kr-1)/2)*Ts.height+rs[0].end.top}:Kr===0?(os=ws,ys=is[0].height,As=0):Kr%2==1?(os={left:0,top:ys+=As},As=Kr===xs-1?is[Kr].height:Math.max(is[Kr].height,is[Kr+1].height)):os={left:rs[Kr-1].end.left,top:ys};var Rs={left:os.left+Ts.width,top:os.top+Ts.height};rs[Kr]={index:Kr,start:os,size:Ts,end:Rs,visibility:-1}}return rs}(Vn,Gr,qn,_i):Kn===_e.ViewMode.DualPage?function(xs,ps,is,as){for(var rs=[],ys=0,As=0,os=gs,Kr=0;Kr<xs;Kr++){var Ts={height:as===_e.ScrollMode.Page?Math.max(ps.height,is[Kr].height):is[Kr].height,width:Math.max(ps.width/2,is[Kr].width)};as===_e.ScrollMode.Page?os={left:Kr%2==0?0:Ts.width,top:Math.floor(Kr/2)*Ts.height}:Kr%2==0?(os={left:0,top:ys+=As},As=Kr===xs-1?is[Kr].height:Math.max(is[Kr].height,is[Kr+1].height)):os={left:rs[Kr-1].end.left,top:ys};var Rs={left:os.left+Ts.width,top:os.top+Ts.height};rs[Kr]={index:Kr,start:os,size:Ts,end:Rs,visibility:-1}}return rs}(Vn,Gr,qn,_i):function(xs,ps,is,as){for(var rs=[],ys=0,As={left:0,top:0},os=0,Kr=Vr,Ts=0;Ts<xs;Ts++){var Rs=is[Ts];if(Ts===0)ys=Rs.width,As={left:0,top:0},os=Rs.height;else switch(as){case _e.ScrollMode.Wrapped:(ys+=Rs.width)<ps.width?(Kr={left:rs[Ts-1].end.left,top:As.top},os=Math.max(os,Rs.height)):(ys=Rs.width,As={left:(Kr={left:As.left,top:As.top+os}).left,top:Kr.top},os=Rs.height);break;case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:Kr=rs[Ts-1].end}var Qs={left:Kr.left+Rs.width,top:Kr.top+Rs.height};rs[Ts]={index:Ts,start:Kr,size:Rs,end:Qs,visibility:-1}}return rs}(Vn,Gr,qn,_i)},[_i,qn,Kn,Gr]),Fs=ks[Vn-1]?{height:ks[Vn-1].end.top,width:ks[Vn-1].end.left}:ds;zr.current.measurements=ks;var _s=St.useMemo(function(){var xs=function(Ts,Rs,Qs,Ws){var xo=0;switch(Ts){case lr.Horizontal:xo=Ws.left;break;case lr.Vertical:default:xo=Ws.top}var zo=Rs.length-1,Ps=function(zs,z0,Ip,Yx){for(;zs<=z0;){var Eu=(zs+z0)/2|0,K1=Yx(Eu);if(K1<Ip)zs=Eu+1;else{if(!(K1>Ip))return Eu;z0=Eu-1}}return zs>0?zs-1:0}(0,zo,xo,function(zs){switch(Ts){case lr.Horizontal:return Rs[zs].start.left;case lr.Both:case lr.Vertical:default:return Rs[zs].start.top}});if(Ts===lr.Both)for(var bo=Rs[Ps].start.top;Ps-1>=0&&Rs[Ps-1].start.top===bo&&Rs[Ps-1].start.left>=Ws.left;)Ps--;for(var na=Ps;na<=zo;){var ba={top:Rs[na].start.top-Ws.top,left:Rs[na].start.left-Ws.left},lo={height:Qs.height-ba.top,width:Qs.width-ba.left};if(Ts===lr.Horizontal&&lo.width<0||Ts===lr.Vertical&&lo.height<0||Ts===lr.Both&&(lo.width<0||lo.height<0))break;na++}return{start:Ps,end:na}}(Er,ks,Gr,ts),ps=xs.start,is=xs.end,as=jr.slice(Xr(0,Vn,ps),Xr(0,Vn,is)),rs=ps+as.reduce(function(Ts,Rs,Qs,Ws){return Rs>Ws[Ts]?Qs:Ts},0),ys=rs=Xr(0,Vn-1,rs),As=yn({endPage:is,numPages:Vn,startPage:ps}),os=As.startPage,Kr=As.endPage;switch(os=Math.max(os,0),Kr=Math.min(Kr,Vn-1),Kn){case _e.ViewMode.DualPageWithCover:rs>0&&(ys=rs%2==1?rs:rs-1),os=os===0?0:os%2==1?os:os-1,Vn-(Kr=Kr%2==1?Kr-1:Kr)<=2&&(Kr=Vn-1);break;case _e.ViewMode.DualPage:ys=rs%2==0?rs:rs-1,os=os%2==0?os:os-1,Kr=Kr%2==1?Kr:Kr-1;break;case _e.ViewMode.SinglePage:default:ys=rs}return{startPage:os,endPage:Kr,maxVisbilityIndex:ys}},[ks,Gr,ts,Kn,jr]),Ms=_s.startPage,Us=_s.endPage,Zs=_s.maxVisbilityIndex,eo=St.useMemo(function(){for(var xs=[],ps=function(as){var rs=ks[as],ys=kt(kt({},rs),{visibility:jr[as]!==void 0?jr[as]:-1,measureRef:function(As){As&&(As.setAttribute($s,"".concat(as)),Cs.observe(As))}});xs.push(ys)},is=Ms;is<=Us;is++)ps(is);return xs},[Ms,Us,jr,ks]),Js=St.useCallback(function(xs,ps){var is=zr.current.measurements[Xr(0,Vn-1,xs)],as=br.current===_e.ScrollMode.Page?fs:ps;return is?Ir({left:as.left+is.start.left,top:as.top+is.start.top},Gn):Promise.resolve()},[Ir,Gn]),ro=St.useCallback(function(xs,ps){var is=zr.current.measurements,as=is[xs].start,rs=is.find(function(As){return As.start.top-as.top>1e-12});if(!rs)return Promise.resolve();var ys=rs.index;switch(Mr.current){case _e.ViewMode.DualPage:ys=ys%2==0?ys:ys+1;break;case _e.ViewMode.DualPageWithCover:ys=ys%2==1?ys:ys+1}return Js(ys,ps)},[]),no=St.useCallback(function(xs,ps){for(var is=zr.current.measurements,as=is[xs].start,rs=xs,ys=!1,As=Vn-1;As>=0;As--)if(as.top-is[As].start.top>1e-12){ys=!0,rs=is[As].index;break}if(!ys)return Promise.resolve();switch(Mr.current){case _e.ViewMode.DualPage:rs=rs%2==0?rs:rs-1;break;case _e.ViewMode.DualPageWithCover:rs=rs%2==0?rs-1:rs}return rs===xs&&(rs=xs-1),Js(rs,ps)},[]),Ao=St.useCallback(function(xs,ps){if(Mr.current===_e.ViewMode.DualPageWithCover||Mr.current===_e.ViewMode.DualPage)return ro(xs,ps);switch(br.current){case _e.ScrollMode.Wrapped:return ro(xs,ps);case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:return Js(xs+1,ps)}},[]),zl=St.useCallback(function(xs,ps){if(Mr.current===_e.ViewMode.DualPageWithCover||Mr.current===_e.ViewMode.DualPage)return no(xs,ps);switch(br.current){case _e.ScrollMode.Wrapped:return no(xs,ps);case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:return Js(xs-1,ps)}},[]),Pl=St.useCallback(function(){return function(xs,ps){switch(ps){case _e.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(xs.width,"px")};case _e.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(xs.height,"px"),width:"100%"}}}(Fs,br.current)},[Fs]),ho=St.useCallback(function(xs){return function(ps,is,as){return as!==_e.ScrollMode.Page?{}:{height:"".concat(is.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(ps.start.top,"px)")}}(xs,Gr,br.current)},[Gr]),jo=St.useCallback(function(xs){return function(ps,is,as,rs,ys){var As,os,Kr,Ts,Rs,Qs,Ws,xo=is?"right":"left",zo=is?-1:1,Ps=as.length,bo=ps.start.left*zo,na=ps.size,ba=na.height,lo=na.width;if(rs===_e.ViewMode.DualPageWithCover){var zs=ys===_e.ScrollMode.Page?0:ps.start.top;return ps.index===0||Ps%2==0&&ps.index===Ps-1?((As={height:"".concat(ba,"px"),minWidth:"".concat(hs(as,rs),"px"),width:"100%"})[xo]=0,As.position="absolute",As.top=0,As.transform="translate(".concat(bo,"px, ").concat(zs,"px)"),As):((os={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,os.position="absolute",os.top=0,os.transform="translate(".concat(bo,"px, ").concat(zs,"px)"),os)}if(rs===_e.ViewMode.DualPage)return(Kr={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,Kr.position="absolute",Kr.top=0,Kr.transform="translate(".concat(bo,"px, ").concat(ys===_e.ScrollMode.Page?0:ps.start.top,"px)"),Kr;switch(ys){case _e.ScrollMode.Horizontal:return(Ts={height:"100%",width:"".concat(lo,"px")})[xo]=0,Ts.position="absolute",Ts.top=0,Ts.transform="translateX(".concat(bo,"px)"),Ts;case _e.ScrollMode.Page:return(Rs={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,Rs.position="absolute",Rs.top=0,Rs;case _e.ScrollMode.Wrapped:return(Qs={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,Qs.position="absolute",Qs.top=0,Qs.transform="translate(".concat(bo,"px, ").concat(ps.start.top,"px)"),Qs;case _e.ScrollMode.Vertical:default:return(Ws={height:"".concat(ba,"px"),width:"100%"})[xo]=0,Ws.position="absolute",Ws.top=0,Ws.transform="translateY(".concat(ps.start.top,"px)"),Ws}}(xs,rr,qn,Mr.current,br.current)},[rr,qn]),u0=St.useCallback(function(xs,ps){var is=zr.current,as=is.measurements,rs=is.scrollOffset,ys=as[Xr(0,Vn-1,ps)];if(ys){var As=br.current===_e.ScrollMode.Page?{left:ys.start.left,top:ys.start.top}:{left:rs.left*xs,top:rs.top*xs};return Ir(As,!1)}return Promise.resolve()},[]);return St.useEffect(function(){return function(){Cs.disconnect()}},[]),{boundingClientRect:Gr,isSmoothScrolling:ar,startPage:Ms,endPage:Us,maxVisbilityIndex:Zs,virtualItems:eo,getContainerStyles:Pl,getItemContainerStyles:ho,getItemStyles:jo,scrollToItem:Js,scrollToNextItem:Ao,scrollToPreviousItem:zl,zoom:u0}},Tl=function(Bn,Gn,rr,Vn,Dt,yn){var qn=rr;switch(!0){case(Dt===_e.ViewMode.DualPageWithCover&&yn>=3):case(Dt===_e.ViewMode.DualPage&&yn>=3):qn=2*rr;break;default:qn=rr}switch(Vn){case _e.SpecialZoomLevel.ActualSize:return 1;case _e.SpecialZoomLevel.PageFit:return Math.min((Bn.clientWidth-17)/qn,(Bn.clientHeight-16)/Gn);case _e.SpecialZoomLevel.PageWidth:return(Bn.clientWidth-17)/qn}},V1=function(Bn){var Gn,rr,Vn=Bn.getCurrentPage,Dt=(Gn=50,rr=St.useRef([]),St.useEffect(function(){return function(){rr.current=[]}},[]),{push:function(ir){var ar=rr.current;ar.length+1>Gn&&ar.shift(),ar.push(ir),rr.current=ar},map:function(ir){return rr.current.map(function(ar){return ir(ar)})},pop:function(){var ir=rr.current;if(ir.length===0)return null;var ar=ir.pop();return rr.current=ir,ar}}),yn=function(ir){var ar=St.useRef([]);return St.useEffect(function(){return function(){ar.current=[]}},[]),{dequeue:function(){var gr=ar.current;if(gr.length===0)return null;var mr=gr.shift();return ar.current=gr,mr||null},enqueue:function(gr){var mr=ar.current;mr.length+1>ir&&mr.pop(),ar.current=[gr].concat(mr)},map:function(gr){return ar.current.map(function(mr){return gr(mr)})}}}(50),qn=function(){var ir=yn.dequeue();return ir&&Dt.push(ir),ir&&ir.pageIndex===Vn()?qn():ir},_i=function(){var ir=Dt.pop();return ir&&yn.enqueue(ir),ir&&ir.pageIndex===Vn()?_i():ir},Kn=St.useCallback(function(ir){Dt.push(ir)},[]);return{getNextDestination:qn,getPreviousDestination:_i,markVisitedDestination:Kn}},Tp=function(Bn){var Gn=[];return Bn.map(function(rr){Gn=Gn.concat(rr).concat(function(Vn){var Dt=[];return Vn.items&&Vn.items.length>0&&(Dt=Dt.concat(Tp(Vn.items))),Dt}(rr))}),Gn},Pp={capture:!1,passive:!0},z1={height:0,width:0},vu={height:0,width:0},_p=function(Bn){var Gn=Bn.getCurrentPage,rr=Bn.getCurrentScrollMode,Vn=Bn.jumpToPage,Dt=Bn.targetRef,yn=St.useState(_e.FullScreenMode.Normal),qn=yn[0],_i=yn[1],Kn=function(){var jr=St.useState(z1),Nr=jr[0],Cs=jr[1],ks=bn(function(){Cs({height:window.innerHeight,width:window.innerWidth})},100);return Ft(function(){return window.addEventListener("resize",ks,Pp),function(){window.removeEventListener("resize",ks,Pp)}},[]),Nr}(),ir=St.useState(vu),ar=ir[0],gr=ir[1],mr=St.useRef(vu),br=St.useRef(Gn()),Mr=St.useRef(vu),Er=St.useState(Dt.current),kr=Er[0],ts=Er[1],Ir=St.useRef();Ft(function(){Dt.current!==kr&&ts(Dt.current)},[]),Ft(function(){if(kr){var jr=new ResizeObserver(function(Nr){Nr.forEach(function(Cs){var ks=Cs.target.getBoundingClientRect(),Fs=ks.height,_s=ks.width;gr({height:Fs,width:_s})})});return jr.observe(kr),function(){jr.unobserve(kr),jr.disconnect()}}},[kr]);var Gr=St.useCallback(function(jr){var Nr=tn();return Nr&&Nr!==jr?(_i(_e.FullScreenMode.Normal),gn(Nr)):Promise.resolve()},[]),zr=St.useCallback(function(jr){jr&&en()&&(ts(jr),Gr(jr).then(function(){Ir.current=jr,_i(_e.FullScreenMode.Entering),function(Nr){Qt&&Nr[ln.RequestFullScreen]()}(jr)}))},[]),Hr=St.useCallback(function(){tn()&&(_i(_e.FullScreenMode.Exitting),gn(document))},[]),Qr=St.useCallback(function(){kr&&tn()!==kr&&_i(_e.FullScreenMode.Exitting)},[kr]);return St.useEffect(function(){switch(qn){case _e.FullScreenMode.Entering:Ir.current&&(Ir.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),br.current=Gn(),mr.current={height:window.innerHeight,width:window.innerWidth};break;case _e.FullScreenMode.Entered:rr()===_e.ScrollMode.Page?Vn(br.current).then(function(){_i(_e.FullScreenMode.EnteredCompletely)}):_i(_e.FullScreenMode.EnteredCompletely);break;case _e.FullScreenMode.Exitting:Ir.current&&(Ir.current.style.backgroundColor="",Ir.current=null),br.current=Gn();break;case _e.FullScreenMode.Exited:_i(_e.FullScreenMode.Normal),rr()===_e.ScrollMode.Page&&Vn(br.current)}},[qn]),St.useEffect(function(){if(qn!==_e.FullScreenMode.Normal)return qn===_e.FullScreenMode.Entering&&Kn.height===ar.height&&Kn.width===ar.width&&Kn.height>0&&Kn.width>0&&(Mr.current.height===0||Kn.height==Mr.current.height)?(Mr.current={height:window.innerHeight,width:window.innerWidth},void _i(_e.FullScreenMode.Entered)):void(qn===_e.FullScreenMode.Exitting&&mr.current.height===Kn.height&&mr.current.width===Kn.width&&Kn.height>0&&Kn.width>0&&_i(_e.FullScreenMode.Exited))},[qn,Kn,ar]),St.useEffect(function(){var jr;return jr=Qr,Qt&&document.addEventListener(ln.FullScreenChange,jr),function(){(function(Nr){Qt&&document.removeEventListener(ln.FullScreenChange,Nr)})(Qr)}},[kr]),{enterFullScreenMode:zr,exitFullScreenMode:Hr,fullScreenMode:qn}},wu={buildPageStyles:function(){return{}},transformSize:function(Bn){return Bn.size}},Vl={left:0,top:0},X1=function(Bn){var Gn=Bn.currentFile,rr=Bn.defaultScale,Vn=Bn.doc,Dt=Bn.enableSmoothScroll,yn=Bn.initialPage,qn=Bn.initialRotation,_i=Bn.initialScale,Kn=Bn.pageLayout,ir=Bn.pageSizes,ar=Bn.plugins,gr=Bn.renderPage,mr=Bn.scrollMode,br=Bn.setRenderRange,Mr=Bn.viewMode,Er=Bn.viewerState,kr=Bn.onDocumentLoad,ts=Bn.onOpenFile,Ir=Bn.onPageChange,Gr=Bn.onRotate,zr=Bn.onRotatePage,Hr=Bn.onZoom,Qr=Vn.numPages,jr=Vn.loadingTask.docId,Nr=St.useContext(an).l10n,Cs=St.useContext(ht),ks=Cs.direction===_e.TextDirection.RightToLeft,Fs=St.useRef(),_s=St.useRef(),Ms=St.useState(yn),Us=Ms[0],Zs=Ms[1],eo=St.useRef(null),Js=V1({getCurrentPage:function(){return Ps.current.pageIndex}}),ro=St.useState(qn),no=ro[0],Ao=ro[1],zl=Yt(no),Pl=St.useState(!1),ho=Pl[0],jo=Pl[1],u0=St.useState(new Map),xs=u0[0],ps=u0[1],is=St.useState(mr),as=is[0],rs=is[1],ys=Yt(as),As=St.useState(Mr),os=As[0],Kr=As[1],Ts=Yt(os),Rs=function(Lr){var Es=Xt(),Is=St.useState([]),Hs=Is[0],js=Is[1];return St.useEffect(function(){Lr.getOutline().then(function(Os){if(Es.current&&Os!==null){var co=Tp(Os);js(co)}})},[]),Hs}(Vn),Qs=St.useState(_i),Ws=Qs[0],xo=Qs[1],zo=Yt(Ws),Ps=St.useRef(Er),bo=St.useRef(typeof rr=="string"?rr:null),na=St.useRef(-1),ba=St.useRef(-1),lo=St.useRef(yn),zs=_p({getCurrentPage:function(){return Ps.current.pageIndex},getCurrentScrollMode:function(){return Ps.current.scrollMode},jumpToPage:function(Lr){return W0(Lr)},targetRef:_s}),z0=St.useState(-1),Ip=z0[0],Yx=z0[1],Eu=St.useState(0),K1=Eu[0],k5=Eu[1],Xo=Lt({doc:Vn});St.useEffect(function(){return function(){Tn.clear(),Mn.clear()}},[jr]);var r3=St.useMemo(function(){return Object.assign({},wu,Kn)},[]),T5=St.useMemo(function(){return Array(Qr).fill(0).map(function(Lr,Es){var Is=[ir[Es].pageHeight,ir[Es].pageWidth],Hs=Math.abs(no)%180==0?{height:Is[0],width:Is[1]}:{height:Is[1],width:Is[0]},js={height:Hs.height*Ws,width:Hs.width*Ws};return r3.transformSize({numPages:Qr,pageIndex:Es,size:js})})},[no,Ws]),qs=wo({enableSmoothScroll:Dt,isRtl:ks,numberOfItems:Qr,parentRef:_s,scrollMode:as,setRenderRange:br,sizes:T5,viewMode:os}),P5=bn(function(){!bo.current||Ps.current.fullScreenMode!==_e.FullScreenMode.Normal||yn>0&&lo.current===yn||ku(bo.current)},200);(function(Lr){var Es=Lr.targetRef,Is=Lr.onResize;Ft(function(){var Hs=new ResizeObserver(function(Os){Os.forEach(function(co){Is(co.target)})}),js=Es.current;if(js)return Hs.observe(js),function(){Hs.unobserve(js)}},[])})({targetRef:_s,onResize:P5});var X0=function(Lr){var Es=Lr;ar.forEach(function(Is){Is.onViewerStateChange&&(Es=Is.onViewerStateChange(Es))}),Ps.current=Es},_5=function(){return _s.current},F5=function(){return Ps.current},R5=St.useCallback(function(Lr){Js.markVisitedDestination(Lr)},[]),oy=St.useCallback(function(Lr){var Es=Lr.pageIndex,Is=Lr.bottomOffset,Hs=Lr.leftOffset,js=Lr.scaleTo,Os=_s.current,co=Ps.current;return Os&&co?new Promise(function(G0,fy){Dn(Vn,Es).then(function(Zx){var q0=Zx.getViewport({scale:1}),Jx=0,d3=(typeof Is=="function"?Is(q0.width,q0.height):Is)||0,Qx=(typeof Hs=="function"?Hs(q0.width,q0.height):Hs)||0,Op=co.scale;switch(js){case _e.SpecialZoomLevel.PageFit:Jx=0,Qx=0,ku(_e.SpecialZoomLevel.PageFit);break;case _e.SpecialZoomLevel.PageWidth:Op=Tl(Os,ir[Es].pageHeight,ir[Es].pageWidth,_e.SpecialZoomLevel.PageWidth,Mr,Qr),Jx=(q0.height-d3)*Op,Qx*=Op,ku(Op);break;default:Jx=(q0.height-d3)*Op,Qx*=Op}switch(co.scrollMode){case _e.ScrollMode.Horizontal:qs.scrollToItem(Es,{left:Qx,top:0}).then(function(){G0()});break;case _e.ScrollMode.Vertical:default:qs.scrollToItem(Es,{left:0,top:Jx}).then(function(){G0()})}})}):Promise.resolve()},[]),s3=St.useCallback(function(Lr){return Js.markVisitedDestination(Lr),oy(Lr)},[]),M5=St.useCallback(function(){var Lr=Js.getNextDestination();return Lr?oy(Lr):Promise.resolve()},[]),I5=St.useCallback(function(){var Lr=Js.getPreviousDestination();return Lr?oy(Lr):Promise.resolve()},[]),O5=St.useCallback(function(){return qs.scrollToNextItem(Ps.current.pageIndex,Vl)},[]),W0=St.useCallback(function(Lr){return 0<=Lr&&Lr<Qr?qs.scrollToItem(Lr,Vl):Promise.resolve()},[]),L5=St.useCallback(function(){return qs.scrollToPreviousItem(Ps.current.pageIndex,Vl)},[]),a3=St.useCallback(function(Lr){var Es,Is;(Es=Lr.name,Is=Es.split(/\./).pop(),Is?Is.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Hs){var js=new FileReader;js.readAsArrayBuffer(Lr),js.onload=function(){var Os=new Uint8Array(js.result);Hs(Os)}}).then(function(Hs){ts(Lr.name,Hs)})},[ts]),o3=St.useCallback(function(Lr){var Es=Lr===_e.RotateDirection.Backward?-90:90,Is=Ps.current.rotation,Hs=Is===360||Is===-360?Es:Is+Es;Xo.markNotRendered(),Ao(Hs),X0(kt(kt({},Ps.current),{rotation:Hs})),Gr({direction:Lr,doc:Vn,rotation:Hs})},[]),ly=St.useCallback(function(Lr,Es){var Is=Es===_e.RotateDirection.Backward?-90:90,Hs=Ps.current.pagesRotation,js=(Hs.has(Lr)?Hs.get(Lr):qn)+Is,Os=Hs.set(Lr,js);ps(Os),jo(function(co){return!co}),X0(kt(kt({},Ps.current),{pagesRotation:Os,rotatedPage:Lr})),zr({direction:Es,doc:Vn,pageIndex:Lr,rotation:js}),Xo.markRendering(Lr),Yx(Lr)},[]),l3=St.useCallback(function(Lr){X0(kt(kt({},Ps.current),{scrollMode:Lr})),rs(Lr)},[]),c3=St.useCallback(function(Lr){X0(kt(kt({},Ps.current),{viewMode:Lr})),Kr(Lr)},[]),ku=St.useCallback(function(Lr){var Es=_s.current,Is=Ps.current.pageIndex;if(!(Is<0||Is>=Qr)){var Hs=ir[Is].pageHeight,js=ir[Is].pageWidth,Os=Es?typeof Lr=="string"?Tl(Es,Hs,js,Lr,Ps.current.viewMode,Qr):Lr:1;bo.current=typeof Lr=="string"?Lr:null,Os!==Ps.current.scale&&(k5(function(co){return co+1}),Xo.markNotRendered(),xo(Os),Hr({doc:Vn,scale:Os}),X0(kt(kt({},Ps.current),{scale:Os})))}},[]),D5=St.useCallback(function(Lr){zs.enterFullScreenMode(Lr)},[]),N5=St.useCallback(function(){zs.exitFullScreenMode()},[]);St.useEffect(function(){X0(kt(kt({},Ps.current),{fullScreenMode:zs.fullScreenMode}))},[zs.fullScreenMode]),St.useEffect(function(){var Lr={enterFullScreenMode:D5,exitFullScreenMode:N5,getPagesContainer:_5,getViewerState:F5,jumpToDestination:s3,jumpToNextDestination:M5,jumpToPreviousDestination:I5,jumpToNextPage:O5,jumpToPreviousPage:L5,jumpToPage:W0,openFile:a3,rotate:o3,rotatePage:ly,setViewerState:X0,switchScrollMode:l3,switchViewMode:c3,zoom:ku};return ar.forEach(function(Es){Es.install&&Es.install(Lr)}),function(){ar.forEach(function(Es){Es.uninstall&&Es.uninstall(Lr)})}},[jr]),St.useEffect(function(){kr({doc:Vn,file:Gn}),ar.forEach(function(Lr){Lr.onDocumentLoad&&Lr.onDocumentLoad({doc:Vn,file:Gn})})},[jr]);var cy,uy,hy,u3=qs.boundingClientRect;cy=function(){yn&&W0(yn)},uy=u3.height>0&&u3.width>0,hy=St.useRef(!1),Ft(function(){uy&&!hy.current&&(hy.current=!0,cy())},[cy,uy]),Ft(function(){var Lr=Ps.current.pageIndex;Lr>-1&&ys!==as&&qs.scrollToItem(Lr,Vl).then(function(){zs.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&(Dt||Xo.markNotRendered(),na.current=-1)})},[as]),Ft(function(){var Lr=Ps.current.pageIndex;Lr>-1&&zl!==no&&qs.scrollToItem(Lr,Vl)},[no]),Ft(function(){zo!=0&&zo!=Ps.current.scale&&qs.zoom(Ps.current.scale/zo,Ps.current.pageIndex).then(function(){zs.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&(ba.current=-1)})},[Ws]),Ft(function(){if(Ts!==Ps.current.viewMode){var Lr=qs.startPage,Es=qs.endPage,Is=qs.virtualItems;Xo.markNotRendered(),Xo.setRange(Lr,Es);for(var Hs=function(Os){var co=Is.find(function(G0){return G0.index===Os});co&&Xo.setVisibility(Os,co.visibility)},js=Lr;js<=Es;js++)Hs(js);dy()}},[os]),Ft(function(){var Lr=Ps.current.pageIndex;Lr>-1&&Ts!==os&&qs.scrollToItem(Lr,Vl)},[os]),Ft(function(){var Lr=Ps.current.pageIndex;Lr>0&&Lr===yn&&lo.current===yn&&bo.current&&(lo.current=-1,ku(bo.current))},[Us]),St.useEffect(function(){qs.isSmoothScrolling||eo.current!==null&&eo.current===Us||(eo.current=Us,Ir({currentPage:Us,doc:Vn}))},[Us,qs.isSmoothScrolling]),St.useEffect(function(){zs.fullScreenMode===_e.FullScreenMode.Entering&&Ps.current.scrollMode===_e.ScrollMode.Page&&(na.current=Ps.current.pageIndex),zs.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&Ps.current.scrollMode===_e.ScrollMode.Page&&Dt&&(na.current=-1),zs.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&bo.current&&(ba.current=Ps.current.pageIndex,ku(bo.current))},[zs.fullScreenMode]),St.useEffect(function(){if(zs.fullScreenMode!==_e.FullScreenMode.Entering&&zs.fullScreenMode!==_e.FullScreenMode.Exitting&&!qs.isSmoothScrolling){var Lr=qs.startPage,Es=qs.endPage,Is=qs.maxVisbilityIndex,Hs=qs.virtualItems,js=Is,Os=zs.fullScreenMode===_e.FullScreenMode.Entered||zs.fullScreenMode===_e.FullScreenMode.EnteredCompletely;if(!(Os&&js!==na.current&&na.current>-1||Os&&js!==ba.current&&ba.current>-1)){Zs(js),X0(kt(kt({},Ps.current),{pageIndex:js})),Xo.setRange(Lr,Es);for(var co=function(fy){var Zx=Hs.find(function(q0){return q0.index===fy});Zx&&Xo.setVisibility(fy,Zx.visibility)},G0=Lr;G0<=Es;G0++)co(G0);dy()}}},[qs.startPage,qs.endPage,qs.isSmoothScrolling,qs.maxVisbilityIndex,zs.fullScreenMode,ho,no,Ws]);var $5=St.useCallback(function(Lr){Xo.markRendered(Lr),dy()},[K1]),dy=function(){var Lr=Xo.getHighestPriorityPage();Lr>-1&&Xo.isInRange(Lr)&&(Xo.markRendering(Lr),Yx(Lr))},B5=function(Lr){var Es=Us-1,Is=Us+1;switch(Lr){case"FirstPage":W0(0);break;case"LastPage":W0(Qr-1);break;case"NextPage":Is<Qr&&W0(Is);break;case"PrevPage":Es>=0&&W0(Es)}},j5=St.useCallback(function(){var Lr=qs.virtualItems,Es=[];switch(os){case _e.ViewMode.DualPage:Es=Cn(Lr,2);break;case _e.ViewMode.DualPageWithCover:Lr.length&&(Es=Lr[0].index===0?[[Lr[0]]].concat(Cn(Lr.slice(1),2)):Cn(Lr,2));break;case _e.ViewMode.SinglePage:default:Es=Cn(Lr,1)}var Is=Nr&&Nr.core?Nr.core.pageLabel:"Page {{pageIndex}}",Hs={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Fs,style:{height:"100%"}},children:St.createElement(St.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:vt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":as===_e.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":ks,"rpv-core__inner-pages--single":as===_e.ScrollMode.Page,"rpv-core__inner-pages--vertical":as===_e.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":as===_e.ScrollMode.Wrapped}),ref:_s,style:{height:"100%",position:"relative"}},children:St.createElement("div",{"data-testid":"core__inner-current-page-".concat(Us),style:Object.assign({"--scale-factor":Ws},qs.getContainerStyles())},Es.map(function(js){return St.createElement("div",{className:vt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":as===_e.ScrollMode.Page}),style:qs.getItemContainerStyles(js[0]),key:"".concat(js[0].index,"-").concat(os)},js.map(function(Os){var co=os===_e.ViewMode.DualPageWithCover&&(Os.index===0||Qr%2==0&&Os.index===Qr-1);return St.createElement("div",{"aria-label":Is.replace("{{pageIndex}}","".concat(Os.index+1)),className:vt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":os===_e.ViewMode.DualPage&&Os.index%2==0,"rpv-core__inner-page--dual-odd":os===_e.ViewMode.DualPage&&Os.index%2==1,"rpv-core__inner-page--dual-cover":co,"rpv-core__inner-page--dual-cover-even":os===_e.ViewMode.DualPageWithCover&&!co&&Os.index%2==0,"rpv-core__inner-page--dual-cover-odd":os===_e.ViewMode.DualPageWithCover&&!co&&Os.index%2==1,"rpv-core__inner-page--single":os===_e.ViewMode.SinglePage&&as===_e.ScrollMode.Page}),role:"region",key:"".concat(Os.index,"-").concat(os),style:Object.assign({},qs.getItemStyles(Os),r3.buildPageStyles({numPages:Qr,pageIndex:Os.index,scrollMode:as,viewMode:os}))},St.createElement(Tr,{doc:Vn,measureRef:Os.measureRef,outlines:Rs,pageIndex:Os.index,pageRotation:xs.has(Os.index)?xs.get(Os.index):0,pageSize:ir[Os.index],plugins:ar,renderPage:gr,renderQueueKey:K1,rotation:no,scale:Ws,shouldRender:Ip===Os.index,viewMode:os,onExecuteNamedAction:B5,onJumpFromLinkAnnotation:R5,onJumpToDest:s3,onRenderCompleted:$5,onRotatePage:ly}))}))}))}};return ar.forEach(function(js){js.renderViewer&&(Hs=js.renderViewer({containerRef:Fs,doc:Vn,pagesContainerRef:_s,pagesRotation:xs,pageSizes:ir,rotation:no,slot:Hs,themeContext:Cs,jumpToPage:W0,openFile:a3,rotate:o3,rotatePage:ly,switchScrollMode:l3,switchViewMode:c3,zoom:ku}))}),Hs},[ar,qs]),h3=St.useCallback(function(Lr){return St.createElement("div",kt({},Lr.attrs,{style:Lr.attrs&&Lr.attrs.style?Lr.attrs.style:{}}),Lr.children,Lr.subSlot&&h3(Lr.subSlot))},[]);return h3(j5())},Fp=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Au=function(Bn){var Gn=Bn.defaultScale,rr=Bn.doc,Vn=Bn.render,Dt=Bn.scrollMode,yn=Bn.viewMode,qn=St.useRef(),_i=St.useState({pageSizes:[],scale:0}),Kn=_i[0],ir=_i[1];return St.useLayoutEffect(function(){var ar=Array(rr.numPages).fill(0).map(function(gr,mr){return new Promise(function(br,Mr){Dn(rr,mr).then(function(Er){var kr=Er.getViewport({scale:1});br({pageHeight:kr.height,pageWidth:kr.width,rotation:kr.rotation})})})});Promise.all(ar).then(function(gr){var mr=qn.current;if(mr&&gr.length!==0){var br=gr[0].pageWidth,Mr=gr[0].pageHeight,Er=mr.parentElement,kr=(Er.clientWidth-45)/br,ts=(Er.clientHeight-45)/Mr,Ir=kr;switch(Dt){case _e.ScrollMode.Horizontal:Ir=Math.min(kr,ts);break;case _e.ScrollMode.Vertical:default:Ir=kr}var Gr,zr,Hr=Gn?typeof Gn=="string"?Tl(Er,Mr,br,Gn,yn,rr.numPages):Gn:(Gr=Ir,(zr=Fp.findIndex(function(Qr){return Qr>=Gr}))===-1||zr===0?Gr:Fp[zr-1]);ir({pageSizes:gr,scale:Hr})}})},[rr.loadingTask.docId]),Kn.pageSizes.length===0||Kn.scale===0?St.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:qn},St.createElement(Mt,null)):Vn(Kn.pageSizes,Kn.scale)},c0=function(){},V0=function(Bn){function Gn(rr,Vn){var Dt=Bn.call(this)||this;return Dt.verifyPassword=rr,Dt.passwordStatus=Vn,Dt}return Pt(Gn,Bn),Gn}(c0),W1=function(Bn){var Gn=Bn.passwordStatus,rr=Bn.renderProtectedView,Vn=Bn.verifyPassword,Dt=Bn.onDocumentAskPassword,yn=St.useContext(an).l10n,qn=St.useState(""),_i=qn[0],Kn=qn[1],ir=St.useContext(ht).direction===_e.TextDirection.RightToLeft,ar=function(){return Vn(_i)};return St.useEffect(function(){Dt&&Dt({verifyPassword:Vn})},[]),rr?rr({passwordStatus:Gn,verifyPassword:Vn}):St.createElement("div",{className:"rpv-core__asking-password-wrapper"},St.createElement("div",{className:vt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":ir})},St.createElement("div",{className:"rpv-core__asking-password-message"},Gn===_e.PasswordStatus.RequiredPassword&&yn.core.askingPassword.requirePasswordToOpen,Gn===_e.PasswordStatus.WrongPassword&&yn.core.wrongPassword.tryAgain),St.createElement("div",{className:"rpv-core__asking-password-body"},St.createElement("div",{className:vt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!ir,"rpv-core__asking-password-input--rtl":ir})},St.createElement(Bt,{testId:"core__asking-password-input",type:"password",value:_i,onChange:Kn,onKeyDown:function(gr){gr.key==="Enter"&&ar()}})),St.createElement($t,{onClick:ar},yn.core.askingPassword.submit))))},Rp=function(Bn){function Gn(rr){var Vn=Bn.call(this)||this;return Vn.doc=rr,Vn}return Pt(Gn,Bn),Gn}(c0),Mp=function(Bn){function Gn(rr){var Vn=Bn.call(this)||this;return Vn.error=rr,Vn}return Pt(Gn,Bn),Gn}(c0),Su=function(Bn){function Gn(rr){var Vn=Bn.call(this)||this;return Vn.percentages=rr,Vn}return Pt(Gn,Bn),Gn}(c0),G1=function(Bn){var Gn=Bn.characterMap,rr=Bn.file,Vn=Bn.httpHeaders,Dt=Bn.render,yn=Bn.renderError,qn=Bn.renderLoader,_i=Bn.renderProtectedView,Kn=Bn.transformGetDocumentParams,ir=Bn.withCredentials,ar=Bn.onDocumentAskPassword,gr=St.useContext(ht).direction===_e.TextDirection.RightToLeft,mr=St.useState(new Su(0)),br=mr[0],Mr=mr[1],Er=St.useRef(""),kr=Xt();return St.useEffect(function(){Er.current="",Mr(new Su(0));var ts=new Et.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Ir=Object.assign({httpHeaders:Vn,withCredentials:ir,worker:ts},typeof rr=="string"?{url:rr}:{data:rr},Gn?{cMapUrl:Gn.url,cMapPacked:Gn.isCompressed}:{}),Gr=Kn?Kn(Ir):Ir,zr=Et.getDocument(Gr);return zr.onPassword=function(Hr,Qr){switch(Qr){case Et.PasswordResponses.NEED_PASSWORD:kr.current&&Mr(new V0(Hr,_e.PasswordStatus.RequiredPassword));break;case Et.PasswordResponses.INCORRECT_PASSWORD:kr.current&&Mr(new V0(Hr,_e.PasswordStatus.WrongPassword))}},zr.onProgress=function(Hr){var Qr=Hr.total>0?Math.min(100,100*Hr.loaded/Hr.total):100;kr.current&&Er.current===""&&Mr(new Su(Qr))},zr.promise.then(function(Hr){Er.current=Hr.loadingTask.docId,kr.current&&Mr(new Rp(Hr))},function(Hr){return kr.current&&!ts.destroyed&&Mr(new Mp({message:Hr.message||"Cannot load document",name:Hr.name}))}),function(){zr.destroy(),ts.destroy()}},[rr]),br instanceof V0?St.createElement(W1,{passwordStatus:br.passwordStatus,renderProtectedView:_i,verifyPassword:br.verifyPassword,onDocumentAskPassword:ar}):br instanceof Rp?Dt(br.doc):br instanceof Mp?yn?yn(br.error):St.createElement("div",{className:vt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":gr})},St.createElement("div",{className:"rpv-core__doc-error-text"},br.error.message)):St.createElement("div",{"data-testid":"core__doc-loading",className:vt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":gr})},qn?qn(br.percentages):St.createElement(Mt,null))},Cu=function(Bn,Gn){var rr=St.useMemo(function(){return Bn==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Bn},[]),Vn=St.useState(rr),Dt=Vn[0],yn=Vn[1],qn=Yt(Dt);return St.useEffect(function(){if(Bn==="auto"){var _i=window.matchMedia("(prefers-color-scheme: dark)"),Kn=function(ir){yn(ir.matches?"dark":"light")};return _i.addEventListener("change",Kn),function(){return _i.removeEventListener("change",Kn)}}},[]),St.useEffect(function(){Dt!==qn&&Gn&&Gn(Dt)},[Dt]),St.useEffect(function(){Bn!==Dt&&yn(Bn)},[Bn]),{currentTheme:Dt,setCurrentTheme:yn}},q1=function(Bn){return{startPage:Bn.startPage-3,endPage:Bn.endPage+3}};_e.Button=function(Bn){var Gn=Bn.children,rr=Bn.testId,Vn=Bn.onClick,Dt=St.useContext(ht).direction===_e.TextDirection.RightToLeft,yn=rr?{"data-testid":rr}:{};return St.createElement("button",kt({className:vt({"rpv-core__button":!0,"rpv-core__button--rtl":Dt}),type:"button",onClick:Vn},yn),Gn)},_e.Icon=qt,_e.LazyRender=function(Bn){var Gn=Bn.attrs,rr=Bn.children,Vn=Bn.testId,Dt=St.useState(!1),yn=Dt[0],qn=Dt[1],_i=Vn?kt(kt({},Gn),{"data-testid":Vn}):Gn,Kn=Ht({once:!0,onVisibilityChanged:function(ir){ir.isVisible&&qn(!0)}});return St.createElement("div",kt({ref:Kn},_i),yn&&rr)},_e.LocalizationContext=an,_e.Menu=function(Bn){var Gn=Bn.children,rr=St.useRef(),Vn=St.useRef([]),Dt=St.useContext(ht).direction===_e.TextDirection.RightToLeft,yn=function(_i){if(rr.current)switch(_i.key){case"Tab":_i.preventDefault();break;case"ArrowDown":_i.preventDefault(),qn(function(Kn,ir){return ir+1});break;case"ArrowUp":_i.preventDefault(),qn(function(Kn,ir){return ir-1});break;case"End":_i.preventDefault(),qn(function(Kn,ir){return Kn.length-1});break;case"Home":_i.preventDefault(),qn(function(Kn,ir){return 0})}},qn=function(_i){if(rr.current){var Kn=Vn.current,ir=Kn.findIndex(function(gr){return gr.getAttribute("tabindex")==="0"}),ar=Math.min(Kn.length-1,Math.max(0,_i(Kn,ir)));ir>=0&&ir<=Kn.length-1&&Kn[ir].setAttribute("tabindex","-1"),Kn[ar].setAttribute("tabindex","0"),Kn[ar].focus()}};return Ft(function(){var _i=rr.current;if(_i){var Kn=function(ir){var ar=[];return ir.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(gr){if(gr instanceof HTMLElement){var mr=gr.parentElement;(mr===ir||window.getComputedStyle(mr).display!=="none")&&ar.push(gr)}}),ar}(_i);Vn.current=Kn}},[]),Ft(function(){return document.addEventListener("keydown",yn),function(){document.removeEventListener("keydown",yn)}},[]),St.createElement("div",{ref:rr,"aria-orientation":"vertical",className:vt({"rpv-core__menu":!0,"rpv-core__menu--rtl":Dt}),role:"menu",tabIndex:0},Gn)},_e.MenuDivider=function(){return St.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},_e.MenuItem=function(Bn){var Gn=Bn.checked,rr=Gn!==void 0&&Gn,Vn=Bn.children,Dt=Bn.icon,yn=Dt===void 0?null:Dt,qn=Bn.isDisabled,_i=qn!==void 0&&qn,Kn=Bn.testId,ir=Bn.onClick,ar=St.useContext(ht).direction===_e.TextDirection.RightToLeft,gr=Kn?{"data-testid":Kn}:{};return St.createElement("button",kt({className:vt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":_i,"rpv-core__menu-item--ltr":!ar,"rpv-core__menu-item--rtl":ar}),role:"menuitem",tabIndex:-1,type:"button",onClick:ir},gr),St.createElement("div",{className:vt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!ar,"rpv-core__menu-item-icon--rtl":ar})},yn),St.createElement("div",{className:vt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!ar,"rpv-core__menu-item-label--rtl":ar})},Vn),St.createElement("div",{className:vt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!ar,"rpv-core__menu-item-check--rtl":ar})},rr&&St.createElement(Nt,null)))},_e.MinimalButton=function(Bn){var Gn=Bn.ariaLabel,rr=Gn===void 0?"":Gn,Vn=Bn.ariaKeyShortcuts,Dt=Vn===void 0?"":Vn,yn=Bn.children,qn=Bn.isDisabled,_i=qn!==void 0&&qn,Kn=Bn.isSelected,ir=Kn!==void 0&&Kn,ar=Bn.testId,gr=Bn.onClick,mr=St.useContext(ht).direction===_e.TextDirection.RightToLeft,br=ar?{"data-testid":ar}:{};return St.createElement("button",kt({"aria-label":rr},Dt&&{"aria-keyshortcuts":Dt},_i&&{"aria-disabled":!0},{className:vt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":_i,"rpv-core__minimal-button--rtl":mr,"rpv-core__minimal-button--selected":ir}),type:"button",onClick:gr},br),yn)},_e.Modal=function(Bn){var Gn=Bn.ariaControlsSuffix,rr=Bn.closeOnClickOutside,Vn=Bn.closeOnEscape,Dt=Bn.content,yn=Bn.isOpened,qn=yn!==void 0&&yn,_i=Bn.target,Kn=Gn||"".concat(Wt());return St.createElement(xn,{target:_i?function(ir,ar){return St.createElement("div",{"aria-expanded":ar?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Kn)},_i(ir,ar))}:null,content:function(ir){return St.createElement(hn,null,St.createElement(on,{ariaControlsSuffix:Kn,closeOnClickOutside:rr,closeOnEscape:Vn,onToggle:ir},Dt(ir)))},isOpened:qn})},_e.Popover=function(Bn){var Gn=Bn.ariaHasPopup,rr=Gn===void 0?"dialog":Gn,Vn=Bn.ariaControlsSuffix,Dt=Bn.closeOnClickOutside,yn=Bn.closeOnEscape,qn=Bn.content,_i=Bn.lockScroll,Kn=_i===void 0||_i,ir=Bn.offset,ar=Bn.position,gr=Bn.target,mr=rn(!1),br=mr.opened,Mr=mr.toggle,Er=St.useRef(),kr=St.useMemo(function(){return Vn||"".concat(Wt())},[]);return St.createElement("div",{ref:Er,"aria-expanded":br?"true":"false","aria-haspopup":rr,"aria-controls":"rpv-core__popver-body-".concat(kr)},gr(Mr,br),br&&St.createElement(St.Fragment,null,Kn&&St.createElement(wn,{closeOnEscape:yn,onClose:Mr}),St.createElement(pn,{ariaControlsSuffix:kr,closeOnClickOutside:Dt,offset:ir,position:ar,targetRef:Er,onClose:Mr},qn(Mr))))},_e.PrimaryButton=$t,_e.ProgressBar=function(Bn){var Gn=Bn.progress,rr=St.useContext(ht).direction===_e.TextDirection.RightToLeft;return St.createElement("div",{className:vt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":rr})},St.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Gn,"%")}},Gn,"%"))},_e.Separator=function(){return St.createElement("div",{className:"rpv-core__separator"})},_e.Spinner=Mt,_e.Splitter=function(Bn){var Gn=Bn.constrain,rr=St.useContext(ht).direction===_e.TextDirection.RightToLeft,Vn=St.useRef(),Dt=St.useRef(),yn=St.useRef(),qn=St.useRef(0),_i=St.useRef(0),Kn=St.useRef(0),ir=St.useRef(0),ar={capture:!0},gr=function(br){var Mr=Vn.current,Er=Dt.current,kr=yn.current;if(Mr&&Er&&kr){var ts=ir.current,Ir=br.clientX-qn.current,Gr=Kn.current+(rr?-Ir:Ir),zr=Mr.parentElement.getBoundingClientRect().width,Hr=100*Gr/zr;if(Mr.classList.add("rpv-core__splitter--resizing"),Gn){var Qr=zr-Gr-ts;if(!Gn({firstHalfPercentage:Hr,firstHalfSize:Gr,secondHalfPercentage:100*Qr/zr,secondHalfSize:Qr}))return}Er.style.width="".concat(Hr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Er.classList.add("rpv-core__splitter-sibling--resizing"),kr.classList.add("rpv-core__splitter-sibling--resizing")}},mr=function(br){var Mr=Vn.current,Er=Dt.current,kr=yn.current;Mr&&Er&&kr&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Mr.classList.remove("rpv-core__splitter--resizing"),Er.classList.remove("rpv-core__splitter-sibling--resizing"),kr.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",gr,ar),document.removeEventListener("mouseup",mr,ar))};return St.useEffect(function(){var br=Vn.current;br&&(ir.current=br.getBoundingClientRect().width,Dt.current=br.previousElementSibling,yn.current=br.nextElementSibling)},[]),St.createElement("div",{ref:Vn,className:"rpv-core__splitter",onMouseDown:function(br){var Mr=Dt.current;Mr&&(qn.current=br.clientX,_i.current=br.clientY,Kn.current=Mr.getBoundingClientRect().width,document.addEventListener("mousemove",gr,ar),document.addEventListener("mouseup",mr,ar))}})},_e.TextBox=Bt,_e.ThemeContext=ht,_e.Tooltip=function(Bn){var Gn=Bn.ariaControlsSuffix,rr=Bn.content,Vn=Bn.offset,Dt=Bn.position,yn=Bn.target,qn=rn(!1),_i=qn.opened,Kn=qn.toggle,ir=St.useRef(),ar=St.useRef(),gr=St.useMemo(function(){return Gn||"".concat(Wt())},[]);dn(function(){ir.current&&document.activeElement&&ir.current.contains(document.activeElement)&&br()});var mr=function(){Kn(_e.ToggleStatus.Open)},br=function(){Kn(_e.ToggleStatus.Close)};return St.createElement(St.Fragment,null,St.createElement("div",{ref:ir,"aria-describedby":"rpv-core__tooltip-body-".concat(gr),onBlur:function(Mr){Mr.relatedTarget instanceof HTMLElement&&Mr.currentTarget.parentElement&&Mr.currentTarget.parentElement.contains(Mr.relatedTarget)?ar.current&&(ar.current.style.display="none"):br()},onFocus:mr,onMouseEnter:mr,onMouseLeave:br},yn),_i&&St.createElement(En,{ariaControlsSuffix:gr,contentRef:ar,offset:Vn,position:Dt,targetRef:ir},rr()))},_e.Viewer=function(Bn){var Gn=Bn.characterMap,rr=Bn.defaultScale,Vn=Bn.enableSmoothScroll,Dt=Vn===void 0||Vn,yn=Bn.fileUrl,qn=Bn.httpHeaders,_i=qn===void 0?{}:qn,Kn=Bn.initialPage,ir=Kn===void 0?0:Kn,ar=Bn.pageLayout,gr=Bn.initialRotation,mr=gr===void 0?0:gr,br=Bn.localization,Mr=Bn.plugins,Er=Mr===void 0?[]:Mr,kr=Bn.renderError,ts=Bn.renderLoader,Ir=Bn.renderPage,Gr=Bn.renderProtectedView,zr=Bn.scrollMode,Hr=zr===void 0?_e.ScrollMode.Vertical:zr,Qr=Bn.setRenderRange,jr=Qr===void 0?q1:Qr,Nr=Bn.transformGetDocumentParams,Cs=Bn.theme,ks=Cs===void 0?{direction:_e.TextDirection.LeftToRight,theme:"light"}:Cs,Fs=Bn.viewMode,_s=Fs===void 0?_e.ViewMode.SinglePage:Fs,Ms=Bn.withCredentials,Us=Ms!==void 0&&Ms,Zs=Bn.onDocumentAskPassword,eo=Bn.onDocumentLoad,Js=eo===void 0?function(){}:eo,ro=Bn.onPageChange,no=ro===void 0?function(){}:ro,Ao=Bn.onRotate,zl=Ao===void 0?function(){}:Ao,Pl=Bn.onRotatePage,ho=Pl===void 0?function(){}:Pl,jo=Bn.onSwitchTheme,u0=jo===void 0?function(){}:jo,xs=Bn.onZoom,ps=xs===void 0?function(){}:xs,is=St.useState({data:yn,name:typeof yn=="string"?yn:"",shouldLoad:!1}),as=is[0],rs=is[1],ys=function(na,ba){rs({data:ba,name:na,shouldLoad:!0})},As=St.useState(!1),os=As[0],Kr=As[1],Ts=Yt(as);St.useEffect(function(){var na,ba,lo,zs;na=Ts.data,zs=typeof(ba=yn),(lo=typeof na)=="string"&&zs==="string"&&na===ba||lo==="object"&&zs==="object"&&na.length===ba.length&&na.every(function(z0,Ip){return z0===ba[Ip]})||rs({data:yn,name:typeof yn=="string"?yn:"",shouldLoad:os})},[yn,os]);var Rs=Ht({onVisibilityChanged:function(na){Kr(na.isVisible),na.isVisible&&rs(function(ba){return Object.assign({},ba,{shouldLoad:!0})})}}),Qs=typeof ks=="string"?{direction:_e.TextDirection.LeftToRight,theme:ks}:ks,Ws=St.useState(br||Vt),xo=Ws[0],zo=Ws[1],Ps={l10n:xo,setL10n:zo},bo=Object.assign({},{direction:Qs.direction},Cu(Qs.theme||"light",u0));return St.useEffect(function(){br&&zo(br)},[br]),St.createElement(an.Provider,{value:Ps},St.createElement(ht.Provider,{value:bo},St.createElement("div",{ref:Rs,className:"rpv-core__viewer rpv-core__viewer--".concat(bo.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},as.shouldLoad&&St.createElement(G1,{characterMap:Gn,file:as.data,httpHeaders:_i,render:function(na){return St.createElement(Au,{defaultScale:rr,doc:na,render:function(ba,lo){return St.createElement(X1,{currentFile:{data:as.data,name:as.name},defaultScale:rr,doc:na,enableSmoothScroll:Dt,initialPage:ir,initialRotation:mr,initialScale:lo,pageLayout:ar,pageSizes:ba,plugins:Er,renderPage:Ir,scrollMode:Hr,setRenderRange:jr,viewMode:_s,viewerState:{file:as,fullScreenMode:_e.FullScreenMode.Normal,pageIndex:-1,pageHeight:ba[0].pageHeight,pageWidth:ba[0].pageWidth,pagesRotation:new Map,rotation:mr,scale:lo,scrollMode:Hr,viewMode:_s},onDocumentLoad:Js,onOpenFile:ys,onPageChange:no,onRotate:zl,onRotatePage:ho,onZoom:ps})},scrollMode:Hr,viewMode:_s})},renderError:kr,renderLoader:ts,renderProtectedView:Gr,transformGetDocumentParams:Nr,withCredentials:Us,onDocumentAskPassword:Zs}))))},_e.Worker=function(Bn){var Gn=Bn.children,rr=Bn.workerUrl;return Et.GlobalWorkerOptions.workerSrc=rr,St.createElement(St.Fragment,null,Gn)},_e.chunk=Cn,_e.classNames=vt,_e.createStore=function(Bn){var Gn=Bn||{},rr={},Vn=function(yn,qn){var _i;Gn=kt(kt({},Gn),((_i={})[yn]=qn,_i)),(rr[yn]||[]).forEach(function(Kn){return Kn(Gn[yn])})},Dt=function(yn){return Gn[yn]};return{subscribe:function(yn,qn){rr[yn]=(rr[yn]||[]).concat(qn)},unsubscribe:function(yn,qn){rr[yn]=(rr[yn]||[]).filter(function(_i){return _i!==qn})},update:function(yn,qn){Vn(yn,qn)},updateCurrentValue:function(yn,qn){var _i=Dt(yn);_i!==void 0&&Vn(yn,qn(_i))},get:function(yn){return Dt(yn)}}},_e.getDestination=Un,_e.getPage=Dn,_e.isFullScreenEnabled=en,_e.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},_e.useDebounceCallback=bn,_e.useIntersectionObserver=Ht,_e.useIsMounted=Xt,_e.useIsomorphicLayoutEffect=Ft,_e.usePrevious=Yt,_e.useRenderQueue=Lt})(core_min);export{AnimatePresence as A,BrowserRouter as B,CircleCheckBig as C,ForwardRef as F,Loader as L,MessageCircle as M,Routes as R,Send as S,Tt as T,User as U,X,Zt as Z,__webpack_exports__GlobalWorkerOptions as _,axios as a,LoaderCircle as b,ct as c,FileText as d,TriangleAlert as e,ft as f,LineChart as g,CircleX as h,FaEdit as i,jsxRuntimeExports as j,useLocation as k,pdf_worker_entry as l,motion as m,Route as n,client as o,pdfjs as p,React as q,reactExports as r,useNavigate as u};
