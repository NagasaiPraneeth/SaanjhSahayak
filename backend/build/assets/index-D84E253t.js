var fA=Object.defineProperty;var S1=vt=>{throw TypeError(vt)};var pA=(vt,ht,bt)=>ht in vt?fA(vt,ht,{enumerable:!0,configurable:!0,writable:!0,value:bt}):vt[ht]=bt;var Tr=(vt,ht,bt)=>pA(vt,typeof ht!="symbol"?ht+"":ht,bt),C_=(vt,ht,bt)=>ht.has(vt)||S1("Cannot "+bt);var Ct=(vt,ht,bt)=>(C_(vt,ht,"read from private field"),bt?bt.call(vt):ht.get(vt)),Qt=(vt,ht,bt)=>ht.has(vt)?S1("Cannot add the same private member more than once"):ht instanceof WeakSet?ht.add(vt):ht.set(vt,bt),qt=(vt,ht,bt,_t)=>(C_(vt,ht,"write to private field"),_t?_t.call(vt,bt):ht.set(vt,bt),bt),Xt=(vt,ht,bt)=>(C_(vt,ht,"access private method"),bt);var ba=(vt,ht,bt,_t)=>({set _(xt){qt(vt,ht,xt,bt)},get _(){return Ct(vt,ht,_t)}});function _mergeNamespaces(vt,ht){for(var bt=0;bt<ht.length;bt++){const _t=ht[bt];if(typeof _t!="string"&&!Array.isArray(_t)){for(const xt in _t)if(xt!=="default"&&!(xt in vt)){const Et=Object.getOwnPropertyDescriptor(_t,xt);Et&&Object.defineProperty(vt,xt,Et.get?Et:{enumerable:!0,get:()=>_t[xt]})}}}return Object.freeze(Object.defineProperty(vt,Symbol.toStringTag,{value:"Module"}))}(function(){const ht=document.createElement("link").relList;if(ht&&ht.supports&&ht.supports("modulepreload"))return;for(const xt of document.querySelectorAll('link[rel="modulepreload"]'))_t(xt);new MutationObserver(xt=>{for(const Et of xt)if(Et.type==="childList")for(const wt of Et.addedNodes)wt.tagName==="LINK"&&wt.rel==="modulepreload"&&_t(wt)}).observe(document,{childList:!0,subtree:!0});function bt(xt){const Et={};return xt.integrity&&(Et.integrity=xt.integrity),xt.referrerPolicy&&(Et.referrerPolicy=xt.referrerPolicy),xt.crossOrigin==="use-credentials"?Et.credentials="include":xt.crossOrigin==="anonymous"?Et.credentials="omit":Et.credentials="same-origin",Et}function _t(xt){if(xt.ep)return;xt.ep=!0;const Et=bt(xt);fetch(xt.href,Et)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(vt){return vt&&vt.__esModule&&Object.prototype.hasOwnProperty.call(vt,"default")?vt.default:vt}function getAugmentedNamespace(vt){if(vt.__esModule)return vt;var ht=vt.default;if(typeof ht=="function"){var bt=function _t(){return this instanceof _t?Reflect.construct(ht,arguments,this.constructor):ht.apply(this,arguments)};bt.prototype=ht.prototype}else bt={};return Object.defineProperty(bt,"__esModule",{value:!0}),Object.keys(vt).forEach(function(_t){var xt=Object.getOwnPropertyDescriptor(vt,_t);Object.defineProperty(bt,_t,xt.get?xt:{enumerable:!0,get:function(){return vt[_t]}})}),bt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$6=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$6=Symbol.for("react.provider"),u$8=Symbol.for("react.context"),v$4=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$7=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$5(vt){return vt===null||typeof vt!="object"?null:(vt=z$4&&vt[z$4]||vt["@@iterator"],typeof vt=="function"?vt:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$6={};function E$3(vt,ht,bt){this.props=vt,this.context=ht,this.refs=D$6,this.updater=bt||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(vt,ht){if(typeof vt!="object"&&typeof vt!="function"&&vt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,vt,ht,"setState")};E$3.prototype.forceUpdate=function(vt){this.updater.enqueueForceUpdate(this,vt,"forceUpdate")};function F$5(){}F$5.prototype=E$3.prototype;function G$4(vt,ht,bt){this.props=vt,this.context=ht,this.refs=D$6,this.updater=bt||B$3}var H$4=G$4.prototype=new F$5;H$4.constructor=G$4;C$3(H$4,E$3.prototype);H$4.isPureReactComponent=!0;var I$6=Array.isArray,J$3=Object.prototype.hasOwnProperty,K$2={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$5(vt,ht,bt){var _t,xt={},Et=null,wt=null;if(ht!=null)for(_t in ht.ref!==void 0&&(wt=ht.ref),ht.key!==void 0&&(Et=""+ht.key),ht)J$3.call(ht,_t)&&!L$3.hasOwnProperty(_t)&&(xt[_t]=ht[_t]);var At=arguments.length-2;if(At===1)xt.children=bt;else if(1<At){for(var St=Array(At),kt=0;kt<At;kt++)St[kt]=arguments[kt+2];xt.children=St}if(vt&&vt.defaultProps)for(_t in At=vt.defaultProps,At)xt[_t]===void 0&&(xt[_t]=At[_t]);return{$$typeof:l$4,type:vt,key:Et,ref:wt,props:xt,_owner:K$2.current}}function N$5(vt,ht){return{$$typeof:l$4,type:vt.type,key:ht,ref:vt.ref,props:vt.props,_owner:vt._owner}}function O$3(vt){return typeof vt=="object"&&vt!==null&&vt.$$typeof===l$4}function escape$1(vt){var ht={"=":"=0",":":"=2"};return"$"+vt.replace(/[=:]/g,function(bt){return ht[bt]})}var P$4=/\/+/g;function Q$2(vt,ht){return typeof vt=="object"&&vt!==null&&vt.key!=null?escape$1(""+vt.key):ht.toString(36)}function R$2(vt,ht,bt,_t,xt){var Et=typeof vt;(Et==="undefined"||Et==="boolean")&&(vt=null);var wt=!1;if(vt===null)wt=!0;else switch(Et){case"string":case"number":wt=!0;break;case"object":switch(vt.$$typeof){case l$4:case n$6:wt=!0}}if(wt)return wt=vt,xt=xt(wt),vt=_t===""?"."+Q$2(wt,0):_t,I$6(xt)?(bt="",vt!=null&&(bt=vt.replace(P$4,"$&/")+"/"),R$2(xt,ht,bt,"",function(kt){return kt})):xt!=null&&(O$3(xt)&&(xt=N$5(xt,bt+(!xt.key||wt&&wt.key===xt.key?"":(""+xt.key).replace(P$4,"$&/")+"/")+vt)),ht.push(xt)),1;if(wt=0,_t=_t===""?".":_t+":",I$6(vt))for(var At=0;At<vt.length;At++){Et=vt[At];var St=_t+Q$2(Et,At);wt+=R$2(Et,ht,bt,St,xt)}else if(St=A$5(vt),typeof St=="function")for(vt=St.call(vt),At=0;!(Et=vt.next()).done;)Et=Et.value,St=_t+Q$2(Et,At++),wt+=R$2(Et,ht,bt,St,xt);else if(Et==="object")throw ht=String(vt),Error("Objects are not valid as a React child (found: "+(ht==="[object Object]"?"object with keys {"+Object.keys(vt).join(", ")+"}":ht)+"). If you meant to render a collection of children, use an array instead.");return wt}function S$6(vt,ht,bt){if(vt==null)return vt;var _t=[],xt=0;return R$2(vt,_t,"","",function(Et){return ht.call(bt,Et,xt++)}),_t}function T$5(vt){if(vt._status===-1){var ht=vt._result;ht=ht(),ht.then(function(bt){(vt._status===0||vt._status===-1)&&(vt._status=1,vt._result=bt)},function(bt){(vt._status===0||vt._status===-1)&&(vt._status=2,vt._result=bt)}),vt._status===-1&&(vt._status=0,vt._result=ht)}if(vt._status===1)return vt._result.default;throw vt._result}var U$4={current:null},V$3={transition:null},W$4={ReactCurrentDispatcher:U$4,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$2};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$6,forEach:function(vt,ht,bt){S$6(vt,function(){ht.apply(this,arguments)},bt)},count:function(vt){var ht=0;return S$6(vt,function(){ht++}),ht},toArray:function(vt){return S$6(vt,function(ht){return ht})||[]},only:function(vt){if(!O$3(vt))throw Error("React.Children.only expected to receive a single React element child.");return vt}};react_production_min.Component=E$3;react_production_min.Fragment=p$7;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$4;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$4;react_production_min.act=X$2;react_production_min.cloneElement=function(vt,ht,bt){if(vt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+vt+".");var _t=C$3({},vt.props),xt=vt.key,Et=vt.ref,wt=vt._owner;if(ht!=null){if(ht.ref!==void 0&&(Et=ht.ref,wt=K$2.current),ht.key!==void 0&&(xt=""+ht.key),vt.type&&vt.type.defaultProps)var At=vt.type.defaultProps;for(St in ht)J$3.call(ht,St)&&!L$3.hasOwnProperty(St)&&(_t[St]=ht[St]===void 0&&At!==void 0?At[St]:ht[St])}var St=arguments.length-2;if(St===1)_t.children=bt;else if(1<St){At=Array(St);for(var kt=0;kt<St;kt++)At[kt]=arguments[kt+2];_t.children=At}return{$$typeof:l$4,type:vt.type,key:xt,ref:Et,props:_t,_owner:wt}};react_production_min.createContext=function(vt){return vt={$$typeof:u$8,_currentValue:vt,_currentValue2:vt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},vt.Provider={$$typeof:t$6,_context:vt},vt.Consumer=vt};react_production_min.createElement=M$5;react_production_min.createFactory=function(vt){var ht=M$5.bind(null,vt);return ht.type=vt,ht};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(vt){return{$$typeof:v$4,render:vt}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(vt){return{$$typeof:y$7,_payload:{_status:-1,_result:vt},_init:T$5}};react_production_min.memo=function(vt,ht){return{$$typeof:x$3,type:vt,compare:ht===void 0?null:ht}};react_production_min.startTransition=function(vt){var ht=V$3.transition;V$3.transition={};try{vt()}finally{V$3.transition=ht}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(vt,ht){return U$4.current.useCallback(vt,ht)};react_production_min.useContext=function(vt){return U$4.current.useContext(vt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(vt){return U$4.current.useDeferredValue(vt)};react_production_min.useEffect=function(vt,ht){return U$4.current.useEffect(vt,ht)};react_production_min.useId=function(){return U$4.current.useId()};react_production_min.useImperativeHandle=function(vt,ht,bt){return U$4.current.useImperativeHandle(vt,ht,bt)};react_production_min.useInsertionEffect=function(vt,ht){return U$4.current.useInsertionEffect(vt,ht)};react_production_min.useLayoutEffect=function(vt,ht){return U$4.current.useLayoutEffect(vt,ht)};react_production_min.useMemo=function(vt,ht){return U$4.current.useMemo(vt,ht)};react_production_min.useReducer=function(vt,ht,bt){return U$4.current.useReducer(vt,ht,bt)};react_production_min.useRef=function(vt){return U$4.current.useRef(vt)};react_production_min.useState=function(vt){return U$4.current.useState(vt)};react_production_min.useSyncExternalStore=function(vt,ht,bt){return U$4.current.useSyncExternalStore(vt,ht,bt)};react_production_min.useTransition=function(){return U$4.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),t$5=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$7=reactExports,k$2=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$7=Object.prototype.hasOwnProperty,n$5=f$7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$3(vt,ht,bt){var _t,xt={},Et=null,wt=null;bt!==void 0&&(Et=""+bt),ht.key!==void 0&&(Et=""+ht.key),ht.ref!==void 0&&(wt=ht.ref);for(_t in ht)m$7.call(ht,_t)&&!p$6.hasOwnProperty(_t)&&(xt[_t]=ht[_t]);if(vt&&vt.defaultProps)for(_t in ht=vt.defaultProps,ht)xt[_t]===void 0&&(xt[_t]=ht[_t]);return{$$typeof:k$2,type:vt,key:Et,ref:wt,props:xt,_owner:n$5.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(vt){function ht(sn,Jt){var an=sn.length;sn.push(Jt);e:for(;0<an;){var vn=an-1>>>1,tn=sn[vn];if(0<xt(tn,Jt))sn[vn]=Jt,sn[an]=tn,an=vn;else break e}}function bt(sn){return sn.length===0?null:sn[0]}function _t(sn){if(sn.length===0)return null;var Jt=sn[0],an=sn.pop();if(an!==Jt){sn[0]=an;e:for(var vn=0,tn=sn.length,Ht=tn>>>1;vn<Ht;){var Wt=2*(vn+1)-1,rn=sn[Wt],nn=Wt+1,hn=sn[nn];if(0>xt(rn,an))nn<tn&&0>xt(hn,rn)?(sn[vn]=hn,sn[nn]=an,vn=nn):(sn[vn]=rn,sn[Wt]=an,vn=Wt);else if(nn<tn&&0>xt(hn,an))sn[vn]=hn,sn[nn]=an,vn=nn;else break e}}return Jt}function xt(sn,Jt){var an=sn.sortIndex-Jt.sortIndex;return an!==0?an:sn.id-Jt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Et=performance;vt.unstable_now=function(){return Et.now()}}else{var wt=Date,At=wt.now();vt.unstable_now=function(){return wt.now()-At}}var St=[],kt=[],Rt=1,Pt=null,Mt=3,Ft=!1,Lt=!1,Dt=!1,Nt=typeof setTimeout=="function"?setTimeout:null,$t=typeof clearTimeout=="function"?clearTimeout:null,Ot=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function jt(sn){for(var Jt=bt(kt);Jt!==null;){if(Jt.callback===null)_t(kt);else if(Jt.startTime<=sn)_t(kt),Jt.sortIndex=Jt.expirationTime,ht(St,Jt);else break;Jt=bt(kt)}}function Ut(sn){if(Dt=!1,jt(sn),!Lt)if(bt(St)!==null)Lt=!0,wn(Bt);else{var Jt=bt(kt);Jt!==null&&pn(Ut,Jt.startTime-sn)}}function Bt(sn,Jt){Lt=!1,Dt&&(Dt=!1,$t(Gt),Gt=-1),Ft=!0;var an=Mt;try{for(jt(Jt),Pt=bt(St);Pt!==null&&(!(Pt.expirationTime>Jt)||sn&&!Kt());){var vn=Pt.callback;if(typeof vn=="function"){Pt.callback=null,Mt=Pt.priorityLevel;var tn=vn(Pt.expirationTime<=Jt);Jt=vt.unstable_now(),typeof tn=="function"?Pt.callback=tn:Pt===bt(St)&&_t(St),jt(Jt)}else _t(St);Pt=bt(St)}if(Pt!==null)var Ht=!0;else{var Wt=bt(kt);Wt!==null&&pn(Ut,Wt.startTime-Jt),Ht=!1}return Ht}finally{Pt=null,Mt=an,Ft=!1}}var Vt=!1,zt=null,Gt=-1,en=5,ln=-1;function Kt(){return!(vt.unstable_now()-ln<en)}function on(){if(zt!==null){var sn=vt.unstable_now();ln=sn;var Jt=!0;try{Jt=zt(!0,sn)}finally{Jt?fn():(Vt=!1,zt=null)}}else Vt=!1}var fn;if(typeof Ot=="function")fn=function(){Ot(on)};else if(typeof MessageChannel<"u"){var En=new MessageChannel,gn=En.port2;En.port1.onmessage=on,fn=function(){gn.postMessage(null)}}else fn=function(){Nt(on,0)};function wn(sn){zt=sn,Vt||(Vt=!0,fn())}function pn(sn,Jt){Gt=Nt(function(){sn(vt.unstable_now())},Jt)}vt.unstable_IdlePriority=5,vt.unstable_ImmediatePriority=1,vt.unstable_LowPriority=4,vt.unstable_NormalPriority=3,vt.unstable_Profiling=null,vt.unstable_UserBlockingPriority=2,vt.unstable_cancelCallback=function(sn){sn.callback=null},vt.unstable_continueExecution=function(){Lt||Ft||(Lt=!0,wn(Bt))},vt.unstable_forceFrameRate=function(sn){0>sn||125<sn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):en=0<sn?Math.floor(1e3/sn):5},vt.unstable_getCurrentPriorityLevel=function(){return Mt},vt.unstable_getFirstCallbackNode=function(){return bt(St)},vt.unstable_next=function(sn){switch(Mt){case 1:case 2:case 3:var Jt=3;break;default:Jt=Mt}var an=Mt;Mt=Jt;try{return sn()}finally{Mt=an}},vt.unstable_pauseExecution=function(){},vt.unstable_requestPaint=function(){},vt.unstable_runWithPriority=function(sn,Jt){switch(sn){case 1:case 2:case 3:case 4:case 5:break;default:sn=3}var an=Mt;Mt=sn;try{return Jt()}finally{Mt=an}},vt.unstable_scheduleCallback=function(sn,Jt,an){var vn=vt.unstable_now();switch(typeof an=="object"&&an!==null?(an=an.delay,an=typeof an=="number"&&0<an?vn+an:vn):an=vn,sn){case 1:var tn=-1;break;case 2:tn=250;break;case 5:tn=1073741823;break;case 4:tn=1e4;break;default:tn=5e3}return tn=an+tn,sn={id:Rt++,callback:Jt,priorityLevel:sn,startTime:an,expirationTime:tn,sortIndex:-1},an>vn?(sn.sortIndex=an,ht(kt,sn),bt(St)===null&&sn===bt(kt)&&(Dt?($t(Gt),Gt=-1):Dt=!0,pn(Ut,an-vn))):(sn.sortIndex=tn,ht(St,sn),Lt||Ft||(Lt=!0,wn(Bt))),sn},vt.unstable_shouldYield=Kt,vt.unstable_wrapCallback=function(sn){var Jt=Mt;return function(){var an=Mt;Mt=Jt;try{return sn.apply(this,arguments)}finally{Mt=an}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$5(vt){for(var ht="https://reactjs.org/docs/error-decoder.html?invariant="+vt,bt=1;bt<arguments.length;bt++)ht+="&args[]="+encodeURIComponent(arguments[bt]);return"Minified React error #"+vt+"; visit "+ht+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(vt,ht){ha(vt,ht),ha(vt+"Capture",ht)}function ha(vt,ht){for(ea[vt]=ht,vt=0;vt<ht.length;vt++)da.add(ht[vt])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(vt){return ja.call(ma,vt)?!0:ja.call(la,vt)?!1:ka.test(vt)?ma[vt]=!0:(la[vt]=!0,!1)}function pa(vt,ht,bt,_t){if(bt!==null&&bt.type===0)return!1;switch(typeof ht){case"function":case"symbol":return!0;case"boolean":return _t?!1:bt!==null?!bt.acceptsBooleans:(vt=vt.toLowerCase().slice(0,5),vt!=="data-"&&vt!=="aria-");default:return!1}}function qa(vt,ht,bt,_t){if(ht===null||typeof ht>"u"||pa(vt,ht,bt,_t))return!0;if(_t)return!1;if(bt!==null)switch(bt.type){case 3:return!ht;case 4:return ht===!1;case 5:return isNaN(ht);case 6:return isNaN(ht)||1>ht}return!1}function v$3(vt,ht,bt,_t,xt,Et,wt){this.acceptsBooleans=ht===2||ht===3||ht===4,this.attributeName=_t,this.attributeNamespace=xt,this.mustUseProperty=bt,this.propertyName=vt,this.type=ht,this.sanitizeURL=Et,this.removeEmptyString=wt}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(vt){z$3[vt]=new v$3(vt,0,!1,vt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(vt){var ht=vt[0];z$3[ht]=new v$3(ht,1,!1,vt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(vt){z$3[vt]=new v$3(vt,2,!1,vt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(vt){z$3[vt]=new v$3(vt,2,!1,vt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(vt){z$3[vt]=new v$3(vt,3,!1,vt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(vt){z$3[vt]=new v$3(vt,3,!0,vt,null,!1,!1)});["capture","download"].forEach(function(vt){z$3[vt]=new v$3(vt,4,!1,vt,null,!1,!1)});["cols","rows","size","span"].forEach(function(vt){z$3[vt]=new v$3(vt,6,!1,vt,null,!1,!1)});["rowSpan","start"].forEach(function(vt){z$3[vt]=new v$3(vt,5,!1,vt.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(vt){return vt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(vt){var ht=vt.replace(ra,sa);z$3[ht]=new v$3(ht,1,!1,vt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(vt){var ht=vt.replace(ra,sa);z$3[ht]=new v$3(ht,1,!1,vt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(vt){var ht=vt.replace(ra,sa);z$3[ht]=new v$3(ht,1,!1,vt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(vt){z$3[vt]=new v$3(vt,1,!1,vt.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(vt){z$3[vt]=new v$3(vt,1,!1,vt.toLowerCase(),null,!0,!0)});function ta(vt,ht,bt,_t){var xt=z$3.hasOwnProperty(ht)?z$3[ht]:null;(xt!==null?xt.type!==0:_t||!(2<ht.length)||ht[0]!=="o"&&ht[0]!=="O"||ht[1]!=="n"&&ht[1]!=="N")&&(qa(ht,bt,xt,_t)&&(bt=null),_t||xt===null?oa(ht)&&(bt===null?vt.removeAttribute(ht):vt.setAttribute(ht,""+bt)):xt.mustUseProperty?vt[xt.propertyName]=bt===null?xt.type===3?!1:"":bt:(ht=xt.attributeName,_t=xt.attributeNamespace,bt===null?vt.removeAttribute(ht):(xt=xt.type,bt=xt===3||xt===4&&bt===!0?"":""+bt,_t?vt.setAttributeNS(_t,ht,bt):vt.setAttribute(ht,bt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(vt){return vt===null||typeof vt!="object"?null:(vt=Ja&&vt[Ja]||vt["@@iterator"],typeof vt=="function"?vt:null)}var A$4=Object.assign,La;function Ma(vt){if(La===void 0)try{throw Error()}catch(bt){var ht=bt.stack.trim().match(/\n( *(at )?)/);La=ht&&ht[1]||""}return`
`+La+vt}var Na=!1;function Oa(vt,ht){if(!vt||Na)return"";Na=!0;var bt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ht)if(ht=function(){throw Error()},Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(kt){var _t=kt}Reflect.construct(vt,[],ht)}else{try{ht.call()}catch(kt){_t=kt}vt.call(ht.prototype)}else{try{throw Error()}catch(kt){_t=kt}vt()}}catch(kt){if(kt&&_t&&typeof kt.stack=="string"){for(var xt=kt.stack.split(`
`),Et=_t.stack.split(`
`),wt=xt.length-1,At=Et.length-1;1<=wt&&0<=At&&xt[wt]!==Et[At];)At--;for(;1<=wt&&0<=At;wt--,At--)if(xt[wt]!==Et[At]){if(wt!==1||At!==1)do if(wt--,At--,0>At||xt[wt]!==Et[At]){var St=`
`+xt[wt].replace(" at new "," at ");return vt.displayName&&St.includes("<anonymous>")&&(St=St.replace("<anonymous>",vt.displayName)),St}while(1<=wt&&0<=At);break}}}finally{Na=!1,Error.prepareStackTrace=bt}return(vt=vt?vt.displayName||vt.name:"")?Ma(vt):""}function Pa(vt){switch(vt.tag){case 5:return Ma(vt.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return vt=Oa(vt.type,!1),vt;case 11:return vt=Oa(vt.type.render,!1),vt;case 1:return vt=Oa(vt.type,!0),vt;default:return""}}function Qa(vt){if(vt==null)return null;if(typeof vt=="function")return vt.displayName||vt.name||null;if(typeof vt=="string")return vt;switch(vt){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof vt=="object")switch(vt.$$typeof){case Ca:return(vt.displayName||"Context")+".Consumer";case Ba:return(vt._context.displayName||"Context")+".Provider";case Da:var ht=vt.render;return vt=vt.displayName,vt||(vt=ht.displayName||ht.name||"",vt=vt!==""?"ForwardRef("+vt+")":"ForwardRef"),vt;case Ga:return ht=vt.displayName||null,ht!==null?ht:Qa(vt.type)||"Memo";case Ha:ht=vt._payload,vt=vt._init;try{return Qa(vt(ht))}catch{}}return null}function Ra(vt){var ht=vt.type;switch(vt.tag){case 24:return"Cache";case 9:return(ht.displayName||"Context")+".Consumer";case 10:return(ht._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return vt=ht.render,vt=vt.displayName||vt.name||"",ht.displayName||(vt!==""?"ForwardRef("+vt+")":"ForwardRef");case 7:return"Fragment";case 5:return ht;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(ht);case 8:return ht===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ht=="function")return ht.displayName||ht.name||null;if(typeof ht=="string")return ht}return null}function Sa(vt){switch(typeof vt){case"boolean":case"number":case"string":case"undefined":return vt;case"object":return vt;default:return""}}function Ta(vt){var ht=vt.type;return(vt=vt.nodeName)&&vt.toLowerCase()==="input"&&(ht==="checkbox"||ht==="radio")}function Ua(vt){var ht=Ta(vt)?"checked":"value",bt=Object.getOwnPropertyDescriptor(vt.constructor.prototype,ht),_t=""+vt[ht];if(!vt.hasOwnProperty(ht)&&typeof bt<"u"&&typeof bt.get=="function"&&typeof bt.set=="function"){var xt=bt.get,Et=bt.set;return Object.defineProperty(vt,ht,{configurable:!0,get:function(){return xt.call(this)},set:function(wt){_t=""+wt,Et.call(this,wt)}}),Object.defineProperty(vt,ht,{enumerable:bt.enumerable}),{getValue:function(){return _t},setValue:function(wt){_t=""+wt},stopTracking:function(){vt._valueTracker=null,delete vt[ht]}}}}function Va(vt){vt._valueTracker||(vt._valueTracker=Ua(vt))}function Wa(vt){if(!vt)return!1;var ht=vt._valueTracker;if(!ht)return!0;var bt=ht.getValue(),_t="";return vt&&(_t=Ta(vt)?vt.checked?"true":"false":vt.value),vt=_t,vt!==bt?(ht.setValue(vt),!0):!1}function Xa(vt){if(vt=vt||(typeof document<"u"?document:void 0),typeof vt>"u")return null;try{return vt.activeElement||vt.body}catch{return vt.body}}function Ya(vt,ht){var bt=ht.checked;return A$4({},ht,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:bt??vt._wrapperState.initialChecked})}function Za(vt,ht){var bt=ht.defaultValue==null?"":ht.defaultValue,_t=ht.checked!=null?ht.checked:ht.defaultChecked;bt=Sa(ht.value!=null?ht.value:bt),vt._wrapperState={initialChecked:_t,initialValue:bt,controlled:ht.type==="checkbox"||ht.type==="radio"?ht.checked!=null:ht.value!=null}}function ab(vt,ht){ht=ht.checked,ht!=null&&ta(vt,"checked",ht,!1)}function bb(vt,ht){ab(vt,ht);var bt=Sa(ht.value),_t=ht.type;if(bt!=null)_t==="number"?(bt===0&&vt.value===""||vt.value!=bt)&&(vt.value=""+bt):vt.value!==""+bt&&(vt.value=""+bt);else if(_t==="submit"||_t==="reset"){vt.removeAttribute("value");return}ht.hasOwnProperty("value")?cb(vt,ht.type,bt):ht.hasOwnProperty("defaultValue")&&cb(vt,ht.type,Sa(ht.defaultValue)),ht.checked==null&&ht.defaultChecked!=null&&(vt.defaultChecked=!!ht.defaultChecked)}function db(vt,ht,bt){if(ht.hasOwnProperty("value")||ht.hasOwnProperty("defaultValue")){var _t=ht.type;if(!(_t!=="submit"&&_t!=="reset"||ht.value!==void 0&&ht.value!==null))return;ht=""+vt._wrapperState.initialValue,bt||ht===vt.value||(vt.value=ht),vt.defaultValue=ht}bt=vt.name,bt!==""&&(vt.name=""),vt.defaultChecked=!!vt._wrapperState.initialChecked,bt!==""&&(vt.name=bt)}function cb(vt,ht,bt){(ht!=="number"||Xa(vt.ownerDocument)!==vt)&&(bt==null?vt.defaultValue=""+vt._wrapperState.initialValue:vt.defaultValue!==""+bt&&(vt.defaultValue=""+bt))}var eb=Array.isArray;function fb(vt,ht,bt,_t){if(vt=vt.options,ht){ht={};for(var xt=0;xt<bt.length;xt++)ht["$"+bt[xt]]=!0;for(bt=0;bt<vt.length;bt++)xt=ht.hasOwnProperty("$"+vt[bt].value),vt[bt].selected!==xt&&(vt[bt].selected=xt),xt&&_t&&(vt[bt].defaultSelected=!0)}else{for(bt=""+Sa(bt),ht=null,xt=0;xt<vt.length;xt++){if(vt[xt].value===bt){vt[xt].selected=!0,_t&&(vt[xt].defaultSelected=!0);return}ht!==null||vt[xt].disabled||(ht=vt[xt])}ht!==null&&(ht.selected=!0)}}function gb(vt,ht){if(ht.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$4({},ht,{value:void 0,defaultValue:void 0,children:""+vt._wrapperState.initialValue})}function hb(vt,ht){var bt=ht.value;if(bt==null){if(bt=ht.children,ht=ht.defaultValue,bt!=null){if(ht!=null)throw Error(p$5(92));if(eb(bt)){if(1<bt.length)throw Error(p$5(93));bt=bt[0]}ht=bt}ht==null&&(ht=""),bt=ht}vt._wrapperState={initialValue:Sa(bt)}}function ib(vt,ht){var bt=Sa(ht.value),_t=Sa(ht.defaultValue);bt!=null&&(bt=""+bt,bt!==vt.value&&(vt.value=bt),ht.defaultValue==null&&vt.defaultValue!==bt&&(vt.defaultValue=bt)),_t!=null&&(vt.defaultValue=""+_t)}function jb(vt){var ht=vt.textContent;ht===vt._wrapperState.initialValue&&ht!==""&&ht!==null&&(vt.value=ht)}function kb(vt){switch(vt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(vt,ht){return vt==null||vt==="http://www.w3.org/1999/xhtml"?kb(ht):vt==="http://www.w3.org/2000/svg"&&ht==="foreignObject"?"http://www.w3.org/1999/xhtml":vt}var mb,nb=function(vt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(ht,bt,_t,xt){MSApp.execUnsafeLocalFunction(function(){return vt(ht,bt,_t,xt)})}:vt}(function(vt,ht){if(vt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in vt)vt.innerHTML=ht;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+ht.valueOf().toString()+"</svg>",ht=mb.firstChild;vt.firstChild;)vt.removeChild(vt.firstChild);for(;ht.firstChild;)vt.appendChild(ht.firstChild)}});function ob(vt,ht){if(ht){var bt=vt.firstChild;if(bt&&bt===vt.lastChild&&bt.nodeType===3){bt.nodeValue=ht;return}}vt.textContent=ht}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(vt){qb.forEach(function(ht){ht=ht+vt.charAt(0).toUpperCase()+vt.substring(1),pb[ht]=pb[vt]})});function rb(vt,ht,bt){return ht==null||typeof ht=="boolean"||ht===""?"":bt||typeof ht!="number"||ht===0||pb.hasOwnProperty(vt)&&pb[vt]?(""+ht).trim():ht+"px"}function sb(vt,ht){vt=vt.style;for(var bt in ht)if(ht.hasOwnProperty(bt)){var _t=bt.indexOf("--")===0,xt=rb(bt,ht[bt],_t);bt==="float"&&(bt="cssFloat"),_t?vt.setProperty(bt,xt):vt[bt]=xt}}var tb=A$4({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(vt,ht){if(ht){if(tb[vt]&&(ht.children!=null||ht.dangerouslySetInnerHTML!=null))throw Error(p$5(137,vt));if(ht.dangerouslySetInnerHTML!=null){if(ht.children!=null)throw Error(p$5(60));if(typeof ht.dangerouslySetInnerHTML!="object"||!("__html"in ht.dangerouslySetInnerHTML))throw Error(p$5(61))}if(ht.style!=null&&typeof ht.style!="object")throw Error(p$5(62))}}function vb(vt,ht){if(vt.indexOf("-")===-1)return typeof ht.is=="string";switch(vt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(vt){return vt=vt.target||vt.srcElement||window,vt.correspondingUseElement&&(vt=vt.correspondingUseElement),vt.nodeType===3?vt.parentNode:vt}var yb=null,zb=null,Ab=null;function Bb(vt){if(vt=Cb(vt)){if(typeof yb!="function")throw Error(p$5(280));var ht=vt.stateNode;ht&&(ht=Db(ht),yb(vt.stateNode,vt.type,ht))}}function Eb(vt){zb?Ab?Ab.push(vt):Ab=[vt]:zb=vt}function Fb(){if(zb){var vt=zb,ht=Ab;if(Ab=zb=null,Bb(vt),ht)for(vt=0;vt<ht.length;vt++)Bb(ht[vt])}}function Gb(vt,ht){return vt(ht)}function Hb(){}var Ib=!1;function Jb(vt,ht,bt){if(Ib)return vt(ht,bt);Ib=!0;try{return Gb(vt,ht,bt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(vt,ht){var bt=vt.stateNode;if(bt===null)return null;var _t=Db(bt);if(_t===null)return null;bt=_t[ht];e:switch(ht){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_t=!_t.disabled)||(vt=vt.type,_t=!(vt==="button"||vt==="input"||vt==="select"||vt==="textarea")),vt=!_t;break e;default:vt=!1}if(vt)return null;if(bt&&typeof bt!="function")throw Error(p$5(231,ht,typeof bt));return bt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(vt,ht,bt,_t,xt,Et,wt,At,St){var kt=Array.prototype.slice.call(arguments,3);try{ht.apply(bt,kt)}catch(Rt){this.onError(Rt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(vt){Ob=!0,Pb=vt}};function Tb(vt,ht,bt,_t,xt,Et,wt,At,St){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(vt,ht,bt,_t,xt,Et,wt,At,St){if(Tb.apply(this,arguments),Ob){if(Ob){var kt=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=kt)}}function Vb(vt){var ht=vt,bt=vt;if(vt.alternate)for(;ht.return;)ht=ht.return;else{vt=ht;do ht=vt,ht.flags&4098&&(bt=ht.return),vt=ht.return;while(vt)}return ht.tag===3?bt:null}function Wb(vt){if(vt.tag===13){var ht=vt.memoizedState;if(ht===null&&(vt=vt.alternate,vt!==null&&(ht=vt.memoizedState)),ht!==null)return ht.dehydrated}return null}function Xb(vt){if(Vb(vt)!==vt)throw Error(p$5(188))}function Yb(vt){var ht=vt.alternate;if(!ht){if(ht=Vb(vt),ht===null)throw Error(p$5(188));return ht!==vt?null:vt}for(var bt=vt,_t=ht;;){var xt=bt.return;if(xt===null)break;var Et=xt.alternate;if(Et===null){if(_t=xt.return,_t!==null){bt=_t;continue}break}if(xt.child===Et.child){for(Et=xt.child;Et;){if(Et===bt)return Xb(xt),vt;if(Et===_t)return Xb(xt),ht;Et=Et.sibling}throw Error(p$5(188))}if(bt.return!==_t.return)bt=xt,_t=Et;else{for(var wt=!1,At=xt.child;At;){if(At===bt){wt=!0,bt=xt,_t=Et;break}if(At===_t){wt=!0,_t=xt,bt=Et;break}At=At.sibling}if(!wt){for(At=Et.child;At;){if(At===bt){wt=!0,bt=Et,_t=xt;break}if(At===_t){wt=!0,_t=Et,bt=xt;break}At=At.sibling}if(!wt)throw Error(p$5(189))}}if(bt.alternate!==_t)throw Error(p$5(190))}if(bt.tag!==3)throw Error(p$5(188));return bt.stateNode.current===bt?vt:ht}function Zb(vt){return vt=Yb(vt),vt!==null?$b(vt):null}function $b(vt){if(vt.tag===5||vt.tag===6)return vt;for(vt=vt.child;vt!==null;){var ht=$b(vt);if(ht!==null)return ht;vt=vt.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(vt){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,vt,void 0,(vt.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(vt){return vt>>>=0,vt===0?32:31-(pc(vt)/qc|0)|0}var rc=64,sc=4194304;function tc(vt){switch(vt&-vt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return vt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return vt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return vt}}function uc(vt,ht){var bt=vt.pendingLanes;if(bt===0)return 0;var _t=0,xt=vt.suspendedLanes,Et=vt.pingedLanes,wt=bt&268435455;if(wt!==0){var At=wt&~xt;At!==0?_t=tc(At):(Et&=wt,Et!==0&&(_t=tc(Et)))}else wt=bt&~xt,wt!==0?_t=tc(wt):Et!==0&&(_t=tc(Et));if(_t===0)return 0;if(ht!==0&&ht!==_t&&!(ht&xt)&&(xt=_t&-_t,Et=ht&-ht,xt>=Et||xt===16&&(Et&4194240)!==0))return ht;if(_t&4&&(_t|=bt&16),ht=vt.entangledLanes,ht!==0)for(vt=vt.entanglements,ht&=_t;0<ht;)bt=31-oc(ht),xt=1<<bt,_t|=vt[bt],ht&=~xt;return _t}function vc(vt,ht){switch(vt){case 1:case 2:case 4:return ht+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ht+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(vt,ht){for(var bt=vt.suspendedLanes,_t=vt.pingedLanes,xt=vt.expirationTimes,Et=vt.pendingLanes;0<Et;){var wt=31-oc(Et),At=1<<wt,St=xt[wt];St===-1?(!(At&bt)||At&_t)&&(xt[wt]=vc(At,ht)):St<=ht&&(vt.expiredLanes|=At),Et&=~At}}function xc(vt){return vt=vt.pendingLanes&-1073741825,vt!==0?vt:vt&1073741824?1073741824:0}function yc(){var vt=rc;return rc<<=1,!(rc&4194240)&&(rc=64),vt}function zc(vt){for(var ht=[],bt=0;31>bt;bt++)ht.push(vt);return ht}function Ac(vt,ht,bt){vt.pendingLanes|=ht,ht!==536870912&&(vt.suspendedLanes=0,vt.pingedLanes=0),vt=vt.eventTimes,ht=31-oc(ht),vt[ht]=bt}function Bc(vt,ht){var bt=vt.pendingLanes&~ht;vt.pendingLanes=ht,vt.suspendedLanes=0,vt.pingedLanes=0,vt.expiredLanes&=ht,vt.mutableReadLanes&=ht,vt.entangledLanes&=ht,ht=vt.entanglements;var _t=vt.eventTimes;for(vt=vt.expirationTimes;0<bt;){var xt=31-oc(bt),Et=1<<xt;ht[xt]=0,_t[xt]=-1,vt[xt]=-1,bt&=~Et}}function Cc(vt,ht){var bt=vt.entangledLanes|=ht;for(vt=vt.entanglements;bt;){var _t=31-oc(bt),xt=1<<_t;xt&ht|vt[_t]&ht&&(vt[_t]|=ht),bt&=~xt}}var C$2=0;function Dc(vt){return vt&=-vt,1<vt?4<vt?vt&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(vt,ht){switch(vt){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(ht.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(ht.pointerId)}}function Tc(vt,ht,bt,_t,xt,Et){return vt===null||vt.nativeEvent!==Et?(vt={blockedOn:ht,domEventName:bt,eventSystemFlags:_t,nativeEvent:Et,targetContainers:[xt]},ht!==null&&(ht=Cb(ht),ht!==null&&Fc(ht)),vt):(vt.eventSystemFlags|=_t,ht=vt.targetContainers,xt!==null&&ht.indexOf(xt)===-1&&ht.push(xt),vt)}function Uc(vt,ht,bt,_t,xt){switch(ht){case"focusin":return Lc=Tc(Lc,vt,ht,bt,_t,xt),!0;case"dragenter":return Mc=Tc(Mc,vt,ht,bt,_t,xt),!0;case"mouseover":return Nc=Tc(Nc,vt,ht,bt,_t,xt),!0;case"pointerover":var Et=xt.pointerId;return Oc.set(Et,Tc(Oc.get(Et)||null,vt,ht,bt,_t,xt)),!0;case"gotpointercapture":return Et=xt.pointerId,Pc.set(Et,Tc(Pc.get(Et)||null,vt,ht,bt,_t,xt)),!0}return!1}function Vc(vt){var ht=Wc(vt.target);if(ht!==null){var bt=Vb(ht);if(bt!==null){if(ht=bt.tag,ht===13){if(ht=Wb(bt),ht!==null){vt.blockedOn=ht,Ic(vt.priority,function(){Gc(bt)});return}}else if(ht===3&&bt.stateNode.current.memoizedState.isDehydrated){vt.blockedOn=bt.tag===3?bt.stateNode.containerInfo:null;return}}}vt.blockedOn=null}function Xc(vt){if(vt.blockedOn!==null)return!1;for(var ht=vt.targetContainers;0<ht.length;){var bt=Yc(vt.domEventName,vt.eventSystemFlags,ht[0],vt.nativeEvent);if(bt===null){bt=vt.nativeEvent;var _t=new bt.constructor(bt.type,bt);wb=_t,bt.target.dispatchEvent(_t),wb=null}else return ht=Cb(bt),ht!==null&&Fc(ht),vt.blockedOn=bt,!1;ht.shift()}return!0}function Zc(vt,ht,bt){Xc(vt)&&bt.delete(ht)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(vt,ht){vt.blockedOn===ht&&(vt.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(vt){function ht(xt){return ad(xt,vt)}if(0<Kc.length){ad(Kc[0],vt);for(var bt=1;bt<Kc.length;bt++){var _t=Kc[bt];_t.blockedOn===vt&&(_t.blockedOn=null)}}for(Lc!==null&&ad(Lc,vt),Mc!==null&&ad(Mc,vt),Nc!==null&&ad(Nc,vt),Oc.forEach(ht),Pc.forEach(ht),bt=0;bt<Qc.length;bt++)_t=Qc[bt],_t.blockedOn===vt&&(_t.blockedOn=null);for(;0<Qc.length&&(bt=Qc[0],bt.blockedOn===null);)Vc(bt),bt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(vt,ht,bt,_t){var xt=C$2,Et=cd.transition;cd.transition=null;try{C$2=1,fd(vt,ht,bt,_t)}finally{C$2=xt,cd.transition=Et}}function gd(vt,ht,bt,_t){var xt=C$2,Et=cd.transition;cd.transition=null;try{C$2=4,fd(vt,ht,bt,_t)}finally{C$2=xt,cd.transition=Et}}function fd(vt,ht,bt,_t){if(dd){var xt=Yc(vt,ht,bt,_t);if(xt===null)hd(vt,ht,_t,id,bt),Sc(vt,_t);else if(Uc(xt,vt,ht,bt,_t))_t.stopPropagation();else if(Sc(vt,_t),ht&4&&-1<Rc.indexOf(vt)){for(;xt!==null;){var Et=Cb(xt);if(Et!==null&&Ec(Et),Et=Yc(vt,ht,bt,_t),Et===null&&hd(vt,ht,_t,id,bt),Et===xt)break;xt=Et}xt!==null&&_t.stopPropagation()}else hd(vt,ht,_t,null,bt)}}var id=null;function Yc(vt,ht,bt,_t){if(id=null,vt=xb(_t),vt=Wc(vt),vt!==null)if(ht=Vb(vt),ht===null)vt=null;else if(bt=ht.tag,bt===13){if(vt=Wb(ht),vt!==null)return vt;vt=null}else if(bt===3){if(ht.stateNode.current.memoizedState.isDehydrated)return ht.tag===3?ht.stateNode.containerInfo:null;vt=null}else ht!==vt&&(vt=null);return id=vt,null}function jd(vt){switch(vt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var vt,ht=ld,bt=ht.length,_t,xt="value"in kd?kd.value:kd.textContent,Et=xt.length;for(vt=0;vt<bt&&ht[vt]===xt[vt];vt++);var wt=bt-vt;for(_t=1;_t<=wt&&ht[bt-_t]===xt[Et-_t];_t++);return md=xt.slice(vt,1<_t?1-_t:void 0)}function od(vt){var ht=vt.keyCode;return"charCode"in vt?(vt=vt.charCode,vt===0&&ht===13&&(vt=13)):vt=ht,vt===10&&(vt=13),32<=vt||vt===13?vt:0}function pd(){return!0}function qd(){return!1}function rd(vt){function ht(bt,_t,xt,Et,wt){this._reactName=bt,this._targetInst=xt,this.type=_t,this.nativeEvent=Et,this.target=wt,this.currentTarget=null;for(var At in vt)vt.hasOwnProperty(At)&&(bt=vt[At],this[At]=bt?bt(Et):Et[At]);return this.isDefaultPrevented=(Et.defaultPrevented!=null?Et.defaultPrevented:Et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$4(ht.prototype,{preventDefault:function(){this.defaultPrevented=!0;var bt=this.nativeEvent;bt&&(bt.preventDefault?bt.preventDefault():typeof bt.returnValue!="unknown"&&(bt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var bt=this.nativeEvent;bt&&(bt.stopPropagation?bt.stopPropagation():typeof bt.cancelBubble!="unknown"&&(bt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),ht}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(vt){return vt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$4({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$4({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(vt){return vt.relatedTarget===void 0?vt.fromElement===vt.srcElement?vt.toElement:vt.fromElement:vt.relatedTarget},movementX:function(vt){return"movementX"in vt?vt.movementX:(vt!==yd&&(yd&&vt.type==="mousemove"?(wd=vt.screenX-yd.screenX,xd=vt.screenY-yd.screenY):xd=wd=0,yd=vt),wd)},movementY:function(vt){return"movementY"in vt?vt.movementY:xd}}),Bd=rd(Ad),Cd=A$4({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$4({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$4({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$4({},sd,{clipboardData:function(vt){return"clipboardData"in vt?vt.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$4({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(vt){var ht=this.nativeEvent;return ht.getModifierState?ht.getModifierState(vt):(vt=Od[vt])?!!ht[vt]:!1}function zd(){return Pd}var Qd=A$4({},ud,{key:function(vt){if(vt.key){var ht=Md[vt.key]||vt.key;if(ht!=="Unidentified")return ht}return vt.type==="keypress"?(vt=od(vt),vt===13?"Enter":String.fromCharCode(vt)):vt.type==="keydown"||vt.type==="keyup"?Nd[vt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(vt){return vt.type==="keypress"?od(vt):0},keyCode:function(vt){return vt.type==="keydown"||vt.type==="keyup"?vt.keyCode:0},which:function(vt){return vt.type==="keypress"?od(vt):vt.type==="keydown"||vt.type==="keyup"?vt.keyCode:0}}),Rd=rd(Qd),Sd=A$4({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$4({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$4({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$4({},Ad,{deltaX:function(vt){return"deltaX"in vt?vt.deltaX:"wheelDeltaX"in vt?-vt.wheelDeltaX:0},deltaY:function(vt){return"deltaY"in vt?vt.deltaY:"wheelDeltaY"in vt?-vt.wheelDeltaY:"wheelDelta"in vt?-vt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$2=null;ia&&"documentMode"in document&&(be$2=document.documentMode);var ce$2=ia&&"TextEvent"in window&&!be$2,de$1=ia&&(!ae$1||be$2&&8<be$2&&11>=be$2),ee$1=" ",fe$1=!1;function ge$1(vt,ht){switch(vt){case"keyup":return $d.indexOf(ht.keyCode)!==-1;case"keydown":return ht.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(vt){return vt=vt.detail,typeof vt=="object"&&"data"in vt?vt.data:null}var ie$1=!1;function je$1(vt,ht){switch(vt){case"compositionend":return he$1(ht);case"keypress":return ht.which!==32?null:(fe$1=!0,ee$1);case"textInput":return vt=ht.data,vt===ee$1&&fe$1?null:vt;default:return null}}function ke$1(vt,ht){if(ie$1)return vt==="compositionend"||!ae$1&&ge$1(vt,ht)?(vt=nd(),md=ld=kd=null,ie$1=!1,vt):null;switch(vt){case"paste":return null;case"keypress":if(!(ht.ctrlKey||ht.altKey||ht.metaKey)||ht.ctrlKey&&ht.altKey){if(ht.char&&1<ht.char.length)return ht.char;if(ht.which)return String.fromCharCode(ht.which)}return null;case"compositionend":return de$1&&ht.locale!=="ko"?null:ht.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(vt){var ht=vt&&vt.nodeName&&vt.nodeName.toLowerCase();return ht==="input"?!!le$1[vt.type]:ht==="textarea"}function ne$1(vt,ht,bt,_t){Eb(_t),ht=oe$1(ht,"onChange"),0<ht.length&&(bt=new td("onChange","change",null,bt,_t),vt.push({event:bt,listeners:ht}))}var pe$2=null,qe$2=null;function re$1(vt){se$1(vt,0)}function te$2(vt){var ht=ue(vt);if(Wa(ht))return vt}function ve$2(vt,ht){if(vt==="change")return ht}var we$1=!1;if(ia){var xe$2;if(ia){var ye$2="oninput"in document;if(!ye$2){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$2=typeof ze$2.oninput=="function"}xe$2=ye$2}else xe$2=!1;we$1=xe$2&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$2&&(pe$2.detachEvent("onpropertychange",Be$1),qe$2=pe$2=null)}function Be$1(vt){if(vt.propertyName==="value"&&te$2(qe$2)){var ht=[];ne$1(ht,qe$2,vt,xb(vt)),Jb(re$1,ht)}}function Ce(vt,ht,bt){vt==="focusin"?(Ae$1(),pe$2=ht,qe$2=bt,pe$2.attachEvent("onpropertychange",Be$1)):vt==="focusout"&&Ae$1()}function De$1(vt){if(vt==="selectionchange"||vt==="keyup"||vt==="keydown")return te$2(qe$2)}function Ee$1(vt,ht){if(vt==="click")return te$2(ht)}function Fe$2(vt,ht){if(vt==="input"||vt==="change")return te$2(ht)}function Ge(vt,ht){return vt===ht&&(vt!==0||1/vt===1/ht)||vt!==vt&&ht!==ht}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(vt,ht){if(He(vt,ht))return!0;if(typeof vt!="object"||vt===null||typeof ht!="object"||ht===null)return!1;var bt=Object.keys(vt),_t=Object.keys(ht);if(bt.length!==_t.length)return!1;for(_t=0;_t<bt.length;_t++){var xt=bt[_t];if(!ja.call(ht,xt)||!He(vt[xt],ht[xt]))return!1}return!0}function Je$1(vt){for(;vt&&vt.firstChild;)vt=vt.firstChild;return vt}function Ke(vt,ht){var bt=Je$1(vt);vt=0;for(var _t;bt;){if(bt.nodeType===3){if(_t=vt+bt.textContent.length,vt<=ht&&_t>=ht)return{node:bt,offset:ht-vt};vt=_t}e:{for(;bt;){if(bt.nextSibling){bt=bt.nextSibling;break e}bt=bt.parentNode}bt=void 0}bt=Je$1(bt)}}function Le$1(vt,ht){return vt&&ht?vt===ht?!0:vt&&vt.nodeType===3?!1:ht&&ht.nodeType===3?Le$1(vt,ht.parentNode):"contains"in vt?vt.contains(ht):vt.compareDocumentPosition?!!(vt.compareDocumentPosition(ht)&16):!1:!1}function Me$1(){for(var vt=window,ht=Xa();ht instanceof vt.HTMLIFrameElement;){try{var bt=typeof ht.contentWindow.location.href=="string"}catch{bt=!1}if(bt)vt=ht.contentWindow;else break;ht=Xa(vt.document)}return ht}function Ne$1(vt){var ht=vt&&vt.nodeName&&vt.nodeName.toLowerCase();return ht&&(ht==="input"&&(vt.type==="text"||vt.type==="search"||vt.type==="tel"||vt.type==="url"||vt.type==="password")||ht==="textarea"||vt.contentEditable==="true")}function Oe$1(vt){var ht=Me$1(),bt=vt.focusedElem,_t=vt.selectionRange;if(ht!==bt&&bt&&bt.ownerDocument&&Le$1(bt.ownerDocument.documentElement,bt)){if(_t!==null&&Ne$1(bt)){if(ht=_t.start,vt=_t.end,vt===void 0&&(vt=ht),"selectionStart"in bt)bt.selectionStart=ht,bt.selectionEnd=Math.min(vt,bt.value.length);else if(vt=(ht=bt.ownerDocument||document)&&ht.defaultView||window,vt.getSelection){vt=vt.getSelection();var xt=bt.textContent.length,Et=Math.min(_t.start,xt);_t=_t.end===void 0?Et:Math.min(_t.end,xt),!vt.extend&&Et>_t&&(xt=_t,_t=Et,Et=xt),xt=Ke(bt,Et);var wt=Ke(bt,_t);xt&&wt&&(vt.rangeCount!==1||vt.anchorNode!==xt.node||vt.anchorOffset!==xt.offset||vt.focusNode!==wt.node||vt.focusOffset!==wt.offset)&&(ht=ht.createRange(),ht.setStart(xt.node,xt.offset),vt.removeAllRanges(),Et>_t?(vt.addRange(ht),vt.extend(wt.node,wt.offset)):(ht.setEnd(wt.node,wt.offset),vt.addRange(ht)))}}for(ht=[],vt=bt;vt=vt.parentNode;)vt.nodeType===1&&ht.push({element:vt,left:vt.scrollLeft,top:vt.scrollTop});for(typeof bt.focus=="function"&&bt.focus(),bt=0;bt<ht.length;bt++)vt=ht[bt],vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$2=null,Se$1=null,Te$1=!1;function Ue(vt,ht,bt){var _t=bt.window===bt?bt.document:bt.nodeType===9?bt:bt.ownerDocument;Te$1||Qe==null||Qe!==Xa(_t)||(_t=Qe,"selectionStart"in _t&&Ne$1(_t)?_t={start:_t.selectionStart,end:_t.selectionEnd}:(_t=(_t.ownerDocument&&_t.ownerDocument.defaultView||window).getSelection(),_t={anchorNode:_t.anchorNode,anchorOffset:_t.anchorOffset,focusNode:_t.focusNode,focusOffset:_t.focusOffset}),Se$1&&Ie(Se$1,_t)||(Se$1=_t,_t=oe$1(Re$2,"onSelect"),0<_t.length&&(ht=new td("onSelect","select",null,ht,bt),vt.push({event:ht,listeners:_t}),ht.target=Qe)))}function Ve$2(vt,ht){var bt={};return bt[vt.toLowerCase()]=ht.toLowerCase(),bt["Webkit"+vt]="webkit"+ht,bt["Moz"+vt]="moz"+ht,bt}var We$1={animationend:Ve$2("Animation","AnimationEnd"),animationiteration:Ve$2("Animation","AnimationIteration"),animationstart:Ve$2("Animation","AnimationStart"),transitionend:Ve$2("Transition","TransitionEnd")},Xe$1={},Ye$2={};ia&&(Ye$2=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(vt){if(Xe$1[vt])return Xe$1[vt];if(!We$1[vt])return vt;var ht=We$1[vt],bt;for(bt in ht)if(ht.hasOwnProperty(bt)&&bt in Ye$2)return Xe$1[vt]=ht[bt];return vt}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(vt,ht){df.set(vt,ht),fa(ht,[vt])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(vt,ht,bt){var _t=vt.type||"unknown-event";vt.currentTarget=bt,Ub(_t,ht,void 0,vt),vt.currentTarget=null}function se$1(vt,ht){ht=(ht&4)!==0;for(var bt=0;bt<vt.length;bt++){var _t=vt[bt],xt=_t.event;_t=_t.listeners;e:{var Et=void 0;if(ht)for(var wt=_t.length-1;0<=wt;wt--){var At=_t[wt],St=At.instance,kt=At.currentTarget;if(At=At.listener,St!==Et&&xt.isPropagationStopped())break e;nf(xt,At,kt),Et=St}else for(wt=0;wt<_t.length;wt++){if(At=_t[wt],St=At.instance,kt=At.currentTarget,At=At.listener,St!==Et&&xt.isPropagationStopped())break e;nf(xt,At,kt),Et=St}}}if(Qb)throw vt=Rb,Qb=!1,Rb=null,vt}function D$5(vt,ht){var bt=ht[of];bt===void 0&&(bt=ht[of]=new Set);var _t=vt+"__bubble";bt.has(_t)||(pf(ht,vt,2,!1),bt.add(_t))}function qf(vt,ht,bt){var _t=0;ht&&(_t|=4),pf(bt,vt,_t,ht)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(vt){if(!vt[rf]){vt[rf]=!0,da.forEach(function(bt){bt!=="selectionchange"&&(mf.has(bt)||qf(bt,!1,vt),qf(bt,!0,vt))});var ht=vt.nodeType===9?vt:vt.ownerDocument;ht===null||ht[rf]||(ht[rf]=!0,qf("selectionchange",!1,ht))}}function pf(vt,ht,bt,_t){switch(jd(ht)){case 1:var xt=ed;break;case 4:xt=gd;break;default:xt=fd}bt=xt.bind(null,ht,bt,vt),xt=void 0,!Lb||ht!=="touchstart"&&ht!=="touchmove"&&ht!=="wheel"||(xt=!0),_t?xt!==void 0?vt.addEventListener(ht,bt,{capture:!0,passive:xt}):vt.addEventListener(ht,bt,!0):xt!==void 0?vt.addEventListener(ht,bt,{passive:xt}):vt.addEventListener(ht,bt,!1)}function hd(vt,ht,bt,_t,xt){var Et=_t;if(!(ht&1)&&!(ht&2)&&_t!==null)e:for(;;){if(_t===null)return;var wt=_t.tag;if(wt===3||wt===4){var At=_t.stateNode.containerInfo;if(At===xt||At.nodeType===8&&At.parentNode===xt)break;if(wt===4)for(wt=_t.return;wt!==null;){var St=wt.tag;if((St===3||St===4)&&(St=wt.stateNode.containerInfo,St===xt||St.nodeType===8&&St.parentNode===xt))return;wt=wt.return}for(;At!==null;){if(wt=Wc(At),wt===null)return;if(St=wt.tag,St===5||St===6){_t=Et=wt;continue e}At=At.parentNode}}_t=_t.return}Jb(function(){var kt=Et,Rt=xb(bt),Pt=[];e:{var Mt=df.get(vt);if(Mt!==void 0){var Ft=td,Lt=vt;switch(vt){case"keypress":if(od(bt)===0)break e;case"keydown":case"keyup":Ft=Rd;break;case"focusin":Lt="focus",Ft=Fd;break;case"focusout":Lt="blur",Ft=Fd;break;case"beforeblur":case"afterblur":Ft=Fd;break;case"click":if(bt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ft=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ft=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ft=Vd;break;case $e$1:case af:case bf:Ft=Hd;break;case cf:Ft=Xd;break;case"scroll":Ft=vd;break;case"wheel":Ft=Zd;break;case"copy":case"cut":case"paste":Ft=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ft=Td}var Dt=(ht&4)!==0,Nt=!Dt&&vt==="scroll",$t=Dt?Mt!==null?Mt+"Capture":null:Mt;Dt=[];for(var Ot=kt,jt;Ot!==null;){jt=Ot;var Ut=jt.stateNode;if(jt.tag===5&&Ut!==null&&(jt=Ut,$t!==null&&(Ut=Kb(Ot,$t),Ut!=null&&Dt.push(tf(Ot,Ut,jt)))),Nt)break;Ot=Ot.return}0<Dt.length&&(Mt=new Ft(Mt,Lt,null,bt,Rt),Pt.push({event:Mt,listeners:Dt}))}}if(!(ht&7)){e:{if(Mt=vt==="mouseover"||vt==="pointerover",Ft=vt==="mouseout"||vt==="pointerout",Mt&&bt!==wb&&(Lt=bt.relatedTarget||bt.fromElement)&&(Wc(Lt)||Lt[uf]))break e;if((Ft||Mt)&&(Mt=Rt.window===Rt?Rt:(Mt=Rt.ownerDocument)?Mt.defaultView||Mt.parentWindow:window,Ft?(Lt=bt.relatedTarget||bt.toElement,Ft=kt,Lt=Lt?Wc(Lt):null,Lt!==null&&(Nt=Vb(Lt),Lt!==Nt||Lt.tag!==5&&Lt.tag!==6)&&(Lt=null)):(Ft=null,Lt=kt),Ft!==Lt)){if(Dt=Bd,Ut="onMouseLeave",$t="onMouseEnter",Ot="mouse",(vt==="pointerout"||vt==="pointerover")&&(Dt=Td,Ut="onPointerLeave",$t="onPointerEnter",Ot="pointer"),Nt=Ft==null?Mt:ue(Ft),jt=Lt==null?Mt:ue(Lt),Mt=new Dt(Ut,Ot+"leave",Ft,bt,Rt),Mt.target=Nt,Mt.relatedTarget=jt,Ut=null,Wc(Rt)===kt&&(Dt=new Dt($t,Ot+"enter",Lt,bt,Rt),Dt.target=jt,Dt.relatedTarget=Nt,Ut=Dt),Nt=Ut,Ft&&Lt)t:{for(Dt=Ft,$t=Lt,Ot=0,jt=Dt;jt;jt=vf(jt))Ot++;for(jt=0,Ut=$t;Ut;Ut=vf(Ut))jt++;for(;0<Ot-jt;)Dt=vf(Dt),Ot--;for(;0<jt-Ot;)$t=vf($t),jt--;for(;Ot--;){if(Dt===$t||$t!==null&&Dt===$t.alternate)break t;Dt=vf(Dt),$t=vf($t)}Dt=null}else Dt=null;Ft!==null&&wf(Pt,Mt,Ft,Dt,!1),Lt!==null&&Nt!==null&&wf(Pt,Nt,Lt,Dt,!0)}}e:{if(Mt=kt?ue(kt):window,Ft=Mt.nodeName&&Mt.nodeName.toLowerCase(),Ft==="select"||Ft==="input"&&Mt.type==="file")var Bt=ve$2;else if(me(Mt))if(we$1)Bt=Fe$2;else{Bt=De$1;var Vt=Ce}else(Ft=Mt.nodeName)&&Ft.toLowerCase()==="input"&&(Mt.type==="checkbox"||Mt.type==="radio")&&(Bt=Ee$1);if(Bt&&(Bt=Bt(vt,kt))){ne$1(Pt,Bt,bt,Rt);break e}Vt&&Vt(vt,Mt,kt),vt==="focusout"&&(Vt=Mt._wrapperState)&&Vt.controlled&&Mt.type==="number"&&cb(Mt,"number",Mt.value)}switch(Vt=kt?ue(kt):window,vt){case"focusin":(me(Vt)||Vt.contentEditable==="true")&&(Qe=Vt,Re$2=kt,Se$1=null);break;case"focusout":Se$1=Re$2=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(Pt,bt,Rt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(Pt,bt,Rt)}var zt;if(ae$1)e:{switch(vt){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else ie$1?ge$1(vt,bt)&&(Gt="onCompositionEnd"):vt==="keydown"&&bt.keyCode===229&&(Gt="onCompositionStart");Gt&&(de$1&&bt.locale!=="ko"&&(ie$1||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&ie$1&&(zt=nd()):(kd=Rt,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Vt=oe$1(kt,Gt),0<Vt.length&&(Gt=new Ld(Gt,vt,null,bt,Rt),Pt.push({event:Gt,listeners:Vt}),zt?Gt.data=zt:(zt=he$1(bt),zt!==null&&(Gt.data=zt)))),(zt=ce$2?je$1(vt,bt):ke$1(vt,bt))&&(kt=oe$1(kt,"onBeforeInput"),0<kt.length&&(Rt=new Ld("onBeforeInput","beforeinput",null,bt,Rt),Pt.push({event:Rt,listeners:kt}),Rt.data=zt))}se$1(Pt,ht)})}function tf(vt,ht,bt){return{instance:vt,listener:ht,currentTarget:bt}}function oe$1(vt,ht){for(var bt=ht+"Capture",_t=[];vt!==null;){var xt=vt,Et=xt.stateNode;xt.tag===5&&Et!==null&&(xt=Et,Et=Kb(vt,bt),Et!=null&&_t.unshift(tf(vt,Et,xt)),Et=Kb(vt,ht),Et!=null&&_t.push(tf(vt,Et,xt))),vt=vt.return}return _t}function vf(vt){if(vt===null)return null;do vt=vt.return;while(vt&&vt.tag!==5);return vt||null}function wf(vt,ht,bt,_t,xt){for(var Et=ht._reactName,wt=[];bt!==null&&bt!==_t;){var At=bt,St=At.alternate,kt=At.stateNode;if(St!==null&&St===_t)break;At.tag===5&&kt!==null&&(At=kt,xt?(St=Kb(bt,Et),St!=null&&wt.unshift(tf(bt,St,At))):xt||(St=Kb(bt,Et),St!=null&&wt.push(tf(bt,St,At)))),bt=bt.return}wt.length!==0&&vt.push({event:ht,listeners:wt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(vt){return(typeof vt=="string"?vt:""+vt).replace(xf,`
`).replace(yf,"")}function Af(vt,ht,bt){if(ht=zf(ht),zf(vt)!==ht&&bt)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef(vt,ht){return vt==="textarea"||vt==="noscript"||typeof ht.children=="string"||typeof ht.children=="number"||typeof ht.dangerouslySetInnerHTML=="object"&&ht.dangerouslySetInnerHTML!==null&&ht.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(vt){return Hf.resolve(null).then(vt).catch(If)}:Ff;function If(vt){setTimeout(function(){throw vt})}function Kf(vt,ht){var bt=ht,_t=0;do{var xt=bt.nextSibling;if(vt.removeChild(bt),xt&&xt.nodeType===8)if(bt=xt.data,bt==="/$"){if(_t===0){vt.removeChild(xt),bd(ht);return}_t--}else bt!=="$"&&bt!=="$?"&&bt!=="$!"||_t++;bt=xt}while(bt);bd(ht)}function Lf(vt){for(;vt!=null;vt=vt.nextSibling){var ht=vt.nodeType;if(ht===1||ht===3)break;if(ht===8){if(ht=vt.data,ht==="$"||ht==="$!"||ht==="$?")break;if(ht==="/$")return null}}return vt}function Mf(vt){vt=vt.previousSibling;for(var ht=0;vt;){if(vt.nodeType===8){var bt=vt.data;if(bt==="$"||bt==="$!"||bt==="$?"){if(ht===0)return vt;ht--}else bt==="/$"&&ht++}vt=vt.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(vt){var ht=vt[Of];if(ht)return ht;for(var bt=vt.parentNode;bt;){if(ht=bt[uf]||bt[Of]){if(bt=ht.alternate,ht.child!==null||bt!==null&&bt.child!==null)for(vt=Mf(vt);vt!==null;){if(bt=vt[Of])return bt;vt=Mf(vt)}return ht}vt=bt,bt=vt.parentNode}return null}function Cb(vt){return vt=vt[Of]||vt[uf],!vt||vt.tag!==5&&vt.tag!==6&&vt.tag!==13&&vt.tag!==3?null:vt}function ue(vt){if(vt.tag===5||vt.tag===6)return vt.stateNode;throw Error(p$5(33))}function Db(vt){return vt[Pf]||null}var Sf=[],Tf=-1;function Uf(vt){return{current:vt}}function E$2(vt){0>Tf||(vt.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$3(vt,ht){Tf++,Sf[Tf]=vt.current,vt.current=ht}var Vf={},H$3=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(vt,ht){var bt=vt.type.contextTypes;if(!bt)return Vf;var _t=vt.stateNode;if(_t&&_t.__reactInternalMemoizedUnmaskedChildContext===ht)return _t.__reactInternalMemoizedMaskedChildContext;var xt={},Et;for(Et in bt)xt[Et]=ht[Et];return _t&&(vt=vt.stateNode,vt.__reactInternalMemoizedUnmaskedChildContext=ht,vt.__reactInternalMemoizedMaskedChildContext=xt),xt}function Zf(vt){return vt=vt.childContextTypes,vt!=null}function $f(){E$2(Wf),E$2(H$3)}function ag(vt,ht,bt){if(H$3.current!==Vf)throw Error(p$5(168));G$3(H$3,ht),G$3(Wf,bt)}function bg(vt,ht,bt){var _t=vt.stateNode;if(ht=ht.childContextTypes,typeof _t.getChildContext!="function")return bt;_t=_t.getChildContext();for(var xt in _t)if(!(xt in ht))throw Error(p$5(108,Ra(vt)||"Unknown",xt));return A$4({},bt,_t)}function cg(vt){return vt=(vt=vt.stateNode)&&vt.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$3.current,G$3(H$3,vt),G$3(Wf,Wf.current),!0}function dg(vt,ht,bt){var _t=vt.stateNode;if(!_t)throw Error(p$5(169));bt?(vt=bg(vt,ht,Xf),_t.__reactInternalMemoizedMergedChildContext=vt,E$2(Wf),E$2(H$3),G$3(H$3,vt)):E$2(Wf),G$3(Wf,bt)}var eg=null,fg=!1,gg=!1;function hg(vt){eg===null?eg=[vt]:eg.push(vt)}function ig(vt){fg=!0,hg(vt)}function jg(){if(!gg&&eg!==null){gg=!0;var vt=0,ht=C$2;try{var bt=eg;for(C$2=1;vt<bt.length;vt++){var _t=bt[vt];do _t=_t(!0);while(_t!==null)}eg=null,fg=!1}catch(xt){throw eg!==null&&(eg=eg.slice(vt+1)),ac(fc,jg),xt}finally{C$2=ht,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(vt,ht){kg[lg++]=ng,kg[lg++]=mg,mg=vt,ng=ht}function ug(vt,ht,bt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=vt;var _t=rg;vt=sg;var xt=32-oc(_t)-1;_t&=~(1<<xt),bt+=1;var Et=32-oc(ht)+xt;if(30<Et){var wt=xt-xt%5;Et=(_t&(1<<wt)-1).toString(32),_t>>=wt,xt-=wt,rg=1<<32-oc(ht)+xt|bt<<xt|_t,sg=Et+vt}else rg=1<<Et|bt<<xt|_t,sg=vt}function vg(vt){vt.return!==null&&(tg(vt,1),ug(vt,1,0))}function wg(vt){for(;vt===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;vt===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$5=!1,zg=null;function Ag(vt,ht){var bt=Bg(5,null,null,0);bt.elementType="DELETED",bt.stateNode=ht,bt.return=vt,ht=vt.deletions,ht===null?(vt.deletions=[bt],vt.flags|=16):ht.push(bt)}function Cg(vt,ht){switch(vt.tag){case 5:var bt=vt.type;return ht=ht.nodeType!==1||bt.toLowerCase()!==ht.nodeName.toLowerCase()?null:ht,ht!==null?(vt.stateNode=ht,xg=vt,yg=Lf(ht.firstChild),!0):!1;case 6:return ht=vt.pendingProps===""||ht.nodeType!==3?null:ht,ht!==null?(vt.stateNode=ht,xg=vt,yg=null,!0):!1;case 13:return ht=ht.nodeType!==8?null:ht,ht!==null?(bt=qg!==null?{id:rg,overflow:sg}:null,vt.memoizedState={dehydrated:ht,treeContext:bt,retryLane:1073741824},bt=Bg(18,null,null,0),bt.stateNode=ht,bt.return=vt,vt.child=bt,xg=vt,yg=null,!0):!1;default:return!1}}function Dg(vt){return(vt.mode&1)!==0&&(vt.flags&128)===0}function Eg(vt){if(I$5){var ht=yg;if(ht){var bt=ht;if(!Cg(vt,ht)){if(Dg(vt))throw Error(p$5(418));ht=Lf(bt.nextSibling);var _t=xg;ht&&Cg(vt,ht)?Ag(_t,bt):(vt.flags=vt.flags&-4097|2,I$5=!1,xg=vt)}}else{if(Dg(vt))throw Error(p$5(418));vt.flags=vt.flags&-4097|2,I$5=!1,xg=vt}}}function Fg(vt){for(vt=vt.return;vt!==null&&vt.tag!==5&&vt.tag!==3&&vt.tag!==13;)vt=vt.return;xg=vt}function Gg(vt){if(vt!==xg)return!1;if(!I$5)return Fg(vt),I$5=!0,!1;var ht;if((ht=vt.tag!==3)&&!(ht=vt.tag!==5)&&(ht=vt.type,ht=ht!=="head"&&ht!=="body"&&!Ef(vt.type,vt.memoizedProps)),ht&&(ht=yg)){if(Dg(vt))throw Hg(),Error(p$5(418));for(;ht;)Ag(vt,ht),ht=Lf(ht.nextSibling)}if(Fg(vt),vt.tag===13){if(vt=vt.memoizedState,vt=vt!==null?vt.dehydrated:null,!vt)throw Error(p$5(317));e:{for(vt=vt.nextSibling,ht=0;vt;){if(vt.nodeType===8){var bt=vt.data;if(bt==="/$"){if(ht===0){yg=Lf(vt.nextSibling);break e}ht--}else bt!=="$"&&bt!=="$!"&&bt!=="$?"||ht++}vt=vt.nextSibling}yg=null}}else yg=xg?Lf(vt.stateNode.nextSibling):null;return!0}function Hg(){for(var vt=yg;vt;)vt=Lf(vt.nextSibling)}function Ig(){yg=xg=null,I$5=!1}function Jg(vt){zg===null?zg=[vt]:zg.push(vt)}var Kg=ua.ReactCurrentBatchConfig;function Lg(vt,ht,bt){if(vt=bt.ref,vt!==null&&typeof vt!="function"&&typeof vt!="object"){if(bt._owner){if(bt=bt._owner,bt){if(bt.tag!==1)throw Error(p$5(309));var _t=bt.stateNode}if(!_t)throw Error(p$5(147,vt));var xt=_t,Et=""+vt;return ht!==null&&ht.ref!==null&&typeof ht.ref=="function"&&ht.ref._stringRef===Et?ht.ref:(ht=function(wt){var At=xt.refs;wt===null?delete At[Et]:At[Et]=wt},ht._stringRef=Et,ht)}if(typeof vt!="string")throw Error(p$5(284));if(!bt._owner)throw Error(p$5(290,vt))}return vt}function Mg(vt,ht){throw vt=Object.prototype.toString.call(ht),Error(p$5(31,vt==="[object Object]"?"object with keys {"+Object.keys(ht).join(", ")+"}":vt))}function Ng(vt){var ht=vt._init;return ht(vt._payload)}function Og(vt){function ht($t,Ot){if(vt){var jt=$t.deletions;jt===null?($t.deletions=[Ot],$t.flags|=16):jt.push(Ot)}}function bt($t,Ot){if(!vt)return null;for(;Ot!==null;)ht($t,Ot),Ot=Ot.sibling;return null}function _t($t,Ot){for($t=new Map;Ot!==null;)Ot.key!==null?$t.set(Ot.key,Ot):$t.set(Ot.index,Ot),Ot=Ot.sibling;return $t}function xt($t,Ot){return $t=Pg($t,Ot),$t.index=0,$t.sibling=null,$t}function Et($t,Ot,jt){return $t.index=jt,vt?(jt=$t.alternate,jt!==null?(jt=jt.index,jt<Ot?($t.flags|=2,Ot):jt):($t.flags|=2,Ot)):($t.flags|=1048576,Ot)}function wt($t){return vt&&$t.alternate===null&&($t.flags|=2),$t}function At($t,Ot,jt,Ut){return Ot===null||Ot.tag!==6?(Ot=Qg(jt,$t.mode,Ut),Ot.return=$t,Ot):(Ot=xt(Ot,jt),Ot.return=$t,Ot)}function St($t,Ot,jt,Ut){var Bt=jt.type;return Bt===ya?Rt($t,Ot,jt.props.children,Ut,jt.key):Ot!==null&&(Ot.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===Ha&&Ng(Bt)===Ot.type)?(Ut=xt(Ot,jt.props),Ut.ref=Lg($t,Ot,jt),Ut.return=$t,Ut):(Ut=Rg(jt.type,jt.key,jt.props,null,$t.mode,Ut),Ut.ref=Lg($t,Ot,jt),Ut.return=$t,Ut)}function kt($t,Ot,jt,Ut){return Ot===null||Ot.tag!==4||Ot.stateNode.containerInfo!==jt.containerInfo||Ot.stateNode.implementation!==jt.implementation?(Ot=Sg(jt,$t.mode,Ut),Ot.return=$t,Ot):(Ot=xt(Ot,jt.children||[]),Ot.return=$t,Ot)}function Rt($t,Ot,jt,Ut,Bt){return Ot===null||Ot.tag!==7?(Ot=Tg(jt,$t.mode,Ut,Bt),Ot.return=$t,Ot):(Ot=xt(Ot,jt),Ot.return=$t,Ot)}function Pt($t,Ot,jt){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number")return Ot=Qg(""+Ot,$t.mode,jt),Ot.return=$t,Ot;if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case va:return jt=Rg(Ot.type,Ot.key,Ot.props,null,$t.mode,jt),jt.ref=Lg($t,null,Ot),jt.return=$t,jt;case wa:return Ot=Sg(Ot,$t.mode,jt),Ot.return=$t,Ot;case Ha:var Ut=Ot._init;return Pt($t,Ut(Ot._payload),jt)}if(eb(Ot)||Ka(Ot))return Ot=Tg(Ot,$t.mode,jt,null),Ot.return=$t,Ot;Mg($t,Ot)}return null}function Mt($t,Ot,jt,Ut){var Bt=Ot!==null?Ot.key:null;if(typeof jt=="string"&&jt!==""||typeof jt=="number")return Bt!==null?null:At($t,Ot,""+jt,Ut);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case va:return jt.key===Bt?St($t,Ot,jt,Ut):null;case wa:return jt.key===Bt?kt($t,Ot,jt,Ut):null;case Ha:return Bt=jt._init,Mt($t,Ot,Bt(jt._payload),Ut)}if(eb(jt)||Ka(jt))return Bt!==null?null:Rt($t,Ot,jt,Ut,null);Mg($t,jt)}return null}function Ft($t,Ot,jt,Ut,Bt){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number")return $t=$t.get(jt)||null,At(Ot,$t,""+Ut,Bt);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case va:return $t=$t.get(Ut.key===null?jt:Ut.key)||null,St(Ot,$t,Ut,Bt);case wa:return $t=$t.get(Ut.key===null?jt:Ut.key)||null,kt(Ot,$t,Ut,Bt);case Ha:var Vt=Ut._init;return Ft($t,Ot,jt,Vt(Ut._payload),Bt)}if(eb(Ut)||Ka(Ut))return $t=$t.get(jt)||null,Rt(Ot,$t,Ut,Bt,null);Mg(Ot,Ut)}return null}function Lt($t,Ot,jt,Ut){for(var Bt=null,Vt=null,zt=Ot,Gt=Ot=0,en=null;zt!==null&&Gt<jt.length;Gt++){zt.index>Gt?(en=zt,zt=null):en=zt.sibling;var ln=Mt($t,zt,jt[Gt],Ut);if(ln===null){zt===null&&(zt=en);break}vt&&zt&&ln.alternate===null&&ht($t,zt),Ot=Et(ln,Ot,Gt),Vt===null?Bt=ln:Vt.sibling=ln,Vt=ln,zt=en}if(Gt===jt.length)return bt($t,zt),I$5&&tg($t,Gt),Bt;if(zt===null){for(;Gt<jt.length;Gt++)zt=Pt($t,jt[Gt],Ut),zt!==null&&(Ot=Et(zt,Ot,Gt),Vt===null?Bt=zt:Vt.sibling=zt,Vt=zt);return I$5&&tg($t,Gt),Bt}for(zt=_t($t,zt);Gt<jt.length;Gt++)en=Ft(zt,$t,Gt,jt[Gt],Ut),en!==null&&(vt&&en.alternate!==null&&zt.delete(en.key===null?Gt:en.key),Ot=Et(en,Ot,Gt),Vt===null?Bt=en:Vt.sibling=en,Vt=en);return vt&&zt.forEach(function(Kt){return ht($t,Kt)}),I$5&&tg($t,Gt),Bt}function Dt($t,Ot,jt,Ut){var Bt=Ka(jt);if(typeof Bt!="function")throw Error(p$5(150));if(jt=Bt.call(jt),jt==null)throw Error(p$5(151));for(var Vt=Bt=null,zt=Ot,Gt=Ot=0,en=null,ln=jt.next();zt!==null&&!ln.done;Gt++,ln=jt.next()){zt.index>Gt?(en=zt,zt=null):en=zt.sibling;var Kt=Mt($t,zt,ln.value,Ut);if(Kt===null){zt===null&&(zt=en);break}vt&&zt&&Kt.alternate===null&&ht($t,zt),Ot=Et(Kt,Ot,Gt),Vt===null?Bt=Kt:Vt.sibling=Kt,Vt=Kt,zt=en}if(ln.done)return bt($t,zt),I$5&&tg($t,Gt),Bt;if(zt===null){for(;!ln.done;Gt++,ln=jt.next())ln=Pt($t,ln.value,Ut),ln!==null&&(Ot=Et(ln,Ot,Gt),Vt===null?Bt=ln:Vt.sibling=ln,Vt=ln);return I$5&&tg($t,Gt),Bt}for(zt=_t($t,zt);!ln.done;Gt++,ln=jt.next())ln=Ft(zt,$t,Gt,ln.value,Ut),ln!==null&&(vt&&ln.alternate!==null&&zt.delete(ln.key===null?Gt:ln.key),Ot=Et(ln,Ot,Gt),Vt===null?Bt=ln:Vt.sibling=ln,Vt=ln);return vt&&zt.forEach(function(on){return ht($t,on)}),I$5&&tg($t,Gt),Bt}function Nt($t,Ot,jt,Ut){if(typeof jt=="object"&&jt!==null&&jt.type===ya&&jt.key===null&&(jt=jt.props.children),typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case va:e:{for(var Bt=jt.key,Vt=Ot;Vt!==null;){if(Vt.key===Bt){if(Bt=jt.type,Bt===ya){if(Vt.tag===7){bt($t,Vt.sibling),Ot=xt(Vt,jt.props.children),Ot.return=$t,$t=Ot;break e}}else if(Vt.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===Ha&&Ng(Bt)===Vt.type){bt($t,Vt.sibling),Ot=xt(Vt,jt.props),Ot.ref=Lg($t,Vt,jt),Ot.return=$t,$t=Ot;break e}bt($t,Vt);break}else ht($t,Vt);Vt=Vt.sibling}jt.type===ya?(Ot=Tg(jt.props.children,$t.mode,Ut,jt.key),Ot.return=$t,$t=Ot):(Ut=Rg(jt.type,jt.key,jt.props,null,$t.mode,Ut),Ut.ref=Lg($t,Ot,jt),Ut.return=$t,$t=Ut)}return wt($t);case wa:e:{for(Vt=jt.key;Ot!==null;){if(Ot.key===Vt)if(Ot.tag===4&&Ot.stateNode.containerInfo===jt.containerInfo&&Ot.stateNode.implementation===jt.implementation){bt($t,Ot.sibling),Ot=xt(Ot,jt.children||[]),Ot.return=$t,$t=Ot;break e}else{bt($t,Ot);break}else ht($t,Ot);Ot=Ot.sibling}Ot=Sg(jt,$t.mode,Ut),Ot.return=$t,$t=Ot}return wt($t);case Ha:return Vt=jt._init,Nt($t,Ot,Vt(jt._payload),Ut)}if(eb(jt))return Lt($t,Ot,jt,Ut);if(Ka(jt))return Dt($t,Ot,jt,Ut);Mg($t,jt)}return typeof jt=="string"&&jt!==""||typeof jt=="number"?(jt=""+jt,Ot!==null&&Ot.tag===6?(bt($t,Ot.sibling),Ot=xt(Ot,jt),Ot.return=$t,$t=Ot):(bt($t,Ot),Ot=Qg(jt,$t.mode,Ut),Ot.return=$t,$t=Ot),wt($t)):bt($t,Ot)}return Nt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(vt){var ht=Wg.current;E$2(Wg),vt._currentValue=ht}function bh(vt,ht,bt){for(;vt!==null;){var _t=vt.alternate;if((vt.childLanes&ht)!==ht?(vt.childLanes|=ht,_t!==null&&(_t.childLanes|=ht)):_t!==null&&(_t.childLanes&ht)!==ht&&(_t.childLanes|=ht),vt===bt)break;vt=vt.return}}function ch(vt,ht){Xg=vt,Zg=Yg=null,vt=vt.dependencies,vt!==null&&vt.firstContext!==null&&(vt.lanes&ht&&(dh=!0),vt.firstContext=null)}function eh(vt){var ht=vt._currentValue;if(Zg!==vt)if(vt={context:vt,memoizedValue:ht,next:null},Yg===null){if(Xg===null)throw Error(p$5(308));Yg=vt,Xg.dependencies={lanes:0,firstContext:vt}}else Yg=Yg.next=vt;return ht}var fh=null;function gh(vt){fh===null?fh=[vt]:fh.push(vt)}function hh(vt,ht,bt,_t){var xt=ht.interleaved;return xt===null?(bt.next=bt,gh(ht)):(bt.next=xt.next,xt.next=bt),ht.interleaved=bt,ih(vt,_t)}function ih(vt,ht){vt.lanes|=ht;var bt=vt.alternate;for(bt!==null&&(bt.lanes|=ht),bt=vt,vt=vt.return;vt!==null;)vt.childLanes|=ht,bt=vt.alternate,bt!==null&&(bt.childLanes|=ht),bt=vt,vt=vt.return;return bt.tag===3?bt.stateNode:null}var jh=!1;function kh(vt){vt.updateQueue={baseState:vt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(vt,ht){vt=vt.updateQueue,ht.updateQueue===vt&&(ht.updateQueue={baseState:vt.baseState,firstBaseUpdate:vt.firstBaseUpdate,lastBaseUpdate:vt.lastBaseUpdate,shared:vt.shared,effects:vt.effects})}function mh(vt,ht){return{eventTime:vt,lane:ht,tag:0,payload:null,callback:null,next:null}}function nh(vt,ht,bt){var _t=vt.updateQueue;if(_t===null)return null;if(_t=_t.shared,K$1&2){var xt=_t.pending;return xt===null?ht.next=ht:(ht.next=xt.next,xt.next=ht),_t.pending=ht,ih(vt,bt)}return xt=_t.interleaved,xt===null?(ht.next=ht,gh(_t)):(ht.next=xt.next,xt.next=ht),_t.interleaved=ht,ih(vt,bt)}function oh(vt,ht,bt){if(ht=ht.updateQueue,ht!==null&&(ht=ht.shared,(bt&4194240)!==0)){var _t=ht.lanes;_t&=vt.pendingLanes,bt|=_t,ht.lanes=bt,Cc(vt,bt)}}function ph(vt,ht){var bt=vt.updateQueue,_t=vt.alternate;if(_t!==null&&(_t=_t.updateQueue,bt===_t)){var xt=null,Et=null;if(bt=bt.firstBaseUpdate,bt!==null){do{var wt={eventTime:bt.eventTime,lane:bt.lane,tag:bt.tag,payload:bt.payload,callback:bt.callback,next:null};Et===null?xt=Et=wt:Et=Et.next=wt,bt=bt.next}while(bt!==null);Et===null?xt=Et=ht:Et=Et.next=ht}else xt=Et=ht;bt={baseState:_t.baseState,firstBaseUpdate:xt,lastBaseUpdate:Et,shared:_t.shared,effects:_t.effects},vt.updateQueue=bt;return}vt=bt.lastBaseUpdate,vt===null?bt.firstBaseUpdate=ht:vt.next=ht,bt.lastBaseUpdate=ht}function qh(vt,ht,bt,_t){var xt=vt.updateQueue;jh=!1;var Et=xt.firstBaseUpdate,wt=xt.lastBaseUpdate,At=xt.shared.pending;if(At!==null){xt.shared.pending=null;var St=At,kt=St.next;St.next=null,wt===null?Et=kt:wt.next=kt,wt=St;var Rt=vt.alternate;Rt!==null&&(Rt=Rt.updateQueue,At=Rt.lastBaseUpdate,At!==wt&&(At===null?Rt.firstBaseUpdate=kt:At.next=kt,Rt.lastBaseUpdate=St))}if(Et!==null){var Pt=xt.baseState;wt=0,Rt=kt=St=null,At=Et;do{var Mt=At.lane,Ft=At.eventTime;if((_t&Mt)===Mt){Rt!==null&&(Rt=Rt.next={eventTime:Ft,lane:0,tag:At.tag,payload:At.payload,callback:At.callback,next:null});e:{var Lt=vt,Dt=At;switch(Mt=ht,Ft=bt,Dt.tag){case 1:if(Lt=Dt.payload,typeof Lt=="function"){Pt=Lt.call(Ft,Pt,Mt);break e}Pt=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Dt.payload,Mt=typeof Lt=="function"?Lt.call(Ft,Pt,Mt):Lt,Mt==null)break e;Pt=A$4({},Pt,Mt);break e;case 2:jh=!0}}At.callback!==null&&At.lane!==0&&(vt.flags|=64,Mt=xt.effects,Mt===null?xt.effects=[At]:Mt.push(At))}else Ft={eventTime:Ft,lane:Mt,tag:At.tag,payload:At.payload,callback:At.callback,next:null},Rt===null?(kt=Rt=Ft,St=Pt):Rt=Rt.next=Ft,wt|=Mt;if(At=At.next,At===null){if(At=xt.shared.pending,At===null)break;Mt=At,At=Mt.next,Mt.next=null,xt.lastBaseUpdate=Mt,xt.shared.pending=null}}while(!0);if(Rt===null&&(St=Pt),xt.baseState=St,xt.firstBaseUpdate=kt,xt.lastBaseUpdate=Rt,ht=xt.shared.interleaved,ht!==null){xt=ht;do wt|=xt.lane,xt=xt.next;while(xt!==ht)}else Et===null&&(xt.shared.lanes=0);rh|=wt,vt.lanes=wt,vt.memoizedState=Pt}}function sh(vt,ht,bt){if(vt=ht.effects,ht.effects=null,vt!==null)for(ht=0;ht<vt.length;ht++){var _t=vt[ht],xt=_t.callback;if(xt!==null){if(_t.callback=null,_t=bt,typeof xt!="function")throw Error(p$5(191,xt));xt.call(_t)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(vt){if(vt===th)throw Error(p$5(174));return vt}function yh(vt,ht){switch(G$3(wh,ht),G$3(vh,vt),G$3(uh,th),vt=ht.nodeType,vt){case 9:case 11:ht=(ht=ht.documentElement)?ht.namespaceURI:lb(null,"");break;default:vt=vt===8?ht.parentNode:ht,ht=vt.namespaceURI||null,vt=vt.tagName,ht=lb(ht,vt)}E$2(uh),G$3(uh,ht)}function zh(){E$2(uh),E$2(vh),E$2(wh)}function Ah(vt){xh(wh.current);var ht=xh(uh.current),bt=lb(ht,vt.type);ht!==bt&&(G$3(vh,vt),G$3(uh,bt))}function Bh(vt){vh.current===vt&&(E$2(uh),E$2(vh))}var L$2=Uf(0);function Ch(vt){for(var ht=vt;ht!==null;){if(ht.tag===13){var bt=ht.memoizedState;if(bt!==null&&(bt=bt.dehydrated,bt===null||bt.data==="$?"||bt.data==="$!"))return ht}else if(ht.tag===19&&ht.memoizedProps.revealOrder!==void 0){if(ht.flags&128)return ht}else if(ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===vt)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===vt)return null;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}return null}var Dh=[];function Eh(){for(var vt=0;vt<Dh.length;vt++)Dh[vt]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$4=null,N$4=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$5(321))}function Mh(vt,ht){if(ht===null)return!1;for(var bt=0;bt<ht.length&&bt<vt.length;bt++)if(!He(vt[bt],ht[bt]))return!1;return!0}function Nh(vt,ht,bt,_t,xt,Et){if(Hh=Et,M$4=ht,ht.memoizedState=null,ht.updateQueue=null,ht.lanes=0,Fh.current=vt===null||vt.memoizedState===null?Oh:Ph,vt=bt(_t,xt),Jh){Et=0;do{if(Jh=!1,Kh=0,25<=Et)throw Error(p$5(301));Et+=1,O$2=N$4=null,ht.updateQueue=null,Fh.current=Qh,vt=bt(_t,xt)}while(Jh)}if(Fh.current=Rh,ht=N$4!==null&&N$4.next!==null,Hh=0,O$2=N$4=M$4=null,Ih=!1,ht)throw Error(p$5(300));return vt}function Sh(){var vt=Kh!==0;return Kh=0,vt}function Th(){var vt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$4.memoizedState=O$2=vt:O$2=O$2.next=vt,O$2}function Uh(){if(N$4===null){var vt=M$4.alternate;vt=vt!==null?vt.memoizedState:null}else vt=N$4.next;var ht=O$2===null?M$4.memoizedState:O$2.next;if(ht!==null)O$2=ht,N$4=vt;else{if(vt===null)throw Error(p$5(310));N$4=vt,vt={memoizedState:N$4.memoizedState,baseState:N$4.baseState,baseQueue:N$4.baseQueue,queue:N$4.queue,next:null},O$2===null?M$4.memoizedState=O$2=vt:O$2=O$2.next=vt}return O$2}function Vh(vt,ht){return typeof ht=="function"?ht(vt):ht}function Wh(vt){var ht=Uh(),bt=ht.queue;if(bt===null)throw Error(p$5(311));bt.lastRenderedReducer=vt;var _t=N$4,xt=_t.baseQueue,Et=bt.pending;if(Et!==null){if(xt!==null){var wt=xt.next;xt.next=Et.next,Et.next=wt}_t.baseQueue=xt=Et,bt.pending=null}if(xt!==null){Et=xt.next,_t=_t.baseState;var At=wt=null,St=null,kt=Et;do{var Rt=kt.lane;if((Hh&Rt)===Rt)St!==null&&(St=St.next={lane:0,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null}),_t=kt.hasEagerState?kt.eagerState:vt(_t,kt.action);else{var Pt={lane:Rt,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null};St===null?(At=St=Pt,wt=_t):St=St.next=Pt,M$4.lanes|=Rt,rh|=Rt}kt=kt.next}while(kt!==null&&kt!==Et);St===null?wt=_t:St.next=At,He(_t,ht.memoizedState)||(dh=!0),ht.memoizedState=_t,ht.baseState=wt,ht.baseQueue=St,bt.lastRenderedState=_t}if(vt=bt.interleaved,vt!==null){xt=vt;do Et=xt.lane,M$4.lanes|=Et,rh|=Et,xt=xt.next;while(xt!==vt)}else xt===null&&(bt.lanes=0);return[ht.memoizedState,bt.dispatch]}function Xh(vt){var ht=Uh(),bt=ht.queue;if(bt===null)throw Error(p$5(311));bt.lastRenderedReducer=vt;var _t=bt.dispatch,xt=bt.pending,Et=ht.memoizedState;if(xt!==null){bt.pending=null;var wt=xt=xt.next;do Et=vt(Et,wt.action),wt=wt.next;while(wt!==xt);He(Et,ht.memoizedState)||(dh=!0),ht.memoizedState=Et,ht.baseQueue===null&&(ht.baseState=Et),bt.lastRenderedState=Et}return[Et,_t]}function Yh(){}function Zh(vt,ht){var bt=M$4,_t=Uh(),xt=ht(),Et=!He(_t.memoizedState,xt);if(Et&&(_t.memoizedState=xt,dh=!0),_t=_t.queue,$h(ai.bind(null,bt,_t,vt),[vt]),_t.getSnapshot!==ht||Et||O$2!==null&&O$2.memoizedState.tag&1){if(bt.flags|=2048,bi(9,ci.bind(null,bt,_t,xt,ht),void 0,null),Q$1===null)throw Error(p$5(349));Hh&30||di(bt,ht,xt)}return xt}function di(vt,ht,bt){vt.flags|=16384,vt={getSnapshot:ht,value:bt},ht=M$4.updateQueue,ht===null?(ht={lastEffect:null,stores:null},M$4.updateQueue=ht,ht.stores=[vt]):(bt=ht.stores,bt===null?ht.stores=[vt]:bt.push(vt))}function ci(vt,ht,bt,_t){ht.value=bt,ht.getSnapshot=_t,ei(ht)&&fi(vt)}function ai(vt,ht,bt){return bt(function(){ei(ht)&&fi(vt)})}function ei(vt){var ht=vt.getSnapshot;vt=vt.value;try{var bt=ht();return!He(vt,bt)}catch{return!0}}function fi(vt){var ht=ih(vt,1);ht!==null&&gi(ht,vt,1,-1)}function hi(vt){var ht=Th();return typeof vt=="function"&&(vt=vt()),ht.memoizedState=ht.baseState=vt,vt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:vt},ht.queue=vt,vt=vt.dispatch=ii.bind(null,M$4,vt),[ht.memoizedState,vt]}function bi(vt,ht,bt,_t){return vt={tag:vt,create:ht,destroy:bt,deps:_t,next:null},ht=M$4.updateQueue,ht===null?(ht={lastEffect:null,stores:null},M$4.updateQueue=ht,ht.lastEffect=vt.next=vt):(bt=ht.lastEffect,bt===null?ht.lastEffect=vt.next=vt:(_t=bt.next,bt.next=vt,vt.next=_t,ht.lastEffect=vt)),vt}function ji(){return Uh().memoizedState}function ki(vt,ht,bt,_t){var xt=Th();M$4.flags|=vt,xt.memoizedState=bi(1|ht,bt,void 0,_t===void 0?null:_t)}function li(vt,ht,bt,_t){var xt=Uh();_t=_t===void 0?null:_t;var Et=void 0;if(N$4!==null){var wt=N$4.memoizedState;if(Et=wt.destroy,_t!==null&&Mh(_t,wt.deps)){xt.memoizedState=bi(ht,bt,Et,_t);return}}M$4.flags|=vt,xt.memoizedState=bi(1|ht,bt,Et,_t)}function mi(vt,ht){return ki(8390656,8,vt,ht)}function $h(vt,ht){return li(2048,8,vt,ht)}function ni(vt,ht){return li(4,2,vt,ht)}function oi(vt,ht){return li(4,4,vt,ht)}function pi(vt,ht){if(typeof ht=="function")return vt=vt(),ht(vt),function(){ht(null)};if(ht!=null)return vt=vt(),ht.current=vt,function(){ht.current=null}}function qi(vt,ht,bt){return bt=bt!=null?bt.concat([vt]):null,li(4,4,pi.bind(null,ht,vt),bt)}function ri(){}function si(vt,ht){var bt=Uh();ht=ht===void 0?null:ht;var _t=bt.memoizedState;return _t!==null&&ht!==null&&Mh(ht,_t[1])?_t[0]:(bt.memoizedState=[vt,ht],vt)}function ti(vt,ht){var bt=Uh();ht=ht===void 0?null:ht;var _t=bt.memoizedState;return _t!==null&&ht!==null&&Mh(ht,_t[1])?_t[0]:(vt=vt(),bt.memoizedState=[vt,ht],vt)}function ui(vt,ht,bt){return Hh&21?(He(bt,ht)||(bt=yc(),M$4.lanes|=bt,rh|=bt,vt.baseState=!0),ht):(vt.baseState&&(vt.baseState=!1,dh=!0),vt.memoizedState=bt)}function vi(vt,ht){var bt=C$2;C$2=bt!==0&&4>bt?bt:4,vt(!0);var _t=Gh.transition;Gh.transition={};try{vt(!1),ht()}finally{C$2=bt,Gh.transition=_t}}function wi(){return Uh().memoizedState}function xi(vt,ht,bt){var _t=yi(vt);if(bt={lane:_t,action:bt,hasEagerState:!1,eagerState:null,next:null},zi(vt))Ai(ht,bt);else if(bt=hh(vt,ht,bt,_t),bt!==null){var xt=R$1();gi(bt,vt,_t,xt),Bi(bt,ht,_t)}}function ii(vt,ht,bt){var _t=yi(vt),xt={lane:_t,action:bt,hasEagerState:!1,eagerState:null,next:null};if(zi(vt))Ai(ht,xt);else{var Et=vt.alternate;if(vt.lanes===0&&(Et===null||Et.lanes===0)&&(Et=ht.lastRenderedReducer,Et!==null))try{var wt=ht.lastRenderedState,At=Et(wt,bt);if(xt.hasEagerState=!0,xt.eagerState=At,He(At,wt)){var St=ht.interleaved;St===null?(xt.next=xt,gh(ht)):(xt.next=St.next,St.next=xt),ht.interleaved=xt;return}}catch{}finally{}bt=hh(vt,ht,xt,_t),bt!==null&&(xt=R$1(),gi(bt,vt,_t,xt),Bi(bt,ht,_t))}}function zi(vt){var ht=vt.alternate;return vt===M$4||ht!==null&&ht===M$4}function Ai(vt,ht){Jh=Ih=!0;var bt=vt.pending;bt===null?ht.next=ht:(ht.next=bt.next,bt.next=ht),vt.pending=ht}function Bi(vt,ht,bt){if(bt&4194240){var _t=ht.lanes;_t&=vt.pendingLanes,bt|=_t,ht.lanes=bt,Cc(vt,bt)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(vt,ht){return Th().memoizedState=[vt,ht===void 0?null:ht],vt},useContext:eh,useEffect:mi,useImperativeHandle:function(vt,ht,bt){return bt=bt!=null?bt.concat([vt]):null,ki(4194308,4,pi.bind(null,ht,vt),bt)},useLayoutEffect:function(vt,ht){return ki(4194308,4,vt,ht)},useInsertionEffect:function(vt,ht){return ki(4,2,vt,ht)},useMemo:function(vt,ht){var bt=Th();return ht=ht===void 0?null:ht,vt=vt(),bt.memoizedState=[vt,ht],vt},useReducer:function(vt,ht,bt){var _t=Th();return ht=bt!==void 0?bt(ht):ht,_t.memoizedState=_t.baseState=ht,vt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vt,lastRenderedState:ht},_t.queue=vt,vt=vt.dispatch=xi.bind(null,M$4,vt),[_t.memoizedState,vt]},useRef:function(vt){var ht=Th();return vt={current:vt},ht.memoizedState=vt},useState:hi,useDebugValue:ri,useDeferredValue:function(vt){return Th().memoizedState=vt},useTransition:function(){var vt=hi(!1),ht=vt[0];return vt=vi.bind(null,vt[1]),Th().memoizedState=vt,[ht,vt]},useMutableSource:function(){},useSyncExternalStore:function(vt,ht,bt){var _t=M$4,xt=Th();if(I$5){if(bt===void 0)throw Error(p$5(407));bt=bt()}else{if(bt=ht(),Q$1===null)throw Error(p$5(349));Hh&30||di(_t,ht,bt)}xt.memoizedState=bt;var Et={value:bt,getSnapshot:ht};return xt.queue=Et,mi(ai.bind(null,_t,Et,vt),[vt]),_t.flags|=2048,bi(9,ci.bind(null,_t,Et,bt,ht),void 0,null),bt},useId:function(){var vt=Th(),ht=Q$1.identifierPrefix;if(I$5){var bt=sg,_t=rg;bt=(_t&~(1<<32-oc(_t)-1)).toString(32)+bt,ht=":"+ht+"R"+bt,bt=Kh++,0<bt&&(ht+="H"+bt.toString(32)),ht+=":"}else bt=Lh++,ht=":"+ht+"r"+bt.toString(32)+":";return vt.memoizedState=ht},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(vt){var ht=Uh();return ui(ht,N$4.memoizedState,vt)},useTransition:function(){var vt=Wh(Vh)[0],ht=Uh().memoizedState;return[vt,ht]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(vt){var ht=Uh();return N$4===null?ht.memoizedState=vt:ui(ht,N$4.memoizedState,vt)},useTransition:function(){var vt=Xh(Vh)[0],ht=Uh().memoizedState;return[vt,ht]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(vt,ht){if(vt&&vt.defaultProps){ht=A$4({},ht),vt=vt.defaultProps;for(var bt in vt)ht[bt]===void 0&&(ht[bt]=vt[bt]);return ht}return ht}function Di(vt,ht,bt,_t){ht=vt.memoizedState,bt=bt(_t,ht),bt=bt==null?ht:A$4({},ht,bt),vt.memoizedState=bt,vt.lanes===0&&(vt.updateQueue.baseState=bt)}var Ei={isMounted:function(vt){return(vt=vt._reactInternals)?Vb(vt)===vt:!1},enqueueSetState:function(vt,ht,bt){vt=vt._reactInternals;var _t=R$1(),xt=yi(vt),Et=mh(_t,xt);Et.payload=ht,bt!=null&&(Et.callback=bt),ht=nh(vt,Et,xt),ht!==null&&(gi(ht,vt,xt,_t),oh(ht,vt,xt))},enqueueReplaceState:function(vt,ht,bt){vt=vt._reactInternals;var _t=R$1(),xt=yi(vt),Et=mh(_t,xt);Et.tag=1,Et.payload=ht,bt!=null&&(Et.callback=bt),ht=nh(vt,Et,xt),ht!==null&&(gi(ht,vt,xt,_t),oh(ht,vt,xt))},enqueueForceUpdate:function(vt,ht){vt=vt._reactInternals;var bt=R$1(),_t=yi(vt),xt=mh(bt,_t);xt.tag=2,ht!=null&&(xt.callback=ht),ht=nh(vt,xt,_t),ht!==null&&(gi(ht,vt,_t,bt),oh(ht,vt,_t))}};function Fi(vt,ht,bt,_t,xt,Et,wt){return vt=vt.stateNode,typeof vt.shouldComponentUpdate=="function"?vt.shouldComponentUpdate(_t,Et,wt):ht.prototype&&ht.prototype.isPureReactComponent?!Ie(bt,_t)||!Ie(xt,Et):!0}function Gi(vt,ht,bt){var _t=!1,xt=Vf,Et=ht.contextType;return typeof Et=="object"&&Et!==null?Et=eh(Et):(xt=Zf(ht)?Xf:H$3.current,_t=ht.contextTypes,Et=(_t=_t!=null)?Yf(vt,xt):Vf),ht=new ht(bt,Et),vt.memoizedState=ht.state!==null&&ht.state!==void 0?ht.state:null,ht.updater=Ei,vt.stateNode=ht,ht._reactInternals=vt,_t&&(vt=vt.stateNode,vt.__reactInternalMemoizedUnmaskedChildContext=xt,vt.__reactInternalMemoizedMaskedChildContext=Et),ht}function Hi(vt,ht,bt,_t){vt=ht.state,typeof ht.componentWillReceiveProps=="function"&&ht.componentWillReceiveProps(bt,_t),typeof ht.UNSAFE_componentWillReceiveProps=="function"&&ht.UNSAFE_componentWillReceiveProps(bt,_t),ht.state!==vt&&Ei.enqueueReplaceState(ht,ht.state,null)}function Ii(vt,ht,bt,_t){var xt=vt.stateNode;xt.props=bt,xt.state=vt.memoizedState,xt.refs={},kh(vt);var Et=ht.contextType;typeof Et=="object"&&Et!==null?xt.context=eh(Et):(Et=Zf(ht)?Xf:H$3.current,xt.context=Yf(vt,Et)),xt.state=vt.memoizedState,Et=ht.getDerivedStateFromProps,typeof Et=="function"&&(Di(vt,ht,Et,bt),xt.state=vt.memoizedState),typeof ht.getDerivedStateFromProps=="function"||typeof xt.getSnapshotBeforeUpdate=="function"||typeof xt.UNSAFE_componentWillMount!="function"&&typeof xt.componentWillMount!="function"||(ht=xt.state,typeof xt.componentWillMount=="function"&&xt.componentWillMount(),typeof xt.UNSAFE_componentWillMount=="function"&&xt.UNSAFE_componentWillMount(),ht!==xt.state&&Ei.enqueueReplaceState(xt,xt.state,null),qh(vt,bt,xt,_t),xt.state=vt.memoizedState),typeof xt.componentDidMount=="function"&&(vt.flags|=4194308)}function Ji(vt,ht){try{var bt="",_t=ht;do bt+=Pa(_t),_t=_t.return;while(_t);var xt=bt}catch(Et){xt=`
Error generating stack: `+Et.message+`
`+Et.stack}return{value:vt,source:ht,stack:xt,digest:null}}function Ki(vt,ht,bt){return{value:vt,source:null,stack:bt??null,digest:ht??null}}function Li(vt,ht){try{console.error(ht.value)}catch(bt){setTimeout(function(){throw bt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(vt,ht,bt){bt=mh(-1,bt),bt.tag=3,bt.payload={element:null};var _t=ht.value;return bt.callback=function(){Oi||(Oi=!0,Pi=_t),Li(vt,ht)},bt}function Qi(vt,ht,bt){bt=mh(-1,bt),bt.tag=3;var _t=vt.type.getDerivedStateFromError;if(typeof _t=="function"){var xt=ht.value;bt.payload=function(){return _t(xt)},bt.callback=function(){Li(vt,ht)}}var Et=vt.stateNode;return Et!==null&&typeof Et.componentDidCatch=="function"&&(bt.callback=function(){Li(vt,ht),typeof _t!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var wt=ht.stack;this.componentDidCatch(ht.value,{componentStack:wt!==null?wt:""})}),bt}function Si(vt,ht,bt){var _t=vt.pingCache;if(_t===null){_t=vt.pingCache=new Mi;var xt=new Set;_t.set(ht,xt)}else xt=_t.get(ht),xt===void 0&&(xt=new Set,_t.set(ht,xt));xt.has(bt)||(xt.add(bt),vt=Ti.bind(null,vt,ht,bt),ht.then(vt,vt))}function Ui(vt){do{var ht;if((ht=vt.tag===13)&&(ht=vt.memoizedState,ht=ht!==null?ht.dehydrated!==null:!0),ht)return vt;vt=vt.return}while(vt!==null);return null}function Vi(vt,ht,bt,_t,xt){return vt.mode&1?(vt.flags|=65536,vt.lanes=xt,vt):(vt===ht?vt.flags|=65536:(vt.flags|=128,bt.flags|=131072,bt.flags&=-52805,bt.tag===1&&(bt.alternate===null?bt.tag=17:(ht=mh(-1,1),ht.tag=2,nh(bt,ht,1))),bt.lanes|=1),vt)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(vt,ht,bt,_t){ht.child=vt===null?Vg(ht,null,bt,_t):Ug(ht,vt.child,bt,_t)}function Yi(vt,ht,bt,_t,xt){bt=bt.render;var Et=ht.ref;return ch(ht,xt),_t=Nh(vt,ht,bt,_t,Et,xt),bt=Sh(),vt!==null&&!dh?(ht.updateQueue=vt.updateQueue,ht.flags&=-2053,vt.lanes&=~xt,Zi(vt,ht,xt)):(I$5&&bt&&vg(ht),ht.flags|=1,Xi(vt,ht,_t,xt),ht.child)}function $i(vt,ht,bt,_t,xt){if(vt===null){var Et=bt.type;return typeof Et=="function"&&!aj(Et)&&Et.defaultProps===void 0&&bt.compare===null&&bt.defaultProps===void 0?(ht.tag=15,ht.type=Et,bj(vt,ht,Et,_t,xt)):(vt=Rg(bt.type,null,_t,ht,ht.mode,xt),vt.ref=ht.ref,vt.return=ht,ht.child=vt)}if(Et=vt.child,!(vt.lanes&xt)){var wt=Et.memoizedProps;if(bt=bt.compare,bt=bt!==null?bt:Ie,bt(wt,_t)&&vt.ref===ht.ref)return Zi(vt,ht,xt)}return ht.flags|=1,vt=Pg(Et,_t),vt.ref=ht.ref,vt.return=ht,ht.child=vt}function bj(vt,ht,bt,_t,xt){if(vt!==null){var Et=vt.memoizedProps;if(Ie(Et,_t)&&vt.ref===ht.ref)if(dh=!1,ht.pendingProps=_t=Et,(vt.lanes&xt)!==0)vt.flags&131072&&(dh=!0);else return ht.lanes=vt.lanes,Zi(vt,ht,xt)}return cj(vt,ht,bt,_t,xt)}function dj(vt,ht,bt){var _t=ht.pendingProps,xt=_t.children,Et=vt!==null?vt.memoizedState:null;if(_t.mode==="hidden")if(!(ht.mode&1))ht.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$3(ej,fj),fj|=bt;else{if(!(bt&1073741824))return vt=Et!==null?Et.baseLanes|bt:bt,ht.lanes=ht.childLanes=1073741824,ht.memoizedState={baseLanes:vt,cachePool:null,transitions:null},ht.updateQueue=null,G$3(ej,fj),fj|=vt,null;ht.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t=Et!==null?Et.baseLanes:bt,G$3(ej,fj),fj|=_t}else Et!==null?(_t=Et.baseLanes|bt,ht.memoizedState=null):_t=bt,G$3(ej,fj),fj|=_t;return Xi(vt,ht,xt,bt),ht.child}function gj(vt,ht){var bt=ht.ref;(vt===null&&bt!==null||vt!==null&&vt.ref!==bt)&&(ht.flags|=512,ht.flags|=2097152)}function cj(vt,ht,bt,_t,xt){var Et=Zf(bt)?Xf:H$3.current;return Et=Yf(ht,Et),ch(ht,xt),bt=Nh(vt,ht,bt,_t,Et,xt),_t=Sh(),vt!==null&&!dh?(ht.updateQueue=vt.updateQueue,ht.flags&=-2053,vt.lanes&=~xt,Zi(vt,ht,xt)):(I$5&&_t&&vg(ht),ht.flags|=1,Xi(vt,ht,bt,xt),ht.child)}function hj(vt,ht,bt,_t,xt){if(Zf(bt)){var Et=!0;cg(ht)}else Et=!1;if(ch(ht,xt),ht.stateNode===null)ij(vt,ht),Gi(ht,bt,_t),Ii(ht,bt,_t,xt),_t=!0;else if(vt===null){var wt=ht.stateNode,At=ht.memoizedProps;wt.props=At;var St=wt.context,kt=bt.contextType;typeof kt=="object"&&kt!==null?kt=eh(kt):(kt=Zf(bt)?Xf:H$3.current,kt=Yf(ht,kt));var Rt=bt.getDerivedStateFromProps,Pt=typeof Rt=="function"||typeof wt.getSnapshotBeforeUpdate=="function";Pt||typeof wt.UNSAFE_componentWillReceiveProps!="function"&&typeof wt.componentWillReceiveProps!="function"||(At!==_t||St!==kt)&&Hi(ht,wt,_t,kt),jh=!1;var Mt=ht.memoizedState;wt.state=Mt,qh(ht,_t,wt,xt),St=ht.memoizedState,At!==_t||Mt!==St||Wf.current||jh?(typeof Rt=="function"&&(Di(ht,bt,Rt,_t),St=ht.memoizedState),(At=jh||Fi(ht,bt,At,_t,Mt,St,kt))?(Pt||typeof wt.UNSAFE_componentWillMount!="function"&&typeof wt.componentWillMount!="function"||(typeof wt.componentWillMount=="function"&&wt.componentWillMount(),typeof wt.UNSAFE_componentWillMount=="function"&&wt.UNSAFE_componentWillMount()),typeof wt.componentDidMount=="function"&&(ht.flags|=4194308)):(typeof wt.componentDidMount=="function"&&(ht.flags|=4194308),ht.memoizedProps=_t,ht.memoizedState=St),wt.props=_t,wt.state=St,wt.context=kt,_t=At):(typeof wt.componentDidMount=="function"&&(ht.flags|=4194308),_t=!1)}else{wt=ht.stateNode,lh(vt,ht),At=ht.memoizedProps,kt=ht.type===ht.elementType?At:Ci(ht.type,At),wt.props=kt,Pt=ht.pendingProps,Mt=wt.context,St=bt.contextType,typeof St=="object"&&St!==null?St=eh(St):(St=Zf(bt)?Xf:H$3.current,St=Yf(ht,St));var Ft=bt.getDerivedStateFromProps;(Rt=typeof Ft=="function"||typeof wt.getSnapshotBeforeUpdate=="function")||typeof wt.UNSAFE_componentWillReceiveProps!="function"&&typeof wt.componentWillReceiveProps!="function"||(At!==Pt||Mt!==St)&&Hi(ht,wt,_t,St),jh=!1,Mt=ht.memoizedState,wt.state=Mt,qh(ht,_t,wt,xt);var Lt=ht.memoizedState;At!==Pt||Mt!==Lt||Wf.current||jh?(typeof Ft=="function"&&(Di(ht,bt,Ft,_t),Lt=ht.memoizedState),(kt=jh||Fi(ht,bt,kt,_t,Mt,Lt,St)||!1)?(Rt||typeof wt.UNSAFE_componentWillUpdate!="function"&&typeof wt.componentWillUpdate!="function"||(typeof wt.componentWillUpdate=="function"&&wt.componentWillUpdate(_t,Lt,St),typeof wt.UNSAFE_componentWillUpdate=="function"&&wt.UNSAFE_componentWillUpdate(_t,Lt,St)),typeof wt.componentDidUpdate=="function"&&(ht.flags|=4),typeof wt.getSnapshotBeforeUpdate=="function"&&(ht.flags|=1024)):(typeof wt.componentDidUpdate!="function"||At===vt.memoizedProps&&Mt===vt.memoizedState||(ht.flags|=4),typeof wt.getSnapshotBeforeUpdate!="function"||At===vt.memoizedProps&&Mt===vt.memoizedState||(ht.flags|=1024),ht.memoizedProps=_t,ht.memoizedState=Lt),wt.props=_t,wt.state=Lt,wt.context=St,_t=kt):(typeof wt.componentDidUpdate!="function"||At===vt.memoizedProps&&Mt===vt.memoizedState||(ht.flags|=4),typeof wt.getSnapshotBeforeUpdate!="function"||At===vt.memoizedProps&&Mt===vt.memoizedState||(ht.flags|=1024),_t=!1)}return jj(vt,ht,bt,_t,Et,xt)}function jj(vt,ht,bt,_t,xt,Et){gj(vt,ht);var wt=(ht.flags&128)!==0;if(!_t&&!wt)return xt&&dg(ht,bt,!1),Zi(vt,ht,Et);_t=ht.stateNode,Wi.current=ht;var At=wt&&typeof bt.getDerivedStateFromError!="function"?null:_t.render();return ht.flags|=1,vt!==null&&wt?(ht.child=Ug(ht,vt.child,null,Et),ht.child=Ug(ht,null,At,Et)):Xi(vt,ht,At,Et),ht.memoizedState=_t.state,xt&&dg(ht,bt,!0),ht.child}function kj(vt){var ht=vt.stateNode;ht.pendingContext?ag(vt,ht.pendingContext,ht.pendingContext!==ht.context):ht.context&&ag(vt,ht.context,!1),yh(vt,ht.containerInfo)}function lj(vt,ht,bt,_t,xt){return Ig(),Jg(xt),ht.flags|=256,Xi(vt,ht,bt,_t),ht.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(vt){return{baseLanes:vt,cachePool:null,transitions:null}}function oj(vt,ht,bt){var _t=ht.pendingProps,xt=L$2.current,Et=!1,wt=(ht.flags&128)!==0,At;if((At=wt)||(At=vt!==null&&vt.memoizedState===null?!1:(xt&2)!==0),At?(Et=!0,ht.flags&=-129):(vt===null||vt.memoizedState!==null)&&(xt|=1),G$3(L$2,xt&1),vt===null)return Eg(ht),vt=ht.memoizedState,vt!==null&&(vt=vt.dehydrated,vt!==null)?(ht.mode&1?vt.data==="$!"?ht.lanes=8:ht.lanes=1073741824:ht.lanes=1,null):(wt=_t.children,vt=_t.fallback,Et?(_t=ht.mode,Et=ht.child,wt={mode:"hidden",children:wt},!(_t&1)&&Et!==null?(Et.childLanes=0,Et.pendingProps=wt):Et=pj(wt,_t,0,null),vt=Tg(vt,_t,bt,null),Et.return=ht,vt.return=ht,Et.sibling=vt,ht.child=Et,ht.child.memoizedState=nj(bt),ht.memoizedState=mj,vt):qj(ht,wt));if(xt=vt.memoizedState,xt!==null&&(At=xt.dehydrated,At!==null))return rj(vt,ht,wt,_t,At,xt,bt);if(Et){Et=_t.fallback,wt=ht.mode,xt=vt.child,At=xt.sibling;var St={mode:"hidden",children:_t.children};return!(wt&1)&&ht.child!==xt?(_t=ht.child,_t.childLanes=0,_t.pendingProps=St,ht.deletions=null):(_t=Pg(xt,St),_t.subtreeFlags=xt.subtreeFlags&14680064),At!==null?Et=Pg(At,Et):(Et=Tg(Et,wt,bt,null),Et.flags|=2),Et.return=ht,_t.return=ht,_t.sibling=Et,ht.child=_t,_t=Et,Et=ht.child,wt=vt.child.memoizedState,wt=wt===null?nj(bt):{baseLanes:wt.baseLanes|bt,cachePool:null,transitions:wt.transitions},Et.memoizedState=wt,Et.childLanes=vt.childLanes&~bt,ht.memoizedState=mj,_t}return Et=vt.child,vt=Et.sibling,_t=Pg(Et,{mode:"visible",children:_t.children}),!(ht.mode&1)&&(_t.lanes=bt),_t.return=ht,_t.sibling=null,vt!==null&&(bt=ht.deletions,bt===null?(ht.deletions=[vt],ht.flags|=16):bt.push(vt)),ht.child=_t,ht.memoizedState=null,_t}function qj(vt,ht){return ht=pj({mode:"visible",children:ht},vt.mode,0,null),ht.return=vt,vt.child=ht}function sj(vt,ht,bt,_t){return _t!==null&&Jg(_t),Ug(ht,vt.child,null,bt),vt=qj(ht,ht.pendingProps.children),vt.flags|=2,ht.memoizedState=null,vt}function rj(vt,ht,bt,_t,xt,Et,wt){if(bt)return ht.flags&256?(ht.flags&=-257,_t=Ki(Error(p$5(422))),sj(vt,ht,wt,_t)):ht.memoizedState!==null?(ht.child=vt.child,ht.flags|=128,null):(Et=_t.fallback,xt=ht.mode,_t=pj({mode:"visible",children:_t.children},xt,0,null),Et=Tg(Et,xt,wt,null),Et.flags|=2,_t.return=ht,Et.return=ht,_t.sibling=Et,ht.child=_t,ht.mode&1&&Ug(ht,vt.child,null,wt),ht.child.memoizedState=nj(wt),ht.memoizedState=mj,Et);if(!(ht.mode&1))return sj(vt,ht,wt,null);if(xt.data==="$!"){if(_t=xt.nextSibling&&xt.nextSibling.dataset,_t)var At=_t.dgst;return _t=At,Et=Error(p$5(419)),_t=Ki(Et,_t,void 0),sj(vt,ht,wt,_t)}if(At=(wt&vt.childLanes)!==0,dh||At){if(_t=Q$1,_t!==null){switch(wt&-wt){case 4:xt=2;break;case 16:xt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:xt=32;break;case 536870912:xt=268435456;break;default:xt=0}xt=xt&(_t.suspendedLanes|wt)?0:xt,xt!==0&&xt!==Et.retryLane&&(Et.retryLane=xt,ih(vt,xt),gi(_t,vt,xt,-1))}return tj(),_t=Ki(Error(p$5(421))),sj(vt,ht,wt,_t)}return xt.data==="$?"?(ht.flags|=128,ht.child=vt.child,ht=uj.bind(null,vt),xt._reactRetry=ht,null):(vt=Et.treeContext,yg=Lf(xt.nextSibling),xg=ht,I$5=!0,zg=null,vt!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=vt.id,sg=vt.overflow,qg=ht),ht=qj(ht,_t.children),ht.flags|=4096,ht)}function vj(vt,ht,bt){vt.lanes|=ht;var _t=vt.alternate;_t!==null&&(_t.lanes|=ht),bh(vt.return,ht,bt)}function wj(vt,ht,bt,_t,xt){var Et=vt.memoizedState;Et===null?vt.memoizedState={isBackwards:ht,rendering:null,renderingStartTime:0,last:_t,tail:bt,tailMode:xt}:(Et.isBackwards=ht,Et.rendering=null,Et.renderingStartTime=0,Et.last=_t,Et.tail=bt,Et.tailMode=xt)}function xj(vt,ht,bt){var _t=ht.pendingProps,xt=_t.revealOrder,Et=_t.tail;if(Xi(vt,ht,_t.children,bt),_t=L$2.current,_t&2)_t=_t&1|2,ht.flags|=128;else{if(vt!==null&&vt.flags&128)e:for(vt=ht.child;vt!==null;){if(vt.tag===13)vt.memoizedState!==null&&vj(vt,bt,ht);else if(vt.tag===19)vj(vt,bt,ht);else if(vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===ht)break e;for(;vt.sibling===null;){if(vt.return===null||vt.return===ht)break e;vt=vt.return}vt.sibling.return=vt.return,vt=vt.sibling}_t&=1}if(G$3(L$2,_t),!(ht.mode&1))ht.memoizedState=null;else switch(xt){case"forwards":for(bt=ht.child,xt=null;bt!==null;)vt=bt.alternate,vt!==null&&Ch(vt)===null&&(xt=bt),bt=bt.sibling;bt=xt,bt===null?(xt=ht.child,ht.child=null):(xt=bt.sibling,bt.sibling=null),wj(ht,!1,xt,bt,Et);break;case"backwards":for(bt=null,xt=ht.child,ht.child=null;xt!==null;){if(vt=xt.alternate,vt!==null&&Ch(vt)===null){ht.child=xt;break}vt=xt.sibling,xt.sibling=bt,bt=xt,xt=vt}wj(ht,!0,bt,null,Et);break;case"together":wj(ht,!1,null,null,void 0);break;default:ht.memoizedState=null}return ht.child}function ij(vt,ht){!(ht.mode&1)&&vt!==null&&(vt.alternate=null,ht.alternate=null,ht.flags|=2)}function Zi(vt,ht,bt){if(vt!==null&&(ht.dependencies=vt.dependencies),rh|=ht.lanes,!(bt&ht.childLanes))return null;if(vt!==null&&ht.child!==vt.child)throw Error(p$5(153));if(ht.child!==null){for(vt=ht.child,bt=Pg(vt,vt.pendingProps),ht.child=bt,bt.return=ht;vt.sibling!==null;)vt=vt.sibling,bt=bt.sibling=Pg(vt,vt.pendingProps),bt.return=ht;bt.sibling=null}return ht.child}function yj(vt,ht,bt){switch(ht.tag){case 3:kj(ht),Ig();break;case 5:Ah(ht);break;case 1:Zf(ht.type)&&cg(ht);break;case 4:yh(ht,ht.stateNode.containerInfo);break;case 10:var _t=ht.type._context,xt=ht.memoizedProps.value;G$3(Wg,_t._currentValue),_t._currentValue=xt;break;case 13:if(_t=ht.memoizedState,_t!==null)return _t.dehydrated!==null?(G$3(L$2,L$2.current&1),ht.flags|=128,null):bt&ht.child.childLanes?oj(vt,ht,bt):(G$3(L$2,L$2.current&1),vt=Zi(vt,ht,bt),vt!==null?vt.sibling:null);G$3(L$2,L$2.current&1);break;case 19:if(_t=(bt&ht.childLanes)!==0,vt.flags&128){if(_t)return xj(vt,ht,bt);ht.flags|=128}if(xt=ht.memoizedState,xt!==null&&(xt.rendering=null,xt.tail=null,xt.lastEffect=null),G$3(L$2,L$2.current),_t)break;return null;case 22:case 23:return ht.lanes=0,dj(vt,ht,bt)}return Zi(vt,ht,bt)}var zj,Aj,Bj,Cj;zj=function(vt,ht){for(var bt=ht.child;bt!==null;){if(bt.tag===5||bt.tag===6)vt.appendChild(bt.stateNode);else if(bt.tag!==4&&bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===ht)break;for(;bt.sibling===null;){if(bt.return===null||bt.return===ht)return;bt=bt.return}bt.sibling.return=bt.return,bt=bt.sibling}};Aj=function(){};Bj=function(vt,ht,bt,_t){var xt=vt.memoizedProps;if(xt!==_t){vt=ht.stateNode,xh(uh.current);var Et=null;switch(bt){case"input":xt=Ya(vt,xt),_t=Ya(vt,_t),Et=[];break;case"select":xt=A$4({},xt,{value:void 0}),_t=A$4({},_t,{value:void 0}),Et=[];break;case"textarea":xt=gb(vt,xt),_t=gb(vt,_t),Et=[];break;default:typeof xt.onClick!="function"&&typeof _t.onClick=="function"&&(vt.onclick=Bf)}ub(bt,_t);var wt;bt=null;for(kt in xt)if(!_t.hasOwnProperty(kt)&&xt.hasOwnProperty(kt)&&xt[kt]!=null)if(kt==="style"){var At=xt[kt];for(wt in At)At.hasOwnProperty(wt)&&(bt||(bt={}),bt[wt]="")}else kt!=="dangerouslySetInnerHTML"&&kt!=="children"&&kt!=="suppressContentEditableWarning"&&kt!=="suppressHydrationWarning"&&kt!=="autoFocus"&&(ea.hasOwnProperty(kt)?Et||(Et=[]):(Et=Et||[]).push(kt,null));for(kt in _t){var St=_t[kt];if(At=xt!=null?xt[kt]:void 0,_t.hasOwnProperty(kt)&&St!==At&&(St!=null||At!=null))if(kt==="style")if(At){for(wt in At)!At.hasOwnProperty(wt)||St&&St.hasOwnProperty(wt)||(bt||(bt={}),bt[wt]="");for(wt in St)St.hasOwnProperty(wt)&&At[wt]!==St[wt]&&(bt||(bt={}),bt[wt]=St[wt])}else bt||(Et||(Et=[]),Et.push(kt,bt)),bt=St;else kt==="dangerouslySetInnerHTML"?(St=St?St.__html:void 0,At=At?At.__html:void 0,St!=null&&At!==St&&(Et=Et||[]).push(kt,St)):kt==="children"?typeof St!="string"&&typeof St!="number"||(Et=Et||[]).push(kt,""+St):kt!=="suppressContentEditableWarning"&&kt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(kt)?(St!=null&&kt==="onScroll"&&D$5("scroll",vt),Et||At===St||(Et=[])):(Et=Et||[]).push(kt,St))}bt&&(Et=Et||[]).push("style",bt);var kt=Et;(ht.updateQueue=kt)&&(ht.flags|=4)}};Cj=function(vt,ht,bt,_t){bt!==_t&&(ht.flags|=4)};function Dj(vt,ht){if(!I$5)switch(vt.tailMode){case"hidden":ht=vt.tail;for(var bt=null;ht!==null;)ht.alternate!==null&&(bt=ht),ht=ht.sibling;bt===null?vt.tail=null:bt.sibling=null;break;case"collapsed":bt=vt.tail;for(var _t=null;bt!==null;)bt.alternate!==null&&(_t=bt),bt=bt.sibling;_t===null?ht||vt.tail===null?vt.tail=null:vt.tail.sibling=null:_t.sibling=null}}function S$5(vt){var ht=vt.alternate!==null&&vt.alternate.child===vt.child,bt=0,_t=0;if(ht)for(var xt=vt.child;xt!==null;)bt|=xt.lanes|xt.childLanes,_t|=xt.subtreeFlags&14680064,_t|=xt.flags&14680064,xt.return=vt,xt=xt.sibling;else for(xt=vt.child;xt!==null;)bt|=xt.lanes|xt.childLanes,_t|=xt.subtreeFlags,_t|=xt.flags,xt.return=vt,xt=xt.sibling;return vt.subtreeFlags|=_t,vt.childLanes=bt,ht}function Ej(vt,ht,bt){var _t=ht.pendingProps;switch(wg(ht),ht.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$5(ht),null;case 1:return Zf(ht.type)&&$f(),S$5(ht),null;case 3:return _t=ht.stateNode,zh(),E$2(Wf),E$2(H$3),Eh(),_t.pendingContext&&(_t.context=_t.pendingContext,_t.pendingContext=null),(vt===null||vt.child===null)&&(Gg(ht)?ht.flags|=4:vt===null||vt.memoizedState.isDehydrated&&!(ht.flags&256)||(ht.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(vt,ht),S$5(ht),null;case 5:Bh(ht);var xt=xh(wh.current);if(bt=ht.type,vt!==null&&ht.stateNode!=null)Bj(vt,ht,bt,_t,xt),vt.ref!==ht.ref&&(ht.flags|=512,ht.flags|=2097152);else{if(!_t){if(ht.stateNode===null)throw Error(p$5(166));return S$5(ht),null}if(vt=xh(uh.current),Gg(ht)){_t=ht.stateNode,bt=ht.type;var Et=ht.memoizedProps;switch(_t[Of]=ht,_t[Pf]=Et,vt=(ht.mode&1)!==0,bt){case"dialog":D$5("cancel",_t),D$5("close",_t);break;case"iframe":case"object":case"embed":D$5("load",_t);break;case"video":case"audio":for(xt=0;xt<lf.length;xt++)D$5(lf[xt],_t);break;case"source":D$5("error",_t);break;case"img":case"image":case"link":D$5("error",_t),D$5("load",_t);break;case"details":D$5("toggle",_t);break;case"input":Za(_t,Et),D$5("invalid",_t);break;case"select":_t._wrapperState={wasMultiple:!!Et.multiple},D$5("invalid",_t);break;case"textarea":hb(_t,Et),D$5("invalid",_t)}ub(bt,Et),xt=null;for(var wt in Et)if(Et.hasOwnProperty(wt)){var At=Et[wt];wt==="children"?typeof At=="string"?_t.textContent!==At&&(Et.suppressHydrationWarning!==!0&&Af(_t.textContent,At,vt),xt=["children",At]):typeof At=="number"&&_t.textContent!==""+At&&(Et.suppressHydrationWarning!==!0&&Af(_t.textContent,At,vt),xt=["children",""+At]):ea.hasOwnProperty(wt)&&At!=null&&wt==="onScroll"&&D$5("scroll",_t)}switch(bt){case"input":Va(_t),db(_t,Et,!0);break;case"textarea":Va(_t),jb(_t);break;case"select":case"option":break;default:typeof Et.onClick=="function"&&(_t.onclick=Bf)}_t=xt,ht.updateQueue=_t,_t!==null&&(ht.flags|=4)}else{wt=xt.nodeType===9?xt:xt.ownerDocument,vt==="http://www.w3.org/1999/xhtml"&&(vt=kb(bt)),vt==="http://www.w3.org/1999/xhtml"?bt==="script"?(vt=wt.createElement("div"),vt.innerHTML="<script><\/script>",vt=vt.removeChild(vt.firstChild)):typeof _t.is=="string"?vt=wt.createElement(bt,{is:_t.is}):(vt=wt.createElement(bt),bt==="select"&&(wt=vt,_t.multiple?wt.multiple=!0:_t.size&&(wt.size=_t.size))):vt=wt.createElementNS(vt,bt),vt[Of]=ht,vt[Pf]=_t,zj(vt,ht,!1,!1),ht.stateNode=vt;e:{switch(wt=vb(bt,_t),bt){case"dialog":D$5("cancel",vt),D$5("close",vt),xt=_t;break;case"iframe":case"object":case"embed":D$5("load",vt),xt=_t;break;case"video":case"audio":for(xt=0;xt<lf.length;xt++)D$5(lf[xt],vt);xt=_t;break;case"source":D$5("error",vt),xt=_t;break;case"img":case"image":case"link":D$5("error",vt),D$5("load",vt),xt=_t;break;case"details":D$5("toggle",vt),xt=_t;break;case"input":Za(vt,_t),xt=Ya(vt,_t),D$5("invalid",vt);break;case"option":xt=_t;break;case"select":vt._wrapperState={wasMultiple:!!_t.multiple},xt=A$4({},_t,{value:void 0}),D$5("invalid",vt);break;case"textarea":hb(vt,_t),xt=gb(vt,_t),D$5("invalid",vt);break;default:xt=_t}ub(bt,xt),At=xt;for(Et in At)if(At.hasOwnProperty(Et)){var St=At[Et];Et==="style"?sb(vt,St):Et==="dangerouslySetInnerHTML"?(St=St?St.__html:void 0,St!=null&&nb(vt,St)):Et==="children"?typeof St=="string"?(bt!=="textarea"||St!=="")&&ob(vt,St):typeof St=="number"&&ob(vt,""+St):Et!=="suppressContentEditableWarning"&&Et!=="suppressHydrationWarning"&&Et!=="autoFocus"&&(ea.hasOwnProperty(Et)?St!=null&&Et==="onScroll"&&D$5("scroll",vt):St!=null&&ta(vt,Et,St,wt))}switch(bt){case"input":Va(vt),db(vt,_t,!1);break;case"textarea":Va(vt),jb(vt);break;case"option":_t.value!=null&&vt.setAttribute("value",""+Sa(_t.value));break;case"select":vt.multiple=!!_t.multiple,Et=_t.value,Et!=null?fb(vt,!!_t.multiple,Et,!1):_t.defaultValue!=null&&fb(vt,!!_t.multiple,_t.defaultValue,!0);break;default:typeof xt.onClick=="function"&&(vt.onclick=Bf)}switch(bt){case"button":case"input":case"select":case"textarea":_t=!!_t.autoFocus;break e;case"img":_t=!0;break e;default:_t=!1}}_t&&(ht.flags|=4)}ht.ref!==null&&(ht.flags|=512,ht.flags|=2097152)}return S$5(ht),null;case 6:if(vt&&ht.stateNode!=null)Cj(vt,ht,vt.memoizedProps,_t);else{if(typeof _t!="string"&&ht.stateNode===null)throw Error(p$5(166));if(bt=xh(wh.current),xh(uh.current),Gg(ht)){if(_t=ht.stateNode,bt=ht.memoizedProps,_t[Of]=ht,(Et=_t.nodeValue!==bt)&&(vt=xg,vt!==null))switch(vt.tag){case 3:Af(_t.nodeValue,bt,(vt.mode&1)!==0);break;case 5:vt.memoizedProps.suppressHydrationWarning!==!0&&Af(_t.nodeValue,bt,(vt.mode&1)!==0)}Et&&(ht.flags|=4)}else _t=(bt.nodeType===9?bt:bt.ownerDocument).createTextNode(_t),_t[Of]=ht,ht.stateNode=_t}return S$5(ht),null;case 13:if(E$2(L$2),_t=ht.memoizedState,vt===null||vt.memoizedState!==null&&vt.memoizedState.dehydrated!==null){if(I$5&&yg!==null&&ht.mode&1&&!(ht.flags&128))Hg(),Ig(),ht.flags|=98560,Et=!1;else if(Et=Gg(ht),_t!==null&&_t.dehydrated!==null){if(vt===null){if(!Et)throw Error(p$5(318));if(Et=ht.memoizedState,Et=Et!==null?Et.dehydrated:null,!Et)throw Error(p$5(317));Et[Of]=ht}else Ig(),!(ht.flags&128)&&(ht.memoizedState=null),ht.flags|=4;S$5(ht),Et=!1}else zg!==null&&(Fj(zg),zg=null),Et=!0;if(!Et)return ht.flags&65536?ht:null}return ht.flags&128?(ht.lanes=bt,ht):(_t=_t!==null,_t!==(vt!==null&&vt.memoizedState!==null)&&_t&&(ht.child.flags|=8192,ht.mode&1&&(vt===null||L$2.current&1?T$4===0&&(T$4=3):tj())),ht.updateQueue!==null&&(ht.flags|=4),S$5(ht),null);case 4:return zh(),Aj(vt,ht),vt===null&&sf(ht.stateNode.containerInfo),S$5(ht),null;case 10:return ah(ht.type._context),S$5(ht),null;case 17:return Zf(ht.type)&&$f(),S$5(ht),null;case 19:if(E$2(L$2),Et=ht.memoizedState,Et===null)return S$5(ht),null;if(_t=(ht.flags&128)!==0,wt=Et.rendering,wt===null)if(_t)Dj(Et,!1);else{if(T$4!==0||vt!==null&&vt.flags&128)for(vt=ht.child;vt!==null;){if(wt=Ch(vt),wt!==null){for(ht.flags|=128,Dj(Et,!1),_t=wt.updateQueue,_t!==null&&(ht.updateQueue=_t,ht.flags|=4),ht.subtreeFlags=0,_t=bt,bt=ht.child;bt!==null;)Et=bt,vt=_t,Et.flags&=14680066,wt=Et.alternate,wt===null?(Et.childLanes=0,Et.lanes=vt,Et.child=null,Et.subtreeFlags=0,Et.memoizedProps=null,Et.memoizedState=null,Et.updateQueue=null,Et.dependencies=null,Et.stateNode=null):(Et.childLanes=wt.childLanes,Et.lanes=wt.lanes,Et.child=wt.child,Et.subtreeFlags=0,Et.deletions=null,Et.memoizedProps=wt.memoizedProps,Et.memoizedState=wt.memoizedState,Et.updateQueue=wt.updateQueue,Et.type=wt.type,vt=wt.dependencies,Et.dependencies=vt===null?null:{lanes:vt.lanes,firstContext:vt.firstContext}),bt=bt.sibling;return G$3(L$2,L$2.current&1|2),ht.child}vt=vt.sibling}Et.tail!==null&&B$2()>Gj&&(ht.flags|=128,_t=!0,Dj(Et,!1),ht.lanes=4194304)}else{if(!_t)if(vt=Ch(wt),vt!==null){if(ht.flags|=128,_t=!0,bt=vt.updateQueue,bt!==null&&(ht.updateQueue=bt,ht.flags|=4),Dj(Et,!0),Et.tail===null&&Et.tailMode==="hidden"&&!wt.alternate&&!I$5)return S$5(ht),null}else 2*B$2()-Et.renderingStartTime>Gj&&bt!==1073741824&&(ht.flags|=128,_t=!0,Dj(Et,!1),ht.lanes=4194304);Et.isBackwards?(wt.sibling=ht.child,ht.child=wt):(bt=Et.last,bt!==null?bt.sibling=wt:ht.child=wt,Et.last=wt)}return Et.tail!==null?(ht=Et.tail,Et.rendering=ht,Et.tail=ht.sibling,Et.renderingStartTime=B$2(),ht.sibling=null,bt=L$2.current,G$3(L$2,_t?bt&1|2:bt&1),ht):(S$5(ht),null);case 22:case 23:return Hj(),_t=ht.memoizedState!==null,vt!==null&&vt.memoizedState!==null!==_t&&(ht.flags|=8192),_t&&ht.mode&1?fj&1073741824&&(S$5(ht),ht.subtreeFlags&6&&(ht.flags|=8192)):S$5(ht),null;case 24:return null;case 25:return null}throw Error(p$5(156,ht.tag))}function Ij(vt,ht){switch(wg(ht),ht.tag){case 1:return Zf(ht.type)&&$f(),vt=ht.flags,vt&65536?(ht.flags=vt&-65537|128,ht):null;case 3:return zh(),E$2(Wf),E$2(H$3),Eh(),vt=ht.flags,vt&65536&&!(vt&128)?(ht.flags=vt&-65537|128,ht):null;case 5:return Bh(ht),null;case 13:if(E$2(L$2),vt=ht.memoizedState,vt!==null&&vt.dehydrated!==null){if(ht.alternate===null)throw Error(p$5(340));Ig()}return vt=ht.flags,vt&65536?(ht.flags=vt&-65537|128,ht):null;case 19:return E$2(L$2),null;case 4:return zh(),null;case 10:return ah(ht.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$3=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Lj(vt,ht){var bt=vt.ref;if(bt!==null)if(typeof bt=="function")try{bt(null)}catch(_t){W$3(vt,ht,_t)}else bt.current=null}function Mj(vt,ht,bt){try{bt()}catch(_t){W$3(vt,ht,_t)}}var Nj=!1;function Oj(vt,ht){if(Cf=dd,vt=Me$1(),Ne$1(vt)){if("selectionStart"in vt)var bt={start:vt.selectionStart,end:vt.selectionEnd};else e:{bt=(bt=vt.ownerDocument)&&bt.defaultView||window;var _t=bt.getSelection&&bt.getSelection();if(_t&&_t.rangeCount!==0){bt=_t.anchorNode;var xt=_t.anchorOffset,Et=_t.focusNode;_t=_t.focusOffset;try{bt.nodeType,Et.nodeType}catch{bt=null;break e}var wt=0,At=-1,St=-1,kt=0,Rt=0,Pt=vt,Mt=null;t:for(;;){for(var Ft;Pt!==bt||xt!==0&&Pt.nodeType!==3||(At=wt+xt),Pt!==Et||_t!==0&&Pt.nodeType!==3||(St=wt+_t),Pt.nodeType===3&&(wt+=Pt.nodeValue.length),(Ft=Pt.firstChild)!==null;)Mt=Pt,Pt=Ft;for(;;){if(Pt===vt)break t;if(Mt===bt&&++kt===xt&&(At=wt),Mt===Et&&++Rt===_t&&(St=wt),(Ft=Pt.nextSibling)!==null)break;Pt=Mt,Mt=Pt.parentNode}Pt=Ft}bt=At===-1||St===-1?null:{start:At,end:St}}else bt=null}bt=bt||{start:0,end:0}}else bt=null;for(Df={focusedElem:vt,selectionRange:bt},dd=!1,V$2=ht;V$2!==null;)if(ht=V$2,vt=ht.child,(ht.subtreeFlags&1028)!==0&&vt!==null)vt.return=ht,V$2=vt;else for(;V$2!==null;){ht=V$2;try{var Lt=ht.alternate;if(ht.flags&1024)switch(ht.tag){case 0:case 11:case 15:break;case 1:if(Lt!==null){var Dt=Lt.memoizedProps,Nt=Lt.memoizedState,$t=ht.stateNode,Ot=$t.getSnapshotBeforeUpdate(ht.elementType===ht.type?Dt:Ci(ht.type,Dt),Nt);$t.__reactInternalSnapshotBeforeUpdate=Ot}break;case 3:var jt=ht.stateNode.containerInfo;jt.nodeType===1?jt.textContent="":jt.nodeType===9&&jt.documentElement&&jt.removeChild(jt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(Ut){W$3(ht,ht.return,Ut)}if(vt=ht.sibling,vt!==null){vt.return=ht.return,V$2=vt;break}V$2=ht.return}return Lt=Nj,Nj=!1,Lt}function Pj(vt,ht,bt){var _t=ht.updateQueue;if(_t=_t!==null?_t.lastEffect:null,_t!==null){var xt=_t=_t.next;do{if((xt.tag&vt)===vt){var Et=xt.destroy;xt.destroy=void 0,Et!==void 0&&Mj(ht,bt,Et)}xt=xt.next}while(xt!==_t)}}function Qj(vt,ht){if(ht=ht.updateQueue,ht=ht!==null?ht.lastEffect:null,ht!==null){var bt=ht=ht.next;do{if((bt.tag&vt)===vt){var _t=bt.create;bt.destroy=_t()}bt=bt.next}while(bt!==ht)}}function Rj(vt){var ht=vt.ref;if(ht!==null){var bt=vt.stateNode;switch(vt.tag){case 5:vt=bt;break;default:vt=bt}typeof ht=="function"?ht(vt):ht.current=vt}}function Sj(vt){var ht=vt.alternate;ht!==null&&(vt.alternate=null,Sj(ht)),vt.child=null,vt.deletions=null,vt.sibling=null,vt.tag===5&&(ht=vt.stateNode,ht!==null&&(delete ht[Of],delete ht[Pf],delete ht[of],delete ht[Qf],delete ht[Rf])),vt.stateNode=null,vt.return=null,vt.dependencies=null,vt.memoizedProps=null,vt.memoizedState=null,vt.pendingProps=null,vt.stateNode=null,vt.updateQueue=null}function Tj(vt){return vt.tag===5||vt.tag===3||vt.tag===4}function Uj(vt){e:for(;;){for(;vt.sibling===null;){if(vt.return===null||Tj(vt.return))return null;vt=vt.return}for(vt.sibling.return=vt.return,vt=vt.sibling;vt.tag!==5&&vt.tag!==6&&vt.tag!==18;){if(vt.flags&2||vt.child===null||vt.tag===4)continue e;vt.child.return=vt,vt=vt.child}if(!(vt.flags&2))return vt.stateNode}}function Vj(vt,ht,bt){var _t=vt.tag;if(_t===5||_t===6)vt=vt.stateNode,ht?bt.nodeType===8?bt.parentNode.insertBefore(vt,ht):bt.insertBefore(vt,ht):(bt.nodeType===8?(ht=bt.parentNode,ht.insertBefore(vt,bt)):(ht=bt,ht.appendChild(vt)),bt=bt._reactRootContainer,bt!=null||ht.onclick!==null||(ht.onclick=Bf));else if(_t!==4&&(vt=vt.child,vt!==null))for(Vj(vt,ht,bt),vt=vt.sibling;vt!==null;)Vj(vt,ht,bt),vt=vt.sibling}function Wj(vt,ht,bt){var _t=vt.tag;if(_t===5||_t===6)vt=vt.stateNode,ht?bt.insertBefore(vt,ht):bt.appendChild(vt);else if(_t!==4&&(vt=vt.child,vt!==null))for(Wj(vt,ht,bt),vt=vt.sibling;vt!==null;)Wj(vt,ht,bt),vt=vt.sibling}var X$1=null,Xj=!1;function Yj(vt,ht,bt){for(bt=bt.child;bt!==null;)Zj(vt,ht,bt),bt=bt.sibling}function Zj(vt,ht,bt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,bt)}catch{}switch(bt.tag){case 5:U$3||Lj(bt,ht);case 6:var _t=X$1,xt=Xj;X$1=null,Yj(vt,ht,bt),X$1=_t,Xj=xt,X$1!==null&&(Xj?(vt=X$1,bt=bt.stateNode,vt.nodeType===8?vt.parentNode.removeChild(bt):vt.removeChild(bt)):X$1.removeChild(bt.stateNode));break;case 18:X$1!==null&&(Xj?(vt=X$1,bt=bt.stateNode,vt.nodeType===8?Kf(vt.parentNode,bt):vt.nodeType===1&&Kf(vt,bt),bd(vt)):Kf(X$1,bt.stateNode));break;case 4:_t=X$1,xt=Xj,X$1=bt.stateNode.containerInfo,Xj=!0,Yj(vt,ht,bt),X$1=_t,Xj=xt;break;case 0:case 11:case 14:case 15:if(!U$3&&(_t=bt.updateQueue,_t!==null&&(_t=_t.lastEffect,_t!==null))){xt=_t=_t.next;do{var Et=xt,wt=Et.destroy;Et=Et.tag,wt!==void 0&&(Et&2||Et&4)&&Mj(bt,ht,wt),xt=xt.next}while(xt!==_t)}Yj(vt,ht,bt);break;case 1:if(!U$3&&(Lj(bt,ht),_t=bt.stateNode,typeof _t.componentWillUnmount=="function"))try{_t.props=bt.memoizedProps,_t.state=bt.memoizedState,_t.componentWillUnmount()}catch(At){W$3(bt,ht,At)}Yj(vt,ht,bt);break;case 21:Yj(vt,ht,bt);break;case 22:bt.mode&1?(U$3=(_t=U$3)||bt.memoizedState!==null,Yj(vt,ht,bt),U$3=_t):Yj(vt,ht,bt);break;default:Yj(vt,ht,bt)}}function ak(vt){var ht=vt.updateQueue;if(ht!==null){vt.updateQueue=null;var bt=vt.stateNode;bt===null&&(bt=vt.stateNode=new Kj),ht.forEach(function(_t){var xt=bk.bind(null,vt,_t);bt.has(_t)||(bt.add(_t),_t.then(xt,xt))})}}function ck(vt,ht){var bt=ht.deletions;if(bt!==null)for(var _t=0;_t<bt.length;_t++){var xt=bt[_t];try{var Et=vt,wt=ht,At=wt;e:for(;At!==null;){switch(At.tag){case 5:X$1=At.stateNode,Xj=!1;break e;case 3:X$1=At.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=At.stateNode.containerInfo,Xj=!0;break e}At=At.return}if(X$1===null)throw Error(p$5(160));Zj(Et,wt,xt),X$1=null,Xj=!1;var St=xt.alternate;St!==null&&(St.return=null),xt.return=null}catch(kt){W$3(xt,ht,kt)}}if(ht.subtreeFlags&12854)for(ht=ht.child;ht!==null;)dk(ht,vt),ht=ht.sibling}function dk(vt,ht){var bt=vt.alternate,_t=vt.flags;switch(vt.tag){case 0:case 11:case 14:case 15:if(ck(ht,vt),ek(vt),_t&4){try{Pj(3,vt,vt.return),Qj(3,vt)}catch(Dt){W$3(vt,vt.return,Dt)}try{Pj(5,vt,vt.return)}catch(Dt){W$3(vt,vt.return,Dt)}}break;case 1:ck(ht,vt),ek(vt),_t&512&&bt!==null&&Lj(bt,bt.return);break;case 5:if(ck(ht,vt),ek(vt),_t&512&&bt!==null&&Lj(bt,bt.return),vt.flags&32){var xt=vt.stateNode;try{ob(xt,"")}catch(Dt){W$3(vt,vt.return,Dt)}}if(_t&4&&(xt=vt.stateNode,xt!=null)){var Et=vt.memoizedProps,wt=bt!==null?bt.memoizedProps:Et,At=vt.type,St=vt.updateQueue;if(vt.updateQueue=null,St!==null)try{At==="input"&&Et.type==="radio"&&Et.name!=null&&ab(xt,Et),vb(At,wt);var kt=vb(At,Et);for(wt=0;wt<St.length;wt+=2){var Rt=St[wt],Pt=St[wt+1];Rt==="style"?sb(xt,Pt):Rt==="dangerouslySetInnerHTML"?nb(xt,Pt):Rt==="children"?ob(xt,Pt):ta(xt,Rt,Pt,kt)}switch(At){case"input":bb(xt,Et);break;case"textarea":ib(xt,Et);break;case"select":var Mt=xt._wrapperState.wasMultiple;xt._wrapperState.wasMultiple=!!Et.multiple;var Ft=Et.value;Ft!=null?fb(xt,!!Et.multiple,Ft,!1):Mt!==!!Et.multiple&&(Et.defaultValue!=null?fb(xt,!!Et.multiple,Et.defaultValue,!0):fb(xt,!!Et.multiple,Et.multiple?[]:"",!1))}xt[Pf]=Et}catch(Dt){W$3(vt,vt.return,Dt)}}break;case 6:if(ck(ht,vt),ek(vt),_t&4){if(vt.stateNode===null)throw Error(p$5(162));xt=vt.stateNode,Et=vt.memoizedProps;try{xt.nodeValue=Et}catch(Dt){W$3(vt,vt.return,Dt)}}break;case 3:if(ck(ht,vt),ek(vt),_t&4&&bt!==null&&bt.memoizedState.isDehydrated)try{bd(ht.containerInfo)}catch(Dt){W$3(vt,vt.return,Dt)}break;case 4:ck(ht,vt),ek(vt);break;case 13:ck(ht,vt),ek(vt),xt=vt.child,xt.flags&8192&&(Et=xt.memoizedState!==null,xt.stateNode.isHidden=Et,!Et||xt.alternate!==null&&xt.alternate.memoizedState!==null||(fk=B$2())),_t&4&&ak(vt);break;case 22:if(Rt=bt!==null&&bt.memoizedState!==null,vt.mode&1?(U$3=(kt=U$3)||Rt,ck(ht,vt),U$3=kt):ck(ht,vt),ek(vt),_t&8192){if(kt=vt.memoizedState!==null,(vt.stateNode.isHidden=kt)&&!Rt&&vt.mode&1)for(V$2=vt,Rt=vt.child;Rt!==null;){for(Pt=V$2=Rt;V$2!==null;){switch(Mt=V$2,Ft=Mt.child,Mt.tag){case 0:case 11:case 14:case 15:Pj(4,Mt,Mt.return);break;case 1:Lj(Mt,Mt.return);var Lt=Mt.stateNode;if(typeof Lt.componentWillUnmount=="function"){_t=Mt,bt=Mt.return;try{ht=_t,Lt.props=ht.memoizedProps,Lt.state=ht.memoizedState,Lt.componentWillUnmount()}catch(Dt){W$3(_t,bt,Dt)}}break;case 5:Lj(Mt,Mt.return);break;case 22:if(Mt.memoizedState!==null){gk(Pt);continue}}Ft!==null?(Ft.return=Mt,V$2=Ft):gk(Pt)}Rt=Rt.sibling}e:for(Rt=null,Pt=vt;;){if(Pt.tag===5){if(Rt===null){Rt=Pt;try{xt=Pt.stateNode,kt?(Et=xt.style,typeof Et.setProperty=="function"?Et.setProperty("display","none","important"):Et.display="none"):(At=Pt.stateNode,St=Pt.memoizedProps.style,wt=St!=null&&St.hasOwnProperty("display")?St.display:null,At.style.display=rb("display",wt))}catch(Dt){W$3(vt,vt.return,Dt)}}}else if(Pt.tag===6){if(Rt===null)try{Pt.stateNode.nodeValue=kt?"":Pt.memoizedProps}catch(Dt){W$3(vt,vt.return,Dt)}}else if((Pt.tag!==22&&Pt.tag!==23||Pt.memoizedState===null||Pt===vt)&&Pt.child!==null){Pt.child.return=Pt,Pt=Pt.child;continue}if(Pt===vt)break e;for(;Pt.sibling===null;){if(Pt.return===null||Pt.return===vt)break e;Rt===Pt&&(Rt=null),Pt=Pt.return}Rt===Pt&&(Rt=null),Pt.sibling.return=Pt.return,Pt=Pt.sibling}}break;case 19:ck(ht,vt),ek(vt),_t&4&&ak(vt);break;case 21:break;default:ck(ht,vt),ek(vt)}}function ek(vt){var ht=vt.flags;if(ht&2){try{e:{for(var bt=vt.return;bt!==null;){if(Tj(bt)){var _t=bt;break e}bt=bt.return}throw Error(p$5(160))}switch(_t.tag){case 5:var xt=_t.stateNode;_t.flags&32&&(ob(xt,""),_t.flags&=-33);var Et=Uj(vt);Wj(vt,Et,xt);break;case 3:case 4:var wt=_t.stateNode.containerInfo,At=Uj(vt);Vj(vt,At,wt);break;default:throw Error(p$5(161))}}catch(St){W$3(vt,vt.return,St)}vt.flags&=-3}ht&4096&&(vt.flags&=-4097)}function hk(vt,ht,bt){V$2=vt,ik(vt)}function ik(vt,ht,bt){for(var _t=(vt.mode&1)!==0;V$2!==null;){var xt=V$2,Et=xt.child;if(xt.tag===22&&_t){var wt=xt.memoizedState!==null||Jj;if(!wt){var At=xt.alternate,St=At!==null&&At.memoizedState!==null||U$3;At=Jj;var kt=U$3;if(Jj=wt,(U$3=St)&&!kt)for(V$2=xt;V$2!==null;)wt=V$2,St=wt.child,wt.tag===22&&wt.memoizedState!==null?jk(xt):St!==null?(St.return=wt,V$2=St):jk(xt);for(;Et!==null;)V$2=Et,ik(Et),Et=Et.sibling;V$2=xt,Jj=At,U$3=kt}kk(vt)}else xt.subtreeFlags&8772&&Et!==null?(Et.return=xt,V$2=Et):kk(vt)}}function kk(vt){for(;V$2!==null;){var ht=V$2;if(ht.flags&8772){var bt=ht.alternate;try{if(ht.flags&8772)switch(ht.tag){case 0:case 11:case 15:U$3||Qj(5,ht);break;case 1:var _t=ht.stateNode;if(ht.flags&4&&!U$3)if(bt===null)_t.componentDidMount();else{var xt=ht.elementType===ht.type?bt.memoizedProps:Ci(ht.type,bt.memoizedProps);_t.componentDidUpdate(xt,bt.memoizedState,_t.__reactInternalSnapshotBeforeUpdate)}var Et=ht.updateQueue;Et!==null&&sh(ht,Et,_t);break;case 3:var wt=ht.updateQueue;if(wt!==null){if(bt=null,ht.child!==null)switch(ht.child.tag){case 5:bt=ht.child.stateNode;break;case 1:bt=ht.child.stateNode}sh(ht,wt,bt)}break;case 5:var At=ht.stateNode;if(bt===null&&ht.flags&4){bt=At;var St=ht.memoizedProps;switch(ht.type){case"button":case"input":case"select":case"textarea":St.autoFocus&&bt.focus();break;case"img":St.src&&(bt.src=St.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(ht.memoizedState===null){var kt=ht.alternate;if(kt!==null){var Rt=kt.memoizedState;if(Rt!==null){var Pt=Rt.dehydrated;Pt!==null&&bd(Pt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U$3||ht.flags&512&&Rj(ht)}catch(Mt){W$3(ht,ht.return,Mt)}}if(ht===vt){V$2=null;break}if(bt=ht.sibling,bt!==null){bt.return=ht.return,V$2=bt;break}V$2=ht.return}}function gk(vt){for(;V$2!==null;){var ht=V$2;if(ht===vt){V$2=null;break}var bt=ht.sibling;if(bt!==null){bt.return=ht.return,V$2=bt;break}V$2=ht.return}}function jk(vt){for(;V$2!==null;){var ht=V$2;try{switch(ht.tag){case 0:case 11:case 15:var bt=ht.return;try{Qj(4,ht)}catch(St){W$3(ht,bt,St)}break;case 1:var _t=ht.stateNode;if(typeof _t.componentDidMount=="function"){var xt=ht.return;try{_t.componentDidMount()}catch(St){W$3(ht,xt,St)}}var Et=ht.return;try{Rj(ht)}catch(St){W$3(ht,Et,St)}break;case 5:var wt=ht.return;try{Rj(ht)}catch(St){W$3(ht,wt,St)}}}catch(St){W$3(ht,ht.return,St)}if(ht===vt){V$2=null;break}var At=ht.sibling;if(At!==null){At.return=ht.return,V$2=At;break}V$2=ht.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$4=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$1&6?B$2():Ak!==-1?Ak:Ak=B$2()}function yi(vt){return vt.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(vt=C$2,vt!==0||(vt=window.event,vt=vt===void 0?16:jd(vt.type)),vt):1}function gi(vt,ht,bt,_t){if(50<yk)throw yk=0,zk=null,Error(p$5(185));Ac(vt,bt,_t),(!(K$1&2)||vt!==Q$1)&&(vt===Q$1&&(!(K$1&2)&&(qk|=bt),T$4===4&&Ck(vt,Z$1)),Dk(vt,_t),bt===1&&K$1===0&&!(ht.mode&1)&&(Gj=B$2()+500,fg&&jg()))}function Dk(vt,ht){var bt=vt.callbackNode;wc(vt,ht);var _t=uc(vt,vt===Q$1?Z$1:0);if(_t===0)bt!==null&&bc(bt),vt.callbackNode=null,vt.callbackPriority=0;else if(ht=_t&-_t,vt.callbackPriority!==ht){if(bt!=null&&bc(bt),ht===1)vt.tag===0?ig(Ek.bind(null,vt)):hg(Ek.bind(null,vt)),Jf(function(){!(K$1&6)&&jg()}),bt=null;else{switch(Dc(_t)){case 1:bt=fc;break;case 4:bt=gc;break;case 16:bt=hc;break;case 536870912:bt=jc;break;default:bt=hc}bt=Fk(bt,Gk.bind(null,vt))}vt.callbackPriority=ht,vt.callbackNode=bt}}function Gk(vt,ht){if(Ak=-1,Bk=0,K$1&6)throw Error(p$5(327));var bt=vt.callbackNode;if(Hk()&&vt.callbackNode!==bt)return null;var _t=uc(vt,vt===Q$1?Z$1:0);if(_t===0)return null;if(_t&30||_t&vt.expiredLanes||ht)ht=Ik(vt,_t);else{ht=_t;var xt=K$1;K$1|=2;var Et=Jk();(Q$1!==vt||Z$1!==ht)&&(uk=null,Gj=B$2()+500,Kk(vt,ht));do try{Lk();break}catch(At){Mk(vt,At)}while(!0);$g(),mk.current=Et,K$1=xt,Y$1!==null?ht=0:(Q$1=null,Z$1=0,ht=T$4)}if(ht!==0){if(ht===2&&(xt=xc(vt),xt!==0&&(_t=xt,ht=Nk(vt,xt))),ht===1)throw bt=pk,Kk(vt,0),Ck(vt,_t),Dk(vt,B$2()),bt;if(ht===6)Ck(vt,_t);else{if(xt=vt.current.alternate,!(_t&30)&&!Ok(xt)&&(ht=Ik(vt,_t),ht===2&&(Et=xc(vt),Et!==0&&(_t=Et,ht=Nk(vt,Et))),ht===1))throw bt=pk,Kk(vt,0),Ck(vt,_t),Dk(vt,B$2()),bt;switch(vt.finishedWork=xt,vt.finishedLanes=_t,ht){case 0:case 1:throw Error(p$5(345));case 2:Pk(vt,tk,uk);break;case 3:if(Ck(vt,_t),(_t&130023424)===_t&&(ht=fk+500-B$2(),10<ht)){if(uc(vt,0)!==0)break;if(xt=vt.suspendedLanes,(xt&_t)!==_t){R$1(),vt.pingedLanes|=vt.suspendedLanes&xt;break}vt.timeoutHandle=Ff(Pk.bind(null,vt,tk,uk),ht);break}Pk(vt,tk,uk);break;case 4:if(Ck(vt,_t),(_t&4194240)===_t)break;for(ht=vt.eventTimes,xt=-1;0<_t;){var wt=31-oc(_t);Et=1<<wt,wt=ht[wt],wt>xt&&(xt=wt),_t&=~Et}if(_t=xt,_t=B$2()-_t,_t=(120>_t?120:480>_t?480:1080>_t?1080:1920>_t?1920:3e3>_t?3e3:4320>_t?4320:1960*lk(_t/1960))-_t,10<_t){vt.timeoutHandle=Ff(Pk.bind(null,vt,tk,uk),_t);break}Pk(vt,tk,uk);break;case 5:Pk(vt,tk,uk);break;default:throw Error(p$5(329))}}}return Dk(vt,B$2()),vt.callbackNode===bt?Gk.bind(null,vt):null}function Nk(vt,ht){var bt=sk;return vt.current.memoizedState.isDehydrated&&(Kk(vt,ht).flags|=256),vt=Ik(vt,ht),vt!==2&&(ht=tk,tk=bt,ht!==null&&Fj(ht)),vt}function Fj(vt){tk===null?tk=vt:tk.push.apply(tk,vt)}function Ok(vt){for(var ht=vt;;){if(ht.flags&16384){var bt=ht.updateQueue;if(bt!==null&&(bt=bt.stores,bt!==null))for(var _t=0;_t<bt.length;_t++){var xt=bt[_t],Et=xt.getSnapshot;xt=xt.value;try{if(!He(Et(),xt))return!1}catch{return!1}}}if(bt=ht.child,ht.subtreeFlags&16384&&bt!==null)bt.return=ht,ht=bt;else{if(ht===vt)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===vt)return!0;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}}return!0}function Ck(vt,ht){for(ht&=~rk,ht&=~qk,vt.suspendedLanes|=ht,vt.pingedLanes&=~ht,vt=vt.expirationTimes;0<ht;){var bt=31-oc(ht),_t=1<<bt;vt[bt]=-1,ht&=~_t}}function Ek(vt){if(K$1&6)throw Error(p$5(327));Hk();var ht=uc(vt,0);if(!(ht&1))return Dk(vt,B$2()),null;var bt=Ik(vt,ht);if(vt.tag!==0&&bt===2){var _t=xc(vt);_t!==0&&(ht=_t,bt=Nk(vt,_t))}if(bt===1)throw bt=pk,Kk(vt,0),Ck(vt,ht),Dk(vt,B$2()),bt;if(bt===6)throw Error(p$5(345));return vt.finishedWork=vt.current.alternate,vt.finishedLanes=ht,Pk(vt,tk,uk),Dk(vt,B$2()),null}function Qk(vt,ht){var bt=K$1;K$1|=1;try{return vt(ht)}finally{K$1=bt,K$1===0&&(Gj=B$2()+500,fg&&jg())}}function Rk(vt){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var ht=K$1;K$1|=1;var bt=ok.transition,_t=C$2;try{if(ok.transition=null,C$2=1,vt)return vt()}finally{C$2=_t,ok.transition=bt,K$1=ht,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$2(ej)}function Kk(vt,ht){vt.finishedWork=null,vt.finishedLanes=0;var bt=vt.timeoutHandle;if(bt!==-1&&(vt.timeoutHandle=-1,Gf(bt)),Y$1!==null)for(bt=Y$1.return;bt!==null;){var _t=bt;switch(wg(_t),_t.tag){case 1:_t=_t.type.childContextTypes,_t!=null&&$f();break;case 3:zh(),E$2(Wf),E$2(H$3),Eh();break;case 5:Bh(_t);break;case 4:zh();break;case 13:E$2(L$2);break;case 19:E$2(L$2);break;case 10:ah(_t.type._context);break;case 22:case 23:Hj()}bt=bt.return}if(Q$1=vt,Y$1=vt=Pg(vt.current,null),Z$1=fj=ht,T$4=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(ht=0;ht<fh.length;ht++)if(bt=fh[ht],_t=bt.interleaved,_t!==null){bt.interleaved=null;var xt=_t.next,Et=bt.pending;if(Et!==null){var wt=Et.next;Et.next=xt,_t.next=wt}bt.pending=_t}fh=null}return vt}function Mk(vt,ht){do{var bt=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var _t=M$4.memoizedState;_t!==null;){var xt=_t.queue;xt!==null&&(xt.pending=null),_t=_t.next}Ih=!1}if(Hh=0,O$2=N$4=M$4=null,Jh=!1,Kh=0,nk.current=null,bt===null||bt.return===null){T$4=1,pk=ht,Y$1=null;break}e:{var Et=vt,wt=bt.return,At=bt,St=ht;if(ht=Z$1,At.flags|=32768,St!==null&&typeof St=="object"&&typeof St.then=="function"){var kt=St,Rt=At,Pt=Rt.tag;if(!(Rt.mode&1)&&(Pt===0||Pt===11||Pt===15)){var Mt=Rt.alternate;Mt?(Rt.updateQueue=Mt.updateQueue,Rt.memoizedState=Mt.memoizedState,Rt.lanes=Mt.lanes):(Rt.updateQueue=null,Rt.memoizedState=null)}var Ft=Ui(wt);if(Ft!==null){Ft.flags&=-257,Vi(Ft,wt,At,Et,ht),Ft.mode&1&&Si(Et,kt,ht),ht=Ft,St=kt;var Lt=ht.updateQueue;if(Lt===null){var Dt=new Set;Dt.add(St),ht.updateQueue=Dt}else Lt.add(St);break e}else{if(!(ht&1)){Si(Et,kt,ht),tj();break e}St=Error(p$5(426))}}else if(I$5&&At.mode&1){var Nt=Ui(wt);if(Nt!==null){!(Nt.flags&65536)&&(Nt.flags|=256),Vi(Nt,wt,At,Et,ht),Jg(Ji(St,At));break e}}Et=St=Ji(St,At),T$4!==4&&(T$4=2),sk===null?sk=[Et]:sk.push(Et),Et=wt;do{switch(Et.tag){case 3:Et.flags|=65536,ht&=-ht,Et.lanes|=ht;var $t=Ni(Et,St,ht);ph(Et,$t);break e;case 1:At=St;var Ot=Et.type,jt=Et.stateNode;if(!(Et.flags&128)&&(typeof Ot.getDerivedStateFromError=="function"||jt!==null&&typeof jt.componentDidCatch=="function"&&(Ri===null||!Ri.has(jt)))){Et.flags|=65536,ht&=-ht,Et.lanes|=ht;var Ut=Qi(Et,At,ht);ph(Et,Ut);break e}}Et=Et.return}while(Et!==null)}Sk(bt)}catch(Bt){ht=Bt,Y$1===bt&&bt!==null&&(Y$1=bt=bt.return);continue}break}while(!0)}function Jk(){var vt=mk.current;return mk.current=Rh,vt===null?Rh:vt}function tj(){(T$4===0||T$4===3||T$4===2)&&(T$4=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(vt,ht){var bt=K$1;K$1|=2;var _t=Jk();(Q$1!==vt||Z$1!==ht)&&(uk=null,Kk(vt,ht));do try{Tk();break}catch(xt){Mk(vt,xt)}while(!0);if($g(),K$1=bt,mk.current=_t,Y$1!==null)throw Error(p$5(261));return Q$1=null,Z$1=0,T$4}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(vt){var ht=Vk(vt.alternate,vt,fj);vt.memoizedProps=vt.pendingProps,ht===null?Sk(vt):Y$1=ht,nk.current=null}function Sk(vt){var ht=vt;do{var bt=ht.alternate;if(vt=ht.return,ht.flags&32768){if(bt=Ij(bt,ht),bt!==null){bt.flags&=32767,Y$1=bt;return}if(vt!==null)vt.flags|=32768,vt.subtreeFlags=0,vt.deletions=null;else{T$4=6,Y$1=null;return}}else if(bt=Ej(bt,ht,fj),bt!==null){Y$1=bt;return}if(ht=ht.sibling,ht!==null){Y$1=ht;return}Y$1=ht=vt}while(ht!==null);T$4===0&&(T$4=5)}function Pk(vt,ht,bt){var _t=C$2,xt=ok.transition;try{ok.transition=null,C$2=1,Wk(vt,ht,bt,_t)}finally{ok.transition=xt,C$2=_t}return null}function Wk(vt,ht,bt,_t){do Hk();while(wk!==null);if(K$1&6)throw Error(p$5(327));bt=vt.finishedWork;var xt=vt.finishedLanes;if(bt===null)return null;if(vt.finishedWork=null,vt.finishedLanes=0,bt===vt.current)throw Error(p$5(177));vt.callbackNode=null,vt.callbackPriority=0;var Et=bt.lanes|bt.childLanes;if(Bc(vt,Et),vt===Q$1&&(Y$1=Q$1=null,Z$1=0),!(bt.subtreeFlags&2064)&&!(bt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),Et=(bt.flags&15990)!==0,bt.subtreeFlags&15990||Et){Et=ok.transition,ok.transition=null;var wt=C$2;C$2=1;var At=K$1;K$1|=4,nk.current=null,Oj(vt,bt),dk(bt,vt),Oe$1(Df),dd=!!Cf,Df=Cf=null,vt.current=bt,hk(bt),dc(),K$1=At,C$2=wt,ok.transition=Et}else vt.current=bt;if(vk&&(vk=!1,wk=vt,xk=xt),Et=vt.pendingLanes,Et===0&&(Ri=null),mc(bt.stateNode),Dk(vt,B$2()),ht!==null)for(_t=vt.onRecoverableError,bt=0;bt<ht.length;bt++)xt=ht[bt],_t(xt.value,{componentStack:xt.stack,digest:xt.digest});if(Oi)throw Oi=!1,vt=Pi,Pi=null,vt;return xk&1&&vt.tag!==0&&Hk(),Et=vt.pendingLanes,Et&1?vt===zk?yk++:(yk=0,zk=vt):yk=0,jg(),null}function Hk(){if(wk!==null){var vt=Dc(xk),ht=ok.transition,bt=C$2;try{if(ok.transition=null,C$2=16>vt?16:vt,wk===null)var _t=!1;else{if(vt=wk,wk=null,xk=0,K$1&6)throw Error(p$5(331));var xt=K$1;for(K$1|=4,V$2=vt.current;V$2!==null;){var Et=V$2,wt=Et.child;if(V$2.flags&16){var At=Et.deletions;if(At!==null){for(var St=0;St<At.length;St++){var kt=At[St];for(V$2=kt;V$2!==null;){var Rt=V$2;switch(Rt.tag){case 0:case 11:case 15:Pj(8,Rt,Et)}var Pt=Rt.child;if(Pt!==null)Pt.return=Rt,V$2=Pt;else for(;V$2!==null;){Rt=V$2;var Mt=Rt.sibling,Ft=Rt.return;if(Sj(Rt),Rt===kt){V$2=null;break}if(Mt!==null){Mt.return=Ft,V$2=Mt;break}V$2=Ft}}}var Lt=Et.alternate;if(Lt!==null){var Dt=Lt.child;if(Dt!==null){Lt.child=null;do{var Nt=Dt.sibling;Dt.sibling=null,Dt=Nt}while(Dt!==null)}}V$2=Et}}if(Et.subtreeFlags&2064&&wt!==null)wt.return=Et,V$2=wt;else e:for(;V$2!==null;){if(Et=V$2,Et.flags&2048)switch(Et.tag){case 0:case 11:case 15:Pj(9,Et,Et.return)}var $t=Et.sibling;if($t!==null){$t.return=Et.return,V$2=$t;break e}V$2=Et.return}}var Ot=vt.current;for(V$2=Ot;V$2!==null;){wt=V$2;var jt=wt.child;if(wt.subtreeFlags&2064&&jt!==null)jt.return=wt,V$2=jt;else e:for(wt=Ot;V$2!==null;){if(At=V$2,At.flags&2048)try{switch(At.tag){case 0:case 11:case 15:Qj(9,At)}}catch(Bt){W$3(At,At.return,Bt)}if(At===wt){V$2=null;break e}var Ut=At.sibling;if(Ut!==null){Ut.return=At.return,V$2=Ut;break e}V$2=At.return}}if(K$1=xt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,vt)}catch{}_t=!0}return _t}finally{C$2=bt,ok.transition=ht}}return!1}function Xk(vt,ht,bt){ht=Ji(bt,ht),ht=Ni(vt,ht,1),vt=nh(vt,ht,1),ht=R$1(),vt!==null&&(Ac(vt,1,ht),Dk(vt,ht))}function W$3(vt,ht,bt){if(vt.tag===3)Xk(vt,vt,bt);else for(;ht!==null;){if(ht.tag===3){Xk(ht,vt,bt);break}else if(ht.tag===1){var _t=ht.stateNode;if(typeof ht.type.getDerivedStateFromError=="function"||typeof _t.componentDidCatch=="function"&&(Ri===null||!Ri.has(_t))){vt=Ji(bt,vt),vt=Qi(ht,vt,1),ht=nh(ht,vt,1),vt=R$1(),ht!==null&&(Ac(ht,1,vt),Dk(ht,vt));break}}ht=ht.return}}function Ti(vt,ht,bt){var _t=vt.pingCache;_t!==null&&_t.delete(ht),ht=R$1(),vt.pingedLanes|=vt.suspendedLanes&bt,Q$1===vt&&(Z$1&bt)===bt&&(T$4===4||T$4===3&&(Z$1&130023424)===Z$1&&500>B$2()-fk?Kk(vt,0):rk|=bt),Dk(vt,ht)}function Yk(vt,ht){ht===0&&(vt.mode&1?(ht=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):ht=1);var bt=R$1();vt=ih(vt,ht),vt!==null&&(Ac(vt,ht,bt),Dk(vt,bt))}function uj(vt){var ht=vt.memoizedState,bt=0;ht!==null&&(bt=ht.retryLane),Yk(vt,bt)}function bk(vt,ht){var bt=0;switch(vt.tag){case 13:var _t=vt.stateNode,xt=vt.memoizedState;xt!==null&&(bt=xt.retryLane);break;case 19:_t=vt.stateNode;break;default:throw Error(p$5(314))}_t!==null&&_t.delete(ht),Yk(vt,bt)}var Vk;Vk=function(vt,ht,bt){if(vt!==null)if(vt.memoizedProps!==ht.pendingProps||Wf.current)dh=!0;else{if(!(vt.lanes&bt)&&!(ht.flags&128))return dh=!1,yj(vt,ht,bt);dh=!!(vt.flags&131072)}else dh=!1,I$5&&ht.flags&1048576&&ug(ht,ng,ht.index);switch(ht.lanes=0,ht.tag){case 2:var _t=ht.type;ij(vt,ht),vt=ht.pendingProps;var xt=Yf(ht,H$3.current);ch(ht,bt),xt=Nh(null,ht,_t,vt,xt,bt);var Et=Sh();return ht.flags|=1,typeof xt=="object"&&xt!==null&&typeof xt.render=="function"&&xt.$$typeof===void 0?(ht.tag=1,ht.memoizedState=null,ht.updateQueue=null,Zf(_t)?(Et=!0,cg(ht)):Et=!1,ht.memoizedState=xt.state!==null&&xt.state!==void 0?xt.state:null,kh(ht),xt.updater=Ei,ht.stateNode=xt,xt._reactInternals=ht,Ii(ht,_t,vt,bt),ht=jj(null,ht,_t,!0,Et,bt)):(ht.tag=0,I$5&&Et&&vg(ht),Xi(null,ht,xt,bt),ht=ht.child),ht;case 16:_t=ht.elementType;e:{switch(ij(vt,ht),vt=ht.pendingProps,xt=_t._init,_t=xt(_t._payload),ht.type=_t,xt=ht.tag=Zk(_t),vt=Ci(_t,vt),xt){case 0:ht=cj(null,ht,_t,vt,bt);break e;case 1:ht=hj(null,ht,_t,vt,bt);break e;case 11:ht=Yi(null,ht,_t,vt,bt);break e;case 14:ht=$i(null,ht,_t,Ci(_t.type,vt),bt);break e}throw Error(p$5(306,_t,""))}return ht;case 0:return _t=ht.type,xt=ht.pendingProps,xt=ht.elementType===_t?xt:Ci(_t,xt),cj(vt,ht,_t,xt,bt);case 1:return _t=ht.type,xt=ht.pendingProps,xt=ht.elementType===_t?xt:Ci(_t,xt),hj(vt,ht,_t,xt,bt);case 3:e:{if(kj(ht),vt===null)throw Error(p$5(387));_t=ht.pendingProps,Et=ht.memoizedState,xt=Et.element,lh(vt,ht),qh(ht,_t,null,bt);var wt=ht.memoizedState;if(_t=wt.element,Et.isDehydrated)if(Et={element:_t,isDehydrated:!1,cache:wt.cache,pendingSuspenseBoundaries:wt.pendingSuspenseBoundaries,transitions:wt.transitions},ht.updateQueue.baseState=Et,ht.memoizedState=Et,ht.flags&256){xt=Ji(Error(p$5(423)),ht),ht=lj(vt,ht,_t,bt,xt);break e}else if(_t!==xt){xt=Ji(Error(p$5(424)),ht),ht=lj(vt,ht,_t,bt,xt);break e}else for(yg=Lf(ht.stateNode.containerInfo.firstChild),xg=ht,I$5=!0,zg=null,bt=Vg(ht,null,_t,bt),ht.child=bt;bt;)bt.flags=bt.flags&-3|4096,bt=bt.sibling;else{if(Ig(),_t===xt){ht=Zi(vt,ht,bt);break e}Xi(vt,ht,_t,bt)}ht=ht.child}return ht;case 5:return Ah(ht),vt===null&&Eg(ht),_t=ht.type,xt=ht.pendingProps,Et=vt!==null?vt.memoizedProps:null,wt=xt.children,Ef(_t,xt)?wt=null:Et!==null&&Ef(_t,Et)&&(ht.flags|=32),gj(vt,ht),Xi(vt,ht,wt,bt),ht.child;case 6:return vt===null&&Eg(ht),null;case 13:return oj(vt,ht,bt);case 4:return yh(ht,ht.stateNode.containerInfo),_t=ht.pendingProps,vt===null?ht.child=Ug(ht,null,_t,bt):Xi(vt,ht,_t,bt),ht.child;case 11:return _t=ht.type,xt=ht.pendingProps,xt=ht.elementType===_t?xt:Ci(_t,xt),Yi(vt,ht,_t,xt,bt);case 7:return Xi(vt,ht,ht.pendingProps,bt),ht.child;case 8:return Xi(vt,ht,ht.pendingProps.children,bt),ht.child;case 12:return Xi(vt,ht,ht.pendingProps.children,bt),ht.child;case 10:e:{if(_t=ht.type._context,xt=ht.pendingProps,Et=ht.memoizedProps,wt=xt.value,G$3(Wg,_t._currentValue),_t._currentValue=wt,Et!==null)if(He(Et.value,wt)){if(Et.children===xt.children&&!Wf.current){ht=Zi(vt,ht,bt);break e}}else for(Et=ht.child,Et!==null&&(Et.return=ht);Et!==null;){var At=Et.dependencies;if(At!==null){wt=Et.child;for(var St=At.firstContext;St!==null;){if(St.context===_t){if(Et.tag===1){St=mh(-1,bt&-bt),St.tag=2;var kt=Et.updateQueue;if(kt!==null){kt=kt.shared;var Rt=kt.pending;Rt===null?St.next=St:(St.next=Rt.next,Rt.next=St),kt.pending=St}}Et.lanes|=bt,St=Et.alternate,St!==null&&(St.lanes|=bt),bh(Et.return,bt,ht),At.lanes|=bt;break}St=St.next}}else if(Et.tag===10)wt=Et.type===ht.type?null:Et.child;else if(Et.tag===18){if(wt=Et.return,wt===null)throw Error(p$5(341));wt.lanes|=bt,At=wt.alternate,At!==null&&(At.lanes|=bt),bh(wt,bt,ht),wt=Et.sibling}else wt=Et.child;if(wt!==null)wt.return=Et;else for(wt=Et;wt!==null;){if(wt===ht){wt=null;break}if(Et=wt.sibling,Et!==null){Et.return=wt.return,wt=Et;break}wt=wt.return}Et=wt}Xi(vt,ht,xt.children,bt),ht=ht.child}return ht;case 9:return xt=ht.type,_t=ht.pendingProps.children,ch(ht,bt),xt=eh(xt),_t=_t(xt),ht.flags|=1,Xi(vt,ht,_t,bt),ht.child;case 14:return _t=ht.type,xt=Ci(_t,ht.pendingProps),xt=Ci(_t.type,xt),$i(vt,ht,_t,xt,bt);case 15:return bj(vt,ht,ht.type,ht.pendingProps,bt);case 17:return _t=ht.type,xt=ht.pendingProps,xt=ht.elementType===_t?xt:Ci(_t,xt),ij(vt,ht),ht.tag=1,Zf(_t)?(vt=!0,cg(ht)):vt=!1,ch(ht,bt),Gi(ht,_t,xt),Ii(ht,_t,xt,bt),jj(null,ht,_t,!0,vt,bt);case 19:return xj(vt,ht,bt);case 22:return dj(vt,ht,bt)}throw Error(p$5(156,ht.tag))};function Fk(vt,ht){return ac(vt,ht)}function $k(vt,ht,bt,_t){this.tag=vt,this.key=bt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ht,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_t,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(vt,ht,bt,_t){return new $k(vt,ht,bt,_t)}function aj(vt){return vt=vt.prototype,!(!vt||!vt.isReactComponent)}function Zk(vt){if(typeof vt=="function")return aj(vt)?1:0;if(vt!=null){if(vt=vt.$$typeof,vt===Da)return 11;if(vt===Ga)return 14}return 2}function Pg(vt,ht){var bt=vt.alternate;return bt===null?(bt=Bg(vt.tag,ht,vt.key,vt.mode),bt.elementType=vt.elementType,bt.type=vt.type,bt.stateNode=vt.stateNode,bt.alternate=vt,vt.alternate=bt):(bt.pendingProps=ht,bt.type=vt.type,bt.flags=0,bt.subtreeFlags=0,bt.deletions=null),bt.flags=vt.flags&14680064,bt.childLanes=vt.childLanes,bt.lanes=vt.lanes,bt.child=vt.child,bt.memoizedProps=vt.memoizedProps,bt.memoizedState=vt.memoizedState,bt.updateQueue=vt.updateQueue,ht=vt.dependencies,bt.dependencies=ht===null?null:{lanes:ht.lanes,firstContext:ht.firstContext},bt.sibling=vt.sibling,bt.index=vt.index,bt.ref=vt.ref,bt}function Rg(vt,ht,bt,_t,xt,Et){var wt=2;if(_t=vt,typeof vt=="function")aj(vt)&&(wt=1);else if(typeof vt=="string")wt=5;else e:switch(vt){case ya:return Tg(bt.children,xt,Et,ht);case za:wt=8,xt|=8;break;case Aa:return vt=Bg(12,bt,ht,xt|2),vt.elementType=Aa,vt.lanes=Et,vt;case Ea:return vt=Bg(13,bt,ht,xt),vt.elementType=Ea,vt.lanes=Et,vt;case Fa:return vt=Bg(19,bt,ht,xt),vt.elementType=Fa,vt.lanes=Et,vt;case Ia:return pj(bt,xt,Et,ht);default:if(typeof vt=="object"&&vt!==null)switch(vt.$$typeof){case Ba:wt=10;break e;case Ca:wt=9;break e;case Da:wt=11;break e;case Ga:wt=14;break e;case Ha:wt=16,_t=null;break e}throw Error(p$5(130,vt==null?vt:typeof vt,""))}return ht=Bg(wt,bt,ht,xt),ht.elementType=vt,ht.type=_t,ht.lanes=Et,ht}function Tg(vt,ht,bt,_t){return vt=Bg(7,vt,_t,ht),vt.lanes=bt,vt}function pj(vt,ht,bt,_t){return vt=Bg(22,vt,_t,ht),vt.elementType=Ia,vt.lanes=bt,vt.stateNode={isHidden:!1},vt}function Qg(vt,ht,bt){return vt=Bg(6,vt,null,ht),vt.lanes=bt,vt}function Sg(vt,ht,bt){return ht=Bg(4,vt.children!==null?vt.children:[],vt.key,ht),ht.lanes=bt,ht.stateNode={containerInfo:vt.containerInfo,pendingChildren:null,implementation:vt.implementation},ht}function al(vt,ht,bt,_t,xt){this.tag=ht,this.containerInfo=vt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=_t,this.onRecoverableError=xt,this.mutableSourceEagerHydrationData=null}function bl(vt,ht,bt,_t,xt,Et,wt,At,St){return vt=new al(vt,ht,bt,At,St),ht===1?(ht=1,Et===!0&&(ht|=8)):ht=0,Et=Bg(3,null,null,ht),vt.current=Et,Et.stateNode=vt,Et.memoizedState={element:_t,isDehydrated:bt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(Et),vt}function cl(vt,ht,bt){var _t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:_t==null?null:""+_t,children:vt,containerInfo:ht,implementation:bt}}function dl(vt){if(!vt)return Vf;vt=vt._reactInternals;e:{if(Vb(vt)!==vt||vt.tag!==1)throw Error(p$5(170));var ht=vt;do{switch(ht.tag){case 3:ht=ht.stateNode.context;break e;case 1:if(Zf(ht.type)){ht=ht.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ht=ht.return}while(ht!==null);throw Error(p$5(171))}if(vt.tag===1){var bt=vt.type;if(Zf(bt))return bg(vt,bt,ht)}return ht}function el(vt,ht,bt,_t,xt,Et,wt,At,St){return vt=bl(bt,_t,!0,vt,xt,Et,wt,At,St),vt.context=dl(null),bt=vt.current,_t=R$1(),xt=yi(bt),Et=mh(_t,xt),Et.callback=ht??null,nh(bt,Et,xt),vt.current.lanes=xt,Ac(vt,xt,_t),Dk(vt,_t),vt}function fl(vt,ht,bt,_t){var xt=ht.current,Et=R$1(),wt=yi(xt);return bt=dl(bt),ht.context===null?ht.context=bt:ht.pendingContext=bt,ht=mh(Et,wt),ht.payload={element:vt},_t=_t===void 0?null:_t,_t!==null&&(ht.callback=_t),vt=nh(xt,ht,wt),vt!==null&&(gi(vt,xt,wt,Et),oh(vt,xt,wt)),wt}function gl(vt){if(vt=vt.current,!vt.child)return null;switch(vt.child.tag){case 5:return vt.child.stateNode;default:return vt.child.stateNode}}function hl(vt,ht){if(vt=vt.memoizedState,vt!==null&&vt.dehydrated!==null){var bt=vt.retryLane;vt.retryLane=bt!==0&&bt<ht?bt:ht}}function il(vt,ht){hl(vt,ht),(vt=vt.alternate)&&hl(vt,ht)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(vt){console.error(vt)};function ll(vt){this._internalRoot=vt}ml.prototype.render=ll.prototype.render=function(vt){var ht=this._internalRoot;if(ht===null)throw Error(p$5(409));fl(vt,ht,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var vt=this._internalRoot;if(vt!==null){this._internalRoot=null;var ht=vt.containerInfo;Rk(function(){fl(null,vt,null,null)}),ht[uf]=null}};function ml(vt){this._internalRoot=vt}ml.prototype.unstable_scheduleHydration=function(vt){if(vt){var ht=Hc();vt={blockedOn:null,target:vt,priority:ht};for(var bt=0;bt<Qc.length&&ht!==0&&ht<Qc[bt].priority;bt++);Qc.splice(bt,0,vt),bt===0&&Vc(vt)}};function nl(vt){return!(!vt||vt.nodeType!==1&&vt.nodeType!==9&&vt.nodeType!==11)}function ol(vt){return!(!vt||vt.nodeType!==1&&vt.nodeType!==9&&vt.nodeType!==11&&(vt.nodeType!==8||vt.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(vt,ht,bt,_t,xt){if(xt){if(typeof _t=="function"){var Et=_t;_t=function(){var kt=gl(wt);Et.call(kt)}}var wt=el(ht,_t,vt,0,null,!1,!1,"",pl);return vt._reactRootContainer=wt,vt[uf]=wt.current,sf(vt.nodeType===8?vt.parentNode:vt),Rk(),wt}for(;xt=vt.lastChild;)vt.removeChild(xt);if(typeof _t=="function"){var At=_t;_t=function(){var kt=gl(St);At.call(kt)}}var St=bl(vt,0,!1,null,null,!1,!1,"",pl);return vt._reactRootContainer=St,vt[uf]=St.current,sf(vt.nodeType===8?vt.parentNode:vt),Rk(function(){fl(ht,St,bt,_t)}),St}function rl(vt,ht,bt,_t,xt){var Et=bt._reactRootContainer;if(Et){var wt=Et;if(typeof xt=="function"){var At=xt;xt=function(){var St=gl(wt);At.call(St)}}fl(ht,wt,vt,xt)}else wt=ql(bt,ht,vt,xt,_t);return gl(wt)}Ec=function(vt){switch(vt.tag){case 3:var ht=vt.stateNode;if(ht.current.memoizedState.isDehydrated){var bt=tc(ht.pendingLanes);bt!==0&&(Cc(ht,bt|1),Dk(ht,B$2()),!(K$1&6)&&(Gj=B$2()+500,jg()))}break;case 13:Rk(function(){var _t=ih(vt,1);if(_t!==null){var xt=R$1();gi(_t,vt,1,xt)}}),il(vt,1)}};Fc=function(vt){if(vt.tag===13){var ht=ih(vt,134217728);if(ht!==null){var bt=R$1();gi(ht,vt,134217728,bt)}il(vt,134217728)}};Gc=function(vt){if(vt.tag===13){var ht=yi(vt),bt=ih(vt,ht);if(bt!==null){var _t=R$1();gi(bt,vt,ht,_t)}il(vt,ht)}};Hc=function(){return C$2};Ic=function(vt,ht){var bt=C$2;try{return C$2=vt,ht()}finally{C$2=bt}};yb=function(vt,ht,bt){switch(ht){case"input":if(bb(vt,bt),ht=bt.name,bt.type==="radio"&&ht!=null){for(bt=vt;bt.parentNode;)bt=bt.parentNode;for(bt=bt.querySelectorAll("input[name="+JSON.stringify(""+ht)+'][type="radio"]'),ht=0;ht<bt.length;ht++){var _t=bt[ht];if(_t!==vt&&_t.form===vt.form){var xt=Db(_t);if(!xt)throw Error(p$5(90));Wa(_t),bb(_t,xt)}}}break;case"textarea":ib(vt,bt);break;case"select":ht=bt.value,ht!=null&&fb(vt,!!bt.multiple,ht,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(vt){return vt=Zb(vt),vt===null?null:vt.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(vt,ht){var bt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(ht))throw Error(p$5(200));return cl(vt,ht,null,bt)};reactDom_production_min.createRoot=function(vt,ht){if(!nl(vt))throw Error(p$5(299));var bt=!1,_t="",xt=kl;return ht!=null&&(ht.unstable_strictMode===!0&&(bt=!0),ht.identifierPrefix!==void 0&&(_t=ht.identifierPrefix),ht.onRecoverableError!==void 0&&(xt=ht.onRecoverableError)),ht=bl(vt,1,!1,null,null,bt,!1,_t,xt),vt[uf]=ht.current,sf(vt.nodeType===8?vt.parentNode:vt),new ll(ht)};reactDom_production_min.findDOMNode=function(vt){if(vt==null)return null;if(vt.nodeType===1)return vt;var ht=vt._reactInternals;if(ht===void 0)throw typeof vt.render=="function"?Error(p$5(188)):(vt=Object.keys(vt).join(","),Error(p$5(268,vt)));return vt=Zb(ht),vt=vt===null?null:vt.stateNode,vt};reactDom_production_min.flushSync=function(vt){return Rk(vt)};reactDom_production_min.hydrate=function(vt,ht,bt){if(!ol(ht))throw Error(p$5(200));return rl(null,vt,ht,!0,bt)};reactDom_production_min.hydrateRoot=function(vt,ht,bt){if(!nl(vt))throw Error(p$5(405));var _t=bt!=null&&bt.hydratedSources||null,xt=!1,Et="",wt=kl;if(bt!=null&&(bt.unstable_strictMode===!0&&(xt=!0),bt.identifierPrefix!==void 0&&(Et=bt.identifierPrefix),bt.onRecoverableError!==void 0&&(wt=bt.onRecoverableError)),ht=el(ht,null,vt,1,bt??null,xt,!1,Et,wt),vt[uf]=ht.current,sf(vt),_t)for(vt=0;vt<_t.length;vt++)bt=_t[vt],xt=bt._getVersion,xt=xt(bt._source),ht.mutableSourceEagerHydrationData==null?ht.mutableSourceEagerHydrationData=[bt,xt]:ht.mutableSourceEagerHydrationData.push(bt,xt);return new ml(ht)};reactDom_production_min.render=function(vt,ht,bt){if(!ol(ht))throw Error(p$5(200));return rl(null,vt,ht,!1,bt)};reactDom_production_min.unmountComponentAtNode=function(vt){if(!ol(vt))throw Error(p$5(40));return vt._reactRootContainer?(Rk(function(){rl(null,null,vt,!1,function(){vt._reactRootContainer=null,vt[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(vt,ht,bt,_t){if(!ol(bt))throw Error(p$5(200));if(vt==null||vt._reactInternals===void 0)throw Error(p$5(38));return rl(vt,ht,bt,!1,_t)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(vt){console.error(vt)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$6=reactDomExports;client.createRoot=m$6.createRoot,client.hydrateRoot=m$6.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(vt){for(var ht=1;ht<arguments.length;ht++){var bt=arguments[ht];for(var _t in bt)Object.prototype.hasOwnProperty.call(bt,_t)&&(vt[_t]=bt[_t])}return vt},_extends$2.apply(this,arguments)}var Action;(function(vt){vt.Pop="POP",vt.Push="PUSH",vt.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(vt){vt===void 0&&(vt={});function ht(_t,xt){let{pathname:Et,search:wt,hash:At}=_t.location;return createLocation("",{pathname:Et,search:wt,hash:At},xt.state&&xt.state.usr||null,xt.state&&xt.state.key||"default")}function bt(_t,xt){return typeof xt=="string"?xt:createPath(xt)}return getUrlBasedHistory(ht,bt,null,vt)}function invariant$1(vt,ht){if(vt===!1||vt===null||typeof vt>"u")throw new Error(ht)}function warning$2(vt,ht){if(!vt){typeof console<"u"&&console.warn(ht);try{throw new Error(ht)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(vt,ht){return{usr:vt.state,key:vt.key,idx:ht}}function createLocation(vt,ht,bt,_t){return bt===void 0&&(bt=null),_extends$2({pathname:typeof vt=="string"?vt:vt.pathname,search:"",hash:""},typeof ht=="string"?parsePath(ht):ht,{state:bt,key:ht&&ht.key||_t||createKey()})}function createPath(vt){let{pathname:ht="/",search:bt="",hash:_t=""}=vt;return bt&&bt!=="?"&&(ht+=bt.charAt(0)==="?"?bt:"?"+bt),_t&&_t!=="#"&&(ht+=_t.charAt(0)==="#"?_t:"#"+_t),ht}function parsePath(vt){let ht={};if(vt){let bt=vt.indexOf("#");bt>=0&&(ht.hash=vt.substr(bt),vt=vt.substr(0,bt));let _t=vt.indexOf("?");_t>=0&&(ht.search=vt.substr(_t),vt=vt.substr(0,_t)),vt&&(ht.pathname=vt)}return ht}function getUrlBasedHistory(vt,ht,bt,_t){_t===void 0&&(_t={});let{window:xt=document.defaultView,v5Compat:Et=!1}=_t,wt=xt.history,At=Action.Pop,St=null,kt=Rt();kt==null&&(kt=0,wt.replaceState(_extends$2({},wt.state,{idx:kt}),""));function Rt(){return(wt.state||{idx:null}).idx}function Pt(){At=Action.Pop;let Nt=Rt(),$t=Nt==null?null:Nt-kt;kt=Nt,St&&St({action:At,location:Dt.location,delta:$t})}function Mt(Nt,$t){At=Action.Push;let Ot=createLocation(Dt.location,Nt,$t);kt=Rt()+1;let jt=getHistoryState(Ot,kt),Ut=Dt.createHref(Ot);try{wt.pushState(jt,"",Ut)}catch(Bt){if(Bt instanceof DOMException&&Bt.name==="DataCloneError")throw Bt;xt.location.assign(Ut)}Et&&St&&St({action:At,location:Dt.location,delta:1})}function Ft(Nt,$t){At=Action.Replace;let Ot=createLocation(Dt.location,Nt,$t);kt=Rt();let jt=getHistoryState(Ot,kt),Ut=Dt.createHref(Ot);wt.replaceState(jt,"",Ut),Et&&St&&St({action:At,location:Dt.location,delta:0})}function Lt(Nt){let $t=xt.location.origin!=="null"?xt.location.origin:xt.location.href,Ot=typeof Nt=="string"?Nt:createPath(Nt);return Ot=Ot.replace(/ $/,"%20"),invariant$1($t,"No window.location.(origin|href) available to create URL for href: "+Ot),new URL(Ot,$t)}let Dt={get action(){return At},get location(){return vt(xt,wt)},listen(Nt){if(St)throw new Error("A history only accepts one active listener");return xt.addEventListener(PopStateEventType,Pt),St=Nt,()=>{xt.removeEventListener(PopStateEventType,Pt),St=null}},createHref(Nt){return ht(xt,Nt)},createURL:Lt,encodeLocation(Nt){let $t=Lt(Nt);return{pathname:$t.pathname,search:$t.search,hash:$t.hash}},push:Mt,replace:Ft,go(Nt){return wt.go(Nt)}};return Dt}var ResultType;(function(vt){vt.data="data",vt.deferred="deferred",vt.redirect="redirect",vt.error="error"})(ResultType||(ResultType={}));function matchRoutes(vt,ht,bt){bt===void 0&&(bt="/");let _t=typeof ht=="string"?parsePath(ht):ht,xt=stripBasename(_t.pathname||"/",bt);if(xt==null)return null;let Et=flattenRoutes(vt);rankRouteBranches(Et);let wt=null;for(let At=0;wt==null&&At<Et.length;++At){let St=decodePath(xt);wt=matchRouteBranch(Et[At],St)}return wt}function flattenRoutes(vt,ht,bt,_t){ht===void 0&&(ht=[]),bt===void 0&&(bt=[]),_t===void 0&&(_t="");let xt=(Et,wt,At)=>{let St={relativePath:At===void 0?Et.path||"":At,caseSensitive:Et.caseSensitive===!0,childrenIndex:wt,route:Et};St.relativePath.startsWith("/")&&(invariant$1(St.relativePath.startsWith(_t),'Absolute route path "'+St.relativePath+'" nested under path '+('"'+_t+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),St.relativePath=St.relativePath.slice(_t.length));let kt=joinPaths([_t,St.relativePath]),Rt=bt.concat(St);Et.children&&Et.children.length>0&&(invariant$1(Et.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+kt+'".')),flattenRoutes(Et.children,ht,Rt,kt)),!(Et.path==null&&!Et.index)&&ht.push({path:kt,score:computeScore(kt,Et.index),routesMeta:Rt})};return vt.forEach((Et,wt)=>{var At;if(Et.path===""||!((At=Et.path)!=null&&At.includes("?")))xt(Et,wt);else for(let St of explodeOptionalSegments(Et.path))xt(Et,wt,St)}),ht}function explodeOptionalSegments(vt){let ht=vt.split("/");if(ht.length===0)return[];let[bt,..._t]=ht,xt=bt.endsWith("?"),Et=bt.replace(/\?$/,"");if(_t.length===0)return xt?[Et,""]:[Et];let wt=explodeOptionalSegments(_t.join("/")),At=[];return At.push(...wt.map(St=>St===""?Et:[Et,St].join("/"))),xt&&At.push(...wt),At.map(St=>vt.startsWith("/")&&St===""?"/":St)}function rankRouteBranches(vt){vt.sort((ht,bt)=>ht.score!==bt.score?bt.score-ht.score:compareIndexes(ht.routesMeta.map(_t=>_t.childrenIndex),bt.routesMeta.map(_t=>_t.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=vt=>vt==="*";function computeScore(vt,ht){let bt=vt.split("/"),_t=bt.length;return bt.some(isSplat)&&(_t+=splatPenalty),ht&&(_t+=indexRouteValue),bt.filter(xt=>!isSplat(xt)).reduce((xt,Et)=>xt+(paramRe.test(Et)?dynamicSegmentValue:Et===""?emptySegmentValue:staticSegmentValue),_t)}function compareIndexes(vt,ht){return vt.length===ht.length&&vt.slice(0,-1).every((_t,xt)=>_t===ht[xt])?vt[vt.length-1]-ht[ht.length-1]:0}function matchRouteBranch(vt,ht){let{routesMeta:bt}=vt,_t={},xt="/",Et=[];for(let wt=0;wt<bt.length;++wt){let At=bt[wt],St=wt===bt.length-1,kt=xt==="/"?ht:ht.slice(xt.length)||"/",Rt=matchPath({path:At.relativePath,caseSensitive:At.caseSensitive,end:St},kt);if(!Rt)return null;Object.assign(_t,Rt.params);let Pt=At.route;Et.push({params:_t,pathname:joinPaths([xt,Rt.pathname]),pathnameBase:normalizePathname(joinPaths([xt,Rt.pathnameBase])),route:Pt}),Rt.pathnameBase!=="/"&&(xt=joinPaths([xt,Rt.pathnameBase]))}return Et}function matchPath(vt,ht){typeof vt=="string"&&(vt={path:vt,caseSensitive:!1,end:!0});let[bt,_t]=compilePath(vt.path,vt.caseSensitive,vt.end),xt=ht.match(bt);if(!xt)return null;let Et=xt[0],wt=Et.replace(/(.)\/+$/,"$1"),At=xt.slice(1);return{params:_t.reduce((kt,Rt,Pt)=>{let{paramName:Mt,isOptional:Ft}=Rt;if(Mt==="*"){let Dt=At[Pt]||"";wt=Et.slice(0,Et.length-Dt.length).replace(/(.)\/+$/,"$1")}const Lt=At[Pt];return Ft&&!Lt?kt[Mt]=void 0:kt[Mt]=(Lt||"").replace(/%2F/g,"/"),kt},{}),pathname:Et,pathnameBase:wt,pattern:vt}}function compilePath(vt,ht,bt){ht===void 0&&(ht=!1),bt===void 0&&(bt=!0),warning$2(vt==="*"||!vt.endsWith("*")||vt.endsWith("/*"),'Route path "'+vt+'" will be treated as if it were '+('"'+vt.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+vt.replace(/\*$/,"/*")+'".'));let _t=[],xt="^"+vt.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(wt,At,St)=>(_t.push({paramName:At,isOptional:St!=null}),St?"/?([^\\/]+)?":"/([^\\/]+)"));return vt.endsWith("*")?(_t.push({paramName:"*"}),xt+=vt==="*"||vt==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):bt?xt+="\\/*$":vt!==""&&vt!=="/"&&(xt+="(?:(?=\\/|$))"),[new RegExp(xt,ht?void 0:"i"),_t]}function decodePath(vt){try{return vt.split("/").map(ht=>decodeURIComponent(ht).replace(/\//g,"%2F")).join("/")}catch(ht){return warning$2(!1,'The URL path "'+vt+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+ht+").")),vt}}function stripBasename(vt,ht){if(ht==="/")return vt;if(!vt.toLowerCase().startsWith(ht.toLowerCase()))return null;let bt=ht.endsWith("/")?ht.length-1:ht.length,_t=vt.charAt(bt);return _t&&_t!=="/"?null:vt.slice(bt)||"/"}function resolvePath(vt,ht){ht===void 0&&(ht="/");let{pathname:bt,search:_t="",hash:xt=""}=typeof vt=="string"?parsePath(vt):vt;return{pathname:bt?bt.startsWith("/")?bt:resolvePathname(bt,ht):ht,search:normalizeSearch(_t),hash:normalizeHash(xt)}}function resolvePathname(vt,ht){let bt=ht.replace(/\/+$/,"").split("/");return vt.split("/").forEach(xt=>{xt===".."?bt.length>1&&bt.pop():xt!=="."&&bt.push(xt)}),bt.length>1?bt.join("/"):"/"}function getInvalidPathError(vt,ht,bt,_t){return"Cannot include a '"+vt+"' character in a manually specified "+("`to."+ht+"` field ["+JSON.stringify(_t)+"].  Please separate it out to the ")+("`to."+bt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(vt){return vt.filter((ht,bt)=>bt===0||ht.route.path&&ht.route.path.length>0)}function getResolveToMatches(vt,ht){let bt=getPathContributingMatches(vt);return ht?bt.map((_t,xt)=>xt===vt.length-1?_t.pathname:_t.pathnameBase):bt.map(_t=>_t.pathnameBase)}function resolveTo(vt,ht,bt,_t){_t===void 0&&(_t=!1);let xt;typeof vt=="string"?xt=parsePath(vt):(xt=_extends$2({},vt),invariant$1(!xt.pathname||!xt.pathname.includes("?"),getInvalidPathError("?","pathname","search",xt)),invariant$1(!xt.pathname||!xt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",xt)),invariant$1(!xt.search||!xt.search.includes("#"),getInvalidPathError("#","search","hash",xt)));let Et=vt===""||xt.pathname==="",wt=Et?"/":xt.pathname,At;if(wt==null)At=bt;else{let Pt=ht.length-1;if(!_t&&wt.startsWith("..")){let Mt=wt.split("/");for(;Mt[0]==="..";)Mt.shift(),Pt-=1;xt.pathname=Mt.join("/")}At=Pt>=0?ht[Pt]:"/"}let St=resolvePath(xt,At),kt=wt&&wt!=="/"&&wt.endsWith("/"),Rt=(Et||wt===".")&&bt.endsWith("/");return!St.pathname.endsWith("/")&&(kt||Rt)&&(St.pathname+="/"),St}const joinPaths=vt=>vt.join("/").replace(/\/\/+/g,"/"),normalizePathname=vt=>vt.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=vt=>!vt||vt==="?"?"":vt.startsWith("?")?vt:"?"+vt,normalizeHash=vt=>!vt||vt==="#"?"":vt.startsWith("#")?vt:"#"+vt;function isRouteErrorResponse(vt){return vt!=null&&typeof vt.status=="number"&&typeof vt.statusText=="string"&&typeof vt.internal=="boolean"&&"data"in vt}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(vt){for(var ht=1;ht<arguments.length;ht++){var bt=arguments[ht];for(var _t in bt)Object.prototype.hasOwnProperty.call(bt,_t)&&(vt[_t]=bt[_t])}return vt},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(vt){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(vt)}function useNavigate(){let{isDataRoute:vt}=reactExports.useContext(RouteContext);return vt?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let vt=reactExports.useContext(DataRouterContext),{basename:ht,future:bt,navigator:_t}=reactExports.useContext(NavigationContext),{matches:xt}=reactExports.useContext(RouteContext),{pathname:Et}=useLocation(),wt=JSON.stringify(getResolveToMatches(xt,bt.v7_relativeSplatPath)),At=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{At.current=!0}),reactExports.useCallback(function(kt,Rt){if(Rt===void 0&&(Rt={}),!At.current)return;if(typeof kt=="number"){_t.go(kt);return}let Pt=resolveTo(kt,JSON.parse(wt),Et,Rt.relative==="path");vt==null&&ht!=="/"&&(Pt.pathname=Pt.pathname==="/"?ht:joinPaths([ht,Pt.pathname])),(Rt.replace?_t.replace:_t.push)(Pt,Rt.state,Rt)},[ht,_t,wt,Et,vt])}function useRoutes(vt,ht){return useRoutesImpl(vt,ht)}function useRoutesImpl(vt,ht,bt,_t){useInRouterContext()||invariant$1(!1);let{navigator:xt}=reactExports.useContext(NavigationContext),{matches:Et}=reactExports.useContext(RouteContext),wt=Et[Et.length-1],At=wt?wt.params:{};wt&&wt.pathname;let St=wt?wt.pathnameBase:"/";wt&&wt.route;let kt=useLocation(),Rt;if(ht){var Pt;let Nt=typeof ht=="string"?parsePath(ht):ht;St==="/"||(Pt=Nt.pathname)!=null&&Pt.startsWith(St)||invariant$1(!1),Rt=Nt}else Rt=kt;let Mt=Rt.pathname||"/",Ft=Mt;if(St!=="/"){let Nt=St.replace(/^\//,"").split("/");Ft="/"+Mt.replace(/^\//,"").split("/").slice(Nt.length).join("/")}let Lt=matchRoutes(vt,{pathname:Ft}),Dt=_renderMatches(Lt&&Lt.map(Nt=>Object.assign({},Nt,{params:Object.assign({},At,Nt.params),pathname:joinPaths([St,xt.encodeLocation?xt.encodeLocation(Nt.pathname).pathname:Nt.pathname]),pathnameBase:Nt.pathnameBase==="/"?St:joinPaths([St,xt.encodeLocation?xt.encodeLocation(Nt.pathnameBase).pathname:Nt.pathnameBase])})),Et,bt,_t);return ht&&Dt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},Rt),navigationType:Action.Pop}},Dt):Dt}function DefaultErrorComponent(){let vt=useRouteError(),ht=isRouteErrorResponse(vt)?vt.status+" "+vt.statusText:vt instanceof Error?vt.message:JSON.stringify(vt),bt=vt instanceof Error?vt.stack:null,xt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},ht),bt?reactExports.createElement("pre",{style:xt},bt):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(ht){super(ht),this.state={location:ht.location,revalidation:ht.revalidation,error:ht.error}}static getDerivedStateFromError(ht){return{error:ht}}static getDerivedStateFromProps(ht,bt){return bt.location!==ht.location||bt.revalidation!=="idle"&&ht.revalidation==="idle"?{error:ht.error,location:ht.location,revalidation:ht.revalidation}:{error:ht.error!==void 0?ht.error:bt.error,location:bt.location,revalidation:ht.revalidation||bt.revalidation}}componentDidCatch(ht,bt){console.error("React Router caught the following error during render",ht,bt)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(vt){let{routeContext:ht,match:bt,children:_t}=vt,xt=reactExports.useContext(DataRouterContext);return xt&&xt.static&&xt.staticContext&&(bt.route.errorElement||bt.route.ErrorBoundary)&&(xt.staticContext._deepestRenderedBoundaryId=bt.route.id),reactExports.createElement(RouteContext.Provider,{value:ht},_t)}function _renderMatches(vt,ht,bt,_t){var xt;if(ht===void 0&&(ht=[]),bt===void 0&&(bt=null),_t===void 0&&(_t=null),vt==null){var Et;if((Et=bt)!=null&&Et.errors)vt=bt.matches;else return null}let wt=vt,At=(xt=bt)==null?void 0:xt.errors;if(At!=null){let Rt=wt.findIndex(Pt=>Pt.route.id&&(At==null?void 0:At[Pt.route.id])!==void 0);Rt>=0||invariant$1(!1),wt=wt.slice(0,Math.min(wt.length,Rt+1))}let St=!1,kt=-1;if(bt&&_t&&_t.v7_partialHydration)for(let Rt=0;Rt<wt.length;Rt++){let Pt=wt[Rt];if((Pt.route.HydrateFallback||Pt.route.hydrateFallbackElement)&&(kt=Rt),Pt.route.id){let{loaderData:Mt,errors:Ft}=bt,Lt=Pt.route.loader&&Mt[Pt.route.id]===void 0&&(!Ft||Ft[Pt.route.id]===void 0);if(Pt.route.lazy||Lt){St=!0,kt>=0?wt=wt.slice(0,kt+1):wt=[wt[0]];break}}}return wt.reduceRight((Rt,Pt,Mt)=>{let Ft,Lt=!1,Dt=null,Nt=null;bt&&(Ft=At&&Pt.route.id?At[Pt.route.id]:void 0,Dt=Pt.route.errorElement||defaultErrorElement,St&&(kt<0&&Mt===0?(Lt=!0,Nt=null):kt===Mt&&(Lt=!0,Nt=Pt.route.hydrateFallbackElement||null)));let $t=ht.concat(wt.slice(0,Mt+1)),Ot=()=>{let jt;return Ft?jt=Dt:Lt?jt=Nt:Pt.route.Component?jt=reactExports.createElement(Pt.route.Component,null):Pt.route.element?jt=Pt.route.element:jt=Rt,reactExports.createElement(RenderedRoute,{match:Pt,routeContext:{outlet:Rt,matches:$t,isDataRoute:bt!=null},children:jt})};return bt&&(Pt.route.ErrorBoundary||Pt.route.errorElement||Mt===0)?reactExports.createElement(RenderErrorBoundary,{location:bt.location,revalidation:bt.revalidation,component:Dt,error:Ft,children:Ot(),routeContext:{outlet:null,matches:$t,isDataRoute:!0}}):Ot()},null)}var DataRouterHook$1=function(vt){return vt.UseBlocker="useBlocker",vt.UseRevalidator="useRevalidator",vt.UseNavigateStable="useNavigate",vt}(DataRouterHook$1||{}),DataRouterStateHook$1=function(vt){return vt.UseBlocker="useBlocker",vt.UseLoaderData="useLoaderData",vt.UseActionData="useActionData",vt.UseRouteError="useRouteError",vt.UseNavigation="useNavigation",vt.UseRouteLoaderData="useRouteLoaderData",vt.UseMatches="useMatches",vt.UseRevalidator="useRevalidator",vt.UseNavigateStable="useNavigate",vt.UseRouteId="useRouteId",vt}(DataRouterStateHook$1||{});function useDataRouterContext(vt){let ht=reactExports.useContext(DataRouterContext);return ht||invariant$1(!1),ht}function useDataRouterState(vt){let ht=reactExports.useContext(DataRouterStateContext);return ht||invariant$1(!1),ht}function useRouteContext(vt){let ht=reactExports.useContext(RouteContext);return ht||invariant$1(!1),ht}function useCurrentRouteId(vt){let ht=useRouteContext(),bt=ht.matches[ht.matches.length-1];return bt.route.id||invariant$1(!1),bt.route.id}function useRouteError(){var vt;let ht=reactExports.useContext(RouteErrorContext),bt=useDataRouterState(DataRouterStateHook$1.UseRouteError),_t=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return ht!==void 0?ht:(vt=bt.errors)==null?void 0:vt[_t]}function useNavigateStable(){let{router:vt}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),ht=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),bt=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{bt.current=!0}),reactExports.useCallback(function(xt,Et){Et===void 0&&(Et={}),bt.current&&(typeof xt=="number"?vt.navigate(xt):vt.navigate(xt,_extends$1({fromRouteId:ht},Et)))},[vt,ht])}function Route(vt){invariant$1(!1)}function Router(vt){let{basename:ht="/",children:bt=null,location:_t,navigationType:xt=Action.Pop,navigator:Et,static:wt=!1,future:At}=vt;useInRouterContext()&&invariant$1(!1);let St=ht.replace(/^\/*/,"/"),kt=reactExports.useMemo(()=>({basename:St,navigator:Et,static:wt,future:_extends$1({v7_relativeSplatPath:!1},At)}),[St,At,Et,wt]);typeof _t=="string"&&(_t=parsePath(_t));let{pathname:Rt="/",search:Pt="",hash:Mt="",state:Ft=null,key:Lt="default"}=_t,Dt=reactExports.useMemo(()=>{let Nt=stripBasename(Rt,St);return Nt==null?null:{location:{pathname:Nt,search:Pt,hash:Mt,state:Ft,key:Lt},navigationType:xt}},[St,Rt,Pt,Mt,Ft,Lt,xt]);return Dt==null?null:reactExports.createElement(NavigationContext.Provider,{value:kt},reactExports.createElement(LocationContext.Provider,{children:bt,value:Dt}))}function Routes(vt){let{children:ht,location:bt}=vt;return useRoutes(createRoutesFromChildren(ht),bt)}new Promise(()=>{});function createRoutesFromChildren(vt,ht){ht===void 0&&(ht=[]);let bt=[];return reactExports.Children.forEach(vt,(_t,xt)=>{if(!reactExports.isValidElement(_t))return;let Et=[...ht,xt];if(_t.type===reactExports.Fragment){bt.push.apply(bt,createRoutesFromChildren(_t.props.children,Et));return}_t.type!==Route&&invariant$1(!1),!_t.props.index||!_t.props.children||invariant$1(!1);let wt={id:_t.props.id||Et.join("-"),caseSensitive:_t.props.caseSensitive,element:_t.props.element,Component:_t.props.Component,index:_t.props.index,path:_t.props.path,loader:_t.props.loader,action:_t.props.action,errorElement:_t.props.errorElement,ErrorBoundary:_t.props.ErrorBoundary,hasErrorBoundary:_t.props.ErrorBoundary!=null||_t.props.errorElement!=null,shouldRevalidate:_t.props.shouldRevalidate,handle:_t.props.handle,lazy:_t.props.lazy};_t.props.children&&(wt.children=createRoutesFromChildren(_t.props.children,Et)),bt.push(wt)}),bt}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=t$5[START_TRANSITION];function BrowserRouter(vt){let{basename:ht,children:bt,future:_t,window:xt}=vt,Et=reactExports.useRef();Et.current==null&&(Et.current=createBrowserHistory({window:xt,v5Compat:!0}));let wt=Et.current,[At,St]=reactExports.useState({action:wt.action,location:wt.location}),{v7_startTransition:kt}=_t||{},Rt=reactExports.useCallback(Pt=>{kt&&startTransitionImpl?startTransitionImpl(()=>St(Pt)):St(Pt)},[St,kt]);return reactExports.useLayoutEffect(()=>wt.listen(Rt),[wt,Rt]),reactExports.createElement(Router,{basename:ht,children:bt,location:At.location,navigationType:At.action,navigator:wt,future:_t})}var DataRouterHook;(function(vt){vt.UseScrollRestoration="useScrollRestoration",vt.UseSubmit="useSubmit",vt.UseSubmitFetcher="useSubmitFetcher",vt.UseFetcher="useFetcher",vt.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(vt){vt.UseFetcher="useFetcher",vt.UseFetchers="useFetchers",vt.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(vt){const ht=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{ht.current=vt},[vt]),reactExports.useCallback((...bt)=>{const _t=ht.current;return _t==null?void 0:_t(...bt)},[])}const $431fbd86ca7dc216$export$b204af158042fbac=vt=>{var ht;return(ht=vt==null?void 0:vt.ownerDocument)!==null&&ht!==void 0?ht:document},$431fbd86ca7dc216$export$f21a1ffae260145a=vt=>vt&&"window"in vt&&vt.window===vt?vt:$431fbd86ca7dc216$export$b204af158042fbac(vt).defaultView||window;function r$4(vt){var ht,bt,_t="";if(typeof vt=="string"||typeof vt=="number")_t+=vt;else if(typeof vt=="object")if(Array.isArray(vt)){var xt=vt.length;for(ht=0;ht<xt;ht++)vt[ht]&&(bt=r$4(vt[ht]))&&(_t&&(_t+=" "),_t+=bt)}else for(bt in vt)vt[bt]&&(_t&&(_t+=" "),_t+=bt);return _t}function clsx(){for(var vt,ht,bt=0,_t="",xt=arguments.length;bt<xt;bt++)(vt=arguments[bt])&&(ht=r$4(vt))&&(_t&&(_t+=" "),_t+=ht);return _t}function $c87311424ea30a05$var$testUserAgent(vt){var ht;return typeof window>"u"||window.navigator==null?!1:((ht=window.navigator.userAgentData)===null||ht===void 0?void 0:ht.brands.some(bt=>vt.test(bt.brand)))||vt.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(vt){var ht;return typeof window<"u"&&window.navigator!=null?vt.test(((ht=window.navigator.userAgentData)===null||ht===void 0?void 0:ht.platform)||window.navigator.platform):!1}function $c87311424ea30a05$export$9ac100e40613ea10(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}function $c87311424ea30a05$export$a11b0059900ceec8(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}function $6a7db85432448f7f$export$60278871457622de(vt){return vt.mozInputSource===0&&vt.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&vt.pointerType?vt.type==="click"&&vt.buttons===1:vt.detail===0&&!vt.pointerType}class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(ht,bt){this.nativeEvent=bt,this.target=bt.target,this.currentTarget=bt.currentTarget,this.relatedTarget=bt.relatedTarget,this.bubbles=bt.bubbles,this.cancelable=bt.cancelable,this.defaultPrevented=bt.defaultPrevented,this.eventPhase=bt.eventPhase,this.isTrusted=bt.isTrusted,this.timeStamp=bt.timeStamp,this.type=ht}}function $8a9cb279dc87e130$export$715c682d09d639cc(vt){let ht=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const _t=ht.current;return()=>{_t.observer&&(_t.observer.disconnect(),_t.observer=null)}},[]);let bt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(_t=>{vt==null||vt(_t)});return reactExports.useCallback(_t=>{if(_t.target instanceof HTMLButtonElement||_t.target instanceof HTMLInputElement||_t.target instanceof HTMLTextAreaElement||_t.target instanceof HTMLSelectElement){ht.current.isFocused=!0;let xt=_t.target,Et=wt=>{ht.current.isFocused=!1,xt.disabled&&bt(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",wt)),ht.current.observer&&(ht.current.observer.disconnect(),ht.current.observer=null)};xt.addEventListener("focusout",Et,{once:!0}),ht.current.observer=new MutationObserver(()=>{if(ht.current.isFocused&&xt.disabled){var wt;(wt=ht.current.observer)===null||wt===void 0||wt.disconnect();let At=xt===document.activeElement?null:document.activeElement;xt.dispatchEvent(new FocusEvent("blur",{relatedTarget:At})),xt.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:At}))}}),ht.current.observer.observe(xt,{attributes:!0,attributeFilter:["disabled"]})}},[bt])}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(vt){let{isDisabled:ht,onFocus:bt,onBlur:_t,onFocusChange:xt}=vt;const Et=reactExports.useCallback(St=>{if(St.target===St.currentTarget)return _t&&_t(St),xt&&xt(!1),!0},[_t,xt]),wt=$8a9cb279dc87e130$export$715c682d09d639cc(Et),At=reactExports.useCallback(St=>{const kt=$431fbd86ca7dc216$export$b204af158042fbac(St.target);St.target===St.currentTarget&&kt.activeElement===St.target&&(bt&&bt(St),xt&&xt(!0),wt(St))},[xt,bt,wt]);return{focusProps:{onFocus:!ht&&(bt||xt||_t)?At:void 0,onBlur:!ht&&(_t||xt)?Et:void 0}}}let $507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(vt,ht){for(let bt of $507fabe10e71c6fb$var$changeHandlers)bt(vt,ht)}function $507fabe10e71c6fb$var$isValidKey(vt){return!(vt.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&vt.altKey||vt.ctrlKey||vt.key==="Control"||vt.key==="Shift"||vt.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(vt){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(vt)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",vt))}function $507fabe10e71c6fb$var$handlePointerEvent(vt){$507fabe10e71c6fb$var$currentModality="pointer",(vt.type==="mousedown"||vt.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",vt))}function $507fabe10e71c6fb$var$handleClickEvent(vt){$6a7db85432448f7f$export$60278871457622de(vt)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(vt){vt.target===window||vt.target===document||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",vt)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(vt){if(typeof window>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(vt)))return;const ht=$431fbd86ca7dc216$export$f21a1ffae260145a(vt),bt=$431fbd86ca7dc216$export$b204af158042fbac(vt);let _t=ht.HTMLElement.prototype.focus;ht.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,_t.apply(this,arguments)},bt.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),bt.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),bt.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),ht.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),ht.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(bt.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(bt.addEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.addEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.addEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),ht.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(vt)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set(ht,{focus:_t})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(vt,ht)=>{const bt=$431fbd86ca7dc216$export$f21a1ffae260145a(vt),_t=$431fbd86ca7dc216$export$b204af158042fbac(vt);ht&&_t.removeEventListener("DOMContentLoaded",ht),$507fabe10e71c6fb$export$d90243b58daecda7.has(bt)&&(bt.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(bt).focus,_t.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),_t.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),_t.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),bt.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),bt.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(_t.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),_t.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),_t.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(_t.removeEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),_t.removeEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),_t.removeEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(bt))};function $507fabe10e71c6fb$export$2f1888112f558a7d(vt){const ht=$431fbd86ca7dc216$export$b204af158042fbac(vt);let bt;return ht.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(vt):(bt=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(vt)},ht.addEventListener("DOMContentLoaded",bt)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(vt,bt)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(vt,ht,bt){var _t;const xt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(bt==null?void 0:bt.target).HTMLInputElement:HTMLInputElement,Et=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(bt==null?void 0:bt.target).HTMLTextAreaElement:HTMLTextAreaElement,wt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(bt==null?void 0:bt.target).HTMLElement:HTMLElement,At=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(bt==null?void 0:bt.target).KeyboardEvent:KeyboardEvent;return vt=vt||(bt==null?void 0:bt.target)instanceof xt&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(bt==null||(_t=bt.target)===null||_t===void 0?void 0:_t.type)||(bt==null?void 0:bt.target)instanceof Et||(bt==null?void 0:bt.target)instanceof wt&&(bt==null?void 0:bt.target.isContentEditable),!(vt&&ht==="keyboard"&&bt instanceof At&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[bt.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(vt,ht,bt){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let _t=(xt,Et)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(bt!=null&&bt.isTextInput),xt,Et)&&vt($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(_t),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(_t)}},ht)}function $9ab94262bd0047c7$export$420e68273165f4ec(vt){let{isDisabled:ht,onBlurWithin:bt,onFocusWithin:_t,onFocusWithinChange:xt}=vt,Et=reactExports.useRef({isFocusWithin:!1}),wt=reactExports.useCallback(kt=>{Et.current.isFocusWithin&&!kt.currentTarget.contains(kt.relatedTarget)&&(Et.current.isFocusWithin=!1,bt&&bt(kt),xt&&xt(!1))},[bt,xt,Et]),At=$8a9cb279dc87e130$export$715c682d09d639cc(wt),St=reactExports.useCallback(kt=>{!Et.current.isFocusWithin&&document.activeElement===kt.target&&(_t&&_t(kt),xt&&xt(!0),Et.current.isFocusWithin=!0,At(kt))},[_t,xt,At]);return ht?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:St,onBlur:wt}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(vt){vt.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.addEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.removeEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents))}}function $6179b936705e76d3$export$ae780daf29e6d456(vt){let{onHoverStart:ht,onHoverChange:bt,onHoverEnd:_t,isDisabled:xt}=vt,[Et,wt]=reactExports.useState(!1),At=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{hoverProps:St,triggerHoverEnd:kt}=reactExports.useMemo(()=>{let Rt=(Ft,Lt)=>{if(At.pointerType=Lt,xt||Lt==="touch"||At.isHovered||!Ft.currentTarget.contains(Ft.target))return;At.isHovered=!0;let Dt=Ft.currentTarget;At.target=Dt,ht&&ht({type:"hoverstart",target:Dt,pointerType:Lt}),bt&&bt(!0),wt(!0)},Pt=(Ft,Lt)=>{if(At.pointerType="",At.target=null,Lt==="touch"||!At.isHovered)return;At.isHovered=!1;let Dt=Ft.currentTarget;_t&&_t({type:"hoverend",target:Dt,pointerType:Lt}),bt&&bt(!1),wt(!1)},Mt={};return typeof PointerEvent<"u"?(Mt.onPointerEnter=Ft=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&Ft.pointerType==="mouse"||Rt(Ft,Ft.pointerType)},Mt.onPointerLeave=Ft=>{!xt&&Ft.currentTarget.contains(Ft.target)&&Pt(Ft,Ft.pointerType)}):(Mt.onTouchStart=()=>{At.ignoreEmulatedMouseEvents=!0},Mt.onMouseEnter=Ft=>{!At.ignoreEmulatedMouseEvents&&!$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&Rt(Ft,"mouse"),At.ignoreEmulatedMouseEvents=!1},Mt.onMouseLeave=Ft=>{!xt&&Ft.currentTarget.contains(Ft.target)&&Pt(Ft,"mouse")}),{hoverProps:Mt,triggerHoverEnd:Pt}},[ht,bt,_t,xt,At]);return reactExports.useEffect(()=>{xt&&kt({currentTarget:At.target},At.pointerType)},[xt]),{hoverProps:St,isHovered:Et}}function $f7dceffc5ad7768b$export$4e328f61c538687f(vt={}){let{autoFocus:ht=!1,isTextInput:bt,within:_t}=vt,xt=reactExports.useRef({isFocused:!1,isFocusVisible:ht||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[Et,wt]=reactExports.useState(!1),[At,St]=reactExports.useState(()=>xt.current.isFocused&&xt.current.isFocusVisible),kt=reactExports.useCallback(()=>St(xt.current.isFocused&&xt.current.isFocusVisible),[]),Rt=reactExports.useCallback(Ft=>{xt.current.isFocused=Ft,wt(Ft),kt()},[kt]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(Ft=>{xt.current.isFocusVisible=Ft,kt()},[],{isTextInput:bt});let{focusProps:Pt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:_t,onFocusChange:Rt}),{focusWithinProps:Mt}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!_t,onFocusWithinChange:Rt});return{isFocused:Et,isFocusVisible:At,focusProps:_t?Mt:Pt}}var i$5=Object.defineProperty,d$4=(vt,ht,bt)=>ht in vt?i$5(vt,ht,{enumerable:!0,configurable:!0,writable:!0,value:bt}):vt[ht]=bt,r$3=(vt,ht,bt)=>(d$4(vt,typeof ht!="symbol"?ht+"":ht,bt),bt);let o$5=class{constructor(){r$3(this,"current",this.detect()),r$3(this,"handoffState","pending"),r$3(this,"currentId",0)}set(ht){this.current!==ht&&(this.handoffState="pending",this.currentId=0,this.current=ht)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$5=new o$5;function u$7(vt){return s$5.isServer?null:vt instanceof Node?vt.ownerDocument:vt!=null&&vt.hasOwnProperty("current")&&vt.current instanceof Node?vt.current.ownerDocument:document}function t$4(vt){typeof queueMicrotask=="function"?queueMicrotask(vt):Promise.resolve().then(vt).catch(ht=>setTimeout(()=>{throw ht}))}function o$4(){let vt=[],ht={addEventListener(bt,_t,xt,Et){return bt.addEventListener(_t,xt,Et),ht.add(()=>bt.removeEventListener(_t,xt,Et))},requestAnimationFrame(...bt){let _t=requestAnimationFrame(...bt);return ht.add(()=>cancelAnimationFrame(_t))},nextFrame(...bt){return ht.requestAnimationFrame(()=>ht.requestAnimationFrame(...bt))},setTimeout(...bt){let _t=setTimeout(...bt);return ht.add(()=>clearTimeout(_t))},microTask(...bt){let _t={current:!0};return t$4(()=>{_t.current&&bt[0]()}),ht.add(()=>{_t.current=!1})},style(bt,_t,xt){let Et=bt.style.getPropertyValue(_t);return Object.assign(bt.style,{[_t]:xt}),this.add(()=>{Object.assign(bt.style,{[_t]:Et})})},group(bt){let _t=o$4();return bt(_t),this.add(()=>_t.dispose())},add(bt){return vt.includes(bt)||vt.push(bt),()=>{let _t=vt.indexOf(bt);if(_t>=0)for(let xt of vt.splice(_t,1))xt()}},dispose(){for(let bt of vt.splice(0))bt()}};return ht}function p$4(){let[vt]=reactExports.useState(o$4);return reactExports.useEffect(()=>()=>vt.dispose(),[vt]),vt}let n$4=(vt,ht)=>{s$5.isServer?reactExports.useEffect(vt,ht):reactExports.useLayoutEffect(vt,ht)};function s$4(vt){let ht=reactExports.useRef(vt);return n$4(()=>{ht.current=vt},[vt]),ht}let o$3=function(vt){let ht=s$4(vt);return React.useCallback((...bt)=>ht.current(...bt),[ht])};function E$1(vt){let ht=vt.width/2,bt=vt.height/2;return{top:vt.clientY-bt,right:vt.clientX+ht,bottom:vt.clientY+bt,left:vt.clientX-ht}}function P$2(vt,ht){return!(!vt||!ht||vt.right<ht.left||vt.left>ht.right||vt.bottom<ht.top||vt.top>ht.bottom)}function w$3({disabled:vt=!1}={}){let ht=reactExports.useRef(null),[bt,_t]=reactExports.useState(!1),xt=p$4(),Et=o$3(()=>{ht.current=null,_t(!1),xt.dispose()}),wt=o$3(At=>{if(xt.dispose(),ht.current===null){ht.current=At.currentTarget,_t(!0);{let St=u$7(At.currentTarget);xt.addEventListener(St,"pointerup",Et,!1),xt.addEventListener(St,"pointermove",kt=>{if(ht.current){let Rt=E$1(kt);_t(P$2(Rt,ht.current.getBoundingClientRect()))}},!1),xt.addEventListener(St,"pointercancel",Et,!1)}}});return{pressed:bt,pressProps:vt?{}:{onPointerDown:wt,onPointerUp:Et,onClick:Et}}}let e$3=reactExports.createContext(void 0);function a$7(){return reactExports.useContext(e$3)}function t$3(...vt){return Array.from(new Set(vt.flatMap(ht=>typeof ht=="string"?ht.split(" "):[]))).filter(Boolean).join(" ")}function u$6(vt,ht,...bt){if(vt in ht){let xt=ht[vt];return typeof xt=="function"?xt(...bt):xt}let _t=new Error(`Tried to handle "${vt}" but there is no handler defined. Only defined handlers are: ${Object.keys(ht).map(xt=>`"${xt}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(_t,u$6),_t}var O$1=(vt=>(vt[vt.None=0]="None",vt[vt.RenderStrategy=1]="RenderStrategy",vt[vt.Static=2]="Static",vt))(O$1||{}),M$3=(vt=>(vt[vt.Unmount=0]="Unmount",vt[vt.Hidden=1]="Hidden",vt))(M$3||{});function H$2({ourProps:vt,theirProps:ht,slot:bt,defaultTag:_t,features:xt,visible:Et=!0,name:wt,mergeRefs:At}){At=At??A$3;let St=N$3(ht,vt);if(Et)return b$3(St,bt,_t,wt,At);let kt=xt??0;if(kt&2){let{static:Rt=!1,...Pt}=St;if(Rt)return b$3(Pt,bt,_t,wt,At)}if(kt&1){let{unmount:Rt=!0,...Pt}=St;return u$6(Rt?0:1,{0(){return null},1(){return b$3({...Pt,hidden:!0,style:{display:"none"}},bt,_t,wt,At)}})}return b$3(St,bt,_t,wt,At)}function b$3(vt,ht={},bt,_t,xt){let{as:Et=bt,children:wt,refName:At="ref",...St}=h$3(vt,["unmount","static"]),kt=vt.ref!==void 0?{[At]:vt.ref}:{},Rt=typeof wt=="function"?wt(ht):wt;"className"in St&&St.className&&typeof St.className=="function"&&(St.className=St.className(ht)),St["aria-labelledby"]&&St["aria-labelledby"]===St.id&&(St["aria-labelledby"]=void 0);let Pt={};if(ht){let Mt=!1,Ft=[];for(let[Lt,Dt]of Object.entries(ht))typeof Dt=="boolean"&&(Mt=!0),Dt===!0&&Ft.push(Lt.replace(/([A-Z])/g,Nt=>`-${Nt.toLowerCase()}`));if(Mt){Pt["data-headlessui-state"]=Ft.join(" ");for(let Lt of Ft)Pt[`data-${Lt}`]=""}}if(Et===reactExports.Fragment&&(Object.keys(m$5(St)).length>0||Object.keys(m$5(Pt)).length>0))if(!reactExports.isValidElement(Rt)||Array.isArray(Rt)&&Rt.length>1){if(Object.keys(m$5(St)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${_t} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$5(St)).concat(Object.keys(m$5(Pt))).map(Mt=>`  - ${Mt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(Mt=>`  - ${Mt}`).join(`
`)].join(`
`))}else{let Mt=Rt.props,Ft=Mt==null?void 0:Mt.className,Lt=typeof Ft=="function"?(...$t)=>t$3(Ft(...$t),St.className):t$3(Ft,St.className),Dt=Lt?{className:Lt}:{},Nt=N$3(Rt.props,m$5(h$3(St,["ref"])));for(let $t in Pt)$t in Nt&&delete Pt[$t];return reactExports.cloneElement(Rt,Object.assign({},Nt,Pt,kt,{ref:xt(Rt.ref,kt.ref)},Dt))}return reactExports.createElement(Et,Object.assign({},h$3(St,["ref"]),Et!==reactExports.Fragment&&kt,Et!==reactExports.Fragment&&Pt),Rt)}function A$3(...vt){return vt.every(ht=>ht==null)?void 0:ht=>{for(let bt of vt)bt!=null&&(typeof bt=="function"?bt(ht):bt.current=ht)}}function N$3(...vt){if(vt.length===0)return{};if(vt.length===1)return vt[0];let ht={},bt={};for(let _t of vt)for(let xt in _t)xt.startsWith("on")&&typeof _t[xt]=="function"?(bt[xt]!=null||(bt[xt]=[]),bt[xt].push(_t[xt])):ht[xt]=_t[xt];if(ht.disabled||ht["aria-disabled"])for(let _t in bt)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(_t)&&(bt[_t]=[xt=>{var Et;return(Et=xt==null?void 0:xt.preventDefault)==null?void 0:Et.call(xt)}]);for(let _t in bt)Object.assign(ht,{[_t](xt,...Et){let wt=bt[_t];for(let At of wt){if((xt instanceof Event||(xt==null?void 0:xt.nativeEvent)instanceof Event)&&xt.defaultPrevented)return;At(xt,...Et)}}});return ht}function D$4(...vt){if(vt.length===0)return{};if(vt.length===1)return vt[0];let ht={},bt={};for(let _t of vt)for(let xt in _t)xt.startsWith("on")&&typeof _t[xt]=="function"?(bt[xt]!=null||(bt[xt]=[]),bt[xt].push(_t[xt])):ht[xt]=_t[xt];for(let _t in bt)Object.assign(ht,{[_t](...xt){let Et=bt[_t];for(let wt of Et)wt==null||wt(...xt)}});return ht}function I$4(vt){var ht;return Object.assign(reactExports.forwardRef(vt),{displayName:(ht=vt.displayName)!=null?ht:vt.name})}function m$5(vt){let ht=Object.assign({},vt);for(let bt in ht)ht[bt]===void 0&&delete ht[bt];return ht}function h$3(vt,ht=[]){let bt=Object.assign({},vt);for(let _t of ht)_t in bt&&delete bt[_t];return bt}let e$2=reactExports.createContext(void 0);function u$5(){return reactExports.useContext(e$2)}function r$2(vt){let ht=vt.parentElement,bt=null;for(;ht&&!(ht instanceof HTMLFieldSetElement);)ht instanceof HTMLLegendElement&&(bt=ht),ht=ht.parentElement;let _t=(ht==null?void 0:ht.getAttribute("disabled"))==="";return _t&&i$4(bt)?!1:_t}function i$4(vt){if(!vt)return!1;let ht=vt.previousElementSibling;for(;ht!==null;){if(ht instanceof HTMLLegendElement)return!1;ht=ht.previousElementSibling}return!0}let u$4=Symbol();function T$3(vt,ht=!0){return Object.assign(vt,{[u$4]:ht})}function y$6(...vt){let ht=reactExports.useRef(vt);reactExports.useEffect(()=>{ht.current=vt},[vt]);let bt=o$3(_t=>{for(let xt of ht.current)xt!=null&&(typeof xt=="function"?xt(_t):xt.current=_t)});return vt.every(_t=>_t==null||(_t==null?void 0:_t[u$4]))?void 0:bt}let a$6=reactExports.createContext(null);a$6.displayName="DescriptionContext";function f$6(){let vt=reactExports.useContext(a$6);if(vt===null){let ht=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(ht,f$6),ht}return vt}function U$2(){let[vt,ht]=reactExports.useState([]);return[vt.length>0?vt.join(" "):void 0,reactExports.useMemo(()=>function(bt){let _t=o$3(Et=>(ht(wt=>[...wt,Et]),()=>ht(wt=>{let At=wt.slice(),St=At.indexOf(Et);return St!==-1&&At.splice(St,1),At}))),xt=reactExports.useMemo(()=>({register:_t,slot:bt.slot,name:bt.name,props:bt.props,value:bt.value}),[_t,bt.slot,bt.name,bt.props,bt.value]);return React.createElement(a$6.Provider,{value:xt},bt.children)},[ht])]}let S$4="p";function C$1(vt,ht){let bt=reactExports.useId(),_t=a$7(),{id:xt=`headlessui-description-${bt}`,...Et}=vt,wt=f$6(),At=y$6(ht);n$4(()=>wt.register(xt),[xt,wt.register]);let St=_t||!1,kt=reactExports.useMemo(()=>({...wt.slot,disabled:St}),[wt.slot,St]),Rt={ref:At,...wt.props,id:xt};return H$2({ourProps:Rt,theirProps:Et,slot:kt,defaultTag:S$4,name:wt.name||"Description"})}let _$2=I$4(C$1);Object.assign(_$2,{});var o$2=(vt=>(vt.Space=" ",vt.Enter="Enter",vt.Escape="Escape",vt.Backspace="Backspace",vt.Delete="Delete",vt.ArrowLeft="ArrowLeft",vt.ArrowUp="ArrowUp",vt.ArrowRight="ArrowRight",vt.ArrowDown="ArrowDown",vt.Home="Home",vt.End="End",vt.PageUp="PageUp",vt.PageDown="PageDown",vt.Tab="Tab",vt))(o$2||{});let c$5=reactExports.createContext(null);c$5.displayName="LabelContext";function P$1(){let vt=reactExports.useContext(c$5);if(vt===null){let ht=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(ht,P$1),ht}return vt}function I$3(vt){var ht,bt,_t;let xt=(bt=(ht=reactExports.useContext(c$5))==null?void 0:ht.value)!=null?bt:void 0;return((_t=void 0)!=null?_t:0)>0?[xt,...vt].filter(Boolean).join(" "):xt}function z$2({inherit:vt=!1}={}){let ht=I$3(),[bt,_t]=reactExports.useState([]),xt=vt?[ht,...bt].filter(Boolean):bt;return[xt.length>0?xt.join(" "):void 0,reactExports.useMemo(()=>function(Et){let wt=o$3(St=>(_t(kt=>[...kt,St]),()=>_t(kt=>{let Rt=kt.slice(),Pt=Rt.indexOf(St);return Pt!==-1&&Rt.splice(Pt,1),Rt}))),At=reactExports.useMemo(()=>({register:wt,slot:Et.slot,name:Et.name,props:Et.props,value:Et.value}),[wt,Et.slot,Et.name,Et.props,Et.value]);return React.createElement(c$5.Provider,{value:At},Et.children)},[_t])]}let N$2="label";function G$2(vt,ht){var bt;let _t=reactExports.useId(),xt=P$1(),Et=u$5(),wt=a$7(),{id:At=`headlessui-label-${_t}`,htmlFor:St=Et??((bt=xt.props)==null?void 0:bt.htmlFor),passive:kt=!1,...Rt}=vt,Pt=y$6(ht);n$4(()=>xt.register(At),[At,xt.register]);let Mt=o$3(Nt=>{let $t=Nt.currentTarget;if($t instanceof HTMLLabelElement&&Nt.preventDefault(),xt.props&&"onClick"in xt.props&&typeof xt.props.onClick=="function"&&xt.props.onClick(Nt),$t instanceof HTMLLabelElement){let Ot=document.getElementById($t.htmlFor);if(Ot){let jt=Ot.getAttribute("disabled");if(jt==="true"||jt==="")return;let Ut=Ot.getAttribute("aria-disabled");if(Ut==="true"||Ut==="")return;(Ot instanceof HTMLInputElement&&(Ot.type==="radio"||Ot.type==="checkbox")||Ot.role==="radio"||Ot.role==="checkbox"||Ot.role==="switch")&&Ot.click(),Ot.focus({preventScroll:!0})}}}),Ft=wt||!1,Lt=reactExports.useMemo(()=>({...xt.slot,disabled:Ft}),[xt.slot,Ft]),Dt={ref:Pt,...xt.props,id:At,htmlFor:St,onClick:Mt};return kt&&("onClick"in Dt&&(delete Dt.htmlFor,delete Dt.onClick),"onClick"in Rt&&delete Rt.onClick),H$2({ourProps:Dt,theirProps:Rt,slot:Lt,defaultTag:St?N$2:"div",name:xt.name||"Label"})}let U$1=I$4(G$2);Object.assign(U$1,{});function s$3(vt){if(vt===null)return{width:0,height:0};let{width:ht,height:bt}=vt.getBoundingClientRect();return{width:ht,height:bt}}function f$5(vt,ht=!1){let bt=vt===null?null:"current"in vt?vt.current:vt,[_t,xt]=reactExports.useReducer(()=>({}),{}),Et=reactExports.useMemo(()=>s$3(bt),[bt,_t]);return n$4(()=>{if(!bt)return;let wt=new ResizeObserver(xt);return wt.observe(bt),()=>{wt.disconnect()}},[bt]),ht?{width:`${Et.width}px`,height:`${Et.height}px`}:Et}let a$5=class extends Map{constructor(ht){super(),this.factory=ht}get(ht){let bt=super.get(ht);return bt===void 0&&(bt=this.factory(ht),this.set(ht,bt)),bt}};function a$4(vt,ht){let bt=vt(),_t=new Set;return{getSnapshot(){return bt},subscribe(xt){return _t.add(xt),()=>_t.delete(xt)},dispatch(xt,...Et){let wt=ht[xt].call(bt,...Et);wt&&(bt=wt,_t.forEach(At=>At()))}}}function o$1(vt){return reactExports.useSyncExternalStore(vt.subscribe,vt.getSnapshot,vt.getSnapshot)}let p$3=new a$5(()=>a$4(()=>[],{ADD(vt){return this.includes(vt)?this:[...this,vt]},REMOVE(vt){let ht=this.indexOf(vt);if(ht===-1)return this;let bt=this.slice();return bt.splice(ht,1),bt}}));function x$2(vt,ht){let bt=p$3.get(ht),_t=reactExports.useId(),xt=o$1(bt);if(n$4(()=>{if(vt)return bt.dispatch("ADD",_t),()=>bt.dispatch("REMOVE",_t)},[bt,vt]),!vt)return!1;let Et=xt.indexOf(_t),wt=xt.length;return Et===-1&&(Et=wt,wt+=1),Et===wt-1}let f$4=new Map,u$3=new Map;function h$2(vt){var ht;let bt=(ht=u$3.get(vt))!=null?ht:0;return u$3.set(vt,bt+1),bt!==0?()=>m$4(vt):(f$4.set(vt,{"aria-hidden":vt.getAttribute("aria-hidden"),inert:vt.inert}),vt.setAttribute("aria-hidden","true"),vt.inert=!0,()=>m$4(vt))}function m$4(vt){var ht;let bt=(ht=u$3.get(vt))!=null?ht:1;if(bt===1?u$3.delete(vt):u$3.set(vt,bt-1),bt!==1)return;let _t=f$4.get(vt);_t&&(_t["aria-hidden"]===null?vt.removeAttribute("aria-hidden"):vt.setAttribute("aria-hidden",_t["aria-hidden"]),vt.inert=_t.inert,f$4.delete(vt))}function y$5(vt,{allowed:ht,disallowed:bt}={}){let _t=x$2(vt,"inert-others");n$4(()=>{var xt,Et;if(!_t)return;let wt=o$4();for(let St of(xt=bt==null?void 0:bt())!=null?xt:[])St&&wt.add(h$2(St));let At=(Et=ht==null?void 0:ht())!=null?Et:[];for(let St of At){if(!St)continue;let kt=u$7(St);if(!kt)continue;let Rt=St.parentElement;for(;Rt&&Rt!==kt.body;){for(let Pt of Rt.children)At.some(Mt=>Pt.contains(Mt))||wt.add(h$2(Pt));Rt=Rt.parentElement}}return wt.dispose},[_t,ht,bt])}function m$3(vt,ht,bt){let _t=s$4(xt=>{let Et=xt.getBoundingClientRect();Et.x===0&&Et.y===0&&Et.width===0&&Et.height===0&&bt()});reactExports.useEffect(()=>{if(!vt)return;let xt=ht===null?null:ht instanceof HTMLElement?ht:ht.current;if(!xt)return;let Et=o$4();if(typeof ResizeObserver<"u"){let wt=new ResizeObserver(()=>_t.current(xt));wt.observe(xt),Et.add(()=>wt.disconnect())}if(typeof IntersectionObserver<"u"){let wt=new IntersectionObserver(()=>_t.current(xt));wt.observe(xt),Et.add(()=>wt.disconnect())}return()=>Et.dispose()},[ht,_t,vt])}let f$3=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(vt=>`${vt}:not([tabindex='-1'])`).join(","),p$2=["[data-autofocus]"].map(vt=>`${vt}:not([tabindex='-1'])`).join(",");var F$4=(vt=>(vt[vt.First=1]="First",vt[vt.Previous=2]="Previous",vt[vt.Next=4]="Next",vt[vt.Last=8]="Last",vt[vt.WrapAround=16]="WrapAround",vt[vt.NoScroll=32]="NoScroll",vt[vt.AutoFocus=64]="AutoFocus",vt))(F$4||{}),T$2=(vt=>(vt[vt.Error=0]="Error",vt[vt.Overflow=1]="Overflow",vt[vt.Success=2]="Success",vt[vt.Underflow=3]="Underflow",vt))(T$2||{}),y$4=(vt=>(vt[vt.Previous=-1]="Previous",vt[vt.Next=1]="Next",vt))(y$4||{});function b$2(vt=document.body){return vt==null?[]:Array.from(vt.querySelectorAll(f$3)).sort((ht,bt)=>Math.sign((ht.tabIndex||Number.MAX_SAFE_INTEGER)-(bt.tabIndex||Number.MAX_SAFE_INTEGER)))}function S$3(vt=document.body){return vt==null?[]:Array.from(vt.querySelectorAll(p$2)).sort((ht,bt)=>Math.sign((ht.tabIndex||Number.MAX_SAFE_INTEGER)-(bt.tabIndex||Number.MAX_SAFE_INTEGER)))}var h$1=(vt=>(vt[vt.Strict=0]="Strict",vt[vt.Loose=1]="Loose",vt))(h$1||{});function A$2(vt,ht=0){var bt;return vt===((bt=u$7(vt))==null?void 0:bt.body)?!1:u$6(ht,{0(){return vt.matches(f$3)},1(){let _t=vt;for(;_t!==null;){if(_t.matches(f$3))return!0;_t=_t.parentElement}return!1}})}function G$1(vt){let ht=u$7(vt);o$4().nextFrame(()=>{ht&&!A$2(ht.activeElement,0)&&I$2(vt)})}var H$1=(vt=>(vt[vt.Keyboard=0]="Keyboard",vt[vt.Mouse=1]="Mouse",vt))(H$1||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",vt=>{vt.metaKey||vt.altKey||vt.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",vt=>{vt.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:vt.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$2(vt){vt==null||vt.focus({preventScroll:!0})}let w$2=["textarea","input"].join(",");function O(vt){var ht,bt;return(bt=(ht=vt==null?void 0:vt.matches)==null?void 0:ht.call(vt,w$2))!=null?bt:!1}function _$1(vt,ht=bt=>bt){return vt.slice().sort((bt,_t)=>{let xt=ht(bt),Et=ht(_t);if(xt===null||Et===null)return 0;let wt=xt.compareDocumentPosition(Et);return wt&Node.DOCUMENT_POSITION_FOLLOWING?-1:wt&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j$3(vt,ht){return P(b$2(),ht,{relativeTo:vt})}function P(vt,ht,{sorted:bt=!0,relativeTo:_t=null,skipElements:xt=[]}={}){let Et=Array.isArray(vt)?vt.length>0?vt[0].ownerDocument:document:vt.ownerDocument,wt=Array.isArray(vt)?bt?_$1(vt):vt:ht&64?S$3(vt):b$2(vt);xt.length>0&&wt.length>1&&(wt=wt.filter(Ft=>!xt.some(Lt=>Lt!=null&&"current"in Lt?(Lt==null?void 0:Lt.current)===Ft:Lt===Ft))),_t=_t??Et.activeElement;let At=(()=>{if(ht&5)return 1;if(ht&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),St=(()=>{if(ht&1)return 0;if(ht&2)return Math.max(0,wt.indexOf(_t))-1;if(ht&4)return Math.max(0,wt.indexOf(_t))+1;if(ht&8)return wt.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),kt=ht&32?{preventScroll:!0}:{},Rt=0,Pt=wt.length,Mt;do{if(Rt>=Pt||Rt+Pt<=0)return 0;let Ft=St+Rt;if(ht&16)Ft=(Ft+Pt)%Pt;else{if(Ft<0)return 3;if(Ft>=Pt)return 1}Mt=wt[Ft],Mt==null||Mt.focus(kt),Rt+=At}while(Mt!==Et.activeElement);return ht&6&&O(Mt)&&Mt.select(),2}function t$2(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$3(){return/Android/gi.test(window.navigator.userAgent)}function n$3(){return t$2()||i$3()}function i$2(vt,ht,bt,_t){let xt=s$4(bt);reactExports.useEffect(()=>{if(!vt)return;function Et(wt){xt.current(wt)}return document.addEventListener(ht,Et,_t),()=>document.removeEventListener(ht,Et,_t)},[vt,ht,_t])}function s$2(vt,ht,bt,_t){let xt=s$4(bt);reactExports.useEffect(()=>{if(!vt)return;function Et(wt){xt.current(wt)}return window.addEventListener(ht,Et,_t),()=>window.removeEventListener(ht,Et,_t)},[vt,ht,_t])}const d$3=30;function F$3(vt,ht,bt){let _t=x$2(vt,"outside-click"),xt=s$4(bt),Et=reactExports.useCallback(function(St,kt){if(St.defaultPrevented)return;let Rt=kt(St);if(Rt===null||!Rt.getRootNode().contains(Rt)||!Rt.isConnected)return;let Pt=function Mt(Ft){return typeof Ft=="function"?Mt(Ft()):Array.isArray(Ft)||Ft instanceof Set?Ft:[Ft]}(ht);for(let Mt of Pt){if(Mt===null)continue;let Ft=Mt instanceof HTMLElement?Mt:Mt.current;if(Ft!=null&&Ft.contains(Rt)||St.composed&&St.composedPath().includes(Ft))return}return!A$2(Rt,h$1.Loose)&&Rt.tabIndex!==-1&&St.preventDefault(),xt.current(St,Rt)},[xt]),wt=reactExports.useRef(null);i$2(_t,"pointerdown",St=>{var kt,Rt;wt.current=((Rt=(kt=St.composedPath)==null?void 0:kt.call(St))==null?void 0:Rt[0])||St.target},!0),i$2(_t,"mousedown",St=>{var kt,Rt;wt.current=((Rt=(kt=St.composedPath)==null?void 0:kt.call(St))==null?void 0:Rt[0])||St.target},!0),i$2(_t,"click",St=>{n$3()||wt.current&&(Et(St,()=>wt.current),wt.current=null)},!0);let At=reactExports.useRef({x:0,y:0});i$2(_t,"touchstart",St=>{At.current.x=St.touches[0].clientX,At.current.y=St.touches[0].clientY},!0),i$2(_t,"touchend",St=>{let kt={x:St.changedTouches[0].clientX,y:St.changedTouches[0].clientY};if(!(Math.abs(kt.x-At.current.x)>=d$3||Math.abs(kt.y-At.current.y)>=d$3))return Et(St,()=>St.target instanceof HTMLElement?St.target:null)},!0),s$2(_t,"blur",St=>Et(St,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function n$2(...vt){return reactExports.useMemo(()=>u$7(...vt),[...vt])}function i$1(vt){var ht;if(vt.type)return vt.type;let bt=(ht=vt.as)!=null?ht:"button";if(typeof bt=="string"&&bt.toLowerCase()==="button")return"button"}function T$1(vt,ht){let[bt,_t]=reactExports.useState(()=>i$1(vt));return n$4(()=>{_t(i$1(vt))},[vt.type,vt.as]),n$4(()=>{bt||ht.current&&ht.current instanceof HTMLButtonElement&&!ht.current.hasAttribute("type")&&_t("button")},[bt,ht]),bt}function d$2(){let vt;return{before({doc:ht}){var bt;let _t=ht.documentElement,xt=(bt=ht.defaultView)!=null?bt:window;vt=Math.max(0,xt.innerWidth-_t.clientWidth)},after({doc:ht,d:bt}){let _t=ht.documentElement,xt=Math.max(0,_t.clientWidth-_t.offsetWidth),Et=Math.max(0,vt-xt);bt.style(_t,"paddingRight",`${Et}px`)}}}function d$1(){return t$2()?{before({doc:vt,d:ht,meta:bt}){function _t(xt){return bt.containers.flatMap(Et=>Et()).some(Et=>Et.contains(xt))}ht.microTask(()=>{var xt;if(window.getComputedStyle(vt.documentElement).scrollBehavior!=="auto"){let At=o$4();At.style(vt.documentElement,"scrollBehavior","auto"),ht.add(()=>ht.microTask(()=>At.dispose()))}let Et=(xt=window.scrollY)!=null?xt:window.pageYOffset,wt=null;ht.addEventListener(vt,"click",At=>{if(At.target instanceof HTMLElement)try{let St=At.target.closest("a");if(!St)return;let{hash:kt}=new URL(St.href),Rt=vt.querySelector(kt);Rt&&!_t(Rt)&&(wt=Rt)}catch{}},!0),ht.addEventListener(vt,"touchstart",At=>{if(At.target instanceof HTMLElement)if(_t(At.target)){let St=At.target;for(;St.parentElement&&_t(St.parentElement);)St=St.parentElement;ht.style(St,"overscrollBehavior","contain")}else ht.style(At.target,"touchAction","none")}),ht.addEventListener(vt,"touchmove",At=>{if(At.target instanceof HTMLElement){if(At.target.tagName==="INPUT")return;if(_t(At.target)){let St=At.target;for(;St.parentElement&&St.dataset.headlessuiPortal!==""&&!(St.scrollHeight>St.clientHeight||St.scrollWidth>St.clientWidth);)St=St.parentElement;St.dataset.headlessuiPortal===""&&At.preventDefault()}else At.preventDefault()}},{passive:!1}),ht.add(()=>{var At;let St=(At=window.scrollY)!=null?At:window.pageYOffset;Et!==St&&window.scrollTo(0,Et),wt&&wt.isConnected&&(wt.scrollIntoView({block:"nearest"}),wt=null)})})}}:{}}function r$1(){return{before({doc:vt,d:ht}){ht.style(vt.documentElement,"overflow","hidden")}}}function m$2(vt){let ht={};for(let bt of vt)Object.assign(ht,bt(ht));return ht}let a$3=a$4(()=>new Map,{PUSH(vt,ht){var bt;let _t=(bt=this.get(vt))!=null?bt:{doc:vt,count:0,d:o$4(),meta:new Set};return _t.count++,_t.meta.add(ht),this.set(vt,_t),this},POP(vt,ht){let bt=this.get(vt);return bt&&(bt.count--,bt.meta.delete(ht)),this},SCROLL_PREVENT({doc:vt,d:ht,meta:bt}){let _t={doc:vt,d:ht,meta:m$2(bt)},xt=[d$1(),d$2(),r$1()];xt.forEach(({before:Et})=>Et==null?void 0:Et(_t)),xt.forEach(({after:Et})=>Et==null?void 0:Et(_t))},SCROLL_ALLOW({d:vt}){vt.dispose()},TEARDOWN({doc:vt}){this.delete(vt)}});a$3.subscribe(()=>{let vt=a$3.getSnapshot(),ht=new Map;for(let[bt]of vt)ht.set(bt,bt.documentElement.style.overflow);for(let bt of vt.values()){let _t=ht.get(bt.doc)==="hidden",xt=bt.count!==0;(xt&&!_t||!xt&&_t)&&a$3.dispatch(bt.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",bt),bt.count===0&&a$3.dispatch("TEARDOWN",bt)}});function a$2(vt,ht,bt=()=>({containers:[]})){let _t=o$1(a$3),xt=ht?_t.get(ht):void 0,Et=xt?xt.count>0:!1;return n$4(()=>{if(!(!ht||!vt))return a$3.dispatch("PUSH",ht,bt),()=>a$3.dispatch("POP",ht,bt)},[vt,ht]),Et}function f$2(vt,ht,bt=()=>[document.body]){let _t=x$2(vt,"scroll-lock");a$2(_t,ht,xt=>{var Et;return{containers:[...(Et=xt.containers)!=null?Et:[],bt]}})}function t$1(vt){return[vt.screenX,vt.screenY]}function u$2(){let vt=reactExports.useRef([-1,-1]);return{wasMoved(ht){let bt=t$1(ht);return vt.current[0]===bt[0]&&vt.current[1]===bt[1]?!1:(vt.current=bt,!0)},update(ht){vt.current=t$1(ht)}}}function l$2(vt){let ht={called:!1};return(...bt)=>{if(!ht.called)return ht.called=!0,vt(...bt)}}function c$4(vt=0){let[ht,bt]=reactExports.useState(vt),_t=reactExports.useCallback(St=>bt(St),[ht]),xt=reactExports.useCallback(St=>bt(kt=>kt|St),[ht]),Et=reactExports.useCallback(St=>(ht&St)===St,[ht]),wt=reactExports.useCallback(St=>bt(kt=>kt&~St),[bt]),At=reactExports.useCallback(St=>bt(kt=>kt^St),[bt]);return{flags:ht,setFlag:_t,addFlag:xt,hasFlag:Et,removeFlag:wt,toggleFlag:At}}var D$3=(vt=>(vt[vt.None=0]="None",vt[vt.Closed=1]="Closed",vt[vt.Enter=2]="Enter",vt[vt.Leave=4]="Leave",vt))(D$3||{});function A$1(vt){let ht={};for(let bt in vt)vt[bt]===!0&&(ht[`data-${bt}`]="");return ht}function V$1(vt,ht,bt,_t){let[xt,Et]=reactExports.useState(bt),{hasFlag:wt,addFlag:At,removeFlag:St}=c$4(vt&&xt?3:0),kt=reactExports.useRef(!1),Rt=reactExports.useRef(!1),Pt=p$4();return n$4(function Mt(){var Ft;if(!vt)return;bt&&Et(!0);let Lt=ht.current;return Lt?((Ft=void 0)==null||Ft.call(_t,bt),M$2(Lt,{inFlight:kt,prepare(){Rt.current?Rt.current=!1:Rt.current=kt.current,kt.current=!0,!Rt.current&&(bt?(At(3),St(4)):(At(4),St(2)))},run(){Rt.current?bt?(St(3),At(4)):(St(4),At(3)):bt?St(1):At(1)},done(){var Dt;Rt.current&&typeof Lt.getAnimations=="function"&&Lt.getAnimations().length>0||(kt.current=!1,St(7),bt||Et(!1),(Dt=void 0)==null||Dt.call(_t,bt))}})):bt?(At(3),Pt.nextFrame(()=>Mt())):void 0},[vt,bt,ht,Pt]),vt?[xt,{closed:wt(1),enter:wt(2),leave:wt(4),transition:wt(2)||wt(4)}]:[bt,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function M$2(vt,{prepare:ht,run:bt,done:_t,inFlight:xt}){let Et=o$4();return R(vt,{prepare:ht,inFlight:xt}),Et.nextFrame(()=>{Et.add(F$2(vt,_t)),bt()}),Et.dispose}function F$2(vt,ht){let bt=l$2(ht),_t=o$4();if(!vt)return _t.dispose;let{transitionDuration:xt,transitionDelay:Et}=getComputedStyle(vt),[wt,At]=[xt,Et].map(kt=>{let[Rt=0]=kt.split(",").filter(Boolean).map(Pt=>Pt.includes("ms")?parseFloat(Pt):parseFloat(Pt)*1e3).sort((Pt,Mt)=>Mt-Pt);return Rt}),St=wt+At;if(St!==0){let kt=_t.group(Rt=>{let Pt=Rt.setTimeout(()=>{bt(),Rt.dispose()},St);Rt.addEventListener(vt,"transitionrun",Mt=>{Mt.target===Mt.currentTarget&&(Pt(),Rt.addEventListener(vt,"transitioncancel",Ft=>{Ft.target===Ft.currentTarget&&(bt(),kt())}))})});_t.addEventListener(vt,"transitionend",Rt=>{Rt.target===Rt.currentTarget&&(bt(),_t.dispose())})}else bt();return _t.dispose}function R(vt,{inFlight:ht,prepare:bt}){if(ht!=null&&ht.current){bt();return}let _t=vt.style.transition;vt.style.transition="none",bt(),vt.offsetHeight,vt.style.transition=_t}function F$1(vt,{container:ht,accept:bt,walk:_t}){let xt=reactExports.useRef(bt),Et=reactExports.useRef(_t);reactExports.useEffect(()=>{xt.current=bt,Et.current=_t},[bt,_t]),n$4(()=>{if(!ht||!vt)return;let wt=u$7(ht);if(!wt)return;let At=xt.current,St=Et.current,kt=Object.assign(Pt=>At(Pt),{acceptNode:At}),Rt=wt.createTreeWalker(ht,NodeFilter.SHOW_ELEMENT,kt,!1);for(;Rt.nextNode();)St(Rt.currentNode)},[ht,vt,xt,Et])}function getNodeName(vt){return isNode(vt)?(vt.nodeName||"").toLowerCase():"#document"}function getWindow(vt){var ht;return(vt==null||(ht=vt.ownerDocument)==null?void 0:ht.defaultView)||window}function getDocumentElement(vt){var ht;return(ht=(isNode(vt)?vt.ownerDocument:vt.document)||window.document)==null?void 0:ht.documentElement}function isNode(vt){return vt instanceof Node||vt instanceof getWindow(vt).Node}function isElement(vt){return vt instanceof Element||vt instanceof getWindow(vt).Element}function isHTMLElement(vt){return vt instanceof HTMLElement||vt instanceof getWindow(vt).HTMLElement}function isShadowRoot(vt){return typeof ShadowRoot>"u"?!1:vt instanceof ShadowRoot||vt instanceof getWindow(vt).ShadowRoot}function isOverflowElement(vt){const{overflow:ht,overflowX:bt,overflowY:_t,display:xt}=getComputedStyle$1(vt);return/auto|scroll|overlay|hidden|clip/.test(ht+_t+bt)&&!["inline","contents"].includes(xt)}function isTableElement(vt){return["table","td","th"].includes(getNodeName(vt))}function isTopLayer(vt){return[":popover-open",":modal"].some(ht=>{try{return vt.matches(ht)}catch{return!1}})}function isContainingBlock(vt){const ht=isWebKit(),bt=getComputedStyle$1(vt);return bt.transform!=="none"||bt.perspective!=="none"||(bt.containerType?bt.containerType!=="normal":!1)||!ht&&(bt.backdropFilter?bt.backdropFilter!=="none":!1)||!ht&&(bt.filter?bt.filter!=="none":!1)||["transform","perspective","filter"].some(_t=>(bt.willChange||"").includes(_t))||["paint","layout","strict","content"].some(_t=>(bt.contain||"").includes(_t))}function getContainingBlock(vt){let ht=getParentNode(vt);for(;isHTMLElement(ht)&&!isLastTraversableNode(ht);){if(isTopLayer(ht))return null;if(isContainingBlock(ht))return ht;ht=getParentNode(ht)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(vt){return["html","body","#document"].includes(getNodeName(vt))}function getComputedStyle$1(vt){return getWindow(vt).getComputedStyle(vt)}function getNodeScroll(vt){return isElement(vt)?{scrollLeft:vt.scrollLeft,scrollTop:vt.scrollTop}:{scrollLeft:vt.pageXOffset,scrollTop:vt.pageYOffset}}function getParentNode(vt){if(getNodeName(vt)==="html")return vt;const ht=vt.assignedSlot||vt.parentNode||isShadowRoot(vt)&&vt.host||getDocumentElement(vt);return isShadowRoot(ht)?ht.host:ht}function getNearestOverflowAncestor(vt){const ht=getParentNode(vt);return isLastTraversableNode(ht)?vt.ownerDocument?vt.ownerDocument.body:vt.body:isHTMLElement(ht)&&isOverflowElement(ht)?ht:getNearestOverflowAncestor(ht)}function getOverflowAncestors(vt,ht,bt){var _t;ht===void 0&&(ht=[]),bt===void 0&&(bt=!0);const xt=getNearestOverflowAncestor(vt),Et=xt===((_t=vt.ownerDocument)==null?void 0:_t.body),wt=getWindow(xt);return Et?ht.concat(wt,wt.visualViewport||[],isOverflowElement(xt)?xt:[],wt.frameElement&&bt?getOverflowAncestors(wt.frameElement):[]):ht.concat(xt,getOverflowAncestors(xt,[],bt))}function getUserAgent(){const vt=navigator.userAgentData;return vt&&Array.isArray(vt.brands)?vt.brands.map(ht=>{let{brand:bt,version:_t}=ht;return bt+"/"+_t}).join(" "):navigator.userAgent}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=vt=>({x:vt,y:vt}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(vt,ht,bt){return max(vt,min(ht,bt))}function evaluate(vt,ht){return typeof vt=="function"?vt(ht):vt}function getSide(vt){return vt.split("-")[0]}function getAlignment(vt){return vt.split("-")[1]}function getOppositeAxis(vt){return vt==="x"?"y":"x"}function getAxisLength(vt){return vt==="y"?"height":"width"}function getSideAxis(vt){return["top","bottom"].includes(getSide(vt))?"y":"x"}function getAlignmentAxis(vt){return getOppositeAxis(getSideAxis(vt))}function getAlignmentSides(vt,ht,bt){bt===void 0&&(bt=!1);const _t=getAlignment(vt),xt=getAlignmentAxis(vt),Et=getAxisLength(xt);let wt=xt==="x"?_t===(bt?"end":"start")?"right":"left":_t==="start"?"bottom":"top";return ht.reference[Et]>ht.floating[Et]&&(wt=getOppositePlacement(wt)),[wt,getOppositePlacement(wt)]}function getExpandedPlacements(vt){const ht=getOppositePlacement(vt);return[getOppositeAlignmentPlacement(vt),ht,getOppositeAlignmentPlacement(ht)]}function getOppositeAlignmentPlacement(vt){return vt.replace(/start|end/g,ht=>oppositeAlignmentMap[ht])}function getSideList(vt,ht,bt){const _t=["left","right"],xt=["right","left"],Et=["top","bottom"],wt=["bottom","top"];switch(vt){case"top":case"bottom":return bt?ht?xt:_t:ht?_t:xt;case"left":case"right":return ht?Et:wt;default:return[]}}function getOppositeAxisPlacements(vt,ht,bt,_t){const xt=getAlignment(vt);let Et=getSideList(getSide(vt),bt==="start",_t);return xt&&(Et=Et.map(wt=>wt+"-"+xt),ht&&(Et=Et.concat(Et.map(getOppositeAlignmentPlacement)))),Et}function getOppositePlacement(vt){return vt.replace(/left|right|bottom|top/g,ht=>oppositeSideMap[ht])}function expandPaddingObject(vt){return{top:0,right:0,bottom:0,left:0,...vt}}function getPaddingObject(vt){return typeof vt!="number"?expandPaddingObject(vt):{top:vt,right:vt,bottom:vt,left:vt}}function rectToClientRect(vt){const{x:ht,y:bt,width:_t,height:xt}=vt;return{width:_t,height:xt,top:bt,left:ht,right:ht+_t,bottom:bt+xt,x:ht,y:bt}}function computeCoordsFromPlacement(vt,ht,bt){let{reference:_t,floating:xt}=vt;const Et=getSideAxis(ht),wt=getAlignmentAxis(ht),At=getAxisLength(wt),St=getSide(ht),kt=Et==="y",Rt=_t.x+_t.width/2-xt.width/2,Pt=_t.y+_t.height/2-xt.height/2,Mt=_t[At]/2-xt[At]/2;let Ft;switch(St){case"top":Ft={x:Rt,y:_t.y-xt.height};break;case"bottom":Ft={x:Rt,y:_t.y+_t.height};break;case"right":Ft={x:_t.x+_t.width,y:Pt};break;case"left":Ft={x:_t.x-xt.width,y:Pt};break;default:Ft={x:_t.x,y:_t.y}}switch(getAlignment(ht)){case"start":Ft[wt]-=Mt*(bt&&kt?-1:1);break;case"end":Ft[wt]+=Mt*(bt&&kt?-1:1);break}return Ft}const computePosition$1=async(vt,ht,bt)=>{const{placement:_t="bottom",strategy:xt="absolute",middleware:Et=[],platform:wt}=bt,At=Et.filter(Boolean),St=await(wt.isRTL==null?void 0:wt.isRTL(ht));let kt=await wt.getElementRects({reference:vt,floating:ht,strategy:xt}),{x:Rt,y:Pt}=computeCoordsFromPlacement(kt,_t,St),Mt=_t,Ft={},Lt=0;for(let Dt=0;Dt<At.length;Dt++){const{name:Nt,fn:$t}=At[Dt],{x:Ot,y:jt,data:Ut,reset:Bt}=await $t({x:Rt,y:Pt,initialPlacement:_t,placement:Mt,strategy:xt,middlewareData:Ft,rects:kt,platform:wt,elements:{reference:vt,floating:ht}});Rt=Ot??Rt,Pt=jt??Pt,Ft={...Ft,[Nt]:{...Ft[Nt],...Ut}},Bt&&Lt<=50&&(Lt++,typeof Bt=="object"&&(Bt.placement&&(Mt=Bt.placement),Bt.rects&&(kt=Bt.rects===!0?await wt.getElementRects({reference:vt,floating:ht,strategy:xt}):Bt.rects),{x:Rt,y:Pt}=computeCoordsFromPlacement(kt,Mt,St)),Dt=-1)}return{x:Rt,y:Pt,placement:Mt,strategy:xt,middlewareData:Ft}};async function detectOverflow$1(vt,ht){var bt;ht===void 0&&(ht={});const{x:_t,y:xt,platform:Et,rects:wt,elements:At,strategy:St}=vt,{boundary:kt="clippingAncestors",rootBoundary:Rt="viewport",elementContext:Pt="floating",altBoundary:Mt=!1,padding:Ft=0}=evaluate(ht,vt),Lt=getPaddingObject(Ft),Nt=At[Mt?Pt==="floating"?"reference":"floating":Pt],$t=rectToClientRect(await Et.getClippingRect({element:(bt=await(Et.isElement==null?void 0:Et.isElement(Nt)))==null||bt?Nt:Nt.contextElement||await(Et.getDocumentElement==null?void 0:Et.getDocumentElement(At.floating)),boundary:kt,rootBoundary:Rt,strategy:St})),Ot=Pt==="floating"?{x:_t,y:xt,width:wt.floating.width,height:wt.floating.height}:wt.reference,jt=await(Et.getOffsetParent==null?void 0:Et.getOffsetParent(At.floating)),Ut=await(Et.isElement==null?void 0:Et.isElement(jt))?await(Et.getScale==null?void 0:Et.getScale(jt))||{x:1,y:1}:{x:1,y:1},Bt=rectToClientRect(Et.convertOffsetParentRelativeRectToViewportRelativeRect?await Et.convertOffsetParentRelativeRectToViewportRelativeRect({elements:At,rect:Ot,offsetParent:jt,strategy:St}):Ot);return{top:($t.top-Bt.top+Lt.top)/Ut.y,bottom:(Bt.bottom-$t.bottom+Lt.bottom)/Ut.y,left:($t.left-Bt.left+Lt.left)/Ut.x,right:(Bt.right-$t.right+Lt.right)/Ut.x}}const flip$2=function(vt){return vt===void 0&&(vt={}),{name:"flip",options:vt,async fn(ht){var bt,_t;const{placement:xt,middlewareData:Et,rects:wt,initialPlacement:At,platform:St,elements:kt}=ht,{mainAxis:Rt=!0,crossAxis:Pt=!0,fallbackPlacements:Mt,fallbackStrategy:Ft="bestFit",fallbackAxisSideDirection:Lt="none",flipAlignment:Dt=!0,...Nt}=evaluate(vt,ht);if((bt=Et.arrow)!=null&&bt.alignmentOffset)return{};const $t=getSide(xt),Ot=getSideAxis(At),jt=getSide(At)===At,Ut=await(St.isRTL==null?void 0:St.isRTL(kt.floating)),Bt=Mt||(jt||!Dt?[getOppositePlacement(At)]:getExpandedPlacements(At)),Vt=Lt!=="none";!Mt&&Vt&&Bt.push(...getOppositeAxisPlacements(At,Dt,Lt,Ut));const zt=[At,...Bt],Gt=await detectOverflow$1(ht,Nt),en=[];let ln=((_t=Et.flip)==null?void 0:_t.overflows)||[];if(Rt&&en.push(Gt[$t]),Pt){const En=getAlignmentSides(xt,wt,Ut);en.push(Gt[En[0]],Gt[En[1]])}if(ln=[...ln,{placement:xt,overflows:en}],!en.every(En=>En<=0)){var Kt,on;const En=(((Kt=Et.flip)==null?void 0:Kt.index)||0)+1,gn=zt[En];if(gn)return{data:{index:En,overflows:ln},reset:{placement:gn}};let wn=(on=ln.filter(pn=>pn.overflows[0]<=0).sort((pn,sn)=>pn.overflows[1]-sn.overflows[1])[0])==null?void 0:on.placement;if(!wn)switch(Ft){case"bestFit":{var fn;const pn=(fn=ln.filter(sn=>{if(Vt){const Jt=getSideAxis(sn.placement);return Jt===Ot||Jt==="y"}return!0}).map(sn=>[sn.placement,sn.overflows.filter(Jt=>Jt>0).reduce((Jt,an)=>Jt+an,0)]).sort((sn,Jt)=>sn[1]-Jt[1])[0])==null?void 0:fn[0];pn&&(wn=pn);break}case"initialPlacement":wn=At;break}if(xt!==wn)return{reset:{placement:wn}}}return{}}}};async function convertValueToCoords(vt,ht){const{placement:bt,platform:_t,elements:xt}=vt,Et=await(_t.isRTL==null?void 0:_t.isRTL(xt.floating)),wt=getSide(bt),At=getAlignment(bt),St=getSideAxis(bt)==="y",kt=["left","top"].includes(wt)?-1:1,Rt=Et&&St?-1:1,Pt=evaluate(ht,vt);let{mainAxis:Mt,crossAxis:Ft,alignmentAxis:Lt}=typeof Pt=="number"?{mainAxis:Pt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Pt};return At&&typeof Lt=="number"&&(Ft=At==="end"?Lt*-1:Lt),St?{x:Ft*Rt,y:Mt*kt}:{x:Mt*kt,y:Ft*Rt}}const offset$2=function(vt){return vt===void 0&&(vt=0),{name:"offset",options:vt,async fn(ht){var bt,_t;const{x:xt,y:Et,placement:wt,middlewareData:At}=ht,St=await convertValueToCoords(ht,vt);return wt===((bt=At.offset)==null?void 0:bt.placement)&&(_t=At.arrow)!=null&&_t.alignmentOffset?{}:{x:xt+St.x,y:Et+St.y,data:{...St,placement:wt}}}}},shift$2=function(vt){return vt===void 0&&(vt={}),{name:"shift",options:vt,async fn(ht){const{x:bt,y:_t,placement:xt}=ht,{mainAxis:Et=!0,crossAxis:wt=!1,limiter:At={fn:Nt=>{let{x:$t,y:Ot}=Nt;return{x:$t,y:Ot}}},...St}=evaluate(vt,ht),kt={x:bt,y:_t},Rt=await detectOverflow$1(ht,St),Pt=getSideAxis(getSide(xt)),Mt=getOppositeAxis(Pt);let Ft=kt[Mt],Lt=kt[Pt];if(Et){const Nt=Mt==="y"?"top":"left",$t=Mt==="y"?"bottom":"right",Ot=Ft+Rt[Nt],jt=Ft-Rt[$t];Ft=clamp(Ot,Ft,jt)}if(wt){const Nt=Pt==="y"?"top":"left",$t=Pt==="y"?"bottom":"right",Ot=Lt+Rt[Nt],jt=Lt-Rt[$t];Lt=clamp(Ot,Lt,jt)}const Dt=At.fn({...ht,[Mt]:Ft,[Pt]:Lt});return{...Dt,data:{x:Dt.x-bt,y:Dt.y-_t}}}}},size$2=function(vt){return vt===void 0&&(vt={}),{name:"size",options:vt,async fn(ht){const{placement:bt,rects:_t,platform:xt,elements:Et}=ht,{apply:wt=()=>{},...At}=evaluate(vt,ht),St=await detectOverflow$1(ht,At),kt=getSide(bt),Rt=getAlignment(bt),Pt=getSideAxis(bt)==="y",{width:Mt,height:Ft}=_t.floating;let Lt,Dt;kt==="top"||kt==="bottom"?(Lt=kt,Dt=Rt===(await(xt.isRTL==null?void 0:xt.isRTL(Et.floating))?"start":"end")?"left":"right"):(Dt=kt,Lt=Rt==="end"?"top":"bottom");const Nt=Ft-St.top-St.bottom,$t=Mt-St.left-St.right,Ot=min(Ft-St[Lt],Nt),jt=min(Mt-St[Dt],$t),Ut=!ht.middlewareData.shift;let Bt=Ot,Vt=jt;if(Pt?Vt=Rt||Ut?min(jt,$t):$t:Bt=Rt||Ut?min(Ot,Nt):Nt,Ut&&!Rt){const Gt=max(St.left,0),en=max(St.right,0),ln=max(St.top,0),Kt=max(St.bottom,0);Pt?Vt=Mt-2*(Gt!==0||en!==0?Gt+en:max(St.left,St.right)):Bt=Ft-2*(ln!==0||Kt!==0?ln+Kt:max(St.top,St.bottom))}await wt({...ht,availableWidth:Vt,availableHeight:Bt});const zt=await xt.getDimensions(Et.floating);return Mt!==zt.width||Ft!==zt.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(vt){const ht=getComputedStyle$1(vt);let bt=parseFloat(ht.width)||0,_t=parseFloat(ht.height)||0;const xt=isHTMLElement(vt),Et=xt?vt.offsetWidth:bt,wt=xt?vt.offsetHeight:_t,At=round(bt)!==Et||round(_t)!==wt;return At&&(bt=Et,_t=wt),{width:bt,height:_t,$:At}}function unwrapElement(vt){return isElement(vt)?vt:vt.contextElement}function getScale(vt){const ht=unwrapElement(vt);if(!isHTMLElement(ht))return createCoords(1);const bt=ht.getBoundingClientRect(),{width:_t,height:xt,$:Et}=getCssDimensions(ht);let wt=(Et?round(bt.width):bt.width)/_t,At=(Et?round(bt.height):bt.height)/xt;return(!wt||!Number.isFinite(wt))&&(wt=1),(!At||!Number.isFinite(At))&&(At=1),{x:wt,y:At}}const noOffsets=createCoords(0);function getVisualOffsets(vt){const ht=getWindow(vt);return!isWebKit()||!ht.visualViewport?noOffsets:{x:ht.visualViewport.offsetLeft,y:ht.visualViewport.offsetTop}}function shouldAddVisualOffsets(vt,ht,bt){return ht===void 0&&(ht=!1),!bt||ht&&bt!==getWindow(vt)?!1:ht}function getBoundingClientRect(vt,ht,bt,_t){ht===void 0&&(ht=!1),bt===void 0&&(bt=!1);const xt=vt.getBoundingClientRect(),Et=unwrapElement(vt);let wt=createCoords(1);ht&&(_t?isElement(_t)&&(wt=getScale(_t)):wt=getScale(vt));const At=shouldAddVisualOffsets(Et,bt,_t)?getVisualOffsets(Et):createCoords(0);let St=(xt.left+At.x)/wt.x,kt=(xt.top+At.y)/wt.y,Rt=xt.width/wt.x,Pt=xt.height/wt.y;if(Et){const Mt=getWindow(Et),Ft=_t&&isElement(_t)?getWindow(_t):_t;let Lt=Mt,Dt=Lt.frameElement;for(;Dt&&_t&&Ft!==Lt;){const Nt=getScale(Dt),$t=Dt.getBoundingClientRect(),Ot=getComputedStyle$1(Dt),jt=$t.left+(Dt.clientLeft+parseFloat(Ot.paddingLeft))*Nt.x,Ut=$t.top+(Dt.clientTop+parseFloat(Ot.paddingTop))*Nt.y;St*=Nt.x,kt*=Nt.y,Rt*=Nt.x,Pt*=Nt.y,St+=jt,kt+=Ut,Lt=getWindow(Dt),Dt=Lt.frameElement}}return rectToClientRect({width:Rt,height:Pt,x:St,y:kt})}function convertOffsetParentRelativeRectToViewportRelativeRect(vt){let{elements:ht,rect:bt,offsetParent:_t,strategy:xt}=vt;const Et=xt==="fixed",wt=getDocumentElement(_t),At=ht?isTopLayer(ht.floating):!1;if(_t===wt||At&&Et)return bt;let St={scrollLeft:0,scrollTop:0},kt=createCoords(1);const Rt=createCoords(0),Pt=isHTMLElement(_t);if((Pt||!Pt&&!Et)&&((getNodeName(_t)!=="body"||isOverflowElement(wt))&&(St=getNodeScroll(_t)),isHTMLElement(_t))){const Mt=getBoundingClientRect(_t);kt=getScale(_t),Rt.x=Mt.x+_t.clientLeft,Rt.y=Mt.y+_t.clientTop}return{width:bt.width*kt.x,height:bt.height*kt.y,x:bt.x*kt.x-St.scrollLeft*kt.x+Rt.x,y:bt.y*kt.y-St.scrollTop*kt.y+Rt.y}}function getClientRects(vt){return Array.from(vt.getClientRects())}function getWindowScrollBarX(vt){return getBoundingClientRect(getDocumentElement(vt)).left+getNodeScroll(vt).scrollLeft}function getDocumentRect(vt){const ht=getDocumentElement(vt),bt=getNodeScroll(vt),_t=vt.ownerDocument.body,xt=max(ht.scrollWidth,ht.clientWidth,_t.scrollWidth,_t.clientWidth),Et=max(ht.scrollHeight,ht.clientHeight,_t.scrollHeight,_t.clientHeight);let wt=-bt.scrollLeft+getWindowScrollBarX(vt);const At=-bt.scrollTop;return getComputedStyle$1(_t).direction==="rtl"&&(wt+=max(ht.clientWidth,_t.clientWidth)-xt),{width:xt,height:Et,x:wt,y:At}}function getViewportRect(vt,ht){const bt=getWindow(vt),_t=getDocumentElement(vt),xt=bt.visualViewport;let Et=_t.clientWidth,wt=_t.clientHeight,At=0,St=0;if(xt){Et=xt.width,wt=xt.height;const kt=isWebKit();(!kt||kt&&ht==="fixed")&&(At=xt.offsetLeft,St=xt.offsetTop)}return{width:Et,height:wt,x:At,y:St}}function getInnerBoundingClientRect(vt,ht){const bt=getBoundingClientRect(vt,!0,ht==="fixed"),_t=bt.top+vt.clientTop,xt=bt.left+vt.clientLeft,Et=isHTMLElement(vt)?getScale(vt):createCoords(1),wt=vt.clientWidth*Et.x,At=vt.clientHeight*Et.y,St=xt*Et.x,kt=_t*Et.y;return{width:wt,height:At,x:St,y:kt}}function getClientRectFromClippingAncestor(vt,ht,bt){let _t;if(ht==="viewport")_t=getViewportRect(vt,bt);else if(ht==="document")_t=getDocumentRect(getDocumentElement(vt));else if(isElement(ht))_t=getInnerBoundingClientRect(ht,bt);else{const xt=getVisualOffsets(vt);_t={...ht,x:ht.x-xt.x,y:ht.y-xt.y}}return rectToClientRect(_t)}function hasFixedPositionAncestor(vt,ht){const bt=getParentNode(vt);return bt===ht||!isElement(bt)||isLastTraversableNode(bt)?!1:getComputedStyle$1(bt).position==="fixed"||hasFixedPositionAncestor(bt,ht)}function getClippingElementAncestors(vt,ht){const bt=ht.get(vt);if(bt)return bt;let _t=getOverflowAncestors(vt,[],!1).filter(At=>isElement(At)&&getNodeName(At)!=="body"),xt=null;const Et=getComputedStyle$1(vt).position==="fixed";let wt=Et?getParentNode(vt):vt;for(;isElement(wt)&&!isLastTraversableNode(wt);){const At=getComputedStyle$1(wt),St=isContainingBlock(wt);!St&&At.position==="fixed"&&(xt=null),(Et?!St&&!xt:!St&&At.position==="static"&&!!xt&&["absolute","fixed"].includes(xt.position)||isOverflowElement(wt)&&!St&&hasFixedPositionAncestor(vt,wt))?_t=_t.filter(Rt=>Rt!==wt):xt=At,wt=getParentNode(wt)}return ht.set(vt,_t),_t}function getClippingRect(vt){let{element:ht,boundary:bt,rootBoundary:_t,strategy:xt}=vt;const wt=[...bt==="clippingAncestors"?isTopLayer(ht)?[]:getClippingElementAncestors(ht,this._c):[].concat(bt),_t],At=wt[0],St=wt.reduce((kt,Rt)=>{const Pt=getClientRectFromClippingAncestor(ht,Rt,xt);return kt.top=max(Pt.top,kt.top),kt.right=min(Pt.right,kt.right),kt.bottom=min(Pt.bottom,kt.bottom),kt.left=max(Pt.left,kt.left),kt},getClientRectFromClippingAncestor(ht,At,xt));return{width:St.right-St.left,height:St.bottom-St.top,x:St.left,y:St.top}}function getDimensions(vt){const{width:ht,height:bt}=getCssDimensions(vt);return{width:ht,height:bt}}function getRectRelativeToOffsetParent(vt,ht,bt){const _t=isHTMLElement(ht),xt=getDocumentElement(ht),Et=bt==="fixed",wt=getBoundingClientRect(vt,!0,Et,ht);let At={scrollLeft:0,scrollTop:0};const St=createCoords(0);if(_t||!_t&&!Et)if((getNodeName(ht)!=="body"||isOverflowElement(xt))&&(At=getNodeScroll(ht)),_t){const Pt=getBoundingClientRect(ht,!0,Et,ht);St.x=Pt.x+ht.clientLeft,St.y=Pt.y+ht.clientTop}else xt&&(St.x=getWindowScrollBarX(xt));const kt=wt.left+At.scrollLeft-St.x,Rt=wt.top+At.scrollTop-St.y;return{x:kt,y:Rt,width:wt.width,height:wt.height}}function isStaticPositioned(vt){return getComputedStyle$1(vt).position==="static"}function getTrueOffsetParent(vt,ht){return!isHTMLElement(vt)||getComputedStyle$1(vt).position==="fixed"?null:ht?ht(vt):vt.offsetParent}function getOffsetParent(vt,ht){const bt=getWindow(vt);if(isTopLayer(vt))return bt;if(!isHTMLElement(vt)){let xt=getParentNode(vt);for(;xt&&!isLastTraversableNode(xt);){if(isElement(xt)&&!isStaticPositioned(xt))return xt;xt=getParentNode(xt)}return bt}let _t=getTrueOffsetParent(vt,ht);for(;_t&&isTableElement(_t)&&isStaticPositioned(_t);)_t=getTrueOffsetParent(_t,ht);return _t&&isLastTraversableNode(_t)&&isStaticPositioned(_t)&&!isContainingBlock(_t)?bt:_t||getContainingBlock(vt)||bt}const getElementRects=async function(vt){const ht=this.getOffsetParent||getOffsetParent,bt=this.getDimensions,_t=await bt(vt.floating);return{reference:getRectRelativeToOffsetParent(vt.reference,await ht(vt.floating),vt.strategy),floating:{x:0,y:0,width:_t.width,height:_t.height}}};function isRTL(vt){return getComputedStyle$1(vt).direction==="rtl"}const platform$2={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(vt,ht){let bt=null,_t;const xt=getDocumentElement(vt);function Et(){var At;clearTimeout(_t),(At=bt)==null||At.disconnect(),bt=null}function wt(At,St){At===void 0&&(At=!1),St===void 0&&(St=1),Et();const{left:kt,top:Rt,width:Pt,height:Mt}=vt.getBoundingClientRect();if(At||ht(),!Pt||!Mt)return;const Ft=floor(Rt),Lt=floor(xt.clientWidth-(kt+Pt)),Dt=floor(xt.clientHeight-(Rt+Mt)),Nt=floor(kt),Ot={rootMargin:-Ft+"px "+-Lt+"px "+-Dt+"px "+-Nt+"px",threshold:max(0,min(1,St))||1};let jt=!0;function Ut(Bt){const Vt=Bt[0].intersectionRatio;if(Vt!==St){if(!jt)return wt();Vt?wt(!1,Vt):_t=setTimeout(()=>{wt(!1,1e-7)},1e3)}jt=!1}try{bt=new IntersectionObserver(Ut,{...Ot,root:xt.ownerDocument})}catch{bt=new IntersectionObserver(Ut,Ot)}bt.observe(vt)}return wt(!0),Et}function autoUpdate(vt,ht,bt,_t){_t===void 0&&(_t={});const{ancestorScroll:xt=!0,ancestorResize:Et=!0,elementResize:wt=typeof ResizeObserver=="function",layoutShift:At=typeof IntersectionObserver=="function",animationFrame:St=!1}=_t,kt=unwrapElement(vt),Rt=xt||Et?[...kt?getOverflowAncestors(kt):[],...getOverflowAncestors(ht)]:[];Rt.forEach($t=>{xt&&$t.addEventListener("scroll",bt,{passive:!0}),Et&&$t.addEventListener("resize",bt)});const Pt=kt&&At?observeMove(kt,bt):null;let Mt=-1,Ft=null;wt&&(Ft=new ResizeObserver($t=>{let[Ot]=$t;Ot&&Ot.target===kt&&Ft&&(Ft.unobserve(ht),cancelAnimationFrame(Mt),Mt=requestAnimationFrame(()=>{var jt;(jt=Ft)==null||jt.observe(ht)})),bt()}),kt&&!St&&Ft.observe(kt),Ft.observe(ht));let Lt,Dt=St?getBoundingClientRect(vt):null;St&&Nt();function Nt(){const $t=getBoundingClientRect(vt);Dt&&($t.x!==Dt.x||$t.y!==Dt.y||$t.width!==Dt.width||$t.height!==Dt.height)&&bt(),Dt=$t,Lt=requestAnimationFrame(Nt)}return bt(),()=>{var $t;Rt.forEach(Ot=>{xt&&Ot.removeEventListener("scroll",bt),Et&&Ot.removeEventListener("resize",bt)}),Pt==null||Pt(),($t=Ft)==null||$t.disconnect(),Ft=null,St&&cancelAnimationFrame(Lt)}}const detectOverflow=detectOverflow$1,offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,computePosition=(vt,ht,bt)=>{const _t=new Map,xt={platform:platform$2,...bt},Et={...xt.platform,_c:_t};return computePosition$1(vt,ht,{...xt,platform:Et})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(vt,ht){if(vt===ht)return!0;if(typeof vt!=typeof ht)return!1;if(typeof vt=="function"&&vt.toString()===ht.toString())return!0;let bt,_t,xt;if(vt&&ht&&typeof vt=="object"){if(Array.isArray(vt)){if(bt=vt.length,bt!==ht.length)return!1;for(_t=bt;_t--!==0;)if(!deepEqual(vt[_t],ht[_t]))return!1;return!0}if(xt=Object.keys(vt),bt=xt.length,bt!==Object.keys(ht).length)return!1;for(_t=bt;_t--!==0;)if(!{}.hasOwnProperty.call(ht,xt[_t]))return!1;for(_t=bt;_t--!==0;){const Et=xt[_t];if(!(Et==="_owner"&&vt.$$typeof)&&!deepEqual(vt[Et],ht[Et]))return!1}return!0}return vt!==vt&&ht!==ht}function getDPR(vt){return typeof window>"u"?1:(vt.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(vt,ht){const bt=getDPR(vt);return Math.round(ht*bt)/bt}function useLatestRef(vt){const ht=reactExports.useRef(vt);return index$1(()=>{ht.current=vt}),ht}function useFloating$1(vt){vt===void 0&&(vt={});const{placement:ht="bottom",strategy:bt="absolute",middleware:_t=[],platform:xt,elements:{reference:Et,floating:wt}={},transform:At=!0,whileElementsMounted:St,open:kt}=vt,[Rt,Pt]=reactExports.useState({x:0,y:0,strategy:bt,placement:ht,middlewareData:{},isPositioned:!1}),[Mt,Ft]=reactExports.useState(_t);deepEqual(Mt,_t)||Ft(_t);const[Lt,Dt]=reactExports.useState(null),[Nt,$t]=reactExports.useState(null),Ot=reactExports.useCallback(pn=>{pn!==Vt.current&&(Vt.current=pn,Dt(pn))},[]),jt=reactExports.useCallback(pn=>{pn!==zt.current&&(zt.current=pn,$t(pn))},[]),Ut=Et||Lt,Bt=wt||Nt,Vt=reactExports.useRef(null),zt=reactExports.useRef(null),Gt=reactExports.useRef(Rt),en=St!=null,ln=useLatestRef(St),Kt=useLatestRef(xt),on=reactExports.useCallback(()=>{if(!Vt.current||!zt.current)return;const pn={placement:ht,strategy:bt,middleware:Mt};Kt.current&&(pn.platform=Kt.current),computePosition(Vt.current,zt.current,pn).then(sn=>{const Jt={...sn,isPositioned:!0};fn.current&&!deepEqual(Gt.current,Jt)&&(Gt.current=Jt,reactDomExports.flushSync(()=>{Pt(Jt)}))})},[Mt,ht,bt,Kt]);index$1(()=>{kt===!1&&Gt.current.isPositioned&&(Gt.current.isPositioned=!1,Pt(pn=>({...pn,isPositioned:!1})))},[kt]);const fn=reactExports.useRef(!1);index$1(()=>(fn.current=!0,()=>{fn.current=!1}),[]),index$1(()=>{if(Ut&&(Vt.current=Ut),Bt&&(zt.current=Bt),Ut&&Bt){if(ln.current)return ln.current(Ut,Bt,on);on()}},[Ut,Bt,on,ln,en]);const En=reactExports.useMemo(()=>({reference:Vt,floating:zt,setReference:Ot,setFloating:jt}),[Ot,jt]),gn=reactExports.useMemo(()=>({reference:Ut,floating:Bt}),[Ut,Bt]),wn=reactExports.useMemo(()=>{const pn={position:bt,left:0,top:0};if(!gn.floating)return pn;const sn=roundByDPR(gn.floating,Rt.x),Jt=roundByDPR(gn.floating,Rt.y);return At?{...pn,transform:"translate("+sn+"px, "+Jt+"px)",...getDPR(gn.floating)>=1.5&&{willChange:"transform"}}:{position:bt,left:sn,top:Jt}},[bt,At,gn.floating,Rt.x,Rt.y]);return reactExports.useMemo(()=>({...Rt,update:on,refs:En,elements:gn,floatingStyles:wn}),[Rt,on,En,gn,wn])}const offset=(vt,ht)=>({...offset$1(vt),options:[vt,ht]}),shift=(vt,ht)=>({...shift$1(vt),options:[vt,ht]}),flip=(vt,ht)=>({...flip$1(vt),options:[vt,ht]}),size=(vt,ht)=>({...size$1(vt),options:[vt,ht]}),SafeReact={...t$5},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(vt=>vt());function useEffectEvent(vt){const ht=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{ht.current=vt}),reactExports.useCallback(function(){for(var bt=arguments.length,_t=new Array(bt),xt=0;xt<bt;xt++)_t[xt]=arguments[xt];return ht.current==null?void 0:ht.current(..._t)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[vt,ht]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{vt==null&&ht(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),vt}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const vt=new Map;return{emit(ht,bt){var _t;(_t=vt.get(ht))==null||_t.forEach(xt=>xt(bt))},on(ht,bt){vt.set(ht,[...vt.get(ht)||[],bt])},off(ht,bt){var _t;vt.set(ht,((_t=vt.get(ht))==null?void 0:_t.filter(xt=>xt!==bt))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var vt;return((vt=reactExports.useContext(FloatingNodeContext))==null?void 0:vt.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(vt){const{open:ht=!1,onOpenChange:bt,elements:_t}=vt,xt=useId(),Et=reactExports.useRef({}),[wt]=reactExports.useState(()=>createPubSub()),At=useFloatingParentNodeId()!=null,[St,kt]=reactExports.useState(_t.reference),Rt=useEffectEvent((Ft,Lt,Dt)=>{Et.current.openEvent=Ft?Lt:void 0,wt.emit("openchange",{open:Ft,event:Lt,reason:Dt,nested:At}),bt==null||bt(Ft,Lt,Dt)}),Pt=reactExports.useMemo(()=>({setPositionReference:kt}),[]),Mt=reactExports.useMemo(()=>({reference:St||_t.reference||null,floating:_t.floating||null,domReference:_t.reference}),[St,_t.reference,_t.floating]);return reactExports.useMemo(()=>({dataRef:Et,open:ht,onOpenChange:Rt,elements:Mt,events:wt,floatingId:xt,refs:Pt}),[ht,Rt,Mt,wt,xt,Pt])}function useFloating(vt){vt===void 0&&(vt={});const{nodeId:ht}=vt,bt=useFloatingRootContext({...vt,elements:{reference:null,floating:null,...vt.elements}}),_t=vt.rootContext||bt,xt=_t.elements,[Et,wt]=reactExports.useState(null),[At,St]=reactExports.useState(null),Rt=(xt==null?void 0:xt.reference)||Et,Pt=reactExports.useRef(null),Mt=useFloatingTree();index(()=>{Rt&&(Pt.current=Rt)},[Rt]);const Ft=useFloating$1({...vt,elements:{...xt,...At&&{reference:At}}}),Lt=reactExports.useCallback(jt=>{const Ut=isElement(jt)?{getBoundingClientRect:()=>jt.getBoundingClientRect(),contextElement:jt}:jt;St(Ut),Ft.refs.setReference(Ut)},[Ft.refs]),Dt=reactExports.useCallback(jt=>{(isElement(jt)||jt===null)&&(Pt.current=jt,wt(jt)),(isElement(Ft.refs.reference.current)||Ft.refs.reference.current===null||jt!==null&&!isElement(jt))&&Ft.refs.setReference(jt)},[Ft.refs]),Nt=reactExports.useMemo(()=>({...Ft.refs,setReference:Dt,setPositionReference:Lt,domReference:Pt}),[Ft.refs,Dt,Lt]),$t=reactExports.useMemo(()=>({...Ft.elements,domReference:Rt}),[Ft.elements,Rt]),Ot=reactExports.useMemo(()=>({...Ft,..._t,refs:Nt,elements:$t,nodeId:ht}),[Ft,Nt,$t,ht,_t]);return index(()=>{_t.dataRef.current.floatingContext=Ot;const jt=Mt==null?void 0:Mt.nodesRef.current.find(Ut=>Ut.id===ht);jt&&(jt.context=Ot)}),reactExports.useMemo(()=>({...Ft,context:Ot,refs:Nt,elements:$t}),[Ft,Nt,$t,Ot])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps(vt,ht,bt){const _t=new Map,xt=bt==="item";let Et=vt;if(xt&&vt){const{[ACTIVE_KEY]:wt,[SELECTED_KEY]:At,...St}=vt;Et=St}return{...bt==="floating"&&{tabIndex:-1},...Et,...ht.map(wt=>{const At=wt?wt[bt]:null;return typeof At=="function"?vt?At(vt):null:At}).concat(vt).reduce((wt,At)=>(At&&Object.entries(At).forEach(St=>{let[kt,Rt]=St;if(!(xt&&[ACTIVE_KEY,SELECTED_KEY].includes(kt)))if(kt.indexOf("on")===0){if(_t.has(kt)||_t.set(kt,[]),typeof Rt=="function"){var Pt;(Pt=_t.get(kt))==null||Pt.push(Rt),wt[kt]=function(){for(var Mt,Ft=arguments.length,Lt=new Array(Ft),Dt=0;Dt<Ft;Dt++)Lt[Dt]=arguments[Dt];return(Mt=_t.get(kt))==null?void 0:Mt.map(Nt=>Nt(...Lt)).find(Nt=>Nt!==void 0)}}}else wt[kt]=Rt}),wt),{})}}function useInteractions(vt){vt===void 0&&(vt=[]);const ht=vt.map(At=>At==null?void 0:At.reference),bt=vt.map(At=>At==null?void 0:At.floating),_t=vt.map(At=>At==null?void 0:At.item),xt=reactExports.useCallback(At=>mergeProps(At,vt,"reference"),ht),Et=reactExports.useCallback(At=>mergeProps(At,vt,"floating"),bt),wt=reactExports.useCallback(At=>mergeProps(At,vt,"item"),_t);return reactExports.useMemo(()=>({getReferenceProps:xt,getFloatingProps:Et,getItemProps:wt}),[xt,Et,wt])}function getArgsWithCustomFloatingHeight(vt,ht){return{...vt,rects:{...vt.rects,floating:{...vt.rects.floating,height:ht}}}}const inner=vt=>({name:"inner",options:vt,async fn(ht){const{listRef:bt,overflowRef:_t,onFallbackChange:xt,offset:Et=0,index:wt=0,minItemsVisible:At=4,referenceOverflowThreshold:St=0,scrollRef:kt,...Rt}=evaluate(vt,ht),{rects:Pt,elements:{floating:Mt}}=ht,Ft=bt.current[wt];if(!Ft)return{};const Lt={...ht,...await offset(-Ft.offsetTop-Mt.clientTop-Pt.reference.height/2-Ft.offsetHeight/2-Et).fn(ht)},Dt=(kt==null?void 0:kt.current)||Mt,Nt=await detectOverflow(getArgsWithCustomFloatingHeight(Lt,Dt.scrollHeight),Rt),$t=await detectOverflow(Lt,{...Rt,elementContext:"reference"}),Ot=Math.max(0,Nt.top),jt=Lt.y+Ot,Ut=Math.max(0,Dt.scrollHeight-Ot-Math.max(0,Nt.bottom));return Dt.style.maxHeight=Ut+"px",Dt.scrollTop=Ot,xt&&(Dt.offsetHeight<Ft.offsetHeight*Math.min(At,bt.current.length-1)-1||$t.top>=-St||$t.bottom>=-St?reactDomExports.flushSync(()=>xt(!0)):reactDomExports.flushSync(()=>xt(!1))),_t&&(_t.current=await detectOverflow(getArgsWithCustomFloatingHeight({...Lt,y:jt},Dt.offsetHeight),Rt)),{y:jt}}});function useInnerOffset(vt,ht){const{open:bt,elements:_t}=vt,{enabled:xt=!0,overflowRef:Et,scrollRef:wt,onChange:At}=ht,St=useEffectEvent(At),kt=reactExports.useRef(!1),Rt=reactExports.useRef(null),Pt=reactExports.useRef(null);reactExports.useEffect(()=>{if(!xt)return;function Ft(Dt){if(Dt.ctrlKey||!Lt||Et.current==null)return;const Nt=Dt.deltaY,$t=Et.current.top>=-.5,Ot=Et.current.bottom>=-.5,jt=Lt.scrollHeight-Lt.clientHeight,Ut=Nt<0?-1:1,Bt=Nt<0?"max":"min";Lt.scrollHeight<=Lt.clientHeight||(!$t&&Nt>0||!Ot&&Nt<0?(Dt.preventDefault(),reactDomExports.flushSync(()=>{St(Vt=>Vt+Math[Bt](Nt,jt*Ut))})):/firefox/i.test(getUserAgent())&&(Lt.scrollTop+=Nt))}const Lt=(wt==null?void 0:wt.current)||_t.floating;if(bt&&Lt)return Lt.addEventListener("wheel",Ft),requestAnimationFrame(()=>{Rt.current=Lt.scrollTop,Et.current!=null&&(Pt.current={...Et.current})}),()=>{Rt.current=null,Pt.current=null,Lt.removeEventListener("wheel",Ft)}},[xt,bt,_t.floating,Et,wt,St]);const Mt=reactExports.useMemo(()=>({onKeyDown(){kt.current=!0},onWheel(){kt.current=!1},onPointerMove(){kt.current=!1},onScroll(){const Ft=(wt==null?void 0:wt.current)||_t.floating;if(!(!Et.current||!Ft||!kt.current)){if(Rt.current!==null){const Lt=Ft.scrollTop-Rt.current;(Et.current.bottom<-.5&&Lt<-1||Et.current.top<-.5&&Lt>1)&&reactDomExports.flushSync(()=>St(Dt=>Dt+Lt))}requestAnimationFrame(()=>{Rt.current=Ft.scrollTop})}}}),[_t.floating,St,Et,wt]);return reactExports.useMemo(()=>xt?{floating:Mt}:{},[xt,Mt])}let y$3=reactExports.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y$3.displayName="FloatingContext";let S$2=reactExports.createContext(null);S$2.displayName="PlacementContext";function xe$1(vt){return reactExports.useMemo(()=>vt?typeof vt=="string"?{to:vt}:vt:null,[vt])}function ye$1(){return reactExports.useContext(y$3).setReference}function Fe$1(){return reactExports.useContext(y$3).getReferenceProps}function be$1(){let{getFloatingProps:vt,slot:ht}=reactExports.useContext(y$3);return reactExports.useCallback((...bt)=>Object.assign({},vt(...bt),{"data-anchor":ht.anchor}),[vt,ht])}function Re$1(vt=null){vt===!1&&(vt=null),typeof vt=="string"&&(vt={to:vt});let ht=reactExports.useContext(S$2),bt=reactExports.useMemo(()=>vt,[JSON.stringify(vt,typeof HTMLElement<"u"?(xt,Et)=>Et instanceof HTMLElement?Et.outerHTML:Et:void 0)]);n$4(()=>{ht==null||ht(bt??null)},[ht,bt]);let _t=reactExports.useContext(y$3);return reactExports.useMemo(()=>[_t.setFloating,vt?_t.styles:{}],[_t.setFloating,vt,_t.styles])}let q$2=4;function ve$1({children:vt,enabled:ht=!0}){let[bt,_t]=reactExports.useState(null),[xt,Et]=reactExports.useState(0),wt=reactExports.useRef(null),[At,St]=reactExports.useState(null);pe$1(At);let kt=ht&&bt!==null&&At!==null,{to:Rt="bottom",gap:Pt=0,offset:Mt=0,padding:Ft=0,inner:Lt}=ce$1(bt,At),[Dt,Nt="center"]=Rt.split(" ");n$4(()=>{kt&&Et(0)},[kt]);let{refs:$t,floatingStyles:Ot,context:jt}=useFloating({open:kt,placement:Dt==="selection"?Nt==="center"?"bottom":`bottom-${Nt}`:Nt==="center"?`${Dt}`:`${Dt}-${Nt}`,strategy:"absolute",transform:!1,middleware:[offset({mainAxis:Dt==="selection"?0:Pt,crossAxis:Mt}),shift({padding:Ft}),Dt!=="selection"&&flip({padding:Ft}),Dt==="selection"&&Lt?inner({...Lt,padding:Ft,overflowRef:wt,offset:xt,minItemsVisible:q$2,referenceOverflowThreshold:Ft,onFallbackChange(Kt){var on,fn;if(!Kt)return;let En=jt.elements.floating;if(!En)return;let gn=parseFloat(getComputedStyle(En).scrollPaddingBottom)||0,wn=Math.min(q$2,En.childElementCount),pn=0,sn=0;for(let Jt of(fn=(on=jt.elements.floating)==null?void 0:on.childNodes)!=null?fn:[])if(Jt instanceof HTMLElement){let an=Jt.offsetTop,vn=an+Jt.clientHeight+gn,tn=En.scrollTop,Ht=tn+En.clientHeight;if(an>=tn&&vn<=Ht)wn--;else{sn=Math.max(0,Math.min(vn,Ht)-Math.max(an,tn)),pn=Jt.clientHeight;break}}wn>=1&&Et(Jt=>{let an=pn*wn-sn+gn;return Jt>=an?Jt:an})}}):null,size({padding:Ft,apply({availableWidth:Kt,availableHeight:on,elements:fn}){Object.assign(fn.floating.style,{overflow:"auto",maxWidth:`${Kt}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${on}px)`})}})].filter(Boolean),whileElementsMounted:autoUpdate}),[Ut=Dt,Bt=Nt]=jt.placement.split("-");Dt==="selection"&&(Ut="selection");let Vt=reactExports.useMemo(()=>({anchor:[Ut,Bt].filter(Boolean).join(" ")}),[Ut,Bt]),zt=useInnerOffset(jt,{overflowRef:wt,onChange:Et}),{getReferenceProps:Gt,getFloatingProps:en}=useInteractions([zt]),ln=o$3(Kt=>{St(Kt),$t.setFloating(Kt)});return reactExports.createElement(S$2.Provider,{value:_t},reactExports.createElement(y$3.Provider,{value:{setFloating:ln,setReference:$t.setReference,styles:Ot,getReferenceProps:Gt,getFloatingProps:en,slot:Vt}},vt))}function pe$1(vt){n$4(()=>{if(!vt)return;let ht=new MutationObserver(()=>{let bt=vt.style.maxHeight;parseFloat(bt)!==parseInt(bt)&&(vt.style.maxHeight=`${Math.ceil(parseFloat(bt))}px`)});return ht.observe(vt,{attributes:!0,attributeFilter:["style"]}),()=>{ht.disconnect()}},[vt])}function ce$1(vt,ht){var bt,_t,xt;let Et=L$1((bt=vt==null?void 0:vt.gap)!=null?bt:"var(--anchor-gap, 0)",ht),wt=L$1((_t=vt==null?void 0:vt.offset)!=null?_t:"var(--anchor-offset, 0)",ht),At=L$1((xt=vt==null?void 0:vt.padding)!=null?xt:"var(--anchor-padding, 0)",ht);return{...vt,gap:Et,offset:wt,padding:At}}function L$1(vt,ht,bt=void 0){let _t=p$4(),xt=o$3((St,kt)=>{if(St==null)return[bt,null];if(typeof St=="number")return[St,null];if(typeof St=="string"){if(!kt)return[bt,null];let Rt=J$2(St,kt);return[Rt,Pt=>{let Mt=D$2(St);{let Ft=Mt.map(Lt=>window.getComputedStyle(kt).getPropertyValue(Lt));_t.requestAnimationFrame(function Lt(){_t.nextFrame(Lt);let Dt=!1;for(let[$t,Ot]of Mt.entries()){let jt=window.getComputedStyle(kt).getPropertyValue(Ot);if(Ft[$t]!==jt){Ft[$t]=jt,Dt=!0;break}}if(!Dt)return;let Nt=J$2(St,kt);Rt!==Nt&&(Pt(Nt),Rt=Nt)})}return _t.dispose}]}return[bt,null]}),Et=reactExports.useMemo(()=>xt(vt,ht)[0],[vt,ht]),[wt=Et,At]=reactExports.useState();return n$4(()=>{let[St,kt]=xt(vt,ht);if(At(St),!!kt)return kt(At)},[vt,ht]),wt}function D$2(vt){let ht=/var\((.*)\)/.exec(vt);if(ht){let bt=ht[1].indexOf(",");if(bt===-1)return[ht[1]];let _t=ht[1].slice(0,bt).trim(),xt=ht[1].slice(bt+1).trim();return xt?[_t,...D$2(xt)]:[_t]}return[]}function J$2(vt,ht){let bt=document.createElement("div");ht.appendChild(bt),bt.style.setProperty("margin-top","0px","important"),bt.style.setProperty("margin-top",vt,"important");let _t=parseFloat(window.getComputedStyle(bt).marginTop)||0;return ht.removeChild(bt),_t}let n$1=reactExports.createContext(null);n$1.displayName="OpenClosedContext";var i=(vt=>(vt[vt.Open=1]="Open",vt[vt.Closed=2]="Closed",vt[vt.Closing=4]="Closing",vt[vt.Opening=8]="Opening",vt))(i||{});function u$1(){return reactExports.useContext(n$1)}function c$3({value:vt,children:ht}){return React.createElement(n$1.Provider,{value:vt},ht)}function u(vt){throw new Error("Unexpected object: "+vt)}var c$2=(vt=>(vt[vt.First=0]="First",vt[vt.Previous=1]="Previous",vt[vt.Next=2]="Next",vt[vt.Last=3]="Last",vt[vt.Specific=4]="Specific",vt[vt.Nothing=5]="Nothing",vt))(c$2||{});function f$1(vt,ht){let bt=ht.resolveItems();if(bt.length<=0)return null;let _t=ht.resolveActiveIndex(),xt=_t??-1;switch(vt.focus){case 0:{for(let Et=0;Et<bt.length;++Et)if(!ht.resolveDisabled(bt[Et],Et,bt))return Et;return _t}case 1:{xt===-1&&(xt=bt.length);for(let Et=xt-1;Et>=0;--Et)if(!ht.resolveDisabled(bt[Et],Et,bt))return Et;return _t}case 2:{for(let Et=xt+1;Et<bt.length;++Et)if(!ht.resolveDisabled(bt[Et],Et,bt))return Et;return _t}case 3:{for(let Et=bt.length-1;Et>=0;--Et)if(!ht.resolveDisabled(bt[Et],Et,bt))return Et;return _t}case 4:{for(let Et=0;Et<bt.length;++Et)if(ht.resolveId(bt[Et],Et,bt)===vt.id)return Et;return _t}case 5:return null;default:u(vt)}}function c$1(vt){let ht=o$3(vt),bt=reactExports.useRef(!1);reactExports.useEffect(()=>(bt.current=!1,()=>{bt.current=!0,t$4(()=>{bt.current&&ht()})}),[ht])}function s$1(){let vt=typeof document>"u";return"useSyncExternalStore"in t$5?(ht=>ht.useSyncExternalStore)(t$5)(()=>()=>{},()=>!1,()=>!vt):!1}function l$1(){let vt=s$1(),[ht,bt]=reactExports.useState(s$5.isHandoffComplete);return ht&&s$5.isHandoffComplete===!1&&bt(!1),reactExports.useEffect(()=>{ht!==!0&&bt(!0)},[ht]),reactExports.useEffect(()=>s$5.handoff(),[]),vt?!1:ht}let e$1=reactExports.createContext(!1);function a$1(){return reactExports.useContext(e$1)}function D$1(vt){let ht=a$1(),bt=reactExports.useContext(v$2),_t=n$2(vt),[xt,Et]=reactExports.useState(()=>{var wt;if(!ht&&bt!==null)return(wt=bt.current)!=null?wt:null;if(s$5.isServer)return null;let At=_t==null?void 0:_t.getElementById("headlessui-portal-root");if(At)return At;if(_t===null)return null;let St=_t.createElement("div");return St.setAttribute("id","headlessui-portal-root"),_t.body.appendChild(St)});return reactExports.useEffect(()=>{xt!==null&&(_t!=null&&_t.body.contains(xt)||_t==null||_t.body.appendChild(xt))},[xt,_t]),reactExports.useEffect(()=>{ht||bt!==null&&Et(bt.current)},[bt,Et,ht]),xt}let M$1=reactExports.Fragment,N$1=I$4(function(vt,ht){let bt=vt,_t=reactExports.useRef(null),xt=y$6(T$3(Rt=>{_t.current=Rt}),ht),Et=n$2(_t),wt=D$1(_t),[At]=reactExports.useState(()=>{var Rt;return s$5.isServer?null:(Rt=Et==null?void 0:Et.createElement("div"))!=null?Rt:null}),St=reactExports.useContext(y$2),kt=l$1();return n$4(()=>{!wt||!At||wt.contains(At)||(At.setAttribute("data-headlessui-portal",""),wt.appendChild(At))},[wt,At]),n$4(()=>{if(At&&St)return St.register(At)},[St,At]),c$1(()=>{var Rt;!wt||!At||(At instanceof Node&&wt.contains(At)&&wt.removeChild(At),wt.childNodes.length<=0&&((Rt=wt.parentElement)==null||Rt.removeChild(wt)))}),kt?!wt||!At?null:reactDomExports.createPortal(H$2({ourProps:{ref:xt},theirProps:bt,slot:{},defaultTag:M$1,name:"Portal"}),At):null});function S$1(vt,ht){let bt=y$6(ht),{enabled:_t=!0,...xt}=vt;return _t?React.createElement(N$1,{...xt,ref:bt}):H$2({ourProps:{ref:bt},theirProps:xt,slot:{},defaultTag:M$1,name:"Portal"})}let j$2=reactExports.Fragment,v$2=reactExports.createContext(null);function W$2(vt,ht){let{target:bt,..._t}=vt,xt={ref:y$6(ht)};return React.createElement(v$2.Provider,{value:bt},H$2({ourProps:xt,theirProps:_t,defaultTag:j$2,name:"Popover.Group"}))}let y$2=reactExports.createContext(null),I$1=I$4(S$1),J$1=I$4(W$2),te$1=Object.assign(I$1,{Group:J$1});function p$1(vt,ht){let bt=reactExports.useRef({left:0,top:0});if(n$4(()=>{let xt=ht.current;if(!xt)return;let Et=xt.getBoundingClientRect();Et&&(bt.current=Et)},[vt]),ht.current==null||!vt||ht.current===document.activeElement)return!1;let _t=ht.current.getBoundingClientRect();return _t.top!==bt.current.top||_t.left!==bt.current.left}let a=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o(vt){var ht,bt;let _t=(ht=vt.innerText)!=null?ht:"",xt=vt.cloneNode(!0);if(!(xt instanceof HTMLElement))return _t;let Et=!1;for(let At of xt.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))At.remove(),Et=!0;let wt=Et?(bt=xt.innerText)!=null?bt:"":_t;return a.test(wt)&&(wt=wt.replace(a,"")),wt}function g$2(vt){let ht=vt.getAttribute("aria-label");if(typeof ht=="string")return ht.trim();let bt=vt.getAttribute("aria-labelledby");if(bt){let _t=bt.split(" ").map(xt=>{let Et=document.getElementById(xt);if(Et){let wt=Et.getAttribute("aria-label");return typeof wt=="string"?wt.trim():o(Et).trim()}return null}).filter(Boolean);if(_t.length>0)return _t.join(", ")}return o(vt).trim()}function s(vt){let ht=reactExports.useRef(""),bt=reactExports.useRef("");return o$3(()=>{let _t=vt.current;if(!_t)return"";let xt=_t.innerText;if(ht.current===xt)return bt.current;let Et=g$2(_t).trim().toLowerCase();return ht.current=xt,bt.current=Et,Et})}var Je=(vt=>(vt[vt.Open=0]="Open",vt[vt.Closed=1]="Closed",vt))(Je||{}),Ve$1=(vt=>(vt[vt.Pointer=0]="Pointer",vt[vt.Other=1]="Other",vt))(Ve$1||{}),Xe=(vt=>(vt[vt.OpenMenu=0]="OpenMenu",vt[vt.CloseMenu=1]="CloseMenu",vt[vt.GoToItem=2]="GoToItem",vt[vt.Search=3]="Search",vt[vt.ClearSearch=4]="ClearSearch",vt[vt.RegisterItem=5]="RegisterItem",vt[vt.UnregisterItem=6]="UnregisterItem",vt))(Xe||{});function W$1(vt,ht=bt=>bt){let bt=vt.activeItemIndex!==null?vt.items[vt.activeItemIndex]:null,_t=_$1(ht(vt.items.slice()),Et=>Et.dataRef.current.domRef.current),xt=bt?_t.indexOf(bt):null;return xt===-1&&(xt=null),{items:_t,activeItemIndex:xt}}let $e={1(vt){return vt.menuState===1?vt:{...vt,activeItemIndex:null,menuState:1}},0(vt){return vt.menuState===0?vt:{...vt,__demoMode:!1,menuState:0}},2:(vt,ht)=>{var bt,_t,xt,Et,wt;if(vt.menuState===1)return vt;let At={...vt,searchQuery:"",activationTrigger:(bt=ht.trigger)!=null?bt:1,__demoMode:!1};if(ht.focus===c$2.Nothing)return{...At,activeItemIndex:null};if(ht.focus===c$2.Specific)return{...At,activeItemIndex:vt.items.findIndex(Rt=>Rt.id===ht.id)};if(ht.focus===c$2.Previous){let Rt=vt.activeItemIndex;if(Rt!==null){let Pt=vt.items[Rt].dataRef.current.domRef,Mt=f$1(ht,{resolveItems:()=>vt.items,resolveActiveIndex:()=>vt.activeItemIndex,resolveId:Ft=>Ft.id,resolveDisabled:Ft=>Ft.dataRef.current.disabled});if(Mt!==null){let Ft=vt.items[Mt].dataRef.current.domRef;if(((_t=Pt.current)==null?void 0:_t.previousElementSibling)===Ft.current||((xt=Ft.current)==null?void 0:xt.previousElementSibling)===null)return{...At,activeItemIndex:Mt}}}}else if(ht.focus===c$2.Next){let Rt=vt.activeItemIndex;if(Rt!==null){let Pt=vt.items[Rt].dataRef.current.domRef,Mt=f$1(ht,{resolveItems:()=>vt.items,resolveActiveIndex:()=>vt.activeItemIndex,resolveId:Ft=>Ft.id,resolveDisabled:Ft=>Ft.dataRef.current.disabled});if(Mt!==null){let Ft=vt.items[Mt].dataRef.current.domRef;if(((Et=Pt.current)==null?void 0:Et.nextElementSibling)===Ft.current||((wt=Ft.current)==null?void 0:wt.nextElementSibling)===null)return{...At,activeItemIndex:Mt}}}}let St=W$1(vt),kt=f$1(ht,{resolveItems:()=>St.items,resolveActiveIndex:()=>St.activeItemIndex,resolveId:Rt=>Rt.id,resolveDisabled:Rt=>Rt.dataRef.current.disabled});return{...At,...St,activeItemIndex:kt}},3:(vt,ht)=>{let bt=vt.searchQuery!==""?0:1,_t=vt.searchQuery+ht.value.toLowerCase(),xt=(vt.activeItemIndex!==null?vt.items.slice(vt.activeItemIndex+bt).concat(vt.items.slice(0,vt.activeItemIndex+bt)):vt.items).find(wt=>{var At;return((At=wt.dataRef.current.textValue)==null?void 0:At.startsWith(_t))&&!wt.dataRef.current.disabled}),Et=xt?vt.items.indexOf(xt):-1;return Et===-1||Et===vt.activeItemIndex?{...vt,searchQuery:_t}:{...vt,searchQuery:_t,activeItemIndex:Et,activationTrigger:1}},4(vt){return vt.searchQuery===""?vt:{...vt,searchQuery:"",searchActiveItemIndex:null}},5:(vt,ht)=>{let bt=W$1(vt,_t=>[..._t,{id:ht.id,dataRef:ht.dataRef}]);return{...vt,...bt}},6:(vt,ht)=>{let bt=W$1(vt,_t=>{let xt=_t.findIndex(Et=>Et.id===ht.id);return xt!==-1&&_t.splice(xt,1),_t});return{...vt,...bt,activationTrigger:1}}},j$1=reactExports.createContext(null);j$1.displayName="MenuContext";function B$1(vt){let ht=reactExports.useContext(j$1);if(ht===null){let bt=new Error(`<${vt} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(bt,B$1),bt}return ht}function qe$1(vt,ht){return u$6(ht.type,$e,vt,ht)}let ze$1=reactExports.Fragment;function Ye$1(vt,ht){let{__demoMode:bt=!1,..._t}=vt,xt=reactExports.useReducer(qe$1,{__demoMode:bt,menuState:bt?0:1,buttonRef:reactExports.createRef(),itemsRef:reactExports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:Et,itemsRef:wt,buttonRef:At},St]=xt,kt=y$6(ht);F$3(Et===0,[At,wt],(Ft,Lt)=>{var Dt;St({type:1}),A$2(Lt,h$1.Loose)||(Ft.preventDefault(),(Dt=At.current)==null||Dt.focus())});let Rt=o$3(()=>{St({type:1})}),Pt=reactExports.useMemo(()=>({open:Et===0,close:Rt}),[Et,Rt]),Mt={ref:kt};return React.createElement(ve$1,null,React.createElement(j$1.Provider,{value:xt},React.createElement(c$3,{value:u$6(Et,{0:i.Open,1:i.Closed})},H$2({ourProps:Mt,theirProps:_t,slot:Pt,defaultTag:ze$1,name:"Menu"}))))}let Ze="button";function et(vt,ht){var bt;let _t=reactExports.useId(),{id:xt=`headlessui-menu-button-${_t}`,disabled:Et=!1,autoFocus:wt=!1,...At}=vt,[St,kt]=B$1("Menu.Button"),Rt=Fe$1(),Pt=y$6(St.buttonRef,ht,ye$1()),Mt=o$3(zt=>{switch(zt.key){case o$2.Space:case o$2.Enter:case o$2.ArrowDown:zt.preventDefault(),zt.stopPropagation(),reactDomExports.flushSync(()=>kt({type:0})),kt({type:2,focus:c$2.First});break;case o$2.ArrowUp:zt.preventDefault(),zt.stopPropagation(),reactDomExports.flushSync(()=>kt({type:0})),kt({type:2,focus:c$2.Last});break}}),Ft=o$3(zt=>{switch(zt.key){case o$2.Space:zt.preventDefault();break}}),Lt=o$3(zt=>{var Gt;if(r$2(zt.currentTarget))return zt.preventDefault();Et||(St.menuState===0?(reactDomExports.flushSync(()=>kt({type:1})),(Gt=St.buttonRef.current)==null||Gt.focus({preventScroll:!0})):(zt.preventDefault(),kt({type:0})))}),{isFocusVisible:Dt,focusProps:Nt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:wt}),{isHovered:$t,hoverProps:Ot}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:Et}),{pressed:jt,pressProps:Ut}=w$3({disabled:Et}),Bt=reactExports.useMemo(()=>({open:St.menuState===0,active:jt||St.menuState===0,disabled:Et,hover:$t,focus:Dt,autofocus:wt}),[St,$t,Dt,jt,Et,wt]),Vt=D$4(Rt(),{ref:Pt,id:xt,type:T$1(vt,St.buttonRef),"aria-haspopup":"menu","aria-controls":(bt=St.itemsRef.current)==null?void 0:bt.id,"aria-expanded":St.menuState===0,disabled:Et||void 0,autoFocus:wt,onKeyDown:Mt,onKeyUp:Ft,onClick:Lt},Nt,Ot,Ut);return H$2({ourProps:Vt,theirProps:At,slot:Bt,defaultTag:Ze,name:"Menu.Button"})}let tt="div",nt=O$1.RenderStrategy|O$1.Static;function rt(vt,ht){var bt,_t;let xt=reactExports.useId(),{id:Et=`headlessui-menu-items-${xt}`,anchor:wt,portal:At=!1,modal:St=!0,transition:kt=!1,...Rt}=vt,Pt=xe$1(wt),[Mt,Ft]=B$1("Menu.Items"),[Lt,Dt]=Re$1(Pt),Nt=be$1(),$t=y$6(Mt.itemsRef,ht,Pt?Lt:null),Ot=n$2(Mt.itemsRef);Pt&&(At=!0);let jt=u$1(),[Ut,Bt]=V$1(kt,Mt.itemsRef,jt!==null?(jt&i.Open)===i.Open:Mt.menuState===0);m$3(Ut,Mt.buttonRef,()=>{Ft({type:1})});let Vt=Mt.__demoMode?!1:St&&Mt.menuState===0;f$2(Vt,Ot);let zt=Mt.__demoMode?!1:St&&Mt.menuState===0;y$5(zt,{allowed:o$3(()=>[Mt.buttonRef.current,Mt.itemsRef.current])});let Gt=Mt.menuState!==0,en=p$1(Gt,Mt.buttonRef)?!1:Ut;reactExports.useEffect(()=>{let gn=Mt.itemsRef.current;gn&&Mt.menuState===0&&gn!==(Ot==null?void 0:Ot.activeElement)&&gn.focus({preventScroll:!0})},[Mt.menuState,Mt.itemsRef,Ot,Mt.itemsRef.current]),F$1(Mt.menuState===0,{container:Mt.itemsRef.current,accept(gn){return gn.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:gn.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(gn){gn.setAttribute("role","none")}});let ln=p$4(),Kt=o$3(gn=>{var wn,pn,sn;switch(ln.dispose(),gn.key){case o$2.Space:if(Mt.searchQuery!=="")return gn.preventDefault(),gn.stopPropagation(),Ft({type:3,value:gn.key});case o$2.Enter:if(gn.preventDefault(),gn.stopPropagation(),Ft({type:1}),Mt.activeItemIndex!==null){let{dataRef:Jt}=Mt.items[Mt.activeItemIndex];(pn=(wn=Jt.current)==null?void 0:wn.domRef.current)==null||pn.click()}G$1(Mt.buttonRef.current);break;case o$2.ArrowDown:return gn.preventDefault(),gn.stopPropagation(),Ft({type:2,focus:c$2.Next});case o$2.ArrowUp:return gn.preventDefault(),gn.stopPropagation(),Ft({type:2,focus:c$2.Previous});case o$2.Home:case o$2.PageUp:return gn.preventDefault(),gn.stopPropagation(),Ft({type:2,focus:c$2.First});case o$2.End:case o$2.PageDown:return gn.preventDefault(),gn.stopPropagation(),Ft({type:2,focus:c$2.Last});case o$2.Escape:gn.preventDefault(),gn.stopPropagation(),reactDomExports.flushSync(()=>Ft({type:1})),(sn=Mt.buttonRef.current)==null||sn.focus({preventScroll:!0});break;case o$2.Tab:gn.preventDefault(),gn.stopPropagation(),reactDomExports.flushSync(()=>Ft({type:1})),j$3(Mt.buttonRef.current,gn.shiftKey?F$4.Previous:F$4.Next);break;default:gn.key.length===1&&(Ft({type:3,value:gn.key}),ln.setTimeout(()=>Ft({type:4}),350));break}}),on=o$3(gn=>{switch(gn.key){case o$2.Space:gn.preventDefault();break}}),fn=reactExports.useMemo(()=>({open:Mt.menuState===0}),[Mt.menuState]),En=D$4(Pt?Nt():{},{"aria-activedescendant":Mt.activeItemIndex===null||(bt=Mt.items[Mt.activeItemIndex])==null?void 0:bt.id,"aria-labelledby":(_t=Mt.buttonRef.current)==null?void 0:_t.id,id:Et,onKeyDown:Kt,onKeyUp:on,role:"menu",tabIndex:Mt.menuState===0?0:void 0,ref:$t,style:{...Rt.style,...Dt,"--button-width":f$5(Mt.buttonRef,!0).width},...A$1(Bt)});return React.createElement(te$1,{enabled:At?vt.static||Ut:!1},H$2({ourProps:En,theirProps:Rt,slot:fn,defaultTag:tt,features:nt,visible:en,name:"Menu.Items"}))}let ot=reactExports.Fragment;function at(vt,ht){let bt=reactExports.useId(),{id:_t=`headlessui-menu-item-${bt}`,disabled:xt=!1,...Et}=vt,[wt,At]=B$1("Menu.Item"),St=wt.activeItemIndex!==null?wt.items[wt.activeItemIndex].id===_t:!1,kt=reactExports.useRef(null),Rt=y$6(ht,kt);n$4(()=>{if(!wt.__demoMode&&wt.menuState===0&&St&&wt.activationTrigger!==0)return o$4().requestAnimationFrame(()=>{var en,ln;(ln=(en=kt.current)==null?void 0:en.scrollIntoView)==null||ln.call(en,{block:"nearest"})})},[wt.__demoMode,kt,St,wt.menuState,wt.activationTrigger,wt.activeItemIndex]);let Pt=s(kt),Mt=reactExports.useRef({disabled:xt,domRef:kt,get textValue(){return Pt()}});n$4(()=>{Mt.current.disabled=xt},[Mt,xt]),n$4(()=>(At({type:5,id:_t,dataRef:Mt}),()=>At({type:6,id:_t})),[Mt,_t]);let Ft=o$3(()=>{At({type:1})}),Lt=o$3(en=>{if(xt)return en.preventDefault();At({type:1}),G$1(wt.buttonRef.current)}),Dt=o$3(()=>{if(xt)return At({type:2,focus:c$2.Nothing});At({type:2,focus:c$2.Specific,id:_t})}),Nt=u$2(),$t=o$3(en=>{Nt.update(en),!xt&&(St||At({type:2,focus:c$2.Specific,id:_t,trigger:0}))}),Ot=o$3(en=>{Nt.wasMoved(en)&&(xt||St||At({type:2,focus:c$2.Specific,id:_t,trigger:0}))}),jt=o$3(en=>{Nt.wasMoved(en)&&(xt||St&&At({type:2,focus:c$2.Nothing}))}),[Ut,Bt]=z$2(),[Vt,zt]=U$2(),Gt=reactExports.useMemo(()=>({active:St,focus:St,disabled:xt,close:Ft}),[St,xt,Ft]);return React.createElement(Bt,null,React.createElement(zt,null,H$2({ourProps:{id:_t,ref:Rt,role:"menuitem",tabIndex:xt===!0?void 0:-1,"aria-disabled":xt===!0?!0:void 0,"aria-labelledby":Ut,"aria-describedby":Vt,disabled:void 0,onClick:Lt,onFocus:Dt,onPointerEnter:$t,onMouseEnter:$t,onPointerMove:Ot,onMouseMove:Ot,onPointerLeave:jt,onMouseLeave:jt},theirProps:Et,slot:Gt,defaultTag:ot,name:"Menu.Item"})))}let it="div";function st(vt,ht){let[bt,_t]=z$2();return React.createElement(_t,null,H$2({ourProps:{ref:ht,"aria-labelledby":bt,role:"group"},theirProps:vt,slot:{},defaultTag:it,name:"Menu.Section"}))}let lt="header";function ut(vt,ht){let bt=reactExports.useId(),{id:_t=`headlessui-menu-heading-${bt}`,...xt}=vt,Et=P$1();n$4(()=>Et.register(_t),[_t,Et.register]);let wt={id:_t,ref:ht,role:"presentation",...Et.props};return H$2({ourProps:wt,theirProps:xt,slot:{},defaultTag:lt,name:"Menu.Heading"})}let pt="div";function dt(vt,ht){return H$2({ourProps:{ref:ht,role:"separator"},theirProps:vt,slot:{},defaultTag:pt,name:"Menu.Separator"})}let mt=I$4(Ye$1),ct=I$4(et),ft=I$4(rt),Tt=I$4(at),yt=I$4(st),gt=I$4(ut),It=I$4(dt),Zt=Object.assign(mt,{Button:ct,Items:ft,Item:Tt,Section:yt,Heading:gt,Separator:It});function ChevronDownIcon({title:vt,titleId:ht,...bt},_t){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:_t,"aria-labelledby":ht},bt),vt?reactExports.createElement("title",{id:ht},vt):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const ForwardRef=reactExports.forwardRef(ChevronDownIcon);function Form(){return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(249,250,250)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:'"Public Sans", "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Healthcare"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Dashboard"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Patients"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Appointments"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"More"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/3ff28297-380f-4f51-aac1-1fcac1b0d3bb.png")'}})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-[#1C1D22] tracking-light text-2xl font-bold leading-tight px-4 text-left pb-2 pt-5",children:"Add a new patient"}),jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal pb-3 pt-1 px-4",children:"Enter the details of the patient you'd like to add to your practice"}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"First name"}),jsxRuntimeExports.jsx("input",{placeholder:"Type first name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Last name"}),jsxRuntimeExports.jsx("input",{placeholder:"Type last name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Date of birth"}),jsxRuntimeExports.jsx("input",{placeholder:"MM / DD / YYYY",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Gender"}),jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl",children:[jsxRuntimeExports.jsx("input",{placeholder:"Select gender",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] rounded-r-none border-r-0 pr-2 text-base font-normal leading-normal",value:""}),jsxRuntimeExports.jsx("div",{className:"text-[#3C3F4A] flex border border-[#D5D6DD] bg-[#FFFFFF] items-center justify-center pr-[15px] rounded-r-xl border-l-0","data-icon":"CaretUpDown","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,170.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-48-48a8,8,0,0,1,11.32-11.32L128,212.69l42.34-42.35A8,8,0,0,1,181.66,170.34Zm-96-84.68L128,43.31l42.34,42.35a8,8,0,0,0,11.32-11.32l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,85.66,85.66Z"})})})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Weight (lbs)"}),jsxRuntimeExports.jsx("input",{placeholder:"Type weight",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Phone number"}),jsxRuntimeExports.jsx("input",{placeholder:"(555) 555-5555",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"px-4",children:jsxRuntimeExports.jsxs("label",{className:"flex gap-x-3 py-3 flex-row",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-[#D5D6DD] border-2 bg-transparent text-[#607AFB] checked:bg-[#607AFB] checked:border-[#607AFB] focus:ring-0 focus:ring-offset-0 focus:border-[#D5D6DD] focus:outline-none",defaultChecked:!0}),jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal",children:"Patient has an email address"})]})}),jsxRuntimeExports.jsx("div",{className:"flex px-4 py-3",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-12 px-5 flex-1 bg-[#607AFB] text-[#F9FAFA] text-base font-bold leading-normal tracking-[0.015em]",children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Save patient"})})})]})})]})})}function classNames(...vt){return vt.filter(Boolean).join(" ")}function Dropdown(vt){function ht(){vt.setEditPatients(!vt.editPatients),vt.setDeletePatients(!1)}function bt(){vt.setDeletePatients(!vt.deletePatients),vt.setEditPatients(!1)}const _t=useNavigate();return jsxRuntimeExports.jsxs(Zt,{as:"div",className:"relative inline-block text-left",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(ct,{className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:["Manage patients",jsxRuntimeExports.jsx(ForwardRef,{className:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),jsxRuntimeExports.jsx(ft,{transition:!0,className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75 data-[enter]:ease-out data-[leave]:ease-in",children:jsxRuntimeExports.jsxs("div",{className:"py-1",children:[jsxRuntimeExports.jsx(Tt,{children:({focus:xt})=>jsxRuntimeExports.jsx("a",{onClick:()=>_t("/form"),className:classNames(xt?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Add Patient"})}),jsxRuntimeExports.jsx(Tt,{children:({focus:xt})=>jsxRuntimeExports.jsx("a",{onClick:ht,className:classNames(xt?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Edit Patient"})}),jsxRuntimeExports.jsx(Tt,{children:({focus:xt})=>jsxRuntimeExports.jsx("a",{onClick:bt,className:classNames(xt?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Remove Patient"})})]})})]})}function bind(vt,ht){return function(){return vt.apply(ht,arguments)}}const{toString}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,kindOf=(vt=>ht=>{const bt=toString.call(ht);return vt[bt]||(vt[bt]=bt.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=vt=>(vt=vt.toLowerCase(),ht=>kindOf(ht)===vt),typeOfTest=vt=>ht=>typeof ht===vt,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(vt){return vt!==null&&!isUndefined(vt)&&vt.constructor!==null&&!isUndefined(vt.constructor)&&isFunction(vt.constructor.isBuffer)&&vt.constructor.isBuffer(vt)}const isArrayBuffer$1=kindOfTest("ArrayBuffer");function isArrayBufferView(vt){let ht;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ht=ArrayBuffer.isView(vt):ht=vt&&vt.buffer&&isArrayBuffer$1(vt.buffer),ht}const isString$1=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=vt=>vt!==null&&typeof vt=="object",isBoolean=vt=>vt===!0||vt===!1,isPlainObject=vt=>{if(kindOf(vt)!=="object")return!1;const ht=getPrototypeOf$1(vt);return(ht===null||ht===Object.prototype||Object.getPrototypeOf(ht)===null)&&!(Symbol.toStringTag in vt)&&!(Symbol.iterator in vt)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob$1=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=vt=>isObject(vt)&&isFunction(vt.pipe),isFormData=vt=>{let ht;return vt&&(typeof FormData=="function"&&vt instanceof FormData||isFunction(vt.append)&&((ht=kindOf(vt))==="formdata"||ht==="object"&&isFunction(vt.toString)&&vt.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=vt=>vt.trim?vt.trim():vt.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(vt,ht,{allOwnKeys:bt=!1}={}){if(vt===null||typeof vt>"u")return;let _t,xt;if(typeof vt!="object"&&(vt=[vt]),isArray(vt))for(_t=0,xt=vt.length;_t<xt;_t++)ht.call(null,vt[_t],_t,vt);else{const Et=bt?Object.getOwnPropertyNames(vt):Object.keys(vt),wt=Et.length;let At;for(_t=0;_t<wt;_t++)At=Et[_t],ht.call(null,vt[At],At,vt)}}function findKey(vt,ht){ht=ht.toLowerCase();const bt=Object.keys(vt);let _t=bt.length,xt;for(;_t-- >0;)if(xt=bt[_t],ht===xt.toLowerCase())return xt;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=vt=>!isUndefined(vt)&&vt!==_global;function merge(){const{caseless:vt}=isContextDefined(this)&&this||{},ht={},bt=(_t,xt)=>{const Et=vt&&findKey(ht,xt)||xt;isPlainObject(ht[Et])&&isPlainObject(_t)?ht[Et]=merge(ht[Et],_t):isPlainObject(_t)?ht[Et]=merge({},_t):isArray(_t)?ht[Et]=_t.slice():ht[Et]=_t};for(let _t=0,xt=arguments.length;_t<xt;_t++)arguments[_t]&&forEach(arguments[_t],bt);return ht}const extend=(vt,ht,bt,{allOwnKeys:_t}={})=>(forEach(ht,(xt,Et)=>{bt&&isFunction(xt)?vt[Et]=bind(xt,bt):vt[Et]=xt},{allOwnKeys:_t}),vt),stripBOM=vt=>(vt.charCodeAt(0)===65279&&(vt=vt.slice(1)),vt),inherits=(vt,ht,bt,_t)=>{vt.prototype=Object.create(ht.prototype,_t),vt.prototype.constructor=vt,Object.defineProperty(vt,"super",{value:ht.prototype}),bt&&Object.assign(vt.prototype,bt)},toFlatObject=(vt,ht,bt,_t)=>{let xt,Et,wt;const At={};if(ht=ht||{},vt==null)return ht;do{for(xt=Object.getOwnPropertyNames(vt),Et=xt.length;Et-- >0;)wt=xt[Et],(!_t||_t(wt,vt,ht))&&!At[wt]&&(ht[wt]=vt[wt],At[wt]=!0);vt=bt!==!1&&getPrototypeOf$1(vt)}while(vt&&(!bt||bt(vt,ht))&&vt!==Object.prototype);return ht},endsWith=(vt,ht,bt)=>{vt=String(vt),(bt===void 0||bt>vt.length)&&(bt=vt.length),bt-=ht.length;const _t=vt.indexOf(ht,bt);return _t!==-1&&_t===bt},toArray=vt=>{if(!vt)return null;if(isArray(vt))return vt;let ht=vt.length;if(!isNumber(ht))return null;const bt=new Array(ht);for(;ht-- >0;)bt[ht]=vt[ht];return bt},isTypedArray=(vt=>ht=>vt&&ht instanceof vt)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(vt,ht)=>{const _t=(vt&&vt[Symbol.iterator]).call(vt);let xt;for(;(xt=_t.next())&&!xt.done;){const Et=xt.value;ht.call(vt,Et[0],Et[1])}},matchAll=(vt,ht)=>{let bt;const _t=[];for(;(bt=vt.exec(ht))!==null;)_t.push(bt);return _t},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=vt=>vt.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(bt,_t,xt){return _t.toUpperCase()+xt}),hasOwnProperty=(({hasOwnProperty:vt})=>(ht,bt)=>vt.call(ht,bt))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(vt,ht)=>{const bt=Object.getOwnPropertyDescriptors(vt),_t={};forEach(bt,(xt,Et)=>{let wt;(wt=ht(xt,Et,vt))!==!1&&(_t[Et]=wt||xt)}),Object.defineProperties(vt,_t)},freezeMethods=vt=>{reduceDescriptors(vt,(ht,bt)=>{if(isFunction(vt)&&["arguments","caller","callee"].indexOf(bt)!==-1)return!1;const _t=vt[bt];if(isFunction(_t)){if(ht.enumerable=!1,"writable"in ht){ht.writable=!1;return}ht.set||(ht.set=()=>{throw Error("Can not rewrite read-only method '"+bt+"'")})}})},toObjectSet=(vt,ht)=>{const bt={},_t=xt=>{xt.forEach(Et=>{bt[Et]=!0})};return isArray(vt)?_t(vt):_t(String(vt).split(ht)),bt},noop=()=>{},toFiniteNumber=(vt,ht)=>vt!=null&&Number.isFinite(vt=+vt)?vt:ht,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(vt=16,ht=ALPHABET.ALPHA_DIGIT)=>{let bt="";const{length:_t}=ht;for(;vt--;)bt+=ht[Math.random()*_t|0];return bt};function isSpecCompliantForm(vt){return!!(vt&&isFunction(vt.append)&&vt[Symbol.toStringTag]==="FormData"&&vt[Symbol.iterator])}const toJSONObject=vt=>{const ht=new Array(10),bt=(_t,xt)=>{if(isObject(_t)){if(ht.indexOf(_t)>=0)return;if(!("toJSON"in _t)){ht[xt]=_t;const Et=isArray(_t)?[]:{};return forEach(_t,(wt,At)=>{const St=bt(wt,xt+1);!isUndefined(St)&&(Et[At]=St)}),ht[xt]=void 0,Et}}return _t};return bt(vt,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=vt=>vt&&(isObject(vt)||isFunction(vt))&&isFunction(vt.then)&&isFunction(vt.catch),utils$1={isArray,isArrayBuffer:isArrayBuffer$1,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob:isBlob$1,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(vt,ht,bt,_t,xt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=vt,this.name="AxiosError",ht&&(this.code=ht),bt&&(this.config=bt),_t&&(this.request=_t),xt&&(this.response=xt)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(vt=>{descriptors[vt]={value:vt}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(vt,ht,bt,_t,xt,Et)=>{const wt=Object.create(prototype$1);return utils$1.toFlatObject(vt,wt,function(St){return St!==Error.prototype},At=>At!=="isAxiosError"),AxiosError.call(wt,vt.message,ht,bt,_t,xt),wt.cause=vt,wt.name=vt.name,Et&&Object.assign(wt,Et),wt};const httpAdapter=null;function isVisitable(vt){return utils$1.isPlainObject(vt)||utils$1.isArray(vt)}function removeBrackets(vt){return utils$1.endsWith(vt,"[]")?vt.slice(0,-2):vt}function renderKey(vt,ht,bt){return vt?vt.concat(ht).map(function(xt,Et){return xt=removeBrackets(xt),!bt&&Et?"["+xt+"]":xt}).join(bt?".":""):ht}function isFlatArray(vt){return utils$1.isArray(vt)&&!vt.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(ht){return/^is[A-Z]/.test(ht)});function toFormData(vt,ht,bt){if(!utils$1.isObject(vt))throw new TypeError("target must be an object");ht=ht||new FormData,bt=utils$1.toFlatObject(bt,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Dt,Nt){return!utils$1.isUndefined(Nt[Dt])});const _t=bt.metaTokens,xt=bt.visitor||Rt,Et=bt.dots,wt=bt.indexes,St=(bt.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(ht);if(!utils$1.isFunction(xt))throw new TypeError("visitor must be a function");function kt(Lt){if(Lt===null)return"";if(utils$1.isDate(Lt))return Lt.toISOString();if(!St&&utils$1.isBlob(Lt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(Lt)||utils$1.isTypedArray(Lt)?St&&typeof Blob=="function"?new Blob([Lt]):Buffer.from(Lt):Lt}function Rt(Lt,Dt,Nt){let $t=Lt;if(Lt&&!Nt&&typeof Lt=="object"){if(utils$1.endsWith(Dt,"{}"))Dt=_t?Dt:Dt.slice(0,-2),Lt=JSON.stringify(Lt);else if(utils$1.isArray(Lt)&&isFlatArray(Lt)||(utils$1.isFileList(Lt)||utils$1.endsWith(Dt,"[]"))&&($t=utils$1.toArray(Lt)))return Dt=removeBrackets(Dt),$t.forEach(function(jt,Ut){!(utils$1.isUndefined(jt)||jt===null)&&ht.append(wt===!0?renderKey([Dt],Ut,Et):wt===null?Dt:Dt+"[]",kt(jt))}),!1}return isVisitable(Lt)?!0:(ht.append(renderKey(Nt,Dt,Et),kt(Lt)),!1)}const Pt=[],Mt=Object.assign(predicates,{defaultVisitor:Rt,convertValue:kt,isVisitable});function Ft(Lt,Dt){if(!utils$1.isUndefined(Lt)){if(Pt.indexOf(Lt)!==-1)throw Error("Circular reference detected in "+Dt.join("."));Pt.push(Lt),utils$1.forEach(Lt,function($t,Ot){(!(utils$1.isUndefined($t)||$t===null)&&xt.call(ht,$t,utils$1.isString(Ot)?Ot.trim():Ot,Dt,Mt))===!0&&Ft($t,Dt?Dt.concat(Ot):[Ot])}),Pt.pop()}}if(!utils$1.isObject(vt))throw new TypeError("data must be an object");return Ft(vt),ht}function encode$1(vt){const ht={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(vt).replace(/[!'()~]|%20|%00/g,function(_t){return ht[_t]})}function AxiosURLSearchParams(vt,ht){this._pairs=[],vt&&toFormData(vt,this,ht)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(ht,bt){this._pairs.push([ht,bt])};prototype.toString=function(ht){const bt=ht?function(_t){return ht.call(this,_t,encode$1)}:encode$1;return this._pairs.map(function(xt){return bt(xt[0])+"="+bt(xt[1])},"").join("&")};function encode(vt){return encodeURIComponent(vt).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(vt,ht,bt){if(!ht)return vt;const _t=bt&&bt.encode||encode,xt=bt&&bt.serialize;let Et;if(xt?Et=xt(ht,bt):Et=utils$1.isURLSearchParams(ht)?ht.toString():new AxiosURLSearchParams(ht,bt).toString(_t),Et){const wt=vt.indexOf("#");wt!==-1&&(vt=vt.slice(0,wt)),vt+=(vt.indexOf("?")===-1?"?":"&")+Et}return vt}class InterceptorManager{constructor(){this.handlers=[]}use(ht,bt,_t){return this.handlers.push({fulfilled:ht,rejected:bt,synchronous:_t?_t.synchronous:!1,runWhen:_t?_t.runWhen:null}),this.handlers.length-1}eject(ht){this.handlers[ht]&&(this.handlers[ht]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(ht){utils$1.forEach(this.handlers,function(_t){_t!==null&&ht(_t)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(vt=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(vt)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(vt,ht){return toFormData(vt,new platform.classes.URLSearchParams,Object.assign({visitor:function(bt,_t,xt,Et){return platform.isNode&&utils$1.isBuffer(bt)?(this.append(_t,bt.toString("base64")),!1):Et.defaultVisitor.apply(this,arguments)}},ht))}function parsePropPath(vt){return utils$1.matchAll(/\w+|\[(\w*)]/g,vt).map(ht=>ht[0]==="[]"?"":ht[1]||ht[0])}function arrayToObject(vt){const ht={},bt=Object.keys(vt);let _t;const xt=bt.length;let Et;for(_t=0;_t<xt;_t++)Et=bt[_t],ht[Et]=vt[Et];return ht}function formDataToJSON(vt){function ht(bt,_t,xt,Et){let wt=bt[Et++];if(wt==="__proto__")return!0;const At=Number.isFinite(+wt),St=Et>=bt.length;return wt=!wt&&utils$1.isArray(xt)?xt.length:wt,St?(utils$1.hasOwnProp(xt,wt)?xt[wt]=[xt[wt],_t]:xt[wt]=_t,!At):((!xt[wt]||!utils$1.isObject(xt[wt]))&&(xt[wt]=[]),ht(bt,_t,xt[wt],Et)&&utils$1.isArray(xt[wt])&&(xt[wt]=arrayToObject(xt[wt])),!At)}if(utils$1.isFormData(vt)&&utils$1.isFunction(vt.entries)){const bt={};return utils$1.forEachEntry(vt,(_t,xt)=>{ht(parsePropPath(_t),xt,bt,0)}),bt}return null}function stringifySafely(vt,ht,bt){if(utils$1.isString(vt))try{return(ht||JSON.parse)(vt),utils$1.trim(vt)}catch(_t){if(_t.name!=="SyntaxError")throw _t}return(bt||JSON.stringify)(vt)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(ht,bt){const _t=bt.getContentType()||"",xt=_t.indexOf("application/json")>-1,Et=utils$1.isObject(ht);if(Et&&utils$1.isHTMLForm(ht)&&(ht=new FormData(ht)),utils$1.isFormData(ht))return xt?JSON.stringify(formDataToJSON(ht)):ht;if(utils$1.isArrayBuffer(ht)||utils$1.isBuffer(ht)||utils$1.isStream(ht)||utils$1.isFile(ht)||utils$1.isBlob(ht)||utils$1.isReadableStream(ht))return ht;if(utils$1.isArrayBufferView(ht))return ht.buffer;if(utils$1.isURLSearchParams(ht))return bt.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),ht.toString();let At;if(Et){if(_t.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(ht,this.formSerializer).toString();if((At=utils$1.isFileList(ht))||_t.indexOf("multipart/form-data")>-1){const St=this.env&&this.env.FormData;return toFormData(At?{"files[]":ht}:ht,St&&new St,this.formSerializer)}}return Et||xt?(bt.setContentType("application/json",!1),stringifySafely(ht)):ht}],transformResponse:[function(ht){const bt=this.transitional||defaults.transitional,_t=bt&&bt.forcedJSONParsing,xt=this.responseType==="json";if(utils$1.isResponse(ht)||utils$1.isReadableStream(ht))return ht;if(ht&&utils$1.isString(ht)&&(_t&&!this.responseType||xt)){const wt=!(bt&&bt.silentJSONParsing)&&xt;try{return JSON.parse(ht)}catch(At){if(wt)throw At.name==="SyntaxError"?AxiosError.from(At,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):At}}return ht}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(ht){return ht>=200&&ht<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],vt=>{defaults.headers[vt]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=vt=>{const ht={};let bt,_t,xt;return vt&&vt.split(`
`).forEach(function(wt){xt=wt.indexOf(":"),bt=wt.substring(0,xt).trim().toLowerCase(),_t=wt.substring(xt+1).trim(),!(!bt||ht[bt]&&ignoreDuplicateOf[bt])&&(bt==="set-cookie"?ht[bt]?ht[bt].push(_t):ht[bt]=[_t]:ht[bt]=ht[bt]?ht[bt]+", "+_t:_t)}),ht},$internals=Symbol("internals");function normalizeHeader(vt){return vt&&String(vt).trim().toLowerCase()}function normalizeValue(vt){return vt===!1||vt==null?vt:utils$1.isArray(vt)?vt.map(normalizeValue):String(vt)}function parseTokens(vt){const ht=Object.create(null),bt=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let _t;for(;_t=bt.exec(vt);)ht[_t[1]]=_t[2];return ht}const isValidHeaderName=vt=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(vt.trim());function matchHeaderValue(vt,ht,bt,_t,xt){if(utils$1.isFunction(_t))return _t.call(this,ht,bt);if(xt&&(ht=bt),!!utils$1.isString(ht)){if(utils$1.isString(_t))return ht.indexOf(_t)!==-1;if(utils$1.isRegExp(_t))return _t.test(ht)}}function formatHeader(vt){return vt.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(ht,bt,_t)=>bt.toUpperCase()+_t)}function buildAccessors(vt,ht){const bt=utils$1.toCamelCase(" "+ht);["get","set","has"].forEach(_t=>{Object.defineProperty(vt,_t+bt,{value:function(xt,Et,wt){return this[_t].call(this,ht,xt,Et,wt)},configurable:!0})})}class AxiosHeaders{constructor(ht){ht&&this.set(ht)}set(ht,bt,_t){const xt=this;function Et(At,St,kt){const Rt=normalizeHeader(St);if(!Rt)throw new Error("header name must be a non-empty string");const Pt=utils$1.findKey(xt,Rt);(!Pt||xt[Pt]===void 0||kt===!0||kt===void 0&&xt[Pt]!==!1)&&(xt[Pt||St]=normalizeValue(At))}const wt=(At,St)=>utils$1.forEach(At,(kt,Rt)=>Et(kt,Rt,St));if(utils$1.isPlainObject(ht)||ht instanceof this.constructor)wt(ht,bt);else if(utils$1.isString(ht)&&(ht=ht.trim())&&!isValidHeaderName(ht))wt(parseHeaders(ht),bt);else if(utils$1.isHeaders(ht))for(const[At,St]of ht.entries())Et(St,At,_t);else ht!=null&&Et(bt,ht,_t);return this}get(ht,bt){if(ht=normalizeHeader(ht),ht){const _t=utils$1.findKey(this,ht);if(_t){const xt=this[_t];if(!bt)return xt;if(bt===!0)return parseTokens(xt);if(utils$1.isFunction(bt))return bt.call(this,xt,_t);if(utils$1.isRegExp(bt))return bt.exec(xt);throw new TypeError("parser must be boolean|regexp|function")}}}has(ht,bt){if(ht=normalizeHeader(ht),ht){const _t=utils$1.findKey(this,ht);return!!(_t&&this[_t]!==void 0&&(!bt||matchHeaderValue(this,this[_t],_t,bt)))}return!1}delete(ht,bt){const _t=this;let xt=!1;function Et(wt){if(wt=normalizeHeader(wt),wt){const At=utils$1.findKey(_t,wt);At&&(!bt||matchHeaderValue(_t,_t[At],At,bt))&&(delete _t[At],xt=!0)}}return utils$1.isArray(ht)?ht.forEach(Et):Et(ht),xt}clear(ht){const bt=Object.keys(this);let _t=bt.length,xt=!1;for(;_t--;){const Et=bt[_t];(!ht||matchHeaderValue(this,this[Et],Et,ht,!0))&&(delete this[Et],xt=!0)}return xt}normalize(ht){const bt=this,_t={};return utils$1.forEach(this,(xt,Et)=>{const wt=utils$1.findKey(_t,Et);if(wt){bt[wt]=normalizeValue(xt),delete bt[Et];return}const At=ht?formatHeader(Et):String(Et).trim();At!==Et&&delete bt[Et],bt[At]=normalizeValue(xt),_t[At]=!0}),this}concat(...ht){return this.constructor.concat(this,...ht)}toJSON(ht){const bt=Object.create(null);return utils$1.forEach(this,(_t,xt)=>{_t!=null&&_t!==!1&&(bt[xt]=ht&&utils$1.isArray(_t)?_t.join(", "):_t)}),bt}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([ht,bt])=>ht+": "+bt).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(ht){return ht instanceof this?ht:new this(ht)}static concat(ht,...bt){const _t=new this(ht);return bt.forEach(xt=>_t.set(xt)),_t}static accessor(ht){const _t=(this[$internals]=this[$internals]={accessors:{}}).accessors,xt=this.prototype;function Et(wt){const At=normalizeHeader(wt);_t[At]||(buildAccessors(xt,wt),_t[At]=!0)}return utils$1.isArray(ht)?ht.forEach(Et):Et(ht),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:vt},ht)=>{let bt=ht[0].toUpperCase()+ht.slice(1);return{get:()=>vt,set(_t){this[bt]=_t}}});utils$1.freezeMethods(AxiosHeaders);function transformData(vt,ht){const bt=this||defaults,_t=ht||bt,xt=AxiosHeaders.from(_t.headers);let Et=_t.data;return utils$1.forEach(vt,function(At){Et=At.call(bt,Et,xt.normalize(),ht?ht.status:void 0)}),xt.normalize(),Et}function isCancel(vt){return!!(vt&&vt.__CANCEL__)}function CanceledError(vt,ht,bt){AxiosError.call(this,vt??"canceled",AxiosError.ERR_CANCELED,ht,bt),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(vt,ht,bt){const _t=bt.config.validateStatus;!bt.status||!_t||_t(bt.status)?vt(bt):ht(new AxiosError("Request failed with status code "+bt.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(bt.status/100)-4],bt.config,bt.request,bt))}function parseProtocol(vt){const ht=/^([-+\w]{1,25})(:?\/\/|:)/.exec(vt);return ht&&ht[1]||""}function speedometer(vt,ht){vt=vt||10;const bt=new Array(vt),_t=new Array(vt);let xt=0,Et=0,wt;return ht=ht!==void 0?ht:1e3,function(St){const kt=Date.now(),Rt=_t[Et];wt||(wt=kt),bt[xt]=St,_t[xt]=kt;let Pt=Et,Mt=0;for(;Pt!==xt;)Mt+=bt[Pt++],Pt=Pt%vt;if(xt=(xt+1)%vt,xt===Et&&(Et=(Et+1)%vt),kt-wt<ht)return;const Ft=Rt&&kt-Rt;return Ft?Math.round(Mt*1e3/Ft):void 0}}function throttle(vt,ht){let bt=0;const _t=1e3/ht;let xt=null;return function(){const wt=this===!0,At=Date.now();if(wt||At-bt>_t)return xt&&(clearTimeout(xt),xt=null),bt=At,vt.apply(null,arguments);xt||(xt=setTimeout(()=>(xt=null,bt=Date.now(),vt.apply(null,arguments)),_t-(At-bt)))}}const progressEventReducer=(vt,ht,bt=3)=>{let _t=0;const xt=speedometer(50,250);return throttle(Et=>{const wt=Et.loaded,At=Et.lengthComputable?Et.total:void 0,St=wt-_t,kt=xt(St),Rt=wt<=At;_t=wt;const Pt={loaded:wt,total:At,progress:At?wt/At:void 0,bytes:St,rate:kt||void 0,estimated:kt&&At&&Rt?(At-wt)/kt:void 0,event:Et,lengthComputable:At!=null};Pt[ht?"download":"upload"]=!0,vt(Pt)},bt)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const ht=/(msie|trident)/i.test(navigator.userAgent),bt=document.createElement("a");let _t;function xt(Et){let wt=Et;return ht&&(bt.setAttribute("href",wt),wt=bt.href),bt.setAttribute("href",wt),{href:bt.href,protocol:bt.protocol?bt.protocol.replace(/:$/,""):"",host:bt.host,search:bt.search?bt.search.replace(/^\?/,""):"",hash:bt.hash?bt.hash.replace(/^#/,""):"",hostname:bt.hostname,port:bt.port,pathname:bt.pathname.charAt(0)==="/"?bt.pathname:"/"+bt.pathname}}return _t=xt(window.location.href),function(wt){const At=utils$1.isString(wt)?xt(wt):wt;return At.protocol===_t.protocol&&At.host===_t.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(vt,ht,bt,_t,xt,Et){const wt=[vt+"="+encodeURIComponent(ht)];utils$1.isNumber(bt)&&wt.push("expires="+new Date(bt).toGMTString()),utils$1.isString(_t)&&wt.push("path="+_t),utils$1.isString(xt)&&wt.push("domain="+xt),Et===!0&&wt.push("secure"),document.cookie=wt.join("; ")},read(vt){const ht=document.cookie.match(new RegExp("(^|;\\s*)("+vt+")=([^;]*)"));return ht?decodeURIComponent(ht[3]):null},remove(vt){this.write(vt,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(vt){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(vt)}function combineURLs(vt,ht){return ht?vt.replace(/\/?\/$/,"")+"/"+ht.replace(/^\/+/,""):vt}function buildFullPath(vt,ht){return vt&&!isAbsoluteURL(ht)?combineURLs(vt,ht):ht}const headersToObject=vt=>vt instanceof AxiosHeaders?{...vt}:vt;function mergeConfig(vt,ht){ht=ht||{};const bt={};function _t(kt,Rt,Pt){return utils$1.isPlainObject(kt)&&utils$1.isPlainObject(Rt)?utils$1.merge.call({caseless:Pt},kt,Rt):utils$1.isPlainObject(Rt)?utils$1.merge({},Rt):utils$1.isArray(Rt)?Rt.slice():Rt}function xt(kt,Rt,Pt){if(utils$1.isUndefined(Rt)){if(!utils$1.isUndefined(kt))return _t(void 0,kt,Pt)}else return _t(kt,Rt,Pt)}function Et(kt,Rt){if(!utils$1.isUndefined(Rt))return _t(void 0,Rt)}function wt(kt,Rt){if(utils$1.isUndefined(Rt)){if(!utils$1.isUndefined(kt))return _t(void 0,kt)}else return _t(void 0,Rt)}function At(kt,Rt,Pt){if(Pt in ht)return _t(kt,Rt);if(Pt in vt)return _t(void 0,kt)}const St={url:Et,method:Et,data:Et,baseURL:wt,transformRequest:wt,transformResponse:wt,paramsSerializer:wt,timeout:wt,timeoutMessage:wt,withCredentials:wt,withXSRFToken:wt,adapter:wt,responseType:wt,xsrfCookieName:wt,xsrfHeaderName:wt,onUploadProgress:wt,onDownloadProgress:wt,decompress:wt,maxContentLength:wt,maxBodyLength:wt,beforeRedirect:wt,transport:wt,httpAgent:wt,httpsAgent:wt,cancelToken:wt,socketPath:wt,responseEncoding:wt,validateStatus:At,headers:(kt,Rt)=>xt(headersToObject(kt),headersToObject(Rt),!0)};return utils$1.forEach(Object.keys(Object.assign({},vt,ht)),function(Rt){const Pt=St[Rt]||xt,Mt=Pt(vt[Rt],ht[Rt],Rt);utils$1.isUndefined(Mt)&&Pt!==At||(bt[Rt]=Mt)}),bt}const resolveConfig=vt=>{const ht=mergeConfig({},vt);let{data:bt,withXSRFToken:_t,xsrfHeaderName:xt,xsrfCookieName:Et,headers:wt,auth:At}=ht;ht.headers=wt=AxiosHeaders.from(wt),ht.url=buildURL(buildFullPath(ht.baseURL,ht.url),vt.params,vt.paramsSerializer),At&&wt.set("Authorization","Basic "+btoa((At.username||"")+":"+(At.password?unescape(encodeURIComponent(At.password)):"")));let St;if(utils$1.isFormData(bt)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)wt.setContentType(void 0);else if((St=wt.getContentType())!==!1){const[kt,...Rt]=St?St.split(";").map(Pt=>Pt.trim()).filter(Boolean):[];wt.setContentType([kt||"multipart/form-data",...Rt].join("; "))}}if(platform.hasStandardBrowserEnv&&(_t&&utils$1.isFunction(_t)&&(_t=_t(ht)),_t||_t!==!1&&isURLSameOrigin(ht.url))){const kt=xt&&Et&&cookies.read(Et);kt&&wt.set(xt,kt)}return ht},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(vt){return new Promise(function(bt,_t){const xt=resolveConfig(vt);let Et=xt.data;const wt=AxiosHeaders.from(xt.headers).normalize();let{responseType:At}=xt,St;function kt(){xt.cancelToken&&xt.cancelToken.unsubscribe(St),xt.signal&&xt.signal.removeEventListener("abort",St)}let Rt=new XMLHttpRequest;Rt.open(xt.method.toUpperCase(),xt.url,!0),Rt.timeout=xt.timeout;function Pt(){if(!Rt)return;const Ft=AxiosHeaders.from("getAllResponseHeaders"in Rt&&Rt.getAllResponseHeaders()),Dt={data:!At||At==="text"||At==="json"?Rt.responseText:Rt.response,status:Rt.status,statusText:Rt.statusText,headers:Ft,config:vt,request:Rt};settle(function($t){bt($t),kt()},function($t){_t($t),kt()},Dt),Rt=null}"onloadend"in Rt?Rt.onloadend=Pt:Rt.onreadystatechange=function(){!Rt||Rt.readyState!==4||Rt.status===0&&!(Rt.responseURL&&Rt.responseURL.indexOf("file:")===0)||setTimeout(Pt)},Rt.onabort=function(){Rt&&(_t(new AxiosError("Request aborted",AxiosError.ECONNABORTED,xt,Rt)),Rt=null)},Rt.onerror=function(){_t(new AxiosError("Network Error",AxiosError.ERR_NETWORK,xt,Rt)),Rt=null},Rt.ontimeout=function(){let Lt=xt.timeout?"timeout of "+xt.timeout+"ms exceeded":"timeout exceeded";const Dt=xt.transitional||transitionalDefaults;xt.timeoutErrorMessage&&(Lt=xt.timeoutErrorMessage),_t(new AxiosError(Lt,Dt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,xt,Rt)),Rt=null},Et===void 0&&wt.setContentType(null),"setRequestHeader"in Rt&&utils$1.forEach(wt.toJSON(),function(Lt,Dt){Rt.setRequestHeader(Dt,Lt)}),utils$1.isUndefined(xt.withCredentials)||(Rt.withCredentials=!!xt.withCredentials),At&&At!=="json"&&(Rt.responseType=xt.responseType),typeof xt.onDownloadProgress=="function"&&Rt.addEventListener("progress",progressEventReducer(xt.onDownloadProgress,!0)),typeof xt.onUploadProgress=="function"&&Rt.upload&&Rt.upload.addEventListener("progress",progressEventReducer(xt.onUploadProgress)),(xt.cancelToken||xt.signal)&&(St=Ft=>{Rt&&(_t(!Ft||Ft.type?new CanceledError(null,vt,Rt):Ft),Rt.abort(),Rt=null)},xt.cancelToken&&xt.cancelToken.subscribe(St),xt.signal&&(xt.signal.aborted?St():xt.signal.addEventListener("abort",St)));const Mt=parseProtocol(xt.url);if(Mt&&platform.protocols.indexOf(Mt)===-1){_t(new AxiosError("Unsupported protocol "+Mt+":",AxiosError.ERR_BAD_REQUEST,vt));return}Rt.send(Et||null)})},composeSignals=(vt,ht)=>{let bt=new AbortController,_t;const xt=function(St){if(!_t){_t=!0,wt();const kt=St instanceof Error?St:this.reason;bt.abort(kt instanceof AxiosError?kt:new CanceledError(kt instanceof Error?kt.message:kt))}};let Et=ht&&setTimeout(()=>{xt(new AxiosError(`timeout ${ht} of ms exceeded`,AxiosError.ETIMEDOUT))},ht);const wt=()=>{vt&&(Et&&clearTimeout(Et),Et=null,vt.forEach(St=>{St&&(St.removeEventListener?St.removeEventListener("abort",xt):St.unsubscribe(xt))}),vt=null)};vt.forEach(St=>St&&St.addEventListener&&St.addEventListener("abort",xt));const{signal:At}=bt;return At.unsubscribe=wt,[At,()=>{Et&&clearTimeout(Et),Et=null}]},streamChunk=function*(vt,ht){let bt=vt.byteLength;if(!ht||bt<ht){yield vt;return}let _t=0,xt;for(;_t<bt;)xt=_t+ht,yield vt.slice(_t,xt),_t=xt},readBytes=async function*(vt,ht,bt){for await(const _t of vt)yield*streamChunk(ArrayBuffer.isView(_t)?_t:await bt(String(_t)),ht)},trackStream=(vt,ht,bt,_t,xt)=>{const Et=readBytes(vt,ht,xt);let wt=0;return new ReadableStream({type:"bytes",async pull(At){const{done:St,value:kt}=await Et.next();if(St){At.close(),_t();return}let Rt=kt.byteLength;bt&&bt(wt+=Rt),At.enqueue(new Uint8Array(kt))},cancel(At){return _t(At),Et.return()}},{highWaterMark:2})},fetchProgressDecorator=(vt,ht)=>{const bt=vt!=null;return _t=>setTimeout(()=>ht({lengthComputable:bt,total:vt,loaded:_t}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(vt=>ht=>vt.encode(ht))(new TextEncoder):async vt=>new Uint8Array(await new Response(vt).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let vt=!1;const ht=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return vt=!0,"half"}}).headers.has("Content-Type");return vt&&!ht})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$1.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(vt=>vt.body)};isFetchSupported&&(vt=>{["text","arrayBuffer","blob","formData","stream"].forEach(ht=>{!resolvers[ht]&&(resolvers[ht]=utils$1.isFunction(vt[ht])?bt=>bt[ht]():(bt,_t)=>{throw new AxiosError(`Response type '${ht}' is not supported`,AxiosError.ERR_NOT_SUPPORT,_t)})})})(new Response);const getBodyLength=async vt=>{if(vt==null)return 0;if(utils$1.isBlob(vt))return vt.size;if(utils$1.isSpecCompliantForm(vt))return(await new Request(vt).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(vt))return vt.byteLength;if(utils$1.isURLSearchParams(vt)&&(vt=vt+""),utils$1.isString(vt))return(await encodeText(vt)).byteLength},resolveBodyLength=async(vt,ht)=>{const bt=utils$1.toFiniteNumber(vt.getContentLength());return bt??getBodyLength(ht)},fetchAdapter=isFetchSupported&&(async vt=>{let{url:ht,method:bt,data:_t,signal:xt,cancelToken:Et,timeout:wt,onDownloadProgress:At,onUploadProgress:St,responseType:kt,headers:Rt,withCredentials:Pt="same-origin",fetchOptions:Mt}=resolveConfig(vt);kt=kt?(kt+"").toLowerCase():"text";let[Ft,Lt]=xt||Et||wt?composeSignals([xt,Et],wt):[],Dt,Nt;const $t=()=>{!Dt&&setTimeout(()=>{Ft&&Ft.unsubscribe()}),Dt=!0};let Ot;try{if(St&&supportsRequestStream&&bt!=="get"&&bt!=="head"&&(Ot=await resolveBodyLength(Rt,_t))!==0){let Vt=new Request(ht,{method:"POST",body:_t,duplex:"half"}),zt;utils$1.isFormData(_t)&&(zt=Vt.headers.get("content-type"))&&Rt.setContentType(zt),Vt.body&&(_t=trackStream(Vt.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator(Ot,progressEventReducer(St)),null,encodeText))}utils$1.isString(Pt)||(Pt=Pt?"cors":"omit"),Nt=new Request(ht,{...Mt,signal:Ft,method:bt.toUpperCase(),headers:Rt.normalize().toJSON(),body:_t,duplex:"half",withCredentials:Pt});let jt=await fetch(Nt);const Ut=supportsResponseStream&&(kt==="stream"||kt==="response");if(supportsResponseStream&&(At||Ut)){const Vt={};["status","statusText","headers"].forEach(Gt=>{Vt[Gt]=jt[Gt]});const zt=utils$1.toFiniteNumber(jt.headers.get("content-length"));jt=new Response(trackStream(jt.body,DEFAULT_CHUNK_SIZE,At&&fetchProgressDecorator(zt,progressEventReducer(At,!0)),Ut&&$t,encodeText),Vt)}kt=kt||"text";let Bt=await resolvers[utils$1.findKey(resolvers,kt)||"text"](jt,vt);return!Ut&&$t(),Lt&&Lt(),await new Promise((Vt,zt)=>{settle(Vt,zt,{data:Bt,headers:AxiosHeaders.from(jt.headers),status:jt.status,statusText:jt.statusText,config:vt,request:Nt})})}catch(jt){throw $t(),jt&&jt.name==="TypeError"&&/fetch/i.test(jt.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,vt,Nt),{cause:jt.cause||jt}):AxiosError.from(jt,jt&&jt.code,vt,Nt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(vt,ht)=>{if(vt){try{Object.defineProperty(vt,"name",{value:ht})}catch{}Object.defineProperty(vt,"adapterName",{value:ht})}});const renderReason=vt=>`- ${vt}`,isResolvedHandle=vt=>utils$1.isFunction(vt)||vt===null||vt===!1,adapters={getAdapter:vt=>{vt=utils$1.isArray(vt)?vt:[vt];const{length:ht}=vt;let bt,_t;const xt={};for(let Et=0;Et<ht;Et++){bt=vt[Et];let wt;if(_t=bt,!isResolvedHandle(bt)&&(_t=knownAdapters[(wt=String(bt)).toLowerCase()],_t===void 0))throw new AxiosError(`Unknown adapter '${wt}'`);if(_t)break;xt[wt||"#"+Et]=_t}if(!_t){const Et=Object.entries(xt).map(([At,St])=>`adapter ${At} `+(St===!1?"is not supported by the environment":"is not available in the build"));let wt=ht?Et.length>1?`since :
`+Et.map(renderReason).join(`
`):" "+renderReason(Et[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+wt,"ERR_NOT_SUPPORT")}return _t},adapters:knownAdapters};function throwIfCancellationRequested(vt){if(vt.cancelToken&&vt.cancelToken.throwIfRequested(),vt.signal&&vt.signal.aborted)throw new CanceledError(null,vt)}function dispatchRequest(vt){return throwIfCancellationRequested(vt),vt.headers=AxiosHeaders.from(vt.headers),vt.data=transformData.call(vt,vt.transformRequest),["post","put","patch"].indexOf(vt.method)!==-1&&vt.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(vt.adapter||defaults.adapter)(vt).then(function(_t){return throwIfCancellationRequested(vt),_t.data=transformData.call(vt,vt.transformResponse,_t),_t.headers=AxiosHeaders.from(_t.headers),_t},function(_t){return isCancel(_t)||(throwIfCancellationRequested(vt),_t&&_t.response&&(_t.response.data=transformData.call(vt,vt.transformResponse,_t.response),_t.response.headers=AxiosHeaders.from(_t.response.headers))),Promise.reject(_t)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((vt,ht)=>{validators$1[vt]=function(_t){return typeof _t===vt||"a"+(ht<1?"n ":" ")+vt}});const deprecatedWarnings={};validators$1.transitional=function(ht,bt,_t){function xt(Et,wt){return"[Axios v"+VERSION+"] Transitional option '"+Et+"'"+wt+(_t?". "+_t:"")}return(Et,wt,At)=>{if(ht===!1)throw new AxiosError(xt(wt," has been removed"+(bt?" in "+bt:"")),AxiosError.ERR_DEPRECATED);return bt&&!deprecatedWarnings[wt]&&(deprecatedWarnings[wt]=!0,console.warn(xt(wt," has been deprecated since v"+bt+" and will be removed in the near future"))),ht?ht(Et,wt,At):!0}};function assertOptions(vt,ht,bt){if(typeof vt!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const _t=Object.keys(vt);let xt=_t.length;for(;xt-- >0;){const Et=_t[xt],wt=ht[Et];if(wt){const At=vt[Et],St=At===void 0||wt(At,Et,vt);if(St!==!0)throw new AxiosError("option "+Et+" must be "+St,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(bt!==!0)throw new AxiosError("Unknown option "+Et,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(ht){this.defaults=ht,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(ht,bt){try{return await this._request(ht,bt)}catch(_t){if(_t instanceof Error){let xt;Error.captureStackTrace?Error.captureStackTrace(xt={}):xt=new Error;const Et=xt.stack?xt.stack.replace(/^.+\n/,""):"";try{_t.stack?Et&&!String(_t.stack).endsWith(Et.replace(/^.+\n.+\n/,""))&&(_t.stack+=`
`+Et):_t.stack=Et}catch{}}throw _t}}_request(ht,bt){typeof ht=="string"?(bt=bt||{},bt.url=ht):bt=ht||{},bt=mergeConfig(this.defaults,bt);const{transitional:_t,paramsSerializer:xt,headers:Et}=bt;_t!==void 0&&validator.assertOptions(_t,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),xt!=null&&(utils$1.isFunction(xt)?bt.paramsSerializer={serialize:xt}:validator.assertOptions(xt,{encode:validators.function,serialize:validators.function},!0)),bt.method=(bt.method||this.defaults.method||"get").toLowerCase();let wt=Et&&utils$1.merge(Et.common,Et[bt.method]);Et&&utils$1.forEach(["delete","get","head","post","put","patch","common"],Lt=>{delete Et[Lt]}),bt.headers=AxiosHeaders.concat(wt,Et);const At=[];let St=!0;this.interceptors.request.forEach(function(Dt){typeof Dt.runWhen=="function"&&Dt.runWhen(bt)===!1||(St=St&&Dt.synchronous,At.unshift(Dt.fulfilled,Dt.rejected))});const kt=[];this.interceptors.response.forEach(function(Dt){kt.push(Dt.fulfilled,Dt.rejected)});let Rt,Pt=0,Mt;if(!St){const Lt=[dispatchRequest.bind(this),void 0];for(Lt.unshift.apply(Lt,At),Lt.push.apply(Lt,kt),Mt=Lt.length,Rt=Promise.resolve(bt);Pt<Mt;)Rt=Rt.then(Lt[Pt++],Lt[Pt++]);return Rt}Mt=At.length;let Ft=bt;for(Pt=0;Pt<Mt;){const Lt=At[Pt++],Dt=At[Pt++];try{Ft=Lt(Ft)}catch(Nt){Dt.call(this,Nt);break}}try{Rt=dispatchRequest.call(this,Ft)}catch(Lt){return Promise.reject(Lt)}for(Pt=0,Mt=kt.length;Pt<Mt;)Rt=Rt.then(kt[Pt++],kt[Pt++]);return Rt}getUri(ht){ht=mergeConfig(this.defaults,ht);const bt=buildFullPath(ht.baseURL,ht.url);return buildURL(bt,ht.params,ht.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(ht){Axios.prototype[ht]=function(bt,_t){return this.request(mergeConfig(_t||{},{method:ht,url:bt,data:(_t||{}).data}))}});utils$1.forEach(["post","put","patch"],function(ht){function bt(_t){return function(Et,wt,At){return this.request(mergeConfig(At||{},{method:ht,headers:_t?{"Content-Type":"multipart/form-data"}:{},url:Et,data:wt}))}}Axios.prototype[ht]=bt(),Axios.prototype[ht+"Form"]=bt(!0)});class CancelToken{constructor(ht){if(typeof ht!="function")throw new TypeError("executor must be a function.");let bt;this.promise=new Promise(function(Et){bt=Et});const _t=this;this.promise.then(xt=>{if(!_t._listeners)return;let Et=_t._listeners.length;for(;Et-- >0;)_t._listeners[Et](xt);_t._listeners=null}),this.promise.then=xt=>{let Et;const wt=new Promise(At=>{_t.subscribe(At),Et=At}).then(xt);return wt.cancel=function(){_t.unsubscribe(Et)},wt},ht(function(Et,wt,At){_t.reason||(_t.reason=new CanceledError(Et,wt,At),bt(_t.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(ht){if(this.reason){ht(this.reason);return}this._listeners?this._listeners.push(ht):this._listeners=[ht]}unsubscribe(ht){if(!this._listeners)return;const bt=this._listeners.indexOf(ht);bt!==-1&&this._listeners.splice(bt,1)}static source(){let ht;return{token:new CancelToken(function(xt){ht=xt}),cancel:ht}}}function spread(vt){return function(bt){return vt.apply(null,bt)}}function isAxiosError(vt){return utils$1.isObject(vt)&&vt.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([vt,ht])=>{HttpStatusCode[ht]=vt});function createInstance(vt){const ht=new Axios(vt),bt=bind(Axios.prototype.request,ht);return utils$1.extend(bt,Axios.prototype,ht,{allOwnKeys:!0}),utils$1.extend(bt,ht,null,{allOwnKeys:!0}),bt.create=function(xt){return createInstance(mergeConfig(vt,xt))},bt}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(ht){return Promise.all(ht)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=vt=>formDataToJSON(utils$1.isHTMLForm(vt)?new FormData(vt):vt);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;function List(vt){const[ht,bt]=reactExports.useState(!1),[_t,xt]=reactExports.useState(!1),Et=useNavigate(),[wt,At]=reactExports.useState([]),St=Rt=>{const Pt=new Date,Mt=new Date(Rt);let Ft=Pt.getFullYear()-Mt.getFullYear();const Lt=Pt.getMonth()-Mt.getMonth();return(Lt<0||Lt===0&&Pt.getDate()<Mt.getDate())&&Ft--,Ft};async function kt(){const Rt=await axios.get("en/getpatients");At(Rt.data),vt.setNoofPatients(Rt.data.length)}return reactExports.useEffect(()=>{kt()},[]),St("2004-06-05T18:30:00.000Z"),jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[920px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end w-full",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-[32px] font-bold leading-tight min-w-72",children:"Patients"}),jsxRuntimeExports.jsx("div",{className:`${vt.isDoctor?"hidden":"flex"}`,children:jsxRuntimeExports.jsx(Dropdown,{editPatients:ht,setEditPatients:bt,deletePatients:_t,setDeletePatients:xt})})]})}),jsxRuntimeExports.jsx("div",{className:"px-4 py-3",children:jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 h-12 w-full",children:jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl h-full",children:[jsxRuntimeExports.jsx("div",{className:"text-[#4f7396] flex border-none bg-[#e8edf3] items-center justify-center pl-4 rounded-l-xl border-r-0","data-icon":"MagnifyingGlass","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})}),jsxRuntimeExports.jsx("input",{placeholder:"Search patients",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e8edf3] focus:border-none h-full placeholder:text-[#4f7396] px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal"})]})})}),wt.map((Rt,Pt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 transition-all duration-300 ease-in-out hover:bg-[#e2e8f0] cursor-pointer rounded-xl ",onClick:()=>Et("/patient",{state:{id:Rt._id}}),children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-14 w-fit transform",style:{backgroundImage:""}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:Rt.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Age: ",St(Rt.DOB),", Gender: ",Rt.gender]})]}),jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`size-6 self-start mt-4 ml-auto mb-2 ${ht?"block":"hidden"} `,children:[jsxRuntimeExports.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),jsxRuntimeExports.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]}),jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:`size-6 self-start mt-4 ml-auto mb-2 ${_t?"block":"hidden"}`,children:jsxRuntimeExports.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})]},Pt))]})}function Analytics(vt){return jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[360px]",children:[jsxRuntimeExports.jsx("h3",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analytics"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Total Patients"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:vt.noofPatients}),jsxRuntimeExports.jsx("p",{className:"text-[#078838] text-base font-medium leading-normal",children:"+5%"})]}),jsxRuntimeExports.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Average Age"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:"44"}),jsxRuntimeExports.jsx("p",{className:"text-[#e73908] text-base font-medium leading-normal",children:"-2%"})]})]})]})}const Navbar=vt=>{console.log(vt);const ht=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7eef4] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0d151c]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0d151c] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Sanjh Sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#0d151c] text-sm font-medium leading-normal cursor-pointer",onClick:()=>ht("/"),children:"Home"}),jsxRuntimeExports.jsx("a",{className:`text-[#0d151c] text-sm font-medium leading-normal cursor-pointer ${vt.patient?"":"hidden"}`,onClick:()=>ht("/main"),children:"Patients"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-2",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] font-medium text-sm leading-normal",children:vt.isDoctor?"Doctor":"Care taker"})}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/62891830-57f4-4b6d-ab96-97aa59242b87.png")'}})]})]})};function Main(vt){const[ht,bt]=reactExports.useState(0);return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#f8fafb] group/design-root overflow-x-hidden",style:{fontFamily:'Inter, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx(Navbar,{isDoctor:vt.isDoctor}),jsxRuntimeExports.jsxs("div",{className:"gap-1 px-6 flex flex-1 justify-center py-5",children:[jsxRuntimeExports.jsx(List,{isDoctor:vt.isDoctor,setNoofPatients:bt,noofPatients:ht}),jsxRuntimeExports.jsx(Analytics,{noofPatients:ht})]})]})})}const LandingPage=()=>{const vt=reactExports.useRef(null),ht=()=>{vt.current.scrollIntoView({behavior:"smooth"})};let bt=useNavigate();return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{fontFamily:'Epilogue, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_6_543)",children:[jsxRuntimeExports.jsx("path",{d:"M42.1739 20.1739L27.8261 5.82609C29.1366 7.13663 28.3989 10.1876 26.2002 13.7654C24.8538 15.9564 22.9595 18.3449 20.6522 20.6522C18.3449 22.9595 15.9564 24.8538 13.7654 26.2002C10.1876 28.3989 7.13663 29.1366 5.82609 27.8261L20.1739 42.1739C21.4845 43.4845 24.5355 42.7467 28.1133 40.548C30.3042 39.2016 32.6927 37.3073 35 35C37.3073 32.6927 39.2016 30.3042 40.548 28.1133C42.7467 24.5355 43.4845 21.4845 42.1739 20.1739Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.24189 26.4066C7.31369 26.4411 7.64204 26.5637 8.52504 26.3738C9.59462 26.1438 11.0343 25.5311 12.7183 24.4963C14.7583 23.2426 17.0256 21.4503 19.238 19.238C21.4503 17.0256 23.2426 14.7583 24.4963 12.7183C25.5311 11.0343 26.1438 9.59463 26.3738 8.52504C26.5637 7.64204 26.4411 7.31369 26.4066 7.24189C26.345 7.21246 26.143 7.14535 25.6664 7.1918C24.9745 7.25925 23.9954 7.5498 22.7699 8.14278C20.3369 9.32007 17.3369 11.4915 14.4142 14.4142C11.4915 17.3369 9.32007 20.3369 8.14278 22.7699C7.5498 23.9954 7.25925 24.9745 7.1918 25.6664C7.14534 26.143 7.21246 26.345 7.24189 26.4066ZM29.9001 10.7285C29.4519 12.0322 28.7617 13.4172 27.9042 14.8126C26.465 17.1544 24.4686 19.6641 22.0664 22.0664C19.6641 24.4686 17.1544 26.465 14.8126 27.9042C13.4172 28.7617 12.0322 29.4519 10.7285 29.9001L21.5754 40.747C21.6001 40.7606 21.8995 40.931 22.8729 40.7217C23.9424 40.4916 25.3821 39.879 27.0661 38.8441C29.1062 37.5904 31.3734 35.7982 33.5858 33.5858C35.7982 31.3734 37.5904 29.1062 38.8441 27.0661C39.879 25.3821 40.4916 23.9425 40.7216 22.8729C40.931 21.8995 40.7606 21.6001 40.747 21.5754L29.9001 10.7285ZM29.2403 4.41187L43.5881 18.7597C44.9757 20.1473 44.9743 22.1235 44.6322 23.7139C44.2714 25.3919 43.4158 27.2666 42.252 29.1604C40.8128 31.5022 38.8165 34.012 36.4142 36.4142C34.012 38.8165 31.5022 40.8128 29.1604 42.252C27.2666 43.4158 25.3919 44.2714 23.7139 44.6322C22.1235 44.9743 20.1473 44.9757 18.7597 43.5881L4.41187 29.2403C3.29027 28.1187 3.08209 26.5973 3.21067 25.2783C3.34099 23.9415 3.8369 22.4852 4.54214 21.0277C5.96129 18.0948 8.43335 14.7382 11.5858 11.5858C14.7382 8.43335 18.0948 5.9613 21.0277 4.54214C22.4852 3.8369 23.9415 3.34099 25.2783 3.21067C26.5973 3.08209 28.1187 3.29028 29.2403 4.41187Z",fill:"currentColor"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_6_543",children:jsxRuntimeExports.jsx("rect",{width:"48",height:"48",fill:"white"})})})]})}),jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh Sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-9",children:jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal cursor-pointer",onClick:ht,children:"Features"})}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#607AFB] text-[#F9FAFA] text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>bt("/signin"),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Login"})})})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"@container",children:jsxRuntimeExports.jsx("div",{className:"@[480px]:p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-xl items-start justify-end px-4 pb-10 @[480px]:px-10",style:{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url("https://cdn.usegalileo.ai/sdxl10/d0342d60-6ca8-4000-abde-e44f0d824c83.png")'},children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[jsxRuntimeExports.jsx("h1",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]",children:"Saanjh Sahayak, better care for our elders"}),jsxRuntimeExports.jsx("h2",{className:"text-white text-sm font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal",children:"We are here to provide comprehensive and compassionate care to the elderly in old age homes."})]}),jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 h-14 w-full max-w-[480px] @[480px]:h-16"})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",ref:vt,children:[jsxRuntimeExports.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Caretakers"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Upload and Monitor Patient Reports"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily upload and monitor patient reports. Our system is designed to handle a variety of formats, ensuring a seamless experience."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Notification","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,128v80a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V56A16,16,0,0,1,48,40h80a8,8,0,0,1,0,16H48V208H200V128a8,8,0,0,1,16,0Zm16-68a36,36,0,1,1-36-36A36,36,0,0,1,232,60Zm-16,0a20,20,0,1,0-20,20A20,20,0,0,0,216,60Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Receive Alerts and Reminders"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Get instant alerts and reminders for medication, doctor's appointments, and more. Stay on top of your loved one's care."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",children:[jsxRuntimeExports.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Doctors"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Verify Patient Information"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Quickly and securely verify patient information. Our platform is designed to ensure compliance with privacy and data protection regulations."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Translate","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M239.15,212.42l-56-112a8,8,0,0,0-14.31,0l-21.71,43.43A88,88,0,0,1,100,126.93,103.65,103.65,0,0,0,127.69,64H152a8,8,0,0,0,0-16H96V32a8,8,0,0,0-16,0V48H24a8,8,0,0,0,0,16h87.63A87.76,87.76,0,0,1,88,116.35a87.74,87.74,0,0,1-19-31,8,8,0,1,0-15.08,5.34A103.63,103.63,0,0,0,76,127a87.55,87.55,0,0,1-52,17,8,8,0,0,0,0,16,103.46,103.46,0,0,0,64-22.08,104.18,104.18,0,0,0,51.44,21.31l-26.6,53.19a8,8,0,0,0,14.31,7.16L140.94,192h70.11l13.79,27.58A8,8,0,0,0,232,224a8,8,0,0,0,7.15-11.58ZM148.94,176,176,121.89,203.05,176Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Analyze with Large Language Model"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Utilize our powerful Large Language Model for in-depth patient analysis. Get insights and recommendations based on the latest medical research."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/fb823941-87a6-47fb-998f-c8224ea8c6db.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get help from experts"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Our team of geriatricians and nurse practitioners are here to help."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/b543c2c9-c73f-4636-8737-59e6d3f7a20e.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Stay connected"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily communicate with our team via video calls, phone calls, or chat."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/sdxl10/8329d0d0-4083-4c19-89c0-de0625991c40.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get reminders"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Set up medication reminders and get alerts when it's time to take a dose."})]})]})]})]})})]})})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(vt,ht){if(vt==null)return{};var bt=_objectWithoutPropertiesLoose(vt,ht),_t,xt;if(Object.getOwnPropertySymbols){var Et=Object.getOwnPropertySymbols(vt);for(xt=0;xt<Et.length;xt++)_t=Et[xt],!(ht.indexOf(_t)>=0)&&Object.prototype.propertyIsEnumerable.call(vt,_t)&&(bt[_t]=vt[_t])}return bt}function _objectWithoutPropertiesLoose(vt,ht){if(vt==null)return{};var bt={};for(var _t in vt)if(Object.prototype.hasOwnProperty.call(vt,_t)){if(ht.indexOf(_t)>=0)continue;bt[_t]=vt[_t]}return bt}function _extends(){return _extends=Object.assign?Object.assign.bind():function(vt){for(var ht=1;ht<arguments.length;ht++){var bt=arguments[ht];for(var _t in bt)Object.prototype.hasOwnProperty.call(bt,_t)&&(vt[_t]=bt[_t])}return vt},_extends.apply(this,arguments)}function ownKeys(vt,ht){var bt=Object.keys(vt);if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(vt);ht&&(_t=_t.filter(function(xt){return Object.getOwnPropertyDescriptor(vt,xt).enumerable})),bt.push.apply(bt,_t)}return bt}function _objectSpread(vt){for(var ht=1;ht<arguments.length;ht++){var bt=arguments[ht]!=null?arguments[ht]:{};ht%2?ownKeys(Object(bt),!0).forEach(function(_t){_defineProperty(vt,_t,bt[_t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(vt,Object.getOwnPropertyDescriptors(bt)):ownKeys(Object(bt)).forEach(function(_t){Object.defineProperty(vt,_t,Object.getOwnPropertyDescriptor(bt,_t))})}return vt}function _defineProperty(vt,ht,bt){return ht=_toPropertyKey(ht),ht in vt?Object.defineProperty(vt,ht,{value:bt,enumerable:!0,configurable:!0,writable:!0}):vt[ht]=bt,vt}function _toPropertyKey(vt){var ht=_toPrimitive(vt,"string");return typeof ht=="symbol"?ht:ht+""}function _toPrimitive(vt,ht){if(typeof vt!="object"||!vt)return vt;var bt=vt[Symbol.toPrimitive];if(bt!==void 0){var _t=bt.call(vt,ht||"default");if(typeof _t!="object")return _t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ht==="string"?String:Number)(vt)}function Tree2Element(vt){return vt&&vt.map((ht,bt)=>React.createElement(ht.tag,_objectSpread({key:bt},ht.attr),Tree2Element(ht.child)))}function GenIcon(vt){return ht=>React.createElement(IconBase,_extends({attr:_objectSpread({},vt.attr)},ht),Tree2Element(vt.child))}function IconBase(vt){var ht=bt=>{var{attr:_t,size:xt,title:Et}=vt,wt=_objectWithoutProperties(vt,_excluded),At=xt||bt.size||"1em",St;return bt.className&&(St=bt.className),vt.className&&(St=(St?St+" ":"")+vt.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},bt.attr,_t,wt,{className:St,style:_objectSpread(_objectSpread({color:vt.color||bt.color},bt.style),vt.style),height:At,width:At,xmlns:"http://www.w3.org/2000/svg"}),Et&&React.createElement("title",null,Et),vt.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,bt=>ht(bt)):ht(DefaultContext)}function FaEdit(vt){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(vt)}function Profile(vt){const[ht,bt]=reactExports.useState(vt.id),[_t,xt]=reactExports.useState();async function Et(){const St=await axios.get(`/en/getpatient/${ht}`);xt(St.data)}reactExports.useEffect(()=>{Et()},[ht]);const wt=St=>{const kt=new Date,Rt=new Date(St);let Pt=kt.getFullYear()-Rt.getFullYear();const Mt=kt.getMonth()-Rt.getMonth();return(Mt<0||Mt===0&&kt.getDate()<Rt.getDate())&&Pt--,Pt},At=[{date:"July 15, 2022",report:"Blood Test"},{date:"June 12, 2022",report:"X-ray"},{date:"March 22, 2022",report:"Blood Test"}];return _t&&jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex p-4 @container",children:[jsxRuntimeExports.jsx("div",{className:`absolute top-2 right-2 ${vt.isDoctor?"hidden":""}`,children:jsxRuntimeExports.jsx("button",{className:"text-blue-500 hover:text-blue-700",children:jsxRuntimeExports.jsx(FaEdit,{size:20})})}),jsxRuntimeExports.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4 self-start",children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-32 w-32",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/4085b1e6-79ae-4450-b2e6-2a0385966715.png")'}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:_t.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#49779c] text-base font-normal leading-normal",children:["Age ",wt(_t.DOB),", ",_t.gender,", Blood type: ",_t.bloodGroup]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 bg-slate-50 px-4 py-3",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"User","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal",children:"Patient Information"}),jsxRuntimeExports.jsxs("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:["Previous test reports: ",_t.reportsList.length]}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:"Known health conditions: Asthma, Allergies"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-14 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-10","data-icon":"Phone","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"})})}),jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-normal leading-normal flex-1 truncate",children:"Contact Number"})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsxs("p",{className:"text-[#0d151c] text-base font-normal leading-normal",children:["(+91) ",_t.phone]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-4 pb-3 pt-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Report History"}),jsxRuntimeExports.jsx("button",{className:`bg-blue-500 text-white px-4 py-2 rounded ${vt.isDoctor?"hidden":""}`,children:"Upload Reports"})]}),jsxRuntimeExports.jsx("div",{children:At.map((St,kt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-[72px] py-2 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:St.date}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:St.report})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},kt))})]})})}function Patient(vt){const{state:ht}=useLocation(),{id:bt}=ht;return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:{fontFamily:'Manrope, "Noto Sans", sans-serif;'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx(Navbar,{patient:!0,isDoctor:vt.isDoctor}),jsxRuntimeExports.jsx(Profile,{isDoctor:vt.isDoctor,id:bt})]})})}function Signin(vt){const[ht,bt]=reactExports.useState(""),[_t,xt]=reactExports.useState(""),[Et,wt]=reactExports.useState(!1);let At=useNavigate();const St=()=>{wt(!Et)},kt={"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(248,250,252)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:"Manrope, 'Noto Sans', sans-serif"};return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:kt,children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7edf3] px-10 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor",:!0})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]})}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-5",children:"Welcome to HealthCo"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-normal leading-normal pb-3 pt-1 px-4 text-center",children:"Please select if you are a doctor or a caretaker."}),jsxRuntimeExports.jsx("div",{className:"flex justify-stretch",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 flex-wrap px-4 py-3 justify-center ",children:[jsxRuntimeExports.jsx("button",{className:`flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 ${vt.isDoctor?" bg-[#1980e6] text-slate-50":"bg-[#e7edf3]  text-[#0e141b]"} text-sm font-bold leading-normal tracking-[0.015em]`,onClick:()=>vt.setIsDoctor(!0),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Doctor"})}),jsxRuntimeExports.jsx("button",{className:`flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 ${vt.isDoctor?"bg-[#e7edf3]  text-[#0e141b]":" bg-[#1980e6] text-slate-50"} text-sm font-bold leading-normal tracking-[0.015em]`,onClick:()=>vt.setIsDoctor(!1),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Caretaker"})})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3 self-center",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-96 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal pb-2",children:"ID"}),jsxRuntimeExports.jsx("input",{placeholder:"Enter your ID",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e7edf3] focus:border-none h-14 placeholder:text-[#4e7397] p-4 text-base font-normal leading-normal",value:ht,onChange:Rt=>bt(Rt.target.value)})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3 self-center",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-96 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal pb-2",children:"Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{placeholder:"Enter your password",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e7edf3] focus:border-none h-14 placeholder:text-[#4e7397] p-4 text-base font-normal leading-normal",value:_t,onChange:Rt=>xt(Rt.target.value),type:Et?"text":"password"}),jsxRuntimeExports.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-sm text-gray-600",onClick:St,children:Et?jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}):jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})})})]})]})}),jsxRuntimeExports.jsx("div",{className:"px-4 self-center"})]})}),jsxRuntimeExports.jsx("footer",{className:"flex justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex max-w-[960px] flex-1 flex-col",children:[jsxRuntimeExports.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal pb-3 pt-1 px-4 text-center",children:"By continuing, you agree to our Terms of Use and Privacy Policy"}),jsxRuntimeExports.jsx("div",{className:"flex px-4 py-3 justify-center",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[143px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 flex-1 bg-[#1980e6] text-slate-50 text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>At("/main"),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Sign in"})})})]})})]})})}const NewSignin=()=>{const[vt,ht]=reactExports.useState(null),bt=_t=>{ht(_t)};return jsxRuntimeExports.jsx("div",{className:"relative flex items-center justify-center min-h-screen bg-slate-50",children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex flex-col max-w-[960px] w-full px-6",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between border-b border-solid border-b-[#e7edf3] px-4 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-8",children:[jsxRuntimeExports.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to professionals"),children:"For professionals"}),jsxRuntimeExports.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to caretakers"),children:"For caretakers"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight pb-3",children:"Welcome to HealthCo"}),jsxRuntimeExports.jsx("button",{className:"bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg mb-6",onClick:()=>alert("Display user selection"),children:"Select User"}),vt===null&&jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>bt("doctor"),children:"Doctor"}),jsxRuntimeExports.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>bt("caretaker"),children:"Caretaker"})]}),vt&&jsxRuntimeExports.jsxs("div",{className:"text-[#0e141b] text-base font-normal leading-normal mt-4",children:["You are signed in as ",jsxRuntimeExports.jsx("strong",{children:vt}),"."]})]}),jsxRuntimeExports.jsx("footer",{className:"flex justify-center py-3",children:jsxRuntimeExports.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal",children:"By continuing, you agree to our Terms of Use and Privacy Policy"})})]})})},scriptRel="modulepreload",assetsURL=function(vt){return"/"+vt},seen={},__vitePreload=function(ht,bt,_t){let xt=Promise.resolve();if(bt&&bt.length>0){document.getElementsByTagName("link");const Et=document.querySelector("meta[property=csp-nonce]"),wt=(Et==null?void 0:Et.nonce)||(Et==null?void 0:Et.getAttribute("nonce"));xt=Promise.all(bt.map(At=>{if(At=assetsURL(At),At in seen)return;seen[At]=!0;const St=At.endsWith(".css"),kt=St?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${At}"]${kt}`))return;const Rt=document.createElement("link");if(Rt.rel=St?"stylesheet":scriptRel,St||(Rt.as="script",Rt.crossOrigin=""),Rt.href=At,wt&&Rt.setAttribute("nonce",wt),document.head.appendChild(Rt),St)return new Promise((Pt,Mt)=>{Rt.addEventListener("load",Pt),Rt.addEventListener("error",()=>Mt(new Error(`Unable to preload CSS for ${At}`)))})}))}return xt.then(()=>ht()).catch(Et=>{const wt=new Event("vite:preloadError",{cancelable:!0});if(wt.payload=Et,window.dispatchEvent(wt),!wt.defaultPrevented)throw Et})};var __webpack_require__={};__webpack_require__.d=(vt,ht)=>{for(var bt in ht)__webpack_require__.o(ht,bt)&&!__webpack_require__.o(vt,bt)&&Object.defineProperty(vt,bt,{enumerable:!0,get:ht[bt]})};__webpack_require__.o=(vt,ht)=>Object.prototype.hasOwnProperty.call(vt,ht);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer,AnnotationMode:()=>AnnotationMode,CMapCompressionType:()=>CMapCompressionType,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,Outliner:()=>Outliner,PDFDataRangeTransport:()=>PDFDataRangeTransport$1,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses$1,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,renderTextLayer:()=>renderTextLayer,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,updateTextLayer:()=>updateTextLayer,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses$1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(vt){Number.isInteger(vt)&&(verbosity=vt)}function getVerbosityLevel(){return verbosity}function info(vt){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${vt}`)}function warn(vt){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${vt}`)}function unreachable(vt){throw new Error(vt)}function assert(vt,ht){vt||unreachable(ht)}function _isValidProtocol(vt){switch(vt==null?void 0:vt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(vt,ht=null,bt=null){if(!vt)return null;try{if(bt&&typeof vt=="string"){if(bt.addDefaultProtocol&&vt.startsWith("www.")){const xt=vt.match(/\./g);(xt==null?void 0:xt.length)>=2&&(vt=`http://${vt}`)}if(bt.tryConvertEncoding)try{vt=stringToUTF8String(vt)}catch{}}const _t=ht?new URL(vt,ht):new URL(vt);if(_isValidProtocol(_t))return _t}catch{}return null}function shadow(vt,ht,bt,_t=!1){return Object.defineProperty(vt,ht,{value:bt,enumerable:!_t,configurable:!0,writable:!1}),bt}const BaseException=function(){function ht(bt,_t){this.constructor===ht&&unreachable("Cannot initialize BaseException."),this.message=bt,this.name=_t}return ht.prototype=new Error,ht.constructor=ht,ht}();class PasswordException extends BaseException{constructor(ht,bt){super(ht,"PasswordException"),this.code=bt}}class UnknownErrorException extends BaseException{constructor(ht,bt){super(ht,"UnknownErrorException"),this.details=bt}}class InvalidPDFException extends BaseException{constructor(ht){super(ht,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor(ht){super(ht,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor(ht,bt){super(ht,"UnexpectedResponseException"),this.status=bt}}class FormatError extends BaseException{constructor(ht){super(ht,"FormatError")}}class AbortException extends BaseException{constructor(ht){super(ht,"AbortException")}}function bytesToString(vt){(typeof vt!="object"||(vt==null?void 0:vt.length)===void 0)&&unreachable("Invalid argument for bytesToString");const ht=vt.length,bt=8192;if(ht<bt)return String.fromCharCode.apply(null,vt);const _t=[];for(let xt=0;xt<ht;xt+=bt){const Et=Math.min(xt+bt,ht),wt=vt.subarray(xt,Et);_t.push(String.fromCharCode.apply(null,wt))}return _t.join("")}function stringToBytes(vt){typeof vt!="string"&&unreachable("Invalid argument for stringToBytes");const ht=vt.length,bt=new Uint8Array(ht);for(let _t=0;_t<ht;++_t)bt[_t]=vt.charCodeAt(_t)&255;return bt}function string32(vt){return String.fromCharCode(vt>>24&255,vt>>16&255,vt>>8&255,vt&255)}function objectFromMap(vt){const ht=Object.create(null);for(const[bt,_t]of vt)ht[bt]=_t;return ht}function isLittleEndian(){const vt=new Uint8Array(4);return vt[0]=1,new Uint32Array(vt.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var ht,bt;return shadow(this,"isCSSRoundSupported",(bt=(ht=globalThis.CSS)==null?void 0:ht.supports)==null?void 0:bt.call(ht,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),vt=>vt.toString(16).padStart(2,"0"));var fu,hy,T_;class Util{static makeHexColor(ht,bt,_t){return`#${hexNumbers[ht]}${hexNumbers[bt]}${hexNumbers[_t]}`}static scaleMinMax(ht,bt){let _t;ht[0]?(ht[0]<0&&(_t=bt[0],bt[0]=bt[2],bt[2]=_t),bt[0]*=ht[0],bt[2]*=ht[0],ht[3]<0&&(_t=bt[1],bt[1]=bt[3],bt[3]=_t),bt[1]*=ht[3],bt[3]*=ht[3]):(_t=bt[0],bt[0]=bt[1],bt[1]=_t,_t=bt[2],bt[2]=bt[3],bt[3]=_t,ht[1]<0&&(_t=bt[1],bt[1]=bt[3],bt[3]=_t),bt[1]*=ht[1],bt[3]*=ht[1],ht[2]<0&&(_t=bt[0],bt[0]=bt[2],bt[2]=_t),bt[0]*=ht[2],bt[2]*=ht[2]),bt[0]+=ht[4],bt[1]+=ht[5],bt[2]+=ht[4],bt[3]+=ht[5]}static transform(ht,bt){return[ht[0]*bt[0]+ht[2]*bt[1],ht[1]*bt[0]+ht[3]*bt[1],ht[0]*bt[2]+ht[2]*bt[3],ht[1]*bt[2]+ht[3]*bt[3],ht[0]*bt[4]+ht[2]*bt[5]+ht[4],ht[1]*bt[4]+ht[3]*bt[5]+ht[5]]}static applyTransform(ht,bt){const _t=ht[0]*bt[0]+ht[1]*bt[2]+bt[4],xt=ht[0]*bt[1]+ht[1]*bt[3]+bt[5];return[_t,xt]}static applyInverseTransform(ht,bt){const _t=bt[0]*bt[3]-bt[1]*bt[2],xt=(ht[0]*bt[3]-ht[1]*bt[2]+bt[2]*bt[5]-bt[4]*bt[3])/_t,Et=(-ht[0]*bt[1]+ht[1]*bt[0]+bt[4]*bt[1]-bt[5]*bt[0])/_t;return[xt,Et]}static getAxialAlignedBoundingBox(ht,bt){const _t=this.applyTransform(ht,bt),xt=this.applyTransform(ht.slice(2,4),bt),Et=this.applyTransform([ht[0],ht[3]],bt),wt=this.applyTransform([ht[2],ht[1]],bt);return[Math.min(_t[0],xt[0],Et[0],wt[0]),Math.min(_t[1],xt[1],Et[1],wt[1]),Math.max(_t[0],xt[0],Et[0],wt[0]),Math.max(_t[1],xt[1],Et[1],wt[1])]}static inverseTransform(ht){const bt=ht[0]*ht[3]-ht[1]*ht[2];return[ht[3]/bt,-ht[1]/bt,-ht[2]/bt,ht[0]/bt,(ht[2]*ht[5]-ht[4]*ht[3])/bt,(ht[4]*ht[1]-ht[5]*ht[0])/bt]}static singularValueDecompose2dScale(ht){const bt=[ht[0],ht[2],ht[1],ht[3]],_t=ht[0]*bt[0]+ht[1]*bt[2],xt=ht[0]*bt[1]+ht[1]*bt[3],Et=ht[2]*bt[0]+ht[3]*bt[2],wt=ht[2]*bt[1]+ht[3]*bt[3],At=(_t+wt)/2,St=Math.sqrt((_t+wt)**2-4*(_t*wt-Et*xt))/2,kt=At+St||1,Rt=At-St||1;return[Math.sqrt(kt),Math.sqrt(Rt)]}static normalizeRect(ht){const bt=ht.slice(0);return ht[0]>ht[2]&&(bt[0]=ht[2],bt[2]=ht[0]),ht[1]>ht[3]&&(bt[1]=ht[3],bt[3]=ht[1]),bt}static intersect(ht,bt){const _t=Math.max(Math.min(ht[0],ht[2]),Math.min(bt[0],bt[2])),xt=Math.min(Math.max(ht[0],ht[2]),Math.max(bt[0],bt[2]));if(_t>xt)return null;const Et=Math.max(Math.min(ht[1],ht[3]),Math.min(bt[1],bt[3])),wt=Math.min(Math.max(ht[1],ht[3]),Math.max(bt[1],bt[3]));return Et>wt?null:[_t,Et,xt,wt]}static bezierBoundingBox(ht,bt,_t,xt,Et,wt,At,St,kt){return kt?(kt[0]=Math.min(kt[0],ht,At),kt[1]=Math.min(kt[1],bt,St),kt[2]=Math.max(kt[2],ht,At),kt[3]=Math.max(kt[3],bt,St)):kt=[Math.min(ht,At),Math.min(bt,St),Math.max(ht,At),Math.max(bt,St)],Xt(this,fu,T_).call(this,ht,_t,Et,At,bt,xt,wt,St,3*(-ht+3*(_t-Et)+At),6*(ht-2*_t+Et),3*(_t-ht),kt),Xt(this,fu,T_).call(this,ht,_t,Et,At,bt,xt,wt,St,3*(-bt+3*(xt-wt)+St),6*(bt-2*xt+wt),3*(xt-bt),kt),kt}}fu=new WeakSet,hy=function(ht,bt,_t,xt,Et,wt,At,St,kt,Rt){if(kt<=0||kt>=1)return;const Pt=1-kt,Mt=kt*kt,Ft=Mt*kt,Lt=Pt*(Pt*(Pt*ht+3*kt*bt)+3*Mt*_t)+Ft*xt,Dt=Pt*(Pt*(Pt*Et+3*kt*wt)+3*Mt*At)+Ft*St;Rt[0]=Math.min(Rt[0],Lt),Rt[1]=Math.min(Rt[1],Dt),Rt[2]=Math.max(Rt[2],Lt),Rt[3]=Math.max(Rt[3],Dt)},T_=function(ht,bt,_t,xt,Et,wt,At,St,kt,Rt,Pt,Mt){if(Math.abs(kt)<1e-12){Math.abs(Rt)>=1e-12&&Xt(this,fu,hy).call(this,ht,bt,_t,xt,Et,wt,At,St,-Pt/Rt,Mt);return}const Ft=Rt**2-4*Pt*kt;if(Ft<0)return;const Lt=Math.sqrt(Ft),Dt=2*kt;Xt(this,fu,hy).call(this,ht,bt,_t,xt,Et,wt,At,St,(-Rt+Lt)/Dt,Mt),Xt(this,fu,hy).call(this,ht,bt,_t,xt,Et,wt,At,St,(-Rt-Lt)/Dt,Mt)},Qt(Util,fu);function stringToUTF8String(vt){return decodeURIComponent(escape(vt))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(vt){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),vt.replaceAll(NormalizeRegex,(ht,bt,_t)=>bt?bt.normalize("NFKC"):NormalizationMap.get(_t))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const vt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(vt);else for(let ht=0;ht<32;ht++)vt[ht]=Math.floor(Math.random()*255);return bytesToString(vt)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class BaseFilterFactory{constructor(){this.constructor===BaseFilterFactory&&unreachable("Cannot initialize BaseFilterFactory.")}addFilter(ht){return"none"}addHCMFilter(ht,bt){return"none"}addAlphaFilter(ht){return"none"}addLuminosityFilter(ht){return"none"}addHighlightHCMFilter(ht,bt,_t,xt,Et){return"none"}destroy(ht=!1){}}class BaseCanvasFactory{constructor(){this.constructor===BaseCanvasFactory&&unreachable("Cannot initialize BaseCanvasFactory.")}create(ht,bt){if(ht<=0||bt<=0)throw new Error("Invalid canvas size");const _t=this._createCanvas(ht,bt);return{canvas:_t,context:_t.getContext("2d")}}reset(ht,bt,_t){if(!ht.canvas)throw new Error("Canvas is not specified");if(bt<=0||_t<=0)throw new Error("Invalid canvas size");ht.canvas.width=bt,ht.canvas.height=_t}destroy(ht){if(!ht.canvas)throw new Error("Canvas is not specified");ht.canvas.width=0,ht.canvas.height=0,ht.canvas=null,ht.context=null}_createCanvas(ht,bt){unreachable("Abstract method `_createCanvas` called.")}}class BaseCMapReaderFactory{constructor({baseUrl:ht=null,isCompressed:bt=!0}){this.constructor===BaseCMapReaderFactory&&unreachable("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ht,this.isCompressed=bt}async fetch({name:ht}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ht)throw new Error("CMap name must be specified.");const bt=this.baseUrl+ht+(this.isCompressed?".bcmap":""),_t=this.isCompressed?CMapCompressionType.BINARY:CMapCompressionType.NONE;return this._fetchData(bt,_t).catch(xt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${bt}`)})}_fetchData(ht,bt){unreachable("Abstract method `_fetchData` called.")}}class BaseStandardFontDataFactory{constructor({baseUrl:ht=null}){this.constructor===BaseStandardFontDataFactory&&unreachable("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ht}async fetch({filename:ht}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ht)throw new Error("Font filename must be specified.");const bt=`${this.baseUrl}${ht}`;return this._fetchData(bt).catch(_t=>{throw new Error(`Unable to load font data at: ${bt}`)})}_fetchData(ht){unreachable("Abstract method `_fetchData` called.")}}class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&unreachable("Cannot initialize BaseSVGFactory.")}create(ht,bt,_t=!1){if(ht<=0||bt<=0)throw new Error("Invalid SVG dimensions");const xt=this._createSVG("svg:svg");return xt.setAttribute("version","1.1"),_t||(xt.setAttribute("width",`${ht}px`),xt.setAttribute("height",`${bt}px`)),xt.setAttribute("preserveAspectRatio","none"),xt.setAttribute("viewBox",`0 0 ${ht} ${bt}`),xt}createElement(ht){if(typeof ht!="string")throw new Error("Invalid SVG element type");return this._createSVG(ht)}_createSVG(ht){unreachable("Abstract method `_createSVG` called.")}}const SVG_NS="http://www.w3.org/2000/svg",Ju=class Ju{};Tr(Ju,"CSS",96),Tr(Ju,"PDF",72),Tr(Ju,"PDF_TO_CSS_UNITS",Ju.CSS/Ju.PDF);let PixelsPerInch=Ju;var _h,Jo,zl,go,Yy,_f,Or,so,Qp,Jp,fy,T1,R_,_g,i0,s0,k_,a0;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:bt,ownerDocument:_t=globalThis.document}={}){super();Qt(this,Or);Qt(this,_h);Qt(this,Jo);Qt(this,zl);Qt(this,go);Qt(this,Yy);Qt(this,_f,0);qt(this,zl,bt),qt(this,go,_t)}addFilter(bt){if(!bt)return"none";let _t=Ct(this,Or,so).get(bt);if(_t)return _t;const[xt,Et,wt]=Xt(this,Or,fy).call(this,bt),At=bt.length===1?xt:`${xt}${Et}${wt}`;if(_t=Ct(this,Or,so).get(At),_t)return Ct(this,Or,so).set(bt,_t),_t;const St=`g_${Ct(this,zl)}_transfer_map_${ba(this,_f)._++}`,kt=`url(#${St})`;Ct(this,Or,so).set(bt,kt),Ct(this,Or,so).set(At,kt);const Rt=Xt(this,Or,_g).call(this,St);return Xt(this,Or,s0).call(this,xt,Et,wt,Rt),kt}addHCMFilter(bt,_t){var Lt;const xt=`${bt}-${_t}`,Et="base";let wt=Ct(this,Or,Qp).get(Et);if((wt==null?void 0:wt.key)===xt||(wt?((Lt=wt.filter)==null||Lt.remove(),wt.key=xt,wt.url="none",wt.filter=null):(wt={key:xt,url:"none",filter:null},Ct(this,Or,Qp).set(Et,wt)),!bt||!_t))return wt.url;const At=Xt(this,Or,a0).call(this,bt);bt=Util.makeHexColor(...At);const St=Xt(this,Or,a0).call(this,_t);if(_t=Util.makeHexColor(...St),Ct(this,Or,Jp).style.color="",bt==="#000000"&&_t==="#ffffff"||bt===_t)return wt.url;const kt=new Array(256);for(let Dt=0;Dt<=255;Dt++){const Nt=Dt/255;kt[Dt]=Nt<=.03928?Nt/12.92:((Nt+.055)/1.055)**2.4}const Rt=kt.join(","),Pt=`g_${Ct(this,zl)}_hcm_filter`,Mt=wt.filter=Xt(this,Or,_g).call(this,Pt);Xt(this,Or,s0).call(this,Rt,Rt,Rt,Mt),Xt(this,Or,R_).call(this,Mt);const Ft=(Dt,Nt)=>{const $t=At[Dt]/255,Ot=St[Dt]/255,jt=new Array(Nt+1);for(let Ut=0;Ut<=Nt;Ut++)jt[Ut]=$t+Ut/Nt*(Ot-$t);return jt.join(",")};return Xt(this,Or,s0).call(this,Ft(0,5),Ft(1,5),Ft(2,5),Mt),wt.url=`url(#${Pt})`,wt.url}addAlphaFilter(bt){let _t=Ct(this,Or,so).get(bt);if(_t)return _t;const[xt]=Xt(this,Or,fy).call(this,[bt]),Et=`alpha_${xt}`;if(_t=Ct(this,Or,so).get(Et),_t)return Ct(this,Or,so).set(bt,_t),_t;const wt=`g_${Ct(this,zl)}_alpha_map_${ba(this,_f)._++}`,At=`url(#${wt})`;Ct(this,Or,so).set(bt,At),Ct(this,Or,so).set(Et,At);const St=Xt(this,Or,_g).call(this,wt);return Xt(this,Or,k_).call(this,xt,St),At}addLuminosityFilter(bt){let _t=Ct(this,Or,so).get(bt||"luminosity");if(_t)return _t;let xt,Et;if(bt?([xt]=Xt(this,Or,fy).call(this,[bt]),Et=`luminosity_${xt}`):Et="luminosity",_t=Ct(this,Or,so).get(Et),_t)return Ct(this,Or,so).set(bt,_t),_t;const wt=`g_${Ct(this,zl)}_luminosity_map_${ba(this,_f)._++}`,At=`url(#${wt})`;Ct(this,Or,so).set(bt,At),Ct(this,Or,so).set(Et,At);const St=Xt(this,Or,_g).call(this,wt);return Xt(this,Or,T1).call(this,St),bt&&Xt(this,Or,k_).call(this,xt,St),At}addHighlightHCMFilter(bt,_t,xt,Et,wt){var Ot;const At=`${_t}-${xt}-${Et}-${wt}`;let St=Ct(this,Or,Qp).get(bt);if((St==null?void 0:St.key)===At||(St?((Ot=St.filter)==null||Ot.remove(),St.key=At,St.url="none",St.filter=null):(St={key:At,url:"none",filter:null},Ct(this,Or,Qp).set(bt,St)),!_t||!xt))return St.url;const[kt,Rt]=[_t,xt].map(Xt(this,Or,a0).bind(this));let Pt=Math.round(.2126*kt[0]+.7152*kt[1]+.0722*kt[2]),Mt=Math.round(.2126*Rt[0]+.7152*Rt[1]+.0722*Rt[2]),[Ft,Lt]=[Et,wt].map(Xt(this,Or,a0).bind(this));Mt<Pt&&([Pt,Mt,Ft,Lt]=[Mt,Pt,Lt,Ft]),Ct(this,Or,Jp).style.color="";const Dt=(jt,Ut,Bt)=>{const Vt=new Array(256),zt=(Mt-Pt)/Bt,Gt=jt/255,en=(Ut-jt)/(255*Bt);let ln=0;for(let Kt=0;Kt<=Bt;Kt++){const on=Math.round(Pt+Kt*zt),fn=Gt+Kt*en;for(let En=ln;En<=on;En++)Vt[En]=fn;ln=on+1}for(let Kt=ln;Kt<256;Kt++)Vt[Kt]=Vt[ln-1];return Vt.join(",")},Nt=`g_${Ct(this,zl)}_hcm_${bt}_filter`,$t=St.filter=Xt(this,Or,_g).call(this,Nt);return Xt(this,Or,R_).call(this,$t),Xt(this,Or,s0).call(this,Dt(Ft[0],Lt[0],5),Dt(Ft[1],Lt[1],5),Dt(Ft[2],Lt[2],5),$t),St.url=`url(#${Nt})`,St.url}destroy(bt=!1){bt&&Ct(this,Or,Qp).size!==0||(Ct(this,Jo)&&(Ct(this,Jo).parentNode.parentNode.remove(),qt(this,Jo,null)),Ct(this,_h)&&(Ct(this,_h).clear(),qt(this,_h,null)),qt(this,_f,0))}}_h=new WeakMap,Jo=new WeakMap,zl=new WeakMap,go=new WeakMap,Yy=new WeakMap,_f=new WeakMap,Or=new WeakSet,so=function(){return Ct(this,_h)||qt(this,_h,new Map)},Qp=function(){return Ct(this,Yy)||qt(this,Yy,new Map)},Jp=function(){if(!Ct(this,Jo)){const bt=Ct(this,go).createElement("div"),{style:_t}=bt;_t.visibility="hidden",_t.contain="strict",_t.width=_t.height=0,_t.position="absolute",_t.top=_t.left=0,_t.zIndex=-1;const xt=Ct(this,go).createElementNS(SVG_NS,"svg");xt.setAttribute("width",0),xt.setAttribute("height",0),qt(this,Jo,Ct(this,go).createElementNS(SVG_NS,"defs")),bt.append(xt),xt.append(Ct(this,Jo)),Ct(this,go).body.append(bt)}return Ct(this,Jo)},fy=function(bt){if(bt.length===1){const kt=bt[0],Rt=new Array(256);for(let Mt=0;Mt<256;Mt++)Rt[Mt]=kt[Mt]/255;const Pt=Rt.join(",");return[Pt,Pt,Pt]}const[_t,xt,Et]=bt,wt=new Array(256),At=new Array(256),St=new Array(256);for(let kt=0;kt<256;kt++)wt[kt]=_t[kt]/255,At[kt]=xt[kt]/255,St[kt]=Et[kt]/255;return[wt.join(","),At.join(","),St.join(",")]},T1=function(bt){const _t=Ct(this,go).createElementNS(SVG_NS,"feColorMatrix");_t.setAttribute("type","matrix"),_t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),bt.append(_t)},R_=function(bt){const _t=Ct(this,go).createElementNS(SVG_NS,"feColorMatrix");_t.setAttribute("type","matrix"),_t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),bt.append(_t)},_g=function(bt){const _t=Ct(this,go).createElementNS(SVG_NS,"filter");return _t.setAttribute("color-interpolation-filters","sRGB"),_t.setAttribute("id",bt),Ct(this,Or,Jp).append(_t),_t},i0=function(bt,_t,xt){const Et=Ct(this,go).createElementNS(SVG_NS,_t);Et.setAttribute("type","discrete"),Et.setAttribute("tableValues",xt),bt.append(Et)},s0=function(bt,_t,xt,Et){const wt=Ct(this,go).createElementNS(SVG_NS,"feComponentTransfer");Et.append(wt),Xt(this,Or,i0).call(this,wt,"feFuncR",bt),Xt(this,Or,i0).call(this,wt,"feFuncG",_t),Xt(this,Or,i0).call(this,wt,"feFuncB",xt)},k_=function(bt,_t){const xt=Ct(this,go).createElementNS(SVG_NS,"feComponentTransfer");_t.append(xt),Xt(this,Or,i0).call(this,xt,"feFuncA",bt)},a0=function(bt){return Ct(this,Or,Jp).style.color=bt,getRGB(getComputedStyle(Ct(this,Or,Jp)).getPropertyValue("color"))};class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:ht=globalThis.document}={}){super(),this._document=ht}_createCanvas(ht,bt){const _t=this._document.createElement("canvas");return _t.width=ht,_t.height=bt,_t}}async function fetchData(vt,ht="text"){if(isValidFetchUrl(vt,document.baseURI)){const bt=await fetch(vt);if(!bt.ok)throw new Error(bt.statusText);switch(ht){case"arraybuffer":return bt.arrayBuffer();case"blob":return bt.blob();case"json":return bt.json()}return bt.text()}return new Promise((bt,_t)=>{const xt=new XMLHttpRequest;xt.open("GET",vt,!0),xt.responseType=ht,xt.onreadystatechange=()=>{if(xt.readyState===XMLHttpRequest.DONE){if(xt.status===200||xt.status===0){switch(ht){case"arraybuffer":case"blob":case"json":bt(xt.response);return}bt(xt.responseText);return}_t(new Error(xt.statusText))}},xt.send(null)})}class DOMCMapReaderFactory extends BaseCMapReaderFactory{_fetchData(ht,bt){return fetchData(ht,this.isCompressed?"arraybuffer":"text").then(_t=>({cMapData:_t instanceof ArrayBuffer?new Uint8Array(_t):stringToBytes(_t),compressionType:bt}))}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData(ht){return fetchData(ht,"arraybuffer").then(bt=>new Uint8Array(bt))}}class DOMSVGFactory extends BaseSVGFactory{_createSVG(ht){return document.createElementNS(SVG_NS,ht)}}class PageViewport{constructor({viewBox:ht,scale:bt,rotation:_t,offsetX:xt=0,offsetY:Et=0,dontFlip:wt=!1}){this.viewBox=ht,this.scale=bt,this.rotation=_t,this.offsetX=xt,this.offsetY=Et;const At=(ht[2]+ht[0])/2,St=(ht[3]+ht[1])/2;let kt,Rt,Pt,Mt;switch(_t%=360,_t<0&&(_t+=360),_t){case 180:kt=-1,Rt=0,Pt=0,Mt=1;break;case 90:kt=0,Rt=1,Pt=1,Mt=0;break;case 270:kt=0,Rt=-1,Pt=-1,Mt=0;break;case 0:kt=1,Rt=0,Pt=0,Mt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}wt&&(Pt=-Pt,Mt=-Mt);let Ft,Lt,Dt,Nt;kt===0?(Ft=Math.abs(St-ht[1])*bt+xt,Lt=Math.abs(At-ht[0])*bt+Et,Dt=(ht[3]-ht[1])*bt,Nt=(ht[2]-ht[0])*bt):(Ft=Math.abs(At-ht[0])*bt+xt,Lt=Math.abs(St-ht[1])*bt+Et,Dt=(ht[2]-ht[0])*bt,Nt=(ht[3]-ht[1])*bt),this.transform=[kt*bt,Rt*bt,Pt*bt,Mt*bt,Ft-kt*bt*At-Pt*bt*St,Lt-Rt*bt*At-Mt*bt*St],this.width=Dt,this.height=Nt}get rawDims(){const{viewBox:ht}=this;return shadow(this,"rawDims",{pageWidth:ht[2]-ht[0],pageHeight:ht[3]-ht[1],pageX:ht[0],pageY:ht[1]})}clone({scale:ht=this.scale,rotation:bt=this.rotation,offsetX:_t=this.offsetX,offsetY:xt=this.offsetY,dontFlip:Et=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:ht,rotation:bt,offsetX:_t,offsetY:xt,dontFlip:Et})}convertToViewportPoint(ht,bt){return Util.applyTransform([ht,bt],this.transform)}convertToViewportRectangle(ht){const bt=Util.applyTransform([ht[0],ht[1]],this.transform),_t=Util.applyTransform([ht[2],ht[3]],this.transform);return[bt[0],bt[1],_t[0],_t[1]]}convertToPdfPoint(ht,bt){return Util.applyInverseTransform([ht,bt],this.transform)}}class RenderingCancelledException extends BaseException{constructor(ht,bt=0){super(ht,"RenderingCancelledException"),this.extraDelay=bt}}function isDataScheme(vt){const ht=vt.length;let bt=0;for(;bt<ht&&vt[bt].trim()==="";)bt++;return vt.substring(bt,bt+5).toLowerCase()==="data:"}function isPdfFile(vt){return typeof vt=="string"&&/\.pdf$/i.test(vt)}function getFilenameFromUrl(vt){return[vt]=vt.split(/[#?]/,1),vt.substring(vt.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(vt,ht="document.pdf"){if(typeof vt!="string")return ht;if(isDataScheme(vt))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ht;const bt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,_t=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,xt=bt.exec(vt);let Et=_t.exec(xt[1])||_t.exec(xt[2])||_t.exec(xt[3]);if(Et&&(Et=Et[0],Et.includes("%")))try{Et=_t.exec(decodeURIComponent(Et))[0]}catch{}return Et||ht}class StatTimer{constructor(){Tr(this,"started",Object.create(null));Tr(this,"times",[])}time(ht){ht in this.started&&warn(`Timer is already running for ${ht}`),this.started[ht]=Date.now()}timeEnd(ht){ht in this.started||warn(`Timer has not been started for ${ht}`),this.times.push({name:ht,start:this.started[ht],end:Date.now()}),delete this.started[ht]}toString(){const ht=[];let bt=0;for(const{name:_t}of this.times)bt=Math.max(_t.length,bt);for(const{name:_t,start:xt,end:Et}of this.times)ht.push(`${_t.padEnd(bt)} ${Et-xt}ms
`);return ht.join("")}}function isValidFetchUrl(vt,ht){try{const{protocol:bt}=ht?new URL(vt,ht):new URL(vt);return bt==="http:"||bt==="https:"}catch{return!1}}function noContextMenu(vt){vt.preventDefault()}function deprecated(vt){console.log("Deprecated API usage: "+vt)}let pdfDateStringRegex;class PDFDateString{static toDateObject(ht){if(!ht||typeof ht!="string")return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const bt=pdfDateStringRegex.exec(ht);if(!bt)return null;const _t=parseInt(bt[1],10);let xt=parseInt(bt[2],10);xt=xt>=1&&xt<=12?xt-1:0;let Et=parseInt(bt[3],10);Et=Et>=1&&Et<=31?Et:1;let wt=parseInt(bt[4],10);wt=wt>=0&&wt<=23?wt:0;let At=parseInt(bt[5],10);At=At>=0&&At<=59?At:0;let St=parseInt(bt[6],10);St=St>=0&&St<=59?St:0;const kt=bt[7]||"Z";let Rt=parseInt(bt[8],10);Rt=Rt>=0&&Rt<=23?Rt:0;let Pt=parseInt(bt[9],10)||0;return Pt=Pt>=0&&Pt<=59?Pt:0,kt==="-"?(wt+=Rt,At+=Pt):kt==="+"&&(wt-=Rt,At-=Pt),new Date(Date.UTC(_t,xt,Et,wt,At,St))}}function getXfaPageViewport(vt,{scale:ht=1,rotation:bt=0}){const{width:_t,height:xt}=vt.attributes.style,Et=[0,0,parseInt(_t),parseInt(xt)];return new PageViewport({viewBox:Et,scale:ht,rotation:bt})}function getRGB(vt){if(vt.startsWith("#")){const ht=parseInt(vt.slice(1),16);return[(ht&16711680)>>16,(ht&65280)>>8,ht&255]}return vt.startsWith("rgb(")?vt.slice(4,-1).split(",").map(ht=>parseInt(ht)):vt.startsWith("rgba(")?vt.slice(5,-1).split(",").map(ht=>parseInt(ht)).slice(0,3):(warn(`Not a valid color format: "${vt}"`),[0,0,0])}function getColorValues(vt){const ht=document.createElement("span");ht.style.visibility="hidden",document.body.append(ht);for(const bt of vt.keys()){ht.style.color=bt;const _t=window.getComputedStyle(ht).color;vt.set(bt,getRGB(_t))}ht.remove()}function getCurrentTransform(vt){const{a:ht,b:bt,c:_t,d:xt,e:Et,f:wt}=vt.getTransform();return[ht,bt,_t,xt,Et,wt]}function getCurrentTransformInverse(vt){const{a:ht,b:bt,c:_t,d:xt,e:Et,f:wt}=vt.getTransform().invertSelf();return[ht,bt,_t,xt,Et,wt]}function setLayerDimensions(vt,ht,bt=!1,_t=!0){if(ht instanceof PageViewport){const{pageWidth:xt,pageHeight:Et}=ht.rawDims,{style:wt}=vt,At=util_FeatureTest.isCSSRoundSupported,St=`var(--scale-factor) * ${xt}px`,kt=`var(--scale-factor) * ${Et}px`,Rt=At?`round(${St}, 1px)`:`calc(${St})`,Pt=At?`round(${kt}, 1px)`:`calc(${kt})`;!bt||ht.rotation%180===0?(wt.width=Rt,wt.height=Pt):(wt.width=Pt,wt.height=Rt)}_t&&vt.setAttribute("data-main-rotation",ht.rotation)}var ep,tp,yl,np,Zy,R1,ho,k1,P1,py,M1,P_;const Qy=class Qy{constructor(ht){Qt(this,ho);Qt(this,ep,null);Qt(this,tp,null);Qt(this,yl);Qt(this,np,null);qt(this,yl,ht)}render(){const ht=qt(this,ep,document.createElement("div"));ht.className="editToolbar",ht.setAttribute("role","toolbar"),ht.addEventListener("contextmenu",noContextMenu),ht.addEventListener("pointerdown",Xt(Qy,Zy,R1));const bt=qt(this,np,document.createElement("div"));bt.className="buttons",ht.append(bt);const _t=Ct(this,yl).toolbarPosition;if(_t){const{style:xt}=ht,Et=Ct(this,yl)._uiManager.direction==="ltr"?1-_t[0]:_t[0];xt.insetInlineEnd=`${100*Et}%`,xt.top=`calc(${100*_t[1]}% + var(--editor-toolbar-vert-offset))`}return Xt(this,ho,M1).call(this),ht}hide(){var ht;Ct(this,ep).classList.add("hidden"),(ht=Ct(this,tp))==null||ht.hideDropdown()}show(){Ct(this,ep).classList.remove("hidden")}addAltTextButton(ht){Xt(this,ho,py).call(this,ht),Ct(this,np).prepend(ht,Ct(this,ho,P_))}addColorPicker(ht){qt(this,tp,ht);const bt=ht.renderButton();Xt(this,ho,py).call(this,bt),Ct(this,np).prepend(bt,Ct(this,ho,P_))}remove(){var ht;Ct(this,ep).remove(),(ht=Ct(this,tp))==null||ht.destroy(),qt(this,tp,null)}};ep=new WeakMap,tp=new WeakMap,yl=new WeakMap,np=new WeakMap,Zy=new WeakSet,R1=function(ht){ht.stopPropagation()},ho=new WeakSet,k1=function(ht){Ct(this,yl)._focusEventsAllowed=!1,ht.preventDefault(),ht.stopPropagation()},P1=function(ht){Ct(this,yl)._focusEventsAllowed=!0,ht.preventDefault(),ht.stopPropagation()},py=function(ht){ht.addEventListener("focusin",Xt(this,ho,k1).bind(this),{capture:!0}),ht.addEventListener("focusout",Xt(this,ho,P1).bind(this),{capture:!0}),ht.addEventListener("contextmenu",noContextMenu)},M1=function(){const ht=document.createElement("button");ht.className="delete",ht.tabIndex=0,ht.setAttribute("data-l10n-id",`pdfjs-editor-remove-${Ct(this,yl).editorType}-button`),Xt(this,ho,py).call(this,ht),ht.addEventListener("click",bt=>{Ct(this,yl)._uiManager.delete()}),Ct(this,np).append(ht)},P_=function(){const ht=document.createElement("div");return ht.className="divider",ht},Qt(Qy,Zy);let EditorToolbar=Qy;var S0,rp,C0,Wu,F1,L1,$1;class HighlightToolbar{constructor(ht){Qt(this,Wu);Qt(this,S0,null);Qt(this,rp,null);Qt(this,C0);qt(this,C0,ht)}show(ht,bt,_t){const[xt,Et]=Xt(this,Wu,L1).call(this,bt,_t),{style:wt}=Ct(this,rp)||qt(this,rp,Xt(this,Wu,F1).call(this));ht.append(Ct(this,rp)),wt.insetInlineEnd=`${100*xt}%`,wt.top=`calc(${100*Et}% + var(--editor-toolbar-vert-offset))`}hide(){Ct(this,rp).remove()}}S0=new WeakMap,rp=new WeakMap,C0=new WeakMap,Wu=new WeakSet,F1=function(){const ht=qt(this,rp,document.createElement("div"));ht.className="editToolbar",ht.setAttribute("role","toolbar"),ht.addEventListener("contextmenu",noContextMenu);const bt=qt(this,S0,document.createElement("div"));return bt.className="buttons",ht.append(bt),Xt(this,Wu,$1).call(this),ht},L1=function(ht,bt){let _t=0,xt=0;for(const Et of ht){const wt=Et.y+Et.height;if(wt<_t)continue;const At=Et.x+(bt?Et.width:0);if(wt>_t){xt=At,_t=wt;continue}bt?At>xt&&(xt=At):At<xt&&(xt=At)}return[bt?1-xt:xt,_t]},$1=function(){const ht=document.createElement("button");ht.className="highlightButton",ht.tabIndex=0,ht.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const bt=document.createElement("span");ht.append(bt),bt.className="visuallyHidden",bt.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),ht.addEventListener("contextmenu",noContextMenu),ht.addEventListener("click",()=>{Ct(this,C0).highlightSelection("floating_button")}),Ct(this,S0).append(ht)};function bindEvents(vt,ht,bt){for(const _t of bt)ht.addEventListener(_t,vt[_t].bind(vt))}function opacityToHex(vt){return Math.round(Math.min(255,Math.max(1,255*vt))).toString(16).padStart(2,"0")}var Jy;class IdManager{constructor(){Qt(this,Jy,0)}get id(){return`${AnnotationEditorPrefix}${ba(this,Jy)._++}`}}Jy=new WeakMap;var T0,_b,ko,R0,M_;const i1=class i1{constructor(){Qt(this,R0);Qt(this,T0,getUuid());Qt(this,_b,0);Qt(this,ko,null)}static get _isSVGFittingCanvas(){const ht='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',_t=new OffscreenCanvas(1,3).getContext("2d"),xt=new Image;xt.src=ht;const Et=xt.decode().then(()=>(_t.drawImage(xt,0,0,1,1,0,0,1,3),new Uint32Array(_t.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",Et)}async getFromFile(ht){const{lastModified:bt,name:_t,size:xt,type:Et}=ht;return Xt(this,R0,M_).call(this,`${bt}_${_t}_${xt}_${Et}`,ht)}async getFromUrl(ht){return Xt(this,R0,M_).call(this,ht,ht)}async getFromId(ht){Ct(this,ko)||qt(this,ko,new Map);const bt=Ct(this,ko).get(ht);return bt?bt.bitmap?(bt.refCounter+=1,bt):bt.file?this.getFromFile(bt.file):this.getFromUrl(bt.url):null}getSvgUrl(ht){const bt=Ct(this,ko).get(ht);return bt!=null&&bt.isSvg?bt.svgUrl:null}deleteId(ht){Ct(this,ko)||qt(this,ko,new Map);const bt=Ct(this,ko).get(ht);bt&&(bt.refCounter-=1,bt.refCounter===0&&(bt.bitmap=null))}isValidId(ht){return ht.startsWith(`image_${Ct(this,T0)}_`)}};T0=new WeakMap,_b=new WeakMap,ko=new WeakMap,R0=new WeakSet,M_=async function(ht,bt){Ct(this,ko)||qt(this,ko,new Map);let _t=Ct(this,ko).get(ht);if(_t===null)return null;if(_t!=null&&_t.bitmap)return _t.refCounter+=1,_t;try{_t||(_t={bitmap:null,id:`image_${Ct(this,T0)}_${ba(this,_b)._++}`,refCounter:0,isSvg:!1});let xt;if(typeof bt=="string"?(_t.url=bt,xt=await fetchData(bt,"blob")):xt=_t.file=bt,xt.type==="image/svg+xml"){const Et=i1._isSVGFittingCanvas,wt=new FileReader,At=new Image,St=new Promise((kt,Rt)=>{At.onload=()=>{_t.bitmap=At,_t.isSvg=!0,kt()},wt.onload=async()=>{const Pt=_t.svgUrl=wt.result;At.src=await Et?`${Pt}#svgView(preserveAspectRatio(none))`:Pt},At.onerror=wt.onerror=Rt});wt.readAsDataURL(xt),await St}else _t.bitmap=await createImageBitmap(xt);_t.refCounter=1}catch(xt){console.error(xt),_t=null}return Ct(this,ko).set(ht,_t),_t&&Ct(this,ko).set(_t.id,_t),_t};let ImageManager=i1;var Js,Au,k0,na;class CommandManager{constructor(ht=128){Qt(this,Js,[]);Qt(this,Au,!1);Qt(this,k0);Qt(this,na,-1);qt(this,k0,ht)}add({cmd:ht,undo:bt,post:_t,mustExec:xt,type:Et=NaN,overwriteIfSameType:wt=!1,keepUndo:At=!1}){if(xt&&ht(),Ct(this,Au))return;const St={cmd:ht,undo:bt,post:_t,type:Et};if(Ct(this,na)===-1){Ct(this,Js).length>0&&(Ct(this,Js).length=0),qt(this,na,0),Ct(this,Js).push(St);return}if(wt&&Ct(this,Js)[Ct(this,na)].type===Et){At&&(St.undo=Ct(this,Js)[Ct(this,na)].undo),Ct(this,Js)[Ct(this,na)]=St;return}const kt=Ct(this,na)+1;kt===Ct(this,k0)?Ct(this,Js).splice(0,1):(qt(this,na,kt),kt<Ct(this,Js).length&&Ct(this,Js).splice(kt)),Ct(this,Js).push(St)}undo(){if(Ct(this,na)===-1)return;qt(this,Au,!0);const{undo:ht,post:bt}=Ct(this,Js)[Ct(this,na)];ht(),bt==null||bt(),qt(this,Au,!1),qt(this,na,Ct(this,na)-1)}redo(){if(Ct(this,na)<Ct(this,Js).length-1){qt(this,na,Ct(this,na)+1),qt(this,Au,!0);const{cmd:ht,post:bt}=Ct(this,Js)[Ct(this,na)];ht(),bt==null||bt(),qt(this,Au,!1)}}hasSomethingToUndo(){return Ct(this,na)!==-1}hasSomethingToRedo(){return Ct(this,na)<Ct(this,Js).length-1}destroy(){qt(this,Js,null)}}Js=new WeakMap,Au=new WeakMap,k0=new WeakMap,na=new WeakMap;var e_,D1;class KeyboardManager{constructor(ht){Qt(this,e_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:bt}=util_FeatureTest.platform;for(const[_t,xt,Et={}]of ht)for(const wt of _t){const At=wt.startsWith("mac+");bt&&At?(this.callbacks.set(wt.slice(4),{callback:xt,options:Et}),this.allKeys.add(wt.split("+").at(-1))):!bt&&!At&&(this.callbacks.set(wt,{callback:xt,options:Et}),this.allKeys.add(wt.split("+").at(-1)))}}exec(ht,bt){if(!this.allKeys.has(bt.key))return;const _t=this.callbacks.get(Xt(this,e_,D1).call(this,bt));if(!_t)return;const{callback:xt,options:{bubbles:Et=!1,args:wt=[],checker:At=null}}=_t;At&&!At(ht,bt)||(xt.bind(ht,...wt,bt)(),Et||(bt.stopPropagation(),bt.preventDefault()))}}e_=new WeakSet,D1=function(ht){ht.altKey&&this.buffer.push("alt"),ht.ctrlKey&&this.buffer.push("ctrl"),ht.metaKey&&this.buffer.push("meta"),ht.shiftKey&&this.buffer.push("shift"),this.buffer.push(ht.key);const bt=this.buffer.join("+");return this.buffer.length=0,bt};const t_=class t_{get _colors(){const ht=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues(ht),shadow(this,"_colors",ht)}convert(ht){const bt=getRGB(ht);if(!window.matchMedia("(forced-colors: active)").matches)return bt;for(const[_t,xt]of this._colors)if(xt.every((Et,wt)=>Et===bt[wt]))return t_._colorsMapping.get(_t);return bt}getHexCode(ht){const bt=this._colors.get(ht);return bt?Util.makeHexColor(...bt):ht}};Tr(t_,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=t_;var xo,Xs,xa,cm,Vl,um,jo,dm,ip,_l,Wl,sp,P0,M0,xl,hm,Su,El,n_,Cu,F0,ap,L0,fm,$a,Es,Gl,op,$0,D0,O0,I0,N0,j0,B0,U0,H0,z0,V0,W0,G0,X0,Tu,wl,Xl,q0,Ar,gy,O1,I1,my,N1,j1,B1,F_,L_,$_,D_,O_,oo,Eu,U1,H1,I_,z1,o0,N_;const lm=class lm{constructor(ht,bt,_t,xt,Et,wt,At,St,kt){Qt(this,Ar);Qt(this,xo,null);Qt(this,Xs,new Map);Qt(this,xa,new Map);Qt(this,cm,null);Qt(this,Vl,null);Qt(this,um,null);Qt(this,jo,new CommandManager);Qt(this,dm,0);Qt(this,ip,new Set);Qt(this,_l,null);Qt(this,Wl,null);Qt(this,sp,new Set);Qt(this,P0,!1);Qt(this,M0,null);Qt(this,xl,null);Qt(this,hm,null);Qt(this,Su,!1);Qt(this,El,null);Qt(this,n_,new IdManager);Qt(this,Cu,!1);Qt(this,F0,!1);Qt(this,ap,null);Qt(this,L0,null);Qt(this,fm,null);Qt(this,$a,AnnotationEditorType.NONE);Qt(this,Es,new Set);Qt(this,Gl,null);Qt(this,op,null);Qt(this,$0,null);Qt(this,D0,this.blur.bind(this));Qt(this,O0,this.focus.bind(this));Qt(this,I0,this.copy.bind(this));Qt(this,N0,this.cut.bind(this));Qt(this,j0,this.paste.bind(this));Qt(this,B0,this.keydown.bind(this));Qt(this,U0,this.keyup.bind(this));Qt(this,H0,this.onEditingAction.bind(this));Qt(this,z0,this.onPageChanging.bind(this));Qt(this,V0,this.onScaleChanging.bind(this));Qt(this,W0,Xt(this,Ar,I1).bind(this));Qt(this,G0,this.onRotationChanging.bind(this));Qt(this,X0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Qt(this,Tu,[0,0]);Qt(this,wl,null);Qt(this,Xl,null);Qt(this,q0,null);qt(this,Xl,ht),qt(this,q0,bt),qt(this,cm,_t),this._eventBus=xt,this._eventBus._on("editingaction",Ct(this,H0)),this._eventBus._on("pagechanging",Ct(this,z0)),this._eventBus._on("scalechanging",Ct(this,V0)),this._eventBus._on("rotationchanging",Ct(this,G0)),Xt(this,Ar,N1).call(this),Xt(this,Ar,L_).call(this),qt(this,Vl,Et.annotationStorage),qt(this,M0,Et.filterFactory),qt(this,op,wt),qt(this,hm,At||null),qt(this,P0,St),qt(this,fm,kt||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const ht=lm.prototype,bt=wt=>Ct(wt,Xl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&wt.hasSomethingToControl(),_t=(wt,{target:At})=>{if(At instanceof HTMLInputElement){const{type:St}=At;return St!=="text"&&St!=="number"}return!0},xt=this.TRANSLATE_SMALL,Et=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],ht.selectAll,{checker:_t}],[["ctrl+z","mac+meta+z"],ht.undo,{checker:_t}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],ht.redo,{checker:_t}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],ht.delete,{checker:_t}],[["Enter","mac+Enter"],ht.addNewEditorFromKeyboard,{checker:(wt,{target:At})=>!(At instanceof HTMLButtonElement)&&Ct(wt,Xl).contains(At)&&!wt.isEnterHandled}],[[" ","mac+ "],ht.addNewEditorFromKeyboard,{checker:(wt,{target:At})=>!(At instanceof HTMLButtonElement)&&Ct(wt,Xl).contains(document.activeElement)}],[["Escape","mac+Escape"],ht.unselectAll],[["ArrowLeft","mac+ArrowLeft"],ht.translateSelectedEditors,{args:[-xt,0],checker:bt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ht.translateSelectedEditors,{args:[-Et,0],checker:bt}],[["ArrowRight","mac+ArrowRight"],ht.translateSelectedEditors,{args:[xt,0],checker:bt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ht.translateSelectedEditors,{args:[Et,0],checker:bt}],[["ArrowUp","mac+ArrowUp"],ht.translateSelectedEditors,{args:[0,-xt],checker:bt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ht.translateSelectedEditors,{args:[0,-Et],checker:bt}],[["ArrowDown","mac+ArrowDown"],ht.translateSelectedEditors,{args:[0,xt],checker:bt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ht.translateSelectedEditors,{args:[0,Et],checker:bt}]]))}destroy(){var ht,bt;Xt(this,Ar,$_).call(this),Xt(this,Ar,F_).call(this),this._eventBus._off("editingaction",Ct(this,H0)),this._eventBus._off("pagechanging",Ct(this,z0)),this._eventBus._off("scalechanging",Ct(this,V0)),this._eventBus._off("rotationchanging",Ct(this,G0));for(const _t of Ct(this,xa).values())_t.destroy();Ct(this,xa).clear(),Ct(this,Xs).clear(),Ct(this,sp).clear(),qt(this,xo,null),Ct(this,Es).clear(),Ct(this,jo).destroy(),(ht=Ct(this,cm))==null||ht.destroy(),(bt=Ct(this,El))==null||bt.hide(),qt(this,El,null),Ct(this,xl)&&(clearTimeout(Ct(this,xl)),qt(this,xl,null)),Ct(this,wl)&&(clearTimeout(Ct(this,wl)),qt(this,wl,null)),Xt(this,Ar,j1).call(this)}async mlGuess(ht){var bt;return((bt=Ct(this,fm))==null?void 0:bt.guess(ht))||null}get hasMLManager(){return!!Ct(this,fm)}get hcmFilter(){return shadow(this,"hcmFilter",Ct(this,op)?Ct(this,M0).addHCMFilter(Ct(this,op).foreground,Ct(this,op).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(Ct(this,Xl)).direction)}get highlightColors(){return shadow(this,"highlightColors",Ct(this,hm)?new Map(Ct(this,hm).split(",").map(ht=>ht.split("=").map(bt=>bt.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,ht=>ht.reverse())):null)}setMainHighlightColorPicker(ht){qt(this,L0,ht)}editAltText(ht){var bt;(bt=Ct(this,cm))==null||bt.editAltText(this,ht)}onPageChanging({pageNumber:ht}){qt(this,dm,ht-1)}focusMainContainer(){Ct(this,Xl).focus()}findParent(ht,bt){for(const _t of Ct(this,xa).values()){const{x:xt,y:Et,width:wt,height:At}=_t.div.getBoundingClientRect();if(ht>=xt&&ht<=xt+wt&&bt>=Et&&bt<=Et+At)return _t}return null}disableUserSelect(ht=!1){Ct(this,q0).classList.toggle("noUserSelect",ht)}addShouldRescale(ht){Ct(this,sp).add(ht)}removeShouldRescale(ht){Ct(this,sp).delete(ht)}onScaleChanging({scale:ht}){this.commitOrRemove(),this.viewParameters.realScale=ht*PixelsPerInch.PDF_TO_CSS_UNITS;for(const bt of Ct(this,sp))bt.onScaleChanging()}onRotationChanging({pagesRotation:ht}){this.commitOrRemove(),this.viewParameters.rotation=ht}highlightSelection(ht=""){const bt=document.getSelection();if(!bt||bt.isCollapsed)return;const{anchorNode:_t,anchorOffset:xt,focusNode:Et,focusOffset:wt}=bt,At=bt.toString(),kt=Xt(this,Ar,gy).call(this,bt).closest(".textLayer"),Rt=this.getSelectionBoxes(kt);if(Rt){bt.empty(),Ct(this,$a)===AnnotationEditorType.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:AnnotationEditorType.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const Pt of Ct(this,xa).values())if(Pt.hasTextLayer(kt)){Pt.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:ht,boxes:Rt,anchorNode:_t,anchorOffset:xt,focusNode:Et,focusOffset:wt,text:At});break}}}addToAnnotationStorage(ht){!ht.isEmpty()&&Ct(this,Vl)&&!Ct(this,Vl).has(ht.id)&&Ct(this,Vl).setValue(ht.id,ht)}blur(){if(this.isShiftKeyDown=!1,Ct(this,Su)&&(qt(this,Su,!1),Xt(this,Ar,my).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:ht}=document;for(const bt of Ct(this,Es))if(bt.div.contains(ht)){qt(this,ap,[bt,ht]),bt._focusEventsAllowed=!1;break}}focus(){if(!Ct(this,ap))return;const[ht,bt]=Ct(this,ap);qt(this,ap,null),bt.addEventListener("focusin",()=>{ht._focusEventsAllowed=!0},{once:!0}),bt.focus()}addEditListeners(){Xt(this,Ar,L_).call(this),Xt(this,Ar,D_).call(this)}removeEditListeners(){Xt(this,Ar,$_).call(this),Xt(this,Ar,O_).call(this)}copy(ht){var _t;if(ht.preventDefault(),(_t=Ct(this,xo))==null||_t.commitOrRemove(),!this.hasSelection)return;const bt=[];for(const xt of Ct(this,Es)){const Et=xt.serialize(!0);Et&&bt.push(Et)}bt.length!==0&&ht.clipboardData.setData("application/pdfjs",JSON.stringify(bt))}cut(ht){this.copy(ht),this.delete()}paste(ht){ht.preventDefault();const{clipboardData:bt}=ht;for(const Et of bt.items)for(const wt of Ct(this,Wl))if(wt.isHandlingMimeForPasting(Et.type)){wt.paste(Et,this.currentLayer);return}let _t=bt.getData("application/pdfjs");if(!_t)return;try{_t=JSON.parse(_t)}catch(Et){warn(`paste: "${Et.message}".`);return}if(!Array.isArray(_t))return;this.unselectAll();const xt=this.currentLayer;try{const Et=[];for(const St of _t){const kt=xt.deserialize(St);if(!kt)return;Et.push(kt)}const wt=()=>{for(const St of Et)Xt(this,Ar,I_).call(this,St);Xt(this,Ar,N_).call(this,Et)},At=()=>{for(const St of Et)St.remove()};this.addCommands({cmd:wt,undo:At,mustExec:!0})}catch(Et){warn(`paste: "${Et.message}".`)}}keydown(ht){!this.isShiftKeyDown&&ht.key==="Shift"&&(this.isShiftKeyDown=!0),Ct(this,$a)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&lm._keyboardManager.exec(this,ht)}keyup(ht){this.isShiftKeyDown&&ht.key==="Shift"&&(this.isShiftKeyDown=!1,Ct(this,Su)&&(qt(this,Su,!1),Xt(this,Ar,my).call(this,"main_toolbar")))}onEditingAction({name:ht}){switch(ht){case"undo":case"redo":case"delete":case"selectAll":this[ht]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(ht){ht?(Xt(this,Ar,B1).call(this),Xt(this,Ar,D_).call(this),Xt(this,Ar,oo).call(this,{isEditing:Ct(this,$a)!==AnnotationEditorType.NONE,isEmpty:Xt(this,Ar,o0).call(this),hasSomethingToUndo:Ct(this,jo).hasSomethingToUndo(),hasSomethingToRedo:Ct(this,jo).hasSomethingToRedo(),hasSelectedEditor:!1})):(Xt(this,Ar,F_).call(this),Xt(this,Ar,O_).call(this),Xt(this,Ar,oo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(ht){if(!Ct(this,Wl)){qt(this,Wl,ht);for(const bt of Ct(this,Wl))Xt(this,Ar,Eu).call(this,bt.defaultPropertiesToUpdate)}}getId(){return Ct(this,n_).id}get currentLayer(){return Ct(this,xa).get(Ct(this,dm))}getLayer(ht){return Ct(this,xa).get(ht)}get currentPageIndex(){return Ct(this,dm)}addLayer(ht){Ct(this,xa).set(ht.pageIndex,ht),Ct(this,Cu)?ht.enable():ht.disable()}removeLayer(ht){Ct(this,xa).delete(ht.pageIndex)}updateMode(ht,bt=null,_t=!1){if(Ct(this,$a)!==ht){if(qt(this,$a,ht),ht===AnnotationEditorType.NONE){this.setEditingState(!1),Xt(this,Ar,H1).call(this);return}this.setEditingState(!0),Xt(this,Ar,U1).call(this),this.unselectAll();for(const xt of Ct(this,xa).values())xt.updateMode(ht);if(!bt&&_t){this.addNewEditorFromKeyboard();return}if(bt){for(const xt of Ct(this,Xs).values())if(xt.annotationElementId===bt){this.setSelected(xt),xt.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(ht){ht!==Ct(this,$a)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:ht})}updateParams(ht,bt){var _t;if(Ct(this,Wl)){switch(ht){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(_t=Ct(this,L0))==null||_t.updateColor(bt);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(Ct(this,$0)||qt(this,$0,new Map)).set(ht,bt),this.showAllEditors("highlight",bt);break}for(const xt of Ct(this,Es))xt.updateParams(ht,bt);for(const xt of Ct(this,Wl))xt.updateDefaultParams(ht,bt)}}showAllEditors(ht,bt,_t=!1){var Et;for(const wt of Ct(this,Xs).values())wt.editorType===ht&&wt.show(bt);(((Et=Ct(this,$0))==null?void 0:Et.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==bt&&Xt(this,Ar,Eu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,bt]])}enableWaiting(ht=!1){if(Ct(this,F0)!==ht){qt(this,F0,ht);for(const bt of Ct(this,xa).values())ht?bt.disableClick():bt.enableClick(),bt.div.classList.toggle("waiting",ht)}}getEditors(ht){const bt=[];for(const _t of Ct(this,Xs).values())_t.pageIndex===ht&&bt.push(_t);return bt}getEditor(ht){return Ct(this,Xs).get(ht)}addEditor(ht){Ct(this,Xs).set(ht.id,ht)}removeEditor(ht){var bt;ht.div.contains(document.activeElement)&&(Ct(this,xl)&&clearTimeout(Ct(this,xl)),qt(this,xl,setTimeout(()=>{this.focusMainContainer(),qt(this,xl,null)},0))),Ct(this,Xs).delete(ht.id),this.unselect(ht),(!ht.annotationElementId||!Ct(this,ip).has(ht.annotationElementId))&&((bt=Ct(this,Vl))==null||bt.remove(ht.id))}addDeletedAnnotationElement(ht){Ct(this,ip).add(ht.annotationElementId),this.addChangedExistingAnnotation(ht),ht.deleted=!0}isDeletedAnnotationElement(ht){return Ct(this,ip).has(ht)}removeDeletedAnnotationElement(ht){Ct(this,ip).delete(ht.annotationElementId),this.removeChangedExistingAnnotation(ht),ht.deleted=!1}setActiveEditor(ht){Ct(this,xo)!==ht&&(qt(this,xo,ht),ht&&Xt(this,Ar,Eu).call(this,ht.propertiesToUpdate))}updateUI(ht){Ct(this,Ar,z1)===ht&&Xt(this,Ar,Eu).call(this,ht.propertiesToUpdate)}toggleSelected(ht){if(Ct(this,Es).has(ht)){Ct(this,Es).delete(ht),ht.unselect(),Xt(this,Ar,oo).call(this,{hasSelectedEditor:this.hasSelection});return}Ct(this,Es).add(ht),ht.select(),Xt(this,Ar,Eu).call(this,ht.propertiesToUpdate),Xt(this,Ar,oo).call(this,{hasSelectedEditor:!0})}setSelected(ht){for(const bt of Ct(this,Es))bt!==ht&&bt.unselect();Ct(this,Es).clear(),Ct(this,Es).add(ht),ht.select(),Xt(this,Ar,Eu).call(this,ht.propertiesToUpdate),Xt(this,Ar,oo).call(this,{hasSelectedEditor:!0})}isSelected(ht){return Ct(this,Es).has(ht)}get firstSelectedEditor(){return Ct(this,Es).values().next().value}unselect(ht){ht.unselect(),Ct(this,Es).delete(ht),Xt(this,Ar,oo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Ct(this,Es).size!==0}get isEnterHandled(){return Ct(this,Es).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){Ct(this,jo).undo(),Xt(this,Ar,oo).call(this,{hasSomethingToUndo:Ct(this,jo).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Xt(this,Ar,o0).call(this)})}redo(){Ct(this,jo).redo(),Xt(this,Ar,oo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ct(this,jo).hasSomethingToRedo(),isEmpty:Xt(this,Ar,o0).call(this)})}addCommands(ht){Ct(this,jo).add(ht),Xt(this,Ar,oo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Xt(this,Ar,o0).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const ht=[...Ct(this,Es)],bt=()=>{for(const xt of ht)xt.remove()},_t=()=>{for(const xt of ht)Xt(this,Ar,I_).call(this,xt)};this.addCommands({cmd:bt,undo:_t,mustExec:!0})}commitOrRemove(){var ht;(ht=Ct(this,xo))==null||ht.commitOrRemove()}hasSomethingToControl(){return Ct(this,xo)||this.hasSelection}selectAll(){for(const ht of Ct(this,Es))ht.commit();Xt(this,Ar,N_).call(this,Ct(this,Xs).values())}unselectAll(){if(!(Ct(this,xo)&&(Ct(this,xo).commitOrRemove(),Ct(this,$a)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const ht of Ct(this,Es))ht.unselect();Ct(this,Es).clear(),Xt(this,Ar,oo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(ht,bt,_t=!1){if(_t||this.commitOrRemove(),!this.hasSelection)return;Ct(this,Tu)[0]+=ht,Ct(this,Tu)[1]+=bt;const[xt,Et]=Ct(this,Tu),wt=[...Ct(this,Es)],At=1e3;Ct(this,wl)&&clearTimeout(Ct(this,wl)),qt(this,wl,setTimeout(()=>{qt(this,wl,null),Ct(this,Tu)[0]=Ct(this,Tu)[1]=0,this.addCommands({cmd:()=>{for(const St of wt)Ct(this,Xs).has(St.id)&&St.translateInPage(xt,Et)},undo:()=>{for(const St of wt)Ct(this,Xs).has(St.id)&&St.translateInPage(-xt,-Et)},mustExec:!1})},At));for(const St of wt)St.translateInPage(ht,bt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),qt(this,_l,new Map);for(const ht of Ct(this,Es))Ct(this,_l).set(ht,{savedX:ht.x,savedY:ht.y,savedPageIndex:ht.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Ct(this,_l))return!1;this.disableUserSelect(!1);const ht=Ct(this,_l);qt(this,_l,null);let bt=!1;for(const[{x:xt,y:Et,pageIndex:wt},At]of ht)At.newX=xt,At.newY=Et,At.newPageIndex=wt,bt||(bt=xt!==At.savedX||Et!==At.savedY||wt!==At.savedPageIndex);if(!bt)return!1;const _t=(xt,Et,wt,At)=>{if(Ct(this,Xs).has(xt.id)){const St=Ct(this,xa).get(At);St?xt._setParentAndPosition(St,Et,wt):(xt.pageIndex=At,xt.x=Et,xt.y=wt)}};return this.addCommands({cmd:()=>{for(const[xt,{newX:Et,newY:wt,newPageIndex:At}]of ht)_t(xt,Et,wt,At)},undo:()=>{for(const[xt,{savedX:Et,savedY:wt,savedPageIndex:At}]of ht)_t(xt,Et,wt,At)},mustExec:!0}),!0}dragSelectedEditors(ht,bt){if(Ct(this,_l))for(const _t of Ct(this,_l).keys())_t.drag(ht,bt)}rebuild(ht){if(ht.parent===null){const bt=this.getLayer(ht.pageIndex);bt?(bt.changeParent(ht),bt.addOrRebuild(ht)):(this.addEditor(ht),this.addToAnnotationStorage(ht),ht.rebuild())}else ht.parent.addOrRebuild(ht)}get isEditorHandlingKeyboard(){var ht;return((ht=this.getActive())==null?void 0:ht.shouldGetKeyboardEvents())||Ct(this,Es).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(ht){return Ct(this,xo)===ht}getActive(){return Ct(this,xo)}getMode(){return Ct(this,$a)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes(ht){if(!ht)return null;const bt=document.getSelection();for(let kt=0,Rt=bt.rangeCount;kt<Rt;kt++)if(!ht.contains(bt.getRangeAt(kt).commonAncestorContainer))return null;const{x:_t,y:xt,width:Et,height:wt}=ht.getBoundingClientRect();let At;switch(ht.getAttribute("data-main-rotation")){case"90":At=(kt,Rt,Pt,Mt)=>({x:(Rt-xt)/wt,y:1-(kt+Pt-_t)/Et,width:Mt/wt,height:Pt/Et});break;case"180":At=(kt,Rt,Pt,Mt)=>({x:1-(kt+Pt-_t)/Et,y:1-(Rt+Mt-xt)/wt,width:Pt/Et,height:Mt/wt});break;case"270":At=(kt,Rt,Pt,Mt)=>({x:1-(Rt+Mt-xt)/wt,y:(kt-_t)/Et,width:Mt/wt,height:Pt/Et});break;default:At=(kt,Rt,Pt,Mt)=>({x:(kt-_t)/Et,y:(Rt-xt)/wt,width:Pt/Et,height:Mt/wt});break}const St=[];for(let kt=0,Rt=bt.rangeCount;kt<Rt;kt++){const Pt=bt.getRangeAt(kt);if(!Pt.collapsed)for(const{x:Mt,y:Ft,width:Lt,height:Dt}of Pt.getClientRects())Lt===0||Dt===0||St.push(At(Mt,Ft,Lt,Dt))}return St.length===0?null:St}addChangedExistingAnnotation({annotationElementId:ht,id:bt}){(Ct(this,um)||qt(this,um,new Map)).set(ht,bt)}removeChangedExistingAnnotation({annotationElementId:ht}){var bt;(bt=Ct(this,um))==null||bt.delete(ht)}renderAnnotationElement(ht){var xt;const bt=(xt=Ct(this,um))==null?void 0:xt.get(ht.data.id);if(!bt)return;const _t=Ct(this,Vl).getRawValue(bt);_t&&(Ct(this,$a)===AnnotationEditorType.NONE&&!_t.hasBeenModified||_t.renderAnnotationElement(ht))}};xo=new WeakMap,Xs=new WeakMap,xa=new WeakMap,cm=new WeakMap,Vl=new WeakMap,um=new WeakMap,jo=new WeakMap,dm=new WeakMap,ip=new WeakMap,_l=new WeakMap,Wl=new WeakMap,sp=new WeakMap,P0=new WeakMap,M0=new WeakMap,xl=new WeakMap,hm=new WeakMap,Su=new WeakMap,El=new WeakMap,n_=new WeakMap,Cu=new WeakMap,F0=new WeakMap,ap=new WeakMap,L0=new WeakMap,fm=new WeakMap,$a=new WeakMap,Es=new WeakMap,Gl=new WeakMap,op=new WeakMap,$0=new WeakMap,D0=new WeakMap,O0=new WeakMap,I0=new WeakMap,N0=new WeakMap,j0=new WeakMap,B0=new WeakMap,U0=new WeakMap,H0=new WeakMap,z0=new WeakMap,V0=new WeakMap,W0=new WeakMap,G0=new WeakMap,X0=new WeakMap,Tu=new WeakMap,wl=new WeakMap,Xl=new WeakMap,q0=new WeakMap,Ar=new WeakSet,gy=function({anchorNode:ht}){return ht.nodeType===Node.TEXT_NODE?ht.parentElement:ht},O1=function(){const ht=document.getSelection();if(!ht||ht.isCollapsed)return;const _t=Xt(this,Ar,gy).call(this,ht).closest(".textLayer"),xt=this.getSelectionBoxes(_t);xt&&(Ct(this,El)||qt(this,El,new HighlightToolbar(this)),Ct(this,El).show(_t,xt,this.direction==="ltr"))},I1=function(){var Et,wt,At;const ht=document.getSelection();if(!ht||ht.isCollapsed){Ct(this,Gl)&&((Et=Ct(this,El))==null||Et.hide(),qt(this,Gl,null),Xt(this,Ar,oo).call(this,{hasSelectedText:!1}));return}const{anchorNode:bt}=ht;if(bt===Ct(this,Gl))return;if(!Xt(this,Ar,gy).call(this,ht).closest(".textLayer")){Ct(this,Gl)&&((wt=Ct(this,El))==null||wt.hide(),qt(this,Gl,null),Xt(this,Ar,oo).call(this,{hasSelectedText:!1}));return}if((At=Ct(this,El))==null||At.hide(),qt(this,Gl,bt),Xt(this,Ar,oo).call(this,{hasSelectedText:!0}),!(Ct(this,$a)!==AnnotationEditorType.HIGHLIGHT&&Ct(this,$a)!==AnnotationEditorType.NONE)&&(Ct(this,$a)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),qt(this,Su,this.isShiftKeyDown),!this.isShiftKeyDown)){const St=kt=>{kt.type==="pointerup"&&kt.button!==0||(window.removeEventListener("pointerup",St),window.removeEventListener("blur",St),kt.type==="pointerup"&&Xt(this,Ar,my).call(this,"main_toolbar"))};window.addEventListener("pointerup",St),window.addEventListener("blur",St)}},my=function(ht=""){Ct(this,$a)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection(ht):Ct(this,P0)&&Xt(this,Ar,O1).call(this)},N1=function(){document.addEventListener("selectionchange",Ct(this,W0))},j1=function(){document.removeEventListener("selectionchange",Ct(this,W0))},B1=function(){window.addEventListener("focus",Ct(this,O0)),window.addEventListener("blur",Ct(this,D0))},F_=function(){window.removeEventListener("focus",Ct(this,O0)),window.removeEventListener("blur",Ct(this,D0))},L_=function(){window.addEventListener("keydown",Ct(this,B0)),window.addEventListener("keyup",Ct(this,U0))},$_=function(){window.removeEventListener("keydown",Ct(this,B0)),window.removeEventListener("keyup",Ct(this,U0))},D_=function(){document.addEventListener("copy",Ct(this,I0)),document.addEventListener("cut",Ct(this,N0)),document.addEventListener("paste",Ct(this,j0))},O_=function(){document.removeEventListener("copy",Ct(this,I0)),document.removeEventListener("cut",Ct(this,N0)),document.removeEventListener("paste",Ct(this,j0))},oo=function(ht){Object.entries(ht).some(([_t,xt])=>Ct(this,X0)[_t]!==xt)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ct(this,X0),ht)}),Ct(this,$a)===AnnotationEditorType.HIGHLIGHT&&ht.hasSelectedEditor===!1&&Xt(this,Ar,Eu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},Eu=function(ht){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:ht})},U1=function(){if(!Ct(this,Cu)){qt(this,Cu,!0);for(const ht of Ct(this,xa).values())ht.enable();for(const ht of Ct(this,Xs).values())ht.enable()}},H1=function(){if(this.unselectAll(),Ct(this,Cu)){qt(this,Cu,!1);for(const ht of Ct(this,xa).values())ht.disable();for(const ht of Ct(this,Xs).values())ht.disable()}},I_=function(ht){const bt=Ct(this,xa).get(ht.pageIndex);bt?bt.addOrRebuild(ht):(this.addEditor(ht),this.addToAnnotationStorage(ht))},z1=function(){let ht=null;for(ht of Ct(this,Es));return ht},o0=function(){if(Ct(this,Xs).size===0)return!0;if(Ct(this,Xs).size===1)for(const ht of Ct(this,Xs).values())return ht.isEmpty();return!1},N_=function(ht){for(const bt of Ct(this,Es))bt.unselect();Ct(this,Es).clear();for(const bt of ht)bt.isEmpty()||(Ct(this,Es).add(bt),bt.select());Xt(this,Ar,oo).call(this,{hasSelectedEditor:this.hasSelection})},Tr(lm,"TRANSLATE_SMALL",1),Tr(lm,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=lm;var Kl,Yl,Bo,Zl,Uo,pm,Ql,K0,j_;const Bl=class Bl{constructor(ht){Qt(this,K0);Qt(this,Kl,"");Qt(this,Yl,!1);Qt(this,Bo,null);Qt(this,Zl,null);Qt(this,Uo,null);Qt(this,pm,!1);Qt(this,Ql,null);qt(this,Ql,ht)}static initialize(ht){Bl._l10nPromise||(Bl._l10nPromise=ht)}async render(){const ht=qt(this,Bo,document.createElement("button"));ht.className="altText";const bt=await Bl._l10nPromise.get("pdfjs-editor-alt-text-button-label");ht.textContent=bt,ht.setAttribute("aria-label",bt),ht.tabIndex="0",ht.addEventListener("contextmenu",noContextMenu),ht.addEventListener("pointerdown",xt=>xt.stopPropagation());const _t=xt=>{xt.preventDefault(),Ct(this,Ql)._uiManager.editAltText(Ct(this,Ql))};return ht.addEventListener("click",_t,{capture:!0}),ht.addEventListener("keydown",xt=>{xt.target===ht&&xt.key==="Enter"&&(qt(this,pm,!0),_t(xt))}),await Xt(this,K0,j_).call(this),ht}finish(){Ct(this,Bo)&&(Ct(this,Bo).focus({focusVisible:Ct(this,pm)}),qt(this,pm,!1))}isEmpty(){return!Ct(this,Kl)&&!Ct(this,Yl)}get data(){return{altText:Ct(this,Kl),decorative:Ct(this,Yl)}}set data({altText:ht,decorative:bt}){Ct(this,Kl)===ht&&Ct(this,Yl)===bt||(qt(this,Kl,ht),qt(this,Yl,bt),Xt(this,K0,j_).call(this))}toggle(ht=!1){Ct(this,Bo)&&(!ht&&Ct(this,Uo)&&(clearTimeout(Ct(this,Uo)),qt(this,Uo,null)),Ct(this,Bo).disabled=!ht)}destroy(){var ht;(ht=Ct(this,Bo))==null||ht.remove(),qt(this,Bo,null),qt(this,Zl,null)}};Kl=new WeakMap,Yl=new WeakMap,Bo=new WeakMap,Zl=new WeakMap,Uo=new WeakMap,pm=new WeakMap,Ql=new WeakMap,K0=new WeakSet,j_=async function(){var xt;const ht=Ct(this,Bo);if(!ht)return;if(!Ct(this,Kl)&&!Ct(this,Yl)){ht.classList.remove("done"),(xt=Ct(this,Zl))==null||xt.remove();return}ht.classList.add("done"),Bl._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(Et=>{ht.setAttribute("aria-label",Et)});let bt=Ct(this,Zl);if(!bt){qt(this,Zl,bt=document.createElement("span")),bt.className="tooltip",bt.setAttribute("role","tooltip");const Et=bt.id=`alt-text-tooltip-${Ct(this,Ql).id}`;ht.setAttribute("aria-describedby",Et);const wt=100;ht.addEventListener("mouseenter",()=>{qt(this,Uo,setTimeout(()=>{qt(this,Uo,null),Ct(this,Zl).classList.add("show"),Ct(this,Ql)._reportTelemetry({action:"alt_text_tooltip"})},wt))}),ht.addEventListener("mouseleave",()=>{var At;Ct(this,Uo)&&(clearTimeout(Ct(this,Uo)),qt(this,Uo,null)),(At=Ct(this,Zl))==null||At.classList.remove("show")})}bt.innerText=Ct(this,Yl)?await Bl._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):Ct(this,Kl),bt.parentNode||ht.append(bt);const _t=Ct(this,Ql).getImageForAltText();_t==null||_t.setAttribute("aria-describedby",bt.id)},Tr(Bl,"_l10nPromise",null);let AltText=Bl;var Ho,lo,gm,lp,eo,cp,mm,vm,ao,Y0,up,Ru,Z0,dp,Jl,Al,ym,bm,Po,Q0,r_,os,B_,J0,U_,H_,V1,W1,z_,V_,W_,G1,X1,q1,K1,G_,l0;const ks=class ks{constructor(ht){Qt(this,os);Qt(this,Ho,null);Qt(this,lo,null);Qt(this,gm,!1);Qt(this,lp,!1);Qt(this,eo,null);Qt(this,cp,null);Qt(this,mm,this.focusin.bind(this));Qt(this,vm,this.focusout.bind(this));Qt(this,ao,null);Qt(this,Y0,"");Qt(this,up,!1);Qt(this,Ru,null);Qt(this,Z0,!1);Qt(this,dp,!1);Qt(this,Jl,!1);Qt(this,Al,null);Qt(this,ym,0);Qt(this,bm,0);Qt(this,Po,null);Tr(this,"_initialOptions",Object.create(null));Tr(this,"_isVisible",!0);Tr(this,"_uiManager",null);Tr(this,"_focusEventsAllowed",!0);Tr(this,"_l10nPromise",null);Qt(this,Q0,!1);Qt(this,r_,ks._zIndex++);this.constructor===ks&&unreachable("Cannot initialize AnnotationEditor."),this.parent=ht.parent,this.id=ht.id,this.width=this.height=null,this.pageIndex=ht.parent.pageIndex,this.name=ht.name,this.div=null,this._uiManager=ht.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=ht.isCentered,this._structTreeParentId=null;const{rotation:bt,rawDims:{pageWidth:_t,pageHeight:xt,pageX:Et,pageY:wt}}=this.parent.viewport;this.rotation=bt,this.pageRotation=(360+bt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[_t,xt],this.pageTranslation=[Et,wt];const[At,St]=this.parentDimensions;this.x=ht.x/At,this.y=ht.y/St,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const ht=ks.prototype._resizeWithKeyboard,bt=AnnotationEditorUIManager.TRANSLATE_SMALL,_t=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],ht,{args:[-bt,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ht,{args:[-_t,0]}],[["ArrowRight","mac+ArrowRight"],ht,{args:[bt,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ht,{args:[_t,0]}],[["ArrowUp","mac+ArrowUp"],ht,{args:[0,-bt]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ht,{args:[0,-_t]}],[["ArrowDown","mac+ArrowDown"],ht,{args:[0,bt]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ht,{args:[0,_t]}],[["Escape","mac+Escape"],ks.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(ht){const bt=new FakeEditor({id:ht.parent.getNextId(),parent:ht.parent,uiManager:ht._uiManager});bt.annotationElementId=ht.annotationElementId,bt.deleted=!0,bt._uiManager.addToAnnotationStorage(bt)}static initialize(ht,bt,_t){if(ks._l10nPromise||(ks._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(Et=>[Et,ht.get(Et.replaceAll(/([A-Z])/g,wt=>`-${wt.toLowerCase()}`))]))),_t!=null&&_t.strings)for(const Et of _t.strings)ks._l10nPromise.set(Et,ht.get(Et));if(ks._borderLineWidth!==-1)return;const xt=getComputedStyle(document.documentElement);ks._borderLineWidth=parseFloat(xt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(ht,bt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(ht){return!1}static paste(ht,bt){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Ct(this,Q0)}set _isDraggable(ht){var bt;qt(this,Q0,ht),(bt=this.div)==null||bt.classList.toggle("draggable",ht)}get isEnterHandled(){return!0}center(){const[ht,bt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*bt/(ht*2),this.y+=this.width*ht/(bt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*bt/(ht*2),this.y-=this.width*ht/(bt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(ht){this._uiManager.addCommands(ht)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Ct(this,r_)}setParent(ht){ht!==null?(this.pageIndex=ht.pageIndex,this.pageDimensions=ht.pageDimensions):Xt(this,os,l0).call(this),this.parent=ht}focusin(ht){this._focusEventsAllowed&&(Ct(this,up)?qt(this,up,!1):this.parent.setSelected(this))}focusout(ht){var _t;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const bt=ht.relatedTarget;bt!=null&&bt.closest(`#${this.id}`)||(ht.preventDefault(),(_t=this.parent)!=null&&_t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(ht,bt,_t,xt){const[Et,wt]=this.parentDimensions;[_t,xt]=this.screenToPageTranslation(_t,xt),this.x=(ht+_t)/Et,this.y=(bt+xt)/wt,this.fixAndSetPosition()}translate(ht,bt){Xt(this,os,B_).call(this,this.parentDimensions,ht,bt)}translateInPage(ht,bt){Ct(this,Ru)||qt(this,Ru,[this.x,this.y]),Xt(this,os,B_).call(this,this.pageDimensions,ht,bt),this.div.scrollIntoView({block:"nearest"})}drag(ht,bt){Ct(this,Ru)||qt(this,Ru,[this.x,this.y]);const[_t,xt]=this.parentDimensions;if(this.x+=ht/_t,this.y+=bt/xt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:kt,y:Rt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,kt,Rt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Et,y:wt}=this;const[At,St]=this.getBaseTranslation();Et+=At,wt+=St,this.div.style.left=`${(100*Et).toFixed(2)}%`,this.div.style.top=`${(100*wt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!Ct(this,Ru)&&(Ct(this,Ru)[0]!==this.x||Ct(this,Ru)[1]!==this.y)}getBaseTranslation(){const[ht,bt]=this.parentDimensions,{_borderLineWidth:_t}=ks,xt=_t/ht,Et=_t/bt;switch(this.rotation){case 90:return[-xt,Et];case 180:return[xt,Et];case 270:return[xt,-Et];default:return[-xt,-Et]}}get _mustFixPosition(){return!0}fixAndSetPosition(ht=this.rotation){const[bt,_t]=this.pageDimensions;let{x:xt,y:Et,width:wt,height:At}=this;if(wt*=bt,At*=_t,xt*=bt,Et*=_t,this._mustFixPosition)switch(ht){case 0:xt=Math.max(0,Math.min(bt-wt,xt)),Et=Math.max(0,Math.min(_t-At,Et));break;case 90:xt=Math.max(0,Math.min(bt-At,xt)),Et=Math.min(_t,Math.max(wt,Et));break;case 180:xt=Math.min(bt,Math.max(wt,xt)),Et=Math.min(_t,Math.max(At,Et));break;case 270:xt=Math.min(bt,Math.max(At,xt)),Et=Math.max(0,Math.min(_t-wt,Et));break}this.x=xt/=bt,this.y=Et/=_t;const[St,kt]=this.getBaseTranslation();xt+=St,Et+=kt;const{style:Rt}=this.div;Rt.left=`${(100*xt).toFixed(2)}%`,Rt.top=`${(100*Et).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(ht,bt){var _t;return Xt(_t=ks,J0,U_).call(_t,ht,bt,this.parentRotation)}pageTranslationToScreen(ht,bt){var _t;return Xt(_t=ks,J0,U_).call(_t,ht,bt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:ht,pageDimensions:[bt,_t]}=this,xt=bt*ht,Et=_t*ht;return util_FeatureTest.isCSSRoundSupported?[Math.round(xt),Math.round(Et)]:[xt,Et]}setDims(ht,bt){const[_t,xt]=this.parentDimensions;this.div.style.width=`${(100*ht/_t).toFixed(2)}%`,Ct(this,lp)||(this.div.style.height=`${(100*bt/xt).toFixed(2)}%`)}fixDims(){const{style:ht}=this.div,{height:bt,width:_t}=ht,xt=_t.endsWith("%"),Et=!Ct(this,lp)&&bt.endsWith("%");if(xt&&Et)return;const[wt,At]=this.parentDimensions;xt||(ht.width=`${(100*parseFloat(_t)/wt).toFixed(2)}%`),!Ct(this,lp)&&!Et&&(ht.height=`${(100*parseFloat(bt)/At).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var ht;(ht=Ct(this,lo))==null||ht.finish()}async addEditToolbar(){return Ct(this,ao)||Ct(this,dp)?Ct(this,ao):(qt(this,ao,new EditorToolbar(this)),this.div.append(Ct(this,ao).render()),Ct(this,lo)&&Ct(this,ao).addAltTextButton(await Ct(this,lo).render()),Ct(this,ao))}removeEditToolbar(){var ht;Ct(this,ao)&&(Ct(this,ao).remove(),qt(this,ao,null),(ht=Ct(this,lo))==null||ht.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){Ct(this,lo)||(AltText.initialize(ks._l10nPromise),qt(this,lo,new AltText(this)),await this.addEditToolbar())}get altTextData(){var ht;return(ht=Ct(this,lo))==null?void 0:ht.data}set altTextData(ht){Ct(this,lo)&&(Ct(this,lo).data=ht)}hasAltText(){var ht;return!((ht=Ct(this,lo))!=null&&ht.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=Ct(this,gm)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",Ct(this,mm)),this.div.addEventListener("focusout",Ct(this,vm));const[ht,bt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*bt/ht).toFixed(2)}%`,this.div.style.maxHeight=`${(100*ht/bt).toFixed(2)}%`);const[_t,xt]=this.getInitialTranslation();return this.translate(_t,xt),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown(ht){const{isMac:bt}=util_FeatureTest.platform;if(ht.button!==0||ht.ctrlKey&&bt){ht.preventDefault();return}if(qt(this,up,!0),this._isDraggable){Xt(this,os,G1).call(this,ht);return}Xt(this,os,W_).call(this,ht)}moveInDOM(){Ct(this,Al)&&clearTimeout(Ct(this,Al)),qt(this,Al,setTimeout(()=>{var ht;qt(this,Al,null),(ht=this.parent)==null||ht.moveEditorInDOM(this)},0))}_setParentAndPosition(ht,bt,_t){ht.changeParent(this),this.x=bt,this.y=_t,this.fixAndSetPosition()}getRect(ht,bt,_t=this.rotation){const xt=this.parentScale,[Et,wt]=this.pageDimensions,[At,St]=this.pageTranslation,kt=ht/xt,Rt=bt/xt,Pt=this.x*Et,Mt=this.y*wt,Ft=this.width*Et,Lt=this.height*wt;switch(_t){case 0:return[Pt+kt+At,wt-Mt-Rt-Lt+St,Pt+kt+Ft+At,wt-Mt-Rt+St];case 90:return[Pt+Rt+At,wt-Mt+kt+St,Pt+Rt+Lt+At,wt-Mt+kt+Ft+St];case 180:return[Pt-kt-Ft+At,wt-Mt+Rt+St,Pt-kt+At,wt-Mt+Rt+Lt+St];case 270:return[Pt-Rt-Lt+At,wt-Mt-kt-Ft+St,Pt-Rt+At,wt-Mt-kt+St];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(ht,bt){const[_t,xt,Et,wt]=ht,At=Et-_t,St=wt-xt;switch(this.rotation){case 0:return[_t,bt-wt,At,St];case 90:return[_t,bt-xt,St,At];case 180:return[Et,bt-xt,At,St];case 270:return[Et,bt-wt,St,At];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){qt(this,dp,!0)}disableEditMode(){qt(this,dp,!1)}isInEditMode(){return Ct(this,dp)}shouldGetKeyboardEvents(){return Ct(this,Jl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var ht,bt;(ht=this.div)==null||ht.addEventListener("focusin",Ct(this,mm)),(bt=this.div)==null||bt.addEventListener("focusout",Ct(this,vm))}rotate(ht){}serialize(ht=!1,bt=null){unreachable("An editor must be serializable")}static deserialize(ht,bt,_t){const xt=new this.prototype.constructor({parent:bt,id:bt.getNextId(),uiManager:_t});xt.rotation=ht.rotation;const[Et,wt]=xt.pageDimensions,[At,St,kt,Rt]=xt.getRectInCurrentCoords(ht.rect,wt);return xt.x=At/Et,xt.y=St/wt,xt.width=kt/Et,xt.height=Rt/wt,xt}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",Ct(this,mm)),this.div.removeEventListener("focusout",Ct(this,vm)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),Ct(this,Al)&&(clearTimeout(Ct(this,Al)),qt(this,Al,null)),Xt(this,os,l0).call(this),this.removeEditToolbar(),Ct(this,Po)){for(const ht of Ct(this,Po).values())clearTimeout(ht);qt(this,Po,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(Xt(this,os,V1).call(this),Ct(this,eo).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(ht){if(!this.isResizable||ht.target!==this.div||ht.key!=="Enter")return;this._uiManager.setSelected(this),qt(this,cp,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const bt=Ct(this,eo).children;if(!Ct(this,Ho)){qt(this,Ho,Array.from(bt));const wt=Xt(this,os,X1).bind(this),At=Xt(this,os,q1).bind(this);for(const St of Ct(this,Ho)){const kt=St.getAttribute("data-resizer-name");St.setAttribute("role","spinbutton"),St.addEventListener("keydown",wt),St.addEventListener("blur",At),St.addEventListener("focus",Xt(this,os,K1).bind(this,kt)),ks._l10nPromise.get(`pdfjs-editor-resizer-label-${kt}`).then(Rt=>St.setAttribute("aria-label",Rt))}}const _t=Ct(this,Ho)[0];let xt=0;for(const wt of bt){if(wt===_t)break;xt++}const Et=(360-this.rotation+this.parentRotation)%360/90*(Ct(this,Ho).length/4);if(Et!==xt){if(Et<xt)for(let At=0;At<xt-Et;At++)Ct(this,eo).append(Ct(this,eo).firstChild);else if(Et>xt)for(let At=0;At<Et-xt;At++)Ct(this,eo).firstChild.before(Ct(this,eo).lastChild);let wt=0;for(const At of bt){const kt=Ct(this,Ho)[wt++].getAttribute("data-resizer-name");ks._l10nPromise.get(`pdfjs-editor-resizer-label-${kt}`).then(Rt=>At.setAttribute("aria-label",Rt))}}Xt(this,os,G_).call(this,0),qt(this,Jl,!0),Ct(this,eo).firstChild.focus({focusVisible:!0}),ht.preventDefault(),ht.stopImmediatePropagation()}_resizeWithKeyboard(ht,bt){Ct(this,Jl)&&Xt(this,os,V_).call(this,Ct(this,Y0),{movementX:ht,movementY:bt})}_stopResizingWithKeyboard(){Xt(this,os,l0).call(this),this.div.focus()}select(){var ht,bt;if(this.makeResizable(),(ht=this.div)==null||ht.classList.add("selectedEditor"),!Ct(this,ao)){this.addEditToolbar().then(()=>{var _t,xt;(_t=this.div)!=null&&_t.classList.contains("selectedEditor")&&((xt=Ct(this,ao))==null||xt.show())});return}(bt=Ct(this,ao))==null||bt.show()}unselect(){var ht,bt,_t,xt;(ht=Ct(this,eo))==null||ht.classList.add("hidden"),(bt=this.div)==null||bt.classList.remove("selectedEditor"),(_t=this.div)!=null&&_t.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(xt=Ct(this,ao))==null||xt.hide()}updateParams(ht,bt){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return Ct(this,Z0)}set isEditing(ht){qt(this,Z0,ht),this.parent&&(ht?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(ht,bt){qt(this,lp,!0);const _t=ht/bt,{style:xt}=this.div;xt.aspectRatio=_t,xt.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(ht,bt=!1){if(bt){Ct(this,Po)||qt(this,Po,new Map);const{action:_t}=ht;let xt=Ct(this,Po).get(_t);xt&&clearTimeout(xt),xt=setTimeout(()=>{this._reportTelemetry(ht),Ct(this,Po).delete(_t),Ct(this,Po).size===0&&qt(this,Po,null)},ks._telemetryTimeout),Ct(this,Po).set(_t,xt);return}ht.type||(ht.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:ht}})}show(ht=this._isVisible){this.div.classList.toggle("hidden",!ht),this._isVisible=ht}enable(){this.div&&(this.div.tabIndex=0),qt(this,gm,!1)}disable(){this.div&&(this.div.tabIndex=-1),qt(this,gm,!0)}renderAnnotationElement(ht){let bt=ht.container.querySelector(".annotationContent");if(!bt)bt=document.createElement("div"),bt.classList.add("annotationContent",this.editorType),ht.container.prepend(bt);else if(bt.nodeName==="CANVAS"){const _t=bt;bt=document.createElement("div"),bt.classList.add("annotationContent",this.editorType),_t.before(bt)}return bt}resetAnnotationElement(ht){const{firstChild:bt}=ht.container;bt.nodeName==="DIV"&&bt.classList.contains("annotationContent")&&bt.remove()}};Ho=new WeakMap,lo=new WeakMap,gm=new WeakMap,lp=new WeakMap,eo=new WeakMap,cp=new WeakMap,mm=new WeakMap,vm=new WeakMap,ao=new WeakMap,Y0=new WeakMap,up=new WeakMap,Ru=new WeakMap,Z0=new WeakMap,dp=new WeakMap,Jl=new WeakMap,Al=new WeakMap,ym=new WeakMap,bm=new WeakMap,Po=new WeakMap,Q0=new WeakMap,r_=new WeakMap,os=new WeakSet,B_=function([ht,bt],_t,xt){[_t,xt]=this.screenToPageTranslation(_t,xt),this.x+=_t/ht,this.y+=xt/bt,this.fixAndSetPosition()},J0=new WeakSet,U_=function(ht,bt,_t){switch(_t){case 90:return[bt,-ht];case 180:return[-ht,-bt];case 270:return[-bt,ht];default:return[ht,bt]}},H_=function(ht){switch(ht){case 90:{const[bt,_t]=this.pageDimensions;return[0,-bt/_t,_t/bt,0]}case 180:return[-1,0,0,-1];case 270:{const[bt,_t]=this.pageDimensions;return[0,bt/_t,-_t/bt,0]}default:return[1,0,0,1]}},V1=function(){if(Ct(this,eo))return;qt(this,eo,document.createElement("div")),Ct(this,eo).classList.add("resizers");const ht=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const bt of ht){const _t=document.createElement("div");Ct(this,eo).append(_t),_t.classList.add("resizer",bt),_t.setAttribute("data-resizer-name",bt),_t.addEventListener("pointerdown",Xt(this,os,W1).bind(this,bt)),_t.addEventListener("contextmenu",noContextMenu),_t.tabIndex=-1}this.div.prepend(Ct(this,eo))},W1=function(ht,bt){var Lt;bt.preventDefault();const{isMac:_t}=util_FeatureTest.platform;if(bt.button!==0||bt.ctrlKey&&_t)return;(Lt=Ct(this,lo))==null||Lt.toggle(!1);const xt=Xt(this,os,V_).bind(this,ht),Et=this._isDraggable;this._isDraggable=!1;const wt={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",xt,wt),window.addEventListener("contextmenu",noContextMenu);const At=this.x,St=this.y,kt=this.width,Rt=this.height,Pt=this.parent.div.style.cursor,Mt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(bt.target).cursor;const Ft=()=>{var Dt;this.parent.togglePointerEvents(!0),(Dt=Ct(this,lo))==null||Dt.toggle(!0),this._isDraggable=Et,window.removeEventListener("pointerup",Ft),window.removeEventListener("blur",Ft),window.removeEventListener("pointermove",xt,wt),window.removeEventListener("contextmenu",noContextMenu),this.parent.div.style.cursor=Pt,this.div.style.cursor=Mt,Xt(this,os,z_).call(this,At,St,kt,Rt)};window.addEventListener("pointerup",Ft),window.addEventListener("blur",Ft)},z_=function(ht,bt,_t,xt){const Et=this.x,wt=this.y,At=this.width,St=this.height;Et===ht&&wt===bt&&At===_t&&St===xt||this.addCommands({cmd:()=>{this.width=At,this.height=St,this.x=Et,this.y=wt;const[kt,Rt]=this.parentDimensions;this.setDims(kt*At,Rt*St),this.fixAndSetPosition()},undo:()=>{this.width=_t,this.height=xt,this.x=ht,this.y=bt;const[kt,Rt]=this.parentDimensions;this.setDims(kt*_t,Rt*xt),this.fixAndSetPosition()},mustExec:!0})},V_=function(ht,bt){const[_t,xt]=this.parentDimensions,Et=this.x,wt=this.y,At=this.width,St=this.height,kt=ks.MIN_SIZE/_t,Rt=ks.MIN_SIZE/xt,Pt=pn=>Math.round(pn*1e4)/1e4,Mt=Xt(this,os,H_).call(this,this.rotation),Ft=(pn,sn)=>[Mt[0]*pn+Mt[2]*sn,Mt[1]*pn+Mt[3]*sn],Lt=Xt(this,os,H_).call(this,360-this.rotation),Dt=(pn,sn)=>[Lt[0]*pn+Lt[2]*sn,Lt[1]*pn+Lt[3]*sn];let Nt,$t,Ot=!1,jt=!1;switch(ht){case"topLeft":Ot=!0,Nt=(pn,sn)=>[0,0],$t=(pn,sn)=>[pn,sn];break;case"topMiddle":Nt=(pn,sn)=>[pn/2,0],$t=(pn,sn)=>[pn/2,sn];break;case"topRight":Ot=!0,Nt=(pn,sn)=>[pn,0],$t=(pn,sn)=>[0,sn];break;case"middleRight":jt=!0,Nt=(pn,sn)=>[pn,sn/2],$t=(pn,sn)=>[0,sn/2];break;case"bottomRight":Ot=!0,Nt=(pn,sn)=>[pn,sn],$t=(pn,sn)=>[0,0];break;case"bottomMiddle":Nt=(pn,sn)=>[pn/2,sn],$t=(pn,sn)=>[pn/2,0];break;case"bottomLeft":Ot=!0,Nt=(pn,sn)=>[0,sn],$t=(pn,sn)=>[pn,0];break;case"middleLeft":jt=!0,Nt=(pn,sn)=>[0,sn/2],$t=(pn,sn)=>[pn,sn/2];break}const Ut=Nt(At,St),Bt=$t(At,St);let Vt=Ft(...Bt);const zt=Pt(Et+Vt[0]),Gt=Pt(wt+Vt[1]);let en=1,ln=1,[Kt,on]=this.screenToPageTranslation(bt.movementX,bt.movementY);if([Kt,on]=Dt(Kt/_t,on/xt),Ot){const pn=Math.hypot(At,St);en=ln=Math.max(Math.min(Math.hypot(Bt[0]-Ut[0]-Kt,Bt[1]-Ut[1]-on)/pn,1/At,1/St),kt/At,Rt/St)}else jt?en=Math.max(kt,Math.min(1,Math.abs(Bt[0]-Ut[0]-Kt)))/At:ln=Math.max(Rt,Math.min(1,Math.abs(Bt[1]-Ut[1]-on)))/St;const fn=Pt(At*en),En=Pt(St*ln);Vt=Ft(...$t(fn,En));const gn=zt-Vt[0],wn=Gt-Vt[1];this.width=fn,this.height=En,this.x=gn,this.y=wn,this.setDims(_t*fn,xt*En),this.fixAndSetPosition()},W_=function(ht){const{isMac:bt}=util_FeatureTest.platform;ht.ctrlKey&&!bt||ht.shiftKey||ht.metaKey&&bt?this.parent.toggleSelected(this):this.parent.setSelected(this)},G1=function(ht){const bt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let _t,xt;bt&&(this.div.classList.add("moving"),_t={passive:!0,capture:!0},qt(this,ym,ht.clientX),qt(this,bm,ht.clientY),xt=wt=>{const{clientX:At,clientY:St}=wt,[kt,Rt]=this.screenToPageTranslation(At-Ct(this,ym),St-Ct(this,bm));qt(this,ym,At),qt(this,bm,St),this._uiManager.dragSelectedEditors(kt,Rt)},window.addEventListener("pointermove",xt,_t));const Et=()=>{window.removeEventListener("pointerup",Et),window.removeEventListener("blur",Et),bt&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",xt,_t)),qt(this,up,!1),this._uiManager.endDragSession()||Xt(this,os,W_).call(this,ht)};window.addEventListener("pointerup",Et),window.addEventListener("blur",Et)},X1=function(ht){ks._resizerKeyboardManager.exec(this,ht)},q1=function(ht){var bt;Ct(this,Jl)&&((bt=ht.relatedTarget)==null?void 0:bt.parentNode)!==Ct(this,eo)&&Xt(this,os,l0).call(this)},K1=function(ht){qt(this,Y0,Ct(this,Jl)?ht:"")},G_=function(ht){if(Ct(this,Ho))for(const bt of Ct(this,Ho))bt.tabIndex=ht},l0=function(){if(qt(this,Jl,!1),Xt(this,os,G_).call(this,-1),Ct(this,cp)){const{savedX:ht,savedY:bt,savedWidth:_t,savedHeight:xt}=Ct(this,cp);Xt(this,os,z_).call(this,ht,bt,_t,xt),qt(this,cp,null)}},Qt(ks,J0),Tr(ks,"_borderLineWidth",-1),Tr(ks,"_colorManager",new ColorManager),Tr(ks,"_zIndex",1),Tr(ks,"_telemetryTimeout",1e3);let AnnotationEditor=ks;class FakeEditor extends AnnotationEditor{constructor(ht){super(ht),this.annotationElementId=ht.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(ht){this.h1=ht?ht&4294967295:SEED,this.h2=ht?ht&4294967295:SEED}update(ht){let bt,_t;if(typeof ht=="string"){bt=new Uint8Array(ht.length*2),_t=0;for(let Dt=0,Nt=ht.length;Dt<Nt;Dt++){const $t=ht.charCodeAt(Dt);$t<=255?bt[_t++]=$t:(bt[_t++]=$t>>>8,bt[_t++]=$t&255)}}else if(ArrayBuffer.isView(ht))bt=ht.slice(),_t=bt.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const xt=_t>>2,Et=_t-xt*4,wt=new Uint32Array(bt.buffer,0,xt);let At=0,St=0,kt=this.h1,Rt=this.h2;const Pt=3432918353,Mt=461845907,Ft=Pt&MASK_LOW,Lt=Mt&MASK_LOW;for(let Dt=0;Dt<xt;Dt++)Dt&1?(At=wt[Dt],At=At*Pt&MASK_HIGH|At*Ft&MASK_LOW,At=At<<15|At>>>17,At=At*Mt&MASK_HIGH|At*Lt&MASK_LOW,kt^=At,kt=kt<<13|kt>>>19,kt=kt*5+3864292196):(St=wt[Dt],St=St*Pt&MASK_HIGH|St*Ft&MASK_LOW,St=St<<15|St>>>17,St=St*Mt&MASK_HIGH|St*Lt&MASK_LOW,Rt^=St,Rt=Rt<<13|Rt>>>19,Rt=Rt*5+3864292196);switch(At=0,Et){case 3:At^=bt[xt*4+2]<<16;case 2:At^=bt[xt*4+1]<<8;case 1:At^=bt[xt*4],At=At*Pt&MASK_HIGH|At*Ft&MASK_LOW,At=At<<15|At>>>17,At=At*Mt&MASK_HIGH|At*Lt&MASK_LOW,xt&1?kt^=At:Rt^=At}this.h1=kt,this.h2=Rt}hexdigest(){let ht=this.h1,bt=this.h2;return ht^=bt>>>1,ht=ht*3981806797&MASK_HIGH|ht*36045&MASK_LOW,bt=bt*4283543511&MASK_HIGH|((bt<<16|ht>>>16)*2950163797&MASK_HIGH)>>>16,ht^=bt>>>1,ht=ht*444984403&MASK_HIGH|ht*60499&MASK_LOW,bt=bt*3301882366&MASK_HIGH|((bt<<16|ht>>>16)*3120437893&MASK_HIGH)>>>16,ht^=bt>>>1,(ht>>>0).toString(16).padStart(8,"0")+(bt>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var hp,to,i_,Y1;class AnnotationStorage{constructor(){Qt(this,i_);Qt(this,hp,!1);Qt(this,to,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ht,bt){const _t=Ct(this,to).get(ht);return _t===void 0?bt:Object.assign(bt,_t)}getRawValue(ht){return Ct(this,to).get(ht)}remove(ht){if(Ct(this,to).delete(ht),Ct(this,to).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const bt of Ct(this,to).values())if(bt instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ht,bt){const _t=Ct(this,to).get(ht);let xt=!1;if(_t!==void 0)for(const[Et,wt]of Object.entries(bt))_t[Et]!==wt&&(xt=!0,_t[Et]=wt);else xt=!0,Ct(this,to).set(ht,bt);xt&&Xt(this,i_,Y1).call(this),bt instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(bt.constructor._type)}has(ht){return Ct(this,to).has(ht)}getAll(){return Ct(this,to).size>0?objectFromMap(Ct(this,to)):null}setAll(ht){for(const[bt,_t]of Object.entries(ht))this.setValue(bt,_t)}get size(){return Ct(this,to).size}resetModified(){Ct(this,hp)&&(qt(this,hp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(Ct(this,to).size===0)return SerializableEmpty;const ht=new Map,bt=new MurmurHash3_64,_t=[],xt=Object.create(null);let Et=!1;for(const[wt,At]of Ct(this,to)){const St=At instanceof AnnotationEditor?At.serialize(!1,xt):At;St&&(ht.set(wt,St),bt.update(`${wt}:${JSON.stringify(St)}`),Et||(Et=!!St.bitmap))}if(Et)for(const wt of ht.values())wt.bitmap&&_t.push(wt.bitmap);return ht.size>0?{map:ht,hash:bt.hexdigest(),transfer:_t}:SerializableEmpty}get editorStats(){let ht=null;const bt=new Map;for(const _t of Ct(this,to).values()){if(!(_t instanceof AnnotationEditor))continue;const xt=_t.telemetryFinalData;if(!xt)continue;const{type:Et}=xt;bt.has(Et)||bt.set(Et,Object.getPrototypeOf(_t).constructor),ht||(ht=Object.create(null));const wt=ht[Et]||(ht[Et]=new Map);for(const[At,St]of Object.entries(xt)){if(At==="type")continue;let kt=wt.get(At);kt||(kt=new Map,wt.set(At,kt));const Rt=kt.get(St)??0;kt.set(St,Rt+1)}}for(const[_t,xt]of bt)ht[_t]=xt.computeTelemetryFinalData(ht[_t]);return ht}}hp=new WeakMap,to=new WeakMap,i_=new WeakSet,Y1=function(){Ct(this,hp)||(qt(this,hp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var ev;class PrintAnnotationStorage extends AnnotationStorage{constructor(bt){super();Qt(this,ev);const{map:_t,hash:xt,transfer:Et}=bt.serializable,wt=structuredClone(_t,Et?{transfer:Et}:null);qt(this,ev,{map:wt,hash:xt,transfer:Et})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return Ct(this,ev)}}ev=new WeakMap;var _m;class FontLoader{constructor({ownerDocument:ht=globalThis.document,styleElement:bt=null}){Qt(this,_m,new Set);this._document=ht,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(ht){this.nativeFontFaces.add(ht),this._document.fonts.add(ht)}removeNativeFontFace(ht){this.nativeFontFaces.delete(ht),this._document.fonts.delete(ht)}insertRule(ht){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const bt=this.styleElement.sheet;bt.insertRule(ht,bt.cssRules.length)}clear(){for(const ht of this.nativeFontFaces)this._document.fonts.delete(ht);this.nativeFontFaces.clear(),Ct(this,_m).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:ht,_inspectFont:bt}){if(!(!ht||Ct(this,_m).has(ht.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:_t,src:xt,style:Et}=ht,wt=new FontFace(_t,xt,Et);this.addNativeFontFace(wt);try{await wt.load(),Ct(this,_m).add(_t),bt==null||bt(ht)}catch{warn(`Cannot load system font: ${ht.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(wt)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(ht){if(ht.attached||ht.missingFile&&!ht.systemFontInfo)return;if(ht.attached=!0,ht.systemFontInfo){await this.loadSystemFont(ht);return}if(this.isFontLoadingAPISupported){const _t=ht.createNativeFontFace();if(_t){this.addNativeFontFace(_t);try{await _t.loaded}catch(xt){throw warn(`Failed to load font '${_t.family}': '${xt}'.`),ht.disableFontFace=!0,xt}}return}const bt=ht.createFontFaceRule();if(bt){if(this.insertRule(bt),this.isSyncFontLoadingSupported)return;await new Promise(_t=>{const xt=this._queueLoadingCallback(_t);this._prepareFontLoadEvent(ht,xt)})}}get isFontLoadingAPISupported(){var bt;const ht=!!((bt=this._document)!=null&&bt.fonts);return shadow(this,"isFontLoadingAPISupported",ht)}get isSyncFontLoadingSupported(){let ht=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(ht=!0),shadow(this,"isSyncFontLoadingSupported",ht)}_queueLoadingCallback(ht){function bt(){for(assert(!xt.done,"completeRequest() cannot be called twice."),xt.done=!0;_t.length>0&&_t[0].done;){const Et=_t.shift();setTimeout(Et.callback,0)}}const{loadingRequests:_t}=this,xt={done:!1,complete:bt,callback:ht};return _t.push(xt),xt}get _loadTestFont(){const ht=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",ht)}_prepareFontLoadEvent(ht,bt){function _t(Ut,Bt){return Ut.charCodeAt(Bt)<<24|Ut.charCodeAt(Bt+1)<<16|Ut.charCodeAt(Bt+2)<<8|Ut.charCodeAt(Bt+3)&255}function xt(Ut,Bt,Vt,zt){const Gt=Ut.substring(0,Bt),en=Ut.substring(Bt+Vt);return Gt+zt+en}let Et,wt;const At=this._document.createElement("canvas");At.width=1,At.height=1;const St=At.getContext("2d");let kt=0;function Rt(Ut,Bt){if(++kt>30){warn("Load test font never loaded."),Bt();return}if(St.font="30px "+Ut,St.fillText(".",0,20),St.getImageData(0,0,1,1).data[3]>0){Bt();return}setTimeout(Rt.bind(null,Ut,Bt))}const Pt=`lt${Date.now()}${this.loadTestFontId++}`;let Mt=this._loadTestFont;Mt=xt(Mt,976,Pt.length,Pt);const Lt=16,Dt=1482184792;let Nt=_t(Mt,Lt);for(Et=0,wt=Pt.length-3;Et<wt;Et+=4)Nt=Nt-Dt+_t(Pt,Et)|0;Et<Pt.length&&(Nt=Nt-Dt+_t(Pt+"XXX",Et)|0),Mt=xt(Mt,Lt,4,string32(Nt));const $t=`url(data:font/opentype;base64,${btoa(Mt)});`,Ot=`@font-face {font-family:"${Pt}";src:${$t}}`;this.insertRule(Ot);const jt=this._document.createElement("div");jt.style.visibility="hidden",jt.style.width=jt.style.height="10px",jt.style.position="absolute",jt.style.top=jt.style.left="0px";for(const Ut of[ht.loadedName,Pt]){const Bt=this._document.createElement("span");Bt.textContent="Hi",Bt.style.fontFamily=Ut,jt.append(Bt)}this._document.body.append(jt),Rt(Pt,()=>{jt.remove(),bt.complete()})}}_m=new WeakMap;class FontFaceObject{constructor(ht,{disableFontFace:bt=!1,inspectFont:_t=null}){this.compiledGlyphs=Object.create(null);for(const xt in ht)this[xt]=ht[xt];this.disableFontFace=bt===!0,this._inspectFont=_t}createNativeFontFace(){var bt;if(!this.data||this.disableFontFace)return null;let ht;if(!this.cssFontInfo)ht=new FontFace(this.loadedName,this.data,{});else{const _t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ht=new FontFace(this.cssFontInfo.fontFamily,this.data,_t)}return(bt=this._inspectFont)==null||bt.call(this,this),ht}createFontFaceRule(){var xt;if(!this.data||this.disableFontFace)return null;const ht=bytesToString(this.data),bt=`url(data:${this.mimetype};base64,${btoa(ht)});`;let _t;if(!this.cssFontInfo)_t=`@font-face {font-family:"${this.loadedName}";src:${bt}}`;else{let Et=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Et+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Et}src:${bt}}`}return(xt=this._inspectFont)==null||xt.call(this,this,bt),_t}getPathGenerator(ht,bt){if(this.compiledGlyphs[bt]!==void 0)return this.compiledGlyphs[bt];let _t;try{_t=ht.get(this.loadedName+"_path_"+bt)}catch(Et){warn(`getPathGenerator - ignoring character: "${Et}".`)}if(!Array.isArray(_t)||_t.length===0)return this.compiledGlyphs[bt]=function(Et,wt){};const xt=[];for(let Et=0,wt=_t.length;Et<wt;)switch(_t[Et++]){case FontRenderOps.BEZIER_CURVE_TO:{const[At,St,kt,Rt,Pt,Mt]=_t.slice(Et,Et+6);xt.push(Ft=>Ft.bezierCurveTo(At,St,kt,Rt,Pt,Mt)),Et+=6}break;case FontRenderOps.MOVE_TO:{const[At,St]=_t.slice(Et,Et+2);xt.push(kt=>kt.moveTo(At,St)),Et+=2}break;case FontRenderOps.LINE_TO:{const[At,St]=_t.slice(Et,Et+2);xt.push(kt=>kt.lineTo(At,St)),Et+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[At,St,kt,Rt]=_t.slice(Et,Et+4);xt.push(Pt=>Pt.quadraticCurveTo(At,St,kt,Rt)),Et+=4}break;case FontRenderOps.RESTORE:xt.push(At=>At.restore());break;case FontRenderOps.SAVE:xt.push(At=>At.save());break;case FontRenderOps.SCALE:assert(xt.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[At,St,kt,Rt,Pt,Mt]=_t.slice(Et,Et+6);xt.push(Ft=>Ft.transform(At,St,kt,Rt,Pt,Mt)),Et+=6}break;case FontRenderOps.TRANSLATE:{const[At,St]=_t.slice(Et,Et+2);xt.push(kt=>kt.translate(At,St)),Et+=2}break}return this.compiledGlyphs[bt]=function(wt,At){xt[0](wt),xt[1](wt),wt.scale(At,-At);for(let St=2,kt=xt.length;St<kt;St++)xt[St](wt)}}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const ht=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),[]),bt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),_t=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),xt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0);let Et,wt;return new Map(Object.entries({fs:ht,http:bt,https:_t,url:xt,canvas:Et,path2d:wt}))})().then(ht=>{packageMap=ht,packageCapability.resolve()},ht=>{warn(`loadPackages: ${ht}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get(ht){return packageMap==null?void 0:packageMap.get(ht)}}const node_utils_fetchData=function(vt){return NodePackages.get("fs").promises.readFile(vt).then(bt=>new Uint8Array(bt))};class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas(ht,bt){return NodePackages.get("canvas").createCanvas(ht,bt)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{_fetchData(ht,bt){return node_utils_fetchData(ht).then(_t=>({cMapData:_t,compressionType:bt}))}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData(ht){return node_utils_fetchData(ht)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(vt,ht){if(!ht)return;const bt=ht[2]-ht[0],_t=ht[3]-ht[1],xt=new Path2D;xt.rect(ht[0],ht[1],bt,_t),vt.clip(xt)}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&unreachable("Cannot initialize BaseShadingPattern.")}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(ht){super(),this._type=ht[1],this._bbox=ht[2],this._colorStops=ht[3],this._p0=ht[4],this._p1=ht[5],this._r0=ht[6],this._r1=ht[7],this.matrix=null}_createGradient(ht){let bt;this._type==="axial"?bt=ht.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(bt=ht.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const _t of this._colorStops)bt.addColorStop(_t[0],_t[1]);return bt}getPattern(ht,bt,_t,xt){let Et;if(xt===PathType.STROKE||xt===PathType.FILL){const wt=bt.current.getClippedPathBoundingBox(xt,getCurrentTransform(ht))||[0,0,0,0],At=Math.ceil(wt[2]-wt[0])||1,St=Math.ceil(wt[3]-wt[1])||1,kt=bt.cachedCanvases.getCanvas("pattern",At,St,!0),Rt=kt.context;Rt.clearRect(0,0,Rt.canvas.width,Rt.canvas.height),Rt.beginPath(),Rt.rect(0,0,Rt.canvas.width,Rt.canvas.height),Rt.translate(-wt[0],-wt[1]),_t=Util.transform(_t,[1,0,0,1,wt[0],wt[1]]),Rt.transform(...bt.baseTransform),this.matrix&&Rt.transform(...this.matrix),applyBoundingBox(Rt,this._bbox),Rt.fillStyle=this._createGradient(Rt),Rt.fill(),Et=ht.createPattern(kt.canvas,"no-repeat");const Pt=new DOMMatrix(_t);Et.setTransform(Pt)}else applyBoundingBox(ht,this._bbox),Et=this._createGradient(ht);return Et}}function drawTriangle(vt,ht,bt,_t,xt,Et,wt,At){const St=ht.coords,kt=ht.colors,Rt=vt.data,Pt=vt.width*4;let Mt;St[bt+1]>St[_t+1]&&(Mt=bt,bt=_t,_t=Mt,Mt=Et,Et=wt,wt=Mt),St[_t+1]>St[xt+1]&&(Mt=_t,_t=xt,xt=Mt,Mt=wt,wt=At,At=Mt),St[bt+1]>St[_t+1]&&(Mt=bt,bt=_t,_t=Mt,Mt=Et,Et=wt,wt=Mt);const Ft=(St[bt]+ht.offsetX)*ht.scaleX,Lt=(St[bt+1]+ht.offsetY)*ht.scaleY,Dt=(St[_t]+ht.offsetX)*ht.scaleX,Nt=(St[_t+1]+ht.offsetY)*ht.scaleY,$t=(St[xt]+ht.offsetX)*ht.scaleX,Ot=(St[xt+1]+ht.offsetY)*ht.scaleY;if(Lt>=Ot)return;const jt=kt[Et],Ut=kt[Et+1],Bt=kt[Et+2],Vt=kt[wt],zt=kt[wt+1],Gt=kt[wt+2],en=kt[At],ln=kt[At+1],Kt=kt[At+2],on=Math.round(Lt),fn=Math.round(Ot);let En,gn,wn,pn,sn,Jt,an,vn;for(let tn=on;tn<=fn;tn++){if(tn<Nt){const hn=tn<Lt?0:(Lt-tn)/(Lt-Nt);En=Ft-(Ft-Dt)*hn,gn=jt-(jt-Vt)*hn,wn=Ut-(Ut-zt)*hn,pn=Bt-(Bt-Gt)*hn}else{let hn;tn>Ot?hn=1:Nt===Ot?hn=0:hn=(Nt-tn)/(Nt-Ot),En=Dt-(Dt-$t)*hn,gn=Vt-(Vt-en)*hn,wn=zt-(zt-ln)*hn,pn=Gt-(Gt-Kt)*hn}let Ht;tn<Lt?Ht=0:tn>Ot?Ht=1:Ht=(Lt-tn)/(Lt-Ot),sn=Ft-(Ft-$t)*Ht,Jt=jt-(jt-en)*Ht,an=Ut-(Ut-ln)*Ht,vn=Bt-(Bt-Kt)*Ht;const Wt=Math.round(Math.min(En,sn)),rn=Math.round(Math.max(En,sn));let nn=Pt*tn+Wt*4;for(let hn=Wt;hn<=rn;hn++)Ht=(En-hn)/(En-sn),Ht<0?Ht=0:Ht>1&&(Ht=1),Rt[nn++]=gn-(gn-Jt)*Ht|0,Rt[nn++]=wn-(wn-an)*Ht|0,Rt[nn++]=pn-(pn-vn)*Ht|0,Rt[nn++]=255}}function drawFigure(vt,ht,bt){const _t=ht.coords,xt=ht.colors;let Et,wt;switch(ht.type){case"lattice":const At=ht.verticesPerRow,St=Math.floor(_t.length/At)-1,kt=At-1;for(Et=0;Et<St;Et++){let Rt=Et*At;for(let Pt=0;Pt<kt;Pt++,Rt++)drawTriangle(vt,bt,_t[Rt],_t[Rt+1],_t[Rt+At],xt[Rt],xt[Rt+1],xt[Rt+At]),drawTriangle(vt,bt,_t[Rt+At+1],_t[Rt+1],_t[Rt+At],xt[Rt+At+1],xt[Rt+1],xt[Rt+At])}break;case"triangles":for(Et=0,wt=_t.length;Et<wt;Et+=3)drawTriangle(vt,bt,_t[Et],_t[Et+1],_t[Et+2],xt[Et],xt[Et+1],xt[Et+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(ht){super(),this._coords=ht[2],this._colors=ht[3],this._figures=ht[4],this._bounds=ht[5],this._bbox=ht[7],this._background=ht[8],this.matrix=null}_createMeshCanvas(ht,bt,_t){const At=Math.floor(this._bounds[0]),St=Math.floor(this._bounds[1]),kt=Math.ceil(this._bounds[2])-At,Rt=Math.ceil(this._bounds[3])-St,Pt=Math.min(Math.ceil(Math.abs(kt*ht[0]*1.1)),3e3),Mt=Math.min(Math.ceil(Math.abs(Rt*ht[1]*1.1)),3e3),Ft=kt/Pt,Lt=Rt/Mt,Dt={coords:this._coords,colors:this._colors,offsetX:-At,offsetY:-St,scaleX:1/Ft,scaleY:1/Lt},Nt=Pt+2*2,$t=Mt+2*2,Ot=_t.getCanvas("mesh",Nt,$t,!1),jt=Ot.context,Ut=jt.createImageData(Pt,Mt);if(bt){const Vt=Ut.data;for(let zt=0,Gt=Vt.length;zt<Gt;zt+=4)Vt[zt]=bt[0],Vt[zt+1]=bt[1],Vt[zt+2]=bt[2],Vt[zt+3]=255}for(const Vt of this._figures)drawFigure(Ut,Vt,Dt);return jt.putImageData(Ut,2,2),{canvas:Ot.canvas,offsetX:At-2*Ft,offsetY:St-2*Lt,scaleX:Ft,scaleY:Lt}}getPattern(ht,bt,_t,xt){applyBoundingBox(ht,this._bbox);let Et;if(xt===PathType.SHADING)Et=Util.singularValueDecompose2dScale(getCurrentTransform(ht));else if(Et=Util.singularValueDecompose2dScale(bt.baseTransform),this.matrix){const At=Util.singularValueDecompose2dScale(this.matrix);Et=[Et[0]*At[0],Et[1]*At[1]]}const wt=this._createMeshCanvas(Et,xt===PathType.SHADING?null:this._background,bt.cachedCanvases);return xt!==PathType.SHADING&&(ht.setTransform(...bt.baseTransform),this.matrix&&ht.transform(...this.matrix)),ht.translate(wt.offsetX,wt.offsetY),ht.scale(wt.scaleX,wt.scaleY),ht.createPattern(wt.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(vt){switch(vt[0]){case"RadialAxial":return new RadialAxialShadingPattern(vt);case"Mesh":return new MeshShadingPattern(vt);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${vt[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},s_=class s_{constructor(ht,bt,_t,xt,Et){this.operatorList=ht[2],this.matrix=ht[3],this.bbox=ht[4],this.xstep=ht[5],this.ystep=ht[6],this.paintType=ht[7],this.tilingType=ht[8],this.color=bt,this.ctx=_t,this.canvasGraphicsFactory=xt,this.baseTransform=Et}createPatternCanvas(ht){const bt=this.operatorList,_t=this.bbox,xt=this.xstep,Et=this.ystep,wt=this.paintType,At=this.tilingType,St=this.color,kt=this.canvasGraphicsFactory;info("TilingType: "+At);const Rt=_t[0],Pt=_t[1],Mt=_t[2],Ft=_t[3],Lt=Util.singularValueDecompose2dScale(this.matrix),Dt=Util.singularValueDecompose2dScale(this.baseTransform),Nt=[Lt[0]*Dt[0],Lt[1]*Dt[1]],$t=this.getSizeAndScale(xt,this.ctx.canvas.width,Nt[0]),Ot=this.getSizeAndScale(Et,this.ctx.canvas.height,Nt[1]),jt=ht.cachedCanvases.getCanvas("pattern",$t.size,Ot.size,!0),Ut=jt.context,Bt=kt.createCanvasGraphics(Ut);Bt.groupLevel=ht.groupLevel,this.setFillAndStrokeStyleToContext(Bt,wt,St);let Vt=Rt,zt=Pt,Gt=Mt,en=Ft;return Rt<0&&(Vt=0,Gt+=Math.abs(Rt)),Pt<0&&(zt=0,en+=Math.abs(Pt)),Ut.translate(-($t.scale*Vt),-(Ot.scale*zt)),Bt.transform($t.scale,0,0,Ot.scale,0,0),Ut.save(),this.clipBbox(Bt,Vt,zt,Gt,en),Bt.baseTransform=getCurrentTransform(Bt.ctx),Bt.executeOperatorList(bt),Bt.endDrawing(),{canvas:jt.canvas,scaleX:$t.scale,scaleY:Ot.scale,offsetX:Vt,offsetY:zt}}getSizeAndScale(ht,bt,_t){ht=Math.abs(ht);const xt=Math.max(s_.MAX_PATTERN_SIZE,bt);let Et=Math.ceil(ht*_t);return Et>=xt?Et=xt:_t=Et/ht,{scale:_t,size:Et}}clipBbox(ht,bt,_t,xt,Et){const wt=xt-bt,At=Et-_t;ht.ctx.rect(bt,_t,wt,At),ht.current.updateRectMinMax(getCurrentTransform(ht.ctx),[bt,_t,xt,Et]),ht.clip(),ht.endPath()}setFillAndStrokeStyleToContext(ht,bt,_t){const xt=ht.ctx,Et=ht.current;switch(bt){case PaintType.COLORED:const wt=this.ctx;xt.fillStyle=wt.fillStyle,xt.strokeStyle=wt.strokeStyle,Et.fillColor=wt.fillStyle,Et.strokeColor=wt.strokeStyle;break;case PaintType.UNCOLORED:const At=Util.makeHexColor(_t[0],_t[1],_t[2]);xt.fillStyle=At,xt.strokeStyle=At,Et.fillColor=At,Et.strokeColor=At;break;default:throw new FormatError(`Unsupported paint type: ${bt}`)}}getPattern(ht,bt,_t,xt){let Et=_t;xt!==PathType.SHADING&&(Et=Util.transform(Et,bt.baseTransform),this.matrix&&(Et=Util.transform(Et,this.matrix)));const wt=this.createPatternCanvas(bt);let At=new DOMMatrix(Et);At=At.translate(wt.offsetX,wt.offsetY),At=At.scale(1/wt.scaleX,1/wt.scaleY);const St=ht.createPattern(wt.canvas,"repeat");return St.setTransform(At),St}};Tr(s_,"MAX_PATTERN_SIZE",3e3);let TilingPattern=s_;function convertBlackAndWhiteToRGBA({src:vt,srcPos:ht=0,dest:bt,width:_t,height:xt,nonBlackColor:Et=4294967295,inverseDecode:wt=!1}){const At=util_FeatureTest.isLittleEndian?4278190080:255,[St,kt]=wt?[Et,At]:[At,Et],Rt=_t>>3,Pt=_t&7,Mt=vt.length;bt=new Uint32Array(bt.buffer);let Ft=0;for(let Lt=0;Lt<xt;Lt++){for(const Nt=ht+Rt;ht<Nt;ht++){const $t=ht<Mt?vt[ht]:255;bt[Ft++]=$t&128?kt:St,bt[Ft++]=$t&64?kt:St,bt[Ft++]=$t&32?kt:St,bt[Ft++]=$t&16?kt:St,bt[Ft++]=$t&8?kt:St,bt[Ft++]=$t&4?kt:St,bt[Ft++]=$t&2?kt:St,bt[Ft++]=$t&1?kt:St}if(Pt===0)continue;const Dt=ht<Mt?vt[ht++]:255;for(let Nt=0;Nt<Pt;Nt++)bt[Ft++]=Dt&1<<7-Nt?kt:St}return{srcPos:ht,destPos:Ft}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(vt,ht){if(vt._removeMirroring)throw new Error("Context is already forwarding operations.");vt.__originalSave=vt.save,vt.__originalRestore=vt.restore,vt.__originalRotate=vt.rotate,vt.__originalScale=vt.scale,vt.__originalTranslate=vt.translate,vt.__originalTransform=vt.transform,vt.__originalSetTransform=vt.setTransform,vt.__originalResetTransform=vt.resetTransform,vt.__originalClip=vt.clip,vt.__originalMoveTo=vt.moveTo,vt.__originalLineTo=vt.lineTo,vt.__originalBezierCurveTo=vt.bezierCurveTo,vt.__originalRect=vt.rect,vt.__originalClosePath=vt.closePath,vt.__originalBeginPath=vt.beginPath,vt._removeMirroring=()=>{vt.save=vt.__originalSave,vt.restore=vt.__originalRestore,vt.rotate=vt.__originalRotate,vt.scale=vt.__originalScale,vt.translate=vt.__originalTranslate,vt.transform=vt.__originalTransform,vt.setTransform=vt.__originalSetTransform,vt.resetTransform=vt.__originalResetTransform,vt.clip=vt.__originalClip,vt.moveTo=vt.__originalMoveTo,vt.lineTo=vt.__originalLineTo,vt.bezierCurveTo=vt.__originalBezierCurveTo,vt.rect=vt.__originalRect,vt.closePath=vt.__originalClosePath,vt.beginPath=vt.__originalBeginPath,delete vt._removeMirroring},vt.save=function(){ht.save(),this.__originalSave()},vt.restore=function(){ht.restore(),this.__originalRestore()},vt.translate=function(_t,xt){ht.translate(_t,xt),this.__originalTranslate(_t,xt)},vt.scale=function(_t,xt){ht.scale(_t,xt),this.__originalScale(_t,xt)},vt.transform=function(_t,xt,Et,wt,At,St){ht.transform(_t,xt,Et,wt,At,St),this.__originalTransform(_t,xt,Et,wt,At,St)},vt.setTransform=function(_t,xt,Et,wt,At,St){ht.setTransform(_t,xt,Et,wt,At,St),this.__originalSetTransform(_t,xt,Et,wt,At,St)},vt.resetTransform=function(){ht.resetTransform(),this.__originalResetTransform()},vt.rotate=function(_t){ht.rotate(_t),this.__originalRotate(_t)},vt.clip=function(_t){ht.clip(_t),this.__originalClip(_t)},vt.moveTo=function(bt,_t){ht.moveTo(bt,_t),this.__originalMoveTo(bt,_t)},vt.lineTo=function(bt,_t){ht.lineTo(bt,_t),this.__originalLineTo(bt,_t)},vt.bezierCurveTo=function(bt,_t,xt,Et,wt,At){ht.bezierCurveTo(bt,_t,xt,Et,wt,At),this.__originalBezierCurveTo(bt,_t,xt,Et,wt,At)},vt.rect=function(bt,_t,xt,Et){ht.rect(bt,_t,xt,Et),this.__originalRect(bt,_t,xt,Et)},vt.closePath=function(){ht.closePath(),this.__originalClosePath()},vt.beginPath=function(){ht.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor(ht){this.canvasFactory=ht,this.cache=Object.create(null)}getCanvas(ht,bt,_t){let xt;return this.cache[ht]!==void 0?(xt=this.cache[ht],this.canvasFactory.reset(xt,bt,_t)):(xt=this.canvasFactory.create(bt,_t),this.cache[ht]=xt),xt}delete(ht){delete this.cache[ht]}clear(){for(const ht in this.cache){const bt=this.cache[ht];this.canvasFactory.destroy(bt),delete this.cache[ht]}}}function drawImageAtIntegerCoords(vt,ht,bt,_t,xt,Et,wt,At,St,kt){const[Rt,Pt,Mt,Ft,Lt,Dt]=getCurrentTransform(vt);if(Pt===0&&Mt===0){const Ot=wt*Rt+Lt,jt=Math.round(Ot),Ut=At*Ft+Dt,Bt=Math.round(Ut),Vt=(wt+St)*Rt+Lt,zt=Math.abs(Math.round(Vt)-jt)||1,Gt=(At+kt)*Ft+Dt,en=Math.abs(Math.round(Gt)-Bt)||1;return vt.setTransform(Math.sign(Rt),0,0,Math.sign(Ft),jt,Bt),vt.drawImage(ht,bt,_t,xt,Et,0,0,zt,en),vt.setTransform(Rt,Pt,Mt,Ft,Lt,Dt),[zt,en]}if(Rt===0&&Ft===0){const Ot=At*Mt+Lt,jt=Math.round(Ot),Ut=wt*Pt+Dt,Bt=Math.round(Ut),Vt=(At+kt)*Mt+Lt,zt=Math.abs(Math.round(Vt)-jt)||1,Gt=(wt+St)*Pt+Dt,en=Math.abs(Math.round(Gt)-Bt)||1;return vt.setTransform(0,Math.sign(Pt),Math.sign(Mt),0,jt,Bt),vt.drawImage(ht,bt,_t,xt,Et,0,0,en,zt),vt.setTransform(Rt,Pt,Mt,Ft,Lt,Dt),[en,zt]}vt.drawImage(ht,bt,_t,xt,Et,wt,At,St,kt);const Nt=Math.hypot(Rt,Pt),$t=Math.hypot(Mt,Ft);return[Nt*St,$t*kt]}function compileType3Glyph(vt){const{width:ht,height:bt}=vt;if(ht>MAX_SIZE_TO_COMPILE||bt>MAX_SIZE_TO_COMPILE)return null;const _t=1e3,xt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Et=ht+1;let wt=new Uint8Array(Et*(bt+1)),At,St,kt;const Rt=ht+7&-8;let Pt=new Uint8Array(Rt*bt),Mt=0;for(const $t of vt.data){let Ot=128;for(;Ot>0;)Pt[Mt++]=$t&Ot?0:255,Ot>>=1}let Ft=0;for(Mt=0,Pt[Mt]!==0&&(wt[0]=1,++Ft),St=1;St<ht;St++)Pt[Mt]!==Pt[Mt+1]&&(wt[St]=Pt[Mt]?2:1,++Ft),Mt++;for(Pt[Mt]!==0&&(wt[St]=2,++Ft),At=1;At<bt;At++){Mt=At*Rt,kt=At*Et,Pt[Mt-Rt]!==Pt[Mt]&&(wt[kt]=Pt[Mt]?1:8,++Ft);let $t=(Pt[Mt]?4:0)+(Pt[Mt-Rt]?8:0);for(St=1;St<ht;St++)$t=($t>>2)+(Pt[Mt+1]?4:0)+(Pt[Mt-Rt+1]?8:0),xt[$t]&&(wt[kt+St]=xt[$t],++Ft),Mt++;if(Pt[Mt-Rt]!==Pt[Mt]&&(wt[kt+St]=Pt[Mt]?2:4,++Ft),Ft>_t)return null}for(Mt=Rt*(bt-1),kt=At*Et,Pt[Mt]!==0&&(wt[kt]=8,++Ft),St=1;St<ht;St++)Pt[Mt]!==Pt[Mt+1]&&(wt[kt+St]=Pt[Mt]?4:8,++Ft),Mt++;if(Pt[Mt]!==0&&(wt[kt+St]=4,++Ft),Ft>_t)return null;const Lt=new Int32Array([0,Et,-1,0,-Et,0,0,0,1]),Dt=new Path2D;for(At=0;Ft&&At<=bt;At++){let $t=At*Et;const Ot=$t+ht;for(;$t<Ot&&!wt[$t];)$t++;if($t===Ot)continue;Dt.moveTo($t%Et,At);const jt=$t;let Ut=wt[$t];do{const Bt=Lt[Ut];do $t+=Bt;while(!wt[$t]);const Vt=wt[$t];Vt!==5&&Vt!==10?(Ut=Vt,wt[$t]=0):(Ut=Vt&51*Ut>>4,wt[$t]&=Ut>>2|Ut<<2),Dt.lineTo($t%Et,$t/Et|0),wt[$t]||--Ft}while(jt!==$t);--At}return Pt=null,wt=null,function($t){$t.save(),$t.scale(1/ht,-1/bt),$t.translate(0,-bt),$t.fill(Dt),$t.beginPath(),$t.restore()}}class CanvasExtraState{constructor(ht,bt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ht,bt])}clone(){const ht=Object.create(this);return ht.clipBox=this.clipBox.slice(),ht}setCurrentPoint(ht,bt){this.x=ht,this.y=bt}updatePathMinMax(ht,bt,_t){[bt,_t]=Util.applyTransform([bt,_t],ht),this.minX=Math.min(this.minX,bt),this.minY=Math.min(this.minY,_t),this.maxX=Math.max(this.maxX,bt),this.maxY=Math.max(this.maxY,_t)}updateRectMinMax(ht,bt){const _t=Util.applyTransform(bt,ht),xt=Util.applyTransform(bt.slice(2),ht),Et=Util.applyTransform([bt[0],bt[3]],ht),wt=Util.applyTransform([bt[2],bt[1]],ht);this.minX=Math.min(this.minX,_t[0],xt[0],Et[0],wt[0]),this.minY=Math.min(this.minY,_t[1],xt[1],Et[1],wt[1]),this.maxX=Math.max(this.maxX,_t[0],xt[0],Et[0],wt[0]),this.maxY=Math.max(this.maxY,_t[1],xt[1],Et[1],wt[1])}updateScalingPathMinMax(ht,bt){Util.scaleMinMax(ht,bt),this.minX=Math.min(this.minX,bt[0]),this.minY=Math.min(this.minY,bt[1]),this.maxX=Math.max(this.maxX,bt[2]),this.maxY=Math.max(this.maxY,bt[3])}updateCurvePathMinMax(ht,bt,_t,xt,Et,wt,At,St,kt,Rt){const Pt=Util.bezierBoundingBox(bt,_t,xt,Et,wt,At,St,kt,Rt);Rt||this.updateRectMinMax(ht,Pt)}getPathBoundingBox(ht=PathType.FILL,bt=null){const _t=[this.minX,this.minY,this.maxX,this.maxY];if(ht===PathType.STROKE){bt||unreachable("Stroke bounding box must include transform.");const xt=Util.singularValueDecompose2dScale(bt),Et=xt[0]*this.lineWidth/2,wt=xt[1]*this.lineWidth/2;_t[0]-=Et,_t[1]-=wt,_t[2]+=Et,_t[3]+=wt}return _t}updateClipFromPath(){const ht=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ht||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ht){this.clipBox=ht,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ht=PathType.FILL,bt=null){return Util.intersect(this.clipBox,this.getPathBoundingBox(ht,bt))}}function putBinaryImageData(vt,ht){if(typeof ImageData<"u"&&ht instanceof ImageData){vt.putImageData(ht,0,0);return}const bt=ht.height,_t=ht.width,xt=bt%FULL_CHUNK_HEIGHT,Et=(bt-xt)/FULL_CHUNK_HEIGHT,wt=xt===0?Et:Et+1,At=vt.createImageData(_t,FULL_CHUNK_HEIGHT);let St=0,kt;const Rt=ht.data,Pt=At.data;let Mt,Ft,Lt,Dt;if(ht.kind===util_ImageKind.GRAYSCALE_1BPP){const Nt=Rt.byteLength,$t=new Uint32Array(Pt.buffer,0,Pt.byteLength>>2),Ot=$t.length,jt=_t+7>>3,Ut=4294967295,Bt=util_FeatureTest.isLittleEndian?4278190080:255;for(Mt=0;Mt<wt;Mt++){for(Lt=Mt<Et?FULL_CHUNK_HEIGHT:xt,kt=0,Ft=0;Ft<Lt;Ft++){const Vt=Nt-St;let zt=0;const Gt=Vt>jt?_t:Vt*8-7,en=Gt&-8;let ln=0,Kt=0;for(;zt<en;zt+=8)Kt=Rt[St++],$t[kt++]=Kt&128?Ut:Bt,$t[kt++]=Kt&64?Ut:Bt,$t[kt++]=Kt&32?Ut:Bt,$t[kt++]=Kt&16?Ut:Bt,$t[kt++]=Kt&8?Ut:Bt,$t[kt++]=Kt&4?Ut:Bt,$t[kt++]=Kt&2?Ut:Bt,$t[kt++]=Kt&1?Ut:Bt;for(;zt<Gt;zt++)ln===0&&(Kt=Rt[St++],ln=128),$t[kt++]=Kt&ln?Ut:Bt,ln>>=1}for(;kt<Ot;)$t[kt++]=0;vt.putImageData(At,0,Mt*FULL_CHUNK_HEIGHT)}}else if(ht.kind===util_ImageKind.RGBA_32BPP){for(Ft=0,Dt=_t*FULL_CHUNK_HEIGHT*4,Mt=0;Mt<Et;Mt++)Pt.set(Rt.subarray(St,St+Dt)),St+=Dt,vt.putImageData(At,0,Ft),Ft+=FULL_CHUNK_HEIGHT;Mt<wt&&(Dt=_t*xt*4,Pt.set(Rt.subarray(St,St+Dt)),vt.putImageData(At,0,Ft))}else if(ht.kind===util_ImageKind.RGB_24BPP)for(Lt=FULL_CHUNK_HEIGHT,Dt=_t*Lt,Mt=0;Mt<wt;Mt++){for(Mt>=Et&&(Lt=xt,Dt=_t*Lt),kt=0,Ft=Dt;Ft--;)Pt[kt++]=Rt[St++],Pt[kt++]=Rt[St++],Pt[kt++]=Rt[St++],Pt[kt++]=255;vt.putImageData(At,0,Mt*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${ht.kind}`)}function putBinaryImageMask(vt,ht){if(ht.bitmap){vt.drawImage(ht.bitmap,0,0);return}const bt=ht.height,_t=ht.width,xt=bt%FULL_CHUNK_HEIGHT,Et=(bt-xt)/FULL_CHUNK_HEIGHT,wt=xt===0?Et:Et+1,At=vt.createImageData(_t,FULL_CHUNK_HEIGHT);let St=0;const kt=ht.data,Rt=At.data;for(let Pt=0;Pt<wt;Pt++){const Mt=Pt<Et?FULL_CHUNK_HEIGHT:xt;({srcPos:St}=convertBlackAndWhiteToRGBA({src:kt,srcPos:St,dest:Rt,width:_t,height:Mt,nonBlackColor:0})),vt.putImageData(At,0,Pt*FULL_CHUNK_HEIGHT)}}function copyCtxState(vt,ht){const bt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const _t of bt)vt[_t]!==void 0&&(ht[_t]=vt[_t]);vt.setLineDash!==void 0&&(ht.setLineDash(vt.getLineDash()),ht.lineDashOffset=vt.lineDashOffset)}function resetCtxToDefault(vt){if(vt.strokeStyle=vt.fillStyle="#000000",vt.fillRule="nonzero",vt.globalAlpha=1,vt.lineWidth=1,vt.lineCap="butt",vt.lineJoin="miter",vt.miterLimit=10,vt.globalCompositeOperation="source-over",vt.font="10px sans-serif",vt.setLineDash!==void 0&&(vt.setLineDash([]),vt.lineDashOffset=0),!isNodeJS){const{filter:ht}=vt;ht!=="none"&&ht!==""&&(vt.filter="none")}}function getImageSmoothingEnabled(vt,ht){if(ht)return!0;const bt=Util.singularValueDecompose2dScale(vt);bt[0]=Math.fround(bt[0]),bt[1]=Math.fround(bt[1]);const _t=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return bt[0]<=_t&&bt[1]<=_t}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var Gu,X_,q_;const s1=class s1{constructor(ht,bt,_t,xt,Et,{optionalContentConfig:wt,markedContentStack:At=null},St,kt){Qt(this,Gu);this.ctx=ht,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=bt,this.objs=_t,this.canvasFactory=xt,this.filterFactory=Et,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=At||[],this.optionalContentConfig=wt,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=St,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=kt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ht,bt=null){return typeof ht=="string"?ht.startsWith("g_")?this.commonObjs.get(ht):this.objs.get(ht):bt}beginDrawing({transform:ht,viewport:bt,transparency:_t=!1,background:xt=null}){const Et=this.ctx.canvas.width,wt=this.ctx.canvas.height,At=this.ctx.fillStyle;if(this.ctx.fillStyle=xt||"#ffffff",this.ctx.fillRect(0,0,Et,wt),this.ctx.fillStyle=At,_t){const St=this.cachedCanvases.getCanvas("transparent",Et,wt);this.compositeCtx=this.ctx,this.transparentCanvas=St.canvas,this.ctx=St.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),ht&&(this.ctx.transform(...ht),this.outputScaleX=ht[0],this.outputScaleY=ht[0]),this.ctx.transform(...bt.transform),this.viewportScale=bt.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList(ht,bt,_t,xt){const Et=ht.argsArray,wt=ht.fnArray;let At=bt||0;const St=Et.length;if(St===At)return At;const kt=St-At>EXECUTION_STEPS&&typeof _t=="function",Rt=kt?Date.now()+EXECUTION_TIME:0;let Pt=0;const Mt=this.commonObjs,Ft=this.objs;let Lt;for(;;){if(xt!==void 0&&At===xt.nextBreakPoint)return xt.breakIt(At,_t),At;if(Lt=wt[At],Lt!==OPS.dependency)this[Lt].apply(this,Et[At]);else for(const Dt of Et[At]){const Nt=Dt.startsWith("g_")?Mt:Ft;if(!Nt.has(Dt))return Nt.get(Dt,_t),At}if(At++,At===St)return At;if(kt&&++Pt>EXECUTION_STEPS){if(Date.now()>Rt)return _t(),At;Pt=0}}}endDrawing(){Xt(this,Gu,X_).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ht of this._cachedBitmapsMap.values()){for(const bt of ht.values())typeof HTMLCanvasElement<"u"&&bt instanceof HTMLCanvasElement&&(bt.width=bt.height=0);ht.clear()}this._cachedBitmapsMap.clear(),Xt(this,Gu,q_).call(this)}_scaleImage(ht,bt){const _t=ht.width,xt=ht.height;let Et=Math.max(Math.hypot(bt[0],bt[1]),1),wt=Math.max(Math.hypot(bt[2],bt[3]),1),At=_t,St=xt,kt="prescale1",Rt,Pt;for(;Et>2&&At>1||wt>2&&St>1;){let Mt=At,Ft=St;Et>2&&At>1&&(Mt=At>=16384?Math.floor(At/2)-1||1:Math.ceil(At/2),Et/=At/Mt),wt>2&&St>1&&(Ft=St>=16384?Math.floor(St/2)-1||1:Math.ceil(St)/2,wt/=St/Ft),Rt=this.cachedCanvases.getCanvas(kt,Mt,Ft),Pt=Rt.context,Pt.clearRect(0,0,Mt,Ft),Pt.drawImage(ht,0,0,At,St,0,0,Mt,Ft),ht=Rt.canvas,At=Mt,St=Ft,kt=kt==="prescale1"?"prescale2":"prescale1"}return{img:ht,paintWidth:At,paintHeight:St}}_createMaskCanvas(ht){const bt=this.ctx,{width:_t,height:xt}=ht,Et=this.current.fillColor,wt=this.current.patternFill,At=getCurrentTransform(bt);let St,kt,Rt,Pt;if((ht.bitmap||ht.data)&&ht.count>1){const Gt=ht.bitmap||ht.data.buffer;kt=JSON.stringify(wt?At:[At.slice(0,4),Et]),St=this._cachedBitmapsMap.get(Gt),St||(St=new Map,this._cachedBitmapsMap.set(Gt,St));const en=St.get(kt);if(en&&!wt){const ln=Math.round(Math.min(At[0],At[2])+At[4]),Kt=Math.round(Math.min(At[1],At[3])+At[5]);return{canvas:en,offsetX:ln,offsetY:Kt}}Rt=en}Rt||(Pt=this.cachedCanvases.getCanvas("maskCanvas",_t,xt),putBinaryImageMask(Pt.context,ht));let Mt=Util.transform(At,[1/_t,0,0,-1/xt,0,0]);Mt=Util.transform(Mt,[1,0,0,1,0,-xt]);const[Ft,Lt,Dt,Nt]=Util.getAxialAlignedBoundingBox([0,0,_t,xt],Mt),$t=Math.round(Dt-Ft)||1,Ot=Math.round(Nt-Lt)||1,jt=this.cachedCanvases.getCanvas("fillCanvas",$t,Ot),Ut=jt.context,Bt=Ft,Vt=Lt;Ut.translate(-Bt,-Vt),Ut.transform(...Mt),Rt||(Rt=this._scaleImage(Pt.canvas,getCurrentTransformInverse(Ut)),Rt=Rt.img,St&&wt&&St.set(kt,Rt)),Ut.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(Ut),ht.interpolate),drawImageAtIntegerCoords(Ut,Rt,0,0,Rt.width,Rt.height,0,0,_t,xt),Ut.globalCompositeOperation="source-in";const zt=Util.transform(getCurrentTransformInverse(Ut),[1,0,0,1,-Bt,-Vt]);return Ut.fillStyle=wt?Et.getPattern(bt,this,zt,PathType.FILL):Et,Ut.fillRect(0,0,_t,xt),St&&!wt&&(this.cachedCanvases.delete("fillCanvas"),St.set(kt,jt.canvas)),{canvas:jt.canvas,offsetX:Math.round(Bt),offsetY:Math.round(Vt)}}setLineWidth(ht){ht!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ht,this.ctx.lineWidth=ht}setLineCap(ht){this.ctx.lineCap=LINE_CAP_STYLES[ht]}setLineJoin(ht){this.ctx.lineJoin=LINE_JOIN_STYLES[ht]}setMiterLimit(ht){this.ctx.miterLimit=ht}setDash(ht,bt){const _t=this.ctx;_t.setLineDash!==void 0&&(_t.setLineDash(ht),_t.lineDashOffset=bt)}setRenderingIntent(ht){}setFlatness(ht){}setGState(ht){for(const[bt,_t]of ht)switch(bt){case"LW":this.setLineWidth(_t);break;case"LC":this.setLineCap(_t);break;case"LJ":this.setLineJoin(_t);break;case"ML":this.setMiterLimit(_t);break;case"D":this.setDash(_t[0],_t[1]);break;case"RI":this.setRenderingIntent(_t);break;case"FL":this.setFlatness(_t);break;case"Font":this.setFont(_t[0],_t[1]);break;case"CA":this.current.strokeAlpha=_t;break;case"ca":this.current.fillAlpha=_t,this.ctx.globalAlpha=_t;break;case"BM":this.ctx.globalCompositeOperation=_t;break;case"SMask":this.current.activeSMask=_t?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(_t);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ht=this.inSMaskMode;this.current.activeSMask&&!ht?this.beginSMaskMode():!this.current.activeSMask&&ht&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ht=this.ctx.canvas.width,bt=this.ctx.canvas.height,_t="smaskGroupAt"+this.groupLevel,xt=this.cachedCanvases.getCanvas(_t,ht,bt);this.suspendedCtx=this.ctx,this.ctx=xt.context;const Et=this.ctx;Et.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,Et),mirrorContextOperations(Et,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ht){if(!this.current.activeSMask)return;ht?(ht[0]=Math.floor(ht[0]),ht[1]=Math.floor(ht[1]),ht[2]=Math.ceil(ht[2]),ht[3]=Math.ceil(ht[3])):ht=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const bt=this.current.activeSMask,_t=this.suspendedCtx;this.composeSMask(_t,bt,this.ctx,ht),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(ht,bt,_t,xt){const Et=xt[0],wt=xt[1],At=xt[2]-Et,St=xt[3]-wt;At===0||St===0||(this.genericComposeSMask(bt.context,_t,At,St,bt.subtype,bt.backdrop,bt.transferMap,Et,wt,bt.offsetX,bt.offsetY),ht.save(),ht.globalAlpha=1,ht.globalCompositeOperation="source-over",ht.setTransform(1,0,0,1,0,0),ht.drawImage(_t.canvas,0,0),ht.restore())}genericComposeSMask(ht,bt,_t,xt,Et,wt,At,St,kt,Rt,Pt){let Mt=ht.canvas,Ft=St-Rt,Lt=kt-Pt;if(wt){if(Ft<0||Lt<0||Ft+_t>Mt.width||Lt+xt>Mt.height){const Nt=this.cachedCanvases.getCanvas("maskExtension",_t,xt),$t=Nt.context;$t.drawImage(Mt,-Ft,-Lt),wt.some(Ot=>Ot!==0)&&($t.globalCompositeOperation="destination-atop",$t.fillStyle=Util.makeHexColor(...wt),$t.fillRect(0,0,_t,xt),$t.globalCompositeOperation="source-over"),Mt=Nt.canvas,Ft=Lt=0}else if(wt.some(Nt=>Nt!==0)){ht.save(),ht.globalAlpha=1,ht.setTransform(1,0,0,1,0,0);const Nt=new Path2D;Nt.rect(Ft,Lt,_t,xt),ht.clip(Nt),ht.globalCompositeOperation="destination-atop",ht.fillStyle=Util.makeHexColor(...wt),ht.fillRect(Ft,Lt,_t,xt),ht.restore()}}bt.save(),bt.globalAlpha=1,bt.setTransform(1,0,0,1,0,0),Et==="Alpha"&&At?bt.filter=this.filterFactory.addAlphaFilter(At):Et==="Luminosity"&&(bt.filter=this.filterFactory.addLuminosityFilter(At));const Dt=new Path2D;Dt.rect(St,kt,_t,xt),bt.clip(Dt),bt.globalCompositeOperation="destination-in",bt.drawImage(Mt,Ft,Lt,_t,xt,St,kt,_t,xt),bt.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ht=this.current;this.stateStack.push(ht),this.current=ht.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ht,bt,_t,xt,Et,wt){this.ctx.transform(ht,bt,_t,xt,Et,wt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ht,bt,_t){const xt=this.ctx,Et=this.current;let wt=Et.x,At=Et.y,St,kt;const Rt=getCurrentTransform(xt),Pt=Rt[0]===0&&Rt[3]===0||Rt[1]===0&&Rt[2]===0,Mt=Pt?_t.slice(0):null;for(let Ft=0,Lt=0,Dt=ht.length;Ft<Dt;Ft++)switch(ht[Ft]|0){case OPS.rectangle:wt=bt[Lt++],At=bt[Lt++];const Nt=bt[Lt++],$t=bt[Lt++],Ot=wt+Nt,jt=At+$t;xt.moveTo(wt,At),Nt===0||$t===0?xt.lineTo(Ot,jt):(xt.lineTo(Ot,At),xt.lineTo(Ot,jt),xt.lineTo(wt,jt)),Pt||Et.updateRectMinMax(Rt,[wt,At,Ot,jt]),xt.closePath();break;case OPS.moveTo:wt=bt[Lt++],At=bt[Lt++],xt.moveTo(wt,At),Pt||Et.updatePathMinMax(Rt,wt,At);break;case OPS.lineTo:wt=bt[Lt++],At=bt[Lt++],xt.lineTo(wt,At),Pt||Et.updatePathMinMax(Rt,wt,At);break;case OPS.curveTo:St=wt,kt=At,wt=bt[Lt+4],At=bt[Lt+5],xt.bezierCurveTo(bt[Lt],bt[Lt+1],bt[Lt+2],bt[Lt+3],wt,At),Et.updateCurvePathMinMax(Rt,St,kt,bt[Lt],bt[Lt+1],bt[Lt+2],bt[Lt+3],wt,At,Mt),Lt+=6;break;case OPS.curveTo2:St=wt,kt=At,xt.bezierCurveTo(wt,At,bt[Lt],bt[Lt+1],bt[Lt+2],bt[Lt+3]),Et.updateCurvePathMinMax(Rt,St,kt,wt,At,bt[Lt],bt[Lt+1],bt[Lt+2],bt[Lt+3],Mt),wt=bt[Lt+2],At=bt[Lt+3],Lt+=4;break;case OPS.curveTo3:St=wt,kt=At,wt=bt[Lt+2],At=bt[Lt+3],xt.bezierCurveTo(bt[Lt],bt[Lt+1],wt,At,wt,At),Et.updateCurvePathMinMax(Rt,St,kt,bt[Lt],bt[Lt+1],wt,At,wt,At,Mt),Lt+=4;break;case OPS.closePath:xt.closePath();break}Pt&&Et.updateScalingPathMinMax(Rt,Mt),Et.setCurrentPoint(wt,At)}closePath(){this.ctx.closePath()}stroke(ht=!0){const bt=this.ctx,_t=this.current.strokeColor;bt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof _t=="object"&&(_t!=null&&_t.getPattern)?(bt.save(),bt.strokeStyle=_t.getPattern(bt,this,getCurrentTransformInverse(bt),PathType.STROKE),this.rescaleAndStroke(!1),bt.restore()):this.rescaleAndStroke(!0)),ht&&this.consumePath(this.current.getClippedPathBoundingBox()),bt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ht=!0){const bt=this.ctx,_t=this.current.fillColor,xt=this.current.patternFill;let Et=!1;xt&&(bt.save(),bt.fillStyle=_t.getPattern(bt,this,getCurrentTransformInverse(bt),PathType.FILL),Et=!0);const wt=this.current.getClippedPathBoundingBox();this.contentVisible&&wt!==null&&(this.pendingEOFill?(bt.fill("evenodd"),this.pendingEOFill=!1):bt.fill()),Et&&bt.restore(),ht&&this.consumePath(wt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ht=this.pendingTextPaths,bt=this.ctx;if(ht===void 0){bt.beginPath();return}bt.save(),bt.beginPath();for(const _t of ht)bt.setTransform(..._t.transform),bt.translate(_t.x,_t.y),_t.addToPath(bt,_t.fontSize);bt.restore(),bt.clip(),bt.beginPath(),delete this.pendingTextPaths}setCharSpacing(ht){this.current.charSpacing=ht}setWordSpacing(ht){this.current.wordSpacing=ht}setHScale(ht){this.current.textHScale=ht/100}setLeading(ht){this.current.leading=-ht}setFont(ht,bt){var Rt;const _t=this.commonObjs.get(ht),xt=this.current;if(!_t)throw new Error(`Can't find font for ${ht}`);if(xt.fontMatrix=_t.fontMatrix||FONT_IDENTITY_MATRIX,(xt.fontMatrix[0]===0||xt.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+ht),bt<0?(bt=-bt,xt.fontDirection=-1):xt.fontDirection=1,this.current.font=_t,this.current.fontSize=bt,_t.isType3Font)return;const Et=_t.loadedName||"sans-serif",wt=((Rt=_t.systemFontInfo)==null?void 0:Rt.css)||`"${Et}", ${_t.fallbackName}`;let At="normal";_t.black?At="900":_t.bold&&(At="bold");const St=_t.italic?"italic":"normal";let kt=bt;bt<MIN_FONT_SIZE?kt=MIN_FONT_SIZE:bt>MAX_FONT_SIZE&&(kt=MAX_FONT_SIZE),this.current.fontSizeScale=bt/kt,this.ctx.font=`${St} ${At} ${kt}px ${wt}`}setTextRenderingMode(ht){this.current.textRenderingMode=ht}setTextRise(ht){this.current.textRise=ht}moveText(ht,bt){this.current.x=this.current.lineX+=ht,this.current.y=this.current.lineY+=bt}setLeadingMoveText(ht,bt){this.setLeading(-bt),this.moveText(ht,bt)}setTextMatrix(ht,bt,_t,xt,Et,wt){this.current.textMatrix=[ht,bt,_t,xt,Et,wt],this.current.textMatrixScale=Math.hypot(ht,bt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ht,bt,_t,xt){const Et=this.ctx,wt=this.current,At=wt.font,St=wt.textRenderingMode,kt=wt.fontSize/wt.fontSizeScale,Rt=St&TextRenderingMode.FILL_STROKE_MASK,Pt=!!(St&TextRenderingMode.ADD_TO_PATH_FLAG),Mt=wt.patternFill&&!At.missingFile;let Ft;(At.disableFontFace||Pt||Mt)&&(Ft=At.getPathGenerator(this.commonObjs,ht)),At.disableFontFace||Mt?(Et.save(),Et.translate(bt,_t),Et.beginPath(),Ft(Et,kt),xt&&Et.setTransform(...xt),(Rt===TextRenderingMode.FILL||Rt===TextRenderingMode.FILL_STROKE)&&Et.fill(),(Rt===TextRenderingMode.STROKE||Rt===TextRenderingMode.FILL_STROKE)&&Et.stroke(),Et.restore()):((Rt===TextRenderingMode.FILL||Rt===TextRenderingMode.FILL_STROKE)&&Et.fillText(ht,bt,_t),(Rt===TextRenderingMode.STROKE||Rt===TextRenderingMode.FILL_STROKE)&&Et.strokeText(ht,bt,_t)),Pt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(Et),x:bt,y:_t,fontSize:kt,addToPath:Ft})}get isFontSubpixelAAEnabled(){const{context:ht}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ht.scale(1.5,1),ht.fillText("I",0,10);const bt=ht.getImageData(0,0,10,10).data;let _t=!1;for(let xt=3;xt<bt.length;xt+=4)if(bt[xt]>0&&bt[xt]<255){_t=!0;break}return shadow(this,"isFontSubpixelAAEnabled",_t)}showText(ht){const bt=this.current,_t=bt.font;if(_t.isType3Font)return this.showType3Text(ht);const xt=bt.fontSize;if(xt===0)return;const Et=this.ctx,wt=bt.fontSizeScale,At=bt.charSpacing,St=bt.wordSpacing,kt=bt.fontDirection,Rt=bt.textHScale*kt,Pt=ht.length,Mt=_t.vertical,Ft=Mt?1:-1,Lt=_t.defaultVMetrics,Dt=xt*bt.fontMatrix[0],Nt=bt.textRenderingMode===TextRenderingMode.FILL&&!_t.disableFontFace&&!bt.patternFill;Et.save(),Et.transform(...bt.textMatrix),Et.translate(bt.x,bt.y+bt.textRise),kt>0?Et.scale(Rt,-1):Et.scale(Rt,1);let $t;if(bt.patternFill){Et.save();const Vt=bt.fillColor.getPattern(Et,this,getCurrentTransformInverse(Et),PathType.FILL);$t=getCurrentTransform(Et),Et.restore(),Et.fillStyle=Vt}let Ot=bt.lineWidth;const jt=bt.textMatrixScale;if(jt===0||Ot===0){const Vt=bt.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(Vt===TextRenderingMode.STROKE||Vt===TextRenderingMode.FILL_STROKE)&&(Ot=this.getSinglePixelWidth())}else Ot/=jt;if(wt!==1&&(Et.scale(wt,wt),Ot/=wt),Et.lineWidth=Ot,_t.isInvalidPDFjsFont){const Vt=[];let zt=0;for(const Gt of ht)Vt.push(Gt.unicode),zt+=Gt.width;Et.fillText(Vt.join(""),0,0),bt.x+=zt*Dt*Rt,Et.restore(),this.compose();return}let Ut=0,Bt;for(Bt=0;Bt<Pt;++Bt){const Vt=ht[Bt];if(typeof Vt=="number"){Ut+=Ft*Vt*xt/1e3;continue}let zt=!1;const Gt=(Vt.isSpace?St:0)+At,en=Vt.fontChar,ln=Vt.accent;let Kt,on,fn=Vt.width;if(Mt){const gn=Vt.vmetric||Lt,wn=-(Vt.vmetric?gn[1]:fn*.5)*Dt,pn=gn[2]*Dt;fn=gn?-gn[0]:fn,Kt=wn/wt,on=(Ut+pn)/wt}else Kt=Ut/wt,on=0;if(_t.remeasure&&fn>0){const gn=Et.measureText(en).width*1e3/xt*wt;if(fn<gn&&this.isFontSubpixelAAEnabled){const wn=fn/gn;zt=!0,Et.save(),Et.scale(wn,1),Kt/=wn}else fn!==gn&&(Kt+=(fn-gn)/2e3*xt/wt)}if(this.contentVisible&&(Vt.isInFont||_t.missingFile)){if(Nt&&!ln)Et.fillText(en,Kt,on);else if(this.paintChar(en,Kt,on,$t),ln){const gn=Kt+xt*ln.offset.x/wt,wn=on-xt*ln.offset.y/wt;this.paintChar(ln.fontChar,gn,wn,$t)}}const En=Mt?fn*Dt-Gt*kt:fn*Dt+Gt*kt;Ut+=En,zt&&Et.restore()}Mt?bt.y-=Ut:bt.x+=Ut*Rt,Et.restore(),this.compose()}showType3Text(ht){const bt=this.ctx,_t=this.current,xt=_t.font,Et=_t.fontSize,wt=_t.fontDirection,At=xt.vertical?1:-1,St=_t.charSpacing,kt=_t.wordSpacing,Rt=_t.textHScale*wt,Pt=_t.fontMatrix||FONT_IDENTITY_MATRIX,Mt=ht.length,Ft=_t.textRenderingMode===TextRenderingMode.INVISIBLE;let Lt,Dt,Nt,$t;if(!(Ft||Et===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,bt.save(),bt.transform(..._t.textMatrix),bt.translate(_t.x,_t.y),bt.scale(Rt,wt),Lt=0;Lt<Mt;++Lt){if(Dt=ht[Lt],typeof Dt=="number"){$t=At*Dt*Et/1e3,this.ctx.translate($t,0),_t.x+=$t*Rt;continue}const Ot=(Dt.isSpace?kt:0)+St,jt=xt.charProcOperatorList[Dt.operatorListId];if(!jt){warn(`Type3 character "${Dt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Dt,this.save(),bt.scale(Et,Et),bt.transform(...Pt),this.executeOperatorList(jt),this.restore()),Nt=Util.applyTransform([Dt.width,0],Pt)[0]*Et+Ot,bt.translate(Nt,0),_t.x+=Nt*Rt}bt.restore(),this.processingType3=null}}setCharWidth(ht,bt){}setCharWidthAndBounds(ht,bt,_t,xt,Et,wt){this.ctx.rect(_t,xt,Et-_t,wt-xt),this.ctx.clip(),this.endPath()}getColorN_Pattern(ht){let bt;if(ht[0]==="TilingPattern"){const _t=ht[1],xt=this.baseTransform||getCurrentTransform(this.ctx),Et={createCanvasGraphics:wt=>new s1(wt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};bt=new TilingPattern(ht,_t,this.ctx,Et,xt)}else bt=this._getPattern(ht[1],ht[2]);return bt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ht,bt,_t){const xt=Util.makeHexColor(ht,bt,_t);this.ctx.strokeStyle=xt,this.current.strokeColor=xt}setFillRGBColor(ht,bt,_t){const xt=Util.makeHexColor(ht,bt,_t);this.ctx.fillStyle=xt,this.current.fillColor=xt,this.current.patternFill=!1}_getPattern(ht,bt=null){let _t;return this.cachedPatterns.has(ht)?_t=this.cachedPatterns.get(ht):(_t=getShadingPattern(this.getObject(ht)),this.cachedPatterns.set(ht,_t)),bt&&(_t.matrix=bt),_t}shadingFill(ht){if(!this.contentVisible)return;const bt=this.ctx;this.save();const _t=this._getPattern(ht);bt.fillStyle=_t.getPattern(bt,this,getCurrentTransformInverse(bt),PathType.SHADING);const xt=getCurrentTransformInverse(bt);if(xt){const{width:Et,height:wt}=bt.canvas,[At,St,kt,Rt]=Util.getAxialAlignedBoundingBox([0,0,Et,wt],xt);this.ctx.fillRect(At,St,kt-At,Rt-St)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin(ht,bt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),ht&&this.transform(...ht),this.baseTransform=getCurrentTransform(this.ctx),bt)){const _t=bt[2]-bt[0],xt=bt[3]-bt[1];this.ctx.rect(bt[0],bt[1],_t,xt),this.current.updateRectMinMax(getCurrentTransform(this.ctx),bt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ht){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const bt=this.ctx;ht.isolated||info("TODO: Support non-isolated groups."),ht.knockout&&warn("Knockout groups not supported.");const _t=getCurrentTransform(bt);if(ht.matrix&&bt.transform(...ht.matrix),!ht.bbox)throw new Error("Bounding box is required.");let xt=Util.getAxialAlignedBoundingBox(ht.bbox,getCurrentTransform(bt));const Et=[0,0,bt.canvas.width,bt.canvas.height];xt=Util.intersect(xt,Et)||[0,0,0,0];const wt=Math.floor(xt[0]),At=Math.floor(xt[1]),St=Math.max(Math.ceil(xt[2])-wt,1),kt=Math.max(Math.ceil(xt[3])-At,1);this.current.startNewPathAndClipBox([0,0,St,kt]);let Rt="groupAt"+this.groupLevel;ht.smask&&(Rt+="_smask_"+this.smaskCounter++%2);const Pt=this.cachedCanvases.getCanvas(Rt,St,kt),Mt=Pt.context;Mt.translate(-wt,-At),Mt.transform(..._t),ht.smask?this.smaskStack.push({canvas:Pt.canvas,context:Mt,offsetX:wt,offsetY:At,subtype:ht.smask.subtype,backdrop:ht.smask.backdrop,transferMap:ht.smask.transferMap||null,startTransformInverse:null}):(bt.setTransform(1,0,0,1,0,0),bt.translate(wt,At),bt.save()),copyCtxState(bt,Mt),this.ctx=Mt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(bt),this.groupLevel++}endGroup(ht){if(!this.contentVisible)return;this.groupLevel--;const bt=this.ctx,_t=this.groupStack.pop();if(this.ctx=_t,this.ctx.imageSmoothingEnabled=!1,ht.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const xt=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...xt);const Et=Util.getAxialAlignedBoundingBox([0,0,bt.canvas.width,bt.canvas.height],xt);this.ctx.drawImage(bt.canvas,0,0),this.ctx.restore(),this.compose(Et)}}beginAnnotation(ht,bt,_t,xt,Et){if(Xt(this,Gu,X_).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),bt){const wt=bt[2]-bt[0],At=bt[3]-bt[1];if(Et&&this.annotationCanvasMap){_t=_t.slice(),_t[4]-=bt[0],_t[5]-=bt[1],bt=bt.slice(),bt[0]=bt[1]=0,bt[2]=wt,bt[3]=At;const[St,kt]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:Rt}=this,Pt=Math.ceil(wt*this.outputScaleX*Rt),Mt=Math.ceil(At*this.outputScaleY*Rt);this.annotationCanvas=this.canvasFactory.create(Pt,Mt);const{canvas:Ft,context:Lt}=this.annotationCanvas;this.annotationCanvasMap.set(ht,Ft),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Lt,this.ctx.save(),this.ctx.setTransform(St,0,0,-kt,0,At*kt),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.ctx.rect(bt[0],bt[1],wt,At),this.ctx.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(..._t),this.transform(...xt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Xt(this,Gu,q_).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ht){if(!this.contentVisible)return;const bt=ht.count;ht=this.getObject(ht.data,ht),ht.count=bt;const _t=this.ctx,xt=this.processingType3;if(xt&&(xt.compiled===void 0&&(xt.compiled=compileType3Glyph(ht)),xt.compiled)){xt.compiled(_t);return}const Et=this._createMaskCanvas(ht),wt=Et.canvas;_t.save(),_t.setTransform(1,0,0,1,0,0),_t.drawImage(wt,Et.offsetX,Et.offsetY),_t.restore(),this.compose()}paintImageMaskXObjectRepeat(ht,bt,_t=0,xt=0,Et,wt){if(!this.contentVisible)return;ht=this.getObject(ht.data,ht);const At=this.ctx;At.save();const St=getCurrentTransform(At);At.transform(bt,_t,xt,Et,0,0);const kt=this._createMaskCanvas(ht);At.setTransform(1,0,0,1,kt.offsetX-St[4],kt.offsetY-St[5]);for(let Rt=0,Pt=wt.length;Rt<Pt;Rt+=2){const Mt=Util.transform(St,[bt,_t,xt,Et,wt[Rt],wt[Rt+1]]),[Ft,Lt]=Util.applyTransform([0,0],Mt);At.drawImage(kt.canvas,Ft,Lt)}At.restore(),this.compose()}paintImageMaskXObjectGroup(ht){if(!this.contentVisible)return;const bt=this.ctx,_t=this.current.fillColor,xt=this.current.patternFill;for(const Et of ht){const{data:wt,width:At,height:St,transform:kt}=Et,Rt=this.cachedCanvases.getCanvas("maskCanvas",At,St),Pt=Rt.context;Pt.save();const Mt=this.getObject(wt,Et);putBinaryImageMask(Pt,Mt),Pt.globalCompositeOperation="source-in",Pt.fillStyle=xt?_t.getPattern(Pt,this,getCurrentTransformInverse(bt),PathType.FILL):_t,Pt.fillRect(0,0,At,St),Pt.restore(),bt.save(),bt.transform(...kt),bt.scale(1,-1),drawImageAtIntegerCoords(bt,Rt.canvas,0,0,At,St,0,-1,1,1),bt.restore()}this.compose()}paintImageXObject(ht){if(!this.contentVisible)return;const bt=this.getObject(ht);if(!bt){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(bt)}paintImageXObjectRepeat(ht,bt,_t,xt){if(!this.contentVisible)return;const Et=this.getObject(ht);if(!Et){warn("Dependent image isn't ready yet");return}const wt=Et.width,At=Et.height,St=[];for(let kt=0,Rt=xt.length;kt<Rt;kt+=2)St.push({transform:[bt,0,0,_t,xt[kt],xt[kt+1]],x:0,y:0,w:wt,h:At});this.paintInlineImageXObjectGroup(Et,St)}applyTransferMapsToCanvas(ht){return this.current.transferMaps!=="none"&&(ht.filter=this.current.transferMaps,ht.drawImage(ht.canvas,0,0),ht.filter="none"),ht.canvas}applyTransferMapsToBitmap(ht){if(this.current.transferMaps==="none")return ht.bitmap;const{bitmap:bt,width:_t,height:xt}=ht,Et=this.cachedCanvases.getCanvas("inlineImage",_t,xt),wt=Et.context;return wt.filter=this.current.transferMaps,wt.drawImage(bt,0,0),wt.filter="none",Et.canvas}paintInlineImageXObject(ht){if(!this.contentVisible)return;const bt=ht.width,_t=ht.height,xt=this.ctx;if(this.save(),!isNodeJS){const{filter:At}=xt;At!=="none"&&At!==""&&(xt.filter="none")}xt.scale(1/bt,-1/_t);let Et;if(ht.bitmap)Et=this.applyTransferMapsToBitmap(ht);else if(typeof HTMLElement=="function"&&ht instanceof HTMLElement||!ht.data)Et=ht;else{const St=this.cachedCanvases.getCanvas("inlineImage",bt,_t).context;putBinaryImageData(St,ht),Et=this.applyTransferMapsToCanvas(St)}const wt=this._scaleImage(Et,getCurrentTransformInverse(xt));xt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(xt),ht.interpolate),drawImageAtIntegerCoords(xt,wt.img,0,0,wt.paintWidth,wt.paintHeight,0,-_t,bt,_t),this.compose(),this.restore()}paintInlineImageXObjectGroup(ht,bt){if(!this.contentVisible)return;const _t=this.ctx;let xt;if(ht.bitmap)xt=ht.bitmap;else{const Et=ht.width,wt=ht.height,St=this.cachedCanvases.getCanvas("inlineImage",Et,wt).context;putBinaryImageData(St,ht),xt=this.applyTransferMapsToCanvas(St)}for(const Et of bt)_t.save(),_t.transform(...Et.transform),_t.scale(1,-1),drawImageAtIntegerCoords(_t,xt,Et.x,Et.y,Et.w,Et.h,0,-1,1,1),_t.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ht){}markPointProps(ht,bt){}beginMarkedContent(ht){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ht,bt){ht==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(bt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ht){const bt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ht);const _t=this.ctx;this.pendingClip&&(bt||(this.pendingClip===EO_CLIP?_t.clip("evenodd"):_t.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),_t.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ht=getCurrentTransform(this.ctx);if(ht[1]===0&&ht[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ht[0]),Math.abs(ht[3]));else{const bt=Math.abs(ht[0]*ht[3]-ht[2]*ht[1]),_t=Math.hypot(ht[0],ht[2]),xt=Math.hypot(ht[1],ht[3]);this._cachedGetSinglePixelWidth=Math.max(_t,xt)/bt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:ht}=this.current,{a:bt,b:_t,c:xt,d:Et}=this.ctx.getTransform();let wt,At;if(_t===0&&xt===0){const St=Math.abs(bt),kt=Math.abs(Et);if(St===kt)if(ht===0)wt=At=1/St;else{const Rt=St*ht;wt=At=Rt<1?1/Rt:1}else if(ht===0)wt=1/St,At=1/kt;else{const Rt=St*ht,Pt=kt*ht;wt=Rt<1?1/Rt:1,At=Pt<1?1/Pt:1}}else{const St=Math.abs(bt*Et-_t*xt),kt=Math.hypot(bt,_t),Rt=Math.hypot(xt,Et);if(ht===0)wt=Rt/St,At=kt/St;else{const Pt=ht*St;wt=Rt>Pt?Rt/Pt:1,At=kt>Pt?kt/Pt:1}}this._cachedScaleForStroking[0]=wt,this._cachedScaleForStroking[1]=At}return this._cachedScaleForStroking}rescaleAndStroke(ht){const{ctx:bt}=this,{lineWidth:_t}=this.current,[xt,Et]=this.getScaleForStroking();if(bt.lineWidth=_t||1,xt===1&&Et===1){bt.stroke();return}const wt=bt.getLineDash();if(ht&&bt.save(),bt.scale(xt,Et),wt.length>0){const At=Math.max(xt,Et);bt.setLineDash(wt.map(St=>St/At)),bt.lineDashOffset/=At}bt.stroke(),ht&&bt.restore()}isContentVisible(){for(let ht=this.markedContentStack.length-1;ht>=0;ht--)if(!this.markedContentStack[ht].visible)return!1;return!0}};Gu=new WeakSet,X_=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},q_=function(){if(this.pageColors){const ht=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(ht!=="none"){const bt=this.ctx.filter;this.ctx.filter=ht,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=bt}}};let CanvasGraphics=s1;for(const vt in OPS)CanvasGraphics.prototype[vt]!==void 0&&(CanvasGraphics.prototype[OPS[vt]]=CanvasGraphics.prototype[vt]);var tv,nv;class GlobalWorkerOptions{static get workerPort(){return Ct(this,tv)}static set workerPort(ht){if(!(typeof Worker<"u"&&ht instanceof Worker)&&ht!==null)throw new Error("Invalid `workerPort` type.");qt(this,tv,ht)}static get workerSrc(){return Ct(this,nv)}static set workerSrc(ht){if(typeof ht!="string")throw new Error("Invalid `workerSrc` type.");qt(this,nv,ht)}}tv=new WeakMap,nv=new WeakMap,Qt(GlobalWorkerOptions,tv,null),Qt(GlobalWorkerOptions,nv,"");const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(vt){switch(vt instanceof Error||typeof vt=="object"&&vt!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),vt.name){case"AbortException":return new AbortException(vt.message);case"MissingPDFException":return new MissingPDFException(vt.message);case"PasswordException":return new PasswordException(vt.message,vt.code);case"UnexpectedResponseException":return new UnexpectedResponseException(vt.message,vt.status);case"UnknownErrorException":return new UnknownErrorException(vt.message,vt.details);default:return new UnknownErrorException(vt.message,vt.toString())}}var Ol,Z1,Q1,vy;class MessageHandler{constructor(ht,bt,_t){Qt(this,Ol);this.sourceName=ht,this.targetName=bt,this.comObj=_t,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=xt=>{const Et=xt.data;if(Et.targetName!==this.sourceName)return;if(Et.stream){Xt(this,Ol,Q1).call(this,Et);return}if(Et.callback){const At=Et.callbackId,St=this.callbackCapabilities[At];if(!St)throw new Error(`Cannot resolve callback ${At}`);if(delete this.callbackCapabilities[At],Et.callback===CallbackKind.DATA)St.resolve(Et.data);else if(Et.callback===CallbackKind.ERROR)St.reject(wrapReason(Et.reason));else throw new Error("Unexpected callback case");return}const wt=this.actionHandler[Et.action];if(!wt)throw new Error(`Unknown action from worker: ${Et.action}`);if(Et.callbackId){const At=this.sourceName,St=Et.sourceName;new Promise(function(kt){kt(wt(Et.data))}).then(function(kt){_t.postMessage({sourceName:At,targetName:St,callback:CallbackKind.DATA,callbackId:Et.callbackId,data:kt})},function(kt){_t.postMessage({sourceName:At,targetName:St,callback:CallbackKind.ERROR,callbackId:Et.callbackId,reason:wrapReason(kt)})});return}if(Et.streamId){Xt(this,Ol,Z1).call(this,Et);return}wt(Et.data)},_t.addEventListener("message",this._onComObjOnMessage)}on(ht,bt){const _t=this.actionHandler;if(_t[ht])throw new Error(`There is already an actionName called "${ht}"`);_t[ht]=bt}send(ht,bt,_t){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ht,data:bt},_t)}sendWithPromise(ht,bt,_t){const xt=this.callbackId++,Et=Promise.withResolvers();this.callbackCapabilities[xt]=Et;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ht,callbackId:xt,data:bt},_t)}catch(wt){Et.reject(wt)}return Et.promise}sendWithStream(ht,bt,_t,xt){const Et=this.streamId++,wt=this.sourceName,At=this.targetName,St=this.comObj;return new ReadableStream({start:kt=>{const Rt=Promise.withResolvers();return this.streamControllers[Et]={controller:kt,startCall:Rt,pullCall:null,cancelCall:null,isClosed:!1},St.postMessage({sourceName:wt,targetName:At,action:ht,streamId:Et,data:bt,desiredSize:kt.desiredSize},xt),Rt.promise},pull:kt=>{const Rt=Promise.withResolvers();return this.streamControllers[Et].pullCall=Rt,St.postMessage({sourceName:wt,targetName:At,stream:StreamKind.PULL,streamId:Et,desiredSize:kt.desiredSize}),Rt.promise},cancel:kt=>{assert(kt instanceof Error,"cancel must have a valid reason");const Rt=Promise.withResolvers();return this.streamControllers[Et].cancelCall=Rt,this.streamControllers[Et].isClosed=!0,St.postMessage({sourceName:wt,targetName:At,stream:StreamKind.CANCEL,streamId:Et,reason:wrapReason(kt)}),Rt.promise}},_t)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Ol=new WeakSet,Z1=function(ht){const bt=ht.streamId,_t=this.sourceName,xt=ht.sourceName,Et=this.comObj,wt=this,At=this.actionHandler[ht.action],St={enqueue(kt,Rt=1,Pt){if(this.isCancelled)return;const Mt=this.desiredSize;this.desiredSize-=Rt,Mt>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),Et.postMessage({sourceName:_t,targetName:xt,stream:StreamKind.ENQUEUE,streamId:bt,chunk:kt},Pt)},close(){this.isCancelled||(this.isCancelled=!0,Et.postMessage({sourceName:_t,targetName:xt,stream:StreamKind.CLOSE,streamId:bt}),delete wt.streamSinks[bt])},error(kt){assert(kt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Et.postMessage({sourceName:_t,targetName:xt,stream:StreamKind.ERROR,streamId:bt,reason:wrapReason(kt)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:ht.desiredSize,ready:null};St.sinkCapability.resolve(),St.ready=St.sinkCapability.promise,this.streamSinks[bt]=St,new Promise(function(kt){kt(At(ht.data,St))}).then(function(){Et.postMessage({sourceName:_t,targetName:xt,stream:StreamKind.START_COMPLETE,streamId:bt,success:!0})},function(kt){Et.postMessage({sourceName:_t,targetName:xt,stream:StreamKind.START_COMPLETE,streamId:bt,reason:wrapReason(kt)})})},Q1=function(ht){const bt=ht.streamId,_t=this.sourceName,xt=ht.sourceName,Et=this.comObj,wt=this.streamControllers[bt],At=this.streamSinks[bt];switch(ht.stream){case StreamKind.START_COMPLETE:ht.success?wt.startCall.resolve():wt.startCall.reject(wrapReason(ht.reason));break;case StreamKind.PULL_COMPLETE:ht.success?wt.pullCall.resolve():wt.pullCall.reject(wrapReason(ht.reason));break;case StreamKind.PULL:if(!At){Et.postMessage({sourceName:_t,targetName:xt,stream:StreamKind.PULL_COMPLETE,streamId:bt,success:!0});break}At.desiredSize<=0&&ht.desiredSize>0&&At.sinkCapability.resolve(),At.desiredSize=ht.desiredSize,new Promise(function(St){var kt;St((kt=At.onPull)==null?void 0:kt.call(At))}).then(function(){Et.postMessage({sourceName:_t,targetName:xt,stream:StreamKind.PULL_COMPLETE,streamId:bt,success:!0})},function(St){Et.postMessage({sourceName:_t,targetName:xt,stream:StreamKind.PULL_COMPLETE,streamId:bt,reason:wrapReason(St)})});break;case StreamKind.ENQUEUE:if(assert(wt,"enqueue should have stream controller"),wt.isClosed)break;wt.controller.enqueue(ht.chunk);break;case StreamKind.CLOSE:if(assert(wt,"close should have stream controller"),wt.isClosed)break;wt.isClosed=!0,wt.controller.close(),Xt(this,Ol,vy).call(this,wt,bt);break;case StreamKind.ERROR:assert(wt,"error should have stream controller"),wt.controller.error(wrapReason(ht.reason)),Xt(this,Ol,vy).call(this,wt,bt);break;case StreamKind.CANCEL_COMPLETE:ht.success?wt.cancelCall.resolve():wt.cancelCall.reject(wrapReason(ht.reason)),Xt(this,Ol,vy).call(this,wt,bt);break;case StreamKind.CANCEL:if(!At)break;new Promise(function(St){var kt;St((kt=At.onCancel)==null?void 0:kt.call(At,wrapReason(ht.reason)))}).then(function(){Et.postMessage({sourceName:_t,targetName:xt,stream:StreamKind.CANCEL_COMPLETE,streamId:bt,success:!0})},function(St){Et.postMessage({sourceName:_t,targetName:xt,stream:StreamKind.CANCEL_COMPLETE,streamId:bt,reason:wrapReason(St)})}),At.sinkCapability.reject(wrapReason(ht.reason)),At.isCancelled=!0,delete this.streamSinks[bt];break;default:throw new Error("Unexpected stream case")}},vy=async function(ht,bt){var _t,xt,Et;await Promise.allSettled([(_t=ht.startCall)==null?void 0:_t.promise,(xt=ht.pullCall)==null?void 0:xt.promise,(Et=ht.cancelCall)==null?void 0:Et.promise]),delete this.streamControllers[bt]};var fp,rv;class Metadata{constructor({parsedData:ht,rawData:bt}){Qt(this,fp);Qt(this,rv);qt(this,fp,ht),qt(this,rv,bt)}getRaw(){return Ct(this,rv)}get(ht){return Ct(this,fp).get(ht)??null}getAll(){return objectFromMap(Ct(this,fp))}has(ht){return Ct(this,fp).has(ht)}}fp=new WeakMap,rv=new WeakMap;const INTERNAL=Symbol("INTERNAL");var iv,sv,av,xm;class OptionalContentGroup{constructor(ht,{name:bt,intent:_t,usage:xt}){Qt(this,iv,!1);Qt(this,sv,!1);Qt(this,av,!1);Qt(this,xm,!0);qt(this,iv,!!(ht&RenderingIntentFlag.DISPLAY)),qt(this,sv,!!(ht&RenderingIntentFlag.PRINT)),this.name=bt,this.intent=_t,this.usage=xt}get visible(){if(Ct(this,av))return Ct(this,xm);if(!Ct(this,xm))return!1;const{print:ht,view:bt}=this.usage;return Ct(this,iv)?(bt==null?void 0:bt.viewState)!=="OFF":Ct(this,sv)?(ht==null?void 0:ht.printState)!=="OFF":!0}_setVisible(ht,bt,_t=!1){ht!==INTERNAL&&unreachable("Internal method `_setVisible` called."),qt(this,av,_t),qt(this,xm,bt)}}iv=new WeakMap,sv=new WeakMap,av=new WeakMap,xm=new WeakMap;var ku,Ss,Em,wm,ov,K_;class OptionalContentConfig{constructor(ht,bt=RenderingIntentFlag.DISPLAY){Qt(this,ov);Qt(this,ku,null);Qt(this,Ss,new Map);Qt(this,Em,null);Qt(this,wm,null);if(this.renderingIntent=bt,this.name=null,this.creator=null,ht!==null){this.name=ht.name,this.creator=ht.creator,qt(this,wm,ht.order);for(const _t of ht.groups)Ct(this,Ss).set(_t.id,new OptionalContentGroup(bt,_t));if(ht.baseState==="OFF")for(const _t of Ct(this,Ss).values())_t._setVisible(INTERNAL,!1);for(const _t of ht.on)Ct(this,Ss).get(_t)._setVisible(INTERNAL,!0);for(const _t of ht.off)Ct(this,Ss).get(_t)._setVisible(INTERNAL,!1);qt(this,Em,this.getHash())}}isVisible(ht){if(Ct(this,Ss).size===0)return!0;if(!ht)return info("Optional content group not defined."),!0;if(ht.type==="OCG")return Ct(this,Ss).has(ht.id)?Ct(this,Ss).get(ht.id).visible:(warn(`Optional content group not found: ${ht.id}`),!0);if(ht.type==="OCMD"){if(ht.expression)return Xt(this,ov,K_).call(this,ht.expression);if(!ht.policy||ht.policy==="AnyOn"){for(const bt of ht.ids){if(!Ct(this,Ss).has(bt))return warn(`Optional content group not found: ${bt}`),!0;if(Ct(this,Ss).get(bt).visible)return!0}return!1}else if(ht.policy==="AllOn"){for(const bt of ht.ids){if(!Ct(this,Ss).has(bt))return warn(`Optional content group not found: ${bt}`),!0;if(!Ct(this,Ss).get(bt).visible)return!1}return!0}else if(ht.policy==="AnyOff"){for(const bt of ht.ids){if(!Ct(this,Ss).has(bt))return warn(`Optional content group not found: ${bt}`),!0;if(!Ct(this,Ss).get(bt).visible)return!0}return!1}else if(ht.policy==="AllOff"){for(const bt of ht.ids){if(!Ct(this,Ss).has(bt))return warn(`Optional content group not found: ${bt}`),!0;if(Ct(this,Ss).get(bt).visible)return!1}return!0}return warn(`Unknown optional content policy ${ht.policy}.`),!0}return warn(`Unknown group type ${ht.type}.`),!0}setVisibility(ht,bt=!0){const _t=Ct(this,Ss).get(ht);if(!_t){warn(`Optional content group not found: ${ht}`);return}_t._setVisible(INTERNAL,!!bt,!0),qt(this,ku,null)}setOCGState({state:ht,preserveRB:bt}){let _t;for(const xt of ht){switch(xt){case"ON":case"OFF":case"Toggle":_t=xt;continue}const Et=Ct(this,Ss).get(xt);if(Et)switch(_t){case"ON":Et._setVisible(INTERNAL,!0);break;case"OFF":Et._setVisible(INTERNAL,!1);break;case"Toggle":Et._setVisible(INTERNAL,!Et.visible);break}}qt(this,ku,null)}get hasInitialVisibility(){return Ct(this,Em)===null||this.getHash()===Ct(this,Em)}getOrder(){return Ct(this,Ss).size?Ct(this,wm)?Ct(this,wm).slice():[...Ct(this,Ss).keys()]:null}getGroups(){return Ct(this,Ss).size>0?objectFromMap(Ct(this,Ss)):null}getGroup(ht){return Ct(this,Ss).get(ht)||null}getHash(){if(Ct(this,ku)!==null)return Ct(this,ku);const ht=new MurmurHash3_64;for(const[bt,_t]of Ct(this,Ss))ht.update(`${bt}:${_t.visible}`);return qt(this,ku,ht.hexdigest())}}ku=new WeakMap,Ss=new WeakMap,Em=new WeakMap,wm=new WeakMap,ov=new WeakSet,K_=function(ht){const bt=ht.length;if(bt<2)return!0;const _t=ht[0];for(let xt=1;xt<bt;xt++){const Et=ht[xt];let wt;if(Array.isArray(Et))wt=Xt(this,ov,K_).call(this,Et);else if(Ct(this,Ss).has(Et))wt=Ct(this,Ss).get(Et).visible;else return warn(`Optional content group not found: ${Et}`),!0;switch(_t){case"And":if(!wt)return!1;break;case"Or":if(wt)return!0;break;case"Not":return!wt;default:return!0}}return _t==="And"};class PDFDataTransportStream{constructor(ht,{disableRange:bt=!1,disableStream:_t=!1}){assert(ht,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:xt,initialData:Et,progressiveDone:wt,contentDispositionFilename:At}=ht;if(this._queuedChunks=[],this._progressiveDone=wt,this._contentDispositionFilename=At,(Et==null?void 0:Et.length)>0){const St=Et instanceof Uint8Array&&Et.byteLength===Et.buffer.byteLength?Et.buffer:new Uint8Array(Et).buffer;this._queuedChunks.push(St)}this._pdfDataRangeTransport=ht,this._isStreamingSupported=!_t,this._isRangeSupported=!bt,this._contentLength=xt,this._fullRequestReader=null,this._rangeReaders=[],ht.addRangeListener((St,kt)=>{this._onReceiveData({begin:St,chunk:kt})}),ht.addProgressListener((St,kt)=>{this._onProgress({loaded:St,total:kt})}),ht.addProgressiveReadListener(St=>{this._onReceiveData({chunk:St})}),ht.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),ht.transportReady()}_onReceiveData({begin:ht,chunk:bt}){const _t=bt instanceof Uint8Array&&bt.byteLength===bt.buffer.byteLength?bt.buffer:new Uint8Array(bt).buffer;if(ht===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(_t):this._queuedChunks.push(_t);else{const xt=this._rangeReaders.some(function(Et){return Et._begin!==ht?!1:(Et._enqueue(_t),!0)});assert(xt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ht;return((ht=this._fullRequestReader)==null?void 0:ht._loaded)??0}_onProgress(ht){var bt,_t,xt,Et;ht.total===void 0?(_t=(bt=this._rangeReaders[0])==null?void 0:bt.onProgress)==null||_t.call(bt,{loaded:ht.loaded}):(Et=(xt=this._fullRequestReader)==null?void 0:xt.onProgress)==null||Et.call(xt,{loaded:ht.loaded,total:ht.total})}_onProgressiveDone(){var ht;(ht=this._fullRequestReader)==null||ht.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ht){const bt=this._rangeReaders.indexOf(ht);bt>=0&&this._rangeReaders.splice(bt,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ht=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,ht,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ht,bt){if(bt<=this._progressiveDataLength)return null;const _t=new PDFDataTransportStreamRangeReader(this,ht,bt);return this._pdfDataRangeTransport.requestDataRange(ht,bt),this._rangeReaders.push(_t),_t}cancelAllRequests(ht){var bt;(bt=this._fullRequestReader)==null||bt.cancel(ht);for(const _t of this._rangeReaders.slice(0))_t.cancel(ht);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor(ht,bt,_t=!1,xt=null){this._stream=ht,this._done=_t||!1,this._filename=isPdfFile(xt)?xt:null,this._queuedChunks=bt||[],this._loaded=0;for(const Et of this._queuedChunks)this._loaded+=Et.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ht._fullRequestReader=this,this.onProgress=null}_enqueue(ht){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ht,done:!1}):this._queuedChunks.push(ht),this._loaded+=ht.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ht=Promise.withResolvers();return this._requests.push(ht),ht.promise}cancel(ht){this._done=!0;for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(ht,bt,_t){this._stream=ht,this._begin=bt,this._end=_t,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ht){if(!this._done){if(this._requests.length===0)this._queuedChunk=ht;else{this._requests.shift().resolve({value:ht,done:!1});for(const _t of this._requests)_t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const bt=this._queuedChunk;return this._queuedChunk=null,{value:bt,done:!1}}if(this._done)return{value:void 0,done:!0};const ht=Promise.withResolvers();return this._requests.push(ht),ht.promise}cancel(ht){this._done=!0;for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(vt){let ht=!0,bt=_t("filename\\*","i").exec(vt);if(bt){bt=bt[1];let Rt=At(bt);return Rt=unescape(Rt),Rt=St(Rt),Rt=kt(Rt),Et(Rt)}if(bt=wt(vt),bt){const Rt=kt(bt);return Et(Rt)}if(bt=_t("filename","i").exec(vt),bt){bt=bt[1];let Rt=At(bt);return Rt=kt(Rt),Et(Rt)}function _t(Rt,Pt){return new RegExp("(?:^|;)\\s*"+Rt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Pt)}function xt(Rt,Pt){if(Rt){if(!/^[\x00-\xFF]+$/.test(Pt))return Pt;try{const Mt=new TextDecoder(Rt,{fatal:!0}),Ft=stringToBytes(Pt);Pt=Mt.decode(Ft),ht=!1}catch{}}return Pt}function Et(Rt){return ht&&/[\x80-\xff]/.test(Rt)&&(Rt=xt("utf-8",Rt),ht&&(Rt=xt("iso-8859-1",Rt))),Rt}function wt(Rt){const Pt=[];let Mt;const Ft=_t("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Mt=Ft.exec(Rt))!==null;){let[,Dt,Nt,$t]=Mt;if(Dt=parseInt(Dt,10),Dt in Pt){if(Dt===0)break;continue}Pt[Dt]=[Nt,$t]}const Lt=[];for(let Dt=0;Dt<Pt.length&&Dt in Pt;++Dt){let[Nt,$t]=Pt[Dt];$t=At($t),Nt&&($t=unescape($t),Dt===0&&($t=St($t))),Lt.push($t)}return Lt.join("")}function At(Rt){if(Rt.startsWith('"')){const Pt=Rt.slice(1).split('\\"');for(let Mt=0;Mt<Pt.length;++Mt){const Ft=Pt[Mt].indexOf('"');Ft!==-1&&(Pt[Mt]=Pt[Mt].slice(0,Ft),Pt.length=Mt+1),Pt[Mt]=Pt[Mt].replaceAll(/\\(.)/g,"$1")}Rt=Pt.join('"')}return Rt}function St(Rt){const Pt=Rt.indexOf("'");if(Pt===-1)return Rt;const Mt=Rt.slice(0,Pt),Lt=Rt.slice(Pt+1).replace(/^[^']*'/,"");return xt(Mt,Lt)}function kt(Rt){return!Rt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Rt)?Rt:Rt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Pt,Mt,Ft,Lt){if(Ft==="q"||Ft==="Q")return Lt=Lt.replaceAll("_"," "),Lt=Lt.replaceAll(/=([0-9a-fA-F]{2})/g,function(Dt,Nt){return String.fromCharCode(parseInt(Nt,16))}),xt(Mt,Lt);try{Lt=atob(Lt)}catch{}return xt(Mt,Lt)})}return""}function validateRangeRequestCapabilities({getResponseHeader:vt,isHttp:ht,rangeChunkSize:bt,disableRange:_t}){const xt={allowRangeRequests:!1,suggestedLength:void 0},Et=parseInt(vt("Content-Length"),10);return!Number.isInteger(Et)||(xt.suggestedLength=Et,Et<=2*bt)||_t||!ht||vt("Accept-Ranges")!=="bytes"||(vt("Content-Encoding")||"identity")!=="identity"||(xt.allowRangeRequests=!0),xt}function extractFilenameFromHeader(vt){const ht=vt("Content-Disposition");if(ht){let bt=getFilenameFromContentDispositionHeader(ht);if(bt.includes("%"))try{bt=decodeURIComponent(bt)}catch{}if(isPdfFile(bt))return bt}return null}function createResponseStatusError(vt,ht){return vt===404||vt===0&&ht.startsWith("file:")?new MissingPDFException('Missing PDF "'+ht+'".'):new UnexpectedResponseException(`Unexpected server response (${vt}) while retrieving PDF "${ht}".`,vt)}function validateResponseStatus(vt){return vt===200||vt===206}function createFetchOptions(vt,ht,bt){return{method:"GET",headers:vt,signal:bt.signal,mode:"cors",credentials:ht?"include":"same-origin",redirect:"follow"}}function createHeaders(vt){const ht=new Headers;for(const bt in vt){const _t=vt[bt];_t!==void 0&&ht.append(bt,_t)}return ht}function getArrayBuffer(vt){return vt instanceof Uint8Array?vt.buffer:vt instanceof ArrayBuffer?vt:(warn(`getArrayBuffer - unexpected data format: ${vt}`),new Uint8Array(vt).buffer)}class PDFFetchStream{constructor(ht){this.source=ht,this.isHttp=/^https?:/i.test(ht.url),this.httpHeaders=this.isHttp&&ht.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ht;return((ht=this._fullRequestReader)==null?void 0:ht._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(ht,bt){if(bt<=this._progressiveDataLength)return null;const _t=new PDFFetchStreamRangeReader(this,ht,bt);return this._rangeRequestReaders.push(_t),_t}cancelAllRequests(ht){var bt;(bt=this._fullRequestReader)==null||bt.cancel(ht);for(const _t of this._rangeRequestReaders.slice(0))_t.cancel(ht)}}class PDFFetchStreamReader{constructor(ht){this._stream=ht,this._reader=null,this._loaded=0,this._filename=null;const bt=ht.source;this._withCredentials=bt.withCredentials||!1,this._contentLength=bt.length,this._headersCapability=Promise.withResolvers(),this._disableRange=bt.disableRange||!1,this._rangeChunkSize=bt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!bt.disableStream,this._isRangeSupported=!bt.disableRange,this._headers=createHeaders(this._stream.httpHeaders);const _t=bt.url;fetch(_t,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(xt=>{if(!validateResponseStatus(xt.status))throw createResponseStatusError(xt.status,_t);this._reader=xt.body.getReader(),this._headersCapability.resolve();const Et=St=>xt.headers.get(St),{allowRangeRequests:wt,suggestedLength:At}=validateRangeRequestCapabilities({getResponseHeader:Et,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=wt,this._contentLength=At||this._contentLength,this._filename=extractFilenameFromHeader(Et),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _t;await this._headersCapability.promise;const{value:ht,done:bt}=await this._reader.read();return bt?{value:ht,done:bt}:(this._loaded+=ht.byteLength,(_t=this.onProgress)==null||_t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer(ht),done:!1})}cancel(ht){var bt;(bt=this._reader)==null||bt.cancel(ht),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(ht,bt,_t){this._stream=ht,this._reader=null,this._loaded=0;const xt=ht.source;this._withCredentials=xt.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!xt.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range",`bytes=${bt}-${_t-1}`);const Et=xt.url;fetch(Et,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(wt=>{if(!validateResponseStatus(wt.status))throw createResponseStatusError(wt.status,Et);this._readCapability.resolve(),this._reader=wt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _t;await this._readCapability.promise;const{value:ht,done:bt}=await this._reader.read();return bt?{value:ht,done:bt}:(this._loaded+=ht.byteLength,(_t=this.onProgress)==null||_t.call(this,{loaded:this._loaded}),{value:getArrayBuffer(ht),done:!1})}cancel(ht){var bt;(bt=this._reader)==null||bt.cancel(ht),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(vt){const ht=vt.response;return typeof ht!="string"?ht:stringToBytes(ht).buffer}class NetworkManager{constructor(ht,bt={}){this.url=ht,this.isHttp=/^https?:/i.test(ht),this.httpHeaders=this.isHttp&&bt.httpHeaders||Object.create(null),this.withCredentials=bt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ht,bt,_t){const xt={begin:ht,end:bt};for(const Et in _t)xt[Et]=_t[Et];return this.request(xt)}requestFull(ht){return this.request(ht)}request(ht){const bt=new XMLHttpRequest,_t=this.currXhrId++,xt=this.pendingRequests[_t]={xhr:bt};bt.open("GET",this.url),bt.withCredentials=this.withCredentials;for(const Et in this.httpHeaders){const wt=this.httpHeaders[Et];wt!==void 0&&bt.setRequestHeader(Et,wt)}return this.isHttp&&"begin"in ht&&"end"in ht?(bt.setRequestHeader("Range",`bytes=${ht.begin}-${ht.end-1}`),xt.expectedStatus=PARTIAL_CONTENT_RESPONSE):xt.expectedStatus=OK_RESPONSE,bt.responseType="arraybuffer",ht.onError&&(bt.onerror=function(Et){ht.onError(bt.status)}),bt.onreadystatechange=this.onStateChange.bind(this,_t),bt.onprogress=this.onProgress.bind(this,_t),xt.onHeadersReceived=ht.onHeadersReceived,xt.onDone=ht.onDone,xt.onError=ht.onError,xt.onProgress=ht.onProgress,bt.send(null),_t}onProgress(ht,bt){var xt;const _t=this.pendingRequests[ht];_t&&((xt=_t.onProgress)==null||xt.call(_t,bt))}onStateChange(ht,bt){var St,kt,Rt;const _t=this.pendingRequests[ht];if(!_t)return;const xt=_t.xhr;if(xt.readyState>=2&&_t.onHeadersReceived&&(_t.onHeadersReceived(),delete _t.onHeadersReceived),xt.readyState!==4||!(ht in this.pendingRequests))return;if(delete this.pendingRequests[ht],xt.status===0&&this.isHttp){(St=_t.onError)==null||St.call(_t,xt.status);return}const Et=xt.status||OK_RESPONSE;if(!(Et===OK_RESPONSE&&_t.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&Et!==_t.expectedStatus){(kt=_t.onError)==null||kt.call(_t,xt.status);return}const At=network_getArrayBuffer(xt);if(Et===PARTIAL_CONTENT_RESPONSE){const Pt=xt.getResponseHeader("Content-Range"),Mt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Pt);_t.onDone({begin:parseInt(Mt[1],10),chunk:At})}else At?_t.onDone({begin:0,chunk:At}):(Rt=_t.onError)==null||Rt.call(_t,xt.status)}getRequestXhr(ht){return this.pendingRequests[ht].xhr}isPendingRequest(ht){return ht in this.pendingRequests}abortRequest(ht){const bt=this.pendingRequests[ht].xhr;delete this.pendingRequests[ht],bt.abort()}}class PDFNetworkStream{constructor(ht){this._source=ht,this._manager=new NetworkManager(ht.url,{httpHeaders:ht.httpHeaders,withCredentials:ht.withCredentials}),this._rangeChunkSize=ht.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ht){const bt=this._rangeRequestReaders.indexOf(ht);bt>=0&&this._rangeRequestReaders.splice(bt,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(ht,bt){const _t=new PDFNetworkStreamRangeRequestReader(this._manager,ht,bt);return _t.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(_t),_t}cancelAllRequests(ht){var bt;(bt=this._fullRequestReader)==null||bt.cancel(ht);for(const _t of this._rangeRequestReaders.slice(0))_t.cancel(ht)}}class PDFNetworkStreamFullRequestReader{constructor(ht,bt){this._manager=ht;const _t={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=bt.url,this._fullRequestId=ht.requestFull(_t),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=bt.disableRange||!1,this._contentLength=bt.length,this._rangeChunkSize=bt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ht=this._fullRequestId,bt=this._manager.getRequestXhr(ht),_t=wt=>bt.getResponseHeader(wt),{allowRangeRequests:xt,suggestedLength:Et}=validateRangeRequestCapabilities({getResponseHeader:_t,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});xt&&(this._isRangeSupported=!0),this._contentLength=Et||this._contentLength,this._filename=extractFilenameFromHeader(_t),this._isRangeSupported&&this._manager.abortRequest(ht),this._headersReceivedCapability.resolve()}_onDone(ht){if(ht&&(this._requests.length>0?this._requests.shift().resolve({value:ht.chunk,done:!1}):this._cachedChunks.push(ht.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ht){this._storedError=createResponseStatusError(ht,this._url),this._headersReceivedCapability.reject(this._storedError);for(const bt of this._requests)bt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ht){var bt;(bt=this.onProgress)==null||bt.call(this,{loaded:ht.loaded,total:ht.lengthComputable?ht.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ht=Promise.withResolvers();return this._requests.push(ht),ht.promise}cancel(ht){this._done=!0,this._headersReceivedCapability.reject(ht);for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(ht,bt,_t){this._manager=ht;const xt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ht.url,this._requestId=ht.requestRange(bt,_t,xt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ht;(ht=this.onClosed)==null||ht.call(this,this)}_onDone(ht){const bt=ht.chunk;this._requests.length>0?this._requests.shift().resolve({value:bt,done:!1}):this._queuedChunk=bt,this._done=!0;for(const _t of this._requests)_t.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ht){this._storedError=createResponseStatusError(ht,this._url);for(const bt of this._requests)bt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ht){var bt;this.isStreamingSupported||(bt=this.onProgress)==null||bt.call(this,{loaded:ht.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const bt=this._queuedChunk;return this._queuedChunk=null,{value:bt,done:!1}}if(this._done)return{value:void 0,done:!0};const ht=Promise.withResolvers();return this._requests.push(ht),ht.promise}cancel(ht){this._done=!0;for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(vt){const ht=NodePackages.get("url"),bt=ht.parse(vt);return bt.protocol==="file:"||bt.host?bt:/^[a-z]:[/\\]/i.test(vt)?ht.parse(`file:///${vt}`):(bt.host||(bt.protocol="file:"),bt)}class PDFNodeStream{constructor(ht){this.source=ht,this.url=parseUrl(ht.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&ht.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ht;return((ht=this._fullRequestReader)==null?void 0:ht._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader(ht,bt){if(bt<=this._progressiveDataLength)return null;const _t=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,ht,bt):new PDFNodeStreamRangeReader(this,ht,bt);return this._rangeRequestReaders.push(_t),_t}cancelAllRequests(ht){var bt;(bt=this._fullRequestReader)==null||bt.cancel(ht);for(const _t of this._rangeRequestReaders.slice(0))_t.cancel(ht)}}class BaseFullReader{constructor(ht){this._url=ht.url,this._done=!1,this._storedError=null,this.onProgress=null;const bt=ht.source;this._contentLength=bt.length,this._loaded=0,this._filename=null,this._disableRange=bt.disableRange||!1,this._rangeChunkSize=bt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!bt.disableStream,this._isRangeSupported=!bt.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ht=this._readableStream.read();return ht===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=ht.length,(_t=this.onProgress)==null||_t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ht).buffer,done:!1})}cancel(ht){if(!this._readableStream){this._error(ht);return}this._readableStream.destroy(ht)}_error(ht){this._storedError=ht,this._readCapability.resolve()}_setReadableStream(ht){this._readableStream=ht,ht.on("readable",()=>{this._readCapability.resolve()}),ht.on("end",()=>{ht.destroy(),this._done=!0,this._readCapability.resolve()}),ht.on("error",bt=>{this._error(bt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor(ht){this._url=ht.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const bt=ht.source;this._isStreamingSupported=!bt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ht=this._readableStream.read();return ht===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=ht.length,(_t=this.onProgress)==null||_t.call(this,{loaded:this._loaded}),{value:new Uint8Array(ht).buffer,done:!1})}cancel(ht){if(!this._readableStream){this._error(ht);return}this._readableStream.destroy(ht)}_error(ht){this._storedError=ht,this._readCapability.resolve()}_setReadableStream(ht){this._readableStream=ht,ht.on("readable",()=>{this._readCapability.resolve()}),ht.on("end",()=>{ht.destroy(),this._done=!0,this._readCapability.resolve()}),ht.on("error",bt=>{this._error(bt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(vt,ht){return{protocol:vt.protocol,auth:vt.auth,host:vt.hostname,port:vt.port,path:vt.path,method:"GET",headers:ht}}class PDFNodeStreamFullReader extends BaseFullReader{constructor(ht){super(ht);const bt=_t=>{if(_t.statusCode===404){const At=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=At,this._headersCapability.reject(At);return}this._headersCapability.resolve(),this._setReadableStream(_t);const xt=At=>this._readableStream.headers[At.toLowerCase()],{allowRangeRequests:Et,suggestedLength:wt}=validateRangeRequestCapabilities({getResponseHeader:xt,isHttp:ht.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Et,this._contentLength=wt||this._contentLength,this._filename=extractFilenameFromHeader(xt)};if(this._request=null,this._url.protocol==="http:"){const _t=NodePackages.get("http");this._request=_t.request(createRequestOptions(this._url,ht.httpHeaders),bt)}else{const _t=NodePackages.get("https");this._request=_t.request(createRequestOptions(this._url,ht.httpHeaders),bt)}this._request.on("error",_t=>{this._storedError=_t,this._headersCapability.reject(_t)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor(ht,bt,_t){super(ht),this._httpHeaders={};for(const Et in ht.httpHeaders){const wt=ht.httpHeaders[Et];wt!==void 0&&(this._httpHeaders[Et]=wt)}this._httpHeaders.Range=`bytes=${bt}-${_t-1}`;const xt=Et=>{if(Et.statusCode===404){const wt=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=wt;return}this._setReadableStream(Et)};if(this._request=null,this._url.protocol==="http:"){const Et=NodePackages.get("http");this._request=Et.request(createRequestOptions(this._url,this._httpHeaders),xt)}else{const Et=NodePackages.get("https");this._request=Et.request(createRequestOptions(this._url,this._httpHeaders),xt)}this._request.on("error",Et=>{this._storedError=Et}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor(ht){super(ht);let bt=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(bt=bt.replace(/^\//,""));const _t=NodePackages.get("fs");_t.promises.lstat(bt).then(xt=>{this._contentLength=xt.size,this._setReadableStream(_t.createReadStream(bt)),this._headersCapability.resolve()},xt=>{xt.code==="ENOENT"&&(xt=new MissingPDFException(`Missing PDF "${bt}".`)),this._storedError=xt,this._headersCapability.reject(xt)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor(ht,bt,_t){super(ht);let xt=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(xt=xt.replace(/^\//,""));const Et=NodePackages.get("fs");this._setReadableStream(Et.createReadStream(xt,{start:bt,end:_t-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var C1,Pu,mo,lv,cv,pp,_c,uv,dv,gp,Am,Sm,Mu,Cm,hv,Tm,mp,fv,pv,vp,yp,Rm,gu,J1,eE,Y_,Vu,yy,tE;const Io=class Io{constructor({textContentSource:ht,container:bt,viewport:_t}){Qt(this,gu);Qt(this,Pu,Promise.withResolvers());Qt(this,mo,null);Qt(this,lv,!1);Qt(this,cv,!!((C1=globalThis.FontInspector)!=null&&C1.enabled));Qt(this,pp,null);Qt(this,_c,null);Qt(this,uv,0);Qt(this,dv,0);Qt(this,gp,null);Qt(this,Am,null);Qt(this,Sm,0);Qt(this,Mu,0);Qt(this,Cm,Object.create(null));Qt(this,hv,[]);Qt(this,Tm,null);Qt(this,mp,[]);Qt(this,fv,new WeakMap);Qt(this,pv,null);if(ht instanceof ReadableStream)qt(this,Tm,ht);else if(typeof ht=="object")qt(this,Tm,new ReadableStream({start(St){St.enqueue(ht),St.close()}}));else throw new Error('No "textContentSource" parameter specified.');qt(this,mo,qt(this,Am,bt)),qt(this,Mu,_t.scale*(globalThis.devicePixelRatio||1)),qt(this,Sm,_t.rotation),qt(this,_c,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:xt,pageHeight:Et,pageX:wt,pageY:At}=_t.rawDims;qt(this,pv,[1,0,0,-1,-wt,At+Et]),qt(this,dv,xt),qt(this,uv,Et),setLayerDimensions(bt,_t),Ct(this,Pu).promise.catch(()=>{}).then(()=>{Ct(Io,Rm).delete(this),qt(this,_c,null),qt(this,Cm,null)})}render(){const ht=()=>{Ct(this,gp).read().then(({value:bt,done:_t})=>{if(_t){Ct(this,Pu).resolve();return}Ct(this,pp)??qt(this,pp,bt.lang),Object.assign(Ct(this,Cm),bt.styles),Xt(this,gu,J1).call(this,bt.items),ht()},Ct(this,Pu).reject)};return qt(this,gp,Ct(this,Tm).getReader()),Ct(Io,Rm).add(this),ht(),Ct(this,Pu).promise}update({viewport:ht,onBefore:bt=null}){var Et;const _t=ht.scale*(globalThis.devicePixelRatio||1),xt=ht.rotation;if(xt!==Ct(this,Sm)&&(bt==null||bt(),qt(this,Sm,xt),setLayerDimensions(Ct(this,Am),{rotation:xt})),_t!==Ct(this,Mu)){bt==null||bt(),qt(this,Mu,_t);const wt={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Xt(Et=Io,Vu,yy).call(Et,Ct(this,pp))};for(const At of Ct(this,mp))wt.properties=Ct(this,fv).get(At),wt.div=At,Xt(this,gu,Y_).call(this,wt)}}cancel(){var bt;const ht=new AbortException("TextLayer task cancelled.");(bt=Ct(this,gp))==null||bt.cancel(ht).catch(()=>{}),qt(this,gp,null),Ct(this,Pu).reject(ht)}get textDivs(){return Ct(this,mp)}get textContentItemsStr(){return Ct(this,hv)}static cleanup(){if(!(Ct(this,Rm).size>0)){Ct(this,vp).clear();for(const{canvas:ht}of Ct(this,yp).values())ht.remove();Ct(this,yp).clear()}}};Pu=new WeakMap,mo=new WeakMap,lv=new WeakMap,cv=new WeakMap,pp=new WeakMap,_c=new WeakMap,uv=new WeakMap,dv=new WeakMap,gp=new WeakMap,Am=new WeakMap,Sm=new WeakMap,Mu=new WeakMap,Cm=new WeakMap,hv=new WeakMap,Tm=new WeakMap,mp=new WeakMap,fv=new WeakMap,pv=new WeakMap,vp=new WeakMap,yp=new WeakMap,Rm=new WeakMap,gu=new WeakSet,J1=function(ht){var xt,Et;if(Ct(this,lv))return;(Et=Ct(this,_c)).ctx||(Et.ctx=Xt(xt=Io,Vu,yy).call(xt,Ct(this,pp)));const bt=Ct(this,mp),_t=Ct(this,hv);for(const wt of ht){if(bt.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),qt(this,lv,!0);return}if(wt.str===void 0){if(wt.type==="beginMarkedContentProps"||wt.type==="beginMarkedContent"){const At=Ct(this,mo);qt(this,mo,document.createElement("span")),Ct(this,mo).classList.add("markedContent"),wt.id!==null&&Ct(this,mo).setAttribute("id",`${wt.id}`),At.append(Ct(this,mo))}else wt.type==="endMarkedContent"&&qt(this,mo,Ct(this,mo).parentNode);continue}_t.push(wt.str),Xt(this,gu,eE).call(this,wt)}},eE=function(ht){var Dt;const bt=document.createElement("span"),_t={angle:0,canvasWidth:0,hasText:ht.str!=="",hasEOL:ht.hasEOL,fontSize:0};Ct(this,mp).push(bt);const xt=Util.transform(Ct(this,pv),ht.transform);let Et=Math.atan2(xt[1],xt[0]);const wt=Ct(this,Cm)[ht.fontName];wt.vertical&&(Et+=Math.PI/2);const At=Ct(this,cv)&&wt.fontSubstitution||wt.fontFamily,St=Math.hypot(xt[2],xt[3]),kt=St*Xt(Dt=Io,Vu,tE).call(Dt,At,Ct(this,pp));let Rt,Pt;Et===0?(Rt=xt[4],Pt=xt[5]-kt):(Rt=xt[4]+kt*Math.sin(Et),Pt=xt[5]-kt*Math.cos(Et));const Mt="calc(var(--scale-factor)*",Ft=bt.style;Ct(this,mo)===Ct(this,Am)?(Ft.left=`${(100*Rt/Ct(this,dv)).toFixed(2)}%`,Ft.top=`${(100*Pt/Ct(this,uv)).toFixed(2)}%`):(Ft.left=`${Mt}${Rt.toFixed(2)}px)`,Ft.top=`${Mt}${Pt.toFixed(2)}px)`),Ft.fontSize=`${Mt}${St.toFixed(2)}px)`,Ft.fontFamily=At,_t.fontSize=St,bt.setAttribute("role","presentation"),bt.textContent=ht.str,bt.dir=ht.dir,Ct(this,cv)&&(bt.dataset.fontName=wt.fontSubstitutionLoadedName||ht.fontName),Et!==0&&(_t.angle=Et*(180/Math.PI));let Lt=!1;if(ht.str.length>1)Lt=!0;else if(ht.str!==" "&&ht.transform[0]!==ht.transform[3]){const Nt=Math.abs(ht.transform[0]),$t=Math.abs(ht.transform[3]);Nt!==$t&&Math.max(Nt,$t)/Math.min(Nt,$t)>1.5&&(Lt=!0)}if(Lt&&(_t.canvasWidth=wt.vertical?ht.height:ht.width),Ct(this,fv).set(bt,_t),Ct(this,_c).div=bt,Ct(this,_c).properties=_t,Xt(this,gu,Y_).call(this,Ct(this,_c)),_t.hasText&&Ct(this,mo).append(bt),_t.hasEOL){const Nt=document.createElement("br");Nt.setAttribute("role","presentation"),Ct(this,mo).append(Nt)}},Y_=function(ht){const{div:bt,properties:_t,ctx:xt,prevFontSize:Et,prevFontFamily:wt}=ht,{style:At}=bt;let St="";if(_t.canvasWidth!==0&&_t.hasText){const{fontFamily:kt}=At,{canvasWidth:Rt,fontSize:Pt}=_t;(Et!==Pt||wt!==kt)&&(xt.font=`${Pt*Ct(this,Mu)}px ${kt}`,ht.prevFontSize=Pt,ht.prevFontFamily=kt);const{width:Mt}=xt.measureText(bt.textContent);Mt>0&&(St=`scaleX(${Rt*Ct(this,Mu)/Mt})`)}_t.angle!==0&&(St=`rotate(${_t.angle}deg) ${St}`),St.length>0&&(At.transform=St)},Vu=new WeakSet,yy=function(ht=null){let bt=Ct(this,yp).get(ht||(ht=""));if(!bt){const _t=document.createElement("canvas");_t.className="hiddenCanvasElement",_t.lang=ht,document.body.append(_t),bt=_t.getContext("2d",{alpha:!1}),Ct(this,yp).set(ht,bt)}return bt},tE=function(ht,bt){const _t=Ct(this,vp).get(ht);if(_t)return _t;const xt=Xt(this,Vu,yy).call(this,bt),Et=xt.font;xt.canvas.width=xt.canvas.height=DEFAULT_FONT_SIZE,xt.font=`${DEFAULT_FONT_SIZE}px ${ht}`;const wt=xt.measureText("");let At=wt.fontBoundingBoxAscent,St=Math.abs(wt.fontBoundingBoxDescent);if(At){const Pt=At/(At+St);return Ct(this,vp).set(ht,Pt),xt.canvas.width=xt.canvas.height=0,xt.font=Et,Pt}xt.strokeStyle="red",xt.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),xt.strokeText("g",0,0);let kt=xt.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;St=0;for(let Pt=kt.length-1-3;Pt>=0;Pt-=4)if(kt[Pt]>0){St=Math.ceil(Pt/4/DEFAULT_FONT_SIZE);break}xt.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),xt.strokeText("A",0,DEFAULT_FONT_SIZE),kt=xt.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,At=0;for(let Pt=0,Mt=kt.length;Pt<Mt;Pt+=4)if(kt[Pt]>0){At=DEFAULT_FONT_SIZE-Math.floor(Pt/4/DEFAULT_FONT_SIZE);break}xt.canvas.width=xt.canvas.height=0,xt.font=Et;const Rt=At?At/(At+St):DEFAULT_FONT_ASCENT;return Ct(this,vp).set(ht,Rt),Rt},Qt(Io,Vu),Qt(Io,vp,new Map),Qt(Io,yp,new Map),Qt(Io,Rm,new Set);let TextLayer=Io;function renderTextLayer(){deprecated("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:vt,container:ht,viewport:bt,..._t}=arguments[0],xt=Object.keys(_t);xt.length>0&&warn("Ignoring `renderTextLayer` parameters: "+xt.join(", "));const Et=new TextLayer({textContentSource:vt,container:ht,viewport:bt}),{textDivs:wt,textContentItemsStr:At}=Et;return{promise:Et.render(),textDivs:wt,textContentItemsStr:At}}function updateTextLayer(){deprecated("`updateTextLayer`, please use `TextLayer` instead.")}class XfaText{static textContent(ht){const bt=[],_t={items:bt,styles:Object.create(null)};function xt(Et){var St;if(!Et)return;let wt=null;const At=Et.name;if(At==="#text")wt=Et.value;else if(XfaText.shouldBuildText(At))(St=Et==null?void 0:Et.attributes)!=null&&St.textContent?wt=Et.attributes.textContent:Et.value&&(wt=Et.value);else return;if(wt!==null&&bt.push({str:wt}),!!Et.children)for(const kt of Et.children)xt(kt)}return xt(ht),_t}static shouldBuildText(ht){return!(ht==="textarea"||ht==="input"||ht==="option"||ht==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(vt){if(typeof vt=="string"||vt instanceof URL?vt={url:vt}:(vt instanceof ArrayBuffer||ArrayBuffer.isView(vt))&&(vt={data:vt}),typeof vt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!vt.url&&!vt.data&&!vt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ht=new PDFDocumentLoadingTask,{docId:bt}=ht,_t=vt.url?getUrlProp(vt.url):null,xt=vt.data?getDataProp(vt.data):null,Et=vt.httpHeaders||null,wt=vt.withCredentials===!0,At=vt.password??null,St=vt.range instanceof PDFDataRangeTransport$1?vt.range:null,kt=Number.isInteger(vt.rangeChunkSize)&&vt.rangeChunkSize>0?vt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Rt=vt.worker instanceof PDFWorker?vt.worker:null;const Pt=vt.verbosity,Mt=typeof vt.docBaseUrl=="string"&&!isDataScheme(vt.docBaseUrl)?vt.docBaseUrl:null,Ft=typeof vt.cMapUrl=="string"?vt.cMapUrl:null,Lt=vt.cMapPacked!==!1,Dt=vt.CMapReaderFactory||DefaultCMapReaderFactory,Nt=typeof vt.standardFontDataUrl=="string"?vt.standardFontDataUrl:null,$t=vt.StandardFontDataFactory||DefaultStandardFontDataFactory,Ot=vt.stopAtErrors!==!0,jt=Number.isInteger(vt.maxImageSize)&&vt.maxImageSize>-1?vt.maxImageSize:-1,Ut=vt.isEvalSupported!==!1,Bt=typeof vt.isOffscreenCanvasSupported=="boolean"?vt.isOffscreenCanvasSupported:!isNodeJS,Vt=Number.isInteger(vt.canvasMaxAreaInBytes)?vt.canvasMaxAreaInBytes:-1,zt=typeof vt.disableFontFace=="boolean"?vt.disableFontFace:isNodeJS,Gt=vt.fontExtraProperties===!0,en=vt.enableXfa===!0,ln=vt.ownerDocument||globalThis.document,Kt=vt.disableRange===!0,on=vt.disableStream===!0,fn=vt.disableAutoFetch===!0,En=vt.pdfBug===!0,gn=St?St.length:vt.length??NaN,wn=typeof vt.useSystemFonts=="boolean"?vt.useSystemFonts:!isNodeJS&&!zt,pn=typeof vt.useWorkerFetch=="boolean"?vt.useWorkerFetch:Dt===DOMCMapReaderFactory&&$t===DOMStandardFontDataFactory&&Ft&&Nt&&isValidFetchUrl(Ft,document.baseURI)&&isValidFetchUrl(Nt,document.baseURI),sn=vt.canvasFactory||new DefaultCanvasFactory({ownerDocument:ln}),Jt=vt.filterFactory||new DefaultFilterFactory({docId:bt,ownerDocument:ln}),an=null;setVerbosityLevel(Pt);const vn={canvasFactory:sn,filterFactory:Jt};if(pn||(vn.cMapReaderFactory=new Dt({baseUrl:Ft,isCompressed:Lt}),vn.standardFontDataFactory=new $t({baseUrl:Nt})),!Rt){const Wt={verbosity:Pt,port:GlobalWorkerOptions.workerPort};Rt=Wt.port?PDFWorker.fromPort(Wt):new PDFWorker(Wt),ht._worker=Rt}const tn={docId:bt,apiVersion:"4.3.136",data:xt,password:At,disableAutoFetch:fn,rangeChunkSize:kt,length:gn,docBaseUrl:Mt,enableXfa:en,evaluatorOptions:{maxImageSize:jt,disableFontFace:zt,ignoreErrors:Ot,isEvalSupported:Ut,isOffscreenCanvasSupported:Bt,canvasMaxAreaInBytes:Vt,fontExtraProperties:Gt,useSystemFonts:wn,cMapUrl:pn?Ft:null,standardFontDataUrl:pn?Nt:null}},Ht={disableFontFace:zt,fontExtraProperties:Gt,ownerDocument:ln,pdfBug:En,styleElement:an,loadingParams:{disableAutoFetch:fn,enableXfa:en}};return Rt.promise.then(function(){if(ht.destroyed)throw new Error("Loading aborted");if(Rt.destroyed)throw new Error("Worker was destroyed");const Wt=Rt.messageHandler.sendWithPromise("GetDocRequest",tn,xt?[xt.buffer]:null);let rn;return St?rn=new PDFDataTransportStream(St,{disableRange:Kt,disableStream:on}):xt||(rn=(hn=>isNodeJS?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&isValidFetchUrl(hn.url)?new PDFFetchStream(hn):new PDFNodeStream(hn):isValidFetchUrl(hn.url)?new PDFFetchStream(hn):new PDFNetworkStream(hn))({url:_t,length:gn,httpHeaders:Et,withCredentials:wt,rangeChunkSize:kt,disableRange:Kt,disableStream:on})),Wt.then(nn=>{if(ht.destroyed)throw new Error("Loading aborted");if(Rt.destroyed)throw new Error("Worker was destroyed");const hn=new MessageHandler(bt,nn,Rt.port),cn=new WorkerTransport(hn,ht,rn,Ht,vn);ht._transport=cn,hn.send("Ready",null)})}).catch(ht._capability.reject),ht}function getUrlProp(vt){if(vt instanceof URL)return vt.href;try{return new URL(vt,window.location).href}catch{if(isNodeJS&&typeof vt=="string")return vt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(vt){if(isNodeJS&&typeof Buffer<"u"&&vt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(vt instanceof Uint8Array&&vt.byteLength===vt.buffer.byteLength)return vt;if(typeof vt=="string")return stringToBytes(vt);if(vt instanceof ArrayBuffer||ArrayBuffer.isView(vt)||typeof vt=="object"&&!isNaN(vt==null?void 0:vt.length))return new Uint8Array(vt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(vt){return typeof vt=="object"&&Number.isInteger(vt==null?void 0:vt.num)&&vt.num>=0&&Number.isInteger(vt==null?void 0:vt.gen)&&vt.gen>=0}var a_;const o_=class o_{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${ba(o_,a_)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ht,bt,_t;this.destroyed=!0;try{(ht=this._worker)!=null&&ht.port&&(this._worker._pendingDestroy=!0),await((bt=this._transport)==null?void 0:bt.destroy())}catch(xt){throw(_t=this._worker)!=null&&_t.port&&delete this._worker._pendingDestroy,xt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};a_=new WeakMap,Qt(o_,a_,0);let PDFDocumentLoadingTask=o_,PDFDataRangeTransport$1=class{constructor(ht,bt,_t=!1,xt=null){this.length=ht,this.initialData=bt,this.progressiveDone=_t,this.contentDispositionFilename=xt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(ht){this._rangeListeners.push(ht)}addProgressListener(ht){this._progressListeners.push(ht)}addProgressiveReadListener(ht){this._progressiveReadListeners.push(ht)}addProgressiveDoneListener(ht){this._progressiveDoneListeners.push(ht)}onDataRange(ht,bt){for(const _t of this._rangeListeners)_t(ht,bt)}onDataProgress(ht,bt){this._readyCapability.promise.then(()=>{for(const _t of this._progressListeners)_t(ht,bt)})}onDataProgressiveRead(ht){this._readyCapability.promise.then(()=>{for(const bt of this._progressiveReadListeners)bt(ht)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ht of this._progressiveDoneListeners)ht()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ht,bt){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class PDFDocumentProxy{constructor(ht,bt){this._pdfInfo=ht,this._transport=bt}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ht){return this._transport.getPage(ht)}getPageIndex(ht){return this._transport.getPageIndex(ht)}getDestinations(){return this._transport.getDestinations()}getDestination(ht){return this._transport.getDestination(ht)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:ht="display"}={}){const{renderingIntent:bt}=this._transport.getRenderingIntent(ht);return this._transport.getOptionalContentConfig(bt)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ht=!1){return this._transport.startCleanup(ht||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(ht){return this._transport.cachedPageNumber(ht)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Fu,eu,Lo,em,by;class PDFPageProxy{constructor(ht,bt,_t,xt=!1){Qt(this,Lo);Qt(this,Fu,null);Qt(this,eu,!1);this._pageIndex=ht,this._pageInfo=bt,this._transport=_t,this._stats=xt?new StatTimer:null,this._pdfBug=xt,this.commonObjs=_t.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ht,rotation:bt=this.rotate,offsetX:_t=0,offsetY:xt=0,dontFlip:Et=!1}={}){return new PageViewport({viewBox:this.view,scale:ht,rotation:bt,offsetX:_t,offsetY:xt,dontFlip:Et})}getAnnotations({intent:ht="display"}={}){const{renderingIntent:bt}=this._transport.getRenderingIntent(ht);return this._transport.getAnnotations(this._pageIndex,bt)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ht;return((ht=this._transport._htmlForXfa)==null?void 0:ht.children[this._pageIndex])||null}render({canvasContext:ht,viewport:bt,intent:_t="display",annotationMode:xt=AnnotationMode.ENABLE,transform:Et=null,background:wt=null,optionalContentConfigPromise:At=null,annotationCanvasMap:St=null,pageColors:kt=null,printAnnotationStorage:Rt=null}){var jt,Ut;(jt=this._stats)==null||jt.time("Overall");const Pt=this._transport.getRenderingIntent(_t,xt,Rt),{renderingIntent:Mt,cacheKey:Ft}=Pt;qt(this,eu,!1),Xt(this,Lo,by).call(this),At||(At=this._transport.getOptionalContentConfig(Mt));let Lt=this._intentStates.get(Ft);Lt||(Lt=Object.create(null),this._intentStates.set(Ft,Lt)),Lt.streamReaderCancelTimeout&&(clearTimeout(Lt.streamReaderCancelTimeout),Lt.streamReaderCancelTimeout=null);const Dt=!!(Mt&RenderingIntentFlag.PRINT);Lt.displayReadyCapability||(Lt.displayReadyCapability=Promise.withResolvers(),Lt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ut=this._stats)==null||Ut.time("Page Request"),this._pumpOperatorList(Pt));const Nt=Bt=>{var Vt;Lt.renderTasks.delete($t),(this._maybeCleanupAfterRender||Dt)&&qt(this,eu,!0),Xt(this,Lo,em).call(this,!Dt),Bt?($t.capability.reject(Bt),this._abortOperatorList({intentState:Lt,reason:Bt instanceof Error?Bt:new Error(Bt)})):$t.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Vt=globalThis.Stats)!=null&&Vt.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},$t=new InternalRenderTask({callback:Nt,params:{canvasContext:ht,viewport:bt,transform:Et,background:wt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:St,operatorList:Lt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Dt,pdfBug:this._pdfBug,pageColors:kt});(Lt.renderTasks||(Lt.renderTasks=new Set)).add($t);const Ot=$t.task;return Promise.all([Lt.displayReadyCapability.promise,At]).then(([Bt,Vt])=>{var zt;if(this.destroyed){Nt();return}if((zt=this._stats)==null||zt.time("Rendering"),!(Vt.renderingIntent&Mt))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");$t.initializeGraphics({transparency:Bt,optionalContentConfig:Vt}),$t.operatorListChanged()}).catch(Nt),Ot}getOperatorList({intent:ht="display",annotationMode:bt=AnnotationMode.ENABLE,printAnnotationStorage:_t=null}={}){var St;function xt(){wt.operatorList.lastChunk&&(wt.opListReadCapability.resolve(wt.operatorList),wt.renderTasks.delete(At))}const Et=this._transport.getRenderingIntent(ht,bt,_t,!0);let wt=this._intentStates.get(Et.cacheKey);wt||(wt=Object.create(null),this._intentStates.set(Et.cacheKey,wt));let At;return wt.opListReadCapability||(At=Object.create(null),At.operatorListChanged=xt,wt.opListReadCapability=Promise.withResolvers(),(wt.renderTasks||(wt.renderTasks=new Set)).add(At),wt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(St=this._stats)==null||St.time("Page Request"),this._pumpOperatorList(Et)),wt.opListReadCapability.promise}streamTextContent({includeMarkedContent:ht=!1,disableNormalization:bt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ht===!0,disableNormalization:bt===!0},{highWaterMark:100,size(xt){return xt.items.length}})}getTextContent(ht={}){if(this._transport._htmlForXfa)return this.getXfa().then(_t=>XfaText.textContent(_t));const bt=this.streamTextContent(ht);return new Promise(function(_t,xt){function Et(){wt.read().then(function({value:St,done:kt}){if(kt){_t(At);return}At.lang??(At.lang=St.lang),Object.assign(At.styles,St.styles),At.items.push(...St.items),Et()},xt)}const wt=bt.getReader(),At={items:[],styles:Object.create(null),lang:null};Et()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ht=[];for(const bt of this._intentStates.values())if(this._abortOperatorList({intentState:bt,reason:new Error("Page was destroyed."),force:!0}),!bt.opListReadCapability)for(const _t of bt.renderTasks)ht.push(_t.completed),_t.cancel();return this.objs.clear(),qt(this,eu,!1),Xt(this,Lo,by).call(this),Promise.all(ht)}cleanup(ht=!1){qt(this,eu,!0);const bt=Xt(this,Lo,em).call(this,!1);return ht&&bt&&this._stats&&(this._stats=new StatTimer),bt}_startRenderPage(ht,bt){var xt,Et;const _t=this._intentStates.get(bt);_t&&((xt=this._stats)==null||xt.timeEnd("Page Request"),(Et=_t.displayReadyCapability)==null||Et.resolve(ht))}_renderPageChunk(ht,bt){for(let _t=0,xt=ht.length;_t<xt;_t++)bt.operatorList.fnArray.push(ht.fnArray[_t]),bt.operatorList.argsArray.push(ht.argsArray[_t]);bt.operatorList.lastChunk=ht.lastChunk,bt.operatorList.separateAnnots=ht.separateAnnots;for(const _t of bt.renderTasks)_t.operatorListChanged();ht.lastChunk&&Xt(this,Lo,em).call(this,!0)}_pumpOperatorList({renderingIntent:ht,cacheKey:bt,annotationStorageSerializable:_t}){const{map:xt,transfer:Et}=_t,At=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ht,cacheKey:bt,annotationStorage:xt},Et).getReader(),St=this._intentStates.get(bt);St.streamReader=At;const kt=()=>{At.read().then(({value:Rt,done:Pt})=>{if(Pt){St.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Rt,St),kt())},Rt=>{if(St.streamReader=null,!this._transport.destroyed){if(St.operatorList){St.operatorList.lastChunk=!0;for(const Pt of St.renderTasks)Pt.operatorListChanged();Xt(this,Lo,em).call(this,!0)}if(St.displayReadyCapability)St.displayReadyCapability.reject(Rt);else if(St.opListReadCapability)St.opListReadCapability.reject(Rt);else throw Rt}})};kt()}_abortOperatorList({intentState:ht,reason:bt,force:_t=!1}){if(ht.streamReader){if(ht.streamReaderCancelTimeout&&(clearTimeout(ht.streamReaderCancelTimeout),ht.streamReaderCancelTimeout=null),!_t){if(ht.renderTasks.size>0)return;if(bt instanceof RenderingCancelledException){let xt=RENDERING_CANCELLED_TIMEOUT;bt.extraDelay>0&&bt.extraDelay<1e3&&(xt+=bt.extraDelay),ht.streamReaderCancelTimeout=setTimeout(()=>{ht.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ht,reason:bt,force:!0})},xt);return}}if(ht.streamReader.cancel(new AbortException(bt.message)).catch(()=>{}),ht.streamReader=null,!this._transport.destroyed){for(const[xt,Et]of this._intentStates)if(Et===ht){this._intentStates.delete(xt);break}this.cleanup()}}}get stats(){return this._stats}}Fu=new WeakMap,eu=new WeakMap,Lo=new WeakSet,em=function(ht=!1){if(Xt(this,Lo,by).call(this),!Ct(this,eu)||this.destroyed)return!1;if(ht)return qt(this,Fu,setTimeout(()=>{qt(this,Fu,null),Xt(this,Lo,em).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:bt,operatorList:_t}of this._intentStates.values())if(bt.size>0||!_t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),qt(this,eu,!1),!0},by=function(){Ct(this,Fu)&&(clearTimeout(Ct(this,Fu)),qt(this,Fu,null))};var bp,l_;class LoopbackPort{constructor(){Qt(this,bp,new Set);Qt(this,l_,Promise.resolve())}postMessage(ht,bt){const _t={data:structuredClone(ht,bt?{transfer:bt}:null)};Ct(this,l_).then(()=>{for(const xt of Ct(this,bp))xt.call(this,_t)})}addEventListener(ht,bt){Ct(this,bp).add(bt)}removeEventListener(ht,bt){Ct(this,bp).delete(bt)}terminate(){Ct(this,bp).clear()}}bp=new WeakMap,l_=new WeakMap;const PDFWorkerUtil={isWorkerDisabled:!1,fakeWorkerId:0};isNodeJS&&(PDFWorkerUtil.isWorkerDisabled=!0,GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),PDFWorkerUtil.isSameOrigin=function(vt,ht){let bt;try{if(bt=new URL(vt),!bt.origin||bt.origin==="null")return!1}catch{return!1}const _t=new URL(ht,bt);return bt.origin===_t.origin},PDFWorkerUtil.createCDNWrapper=function(vt){const ht=`await import("${vt}");`;return URL.createObjectURL(new Blob([ht],{type:"text/javascript"}))};var _p,km,_y;const _o=class _o{constructor({name:ht=null,port:bt=null,verbosity:_t=getVerbosityLevel()}={}){var xt;if(this.name=ht,this.destroyed=!1,this.verbosity=_t,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,bt){if((xt=Ct(_o,_p))!=null&&xt.has(bt))throw new Error("Cannot use more than one PDFWorker per port.");(Ct(_o,_p)||qt(_o,_p,new WeakMap)).set(bt,this),this._initializeFromPort(bt);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ht){this._port=ht,this._messageHandler=new MessageHandler("main","worker",ht),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!Ct(_o,km,_y)){let{workerSrc:ht}=_o;try{PDFWorkerUtil.isSameOrigin(window.location.href,ht)||(ht=PDFWorkerUtil.createCDNWrapper(new URL(ht,window.location).href));const bt=new Worker(ht,{type:"module"}),_t=new MessageHandler("main","worker",bt),xt=()=>{bt.removeEventListener("error",Et),_t.destroy(),bt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Et=()=>{this._webWorker||xt()};bt.addEventListener("error",Et),_t.on("test",At=>{if(bt.removeEventListener("error",Et),this.destroyed){xt();return}At?(this._messageHandler=_t,this._port=bt,this._webWorker=bt,this._readyCapability.resolve(),_t.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),_t.destroy(),bt.terminate())}),_t.on("ready",At=>{if(bt.removeEventListener("error",Et),this.destroyed){xt();return}try{wt()}catch{this._setupFakeWorker()}});const wt=()=>{const At=new Uint8Array;_t.send("test",At,[At.buffer])};wt();return}catch{info("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||(warn("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_o._setupFakeWorkerGlobal.then(ht=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const bt=new LoopbackPort;this._port=bt;const _t=`fake${PDFWorkerUtil.fakeWorkerId++}`,xt=new MessageHandler(_t+"_worker",_t,bt);ht.setup(xt,bt);const Et=new MessageHandler(_t,_t+"_worker",bt);this._messageHandler=Et,this._readyCapability.resolve(),Et.send("configure",{verbosity:this.verbosity})}).catch(ht=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ht.message}".`))})}destroy(){var ht;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ht=Ct(_o,_p))==null||ht.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ht){var _t;if(!(ht!=null&&ht.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const bt=(_t=Ct(this,_p))==null?void 0:_t.get(ht.port);if(bt){if(bt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return bt}return new _o(ht)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>Ct(this,km,_y)?Ct(this,km,_y):(await import(this.workerSrc)).WorkerMessageHandler)())}};_p=new WeakMap,km=new WeakSet,_y=function(){var ht;try{return((ht=globalThis.pdfjsWorker)==null?void 0:ht.WorkerMessageHandler)||null}catch{return null}},Qt(_o,km),Qt(_o,_p);let PDFWorker=_o;var tu,Sl,Pm,Mm,Cl,xp,c0;class WorkerTransport{constructor(ht,bt,_t,xt,Et){Qt(this,xp);Qt(this,tu,new Map);Qt(this,Sl,new Map);Qt(this,Pm,new Map);Qt(this,Mm,new Map);Qt(this,Cl,null);this.messageHandler=ht,this.loadingTask=bt,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:xt.ownerDocument,styleElement:xt.styleElement}),this.loadingParams=xt.loadingParams,this._params=xt,this.canvasFactory=Et.canvasFactory,this.filterFactory=Et.filterFactory,this.cMapReaderFactory=Et.cMapReaderFactory,this.standardFontDataFactory=Et.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=_t,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent(ht,bt=AnnotationMode.ENABLE,_t=null,xt=!1){let Et=RenderingIntentFlag.DISPLAY,wt=SerializableEmpty;switch(ht){case"any":Et=RenderingIntentFlag.ANY;break;case"display":break;case"print":Et=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${ht}`)}switch(bt){case AnnotationMode.DISABLE:Et+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:Et+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:Et+=RenderingIntentFlag.ANNOTATIONS_STORAGE,wt=(Et&RenderingIntentFlag.PRINT&&_t instanceof PrintAnnotationStorage?_t:this.annotationStorage).serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${bt}`)}return xt&&(Et+=RenderingIntentFlag.OPLIST),{renderingIntent:Et,cacheKey:`${Et}_${wt.hash}`,annotationStorageSerializable:wt}}destroy(){var _t;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(_t=Ct(this,Cl))==null||_t.reject(new Error("Worker was destroyed during onPassword callback"));const ht=[];for(const xt of Ct(this,Sl).values())ht.push(xt._destroy());Ct(this,Sl).clear(),Ct(this,Pm).clear(),Ct(this,Mm).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const bt=this.messageHandler.sendWithPromise("Terminate",null);return ht.push(bt),Promise.all(ht).then(()=>{var xt;this.commonObjs.clear(),this.fontLoader.clear(),Ct(this,tu).clear(),this.filterFactory.destroy(),TextLayer.cleanup(),(xt=this._networkStream)==null||xt.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ht,loadingTask:bt}=this;ht.on("GetReader",(_t,xt)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Et=>{this._lastProgress={loaded:Et.loaded,total:Et.total}},xt.onPull=()=>{this._fullReader.read().then(function({value:Et,done:wt}){if(wt){xt.close();return}assert(Et instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),xt.enqueue(new Uint8Array(Et),1,[Et])}).catch(Et=>{xt.error(Et)})},xt.onCancel=Et=>{this._fullReader.cancel(Et),xt.ready.catch(wt=>{if(!this.destroyed)throw wt})}}),ht.on("ReaderHeadersReady",_t=>{const xt=Promise.withResolvers(),Et=this._fullReader;return Et.headersReady.then(()=>{var wt;(!Et.isStreamingSupported||!Et.isRangeSupported)&&(this._lastProgress&&((wt=bt.onProgress)==null||wt.call(bt,this._lastProgress)),Et.onProgress=At=>{var St;(St=bt.onProgress)==null||St.call(bt,{loaded:At.loaded,total:At.total})}),xt.resolve({isStreamingSupported:Et.isStreamingSupported,isRangeSupported:Et.isRangeSupported,contentLength:Et.contentLength})},xt.reject),xt.promise}),ht.on("GetRangeReader",(_t,xt)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Et=this._networkStream.getRangeReader(_t.begin,_t.end);if(!Et){xt.close();return}xt.onPull=()=>{Et.read().then(function({value:wt,done:At}){if(At){xt.close();return}assert(wt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),xt.enqueue(new Uint8Array(wt),1,[wt])}).catch(wt=>{xt.error(wt)})},xt.onCancel=wt=>{Et.cancel(wt),xt.ready.catch(At=>{if(!this.destroyed)throw At})}}),ht.on("GetDoc",({pdfInfo:_t})=>{this._numPages=_t.numPages,this._htmlForXfa=_t.htmlForXfa,delete _t.htmlForXfa,bt._capability.resolve(new PDFDocumentProxy(_t,this))}),ht.on("DocException",function(_t){let xt;switch(_t.name){case"PasswordException":xt=new PasswordException(_t.message,_t.code);break;case"InvalidPDFException":xt=new InvalidPDFException(_t.message);break;case"MissingPDFException":xt=new MissingPDFException(_t.message);break;case"UnexpectedResponseException":xt=new UnexpectedResponseException(_t.message,_t.status);break;case"UnknownErrorException":xt=new UnknownErrorException(_t.message,_t.details);break;default:unreachable("DocException - expected a valid Error.")}bt._capability.reject(xt)}),ht.on("PasswordRequest",_t=>{if(qt(this,Cl,Promise.withResolvers()),bt.onPassword){const xt=Et=>{Et instanceof Error?Ct(this,Cl).reject(Et):Ct(this,Cl).resolve({password:Et})};try{bt.onPassword(xt,_t.code)}catch(Et){Ct(this,Cl).reject(Et)}}else Ct(this,Cl).reject(new PasswordException(_t.message,_t.code));return Ct(this,Cl).promise}),ht.on("DataLoaded",_t=>{var xt;(xt=bt.onProgress)==null||xt.call(bt,{loaded:_t.length,total:_t.length}),this.downloadInfoCapability.resolve(_t)}),ht.on("StartRenderPage",_t=>{if(this.destroyed)return;Ct(this,Sl).get(_t.pageIndex)._startRenderPage(_t.transparency,_t.cacheKey)}),ht.on("commonobj",([_t,xt,Et])=>{var wt;if(this.destroyed||this.commonObjs.has(_t))return null;switch(xt){case"Font":const{disableFontFace:At,fontExtraProperties:St,pdfBug:kt}=this._params;if("error"in Et){const Ft=Et.error;warn(`Error during font loading: ${Ft}`),this.commonObjs.resolve(_t,Ft);break}const Rt=kt&&((wt=globalThis.FontInspector)!=null&&wt.enabled)?(Ft,Lt)=>globalThis.FontInspector.fontAdded(Ft,Lt):null,Pt=new FontFaceObject(Et,{disableFontFace:At,inspectFont:Rt});this.fontLoader.bind(Pt).catch(()=>ht.sendWithPromise("FontFallback",{id:_t})).finally(()=>{!St&&Pt.data&&(Pt.data=null),this.commonObjs.resolve(_t,Pt)});break;case"CopyLocalImage":const{imageRef:Mt}=Et;assert(Mt,"The imageRef must be defined.");for(const Ft of Ct(this,Sl).values())for(const[,Lt]of Ft.objs)if((Lt==null?void 0:Lt.ref)===Mt)return Lt.dataLen?(this.commonObjs.resolve(_t,structuredClone(Lt)),Lt.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(_t,Et);break;default:throw new Error(`Got unknown common object type ${xt}`)}return null}),ht.on("obj",([_t,xt,Et,wt])=>{var St;if(this.destroyed)return;const At=Ct(this,Sl).get(xt);if(!At.objs.has(_t)){if(At._intentStates.size===0){(St=wt==null?void 0:wt.bitmap)==null||St.close();return}switch(Et){case"Image":At.objs.resolve(_t,wt),(wt==null?void 0:wt.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(At._maybeCleanupAfterRender=!0);break;case"Pattern":At.objs.resolve(_t,wt);break;default:throw new Error(`Got unknown object type ${Et}`)}}}),ht.on("DocProgress",_t=>{var xt;this.destroyed||(xt=bt.onProgress)==null||xt.call(bt,{loaded:_t.loaded,total:_t.total})}),ht.on("FetchBuiltInCMap",_t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(_t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ht.on("FetchStandardFontData",_t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(_t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var _t;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ht,transfer:bt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ht,filename:((_t=this._fullReader)==null?void 0:_t.filename)??null},bt).finally(()=>{this.annotationStorage.resetModified()})}getPage(ht){if(!Number.isInteger(ht)||ht<=0||ht>this._numPages)return Promise.reject(new Error("Invalid page request."));const bt=ht-1,_t=Ct(this,Pm).get(bt);if(_t)return _t;const xt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:bt}).then(Et=>{if(this.destroyed)throw new Error("Transport destroyed");Et.refStr&&Ct(this,Mm).set(Et.refStr,ht);const wt=new PDFPageProxy(bt,Et,this,this._params.pdfBug);return Ct(this,Sl).set(bt,wt),wt});return Ct(this,Pm).set(bt,xt),xt}getPageIndex(ht){return isRefProxy(ht)?this.messageHandler.sendWithPromise("GetPageIndex",{num:ht.num,gen:ht.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(ht,bt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ht,intent:bt})}getFieldObjects(){return Xt(this,xp,c0).call(this,"GetFieldObjects")}hasJSActions(){return Xt(this,xp,c0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ht){return typeof ht!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ht})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Xt(this,xp,c0).call(this,"GetDocJSActions")}getPageJSActions(ht){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ht})}getStructTree(ht){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ht})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(ht){return Xt(this,xp,c0).call(this,"GetOptionalContentConfig").then(bt=>new OptionalContentConfig(bt,ht))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ht="GetMetadata",bt=Ct(this,tu).get(ht);if(bt)return bt;const _t=this.messageHandler.sendWithPromise(ht,null).then(xt=>{var Et,wt;return{info:xt[0],metadata:xt[1]?new Metadata(xt[1]):null,contentDispositionFilename:((Et=this._fullReader)==null?void 0:Et.filename)??null,contentLength:((wt=this._fullReader)==null?void 0:wt.contentLength)??null}});return Ct(this,tu).set(ht,_t),_t}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ht=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const bt of Ct(this,Sl).values())if(!bt.cleanup())throw new Error(`startCleanup: Page ${bt.pageNumber} is currently rendering.`);this.commonObjs.clear(),ht||this.fontLoader.clear(),Ct(this,tu).clear(),this.filterFactory.destroy(!0),TextLayer.cleanup()}}cachedPageNumber(ht){if(!isRefProxy(ht))return null;const bt=ht.gen===0?`${ht.num}R`:`${ht.num}R${ht.gen}`;return Ct(this,Mm).get(bt)??null}}tu=new WeakMap,Sl=new WeakMap,Pm=new WeakMap,Mm=new WeakMap,Cl=new WeakMap,xp=new WeakSet,c0=function(ht,bt=null){const _t=Ct(this,tu).get(ht);if(_t)return _t;const xt=this.messageHandler.sendWithPromise(ht,bt);return Ct(this,tu).set(ht,xt),xt};const INITIAL_DATA=Symbol("INITIAL_DATA");var zo,gv,Z_;class PDFObjects{constructor(){Qt(this,gv);Qt(this,zo,Object.create(null))}get(ht,bt=null){if(bt){const xt=Xt(this,gv,Z_).call(this,ht);return xt.promise.then(()=>bt(xt.data)),null}const _t=Ct(this,zo)[ht];if(!_t||_t.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${ht}.`);return _t.data}has(ht){const bt=Ct(this,zo)[ht];return!!bt&&bt.data!==INITIAL_DATA}resolve(ht,bt=null){const _t=Xt(this,gv,Z_).call(this,ht);_t.data=bt,_t.resolve()}clear(){var ht;for(const bt in Ct(this,zo)){const{data:_t}=Ct(this,zo)[bt];(ht=_t==null?void 0:_t.bitmap)==null||ht.close()}qt(this,zo,Object.create(null))}*[Symbol.iterator](){for(const ht in Ct(this,zo)){const{data:bt}=Ct(this,zo)[ht];bt!==INITIAL_DATA&&(yield[ht,bt])}}}zo=new WeakMap,gv=new WeakSet,Z_=function(ht){var bt;return(bt=Ct(this,zo))[ht]||(bt[ht]={...Promise.withResolvers(),data:INITIAL_DATA})};var Lu;class RenderTask{constructor(ht){Qt(this,Lu,null);qt(this,Lu,ht),this.onContinue=null}get promise(){return Ct(this,Lu).capability.promise}cancel(ht=0){Ct(this,Lu).cancel(null,ht)}get separateAnnots(){const{separateAnnots:ht}=Ct(this,Lu).operatorList;if(!ht)return!1;const{annotationCanvasMap:bt}=Ct(this,Lu);return ht.form||ht.canvas&&(bt==null?void 0:bt.size)>0}}Lu=new WeakMap;var Ep;const _d=class _d{constructor({callback:ht,params:bt,objs:_t,commonObjs:xt,annotationCanvasMap:Et,operatorList:wt,pageIndex:At,canvasFactory:St,filterFactory:kt,useRequestAnimationFrame:Rt=!1,pdfBug:Pt=!1,pageColors:Mt=null}){this.callback=ht,this.params=bt,this.objs=_t,this.commonObjs=xt,this.annotationCanvasMap=Et,this.operatorListIdx=null,this.operatorList=wt,this._pageIndex=At,this.canvasFactory=St,this.filterFactory=kt,this._pdfBug=Pt,this.pageColors=Mt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Rt===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=bt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ht=!1,optionalContentConfig:bt}){var At,St;if(this.cancelled)return;if(this._canvas){if(Ct(_d,Ep).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ct(_d,Ep).add(this._canvas)}this._pdfBug&&((At=globalThis.StepperManager)!=null&&At.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:_t,viewport:xt,transform:Et,background:wt}=this.params;this.gfx=new CanvasGraphics(_t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:bt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Et,viewport:xt,transparency:ht,background:wt}),this.operatorListIdx=0,this.graphicsReady=!0,(St=this.graphicsReadyCallback)==null||St.call(this)}cancel(ht=null,bt=0){var _t;this.running=!1,this.cancelled=!0,(_t=this.gfx)==null||_t.endDrawing(),Ct(_d,Ep).delete(this._canvas),this.callback(ht||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,bt))}operatorListChanged(){var ht;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ht=this.stepper)==null||ht.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ct(_d,Ep).delete(this._canvas),this.callback())))}};Ep=new WeakMap,Qt(_d,Ep,new WeakSet);let InternalRenderTask=_d;const version="4.3.136",build="0cec64437";function makeColorComp(vt){return Math.floor(Math.max(0,Math.min(1,vt))*255).toString(16).padStart(2,"0")}function scaleAndClamp(vt){return Math.max(0,Math.min(255,255*vt))}class ColorConverters{static CMYK_G([ht,bt,_t,xt]){return["G",1-Math.min(1,.3*ht+.59*_t+.11*bt+xt)]}static G_CMYK([ht]){return["CMYK",0,0,0,1-ht]}static G_RGB([ht]){return["RGB",ht,ht,ht]}static G_rgb([ht]){return ht=scaleAndClamp(ht),[ht,ht,ht]}static G_HTML([ht]){const bt=makeColorComp(ht);return`#${bt}${bt}${bt}`}static RGB_G([ht,bt,_t]){return["G",.3*ht+.59*bt+.11*_t]}static RGB_rgb(ht){return ht.map(scaleAndClamp)}static RGB_HTML(ht){return`#${ht.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([ht,bt,_t,xt]){return["RGB",1-Math.min(1,ht+xt),1-Math.min(1,_t+xt),1-Math.min(1,bt+xt)]}static CMYK_rgb([ht,bt,_t,xt]){return[scaleAndClamp(1-Math.min(1,ht+xt)),scaleAndClamp(1-Math.min(1,_t+xt)),scaleAndClamp(1-Math.min(1,bt+xt))]}static CMYK_HTML(ht){const bt=this.CMYK_RGB(ht).slice(1);return this.RGB_HTML(bt)}static RGB_CMYK([ht,bt,_t]){const xt=1-ht,Et=1-bt,wt=1-_t,At=Math.min(xt,Et,wt);return["CMYK",xt,Et,wt,At]}}class XfaLayer{static setupStorage(ht,bt,_t,xt,Et){const wt=xt.getValue(bt,{value:null});switch(_t.name){case"textarea":if(wt.value!==null&&(ht.textContent=wt.value),Et==="print")break;ht.addEventListener("input",At=>{xt.setValue(bt,{value:At.target.value})});break;case"input":if(_t.attributes.type==="radio"||_t.attributes.type==="checkbox"){if(wt.value===_t.attributes.xfaOn?ht.setAttribute("checked",!0):wt.value===_t.attributes.xfaOff&&ht.removeAttribute("checked"),Et==="print")break;ht.addEventListener("change",At=>{xt.setValue(bt,{value:At.target.checked?At.target.getAttribute("xfaOn"):At.target.getAttribute("xfaOff")})})}else{if(wt.value!==null&&ht.setAttribute("value",wt.value),Et==="print")break;ht.addEventListener("input",At=>{xt.setValue(bt,{value:At.target.value})})}break;case"select":if(wt.value!==null){ht.setAttribute("value",wt.value);for(const At of _t.children)At.attributes.value===wt.value?At.attributes.selected=!0:At.attributes.hasOwnProperty("selected")&&delete At.attributes.selected}ht.addEventListener("input",At=>{const St=At.target.options,kt=St.selectedIndex===-1?"":St[St.selectedIndex].value;xt.setValue(bt,{value:kt})});break}}static setAttributes({html:ht,element:bt,storage:_t=null,intent:xt,linkService:Et}){const{attributes:wt}=bt,At=ht instanceof HTMLAnchorElement;wt.type==="radio"&&(wt.name=`${wt.name}-${xt}`);for(const[St,kt]of Object.entries(wt))if(kt!=null)switch(St){case"class":kt.length&&ht.setAttribute(St,kt.join(" "));break;case"dataId":break;case"id":ht.setAttribute("data-element-id",kt);break;case"style":Object.assign(ht.style,kt);break;case"textContent":ht.textContent=kt;break;default:(!At||St!=="href"&&St!=="newWindow")&&ht.setAttribute(St,kt)}At&&Et.addLinkAttributes(ht,wt.href,wt.newWindow),_t&&wt.dataId&&this.setupStorage(ht,wt.dataId,bt,_t)}static render(ht){var Pt,Mt;const bt=ht.annotationStorage,_t=ht.linkService,xt=ht.xfaHtml,Et=ht.intent||"display",wt=document.createElement(xt.name);xt.attributes&&this.setAttributes({html:wt,element:xt,intent:Et,linkService:_t});const At=Et!=="richText",St=ht.div;if(St.append(wt),ht.viewport){const Ft=`matrix(${ht.viewport.transform.join(",")})`;St.style.transform=Ft}At&&St.setAttribute("class","xfaLayer xfaFont");const kt=[];if(xt.children.length===0){if(xt.value){const Ft=document.createTextNode(xt.value);wt.append(Ft),At&&XfaText.shouldBuildText(xt.name)&&kt.push(Ft)}return{textDivs:kt}}const Rt=[[xt,-1,wt]];for(;Rt.length>0;){const[Ft,Lt,Dt]=Rt.at(-1);if(Lt+1===Ft.children.length){Rt.pop();continue}const Nt=Ft.children[++Rt.at(-1)[1]];if(Nt===null)continue;const{name:$t}=Nt;if($t==="#text"){const jt=document.createTextNode(Nt.value);kt.push(jt),Dt.append(jt);continue}const Ot=(Pt=Nt==null?void 0:Nt.attributes)!=null&&Pt.xmlns?document.createElementNS(Nt.attributes.xmlns,$t):document.createElement($t);if(Dt.append(Ot),Nt.attributes&&this.setAttributes({html:Ot,element:Nt,storage:bt,intent:Et,linkService:_t}),((Mt=Nt.children)==null?void 0:Mt.length)>0)Rt.push([Nt,-1,Ot]);else if(Nt.value){const jt=document.createTextNode(Nt.value);At&&XfaText.shouldBuildText($t)&&kt.push(jt),Ot.append(jt)}}for(const Ft of St.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Ft.setAttribute("readOnly",!0);return{textDivs:kt}}static update(ht){const bt=`matrix(${ht.viewport.transform.join(",")})`;ht.div.style.transform=bt,ht.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(vt){return{width:vt[2]-vt[0],height:vt[3]-vt[1]}}class AnnotationElementFactory{static create(ht){switch(ht.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement(ht);case AnnotationType.TEXT:return new TextAnnotationElement(ht);case AnnotationType.WIDGET:switch(ht.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(ht);case"Btn":return ht.data.radioButton?new RadioButtonWidgetAnnotationElement(ht):ht.data.checkBox?new CheckboxWidgetAnnotationElement(ht):new PushButtonWidgetAnnotationElement(ht);case"Ch":return new ChoiceWidgetAnnotationElement(ht);case"Sig":return new SignatureWidgetAnnotationElement(ht)}return new WidgetAnnotationElement(ht);case AnnotationType.POPUP:return new PopupAnnotationElement(ht);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement(ht);case AnnotationType.LINE:return new LineAnnotationElement(ht);case AnnotationType.SQUARE:return new SquareAnnotationElement(ht);case AnnotationType.CIRCLE:return new CircleAnnotationElement(ht);case AnnotationType.POLYLINE:return new PolylineAnnotationElement(ht);case AnnotationType.CARET:return new CaretAnnotationElement(ht);case AnnotationType.INK:return new InkAnnotationElement(ht);case AnnotationType.POLYGON:return new PolygonAnnotationElement(ht);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(ht);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(ht);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(ht);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(ht);case AnnotationType.STAMP:return new StampAnnotationElement(ht);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(ht);default:return new AnnotationElement(ht)}}}var wp,Fm,Lm,mv,Q_;const a1=class a1{constructor(ht,{isRenderable:bt=!1,ignoreBorder:_t=!1,createQuadrilaterals:xt=!1}={}){Qt(this,mv);Qt(this,wp,null);Qt(this,Fm,!1);Qt(this,Lm,null);this.isRenderable=bt,this.data=ht.data,this.layer=ht.layer,this.linkService=ht.linkService,this.downloadManager=ht.downloadManager,this.imageResourcesPath=ht.imageResourcesPath,this.renderForms=ht.renderForms,this.svgFactory=ht.svgFactory,this.annotationStorage=ht.annotationStorage,this.enableScripting=ht.enableScripting,this.hasJSActions=ht.hasJSActions,this._fieldObjects=ht.fieldObjects,this.parent=ht.parent,bt&&(this.container=this._createContainer(_t)),xt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:ht,contentsObj:bt,richText:_t}){return!!(ht!=null&&ht.str||bt!=null&&bt.str||_t!=null&&_t.str)}get hasPopupData(){return a1._hasPopupData(this.data)}updateEdited(ht){var _t;if(!this.container)return;Ct(this,wp)||qt(this,wp,{rect:this.data.rect.slice(0)});const{rect:bt}=ht;bt&&Xt(this,mv,Q_).call(this,bt),(_t=Ct(this,Lm))==null||_t.popup.updateEdited(ht)}resetEdited(){var ht;Ct(this,wp)&&(Xt(this,mv,Q_).call(this,Ct(this,wp).rect),(ht=Ct(this,Lm))==null||ht.popup.resetEdited(),qt(this,wp,null))}_createContainer(ht){const{data:bt,parent:{page:_t,viewport:xt}}=this,Et=document.createElement("section");Et.setAttribute("data-annotation-id",bt.id),this instanceof WidgetAnnotationElement||(Et.tabIndex=DEFAULT_TAB_INDEX);const{style:wt}=Et;if(wt.zIndex=this.parent.zIndex++,bt.popupRef&&Et.setAttribute("aria-haspopup","dialog"),bt.alternativeText&&(Et.title=bt.alternativeText),bt.noRotate&&Et.classList.add("norotate"),!bt.rect||this instanceof PopupAnnotationElement){const{rotation:Dt}=bt;return!bt.hasOwnCanvas&&Dt!==0&&this.setRotation(Dt,Et),Et}const{width:At,height:St}=getRectDims(bt.rect);if(!ht&&bt.borderStyle.width>0){wt.borderWidth=`${bt.borderStyle.width}px`;const Dt=bt.borderStyle.horizontalCornerRadius,Nt=bt.borderStyle.verticalCornerRadius;if(Dt>0||Nt>0){const Ot=`calc(${Dt}px * var(--scale-factor)) / calc(${Nt}px * var(--scale-factor))`;wt.borderRadius=Ot}else if(this instanceof RadioButtonWidgetAnnotationElement){const Ot=`calc(${At}px * var(--scale-factor)) / calc(${St}px * var(--scale-factor))`;wt.borderRadius=Ot}switch(bt.borderStyle.style){case AnnotationBorderStyleType.SOLID:wt.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:wt.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:wt.borderBottomStyle="solid";break}const $t=bt.borderColor||null;$t?(qt(this,Fm,!0),wt.borderColor=Util.makeHexColor($t[0]|0,$t[1]|0,$t[2]|0)):wt.borderWidth=0}const kt=Util.normalizeRect([bt.rect[0],_t.view[3]-bt.rect[1]+_t.view[1],bt.rect[2],_t.view[3]-bt.rect[3]+_t.view[1]]),{pageWidth:Rt,pageHeight:Pt,pageX:Mt,pageY:Ft}=xt.rawDims;wt.left=`${100*(kt[0]-Mt)/Rt}%`,wt.top=`${100*(kt[1]-Ft)/Pt}%`;const{rotation:Lt}=bt;return bt.hasOwnCanvas||Lt===0?(wt.width=`${100*At/Rt}%`,wt.height=`${100*St/Pt}%`):this.setRotation(Lt,Et),Et}setRotation(ht,bt=this.container){if(!this.data.rect)return;const{pageWidth:_t,pageHeight:xt}=this.parent.viewport.rawDims,{width:Et,height:wt}=getRectDims(this.data.rect);let At,St;ht%180===0?(At=100*Et/_t,St=100*wt/xt):(At=100*wt/_t,St=100*Et/xt),bt.style.width=`${At}%`,bt.style.height=`${St}%`,bt.setAttribute("data-main-rotation",(360-ht)%360)}get _commonActions(){const ht=(bt,_t,xt)=>{const Et=xt.detail[bt],wt=Et[0],At=Et.slice(1);xt.target.style[_t]=ColorConverters[`${wt}_HTML`](At),this.annotationStorage.setValue(this.data.id,{[_t]:ColorConverters[`${wt}_rgb`](At)})};return shadow(this,"_commonActions",{display:bt=>{const{display:_t}=bt.detail,xt=_t%2===1;this.container.style.visibility=xt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:xt,noPrint:_t===1||_t===2})},print:bt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!bt.detail.print})},hidden:bt=>{const{hidden:_t}=bt.detail;this.container.style.visibility=_t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:_t,noView:_t})},focus:bt=>{setTimeout(()=>bt.target.focus({preventScroll:!1}),0)},userName:bt=>{bt.target.title=bt.detail.userName},readonly:bt=>{bt.target.disabled=bt.detail.readonly},required:bt=>{this._setRequired(bt.target,bt.detail.required)},bgColor:bt=>{ht("bgColor","backgroundColor",bt)},fillColor:bt=>{ht("fillColor","backgroundColor",bt)},fgColor:bt=>{ht("fgColor","color",bt)},textColor:bt=>{ht("textColor","color",bt)},borderColor:bt=>{ht("borderColor","borderColor",bt)},strokeColor:bt=>{ht("strokeColor","borderColor",bt)},rotation:bt=>{const _t=bt.detail.rotation;this.setRotation(_t),this.annotationStorage.setValue(this.data.id,{rotation:_t})}})}_dispatchEventFromSandbox(ht,bt){const _t=this._commonActions;for(const xt of Object.keys(bt.detail)){const Et=ht[xt]||_t[xt];Et==null||Et(bt)}}_setDefaultPropertiesFromJS(ht){if(!this.enableScripting)return;const bt=this.annotationStorage.getRawValue(this.data.id);if(!bt)return;const _t=this._commonActions;for(const[xt,Et]of Object.entries(bt)){const wt=_t[xt];if(wt){const At={detail:{[xt]:Et},target:ht};wt(At),delete bt[xt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:ht}=this.data;if(!ht)return;const[bt,_t,xt,Et]=this.data.rect;if(ht.length===1){const[,{x:Dt,y:Nt},{x:$t,y:Ot}]=ht[0];if(xt===Dt&&Et===Nt&&bt===$t&&_t===Ot)return}const{style:wt}=this.container;let At;if(Ct(this,Fm)){const{borderColor:Dt,borderWidth:Nt}=wt;wt.borderWidth=0,At=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Dt}" stroke-width="${Nt}">`],this.container.classList.add("hasBorder")}const St=xt-bt,kt=Et-_t,{svgFactory:Rt}=this,Pt=Rt.createElement("svg");Pt.classList.add("quadrilateralsContainer"),Pt.setAttribute("width",0),Pt.setAttribute("height",0);const Mt=Rt.createElement("defs");Pt.append(Mt);const Ft=Rt.createElement("clipPath"),Lt=`clippath_${this.data.id}`;Ft.setAttribute("id",Lt),Ft.setAttribute("clipPathUnits","objectBoundingBox"),Mt.append(Ft);for(const[,{x:Dt,y:Nt},{x:$t,y:Ot}]of ht){const jt=Rt.createElement("rect"),Ut=($t-bt)/St,Bt=(Et-Nt)/kt,Vt=(Dt-$t)/St,zt=(Nt-Ot)/kt;jt.setAttribute("x",Ut),jt.setAttribute("y",Bt),jt.setAttribute("width",Vt),jt.setAttribute("height",zt),Ft.append(jt),At==null||At.push(`<rect vector-effect="non-scaling-stroke" x="${Ut}" y="${Bt}" width="${Vt}" height="${zt}"/>`)}Ct(this,Fm)&&(At.push("</g></svg>')"),wt.backgroundImage=At.join("")),this.container.append(Pt),this.container.style.clipPath=`url(#${Lt})`}_createPopup(){const{container:ht,data:bt}=this;ht.setAttribute("aria-haspopup","dialog");const _t=qt(this,Lm,new PopupAnnotationElement({data:{color:bt.color,titleObj:bt.titleObj,modificationDate:bt.modificationDate,contentsObj:bt.contentsObj,richText:bt.richText,parentRect:bt.rect,borderStyle:0,id:`popup_${bt.id}`,rotation:bt.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(_t.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName(ht,bt=null){const _t=[];if(this._fieldObjects){const xt=this._fieldObjects[ht];if(xt)for(const{page:Et,id:wt,exportValues:At}of xt){if(Et===-1||wt===bt)continue;const St=typeof At=="string"?At:null,kt=document.querySelector(`[data-element-id="${wt}"]`);if(kt&&!GetElementsByNameSet.has(kt)){warn(`_getElementsByName - element not allowed: ${wt}`);continue}_t.push({id:wt,exportValue:St,domElement:kt})}return _t}for(const xt of document.getElementsByName(ht)){const{exportValue:Et}=xt,wt=xt.getAttribute("data-element-id");wt!==bt&&GetElementsByNameSet.has(xt)&&_t.push({id:wt,exportValue:Et,domElement:xt})}return _t}show(){var ht;this.container&&(this.container.hidden=!1),(ht=this.popup)==null||ht.maybeShow()}hide(){var ht;this.container&&(this.container.hidden=!0),(ht=this.popup)==null||ht.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const ht=this.getElementsToTriggerPopup();if(Array.isArray(ht))for(const bt of ht)bt.classList.add("highlightArea");else ht.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:ht,data:{id:bt}}=this;this.container.addEventListener("dblclick",()=>{var _t;(_t=this.linkService.eventBus)==null||_t.dispatch("switchannotationeditormode",{source:this,mode:ht,editId:bt})})}};wp=new WeakMap,Fm=new WeakMap,Lm=new WeakMap,mv=new WeakSet,Q_=function(ht){const{container:{style:bt},data:{rect:_t,rotation:xt},parent:{viewport:{rawDims:{pageWidth:Et,pageHeight:wt,pageX:At,pageY:St}}}}=this;_t==null||_t.splice(0,4,...ht);const{width:kt,height:Rt}=getRectDims(ht);bt.left=`${100*(ht[0]-At)/Et}%`,bt.top=`${100*(wt-ht[3]+St)/wt}%`,xt===0?(bt.width=`${100*kt/Et}%`,bt.height=`${100*Rt/wt}%`):this.setRotation(xt)};let AnnotationElement=a1;var To,Ku,nE,rE;class LinkAnnotationElement extends AnnotationElement{constructor(bt,_t=null){super(bt,{isRenderable:!0,ignoreBorder:!!(_t!=null&&_t.ignoreBorder),createQuadrilaterals:!0});Qt(this,To);this.isTooltipOnly=bt.data.isTooltipOnly}render(){const{data:bt,linkService:_t}=this,xt=document.createElement("a");xt.setAttribute("data-element-id",bt.id);let Et=!1;return bt.url?(_t.addLinkAttributes(xt,bt.url,bt.newWindow),Et=!0):bt.action?(this._bindNamedAction(xt,bt.action),Et=!0):bt.attachment?(Xt(this,To,nE).call(this,xt,bt.attachment,bt.attachmentDest),Et=!0):bt.setOCGState?(Xt(this,To,rE).call(this,xt,bt.setOCGState),Et=!0):bt.dest?(this._bindLink(xt,bt.dest),Et=!0):(bt.actions&&(bt.actions.Action||bt.actions["Mouse Up"]||bt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(xt,bt),Et=!0),bt.resetForm?(this._bindResetFormAction(xt,bt.resetForm),Et=!0):this.isTooltipOnly&&!Et&&(this._bindLink(xt,""),Et=!0)),this.container.classList.add("linkAnnotation"),Et&&this.container.append(xt),this.container}_bindLink(bt,_t){bt.href=this.linkService.getDestinationHash(_t),bt.onclick=()=>(_t&&this.linkService.goToDestination(_t),!1),(_t||_t==="")&&Xt(this,To,Ku).call(this)}_bindNamedAction(bt,_t){bt.href=this.linkService.getAnchorUrl(""),bt.onclick=()=>(this.linkService.executeNamedAction(_t),!1),Xt(this,To,Ku).call(this)}_bindJSAction(bt,_t){bt.href=this.linkService.getAnchorUrl("");const xt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Et of Object.keys(_t.actions)){const wt=xt.get(Et);wt&&(bt[wt]=()=>{var At;return(At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_t.id,name:Et}}),!1})}bt.onclick||(bt.onclick=()=>!1),Xt(this,To,Ku).call(this)}_bindResetFormAction(bt,_t){const xt=bt.onclick;if(xt||(bt.href=this.linkService.getAnchorUrl("")),Xt(this,To,Ku).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),xt||(bt.onclick=()=>!1);return}bt.onclick=()=>{var Pt;xt==null||xt();const{fields:Et,refs:wt,include:At}=_t,St=[];if(Et.length!==0||wt.length!==0){const Mt=new Set(wt);for(const Ft of Et){const Lt=this._fieldObjects[Ft]||[];for(const{id:Dt}of Lt)Mt.add(Dt)}for(const Ft of Object.values(this._fieldObjects))for(const Lt of Ft)Mt.has(Lt.id)===At&&St.push(Lt)}else for(const Mt of Object.values(this._fieldObjects))St.push(...Mt);const kt=this.annotationStorage,Rt=[];for(const Mt of St){const{id:Ft}=Mt;switch(Rt.push(Ft),Mt.type){case"text":{const Dt=Mt.defaultValue||"";kt.setValue(Ft,{value:Dt});break}case"checkbox":case"radiobutton":{const Dt=Mt.defaultValue===Mt.exportValues;kt.setValue(Ft,{value:Dt});break}case"combobox":case"listbox":{const Dt=Mt.defaultValue||"";kt.setValue(Ft,{value:Dt});break}default:continue}const Lt=document.querySelector(`[data-element-id="${Ft}"]`);if(Lt){if(!GetElementsByNameSet.has(Lt)){warn(`_bindResetFormAction - element not allowed: ${Ft}`);continue}}else continue;Lt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Rt,name:"ResetForm"}})),!1}}}To=new WeakSet,Ku=function(){this.container.setAttribute("data-internal-link","")},nE=function(bt,_t,xt=null){bt.href=this.linkService.getAnchorUrl(""),_t.description&&(bt.title=_t.description),bt.onclick=()=>{var Et;return(Et=this.downloadManager)==null||Et.openOrDownloadData(_t.content,_t.filename,xt),!1},Xt(this,To,Ku).call(this)},rE=function(bt,_t){bt.href=this.linkService.getAnchorUrl(""),bt.onclick=()=>(this.linkService.executeSetOCGState(_t),!1),Xt(this,To,Ku).call(this)};class TextAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const ht=document.createElement("img");return ht.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ht.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),ht.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(ht),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas(ht){var bt;this.data.hasOwnCanvas&&(((bt=ht.previousSibling)==null?void 0:bt.nodeName)==="CANVAS"&&(ht.previousSibling.hidden=!0),ht.hidden=!1)}_getKeyModifier(ht){return util_FeatureTest.platform.isMac?ht.metaKey:ht.ctrlKey}_setEventListener(ht,bt,_t,xt,Et){_t.includes("mouse")?ht.addEventListener(_t,wt=>{var At;(At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xt,value:Et(wt),shift:wt.shiftKey,modifier:this._getKeyModifier(wt)}})}):ht.addEventListener(_t,wt=>{var At;if(_t==="blur"){if(!bt.focused||!wt.relatedTarget)return;bt.focused=!1}else if(_t==="focus"){if(bt.focused)return;bt.focused=!0}Et&&((At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xt,value:Et(wt)}}))})}_setEventListeners(ht,bt,_t,xt){var Et,wt,At;for(const[St,kt]of _t)(kt==="Action"||(Et=this.data.actions)!=null&&Et[kt])&&((kt==="Focus"||kt==="Blur")&&(bt||(bt={focused:!1})),this._setEventListener(ht,bt,St,kt,xt),kt==="Focus"&&!((wt=this.data.actions)!=null&&wt.Blur)?this._setEventListener(ht,bt,"blur","Blur",null):kt==="Blur"&&!((At=this.data.actions)!=null&&At.Focus)&&this._setEventListener(ht,bt,"focus","Focus",null))}_setBackgroundColor(ht){const bt=this.data.backgroundColor||null;ht.style.backgroundColor=bt===null?"transparent":Util.makeHexColor(bt[0],bt[1],bt[2])}_setTextStyle(ht){const bt=["left","center","right"],{fontColor:_t}=this.data.defaultAppearanceData,xt=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,Et=ht.style;let wt;const At=2,St=kt=>Math.round(10*kt)/10;if(this.data.multiLine){const kt=Math.abs(this.data.rect[3]-this.data.rect[1]-At),Rt=Math.round(kt/(LINE_FACTOR*xt))||1,Pt=kt/Rt;wt=Math.min(xt,St(Pt/LINE_FACTOR))}else{const kt=Math.abs(this.data.rect[3]-this.data.rect[1]-At);wt=Math.min(xt,St(kt/LINE_FACTOR))}Et.fontSize=`calc(${wt}px * var(--scale-factor))`,Et.color=Util.makeHexColor(_t[0],_t[1],_t[2]),this.data.textAlignment!==null&&(Et.textAlign=bt[this.data.textAlignment])}_setRequired(ht,bt){bt?ht.setAttribute("required",!0):ht.removeAttribute("required"),ht.setAttribute("aria-required",bt)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(ht){const bt=ht.renderForms||ht.data.hasOwnCanvas||!ht.data.hasAppearance&&!!ht.data.fieldValue;super(ht,{isRenderable:bt})}setPropertyOnSiblings(ht,bt,_t,xt){const Et=this.annotationStorage;for(const wt of this._getElementsByName(ht.name,ht.id))wt.domElement&&(wt.domElement[bt]=_t),Et.setValue(wt.id,{[xt]:_t})}render(){var xt,Et;const ht=this.annotationStorage,bt=this.data.id;this.container.classList.add("textWidgetAnnotation");let _t=null;if(this.renderForms){const wt=ht.getValue(bt,{value:this.data.fieldValue});let At=wt.value||"";const St=ht.getValue(bt,{charLimit:this.data.maxLen}).charLimit;St&&At.length>St&&(At=At.slice(0,St));let kt=wt.formattedValue||((xt=this.data.textContent)==null?void 0:xt.join(`
`))||null;kt&&this.data.comb&&(kt=kt.replaceAll(/\s+/g,""));const Rt={userValue:At,formattedValue:kt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(_t=document.createElement("textarea"),_t.textContent=kt??At,this.data.doNotScroll&&(_t.style.overflowY="hidden")):(_t=document.createElement("input"),_t.type="text",_t.setAttribute("value",kt??At),this.data.doNotScroll&&(_t.style.overflowX="hidden")),this.data.hasOwnCanvas&&(_t.hidden=!0),GetElementsByNameSet.add(_t),_t.setAttribute("data-element-id",bt),_t.disabled=this.data.readOnly,_t.name=this.data.fieldName,_t.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(_t,this.data.required),St&&(_t.maxLength=St),_t.addEventListener("input",Mt=>{ht.setValue(bt,{value:Mt.target.value}),this.setPropertyOnSiblings(_t,"value",Mt.target.value,"value"),Rt.formattedValue=null}),_t.addEventListener("resetform",Mt=>{const Ft=this.data.defaultFieldValue??"";_t.value=Rt.userValue=Ft,Rt.formattedValue=null});let Pt=Mt=>{const{formattedValue:Ft}=Rt;Ft!=null&&(Mt.target.value=Ft),Mt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){_t.addEventListener("focus",Ft=>{var Dt;if(Rt.focused)return;const{target:Lt}=Ft;Rt.userValue&&(Lt.value=Rt.userValue),Rt.lastCommittedValue=Lt.value,Rt.commitKey=1,(Dt=this.data.actions)!=null&&Dt.Focus||(Rt.focused=!0)}),_t.addEventListener("updatefromsandbox",Ft=>{this.showElementAndHideCanvas(Ft.target);const Lt={value(Dt){Rt.userValue=Dt.detail.value??"",ht.setValue(bt,{value:Rt.userValue.toString()}),Dt.target.value=Rt.userValue},formattedValue(Dt){const{formattedValue:Nt}=Dt.detail;Rt.formattedValue=Nt,Nt!=null&&Dt.target!==document.activeElement&&(Dt.target.value=Nt),ht.setValue(bt,{formattedValue:Nt})},selRange(Dt){Dt.target.setSelectionRange(...Dt.detail.selRange)},charLimit:Dt=>{var jt;const{charLimit:Nt}=Dt.detail,{target:$t}=Dt;if(Nt===0){$t.removeAttribute("maxLength");return}$t.setAttribute("maxLength",Nt);let Ot=Rt.userValue;!Ot||Ot.length<=Nt||(Ot=Ot.slice(0,Nt),$t.value=Rt.userValue=Ot,ht.setValue(bt,{value:Ot}),(jt=this.linkService.eventBus)==null||jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:Ot,willCommit:!0,commitKey:1,selStart:$t.selectionStart,selEnd:$t.selectionEnd}}))}};this._dispatchEventFromSandbox(Lt,Ft)}),_t.addEventListener("keydown",Ft=>{var Nt;Rt.commitKey=1;let Lt=-1;if(Ft.key==="Escape"?Lt=0:Ft.key==="Enter"&&!this.data.multiLine?Lt=2:Ft.key==="Tab"&&(Rt.commitKey=3),Lt===-1)return;const{value:Dt}=Ft.target;Rt.lastCommittedValue!==Dt&&(Rt.lastCommittedValue=Dt,Rt.userValue=Dt,(Nt=this.linkService.eventBus)==null||Nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:Dt,willCommit:!0,commitKey:Lt,selStart:Ft.target.selectionStart,selEnd:Ft.target.selectionEnd}}))});const Mt=Pt;Pt=null,_t.addEventListener("blur",Ft=>{var Dt,Nt;if(!Rt.focused||!Ft.relatedTarget)return;(Dt=this.data.actions)!=null&&Dt.Blur||(Rt.focused=!1);const{value:Lt}=Ft.target;Rt.userValue=Lt,Rt.lastCommittedValue!==Lt&&((Nt=this.linkService.eventBus)==null||Nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:Lt,willCommit:!0,commitKey:Rt.commitKey,selStart:Ft.target.selectionStart,selEnd:Ft.target.selectionEnd}})),Mt(Ft)}),(Et=this.data.actions)!=null&&Et.Keystroke&&_t.addEventListener("beforeinput",Ft=>{var Bt;Rt.lastCommittedValue=null;const{data:Lt,target:Dt}=Ft,{value:Nt,selectionStart:$t,selectionEnd:Ot}=Dt;let jt=$t,Ut=Ot;switch(Ft.inputType){case"deleteWordBackward":{const Vt=Nt.substring(0,$t).match(/\w*[^\w]*$/);Vt&&(jt-=Vt[0].length);break}case"deleteWordForward":{const Vt=Nt.substring($t).match(/^[^\w]*\w*/);Vt&&(Ut+=Vt[0].length);break}case"deleteContentBackward":$t===Ot&&(jt-=1);break;case"deleteContentForward":$t===Ot&&(Ut+=1);break}Ft.preventDefault(),(Bt=this.linkService.eventBus)==null||Bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:Nt,change:Lt||"",willCommit:!1,selStart:jt,selEnd:Ut}})}),this._setEventListeners(_t,Rt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ft=>Ft.target.value)}if(Pt&&_t.addEventListener("blur",Pt),this.data.comb){const Ft=(this.data.rect[2]-this.data.rect[0])/St;_t.classList.add("comb"),_t.style.letterSpacing=`calc(${Ft}px * var(--scale-factor) - 1ch)`}}else _t=document.createElement("div"),_t.textContent=this.data.fieldValue,_t.style.verticalAlign="middle",_t.style.display="table-cell",this.data.hasOwnCanvas&&(_t.hidden=!0);return this._setTextStyle(_t),this._setBackgroundColor(_t),this._setDefaultPropertiesFromJS(_t),this.container.append(_t),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor(ht){super(ht,{isRenderable:!!ht.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(ht){super(ht,{isRenderable:ht.renderForms})}render(){const ht=this.annotationStorage,bt=this.data,_t=bt.id;let xt=ht.getValue(_t,{value:bt.exportValue===bt.fieldValue}).value;typeof xt=="string"&&(xt=xt!=="Off",ht.setValue(_t,{value:xt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Et=document.createElement("input");return GetElementsByNameSet.add(Et),Et.setAttribute("data-element-id",_t),Et.disabled=bt.readOnly,this._setRequired(Et,this.data.required),Et.type="checkbox",Et.name=bt.fieldName,xt&&Et.setAttribute("checked",!0),Et.setAttribute("exportValue",bt.exportValue),Et.tabIndex=DEFAULT_TAB_INDEX,Et.addEventListener("change",wt=>{const{name:At,checked:St}=wt.target;for(const kt of this._getElementsByName(At,_t)){const Rt=St&&kt.exportValue===bt.exportValue;kt.domElement&&(kt.domElement.checked=Rt),ht.setValue(kt.id,{value:Rt})}ht.setValue(_t,{value:St})}),Et.addEventListener("resetform",wt=>{const At=bt.defaultFieldValue||"Off";wt.target.checked=At===bt.exportValue}),this.enableScripting&&this.hasJSActions&&(Et.addEventListener("updatefromsandbox",wt=>{const At={value(St){St.target.checked=St.detail.value!=="Off",ht.setValue(_t,{value:St.target.checked})}};this._dispatchEventFromSandbox(At,wt)}),this._setEventListeners(Et,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],wt=>wt.target.checked)),this._setBackgroundColor(Et),this._setDefaultPropertiesFromJS(Et),this.container.append(Et),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(ht){super(ht,{isRenderable:ht.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const ht=this.annotationStorage,bt=this.data,_t=bt.id;let xt=ht.getValue(_t,{value:bt.fieldValue===bt.buttonValue}).value;if(typeof xt=="string"&&(xt=xt!==bt.buttonValue,ht.setValue(_t,{value:xt})),xt)for(const wt of this._getElementsByName(bt.fieldName,_t))ht.setValue(wt.id,{value:!1});const Et=document.createElement("input");if(GetElementsByNameSet.add(Et),Et.setAttribute("data-element-id",_t),Et.disabled=bt.readOnly,this._setRequired(Et,this.data.required),Et.type="radio",Et.name=bt.fieldName,xt&&Et.setAttribute("checked",!0),Et.tabIndex=DEFAULT_TAB_INDEX,Et.addEventListener("change",wt=>{const{name:At,checked:St}=wt.target;for(const kt of this._getElementsByName(At,_t))ht.setValue(kt.id,{value:!1});ht.setValue(_t,{value:St})}),Et.addEventListener("resetform",wt=>{const At=bt.defaultFieldValue;wt.target.checked=At!=null&&At===bt.buttonValue}),this.enableScripting&&this.hasJSActions){const wt=bt.buttonValue;Et.addEventListener("updatefromsandbox",At=>{const St={value:kt=>{const Rt=wt===kt.detail.value;for(const Pt of this._getElementsByName(kt.target.name)){const Mt=Rt&&Pt.id===_t;Pt.domElement&&(Pt.domElement.checked=Mt),ht.setValue(Pt.id,{value:Mt})}}};this._dispatchEventFromSandbox(St,At)}),this._setEventListeners(Et,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],At=>At.target.checked)}return this._setBackgroundColor(Et),this._setDefaultPropertiesFromJS(Et),this.container.append(Et),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(ht){super(ht,{ignoreBorder:ht.data.hasAppearance})}render(){const ht=super.render();ht.classList.add("buttonWidgetAnnotation","pushButton");const bt=ht.lastChild;return this.enableScripting&&this.hasJSActions&&bt&&(this._setDefaultPropertiesFromJS(bt),bt.addEventListener("updatefromsandbox",_t=>{this._dispatchEventFromSandbox({},_t)})),ht}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(ht){super(ht,{isRenderable:ht.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const ht=this.annotationStorage,bt=this.data.id,_t=ht.getValue(bt,{value:this.data.fieldValue}),xt=document.createElement("select");GetElementsByNameSet.add(xt),xt.setAttribute("data-element-id",bt),xt.disabled=this.data.readOnly,this._setRequired(xt,this.data.required),xt.name=this.data.fieldName,xt.tabIndex=DEFAULT_TAB_INDEX;let Et=this.data.combo&&this.data.options.length>0;this.data.combo||(xt.size=this.data.options.length,this.data.multiSelect&&(xt.multiple=!0)),xt.addEventListener("resetform",Rt=>{const Pt=this.data.defaultFieldValue;for(const Mt of xt.options)Mt.selected=Mt.value===Pt});for(const Rt of this.data.options){const Pt=document.createElement("option");Pt.textContent=Rt.displayValue,Pt.value=Rt.exportValue,_t.value.includes(Rt.exportValue)&&(Pt.setAttribute("selected",!0),Et=!1),xt.append(Pt)}let wt=null;if(Et){const Rt=document.createElement("option");Rt.value=" ",Rt.setAttribute("hidden",!0),Rt.setAttribute("selected",!0),xt.prepend(Rt),wt=()=>{Rt.remove(),xt.removeEventListener("input",wt),wt=null},xt.addEventListener("input",wt)}const At=Rt=>{const Pt=Rt?"value":"textContent",{options:Mt,multiple:Ft}=xt;return Ft?Array.prototype.filter.call(Mt,Lt=>Lt.selected).map(Lt=>Lt[Pt]):Mt.selectedIndex===-1?null:Mt[Mt.selectedIndex][Pt]};let St=At(!1);const kt=Rt=>{const Pt=Rt.target.options;return Array.prototype.map.call(Pt,Mt=>({displayValue:Mt.textContent,exportValue:Mt.value}))};return this.enableScripting&&this.hasJSActions?(xt.addEventListener("updatefromsandbox",Rt=>{const Pt={value(Mt){wt==null||wt();const Ft=Mt.detail.value,Lt=new Set(Array.isArray(Ft)?Ft:[Ft]);for(const Dt of xt.options)Dt.selected=Lt.has(Dt.value);ht.setValue(bt,{value:At(!0)}),St=At(!1)},multipleSelection(Mt){xt.multiple=!0},remove(Mt){const Ft=xt.options,Lt=Mt.detail.remove;Ft[Lt].selected=!1,xt.remove(Lt),Ft.length>0&&Array.prototype.findIndex.call(Ft,Nt=>Nt.selected)===-1&&(Ft[0].selected=!0),ht.setValue(bt,{value:At(!0),items:kt(Mt)}),St=At(!1)},clear(Mt){for(;xt.length!==0;)xt.remove(0);ht.setValue(bt,{value:null,items:[]}),St=At(!1)},insert(Mt){const{index:Ft,displayValue:Lt,exportValue:Dt}=Mt.detail.insert,Nt=xt.children[Ft],$t=document.createElement("option");$t.textContent=Lt,$t.value=Dt,Nt?Nt.before($t):xt.append($t),ht.setValue(bt,{value:At(!0),items:kt(Mt)}),St=At(!1)},items(Mt){const{items:Ft}=Mt.detail;for(;xt.length!==0;)xt.remove(0);for(const Lt of Ft){const{displayValue:Dt,exportValue:Nt}=Lt,$t=document.createElement("option");$t.textContent=Dt,$t.value=Nt,xt.append($t)}xt.options.length>0&&(xt.options[0].selected=!0),ht.setValue(bt,{value:At(!0),items:kt(Mt)}),St=At(!1)},indices(Mt){const Ft=new Set(Mt.detail.indices);for(const Lt of Mt.target.options)Lt.selected=Ft.has(Lt.index);ht.setValue(bt,{value:At(!0)}),St=At(!1)},editable(Mt){Mt.target.disabled=!Mt.detail.editable}};this._dispatchEventFromSandbox(Pt,Rt)}),xt.addEventListener("input",Rt=>{var Ft;const Pt=At(!0),Mt=At(!1);ht.setValue(bt,{value:Pt}),Rt.preventDefault(),(Ft=this.linkService.eventBus)==null||Ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt,name:"Keystroke",value:St,change:Mt,changeEx:Pt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(xt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Rt=>Rt.target.value)):xt.addEventListener("input",function(Rt){ht.setValue(bt,{value:At(!0)})}),this.data.combo&&this._setTextStyle(xt),this._setBackgroundColor(xt),this._setDefaultPropertiesFromJS(xt),this.container.append(xt),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor(ht){const{data:bt,elements:_t}=ht;super(ht,{isRenderable:AnnotationElement._hasPopupData(bt)}),this.elements=_t,this.popup=null}render(){this.container.classList.add("popupAnnotation");const ht=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),bt=[];for(const _t of this.elements)_t.popup=ht,bt.push(_t.data.id),_t.addHighlightArea();return this.container.setAttribute("aria-controls",bt.map(_t=>`${AnnotationPrefix}${_t}`).join(",")),this.container}}var $m,c_,u_,Dm,Ap,js,nu,Sp,vv,yv,Om,ru,Vo,iu,bv,su,_v,Cp,Tp,Cs,xy,J_,iE,sE,aE,oE,Ey,wy,ex;class PopupElement{constructor({container:ht,color:bt,elements:_t,titleObj:xt,modificationDate:Et,contentsObj:wt,richText:At,parent:St,rect:kt,parentRect:Rt,open:Pt}){Qt(this,Cs);Qt(this,$m,Xt(this,Cs,aE).bind(this));Qt(this,c_,Xt(this,Cs,ex).bind(this));Qt(this,u_,Xt(this,Cs,wy).bind(this));Qt(this,Dm,Xt(this,Cs,Ey).bind(this));Qt(this,Ap,null);Qt(this,js,null);Qt(this,nu,null);Qt(this,Sp,null);Qt(this,vv,null);Qt(this,yv,null);Qt(this,Om,null);Qt(this,ru,!1);Qt(this,Vo,null);Qt(this,iu,null);Qt(this,bv,null);Qt(this,su,null);Qt(this,_v,null);Qt(this,Cp,null);Qt(this,Tp,!1);var Mt;qt(this,js,ht),qt(this,_v,xt),qt(this,nu,wt),qt(this,su,At),qt(this,yv,St),qt(this,Ap,bt),qt(this,bv,kt),qt(this,Om,Rt),qt(this,vv,_t),qt(this,Sp,PDFDateString.toDateObject(Et)),this.trigger=_t.flatMap(Ft=>Ft.getElementsToTriggerPopup());for(const Ft of this.trigger)Ft.addEventListener("click",Ct(this,Dm)),Ft.addEventListener("mouseenter",Ct(this,u_)),Ft.addEventListener("mouseleave",Ct(this,c_)),Ft.classList.add("popupTriggerArea");for(const Ft of _t)(Mt=Ft.container)==null||Mt.addEventListener("keydown",Ct(this,$m));Ct(this,js).hidden=!0,Pt&&Xt(this,Cs,Ey).call(this)}render(){if(Ct(this,Vo))return;const ht=qt(this,Vo,document.createElement("div"));if(ht.className="popup",Ct(this,Ap)){const Et=ht.style.outlineColor=Util.makeHexColor(...Ct(this,Ap));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?ht.style.backgroundColor=`color-mix(in srgb, ${Et} 30%, white)`:ht.style.backgroundColor=Util.makeHexColor(...Ct(this,Ap).map(At=>Math.floor(.7*(255-At)+At)))}const bt=document.createElement("span");bt.className="header";const _t=document.createElement("h1");if(bt.append(_t),{dir:_t.dir,str:_t.textContent}=Ct(this,_v),ht.append(bt),Ct(this,Sp)){const Et=document.createElement("span");Et.classList.add("popupDate"),Et.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),Et.setAttribute("data-l10n-args",JSON.stringify({date:Ct(this,Sp).toLocaleDateString(),time:Ct(this,Sp).toLocaleTimeString()})),bt.append(Et)}const xt=Ct(this,Cs,xy);if(xt)XfaLayer.render({xfaHtml:xt,intent:"richText",div:ht}),ht.lastChild.classList.add("richText","popupContent");else{const Et=this._formatContents(Ct(this,nu));ht.append(Et)}Ct(this,js).append(ht)}_formatContents({str:ht,dir:bt}){const _t=document.createElement("p");_t.classList.add("popupContent"),_t.dir=bt;const xt=ht.split(/(?:\r\n?|\n)/);for(let Et=0,wt=xt.length;Et<wt;++Et){const At=xt[Et];_t.append(document.createTextNode(At)),Et<wt-1&&_t.append(document.createElement("br"))}return _t}updateEdited({rect:ht,popupContent:bt}){var _t;Ct(this,Cp)||qt(this,Cp,{contentsObj:Ct(this,nu),richText:Ct(this,su)}),ht&&qt(this,iu,null),bt&&(qt(this,su,Xt(this,Cs,sE).call(this,bt)),qt(this,nu,null)),(_t=Ct(this,Vo))==null||_t.remove(),qt(this,Vo,null)}resetEdited(){var ht;Ct(this,Cp)&&({contentsObj:ba(this,nu)._,richText:ba(this,su)._}=Ct(this,Cp),qt(this,Cp,null),(ht=Ct(this,Vo))==null||ht.remove(),qt(this,Vo,null),qt(this,iu,null))}forceHide(){qt(this,Tp,this.isVisible),Ct(this,Tp)&&(Ct(this,js).hidden=!0)}maybeShow(){Ct(this,Tp)&&(Ct(this,Vo)||Xt(this,Cs,wy).call(this),qt(this,Tp,!1),Ct(this,js).hidden=!1)}get isVisible(){return Ct(this,js).hidden===!1}}$m=new WeakMap,c_=new WeakMap,u_=new WeakMap,Dm=new WeakMap,Ap=new WeakMap,js=new WeakMap,nu=new WeakMap,Sp=new WeakMap,vv=new WeakMap,yv=new WeakMap,Om=new WeakMap,ru=new WeakMap,Vo=new WeakMap,iu=new WeakMap,bv=new WeakMap,su=new WeakMap,_v=new WeakMap,Cp=new WeakMap,Tp=new WeakMap,Cs=new WeakSet,xy=function(){const ht=Ct(this,su),bt=Ct(this,nu);return ht!=null&&ht.str&&(!(bt!=null&&bt.str)||bt.str===ht.str)&&Ct(this,su).html||null},J_=function(){var ht,bt,_t;return((_t=(bt=(ht=Ct(this,Cs,xy))==null?void 0:ht.attributes)==null?void 0:bt.style)==null?void 0:_t.fontSize)||0},iE=function(){var ht,bt,_t;return((_t=(bt=(ht=Ct(this,Cs,xy))==null?void 0:ht.attributes)==null?void 0:bt.style)==null?void 0:_t.color)||null},sE=function(ht){const bt=[],_t={str:ht,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:bt}]}},xt={style:{color:Ct(this,Cs,iE),fontSize:Ct(this,Cs,J_)?`calc(${Ct(this,Cs,J_)}px * var(--scale-factor))`:""}};for(const Et of ht.split(`
`))bt.push({name:"span",value:Et,attributes:xt});return _t},aE=function(ht){ht.altKey||ht.shiftKey||ht.ctrlKey||ht.metaKey||(ht.key==="Enter"||ht.key==="Escape"&&Ct(this,ru))&&Xt(this,Cs,Ey).call(this)},oE=function(){if(Ct(this,iu)!==null)return;const{page:{view:ht},viewport:{rawDims:{pageWidth:bt,pageHeight:_t,pageX:xt,pageY:Et}}}=Ct(this,yv);let wt=!!Ct(this,Om),At=wt?Ct(this,Om):Ct(this,bv);for(const Lt of Ct(this,vv))if(!At||Util.intersect(Lt.data.rect,At)!==null){At=Lt.data.rect,wt=!0;break}const St=Util.normalizeRect([At[0],ht[3]-At[1]+ht[1],At[2],ht[3]-At[3]+ht[1]]),Rt=wt?At[2]-At[0]+5:0,Pt=St[0]+Rt,Mt=St[1];qt(this,iu,[100*(Pt-xt)/bt,100*(Mt-Et)/_t]);const{style:Ft}=Ct(this,js);Ft.left=`${Ct(this,iu)[0]}%`,Ft.top=`${Ct(this,iu)[1]}%`},Ey=function(){qt(this,ru,!Ct(this,ru)),Ct(this,ru)?(Xt(this,Cs,wy).call(this),Ct(this,js).addEventListener("click",Ct(this,Dm)),Ct(this,js).addEventListener("keydown",Ct(this,$m))):(Xt(this,Cs,ex).call(this),Ct(this,js).removeEventListener("click",Ct(this,Dm)),Ct(this,js).removeEventListener("keydown",Ct(this,$m)))},wy=function(){Ct(this,Vo)||this.render(),this.isVisible?Ct(this,ru)&&Ct(this,js).classList.add("focused"):(Xt(this,Cs,oE).call(this),Ct(this,js).hidden=!1,Ct(this,js).style.zIndex=parseInt(Ct(this,js).style.zIndex)+1e3)},ex=function(){Ct(this,js).classList.remove("focused"),!(Ct(this,ru)||!this.isVisible)&&(Ct(this,js).hidden=!0,Ct(this,js).style.zIndex=parseInt(Ct(this,js).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0}),this.textContent=ht.data.textContent,this.textPosition=ht.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const ht=document.createElement("div");ht.classList.add("annotationTextContent"),ht.setAttribute("role","comment");for(const bt of this.textContent){const _t=document.createElement("span");_t.textContent=bt,ht.append(_t)}this.container.append(ht)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var xv;class LineAnnotationElement extends AnnotationElement{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});Qt(this,xv,null)}render(){this.container.classList.add("lineAnnotation");const bt=this.data,{width:_t,height:xt}=getRectDims(bt.rect),Et=this.svgFactory.create(_t,xt,!0),wt=qt(this,xv,this.svgFactory.createElement("svg:line"));return wt.setAttribute("x1",bt.rect[2]-bt.lineCoordinates[0]),wt.setAttribute("y1",bt.rect[3]-bt.lineCoordinates[1]),wt.setAttribute("x2",bt.rect[2]-bt.lineCoordinates[2]),wt.setAttribute("y2",bt.rect[3]-bt.lineCoordinates[3]),wt.setAttribute("stroke-width",bt.borderStyle.width||1),wt.setAttribute("stroke","transparent"),wt.setAttribute("fill","transparent"),Et.append(wt),this.container.append(Et),!bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,xv)}addHighlightArea(){this.container.classList.add("highlightArea")}}xv=new WeakMap;var Ev;class SquareAnnotationElement extends AnnotationElement{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});Qt(this,Ev,null)}render(){this.container.classList.add("squareAnnotation");const bt=this.data,{width:_t,height:xt}=getRectDims(bt.rect),Et=this.svgFactory.create(_t,xt,!0),wt=bt.borderStyle.width,At=qt(this,Ev,this.svgFactory.createElement("svg:rect"));return At.setAttribute("x",wt/2),At.setAttribute("y",wt/2),At.setAttribute("width",_t-wt),At.setAttribute("height",xt-wt),At.setAttribute("stroke-width",wt||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),Et.append(At),this.container.append(Et),!bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,Ev)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ev=new WeakMap;var wv;class CircleAnnotationElement extends AnnotationElement{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});Qt(this,wv,null)}render(){this.container.classList.add("circleAnnotation");const bt=this.data,{width:_t,height:xt}=getRectDims(bt.rect),Et=this.svgFactory.create(_t,xt,!0),wt=bt.borderStyle.width,At=qt(this,wv,this.svgFactory.createElement("svg:ellipse"));return At.setAttribute("cx",_t/2),At.setAttribute("cy",xt/2),At.setAttribute("rx",_t/2-wt/2),At.setAttribute("ry",xt/2-wt/2),At.setAttribute("stroke-width",wt||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),Et.append(At),this.container.append(Et),!bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,wv)}addHighlightArea(){this.container.classList.add("highlightArea")}}wv=new WeakMap;var Av;class PolylineAnnotationElement extends AnnotationElement{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});Qt(this,Av,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const bt=this.data,{width:_t,height:xt}=getRectDims(bt.rect),Et=this.svgFactory.create(_t,xt,!0);let wt=[];for(const St of bt.vertices){const kt=St.x-bt.rect[0],Rt=bt.rect[3]-St.y;wt.push(kt+","+Rt)}wt=wt.join(" ");const At=qt(this,Av,this.svgFactory.createElement(this.svgElementName));return At.setAttribute("points",wt),At.setAttribute("stroke-width",bt.borderStyle.width||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),Et.append(At),this.container.append(Et),!bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,Av)}addHighlightArea(){this.container.classList.add("highlightArea")}}Av=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(ht){super(ht),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Sv;class InkAnnotationElement extends AnnotationElement{constructor(bt){super(bt,{isRenderable:!0,ignoreBorder:!0});Qt(this,Sv,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const bt=this.data,{width:_t,height:xt}=getRectDims(bt.rect),Et=this.svgFactory.create(_t,xt,!0);for(const wt of bt.inkLists){let At=[];for(const kt of wt){const Rt=kt.x-bt.rect[0],Pt=bt.rect[3]-kt.y;At.push(`${Rt},${Pt}`)}At=At.join(" ");const St=this.svgFactory.createElement(this.svgElementName);Ct(this,Sv).push(St),St.setAttribute("points",At),St.setAttribute("stroke-width",bt.borderStyle.width||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),!bt.popupRef&&this.hasPopupData&&this._createPopup(),Et.append(St)}return this.container.append(Et),this.container}getElementsToTriggerPopup(){return Ct(this,Sv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sv=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Cv,Tv,tx;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(bt){var xt;super(bt,{isRenderable:!0});Qt(this,Tv);Qt(this,Cv,null);const{file:_t}=this.data;this.filename=_t.filename,this.content=_t.content,(xt=this.linkService.eventBus)==null||xt.dispatch("fileattachmentannotation",{source:this,..._t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:bt,data:_t}=this;let xt;_t.hasAppearance||_t.fillAlpha===0?xt=document.createElement("div"):(xt=document.createElement("img"),xt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(_t.name)?"paperclip":"pushpin"}.svg`,_t.fillAlpha&&_t.fillAlpha<1&&(xt.style=`filter: opacity(${Math.round(_t.fillAlpha*100)}%);`)),xt.addEventListener("dblclick",Xt(this,Tv,tx).bind(this)),qt(this,Cv,xt);const{isMac:Et}=util_FeatureTest.platform;return bt.addEventListener("keydown",wt=>{wt.key==="Enter"&&(Et?wt.metaKey:wt.ctrlKey)&&Xt(this,Tv,tx).call(this)}),!_t.popupRef&&this.hasPopupData?this._createPopup():xt.classList.add("popupTriggerArea"),bt.append(xt),bt}getElementsToTriggerPopup(){return Ct(this,Cv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cv=new WeakMap,Tv=new WeakSet,tx=function(){var bt;(bt=this.downloadManager)==null||bt.openOrDownloadData(this.content,this.filename)};var Rv,Rp,Im,Xp,lE,nx;class AnnotationLayer{constructor({div:ht,accessibilityManager:bt,annotationCanvasMap:_t,annotationEditorUIManager:xt,page:Et,viewport:wt}){Qt(this,Xp);Qt(this,Rv,null);Qt(this,Rp,null);Qt(this,Im,new Map);this.div=ht,qt(this,Rv,bt),qt(this,Rp,_t),this.page=Et,this.viewport=wt,this.zIndex=0,this._annotationEditorUIManager=xt}async render(ht){var wt;const{annotations:bt}=ht,_t=this.div;setLayerDimensions(_t,this.viewport);const xt=new Map,Et={data:null,layer:_t,linkService:ht.linkService,downloadManager:ht.downloadManager,imageResourcesPath:ht.imageResourcesPath||"",renderForms:ht.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:ht.annotationStorage||new AnnotationStorage,enableScripting:ht.enableScripting===!0,hasJSActions:ht.hasJSActions,fieldObjects:ht.fieldObjects,parent:this,elements:null};for(const At of bt){if(At.noHTML)continue;const St=At.annotationType===AnnotationType.POPUP;if(St){const Pt=xt.get(At.id);if(!Pt)continue;Et.elements=Pt}else{const{width:Pt,height:Mt}=getRectDims(At.rect);if(Pt<=0||Mt<=0)continue}Et.data=At;const kt=AnnotationElementFactory.create(Et);if(!kt.isRenderable)continue;if(!St&&At.popupRef){const Pt=xt.get(At.popupRef);Pt?Pt.push(kt):xt.set(At.popupRef,[kt])}const Rt=kt.render();At.hidden&&(Rt.style.visibility="hidden"),Xt(this,Xp,lE).call(this,Rt,At.id),kt.annotationEditorType>0&&(Ct(this,Im).set(kt.data.id,kt),(wt=this._annotationEditorUIManager)==null||wt.renderAnnotationElement(kt))}Xt(this,Xp,nx).call(this)}update({viewport:ht}){const bt=this.div;this.viewport=ht,setLayerDimensions(bt,{rotation:ht.rotation}),Xt(this,Xp,nx).call(this),bt.hidden=!1}getEditableAnnotations(){return Array.from(Ct(this,Im).values())}getEditableAnnotation(ht){return Ct(this,Im).get(ht)}}Rv=new WeakMap,Rp=new WeakMap,Im=new WeakMap,Xp=new WeakSet,lE=function(ht,bt){var xt;const _t=ht.firstChild||ht;_t.id=`${AnnotationPrefix}${bt}`,this.div.append(ht),(xt=Ct(this,Rv))==null||xt.moveElementInDOM(this.div,ht,_t,!1)},nx=function(){if(!Ct(this,Rp))return;const ht=this.div;for(const[bt,_t]of Ct(this,Rp)){const xt=ht.querySelector(`[data-annotation-id="${bt}"]`);if(!xt)continue;_t.className="annotationContent";const{firstChild:Et}=xt;Et?Et.nodeName==="CANVAS"?Et.replaceWith(_t):Et.classList.contains("annotationContent")?Et.after(_t):Et.before(_t):xt.append(_t)}Ct(this,Rp).clear()};const EOL_PATTERN=/\r\n?|\n/g;var kv,Pv,Mv,Fv,Lv,Wo,Eo,$v,wo,Nm,Ws,cE,uE,dE,Ay,pu,Sy,Cy,hE,rx,fE;const Ms=class Ms extends AnnotationEditor{constructor(bt){super({...bt,name:"freeTextEditor"});Qt(this,Ws);Qt(this,kv,this.editorDivBlur.bind(this));Qt(this,Pv,this.editorDivFocus.bind(this));Qt(this,Mv,this.editorDivInput.bind(this));Qt(this,Fv,this.editorDivKeydown.bind(this));Qt(this,Lv,this.editorDivPaste.bind(this));Qt(this,Wo);Qt(this,Eo,"");Qt(this,$v,`${this.id}-editor`);Qt(this,wo);Qt(this,Nm,null);qt(this,Wo,bt.color||Ms._defaultColor||AnnotationEditor._defaultLineColor),qt(this,wo,bt.fontSize||Ms._defaultFontSize)}static get _keyboardManager(){const bt=Ms.prototype,_t=wt=>wt.isEmpty(),xt=AnnotationEditorUIManager.TRANSLATE_SMALL,Et=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],bt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],bt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],bt._translateEmpty,{args:[-xt,0],checker:_t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],bt._translateEmpty,{args:[-Et,0],checker:_t}],[["ArrowRight","mac+ArrowRight"],bt._translateEmpty,{args:[xt,0],checker:_t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],bt._translateEmpty,{args:[Et,0],checker:_t}],[["ArrowUp","mac+ArrowUp"],bt._translateEmpty,{args:[0,-xt],checker:_t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],bt._translateEmpty,{args:[0,-Et],checker:_t}],[["ArrowDown","mac+ArrowDown"],bt._translateEmpty,{args:[0,xt],checker:_t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],bt._translateEmpty,{args:[0,Et],checker:_t}]]))}static initialize(bt,_t){AnnotationEditor.initialize(bt,_t,{strings:["pdfjs-free-text-default-content"]});const xt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(xt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(bt,_t){switch(bt){case AnnotationEditorParamsType.FREETEXT_SIZE:Ms._defaultFontSize=_t;break;case AnnotationEditorParamsType.FREETEXT_COLOR:Ms._defaultColor=_t;break}}updateParams(bt,_t){switch(bt){case AnnotationEditorParamsType.FREETEXT_SIZE:Xt(this,Ws,cE).call(this,_t);break;case AnnotationEditorParamsType.FREETEXT_COLOR:Xt(this,Ws,uE).call(this,_t);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Ms._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,Ms._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Ct(this,wo)],[AnnotationEditorParamsType.FREETEXT_COLOR,Ct(this,Wo)]]}_translateEmpty(bt,_t){this._uiManager.translateSelectedEditors(bt,_t,!0)}getInitialTranslation(){const bt=this.parentScale;return[-Ms._internalPadding*bt,-(Ms._internalPadding+Ct(this,wo))*bt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Ct(this,Fv)),this.editorDiv.addEventListener("focus",Ct(this,Pv)),this.editorDiv.addEventListener("blur",Ct(this,kv)),this.editorDiv.addEventListener("input",Ct(this,Mv)),this.editorDiv.addEventListener("paste",Ct(this,Lv)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Ct(this,$v)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Ct(this,Fv)),this.editorDiv.removeEventListener("focus",Ct(this,Pv)),this.editorDiv.removeEventListener("blur",Ct(this,kv)),this.editorDiv.removeEventListener("input",Ct(this,Mv)),this.editorDiv.removeEventListener("paste",Ct(this,Lv)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(bt){this._focusEventsAllowed&&(super.focusin(bt),bt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var bt;this.width||(this.enableEditMode(),this.editorDiv.focus(),(bt=this._initialOptions)!=null&&bt.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const bt=Ct(this,Eo),_t=qt(this,Eo,Xt(this,Ws,dE).call(this).trimEnd());if(bt===_t)return;const xt=Et=>{if(qt(this,Eo,Et),!Et){this.remove();return}Xt(this,Ws,Cy).call(this),this._uiManager.rebuild(this),Xt(this,Ws,Ay).call(this)};this.addCommands({cmd:()=>{xt(_t)},undo:()=>{xt(bt)},mustExec:!1}),Xt(this,Ws,Ay).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(bt){this.enterInEditMode()}keydown(bt){bt.target===this.div&&bt.key==="Enter"&&(this.enterInEditMode(),bt.preventDefault())}editorDivKeydown(bt){Ms._keyboardManager.exec(this,bt)}editorDivFocus(bt){this.isEditing=!0}editorDivBlur(bt){this.isEditing=!1}editorDivInput(bt){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let bt,_t;this.width&&(bt=this.x,_t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Ct(this,$v)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(Et=>{var wt;return(wt=this.editorDiv)==null?void 0:wt.setAttribute("default-content",Et)}),this.editorDiv.contentEditable=!0;const{style:xt}=this.editorDiv;if(xt.fontSize=`calc(${Ct(this,wo)}px * var(--scale-factor))`,xt.color=Ct(this,Wo),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[Et,wt]=this.parentDimensions;if(this.annotationElementId){const{position:At}=Ct(this,Nm);let[St,kt]=this.getInitialTranslation();[St,kt]=this.pageTranslationToScreen(St,kt);const[Rt,Pt]=this.pageDimensions,[Mt,Ft]=this.pageTranslation;let Lt,Dt;switch(this.rotation){case 0:Lt=bt+(At[0]-Mt)/Rt,Dt=_t+this.height-(At[1]-Ft)/Pt;break;case 90:Lt=bt+(At[0]-Mt)/Rt,Dt=_t-(At[1]-Ft)/Pt,[St,kt]=[kt,-St];break;case 180:Lt=bt-this.width+(At[0]-Mt)/Rt,Dt=_t-(At[1]-Ft)/Pt,[St,kt]=[-St,-kt];break;case 270:Lt=bt+(At[0]-Mt-this.height*Pt)/Rt,Dt=_t+(At[1]-Ft-this.width*Rt)/Pt,[St,kt]=[-kt,St];break}this.setAt(Lt*Et,Dt*wt,St,kt)}else this.setAt(bt*Et,_t*wt,this.width*Et,this.height*wt);Xt(this,Ws,Cy).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(bt){var Lt,Dt,Nt;const _t=bt.clipboardData||window.clipboardData,{types:xt}=_t;if(xt.length===1&&xt[0]==="text/plain")return;bt.preventDefault();const Et=Xt(Lt=Ms,pu,rx).call(Lt,_t.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!Et)return;const wt=window.getSelection();if(!wt.rangeCount)return;this.editorDiv.normalize(),wt.deleteFromDocument();const At=wt.getRangeAt(0);if(!Et.includes(`
`)){At.insertNode(document.createTextNode(Et)),this.editorDiv.normalize(),wt.collapseToStart();return}const{startContainer:St,startOffset:kt}=At,Rt=[],Pt=[];if(St.nodeType===Node.TEXT_NODE){const $t=St.parentElement;if(Pt.push(St.nodeValue.slice(kt).replaceAll(EOL_PATTERN,"")),$t!==this.editorDiv){let Ot=Rt;for(const jt of this.editorDiv.childNodes){if(jt===$t){Ot=Pt;continue}Ot.push(Xt(Dt=Ms,pu,Sy).call(Dt,jt))}}Rt.push(St.nodeValue.slice(0,kt).replaceAll(EOL_PATTERN,""))}else if(St===this.editorDiv){let $t=Rt,Ot=0;for(const jt of this.editorDiv.childNodes)Ot++===kt&&($t=Pt),$t.push(Xt(Nt=Ms,pu,Sy).call(Nt,jt))}qt(this,Eo,`${Rt.join(`
`)}${Et}${Pt.join(`
`)}`),Xt(this,Ws,Cy).call(this);const Mt=new Range;let Ft=Rt.reduce(($t,Ot)=>$t+Ot.length,0);for(const{firstChild:$t}of this.editorDiv.childNodes)if($t.nodeType===Node.TEXT_NODE){const Ot=$t.nodeValue.length;if(Ft<=Ot){Mt.setStart($t,Ft),Mt.setEnd($t,Ft);break}Ft-=Ot}wt.removeAllRanges(),wt.addRange(Mt)}get contentDiv(){return this.editorDiv}static deserialize(bt,_t,xt){var At;let Et=null;if(bt instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:St,fontColor:kt},rect:Rt,rotation:Pt,id:Mt},textContent:Ft,textPosition:Lt,parent:{page:{pageNumber:Dt}}}=bt;if(!Ft||Ft.length===0)return null;Et=bt={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(kt),fontSize:St,value:Ft.join(`
`),position:Lt,pageIndex:Dt-1,rect:Rt.slice(0),rotation:Pt,id:Mt,deleted:!1}}const wt=super.deserialize(bt,_t,xt);return qt(wt,wo,bt.fontSize),qt(wt,Wo,Util.makeHexColor(...bt.color)),qt(wt,Eo,Xt(At=Ms,pu,rx).call(At,bt.value)),wt.annotationElementId=bt.id||null,qt(wt,Nm,Et),wt}serialize(bt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const _t=Ms._internalPadding*this.parentScale,xt=this.getRect(_t,_t),Et=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Ct(this,Wo)),wt={annotationType:AnnotationEditorType.FREETEXT,color:Et,fontSize:Ct(this,wo),value:Xt(this,Ws,hE).call(this),pageIndex:this.pageIndex,rect:xt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return bt?wt:this.annotationElementId&&!Xt(this,Ws,fE).call(this,wt)?null:(wt.id=this.annotationElementId,wt)}renderAnnotationElement(bt){const _t=super.renderAnnotationElement(bt);if(this.deleted)return _t;const{style:xt}=_t;xt.fontSize=`calc(${Ct(this,wo)}px * var(--scale-factor))`,xt.color=Ct(this,Wo),_t.replaceChildren();for(const wt of Ct(this,Eo).split(`
`)){const At=document.createElement("div");At.append(wt?document.createTextNode(wt):document.createElement("br")),_t.append(At)}const Et=Ms._internalPadding*this.parentScale;return bt.updateEdited({rect:this.getRect(Et,Et),popupContent:Ct(this,Eo)}),_t}resetAnnotationElement(bt){super.resetAnnotationElement(bt),bt.resetEdited()}};kv=new WeakMap,Pv=new WeakMap,Mv=new WeakMap,Fv=new WeakMap,Lv=new WeakMap,Wo=new WeakMap,Eo=new WeakMap,$v=new WeakMap,wo=new WeakMap,Nm=new WeakMap,Ws=new WeakSet,cE=function(bt){const _t=Et=>{this.editorDiv.style.fontSize=`calc(${Et}px * var(--scale-factor))`,this.translate(0,-(Et-Ct(this,wo))*this.parentScale),qt(this,wo,Et),Xt(this,Ws,Ay).call(this)},xt=Ct(this,wo);this.addCommands({cmd:_t.bind(this,bt),undo:_t.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},uE=function(bt){const _t=Et=>{qt(this,Wo,this.editorDiv.style.color=Et)},xt=Ct(this,Wo);this.addCommands({cmd:_t.bind(this,bt),undo:_t.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},dE=function(){var _t;const bt=[];this.editorDiv.normalize();for(const xt of this.editorDiv.childNodes)bt.push(Xt(_t=Ms,pu,Sy).call(_t,xt));return bt.join(`
`)},Ay=function(){const[bt,_t]=this.parentDimensions;let xt;if(this.isAttachedToDOM)xt=this.div.getBoundingClientRect();else{const{currentLayer:Et,div:wt}=this,At=wt.style.display,St=wt.classList.contains("hidden");wt.classList.remove("hidden"),wt.style.display="hidden",Et.div.append(this.div),xt=wt.getBoundingClientRect(),wt.remove(),wt.style.display=At,wt.classList.toggle("hidden",St)}this.rotation%180===this.parentRotation%180?(this.width=xt.width/bt,this.height=xt.height/_t):(this.width=xt.height/bt,this.height=xt.width/_t),this.fixAndSetPosition()},pu=new WeakSet,Sy=function(bt){return(bt.nodeType===Node.TEXT_NODE?bt.nodeValue:bt.innerText).replaceAll(EOL_PATTERN,"")},Cy=function(){if(this.editorDiv.replaceChildren(),!!Ct(this,Eo))for(const bt of Ct(this,Eo).split(`
`)){const _t=document.createElement("div");_t.append(bt?document.createTextNode(bt):document.createElement("br")),this.editorDiv.append(_t)}},hE=function(){return Ct(this,Eo).replaceAll(""," ")},rx=function(bt){return bt.replaceAll(" ","")},fE=function(bt){const{value:_t,fontSize:xt,color:Et,pageIndex:wt}=Ct(this,Nm);return this._hasBeenMoved||bt.value!==_t||bt.fontSize!==xt||bt.color.some((At,St)=>At!==Et[St])||bt.pageIndex!==wt},Qt(Ms,pu),Tr(Ms,"_freeTextDefaultContent",""),Tr(Ms,"_internalPadding",0),Tr(Ms,"_defaultColor",null),Tr(Ms,"_defaultFontSize",10),Tr(Ms,"_type","freetext"),Tr(Ms,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=Ms;var Dv,$u,Go,fo,pE,Ty,gE,mE,ix;class Outliner{constructor(ht,bt=0,_t=0,xt=!0){Qt(this,fo);Qt(this,Dv);Qt(this,$u,[]);Qt(this,Go,[]);let Et=1/0,wt=-1/0,At=1/0,St=-1/0;const Rt=10**-4;for(const{x:$t,y:Ot,width:jt,height:Ut}of ht){const Bt=Math.floor(($t-bt)/Rt)*Rt,Vt=Math.ceil(($t+jt+bt)/Rt)*Rt,zt=Math.floor((Ot-bt)/Rt)*Rt,Gt=Math.ceil((Ot+Ut+bt)/Rt)*Rt,en=[Bt,zt,Gt,!0],ln=[Vt,zt,Gt,!1];Ct(this,$u).push(en,ln),Et=Math.min(Et,Bt),wt=Math.max(wt,Vt),At=Math.min(At,zt),St=Math.max(St,Gt)}const Pt=wt-Et+2*_t,Mt=St-At+2*_t,Ft=Et-_t,Lt=At-_t,Dt=Ct(this,$u).at(xt?-1:-2),Nt=[Dt[0],Dt[2]];for(const $t of Ct(this,$u)){const[Ot,jt,Ut]=$t;$t[0]=(Ot-Ft)/Pt,$t[1]=(jt-Lt)/Mt,$t[2]=(Ut-Lt)/Mt}qt(this,Dv,{x:Ft,y:Lt,width:Pt,height:Mt,lastPoint:Nt})}getOutlines(){Ct(this,$u).sort((bt,_t)=>bt[0]-_t[0]||bt[1]-_t[1]||bt[2]-_t[2]);const ht=[];for(const bt of Ct(this,$u))bt[3]?(ht.push(...Xt(this,fo,ix).call(this,bt)),Xt(this,fo,gE).call(this,bt)):(Xt(this,fo,mE).call(this,bt),ht.push(...Xt(this,fo,ix).call(this,bt)));return Xt(this,fo,pE).call(this,ht)}}Dv=new WeakMap,$u=new WeakMap,Go=new WeakMap,fo=new WeakSet,pE=function(ht){const bt=[],_t=new Set;for(const wt of ht){const[At,St,kt]=wt;bt.push([At,St,wt],[At,kt,wt])}bt.sort((wt,At)=>wt[1]-At[1]||wt[0]-At[0]);for(let wt=0,At=bt.length;wt<At;wt+=2){const St=bt[wt][2],kt=bt[wt+1][2];St.push(kt),kt.push(St),_t.add(St),_t.add(kt)}const xt=[];let Et;for(;_t.size>0;){const wt=_t.values().next().value;let[At,St,kt,Rt,Pt]=wt;_t.delete(wt);let Mt=At,Ft=St;for(Et=[At,kt],xt.push(Et);;){let Lt;if(_t.has(Rt))Lt=Rt;else if(_t.has(Pt))Lt=Pt;else break;_t.delete(Lt),[At,St,kt,Rt,Pt]=Lt,Mt!==At&&(Et.push(Mt,Ft,At,Ft===St?St:kt),Mt=At),Ft=Ft===St?kt:St}Et.push(Mt,Ft)}return new HighlightOutline(xt,Ct(this,Dv))},Ty=function(ht){const bt=Ct(this,Go);let _t=0,xt=bt.length-1;for(;_t<=xt;){const Et=_t+xt>>1,wt=bt[Et][0];if(wt===ht)return Et;wt<ht?_t=Et+1:xt=Et-1}return xt+1},gE=function([,ht,bt]){const _t=Xt(this,fo,Ty).call(this,ht);Ct(this,Go).splice(_t,0,[ht,bt])},mE=function([,ht,bt]){const _t=Xt(this,fo,Ty).call(this,ht);for(let xt=_t;xt<Ct(this,Go).length;xt++){const[Et,wt]=Ct(this,Go)[xt];if(Et!==ht)break;if(Et===ht&&wt===bt){Ct(this,Go).splice(xt,1);return}}for(let xt=_t-1;xt>=0;xt--){const[Et,wt]=Ct(this,Go)[xt];if(Et!==ht)break;if(Et===ht&&wt===bt){Ct(this,Go).splice(xt,1);return}}},ix=function(ht){const[bt,_t,xt]=ht,Et=[[bt,_t,xt]],wt=Xt(this,fo,Ty).call(this,xt);for(let At=0;At<wt;At++){const[St,kt]=Ct(this,Go)[At];for(let Rt=0,Pt=Et.length;Rt<Pt;Rt++){const[,Mt,Ft]=Et[Rt];if(!(kt<=Mt||Ft<=St)){if(Mt>=St){if(Ft>kt)Et[Rt][1]=kt;else{if(Pt===1)return[];Et.splice(Rt,1),Rt--,Pt--}continue}Et[Rt][2]=St,Ft>kt&&Et.push([bt,kt,Ft])}}}return Et};class Outline{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(ht,bt){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof FreeHighlightOutline}}var Ov,jm;class HighlightOutline extends Outline{constructor(bt,_t){super();Qt(this,Ov);Qt(this,jm);qt(this,jm,bt),qt(this,Ov,_t)}toSVGPath(){const bt=[];for(const _t of Ct(this,jm)){let[xt,Et]=_t;bt.push(`M${xt} ${Et}`);for(let wt=2;wt<_t.length;wt+=2){const At=_t[wt],St=_t[wt+1];At===xt?(bt.push(`V${St}`),Et=St):St===Et&&(bt.push(`H${At}`),xt=At)}bt.push("Z")}return bt.join(" ")}serialize([bt,_t,xt,Et],wt){const At=[],St=xt-bt,kt=Et-_t;for(const Rt of Ct(this,jm)){const Pt=new Array(Rt.length);for(let Mt=0;Mt<Rt.length;Mt+=2)Pt[Mt]=bt+Rt[Mt]*St,Pt[Mt+1]=Et-Rt[Mt+1]*kt;At.push(Pt)}return At}get box(){return Ct(this,Ov)}}Ov=new WeakMap,jm=new WeakMap;var Tl,au,Bm,Um,Rl,ds,kp,Pp,Iv,Nv,Hm,zm,Du,jv,d_,h_,Bv,sx;const Ul=class Ul{constructor({x:ht,y:bt},_t,xt,Et,wt,At=0){Qt(this,Bv);Qt(this,Tl);Qt(this,au,[]);Qt(this,Bm);Qt(this,Um);Qt(this,Rl,[]);Qt(this,ds,new Float64Array(18));Qt(this,kp);Qt(this,Pp);Qt(this,Iv);Qt(this,Nv);Qt(this,Hm);Qt(this,zm);Qt(this,Du,[]);qt(this,Tl,_t),qt(this,zm,Et*xt),qt(this,Um,wt),Ct(this,ds).set([NaN,NaN,NaN,NaN,ht,bt],6),qt(this,Bm,At),qt(this,Nv,Ct(Ul,jv)*xt),qt(this,Iv,Ct(Ul,h_)*xt),qt(this,Hm,xt),Ct(this,Du).push(ht,bt)}get free(){return!0}isEmpty(){return isNaN(Ct(this,ds)[8])}add({x:ht,y:bt}){var en;qt(this,kp,ht),qt(this,Pp,bt);const[_t,xt,Et,wt]=Ct(this,Tl);let[At,St,kt,Rt]=Ct(this,ds).subarray(8,12);const Pt=ht-kt,Mt=bt-Rt,Ft=Math.hypot(Pt,Mt);if(Ft<Ct(this,Iv))return!1;const Lt=Ft-Ct(this,Nv),Dt=Lt/Ft,Nt=Dt*Pt,$t=Dt*Mt;let Ot=At,jt=St;At=kt,St=Rt,kt+=Nt,Rt+=$t,(en=Ct(this,Du))==null||en.push(ht,bt);const Ut=-$t/Lt,Bt=Nt/Lt,Vt=Ut*Ct(this,zm),zt=Bt*Ct(this,zm);return Ct(this,ds).set(Ct(this,ds).subarray(2,8),0),Ct(this,ds).set([kt+Vt,Rt+zt],4),Ct(this,ds).set(Ct(this,ds).subarray(14,18),12),Ct(this,ds).set([kt-Vt,Rt-zt],16),isNaN(Ct(this,ds)[6])?(Ct(this,Rl).length===0&&(Ct(this,ds).set([At+Vt,St+zt],2),Ct(this,Rl).push(NaN,NaN,NaN,NaN,(At+Vt-_t)/Et,(St+zt-xt)/wt),Ct(this,ds).set([At-Vt,St-zt],14),Ct(this,au).push(NaN,NaN,NaN,NaN,(At-Vt-_t)/Et,(St-zt-xt)/wt)),Ct(this,ds).set([Ot,jt,At,St,kt,Rt],6),!this.isEmpty()):(Ct(this,ds).set([Ot,jt,At,St,kt,Rt],6),Math.abs(Math.atan2(jt-St,Ot-At)-Math.atan2($t,Nt))<Math.PI/2?([At,St,kt,Rt]=Ct(this,ds).subarray(2,6),Ct(this,Rl).push(NaN,NaN,NaN,NaN,((At+kt)/2-_t)/Et,((St+Rt)/2-xt)/wt),[At,St,Ot,jt]=Ct(this,ds).subarray(14,18),Ct(this,au).push(NaN,NaN,NaN,NaN,((Ot+At)/2-_t)/Et,((jt+St)/2-xt)/wt),!0):([Ot,jt,At,St,kt,Rt]=Ct(this,ds).subarray(0,6),Ct(this,Rl).push(((Ot+5*At)/6-_t)/Et,((jt+5*St)/6-xt)/wt,((5*At+kt)/6-_t)/Et,((5*St+Rt)/6-xt)/wt,((At+kt)/2-_t)/Et,((St+Rt)/2-xt)/wt),[kt,Rt,At,St,Ot,jt]=Ct(this,ds).subarray(12,18),Ct(this,au).push(((Ot+5*At)/6-_t)/Et,((jt+5*St)/6-xt)/wt,((5*At+kt)/6-_t)/Et,((5*St+Rt)/6-xt)/wt,((At+kt)/2-_t)/Et,((St+Rt)/2-xt)/wt),!0))}toSVGPath(){if(this.isEmpty())return"";const ht=Ct(this,Rl),bt=Ct(this,au),_t=Ct(this,ds).subarray(4,6),xt=Ct(this,ds).subarray(16,18),[Et,wt,At,St]=Ct(this,Tl),[kt,Rt,Pt,Mt]=Xt(this,Bv,sx).call(this);if(isNaN(Ct(this,ds)[6])&&!this.isEmpty())return`M${(Ct(this,ds)[2]-Et)/At} ${(Ct(this,ds)[3]-wt)/St} L${(Ct(this,ds)[4]-Et)/At} ${(Ct(this,ds)[5]-wt)/St} L${kt} ${Rt} L${Pt} ${Mt} L${(Ct(this,ds)[16]-Et)/At} ${(Ct(this,ds)[17]-wt)/St} L${(Ct(this,ds)[14]-Et)/At} ${(Ct(this,ds)[15]-wt)/St} Z`;const Ft=[];Ft.push(`M${ht[4]} ${ht[5]}`);for(let Lt=6;Lt<ht.length;Lt+=6)isNaN(ht[Lt])?Ft.push(`L${ht[Lt+4]} ${ht[Lt+5]}`):Ft.push(`C${ht[Lt]} ${ht[Lt+1]} ${ht[Lt+2]} ${ht[Lt+3]} ${ht[Lt+4]} ${ht[Lt+5]}`);Ft.push(`L${(_t[0]-Et)/At} ${(_t[1]-wt)/St} L${kt} ${Rt} L${Pt} ${Mt} L${(xt[0]-Et)/At} ${(xt[1]-wt)/St}`);for(let Lt=bt.length-6;Lt>=6;Lt-=6)isNaN(bt[Lt])?Ft.push(`L${bt[Lt+4]} ${bt[Lt+5]}`):Ft.push(`C${bt[Lt]} ${bt[Lt+1]} ${bt[Lt+2]} ${bt[Lt+3]} ${bt[Lt+4]} ${bt[Lt+5]}`);return Ft.push(`L${bt[4]} ${bt[5]} Z`),Ft.join(" ")}getOutlines(){var $t;const ht=Ct(this,Rl),bt=Ct(this,au),_t=Ct(this,ds),xt=_t.subarray(4,6),Et=_t.subarray(16,18),[wt,At,St,kt]=Ct(this,Tl),Rt=new Float64Array(((($t=Ct(this,Du))==null?void 0:$t.length)??0)+2);for(let Ot=0,jt=Rt.length-2;Ot<jt;Ot+=2)Rt[Ot]=(Ct(this,Du)[Ot]-wt)/St,Rt[Ot+1]=(Ct(this,Du)[Ot+1]-At)/kt;Rt[Rt.length-2]=(Ct(this,kp)-wt)/St,Rt[Rt.length-1]=(Ct(this,Pp)-At)/kt;const[Pt,Mt,Ft,Lt]=Xt(this,Bv,sx).call(this);if(isNaN(_t[6])&&!this.isEmpty()){const Ot=new Float64Array(36);return Ot.set([NaN,NaN,NaN,NaN,(_t[2]-wt)/St,(_t[3]-At)/kt,NaN,NaN,NaN,NaN,(_t[4]-wt)/St,(_t[5]-At)/kt,NaN,NaN,NaN,NaN,Pt,Mt,NaN,NaN,NaN,NaN,Ft,Lt,NaN,NaN,NaN,NaN,(_t[16]-wt)/St,(_t[17]-At)/kt,NaN,NaN,NaN,NaN,(_t[14]-wt)/St,(_t[15]-At)/kt],0),new FreeHighlightOutline(Ot,Rt,Ct(this,Tl),Ct(this,Hm),Ct(this,Bm),Ct(this,Um))}const Dt=new Float64Array(Ct(this,Rl).length+24+Ct(this,au).length);let Nt=ht.length;for(let Ot=0;Ot<Nt;Ot+=2){if(isNaN(ht[Ot])){Dt[Ot]=Dt[Ot+1]=NaN;continue}Dt[Ot]=ht[Ot],Dt[Ot+1]=ht[Ot+1]}Dt.set([NaN,NaN,NaN,NaN,(xt[0]-wt)/St,(xt[1]-At)/kt,NaN,NaN,NaN,NaN,Pt,Mt,NaN,NaN,NaN,NaN,Ft,Lt,NaN,NaN,NaN,NaN,(Et[0]-wt)/St,(Et[1]-At)/kt],Nt),Nt+=24;for(let Ot=bt.length-6;Ot>=6;Ot-=6)for(let jt=0;jt<6;jt+=2){if(isNaN(bt[Ot+jt])){Dt[Nt]=Dt[Nt+1]=NaN,Nt+=2;continue}Dt[Nt]=bt[Ot+jt],Dt[Nt+1]=bt[Ot+jt+1],Nt+=2}return Dt.set([NaN,NaN,NaN,NaN,bt[4],bt[5]],Nt),new FreeHighlightOutline(Dt,Rt,Ct(this,Tl),Ct(this,Hm),Ct(this,Bm),Ct(this,Um))}};Tl=new WeakMap,au=new WeakMap,Bm=new WeakMap,Um=new WeakMap,Rl=new WeakMap,ds=new WeakMap,kp=new WeakMap,Pp=new WeakMap,Iv=new WeakMap,Nv=new WeakMap,Hm=new WeakMap,zm=new WeakMap,Du=new WeakMap,jv=new WeakMap,d_=new WeakMap,h_=new WeakMap,Bv=new WeakSet,sx=function(){const ht=Ct(this,ds).subarray(4,6),bt=Ct(this,ds).subarray(16,18),[_t,xt,Et,wt]=Ct(this,Tl);return[(Ct(this,kp)+(ht[0]-bt[0])/2-_t)/Et,(Ct(this,Pp)+(ht[1]-bt[1])/2-xt)/wt,(Ct(this,kp)+(bt[0]-ht[0])/2-_t)/Et,(Ct(this,Pp)+(bt[1]-ht[1])/2-xt)/wt]},Qt(Ul,jv,8),Qt(Ul,d_,2),Qt(Ul,h_,Ct(Ul,jv)+Ct(Ul,d_));let FreeOutliner=Ul;var Vm,Mp,ou,Uv,Ao,Hv,Us,vo,u0,d0,vE;class FreeHighlightOutline extends Outline{constructor(bt,_t,xt,Et,wt,At){super();Qt(this,vo);Qt(this,Vm);Qt(this,Mp,null);Qt(this,ou);Qt(this,Uv);Qt(this,Ao);Qt(this,Hv);Qt(this,Us);qt(this,Us,bt),qt(this,Ao,_t),qt(this,Vm,xt),qt(this,Hv,Et),qt(this,ou,wt),qt(this,Uv,At),Xt(this,vo,vE).call(this,At);const{x:St,y:kt,width:Rt,height:Pt}=Ct(this,Mp);for(let Mt=0,Ft=bt.length;Mt<Ft;Mt+=2)bt[Mt]=(bt[Mt]-St)/Rt,bt[Mt+1]=(bt[Mt+1]-kt)/Pt;for(let Mt=0,Ft=_t.length;Mt<Ft;Mt+=2)_t[Mt]=(_t[Mt]-St)/Rt,_t[Mt+1]=(_t[Mt+1]-kt)/Pt}toSVGPath(){const bt=[`M${Ct(this,Us)[4]} ${Ct(this,Us)[5]}`];for(let _t=6,xt=Ct(this,Us).length;_t<xt;_t+=6){if(isNaN(Ct(this,Us)[_t])){bt.push(`L${Ct(this,Us)[_t+4]} ${Ct(this,Us)[_t+5]}`);continue}bt.push(`C${Ct(this,Us)[_t]} ${Ct(this,Us)[_t+1]} ${Ct(this,Us)[_t+2]} ${Ct(this,Us)[_t+3]} ${Ct(this,Us)[_t+4]} ${Ct(this,Us)[_t+5]}`)}return bt.push("Z"),bt.join(" ")}serialize([bt,_t,xt,Et],wt){const At=xt-bt,St=Et-_t;let kt,Rt;switch(wt){case 0:kt=Xt(this,vo,u0).call(this,Ct(this,Us),bt,Et,At,-St),Rt=Xt(this,vo,u0).call(this,Ct(this,Ao),bt,Et,At,-St);break;case 90:kt=Xt(this,vo,d0).call(this,Ct(this,Us),bt,_t,At,St),Rt=Xt(this,vo,d0).call(this,Ct(this,Ao),bt,_t,At,St);break;case 180:kt=Xt(this,vo,u0).call(this,Ct(this,Us),xt,_t,-At,St),Rt=Xt(this,vo,u0).call(this,Ct(this,Ao),xt,_t,-At,St);break;case 270:kt=Xt(this,vo,d0).call(this,Ct(this,Us),xt,Et,-At,-St),Rt=Xt(this,vo,d0).call(this,Ct(this,Ao),xt,Et,-At,-St);break}return{outline:Array.from(kt),points:[Array.from(Rt)]}}get box(){return Ct(this,Mp)}getNewOutline(bt,_t){const{x:xt,y:Et,width:wt,height:At}=Ct(this,Mp),[St,kt,Rt,Pt]=Ct(this,Vm),Mt=wt*Rt,Ft=At*Pt,Lt=xt*Rt+St,Dt=Et*Pt+kt,Nt=new FreeOutliner({x:Ct(this,Ao)[0]*Mt+Lt,y:Ct(this,Ao)[1]*Ft+Dt},Ct(this,Vm),Ct(this,Hv),bt,Ct(this,Uv),_t??Ct(this,ou));for(let $t=2;$t<Ct(this,Ao).length;$t+=2)Nt.add({x:Ct(this,Ao)[$t]*Mt+Lt,y:Ct(this,Ao)[$t+1]*Ft+Dt});return Nt.getOutlines()}}Vm=new WeakMap,Mp=new WeakMap,ou=new WeakMap,Uv=new WeakMap,Ao=new WeakMap,Hv=new WeakMap,Us=new WeakMap,vo=new WeakSet,u0=function(bt,_t,xt,Et,wt){const At=new Float64Array(bt.length);for(let St=0,kt=bt.length;St<kt;St+=2)At[St]=_t+bt[St]*Et,At[St+1]=xt+bt[St+1]*wt;return At},d0=function(bt,_t,xt,Et,wt){const At=new Float64Array(bt.length);for(let St=0,kt=bt.length;St<kt;St+=2)At[St]=_t+bt[St+1]*Et,At[St+1]=xt+bt[St]*wt;return At},vE=function(bt){const _t=Ct(this,Us);let xt=_t[4],Et=_t[5],wt=xt,At=Et,St=xt,kt=Et,Rt=xt,Pt=Et;const Mt=bt?Math.max:Math.min;for(let $t=6,Ot=_t.length;$t<Ot;$t+=6){if(isNaN(_t[$t]))wt=Math.min(wt,_t[$t+4]),At=Math.min(At,_t[$t+5]),St=Math.max(St,_t[$t+4]),kt=Math.max(kt,_t[$t+5]),Pt<_t[$t+5]?(Rt=_t[$t+4],Pt=_t[$t+5]):Pt===_t[$t+5]&&(Rt=Mt(Rt,_t[$t+4]));else{const jt=Util.bezierBoundingBox(xt,Et,..._t.slice($t,$t+6));wt=Math.min(wt,jt[0]),At=Math.min(At,jt[1]),St=Math.max(St,jt[2]),kt=Math.max(kt,jt[3]),Pt<jt[3]?(Rt=jt[2],Pt=jt[3]):Pt===jt[3]&&(Rt=Mt(Rt,jt[2]))}xt=_t[$t+4],Et=_t[$t+5]}const Ft=wt-Ct(this,ou),Lt=At-Ct(this,ou),Dt=St-wt+2*Ct(this,ou),Nt=kt-At+2*Ct(this,ou);qt(this,Mp,{x:Ft,y:Lt,width:Dt,height:Nt,lastPoint:[Rt,Pt]})};var zv,Vv,Xo,Fp,Wm,qs,Wv,Gm,Gv,Xv,Ou,Xm,Ps,ax,ox,yE,Yu,bE,wu;const Hl=class Hl{constructor({editor:ht=null,uiManager:bt=null}){Qt(this,Ps);Qt(this,zv,Xt(this,Ps,yE).bind(this));Qt(this,Vv,Xt(this,Ps,bE).bind(this));Qt(this,Xo,null);Qt(this,Fp,null);Qt(this,Wm);Qt(this,qs,null);Qt(this,Wv,!1);Qt(this,Gm,!1);Qt(this,Gv,null);Qt(this,Xv);Qt(this,Ou,null);Qt(this,Xm);var _t;ht?(qt(this,Gm,!1),qt(this,Xm,AnnotationEditorParamsType.HIGHLIGHT_COLOR),qt(this,Gv,ht)):(qt(this,Gm,!0),qt(this,Xm,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),qt(this,Ou,(ht==null?void 0:ht._uiManager)||bt),qt(this,Xv,Ct(this,Ou)._eventBus),qt(this,Wm,(ht==null?void 0:ht.color)||((_t=Ct(this,Ou))==null?void 0:_t.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],Hl.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Hl.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Hl.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Hl.prototype._moveToPrevious],[["Home","mac+Home"],Hl.prototype._moveToBeginning],[["End","mac+End"],Hl.prototype._moveToEnd]]))}renderButton(){const ht=qt(this,Xo,document.createElement("button"));ht.className="colorPicker",ht.tabIndex="0",ht.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),ht.setAttribute("aria-haspopup",!0),ht.addEventListener("click",Xt(this,Ps,Yu).bind(this)),ht.addEventListener("keydown",Ct(this,zv));const bt=qt(this,Fp,document.createElement("span"));return bt.className="swatch",bt.setAttribute("aria-hidden",!0),bt.style.backgroundColor=Ct(this,Wm),ht.append(bt),ht}renderMainDropdown(){const ht=qt(this,qs,Xt(this,Ps,ax).call(this));return ht.setAttribute("aria-orientation","horizontal"),ht.setAttribute("aria-labelledby","highlightColorPickerLabel"),ht}_colorSelectFromKeyboard(ht){if(ht.target===Ct(this,Xo)){Xt(this,Ps,Yu).call(this,ht);return}const bt=ht.target.getAttribute("data-color");bt&&Xt(this,Ps,ox).call(this,bt,ht)}_moveToNext(ht){var bt,_t;if(!Ct(this,Ps,wu)){Xt(this,Ps,Yu).call(this,ht);return}if(ht.target===Ct(this,Xo)){(bt=Ct(this,qs).firstChild)==null||bt.focus();return}(_t=ht.target.nextSibling)==null||_t.focus()}_moveToPrevious(ht){var bt,_t;if(ht.target===((bt=Ct(this,qs))==null?void 0:bt.firstChild)||ht.target===Ct(this,Xo)){Ct(this,Ps,wu)&&this._hideDropdownFromKeyboard();return}Ct(this,Ps,wu)||Xt(this,Ps,Yu).call(this,ht),(_t=ht.target.previousSibling)==null||_t.focus()}_moveToBeginning(ht){var bt;if(!Ct(this,Ps,wu)){Xt(this,Ps,Yu).call(this,ht);return}(bt=Ct(this,qs).firstChild)==null||bt.focus()}_moveToEnd(ht){var bt;if(!Ct(this,Ps,wu)){Xt(this,Ps,Yu).call(this,ht);return}(bt=Ct(this,qs).lastChild)==null||bt.focus()}hideDropdown(){var ht;(ht=Ct(this,qs))==null||ht.classList.add("hidden"),window.removeEventListener("pointerdown",Ct(this,Vv))}_hideDropdownFromKeyboard(){var ht;if(!Ct(this,Gm)){if(!Ct(this,Ps,wu)){(ht=Ct(this,Gv))==null||ht.unselect();return}this.hideDropdown(),Ct(this,Xo).focus({preventScroll:!0,focusVisible:Ct(this,Wv)})}}updateColor(ht){if(Ct(this,Fp)&&(Ct(this,Fp).style.backgroundColor=ht),!Ct(this,qs))return;const bt=Ct(this,Ou).highlightColors.values();for(const _t of Ct(this,qs).children)_t.setAttribute("aria-selected",bt.next().value===ht)}destroy(){var ht,bt;(ht=Ct(this,Xo))==null||ht.remove(),qt(this,Xo,null),qt(this,Fp,null),(bt=Ct(this,qs))==null||bt.remove(),qt(this,qs,null)}};zv=new WeakMap,Vv=new WeakMap,Xo=new WeakMap,Fp=new WeakMap,Wm=new WeakMap,qs=new WeakMap,Wv=new WeakMap,Gm=new WeakMap,Gv=new WeakMap,Xv=new WeakMap,Ou=new WeakMap,Xm=new WeakMap,Ps=new WeakSet,ax=function(){const ht=document.createElement("div");ht.addEventListener("contextmenu",noContextMenu),ht.className="dropdown",ht.role="listbox",ht.setAttribute("aria-multiselectable",!1),ht.setAttribute("aria-orientation","vertical"),ht.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[bt,_t]of Ct(this,Ou).highlightColors){const xt=document.createElement("button");xt.tabIndex="0",xt.role="option",xt.setAttribute("data-color",_t),xt.title=bt,xt.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${bt}`);const Et=document.createElement("span");xt.append(Et),Et.className="swatch",Et.style.backgroundColor=_t,xt.setAttribute("aria-selected",_t===Ct(this,Wm)),xt.addEventListener("click",Xt(this,Ps,ox).bind(this,_t)),ht.append(xt)}return ht.addEventListener("keydown",Ct(this,zv)),ht},ox=function(ht,bt){bt.stopPropagation(),Ct(this,Xv).dispatch("switchannotationeditorparams",{source:this,type:Ct(this,Xm),value:ht})},yE=function(ht){Hl._keyboardManager.exec(this,ht)},Yu=function(ht){if(Ct(this,Ps,wu)){this.hideDropdown();return}if(qt(this,Wv,ht.detail===0),window.addEventListener("pointerdown",Ct(this,Vv)),Ct(this,qs)){Ct(this,qs).classList.remove("hidden");return}const bt=qt(this,qs,Xt(this,Ps,ax).call(this));Ct(this,Xo).append(bt)},bE=function(ht){var bt;(bt=Ct(this,qs))!=null&&bt.contains(ht.target)||this.hideDropdown()},wu=function(){return Ct(this,qs)&&!Ct(this,qs).classList.contains("hidden")};let ColorPicker=Hl;var qm,qv,Iu,Lp,Km,Mo,Kv,Yv,$p,qo,co,So,f_,Ym,Dp,Ks,Zm,Pl,Zv,ls,lx,cx,_E,xE,EE,ux,h0,$o,tm,wE,Ry,f0,AE,SE,CE,TE;const bs=class bs extends AnnotationEditor{constructor(bt){super({...bt,name:"highlightEditor"});Qt(this,ls);Qt(this,qm,null);Qt(this,qv,0);Qt(this,Iu);Qt(this,Lp,null);Qt(this,Km,null);Qt(this,Mo,null);Qt(this,Kv,null);Qt(this,Yv,0);Qt(this,$p,null);Qt(this,qo,null);Qt(this,co,null);Qt(this,So,!1);Qt(this,f_,Xt(this,ls,wE).bind(this));Qt(this,Ym,null);Qt(this,Dp);Qt(this,Ks,null);Qt(this,Zm,"");Qt(this,Pl);Qt(this,Zv,"");this.color=bt.color||bs._defaultColor,qt(this,Pl,bt.thickness||bs._defaultThickness),qt(this,Dp,bt.opacity||bs._defaultOpacity),qt(this,Iu,bt.boxes||null),qt(this,Zv,bt.methodOfCreation||""),qt(this,Zm,bt.text||""),this._isDraggable=!1,bt.highlightId>-1?(qt(this,So,!0),Xt(this,ls,cx).call(this,bt),Xt(this,ls,h0).call(this)):(qt(this,qm,bt.anchorNode),qt(this,qv,bt.anchorOffset),qt(this,Kv,bt.focusNode),qt(this,Yv,bt.focusOffset),Xt(this,ls,lx).call(this),Xt(this,ls,h0).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const bt=bs.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],bt._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],bt._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],bt._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],bt._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:Ct(this,So)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:Ct(this,Pl),methodOfCreation:Ct(this,Zv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(bt){return{numberOfColors:bt.get("color").size}}static initialize(bt,_t){var xt;AnnotationEditor.initialize(bt,_t),bs._defaultColor||(bs._defaultColor=((xt=_t.highlightColors)==null?void 0:xt.values().next().value)||"#fff066")}static updateDefaultParams(bt,_t){switch(bt){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:bs._defaultColor=_t;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:bs._defaultThickness=_t;break}}translateInPage(bt,_t){}get toolbarPosition(){return Ct(this,Ym)}updateParams(bt,_t){switch(bt){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:Xt(this,ls,_E).call(this,_t);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Xt(this,ls,xE).call(this,_t);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,bs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,bs._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||bs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Ct(this,Pl)||bs._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,Ct(this,So)]]}async addEditToolbar(){const bt=await super.addEditToolbar();return bt?(this._uiManager.highlightColors&&(qt(this,Km,new ColorPicker({editor:this})),bt.addColorPicker(Ct(this,Km))),bt):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Xt(this,ls,f0).call(this))}getBaseTranslation(){return[0,0]}getRect(bt,_t){return super.getRect(bt,_t,Xt(this,ls,f0).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){Xt(this,ls,ux).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Xt(this,ls,h0).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(bt){var xt;let _t=!1;this.parent&&!bt?Xt(this,ls,ux).call(this):bt&&(Xt(this,ls,h0).call(this,bt),_t=!this.parent&&((xt=this.div)==null?void 0:xt.classList.contains("selectedEditor"))),super.setParent(bt),this.show(this._isVisible),_t&&this.select()}rotate(bt){var Et,wt,At;const{drawLayer:_t}=this.parent;let xt;Ct(this,So)?(bt=(bt-this.rotation+360)%360,xt=Xt(Et=bs,$o,tm).call(Et,Ct(this,qo).box,bt)):xt=Xt(wt=bs,$o,tm).call(wt,this,bt),_t.rotate(Ct(this,co),bt),_t.rotate(Ct(this,Ks),bt),_t.updateBox(Ct(this,co),xt),_t.updateBox(Ct(this,Ks),Xt(At=bs,$o,tm).call(At,Ct(this,Mo).box,bt))}render(){if(this.div)return this.div;const bt=super.render();Ct(this,Zm)&&(bt.setAttribute("aria-label",Ct(this,Zm)),bt.setAttribute("role","mark")),Ct(this,So)?bt.classList.add("free"):this.div.addEventListener("keydown",Ct(this,f_));const _t=qt(this,$p,document.createElement("div"));bt.append(_t),_t.setAttribute("aria-hidden","true"),_t.className="internal",_t.style.clipPath=Ct(this,Lp);const[xt,Et]=this.parentDimensions;return this.setDims(this.width*xt,this.height*Et),bindEvents(this,Ct(this,$p),["pointerover","pointerleave"]),this.enableEditing(),bt}pointerover(){this.parent.drawLayer.addClass(Ct(this,Ks),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(Ct(this,Ks),"hovered")}_moveCaret(bt){switch(this.parent.unselect(this),bt){case 0:case 2:Xt(this,ls,Ry).call(this,!0);break;case 1:case 3:Xt(this,ls,Ry).call(this,!1);break}}select(){var bt,_t;super.select(),Ct(this,Ks)&&((bt=this.parent)==null||bt.drawLayer.removeClass(Ct(this,Ks),"hovered"),(_t=this.parent)==null||_t.drawLayer.addClass(Ct(this,Ks),"selected"))}unselect(){var bt;super.unselect(),Ct(this,Ks)&&((bt=this.parent)==null||bt.drawLayer.removeClass(Ct(this,Ks),"selected"),Ct(this,So)||Xt(this,ls,Ry).call(this,!1))}get _mustFixPosition(){return!Ct(this,So)}show(bt=this._isVisible){super.show(bt),this.parent&&(this.parent.drawLayer.show(Ct(this,co),bt),this.parent.drawLayer.show(Ct(this,Ks),bt))}static startHighlighting(bt,_t,{target:xt,x:Et,y:wt}){const{x:At,y:St,width:kt,height:Rt}=xt.getBoundingClientRect(),Pt=Dt=>{Xt(this,$o,CE).call(this,bt,Dt)},Mt={capture:!0,passive:!1},Ft=Dt=>{Dt.preventDefault(),Dt.stopPropagation()},Lt=Dt=>{xt.removeEventListener("pointermove",Pt),window.removeEventListener("blur",Lt),window.removeEventListener("pointerup",Lt),window.removeEventListener("pointerdown",Ft,Mt),window.removeEventListener("contextmenu",noContextMenu),Xt(this,$o,TE).call(this,bt,Dt)};window.addEventListener("blur",Lt),window.addEventListener("pointerup",Lt),window.addEventListener("pointerdown",Ft,Mt),window.addEventListener("contextmenu",noContextMenu),xt.addEventListener("pointermove",Pt),this._freeHighlight=new FreeOutliner({x:Et,y:wt},[At,St,kt,Rt],bt.scale,this._defaultThickness/2,_t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=bt.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(bt,_t,xt){var Dt;const Et=super.deserialize(bt,_t,xt),{rect:[wt,At,St,kt],color:Rt,quadPoints:Pt}=bt;Et.color=Util.makeHexColor(...Rt),qt(Et,Dp,bt.opacity);const[Mt,Ft]=Et.pageDimensions;Et.width=(St-wt)/Mt,Et.height=(kt-At)/Ft;const Lt=qt(Et,Iu,[]);for(let Nt=0;Nt<Pt.length;Nt+=8)Lt.push({x:(Pt[4]-St)/Mt,y:(kt-(1-Pt[Nt+5]))/Ft,width:(Pt[Nt+2]-Pt[Nt])/Mt,height:(Pt[Nt+5]-Pt[Nt+1])/Ft});return Xt(Dt=Et,ls,lx).call(Dt),Et}serialize(bt=!1){if(this.isEmpty()||bt)return null;const _t=this.getRect(0,0),xt=AnnotationEditor._colorManager.convert(this.color);return{annotationType:AnnotationEditorType.HIGHLIGHT,color:xt,opacity:Ct(this,Dp),thickness:Ct(this,Pl),quadPoints:Xt(this,ls,AE).call(this),outlines:Xt(this,ls,SE).call(this,_t),pageIndex:this.pageIndex,rect:_t,rotation:Xt(this,ls,f0).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};qm=new WeakMap,qv=new WeakMap,Iu=new WeakMap,Lp=new WeakMap,Km=new WeakMap,Mo=new WeakMap,Kv=new WeakMap,Yv=new WeakMap,$p=new WeakMap,qo=new WeakMap,co=new WeakMap,So=new WeakMap,f_=new WeakMap,Ym=new WeakMap,Dp=new WeakMap,Ks=new WeakMap,Zm=new WeakMap,Pl=new WeakMap,Zv=new WeakMap,ls=new WeakSet,lx=function(){const bt=new Outliner(Ct(this,Iu),.001);qt(this,qo,bt.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=Ct(this,qo).box;const _t=new Outliner(Ct(this,Iu),.0025,.001,this._uiManager.direction==="ltr");qt(this,Mo,_t.getOutlines());const{lastPoint:xt}=Ct(this,Mo).box;qt(this,Ym,[(xt[0]-this.x)/this.width,(xt[1]-this.y)/this.height])},cx=function({highlightOutlines:bt,highlightId:_t,clipPathId:xt}){var Pt,Mt;if(qt(this,qo,bt),qt(this,Mo,bt.getNewOutline(Ct(this,Pl)/2+1.5,.0025)),_t>=0)qt(this,co,_t),qt(this,Lp,xt),this.parent.drawLayer.finalizeLine(_t,bt),qt(this,Ks,this.parent.drawLayer.highlightOutline(Ct(this,Mo)));else if(this.parent){const Ft=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(Ct(this,co),bt),this.parent.drawLayer.updateBox(Ct(this,co),Xt(Pt=bs,$o,tm).call(Pt,Ct(this,qo).box,(Ft-this.rotation+360)%360)),this.parent.drawLayer.updateLine(Ct(this,Ks),Ct(this,Mo)),this.parent.drawLayer.updateBox(Ct(this,Ks),Xt(Mt=bs,$o,tm).call(Mt,Ct(this,Mo).box,Ft))}const{x:wt,y:At,width:St,height:kt}=bt.box;switch(this.rotation){case 0:this.x=wt,this.y=At,this.width=St,this.height=kt;break;case 90:{const[Ft,Lt]=this.parentDimensions;this.x=At,this.y=1-wt,this.width=St*Lt/Ft,this.height=kt*Ft/Lt;break}case 180:this.x=1-wt,this.y=1-At,this.width=St,this.height=kt;break;case 270:{const[Ft,Lt]=this.parentDimensions;this.x=1-At,this.y=wt,this.width=St*Lt/Ft,this.height=kt*Ft/Lt;break}}const{lastPoint:Rt}=Ct(this,Mo).box;qt(this,Ym,[(Rt[0]-wt)/St,(Rt[1]-At)/kt])},_E=function(bt){const _t=Et=>{var wt,At;this.color=Et,(wt=this.parent)==null||wt.drawLayer.changeColor(Ct(this,co),Et),(At=Ct(this,Km))==null||At.updateColor(Et)},xt=this.color;this.addCommands({cmd:_t.bind(this,bt),undo:_t.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(bt)},!0)},xE=function(bt){const _t=Ct(this,Pl),xt=Et=>{qt(this,Pl,Et),Xt(this,ls,EE).call(this,Et)};this.addCommands({cmd:xt.bind(this,bt),undo:xt.bind(this,_t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:bt},!0)},EE=function(bt){if(!Ct(this,So))return;Xt(this,ls,cx).call(this,{highlightOutlines:Ct(this,qo).getNewOutline(bt/2)}),this.fixAndSetPosition();const[_t,xt]=this.parentDimensions;this.setDims(this.width*_t,this.height*xt)},ux=function(){Ct(this,co)===null||!this.parent||(this.parent.drawLayer.remove(Ct(this,co)),qt(this,co,null),this.parent.drawLayer.remove(Ct(this,Ks)),qt(this,Ks,null))},h0=function(bt=this.parent){Ct(this,co)===null&&({id:ba(this,co)._,clipPathId:ba(this,Lp)._}=bt.drawLayer.highlight(Ct(this,qo),this.color,Ct(this,Dp)),qt(this,Ks,bt.drawLayer.highlightOutline(Ct(this,Mo))),Ct(this,$p)&&(Ct(this,$p).style.clipPath=Ct(this,Lp)))},$o=new WeakSet,tm=function({x:bt,y:_t,width:xt,height:Et},wt){switch(wt){case 90:return{x:1-_t-Et,y:bt,width:Et,height:xt};case 180:return{x:1-bt-xt,y:1-_t-Et,width:xt,height:Et};case 270:return{x:_t,y:1-bt-xt,width:Et,height:xt}}return{x:bt,y:_t,width:xt,height:Et}},wE=function(bt){bs._keyboardManager.exec(this,bt)},Ry=function(bt){if(!Ct(this,qm))return;const _t=window.getSelection();bt?_t.setPosition(Ct(this,qm),Ct(this,qv)):_t.setPosition(Ct(this,Kv),Ct(this,Yv))},f0=function(){return Ct(this,So)?this.rotation:0},AE=function(){if(Ct(this,So))return null;const[bt,_t]=this.pageDimensions,xt=Ct(this,Iu),Et=new Array(xt.length*8);let wt=0;for(const{x:At,y:St,width:kt,height:Rt}of xt){const Pt=At*bt,Mt=(1-St-Rt)*_t;Et[wt]=Et[wt+4]=Pt,Et[wt+1]=Et[wt+3]=Mt,Et[wt+2]=Et[wt+6]=Pt+kt*bt,Et[wt+5]=Et[wt+7]=Mt+Rt*_t,wt+=8}return Et},SE=function(bt){return Ct(this,qo).serialize(bt,Xt(this,ls,f0).call(this))},CE=function(bt,_t){this._freeHighlight.add(_t)&&bt.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},TE=function(bt,_t){this._freeHighlight.isEmpty()?bt.drawLayer.removeFreeHighlight(this._freeHighlightId):bt.createAndAddNewEditor(_t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Qt(bs,$o),Tr(bs,"_defaultColor",null),Tr(bs,"_defaultOpacity",1),Tr(bs,"_defaultThickness",12),Tr(bs,"_l10nPromise"),Tr(bs,"_type","highlight"),Tr(bs,"_editorType",AnnotationEditorType.HIGHLIGHT),Tr(bs,"_freeHighlightId",-1),Tr(bs,"_freeHighlight",null),Tr(bs,"_freeHighlightClipId","");let HighlightEditor=bs;var Op,Ip,Qv,Jv,ey,Np,Ml,lu,Fo,jp,Bp,Up,Hp,zp,Nu,Sr,RE,kE,PE,ME,dx,FE,hx,LE,$E,DE,OE,IE,Zu,fx,ky,Py,nm,px,My,mu,NE,gx,jE,BE,mx,Fy,p0;const Is=class Is extends AnnotationEditor{constructor(bt){super({...bt,name:"inkEditor"});Qt(this,Sr);Qt(this,Op,0);Qt(this,Ip,0);Qt(this,Qv,this.canvasPointermove.bind(this));Qt(this,Jv,this.canvasPointerleave.bind(this));Qt(this,ey,this.canvasPointerup.bind(this));Qt(this,Np,this.canvasPointerdown.bind(this));Qt(this,Ml,null);Qt(this,lu,new Path2D);Qt(this,Fo,!1);Qt(this,jp,!1);Qt(this,Bp,!1);Qt(this,Up,null);Qt(this,Hp,0);Qt(this,zp,0);Qt(this,Nu,null);this.color=bt.color||null,this.thickness=bt.thickness||null,this.opacity=bt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(bt,_t){AnnotationEditor.initialize(bt,_t)}static updateDefaultParams(bt,_t){switch(bt){case AnnotationEditorParamsType.INK_THICKNESS:Is._defaultThickness=_t;break;case AnnotationEditorParamsType.INK_COLOR:Is._defaultColor=_t;break;case AnnotationEditorParamsType.INK_OPACITY:Is._defaultOpacity=_t/100;break}}updateParams(bt,_t){switch(bt){case AnnotationEditorParamsType.INK_THICKNESS:Xt(this,Sr,RE).call(this,_t);break;case AnnotationEditorParamsType.INK_COLOR:Xt(this,Sr,kE).call(this,_t);break;case AnnotationEditorParamsType.INK_OPACITY:Xt(this,Sr,PE).call(this,_t);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,Is._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,Is._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(Is._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Is._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||Is._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Is._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Xt(this,Sr,ky).call(this),Xt(this,Sr,Py).call(this)),this.isAttachedToDOM||(this.parent.add(this),Xt(this,Sr,nm).call(this)),Xt(this,Sr,p0).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Ct(this,Ml)&&(clearTimeout(Ct(this,Ml)),qt(this,Ml,null)),Ct(this,Up).disconnect(),qt(this,Up,null),super.remove())}setParent(bt){!this.parent&&bt?this._uiManager.removeShouldRescale(this):this.parent&&bt===null&&this._uiManager.addShouldRescale(this),super.setParent(bt)}onScaleChanging(){const[bt,_t]=this.parentDimensions,xt=this.width*bt,Et=this.height*_t;this.setDimensions(xt,Et)}enableEditMode(){Ct(this,Fo)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Ct(this,Np)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Ct(this,Np)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Ct(this,Fo)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),qt(this,Fo,!0),this.div.classList.add("disabled"),Xt(this,Sr,p0).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(bt){this._focusEventsAllowed&&(super.focusin(bt),this.enableEditMode())}canvasPointerdown(bt){bt.button!==0||!this.isInEditMode()||Ct(this,Fo)||(this.setInForeground(),bt.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),Xt(this,Sr,FE).call(this,bt.offsetX,bt.offsetY))}canvasPointermove(bt){bt.preventDefault(),Xt(this,Sr,hx).call(this,bt.offsetX,bt.offsetY)}canvasPointerup(bt){bt.preventDefault(),Xt(this,Sr,fx).call(this,bt)}canvasPointerleave(bt){Xt(this,Sr,fx).call(this,bt)}get isResizable(){return!this.isEmpty()&&Ct(this,Fo)}render(){if(this.div)return this.div;let bt,_t;this.width&&(bt=this.x,_t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[xt,Et,wt,At]=Xt(this,Sr,ME).call(this);if(this.setAt(xt,Et,0,0),this.setDims(wt,At),Xt(this,Sr,ky).call(this),this.width){const[St,kt]=this.parentDimensions;this.setAspectRatio(this.width*St,this.height*kt),this.setAt(bt*St,_t*kt,this.width*St,this.height*kt),qt(this,Bp,!0),Xt(this,Sr,nm).call(this),this.setDims(this.width*St,this.height*kt),Xt(this,Sr,Zu).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Xt(this,Sr,Py).call(this),this.div}setDimensions(bt,_t){const xt=Math.round(bt),Et=Math.round(_t);if(Ct(this,Hp)===xt&&Ct(this,zp)===Et)return;qt(this,Hp,xt),qt(this,zp,Et),this.canvas.style.visibility="hidden";const[wt,At]=this.parentDimensions;this.width=bt/wt,this.height=_t/At,this.fixAndSetPosition(),Ct(this,Fo)&&Xt(this,Sr,px).call(this,bt,_t),Xt(this,Sr,nm).call(this),Xt(this,Sr,Zu).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(bt,_t,xt){var Nt,$t,Ot;if(bt instanceof InkAnnotationElement)return null;const Et=super.deserialize(bt,_t,xt);Et.thickness=bt.thickness,Et.color=Util.makeHexColor(...bt.color),Et.opacity=bt.opacity;const[wt,At]=Et.pageDimensions,St=Et.width*wt,kt=Et.height*At,Rt=Et.parentScale,Pt=bt.thickness/2;qt(Et,Fo,!0),qt(Et,Hp,Math.round(St)),qt(Et,zp,Math.round(kt));const{paths:Mt,rect:Ft,rotation:Lt}=bt;for(let{bezier:jt}of Mt){jt=Xt(Nt=Is,mu,jE).call(Nt,jt,Ft,Lt);const Ut=[];Et.paths.push(Ut);let Bt=Rt*(jt[0]-Pt),Vt=Rt*(jt[1]-Pt);for(let Gt=2,en=jt.length;Gt<en;Gt+=6){const ln=Rt*(jt[Gt]-Pt),Kt=Rt*(jt[Gt+1]-Pt),on=Rt*(jt[Gt+2]-Pt),fn=Rt*(jt[Gt+3]-Pt),En=Rt*(jt[Gt+4]-Pt),gn=Rt*(jt[Gt+5]-Pt);Ut.push([[Bt,Vt],[ln,Kt],[on,fn],[En,gn]]),Bt=En,Vt=gn}const zt=Xt(this,mu,NE).call(this,Ut);Et.bezierPath2D.push(zt)}const Dt=Xt($t=Et,Sr,mx).call($t);return qt(Et,Ip,Math.max(AnnotationEditor.MIN_SIZE,Dt[2]-Dt[0])),qt(Et,Op,Math.max(AnnotationEditor.MIN_SIZE,Dt[3]-Dt[1])),Xt(Ot=Et,Sr,px).call(Ot,St,kt),Et}serialize(){if(this.isEmpty())return null;const bt=this.getRect(0,0),_t=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:_t,thickness:this.thickness,opacity:this.opacity,paths:Xt(this,Sr,BE).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,bt),pageIndex:this.pageIndex,rect:bt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Op=new WeakMap,Ip=new WeakMap,Qv=new WeakMap,Jv=new WeakMap,ey=new WeakMap,Np=new WeakMap,Ml=new WeakMap,lu=new WeakMap,Fo=new WeakMap,jp=new WeakMap,Bp=new WeakMap,Up=new WeakMap,Hp=new WeakMap,zp=new WeakMap,Nu=new WeakMap,Sr=new WeakSet,RE=function(bt){const _t=Et=>{this.thickness=Et,Xt(this,Sr,p0).call(this)},xt=this.thickness;this.addCommands({cmd:_t.bind(this,bt),undo:_t.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},kE=function(bt){const _t=Et=>{this.color=Et,Xt(this,Sr,Zu).call(this)},xt=this.color;this.addCommands({cmd:_t.bind(this,bt),undo:_t.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},PE=function(bt){const _t=Et=>{this.opacity=Et,Xt(this,Sr,Zu).call(this)};bt/=100;const xt=this.opacity;this.addCommands({cmd:_t.bind(this,bt),undo:_t.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},ME=function(){const{parentRotation:bt,parentDimensions:[_t,xt]}=this;switch(bt){case 90:return[0,xt,xt,_t];case 180:return[_t,xt,_t,xt];case 270:return[_t,0,xt,_t];default:return[0,0,_t,xt]}},dx=function(){const{ctx:bt,color:_t,opacity:xt,thickness:Et,parentScale:wt,scaleFactor:At}=this;bt.lineWidth=Et*wt/At,bt.lineCap="round",bt.lineJoin="round",bt.miterLimit=10,bt.strokeStyle=`${_t}${opacityToHex(xt)}`},FE=function(bt,_t){this.canvas.addEventListener("contextmenu",noContextMenu),this.canvas.addEventListener("pointerleave",Ct(this,Jv)),this.canvas.addEventListener("pointermove",Ct(this,Qv)),this.canvas.addEventListener("pointerup",Ct(this,ey)),this.canvas.removeEventListener("pointerdown",Ct(this,Np)),this.isEditing=!0,Ct(this,Bp)||(qt(this,Bp,!0),Xt(this,Sr,nm).call(this),this.thickness||(this.thickness=Is._defaultThickness),this.color||(this.color=Is._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Is._defaultOpacity)),this.currentPath.push([bt,_t]),qt(this,jp,!1),Xt(this,Sr,dx).call(this),qt(this,Nu,()=>{Xt(this,Sr,DE).call(this),Ct(this,Nu)&&window.requestAnimationFrame(Ct(this,Nu))}),window.requestAnimationFrame(Ct(this,Nu))},hx=function(bt,_t){const[xt,Et]=this.currentPath.at(-1);if(this.currentPath.length>1&&bt===xt&&_t===Et)return;const wt=this.currentPath;let At=Ct(this,lu);if(wt.push([bt,_t]),qt(this,jp,!0),wt.length<=2){At.moveTo(...wt[0]),At.lineTo(bt,_t);return}wt.length===3&&(qt(this,lu,At=new Path2D),At.moveTo(...wt[0])),Xt(this,Sr,OE).call(this,At,...wt.at(-3),...wt.at(-2),bt,_t)},LE=function(){if(this.currentPath.length===0)return;const bt=this.currentPath.at(-1);Ct(this,lu).lineTo(...bt)},$E=function(bt,_t){qt(this,Nu,null),bt=Math.min(Math.max(bt,0),this.canvas.width),_t=Math.min(Math.max(_t,0),this.canvas.height),Xt(this,Sr,hx).call(this,bt,_t),Xt(this,Sr,LE).call(this);let xt;if(this.currentPath.length!==1)xt=Xt(this,Sr,IE).call(this);else{const kt=[bt,_t];xt=[[kt,kt.slice(),kt.slice(),kt]]}const Et=Ct(this,lu),wt=this.currentPath;this.currentPath=[],qt(this,lu,new Path2D);const At=()=>{this.allRawPaths.push(wt),this.paths.push(xt),this.bezierPath2D.push(Et),this._uiManager.rebuild(this)},St=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Xt(this,Sr,ky).call(this),Xt(this,Sr,Py).call(this)),Xt(this,Sr,p0).call(this))};this.addCommands({cmd:At,undo:St,mustExec:!0})},DE=function(){if(!Ct(this,jp))return;qt(this,jp,!1);const bt=Math.ceil(this.thickness*this.parentScale),_t=this.currentPath.slice(-3),xt=_t.map(At=>At[0]),Et=_t.map(At=>At[1]);Math.min(...xt)-bt,Math.max(...xt)+bt,Math.min(...Et)-bt,Math.max(...Et)+bt;const{ctx:wt}=this;wt.save(),wt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const At of this.bezierPath2D)wt.stroke(At);wt.stroke(Ct(this,lu)),wt.restore()},OE=function(bt,_t,xt,Et,wt,At,St){const kt=(_t+Et)/2,Rt=(xt+wt)/2,Pt=(Et+At)/2,Mt=(wt+St)/2;bt.bezierCurveTo(kt+2*(Et-kt)/3,Rt+2*(wt-Rt)/3,Pt+2*(Et-Pt)/3,Mt+2*(wt-Mt)/3,Pt,Mt)},IE=function(){const bt=this.currentPath;if(bt.length<=2)return[[bt[0],bt[0],bt.at(-1),bt.at(-1)]];const _t=[];let xt,[Et,wt]=bt[0];for(xt=1;xt<bt.length-2;xt++){const[Ft,Lt]=bt[xt],[Dt,Nt]=bt[xt+1],$t=(Ft+Dt)/2,Ot=(Lt+Nt)/2,jt=[Et+2*(Ft-Et)/3,wt+2*(Lt-wt)/3],Ut=[$t+2*(Ft-$t)/3,Ot+2*(Lt-Ot)/3];_t.push([[Et,wt],jt,Ut,[$t,Ot]]),[Et,wt]=[$t,Ot]}const[At,St]=bt[xt],[kt,Rt]=bt[xt+1],Pt=[Et+2*(At-Et)/3,wt+2*(St-wt)/3],Mt=[kt+2*(At-kt)/3,Rt+2*(St-Rt)/3];return _t.push([[Et,wt],Pt,Mt,[kt,Rt]]),_t},Zu=function(){if(this.isEmpty()){Xt(this,Sr,My).call(this);return}Xt(this,Sr,dx).call(this);const{canvas:bt,ctx:_t}=this;_t.setTransform(1,0,0,1,0,0),_t.clearRect(0,0,bt.width,bt.height),Xt(this,Sr,My).call(this);for(const xt of this.bezierPath2D)_t.stroke(xt)},fx=function(bt){this.canvas.removeEventListener("pointerleave",Ct(this,Jv)),this.canvas.removeEventListener("pointermove",Ct(this,Qv)),this.canvas.removeEventListener("pointerup",Ct(this,ey)),this.canvas.addEventListener("pointerdown",Ct(this,Np)),Ct(this,Ml)&&clearTimeout(Ct(this,Ml)),qt(this,Ml,setTimeout(()=>{qt(this,Ml,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),Xt(this,Sr,$E).call(this,bt.offsetX,bt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},ky=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Py=function(){qt(this,Up,new ResizeObserver(bt=>{const _t=bt[0].contentRect;_t.width&&_t.height&&this.setDimensions(_t.width,_t.height)})),Ct(this,Up).observe(this.div)},nm=function(){if(!Ct(this,Bp))return;const[bt,_t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*bt),this.canvas.height=Math.ceil(this.height*_t),Xt(this,Sr,My).call(this)},px=function(bt,_t){const xt=Xt(this,Sr,Fy).call(this),Et=(bt-xt)/Ct(this,Ip),wt=(_t-xt)/Ct(this,Op);this.scaleFactor=Math.min(Et,wt)},My=function(){const bt=Xt(this,Sr,Fy).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+bt,this.translationY*this.scaleFactor+bt)},mu=new WeakSet,NE=function(bt){const _t=new Path2D;for(let xt=0,Et=bt.length;xt<Et;xt++){const[wt,At,St,kt]=bt[xt];xt===0&&_t.moveTo(...wt),_t.bezierCurveTo(At[0],At[1],St[0],St[1],kt[0],kt[1])}return _t},gx=function(bt,_t,xt){const[Et,wt,At,St]=_t;switch(xt){case 0:for(let kt=0,Rt=bt.length;kt<Rt;kt+=2)bt[kt]+=Et,bt[kt+1]=St-bt[kt+1];break;case 90:for(let kt=0,Rt=bt.length;kt<Rt;kt+=2){const Pt=bt[kt];bt[kt]=bt[kt+1]+Et,bt[kt+1]=Pt+wt}break;case 180:for(let kt=0,Rt=bt.length;kt<Rt;kt+=2)bt[kt]=At-bt[kt],bt[kt+1]+=wt;break;case 270:for(let kt=0,Rt=bt.length;kt<Rt;kt+=2){const Pt=bt[kt];bt[kt]=At-bt[kt+1],bt[kt+1]=St-Pt}break;default:throw new Error("Invalid rotation")}return bt},jE=function(bt,_t,xt){const[Et,wt,At,St]=_t;switch(xt){case 0:for(let kt=0,Rt=bt.length;kt<Rt;kt+=2)bt[kt]-=Et,bt[kt+1]=St-bt[kt+1];break;case 90:for(let kt=0,Rt=bt.length;kt<Rt;kt+=2){const Pt=bt[kt];bt[kt]=bt[kt+1]-wt,bt[kt+1]=Pt-Et}break;case 180:for(let kt=0,Rt=bt.length;kt<Rt;kt+=2)bt[kt]=At-bt[kt],bt[kt+1]-=wt;break;case 270:for(let kt=0,Rt=bt.length;kt<Rt;kt+=2){const Pt=bt[kt];bt[kt]=St-bt[kt+1],bt[kt+1]=At-Pt}break;default:throw new Error("Invalid rotation")}return bt},BE=function(bt,_t,xt,Et){var Rt,Pt;const wt=[],At=this.thickness/2,St=bt*_t+At,kt=bt*xt+At;for(const Mt of this.paths){const Ft=[],Lt=[];for(let Dt=0,Nt=Mt.length;Dt<Nt;Dt++){const[$t,Ot,jt,Ut]=Mt[Dt];if($t[0]===Ut[0]&&$t[1]===Ut[1]&&Nt===1){const fn=bt*$t[0]+St,En=bt*$t[1]+kt;Ft.push(fn,En),Lt.push(fn,En);break}const Bt=bt*$t[0]+St,Vt=bt*$t[1]+kt,zt=bt*Ot[0]+St,Gt=bt*Ot[1]+kt,en=bt*jt[0]+St,ln=bt*jt[1]+kt,Kt=bt*Ut[0]+St,on=bt*Ut[1]+kt;Dt===0&&(Ft.push(Bt,Vt),Lt.push(Bt,Vt)),Ft.push(zt,Gt,en,ln,Kt,on),Lt.push(zt,Gt),Dt===Nt-1&&Lt.push(Kt,on)}wt.push({bezier:Xt(Rt=Is,mu,gx).call(Rt,Ft,Et,this.rotation),points:Xt(Pt=Is,mu,gx).call(Pt,Lt,Et,this.rotation)})}return wt},mx=function(){let bt=1/0,_t=-1/0,xt=1/0,Et=-1/0;for(const wt of this.paths)for(const[At,St,kt,Rt]of wt){const Pt=Util.bezierBoundingBox(...At,...St,...kt,...Rt);bt=Math.min(bt,Pt[0]),xt=Math.min(xt,Pt[1]),_t=Math.max(_t,Pt[2]),Et=Math.max(Et,Pt[3])}return[bt,xt,_t,Et]},Fy=function(){return Ct(this,Fo)?Math.ceil(this.thickness*this.parentScale):0},p0=function(bt=!1){if(this.isEmpty())return;if(!Ct(this,Fo)){Xt(this,Sr,Zu).call(this);return}const _t=Xt(this,Sr,mx).call(this),xt=Xt(this,Sr,Fy).call(this);qt(this,Ip,Math.max(AnnotationEditor.MIN_SIZE,_t[2]-_t[0])),qt(this,Op,Math.max(AnnotationEditor.MIN_SIZE,_t[3]-_t[1]));const Et=Math.ceil(xt+Ct(this,Ip)*this.scaleFactor),wt=Math.ceil(xt+Ct(this,Op)*this.scaleFactor),[At,St]=this.parentDimensions;this.width=Et/At,this.height=wt/St,this.setAspectRatio(Et,wt);const kt=this.translationX,Rt=this.translationY;this.translationX=-_t[0],this.translationY=-_t[1],Xt(this,Sr,nm).call(this),Xt(this,Sr,Zu).call(this),qt(this,Hp,Et),qt(this,zp,wt),this.setDims(Et,wt);const Pt=bt?xt/this.scaleFactor/2:0;this.translate(kt-this.translationX-Pt,Rt-this.translationY-Pt)},Qt(Is,mu),Tr(Is,"_defaultColor",null),Tr(Is,"_defaultOpacity",1),Tr(Is,"_defaultThickness",1),Tr(Is,"_type","ink"),Tr(Is,"_editorType",AnnotationEditorType.INK);let InkEditor=Is;var no,ro,ju,cu,Bu,Qm,Fl,Vp,Ll,Ko,ty,vs,g0,m0,Ly,vx,UE,HE,yx,$y,zE;const A0=class A0 extends AnnotationEditor{constructor(bt){super({...bt,name:"stampEditor"});Qt(this,vs);Qt(this,no,null);Qt(this,ro,null);Qt(this,ju,null);Qt(this,cu,null);Qt(this,Bu,null);Qt(this,Qm,"");Qt(this,Fl,null);Qt(this,Vp,null);Qt(this,Ll,null);Qt(this,Ko,!1);Qt(this,ty,!1);qt(this,cu,bt.bitmapUrl),qt(this,Bu,bt.bitmapFile)}static initialize(bt,_t){AnnotationEditor.initialize(bt,_t)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(_t=>`image/${_t}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(bt){return this.supportedTypes.includes(bt)}static paste(bt,_t){_t.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:bt.getAsFile()})}remove(){var bt,_t;Ct(this,ro)&&(qt(this,no,null),this._uiManager.imageManager.deleteId(Ct(this,ro)),(bt=Ct(this,Fl))==null||bt.remove(),qt(this,Fl,null),(_t=Ct(this,Vp))==null||_t.disconnect(),qt(this,Vp,null),Ct(this,Ll)&&(clearTimeout(Ct(this,Ll)),qt(this,Ll,null))),super.remove()}rebuild(){if(!this.parent){Ct(this,ro)&&Xt(this,vs,Ly).call(this);return}super.rebuild(),this.div!==null&&(Ct(this,ro)&&Ct(this,Fl)===null&&Xt(this,vs,Ly).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Ct(this,ju)||Ct(this,no)||Ct(this,cu)||Ct(this,Bu)||Ct(this,ro))}get isResizable(){return!0}render(){if(this.div)return this.div;let bt,_t;if(this.width&&(bt=this.x,_t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),Ct(this,no)?Xt(this,vs,vx).call(this):Xt(this,vs,Ly).call(this),this.width){const[xt,Et]=this.parentDimensions;this.setAt(bt*xt,_t*Et,this.width*xt,this.height*Et)}return this.div}getImageForAltText(){return Ct(this,Fl)}static deserialize(bt,_t,xt){if(bt instanceof StampAnnotationElement)return null;const Et=super.deserialize(bt,_t,xt),{rect:wt,bitmapUrl:At,bitmapId:St,isSvg:kt,accessibilityData:Rt}=bt;St&&xt.imageManager.isValidId(St)?qt(Et,ro,St):qt(Et,cu,At),qt(Et,Ko,kt);const[Pt,Mt]=Et.pageDimensions;return Et.width=(wt[2]-wt[0])/Pt,Et.height=(wt[3]-wt[1])/Mt,Rt&&(Et.altTextData=Rt),Et}serialize(bt=!1,_t=null){if(this.isEmpty())return null;const xt={annotationType:AnnotationEditorType.STAMP,bitmapId:Ct(this,ro),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Ct(this,Ko),structTreeParentId:this._structTreeParentId};if(bt)return xt.bitmapUrl=Xt(this,vs,$y).call(this,!0),xt.accessibilityData=this.altTextData,xt;const{decorative:Et,altText:wt}=this.altTextData;if(!Et&&wt&&(xt.accessibilityData={type:"Figure",alt:wt}),_t===null)return xt;_t.stamps||(_t.stamps=new Map);const At=Ct(this,Ko)?(xt.rect[2]-xt.rect[0])*(xt.rect[3]-xt.rect[1]):null;if(!_t.stamps.has(Ct(this,ro)))_t.stamps.set(Ct(this,ro),{area:At,serialized:xt}),xt.bitmap=Xt(this,vs,$y).call(this,!1);else if(Ct(this,Ko)){const St=_t.stamps.get(Ct(this,ro));At>St.area&&(St.area=At,St.serialized.bitmap.close(),St.serialized.bitmap=Xt(this,vs,$y).call(this,!1))}return xt}};no=new WeakMap,ro=new WeakMap,ju=new WeakMap,cu=new WeakMap,Bu=new WeakMap,Qm=new WeakMap,Fl=new WeakMap,Vp=new WeakMap,Ll=new WeakMap,Ko=new WeakMap,ty=new WeakMap,vs=new WeakSet,g0=function(bt,_t=!1){if(!bt){this.remove();return}qt(this,no,bt.bitmap),_t||(qt(this,ro,bt.id),qt(this,Ko,bt.isSvg)),bt.file&&qt(this,Qm,bt.file.name),Xt(this,vs,vx).call(this)},m0=function(){qt(this,ju,null),this._uiManager.enableWaiting(!1),Ct(this,Fl)&&this.div.focus()},Ly=function(){if(Ct(this,ro)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Ct(this,ro)).then(_t=>Xt(this,vs,g0).call(this,_t,!0)).finally(()=>Xt(this,vs,m0).call(this));return}if(Ct(this,cu)){const _t=Ct(this,cu);qt(this,cu,null),this._uiManager.enableWaiting(!0),qt(this,ju,this._uiManager.imageManager.getFromUrl(_t).then(xt=>Xt(this,vs,g0).call(this,xt)).finally(()=>Xt(this,vs,m0).call(this)));return}if(Ct(this,Bu)){const _t=Ct(this,Bu);qt(this,Bu,null),this._uiManager.enableWaiting(!0),qt(this,ju,this._uiManager.imageManager.getFromFile(_t).then(xt=>Xt(this,vs,g0).call(this,xt)).finally(()=>Xt(this,vs,m0).call(this)));return}const bt=document.createElement("input");bt.type="file",bt.accept=A0.supportedTypesStr,qt(this,ju,new Promise(_t=>{bt.addEventListener("change",async()=>{if(!bt.files||bt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const xt=await this._uiManager.imageManager.getFromFile(bt.files[0]);Xt(this,vs,g0).call(this,xt)}_t()}),bt.addEventListener("cancel",()=>{this.remove(),_t()})}).finally(()=>Xt(this,vs,m0).call(this))),bt.click()},vx=function(){const{div:bt}=this;let{width:_t,height:xt}=Ct(this,no);const[Et,wt]=this.pageDimensions,At=.75;if(this.width)_t=this.width*Et,xt=this.height*wt;else if(_t>At*Et||xt>At*wt){const Pt=Math.min(At*Et/_t,At*wt/xt);_t*=Pt,xt*=Pt}const[St,kt]=this.parentDimensions;this.setDims(_t*St/Et,xt*kt/wt),this._uiManager.enableWaiting(!1);const Rt=qt(this,Fl,document.createElement("canvas"));bt.append(Rt),bt.hidden=!1,Xt(this,vs,yx).call(this,_t,xt),Xt(this,vs,zE).call(this),Ct(this,ty)||(this.parent.addUndoableEditor(this),qt(this,ty,!0)),this._reportTelemetry({action:"inserted_image"}),Ct(this,Qm)&&Rt.setAttribute("aria-label",Ct(this,Qm))},UE=function(bt,_t){var At;const[xt,Et]=this.parentDimensions;this.width=bt/xt,this.height=_t/Et,this.setDims(bt,_t),(At=this._initialOptions)!=null&&At.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Ct(this,Ll)!==null&&clearTimeout(Ct(this,Ll)),qt(this,Ll,setTimeout(()=>{qt(this,Ll,null),Xt(this,vs,yx).call(this,bt,_t)},200))},HE=function(bt,_t){const{width:xt,height:Et}=Ct(this,no);let wt=xt,At=Et,St=Ct(this,no);for(;wt>2*bt||At>2*_t;){const kt=wt,Rt=At;wt>2*bt&&(wt=wt>=16384?Math.floor(wt/2)-1:Math.ceil(wt/2)),At>2*_t&&(At=At>=16384?Math.floor(At/2)-1:Math.ceil(At/2));const Pt=new OffscreenCanvas(wt,At);Pt.getContext("2d").drawImage(St,0,0,kt,Rt,0,0,wt,At),St=Pt.transferToImageBitmap()}return St},yx=function(bt,_t){bt=Math.ceil(bt),_t=Math.ceil(_t);const xt=Ct(this,Fl);if(!xt||xt.width===bt&&xt.height===_t)return;xt.width=bt,xt.height=_t;const Et=Ct(this,Ko)?Ct(this,no):Xt(this,vs,HE).call(this,bt,_t);if(this._uiManager.hasMLManager&&!this.hasAltText()){const St=new OffscreenCanvas(bt,_t).getContext("2d");St.drawImage(Et,0,0,Et.width,Et.height,0,0,bt,_t),this._uiManager.mlGuess({service:"image-to-text",request:{data:St.getImageData(0,0,bt,_t).data,width:bt,height:_t,channels:4}}).then(kt=>{const Rt=(kt==null?void 0:kt.output)||"";this.parent&&Rt&&!this.hasAltText()&&(this.altTextData={altText:Rt,decorative:!1})})}const wt=xt.getContext("2d");wt.filter=this._uiManager.hcmFilter,wt.drawImage(Et,0,0,Et.width,Et.height,0,0,bt,_t)},$y=function(bt){if(bt){if(Ct(this,Ko)){const Et=this._uiManager.imageManager.getSvgUrl(Ct(this,ro));if(Et)return Et}const _t=document.createElement("canvas");return{width:_t.width,height:_t.height}=Ct(this,no),_t.getContext("2d").drawImage(Ct(this,no),0,0),_t.toDataURL()}if(Ct(this,Ko)){const[_t,xt]=this.pageDimensions,Et=Math.round(this.width*_t*PixelsPerInch.PDF_TO_CSS_UNITS),wt=Math.round(this.height*xt*PixelsPerInch.PDF_TO_CSS_UNITS),At=new OffscreenCanvas(Et,wt);return At.getContext("2d").drawImage(Ct(this,no),0,0,Ct(this,no).width,Ct(this,no).height,0,0,Et,wt),At.transferToImageBitmap()}return structuredClone(Ct(this,no))},zE=function(){qt(this,Vp,new ResizeObserver(bt=>{const _t=bt[0].contentRect;_t.width&&_t.height&&Xt(this,vs,UE).call(this,_t.width,_t.height)})),Ct(this,Vp).observe(this.div)},Tr(A0,"_type","stamp"),Tr(A0,"_editorType",AnnotationEditorType.STAMP);let StampEditor=A0;var Wp,Jm,$l,Gp,uu,du,hu,Co,Uu,e0,t0,uo,Yr,Hu,io,VE,bx,_x,xx,Dy;const No=class No{constructor({uiManager:ht,pageIndex:bt,div:_t,accessibilityManager:xt,annotationLayer:Et,drawLayer:wt,textLayer:At,viewport:St,l10n:kt}){Qt(this,io);Qt(this,Wp);Qt(this,Jm,!1);Qt(this,$l,null);Qt(this,Gp,null);Qt(this,uu,null);Qt(this,du,null);Qt(this,hu,null);Qt(this,Co,new Map);Qt(this,Uu,!1);Qt(this,e0,!1);Qt(this,t0,!1);Qt(this,uo,null);Qt(this,Yr);const Rt=[...Ct(No,Hu).values()];if(!No._initialized){No._initialized=!0;for(const Pt of Rt)Pt.initialize(kt,ht)}ht.registerEditorTypes(Rt),qt(this,Yr,ht),this.pageIndex=bt,this.div=_t,qt(this,Wp,xt),qt(this,$l,Et),this.viewport=St,qt(this,uo,At),this.drawLayer=wt,Ct(this,Yr).addLayer(this)}get isEmpty(){return Ct(this,Co).size===0}get isInvisible(){return this.isEmpty&&Ct(this,Yr).getMode()===AnnotationEditorType.NONE}updateToolbar(ht){Ct(this,Yr).updateToolbar(ht)}updateMode(ht=Ct(this,Yr).getMode()){switch(Xt(this,io,Dy).call(this),ht){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:bt}=this.div;for(const _t of Ct(No,Hu).values())bt.toggle(`${_t._type}Editing`,ht===_t._editorType);this.div.hidden=!1}hasTextLayer(ht){var bt;return ht===((bt=Ct(this,uo))==null?void 0:bt.div)}addInkEditorIfNeeded(ht){if(Ct(this,Yr).getMode()!==AnnotationEditorType.INK)return;if(!ht){for(const _t of Ct(this,Co).values())if(_t.isEmpty()){_t.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(ht){Ct(this,Yr).setEditingState(ht)}addCommands(ht){Ct(this,Yr).addCommands(ht)}togglePointerEvents(ht=!1){this.div.classList.toggle("disabled",!ht)}toggleAnnotationLayerPointerEvents(ht=!1){var bt;(bt=Ct(this,$l))==null||bt.div.classList.toggle("disabled",!ht)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const ht=new Set;for(const _t of Ct(this,Co).values())_t.enableEditing(),_t.show(!0),_t.annotationElementId&&(Ct(this,Yr).removeChangedExistingAnnotation(_t),ht.add(_t.annotationElementId));if(!Ct(this,$l))return;const bt=Ct(this,$l).getEditableAnnotations();for(const _t of bt){if(_t.hide(),Ct(this,Yr).isDeletedAnnotationElement(_t.data.id)||ht.has(_t.data.id))continue;const xt=this.deserialize(_t);xt&&(this.addOrRebuild(xt),xt.enableEditing())}}disable(){var xt;qt(this,t0,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const ht=new Map,bt=new Map;for(const Et of Ct(this,Co).values())if(Et.disableEditing(),!!Et.annotationElementId){if(Et.serialize()!==null){ht.set(Et.annotationElementId,Et);continue}else bt.set(Et.annotationElementId,Et);(xt=this.getEditableAnnotation(Et.annotationElementId))==null||xt.show(),Et.remove()}if(Ct(this,$l)){const Et=Ct(this,$l).getEditableAnnotations();for(const wt of Et){const{id:At}=wt.data;if(Ct(this,Yr).isDeletedAnnotationElement(At))continue;let St=bt.get(At);if(St){St.resetAnnotationElement(wt),St.show(!1),wt.show();continue}St=ht.get(At),St&&(Ct(this,Yr).addChangedExistingAnnotation(St),St.renderAnnotationElement(wt),St.show(!1)),wt.show()}}Xt(this,io,Dy).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:_t}=this.div;for(const Et of Ct(No,Hu).values())_t.remove(`${Et._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),qt(this,t0,!1)}getEditableAnnotation(ht){var bt;return((bt=Ct(this,$l))==null?void 0:bt.getEditableAnnotation(ht))||null}setActiveEditor(ht){Ct(this,Yr).getActive()!==ht&&Ct(this,Yr).setActiveEditor(ht)}enableTextSelection(){var ht;this.div.tabIndex=-1,(ht=Ct(this,uo))!=null&&ht.div&&!Ct(this,du)&&(qt(this,du,Xt(this,io,VE).bind(this)),Ct(this,uo).div.addEventListener("pointerdown",Ct(this,du)),Ct(this,uo).div.classList.add("highlighting"))}disableTextSelection(){var ht;this.div.tabIndex=0,(ht=Ct(this,uo))!=null&&ht.div&&Ct(this,du)&&(Ct(this,uo).div.removeEventListener("pointerdown",Ct(this,du)),qt(this,du,null),Ct(this,uo).div.classList.remove("highlighting"))}enableClick(){Ct(this,uu)||(qt(this,uu,this.pointerdown.bind(this)),qt(this,Gp,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",Ct(this,uu)),this.div.addEventListener("pointerup",Ct(this,Gp)))}disableClick(){Ct(this,uu)&&(this.div.removeEventListener("pointerdown",Ct(this,uu)),this.div.removeEventListener("pointerup",Ct(this,Gp)),qt(this,uu,null),qt(this,Gp,null))}attach(ht){Ct(this,Co).set(ht.id,ht);const{annotationElementId:bt}=ht;bt&&Ct(this,Yr).isDeletedAnnotationElement(bt)&&Ct(this,Yr).removeDeletedAnnotationElement(ht)}detach(ht){var bt;Ct(this,Co).delete(ht.id),(bt=Ct(this,Wp))==null||bt.removePointerInTextLayer(ht.contentDiv),!Ct(this,t0)&&ht.annotationElementId&&Ct(this,Yr).addDeletedAnnotationElement(ht)}remove(ht){this.detach(ht),Ct(this,Yr).removeEditor(ht),ht.div.remove(),ht.isAttachedToDOM=!1,Ct(this,e0)||this.addInkEditorIfNeeded(!1)}changeParent(ht){var bt;ht.parent!==this&&(ht.parent&&ht.annotationElementId&&(Ct(this,Yr).addDeletedAnnotationElement(ht.annotationElementId),AnnotationEditor.deleteAnnotationElement(ht),ht.annotationElementId=null),this.attach(ht),(bt=ht.parent)==null||bt.detach(ht),ht.setParent(this),ht.div&&ht.isAttachedToDOM&&(ht.div.remove(),this.div.append(ht.div)))}add(ht){if(!(ht.parent===this&&ht.isAttachedToDOM)){if(this.changeParent(ht),Ct(this,Yr).addEditor(ht),this.attach(ht),!ht.isAttachedToDOM){const bt=ht.render();this.div.append(bt),ht.isAttachedToDOM=!0}ht.fixAndSetPosition(),ht.onceAdded(),Ct(this,Yr).addToAnnotationStorage(ht),ht._reportTelemetry(ht.telemetryInitialData)}}moveEditorInDOM(ht){var _t;if(!ht.isAttachedToDOM)return;const{activeElement:bt}=document;ht.div.contains(bt)&&!Ct(this,hu)&&(ht._focusEventsAllowed=!1,qt(this,hu,setTimeout(()=>{qt(this,hu,null),ht.div.contains(document.activeElement)?ht._focusEventsAllowed=!0:(ht.div.addEventListener("focusin",()=>{ht._focusEventsAllowed=!0},{once:!0}),bt.focus())},0))),ht._structTreeParentId=(_t=Ct(this,Wp))==null?void 0:_t.moveElementInDOM(this.div,ht.div,ht.contentDiv,!0)}addOrRebuild(ht){ht.needsToBeRebuilt()?(ht.parent||(ht.parent=this),ht.rebuild(),ht.show()):this.add(ht)}addUndoableEditor(ht){const bt=()=>ht._uiManager.rebuild(ht),_t=()=>{ht.remove()};this.addCommands({cmd:bt,undo:_t,mustExec:!1})}getNextId(){return Ct(this,Yr).getId()}canCreateNewEmptyEditor(){var ht;return(ht=Ct(this,io,bx))==null?void 0:ht.canCreateNewEmptyEditor()}pasteEditor(ht,bt){Ct(this,Yr).updateToolbar(ht),Ct(this,Yr).updateMode(ht);const{offsetX:_t,offsetY:xt}=Xt(this,io,xx).call(this),Et=this.getNextId(),wt=Xt(this,io,_x).call(this,{parent:this,id:Et,x:_t,y:xt,uiManager:Ct(this,Yr),isCentered:!0,...bt});wt&&this.add(wt)}deserialize(ht){var bt;return((bt=Ct(No,Hu).get(ht.annotationType??ht.annotationEditorType))==null?void 0:bt.deserialize(ht,this,Ct(this,Yr)))||null}createAndAddNewEditor(ht,bt,_t={}){const xt=this.getNextId(),Et=Xt(this,io,_x).call(this,{parent:this,id:xt,x:ht.offsetX,y:ht.offsetY,uiManager:Ct(this,Yr),isCentered:bt,..._t});return Et&&this.add(Et),Et}addNewEditor(){this.createAndAddNewEditor(Xt(this,io,xx).call(this),!0)}setSelected(ht){Ct(this,Yr).setSelected(ht)}toggleSelected(ht){Ct(this,Yr).toggleSelected(ht)}isSelected(ht){return Ct(this,Yr).isSelected(ht)}unselect(ht){Ct(this,Yr).unselect(ht)}pointerup(ht){const{isMac:bt}=util_FeatureTest.platform;if(!(ht.button!==0||ht.ctrlKey&&bt)&&ht.target===this.div&&Ct(this,Uu)){if(qt(this,Uu,!1),!Ct(this,Jm)){qt(this,Jm,!0);return}if(Ct(this,Yr).getMode()===AnnotationEditorType.STAMP){Ct(this,Yr).unselectAll();return}this.createAndAddNewEditor(ht,!1)}}pointerdown(ht){if(Ct(this,Yr).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),Ct(this,Uu)){qt(this,Uu,!1);return}const{isMac:bt}=util_FeatureTest.platform;if(ht.button!==0||ht.ctrlKey&&bt||ht.target!==this.div)return;qt(this,Uu,!0);const _t=Ct(this,Yr).getActive();qt(this,Jm,!_t||_t.isEmpty())}findNewParent(ht,bt,_t){const xt=Ct(this,Yr).findParent(bt,_t);return xt===null||xt===this?!1:(xt.changeParent(ht),!0)}destroy(){var ht,bt;((ht=Ct(this,Yr).getActive())==null?void 0:ht.parent)===this&&(Ct(this,Yr).commitOrRemove(),Ct(this,Yr).setActiveEditor(null)),Ct(this,hu)&&(clearTimeout(Ct(this,hu)),qt(this,hu,null));for(const _t of Ct(this,Co).values())(bt=Ct(this,Wp))==null||bt.removePointerInTextLayer(_t.contentDiv),_t.setParent(null),_t.isAttachedToDOM=!1,_t.div.remove();this.div=null,Ct(this,Co).clear(),Ct(this,Yr).removeLayer(this)}render({viewport:ht}){this.viewport=ht,setLayerDimensions(this.div,ht);for(const bt of Ct(this,Yr).getEditors(this.pageIndex))this.add(bt),bt.rebuild();this.updateMode()}update({viewport:ht}){Ct(this,Yr).commitOrRemove(),Xt(this,io,Dy).call(this);const bt=this.viewport.rotation,_t=ht.rotation;if(this.viewport=ht,setLayerDimensions(this.div,{rotation:_t}),bt!==_t)for(const xt of Ct(this,Co).values())xt.rotate(_t);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:ht,pageHeight:bt}=this.viewport.rawDims;return[ht,bt]}get scale(){return Ct(this,Yr).viewParameters.realScale}};Wp=new WeakMap,Jm=new WeakMap,$l=new WeakMap,Gp=new WeakMap,uu=new WeakMap,du=new WeakMap,hu=new WeakMap,Co=new WeakMap,Uu=new WeakMap,e0=new WeakMap,t0=new WeakMap,uo=new WeakMap,Yr=new WeakMap,Hu=new WeakMap,io=new WeakSet,VE=function(ht){if(Ct(this,Yr).unselectAll(),ht.target===Ct(this,uo).div){const{isMac:bt}=util_FeatureTest.platform;if(ht.button!==0||ht.ctrlKey&&bt)return;Ct(this,Yr).showAllEditors("highlight",!0,!0),Ct(this,uo).div.classList.add("free"),HighlightEditor.startHighlighting(this,Ct(this,Yr).direction==="ltr",ht),Ct(this,uo).div.addEventListener("pointerup",()=>{Ct(this,uo).div.classList.remove("free")},{once:!0}),ht.preventDefault()}},bx=function(){return Ct(No,Hu).get(Ct(this,Yr).getMode())},_x=function(ht){const bt=Ct(this,io,bx);return bt?new bt.prototype.constructor(ht):null},xx=function(){const{x:ht,y:bt,width:_t,height:xt}=this.div.getBoundingClientRect(),Et=Math.max(0,ht),wt=Math.max(0,bt),At=Math.min(window.innerWidth,ht+_t),St=Math.min(window.innerHeight,bt+xt),kt=(Et+At)/2-ht,Rt=(wt+St)/2-bt,[Pt,Mt]=this.viewport.rotation%180===0?[kt,Rt]:[Rt,kt];return{offsetX:Pt,offsetY:Mt}},Dy=function(){qt(this,e0,!0);for(const ht of Ct(this,Co).values())ht.isEmpty()&&ht.remove();qt(this,e0,!1)},Tr(No,"_initialized",!1),Qt(No,Hu,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map(ht=>[ht._editorType,ht])));let AnnotationEditorLayer=No;var Dl,ny,Ys,zu,ry,Ex,qp,wx,WE;const _a=class _a{constructor({pageIndex:ht}){Qt(this,qp);Qt(this,Dl,null);Qt(this,ny,0);Qt(this,Ys,new Map);Qt(this,zu,new Map);this.pageIndex=ht}setParent(ht){if(!Ct(this,Dl)){qt(this,Dl,ht);return}if(Ct(this,Dl)!==ht){if(Ct(this,Ys).size>0)for(const bt of Ct(this,Ys).values())bt.remove(),ht.append(bt);qt(this,Dl,ht)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}highlight(ht,bt,_t,xt=!1){const Et=ba(this,ny)._++,wt=Xt(this,qp,wx).call(this,ht.box);wt.classList.add("highlight"),ht.free&&wt.classList.add("free");const At=_a._svgFactory.createElement("defs");wt.append(At);const St=_a._svgFactory.createElement("path");At.append(St);const kt=`path_p${this.pageIndex}_${Et}`;St.setAttribute("id",kt),St.setAttribute("d",ht.toSVGPath()),xt&&Ct(this,zu).set(Et,St);const Rt=Xt(this,qp,WE).call(this,At,kt),Pt=_a._svgFactory.createElement("use");return wt.append(Pt),wt.setAttribute("fill",bt),wt.setAttribute("fill-opacity",_t),Pt.setAttribute("href",`#${kt}`),Ct(this,Ys).set(Et,wt),{id:Et,clipPathId:`url(#${Rt})`}}highlightOutline(ht){const bt=ba(this,ny)._++,_t=Xt(this,qp,wx).call(this,ht.box);_t.classList.add("highlightOutline");const xt=_a._svgFactory.createElement("defs");_t.append(xt);const Et=_a._svgFactory.createElement("path");xt.append(Et);const wt=`path_p${this.pageIndex}_${bt}`;Et.setAttribute("id",wt),Et.setAttribute("d",ht.toSVGPath()),Et.setAttribute("vector-effect","non-scaling-stroke");let At;if(ht.free){_t.classList.add("free");const Rt=_a._svgFactory.createElement("mask");xt.append(Rt),At=`mask_p${this.pageIndex}_${bt}`,Rt.setAttribute("id",At),Rt.setAttribute("maskUnits","objectBoundingBox");const Pt=_a._svgFactory.createElement("rect");Rt.append(Pt),Pt.setAttribute("width","1"),Pt.setAttribute("height","1"),Pt.setAttribute("fill","white");const Mt=_a._svgFactory.createElement("use");Rt.append(Mt),Mt.setAttribute("href",`#${wt}`),Mt.setAttribute("stroke","none"),Mt.setAttribute("fill","black"),Mt.setAttribute("fill-rule","nonzero"),Mt.classList.add("mask")}const St=_a._svgFactory.createElement("use");_t.append(St),St.setAttribute("href",`#${wt}`),At&&St.setAttribute("mask",`url(#${At})`);const kt=St.cloneNode();return _t.append(kt),St.classList.add("mainOutline"),kt.classList.add("secondaryOutline"),Ct(this,Ys).set(bt,_t),bt}finalizeLine(ht,bt){const _t=Ct(this,zu).get(ht);Ct(this,zu).delete(ht),this.updateBox(ht,bt.box),_t.setAttribute("d",bt.toSVGPath())}updateLine(ht,bt){Ct(this,Ys).get(ht).firstChild.firstChild.setAttribute("d",bt.toSVGPath())}removeFreeHighlight(ht){this.remove(ht),Ct(this,zu).delete(ht)}updatePath(ht,bt){Ct(this,zu).get(ht).setAttribute("d",bt.toSVGPath())}updateBox(ht,bt){var _t;Xt(_t=_a,ry,Ex).call(_t,Ct(this,Ys).get(ht),bt)}show(ht,bt){Ct(this,Ys).get(ht).classList.toggle("hidden",!bt)}rotate(ht,bt){Ct(this,Ys).get(ht).setAttribute("data-main-rotation",bt)}changeColor(ht,bt){Ct(this,Ys).get(ht).setAttribute("fill",bt)}changeOpacity(ht,bt){Ct(this,Ys).get(ht).setAttribute("fill-opacity",bt)}addClass(ht,bt){Ct(this,Ys).get(ht).classList.add(bt)}removeClass(ht,bt){Ct(this,Ys).get(ht).classList.remove(bt)}remove(ht){Ct(this,Dl)!==null&&(Ct(this,Ys).get(ht).remove(),Ct(this,Ys).delete(ht))}destroy(){qt(this,Dl,null);for(const ht of Ct(this,Ys).values())ht.remove();Ct(this,Ys).clear()}};Dl=new WeakMap,ny=new WeakMap,Ys=new WeakMap,zu=new WeakMap,ry=new WeakSet,Ex=function(ht,{x:bt=0,y:_t=0,width:xt=1,height:Et=1}={}){const{style:wt}=ht;wt.top=`${100*_t}%`,wt.left=`${100*bt}%`,wt.width=`${100*xt}%`,wt.height=`${100*Et}%`},qp=new WeakSet,wx=function(ht){var _t;const bt=_a._svgFactory.create(1,1,!0);return Ct(this,Dl).append(bt),bt.setAttribute("aria-hidden",!0),Xt(_t=_a,ry,Ex).call(_t,bt,ht),bt},WE=function(ht,bt){const _t=_a._svgFactory.createElement("clipPath");ht.append(_t);const xt=`clip_${bt}`;_t.setAttribute("id",xt),_t.setAttribute("clipPathUnits","objectBoundingBox");const Et=_a._svgFactory.createElement("use");return _t.append(Et),Et.setAttribute("href",`#${bt}`),Et.classList.add("clip"),xt},Qt(_a,ry);let DrawLayer=_a;var __webpack_exports__AbortException=__webpack_exports__.AbortException,__webpack_exports__AnnotationEditorLayer=__webpack_exports__.AnnotationEditorLayer,__webpack_exports__AnnotationEditorParamsType=__webpack_exports__.AnnotationEditorParamsType,__webpack_exports__AnnotationEditorType=__webpack_exports__.AnnotationEditorType,__webpack_exports__AnnotationEditorUIManager=__webpack_exports__.AnnotationEditorUIManager,__webpack_exports__AnnotationLayer=__webpack_exports__.AnnotationLayer,__webpack_exports__AnnotationMode=__webpack_exports__.AnnotationMode,__webpack_exports__CMapCompressionType=__webpack_exports__.CMapCompressionType,__webpack_exports__ColorPicker=__webpack_exports__.ColorPicker,__webpack_exports__DOMSVGFactory=__webpack_exports__.DOMSVGFactory,__webpack_exports__DrawLayer=__webpack_exports__.DrawLayer,__webpack_exports__FeatureTest=__webpack_exports__.FeatureTest,__webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions,__webpack_exports__ImageKind=__webpack_exports__.ImageKind,__webpack_exports__InvalidPDFException=__webpack_exports__.InvalidPDFException,__webpack_exports__MissingPDFException=__webpack_exports__.MissingPDFException,__webpack_exports__OPS=__webpack_exports__.OPS,__webpack_exports__Outliner=__webpack_exports__.Outliner,__webpack_exports__PDFDataRangeTransport=__webpack_exports__.PDFDataRangeTransport,__webpack_exports__PDFDateString=__webpack_exports__.PDFDateString,__webpack_exports__PDFWorker=__webpack_exports__.PDFWorker,__webpack_exports__PasswordResponses=__webpack_exports__.PasswordResponses,__webpack_exports__PermissionFlag=__webpack_exports__.PermissionFlag,__webpack_exports__PixelsPerInch=__webpack_exports__.PixelsPerInch,__webpack_exports__RenderingCancelledException=__webpack_exports__.RenderingCancelledException,__webpack_exports__TextLayer=__webpack_exports__.TextLayer,__webpack_exports__UnexpectedResponseException=__webpack_exports__.UnexpectedResponseException,__webpack_exports__Util=__webpack_exports__.Util,__webpack_exports__VerbosityLevel=__webpack_exports__.VerbosityLevel,__webpack_exports__XfaLayer=__webpack_exports__.XfaLayer,__webpack_exports__build=__webpack_exports__.build,__webpack_exports__createValidAbsoluteUrl=__webpack_exports__.createValidAbsoluteUrl,__webpack_exports__fetchData=__webpack_exports__.fetchData,__webpack_exports__getDocument=__webpack_exports__.getDocument,__webpack_exports__getFilenameFromUrl=__webpack_exports__.getFilenameFromUrl,__webpack_exports__getPdfFilenameFromUrl=__webpack_exports__.getPdfFilenameFromUrl,__webpack_exports__getXfaPageViewport=__webpack_exports__.getXfaPageViewport,__webpack_exports__isDataScheme=__webpack_exports__.isDataScheme,__webpack_exports__isPdfFile=__webpack_exports__.isPdfFile,__webpack_exports__noContextMenu=__webpack_exports__.noContextMenu,__webpack_exports__normalizeUnicode=__webpack_exports__.normalizeUnicode,__webpack_exports__renderTextLayer=__webpack_exports__.renderTextLayer,__webpack_exports__setLayerDimensions=__webpack_exports__.setLayerDimensions,__webpack_exports__shadow=__webpack_exports__.shadow,__webpack_exports__updateTextLayer=__webpack_exports__.updateTextLayer,__webpack_exports__version=__webpack_exports__.version;const pdfjs=Object.freeze(Object.defineProperty({__proto__:null,AbortException:__webpack_exports__AbortException,AnnotationEditorLayer:__webpack_exports__AnnotationEditorLayer,AnnotationEditorParamsType:__webpack_exports__AnnotationEditorParamsType,AnnotationEditorType:__webpack_exports__AnnotationEditorType,AnnotationEditorUIManager:__webpack_exports__AnnotationEditorUIManager,AnnotationLayer:__webpack_exports__AnnotationLayer,AnnotationMode:__webpack_exports__AnnotationMode,CMapCompressionType:__webpack_exports__CMapCompressionType,ColorPicker:__webpack_exports__ColorPicker,DOMSVGFactory:__webpack_exports__DOMSVGFactory,DrawLayer:__webpack_exports__DrawLayer,FeatureTest:__webpack_exports__FeatureTest,GlobalWorkerOptions:__webpack_exports__GlobalWorkerOptions,ImageKind:__webpack_exports__ImageKind,InvalidPDFException:__webpack_exports__InvalidPDFException,MissingPDFException:__webpack_exports__MissingPDFException,OPS:__webpack_exports__OPS,Outliner:__webpack_exports__Outliner,PDFDataRangeTransport:__webpack_exports__PDFDataRangeTransport,PDFDateString:__webpack_exports__PDFDateString,PDFWorker:__webpack_exports__PDFWorker,PasswordResponses:__webpack_exports__PasswordResponses,PermissionFlag:__webpack_exports__PermissionFlag,PixelsPerInch:__webpack_exports__PixelsPerInch,RenderingCancelledException:__webpack_exports__RenderingCancelledException,TextLayer:__webpack_exports__TextLayer,UnexpectedResponseException:__webpack_exports__UnexpectedResponseException,Util:__webpack_exports__Util,VerbosityLevel:__webpack_exports__VerbosityLevel,XfaLayer:__webpack_exports__XfaLayer,build:__webpack_exports__build,createValidAbsoluteUrl:__webpack_exports__createValidAbsoluteUrl,fetchData:__webpack_exports__fetchData,getDocument:__webpack_exports__getDocument,getFilenameFromUrl:__webpack_exports__getFilenameFromUrl,getPdfFilenameFromUrl:__webpack_exports__getPdfFilenameFromUrl,getXfaPageViewport:__webpack_exports__getXfaPageViewport,isDataScheme:__webpack_exports__isDataScheme,isPdfFile:__webpack_exports__isPdfFile,noContextMenu:__webpack_exports__noContextMenu,normalizeUnicode:__webpack_exports__normalizeUnicode,renderTextLayer:__webpack_exports__renderTextLayer,setLayerDimensions:__webpack_exports__setLayerDimensions,shadow:__webpack_exports__shadow,updateTextLayer:__webpack_exports__updateTextLayer,version:__webpack_exports__version},Symbol.toStringTag,{value:"Module"}));var __spreadArray$1=function(vt,ht,bt){if(bt||arguments.length===2)for(var _t=0,xt=ht.length,Et;_t<xt;_t++)(Et||!(_t in ht))&&(Et||(Et=Array.prototype.slice.call(ht,0,_t)),Et[_t]=ht[_t]);return vt.concat(Et||Array.prototype.slice.call(ht))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(vt,ht){var bt={};return allEvents.forEach(function(_t){var xt=vt[_t];xt&&(ht?bt[_t]=function(Et){return xt(Et,ht(_t))}:bt[_t]=xt)}),bt}function makeCancellablePromise(vt){var ht=!1,bt=new Promise(function(_t,xt){vt.then(function(Et){return!ht&&_t(Et)}).catch(function(Et){return!ht&&xt(Et)})});return{promise:bt,cancel:function(){ht=!0}}}var isProduction=!0,prefix="Invariant failed";function invariant(vt,ht){if(!vt){if(isProduction)throw new Error(prefix);var bt=typeof ht=="function"?ht():ht,_t=bt?"".concat(prefix,": ").concat(bt):prefix;throw new Error(_t)}}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(vt,ht,bt){for(bt of vt.keys())if(dequal(bt,ht))return bt}function dequal(vt,ht){var bt,_t,xt;if(vt===ht)return!0;if(vt&&ht&&(bt=vt.constructor)===ht.constructor){if(bt===Date)return vt.getTime()===ht.getTime();if(bt===RegExp)return vt.toString()===ht.toString();if(bt===Array){if((_t=vt.length)===ht.length)for(;_t--&&dequal(vt[_t],ht[_t]););return _t===-1}if(bt===Set){if(vt.size!==ht.size)return!1;for(_t of vt)if(xt=_t,xt&&typeof xt=="object"&&(xt=find(ht,xt),!xt)||!ht.has(xt))return!1;return!0}if(bt===Map){if(vt.size!==ht.size)return!1;for(_t of vt)if(xt=_t[0],xt&&typeof xt=="object"&&(xt=find(ht,xt),!xt)||!dequal(_t[1],ht.get(xt)))return!1;return!0}if(bt===ArrayBuffer)vt=new Uint8Array(vt),ht=new Uint8Array(ht);else if(bt===DataView){if((_t=vt.byteLength)===ht.byteLength)for(;_t--&&vt.getInt8(_t)===ht.getInt8(_t););return _t===-1}if(ArrayBuffer.isView(vt)){if((_t=vt.byteLength)===ht.byteLength)for(;_t--&&vt[_t]===ht[_t];);return _t===-1}if(!bt||typeof vt=="object"){_t=0;for(bt in vt)if(has.call(vt,bt)&&++_t&&!has.call(ht,bt)||!(bt in ht)||!dequal(vt[bt],ht[bt]))return!1;return Object.keys(ht).length===_t}}return vt!==vt&&ht!==ht}const DocumentContext=reactExports.createContext(null);function Message({children:vt,type:ht}){return jsxRuntimeExports.jsx("div",{className:`react-pdf__message react-pdf__message--${ht}`,children:vt})}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(ht){this.pdfDocument=ht}setViewer(ht){this.pdfViewer=ht}setExternalLinkRel(ht){this.externalLinkRel=ht}setExternalLinkTarget(ht){this.externalLinkTarget=ht}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(ht){invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=ht}get rotation(){return 0}set rotation(ht){}goToDestination(ht){return new Promise(bt=>{invariant(this.pdfDocument,"PDF document not loaded."),invariant(ht,"Destination is not specified."),typeof ht=="string"?this.pdfDocument.getDestination(ht).then(bt):Array.isArray(ht)?bt(ht):ht.then(bt)}).then(bt=>{invariant(Array.isArray(bt),`"${bt}" is not a valid destination array.`);const _t=bt[0];new Promise(xt=>{invariant(this.pdfDocument,"PDF document not loaded."),_t instanceof Object?this.pdfDocument.getPageIndex(_t).then(Et=>{xt(Et)}).catch(()=>{invariant(!1,`"${_t}" is not a valid page reference.`)}):typeof _t=="number"?xt(_t):invariant(!1,`"${_t}" is not a valid destination reference.`)}).then(xt=>{const Et=xt+1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(Et>=1&&Et<=this.pagesCount,`"${Et}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:bt,pageIndex:xt,pageNumber:Et})})})}navigateTo(ht){this.goToDestination(ht)}goToPage(ht){const bt=ht-1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(ht>=1&&ht<=this.pagesCount,`"${ht}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:bt,pageNumber:ht})}addLinkAttributes(ht,bt,_t){ht.href=bt,ht.rel=this.externalLinkRel||DEFAULT_LINK_REL,ht.target=_t?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isString(vt){return typeof vt=="string"}function isArrayBuffer(vt){return vt instanceof ArrayBuffer}function isBlob(vt){return invariant(isBrowser,"isBlob can only be used in a browser environment"),vt instanceof Blob}function isDataURI(vt){return isString(vt)&&/^data:/.test(vt)}function dataURItoByteString(vt){invariant(isDataURI(vt),"Invalid data URI.");const[ht="",bt=""]=vt.split(",");return ht.split(";").indexOf("base64")!==-1?atob(bt):unescape(bt)}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(vt){vt&&vt.cancel&&vt.cancel()}function loadFromFile(vt){return new Promise((ht,bt)=>{const _t=new FileReader;_t.onload=()=>{if(!_t.result)return bt(new Error("Error while reading a file."));ht(_t.result)},_t.onerror=xt=>{if(!xt.target)return bt(new Error("Error while reading a file."));const{error:Et}=xt.target;if(!Et)return bt(new Error("Error while reading a file."));switch(Et.code){case Et.NOT_FOUND_ERR:return bt(new Error("Error while reading a file: File not found."));case Et.SECURITY_ERR:return bt(new Error("Error while reading a file: Security error."));case Et.ABORT_ERR:return bt(new Error("Error while reading a file: Aborted."));default:return bt(new Error("Error while reading a file."))}},_t.readAsArrayBuffer(vt)})}function reducer(vt,ht){switch(ht.type){case"RESOLVE":return{value:ht.value,error:void 0};case"REJECT":return{value:!1,error:ht.error};case"RESET":return{value:void 0,error:void 0};default:return vt}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}var __awaiter$1=function(vt,ht,bt,_t){function xt(Et){return Et instanceof bt?Et:new bt(function(wt){wt(Et)})}return new(bt||(bt=Promise))(function(Et,wt){function At(Rt){try{kt(_t.next(Rt))}catch(Pt){wt(Pt)}}function St(Rt){try{kt(_t.throw(Rt))}catch(Pt){wt(Pt)}}function kt(Rt){Rt.done?Et(Rt.value):xt(Rt.value).then(At,St)}kt((_t=_t.apply(vt,ht||[])).next())})},__rest=function(vt,ht){var bt={};for(var _t in vt)Object.prototype.hasOwnProperty.call(vt,_t)&&ht.indexOf(_t)<0&&(bt[_t]=vt[_t]);if(vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,_t=Object.getOwnPropertySymbols(vt);xt<_t.length;xt++)ht.indexOf(_t[xt])<0&&Object.prototype.propertyIsEnumerable.call(vt,_t[xt])&&(bt[_t[xt]]=vt[_t[xt]]);return bt};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(vt,ht)=>{switch(ht){case PasswordResponses.NEED_PASSWORD:{const bt=prompt("Enter the password to open this PDF file.");vt(bt);break}case PasswordResponses.INCORRECT_PASSWORD:{const bt=prompt("Invalid password. Please try again.");vt(bt);break}}};function isParameterObject(vt){return typeof vt=="object"&&vt!==null&&("data"in vt||"range"in vt||"url"in vt)}const Document=reactExports.forwardRef(function(ht,bt){var{children:_t,className:xt,error:Et="Failed to load PDF file.",externalLinkRel:wt,externalLinkTarget:At,file:St,inputRef:kt,imageResourcesPath:Rt,loading:Pt="Loading PDF",noData:Mt="No PDF file specified.",onItemClick:Ft,onLoadError:Lt,onLoadProgress:Dt,onLoadSuccess:Nt,onPassword:$t=defaultOnPassword,onSourceError:Ot,onSourceSuccess:jt,options:Ut,renderMode:Bt,rotate:Vt}=ht,zt=__rest(ht,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[Gt,en]=useResolver(),{value:ln,error:Kt}=Gt,[on,fn]=useResolver(),{value:En,error:gn}=on,wn=reactExports.useRef(new LinkService),pn=reactExports.useRef([]),sn=reactExports.useRef(void 0),Jt=reactExports.useRef(void 0);St&&St!==sn.current&&isParameterObject(St)&&(warning$1(!dequal(St,sn.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),sn.current=St),Ut&&Ut!==Jt.current&&(warning$1(!dequal(Ut,Jt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Jt.current=Ut);const an=reactExports.useRef({scrollPageIntoView:Fn=>{const{dest:Tn,pageNumber:dn,pageIndex:bn=dn-1}=Fn;if(Ft){Ft({dest:Tn,pageIndex:bn,pageNumber:dn});return}const Pn=pn.current[bn];if(Pn){Pn.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${dn} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(bt,()=>({linkService:wn,pages:pn,viewer:an}),[]);function vn(){jt&&jt()}function tn(){Kt&&(warning$1(!1,Kt.toString()),Ot&&Ot(Kt))}function Ht(){en({type:"RESET"})}reactExports.useEffect(Ht,[St,en]);const Wt=reactExports.useCallback(()=>__awaiter$1(this,void 0,void 0,function*(){if(!St)return null;if(typeof St=="string")return isDataURI(St)?{data:dataURItoByteString(St)}:(displayCORSWarning(),{url:St});if(St instanceof PDFDataRangeTransport)return{range:St};if(isArrayBuffer(St))return{data:St};if(isBrowser&&isBlob(St))return{data:yield loadFromFile(St)};if(invariant(typeof St=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant(isParameterObject(St),"Invalid parameter object: need either .data, .range or .url"),"url"in St&&typeof St.url=="string"){if(isDataURI(St.url)){const{url:Fn}=St,Tn=__rest(St,["url"]),dn=dataURItoByteString(Fn);return Object.assign({data:dn},Tn)}displayCORSWarning()}return St}),[St]);reactExports.useEffect(()=>{const Fn=makeCancellablePromise(Wt());return Fn.promise.then(Tn=>{en({type:"RESOLVE",value:Tn})}).catch(Tn=>{en({type:"REJECT",error:Tn})}),()=>{cancelRunningTask(Fn)}},[Wt,en]),reactExports.useEffect(()=>{if(!(typeof ln>"u")){if(ln===!1){tn();return}vn()}},[ln]);function rn(){En&&(Nt&&Nt(En),pn.current=new Array(En.numPages),wn.current.setDocument(En))}function nn(){gn&&(warning$1(!1,gn.toString()),Lt&&Lt(gn))}function hn(){fn({type:"RESET"})}reactExports.useEffect(hn,[fn,ln]);function cn(){if(!ln)return;const Fn=Object.assign(Object.assign({},ln),Ut),Tn=__webpack_exports__getDocument(Fn);Dt&&(Tn.onProgress=Dt),$t&&(Tn.onPassword=$t);const dn=Tn;return dn.promise.then(bn=>{fn({type:"RESOLVE",value:bn})}).catch(bn=>{dn.destroyed||fn({type:"REJECT",error:bn})}),()=>{dn.destroy()}}reactExports.useEffect(cn,[Ut,fn,ln]),reactExports.useEffect(()=>{if(!(typeof En>"u")){if(En===!1){nn();return}rn()}},[En]);function Cn(){wn.current.setViewer(an.current),wn.current.setExternalLinkRel(wt),wn.current.setExternalLinkTarget(At)}reactExports.useEffect(Cn,[wt,At]);function $n(Fn,Tn){pn.current[Fn]=Tn}function Hn(Fn){delete pn.current[Fn]}const On=reactExports.useMemo(()=>({imageResourcesPath:Rt,linkService:wn.current,onItemClick:Ft,pdf:En,registerPage:$n,renderMode:Bt,rotate:Vt,unregisterPage:Hn}),[Rt,Ft,En,Bt,Vt]),Xn=reactExports.useMemo(()=>makeEventProps(zt,()=>En),[zt,En]);function Yn(){return jsxRuntimeExports.jsx(DocumentContext.Provider,{value:On,children:_t})}function Gn(){return St?En==null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof Pt=="function"?Pt():Pt}):En===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof Et=="function"?Et():Et}):Yn():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof Mt=="function"?Mt():Mt})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx("react-pdf__Document",xt),ref:kt,style:{"--scale-factor":"1"}},Xn,{children:Gn()}))});displayWorkerWarning();__webpack_exports__GlobalWorkerOptions.workerSrc="pdf.worker.mjs";__webpack_exports__GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker.min-DKQKFyKK.js",import.meta.url).toString();function Upload(){const[vt,ht]=reactExports.useState(""),[bt,_t]=reactExports.useState(""),[xt,Et]=reactExports.useState(null);reactExports.useState(null);const wt=async At=>{At.preventDefault();const St=new FormData;St.append("title",vt),St.append("file",bt),console.log(vt,bt);const kt=await axios.post("/en/uploadpdf",St,{headers:{"Content-Type":"multipart/form-data"}});console.log(kt),kt.data.status=="ok"&&(alert("Uploaded Successfully!!!"),getPdf())};return jsxRuntimeExports.jsxs("div",{className:"App",children:[jsxRuntimeExports.jsxs("form",{className:"formStyle",onSubmit:wt,children:[jsxRuntimeExports.jsx("h4",{children:"Upload Pdf in React"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"text",className:"form-control",placeholder:"Title",required:!0,onChange:At=>ht(At.target.value)}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"file",class:"form-control",accept:"application/pdf",required:!0,onChange:At=>_t(At.target.files[0])}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{class:"btn btn-primary",type:"submit",children:"Submit"})]}),jsxRuntimeExports.jsxs("div",{className:"uploaded",children:[jsxRuntimeExports.jsx("h4",{children:"Uploaded PDF:"}),jsxRuntimeExports.jsx("div",{className:"output-div",children:xt==null?"":xt.map(At=>jsxRuntimeExports.jsxs("div",{className:"inner-div",children:[jsxRuntimeExports.jsxs("h6",{children:["Title: ",At.title]}),jsxRuntimeExports.jsx("button",{className:"btn btn-primary",onClick:()=>showPdf(At.pdf),children:"Show Pdf"})]}))})]})]})}var core_min={};function commonjsRequire(vt){throw new Error('Could not dynamically require "'+vt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(ht,bt){module.exports=ht.pdfjsLib=bt()})(globalThis,()=>(()=>{var __webpack_modules__=[,(vt,ht)=>{var ss;Object.defineProperty(ht,"__esModule",{value:!0}),ht.VerbosityLevel=ht.Util=ht.UnknownErrorException=ht.UnexpectedResponseException=ht.TextRenderingMode=ht.RenderingIntentFlag=ht.PromiseCapability=ht.PermissionFlag=ht.PasswordResponses=ht.PasswordException=ht.PageActionEventType=ht.OPS=ht.MissingPDFException=ht.MAX_IMAGE_SIZE_TO_CACHE=ht.LINE_FACTOR=ht.LINE_DESCENT_FACTOR=ht.InvalidPDFException=ht.ImageKind=ht.IDENTITY_MATRIX=ht.FormatError=ht.FeatureTest=ht.FONT_IDENTITY_MATRIX=ht.DocumentActionEventType=ht.CMapCompressionType=ht.BaseException=ht.BASELINE_FACTOR=ht.AnnotationType=ht.AnnotationReplyType=ht.AnnotationPrefix=ht.AnnotationMode=ht.AnnotationFlag=ht.AnnotationFieldFlag=ht.AnnotationEditorType=ht.AnnotationEditorPrefix=ht.AnnotationEditorParamsType=ht.AnnotationBorderStyleType=ht.AnnotationActionEventType=ht.AbortException=void 0,ht.assert=Jt,ht.bytesToString=Hn,ht.createValidAbsoluteUrl=vn,ht.getModificationDate=sr,ht.getUuid=Cr,ht.getVerbosityLevel=gn,ht.info=wn,ht.isArrayBuffer=Rn,ht.isArrayEqual=ar,ht.isNodeJS=void 0,ht.normalizeUnicode=gr,ht.objectFromMap=Gn,ht.objectSize=Yn,ht.setVerbosityLevel=En,ht.shadow=tn,ht.string32=Xn,ht.stringToBytes=On,ht.stringToPDFString=Kn,ht.stringToUTF8String=Qn,ht.unreachable=sn,ht.utf8StringToString=Vn,ht.warn=pn;const bt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");ht.isNodeJS=bt;const _t=[1,0,0,1,0,0];ht.IDENTITY_MATRIX=_t;const xt=[.001,0,0,.001,0,0];ht.FONT_IDENTITY_MATRIX=xt;const Et=1e7;ht.MAX_IMAGE_SIZE_TO_CACHE=Et;const wt=1.35;ht.LINE_FACTOR=wt;const At=.35;ht.LINE_DESCENT_FACTOR=At;const St=At/wt;ht.BASELINE_FACTOR=St;const kt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};ht.RenderingIntentFlag=kt;const Rt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};ht.AnnotationMode=Rt;const Pt="pdfjs_internal_editor_";ht.AnnotationEditorPrefix=Pt;const Mt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};ht.AnnotationEditorType=Mt;const Ft={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};ht.AnnotationEditorParamsType=Ft;const Lt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};ht.PermissionFlag=Lt;const Dt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};ht.TextRenderingMode=Dt;const Nt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};ht.ImageKind=Nt;const $t={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};ht.AnnotationType=$t;const Ot={GROUP:"Group",REPLY:"R"};ht.AnnotationReplyType=Ot;const jt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};ht.AnnotationFlag=jt;const Ut={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};ht.AnnotationFieldFlag=Ut;const Bt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};ht.AnnotationBorderStyleType=Bt;const Vt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};ht.AnnotationActionEventType=Vt;const zt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};ht.DocumentActionEventType=zt;const Gt={O:"PageOpen",C:"PageClose"};ht.PageActionEventType=Gt;const en={ERRORS:0,WARNINGS:1,INFOS:5};ht.VerbosityLevel=en;const ln={NONE:0,BINARY:1};ht.CMapCompressionType=ln;const Kt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};ht.OPS=Kt;const on={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};ht.PasswordResponses=on;let fn=en.WARNINGS;function En(Jn){Number.isInteger(Jn)&&(fn=Jn)}function gn(){return fn}function wn(Jn){fn>=en.INFOS&&console.log(`Info: ${Jn}`)}function pn(Jn){fn>=en.WARNINGS&&console.log(`Warning: ${Jn}`)}function sn(Jn){throw new Error(Jn)}function Jt(Jn,Dn){Jn||sn(Dn)}function an(Jn){switch(Jn==null?void 0:Jn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function vn(Jn,Dn=null,Nn=null){if(!Jn)return null;try{if(Nn&&typeof Jn=="string"){if(Nn.addDefaultProtocol&&Jn.startsWith("www.")){const yr=Jn.match(/\./g);(yr==null?void 0:yr.length)>=2&&(Jn=`http://${Jn}`)}if(Nn.tryConvertEncoding)try{Jn=Qn(Jn)}catch{}}const pr=Dn?new URL(Jn,Dn):new URL(Jn);if(an(pr))return pr}catch{}return null}function tn(Jn,Dn,Nn,pr=!1){return Object.defineProperty(Jn,Dn,{value:Nn,enumerable:!pr,configurable:!0,writable:!1}),Nn}const Ht=function(){function Dn(Nn,pr){this.constructor===Dn&&sn("Cannot initialize BaseException."),this.message=Nn,this.name=pr}return Dn.prototype=new Error,Dn.constructor=Dn,Dn}();ht.BaseException=Ht;class Wt extends Ht{constructor(Dn,Nn){super(Dn,"PasswordException"),this.code=Nn}}ht.PasswordException=Wt;class rn extends Ht{constructor(Dn,Nn){super(Dn,"UnknownErrorException"),this.details=Nn}}ht.UnknownErrorException=rn;class nn extends Ht{constructor(Dn){super(Dn,"InvalidPDFException")}}ht.InvalidPDFException=nn;class hn extends Ht{constructor(Dn){super(Dn,"MissingPDFException")}}ht.MissingPDFException=hn;class cn extends Ht{constructor(Dn,Nn){super(Dn,"UnexpectedResponseException"),this.status=Nn}}ht.UnexpectedResponseException=cn;class Cn extends Ht{constructor(Dn){super(Dn,"FormatError")}}ht.FormatError=Cn;class $n extends Ht{constructor(Dn){super(Dn,"AbortException")}}ht.AbortException=$n;function Hn(Jn){(typeof Jn!="object"||(Jn==null?void 0:Jn.length)===void 0)&&sn("Invalid argument for bytesToString");const Dn=Jn.length,Nn=8192;if(Dn<Nn)return String.fromCharCode.apply(null,Jn);const pr=[];for(let yr=0;yr<Dn;yr+=Nn){const Fr=Math.min(yr+Nn,Dn),_n=Jn.subarray(yr,Fr);pr.push(String.fromCharCode.apply(null,_n))}return pr.join("")}function On(Jn){typeof Jn!="string"&&sn("Invalid argument for stringToBytes");const Dn=Jn.length,Nn=new Uint8Array(Dn);for(let pr=0;pr<Dn;++pr)Nn[pr]=Jn.charCodeAt(pr)&255;return Nn}function Xn(Jn){return String.fromCharCode(Jn>>24&255,Jn>>16&255,Jn>>8&255,Jn&255)}function Yn(Jn){return Object.keys(Jn).length}function Gn(Jn){const Dn=Object.create(null);for(const[Nn,pr]of Jn)Dn[Nn]=pr;return Dn}function Fn(){const Jn=new Uint8Array(4);return Jn[0]=1,new Uint32Array(Jn.buffer,0,1)[0]===1}function Tn(){try{return new Function(""),!0}catch{return!1}}class dn{static get isLittleEndian(){return tn(this,"isLittleEndian",Fn())}static get isEvalSupported(){return tn(this,"isEvalSupported",Tn())}static get isOffscreenCanvasSupported(){return tn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?tn(this,"platform",{isWin:!1,isMac:!1}):tn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Dn,Nn;return tn(this,"isCSSRoundSupported",(Nn=(Dn=globalThis.CSS)==null?void 0:Dn.supports)==null?void 0:Nn.call(Dn,"width: round(1.5px, 1px)"))}}ht.FeatureTest=dn;const bn=[...Array(256).keys()].map(Jn=>Jn.toString(16).padStart(2,"0"));class Pn{static makeHexColor(Dn,Nn,pr){return`#${bn[Dn]}${bn[Nn]}${bn[pr]}`}static scaleMinMax(Dn,Nn){let pr;Dn[0]?(Dn[0]<0&&(pr=Nn[0],Nn[0]=Nn[1],Nn[1]=pr),Nn[0]*=Dn[0],Nn[1]*=Dn[0],Dn[3]<0&&(pr=Nn[2],Nn[2]=Nn[3],Nn[3]=pr),Nn[2]*=Dn[3],Nn[3]*=Dn[3]):(pr=Nn[0],Nn[0]=Nn[2],Nn[2]=pr,pr=Nn[1],Nn[1]=Nn[3],Nn[3]=pr,Dn[1]<0&&(pr=Nn[2],Nn[2]=Nn[3],Nn[3]=pr),Nn[2]*=Dn[1],Nn[3]*=Dn[1],Dn[2]<0&&(pr=Nn[0],Nn[0]=Nn[1],Nn[1]=pr),Nn[0]*=Dn[2],Nn[1]*=Dn[2]),Nn[0]+=Dn[4],Nn[1]+=Dn[4],Nn[2]+=Dn[5],Nn[3]+=Dn[5]}static transform(Dn,Nn){return[Dn[0]*Nn[0]+Dn[2]*Nn[1],Dn[1]*Nn[0]+Dn[3]*Nn[1],Dn[0]*Nn[2]+Dn[2]*Nn[3],Dn[1]*Nn[2]+Dn[3]*Nn[3],Dn[0]*Nn[4]+Dn[2]*Nn[5]+Dn[4],Dn[1]*Nn[4]+Dn[3]*Nn[5]+Dn[5]]}static applyTransform(Dn,Nn){const pr=Dn[0]*Nn[0]+Dn[1]*Nn[2]+Nn[4],yr=Dn[0]*Nn[1]+Dn[1]*Nn[3]+Nn[5];return[pr,yr]}static applyInverseTransform(Dn,Nn){const pr=Nn[0]*Nn[3]-Nn[1]*Nn[2],yr=(Dn[0]*Nn[3]-Dn[1]*Nn[2]+Nn[2]*Nn[5]-Nn[4]*Nn[3])/pr,Fr=(-Dn[0]*Nn[1]+Dn[1]*Nn[0]+Nn[4]*Nn[1]-Nn[5]*Nn[0])/pr;return[yr,Fr]}static getAxialAlignedBoundingBox(Dn,Nn){const pr=this.applyTransform(Dn,Nn),yr=this.applyTransform(Dn.slice(2,4),Nn),Fr=this.applyTransform([Dn[0],Dn[3]],Nn),_n=this.applyTransform([Dn[2],Dn[1]],Nn);return[Math.min(pr[0],yr[0],Fr[0],_n[0]),Math.min(pr[1],yr[1],Fr[1],_n[1]),Math.max(pr[0],yr[0],Fr[0],_n[0]),Math.max(pr[1],yr[1],Fr[1],_n[1])]}static inverseTransform(Dn){const Nn=Dn[0]*Dn[3]-Dn[1]*Dn[2];return[Dn[3]/Nn,-Dn[1]/Nn,-Dn[2]/Nn,Dn[0]/Nn,(Dn[2]*Dn[5]-Dn[4]*Dn[3])/Nn,(Dn[4]*Dn[1]-Dn[5]*Dn[0])/Nn]}static singularValueDecompose2dScale(Dn){const Nn=[Dn[0],Dn[2],Dn[1],Dn[3]],pr=Dn[0]*Nn[0]+Dn[1]*Nn[2],yr=Dn[0]*Nn[1]+Dn[1]*Nn[3],Fr=Dn[2]*Nn[0]+Dn[3]*Nn[2],_n=Dn[2]*Nn[1]+Dn[3]*Nn[3],Zn=(pr+_n)/2,cr=Math.sqrt((pr+_n)**2-4*(pr*_n-Fr*yr))/2,br=Zn+cr||1,Er=Zn-cr||1;return[Math.sqrt(br),Math.sqrt(Er)]}static normalizeRect(Dn){const Nn=Dn.slice(0);return Dn[0]>Dn[2]&&(Nn[0]=Dn[2],Nn[2]=Dn[0]),Dn[1]>Dn[3]&&(Nn[1]=Dn[3],Nn[3]=Dn[1]),Nn}static intersect(Dn,Nn){const pr=Math.max(Math.min(Dn[0],Dn[2]),Math.min(Nn[0],Nn[2])),yr=Math.min(Math.max(Dn[0],Dn[2]),Math.max(Nn[0],Nn[2]));if(pr>yr)return null;const Fr=Math.max(Math.min(Dn[1],Dn[3]),Math.min(Nn[1],Nn[3])),_n=Math.min(Math.max(Dn[1],Dn[3]),Math.max(Nn[1],Nn[3]));return Fr>_n?null:[pr,Fr,yr,_n]}static bezierBoundingBox(Dn,Nn,pr,yr,Fr,_n,Zn,cr){const br=[],Er=[[],[]];let fr,yn,mn,Mn,Wn,qn,er,ir;for(let zr=0;zr<2;++zr){if(zr===0?(yn=6*Dn-12*pr+6*Fr,fr=-3*Dn+9*pr-9*Fr+3*Zn,mn=3*pr-3*Dn):(yn=6*Nn-12*yr+6*_n,fr=-3*Nn+9*yr-9*_n+3*cr,mn=3*yr-3*Nn),Math.abs(fr)<1e-12){if(Math.abs(yn)<1e-12)continue;Mn=-mn/yn,0<Mn&&Mn<1&&br.push(Mn);continue}er=yn*yn-4*mn*fr,ir=Math.sqrt(er),!(er<0)&&(Wn=(-yn+ir)/(2*fr),0<Wn&&Wn<1&&br.push(Wn),qn=(-yn-ir)/(2*fr),0<qn&&qn<1&&br.push(qn))}let _r=br.length,mr;const dr=_r;for(;_r--;)Mn=br[_r],mr=1-Mn,Er[0][_r]=mr*mr*mr*Dn+3*mr*mr*Mn*pr+3*mr*Mn*Mn*Fr+Mn*Mn*Mn*Zn,Er[1][_r]=mr*mr*mr*Nn+3*mr*mr*Mn*yr+3*mr*Mn*Mn*_n+Mn*Mn*Mn*cr;return Er[0][dr]=Dn,Er[1][dr]=Nn,Er[0][dr+1]=Zn,Er[1][dr+1]=cr,Er[0].length=Er[1].length=dr+2,[Math.min(...Er[0]),Math.min(...Er[1]),Math.max(...Er[0]),Math.max(...Er[1])]}}ht.Util=Pn;const Bn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Kn(Jn){if(Jn[0]>=""){let Nn;if(Jn[0]===""&&Jn[1]===""?Nn="utf-16be":Jn[0]===""&&Jn[1]===""?Nn="utf-16le":Jn[0]===""&&Jn[1]===""&&Jn[2]===""&&(Nn="utf-8"),Nn)try{const pr=new TextDecoder(Nn,{fatal:!0}),yr=On(Jn);return pr.decode(yr)}catch(pr){pn(`stringToPDFString: "${pr}".`)}}const Dn=[];for(let Nn=0,pr=Jn.length;Nn<pr;Nn++){const yr=Bn[Jn.charCodeAt(Nn)];Dn.push(yr?String.fromCharCode(yr):Jn.charAt(Nn))}return Dn.join("")}function Qn(Jn){return decodeURIComponent(escape(Jn))}function Vn(Jn){return unescape(encodeURIComponent(Jn))}function Rn(Jn){return typeof Jn=="object"&&(Jn==null?void 0:Jn.byteLength)!==void 0}function ar(Jn,Dn){if(Jn.length!==Dn.length)return!1;for(let Nn=0,pr=Jn.length;Nn<pr;Nn++)if(Jn[Nn]!==Dn[Nn])return!1;return!0}function sr(Jn=new Date){return[Jn.getUTCFullYear().toString(),(Jn.getUTCMonth()+1).toString().padStart(2,"0"),Jn.getUTCDate().toString().padStart(2,"0"),Jn.getUTCHours().toString().padStart(2,"0"),Jn.getUTCMinutes().toString().padStart(2,"0"),Jn.getUTCSeconds().toString().padStart(2,"0")].join("")}class Mr{constructor(){Qt(this,ss,!1);this.promise=new Promise((Dn,Nn)=>{this.resolve=pr=>{qt(this,ss,!0),Dn(pr)},this.reject=pr=>{qt(this,ss,!0),Nn(pr)}})}get settled(){return Ct(this,ss)}}ss=new WeakMap,ht.PromiseCapability=Mr;let Lr=null,Qr=null;function gr(Jn){return Lr||(Lr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Qr=new Map([["","t"]])),Jn.replaceAll(Lr,(Dn,Nn,pr)=>Nn?Nn.normalize("NFKC"):Qr.get(pr))}function Cr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Jn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Jn);else for(let Dn=0;Dn<32;Dn++)Jn[Dn]=Math.floor(Math.random()*255);return Hn(Jn)}const Wr="pdfjs_internal_id_";ht.AnnotationPrefix=Wr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var vt,bt,_t,xt,rm,Oy,At,St,kt,Rt,Pt,Mt,Ft,Lt,Dt,Iy,$t,Ot,Ax,Ut,Bt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(zt){if(typeof zt=="string"||zt instanceof URL?zt={url:zt}:(0,_util.isArrayBuffer)(zt)&&(zt={data:zt}),typeof zt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!zt.url&&!zt.data&&!zt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Gt=new PDFDocumentLoadingTask,{docId:en}=Gt,ln=zt.url?getUrlProp(zt.url):null,Kt=zt.data?getDataProp(zt.data):null,on=zt.httpHeaders||null,fn=zt.withCredentials===!0,En=zt.password??null,gn=zt.range instanceof PDFDataRangeTransport?zt.range:null,wn=Number.isInteger(zt.rangeChunkSize)&&zt.rangeChunkSize>0?zt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let pn=zt.worker instanceof PDFWorker?zt.worker:null;const sn=zt.verbosity,Jt=typeof zt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(zt.docBaseUrl)?zt.docBaseUrl:null,an=typeof zt.cMapUrl=="string"?zt.cMapUrl:null,vn=zt.cMapPacked!==!1,tn=zt.CMapReaderFactory||DefaultCMapReaderFactory,Ht=typeof zt.standardFontDataUrl=="string"?zt.standardFontDataUrl:null,Wt=zt.StandardFontDataFactory||DefaultStandardFontDataFactory,rn=zt.stopAtErrors!==!0,nn=Number.isInteger(zt.maxImageSize)&&zt.maxImageSize>-1?zt.maxImageSize:-1,hn=zt.isEvalSupported!==!1,cn=typeof zt.isOffscreenCanvasSupported=="boolean"?zt.isOffscreenCanvasSupported:!_util.isNodeJS,Cn=Number.isInteger(zt.canvasMaxAreaInBytes)?zt.canvasMaxAreaInBytes:-1,$n=typeof zt.disableFontFace=="boolean"?zt.disableFontFace:_util.isNodeJS,Hn=zt.fontExtraProperties===!0,On=zt.enableXfa===!0,Xn=zt.ownerDocument||globalThis.document,Yn=zt.disableRange===!0,Gn=zt.disableStream===!0,Fn=zt.disableAutoFetch===!0,Tn=zt.pdfBug===!0,dn=gn?gn.length:zt.length??NaN,bn=typeof zt.useSystemFonts=="boolean"?zt.useSystemFonts:!_util.isNodeJS&&!$n,Pn=typeof zt.useWorkerFetch=="boolean"?zt.useWorkerFetch:tn===_display_utils.DOMCMapReaderFactory&&Wt===_display_utils.DOMStandardFontDataFactory&&an&&Ht&&(0,_display_utils.isValidFetchUrl)(an,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Ht,document.baseURI),Bn=zt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Xn}),Kn=zt.filterFactory||new DefaultFilterFactory({docId:en,ownerDocument:Xn}),Qn=null;(0,_util.setVerbosityLevel)(sn);const Vn={canvasFactory:Bn,filterFactory:Kn};if(Pn||(Vn.cMapReaderFactory=new tn({baseUrl:an,isCompressed:vn}),Vn.standardFontDataFactory=new Wt({baseUrl:Ht})),!pn){const sr={verbosity:sn,port:_worker_options.GlobalWorkerOptions.workerPort};pn=sr.port?PDFWorker.fromPort(sr):new PDFWorker(sr),Gt._worker=pn}const Rn={docId:en,apiVersion:"3.11.174",data:Kt,password:En,disableAutoFetch:Fn,rangeChunkSize:wn,length:dn,docBaseUrl:Jt,enableXfa:On,evaluatorOptions:{maxImageSize:nn,disableFontFace:$n,ignoreErrors:rn,isEvalSupported:hn,isOffscreenCanvasSupported:cn,canvasMaxAreaInBytes:Cn,fontExtraProperties:Hn,useSystemFonts:bn,cMapUrl:Pn?an:null,standardFontDataUrl:Pn?Ht:null}},ar={ignoreErrors:rn,isEvalSupported:hn,disableFontFace:$n,fontExtraProperties:Hn,enableXfa:On,ownerDocument:Xn,disableAutoFetch:Fn,pdfBug:Tn,styleElement:Qn};return pn.promise.then(function(){if(Gt.destroyed)throw new Error("Loading aborted");const sr=_fetchDocument(pn,Rn),Mr=new Promise(function(Lr){let Qr;gn?Qr=new _transport_stream.PDFDataTransportStream({length:dn,initialData:gn.initialData,progressiveDone:gn.progressiveDone,contentDispositionFilename:gn.contentDispositionFilename,disableRange:Yn,disableStream:Gn},gn):Kt||(Qr=(Cr=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Cr):(0,_display_utils.isValidFetchUrl)(Cr.url)?new _displayFetch_stream.PDFFetchStream(Cr):new _displayNetwork.PDFNetworkStream(Cr))({url:ln,length:dn,httpHeaders:on,withCredentials:fn,rangeChunkSize:wn,disableRange:Yn,disableStream:Gn})),Lr(Qr)});return Promise.all([sr,Mr]).then(function([Lr,Qr]){if(Gt.destroyed)throw new Error("Loading aborted");const gr=new _message_handler.MessageHandler(en,Lr,pn.port),Cr=new WorkerTransport(gr,Gt,Qr,ar,Vn);Gt._transport=Cr,gr.send("Ready",null)})}).catch(Gt._capability.reject),Gt}async function _fetchDocument(zt,Gt){if(zt.destroyed)throw new Error("Worker was destroyed");const en=await zt.messageHandler.sendWithPromise("GetDocRequest",Gt,Gt.data?[Gt.data.buffer]:null);if(zt.destroyed)throw new Error("Worker was destroyed");return en}function getUrlProp(zt){if(zt instanceof URL)return zt.href;try{return new URL(zt,window.location).href}catch{if(_util.isNodeJS&&typeof zt=="string")return zt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(zt){if(_util.isNodeJS&&typeof Buffer<"u"&&zt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(zt instanceof Uint8Array&&zt.byteLength===zt.buffer.byteLength)return zt;if(typeof zt=="string")return(0,_util.stringToBytes)(zt);if(typeof zt=="object"&&!isNaN(zt==null?void 0:zt.length)||(0,_util.isArrayBuffer)(zt))return new Uint8Array(zt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const ht=class ht{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ba(ht,vt)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Gt,en,ln;this.destroyed=!0;try{(Gt=this._worker)!=null&&Gt.port&&(this._worker._pendingDestroy=!0),await((en=this._transport)==null?void 0:en.destroy())}catch(Kt){throw(ln=this._worker)!=null&&ln.port&&delete this._worker._pendingDestroy,Kt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};vt=new WeakMap,Qt(ht,vt,0);let PDFDocumentLoadingTask=ht;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Gt,en,ln=!1,Kt=null){this.length=Gt,this.initialData=en,this.progressiveDone=ln,this.contentDispositionFilename=Kt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Gt){this._rangeListeners.push(Gt)}addProgressListener(Gt){this._progressListeners.push(Gt)}addProgressiveReadListener(Gt){this._progressiveReadListeners.push(Gt)}addProgressiveDoneListener(Gt){this._progressiveDoneListeners.push(Gt)}onDataRange(Gt,en){for(const ln of this._rangeListeners)ln(Gt,en)}onDataProgress(Gt,en){this._readyCapability.promise.then(()=>{for(const ln of this._progressListeners)ln(Gt,en)})}onDataProgressiveRead(Gt){this._readyCapability.promise.then(()=>{for(const en of this._progressiveReadListeners)en(Gt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Gt of this._progressiveDoneListeners)Gt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Gt,en){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Gt,en){this._pdfInfo=Gt,this._transport=en,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(ln=>{if(!ln)return ln;const Kt=[];for(const on in ln)Kt.push(...ln[on]);return Kt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Gt){return this._transport.getPage(Gt)}getPageIndex(Gt){return this._transport.getPageIndex(Gt)}getDestinations(){return this._transport.getDestinations()}getDestination(Gt){return this._transport.getDestination(Gt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Gt=!1){return this._transport.startCleanup(Gt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Gt,en,ln,Kt=!1){Qt(this,xt);Qt(this,bt,null);Qt(this,_t,!1);this._pageIndex=Gt,this._pageInfo=en,this._transport=ln,this._stats=Kt?new _display_utils.StatTimer:null,this._pdfBug=Kt,this.commonObjs=ln.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Gt,rotation:en=this.rotate,offsetX:ln=0,offsetY:Kt=0,dontFlip:on=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Gt,rotation:en,offsetX:ln,offsetY:Kt,dontFlip:on})}getAnnotations({intent:Gt="display"}={}){const en=this._transport.getRenderingIntent(Gt);return this._transport.getAnnotations(this._pageIndex,en.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Gt;return((Gt=this._transport._htmlForXfa)==null?void 0:Gt.children[this._pageIndex])||null}render({canvasContext:Gt,viewport:en,intent:ln="display",annotationMode:Kt=_util.AnnotationMode.ENABLE,transform:on=null,background:fn=null,optionalContentConfigPromise:En=null,annotationCanvasMap:gn=null,pageColors:wn=null,printAnnotationStorage:pn=null}){var Wt,rn;(Wt=this._stats)==null||Wt.time("Overall");const sn=this._transport.getRenderingIntent(ln,Kt,pn);qt(this,_t,!1),Xt(this,xt,Oy).call(this),En||(En=this._transport.getOptionalContentConfig());let Jt=this._intentStates.get(sn.cacheKey);Jt||(Jt=Object.create(null),this._intentStates.set(sn.cacheKey,Jt)),Jt.streamReaderCancelTimeout&&(clearTimeout(Jt.streamReaderCancelTimeout),Jt.streamReaderCancelTimeout=null);const an=!!(sn.renderingIntent&_util.RenderingIntentFlag.PRINT);Jt.displayReadyCapability||(Jt.displayReadyCapability=new _util.PromiseCapability,Jt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(rn=this._stats)==null||rn.time("Page Request"),this._pumpOperatorList(sn));const vn=nn=>{var hn,cn;Jt.renderTasks.delete(tn),(this._maybeCleanupAfterRender||an)&&qt(this,_t,!0),Xt(this,xt,rm).call(this,!an),nn?(tn.capability.reject(nn),this._abortOperatorList({intentState:Jt,reason:nn instanceof Error?nn:new Error(nn)})):tn.capability.resolve(),(hn=this._stats)==null||hn.timeEnd("Rendering"),(cn=this._stats)==null||cn.timeEnd("Overall")},tn=new InternalRenderTask({callback:vn,params:{canvasContext:Gt,viewport:en,transform:on,background:fn},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:gn,operatorList:Jt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!an,pdfBug:this._pdfBug,pageColors:wn});(Jt.renderTasks||(Jt.renderTasks=new Set)).add(tn);const Ht=tn.task;return Promise.all([Jt.displayReadyCapability.promise,En]).then(([nn,hn])=>{var cn;if(this.destroyed){vn();return}(cn=this._stats)==null||cn.time("Rendering"),tn.initializeGraphics({transparency:nn,optionalContentConfig:hn}),tn.operatorListChanged()}).catch(vn),Ht}getOperatorList({intent:Gt="display",annotationMode:en=_util.AnnotationMode.ENABLE,printAnnotationStorage:ln=null}={}){var gn;function Kt(){fn.operatorList.lastChunk&&(fn.opListReadCapability.resolve(fn.operatorList),fn.renderTasks.delete(En))}const on=this._transport.getRenderingIntent(Gt,en,ln,!0);let fn=this._intentStates.get(on.cacheKey);fn||(fn=Object.create(null),this._intentStates.set(on.cacheKey,fn));let En;return fn.opListReadCapability||(En=Object.create(null),En.operatorListChanged=Kt,fn.opListReadCapability=new _util.PromiseCapability,(fn.renderTasks||(fn.renderTasks=new Set)).add(En),fn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(gn=this._stats)==null||gn.time("Page Request"),this._pumpOperatorList(on)),fn.opListReadCapability.promise}streamTextContent({includeMarkedContent:Gt=!1,disableNormalization:en=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Gt===!0,disableNormalization:en===!0},{highWaterMark:100,size(Kt){return Kt.items.length}})}getTextContent(Gt={}){if(this._transport._htmlForXfa)return this.getXfa().then(ln=>_xfa_text.XfaText.textContent(ln));const en=this.streamTextContent(Gt);return new Promise(function(ln,Kt){function on(){fn.read().then(function({value:gn,done:wn}){if(wn){ln(En);return}Object.assign(En.styles,gn.styles),En.items.push(...gn.items),on()},Kt)}const fn=en.getReader(),En={items:[],styles:Object.create(null)};on()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Gt=[];for(const en of this._intentStates.values())if(this._abortOperatorList({intentState:en,reason:new Error("Page was destroyed."),force:!0}),!en.opListReadCapability)for(const ln of en.renderTasks)Gt.push(ln.completed),ln.cancel();return this.objs.clear(),qt(this,_t,!1),Xt(this,xt,Oy).call(this),Promise.all(Gt)}cleanup(Gt=!1){qt(this,_t,!0);const en=Xt(this,xt,rm).call(this,!1);return Gt&&en&&this._stats&&(this._stats=new _display_utils.StatTimer),en}_startRenderPage(Gt,en){var Kt,on;const ln=this._intentStates.get(en);ln&&((Kt=this._stats)==null||Kt.timeEnd("Page Request"),(on=ln.displayReadyCapability)==null||on.resolve(Gt))}_renderPageChunk(Gt,en){for(let ln=0,Kt=Gt.length;ln<Kt;ln++)en.operatorList.fnArray.push(Gt.fnArray[ln]),en.operatorList.argsArray.push(Gt.argsArray[ln]);en.operatorList.lastChunk=Gt.lastChunk,en.operatorList.separateAnnots=Gt.separateAnnots;for(const ln of en.renderTasks)ln.operatorListChanged();Gt.lastChunk&&Xt(this,xt,rm).call(this,!0)}_pumpOperatorList({renderingIntent:Gt,cacheKey:en,annotationStorageSerializable:ln}){const{map:Kt,transfers:on}=ln,En=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Gt,cacheKey:en,annotationStorage:Kt},on).getReader(),gn=this._intentStates.get(en);gn.streamReader=En;const wn=()=>{En.read().then(({value:pn,done:sn})=>{if(sn){gn.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(pn,gn),wn())},pn=>{if(gn.streamReader=null,!this._transport.destroyed){if(gn.operatorList){gn.operatorList.lastChunk=!0;for(const sn of gn.renderTasks)sn.operatorListChanged();Xt(this,xt,rm).call(this,!0)}if(gn.displayReadyCapability)gn.displayReadyCapability.reject(pn);else if(gn.opListReadCapability)gn.opListReadCapability.reject(pn);else throw pn}})};wn()}_abortOperatorList({intentState:Gt,reason:en,force:ln=!1}){if(Gt.streamReader){if(Gt.streamReaderCancelTimeout&&(clearTimeout(Gt.streamReaderCancelTimeout),Gt.streamReaderCancelTimeout=null),!ln){if(Gt.renderTasks.size>0)return;if(en instanceof _display_utils.RenderingCancelledException){let Kt=RENDERING_CANCELLED_TIMEOUT;en.extraDelay>0&&en.extraDelay<1e3&&(Kt+=en.extraDelay),Gt.streamReaderCancelTimeout=setTimeout(()=>{Gt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Gt,reason:en,force:!0})},Kt);return}}if(Gt.streamReader.cancel(new _util.AbortException(en.message)).catch(()=>{}),Gt.streamReader=null,!this._transport.destroyed){for(const[Kt,on]of this._intentStates)if(on===Gt){this._intentStates.delete(Kt);break}this.cleanup()}}}get stats(){return this._stats}}bt=new WeakMap,_t=new WeakMap,xt=new WeakSet,rm=function(Gt=!1){if(Xt(this,xt,Oy).call(this),!Ct(this,_t)||this.destroyed)return!1;if(Gt)return qt(this,bt,setTimeout(()=>{qt(this,bt,null),Xt(this,xt,rm).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:en,operatorList:ln}of this._intentStates.values())if(en.size>0||!ln.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),qt(this,_t,!1),!0},Oy=function(){Ct(this,bt)&&(clearTimeout(Ct(this,bt)),qt(this,bt,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Qt(this,At,new Set);Qt(this,St,Promise.resolve())}postMessage(Gt,en){const ln={data:structuredClone(Gt,en?{transfer:en}:null)};Ct(this,St).then(()=>{for(const Kt of Ct(this,At))Kt.call(this,ln)})}addEventListener(Gt,en){Ct(this,At).add(en)}removeEventListener(Gt,en){Ct(this,At).delete(en)}terminate(){Ct(this,At).clear()}}At=new WeakMap,St=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const zt=(kt=document==null?void 0:document.currentScript)==null?void 0:kt.src;zt&&(PDFWorkerUtil.fallbackWorkerSrc=zt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(zt,Gt){let en;try{if(en=new URL(zt),!en.origin||en.origin==="null")return!1}catch{return!1}const ln=new URL(Gt,en);return en.origin===ln.origin},PDFWorkerUtil.createCDNWrapper=function(zt){const Gt=`importScripts("${zt}");`;return URL.createObjectURL(new Blob([Gt]))}}const _PDFWorker=class _PDFWorker{constructor({name:zt=null,port:Gt=null,verbosity:en=(0,_util.getVerbosityLevel)()}={}){var ln;if(this.name=zt,this.destroyed=!1,this.verbosity=en,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Gt){if((ln=Ct(_PDFWorker,Rt))!=null&&ln.has(Gt))throw new Error("Cannot use more than one PDFWorker per port.");(Ct(_PDFWorker,Rt)||qt(_PDFWorker,Rt,new WeakMap)).set(Gt,this),this._initializeFromPort(Gt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(zt){this._port=zt,this._messageHandler=new _message_handler.MessageHandler("main","worker",zt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:zt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,zt)||(zt=PDFWorkerUtil.createCDNWrapper(new URL(zt,window.location).href));const Gt=new Worker(zt),en=new _message_handler.MessageHandler("main","worker",Gt),ln=()=>{Gt.removeEventListener("error",Kt),en.destroy(),Gt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Kt=()=>{this._webWorker||ln()};Gt.addEventListener("error",Kt),en.on("test",fn=>{if(Gt.removeEventListener("error",Kt),this.destroyed){ln();return}fn?(this._messageHandler=en,this._port=Gt,this._webWorker=Gt,this._readyCapability.resolve(),en.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),en.destroy(),Gt.terminate())}),en.on("ready",fn=>{if(Gt.removeEventListener("error",Kt),this.destroyed){ln();return}try{on()}catch{this._setupFakeWorker()}});const on=()=>{const fn=new Uint8Array;en.send("test",fn,[fn.buffer])};on();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(zt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Gt=new LoopbackPort;this._port=Gt;const en=`fake${PDFWorkerUtil.fakeWorkerId++}`,ln=new _message_handler.MessageHandler(en+"_worker",en,Gt);zt.setup(ln,Gt);const Kt=new _message_handler.MessageHandler(en,en+"_worker",Gt);this._messageHandler=Kt,this._readyCapability.resolve(),Kt.send("configure",{verbosity:this.verbosity})}).catch(zt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${zt.message}".`))})}destroy(){var zt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(zt=Ct(_PDFWorker,Rt))==null||zt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(zt){var en;if(!(zt!=null&&zt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Gt=(en=Ct(this,Rt))==null?void 0:en.get(zt.port);if(Gt){if(Gt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Gt}return new _PDFWorker(zt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var zt;try{return((zt=globalThis.pdfjsWorker)==null?void 0:zt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};Rt=new WeakMap,Qt(_PDFWorker,Rt);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Gt,en,ln,Kt,on){Qt(this,Dt);Qt(this,Pt,new Map);Qt(this,Mt,new Map);Qt(this,Ft,new Map);Qt(this,Lt,null);this.messageHandler=Gt,this.loadingTask=en,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Kt.ownerDocument,styleElement:Kt.styleElement}),this._params=Kt,this.canvasFactory=on.canvasFactory,this.filterFactory=on.filterFactory,this.cMapReaderFactory=on.cMapReaderFactory,this.standardFontDataFactory=on.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=ln,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Gt,en=_util.AnnotationMode.ENABLE,ln=null,Kt=!1){let on=_util.RenderingIntentFlag.DISPLAY,fn=_annotation_storage.SerializableEmpty;switch(Gt){case"any":on=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":on=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Gt}`)}switch(en){case _util.AnnotationMode.DISABLE:on+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:on+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:on+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,fn=(on&_util.RenderingIntentFlag.PRINT&&ln instanceof _annotation_storage.PrintAnnotationStorage?ln:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${en}`)}return Kt&&(on+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:on,cacheKey:`${on}_${fn.hash}`,annotationStorageSerializable:fn}}destroy(){var ln;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(ln=Ct(this,Lt))==null||ln.reject(new Error("Worker was destroyed during onPassword callback"));const Gt=[];for(const Kt of Ct(this,Mt).values())Gt.push(Kt._destroy());Ct(this,Mt).clear(),Ct(this,Ft).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const en=this.messageHandler.sendWithPromise("Terminate",null);return Gt.push(en),Promise.all(Gt).then(()=>{var Kt;this.commonObjs.clear(),this.fontLoader.clear(),Ct(this,Pt).clear(),this.filterFactory.destroy(),(Kt=this._networkStream)==null||Kt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Gt,loadingTask:en}=this;Gt.on("GetReader",(ln,Kt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=on=>{this._lastProgress={loaded:on.loaded,total:on.total}},Kt.onPull=()=>{this._fullReader.read().then(function({value:on,done:fn}){if(fn){Kt.close();return}(0,_util.assert)(on instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Kt.enqueue(new Uint8Array(on),1,[on])}).catch(on=>{Kt.error(on)})},Kt.onCancel=on=>{this._fullReader.cancel(on),Kt.ready.catch(fn=>{if(!this.destroyed)throw fn})}}),Gt.on("ReaderHeadersReady",ln=>{const Kt=new _util.PromiseCapability,on=this._fullReader;return on.headersReady.then(()=>{var fn;(!on.isStreamingSupported||!on.isRangeSupported)&&(this._lastProgress&&((fn=en.onProgress)==null||fn.call(en,this._lastProgress)),on.onProgress=En=>{var gn;(gn=en.onProgress)==null||gn.call(en,{loaded:En.loaded,total:En.total})}),Kt.resolve({isStreamingSupported:on.isStreamingSupported,isRangeSupported:on.isRangeSupported,contentLength:on.contentLength})},Kt.reject),Kt.promise}),Gt.on("GetRangeReader",(ln,Kt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const on=this._networkStream.getRangeReader(ln.begin,ln.end);if(!on){Kt.close();return}Kt.onPull=()=>{on.read().then(function({value:fn,done:En}){if(En){Kt.close();return}(0,_util.assert)(fn instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Kt.enqueue(new Uint8Array(fn),1,[fn])}).catch(fn=>{Kt.error(fn)})},Kt.onCancel=fn=>{on.cancel(fn),Kt.ready.catch(En=>{if(!this.destroyed)throw En})}}),Gt.on("GetDoc",({pdfInfo:ln})=>{this._numPages=ln.numPages,this._htmlForXfa=ln.htmlForXfa,delete ln.htmlForXfa,en._capability.resolve(new PDFDocumentProxy(ln,this))}),Gt.on("DocException",function(ln){let Kt;switch(ln.name){case"PasswordException":Kt=new _util.PasswordException(ln.message,ln.code);break;case"InvalidPDFException":Kt=new _util.InvalidPDFException(ln.message);break;case"MissingPDFException":Kt=new _util.MissingPDFException(ln.message);break;case"UnexpectedResponseException":Kt=new _util.UnexpectedResponseException(ln.message,ln.status);break;case"UnknownErrorException":Kt=new _util.UnknownErrorException(ln.message,ln.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}en._capability.reject(Kt)}),Gt.on("PasswordRequest",ln=>{if(qt(this,Lt,new _util.PromiseCapability),en.onPassword){const Kt=on=>{on instanceof Error?Ct(this,Lt).reject(on):Ct(this,Lt).resolve({password:on})};try{en.onPassword(Kt,ln.code)}catch(on){Ct(this,Lt).reject(on)}}else Ct(this,Lt).reject(new _util.PasswordException(ln.message,ln.code));return Ct(this,Lt).promise}),Gt.on("DataLoaded",ln=>{var Kt;(Kt=en.onProgress)==null||Kt.call(en,{loaded:ln.length,total:ln.length}),this.downloadInfoCapability.resolve(ln)}),Gt.on("StartRenderPage",ln=>{if(this.destroyed)return;Ct(this,Mt).get(ln.pageIndex)._startRenderPage(ln.transparency,ln.cacheKey)}),Gt.on("commonobj",([ln,Kt,on])=>{var fn;if(!this.destroyed&&!this.commonObjs.has(ln))switch(Kt){case"Font":const En=this._params;if("error"in on){const pn=on.error;(0,_util.warn)(`Error during font loading: ${pn}`),this.commonObjs.resolve(ln,pn);break}const gn=En.pdfBug&&((fn=globalThis.FontInspector)!=null&&fn.enabled)?(pn,sn)=>globalThis.FontInspector.fontAdded(pn,sn):null,wn=new _font_loader.FontFaceObject(on,{isEvalSupported:En.isEvalSupported,disableFontFace:En.disableFontFace,ignoreErrors:En.ignoreErrors,inspectFont:gn});this.fontLoader.bind(wn).catch(pn=>Gt.sendWithPromise("FontFallback",{id:ln})).finally(()=>{!En.fontExtraProperties&&wn.data&&(wn.data=null),this.commonObjs.resolve(ln,wn)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(ln,on);break;default:throw new Error(`Got unknown common object type ${Kt}`)}}),Gt.on("obj",([ln,Kt,on,fn])=>{var gn;if(this.destroyed)return;const En=Ct(this,Mt).get(Kt);if(!En.objs.has(ln))switch(on){case"Image":if(En.objs.resolve(ln,fn),fn){let wn;if(fn.bitmap){const{width:pn,height:sn}=fn;wn=pn*sn*4}else wn=((gn=fn.data)==null?void 0:gn.length)||0;wn>_util.MAX_IMAGE_SIZE_TO_CACHE&&(En._maybeCleanupAfterRender=!0)}break;case"Pattern":En.objs.resolve(ln,fn);break;default:throw new Error(`Got unknown object type ${on}`)}}),Gt.on("DocProgress",ln=>{var Kt;this.destroyed||(Kt=en.onProgress)==null||Kt.call(en,{loaded:ln.loaded,total:ln.total})}),Gt.on("FetchBuiltInCMap",ln=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(ln):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Gt.on("FetchStandardFontData",ln=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(ln):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var ln;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Gt,transfers:en}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Gt,filename:((ln=this._fullReader)==null?void 0:ln.filename)??null},en).finally(()=>{this.annotationStorage.resetModified()})}getPage(Gt){if(!Number.isInteger(Gt)||Gt<=0||Gt>this._numPages)return Promise.reject(new Error("Invalid page request."));const en=Gt-1,ln=Ct(this,Ft).get(en);if(ln)return ln;const Kt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:en}).then(on=>{if(this.destroyed)throw new Error("Transport destroyed");const fn=new PDFPageProxy(en,on,this,this._params.pdfBug);return Ct(this,Mt).set(en,fn),fn});return Ct(this,Ft).set(en,Kt),Kt}getPageIndex(Gt){return typeof Gt!="object"||Gt===null||!Number.isInteger(Gt.num)||Gt.num<0||!Number.isInteger(Gt.gen)||Gt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Gt.num,gen:Gt.gen})}getAnnotations(Gt,en){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Gt,intent:en})}getFieldObjects(){return Xt(this,Dt,Iy).call(this,"GetFieldObjects")}hasJSActions(){return Xt(this,Dt,Iy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Gt){return typeof Gt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Gt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Xt(this,Dt,Iy).call(this,"GetDocJSActions")}getPageJSActions(Gt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Gt})}getStructTree(Gt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Gt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Gt=>new _optional_content_config.OptionalContentConfig(Gt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Gt="GetMetadata",en=Ct(this,Pt).get(Gt);if(en)return en;const ln=this.messageHandler.sendWithPromise(Gt,null).then(Kt=>{var on,fn;return{info:Kt[0],metadata:Kt[1]?new _metadata.Metadata(Kt[1]):null,contentDispositionFilename:((on=this._fullReader)==null?void 0:on.filename)??null,contentLength:((fn=this._fullReader)==null?void 0:fn.contentLength)??null}});return Ct(this,Pt).set(Gt,ln),ln}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Gt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const en of Ct(this,Mt).values())if(!en.cleanup())throw new Error(`startCleanup: Page ${en.pageNumber} is currently rendering.`);this.commonObjs.clear(),Gt||this.fontLoader.clear(),Ct(this,Pt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Gt,enableXfa:en}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Gt,enableXfa:en})}}Pt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,Dt=new WeakSet,Iy=function(Gt,en=null){const ln=Ct(this,Pt).get(Gt);if(ln)return ln;const Kt=this.messageHandler.sendWithPromise(Gt,en);return Ct(this,Pt).set(Gt,Kt),Kt};class PDFObjects{constructor(){Qt(this,Ot);Qt(this,$t,Object.create(null))}get(Gt,en=null){if(en){const Kt=Xt(this,Ot,Ax).call(this,Gt);return Kt.capability.promise.then(()=>en(Kt.data)),null}const ln=Ct(this,$t)[Gt];if(!(ln!=null&&ln.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Gt}.`);return ln.data}has(Gt){const en=Ct(this,$t)[Gt];return(en==null?void 0:en.capability.settled)||!1}resolve(Gt,en=null){const ln=Xt(this,Ot,Ax).call(this,Gt);ln.data=en,ln.capability.resolve()}clear(){var Gt;for(const en in Ct(this,$t)){const{data:ln}=Ct(this,$t)[en];(Gt=ln==null?void 0:ln.bitmap)==null||Gt.close()}qt(this,$t,Object.create(null))}}$t=new WeakMap,Ot=new WeakSet,Ax=function(Gt){var en;return(en=Ct(this,$t))[Gt]||(en[Gt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Gt){Qt(this,Ut,null);qt(this,Ut,Gt),this.onContinue=null}get promise(){return Ct(this,Ut).capability.promise}cancel(Gt=0){Ct(this,Ut).cancel(null,Gt)}get separateAnnots(){const{separateAnnots:Gt}=Ct(this,Ut).operatorList;if(!Gt)return!1;const{annotationCanvasMap:en}=Ct(this,Ut);return Gt.form||Gt.canvas&&(en==null?void 0:en.size)>0}}Ut=new WeakMap,exports.RenderTask=RenderTask;const Vt=class Vt{constructor({callback:Gt,params:en,objs:ln,commonObjs:Kt,annotationCanvasMap:on,operatorList:fn,pageIndex:En,canvasFactory:gn,filterFactory:wn,useRequestAnimationFrame:pn=!1,pdfBug:sn=!1,pageColors:Jt=null}){this.callback=Gt,this.params=en,this.objs=ln,this.commonObjs=Kt,this.annotationCanvasMap=on,this.operatorListIdx=null,this.operatorList=fn,this._pageIndex=En,this.canvasFactory=gn,this.filterFactory=wn,this._pdfBug=sn,this.pageColors=Jt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=pn===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=en.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Gt=!1,optionalContentConfig:en}){var En,gn;if(this.cancelled)return;if(this._canvas){if(Ct(Vt,Bt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ct(Vt,Bt).add(this._canvas)}this._pdfBug&&((En=globalThis.StepperManager)!=null&&En.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:ln,viewport:Kt,transform:on,background:fn}=this.params;this.gfx=new _canvas.CanvasGraphics(ln,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:en},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:on,viewport:Kt,transparency:Gt,background:fn}),this.operatorListIdx=0,this.graphicsReady=!0,(gn=this.graphicsReadyCallback)==null||gn.call(this)}cancel(Gt=null,en=0){var ln;this.running=!1,this.cancelled=!0,(ln=this.gfx)==null||ln.endDrawing(),Ct(Vt,Bt).delete(this._canvas),this.callback(Gt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,en))}operatorListChanged(){var Gt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Gt=this.stepper)==null||Gt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ct(Vt,Bt).delete(this._canvas),this.callback())))}};Bt=new WeakMap,Qt(Vt,Bt,new WeakSet);let InternalRenderTask=Vt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(vt,ht,bt)=>{var kt,Rt,Pt,GE,Ft;Object.defineProperty(ht,"__esModule",{value:!0}),ht.SerializableEmpty=ht.PrintAnnotationStorage=ht.AnnotationStorage=void 0;var _t=bt(1),xt=bt(4),Et=bt(8);const wt=Object.freeze({map:null,hash:"",transfers:void 0});ht.SerializableEmpty=wt;class At{constructor(){Qt(this,Pt);Qt(this,kt,!1);Qt(this,Rt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Dt,Nt){const $t=Ct(this,Rt).get(Dt);return $t===void 0?Nt:Object.assign(Nt,$t)}getRawValue(Dt){return Ct(this,Rt).get(Dt)}remove(Dt){if(Ct(this,Rt).delete(Dt),Ct(this,Rt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Nt of Ct(this,Rt).values())if(Nt instanceof xt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Dt,Nt){const $t=Ct(this,Rt).get(Dt);let Ot=!1;if($t!==void 0)for(const[jt,Ut]of Object.entries(Nt))$t[jt]!==Ut&&(Ot=!0,$t[jt]=Ut);else Ot=!0,Ct(this,Rt).set(Dt,Nt);Ot&&Xt(this,Pt,GE).call(this),Nt instanceof xt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Nt.constructor._type)}has(Dt){return Ct(this,Rt).has(Dt)}getAll(){return Ct(this,Rt).size>0?(0,_t.objectFromMap)(Ct(this,Rt)):null}setAll(Dt){for(const[Nt,$t]of Object.entries(Dt))this.setValue(Nt,$t)}get size(){return Ct(this,Rt).size}resetModified(){Ct(this,kt)&&(qt(this,kt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new St(this)}get serializable(){if(Ct(this,Rt).size===0)return wt;const Dt=new Map,Nt=new Et.MurmurHash3_64,$t=[],Ot=Object.create(null);let jt=!1;for(const[Ut,Bt]of Ct(this,Rt)){const Vt=Bt instanceof xt.AnnotationEditor?Bt.serialize(!1,Ot):Bt;Vt&&(Dt.set(Ut,Vt),Nt.update(`${Ut}:${JSON.stringify(Vt)}`),jt||(jt=!!Vt.bitmap))}if(jt)for(const Ut of Dt.values())Ut.bitmap&&$t.push(Ut.bitmap);return Dt.size>0?{map:Dt,hash:Nt.hexdigest(),transfers:$t}:wt}}kt=new WeakMap,Rt=new WeakMap,Pt=new WeakSet,GE=function(){Ct(this,kt)||(qt(this,kt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},ht.AnnotationStorage=At;class St extends At{constructor(Nt){super();Qt(this,Ft);const{map:$t,hash:Ot,transfers:jt}=Nt.serializable,Ut=structuredClone($t,jt?{transfer:jt}:null);qt(this,Ft,{map:Ut,hash:Ot,transfers:jt})}get print(){(0,_t.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Ct(this,Ft)}}Ft=new WeakMap,ht.PrintAnnotationStorage=St},(vt,ht,bt)=>{var St,kt,Rt,Pt,Mt,Ft,Lt,Dt,Nt,$t,Ot,jt,Ut,Bt,Vt,Sx,Cx,en,Tx,Rx,XE,qE,KE,kx,YE;Object.defineProperty(ht,"__esModule",{value:!0}),ht.AnnotationEditor=void 0;var _t=bt(5),xt=bt(1),Et=bt(6);const pn=class pn{constructor(Jt){Qt(this,Vt);Qt(this,St,"");Qt(this,kt,!1);Qt(this,Rt,null);Qt(this,Pt,null);Qt(this,Mt,null);Qt(this,Ft,!1);Qt(this,Lt,null);Qt(this,Dt,this.focusin.bind(this));Qt(this,Nt,this.focusout.bind(this));Qt(this,$t,!1);Qt(this,Ot,!1);Qt(this,jt,!1);Tr(this,"_initialOptions",Object.create(null));Tr(this,"_uiManager",null);Tr(this,"_focusEventsAllowed",!0);Tr(this,"_l10nPromise",null);Qt(this,Ut,!1);Qt(this,Bt,pn._zIndex++);this.constructor===pn&&(0,xt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Jt.parent,this.id=Jt.id,this.width=this.height=null,this.pageIndex=Jt.parent.pageIndex,this.name=Jt.name,this.div=null,this._uiManager=Jt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Jt.isCentered,this._structTreeParentId=null;const{rotation:an,rawDims:{pageWidth:vn,pageHeight:tn,pageX:Ht,pageY:Wt}}=this.parent.viewport;this.rotation=an,this.pageRotation=(360+an-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[vn,tn],this.pageTranslation=[Ht,Wt];const[rn,nn]=this.parentDimensions;this.x=Jt.x/rn,this.y=Jt.y/nn,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,xt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Jt){const an=new At({id:Jt.parent.getNextId(),parent:Jt.parent,uiManager:Jt._uiManager});an.annotationElementId=Jt.annotationElementId,an.deleted=!0,an._uiManager.addToAnnotationStorage(an)}static initialize(Jt,an=null){if(pn._l10nPromise||(pn._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(tn=>[tn,Jt.get(tn)]))),an!=null&&an.strings)for(const tn of an.strings)pn._l10nPromise.set(tn,Jt.get(tn));if(pn._borderLineWidth!==-1)return;const vn=getComputedStyle(document.documentElement);pn._borderLineWidth=parseFloat(vn.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Jt,an){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Jt){return!1}static paste(Jt,an){(0,xt.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Ct(this,Ut)}set _isDraggable(Jt){var an;qt(this,Ut,Jt),(an=this.div)==null||an.classList.toggle("draggable",Jt)}center(){const[Jt,an]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*an/(Jt*2),this.y+=this.width*Jt/(an*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*an/(Jt*2),this.y-=this.width*Jt/(an*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Jt){this._uiManager.addCommands(Jt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Ct(this,Bt)}setParent(Jt){Jt!==null&&(this.pageIndex=Jt.pageIndex,this.pageDimensions=Jt.pageDimensions),this.parent=Jt}focusin(Jt){this._focusEventsAllowed&&(Ct(this,$t)?qt(this,$t,!1):this.parent.setSelected(this))}focusout(Jt){var vn;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const an=Jt.relatedTarget;an!=null&&an.closest(`#${this.id}`)||(Jt.preventDefault(),(vn=this.parent)!=null&&vn.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Jt,an,vn,tn){const[Ht,Wt]=this.parentDimensions;[vn,tn]=this.screenToPageTranslation(vn,tn),this.x=(Jt+vn)/Ht,this.y=(an+tn)/Wt,this.fixAndSetPosition()}translate(Jt,an){Xt(this,Vt,Sx).call(this,this.parentDimensions,Jt,an)}translateInPage(Jt,an){Xt(this,Vt,Sx).call(this,this.pageDimensions,Jt,an),this.div.scrollIntoView({block:"nearest"})}drag(Jt,an){const[vn,tn]=this.parentDimensions;if(this.x+=Jt/vn,this.y+=an/tn,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:hn,y:cn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,hn,cn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Ht,y:Wt}=this;const[rn,nn]=Xt(this,Vt,Cx).call(this);Ht+=rn,Wt+=nn,this.div.style.left=`${(100*Ht).toFixed(2)}%`,this.div.style.top=`${(100*Wt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Jt,an]=this.pageDimensions;let{x:vn,y:tn,width:Ht,height:Wt}=this;switch(Ht*=Jt,Wt*=an,vn*=Jt,tn*=an,this.rotation){case 0:vn=Math.max(0,Math.min(Jt-Ht,vn)),tn=Math.max(0,Math.min(an-Wt,tn));break;case 90:vn=Math.max(0,Math.min(Jt-Wt,vn)),tn=Math.min(an,Math.max(Ht,tn));break;case 180:vn=Math.min(Jt,Math.max(Ht,vn)),tn=Math.min(an,Math.max(Wt,tn));break;case 270:vn=Math.min(Jt,Math.max(Wt,vn)),tn=Math.max(0,Math.min(an-Ht,tn));break}this.x=vn/=Jt,this.y=tn/=an;const[rn,nn]=Xt(this,Vt,Cx).call(this);vn+=rn,tn+=nn;const{style:hn}=this.div;hn.left=`${(100*vn).toFixed(2)}%`,hn.top=`${(100*tn).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Jt,an){var vn;return Xt(vn=pn,en,Tx).call(vn,Jt,an,this.parentRotation)}pageTranslationToScreen(Jt,an){var vn;return Xt(vn=pn,en,Tx).call(vn,Jt,an,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Jt,pageDimensions:[an,vn]}=this,tn=an*Jt,Ht=vn*Jt;return xt.FeatureTest.isCSSRoundSupported?[Math.round(tn),Math.round(Ht)]:[tn,Ht]}setDims(Jt,an){var Ht;const[vn,tn]=this.parentDimensions;this.div.style.width=`${(100*Jt/vn).toFixed(2)}%`,Ct(this,Ft)||(this.div.style.height=`${(100*an/tn).toFixed(2)}%`),(Ht=Ct(this,Rt))==null||Ht.classList.toggle("small",Jt<pn.SMALL_EDITOR_SIZE||an<pn.SMALL_EDITOR_SIZE)}fixDims(){const{style:Jt}=this.div,{height:an,width:vn}=Jt,tn=vn.endsWith("%"),Ht=!Ct(this,Ft)&&an.endsWith("%");if(tn&&Ht)return;const[Wt,rn]=this.parentDimensions;tn||(Jt.width=`${(100*parseFloat(vn)/Wt).toFixed(2)}%`),!Ct(this,Ft)&&!Ht&&(Jt.height=`${(100*parseFloat(an)/rn).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Ct(this,Rt))return;const Jt=qt(this,Rt,document.createElement("button"));Jt.className="altText";const an=await pn._l10nPromise.get("editor_alt_text_button_label");Jt.textContent=an,Jt.setAttribute("aria-label",an),Jt.tabIndex="0",Jt.addEventListener("contextmenu",Et.noContextMenu),Jt.addEventListener("pointerdown",vn=>vn.stopPropagation()),Jt.addEventListener("click",vn=>{vn.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Jt.addEventListener("keydown",vn=>{vn.target===Jt&&vn.key==="Enter"&&(vn.preventDefault(),this._uiManager.editAltText(this))}),Xt(this,Vt,kx).call(this),this.div.append(Jt),pn.SMALL_EDITOR_SIZE||(pn.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Jt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Ct(this,St),decorative:Ct(this,kt)}}set altTextData({altText:Jt,decorative:an}){Ct(this,St)===Jt&&Ct(this,kt)===an||(qt(this,St,Jt),qt(this,kt,an),Xt(this,Vt,kx).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Ct(this,Dt)),this.div.addEventListener("focusout",Ct(this,Nt));const[Jt,an]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*an/Jt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Jt/an).toFixed(2)}%`);const[vn,tn]=this.getInitialTranslation();return this.translate(vn,tn),(0,_t.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Jt){const{isMac:an}=xt.FeatureTest.platform;if(Jt.button!==0||Jt.ctrlKey&&an){Jt.preventDefault();return}qt(this,$t,!0),Xt(this,Vt,YE).call(this,Jt)}moveInDOM(){var Jt;(Jt=this.parent)==null||Jt.moveEditorInDOM(this)}_setParentAndPosition(Jt,an,vn){Jt.changeParent(this),this.x=an,this.y=vn,this.fixAndSetPosition()}getRect(Jt,an){const vn=this.parentScale,[tn,Ht]=this.pageDimensions,[Wt,rn]=this.pageTranslation,nn=Jt/vn,hn=an/vn,cn=this.x*tn,Cn=this.y*Ht,$n=this.width*tn,Hn=this.height*Ht;switch(this.rotation){case 0:return[cn+nn+Wt,Ht-Cn-hn-Hn+rn,cn+nn+$n+Wt,Ht-Cn-hn+rn];case 90:return[cn+hn+Wt,Ht-Cn+nn+rn,cn+hn+Hn+Wt,Ht-Cn+nn+$n+rn];case 180:return[cn-nn-$n+Wt,Ht-Cn+hn+rn,cn-nn+Wt,Ht-Cn+hn+Hn+rn];case 270:return[cn-hn-Hn+Wt,Ht-Cn-nn-$n+rn,cn-hn+Wt,Ht-Cn-nn+rn];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Jt,an){const[vn,tn,Ht,Wt]=Jt,rn=Ht-vn,nn=Wt-tn;switch(this.rotation){case 0:return[vn,an-Wt,rn,nn];case 90:return[vn,an-tn,nn,rn];case 180:return[Ht,an-tn,rn,nn];case 270:return[Ht,an-Wt,nn,rn];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){qt(this,jt,!0)}disableEditMode(){qt(this,jt,!1)}isInEditMode(){return Ct(this,jt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Jt,an;(Jt=this.div)==null||Jt.addEventListener("focusin",Ct(this,Dt)),(an=this.div)==null||an.addEventListener("focusout",Ct(this,Nt))}serialize(Jt=!1,an=null){(0,xt.unreachable)("An editor must be serializable")}static deserialize(Jt,an,vn){const tn=new this.prototype.constructor({parent:an,id:an.getNextId(),uiManager:vn});tn.rotation=Jt.rotation;const[Ht,Wt]=tn.pageDimensions,[rn,nn,hn,cn]=tn.getRectInCurrentCoords(Jt.rect,Wt);return tn.x=rn/Ht,tn.y=nn/Wt,tn.width=hn/Ht,tn.height=cn/Wt,tn}remove(){var Jt;this.div.removeEventListener("focusin",Ct(this,Dt)),this.div.removeEventListener("focusout",Ct(this,Nt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Jt=Ct(this,Rt))==null||Jt.remove(),qt(this,Rt,null),qt(this,Pt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Xt(this,Vt,XE).call(this),Ct(this,Lt).classList.remove("hidden"))}select(){var Jt;this.makeResizable(),(Jt=this.div)==null||Jt.classList.add("selectedEditor")}unselect(){var Jt,an,vn;(Jt=Ct(this,Lt))==null||Jt.classList.add("hidden"),(an=this.div)==null||an.classList.remove("selectedEditor"),(vn=this.div)!=null&&vn.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Jt,an){}disableEditing(){Ct(this,Rt)&&(Ct(this,Rt).hidden=!0)}enableEditing(){Ct(this,Rt)&&(Ct(this,Rt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Ct(this,Ot)}set isEditing(Jt){qt(this,Ot,Jt),this.parent&&(Jt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Jt,an){qt(this,Ft,!0);const vn=Jt/an,{style:tn}=this.div;tn.aspectRatio=vn,tn.height="auto"}static get MIN_SIZE(){return 16}};St=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,Dt=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Ot=new WeakMap,jt=new WeakMap,Ut=new WeakMap,Bt=new WeakMap,Vt=new WeakSet,Sx=function([Jt,an],vn,tn){[vn,tn]=this.screenToPageTranslation(vn,tn),this.x+=vn/Jt,this.y+=tn/an,this.fixAndSetPosition()},Cx=function(){const[Jt,an]=this.parentDimensions,{_borderLineWidth:vn}=pn,tn=vn/Jt,Ht=vn/an;switch(this.rotation){case 90:return[-tn,Ht];case 180:return[tn,Ht];case 270:return[tn,-Ht];default:return[-tn,-Ht]}},en=new WeakSet,Tx=function(Jt,an,vn){switch(vn){case 90:return[an,-Jt];case 180:return[-Jt,-an];case 270:return[-an,Jt];default:return[Jt,an]}},Rx=function(Jt){switch(Jt){case 90:{const[an,vn]=this.pageDimensions;return[0,-an/vn,vn/an,0]}case 180:return[-1,0,0,-1];case 270:{const[an,vn]=this.pageDimensions;return[0,an/vn,-vn/an,0]}default:return[1,0,0,1]}},XE=function(){if(Ct(this,Lt))return;qt(this,Lt,document.createElement("div")),Ct(this,Lt).classList.add("resizers");const Jt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Jt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const an of Jt){const vn=document.createElement("div");Ct(this,Lt).append(vn),vn.classList.add("resizer",an),vn.addEventListener("pointerdown",Xt(this,Vt,qE).bind(this,an)),vn.addEventListener("contextmenu",Et.noContextMenu)}this.div.prepend(Ct(this,Lt))},qE=function(Jt,an){an.preventDefault();const{isMac:vn}=xt.FeatureTest.platform;if(an.button!==0||an.ctrlKey&&vn)return;const tn=Xt(this,Vt,KE).bind(this,Jt),Ht=this._isDraggable;this._isDraggable=!1;const Wt={passive:!0,capture:!0};window.addEventListener("pointermove",tn,Wt);const rn=this.x,nn=this.y,hn=this.width,cn=this.height,Cn=this.parent.div.style.cursor,$n=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(an.target).cursor;const Hn=()=>{this._isDraggable=Ht,window.removeEventListener("pointerup",Hn),window.removeEventListener("blur",Hn),window.removeEventListener("pointermove",tn,Wt),this.parent.div.style.cursor=Cn,this.div.style.cursor=$n;const On=this.x,Xn=this.y,Yn=this.width,Gn=this.height;On===rn&&Xn===nn&&Yn===hn&&Gn===cn||this.addCommands({cmd:()=>{this.width=Yn,this.height=Gn,this.x=On,this.y=Xn;const[Fn,Tn]=this.parentDimensions;this.setDims(Fn*Yn,Tn*Gn),this.fixAndSetPosition()},undo:()=>{this.width=hn,this.height=cn,this.x=rn,this.y=nn;const[Fn,Tn]=this.parentDimensions;this.setDims(Fn*hn,Tn*cn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Hn),window.addEventListener("blur",Hn)},KE=function(Jt,an){const[vn,tn]=this.parentDimensions,Ht=this.x,Wt=this.y,rn=this.width,nn=this.height,hn=pn.MIN_SIZE/vn,cn=pn.MIN_SIZE/tn,Cn=gr=>Math.round(gr*1e4)/1e4,$n=Xt(this,Vt,Rx).call(this,this.rotation),Hn=(gr,Cr)=>[$n[0]*gr+$n[2]*Cr,$n[1]*gr+$n[3]*Cr],On=Xt(this,Vt,Rx).call(this,360-this.rotation),Xn=(gr,Cr)=>[On[0]*gr+On[2]*Cr,On[1]*gr+On[3]*Cr];let Yn,Gn,Fn=!1,Tn=!1;switch(Jt){case"topLeft":Fn=!0,Yn=(gr,Cr)=>[0,0],Gn=(gr,Cr)=>[gr,Cr];break;case"topMiddle":Yn=(gr,Cr)=>[gr/2,0],Gn=(gr,Cr)=>[gr/2,Cr];break;case"topRight":Fn=!0,Yn=(gr,Cr)=>[gr,0],Gn=(gr,Cr)=>[0,Cr];break;case"middleRight":Tn=!0,Yn=(gr,Cr)=>[gr,Cr/2],Gn=(gr,Cr)=>[0,Cr/2];break;case"bottomRight":Fn=!0,Yn=(gr,Cr)=>[gr,Cr],Gn=(gr,Cr)=>[0,0];break;case"bottomMiddle":Yn=(gr,Cr)=>[gr/2,Cr],Gn=(gr,Cr)=>[gr/2,0];break;case"bottomLeft":Fn=!0,Yn=(gr,Cr)=>[0,Cr],Gn=(gr,Cr)=>[gr,0];break;case"middleLeft":Tn=!0,Yn=(gr,Cr)=>[0,Cr/2],Gn=(gr,Cr)=>[gr,Cr/2];break}const dn=Yn(rn,nn),bn=Gn(rn,nn);let Pn=Hn(...bn);const Bn=Cn(Ht+Pn[0]),Kn=Cn(Wt+Pn[1]);let Qn=1,Vn=1,[Rn,ar]=this.screenToPageTranslation(an.movementX,an.movementY);if([Rn,ar]=Xn(Rn/vn,ar/tn),Fn){const gr=Math.hypot(rn,nn);Qn=Vn=Math.max(Math.min(Math.hypot(bn[0]-dn[0]-Rn,bn[1]-dn[1]-ar)/gr,1/rn,1/nn),hn/rn,cn/nn)}else Tn?Qn=Math.max(hn,Math.min(1,Math.abs(bn[0]-dn[0]-Rn)))/rn:Vn=Math.max(cn,Math.min(1,Math.abs(bn[1]-dn[1]-ar)))/nn;const sr=Cn(rn*Qn),Mr=Cn(nn*Vn);Pn=Hn(...Gn(sr,Mr));const Lr=Bn-Pn[0],Qr=Kn-Pn[1];this.width=sr,this.height=Mr,this.x=Lr,this.y=Qr,this.setDims(vn*sr,tn*Mr),this.fixAndSetPosition()},kx=async function(){var vn;const Jt=Ct(this,Rt);if(!Jt)return;if(!Ct(this,St)&&!Ct(this,kt)){Jt.classList.remove("done"),(vn=Ct(this,Pt))==null||vn.remove();return}pn._l10nPromise.get("editor_alt_text_edit_button_label").then(tn=>{Jt.setAttribute("aria-label",tn)});let an=Ct(this,Pt);if(!an){qt(this,Pt,an=document.createElement("span")),an.className="tooltip",an.setAttribute("role","tooltip");const tn=an.id=`alt-text-tooltip-${this.id}`;Jt.setAttribute("aria-describedby",tn);const Ht=100;Jt.addEventListener("mouseenter",()=>{qt(this,Mt,setTimeout(()=>{qt(this,Mt,null),Ct(this,Pt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Ht))}),Jt.addEventListener("mouseleave",()=>{var Wt;clearTimeout(Ct(this,Mt)),qt(this,Mt,null),(Wt=Ct(this,Pt))==null||Wt.classList.remove("show")})}Jt.classList.add("done"),an.innerText=Ct(this,kt)?await pn._l10nPromise.get("editor_alt_text_decorative_tooltip"):Ct(this,St),an.parentNode||Jt.append(an)},YE=function(Jt){if(!this._isDraggable)return;const an=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let vn,tn;an&&(vn={passive:!0,capture:!0},tn=Wt=>{const[rn,nn]=this.screenToPageTranslation(Wt.movementX,Wt.movementY);this._uiManager.dragSelectedEditors(rn,nn)},window.addEventListener("pointermove",tn,vn));const Ht=()=>{if(window.removeEventListener("pointerup",Ht),window.removeEventListener("blur",Ht),an&&window.removeEventListener("pointermove",tn,vn),qt(this,$t,!1),!this._uiManager.endDragSession()){const{isMac:Wt}=xt.FeatureTest.platform;Jt.ctrlKey&&!Wt||Jt.shiftKey||Jt.metaKey&&Wt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Ht),window.addEventListener("blur",Ht)},Qt(pn,en),Tr(pn,"_borderLineWidth",-1),Tr(pn,"_colorManager",new _t.ColorManager),Tr(pn,"_zIndex",1),Tr(pn,"SMALL_EDITOR_SIZE",0);let wt=pn;ht.AnnotationEditor=wt;class At extends wt{constructor(Jt){super(Jt),this.annotationElementId=Jt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(vt,ht,bt)=>{var Ft,Lt,Dt,Nt,$t,Px,Ut,Bt,Vt,zt,Gt,ZE,Kt,on,fn,En,gn,wn,pn,sn,Jt,an,vn,tn,Ht,Wt,rn,nn,hn,cn,Cn,$n,Hn,On,Xn,Yn,Gn,Fn,Tn,dn,bn,Pn,Bn,Kn,Qn,Vn,Rn,QE,Mx,Fx,Ny,Lx,$x,Ro,v0,JE,ew,Dx,y0,Ox;Object.defineProperty(ht,"__esModule",{value:!0}),ht.KeyboardManager=ht.CommandManager=ht.ColorManager=ht.AnnotationEditorUIManager=void 0,ht.bindEvents=Et,ht.opacityToHex=wt;var _t=bt(1),xt=bt(6);function Et(Fr,_n,Zn){for(const cr of Zn)_n.addEventListener(cr,Fr[cr].bind(Fr))}function wt(Fr){return Math.round(Math.min(255,Math.max(1,255*Fr))).toString(16).padStart(2,"0")}class At{constructor(){Qt(this,Ft,0)}getId(){return`${_t.AnnotationEditorPrefix}${ba(this,Ft)._++}`}}Ft=new WeakMap;const jt=class jt{constructor(){Qt(this,$t);Qt(this,Lt,(0,_t.getUuid)());Qt(this,Dt,0);Qt(this,Nt,null)}static get _isSVGFittingCanvas(){const _n='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',cr=new OffscreenCanvas(1,3).getContext("2d"),br=new Image;br.src=_n;const Er=br.decode().then(()=>(cr.drawImage(br,0,0,1,1,0,0,1,3),new Uint32Array(cr.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,_t.shadow)(this,"_isSVGFittingCanvas",Er)}async getFromFile(_n){const{lastModified:Zn,name:cr,size:br,type:Er}=_n;return Xt(this,$t,Px).call(this,`${Zn}_${cr}_${br}_${Er}`,_n)}async getFromUrl(_n){return Xt(this,$t,Px).call(this,_n,_n)}async getFromId(_n){Ct(this,Nt)||qt(this,Nt,new Map);const Zn=Ct(this,Nt).get(_n);return Zn?Zn.bitmap?(Zn.refCounter+=1,Zn):Zn.file?this.getFromFile(Zn.file):this.getFromUrl(Zn.url):null}getSvgUrl(_n){const Zn=Ct(this,Nt).get(_n);return Zn!=null&&Zn.isSvg?Zn.svgUrl:null}deleteId(_n){Ct(this,Nt)||qt(this,Nt,new Map);const Zn=Ct(this,Nt).get(_n);Zn&&(Zn.refCounter-=1,Zn.refCounter===0&&(Zn.bitmap=null))}isValidId(_n){return _n.startsWith(`image_${Ct(this,Lt)}_`)}};Lt=new WeakMap,Dt=new WeakMap,Nt=new WeakMap,$t=new WeakSet,Px=async function(_n,Zn){Ct(this,Nt)||qt(this,Nt,new Map);let cr=Ct(this,Nt).get(_n);if(cr===null)return null;if(cr!=null&&cr.bitmap)return cr.refCounter+=1,cr;try{cr||(cr={bitmap:null,id:`image_${Ct(this,Lt)}_${ba(this,Dt)._++}`,refCounter:0,isSvg:!1});let br;if(typeof Zn=="string"){cr.url=Zn;const Er=await fetch(Zn);if(!Er.ok)throw new Error(Er.statusText);br=await Er.blob()}else br=cr.file=Zn;if(br.type==="image/svg+xml"){const Er=jt._isSVGFittingCanvas,fr=new FileReader,yn=new Image,mn=new Promise((Mn,Wn)=>{yn.onload=()=>{cr.bitmap=yn,cr.isSvg=!0,Mn()},fr.onload=async()=>{const qn=cr.svgUrl=fr.result;yn.src=await Er?`${qn}#svgView(preserveAspectRatio(none))`:qn},yn.onerror=fr.onerror=Wn});fr.readAsDataURL(br),await mn}else cr.bitmap=await createImageBitmap(br);cr.refCounter=1}catch(br){console.error(br),cr=null}return Ct(this,Nt).set(_n,cr),cr&&Ct(this,Nt).set(cr.id,cr),cr};let St=jt;class kt{constructor(_n=128){Qt(this,Ut,[]);Qt(this,Bt,!1);Qt(this,Vt);Qt(this,zt,-1);qt(this,Vt,_n)}add({cmd:_n,undo:Zn,mustExec:cr,type:br=NaN,overwriteIfSameType:Er=!1,keepUndo:fr=!1}){if(cr&&_n(),Ct(this,Bt))return;const yn={cmd:_n,undo:Zn,type:br};if(Ct(this,zt)===-1){Ct(this,Ut).length>0&&(Ct(this,Ut).length=0),qt(this,zt,0),Ct(this,Ut).push(yn);return}if(Er&&Ct(this,Ut)[Ct(this,zt)].type===br){fr&&(yn.undo=Ct(this,Ut)[Ct(this,zt)].undo),Ct(this,Ut)[Ct(this,zt)]=yn;return}const mn=Ct(this,zt)+1;mn===Ct(this,Vt)?Ct(this,Ut).splice(0,1):(qt(this,zt,mn),mn<Ct(this,Ut).length&&Ct(this,Ut).splice(mn)),Ct(this,Ut).push(yn)}undo(){Ct(this,zt)!==-1&&(qt(this,Bt,!0),Ct(this,Ut)[Ct(this,zt)].undo(),qt(this,Bt,!1),qt(this,zt,Ct(this,zt)-1))}redo(){Ct(this,zt)<Ct(this,Ut).length-1&&(qt(this,zt,Ct(this,zt)+1),qt(this,Bt,!0),Ct(this,Ut)[Ct(this,zt)].cmd(),qt(this,Bt,!1))}hasSomethingToUndo(){return Ct(this,zt)!==-1}hasSomethingToRedo(){return Ct(this,zt)<Ct(this,Ut).length-1}destroy(){qt(this,Ut,null)}}Ut=new WeakMap,Bt=new WeakMap,Vt=new WeakMap,zt=new WeakMap,ht.CommandManager=kt;class Rt{constructor(_n){Qt(this,Gt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Zn}=_t.FeatureTest.platform;for(const[cr,br,Er={}]of _n)for(const fr of cr){const yn=fr.startsWith("mac+");Zn&&yn?(this.callbacks.set(fr.slice(4),{callback:br,options:Er}),this.allKeys.add(fr.split("+").at(-1))):!Zn&&!yn&&(this.callbacks.set(fr,{callback:br,options:Er}),this.allKeys.add(fr.split("+").at(-1)))}}exec(_n,Zn){if(!this.allKeys.has(Zn.key))return;const cr=this.callbacks.get(Xt(this,Gt,ZE).call(this,Zn));if(!cr)return;const{callback:br,options:{bubbles:Er=!1,args:fr=[],checker:yn=null}}=cr;yn&&!yn(_n,Zn)||(br.bind(_n,...fr)(),Er||(Zn.stopPropagation(),Zn.preventDefault()))}}Gt=new WeakSet,ZE=function(_n){_n.altKey&&this.buffer.push("alt"),_n.ctrlKey&&this.buffer.push("ctrl"),_n.metaKey&&this.buffer.push("meta"),_n.shiftKey&&this.buffer.push("shift"),this.buffer.push(_n.key);const Zn=this.buffer.join("+");return this.buffer.length=0,Zn},ht.KeyboardManager=Rt;const ln=class ln{get _colors(){const _n=new Map([["CanvasText",null],["Canvas",null]]);return(0,xt.getColorValues)(_n),(0,_t.shadow)(this,"_colors",_n)}convert(_n){const Zn=(0,xt.getRGB)(_n);if(!window.matchMedia("(forced-colors: active)").matches)return Zn;for(const[cr,br]of this._colors)if(br.every((Er,fr)=>Er===Zn[fr]))return ln._colorsMapping.get(cr);return Zn}getHexCode(_n){const Zn=this._colors.get(_n);return Zn?_t.Util.makeHexColor(...Zn):_n}};Tr(ln,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Pt=ln;ht.ColorManager=Pt;const yr=class yr{constructor(_n,Zn,cr,br,Er,fr){Qt(this,Rn);Qt(this,Kt,null);Qt(this,on,new Map);Qt(this,fn,new Map);Qt(this,En,null);Qt(this,gn,null);Qt(this,wn,new kt);Qt(this,pn,0);Qt(this,sn,new Set);Qt(this,Jt,null);Qt(this,an,null);Qt(this,vn,new Set);Qt(this,tn,null);Qt(this,Ht,new At);Qt(this,Wt,!1);Qt(this,rn,!1);Qt(this,nn,null);Qt(this,hn,_t.AnnotationEditorType.NONE);Qt(this,cn,new Set);Qt(this,Cn,null);Qt(this,$n,this.blur.bind(this));Qt(this,Hn,this.focus.bind(this));Qt(this,On,this.copy.bind(this));Qt(this,Xn,this.cut.bind(this));Qt(this,Yn,this.paste.bind(this));Qt(this,Gn,this.keydown.bind(this));Qt(this,Fn,this.onEditingAction.bind(this));Qt(this,Tn,this.onPageChanging.bind(this));Qt(this,dn,this.onScaleChanging.bind(this));Qt(this,bn,this.onRotationChanging.bind(this));Qt(this,Pn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Qt(this,Bn,[0,0]);Qt(this,Kn,null);Qt(this,Qn,null);Qt(this,Vn,null);qt(this,Qn,_n),qt(this,Vn,Zn),qt(this,En,cr),this._eventBus=br,this._eventBus._on("editingaction",Ct(this,Fn)),this._eventBus._on("pagechanging",Ct(this,Tn)),this._eventBus._on("scalechanging",Ct(this,dn)),this._eventBus._on("rotationchanging",Ct(this,bn)),qt(this,gn,Er.annotationStorage),qt(this,tn,Er.filterFactory),qt(this,Cn,fr),this.viewParameters={realScale:xt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const _n=yr.prototype,Zn=Er=>{const{activeElement:fr}=document;return fr&&Ct(Er,Qn).contains(fr)&&Er.hasSomethingToControl()},cr=this.TRANSLATE_SMALL,br=this.TRANSLATE_BIG;return(0,_t.shadow)(this,"_keyboardManager",new Rt([[["ctrl+a","mac+meta+a"],_n.selectAll],[["ctrl+z","mac+meta+z"],_n.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],_n.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],_n.delete],[["Escape","mac+Escape"],_n.unselectAll],[["ArrowLeft","mac+ArrowLeft"],_n.translateSelectedEditors,{args:[-cr,0],checker:Zn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],_n.translateSelectedEditors,{args:[-br,0],checker:Zn}],[["ArrowRight","mac+ArrowRight"],_n.translateSelectedEditors,{args:[cr,0],checker:Zn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],_n.translateSelectedEditors,{args:[br,0],checker:Zn}],[["ArrowUp","mac+ArrowUp"],_n.translateSelectedEditors,{args:[0,-cr],checker:Zn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],_n.translateSelectedEditors,{args:[0,-br],checker:Zn}],[["ArrowDown","mac+ArrowDown"],_n.translateSelectedEditors,{args:[0,cr],checker:Zn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],_n.translateSelectedEditors,{args:[0,br],checker:Zn}]]))}destroy(){Xt(this,Rn,Ny).call(this),Xt(this,Rn,Mx).call(this),this._eventBus._off("editingaction",Ct(this,Fn)),this._eventBus._off("pagechanging",Ct(this,Tn)),this._eventBus._off("scalechanging",Ct(this,dn)),this._eventBus._off("rotationchanging",Ct(this,bn));for(const _n of Ct(this,fn).values())_n.destroy();Ct(this,fn).clear(),Ct(this,on).clear(),Ct(this,vn).clear(),qt(this,Kt,null),Ct(this,cn).clear(),Ct(this,wn).destroy(),Ct(this,En).destroy()}get hcmFilter(){return(0,_t.shadow)(this,"hcmFilter",Ct(this,Cn)?Ct(this,tn).addHCMFilter(Ct(this,Cn).foreground,Ct(this,Cn).background):"none")}get direction(){return(0,_t.shadow)(this,"direction",getComputedStyle(Ct(this,Qn)).direction)}editAltText(_n){var Zn;(Zn=Ct(this,En))==null||Zn.editAltText(this,_n)}onPageChanging({pageNumber:_n}){qt(this,pn,_n-1)}focusMainContainer(){Ct(this,Qn).focus()}findParent(_n,Zn){for(const cr of Ct(this,fn).values()){const{x:br,y:Er,width:fr,height:yn}=cr.div.getBoundingClientRect();if(_n>=br&&_n<=br+fr&&Zn>=Er&&Zn<=Er+yn)return cr}return null}disableUserSelect(_n=!1){Ct(this,Vn).classList.toggle("noUserSelect",_n)}addShouldRescale(_n){Ct(this,vn).add(_n)}removeShouldRescale(_n){Ct(this,vn).delete(_n)}onScaleChanging({scale:_n}){this.commitOrRemove(),this.viewParameters.realScale=_n*xt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Zn of Ct(this,vn))Zn.onScaleChanging()}onRotationChanging({pagesRotation:_n}){this.commitOrRemove(),this.viewParameters.rotation=_n}addToAnnotationStorage(_n){!_n.isEmpty()&&Ct(this,gn)&&!Ct(this,gn).has(_n.id)&&Ct(this,gn).setValue(_n.id,_n)}blur(){if(!this.hasSelection)return;const{activeElement:_n}=document;for(const Zn of Ct(this,cn))if(Zn.div.contains(_n)){qt(this,nn,[Zn,_n]),Zn._focusEventsAllowed=!1;break}}focus(){if(!Ct(this,nn))return;const[_n,Zn]=Ct(this,nn);qt(this,nn,null),Zn.addEventListener("focusin",()=>{_n._focusEventsAllowed=!0},{once:!0}),Zn.focus()}addEditListeners(){Xt(this,Rn,Fx).call(this),Xt(this,Rn,Lx).call(this)}removeEditListeners(){Xt(this,Rn,Ny).call(this),Xt(this,Rn,$x).call(this)}copy(_n){var cr;if(_n.preventDefault(),(cr=Ct(this,Kt))==null||cr.commitOrRemove(),!this.hasSelection)return;const Zn=[];for(const br of Ct(this,cn)){const Er=br.serialize(!0);Er&&Zn.push(Er)}Zn.length!==0&&_n.clipboardData.setData("application/pdfjs",JSON.stringify(Zn))}cut(_n){this.copy(_n),this.delete()}paste(_n){_n.preventDefault();const{clipboardData:Zn}=_n;for(const Er of Zn.items)for(const fr of Ct(this,an))if(fr.isHandlingMimeForPasting(Er.type)){fr.paste(Er,this.currentLayer);return}let cr=Zn.getData("application/pdfjs");if(!cr)return;try{cr=JSON.parse(cr)}catch(Er){(0,_t.warn)(`paste: "${Er.message}".`);return}if(!Array.isArray(cr))return;this.unselectAll();const br=this.currentLayer;try{const Er=[];for(const mn of cr){const Mn=br.deserialize(mn);if(!Mn)return;Er.push(Mn)}const fr=()=>{for(const mn of Er)Xt(this,Rn,Dx).call(this,mn);Xt(this,Rn,Ox).call(this,Er)},yn=()=>{for(const mn of Er)mn.remove()};this.addCommands({cmd:fr,undo:yn,mustExec:!0})}catch(Er){(0,_t.warn)(`paste: "${Er.message}".`)}}keydown(_n){var Zn;(Zn=this.getActive())!=null&&Zn.shouldGetKeyboardEvents()||yr._keyboardManager.exec(this,_n)}onEditingAction(_n){["undo","redo","delete","selectAll"].includes(_n.name)&&this[_n.name]()}setEditingState(_n){_n?(Xt(this,Rn,QE).call(this),Xt(this,Rn,Fx).call(this),Xt(this,Rn,Lx).call(this),Xt(this,Rn,Ro).call(this,{isEditing:Ct(this,hn)!==_t.AnnotationEditorType.NONE,isEmpty:Xt(this,Rn,y0).call(this),hasSomethingToUndo:Ct(this,wn).hasSomethingToUndo(),hasSomethingToRedo:Ct(this,wn).hasSomethingToRedo(),hasSelectedEditor:!1})):(Xt(this,Rn,Mx).call(this),Xt(this,Rn,Ny).call(this),Xt(this,Rn,$x).call(this),Xt(this,Rn,Ro).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(_n){if(!Ct(this,an)){qt(this,an,_n);for(const Zn of Ct(this,an))Xt(this,Rn,v0).call(this,Zn.defaultPropertiesToUpdate)}}getId(){return Ct(this,Ht).getId()}get currentLayer(){return Ct(this,fn).get(Ct(this,pn))}getLayer(_n){return Ct(this,fn).get(_n)}get currentPageIndex(){return Ct(this,pn)}addLayer(_n){Ct(this,fn).set(_n.pageIndex,_n),Ct(this,Wt)?_n.enable():_n.disable()}removeLayer(_n){Ct(this,fn).delete(_n.pageIndex)}updateMode(_n,Zn=null){if(Ct(this,hn)!==_n){if(qt(this,hn,_n),_n===_t.AnnotationEditorType.NONE){this.setEditingState(!1),Xt(this,Rn,ew).call(this);return}this.setEditingState(!0),Xt(this,Rn,JE).call(this),this.unselectAll();for(const cr of Ct(this,fn).values())cr.updateMode(_n);if(Zn){for(const cr of Ct(this,on).values())if(cr.annotationElementId===Zn){this.setSelected(cr),cr.enterInEditMode();break}}}}updateToolbar(_n){_n!==Ct(this,hn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:_n})}updateParams(_n,Zn){if(Ct(this,an)){if(_n===_t.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(_n);return}for(const cr of Ct(this,cn))cr.updateParams(_n,Zn);for(const cr of Ct(this,an))cr.updateDefaultParams(_n,Zn)}}enableWaiting(_n=!1){if(Ct(this,rn)!==_n){qt(this,rn,_n);for(const Zn of Ct(this,fn).values())_n?Zn.disableClick():Zn.enableClick(),Zn.div.classList.toggle("waiting",_n)}}getEditors(_n){const Zn=[];for(const cr of Ct(this,on).values())cr.pageIndex===_n&&Zn.push(cr);return Zn}getEditor(_n){return Ct(this,on).get(_n)}addEditor(_n){Ct(this,on).set(_n.id,_n)}removeEditor(_n){var Zn;Ct(this,on).delete(_n.id),this.unselect(_n),(!_n.annotationElementId||!Ct(this,sn).has(_n.annotationElementId))&&((Zn=Ct(this,gn))==null||Zn.remove(_n.id))}addDeletedAnnotationElement(_n){Ct(this,sn).add(_n.annotationElementId),_n.deleted=!0}isDeletedAnnotationElement(_n){return Ct(this,sn).has(_n)}removeDeletedAnnotationElement(_n){Ct(this,sn).delete(_n.annotationElementId),_n.deleted=!1}setActiveEditor(_n){Ct(this,Kt)!==_n&&(qt(this,Kt,_n),_n&&Xt(this,Rn,v0).call(this,_n.propertiesToUpdate))}toggleSelected(_n){if(Ct(this,cn).has(_n)){Ct(this,cn).delete(_n),_n.unselect(),Xt(this,Rn,Ro).call(this,{hasSelectedEditor:this.hasSelection});return}Ct(this,cn).add(_n),_n.select(),Xt(this,Rn,v0).call(this,_n.propertiesToUpdate),Xt(this,Rn,Ro).call(this,{hasSelectedEditor:!0})}setSelected(_n){for(const Zn of Ct(this,cn))Zn!==_n&&Zn.unselect();Ct(this,cn).clear(),Ct(this,cn).add(_n),_n.select(),Xt(this,Rn,v0).call(this,_n.propertiesToUpdate),Xt(this,Rn,Ro).call(this,{hasSelectedEditor:!0})}isSelected(_n){return Ct(this,cn).has(_n)}unselect(_n){_n.unselect(),Ct(this,cn).delete(_n),Xt(this,Rn,Ro).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Ct(this,cn).size!==0}undo(){Ct(this,wn).undo(),Xt(this,Rn,Ro).call(this,{hasSomethingToUndo:Ct(this,wn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Xt(this,Rn,y0).call(this)})}redo(){Ct(this,wn).redo(),Xt(this,Rn,Ro).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ct(this,wn).hasSomethingToRedo(),isEmpty:Xt(this,Rn,y0).call(this)})}addCommands(_n){Ct(this,wn).add(_n),Xt(this,Rn,Ro).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Xt(this,Rn,y0).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const _n=[...Ct(this,cn)],Zn=()=>{for(const br of _n)br.remove()},cr=()=>{for(const br of _n)Xt(this,Rn,Dx).call(this,br)};this.addCommands({cmd:Zn,undo:cr,mustExec:!0})}commitOrRemove(){var _n;(_n=Ct(this,Kt))==null||_n.commitOrRemove()}hasSomethingToControl(){return Ct(this,Kt)||this.hasSelection}selectAll(){for(const _n of Ct(this,cn))_n.commit();Xt(this,Rn,Ox).call(this,Ct(this,on).values())}unselectAll(){if(Ct(this,Kt)){Ct(this,Kt).commitOrRemove();return}if(this.hasSelection){for(const _n of Ct(this,cn))_n.unselect();Ct(this,cn).clear(),Xt(this,Rn,Ro).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(_n,Zn,cr=!1){if(cr||this.commitOrRemove(),!this.hasSelection)return;Ct(this,Bn)[0]+=_n,Ct(this,Bn)[1]+=Zn;const[br,Er]=Ct(this,Bn),fr=[...Ct(this,cn)],yn=1e3;Ct(this,Kn)&&clearTimeout(Ct(this,Kn)),qt(this,Kn,setTimeout(()=>{qt(this,Kn,null),Ct(this,Bn)[0]=Ct(this,Bn)[1]=0,this.addCommands({cmd:()=>{for(const mn of fr)Ct(this,on).has(mn.id)&&mn.translateInPage(br,Er)},undo:()=>{for(const mn of fr)Ct(this,on).has(mn.id)&&mn.translateInPage(-br,-Er)},mustExec:!1})},yn));for(const mn of fr)mn.translateInPage(_n,Zn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),qt(this,Jt,new Map);for(const _n of Ct(this,cn))Ct(this,Jt).set(_n,{savedX:_n.x,savedY:_n.y,savedPageIndex:_n.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Ct(this,Jt))return!1;this.disableUserSelect(!1);const _n=Ct(this,Jt);qt(this,Jt,null);let Zn=!1;for(const[{x:br,y:Er,pageIndex:fr},yn]of _n)yn.newX=br,yn.newY=Er,yn.newPageIndex=fr,Zn||(Zn=br!==yn.savedX||Er!==yn.savedY||fr!==yn.savedPageIndex);if(!Zn)return!1;const cr=(br,Er,fr,yn)=>{if(Ct(this,on).has(br.id)){const mn=Ct(this,fn).get(yn);mn?br._setParentAndPosition(mn,Er,fr):(br.pageIndex=yn,br.x=Er,br.y=fr)}};return this.addCommands({cmd:()=>{for(const[br,{newX:Er,newY:fr,newPageIndex:yn}]of _n)cr(br,Er,fr,yn)},undo:()=>{for(const[br,{savedX:Er,savedY:fr,savedPageIndex:yn}]of _n)cr(br,Er,fr,yn)},mustExec:!0}),!0}dragSelectedEditors(_n,Zn){if(Ct(this,Jt))for(const cr of Ct(this,Jt).keys())cr.drag(_n,Zn)}rebuild(_n){if(_n.parent===null){const Zn=this.getLayer(_n.pageIndex);Zn?(Zn.changeParent(_n),Zn.addOrRebuild(_n)):(this.addEditor(_n),this.addToAnnotationStorage(_n),_n.rebuild())}else _n.parent.addOrRebuild(_n)}isActive(_n){return Ct(this,Kt)===_n}getActive(){return Ct(this,Kt)}getMode(){return Ct(this,hn)}get imageManager(){return(0,_t.shadow)(this,"imageManager",new St)}};Kt=new WeakMap,on=new WeakMap,fn=new WeakMap,En=new WeakMap,gn=new WeakMap,wn=new WeakMap,pn=new WeakMap,sn=new WeakMap,Jt=new WeakMap,an=new WeakMap,vn=new WeakMap,tn=new WeakMap,Ht=new WeakMap,Wt=new WeakMap,rn=new WeakMap,nn=new WeakMap,hn=new WeakMap,cn=new WeakMap,Cn=new WeakMap,$n=new WeakMap,Hn=new WeakMap,On=new WeakMap,Xn=new WeakMap,Yn=new WeakMap,Gn=new WeakMap,Fn=new WeakMap,Tn=new WeakMap,dn=new WeakMap,bn=new WeakMap,Pn=new WeakMap,Bn=new WeakMap,Kn=new WeakMap,Qn=new WeakMap,Vn=new WeakMap,Rn=new WeakSet,QE=function(){window.addEventListener("focus",Ct(this,Hn)),window.addEventListener("blur",Ct(this,$n))},Mx=function(){window.removeEventListener("focus",Ct(this,Hn)),window.removeEventListener("blur",Ct(this,$n))},Fx=function(){window.addEventListener("keydown",Ct(this,Gn),{capture:!0})},Ny=function(){window.removeEventListener("keydown",Ct(this,Gn),{capture:!0})},Lx=function(){document.addEventListener("copy",Ct(this,On)),document.addEventListener("cut",Ct(this,Xn)),document.addEventListener("paste",Ct(this,Yn))},$x=function(){document.removeEventListener("copy",Ct(this,On)),document.removeEventListener("cut",Ct(this,Xn)),document.removeEventListener("paste",Ct(this,Yn))},Ro=function(_n){Object.entries(_n).some(([cr,br])=>Ct(this,Pn)[cr]!==br)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ct(this,Pn),_n)})},v0=function(_n){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:_n})},JE=function(){if(!Ct(this,Wt)){qt(this,Wt,!0);for(const _n of Ct(this,fn).values())_n.enable()}},ew=function(){if(this.unselectAll(),Ct(this,Wt)){qt(this,Wt,!1);for(const _n of Ct(this,fn).values())_n.disable()}},Dx=function(_n){const Zn=Ct(this,fn).get(_n.pageIndex);Zn?Zn.addOrRebuild(_n):this.addEditor(_n)},y0=function(){if(Ct(this,on).size===0)return!0;if(Ct(this,on).size===1)for(const _n of Ct(this,on).values())return _n.isEmpty();return!1},Ox=function(_n){Ct(this,cn).clear();for(const Zn of _n)Zn.isEmpty()||(Ct(this,cn).add(Zn),Zn.select());Xt(this,Rn,Ro).call(this,{hasSelectedEditor:!0})},Tr(yr,"TRANSLATE_SMALL",1),Tr(yr,"TRANSLATE_BIG",10);let Mt=yr;ht.AnnotationEditorUIManager=Mt},(vt,ht,bt)=>{var pn,sn,Jt,an,vn,tn,Ht,Wt,rn,nn,hn,cn,im,sm,Ix,jy,By,b0,_0;Object.defineProperty(ht,"__esModule",{value:!0}),ht.StatTimer=ht.RenderingCancelledException=ht.PixelsPerInch=ht.PageViewport=ht.PDFDateString=ht.DOMStandardFontDataFactory=ht.DOMSVGFactory=ht.DOMFilterFactory=ht.DOMCanvasFactory=ht.DOMCMapReaderFactory=void 0,ht.deprecated=zt,ht.getColorValues=on,ht.getCurrentTransform=fn,ht.getCurrentTransformInverse=En,ht.getFilenameFromUrl=$t,ht.getPdfFilenameFromUrl=Ot,ht.getRGB=Kt,ht.getXfaPageViewport=ln,ht.isDataScheme=Dt,ht.isPdfFile=Nt,ht.isValidFetchUrl=Ut,ht.loadScript=Vt,ht.noContextMenu=Bt,ht.setLayerDimensions=gn;var _t=bt(7),xt=bt(1);const Et="http://www.w3.org/2000/svg",wn=class wn{};Tr(wn,"CSS",96),Tr(wn,"PDF",72),Tr(wn,"PDF_TO_CSS_UNITS",wn.CSS/wn.PDF);let wt=wn;ht.PixelsPerInch=wt;class At extends _t.BaseFilterFactory{constructor({docId:dn,ownerDocument:bn=globalThis.document}={}){super();Qt(this,cn);Qt(this,pn);Qt(this,sn);Qt(this,Jt);Qt(this,an);Qt(this,vn);Qt(this,tn);Qt(this,Ht);Qt(this,Wt);Qt(this,rn);Qt(this,nn);Qt(this,hn,0);qt(this,Jt,dn),qt(this,an,bn)}addFilter(dn){if(!dn)return"none";let bn=Ct(this,cn,im).get(dn);if(bn)return bn;let Pn,Bn,Kn,Qn;if(dn.length===1){const sr=dn[0],Mr=new Array(256);for(let Lr=0;Lr<256;Lr++)Mr[Lr]=sr[Lr]/255;Qn=Pn=Bn=Kn=Mr.join(",")}else{const[sr,Mr,Lr]=dn,Qr=new Array(256),gr=new Array(256),Cr=new Array(256);for(let Wr=0;Wr<256;Wr++)Qr[Wr]=sr[Wr]/255,gr[Wr]=Mr[Wr]/255,Cr[Wr]=Lr[Wr]/255;Pn=Qr.join(","),Bn=gr.join(","),Kn=Cr.join(","),Qn=`${Pn}${Bn}${Kn}`}if(bn=Ct(this,cn,im).get(Qn),bn)return Ct(this,cn,im).set(dn,bn),bn;const Vn=`g_${Ct(this,Jt)}_transfer_map_${ba(this,hn)._++}`,Rn=`url(#${Vn})`;Ct(this,cn,im).set(dn,Rn),Ct(this,cn,im).set(Qn,Rn);const ar=Xt(this,cn,jy).call(this,Vn);return Xt(this,cn,b0).call(this,Pn,Bn,Kn,ar),Rn}addHCMFilter(dn,bn){var Mr;const Pn=`${dn}-${bn}`;if(Ct(this,tn)===Pn)return Ct(this,Ht);if(qt(this,tn,Pn),qt(this,Ht,"none"),(Mr=Ct(this,vn))==null||Mr.remove(),!dn||!bn)return Ct(this,Ht);const Bn=Xt(this,cn,_0).call(this,dn);dn=xt.Util.makeHexColor(...Bn);const Kn=Xt(this,cn,_0).call(this,bn);if(bn=xt.Util.makeHexColor(...Kn),Ct(this,cn,sm).style.color="",dn==="#000000"&&bn==="#ffffff"||dn===bn)return Ct(this,Ht);const Qn=new Array(256);for(let Lr=0;Lr<=255;Lr++){const Qr=Lr/255;Qn[Lr]=Qr<=.03928?Qr/12.92:((Qr+.055)/1.055)**2.4}const Vn=Qn.join(","),Rn=`g_${Ct(this,Jt)}_hcm_filter`,ar=qt(this,Wt,Xt(this,cn,jy).call(this,Rn));Xt(this,cn,b0).call(this,Vn,Vn,Vn,ar),Xt(this,cn,Ix).call(this,ar);const sr=(Lr,Qr)=>{const gr=Bn[Lr]/255,Cr=Kn[Lr]/255,Wr=new Array(Qr+1);for(let ss=0;ss<=Qr;ss++)Wr[ss]=gr+ss/Qr*(Cr-gr);return Wr.join(",")};return Xt(this,cn,b0).call(this,sr(0,5),sr(1,5),sr(2,5),ar),qt(this,Ht,`url(#${Rn})`),Ct(this,Ht)}addHighlightHCMFilter(dn,bn,Pn,Bn){var Cr;const Kn=`${dn}-${bn}-${Pn}-${Bn}`;if(Ct(this,rn)===Kn)return Ct(this,nn);if(qt(this,rn,Kn),qt(this,nn,"none"),(Cr=Ct(this,Wt))==null||Cr.remove(),!dn||!bn)return Ct(this,nn);const[Qn,Vn]=[dn,bn].map(Xt(this,cn,_0).bind(this));let Rn=Math.round(.2126*Qn[0]+.7152*Qn[1]+.0722*Qn[2]),ar=Math.round(.2126*Vn[0]+.7152*Vn[1]+.0722*Vn[2]),[sr,Mr]=[Pn,Bn].map(Xt(this,cn,_0).bind(this));ar<Rn&&([Rn,ar,sr,Mr]=[ar,Rn,Mr,sr]),Ct(this,cn,sm).style.color="";const Lr=(Wr,ss,Jn)=>{const Dn=new Array(256),Nn=(ar-Rn)/Jn,pr=Wr/255,yr=(ss-Wr)/(255*Jn);let Fr=0;for(let _n=0;_n<=Jn;_n++){const Zn=Math.round(Rn+_n*Nn),cr=pr+_n*yr;for(let br=Fr;br<=Zn;br++)Dn[br]=cr;Fr=Zn+1}for(let _n=Fr;_n<256;_n++)Dn[_n]=Dn[Fr-1];return Dn.join(",")},Qr=`g_${Ct(this,Jt)}_hcm_highlight_filter`,gr=qt(this,Wt,Xt(this,cn,jy).call(this,Qr));return Xt(this,cn,Ix).call(this,gr),Xt(this,cn,b0).call(this,Lr(sr[0],Mr[0],5),Lr(sr[1],Mr[1],5),Lr(sr[2],Mr[2],5),gr),qt(this,nn,`url(#${Qr})`),Ct(this,nn)}destroy(dn=!1){dn&&(Ct(this,Ht)||Ct(this,nn))||(Ct(this,sn)&&(Ct(this,sn).parentNode.parentNode.remove(),qt(this,sn,null)),Ct(this,pn)&&(Ct(this,pn).clear(),qt(this,pn,null)),qt(this,hn,0))}}pn=new WeakMap,sn=new WeakMap,Jt=new WeakMap,an=new WeakMap,vn=new WeakMap,tn=new WeakMap,Ht=new WeakMap,Wt=new WeakMap,rn=new WeakMap,nn=new WeakMap,hn=new WeakMap,cn=new WeakSet,im=function(){return Ct(this,pn)||qt(this,pn,new Map)},sm=function(){if(!Ct(this,sn)){const dn=Ct(this,an).createElement("div"),{style:bn}=dn;bn.visibility="hidden",bn.contain="strict",bn.width=bn.height=0,bn.position="absolute",bn.top=bn.left=0,bn.zIndex=-1;const Pn=Ct(this,an).createElementNS(Et,"svg");Pn.setAttribute("width",0),Pn.setAttribute("height",0),qt(this,sn,Ct(this,an).createElementNS(Et,"defs")),dn.append(Pn),Pn.append(Ct(this,sn)),Ct(this,an).body.append(dn)}return Ct(this,sn)},Ix=function(dn){const bn=Ct(this,an).createElementNS(Et,"feColorMatrix");bn.setAttribute("type","matrix"),bn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),dn.append(bn)},jy=function(dn){const bn=Ct(this,an).createElementNS(Et,"filter");return bn.setAttribute("color-interpolation-filters","sRGB"),bn.setAttribute("id",dn),Ct(this,cn,sm).append(bn),bn},By=function(dn,bn,Pn){const Bn=Ct(this,an).createElementNS(Et,bn);Bn.setAttribute("type","discrete"),Bn.setAttribute("tableValues",Pn),dn.append(Bn)},b0=function(dn,bn,Pn,Bn){const Kn=Ct(this,an).createElementNS(Et,"feComponentTransfer");Bn.append(Kn),Xt(this,cn,By).call(this,Kn,"feFuncR",dn),Xt(this,cn,By).call(this,Kn,"feFuncG",bn),Xt(this,cn,By).call(this,Kn,"feFuncB",Pn)},_0=function(dn){return Ct(this,cn,sm).style.color=dn,Kt(getComputedStyle(Ct(this,cn,sm)).getPropertyValue("color"))},ht.DOMFilterFactory=At;class St extends _t.BaseCanvasFactory{constructor({ownerDocument:Tn=globalThis.document}={}){super(),this._document=Tn}_createCanvas(Tn,dn){const bn=this._document.createElement("canvas");return bn.width=Tn,bn.height=dn,bn}}ht.DOMCanvasFactory=St;async function kt(Fn,Tn=!1){if(Ut(Fn,document.baseURI)){const dn=await fetch(Fn);if(!dn.ok)throw new Error(dn.statusText);return Tn?new Uint8Array(await dn.arrayBuffer()):(0,xt.stringToBytes)(await dn.text())}return new Promise((dn,bn)=>{const Pn=new XMLHttpRequest;Pn.open("GET",Fn,!0),Tn&&(Pn.responseType="arraybuffer"),Pn.onreadystatechange=()=>{if(Pn.readyState===XMLHttpRequest.DONE){if(Pn.status===200||Pn.status===0){let Bn;if(Tn&&Pn.response?Bn=new Uint8Array(Pn.response):!Tn&&Pn.responseText&&(Bn=(0,xt.stringToBytes)(Pn.responseText)),Bn){dn(Bn);return}}bn(new Error(Pn.statusText))}},Pn.send(null)})}class Rt extends _t.BaseCMapReaderFactory{_fetchData(Tn,dn){return kt(Tn,this.isCompressed).then(bn=>({cMapData:bn,compressionType:dn}))}}ht.DOMCMapReaderFactory=Rt;class Pt extends _t.BaseStandardFontDataFactory{_fetchData(Tn){return kt(Tn,!0)}}ht.DOMStandardFontDataFactory=Pt;class Mt extends _t.BaseSVGFactory{_createSVG(Tn){return document.createElementNS(Et,Tn)}}ht.DOMSVGFactory=Mt;class Ft{constructor({viewBox:Tn,scale:dn,rotation:bn,offsetX:Pn=0,offsetY:Bn=0,dontFlip:Kn=!1}){this.viewBox=Tn,this.scale=dn,this.rotation=bn,this.offsetX=Pn,this.offsetY=Bn;const Qn=(Tn[2]+Tn[0])/2,Vn=(Tn[3]+Tn[1])/2;let Rn,ar,sr,Mr;switch(bn%=360,bn<0&&(bn+=360),bn){case 180:Rn=-1,ar=0,sr=0,Mr=1;break;case 90:Rn=0,ar=1,sr=1,Mr=0;break;case 270:Rn=0,ar=-1,sr=-1,Mr=0;break;case 0:Rn=1,ar=0,sr=0,Mr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Kn&&(sr=-sr,Mr=-Mr);let Lr,Qr,gr,Cr;Rn===0?(Lr=Math.abs(Vn-Tn[1])*dn+Pn,Qr=Math.abs(Qn-Tn[0])*dn+Bn,gr=(Tn[3]-Tn[1])*dn,Cr=(Tn[2]-Tn[0])*dn):(Lr=Math.abs(Qn-Tn[0])*dn+Pn,Qr=Math.abs(Vn-Tn[1])*dn+Bn,gr=(Tn[2]-Tn[0])*dn,Cr=(Tn[3]-Tn[1])*dn),this.transform=[Rn*dn,ar*dn,sr*dn,Mr*dn,Lr-Rn*dn*Qn-sr*dn*Vn,Qr-ar*dn*Qn-Mr*dn*Vn],this.width=gr,this.height=Cr}get rawDims(){const{viewBox:Tn}=this;return(0,xt.shadow)(this,"rawDims",{pageWidth:Tn[2]-Tn[0],pageHeight:Tn[3]-Tn[1],pageX:Tn[0],pageY:Tn[1]})}clone({scale:Tn=this.scale,rotation:dn=this.rotation,offsetX:bn=this.offsetX,offsetY:Pn=this.offsetY,dontFlip:Bn=!1}={}){return new Ft({viewBox:this.viewBox.slice(),scale:Tn,rotation:dn,offsetX:bn,offsetY:Pn,dontFlip:Bn})}convertToViewportPoint(Tn,dn){return xt.Util.applyTransform([Tn,dn],this.transform)}convertToViewportRectangle(Tn){const dn=xt.Util.applyTransform([Tn[0],Tn[1]],this.transform),bn=xt.Util.applyTransform([Tn[2],Tn[3]],this.transform);return[dn[0],dn[1],bn[0],bn[1]]}convertToPdfPoint(Tn,dn){return xt.Util.applyInverseTransform([Tn,dn],this.transform)}}ht.PageViewport=Ft;class Lt extends xt.BaseException{constructor(Tn,dn=0){super(Tn,"RenderingCancelledException"),this.extraDelay=dn}}ht.RenderingCancelledException=Lt;function Dt(Fn){const Tn=Fn.length;let dn=0;for(;dn<Tn&&Fn[dn].trim()==="";)dn++;return Fn.substring(dn,dn+5).toLowerCase()==="data:"}function Nt(Fn){return typeof Fn=="string"&&/\.pdf$/i.test(Fn)}function $t(Fn,Tn=!1){return Tn||([Fn]=Fn.split(/[#?]/,1)),Fn.substring(Fn.lastIndexOf("/")+1)}function Ot(Fn,Tn="document.pdf"){if(typeof Fn!="string")return Tn;if(Dt(Fn))return(0,xt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Tn;const dn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,bn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Pn=dn.exec(Fn);let Bn=bn.exec(Pn[1])||bn.exec(Pn[2])||bn.exec(Pn[3]);if(Bn&&(Bn=Bn[0],Bn.includes("%")))try{Bn=bn.exec(decodeURIComponent(Bn))[0]}catch{}return Bn||Tn}class jt{constructor(){Tr(this,"started",Object.create(null));Tr(this,"times",[])}time(Tn){Tn in this.started&&(0,xt.warn)(`Timer is already running for ${Tn}`),this.started[Tn]=Date.now()}timeEnd(Tn){Tn in this.started||(0,xt.warn)(`Timer has not been started for ${Tn}`),this.times.push({name:Tn,start:this.started[Tn],end:Date.now()}),delete this.started[Tn]}toString(){const Tn=[];let dn=0;for(const{name:bn}of this.times)dn=Math.max(bn.length,dn);for(const{name:bn,start:Pn,end:Bn}of this.times)Tn.push(`${bn.padEnd(dn)} ${Bn-Pn}ms
`);return Tn.join("")}}ht.StatTimer=jt;function Ut(Fn,Tn){try{const{protocol:dn}=Tn?new URL(Fn,Tn):new URL(Fn);return dn==="http:"||dn==="https:"}catch{return!1}}function Bt(Fn){Fn.preventDefault()}function Vt(Fn,Tn=!1){return new Promise((dn,bn)=>{const Pn=document.createElement("script");Pn.src=Fn,Pn.onload=function(Bn){Tn&&Pn.remove(),dn(Bn)},Pn.onerror=function(){bn(new Error(`Cannot load script at: ${Pn.src}`))},(document.head||document.documentElement).append(Pn)})}function zt(Fn){console.log("Deprecated API usage: "+Fn)}let Gt;class en{static toDateObject(Tn){if(!Tn||typeof Tn!="string")return null;Gt||(Gt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const dn=Gt.exec(Tn);if(!dn)return null;const bn=parseInt(dn[1],10);let Pn=parseInt(dn[2],10);Pn=Pn>=1&&Pn<=12?Pn-1:0;let Bn=parseInt(dn[3],10);Bn=Bn>=1&&Bn<=31?Bn:1;let Kn=parseInt(dn[4],10);Kn=Kn>=0&&Kn<=23?Kn:0;let Qn=parseInt(dn[5],10);Qn=Qn>=0&&Qn<=59?Qn:0;let Vn=parseInt(dn[6],10);Vn=Vn>=0&&Vn<=59?Vn:0;const Rn=dn[7]||"Z";let ar=parseInt(dn[8],10);ar=ar>=0&&ar<=23?ar:0;let sr=parseInt(dn[9],10)||0;return sr=sr>=0&&sr<=59?sr:0,Rn==="-"?(Kn+=ar,Qn+=sr):Rn==="+"&&(Kn-=ar,Qn-=sr),new Date(Date.UTC(bn,Pn,Bn,Kn,Qn,Vn))}}ht.PDFDateString=en;function ln(Fn,{scale:Tn=1,rotation:dn=0}){const{width:bn,height:Pn}=Fn.attributes.style,Bn=[0,0,parseInt(bn),parseInt(Pn)];return new Ft({viewBox:Bn,scale:Tn,rotation:dn})}function Kt(Fn){if(Fn.startsWith("#")){const Tn=parseInt(Fn.slice(1),16);return[(Tn&16711680)>>16,(Tn&65280)>>8,Tn&255]}return Fn.startsWith("rgb(")?Fn.slice(4,-1).split(",").map(Tn=>parseInt(Tn)):Fn.startsWith("rgba(")?Fn.slice(5,-1).split(",").map(Tn=>parseInt(Tn)).slice(0,3):((0,xt.warn)(`Not a valid color format: "${Fn}"`),[0,0,0])}function on(Fn){const Tn=document.createElement("span");Tn.style.visibility="hidden",document.body.append(Tn);for(const dn of Fn.keys()){Tn.style.color=dn;const bn=window.getComputedStyle(Tn).color;Fn.set(dn,Kt(bn))}Tn.remove()}function fn(Fn){const{a:Tn,b:dn,c:bn,d:Pn,e:Bn,f:Kn}=Fn.getTransform();return[Tn,dn,bn,Pn,Bn,Kn]}function En(Fn){const{a:Tn,b:dn,c:bn,d:Pn,e:Bn,f:Kn}=Fn.getTransform().invertSelf();return[Tn,dn,bn,Pn,Bn,Kn]}function gn(Fn,Tn,dn=!1,bn=!0){if(Tn instanceof Ft){const{pageWidth:Pn,pageHeight:Bn}=Tn.rawDims,{style:Kn}=Fn,Qn=xt.FeatureTest.isCSSRoundSupported,Vn=`var(--scale-factor) * ${Pn}px`,Rn=`var(--scale-factor) * ${Bn}px`,ar=Qn?`round(${Vn}, 1px)`:`calc(${Vn})`,sr=Qn?`round(${Rn}, 1px)`:`calc(${Rn})`;!dn||Tn.rotation%180===0?(Kn.width=ar,Kn.height=sr):(Kn.width=sr,Kn.height=ar)}bn&&Fn.setAttribute("data-main-rotation",Tn.rotation)}},(vt,ht,bt)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.BaseStandardFontDataFactory=ht.BaseSVGFactory=ht.BaseFilterFactory=ht.BaseCanvasFactory=ht.BaseCMapReaderFactory=void 0;var _t=bt(1);class xt{constructor(){this.constructor===xt&&(0,_t.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(Rt){return"none"}addHCMFilter(Rt,Pt){return"none"}addHighlightHCMFilter(Rt,Pt,Mt,Ft){return"none"}destroy(Rt=!1){}}ht.BaseFilterFactory=xt;class Et{constructor(){this.constructor===Et&&(0,_t.unreachable)("Cannot initialize BaseCanvasFactory.")}create(Rt,Pt){if(Rt<=0||Pt<=0)throw new Error("Invalid canvas size");const Mt=this._createCanvas(Rt,Pt);return{canvas:Mt,context:Mt.getContext("2d")}}reset(Rt,Pt,Mt){if(!Rt.canvas)throw new Error("Canvas is not specified");if(Pt<=0||Mt<=0)throw new Error("Invalid canvas size");Rt.canvas.width=Pt,Rt.canvas.height=Mt}destroy(Rt){if(!Rt.canvas)throw new Error("Canvas is not specified");Rt.canvas.width=0,Rt.canvas.height=0,Rt.canvas=null,Rt.context=null}_createCanvas(Rt,Pt){(0,_t.unreachable)("Abstract method `_createCanvas` called.")}}ht.BaseCanvasFactory=Et;class wt{constructor({baseUrl:Rt=null,isCompressed:Pt=!0}){this.constructor===wt&&(0,_t.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=Rt,this.isCompressed=Pt}async fetch({name:Rt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!Rt)throw new Error("CMap name must be specified.");const Pt=this.baseUrl+Rt+(this.isCompressed?".bcmap":""),Mt=this.isCompressed?_t.CMapCompressionType.BINARY:_t.CMapCompressionType.NONE;return this._fetchData(Pt,Mt).catch(Ft=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Pt}`)})}_fetchData(Rt,Pt){(0,_t.unreachable)("Abstract method `_fetchData` called.")}}ht.BaseCMapReaderFactory=wt;class At{constructor({baseUrl:Rt=null}){this.constructor===At&&(0,_t.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=Rt}async fetch({filename:Rt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!Rt)throw new Error("Font filename must be specified.");const Pt=`${this.baseUrl}${Rt}`;return this._fetchData(Pt).catch(Mt=>{throw new Error(`Unable to load font data at: ${Pt}`)})}_fetchData(Rt){(0,_t.unreachable)("Abstract method `_fetchData` called.")}}ht.BaseStandardFontDataFactory=At;class St{constructor(){this.constructor===St&&(0,_t.unreachable)("Cannot initialize BaseSVGFactory.")}create(Rt,Pt,Mt=!1){if(Rt<=0||Pt<=0)throw new Error("Invalid SVG dimensions");const Ft=this._createSVG("svg:svg");return Ft.setAttribute("version","1.1"),Mt||(Ft.setAttribute("width",`${Rt}px`),Ft.setAttribute("height",`${Pt}px`)),Ft.setAttribute("preserveAspectRatio","none"),Ft.setAttribute("viewBox",`0 0 ${Rt} ${Pt}`),Ft}createElement(Rt){if(typeof Rt!="string")throw new Error("Invalid SVG element type");return this._createSVG(Rt)}_createSVG(Rt){(0,_t.unreachable)("Abstract method `_createSVG` called.")}}ht.BaseSVGFactory=St},(vt,ht,bt)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.MurmurHash3_64=void 0;var _t=bt(1);const xt=3285377520,Et=4294901760,wt=65535;class At{constructor(kt){this.h1=kt?kt&4294967295:xt,this.h2=kt?kt&4294967295:xt}update(kt){let Rt,Pt;if(typeof kt=="string"){Rt=new Uint8Array(kt.length*2),Pt=0;for(let zt=0,Gt=kt.length;zt<Gt;zt++){const en=kt.charCodeAt(zt);en<=255?Rt[Pt++]=en:(Rt[Pt++]=en>>>8,Rt[Pt++]=en&255)}}else if((0,_t.isArrayBuffer)(kt))Rt=kt.slice(),Pt=Rt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Mt=Pt>>2,Ft=Pt-Mt*4,Lt=new Uint32Array(Rt.buffer,0,Mt);let Dt=0,Nt=0,$t=this.h1,Ot=this.h2;const jt=3432918353,Ut=461845907,Bt=jt&wt,Vt=Ut&wt;for(let zt=0;zt<Mt;zt++)zt&1?(Dt=Lt[zt],Dt=Dt*jt&Et|Dt*Bt&wt,Dt=Dt<<15|Dt>>>17,Dt=Dt*Ut&Et|Dt*Vt&wt,$t^=Dt,$t=$t<<13|$t>>>19,$t=$t*5+3864292196):(Nt=Lt[zt],Nt=Nt*jt&Et|Nt*Bt&wt,Nt=Nt<<15|Nt>>>17,Nt=Nt*Ut&Et|Nt*Vt&wt,Ot^=Nt,Ot=Ot<<13|Ot>>>19,Ot=Ot*5+3864292196);switch(Dt=0,Ft){case 3:Dt^=Rt[Mt*4+2]<<16;case 2:Dt^=Rt[Mt*4+1]<<8;case 1:Dt^=Rt[Mt*4],Dt=Dt*jt&Et|Dt*Bt&wt,Dt=Dt<<15|Dt>>>17,Dt=Dt*Ut&Et|Dt*Vt&wt,Mt&1?$t^=Dt:Ot^=Dt}this.h1=$t,this.h2=Ot}hexdigest(){let kt=this.h1,Rt=this.h2;return kt^=Rt>>>1,kt=kt*3981806797&Et|kt*36045&wt,Rt=Rt*4283543511&Et|((Rt<<16|kt>>>16)*2950163797&Et)>>>16,kt^=Rt>>>1,kt=kt*444984403&Et|kt*60499&wt,Rt=Rt*3301882366&Et|((Rt<<16|kt>>>16)*3120437893&Et)>>>16,kt^=Rt>>>1,(kt>>>0).toString(16).padStart(8,"0")+(Rt>>>0).toString(16).padStart(8,"0")}}ht.MurmurHash3_64=At},(vt,ht,bt)=>{var wt;Object.defineProperty(ht,"__esModule",{value:!0}),ht.FontLoader=ht.FontFaceObject=void 0;var _t=bt(1);class xt{constructor({ownerDocument:St=globalThis.document,styleElement:kt=null}){Qt(this,wt,new Set);this._document=St,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(St){this.nativeFontFaces.add(St),this._document.fonts.add(St)}removeNativeFontFace(St){this.nativeFontFaces.delete(St),this._document.fonts.delete(St)}insertRule(St){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const kt=this.styleElement.sheet;kt.insertRule(St,kt.cssRules.length)}clear(){for(const St of this.nativeFontFaces)this._document.fonts.delete(St);this.nativeFontFaces.clear(),Ct(this,wt).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(St){if(!(!St||Ct(this,wt).has(St.loadedName))){if((0,_t.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:kt,src:Rt,style:Pt}=St,Mt=new FontFace(kt,Rt,Pt);this.addNativeFontFace(Mt);try{await Mt.load(),Ct(this,wt).add(kt)}catch{(0,_t.warn)(`Cannot load system font: ${St.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Mt)}return}(0,_t.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(St){if(St.attached||St.missingFile&&!St.systemFontInfo)return;if(St.attached=!0,St.systemFontInfo){await this.loadSystemFont(St.systemFontInfo);return}if(this.isFontLoadingAPISupported){const Rt=St.createNativeFontFace();if(Rt){this.addNativeFontFace(Rt);try{await Rt.loaded}catch(Pt){throw(0,_t.warn)(`Failed to load font '${Rt.family}': '${Pt}'.`),St.disableFontFace=!0,Pt}}return}const kt=St.createFontFaceRule();if(kt){if(this.insertRule(kt),this.isSyncFontLoadingSupported)return;await new Promise(Rt=>{const Pt=this._queueLoadingCallback(Rt);this._prepareFontLoadEvent(St,Pt)})}}get isFontLoadingAPISupported(){var kt;const St=!!((kt=this._document)!=null&&kt.fonts);return(0,_t.shadow)(this,"isFontLoadingAPISupported",St)}get isSyncFontLoadingSupported(){let St=!1;return(_t.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(St=!0),(0,_t.shadow)(this,"isSyncFontLoadingSupported",St)}_queueLoadingCallback(St){function kt(){for((0,_t.assert)(!Pt.done,"completeRequest() cannot be called twice."),Pt.done=!0;Rt.length>0&&Rt[0].done;){const Mt=Rt.shift();setTimeout(Mt.callback,0)}}const{loadingRequests:Rt}=this,Pt={done:!1,complete:kt,callback:St};return Rt.push(Pt),Pt}get _loadTestFont(){const St=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,_t.shadow)(this,"_loadTestFont",St)}_prepareFontLoadEvent(St,kt){function Rt(Kt,on){return Kt.charCodeAt(on)<<24|Kt.charCodeAt(on+1)<<16|Kt.charCodeAt(on+2)<<8|Kt.charCodeAt(on+3)&255}function Pt(Kt,on,fn,En){const gn=Kt.substring(0,on),wn=Kt.substring(on+fn);return gn+En+wn}let Mt,Ft;const Lt=this._document.createElement("canvas");Lt.width=1,Lt.height=1;const Dt=Lt.getContext("2d");let Nt=0;function $t(Kt,on){if(++Nt>30){(0,_t.warn)("Load test font never loaded."),on();return}if(Dt.font="30px "+Kt,Dt.fillText(".",0,20),Dt.getImageData(0,0,1,1).data[3]>0){on();return}setTimeout($t.bind(null,Kt,on))}const Ot=`lt${Date.now()}${this.loadTestFontId++}`;let jt=this._loadTestFont;jt=Pt(jt,976,Ot.length,Ot);const Bt=16,Vt=1482184792;let zt=Rt(jt,Bt);for(Mt=0,Ft=Ot.length-3;Mt<Ft;Mt+=4)zt=zt-Vt+Rt(Ot,Mt)|0;Mt<Ot.length&&(zt=zt-Vt+Rt(Ot+"XXX",Mt)|0),jt=Pt(jt,Bt,4,(0,_t.string32)(zt));const Gt=`url(data:font/opentype;base64,${btoa(jt)});`,en=`@font-face {font-family:"${Ot}";src:${Gt}}`;this.insertRule(en);const ln=this._document.createElement("div");ln.style.visibility="hidden",ln.style.width=ln.style.height="10px",ln.style.position="absolute",ln.style.top=ln.style.left="0px";for(const Kt of[St.loadedName,Ot]){const on=this._document.createElement("span");on.textContent="Hi",on.style.fontFamily=Kt,ln.append(on)}this._document.body.append(ln),$t(Ot,()=>{ln.remove(),kt.complete()})}}wt=new WeakMap,ht.FontLoader=xt;class Et{constructor(St,{isEvalSupported:kt=!0,disableFontFace:Rt=!1,ignoreErrors:Pt=!1,inspectFont:Mt=null}){this.compiledGlyphs=Object.create(null);for(const Ft in St)this[Ft]=St[Ft];this.isEvalSupported=kt!==!1,this.disableFontFace=Rt===!0,this.ignoreErrors=Pt===!0,this._inspectFont=Mt}createNativeFontFace(){var kt;if(!this.data||this.disableFontFace)return null;let St;if(!this.cssFontInfo)St=new FontFace(this.loadedName,this.data,{});else{const Rt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(Rt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),St=new FontFace(this.cssFontInfo.fontFamily,this.data,Rt)}return(kt=this._inspectFont)==null||kt.call(this,this),St}createFontFaceRule(){var Pt;if(!this.data||this.disableFontFace)return null;const St=(0,_t.bytesToString)(this.data),kt=`url(data:${this.mimetype};base64,${btoa(St)});`;let Rt;if(!this.cssFontInfo)Rt=`@font-face {font-family:"${this.loadedName}";src:${kt}}`;else{let Mt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Mt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),Rt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Mt}src:${kt}}`}return(Pt=this._inspectFont)==null||Pt.call(this,this,kt),Rt}getPathGenerator(St,kt){if(this.compiledGlyphs[kt]!==void 0)return this.compiledGlyphs[kt];let Rt;try{Rt=St.get(this.loadedName+"_path_"+kt)}catch(Pt){if(!this.ignoreErrors)throw Pt;return(0,_t.warn)(`getPathGenerator - ignoring character: "${Pt}".`),this.compiledGlyphs[kt]=function(Mt,Ft){}}if(this.isEvalSupported&&_t.FeatureTest.isEvalSupported){const Pt=[];for(const Mt of Rt){const Ft=Mt.args!==void 0?Mt.args.join(","):"";Pt.push("c.",Mt.cmd,"(",Ft,`);
`)}return this.compiledGlyphs[kt]=new Function("c","size",Pt.join(""))}return this.compiledGlyphs[kt]=function(Pt,Mt){for(const Ft of Rt)Ft.cmd==="scale"&&(Ft.args=[Mt,-Mt]),Pt[Ft.cmd].apply(Pt,Ft.args)}}}ht.FontFaceObject=Et},(vt,ht,bt)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.NodeStandardFontDataFactory=ht.NodeFilterFactory=ht.NodeCanvasFactory=ht.NodeCMapReaderFactory=void 0;var _t=bt(7);bt(1);const xt=function(kt){return new Promise((Rt,Pt)=>{require$$5.readFile(kt,(Ft,Lt)=>{if(Ft||!Lt){Pt(new Error(Ft));return}Rt(new Uint8Array(Lt))})})};class Et extends _t.BaseFilterFactory{}ht.NodeFilterFactory=Et;class wt extends _t.BaseCanvasFactory{_createCanvas(Rt,Pt){return require$$5.createCanvas(Rt,Pt)}}ht.NodeCanvasFactory=wt;class At extends _t.BaseCMapReaderFactory{_fetchData(Rt,Pt){return xt(Rt).then(Mt=>({cMapData:Mt,compressionType:Pt}))}}ht.NodeCMapReaderFactory=At;class St extends _t.BaseStandardFontDataFactory{_fetchData(Rt){return xt(Rt)}}ht.NodeStandardFontDataFactory=St},(vt,ht,bt)=>{var sn,Nx,jx;Object.defineProperty(ht,"__esModule",{value:!0}),ht.CanvasGraphics=void 0;var _t=bt(1),xt=bt(6),Et=bt(12),wt=bt(13);const At=16,St=100,kt=4096,Rt=15,Pt=10,Mt=1e3,Ft=16;function Lt(tn,Ht){if(tn._removeMirroring)throw new Error("Context is already forwarding operations.");tn.__originalSave=tn.save,tn.__originalRestore=tn.restore,tn.__originalRotate=tn.rotate,tn.__originalScale=tn.scale,tn.__originalTranslate=tn.translate,tn.__originalTransform=tn.transform,tn.__originalSetTransform=tn.setTransform,tn.__originalResetTransform=tn.resetTransform,tn.__originalClip=tn.clip,tn.__originalMoveTo=tn.moveTo,tn.__originalLineTo=tn.lineTo,tn.__originalBezierCurveTo=tn.bezierCurveTo,tn.__originalRect=tn.rect,tn.__originalClosePath=tn.closePath,tn.__originalBeginPath=tn.beginPath,tn._removeMirroring=()=>{tn.save=tn.__originalSave,tn.restore=tn.__originalRestore,tn.rotate=tn.__originalRotate,tn.scale=tn.__originalScale,tn.translate=tn.__originalTranslate,tn.transform=tn.__originalTransform,tn.setTransform=tn.__originalSetTransform,tn.resetTransform=tn.__originalResetTransform,tn.clip=tn.__originalClip,tn.moveTo=tn.__originalMoveTo,tn.lineTo=tn.__originalLineTo,tn.bezierCurveTo=tn.__originalBezierCurveTo,tn.rect=tn.__originalRect,tn.closePath=tn.__originalClosePath,tn.beginPath=tn.__originalBeginPath,delete tn._removeMirroring},tn.save=function(){Ht.save(),this.__originalSave()},tn.restore=function(){Ht.restore(),this.__originalRestore()},tn.translate=function(rn,nn){Ht.translate(rn,nn),this.__originalTranslate(rn,nn)},tn.scale=function(rn,nn){Ht.scale(rn,nn),this.__originalScale(rn,nn)},tn.transform=function(rn,nn,hn,cn,Cn,$n){Ht.transform(rn,nn,hn,cn,Cn,$n),this.__originalTransform(rn,nn,hn,cn,Cn,$n)},tn.setTransform=function(rn,nn,hn,cn,Cn,$n){Ht.setTransform(rn,nn,hn,cn,Cn,$n),this.__originalSetTransform(rn,nn,hn,cn,Cn,$n)},tn.resetTransform=function(){Ht.resetTransform(),this.__originalResetTransform()},tn.rotate=function(rn){Ht.rotate(rn),this.__originalRotate(rn)},tn.clip=function(rn){Ht.clip(rn),this.__originalClip(rn)},tn.moveTo=function(Wt,rn){Ht.moveTo(Wt,rn),this.__originalMoveTo(Wt,rn)},tn.lineTo=function(Wt,rn){Ht.lineTo(Wt,rn),this.__originalLineTo(Wt,rn)},tn.bezierCurveTo=function(Wt,rn,nn,hn,cn,Cn){Ht.bezierCurveTo(Wt,rn,nn,hn,cn,Cn),this.__originalBezierCurveTo(Wt,rn,nn,hn,cn,Cn)},tn.rect=function(Wt,rn,nn,hn){Ht.rect(Wt,rn,nn,hn),this.__originalRect(Wt,rn,nn,hn)},tn.closePath=function(){Ht.closePath(),this.__originalClosePath()},tn.beginPath=function(){Ht.beginPath(),this.__originalBeginPath()}}class Dt{constructor(Ht){this.canvasFactory=Ht,this.cache=Object.create(null)}getCanvas(Ht,Wt,rn){let nn;return this.cache[Ht]!==void 0?(nn=this.cache[Ht],this.canvasFactory.reset(nn,Wt,rn)):(nn=this.canvasFactory.create(Wt,rn),this.cache[Ht]=nn),nn}delete(Ht){delete this.cache[Ht]}clear(){for(const Ht in this.cache){const Wt=this.cache[Ht];this.canvasFactory.destroy(Wt),delete this.cache[Ht]}}}function Nt(tn,Ht,Wt,rn,nn,hn,cn,Cn,$n,Hn){const[On,Xn,Yn,Gn,Fn,Tn]=(0,xt.getCurrentTransform)(tn);if(Xn===0&&Yn===0){const Pn=cn*On+Fn,Bn=Math.round(Pn),Kn=Cn*Gn+Tn,Qn=Math.round(Kn),Vn=(cn+$n)*On+Fn,Rn=Math.abs(Math.round(Vn)-Bn)||1,ar=(Cn+Hn)*Gn+Tn,sr=Math.abs(Math.round(ar)-Qn)||1;return tn.setTransform(Math.sign(On),0,0,Math.sign(Gn),Bn,Qn),tn.drawImage(Ht,Wt,rn,nn,hn,0,0,Rn,sr),tn.setTransform(On,Xn,Yn,Gn,Fn,Tn),[Rn,sr]}if(On===0&&Gn===0){const Pn=Cn*Yn+Fn,Bn=Math.round(Pn),Kn=cn*Xn+Tn,Qn=Math.round(Kn),Vn=(Cn+Hn)*Yn+Fn,Rn=Math.abs(Math.round(Vn)-Bn)||1,ar=(cn+$n)*Xn+Tn,sr=Math.abs(Math.round(ar)-Qn)||1;return tn.setTransform(0,Math.sign(Xn),Math.sign(Yn),0,Bn,Qn),tn.drawImage(Ht,Wt,rn,nn,hn,0,0,sr,Rn),tn.setTransform(On,Xn,Yn,Gn,Fn,Tn),[sr,Rn]}tn.drawImage(Ht,Wt,rn,nn,hn,cn,Cn,$n,Hn);const dn=Math.hypot(On,Xn),bn=Math.hypot(Yn,Gn);return[dn*$n,bn*Hn]}function $t(tn){const{width:Ht,height:Wt}=tn;if(Ht>Mt||Wt>Mt)return null;const rn=1e3,nn=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),hn=Ht+1;let cn=new Uint8Array(hn*(Wt+1)),Cn,$n,Hn;const On=Ht+7&-8;let Xn=new Uint8Array(On*Wt),Yn=0;for(const bn of tn.data){let Pn=128;for(;Pn>0;)Xn[Yn++]=bn&Pn?0:255,Pn>>=1}let Gn=0;for(Yn=0,Xn[Yn]!==0&&(cn[0]=1,++Gn),$n=1;$n<Ht;$n++)Xn[Yn]!==Xn[Yn+1]&&(cn[$n]=Xn[Yn]?2:1,++Gn),Yn++;for(Xn[Yn]!==0&&(cn[$n]=2,++Gn),Cn=1;Cn<Wt;Cn++){Yn=Cn*On,Hn=Cn*hn,Xn[Yn-On]!==Xn[Yn]&&(cn[Hn]=Xn[Yn]?1:8,++Gn);let bn=(Xn[Yn]?4:0)+(Xn[Yn-On]?8:0);for($n=1;$n<Ht;$n++)bn=(bn>>2)+(Xn[Yn+1]?4:0)+(Xn[Yn-On+1]?8:0),nn[bn]&&(cn[Hn+$n]=nn[bn],++Gn),Yn++;if(Xn[Yn-On]!==Xn[Yn]&&(cn[Hn+$n]=Xn[Yn]?2:4,++Gn),Gn>rn)return null}for(Yn=On*(Wt-1),Hn=Cn*hn,Xn[Yn]!==0&&(cn[Hn]=8,++Gn),$n=1;$n<Ht;$n++)Xn[Yn]!==Xn[Yn+1]&&(cn[Hn+$n]=Xn[Yn]?4:8,++Gn),Yn++;if(Xn[Yn]!==0&&(cn[Hn+$n]=4,++Gn),Gn>rn)return null;const Fn=new Int32Array([0,hn,-1,0,-hn,0,0,0,1]),Tn=new Path2D;for(Cn=0;Gn&&Cn<=Wt;Cn++){let bn=Cn*hn;const Pn=bn+Ht;for(;bn<Pn&&!cn[bn];)bn++;if(bn===Pn)continue;Tn.moveTo(bn%hn,Cn);const Bn=bn;let Kn=cn[bn];do{const Qn=Fn[Kn];do bn+=Qn;while(!cn[bn]);const Vn=cn[bn];Vn!==5&&Vn!==10?(Kn=Vn,cn[bn]=0):(Kn=Vn&51*Kn>>4,cn[bn]&=Kn>>2|Kn<<2),Tn.lineTo(bn%hn,bn/hn|0),cn[bn]||--Gn}while(Bn!==bn);--Cn}return Xn=null,cn=null,function(bn){bn.save(),bn.scale(1/Ht,-1/Wt),bn.translate(0,-Wt),bn.fill(Tn),bn.beginPath(),bn.restore()}}class Ot{constructor(Ht,Wt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_t.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_t.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_t.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Ht,Wt])}clone(){const Ht=Object.create(this);return Ht.clipBox=this.clipBox.slice(),Ht}setCurrentPoint(Ht,Wt){this.x=Ht,this.y=Wt}updatePathMinMax(Ht,Wt,rn){[Wt,rn]=_t.Util.applyTransform([Wt,rn],Ht),this.minX=Math.min(this.minX,Wt),this.minY=Math.min(this.minY,rn),this.maxX=Math.max(this.maxX,Wt),this.maxY=Math.max(this.maxY,rn)}updateRectMinMax(Ht,Wt){const rn=_t.Util.applyTransform(Wt,Ht),nn=_t.Util.applyTransform(Wt.slice(2),Ht);this.minX=Math.min(this.minX,rn[0],nn[0]),this.minY=Math.min(this.minY,rn[1],nn[1]),this.maxX=Math.max(this.maxX,rn[0],nn[0]),this.maxY=Math.max(this.maxY,rn[1],nn[1])}updateScalingPathMinMax(Ht,Wt){_t.Util.scaleMinMax(Ht,Wt),this.minX=Math.min(this.minX,Wt[0]),this.maxX=Math.max(this.maxX,Wt[1]),this.minY=Math.min(this.minY,Wt[2]),this.maxY=Math.max(this.maxY,Wt[3])}updateCurvePathMinMax(Ht,Wt,rn,nn,hn,cn,Cn,$n,Hn,On){const Xn=_t.Util.bezierBoundingBox(Wt,rn,nn,hn,cn,Cn,$n,Hn);if(On){On[0]=Math.min(On[0],Xn[0],Xn[2]),On[1]=Math.max(On[1],Xn[0],Xn[2]),On[2]=Math.min(On[2],Xn[1],Xn[3]),On[3]=Math.max(On[3],Xn[1],Xn[3]);return}this.updateRectMinMax(Ht,Xn)}getPathBoundingBox(Ht=Et.PathType.FILL,Wt=null){const rn=[this.minX,this.minY,this.maxX,this.maxY];if(Ht===Et.PathType.STROKE){Wt||(0,_t.unreachable)("Stroke bounding box must include transform.");const nn=_t.Util.singularValueDecompose2dScale(Wt),hn=nn[0]*this.lineWidth/2,cn=nn[1]*this.lineWidth/2;rn[0]-=hn,rn[1]-=cn,rn[2]+=hn,rn[3]+=cn}return rn}updateClipFromPath(){const Ht=_t.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Ht||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Ht){this.clipBox=Ht,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Ht=Et.PathType.FILL,Wt=null){return _t.Util.intersect(this.clipBox,this.getPathBoundingBox(Ht,Wt))}}function jt(tn,Ht){if(typeof ImageData<"u"&&Ht instanceof ImageData){tn.putImageData(Ht,0,0);return}const Wt=Ht.height,rn=Ht.width,nn=Wt%Ft,hn=(Wt-nn)/Ft,cn=nn===0?hn:hn+1,Cn=tn.createImageData(rn,Ft);let $n=0,Hn;const On=Ht.data,Xn=Cn.data;let Yn,Gn,Fn,Tn;if(Ht.kind===_t.ImageKind.GRAYSCALE_1BPP){const dn=On.byteLength,bn=new Uint32Array(Xn.buffer,0,Xn.byteLength>>2),Pn=bn.length,Bn=rn+7>>3,Kn=4294967295,Qn=_t.FeatureTest.isLittleEndian?4278190080:255;for(Yn=0;Yn<cn;Yn++){for(Fn=Yn<hn?Ft:nn,Hn=0,Gn=0;Gn<Fn;Gn++){const Vn=dn-$n;let Rn=0;const ar=Vn>Bn?rn:Vn*8-7,sr=ar&-8;let Mr=0,Lr=0;for(;Rn<sr;Rn+=8)Lr=On[$n++],bn[Hn++]=Lr&128?Kn:Qn,bn[Hn++]=Lr&64?Kn:Qn,bn[Hn++]=Lr&32?Kn:Qn,bn[Hn++]=Lr&16?Kn:Qn,bn[Hn++]=Lr&8?Kn:Qn,bn[Hn++]=Lr&4?Kn:Qn,bn[Hn++]=Lr&2?Kn:Qn,bn[Hn++]=Lr&1?Kn:Qn;for(;Rn<ar;Rn++)Mr===0&&(Lr=On[$n++],Mr=128),bn[Hn++]=Lr&Mr?Kn:Qn,Mr>>=1}for(;Hn<Pn;)bn[Hn++]=0;tn.putImageData(Cn,0,Yn*Ft)}}else if(Ht.kind===_t.ImageKind.RGBA_32BPP){for(Gn=0,Tn=rn*Ft*4,Yn=0;Yn<hn;Yn++)Xn.set(On.subarray($n,$n+Tn)),$n+=Tn,tn.putImageData(Cn,0,Gn),Gn+=Ft;Yn<cn&&(Tn=rn*nn*4,Xn.set(On.subarray($n,$n+Tn)),tn.putImageData(Cn,0,Gn))}else if(Ht.kind===_t.ImageKind.RGB_24BPP)for(Fn=Ft,Tn=rn*Fn,Yn=0;Yn<cn;Yn++){for(Yn>=hn&&(Fn=nn,Tn=rn*Fn),Hn=0,Gn=Tn;Gn--;)Xn[Hn++]=On[$n++],Xn[Hn++]=On[$n++],Xn[Hn++]=On[$n++],Xn[Hn++]=255;tn.putImageData(Cn,0,Yn*Ft)}else throw new Error(`bad image kind: ${Ht.kind}`)}function Ut(tn,Ht){if(Ht.bitmap){tn.drawImage(Ht.bitmap,0,0);return}const Wt=Ht.height,rn=Ht.width,nn=Wt%Ft,hn=(Wt-nn)/Ft,cn=nn===0?hn:hn+1,Cn=tn.createImageData(rn,Ft);let $n=0;const Hn=Ht.data,On=Cn.data;for(let Xn=0;Xn<cn;Xn++){const Yn=Xn<hn?Ft:nn;({srcPos:$n}=(0,wt.convertBlackAndWhiteToRGBA)({src:Hn,srcPos:$n,dest:On,width:rn,height:Yn,nonBlackColor:0})),tn.putImageData(Cn,0,Xn*Ft)}}function Bt(tn,Ht){const Wt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const rn of Wt)tn[rn]!==void 0&&(Ht[rn]=tn[rn]);tn.setLineDash!==void 0&&(Ht.setLineDash(tn.getLineDash()),Ht.lineDashOffset=tn.lineDashOffset)}function Vt(tn){if(tn.strokeStyle=tn.fillStyle="#000000",tn.fillRule="nonzero",tn.globalAlpha=1,tn.lineWidth=1,tn.lineCap="butt",tn.lineJoin="miter",tn.miterLimit=10,tn.globalCompositeOperation="source-over",tn.font="10px sans-serif",tn.setLineDash!==void 0&&(tn.setLineDash([]),tn.lineDashOffset=0),!_t.isNodeJS){const{filter:Ht}=tn;Ht!=="none"&&Ht!==""&&(tn.filter="none")}}function zt(tn,Ht,Wt,rn){const nn=tn.length;for(let hn=3;hn<nn;hn+=4){const cn=tn[hn];if(cn===0)tn[hn-3]=Ht,tn[hn-2]=Wt,tn[hn-1]=rn;else if(cn<255){const Cn=255-cn;tn[hn-3]=tn[hn-3]*cn+Ht*Cn>>8,tn[hn-2]=tn[hn-2]*cn+Wt*Cn>>8,tn[hn-1]=tn[hn-1]*cn+rn*Cn>>8}}}function Gt(tn,Ht,Wt){const rn=tn.length,nn=1/255;for(let hn=3;hn<rn;hn+=4){const cn=Wt?Wt[tn[hn]]:tn[hn];Ht[hn]=Ht[hn]*cn*nn|0}}function en(tn,Ht,Wt){const rn=tn.length;for(let nn=3;nn<rn;nn+=4){const hn=tn[nn-3]*77+tn[nn-2]*152+tn[nn-1]*28;Ht[nn]=Wt?Ht[nn]*Wt[hn>>8]>>8:Ht[nn]*hn>>16}}function ln(tn,Ht,Wt,rn,nn,hn,cn,Cn,$n,Hn,On){const Xn=!!hn,Yn=Xn?hn[0]:0,Gn=Xn?hn[1]:0,Fn=Xn?hn[2]:0,Tn=nn==="Luminosity"?en:Gt,bn=Math.min(rn,Math.ceil(1048576/Wt));for(let Pn=0;Pn<rn;Pn+=bn){const Bn=Math.min(bn,rn-Pn),Kn=tn.getImageData(Cn-Hn,Pn+($n-On),Wt,Bn),Qn=Ht.getImageData(Cn,Pn+$n,Wt,Bn);Xn&&zt(Kn.data,Yn,Gn,Fn),Tn(Kn.data,Qn.data,cn),Ht.putImageData(Qn,Cn,Pn+$n)}}function Kt(tn,Ht,Wt,rn){const nn=rn[0],hn=rn[1],cn=rn[2]-nn,Cn=rn[3]-hn;cn===0||Cn===0||(ln(Ht.context,Wt,cn,Cn,Ht.subtype,Ht.backdrop,Ht.transferMap,nn,hn,Ht.offsetX,Ht.offsetY),tn.save(),tn.globalAlpha=1,tn.globalCompositeOperation="source-over",tn.setTransform(1,0,0,1,0,0),tn.drawImage(Wt.canvas,0,0),tn.restore())}function on(tn,Ht){const Wt=_t.Util.singularValueDecompose2dScale(tn);Wt[0]=Math.fround(Wt[0]),Wt[1]=Math.fround(Wt[1]);const rn=Math.fround((globalThis.devicePixelRatio||1)*xt.PixelsPerInch.PDF_TO_CSS_UNITS);return Ht!==void 0?Ht:Wt[0]<=rn||Wt[1]<=rn}const fn=["butt","round","square"],En=["miter","round","bevel"],gn={},wn={},vn=class vn{constructor(Ht,Wt,rn,nn,hn,{optionalContentConfig:cn,markedContentStack:Cn=null},$n,Hn){Qt(this,sn);this.ctx=Ht,this.current=new Ot(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Wt,this.objs=rn,this.canvasFactory=nn,this.filterFactory=hn,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Cn||[],this.optionalContentConfig=cn,this.cachedCanvases=new Dt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=$n,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Hn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Ht,Wt=null){return typeof Ht=="string"?Ht.startsWith("g_")?this.commonObjs.get(Ht):this.objs.get(Ht):Wt}beginDrawing({transform:Ht,viewport:Wt,transparency:rn=!1,background:nn=null}){const hn=this.ctx.canvas.width,cn=this.ctx.canvas.height,Cn=this.ctx.fillStyle;if(this.ctx.fillStyle=nn||"#ffffff",this.ctx.fillRect(0,0,hn,cn),this.ctx.fillStyle=Cn,rn){const $n=this.cachedCanvases.getCanvas("transparent",hn,cn);this.compositeCtx=this.ctx,this.transparentCanvas=$n.canvas,this.ctx=$n.context,this.ctx.save(),this.ctx.transform(...(0,xt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Vt(this.ctx),Ht&&(this.ctx.transform(...Ht),this.outputScaleX=Ht[0],this.outputScaleY=Ht[0]),this.ctx.transform(...Wt.transform),this.viewportScale=Wt.scale,this.baseTransform=(0,xt.getCurrentTransform)(this.ctx)}executeOperatorList(Ht,Wt,rn,nn){const hn=Ht.argsArray,cn=Ht.fnArray;let Cn=Wt||0;const $n=hn.length;if($n===Cn)return Cn;const Hn=$n-Cn>Pt&&typeof rn=="function",On=Hn?Date.now()+Rt:0;let Xn=0;const Yn=this.commonObjs,Gn=this.objs;let Fn;for(;;){if(nn!==void 0&&Cn===nn.nextBreakPoint)return nn.breakIt(Cn,rn),Cn;if(Fn=cn[Cn],Fn!==_t.OPS.dependency)this[Fn].apply(this,hn[Cn]);else for(const Tn of hn[Cn]){const dn=Tn.startsWith("g_")?Yn:Gn;if(!dn.has(Tn))return dn.get(Tn,rn),Cn}if(Cn++,Cn===$n)return Cn;if(Hn&&++Xn>Pt){if(Date.now()>On)return rn(),Cn;Xn=0}}}endDrawing(){Xt(this,sn,Nx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Ht of this._cachedBitmapsMap.values()){for(const Wt of Ht.values())typeof HTMLCanvasElement<"u"&&Wt instanceof HTMLCanvasElement&&(Wt.width=Wt.height=0);Ht.clear()}this._cachedBitmapsMap.clear(),Xt(this,sn,jx).call(this)}_scaleImage(Ht,Wt){const rn=Ht.width,nn=Ht.height;let hn=Math.max(Math.hypot(Wt[0],Wt[1]),1),cn=Math.max(Math.hypot(Wt[2],Wt[3]),1),Cn=rn,$n=nn,Hn="prescale1",On,Xn;for(;hn>2&&Cn>1||cn>2&&$n>1;){let Yn=Cn,Gn=$n;hn>2&&Cn>1&&(Yn=Cn>=16384?Math.floor(Cn/2)-1||1:Math.ceil(Cn/2),hn/=Cn/Yn),cn>2&&$n>1&&(Gn=$n>=16384?Math.floor($n/2)-1||1:Math.ceil($n)/2,cn/=$n/Gn),On=this.cachedCanvases.getCanvas(Hn,Yn,Gn),Xn=On.context,Xn.clearRect(0,0,Yn,Gn),Xn.drawImage(Ht,0,0,Cn,$n,0,0,Yn,Gn),Ht=On.canvas,Cn=Yn,$n=Gn,Hn=Hn==="prescale1"?"prescale2":"prescale1"}return{img:Ht,paintWidth:Cn,paintHeight:$n}}_createMaskCanvas(Ht){const Wt=this.ctx,{width:rn,height:nn}=Ht,hn=this.current.fillColor,cn=this.current.patternFill,Cn=(0,xt.getCurrentTransform)(Wt);let $n,Hn,On,Xn;if((Ht.bitmap||Ht.data)&&Ht.count>1){const Rn=Ht.bitmap||Ht.data.buffer;Hn=JSON.stringify(cn?Cn:[Cn.slice(0,4),hn]),$n=this._cachedBitmapsMap.get(Rn),$n||($n=new Map,this._cachedBitmapsMap.set(Rn,$n));const ar=$n.get(Hn);if(ar&&!cn){const sr=Math.round(Math.min(Cn[0],Cn[2])+Cn[4]),Mr=Math.round(Math.min(Cn[1],Cn[3])+Cn[5]);return{canvas:ar,offsetX:sr,offsetY:Mr}}On=ar}On||(Xn=this.cachedCanvases.getCanvas("maskCanvas",rn,nn),Ut(Xn.context,Ht));let Yn=_t.Util.transform(Cn,[1/rn,0,0,-1/nn,0,0]);Yn=_t.Util.transform(Yn,[1,0,0,1,0,-nn]);const Gn=_t.Util.applyTransform([0,0],Yn),Fn=_t.Util.applyTransform([rn,nn],Yn),Tn=_t.Util.normalizeRect([Gn[0],Gn[1],Fn[0],Fn[1]]),dn=Math.round(Tn[2]-Tn[0])||1,bn=Math.round(Tn[3]-Tn[1])||1,Pn=this.cachedCanvases.getCanvas("fillCanvas",dn,bn),Bn=Pn.context,Kn=Math.min(Gn[0],Fn[0]),Qn=Math.min(Gn[1],Fn[1]);Bn.translate(-Kn,-Qn),Bn.transform(...Yn),On||(On=this._scaleImage(Xn.canvas,(0,xt.getCurrentTransformInverse)(Bn)),On=On.img,$n&&cn&&$n.set(Hn,On)),Bn.imageSmoothingEnabled=on((0,xt.getCurrentTransform)(Bn),Ht.interpolate),Nt(Bn,On,0,0,On.width,On.height,0,0,rn,nn),Bn.globalCompositeOperation="source-in";const Vn=_t.Util.transform((0,xt.getCurrentTransformInverse)(Bn),[1,0,0,1,-Kn,-Qn]);return Bn.fillStyle=cn?hn.getPattern(Wt,this,Vn,Et.PathType.FILL):hn,Bn.fillRect(0,0,rn,nn),$n&&!cn&&(this.cachedCanvases.delete("fillCanvas"),$n.set(Hn,Pn.canvas)),{canvas:Pn.canvas,offsetX:Math.round(Kn),offsetY:Math.round(Qn)}}setLineWidth(Ht){Ht!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Ht,this.ctx.lineWidth=Ht}setLineCap(Ht){this.ctx.lineCap=fn[Ht]}setLineJoin(Ht){this.ctx.lineJoin=En[Ht]}setMiterLimit(Ht){this.ctx.miterLimit=Ht}setDash(Ht,Wt){const rn=this.ctx;rn.setLineDash!==void 0&&(rn.setLineDash(Ht),rn.lineDashOffset=Wt)}setRenderingIntent(Ht){}setFlatness(Ht){}setGState(Ht){for(const[Wt,rn]of Ht)switch(Wt){case"LW":this.setLineWidth(rn);break;case"LC":this.setLineCap(rn);break;case"LJ":this.setLineJoin(rn);break;case"ML":this.setMiterLimit(rn);break;case"D":this.setDash(rn[0],rn[1]);break;case"RI":this.setRenderingIntent(rn);break;case"FL":this.setFlatness(rn);break;case"Font":this.setFont(rn[0],rn[1]);break;case"CA":this.current.strokeAlpha=rn;break;case"ca":this.current.fillAlpha=rn,this.ctx.globalAlpha=rn;break;case"BM":this.ctx.globalCompositeOperation=rn;break;case"SMask":this.current.activeSMask=rn?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(rn);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Ht=this.inSMaskMode;this.current.activeSMask&&!Ht?this.beginSMaskMode():!this.current.activeSMask&&Ht&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Ht=this.ctx.canvas.width,Wt=this.ctx.canvas.height,rn="smaskGroupAt"+this.groupLevel,nn=this.cachedCanvases.getCanvas(rn,Ht,Wt);this.suspendedCtx=this.ctx,this.ctx=nn.context;const hn=this.ctx;hn.setTransform(...(0,xt.getCurrentTransform)(this.suspendedCtx)),Bt(this.suspendedCtx,hn),Lt(hn,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Bt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Ht){if(!this.current.activeSMask)return;Ht?(Ht[0]=Math.floor(Ht[0]),Ht[1]=Math.floor(Ht[1]),Ht[2]=Math.ceil(Ht[2]),Ht[3]=Math.ceil(Ht[3])):Ht=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Wt=this.current.activeSMask,rn=this.suspendedCtx;Kt(rn,Wt,this.ctx,Ht),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Bt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Ht=this.current;this.stateStack.push(Ht),this.current=Ht.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Bt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Ht,Wt,rn,nn,hn,cn){this.ctx.transform(Ht,Wt,rn,nn,hn,cn),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Ht,Wt,rn){const nn=this.ctx,hn=this.current;let cn=hn.x,Cn=hn.y,$n,Hn;const On=(0,xt.getCurrentTransform)(nn),Xn=On[0]===0&&On[3]===0||On[1]===0&&On[2]===0,Yn=Xn?rn.slice(0):null;for(let Gn=0,Fn=0,Tn=Ht.length;Gn<Tn;Gn++)switch(Ht[Gn]|0){case _t.OPS.rectangle:cn=Wt[Fn++],Cn=Wt[Fn++];const dn=Wt[Fn++],bn=Wt[Fn++],Pn=cn+dn,Bn=Cn+bn;nn.moveTo(cn,Cn),dn===0||bn===0?nn.lineTo(Pn,Bn):(nn.lineTo(Pn,Cn),nn.lineTo(Pn,Bn),nn.lineTo(cn,Bn)),Xn||hn.updateRectMinMax(On,[cn,Cn,Pn,Bn]),nn.closePath();break;case _t.OPS.moveTo:cn=Wt[Fn++],Cn=Wt[Fn++],nn.moveTo(cn,Cn),Xn||hn.updatePathMinMax(On,cn,Cn);break;case _t.OPS.lineTo:cn=Wt[Fn++],Cn=Wt[Fn++],nn.lineTo(cn,Cn),Xn||hn.updatePathMinMax(On,cn,Cn);break;case _t.OPS.curveTo:$n=cn,Hn=Cn,cn=Wt[Fn+4],Cn=Wt[Fn+5],nn.bezierCurveTo(Wt[Fn],Wt[Fn+1],Wt[Fn+2],Wt[Fn+3],cn,Cn),hn.updateCurvePathMinMax(On,$n,Hn,Wt[Fn],Wt[Fn+1],Wt[Fn+2],Wt[Fn+3],cn,Cn,Yn),Fn+=6;break;case _t.OPS.curveTo2:$n=cn,Hn=Cn,nn.bezierCurveTo(cn,Cn,Wt[Fn],Wt[Fn+1],Wt[Fn+2],Wt[Fn+3]),hn.updateCurvePathMinMax(On,$n,Hn,cn,Cn,Wt[Fn],Wt[Fn+1],Wt[Fn+2],Wt[Fn+3],Yn),cn=Wt[Fn+2],Cn=Wt[Fn+3],Fn+=4;break;case _t.OPS.curveTo3:$n=cn,Hn=Cn,cn=Wt[Fn+2],Cn=Wt[Fn+3],nn.bezierCurveTo(Wt[Fn],Wt[Fn+1],cn,Cn,cn,Cn),hn.updateCurvePathMinMax(On,$n,Hn,Wt[Fn],Wt[Fn+1],cn,Cn,cn,Cn,Yn),Fn+=4;break;case _t.OPS.closePath:nn.closePath();break}Xn&&hn.updateScalingPathMinMax(On,Yn),hn.setCurrentPoint(cn,Cn)}closePath(){this.ctx.closePath()}stroke(Ht=!0){const Wt=this.ctx,rn=this.current.strokeColor;Wt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof rn=="object"&&(rn!=null&&rn.getPattern)?(Wt.save(),Wt.strokeStyle=rn.getPattern(Wt,this,(0,xt.getCurrentTransformInverse)(Wt),Et.PathType.STROKE),this.rescaleAndStroke(!1),Wt.restore()):this.rescaleAndStroke(!0)),Ht&&this.consumePath(this.current.getClippedPathBoundingBox()),Wt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Ht=!0){const Wt=this.ctx,rn=this.current.fillColor,nn=this.current.patternFill;let hn=!1;nn&&(Wt.save(),Wt.fillStyle=rn.getPattern(Wt,this,(0,xt.getCurrentTransformInverse)(Wt),Et.PathType.FILL),hn=!0);const cn=this.current.getClippedPathBoundingBox();this.contentVisible&&cn!==null&&(this.pendingEOFill?(Wt.fill("evenodd"),this.pendingEOFill=!1):Wt.fill()),hn&&Wt.restore(),Ht&&this.consumePath(cn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=gn}eoClip(){this.pendingClip=wn}beginText(){this.current.textMatrix=_t.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Ht=this.pendingTextPaths,Wt=this.ctx;if(Ht===void 0){Wt.beginPath();return}Wt.save(),Wt.beginPath();for(const rn of Ht)Wt.setTransform(...rn.transform),Wt.translate(rn.x,rn.y),rn.addToPath(Wt,rn.fontSize);Wt.restore(),Wt.clip(),Wt.beginPath(),delete this.pendingTextPaths}setCharSpacing(Ht){this.current.charSpacing=Ht}setWordSpacing(Ht){this.current.wordSpacing=Ht}setHScale(Ht){this.current.textHScale=Ht/100}setLeading(Ht){this.current.leading=-Ht}setFont(Ht,Wt){var On;const rn=this.commonObjs.get(Ht),nn=this.current;if(!rn)throw new Error(`Can't find font for ${Ht}`);if(nn.fontMatrix=rn.fontMatrix||_t.FONT_IDENTITY_MATRIX,(nn.fontMatrix[0]===0||nn.fontMatrix[3]===0)&&(0,_t.warn)("Invalid font matrix for font "+Ht),Wt<0?(Wt=-Wt,nn.fontDirection=-1):nn.fontDirection=1,this.current.font=rn,this.current.fontSize=Wt,rn.isType3Font)return;const hn=rn.loadedName||"sans-serif",cn=((On=rn.systemFontInfo)==null?void 0:On.css)||`"${hn}", ${rn.fallbackName}`;let Cn="normal";rn.black?Cn="900":rn.bold&&(Cn="bold");const $n=rn.italic?"italic":"normal";let Hn=Wt;Wt<At?Hn=At:Wt>St&&(Hn=St),this.current.fontSizeScale=Wt/Hn,this.ctx.font=`${$n} ${Cn} ${Hn}px ${cn}`}setTextRenderingMode(Ht){this.current.textRenderingMode=Ht}setTextRise(Ht){this.current.textRise=Ht}moveText(Ht,Wt){this.current.x=this.current.lineX+=Ht,this.current.y=this.current.lineY+=Wt}setLeadingMoveText(Ht,Wt){this.setLeading(-Wt),this.moveText(Ht,Wt)}setTextMatrix(Ht,Wt,rn,nn,hn,cn){this.current.textMatrix=[Ht,Wt,rn,nn,hn,cn],this.current.textMatrixScale=Math.hypot(Ht,Wt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Ht,Wt,rn,nn){const hn=this.ctx,cn=this.current,Cn=cn.font,$n=cn.textRenderingMode,Hn=cn.fontSize/cn.fontSizeScale,On=$n&_t.TextRenderingMode.FILL_STROKE_MASK,Xn=!!($n&_t.TextRenderingMode.ADD_TO_PATH_FLAG),Yn=cn.patternFill&&!Cn.missingFile;let Gn;(Cn.disableFontFace||Xn||Yn)&&(Gn=Cn.getPathGenerator(this.commonObjs,Ht)),Cn.disableFontFace||Yn?(hn.save(),hn.translate(Wt,rn),hn.beginPath(),Gn(hn,Hn),nn&&hn.setTransform(...nn),(On===_t.TextRenderingMode.FILL||On===_t.TextRenderingMode.FILL_STROKE)&&hn.fill(),(On===_t.TextRenderingMode.STROKE||On===_t.TextRenderingMode.FILL_STROKE)&&hn.stroke(),hn.restore()):((On===_t.TextRenderingMode.FILL||On===_t.TextRenderingMode.FILL_STROKE)&&hn.fillText(Ht,Wt,rn),(On===_t.TextRenderingMode.STROKE||On===_t.TextRenderingMode.FILL_STROKE)&&hn.strokeText(Ht,Wt,rn)),Xn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,xt.getCurrentTransform)(hn),x:Wt,y:rn,fontSize:Hn,addToPath:Gn})}get isFontSubpixelAAEnabled(){const{context:Ht}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Ht.scale(1.5,1),Ht.fillText("I",0,10);const Wt=Ht.getImageData(0,0,10,10).data;let rn=!1;for(let nn=3;nn<Wt.length;nn+=4)if(Wt[nn]>0&&Wt[nn]<255){rn=!0;break}return(0,_t.shadow)(this,"isFontSubpixelAAEnabled",rn)}showText(Ht){const Wt=this.current,rn=Wt.font;if(rn.isType3Font)return this.showType3Text(Ht);const nn=Wt.fontSize;if(nn===0)return;const hn=this.ctx,cn=Wt.fontSizeScale,Cn=Wt.charSpacing,$n=Wt.wordSpacing,Hn=Wt.fontDirection,On=Wt.textHScale*Hn,Xn=Ht.length,Yn=rn.vertical,Gn=Yn?1:-1,Fn=rn.defaultVMetrics,Tn=nn*Wt.fontMatrix[0],dn=Wt.textRenderingMode===_t.TextRenderingMode.FILL&&!rn.disableFontFace&&!Wt.patternFill;hn.save(),hn.transform(...Wt.textMatrix),hn.translate(Wt.x,Wt.y+Wt.textRise),Hn>0?hn.scale(On,-1):hn.scale(On,1);let bn;if(Wt.patternFill){hn.save();const Vn=Wt.fillColor.getPattern(hn,this,(0,xt.getCurrentTransformInverse)(hn),Et.PathType.FILL);bn=(0,xt.getCurrentTransform)(hn),hn.restore(),hn.fillStyle=Vn}let Pn=Wt.lineWidth;const Bn=Wt.textMatrixScale;if(Bn===0||Pn===0){const Vn=Wt.textRenderingMode&_t.TextRenderingMode.FILL_STROKE_MASK;(Vn===_t.TextRenderingMode.STROKE||Vn===_t.TextRenderingMode.FILL_STROKE)&&(Pn=this.getSinglePixelWidth())}else Pn/=Bn;if(cn!==1&&(hn.scale(cn,cn),Pn/=cn),hn.lineWidth=Pn,rn.isInvalidPDFjsFont){const Vn=[];let Rn=0;for(const ar of Ht)Vn.push(ar.unicode),Rn+=ar.width;hn.fillText(Vn.join(""),0,0),Wt.x+=Rn*Tn*On,hn.restore(),this.compose();return}let Kn=0,Qn;for(Qn=0;Qn<Xn;++Qn){const Vn=Ht[Qn];if(typeof Vn=="number"){Kn+=Gn*Vn*nn/1e3;continue}let Rn=!1;const ar=(Vn.isSpace?$n:0)+Cn,sr=Vn.fontChar,Mr=Vn.accent;let Lr,Qr,gr=Vn.width;if(Yn){const Wr=Vn.vmetric||Fn,ss=-(Vn.vmetric?Wr[1]:gr*.5)*Tn,Jn=Wr[2]*Tn;gr=Wr?-Wr[0]:gr,Lr=ss/cn,Qr=(Kn+Jn)/cn}else Lr=Kn/cn,Qr=0;if(rn.remeasure&&gr>0){const Wr=hn.measureText(sr).width*1e3/nn*cn;if(gr<Wr&&this.isFontSubpixelAAEnabled){const ss=gr/Wr;Rn=!0,hn.save(),hn.scale(ss,1),Lr/=ss}else gr!==Wr&&(Lr+=(gr-Wr)/2e3*nn/cn)}if(this.contentVisible&&(Vn.isInFont||rn.missingFile)){if(dn&&!Mr)hn.fillText(sr,Lr,Qr);else if(this.paintChar(sr,Lr,Qr,bn),Mr){const Wr=Lr+nn*Mr.offset.x/cn,ss=Qr-nn*Mr.offset.y/cn;this.paintChar(Mr.fontChar,Wr,ss,bn)}}const Cr=Yn?gr*Tn-ar*Hn:gr*Tn+ar*Hn;Kn+=Cr,Rn&&hn.restore()}Yn?Wt.y-=Kn:Wt.x+=Kn*On,hn.restore(),this.compose()}showType3Text(Ht){const Wt=this.ctx,rn=this.current,nn=rn.font,hn=rn.fontSize,cn=rn.fontDirection,Cn=nn.vertical?1:-1,$n=rn.charSpacing,Hn=rn.wordSpacing,On=rn.textHScale*cn,Xn=rn.fontMatrix||_t.FONT_IDENTITY_MATRIX,Yn=Ht.length,Gn=rn.textRenderingMode===_t.TextRenderingMode.INVISIBLE;let Fn,Tn,dn,bn;if(!(Gn||hn===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Wt.save(),Wt.transform(...rn.textMatrix),Wt.translate(rn.x,rn.y),Wt.scale(On,cn),Fn=0;Fn<Yn;++Fn){if(Tn=Ht[Fn],typeof Tn=="number"){bn=Cn*Tn*hn/1e3,this.ctx.translate(bn,0),rn.x+=bn*On;continue}const Pn=(Tn.isSpace?Hn:0)+$n,Bn=nn.charProcOperatorList[Tn.operatorListId];if(!Bn){(0,_t.warn)(`Type3 character "${Tn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Tn,this.save(),Wt.scale(hn,hn),Wt.transform(...Xn),this.executeOperatorList(Bn),this.restore()),dn=_t.Util.applyTransform([Tn.width,0],Xn)[0]*hn+Pn,Wt.translate(dn,0),rn.x+=dn*On}Wt.restore(),this.processingType3=null}}setCharWidth(Ht,Wt){}setCharWidthAndBounds(Ht,Wt,rn,nn,hn,cn){this.ctx.rect(rn,nn,hn-rn,cn-nn),this.ctx.clip(),this.endPath()}getColorN_Pattern(Ht){let Wt;if(Ht[0]==="TilingPattern"){const rn=Ht[1],nn=this.baseTransform||(0,xt.getCurrentTransform)(this.ctx),hn={createCanvasGraphics:cn=>new vn(cn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Wt=new Et.TilingPattern(Ht,rn,this.ctx,hn,nn)}else Wt=this._getPattern(Ht[1],Ht[2]);return Wt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Ht,Wt,rn){const nn=_t.Util.makeHexColor(Ht,Wt,rn);this.ctx.strokeStyle=nn,this.current.strokeColor=nn}setFillRGBColor(Ht,Wt,rn){const nn=_t.Util.makeHexColor(Ht,Wt,rn);this.ctx.fillStyle=nn,this.current.fillColor=nn,this.current.patternFill=!1}_getPattern(Ht,Wt=null){let rn;return this.cachedPatterns.has(Ht)?rn=this.cachedPatterns.get(Ht):(rn=(0,Et.getShadingPattern)(this.getObject(Ht)),this.cachedPatterns.set(Ht,rn)),Wt&&(rn.matrix=Wt),rn}shadingFill(Ht){if(!this.contentVisible)return;const Wt=this.ctx;this.save();const rn=this._getPattern(Ht);Wt.fillStyle=rn.getPattern(Wt,this,(0,xt.getCurrentTransformInverse)(Wt),Et.PathType.SHADING);const nn=(0,xt.getCurrentTransformInverse)(Wt);if(nn){const{width:hn,height:cn}=Wt.canvas,[Cn,$n,Hn,On]=_t.Util.getAxialAlignedBoundingBox([0,0,hn,cn],nn);this.ctx.fillRect(Cn,$n,Hn-Cn,On-$n)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_t.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_t.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Ht,Wt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Ht)&&Ht.length===6&&this.transform(...Ht),this.baseTransform=(0,xt.getCurrentTransform)(this.ctx),Wt)){const rn=Wt[2]-Wt[0],nn=Wt[3]-Wt[1];this.ctx.rect(Wt[0],Wt[1],rn,nn),this.current.updateRectMinMax((0,xt.getCurrentTransform)(this.ctx),Wt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Ht){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Wt=this.ctx;Ht.isolated||(0,_t.info)("TODO: Support non-isolated groups."),Ht.knockout&&(0,_t.warn)("Knockout groups not supported.");const rn=(0,xt.getCurrentTransform)(Wt);if(Ht.matrix&&Wt.transform(...Ht.matrix),!Ht.bbox)throw new Error("Bounding box is required.");let nn=_t.Util.getAxialAlignedBoundingBox(Ht.bbox,(0,xt.getCurrentTransform)(Wt));const hn=[0,0,Wt.canvas.width,Wt.canvas.height];nn=_t.Util.intersect(nn,hn)||[0,0,0,0];const cn=Math.floor(nn[0]),Cn=Math.floor(nn[1]);let $n=Math.max(Math.ceil(nn[2])-cn,1),Hn=Math.max(Math.ceil(nn[3])-Cn,1),On=1,Xn=1;$n>kt&&(On=$n/kt,$n=kt),Hn>kt&&(Xn=Hn/kt,Hn=kt),this.current.startNewPathAndClipBox([0,0,$n,Hn]);let Yn="groupAt"+this.groupLevel;Ht.smask&&(Yn+="_smask_"+this.smaskCounter++%2);const Gn=this.cachedCanvases.getCanvas(Yn,$n,Hn),Fn=Gn.context;Fn.scale(1/On,1/Xn),Fn.translate(-cn,-Cn),Fn.transform(...rn),Ht.smask?this.smaskStack.push({canvas:Gn.canvas,context:Fn,offsetX:cn,offsetY:Cn,scaleX:On,scaleY:Xn,subtype:Ht.smask.subtype,backdrop:Ht.smask.backdrop,transferMap:Ht.smask.transferMap||null,startTransformInverse:null}):(Wt.setTransform(1,0,0,1,0,0),Wt.translate(cn,Cn),Wt.scale(On,Xn),Wt.save()),Bt(Wt,Fn),this.ctx=Fn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Wt),this.groupLevel++}endGroup(Ht){if(!this.contentVisible)return;this.groupLevel--;const Wt=this.ctx,rn=this.groupStack.pop();if(this.ctx=rn,this.ctx.imageSmoothingEnabled=!1,Ht.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const nn=(0,xt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...nn);const hn=_t.Util.getAxialAlignedBoundingBox([0,0,Wt.canvas.width,Wt.canvas.height],nn);this.ctx.drawImage(Wt.canvas,0,0),this.ctx.restore(),this.compose(hn)}}beginAnnotation(Ht,Wt,rn,nn,hn){if(Xt(this,sn,Nx).call(this),Vt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Wt)&&Wt.length===4){const cn=Wt[2]-Wt[0],Cn=Wt[3]-Wt[1];if(hn&&this.annotationCanvasMap){rn=rn.slice(),rn[4]-=Wt[0],rn[5]-=Wt[1],Wt=Wt.slice(),Wt[0]=Wt[1]=0,Wt[2]=cn,Wt[3]=Cn;const[$n,Hn]=_t.Util.singularValueDecompose2dScale((0,xt.getCurrentTransform)(this.ctx)),{viewportScale:On}=this,Xn=Math.ceil(cn*this.outputScaleX*On),Yn=Math.ceil(Cn*this.outputScaleY*On);this.annotationCanvas=this.canvasFactory.create(Xn,Yn);const{canvas:Gn,context:Fn}=this.annotationCanvas;this.annotationCanvasMap.set(Ht,Gn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Fn,this.ctx.save(),this.ctx.setTransform($n,0,0,-Hn,0,Cn*Hn),Vt(this.ctx)}else Vt(this.ctx),this.ctx.rect(Wt[0],Wt[1],cn,Cn),this.ctx.clip(),this.endPath()}this.current=new Ot(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...rn),this.transform(...nn)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Xt(this,sn,jx).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Ht){if(!this.contentVisible)return;const Wt=Ht.count;Ht=this.getObject(Ht.data,Ht),Ht.count=Wt;const rn=this.ctx,nn=this.processingType3;if(nn&&(nn.compiled===void 0&&(nn.compiled=$t(Ht)),nn.compiled)){nn.compiled(rn);return}const hn=this._createMaskCanvas(Ht),cn=hn.canvas;rn.save(),rn.setTransform(1,0,0,1,0,0),rn.drawImage(cn,hn.offsetX,hn.offsetY),rn.restore(),this.compose()}paintImageMaskXObjectRepeat(Ht,Wt,rn=0,nn=0,hn,cn){if(!this.contentVisible)return;Ht=this.getObject(Ht.data,Ht);const Cn=this.ctx;Cn.save();const $n=(0,xt.getCurrentTransform)(Cn);Cn.transform(Wt,rn,nn,hn,0,0);const Hn=this._createMaskCanvas(Ht);Cn.setTransform(1,0,0,1,Hn.offsetX-$n[4],Hn.offsetY-$n[5]);for(let On=0,Xn=cn.length;On<Xn;On+=2){const Yn=_t.Util.transform($n,[Wt,rn,nn,hn,cn[On],cn[On+1]]),[Gn,Fn]=_t.Util.applyTransform([0,0],Yn);Cn.drawImage(Hn.canvas,Gn,Fn)}Cn.restore(),this.compose()}paintImageMaskXObjectGroup(Ht){if(!this.contentVisible)return;const Wt=this.ctx,rn=this.current.fillColor,nn=this.current.patternFill;for(const hn of Ht){const{data:cn,width:Cn,height:$n,transform:Hn}=hn,On=this.cachedCanvases.getCanvas("maskCanvas",Cn,$n),Xn=On.context;Xn.save();const Yn=this.getObject(cn,hn);Ut(Xn,Yn),Xn.globalCompositeOperation="source-in",Xn.fillStyle=nn?rn.getPattern(Xn,this,(0,xt.getCurrentTransformInverse)(Wt),Et.PathType.FILL):rn,Xn.fillRect(0,0,Cn,$n),Xn.restore(),Wt.save(),Wt.transform(...Hn),Wt.scale(1,-1),Nt(Wt,On.canvas,0,0,Cn,$n,0,-1,1,1),Wt.restore()}this.compose()}paintImageXObject(Ht){if(!this.contentVisible)return;const Wt=this.getObject(Ht);if(!Wt){(0,_t.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Wt)}paintImageXObjectRepeat(Ht,Wt,rn,nn){if(!this.contentVisible)return;const hn=this.getObject(Ht);if(!hn){(0,_t.warn)("Dependent image isn't ready yet");return}const cn=hn.width,Cn=hn.height,$n=[];for(let Hn=0,On=nn.length;Hn<On;Hn+=2)$n.push({transform:[Wt,0,0,rn,nn[Hn],nn[Hn+1]],x:0,y:0,w:cn,h:Cn});this.paintInlineImageXObjectGroup(hn,$n)}applyTransferMapsToCanvas(Ht){return this.current.transferMaps!=="none"&&(Ht.filter=this.current.transferMaps,Ht.drawImage(Ht.canvas,0,0),Ht.filter="none"),Ht.canvas}applyTransferMapsToBitmap(Ht){if(this.current.transferMaps==="none")return Ht.bitmap;const{bitmap:Wt,width:rn,height:nn}=Ht,hn=this.cachedCanvases.getCanvas("inlineImage",rn,nn),cn=hn.context;return cn.filter=this.current.transferMaps,cn.drawImage(Wt,0,0),cn.filter="none",hn.canvas}paintInlineImageXObject(Ht){if(!this.contentVisible)return;const Wt=Ht.width,rn=Ht.height,nn=this.ctx;if(this.save(),!_t.isNodeJS){const{filter:Cn}=nn;Cn!=="none"&&Cn!==""&&(nn.filter="none")}nn.scale(1/Wt,-1/rn);let hn;if(Ht.bitmap)hn=this.applyTransferMapsToBitmap(Ht);else if(typeof HTMLElement=="function"&&Ht instanceof HTMLElement||!Ht.data)hn=Ht;else{const $n=this.cachedCanvases.getCanvas("inlineImage",Wt,rn).context;jt($n,Ht),hn=this.applyTransferMapsToCanvas($n)}const cn=this._scaleImage(hn,(0,xt.getCurrentTransformInverse)(nn));nn.imageSmoothingEnabled=on((0,xt.getCurrentTransform)(nn),Ht.interpolate),Nt(nn,cn.img,0,0,cn.paintWidth,cn.paintHeight,0,-rn,Wt,rn),this.compose(),this.restore()}paintInlineImageXObjectGroup(Ht,Wt){if(!this.contentVisible)return;const rn=this.ctx;let nn;if(Ht.bitmap)nn=Ht.bitmap;else{const hn=Ht.width,cn=Ht.height,$n=this.cachedCanvases.getCanvas("inlineImage",hn,cn).context;jt($n,Ht),nn=this.applyTransferMapsToCanvas($n)}for(const hn of Wt)rn.save(),rn.transform(...hn.transform),rn.scale(1,-1),Nt(rn,nn,hn.x,hn.y,hn.w,hn.h,0,-1,1,1),rn.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Ht){}markPointProps(Ht,Wt){}beginMarkedContent(Ht){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Ht,Wt){Ht==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Wt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Ht){const Wt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Ht);const rn=this.ctx;this.pendingClip&&(Wt||(this.pendingClip===wn?rn.clip("evenodd"):rn.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),rn.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Ht=(0,xt.getCurrentTransform)(this.ctx);if(Ht[1]===0&&Ht[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Ht[0]),Math.abs(Ht[3]));else{const Wt=Math.abs(Ht[0]*Ht[3]-Ht[2]*Ht[1]),rn=Math.hypot(Ht[0],Ht[2]),nn=Math.hypot(Ht[1],Ht[3]);this._cachedGetSinglePixelWidth=Math.max(rn,nn)/Wt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Ht}=this.current,{a:Wt,b:rn,c:nn,d:hn}=this.ctx.getTransform();let cn,Cn;if(rn===0&&nn===0){const $n=Math.abs(Wt),Hn=Math.abs(hn);if($n===Hn)if(Ht===0)cn=Cn=1/$n;else{const On=$n*Ht;cn=Cn=On<1?1/On:1}else if(Ht===0)cn=1/$n,Cn=1/Hn;else{const On=$n*Ht,Xn=Hn*Ht;cn=On<1?1/On:1,Cn=Xn<1?1/Xn:1}}else{const $n=Math.abs(Wt*hn-rn*nn),Hn=Math.hypot(Wt,rn),On=Math.hypot(nn,hn);if(Ht===0)cn=On/$n,Cn=Hn/$n;else{const Xn=Ht*$n;cn=On>Xn?On/Xn:1,Cn=Hn>Xn?Hn/Xn:1}}this._cachedScaleForStroking[0]=cn,this._cachedScaleForStroking[1]=Cn}return this._cachedScaleForStroking}rescaleAndStroke(Ht){const{ctx:Wt}=this,{lineWidth:rn}=this.current,[nn,hn]=this.getScaleForStroking();if(Wt.lineWidth=rn||1,nn===1&&hn===1){Wt.stroke();return}const cn=Wt.getLineDash();if(Ht&&Wt.save(),Wt.scale(nn,hn),cn.length>0){const Cn=Math.max(nn,hn);Wt.setLineDash(cn.map($n=>$n/Cn)),Wt.lineDashOffset/=Cn}Wt.stroke(),Ht&&Wt.restore()}isContentVisible(){for(let Ht=this.markedContentStack.length-1;Ht>=0;Ht--)if(!this.markedContentStack[Ht].visible)return!1;return!0}};sn=new WeakSet,Nx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},jx=function(){if(this.pageColors){const Ht=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Ht!=="none"){const Wt=this.ctx.filter;this.ctx.filter=Ht,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Wt}}};let pn=vn;ht.CanvasGraphics=pn;for(const tn in _t.OPS)pn.prototype[tn]!==void 0&&(pn.prototype[_t.OPS[tn]]=pn.prototype[tn])},(vt,ht,bt)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.TilingPattern=ht.PathType=void 0,ht.getShadingPattern=Ft;var _t=bt(1),xt=bt(6);const Et={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};ht.PathType=Et;function wt($t,Ot){if(!Ot)return;const jt=Ot[2]-Ot[0],Ut=Ot[3]-Ot[1],Bt=new Path2D;Bt.rect(Ot[0],Ot[1],jt,Ut),$t.clip(Bt)}class At{constructor(){this.constructor===At&&(0,_t.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_t.unreachable)("Abstract method `getPattern` called.")}}class St extends At{constructor(Ot){super(),this._type=Ot[1],this._bbox=Ot[2],this._colorStops=Ot[3],this._p0=Ot[4],this._p1=Ot[5],this._r0=Ot[6],this._r1=Ot[7],this.matrix=null}_createGradient(Ot){let jt;this._type==="axial"?jt=Ot.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(jt=Ot.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Ut of this._colorStops)jt.addColorStop(Ut[0],Ut[1]);return jt}getPattern(Ot,jt,Ut,Bt){let Vt;if(Bt===Et.STROKE||Bt===Et.FILL){const zt=jt.current.getClippedPathBoundingBox(Bt,(0,xt.getCurrentTransform)(Ot))||[0,0,0,0],Gt=Math.ceil(zt[2]-zt[0])||1,en=Math.ceil(zt[3]-zt[1])||1,ln=jt.cachedCanvases.getCanvas("pattern",Gt,en,!0),Kt=ln.context;Kt.clearRect(0,0,Kt.canvas.width,Kt.canvas.height),Kt.beginPath(),Kt.rect(0,0,Kt.canvas.width,Kt.canvas.height),Kt.translate(-zt[0],-zt[1]),Ut=_t.Util.transform(Ut,[1,0,0,1,zt[0],zt[1]]),Kt.transform(...jt.baseTransform),this.matrix&&Kt.transform(...this.matrix),wt(Kt,this._bbox),Kt.fillStyle=this._createGradient(Kt),Kt.fill(),Vt=Ot.createPattern(ln.canvas,"no-repeat");const on=new DOMMatrix(Ut);Vt.setTransform(on)}else wt(Ot,this._bbox),Vt=this._createGradient(Ot);return Vt}}function kt($t,Ot,jt,Ut,Bt,Vt,zt,Gt){const en=Ot.coords,ln=Ot.colors,Kt=$t.data,on=$t.width*4;let fn;en[jt+1]>en[Ut+1]&&(fn=jt,jt=Ut,Ut=fn,fn=Vt,Vt=zt,zt=fn),en[Ut+1]>en[Bt+1]&&(fn=Ut,Ut=Bt,Bt=fn,fn=zt,zt=Gt,Gt=fn),en[jt+1]>en[Ut+1]&&(fn=jt,jt=Ut,Ut=fn,fn=Vt,Vt=zt,zt=fn);const En=(en[jt]+Ot.offsetX)*Ot.scaleX,gn=(en[jt+1]+Ot.offsetY)*Ot.scaleY,wn=(en[Ut]+Ot.offsetX)*Ot.scaleX,pn=(en[Ut+1]+Ot.offsetY)*Ot.scaleY,sn=(en[Bt]+Ot.offsetX)*Ot.scaleX,Jt=(en[Bt+1]+Ot.offsetY)*Ot.scaleY;if(gn>=Jt)return;const an=ln[Vt],vn=ln[Vt+1],tn=ln[Vt+2],Ht=ln[zt],Wt=ln[zt+1],rn=ln[zt+2],nn=ln[Gt],hn=ln[Gt+1],cn=ln[Gt+2],Cn=Math.round(gn),$n=Math.round(Jt);let Hn,On,Xn,Yn,Gn,Fn,Tn,dn;for(let bn=Cn;bn<=$n;bn++){if(bn<pn){const Vn=bn<gn?0:(gn-bn)/(gn-pn);Hn=En-(En-wn)*Vn,On=an-(an-Ht)*Vn,Xn=vn-(vn-Wt)*Vn,Yn=tn-(tn-rn)*Vn}else{let Vn;bn>Jt?Vn=1:pn===Jt?Vn=0:Vn=(pn-bn)/(pn-Jt),Hn=wn-(wn-sn)*Vn,On=Ht-(Ht-nn)*Vn,Xn=Wt-(Wt-hn)*Vn,Yn=rn-(rn-cn)*Vn}let Pn;bn<gn?Pn=0:bn>Jt?Pn=1:Pn=(gn-bn)/(gn-Jt),Gn=En-(En-sn)*Pn,Fn=an-(an-nn)*Pn,Tn=vn-(vn-hn)*Pn,dn=tn-(tn-cn)*Pn;const Bn=Math.round(Math.min(Hn,Gn)),Kn=Math.round(Math.max(Hn,Gn));let Qn=on*bn+Bn*4;for(let Vn=Bn;Vn<=Kn;Vn++)Pn=(Hn-Vn)/(Hn-Gn),Pn<0?Pn=0:Pn>1&&(Pn=1),Kt[Qn++]=On-(On-Fn)*Pn|0,Kt[Qn++]=Xn-(Xn-Tn)*Pn|0,Kt[Qn++]=Yn-(Yn-dn)*Pn|0,Kt[Qn++]=255}}function Rt($t,Ot,jt){const Ut=Ot.coords,Bt=Ot.colors;let Vt,zt;switch(Ot.type){case"lattice":const Gt=Ot.verticesPerRow,en=Math.floor(Ut.length/Gt)-1,ln=Gt-1;for(Vt=0;Vt<en;Vt++){let Kt=Vt*Gt;for(let on=0;on<ln;on++,Kt++)kt($t,jt,Ut[Kt],Ut[Kt+1],Ut[Kt+Gt],Bt[Kt],Bt[Kt+1],Bt[Kt+Gt]),kt($t,jt,Ut[Kt+Gt+1],Ut[Kt+1],Ut[Kt+Gt],Bt[Kt+Gt+1],Bt[Kt+1],Bt[Kt+Gt])}break;case"triangles":for(Vt=0,zt=Ut.length;Vt<zt;Vt+=3)kt($t,jt,Ut[Vt],Ut[Vt+1],Ut[Vt+2],Bt[Vt],Bt[Vt+1],Bt[Vt+2]);break;default:throw new Error("illegal figure")}}class Pt extends At{constructor(Ot){super(),this._coords=Ot[2],this._colors=Ot[3],this._figures=Ot[4],this._bounds=Ot[5],this._bbox=Ot[7],this._background=Ot[8],this.matrix=null}_createMeshCanvas(Ot,jt,Ut){const Gt=Math.floor(this._bounds[0]),en=Math.floor(this._bounds[1]),ln=Math.ceil(this._bounds[2])-Gt,Kt=Math.ceil(this._bounds[3])-en,on=Math.min(Math.ceil(Math.abs(ln*Ot[0]*1.1)),3e3),fn=Math.min(Math.ceil(Math.abs(Kt*Ot[1]*1.1)),3e3),En=ln/on,gn=Kt/fn,wn={coords:this._coords,colors:this._colors,offsetX:-Gt,offsetY:-en,scaleX:1/En,scaleY:1/gn},pn=on+2*2,sn=fn+2*2,Jt=Ut.getCanvas("mesh",pn,sn,!1),an=Jt.context,vn=an.createImageData(on,fn);if(jt){const Ht=vn.data;for(let Wt=0,rn=Ht.length;Wt<rn;Wt+=4)Ht[Wt]=jt[0],Ht[Wt+1]=jt[1],Ht[Wt+2]=jt[2],Ht[Wt+3]=255}for(const Ht of this._figures)Rt(vn,Ht,wn);return an.putImageData(vn,2,2),{canvas:Jt.canvas,offsetX:Gt-2*En,offsetY:en-2*gn,scaleX:En,scaleY:gn}}getPattern(Ot,jt,Ut,Bt){wt(Ot,this._bbox);let Vt;if(Bt===Et.SHADING)Vt=_t.Util.singularValueDecompose2dScale((0,xt.getCurrentTransform)(Ot));else if(Vt=_t.Util.singularValueDecompose2dScale(jt.baseTransform),this.matrix){const Gt=_t.Util.singularValueDecompose2dScale(this.matrix);Vt=[Vt[0]*Gt[0],Vt[1]*Gt[1]]}const zt=this._createMeshCanvas(Vt,Bt===Et.SHADING?null:this._background,jt.cachedCanvases);return Bt!==Et.SHADING&&(Ot.setTransform(...jt.baseTransform),this.matrix&&Ot.transform(...this.matrix)),Ot.translate(zt.offsetX,zt.offsetY),Ot.scale(zt.scaleX,zt.scaleY),Ot.createPattern(zt.canvas,"no-repeat")}}class Mt extends At{getPattern(){return"hotpink"}}function Ft($t){switch($t[0]){case"RadialAxial":return new St($t);case"Mesh":return new Pt($t);case"Dummy":return new Mt}throw new Error(`Unknown IR type: ${$t[0]}`)}const Lt={COLORED:1,UNCOLORED:2},Nt=class Nt{constructor(Ot,jt,Ut,Bt,Vt){this.operatorList=Ot[2],this.matrix=Ot[3]||[1,0,0,1,0,0],this.bbox=Ot[4],this.xstep=Ot[5],this.ystep=Ot[6],this.paintType=Ot[7],this.tilingType=Ot[8],this.color=jt,this.ctx=Ut,this.canvasGraphicsFactory=Bt,this.baseTransform=Vt}createPatternCanvas(Ot){const jt=this.operatorList,Ut=this.bbox,Bt=this.xstep,Vt=this.ystep,zt=this.paintType,Gt=this.tilingType,en=this.color,ln=this.canvasGraphicsFactory;(0,_t.info)("TilingType: "+Gt);const Kt=Ut[0],on=Ut[1],fn=Ut[2],En=Ut[3],gn=_t.Util.singularValueDecompose2dScale(this.matrix),wn=_t.Util.singularValueDecompose2dScale(this.baseTransform),pn=[gn[0]*wn[0],gn[1]*wn[1]],sn=this.getSizeAndScale(Bt,this.ctx.canvas.width,pn[0]),Jt=this.getSizeAndScale(Vt,this.ctx.canvas.height,pn[1]),an=Ot.cachedCanvases.getCanvas("pattern",sn.size,Jt.size,!0),vn=an.context,tn=ln.createCanvasGraphics(vn);tn.groupLevel=Ot.groupLevel,this.setFillAndStrokeStyleToContext(tn,zt,en);let Ht=Kt,Wt=on,rn=fn,nn=En;return Kt<0&&(Ht=0,rn+=Math.abs(Kt)),on<0&&(Wt=0,nn+=Math.abs(on)),vn.translate(-(sn.scale*Ht),-(Jt.scale*Wt)),tn.transform(sn.scale,0,0,Jt.scale,0,0),vn.save(),this.clipBbox(tn,Ht,Wt,rn,nn),tn.baseTransform=(0,xt.getCurrentTransform)(tn.ctx),tn.executeOperatorList(jt),tn.endDrawing(),{canvas:an.canvas,scaleX:sn.scale,scaleY:Jt.scale,offsetX:Ht,offsetY:Wt}}getSizeAndScale(Ot,jt,Ut){Ot=Math.abs(Ot);const Bt=Math.max(Nt.MAX_PATTERN_SIZE,jt);let Vt=Math.ceil(Ot*Ut);return Vt>=Bt?Vt=Bt:Ut=Vt/Ot,{scale:Ut,size:Vt}}clipBbox(Ot,jt,Ut,Bt,Vt){const zt=Bt-jt,Gt=Vt-Ut;Ot.ctx.rect(jt,Ut,zt,Gt),Ot.current.updateRectMinMax((0,xt.getCurrentTransform)(Ot.ctx),[jt,Ut,Bt,Vt]),Ot.clip(),Ot.endPath()}setFillAndStrokeStyleToContext(Ot,jt,Ut){const Bt=Ot.ctx,Vt=Ot.current;switch(jt){case Lt.COLORED:const zt=this.ctx;Bt.fillStyle=zt.fillStyle,Bt.strokeStyle=zt.strokeStyle,Vt.fillColor=zt.fillStyle,Vt.strokeColor=zt.strokeStyle;break;case Lt.UNCOLORED:const Gt=_t.Util.makeHexColor(Ut[0],Ut[1],Ut[2]);Bt.fillStyle=Gt,Bt.strokeStyle=Gt,Vt.fillColor=Gt,Vt.strokeColor=Gt;break;default:throw new _t.FormatError(`Unsupported paint type: ${jt}`)}}getPattern(Ot,jt,Ut,Bt){let Vt=Ut;Bt!==Et.SHADING&&(Vt=_t.Util.transform(Vt,jt.baseTransform),this.matrix&&(Vt=_t.Util.transform(Vt,this.matrix)));const zt=this.createPatternCanvas(jt);let Gt=new DOMMatrix(Vt);Gt=Gt.translate(zt.offsetX,zt.offsetY),Gt=Gt.scale(1/zt.scaleX,1/zt.scaleY);const en=Ot.createPattern(zt.canvas,"repeat");return en.setTransform(Gt),en}};Tr(Nt,"MAX_PATTERN_SIZE",3e3);let Dt=Nt;ht.TilingPattern=Dt},(vt,ht,bt)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.convertBlackAndWhiteToRGBA=Et,ht.convertToRGBA=xt,ht.grayToRGBA=At;var _t=bt(1);function xt(St){switch(St.kind){case _t.ImageKind.GRAYSCALE_1BPP:return Et(St);case _t.ImageKind.RGB_24BPP:return wt(St)}return null}function Et({src:St,srcPos:kt=0,dest:Rt,width:Pt,height:Mt,nonBlackColor:Ft=4294967295,inverseDecode:Lt=!1}){const Dt=_t.FeatureTest.isLittleEndian?4278190080:255,[Nt,$t]=Lt?[Ft,Dt]:[Dt,Ft],Ot=Pt>>3,jt=Pt&7,Ut=St.length;Rt=new Uint32Array(Rt.buffer);let Bt=0;for(let Vt=0;Vt<Mt;Vt++){for(const Gt=kt+Ot;kt<Gt;kt++){const en=kt<Ut?St[kt]:255;Rt[Bt++]=en&128?$t:Nt,Rt[Bt++]=en&64?$t:Nt,Rt[Bt++]=en&32?$t:Nt,Rt[Bt++]=en&16?$t:Nt,Rt[Bt++]=en&8?$t:Nt,Rt[Bt++]=en&4?$t:Nt,Rt[Bt++]=en&2?$t:Nt,Rt[Bt++]=en&1?$t:Nt}if(jt===0)continue;const zt=kt<Ut?St[kt++]:255;for(let Gt=0;Gt<jt;Gt++)Rt[Bt++]=zt&1<<7-Gt?$t:Nt}return{srcPos:kt,destPos:Bt}}function wt({src:St,srcPos:kt=0,dest:Rt,destPos:Pt=0,width:Mt,height:Ft}){let Lt=0;const Dt=St.length>>2,Nt=new Uint32Array(St.buffer,kt,Dt);if(_t.FeatureTest.isLittleEndian){for(;Lt<Dt-2;Lt+=3,Pt+=4){const $t=Nt[Lt],Ot=Nt[Lt+1],jt=Nt[Lt+2];Rt[Pt]=$t|4278190080,Rt[Pt+1]=$t>>>24|Ot<<8|4278190080,Rt[Pt+2]=Ot>>>16|jt<<16|4278190080,Rt[Pt+3]=jt>>>8|4278190080}for(let $t=Lt*4,Ot=St.length;$t<Ot;$t+=3)Rt[Pt++]=St[$t]|St[$t+1]<<8|St[$t+2]<<16|4278190080}else{for(;Lt<Dt-2;Lt+=3,Pt+=4){const $t=Nt[Lt],Ot=Nt[Lt+1],jt=Nt[Lt+2];Rt[Pt]=$t|255,Rt[Pt+1]=$t<<24|Ot>>>8|255,Rt[Pt+2]=Ot<<16|jt>>>16|255,Rt[Pt+3]=jt<<8|255}for(let $t=Lt*4,Ot=St.length;$t<Ot;$t+=3)Rt[Pt++]=St[$t]<<24|St[$t+1]<<16|St[$t+2]<<8|255}return{srcPos:kt,destPos:Pt}}function At(St,kt){if(_t.FeatureTest.isLittleEndian)for(let Rt=0,Pt=St.length;Rt<Pt;Rt++)kt[Rt]=St[Rt]*65793|4278190080;else for(let Rt=0,Pt=St.length;Rt<Pt;Rt++)kt[Rt]=St[Rt]*16843008|255}},(vt,ht)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.GlobalWorkerOptions=void 0;const bt=Object.create(null);ht.GlobalWorkerOptions=bt,bt.workerPort=null,bt.workerSrc=""},(vt,ht,bt)=>{var St,tw,nw,Uy;Object.defineProperty(ht,"__esModule",{value:!0}),ht.MessageHandler=void 0;var _t=bt(1);const xt={UNKNOWN:0,DATA:1,ERROR:2},Et={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wt(Mt){switch(Mt instanceof Error||typeof Mt=="object"&&Mt!==null||(0,_t.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Mt.name){case"AbortException":return new _t.AbortException(Mt.message);case"MissingPDFException":return new _t.MissingPDFException(Mt.message);case"PasswordException":return new _t.PasswordException(Mt.message,Mt.code);case"UnexpectedResponseException":return new _t.UnexpectedResponseException(Mt.message,Mt.status);case"UnknownErrorException":return new _t.UnknownErrorException(Mt.message,Mt.details);default:return new _t.UnknownErrorException(Mt.message,Mt.toString())}}class At{constructor(Ft,Lt,Dt){Qt(this,St);this.sourceName=Ft,this.targetName=Lt,this.comObj=Dt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Nt=>{const $t=Nt.data;if($t.targetName!==this.sourceName)return;if($t.stream){Xt(this,St,nw).call(this,$t);return}if($t.callback){const jt=$t.callbackId,Ut=this.callbackCapabilities[jt];if(!Ut)throw new Error(`Cannot resolve callback ${jt}`);if(delete this.callbackCapabilities[jt],$t.callback===xt.DATA)Ut.resolve($t.data);else if($t.callback===xt.ERROR)Ut.reject(wt($t.reason));else throw new Error("Unexpected callback case");return}const Ot=this.actionHandler[$t.action];if(!Ot)throw new Error(`Unknown action from worker: ${$t.action}`);if($t.callbackId){const jt=this.sourceName,Ut=$t.sourceName;new Promise(function(Bt){Bt(Ot($t.data))}).then(function(Bt){Dt.postMessage({sourceName:jt,targetName:Ut,callback:xt.DATA,callbackId:$t.callbackId,data:Bt})},function(Bt){Dt.postMessage({sourceName:jt,targetName:Ut,callback:xt.ERROR,callbackId:$t.callbackId,reason:wt(Bt)})});return}if($t.streamId){Xt(this,St,tw).call(this,$t);return}Ot($t.data)},Dt.addEventListener("message",this._onComObjOnMessage)}on(Ft,Lt){const Dt=this.actionHandler;if(Dt[Ft])throw new Error(`There is already an actionName called "${Ft}"`);Dt[Ft]=Lt}send(Ft,Lt,Dt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Ft,data:Lt},Dt)}sendWithPromise(Ft,Lt,Dt){const Nt=this.callbackId++,$t=new _t.PromiseCapability;this.callbackCapabilities[Nt]=$t;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Ft,callbackId:Nt,data:Lt},Dt)}catch(Ot){$t.reject(Ot)}return $t.promise}sendWithStream(Ft,Lt,Dt,Nt){const $t=this.streamId++,Ot=this.sourceName,jt=this.targetName,Ut=this.comObj;return new ReadableStream({start:Bt=>{const Vt=new _t.PromiseCapability;return this.streamControllers[$t]={controller:Bt,startCall:Vt,pullCall:null,cancelCall:null,isClosed:!1},Ut.postMessage({sourceName:Ot,targetName:jt,action:Ft,streamId:$t,data:Lt,desiredSize:Bt.desiredSize},Nt),Vt.promise},pull:Bt=>{const Vt=new _t.PromiseCapability;return this.streamControllers[$t].pullCall=Vt,Ut.postMessage({sourceName:Ot,targetName:jt,stream:Et.PULL,streamId:$t,desiredSize:Bt.desiredSize}),Vt.promise},cancel:Bt=>{(0,_t.assert)(Bt instanceof Error,"cancel must have a valid reason");const Vt=new _t.PromiseCapability;return this.streamControllers[$t].cancelCall=Vt,this.streamControllers[$t].isClosed=!0,Ut.postMessage({sourceName:Ot,targetName:jt,stream:Et.CANCEL,streamId:$t,reason:wt(Bt)}),Vt.promise}},Dt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}St=new WeakSet,tw=function(Ft){const Lt=Ft.streamId,Dt=this.sourceName,Nt=Ft.sourceName,$t=this.comObj,Ot=this,jt=this.actionHandler[Ft.action],Ut={enqueue(Bt,Vt=1,zt){if(this.isCancelled)return;const Gt=this.desiredSize;this.desiredSize-=Vt,Gt>0&&this.desiredSize<=0&&(this.sinkCapability=new _t.PromiseCapability,this.ready=this.sinkCapability.promise),$t.postMessage({sourceName:Dt,targetName:Nt,stream:Et.ENQUEUE,streamId:Lt,chunk:Bt},zt)},close(){this.isCancelled||(this.isCancelled=!0,$t.postMessage({sourceName:Dt,targetName:Nt,stream:Et.CLOSE,streamId:Lt}),delete Ot.streamSinks[Lt])},error(Bt){(0,_t.assert)(Bt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,$t.postMessage({sourceName:Dt,targetName:Nt,stream:Et.ERROR,streamId:Lt,reason:wt(Bt)}))},sinkCapability:new _t.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:Ft.desiredSize,ready:null};Ut.sinkCapability.resolve(),Ut.ready=Ut.sinkCapability.promise,this.streamSinks[Lt]=Ut,new Promise(function(Bt){Bt(jt(Ft.data,Ut))}).then(function(){$t.postMessage({sourceName:Dt,targetName:Nt,stream:Et.START_COMPLETE,streamId:Lt,success:!0})},function(Bt){$t.postMessage({sourceName:Dt,targetName:Nt,stream:Et.START_COMPLETE,streamId:Lt,reason:wt(Bt)})})},nw=function(Ft){const Lt=Ft.streamId,Dt=this.sourceName,Nt=Ft.sourceName,$t=this.comObj,Ot=this.streamControllers[Lt],jt=this.streamSinks[Lt];switch(Ft.stream){case Et.START_COMPLETE:Ft.success?Ot.startCall.resolve():Ot.startCall.reject(wt(Ft.reason));break;case Et.PULL_COMPLETE:Ft.success?Ot.pullCall.resolve():Ot.pullCall.reject(wt(Ft.reason));break;case Et.PULL:if(!jt){$t.postMessage({sourceName:Dt,targetName:Nt,stream:Et.PULL_COMPLETE,streamId:Lt,success:!0});break}jt.desiredSize<=0&&Ft.desiredSize>0&&jt.sinkCapability.resolve(),jt.desiredSize=Ft.desiredSize,new Promise(function(Ut){var Bt;Ut((Bt=jt.onPull)==null?void 0:Bt.call(jt))}).then(function(){$t.postMessage({sourceName:Dt,targetName:Nt,stream:Et.PULL_COMPLETE,streamId:Lt,success:!0})},function(Ut){$t.postMessage({sourceName:Dt,targetName:Nt,stream:Et.PULL_COMPLETE,streamId:Lt,reason:wt(Ut)})});break;case Et.ENQUEUE:if((0,_t.assert)(Ot,"enqueue should have stream controller"),Ot.isClosed)break;Ot.controller.enqueue(Ft.chunk);break;case Et.CLOSE:if((0,_t.assert)(Ot,"close should have stream controller"),Ot.isClosed)break;Ot.isClosed=!0,Ot.controller.close(),Xt(this,St,Uy).call(this,Ot,Lt);break;case Et.ERROR:(0,_t.assert)(Ot,"error should have stream controller"),Ot.controller.error(wt(Ft.reason)),Xt(this,St,Uy).call(this,Ot,Lt);break;case Et.CANCEL_COMPLETE:Ft.success?Ot.cancelCall.resolve():Ot.cancelCall.reject(wt(Ft.reason)),Xt(this,St,Uy).call(this,Ot,Lt);break;case Et.CANCEL:if(!jt)break;new Promise(function(Ut){var Bt;Ut((Bt=jt.onCancel)==null?void 0:Bt.call(jt,wt(Ft.reason)))}).then(function(){$t.postMessage({sourceName:Dt,targetName:Nt,stream:Et.CANCEL_COMPLETE,streamId:Lt,success:!0})},function(Ut){$t.postMessage({sourceName:Dt,targetName:Nt,stream:Et.CANCEL_COMPLETE,streamId:Lt,reason:wt(Ut)})}),jt.sinkCapability.reject(wt(Ft.reason)),jt.isCancelled=!0,delete this.streamSinks[Lt];break;default:throw new Error("Unexpected stream case")}},Uy=async function(Ft,Lt){var Dt,Nt,$t;await Promise.allSettled([(Dt=Ft.startCall)==null?void 0:Dt.promise,(Nt=Ft.pullCall)==null?void 0:Nt.promise,($t=Ft.cancelCall)==null?void 0:$t.promise]),delete this.streamControllers[Lt]},ht.MessageHandler=At},(vt,ht,bt)=>{var Et,wt;Object.defineProperty(ht,"__esModule",{value:!0}),ht.Metadata=void 0;var _t=bt(1);class xt{constructor({parsedData:St,rawData:kt}){Qt(this,Et);Qt(this,wt);qt(this,Et,St),qt(this,wt,kt)}getRaw(){return Ct(this,wt)}get(St){return Ct(this,Et).get(St)??null}getAll(){return(0,_t.objectFromMap)(Ct(this,Et))}has(St){return Ct(this,Et).has(St)}}Et=new WeakMap,wt=new WeakMap,ht.Metadata=xt},(vt,ht,bt)=>{var St,kt,Rt,Pt,Mt,Ft,Bx;Object.defineProperty(ht,"__esModule",{value:!0}),ht.OptionalContentConfig=void 0;var _t=bt(1),xt=bt(8);const Et=Symbol("INTERNAL");class wt{constructor(Nt,$t){Qt(this,St,!0);this.name=Nt,this.intent=$t}get visible(){return Ct(this,St)}_setVisible(Nt,$t){Nt!==Et&&(0,_t.unreachable)("Internal method `_setVisible` called."),qt(this,St,$t)}}St=new WeakMap;class At{constructor(Nt){Qt(this,Ft);Qt(this,kt,null);Qt(this,Rt,new Map);Qt(this,Pt,null);Qt(this,Mt,null);if(this.name=null,this.creator=null,Nt!==null){this.name=Nt.name,this.creator=Nt.creator,qt(this,Mt,Nt.order);for(const $t of Nt.groups)Ct(this,Rt).set($t.id,new wt($t.name,$t.intent));if(Nt.baseState==="OFF")for(const $t of Ct(this,Rt).values())$t._setVisible(Et,!1);for(const $t of Nt.on)Ct(this,Rt).get($t)._setVisible(Et,!0);for(const $t of Nt.off)Ct(this,Rt).get($t)._setVisible(Et,!1);qt(this,Pt,this.getHash())}}isVisible(Nt){if(Ct(this,Rt).size===0)return!0;if(!Nt)return(0,_t.warn)("Optional content group not defined."),!0;if(Nt.type==="OCG")return Ct(this,Rt).has(Nt.id)?Ct(this,Rt).get(Nt.id).visible:((0,_t.warn)(`Optional content group not found: ${Nt.id}`),!0);if(Nt.type==="OCMD"){if(Nt.expression)return Xt(this,Ft,Bx).call(this,Nt.expression);if(!Nt.policy||Nt.policy==="AnyOn"){for(const $t of Nt.ids){if(!Ct(this,Rt).has($t))return(0,_t.warn)(`Optional content group not found: ${$t}`),!0;if(Ct(this,Rt).get($t).visible)return!0}return!1}else if(Nt.policy==="AllOn"){for(const $t of Nt.ids){if(!Ct(this,Rt).has($t))return(0,_t.warn)(`Optional content group not found: ${$t}`),!0;if(!Ct(this,Rt).get($t).visible)return!1}return!0}else if(Nt.policy==="AnyOff"){for(const $t of Nt.ids){if(!Ct(this,Rt).has($t))return(0,_t.warn)(`Optional content group not found: ${$t}`),!0;if(!Ct(this,Rt).get($t).visible)return!0}return!1}else if(Nt.policy==="AllOff"){for(const $t of Nt.ids){if(!Ct(this,Rt).has($t))return(0,_t.warn)(`Optional content group not found: ${$t}`),!0;if(Ct(this,Rt).get($t).visible)return!1}return!0}return(0,_t.warn)(`Unknown optional content policy ${Nt.policy}.`),!0}return(0,_t.warn)(`Unknown group type ${Nt.type}.`),!0}setVisibility(Nt,$t=!0){if(!Ct(this,Rt).has(Nt)){(0,_t.warn)(`Optional content group not found: ${Nt}`);return}Ct(this,Rt).get(Nt)._setVisible(Et,!!$t),qt(this,kt,null)}get hasInitialVisibility(){return Ct(this,Pt)===null||this.getHash()===Ct(this,Pt)}getOrder(){return Ct(this,Rt).size?Ct(this,Mt)?Ct(this,Mt).slice():[...Ct(this,Rt).keys()]:null}getGroups(){return Ct(this,Rt).size>0?(0,_t.objectFromMap)(Ct(this,Rt)):null}getGroup(Nt){return Ct(this,Rt).get(Nt)||null}getHash(){if(Ct(this,kt)!==null)return Ct(this,kt);const Nt=new xt.MurmurHash3_64;for(const[$t,Ot]of Ct(this,Rt))Nt.update(`${$t}:${Ot.visible}`);return qt(this,kt,Nt.hexdigest())}}kt=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,Mt=new WeakMap,Ft=new WeakSet,Bx=function(Nt){const $t=Nt.length;if($t<2)return!0;const Ot=Nt[0];for(let jt=1;jt<$t;jt++){const Ut=Nt[jt];let Bt;if(Array.isArray(Ut))Bt=Xt(this,Ft,Bx).call(this,Ut);else if(Ct(this,Rt).has(Ut))Bt=Ct(this,Rt).get(Ut).visible;else return(0,_t.warn)(`Optional content group not found: ${Ut}`),!0;switch(Ot){case"And":if(!Bt)return!1;break;case"Or":if(Bt)return!0;break;case"Not":return!Bt;default:return!0}}return Ot==="And"},ht.OptionalContentConfig=At},(vt,ht,bt)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.PDFDataTransportStream=void 0;var _t=bt(1),xt=bt(6);class Et{constructor({length:kt,initialData:Rt,progressiveDone:Pt=!1,contentDispositionFilename:Mt=null,disableRange:Ft=!1,disableStream:Lt=!1},Dt){if((0,_t.assert)(Dt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Pt,this._contentDispositionFilename=Mt,(Rt==null?void 0:Rt.length)>0){const Nt=Rt instanceof Uint8Array&&Rt.byteLength===Rt.buffer.byteLength?Rt.buffer:new Uint8Array(Rt).buffer;this._queuedChunks.push(Nt)}this._pdfDataRangeTransport=Dt,this._isStreamingSupported=!Lt,this._isRangeSupported=!Ft,this._contentLength=kt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Nt,$t)=>{this._onReceiveData({begin:Nt,chunk:$t})}),this._pdfDataRangeTransport.addProgressListener((Nt,$t)=>{this._onProgress({loaded:Nt,total:$t})}),this._pdfDataRangeTransport.addProgressiveReadListener(Nt=>{this._onReceiveData({chunk:Nt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:kt,chunk:Rt}){const Pt=Rt instanceof Uint8Array&&Rt.byteLength===Rt.buffer.byteLength?Rt.buffer:new Uint8Array(Rt).buffer;if(kt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Pt):this._queuedChunks.push(Pt);else{const Mt=this._rangeReaders.some(function(Ft){return Ft._begin!==kt?!1:(Ft._enqueue(Pt),!0)});(0,_t.assert)(Mt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var kt;return((kt=this._fullRequestReader)==null?void 0:kt._loaded)??0}_onProgress(kt){var Rt,Pt,Mt,Ft;kt.total===void 0?(Pt=(Rt=this._rangeReaders[0])==null?void 0:Rt.onProgress)==null||Pt.call(Rt,{loaded:kt.loaded}):(Ft=(Mt=this._fullRequestReader)==null?void 0:Mt.onProgress)==null||Ft.call(Mt,{loaded:kt.loaded,total:kt.total})}_onProgressiveDone(){var kt;(kt=this._fullRequestReader)==null||kt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(kt){const Rt=this._rangeReaders.indexOf(kt);Rt>=0&&this._rangeReaders.splice(Rt,1)}getFullReader(){(0,_t.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const kt=this._queuedChunks;return this._queuedChunks=null,new wt(this,kt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(kt,Rt){if(Rt<=this._progressiveDataLength)return null;const Pt=new At(this,kt,Rt);return this._pdfDataRangeTransport.requestDataRange(kt,Rt),this._rangeReaders.push(Pt),Pt}cancelAllRequests(kt){var Rt;(Rt=this._fullRequestReader)==null||Rt.cancel(kt);for(const Pt of this._rangeReaders.slice(0))Pt.cancel(kt);this._pdfDataRangeTransport.abort()}}ht.PDFDataTransportStream=Et;class wt{constructor(kt,Rt,Pt=!1,Mt=null){this._stream=kt,this._done=Pt||!1,this._filename=(0,xt.isPdfFile)(Mt)?Mt:null,this._queuedChunks=Rt||[],this._loaded=0;for(const Ft of this._queuedChunks)this._loaded+=Ft.byteLength;this._requests=[],this._headersReady=Promise.resolve(),kt._fullRequestReader=this,this.onProgress=null}_enqueue(kt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:kt,done:!1}):this._queuedChunks.push(kt),this._loaded+=kt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const kt=new _t.PromiseCapability;return this._requests.push(kt),kt.promise}cancel(kt){this._done=!0;for(const Rt of this._requests)Rt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class At{constructor(kt,Rt,Pt){this._stream=kt,this._begin=Rt,this._end=Pt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(kt){if(!this._done){if(this._requests.length===0)this._queuedChunk=kt;else{this._requests.shift().resolve({value:kt,done:!1});for(const Pt of this._requests)Pt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const Rt=this._queuedChunk;return this._queuedChunk=null,{value:Rt,done:!1}}if(this._done)return{value:void 0,done:!0};const kt=new _t.PromiseCapability;return this._requests.push(kt),kt.promise}cancel(kt){this._done=!0;for(const Rt of this._requests)Rt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(vt,ht,bt)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.PDFFetchStream=void 0;var _t=bt(1),xt=bt(20);function Et(Pt,Mt,Ft){return{method:"GET",headers:Pt,signal:Ft.signal,mode:"cors",credentials:Mt?"include":"same-origin",redirect:"follow"}}function wt(Pt){const Mt=new Headers;for(const Ft in Pt){const Lt=Pt[Ft];Lt!==void 0&&Mt.append(Ft,Lt)}return Mt}function At(Pt){return Pt instanceof Uint8Array?Pt.buffer:Pt instanceof ArrayBuffer?Pt:((0,_t.warn)(`getArrayBuffer - unexpected data format: ${Pt}`),new Uint8Array(Pt).buffer)}class St{constructor(Mt){this.source=Mt,this.isHttp=/^https?:/i.test(Mt.url),this.httpHeaders=this.isHttp&&Mt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Mt;return((Mt=this._fullRequestReader)==null?void 0:Mt._loaded)??0}getFullReader(){return(0,_t.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new kt(this),this._fullRequestReader}getRangeReader(Mt,Ft){if(Ft<=this._progressiveDataLength)return null;const Lt=new Rt(this,Mt,Ft);return this._rangeRequestReaders.push(Lt),Lt}cancelAllRequests(Mt){var Ft;(Ft=this._fullRequestReader)==null||Ft.cancel(Mt);for(const Lt of this._rangeRequestReaders.slice(0))Lt.cancel(Mt)}}ht.PDFFetchStream=St;class kt{constructor(Mt){this._stream=Mt,this._reader=null,this._loaded=0,this._filename=null;const Ft=Mt.source;this._withCredentials=Ft.withCredentials||!1,this._contentLength=Ft.length,this._headersCapability=new _t.PromiseCapability,this._disableRange=Ft.disableRange||!1,this._rangeChunkSize=Ft.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!Ft.disableStream,this._isRangeSupported=!Ft.disableRange,this._headers=wt(this._stream.httpHeaders);const Lt=Ft.url;fetch(Lt,Et(this._headers,this._withCredentials,this._abortController)).then(Dt=>{if(!(0,xt.validateResponseStatus)(Dt.status))throw(0,xt.createResponseStatusError)(Dt.status,Lt);this._reader=Dt.body.getReader(),this._headersCapability.resolve();const Nt=jt=>Dt.headers.get(jt),{allowRangeRequests:$t,suggestedLength:Ot}=(0,xt.validateRangeRequestCapabilities)({getResponseHeader:Nt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=$t,this._contentLength=Ot||this._contentLength,this._filename=(0,xt.extractFilenameFromHeader)(Nt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _t.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Lt;await this._headersCapability.promise;const{value:Mt,done:Ft}=await this._reader.read();return Ft?{value:Mt,done:Ft}:(this._loaded+=Mt.byteLength,(Lt=this.onProgress)==null||Lt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:At(Mt),done:!1})}cancel(Mt){var Ft;(Ft=this._reader)==null||Ft.cancel(Mt),this._abortController.abort()}}class Rt{constructor(Mt,Ft,Lt){this._stream=Mt,this._reader=null,this._loaded=0;const Dt=Mt.source;this._withCredentials=Dt.withCredentials||!1,this._readCapability=new _t.PromiseCapability,this._isStreamingSupported=!Dt.disableStream,this._abortController=new AbortController,this._headers=wt(this._stream.httpHeaders),this._headers.append("Range",`bytes=${Ft}-${Lt-1}`);const Nt=Dt.url;fetch(Nt,Et(this._headers,this._withCredentials,this._abortController)).then($t=>{if(!(0,xt.validateResponseStatus)($t.status))throw(0,xt.createResponseStatusError)($t.status,Nt);this._readCapability.resolve(),this._reader=$t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Lt;await this._readCapability.promise;const{value:Mt,done:Ft}=await this._reader.read();return Ft?{value:Mt,done:Ft}:(this._loaded+=Mt.byteLength,(Lt=this.onProgress)==null||Lt.call(this,{loaded:this._loaded}),{value:At(Mt),done:!1})}cancel(Mt){var Ft;(Ft=this._reader)==null||Ft.cancel(Mt),this._abortController.abort()}}},(vt,ht,bt)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.createResponseStatusError=St,ht.extractFilenameFromHeader=At,ht.validateRangeRequestCapabilities=wt,ht.validateResponseStatus=kt;var _t=bt(1),xt=bt(21),Et=bt(6);function wt({getResponseHeader:Rt,isHttp:Pt,rangeChunkSize:Mt,disableRange:Ft}){const Lt={allowRangeRequests:!1,suggestedLength:void 0},Dt=parseInt(Rt("Content-Length"),10);return!Number.isInteger(Dt)||(Lt.suggestedLength=Dt,Dt<=2*Mt)||Ft||!Pt||Rt("Accept-Ranges")!=="bytes"||(Rt("Content-Encoding")||"identity")!=="identity"||(Lt.allowRangeRequests=!0),Lt}function At(Rt){const Pt=Rt("Content-Disposition");if(Pt){let Mt=(0,xt.getFilenameFromContentDispositionHeader)(Pt);if(Mt.includes("%"))try{Mt=decodeURIComponent(Mt)}catch{}if((0,Et.isPdfFile)(Mt))return Mt}return null}function St(Rt,Pt){return Rt===404||Rt===0&&Pt.startsWith("file:")?new _t.MissingPDFException('Missing PDF "'+Pt+'".'):new _t.UnexpectedResponseException(`Unexpected server response (${Rt}) while retrieving PDF "${Pt}".`,Rt)}function kt(Rt){return Rt===200||Rt===206}},(vt,ht,bt)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.getFilenameFromContentDispositionHeader=xt;var _t=bt(1);function xt(Et){let wt=!0,At=St("filename\\*","i").exec(Et);if(At){At=At[1];let Dt=Mt(At);return Dt=unescape(Dt),Dt=Ft(Dt),Dt=Lt(Dt),Rt(Dt)}if(At=Pt(Et),At){const Dt=Lt(At);return Rt(Dt)}if(At=St("filename","i").exec(Et),At){At=At[1];let Dt=Mt(At);return Dt=Lt(Dt),Rt(Dt)}function St(Dt,Nt){return new RegExp("(?:^|;)\\s*"+Dt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Nt)}function kt(Dt,Nt){if(Dt){if(!/^[\x00-\xFF]+$/.test(Nt))return Nt;try{const $t=new TextDecoder(Dt,{fatal:!0}),Ot=(0,_t.stringToBytes)(Nt);Nt=$t.decode(Ot),wt=!1}catch{}}return Nt}function Rt(Dt){return wt&&/[\x80-\xff]/.test(Dt)&&(Dt=kt("utf-8",Dt),wt&&(Dt=kt("iso-8859-1",Dt))),Dt}function Pt(Dt){const Nt=[];let $t;const Ot=St("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;($t=Ot.exec(Dt))!==null;){let[,Ut,Bt,Vt]=$t;if(Ut=parseInt(Ut,10),Ut in Nt){if(Ut===0)break;continue}Nt[Ut]=[Bt,Vt]}const jt=[];for(let Ut=0;Ut<Nt.length&&Ut in Nt;++Ut){let[Bt,Vt]=Nt[Ut];Vt=Mt(Vt),Bt&&(Vt=unescape(Vt),Ut===0&&(Vt=Ft(Vt))),jt.push(Vt)}return jt.join("")}function Mt(Dt){if(Dt.startsWith('"')){const Nt=Dt.slice(1).split('\\"');for(let $t=0;$t<Nt.length;++$t){const Ot=Nt[$t].indexOf('"');Ot!==-1&&(Nt[$t]=Nt[$t].slice(0,Ot),Nt.length=$t+1),Nt[$t]=Nt[$t].replaceAll(/\\(.)/g,"$1")}Dt=Nt.join('"')}return Dt}function Ft(Dt){const Nt=Dt.indexOf("'");if(Nt===-1)return Dt;const $t=Dt.slice(0,Nt),jt=Dt.slice(Nt+1).replace(/^[^']*'/,"");return kt($t,jt)}function Lt(Dt){return!Dt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Dt)?Dt:Dt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Nt,$t,Ot,jt){if(Ot==="q"||Ot==="Q")return jt=jt.replaceAll("_"," "),jt=jt.replaceAll(/=([0-9a-fA-F]{2})/g,function(Ut,Bt){return String.fromCharCode(parseInt(Bt,16))}),kt($t,jt);try{jt=atob(jt)}catch{}return kt($t,jt)})}return""}},(vt,ht,bt)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.PDFNetworkStream=void 0;var _t=bt(1),xt=bt(20);const Et=200,wt=206;function At(Mt){const Ft=Mt.response;return typeof Ft!="string"?Ft:(0,_t.stringToBytes)(Ft).buffer}class St{constructor(Ft,Lt={}){this.url=Ft,this.isHttp=/^https?:/i.test(Ft),this.httpHeaders=this.isHttp&&Lt.httpHeaders||Object.create(null),this.withCredentials=Lt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Ft,Lt,Dt){const Nt={begin:Ft,end:Lt};for(const $t in Dt)Nt[$t]=Dt[$t];return this.request(Nt)}requestFull(Ft){return this.request(Ft)}request(Ft){const Lt=new XMLHttpRequest,Dt=this.currXhrId++,Nt=this.pendingRequests[Dt]={xhr:Lt};Lt.open("GET",this.url),Lt.withCredentials=this.withCredentials;for(const $t in this.httpHeaders){const Ot=this.httpHeaders[$t];Ot!==void 0&&Lt.setRequestHeader($t,Ot)}return this.isHttp&&"begin"in Ft&&"end"in Ft?(Lt.setRequestHeader("Range",`bytes=${Ft.begin}-${Ft.end-1}`),Nt.expectedStatus=wt):Nt.expectedStatus=Et,Lt.responseType="arraybuffer",Ft.onError&&(Lt.onerror=function($t){Ft.onError(Lt.status)}),Lt.onreadystatechange=this.onStateChange.bind(this,Dt),Lt.onprogress=this.onProgress.bind(this,Dt),Nt.onHeadersReceived=Ft.onHeadersReceived,Nt.onDone=Ft.onDone,Nt.onError=Ft.onError,Nt.onProgress=Ft.onProgress,Lt.send(null),Dt}onProgress(Ft,Lt){var Nt;const Dt=this.pendingRequests[Ft];Dt&&((Nt=Dt.onProgress)==null||Nt.call(Dt,Lt))}onStateChange(Ft,Lt){var Ut,Bt,Vt;const Dt=this.pendingRequests[Ft];if(!Dt)return;const Nt=Dt.xhr;if(Nt.readyState>=2&&Dt.onHeadersReceived&&(Dt.onHeadersReceived(),delete Dt.onHeadersReceived),Nt.readyState!==4||!(Ft in this.pendingRequests))return;if(delete this.pendingRequests[Ft],Nt.status===0&&this.isHttp){(Ut=Dt.onError)==null||Ut.call(Dt,Nt.status);return}const $t=Nt.status||Et;if(!($t===Et&&Dt.expectedStatus===wt)&&$t!==Dt.expectedStatus){(Bt=Dt.onError)==null||Bt.call(Dt,Nt.status);return}const jt=At(Nt);if($t===wt){const zt=Nt.getResponseHeader("Content-Range"),Gt=/bytes (\d+)-(\d+)\/(\d+)/.exec(zt);Dt.onDone({begin:parseInt(Gt[1],10),chunk:jt})}else jt?Dt.onDone({begin:0,chunk:jt}):(Vt=Dt.onError)==null||Vt.call(Dt,Nt.status)}getRequestXhr(Ft){return this.pendingRequests[Ft].xhr}isPendingRequest(Ft){return Ft in this.pendingRequests}abortRequest(Ft){const Lt=this.pendingRequests[Ft].xhr;delete this.pendingRequests[Ft],Lt.abort()}}class kt{constructor(Ft){this._source=Ft,this._manager=new St(Ft.url,{httpHeaders:Ft.httpHeaders,withCredentials:Ft.withCredentials}),this._rangeChunkSize=Ft.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Ft){const Lt=this._rangeRequestReaders.indexOf(Ft);Lt>=0&&this._rangeRequestReaders.splice(Lt,1)}getFullReader(){return(0,_t.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Rt(this._manager,this._source),this._fullRequestReader}getRangeReader(Ft,Lt){const Dt=new Pt(this._manager,Ft,Lt);return Dt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Dt),Dt}cancelAllRequests(Ft){var Lt;(Lt=this._fullRequestReader)==null||Lt.cancel(Ft);for(const Dt of this._rangeRequestReaders.slice(0))Dt.cancel(Ft)}}ht.PDFNetworkStream=kt;class Rt{constructor(Ft,Lt){this._manager=Ft;const Dt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Lt.url,this._fullRequestId=Ft.requestFull(Dt),this._headersReceivedCapability=new _t.PromiseCapability,this._disableRange=Lt.disableRange||!1,this._contentLength=Lt.length,this._rangeChunkSize=Lt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Ft=this._fullRequestId,Lt=this._manager.getRequestXhr(Ft),Dt=Ot=>Lt.getResponseHeader(Ot),{allowRangeRequests:Nt,suggestedLength:$t}=(0,xt.validateRangeRequestCapabilities)({getResponseHeader:Dt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Nt&&(this._isRangeSupported=!0),this._contentLength=$t||this._contentLength,this._filename=(0,xt.extractFilenameFromHeader)(Dt),this._isRangeSupported&&this._manager.abortRequest(Ft),this._headersReceivedCapability.resolve()}_onDone(Ft){if(Ft&&(this._requests.length>0?this._requests.shift().resolve({value:Ft.chunk,done:!1}):this._cachedChunks.push(Ft.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Lt of this._requests)Lt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Ft){this._storedError=(0,xt.createResponseStatusError)(Ft,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Lt of this._requests)Lt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Ft){var Lt;(Lt=this.onProgress)==null||Lt.call(this,{loaded:Ft.loaded,total:Ft.lengthComputable?Ft.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Ft=new _t.PromiseCapability;return this._requests.push(Ft),Ft.promise}cancel(Ft){this._done=!0,this._headersReceivedCapability.reject(Ft);for(const Lt of this._requests)Lt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Pt{constructor(Ft,Lt,Dt){this._manager=Ft;const Nt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Ft.url,this._requestId=Ft.requestRange(Lt,Dt,Nt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var Ft;(Ft=this.onClosed)==null||Ft.call(this,this)}_onDone(Ft){const Lt=Ft.chunk;this._requests.length>0?this._requests.shift().resolve({value:Lt,done:!1}):this._queuedChunk=Lt,this._done=!0;for(const Dt of this._requests)Dt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Ft){this._storedError=(0,xt.createResponseStatusError)(Ft,this._url);for(const Lt of this._requests)Lt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Ft){var Lt;this.isStreamingSupported||(Lt=this.onProgress)==null||Lt.call(this,{loaded:Ft.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Lt=this._queuedChunk;return this._queuedChunk=null,{value:Lt,done:!1}}if(this._done)return{value:void 0,done:!0};const Ft=new _t.PromiseCapability;return this._requests.push(Ft),Ft.promise}cancel(Ft){this._done=!0;for(const Lt of this._requests)Lt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(vt,ht,bt)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.PDFNodeStream=void 0;var _t=bt(1),xt=bt(20);const Et=/^file:\/\/\/[a-zA-Z]:\//;function wt(Dt){const Nt=require$$5,$t=Nt.parse(Dt);return $t.protocol==="file:"||$t.host?$t:/^[a-z]:[/\\]/i.test(Dt)?Nt.parse(`file:///${Dt}`):($t.host||($t.protocol="file:"),$t)}class At{constructor(Nt){this.source=Nt,this.url=wt(Nt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Nt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Nt;return((Nt=this._fullRequestReader)==null?void 0:Nt._loaded)??0}getFullReader(){return(0,_t.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Ft(this):new Pt(this),this._fullRequestReader}getRangeReader(Nt,$t){if($t<=this._progressiveDataLength)return null;const Ot=this.isFsUrl?new Lt(this,Nt,$t):new Mt(this,Nt,$t);return this._rangeRequestReaders.push(Ot),Ot}cancelAllRequests(Nt){var $t;($t=this._fullRequestReader)==null||$t.cancel(Nt);for(const Ot of this._rangeRequestReaders.slice(0))Ot.cancel(Nt)}}ht.PDFNodeStream=At;class St{constructor(Nt){this._url=Nt.url,this._done=!1,this._storedError=null,this.onProgress=null;const $t=Nt.source;this._contentLength=$t.length,this._loaded=0,this._filename=null,this._disableRange=$t.disableRange||!1,this._rangeChunkSize=$t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!$t.disableStream,this._isRangeSupported=!$t.disableRange,this._readableStream=null,this._readCapability=new _t.PromiseCapability,this._headersCapability=new _t.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Ot;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Nt=this._readableStream.read();return Nt===null?(this._readCapability=new _t.PromiseCapability,this.read()):(this._loaded+=Nt.length,(Ot=this.onProgress)==null||Ot.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Nt).buffer,done:!1})}cancel(Nt){if(!this._readableStream){this._error(Nt);return}this._readableStream.destroy(Nt)}_error(Nt){this._storedError=Nt,this._readCapability.resolve()}_setReadableStream(Nt){this._readableStream=Nt,Nt.on("readable",()=>{this._readCapability.resolve()}),Nt.on("end",()=>{Nt.destroy(),this._done=!0,this._readCapability.resolve()}),Nt.on("error",$t=>{this._error($t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _t.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class kt{constructor(Nt){this._url=Nt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new _t.PromiseCapability;const $t=Nt.source;this._isStreamingSupported=!$t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Ot;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Nt=this._readableStream.read();return Nt===null?(this._readCapability=new _t.PromiseCapability,this.read()):(this._loaded+=Nt.length,(Ot=this.onProgress)==null||Ot.call(this,{loaded:this._loaded}),{value:new Uint8Array(Nt).buffer,done:!1})}cancel(Nt){if(!this._readableStream){this._error(Nt);return}this._readableStream.destroy(Nt)}_error(Nt){this._storedError=Nt,this._readCapability.resolve()}_setReadableStream(Nt){this._readableStream=Nt,Nt.on("readable",()=>{this._readCapability.resolve()}),Nt.on("end",()=>{Nt.destroy(),this._done=!0,this._readCapability.resolve()}),Nt.on("error",$t=>{this._error($t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Rt(Dt,Nt){return{protocol:Dt.protocol,auth:Dt.auth,host:Dt.hostname,port:Dt.port,path:Dt.path,method:"GET",headers:Nt}}class Pt extends St{constructor(Nt){super(Nt);const $t=Ot=>{if(Ot.statusCode===404){const Vt=new _t.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Vt,this._headersCapability.reject(Vt);return}this._headersCapability.resolve(),this._setReadableStream(Ot);const jt=Vt=>this._readableStream.headers[Vt.toLowerCase()],{allowRangeRequests:Ut,suggestedLength:Bt}=(0,xt.validateRangeRequestCapabilities)({getResponseHeader:jt,isHttp:Nt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ut,this._contentLength=Bt||this._contentLength,this._filename=(0,xt.extractFilenameFromHeader)(jt)};if(this._request=null,this._url.protocol==="http:"){const Ot=require$$5;this._request=Ot.request(Rt(this._url,Nt.httpHeaders),$t)}else{const Ot=require$$5;this._request=Ot.request(Rt(this._url,Nt.httpHeaders),$t)}this._request.on("error",Ot=>{this._storedError=Ot,this._headersCapability.reject(Ot)}),this._request.end()}}class Mt extends kt{constructor(Nt,$t,Ot){super(Nt),this._httpHeaders={};for(const Ut in Nt.httpHeaders){const Bt=Nt.httpHeaders[Ut];Bt!==void 0&&(this._httpHeaders[Ut]=Bt)}this._httpHeaders.Range=`bytes=${$t}-${Ot-1}`;const jt=Ut=>{if(Ut.statusCode===404){const Bt=new _t.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Bt;return}this._setReadableStream(Ut)};if(this._request=null,this._url.protocol==="http:"){const Ut=require$$5;this._request=Ut.request(Rt(this._url,this._httpHeaders),jt)}else{const Ut=require$$5;this._request=Ut.request(Rt(this._url,this._httpHeaders),jt)}this._request.on("error",Ut=>{this._storedError=Ut}),this._request.end()}}class Ft extends St{constructor(Nt){super(Nt);let $t=decodeURIComponent(this._url.path);Et.test(this._url.href)&&($t=$t.replace(/^\//,""));const Ot=require$$5;Ot.lstat($t,(jt,Ut)=>{if(jt){jt.code==="ENOENT"&&(jt=new _t.MissingPDFException(`Missing PDF "${$t}".`)),this._storedError=jt,this._headersCapability.reject(jt);return}this._contentLength=Ut.size,this._setReadableStream(Ot.createReadStream($t)),this._headersCapability.resolve()})}}class Lt extends kt{constructor(Nt,$t,Ot){super(Nt);let jt=decodeURIComponent(this._url.path);Et.test(this._url.href)&&(jt=jt.replace(/^\//,""));const Ut=require$$5;this._setReadableStream(Ut.createReadStream(jt,{start:$t,end:Ot-1}))}}},(vt,ht,bt)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.SVGGraphics=void 0;var _t=bt(6),xt=bt(1);const Et={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},wt="http://www.w3.org/XML/1998/namespace",At="http://www.w3.org/1999/xlink",St=["butt","round","square"],kt=["miter","round","bevel"],Rt=function(Ut,Bt="",Vt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Vt)return URL.createObjectURL(new Blob([Ut],{type:Bt}));const zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Gt=`data:${Bt};base64,`;for(let en=0,ln=Ut.length;en<ln;en+=3){const Kt=Ut[en]&255,on=Ut[en+1]&255,fn=Ut[en+2]&255,En=Kt>>2,gn=(Kt&3)<<4|on>>4,wn=en+1<ln?(on&15)<<2|fn>>6:64,pn=en+2<ln?fn&63:64;Gt+=zt[En]+zt[gn]+zt[wn]+zt[pn]}return Gt},Pt=function(){const Ut=new Uint8Array([137,80,78,71,13,10,26,10]),Bt=12,Vt=new Int32Array(256);for(let fn=0;fn<256;fn++){let En=fn;for(let gn=0;gn<8;gn++)En=En&1?3988292384^En>>1&2147483647:En>>1&2147483647;Vt[fn]=En}function zt(fn,En,gn){let wn=-1;for(let pn=En;pn<gn;pn++){const sn=(wn^fn[pn])&255,Jt=Vt[sn];wn=wn>>>8^Jt}return wn^-1}function Gt(fn,En,gn,wn){let pn=wn;const sn=En.length;gn[pn]=sn>>24&255,gn[pn+1]=sn>>16&255,gn[pn+2]=sn>>8&255,gn[pn+3]=sn&255,pn+=4,gn[pn]=fn.charCodeAt(0)&255,gn[pn+1]=fn.charCodeAt(1)&255,gn[pn+2]=fn.charCodeAt(2)&255,gn[pn+3]=fn.charCodeAt(3)&255,pn+=4,gn.set(En,pn),pn+=En.length;const Jt=zt(gn,wn+4,pn);gn[pn]=Jt>>24&255,gn[pn+1]=Jt>>16&255,gn[pn+2]=Jt>>8&255,gn[pn+3]=Jt&255}function en(fn,En,gn){let wn=1,pn=0;for(let sn=En;sn<gn;++sn)wn=(wn+(fn[sn]&255))%65521,pn=(pn+wn)%65521;return pn<<16|wn}function ln(fn){if(!xt.isNodeJS)return Kt(fn);try{const En=parseInt(process.versions.node)>=8?fn:Buffer.from(fn),gn=require$$5.deflateSync(En,{level:9});return gn instanceof Uint8Array?gn:new Uint8Array(gn)}catch(En){(0,xt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+En)}return Kt(fn)}function Kt(fn){let En=fn.length;const gn=65535,wn=Math.ceil(En/gn),pn=new Uint8Array(2+En+wn*5+4);let sn=0;pn[sn++]=120,pn[sn++]=156;let Jt=0;for(;En>gn;)pn[sn++]=0,pn[sn++]=255,pn[sn++]=255,pn[sn++]=0,pn[sn++]=0,pn.set(fn.subarray(Jt,Jt+gn),sn),sn+=gn,Jt+=gn,En-=gn;pn[sn++]=1,pn[sn++]=En&255,pn[sn++]=En>>8&255,pn[sn++]=~En&65535&255,pn[sn++]=(~En&65535)>>8&255,pn.set(fn.subarray(Jt),sn),sn+=fn.length-Jt;const an=en(fn,0,fn.length);return pn[sn++]=an>>24&255,pn[sn++]=an>>16&255,pn[sn++]=an>>8&255,pn[sn++]=an&255,pn}function on(fn,En,gn,wn){const pn=fn.width,sn=fn.height;let Jt,an,vn;const tn=fn.data;switch(En){case xt.ImageKind.GRAYSCALE_1BPP:an=0,Jt=1,vn=pn+7>>3;break;case xt.ImageKind.RGB_24BPP:an=2,Jt=8,vn=pn*3;break;case xt.ImageKind.RGBA_32BPP:an=6,Jt=8,vn=pn*4;break;default:throw new Error("invalid format")}const Ht=new Uint8Array((1+vn)*sn);let Wt=0,rn=0;for(let Hn=0;Hn<sn;++Hn)Ht[Wt++]=0,Ht.set(tn.subarray(rn,rn+vn),Wt),rn+=vn,Wt+=vn;if(En===xt.ImageKind.GRAYSCALE_1BPP&&wn){Wt=0;for(let Hn=0;Hn<sn;Hn++){Wt++;for(let On=0;On<vn;On++)Ht[Wt++]^=255}}const nn=new Uint8Array([pn>>24&255,pn>>16&255,pn>>8&255,pn&255,sn>>24&255,sn>>16&255,sn>>8&255,sn&255,Jt,an,0,0,0]),hn=ln(Ht),cn=Ut.length+Bt*3+nn.length+hn.length,Cn=new Uint8Array(cn);let $n=0;return Cn.set(Ut,$n),$n+=Ut.length,Gt("IHDR",nn,Cn,$n),$n+=Bt+nn.length,Gt("IDATA",hn,Cn,$n),$n+=Bt+hn.length,Gt("IEND",new Uint8Array(0),Cn,$n),Rt(Cn,"image/png",gn)}return function(En,gn,wn){const pn=En.kind===void 0?xt.ImageKind.GRAYSCALE_1BPP:En.kind;return on(En,pn,gn,wn)}}();class Mt{constructor(){this.fontSizeScale=1,this.fontWeight=Et.fontWeight,this.fontSize=0,this.textMatrix=xt.IDENTITY_MATRIX,this.fontMatrix=xt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=xt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Et.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Bt,Vt){this.x=Bt,this.y=Vt}}function Ft(Ut){let Bt=[];const Vt=[];for(const zt of Ut){if(zt.fn==="save"){Bt.push({fnId:92,fn:"group",items:[]}),Vt.push(Bt),Bt=Bt.at(-1).items;continue}zt.fn==="restore"?Bt=Vt.pop():Bt.push(zt)}return Bt}function Lt(Ut){if(Number.isInteger(Ut))return Ut.toString();const Bt=Ut.toFixed(10);let Vt=Bt.length-1;if(Bt[Vt]!=="0")return Bt;do Vt--;while(Bt[Vt]==="0");return Bt.substring(0,Bt[Vt]==="."?Vt:Vt+1)}function Dt(Ut){if(Ut[4]===0&&Ut[5]===0){if(Ut[1]===0&&Ut[2]===0)return Ut[0]===1&&Ut[3]===1?"":`scale(${Lt(Ut[0])} ${Lt(Ut[3])})`;if(Ut[0]===Ut[3]&&Ut[1]===-Ut[2]){const Bt=Math.acos(Ut[0])*180/Math.PI;return`rotate(${Lt(Bt)})`}}else if(Ut[0]===1&&Ut[1]===0&&Ut[2]===0&&Ut[3]===1)return`translate(${Lt(Ut[4])} ${Lt(Ut[5])})`;return`matrix(${Lt(Ut[0])} ${Lt(Ut[1])} ${Lt(Ut[2])} ${Lt(Ut[3])} ${Lt(Ut[4])} ${Lt(Ut[5])})`}let Nt=0,$t=0,Ot=0;class jt{constructor(Bt,Vt,zt=!1){(0,_t.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new _t.DOMSVGFactory,this.current=new Mt,this.transformMatrix=xt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Bt,this.objs=Vt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!zt,this._operatorIdMapping=[];for(const Gt in xt.OPS)this._operatorIdMapping[xt.OPS[Gt]]=Gt}getObject(Bt,Vt=null){return typeof Bt=="string"?Bt.startsWith("g_")?this.commonObjs.get(Bt):this.objs.get(Bt):Vt}save(){this.transformStack.push(this.transformMatrix);const Bt=this.current;this.extraStack.push(Bt),this.current=Bt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Bt){this.save(),this.executeOpTree(Bt),this.restore()}loadDependencies(Bt){const Vt=Bt.fnArray,zt=Bt.argsArray;for(let Gt=0,en=Vt.length;Gt<en;Gt++)if(Vt[Gt]===xt.OPS.dependency)for(const ln of zt[Gt]){const Kt=ln.startsWith("g_")?this.commonObjs:this.objs,on=new Promise(fn=>{Kt.get(ln,fn)});this.current.dependencies.push(on)}return Promise.all(this.current.dependencies)}transform(Bt,Vt,zt,Gt,en,ln){const Kt=[Bt,Vt,zt,Gt,en,ln];this.transformMatrix=xt.Util.transform(this.transformMatrix,Kt),this.tgrp=null}getSVG(Bt,Vt){this.viewport=Vt;const zt=this._initialize(Vt);return this.loadDependencies(Bt).then(()=>(this.transformMatrix=xt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Bt)),zt))}convertOpList(Bt){const Vt=this._operatorIdMapping,zt=Bt.argsArray,Gt=Bt.fnArray,en=[];for(let ln=0,Kt=Gt.length;ln<Kt;ln++){const on=Gt[ln];en.push({fnId:on,fn:Vt[on],args:zt[ln]})}return Ft(en)}executeOpTree(Bt){for(const Vt of Bt){const zt=Vt.fn,Gt=Vt.fnId,en=Vt.args;switch(Gt|0){case xt.OPS.beginText:this.beginText();break;case xt.OPS.dependency:break;case xt.OPS.setLeading:this.setLeading(en);break;case xt.OPS.setLeadingMoveText:this.setLeadingMoveText(en[0],en[1]);break;case xt.OPS.setFont:this.setFont(en);break;case xt.OPS.showText:this.showText(en[0]);break;case xt.OPS.showSpacedText:this.showText(en[0]);break;case xt.OPS.endText:this.endText();break;case xt.OPS.moveText:this.moveText(en[0],en[1]);break;case xt.OPS.setCharSpacing:this.setCharSpacing(en[0]);break;case xt.OPS.setWordSpacing:this.setWordSpacing(en[0]);break;case xt.OPS.setHScale:this.setHScale(en[0]);break;case xt.OPS.setTextMatrix:this.setTextMatrix(en[0],en[1],en[2],en[3],en[4],en[5]);break;case xt.OPS.setTextRise:this.setTextRise(en[0]);break;case xt.OPS.setTextRenderingMode:this.setTextRenderingMode(en[0]);break;case xt.OPS.setLineWidth:this.setLineWidth(en[0]);break;case xt.OPS.setLineJoin:this.setLineJoin(en[0]);break;case xt.OPS.setLineCap:this.setLineCap(en[0]);break;case xt.OPS.setMiterLimit:this.setMiterLimit(en[0]);break;case xt.OPS.setFillRGBColor:this.setFillRGBColor(en[0],en[1],en[2]);break;case xt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(en[0],en[1],en[2]);break;case xt.OPS.setStrokeColorN:this.setStrokeColorN(en);break;case xt.OPS.setFillColorN:this.setFillColorN(en);break;case xt.OPS.shadingFill:this.shadingFill(en[0]);break;case xt.OPS.setDash:this.setDash(en[0],en[1]);break;case xt.OPS.setRenderingIntent:this.setRenderingIntent(en[0]);break;case xt.OPS.setFlatness:this.setFlatness(en[0]);break;case xt.OPS.setGState:this.setGState(en[0]);break;case xt.OPS.fill:this.fill();break;case xt.OPS.eoFill:this.eoFill();break;case xt.OPS.stroke:this.stroke();break;case xt.OPS.fillStroke:this.fillStroke();break;case xt.OPS.eoFillStroke:this.eoFillStroke();break;case xt.OPS.clip:this.clip("nonzero");break;case xt.OPS.eoClip:this.clip("evenodd");break;case xt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case xt.OPS.paintImageXObject:this.paintImageXObject(en[0]);break;case xt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(en[0]);break;case xt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(en[0]);break;case xt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(en[0],en[1]);break;case xt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case xt.OPS.closePath:this.closePath();break;case xt.OPS.closeStroke:this.closeStroke();break;case xt.OPS.closeFillStroke:this.closeFillStroke();break;case xt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case xt.OPS.nextLine:this.nextLine();break;case xt.OPS.transform:this.transform(en[0],en[1],en[2],en[3],en[4],en[5]);break;case xt.OPS.constructPath:this.constructPath(en[0],en[1]);break;case xt.OPS.endPath:this.endPath();break;case 92:this.group(Vt.items);break;default:(0,xt.warn)(`Unimplemented operator ${zt}`);break}}}setWordSpacing(Bt){this.current.wordSpacing=Bt}setCharSpacing(Bt){this.current.charSpacing=Bt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Bt,Vt,zt,Gt,en,ln){const Kt=this.current;Kt.textMatrix=Kt.lineMatrix=[Bt,Vt,zt,Gt,en,ln],Kt.textMatrixScale=Math.hypot(Bt,Vt),Kt.x=Kt.lineX=0,Kt.y=Kt.lineY=0,Kt.xcoords=[],Kt.ycoords=[],Kt.tspan=this.svgFactory.createElement("svg:tspan"),Kt.tspan.setAttributeNS(null,"font-family",Kt.fontFamily),Kt.tspan.setAttributeNS(null,"font-size",`${Lt(Kt.fontSize)}px`),Kt.tspan.setAttributeNS(null,"y",Lt(-Kt.y)),Kt.txtElement=this.svgFactory.createElement("svg:text"),Kt.txtElement.append(Kt.tspan)}beginText(){const Bt=this.current;Bt.x=Bt.lineX=0,Bt.y=Bt.lineY=0,Bt.textMatrix=xt.IDENTITY_MATRIX,Bt.lineMatrix=xt.IDENTITY_MATRIX,Bt.textMatrixScale=1,Bt.tspan=this.svgFactory.createElement("svg:tspan"),Bt.txtElement=this.svgFactory.createElement("svg:text"),Bt.txtgrp=this.svgFactory.createElement("svg:g"),Bt.xcoords=[],Bt.ycoords=[]}moveText(Bt,Vt){const zt=this.current;zt.x=zt.lineX+=Bt,zt.y=zt.lineY+=Vt,zt.xcoords=[],zt.ycoords=[],zt.tspan=this.svgFactory.createElement("svg:tspan"),zt.tspan.setAttributeNS(null,"font-family",zt.fontFamily),zt.tspan.setAttributeNS(null,"font-size",`${Lt(zt.fontSize)}px`),zt.tspan.setAttributeNS(null,"y",Lt(-zt.y))}showText(Bt){const Vt=this.current,zt=Vt.font,Gt=Vt.fontSize;if(Gt===0)return;const en=Vt.fontSizeScale,ln=Vt.charSpacing,Kt=Vt.wordSpacing,on=Vt.fontDirection,fn=Vt.textHScale*on,En=zt.vertical,gn=En?1:-1,wn=zt.defaultVMetrics,pn=Gt*Vt.fontMatrix[0];let sn=0;for(const vn of Bt){if(vn===null){sn+=on*Kt;continue}else if(typeof vn=="number"){sn+=gn*vn*Gt/1e3;continue}const tn=(vn.isSpace?Kt:0)+ln,Ht=vn.fontChar;let Wt,rn,nn=vn.width;if(En){let cn;const Cn=vn.vmetric||wn;cn=vn.vmetric?Cn[1]:nn*.5,cn=-cn*pn;const $n=Cn[2]*pn;nn=Cn?-Cn[0]:nn,Wt=cn/en,rn=(sn+$n)/en}else Wt=sn/en,rn=0;(vn.isInFont||zt.missingFile)&&(Vt.xcoords.push(Vt.x+Wt),En&&Vt.ycoords.push(-Vt.y+rn),Vt.tspan.textContent+=Ht);const hn=En?nn*pn-tn*on:nn*pn+tn*on;sn+=hn}Vt.tspan.setAttributeNS(null,"x",Vt.xcoords.map(Lt).join(" ")),En?Vt.tspan.setAttributeNS(null,"y",Vt.ycoords.map(Lt).join(" ")):Vt.tspan.setAttributeNS(null,"y",Lt(-Vt.y)),En?Vt.y-=sn:Vt.x+=sn*fn,Vt.tspan.setAttributeNS(null,"font-family",Vt.fontFamily),Vt.tspan.setAttributeNS(null,"font-size",`${Lt(Vt.fontSize)}px`),Vt.fontStyle!==Et.fontStyle&&Vt.tspan.setAttributeNS(null,"font-style",Vt.fontStyle),Vt.fontWeight!==Et.fontWeight&&Vt.tspan.setAttributeNS(null,"font-weight",Vt.fontWeight);const Jt=Vt.textRenderingMode&xt.TextRenderingMode.FILL_STROKE_MASK;if(Jt===xt.TextRenderingMode.FILL||Jt===xt.TextRenderingMode.FILL_STROKE?(Vt.fillColor!==Et.fillColor&&Vt.tspan.setAttributeNS(null,"fill",Vt.fillColor),Vt.fillAlpha<1&&Vt.tspan.setAttributeNS(null,"fill-opacity",Vt.fillAlpha)):Vt.textRenderingMode===xt.TextRenderingMode.ADD_TO_PATH?Vt.tspan.setAttributeNS(null,"fill","transparent"):Vt.tspan.setAttributeNS(null,"fill","none"),Jt===xt.TextRenderingMode.STROKE||Jt===xt.TextRenderingMode.FILL_STROKE){const vn=1/(Vt.textMatrixScale||1);this._setStrokeAttributes(Vt.tspan,vn)}let an=Vt.textMatrix;Vt.textRise!==0&&(an=an.slice(),an[5]+=Vt.textRise),Vt.txtElement.setAttributeNS(null,"transform",`${Dt(an)} scale(${Lt(fn)}, -1)`),Vt.txtElement.setAttributeNS(wt,"xml:space","preserve"),Vt.txtElement.append(Vt.tspan),Vt.txtgrp.append(Vt.txtElement),this._ensureTransformGroup().append(Vt.txtElement)}setLeadingMoveText(Bt,Vt){this.setLeading(-Vt),this.moveText(Bt,Vt)}addFontStyle(Bt){if(!Bt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Vt=Rt(Bt.data,Bt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Bt.loadedName}"; src: url(${Vt}); }
`}setFont(Bt){const Vt=this.current,zt=this.commonObjs.get(Bt[0]);let Gt=Bt[1];Vt.font=zt,this.embedFonts&&!zt.missingFile&&!this.embeddedFonts[zt.loadedName]&&(this.addFontStyle(zt),this.embeddedFonts[zt.loadedName]=zt),Vt.fontMatrix=zt.fontMatrix||xt.FONT_IDENTITY_MATRIX;let en="normal";zt.black?en="900":zt.bold&&(en="bold");const ln=zt.italic?"italic":"normal";Gt<0?(Gt=-Gt,Vt.fontDirection=-1):Vt.fontDirection=1,Vt.fontSize=Gt,Vt.fontFamily=zt.loadedName,Vt.fontWeight=en,Vt.fontStyle=ln,Vt.tspan=this.svgFactory.createElement("svg:tspan"),Vt.tspan.setAttributeNS(null,"y",Lt(-Vt.y)),Vt.xcoords=[],Vt.ycoords=[]}endText(){var Vt;const Bt=this.current;Bt.textRenderingMode&xt.TextRenderingMode.ADD_TO_PATH_FLAG&&((Vt=Bt.txtElement)!=null&&Vt.hasChildNodes())&&(Bt.element=Bt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Bt){Bt>0&&(this.current.lineWidth=Bt)}setLineCap(Bt){this.current.lineCap=St[Bt]}setLineJoin(Bt){this.current.lineJoin=kt[Bt]}setMiterLimit(Bt){this.current.miterLimit=Bt}setStrokeAlpha(Bt){this.current.strokeAlpha=Bt}setStrokeRGBColor(Bt,Vt,zt){this.current.strokeColor=xt.Util.makeHexColor(Bt,Vt,zt)}setFillAlpha(Bt){this.current.fillAlpha=Bt}setFillRGBColor(Bt,Vt,zt){this.current.fillColor=xt.Util.makeHexColor(Bt,Vt,zt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Bt){this.current.strokeColor=this._makeColorN_Pattern(Bt)}setFillColorN(Bt){this.current.fillColor=this._makeColorN_Pattern(Bt)}shadingFill(Bt){const{width:Vt,height:zt}=this.viewport,Gt=xt.Util.inverseTransform(this.transformMatrix),[en,ln,Kt,on]=xt.Util.getAxialAlignedBoundingBox([0,0,Vt,zt],Gt),fn=this.svgFactory.createElement("svg:rect");fn.setAttributeNS(null,"x",en),fn.setAttributeNS(null,"y",ln),fn.setAttributeNS(null,"width",Kt-en),fn.setAttributeNS(null,"height",on-ln),fn.setAttributeNS(null,"fill",this._makeShadingPattern(Bt)),this.current.fillAlpha<1&&fn.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(fn)}_makeColorN_Pattern(Bt){return Bt[0]==="TilingPattern"?this._makeTilingPattern(Bt):this._makeShadingPattern(Bt)}_makeTilingPattern(Bt){const Vt=Bt[1],zt=Bt[2],Gt=Bt[3]||xt.IDENTITY_MATRIX,[en,ln,Kt,on]=Bt[4],fn=Bt[5],En=Bt[6],gn=Bt[7],wn=`shading${Ot++}`,[pn,sn,Jt,an]=xt.Util.normalizeRect([...xt.Util.applyTransform([en,ln],Gt),...xt.Util.applyTransform([Kt,on],Gt)]),[vn,tn]=xt.Util.singularValueDecompose2dScale(Gt),Ht=fn*vn,Wt=En*tn,rn=this.svgFactory.createElement("svg:pattern");rn.setAttributeNS(null,"id",wn),rn.setAttributeNS(null,"patternUnits","userSpaceOnUse"),rn.setAttributeNS(null,"width",Ht),rn.setAttributeNS(null,"height",Wt),rn.setAttributeNS(null,"x",`${pn}`),rn.setAttributeNS(null,"y",`${sn}`);const nn=this.svg,hn=this.transformMatrix,cn=this.current.fillColor,Cn=this.current.strokeColor,$n=this.svgFactory.create(Jt-pn,an-sn);if(this.svg=$n,this.transformMatrix=Gt,gn===2){const Hn=xt.Util.makeHexColor(...Vt);this.current.fillColor=Hn,this.current.strokeColor=Hn}return this.executeOpTree(this.convertOpList(zt)),this.svg=nn,this.transformMatrix=hn,this.current.fillColor=cn,this.current.strokeColor=Cn,rn.append($n.childNodes[0]),this.defs.append(rn),`url(#${wn})`}_makeShadingPattern(Bt){switch(typeof Bt=="string"&&(Bt=this.objs.get(Bt)),Bt[0]){case"RadialAxial":const Vt=`shading${Ot++}`,zt=Bt[3];let Gt;switch(Bt[1]){case"axial":const en=Bt[4],ln=Bt[5];Gt=this.svgFactory.createElement("svg:linearGradient"),Gt.setAttributeNS(null,"id",Vt),Gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Gt.setAttributeNS(null,"x1",en[0]),Gt.setAttributeNS(null,"y1",en[1]),Gt.setAttributeNS(null,"x2",ln[0]),Gt.setAttributeNS(null,"y2",ln[1]);break;case"radial":const Kt=Bt[4],on=Bt[5],fn=Bt[6],En=Bt[7];Gt=this.svgFactory.createElement("svg:radialGradient"),Gt.setAttributeNS(null,"id",Vt),Gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Gt.setAttributeNS(null,"cx",on[0]),Gt.setAttributeNS(null,"cy",on[1]),Gt.setAttributeNS(null,"r",En),Gt.setAttributeNS(null,"fx",Kt[0]),Gt.setAttributeNS(null,"fy",Kt[1]),Gt.setAttributeNS(null,"fr",fn);break;default:throw new Error(`Unknown RadialAxial type: ${Bt[1]}`)}for(const en of zt){const ln=this.svgFactory.createElement("svg:stop");ln.setAttributeNS(null,"offset",en[0]),ln.setAttributeNS(null,"stop-color",en[1]),Gt.append(ln)}return this.defs.append(Gt),`url(#${Vt})`;case"Mesh":return(0,xt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Bt[0]}`)}}setDash(Bt,Vt){this.current.dashArray=Bt,this.current.dashPhase=Vt}constructPath(Bt,Vt){const zt=this.current;let Gt=zt.x,en=zt.y,ln=[],Kt=0;for(const on of Bt)switch(on|0){case xt.OPS.rectangle:Gt=Vt[Kt++],en=Vt[Kt++];const fn=Vt[Kt++],En=Vt[Kt++],gn=Gt+fn,wn=en+En;ln.push("M",Lt(Gt),Lt(en),"L",Lt(gn),Lt(en),"L",Lt(gn),Lt(wn),"L",Lt(Gt),Lt(wn),"Z");break;case xt.OPS.moveTo:Gt=Vt[Kt++],en=Vt[Kt++],ln.push("M",Lt(Gt),Lt(en));break;case xt.OPS.lineTo:Gt=Vt[Kt++],en=Vt[Kt++],ln.push("L",Lt(Gt),Lt(en));break;case xt.OPS.curveTo:Gt=Vt[Kt+4],en=Vt[Kt+5],ln.push("C",Lt(Vt[Kt]),Lt(Vt[Kt+1]),Lt(Vt[Kt+2]),Lt(Vt[Kt+3]),Lt(Gt),Lt(en)),Kt+=6;break;case xt.OPS.curveTo2:ln.push("C",Lt(Gt),Lt(en),Lt(Vt[Kt]),Lt(Vt[Kt+1]),Lt(Vt[Kt+2]),Lt(Vt[Kt+3])),Gt=Vt[Kt+2],en=Vt[Kt+3],Kt+=4;break;case xt.OPS.curveTo3:Gt=Vt[Kt+2],en=Vt[Kt+3],ln.push("C",Lt(Vt[Kt]),Lt(Vt[Kt+1]),Lt(Gt),Lt(en),Lt(Gt),Lt(en)),Kt+=4;break;case xt.OPS.closePath:ln.push("Z");break}ln=ln.join(" "),zt.path&&Bt.length>0&&Bt[0]!==xt.OPS.rectangle&&Bt[0]!==xt.OPS.moveTo?ln=zt.path.getAttributeNS(null,"d")+ln:(zt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(zt.path)),zt.path.setAttributeNS(null,"d",ln),zt.path.setAttributeNS(null,"fill","none"),zt.element=zt.path,zt.setCurrentPoint(Gt,en)}endPath(){const Bt=this.current;if(Bt.path=null,!this.pendingClip)return;if(!Bt.element){this.pendingClip=null;return}const Vt=`clippath${Nt++}`,zt=this.svgFactory.createElement("svg:clipPath");zt.setAttributeNS(null,"id",Vt),zt.setAttributeNS(null,"transform",Dt(this.transformMatrix));const Gt=Bt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Gt.setAttributeNS(null,"clip-rule","evenodd"):Gt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,zt.append(Gt),this.defs.append(zt),Bt.activeClipUrl){Bt.clipGroup=null;for(const en of this.extraStack)en.clipGroup=null;zt.setAttributeNS(null,"clip-path",Bt.activeClipUrl)}Bt.activeClipUrl=`url(#${Vt})`,this.tgrp=null}clip(Bt){this.pendingClip=Bt}closePath(){const Bt=this.current;if(Bt.path){const Vt=`${Bt.path.getAttributeNS(null,"d")}Z`;Bt.path.setAttributeNS(null,"d",Vt)}}setLeading(Bt){this.current.leading=-Bt}setTextRise(Bt){this.current.textRise=Bt}setTextRenderingMode(Bt){this.current.textRenderingMode=Bt}setHScale(Bt){this.current.textHScale=Bt/100}setRenderingIntent(Bt){}setFlatness(Bt){}setGState(Bt){for(const[Vt,zt]of Bt)switch(Vt){case"LW":this.setLineWidth(zt);break;case"LC":this.setLineCap(zt);break;case"LJ":this.setLineJoin(zt);break;case"ML":this.setMiterLimit(zt);break;case"D":this.setDash(zt[0],zt[1]);break;case"RI":this.setRenderingIntent(zt);break;case"FL":this.setFlatness(zt);break;case"Font":this.setFont(zt);break;case"CA":this.setStrokeAlpha(zt);break;case"ca":this.setFillAlpha(zt);break;default:(0,xt.warn)(`Unimplemented graphic state operator ${Vt}`);break}}fill(){const Bt=this.current;Bt.element&&(Bt.element.setAttributeNS(null,"fill",Bt.fillColor),Bt.element.setAttributeNS(null,"fill-opacity",Bt.fillAlpha),this.endPath())}stroke(){const Bt=this.current;Bt.element&&(this._setStrokeAttributes(Bt.element),Bt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Bt,Vt=1){const zt=this.current;let Gt=zt.dashArray;Vt!==1&&Gt.length>0&&(Gt=Gt.map(function(en){return Vt*en})),Bt.setAttributeNS(null,"stroke",zt.strokeColor),Bt.setAttributeNS(null,"stroke-opacity",zt.strokeAlpha),Bt.setAttributeNS(null,"stroke-miterlimit",Lt(zt.miterLimit)),Bt.setAttributeNS(null,"stroke-linecap",zt.lineCap),Bt.setAttributeNS(null,"stroke-linejoin",zt.lineJoin),Bt.setAttributeNS(null,"stroke-width",Lt(Vt*zt.lineWidth)+"px"),Bt.setAttributeNS(null,"stroke-dasharray",Gt.map(Lt).join(" ")),Bt.setAttributeNS(null,"stroke-dashoffset",Lt(Vt*zt.dashPhase)+"px")}eoFill(){var Bt;(Bt=this.current.element)==null||Bt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Bt;(Bt=this.current.element)==null||Bt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Bt=this.svgFactory.createElement("svg:rect");Bt.setAttributeNS(null,"x","0"),Bt.setAttributeNS(null,"y","0"),Bt.setAttributeNS(null,"width","1px"),Bt.setAttributeNS(null,"height","1px"),Bt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Bt)}paintImageXObject(Bt){const Vt=this.getObject(Bt);if(!Vt){(0,xt.warn)(`Dependent image with object ID ${Bt} is not ready yet`);return}this.paintInlineImageXObject(Vt)}paintInlineImageXObject(Bt,Vt){const zt=Bt.width,Gt=Bt.height,en=Pt(Bt,this.forceDataSchema,!!Vt),ln=this.svgFactory.createElement("svg:rect");ln.setAttributeNS(null,"x","0"),ln.setAttributeNS(null,"y","0"),ln.setAttributeNS(null,"width",Lt(zt)),ln.setAttributeNS(null,"height",Lt(Gt)),this.current.element=ln,this.clip("nonzero");const Kt=this.svgFactory.createElement("svg:image");Kt.setAttributeNS(At,"xlink:href",en),Kt.setAttributeNS(null,"x","0"),Kt.setAttributeNS(null,"y",Lt(-Gt)),Kt.setAttributeNS(null,"width",Lt(zt)+"px"),Kt.setAttributeNS(null,"height",Lt(Gt)+"px"),Kt.setAttributeNS(null,"transform",`scale(${Lt(1/zt)} ${Lt(-1/Gt)})`),Vt?Vt.append(Kt):this._ensureTransformGroup().append(Kt)}paintImageMaskXObject(Bt){const Vt=this.getObject(Bt.data,Bt);if(Vt.bitmap){(0,xt.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const zt=this.current,Gt=Vt.width,en=Vt.height,ln=zt.fillColor;zt.maskId=`mask${$t++}`;const Kt=this.svgFactory.createElement("svg:mask");Kt.setAttributeNS(null,"id",zt.maskId);const on=this.svgFactory.createElement("svg:rect");on.setAttributeNS(null,"x","0"),on.setAttributeNS(null,"y","0"),on.setAttributeNS(null,"width",Lt(Gt)),on.setAttributeNS(null,"height",Lt(en)),on.setAttributeNS(null,"fill",ln),on.setAttributeNS(null,"mask",`url(#${zt.maskId})`),this.defs.append(Kt),this._ensureTransformGroup().append(on),this.paintInlineImageXObject(Vt,Kt)}paintFormXObjectBegin(Bt,Vt){if(Array.isArray(Bt)&&Bt.length===6&&this.transform(Bt[0],Bt[1],Bt[2],Bt[3],Bt[4],Bt[5]),Vt){const zt=Vt[2]-Vt[0],Gt=Vt[3]-Vt[1],en=this.svgFactory.createElement("svg:rect");en.setAttributeNS(null,"x",Vt[0]),en.setAttributeNS(null,"y",Vt[1]),en.setAttributeNS(null,"width",Lt(zt)),en.setAttributeNS(null,"height",Lt(Gt)),this.current.element=en,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Bt){const Vt=this.svgFactory.create(Bt.width,Bt.height),zt=this.svgFactory.createElement("svg:defs");Vt.append(zt),this.defs=zt;const Gt=this.svgFactory.createElement("svg:g");return Gt.setAttributeNS(null,"transform",Dt(Bt.transform)),Vt.append(Gt),this.svg=Gt,Vt}_ensureClipGroup(){if(!this.current.clipGroup){const Bt=this.svgFactory.createElement("svg:g");Bt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Bt),this.current.clipGroup=Bt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Dt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}ht.SVGGraphics=jt},(vt,ht)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.XfaText=void 0;class bt{static textContent(xt){const Et=[],wt={items:Et,styles:Object.create(null)};function At(St){var Pt;if(!St)return;let kt=null;const Rt=St.name;if(Rt==="#text")kt=St.value;else if(bt.shouldBuildText(Rt))(Pt=St==null?void 0:St.attributes)!=null&&Pt.textContent?kt=St.attributes.textContent:St.value&&(kt=St.value);else return;if(kt!==null&&Et.push({str:kt}),!!St.children)for(const Mt of St.children)At(Mt)}return At(xt),wt}static shouldBuildText(xt){return!(xt==="textarea"||xt==="input"||xt==="option"||xt==="select")}}ht.XfaText=bt},(vt,ht,bt)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.TextLayerRenderTask=void 0,ht.renderTextLayer=Dt,ht.updateTextLayer=Nt;var _t=bt(1),xt=bt(6);const Et=1e5,wt=30,At=.8,St=new Map;function kt($t,Ot){let jt;if(Ot&&_t.FeatureTest.isOffscreenCanvasSupported)jt=new OffscreenCanvas($t,$t).getContext("2d",{alpha:!1});else{const Ut=document.createElement("canvas");Ut.width=Ut.height=$t,jt=Ut.getContext("2d",{alpha:!1})}return jt}function Rt($t,Ot){const jt=St.get($t);if(jt)return jt;const Ut=kt(wt,Ot);Ut.font=`${wt}px ${$t}`;const Bt=Ut.measureText("");let Vt=Bt.fontBoundingBoxAscent,zt=Math.abs(Bt.fontBoundingBoxDescent);if(Vt){const en=Vt/(Vt+zt);return St.set($t,en),Ut.canvas.width=Ut.canvas.height=0,en}Ut.strokeStyle="red",Ut.clearRect(0,0,wt,wt),Ut.strokeText("g",0,0);let Gt=Ut.getImageData(0,0,wt,wt).data;zt=0;for(let en=Gt.length-1-3;en>=0;en-=4)if(Gt[en]>0){zt=Math.ceil(en/4/wt);break}Ut.clearRect(0,0,wt,wt),Ut.strokeText("A",0,wt),Gt=Ut.getImageData(0,0,wt,wt).data,Vt=0;for(let en=0,ln=Gt.length;en<ln;en+=4)if(Gt[en]>0){Vt=wt-Math.floor(en/4/wt);break}if(Ut.canvas.width=Ut.canvas.height=0,Vt){const en=Vt/(Vt+zt);return St.set($t,en),en}return St.set($t,At),At}function Pt($t,Ot,jt){const Ut=document.createElement("span"),Bt={angle:0,canvasWidth:0,hasText:Ot.str!=="",hasEOL:Ot.hasEOL,fontSize:0};$t._textDivs.push(Ut);const Vt=_t.Util.transform($t._transform,Ot.transform);let zt=Math.atan2(Vt[1],Vt[0]);const Gt=jt[Ot.fontName];Gt.vertical&&(zt+=Math.PI/2);const en=Math.hypot(Vt[2],Vt[3]),ln=en*Rt(Gt.fontFamily,$t._isOffscreenCanvasSupported);let Kt,on;zt===0?(Kt=Vt[4],on=Vt[5]-ln):(Kt=Vt[4]+ln*Math.sin(zt),on=Vt[5]-ln*Math.cos(zt));const fn="calc(var(--scale-factor)*",En=Ut.style;$t._container===$t._rootContainer?(En.left=`${(100*Kt/$t._pageWidth).toFixed(2)}%`,En.top=`${(100*on/$t._pageHeight).toFixed(2)}%`):(En.left=`${fn}${Kt.toFixed(2)}px)`,En.top=`${fn}${on.toFixed(2)}px)`),En.fontSize=`${fn}${en.toFixed(2)}px)`,En.fontFamily=Gt.fontFamily,Bt.fontSize=en,Ut.setAttribute("role","presentation"),Ut.textContent=Ot.str,Ut.dir=Ot.dir,$t._fontInspectorEnabled&&(Ut.dataset.fontName=Ot.fontName),zt!==0&&(Bt.angle=zt*(180/Math.PI));let gn=!1;if(Ot.str.length>1)gn=!0;else if(Ot.str!==" "&&Ot.transform[0]!==Ot.transform[3]){const wn=Math.abs(Ot.transform[0]),pn=Math.abs(Ot.transform[3]);wn!==pn&&Math.max(wn,pn)/Math.min(wn,pn)>1.5&&(gn=!0)}gn&&(Bt.canvasWidth=Gt.vertical?Ot.height:Ot.width),$t._textDivProperties.set(Ut,Bt),$t._isReadableStream&&$t._layoutText(Ut)}function Mt($t){const{div:Ot,scale:jt,properties:Ut,ctx:Bt,prevFontSize:Vt,prevFontFamily:zt}=$t,{style:Gt}=Ot;let en="";if(Ut.canvasWidth!==0&&Ut.hasText){const{fontFamily:ln}=Gt,{canvasWidth:Kt,fontSize:on}=Ut;(Vt!==on||zt!==ln)&&(Bt.font=`${on*jt}px ${ln}`,$t.prevFontSize=on,$t.prevFontFamily=ln);const{width:fn}=Bt.measureText(Ot.textContent);fn>0&&(en=`scaleX(${Kt*jt/fn})`)}Ut.angle!==0&&(en=`rotate(${Ut.angle}deg) ${en}`),en.length>0&&(Gt.transform=en)}function Ft($t){if($t._canceled)return;const Ot=$t._textDivs,jt=$t._capability;if(Ot.length>Et){jt.resolve();return}if(!$t._isReadableStream)for(const Bt of Ot)$t._layoutText(Bt);jt.resolve()}class Lt{constructor({textContentSource:Ot,container:jt,viewport:Ut,textDivs:Bt,textDivProperties:Vt,textContentItemsStr:zt,isOffscreenCanvasSupported:Gt}){var fn;this._textContentSource=Ot,this._isReadableStream=Ot instanceof ReadableStream,this._container=this._rootContainer=jt,this._textDivs=Bt||[],this._textContentItemsStr=zt||[],this._isOffscreenCanvasSupported=Gt,this._fontInspectorEnabled=!!((fn=globalThis.FontInspector)!=null&&fn.enabled),this._reader=null,this._textDivProperties=Vt||new WeakMap,this._canceled=!1,this._capability=new _t.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Ut.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:kt(0,Gt)};const{pageWidth:en,pageHeight:ln,pageX:Kt,pageY:on}=Ut.rawDims;this._transform=[1,0,0,-1,-Kt,on+ln],this._pageWidth=en,this._pageHeight=ln,(0,xt.setLayerDimensions)(jt,Ut),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _t.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new _t.AbortException("TextLayer task cancelled."))}_processItems(Ot,jt){for(const Ut of Ot){if(Ut.str===void 0){if(Ut.type==="beginMarkedContentProps"||Ut.type==="beginMarkedContent"){const Bt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Ut.id!==null&&this._container.setAttribute("id",`${Ut.id}`),Bt.append(this._container)}else Ut.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Ut.str),Pt(this,Ut,jt)}}_layoutText(Ot){const jt=this._layoutTextParams.properties=this._textDivProperties.get(Ot);if(this._layoutTextParams.div=Ot,Mt(this._layoutTextParams),jt.hasText&&this._container.append(Ot),jt.hasEOL){const Ut=document.createElement("br");Ut.setAttribute("role","presentation"),this._container.append(Ut)}}_render(){const Ot=new _t.PromiseCapability;let jt=Object.create(null);if(this._isReadableStream){const Ut=()=>{this._reader.read().then(({value:Bt,done:Vt})=>{if(Vt){Ot.resolve();return}Object.assign(jt,Bt.styles),this._processItems(Bt.items,jt),Ut()},Ot.reject)};this._reader=this._textContentSource.getReader(),Ut()}else if(this._textContentSource){const{items:Ut,styles:Bt}=this._textContentSource;this._processItems(Ut,Bt),Ot.resolve()}else throw new Error('No "textContentSource" parameter specified.');Ot.promise.then(()=>{jt=null,Ft(this)},this._capability.reject)}}ht.TextLayerRenderTask=Lt;function Dt($t){!$t.textContentSource&&($t.textContent||$t.textContentStream)&&((0,xt.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),$t.textContentSource=$t.textContent||$t.textContentStream);const{container:Ot,viewport:jt}=$t,Ut=getComputedStyle(Ot),Bt=Ut.getPropertyValue("visibility"),Vt=parseFloat(Ut.getPropertyValue("--scale-factor"));Bt==="visible"&&(!Vt||Math.abs(Vt-jt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const zt=new Lt($t);return zt._render(),zt}function Nt({container:$t,viewport:Ot,textDivs:jt,textDivProperties:Ut,isOffscreenCanvasSupported:Bt,mustRotate:Vt=!0,mustRescale:zt=!0}){if(Vt&&(0,xt.setLayerDimensions)($t,{rotation:Ot.rotation}),zt){const Gt=kt(0,Bt),ln={prevFontSize:null,prevFontFamily:null,div:null,scale:Ot.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Gt};for(const Kt of jt)ln.properties=Ut.get(Kt),ln.div=Kt,Mt(ln)}}},(vt,ht,bt)=>{var Rt,Pt,Mt,Ft,Lt,Dt,Nt,$t,Ot,jt,Ut,Ux,Hy,Hx,zx;Object.defineProperty(ht,"__esModule",{value:!0}),ht.AnnotationEditorLayer=void 0;var _t=bt(1),xt=bt(4),Et=bt(28),wt=bt(33),At=bt(6),St=bt(34);const en=class en{constructor({uiManager:Kt,pageIndex:on,div:fn,accessibilityManager:En,annotationLayer:gn,viewport:wn,l10n:pn}){Qt(this,Ut);Qt(this,Rt);Qt(this,Pt,!1);Qt(this,Mt,null);Qt(this,Ft,this.pointerup.bind(this));Qt(this,Lt,this.pointerdown.bind(this));Qt(this,Dt,new Map);Qt(this,Nt,!1);Qt(this,$t,!1);Qt(this,Ot,!1);Qt(this,jt);const sn=[Et.FreeTextEditor,wt.InkEditor,St.StampEditor];if(!en._initialized){en._initialized=!0;for(const Jt of sn)Jt.initialize(pn)}Kt.registerEditorTypes(sn),qt(this,jt,Kt),this.pageIndex=on,this.div=fn,qt(this,Rt,En),qt(this,Mt,gn),this.viewport=wn,Ct(this,jt).addLayer(this)}get isEmpty(){return Ct(this,Dt).size===0}updateToolbar(Kt){Ct(this,jt).updateToolbar(Kt)}updateMode(Kt=Ct(this,jt).getMode()){Xt(this,Ut,zx).call(this),Kt===_t.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Kt!==_t.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Kt===_t.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Kt===_t.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Kt===_t.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Kt){if(!Kt&&Ct(this,jt).getMode()!==_t.AnnotationEditorType.INK)return;if(!Kt){for(const fn of Ct(this,Dt).values())if(fn.isEmpty()){fn.setInBackground();return}}Xt(this,Ut,Hy).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Kt){Ct(this,jt).setEditingState(Kt)}addCommands(Kt){Ct(this,jt).addCommands(Kt)}enable(){this.div.style.pointerEvents="auto";const Kt=new Set;for(const fn of Ct(this,Dt).values())fn.enableEditing(),fn.annotationElementId&&Kt.add(fn.annotationElementId);if(!Ct(this,Mt))return;const on=Ct(this,Mt).getEditableAnnotations();for(const fn of on){if(fn.hide(),Ct(this,jt).isDeletedAnnotationElement(fn.data.id)||Kt.has(fn.data.id))continue;const En=this.deserialize(fn);En&&(this.addOrRebuild(En),En.enableEditing())}}disable(){var on;qt(this,Ot,!0),this.div.style.pointerEvents="none";const Kt=new Set;for(const fn of Ct(this,Dt).values()){if(fn.disableEditing(),!fn.annotationElementId||fn.serialize()!==null){Kt.add(fn.annotationElementId);continue}(on=this.getEditableAnnotation(fn.annotationElementId))==null||on.show(),fn.remove()}if(Ct(this,Mt)){const fn=Ct(this,Mt).getEditableAnnotations();for(const En of fn){const{id:gn}=En.data;Kt.has(gn)||Ct(this,jt).isDeletedAnnotationElement(gn)||En.show()}}Xt(this,Ut,zx).call(this),this.isEmpty&&(this.div.hidden=!0),qt(this,Ot,!1)}getEditableAnnotation(Kt){var on;return((on=Ct(this,Mt))==null?void 0:on.getEditableAnnotation(Kt))||null}setActiveEditor(Kt){Ct(this,jt).getActive()!==Kt&&Ct(this,jt).setActiveEditor(Kt)}enableClick(){this.div.addEventListener("pointerdown",Ct(this,Lt)),this.div.addEventListener("pointerup",Ct(this,Ft))}disableClick(){this.div.removeEventListener("pointerdown",Ct(this,Lt)),this.div.removeEventListener("pointerup",Ct(this,Ft))}attach(Kt){Ct(this,Dt).set(Kt.id,Kt);const{annotationElementId:on}=Kt;on&&Ct(this,jt).isDeletedAnnotationElement(on)&&Ct(this,jt).removeDeletedAnnotationElement(Kt)}detach(Kt){var on;Ct(this,Dt).delete(Kt.id),(on=Ct(this,Rt))==null||on.removePointerInTextLayer(Kt.contentDiv),!Ct(this,Ot)&&Kt.annotationElementId&&Ct(this,jt).addDeletedAnnotationElement(Kt)}remove(Kt){this.detach(Kt),Ct(this,jt).removeEditor(Kt),Kt.div.contains(document.activeElement)&&setTimeout(()=>{Ct(this,jt).focusMainContainer()},0),Kt.div.remove(),Kt.isAttachedToDOM=!1,Ct(this,$t)||this.addInkEditorIfNeeded(!1)}changeParent(Kt){var on;Kt.parent!==this&&(Kt.annotationElementId&&(Ct(this,jt).addDeletedAnnotationElement(Kt.annotationElementId),xt.AnnotationEditor.deleteAnnotationElement(Kt),Kt.annotationElementId=null),this.attach(Kt),(on=Kt.parent)==null||on.detach(Kt),Kt.setParent(this),Kt.div&&Kt.isAttachedToDOM&&(Kt.div.remove(),this.div.append(Kt.div)))}add(Kt){if(this.changeParent(Kt),Ct(this,jt).addEditor(Kt),this.attach(Kt),!Kt.isAttachedToDOM){const on=Kt.render();this.div.append(on),Kt.isAttachedToDOM=!0}Kt.fixAndSetPosition(),Kt.onceAdded(),Ct(this,jt).addToAnnotationStorage(Kt)}moveEditorInDOM(Kt){var fn;if(!Kt.isAttachedToDOM)return;const{activeElement:on}=document;Kt.div.contains(on)&&(Kt._focusEventsAllowed=!1,setTimeout(()=>{Kt.div.contains(document.activeElement)?Kt._focusEventsAllowed=!0:(Kt.div.addEventListener("focusin",()=>{Kt._focusEventsAllowed=!0},{once:!0}),on.focus())},0)),Kt._structTreeParentId=(fn=Ct(this,Rt))==null?void 0:fn.moveElementInDOM(this.div,Kt.div,Kt.contentDiv,!0)}addOrRebuild(Kt){Kt.needsToBeRebuilt()?Kt.rebuild():this.add(Kt)}addUndoableEditor(Kt){const on=()=>Kt._uiManager.rebuild(Kt),fn=()=>{Kt.remove()};this.addCommands({cmd:on,undo:fn,mustExec:!1})}getNextId(){return Ct(this,jt).getId()}pasteEditor(Kt,on){Ct(this,jt).updateToolbar(Kt),Ct(this,jt).updateMode(Kt);const{offsetX:fn,offsetY:En}=Xt(this,Ut,Hx).call(this),gn=this.getNextId(),wn=Xt(this,Ut,Ux).call(this,{parent:this,id:gn,x:fn,y:En,uiManager:Ct(this,jt),isCentered:!0,...on});wn&&this.add(wn)}deserialize(Kt){switch(Kt.annotationType??Kt.annotationEditorType){case _t.AnnotationEditorType.FREETEXT:return Et.FreeTextEditor.deserialize(Kt,this,Ct(this,jt));case _t.AnnotationEditorType.INK:return wt.InkEditor.deserialize(Kt,this,Ct(this,jt));case _t.AnnotationEditorType.STAMP:return St.StampEditor.deserialize(Kt,this,Ct(this,jt))}return null}addNewEditor(){Xt(this,Ut,Hy).call(this,Xt(this,Ut,Hx).call(this),!0)}setSelected(Kt){Ct(this,jt).setSelected(Kt)}toggleSelected(Kt){Ct(this,jt).toggleSelected(Kt)}isSelected(Kt){return Ct(this,jt).isSelected(Kt)}unselect(Kt){Ct(this,jt).unselect(Kt)}pointerup(Kt){const{isMac:on}=_t.FeatureTest.platform;if(!(Kt.button!==0||Kt.ctrlKey&&on)&&Kt.target===this.div&&Ct(this,Nt)){if(qt(this,Nt,!1),!Ct(this,Pt)){qt(this,Pt,!0);return}if(Ct(this,jt).getMode()===_t.AnnotationEditorType.STAMP){Ct(this,jt).unselectAll();return}Xt(this,Ut,Hy).call(this,Kt,!1)}}pointerdown(Kt){if(Ct(this,Nt)){qt(this,Nt,!1);return}const{isMac:on}=_t.FeatureTest.platform;if(Kt.button!==0||Kt.ctrlKey&&on||Kt.target!==this.div)return;qt(this,Nt,!0);const fn=Ct(this,jt).getActive();qt(this,Pt,!fn||fn.isEmpty())}findNewParent(Kt,on,fn){const En=Ct(this,jt).findParent(on,fn);return En===null||En===this?!1:(En.changeParent(Kt),!0)}destroy(){var Kt,on;((Kt=Ct(this,jt).getActive())==null?void 0:Kt.parent)===this&&(Ct(this,jt).commitOrRemove(),Ct(this,jt).setActiveEditor(null));for(const fn of Ct(this,Dt).values())(on=Ct(this,Rt))==null||on.removePointerInTextLayer(fn.contentDiv),fn.setParent(null),fn.isAttachedToDOM=!1,fn.div.remove();this.div=null,Ct(this,Dt).clear(),Ct(this,jt).removeLayer(this)}render({viewport:Kt}){this.viewport=Kt,(0,At.setLayerDimensions)(this.div,Kt);for(const on of Ct(this,jt).getEditors(this.pageIndex))this.add(on);this.updateMode()}update({viewport:Kt}){Ct(this,jt).commitOrRemove(),this.viewport=Kt,(0,At.setLayerDimensions)(this.div,{rotation:Kt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Kt,pageHeight:on}=this.viewport.rawDims;return[Kt,on]}};Rt=new WeakMap,Pt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,Dt=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Ot=new WeakMap,jt=new WeakMap,Ut=new WeakSet,Ux=function(Kt){switch(Ct(this,jt).getMode()){case _t.AnnotationEditorType.FREETEXT:return new Et.FreeTextEditor(Kt);case _t.AnnotationEditorType.INK:return new wt.InkEditor(Kt);case _t.AnnotationEditorType.STAMP:return new St.StampEditor(Kt)}return null},Hy=function(Kt,on){const fn=this.getNextId(),En=Xt(this,Ut,Ux).call(this,{parent:this,id:fn,x:Kt.offsetX,y:Kt.offsetY,uiManager:Ct(this,jt),isCentered:on});return En&&this.add(En),En},Hx=function(){const{x:Kt,y:on,width:fn,height:En}=this.div.getBoundingClientRect(),gn=Math.max(0,Kt),wn=Math.max(0,on),pn=Math.min(window.innerWidth,Kt+fn),sn=Math.min(window.innerHeight,on+En),Jt=(gn+pn)/2-Kt,an=(wn+sn)/2-on,[vn,tn]=this.viewport.rotation%180===0?[Jt,an]:[an,Jt];return{offsetX:vn,offsetY:tn}},zx=function(){qt(this,$t,!0);for(const Kt of Ct(this,Dt).values())Kt.isEmpty()&&Kt.remove();qt(this,$t,!1)},Tr(en,"_initialized",!1);let kt=en;ht.AnnotationEditorLayer=kt},(vt,ht,bt)=>{var St,kt,Rt,Pt,Mt,Ft,Lt,Dt,Nt,$t,rw,iw,sw,x0,Vx,aw,Wx;Object.defineProperty(ht,"__esModule",{value:!0}),ht.FreeTextEditor=void 0;var _t=bt(1),xt=bt(5),Et=bt(4),wt=bt(29);const en=class en extends Et.AnnotationEditor{constructor(on){super({...on,name:"freeTextEditor"});Qt(this,$t);Qt(this,St,this.editorDivBlur.bind(this));Qt(this,kt,this.editorDivFocus.bind(this));Qt(this,Rt,this.editorDivInput.bind(this));Qt(this,Pt,this.editorDivKeydown.bind(this));Qt(this,Mt);Qt(this,Ft,"");Qt(this,Lt,`${this.id}-editor`);Qt(this,Dt);Qt(this,Nt,null);qt(this,Mt,on.color||en._defaultColor||Et.AnnotationEditor._defaultLineColor),qt(this,Dt,on.fontSize||en._defaultFontSize)}static get _keyboardManager(){const on=en.prototype,fn=wn=>wn.isEmpty(),En=xt.AnnotationEditorUIManager.TRANSLATE_SMALL,gn=xt.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,_t.shadow)(this,"_keyboardManager",new xt.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],on.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],on.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],on._translateEmpty,{args:[-En,0],checker:fn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],on._translateEmpty,{args:[-gn,0],checker:fn}],[["ArrowRight","mac+ArrowRight"],on._translateEmpty,{args:[En,0],checker:fn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],on._translateEmpty,{args:[gn,0],checker:fn}],[["ArrowUp","mac+ArrowUp"],on._translateEmpty,{args:[0,-En],checker:fn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],on._translateEmpty,{args:[0,-gn],checker:fn}],[["ArrowDown","mac+ArrowDown"],on._translateEmpty,{args:[0,En],checker:fn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],on._translateEmpty,{args:[0,gn],checker:fn}]]))}static initialize(on){Et.AnnotationEditor.initialize(on,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const fn=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(fn.getPropertyValue("--freetext-padding"))}static updateDefaultParams(on,fn){switch(on){case _t.AnnotationEditorParamsType.FREETEXT_SIZE:en._defaultFontSize=fn;break;case _t.AnnotationEditorParamsType.FREETEXT_COLOR:en._defaultColor=fn;break}}updateParams(on,fn){switch(on){case _t.AnnotationEditorParamsType.FREETEXT_SIZE:Xt(this,$t,rw).call(this,fn);break;case _t.AnnotationEditorParamsType.FREETEXT_COLOR:Xt(this,$t,iw).call(this,fn);break}}static get defaultPropertiesToUpdate(){return[[_t.AnnotationEditorParamsType.FREETEXT_SIZE,en._defaultFontSize],[_t.AnnotationEditorParamsType.FREETEXT_COLOR,en._defaultColor||Et.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[_t.AnnotationEditorParamsType.FREETEXT_SIZE,Ct(this,Dt)],[_t.AnnotationEditorParamsType.FREETEXT_COLOR,Ct(this,Mt)]]}_translateEmpty(on,fn){this._uiManager.translateSelectedEditors(on,fn,!0)}getInitialTranslation(){const on=this.parentScale;return[-en._internalPadding*on,-(en._internalPadding+Ct(this,Dt))*on]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(_t.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Ct(this,Pt)),this.editorDiv.addEventListener("focus",Ct(this,kt)),this.editorDiv.addEventListener("blur",Ct(this,St)),this.editorDiv.addEventListener("input",Ct(this,Rt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Ct(this,Lt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Ct(this,Pt)),this.editorDiv.removeEventListener("focus",Ct(this,kt)),this.editorDiv.removeEventListener("blur",Ct(this,St)),this.editorDiv.removeEventListener("input",Ct(this,Rt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(on){this._focusEventsAllowed&&(super.focusin(on),on.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var on;if(this.width){Xt(this,$t,Wx).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(on=this._initialOptions)!=null&&on.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const on=Ct(this,Ft),fn=qt(this,Ft,Xt(this,$t,sw).call(this).trimEnd());if(on===fn)return;const En=gn=>{if(qt(this,Ft,gn),!gn){this.remove();return}Xt(this,$t,Vx).call(this),this._uiManager.rebuild(this),Xt(this,$t,x0).call(this)};this.addCommands({cmd:()=>{En(fn)},undo:()=>{En(on)},mustExec:!1}),Xt(this,$t,x0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(on){this.enterInEditMode()}keydown(on){on.target===this.div&&on.key==="Enter"&&(this.enterInEditMode(),on.preventDefault())}editorDivKeydown(on){en._keyboardManager.exec(this,on)}editorDivFocus(on){this.isEditing=!0}editorDivBlur(on){this.isEditing=!1}editorDivInput(on){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let on,fn;this.width&&(on=this.x,fn=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Ct(this,Lt)),this.enableEditing(),Et.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(gn=>{var wn;return(wn=this.editorDiv)==null?void 0:wn.setAttribute("aria-label",gn)}),Et.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(gn=>{var wn;return(wn=this.editorDiv)==null?void 0:wn.setAttribute("default-content",gn)}),this.editorDiv.contentEditable=!0;const{style:En}=this.editorDiv;if(En.fontSize=`calc(${Ct(this,Dt)}px * var(--scale-factor))`,En.color=Ct(this,Mt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,xt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[gn,wn]=this.parentDimensions;if(this.annotationElementId){const{position:pn}=Ct(this,Nt);let[sn,Jt]=this.getInitialTranslation();[sn,Jt]=this.pageTranslationToScreen(sn,Jt);const[an,vn]=this.pageDimensions,[tn,Ht]=this.pageTranslation;let Wt,rn;switch(this.rotation){case 0:Wt=on+(pn[0]-tn)/an,rn=fn+this.height-(pn[1]-Ht)/vn;break;case 90:Wt=on+(pn[0]-tn)/an,rn=fn-(pn[1]-Ht)/vn,[sn,Jt]=[Jt,-sn];break;case 180:Wt=on-this.width+(pn[0]-tn)/an,rn=fn-(pn[1]-Ht)/vn,[sn,Jt]=[-sn,-Jt];break;case 270:Wt=on+(pn[0]-tn-this.height*vn)/an,rn=fn+(pn[1]-Ht-this.width*an)/vn,[sn,Jt]=[-Jt,sn];break}this.setAt(Wt*gn,rn*wn,sn,Jt)}else this.setAt(on*gn,fn*wn,this.width*gn,this.height*wn);Xt(this,$t,Vx).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(on,fn,En){let gn=null;if(on instanceof wt.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:pn,fontColor:sn},rect:Jt,rotation:an,id:vn},textContent:tn,textPosition:Ht,parent:{page:{pageNumber:Wt}}}=on;if(!tn||tn.length===0)return null;gn=on={annotationType:_t.AnnotationEditorType.FREETEXT,color:Array.from(sn),fontSize:pn,value:tn.join(`
`),position:Ht,pageIndex:Wt-1,rect:Jt,rotation:an,id:vn,deleted:!1}}const wn=super.deserialize(on,fn,En);return qt(wn,Dt,on.fontSize),qt(wn,Mt,_t.Util.makeHexColor(...on.color)),qt(wn,Ft,on.value),wn.annotationElementId=on.id||null,qt(wn,Nt,gn),wn}serialize(on=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const fn=en._internalPadding*this.parentScale,En=this.getRect(fn,fn),gn=Et.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Ct(this,Mt)),wn={annotationType:_t.AnnotationEditorType.FREETEXT,color:gn,fontSize:Ct(this,Dt),value:Ct(this,Ft),pageIndex:this.pageIndex,rect:En,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return on?wn:this.annotationElementId&&!Xt(this,$t,aw).call(this,wn)?null:(wn.id=this.annotationElementId,wn)}};St=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,Dt=new WeakMap,Nt=new WeakMap,$t=new WeakSet,rw=function(on){const fn=gn=>{this.editorDiv.style.fontSize=`calc(${gn}px * var(--scale-factor))`,this.translate(0,-(gn-Ct(this,Dt))*this.parentScale),qt(this,Dt,gn),Xt(this,$t,x0).call(this)},En=Ct(this,Dt);this.addCommands({cmd:()=>{fn(on)},undo:()=>{fn(En)},mustExec:!0,type:_t.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},iw=function(on){const fn=Ct(this,Mt);this.addCommands({cmd:()=>{qt(this,Mt,this.editorDiv.style.color=on)},undo:()=>{qt(this,Mt,this.editorDiv.style.color=fn)},mustExec:!0,type:_t.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},sw=function(){const on=this.editorDiv.getElementsByTagName("div");if(on.length===0)return this.editorDiv.innerText;const fn=[];for(const En of on)fn.push(En.innerText.replace(/\r\n?|\n/,""));return fn.join(`
`)},x0=function(){const[on,fn]=this.parentDimensions;let En;if(this.isAttachedToDOM)En=this.div.getBoundingClientRect();else{const{currentLayer:gn,div:wn}=this,pn=wn.style.display;wn.style.display="hidden",gn.div.append(this.div),En=wn.getBoundingClientRect(),wn.remove(),wn.style.display=pn}this.rotation%180===this.parentRotation%180?(this.width=En.width/on,this.height=En.height/fn):(this.width=En.height/on,this.height=En.width/fn),this.fixAndSetPosition()},Vx=function(){if(this.editorDiv.replaceChildren(),!!Ct(this,Ft))for(const on of Ct(this,Ft).split(`
`)){const fn=document.createElement("div");fn.append(on?document.createTextNode(on):document.createElement("br")),this.editorDiv.append(fn)}},aw=function(on){const{value:fn,fontSize:En,color:gn,rect:wn,pageIndex:pn}=Ct(this,Nt);return on.value!==fn||on.fontSize!==En||on.rect.some((sn,Jt)=>Math.abs(sn-wn[Jt])>=1)||on.color.some((sn,Jt)=>sn!==gn[Jt])||on.pageIndex!==pn},Wx=function(on=!1){if(!this.annotationElementId)return;if(Xt(this,$t,x0).call(this),!on&&(this.width===0||this.height===0)){setTimeout(()=>Xt(this,$t,Wx).call(this,!0),0);return}const fn=en._internalPadding*this.parentScale;Ct(this,Nt).rect=this.getRect(fn,fn)},Tr(en,"_freeTextDefaultContent",""),Tr(en,"_internalPadding",0),Tr(en,"_defaultColor",null),Tr(en,"_defaultFontSize",10),Tr(en,"_type","freetext");let At=en;ht.FreeTextEditor=At},(vt,ht,bt)=>{var rn,hn,Qu,ow,$n,Hn,On,Xn,Yn,Gn,Fn,Tn,dn,bn,Pn,Bn,Kn,Qn,Vn,Rn,ar,sr,lw,zy,Gx,Xx,Cr,Wr,ss,Jn,Dn,Nn,pr,qx,Fr,_n,Zn,cr,cw,Kx;Object.defineProperty(ht,"__esModule",{value:!0}),ht.StampAnnotationElement=ht.InkAnnotationElement=ht.FreeTextAnnotationElement=ht.AnnotationLayer=void 0;var _t=bt(1),xt=bt(6),Et=bt(3),wt=bt(30),At=bt(31),St=bt(32);const kt=1e3,Rt=9,Pt=new WeakSet;function Mt(fr){return{width:fr[2]-fr[0],height:fr[3]-fr[1]}}class Ft{static create(yn){switch(yn.data.annotationType){case _t.AnnotationType.LINK:return new Dt(yn);case _t.AnnotationType.TEXT:return new Nt(yn);case _t.AnnotationType.WIDGET:switch(yn.data.fieldType){case"Tx":return new Ot(yn);case"Btn":return yn.data.radioButton?new Bt(yn):yn.data.checkBox?new Ut(yn):new Vt(yn);case"Ch":return new zt(yn);case"Sig":return new jt(yn)}return new $t(yn);case _t.AnnotationType.POPUP:return new Gt(yn);case _t.AnnotationType.FREETEXT:return new ln(yn);case _t.AnnotationType.LINE:return new Kt(yn);case _t.AnnotationType.SQUARE:return new on(yn);case _t.AnnotationType.CIRCLE:return new fn(yn);case _t.AnnotationType.POLYLINE:return new En(yn);case _t.AnnotationType.CARET:return new wn(yn);case _t.AnnotationType.INK:return new pn(yn);case _t.AnnotationType.POLYGON:return new gn(yn);case _t.AnnotationType.HIGHLIGHT:return new sn(yn);case _t.AnnotationType.UNDERLINE:return new Jt(yn);case _t.AnnotationType.SQUIGGLY:return new an(yn);case _t.AnnotationType.STRIKEOUT:return new vn(yn);case _t.AnnotationType.STAMP:return new tn(yn);case _t.AnnotationType.FILEATTACHMENT:return new Ht(yn);default:return new Lt(yn)}}}const nn=class nn{constructor(yn,{isRenderable:mn=!1,ignoreBorder:Mn=!1,createQuadrilaterals:Wn=!1}={}){Qt(this,rn,!1);this.isRenderable=mn,this.data=yn.data,this.layer=yn.layer,this.linkService=yn.linkService,this.downloadManager=yn.downloadManager,this.imageResourcesPath=yn.imageResourcesPath,this.renderForms=yn.renderForms,this.svgFactory=yn.svgFactory,this.annotationStorage=yn.annotationStorage,this.enableScripting=yn.enableScripting,this.hasJSActions=yn.hasJSActions,this._fieldObjects=yn.fieldObjects,this.parent=yn.parent,mn&&(this.container=this._createContainer(Mn)),Wn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:yn,contentsObj:mn,richText:Mn}){return!!(yn!=null&&yn.str||mn!=null&&mn.str||Mn!=null&&Mn.str)}get hasPopupData(){return nn._hasPopupData(this.data)}_createContainer(yn){const{data:mn,parent:{page:Mn,viewport:Wn}}=this,qn=document.createElement("section");qn.setAttribute("data-annotation-id",mn.id),this instanceof $t||(qn.tabIndex=kt),qn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&qn.setAttribute("aria-haspopup","dialog"),mn.noRotate&&qn.classList.add("norotate");const{pageWidth:er,pageHeight:ir,pageX:_r,pageY:mr}=Wn.rawDims;if(!mn.rect||this instanceof Gt){const{rotation:Nr}=mn;return!mn.hasOwnCanvas&&Nr!==0&&this.setRotation(Nr,qn),qn}const{width:dr,height:zr}=Mt(mn.rect),vr=_t.Util.normalizeRect([mn.rect[0],Mn.view[3]-mn.rect[1]+Mn.view[1],mn.rect[2],Mn.view[3]-mn.rect[3]+Mn.view[1]]);if(!yn&&mn.borderStyle.width>0){qn.style.borderWidth=`${mn.borderStyle.width}px`;const Nr=mn.borderStyle.horizontalCornerRadius,qr=mn.borderStyle.verticalCornerRadius;if(Nr>0||qr>0){const ps=`calc(${Nr}px * var(--scale-factor)) / calc(${qr}px * var(--scale-factor))`;qn.style.borderRadius=ps}else if(this instanceof Bt){const ps=`calc(${dr}px * var(--scale-factor)) / calc(${zr}px * var(--scale-factor))`;qn.style.borderRadius=ps}switch(mn.borderStyle.style){case _t.AnnotationBorderStyleType.SOLID:qn.style.borderStyle="solid";break;case _t.AnnotationBorderStyleType.DASHED:qn.style.borderStyle="dashed";break;case _t.AnnotationBorderStyleType.BEVELED:(0,_t.warn)("Unimplemented border style: beveled");break;case _t.AnnotationBorderStyleType.INSET:(0,_t.warn)("Unimplemented border style: inset");break;case _t.AnnotationBorderStyleType.UNDERLINE:qn.style.borderBottomStyle="solid";break}const ns=mn.borderColor||null;ns?(qt(this,rn,!0),qn.style.borderColor=_t.Util.makeHexColor(ns[0]|0,ns[1]|0,ns[2]|0)):qn.style.borderWidth=0}qn.style.left=`${100*(vr[0]-_r)/er}%`,qn.style.top=`${100*(vr[1]-mr)/ir}%`;const{rotation:wr}=mn;return mn.hasOwnCanvas||wr===0?(qn.style.width=`${100*dr/er}%`,qn.style.height=`${100*zr/ir}%`):this.setRotation(wr,qn),qn}setRotation(yn,mn=this.container){if(!this.data.rect)return;const{pageWidth:Mn,pageHeight:Wn}=this.parent.viewport.rawDims,{width:qn,height:er}=Mt(this.data.rect);let ir,_r;yn%180===0?(ir=100*qn/Mn,_r=100*er/Wn):(ir=100*er/Mn,_r=100*qn/Wn),mn.style.width=`${ir}%`,mn.style.height=`${_r}%`,mn.setAttribute("data-main-rotation",(360-yn)%360)}get _commonActions(){const yn=(mn,Mn,Wn)=>{const qn=Wn.detail[mn],er=qn[0],ir=qn.slice(1);Wn.target.style[Mn]=wt.ColorConverters[`${er}_HTML`](ir),this.annotationStorage.setValue(this.data.id,{[Mn]:wt.ColorConverters[`${er}_rgb`](ir)})};return(0,_t.shadow)(this,"_commonActions",{display:mn=>{const{display:Mn}=mn.detail,Wn=Mn%2===1;this.container.style.visibility=Wn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Wn,noPrint:Mn===1||Mn===2})},print:mn=>{this.annotationStorage.setValue(this.data.id,{noPrint:!mn.detail.print})},hidden:mn=>{const{hidden:Mn}=mn.detail;this.container.style.visibility=Mn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Mn,noView:Mn})},focus:mn=>{setTimeout(()=>mn.target.focus({preventScroll:!1}),0)},userName:mn=>{mn.target.title=mn.detail.userName},readonly:mn=>{mn.target.disabled=mn.detail.readonly},required:mn=>{this._setRequired(mn.target,mn.detail.required)},bgColor:mn=>{yn("bgColor","backgroundColor",mn)},fillColor:mn=>{yn("fillColor","backgroundColor",mn)},fgColor:mn=>{yn("fgColor","color",mn)},textColor:mn=>{yn("textColor","color",mn)},borderColor:mn=>{yn("borderColor","borderColor",mn)},strokeColor:mn=>{yn("strokeColor","borderColor",mn)},rotation:mn=>{const Mn=mn.detail.rotation;this.setRotation(Mn),this.annotationStorage.setValue(this.data.id,{rotation:Mn})}})}_dispatchEventFromSandbox(yn,mn){const Mn=this._commonActions;for(const Wn of Object.keys(mn.detail)){const qn=yn[Wn]||Mn[Wn];qn==null||qn(mn)}}_setDefaultPropertiesFromJS(yn){if(!this.enableScripting)return;const mn=this.annotationStorage.getRawValue(this.data.id);if(!mn)return;const Mn=this._commonActions;for(const[Wn,qn]of Object.entries(mn)){const er=Mn[Wn];if(er){const ir={detail:{[Wn]:qn},target:yn};er(ir),delete mn[Wn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:yn}=this.data;if(!yn)return;const[mn,Mn,Wn,qn]=this.data.rect;if(yn.length===1){const[,{x:qr,y:ns},{x:ps,y:Hs}]=yn[0];if(Wn===qr&&qn===ns&&mn===ps&&Mn===Hs)return}const{style:er}=this.container;let ir;if(Ct(this,rn)){const{borderColor:qr,borderWidth:ns}=er;er.borderWidth=0,ir=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${qr}" stroke-width="${ns}">`],this.container.classList.add("hasBorder")}const _r=Wn-mn,mr=qn-Mn,{svgFactory:dr}=this,zr=dr.createElement("svg");zr.classList.add("quadrilateralsContainer"),zr.setAttribute("width",0),zr.setAttribute("height",0);const vr=dr.createElement("defs");zr.append(vr);const wr=dr.createElement("clipPath"),Nr=`clippath_${this.data.id}`;wr.setAttribute("id",Nr),wr.setAttribute("clipPathUnits","objectBoundingBox"),vr.append(wr);for(const[,{x:qr,y:ns},{x:ps,y:Hs}]of yn){const Fs=dr.createElement("rect"),Do=(ps-mn)/_r,Yo=(qn-ns)/mr,Zo=(qr-ps)/_r,iy=(ns-Hs)/mr;Fs.setAttribute("x",Do),Fs.setAttribute("y",Yo),Fs.setAttribute("width",Zo),Fs.setAttribute("height",iy),wr.append(Fs),ir==null||ir.push(`<rect vector-effect="non-scaling-stroke" x="${Do}" y="${Yo}" width="${Zo}" height="${iy}"/>`)}Ct(this,rn)&&(ir.push("</g></svg>')"),er.backgroundImage=ir.join("")),this.container.append(zr),this.container.style.clipPath=`url(#${Nr})`}_createPopup(){const{container:yn,data:mn}=this;yn.setAttribute("aria-haspopup","dialog");const Mn=new Gt({data:{color:mn.color,titleObj:mn.titleObj,modificationDate:mn.modificationDate,contentsObj:mn.contentsObj,richText:mn.richText,parentRect:mn.rect,borderStyle:0,id:`popup_${mn.id}`,rotation:mn.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Mn.render())}render(){(0,_t.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(yn,mn=null){const Mn=[];if(this._fieldObjects){const Wn=this._fieldObjects[yn];if(Wn)for(const{page:qn,id:er,exportValues:ir}of Wn){if(qn===-1||er===mn)continue;const _r=typeof ir=="string"?ir:null,mr=document.querySelector(`[data-element-id="${er}"]`);if(mr&&!Pt.has(mr)){(0,_t.warn)(`_getElementsByName - element not allowed: ${er}`);continue}Mn.push({id:er,exportValue:_r,domElement:mr})}return Mn}for(const Wn of document.getElementsByName(yn)){const{exportValue:qn}=Wn,er=Wn.getAttribute("data-element-id");er!==mn&&Pt.has(Wn)&&Mn.push({id:er,exportValue:qn,domElement:Wn})}return Mn}show(){var yn;this.container&&(this.container.hidden=!1),(yn=this.popup)==null||yn.maybeShow()}hide(){var yn;this.container&&(this.container.hidden=!0),(yn=this.popup)==null||yn.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const yn=this.getElementsToTriggerPopup();if(Array.isArray(yn))for(const mn of yn)mn.classList.add("highlightArea");else yn.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:yn,data:{id:mn}}=this;this.container.addEventListener("dblclick",()=>{var Mn;(Mn=this.linkService.eventBus)==null||Mn.dispatch("switchannotationeditormode",{source:this,mode:yn,editId:mn})})}};rn=new WeakMap;let Lt=nn;class Dt extends Lt{constructor(mn,Mn=null){super(mn,{isRenderable:!0,ignoreBorder:!!(Mn!=null&&Mn.ignoreBorder),createQuadrilaterals:!0});Qt(this,hn);this.isTooltipOnly=mn.data.isTooltipOnly}render(){const{data:mn,linkService:Mn}=this,Wn=document.createElement("a");Wn.setAttribute("data-element-id",mn.id);let qn=!1;return mn.url?(Mn.addLinkAttributes(Wn,mn.url,mn.newWindow),qn=!0):mn.action?(this._bindNamedAction(Wn,mn.action),qn=!0):mn.attachment?(this._bindAttachment(Wn,mn.attachment),qn=!0):mn.setOCGState?(Xt(this,hn,ow).call(this,Wn,mn.setOCGState),qn=!0):mn.dest?(this._bindLink(Wn,mn.dest),qn=!0):(mn.actions&&(mn.actions.Action||mn.actions["Mouse Up"]||mn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Wn,mn),qn=!0),mn.resetForm?(this._bindResetFormAction(Wn,mn.resetForm),qn=!0):this.isTooltipOnly&&!qn&&(this._bindLink(Wn,""),qn=!0)),this.container.classList.add("linkAnnotation"),qn&&this.container.append(Wn),this.container}_bindLink(mn,Mn){mn.href=this.linkService.getDestinationHash(Mn),mn.onclick=()=>(Mn&&this.linkService.goToDestination(Mn),!1),(Mn||Mn==="")&&Xt(this,hn,Qu).call(this)}_bindNamedAction(mn,Mn){mn.href=this.linkService.getAnchorUrl(""),mn.onclick=()=>(this.linkService.executeNamedAction(Mn),!1),Xt(this,hn,Qu).call(this)}_bindAttachment(mn,Mn){mn.href=this.linkService.getAnchorUrl(""),mn.onclick=()=>{var Wn;return(Wn=this.downloadManager)==null||Wn.openOrDownloadData(this.container,Mn.content,Mn.filename),!1},Xt(this,hn,Qu).call(this)}_bindJSAction(mn,Mn){mn.href=this.linkService.getAnchorUrl("");const Wn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const qn of Object.keys(Mn.actions)){const er=Wn.get(qn);er&&(mn[er]=()=>{var ir;return(ir=this.linkService.eventBus)==null||ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mn.id,name:qn}}),!1})}mn.onclick||(mn.onclick=()=>!1),Xt(this,hn,Qu).call(this)}_bindResetFormAction(mn,Mn){const Wn=mn.onclick;if(Wn||(mn.href=this.linkService.getAnchorUrl("")),Xt(this,hn,Qu).call(this),!this._fieldObjects){(0,_t.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Wn||(mn.onclick=()=>!1);return}mn.onclick=()=>{var zr;Wn==null||Wn();const{fields:qn,refs:er,include:ir}=Mn,_r=[];if(qn.length!==0||er.length!==0){const vr=new Set(er);for(const wr of qn){const Nr=this._fieldObjects[wr]||[];for(const{id:qr}of Nr)vr.add(qr)}for(const wr of Object.values(this._fieldObjects))for(const Nr of wr)vr.has(Nr.id)===ir&&_r.push(Nr)}else for(const vr of Object.values(this._fieldObjects))_r.push(...vr);const mr=this.annotationStorage,dr=[];for(const vr of _r){const{id:wr}=vr;switch(dr.push(wr),vr.type){case"text":{const qr=vr.defaultValue||"";mr.setValue(wr,{value:qr});break}case"checkbox":case"radiobutton":{const qr=vr.defaultValue===vr.exportValues;mr.setValue(wr,{value:qr});break}case"combobox":case"listbox":{const qr=vr.defaultValue||"";mr.setValue(wr,{value:qr});break}default:continue}const Nr=document.querySelector(`[data-element-id="${wr}"]`);if(Nr){if(!Pt.has(Nr)){(0,_t.warn)(`_bindResetFormAction - element not allowed: ${wr}`);continue}}else continue;Nr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((zr=this.linkService.eventBus)==null||zr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:dr,name:"ResetForm"}})),!1}}}hn=new WeakSet,Qu=function(){this.container.setAttribute("data-internal-link","")},ow=function(mn,Mn){mn.href=this.linkService.getAnchorUrl(""),mn.onclick=()=>(this.linkService.executeSetOCGState(Mn),!1),Xt(this,hn,Qu).call(this)};class Nt extends Lt{constructor(yn){super(yn,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const yn=document.createElement("img");return yn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",yn.alt="[{{type}} Annotation]",yn.dataset.l10nId="text_annotation_type",yn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(yn),this.container}}class $t extends Lt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(yn){var mn;this.data.hasOwnCanvas&&(((mn=yn.previousSibling)==null?void 0:mn.nodeName)==="CANVAS"&&(yn.previousSibling.hidden=!0),yn.hidden=!1)}_getKeyModifier(yn){const{isWin:mn,isMac:Mn}=_t.FeatureTest.platform;return mn&&yn.ctrlKey||Mn&&yn.metaKey}_setEventListener(yn,mn,Mn,Wn,qn){Mn.includes("mouse")?yn.addEventListener(Mn,er=>{var ir;(ir=this.linkService.eventBus)==null||ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Wn,value:qn(er),shift:er.shiftKey,modifier:this._getKeyModifier(er)}})}):yn.addEventListener(Mn,er=>{var ir;if(Mn==="blur"){if(!mn.focused||!er.relatedTarget)return;mn.focused=!1}else if(Mn==="focus"){if(mn.focused)return;mn.focused=!0}qn&&((ir=this.linkService.eventBus)==null||ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Wn,value:qn(er)}}))})}_setEventListeners(yn,mn,Mn,Wn){var qn,er,ir;for(const[_r,mr]of Mn)(mr==="Action"||(qn=this.data.actions)!=null&&qn[mr])&&((mr==="Focus"||mr==="Blur")&&(mn||(mn={focused:!1})),this._setEventListener(yn,mn,_r,mr,Wn),mr==="Focus"&&!((er=this.data.actions)!=null&&er.Blur)?this._setEventListener(yn,mn,"blur","Blur",null):mr==="Blur"&&!((ir=this.data.actions)!=null&&ir.Focus)&&this._setEventListener(yn,mn,"focus","Focus",null))}_setBackgroundColor(yn){const mn=this.data.backgroundColor||null;yn.style.backgroundColor=mn===null?"transparent":_t.Util.makeHexColor(mn[0],mn[1],mn[2])}_setTextStyle(yn){const mn=["left","center","right"],{fontColor:Mn}=this.data.defaultAppearanceData,Wn=this.data.defaultAppearanceData.fontSize||Rt,qn=yn.style;let er;const ir=2,_r=mr=>Math.round(10*mr)/10;if(this.data.multiLine){const mr=Math.abs(this.data.rect[3]-this.data.rect[1]-ir),dr=Math.round(mr/(_t.LINE_FACTOR*Wn))||1,zr=mr/dr;er=Math.min(Wn,_r(zr/_t.LINE_FACTOR))}else{const mr=Math.abs(this.data.rect[3]-this.data.rect[1]-ir);er=Math.min(Wn,_r(mr/_t.LINE_FACTOR))}qn.fontSize=`calc(${er}px * var(--scale-factor))`,qn.color=_t.Util.makeHexColor(Mn[0],Mn[1],Mn[2]),this.data.textAlignment!==null&&(qn.textAlign=mn[this.data.textAlignment])}_setRequired(yn,mn){mn?yn.setAttribute("required",!0):yn.removeAttribute("required"),yn.setAttribute("aria-required",mn)}}class Ot extends $t{constructor(yn){const mn=yn.renderForms||!yn.data.hasAppearance&&!!yn.data.fieldValue;super(yn,{isRenderable:mn})}setPropertyOnSiblings(yn,mn,Mn,Wn){const qn=this.annotationStorage;for(const er of this._getElementsByName(yn.name,yn.id))er.domElement&&(er.domElement[mn]=Mn),qn.setValue(er.id,{[Wn]:Mn})}render(){var Wn,qn;const yn=this.annotationStorage,mn=this.data.id;this.container.classList.add("textWidgetAnnotation");let Mn=null;if(this.renderForms){const er=yn.getValue(mn,{value:this.data.fieldValue});let ir=er.value||"";const _r=yn.getValue(mn,{charLimit:this.data.maxLen}).charLimit;_r&&ir.length>_r&&(ir=ir.slice(0,_r));let mr=er.formattedValue||((Wn=this.data.textContent)==null?void 0:Wn.join(`
`))||null;mr&&this.data.comb&&(mr=mr.replaceAll(/\s+/g,""));const dr={userValue:ir,formattedValue:mr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Mn=document.createElement("textarea"),Mn.textContent=mr??ir,this.data.doNotScroll&&(Mn.style.overflowY="hidden")):(Mn=document.createElement("input"),Mn.type="text",Mn.setAttribute("value",mr??ir),this.data.doNotScroll&&(Mn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Mn.hidden=!0),Pt.add(Mn),Mn.setAttribute("data-element-id",mn),Mn.disabled=this.data.readOnly,Mn.name=this.data.fieldName,Mn.tabIndex=kt,this._setRequired(Mn,this.data.required),_r&&(Mn.maxLength=_r),Mn.addEventListener("input",vr=>{yn.setValue(mn,{value:vr.target.value}),this.setPropertyOnSiblings(Mn,"value",vr.target.value,"value"),dr.formattedValue=null}),Mn.addEventListener("resetform",vr=>{const wr=this.data.defaultFieldValue??"";Mn.value=dr.userValue=wr,dr.formattedValue=null});let zr=vr=>{const{formattedValue:wr}=dr;wr!=null&&(vr.target.value=wr),vr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Mn.addEventListener("focus",wr=>{if(dr.focused)return;const{target:Nr}=wr;dr.userValue&&(Nr.value=dr.userValue),dr.lastCommittedValue=Nr.value,dr.commitKey=1,dr.focused=!0}),Mn.addEventListener("updatefromsandbox",wr=>{this.showElementAndHideCanvas(wr.target);const Nr={value(qr){dr.userValue=qr.detail.value??"",yn.setValue(mn,{value:dr.userValue.toString()}),qr.target.value=dr.userValue},formattedValue(qr){const{formattedValue:ns}=qr.detail;dr.formattedValue=ns,ns!=null&&qr.target!==document.activeElement&&(qr.target.value=ns),yn.setValue(mn,{formattedValue:ns})},selRange(qr){qr.target.setSelectionRange(...qr.detail.selRange)},charLimit:qr=>{var Fs;const{charLimit:ns}=qr.detail,{target:ps}=qr;if(ns===0){ps.removeAttribute("maxLength");return}ps.setAttribute("maxLength",ns);let Hs=dr.userValue;!Hs||Hs.length<=ns||(Hs=Hs.slice(0,ns),ps.value=dr.userValue=Hs,yn.setValue(mn,{value:Hs}),(Fs=this.linkService.eventBus)==null||Fs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mn,name:"Keystroke",value:Hs,willCommit:!0,commitKey:1,selStart:ps.selectionStart,selEnd:ps.selectionEnd}}))}};this._dispatchEventFromSandbox(Nr,wr)}),Mn.addEventListener("keydown",wr=>{var ns;dr.commitKey=1;let Nr=-1;if(wr.key==="Escape"?Nr=0:wr.key==="Enter"&&!this.data.multiLine?Nr=2:wr.key==="Tab"&&(dr.commitKey=3),Nr===-1)return;const{value:qr}=wr.target;dr.lastCommittedValue!==qr&&(dr.lastCommittedValue=qr,dr.userValue=qr,(ns=this.linkService.eventBus)==null||ns.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mn,name:"Keystroke",value:qr,willCommit:!0,commitKey:Nr,selStart:wr.target.selectionStart,selEnd:wr.target.selectionEnd}}))});const vr=zr;zr=null,Mn.addEventListener("blur",wr=>{var qr;if(!dr.focused||!wr.relatedTarget)return;dr.focused=!1;const{value:Nr}=wr.target;dr.userValue=Nr,dr.lastCommittedValue!==Nr&&((qr=this.linkService.eventBus)==null||qr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mn,name:"Keystroke",value:Nr,willCommit:!0,commitKey:dr.commitKey,selStart:wr.target.selectionStart,selEnd:wr.target.selectionEnd}})),vr(wr)}),(qn=this.data.actions)!=null&&qn.Keystroke&&Mn.addEventListener("beforeinput",wr=>{var Yo;dr.lastCommittedValue=null;const{data:Nr,target:qr}=wr,{value:ns,selectionStart:ps,selectionEnd:Hs}=qr;let Fs=ps,Do=Hs;switch(wr.inputType){case"deleteWordBackward":{const Zo=ns.substring(0,ps).match(/\w*[^\w]*$/);Zo&&(Fs-=Zo[0].length);break}case"deleteWordForward":{const Zo=ns.substring(ps).match(/^[^\w]*\w*/);Zo&&(Do+=Zo[0].length);break}case"deleteContentBackward":ps===Hs&&(Fs-=1);break;case"deleteContentForward":ps===Hs&&(Do+=1);break}wr.preventDefault(),(Yo=this.linkService.eventBus)==null||Yo.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mn,name:"Keystroke",value:ns,change:Nr||"",willCommit:!1,selStart:Fs,selEnd:Do}})}),this._setEventListeners(Mn,dr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],wr=>wr.target.value)}if(zr&&Mn.addEventListener("blur",zr),this.data.comb){const wr=(this.data.rect[2]-this.data.rect[0])/_r;Mn.classList.add("comb"),Mn.style.letterSpacing=`calc(${wr}px * var(--scale-factor) - 1ch)`}}else Mn=document.createElement("div"),Mn.textContent=this.data.fieldValue,Mn.style.verticalAlign="middle",Mn.style.display="table-cell";return this._setTextStyle(Mn),this._setBackgroundColor(Mn),this._setDefaultPropertiesFromJS(Mn),this.container.append(Mn),this.container}}class jt extends $t{constructor(yn){super(yn,{isRenderable:!!yn.data.hasOwnCanvas})}}class Ut extends $t{constructor(yn){super(yn,{isRenderable:yn.renderForms})}render(){const yn=this.annotationStorage,mn=this.data,Mn=mn.id;let Wn=yn.getValue(Mn,{value:mn.exportValue===mn.fieldValue}).value;typeof Wn=="string"&&(Wn=Wn!=="Off",yn.setValue(Mn,{value:Wn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const qn=document.createElement("input");return Pt.add(qn),qn.setAttribute("data-element-id",Mn),qn.disabled=mn.readOnly,this._setRequired(qn,this.data.required),qn.type="checkbox",qn.name=mn.fieldName,Wn&&qn.setAttribute("checked",!0),qn.setAttribute("exportValue",mn.exportValue),qn.tabIndex=kt,qn.addEventListener("change",er=>{const{name:ir,checked:_r}=er.target;for(const mr of this._getElementsByName(ir,Mn)){const dr=_r&&mr.exportValue===mn.exportValue;mr.domElement&&(mr.domElement.checked=dr),yn.setValue(mr.id,{value:dr})}yn.setValue(Mn,{value:_r})}),qn.addEventListener("resetform",er=>{const ir=mn.defaultFieldValue||"Off";er.target.checked=ir===mn.exportValue}),this.enableScripting&&this.hasJSActions&&(qn.addEventListener("updatefromsandbox",er=>{const ir={value(_r){_r.target.checked=_r.detail.value!=="Off",yn.setValue(Mn,{value:_r.target.checked})}};this._dispatchEventFromSandbox(ir,er)}),this._setEventListeners(qn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],er=>er.target.checked)),this._setBackgroundColor(qn),this._setDefaultPropertiesFromJS(qn),this.container.append(qn),this.container}}class Bt extends $t{constructor(yn){super(yn,{isRenderable:yn.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const yn=this.annotationStorage,mn=this.data,Mn=mn.id;let Wn=yn.getValue(Mn,{value:mn.fieldValue===mn.buttonValue}).value;typeof Wn=="string"&&(Wn=Wn!==mn.buttonValue,yn.setValue(Mn,{value:Wn}));const qn=document.createElement("input");if(Pt.add(qn),qn.setAttribute("data-element-id",Mn),qn.disabled=mn.readOnly,this._setRequired(qn,this.data.required),qn.type="radio",qn.name=mn.fieldName,Wn&&qn.setAttribute("checked",!0),qn.tabIndex=kt,qn.addEventListener("change",er=>{const{name:ir,checked:_r}=er.target;for(const mr of this._getElementsByName(ir,Mn))yn.setValue(mr.id,{value:!1});yn.setValue(Mn,{value:_r})}),qn.addEventListener("resetform",er=>{const ir=mn.defaultFieldValue;er.target.checked=ir!=null&&ir===mn.buttonValue}),this.enableScripting&&this.hasJSActions){const er=mn.buttonValue;qn.addEventListener("updatefromsandbox",ir=>{const _r={value:mr=>{const dr=er===mr.detail.value;for(const zr of this._getElementsByName(mr.target.name)){const vr=dr&&zr.id===Mn;zr.domElement&&(zr.domElement.checked=vr),yn.setValue(zr.id,{value:vr})}}};this._dispatchEventFromSandbox(_r,ir)}),this._setEventListeners(qn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ir=>ir.target.checked)}return this._setBackgroundColor(qn),this._setDefaultPropertiesFromJS(qn),this.container.append(qn),this.container}}class Vt extends Dt{constructor(yn){super(yn,{ignoreBorder:yn.data.hasAppearance})}render(){const yn=super.render();yn.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(yn.title=this.data.alternativeText);const mn=yn.lastChild;return this.enableScripting&&this.hasJSActions&&mn&&(this._setDefaultPropertiesFromJS(mn),mn.addEventListener("updatefromsandbox",Mn=>{this._dispatchEventFromSandbox({},Mn)})),yn}}class zt extends $t{constructor(yn){super(yn,{isRenderable:yn.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const yn=this.annotationStorage,mn=this.data.id,Mn=yn.getValue(mn,{value:this.data.fieldValue}),Wn=document.createElement("select");Pt.add(Wn),Wn.setAttribute("data-element-id",mn),Wn.disabled=this.data.readOnly,this._setRequired(Wn,this.data.required),Wn.name=this.data.fieldName,Wn.tabIndex=kt;let qn=this.data.combo&&this.data.options.length>0;this.data.combo||(Wn.size=this.data.options.length,this.data.multiSelect&&(Wn.multiple=!0)),Wn.addEventListener("resetform",dr=>{const zr=this.data.defaultFieldValue;for(const vr of Wn.options)vr.selected=vr.value===zr});for(const dr of this.data.options){const zr=document.createElement("option");zr.textContent=dr.displayValue,zr.value=dr.exportValue,Mn.value.includes(dr.exportValue)&&(zr.setAttribute("selected",!0),qn=!1),Wn.append(zr)}let er=null;if(qn){const dr=document.createElement("option");dr.value=" ",dr.setAttribute("hidden",!0),dr.setAttribute("selected",!0),Wn.prepend(dr),er=()=>{dr.remove(),Wn.removeEventListener("input",er),er=null},Wn.addEventListener("input",er)}const ir=dr=>{const zr=dr?"value":"textContent",{options:vr,multiple:wr}=Wn;return wr?Array.prototype.filter.call(vr,Nr=>Nr.selected).map(Nr=>Nr[zr]):vr.selectedIndex===-1?null:vr[vr.selectedIndex][zr]};let _r=ir(!1);const mr=dr=>{const zr=dr.target.options;return Array.prototype.map.call(zr,vr=>({displayValue:vr.textContent,exportValue:vr.value}))};return this.enableScripting&&this.hasJSActions?(Wn.addEventListener("updatefromsandbox",dr=>{const zr={value(vr){er==null||er();const wr=vr.detail.value,Nr=new Set(Array.isArray(wr)?wr:[wr]);for(const qr of Wn.options)qr.selected=Nr.has(qr.value);yn.setValue(mn,{value:ir(!0)}),_r=ir(!1)},multipleSelection(vr){Wn.multiple=!0},remove(vr){const wr=Wn.options,Nr=vr.detail.remove;wr[Nr].selected=!1,Wn.remove(Nr),wr.length>0&&Array.prototype.findIndex.call(wr,ns=>ns.selected)===-1&&(wr[0].selected=!0),yn.setValue(mn,{value:ir(!0),items:mr(vr)}),_r=ir(!1)},clear(vr){for(;Wn.length!==0;)Wn.remove(0);yn.setValue(mn,{value:null,items:[]}),_r=ir(!1)},insert(vr){const{index:wr,displayValue:Nr,exportValue:qr}=vr.detail.insert,ns=Wn.children[wr],ps=document.createElement("option");ps.textContent=Nr,ps.value=qr,ns?ns.before(ps):Wn.append(ps),yn.setValue(mn,{value:ir(!0),items:mr(vr)}),_r=ir(!1)},items(vr){const{items:wr}=vr.detail;for(;Wn.length!==0;)Wn.remove(0);for(const Nr of wr){const{displayValue:qr,exportValue:ns}=Nr,ps=document.createElement("option");ps.textContent=qr,ps.value=ns,Wn.append(ps)}Wn.options.length>0&&(Wn.options[0].selected=!0),yn.setValue(mn,{value:ir(!0),items:mr(vr)}),_r=ir(!1)},indices(vr){const wr=new Set(vr.detail.indices);for(const Nr of vr.target.options)Nr.selected=wr.has(Nr.index);yn.setValue(mn,{value:ir(!0)}),_r=ir(!1)},editable(vr){vr.target.disabled=!vr.detail.editable}};this._dispatchEventFromSandbox(zr,dr)}),Wn.addEventListener("input",dr=>{var vr;const zr=ir(!0);yn.setValue(mn,{value:zr}),dr.preventDefault(),(vr=this.linkService.eventBus)==null||vr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mn,name:"Keystroke",value:_r,changeEx:zr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Wn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],dr=>dr.target.value)):Wn.addEventListener("input",function(dr){yn.setValue(mn,{value:ir(!0)})}),this.data.combo&&this._setTextStyle(Wn),this._setBackgroundColor(Wn),this._setDefaultPropertiesFromJS(Wn),this.container.append(Wn),this.container}}class Gt extends Lt{constructor(yn){const{data:mn,elements:Mn}=yn;super(yn,{isRenderable:Lt._hasPopupData(mn)}),this.elements=Mn}render(){this.container.classList.add("popupAnnotation");const yn=new en({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),mn=[];for(const Mn of this.elements)Mn.popup=yn,mn.push(Mn.data.id),Mn.addHighlightArea();return this.container.setAttribute("aria-controls",mn.map(Mn=>`${_t.AnnotationPrefix}${Mn}`).join(",")),this.container}}class en{constructor({container:yn,color:mn,elements:Mn,titleObj:Wn,modificationDate:qn,contentsObj:er,richText:ir,parent:_r,rect:mr,parentRect:dr,open:zr}){Qt(this,sr);Qt(this,$n,null);Qt(this,Hn,Xt(this,sr,lw).bind(this));Qt(this,On,Xt(this,sr,Xx).bind(this));Qt(this,Xn,Xt(this,sr,Gx).bind(this));Qt(this,Yn,Xt(this,sr,zy).bind(this));Qt(this,Gn,null);Qt(this,Fn,null);Qt(this,Tn,null);Qt(this,dn,null);Qt(this,bn,null);Qt(this,Pn,null);Qt(this,Bn,!1);Qt(this,Kn,null);Qt(this,Qn,null);Qt(this,Vn,null);Qt(this,Rn,null);Qt(this,ar,!1);var wr;qt(this,Fn,yn),qt(this,Rn,Wn),qt(this,Tn,er),qt(this,Vn,ir),qt(this,bn,_r),qt(this,Gn,mn),qt(this,Qn,mr),qt(this,Pn,dr),qt(this,dn,Mn);const vr=xt.PDFDateString.toDateObject(qn);vr&&qt(this,$n,_r.l10n.get("annotation_date_string",{date:vr.toLocaleDateString(),time:vr.toLocaleTimeString()})),this.trigger=Mn.flatMap(Nr=>Nr.getElementsToTriggerPopup());for(const Nr of this.trigger)Nr.addEventListener("click",Ct(this,Yn)),Nr.addEventListener("mouseenter",Ct(this,Xn)),Nr.addEventListener("mouseleave",Ct(this,On)),Nr.classList.add("popupTriggerArea");for(const Nr of Mn)(wr=Nr.container)==null||wr.addEventListener("keydown",Ct(this,Hn));Ct(this,Fn).hidden=!0,zr&&Xt(this,sr,zy).call(this)}render(){if(Ct(this,Kn))return;const{page:{view:yn},viewport:{rawDims:{pageWidth:mn,pageHeight:Mn,pageX:Wn,pageY:qn}}}=Ct(this,bn),er=qt(this,Kn,document.createElement("div"));if(er.className="popup",Ct(this,Gn)){const Fs=er.style.outlineColor=_t.Util.makeHexColor(...Ct(this,Gn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?er.style.backgroundColor=`color-mix(in srgb, ${Fs} 30%, white)`:er.style.backgroundColor=_t.Util.makeHexColor(...Ct(this,Gn).map(Yo=>Math.floor(.7*(255-Yo)+Yo)))}const ir=document.createElement("span");ir.className="header";const _r=document.createElement("h1");if(ir.append(_r),{dir:_r.dir,str:_r.textContent}=Ct(this,Rn),er.append(ir),Ct(this,$n)){const Fs=document.createElement("span");Fs.classList.add("popupDate"),Ct(this,$n).then(Do=>{Fs.textContent=Do}),ir.append(Fs)}const mr=Ct(this,Tn),dr=Ct(this,Vn);if(dr!=null&&dr.str&&(!(mr!=null&&mr.str)||mr.str===dr.str))St.XfaLayer.render({xfaHtml:dr.html,intent:"richText",div:er}),er.lastChild.classList.add("richText","popupContent");else{const Fs=this._formatContents(mr);er.append(Fs)}let zr=!!Ct(this,Pn),vr=zr?Ct(this,Pn):Ct(this,Qn);for(const Fs of Ct(this,dn))if(!vr||_t.Util.intersect(Fs.data.rect,vr)!==null){vr=Fs.data.rect,zr=!0;break}const wr=_t.Util.normalizeRect([vr[0],yn[3]-vr[1]+yn[1],vr[2],yn[3]-vr[3]+yn[1]]),qr=zr?vr[2]-vr[0]+5:0,ns=wr[0]+qr,ps=wr[1],{style:Hs}=Ct(this,Fn);Hs.left=`${100*(ns-Wn)/mn}%`,Hs.top=`${100*(ps-qn)/Mn}%`,Ct(this,Fn).append(er)}_formatContents({str:yn,dir:mn}){const Mn=document.createElement("p");Mn.classList.add("popupContent"),Mn.dir=mn;const Wn=yn.split(/(?:\r\n?|\n)/);for(let qn=0,er=Wn.length;qn<er;++qn){const ir=Wn[qn];Mn.append(document.createTextNode(ir)),qn<er-1&&Mn.append(document.createElement("br"))}return Mn}forceHide(){qt(this,ar,this.isVisible),Ct(this,ar)&&(Ct(this,Fn).hidden=!0)}maybeShow(){Ct(this,ar)&&(qt(this,ar,!1),Ct(this,Fn).hidden=!1)}get isVisible(){return Ct(this,Fn).hidden===!1}}$n=new WeakMap,Hn=new WeakMap,On=new WeakMap,Xn=new WeakMap,Yn=new WeakMap,Gn=new WeakMap,Fn=new WeakMap,Tn=new WeakMap,dn=new WeakMap,bn=new WeakMap,Pn=new WeakMap,Bn=new WeakMap,Kn=new WeakMap,Qn=new WeakMap,Vn=new WeakMap,Rn=new WeakMap,ar=new WeakMap,sr=new WeakSet,lw=function(yn){yn.altKey||yn.shiftKey||yn.ctrlKey||yn.metaKey||(yn.key==="Enter"||yn.key==="Escape"&&Ct(this,Bn))&&Xt(this,sr,zy).call(this)},zy=function(){qt(this,Bn,!Ct(this,Bn)),Ct(this,Bn)?(Xt(this,sr,Gx).call(this),Ct(this,Fn).addEventListener("click",Ct(this,Yn)),Ct(this,Fn).addEventListener("keydown",Ct(this,Hn))):(Xt(this,sr,Xx).call(this),Ct(this,Fn).removeEventListener("click",Ct(this,Yn)),Ct(this,Fn).removeEventListener("keydown",Ct(this,Hn)))},Gx=function(){Ct(this,Kn)||this.render(),this.isVisible?Ct(this,Bn)&&Ct(this,Fn).classList.add("focused"):(Ct(this,Fn).hidden=!1,Ct(this,Fn).style.zIndex=parseInt(Ct(this,Fn).style.zIndex)+1e3)},Xx=function(){Ct(this,Fn).classList.remove("focused"),!(Ct(this,Bn)||!this.isVisible)&&(Ct(this,Fn).hidden=!0,Ct(this,Fn).style.zIndex=parseInt(Ct(this,Fn).style.zIndex)-1e3)};class ln extends Lt{constructor(yn){super(yn,{isRenderable:!0,ignoreBorder:!0}),this.textContent=yn.data.textContent,this.textPosition=yn.data.textPosition,this.annotationEditorType=_t.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const yn=document.createElement("div");yn.classList.add("annotationTextContent"),yn.setAttribute("role","comment");for(const mn of this.textContent){const Mn=document.createElement("span");Mn.textContent=mn,yn.append(Mn)}this.container.append(yn)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}ht.FreeTextAnnotationElement=ln;class Kt extends Lt{constructor(mn){super(mn,{isRenderable:!0,ignoreBorder:!0});Qt(this,Cr,null)}render(){this.container.classList.add("lineAnnotation");const mn=this.data,{width:Mn,height:Wn}=Mt(mn.rect),qn=this.svgFactory.create(Mn,Wn,!0),er=qt(this,Cr,this.svgFactory.createElement("svg:line"));return er.setAttribute("x1",mn.rect[2]-mn.lineCoordinates[0]),er.setAttribute("y1",mn.rect[3]-mn.lineCoordinates[1]),er.setAttribute("x2",mn.rect[2]-mn.lineCoordinates[2]),er.setAttribute("y2",mn.rect[3]-mn.lineCoordinates[3]),er.setAttribute("stroke-width",mn.borderStyle.width||1),er.setAttribute("stroke","transparent"),er.setAttribute("fill","transparent"),qn.append(er),this.container.append(qn),!mn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,Cr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cr=new WeakMap;class on extends Lt{constructor(mn){super(mn,{isRenderable:!0,ignoreBorder:!0});Qt(this,Wr,null)}render(){this.container.classList.add("squareAnnotation");const mn=this.data,{width:Mn,height:Wn}=Mt(mn.rect),qn=this.svgFactory.create(Mn,Wn,!0),er=mn.borderStyle.width,ir=qt(this,Wr,this.svgFactory.createElement("svg:rect"));return ir.setAttribute("x",er/2),ir.setAttribute("y",er/2),ir.setAttribute("width",Mn-er),ir.setAttribute("height",Wn-er),ir.setAttribute("stroke-width",er||1),ir.setAttribute("stroke","transparent"),ir.setAttribute("fill","transparent"),qn.append(ir),this.container.append(qn),!mn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,Wr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wr=new WeakMap;class fn extends Lt{constructor(mn){super(mn,{isRenderable:!0,ignoreBorder:!0});Qt(this,ss,null)}render(){this.container.classList.add("circleAnnotation");const mn=this.data,{width:Mn,height:Wn}=Mt(mn.rect),qn=this.svgFactory.create(Mn,Wn,!0),er=mn.borderStyle.width,ir=qt(this,ss,this.svgFactory.createElement("svg:ellipse"));return ir.setAttribute("cx",Mn/2),ir.setAttribute("cy",Wn/2),ir.setAttribute("rx",Mn/2-er/2),ir.setAttribute("ry",Wn/2-er/2),ir.setAttribute("stroke-width",er||1),ir.setAttribute("stroke","transparent"),ir.setAttribute("fill","transparent"),qn.append(ir),this.container.append(qn),!mn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,ss)}addHighlightArea(){this.container.classList.add("highlightArea")}}ss=new WeakMap;class En extends Lt{constructor(mn){super(mn,{isRenderable:!0,ignoreBorder:!0});Qt(this,Jn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const mn=this.data,{width:Mn,height:Wn}=Mt(mn.rect),qn=this.svgFactory.create(Mn,Wn,!0);let er=[];for(const _r of mn.vertices){const mr=_r.x-mn.rect[0],dr=mn.rect[3]-_r.y;er.push(mr+","+dr)}er=er.join(" ");const ir=qt(this,Jn,this.svgFactory.createElement(this.svgElementName));return ir.setAttribute("points",er),ir.setAttribute("stroke-width",mn.borderStyle.width||1),ir.setAttribute("stroke","transparent"),ir.setAttribute("fill","transparent"),qn.append(ir),this.container.append(qn),!mn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,Jn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jn=new WeakMap;class gn extends En{constructor(yn){super(yn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class wn extends Lt{constructor(yn){super(yn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class pn extends Lt{constructor(mn){super(mn,{isRenderable:!0,ignoreBorder:!0});Qt(this,Dn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=_t.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const mn=this.data,{width:Mn,height:Wn}=Mt(mn.rect),qn=this.svgFactory.create(Mn,Wn,!0);for(const er of mn.inkLists){let ir=[];for(const mr of er){const dr=mr.x-mn.rect[0],zr=mn.rect[3]-mr.y;ir.push(`${dr},${zr}`)}ir=ir.join(" ");const _r=this.svgFactory.createElement(this.svgElementName);Ct(this,Dn).push(_r),_r.setAttribute("points",ir),_r.setAttribute("stroke-width",mn.borderStyle.width||1),_r.setAttribute("stroke","transparent"),_r.setAttribute("fill","transparent"),!mn.popupRef&&this.hasPopupData&&this._createPopup(),qn.append(_r)}return this.container.append(qn),this.container}getElementsToTriggerPopup(){return Ct(this,Dn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dn=new WeakMap,ht.InkAnnotationElement=pn;class sn extends Lt{constructor(yn){super(yn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Jt extends Lt{constructor(yn){super(yn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class an extends Lt{constructor(yn){super(yn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class vn extends Lt{constructor(yn){super(yn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class tn extends Lt{constructor(yn){super(yn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}ht.StampAnnotationElement=tn;class Ht extends Lt{constructor(mn){var qn;super(mn,{isRenderable:!0});Qt(this,pr);Qt(this,Nn,null);const{filename:Mn,content:Wn}=this.data.file;this.filename=(0,xt.getFilenameFromUrl)(Mn,!0),this.content=Wn,(qn=this.linkService.eventBus)==null||qn.dispatch("fileattachmentannotation",{source:this,filename:Mn,content:Wn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:mn,data:Mn}=this;let Wn;Mn.hasAppearance||Mn.fillAlpha===0?Wn=document.createElement("div"):(Wn=document.createElement("img"),Wn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Mn.name)?"paperclip":"pushpin"}.svg`,Mn.fillAlpha&&Mn.fillAlpha<1&&(Wn.style=`filter: opacity(${Math.round(Mn.fillAlpha*100)}%);`)),Wn.addEventListener("dblclick",Xt(this,pr,qx).bind(this)),qt(this,Nn,Wn);const{isMac:qn}=_t.FeatureTest.platform;return mn.addEventListener("keydown",er=>{er.key==="Enter"&&(qn?er.metaKey:er.ctrlKey)&&Xt(this,pr,qx).call(this)}),!Mn.popupRef&&this.hasPopupData?this._createPopup():Wn.classList.add("popupTriggerArea"),mn.append(Wn),mn}getElementsToTriggerPopup(){return Ct(this,Nn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nn=new WeakMap,pr=new WeakSet,qx=function(){var mn;(mn=this.downloadManager)==null||mn.openOrDownloadData(this.container,this.content,this.filename)};class Wt{constructor({div:yn,accessibilityManager:mn,annotationCanvasMap:Mn,l10n:Wn,page:qn,viewport:er}){Qt(this,cr);Qt(this,Fr,null);Qt(this,_n,null);Qt(this,Zn,new Map);this.div=yn,qt(this,Fr,mn),qt(this,_n,Mn),this.l10n=Wn,this.page=qn,this.viewport=er,this.zIndex=0,this.l10n||(this.l10n=At.NullL10n)}async render(yn){const{annotations:mn}=yn,Mn=this.div;(0,xt.setLayerDimensions)(Mn,this.viewport);const Wn=new Map,qn={data:null,layer:Mn,linkService:yn.linkService,downloadManager:yn.downloadManager,imageResourcesPath:yn.imageResourcesPath||"",renderForms:yn.renderForms!==!1,svgFactory:new xt.DOMSVGFactory,annotationStorage:yn.annotationStorage||new Et.AnnotationStorage,enableScripting:yn.enableScripting===!0,hasJSActions:yn.hasJSActions,fieldObjects:yn.fieldObjects,parent:this,elements:null};for(const er of mn){if(er.noHTML)continue;const ir=er.annotationType===_t.AnnotationType.POPUP;if(ir){const dr=Wn.get(er.id);if(!dr)continue;qn.elements=dr}else{const{width:dr,height:zr}=Mt(er.rect);if(dr<=0||zr<=0)continue}qn.data=er;const _r=Ft.create(qn);if(!_r.isRenderable)continue;if(!ir&&er.popupRef){const dr=Wn.get(er.popupRef);dr?dr.push(_r):Wn.set(er.popupRef,[_r])}_r.annotationEditorType>0&&Ct(this,Zn).set(_r.data.id,_r);const mr=_r.render();er.hidden&&(mr.style.visibility="hidden"),Xt(this,cr,cw).call(this,mr,er.id)}Xt(this,cr,Kx).call(this),await this.l10n.translate(Mn)}update({viewport:yn}){const mn=this.div;this.viewport=yn,(0,xt.setLayerDimensions)(mn,{rotation:yn.rotation}),Xt(this,cr,Kx).call(this),mn.hidden=!1}getEditableAnnotations(){return Array.from(Ct(this,Zn).values())}getEditableAnnotation(yn){return Ct(this,Zn).get(yn)}}Fr=new WeakMap,_n=new WeakMap,Zn=new WeakMap,cr=new WeakSet,cw=function(yn,mn){var Wn;const Mn=yn.firstChild||yn;Mn.id=`${_t.AnnotationPrefix}${mn}`,this.div.append(yn),(Wn=Ct(this,Fr))==null||Wn.moveElementInDOM(this.div,yn,Mn,!1)},Kx=function(){if(!Ct(this,_n))return;const yn=this.div;for(const[mn,Mn]of Ct(this,_n)){const Wn=yn.querySelector(`[data-annotation-id="${mn}"]`);if(!Wn)continue;const{firstChild:qn}=Wn;qn?qn.nodeName==="CANVAS"?qn.replaceWith(Mn):qn.before(Mn):Wn.append(Mn)}Ct(this,_n).clear()},ht.AnnotationLayer=Wt},(vt,ht)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.ColorConverters=void 0;function bt(Et){return Math.floor(Math.max(0,Math.min(1,Et))*255).toString(16).padStart(2,"0")}function _t(Et){return Math.max(0,Math.min(255,255*Et))}class xt{static CMYK_G([wt,At,St,kt]){return["G",1-Math.min(1,.3*wt+.59*St+.11*At+kt)]}static G_CMYK([wt]){return["CMYK",0,0,0,1-wt]}static G_RGB([wt]){return["RGB",wt,wt,wt]}static G_rgb([wt]){return wt=_t(wt),[wt,wt,wt]}static G_HTML([wt]){const At=bt(wt);return`#${At}${At}${At}`}static RGB_G([wt,At,St]){return["G",.3*wt+.59*At+.11*St]}static RGB_rgb(wt){return wt.map(_t)}static RGB_HTML(wt){return`#${wt.map(bt).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([wt,At,St,kt]){return["RGB",1-Math.min(1,wt+kt),1-Math.min(1,St+kt),1-Math.min(1,At+kt)]}static CMYK_rgb([wt,At,St,kt]){return[_t(1-Math.min(1,wt+kt)),_t(1-Math.min(1,St+kt)),_t(1-Math.min(1,At+kt))]}static CMYK_HTML(wt){const At=this.CMYK_RGB(wt).slice(1);return this.RGB_HTML(At)}static RGB_CMYK([wt,At,St]){const kt=1-wt,Rt=1-At,Pt=1-St,Mt=Math.min(kt,Rt,Pt);return["CMYK",kt,Rt,Pt,Mt]}}ht.ColorConverters=xt},(vt,ht)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.NullL10n=void 0,ht.getL10nFallback=_t;const bt={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};bt.print_progress_percent="{{progress}}%";function _t(wt,At){switch(wt){case"find_match_count":wt=`find_match_count[${At.total===1?"one":"other"}]`;break;case"find_match_count_limit":wt=`find_match_count_limit[${At.limit===1?"one":"other"}]`;break}return bt[wt]||""}function xt(wt,At){return At?wt.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(St,kt)=>kt in At?At[kt]:"{{"+kt+"}}"):wt}const Et={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(wt,At=null,St=_t(wt,At)){return xt(St,At)},async translate(wt){}};ht.NullL10n=Et},(vt,ht,bt)=>{Object.defineProperty(ht,"__esModule",{value:!0}),ht.XfaLayer=void 0;var _t=bt(25);class xt{static setupStorage(wt,At,St,kt,Rt){const Pt=kt.getValue(At,{value:null});switch(St.name){case"textarea":if(Pt.value!==null&&(wt.textContent=Pt.value),Rt==="print")break;wt.addEventListener("input",Mt=>{kt.setValue(At,{value:Mt.target.value})});break;case"input":if(St.attributes.type==="radio"||St.attributes.type==="checkbox"){if(Pt.value===St.attributes.xfaOn?wt.setAttribute("checked",!0):Pt.value===St.attributes.xfaOff&&wt.removeAttribute("checked"),Rt==="print")break;wt.addEventListener("change",Mt=>{kt.setValue(At,{value:Mt.target.checked?Mt.target.getAttribute("xfaOn"):Mt.target.getAttribute("xfaOff")})})}else{if(Pt.value!==null&&wt.setAttribute("value",Pt.value),Rt==="print")break;wt.addEventListener("input",Mt=>{kt.setValue(At,{value:Mt.target.value})})}break;case"select":if(Pt.value!==null){wt.setAttribute("value",Pt.value);for(const Mt of St.children)Mt.attributes.value===Pt.value?Mt.attributes.selected=!0:Mt.attributes.hasOwnProperty("selected")&&delete Mt.attributes.selected}wt.addEventListener("input",Mt=>{const Ft=Mt.target.options,Lt=Ft.selectedIndex===-1?"":Ft[Ft.selectedIndex].value;kt.setValue(At,{value:Lt})});break}}static setAttributes({html:wt,element:At,storage:St=null,intent:kt,linkService:Rt}){const{attributes:Pt}=At,Mt=wt instanceof HTMLAnchorElement;Pt.type==="radio"&&(Pt.name=`${Pt.name}-${kt}`);for(const[Ft,Lt]of Object.entries(Pt))if(Lt!=null)switch(Ft){case"class":Lt.length&&wt.setAttribute(Ft,Lt.join(" "));break;case"dataId":break;case"id":wt.setAttribute("data-element-id",Lt);break;case"style":Object.assign(wt.style,Lt);break;case"textContent":wt.textContent=Lt;break;default:(!Mt||Ft!=="href"&&Ft!=="newWindow")&&wt.setAttribute(Ft,Lt)}Mt&&Rt.addLinkAttributes(wt,Pt.href,Pt.newWindow),St&&Pt.dataId&&this.setupStorage(wt,Pt.dataId,At,St)}static render(wt){var Dt;const At=wt.annotationStorage,St=wt.linkService,kt=wt.xfaHtml,Rt=wt.intent||"display",Pt=document.createElement(kt.name);kt.attributes&&this.setAttributes({html:Pt,element:kt,intent:Rt,linkService:St});const Mt=[[kt,-1,Pt]],Ft=wt.div;if(Ft.append(Pt),wt.viewport){const Nt=`matrix(${wt.viewport.transform.join(",")})`;Ft.style.transform=Nt}Rt!=="richText"&&Ft.setAttribute("class","xfaLayer xfaFont");const Lt=[];for(;Mt.length>0;){const[Nt,$t,Ot]=Mt.at(-1);if($t+1===Nt.children.length){Mt.pop();continue}const jt=Nt.children[++Mt.at(-1)[1]];if(jt===null)continue;const{name:Ut}=jt;if(Ut==="#text"){const Vt=document.createTextNode(jt.value);Lt.push(Vt),Ot.append(Vt);continue}const Bt=(Dt=jt==null?void 0:jt.attributes)!=null&&Dt.xmlns?document.createElementNS(jt.attributes.xmlns,Ut):document.createElement(Ut);if(Ot.append(Bt),jt.attributes&&this.setAttributes({html:Bt,element:jt,storage:At,intent:Rt,linkService:St}),jt.children&&jt.children.length>0)Mt.push([jt,-1,Bt]);else if(jt.value){const Vt=document.createTextNode(jt.value);_t.XfaText.shouldBuildText(Ut)&&Lt.push(Vt),Bt.append(Vt)}}for(const Nt of Ft.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Nt.setAttribute("readOnly",!0);return{textDivs:Lt}}static update(wt){const At=`matrix(${wt.viewport.transform.join(",")})`;wt.div.style.transform=At,wt.div.hidden=!1}}ht.XfaLayer=xt},(vt,ht,bt)=>{var kt,Rt,Pt,Mt,Ft,Lt,Dt,Nt,$t,Ot,jt,Ut,Bt,Vt,zt,uw,dw,hw,fw,Yx,pw,Zx,gw,mw,vw,yw,bw,Nl,Qx,Vy,Wy,am,Jx,Gy,hn,_w,e1,xw,Ew,t1,Xy,om;Object.defineProperty(ht,"__esModule",{value:!0}),ht.InkEditor=void 0;var _t=bt(1),xt=bt(4),Et=bt(29),wt=bt(6),At=bt(5);const Gn=class Gn extends xt.AnnotationEditor{constructor(dn){super({...dn,name:"inkEditor"});Qt(this,zt);Qt(this,kt,0);Qt(this,Rt,0);Qt(this,Pt,this.canvasPointermove.bind(this));Qt(this,Mt,this.canvasPointerleave.bind(this));Qt(this,Ft,this.canvasPointerup.bind(this));Qt(this,Lt,this.canvasPointerdown.bind(this));Qt(this,Dt,new Path2D);Qt(this,Nt,!1);Qt(this,$t,!1);Qt(this,Ot,!1);Qt(this,jt,null);Qt(this,Ut,0);Qt(this,Bt,0);Qt(this,Vt,null);this.color=dn.color||null,this.thickness=dn.thickness||null,this.opacity=dn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(dn){xt.AnnotationEditor.initialize(dn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(dn,bn){switch(dn){case _t.AnnotationEditorParamsType.INK_THICKNESS:Gn._defaultThickness=bn;break;case _t.AnnotationEditorParamsType.INK_COLOR:Gn._defaultColor=bn;break;case _t.AnnotationEditorParamsType.INK_OPACITY:Gn._defaultOpacity=bn/100;break}}updateParams(dn,bn){switch(dn){case _t.AnnotationEditorParamsType.INK_THICKNESS:Xt(this,zt,uw).call(this,bn);break;case _t.AnnotationEditorParamsType.INK_COLOR:Xt(this,zt,dw).call(this,bn);break;case _t.AnnotationEditorParamsType.INK_OPACITY:Xt(this,zt,hw).call(this,bn);break}}static get defaultPropertiesToUpdate(){return[[_t.AnnotationEditorParamsType.INK_THICKNESS,Gn._defaultThickness],[_t.AnnotationEditorParamsType.INK_COLOR,Gn._defaultColor||xt.AnnotationEditor._defaultLineColor],[_t.AnnotationEditorParamsType.INK_OPACITY,Math.round(Gn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[_t.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Gn._defaultThickness],[_t.AnnotationEditorParamsType.INK_COLOR,this.color||Gn._defaultColor||xt.AnnotationEditor._defaultLineColor],[_t.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Gn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Xt(this,zt,Vy).call(this),Xt(this,zt,Wy).call(this)),this.isAttachedToDOM||(this.parent.add(this),Xt(this,zt,am).call(this)),Xt(this,zt,om).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Ct(this,jt).disconnect(),qt(this,jt,null),super.remove())}setParent(dn){!this.parent&&dn?this._uiManager.removeShouldRescale(this):this.parent&&dn===null&&this._uiManager.addShouldRescale(this),super.setParent(dn)}onScaleChanging(){const[dn,bn]=this.parentDimensions,Pn=this.width*dn,Bn=this.height*bn;this.setDimensions(Pn,Bn)}enableEditMode(){Ct(this,Nt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Ct(this,Lt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Ct(this,Lt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Ct(this,Nt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),qt(this,Nt,!0),this.div.classList.add("disabled"),Xt(this,zt,om).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(dn){this._focusEventsAllowed&&(super.focusin(dn),this.enableEditMode())}canvasPointerdown(dn){dn.button!==0||!this.isInEditMode()||Ct(this,Nt)||(this.setInForeground(),dn.preventDefault(),dn.type!=="mouse"&&this.div.focus(),Xt(this,zt,pw).call(this,dn.offsetX,dn.offsetY))}canvasPointermove(dn){dn.preventDefault(),Xt(this,zt,Zx).call(this,dn.offsetX,dn.offsetY)}canvasPointerup(dn){dn.preventDefault(),Xt(this,zt,Qx).call(this,dn)}canvasPointerleave(dn){Xt(this,zt,Qx).call(this,dn)}get isResizable(){return!this.isEmpty()&&Ct(this,Nt)}render(){if(this.div)return this.div;let dn,bn;this.width&&(dn=this.x,bn=this.y),super.render(),xt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Vn=>{var Rn;return(Rn=this.div)==null?void 0:Rn.setAttribute("aria-label",Vn)});const[Pn,Bn,Kn,Qn]=Xt(this,zt,fw).call(this);if(this.setAt(Pn,Bn,0,0),this.setDims(Kn,Qn),Xt(this,zt,Vy).call(this),this.width){const[Vn,Rn]=this.parentDimensions;this.setAspectRatio(this.width*Vn,this.height*Rn),this.setAt(dn*Vn,bn*Rn,this.width*Vn,this.height*Rn),qt(this,Ot,!0),Xt(this,zt,am).call(this),this.setDims(this.width*Vn,this.height*Rn),Xt(this,zt,Nl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Xt(this,zt,Wy).call(this),this.div}setDimensions(dn,bn){const Pn=Math.round(dn),Bn=Math.round(bn);if(Ct(this,Ut)===Pn&&Ct(this,Bt)===Bn)return;qt(this,Ut,Pn),qt(this,Bt,Bn),this.canvas.style.visibility="hidden";const[Kn,Qn]=this.parentDimensions;this.width=dn/Kn,this.height=bn/Qn,this.fixAndSetPosition(),Ct(this,Nt)&&Xt(this,zt,Jx).call(this,dn,bn),Xt(this,zt,am).call(this),Xt(this,zt,Nl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(dn,bn,Pn){var Cr,Wr,ss;if(dn instanceof Et.InkAnnotationElement)return null;const Bn=super.deserialize(dn,bn,Pn);Bn.thickness=dn.thickness,Bn.color=_t.Util.makeHexColor(...dn.color),Bn.opacity=dn.opacity;const[Kn,Qn]=Bn.pageDimensions,Vn=Bn.width*Kn,Rn=Bn.height*Qn,ar=Bn.parentScale,sr=dn.thickness/2;qt(Bn,Nt,!0),qt(Bn,Ut,Math.round(Vn)),qt(Bn,Bt,Math.round(Rn));const{paths:Mr,rect:Lr,rotation:Qr}=dn;for(let{bezier:Jn}of Mr){Jn=Xt(Cr=Gn,hn,xw).call(Cr,Jn,Lr,Qr);const Dn=[];Bn.paths.push(Dn);let Nn=ar*(Jn[0]-sr),pr=ar*(Jn[1]-sr);for(let Fr=2,_n=Jn.length;Fr<_n;Fr+=6){const Zn=ar*(Jn[Fr]-sr),cr=ar*(Jn[Fr+1]-sr),br=ar*(Jn[Fr+2]-sr),Er=ar*(Jn[Fr+3]-sr),fr=ar*(Jn[Fr+4]-sr),yn=ar*(Jn[Fr+5]-sr);Dn.push([[Nn,pr],[Zn,cr],[br,Er],[fr,yn]]),Nn=fr,pr=yn}const yr=Xt(this,hn,_w).call(this,Dn);Bn.bezierPath2D.push(yr)}const gr=Xt(Wr=Bn,zt,t1).call(Wr);return qt(Bn,Rt,Math.max(xt.AnnotationEditor.MIN_SIZE,gr[2]-gr[0])),qt(Bn,kt,Math.max(xt.AnnotationEditor.MIN_SIZE,gr[3]-gr[1])),Xt(ss=Bn,zt,Jx).call(ss,Vn,Rn),Bn}serialize(){if(this.isEmpty())return null;const dn=this.getRect(0,0),bn=xt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_t.AnnotationEditorType.INK,color:bn,thickness:this.thickness,opacity:this.opacity,paths:Xt(this,zt,Ew).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,dn),pageIndex:this.pageIndex,rect:dn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};kt=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,Dt=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Ot=new WeakMap,jt=new WeakMap,Ut=new WeakMap,Bt=new WeakMap,Vt=new WeakMap,zt=new WeakSet,uw=function(dn){const bn=this.thickness;this.addCommands({cmd:()=>{this.thickness=dn,Xt(this,zt,om).call(this)},undo:()=>{this.thickness=bn,Xt(this,zt,om).call(this)},mustExec:!0,type:_t.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},dw=function(dn){const bn=this.color;this.addCommands({cmd:()=>{this.color=dn,Xt(this,zt,Nl).call(this)},undo:()=>{this.color=bn,Xt(this,zt,Nl).call(this)},mustExec:!0,type:_t.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},hw=function(dn){dn/=100;const bn=this.opacity;this.addCommands({cmd:()=>{this.opacity=dn,Xt(this,zt,Nl).call(this)},undo:()=>{this.opacity=bn,Xt(this,zt,Nl).call(this)},mustExec:!0,type:_t.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},fw=function(){const{parentRotation:dn,parentDimensions:[bn,Pn]}=this;switch(dn){case 90:return[0,Pn,Pn,bn];case 180:return[bn,Pn,bn,Pn];case 270:return[bn,0,Pn,bn];default:return[0,0,bn,Pn]}},Yx=function(){const{ctx:dn,color:bn,opacity:Pn,thickness:Bn,parentScale:Kn,scaleFactor:Qn}=this;dn.lineWidth=Bn*Kn/Qn,dn.lineCap="round",dn.lineJoin="round",dn.miterLimit=10,dn.strokeStyle=`${bn}${(0,At.opacityToHex)(Pn)}`},pw=function(dn,bn){this.canvas.addEventListener("contextmenu",wt.noContextMenu),this.canvas.addEventListener("pointerleave",Ct(this,Mt)),this.canvas.addEventListener("pointermove",Ct(this,Pt)),this.canvas.addEventListener("pointerup",Ct(this,Ft)),this.canvas.removeEventListener("pointerdown",Ct(this,Lt)),this.isEditing=!0,Ct(this,Ot)||(qt(this,Ot,!0),Xt(this,zt,am).call(this),this.thickness||(this.thickness=Gn._defaultThickness),this.color||(this.color=Gn._defaultColor||xt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Gn._defaultOpacity)),this.currentPath.push([dn,bn]),qt(this,$t,!1),Xt(this,zt,Yx).call(this),qt(this,Vt,()=>{Xt(this,zt,vw).call(this),Ct(this,Vt)&&window.requestAnimationFrame(Ct(this,Vt))}),window.requestAnimationFrame(Ct(this,Vt))},Zx=function(dn,bn){const[Pn,Bn]=this.currentPath.at(-1);if(this.currentPath.length>1&&dn===Pn&&bn===Bn)return;const Kn=this.currentPath;let Qn=Ct(this,Dt);if(Kn.push([dn,bn]),qt(this,$t,!0),Kn.length<=2){Qn.moveTo(...Kn[0]),Qn.lineTo(dn,bn);return}Kn.length===3&&(qt(this,Dt,Qn=new Path2D),Qn.moveTo(...Kn[0])),Xt(this,zt,yw).call(this,Qn,...Kn.at(-3),...Kn.at(-2),dn,bn)},gw=function(){if(this.currentPath.length===0)return;const dn=this.currentPath.at(-1);Ct(this,Dt).lineTo(...dn)},mw=function(dn,bn){qt(this,Vt,null),dn=Math.min(Math.max(dn,0),this.canvas.width),bn=Math.min(Math.max(bn,0),this.canvas.height),Xt(this,zt,Zx).call(this,dn,bn),Xt(this,zt,gw).call(this);let Pn;if(this.currentPath.length!==1)Pn=Xt(this,zt,bw).call(this);else{const Rn=[dn,bn];Pn=[[Rn,Rn.slice(),Rn.slice(),Rn]]}const Bn=Ct(this,Dt),Kn=this.currentPath;this.currentPath=[],qt(this,Dt,new Path2D);const Qn=()=>{this.allRawPaths.push(Kn),this.paths.push(Pn),this.bezierPath2D.push(Bn),this.rebuild()},Vn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Xt(this,zt,Vy).call(this),Xt(this,zt,Wy).call(this)),Xt(this,zt,om).call(this))};this.addCommands({cmd:Qn,undo:Vn,mustExec:!0})},vw=function(){if(!Ct(this,$t))return;qt(this,$t,!1);const dn=Math.ceil(this.thickness*this.parentScale),bn=this.currentPath.slice(-3),Pn=bn.map(Qn=>Qn[0]),Bn=bn.map(Qn=>Qn[1]);Math.min(...Pn)-dn,Math.max(...Pn)+dn,Math.min(...Bn)-dn,Math.max(...Bn)+dn;const{ctx:Kn}=this;Kn.save(),Kn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Qn of this.bezierPath2D)Kn.stroke(Qn);Kn.stroke(Ct(this,Dt)),Kn.restore()},yw=function(dn,bn,Pn,Bn,Kn,Qn,Vn){const Rn=(bn+Bn)/2,ar=(Pn+Kn)/2,sr=(Bn+Qn)/2,Mr=(Kn+Vn)/2;dn.bezierCurveTo(Rn+2*(Bn-Rn)/3,ar+2*(Kn-ar)/3,sr+2*(Bn-sr)/3,Mr+2*(Kn-Mr)/3,sr,Mr)},bw=function(){const dn=this.currentPath;if(dn.length<=2)return[[dn[0],dn[0],dn.at(-1),dn.at(-1)]];const bn=[];let Pn,[Bn,Kn]=dn[0];for(Pn=1;Pn<dn.length-2;Pn++){const[Lr,Qr]=dn[Pn],[gr,Cr]=dn[Pn+1],Wr=(Lr+gr)/2,ss=(Qr+Cr)/2,Jn=[Bn+2*(Lr-Bn)/3,Kn+2*(Qr-Kn)/3],Dn=[Wr+2*(Lr-Wr)/3,ss+2*(Qr-ss)/3];bn.push([[Bn,Kn],Jn,Dn,[Wr,ss]]),[Bn,Kn]=[Wr,ss]}const[Qn,Vn]=dn[Pn],[Rn,ar]=dn[Pn+1],sr=[Bn+2*(Qn-Bn)/3,Kn+2*(Vn-Kn)/3],Mr=[Rn+2*(Qn-Rn)/3,ar+2*(Vn-ar)/3];return bn.push([[Bn,Kn],sr,Mr,[Rn,ar]]),bn},Nl=function(){if(this.isEmpty()){Xt(this,zt,Gy).call(this);return}Xt(this,zt,Yx).call(this);const{canvas:dn,ctx:bn}=this;bn.setTransform(1,0,0,1,0,0),bn.clearRect(0,0,dn.width,dn.height),Xt(this,zt,Gy).call(this);for(const Pn of this.bezierPath2D)bn.stroke(Pn)},Qx=function(dn){this.canvas.removeEventListener("pointerleave",Ct(this,Mt)),this.canvas.removeEventListener("pointermove",Ct(this,Pt)),this.canvas.removeEventListener("pointerup",Ct(this,Ft)),this.canvas.addEventListener("pointerdown",Ct(this,Lt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",wt.noContextMenu)},10),Xt(this,zt,mw).call(this,dn.offsetX,dn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Vy=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",xt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(dn=>{var bn;return(bn=this.canvas)==null?void 0:bn.setAttribute("aria-label",dn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Wy=function(){qt(this,jt,new ResizeObserver(dn=>{const bn=dn[0].contentRect;bn.width&&bn.height&&this.setDimensions(bn.width,bn.height)})),Ct(this,jt).observe(this.div)},am=function(){if(!Ct(this,Ot))return;const[dn,bn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*dn),this.canvas.height=Math.ceil(this.height*bn),Xt(this,zt,Gy).call(this)},Jx=function(dn,bn){const Pn=Xt(this,zt,Xy).call(this),Bn=(dn-Pn)/Ct(this,Rt),Kn=(bn-Pn)/Ct(this,kt);this.scaleFactor=Math.min(Bn,Kn)},Gy=function(){const dn=Xt(this,zt,Xy).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+dn,this.translationY*this.scaleFactor+dn)},hn=new WeakSet,_w=function(dn){const bn=new Path2D;for(let Pn=0,Bn=dn.length;Pn<Bn;Pn++){const[Kn,Qn,Vn,Rn]=dn[Pn];Pn===0&&bn.moveTo(...Kn),bn.bezierCurveTo(Qn[0],Qn[1],Vn[0],Vn[1],Rn[0],Rn[1])}return bn},e1=function(dn,bn,Pn){const[Bn,Kn,Qn,Vn]=bn;switch(Pn){case 0:for(let Rn=0,ar=dn.length;Rn<ar;Rn+=2)dn[Rn]+=Bn,dn[Rn+1]=Vn-dn[Rn+1];break;case 90:for(let Rn=0,ar=dn.length;Rn<ar;Rn+=2){const sr=dn[Rn];dn[Rn]=dn[Rn+1]+Bn,dn[Rn+1]=sr+Kn}break;case 180:for(let Rn=0,ar=dn.length;Rn<ar;Rn+=2)dn[Rn]=Qn-dn[Rn],dn[Rn+1]+=Kn;break;case 270:for(let Rn=0,ar=dn.length;Rn<ar;Rn+=2){const sr=dn[Rn];dn[Rn]=Qn-dn[Rn+1],dn[Rn+1]=Vn-sr}break;default:throw new Error("Invalid rotation")}return dn},xw=function(dn,bn,Pn){const[Bn,Kn,Qn,Vn]=bn;switch(Pn){case 0:for(let Rn=0,ar=dn.length;Rn<ar;Rn+=2)dn[Rn]-=Bn,dn[Rn+1]=Vn-dn[Rn+1];break;case 90:for(let Rn=0,ar=dn.length;Rn<ar;Rn+=2){const sr=dn[Rn];dn[Rn]=dn[Rn+1]-Kn,dn[Rn+1]=sr-Bn}break;case 180:for(let Rn=0,ar=dn.length;Rn<ar;Rn+=2)dn[Rn]=Qn-dn[Rn],dn[Rn+1]-=Kn;break;case 270:for(let Rn=0,ar=dn.length;Rn<ar;Rn+=2){const sr=dn[Rn];dn[Rn]=Vn-dn[Rn+1],dn[Rn+1]=Qn-sr}break;default:throw new Error("Invalid rotation")}return dn},Ew=function(dn,bn,Pn,Bn){var ar,sr;const Kn=[],Qn=this.thickness/2,Vn=dn*bn+Qn,Rn=dn*Pn+Qn;for(const Mr of this.paths){const Lr=[],Qr=[];for(let gr=0,Cr=Mr.length;gr<Cr;gr++){const[Wr,ss,Jn,Dn]=Mr[gr],Nn=dn*Wr[0]+Vn,pr=dn*Wr[1]+Rn,yr=dn*ss[0]+Vn,Fr=dn*ss[1]+Rn,_n=dn*Jn[0]+Vn,Zn=dn*Jn[1]+Rn,cr=dn*Dn[0]+Vn,br=dn*Dn[1]+Rn;gr===0&&(Lr.push(Nn,pr),Qr.push(Nn,pr)),Lr.push(yr,Fr,_n,Zn,cr,br),Qr.push(yr,Fr),gr===Cr-1&&Qr.push(cr,br)}Kn.push({bezier:Xt(ar=Gn,hn,e1).call(ar,Lr,Bn,this.rotation),points:Xt(sr=Gn,hn,e1).call(sr,Qr,Bn,this.rotation)})}return Kn},t1=function(){let dn=1/0,bn=-1/0,Pn=1/0,Bn=-1/0;for(const Kn of this.paths)for(const[Qn,Vn,Rn,ar]of Kn){const sr=_t.Util.bezierBoundingBox(...Qn,...Vn,...Rn,...ar);dn=Math.min(dn,sr[0]),Pn=Math.min(Pn,sr[1]),bn=Math.max(bn,sr[2]),Bn=Math.max(Bn,sr[3])}return[dn,Pn,bn,Bn]},Xy=function(){return Ct(this,Nt)?Math.ceil(this.thickness*this.parentScale):0},om=function(dn=!1){if(this.isEmpty())return;if(!Ct(this,Nt)){Xt(this,zt,Nl).call(this);return}const bn=Xt(this,zt,t1).call(this),Pn=Xt(this,zt,Xy).call(this);qt(this,Rt,Math.max(xt.AnnotationEditor.MIN_SIZE,bn[2]-bn[0])),qt(this,kt,Math.max(xt.AnnotationEditor.MIN_SIZE,bn[3]-bn[1]));const Bn=Math.ceil(Pn+Ct(this,Rt)*this.scaleFactor),Kn=Math.ceil(Pn+Ct(this,kt)*this.scaleFactor),[Qn,Vn]=this.parentDimensions;this.width=Bn/Qn,this.height=Kn/Vn,this.setAspectRatio(Bn,Kn);const Rn=this.translationX,ar=this.translationY;this.translationX=-bn[0],this.translationY=-bn[1],Xt(this,zt,am).call(this),Xt(this,zt,Nl).call(this),qt(this,Ut,Bn),qt(this,Bt,Kn),this.setDims(Bn,Kn);const sr=dn?Pn/this.scaleFactor/2:0;this.translate(Rn-this.translationX-sr,ar-this.translationY-sr)},Qt(Gn,hn),Tr(Gn,"_defaultColor",null),Tr(Gn,"_defaultOpacity",1),Tr(Gn,"_defaultThickness",1),Tr(Gn,"_type","ink");let St=Gn;ht.InkEditor=St},(vt,ht,bt)=>{var St,kt,Rt,Pt,Mt,Ft,Lt,Dt,Nt,$t,Ot,E0,w0,qy,n1,ww,Aw,r1,Ky,Sw;Object.defineProperty(ht,"__esModule",{value:!0}),ht.StampEditor=void 0;var _t=bt(1),xt=bt(4),Et=bt(6),wt=bt(29);const on=class on extends xt.AnnotationEditor{constructor(gn){super({...gn,name:"stampEditor"});Qt(this,Ot);Qt(this,St,null);Qt(this,kt,null);Qt(this,Rt,null);Qt(this,Pt,null);Qt(this,Mt,null);Qt(this,Ft,null);Qt(this,Lt,null);Qt(this,Dt,null);Qt(this,Nt,!1);Qt(this,$t,!1);qt(this,Pt,gn.bitmapUrl),qt(this,Mt,gn.bitmapFile)}static initialize(gn){xt.AnnotationEditor.initialize(gn)}static get supportedTypes(){const gn=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,_t.shadow)(this,"supportedTypes",gn.map(wn=>`image/${wn}`))}static get supportedTypesStr(){return(0,_t.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(gn){return this.supportedTypes.includes(gn)}static paste(gn,wn){wn.pasteEditor(_t.AnnotationEditorType.STAMP,{bitmapFile:gn.getAsFile()})}remove(){var gn,wn;Ct(this,kt)&&(qt(this,St,null),this._uiManager.imageManager.deleteId(Ct(this,kt)),(gn=Ct(this,Ft))==null||gn.remove(),qt(this,Ft,null),(wn=Ct(this,Lt))==null||wn.disconnect(),qt(this,Lt,null)),super.remove()}rebuild(){if(!this.parent){Ct(this,kt)&&Xt(this,Ot,qy).call(this);return}super.rebuild(),this.div!==null&&(Ct(this,kt)&&Xt(this,Ot,qy).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Ct(this,Rt)||Ct(this,St)||Ct(this,Pt)||Ct(this,Mt))}get isResizable(){return!0}render(){if(this.div)return this.div;let gn,wn;if(this.width&&(gn=this.x,wn=this.y),super.render(),this.div.hidden=!0,Ct(this,St)?Xt(this,Ot,n1).call(this):Xt(this,Ot,qy).call(this),this.width){const[pn,sn]=this.parentDimensions;this.setAt(gn*pn,wn*sn,this.width*pn,this.height*sn)}return this.div}static deserialize(gn,wn,pn){if(gn instanceof wt.StampAnnotationElement)return null;const sn=super.deserialize(gn,wn,pn),{rect:Jt,bitmapUrl:an,bitmapId:vn,isSvg:tn,accessibilityData:Ht}=gn;vn&&pn.imageManager.isValidId(vn)?qt(sn,kt,vn):qt(sn,Pt,an),qt(sn,Nt,tn);const[Wt,rn]=sn.pageDimensions;return sn.width=(Jt[2]-Jt[0])/Wt,sn.height=(Jt[3]-Jt[1])/rn,Ht&&(sn.altTextData=Ht),sn}serialize(gn=!1,wn=null){if(this.isEmpty())return null;const pn={annotationType:_t.AnnotationEditorType.STAMP,bitmapId:Ct(this,kt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Ct(this,Nt),structTreeParentId:this._structTreeParentId};if(gn)return pn.bitmapUrl=Xt(this,Ot,Ky).call(this,!0),pn.accessibilityData=this.altTextData,pn;const{decorative:sn,altText:Jt}=this.altTextData;if(!sn&&Jt&&(pn.accessibilityData={type:"Figure",alt:Jt}),wn===null)return pn;wn.stamps||(wn.stamps=new Map);const an=Ct(this,Nt)?(pn.rect[2]-pn.rect[0])*(pn.rect[3]-pn.rect[1]):null;if(!wn.stamps.has(Ct(this,kt)))wn.stamps.set(Ct(this,kt),{area:an,serialized:pn}),pn.bitmap=Xt(this,Ot,Ky).call(this,!1);else if(Ct(this,Nt)){const vn=wn.stamps.get(Ct(this,kt));an>vn.area&&(vn.area=an,vn.serialized.bitmap.close(),vn.serialized.bitmap=Xt(this,Ot,Ky).call(this,!1))}return pn}};St=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,Dt=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Ot=new WeakSet,E0=function(gn,wn=!1){if(!gn){this.remove();return}qt(this,St,gn.bitmap),wn||(qt(this,kt,gn.id),qt(this,Nt,gn.isSvg)),Xt(this,Ot,n1).call(this)},w0=function(){qt(this,Rt,null),this._uiManager.enableWaiting(!1),Ct(this,Ft)&&this.div.focus()},qy=function(){if(Ct(this,kt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Ct(this,kt)).then(wn=>Xt(this,Ot,E0).call(this,wn,!0)).finally(()=>Xt(this,Ot,w0).call(this));return}if(Ct(this,Pt)){const wn=Ct(this,Pt);qt(this,Pt,null),this._uiManager.enableWaiting(!0),qt(this,Rt,this._uiManager.imageManager.getFromUrl(wn).then(pn=>Xt(this,Ot,E0).call(this,pn)).finally(()=>Xt(this,Ot,w0).call(this)));return}if(Ct(this,Mt)){const wn=Ct(this,Mt);qt(this,Mt,null),this._uiManager.enableWaiting(!0),qt(this,Rt,this._uiManager.imageManager.getFromFile(wn).then(pn=>Xt(this,Ot,E0).call(this,pn)).finally(()=>Xt(this,Ot,w0).call(this)));return}const gn=document.createElement("input");gn.type="file",gn.accept=on.supportedTypesStr,qt(this,Rt,new Promise(wn=>{gn.addEventListener("change",async()=>{if(!gn.files||gn.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const pn=await this._uiManager.imageManager.getFromFile(gn.files[0]);Xt(this,Ot,E0).call(this,pn)}wn()}),gn.addEventListener("cancel",()=>{this.remove(),wn()})}).finally(()=>Xt(this,Ot,w0).call(this))),gn.click()},n1=function(){const{div:gn}=this;let{width:wn,height:pn}=Ct(this,St);const[sn,Jt]=this.pageDimensions,an=.75;if(this.width)wn=this.width*sn,pn=this.height*Jt;else if(wn>an*sn||pn>an*Jt){const Wt=Math.min(an*sn/wn,an*Jt/pn);wn*=Wt,pn*=Wt}const[vn,tn]=this.parentDimensions;this.setDims(wn*vn/sn,pn*tn/Jt),this._uiManager.enableWaiting(!1);const Ht=qt(this,Ft,document.createElement("canvas"));gn.append(Ht),gn.hidden=!1,Xt(this,Ot,r1).call(this,wn,pn),Xt(this,Ot,Sw).call(this),Ct(this,$t)||(this.parent.addUndoableEditor(this),qt(this,$t,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},ww=function(gn,wn){var an;const[pn,sn]=this.parentDimensions;this.width=gn/pn,this.height=wn/sn,this.setDims(gn,wn),(an=this._initialOptions)!=null&&an.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Ct(this,Dt)!==null&&clearTimeout(Ct(this,Dt)),qt(this,Dt,setTimeout(()=>{qt(this,Dt,null),Xt(this,Ot,r1).call(this,gn,wn)},200))},Aw=function(gn,wn){const{width:pn,height:sn}=Ct(this,St);let Jt=pn,an=sn,vn=Ct(this,St);for(;Jt>2*gn||an>2*wn;){const tn=Jt,Ht=an;Jt>2*gn&&(Jt=Jt>=16384?Math.floor(Jt/2)-1:Math.ceil(Jt/2)),an>2*wn&&(an=an>=16384?Math.floor(an/2)-1:Math.ceil(an/2));const Wt=new OffscreenCanvas(Jt,an);Wt.getContext("2d").drawImage(vn,0,0,tn,Ht,0,0,Jt,an),vn=Wt.transferToImageBitmap()}return vn},r1=function(gn,wn){gn=Math.ceil(gn),wn=Math.ceil(wn);const pn=Ct(this,Ft);if(!pn||pn.width===gn&&pn.height===wn)return;pn.width=gn,pn.height=wn;const sn=Ct(this,Nt)?Ct(this,St):Xt(this,Ot,Aw).call(this,gn,wn),Jt=pn.getContext("2d");Jt.filter=this._uiManager.hcmFilter,Jt.drawImage(sn,0,0,sn.width,sn.height,0,0,gn,wn)},Ky=function(gn){if(gn){if(Ct(this,Nt)){const sn=this._uiManager.imageManager.getSvgUrl(Ct(this,kt));if(sn)return sn}const wn=document.createElement("canvas");return{width:wn.width,height:wn.height}=Ct(this,St),wn.getContext("2d").drawImage(Ct(this,St),0,0),wn.toDataURL()}if(Ct(this,Nt)){const[wn,pn]=this.pageDimensions,sn=Math.round(this.width*wn*Et.PixelsPerInch.PDF_TO_CSS_UNITS),Jt=Math.round(this.height*pn*Et.PixelsPerInch.PDF_TO_CSS_UNITS),an=new OffscreenCanvas(sn,Jt);return an.getContext("2d").drawImage(Ct(this,St),0,0,Ct(this,St).width,Ct(this,St).height,0,0,sn,Jt),an.transferToImageBitmap()}return structuredClone(Ct(this,St))},Sw=function(){qt(this,Lt,new ResizeObserver(gn=>{const wn=gn[0].contentRect;wn.width&&wn.height&&Xt(this,Ot,ww).call(this,wn.width,wn.height)})),Ct(this,Lt).observe(this.div)},Tr(on,"_type","stamp");let At=on;ht.StampEditor=At}],__webpack_module_cache__={};function __w_pdfjs_require__(vt){var ht=__webpack_module_cache__[vt];if(ht!==void 0)return ht.exports;var bt=__webpack_module_cache__[vt]={exports:{}};return __webpack_modules__[vt](bt,bt.exports,__w_pdfjs_require__),bt.exports}var __webpack_exports__={};return(()=>{var vt=__webpack_exports__;Object.defineProperty(vt,"__esModule",{value:!0}),Object.defineProperty(vt,"AbortException",{enumerable:!0,get:function(){return ht.AbortException}}),Object.defineProperty(vt,"AnnotationEditorLayer",{enumerable:!0,get:function(){return Et.AnnotationEditorLayer}}),Object.defineProperty(vt,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return ht.AnnotationEditorParamsType}}),Object.defineProperty(vt,"AnnotationEditorType",{enumerable:!0,get:function(){return ht.AnnotationEditorType}}),Object.defineProperty(vt,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return wt.AnnotationEditorUIManager}}),Object.defineProperty(vt,"AnnotationLayer",{enumerable:!0,get:function(){return At.AnnotationLayer}}),Object.defineProperty(vt,"AnnotationMode",{enumerable:!0,get:function(){return ht.AnnotationMode}}),Object.defineProperty(vt,"CMapCompressionType",{enumerable:!0,get:function(){return ht.CMapCompressionType}}),Object.defineProperty(vt,"DOMSVGFactory",{enumerable:!0,get:function(){return _t.DOMSVGFactory}}),Object.defineProperty(vt,"FeatureTest",{enumerable:!0,get:function(){return ht.FeatureTest}}),Object.defineProperty(vt,"GlobalWorkerOptions",{enumerable:!0,get:function(){return St.GlobalWorkerOptions}}),Object.defineProperty(vt,"ImageKind",{enumerable:!0,get:function(){return ht.ImageKind}}),Object.defineProperty(vt,"InvalidPDFException",{enumerable:!0,get:function(){return ht.InvalidPDFException}}),Object.defineProperty(vt,"MissingPDFException",{enumerable:!0,get:function(){return ht.MissingPDFException}}),Object.defineProperty(vt,"OPS",{enumerable:!0,get:function(){return ht.OPS}}),Object.defineProperty(vt,"PDFDataRangeTransport",{enumerable:!0,get:function(){return bt.PDFDataRangeTransport}}),Object.defineProperty(vt,"PDFDateString",{enumerable:!0,get:function(){return _t.PDFDateString}}),Object.defineProperty(vt,"PDFWorker",{enumerable:!0,get:function(){return bt.PDFWorker}}),Object.defineProperty(vt,"PasswordResponses",{enumerable:!0,get:function(){return ht.PasswordResponses}}),Object.defineProperty(vt,"PermissionFlag",{enumerable:!0,get:function(){return ht.PermissionFlag}}),Object.defineProperty(vt,"PixelsPerInch",{enumerable:!0,get:function(){return _t.PixelsPerInch}}),Object.defineProperty(vt,"PromiseCapability",{enumerable:!0,get:function(){return ht.PromiseCapability}}),Object.defineProperty(vt,"RenderingCancelledException",{enumerable:!0,get:function(){return _t.RenderingCancelledException}}),Object.defineProperty(vt,"SVGGraphics",{enumerable:!0,get:function(){return bt.SVGGraphics}}),Object.defineProperty(vt,"UnexpectedResponseException",{enumerable:!0,get:function(){return ht.UnexpectedResponseException}}),Object.defineProperty(vt,"Util",{enumerable:!0,get:function(){return ht.Util}}),Object.defineProperty(vt,"VerbosityLevel",{enumerable:!0,get:function(){return ht.VerbosityLevel}}),Object.defineProperty(vt,"XfaLayer",{enumerable:!0,get:function(){return kt.XfaLayer}}),Object.defineProperty(vt,"build",{enumerable:!0,get:function(){return bt.build}}),Object.defineProperty(vt,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return ht.createValidAbsoluteUrl}}),Object.defineProperty(vt,"getDocument",{enumerable:!0,get:function(){return bt.getDocument}}),Object.defineProperty(vt,"getFilenameFromUrl",{enumerable:!0,get:function(){return _t.getFilenameFromUrl}}),Object.defineProperty(vt,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _t.getPdfFilenameFromUrl}}),Object.defineProperty(vt,"getXfaPageViewport",{enumerable:!0,get:function(){return _t.getXfaPageViewport}}),Object.defineProperty(vt,"isDataScheme",{enumerable:!0,get:function(){return _t.isDataScheme}}),Object.defineProperty(vt,"isPdfFile",{enumerable:!0,get:function(){return _t.isPdfFile}}),Object.defineProperty(vt,"loadScript",{enumerable:!0,get:function(){return _t.loadScript}}),Object.defineProperty(vt,"noContextMenu",{enumerable:!0,get:function(){return _t.noContextMenu}}),Object.defineProperty(vt,"normalizeUnicode",{enumerable:!0,get:function(){return ht.normalizeUnicode}}),Object.defineProperty(vt,"renderTextLayer",{enumerable:!0,get:function(){return xt.renderTextLayer}}),Object.defineProperty(vt,"setLayerDimensions",{enumerable:!0,get:function(){return _t.setLayerDimensions}}),Object.defineProperty(vt,"shadow",{enumerable:!0,get:function(){return ht.shadow}}),Object.defineProperty(vt,"updateTextLayer",{enumerable:!0,get:function(){return xt.updateTextLayer}}),Object.defineProperty(vt,"version",{enumerable:!0,get:function(){return bt.version}});var ht=__w_pdfjs_require__(1),bt=__w_pdfjs_require__(2),_t=__w_pdfjs_require__(6),xt=__w_pdfjs_require__(26),Et=__w_pdfjs_require__(27),wt=__w_pdfjs_require__(5),At=__w_pdfjs_require__(29),St=__w_pdfjs_require__(14),kt=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(vt){var ht=reactExports,bt=pdfExports;function _t(Yt){var un=Object.create(null);return Yt&&Object.keys(Yt).forEach(function(xn){if(xn!=="default"){var An=Object.getOwnPropertyDescriptor(Yt,xn);Object.defineProperty(un,xn,An.get?An:{enumerable:!0,get:function(){return Yt[xn]}})}}),un.default=Yt,Object.freeze(un)}var xt,Et=_t(ht),wt=_t(bt);vt.AnnotationType=void 0,(xt=vt.AnnotationType||(vt.AnnotationType={}))[xt.Text=1]="Text",xt[xt.Link=2]="Link",xt[xt.FreeText=3]="FreeText",xt[xt.Line=4]="Line",xt[xt.Square=5]="Square",xt[xt.Circle=6]="Circle",xt[xt.Polygon=7]="Polygon",xt[xt.Polyline=8]="Polyline",xt[xt.Highlight=9]="Highlight",xt[xt.Underline=10]="Underline",xt[xt.Squiggly=11]="Squiggly",xt[xt.StrikeOut=12]="StrikeOut",xt[xt.Stamp=13]="Stamp",xt[xt.Caret=14]="Caret",xt[xt.Ink=15]="Ink",xt[xt.Popup=16]="Popup",xt[xt.FileAttachment=17]="FileAttachment";var At=function(Yt,un){return At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xn,An){xn.__proto__=An}||function(xn,An){for(var kn in An)Object.prototype.hasOwnProperty.call(An,kn)&&(xn[kn]=An[kn])},At(Yt,un)};function St(Yt,un){if(typeof un!="function"&&un!==null)throw new TypeError("Class extends value "+String(un)+" is not a constructor or null");function xn(){this.constructor=Yt}At(Yt,un),Yt.prototype=un===null?Object.create(un):(xn.prototype=un.prototype,new xn)}var kt,Rt=function(){return Rt=Object.assign||function(Yt){for(var un,xn=1,An=arguments.length;xn<An;xn++)for(var kn in un=arguments[xn])Object.prototype.hasOwnProperty.call(un,kn)&&(Yt[kn]=un[kn]);return Yt},Rt.apply(this,arguments)};vt.TextDirection=void 0,(kt=vt.TextDirection||(vt.TextDirection={})).RightToLeft="RTL",kt.LeftToRight="LTR";var Pt,Mt=Et.createContext({currentTheme:"light",direction:vt.TextDirection.LeftToRight,setCurrentTheme:function(){}}),Ft=function(Yt){var un=[];return Object.keys(Yt).forEach(function(xn){xn&&Yt[xn]&&un.push(xn)}),un.join(" ")},Lt=typeof window<"u"?Et.useLayoutEffect:Et.useEffect,Dt=function(Yt){var un=Et.useRef(null),xn=Yt.once,An=Yt.threshold,kn=Yt.onVisibilityChanged;return Lt(function(){var Ln=un.current;if(Ln){var zn=new IntersectionObserver(function(In){In.forEach(function(Sn){var Un=Sn.isIntersecting,jn=Sn.intersectionRatio;kn({isVisible:Un,ratio:jn}),Un&&xn&&(zn.unobserve(Ln),zn.disconnect())})},{threshold:An||0});return zn.observe(Ln),function(){zn.unobserve(Ln),zn.disconnect()}}},[]),un},Nt=function(Yt){var un=Yt.children,xn=Yt.ignoreDirection,An=xn!==void 0&&xn,kn=Yt.size,Ln=kn===void 0?24:kn,zn=Et.useContext(Mt).direction,In=!An&&zn===vt.TextDirection.RightToLeft,Sn="".concat(Ln||24,"px");return Et.createElement("svg",{"aria-hidden":"true",className:Ft({"rpv-core__icon":!0,"rpv-core__icon--rtl":In}),focusable:"false",height:Sn,viewBox:"0 0 24 24",width:Sn},un)},$t=function(){return Et.createElement(Nt,{size:16},Et.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},Ot=function(Yt){var un=Yt.children,xn=Yt.testId,An=Yt.onClick,kn=Et.useContext(Mt).direction===vt.TextDirection.RightToLeft,Ln=xn?{"data-testid":xn}:{};return Et.createElement("button",Rt({className:Ft({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":kn}),type:"button",onClick:An},Ln),un)},jt=function(Yt){var un=Yt.size,xn=un===void 0?"4rem":un,An=Yt.testId,kn=Et.useState(!1),Ln=kn[0],zn=kn[1],In=An?{"data-testid":An}:{},Sn=Dt({onVisibilityChanged:function(Un){zn(Un.isVisible)}});return Et.createElement("div",Rt({},In,{className:Ft({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Ln}),ref:Sn,style:{height:xn,width:xn}}))},Ut=function(Yt){var un=Yt.ariaLabel,xn=un===void 0?"":un,An=Yt.autoFocus,kn=An!==void 0&&An,Ln=Yt.placeholder,zn=Ln===void 0?"":Ln,In=Yt.testId,Sn=Yt.type,Un=Sn===void 0?"text":Sn,jn=Yt.value,rr=jn===void 0?"":jn,nr=Yt.onChange,tr=Yt.onKeyDown,hr=tr===void 0?function(){}:tr,ur=Et.useContext(Mt).direction,lr=Et.useRef(),es=ur===vt.TextDirection.RightToLeft,Ir={ref:lr,"data-testid":"","aria-label":xn,className:Ft({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":es}),placeholder:zn,value:rr,onChange:function(jr){return nr(jr.target.value)},onKeyDown:hr};return In&&(Ir["data-testid"]=In),Lt(function(){if(kn){var jr=lr.current;if(jr){var Vr=window.scrollX,Rr=window.scrollY;jr.focus(),window.scrollTo(Vr,Rr)}}},[]),Un==="text"?Et.createElement("input",Rt({type:"text"},Ir)):Et.createElement("input",Rt({type:"password"},Ir))};(function(Yt){Yt[Yt.ExitFullScreen=0]="ExitFullScreen",Yt[Yt.FullScreenChange=1]="FullScreenChange",Yt[Yt.FullScreenElement=2]="FullScreenElement",Yt[Yt.FullScreenEnabled=3]="FullScreenEnabled",Yt[Yt.RequestFullScreen=4]="RequestFullScreen"})(Pt||(Pt={}));var Bt,Vt={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},zt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Gt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},en=typeof window<"u",ln=en&&(Pt.FullScreenEnabled in document&&Vt||zt.FullScreenEnabled in document&&zt||Gt.FullScreenEnabled in document&&Gt)||Vt,Kt=function(){return en&&ln.FullScreenEnabled in document&&document[ln.FullScreenEnabled]===!0},on=function(Yt){return en?Yt[ln.ExitFullScreen]():Promise.resolve({})},fn=function(){return en?document[ln.FullScreenElement]:null},En=function(Yt,un){var xn=Et.useRef(),An=function(){xn.current&&clearTimeout(xn.current)};return Et.useEffect(function(){return function(){return An()}},[]),Et.useCallback(function(){for(var kn=[],Ln=0;Ln<arguments.length;Ln++)kn[Ln]=arguments[Ln];An(),xn.current=setTimeout(function(){Yt.apply(void 0,kn)},un)},[Yt,un])},gn=function(){var Yt=Et.useRef(!1);return Et.useEffect(function(){return Yt.current=!0,function(){Yt.current=!1}},[]),Yt},wn=function(Yt){var un=Et.useRef(Yt);return Et.useEffect(function(){un.current=Yt},[Yt]),un.current};(function(Yt){Yt.NotRenderedYet="NotRenderedYet",Yt.Rendering="Rendering",Yt.Rendered="Rendered"})(Bt||(Bt={}));var pn,sn=-9999,Jt=function(Yt){var un=Yt.doc,xn=un.numPages,An=un.loadingTask.docId,kn=Et.useMemo(function(){return Array(xn).fill(null).map(function(In,Sn){return{pageIndex:Sn,renderStatus:Bt.NotRenderedYet,visibility:sn}})},[An]),Ln=Et.useRef({currentRenderingPage:-1,startRange:0,endRange:xn-1,visibilities:kn}),zn=function(In,Sn){Ln.current.visibilities[In].visibility=Sn};return{getHighestPriorityPage:function(){var In=Ln.current.visibilities.slice(Ln.current.startRange,Ln.current.endRange+1).filter(function(nr){return nr.visibility>sn});if(!In.length)return-1;for(var Sn=In[0].pageIndex,Un=In[In.length-1].pageIndex,jn=In.length,rr=0;rr<jn;rr++){if(In[rr].renderStatus===Bt.Rendering)return-1;if(In[rr].renderStatus===Bt.NotRenderedYet)return In[rr].pageIndex}return Un+1<xn&&Ln.current.visibilities[Un+1].renderStatus!==Bt.Rendered?Un+1:Sn-1>=0&&Ln.current.visibilities[Sn-1].renderStatus!==Bt.Rendered?Sn-1:-1},isInRange:function(In){return In>=Ln.current.startRange&&In<=Ln.current.endRange},markNotRendered:function(){for(var In=0;In<xn;In++)Ln.current.visibilities[In].renderStatus=Bt.NotRenderedYet},markRendered:function(In){Ln.current.visibilities[In].renderStatus=Bt.Rendered},markRendering:function(In){Ln.current.currentRenderingPage!==-1&&Ln.current.currentRenderingPage!==In&&Ln.current.visibilities[Ln.current.currentRenderingPage].renderStatus===Bt.Rendering&&(Ln.current.visibilities[Ln.current.currentRenderingPage].renderStatus=Bt.NotRenderedYet),Ln.current.visibilities[In].renderStatus=Bt.Rendering,Ln.current.currentRenderingPage=In},setOutOfRange:function(In){zn(In,sn)},setRange:function(In,Sn){Ln.current.startRange=In,Ln.current.endRange=Sn;for(var Un=0;Un<xn;Un++)(Un<In||Un>Sn)&&(Ln.current.visibilities[Un].visibility=sn,Ln.current.visibilities[Un].renderStatus=Bt.NotRenderedYet)},setVisibility:zn}},an={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},vn=Et.createContext({l10n:an,setL10n:function(){}}),tn=0,Ht=function(){return tn++},Wt=function(Yt,un,xn){var An=function(kn){var Ln=un.current;if(Ln){var zn=kn.target;if(zn instanceof Element&&zn.shadowRoot){var In=kn.composedPath();In.length>0&&!Ln.contains(In[0])&&xn()}else Ln.contains(zn)||xn()}};Et.useEffect(function(){if(Yt){var kn={capture:!0};return document.addEventListener("click",An,kn),function(){document.removeEventListener("click",An,kn)}}},[])},rn=function(Yt){var un=function(xn){xn.key==="Escape"&&Yt()};Et.useEffect(function(){return document.addEventListener("keyup",un),function(){document.removeEventListener("keyup",un)}},[])},nn=function(Yt){var un=Yt.ariaControlsSuffix,xn=Yt.children,An=Yt.closeOnClickOutside,kn=Yt.closeOnEscape,Ln=Yt.onToggle,zn=Et.useRef(),In=Et.useContext(Mt).direction===vt.TextDirection.RightToLeft;return Et.useEffect(function(){var Sn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Sn}},[]),rn(function(){zn.current&&kn&&Ln()}),Wt(An,zn,Ln),Lt(function(){var Sn=zn.current;if(Sn){var Un=.75*document.body.clientHeight;Sn.getBoundingClientRect().height>=Un&&(Sn.style.overflow="auto",Sn.style.maxHeight="".concat(Un,"px"))}},[]),Et.createElement("div",{"aria-modal":"true",className:Ft({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":In}),id:"rpv-core__modal-body-".concat(un),ref:zn,role:"dialog",tabIndex:-1},xn)},hn=function(Yt){var un=Yt.children;return Et.createElement("div",{className:"rpv-core__modal-overlay"},un)};vt.ToggleStatus=void 0,(pn=vt.ToggleStatus||(vt.ToggleStatus={})).Close="Close",pn.Open="Open",pn.Toggle="Toggle";var cn,Cn=function(Yt){var un=Et.useState(Yt),xn=un[0],An=un[1];return{opened:xn,toggle:function(kn){switch(kn){case vt.ToggleStatus.Close:An(!1);break;case vt.ToggleStatus.Open:An(!0);break;case vt.ToggleStatus.Toggle:default:An(function(Ln){return!Ln})}}}},$n=function(Yt){var un=Yt.content,xn=Yt.isOpened,An=xn!==void 0&&xn,kn=Yt.target,Ln=Cn(An),zn=Ln.opened,In=Ln.toggle;return Et.createElement(Et.Fragment,null,kn&&kn(In,zn),zn&&un(In))};vt.Position=void 0,(cn=vt.Position||(vt.Position={})).TopLeft="TOP_LEFT",cn.TopCenter="TOP_CENTER",cn.TopRight="TOP_RIGHT",cn.RightTop="RIGHT_TOP",cn.RightCenter="RIGHT_CENTER",cn.RightBottom="RIGHT_BOTTOM",cn.BottomLeft="BOTTOM_LEFT",cn.BottomCenter="BOTTOM_CENTER",cn.BottomRight="BOTTOM_RIGHT",cn.LeftTop="LEFT_TOP",cn.LeftCenter="LEFT_CENTER",cn.LeftBottom="LEFT_BOTTOM";var Hn,On,Xn,Yn,Gn,Fn,Tn,dn,bn=function(Yt,un,xn,An,kn){Lt(function(){var Ln=un.current,zn=Yt.current,In=xn.current;if(zn&&Ln&&In){var Sn=In.getBoundingClientRect(),Un=function(nr,tr,hr,ur){var lr=tr.getBoundingClientRect(),es=nr.getBoundingClientRect(),Ir=es.height,jr=es.width,Vr=0,Rr=0;switch(hr){case vt.Position.TopLeft:Vr=lr.top-Ir,Rr=lr.left;break;case vt.Position.TopCenter:Vr=lr.top-Ir,Rr=lr.left+lr.width/2-jr/2;break;case vt.Position.TopRight:Vr=lr.top-Ir,Rr=lr.left+lr.width-jr;break;case vt.Position.RightTop:Vr=lr.top,Rr=lr.left+lr.width;break;case vt.Position.RightCenter:Vr=lr.top+lr.height/2-Ir/2,Rr=lr.left+lr.width;break;case vt.Position.RightBottom:Vr=lr.top+lr.height-Ir,Rr=lr.left+lr.width;break;case vt.Position.BottomLeft:Vr=lr.top+lr.height,Rr=lr.left;break;case vt.Position.BottomCenter:Vr=lr.top+lr.height,Rr=lr.left+lr.width/2-jr/2;break;case vt.Position.BottomRight:Vr=lr.top+lr.height,Rr=lr.left+lr.width-jr;break;case vt.Position.LeftTop:Vr=lr.top,Rr=lr.left-jr;break;case vt.Position.LeftCenter:Vr=lr.top+lr.height/2-Ir/2,Rr=lr.left-jr;break;case vt.Position.LeftBottom:Vr=lr.top+lr.height-Ir,Rr=lr.left-jr}return{left:Rr+(ur.left||0),top:Vr+(ur.top||0)}}(zn,Ln,An,kn),jn=Un.top,rr=Un.left;zn.style.top="".concat(jn-Sn.top,"px"),zn.style.left="".concat(rr-Sn.left,"px")}},[])},Pn=function(Yt){var un,xn=Yt.customClassName,An=Yt.position;return Et.createElement("div",{className:Ft((un={"rpv-core__arrow":!0,"rpv-core__arrow--tl":An===vt.Position.TopLeft,"rpv-core__arrow--tc":An===vt.Position.TopCenter,"rpv-core__arrow--tr":An===vt.Position.TopRight,"rpv-core__arrow--rt":An===vt.Position.RightTop,"rpv-core__arrow--rc":An===vt.Position.RightCenter,"rpv-core__arrow--rb":An===vt.Position.RightBottom,"rpv-core__arrow--bl":An===vt.Position.BottomLeft,"rpv-core__arrow--bc":An===vt.Position.BottomCenter,"rpv-core__arrow--br":An===vt.Position.BottomRight,"rpv-core__arrow--lt":An===vt.Position.LeftTop,"rpv-core__arrow--lc":An===vt.Position.LeftCenter,"rpv-core__arrow--lb":An===vt.Position.LeftBottom},un["".concat(xn)]=xn!=="",un))})},Bn=function(Yt){var un=Yt.ariaControlsSuffix,xn=Yt.children,An=Yt.closeOnClickOutside,kn=Yt.offset,Ln=Yt.position,zn=Yt.targetRef,In=Yt.onClose,Sn=Et.useRef(),Un=Et.useRef(),jn=Et.useRef(),rr=Et.useContext(Mt).direction===vt.TextDirection.RightToLeft;Wt(An,Sn,In),bn(Sn,zn,jn,Ln,kn),Lt(function(){var tr=Un.current;if(tr){var hr=.75*document.body.clientHeight;tr.getBoundingClientRect().height>=hr&&(tr.style.overflow="auto",tr.style.maxHeight="".concat(hr,"px"))}},[]);var nr="rpv-core__popover-body-inner-".concat(un);return Et.createElement(Et.Fragment,null,Et.createElement("div",{ref:jn,style:{left:0,position:"absolute",top:0}}),Et.createElement("div",{"aria-describedby":nr,className:Ft({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":rr}),id:"rpv-core__popover-body-".concat(un),ref:Sn,role:"dialog",tabIndex:-1},Et.createElement(Pn,{customClassName:"rpv-core__popover-body-arrow",position:Ln}),Et.createElement("div",{id:nr,ref:Un},xn)))},Kn=function(Yt){var un=Yt.closeOnEscape,xn=Yt.onClose,An=Et.useRef();return rn(function(){An.current&&un&&xn()}),Et.createElement("div",{className:"rpv-core__popover-overlay",ref:An})},Qn=function(Yt){var un=Yt.ariaControlsSuffix,xn=Yt.children,An=Yt.contentRef,kn=Yt.offset,Ln=Yt.position,zn=Yt.targetRef,In=Et.useRef(),Sn=Et.useContext(Mt).direction===vt.TextDirection.RightToLeft;return bn(An,zn,In,Ln,kn),Et.createElement(Et.Fragment,null,Et.createElement("div",{ref:In,style:{left:0,position:"absolute",top:0}}),Et.createElement("div",{className:Ft({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Sn}),id:"rpv-core__tooltip-body-".concat(un),ref:An,role:"tooltip"},Et.createElement(Pn,{customClassName:"rpv-core__tooltip-body-arrow",position:Ln}),Et.createElement("div",{className:"rpv-core__tooltip-body-content"},xn)))};vt.FullScreenMode=void 0,(Hn=vt.FullScreenMode||(vt.FullScreenMode={})).Normal="Normal",Hn.Entering="Entering",Hn.Entered="Entered",Hn.EnteredCompletely="EnteredCompletely",Hn.Exitting="Exitting",Hn.Exited="Exited",vt.LayerRenderStatus=void 0,(On=vt.LayerRenderStatus||(vt.LayerRenderStatus={}))[On.PreRender=0]="PreRender",On[On.DidRender=1]="DidRender",vt.PageMode=void 0,(Xn=vt.PageMode||(vt.PageMode={})).Attachments="UseAttachments",Xn.Bookmarks="UseOutlines",Xn.ContentGroup="UseOC",Xn.Default="UserNone",Xn.FullScreen="FullScreen",Xn.Thumbnails="UseThumbs",vt.PasswordStatus=void 0,(Yn=vt.PasswordStatus||(vt.PasswordStatus={})).RequiredPassword="RequiredPassword",Yn.WrongPassword="WrongPassword",vt.RotateDirection=void 0,(Gn=vt.RotateDirection||(vt.RotateDirection={})).Backward="Backward",Gn.Forward="Forward",vt.ScrollMode=void 0,(Fn=vt.ScrollMode||(vt.ScrollMode={})).Page="Page",Fn.Horizontal="Horizontal",Fn.Vertical="Vertical",Fn.Wrapped="Wrapped",vt.SpecialZoomLevel=void 0,(Tn=vt.SpecialZoomLevel||(vt.SpecialZoomLevel={})).ActualSize="ActualSize",Tn.PageFit="PageFit",Tn.PageWidth="PageWidth",vt.ViewMode=void 0,(dn=vt.ViewMode||(vt.ViewMode={})).DualPage="DualPage",dn.DualPageWithCover="DualPageWithCover",dn.SinglePage="SinglePage";var Vn,Rn=function(Yt,un){return Yt.reduce(function(xn,An,kn){return kn%un?xn[xn.length-1].push(An):xn.push([An]),xn},[])},ar=function(Yt,un){switch(un[1].name){case"XYZ":return{bottomOffset:function(xn,An){return un[3]===null?An:un[3]},leftOffset:function(xn,An){return un[2]===null?0:un[2]},pageIndex:Yt,scaleTo:un[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Yt,scaleTo:vt.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:un[2],leftOffset:0,pageIndex:Yt,scaleTo:vt.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Yt,scaleTo:1}}},sr=new Map,Mr=new Map,Lr=function(Yt,un){return"".concat(Yt.loadingTask.docId,"___").concat(un.num,"R").concat(un.gen===0?"":un.gen)},Qr=function(Yt,un,xn){sr.set(Lr(Yt,un),xn)},gr=function(Yt,un){if(!Yt)return Promise.reject("The document is not loaded yet");var xn="".concat(Yt.loadingTask.docId,"___").concat(un),An=Mr.get(xn);return An?Promise.resolve(An):new Promise(function(kn,Ln){Yt.getPage(un+1).then(function(zn){Mr.set(xn,zn),zn.ref&&Qr(Yt,zn.ref,un),kn(zn)})})},Cr=function(Yt,un){return new Promise(function(xn){new Promise(function(An){typeof un=="string"?Yt.getDestination(un).then(function(kn){An(kn)}):An(un)}).then(function(An){if(typeof An[0]=="object"&&An[0]!==null){var kn=An[0],Ln=function(In,Sn){var Un=Lr(In,Sn);return sr.has(Un)?sr.get(Un):null}(Yt,kn);Ln===null?Yt.getPageIndex(kn).then(function(In){Qr(Yt,kn,In),Cr(Yt,un).then(function(Sn){return xn(Sn)})}):xn(ar(Ln,An))}else{var zn=ar(An[0],An);xn(zn)}})})};(function(Yt){Yt[Yt.Solid=1]="Solid",Yt[Yt.Dashed=2]="Dashed",Yt[Yt.Beveled=3]="Beveled",Yt[Yt.Inset=4]="Inset",Yt[Yt.Underline=5]="Underline"})(Vn||(Vn={}));var Wr,ss=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Jn=function(Yt,un,xn,An){var kn=parseInt(Yt,10);return kn>=un&&kn<=xn?kn:An},Dn=function(Yt){return Yt.contentsObj?Yt.contentsObj.str:Yt.contents||""},Nn=function(Yt){return Yt.titleObj?Yt.titleObj.str:Yt.title||""},pr=function(Yt){var un=Yt.annotation,xn=Et.useContext(Mt).direction,An=Nn(un),kn=Dn(un),Ln=xn===vt.TextDirection.RightToLeft,zn=Et.useRef(),In="";if(un.modificationDate){var Sn=function(Un){var jn=ss.exec(Un);if(!jn)return null;var rr=parseInt(jn[1],10),nr=Jn(jn[2],1,12,1)-1,tr=Jn(jn[3],1,31,1),hr=Jn(jn[4],0,23,0),ur=Jn(jn[5],0,59,0),lr=Jn(jn[6],0,59,0),es=jn[7]||"Z",Ir=Jn(jn[8],0,23,0),jr=Jn(jn[9],0,59,0);switch(es){case"-":hr+=Ir,ur+=jr;break;case"+":hr-=Ir,ur-=jr}return new Date(Date.UTC(rr,nr,tr,hr,ur,lr))}(un.modificationDate);In=Sn?"".concat(Sn.toLocaleDateString(),", ").concat(Sn.toLocaleTimeString()):""}return Et.useLayoutEffect(function(){if(zn.current){var Un=document.querySelector('[data-annotation-id="'.concat(un.id,'"]'));if(Un){var jn=Un;return jn.style.zIndex+=1,function(){jn.style.zIndex="".concat(parseInt(jn.style.zIndex,10)-1)}}}},[]),Et.createElement("div",{ref:zn,className:Ft({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Ln}),style:{top:un.annotationType===vt.AnnotationType.Popup?"":"100%"}},An&&Et.createElement(Et.Fragment,null,Et.createElement("div",{className:Ft({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Ln,"rpv-core__annotation-popup-title--rtl":Ln})},An),Et.createElement("div",{className:"rpv-core__annotation-popup-date"},In)),kn&&Et.createElement("div",{className:"rpv-core__annotation-popup-content"},kn.split(`
`).map(function(Un,jn){return Et.createElement(Et.Fragment,{key:jn},Un,Et.createElement("br",null))})))};(function(Yt){Yt.Click="Click",Yt.Hover="Hover"})(Wr||(Wr={}));var yr,Fr=function(Yt){var un,xn=Yt.annotation,An=Yt.children,kn=Yt.ignoreBorder,Ln=Yt.hasPopup,zn=Yt.isRenderable,In=Yt.page,Sn=Yt.viewport,Un=xn.rect,jn=function(){var Ur=Cn(!1),cs=Ur.opened,as=Ur.toggle,us=Et.useState(Wr.Hover),hs=us[0],gs=us[1];return{opened:cs,closeOnHover:function(){hs===Wr.Hover&&as(vt.ToggleStatus.Close)},openOnHover:function(){hs===Wr.Hover&&as(vt.ToggleStatus.Open)},toggleOnClick:function(){switch(hs){case Wr.Click:cs&&gs(Wr.Hover),as(vt.ToggleStatus.Toggle);break;case Wr.Hover:gs(Wr.Click),as(vt.ToggleStatus.Open)}}}}(),rr=jn.closeOnHover,nr=jn.opened,tr=jn.openOnHover,hr=jn.toggleOnClick,ur=(un=[Un[0],In.view[3]+In.view[1]-Un[1],Un[2],In.view[3]+In.view[1]-Un[3]],[Math.min(un[0],un[2]),Math.min(un[1],un[3]),Math.max(un[0],un[2]),Math.max(un[1],un[3])]),lr=Un[2]-Un[0],es=Un[3]-Un[1],Ir={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!kn&&xn.borderStyle.width>0){switch(xn.borderStyle.style){case Vn.Dashed:Ir.borderStyle="dashed";break;case Vn.Solid:Ir.borderStyle="solid";break;case Vn.Underline:Ir=Object.assign({borderBottomStyle:"solid"},Ir);case Vn.Beveled:case Vn.Inset:}var jr=xn.borderStyle.width;Ir.borderWidth="".concat(jr,"px"),xn.borderStyle.style!==Vn.Underline&&(lr-=2*jr,es-=2*jr);var Vr=xn.borderStyle,Rr=Vr.horizontalCornerRadius,Gr=Vr.verticalCornerRadius;(Rr>0||Gr>0)&&(Ir.borderRadius="".concat(Rr,"px / ").concat(Gr,"px")),xn.color?Ir.borderColor="rgb(".concat(0|xn.color[0],", ").concat(0|xn.color[1],", ").concat(0|xn.color[2],")"):Ir.borderWidth="0"}return Et.createElement(Et.Fragment,null,zn&&An({popup:{opened:nr,closeOnHover:rr,openOnHover:tr,toggleOnClick:hr},slot:{attrs:{style:Object.assign({height:"".concat(es,"px"),left:"".concat(ur[0],"px"),top:"".concat(ur[1],"px"),transform:"matrix(".concat(Sn.transform.join(","),")"),transformOrigin:"-".concat(ur[0],"px -").concat(ur[1],"px"),width:"".concat(lr,"px")},Ir)},children:Et.createElement(Et.Fragment,null,Ln&&nr&&Et.createElement(pr,{annotation:xn}))}}))},_n=function(Yt){var un=Yt.annotation,xn=Yt.page,An=Yt.viewport,kn=un.hasPopup===!1,Ln=Nn(un),zn=Dn(un),In=!!(un.hasPopup||Ln||zn);return Et.createElement(Fr,{annotation:un,hasPopup:kn,ignoreBorder:!0,isRenderable:In,page:xn,viewport:An},function(Sn){return Et.createElement("div",Rt({},Sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":un.id,onClick:Sn.popup.toggleOnClick,onMouseEnter:Sn.popup.openOnHover,onMouseLeave:Sn.popup.closeOnHover}),Sn.slot.children)})},Zn=function(Yt){var un=Yt.annotation,xn=Yt.page,An=Yt.viewport,kn=un.hasPopup===!1,Ln=Nn(un),zn=Dn(un),In=!!(un.hasPopup||Ln||zn),Sn=un.rect,Un=Sn[2]-Sn[0],jn=Sn[3]-Sn[1],rr=un.borderStyle.width;return Et.createElement(Fr,{annotation:un,hasPopup:kn,ignoreBorder:!0,isRenderable:In,page:xn,viewport:An},function(nr){return Et.createElement("div",Rt({},nr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":un.id,onClick:nr.popup.toggleOnClick,onMouseEnter:nr.popup.openOnHover,onMouseLeave:nr.popup.closeOnHover}),Et.createElement("svg",{height:"".concat(jn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Un," ").concat(jn),width:"".concat(Un,"px")},Et.createElement("circle",{cy:jn/2,fill:"none",rx:Un/2-rr/2,ry:jn/2-rr/2,stroke:"transparent",strokeWidth:rr||1})),nr.slot.children)})},cr=function(Yt){var un=Yt.annotation,xn=Yt.page,An=Yt.viewport,kn=Nn(un),Ln=Dn(un),zn=!(un.hasPopup!==!1||!kn&&!Ln),In=function(){var Sn,Un,jn,rr,nr=un.file;nr&&(Sn=nr.filename,Un=nr.content,jn=typeof Un=="string"?"":URL.createObjectURL(new Blob([Un],{type:""})),(rr=document.createElement("a")).style.display="none",rr.href=jn||Sn,rr.setAttribute("download",function(tr){var hr=tr.split("/").pop();return hr?hr.split("#")[0].split("?")[0]:tr}(Sn)),document.body.appendChild(rr),rr.click(),document.body.removeChild(rr),jn&&URL.revokeObjectURL(jn))};return Et.createElement(Fr,{annotation:un,hasPopup:zn,ignoreBorder:!0,isRenderable:!0,page:xn,viewport:An},function(Sn){return Et.createElement("div",Rt({},Sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":un.id,onClick:Sn.popup.toggleOnClick,onDoubleClick:In,onMouseEnter:Sn.popup.openOnHover,onMouseLeave:Sn.popup.closeOnHover}),Sn.slot.children)})},br=function(Yt){var un=Yt.annotation,xn=Yt.page,An=Yt.viewport,kn=un.hasPopup===!1,Ln=Nn(un),zn=Dn(un),In=!!(un.hasPopup||Ln||zn);return Et.createElement(Fr,{annotation:un,hasPopup:kn,ignoreBorder:!0,isRenderable:In,page:xn,viewport:An},function(Sn){return Et.createElement("div",Rt({},Sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":un.id,onClick:Sn.popup.toggleOnClick,onMouseEnter:Sn.popup.openOnHover,onMouseLeave:Sn.popup.closeOnHover}),Sn.slot.children)})},Er=function(Yt){var un=Yt.annotation,xn=Yt.page,An=Yt.viewport,kn=Nn(un),Ln=Dn(un),zn=!(!kn&&!Ln),In=!un.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(un.parentType)!==-1;return Lt(function(){if(un.parentId){var Sn=document.querySelector('[data-annotation-id="'.concat(un.parentId,'"]')),Un=document.querySelector('[data-annotation-id="'.concat(un.id,'"]'));if(Sn&&Un){var jn=parseFloat(Sn.style.left),rr=parseFloat(Sn.style.top)+parseFloat(Sn.style.height);Un.style.left="".concat(jn,"px"),Un.style.top="".concat(rr,"px"),Un.style.transformOrigin="-".concat(jn,"px -").concat(rr,"px")}}},[]),Et.createElement(Fr,{annotation:un,hasPopup:In,ignoreBorder:!1,isRenderable:zn,page:xn,viewport:An},function(Sn){return Et.createElement("div",Rt({},Sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":un.id}),Et.createElement(pr,{annotation:un}))})},fr=function(Yt){var un=Yt.annotation,xn=Yt.childAnnotation,An=Yt.page,kn=Yt.viewport,Ln=un.hasPopup===!1,zn=Nn(un),In=Dn(un),Sn=!!(un.hasPopup||zn||In);if(un.quadPoints&&un.quadPoints.length>0){var Un=un.quadPoints.map(function(jn){return Object.assign({},un,{rect:[jn[2].x,jn[2].y,jn[1].x,jn[1].y],quadPoints:[]})});return Et.createElement(Et.Fragment,null,Un.map(function(jn,rr){return Et.createElement(fr,{key:rr,annotation:jn,childAnnotation:xn,page:An,viewport:kn})}))}return Et.createElement(Fr,{annotation:un,hasPopup:Ln,ignoreBorder:!0,isRenderable:Sn,page:An,viewport:kn},function(jn){return Et.createElement(Et.Fragment,null,Et.createElement("div",Rt({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":un.id,onClick:jn.popup.toggleOnClick,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),jn.slot.children),xn&&xn.annotationType===vt.AnnotationType.Popup&&jn.popup.opened&&Et.createElement(Er,{annotation:xn,page:An,viewport:kn}))})},yn=function(Yt){var un=Yt.annotation,xn=Yt.page,An=Yt.viewport,kn=un.hasPopup===!1,Ln=Nn(un),zn=Dn(un),In=!!(un.hasPopup||Ln||zn),Sn=un.rect,Un=Sn[2]-Sn[0],jn=Sn[3]-Sn[1],rr=un.borderStyle.width;return Et.createElement(Fr,{annotation:un,hasPopup:kn,ignoreBorder:!0,isRenderable:In,page:xn,viewport:An},function(nr){return Et.createElement("div",Rt({},nr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":un.id,onClick:nr.popup.toggleOnClick,onMouseEnter:nr.popup.openOnHover,onMouseLeave:nr.popup.closeOnHover}),un.inkLists&&un.inkLists.length&&Et.createElement("svg",{height:"".concat(jn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Un," ").concat(jn),width:"".concat(Un,"px")},un.inkLists.map(function(tr,hr){return Et.createElement("polyline",{key:hr,fill:"none",stroke:"transparent",strokeWidth:rr||1,points:tr.map(function(ur){return"".concat(ur.x-Sn[0],",").concat(Sn[3]-ur.y)}).join(" ")})})),nr.slot.children)})},mn=function(Yt){var un=Yt.annotation,xn=Yt.page,An=Yt.viewport,kn=un.hasPopup===!1,Ln=Nn(un),zn=Dn(un),In=!!(un.hasPopup||Ln||zn),Sn=un.rect,Un=Sn[2]-Sn[0],jn=Sn[3]-Sn[1],rr=un.borderStyle.width;return Et.createElement(Fr,{annotation:un,hasPopup:kn,ignoreBorder:!0,isRenderable:In,page:xn,viewport:An},function(nr){return Et.createElement("div",Rt({},nr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":un.id,onClick:nr.popup.toggleOnClick,onMouseEnter:nr.popup.openOnHover,onMouseLeave:nr.popup.closeOnHover}),Et.createElement("svg",{height:"".concat(jn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Un," ").concat(jn),width:"".concat(Un,"px")},Et.createElement("line",{stroke:"transparent",strokeWidth:rr||1,x1:Sn[2]-un.lineCoordinates[0],x2:Sn[2]-un.lineCoordinates[2],y1:Sn[3]-un.lineCoordinates[1],y2:Sn[3]-un.lineCoordinates[3]})),nr.slot.children)})},Mn=/^([^\w]*)(javascript|data|vbscript)/im,Wn=/&#(\w+)(^\w|;)?/g,qn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,er=/^([^:]+):/gm,ir=function(Yt,un){var xn,An=(xn=Yt||"",xn.replace(Wn,function(In,Sn){return String.fromCharCode(Sn)})).replace(qn,"").trim();if(!An)return un;var kn=An[0];if(kn==="."||kn==="/")return An;var Ln=An.match(er);if(!Ln)return An;var zn=Ln[0];return Mn.test(zn)?un:An},_r=function(Yt){var un,xn=Yt.annotation,An=Yt.annotationContainerRef,kn=Yt.doc,Ln=Yt.outlines,zn=Yt.page,In=Yt.pageIndex,Sn=Yt.scale,Un=Yt.viewport,jn=Yt.onExecuteNamedAction,rr=Yt.onJumpFromLinkAnnotation,nr=Yt.onJumpToDest,tr=Et.useRef(),hr=Ln&&Ln.length&&xn.dest&&typeof xn.dest=="string"?(un=Ln.find(function(Ir){return Ir.dest===xn.dest}))===null||un===void 0?void 0:un.title:"",ur=!!(xn.url||xn.dest||xn.action||xn.unsafeUrl),lr={};if(xn.url||xn.unsafeUrl){var es=ir(xn.url||xn.unsafeUrl,"");es?lr={"data-target":"external",href:es,rel:"noopener noreferrer nofollow",target:xn.newWindow?"_blank":"",title:es}:ur=!1}else lr={href:"","data-annotation-link":xn.id,onClick:function(Ir){Ir.preventDefault(),xn.action?jn(xn.action):Cr(kn,xn.dest).then(function(jr){var Vr=tr.current,Rr=An.current;if(Vr&&Rr){var Gr=Vr.getBoundingClientRect();Rr.style.setProperty("height","100%"),Rr.style.setProperty("width","100%");var Ur=Rr.getBoundingClientRect();Rr.style.removeProperty("height"),Rr.style.removeProperty("width");var cs=(Gr.left-Ur.left)/Sn,as=(Ur.bottom-Gr.bottom+Gr.height)/Sn;rr({bottomOffset:as,label:hr,leftOffset:cs,pageIndex:In})}nr(jr)})}};return hr&&(lr=Object.assign({},lr,{title:hr,"aria-label":hr})),Et.createElement(Fr,{annotation:xn,hasPopup:!1,ignoreBorder:!1,isRenderable:ur,page:zn,viewport:Un},function(Ir){return Et.createElement("div",Rt({},Ir.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":xn.id,"data-testid":"core__annotation--link-".concat(xn.id)}),Et.createElement("a",Rt({ref:tr},lr)))})},mr=function(Yt){var un=Yt.annotation,xn=Yt.page,An=Yt.viewport,kn=un.hasPopup===!1,Ln=Nn(un),zn=Dn(un),In=!!(un.hasPopup||Ln||zn),Sn=un.rect,Un=Sn[2]-Sn[0],jn=Sn[3]-Sn[1],rr=un.borderStyle.width;return Et.createElement(Fr,{annotation:un,hasPopup:kn,ignoreBorder:!0,isRenderable:In,page:xn,viewport:An},function(nr){return Et.createElement("div",Rt({},nr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":un.id,onClick:nr.popup.toggleOnClick,onMouseEnter:nr.popup.openOnHover,onMouseLeave:nr.popup.closeOnHover}),un.vertices&&un.vertices.length&&Et.createElement("svg",{height:"".concat(jn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Un," ").concat(jn),width:"".concat(Un,"px")},Et.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:rr||1,points:un.vertices.map(function(tr){return"".concat(tr.x-Sn[0],",").concat(Sn[3]-tr.y)}).join(" ")})),nr.slot.children)})},dr=function(Yt){var un=Yt.annotation,xn=Yt.page,An=Yt.viewport,kn=un.hasPopup===!1,Ln=Nn(un),zn=Dn(un),In=!!(un.hasPopup||Ln||zn),Sn=un.rect,Un=Sn[2]-Sn[0],jn=Sn[3]-Sn[1],rr=un.borderStyle.width;return Et.createElement(Fr,{annotation:un,hasPopup:kn,ignoreBorder:!0,isRenderable:In,page:xn,viewport:An},function(nr){return Et.createElement("div",Rt({},nr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":un.id,onClick:nr.popup.toggleOnClick,onMouseEnter:nr.popup.openOnHover,onMouseLeave:nr.popup.closeOnHover}),un.vertices&&un.vertices.length&&Et.createElement("svg",{height:"".concat(jn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Un," ").concat(jn),width:"".concat(Un,"px")},Et.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:rr||1,points:un.vertices.map(function(tr){return"".concat(tr.x-Sn[0],",").concat(Sn[3]-tr.y)}).join(" ")})),nr.slot.children)})},zr=function(Yt){var un=Yt.annotation,xn=Yt.page,An=Yt.viewport,kn=un.hasPopup===!1,Ln=Nn(un),zn=Dn(un),In=!!(un.hasPopup||Ln||zn),Sn=un.rect,Un=Sn[2]-Sn[0],jn=Sn[3]-Sn[1],rr=un.borderStyle.width;return Et.createElement(Fr,{annotation:un,hasPopup:kn,ignoreBorder:!0,isRenderable:In,page:xn,viewport:An},function(nr){return Et.createElement("div",Rt({},nr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":un.id,onClick:nr.popup.toggleOnClick,onMouseEnter:nr.popup.openOnHover,onMouseLeave:nr.popup.closeOnHover}),Et.createElement("svg",{height:"".concat(jn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Un," ").concat(jn),width:"".concat(Un,"px")},Et.createElement("rect",{height:jn-rr,fill:"none",stroke:"transparent",strokeWidth:rr||1,x:rr/2,y:rr/2,width:Un-rr})),nr.slot.children)})},vr=function(Yt){var un=Yt.annotation,xn=Yt.page,An=Yt.viewport,kn=un.hasPopup===!1,Ln=Nn(un),zn=Dn(un),In=!!(un.hasPopup||Ln||zn);return Et.createElement(Fr,{annotation:un,hasPopup:kn,ignoreBorder:!0,isRenderable:In,page:xn,viewport:An},function(Sn){return Et.createElement("div",Rt({},Sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":un.id,onClick:Sn.popup.toggleOnClick,onMouseEnter:Sn.popup.openOnHover,onMouseLeave:Sn.popup.closeOnHover}),Sn.slot.children)})},wr=function(Yt){var un=Yt.annotation,xn=Yt.page,An=Yt.viewport,kn=un.hasPopup===!1,Ln=Nn(un),zn=Dn(un),In=!!(un.hasPopup||Ln||zn);return Et.createElement(Fr,{annotation:un,hasPopup:kn,ignoreBorder:!0,isRenderable:In,page:xn,viewport:An},function(Sn){return Et.createElement("div",Rt({},Sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":un.id,onClick:Sn.popup.toggleOnClick,onMouseEnter:Sn.popup.openOnHover,onMouseLeave:Sn.popup.closeOnHover}),Sn.slot.children)})},Nr=function(Yt){var un=Yt.annotation,xn=Yt.page,An=Yt.viewport,kn=un.hasPopup===!1,Ln=Nn(un),zn=Dn(un),In=!!(un.hasPopup||Ln||zn);return Et.createElement(Fr,{annotation:un,hasPopup:kn,ignoreBorder:!0,isRenderable:In,page:xn,viewport:An},function(Sn){return Et.createElement("div",Rt({},Sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":un.id,onClick:Sn.popup.toggleOnClick,onMouseEnter:Sn.popup.openOnHover,onMouseLeave:Sn.popup.closeOnHover}),Sn.slot.children)})},qr=function(){return Et.createElement(Nt,{size:16},Et.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),Et.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),Et.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),Et.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ns=function(){return Et.createElement(Nt,{size:16},Et.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),Et.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),Et.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),Et.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),Et.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),Et.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),Et.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),Et.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),Et.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),Et.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},ps=function(){return Et.createElement(Nt,{size:16},Et.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),Et.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Hs=function(){return Et.createElement(Nt,{size:16},Et.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),Et.createElement("path",{d:"M6 4.5L6 0.5"}),Et.createElement("path",{d:"M18 4.5L18 0.5"}),Et.createElement("path",{d:"M10 4.5L10 0.5"}),Et.createElement("path",{d:"M14 4.5L14 0.5"}))},Fs=function(){return Et.createElement(Nt,{size:16},Et.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),Et.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),Et.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Do=function(){return Et.createElement(Nt,{size:16},Et.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Yo=function(Yt){var un=Yt.annotation,xn=Yt.childAnnotation,An=Yt.page,kn=Yt.viewport,Ln=un.hasPopup===!1,zn=Nn(un),In=Dn(un),Sn=!!(un.hasPopup||zn||In),Un=un.name?un.name.toLowerCase():"";return Et.createElement(Fr,{annotation:un,hasPopup:Ln,ignoreBorder:!1,isRenderable:Sn,page:An,viewport:kn},function(jn){return Et.createElement(Et.Fragment,null,Et.createElement("div",Rt({},jn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":un.id,onClick:jn.popup.toggleOnClick,onMouseEnter:jn.popup.openOnHover,onMouseLeave:jn.popup.closeOnHover}),Un&&Et.createElement("div",{className:"rpv-core__annotation-text-icon"},Un==="check"&&Et.createElement($t,null),Un==="comment"&&Et.createElement(qr,null),Un==="help"&&Et.createElement(ns,null),Un==="insert"&&Et.createElement(Do,null),Un==="key"&&Et.createElement(ps,null),Un==="note"&&Et.createElement(Hs,null),(Un==="newparagraph"||Un==="paragraph")&&Et.createElement(Fs,null)),jn.slot.children),xn&&xn.annotationType===vt.AnnotationType.Popup&&jn.popup.opened&&Et.createElement(Er,{annotation:xn,page:An,viewport:kn}))})},Zo=function(Yt){var un=Yt.annotation,xn=Yt.page,An=Yt.viewport,kn=un.hasPopup===!1,Ln=Nn(un),zn=Dn(un),In=!!(un.hasPopup||Ln||zn);return Et.createElement(Fr,{annotation:un,hasPopup:kn,ignoreBorder:!0,isRenderable:In,page:xn,viewport:An},function(Sn){return Et.createElement("div",Rt({},Sn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":un.id,onClick:Sn.popup.toggleOnClick,onMouseEnter:Sn.popup.openOnHover,onMouseLeave:Sn.popup.closeOnHover}),Sn.slot.children)})},iy=function(Yt){var un=Yt.annotations,xn=Yt.doc,An=Yt.outlines,kn=Yt.page,Ln=Yt.pageIndex,zn=Yt.plugins,In=Yt.rotation,Sn=Yt.scale,Un=Yt.onExecuteNamedAction,jn=Yt.onJumpFromLinkAnnotation,rr=Yt.onJumpToDest,nr=Et.useRef(),tr=kn.getViewport({rotation:In,scale:Sn}).clone({dontFlip:!0}),hr=un.filter(function(ur){return!ur.parentId});return Lt(function(){var ur=nr.current;ur&&zn.forEach(function(lr){lr.onAnnotationLayerRender&&lr.onAnnotationLayerRender({annotations:hr,container:ur,pageIndex:Ln,rotation:In,scale:Sn})})},[]),Et.createElement("div",{ref:nr,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Ln)},hr.map(function(ur){var lr=un.find(function(es){return es.parentId===ur.id});switch(ur.annotationType){case vt.AnnotationType.Caret:return Et.createElement(_n,{key:ur.id,annotation:ur,page:kn,viewport:tr});case vt.AnnotationType.Circle:return Et.createElement(Zn,{key:ur.id,annotation:ur,page:kn,viewport:tr});case vt.AnnotationType.FileAttachment:return Et.createElement(cr,{key:ur.id,annotation:ur,page:kn,viewport:tr});case vt.AnnotationType.FreeText:return Et.createElement(br,{key:ur.id,annotation:ur,page:kn,viewport:tr});case vt.AnnotationType.Highlight:return Et.createElement(fr,{key:ur.id,annotation:ur,childAnnotation:lr,page:kn,viewport:tr});case vt.AnnotationType.Ink:return Et.createElement(yn,{key:ur.id,annotation:ur,page:kn,viewport:tr});case vt.AnnotationType.Line:return Et.createElement(mn,{key:ur.id,annotation:ur,page:kn,viewport:tr});case vt.AnnotationType.Link:return Et.createElement(_r,{key:ur.id,annotation:ur,annotationContainerRef:nr,doc:xn,outlines:An,page:kn,pageIndex:Ln,scale:Sn,viewport:tr,onExecuteNamedAction:Un,onJumpFromLinkAnnotation:jn,onJumpToDest:rr});case vt.AnnotationType.Polygon:return Et.createElement(mr,{key:ur.id,annotation:ur,page:kn,viewport:tr});case vt.AnnotationType.Polyline:return Et.createElement(dr,{key:ur.id,annotation:ur,page:kn,viewport:tr});case vt.AnnotationType.Popup:return Et.createElement(Er,{key:ur.id,annotation:ur,page:kn,viewport:tr});case vt.AnnotationType.Square:return Et.createElement(zr,{key:ur.id,annotation:ur,page:kn,viewport:tr});case vt.AnnotationType.Squiggly:return Et.createElement(vr,{key:ur.id,annotation:ur,page:kn,viewport:tr});case vt.AnnotationType.Stamp:return Et.createElement(wr,{key:ur.id,annotation:ur,page:kn,viewport:tr});case vt.AnnotationType.StrikeOut:return Et.createElement(Nr,{key:ur.id,annotation:ur,page:kn,viewport:tr});case vt.AnnotationType.Text:return Et.createElement(Yo,{key:ur.id,annotation:ur,childAnnotation:lr,page:kn,viewport:tr});case vt.AnnotationType.Underline:return Et.createElement(Zo,{key:ur.id,annotation:ur,page:kn,viewport:tr});default:return Et.createElement(Et.Fragment,{key:ur.id})}}))},Cw=function(Yt){var un=Yt.page,xn=Yt.renderAnnotations,An=gn(),kn=Et.useState({loading:!0,annotations:[]}),Ln=kn[0],zn=kn[1];return Et.useEffect(function(){un.getAnnotations({intent:"display"}).then(function(In){An.current&&zn({loading:!1,annotations:In})})},[]),Ln.loading?Et.createElement(Et.Fragment,null):xn(Ln.annotations)},Tw=function(Yt){var un=Yt.doc,xn=Yt.outlines,An=Yt.page,kn=Yt.pageIndex,Ln=Yt.plugins,zn=Yt.rotation,In=Yt.scale,Sn=Yt.onExecuteNamedAction,Un=Yt.onJumpFromLinkAnnotation,jn=Yt.onJumpToDest;return Et.createElement(Cw,{page:An,renderAnnotations:function(rr){return Et.createElement(iy,{annotations:rr,doc:un,outlines:xn,page:An,pageIndex:kn,plugins:Ln,rotation:zn,scale:In,onExecuteNamedAction:Sn,onJumpFromLinkAnnotation:Un,onJumpToDest:jn})}})},sy=function(Yt,un){var xn=Yt%un;return xn===0?Yt:Math.floor(Yt-xn)},Rw=function(Yt){var un=Yt.canvasLayerRef,xn=Yt.height,An=Yt.page,kn=Yt.pageIndex,Ln=Yt.plugins,zn=Yt.rotation,In=Yt.scale,Sn=Yt.width,Un=Yt.onRenderCanvasCompleted,jn=Et.useRef();return Lt(function(){var rr=jn.current;rr&&rr.cancel();var nr=un.current;nr.removeAttribute("data-testid"),Ln.forEach(function(Ur){Ur.onCanvasLayerRender&&Ur.onCanvasLayerRender({ele:nr,pageIndex:kn,rotation:zn,scale:In,status:vt.LayerRenderStatus.PreRender})});var tr=An.getViewport({rotation:zn,scale:In}),hr=window.devicePixelRatio||1,ur=Math.sqrt(16777216/(tr.width*tr.height)),lr=hr>ur;lr?nr.style.transform="scale(1, 1)":nr.style.removeProperty("transform");var es=Math.min(ur,hr),Ir=function(Ur,cs){var as,us;if(Math.floor(Ur)===Ur)return[Ur,1];var hs=1/Ur;if(hs>cs)return[1,cs];if(Math.floor(hs)===hs)return[1,hs];for(var gs=Ur>1?hs:Ur,Ns=0,Ts=1,Bs=1,Ls=1;;){var Ds=Ns+Bs,Os=Ts+Ls;if(Os>cs)break;gs<=Ds/Os?(Bs=(as=[Ds,Os])[0],Ls=as[1]):(Ns=(us=[Ds,Os])[0],Ts=us[1])}return gs<(Ns/Ts+Bs/Ls)/2?gs===Ur?[Ns,Ts]:[Ts,Ns]:gs===Ur?[Bs,Ls]:[Ls,Bs]}(es,8),jr=Ir[0],Vr=Ir[1];nr.width=sy(tr.width*es,jr),nr.height=sy(tr.height*es,jr),nr.style.width="".concat(sy(tr.width,Vr),"px"),nr.style.height="".concat(sy(tr.height,Vr),"px"),nr.hidden=!0;var Rr=nr.getContext("2d",{alpha:!1}),Gr=lr||hr!==1?[es,0,0,es,0,0]:null;return jn.current=An.render({canvasContext:Rr,transform:Gr,viewport:tr}),jn.current.promise.then(function(){nr.hidden=!1,nr.setAttribute("data-testid","core__canvas-layer-".concat(kn)),Ln.forEach(function(Ur){Ur.onCanvasLayerRender&&Ur.onCanvasLayerRender({ele:nr,pageIndex:kn,rotation:zn,scale:In,status:vt.LayerRenderStatus.DidRender})}),Un()},function(){Un()}),function(){nr&&(nr.width=0,nr.height=0)}},[]),Et.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(xn,"px"),width:"".concat(Sn,"px")}},Et.createElement("canvas",{ref:un}))},kw=function(Yt){var un=Yt.height,xn=Yt.page,An=Yt.rotation,kn=Yt.scale,Ln=Yt.width,zn=Et.useRef();return Lt(function(){var In=zn.current,Sn=xn.getViewport({rotation:An,scale:kn});xn.getOperatorList().then(function(Un){(function(){var jn=zn.current;jn&&(jn.innerHTML="")})(),new wt.SVGGraphics(xn.commonObjs,xn.objs).getSVG(Un,Sn).then(function(jn){jn.style.height="".concat(un,"px"),jn.style.width="".concat(Ln,"px"),In.appendChild(jn)})})},[]),Et.createElement("div",{className:"rpv-core__svg-layer",ref:zn})},Pw=function(Yt){var un=Yt.containerRef,xn=Yt.page,An=Yt.pageIndex,kn=Yt.plugins,Ln=Yt.rotation,zn=Yt.scale,In=Yt.onRenderTextCompleted,Sn=Et.useRef(),Un=function(){var jn=un.current;jn&&([].slice.call(jn.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(rr){return jn.removeChild(rr)}),[].slice.call(jn.querySelectorAll('br[role="presentation"]')).forEach(function(rr){return jn.removeChild(rr)}))};return Lt(function(){var jn=Sn.current;jn&&jn.cancel();var rr=un.current;if(rr){rr.removeAttribute("data-testid");var nr=xn.getViewport({rotation:Ln,scale:zn});return kn.forEach(function(tr){tr.onTextLayerRender&&tr.onTextLayerRender({ele:rr,pageIndex:An,scale:zn,status:vt.LayerRenderStatus.PreRender})}),xn.getTextContent().then(function(tr){Un(),Sn.current=wt.renderTextLayer({container:rr,textContent:tr,textContentSource:tr,viewport:nr}),Sn.current.promise.then(function(){rr.setAttribute("data-testid","core__text-layer-".concat(An)),[].slice.call(rr.children).forEach(function(hr){hr.classList.contains("rpv-core__text-layer-text--not")||hr.classList.add("rpv-core__text-layer-text")}),kn.forEach(function(hr){hr.onTextLayerRender&&hr.onTextLayerRender({ele:rr,pageIndex:An,scale:zn,status:vt.LayerRenderStatus.DidRender})}),In()},function(){rr.removeAttribute("data-testid"),In()})}),function(){var tr;Un(),(tr=Sn.current)===null||tr===void 0||tr.cancel()}}},[]),Et.createElement("div",{className:"rpv-core__text-layer",ref:un})},Mw=function(Yt){var un=Yt.doc,xn=Yt.measureRef,An=Yt.outlines,kn=Yt.pageIndex,Ln=Yt.pageRotation,zn=Yt.pageSize,In=Yt.plugins,Sn=Yt.renderPage,Un=Yt.renderQueueKey,jn=Yt.rotation,rr=Yt.scale,nr=Yt.shouldRender,tr=Yt.viewMode,hr=Yt.onExecuteNamedAction,ur=Yt.onJumpFromLinkAnnotation,lr=Yt.onJumpToDest,es=Yt.onRenderCompleted,Ir=Yt.onRotatePage,jr=gn(),Vr=Et.useState(null),Rr=Vr[0],Gr=Vr[1],Ur=Et.useState(!1),cs=Ur[0],as=Ur[1],us=Et.useState(!1),hs=us[0],gs=us[1],Ns=Et.useRef(),Ts=Et.useRef(),Bs=Math.abs(jn+Ln)%180==0,Ls=zn.pageWidth*rr,Ds=zn.pageHeight*rr,Os=Bs?Ls:Ds,$s=Bs?Ds:Ls,ga=(zn.rotation+jn+Ln)%360,Qo=Et.useRef(0),Oo=Sn||function(Gs){return Et.createElement(Et.Fragment,null,Gs.canvasLayer.children,Gs.textLayer.children,Gs.annotationLayer.children)};return Et.useEffect(function(){Gr(null),as(!1),gs(!1)},[Ln,jn,rr]),Et.useEffect(function(){nr&&jr.current&&!Rr&&gr(un,kn).then(function(Gs){jr.current&&(Qo.current=Un,Gr(Gs))})},[nr,Rr]),Et.useEffect(function(){cs&&hs&&(Un!==Qo.current?(Gr(null),as(!1),gs(!1)):es(kn))},[cs,hs]),Et.createElement("div",{className:Ft({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":tr===vt.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":tr===vt.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":tr===vt.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(kn),ref:xn,style:{height:"".concat($s,"px"),width:"".concat(Os,"px")}},Rr?Et.createElement(Et.Fragment,null,Oo({annotationLayer:{attrs:{},children:Et.createElement(Tw,{doc:un,outlines:An,page:Rr,pageIndex:kn,plugins:In,rotation:ga,scale:rr,onExecuteNamedAction:hr,onJumpFromLinkAnnotation:ur,onJumpToDest:lr})},canvasLayer:{attrs:{},children:Et.createElement(Rw,{canvasLayerRef:Ns,height:$s,page:Rr,pageIndex:kn,plugins:In,rotation:ga,scale:rr,width:Os,onRenderCanvasCompleted:function(){jr.current&&as(!0)}})},canvasLayerRendered:cs,doc:un,height:$s,pageIndex:kn,rotation:ga,scale:rr,svgLayer:{attrs:{},children:Et.createElement(kw,{height:$s,page:Rr,rotation:ga,scale:rr,width:Os})},textLayer:{attrs:{},children:Et.createElement(Pw,{containerRef:Ts,page:Rr,pageIndex:kn,plugins:In,rotation:ga,scale:rr,onRenderTextCompleted:function(){jr.current&&gs(!0)}})},textLayerRendered:hs,width:Os,markRendered:es,onRotatePage:function(Gs){return Ir(kn,Gs)}}),In.map(function(Gs,po){return Gs.renderPageLayer?Et.createElement(Et.Fragment,{key:po},Gs.renderPageLayer({canvasLayerRef:Ns,canvasLayerRendered:cs,doc:un,height:$s,pageIndex:kn,rotation:ga,scale:rr,textLayerRef:Ts,textLayerRendered:hs,width:Os})):Et.createElement(Et.Fragment,{key:po})})):Et.createElement(jt,{testId:"core__page-layer-loading-".concat(kn)}))},Fw=function(Yt,un){var xn=un.rect;return Yt.height!==xn.height||Yt.width!==xn.width?xn:Yt};(function(Yt){Yt.Horizontal="Horizontal",Yt.Vertical="Vertical",Yt.Both="Both"})(yr||(yr={}));var Lw=function(Yt){return 1-Math.pow(1-Yt,4)},ay=1e-4,o1={left:0,top:0},l1={capture:!1,passive:!0},$w=function(Yt){var un=Yt.elementRef,xn=Yt.enableSmoothScroll,An=Yt.isRtl,kn=Yt.scrollDirection,Ln=Yt.onSmoothScroll,zn=Et.useState(o1),In=zn[0],Sn=zn[1],Un=Et.useState(un.current),jn=Un[0],rr=Un[1],nr=An?-1:1,tr=Et.useRef(kn);tr.current=kn;var hr=Et.useRef(o1),ur=Et.useRef(!0),lr=Et.useCallback(function(){ur.current=!0,xn&&Sn(hr.current),Ln(!1)},[]),es=Et.useCallback(function(){if(jn){switch(tr.current){case yr.Horizontal:hr.current={left:nr*jn.scrollLeft,top:0};break;case yr.Both:hr.current={left:nr*jn.scrollLeft,top:jn.scrollTop};break;case yr.Vertical:default:hr.current={left:0,top:jn.scrollTop}}xn&&!ur.current||Sn(hr.current)}},[jn]);Lt(function(){rr(un.current)}),Lt(function(){if(jn)return jn.addEventListener("scroll",es,l1),function(){jn.removeEventListener("scroll",es,l1)}},[jn]);var Ir=Et.useCallback(function(jr,Vr){var Rr=un.current;if(!Rr)return Promise.resolve();var Gr={left:0,top:0};switch(tr.current){case yr.Horizontal:Gr.left=nr*jr.left;break;case yr.Both:Gr.left=nr*jr.left,Gr.top=jr.top;break;case yr.Vertical:default:Gr.top=jr.top}return Vr?(ur.current=!1,Ln(!0),new Promise(function(Ur,cs){(function(as,us,hs,gs,Ns,Ts){Ns===void 0&&(Ns=function(po){return po}),Ts===void 0&&(Ts=function(){});var Bs=0,Ls=0,Ds=!1;switch(us){case yr.Horizontal:Ls=as.scrollLeft,Bs=0;case yr.Both:Ls=as.scrollLeft,Bs=as.scrollTop;break;case yr.Vertical:default:Ls=0,Bs=as.scrollTop}var Os=function(){Ds||(Ds=!0,as.scrollLeft=hs.left,as.scrollTop=hs.top,Ts())};if(Math.abs(Bs-hs.top)<=ay&&us===yr.Vertical)Os();else if(Math.abs(Ls-hs.left)<=ay&&us===yr.Horizontal)Os();else{var $s,ga=-1,Qo=Ls-hs.left,Oo=Bs-hs.top,Gs=function(po){ga===-1&&(ga=po);var Il=po-ga,Hr=Math.min(Il/gs,1),Br=Ns(Hr),kr={left:Ls-Qo*Br,top:Bs-Oo*Br};switch(us){case yr.Horizontal:as.scrollLeft=kr.left;break;case yr.Both:as.scrollLeft=kr.left,as.scrollTop=kr.top;break;case yr.Vertical:default:as.scrollTop=kr.top}Math.abs(kr.top-hs.top)<=ay&&Math.abs(kr.left-hs.left)<=ay&&!Ds&&(window.cancelAnimationFrame($s),Os()),Il<gs?$s=window.requestAnimationFrame(Gs):window.cancelAnimationFrame($s)};$s=window.requestAnimationFrame(Gs)}})(Rr,tr.current,Gr,400,Lw,function(){lr(),Ur()})})):new Promise(function(Ur,cs){switch(tr.current){case yr.Horizontal:Rr.scrollLeft=Gr.left;break;case yr.Both:Rr.scrollLeft=Gr.left,Rr.scrollTop=Gr.top;break;case yr.Vertical:default:Rr.scrollTop=Gr.top}Ur()})},[un]);return{scrollOffset:In,scrollTo:Ir}},n0=function(Yt,un,xn){return Math.max(Yt,Math.min(xn,un))},Dw=function(Yt,un){if(un!==vt.ViewMode.DualPageWithCover)return 0;if(!function(kn){var Ln=kn.length;if(Ln===1)return!1;for(var zn=1;zn<Ln;zn++)if(kn[zn].height!==kn[0].height||kn[zn].width!==kn[0].width)return!0;return!1}(Yt))return 2*Yt[0].width;var xn=Rn(Yt.slice(1),2).map(function(kn){return kn.length===2?kn[0].width+kn[1].width:kn[0].width}),An=[Yt[0].width].concat(xn);return Math.max.apply(Math,An)},Ow={left:0,top:0},Iw={left:0,top:0},p_={left:0,top:0},Nw={left:0,top:0},jw={height:0,width:0},c1={left:0,top:0},u1="data-virtual-index",Bw=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Uw=function(Yt){var un=Yt.enableSmoothScroll,xn=Yt.isRtl,An=Yt.numberOfItems,kn=Yt.parentRef,Ln=Yt.setRenderRange,zn=Yt.sizes,In=Yt.scrollMode,Sn=Yt.viewMode,Un=Et.useState(!1),jn=Un[0],rr=Un[1],nr=Et.useCallback(function(Hr){return rr(Hr)},[]),tr=Et.useRef(In);tr.current=In;var hr=Et.useRef(Sn);hr.current=Sn;var ur=In===vt.ScrollMode.Wrapped||Sn===vt.ViewMode.DualPageWithCover||Sn===vt.ViewMode.DualPage?yr.Both:In===vt.ScrollMode.Horizontal?yr.Horizontal:yr.Vertical,lr=$w({elementRef:kn,enableSmoothScroll:un,isRtl:xn,scrollDirection:ur,onSmoothScroll:nr}),es=lr.scrollOffset,Ir=lr.scrollTo,jr=function(Hr){var Br=Hr.elementRef,kr=Et.useState(Br.current),$r=kr[0],Pr=kr[1],Xr=Et.useRef(!1),Kr=Et.useReducer(Fw,{height:0,width:0}),Dr=Kr[0],xr=Kr[1];return Lt(function(){Br.current!==$r&&Pr(Br.current)}),Lt(function(){if($r&&!Xr.current){Xr.current=!0;var Jr=$r.getBoundingClientRect(),ts=Jr.height,ws=Jr.width;xr({rect:{height:ts,width:ws}})}},[$r]),Et.useEffect(function(){if($r){var Jr=new ResizeObserver(function(ts,ws){ts.forEach(function(_s){if(_s.target===$r){var Zs=_s.contentRect,yo=Zs.height,_i=Zs.width;xr({rect:{height:yo,width:_i}})}})});return Jr.observe($r),function(){Jr.unobserve($r)}}},[$r]),Dr}({elementRef:kn}),Vr=Et.useRef({scrollOffset:c1,measurements:[]});Vr.current.scrollOffset=es;var Rr=Et.useMemo(function(){return Array(An).fill(-1)},[]),Gr=Et.useState(Rr),Ur=Gr[0],cs=Gr[1],as=Et.useMemo(function(){var Hr=new IntersectionObserver(function(Br){Br.forEach(function(kr){var $r=kr.isIntersecting?kr.intersectionRatio:-1,Pr=kr.target.getAttribute(u1);if(Pr){var Xr=parseInt(Pr,10);0<=Xr&&Xr<An&&cs(function(Kr){return Kr[Xr]=$r,function(Dr,xr,Jr){for(var ts,ws=0,_s=xr.length;ws<_s;ws++)!ts&&ws in xr||(ts||(ts=Array.prototype.slice.call(xr,0,ws)),ts[ws]=xr[ws]);return Dr.concat(ts||Array.prototype.slice.call(xr))}([],Kr)})}})},{threshold:Bw});return Hr},[]),us=Et.useMemo(function(){return In===vt.ScrollMode.Page&&Sn===vt.ViewMode.SinglePage?function(Hr,Br,kr){for(var $r=[],Pr=0;Pr<Hr;Pr++){var Xr={height:Math.max(Br.height,kr[Pr].height),width:Math.max(Br.width,kr[Pr].width)},Kr=Pr===0?Nw:$r[Pr-1].end,Dr={left:Kr.left+Xr.width,top:Kr.top+Xr.height};$r[Pr]={index:Pr,start:Kr,size:Xr,end:Dr,visibility:-1}}return $r}(An,jr,zn):Sn===vt.ViewMode.DualPageWithCover?function(Hr,Br,kr,$r){for(var Pr=[],Xr=0,Kr=0,Dr=p_,xr=0;xr<Hr;xr++){var Jr=xr===0?{height:$r===vt.ScrollMode.Page?Math.max(Br.height,kr[xr].height):kr[xr].height,width:$r===vt.ScrollMode.Page?Math.max(Br.width,kr[xr].width):kr[xr].width}:{height:$r===vt.ScrollMode.Page?Math.max(Br.height,kr[xr].height):kr[xr].height,width:Math.max(Br.width/2,kr[xr].width)};$r===vt.ScrollMode.Page?Dr=xr===0?p_:{left:xr%2==0?Jr.width:0,top:Math.floor((xr-1)/2)*Jr.height+Pr[0].end.top}:xr===0?(Dr=p_,Xr=kr[0].height,Kr=0):xr%2==1?(Dr={left:0,top:Xr+=Kr},Kr=xr===Hr-1?kr[xr].height:Math.max(kr[xr].height,kr[xr+1].height)):Dr={left:Pr[xr-1].end.left,top:Xr};var ts={left:Dr.left+Jr.width,top:Dr.top+Jr.height};Pr[xr]={index:xr,start:Dr,size:Jr,end:ts,visibility:-1}}return Pr}(An,jr,zn,In):Sn===vt.ViewMode.DualPage?function(Hr,Br,kr,$r){for(var Pr=[],Xr=0,Kr=0,Dr=Iw,xr=0;xr<Hr;xr++){var Jr={height:$r===vt.ScrollMode.Page?Math.max(Br.height,kr[xr].height):kr[xr].height,width:Math.max(Br.width/2,kr[xr].width)};$r===vt.ScrollMode.Page?Dr={left:xr%2==0?0:Jr.width,top:Math.floor(xr/2)*Jr.height}:xr%2==0?(Dr={left:0,top:Xr+=Kr},Kr=xr===Hr-1?kr[xr].height:Math.max(kr[xr].height,kr[xr+1].height)):Dr={left:Pr[xr-1].end.left,top:Xr};var ts={left:Dr.left+Jr.width,top:Dr.top+Jr.height};Pr[xr]={index:xr,start:Dr,size:Jr,end:ts,visibility:-1}}return Pr}(An,jr,zn,In):function(Hr,Br,kr,$r){for(var Pr=[],Xr=0,Kr={left:0,top:0},Dr=0,xr=Ow,Jr=0;Jr<Hr;Jr++){var ts=kr[Jr];if(Jr===0)Xr=ts.width,Kr={left:0,top:0},Dr=ts.height;else switch($r){case vt.ScrollMode.Wrapped:(Xr+=ts.width)<Br.width?(xr={left:Pr[Jr-1].end.left,top:Kr.top},Dr=Math.max(Dr,ts.height)):(Xr=ts.width,Kr={left:(xr={left:Kr.left,top:Kr.top+Dr}).left,top:xr.top},Dr=ts.height);break;case vt.ScrollMode.Horizontal:case vt.ScrollMode.Vertical:default:xr=Pr[Jr-1].end}var ws={left:xr.left+ts.width,top:xr.top+ts.height};Pr[Jr]={index:Jr,start:xr,size:ts,end:ws,visibility:-1}}return Pr}(An,jr,zn,In)},[In,zn,Sn,jr]),hs=us[An-1]?{height:us[An-1].end.top,width:us[An-1].end.left}:jw;Vr.current.measurements=us;var gs=Et.useMemo(function(){var Hr=function(Jr,ts,ws,_s){var Zs=0;switch(Jr){case yr.Horizontal:Zs=_s.left;break;case yr.Vertical:default:Zs=_s.top}var yo=ts.length-1,_i=function(ys,vu,Yp,ly){for(;ys<=vu;){var Xu=(ys+vu)/2|0,r0=ly(Xu);if(r0<Yp)ys=Xu+1;else{if(!(r0>Yp))return Xu;vu=Xu-1}}return ys>0?ys-1:0}(0,yo,Zs,function(ys){switch(Jr){case yr.Horizontal:return ts[ys].start.left;case yr.Both:case yr.Vertical:default:return ts[ys].start.top}});if(Jr===yr.Both)for(var Qs=ts[_i].start.top;_i-1>=0&&ts[_i-1].start.top===Qs&&ts[_i-1].start.left>=_s.left;)_i--;for(var As=_i;As<=yo;){var Rs={top:ts[As].start.top-_s.top,left:ts[As].start.left-_s.left},zs={height:ws.height-Rs.top,width:ws.width-Rs.left};if(Jr===yr.Horizontal&&zs.width<0||Jr===yr.Vertical&&zs.height<0||Jr===yr.Both&&(zs.width<0||zs.height<0))break;As++}return{start:_i,end:As}}(ur,us,jr,es),Br=Hr.start,kr=Hr.end,$r=Ur.slice(n0(0,An,Br),n0(0,An,kr)),Pr=Br+$r.reduce(function(Jr,ts,ws,_s){return ts>_s[Jr]?ws:Jr},0),Xr=Pr=n0(0,An-1,Pr),Kr=Ln({endPage:kr,numPages:An,startPage:Br}),Dr=Kr.startPage,xr=Kr.endPage;switch(Dr=Math.max(Dr,0),xr=Math.min(xr,An-1),Sn){case vt.ViewMode.DualPageWithCover:Pr>0&&(Xr=Pr%2==1?Pr:Pr-1),Dr=Dr===0?0:Dr%2==1?Dr:Dr-1,An-(xr=xr%2==1?xr-1:xr)<=2&&(xr=An-1);break;case vt.ViewMode.DualPage:Xr=Pr%2==0?Pr:Pr-1,Dr=Dr%2==0?Dr:Dr-1,xr=xr%2==1?xr:xr-1;break;case vt.ViewMode.SinglePage:default:Xr=Pr}return{startPage:Dr,endPage:xr,maxVisbilityIndex:Xr}},[us,jr,es,Sn,Ur]),Ns=gs.startPage,Ts=gs.endPage,Bs=gs.maxVisbilityIndex,Ls=Et.useMemo(function(){for(var Hr=[],Br=function($r){var Pr=us[$r],Xr=Rt(Rt({},Pr),{visibility:Ur[$r]!==void 0?Ur[$r]:-1,measureRef:function(Kr){Kr&&(Kr.setAttribute(u1,"".concat($r)),as.observe(Kr))}});Hr.push(Xr)},kr=Ns;kr<=Ts;kr++)Br(kr);return Hr},[Ns,Ts,Ur,us]),Ds=Et.useCallback(function(Hr,Br){var kr=Vr.current.measurements[n0(0,An-1,Hr)],$r=tr.current===vt.ScrollMode.Page?c1:Br;return kr?Ir({left:$r.left+kr.start.left,top:$r.top+kr.start.top},un):Promise.resolve()},[Ir,un]),Os=Et.useCallback(function(Hr,Br){var kr=Vr.current.measurements,$r=kr[Hr].start,Pr=kr.find(function(Kr){return Kr.start.top-$r.top>1e-12});if(!Pr)return Promise.resolve();var Xr=Pr.index;switch(hr.current){case vt.ViewMode.DualPage:Xr=Xr%2==0?Xr:Xr+1;break;case vt.ViewMode.DualPageWithCover:Xr=Xr%2==1?Xr:Xr+1}return Ds(Xr,Br)},[]),$s=Et.useCallback(function(Hr,Br){for(var kr=Vr.current.measurements,$r=kr[Hr].start,Pr=Hr,Xr=!1,Kr=An-1;Kr>=0;Kr--)if($r.top-kr[Kr].start.top>1e-12){Xr=!0,Pr=kr[Kr].index;break}if(!Xr)return Promise.resolve();switch(hr.current){case vt.ViewMode.DualPage:Pr=Pr%2==0?Pr:Pr-1;break;case vt.ViewMode.DualPageWithCover:Pr=Pr%2==0?Pr-1:Pr}return Pr===Hr&&(Pr=Hr-1),Ds(Pr,Br)},[]),ga=Et.useCallback(function(Hr,Br){if(hr.current===vt.ViewMode.DualPageWithCover||hr.current===vt.ViewMode.DualPage)return Os(Hr,Br);switch(tr.current){case vt.ScrollMode.Wrapped:return Os(Hr,Br);case vt.ScrollMode.Horizontal:case vt.ScrollMode.Vertical:default:return Ds(Hr+1,Br)}},[]),Qo=Et.useCallback(function(Hr,Br){if(hr.current===vt.ViewMode.DualPageWithCover||hr.current===vt.ViewMode.DualPage)return $s(Hr,Br);switch(tr.current){case vt.ScrollMode.Wrapped:return $s(Hr,Br);case vt.ScrollMode.Horizontal:case vt.ScrollMode.Vertical:default:return Ds(Hr-1,Br)}},[]),Oo=Et.useCallback(function(){return function(Hr,Br){switch(Br){case vt.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Hr.width,"px")};case vt.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Hr.height,"px"),width:"100%"}}}(hs,tr.current)},[hs]),Gs=Et.useCallback(function(Hr){return function(Br,kr,$r){return $r!==vt.ScrollMode.Page?{}:{height:"".concat(kr.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Br.start.top,"px)")}}(Hr,jr,tr.current)},[jr]),po=Et.useCallback(function(Hr){return function(Br,kr,$r,Pr,Xr){var Kr,Dr,xr,Jr,ts,ws,_s,Zs=kr?"right":"left",yo=kr?-1:1,_i=$r.length,Qs=Br.start.left*yo,As=Br.size,Rs=As.height,zs=As.width;if(Pr===vt.ViewMode.DualPageWithCover){var ys=Xr===vt.ScrollMode.Page?0:Br.start.top;return Br.index===0||_i%2==0&&Br.index===_i-1?((Kr={height:"".concat(Rs,"px"),minWidth:"".concat(Dw($r,Pr),"px"),width:"100%"})[Zs]=0,Kr.position="absolute",Kr.top=0,Kr.transform="translate(".concat(Qs,"px, ").concat(ys,"px)"),Kr):((Dr={height:"".concat(Rs,"px"),width:"".concat(zs,"px")})[Zs]=0,Dr.position="absolute",Dr.top=0,Dr.transform="translate(".concat(Qs,"px, ").concat(ys,"px)"),Dr)}if(Pr===vt.ViewMode.DualPage)return(xr={height:"".concat(Rs,"px"),width:"".concat(zs,"px")})[Zs]=0,xr.position="absolute",xr.top=0,xr.transform="translate(".concat(Qs,"px, ").concat(Xr===vt.ScrollMode.Page?0:Br.start.top,"px)"),xr;switch(Xr){case vt.ScrollMode.Horizontal:return(Jr={height:"100%",width:"".concat(zs,"px")})[Zs]=0,Jr.position="absolute",Jr.top=0,Jr.transform="translateX(".concat(Qs,"px)"),Jr;case vt.ScrollMode.Page:return(ts={height:"".concat(Rs,"px"),width:"".concat(zs,"px")})[Zs]=0,ts.position="absolute",ts.top=0,ts;case vt.ScrollMode.Wrapped:return(ws={height:"".concat(Rs,"px"),width:"".concat(zs,"px")})[Zs]=0,ws.position="absolute",ws.top=0,ws.transform="translate(".concat(Qs,"px, ").concat(Br.start.top,"px)"),ws;case vt.ScrollMode.Vertical:default:return(_s={height:"".concat(Rs,"px"),width:"100%"})[Zs]=0,_s.position="absolute",_s.top=0,_s.transform="translateY(".concat(Br.start.top,"px)"),_s}}(Hr,xn,zn,hr.current,tr.current)},[xn,zn]),Il=Et.useCallback(function(Hr,Br){var kr=Vr.current,$r=kr.measurements,Pr=kr.scrollOffset,Xr=$r[n0(0,An-1,Br)];if(Xr){var Kr=tr.current===vt.ScrollMode.Page?{left:Xr.start.left,top:Xr.start.top}:{left:Pr.left*Hr,top:Pr.top*Hr};return Ir(Kr,!1)}return Promise.resolve()},[]);return Et.useEffect(function(){return function(){as.disconnect()}},[]),{boundingClientRect:jr,isSmoothScrolling:jn,startPage:Ns,endPage:Ts,maxVisbilityIndex:Bs,virtualItems:Ls,getContainerStyles:Oo,getItemContainerStyles:Gs,getItemStyles:po,scrollToItem:Ds,scrollToNextItem:ga,scrollToPreviousItem:Qo,zoom:Il}},g_=function(Yt,un,xn,An,kn,Ln){var zn=xn;switch(!0){case(kn===vt.ViewMode.DualPageWithCover&&Ln>=3):case(kn===vt.ViewMode.DualPage&&Ln>=3):zn=2*xn;break;default:zn=xn}switch(An){case vt.SpecialZoomLevel.ActualSize:return 1;case vt.SpecialZoomLevel.PageFit:return Math.min((Yt.clientWidth-17)/zn,(Yt.clientHeight-16)/un);case vt.SpecialZoomLevel.PageWidth:return(Yt.clientWidth-17)/zn}},Hw=function(Yt){var un,xn,An=Yt.getCurrentPage,kn=(un=50,xn=Et.useRef([]),Et.useEffect(function(){return function(){xn.current=[]}},[]),{push:function(Un){var jn=xn.current;jn.length+1>un&&jn.shift(),jn.push(Un),xn.current=jn},map:function(Un){return xn.current.map(function(jn){return Un(jn)})},pop:function(){var Un=xn.current;if(Un.length===0)return null;var jn=Un.pop();return xn.current=Un,jn}}),Ln=function(Un){var jn=Et.useRef([]);return Et.useEffect(function(){return function(){jn.current=[]}},[]),{dequeue:function(){var rr=jn.current;if(rr.length===0)return null;var nr=rr.shift();return jn.current=rr,nr||null},enqueue:function(rr){var nr=jn.current;nr.length+1>Un&&nr.pop(),jn.current=[rr].concat(nr)},map:function(rr){return jn.current.map(function(nr){return rr(nr)})}}}(50),zn=function(){var Un=Ln.dequeue();return Un&&kn.push(Un),Un&&Un.pageIndex===An()?zn():Un},In=function(){var Un=kn.pop();return Un&&Ln.enqueue(Un),Un&&Un.pageIndex===An()?In():Un},Sn=Et.useCallback(function(Un){kn.push(Un)},[]);return{getNextDestination:zn,getPreviousDestination:In,markVisitedDestination:Sn}},d1=function(Yt){var un=[];return Yt.map(function(xn){un=un.concat(xn).concat(function(An){var kn=[];return An.items&&An.items.length>0&&(kn=kn.concat(d1(An.items))),kn}(xn))}),un},h1={capture:!1,passive:!0},zw={height:0,width:0},m_={height:0,width:0},Vw=function(Yt){var un=Yt.getCurrentPage,xn=Yt.getCurrentScrollMode,An=Yt.jumpToPage,kn=Yt.targetRef,Ln=Et.useState(vt.FullScreenMode.Normal),zn=Ln[0],In=Ln[1],Sn=function(){var Ur=Et.useState(zw),cs=Ur[0],as=Ur[1],us=En(function(){as({height:window.innerHeight,width:window.innerWidth})},100);return Lt(function(){return window.addEventListener("resize",us,h1),function(){window.removeEventListener("resize",us,h1)}},[]),cs}(),Un=Et.useState(m_),jn=Un[0],rr=Un[1],nr=Et.useRef(m_),tr=Et.useRef(un()),hr=Et.useRef(m_),ur=Et.useState(kn.current),lr=ur[0],es=ur[1],Ir=Et.useRef();Lt(function(){kn.current!==lr&&es(kn.current)},[]),Lt(function(){if(lr){var Ur=new ResizeObserver(function(cs){cs.forEach(function(as){var us=as.target.getBoundingClientRect(),hs=us.height,gs=us.width;rr({height:hs,width:gs})})});return Ur.observe(lr),function(){Ur.unobserve(lr),Ur.disconnect()}}},[lr]);var jr=Et.useCallback(function(Ur){var cs=fn();return cs&&cs!==Ur?(In(vt.FullScreenMode.Normal),on(cs)):Promise.resolve()},[]),Vr=Et.useCallback(function(Ur){Ur&&Kt()&&(es(Ur),jr(Ur).then(function(){Ir.current=Ur,In(vt.FullScreenMode.Entering),function(cs){en&&cs[ln.RequestFullScreen]()}(Ur)}))},[]),Rr=Et.useCallback(function(){fn()&&(In(vt.FullScreenMode.Exitting),on(document))},[]),Gr=Et.useCallback(function(){lr&&fn()!==lr&&In(vt.FullScreenMode.Exitting)},[lr]);return Et.useEffect(function(){switch(zn){case vt.FullScreenMode.Entering:Ir.current&&(Ir.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),tr.current=un(),nr.current={height:window.innerHeight,width:window.innerWidth};break;case vt.FullScreenMode.Entered:xn()===vt.ScrollMode.Page?An(tr.current).then(function(){In(vt.FullScreenMode.EnteredCompletely)}):In(vt.FullScreenMode.EnteredCompletely);break;case vt.FullScreenMode.Exitting:Ir.current&&(Ir.current.style.backgroundColor="",Ir.current=null),tr.current=un();break;case vt.FullScreenMode.Exited:In(vt.FullScreenMode.Normal),xn()===vt.ScrollMode.Page&&An(tr.current)}},[zn]),Et.useEffect(function(){if(zn!==vt.FullScreenMode.Normal)return zn===vt.FullScreenMode.Entering&&Sn.height===jn.height&&Sn.width===jn.width&&Sn.height>0&&Sn.width>0&&(hr.current.height===0||Sn.height==hr.current.height)?(hr.current={height:window.innerHeight,width:window.innerWidth},void In(vt.FullScreenMode.Entered)):void(zn===vt.FullScreenMode.Exitting&&nr.current.height===Sn.height&&nr.current.width===Sn.width&&Sn.height>0&&Sn.width>0&&In(vt.FullScreenMode.Exited))},[zn,Sn,jn]),Et.useEffect(function(){var Ur;return Ur=Gr,en&&document.addEventListener(ln.FullScreenChange,Ur),function(){(function(cs){en&&document.removeEventListener(ln.FullScreenChange,cs)})(Gr)}},[lr]),{enterFullScreenMode:Vr,exitFullScreenMode:Rr,fullScreenMode:zn}},Ww={buildPageStyles:function(){return{}},transformSize:function(Yt){return Yt.size}},Kp={left:0,top:0},Gw=function(Yt){var un=Yt.currentFile,xn=Yt.defaultScale,An=Yt.doc,kn=Yt.enableSmoothScroll,Ln=Yt.initialPage,zn=Yt.initialRotation,In=Yt.initialScale,Sn=Yt.pageLayout,Un=Yt.pageSizes,jn=Yt.plugins,rr=Yt.renderPage,nr=Yt.scrollMode,tr=Yt.setRenderRange,hr=Yt.viewMode,ur=Yt.viewerState,lr=Yt.onDocumentLoad,es=Yt.onOpenFile,Ir=Yt.onPageChange,jr=Yt.onRotate,Vr=Yt.onRotatePage,Rr=Yt.onZoom,Gr=An.numPages,Ur=An.loadingTask.docId,cs=Et.useContext(vn).l10n,as=Et.useContext(Mt),us=as.direction===vt.TextDirection.RightToLeft,hs=Et.useRef(),gs=Et.useRef(),Ns=Et.useState(Ln),Ts=Ns[0],Bs=Ns[1],Ls=Et.useRef(null),Ds=Hw({getCurrentPage:function(){return _i.current.pageIndex}}),Os=Et.useState(zn),$s=Os[0],ga=Os[1],Qo=wn($s),Oo=Et.useState(!1),Gs=Oo[0],po=Oo[1],Il=Et.useState(new Map),Hr=Il[0],Br=Il[1],kr=Et.useState(nr),$r=kr[0],Pr=kr[1],Xr=wn($r),Kr=Et.useState(hr),Dr=Kr[0],xr=Kr[1],Jr=wn(Dr),ts=function(or){var Zr=gn(),rs=Et.useState([]),ms=rs[0],fs=rs[1];return Et.useEffect(function(){or.getOutline().then(function(is){if(Zr.current&&is!==null){var Vs=d1(is);fs(Vs)}})},[]),ms}(An),ws=Et.useState(In),_s=ws[0],Zs=ws[1],yo=wn(_s),_i=Et.useRef(ur),Qs=Et.useRef(typeof xn=="string"?xn:null),As=Et.useRef(-1),Rs=Et.useRef(-1),zs=Et.useRef(Ln),ys=Vw({getCurrentPage:function(){return _i.current.pageIndex},getCurrentScrollMode:function(){return _i.current.scrollMode},jumpToPage:function(or){return bu(or)},targetRef:gs}),vu=Et.useState(-1),Yp=vu[0],ly=vu[1],Xu=Et.useState(0),r0=Xu[0],Qw=Xu[1],bo=Jt({doc:An});Et.useEffect(function(){return function(){sr.clear(),Mr.clear()}},[Ur]);var m1=Et.useMemo(function(){return Object.assign({},Ww,Sn)},[]),Jw=Et.useMemo(function(){return Array(Gr).fill(0).map(function(or,Zr){var rs=[Un[Zr].pageHeight,Un[Zr].pageWidth],ms=Math.abs($s)%180==0?{height:rs[0],width:rs[1]}:{height:rs[1],width:rs[0]},fs={height:ms.height*_s,width:ms.width*_s};return m1.transformSize({numPages:Gr,pageIndex:Zr,size:fs})})},[$s,_s]),xs=Uw({enableSmoothScroll:kn,isRtl:us,numberOfItems:Gr,parentRef:gs,scrollMode:$r,setRenderRange:tr,sizes:Jw,viewMode:Dr}),eA=En(function(){!Qs.current||_i.current.fullScreenMode!==vt.FullScreenMode.Normal||Ln>0&&zs.current===Ln||qu(Qs.current)},200);(function(or){var Zr=or.targetRef,rs=or.onResize;Lt(function(){var ms=new ResizeObserver(function(is){is.forEach(function(Vs){rs(Vs.target)})}),fs=Zr.current;if(fs)return ms.observe(fs),function(){ms.unobserve(fs)}},[])})({targetRef:gs,onResize:eA});var yu=function(or){var Zr=or;jn.forEach(function(rs){rs.onViewerStateChange&&(Zr=rs.onViewerStateChange(Zr))}),_i.current=Zr},tA=function(){return gs.current},nA=function(){return _i.current},rA=Et.useCallback(function(or){Ds.markVisitedDestination(or)},[]),b_=Et.useCallback(function(or){var Zr=or.pageIndex,rs=or.bottomOffset,ms=or.leftOffset,fs=or.scaleTo,is=gs.current,Vs=_i.current;return is&&Vs?new Promise(function(_u,S_){gr(An,Zr).then(function(cy){var xu=cy.getViewport({scale:1}),uy=0,A1=(typeof rs=="function"?rs(xu.width,xu.height):rs)||0,dy=(typeof ms=="function"?ms(xu.width,xu.height):ms)||0,Zp=Vs.scale;switch(fs){case vt.SpecialZoomLevel.PageFit:uy=0,dy=0,qu(vt.SpecialZoomLevel.PageFit);break;case vt.SpecialZoomLevel.PageWidth:Zp=g_(is,Un[Zr].pageHeight,Un[Zr].pageWidth,vt.SpecialZoomLevel.PageWidth,hr,Gr),uy=(xu.height-A1)*Zp,dy*=Zp,qu(Zp);break;default:uy=(xu.height-A1)*Zp,dy*=Zp}switch(Vs.scrollMode){case vt.ScrollMode.Horizontal:xs.scrollToItem(Zr,{left:dy,top:0}).then(function(){_u()});break;case vt.ScrollMode.Vertical:default:xs.scrollToItem(Zr,{left:0,top:uy}).then(function(){_u()})}})}):Promise.resolve()},[]),v1=Et.useCallback(function(or){return Ds.markVisitedDestination(or),b_(or)},[]),iA=Et.useCallback(function(){var or=Ds.getNextDestination();return or?b_(or):Promise.resolve()},[]),sA=Et.useCallback(function(){var or=Ds.getPreviousDestination();return or?b_(or):Promise.resolve()},[]),aA=Et.useCallback(function(){return xs.scrollToNextItem(_i.current.pageIndex,Kp)},[]),bu=Et.useCallback(function(or){return 0<=or&&or<Gr?xs.scrollToItem(or,Kp):Promise.resolve()},[]),oA=Et.useCallback(function(){return xs.scrollToPreviousItem(_i.current.pageIndex,Kp)},[]),y1=Et.useCallback(function(or){var Zr,rs;(Zr=or.name,rs=Zr.split(/\./).pop(),rs?rs.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(ms){var fs=new FileReader;fs.readAsArrayBuffer(or),fs.onload=function(){var is=new Uint8Array(fs.result);ms(is)}}).then(function(ms){es(or.name,ms)})},[es]),b1=Et.useCallback(function(or){var Zr=or===vt.RotateDirection.Backward?-90:90,rs=_i.current.rotation,ms=rs===360||rs===-360?Zr:rs+Zr;bo.markNotRendered(),ga(ms),yu(Rt(Rt({},_i.current),{rotation:ms})),jr({direction:or,doc:An,rotation:ms})},[]),__=Et.useCallback(function(or,Zr){var rs=Zr===vt.RotateDirection.Backward?-90:90,ms=_i.current.pagesRotation,fs=(ms.has(or)?ms.get(or):zn)+rs,is=ms.set(or,fs);Br(is),po(function(Vs){return!Vs}),yu(Rt(Rt({},_i.current),{pagesRotation:is,rotatedPage:or})),Vr({direction:Zr,doc:An,pageIndex:or,rotation:fs}),bo.markRendering(or),ly(or)},[]),_1=Et.useCallback(function(or){yu(Rt(Rt({},_i.current),{scrollMode:or})),Pr(or)},[]),x1=Et.useCallback(function(or){yu(Rt(Rt({},_i.current),{viewMode:or})),xr(or)},[]),qu=Et.useCallback(function(or){var Zr=gs.current,rs=_i.current.pageIndex;if(!(rs<0||rs>=Gr)){var ms=Un[rs].pageHeight,fs=Un[rs].pageWidth,is=Zr?typeof or=="string"?g_(Zr,ms,fs,or,_i.current.viewMode,Gr):or:1;Qs.current=typeof or=="string"?or:null,is!==_i.current.scale&&(Qw(function(Vs){return Vs+1}),bo.markNotRendered(),Zs(is),Rr({doc:An,scale:is}),yu(Rt(Rt({},_i.current),{scale:is})))}},[]),lA=Et.useCallback(function(or){ys.enterFullScreenMode(or)},[]),cA=Et.useCallback(function(){ys.exitFullScreenMode()},[]);Et.useEffect(function(){yu(Rt(Rt({},_i.current),{fullScreenMode:ys.fullScreenMode}))},[ys.fullScreenMode]),Et.useEffect(function(){var or={enterFullScreenMode:lA,exitFullScreenMode:cA,getPagesContainer:tA,getViewerState:nA,jumpToDestination:v1,jumpToNextDestination:iA,jumpToPreviousDestination:sA,jumpToNextPage:aA,jumpToPreviousPage:oA,jumpToPage:bu,openFile:y1,rotate:b1,rotatePage:__,setViewerState:yu,switchScrollMode:_1,switchViewMode:x1,zoom:qu};return jn.forEach(function(Zr){Zr.install&&Zr.install(or)}),function(){jn.forEach(function(Zr){Zr.uninstall&&Zr.uninstall(or)})}},[Ur]),Et.useEffect(function(){lr({doc:An,file:un}),jn.forEach(function(or){or.onDocumentLoad&&or.onDocumentLoad({doc:An,file:un})})},[Ur]);var x_,E_,w_,E1=xs.boundingClientRect;x_=function(){Ln&&bu(Ln)},E_=E1.height>0&&E1.width>0,w_=Et.useRef(!1),Lt(function(){E_&&!w_.current&&(w_.current=!0,x_())},[x_,E_]),Lt(function(){var or=_i.current.pageIndex;or>-1&&Xr!==$r&&xs.scrollToItem(or,Kp).then(function(){ys.fullScreenMode===vt.FullScreenMode.EnteredCompletely&&(kn||bo.markNotRendered(),As.current=-1)})},[$r]),Lt(function(){var or=_i.current.pageIndex;or>-1&&Qo!==$s&&xs.scrollToItem(or,Kp)},[$s]),Lt(function(){yo!=0&&yo!=_i.current.scale&&xs.zoom(_i.current.scale/yo,_i.current.pageIndex).then(function(){ys.fullScreenMode===vt.FullScreenMode.EnteredCompletely&&(Rs.current=-1)})},[_s]),Lt(function(){if(Jr!==_i.current.viewMode){var or=xs.startPage,Zr=xs.endPage,rs=xs.virtualItems;bo.markNotRendered(),bo.setRange(or,Zr);for(var ms=function(is){var Vs=rs.find(function(_u){return _u.index===is});Vs&&bo.setVisibility(is,Vs.visibility)},fs=or;fs<=Zr;fs++)ms(fs);A_()}},[Dr]),Lt(function(){var or=_i.current.pageIndex;or>-1&&Jr!==Dr&&xs.scrollToItem(or,Kp)},[Dr]),Lt(function(){var or=_i.current.pageIndex;or>0&&or===Ln&&zs.current===Ln&&Qs.current&&(zs.current=-1,qu(Qs.current))},[Ts]),Et.useEffect(function(){xs.isSmoothScrolling||Ls.current!==null&&Ls.current===Ts||(Ls.current=Ts,Ir({currentPage:Ts,doc:An}))},[Ts,xs.isSmoothScrolling]),Et.useEffect(function(){ys.fullScreenMode===vt.FullScreenMode.Entering&&_i.current.scrollMode===vt.ScrollMode.Page&&(As.current=_i.current.pageIndex),ys.fullScreenMode===vt.FullScreenMode.EnteredCompletely&&_i.current.scrollMode===vt.ScrollMode.Page&&kn&&(As.current=-1),ys.fullScreenMode===vt.FullScreenMode.EnteredCompletely&&Qs.current&&(Rs.current=_i.current.pageIndex,qu(Qs.current))},[ys.fullScreenMode]),Et.useEffect(function(){if(ys.fullScreenMode!==vt.FullScreenMode.Entering&&ys.fullScreenMode!==vt.FullScreenMode.Exitting&&!xs.isSmoothScrolling){var or=xs.startPage,Zr=xs.endPage,rs=xs.maxVisbilityIndex,ms=xs.virtualItems,fs=rs,is=ys.fullScreenMode===vt.FullScreenMode.Entered||ys.fullScreenMode===vt.FullScreenMode.EnteredCompletely;if(!(is&&fs!==As.current&&As.current>-1||is&&fs!==Rs.current&&Rs.current>-1)){Bs(fs),yu(Rt(Rt({},_i.current),{pageIndex:fs})),bo.setRange(or,Zr);for(var Vs=function(S_){var cy=ms.find(function(xu){return xu.index===S_});cy&&bo.setVisibility(S_,cy.visibility)},_u=or;_u<=Zr;_u++)Vs(_u);A_()}}},[xs.startPage,xs.endPage,xs.isSmoothScrolling,xs.maxVisbilityIndex,ys.fullScreenMode,Gs,$s,_s]);var uA=Et.useCallback(function(or){bo.markRendered(or),A_()},[r0]),A_=function(){var or=bo.getHighestPriorityPage();or>-1&&bo.isInRange(or)&&(bo.markRendering(or),ly(or))},dA=function(or){var Zr=Ts-1,rs=Ts+1;switch(or){case"FirstPage":bu(0);break;case"LastPage":bu(Gr-1);break;case"NextPage":rs<Gr&&bu(rs);break;case"PrevPage":Zr>=0&&bu(Zr)}},hA=Et.useCallback(function(){var or=xs.virtualItems,Zr=[];switch(Dr){case vt.ViewMode.DualPage:Zr=Rn(or,2);break;case vt.ViewMode.DualPageWithCover:or.length&&(Zr=or[0].index===0?[[or[0]]].concat(Rn(or.slice(1),2)):Rn(or,2));break;case vt.ViewMode.SinglePage:default:Zr=Rn(or,1)}var rs=cs&&cs.core?cs.core.pageLabel:"Page {{pageIndex}}",ms={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:hs,style:{height:"100%"}},children:Et.createElement(Et.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:Ft({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":$r===vt.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":us,"rpv-core__inner-pages--single":$r===vt.ScrollMode.Page,"rpv-core__inner-pages--vertical":$r===vt.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":$r===vt.ScrollMode.Wrapped}),ref:gs,style:{height:"100%",position:"relative"}},children:Et.createElement("div",{"data-testid":"core__inner-current-page-".concat(Ts),style:Object.assign({"--scale-factor":_s},xs.getContainerStyles())},Zr.map(function(fs){return Et.createElement("div",{className:Ft({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":$r===vt.ScrollMode.Page}),style:xs.getItemContainerStyles(fs[0]),key:"".concat(fs[0].index,"-").concat(Dr)},fs.map(function(is){var Vs=Dr===vt.ViewMode.DualPageWithCover&&(is.index===0||Gr%2==0&&is.index===Gr-1);return Et.createElement("div",{"aria-label":rs.replace("{{pageIndex}}","".concat(is.index+1)),className:Ft({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Dr===vt.ViewMode.DualPage&&is.index%2==0,"rpv-core__inner-page--dual-odd":Dr===vt.ViewMode.DualPage&&is.index%2==1,"rpv-core__inner-page--dual-cover":Vs,"rpv-core__inner-page--dual-cover-even":Dr===vt.ViewMode.DualPageWithCover&&!Vs&&is.index%2==0,"rpv-core__inner-page--dual-cover-odd":Dr===vt.ViewMode.DualPageWithCover&&!Vs&&is.index%2==1,"rpv-core__inner-page--single":Dr===vt.ViewMode.SinglePage&&$r===vt.ScrollMode.Page}),role:"region",key:"".concat(is.index,"-").concat(Dr),style:Object.assign({},xs.getItemStyles(is),m1.buildPageStyles({numPages:Gr,pageIndex:is.index,scrollMode:$r,viewMode:Dr}))},Et.createElement(Mw,{doc:An,measureRef:is.measureRef,outlines:ts,pageIndex:is.index,pageRotation:Hr.has(is.index)?Hr.get(is.index):0,pageSize:Un[is.index],plugins:jn,renderPage:rr,renderQueueKey:r0,rotation:$s,scale:_s,shouldRender:Yp===is.index,viewMode:Dr,onExecuteNamedAction:dA,onJumpFromLinkAnnotation:rA,onJumpToDest:v1,onRenderCompleted:uA,onRotatePage:__}))}))}))}};return jn.forEach(function(fs){fs.renderViewer&&(ms=fs.renderViewer({containerRef:hs,doc:An,pagesContainerRef:gs,pagesRotation:Hr,pageSizes:Un,rotation:$s,slot:ms,themeContext:as,jumpToPage:bu,openFile:y1,rotate:b1,rotatePage:__,switchScrollMode:_1,switchViewMode:x1,zoom:qu}))}),ms},[jn,xs]),w1=Et.useCallback(function(or){return Et.createElement("div",Rt({},or.attrs,{style:or.attrs&&or.attrs.style?or.attrs.style:{}}),or.children,or.subSlot&&w1(or.subSlot))},[]);return w1(hA())},f1=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Xw=function(Yt){var un=Yt.defaultScale,xn=Yt.doc,An=Yt.render,kn=Yt.scrollMode,Ln=Yt.viewMode,zn=Et.useRef(),In=Et.useState({pageSizes:[],scale:0}),Sn=In[0],Un=In[1];return Et.useLayoutEffect(function(){var jn=Array(xn.numPages).fill(0).map(function(rr,nr){return new Promise(function(tr,hr){gr(xn,nr).then(function(ur){var lr=ur.getViewport({scale:1});tr({pageHeight:lr.height,pageWidth:lr.width,rotation:lr.rotation})})})});Promise.all(jn).then(function(rr){var nr=zn.current;if(nr&&rr.length!==0){var tr=rr[0].pageWidth,hr=rr[0].pageHeight,ur=nr.parentElement,lr=(ur.clientWidth-45)/tr,es=(ur.clientHeight-45)/hr,Ir=lr;switch(kn){case vt.ScrollMode.Horizontal:Ir=Math.min(lr,es);break;case vt.ScrollMode.Vertical:default:Ir=lr}var jr,Vr,Rr=un?typeof un=="string"?g_(ur,hr,tr,un,Ln,xn.numPages):un:(jr=Ir,(Vr=f1.findIndex(function(Gr){return Gr>=jr}))===-1||Vr===0?jr:f1[Vr-1]);Un({pageSizes:rr,scale:Rr})}})},[xn.loadingTask.docId]),Sn.pageSizes.length===0||Sn.scale===0?Et.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:zn},Et.createElement(jt,null)):An(Sn.pageSizes,Sn.scale)},oy=function(){},v_=function(Yt){function un(xn,An){var kn=Yt.call(this)||this;return kn.verifyPassword=xn,kn.passwordStatus=An,kn}return St(un,Yt),un}(oy),qw=function(Yt){var un=Yt.passwordStatus,xn=Yt.renderProtectedView,An=Yt.verifyPassword,kn=Yt.onDocumentAskPassword,Ln=Et.useContext(vn).l10n,zn=Et.useState(""),In=zn[0],Sn=zn[1],Un=Et.useContext(Mt).direction===vt.TextDirection.RightToLeft,jn=function(){return An(In)};return Et.useEffect(function(){kn&&kn({verifyPassword:An})},[]),xn?xn({passwordStatus:un,verifyPassword:An}):Et.createElement("div",{className:"rpv-core__asking-password-wrapper"},Et.createElement("div",{className:Ft({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Un})},Et.createElement("div",{className:"rpv-core__asking-password-message"},un===vt.PasswordStatus.RequiredPassword&&Ln.core.askingPassword.requirePasswordToOpen,un===vt.PasswordStatus.WrongPassword&&Ln.core.wrongPassword.tryAgain),Et.createElement("div",{className:"rpv-core__asking-password-body"},Et.createElement("div",{className:Ft({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Un,"rpv-core__asking-password-input--rtl":Un})},Et.createElement(Ut,{testId:"core__asking-password-input",type:"password",value:In,onChange:Sn,onKeyDown:function(rr){rr.key==="Enter"&&jn()}})),Et.createElement(Ot,{onClick:jn},Ln.core.askingPassword.submit))))},p1=function(Yt){function un(xn){var An=Yt.call(this)||this;return An.doc=xn,An}return St(un,Yt),un}(oy),g1=function(Yt){function un(xn){var An=Yt.call(this)||this;return An.error=xn,An}return St(un,Yt),un}(oy),y_=function(Yt){function un(xn){var An=Yt.call(this)||this;return An.percentages=xn,An}return St(un,Yt),un}(oy),Kw=function(Yt){var un=Yt.characterMap,xn=Yt.file,An=Yt.httpHeaders,kn=Yt.render,Ln=Yt.renderError,zn=Yt.renderLoader,In=Yt.renderProtectedView,Sn=Yt.transformGetDocumentParams,Un=Yt.withCredentials,jn=Yt.onDocumentAskPassword,rr=Et.useContext(Mt).direction===vt.TextDirection.RightToLeft,nr=Et.useState(new y_(0)),tr=nr[0],hr=nr[1],ur=Et.useRef(""),lr=gn();return Et.useEffect(function(){ur.current="",hr(new y_(0));var es=new wt.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Ir=Object.assign({httpHeaders:An,withCredentials:Un,worker:es},typeof xn=="string"?{url:xn}:{data:xn},un?{cMapUrl:un.url,cMapPacked:un.isCompressed}:{}),jr=Sn?Sn(Ir):Ir,Vr=wt.getDocument(jr);return Vr.onPassword=function(Rr,Gr){switch(Gr){case wt.PasswordResponses.NEED_PASSWORD:lr.current&&hr(new v_(Rr,vt.PasswordStatus.RequiredPassword));break;case wt.PasswordResponses.INCORRECT_PASSWORD:lr.current&&hr(new v_(Rr,vt.PasswordStatus.WrongPassword))}},Vr.onProgress=function(Rr){var Gr=Rr.total>0?Math.min(100,100*Rr.loaded/Rr.total):100;lr.current&&ur.current===""&&hr(new y_(Gr))},Vr.promise.then(function(Rr){ur.current=Rr.loadingTask.docId,lr.current&&hr(new p1(Rr))},function(Rr){return lr.current&&!es.destroyed&&hr(new g1({message:Rr.message||"Cannot load document",name:Rr.name}))}),function(){Vr.destroy(),es.destroy()}},[xn]),tr instanceof v_?Et.createElement(qw,{passwordStatus:tr.passwordStatus,renderProtectedView:In,verifyPassword:tr.verifyPassword,onDocumentAskPassword:jn}):tr instanceof p1?kn(tr.doc):tr instanceof g1?Ln?Ln(tr.error):Et.createElement("div",{className:Ft({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":rr})},Et.createElement("div",{className:"rpv-core__doc-error-text"},tr.error.message)):Et.createElement("div",{"data-testid":"core__doc-loading",className:Ft({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":rr})},zn?zn(tr.percentages):Et.createElement(jt,null))},Yw=function(Yt,un){var xn=Et.useMemo(function(){return Yt==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Yt},[]),An=Et.useState(xn),kn=An[0],Ln=An[1],zn=wn(kn);return Et.useEffect(function(){if(Yt==="auto"){var In=window.matchMedia("(prefers-color-scheme: dark)"),Sn=function(Un){Ln(Un.matches?"dark":"light")};return In.addEventListener("change",Sn),function(){return In.removeEventListener("change",Sn)}}},[]),Et.useEffect(function(){kn!==zn&&un&&un(kn)},[kn]),Et.useEffect(function(){Yt!==kn&&Ln(Yt)},[Yt]),{currentTheme:kn,setCurrentTheme:Ln}},Zw=function(Yt){return{startPage:Yt.startPage-3,endPage:Yt.endPage+3}};vt.Button=function(Yt){var un=Yt.children,xn=Yt.testId,An=Yt.onClick,kn=Et.useContext(Mt).direction===vt.TextDirection.RightToLeft,Ln=xn?{"data-testid":xn}:{};return Et.createElement("button",Rt({className:Ft({"rpv-core__button":!0,"rpv-core__button--rtl":kn}),type:"button",onClick:An},Ln),un)},vt.Icon=Nt,vt.LazyRender=function(Yt){var un=Yt.attrs,xn=Yt.children,An=Yt.testId,kn=Et.useState(!1),Ln=kn[0],zn=kn[1],In=An?Rt(Rt({},un),{"data-testid":An}):un,Sn=Dt({once:!0,onVisibilityChanged:function(Un){Un.isVisible&&zn(!0)}});return Et.createElement("div",Rt({ref:Sn},In),Ln&&xn)},vt.LocalizationContext=vn,vt.Menu=function(Yt){var un=Yt.children,xn=Et.useRef(),An=Et.useRef([]),kn=Et.useContext(Mt).direction===vt.TextDirection.RightToLeft,Ln=function(In){if(xn.current)switch(In.key){case"Tab":In.preventDefault();break;case"ArrowDown":In.preventDefault(),zn(function(Sn,Un){return Un+1});break;case"ArrowUp":In.preventDefault(),zn(function(Sn,Un){return Un-1});break;case"End":In.preventDefault(),zn(function(Sn,Un){return Sn.length-1});break;case"Home":In.preventDefault(),zn(function(Sn,Un){return 0})}},zn=function(In){if(xn.current){var Sn=An.current,Un=Sn.findIndex(function(rr){return rr.getAttribute("tabindex")==="0"}),jn=Math.min(Sn.length-1,Math.max(0,In(Sn,Un)));Un>=0&&Un<=Sn.length-1&&Sn[Un].setAttribute("tabindex","-1"),Sn[jn].setAttribute("tabindex","0"),Sn[jn].focus()}};return Lt(function(){var In=xn.current;if(In){var Sn=function(Un){var jn=[];return Un.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(rr){if(rr instanceof HTMLElement){var nr=rr.parentElement;(nr===Un||window.getComputedStyle(nr).display!=="none")&&jn.push(rr)}}),jn}(In);An.current=Sn}},[]),Lt(function(){return document.addEventListener("keydown",Ln),function(){document.removeEventListener("keydown",Ln)}},[]),Et.createElement("div",{ref:xn,"aria-orientation":"vertical",className:Ft({"rpv-core__menu":!0,"rpv-core__menu--rtl":kn}),role:"menu",tabIndex:0},un)},vt.MenuDivider=function(){return Et.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},vt.MenuItem=function(Yt){var un=Yt.checked,xn=un!==void 0&&un,An=Yt.children,kn=Yt.icon,Ln=kn===void 0?null:kn,zn=Yt.isDisabled,In=zn!==void 0&&zn,Sn=Yt.testId,Un=Yt.onClick,jn=Et.useContext(Mt).direction===vt.TextDirection.RightToLeft,rr=Sn?{"data-testid":Sn}:{};return Et.createElement("button",Rt({className:Ft({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":In,"rpv-core__menu-item--ltr":!jn,"rpv-core__menu-item--rtl":jn}),role:"menuitem",tabIndex:-1,type:"button",onClick:Un},rr),Et.createElement("div",{className:Ft({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!jn,"rpv-core__menu-item-icon--rtl":jn})},Ln),Et.createElement("div",{className:Ft({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!jn,"rpv-core__menu-item-label--rtl":jn})},An),Et.createElement("div",{className:Ft({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!jn,"rpv-core__menu-item-check--rtl":jn})},xn&&Et.createElement($t,null)))},vt.MinimalButton=function(Yt){var un=Yt.ariaLabel,xn=un===void 0?"":un,An=Yt.ariaKeyShortcuts,kn=An===void 0?"":An,Ln=Yt.children,zn=Yt.isDisabled,In=zn!==void 0&&zn,Sn=Yt.isSelected,Un=Sn!==void 0&&Sn,jn=Yt.testId,rr=Yt.onClick,nr=Et.useContext(Mt).direction===vt.TextDirection.RightToLeft,tr=jn?{"data-testid":jn}:{};return Et.createElement("button",Rt({"aria-label":xn},kn&&{"aria-keyshortcuts":kn},In&&{"aria-disabled":!0},{className:Ft({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":In,"rpv-core__minimal-button--rtl":nr,"rpv-core__minimal-button--selected":Un}),type:"button",onClick:rr},tr),Ln)},vt.Modal=function(Yt){var un=Yt.ariaControlsSuffix,xn=Yt.closeOnClickOutside,An=Yt.closeOnEscape,kn=Yt.content,Ln=Yt.isOpened,zn=Ln!==void 0&&Ln,In=Yt.target,Sn=un||"".concat(Ht());return Et.createElement($n,{target:In?function(Un,jn){return Et.createElement("div",{"aria-expanded":jn?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Sn)},In(Un,jn))}:null,content:function(Un){return Et.createElement(hn,null,Et.createElement(nn,{ariaControlsSuffix:Sn,closeOnClickOutside:xn,closeOnEscape:An,onToggle:Un},kn(Un)))},isOpened:zn})},vt.Popover=function(Yt){var un=Yt.ariaHasPopup,xn=un===void 0?"dialog":un,An=Yt.ariaControlsSuffix,kn=Yt.closeOnClickOutside,Ln=Yt.closeOnEscape,zn=Yt.content,In=Yt.lockScroll,Sn=In===void 0||In,Un=Yt.offset,jn=Yt.position,rr=Yt.target,nr=Cn(!1),tr=nr.opened,hr=nr.toggle,ur=Et.useRef(),lr=Et.useMemo(function(){return An||"".concat(Ht())},[]);return Et.createElement("div",{ref:ur,"aria-expanded":tr?"true":"false","aria-haspopup":xn,"aria-controls":"rpv-core__popver-body-".concat(lr)},rr(hr,tr),tr&&Et.createElement(Et.Fragment,null,Sn&&Et.createElement(Kn,{closeOnEscape:Ln,onClose:hr}),Et.createElement(Bn,{ariaControlsSuffix:lr,closeOnClickOutside:kn,offset:Un,position:jn,targetRef:ur,onClose:hr},zn(hr))))},vt.PrimaryButton=Ot,vt.ProgressBar=function(Yt){var un=Yt.progress,xn=Et.useContext(Mt).direction===vt.TextDirection.RightToLeft;return Et.createElement("div",{className:Ft({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":xn})},Et.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(un,"%")}},un,"%"))},vt.Separator=function(){return Et.createElement("div",{className:"rpv-core__separator"})},vt.Spinner=jt,vt.Splitter=function(Yt){var un=Yt.constrain,xn=Et.useContext(Mt).direction===vt.TextDirection.RightToLeft,An=Et.useRef(),kn=Et.useRef(),Ln=Et.useRef(),zn=Et.useRef(0),In=Et.useRef(0),Sn=Et.useRef(0),Un=Et.useRef(0),jn={capture:!0},rr=function(tr){var hr=An.current,ur=kn.current,lr=Ln.current;if(hr&&ur&&lr){var es=Un.current,Ir=tr.clientX-zn.current,jr=Sn.current+(xn?-Ir:Ir),Vr=hr.parentElement.getBoundingClientRect().width,Rr=100*jr/Vr;if(hr.classList.add("rpv-core__splitter--resizing"),un){var Gr=Vr-jr-es;if(!un({firstHalfPercentage:Rr,firstHalfSize:jr,secondHalfPercentage:100*Gr/Vr,secondHalfSize:Gr}))return}ur.style.width="".concat(Rr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),ur.classList.add("rpv-core__splitter-sibling--resizing"),lr.classList.add("rpv-core__splitter-sibling--resizing")}},nr=function(tr){var hr=An.current,ur=kn.current,lr=Ln.current;hr&&ur&&lr&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),hr.classList.remove("rpv-core__splitter--resizing"),ur.classList.remove("rpv-core__splitter-sibling--resizing"),lr.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",rr,jn),document.removeEventListener("mouseup",nr,jn))};return Et.useEffect(function(){var tr=An.current;tr&&(Un.current=tr.getBoundingClientRect().width,kn.current=tr.previousElementSibling,Ln.current=tr.nextElementSibling)},[]),Et.createElement("div",{ref:An,className:"rpv-core__splitter",onMouseDown:function(tr){var hr=kn.current;hr&&(zn.current=tr.clientX,In.current=tr.clientY,Sn.current=hr.getBoundingClientRect().width,document.addEventListener("mousemove",rr,jn),document.addEventListener("mouseup",nr,jn))}})},vt.TextBox=Ut,vt.ThemeContext=Mt,vt.Tooltip=function(Yt){var un=Yt.ariaControlsSuffix,xn=Yt.content,An=Yt.offset,kn=Yt.position,Ln=Yt.target,zn=Cn(!1),In=zn.opened,Sn=zn.toggle,Un=Et.useRef(),jn=Et.useRef(),rr=Et.useMemo(function(){return un||"".concat(Ht())},[]);rn(function(){Un.current&&document.activeElement&&Un.current.contains(document.activeElement)&&tr()});var nr=function(){Sn(vt.ToggleStatus.Open)},tr=function(){Sn(vt.ToggleStatus.Close)};return Et.createElement(Et.Fragment,null,Et.createElement("div",{ref:Un,"aria-describedby":"rpv-core__tooltip-body-".concat(rr),onBlur:function(hr){hr.relatedTarget instanceof HTMLElement&&hr.currentTarget.parentElement&&hr.currentTarget.parentElement.contains(hr.relatedTarget)?jn.current&&(jn.current.style.display="none"):tr()},onFocus:nr,onMouseEnter:nr,onMouseLeave:tr},Ln),In&&Et.createElement(Qn,{ariaControlsSuffix:rr,contentRef:jn,offset:An,position:kn,targetRef:Un},xn()))},vt.Viewer=function(Yt){var un=Yt.characterMap,xn=Yt.defaultScale,An=Yt.enableSmoothScroll,kn=An===void 0||An,Ln=Yt.fileUrl,zn=Yt.httpHeaders,In=zn===void 0?{}:zn,Sn=Yt.initialPage,Un=Sn===void 0?0:Sn,jn=Yt.pageLayout,rr=Yt.initialRotation,nr=rr===void 0?0:rr,tr=Yt.localization,hr=Yt.plugins,ur=hr===void 0?[]:hr,lr=Yt.renderError,es=Yt.renderLoader,Ir=Yt.renderPage,jr=Yt.renderProtectedView,Vr=Yt.scrollMode,Rr=Vr===void 0?vt.ScrollMode.Vertical:Vr,Gr=Yt.setRenderRange,Ur=Gr===void 0?Zw:Gr,cs=Yt.transformGetDocumentParams,as=Yt.theme,us=as===void 0?{direction:vt.TextDirection.LeftToRight,theme:"light"}:as,hs=Yt.viewMode,gs=hs===void 0?vt.ViewMode.SinglePage:hs,Ns=Yt.withCredentials,Ts=Ns!==void 0&&Ns,Bs=Yt.onDocumentAskPassword,Ls=Yt.onDocumentLoad,Ds=Ls===void 0?function(){}:Ls,Os=Yt.onPageChange,$s=Os===void 0?function(){}:Os,ga=Yt.onRotate,Qo=ga===void 0?function(){}:ga,Oo=Yt.onRotatePage,Gs=Oo===void 0?function(){}:Oo,po=Yt.onSwitchTheme,Il=po===void 0?function(){}:po,Hr=Yt.onZoom,Br=Hr===void 0?function(){}:Hr,kr=Et.useState({data:Ln,name:typeof Ln=="string"?Ln:"",shouldLoad:!1}),$r=kr[0],Pr=kr[1],Xr=function(As,Rs){Pr({data:Rs,name:As,shouldLoad:!0})},Kr=Et.useState(!1),Dr=Kr[0],xr=Kr[1],Jr=wn($r);Et.useEffect(function(){var As,Rs,zs,ys;As=Jr.data,ys=typeof(Rs=Ln),(zs=typeof As)=="string"&&ys==="string"&&As===Rs||zs==="object"&&ys==="object"&&As.length===Rs.length&&As.every(function(vu,Yp){return vu===Rs[Yp]})||Pr({data:Ln,name:typeof Ln=="string"?Ln:"",shouldLoad:Dr})},[Ln,Dr]);var ts=Dt({onVisibilityChanged:function(As){xr(As.isVisible),As.isVisible&&Pr(function(Rs){return Object.assign({},Rs,{shouldLoad:!0})})}}),ws=typeof us=="string"?{direction:vt.TextDirection.LeftToRight,theme:us}:us,_s=Et.useState(tr||an),Zs=_s[0],yo=_s[1],_i={l10n:Zs,setL10n:yo},Qs=Object.assign({},{direction:ws.direction},Yw(ws.theme||"light",Il));return Et.useEffect(function(){tr&&yo(tr)},[tr]),Et.createElement(vn.Provider,{value:_i},Et.createElement(Mt.Provider,{value:Qs},Et.createElement("div",{ref:ts,className:"rpv-core__viewer rpv-core__viewer--".concat(Qs.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},$r.shouldLoad&&Et.createElement(Kw,{characterMap:un,file:$r.data,httpHeaders:In,render:function(As){return Et.createElement(Xw,{defaultScale:xn,doc:As,render:function(Rs,zs){return Et.createElement(Gw,{currentFile:{data:$r.data,name:$r.name},defaultScale:xn,doc:As,enableSmoothScroll:kn,initialPage:Un,initialRotation:nr,initialScale:zs,pageLayout:jn,pageSizes:Rs,plugins:ur,renderPage:Ir,scrollMode:Rr,setRenderRange:Ur,viewMode:gs,viewerState:{file:$r,fullScreenMode:vt.FullScreenMode.Normal,pageIndex:-1,pageHeight:Rs[0].pageHeight,pageWidth:Rs[0].pageWidth,pagesRotation:new Map,rotation:nr,scale:zs,scrollMode:Rr,viewMode:gs},onDocumentLoad:Ds,onOpenFile:Xr,onPageChange:$s,onRotate:Qo,onRotatePage:Gs,onZoom:Br})},scrollMode:Rr,viewMode:gs})},renderError:lr,renderLoader:es,renderProtectedView:jr,transformGetDocumentParams:cs,withCredentials:Ts,onDocumentAskPassword:Bs}))))},vt.Worker=function(Yt){var un=Yt.children,xn=Yt.workerUrl;return wt.GlobalWorkerOptions.workerSrc=xn,Et.createElement(Et.Fragment,null,un)},vt.chunk=Rn,vt.classNames=Ft,vt.createStore=function(Yt){var un=Yt||{},xn={},An=function(Ln,zn){var In;un=Rt(Rt({},un),((In={})[Ln]=zn,In)),(xn[Ln]||[]).forEach(function(Sn){return Sn(un[Ln])})},kn=function(Ln){return un[Ln]};return{subscribe:function(Ln,zn){xn[Ln]=(xn[Ln]||[]).concat(zn)},unsubscribe:function(Ln,zn){xn[Ln]=(xn[Ln]||[]).filter(function(In){return In!==zn})},update:function(Ln,zn){An(Ln,zn)},updateCurrentValue:function(Ln,zn){var In=kn(Ln);In!==void 0&&An(Ln,zn(In))},get:function(Ln){return kn(Ln)}}},vt.getDestination=Cr,vt.getPage=gr,vt.isFullScreenEnabled=Kt,vt.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},vt.useDebounceCallback=En,vt.useIntersectionObserver=Dt,vt.useIsMounted=gn,vt.useIsomorphicLayoutEffect=Lt,vt.usePrevious=wn,vt.useRenderQueue=Jt})(core_min);var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c=b$1?Symbol.for("react.element"):60103,d=b$1?Symbol.for("react.portal"):60106,e=b$1?Symbol.for("react.fragment"):60107,f=b$1?Symbol.for("react.strict_mode"):60108,g$1=b$1?Symbol.for("react.profiler"):60114,h=b$1?Symbol.for("react.provider"):60109,k$1=b$1?Symbol.for("react.context"):60110,l=b$1?Symbol.for("react.async_mode"):60111,m$1=b$1?Symbol.for("react.concurrent_mode"):60111,n=b$1?Symbol.for("react.forward_ref"):60112,p=b$1?Symbol.for("react.suspense"):60113,q$1=b$1?Symbol.for("react.suspense_list"):60120,r=b$1?Symbol.for("react.memo"):60115,t=b$1?Symbol.for("react.lazy"):60116,v$1=b$1?Symbol.for("react.block"):60121,w$1=b$1?Symbol.for("react.fundamental"):60117,x$1=b$1?Symbol.for("react.responder"):60118,y$1=b$1?Symbol.for("react.scope"):60119;function z$1(vt){if(typeof vt=="object"&&vt!==null){var ht=vt.$$typeof;switch(ht){case c:switch(vt=vt.type,vt){case l:case m$1:case e:case g$1:case f:case p:return vt;default:switch(vt=vt&&vt.$$typeof,vt){case k$1:case n:case t:case r:case h:return vt;default:return ht}}case d:return ht}}}function A(vt){return z$1(vt)===m$1}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k$1;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(vt){return A(vt)||z$1(vt)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(vt){return z$1(vt)===k$1};reactIs_production_min.isContextProvider=function(vt){return z$1(vt)===h};reactIs_production_min.isElement=function(vt){return typeof vt=="object"&&vt!==null&&vt.$$typeof===c};reactIs_production_min.isForwardRef=function(vt){return z$1(vt)===n};reactIs_production_min.isFragment=function(vt){return z$1(vt)===e};reactIs_production_min.isLazy=function(vt){return z$1(vt)===t};reactIs_production_min.isMemo=function(vt){return z$1(vt)===r};reactIs_production_min.isPortal=function(vt){return z$1(vt)===d};reactIs_production_min.isProfiler=function(vt){return z$1(vt)===g$1};reactIs_production_min.isStrictMode=function(vt){return z$1(vt)===f};reactIs_production_min.isSuspense=function(vt){return z$1(vt)===p};reactIs_production_min.isValidElementType=function(vt){return typeof vt=="string"||typeof vt=="function"||vt===e||vt===m$1||vt===g$1||vt===f||vt===p||vt===q$1||typeof vt=="object"&&vt!==null&&(vt.$$typeof===t||vt.$$typeof===r||vt.$$typeof===h||vt.$$typeof===k$1||vt.$$typeof===n||vt.$$typeof===w$1||vt.$$typeof===x$1||vt.$$typeof===y$1||vt.$$typeof===v$1)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports;function stylis_min(vt){function ht(tn,Ht,Wt,rn,nn){for(var hn=0,cn=0,Cn=0,$n=0,Hn,On,Xn=0,Yn=0,Gn,Fn=Gn=Hn=0,Tn=0,dn=0,bn=0,Pn=0,Bn=Wt.length,Kn=Bn-1,Qn,Vn="",Rn="",ar="",sr="",Mr;Tn<Bn;){if(On=Wt.charCodeAt(Tn),Tn===Kn&&cn+$n+Cn+hn!==0&&(cn!==0&&(On=cn===47?10:47),$n=Cn=hn=0,Bn++,Kn++),cn+$n+Cn+hn===0){if(Tn===Kn&&(0<dn&&(Vn=Vn.replace(Mt,"")),0<Vn.trim().length)){switch(On){case 32:case 9:case 59:case 13:case 10:break;default:Vn+=Wt.charAt(Tn)}On=59}switch(On){case 123:for(Vn=Vn.trim(),Hn=Vn.charCodeAt(0),Gn=1,Pn=++Tn;Tn<Bn;){switch(On=Wt.charCodeAt(Tn)){case 123:Gn++;break;case 125:Gn--;break;case 47:switch(On=Wt.charCodeAt(Tn+1)){case 42:case 47:e:{for(Fn=Tn+1;Fn<Kn;++Fn)switch(Wt.charCodeAt(Fn)){case 47:if(On===42&&Wt.charCodeAt(Fn-1)===42&&Tn+2!==Fn){Tn=Fn+1;break e}break;case 10:if(On===47){Tn=Fn+1;break e}}Tn=Fn}}break;case 91:On++;case 40:On++;case 34:case 39:for(;Tn++<Kn&&Wt.charCodeAt(Tn)!==On;);}if(Gn===0)break;Tn++}switch(Gn=Wt.substring(Pn,Tn),Hn===0&&(Hn=(Vn=Vn.replace(Pt,"").trim()).charCodeAt(0)),Hn){case 64:switch(0<dn&&(Vn=Vn.replace(Mt,"")),On=Vn.charCodeAt(1),On){case 100:case 109:case 115:case 45:dn=Ht;break;default:dn=wn}if(Gn=ht(Ht,dn,Gn,On,nn+1),Pn=Gn.length,0<sn&&(dn=bt(wn,Vn,bn),Mr=At(3,Gn,dn,Ht,fn,on,Pn,On,nn,rn),Vn=dn.join(""),Mr!==void 0&&(Pn=(Gn=Mr.trim()).length)===0&&(On=0,Gn="")),0<Pn)switch(On){case 115:Vn=Vn.replace(Vt,wt);case 100:case 109:case 45:Gn=Vn+"{"+Gn+"}";break;case 107:Vn=Vn.replace(Ot,"$1 $2"),Gn=Vn+"{"+Gn+"}",Gn=gn===1||gn===2&&Et("@"+Gn,3)?"@-webkit-"+Gn+"@"+Gn:"@"+Gn;break;default:Gn=Vn+Gn,rn===112&&(Gn=(Rn+=Gn,""))}else Gn="";break;default:Gn=ht(Ht,bt(Ht,Vn,bn),Gn,rn,nn+1)}ar+=Gn,Gn=bn=dn=Fn=Hn=0,Vn="",On=Wt.charCodeAt(++Tn);break;case 125:case 59:if(Vn=(0<dn?Vn.replace(Mt,""):Vn).trim(),1<(Pn=Vn.length))switch(Fn===0&&(Hn=Vn.charCodeAt(0),Hn===45||96<Hn&&123>Hn)&&(Pn=(Vn=Vn.replace(" ",":")).length),0<sn&&(Mr=At(1,Vn,Ht,tn,fn,on,Rn.length,rn,nn,rn))!==void 0&&(Pn=(Vn=Mr.trim()).length)===0&&(Vn="\0\0"),Hn=Vn.charCodeAt(0),On=Vn.charCodeAt(1),Hn){case 0:break;case 64:if(On===105||On===99){sr+=Vn+Wt.charAt(Tn);break}default:Vn.charCodeAt(Pn-1)!==58&&(Rn+=xt(Vn,Hn,On,Vn.charCodeAt(2)))}bn=dn=Fn=Hn=0,Vn="",On=Wt.charCodeAt(++Tn)}}switch(On){case 13:case 10:cn===47?cn=0:1+Hn===0&&rn!==107&&0<Vn.length&&(dn=1,Vn+="\0"),0<sn*an&&At(0,Vn,Ht,tn,fn,on,Rn.length,rn,nn,rn),on=1,fn++;break;case 59:case 125:if(cn+$n+Cn+hn===0){on++;break}default:switch(on++,Qn=Wt.charAt(Tn),On){case 9:case 32:if($n+hn+cn===0)switch(Xn){case 44:case 58:case 9:case 32:Qn="";break;default:On!==32&&(Qn=" ")}break;case 0:Qn="\\0";break;case 12:Qn="\\f";break;case 11:Qn="\\v";break;case 38:$n+cn+hn===0&&(dn=bn=1,Qn="\f"+Qn);break;case 108:if($n+cn+hn+En===0&&0<Fn)switch(Tn-Fn){case 2:Xn===112&&Wt.charCodeAt(Tn-3)===58&&(En=Xn);case 8:Yn===111&&(En=Yn)}break;case 58:$n+cn+hn===0&&(Fn=Tn);break;case 44:cn+Cn+$n+hn===0&&(dn=1,Qn+="\r");break;case 34:case 39:cn===0&&($n=$n===On?0:$n===0?On:$n);break;case 91:$n+cn+Cn===0&&hn++;break;case 93:$n+cn+Cn===0&&hn--;break;case 41:$n+cn+hn===0&&Cn--;break;case 40:if($n+cn+hn===0){if(Hn===0)switch(2*Xn+3*Yn){case 533:break;default:Hn=1}Cn++}break;case 64:cn+Cn+$n+hn+Fn+Gn===0&&(Gn=1);break;case 42:case 47:if(!(0<$n+hn+Cn))switch(cn){case 0:switch(2*On+3*Wt.charCodeAt(Tn+1)){case 235:cn=47;break;case 220:Pn=Tn,cn=42}break;case 42:On===47&&Xn===42&&Pn+2!==Tn&&(Wt.charCodeAt(Pn+2)===33&&(Rn+=Wt.substring(Pn,Tn+1)),Qn="",cn=0)}}cn===0&&(Vn+=Qn)}Yn=Xn,Xn=On,Tn++}if(Pn=Rn.length,0<Pn){if(dn=Ht,0<sn&&(Mr=At(2,Rn,dn,tn,fn,on,Pn,rn,nn,rn),Mr!==void 0&&(Rn=Mr).length===0))return sr+Rn+ar;if(Rn=dn.join(",")+"{"+Rn+"}",gn*En!==0){switch(gn!==2||Et(Rn,2)||(En=0),En){case 111:Rn=Rn.replace(Ut,":-moz-$1")+Rn;break;case 112:Rn=Rn.replace(jt,"::-webkit-input-$1")+Rn.replace(jt,"::-moz-$1")+Rn.replace(jt,":-ms-input-$1")+Rn}En=0}}return sr+Rn+ar}function bt(tn,Ht,Wt){var rn=Ht.trim().split(Nt);Ht=rn;var nn=rn.length,hn=tn.length;switch(hn){case 0:case 1:var cn=0;for(tn=hn===0?"":tn[0]+" ";cn<nn;++cn)Ht[cn]=_t(tn,Ht[cn],Wt).trim();break;default:var Cn=cn=0;for(Ht=[];cn<nn;++cn)for(var $n=0;$n<hn;++$n)Ht[Cn++]=_t(tn[$n]+" ",rn[cn],Wt).trim()}return Ht}function _t(tn,Ht,Wt){var rn=Ht.charCodeAt(0);switch(33>rn&&(rn=(Ht=Ht.trim()).charCodeAt(0)),rn){case 38:return Ht.replace($t,"$1"+tn.trim());case 58:return tn.trim()+Ht.replace($t,"$1"+tn.trim());default:if(0<1*Wt&&0<Ht.indexOf("\f"))return Ht.replace($t,(tn.charCodeAt(0)===58?"":"$1")+tn.trim())}return tn+Ht}function xt(tn,Ht,Wt,rn){var nn=tn+";",hn=2*Ht+3*Wt+4*rn;if(hn===944){tn=nn.indexOf(":",9)+1;var cn=nn.substring(tn,nn.length-1).trim();return cn=nn.substring(0,tn).trim()+cn+";",gn===1||gn===2&&Et(cn,1)?"-webkit-"+cn+cn:cn}if(gn===0||gn===2&&!Et(nn,1))return nn;switch(hn){case 1015:return nn.charCodeAt(10)===97?"-webkit-"+nn+nn:nn;case 951:return nn.charCodeAt(3)===116?"-webkit-"+nn+nn:nn;case 963:return nn.charCodeAt(5)===110?"-webkit-"+nn+nn:nn;case 1009:if(nn.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+nn+nn;case 978:return"-webkit-"+nn+"-moz-"+nn+nn;case 1019:case 983:return"-webkit-"+nn+"-moz-"+nn+"-ms-"+nn+nn;case 883:if(nn.charCodeAt(8)===45)return"-webkit-"+nn+nn;if(0<nn.indexOf("image-set(",11))return nn.replace(Kt,"$1-webkit-$2")+nn;break;case 932:if(nn.charCodeAt(4)===45)switch(nn.charCodeAt(5)){case 103:return"-webkit-box-"+nn.replace("-grow","")+"-webkit-"+nn+"-ms-"+nn.replace("grow","positive")+nn;case 115:return"-webkit-"+nn+"-ms-"+nn.replace("shrink","negative")+nn;case 98:return"-webkit-"+nn+"-ms-"+nn.replace("basis","preferred-size")+nn}return"-webkit-"+nn+"-ms-"+nn+nn;case 964:return"-webkit-"+nn+"-ms-flex-"+nn+nn;case 1023:if(nn.charCodeAt(8)!==99)break;return cn=nn.substring(nn.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+cn+"-webkit-"+nn+"-ms-flex-pack"+cn+nn;case 1005:return Lt.test(nn)?nn.replace(Ft,":-webkit-")+nn.replace(Ft,":-moz-")+nn:nn;case 1e3:switch(cn=nn.substring(13).trim(),Ht=cn.indexOf("-")+1,cn.charCodeAt(0)+cn.charCodeAt(Ht)){case 226:cn=nn.replace(Bt,"tb");break;case 232:cn=nn.replace(Bt,"tb-rl");break;case 220:cn=nn.replace(Bt,"lr");break;default:return nn}return"-webkit-"+nn+"-ms-"+cn+nn;case 1017:if(nn.indexOf("sticky",9)===-1)break;case 975:switch(Ht=(nn=tn).length-10,cn=(nn.charCodeAt(Ht)===33?nn.substring(0,Ht):nn).substring(tn.indexOf(":",7)+1).trim(),hn=cn.charCodeAt(0)+(cn.charCodeAt(7)|0)){case 203:if(111>cn.charCodeAt(8))break;case 115:nn=nn.replace(cn,"-webkit-"+cn)+";"+nn;break;case 207:case 102:nn=nn.replace(cn,"-webkit-"+(102<hn?"inline-":"")+"box")+";"+nn.replace(cn,"-webkit-"+cn)+";"+nn.replace(cn,"-ms-"+cn+"box")+";"+nn}return nn+";";case 938:if(nn.charCodeAt(5)===45)switch(nn.charCodeAt(6)){case 105:return cn=nn.replace("-items",""),"-webkit-"+nn+"-webkit-box-"+cn+"-ms-flex-"+cn+nn;case 115:return"-webkit-"+nn+"-ms-flex-item-"+nn.replace(Gt,"")+nn;default:return"-webkit-"+nn+"-ms-flex-line-pack"+nn.replace("align-content","").replace(Gt,"")+nn}break;case 973:case 989:if(nn.charCodeAt(3)!==45||nn.charCodeAt(4)===122)break;case 931:case 953:if(ln.test(tn)===!0)return(cn=tn.substring(tn.indexOf(":")+1)).charCodeAt(0)===115?xt(tn.replace("stretch","fill-available"),Ht,Wt,rn).replace(":fill-available",":stretch"):nn.replace(cn,"-webkit-"+cn)+nn.replace(cn,"-moz-"+cn.replace("fill-",""))+nn;break;case 962:if(nn="-webkit-"+nn+(nn.charCodeAt(5)===102?"-ms-"+nn:"")+nn,Wt+rn===211&&nn.charCodeAt(13)===105&&0<nn.indexOf("transform",10))return nn.substring(0,nn.indexOf(";",27)+1).replace(Dt,"$1-webkit-$2")+nn}return nn}function Et(tn,Ht){var Wt=tn.indexOf(Ht===1?":":"{"),rn=tn.substring(0,Ht!==3?Wt:10);return Wt=tn.substring(Wt+1,tn.length-1),Jt(Ht!==2?rn:rn.replace(en,"$1"),Wt,Ht)}function wt(tn,Ht){var Wt=xt(Ht,Ht.charCodeAt(0),Ht.charCodeAt(1),Ht.charCodeAt(2));return Wt!==Ht+";"?Wt.replace(zt," or ($1)").substring(4):"("+Ht+")"}function At(tn,Ht,Wt,rn,nn,hn,cn,Cn,$n,Hn){for(var On=0,Xn=Ht,Yn;On<sn;++On)switch(Yn=pn[On].call(Rt,tn,Xn,Wt,rn,nn,hn,cn,Cn,$n,Hn)){case void 0:case!1:case!0:case null:break;default:Xn=Yn}if(Xn!==Ht)return Xn}function St(tn){switch(tn){case void 0:case null:sn=pn.length=0;break;default:if(typeof tn=="function")pn[sn++]=tn;else if(typeof tn=="object")for(var Ht=0,Wt=tn.length;Ht<Wt;++Ht)St(tn[Ht]);else an=!!tn|0}return St}function kt(tn){return tn=tn.prefix,tn!==void 0&&(Jt=null,tn?typeof tn!="function"?gn=1:(gn=2,Jt=tn):gn=0),kt}function Rt(tn,Ht){var Wt=tn;if(33>Wt.charCodeAt(0)&&(Wt=Wt.trim()),vn=Wt,Wt=[vn],0<sn){var rn=At(-1,Ht,Wt,Wt,fn,on,0,0,0,0);rn!==void 0&&typeof rn=="string"&&(Ht=rn)}var nn=ht(wn,Wt,Ht,0,0);return 0<sn&&(rn=At(-2,nn,Wt,Wt,fn,on,nn.length,0,0,0),rn!==void 0&&(nn=rn)),vn="",En=0,on=fn=1,nn}var Pt=/^\0+/g,Mt=/[\0\r\f]/g,Ft=/: */g,Lt=/zoo|gra/,Dt=/([,: ])(transform)/g,Nt=/,\r+?/g,$t=/([\t\r\n ])*\f?&/g,Ot=/@(k\w+)\s*(\S*)\s*/,jt=/::(place)/g,Ut=/:(read-only)/g,Bt=/[svh]\w+-[tblr]{2}/,Vt=/\(\s*(.*)\s*\)/g,zt=/([\s\S]*?);/g,Gt=/-self|flex-/g,en=/[^]*?(:[rp][el]a[\w-]+)[^]*/,ln=/stretch|:\s*\w+\-(?:conte|avail)/,Kt=/([^-])(image-set\()/,on=1,fn=1,En=0,gn=1,wn=[],pn=[],sn=0,Jt=null,an=0,vn="";return Rt.use=St,Rt.set=kt,vt!==void 0&&kt(vt),Rt}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function memoize(vt){var ht=Object.create(null);return function(bt){return ht[bt]===void 0&&(ht[bt]=vt(bt)),ht[bt]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(vt){return reactPropsRegex.test(vt)||vt.charCodeAt(0)===111&&vt.charCodeAt(1)===110&&vt.charCodeAt(2)<91}),reactIs=reactIsExports,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(vt){return reactIs.isMemo(vt)?MEMO_STATICS:TYPE_STATICS[vt.$$typeof]||REACT_STATICS}var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(vt,ht,bt){if(typeof ht!="string"){if(objectPrototype){var _t=getPrototypeOf(ht);_t&&_t!==objectPrototype&&hoistNonReactStatics(vt,_t,bt)}var xt=getOwnPropertyNames(ht);getOwnPropertySymbols&&(xt=xt.concat(getOwnPropertySymbols(ht)));for(var Et=getStatics(vt),wt=getStatics(ht),At=0;At<xt.length;++At){var St=xt[At];if(!KNOWN_STATICS[St]&&!(bt&&bt[St])&&!(wt&&wt[St])&&!(Et&&Et[St])){var kt=getOwnPropertyDescriptor(ht,St);try{defineProperty(vt,St,kt)}catch{}}}}return vt}var hoistNonReactStatics_cjs=hoistNonReactStatics;const m=getDefaultExportFromCjs(hoistNonReactStatics_cjs);var define_process_env_default={};function y(){return(y=Object.assign||function(vt){for(var ht=1;ht<arguments.length;ht++){var bt=arguments[ht];for(var _t in bt)Object.prototype.hasOwnProperty.call(bt,_t)&&(vt[_t]=bt[_t])}return vt}).apply(this,arguments)}var v=function(vt,ht){for(var bt=[vt[0]],_t=0,xt=ht.length;_t<xt;_t+=1)bt.push(ht[_t],vt[_t+1]);return bt},g=function(vt){return vt!==null&&typeof vt=="object"&&(vt.toString?vt.toString():Object.prototype.toString.call(vt))==="[object Object]"&&!reactIsExports.typeOf(vt)},S=Object.freeze([]),w=Object.freeze({});function E(vt){return typeof vt=="function"}function b(vt){return vt.displayName||vt.name||"Component"}function _(vt){return vt&&typeof vt.styledComponentId=="string"}var N=typeof process<"u"&&define_process_env_default!==void 0&&(define_process_env_default.REACT_APP_SC_ATTR||define_process_env_default.SC_ATTR)||"data-styled",C=typeof window<"u"&&"HTMLElement"in window,I=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&define_process_env_default!==void 0&&(define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!==""?define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY:define_process_env_default.SC_DISABLE_SPEEDY!==void 0&&define_process_env_default.SC_DISABLE_SPEEDY!==""&&define_process_env_default.SC_DISABLE_SPEEDY!=="false"&&define_process_env_default.SC_DISABLE_SPEEDY));function D(vt){for(var ht=arguments.length,bt=new Array(ht>1?ht-1:0),_t=1;_t<ht;_t++)bt[_t-1]=arguments[_t];throw new Error("An error occurred. See https://git.io/JUIaE#"+vt+" for more information."+(bt.length>0?" Args: "+bt.join(", "):""))}var j=function(){function vt(bt){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=bt}var ht=vt.prototype;return ht.indexOfGroup=function(bt){for(var _t=0,xt=0;xt<bt;xt++)_t+=this.groupSizes[xt];return _t},ht.insertRules=function(bt,_t){if(bt>=this.groupSizes.length){for(var xt=this.groupSizes,Et=xt.length,wt=Et;bt>=wt;)(wt<<=1)<0&&D(16,""+bt);this.groupSizes=new Uint32Array(wt),this.groupSizes.set(xt),this.length=wt;for(var At=Et;At<wt;At++)this.groupSizes[At]=0}for(var St=this.indexOfGroup(bt+1),kt=0,Rt=_t.length;kt<Rt;kt++)this.tag.insertRule(St,_t[kt])&&(this.groupSizes[bt]++,St++)},ht.clearGroup=function(bt){if(bt<this.length){var _t=this.groupSizes[bt],xt=this.indexOfGroup(bt),Et=xt+_t;this.groupSizes[bt]=0;for(var wt=xt;wt<Et;wt++)this.tag.deleteRule(xt)}},ht.getGroup=function(bt){var _t="";if(bt>=this.length||this.groupSizes[bt]===0)return _t;for(var xt=this.groupSizes[bt],Et=this.indexOfGroup(bt),wt=Et+xt,At=Et;At<wt;At++)_t+=this.tag.getRule(At)+`/*!sc*/
`;return _t},vt}(),T=new Map,x=new Map,k=1,V=function(vt){if(T.has(vt))return T.get(vt);for(;x.has(k);)k++;var ht=k++;return T.set(vt,ht),x.set(ht,vt),ht},B=function(vt){return x.get(vt)},z=function(vt,ht){ht>=k&&(k=ht+1),T.set(vt,ht),x.set(ht,vt)},M="style["+N+'][data-styled-version="5.3.11"]',G=new RegExp("^"+N+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(vt,ht,bt){for(var _t,xt=bt.split(","),Et=0,wt=xt.length;Et<wt;Et++)(_t=xt[Et])&&vt.registerName(ht,_t)},F=function(vt,ht){for(var bt=(ht.textContent||"").split(`/*!sc*/
`),_t=[],xt=0,Et=bt.length;xt<Et;xt++){var wt=bt[xt].trim();if(wt){var At=wt.match(G);if(At){var St=0|parseInt(At[1],10),kt=At[2];St!==0&&(z(kt,St),L(vt,kt,At[3]),vt.getTag().insertRules(St,_t)),_t.length=0}else _t.push(wt)}}},Y=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},q=function(vt){var ht=document.head,bt=vt||ht,_t=document.createElement("style"),xt=function(At){for(var St=At.childNodes,kt=St.length;kt>=0;kt--){var Rt=St[kt];if(Rt&&Rt.nodeType===1&&Rt.hasAttribute(N))return Rt}}(bt),Et=xt!==void 0?xt.nextSibling:null;_t.setAttribute(N,"active"),_t.setAttribute("data-styled-version","5.3.11");var wt=Y();return wt&&_t.setAttribute("nonce",wt),bt.insertBefore(_t,Et),_t},H=function(){function vt(bt){var _t=this.element=q(bt);_t.appendChild(document.createTextNode("")),this.sheet=function(xt){if(xt.sheet)return xt.sheet;for(var Et=document.styleSheets,wt=0,At=Et.length;wt<At;wt++){var St=Et[wt];if(St.ownerNode===xt)return St}D(17)}(_t),this.length=0}var ht=vt.prototype;return ht.insertRule=function(bt,_t){try{return this.sheet.insertRule(_t,bt),this.length++,!0}catch{return!1}},ht.deleteRule=function(bt){this.sheet.deleteRule(bt),this.length--},ht.getRule=function(bt){var _t=this.sheet.cssRules[bt];return _t!==void 0&&typeof _t.cssText=="string"?_t.cssText:""},vt}(),$=function(){function vt(bt){var _t=this.element=q(bt);this.nodes=_t.childNodes,this.length=0}var ht=vt.prototype;return ht.insertRule=function(bt,_t){if(bt<=this.length&&bt>=0){var xt=document.createTextNode(_t),Et=this.nodes[bt];return this.element.insertBefore(xt,Et||null),this.length++,!0}return!1},ht.deleteRule=function(bt){this.element.removeChild(this.nodes[bt]),this.length--},ht.getRule=function(bt){return bt<this.length?this.nodes[bt].textContent:""},vt}(),W=function(){function vt(bt){this.rules=[],this.length=0}var ht=vt.prototype;return ht.insertRule=function(bt,_t){return bt<=this.length&&(this.rules.splice(bt,0,_t),this.length++,!0)},ht.deleteRule=function(bt){this.rules.splice(bt,1),this.length--},ht.getRule=function(bt){return bt<this.length?this.rules[bt]:""},vt}(),U=C,J={isServer:!C,useCSSOMInjection:!I},X=function(){function vt(bt,_t,xt){bt===void 0&&(bt=w),_t===void 0&&(_t={}),this.options=y({},J,{},bt),this.gs=_t,this.names=new Map(xt),this.server=!!bt.isServer,!this.server&&C&&U&&(U=!1,function(Et){for(var wt=document.querySelectorAll(M),At=0,St=wt.length;At<St;At++){var kt=wt[At];kt&&kt.getAttribute(N)!=="active"&&(F(Et,kt),kt.parentNode&&kt.parentNode.removeChild(kt))}}(this))}vt.registerId=function(bt){return V(bt)};var ht=vt.prototype;return ht.reconstructWithOptions=function(bt,_t){return _t===void 0&&(_t=!0),new vt(y({},this.options,{},bt),this.gs,_t&&this.names||void 0)},ht.allocateGSInstance=function(bt){return this.gs[bt]=(this.gs[bt]||0)+1},ht.getTag=function(){return this.tag||(this.tag=(xt=(_t=this.options).isServer,Et=_t.useCSSOMInjection,wt=_t.target,bt=xt?new W(wt):Et?new H(wt):new $(wt),new j(bt)));var bt,_t,xt,Et,wt},ht.hasNameForId=function(bt,_t){return this.names.has(bt)&&this.names.get(bt).has(_t)},ht.registerName=function(bt,_t){if(V(bt),this.names.has(bt))this.names.get(bt).add(_t);else{var xt=new Set;xt.add(_t),this.names.set(bt,xt)}},ht.insertRules=function(bt,_t,xt){this.registerName(bt,_t),this.getTag().insertRules(V(bt),xt)},ht.clearNames=function(bt){this.names.has(bt)&&this.names.get(bt).clear()},ht.clearRules=function(bt){this.getTag().clearGroup(V(bt)),this.clearNames(bt)},ht.clearTag=function(){this.tag=void 0},ht.toString=function(){return function(bt){for(var _t=bt.getTag(),xt=_t.length,Et="",wt=0;wt<xt;wt++){var At=B(wt);if(At!==void 0){var St=bt.names.get(At),kt=_t.getGroup(wt);if(St&&kt&&St.size){var Rt=N+".g"+wt+'[id="'+At+'"]',Pt="";St!==void 0&&St.forEach(function(Mt){Mt.length>0&&(Pt+=Mt+",")}),Et+=""+kt+Rt+'{content:"'+Pt+`"}/*!sc*/
`}}}return Et}(this)},vt}(),Z=/(a)(d)/gi,K=function(vt){return String.fromCharCode(vt+(vt>25?39:97))};function Q(vt){var ht,bt="";for(ht=Math.abs(vt);ht>52;ht=ht/52|0)bt=K(ht%52)+bt;return(K(ht%52)+bt).replace(Z,"$1-$2")}var ee=function(vt,ht){for(var bt=ht.length;bt;)vt=33*vt^ht.charCodeAt(--bt);return vt},te=function(vt){return ee(5381,vt)};function ne(vt){for(var ht=0;ht<vt.length;ht+=1){var bt=vt[ht];if(E(bt)&&!_(bt))return!1}return!0}var re=te("5.3.11"),oe=function(){function vt(ht,bt,_t){this.rules=ht,this.staticRulesId="",this.isStatic=(_t===void 0||_t.isStatic)&&ne(ht),this.componentId=bt,this.baseHash=ee(re,bt),this.baseStyle=_t,X.registerId(bt)}return vt.prototype.generateAndInjectStyles=function(ht,bt,_t){var xt=this.componentId,Et=[];if(this.baseStyle&&Et.push(this.baseStyle.generateAndInjectStyles(ht,bt,_t)),this.isStatic&&!_t.hash)if(this.staticRulesId&&bt.hasNameForId(xt,this.staticRulesId))Et.push(this.staticRulesId);else{var wt=_e(this.rules,ht,bt,_t).join(""),At=Q(ee(this.baseHash,wt)>>>0);if(!bt.hasNameForId(xt,At)){var St=_t(wt,"."+At,void 0,xt);bt.insertRules(xt,At,St)}Et.push(At),this.staticRulesId=At}else{for(var kt=this.rules.length,Rt=ee(this.baseHash,_t.hash),Pt="",Mt=0;Mt<kt;Mt++){var Ft=this.rules[Mt];if(typeof Ft=="string")Pt+=Ft;else if(Ft){var Lt=_e(Ft,ht,bt,_t),Dt=Array.isArray(Lt)?Lt.join(""):Lt;Rt=ee(Rt,Dt+Mt),Pt+=Dt}}if(Pt){var Nt=Q(Rt>>>0);if(!bt.hasNameForId(xt,Nt)){var $t=_t(Pt,"."+Nt,void 0,xt);bt.insertRules(xt,Nt,$t)}Et.push(Nt)}}return Et.join(" ")},vt}(),se=/^\s*\/\/.*$/gm,ie=[":","[",".","#"];function ae(vt){var ht,bt,_t,xt,Et=w,wt=Et.options,At=wt===void 0?w:wt,St=Et.plugins,kt=St===void 0?S:St,Rt=new stylis_min(At),Pt=[],Mt=function(Dt){function Nt($t){if($t)try{Dt($t+"}")}catch{}}return function($t,Ot,jt,Ut,Bt,Vt,zt,Gt,en,ln){switch($t){case 1:if(en===0&&Ot.charCodeAt(0)===64)return Dt(Ot+";"),"";break;case 2:if(Gt===0)return Ot+"/*|*/";break;case 3:switch(Gt){case 102:case 112:return Dt(jt[0]+Ot),"";default:return Ot+(ln===0?"/*|*/":"")}case-2:Ot.split("/*|*/}").forEach(Nt)}}}(function(Dt){Pt.push(Dt)}),Ft=function(Dt,Nt,$t){return Nt===0&&ie.indexOf($t[bt.length])!==-1||$t.match(xt)?Dt:"."+ht};function Lt(Dt,Nt,$t,Ot){Ot===void 0&&(Ot="&");var jt=Dt.replace(se,""),Ut=Nt&&$t?$t+" "+Nt+" { "+jt+" }":jt;return ht=Ot,bt=Nt,_t=new RegExp("\\"+bt+"\\b","g"),xt=new RegExp("(\\"+bt+"\\b){2,}"),Rt($t||!Nt?"":Nt,Ut)}return Rt.use([].concat(kt,[function(Dt,Nt,$t){Dt===2&&$t.length&&$t[0].lastIndexOf(bt)>0&&($t[0]=$t[0].replace(_t,Ft))},Mt,function(Dt){if(Dt===-2){var Nt=Pt;return Pt=[],Nt}}])),Lt.hash=kt.length?kt.reduce(function(Dt,Nt){return Nt.name||D(15),ee(Dt,Nt.name)},5381).toString():"",Lt}var ce=React.createContext();ce.Consumer;var le=React.createContext(),de=(le.Consumer,new X),he=ae();function pe(){return reactExports.useContext(ce)||de}function fe(){return reactExports.useContext(le)||he}var ye=function(){function vt(ht,bt){var _t=this;this.inject=function(xt,Et){Et===void 0&&(Et=he);var wt=_t.name+Et.hash;xt.hasNameForId(_t.id,wt)||xt.insertRules(_t.id,wt,Et(_t.rules,wt,"@keyframes"))},this.toString=function(){return D(12,String(_t.name))},this.name=ht,this.id="sc-keyframes-"+ht,this.rules=bt}return vt.prototype.getName=function(ht){return ht===void 0&&(ht=he),this.name+ht.hash},vt}(),ve=/([A-Z])/,ge=/([A-Z])/g,Se=/^ms-/,we=function(vt){return"-"+vt.toLowerCase()};function Ee(vt){return ve.test(vt)?vt.replace(ge,we).replace(Se,"-ms-"):vt}var be=function(vt){return vt==null||vt===!1||vt===""};function _e(vt,ht,bt,_t){if(Array.isArray(vt)){for(var xt,Et=[],wt=0,At=vt.length;wt<At;wt+=1)(xt=_e(vt[wt],ht,bt,_t))!==""&&(Array.isArray(xt)?Et.push.apply(Et,xt):Et.push(xt));return Et}if(be(vt))return"";if(_(vt))return"."+vt.styledComponentId;if(E(vt)){if(typeof(kt=vt)!="function"||kt.prototype&&kt.prototype.isReactComponent||!ht)return vt;var St=vt(ht);return _e(St,ht,bt,_t)}var kt;return vt instanceof ye?bt?(vt.inject(bt,_t),vt.getName(_t)):vt:g(vt)?function Rt(Pt,Mt){var Ft,Lt,Dt=[];for(var Nt in Pt)Pt.hasOwnProperty(Nt)&&!be(Pt[Nt])&&(Array.isArray(Pt[Nt])&&Pt[Nt].isCss||E(Pt[Nt])?Dt.push(Ee(Nt)+":",Pt[Nt],";"):g(Pt[Nt])?Dt.push.apply(Dt,Rt(Pt[Nt],Nt)):Dt.push(Ee(Nt)+": "+(Ft=Nt,(Lt=Pt[Nt])==null||typeof Lt=="boolean"||Lt===""?"":typeof Lt!="number"||Lt===0||Ft in unitlessKeys||Ft.startsWith("--")?String(Lt).trim():Lt+"px")+";"));return Mt?[Mt+" {"].concat(Dt,["}"]):Dt}(vt):vt.toString()}var Ne=function(vt){return Array.isArray(vt)&&(vt.isCss=!0),vt};function Ae(vt){for(var ht=arguments.length,bt=new Array(ht>1?ht-1:0),_t=1;_t<ht;_t++)bt[_t-1]=arguments[_t];return E(vt)||g(vt)?Ne(_e(v(S,[vt].concat(bt)))):bt.length===0&&vt.length===1&&typeof vt[0]=="string"?vt:Ne(_e(v(vt,bt)))}var Oe=function(vt,ht,bt){return bt===void 0&&(bt=w),vt.theme!==bt.theme&&vt.theme||ht||bt.theme},Re=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,De=/(^-|-$)/g;function je(vt){return vt.replace(Re,"-").replace(De,"")}var Te=function(vt){return Q(te(vt)>>>0)};function xe(vt){return typeof vt=="string"&&!0}var ke=function(vt){return typeof vt=="function"||typeof vt=="object"&&vt!==null&&!Array.isArray(vt)},Ve=function(vt){return vt!=="__proto__"&&vt!=="constructor"&&vt!=="prototype"};function Be(vt,ht,bt){var _t=vt[bt];ke(ht)&&ke(_t)?ze(_t,ht):vt[bt]=ht}function ze(vt){for(var ht=arguments.length,bt=new Array(ht>1?ht-1:0),_t=1;_t<ht;_t++)bt[_t-1]=arguments[_t];for(var xt=0,Et=bt;xt<Et.length;xt++){var wt=Et[xt];if(ke(wt))for(var At in wt)Ve(At)&&Be(vt,wt[At],At)}return vt}var Me=React.createContext();Me.Consumer;function Le(vt){var ht=reactExports.useContext(Me),bt=reactExports.useMemo(function(){return function(_t,xt){if(!_t)return D(14);if(E(_t)){var Et=_t(xt);return Et}return Array.isArray(_t)||typeof _t!="object"?D(8):xt?y({},xt,{},_t):_t}(vt.theme,ht)},[vt.theme,ht]);return vt.children?React.createElement(Me.Provider,{value:bt},vt.children):null}var Fe={};function Ye(vt,ht,bt){var _t=_(vt),xt=!xe(vt),Et=ht.attrs,wt=Et===void 0?S:Et,At=ht.componentId,St=At===void 0?function(Ot,jt){var Ut=typeof Ot!="string"?"sc":je(Ot);Fe[Ut]=(Fe[Ut]||0)+1;var Bt=Ut+"-"+Te("5.3.11"+Ut+Fe[Ut]);return jt?jt+"-"+Bt:Bt}(ht.displayName,ht.parentComponentId):At,kt=ht.displayName,Rt=kt===void 0?function(Ot){return xe(Ot)?"styled."+Ot:"Styled("+b(Ot)+")"}(vt):kt,Pt=ht.displayName&&ht.componentId?je(ht.displayName)+"-"+ht.componentId:ht.componentId||St,Mt=_t&&vt.attrs?Array.prototype.concat(vt.attrs,wt).filter(Boolean):wt,Ft=ht.shouldForwardProp;_t&&vt.shouldForwardProp&&(Ft=ht.shouldForwardProp?function(Ot,jt,Ut){return vt.shouldForwardProp(Ot,jt,Ut)&&ht.shouldForwardProp(Ot,jt,Ut)}:vt.shouldForwardProp);var Lt,Dt=new oe(bt,Pt,_t?vt.componentStyle:void 0),Nt=Dt.isStatic&&wt.length===0,$t=function(Ot,jt){return function(Ut,Bt,Vt,zt){var Gt=Ut.attrs,en=Ut.componentStyle,ln=Ut.defaultProps,Kt=Ut.foldedComponentIds,on=Ut.shouldForwardProp,fn=Ut.styledComponentId,En=Ut.target,gn=function(rn,nn,hn){rn===void 0&&(rn=w);var cn=y({},nn,{theme:rn}),Cn={};return hn.forEach(function($n){var Hn,On,Xn,Yn=$n;for(Hn in E(Yn)&&(Yn=Yn(cn)),Yn)cn[Hn]=Cn[Hn]=Hn==="className"?(On=Cn[Hn],Xn=Yn[Hn],On&&Xn?On+" "+Xn:On||Xn):Yn[Hn]}),[cn,Cn]}(Oe(Bt,reactExports.useContext(Me),ln)||w,Bt,Gt),wn=gn[0],pn=gn[1],sn=function(rn,nn,hn,cn){var Cn=pe(),$n=fe(),Hn=nn?rn.generateAndInjectStyles(w,Cn,$n):rn.generateAndInjectStyles(hn,Cn,$n);return Hn}(en,zt,wn),Jt=Vt,an=pn.$as||Bt.$as||pn.as||Bt.as||En,vn=xe(an),tn=pn!==Bt?y({},Bt,{},pn):Bt,Ht={};for(var Wt in tn)Wt[0]!=="$"&&Wt!=="as"&&(Wt==="forwardedAs"?Ht.as=tn[Wt]:(on?on(Wt,isPropValid,an):!vn||isPropValid(Wt))&&(Ht[Wt]=tn[Wt]));return Bt.style&&pn.style!==Bt.style&&(Ht.style=y({},Bt.style,{},pn.style)),Ht.className=Array.prototype.concat(Kt,fn,sn!==fn?sn:null,Bt.className,pn.className).filter(Boolean).join(" "),Ht.ref=Jt,reactExports.createElement(an,Ht)}(Lt,Ot,jt,Nt)};return $t.displayName=Rt,(Lt=React.forwardRef($t)).attrs=Mt,Lt.componentStyle=Dt,Lt.displayName=Rt,Lt.shouldForwardProp=Ft,Lt.foldedComponentIds=_t?Array.prototype.concat(vt.foldedComponentIds,vt.styledComponentId):S,Lt.styledComponentId=Pt,Lt.target=_t?vt.target:vt,Lt.withComponent=function(Ot){var jt=ht.componentId,Ut=function(Vt,zt){if(Vt==null)return{};var Gt,en,ln={},Kt=Object.keys(Vt);for(en=0;en<Kt.length;en++)Gt=Kt[en],zt.indexOf(Gt)>=0||(ln[Gt]=Vt[Gt]);return ln}(ht,["componentId"]),Bt=jt&&jt+"-"+(xe(Ot)?Ot:je(b(Ot)));return Ye(Ot,y({},Ut,{attrs:Mt,componentId:Bt}),bt)},Object.defineProperty(Lt,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Ot){this._foldedDefaultProps=_t?ze({},vt.defaultProps,Ot):Ot}}),Object.defineProperty(Lt,"toString",{value:function(){return"."+Lt.styledComponentId}}),xt&&m(Lt,vt,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),Lt}var qe=function(vt){return function ht(bt,_t,xt){if(xt===void 0&&(xt=w),!reactIsExports.isValidElementType(_t))return D(1,String(_t));var Et=function(){return bt(_t,xt,Ae.apply(void 0,arguments))};return Et.withConfig=function(wt){return ht(bt,_t,y({},xt,{},wt))},Et.attrs=function(wt){return ht(bt,_t,y({},xt,{attrs:Array.prototype.concat(xt.attrs,wt).filter(Boolean)}))},Et}(Ye,vt)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(vt){qe[vt]=qe(vt)});function We(vt){for(var ht=arguments.length,bt=new Array(ht>1?ht-1:0),_t=1;_t<ht;_t++)bt[_t-1]=arguments[_t];var xt=Ae.apply(void 0,[vt].concat(bt)).join(""),Et=Te(xt);return new ye(Et,xt)}const styled=qe;var SET_ALL_DOCUMENTS="SET_ALL_DOCUMENTS",setAllDocuments=function(vt){return{type:SET_ALL_DOCUMENTS,documents:vt}},SET_DOCUMENT_LOADING="SET_DOCUMENT_LOADING",setDocumentLoading=function(vt){return{type:SET_DOCUMENT_LOADING,value:vt}},NEXT_DOCUMENT="NEXT_DOCUMENT",nextDocument=function(){return{type:NEXT_DOCUMENT}},PREVIOUS_DOCUMENT="PREVIOUS_DOCUMENT",previousDocument=function(){return{type:PREVIOUS_DOCUMENT}},UPDATE_CURRENT_DOCUMENT="UPDATE_CURRENT_DOCUMENT",updateCurrentDocument=function(vt){return{type:UPDATE_CURRENT_DOCUMENT,document:vt}},SET_RENDERER_RECT="SET_RENDERER_RECT",setRendererRect=function(vt){return{type:SET_RENDERER_RECT,rect:vt}},SET_MAIN_CONFIG="SET_MAIN_CONFIG",setMainConfig=function(vt){return{type:SET_MAIN_CONFIG,config:vt}},__assign$d=function(){return __assign$d=Object.assign||function(vt){for(var ht,bt=1,_t=arguments.length;bt<_t;bt++){ht=arguments[bt];for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt])}return vt},__assign$d.apply(this,arguments)},initialState={currentFileNo:0,documents:[],documentLoading:!0,currentDocument:void 0,rendererRect:void 0,config:{},pluginRenderers:[]},mainStateReducer=function(vt,ht){switch(vt===void 0&&(vt=initialState),ht.type){case SET_ALL_DOCUMENTS:{var bt=ht.documents;return __assign$d(__assign$d({},vt),{documents:bt,currentDocument:bt[0]||null})}case SET_DOCUMENT_LOADING:{var _t=ht.value;return __assign$d(__assign$d({},vt),{documentLoading:_t})}case NEXT_DOCUMENT:{if(vt.currentFileNo>=vt.documents.length-1)return vt;var xt=vt.currentFileNo+1;return __assign$d(__assign$d({},vt),{currentFileNo:xt,currentDocument:vt.documents[xt],documentLoading:!0})}case PREVIOUS_DOCUMENT:{if(vt.currentFileNo<=0)return vt;var Et=vt.currentFileNo-1;return __assign$d(__assign$d({},vt),{currentFileNo:vt.currentFileNo-1,currentDocument:vt.documents[Et],documentLoading:!0})}case UPDATE_CURRENT_DOCUMENT:{var wt=ht.document;return __assign$d(__assign$d({},vt),{currentDocument:wt})}case SET_RENDERER_RECT:{var At=ht.rect;return __assign$d(__assign$d({},vt),{rendererRect:At})}case SET_MAIN_CONFIG:{var St=ht.config;return __assign$d(__assign$d({},vt),{config:St})}default:return vt}},__assign$c=function(){return __assign$c=Object.assign||function(vt){for(var ht,bt=1,_t=arguments.length;bt<_t;bt++){ht=arguments[bt];for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt])}return vt},__assign$c.apply(this,arguments)},DocViewerContext=reactExports.createContext({state:initialState,dispatch:function(){return null}}),AppProvider=function(vt){var ht=vt.children,bt=vt.documents,_t=vt.config,xt=vt.pluginRenderers,Et=reactExports.useReducer(mainStateReducer,__assign$c(__assign$c({},initialState),{documents:bt||[],currentDocument:bt&&bt.length?bt[0]:void 0,config:_t,pluginRenderers:xt})),wt=Et[0],At=Et[1];return reactExports.useEffect(function(){At(setAllDocuments(bt)),_t&&At(setMainConfig(_t))},[bt]),React.createElement(DocViewerContext.Provider,{value:{state:wt,dispatch:At}},ht)},__makeTemplateObject$h=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt},ButtonPrimaryStyle=Ae(templateObject_1$h||(templateObject_1$h=__makeTemplateObject$h([`
  background-color: `,`;
  color: `,`;
`],[`
  background-color: `,`;
  color: `,`;
`])),function(vt){return vt.theme.primary},function(vt){return vt.theme.text_primary}),ButtonSecondaryStyle=Ae(templateObject_2$9||(templateObject_2$9=__makeTemplateObject$h([`
  background-color: `,`;
  color: `,`;
`],[`
  background-color: `,`;
  color: `,`;
`])),function(vt){return vt.theme.secondary},function(vt){return vt.theme.text_secondary}),Button=styled.button(templateObject_3$5||(templateObject_3$5=__makeTemplateObject$h([`
  `,`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: `,`;
  pointer-events: `,`;
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`],[`
  `,`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: `,`;
  pointer-events: `,`;
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`])),ButtonPrimaryStyle,function(vt){return vt.disabled?.4:1},function(vt){return vt.disabled?"none":"all"}),LinkButton=styled.a(templateObject_4$3||(templateObject_4$3=__makeTemplateObject$h([`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: `,`;
  color: `,`;
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`],[`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: `,`;
  color: `,`;
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`])),function(vt){return vt.theme.primary},function(vt){return vt.theme.text_primary});styled(Button)(templateObject_5$1||(templateObject_5$1=__makeTemplateObject$h([""],[""])));var ButtonSecondary=styled(Button)(templateObject_6||(templateObject_6=__makeTemplateObject$h([`
  `,`
`],[`
  `,`
`])),ButtonSecondaryStyle),templateObject_1$h,templateObject_2$9,templateObject_3$5,templateObject_4$3,templateObject_5$1,templateObject_6,__assign$b=function(){return __assign$b=Object.assign||function(vt){for(var ht,bt=1,_t=arguments.length;bt<_t;bt++){ht=arguments[bt];for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt])}return vt},__assign$b.apply(this,arguments)},PrevDocIcon=function(vt){return React.createElement(DocNavIcon,__assign$b({},vt))},NextDocIcon=function(vt){return React.createElement(DocNavIcon,__assign$b({},vt,{reverse:!0}))},DocNavIcon=function(vt){var ht=vt.color,bt=vt.size,_t=vt.reverse;return React.createElement("svg",{width:bt||"100%",height:bt||"100%",style:{transform:"".concat(_t?"rotate(180deg)":"")},id:"arrow_left",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve"},React.createElement("path",{clipRule:"evenodd",d:"M31.106,15H3.278l8.325-8.293  c0.391-0.391,0.391-1.024,0-1.414c-0.391-0.391-1.024-0.391-1.414,0l-9.9,9.899c-0.385,0.385-0.385,1.029,0,1.414l9.9,9.9  c0.391,0.391,1.024,0.391,1.414,0c0.391-0.391,0.391-1.024,0-1.414L3.278,17h27.828c0.552,0,1-0.448,1-1  C32.106,15.448,31.658,15,31.106,15z",fill:ht||"#aaa",fillRule:"evenodd",id:"Arrow_Back"}))},LoadingIcon=function(vt){var ht=vt.color,bt=vt.size;return React.createElement("svg",{width:bt||"100%",height:bt||"100%",version:"1.1",id:"Icons",viewBox:"0 0 32 32",xmlSpace:"preserve",style:{alignSelf:"center",justifySelf:"center"}},React.createElement("g",null,React.createElement("path",{fill:ht||"#aaa",d:"M16,2c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1V3C17,2.4,16.6,2,16,2z"}),React.createElement("path",{fill:ht||"#aaa",d:`M7.5,6.1c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.5,6.1
		z`}),React.createElement("path",{fill:ht||"#aaa",d:"M9,16c0-0.6-0.4-1-1-1H3c-0.6,0-1,0.4-1,1s0.4,1,1,1h5C8.6,17,9,16.6,9,16z"}),React.createElement("path",{fill:ht||"#aaa",d:`M9.6,20.9l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4
		S10,20.6,9.6,20.9z`}),React.createElement("path",{fill:ht||"#aaa",d:"M16,23c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1v-5C17,23.4,16.6,23,16,23z"}),React.createElement("path",{fill:ht||"#aaa",d:`M22.4,20.9c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4
		L22.4,20.9z`}),React.createElement("path",{fill:ht||"#aaa",d:"M29,15h-5c-0.6,0-1,0.4-1,1s0.4,1,1,1h5c0.6,0,1-0.4,1-1S29.6,15,29,15z"}),React.createElement("path",{fill:ht||"#aaa",d:`M21.7,11.3c0.3,0,0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4
		C21.1,11.2,21.4,11.3,21.7,11.3z`})))},__makeTemplateObject$g=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt},DocumentNav=function(){var vt=reactExports.useContext(DocViewerContext),ht=vt.state,bt=ht.currentDocument,_t=ht.currentFileNo,xt=ht.documents,Et=vt.dispatch;if(xt.length<=1||!bt)return null;var wt=bt.uri,At=wt.split("/");return At.length&&(wt=At[At.length-1]),React.createElement(Container$5,{id:"doc-nav"},React.createElement("p",{id:"doc-nav-info"},"Doc ",_t+1," of ",xt.length),React.createElement(ButtonPrev,{id:"doc-nav-prev",onClick:function(){return Et(previousDocument())},disabled:_t===0},React.createElement(PrevDocIcon,{color:"#fff",size:"60%"})),React.createElement(ButtonNext,{id:"doc-nav-next",onClick:function(){return Et(nextDocument())},disabled:_t>=xt.length-1},React.createElement(NextDocIcon,{color:"#fff",size:"60%"})))},Container$5=styled.div(templateObject_1$g||(templateObject_1$g=__makeTemplateObject$g([`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: `,`;
`],[`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: `,`;
`])),function(vt){return vt.theme.text_primary}),ButtonPrev=styled(ButtonSecondary)(templateObject_2$8||(templateObject_2$8=__makeTemplateObject$g([`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),ButtonNext=styled(ButtonPrev)(templateObject_3$4||(templateObject_3$4=__makeTemplateObject$g([`
  margin: 0 5px;
`],[`
  margin: 0 5px;
`]))),templateObject_1$g,templateObject_2$8,templateObject_3$4,__makeTemplateObject$f=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt},FileName=function(){var vt,ht,bt=reactExports.useContext(DocViewerContext).state,_t=bt.config,xt=bt.currentDocument;if(!xt||!((vt=_t==null?void 0:_t.header)===null||vt===void 0)&&vt.disableFileName)return null;var Et=xt.uri||"";Et=decodeURI(Et),!((ht=_t==null?void 0:_t.header)===null||ht===void 0)&&ht.retainURLParams||(Et=Et.split("?")[0]);var wt=Et.split("/");return wt.length&&(Et=wt[wt.length-1]),React.createElement(Container$4,{id:"file-name","data-testid":"file-name"},Et)},Container$4=styled.div(templateObject_1$f||(templateObject_1$f=__makeTemplateObject$f([`
  flex: 1;
  text-align: left;
  color: `,`;
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`],[`
  flex: 1;
  text-align: left;
  color: `,`;
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`])),function(vt){return vt.theme.text_primary}),templateObject_1$f,__makeTemplateObject$e=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt},HeaderBar=function(){var vt,ht,bt,_t=reactExports.useContext(DocViewerContext),xt=_t.state,Et=_t.dispatch,wt=xt.config;if(!((vt=wt==null?void 0:wt.header)===null||vt===void 0)&&vt.disableHeader)return null;var At=(bt=(ht=wt==null?void 0:wt.header)===null||ht===void 0?void 0:ht.overrideComponent)===null||bt===void 0?void 0:bt.call(ht,xt,function(){return Et(previousDocument())},function(){return Et(nextDocument())});return At||React.createElement(Container$3,{id:"header-bar","data-testid":"header-bar"},React.createElement(FileName,null),React.createElement(DocumentNav,null))},Container$3=styled.div(templateObject_1$e||(templateObject_1$e=__makeTemplateObject$e([`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: `,`;
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`],[`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: `,`;
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`])),function(vt){return vt.theme.primary}),templateObject_1$e,__assign$a=function(){return __assign$a=Object.assign||function(vt){for(var ht,bt=1,_t=arguments.length;bt<_t;bt++){ht=arguments[bt];for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt])}return vt},__assign$a.apply(this,arguments)},__awaiter=function(vt,ht,bt,_t){function xt(Et){return Et instanceof bt?Et:new bt(function(wt){wt(Et)})}return new(bt||(bt=Promise))(function(Et,wt){function At(Rt){try{kt(_t.next(Rt))}catch(Pt){wt(Pt)}}function St(Rt){try{kt(_t.throw(Rt))}catch(Pt){wt(Pt)}}function kt(Rt){Rt.done?Et(Rt.value):xt(Rt.value).then(At,St)}kt((_t=_t.apply(vt,ht||[])).next())})},__generator=function(vt,ht){var bt={label:0,sent:function(){if(Et[0]&1)throw Et[1];return Et[1]},trys:[],ops:[]},_t,xt,Et,wt;return wt={next:At(0),throw:At(1),return:At(2)},typeof Symbol=="function"&&(wt[Symbol.iterator]=function(){return this}),wt;function At(kt){return function(Rt){return St([kt,Rt])}}function St(kt){if(_t)throw new TypeError("Generator is already executing.");for(;wt&&(wt=0,kt[0]&&(bt=0)),bt;)try{if(_t=1,xt&&(Et=kt[0]&2?xt.return:kt[0]?xt.throw||((Et=xt.return)&&Et.call(xt),0):xt.next)&&!(Et=Et.call(xt,kt[1])).done)return Et;switch(xt=0,Et&&(kt=[kt[0]&2,Et.value]),kt[0]){case 0:case 1:Et=kt;break;case 4:return bt.label++,{value:kt[1],done:!1};case 5:bt.label++,xt=kt[1],kt=[0];continue;case 7:kt=bt.ops.pop(),bt.trys.pop();continue;default:if(Et=bt.trys,!(Et=Et.length>0&&Et[Et.length-1])&&(kt[0]===6||kt[0]===2)){bt=0;continue}if(kt[0]===3&&(!Et||kt[1]>Et[0]&&kt[1]<Et[3])){bt.label=kt[1];break}if(kt[0]===6&&bt.label<Et[1]){bt.label=Et[1],Et=kt;break}if(Et&&bt.label<Et[2]){bt.label=Et[2],bt.ops.push(kt);break}Et[2]&&bt.ops.pop(),bt.trys.pop();continue}kt=ht.call(vt,bt)}catch(Rt){kt=[6,Rt],xt=0}finally{_t=Et=0}if(kt[0]&5)throw kt[1];return{value:kt[0]?kt[1]:void 0,done:!0}}},_fileLoader=function(vt){var ht=vt.documentURI,bt=vt.signal,_t=vt.fileLoaderComplete,xt=vt.readerTypeFunction;return fetch(ht,{signal:bt}).then(function(Et){return __awaiter(void 0,void 0,void 0,function(){var wt,At;return __generator(this,function(St){switch(St.label){case 0:return[4,Et.blob()];case 1:switch(wt=St.sent(),At=new FileReader,At.addEventListener("loadend",function(){return _t(At)}),xt){case"arrayBuffer":At.readAsArrayBuffer(wt);break;case"binaryString":At.readAsBinaryString(wt);break;case"dataURL":At.readAsDataURL(wt);break;case"text":At.readAsText(wt);break}return[2]}})})}).catch(function(Et){return Et})},dataURLFileLoader=function(vt){return _fileLoader(__assign$a(__assign$a({},vt),{readerTypeFunction:"dataURL"}))},defaultFileLoader=dataURLFileLoader,useRendererSelector=function(){var vt=reactExports.useContext(DocViewerContext).state,ht=vt.currentDocument,bt=vt.pluginRenderers,_t=reactExports.useState(),xt=_t[0],Et=_t[1];return reactExports.useEffect(function(){if(ht){if(!ht.fileType){Et(void 0);return}var wt=[];bt==null||bt.map(function(St){ht.fileType!==void 0&&St.fileTypes.indexOf(ht.fileType)>=0&&wt.push(St)});var At=wt.sort(function(St,kt){return kt.weight-St.weight})[0];Et(At&&At!==void 0?function(){return At}:null)}},[ht]),{CurrentRenderer:xt}},__assign$9=function(){return __assign$9=Object.assign||function(vt){for(var ht,bt=1,_t=arguments.length;bt<_t;bt++){ht=arguments[bt];for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt])}return vt},__assign$9.apply(this,arguments)},useDocumentLoader=function(){var vt=reactExports.useContext(DocViewerContext),ht=vt.state,bt=vt.dispatch,_t=ht.currentFileNo,xt=ht.currentDocument,Et=useRendererSelector().CurrentRenderer,wt=(xt==null?void 0:xt.uri)||"";return reactExports.useEffect(function(){if(xt&&xt.fileType===void 0){var At=new AbortController,St=At.signal;return fetch(wt,{method:"HEAD",signal:St}).then(function(kt){var Rt=kt.headers.get("content-type"),Pt=(Rt==null?void 0:Rt.split(";"))||[],Mt=Pt.length?Pt[0]:void 0;bt(updateCurrentDocument(__assign$9(__assign$9({},xt),{fileType:Mt||void 0})))}),function(){At.abort()}}},[_t,wt]),reactExports.useEffect(function(){var At;if(!(!xt||Et===void 0)){var St=new AbortController,kt=St.signal,Rt=function(Pt){if(!xt||!Pt){bt(setDocumentLoading(!1));return}var Mt=__assign$9({},xt);Pt.result!==null&&(Mt.fileData=Pt.result),bt(updateCurrentDocument(Mt)),bt(setDocumentLoading(!1))};return Et===null?bt(setDocumentLoading(!1)):Et.fileLoader!==void 0?(At=Et.fileLoader)===null||At===void 0||At.call(Et,{documentURI:wt,signal:kt,fileLoaderComplete:Rt}):defaultFileLoader({documentURI:wt,signal:kt,fileLoaderComplete:Rt}),function(){St.abort()}}},[Et]),{state:ht,dispatch:bt,CurrentRenderer:Et}},useWindowSize=function(){var vt=reactExports.useState({width:void 0,height:void 0}),ht=vt[0],bt=vt[1];return reactExports.useEffect(function(){function _t(){bt({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",_t),_t(),function(){return window.removeEventListener("resize",_t)}},[]),ht},__makeTemplateObject$d=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt},ProxyRenderer=function(){var vt=useDocumentLoader(),ht=vt.state,bt=vt.dispatch,_t=vt.CurrentRenderer,xt=ht.documents,Et=ht.documentLoading,wt=ht.currentDocument,At=useWindowSize(),St=reactExports.useCallback(function(Rt){Rt&&bt(setRendererRect(Rt==null?void 0:Rt.getBoundingClientRect()))},[At]),kt=function(){return xt.length?Et?React.createElement(LoadingContainer,{id:"loading-renderer","data-testid":"loading-renderer"},React.createElement(LoadingIconContainer,null,React.createElement(LoadingIcon,{color:"#444",size:40}))):_t?React.createElement(_t,{mainState:ht}):_t===void 0?null:React.createElement("div",{id:"no-renderer","data-testid":"no-renderer"},"No Renderer for file type ",wt==null?void 0:wt.fileType,React.createElement(DownloadButton,{id:"no-renderer-download",href:wt==null?void 0:wt.uri,download:wt==null?void 0:wt.uri},"Download File")):React.createElement("div",{id:"no-documents"})};return React.createElement(Container$2,{id:"proxy-renderer",ref:St},React.createElement(kt,null))},Container$2=styled.div(templateObject_1$d||(templateObject_1$d=__makeTemplateObject$d([`
  display: flex;
  flex: 1;
  overflow-y: auto;
`],[`
  display: flex;
  flex: 1;
  overflow-y: auto;
`]))),LoadingContainer=styled.div(templateObject_2$7||(templateObject_2$7=__makeTemplateObject$d([`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`],[`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`]))),spinAnim=We(templateObject_3$3||(templateObject_3$3=__makeTemplateObject$d([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`],[`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),LoadingIconContainer=styled.div(templateObject_4$2||(templateObject_4$2=__makeTemplateObject$d([`
  animation-name: `,`;
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`],[`
  animation-name: `,`;
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`])),spinAnim),DownloadButton=styled(LinkButton)(templateObject_5||(templateObject_5=__makeTemplateObject$d([`
  width: 130px;
  height: 30px;
  background-color: `,`;
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`],[`
  width: 130px;
  height: 30px;
  background-color: `,`;
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`])),function(vt){return vt.theme.primary}),templateObject_1$d,templateObject_2$7,templateObject_3$3,templateObject_4$2,templateObject_5,__makeTemplateObject$c=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt},__assign$8=function(){return __assign$8=Object.assign||function(vt){for(var ht,bt=1,_t=arguments.length;bt<_t;bt++){ht=arguments[bt];for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt])}return vt},__assign$8.apply(this,arguments)},ImageProxyRenderer=function(vt){var ht=vt.mainState.currentDocument,bt=vt.children;return ht?React.createElement(Container$1,__assign$8({id:"image-renderer"},vt),bt||React.createElement(Img,{id:"image-img",src:ht.fileData})):null};ImageProxyRenderer.fileTypes=[];ImageProxyRenderer.weight=0;var Container$1=styled.div(templateObject_1$c||(templateObject_1$c=__makeTemplateObject$c([`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`],[`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`]))),Img=styled.img(templateObject_2$6||(templateObject_2$6=__makeTemplateObject$c([`
  max-width: 95%;
  max-height: 95%;
`],[`
  max-width: 95%;
  max-height: 95%;
`]))),templateObject_1$c,templateObject_2$6,__assign$7=function(){return __assign$7=Object.assign||function(vt){for(var ht,bt=1,_t=arguments.length;bt<_t;bt++){ht=arguments[bt];for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt])}return vt},__assign$7.apply(this,arguments)},__makeTemplateObject$b=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt};styled.div(templateObject_1$b||(templateObject_1$b=__makeTemplateObject$b([`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`],[`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`])));styled.iframe(templateObject_2$5||(templateObject_2$5=__makeTemplateObject$b([`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`],[`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`])),function(vt){return vt.theme.secondary});var templateObject_1$b,templateObject_2$5,__assign$6=function(){return __assign$6=Object.assign||function(vt){for(var ht,bt=1,_t=arguments.length;bt<_t;bt++){ht=arguments[bt];for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt])}return vt},__assign$6.apply(this,arguments)},__makeTemplateObject$a=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt},__spreadArray=function(vt,ht,bt){if(bt||arguments.length===2)for(var _t=0,xt=ht.length,Et;_t<xt;_t++)(Et||!(_t in ht))&&(Et||(Et=Array.prototype.slice.call(ht,0,_t)),Et[_t]=ht[_t]);return vt.concat(Et||Array.prototype.slice.call(ht))},MSDocFTMaps={doc:["doc","application/msword"],docx:["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],xls:["xls","application/vnd.ms-excel"],xlsx:["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],ppt:["ppt","application/vnd.ms-powerpoint"],pptx:["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"]};__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],MSDocFTMaps.doc,!0),MSDocFTMaps.docx,!0),MSDocFTMaps.xls,!0),MSDocFTMaps.xlsx,!0),MSDocFTMaps.ppt,!0),MSDocFTMaps.pptx,!0);styled.div(templateObject_1$a||(templateObject_1$a=__makeTemplateObject$a([`
  width: 100%;
`],[`
  width: 100%;
`])));styled.iframe(templateObject_2$4||(templateObject_2$4=__makeTemplateObject$a([`
  width: 100%;
  height: 100%;
  border: 0;
`],[`
  width: 100%;
  height: 100%;
  border: 0;
`])));var templateObject_1$a,templateObject_2$4,wlMsgReader={},DataStream={exports:{}};(function(vt,ht){(function(bt,_t){vt.exports=_t()})(commonjsGlobal,function(){var bt=function(_t,xt,Et){this._byteOffset=xt||0,_t instanceof ArrayBuffer?this.buffer=_t:typeof _t=="object"?(this.dataView=_t,xt&&(this._byteOffset+=xt)):this.buffer=new ArrayBuffer(_t||1),this.position=0,this.endianness=Et??bt.LITTLE_ENDIAN};return bt.prototype={},Uint8Array.prototype.BYTES_PER_ELEMENT===void 0&&(Uint8Array.prototype.BYTES_PER_ELEMENT=Uint8Array.BYTES_PER_ELEMENT,Int8Array.prototype.BYTES_PER_ELEMENT=Int8Array.BYTES_PER_ELEMENT,Uint8ClampedArray.prototype.BYTES_PER_ELEMENT=Uint8ClampedArray.BYTES_PER_ELEMENT,Uint16Array.prototype.BYTES_PER_ELEMENT=Uint16Array.BYTES_PER_ELEMENT,Int16Array.prototype.BYTES_PER_ELEMENT=Int16Array.BYTES_PER_ELEMENT,Uint32Array.prototype.BYTES_PER_ELEMENT=Uint32Array.BYTES_PER_ELEMENT,Int32Array.prototype.BYTES_PER_ELEMENT=Int32Array.BYTES_PER_ELEMENT,Float64Array.prototype.BYTES_PER_ELEMENT=Float64Array.BYTES_PER_ELEMENT),bt.prototype.save=function(_t){var xt=new Blob(this.buffer),Et=window.webkitURL||window.URL;if(Et&&Et.createObjectURL){var wt=Et.createObjectURL(xt),At=document.createElement("a");At.setAttribute("href",wt),At.setAttribute("download",_t),At.click(),Et.revokeObjectURL(wt)}else throw"DataStream.save: Can't create object URL."},bt.BIG_ENDIAN=!1,bt.LITTLE_ENDIAN=!0,bt.prototype._dynamicSize=!0,Object.defineProperty(bt.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(_t){_t||this._trimAlloc(),this._dynamicSize=_t}}),bt.prototype._byteLength=0,Object.defineProperty(bt.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(bt.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(_t){this._buffer=_t,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(bt.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(_t){this._byteOffset=_t,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(bt.prototype,"dataView",{get:function(){return this._dataView},set:function(_t){this._byteOffset=_t.byteOffset,this._buffer=_t.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+_t.byteLength}}),bt.prototype._realloc=function(_t){if(this._dynamicSize){var xt=this._byteOffset+this.position+_t,Et=this._buffer.byteLength;if(xt<=Et){xt>this._byteLength&&(this._byteLength=xt);return}for(Et<1&&(Et=1);xt>Et;)Et*=2;var wt=new ArrayBuffer(Et),At=new Uint8Array(this._buffer),St=new Uint8Array(wt,0,At.length);St.set(At),this.buffer=wt,this._byteLength=xt}},bt.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var _t=new ArrayBuffer(this._byteLength),xt=new Uint8Array(_t),Et=new Uint8Array(this._buffer,0,xt.length);xt.set(Et),this.buffer=_t}},bt.prototype.seek=function(_t){var xt=Math.max(0,Math.min(this.byteLength,_t));this.position=isNaN(xt)||!isFinite(xt)?0:xt},bt.prototype.isEof=function(){return this.position>=this.byteLength},bt.prototype.mapInt32Array=function(_t,xt){this._realloc(_t*4);var Et=new Int32Array(this._buffer,this.byteOffset+this.position,_t);return bt.arrayToNative(Et,xt??this.endianness),this.position+=_t*4,Et},bt.prototype.mapInt16Array=function(_t,xt){this._realloc(_t*2);var Et=new Int16Array(this._buffer,this.byteOffset+this.position,_t);return bt.arrayToNative(Et,xt??this.endianness),this.position+=_t*2,Et},bt.prototype.mapInt8Array=function(_t){this._realloc(_t*1);var xt=new Int8Array(this._buffer,this.byteOffset+this.position,_t);return this.position+=_t*1,xt},bt.prototype.mapUint32Array=function(_t,xt){this._realloc(_t*4);var Et=new Uint32Array(this._buffer,this.byteOffset+this.position,_t);return bt.arrayToNative(Et,xt??this.endianness),this.position+=_t*4,Et},bt.prototype.mapUint16Array=function(_t,xt){this._realloc(_t*2);var Et=new Uint16Array(this._buffer,this.byteOffset+this.position,_t);return bt.arrayToNative(Et,xt??this.endianness),this.position+=_t*2,Et},bt.prototype.mapUint8Array=function(_t){this._realloc(_t*1);var xt=new Uint8Array(this._buffer,this.byteOffset+this.position,_t);return this.position+=_t*1,xt},bt.prototype.mapFloat64Array=function(_t,xt){this._realloc(_t*8);var Et=new Float64Array(this._buffer,this.byteOffset+this.position,_t);return bt.arrayToNative(Et,xt??this.endianness),this.position+=_t*8,Et},bt.prototype.mapFloat32Array=function(_t,xt){this._realloc(_t*4);var Et=new Float32Array(this._buffer,this.byteOffset+this.position,_t);return bt.arrayToNative(Et,xt??this.endianness),this.position+=_t*4,Et},bt.prototype.readInt32Array=function(_t,xt){_t=_t??this.byteLength-this.position/4;var Et=new Int32Array(_t);return bt.memcpy(Et.buffer,0,this.buffer,this.byteOffset+this.position,_t*Et.BYTES_PER_ELEMENT),bt.arrayToNative(Et,xt??this.endianness),this.position+=Et.byteLength,Et},bt.prototype.readInt16Array=function(_t,xt){_t=_t??this.byteLength-this.position/2;var Et=new Int16Array(_t);return bt.memcpy(Et.buffer,0,this.buffer,this.byteOffset+this.position,_t*Et.BYTES_PER_ELEMENT),bt.arrayToNative(Et,xt??this.endianness),this.position+=Et.byteLength,Et},bt.prototype.readInt8Array=function(_t){_t=_t??this.byteLength-this.position;var xt=new Int8Array(_t);return bt.memcpy(xt.buffer,0,this.buffer,this.byteOffset+this.position,_t*xt.BYTES_PER_ELEMENT),this.position+=xt.byteLength,xt},bt.prototype.readUint32Array=function(_t,xt){_t=_t??this.byteLength-this.position/4;var Et=new Uint32Array(_t);return bt.memcpy(Et.buffer,0,this.buffer,this.byteOffset+this.position,_t*Et.BYTES_PER_ELEMENT),bt.arrayToNative(Et,xt??this.endianness),this.position+=Et.byteLength,Et},bt.prototype.readUint16Array=function(_t,xt){_t=_t??this.byteLength-this.position/2;var Et=new Uint16Array(_t);return bt.memcpy(Et.buffer,0,this.buffer,this.byteOffset+this.position,_t*Et.BYTES_PER_ELEMENT),bt.arrayToNative(Et,xt??this.endianness),this.position+=Et.byteLength,Et},bt.prototype.readUint8Array=function(_t){_t=_t??this.byteLength-this.position;var xt=new Uint8Array(_t);return bt.memcpy(xt.buffer,0,this.buffer,this.byteOffset+this.position,_t*xt.BYTES_PER_ELEMENT),this.position+=xt.byteLength,xt},bt.prototype.readFloat64Array=function(_t,xt){_t=_t??this.byteLength-this.position/8;var Et=new Float64Array(_t);return bt.memcpy(Et.buffer,0,this.buffer,this.byteOffset+this.position,_t*Et.BYTES_PER_ELEMENT),bt.arrayToNative(Et,xt??this.endianness),this.position+=Et.byteLength,Et},bt.prototype.readFloat32Array=function(_t,xt){_t=_t??this.byteLength-this.position/4;var Et=new Float32Array(_t);return bt.memcpy(Et.buffer,0,this.buffer,this.byteOffset+this.position,_t*Et.BYTES_PER_ELEMENT),bt.arrayToNative(Et,xt??this.endianness),this.position+=Et.byteLength,Et},bt.prototype.writeInt32Array=function(_t,xt){if(this._realloc(_t.length*4),_t instanceof Int32Array&&this.byteOffset+this.position%_t.BYTES_PER_ELEMENT==0)bt.memcpy(this._buffer,this.byteOffset+this.position,_t.buffer,0,_t.byteLength),this.mapInt32Array(_t.length,xt);else for(var Et=0;Et<_t.length;Et++)this.writeInt32(_t[Et],xt)},bt.prototype.writeInt16Array=function(_t,xt){if(this._realloc(_t.length*2),_t instanceof Int16Array&&this.byteOffset+this.position%_t.BYTES_PER_ELEMENT==0)bt.memcpy(this._buffer,this.byteOffset+this.position,_t.buffer,0,_t.byteLength),this.mapInt16Array(_t.length,xt);else for(var Et=0;Et<_t.length;Et++)this.writeInt16(_t[Et],xt)},bt.prototype.writeInt8Array=function(_t){if(this._realloc(_t.length*1),_t instanceof Int8Array&&this.byteOffset+this.position%_t.BYTES_PER_ELEMENT==0)bt.memcpy(this._buffer,this.byteOffset+this.position,_t.buffer,0,_t.byteLength),this.mapInt8Array(_t.length);else for(var xt=0;xt<_t.length;xt++)this.writeInt8(_t[xt])},bt.prototype.writeUint32Array=function(_t,xt){if(this._realloc(_t.length*4),_t instanceof Uint32Array&&this.byteOffset+this.position%_t.BYTES_PER_ELEMENT==0)bt.memcpy(this._buffer,this.byteOffset+this.position,_t.buffer,0,_t.byteLength),this.mapUint32Array(_t.length,xt);else for(var Et=0;Et<_t.length;Et++)this.writeUint32(_t[Et],xt)},bt.prototype.writeUint16Array=function(_t,xt){if(this._realloc(_t.length*2),_t instanceof Uint16Array&&this.byteOffset+this.position%_t.BYTES_PER_ELEMENT==0)bt.memcpy(this._buffer,this.byteOffset+this.position,_t.buffer,0,_t.byteLength),this.mapUint16Array(_t.length,xt);else for(var Et=0;Et<_t.length;Et++)this.writeUint16(_t[Et],xt)},bt.prototype.writeUint8Array=function(_t){if(this._realloc(_t.length*1),_t instanceof Uint8Array&&this.byteOffset+this.position%_t.BYTES_PER_ELEMENT==0)bt.memcpy(this._buffer,this.byteOffset+this.position,_t.buffer,0,_t.byteLength),this.mapUint8Array(_t.length);else for(var xt=0;xt<_t.length;xt++)this.writeUint8(_t[xt])},bt.prototype.writeFloat64Array=function(_t,xt){if(this._realloc(_t.length*8),_t instanceof Float64Array&&this.byteOffset+this.position%_t.BYTES_PER_ELEMENT==0)bt.memcpy(this._buffer,this.byteOffset+this.position,_t.buffer,0,_t.byteLength),this.mapFloat64Array(_t.length,xt);else for(var Et=0;Et<_t.length;Et++)this.writeFloat64(_t[Et],xt)},bt.prototype.writeFloat32Array=function(_t,xt){if(this._realloc(_t.length*4),_t instanceof Float32Array&&this.byteOffset+this.position%_t.BYTES_PER_ELEMENT==0)bt.memcpy(this._buffer,this.byteOffset+this.position,_t.buffer,0,_t.byteLength),this.mapFloat32Array(_t.length,xt);else for(var Et=0;Et<_t.length;Et++)this.writeFloat32(_t[Et],xt)},bt.prototype.readInt32=function(_t){var xt=this._dataView.getInt32(this.position,_t??this.endianness);return this.position+=4,xt},bt.prototype.readInt=function(_t){return this.seek(_t),this.readInt32()},bt.prototype.readInt16=function(_t){var xt=this._dataView.getInt16(this.position,_t??this.endianness);return this.position+=2,xt},bt.prototype.readShort=function(_t){return this.seek(_t),this.readInt16()},bt.prototype.readInt8=function(){var _t=this._dataView.getInt8(this.position);return this.position+=1,_t},bt.prototype.readByte=function(_t){return this.seek(_t),this.readInt8()},bt.prototype.readUint32=function(_t){var xt=this._dataView.getUint32(this.position,_t??this.endianness);return this.position+=4,xt},bt.prototype.readUint16=function(_t){var xt=this._dataView.getUint16(this.position,_t??this.endianness);return this.position+=2,xt},bt.prototype.readUint8=function(){var _t=this._dataView.getUint8(this.position);return this.position+=1,_t},bt.prototype.readFloat32=function(_t){var xt=this._dataView.getFloat32(this.position,_t??this.endianness);return this.position+=4,xt},bt.prototype.readFloat64=function(_t){var xt=this._dataView.getFloat64(this.position,_t??this.endianness);return this.position+=8,xt},bt.prototype.writeInt32=function(_t,xt){this._realloc(4),this._dataView.setInt32(this.position,_t,xt??this.endianness),this.position+=4},bt.prototype.writeInt16=function(_t,xt){this._realloc(2),this._dataView.setInt16(this.position,_t,xt??this.endianness),this.position+=2},bt.prototype.writeInt8=function(_t){this._realloc(1),this._dataView.setInt8(this.position,_t),this.position+=1},bt.prototype.writeUint32=function(_t,xt){this._realloc(4),this._dataView.setUint32(this.position,_t,xt??this.endianness),this.position+=4},bt.prototype.writeUint16=function(_t,xt){this._realloc(2),this._dataView.setUint16(this.position,_t,xt??this.endianness),this.position+=2},bt.prototype.writeUint8=function(_t){this._realloc(1),this._dataView.setUint8(this.position,_t),this.position+=1},bt.prototype.writeFloat32=function(_t,xt){this._realloc(4),this._dataView.setFloat32(this.position,_t,xt??this.endianness),this.position+=4},bt.prototype.writeFloat64=function(_t,xt){this._realloc(8),this._dataView.setFloat64(this.position,_t,xt??this.endianness),this.position+=8},bt.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,bt.memcpy=function(_t,xt,Et,wt,At){var St=new Uint8Array(_t,xt,At),kt=new Uint8Array(Et,wt,At);St.set(kt)},bt.arrayToNative=function(_t,xt){return xt==this.endianness?_t:this.flipArrayEndianness(_t)},bt.nativeToEndian=function(_t,xt){return this.endianness==xt?_t:this.flipArrayEndianness(_t)},bt.flipArrayEndianness=function(_t){for(var xt=new Uint8Array(_t.buffer,_t.byteOffset,_t.byteLength),Et=0;Et<_t.byteLength;Et+=_t.BYTES_PER_ELEMENT)for(var wt=Et+_t.BYTES_PER_ELEMENT-1,At=Et;wt>At;wt--,At++){var St=xt[At];xt[At]=xt[wt],xt[wt]=St}return _t},bt.createStringFromArray=function(_t){for(var xt="",Et=0;Et<_t.length;Et++)xt+=String.fromCharCode(_t[Et]);return xt},bt.prototype.failurePosition=0,bt.prototype.readStruct=function(_t){for(var xt={},Et,wt,At=this.position,St=0;St<_t.length;St+=2){if(Et=_t[St+1],wt=this.readType(Et,xt),wt==null)return this.failurePosition==0&&(this.failurePosition=this.position),this.position=At,null;xt[_t[St]]=wt}return xt},bt.prototype.readUCS2String=function(_t,xt){return bt.createStringFromArray(this.readUint16Array(_t,xt))},bt.prototype.readStringAt=function(_t,xt){return this.seek(_t),this.readUCS2String(xt)},bt.prototype.writeUCS2String=function(_t,xt,Et){Et==null&&(Et=_t.length);for(var wt=0;wt<_t.length&&wt<Et;wt++)this.writeUint16(_t.charCodeAt(wt),xt);for(;wt<Et;wt++)this.writeUint16(0)},bt.prototype.readString=function(_t,xt){return xt==null||xt=="ASCII"?bt.createStringFromArray(this.mapUint8Array(_t??this.byteLength-this.position)):new TextDecoder(xt).decode(this.mapUint8Array(_t))},bt.prototype.writeString=function(_t,xt,Et){if(xt==null||xt=="ASCII")if(Et!=null){var wt=0,At=Math.min(_t.length,Et);for(wt=0;wt<At;wt++)this.writeUint8(_t.charCodeAt(wt));for(;wt<Et;wt++)this.writeUint8(0)}else for(var wt=0;wt<_t.length;wt++)this.writeUint8(_t.charCodeAt(wt));else this.writeUint8Array(new TextEncoder(xt).encode(_t.substring(0,Et)))},bt.prototype.readCString=function(_t){var xt=this.byteLength-this.position,Et=new Uint8Array(this._buffer,this._byteOffset+this.position),wt=xt;_t!=null&&(wt=Math.min(_t,xt));for(var At=0;At<wt&&Et[At]!=0;At++);var St=bt.createStringFromArray(this.mapUint8Array(At));return _t!=null?this.position+=wt-At:At!=xt&&(this.position+=1),St},bt.prototype.writeCString=function(_t,xt){if(xt!=null){var Et=0,wt=Math.min(_t.length,xt);for(Et=0;Et<wt;Et++)this.writeUint8(_t.charCodeAt(Et));for(;Et<xt;Et++)this.writeUint8(0)}else{for(var Et=0;Et<_t.length;Et++)this.writeUint8(_t.charCodeAt(Et));this.writeUint8(0)}},bt.prototype.readType=function(_t,xt){if(typeof _t=="function")return _t(this,xt);if(typeof _t=="object"&&!(_t instanceof Array))return _t.get(this,xt);if(_t instanceof Array&&_t.length!=3)return this.readStruct(_t,xt);var Et=null,wt=null,At="ASCII",St=this.position,kt;if(typeof _t=="string"&&/:/.test(_t)){var Rt=_t.split(":");_t=Rt[0],kt=Rt[1],xt[kt]!=null?wt=parseInt(xt[kt]):wt=parseInt(Rt[1])}if(typeof _t=="string"&&/,/.test(_t)){var Rt=_t.split(",");_t=Rt[0],At=parseInt(Rt[1])}switch(_t){case"uint8":Et=this.readUint8();break;case"int8":Et=this.readInt8();break;case"uint16":Et=this.readUint16(this.endianness);break;case"int16":Et=this.readInt16(this.endianness);break;case"uint32":Et=this.readUint32(this.endianness);break;case"int32":Et=this.readInt32(this.endianness);break;case"float32":Et=this.readFloat32(this.endianness);break;case"float64":Et=this.readFloat64(this.endianness);break;case"uint16be":Et=this.readUint16(bt.BIG_ENDIAN);break;case"int16be":Et=this.readInt16(bt.BIG_ENDIAN);break;case"uint32be":Et=this.readUint32(bt.BIG_ENDIAN);break;case"int32be":Et=this.readInt32(bt.BIG_ENDIAN);break;case"float32be":Et=this.readFloat32(bt.BIG_ENDIAN);break;case"float64be":Et=this.readFloat64(bt.BIG_ENDIAN);break;case"uint16le":Et=this.readUint16(bt.LITTLE_ENDIAN);break;case"int16le":Et=this.readInt16(bt.LITTLE_ENDIAN);break;case"uint32le":Et=this.readUint32(bt.LITTLE_ENDIAN);break;case"int32le":Et=this.readInt32(bt.LITTLE_ENDIAN);break;case"float32le":Et=this.readFloat32(bt.LITTLE_ENDIAN);break;case"float64le":Et=this.readFloat64(bt.LITTLE_ENDIAN);break;case"cstring":Et=this.readCString(wt);break;case"string":Et=this.readString(wt,At);break;case"u16string":Et=this.readUCS2String(wt,this.endianness);break;case"u16stringle":Et=this.readUCS2String(wt,bt.LITTLE_ENDIAN);break;case"u16stringbe":Et=this.readUCS2String(wt,bt.BIG_ENDIAN);break;default:if(_t.length==3){var Pt=_t[1],kt=_t[2],Mt=0;if(typeof kt=="function"?Mt=kt(xt,this,_t):typeof kt=="string"&&xt[kt]!=null?Mt=parseInt(xt[kt]):Mt=parseInt(kt),typeof Pt=="string"){var Ft=Pt.replace(/(le|be)$/,""),Lt=null;switch(/le$/.test(Pt)?Lt=bt.LITTLE_ENDIAN:/be$/.test(Pt)&&(Lt=bt.BIG_ENDIAN),kt=="*"&&(Mt=null),Ft){case"uint8":Et=this.readUint8Array(Mt);break;case"uint16":Et=this.readUint16Array(Mt,Lt);break;case"uint32":Et=this.readUint32Array(Mt,Lt);break;case"int8":Et=this.readInt8Array(Mt);break;case"int16":Et=this.readInt16Array(Mt,Lt);break;case"int32":Et=this.readInt32Array(Mt,Lt);break;case"float32":Et=this.readFloat32Array(Mt,Lt);break;case"float64":Et=this.readFloat64Array(Mt,Lt);break;case"cstring":case"utf16string":case"string":if(Mt==null)for(Et=[];!this.isEof();){var Dt=this.readType(Pt,xt);if(Dt==null)break;Et.push(Dt)}else{Et=new Array(Mt);for(var Nt=0;Nt<Mt;Nt++)Et[Nt]=this.readType(Pt,xt)}break}}else if(kt=="*")for(Et=[],this.buffer;;){var $t=this.position;try{var Ot=this.readType(Pt,xt);if(Ot==null){this.position=$t;break}Et.push(Ot)}catch{this.position=$t;break}}else{Et=new Array(Mt);for(var Nt=0;Nt<Mt;Nt++){var Dt=this.readType(Pt,xt);if(Dt==null)return null;Et[Nt]=Dt}}break}}return wt!=null&&(this.position=St+wt),Et},bt.prototype.writeStruct=function(_t,xt){for(var Et=0;Et<_t.length;Et+=2){var wt=_t[Et+1];this.writeType(wt,xt[_t[Et]],xt)}},bt.prototype.writeType=function(_t,xt,Et){if(typeof _t=="function")return _t(this,xt);if(typeof _t=="object"&&!(_t instanceof Array))return _t.set(this,xt,Et);var wt=null,At="ASCII",St=this.position;if(typeof _t=="string"&&/:/.test(_t)){var kt=_t.split(":");_t=kt[0],wt=parseInt(kt[1])}if(typeof _t=="string"&&/,/.test(_t)){var kt=_t.split(",");_t=kt[0],At=parseInt(kt[1])}switch(_t){case"uint8":this.writeUint8(xt);break;case"int8":this.writeInt8(xt);break;case"uint16":this.writeUint16(xt,this.endianness);break;case"int16":this.writeInt16(xt,this.endianness);break;case"uint32":this.writeUint32(xt,this.endianness);break;case"int32":this.writeInt32(xt,this.endianness);break;case"float32":this.writeFloat32(xt,this.endianness);break;case"float64":this.writeFloat64(xt,this.endianness);break;case"uint16be":this.writeUint16(xt,bt.BIG_ENDIAN);break;case"int16be":this.writeInt16(xt,bt.BIG_ENDIAN);break;case"uint32be":this.writeUint32(xt,bt.BIG_ENDIAN);break;case"int32be":this.writeInt32(xt,bt.BIG_ENDIAN);break;case"float32be":this.writeFloat32(xt,bt.BIG_ENDIAN);break;case"float64be":this.writeFloat64(xt,bt.BIG_ENDIAN);break;case"uint16le":this.writeUint16(xt,bt.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(xt,bt.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(xt,bt.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(xt,bt.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(xt,bt.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(xt,bt.LITTLE_ENDIAN);break;case"cstring":this.writeCString(xt,wt);break;case"string":this.writeString(xt,At,wt);break;case"u16string":this.writeUCS2String(xt,this.endianness,wt);break;case"u16stringle":this.writeUCS2String(xt,bt.LITTLE_ENDIAN,wt);break;case"u16stringbe":this.writeUCS2String(xt,bt.BIG_ENDIAN,wt);break;default:if(_t.length==3){for(var Rt=_t[1],Pt=0;Pt<xt.length;Pt++)this.writeType(Rt,xt[Pt]);break}else{this.writeStruct(_t,xt);break}}wt!=null&&(this.position=St,this._realloc(wt),this.position=St+wt)},bt})})(DataStream);var DataStreamExports=DataStream.exports,msg_reader={exports:{}};(function(vt,ht){(function(bt,_t){vt.exports=_t(DataStreamExports)})(commonjsGlobal,function(bt){var _t={FILE_HEADER:Et([208,207,17,224,161,177,26,225]),MSG:{UNUSED_BLOCK:-1,END_OF_CHAIN:-2,S_BIG_BLOCK_SIZE:512,S_BIG_BLOCK_MARK:9,L_BIG_BLOCK_SIZE:4096,L_BIG_BLOCK_MARK:12,SMALL_BLOCK_SIZE:64,BIG_BLOCK_MIN_DOC_SIZE:4096,HEADER:{PROPERTY_START_OFFSET:48,BAT_START_OFFSET:76,BAT_COUNT_OFFSET:44,SBAT_START_OFFSET:60,SBAT_COUNT_OFFSET:64,XBAT_START_OFFSET:68,XBAT_COUNT_OFFSET:72},PROP:{NO_INDEX:-1,PROPERTY_SIZE:128,NAME_SIZE_OFFSET:64,MAX_NAME_LENGTH:31,TYPE_OFFSET:66,PREVIOUS_PROPERTY_OFFSET:68,NEXT_PROPERTY_OFFSET:72,CHILD_PROPERTY_OFFSET:76,START_BLOCK_OFFSET:116,SIZE_OFFSET:120,TYPE_ENUM:{DIRECTORY:1,DOCUMENT:2,ROOT:5}},FIELD:{PREFIX:{ATTACHMENT:"__attach_version1.0",RECIPIENT:"__recip_version1.0",DOCUMENT:"__substg1."},NAME_MAPPING:{"0037":"subject","0c1a":"senderName","5d02":"senderEmail",1e3:"body","007d":"headers",3703:"extension",3704:"fileNameShort",3707:"fileName",3712:"pidContentId",3001:"name","39fe":"email"},CLASS_MAPPING:{ATTACHMENT_DATA:"3701"},TYPE_MAPPING:{"001e":"string","001f":"unicode","0102":"binary"},DIR_TYPE:{INNER_MSG:"000d"}}}};function xt(sn,Jt){if(sn===Jt)return!0;if(sn==null||Jt==null||sn.length!=Jt.length)return!1;for(var an=0;an<sn.length;an++)if(sn[an]!==Jt[an])return!1;return!0}function Et(sn){for(var Jt=new Array(sn.length),an=0;an<sn.length;an++)Jt[an]=sn[an]<<24>>24;return Jt}function wt(sn){return sn.seek(0),xt(_t.FILE_HEADER,sn.readInt8Array(_t.FILE_HEADER.length))}function At(sn,Jt){return(Jt+1)*sn.bigBlockSize}function St(sn,Jt,an){var vn=At(Jt,an);return sn.seek(vn),sn.readInt32Array(Jt.bigBlockLength)}function kt(sn,Jt,an,vn){var tn=Math.floor(an/Jt.bigBlockLength),Ht=an%Jt.bigBlockLength,Wt=vn[tn];return St(sn,Jt,Wt)[Ht]}function Rt(sn,Jt,an){return kt(sn,Jt,an,Jt.batData)}function Pt(sn,Jt,an){return kt(sn,Jt,an,Jt.sbatData)}function Mt(sn){var Jt=Ft(sn);return Jt.batData=Dt(sn,Jt),Jt.sbatData=Nt(sn,Jt),Jt.xbatCount>0&&$t(sn,Jt),Jt.propertyData=Ot(sn,Jt),Jt.fieldsData=zt(sn,Jt),Jt}function Ft(sn){var Jt={};return Jt.bigBlockSize=sn.readByte(30)==_t.MSG.L_BIG_BLOCK_MARK?_t.MSG.L_BIG_BLOCK_SIZE:_t.MSG.S_BIG_BLOCK_SIZE,Jt.bigBlockLength=Jt.bigBlockSize/4,Jt.xBlockLength=Jt.bigBlockLength-1,Jt.batCount=sn.readInt(_t.MSG.HEADER.BAT_COUNT_OFFSET),Jt.propertyStart=sn.readInt(_t.MSG.HEADER.PROPERTY_START_OFFSET),Jt.sbatStart=sn.readInt(_t.MSG.HEADER.SBAT_START_OFFSET),Jt.sbatCount=sn.readInt(_t.MSG.HEADER.SBAT_COUNT_OFFSET),Jt.xbatStart=sn.readInt(_t.MSG.HEADER.XBAT_START_OFFSET),Jt.xbatCount=sn.readInt(_t.MSG.HEADER.XBAT_COUNT_OFFSET),Jt}function Lt(sn){var Jt=(_t.MSG.S_BIG_BLOCK_SIZE-_t.MSG.HEADER.BAT_START_OFFSET)/4;return Math.min(sn.batCount,Jt)}function Dt(sn,Jt){var an=new Array(Lt(Jt));sn.seek(_t.MSG.HEADER.BAT_START_OFFSET);for(var vn=0;vn<an.length;vn++)an[vn]=sn.readInt32();return an}function Nt(sn,Jt){for(var an=[],vn=Jt.sbatStart,tn=0;tn<Jt.sbatCount&&vn!=_t.MSG.END_OF_CHAIN;tn++)an.push(vn),vn=Rt(sn,Jt,vn);return an}function $t(sn,Jt){for(var an=Lt(Jt),vn=Jt.batCount,tn=vn-an,Ht=Jt.xbatStart,Wt=0;Wt<Jt.xbatCount;Wt++){var rn=St(sn,Jt,Ht);Ht=rn[Jt.xBlockLength];for(var nn=Math.min(tn,Jt.xBlockLength),hn=0;hn<nn;hn++){var cn=rn[hn];if(cn==_t.MSG.UNUSED_BLOCK||cn==_t.MSG.END_OF_CHAIN)break;Jt.batData.push(cn)}tn-=nn}}function Ot(sn,Jt){for(var an=[],vn=Jt.propertyStart;vn!=_t.MSG.END_OF_CHAIN;)Bt(sn,Jt,vn,an),vn=Rt(sn,Jt,vn);return Vt(an,an[0]),an}function jt(sn,Jt){var an=sn.readShort(Jt+_t.MSG.PROP.NAME_SIZE_OFFSET);return an<1?"":sn.readStringAt(Jt,an/2)}function Ut(sn,Jt,an){return{index:Jt,type:sn.readByte(an+_t.MSG.PROP.TYPE_OFFSET),name:jt(sn,an),previousProperty:sn.readInt(an+_t.MSG.PROP.PREVIOUS_PROPERTY_OFFSET),nextProperty:sn.readInt(an+_t.MSG.PROP.NEXT_PROPERTY_OFFSET),childProperty:sn.readInt(an+_t.MSG.PROP.CHILD_PROPERTY_OFFSET),startBlock:sn.readInt(an+_t.MSG.PROP.START_BLOCK_OFFSET),sizeBlock:sn.readInt(an+_t.MSG.PROP.SIZE_OFFSET)}}function Bt(sn,Jt,an,vn){for(var tn=Jt.bigBlockSize/_t.MSG.PROP.PROPERTY_SIZE,Ht=At(Jt,an),Wt=0;Wt<tn;Wt++){var rn=sn.readByte(Ht+_t.MSG.PROP.TYPE_OFFSET);switch(rn){case _t.MSG.PROP.TYPE_ENUM.ROOT:case _t.MSG.PROP.TYPE_ENUM.DIRECTORY:case _t.MSG.PROP.TYPE_ENUM.DOCUMENT:vn.push(Ut(sn,vn.length,Ht));break;default:vn.push(null)}Ht+=_t.MSG.PROP.PROPERTY_SIZE}}function Vt(sn,Jt){if(Jt.childProperty!=_t.MSG.PROP.NO_INDEX){Jt.children=[];for(var an=[Jt.childProperty];an.length!=0;){var vn=an.shift(),tn=sn[vn];tn!=null&&(Jt.children.push(vn),tn.type==_t.MSG.PROP.TYPE_ENUM.DIRECTORY&&Vt(sn,tn),tn.previousProperty!=_t.MSG.PROP.NO_INDEX&&an.push(tn.previousProperty),tn.nextProperty!=_t.MSG.PROP.NO_INDEX&&an.push(tn.nextProperty))}}}function zt(sn,Jt){var an={attachments:[],recipients:[]};return Gt(sn,Jt,Jt.propertyData[0],an),an}function Gt(sn,Jt,an,vn){if(an.children&&an.children.length>0)for(var tn=0;tn<an.children.length;tn++){var Ht=Jt.propertyData[an.children[tn]];Ht.type==_t.MSG.PROP.TYPE_ENUM.DIRECTORY?en(sn,Jt,Ht,vn):Ht.type==_t.MSG.PROP.TYPE_ENUM.DOCUMENT&&Ht.name.indexOf(_t.MSG.FIELD.PREFIX.DOCUMENT)==0&&ln(sn,Jt,Ht,vn)}}function en(sn,Jt,an,vn){if(an.name.indexOf(_t.MSG.FIELD.PREFIX.ATTACHMENT)==0){var tn={};vn.attachments.push(tn),Gt(sn,Jt,an,tn)}else if(an.name.indexOf(_t.MSG.FIELD.PREFIX.RECIPIENT)==0){var Ht={};vn.recipients.push(Ht),Gt(sn,Jt,an,Ht)}else{var Wt=Kt(an);Wt!=_t.MSG.FIELD.DIR_TYPE.INNER_MSG?Gt(sn,Jt,an,vn):vn.innerMsgContent=!0}}function ln(sn,Jt,an,vn){var tn=an.name.substring(12).toLowerCase(),Ht=tn.substring(0,4),Wt=tn.substring(4,8),rn=_t.MSG.FIELD.NAME_MAPPING[Ht];rn&&(vn[rn]=wn(sn,Jt,an,Wt)),Ht==_t.MSG.FIELD.CLASS_MAPPING.ATTACHMENT_DATA&&(vn.dataId=an.index,vn.contentLength=an.sizeBlock)}function Kt(sn){var Jt=sn.name.substring(12).toLowerCase();return Jt.substring(4,8)}var on={sbat:{extractor:function(Jt,an,vn,tn){var Ht=gn(Jt,an,vn);return Ht.length==1?fn(Jt,an,vn.startBlock,vn.sizeBlock,tn):Ht.length>1?En(Jt,an,vn,Ht,tn):null},dataType:{string:function(Jt,an,vn,tn,Ht){return Jt.seek(vn+tn),Jt.readString(Ht)},unicode:function(Jt,an,vn,tn,Ht){return Jt.seek(vn+tn),Jt.readUCS2String(Ht/2)},binary:function(Jt,an,vn,tn,Ht){Jt.seek(vn+tn);var Wt=Math.min(Math.min(an.bigBlockSize-tn,Ht),_t.MSG.SMALL_BLOCK_SIZE);return Jt.readUint8Array(Wt)}}},bat:{extractor:function(Jt,an,vn,tn){var Ht=At(an,vn.startBlock);return Jt.seek(Ht),tn(Jt,vn)},dataType:{string:function(Jt,an){return Jt.readString(an.sizeBlock)},unicode:function(Jt,an){return Jt.readUCS2String(an.sizeBlock/2)},binary:function(Jt,an){return Jt.readUint8Array(an.sizeBlock)}}}};function fn(sn,Jt,an,vn,tn){for(var Ht=an*_t.MSG.SMALL_BLOCK_SIZE,Wt=Math.floor(Ht/Jt.bigBlockSize),rn=Ht%Jt.bigBlockSize,nn=Jt.propertyData[0],hn=nn.startBlock,cn=0;cn<Wt;cn++)hn=Rt(sn,Jt,hn);var Cn=At(Jt,hn);return tn(sn,Jt,Cn,rn,vn)}function En(sn,Jt,an,vn,tn){for(var Ht=new Int8Array(an.sizeBlock),Wt=0,rn=0;Wt<vn.length;Wt++)for(var nn=fn(sn,Jt,vn[Wt],_t.MSG.SMALL_BLOCK_SIZE,on.sbat.dataType.binary),hn=0;hn<nn.length;hn++)Ht[rn++]=nn[hn];var cn=new bt(Ht,0,bt.LITTLE_ENDIAN);return tn(cn,Jt,0,0,an.sizeBlock)}function gn(sn,Jt,an){for(var vn=[],tn=an.startBlock;tn!=_t.MSG.END_OF_CHAIN;)vn.push(tn),tn=Pt(sn,Jt,tn);return vn}function wn(sn,Jt,an,vn){var tn=null,Ht=an.sizeBlock<_t.MSG.BIG_BLOCK_MIN_DOC_SIZE?on.sbat:on.bat,Wt=Ht.dataType[_t.MSG.FIELD.TYPE_MAPPING[vn]];return Wt&&(tn=Ht.extractor(sn,Jt,an,Wt)),tn}var pn=function(sn){this.ds=new bt(sn,0,bt.LITTLE_ENDIAN)};return pn.prototype={getFileData:function(){return wt(this.ds)?(this.fileData==null&&(this.fileData=Mt(this.ds)),this.fileData.fieldsData):{error:"Unsupported file type!"}},getAttachment:function(sn){var Jt=typeof sn=="number"?this.fileData.fieldsData.attachments[sn]:sn,an=this.fileData.propertyData[Jt.dataId],vn=wn(this.ds,this.fileData,an,Kt(an));return{fileName:Jt.fileName,content:vn}}},pn})})(msg_reader);var msg_readerExports=msg_reader.exports;Object.defineProperty(wlMsgReader,"__esModule",{value:!0});wlMsgReader.DataStream=DataStreamExports;wlMsgReader.MSGReader=msg_readerExports;var __makeTemplateObject$9=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt};styled.div(templateObject_1$9||(templateObject_1$9=__makeTemplateObject$9([`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`],[`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`])));styled.div(templateObject_2$3||(templateObject_2$3=__makeTemplateObject$9([`
  padding: 0 15px 15px 15px;
  margin-top: 20px;
  border: 1px solid `,`;
`],[`
  padding: 0 15px 15px 15px;
  margin-top: 20px;
  border: 1px solid `,`;
`])),function(vt){return vt.theme.secondary});styled.div(templateObject_3$2||(templateObject_3$2=__makeTemplateObject$9([`
  padding: 0 15px;
  margin-top: 20px;
  border: 1px solid `,`;
`],[`
  padding: 0 15px;
  margin-top: 20px;
  border: 1px solid `,`;
`])),function(vt){return vt.theme.secondary});styled.iframe(templateObject_4$1||(templateObject_4$1=__makeTemplateObject$9([`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`],[`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`])),function(vt){return vt.theme.secondary});var templateObject_1$9,templateObject_2$3,templateObject_3$2,templateObject_4$1,getMetaURL=function(){return import.meta.url},__assign$5=function(){return __assign$5=Object.assign||function(vt){for(var ht,bt=1,_t=arguments.length;bt<_t;bt++){ht=arguments[bt];for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt])}return vt},__assign$5.apply(this,arguments)},initialPDFState={zoomLevel:1,paginated:!0,numPages:0,currentPage:1},__assign$4=function(){return __assign$4=Object.assign||function(vt){for(var ht,bt=1,_t=arguments.length;bt<_t;bt++){ht=arguments[bt];for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt])}return vt},__assign$4.apply(this,arguments)};reactExports.createContext({state:initialPDFState,dispatch:function(){return null}});var __assign$3=function(){return __assign$3=Object.assign||function(vt){for(var ht,bt=1,_t=arguments.length;bt<_t;bt++){ht=arguments[bt];for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt])}return vt},__assign$3.apply(this,arguments)},__makeTemplateObject$8=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt};styled.div(templateObject_1$8||(templateObject_1$8=__makeTemplateObject$8([`
  display: flex;
  align-items: center;
`],[`
  display: flex;
  align-items: center;
`])));var PageNavButtonLeft=styled(Button)(templateObject_2$2||(templateObject_2$2=__makeTemplateObject$8([`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`])));styled(PageNavButtonLeft)(templateObject_3$1||(templateObject_3$1=__makeTemplateObject$8([`
  margin: 0 20px 0 5px;
`],[`
  margin: 0 20px 0 5px;
`])));styled.div(templateObject_4||(templateObject_4=__makeTemplateObject$8([`
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`],[`
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`])),function(vt){return vt.theme.text_primary});var templateObject_1$8,templateObject_2$2,templateObject_3$1,templateObject_4,__makeTemplateObject$7=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt};styled.div(templateObject_1$7||(templateObject_1$7=__makeTemplateObject$7([`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: `,`;
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`],[`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: `,`;
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`])),function(vt){return vt.theme.tertiary});styled(Button)(templateObject_2$1||(templateObject_2$1=__makeTemplateObject$7([`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`])));styled(LinkButton)(templateObject_3||(templateObject_3=__makeTemplateObject$7([`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`])));var templateObject_1$7,templateObject_2$1,templateObject_3,__makeTemplateObject$6=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt};styled.div(templateObject_1$6||(templateObject_1$6=__makeTemplateObject$6([`
  margin: 20px 0;
`],[`
  margin: 20px 0;
`])));styled.div(templateObject_2||(templateObject_2=__makeTemplateObject$6([`
  padding: 0 0 10px 10px;
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`],[`
  padding: 0 0 10px 10px;
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`])),function(vt){return vt.theme.text_tertiary});var templateObject_1$6,templateObject_2,__makeTemplateObject$5=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt};styled(Document)(templateObject_1$5||(templateObject_1$5=__makeTemplateObject$5([`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`],[`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`])));var templateObject_1$5,__makeTemplateObject$4=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt};__webpack_exports__GlobalWorkerOptions.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",getMetaURL()).toString();styled.div(templateObject_1$4||(templateObject_1$4=__makeTemplateObject$4([`
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;

  /* width */
  &::-webkit-scrollbar {
    `,`;
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: `,`; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: `,`;
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: `,`;
  }
`],[`
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;

  /* width */
  &::-webkit-scrollbar {
    `,`;
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: `,`; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: `,`;
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: `,`;
  }
`])),function(vt){return vt.theme.disableThemeScrollbar?"":"width: 10px"},function(vt){return vt.theme.secondary},function(vt){return vt.theme.tertiary},function(vt){return vt.theme.primary});var templateObject_1$4,__makeTemplateObject$3=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt},__assign$2=function(){return __assign$2=Object.assign||function(vt){for(var ht,bt=1,_t=arguments.length;bt<_t;bt++){ht=arguments[bt];for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt])}return vt},__assign$2.apply(this,arguments)};styled(ImageProxyRenderer)(templateObject_1$3||(templateObject_1$3=__makeTemplateObject$3([`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
`],[`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
`])));var templateObject_1$3,__makeTemplateObject$2=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt},__assign$1=function(){return __assign$1=Object.assign||function(vt){for(var ht,bt=1,_t=arguments.length;bt<_t;bt++){ht=arguments[bt];for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt])}return vt},__assign$1.apply(this,arguments)};styled.canvas(templateObject_1$2||(templateObject_1$2=__makeTemplateObject$2([`
  max-width: 95%;
  max-height: 95%;
`],[`
  max-width: 95%;
  max-height: 95%;
`])));var templateObject_1$2,__makeTemplateObject$1=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt};styled.div(templateObject_1$1||(templateObject_1$1=__makeTemplateObject$1([`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`],[`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`])));var templateObject_1$1,defaultTheme={primary:"#fff",secondary:"#000",tertiary:"#ffffff99",text_primary:"#000",text_secondary:"#fff",text_tertiary:"#00000044",disableThemeScrollbar:!1},__makeTemplateObject=function(vt,ht){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:ht}):vt.raw=ht,vt},__assign=function(){return __assign=Object.assign||function(vt){for(var ht,bt=1,_t=arguments.length;bt<_t;bt++){ht=arguments[bt];for(var xt in ht)Object.prototype.hasOwnProperty.call(ht,xt)&&(vt[xt]=ht[xt])}return vt},__assign.apply(this,arguments)},DocViewer=function(vt){var ht=vt.documents,bt=vt.theme;if(!ht||ht===void 0)throw new Error(`Please provide an array of documents to DocViewer.
e.g. <DocViewer documents={[ { uri: 'https://mypdf.pdf' } ]} />`);return React.createElement(AppProvider,__assign({},vt),React.createElement(Le,{theme:bt?__assign(__assign({},defaultTheme),bt):defaultTheme},React.createElement(Container,__assign({id:"react-doc-viewer","data-testid":"react-doc-viewer"},vt),React.createElement(HeaderBar,null),React.createElement(ProxyRenderer,null))))},Container=styled.div(templateObject_1||(templateObject_1=__makeTemplateObject([`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: #eee;
`],[`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: #eee;
`]))),templateObject_1;const Load=()=>{reactExports.useState(null),reactExports.useState(null),reactExports.useState(null);const[vt,ht]=reactExports.useState(null),[bt,_t]=reactExports.useState(""),[xt,Et]=reactExports.useState(null),[wt,At]=reactExports.useState(null);function St(Mt){const Ft=Mt.target.files[0];if(ht(Ft.size/(1024*1024)),Ft){const Lt=new FileReader;Lt.onloadend=()=>{Et(Lt.result.split(",")[1])},Lt.readAsDataURL(Ft);const Dt=Mt.target.value.replace("C:\\fakepath\\","");_t(Dt)}else alert("No file selected")}const kt=async Mt=>{Mt.preventDefault();try{await axios.post("/en/uploadpdf",{file:xt,filename:bt}),console.log("Successfully uploaded.")}catch(Ft){console.log("Error uploading details:",Ft),alert("File size too large")}},Rt=async Mt=>{Mt.preventDefault();try{console.log("hi");const Ft=await axios.get("/en/pdfid/66813196189877e17f54a9e0",{responseType:"arraybuffer"}),Lt=new Uint8Array(Ft.data),Dt=new Blob([Lt],{type:"application/pdf"});let Nt=window.URL.createObjectURL(Dt);At(Nt)}catch(Ft){console.log("Error uploading details:",Ft),alert("File size too large")}},Pt=[{uri:wt}];return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("form",{onSubmit:kt,children:[jsxRuntimeExports.jsx("input",{type:"file",onChange:St,accept:"application/pdf"}),jsxRuntimeExports.jsx("button",{type:"submit",children:"Upload"})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{onClick:Rt,children:"show pdf"}),wt&&jsxRuntimeExports.jsx(DocViewer,{documents:Pt})]})};function App(){const[vt,ht]=reactExports.useState(!0);return jsxRuntimeExports.jsx("div",{className:"App",children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/main",element:jsxRuntimeExports.jsx(Main,{isDoctor:vt})}),jsxRuntimeExports.jsx(Route,{path:"/form",element:jsxRuntimeExports.jsx(Form,{})}),jsxRuntimeExports.jsx(Route,{path:"/patient",element:jsxRuntimeExports.jsx(Patient,{isDoctor:vt})}),jsxRuntimeExports.jsx(Route,{path:"/signin",element:jsxRuntimeExports.jsx(Signin,{setIsDoctor:ht,isDoctor:vt})}),jsxRuntimeExports.jsx(Route,{path:"/newSignin",element:jsxRuntimeExports.jsx(NewSignin,{})}),jsxRuntimeExports.jsx(Route,{path:"/upload",element:jsxRuntimeExports.jsx(Upload,{})}),jsxRuntimeExports.jsx(Route,{path:"/load",element:jsxRuntimeExports.jsx(Load,{})})]})})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
