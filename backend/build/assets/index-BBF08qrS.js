var dw=Object.defineProperty;var _E=ht=>{throw TypeError(ht)};var hw=(ht,$,_e)=>$ in ht?dw(ht,$,{enumerable:!0,configurable:!0,writable:!0,value:_e}):ht[$]=_e;var wr=(ht,$,_e)=>hw(ht,typeof $!="symbol"?$+"":$,_e),wx=(ht,$,_e)=>$.has(ht)||_E("Cannot "+_e);var _t=(ht,$,_e)=>(wx(ht,$,"read from private field"),_e?_e.call(ht):$.get(ht)),Gt=(ht,$,_e)=>$.has(ht)?_E("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(ht):$.set(ht,_e),Wt=(ht,$,_e,vt)=>(wx(ht,$,"write to private field"),vt?vt.call(ht,_e):$.set(ht,_e),_e),Ut=(ht,$,_e)=>(wx(ht,$,"access private method"),_e);var eo=(ht,$,_e,vt)=>({set _(bt){Wt(ht,$,bt,_e)},get _(){return _t(ht,$,vt)}});function _mergeNamespaces(ht,$){for(var _e=0;_e<$.length;_e++){const vt=$[_e];if(typeof vt!="string"&&!Array.isArray(vt)){for(const bt in vt)if(bt!=="default"&&!(bt in ht)){const xt=Object.getOwnPropertyDescriptor(vt,bt);xt&&Object.defineProperty(ht,bt,xt.get?xt:{enumerable:!0,get:()=>vt[bt]})}}}return Object.freeze(Object.defineProperty(ht,Symbol.toStringTag,{value:"Module"}))}(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const bt of document.querySelectorAll('link[rel="modulepreload"]'))vt(bt);new MutationObserver(bt=>{for(const xt of bt)if(xt.type==="childList")for(const Et of xt.addedNodes)Et.tagName==="LINK"&&Et.rel==="modulepreload"&&vt(Et)}).observe(document,{childList:!0,subtree:!0});function _e(bt){const xt={};return bt.integrity&&(xt.integrity=bt.integrity),bt.referrerPolicy&&(xt.referrerPolicy=bt.referrerPolicy),bt.crossOrigin==="use-credentials"?xt.credentials="include":bt.crossOrigin==="anonymous"?xt.credentials="omit":xt.credentials="same-origin",xt}function vt(bt){if(bt.ep)return;bt.ep=!0;const xt=_e(bt);fetch(bt.href,xt)}})();function getDefaultExportFromCjs(ht){return ht&&ht.__esModule&&Object.prototype.hasOwnProperty.call(ht,"default")?ht.default:ht}function getAugmentedNamespace(ht){if(ht.__esModule)return ht;var $=ht.default;if(typeof $=="function"){var _e=function vt(){return this instanceof vt?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};_e.prototype=$.prototype}else _e={};return Object.defineProperty(_e,"__esModule",{value:!0}),Object.keys(ht).forEach(function(vt){var bt=Object.getOwnPropertyDescriptor(ht,vt);Object.defineProperty(_e,vt,bt.get?bt:{enumerable:!0,get:function(){return ht[vt]}})}),_e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$8=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$4(ht){return ht===null||typeof ht!="object"?null:(ht=z$2&&ht[z$2]||ht["@@iterator"],typeof ht=="function"?ht:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$5={};function E$2(ht,$,_e){this.props=ht,this.context=$,this.refs=D$5,this.updater=_e||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(ht,$){if(typeof ht!="object"&&typeof ht!="function"&&ht!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ht,$,"setState")};E$2.prototype.forceUpdate=function(ht){this.updater.enqueueForceUpdate(this,ht,"forceUpdate")};function F$4(){}F$4.prototype=E$2.prototype;function G$3(ht,$,_e){this.props=ht,this.context=$,this.refs=D$5,this.updater=_e||B$2}var H$3=G$3.prototype=new F$4;H$3.constructor=G$3;C$2(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$5=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$4(ht,$,_e){var vt,bt={},xt=null,Et=null;if($!=null)for(vt in $.ref!==void 0&&(Et=$.ref),$.key!==void 0&&(xt=""+$.key),$)J$2.call($,vt)&&!L$2.hasOwnProperty(vt)&&(bt[vt]=$[vt]);var At=arguments.length-2;if(At===1)bt.children=_e;else if(1<At){for(var wt=Array(At),Ct=0;Ct<At;Ct++)wt[Ct]=arguments[Ct+2];bt.children=wt}if(ht&&ht.defaultProps)for(vt in At=ht.defaultProps,At)bt[vt]===void 0&&(bt[vt]=At[vt]);return{$$typeof:l$3,type:ht,key:xt,ref:Et,props:bt,_owner:K$1.current}}function N$4(ht,$){return{$$typeof:l$3,type:ht.type,key:$,ref:ht.ref,props:ht.props,_owner:ht._owner}}function O$3(ht){return typeof ht=="object"&&ht!==null&&ht.$$typeof===l$3}function escape$1(ht){var $={"=":"=0",":":"=2"};return"$"+ht.replace(/[=:]/g,function(_e){return $[_e]})}var P$4=/\/+/g;function Q$1(ht,$){return typeof ht=="object"&&ht!==null&&ht.key!=null?escape$1(""+ht.key):$.toString(36)}function R$2(ht,$,_e,vt,bt){var xt=typeof ht;(xt==="undefined"||xt==="boolean")&&(ht=null);var Et=!1;if(ht===null)Et=!0;else switch(xt){case"string":case"number":Et=!0;break;case"object":switch(ht.$$typeof){case l$3:case n$5:Et=!0}}if(Et)return Et=ht,bt=bt(Et),ht=vt===""?"."+Q$1(Et,0):vt,I$5(bt)?(_e="",ht!=null&&(_e=ht.replace(P$4,"$&/")+"/"),R$2(bt,$,_e,"",function(Ct){return Ct})):bt!=null&&(O$3(bt)&&(bt=N$4(bt,_e+(!bt.key||Et&&Et.key===bt.key?"":(""+bt.key).replace(P$4,"$&/")+"/")+ht)),$.push(bt)),1;if(Et=0,vt=vt===""?".":vt+":",I$5(ht))for(var At=0;At<ht.length;At++){xt=ht[At];var wt=vt+Q$1(xt,At);Et+=R$2(xt,$,_e,wt,bt)}else if(wt=A$4(ht),typeof wt=="function")for(ht=wt.call(ht),At=0;!(xt=ht.next()).done;)xt=xt.value,wt=vt+Q$1(xt,At++),Et+=R$2(xt,$,_e,wt,bt);else if(xt==="object")throw $=String(ht),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(ht).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Et}function S$5(ht,$,_e){if(ht==null)return ht;var vt=[],bt=0;return R$2(ht,vt,"","",function(xt){return $.call(_e,xt,bt++)}),vt}function T$4(ht){if(ht._status===-1){var $=ht._result;$=$(),$.then(function(_e){(ht._status===0||ht._status===-1)&&(ht._status=1,ht._result=_e)},function(_e){(ht._status===0||ht._status===-1)&&(ht._status=2,ht._result=_e)}),ht._status===-1&&(ht._status=0,ht._result=$)}if(ht._status===1)return ht._result.default;throw ht._result}var U$3={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(ht,$,_e){S$5(ht,function(){$.apply(this,arguments)},_e)},count:function(ht){var $=0;return S$5(ht,function(){$++}),$},toArray:function(ht){return S$5(ht,function($){return $})||[]},only:function(ht){if(!O$3(ht))throw Error("React.Children.only expected to receive a single React element child.");return ht}};react_production_min.Component=E$2;react_production_min.Fragment=p$6;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$1;react_production_min.cloneElement=function(ht,$,_e){if(ht==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ht+".");var vt=C$2({},ht.props),bt=ht.key,xt=ht.ref,Et=ht._owner;if($!=null){if($.ref!==void 0&&(xt=$.ref,Et=K$1.current),$.key!==void 0&&(bt=""+$.key),ht.type&&ht.type.defaultProps)var At=ht.type.defaultProps;for(wt in $)J$2.call($,wt)&&!L$2.hasOwnProperty(wt)&&(vt[wt]=$[wt]===void 0&&At!==void 0?At[wt]:$[wt])}var wt=arguments.length-2;if(wt===1)vt.children=_e;else if(1<wt){At=Array(wt);for(var Ct=0;Ct<wt;Ct++)At[Ct]=arguments[Ct+2];vt.children=At}return{$$typeof:l$3,type:ht.type,key:bt,ref:xt,props:vt,_owner:Et}};react_production_min.createContext=function(ht){return ht={$$typeof:u$8,_currentValue:ht,_currentValue2:ht,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ht.Provider={$$typeof:t$5,_context:ht},ht.Consumer=ht};react_production_min.createElement=M$4;react_production_min.createFactory=function(ht){var $=M$4.bind(null,ht);return $.type=ht,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(ht){return{$$typeof:v$2,render:ht}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(ht){return{$$typeof:y$5,_payload:{_status:-1,_result:ht},_init:T$4}};react_production_min.memo=function(ht,$){return{$$typeof:x$1,type:ht,compare:$===void 0?null:$}};react_production_min.startTransition=function(ht){var $=V$2.transition;V$2.transition={};try{ht()}finally{V$2.transition=$}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(ht,$){return U$3.current.useCallback(ht,$)};react_production_min.useContext=function(ht){return U$3.current.useContext(ht)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(ht){return U$3.current.useDeferredValue(ht)};react_production_min.useEffect=function(ht,$){return U$3.current.useEffect(ht,$)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(ht,$,_e){return U$3.current.useImperativeHandle(ht,$,_e)};react_production_min.useInsertionEffect=function(ht,$){return U$3.current.useInsertionEffect(ht,$)};react_production_min.useLayoutEffect=function(ht,$){return U$3.current.useLayoutEffect(ht,$)};react_production_min.useMemo=function(ht,$){return U$3.current.useMemo(ht,$)};react_production_min.useReducer=function(ht,$,_e){return U$3.current.useReducer(ht,$,_e)};react_production_min.useRef=function(ht){return U$3.current.useRef(ht)};react_production_min.useState=function(ht){return U$3.current.useState(ht)};react_production_min.useSyncExternalStore=function(ht,$,_e){return U$3.current.useSyncExternalStore(ht,$,_e)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),t$4=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$6=reactExports,k=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$4=f$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$1(ht,$,_e){var vt,bt={},xt=null,Et=null;_e!==void 0&&(xt=""+_e),$.key!==void 0&&(xt=""+$.key),$.ref!==void 0&&(Et=$.ref);for(vt in $)m$5.call($,vt)&&!p$5.hasOwnProperty(vt)&&(bt[vt]=$[vt]);if(ht&&ht.defaultProps)for(vt in $=ht.defaultProps,$)bt[vt]===void 0&&(bt[vt]=$[vt]);return{$$typeof:k,type:ht,key:xt,ref:Et,props:bt,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(ht){function $(hn,tn){var gn=hn.length;hn.push(tn);e:for(;0<gn;){var Sn=gn-1>>>1,rn=hn[Sn];if(0<bt(rn,tn))hn[Sn]=tn,hn[gn]=rn,gn=Sn;else break e}}function _e(hn){return hn.length===0?null:hn[0]}function vt(hn){if(hn.length===0)return null;var tn=hn[0],gn=hn.pop();if(gn!==tn){hn[0]=gn;e:for(var Sn=0,rn=hn.length,Xt=rn>>>1;Sn<Xt;){var Yt=2*(Sn+1)-1,Jt=hn[Yt],un=Yt+1,ln=hn[un];if(0>bt(Jt,gn))un<rn&&0>bt(ln,Jt)?(hn[Sn]=ln,hn[un]=gn,Sn=un):(hn[Sn]=Jt,hn[Yt]=gn,Sn=Yt);else if(un<rn&&0>bt(ln,gn))hn[Sn]=ln,hn[un]=gn,Sn=un;else break e}}return tn}function bt(hn,tn){var gn=hn.sortIndex-tn.sortIndex;return gn!==0?gn:hn.id-tn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var xt=performance;ht.unstable_now=function(){return xt.now()}}else{var Et=Date,At=Et.now();ht.unstable_now=function(){return Et.now()-At}}var wt=[],Ct=[],St=1,Rt=null,Pt=3,kt=!1,Mt=!1,Dt=!1,$t=typeof setTimeout=="function"?setTimeout:null,Ft=typeof clearTimeout=="function"?clearTimeout:null,Lt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ot(hn){for(var tn=_e(Ct);tn!==null;){if(tn.callback===null)vt(Ct);else if(tn.startTime<=hn)vt(Ct),tn.sortIndex=tn.expirationTime,$(wt,tn);else break;tn=_e(Ct)}}function Ht(hn){if(Dt=!1,Ot(hn),!Mt)if(_e(wt)!==null)Mt=!0,En(Nt);else{var tn=_e(Ct);tn!==null&&cn(Ht,tn.startTime-hn)}}function Nt(hn,tn){Mt=!1,Dt&&(Dt=!1,Ft(zt),zt=-1),kt=!0;var gn=Pt;try{for(Ot(tn),Rt=_e(wt);Rt!==null&&(!(Rt.expirationTime>tn)||hn&&!qt());){var Sn=Rt.callback;if(typeof Sn=="function"){Rt.callback=null,Pt=Rt.priorityLevel;var rn=Sn(Rt.expirationTime<=tn);tn=ht.unstable_now(),typeof rn=="function"?Rt.callback=rn:Rt===_e(wt)&&vt(wt),Ot(tn)}else vt(wt);Rt=_e(wt)}if(Rt!==null)var Xt=!0;else{var Yt=_e(Ct);Yt!==null&&cn(Ht,Yt.startTime-tn),Xt=!1}return Xt}finally{Rt=null,Pt=gn,kt=!1}}var Bt=!1,jt=null,zt=-1,Kt=5,nn=-1;function qt(){return!(ht.unstable_now()-nn<Kt)}function en(){if(jt!==null){var hn=ht.unstable_now();nn=hn;var tn=!0;try{tn=jt(!0,hn)}finally{tn?on():(Bt=!1,jt=null)}}else Bt=!1}var on;if(typeof Lt=="function")on=function(){Lt(en)};else if(typeof MessageChannel<"u"){var _n=new MessageChannel,dn=_n.port2;_n.port1.onmessage=en,on=function(){dn.postMessage(null)}}else on=function(){$t(en,0)};function En(hn){jt=hn,Bt||(Bt=!0,on())}function cn(hn,tn){zt=$t(function(){hn(ht.unstable_now())},tn)}ht.unstable_IdlePriority=5,ht.unstable_ImmediatePriority=1,ht.unstable_LowPriority=4,ht.unstable_NormalPriority=3,ht.unstable_Profiling=null,ht.unstable_UserBlockingPriority=2,ht.unstable_cancelCallback=function(hn){hn.callback=null},ht.unstable_continueExecution=function(){Mt||kt||(Mt=!0,En(Nt))},ht.unstable_forceFrameRate=function(hn){0>hn||125<hn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Kt=0<hn?Math.floor(1e3/hn):5},ht.unstable_getCurrentPriorityLevel=function(){return Pt},ht.unstable_getFirstCallbackNode=function(){return _e(wt)},ht.unstable_next=function(hn){switch(Pt){case 1:case 2:case 3:var tn=3;break;default:tn=Pt}var gn=Pt;Pt=tn;try{return hn()}finally{Pt=gn}},ht.unstable_pauseExecution=function(){},ht.unstable_requestPaint=function(){},ht.unstable_runWithPriority=function(hn,tn){switch(hn){case 1:case 2:case 3:case 4:case 5:break;default:hn=3}var gn=Pt;Pt=hn;try{return tn()}finally{Pt=gn}},ht.unstable_scheduleCallback=function(hn,tn,gn){var Sn=ht.unstable_now();switch(typeof gn=="object"&&gn!==null?(gn=gn.delay,gn=typeof gn=="number"&&0<gn?Sn+gn:Sn):gn=Sn,hn){case 1:var rn=-1;break;case 2:rn=250;break;case 5:rn=1073741823;break;case 4:rn=1e4;break;default:rn=5e3}return rn=gn+rn,hn={id:St++,callback:tn,priorityLevel:hn,startTime:gn,expirationTime:rn,sortIndex:-1},gn>Sn?(hn.sortIndex=gn,$(Ct,hn),_e(wt)===null&&hn===_e(Ct)&&(Dt?(Ft(zt),zt=-1):Dt=!0,cn(Ht,gn-Sn))):(hn.sortIndex=rn,$(wt,hn),Mt||kt||(Mt=!0,En(Nt))),hn},ht.unstable_shouldYield=qt,ht.unstable_wrapCallback=function(hn){var tn=Pt;return function(){var gn=Pt;Pt=tn;try{return hn.apply(this,arguments)}finally{Pt=gn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(ht){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+ht,_e=1;_e<arguments.length;_e++)$+="&args[]="+encodeURIComponent(arguments[_e]);return"Minified React error #"+ht+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(ht,$){ha(ht,$),ha(ht+"Capture",$)}function ha(ht,$){for(ea[ht]=$,ht=0;ht<$.length;ht++)da.add($[ht])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(ht){return ja.call(ma,ht)?!0:ja.call(la,ht)?!1:ka.test(ht)?ma[ht]=!0:(la[ht]=!0,!1)}function pa(ht,$,_e,vt){if(_e!==null&&_e.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return vt?!1:_e!==null?!_e.acceptsBooleans:(ht=ht.toLowerCase().slice(0,5),ht!=="data-"&&ht!=="aria-");default:return!1}}function qa(ht,$,_e,vt){if($===null||typeof $>"u"||pa(ht,$,_e,vt))return!0;if(vt)return!1;if(_e!==null)switch(_e.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$1(ht,$,_e,vt,bt,xt,Et){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=vt,this.attributeNamespace=bt,this.mustUseProperty=_e,this.propertyName=ht,this.type=$,this.sanitizeURL=xt,this.removeEmptyString=Et}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ht){z$1[ht]=new v$1(ht,0,!1,ht,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ht){var $=ht[0];z$1[$]=new v$1($,1,!1,ht[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(ht){z$1[ht]=new v$1(ht,2,!1,ht.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ht){z$1[ht]=new v$1(ht,2,!1,ht,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ht){z$1[ht]=new v$1(ht,3,!1,ht.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(ht){z$1[ht]=new v$1(ht,3,!0,ht,null,!1,!1)});["capture","download"].forEach(function(ht){z$1[ht]=new v$1(ht,4,!1,ht,null,!1,!1)});["cols","rows","size","span"].forEach(function(ht){z$1[ht]=new v$1(ht,6,!1,ht,null,!1,!1)});["rowSpan","start"].forEach(function(ht){z$1[ht]=new v$1(ht,5,!1,ht.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(ht){return ht[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ht){var $=ht.replace(ra,sa);z$1[$]=new v$1($,1,!1,ht,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ht){var $=ht.replace(ra,sa);z$1[$]=new v$1($,1,!1,ht,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(ht){var $=ht.replace(ra,sa);z$1[$]=new v$1($,1,!1,ht,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(ht){z$1[ht]=new v$1(ht,1,!1,ht.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(ht){z$1[ht]=new v$1(ht,1,!1,ht.toLowerCase(),null,!0,!0)});function ta(ht,$,_e,vt){var bt=z$1.hasOwnProperty($)?z$1[$]:null;(bt!==null?bt.type!==0:vt||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,_e,bt,vt)&&(_e=null),vt||bt===null?oa($)&&(_e===null?ht.removeAttribute($):ht.setAttribute($,""+_e)):bt.mustUseProperty?ht[bt.propertyName]=_e===null?bt.type===3?!1:"":_e:($=bt.attributeName,vt=bt.attributeNamespace,_e===null?ht.removeAttribute($):(bt=bt.type,_e=bt===3||bt===4&&_e===!0?"":""+_e,vt?ht.setAttributeNS(vt,$,_e):ht.setAttribute($,_e))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(ht){return ht===null||typeof ht!="object"?null:(ht=Ja&&ht[Ja]||ht["@@iterator"],typeof ht=="function"?ht:null)}var A$3=Object.assign,La;function Ma(ht){if(La===void 0)try{throw Error()}catch(_e){var $=_e.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+ht}var Na=!1;function Oa(ht,$){if(!ht||Na)return"";Na=!0;var _e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(Ct){var vt=Ct}Reflect.construct(ht,[],$)}else{try{$.call()}catch(Ct){vt=Ct}ht.call($.prototype)}else{try{throw Error()}catch(Ct){vt=Ct}ht()}}catch(Ct){if(Ct&&vt&&typeof Ct.stack=="string"){for(var bt=Ct.stack.split(`
`),xt=vt.stack.split(`
`),Et=bt.length-1,At=xt.length-1;1<=Et&&0<=At&&bt[Et]!==xt[At];)At--;for(;1<=Et&&0<=At;Et--,At--)if(bt[Et]!==xt[At]){if(Et!==1||At!==1)do if(Et--,At--,0>At||bt[Et]!==xt[At]){var wt=`
`+bt[Et].replace(" at new "," at ");return ht.displayName&&wt.includes("<anonymous>")&&(wt=wt.replace("<anonymous>",ht.displayName)),wt}while(1<=Et&&0<=At);break}}}finally{Na=!1,Error.prepareStackTrace=_e}return(ht=ht?ht.displayName||ht.name:"")?Ma(ht):""}function Pa(ht){switch(ht.tag){case 5:return Ma(ht.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return ht=Oa(ht.type,!1),ht;case 11:return ht=Oa(ht.type.render,!1),ht;case 1:return ht=Oa(ht.type,!0),ht;default:return""}}function Qa(ht){if(ht==null)return null;if(typeof ht=="function")return ht.displayName||ht.name||null;if(typeof ht=="string")return ht;switch(ht){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof ht=="object")switch(ht.$$typeof){case Ca:return(ht.displayName||"Context")+".Consumer";case Ba:return(ht._context.displayName||"Context")+".Provider";case Da:var $=ht.render;return ht=ht.displayName,ht||(ht=$.displayName||$.name||"",ht=ht!==""?"ForwardRef("+ht+")":"ForwardRef"),ht;case Ga:return $=ht.displayName||null,$!==null?$:Qa(ht.type)||"Memo";case Ha:$=ht._payload,ht=ht._init;try{return Qa(ht($))}catch{}}return null}function Ra(ht){var $=ht.type;switch(ht.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ht=$.render,ht=ht.displayName||ht.name||"",$.displayName||(ht!==""?"ForwardRef("+ht+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(ht){switch(typeof ht){case"boolean":case"number":case"string":case"undefined":return ht;case"object":return ht;default:return""}}function Ta(ht){var $=ht.type;return(ht=ht.nodeName)&&ht.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(ht){var $=Ta(ht)?"checked":"value",_e=Object.getOwnPropertyDescriptor(ht.constructor.prototype,$),vt=""+ht[$];if(!ht.hasOwnProperty($)&&typeof _e<"u"&&typeof _e.get=="function"&&typeof _e.set=="function"){var bt=_e.get,xt=_e.set;return Object.defineProperty(ht,$,{configurable:!0,get:function(){return bt.call(this)},set:function(Et){vt=""+Et,xt.call(this,Et)}}),Object.defineProperty(ht,$,{enumerable:_e.enumerable}),{getValue:function(){return vt},setValue:function(Et){vt=""+Et},stopTracking:function(){ht._valueTracker=null,delete ht[$]}}}}function Va(ht){ht._valueTracker||(ht._valueTracker=Ua(ht))}function Wa(ht){if(!ht)return!1;var $=ht._valueTracker;if(!$)return!0;var _e=$.getValue(),vt="";return ht&&(vt=Ta(ht)?ht.checked?"true":"false":ht.value),ht=vt,ht!==_e?($.setValue(ht),!0):!1}function Xa(ht){if(ht=ht||(typeof document<"u"?document:void 0),typeof ht>"u")return null;try{return ht.activeElement||ht.body}catch{return ht.body}}function Ya(ht,$){var _e=$.checked;return A$3({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_e??ht._wrapperState.initialChecked})}function Za(ht,$){var _e=$.defaultValue==null?"":$.defaultValue,vt=$.checked!=null?$.checked:$.defaultChecked;_e=Sa($.value!=null?$.value:_e),ht._wrapperState={initialChecked:vt,initialValue:_e,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(ht,$){$=$.checked,$!=null&&ta(ht,"checked",$,!1)}function bb(ht,$){ab(ht,$);var _e=Sa($.value),vt=$.type;if(_e!=null)vt==="number"?(_e===0&&ht.value===""||ht.value!=_e)&&(ht.value=""+_e):ht.value!==""+_e&&(ht.value=""+_e);else if(vt==="submit"||vt==="reset"){ht.removeAttribute("value");return}$.hasOwnProperty("value")?cb(ht,$.type,_e):$.hasOwnProperty("defaultValue")&&cb(ht,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(ht.defaultChecked=!!$.defaultChecked)}function db(ht,$,_e){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var vt=$.type;if(!(vt!=="submit"&&vt!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+ht._wrapperState.initialValue,_e||$===ht.value||(ht.value=$),ht.defaultValue=$}_e=ht.name,_e!==""&&(ht.name=""),ht.defaultChecked=!!ht._wrapperState.initialChecked,_e!==""&&(ht.name=_e)}function cb(ht,$,_e){($!=="number"||Xa(ht.ownerDocument)!==ht)&&(_e==null?ht.defaultValue=""+ht._wrapperState.initialValue:ht.defaultValue!==""+_e&&(ht.defaultValue=""+_e))}var eb=Array.isArray;function fb(ht,$,_e,vt){if(ht=ht.options,$){$={};for(var bt=0;bt<_e.length;bt++)$["$"+_e[bt]]=!0;for(_e=0;_e<ht.length;_e++)bt=$.hasOwnProperty("$"+ht[_e].value),ht[_e].selected!==bt&&(ht[_e].selected=bt),bt&&vt&&(ht[_e].defaultSelected=!0)}else{for(_e=""+Sa(_e),$=null,bt=0;bt<ht.length;bt++){if(ht[bt].value===_e){ht[bt].selected=!0,vt&&(ht[bt].defaultSelected=!0);return}$!==null||ht[bt].disabled||($=ht[bt])}$!==null&&($.selected=!0)}}function gb(ht,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$3({},$,{value:void 0,defaultValue:void 0,children:""+ht._wrapperState.initialValue})}function hb(ht,$){var _e=$.value;if(_e==null){if(_e=$.children,$=$.defaultValue,_e!=null){if($!=null)throw Error(p$4(92));if(eb(_e)){if(1<_e.length)throw Error(p$4(93));_e=_e[0]}$=_e}$==null&&($=""),_e=$}ht._wrapperState={initialValue:Sa(_e)}}function ib(ht,$){var _e=Sa($.value),vt=Sa($.defaultValue);_e!=null&&(_e=""+_e,_e!==ht.value&&(ht.value=_e),$.defaultValue==null&&ht.defaultValue!==_e&&(ht.defaultValue=_e)),vt!=null&&(ht.defaultValue=""+vt)}function jb(ht){var $=ht.textContent;$===ht._wrapperState.initialValue&&$!==""&&$!==null&&(ht.value=$)}function kb(ht){switch(ht){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(ht,$){return ht==null||ht==="http://www.w3.org/1999/xhtml"?kb($):ht==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":ht}var mb,nb=function(ht){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,_e,vt,bt){MSApp.execUnsafeLocalFunction(function(){return ht($,_e,vt,bt)})}:ht}(function(ht,$){if(ht.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in ht)ht.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;ht.firstChild;)ht.removeChild(ht.firstChild);for(;$.firstChild;)ht.appendChild($.firstChild)}});function ob(ht,$){if($){var _e=ht.firstChild;if(_e&&_e===ht.lastChild&&_e.nodeType===3){_e.nodeValue=$;return}}ht.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(ht){qb.forEach(function($){$=$+ht.charAt(0).toUpperCase()+ht.substring(1),pb[$]=pb[ht]})});function rb(ht,$,_e){return $==null||typeof $=="boolean"||$===""?"":_e||typeof $!="number"||$===0||pb.hasOwnProperty(ht)&&pb[ht]?(""+$).trim():$+"px"}function sb(ht,$){ht=ht.style;for(var _e in $)if($.hasOwnProperty(_e)){var vt=_e.indexOf("--")===0,bt=rb(_e,$[_e],vt);_e==="float"&&(_e="cssFloat"),vt?ht.setProperty(_e,bt):ht[_e]=bt}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(ht,$){if($){if(tb[ht]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$4(137,ht));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$4(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$4(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$4(62))}}function vb(ht,$){if(ht.indexOf("-")===-1)return typeof $.is=="string";switch(ht){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(ht){return ht=ht.target||ht.srcElement||window,ht.correspondingUseElement&&(ht=ht.correspondingUseElement),ht.nodeType===3?ht.parentNode:ht}var yb=null,zb=null,Ab=null;function Bb(ht){if(ht=Cb(ht)){if(typeof yb!="function")throw Error(p$4(280));var $=ht.stateNode;$&&($=Db($),yb(ht.stateNode,ht.type,$))}}function Eb(ht){zb?Ab?Ab.push(ht):Ab=[ht]:zb=ht}function Fb(){if(zb){var ht=zb,$=Ab;if(Ab=zb=null,Bb(ht),$)for(ht=0;ht<$.length;ht++)Bb($[ht])}}function Gb(ht,$){return ht($)}function Hb(){}var Ib=!1;function Jb(ht,$,_e){if(Ib)return ht($,_e);Ib=!0;try{return Gb(ht,$,_e)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(ht,$){var _e=ht.stateNode;if(_e===null)return null;var vt=Db(_e);if(vt===null)return null;_e=vt[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(vt=!vt.disabled)||(ht=ht.type,vt=!(ht==="button"||ht==="input"||ht==="select"||ht==="textarea")),ht=!vt;break e;default:ht=!1}if(ht)return null;if(_e&&typeof _e!="function")throw Error(p$4(231,$,typeof _e));return _e}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(ht,$,_e,vt,bt,xt,Et,At,wt){var Ct=Array.prototype.slice.call(arguments,3);try{$.apply(_e,Ct)}catch(St){this.onError(St)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(ht){Ob=!0,Pb=ht}};function Tb(ht,$,_e,vt,bt,xt,Et,At,wt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(ht,$,_e,vt,bt,xt,Et,At,wt){if(Tb.apply(this,arguments),Ob){if(Ob){var Ct=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=Ct)}}function Vb(ht){var $=ht,_e=ht;if(ht.alternate)for(;$.return;)$=$.return;else{ht=$;do $=ht,$.flags&4098&&(_e=$.return),ht=$.return;while(ht)}return $.tag===3?_e:null}function Wb(ht){if(ht.tag===13){var $=ht.memoizedState;if($===null&&(ht=ht.alternate,ht!==null&&($=ht.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(ht){if(Vb(ht)!==ht)throw Error(p$4(188))}function Yb(ht){var $=ht.alternate;if(!$){if($=Vb(ht),$===null)throw Error(p$4(188));return $!==ht?null:ht}for(var _e=ht,vt=$;;){var bt=_e.return;if(bt===null)break;var xt=bt.alternate;if(xt===null){if(vt=bt.return,vt!==null){_e=vt;continue}break}if(bt.child===xt.child){for(xt=bt.child;xt;){if(xt===_e)return Xb(bt),ht;if(xt===vt)return Xb(bt),$;xt=xt.sibling}throw Error(p$4(188))}if(_e.return!==vt.return)_e=bt,vt=xt;else{for(var Et=!1,At=bt.child;At;){if(At===_e){Et=!0,_e=bt,vt=xt;break}if(At===vt){Et=!0,vt=bt,_e=xt;break}At=At.sibling}if(!Et){for(At=xt.child;At;){if(At===_e){Et=!0,_e=xt,vt=bt;break}if(At===vt){Et=!0,vt=xt,_e=bt;break}At=At.sibling}if(!Et)throw Error(p$4(189))}}if(_e.alternate!==vt)throw Error(p$4(190))}if(_e.tag!==3)throw Error(p$4(188));return _e.stateNode.current===_e?ht:$}function Zb(ht){return ht=Yb(ht),ht!==null?$b(ht):null}function $b(ht){if(ht.tag===5||ht.tag===6)return ht;for(ht=ht.child;ht!==null;){var $=$b(ht);if($!==null)return $;ht=ht.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(ht){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,ht,void 0,(ht.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(ht){return ht>>>=0,ht===0?32:31-(pc(ht)/qc|0)|0}var rc=64,sc=4194304;function tc(ht){switch(ht&-ht){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ht&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ht&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ht}}function uc(ht,$){var _e=ht.pendingLanes;if(_e===0)return 0;var vt=0,bt=ht.suspendedLanes,xt=ht.pingedLanes,Et=_e&268435455;if(Et!==0){var At=Et&~bt;At!==0?vt=tc(At):(xt&=Et,xt!==0&&(vt=tc(xt)))}else Et=_e&~bt,Et!==0?vt=tc(Et):xt!==0&&(vt=tc(xt));if(vt===0)return 0;if($!==0&&$!==vt&&!($&bt)&&(bt=vt&-vt,xt=$&-$,bt>=xt||bt===16&&(xt&4194240)!==0))return $;if(vt&4&&(vt|=_e&16),$=ht.entangledLanes,$!==0)for(ht=ht.entanglements,$&=vt;0<$;)_e=31-oc($),bt=1<<_e,vt|=ht[_e],$&=~bt;return vt}function vc(ht,$){switch(ht){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(ht,$){for(var _e=ht.suspendedLanes,vt=ht.pingedLanes,bt=ht.expirationTimes,xt=ht.pendingLanes;0<xt;){var Et=31-oc(xt),At=1<<Et,wt=bt[Et];wt===-1?(!(At&_e)||At&vt)&&(bt[Et]=vc(At,$)):wt<=$&&(ht.expiredLanes|=At),xt&=~At}}function xc(ht){return ht=ht.pendingLanes&-1073741825,ht!==0?ht:ht&1073741824?1073741824:0}function yc(){var ht=rc;return rc<<=1,!(rc&4194240)&&(rc=64),ht}function zc(ht){for(var $=[],_e=0;31>_e;_e++)$.push(ht);return $}function Ac(ht,$,_e){ht.pendingLanes|=$,$!==536870912&&(ht.suspendedLanes=0,ht.pingedLanes=0),ht=ht.eventTimes,$=31-oc($),ht[$]=_e}function Bc(ht,$){var _e=ht.pendingLanes&~$;ht.pendingLanes=$,ht.suspendedLanes=0,ht.pingedLanes=0,ht.expiredLanes&=$,ht.mutableReadLanes&=$,ht.entangledLanes&=$,$=ht.entanglements;var vt=ht.eventTimes;for(ht=ht.expirationTimes;0<_e;){var bt=31-oc(_e),xt=1<<bt;$[bt]=0,vt[bt]=-1,ht[bt]=-1,_e&=~xt}}function Cc(ht,$){var _e=ht.entangledLanes|=$;for(ht=ht.entanglements;_e;){var vt=31-oc(_e),bt=1<<vt;bt&$|ht[vt]&$&&(ht[vt]|=$),_e&=~bt}}var C$1=0;function Dc(ht){return ht&=-ht,1<ht?4<ht?ht&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(ht,$){switch(ht){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(ht,$,_e,vt,bt,xt){return ht===null||ht.nativeEvent!==xt?(ht={blockedOn:$,domEventName:_e,eventSystemFlags:vt,nativeEvent:xt,targetContainers:[bt]},$!==null&&($=Cb($),$!==null&&Fc($)),ht):(ht.eventSystemFlags|=vt,$=ht.targetContainers,bt!==null&&$.indexOf(bt)===-1&&$.push(bt),ht)}function Uc(ht,$,_e,vt,bt){switch($){case"focusin":return Lc=Tc(Lc,ht,$,_e,vt,bt),!0;case"dragenter":return Mc=Tc(Mc,ht,$,_e,vt,bt),!0;case"mouseover":return Nc=Tc(Nc,ht,$,_e,vt,bt),!0;case"pointerover":var xt=bt.pointerId;return Oc.set(xt,Tc(Oc.get(xt)||null,ht,$,_e,vt,bt)),!0;case"gotpointercapture":return xt=bt.pointerId,Pc.set(xt,Tc(Pc.get(xt)||null,ht,$,_e,vt,bt)),!0}return!1}function Vc(ht){var $=Wc(ht.target);if($!==null){var _e=Vb($);if(_e!==null){if($=_e.tag,$===13){if($=Wb(_e),$!==null){ht.blockedOn=$,Ic(ht.priority,function(){Gc(_e)});return}}else if($===3&&_e.stateNode.current.memoizedState.isDehydrated){ht.blockedOn=_e.tag===3?_e.stateNode.containerInfo:null;return}}}ht.blockedOn=null}function Xc(ht){if(ht.blockedOn!==null)return!1;for(var $=ht.targetContainers;0<$.length;){var _e=Yc(ht.domEventName,ht.eventSystemFlags,$[0],ht.nativeEvent);if(_e===null){_e=ht.nativeEvent;var vt=new _e.constructor(_e.type,_e);wb=vt,_e.target.dispatchEvent(vt),wb=null}else return $=Cb(_e),$!==null&&Fc($),ht.blockedOn=_e,!1;$.shift()}return!0}function Zc(ht,$,_e){Xc(ht)&&_e.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(ht,$){ht.blockedOn===$&&(ht.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(ht){function $(bt){return ad(bt,ht)}if(0<Kc.length){ad(Kc[0],ht);for(var _e=1;_e<Kc.length;_e++){var vt=Kc[_e];vt.blockedOn===ht&&(vt.blockedOn=null)}}for(Lc!==null&&ad(Lc,ht),Mc!==null&&ad(Mc,ht),Nc!==null&&ad(Nc,ht),Oc.forEach($),Pc.forEach($),_e=0;_e<Qc.length;_e++)vt=Qc[_e],vt.blockedOn===ht&&(vt.blockedOn=null);for(;0<Qc.length&&(_e=Qc[0],_e.blockedOn===null);)Vc(_e),_e.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(ht,$,_e,vt){var bt=C$1,xt=cd.transition;cd.transition=null;try{C$1=1,fd(ht,$,_e,vt)}finally{C$1=bt,cd.transition=xt}}function gd(ht,$,_e,vt){var bt=C$1,xt=cd.transition;cd.transition=null;try{C$1=4,fd(ht,$,_e,vt)}finally{C$1=bt,cd.transition=xt}}function fd(ht,$,_e,vt){if(dd){var bt=Yc(ht,$,_e,vt);if(bt===null)hd(ht,$,vt,id,_e),Sc(ht,vt);else if(Uc(bt,ht,$,_e,vt))vt.stopPropagation();else if(Sc(ht,vt),$&4&&-1<Rc.indexOf(ht)){for(;bt!==null;){var xt=Cb(bt);if(xt!==null&&Ec(xt),xt=Yc(ht,$,_e,vt),xt===null&&hd(ht,$,vt,id,_e),xt===bt)break;bt=xt}bt!==null&&vt.stopPropagation()}else hd(ht,$,vt,null,_e)}}var id=null;function Yc(ht,$,_e,vt){if(id=null,ht=xb(vt),ht=Wc(ht),ht!==null)if($=Vb(ht),$===null)ht=null;else if(_e=$.tag,_e===13){if(ht=Wb($),ht!==null)return ht;ht=null}else if(_e===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;ht=null}else $!==ht&&(ht=null);return id=ht,null}function jd(ht){switch(ht){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var ht,$=ld,_e=$.length,vt,bt="value"in kd?kd.value:kd.textContent,xt=bt.length;for(ht=0;ht<_e&&$[ht]===bt[ht];ht++);var Et=_e-ht;for(vt=1;vt<=Et&&$[_e-vt]===bt[xt-vt];vt++);return md=bt.slice(ht,1<vt?1-vt:void 0)}function od(ht){var $=ht.keyCode;return"charCode"in ht?(ht=ht.charCode,ht===0&&$===13&&(ht=13)):ht=$,ht===10&&(ht=13),32<=ht||ht===13?ht:0}function pd(){return!0}function qd(){return!1}function rd(ht){function $(_e,vt,bt,xt,Et){this._reactName=_e,this._targetInst=bt,this.type=vt,this.nativeEvent=xt,this.target=Et,this.currentTarget=null;for(var At in ht)ht.hasOwnProperty(At)&&(_e=ht[At],this[At]=_e?_e(xt):xt[At]);return this.isDefaultPrevented=(xt.defaultPrevented!=null?xt.defaultPrevented:xt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _e=this.nativeEvent;_e&&(_e.preventDefault?_e.preventDefault():typeof _e.returnValue!="unknown"&&(_e.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _e=this.nativeEvent;_e&&(_e.stopPropagation?_e.stopPropagation():typeof _e.cancelBubble!="unknown"&&(_e.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ht){return ht.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(ht){return ht.relatedTarget===void 0?ht.fromElement===ht.srcElement?ht.toElement:ht.fromElement:ht.relatedTarget},movementX:function(ht){return"movementX"in ht?ht.movementX:(ht!==yd&&(yd&&ht.type==="mousemove"?(wd=ht.screenX-yd.screenX,xd=ht.screenY-yd.screenY):xd=wd=0,yd=ht),wd)},movementY:function(ht){return"movementY"in ht?ht.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(ht){return"clipboardData"in ht?ht.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(ht){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(ht):(ht=Od[ht])?!!$[ht]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(ht){if(ht.key){var $=Md[ht.key]||ht.key;if($!=="Unidentified")return $}return ht.type==="keypress"?(ht=od(ht),ht===13?"Enter":String.fromCharCode(ht)):ht.type==="keydown"||ht.type==="keyup"?Nd[ht.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(ht){return ht.type==="keypress"?od(ht):0},keyCode:function(ht){return ht.type==="keydown"||ht.type==="keyup"?ht.keyCode:0},which:function(ht){return ht.type==="keypress"?od(ht):ht.type==="keydown"||ht.type==="keyup"?ht.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(ht){return"deltaX"in ht?ht.deltaX:"wheelDeltaX"in ht?-ht.wheelDeltaX:0},deltaY:function(ht){return"deltaY"in ht?ht.deltaY:"wheelDeltaY"in ht?-ht.wheelDeltaY:"wheelDelta"in ht?-ht.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe=!1;function ge(ht,$){switch(ht){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(ht){return ht=ht.detail,typeof ht=="object"&&"data"in ht?ht.data:null}var ie=!1;function je(ht,$){switch(ht){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return ht=$.data,ht===ee&&fe?null:ht;default:return null}}function ke(ht,$){if(ie)return ht==="compositionend"||!ae&&ge(ht,$)?(ht=nd(),md=ld=kd=null,ie=!1,ht):null;switch(ht){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(ht){var $=ht&&ht.nodeName&&ht.nodeName.toLowerCase();return $==="input"?!!le[ht.type]:$==="textarea"}function ne(ht,$,_e,vt){Eb(vt),$=oe($,"onChange"),0<$.length&&(_e=new td("onChange","change",null,_e,vt),ht.push({event:_e,listeners:$}))}var pe$1=null,qe$1=null;function re(ht){se(ht,0)}function te$1(ht){var $=ue(ht);if(Wa($))return ht}function ve$1(ht,$){if(ht==="change")return $}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(ht){if(ht.propertyName==="value"&&te$1(qe$1)){var $=[];ne($,qe$1,ht,xb(ht)),Jb(re,$)}}function Ce(ht,$,_e){ht==="focusin"?(Ae(),pe$1=$,qe$1=_e,pe$1.attachEvent("onpropertychange",Be)):ht==="focusout"&&Ae()}function De(ht){if(ht==="selectionchange"||ht==="keyup"||ht==="keydown")return te$1(qe$1)}function Ee(ht,$){if(ht==="click")return te$1($)}function Fe$1(ht,$){if(ht==="input"||ht==="change")return te$1($)}function Ge(ht,$){return ht===$&&(ht!==0||1/ht===1/$)||ht!==ht&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(ht,$){if(He(ht,$))return!0;if(typeof ht!="object"||ht===null||typeof $!="object"||$===null)return!1;var _e=Object.keys(ht),vt=Object.keys($);if(_e.length!==vt.length)return!1;for(vt=0;vt<_e.length;vt++){var bt=_e[vt];if(!ja.call($,bt)||!He(ht[bt],$[bt]))return!1}return!0}function Je$1(ht){for(;ht&&ht.firstChild;)ht=ht.firstChild;return ht}function Ke(ht,$){var _e=Je$1(ht);ht=0;for(var vt;_e;){if(_e.nodeType===3){if(vt=ht+_e.textContent.length,ht<=$&&vt>=$)return{node:_e,offset:$-ht};ht=vt}e:{for(;_e;){if(_e.nextSibling){_e=_e.nextSibling;break e}_e=_e.parentNode}_e=void 0}_e=Je$1(_e)}}function Le(ht,$){return ht&&$?ht===$?!0:ht&&ht.nodeType===3?!1:$&&$.nodeType===3?Le(ht,$.parentNode):"contains"in ht?ht.contains($):ht.compareDocumentPosition?!!(ht.compareDocumentPosition($)&16):!1:!1}function Me(){for(var ht=window,$=Xa();$ instanceof ht.HTMLIFrameElement;){try{var _e=typeof $.contentWindow.location.href=="string"}catch{_e=!1}if(_e)ht=$.contentWindow;else break;$=Xa(ht.document)}return $}function Ne(ht){var $=ht&&ht.nodeName&&ht.nodeName.toLowerCase();return $&&($==="input"&&(ht.type==="text"||ht.type==="search"||ht.type==="tel"||ht.type==="url"||ht.type==="password")||$==="textarea"||ht.contentEditable==="true")}function Oe(ht){var $=Me(),_e=ht.focusedElem,vt=ht.selectionRange;if($!==_e&&_e&&_e.ownerDocument&&Le(_e.ownerDocument.documentElement,_e)){if(vt!==null&&Ne(_e)){if($=vt.start,ht=vt.end,ht===void 0&&(ht=$),"selectionStart"in _e)_e.selectionStart=$,_e.selectionEnd=Math.min(ht,_e.value.length);else if(ht=($=_e.ownerDocument||document)&&$.defaultView||window,ht.getSelection){ht=ht.getSelection();var bt=_e.textContent.length,xt=Math.min(vt.start,bt);vt=vt.end===void 0?xt:Math.min(vt.end,bt),!ht.extend&&xt>vt&&(bt=vt,vt=xt,xt=bt),bt=Ke(_e,xt);var Et=Ke(_e,vt);bt&&Et&&(ht.rangeCount!==1||ht.anchorNode!==bt.node||ht.anchorOffset!==bt.offset||ht.focusNode!==Et.node||ht.focusOffset!==Et.offset)&&($=$.createRange(),$.setStart(bt.node,bt.offset),ht.removeAllRanges(),xt>vt?(ht.addRange($),ht.extend(Et.node,Et.offset)):($.setEnd(Et.node,Et.offset),ht.addRange($)))}}for($=[],ht=_e;ht=ht.parentNode;)ht.nodeType===1&&$.push({element:ht,left:ht.scrollLeft,top:ht.scrollTop});for(typeof _e.focus=="function"&&_e.focus(),_e=0;_e<$.length;_e++)ht=$[_e],ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te=!1;function Ue(ht,$,_e){var vt=_e.window===_e?_e.document:_e.nodeType===9?_e:_e.ownerDocument;Te||Qe==null||Qe!==Xa(vt)||(vt=Qe,"selectionStart"in vt&&Ne(vt)?vt={start:vt.selectionStart,end:vt.selectionEnd}:(vt=(vt.ownerDocument&&vt.ownerDocument.defaultView||window).getSelection(),vt={anchorNode:vt.anchorNode,anchorOffset:vt.anchorOffset,focusNode:vt.focusNode,focusOffset:vt.focusOffset}),Se&&Ie(Se,vt)||(Se=vt,vt=oe(Re$1,"onSelect"),0<vt.length&&($=new td("onSelect","select",null,$,_e),ht.push({event:$,listeners:vt}),$.target=Qe)))}function Ve$1(ht,$){var _e={};return _e[ht.toLowerCase()]=$.toLowerCase(),_e["Webkit"+ht]="webkit"+$,_e["Moz"+ht]="moz"+$,_e}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze$1(ht){if(Xe$1[ht])return Xe$1[ht];if(!We[ht])return ht;var $=We[ht],_e;for(_e in $)if($.hasOwnProperty(_e)&&_e in Ye$1)return Xe$1[ht]=$[_e];return ht}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(ht,$){df.set(ht,$),fa($,[ht])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(ht,$,_e){var vt=ht.type||"unknown-event";ht.currentTarget=_e,Ub(vt,$,void 0,ht),ht.currentTarget=null}function se(ht,$){$=($&4)!==0;for(var _e=0;_e<ht.length;_e++){var vt=ht[_e],bt=vt.event;vt=vt.listeners;e:{var xt=void 0;if($)for(var Et=vt.length-1;0<=Et;Et--){var At=vt[Et],wt=At.instance,Ct=At.currentTarget;if(At=At.listener,wt!==xt&&bt.isPropagationStopped())break e;nf(bt,At,Ct),xt=wt}else for(Et=0;Et<vt.length;Et++){if(At=vt[Et],wt=At.instance,Ct=At.currentTarget,At=At.listener,wt!==xt&&bt.isPropagationStopped())break e;nf(bt,At,Ct),xt=wt}}}if(Qb)throw ht=Rb,Qb=!1,Rb=null,ht}function D$4(ht,$){var _e=$[of];_e===void 0&&(_e=$[of]=new Set);var vt=ht+"__bubble";_e.has(vt)||(pf($,ht,2,!1),_e.add(vt))}function qf(ht,$,_e){var vt=0;$&&(vt|=4),pf(_e,ht,vt,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(ht){if(!ht[rf]){ht[rf]=!0,da.forEach(function(_e){_e!=="selectionchange"&&(mf.has(_e)||qf(_e,!1,ht),qf(_e,!0,ht))});var $=ht.nodeType===9?ht:ht.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(ht,$,_e,vt){switch(jd($)){case 1:var bt=ed;break;case 4:bt=gd;break;default:bt=fd}_e=bt.bind(null,$,_e,ht),bt=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(bt=!0),vt?bt!==void 0?ht.addEventListener($,_e,{capture:!0,passive:bt}):ht.addEventListener($,_e,!0):bt!==void 0?ht.addEventListener($,_e,{passive:bt}):ht.addEventListener($,_e,!1)}function hd(ht,$,_e,vt,bt){var xt=vt;if(!($&1)&&!($&2)&&vt!==null)e:for(;;){if(vt===null)return;var Et=vt.tag;if(Et===3||Et===4){var At=vt.stateNode.containerInfo;if(At===bt||At.nodeType===8&&At.parentNode===bt)break;if(Et===4)for(Et=vt.return;Et!==null;){var wt=Et.tag;if((wt===3||wt===4)&&(wt=Et.stateNode.containerInfo,wt===bt||wt.nodeType===8&&wt.parentNode===bt))return;Et=Et.return}for(;At!==null;){if(Et=Wc(At),Et===null)return;if(wt=Et.tag,wt===5||wt===6){vt=xt=Et;continue e}At=At.parentNode}}vt=vt.return}Jb(function(){var Ct=xt,St=xb(_e),Rt=[];e:{var Pt=df.get(ht);if(Pt!==void 0){var kt=td,Mt=ht;switch(ht){case"keypress":if(od(_e)===0)break e;case"keydown":case"keyup":kt=Rd;break;case"focusin":Mt="focus",kt=Fd;break;case"focusout":Mt="blur",kt=Fd;break;case"beforeblur":case"afterblur":kt=Fd;break;case"click":if(_e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=Vd;break;case $e$1:case af:case bf:kt=Hd;break;case cf:kt=Xd;break;case"scroll":kt=vd;break;case"wheel":kt=Zd;break;case"copy":case"cut":case"paste":kt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=Td}var Dt=($&4)!==0,$t=!Dt&&ht==="scroll",Ft=Dt?Pt!==null?Pt+"Capture":null:Pt;Dt=[];for(var Lt=Ct,Ot;Lt!==null;){Ot=Lt;var Ht=Ot.stateNode;if(Ot.tag===5&&Ht!==null&&(Ot=Ht,Ft!==null&&(Ht=Kb(Lt,Ft),Ht!=null&&Dt.push(tf(Lt,Ht,Ot)))),$t)break;Lt=Lt.return}0<Dt.length&&(Pt=new kt(Pt,Mt,null,_e,St),Rt.push({event:Pt,listeners:Dt}))}}if(!($&7)){e:{if(Pt=ht==="mouseover"||ht==="pointerover",kt=ht==="mouseout"||ht==="pointerout",Pt&&_e!==wb&&(Mt=_e.relatedTarget||_e.fromElement)&&(Wc(Mt)||Mt[uf]))break e;if((kt||Pt)&&(Pt=St.window===St?St:(Pt=St.ownerDocument)?Pt.defaultView||Pt.parentWindow:window,kt?(Mt=_e.relatedTarget||_e.toElement,kt=Ct,Mt=Mt?Wc(Mt):null,Mt!==null&&($t=Vb(Mt),Mt!==$t||Mt.tag!==5&&Mt.tag!==6)&&(Mt=null)):(kt=null,Mt=Ct),kt!==Mt)){if(Dt=Bd,Ht="onMouseLeave",Ft="onMouseEnter",Lt="mouse",(ht==="pointerout"||ht==="pointerover")&&(Dt=Td,Ht="onPointerLeave",Ft="onPointerEnter",Lt="pointer"),$t=kt==null?Pt:ue(kt),Ot=Mt==null?Pt:ue(Mt),Pt=new Dt(Ht,Lt+"leave",kt,_e,St),Pt.target=$t,Pt.relatedTarget=Ot,Ht=null,Wc(St)===Ct&&(Dt=new Dt(Ft,Lt+"enter",Mt,_e,St),Dt.target=Ot,Dt.relatedTarget=$t,Ht=Dt),$t=Ht,kt&&Mt)t:{for(Dt=kt,Ft=Mt,Lt=0,Ot=Dt;Ot;Ot=vf(Ot))Lt++;for(Ot=0,Ht=Ft;Ht;Ht=vf(Ht))Ot++;for(;0<Lt-Ot;)Dt=vf(Dt),Lt--;for(;0<Ot-Lt;)Ft=vf(Ft),Ot--;for(;Lt--;){if(Dt===Ft||Ft!==null&&Dt===Ft.alternate)break t;Dt=vf(Dt),Ft=vf(Ft)}Dt=null}else Dt=null;kt!==null&&wf(Rt,Pt,kt,Dt,!1),Mt!==null&&$t!==null&&wf(Rt,$t,Mt,Dt,!0)}}e:{if(Pt=Ct?ue(Ct):window,kt=Pt.nodeName&&Pt.nodeName.toLowerCase(),kt==="select"||kt==="input"&&Pt.type==="file")var Nt=ve$1;else if(me(Pt))if(we)Nt=Fe$1;else{Nt=De;var Bt=Ce}else(kt=Pt.nodeName)&&kt.toLowerCase()==="input"&&(Pt.type==="checkbox"||Pt.type==="radio")&&(Nt=Ee);if(Nt&&(Nt=Nt(ht,Ct))){ne(Rt,Nt,_e,St);break e}Bt&&Bt(ht,Pt,Ct),ht==="focusout"&&(Bt=Pt._wrapperState)&&Bt.controlled&&Pt.type==="number"&&cb(Pt,"number",Pt.value)}switch(Bt=Ct?ue(Ct):window,ht){case"focusin":(me(Bt)||Bt.contentEditable==="true")&&(Qe=Bt,Re$1=Ct,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(Rt,_e,St);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(Rt,_e,St)}var jt;if(ae)e:{switch(ht){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else ie?ge(ht,_e)&&(zt="onCompositionEnd"):ht==="keydown"&&_e.keyCode===229&&(zt="onCompositionStart");zt&&(de&&_e.locale!=="ko"&&(ie||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ie&&(jt=nd()):(kd=St,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Bt=oe(Ct,zt),0<Bt.length&&(zt=new Ld(zt,ht,null,_e,St),Rt.push({event:zt,listeners:Bt}),jt?zt.data=jt:(jt=he(_e),jt!==null&&(zt.data=jt)))),(jt=ce$1?je(ht,_e):ke(ht,_e))&&(Ct=oe(Ct,"onBeforeInput"),0<Ct.length&&(St=new Ld("onBeforeInput","beforeinput",null,_e,St),Rt.push({event:St,listeners:Ct}),St.data=jt))}se(Rt,$)})}function tf(ht,$,_e){return{instance:ht,listener:$,currentTarget:_e}}function oe(ht,$){for(var _e=$+"Capture",vt=[];ht!==null;){var bt=ht,xt=bt.stateNode;bt.tag===5&&xt!==null&&(bt=xt,xt=Kb(ht,_e),xt!=null&&vt.unshift(tf(ht,xt,bt)),xt=Kb(ht,$),xt!=null&&vt.push(tf(ht,xt,bt))),ht=ht.return}return vt}function vf(ht){if(ht===null)return null;do ht=ht.return;while(ht&&ht.tag!==5);return ht||null}function wf(ht,$,_e,vt,bt){for(var xt=$._reactName,Et=[];_e!==null&&_e!==vt;){var At=_e,wt=At.alternate,Ct=At.stateNode;if(wt!==null&&wt===vt)break;At.tag===5&&Ct!==null&&(At=Ct,bt?(wt=Kb(_e,xt),wt!=null&&Et.unshift(tf(_e,wt,At))):bt||(wt=Kb(_e,xt),wt!=null&&Et.push(tf(_e,wt,At)))),_e=_e.return}Et.length!==0&&ht.push({event:$,listeners:Et})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(ht){return(typeof ht=="string"?ht:""+ht).replace(xf,`
`).replace(yf,"")}function Af(ht,$,_e){if($=zf($),zf(ht)!==$&&_e)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(ht,$){return ht==="textarea"||ht==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(ht){return Hf.resolve(null).then(ht).catch(If)}:Ff;function If(ht){setTimeout(function(){throw ht})}function Kf(ht,$){var _e=$,vt=0;do{var bt=_e.nextSibling;if(ht.removeChild(_e),bt&&bt.nodeType===8)if(_e=bt.data,_e==="/$"){if(vt===0){ht.removeChild(bt),bd($);return}vt--}else _e!=="$"&&_e!=="$?"&&_e!=="$!"||vt++;_e=bt}while(_e);bd($)}function Lf(ht){for(;ht!=null;ht=ht.nextSibling){var $=ht.nodeType;if($===1||$===3)break;if($===8){if($=ht.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return ht}function Mf(ht){ht=ht.previousSibling;for(var $=0;ht;){if(ht.nodeType===8){var _e=ht.data;if(_e==="$"||_e==="$!"||_e==="$?"){if($===0)return ht;$--}else _e==="/$"&&$++}ht=ht.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(ht){var $=ht[Of];if($)return $;for(var _e=ht.parentNode;_e;){if($=_e[uf]||_e[Of]){if(_e=$.alternate,$.child!==null||_e!==null&&_e.child!==null)for(ht=Mf(ht);ht!==null;){if(_e=ht[Of])return _e;ht=Mf(ht)}return $}ht=_e,_e=ht.parentNode}return null}function Cb(ht){return ht=ht[Of]||ht[uf],!ht||ht.tag!==5&&ht.tag!==6&&ht.tag!==13&&ht.tag!==3?null:ht}function ue(ht){if(ht.tag===5||ht.tag===6)return ht.stateNode;throw Error(p$4(33))}function Db(ht){return ht[Pf]||null}var Sf=[],Tf=-1;function Uf(ht){return{current:ht}}function E$1(ht){0>Tf||(ht.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(ht,$){Tf++,Sf[Tf]=ht.current,ht.current=$}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(ht,$){var _e=ht.type.contextTypes;if(!_e)return Vf;var vt=ht.stateNode;if(vt&&vt.__reactInternalMemoizedUnmaskedChildContext===$)return vt.__reactInternalMemoizedMaskedChildContext;var bt={},xt;for(xt in _e)bt[xt]=$[xt];return vt&&(ht=ht.stateNode,ht.__reactInternalMemoizedUnmaskedChildContext=$,ht.__reactInternalMemoizedMaskedChildContext=bt),bt}function Zf(ht){return ht=ht.childContextTypes,ht!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(ht,$,_e){if(H$2.current!==Vf)throw Error(p$4(168));G$2(H$2,$),G$2(Wf,_e)}function bg(ht,$,_e){var vt=ht.stateNode;if($=$.childContextTypes,typeof vt.getChildContext!="function")return _e;vt=vt.getChildContext();for(var bt in vt)if(!(bt in $))throw Error(p$4(108,Ra(ht)||"Unknown",bt));return A$3({},_e,vt)}function cg(ht){return ht=(ht=ht.stateNode)&&ht.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,ht),G$2(Wf,Wf.current),!0}function dg(ht,$,_e){var vt=ht.stateNode;if(!vt)throw Error(p$4(169));_e?(ht=bg(ht,$,Xf),vt.__reactInternalMemoizedMergedChildContext=ht,E$1(Wf),E$1(H$2),G$2(H$2,ht)):E$1(Wf),G$2(Wf,_e)}var eg=null,fg=!1,gg=!1;function hg(ht){eg===null?eg=[ht]:eg.push(ht)}function ig(ht){fg=!0,hg(ht)}function jg(){if(!gg&&eg!==null){gg=!0;var ht=0,$=C$1;try{var _e=eg;for(C$1=1;ht<_e.length;ht++){var vt=_e[ht];do vt=vt(!0);while(vt!==null)}eg=null,fg=!1}catch(bt){throw eg!==null&&(eg=eg.slice(ht+1)),ac(fc,jg),bt}finally{C$1=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(ht,$){kg[lg++]=ng,kg[lg++]=mg,mg=ht,ng=$}function ug(ht,$,_e){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=ht;var vt=rg;ht=sg;var bt=32-oc(vt)-1;vt&=~(1<<bt),_e+=1;var xt=32-oc($)+bt;if(30<xt){var Et=bt-bt%5;xt=(vt&(1<<Et)-1).toString(32),vt>>=Et,bt-=Et,rg=1<<32-oc($)+bt|_e<<bt|vt,sg=xt+ht}else rg=1<<xt|_e<<bt|vt,sg=ht}function vg(ht){ht.return!==null&&(tg(ht,1),ug(ht,1,0))}function wg(ht){for(;ht===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;ht===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(ht,$){var _e=Bg(5,null,null,0);_e.elementType="DELETED",_e.stateNode=$,_e.return=ht,$=ht.deletions,$===null?(ht.deletions=[_e],ht.flags|=16):$.push(_e)}function Cg(ht,$){switch(ht.tag){case 5:var _e=ht.type;return $=$.nodeType!==1||_e.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(ht.stateNode=$,xg=ht,yg=Lf($.firstChild),!0):!1;case 6:return $=ht.pendingProps===""||$.nodeType!==3?null:$,$!==null?(ht.stateNode=$,xg=ht,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(_e=qg!==null?{id:rg,overflow:sg}:null,ht.memoizedState={dehydrated:$,treeContext:_e,retryLane:1073741824},_e=Bg(18,null,null,0),_e.stateNode=$,_e.return=ht,ht.child=_e,xg=ht,yg=null,!0):!1;default:return!1}}function Dg(ht){return(ht.mode&1)!==0&&(ht.flags&128)===0}function Eg(ht){if(I$4){var $=yg;if($){var _e=$;if(!Cg(ht,$)){if(Dg(ht))throw Error(p$4(418));$=Lf(_e.nextSibling);var vt=xg;$&&Cg(ht,$)?Ag(vt,_e):(ht.flags=ht.flags&-4097|2,I$4=!1,xg=ht)}}else{if(Dg(ht))throw Error(p$4(418));ht.flags=ht.flags&-4097|2,I$4=!1,xg=ht}}}function Fg(ht){for(ht=ht.return;ht!==null&&ht.tag!==5&&ht.tag!==3&&ht.tag!==13;)ht=ht.return;xg=ht}function Gg(ht){if(ht!==xg)return!1;if(!I$4)return Fg(ht),I$4=!0,!1;var $;if(($=ht.tag!==3)&&!($=ht.tag!==5)&&($=ht.type,$=$!=="head"&&$!=="body"&&!Ef(ht.type,ht.memoizedProps)),$&&($=yg)){if(Dg(ht))throw Hg(),Error(p$4(418));for(;$;)Ag(ht,$),$=Lf($.nextSibling)}if(Fg(ht),ht.tag===13){if(ht=ht.memoizedState,ht=ht!==null?ht.dehydrated:null,!ht)throw Error(p$4(317));e:{for(ht=ht.nextSibling,$=0;ht;){if(ht.nodeType===8){var _e=ht.data;if(_e==="/$"){if($===0){yg=Lf(ht.nextSibling);break e}$--}else _e!=="$"&&_e!=="$!"&&_e!=="$?"||$++}ht=ht.nextSibling}yg=null}}else yg=xg?Lf(ht.stateNode.nextSibling):null;return!0}function Hg(){for(var ht=yg;ht;)ht=Lf(ht.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(ht){zg===null?zg=[ht]:zg.push(ht)}var Kg=ua.ReactCurrentBatchConfig;function Lg(ht,$,_e){if(ht=_e.ref,ht!==null&&typeof ht!="function"&&typeof ht!="object"){if(_e._owner){if(_e=_e._owner,_e){if(_e.tag!==1)throw Error(p$4(309));var vt=_e.stateNode}if(!vt)throw Error(p$4(147,ht));var bt=vt,xt=""+ht;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===xt?$.ref:($=function(Et){var At=bt.refs;Et===null?delete At[xt]:At[xt]=Et},$._stringRef=xt,$)}if(typeof ht!="string")throw Error(p$4(284));if(!_e._owner)throw Error(p$4(290,ht))}return ht}function Mg(ht,$){throw ht=Object.prototype.toString.call($),Error(p$4(31,ht==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ht))}function Ng(ht){var $=ht._init;return $(ht._payload)}function Og(ht){function $(Ft,Lt){if(ht){var Ot=Ft.deletions;Ot===null?(Ft.deletions=[Lt],Ft.flags|=16):Ot.push(Lt)}}function _e(Ft,Lt){if(!ht)return null;for(;Lt!==null;)$(Ft,Lt),Lt=Lt.sibling;return null}function vt(Ft,Lt){for(Ft=new Map;Lt!==null;)Lt.key!==null?Ft.set(Lt.key,Lt):Ft.set(Lt.index,Lt),Lt=Lt.sibling;return Ft}function bt(Ft,Lt){return Ft=Pg(Ft,Lt),Ft.index=0,Ft.sibling=null,Ft}function xt(Ft,Lt,Ot){return Ft.index=Ot,ht?(Ot=Ft.alternate,Ot!==null?(Ot=Ot.index,Ot<Lt?(Ft.flags|=2,Lt):Ot):(Ft.flags|=2,Lt)):(Ft.flags|=1048576,Lt)}function Et(Ft){return ht&&Ft.alternate===null&&(Ft.flags|=2),Ft}function At(Ft,Lt,Ot,Ht){return Lt===null||Lt.tag!==6?(Lt=Qg(Ot,Ft.mode,Ht),Lt.return=Ft,Lt):(Lt=bt(Lt,Ot),Lt.return=Ft,Lt)}function wt(Ft,Lt,Ot,Ht){var Nt=Ot.type;return Nt===ya?St(Ft,Lt,Ot.props.children,Ht,Ot.key):Lt!==null&&(Lt.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Ha&&Ng(Nt)===Lt.type)?(Ht=bt(Lt,Ot.props),Ht.ref=Lg(Ft,Lt,Ot),Ht.return=Ft,Ht):(Ht=Rg(Ot.type,Ot.key,Ot.props,null,Ft.mode,Ht),Ht.ref=Lg(Ft,Lt,Ot),Ht.return=Ft,Ht)}function Ct(Ft,Lt,Ot,Ht){return Lt===null||Lt.tag!==4||Lt.stateNode.containerInfo!==Ot.containerInfo||Lt.stateNode.implementation!==Ot.implementation?(Lt=Sg(Ot,Ft.mode,Ht),Lt.return=Ft,Lt):(Lt=bt(Lt,Ot.children||[]),Lt.return=Ft,Lt)}function St(Ft,Lt,Ot,Ht,Nt){return Lt===null||Lt.tag!==7?(Lt=Tg(Ot,Ft.mode,Ht,Nt),Lt.return=Ft,Lt):(Lt=bt(Lt,Ot),Lt.return=Ft,Lt)}function Rt(Ft,Lt,Ot){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number")return Lt=Qg(""+Lt,Ft.mode,Ot),Lt.return=Ft,Lt;if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case va:return Ot=Rg(Lt.type,Lt.key,Lt.props,null,Ft.mode,Ot),Ot.ref=Lg(Ft,null,Lt),Ot.return=Ft,Ot;case wa:return Lt=Sg(Lt,Ft.mode,Ot),Lt.return=Ft,Lt;case Ha:var Ht=Lt._init;return Rt(Ft,Ht(Lt._payload),Ot)}if(eb(Lt)||Ka(Lt))return Lt=Tg(Lt,Ft.mode,Ot,null),Lt.return=Ft,Lt;Mg(Ft,Lt)}return null}function Pt(Ft,Lt,Ot,Ht){var Nt=Lt!==null?Lt.key:null;if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number")return Nt!==null?null:At(Ft,Lt,""+Ot,Ht);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case va:return Ot.key===Nt?wt(Ft,Lt,Ot,Ht):null;case wa:return Ot.key===Nt?Ct(Ft,Lt,Ot,Ht):null;case Ha:return Nt=Ot._init,Pt(Ft,Lt,Nt(Ot._payload),Ht)}if(eb(Ot)||Ka(Ot))return Nt!==null?null:St(Ft,Lt,Ot,Ht,null);Mg(Ft,Ot)}return null}function kt(Ft,Lt,Ot,Ht,Nt){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number")return Ft=Ft.get(Ot)||null,At(Lt,Ft,""+Ht,Nt);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case va:return Ft=Ft.get(Ht.key===null?Ot:Ht.key)||null,wt(Lt,Ft,Ht,Nt);case wa:return Ft=Ft.get(Ht.key===null?Ot:Ht.key)||null,Ct(Lt,Ft,Ht,Nt);case Ha:var Bt=Ht._init;return kt(Ft,Lt,Ot,Bt(Ht._payload),Nt)}if(eb(Ht)||Ka(Ht))return Ft=Ft.get(Ot)||null,St(Lt,Ft,Ht,Nt,null);Mg(Lt,Ht)}return null}function Mt(Ft,Lt,Ot,Ht){for(var Nt=null,Bt=null,jt=Lt,zt=Lt=0,Kt=null;jt!==null&&zt<Ot.length;zt++){jt.index>zt?(Kt=jt,jt=null):Kt=jt.sibling;var nn=Pt(Ft,jt,Ot[zt],Ht);if(nn===null){jt===null&&(jt=Kt);break}ht&&jt&&nn.alternate===null&&$(Ft,jt),Lt=xt(nn,Lt,zt),Bt===null?Nt=nn:Bt.sibling=nn,Bt=nn,jt=Kt}if(zt===Ot.length)return _e(Ft,jt),I$4&&tg(Ft,zt),Nt;if(jt===null){for(;zt<Ot.length;zt++)jt=Rt(Ft,Ot[zt],Ht),jt!==null&&(Lt=xt(jt,Lt,zt),Bt===null?Nt=jt:Bt.sibling=jt,Bt=jt);return I$4&&tg(Ft,zt),Nt}for(jt=vt(Ft,jt);zt<Ot.length;zt++)Kt=kt(jt,Ft,zt,Ot[zt],Ht),Kt!==null&&(ht&&Kt.alternate!==null&&jt.delete(Kt.key===null?zt:Kt.key),Lt=xt(Kt,Lt,zt),Bt===null?Nt=Kt:Bt.sibling=Kt,Bt=Kt);return ht&&jt.forEach(function(qt){return $(Ft,qt)}),I$4&&tg(Ft,zt),Nt}function Dt(Ft,Lt,Ot,Ht){var Nt=Ka(Ot);if(typeof Nt!="function")throw Error(p$4(150));if(Ot=Nt.call(Ot),Ot==null)throw Error(p$4(151));for(var Bt=Nt=null,jt=Lt,zt=Lt=0,Kt=null,nn=Ot.next();jt!==null&&!nn.done;zt++,nn=Ot.next()){jt.index>zt?(Kt=jt,jt=null):Kt=jt.sibling;var qt=Pt(Ft,jt,nn.value,Ht);if(qt===null){jt===null&&(jt=Kt);break}ht&&jt&&qt.alternate===null&&$(Ft,jt),Lt=xt(qt,Lt,zt),Bt===null?Nt=qt:Bt.sibling=qt,Bt=qt,jt=Kt}if(nn.done)return _e(Ft,jt),I$4&&tg(Ft,zt),Nt;if(jt===null){for(;!nn.done;zt++,nn=Ot.next())nn=Rt(Ft,nn.value,Ht),nn!==null&&(Lt=xt(nn,Lt,zt),Bt===null?Nt=nn:Bt.sibling=nn,Bt=nn);return I$4&&tg(Ft,zt),Nt}for(jt=vt(Ft,jt);!nn.done;zt++,nn=Ot.next())nn=kt(jt,Ft,zt,nn.value,Ht),nn!==null&&(ht&&nn.alternate!==null&&jt.delete(nn.key===null?zt:nn.key),Lt=xt(nn,Lt,zt),Bt===null?Nt=nn:Bt.sibling=nn,Bt=nn);return ht&&jt.forEach(function(en){return $(Ft,en)}),I$4&&tg(Ft,zt),Nt}function $t(Ft,Lt,Ot,Ht){if(typeof Ot=="object"&&Ot!==null&&Ot.type===ya&&Ot.key===null&&(Ot=Ot.props.children),typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case va:e:{for(var Nt=Ot.key,Bt=Lt;Bt!==null;){if(Bt.key===Nt){if(Nt=Ot.type,Nt===ya){if(Bt.tag===7){_e(Ft,Bt.sibling),Lt=bt(Bt,Ot.props.children),Lt.return=Ft,Ft=Lt;break e}}else if(Bt.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Ha&&Ng(Nt)===Bt.type){_e(Ft,Bt.sibling),Lt=bt(Bt,Ot.props),Lt.ref=Lg(Ft,Bt,Ot),Lt.return=Ft,Ft=Lt;break e}_e(Ft,Bt);break}else $(Ft,Bt);Bt=Bt.sibling}Ot.type===ya?(Lt=Tg(Ot.props.children,Ft.mode,Ht,Ot.key),Lt.return=Ft,Ft=Lt):(Ht=Rg(Ot.type,Ot.key,Ot.props,null,Ft.mode,Ht),Ht.ref=Lg(Ft,Lt,Ot),Ht.return=Ft,Ft=Ht)}return Et(Ft);case wa:e:{for(Bt=Ot.key;Lt!==null;){if(Lt.key===Bt)if(Lt.tag===4&&Lt.stateNode.containerInfo===Ot.containerInfo&&Lt.stateNode.implementation===Ot.implementation){_e(Ft,Lt.sibling),Lt=bt(Lt,Ot.children||[]),Lt.return=Ft,Ft=Lt;break e}else{_e(Ft,Lt);break}else $(Ft,Lt);Lt=Lt.sibling}Lt=Sg(Ot,Ft.mode,Ht),Lt.return=Ft,Ft=Lt}return Et(Ft);case Ha:return Bt=Ot._init,$t(Ft,Lt,Bt(Ot._payload),Ht)}if(eb(Ot))return Mt(Ft,Lt,Ot,Ht);if(Ka(Ot))return Dt(Ft,Lt,Ot,Ht);Mg(Ft,Ot)}return typeof Ot=="string"&&Ot!==""||typeof Ot=="number"?(Ot=""+Ot,Lt!==null&&Lt.tag===6?(_e(Ft,Lt.sibling),Lt=bt(Lt,Ot),Lt.return=Ft,Ft=Lt):(_e(Ft,Lt),Lt=Qg(Ot,Ft.mode,Ht),Lt.return=Ft,Ft=Lt),Et(Ft)):_e(Ft,Lt)}return $t}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(ht){var $=Wg.current;E$1(Wg),ht._currentValue=$}function bh(ht,$,_e){for(;ht!==null;){var vt=ht.alternate;if((ht.childLanes&$)!==$?(ht.childLanes|=$,vt!==null&&(vt.childLanes|=$)):vt!==null&&(vt.childLanes&$)!==$&&(vt.childLanes|=$),ht===_e)break;ht=ht.return}}function ch(ht,$){Xg=ht,Zg=Yg=null,ht=ht.dependencies,ht!==null&&ht.firstContext!==null&&(ht.lanes&$&&(dh=!0),ht.firstContext=null)}function eh(ht){var $=ht._currentValue;if(Zg!==ht)if(ht={context:ht,memoizedValue:$,next:null},Yg===null){if(Xg===null)throw Error(p$4(308));Yg=ht,Xg.dependencies={lanes:0,firstContext:ht}}else Yg=Yg.next=ht;return $}var fh=null;function gh(ht){fh===null?fh=[ht]:fh.push(ht)}function hh(ht,$,_e,vt){var bt=$.interleaved;return bt===null?(_e.next=_e,gh($)):(_e.next=bt.next,bt.next=_e),$.interleaved=_e,ih(ht,vt)}function ih(ht,$){ht.lanes|=$;var _e=ht.alternate;for(_e!==null&&(_e.lanes|=$),_e=ht,ht=ht.return;ht!==null;)ht.childLanes|=$,_e=ht.alternate,_e!==null&&(_e.childLanes|=$),_e=ht,ht=ht.return;return _e.tag===3?_e.stateNode:null}var jh=!1;function kh(ht){ht.updateQueue={baseState:ht.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(ht,$){ht=ht.updateQueue,$.updateQueue===ht&&($.updateQueue={baseState:ht.baseState,firstBaseUpdate:ht.firstBaseUpdate,lastBaseUpdate:ht.lastBaseUpdate,shared:ht.shared,effects:ht.effects})}function mh(ht,$){return{eventTime:ht,lane:$,tag:0,payload:null,callback:null,next:null}}function nh(ht,$,_e){var vt=ht.updateQueue;if(vt===null)return null;if(vt=vt.shared,K&2){var bt=vt.pending;return bt===null?$.next=$:($.next=bt.next,bt.next=$),vt.pending=$,ih(ht,_e)}return bt=vt.interleaved,bt===null?($.next=$,gh(vt)):($.next=bt.next,bt.next=$),vt.interleaved=$,ih(ht,_e)}function oh(ht,$,_e){if($=$.updateQueue,$!==null&&($=$.shared,(_e&4194240)!==0)){var vt=$.lanes;vt&=ht.pendingLanes,_e|=vt,$.lanes=_e,Cc(ht,_e)}}function ph(ht,$){var _e=ht.updateQueue,vt=ht.alternate;if(vt!==null&&(vt=vt.updateQueue,_e===vt)){var bt=null,xt=null;if(_e=_e.firstBaseUpdate,_e!==null){do{var Et={eventTime:_e.eventTime,lane:_e.lane,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null};xt===null?bt=xt=Et:xt=xt.next=Et,_e=_e.next}while(_e!==null);xt===null?bt=xt=$:xt=xt.next=$}else bt=xt=$;_e={baseState:vt.baseState,firstBaseUpdate:bt,lastBaseUpdate:xt,shared:vt.shared,effects:vt.effects},ht.updateQueue=_e;return}ht=_e.lastBaseUpdate,ht===null?_e.firstBaseUpdate=$:ht.next=$,_e.lastBaseUpdate=$}function qh(ht,$,_e,vt){var bt=ht.updateQueue;jh=!1;var xt=bt.firstBaseUpdate,Et=bt.lastBaseUpdate,At=bt.shared.pending;if(At!==null){bt.shared.pending=null;var wt=At,Ct=wt.next;wt.next=null,Et===null?xt=Ct:Et.next=Ct,Et=wt;var St=ht.alternate;St!==null&&(St=St.updateQueue,At=St.lastBaseUpdate,At!==Et&&(At===null?St.firstBaseUpdate=Ct:At.next=Ct,St.lastBaseUpdate=wt))}if(xt!==null){var Rt=bt.baseState;Et=0,St=Ct=wt=null,At=xt;do{var Pt=At.lane,kt=At.eventTime;if((vt&Pt)===Pt){St!==null&&(St=St.next={eventTime:kt,lane:0,tag:At.tag,payload:At.payload,callback:At.callback,next:null});e:{var Mt=ht,Dt=At;switch(Pt=$,kt=_e,Dt.tag){case 1:if(Mt=Dt.payload,typeof Mt=="function"){Rt=Mt.call(kt,Rt,Pt);break e}Rt=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Dt.payload,Pt=typeof Mt=="function"?Mt.call(kt,Rt,Pt):Mt,Pt==null)break e;Rt=A$3({},Rt,Pt);break e;case 2:jh=!0}}At.callback!==null&&At.lane!==0&&(ht.flags|=64,Pt=bt.effects,Pt===null?bt.effects=[At]:Pt.push(At))}else kt={eventTime:kt,lane:Pt,tag:At.tag,payload:At.payload,callback:At.callback,next:null},St===null?(Ct=St=kt,wt=Rt):St=St.next=kt,Et|=Pt;if(At=At.next,At===null){if(At=bt.shared.pending,At===null)break;Pt=At,At=Pt.next,Pt.next=null,bt.lastBaseUpdate=Pt,bt.shared.pending=null}}while(!0);if(St===null&&(wt=Rt),bt.baseState=wt,bt.firstBaseUpdate=Ct,bt.lastBaseUpdate=St,$=bt.shared.interleaved,$!==null){bt=$;do Et|=bt.lane,bt=bt.next;while(bt!==$)}else xt===null&&(bt.shared.lanes=0);rh|=Et,ht.lanes=Et,ht.memoizedState=Rt}}function sh(ht,$,_e){if(ht=$.effects,$.effects=null,ht!==null)for($=0;$<ht.length;$++){var vt=ht[$],bt=vt.callback;if(bt!==null){if(vt.callback=null,vt=_e,typeof bt!="function")throw Error(p$4(191,bt));bt.call(vt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(ht){if(ht===th)throw Error(p$4(174));return ht}function yh(ht,$){switch(G$2(wh,$),G$2(vh,ht),G$2(uh,th),ht=$.nodeType,ht){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:ht=ht===8?$.parentNode:$,$=ht.namespaceURI||null,ht=ht.tagName,$=lb($,ht)}E$1(uh),G$2(uh,$)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(ht){xh(wh.current);var $=xh(uh.current),_e=lb($,ht.type);$!==_e&&(G$2(vh,ht),G$2(uh,_e))}function Bh(ht){vh.current===ht&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(ht){for(var $=ht;$!==null;){if($.tag===13){var _e=$.memoizedState;if(_e!==null&&(_e=_e.dehydrated,_e===null||_e.data==="$?"||_e.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===ht)break;for(;$.sibling===null;){if($.return===null||$.return===ht)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Dh=[];function Eh(){for(var ht=0;ht<Dh.length;ht++)Dh[ht]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$3=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$4(321))}function Mh(ht,$){if($===null)return!1;for(var _e=0;_e<$.length&&_e<ht.length;_e++)if(!He(ht[_e],$[_e]))return!1;return!0}function Nh(ht,$,_e,vt,bt,xt){if(Hh=xt,M$3=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Fh.current=ht===null||ht.memoizedState===null?Oh:Ph,ht=_e(vt,bt),Jh){xt=0;do{if(Jh=!1,Kh=0,25<=xt)throw Error(p$4(301));xt+=1,O$2=N$3=null,$.updateQueue=null,Fh.current=Qh,ht=_e(vt,bt)}while(Jh)}if(Fh.current=Rh,$=N$3!==null&&N$3.next!==null,Hh=0,O$2=N$3=M$3=null,Ih=!1,$)throw Error(p$4(300));return ht}function Sh(){var ht=Kh!==0;return Kh=0,ht}function Th(){var ht={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$3.memoizedState=O$2=ht:O$2=O$2.next=ht,O$2}function Uh(){if(N$3===null){var ht=M$3.alternate;ht=ht!==null?ht.memoizedState:null}else ht=N$3.next;var $=O$2===null?M$3.memoizedState:O$2.next;if($!==null)O$2=$,N$3=ht;else{if(ht===null)throw Error(p$4(310));N$3=ht,ht={memoizedState:N$3.memoizedState,baseState:N$3.baseState,baseQueue:N$3.baseQueue,queue:N$3.queue,next:null},O$2===null?M$3.memoizedState=O$2=ht:O$2=O$2.next=ht}return O$2}function Vh(ht,$){return typeof $=="function"?$(ht):$}function Wh(ht){var $=Uh(),_e=$.queue;if(_e===null)throw Error(p$4(311));_e.lastRenderedReducer=ht;var vt=N$3,bt=vt.baseQueue,xt=_e.pending;if(xt!==null){if(bt!==null){var Et=bt.next;bt.next=xt.next,xt.next=Et}vt.baseQueue=bt=xt,_e.pending=null}if(bt!==null){xt=bt.next,vt=vt.baseState;var At=Et=null,wt=null,Ct=xt;do{var St=Ct.lane;if((Hh&St)===St)wt!==null&&(wt=wt.next={lane:0,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null}),vt=Ct.hasEagerState?Ct.eagerState:ht(vt,Ct.action);else{var Rt={lane:St,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null};wt===null?(At=wt=Rt,Et=vt):wt=wt.next=Rt,M$3.lanes|=St,rh|=St}Ct=Ct.next}while(Ct!==null&&Ct!==xt);wt===null?Et=vt:wt.next=At,He(vt,$.memoizedState)||(dh=!0),$.memoizedState=vt,$.baseState=Et,$.baseQueue=wt,_e.lastRenderedState=vt}if(ht=_e.interleaved,ht!==null){bt=ht;do xt=bt.lane,M$3.lanes|=xt,rh|=xt,bt=bt.next;while(bt!==ht)}else bt===null&&(_e.lanes=0);return[$.memoizedState,_e.dispatch]}function Xh(ht){var $=Uh(),_e=$.queue;if(_e===null)throw Error(p$4(311));_e.lastRenderedReducer=ht;var vt=_e.dispatch,bt=_e.pending,xt=$.memoizedState;if(bt!==null){_e.pending=null;var Et=bt=bt.next;do xt=ht(xt,Et.action),Et=Et.next;while(Et!==bt);He(xt,$.memoizedState)||(dh=!0),$.memoizedState=xt,$.baseQueue===null&&($.baseState=xt),_e.lastRenderedState=xt}return[xt,vt]}function Yh(){}function Zh(ht,$){var _e=M$3,vt=Uh(),bt=$(),xt=!He(vt.memoizedState,bt);if(xt&&(vt.memoizedState=bt,dh=!0),vt=vt.queue,$h(ai.bind(null,_e,vt,ht),[ht]),vt.getSnapshot!==$||xt||O$2!==null&&O$2.memoizedState.tag&1){if(_e.flags|=2048,bi(9,ci.bind(null,_e,vt,bt,$),void 0,null),Q===null)throw Error(p$4(349));Hh&30||di(_e,$,bt)}return bt}function di(ht,$,_e){ht.flags|=16384,ht={getSnapshot:$,value:_e},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.stores=[ht]):(_e=$.stores,_e===null?$.stores=[ht]:_e.push(ht))}function ci(ht,$,_e,vt){$.value=_e,$.getSnapshot=vt,ei($)&&fi(ht)}function ai(ht,$,_e){return _e(function(){ei($)&&fi(ht)})}function ei(ht){var $=ht.getSnapshot;ht=ht.value;try{var _e=$();return!He(ht,_e)}catch{return!0}}function fi(ht){var $=ih(ht,1);$!==null&&gi($,ht,1,-1)}function hi(ht){var $=Th();return typeof ht=="function"&&(ht=ht()),$.memoizedState=$.baseState=ht,ht={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:ht},$.queue=ht,ht=ht.dispatch=ii.bind(null,M$3,ht),[$.memoizedState,ht]}function bi(ht,$,_e,vt){return ht={tag:ht,create:$,destroy:_e,deps:vt,next:null},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.lastEffect=ht.next=ht):(_e=$.lastEffect,_e===null?$.lastEffect=ht.next=ht:(vt=_e.next,_e.next=ht,ht.next=vt,$.lastEffect=ht)),ht}function ji(){return Uh().memoizedState}function ki(ht,$,_e,vt){var bt=Th();M$3.flags|=ht,bt.memoizedState=bi(1|$,_e,void 0,vt===void 0?null:vt)}function li(ht,$,_e,vt){var bt=Uh();vt=vt===void 0?null:vt;var xt=void 0;if(N$3!==null){var Et=N$3.memoizedState;if(xt=Et.destroy,vt!==null&&Mh(vt,Et.deps)){bt.memoizedState=bi($,_e,xt,vt);return}}M$3.flags|=ht,bt.memoizedState=bi(1|$,_e,xt,vt)}function mi(ht,$){return ki(8390656,8,ht,$)}function $h(ht,$){return li(2048,8,ht,$)}function ni(ht,$){return li(4,2,ht,$)}function oi(ht,$){return li(4,4,ht,$)}function pi(ht,$){if(typeof $=="function")return ht=ht(),$(ht),function(){$(null)};if($!=null)return ht=ht(),$.current=ht,function(){$.current=null}}function qi(ht,$,_e){return _e=_e!=null?_e.concat([ht]):null,li(4,4,pi.bind(null,$,ht),_e)}function ri(){}function si(ht,$){var _e=Uh();$=$===void 0?null:$;var vt=_e.memoizedState;return vt!==null&&$!==null&&Mh($,vt[1])?vt[0]:(_e.memoizedState=[ht,$],ht)}function ti(ht,$){var _e=Uh();$=$===void 0?null:$;var vt=_e.memoizedState;return vt!==null&&$!==null&&Mh($,vt[1])?vt[0]:(ht=ht(),_e.memoizedState=[ht,$],ht)}function ui(ht,$,_e){return Hh&21?(He(_e,$)||(_e=yc(),M$3.lanes|=_e,rh|=_e,ht.baseState=!0),$):(ht.baseState&&(ht.baseState=!1,dh=!0),ht.memoizedState=_e)}function vi(ht,$){var _e=C$1;C$1=_e!==0&&4>_e?_e:4,ht(!0);var vt=Gh.transition;Gh.transition={};try{ht(!1),$()}finally{C$1=_e,Gh.transition=vt}}function wi(){return Uh().memoizedState}function xi(ht,$,_e){var vt=yi(ht);if(_e={lane:vt,action:_e,hasEagerState:!1,eagerState:null,next:null},zi(ht))Ai($,_e);else if(_e=hh(ht,$,_e,vt),_e!==null){var bt=R$1();gi(_e,ht,vt,bt),Bi(_e,$,vt)}}function ii(ht,$,_e){var vt=yi(ht),bt={lane:vt,action:_e,hasEagerState:!1,eagerState:null,next:null};if(zi(ht))Ai($,bt);else{var xt=ht.alternate;if(ht.lanes===0&&(xt===null||xt.lanes===0)&&(xt=$.lastRenderedReducer,xt!==null))try{var Et=$.lastRenderedState,At=xt(Et,_e);if(bt.hasEagerState=!0,bt.eagerState=At,He(At,Et)){var wt=$.interleaved;wt===null?(bt.next=bt,gh($)):(bt.next=wt.next,wt.next=bt),$.interleaved=bt;return}}catch{}finally{}_e=hh(ht,$,bt,vt),_e!==null&&(bt=R$1(),gi(_e,ht,vt,bt),Bi(_e,$,vt))}}function zi(ht){var $=ht.alternate;return ht===M$3||$!==null&&$===M$3}function Ai(ht,$){Jh=Ih=!0;var _e=ht.pending;_e===null?$.next=$:($.next=_e.next,_e.next=$),ht.pending=$}function Bi(ht,$,_e){if(_e&4194240){var vt=$.lanes;vt&=ht.pendingLanes,_e|=vt,$.lanes=_e,Cc(ht,_e)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(ht,$){return Th().memoizedState=[ht,$===void 0?null:$],ht},useContext:eh,useEffect:mi,useImperativeHandle:function(ht,$,_e){return _e=_e!=null?_e.concat([ht]):null,ki(4194308,4,pi.bind(null,$,ht),_e)},useLayoutEffect:function(ht,$){return ki(4194308,4,ht,$)},useInsertionEffect:function(ht,$){return ki(4,2,ht,$)},useMemo:function(ht,$){var _e=Th();return $=$===void 0?null:$,ht=ht(),_e.memoizedState=[ht,$],ht},useReducer:function(ht,$,_e){var vt=Th();return $=_e!==void 0?_e($):$,vt.memoizedState=vt.baseState=$,ht={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ht,lastRenderedState:$},vt.queue=ht,ht=ht.dispatch=xi.bind(null,M$3,ht),[vt.memoizedState,ht]},useRef:function(ht){var $=Th();return ht={current:ht},$.memoizedState=ht},useState:hi,useDebugValue:ri,useDeferredValue:function(ht){return Th().memoizedState=ht},useTransition:function(){var ht=hi(!1),$=ht[0];return ht=vi.bind(null,ht[1]),Th().memoizedState=ht,[$,ht]},useMutableSource:function(){},useSyncExternalStore:function(ht,$,_e){var vt=M$3,bt=Th();if(I$4){if(_e===void 0)throw Error(p$4(407));_e=_e()}else{if(_e=$(),Q===null)throw Error(p$4(349));Hh&30||di(vt,$,_e)}bt.memoizedState=_e;var xt={value:_e,getSnapshot:$};return bt.queue=xt,mi(ai.bind(null,vt,xt,ht),[ht]),vt.flags|=2048,bi(9,ci.bind(null,vt,xt,_e,$),void 0,null),_e},useId:function(){var ht=Th(),$=Q.identifierPrefix;if(I$4){var _e=sg,vt=rg;_e=(vt&~(1<<32-oc(vt)-1)).toString(32)+_e,$=":"+$+"R"+_e,_e=Kh++,0<_e&&($+="H"+_e.toString(32)),$+=":"}else _e=Lh++,$=":"+$+"r"+_e.toString(32)+":";return ht.memoizedState=$},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(ht){var $=Uh();return ui($,N$3.memoizedState,ht)},useTransition:function(){var ht=Wh(Vh)[0],$=Uh().memoizedState;return[ht,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(ht){var $=Uh();return N$3===null?$.memoizedState=ht:ui($,N$3.memoizedState,ht)},useTransition:function(){var ht=Xh(Vh)[0],$=Uh().memoizedState;return[ht,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(ht,$){if(ht&&ht.defaultProps){$=A$3({},$),ht=ht.defaultProps;for(var _e in ht)$[_e]===void 0&&($[_e]=ht[_e]);return $}return $}function Di(ht,$,_e,vt){$=ht.memoizedState,_e=_e(vt,$),_e=_e==null?$:A$3({},$,_e),ht.memoizedState=_e,ht.lanes===0&&(ht.updateQueue.baseState=_e)}var Ei={isMounted:function(ht){return(ht=ht._reactInternals)?Vb(ht)===ht:!1},enqueueSetState:function(ht,$,_e){ht=ht._reactInternals;var vt=R$1(),bt=yi(ht),xt=mh(vt,bt);xt.payload=$,_e!=null&&(xt.callback=_e),$=nh(ht,xt,bt),$!==null&&(gi($,ht,bt,vt),oh($,ht,bt))},enqueueReplaceState:function(ht,$,_e){ht=ht._reactInternals;var vt=R$1(),bt=yi(ht),xt=mh(vt,bt);xt.tag=1,xt.payload=$,_e!=null&&(xt.callback=_e),$=nh(ht,xt,bt),$!==null&&(gi($,ht,bt,vt),oh($,ht,bt))},enqueueForceUpdate:function(ht,$){ht=ht._reactInternals;var _e=R$1(),vt=yi(ht),bt=mh(_e,vt);bt.tag=2,$!=null&&(bt.callback=$),$=nh(ht,bt,vt),$!==null&&(gi($,ht,vt,_e),oh($,ht,vt))}};function Fi(ht,$,_e,vt,bt,xt,Et){return ht=ht.stateNode,typeof ht.shouldComponentUpdate=="function"?ht.shouldComponentUpdate(vt,xt,Et):$.prototype&&$.prototype.isPureReactComponent?!Ie(_e,vt)||!Ie(bt,xt):!0}function Gi(ht,$,_e){var vt=!1,bt=Vf,xt=$.contextType;return typeof xt=="object"&&xt!==null?xt=eh(xt):(bt=Zf($)?Xf:H$2.current,vt=$.contextTypes,xt=(vt=vt!=null)?Yf(ht,bt):Vf),$=new $(_e,xt),ht.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=Ei,ht.stateNode=$,$._reactInternals=ht,vt&&(ht=ht.stateNode,ht.__reactInternalMemoizedUnmaskedChildContext=bt,ht.__reactInternalMemoizedMaskedChildContext=xt),$}function Hi(ht,$,_e,vt){ht=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(_e,vt),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(_e,vt),$.state!==ht&&Ei.enqueueReplaceState($,$.state,null)}function Ii(ht,$,_e,vt){var bt=ht.stateNode;bt.props=_e,bt.state=ht.memoizedState,bt.refs={},kh(ht);var xt=$.contextType;typeof xt=="object"&&xt!==null?bt.context=eh(xt):(xt=Zf($)?Xf:H$2.current,bt.context=Yf(ht,xt)),bt.state=ht.memoizedState,xt=$.getDerivedStateFromProps,typeof xt=="function"&&(Di(ht,$,xt,_e),bt.state=ht.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof bt.getSnapshotBeforeUpdate=="function"||typeof bt.UNSAFE_componentWillMount!="function"&&typeof bt.componentWillMount!="function"||($=bt.state,typeof bt.componentWillMount=="function"&&bt.componentWillMount(),typeof bt.UNSAFE_componentWillMount=="function"&&bt.UNSAFE_componentWillMount(),$!==bt.state&&Ei.enqueueReplaceState(bt,bt.state,null),qh(ht,_e,bt,vt),bt.state=ht.memoizedState),typeof bt.componentDidMount=="function"&&(ht.flags|=4194308)}function Ji(ht,$){try{var _e="",vt=$;do _e+=Pa(vt),vt=vt.return;while(vt);var bt=_e}catch(xt){bt=`
Error generating stack: `+xt.message+`
`+xt.stack}return{value:ht,source:$,stack:bt,digest:null}}function Ki(ht,$,_e){return{value:ht,source:null,stack:_e??null,digest:$??null}}function Li(ht,$){try{console.error($.value)}catch(_e){setTimeout(function(){throw _e})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(ht,$,_e){_e=mh(-1,_e),_e.tag=3,_e.payload={element:null};var vt=$.value;return _e.callback=function(){Oi||(Oi=!0,Pi=vt),Li(ht,$)},_e}function Qi(ht,$,_e){_e=mh(-1,_e),_e.tag=3;var vt=ht.type.getDerivedStateFromError;if(typeof vt=="function"){var bt=$.value;_e.payload=function(){return vt(bt)},_e.callback=function(){Li(ht,$)}}var xt=ht.stateNode;return xt!==null&&typeof xt.componentDidCatch=="function"&&(_e.callback=function(){Li(ht,$),typeof vt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var Et=$.stack;this.componentDidCatch($.value,{componentStack:Et!==null?Et:""})}),_e}function Si(ht,$,_e){var vt=ht.pingCache;if(vt===null){vt=ht.pingCache=new Mi;var bt=new Set;vt.set($,bt)}else bt=vt.get($),bt===void 0&&(bt=new Set,vt.set($,bt));bt.has(_e)||(bt.add(_e),ht=Ti.bind(null,ht,$,_e),$.then(ht,ht))}function Ui(ht){do{var $;if(($=ht.tag===13)&&($=ht.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return ht;ht=ht.return}while(ht!==null);return null}function Vi(ht,$,_e,vt,bt){return ht.mode&1?(ht.flags|=65536,ht.lanes=bt,ht):(ht===$?ht.flags|=65536:(ht.flags|=128,_e.flags|=131072,_e.flags&=-52805,_e.tag===1&&(_e.alternate===null?_e.tag=17:($=mh(-1,1),$.tag=2,nh(_e,$,1))),_e.lanes|=1),ht)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(ht,$,_e,vt){$.child=ht===null?Vg($,null,_e,vt):Ug($,ht.child,_e,vt)}function Yi(ht,$,_e,vt,bt){_e=_e.render;var xt=$.ref;return ch($,bt),vt=Nh(ht,$,_e,vt,xt,bt),_e=Sh(),ht!==null&&!dh?($.updateQueue=ht.updateQueue,$.flags&=-2053,ht.lanes&=~bt,Zi(ht,$,bt)):(I$4&&_e&&vg($),$.flags|=1,Xi(ht,$,vt,bt),$.child)}function $i(ht,$,_e,vt,bt){if(ht===null){var xt=_e.type;return typeof xt=="function"&&!aj(xt)&&xt.defaultProps===void 0&&_e.compare===null&&_e.defaultProps===void 0?($.tag=15,$.type=xt,bj(ht,$,xt,vt,bt)):(ht=Rg(_e.type,null,vt,$,$.mode,bt),ht.ref=$.ref,ht.return=$,$.child=ht)}if(xt=ht.child,!(ht.lanes&bt)){var Et=xt.memoizedProps;if(_e=_e.compare,_e=_e!==null?_e:Ie,_e(Et,vt)&&ht.ref===$.ref)return Zi(ht,$,bt)}return $.flags|=1,ht=Pg(xt,vt),ht.ref=$.ref,ht.return=$,$.child=ht}function bj(ht,$,_e,vt,bt){if(ht!==null){var xt=ht.memoizedProps;if(Ie(xt,vt)&&ht.ref===$.ref)if(dh=!1,$.pendingProps=vt=xt,(ht.lanes&bt)!==0)ht.flags&131072&&(dh=!0);else return $.lanes=ht.lanes,Zi(ht,$,bt)}return cj(ht,$,_e,vt,bt)}function dj(ht,$,_e){var vt=$.pendingProps,bt=vt.children,xt=ht!==null?ht.memoizedState:null;if(vt.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=_e;else{if(!(_e&1073741824))return ht=xt!==null?xt.baseLanes|_e:_e,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:ht,cachePool:null,transitions:null},$.updateQueue=null,G$2(ej,fj),fj|=ht,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt=xt!==null?xt.baseLanes:_e,G$2(ej,fj),fj|=vt}else xt!==null?(vt=xt.baseLanes|_e,$.memoizedState=null):vt=_e,G$2(ej,fj),fj|=vt;return Xi(ht,$,bt,_e),$.child}function gj(ht,$){var _e=$.ref;(ht===null&&_e!==null||ht!==null&&ht.ref!==_e)&&($.flags|=512,$.flags|=2097152)}function cj(ht,$,_e,vt,bt){var xt=Zf(_e)?Xf:H$2.current;return xt=Yf($,xt),ch($,bt),_e=Nh(ht,$,_e,vt,xt,bt),vt=Sh(),ht!==null&&!dh?($.updateQueue=ht.updateQueue,$.flags&=-2053,ht.lanes&=~bt,Zi(ht,$,bt)):(I$4&&vt&&vg($),$.flags|=1,Xi(ht,$,_e,bt),$.child)}function hj(ht,$,_e,vt,bt){if(Zf(_e)){var xt=!0;cg($)}else xt=!1;if(ch($,bt),$.stateNode===null)ij(ht,$),Gi($,_e,vt),Ii($,_e,vt,bt),vt=!0;else if(ht===null){var Et=$.stateNode,At=$.memoizedProps;Et.props=At;var wt=Et.context,Ct=_e.contextType;typeof Ct=="object"&&Ct!==null?Ct=eh(Ct):(Ct=Zf(_e)?Xf:H$2.current,Ct=Yf($,Ct));var St=_e.getDerivedStateFromProps,Rt=typeof St=="function"||typeof Et.getSnapshotBeforeUpdate=="function";Rt||typeof Et.UNSAFE_componentWillReceiveProps!="function"&&typeof Et.componentWillReceiveProps!="function"||(At!==vt||wt!==Ct)&&Hi($,Et,vt,Ct),jh=!1;var Pt=$.memoizedState;Et.state=Pt,qh($,vt,Et,bt),wt=$.memoizedState,At!==vt||Pt!==wt||Wf.current||jh?(typeof St=="function"&&(Di($,_e,St,vt),wt=$.memoizedState),(At=jh||Fi($,_e,At,vt,Pt,wt,Ct))?(Rt||typeof Et.UNSAFE_componentWillMount!="function"&&typeof Et.componentWillMount!="function"||(typeof Et.componentWillMount=="function"&&Et.componentWillMount(),typeof Et.UNSAFE_componentWillMount=="function"&&Et.UNSAFE_componentWillMount()),typeof Et.componentDidMount=="function"&&($.flags|=4194308)):(typeof Et.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=vt,$.memoizedState=wt),Et.props=vt,Et.state=wt,Et.context=Ct,vt=At):(typeof Et.componentDidMount=="function"&&($.flags|=4194308),vt=!1)}else{Et=$.stateNode,lh(ht,$),At=$.memoizedProps,Ct=$.type===$.elementType?At:Ci($.type,At),Et.props=Ct,Rt=$.pendingProps,Pt=Et.context,wt=_e.contextType,typeof wt=="object"&&wt!==null?wt=eh(wt):(wt=Zf(_e)?Xf:H$2.current,wt=Yf($,wt));var kt=_e.getDerivedStateFromProps;(St=typeof kt=="function"||typeof Et.getSnapshotBeforeUpdate=="function")||typeof Et.UNSAFE_componentWillReceiveProps!="function"&&typeof Et.componentWillReceiveProps!="function"||(At!==Rt||Pt!==wt)&&Hi($,Et,vt,wt),jh=!1,Pt=$.memoizedState,Et.state=Pt,qh($,vt,Et,bt);var Mt=$.memoizedState;At!==Rt||Pt!==Mt||Wf.current||jh?(typeof kt=="function"&&(Di($,_e,kt,vt),Mt=$.memoizedState),(Ct=jh||Fi($,_e,Ct,vt,Pt,Mt,wt)||!1)?(St||typeof Et.UNSAFE_componentWillUpdate!="function"&&typeof Et.componentWillUpdate!="function"||(typeof Et.componentWillUpdate=="function"&&Et.componentWillUpdate(vt,Mt,wt),typeof Et.UNSAFE_componentWillUpdate=="function"&&Et.UNSAFE_componentWillUpdate(vt,Mt,wt)),typeof Et.componentDidUpdate=="function"&&($.flags|=4),typeof Et.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof Et.componentDidUpdate!="function"||At===ht.memoizedProps&&Pt===ht.memoizedState||($.flags|=4),typeof Et.getSnapshotBeforeUpdate!="function"||At===ht.memoizedProps&&Pt===ht.memoizedState||($.flags|=1024),$.memoizedProps=vt,$.memoizedState=Mt),Et.props=vt,Et.state=Mt,Et.context=wt,vt=Ct):(typeof Et.componentDidUpdate!="function"||At===ht.memoizedProps&&Pt===ht.memoizedState||($.flags|=4),typeof Et.getSnapshotBeforeUpdate!="function"||At===ht.memoizedProps&&Pt===ht.memoizedState||($.flags|=1024),vt=!1)}return jj(ht,$,_e,vt,xt,bt)}function jj(ht,$,_e,vt,bt,xt){gj(ht,$);var Et=($.flags&128)!==0;if(!vt&&!Et)return bt&&dg($,_e,!1),Zi(ht,$,xt);vt=$.stateNode,Wi.current=$;var At=Et&&typeof _e.getDerivedStateFromError!="function"?null:vt.render();return $.flags|=1,ht!==null&&Et?($.child=Ug($,ht.child,null,xt),$.child=Ug($,null,At,xt)):Xi(ht,$,At,xt),$.memoizedState=vt.state,bt&&dg($,_e,!0),$.child}function kj(ht){var $=ht.stateNode;$.pendingContext?ag(ht,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(ht,$.context,!1),yh(ht,$.containerInfo)}function lj(ht,$,_e,vt,bt){return Ig(),Jg(bt),$.flags|=256,Xi(ht,$,_e,vt),$.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(ht){return{baseLanes:ht,cachePool:null,transitions:null}}function oj(ht,$,_e){var vt=$.pendingProps,bt=L$1.current,xt=!1,Et=($.flags&128)!==0,At;if((At=Et)||(At=ht!==null&&ht.memoizedState===null?!1:(bt&2)!==0),At?(xt=!0,$.flags&=-129):(ht===null||ht.memoizedState!==null)&&(bt|=1),G$2(L$1,bt&1),ht===null)return Eg($),ht=$.memoizedState,ht!==null&&(ht=ht.dehydrated,ht!==null)?($.mode&1?ht.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(Et=vt.children,ht=vt.fallback,xt?(vt=$.mode,xt=$.child,Et={mode:"hidden",children:Et},!(vt&1)&&xt!==null?(xt.childLanes=0,xt.pendingProps=Et):xt=pj(Et,vt,0,null),ht=Tg(ht,vt,_e,null),xt.return=$,ht.return=$,xt.sibling=ht,$.child=xt,$.child.memoizedState=nj(_e),$.memoizedState=mj,ht):qj($,Et));if(bt=ht.memoizedState,bt!==null&&(At=bt.dehydrated,At!==null))return rj(ht,$,Et,vt,At,bt,_e);if(xt){xt=vt.fallback,Et=$.mode,bt=ht.child,At=bt.sibling;var wt={mode:"hidden",children:vt.children};return!(Et&1)&&$.child!==bt?(vt=$.child,vt.childLanes=0,vt.pendingProps=wt,$.deletions=null):(vt=Pg(bt,wt),vt.subtreeFlags=bt.subtreeFlags&14680064),At!==null?xt=Pg(At,xt):(xt=Tg(xt,Et,_e,null),xt.flags|=2),xt.return=$,vt.return=$,vt.sibling=xt,$.child=vt,vt=xt,xt=$.child,Et=ht.child.memoizedState,Et=Et===null?nj(_e):{baseLanes:Et.baseLanes|_e,cachePool:null,transitions:Et.transitions},xt.memoizedState=Et,xt.childLanes=ht.childLanes&~_e,$.memoizedState=mj,vt}return xt=ht.child,ht=xt.sibling,vt=Pg(xt,{mode:"visible",children:vt.children}),!($.mode&1)&&(vt.lanes=_e),vt.return=$,vt.sibling=null,ht!==null&&(_e=$.deletions,_e===null?($.deletions=[ht],$.flags|=16):_e.push(ht)),$.child=vt,$.memoizedState=null,vt}function qj(ht,$){return $=pj({mode:"visible",children:$},ht.mode,0,null),$.return=ht,ht.child=$}function sj(ht,$,_e,vt){return vt!==null&&Jg(vt),Ug($,ht.child,null,_e),ht=qj($,$.pendingProps.children),ht.flags|=2,$.memoizedState=null,ht}function rj(ht,$,_e,vt,bt,xt,Et){if(_e)return $.flags&256?($.flags&=-257,vt=Ki(Error(p$4(422))),sj(ht,$,Et,vt)):$.memoizedState!==null?($.child=ht.child,$.flags|=128,null):(xt=vt.fallback,bt=$.mode,vt=pj({mode:"visible",children:vt.children},bt,0,null),xt=Tg(xt,bt,Et,null),xt.flags|=2,vt.return=$,xt.return=$,vt.sibling=xt,$.child=vt,$.mode&1&&Ug($,ht.child,null,Et),$.child.memoizedState=nj(Et),$.memoizedState=mj,xt);if(!($.mode&1))return sj(ht,$,Et,null);if(bt.data==="$!"){if(vt=bt.nextSibling&&bt.nextSibling.dataset,vt)var At=vt.dgst;return vt=At,xt=Error(p$4(419)),vt=Ki(xt,vt,void 0),sj(ht,$,Et,vt)}if(At=(Et&ht.childLanes)!==0,dh||At){if(vt=Q,vt!==null){switch(Et&-Et){case 4:bt=2;break;case 16:bt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:bt=32;break;case 536870912:bt=268435456;break;default:bt=0}bt=bt&(vt.suspendedLanes|Et)?0:bt,bt!==0&&bt!==xt.retryLane&&(xt.retryLane=bt,ih(ht,bt),gi(vt,ht,bt,-1))}return tj(),vt=Ki(Error(p$4(421))),sj(ht,$,Et,vt)}return bt.data==="$?"?($.flags|=128,$.child=ht.child,$=uj.bind(null,ht),bt._reactRetry=$,null):(ht=xt.treeContext,yg=Lf(bt.nextSibling),xg=$,I$4=!0,zg=null,ht!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=ht.id,sg=ht.overflow,qg=$),$=qj($,vt.children),$.flags|=4096,$)}function vj(ht,$,_e){ht.lanes|=$;var vt=ht.alternate;vt!==null&&(vt.lanes|=$),bh(ht.return,$,_e)}function wj(ht,$,_e,vt,bt){var xt=ht.memoizedState;xt===null?ht.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:vt,tail:_e,tailMode:bt}:(xt.isBackwards=$,xt.rendering=null,xt.renderingStartTime=0,xt.last=vt,xt.tail=_e,xt.tailMode=bt)}function xj(ht,$,_e){var vt=$.pendingProps,bt=vt.revealOrder,xt=vt.tail;if(Xi(ht,$,vt.children,_e),vt=L$1.current,vt&2)vt=vt&1|2,$.flags|=128;else{if(ht!==null&&ht.flags&128)e:for(ht=$.child;ht!==null;){if(ht.tag===13)ht.memoizedState!==null&&vj(ht,_e,$);else if(ht.tag===19)vj(ht,_e,$);else if(ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===$)break e;for(;ht.sibling===null;){if(ht.return===null||ht.return===$)break e;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}vt&=1}if(G$2(L$1,vt),!($.mode&1))$.memoizedState=null;else switch(bt){case"forwards":for(_e=$.child,bt=null;_e!==null;)ht=_e.alternate,ht!==null&&Ch(ht)===null&&(bt=_e),_e=_e.sibling;_e=bt,_e===null?(bt=$.child,$.child=null):(bt=_e.sibling,_e.sibling=null),wj($,!1,bt,_e,xt);break;case"backwards":for(_e=null,bt=$.child,$.child=null;bt!==null;){if(ht=bt.alternate,ht!==null&&Ch(ht)===null){$.child=bt;break}ht=bt.sibling,bt.sibling=_e,_e=bt,bt=ht}wj($,!0,_e,null,xt);break;case"together":wj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function ij(ht,$){!($.mode&1)&&ht!==null&&(ht.alternate=null,$.alternate=null,$.flags|=2)}function Zi(ht,$,_e){if(ht!==null&&($.dependencies=ht.dependencies),rh|=$.lanes,!(_e&$.childLanes))return null;if(ht!==null&&$.child!==ht.child)throw Error(p$4(153));if($.child!==null){for(ht=$.child,_e=Pg(ht,ht.pendingProps),$.child=_e,_e.return=$;ht.sibling!==null;)ht=ht.sibling,_e=_e.sibling=Pg(ht,ht.pendingProps),_e.return=$;_e.sibling=null}return $.child}function yj(ht,$,_e){switch($.tag){case 3:kj($),Ig();break;case 5:Ah($);break;case 1:Zf($.type)&&cg($);break;case 4:yh($,$.stateNode.containerInfo);break;case 10:var vt=$.type._context,bt=$.memoizedProps.value;G$2(Wg,vt._currentValue),vt._currentValue=bt;break;case 13:if(vt=$.memoizedState,vt!==null)return vt.dehydrated!==null?(G$2(L$1,L$1.current&1),$.flags|=128,null):_e&$.child.childLanes?oj(ht,$,_e):(G$2(L$1,L$1.current&1),ht=Zi(ht,$,_e),ht!==null?ht.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(vt=(_e&$.childLanes)!==0,ht.flags&128){if(vt)return xj(ht,$,_e);$.flags|=128}if(bt=$.memoizedState,bt!==null&&(bt.rendering=null,bt.tail=null,bt.lastEffect=null),G$2(L$1,L$1.current),vt)break;return null;case 22:case 23:return $.lanes=0,dj(ht,$,_e)}return Zi(ht,$,_e)}var zj,Aj,Bj,Cj;zj=function(ht,$){for(var _e=$.child;_e!==null;){if(_e.tag===5||_e.tag===6)ht.appendChild(_e.stateNode);else if(_e.tag!==4&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}};Aj=function(){};Bj=function(ht,$,_e,vt){var bt=ht.memoizedProps;if(bt!==vt){ht=$.stateNode,xh(uh.current);var xt=null;switch(_e){case"input":bt=Ya(ht,bt),vt=Ya(ht,vt),xt=[];break;case"select":bt=A$3({},bt,{value:void 0}),vt=A$3({},vt,{value:void 0}),xt=[];break;case"textarea":bt=gb(ht,bt),vt=gb(ht,vt),xt=[];break;default:typeof bt.onClick!="function"&&typeof vt.onClick=="function"&&(ht.onclick=Bf)}ub(_e,vt);var Et;_e=null;for(Ct in bt)if(!vt.hasOwnProperty(Ct)&&bt.hasOwnProperty(Ct)&&bt[Ct]!=null)if(Ct==="style"){var At=bt[Ct];for(Et in At)At.hasOwnProperty(Et)&&(_e||(_e={}),_e[Et]="")}else Ct!=="dangerouslySetInnerHTML"&&Ct!=="children"&&Ct!=="suppressContentEditableWarning"&&Ct!=="suppressHydrationWarning"&&Ct!=="autoFocus"&&(ea.hasOwnProperty(Ct)?xt||(xt=[]):(xt=xt||[]).push(Ct,null));for(Ct in vt){var wt=vt[Ct];if(At=bt!=null?bt[Ct]:void 0,vt.hasOwnProperty(Ct)&&wt!==At&&(wt!=null||At!=null))if(Ct==="style")if(At){for(Et in At)!At.hasOwnProperty(Et)||wt&&wt.hasOwnProperty(Et)||(_e||(_e={}),_e[Et]="");for(Et in wt)wt.hasOwnProperty(Et)&&At[Et]!==wt[Et]&&(_e||(_e={}),_e[Et]=wt[Et])}else _e||(xt||(xt=[]),xt.push(Ct,_e)),_e=wt;else Ct==="dangerouslySetInnerHTML"?(wt=wt?wt.__html:void 0,At=At?At.__html:void 0,wt!=null&&At!==wt&&(xt=xt||[]).push(Ct,wt)):Ct==="children"?typeof wt!="string"&&typeof wt!="number"||(xt=xt||[]).push(Ct,""+wt):Ct!=="suppressContentEditableWarning"&&Ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Ct)?(wt!=null&&Ct==="onScroll"&&D$4("scroll",ht),xt||At===wt||(xt=[])):(xt=xt||[]).push(Ct,wt))}_e&&(xt=xt||[]).push("style",_e);var Ct=xt;($.updateQueue=Ct)&&($.flags|=4)}};Cj=function(ht,$,_e,vt){_e!==vt&&($.flags|=4)};function Dj(ht,$){if(!I$4)switch(ht.tailMode){case"hidden":$=ht.tail;for(var _e=null;$!==null;)$.alternate!==null&&(_e=$),$=$.sibling;_e===null?ht.tail=null:_e.sibling=null;break;case"collapsed":_e=ht.tail;for(var vt=null;_e!==null;)_e.alternate!==null&&(vt=_e),_e=_e.sibling;vt===null?$||ht.tail===null?ht.tail=null:ht.tail.sibling=null:vt.sibling=null}}function S$4(ht){var $=ht.alternate!==null&&ht.alternate.child===ht.child,_e=0,vt=0;if($)for(var bt=ht.child;bt!==null;)_e|=bt.lanes|bt.childLanes,vt|=bt.subtreeFlags&14680064,vt|=bt.flags&14680064,bt.return=ht,bt=bt.sibling;else for(bt=ht.child;bt!==null;)_e|=bt.lanes|bt.childLanes,vt|=bt.subtreeFlags,vt|=bt.flags,bt.return=ht,bt=bt.sibling;return ht.subtreeFlags|=vt,ht.childLanes=_e,$}function Ej(ht,$,_e){var vt=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4($),null;case 1:return Zf($.type)&&$f(),S$4($),null;case 3:return vt=$.stateNode,zh(),E$1(Wf),E$1(H$2),Eh(),vt.pendingContext&&(vt.context=vt.pendingContext,vt.pendingContext=null),(ht===null||ht.child===null)&&(Gg($)?$.flags|=4:ht===null||ht.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(ht,$),S$4($),null;case 5:Bh($);var bt=xh(wh.current);if(_e=$.type,ht!==null&&$.stateNode!=null)Bj(ht,$,_e,vt,bt),ht.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!vt){if($.stateNode===null)throw Error(p$4(166));return S$4($),null}if(ht=xh(uh.current),Gg($)){vt=$.stateNode,_e=$.type;var xt=$.memoizedProps;switch(vt[Of]=$,vt[Pf]=xt,ht=($.mode&1)!==0,_e){case"dialog":D$4("cancel",vt),D$4("close",vt);break;case"iframe":case"object":case"embed":D$4("load",vt);break;case"video":case"audio":for(bt=0;bt<lf.length;bt++)D$4(lf[bt],vt);break;case"source":D$4("error",vt);break;case"img":case"image":case"link":D$4("error",vt),D$4("load",vt);break;case"details":D$4("toggle",vt);break;case"input":Za(vt,xt),D$4("invalid",vt);break;case"select":vt._wrapperState={wasMultiple:!!xt.multiple},D$4("invalid",vt);break;case"textarea":hb(vt,xt),D$4("invalid",vt)}ub(_e,xt),bt=null;for(var Et in xt)if(xt.hasOwnProperty(Et)){var At=xt[Et];Et==="children"?typeof At=="string"?vt.textContent!==At&&(xt.suppressHydrationWarning!==!0&&Af(vt.textContent,At,ht),bt=["children",At]):typeof At=="number"&&vt.textContent!==""+At&&(xt.suppressHydrationWarning!==!0&&Af(vt.textContent,At,ht),bt=["children",""+At]):ea.hasOwnProperty(Et)&&At!=null&&Et==="onScroll"&&D$4("scroll",vt)}switch(_e){case"input":Va(vt),db(vt,xt,!0);break;case"textarea":Va(vt),jb(vt);break;case"select":case"option":break;default:typeof xt.onClick=="function"&&(vt.onclick=Bf)}vt=bt,$.updateQueue=vt,vt!==null&&($.flags|=4)}else{Et=bt.nodeType===9?bt:bt.ownerDocument,ht==="http://www.w3.org/1999/xhtml"&&(ht=kb(_e)),ht==="http://www.w3.org/1999/xhtml"?_e==="script"?(ht=Et.createElement("div"),ht.innerHTML="<script><\/script>",ht=ht.removeChild(ht.firstChild)):typeof vt.is=="string"?ht=Et.createElement(_e,{is:vt.is}):(ht=Et.createElement(_e),_e==="select"&&(Et=ht,vt.multiple?Et.multiple=!0:vt.size&&(Et.size=vt.size))):ht=Et.createElementNS(ht,_e),ht[Of]=$,ht[Pf]=vt,zj(ht,$,!1,!1),$.stateNode=ht;e:{switch(Et=vb(_e,vt),_e){case"dialog":D$4("cancel",ht),D$4("close",ht),bt=vt;break;case"iframe":case"object":case"embed":D$4("load",ht),bt=vt;break;case"video":case"audio":for(bt=0;bt<lf.length;bt++)D$4(lf[bt],ht);bt=vt;break;case"source":D$4("error",ht),bt=vt;break;case"img":case"image":case"link":D$4("error",ht),D$4("load",ht),bt=vt;break;case"details":D$4("toggle",ht),bt=vt;break;case"input":Za(ht,vt),bt=Ya(ht,vt),D$4("invalid",ht);break;case"option":bt=vt;break;case"select":ht._wrapperState={wasMultiple:!!vt.multiple},bt=A$3({},vt,{value:void 0}),D$4("invalid",ht);break;case"textarea":hb(ht,vt),bt=gb(ht,vt),D$4("invalid",ht);break;default:bt=vt}ub(_e,bt),At=bt;for(xt in At)if(At.hasOwnProperty(xt)){var wt=At[xt];xt==="style"?sb(ht,wt):xt==="dangerouslySetInnerHTML"?(wt=wt?wt.__html:void 0,wt!=null&&nb(ht,wt)):xt==="children"?typeof wt=="string"?(_e!=="textarea"||wt!=="")&&ob(ht,wt):typeof wt=="number"&&ob(ht,""+wt):xt!=="suppressContentEditableWarning"&&xt!=="suppressHydrationWarning"&&xt!=="autoFocus"&&(ea.hasOwnProperty(xt)?wt!=null&&xt==="onScroll"&&D$4("scroll",ht):wt!=null&&ta(ht,xt,wt,Et))}switch(_e){case"input":Va(ht),db(ht,vt,!1);break;case"textarea":Va(ht),jb(ht);break;case"option":vt.value!=null&&ht.setAttribute("value",""+Sa(vt.value));break;case"select":ht.multiple=!!vt.multiple,xt=vt.value,xt!=null?fb(ht,!!vt.multiple,xt,!1):vt.defaultValue!=null&&fb(ht,!!vt.multiple,vt.defaultValue,!0);break;default:typeof bt.onClick=="function"&&(ht.onclick=Bf)}switch(_e){case"button":case"input":case"select":case"textarea":vt=!!vt.autoFocus;break e;case"img":vt=!0;break e;default:vt=!1}}vt&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$4($),null;case 6:if(ht&&$.stateNode!=null)Cj(ht,$,ht.memoizedProps,vt);else{if(typeof vt!="string"&&$.stateNode===null)throw Error(p$4(166));if(_e=xh(wh.current),xh(uh.current),Gg($)){if(vt=$.stateNode,_e=$.memoizedProps,vt[Of]=$,(xt=vt.nodeValue!==_e)&&(ht=xg,ht!==null))switch(ht.tag){case 3:Af(vt.nodeValue,_e,(ht.mode&1)!==0);break;case 5:ht.memoizedProps.suppressHydrationWarning!==!0&&Af(vt.nodeValue,_e,(ht.mode&1)!==0)}xt&&($.flags|=4)}else vt=(_e.nodeType===9?_e:_e.ownerDocument).createTextNode(vt),vt[Of]=$,$.stateNode=vt}return S$4($),null;case 13:if(E$1(L$1),vt=$.memoizedState,ht===null||ht.memoizedState!==null&&ht.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,xt=!1;else if(xt=Gg($),vt!==null&&vt.dehydrated!==null){if(ht===null){if(!xt)throw Error(p$4(318));if(xt=$.memoizedState,xt=xt!==null?xt.dehydrated:null,!xt)throw Error(p$4(317));xt[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S$4($),xt=!1}else zg!==null&&(Fj(zg),zg=null),xt=!0;if(!xt)return $.flags&65536?$:null}return $.flags&128?($.lanes=_e,$):(vt=vt!==null,vt!==(ht!==null&&ht.memoizedState!==null)&&vt&&($.child.flags|=8192,$.mode&1&&(ht===null||L$1.current&1?T$3===0&&(T$3=3):tj())),$.updateQueue!==null&&($.flags|=4),S$4($),null);case 4:return zh(),Aj(ht,$),ht===null&&sf($.stateNode.containerInfo),S$4($),null;case 10:return ah($.type._context),S$4($),null;case 17:return Zf($.type)&&$f(),S$4($),null;case 19:if(E$1(L$1),xt=$.memoizedState,xt===null)return S$4($),null;if(vt=($.flags&128)!==0,Et=xt.rendering,Et===null)if(vt)Dj(xt,!1);else{if(T$3!==0||ht!==null&&ht.flags&128)for(ht=$.child;ht!==null;){if(Et=Ch(ht),Et!==null){for($.flags|=128,Dj(xt,!1),vt=Et.updateQueue,vt!==null&&($.updateQueue=vt,$.flags|=4),$.subtreeFlags=0,vt=_e,_e=$.child;_e!==null;)xt=_e,ht=vt,xt.flags&=14680066,Et=xt.alternate,Et===null?(xt.childLanes=0,xt.lanes=ht,xt.child=null,xt.subtreeFlags=0,xt.memoizedProps=null,xt.memoizedState=null,xt.updateQueue=null,xt.dependencies=null,xt.stateNode=null):(xt.childLanes=Et.childLanes,xt.lanes=Et.lanes,xt.child=Et.child,xt.subtreeFlags=0,xt.deletions=null,xt.memoizedProps=Et.memoizedProps,xt.memoizedState=Et.memoizedState,xt.updateQueue=Et.updateQueue,xt.type=Et.type,ht=Et.dependencies,xt.dependencies=ht===null?null:{lanes:ht.lanes,firstContext:ht.firstContext}),_e=_e.sibling;return G$2(L$1,L$1.current&1|2),$.child}ht=ht.sibling}xt.tail!==null&&B$1()>Gj&&($.flags|=128,vt=!0,Dj(xt,!1),$.lanes=4194304)}else{if(!vt)if(ht=Ch(Et),ht!==null){if($.flags|=128,vt=!0,_e=ht.updateQueue,_e!==null&&($.updateQueue=_e,$.flags|=4),Dj(xt,!0),xt.tail===null&&xt.tailMode==="hidden"&&!Et.alternate&&!I$4)return S$4($),null}else 2*B$1()-xt.renderingStartTime>Gj&&_e!==1073741824&&($.flags|=128,vt=!0,Dj(xt,!1),$.lanes=4194304);xt.isBackwards?(Et.sibling=$.child,$.child=Et):(_e=xt.last,_e!==null?_e.sibling=Et:$.child=Et,xt.last=Et)}return xt.tail!==null?($=xt.tail,xt.rendering=$,xt.tail=$.sibling,xt.renderingStartTime=B$1(),$.sibling=null,_e=L$1.current,G$2(L$1,vt?_e&1|2:_e&1),$):(S$4($),null);case 22:case 23:return Hj(),vt=$.memoizedState!==null,ht!==null&&ht.memoizedState!==null!==vt&&($.flags|=8192),vt&&$.mode&1?fj&1073741824&&(S$4($),$.subtreeFlags&6&&($.flags|=8192)):S$4($),null;case 24:return null;case 25:return null}throw Error(p$4(156,$.tag))}function Ij(ht,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),ht=$.flags,ht&65536?($.flags=ht&-65537|128,$):null;case 3:return zh(),E$1(Wf),E$1(H$2),Eh(),ht=$.flags,ht&65536&&!(ht&128)?($.flags=ht&-65537|128,$):null;case 5:return Bh($),null;case 13:if(E$1(L$1),ht=$.memoizedState,ht!==null&&ht.dehydrated!==null){if($.alternate===null)throw Error(p$4(340));Ig()}return ht=$.flags,ht&65536?($.flags=ht&-65537|128,$):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah($.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$2=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(ht,$){var _e=ht.ref;if(_e!==null)if(typeof _e=="function")try{_e(null)}catch(vt){W$2(ht,$,vt)}else _e.current=null}function Mj(ht,$,_e){try{_e()}catch(vt){W$2(ht,$,vt)}}var Nj=!1;function Oj(ht,$){if(Cf=dd,ht=Me(),Ne(ht)){if("selectionStart"in ht)var _e={start:ht.selectionStart,end:ht.selectionEnd};else e:{_e=(_e=ht.ownerDocument)&&_e.defaultView||window;var vt=_e.getSelection&&_e.getSelection();if(vt&&vt.rangeCount!==0){_e=vt.anchorNode;var bt=vt.anchorOffset,xt=vt.focusNode;vt=vt.focusOffset;try{_e.nodeType,xt.nodeType}catch{_e=null;break e}var Et=0,At=-1,wt=-1,Ct=0,St=0,Rt=ht,Pt=null;t:for(;;){for(var kt;Rt!==_e||bt!==0&&Rt.nodeType!==3||(At=Et+bt),Rt!==xt||vt!==0&&Rt.nodeType!==3||(wt=Et+vt),Rt.nodeType===3&&(Et+=Rt.nodeValue.length),(kt=Rt.firstChild)!==null;)Pt=Rt,Rt=kt;for(;;){if(Rt===ht)break t;if(Pt===_e&&++Ct===bt&&(At=Et),Pt===xt&&++St===vt&&(wt=Et),(kt=Rt.nextSibling)!==null)break;Rt=Pt,Pt=Rt.parentNode}Rt=kt}_e=At===-1||wt===-1?null:{start:At,end:wt}}else _e=null}_e=_e||{start:0,end:0}}else _e=null;for(Df={focusedElem:ht,selectionRange:_e},dd=!1,V$1=$;V$1!==null;)if($=V$1,ht=$.child,($.subtreeFlags&1028)!==0&&ht!==null)ht.return=$,V$1=ht;else for(;V$1!==null;){$=V$1;try{var Mt=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var Dt=Mt.memoizedProps,$t=Mt.memoizedState,Ft=$.stateNode,Lt=Ft.getSnapshotBeforeUpdate($.elementType===$.type?Dt:Ci($.type,Dt),$t);Ft.__reactInternalSnapshotBeforeUpdate=Lt}break;case 3:var Ot=$.stateNode.containerInfo;Ot.nodeType===1?Ot.textContent="":Ot.nodeType===9&&Ot.documentElement&&Ot.removeChild(Ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(Ht){W$2($,$.return,Ht)}if(ht=$.sibling,ht!==null){ht.return=$.return,V$1=ht;break}V$1=$.return}return Mt=Nj,Nj=!1,Mt}function Pj(ht,$,_e){var vt=$.updateQueue;if(vt=vt!==null?vt.lastEffect:null,vt!==null){var bt=vt=vt.next;do{if((bt.tag&ht)===ht){var xt=bt.destroy;bt.destroy=void 0,xt!==void 0&&Mj($,_e,xt)}bt=bt.next}while(bt!==vt)}}function Qj(ht,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var _e=$=$.next;do{if((_e.tag&ht)===ht){var vt=_e.create;_e.destroy=vt()}_e=_e.next}while(_e!==$)}}function Rj(ht){var $=ht.ref;if($!==null){var _e=ht.stateNode;switch(ht.tag){case 5:ht=_e;break;default:ht=_e}typeof $=="function"?$(ht):$.current=ht}}function Sj(ht){var $=ht.alternate;$!==null&&(ht.alternate=null,Sj($)),ht.child=null,ht.deletions=null,ht.sibling=null,ht.tag===5&&($=ht.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),ht.stateNode=null,ht.return=null,ht.dependencies=null,ht.memoizedProps=null,ht.memoizedState=null,ht.pendingProps=null,ht.stateNode=null,ht.updateQueue=null}function Tj(ht){return ht.tag===5||ht.tag===3||ht.tag===4}function Uj(ht){e:for(;;){for(;ht.sibling===null;){if(ht.return===null||Tj(ht.return))return null;ht=ht.return}for(ht.sibling.return=ht.return,ht=ht.sibling;ht.tag!==5&&ht.tag!==6&&ht.tag!==18;){if(ht.flags&2||ht.child===null||ht.tag===4)continue e;ht.child.return=ht,ht=ht.child}if(!(ht.flags&2))return ht.stateNode}}function Vj(ht,$,_e){var vt=ht.tag;if(vt===5||vt===6)ht=ht.stateNode,$?_e.nodeType===8?_e.parentNode.insertBefore(ht,$):_e.insertBefore(ht,$):(_e.nodeType===8?($=_e.parentNode,$.insertBefore(ht,_e)):($=_e,$.appendChild(ht)),_e=_e._reactRootContainer,_e!=null||$.onclick!==null||($.onclick=Bf));else if(vt!==4&&(ht=ht.child,ht!==null))for(Vj(ht,$,_e),ht=ht.sibling;ht!==null;)Vj(ht,$,_e),ht=ht.sibling}function Wj(ht,$,_e){var vt=ht.tag;if(vt===5||vt===6)ht=ht.stateNode,$?_e.insertBefore(ht,$):_e.appendChild(ht);else if(vt!==4&&(ht=ht.child,ht!==null))for(Wj(ht,$,_e),ht=ht.sibling;ht!==null;)Wj(ht,$,_e),ht=ht.sibling}var X=null,Xj=!1;function Yj(ht,$,_e){for(_e=_e.child;_e!==null;)Zj(ht,$,_e),_e=_e.sibling}function Zj(ht,$,_e){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,_e)}catch{}switch(_e.tag){case 5:U$2||Lj(_e,$);case 6:var vt=X,bt=Xj;X=null,Yj(ht,$,_e),X=vt,Xj=bt,X!==null&&(Xj?(ht=X,_e=_e.stateNode,ht.nodeType===8?ht.parentNode.removeChild(_e):ht.removeChild(_e)):X.removeChild(_e.stateNode));break;case 18:X!==null&&(Xj?(ht=X,_e=_e.stateNode,ht.nodeType===8?Kf(ht.parentNode,_e):ht.nodeType===1&&Kf(ht,_e),bd(ht)):Kf(X,_e.stateNode));break;case 4:vt=X,bt=Xj,X=_e.stateNode.containerInfo,Xj=!0,Yj(ht,$,_e),X=vt,Xj=bt;break;case 0:case 11:case 14:case 15:if(!U$2&&(vt=_e.updateQueue,vt!==null&&(vt=vt.lastEffect,vt!==null))){bt=vt=vt.next;do{var xt=bt,Et=xt.destroy;xt=xt.tag,Et!==void 0&&(xt&2||xt&4)&&Mj(_e,$,Et),bt=bt.next}while(bt!==vt)}Yj(ht,$,_e);break;case 1:if(!U$2&&(Lj(_e,$),vt=_e.stateNode,typeof vt.componentWillUnmount=="function"))try{vt.props=_e.memoizedProps,vt.state=_e.memoizedState,vt.componentWillUnmount()}catch(At){W$2(_e,$,At)}Yj(ht,$,_e);break;case 21:Yj(ht,$,_e);break;case 22:_e.mode&1?(U$2=(vt=U$2)||_e.memoizedState!==null,Yj(ht,$,_e),U$2=vt):Yj(ht,$,_e);break;default:Yj(ht,$,_e)}}function ak(ht){var $=ht.updateQueue;if($!==null){ht.updateQueue=null;var _e=ht.stateNode;_e===null&&(_e=ht.stateNode=new Kj),$.forEach(function(vt){var bt=bk.bind(null,ht,vt);_e.has(vt)||(_e.add(vt),vt.then(bt,bt))})}}function ck(ht,$){var _e=$.deletions;if(_e!==null)for(var vt=0;vt<_e.length;vt++){var bt=_e[vt];try{var xt=ht,Et=$,At=Et;e:for(;At!==null;){switch(At.tag){case 5:X=At.stateNode,Xj=!1;break e;case 3:X=At.stateNode.containerInfo,Xj=!0;break e;case 4:X=At.stateNode.containerInfo,Xj=!0;break e}At=At.return}if(X===null)throw Error(p$4(160));Zj(xt,Et,bt),X=null,Xj=!1;var wt=bt.alternate;wt!==null&&(wt.return=null),bt.return=null}catch(Ct){W$2(bt,$,Ct)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)dk($,ht),$=$.sibling}function dk(ht,$){var _e=ht.alternate,vt=ht.flags;switch(ht.tag){case 0:case 11:case 14:case 15:if(ck($,ht),ek(ht),vt&4){try{Pj(3,ht,ht.return),Qj(3,ht)}catch(Dt){W$2(ht,ht.return,Dt)}try{Pj(5,ht,ht.return)}catch(Dt){W$2(ht,ht.return,Dt)}}break;case 1:ck($,ht),ek(ht),vt&512&&_e!==null&&Lj(_e,_e.return);break;case 5:if(ck($,ht),ek(ht),vt&512&&_e!==null&&Lj(_e,_e.return),ht.flags&32){var bt=ht.stateNode;try{ob(bt,"")}catch(Dt){W$2(ht,ht.return,Dt)}}if(vt&4&&(bt=ht.stateNode,bt!=null)){var xt=ht.memoizedProps,Et=_e!==null?_e.memoizedProps:xt,At=ht.type,wt=ht.updateQueue;if(ht.updateQueue=null,wt!==null)try{At==="input"&&xt.type==="radio"&&xt.name!=null&&ab(bt,xt),vb(At,Et);var Ct=vb(At,xt);for(Et=0;Et<wt.length;Et+=2){var St=wt[Et],Rt=wt[Et+1];St==="style"?sb(bt,Rt):St==="dangerouslySetInnerHTML"?nb(bt,Rt):St==="children"?ob(bt,Rt):ta(bt,St,Rt,Ct)}switch(At){case"input":bb(bt,xt);break;case"textarea":ib(bt,xt);break;case"select":var Pt=bt._wrapperState.wasMultiple;bt._wrapperState.wasMultiple=!!xt.multiple;var kt=xt.value;kt!=null?fb(bt,!!xt.multiple,kt,!1):Pt!==!!xt.multiple&&(xt.defaultValue!=null?fb(bt,!!xt.multiple,xt.defaultValue,!0):fb(bt,!!xt.multiple,xt.multiple?[]:"",!1))}bt[Pf]=xt}catch(Dt){W$2(ht,ht.return,Dt)}}break;case 6:if(ck($,ht),ek(ht),vt&4){if(ht.stateNode===null)throw Error(p$4(162));bt=ht.stateNode,xt=ht.memoizedProps;try{bt.nodeValue=xt}catch(Dt){W$2(ht,ht.return,Dt)}}break;case 3:if(ck($,ht),ek(ht),vt&4&&_e!==null&&_e.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(Dt){W$2(ht,ht.return,Dt)}break;case 4:ck($,ht),ek(ht);break;case 13:ck($,ht),ek(ht),bt=ht.child,bt.flags&8192&&(xt=bt.memoizedState!==null,bt.stateNode.isHidden=xt,!xt||bt.alternate!==null&&bt.alternate.memoizedState!==null||(fk=B$1())),vt&4&&ak(ht);break;case 22:if(St=_e!==null&&_e.memoizedState!==null,ht.mode&1?(U$2=(Ct=U$2)||St,ck($,ht),U$2=Ct):ck($,ht),ek(ht),vt&8192){if(Ct=ht.memoizedState!==null,(ht.stateNode.isHidden=Ct)&&!St&&ht.mode&1)for(V$1=ht,St=ht.child;St!==null;){for(Rt=V$1=St;V$1!==null;){switch(Pt=V$1,kt=Pt.child,Pt.tag){case 0:case 11:case 14:case 15:Pj(4,Pt,Pt.return);break;case 1:Lj(Pt,Pt.return);var Mt=Pt.stateNode;if(typeof Mt.componentWillUnmount=="function"){vt=Pt,_e=Pt.return;try{$=vt,Mt.props=$.memoizedProps,Mt.state=$.memoizedState,Mt.componentWillUnmount()}catch(Dt){W$2(vt,_e,Dt)}}break;case 5:Lj(Pt,Pt.return);break;case 22:if(Pt.memoizedState!==null){gk(Rt);continue}}kt!==null?(kt.return=Pt,V$1=kt):gk(Rt)}St=St.sibling}e:for(St=null,Rt=ht;;){if(Rt.tag===5){if(St===null){St=Rt;try{bt=Rt.stateNode,Ct?(xt=bt.style,typeof xt.setProperty=="function"?xt.setProperty("display","none","important"):xt.display="none"):(At=Rt.stateNode,wt=Rt.memoizedProps.style,Et=wt!=null&&wt.hasOwnProperty("display")?wt.display:null,At.style.display=rb("display",Et))}catch(Dt){W$2(ht,ht.return,Dt)}}}else if(Rt.tag===6){if(St===null)try{Rt.stateNode.nodeValue=Ct?"":Rt.memoizedProps}catch(Dt){W$2(ht,ht.return,Dt)}}else if((Rt.tag!==22&&Rt.tag!==23||Rt.memoizedState===null||Rt===ht)&&Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}if(Rt===ht)break e;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===ht)break e;St===Rt&&(St=null),Rt=Rt.return}St===Rt&&(St=null),Rt.sibling.return=Rt.return,Rt=Rt.sibling}}break;case 19:ck($,ht),ek(ht),vt&4&&ak(ht);break;case 21:break;default:ck($,ht),ek(ht)}}function ek(ht){var $=ht.flags;if($&2){try{e:{for(var _e=ht.return;_e!==null;){if(Tj(_e)){var vt=_e;break e}_e=_e.return}throw Error(p$4(160))}switch(vt.tag){case 5:var bt=vt.stateNode;vt.flags&32&&(ob(bt,""),vt.flags&=-33);var xt=Uj(ht);Wj(ht,xt,bt);break;case 3:case 4:var Et=vt.stateNode.containerInfo,At=Uj(ht);Vj(ht,At,Et);break;default:throw Error(p$4(161))}}catch(wt){W$2(ht,ht.return,wt)}ht.flags&=-3}$&4096&&(ht.flags&=-4097)}function hk(ht,$,_e){V$1=ht,ik(ht)}function ik(ht,$,_e){for(var vt=(ht.mode&1)!==0;V$1!==null;){var bt=V$1,xt=bt.child;if(bt.tag===22&&vt){var Et=bt.memoizedState!==null||Jj;if(!Et){var At=bt.alternate,wt=At!==null&&At.memoizedState!==null||U$2;At=Jj;var Ct=U$2;if(Jj=Et,(U$2=wt)&&!Ct)for(V$1=bt;V$1!==null;)Et=V$1,wt=Et.child,Et.tag===22&&Et.memoizedState!==null?jk(bt):wt!==null?(wt.return=Et,V$1=wt):jk(bt);for(;xt!==null;)V$1=xt,ik(xt),xt=xt.sibling;V$1=bt,Jj=At,U$2=Ct}kk(ht)}else bt.subtreeFlags&8772&&xt!==null?(xt.return=bt,V$1=xt):kk(ht)}}function kk(ht){for(;V$1!==null;){var $=V$1;if($.flags&8772){var _e=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U$2||Qj(5,$);break;case 1:var vt=$.stateNode;if($.flags&4&&!U$2)if(_e===null)vt.componentDidMount();else{var bt=$.elementType===$.type?_e.memoizedProps:Ci($.type,_e.memoizedProps);vt.componentDidUpdate(bt,_e.memoizedState,vt.__reactInternalSnapshotBeforeUpdate)}var xt=$.updateQueue;xt!==null&&sh($,xt,vt);break;case 3:var Et=$.updateQueue;if(Et!==null){if(_e=null,$.child!==null)switch($.child.tag){case 5:_e=$.child.stateNode;break;case 1:_e=$.child.stateNode}sh($,Et,_e)}break;case 5:var At=$.stateNode;if(_e===null&&$.flags&4){_e=At;var wt=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":wt.autoFocus&&_e.focus();break;case"img":wt.src&&(_e.src=wt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var Ct=$.alternate;if(Ct!==null){var St=Ct.memoizedState;if(St!==null){var Rt=St.dehydrated;Rt!==null&&bd(Rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$2||$.flags&512&&Rj($)}catch(Pt){W$2($,$.return,Pt)}}if($===ht){V$1=null;break}if(_e=$.sibling,_e!==null){_e.return=$.return,V$1=_e;break}V$1=$.return}}function gk(ht){for(;V$1!==null;){var $=V$1;if($===ht){V$1=null;break}var _e=$.sibling;if(_e!==null){_e.return=$.return,V$1=_e;break}V$1=$.return}}function jk(ht){for(;V$1!==null;){var $=V$1;try{switch($.tag){case 0:case 11:case 15:var _e=$.return;try{Qj(4,$)}catch(wt){W$2($,_e,wt)}break;case 1:var vt=$.stateNode;if(typeof vt.componentDidMount=="function"){var bt=$.return;try{vt.componentDidMount()}catch(wt){W$2($,bt,wt)}}var xt=$.return;try{Rj($)}catch(wt){W$2($,xt,wt)}break;case 5:var Et=$.return;try{Rj($)}catch(wt){W$2($,Et,wt)}}}catch(wt){W$2($,$.return,wt)}if($===ht){V$1=null;break}var At=$.sibling;if(At!==null){At.return=$.return,V$1=At;break}V$1=$.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(ht){return ht.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(ht=C$1,ht!==0||(ht=window.event,ht=ht===void 0?16:jd(ht.type)),ht):1}function gi(ht,$,_e,vt){if(50<yk)throw yk=0,zk=null,Error(p$4(185));Ac(ht,_e,vt),(!(K&2)||ht!==Q)&&(ht===Q&&(!(K&2)&&(qk|=_e),T$3===4&&Ck(ht,Z)),Dk(ht,vt),_e===1&&K===0&&!($.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(ht,$){var _e=ht.callbackNode;wc(ht,$);var vt=uc(ht,ht===Q?Z:0);if(vt===0)_e!==null&&bc(_e),ht.callbackNode=null,ht.callbackPriority=0;else if($=vt&-vt,ht.callbackPriority!==$){if(_e!=null&&bc(_e),$===1)ht.tag===0?ig(Ek.bind(null,ht)):hg(Ek.bind(null,ht)),Jf(function(){!(K&6)&&jg()}),_e=null;else{switch(Dc(vt)){case 1:_e=fc;break;case 4:_e=gc;break;case 16:_e=hc;break;case 536870912:_e=jc;break;default:_e=hc}_e=Fk(_e,Gk.bind(null,ht))}ht.callbackPriority=$,ht.callbackNode=_e}}function Gk(ht,$){if(Ak=-1,Bk=0,K&6)throw Error(p$4(327));var _e=ht.callbackNode;if(Hk()&&ht.callbackNode!==_e)return null;var vt=uc(ht,ht===Q?Z:0);if(vt===0)return null;if(vt&30||vt&ht.expiredLanes||$)$=Ik(ht,vt);else{$=vt;var bt=K;K|=2;var xt=Jk();(Q!==ht||Z!==$)&&(uk=null,Gj=B$1()+500,Kk(ht,$));do try{Lk();break}catch(At){Mk(ht,At)}while(!0);$g(),mk.current=xt,K=bt,Y!==null?$=0:(Q=null,Z=0,$=T$3)}if($!==0){if($===2&&(bt=xc(ht),bt!==0&&(vt=bt,$=Nk(ht,bt))),$===1)throw _e=pk,Kk(ht,0),Ck(ht,vt),Dk(ht,B$1()),_e;if($===6)Ck(ht,vt);else{if(bt=ht.current.alternate,!(vt&30)&&!Ok(bt)&&($=Ik(ht,vt),$===2&&(xt=xc(ht),xt!==0&&(vt=xt,$=Nk(ht,xt))),$===1))throw _e=pk,Kk(ht,0),Ck(ht,vt),Dk(ht,B$1()),_e;switch(ht.finishedWork=bt,ht.finishedLanes=vt,$){case 0:case 1:throw Error(p$4(345));case 2:Pk(ht,tk,uk);break;case 3:if(Ck(ht,vt),(vt&130023424)===vt&&($=fk+500-B$1(),10<$)){if(uc(ht,0)!==0)break;if(bt=ht.suspendedLanes,(bt&vt)!==vt){R$1(),ht.pingedLanes|=ht.suspendedLanes&bt;break}ht.timeoutHandle=Ff(Pk.bind(null,ht,tk,uk),$);break}Pk(ht,tk,uk);break;case 4:if(Ck(ht,vt),(vt&4194240)===vt)break;for($=ht.eventTimes,bt=-1;0<vt;){var Et=31-oc(vt);xt=1<<Et,Et=$[Et],Et>bt&&(bt=Et),vt&=~xt}if(vt=bt,vt=B$1()-vt,vt=(120>vt?120:480>vt?480:1080>vt?1080:1920>vt?1920:3e3>vt?3e3:4320>vt?4320:1960*lk(vt/1960))-vt,10<vt){ht.timeoutHandle=Ff(Pk.bind(null,ht,tk,uk),vt);break}Pk(ht,tk,uk);break;case 5:Pk(ht,tk,uk);break;default:throw Error(p$4(329))}}}return Dk(ht,B$1()),ht.callbackNode===_e?Gk.bind(null,ht):null}function Nk(ht,$){var _e=sk;return ht.current.memoizedState.isDehydrated&&(Kk(ht,$).flags|=256),ht=Ik(ht,$),ht!==2&&($=tk,tk=_e,$!==null&&Fj($)),ht}function Fj(ht){tk===null?tk=ht:tk.push.apply(tk,ht)}function Ok(ht){for(var $=ht;;){if($.flags&16384){var _e=$.updateQueue;if(_e!==null&&(_e=_e.stores,_e!==null))for(var vt=0;vt<_e.length;vt++){var bt=_e[vt],xt=bt.getSnapshot;bt=bt.value;try{if(!He(xt(),bt))return!1}catch{return!1}}}if(_e=$.child,$.subtreeFlags&16384&&_e!==null)_e.return=$,$=_e;else{if($===ht)break;for(;$.sibling===null;){if($.return===null||$.return===ht)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Ck(ht,$){for($&=~rk,$&=~qk,ht.suspendedLanes|=$,ht.pingedLanes&=~$,ht=ht.expirationTimes;0<$;){var _e=31-oc($),vt=1<<_e;ht[_e]=-1,$&=~vt}}function Ek(ht){if(K&6)throw Error(p$4(327));Hk();var $=uc(ht,0);if(!($&1))return Dk(ht,B$1()),null;var _e=Ik(ht,$);if(ht.tag!==0&&_e===2){var vt=xc(ht);vt!==0&&($=vt,_e=Nk(ht,vt))}if(_e===1)throw _e=pk,Kk(ht,0),Ck(ht,$),Dk(ht,B$1()),_e;if(_e===6)throw Error(p$4(345));return ht.finishedWork=ht.current.alternate,ht.finishedLanes=$,Pk(ht,tk,uk),Dk(ht,B$1()),null}function Qk(ht,$){var _e=K;K|=1;try{return ht($)}finally{K=_e,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(ht){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var $=K;K|=1;var _e=ok.transition,vt=C$1;try{if(ok.transition=null,C$1=1,ht)return ht()}finally{C$1=vt,ok.transition=_e,K=$,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(ht,$){ht.finishedWork=null,ht.finishedLanes=0;var _e=ht.timeoutHandle;if(_e!==-1&&(ht.timeoutHandle=-1,Gf(_e)),Y!==null)for(_e=Y.return;_e!==null;){var vt=_e;switch(wg(vt),vt.tag){case 1:vt=vt.type.childContextTypes,vt!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$2),Eh();break;case 5:Bh(vt);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(vt.type._context);break;case 22:case 23:Hj()}_e=_e.return}if(Q=ht,Y=ht=Pg(ht.current,null),Z=fj=$,T$3=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for($=0;$<fh.length;$++)if(_e=fh[$],vt=_e.interleaved,vt!==null){_e.interleaved=null;var bt=vt.next,xt=_e.pending;if(xt!==null){var Et=xt.next;xt.next=bt,vt.next=Et}_e.pending=vt}fh=null}return ht}function Mk(ht,$){do{var _e=Y;try{if($g(),Fh.current=Rh,Ih){for(var vt=M$3.memoizedState;vt!==null;){var bt=vt.queue;bt!==null&&(bt.pending=null),vt=vt.next}Ih=!1}if(Hh=0,O$2=N$3=M$3=null,Jh=!1,Kh=0,nk.current=null,_e===null||_e.return===null){T$3=1,pk=$,Y=null;break}e:{var xt=ht,Et=_e.return,At=_e,wt=$;if($=Z,At.flags|=32768,wt!==null&&typeof wt=="object"&&typeof wt.then=="function"){var Ct=wt,St=At,Rt=St.tag;if(!(St.mode&1)&&(Rt===0||Rt===11||Rt===15)){var Pt=St.alternate;Pt?(St.updateQueue=Pt.updateQueue,St.memoizedState=Pt.memoizedState,St.lanes=Pt.lanes):(St.updateQueue=null,St.memoizedState=null)}var kt=Ui(Et);if(kt!==null){kt.flags&=-257,Vi(kt,Et,At,xt,$),kt.mode&1&&Si(xt,Ct,$),$=kt,wt=Ct;var Mt=$.updateQueue;if(Mt===null){var Dt=new Set;Dt.add(wt),$.updateQueue=Dt}else Mt.add(wt);break e}else{if(!($&1)){Si(xt,Ct,$),tj();break e}wt=Error(p$4(426))}}else if(I$4&&At.mode&1){var $t=Ui(Et);if($t!==null){!($t.flags&65536)&&($t.flags|=256),Vi($t,Et,At,xt,$),Jg(Ji(wt,At));break e}}xt=wt=Ji(wt,At),T$3!==4&&(T$3=2),sk===null?sk=[xt]:sk.push(xt),xt=Et;do{switch(xt.tag){case 3:xt.flags|=65536,$&=-$,xt.lanes|=$;var Ft=Ni(xt,wt,$);ph(xt,Ft);break e;case 1:At=wt;var Lt=xt.type,Ot=xt.stateNode;if(!(xt.flags&128)&&(typeof Lt.getDerivedStateFromError=="function"||Ot!==null&&typeof Ot.componentDidCatch=="function"&&(Ri===null||!Ri.has(Ot)))){xt.flags|=65536,$&=-$,xt.lanes|=$;var Ht=Qi(xt,At,$);ph(xt,Ht);break e}}xt=xt.return}while(xt!==null)}Sk(_e)}catch(Nt){$=Nt,Y===_e&&_e!==null&&(Y=_e=_e.return);continue}break}while(!0)}function Jk(){var ht=mk.current;return mk.current=Rh,ht===null?Rh:ht}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(ht,$){var _e=K;K|=2;var vt=Jk();(Q!==ht||Z!==$)&&(uk=null,Kk(ht,$));do try{Tk();break}catch(bt){Mk(ht,bt)}while(!0);if($g(),K=_e,mk.current=vt,Y!==null)throw Error(p$4(261));return Q=null,Z=0,T$3}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(ht){var $=Vk(ht.alternate,ht,fj);ht.memoizedProps=ht.pendingProps,$===null?Sk(ht):Y=$,nk.current=null}function Sk(ht){var $=ht;do{var _e=$.alternate;if(ht=$.return,$.flags&32768){if(_e=Ij(_e,$),_e!==null){_e.flags&=32767,Y=_e;return}if(ht!==null)ht.flags|=32768,ht.subtreeFlags=0,ht.deletions=null;else{T$3=6,Y=null;return}}else if(_e=Ej(_e,$,fj),_e!==null){Y=_e;return}if($=$.sibling,$!==null){Y=$;return}Y=$=ht}while($!==null);T$3===0&&(T$3=5)}function Pk(ht,$,_e){var vt=C$1,bt=ok.transition;try{ok.transition=null,C$1=1,Wk(ht,$,_e,vt)}finally{ok.transition=bt,C$1=vt}return null}function Wk(ht,$,_e,vt){do Hk();while(wk!==null);if(K&6)throw Error(p$4(327));_e=ht.finishedWork;var bt=ht.finishedLanes;if(_e===null)return null;if(ht.finishedWork=null,ht.finishedLanes=0,_e===ht.current)throw Error(p$4(177));ht.callbackNode=null,ht.callbackPriority=0;var xt=_e.lanes|_e.childLanes;if(Bc(ht,xt),ht===Q&&(Y=Q=null,Z=0),!(_e.subtreeFlags&2064)&&!(_e.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),xt=(_e.flags&15990)!==0,_e.subtreeFlags&15990||xt){xt=ok.transition,ok.transition=null;var Et=C$1;C$1=1;var At=K;K|=4,nk.current=null,Oj(ht,_e),dk(_e,ht),Oe(Df),dd=!!Cf,Df=Cf=null,ht.current=_e,hk(_e),dc(),K=At,C$1=Et,ok.transition=xt}else ht.current=_e;if(vk&&(vk=!1,wk=ht,xk=bt),xt=ht.pendingLanes,xt===0&&(Ri=null),mc(_e.stateNode),Dk(ht,B$1()),$!==null)for(vt=ht.onRecoverableError,_e=0;_e<$.length;_e++)bt=$[_e],vt(bt.value,{componentStack:bt.stack,digest:bt.digest});if(Oi)throw Oi=!1,ht=Pi,Pi=null,ht;return xk&1&&ht.tag!==0&&Hk(),xt=ht.pendingLanes,xt&1?ht===zk?yk++:(yk=0,zk=ht):yk=0,jg(),null}function Hk(){if(wk!==null){var ht=Dc(xk),$=ok.transition,_e=C$1;try{if(ok.transition=null,C$1=16>ht?16:ht,wk===null)var vt=!1;else{if(ht=wk,wk=null,xk=0,K&6)throw Error(p$4(331));var bt=K;for(K|=4,V$1=ht.current;V$1!==null;){var xt=V$1,Et=xt.child;if(V$1.flags&16){var At=xt.deletions;if(At!==null){for(var wt=0;wt<At.length;wt++){var Ct=At[wt];for(V$1=Ct;V$1!==null;){var St=V$1;switch(St.tag){case 0:case 11:case 15:Pj(8,St,xt)}var Rt=St.child;if(Rt!==null)Rt.return=St,V$1=Rt;else for(;V$1!==null;){St=V$1;var Pt=St.sibling,kt=St.return;if(Sj(St),St===Ct){V$1=null;break}if(Pt!==null){Pt.return=kt,V$1=Pt;break}V$1=kt}}}var Mt=xt.alternate;if(Mt!==null){var Dt=Mt.child;if(Dt!==null){Mt.child=null;do{var $t=Dt.sibling;Dt.sibling=null,Dt=$t}while(Dt!==null)}}V$1=xt}}if(xt.subtreeFlags&2064&&Et!==null)Et.return=xt,V$1=Et;else e:for(;V$1!==null;){if(xt=V$1,xt.flags&2048)switch(xt.tag){case 0:case 11:case 15:Pj(9,xt,xt.return)}var Ft=xt.sibling;if(Ft!==null){Ft.return=xt.return,V$1=Ft;break e}V$1=xt.return}}var Lt=ht.current;for(V$1=Lt;V$1!==null;){Et=V$1;var Ot=Et.child;if(Et.subtreeFlags&2064&&Ot!==null)Ot.return=Et,V$1=Ot;else e:for(Et=Lt;V$1!==null;){if(At=V$1,At.flags&2048)try{switch(At.tag){case 0:case 11:case 15:Qj(9,At)}}catch(Nt){W$2(At,At.return,Nt)}if(At===Et){V$1=null;break e}var Ht=At.sibling;if(Ht!==null){Ht.return=At.return,V$1=Ht;break e}V$1=At.return}}if(K=bt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,ht)}catch{}vt=!0}return vt}finally{C$1=_e,ok.transition=$}}return!1}function Xk(ht,$,_e){$=Ji(_e,$),$=Ni(ht,$,1),ht=nh(ht,$,1),$=R$1(),ht!==null&&(Ac(ht,1,$),Dk(ht,$))}function W$2(ht,$,_e){if(ht.tag===3)Xk(ht,ht,_e);else for(;$!==null;){if($.tag===3){Xk($,ht,_e);break}else if($.tag===1){var vt=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof vt.componentDidCatch=="function"&&(Ri===null||!Ri.has(vt))){ht=Ji(_e,ht),ht=Qi($,ht,1),$=nh($,ht,1),ht=R$1(),$!==null&&(Ac($,1,ht),Dk($,ht));break}}$=$.return}}function Ti(ht,$,_e){var vt=ht.pingCache;vt!==null&&vt.delete($),$=R$1(),ht.pingedLanes|=ht.suspendedLanes&_e,Q===ht&&(Z&_e)===_e&&(T$3===4||T$3===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(ht,0):rk|=_e),Dk(ht,$)}function Yk(ht,$){$===0&&(ht.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var _e=R$1();ht=ih(ht,$),ht!==null&&(Ac(ht,$,_e),Dk(ht,_e))}function uj(ht){var $=ht.memoizedState,_e=0;$!==null&&(_e=$.retryLane),Yk(ht,_e)}function bk(ht,$){var _e=0;switch(ht.tag){case 13:var vt=ht.stateNode,bt=ht.memoizedState;bt!==null&&(_e=bt.retryLane);break;case 19:vt=ht.stateNode;break;default:throw Error(p$4(314))}vt!==null&&vt.delete($),Yk(ht,_e)}var Vk;Vk=function(ht,$,_e){if(ht!==null)if(ht.memoizedProps!==$.pendingProps||Wf.current)dh=!0;else{if(!(ht.lanes&_e)&&!($.flags&128))return dh=!1,yj(ht,$,_e);dh=!!(ht.flags&131072)}else dh=!1,I$4&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var vt=$.type;ij(ht,$),ht=$.pendingProps;var bt=Yf($,H$2.current);ch($,_e),bt=Nh(null,$,vt,ht,bt,_e);var xt=Sh();return $.flags|=1,typeof bt=="object"&&bt!==null&&typeof bt.render=="function"&&bt.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(vt)?(xt=!0,cg($)):xt=!1,$.memoizedState=bt.state!==null&&bt.state!==void 0?bt.state:null,kh($),bt.updater=Ei,$.stateNode=bt,bt._reactInternals=$,Ii($,vt,ht,_e),$=jj(null,$,vt,!0,xt,_e)):($.tag=0,I$4&&xt&&vg($),Xi(null,$,bt,_e),$=$.child),$;case 16:vt=$.elementType;e:{switch(ij(ht,$),ht=$.pendingProps,bt=vt._init,vt=bt(vt._payload),$.type=vt,bt=$.tag=Zk(vt),ht=Ci(vt,ht),bt){case 0:$=cj(null,$,vt,ht,_e);break e;case 1:$=hj(null,$,vt,ht,_e);break e;case 11:$=Yi(null,$,vt,ht,_e);break e;case 14:$=$i(null,$,vt,Ci(vt.type,ht),_e);break e}throw Error(p$4(306,vt,""))}return $;case 0:return vt=$.type,bt=$.pendingProps,bt=$.elementType===vt?bt:Ci(vt,bt),cj(ht,$,vt,bt,_e);case 1:return vt=$.type,bt=$.pendingProps,bt=$.elementType===vt?bt:Ci(vt,bt),hj(ht,$,vt,bt,_e);case 3:e:{if(kj($),ht===null)throw Error(p$4(387));vt=$.pendingProps,xt=$.memoizedState,bt=xt.element,lh(ht,$),qh($,vt,null,_e);var Et=$.memoizedState;if(vt=Et.element,xt.isDehydrated)if(xt={element:vt,isDehydrated:!1,cache:Et.cache,pendingSuspenseBoundaries:Et.pendingSuspenseBoundaries,transitions:Et.transitions},$.updateQueue.baseState=xt,$.memoizedState=xt,$.flags&256){bt=Ji(Error(p$4(423)),$),$=lj(ht,$,vt,_e,bt);break e}else if(vt!==bt){bt=Ji(Error(p$4(424)),$),$=lj(ht,$,vt,_e,bt);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I$4=!0,zg=null,_e=Vg($,null,vt,_e),$.child=_e;_e;)_e.flags=_e.flags&-3|4096,_e=_e.sibling;else{if(Ig(),vt===bt){$=Zi(ht,$,_e);break e}Xi(ht,$,vt,_e)}$=$.child}return $;case 5:return Ah($),ht===null&&Eg($),vt=$.type,bt=$.pendingProps,xt=ht!==null?ht.memoizedProps:null,Et=bt.children,Ef(vt,bt)?Et=null:xt!==null&&Ef(vt,xt)&&($.flags|=32),gj(ht,$),Xi(ht,$,Et,_e),$.child;case 6:return ht===null&&Eg($),null;case 13:return oj(ht,$,_e);case 4:return yh($,$.stateNode.containerInfo),vt=$.pendingProps,ht===null?$.child=Ug($,null,vt,_e):Xi(ht,$,vt,_e),$.child;case 11:return vt=$.type,bt=$.pendingProps,bt=$.elementType===vt?bt:Ci(vt,bt),Yi(ht,$,vt,bt,_e);case 7:return Xi(ht,$,$.pendingProps,_e),$.child;case 8:return Xi(ht,$,$.pendingProps.children,_e),$.child;case 12:return Xi(ht,$,$.pendingProps.children,_e),$.child;case 10:e:{if(vt=$.type._context,bt=$.pendingProps,xt=$.memoizedProps,Et=bt.value,G$2(Wg,vt._currentValue),vt._currentValue=Et,xt!==null)if(He(xt.value,Et)){if(xt.children===bt.children&&!Wf.current){$=Zi(ht,$,_e);break e}}else for(xt=$.child,xt!==null&&(xt.return=$);xt!==null;){var At=xt.dependencies;if(At!==null){Et=xt.child;for(var wt=At.firstContext;wt!==null;){if(wt.context===vt){if(xt.tag===1){wt=mh(-1,_e&-_e),wt.tag=2;var Ct=xt.updateQueue;if(Ct!==null){Ct=Ct.shared;var St=Ct.pending;St===null?wt.next=wt:(wt.next=St.next,St.next=wt),Ct.pending=wt}}xt.lanes|=_e,wt=xt.alternate,wt!==null&&(wt.lanes|=_e),bh(xt.return,_e,$),At.lanes|=_e;break}wt=wt.next}}else if(xt.tag===10)Et=xt.type===$.type?null:xt.child;else if(xt.tag===18){if(Et=xt.return,Et===null)throw Error(p$4(341));Et.lanes|=_e,At=Et.alternate,At!==null&&(At.lanes|=_e),bh(Et,_e,$),Et=xt.sibling}else Et=xt.child;if(Et!==null)Et.return=xt;else for(Et=xt;Et!==null;){if(Et===$){Et=null;break}if(xt=Et.sibling,xt!==null){xt.return=Et.return,Et=xt;break}Et=Et.return}xt=Et}Xi(ht,$,bt.children,_e),$=$.child}return $;case 9:return bt=$.type,vt=$.pendingProps.children,ch($,_e),bt=eh(bt),vt=vt(bt),$.flags|=1,Xi(ht,$,vt,_e),$.child;case 14:return vt=$.type,bt=Ci(vt,$.pendingProps),bt=Ci(vt.type,bt),$i(ht,$,vt,bt,_e);case 15:return bj(ht,$,$.type,$.pendingProps,_e);case 17:return vt=$.type,bt=$.pendingProps,bt=$.elementType===vt?bt:Ci(vt,bt),ij(ht,$),$.tag=1,Zf(vt)?(ht=!0,cg($)):ht=!1,ch($,_e),Gi($,vt,bt),Ii($,vt,bt,_e),jj(null,$,vt,!0,ht,_e);case 19:return xj(ht,$,_e);case 22:return dj(ht,$,_e)}throw Error(p$4(156,$.tag))};function Fk(ht,$){return ac(ht,$)}function $k(ht,$,_e,vt){this.tag=ht,this.key=_e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=vt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(ht,$,_e,vt){return new $k(ht,$,_e,vt)}function aj(ht){return ht=ht.prototype,!(!ht||!ht.isReactComponent)}function Zk(ht){if(typeof ht=="function")return aj(ht)?1:0;if(ht!=null){if(ht=ht.$$typeof,ht===Da)return 11;if(ht===Ga)return 14}return 2}function Pg(ht,$){var _e=ht.alternate;return _e===null?(_e=Bg(ht.tag,$,ht.key,ht.mode),_e.elementType=ht.elementType,_e.type=ht.type,_e.stateNode=ht.stateNode,_e.alternate=ht,ht.alternate=_e):(_e.pendingProps=$,_e.type=ht.type,_e.flags=0,_e.subtreeFlags=0,_e.deletions=null),_e.flags=ht.flags&14680064,_e.childLanes=ht.childLanes,_e.lanes=ht.lanes,_e.child=ht.child,_e.memoizedProps=ht.memoizedProps,_e.memoizedState=ht.memoizedState,_e.updateQueue=ht.updateQueue,$=ht.dependencies,_e.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},_e.sibling=ht.sibling,_e.index=ht.index,_e.ref=ht.ref,_e}function Rg(ht,$,_e,vt,bt,xt){var Et=2;if(vt=ht,typeof ht=="function")aj(ht)&&(Et=1);else if(typeof ht=="string")Et=5;else e:switch(ht){case ya:return Tg(_e.children,bt,xt,$);case za:Et=8,bt|=8;break;case Aa:return ht=Bg(12,_e,$,bt|2),ht.elementType=Aa,ht.lanes=xt,ht;case Ea:return ht=Bg(13,_e,$,bt),ht.elementType=Ea,ht.lanes=xt,ht;case Fa:return ht=Bg(19,_e,$,bt),ht.elementType=Fa,ht.lanes=xt,ht;case Ia:return pj(_e,bt,xt,$);default:if(typeof ht=="object"&&ht!==null)switch(ht.$$typeof){case Ba:Et=10;break e;case Ca:Et=9;break e;case Da:Et=11;break e;case Ga:Et=14;break e;case Ha:Et=16,vt=null;break e}throw Error(p$4(130,ht==null?ht:typeof ht,""))}return $=Bg(Et,_e,$,bt),$.elementType=ht,$.type=vt,$.lanes=xt,$}function Tg(ht,$,_e,vt){return ht=Bg(7,ht,vt,$),ht.lanes=_e,ht}function pj(ht,$,_e,vt){return ht=Bg(22,ht,vt,$),ht.elementType=Ia,ht.lanes=_e,ht.stateNode={isHidden:!1},ht}function Qg(ht,$,_e){return ht=Bg(6,ht,null,$),ht.lanes=_e,ht}function Sg(ht,$,_e){return $=Bg(4,ht.children!==null?ht.children:[],ht.key,$),$.lanes=_e,$.stateNode={containerInfo:ht.containerInfo,pendingChildren:null,implementation:ht.implementation},$}function al(ht,$,_e,vt,bt){this.tag=$,this.containerInfo=ht,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=vt,this.onRecoverableError=bt,this.mutableSourceEagerHydrationData=null}function bl(ht,$,_e,vt,bt,xt,Et,At,wt){return ht=new al(ht,$,_e,At,wt),$===1?($=1,xt===!0&&($|=8)):$=0,xt=Bg(3,null,null,$),ht.current=xt,xt.stateNode=ht,xt.memoizedState={element:vt,isDehydrated:_e,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(xt),ht}function cl(ht,$,_e){var vt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:vt==null?null:""+vt,children:ht,containerInfo:$,implementation:_e}}function dl(ht){if(!ht)return Vf;ht=ht._reactInternals;e:{if(Vb(ht)!==ht||ht.tag!==1)throw Error(p$4(170));var $=ht;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$4(171))}if(ht.tag===1){var _e=ht.type;if(Zf(_e))return bg(ht,_e,$)}return $}function el(ht,$,_e,vt,bt,xt,Et,At,wt){return ht=bl(_e,vt,!0,ht,bt,xt,Et,At,wt),ht.context=dl(null),_e=ht.current,vt=R$1(),bt=yi(_e),xt=mh(vt,bt),xt.callback=$??null,nh(_e,xt,bt),ht.current.lanes=bt,Ac(ht,bt,vt),Dk(ht,vt),ht}function fl(ht,$,_e,vt){var bt=$.current,xt=R$1(),Et=yi(bt);return _e=dl(_e),$.context===null?$.context=_e:$.pendingContext=_e,$=mh(xt,Et),$.payload={element:ht},vt=vt===void 0?null:vt,vt!==null&&($.callback=vt),ht=nh(bt,$,Et),ht!==null&&(gi(ht,bt,Et,xt),oh(ht,bt,Et)),Et}function gl(ht){if(ht=ht.current,!ht.child)return null;switch(ht.child.tag){case 5:return ht.child.stateNode;default:return ht.child.stateNode}}function hl(ht,$){if(ht=ht.memoizedState,ht!==null&&ht.dehydrated!==null){var _e=ht.retryLane;ht.retryLane=_e!==0&&_e<$?_e:$}}function il(ht,$){hl(ht,$),(ht=ht.alternate)&&hl(ht,$)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(ht){console.error(ht)};function ll(ht){this._internalRoot=ht}ml.prototype.render=ll.prototype.render=function(ht){var $=this._internalRoot;if($===null)throw Error(p$4(409));fl(ht,$,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var ht=this._internalRoot;if(ht!==null){this._internalRoot=null;var $=ht.containerInfo;Rk(function(){fl(null,ht,null,null)}),$[uf]=null}};function ml(ht){this._internalRoot=ht}ml.prototype.unstable_scheduleHydration=function(ht){if(ht){var $=Hc();ht={blockedOn:null,target:ht,priority:$};for(var _e=0;_e<Qc.length&&$!==0&&$<Qc[_e].priority;_e++);Qc.splice(_e,0,ht),_e===0&&Vc(ht)}};function nl(ht){return!(!ht||ht.nodeType!==1&&ht.nodeType!==9&&ht.nodeType!==11)}function ol(ht){return!(!ht||ht.nodeType!==1&&ht.nodeType!==9&&ht.nodeType!==11&&(ht.nodeType!==8||ht.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(ht,$,_e,vt,bt){if(bt){if(typeof vt=="function"){var xt=vt;vt=function(){var Ct=gl(Et);xt.call(Ct)}}var Et=el($,vt,ht,0,null,!1,!1,"",pl);return ht._reactRootContainer=Et,ht[uf]=Et.current,sf(ht.nodeType===8?ht.parentNode:ht),Rk(),Et}for(;bt=ht.lastChild;)ht.removeChild(bt);if(typeof vt=="function"){var At=vt;vt=function(){var Ct=gl(wt);At.call(Ct)}}var wt=bl(ht,0,!1,null,null,!1,!1,"",pl);return ht._reactRootContainer=wt,ht[uf]=wt.current,sf(ht.nodeType===8?ht.parentNode:ht),Rk(function(){fl($,wt,_e,vt)}),wt}function rl(ht,$,_e,vt,bt){var xt=_e._reactRootContainer;if(xt){var Et=xt;if(typeof bt=="function"){var At=bt;bt=function(){var wt=gl(Et);At.call(wt)}}fl($,Et,ht,bt)}else Et=ql(_e,$,ht,bt,vt);return gl(Et)}Ec=function(ht){switch(ht.tag){case 3:var $=ht.stateNode;if($.current.memoizedState.isDehydrated){var _e=tc($.pendingLanes);_e!==0&&(Cc($,_e|1),Dk($,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var vt=ih(ht,1);if(vt!==null){var bt=R$1();gi(vt,ht,1,bt)}}),il(ht,1)}};Fc=function(ht){if(ht.tag===13){var $=ih(ht,134217728);if($!==null){var _e=R$1();gi($,ht,134217728,_e)}il(ht,134217728)}};Gc=function(ht){if(ht.tag===13){var $=yi(ht),_e=ih(ht,$);if(_e!==null){var vt=R$1();gi(_e,ht,$,vt)}il(ht,$)}};Hc=function(){return C$1};Ic=function(ht,$){var _e=C$1;try{return C$1=ht,$()}finally{C$1=_e}};yb=function(ht,$,_e){switch($){case"input":if(bb(ht,_e),$=_e.name,_e.type==="radio"&&$!=null){for(_e=ht;_e.parentNode;)_e=_e.parentNode;for(_e=_e.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<_e.length;$++){var vt=_e[$];if(vt!==ht&&vt.form===ht.form){var bt=Db(vt);if(!bt)throw Error(p$4(90));Wa(vt),bb(vt,bt)}}}break;case"textarea":ib(ht,_e);break;case"select":$=_e.value,$!=null&&fb(ht,!!_e.multiple,$,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(ht){return ht=Zb(ht),ht===null?null:ht.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(ht,$){var _e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl($))throw Error(p$4(200));return cl(ht,$,null,_e)};reactDom_production_min.createRoot=function(ht,$){if(!nl(ht))throw Error(p$4(299));var _e=!1,vt="",bt=kl;return $!=null&&($.unstable_strictMode===!0&&(_e=!0),$.identifierPrefix!==void 0&&(vt=$.identifierPrefix),$.onRecoverableError!==void 0&&(bt=$.onRecoverableError)),$=bl(ht,1,!1,null,null,_e,!1,vt,bt),ht[uf]=$.current,sf(ht.nodeType===8?ht.parentNode:ht),new ll($)};reactDom_production_min.findDOMNode=function(ht){if(ht==null)return null;if(ht.nodeType===1)return ht;var $=ht._reactInternals;if($===void 0)throw typeof ht.render=="function"?Error(p$4(188)):(ht=Object.keys(ht).join(","),Error(p$4(268,ht)));return ht=Zb($),ht=ht===null?null:ht.stateNode,ht};reactDom_production_min.flushSync=function(ht){return Rk(ht)};reactDom_production_min.hydrate=function(ht,$,_e){if(!ol($))throw Error(p$4(200));return rl(null,ht,$,!0,_e)};reactDom_production_min.hydrateRoot=function(ht,$,_e){if(!nl(ht))throw Error(p$4(405));var vt=_e!=null&&_e.hydratedSources||null,bt=!1,xt="",Et=kl;if(_e!=null&&(_e.unstable_strictMode===!0&&(bt=!0),_e.identifierPrefix!==void 0&&(xt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(Et=_e.onRecoverableError)),$=el($,null,ht,1,_e??null,bt,!1,xt,Et),ht[uf]=$.current,sf(ht),vt)for(ht=0;ht<vt.length;ht++)_e=vt[ht],bt=_e._getVersion,bt=bt(_e._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[_e,bt]:$.mutableSourceEagerHydrationData.push(_e,bt);return new ml($)};reactDom_production_min.render=function(ht,$,_e){if(!ol($))throw Error(p$4(200));return rl(null,ht,$,!1,_e)};reactDom_production_min.unmountComponentAtNode=function(ht){if(!ol(ht))throw Error(p$4(40));return ht._reactRootContainer?(Rk(function(){rl(null,null,ht,!1,function(){ht._reactRootContainer=null,ht[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(ht,$,_e,vt){if(!ol(_e))throw Error(p$4(200));if(ht==null||ht._reactInternals===void 0)throw Error(p$4(38));return rl(ht,$,_e,!1,vt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(ht){console.error(ht)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(ht){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var vt in _e)Object.prototype.hasOwnProperty.call(_e,vt)&&(ht[vt]=_e[vt])}return ht},_extends$2.apply(this,arguments)}var Action;(function(ht){ht.Pop="POP",ht.Push="PUSH",ht.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(ht){ht===void 0&&(ht={});function $(vt,bt){let{pathname:xt,search:Et,hash:At}=vt.location;return createLocation("",{pathname:xt,search:Et,hash:At},bt.state&&bt.state.usr||null,bt.state&&bt.state.key||"default")}function _e(vt,bt){return typeof bt=="string"?bt:createPath(bt)}return getUrlBasedHistory($,_e,null,ht)}function invariant(ht,$){if(ht===!1||ht===null||typeof ht>"u")throw new Error($)}function warning(ht,$){if(!ht){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(ht,$){return{usr:ht.state,key:ht.key,idx:$}}function createLocation(ht,$,_e,vt){return _e===void 0&&(_e=null),_extends$2({pathname:typeof ht=="string"?ht:ht.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:_e,key:$&&$.key||vt||createKey()})}function createPath(ht){let{pathname:$="/",search:_e="",hash:vt=""}=ht;return _e&&_e!=="?"&&($+=_e.charAt(0)==="?"?_e:"?"+_e),vt&&vt!=="#"&&($+=vt.charAt(0)==="#"?vt:"#"+vt),$}function parsePath(ht){let $={};if(ht){let _e=ht.indexOf("#");_e>=0&&($.hash=ht.substr(_e),ht=ht.substr(0,_e));let vt=ht.indexOf("?");vt>=0&&($.search=ht.substr(vt),ht=ht.substr(0,vt)),ht&&($.pathname=ht)}return $}function getUrlBasedHistory(ht,$,_e,vt){vt===void 0&&(vt={});let{window:bt=document.defaultView,v5Compat:xt=!1}=vt,Et=bt.history,At=Action.Pop,wt=null,Ct=St();Ct==null&&(Ct=0,Et.replaceState(_extends$2({},Et.state,{idx:Ct}),""));function St(){return(Et.state||{idx:null}).idx}function Rt(){At=Action.Pop;let $t=St(),Ft=$t==null?null:$t-Ct;Ct=$t,wt&&wt({action:At,location:Dt.location,delta:Ft})}function Pt($t,Ft){At=Action.Push;let Lt=createLocation(Dt.location,$t,Ft);Ct=St()+1;let Ot=getHistoryState(Lt,Ct),Ht=Dt.createHref(Lt);try{Et.pushState(Ot,"",Ht)}catch(Nt){if(Nt instanceof DOMException&&Nt.name==="DataCloneError")throw Nt;bt.location.assign(Ht)}xt&&wt&&wt({action:At,location:Dt.location,delta:1})}function kt($t,Ft){At=Action.Replace;let Lt=createLocation(Dt.location,$t,Ft);Ct=St();let Ot=getHistoryState(Lt,Ct),Ht=Dt.createHref(Lt);Et.replaceState(Ot,"",Ht),xt&&wt&&wt({action:At,location:Dt.location,delta:0})}function Mt($t){let Ft=bt.location.origin!=="null"?bt.location.origin:bt.location.href,Lt=typeof $t=="string"?$t:createPath($t);return Lt=Lt.replace(/ $/,"%20"),invariant(Ft,"No window.location.(origin|href) available to create URL for href: "+Lt),new URL(Lt,Ft)}let Dt={get action(){return At},get location(){return ht(bt,Et)},listen($t){if(wt)throw new Error("A history only accepts one active listener");return bt.addEventListener(PopStateEventType,Rt),wt=$t,()=>{bt.removeEventListener(PopStateEventType,Rt),wt=null}},createHref($t){return $(bt,$t)},createURL:Mt,encodeLocation($t){let Ft=Mt($t);return{pathname:Ft.pathname,search:Ft.search,hash:Ft.hash}},push:Pt,replace:kt,go($t){return Et.go($t)}};return Dt}var ResultType;(function(ht){ht.data="data",ht.deferred="deferred",ht.redirect="redirect",ht.error="error"})(ResultType||(ResultType={}));function matchRoutes(ht,$,_e){_e===void 0&&(_e="/");let vt=typeof $=="string"?parsePath($):$,bt=stripBasename(vt.pathname||"/",_e);if(bt==null)return null;let xt=flattenRoutes(ht);rankRouteBranches(xt);let Et=null;for(let At=0;Et==null&&At<xt.length;++At){let wt=decodePath(bt);Et=matchRouteBranch(xt[At],wt)}return Et}function flattenRoutes(ht,$,_e,vt){$===void 0&&($=[]),_e===void 0&&(_e=[]),vt===void 0&&(vt="");let bt=(xt,Et,At)=>{let wt={relativePath:At===void 0?xt.path||"":At,caseSensitive:xt.caseSensitive===!0,childrenIndex:Et,route:xt};wt.relativePath.startsWith("/")&&(invariant(wt.relativePath.startsWith(vt),'Absolute route path "'+wt.relativePath+'" nested under path '+('"'+vt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),wt.relativePath=wt.relativePath.slice(vt.length));let Ct=joinPaths([vt,wt.relativePath]),St=_e.concat(wt);xt.children&&xt.children.length>0&&(invariant(xt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Ct+'".')),flattenRoutes(xt.children,$,St,Ct)),!(xt.path==null&&!xt.index)&&$.push({path:Ct,score:computeScore(Ct,xt.index),routesMeta:St})};return ht.forEach((xt,Et)=>{var At;if(xt.path===""||!((At=xt.path)!=null&&At.includes("?")))bt(xt,Et);else for(let wt of explodeOptionalSegments(xt.path))bt(xt,Et,wt)}),$}function explodeOptionalSegments(ht){let $=ht.split("/");if($.length===0)return[];let[_e,...vt]=$,bt=_e.endsWith("?"),xt=_e.replace(/\?$/,"");if(vt.length===0)return bt?[xt,""]:[xt];let Et=explodeOptionalSegments(vt.join("/")),At=[];return At.push(...Et.map(wt=>wt===""?xt:[xt,wt].join("/"))),bt&&At.push(...Et),At.map(wt=>ht.startsWith("/")&&wt===""?"/":wt)}function rankRouteBranches(ht){ht.sort(($,_e)=>$.score!==_e.score?_e.score-$.score:compareIndexes($.routesMeta.map(vt=>vt.childrenIndex),_e.routesMeta.map(vt=>vt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=ht=>ht==="*";function computeScore(ht,$){let _e=ht.split("/"),vt=_e.length;return _e.some(isSplat)&&(vt+=splatPenalty),$&&(vt+=indexRouteValue),_e.filter(bt=>!isSplat(bt)).reduce((bt,xt)=>bt+(paramRe.test(xt)?dynamicSegmentValue:xt===""?emptySegmentValue:staticSegmentValue),vt)}function compareIndexes(ht,$){return ht.length===$.length&&ht.slice(0,-1).every((vt,bt)=>vt===$[bt])?ht[ht.length-1]-$[$.length-1]:0}function matchRouteBranch(ht,$){let{routesMeta:_e}=ht,vt={},bt="/",xt=[];for(let Et=0;Et<_e.length;++Et){let At=_e[Et],wt=Et===_e.length-1,Ct=bt==="/"?$:$.slice(bt.length)||"/",St=matchPath({path:At.relativePath,caseSensitive:At.caseSensitive,end:wt},Ct);if(!St)return null;Object.assign(vt,St.params);let Rt=At.route;xt.push({params:vt,pathname:joinPaths([bt,St.pathname]),pathnameBase:normalizePathname(joinPaths([bt,St.pathnameBase])),route:Rt}),St.pathnameBase!=="/"&&(bt=joinPaths([bt,St.pathnameBase]))}return xt}function matchPath(ht,$){typeof ht=="string"&&(ht={path:ht,caseSensitive:!1,end:!0});let[_e,vt]=compilePath(ht.path,ht.caseSensitive,ht.end),bt=$.match(_e);if(!bt)return null;let xt=bt[0],Et=xt.replace(/(.)\/+$/,"$1"),At=bt.slice(1);return{params:vt.reduce((Ct,St,Rt)=>{let{paramName:Pt,isOptional:kt}=St;if(Pt==="*"){let Dt=At[Rt]||"";Et=xt.slice(0,xt.length-Dt.length).replace(/(.)\/+$/,"$1")}const Mt=At[Rt];return kt&&!Mt?Ct[Pt]=void 0:Ct[Pt]=(Mt||"").replace(/%2F/g,"/"),Ct},{}),pathname:xt,pathnameBase:Et,pattern:ht}}function compilePath(ht,$,_e){$===void 0&&($=!1),_e===void 0&&(_e=!0),warning(ht==="*"||!ht.endsWith("*")||ht.endsWith("/*"),'Route path "'+ht+'" will be treated as if it were '+('"'+ht.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+ht.replace(/\*$/,"/*")+'".'));let vt=[],bt="^"+ht.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Et,At,wt)=>(vt.push({paramName:At,isOptional:wt!=null}),wt?"/?([^\\/]+)?":"/([^\\/]+)"));return ht.endsWith("*")?(vt.push({paramName:"*"}),bt+=ht==="*"||ht==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):_e?bt+="\\/*$":ht!==""&&ht!=="/"&&(bt+="(?:(?=\\/|$))"),[new RegExp(bt,$?void 0:"i"),vt]}function decodePath(ht){try{return ht.split("/").map($=>decodeURIComponent($).replace(/\//g,"%2F")).join("/")}catch($){return warning(!1,'The URL path "'+ht+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+$+").")),ht}}function stripBasename(ht,$){if($==="/")return ht;if(!ht.toLowerCase().startsWith($.toLowerCase()))return null;let _e=$.endsWith("/")?$.length-1:$.length,vt=ht.charAt(_e);return vt&&vt!=="/"?null:ht.slice(_e)||"/"}function resolvePath(ht,$){$===void 0&&($="/");let{pathname:_e,search:vt="",hash:bt=""}=typeof ht=="string"?parsePath(ht):ht;return{pathname:_e?_e.startsWith("/")?_e:resolvePathname(_e,$):$,search:normalizeSearch(vt),hash:normalizeHash(bt)}}function resolvePathname(ht,$){let _e=$.replace(/\/+$/,"").split("/");return ht.split("/").forEach(bt=>{bt===".."?_e.length>1&&_e.pop():bt!=="."&&_e.push(bt)}),_e.length>1?_e.join("/"):"/"}function getInvalidPathError(ht,$,_e,vt){return"Cannot include a '"+ht+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(vt)+"].  Please separate it out to the ")+("`to."+_e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(ht){return ht.filter(($,_e)=>_e===0||$.route.path&&$.route.path.length>0)}function getResolveToMatches(ht,$){let _e=getPathContributingMatches(ht);return $?_e.map((vt,bt)=>bt===ht.length-1?vt.pathname:vt.pathnameBase):_e.map(vt=>vt.pathnameBase)}function resolveTo(ht,$,_e,vt){vt===void 0&&(vt=!1);let bt;typeof ht=="string"?bt=parsePath(ht):(bt=_extends$2({},ht),invariant(!bt.pathname||!bt.pathname.includes("?"),getInvalidPathError("?","pathname","search",bt)),invariant(!bt.pathname||!bt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",bt)),invariant(!bt.search||!bt.search.includes("#"),getInvalidPathError("#","search","hash",bt)));let xt=ht===""||bt.pathname==="",Et=xt?"/":bt.pathname,At;if(Et==null)At=_e;else{let Rt=$.length-1;if(!vt&&Et.startsWith("..")){let Pt=Et.split("/");for(;Pt[0]==="..";)Pt.shift(),Rt-=1;bt.pathname=Pt.join("/")}At=Rt>=0?$[Rt]:"/"}let wt=resolvePath(bt,At),Ct=Et&&Et!=="/"&&Et.endsWith("/"),St=(xt||Et===".")&&_e.endsWith("/");return!wt.pathname.endsWith("/")&&(Ct||St)&&(wt.pathname+="/"),wt}const joinPaths=ht=>ht.join("/").replace(/\/\/+/g,"/"),normalizePathname=ht=>ht.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=ht=>!ht||ht==="?"?"":ht.startsWith("?")?ht:"?"+ht,normalizeHash=ht=>!ht||ht==="#"?"":ht.startsWith("#")?ht:"#"+ht;function isRouteErrorResponse(ht){return ht!=null&&typeof ht.status=="number"&&typeof ht.statusText=="string"&&typeof ht.internal=="boolean"&&"data"in ht}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(ht){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var vt in _e)Object.prototype.hasOwnProperty.call(_e,vt)&&(ht[vt]=_e[vt])}return ht},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(ht){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(ht)}function useNavigate(){let{isDataRoute:ht}=reactExports.useContext(RouteContext);return ht?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let ht=reactExports.useContext(DataRouterContext),{basename:$,future:_e,navigator:vt}=reactExports.useContext(NavigationContext),{matches:bt}=reactExports.useContext(RouteContext),{pathname:xt}=useLocation(),Et=JSON.stringify(getResolveToMatches(bt,_e.v7_relativeSplatPath)),At=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{At.current=!0}),reactExports.useCallback(function(Ct,St){if(St===void 0&&(St={}),!At.current)return;if(typeof Ct=="number"){vt.go(Ct);return}let Rt=resolveTo(Ct,JSON.parse(Et),xt,St.relative==="path");ht==null&&$!=="/"&&(Rt.pathname=Rt.pathname==="/"?$:joinPaths([$,Rt.pathname])),(St.replace?vt.replace:vt.push)(Rt,St.state,St)},[$,vt,Et,xt,ht])}function useRoutes(ht,$){return useRoutesImpl(ht,$)}function useRoutesImpl(ht,$,_e,vt){useInRouterContext()||invariant(!1);let{navigator:bt}=reactExports.useContext(NavigationContext),{matches:xt}=reactExports.useContext(RouteContext),Et=xt[xt.length-1],At=Et?Et.params:{};Et&&Et.pathname;let wt=Et?Et.pathnameBase:"/";Et&&Et.route;let Ct=useLocation(),St;if($){var Rt;let $t=typeof $=="string"?parsePath($):$;wt==="/"||(Rt=$t.pathname)!=null&&Rt.startsWith(wt)||invariant(!1),St=$t}else St=Ct;let Pt=St.pathname||"/",kt=Pt;if(wt!=="/"){let $t=wt.replace(/^\//,"").split("/");kt="/"+Pt.replace(/^\//,"").split("/").slice($t.length).join("/")}let Mt=matchRoutes(ht,{pathname:kt}),Dt=_renderMatches(Mt&&Mt.map($t=>Object.assign({},$t,{params:Object.assign({},At,$t.params),pathname:joinPaths([wt,bt.encodeLocation?bt.encodeLocation($t.pathname).pathname:$t.pathname]),pathnameBase:$t.pathnameBase==="/"?wt:joinPaths([wt,bt.encodeLocation?bt.encodeLocation($t.pathnameBase).pathname:$t.pathnameBase])})),xt,_e,vt);return $&&Dt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},St),navigationType:Action.Pop}},Dt):Dt}function DefaultErrorComponent(){let ht=useRouteError(),$=isRouteErrorResponse(ht)?ht.status+" "+ht.statusText:ht instanceof Error?ht.message:JSON.stringify(ht),_e=ht instanceof Error?ht.stack:null,bt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$),_e?reactExports.createElement("pre",{style:bt},_e):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,_e){return _e.location!==$.location||_e.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:_e.error,location:_e.location,revalidation:$.revalidation||_e.revalidation}}componentDidCatch($,_e){console.error("React Router caught the following error during render",$,_e)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(ht){let{routeContext:$,match:_e,children:vt}=ht,bt=reactExports.useContext(DataRouterContext);return bt&&bt.static&&bt.staticContext&&(_e.route.errorElement||_e.route.ErrorBoundary)&&(bt.staticContext._deepestRenderedBoundaryId=_e.route.id),reactExports.createElement(RouteContext.Provider,{value:$},vt)}function _renderMatches(ht,$,_e,vt){var bt;if($===void 0&&($=[]),_e===void 0&&(_e=null),vt===void 0&&(vt=null),ht==null){var xt;if((xt=_e)!=null&&xt.errors)ht=_e.matches;else return null}let Et=ht,At=(bt=_e)==null?void 0:bt.errors;if(At!=null){let St=Et.findIndex(Rt=>Rt.route.id&&(At==null?void 0:At[Rt.route.id])!==void 0);St>=0||invariant(!1),Et=Et.slice(0,Math.min(Et.length,St+1))}let wt=!1,Ct=-1;if(_e&&vt&&vt.v7_partialHydration)for(let St=0;St<Et.length;St++){let Rt=Et[St];if((Rt.route.HydrateFallback||Rt.route.hydrateFallbackElement)&&(Ct=St),Rt.route.id){let{loaderData:Pt,errors:kt}=_e,Mt=Rt.route.loader&&Pt[Rt.route.id]===void 0&&(!kt||kt[Rt.route.id]===void 0);if(Rt.route.lazy||Mt){wt=!0,Ct>=0?Et=Et.slice(0,Ct+1):Et=[Et[0]];break}}}return Et.reduceRight((St,Rt,Pt)=>{let kt,Mt=!1,Dt=null,$t=null;_e&&(kt=At&&Rt.route.id?At[Rt.route.id]:void 0,Dt=Rt.route.errorElement||defaultErrorElement,wt&&(Ct<0&&Pt===0?(Mt=!0,$t=null):Ct===Pt&&(Mt=!0,$t=Rt.route.hydrateFallbackElement||null)));let Ft=$.concat(Et.slice(0,Pt+1)),Lt=()=>{let Ot;return kt?Ot=Dt:Mt?Ot=$t:Rt.route.Component?Ot=reactExports.createElement(Rt.route.Component,null):Rt.route.element?Ot=Rt.route.element:Ot=St,reactExports.createElement(RenderedRoute,{match:Rt,routeContext:{outlet:St,matches:Ft,isDataRoute:_e!=null},children:Ot})};return _e&&(Rt.route.ErrorBoundary||Rt.route.errorElement||Pt===0)?reactExports.createElement(RenderErrorBoundary,{location:_e.location,revalidation:_e.revalidation,component:Dt,error:kt,children:Lt(),routeContext:{outlet:null,matches:Ft,isDataRoute:!0}}):Lt()},null)}var DataRouterHook$1=function(ht){return ht.UseBlocker="useBlocker",ht.UseRevalidator="useRevalidator",ht.UseNavigateStable="useNavigate",ht}(DataRouterHook$1||{}),DataRouterStateHook$1=function(ht){return ht.UseBlocker="useBlocker",ht.UseLoaderData="useLoaderData",ht.UseActionData="useActionData",ht.UseRouteError="useRouteError",ht.UseNavigation="useNavigation",ht.UseRouteLoaderData="useRouteLoaderData",ht.UseMatches="useMatches",ht.UseRevalidator="useRevalidator",ht.UseNavigateStable="useNavigate",ht.UseRouteId="useRouteId",ht}(DataRouterStateHook$1||{});function useDataRouterContext(ht){let $=reactExports.useContext(DataRouterContext);return $||invariant(!1),$}function useDataRouterState(ht){let $=reactExports.useContext(DataRouterStateContext);return $||invariant(!1),$}function useRouteContext(ht){let $=reactExports.useContext(RouteContext);return $||invariant(!1),$}function useCurrentRouteId(ht){let $=useRouteContext(),_e=$.matches[$.matches.length-1];return _e.route.id||invariant(!1),_e.route.id}function useRouteError(){var ht;let $=reactExports.useContext(RouteErrorContext),_e=useDataRouterState(DataRouterStateHook$1.UseRouteError),vt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return $!==void 0?$:(ht=_e.errors)==null?void 0:ht[vt]}function useNavigateStable(){let{router:ht}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),$=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),_e=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{_e.current=!0}),reactExports.useCallback(function(bt,xt){xt===void 0&&(xt={}),_e.current&&(typeof bt=="number"?ht.navigate(bt):ht.navigate(bt,_extends$1({fromRouteId:$},xt)))},[ht,$])}function Route(ht){invariant(!1)}function Router(ht){let{basename:$="/",children:_e=null,location:vt,navigationType:bt=Action.Pop,navigator:xt,static:Et=!1,future:At}=ht;useInRouterContext()&&invariant(!1);let wt=$.replace(/^\/*/,"/"),Ct=reactExports.useMemo(()=>({basename:wt,navigator:xt,static:Et,future:_extends$1({v7_relativeSplatPath:!1},At)}),[wt,At,xt,Et]);typeof vt=="string"&&(vt=parsePath(vt));let{pathname:St="/",search:Rt="",hash:Pt="",state:kt=null,key:Mt="default"}=vt,Dt=reactExports.useMemo(()=>{let $t=stripBasename(St,wt);return $t==null?null:{location:{pathname:$t,search:Rt,hash:Pt,state:kt,key:Mt},navigationType:bt}},[wt,St,Rt,Pt,kt,Mt,bt]);return Dt==null?null:reactExports.createElement(NavigationContext.Provider,{value:Ct},reactExports.createElement(LocationContext.Provider,{children:_e,value:Dt}))}function Routes(ht){let{children:$,location:_e}=ht;return useRoutes(createRoutesFromChildren($),_e)}new Promise(()=>{});function createRoutesFromChildren(ht,$){$===void 0&&($=[]);let _e=[];return reactExports.Children.forEach(ht,(vt,bt)=>{if(!reactExports.isValidElement(vt))return;let xt=[...$,bt];if(vt.type===reactExports.Fragment){_e.push.apply(_e,createRoutesFromChildren(vt.props.children,xt));return}vt.type!==Route&&invariant(!1),!vt.props.index||!vt.props.children||invariant(!1);let Et={id:vt.props.id||xt.join("-"),caseSensitive:vt.props.caseSensitive,element:vt.props.element,Component:vt.props.Component,index:vt.props.index,path:vt.props.path,loader:vt.props.loader,action:vt.props.action,errorElement:vt.props.errorElement,ErrorBoundary:vt.props.ErrorBoundary,hasErrorBoundary:vt.props.ErrorBoundary!=null||vt.props.errorElement!=null,shouldRevalidate:vt.props.shouldRevalidate,handle:vt.props.handle,lazy:vt.props.lazy};vt.props.children&&(Et.children=createRoutesFromChildren(vt.props.children,xt)),_e.push(Et)}),_e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=t$4[START_TRANSITION];function BrowserRouter(ht){let{basename:$,children:_e,future:vt,window:bt}=ht,xt=reactExports.useRef();xt.current==null&&(xt.current=createBrowserHistory({window:bt,v5Compat:!0}));let Et=xt.current,[At,wt]=reactExports.useState({action:Et.action,location:Et.location}),{v7_startTransition:Ct}=vt||{},St=reactExports.useCallback(Rt=>{Ct&&startTransitionImpl?startTransitionImpl(()=>wt(Rt)):wt(Rt)},[wt,Ct]);return reactExports.useLayoutEffect(()=>Et.listen(St),[Et,St]),reactExports.createElement(Router,{basename:$,children:_e,location:At.location,navigationType:At.action,navigator:Et,future:vt})}var DataRouterHook;(function(ht){ht.UseScrollRestoration="useScrollRestoration",ht.UseSubmit="useSubmit",ht.UseSubmitFetcher="useSubmitFetcher",ht.UseFetcher="useFetcher",ht.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(ht){ht.UseFetcher="useFetcher",ht.UseFetchers="useFetchers",ht.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(ht){const $=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{$.current=ht},[ht]),reactExports.useCallback((..._e)=>{const vt=$.current;return vt==null?void 0:vt(..._e)},[])}const $431fbd86ca7dc216$export$b204af158042fbac=ht=>{var $;return($=ht==null?void 0:ht.ownerDocument)!==null&&$!==void 0?$:document},$431fbd86ca7dc216$export$f21a1ffae260145a=ht=>ht&&"window"in ht&&ht.window===ht?ht:$431fbd86ca7dc216$export$b204af158042fbac(ht).defaultView||window;function $c87311424ea30a05$var$testUserAgent(ht){var $;return typeof window>"u"||window.navigator==null?!1:(($=window.navigator.userAgentData)===null||$===void 0?void 0:$.brands.some(_e=>ht.test(_e.brand)))||ht.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(ht){var $;return typeof window<"u"&&window.navigator!=null?ht.test((($=window.navigator.userAgentData)===null||$===void 0?void 0:$.platform)||window.navigator.platform):!1}function $c87311424ea30a05$export$9ac100e40613ea10(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}function $c87311424ea30a05$export$a11b0059900ceec8(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}function $6a7db85432448f7f$export$60278871457622de(ht){return ht.mozInputSource===0&&ht.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&ht.pointerType?ht.type==="click"&&ht.buttons===1:ht.detail===0&&!ht.pointerType}class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor($,_e){this.nativeEvent=_e,this.target=_e.target,this.currentTarget=_e.currentTarget,this.relatedTarget=_e.relatedTarget,this.bubbles=_e.bubbles,this.cancelable=_e.cancelable,this.defaultPrevented=_e.defaultPrevented,this.eventPhase=_e.eventPhase,this.isTrusted=_e.isTrusted,this.timeStamp=_e.timeStamp,this.type=$}}function $8a9cb279dc87e130$export$715c682d09d639cc(ht){let $=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const vt=$.current;return()=>{vt.observer&&(vt.observer.disconnect(),vt.observer=null)}},[]);let _e=$8ae05eaa5c114e9c$export$7f54fc3180508a52(vt=>{ht==null||ht(vt)});return reactExports.useCallback(vt=>{if(vt.target instanceof HTMLButtonElement||vt.target instanceof HTMLInputElement||vt.target instanceof HTMLTextAreaElement||vt.target instanceof HTMLSelectElement){$.current.isFocused=!0;let bt=vt.target,xt=Et=>{$.current.isFocused=!1,bt.disabled&&_e(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",Et)),$.current.observer&&($.current.observer.disconnect(),$.current.observer=null)};bt.addEventListener("focusout",xt,{once:!0}),$.current.observer=new MutationObserver(()=>{if($.current.isFocused&&bt.disabled){var Et;(Et=$.current.observer)===null||Et===void 0||Et.disconnect();let At=bt===document.activeElement?null:document.activeElement;bt.dispatchEvent(new FocusEvent("blur",{relatedTarget:At})),bt.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:At}))}}),$.current.observer.observe(bt,{attributes:!0,attributeFilter:["disabled"]})}},[_e])}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(ht){let{isDisabled:$,onFocus:_e,onBlur:vt,onFocusChange:bt}=ht;const xt=reactExports.useCallback(wt=>{if(wt.target===wt.currentTarget)return vt&&vt(wt),bt&&bt(!1),!0},[vt,bt]),Et=$8a9cb279dc87e130$export$715c682d09d639cc(xt),At=reactExports.useCallback(wt=>{const Ct=$431fbd86ca7dc216$export$b204af158042fbac(wt.target);wt.target===wt.currentTarget&&Ct.activeElement===wt.target&&(_e&&_e(wt),bt&&bt(!0),Et(wt))},[bt,_e,Et]);return{focusProps:{onFocus:!$&&(_e||bt||vt)?At:void 0,onBlur:!$&&(vt||bt)?xt:void 0}}}let $507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(ht,$){for(let _e of $507fabe10e71c6fb$var$changeHandlers)_e(ht,$)}function $507fabe10e71c6fb$var$isValidKey(ht){return!(ht.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&ht.altKey||ht.ctrlKey||ht.key==="Control"||ht.key==="Shift"||ht.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(ht){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(ht)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",ht))}function $507fabe10e71c6fb$var$handlePointerEvent(ht){$507fabe10e71c6fb$var$currentModality="pointer",(ht.type==="mousedown"||ht.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",ht))}function $507fabe10e71c6fb$var$handleClickEvent(ht){$6a7db85432448f7f$export$60278871457622de(ht)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(ht){ht.target===window||ht.target===document||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",ht)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(ht){if(typeof window>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(ht)))return;const $=$431fbd86ca7dc216$export$f21a1ffae260145a(ht),_e=$431fbd86ca7dc216$export$b204af158042fbac(ht);let vt=$.HTMLElement.prototype.focus;$.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,vt.apply(this,arguments)},_e.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),_e.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),_e.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),$.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),$.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(_e.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),_e.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),_e.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(_e.addEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),_e.addEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),_e.addEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(ht)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set($,{focus:vt})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(ht,$)=>{const _e=$431fbd86ca7dc216$export$f21a1ffae260145a(ht),vt=$431fbd86ca7dc216$export$b204af158042fbac(ht);$&&vt.removeEventListener("DOMContentLoaded",$),$507fabe10e71c6fb$export$d90243b58daecda7.has(_e)&&(_e.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(_e).focus,vt.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),vt.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),vt.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),_e.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),_e.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(vt.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(vt.removeEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(_e))};function $507fabe10e71c6fb$export$2f1888112f558a7d(ht){const $=$431fbd86ca7dc216$export$b204af158042fbac(ht);let _e;return $.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(ht):(_e=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(ht)},$.addEventListener("DOMContentLoaded",_e)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(ht,_e)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(ht,$,_e){var vt;const bt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(_e==null?void 0:_e.target).HTMLInputElement:HTMLInputElement,xt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(_e==null?void 0:_e.target).HTMLTextAreaElement:HTMLTextAreaElement,Et=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(_e==null?void 0:_e.target).HTMLElement:HTMLElement,At=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(_e==null?void 0:_e.target).KeyboardEvent:KeyboardEvent;return ht=ht||(_e==null?void 0:_e.target)instanceof bt&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(_e==null||(vt=_e.target)===null||vt===void 0?void 0:vt.type)||(_e==null?void 0:_e.target)instanceof xt||(_e==null?void 0:_e.target)instanceof Et&&(_e==null?void 0:_e.target.isContentEditable),!(ht&&$==="keyboard"&&_e instanceof At&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[_e.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(ht,$,_e){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let vt=(bt,xt)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(_e!=null&&_e.isTextInput),bt,xt)&&ht($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(vt),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(vt)}},$)}function $9ab94262bd0047c7$export$420e68273165f4ec(ht){let{isDisabled:$,onBlurWithin:_e,onFocusWithin:vt,onFocusWithinChange:bt}=ht,xt=reactExports.useRef({isFocusWithin:!1}),Et=reactExports.useCallback(Ct=>{xt.current.isFocusWithin&&!Ct.currentTarget.contains(Ct.relatedTarget)&&(xt.current.isFocusWithin=!1,_e&&_e(Ct),bt&&bt(!1))},[_e,bt,xt]),At=$8a9cb279dc87e130$export$715c682d09d639cc(Et),wt=reactExports.useCallback(Ct=>{!xt.current.isFocusWithin&&document.activeElement===Ct.target&&(vt&&vt(Ct),bt&&bt(!0),xt.current.isFocusWithin=!0,At(Ct))},[vt,bt,At]);return $?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:wt,onBlur:Et}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(ht){ht.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.addEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.removeEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents))}}function $6179b936705e76d3$export$ae780daf29e6d456(ht){let{onHoverStart:$,onHoverChange:_e,onHoverEnd:vt,isDisabled:bt}=ht,[xt,Et]=reactExports.useState(!1),At=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{hoverProps:wt,triggerHoverEnd:Ct}=reactExports.useMemo(()=>{let St=(kt,Mt)=>{if(At.pointerType=Mt,bt||Mt==="touch"||At.isHovered||!kt.currentTarget.contains(kt.target))return;At.isHovered=!0;let Dt=kt.currentTarget;At.target=Dt,$&&$({type:"hoverstart",target:Dt,pointerType:Mt}),_e&&_e(!0),Et(!0)},Rt=(kt,Mt)=>{if(At.pointerType="",At.target=null,Mt==="touch"||!At.isHovered)return;At.isHovered=!1;let Dt=kt.currentTarget;vt&&vt({type:"hoverend",target:Dt,pointerType:Mt}),_e&&_e(!1),Et(!1)},Pt={};return typeof PointerEvent<"u"?(Pt.onPointerEnter=kt=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&kt.pointerType==="mouse"||St(kt,kt.pointerType)},Pt.onPointerLeave=kt=>{!bt&&kt.currentTarget.contains(kt.target)&&Rt(kt,kt.pointerType)}):(Pt.onTouchStart=()=>{At.ignoreEmulatedMouseEvents=!0},Pt.onMouseEnter=kt=>{!At.ignoreEmulatedMouseEvents&&!$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&St(kt,"mouse"),At.ignoreEmulatedMouseEvents=!1},Pt.onMouseLeave=kt=>{!bt&&kt.currentTarget.contains(kt.target)&&Rt(kt,"mouse")}),{hoverProps:Pt,triggerHoverEnd:Rt}},[$,_e,vt,bt,At]);return reactExports.useEffect(()=>{bt&&Ct({currentTarget:At.target},At.pointerType)},[bt]),{hoverProps:wt,isHovered:xt}}function $f7dceffc5ad7768b$export$4e328f61c538687f(ht={}){let{autoFocus:$=!1,isTextInput:_e,within:vt}=ht,bt=reactExports.useRef({isFocused:!1,isFocusVisible:$||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[xt,Et]=reactExports.useState(!1),[At,wt]=reactExports.useState(()=>bt.current.isFocused&&bt.current.isFocusVisible),Ct=reactExports.useCallback(()=>wt(bt.current.isFocused&&bt.current.isFocusVisible),[]),St=reactExports.useCallback(kt=>{bt.current.isFocused=kt,Et(kt),Ct()},[Ct]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(kt=>{bt.current.isFocusVisible=kt,Ct()},[],{isTextInput:_e});let{focusProps:Rt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:vt,onFocusChange:St}),{focusWithinProps:Pt}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!vt,onFocusWithinChange:St});return{isFocused:xt,isFocusVisible:At,focusProps:vt?Pt:Rt}}var i$5=Object.defineProperty,d$3=(ht,$,_e)=>$ in ht?i$5(ht,$,{enumerable:!0,configurable:!0,writable:!0,value:_e}):ht[$]=_e,r$2=(ht,$,_e)=>(d$3(ht,typeof $!="symbol"?$+"":$,_e),_e);let o$5=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set($){this.current!==$&&(this.handoffState="pending",this.currentId=0,this.current=$)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$5=new o$5;function u$7(ht){return s$5.isServer?null:ht instanceof Node?ht.ownerDocument:ht!=null&&ht.hasOwnProperty("current")&&ht.current instanceof Node?ht.current.ownerDocument:document}function t$3(ht){typeof queueMicrotask=="function"?queueMicrotask(ht):Promise.resolve().then(ht).catch($=>setTimeout(()=>{throw $}))}function o$4(){let ht=[],$={addEventListener(_e,vt,bt,xt){return _e.addEventListener(vt,bt,xt),$.add(()=>_e.removeEventListener(vt,bt,xt))},requestAnimationFrame(..._e){let vt=requestAnimationFrame(..._e);return $.add(()=>cancelAnimationFrame(vt))},nextFrame(..._e){return $.requestAnimationFrame(()=>$.requestAnimationFrame(..._e))},setTimeout(..._e){let vt=setTimeout(..._e);return $.add(()=>clearTimeout(vt))},microTask(..._e){let vt={current:!0};return t$3(()=>{vt.current&&_e[0]()}),$.add(()=>{vt.current=!1})},style(_e,vt,bt){let xt=_e.style.getPropertyValue(vt);return Object.assign(_e.style,{[vt]:bt}),this.add(()=>{Object.assign(_e.style,{[vt]:xt})})},group(_e){let vt=o$4();return _e(vt),this.add(()=>vt.dispose())},add(_e){return ht.includes(_e)||ht.push(_e),()=>{let vt=ht.indexOf(_e);if(vt>=0)for(let bt of ht.splice(vt,1))bt()}},dispose(){for(let _e of ht.splice(0))_e()}};return $}function p$3(){let[ht]=reactExports.useState(o$4);return reactExports.useEffect(()=>()=>ht.dispose(),[ht]),ht}let n$3=(ht,$)=>{s$5.isServer?reactExports.useEffect(ht,$):reactExports.useLayoutEffect(ht,$)};function s$4(ht){let $=reactExports.useRef(ht);return n$3(()=>{$.current=ht},[ht]),$}let o$3=function(ht){let $=s$4(ht);return React.useCallback((..._e)=>$.current(..._e),[$])};function E(ht){let $=ht.width/2,_e=ht.height/2;return{top:ht.clientY-_e,right:ht.clientX+$,bottom:ht.clientY+_e,left:ht.clientX-$}}function P$2(ht,$){return!(!ht||!$||ht.right<$.left||ht.left>$.right||ht.bottom<$.top||ht.top>$.bottom)}function w$1({disabled:ht=!1}={}){let $=reactExports.useRef(null),[_e,vt]=reactExports.useState(!1),bt=p$3(),xt=o$3(()=>{$.current=null,vt(!1),bt.dispose()}),Et=o$3(At=>{if(bt.dispose(),$.current===null){$.current=At.currentTarget,vt(!0);{let wt=u$7(At.currentTarget);bt.addEventListener(wt,"pointerup",xt,!1),bt.addEventListener(wt,"pointermove",Ct=>{if($.current){let St=E(Ct);vt(P$2(St,$.current.getBoundingClientRect()))}},!1),bt.addEventListener(wt,"pointercancel",xt,!1)}}});return{pressed:_e,pressProps:ht?{}:{onPointerDown:Et,onPointerUp:xt,onClick:xt}}}let e$2=reactExports.createContext(void 0);function a$7(){return reactExports.useContext(e$2)}function t$2(...ht){return Array.from(new Set(ht.flatMap($=>typeof $=="string"?$.split(" "):[]))).filter(Boolean).join(" ")}function u$6(ht,$,..._e){if(ht in $){let bt=$[ht];return typeof bt=="function"?bt(..._e):bt}let vt=new Error(`Tried to handle "${ht}" but there is no handler defined. Only defined handlers are: ${Object.keys($).map(bt=>`"${bt}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(vt,u$6),vt}var O$1=(ht=>(ht[ht.None=0]="None",ht[ht.RenderStrategy=1]="RenderStrategy",ht[ht.Static=2]="Static",ht))(O$1||{}),M$2=(ht=>(ht[ht.Unmount=0]="Unmount",ht[ht.Hidden=1]="Hidden",ht))(M$2||{});function H$1({ourProps:ht,theirProps:$,slot:_e,defaultTag:vt,features:bt,visible:xt=!0,name:Et,mergeRefs:At}){At=At??A$2;let wt=N$2($,ht);if(xt)return b$1(wt,_e,vt,Et,At);let Ct=bt??0;if(Ct&2){let{static:St=!1,...Rt}=wt;if(St)return b$1(Rt,_e,vt,Et,At)}if(Ct&1){let{unmount:St=!0,...Rt}=wt;return u$6(St?0:1,{0(){return null},1(){return b$1({...Rt,hidden:!0,style:{display:"none"}},_e,vt,Et,At)}})}return b$1(wt,_e,vt,Et,At)}function b$1(ht,$={},_e,vt,bt){let{as:xt=_e,children:Et,refName:At="ref",...wt}=h$2(ht,["unmount","static"]),Ct=ht.ref!==void 0?{[At]:ht.ref}:{},St=typeof Et=="function"?Et($):Et;"className"in wt&&wt.className&&typeof wt.className=="function"&&(wt.className=wt.className($)),wt["aria-labelledby"]&&wt["aria-labelledby"]===wt.id&&(wt["aria-labelledby"]=void 0);let Rt={};if($){let Pt=!1,kt=[];for(let[Mt,Dt]of Object.entries($))typeof Dt=="boolean"&&(Pt=!0),Dt===!0&&kt.push(Mt.replace(/([A-Z])/g,$t=>`-${$t.toLowerCase()}`));if(Pt){Rt["data-headlessui-state"]=kt.join(" ");for(let Mt of kt)Rt[`data-${Mt}`]=""}}if(xt===reactExports.Fragment&&(Object.keys(m$3(wt)).length>0||Object.keys(m$3(Rt)).length>0))if(!reactExports.isValidElement(St)||Array.isArray(St)&&St.length>1){if(Object.keys(m$3(wt)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${vt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$3(wt)).concat(Object.keys(m$3(Rt))).map(Pt=>`  - ${Pt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(Pt=>`  - ${Pt}`).join(`
`)].join(`
`))}else{let Pt=St.props,kt=Pt==null?void 0:Pt.className,Mt=typeof kt=="function"?(...Ft)=>t$2(kt(...Ft),wt.className):t$2(kt,wt.className),Dt=Mt?{className:Mt}:{},$t=N$2(St.props,m$3(h$2(wt,["ref"])));for(let Ft in Rt)Ft in $t&&delete Rt[Ft];return reactExports.cloneElement(St,Object.assign({},$t,Rt,Ct,{ref:bt(St.ref,Ct.ref)},Dt))}return reactExports.createElement(xt,Object.assign({},h$2(wt,["ref"]),xt!==reactExports.Fragment&&Ct,xt!==reactExports.Fragment&&Rt),St)}function A$2(...ht){return ht.every($=>$==null)?void 0:$=>{for(let _e of ht)_e!=null&&(typeof _e=="function"?_e($):_e.current=$)}}function N$2(...ht){if(ht.length===0)return{};if(ht.length===1)return ht[0];let $={},_e={};for(let vt of ht)for(let bt in vt)bt.startsWith("on")&&typeof vt[bt]=="function"?(_e[bt]!=null||(_e[bt]=[]),_e[bt].push(vt[bt])):$[bt]=vt[bt];if($.disabled||$["aria-disabled"])for(let vt in _e)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(vt)&&(_e[vt]=[bt=>{var xt;return(xt=bt==null?void 0:bt.preventDefault)==null?void 0:xt.call(bt)}]);for(let vt in _e)Object.assign($,{[vt](bt,...xt){let Et=_e[vt];for(let At of Et){if((bt instanceof Event||(bt==null?void 0:bt.nativeEvent)instanceof Event)&&bt.defaultPrevented)return;At(bt,...xt)}}});return $}function D$3(...ht){if(ht.length===0)return{};if(ht.length===1)return ht[0];let $={},_e={};for(let vt of ht)for(let bt in vt)bt.startsWith("on")&&typeof vt[bt]=="function"?(_e[bt]!=null||(_e[bt]=[]),_e[bt].push(vt[bt])):$[bt]=vt[bt];for(let vt in _e)Object.assign($,{[vt](...bt){let xt=_e[vt];for(let Et of xt)Et==null||Et(...bt)}});return $}function I$3(ht){var $;return Object.assign(reactExports.forwardRef(ht),{displayName:($=ht.displayName)!=null?$:ht.name})}function m$3(ht){let $=Object.assign({},ht);for(let _e in $)$[_e]===void 0&&delete $[_e];return $}function h$2(ht,$=[]){let _e=Object.assign({},ht);for(let vt of $)vt in _e&&delete _e[vt];return _e}let e$1=reactExports.createContext(void 0);function u$5(){return reactExports.useContext(e$1)}function r$1(ht){let $=ht.parentElement,_e=null;for(;$&&!($ instanceof HTMLFieldSetElement);)$ instanceof HTMLLegendElement&&(_e=$),$=$.parentElement;let vt=($==null?void 0:$.getAttribute("disabled"))==="";return vt&&i$4(_e)?!1:vt}function i$4(ht){if(!ht)return!1;let $=ht.previousElementSibling;for(;$!==null;){if($ instanceof HTMLLegendElement)return!1;$=$.previousElementSibling}return!0}let u$4=Symbol();function T$2(ht,$=!0){return Object.assign(ht,{[u$4]:$})}function y$4(...ht){let $=reactExports.useRef(ht);reactExports.useEffect(()=>{$.current=ht},[ht]);let _e=o$3(vt=>{for(let bt of $.current)bt!=null&&(typeof bt=="function"?bt(vt):bt.current=vt)});return ht.every(vt=>vt==null||(vt==null?void 0:vt[u$4]))?void 0:_e}let a$6=reactExports.createContext(null);a$6.displayName="DescriptionContext";function f$5(){let ht=reactExports.useContext(a$6);if(ht===null){let $=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,f$5),$}return ht}function U$1(){let[ht,$]=reactExports.useState([]);return[ht.length>0?ht.join(" "):void 0,reactExports.useMemo(()=>function(_e){let vt=o$3(xt=>($(Et=>[...Et,xt]),()=>$(Et=>{let At=Et.slice(),wt=At.indexOf(xt);return wt!==-1&&At.splice(wt,1),At}))),bt=reactExports.useMemo(()=>({register:vt,slot:_e.slot,name:_e.name,props:_e.props,value:_e.value}),[vt,_e.slot,_e.name,_e.props,_e.value]);return React.createElement(a$6.Provider,{value:bt},_e.children)},[$])]}let S$3="p";function C(ht,$){let _e=reactExports.useId(),vt=a$7(),{id:bt=`headlessui-description-${_e}`,...xt}=ht,Et=f$5(),At=y$4($);n$3(()=>Et.register(bt),[bt,Et.register]);let wt=vt||!1,Ct=reactExports.useMemo(()=>({...Et.slot,disabled:wt}),[Et.slot,wt]),St={ref:At,...Et.props,id:bt};return H$1({ourProps:St,theirProps:xt,slot:Ct,defaultTag:S$3,name:Et.name||"Description"})}let _$1=I$3(C);Object.assign(_$1,{});var o$2=(ht=>(ht.Space=" ",ht.Enter="Enter",ht.Escape="Escape",ht.Backspace="Backspace",ht.Delete="Delete",ht.ArrowLeft="ArrowLeft",ht.ArrowUp="ArrowUp",ht.ArrowRight="ArrowRight",ht.ArrowDown="ArrowDown",ht.Home="Home",ht.End="End",ht.PageUp="PageUp",ht.PageDown="PageDown",ht.Tab="Tab",ht))(o$2||{});let c$4=reactExports.createContext(null);c$4.displayName="LabelContext";function P$1(){let ht=reactExports.useContext(c$4);if(ht===null){let $=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,P$1),$}return ht}function I$2(ht){var $,_e,vt;let bt=(_e=($=reactExports.useContext(c$4))==null?void 0:$.value)!=null?_e:void 0;return((vt=void 0)!=null?vt:0)>0?[bt,...ht].filter(Boolean).join(" "):bt}function z({inherit:ht=!1}={}){let $=I$2(),[_e,vt]=reactExports.useState([]),bt=ht?[$,..._e].filter(Boolean):_e;return[bt.length>0?bt.join(" "):void 0,reactExports.useMemo(()=>function(xt){let Et=o$3(wt=>(vt(Ct=>[...Ct,wt]),()=>vt(Ct=>{let St=Ct.slice(),Rt=St.indexOf(wt);return Rt!==-1&&St.splice(Rt,1),St}))),At=reactExports.useMemo(()=>({register:Et,slot:xt.slot,name:xt.name,props:xt.props,value:xt.value}),[Et,xt.slot,xt.name,xt.props,xt.value]);return React.createElement(c$4.Provider,{value:At},xt.children)},[vt])]}let N$1="label";function G$1(ht,$){var _e;let vt=reactExports.useId(),bt=P$1(),xt=u$5(),Et=a$7(),{id:At=`headlessui-label-${vt}`,htmlFor:wt=xt??((_e=bt.props)==null?void 0:_e.htmlFor),passive:Ct=!1,...St}=ht,Rt=y$4($);n$3(()=>bt.register(At),[At,bt.register]);let Pt=o$3($t=>{let Ft=$t.currentTarget;if(Ft instanceof HTMLLabelElement&&$t.preventDefault(),bt.props&&"onClick"in bt.props&&typeof bt.props.onClick=="function"&&bt.props.onClick($t),Ft instanceof HTMLLabelElement){let Lt=document.getElementById(Ft.htmlFor);if(Lt){let Ot=Lt.getAttribute("disabled");if(Ot==="true"||Ot==="")return;let Ht=Lt.getAttribute("aria-disabled");if(Ht==="true"||Ht==="")return;(Lt instanceof HTMLInputElement&&(Lt.type==="radio"||Lt.type==="checkbox")||Lt.role==="radio"||Lt.role==="checkbox"||Lt.role==="switch")&&Lt.click(),Lt.focus({preventScroll:!0})}}}),kt=Et||!1,Mt=reactExports.useMemo(()=>({...bt.slot,disabled:kt}),[bt.slot,kt]),Dt={ref:Rt,...bt.props,id:At,htmlFor:wt,onClick:Pt};return Ct&&("onClick"in Dt&&(delete Dt.htmlFor,delete Dt.onClick),"onClick"in St&&delete St.onClick),H$1({ourProps:Dt,theirProps:St,slot:Mt,defaultTag:wt?N$1:"div",name:bt.name||"Label"})}let U=I$3(G$1);Object.assign(U,{});function s$3(ht){if(ht===null)return{width:0,height:0};let{width:$,height:_e}=ht.getBoundingClientRect();return{width:$,height:_e}}function f$4(ht,$=!1){let _e=ht===null?null:"current"in ht?ht.current:ht,[vt,bt]=reactExports.useReducer(()=>({}),{}),xt=reactExports.useMemo(()=>s$3(_e),[_e,vt]);return n$3(()=>{if(!_e)return;let Et=new ResizeObserver(bt);return Et.observe(_e),()=>{Et.disconnect()}},[_e]),$?{width:`${xt.width}px`,height:`${xt.height}px`}:xt}let a$5=class extends Map{constructor($){super(),this.factory=$}get($){let _e=super.get($);return _e===void 0&&(_e=this.factory($),this.set($,_e)),_e}};function a$4(ht,$){let _e=ht(),vt=new Set;return{getSnapshot(){return _e},subscribe(bt){return vt.add(bt),()=>vt.delete(bt)},dispatch(bt,...xt){let Et=$[bt].call(_e,...xt);Et&&(_e=Et,vt.forEach(At=>At()))}}}function o$1(ht){return reactExports.useSyncExternalStore(ht.subscribe,ht.getSnapshot,ht.getSnapshot)}let p$2=new a$5(()=>a$4(()=>[],{ADD(ht){return this.includes(ht)?this:[...this,ht]},REMOVE(ht){let $=this.indexOf(ht);if($===-1)return this;let _e=this.slice();return _e.splice($,1),_e}}));function x(ht,$){let _e=p$2.get($),vt=reactExports.useId(),bt=o$1(_e);if(n$3(()=>{if(ht)return _e.dispatch("ADD",vt),()=>_e.dispatch("REMOVE",vt)},[_e,ht]),!ht)return!1;let xt=bt.indexOf(vt),Et=bt.length;return xt===-1&&(xt=Et,Et+=1),xt===Et-1}let f$3=new Map,u$3=new Map;function h$1(ht){var $;let _e=($=u$3.get(ht))!=null?$:0;return u$3.set(ht,_e+1),_e!==0?()=>m$2(ht):(f$3.set(ht,{"aria-hidden":ht.getAttribute("aria-hidden"),inert:ht.inert}),ht.setAttribute("aria-hidden","true"),ht.inert=!0,()=>m$2(ht))}function m$2(ht){var $;let _e=($=u$3.get(ht))!=null?$:1;if(_e===1?u$3.delete(ht):u$3.set(ht,_e-1),_e!==1)return;let vt=f$3.get(ht);vt&&(vt["aria-hidden"]===null?ht.removeAttribute("aria-hidden"):ht.setAttribute("aria-hidden",vt["aria-hidden"]),ht.inert=vt.inert,f$3.delete(ht))}function y$3(ht,{allowed:$,disallowed:_e}={}){let vt=x(ht,"inert-others");n$3(()=>{var bt,xt;if(!vt)return;let Et=o$4();for(let wt of(bt=_e==null?void 0:_e())!=null?bt:[])wt&&Et.add(h$1(wt));let At=(xt=$==null?void 0:$())!=null?xt:[];for(let wt of At){if(!wt)continue;let Ct=u$7(wt);if(!Ct)continue;let St=wt.parentElement;for(;St&&St!==Ct.body;){for(let Rt of St.children)At.some(Pt=>Rt.contains(Pt))||Et.add(h$1(Rt));St=St.parentElement}}return Et.dispose},[vt,$,_e])}function m$1(ht,$,_e){let vt=s$4(bt=>{let xt=bt.getBoundingClientRect();xt.x===0&&xt.y===0&&xt.width===0&&xt.height===0&&_e()});reactExports.useEffect(()=>{if(!ht)return;let bt=$===null?null:$ instanceof HTMLElement?$:$.current;if(!bt)return;let xt=o$4();if(typeof ResizeObserver<"u"){let Et=new ResizeObserver(()=>vt.current(bt));Et.observe(bt),xt.add(()=>Et.disconnect())}if(typeof IntersectionObserver<"u"){let Et=new IntersectionObserver(()=>vt.current(bt));Et.observe(bt),xt.add(()=>Et.disconnect())}return()=>xt.dispose()},[$,vt,ht])}let f$2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(ht=>`${ht}:not([tabindex='-1'])`).join(","),p$1=["[data-autofocus]"].map(ht=>`${ht}:not([tabindex='-1'])`).join(",");var F$3=(ht=>(ht[ht.First=1]="First",ht[ht.Previous=2]="Previous",ht[ht.Next=4]="Next",ht[ht.Last=8]="Last",ht[ht.WrapAround=16]="WrapAround",ht[ht.NoScroll=32]="NoScroll",ht[ht.AutoFocus=64]="AutoFocus",ht))(F$3||{}),T$1=(ht=>(ht[ht.Error=0]="Error",ht[ht.Overflow=1]="Overflow",ht[ht.Success=2]="Success",ht[ht.Underflow=3]="Underflow",ht))(T$1||{}),y$2=(ht=>(ht[ht.Previous=-1]="Previous",ht[ht.Next=1]="Next",ht))(y$2||{});function b(ht=document.body){return ht==null?[]:Array.from(ht.querySelectorAll(f$2)).sort(($,_e)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(_e.tabIndex||Number.MAX_SAFE_INTEGER)))}function S$2(ht=document.body){return ht==null?[]:Array.from(ht.querySelectorAll(p$1)).sort(($,_e)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(_e.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(ht=>(ht[ht.Strict=0]="Strict",ht[ht.Loose=1]="Loose",ht))(h||{});function A$1(ht,$=0){var _e;return ht===((_e=u$7(ht))==null?void 0:_e.body)?!1:u$6($,{0(){return ht.matches(f$2)},1(){let vt=ht;for(;vt!==null;){if(vt.matches(f$2))return!0;vt=vt.parentElement}return!1}})}function G(ht){let $=u$7(ht);o$4().nextFrame(()=>{$&&!A$1($.activeElement,0)&&I$1(ht)})}var H=(ht=>(ht[ht.Keyboard=0]="Keyboard",ht[ht.Mouse=1]="Mouse",ht))(H||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",ht=>{ht.metaKey||ht.altKey||ht.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",ht=>{ht.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:ht.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$1(ht){ht==null||ht.focus({preventScroll:!0})}let w=["textarea","input"].join(",");function O(ht){var $,_e;return(_e=($=ht==null?void 0:ht.matches)==null?void 0:$.call(ht,w))!=null?_e:!1}function _(ht,$=_e=>_e){return ht.slice().sort((_e,vt)=>{let bt=$(_e),xt=$(vt);if(bt===null||xt===null)return 0;let Et=bt.compareDocumentPosition(xt);return Et&Node.DOCUMENT_POSITION_FOLLOWING?-1:Et&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j$2(ht,$){return P(b(),$,{relativeTo:ht})}function P(ht,$,{sorted:_e=!0,relativeTo:vt=null,skipElements:bt=[]}={}){let xt=Array.isArray(ht)?ht.length>0?ht[0].ownerDocument:document:ht.ownerDocument,Et=Array.isArray(ht)?_e?_(ht):ht:$&64?S$2(ht):b(ht);bt.length>0&&Et.length>1&&(Et=Et.filter(kt=>!bt.some(Mt=>Mt!=null&&"current"in Mt?(Mt==null?void 0:Mt.current)===kt:Mt===kt))),vt=vt??xt.activeElement;let At=(()=>{if($&5)return 1;if($&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),wt=(()=>{if($&1)return 0;if($&2)return Math.max(0,Et.indexOf(vt))-1;if($&4)return Math.max(0,Et.indexOf(vt))+1;if($&8)return Et.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Ct=$&32?{preventScroll:!0}:{},St=0,Rt=Et.length,Pt;do{if(St>=Rt||St+Rt<=0)return 0;let kt=wt+St;if($&16)kt=(kt+Rt)%Rt;else{if(kt<0)return 3;if(kt>=Rt)return 1}Pt=Et[kt],Pt==null||Pt.focus(Ct),St+=At}while(Pt!==xt.activeElement);return $&6&&O(Pt)&&Pt.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$3(){return/Android/gi.test(window.navigator.userAgent)}function n$2(){return t$1()||i$3()}function i$2(ht,$,_e,vt){let bt=s$4(_e);reactExports.useEffect(()=>{if(!ht)return;function xt(Et){bt.current(Et)}return document.addEventListener($,xt,vt),()=>document.removeEventListener($,xt,vt)},[ht,$,vt])}function s$2(ht,$,_e,vt){let bt=s$4(_e);reactExports.useEffect(()=>{if(!ht)return;function xt(Et){bt.current(Et)}return window.addEventListener($,xt,vt),()=>window.removeEventListener($,xt,vt)},[ht,$,vt])}const d$2=30;function F$2(ht,$,_e){let vt=x(ht,"outside-click"),bt=s$4(_e),xt=reactExports.useCallback(function(wt,Ct){if(wt.defaultPrevented)return;let St=Ct(wt);if(St===null||!St.getRootNode().contains(St)||!St.isConnected)return;let Rt=function Pt(kt){return typeof kt=="function"?Pt(kt()):Array.isArray(kt)||kt instanceof Set?kt:[kt]}($);for(let Pt of Rt){if(Pt===null)continue;let kt=Pt instanceof HTMLElement?Pt:Pt.current;if(kt!=null&&kt.contains(St)||wt.composed&&wt.composedPath().includes(kt))return}return!A$1(St,h.Loose)&&St.tabIndex!==-1&&wt.preventDefault(),bt.current(wt,St)},[bt]),Et=reactExports.useRef(null);i$2(vt,"pointerdown",wt=>{var Ct,St;Et.current=((St=(Ct=wt.composedPath)==null?void 0:Ct.call(wt))==null?void 0:St[0])||wt.target},!0),i$2(vt,"mousedown",wt=>{var Ct,St;Et.current=((St=(Ct=wt.composedPath)==null?void 0:Ct.call(wt))==null?void 0:St[0])||wt.target},!0),i$2(vt,"click",wt=>{n$2()||Et.current&&(xt(wt,()=>Et.current),Et.current=null)},!0);let At=reactExports.useRef({x:0,y:0});i$2(vt,"touchstart",wt=>{At.current.x=wt.touches[0].clientX,At.current.y=wt.touches[0].clientY},!0),i$2(vt,"touchend",wt=>{let Ct={x:wt.changedTouches[0].clientX,y:wt.changedTouches[0].clientY};if(!(Math.abs(Ct.x-At.current.x)>=d$2||Math.abs(Ct.y-At.current.y)>=d$2))return xt(wt,()=>wt.target instanceof HTMLElement?wt.target:null)},!0),s$2(vt,"blur",wt=>xt(wt,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function n$1(...ht){return reactExports.useMemo(()=>u$7(...ht),[...ht])}function i$1(ht){var $;if(ht.type)return ht.type;let _e=($=ht.as)!=null?$:"button";if(typeof _e=="string"&&_e.toLowerCase()==="button")return"button"}function T(ht,$){let[_e,vt]=reactExports.useState(()=>i$1(ht));return n$3(()=>{vt(i$1(ht))},[ht.type,ht.as]),n$3(()=>{_e||$.current&&$.current instanceof HTMLButtonElement&&!$.current.hasAttribute("type")&&vt("button")},[_e,$]),_e}function d$1(){let ht;return{before({doc:$}){var _e;let vt=$.documentElement,bt=(_e=$.defaultView)!=null?_e:window;ht=Math.max(0,bt.innerWidth-vt.clientWidth)},after({doc:$,d:_e}){let vt=$.documentElement,bt=Math.max(0,vt.clientWidth-vt.offsetWidth),xt=Math.max(0,ht-bt);_e.style(vt,"paddingRight",`${xt}px`)}}}function d(){return t$1()?{before({doc:ht,d:$,meta:_e}){function vt(bt){return _e.containers.flatMap(xt=>xt()).some(xt=>xt.contains(bt))}$.microTask(()=>{var bt;if(window.getComputedStyle(ht.documentElement).scrollBehavior!=="auto"){let At=o$4();At.style(ht.documentElement,"scrollBehavior","auto"),$.add(()=>$.microTask(()=>At.dispose()))}let xt=(bt=window.scrollY)!=null?bt:window.pageYOffset,Et=null;$.addEventListener(ht,"click",At=>{if(At.target instanceof HTMLElement)try{let wt=At.target.closest("a");if(!wt)return;let{hash:Ct}=new URL(wt.href),St=ht.querySelector(Ct);St&&!vt(St)&&(Et=St)}catch{}},!0),$.addEventListener(ht,"touchstart",At=>{if(At.target instanceof HTMLElement)if(vt(At.target)){let wt=At.target;for(;wt.parentElement&&vt(wt.parentElement);)wt=wt.parentElement;$.style(wt,"overscrollBehavior","contain")}else $.style(At.target,"touchAction","none")}),$.addEventListener(ht,"touchmove",At=>{if(At.target instanceof HTMLElement){if(At.target.tagName==="INPUT")return;if(vt(At.target)){let wt=At.target;for(;wt.parentElement&&wt.dataset.headlessuiPortal!==""&&!(wt.scrollHeight>wt.clientHeight||wt.scrollWidth>wt.clientWidth);)wt=wt.parentElement;wt.dataset.headlessuiPortal===""&&At.preventDefault()}else At.preventDefault()}},{passive:!1}),$.add(()=>{var At;let wt=(At=window.scrollY)!=null?At:window.pageYOffset;xt!==wt&&window.scrollTo(0,xt),Et&&Et.isConnected&&(Et.scrollIntoView({block:"nearest"}),Et=null)})})}}:{}}function r(){return{before({doc:ht,d:$}){$.style(ht.documentElement,"overflow","hidden")}}}function m(ht){let $={};for(let _e of ht)Object.assign($,_e($));return $}let a$3=a$4(()=>new Map,{PUSH(ht,$){var _e;let vt=(_e=this.get(ht))!=null?_e:{doc:ht,count:0,d:o$4(),meta:new Set};return vt.count++,vt.meta.add($),this.set(ht,vt),this},POP(ht,$){let _e=this.get(ht);return _e&&(_e.count--,_e.meta.delete($)),this},SCROLL_PREVENT({doc:ht,d:$,meta:_e}){let vt={doc:ht,d:$,meta:m(_e)},bt=[d(),d$1(),r()];bt.forEach(({before:xt})=>xt==null?void 0:xt(vt)),bt.forEach(({after:xt})=>xt==null?void 0:xt(vt))},SCROLL_ALLOW({d:ht}){ht.dispose()},TEARDOWN({doc:ht}){this.delete(ht)}});a$3.subscribe(()=>{let ht=a$3.getSnapshot(),$=new Map;for(let[_e]of ht)$.set(_e,_e.documentElement.style.overflow);for(let _e of ht.values()){let vt=$.get(_e.doc)==="hidden",bt=_e.count!==0;(bt&&!vt||!bt&&vt)&&a$3.dispatch(_e.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",_e),_e.count===0&&a$3.dispatch("TEARDOWN",_e)}});function a$2(ht,$,_e=()=>({containers:[]})){let vt=o$1(a$3),bt=$?vt.get($):void 0,xt=bt?bt.count>0:!1;return n$3(()=>{if(!(!$||!ht))return a$3.dispatch("PUSH",$,_e),()=>a$3.dispatch("POP",$,_e)},[ht,$]),xt}function f$1(ht,$,_e=()=>[document.body]){let vt=x(ht,"scroll-lock");a$2(vt,$,bt=>{var xt;return{containers:[...(xt=bt.containers)!=null?xt:[],_e]}})}function t(ht){return[ht.screenX,ht.screenY]}function u$2(){let ht=reactExports.useRef([-1,-1]);return{wasMoved($){let _e=t($);return ht.current[0]===_e[0]&&ht.current[1]===_e[1]?!1:(ht.current=_e,!0)},update($){ht.current=t($)}}}function l$1(ht){let $={called:!1};return(..._e)=>{if(!$.called)return $.called=!0,ht(..._e)}}function c$3(ht=0){let[$,_e]=reactExports.useState(ht),vt=reactExports.useCallback(wt=>_e(wt),[$]),bt=reactExports.useCallback(wt=>_e(Ct=>Ct|wt),[$]),xt=reactExports.useCallback(wt=>($&wt)===wt,[$]),Et=reactExports.useCallback(wt=>_e(Ct=>Ct&~wt),[_e]),At=reactExports.useCallback(wt=>_e(Ct=>Ct^wt),[_e]);return{flags:$,setFlag:vt,addFlag:bt,hasFlag:xt,removeFlag:Et,toggleFlag:At}}var D$2=(ht=>(ht[ht.None=0]="None",ht[ht.Closed=1]="Closed",ht[ht.Enter=2]="Enter",ht[ht.Leave=4]="Leave",ht))(D$2||{});function A(ht){let $={};for(let _e in ht)ht[_e]===!0&&($[`data-${_e}`]="");return $}function V(ht,$,_e,vt){let[bt,xt]=reactExports.useState(_e),{hasFlag:Et,addFlag:At,removeFlag:wt}=c$3(ht&&bt?3:0),Ct=reactExports.useRef(!1),St=reactExports.useRef(!1),Rt=p$3();return n$3(function Pt(){var kt;if(!ht)return;_e&&xt(!0);let Mt=$.current;return Mt?((kt=void 0)==null||kt.call(vt,_e),M$1(Mt,{inFlight:Ct,prepare(){St.current?St.current=!1:St.current=Ct.current,Ct.current=!0,!St.current&&(_e?(At(3),wt(4)):(At(4),wt(2)))},run(){St.current?_e?(wt(3),At(4)):(wt(4),At(3)):_e?wt(1):At(1)},done(){var Dt;St.current&&typeof Mt.getAnimations=="function"&&Mt.getAnimations().length>0||(Ct.current=!1,wt(7),_e||xt(!1),(Dt=void 0)==null||Dt.call(vt,_e))}})):_e?(At(3),Rt.nextFrame(()=>Pt())):void 0},[ht,_e,$,Rt]),ht?[bt,{closed:Et(1),enter:Et(2),leave:Et(4),transition:Et(2)||Et(4)}]:[_e,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function M$1(ht,{prepare:$,run:_e,done:vt,inFlight:bt}){let xt=o$4();return R(ht,{prepare:$,inFlight:bt}),xt.nextFrame(()=>{xt.add(F$1(ht,vt)),_e()}),xt.dispose}function F$1(ht,$){let _e=l$1($),vt=o$4();if(!ht)return vt.dispose;let{transitionDuration:bt,transitionDelay:xt}=getComputedStyle(ht),[Et,At]=[bt,xt].map(Ct=>{let[St=0]=Ct.split(",").filter(Boolean).map(Rt=>Rt.includes("ms")?parseFloat(Rt):parseFloat(Rt)*1e3).sort((Rt,Pt)=>Pt-Rt);return St}),wt=Et+At;if(wt!==0){let Ct=vt.group(St=>{let Rt=St.setTimeout(()=>{_e(),St.dispose()},wt);St.addEventListener(ht,"transitionrun",Pt=>{Pt.target===Pt.currentTarget&&(Rt(),St.addEventListener(ht,"transitioncancel",kt=>{kt.target===kt.currentTarget&&(_e(),Ct())}))})});vt.addEventListener(ht,"transitionend",St=>{St.target===St.currentTarget&&(_e(),vt.dispose())})}else _e();return vt.dispose}function R(ht,{inFlight:$,prepare:_e}){if($!=null&&$.current){_e();return}let vt=ht.style.transition;ht.style.transition="none",_e(),ht.offsetHeight,ht.style.transition=vt}function F(ht,{container:$,accept:_e,walk:vt}){let bt=reactExports.useRef(_e),xt=reactExports.useRef(vt);reactExports.useEffect(()=>{bt.current=_e,xt.current=vt},[_e,vt]),n$3(()=>{if(!$||!ht)return;let Et=u$7($);if(!Et)return;let At=bt.current,wt=xt.current,Ct=Object.assign(Rt=>At(Rt),{acceptNode:At}),St=Et.createTreeWalker($,NodeFilter.SHOW_ELEMENT,Ct,!1);for(;St.nextNode();)wt(St.currentNode)},[$,ht,bt,xt])}function getNodeName(ht){return isNode(ht)?(ht.nodeName||"").toLowerCase():"#document"}function getWindow(ht){var $;return(ht==null||($=ht.ownerDocument)==null?void 0:$.defaultView)||window}function getDocumentElement(ht){var $;return($=(isNode(ht)?ht.ownerDocument:ht.document)||window.document)==null?void 0:$.documentElement}function isNode(ht){return ht instanceof Node||ht instanceof getWindow(ht).Node}function isElement(ht){return ht instanceof Element||ht instanceof getWindow(ht).Element}function isHTMLElement(ht){return ht instanceof HTMLElement||ht instanceof getWindow(ht).HTMLElement}function isShadowRoot(ht){return typeof ShadowRoot>"u"?!1:ht instanceof ShadowRoot||ht instanceof getWindow(ht).ShadowRoot}function isOverflowElement(ht){const{overflow:$,overflowX:_e,overflowY:vt,display:bt}=getComputedStyle$1(ht);return/auto|scroll|overlay|hidden|clip/.test($+vt+_e)&&!["inline","contents"].includes(bt)}function isTableElement(ht){return["table","td","th"].includes(getNodeName(ht))}function isTopLayer(ht){return[":popover-open",":modal"].some($=>{try{return ht.matches($)}catch{return!1}})}function isContainingBlock(ht){const $=isWebKit(),_e=getComputedStyle$1(ht);return _e.transform!=="none"||_e.perspective!=="none"||(_e.containerType?_e.containerType!=="normal":!1)||!$&&(_e.backdropFilter?_e.backdropFilter!=="none":!1)||!$&&(_e.filter?_e.filter!=="none":!1)||["transform","perspective","filter"].some(vt=>(_e.willChange||"").includes(vt))||["paint","layout","strict","content"].some(vt=>(_e.contain||"").includes(vt))}function getContainingBlock(ht){let $=getParentNode(ht);for(;isHTMLElement($)&&!isLastTraversableNode($);){if(isTopLayer($))return null;if(isContainingBlock($))return $;$=getParentNode($)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(ht){return["html","body","#document"].includes(getNodeName(ht))}function getComputedStyle$1(ht){return getWindow(ht).getComputedStyle(ht)}function getNodeScroll(ht){return isElement(ht)?{scrollLeft:ht.scrollLeft,scrollTop:ht.scrollTop}:{scrollLeft:ht.pageXOffset,scrollTop:ht.pageYOffset}}function getParentNode(ht){if(getNodeName(ht)==="html")return ht;const $=ht.assignedSlot||ht.parentNode||isShadowRoot(ht)&&ht.host||getDocumentElement(ht);return isShadowRoot($)?$.host:$}function getNearestOverflowAncestor(ht){const $=getParentNode(ht);return isLastTraversableNode($)?ht.ownerDocument?ht.ownerDocument.body:ht.body:isHTMLElement($)&&isOverflowElement($)?$:getNearestOverflowAncestor($)}function getOverflowAncestors(ht,$,_e){var vt;$===void 0&&($=[]),_e===void 0&&(_e=!0);const bt=getNearestOverflowAncestor(ht),xt=bt===((vt=ht.ownerDocument)==null?void 0:vt.body),Et=getWindow(bt);return xt?$.concat(Et,Et.visualViewport||[],isOverflowElement(bt)?bt:[],Et.frameElement&&_e?getOverflowAncestors(Et.frameElement):[]):$.concat(bt,getOverflowAncestors(bt,[],_e))}function getUserAgent(){const ht=navigator.userAgentData;return ht&&Array.isArray(ht.brands)?ht.brands.map($=>{let{brand:_e,version:vt}=$;return _e+"/"+vt}).join(" "):navigator.userAgent}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=ht=>({x:ht,y:ht}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(ht,$,_e){return max(ht,min($,_e))}function evaluate(ht,$){return typeof ht=="function"?ht($):ht}function getSide(ht){return ht.split("-")[0]}function getAlignment(ht){return ht.split("-")[1]}function getOppositeAxis(ht){return ht==="x"?"y":"x"}function getAxisLength(ht){return ht==="y"?"height":"width"}function getSideAxis(ht){return["top","bottom"].includes(getSide(ht))?"y":"x"}function getAlignmentAxis(ht){return getOppositeAxis(getSideAxis(ht))}function getAlignmentSides(ht,$,_e){_e===void 0&&(_e=!1);const vt=getAlignment(ht),bt=getAlignmentAxis(ht),xt=getAxisLength(bt);let Et=bt==="x"?vt===(_e?"end":"start")?"right":"left":vt==="start"?"bottom":"top";return $.reference[xt]>$.floating[xt]&&(Et=getOppositePlacement(Et)),[Et,getOppositePlacement(Et)]}function getExpandedPlacements(ht){const $=getOppositePlacement(ht);return[getOppositeAlignmentPlacement(ht),$,getOppositeAlignmentPlacement($)]}function getOppositeAlignmentPlacement(ht){return ht.replace(/start|end/g,$=>oppositeAlignmentMap[$])}function getSideList(ht,$,_e){const vt=["left","right"],bt=["right","left"],xt=["top","bottom"],Et=["bottom","top"];switch(ht){case"top":case"bottom":return _e?$?bt:vt:$?vt:bt;case"left":case"right":return $?xt:Et;default:return[]}}function getOppositeAxisPlacements(ht,$,_e,vt){const bt=getAlignment(ht);let xt=getSideList(getSide(ht),_e==="start",vt);return bt&&(xt=xt.map(Et=>Et+"-"+bt),$&&(xt=xt.concat(xt.map(getOppositeAlignmentPlacement)))),xt}function getOppositePlacement(ht){return ht.replace(/left|right|bottom|top/g,$=>oppositeSideMap[$])}function expandPaddingObject(ht){return{top:0,right:0,bottom:0,left:0,...ht}}function getPaddingObject(ht){return typeof ht!="number"?expandPaddingObject(ht):{top:ht,right:ht,bottom:ht,left:ht}}function rectToClientRect(ht){const{x:$,y:_e,width:vt,height:bt}=ht;return{width:vt,height:bt,top:_e,left:$,right:$+vt,bottom:_e+bt,x:$,y:_e}}function computeCoordsFromPlacement(ht,$,_e){let{reference:vt,floating:bt}=ht;const xt=getSideAxis($),Et=getAlignmentAxis($),At=getAxisLength(Et),wt=getSide($),Ct=xt==="y",St=vt.x+vt.width/2-bt.width/2,Rt=vt.y+vt.height/2-bt.height/2,Pt=vt[At]/2-bt[At]/2;let kt;switch(wt){case"top":kt={x:St,y:vt.y-bt.height};break;case"bottom":kt={x:St,y:vt.y+vt.height};break;case"right":kt={x:vt.x+vt.width,y:Rt};break;case"left":kt={x:vt.x-bt.width,y:Rt};break;default:kt={x:vt.x,y:vt.y}}switch(getAlignment($)){case"start":kt[Et]-=Pt*(_e&&Ct?-1:1);break;case"end":kt[Et]+=Pt*(_e&&Ct?-1:1);break}return kt}const computePosition$1=async(ht,$,_e)=>{const{placement:vt="bottom",strategy:bt="absolute",middleware:xt=[],platform:Et}=_e,At=xt.filter(Boolean),wt=await(Et.isRTL==null?void 0:Et.isRTL($));let Ct=await Et.getElementRects({reference:ht,floating:$,strategy:bt}),{x:St,y:Rt}=computeCoordsFromPlacement(Ct,vt,wt),Pt=vt,kt={},Mt=0;for(let Dt=0;Dt<At.length;Dt++){const{name:$t,fn:Ft}=At[Dt],{x:Lt,y:Ot,data:Ht,reset:Nt}=await Ft({x:St,y:Rt,initialPlacement:vt,placement:Pt,strategy:bt,middlewareData:kt,rects:Ct,platform:Et,elements:{reference:ht,floating:$}});St=Lt??St,Rt=Ot??Rt,kt={...kt,[$t]:{...kt[$t],...Ht}},Nt&&Mt<=50&&(Mt++,typeof Nt=="object"&&(Nt.placement&&(Pt=Nt.placement),Nt.rects&&(Ct=Nt.rects===!0?await Et.getElementRects({reference:ht,floating:$,strategy:bt}):Nt.rects),{x:St,y:Rt}=computeCoordsFromPlacement(Ct,Pt,wt)),Dt=-1)}return{x:St,y:Rt,placement:Pt,strategy:bt,middlewareData:kt}};async function detectOverflow$1(ht,$){var _e;$===void 0&&($={});const{x:vt,y:bt,platform:xt,rects:Et,elements:At,strategy:wt}=ht,{boundary:Ct="clippingAncestors",rootBoundary:St="viewport",elementContext:Rt="floating",altBoundary:Pt=!1,padding:kt=0}=evaluate($,ht),Mt=getPaddingObject(kt),$t=At[Pt?Rt==="floating"?"reference":"floating":Rt],Ft=rectToClientRect(await xt.getClippingRect({element:(_e=await(xt.isElement==null?void 0:xt.isElement($t)))==null||_e?$t:$t.contextElement||await(xt.getDocumentElement==null?void 0:xt.getDocumentElement(At.floating)),boundary:Ct,rootBoundary:St,strategy:wt})),Lt=Rt==="floating"?{x:vt,y:bt,width:Et.floating.width,height:Et.floating.height}:Et.reference,Ot=await(xt.getOffsetParent==null?void 0:xt.getOffsetParent(At.floating)),Ht=await(xt.isElement==null?void 0:xt.isElement(Ot))?await(xt.getScale==null?void 0:xt.getScale(Ot))||{x:1,y:1}:{x:1,y:1},Nt=rectToClientRect(xt.convertOffsetParentRelativeRectToViewportRelativeRect?await xt.convertOffsetParentRelativeRectToViewportRelativeRect({elements:At,rect:Lt,offsetParent:Ot,strategy:wt}):Lt);return{top:(Ft.top-Nt.top+Mt.top)/Ht.y,bottom:(Nt.bottom-Ft.bottom+Mt.bottom)/Ht.y,left:(Ft.left-Nt.left+Mt.left)/Ht.x,right:(Nt.right-Ft.right+Mt.right)/Ht.x}}const flip$2=function(ht){return ht===void 0&&(ht={}),{name:"flip",options:ht,async fn($){var _e,vt;const{placement:bt,middlewareData:xt,rects:Et,initialPlacement:At,platform:wt,elements:Ct}=$,{mainAxis:St=!0,crossAxis:Rt=!0,fallbackPlacements:Pt,fallbackStrategy:kt="bestFit",fallbackAxisSideDirection:Mt="none",flipAlignment:Dt=!0,...$t}=evaluate(ht,$);if((_e=xt.arrow)!=null&&_e.alignmentOffset)return{};const Ft=getSide(bt),Lt=getSideAxis(At),Ot=getSide(At)===At,Ht=await(wt.isRTL==null?void 0:wt.isRTL(Ct.floating)),Nt=Pt||(Ot||!Dt?[getOppositePlacement(At)]:getExpandedPlacements(At)),Bt=Mt!=="none";!Pt&&Bt&&Nt.push(...getOppositeAxisPlacements(At,Dt,Mt,Ht));const jt=[At,...Nt],zt=await detectOverflow$1($,$t),Kt=[];let nn=((vt=xt.flip)==null?void 0:vt.overflows)||[];if(St&&Kt.push(zt[Ft]),Rt){const _n=getAlignmentSides(bt,Et,Ht);Kt.push(zt[_n[0]],zt[_n[1]])}if(nn=[...nn,{placement:bt,overflows:Kt}],!Kt.every(_n=>_n<=0)){var qt,en;const _n=(((qt=xt.flip)==null?void 0:qt.index)||0)+1,dn=jt[_n];if(dn)return{data:{index:_n,overflows:nn},reset:{placement:dn}};let En=(en=nn.filter(cn=>cn.overflows[0]<=0).sort((cn,hn)=>cn.overflows[1]-hn.overflows[1])[0])==null?void 0:en.placement;if(!En)switch(kt){case"bestFit":{var on;const cn=(on=nn.filter(hn=>{if(Bt){const tn=getSideAxis(hn.placement);return tn===Lt||tn==="y"}return!0}).map(hn=>[hn.placement,hn.overflows.filter(tn=>tn>0).reduce((tn,gn)=>tn+gn,0)]).sort((hn,tn)=>hn[1]-tn[1])[0])==null?void 0:on[0];cn&&(En=cn);break}case"initialPlacement":En=At;break}if(bt!==En)return{reset:{placement:En}}}return{}}}};async function convertValueToCoords(ht,$){const{placement:_e,platform:vt,elements:bt}=ht,xt=await(vt.isRTL==null?void 0:vt.isRTL(bt.floating)),Et=getSide(_e),At=getAlignment(_e),wt=getSideAxis(_e)==="y",Ct=["left","top"].includes(Et)?-1:1,St=xt&&wt?-1:1,Rt=evaluate($,ht);let{mainAxis:Pt,crossAxis:kt,alignmentAxis:Mt}=typeof Rt=="number"?{mainAxis:Rt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Rt};return At&&typeof Mt=="number"&&(kt=At==="end"?Mt*-1:Mt),wt?{x:kt*St,y:Pt*Ct}:{x:Pt*Ct,y:kt*St}}const offset$2=function(ht){return ht===void 0&&(ht=0),{name:"offset",options:ht,async fn($){var _e,vt;const{x:bt,y:xt,placement:Et,middlewareData:At}=$,wt=await convertValueToCoords($,ht);return Et===((_e=At.offset)==null?void 0:_e.placement)&&(vt=At.arrow)!=null&&vt.alignmentOffset?{}:{x:bt+wt.x,y:xt+wt.y,data:{...wt,placement:Et}}}}},shift$2=function(ht){return ht===void 0&&(ht={}),{name:"shift",options:ht,async fn($){const{x:_e,y:vt,placement:bt}=$,{mainAxis:xt=!0,crossAxis:Et=!1,limiter:At={fn:$t=>{let{x:Ft,y:Lt}=$t;return{x:Ft,y:Lt}}},...wt}=evaluate(ht,$),Ct={x:_e,y:vt},St=await detectOverflow$1($,wt),Rt=getSideAxis(getSide(bt)),Pt=getOppositeAxis(Rt);let kt=Ct[Pt],Mt=Ct[Rt];if(xt){const $t=Pt==="y"?"top":"left",Ft=Pt==="y"?"bottom":"right",Lt=kt+St[$t],Ot=kt-St[Ft];kt=clamp(Lt,kt,Ot)}if(Et){const $t=Rt==="y"?"top":"left",Ft=Rt==="y"?"bottom":"right",Lt=Mt+St[$t],Ot=Mt-St[Ft];Mt=clamp(Lt,Mt,Ot)}const Dt=At.fn({...$,[Pt]:kt,[Rt]:Mt});return{...Dt,data:{x:Dt.x-_e,y:Dt.y-vt}}}}},size$2=function(ht){return ht===void 0&&(ht={}),{name:"size",options:ht,async fn($){const{placement:_e,rects:vt,platform:bt,elements:xt}=$,{apply:Et=()=>{},...At}=evaluate(ht,$),wt=await detectOverflow$1($,At),Ct=getSide(_e),St=getAlignment(_e),Rt=getSideAxis(_e)==="y",{width:Pt,height:kt}=vt.floating;let Mt,Dt;Ct==="top"||Ct==="bottom"?(Mt=Ct,Dt=St===(await(bt.isRTL==null?void 0:bt.isRTL(xt.floating))?"start":"end")?"left":"right"):(Dt=Ct,Mt=St==="end"?"top":"bottom");const $t=kt-wt.top-wt.bottom,Ft=Pt-wt.left-wt.right,Lt=min(kt-wt[Mt],$t),Ot=min(Pt-wt[Dt],Ft),Ht=!$.middlewareData.shift;let Nt=Lt,Bt=Ot;if(Rt?Bt=St||Ht?min(Ot,Ft):Ft:Nt=St||Ht?min(Lt,$t):$t,Ht&&!St){const zt=max(wt.left,0),Kt=max(wt.right,0),nn=max(wt.top,0),qt=max(wt.bottom,0);Rt?Bt=Pt-2*(zt!==0||Kt!==0?zt+Kt:max(wt.left,wt.right)):Nt=kt-2*(nn!==0||qt!==0?nn+qt:max(wt.top,wt.bottom))}await Et({...$,availableWidth:Bt,availableHeight:Nt});const jt=await bt.getDimensions(xt.floating);return Pt!==jt.width||kt!==jt.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(ht){const $=getComputedStyle$1(ht);let _e=parseFloat($.width)||0,vt=parseFloat($.height)||0;const bt=isHTMLElement(ht),xt=bt?ht.offsetWidth:_e,Et=bt?ht.offsetHeight:vt,At=round(_e)!==xt||round(vt)!==Et;return At&&(_e=xt,vt=Et),{width:_e,height:vt,$:At}}function unwrapElement(ht){return isElement(ht)?ht:ht.contextElement}function getScale(ht){const $=unwrapElement(ht);if(!isHTMLElement($))return createCoords(1);const _e=$.getBoundingClientRect(),{width:vt,height:bt,$:xt}=getCssDimensions($);let Et=(xt?round(_e.width):_e.width)/vt,At=(xt?round(_e.height):_e.height)/bt;return(!Et||!Number.isFinite(Et))&&(Et=1),(!At||!Number.isFinite(At))&&(At=1),{x:Et,y:At}}const noOffsets=createCoords(0);function getVisualOffsets(ht){const $=getWindow(ht);return!isWebKit()||!$.visualViewport?noOffsets:{x:$.visualViewport.offsetLeft,y:$.visualViewport.offsetTop}}function shouldAddVisualOffsets(ht,$,_e){return $===void 0&&($=!1),!_e||$&&_e!==getWindow(ht)?!1:$}function getBoundingClientRect(ht,$,_e,vt){$===void 0&&($=!1),_e===void 0&&(_e=!1);const bt=ht.getBoundingClientRect(),xt=unwrapElement(ht);let Et=createCoords(1);$&&(vt?isElement(vt)&&(Et=getScale(vt)):Et=getScale(ht));const At=shouldAddVisualOffsets(xt,_e,vt)?getVisualOffsets(xt):createCoords(0);let wt=(bt.left+At.x)/Et.x,Ct=(bt.top+At.y)/Et.y,St=bt.width/Et.x,Rt=bt.height/Et.y;if(xt){const Pt=getWindow(xt),kt=vt&&isElement(vt)?getWindow(vt):vt;let Mt=Pt,Dt=Mt.frameElement;for(;Dt&&vt&&kt!==Mt;){const $t=getScale(Dt),Ft=Dt.getBoundingClientRect(),Lt=getComputedStyle$1(Dt),Ot=Ft.left+(Dt.clientLeft+parseFloat(Lt.paddingLeft))*$t.x,Ht=Ft.top+(Dt.clientTop+parseFloat(Lt.paddingTop))*$t.y;wt*=$t.x,Ct*=$t.y,St*=$t.x,Rt*=$t.y,wt+=Ot,Ct+=Ht,Mt=getWindow(Dt),Dt=Mt.frameElement}}return rectToClientRect({width:St,height:Rt,x:wt,y:Ct})}function convertOffsetParentRelativeRectToViewportRelativeRect(ht){let{elements:$,rect:_e,offsetParent:vt,strategy:bt}=ht;const xt=bt==="fixed",Et=getDocumentElement(vt),At=$?isTopLayer($.floating):!1;if(vt===Et||At&&xt)return _e;let wt={scrollLeft:0,scrollTop:0},Ct=createCoords(1);const St=createCoords(0),Rt=isHTMLElement(vt);if((Rt||!Rt&&!xt)&&((getNodeName(vt)!=="body"||isOverflowElement(Et))&&(wt=getNodeScroll(vt)),isHTMLElement(vt))){const Pt=getBoundingClientRect(vt);Ct=getScale(vt),St.x=Pt.x+vt.clientLeft,St.y=Pt.y+vt.clientTop}return{width:_e.width*Ct.x,height:_e.height*Ct.y,x:_e.x*Ct.x-wt.scrollLeft*Ct.x+St.x,y:_e.y*Ct.y-wt.scrollTop*Ct.y+St.y}}function getClientRects(ht){return Array.from(ht.getClientRects())}function getWindowScrollBarX(ht){return getBoundingClientRect(getDocumentElement(ht)).left+getNodeScroll(ht).scrollLeft}function getDocumentRect(ht){const $=getDocumentElement(ht),_e=getNodeScroll(ht),vt=ht.ownerDocument.body,bt=max($.scrollWidth,$.clientWidth,vt.scrollWidth,vt.clientWidth),xt=max($.scrollHeight,$.clientHeight,vt.scrollHeight,vt.clientHeight);let Et=-_e.scrollLeft+getWindowScrollBarX(ht);const At=-_e.scrollTop;return getComputedStyle$1(vt).direction==="rtl"&&(Et+=max($.clientWidth,vt.clientWidth)-bt),{width:bt,height:xt,x:Et,y:At}}function getViewportRect(ht,$){const _e=getWindow(ht),vt=getDocumentElement(ht),bt=_e.visualViewport;let xt=vt.clientWidth,Et=vt.clientHeight,At=0,wt=0;if(bt){xt=bt.width,Et=bt.height;const Ct=isWebKit();(!Ct||Ct&&$==="fixed")&&(At=bt.offsetLeft,wt=bt.offsetTop)}return{width:xt,height:Et,x:At,y:wt}}function getInnerBoundingClientRect(ht,$){const _e=getBoundingClientRect(ht,!0,$==="fixed"),vt=_e.top+ht.clientTop,bt=_e.left+ht.clientLeft,xt=isHTMLElement(ht)?getScale(ht):createCoords(1),Et=ht.clientWidth*xt.x,At=ht.clientHeight*xt.y,wt=bt*xt.x,Ct=vt*xt.y;return{width:Et,height:At,x:wt,y:Ct}}function getClientRectFromClippingAncestor(ht,$,_e){let vt;if($==="viewport")vt=getViewportRect(ht,_e);else if($==="document")vt=getDocumentRect(getDocumentElement(ht));else if(isElement($))vt=getInnerBoundingClientRect($,_e);else{const bt=getVisualOffsets(ht);vt={...$,x:$.x-bt.x,y:$.y-bt.y}}return rectToClientRect(vt)}function hasFixedPositionAncestor(ht,$){const _e=getParentNode(ht);return _e===$||!isElement(_e)||isLastTraversableNode(_e)?!1:getComputedStyle$1(_e).position==="fixed"||hasFixedPositionAncestor(_e,$)}function getClippingElementAncestors(ht,$){const _e=$.get(ht);if(_e)return _e;let vt=getOverflowAncestors(ht,[],!1).filter(At=>isElement(At)&&getNodeName(At)!=="body"),bt=null;const xt=getComputedStyle$1(ht).position==="fixed";let Et=xt?getParentNode(ht):ht;for(;isElement(Et)&&!isLastTraversableNode(Et);){const At=getComputedStyle$1(Et),wt=isContainingBlock(Et);!wt&&At.position==="fixed"&&(bt=null),(xt?!wt&&!bt:!wt&&At.position==="static"&&!!bt&&["absolute","fixed"].includes(bt.position)||isOverflowElement(Et)&&!wt&&hasFixedPositionAncestor(ht,Et))?vt=vt.filter(St=>St!==Et):bt=At,Et=getParentNode(Et)}return $.set(ht,vt),vt}function getClippingRect(ht){let{element:$,boundary:_e,rootBoundary:vt,strategy:bt}=ht;const Et=[..._e==="clippingAncestors"?isTopLayer($)?[]:getClippingElementAncestors($,this._c):[].concat(_e),vt],At=Et[0],wt=Et.reduce((Ct,St)=>{const Rt=getClientRectFromClippingAncestor($,St,bt);return Ct.top=max(Rt.top,Ct.top),Ct.right=min(Rt.right,Ct.right),Ct.bottom=min(Rt.bottom,Ct.bottom),Ct.left=max(Rt.left,Ct.left),Ct},getClientRectFromClippingAncestor($,At,bt));return{width:wt.right-wt.left,height:wt.bottom-wt.top,x:wt.left,y:wt.top}}function getDimensions(ht){const{width:$,height:_e}=getCssDimensions(ht);return{width:$,height:_e}}function getRectRelativeToOffsetParent(ht,$,_e){const vt=isHTMLElement($),bt=getDocumentElement($),xt=_e==="fixed",Et=getBoundingClientRect(ht,!0,xt,$);let At={scrollLeft:0,scrollTop:0};const wt=createCoords(0);if(vt||!vt&&!xt)if((getNodeName($)!=="body"||isOverflowElement(bt))&&(At=getNodeScroll($)),vt){const Rt=getBoundingClientRect($,!0,xt,$);wt.x=Rt.x+$.clientLeft,wt.y=Rt.y+$.clientTop}else bt&&(wt.x=getWindowScrollBarX(bt));const Ct=Et.left+At.scrollLeft-wt.x,St=Et.top+At.scrollTop-wt.y;return{x:Ct,y:St,width:Et.width,height:Et.height}}function isStaticPositioned(ht){return getComputedStyle$1(ht).position==="static"}function getTrueOffsetParent(ht,$){return!isHTMLElement(ht)||getComputedStyle$1(ht).position==="fixed"?null:$?$(ht):ht.offsetParent}function getOffsetParent(ht,$){const _e=getWindow(ht);if(isTopLayer(ht))return _e;if(!isHTMLElement(ht)){let bt=getParentNode(ht);for(;bt&&!isLastTraversableNode(bt);){if(isElement(bt)&&!isStaticPositioned(bt))return bt;bt=getParentNode(bt)}return _e}let vt=getTrueOffsetParent(ht,$);for(;vt&&isTableElement(vt)&&isStaticPositioned(vt);)vt=getTrueOffsetParent(vt,$);return vt&&isLastTraversableNode(vt)&&isStaticPositioned(vt)&&!isContainingBlock(vt)?_e:vt||getContainingBlock(ht)||_e}const getElementRects=async function(ht){const $=this.getOffsetParent||getOffsetParent,_e=this.getDimensions,vt=await _e(ht.floating);return{reference:getRectRelativeToOffsetParent(ht.reference,await $(ht.floating),ht.strategy),floating:{x:0,y:0,width:vt.width,height:vt.height}}};function isRTL(ht){return getComputedStyle$1(ht).direction==="rtl"}const platform$2={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(ht,$){let _e=null,vt;const bt=getDocumentElement(ht);function xt(){var At;clearTimeout(vt),(At=_e)==null||At.disconnect(),_e=null}function Et(At,wt){At===void 0&&(At=!1),wt===void 0&&(wt=1),xt();const{left:Ct,top:St,width:Rt,height:Pt}=ht.getBoundingClientRect();if(At||$(),!Rt||!Pt)return;const kt=floor(St),Mt=floor(bt.clientWidth-(Ct+Rt)),Dt=floor(bt.clientHeight-(St+Pt)),$t=floor(Ct),Lt={rootMargin:-kt+"px "+-Mt+"px "+-Dt+"px "+-$t+"px",threshold:max(0,min(1,wt))||1};let Ot=!0;function Ht(Nt){const Bt=Nt[0].intersectionRatio;if(Bt!==wt){if(!Ot)return Et();Bt?Et(!1,Bt):vt=setTimeout(()=>{Et(!1,1e-7)},1e3)}Ot=!1}try{_e=new IntersectionObserver(Ht,{...Lt,root:bt.ownerDocument})}catch{_e=new IntersectionObserver(Ht,Lt)}_e.observe(ht)}return Et(!0),xt}function autoUpdate(ht,$,_e,vt){vt===void 0&&(vt={});const{ancestorScroll:bt=!0,ancestorResize:xt=!0,elementResize:Et=typeof ResizeObserver=="function",layoutShift:At=typeof IntersectionObserver=="function",animationFrame:wt=!1}=vt,Ct=unwrapElement(ht),St=bt||xt?[...Ct?getOverflowAncestors(Ct):[],...getOverflowAncestors($)]:[];St.forEach(Ft=>{bt&&Ft.addEventListener("scroll",_e,{passive:!0}),xt&&Ft.addEventListener("resize",_e)});const Rt=Ct&&At?observeMove(Ct,_e):null;let Pt=-1,kt=null;Et&&(kt=new ResizeObserver(Ft=>{let[Lt]=Ft;Lt&&Lt.target===Ct&&kt&&(kt.unobserve($),cancelAnimationFrame(Pt),Pt=requestAnimationFrame(()=>{var Ot;(Ot=kt)==null||Ot.observe($)})),_e()}),Ct&&!wt&&kt.observe(Ct),kt.observe($));let Mt,Dt=wt?getBoundingClientRect(ht):null;wt&&$t();function $t(){const Ft=getBoundingClientRect(ht);Dt&&(Ft.x!==Dt.x||Ft.y!==Dt.y||Ft.width!==Dt.width||Ft.height!==Dt.height)&&_e(),Dt=Ft,Mt=requestAnimationFrame($t)}return _e(),()=>{var Ft;St.forEach(Lt=>{bt&&Lt.removeEventListener("scroll",_e),xt&&Lt.removeEventListener("resize",_e)}),Rt==null||Rt(),(Ft=kt)==null||Ft.disconnect(),kt=null,wt&&cancelAnimationFrame(Mt)}}const detectOverflow=detectOverflow$1,offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,computePosition=(ht,$,_e)=>{const vt=new Map,bt={platform:platform$2,..._e},xt={...bt.platform,_c:vt};return computePosition$1(ht,$,{...bt,platform:xt})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(ht,$){if(ht===$)return!0;if(typeof ht!=typeof $)return!1;if(typeof ht=="function"&&ht.toString()===$.toString())return!0;let _e,vt,bt;if(ht&&$&&typeof ht=="object"){if(Array.isArray(ht)){if(_e=ht.length,_e!==$.length)return!1;for(vt=_e;vt--!==0;)if(!deepEqual(ht[vt],$[vt]))return!1;return!0}if(bt=Object.keys(ht),_e=bt.length,_e!==Object.keys($).length)return!1;for(vt=_e;vt--!==0;)if(!{}.hasOwnProperty.call($,bt[vt]))return!1;for(vt=_e;vt--!==0;){const xt=bt[vt];if(!(xt==="_owner"&&ht.$$typeof)&&!deepEqual(ht[xt],$[xt]))return!1}return!0}return ht!==ht&&$!==$}function getDPR(ht){return typeof window>"u"?1:(ht.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(ht,$){const _e=getDPR(ht);return Math.round($*_e)/_e}function useLatestRef(ht){const $=reactExports.useRef(ht);return index$1(()=>{$.current=ht}),$}function useFloating$1(ht){ht===void 0&&(ht={});const{placement:$="bottom",strategy:_e="absolute",middleware:vt=[],platform:bt,elements:{reference:xt,floating:Et}={},transform:At=!0,whileElementsMounted:wt,open:Ct}=ht,[St,Rt]=reactExports.useState({x:0,y:0,strategy:_e,placement:$,middlewareData:{},isPositioned:!1}),[Pt,kt]=reactExports.useState(vt);deepEqual(Pt,vt)||kt(vt);const[Mt,Dt]=reactExports.useState(null),[$t,Ft]=reactExports.useState(null),Lt=reactExports.useCallback(cn=>{cn!==Bt.current&&(Bt.current=cn,Dt(cn))},[]),Ot=reactExports.useCallback(cn=>{cn!==jt.current&&(jt.current=cn,Ft(cn))},[]),Ht=xt||Mt,Nt=Et||$t,Bt=reactExports.useRef(null),jt=reactExports.useRef(null),zt=reactExports.useRef(St),Kt=wt!=null,nn=useLatestRef(wt),qt=useLatestRef(bt),en=reactExports.useCallback(()=>{if(!Bt.current||!jt.current)return;const cn={placement:$,strategy:_e,middleware:Pt};qt.current&&(cn.platform=qt.current),computePosition(Bt.current,jt.current,cn).then(hn=>{const tn={...hn,isPositioned:!0};on.current&&!deepEqual(zt.current,tn)&&(zt.current=tn,reactDomExports.flushSync(()=>{Rt(tn)}))})},[Pt,$,_e,qt]);index$1(()=>{Ct===!1&&zt.current.isPositioned&&(zt.current.isPositioned=!1,Rt(cn=>({...cn,isPositioned:!1})))},[Ct]);const on=reactExports.useRef(!1);index$1(()=>(on.current=!0,()=>{on.current=!1}),[]),index$1(()=>{if(Ht&&(Bt.current=Ht),Nt&&(jt.current=Nt),Ht&&Nt){if(nn.current)return nn.current(Ht,Nt,en);en()}},[Ht,Nt,en,nn,Kt]);const _n=reactExports.useMemo(()=>({reference:Bt,floating:jt,setReference:Lt,setFloating:Ot}),[Lt,Ot]),dn=reactExports.useMemo(()=>({reference:Ht,floating:Nt}),[Ht,Nt]),En=reactExports.useMemo(()=>{const cn={position:_e,left:0,top:0};if(!dn.floating)return cn;const hn=roundByDPR(dn.floating,St.x),tn=roundByDPR(dn.floating,St.y);return At?{...cn,transform:"translate("+hn+"px, "+tn+"px)",...getDPR(dn.floating)>=1.5&&{willChange:"transform"}}:{position:_e,left:hn,top:tn}},[_e,At,dn.floating,St.x,St.y]);return reactExports.useMemo(()=>({...St,update:en,refs:_n,elements:dn,floatingStyles:En}),[St,en,_n,dn,En])}const offset=(ht,$)=>({...offset$1(ht),options:[ht,$]}),shift=(ht,$)=>({...shift$1(ht),options:[ht,$]}),flip=(ht,$)=>({...flip$1(ht),options:[ht,$]}),size=(ht,$)=>({...size$1(ht),options:[ht,$]}),SafeReact={...t$4},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(ht=>ht());function useEffectEvent(ht){const $=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{$.current=ht}),reactExports.useCallback(function(){for(var _e=arguments.length,vt=new Array(_e),bt=0;bt<_e;bt++)vt[bt]=arguments[bt];return $.current==null?void 0:$.current(...vt)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[ht,$]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{ht==null&&$(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),ht}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const ht=new Map;return{emit($,_e){var vt;(vt=ht.get($))==null||vt.forEach(bt=>bt(_e))},on($,_e){ht.set($,[...ht.get($)||[],_e])},off($,_e){var vt;ht.set($,((vt=ht.get($))==null?void 0:vt.filter(bt=>bt!==_e))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var ht;return((ht=reactExports.useContext(FloatingNodeContext))==null?void 0:ht.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(ht){const{open:$=!1,onOpenChange:_e,elements:vt}=ht,bt=useId(),xt=reactExports.useRef({}),[Et]=reactExports.useState(()=>createPubSub()),At=useFloatingParentNodeId()!=null,[wt,Ct]=reactExports.useState(vt.reference),St=useEffectEvent((kt,Mt,Dt)=>{xt.current.openEvent=kt?Mt:void 0,Et.emit("openchange",{open:kt,event:Mt,reason:Dt,nested:At}),_e==null||_e(kt,Mt,Dt)}),Rt=reactExports.useMemo(()=>({setPositionReference:Ct}),[]),Pt=reactExports.useMemo(()=>({reference:wt||vt.reference||null,floating:vt.floating||null,domReference:vt.reference}),[wt,vt.reference,vt.floating]);return reactExports.useMemo(()=>({dataRef:xt,open:$,onOpenChange:St,elements:Pt,events:Et,floatingId:bt,refs:Rt}),[$,St,Pt,Et,bt,Rt])}function useFloating(ht){ht===void 0&&(ht={});const{nodeId:$}=ht,_e=useFloatingRootContext({...ht,elements:{reference:null,floating:null,...ht.elements}}),vt=ht.rootContext||_e,bt=vt.elements,[xt,Et]=reactExports.useState(null),[At,wt]=reactExports.useState(null),St=(bt==null?void 0:bt.reference)||xt,Rt=reactExports.useRef(null),Pt=useFloatingTree();index(()=>{St&&(Rt.current=St)},[St]);const kt=useFloating$1({...ht,elements:{...bt,...At&&{reference:At}}}),Mt=reactExports.useCallback(Ot=>{const Ht=isElement(Ot)?{getBoundingClientRect:()=>Ot.getBoundingClientRect(),contextElement:Ot}:Ot;wt(Ht),kt.refs.setReference(Ht)},[kt.refs]),Dt=reactExports.useCallback(Ot=>{(isElement(Ot)||Ot===null)&&(Rt.current=Ot,Et(Ot)),(isElement(kt.refs.reference.current)||kt.refs.reference.current===null||Ot!==null&&!isElement(Ot))&&kt.refs.setReference(Ot)},[kt.refs]),$t=reactExports.useMemo(()=>({...kt.refs,setReference:Dt,setPositionReference:Mt,domReference:Rt}),[kt.refs,Dt,Mt]),Ft=reactExports.useMemo(()=>({...kt.elements,domReference:St}),[kt.elements,St]),Lt=reactExports.useMemo(()=>({...kt,...vt,refs:$t,elements:Ft,nodeId:$}),[kt,$t,Ft,$,vt]);return index(()=>{vt.dataRef.current.floatingContext=Lt;const Ot=Pt==null?void 0:Pt.nodesRef.current.find(Ht=>Ht.id===$);Ot&&(Ot.context=Lt)}),reactExports.useMemo(()=>({...kt,context:Lt,refs:$t,elements:Ft}),[kt,$t,Ft,Lt])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps(ht,$,_e){const vt=new Map,bt=_e==="item";let xt=ht;if(bt&&ht){const{[ACTIVE_KEY]:Et,[SELECTED_KEY]:At,...wt}=ht;xt=wt}return{..._e==="floating"&&{tabIndex:-1},...xt,...$.map(Et=>{const At=Et?Et[_e]:null;return typeof At=="function"?ht?At(ht):null:At}).concat(ht).reduce((Et,At)=>(At&&Object.entries(At).forEach(wt=>{let[Ct,St]=wt;if(!(bt&&[ACTIVE_KEY,SELECTED_KEY].includes(Ct)))if(Ct.indexOf("on")===0){if(vt.has(Ct)||vt.set(Ct,[]),typeof St=="function"){var Rt;(Rt=vt.get(Ct))==null||Rt.push(St),Et[Ct]=function(){for(var Pt,kt=arguments.length,Mt=new Array(kt),Dt=0;Dt<kt;Dt++)Mt[Dt]=arguments[Dt];return(Pt=vt.get(Ct))==null?void 0:Pt.map($t=>$t(...Mt)).find($t=>$t!==void 0)}}}else Et[Ct]=St}),Et),{})}}function useInteractions(ht){ht===void 0&&(ht=[]);const $=ht.map(At=>At==null?void 0:At.reference),_e=ht.map(At=>At==null?void 0:At.floating),vt=ht.map(At=>At==null?void 0:At.item),bt=reactExports.useCallback(At=>mergeProps(At,ht,"reference"),$),xt=reactExports.useCallback(At=>mergeProps(At,ht,"floating"),_e),Et=reactExports.useCallback(At=>mergeProps(At,ht,"item"),vt);return reactExports.useMemo(()=>({getReferenceProps:bt,getFloatingProps:xt,getItemProps:Et}),[bt,xt,Et])}function getArgsWithCustomFloatingHeight(ht,$){return{...ht,rects:{...ht.rects,floating:{...ht.rects.floating,height:$}}}}const inner=ht=>({name:"inner",options:ht,async fn($){const{listRef:_e,overflowRef:vt,onFallbackChange:bt,offset:xt=0,index:Et=0,minItemsVisible:At=4,referenceOverflowThreshold:wt=0,scrollRef:Ct,...St}=evaluate(ht,$),{rects:Rt,elements:{floating:Pt}}=$,kt=_e.current[Et];if(!kt)return{};const Mt={...$,...await offset(-kt.offsetTop-Pt.clientTop-Rt.reference.height/2-kt.offsetHeight/2-xt).fn($)},Dt=(Ct==null?void 0:Ct.current)||Pt,$t=await detectOverflow(getArgsWithCustomFloatingHeight(Mt,Dt.scrollHeight),St),Ft=await detectOverflow(Mt,{...St,elementContext:"reference"}),Lt=Math.max(0,$t.top),Ot=Mt.y+Lt,Ht=Math.max(0,Dt.scrollHeight-Lt-Math.max(0,$t.bottom));return Dt.style.maxHeight=Ht+"px",Dt.scrollTop=Lt,bt&&(Dt.offsetHeight<kt.offsetHeight*Math.min(At,_e.current.length-1)-1||Ft.top>=-wt||Ft.bottom>=-wt?reactDomExports.flushSync(()=>bt(!0)):reactDomExports.flushSync(()=>bt(!1))),vt&&(vt.current=await detectOverflow(getArgsWithCustomFloatingHeight({...Mt,y:Ot},Dt.offsetHeight),St)),{y:Ot}}});function useInnerOffset(ht,$){const{open:_e,elements:vt}=ht,{enabled:bt=!0,overflowRef:xt,scrollRef:Et,onChange:At}=$,wt=useEffectEvent(At),Ct=reactExports.useRef(!1),St=reactExports.useRef(null),Rt=reactExports.useRef(null);reactExports.useEffect(()=>{if(!bt)return;function kt(Dt){if(Dt.ctrlKey||!Mt||xt.current==null)return;const $t=Dt.deltaY,Ft=xt.current.top>=-.5,Lt=xt.current.bottom>=-.5,Ot=Mt.scrollHeight-Mt.clientHeight,Ht=$t<0?-1:1,Nt=$t<0?"max":"min";Mt.scrollHeight<=Mt.clientHeight||(!Ft&&$t>0||!Lt&&$t<0?(Dt.preventDefault(),reactDomExports.flushSync(()=>{wt(Bt=>Bt+Math[Nt]($t,Ot*Ht))})):/firefox/i.test(getUserAgent())&&(Mt.scrollTop+=$t))}const Mt=(Et==null?void 0:Et.current)||vt.floating;if(_e&&Mt)return Mt.addEventListener("wheel",kt),requestAnimationFrame(()=>{St.current=Mt.scrollTop,xt.current!=null&&(Rt.current={...xt.current})}),()=>{St.current=null,Rt.current=null,Mt.removeEventListener("wheel",kt)}},[bt,_e,vt.floating,xt,Et,wt]);const Pt=reactExports.useMemo(()=>({onKeyDown(){Ct.current=!0},onWheel(){Ct.current=!1},onPointerMove(){Ct.current=!1},onScroll(){const kt=(Et==null?void 0:Et.current)||vt.floating;if(!(!xt.current||!kt||!Ct.current)){if(St.current!==null){const Mt=kt.scrollTop-St.current;(xt.current.bottom<-.5&&Mt<-1||xt.current.top<-.5&&Mt>1)&&reactDomExports.flushSync(()=>wt(Dt=>Dt+Mt))}requestAnimationFrame(()=>{St.current=kt.scrollTop})}}}),[vt.floating,wt,xt,Et]);return reactExports.useMemo(()=>bt?{floating:Pt}:{},[bt,Pt])}let y$1=reactExports.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y$1.displayName="FloatingContext";let S$1=reactExports.createContext(null);S$1.displayName="PlacementContext";function xe(ht){return reactExports.useMemo(()=>ht?typeof ht=="string"?{to:ht}:ht:null,[ht])}function ye(){return reactExports.useContext(y$1).setReference}function Fe(){return reactExports.useContext(y$1).getReferenceProps}function be(){let{getFloatingProps:ht,slot:$}=reactExports.useContext(y$1);return reactExports.useCallback((..._e)=>Object.assign({},ht(..._e),{"data-anchor":$.anchor}),[ht,$])}function Re(ht=null){ht===!1&&(ht=null),typeof ht=="string"&&(ht={to:ht});let $=reactExports.useContext(S$1),_e=reactExports.useMemo(()=>ht,[JSON.stringify(ht,typeof HTMLElement<"u"?(bt,xt)=>xt instanceof HTMLElement?xt.outerHTML:xt:void 0)]);n$3(()=>{$==null||$(_e??null)},[$,_e]);let vt=reactExports.useContext(y$1);return reactExports.useMemo(()=>[vt.setFloating,ht?vt.styles:{}],[vt.setFloating,ht,vt.styles])}let q=4;function ve({children:ht,enabled:$=!0}){let[_e,vt]=reactExports.useState(null),[bt,xt]=reactExports.useState(0),Et=reactExports.useRef(null),[At,wt]=reactExports.useState(null);pe(At);let Ct=$&&_e!==null&&At!==null,{to:St="bottom",gap:Rt=0,offset:Pt=0,padding:kt=0,inner:Mt}=ce(_e,At),[Dt,$t="center"]=St.split(" ");n$3(()=>{Ct&&xt(0)},[Ct]);let{refs:Ft,floatingStyles:Lt,context:Ot}=useFloating({open:Ct,placement:Dt==="selection"?$t==="center"?"bottom":`bottom-${$t}`:$t==="center"?`${Dt}`:`${Dt}-${$t}`,strategy:"absolute",transform:!1,middleware:[offset({mainAxis:Dt==="selection"?0:Rt,crossAxis:Pt}),shift({padding:kt}),Dt!=="selection"&&flip({padding:kt}),Dt==="selection"&&Mt?inner({...Mt,padding:kt,overflowRef:Et,offset:bt,minItemsVisible:q,referenceOverflowThreshold:kt,onFallbackChange(qt){var en,on;if(!qt)return;let _n=Ot.elements.floating;if(!_n)return;let dn=parseFloat(getComputedStyle(_n).scrollPaddingBottom)||0,En=Math.min(q,_n.childElementCount),cn=0,hn=0;for(let tn of(on=(en=Ot.elements.floating)==null?void 0:en.childNodes)!=null?on:[])if(tn instanceof HTMLElement){let gn=tn.offsetTop,Sn=gn+tn.clientHeight+dn,rn=_n.scrollTop,Xt=rn+_n.clientHeight;if(gn>=rn&&Sn<=Xt)En--;else{hn=Math.max(0,Math.min(Sn,Xt)-Math.max(gn,rn)),cn=tn.clientHeight;break}}En>=1&&xt(tn=>{let gn=cn*En-hn+dn;return tn>=gn?tn:gn})}}):null,size({padding:kt,apply({availableWidth:qt,availableHeight:en,elements:on}){Object.assign(on.floating.style,{overflow:"auto",maxWidth:`${qt}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${en}px)`})}})].filter(Boolean),whileElementsMounted:autoUpdate}),[Ht=Dt,Nt=$t]=Ot.placement.split("-");Dt==="selection"&&(Ht="selection");let Bt=reactExports.useMemo(()=>({anchor:[Ht,Nt].filter(Boolean).join(" ")}),[Ht,Nt]),jt=useInnerOffset(Ot,{overflowRef:Et,onChange:xt}),{getReferenceProps:zt,getFloatingProps:Kt}=useInteractions([jt]),nn=o$3(qt=>{wt(qt),Ft.setFloating(qt)});return reactExports.createElement(S$1.Provider,{value:vt},reactExports.createElement(y$1.Provider,{value:{setFloating:nn,setReference:Ft.setReference,styles:Lt,getReferenceProps:zt,getFloatingProps:Kt,slot:Bt}},ht))}function pe(ht){n$3(()=>{if(!ht)return;let $=new MutationObserver(()=>{let _e=ht.style.maxHeight;parseFloat(_e)!==parseInt(_e)&&(ht.style.maxHeight=`${Math.ceil(parseFloat(_e))}px`)});return $.observe(ht,{attributes:!0,attributeFilter:["style"]}),()=>{$.disconnect()}},[ht])}function ce(ht,$){var _e,vt,bt;let xt=L((_e=ht==null?void 0:ht.gap)!=null?_e:"var(--anchor-gap, 0)",$),Et=L((vt=ht==null?void 0:ht.offset)!=null?vt:"var(--anchor-offset, 0)",$),At=L((bt=ht==null?void 0:ht.padding)!=null?bt:"var(--anchor-padding, 0)",$);return{...ht,gap:xt,offset:Et,padding:At}}function L(ht,$,_e=void 0){let vt=p$3(),bt=o$3((wt,Ct)=>{if(wt==null)return[_e,null];if(typeof wt=="number")return[wt,null];if(typeof wt=="string"){if(!Ct)return[_e,null];let St=J$1(wt,Ct);return[St,Rt=>{let Pt=D$1(wt);{let kt=Pt.map(Mt=>window.getComputedStyle(Ct).getPropertyValue(Mt));vt.requestAnimationFrame(function Mt(){vt.nextFrame(Mt);let Dt=!1;for(let[Ft,Lt]of Pt.entries()){let Ot=window.getComputedStyle(Ct).getPropertyValue(Lt);if(kt[Ft]!==Ot){kt[Ft]=Ot,Dt=!0;break}}if(!Dt)return;let $t=J$1(wt,Ct);St!==$t&&(Rt($t),St=$t)})}return vt.dispose}]}return[_e,null]}),xt=reactExports.useMemo(()=>bt(ht,$)[0],[ht,$]),[Et=xt,At]=reactExports.useState();return n$3(()=>{let[wt,Ct]=bt(ht,$);if(At(wt),!!Ct)return Ct(At)},[ht,$]),Et}function D$1(ht){let $=/var\((.*)\)/.exec(ht);if($){let _e=$[1].indexOf(",");if(_e===-1)return[$[1]];let vt=$[1].slice(0,_e).trim(),bt=$[1].slice(_e+1).trim();return bt?[vt,...D$1(bt)]:[vt]}return[]}function J$1(ht,$){let _e=document.createElement("div");$.appendChild(_e),_e.style.setProperty("margin-top","0px","important"),_e.style.setProperty("margin-top",ht,"important");let vt=parseFloat(window.getComputedStyle(_e).marginTop)||0;return $.removeChild(_e),vt}let n=reactExports.createContext(null);n.displayName="OpenClosedContext";var i=(ht=>(ht[ht.Open=1]="Open",ht[ht.Closed=2]="Closed",ht[ht.Closing=4]="Closing",ht[ht.Opening=8]="Opening",ht))(i||{});function u$1(){return reactExports.useContext(n)}function c$2({value:ht,children:$}){return React.createElement(n.Provider,{value:ht},$)}function u(ht){throw new Error("Unexpected object: "+ht)}var c$1=(ht=>(ht[ht.First=0]="First",ht[ht.Previous=1]="Previous",ht[ht.Next=2]="Next",ht[ht.Last=3]="Last",ht[ht.Specific=4]="Specific",ht[ht.Nothing=5]="Nothing",ht))(c$1||{});function f(ht,$){let _e=$.resolveItems();if(_e.length<=0)return null;let vt=$.resolveActiveIndex(),bt=vt??-1;switch(ht.focus){case 0:{for(let xt=0;xt<_e.length;++xt)if(!$.resolveDisabled(_e[xt],xt,_e))return xt;return vt}case 1:{bt===-1&&(bt=_e.length);for(let xt=bt-1;xt>=0;--xt)if(!$.resolveDisabled(_e[xt],xt,_e))return xt;return vt}case 2:{for(let xt=bt+1;xt<_e.length;++xt)if(!$.resolveDisabled(_e[xt],xt,_e))return xt;return vt}case 3:{for(let xt=_e.length-1;xt>=0;--xt)if(!$.resolveDisabled(_e[xt],xt,_e))return xt;return vt}case 4:{for(let xt=0;xt<_e.length;++xt)if($.resolveId(_e[xt],xt,_e)===ht.id)return xt;return vt}case 5:return null;default:u(ht)}}function c(ht){let $=o$3(ht),_e=reactExports.useRef(!1);reactExports.useEffect(()=>(_e.current=!1,()=>{_e.current=!0,t$3(()=>{_e.current&&$()})}),[$])}function s$1(){let ht=typeof document>"u";return"useSyncExternalStore"in t$4?($=>$.useSyncExternalStore)(t$4)(()=>()=>{},()=>!1,()=>!ht):!1}function l(){let ht=s$1(),[$,_e]=reactExports.useState(s$5.isHandoffComplete);return $&&s$5.isHandoffComplete===!1&&_e(!1),reactExports.useEffect(()=>{$!==!0&&_e(!0)},[$]),reactExports.useEffect(()=>s$5.handoff(),[]),ht?!1:$}let e=reactExports.createContext(!1);function a$1(){return reactExports.useContext(e)}function D(ht){let $=a$1(),_e=reactExports.useContext(v),vt=n$1(ht),[bt,xt]=reactExports.useState(()=>{var Et;if(!$&&_e!==null)return(Et=_e.current)!=null?Et:null;if(s$5.isServer)return null;let At=vt==null?void 0:vt.getElementById("headlessui-portal-root");if(At)return At;if(vt===null)return null;let wt=vt.createElement("div");return wt.setAttribute("id","headlessui-portal-root"),vt.body.appendChild(wt)});return reactExports.useEffect(()=>{bt!==null&&(vt!=null&&vt.body.contains(bt)||vt==null||vt.body.appendChild(bt))},[bt,vt]),reactExports.useEffect(()=>{$||_e!==null&&xt(_e.current)},[_e,xt,$]),bt}let M=reactExports.Fragment,N=I$3(function(ht,$){let _e=ht,vt=reactExports.useRef(null),bt=y$4(T$2(St=>{vt.current=St}),$),xt=n$1(vt),Et=D(vt),[At]=reactExports.useState(()=>{var St;return s$5.isServer?null:(St=xt==null?void 0:xt.createElement("div"))!=null?St:null}),wt=reactExports.useContext(y),Ct=l();return n$3(()=>{!Et||!At||Et.contains(At)||(At.setAttribute("data-headlessui-portal",""),Et.appendChild(At))},[Et,At]),n$3(()=>{if(At&&wt)return wt.register(At)},[wt,At]),c(()=>{var St;!Et||!At||(At instanceof Node&&Et.contains(At)&&Et.removeChild(At),Et.childNodes.length<=0&&((St=Et.parentElement)==null||St.removeChild(Et)))}),Ct?!Et||!At?null:reactDomExports.createPortal(H$1({ourProps:{ref:bt},theirProps:_e,slot:{},defaultTag:M,name:"Portal"}),At):null});function S(ht,$){let _e=y$4($),{enabled:vt=!0,...bt}=ht;return vt?React.createElement(N,{...bt,ref:_e}):H$1({ourProps:{ref:_e},theirProps:bt,slot:{},defaultTag:M,name:"Portal"})}let j$1=reactExports.Fragment,v=reactExports.createContext(null);function W$1(ht,$){let{target:_e,...vt}=ht,bt={ref:y$4($)};return React.createElement(v.Provider,{value:_e},H$1({ourProps:bt,theirProps:vt,defaultTag:j$1,name:"Popover.Group"}))}let y=reactExports.createContext(null),I=I$3(S),J=I$3(W$1),te=Object.assign(I,{Group:J});function p(ht,$){let _e=reactExports.useRef({left:0,top:0});if(n$3(()=>{let bt=$.current;if(!bt)return;let xt=bt.getBoundingClientRect();xt&&(_e.current=xt)},[ht]),$.current==null||!ht||$.current===document.activeElement)return!1;let vt=$.current.getBoundingClientRect();return vt.top!==_e.current.top||vt.left!==_e.current.left}let a=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o(ht){var $,_e;let vt=($=ht.innerText)!=null?$:"",bt=ht.cloneNode(!0);if(!(bt instanceof HTMLElement))return vt;let xt=!1;for(let At of bt.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))At.remove(),xt=!0;let Et=xt?(_e=bt.innerText)!=null?_e:"":vt;return a.test(Et)&&(Et=Et.replace(a,"")),Et}function g(ht){let $=ht.getAttribute("aria-label");if(typeof $=="string")return $.trim();let _e=ht.getAttribute("aria-labelledby");if(_e){let vt=_e.split(" ").map(bt=>{let xt=document.getElementById(bt);if(xt){let Et=xt.getAttribute("aria-label");return typeof Et=="string"?Et.trim():o(xt).trim()}return null}).filter(Boolean);if(vt.length>0)return vt.join(", ")}return o(ht).trim()}function s(ht){let $=reactExports.useRef(""),_e=reactExports.useRef("");return o$3(()=>{let vt=ht.current;if(!vt)return"";let bt=vt.innerText;if($.current===bt)return _e.current;let xt=g(vt).trim().toLowerCase();return $.current=bt,_e.current=xt,xt})}var Je=(ht=>(ht[ht.Open=0]="Open",ht[ht.Closed=1]="Closed",ht))(Je||{}),Ve=(ht=>(ht[ht.Pointer=0]="Pointer",ht[ht.Other=1]="Other",ht))(Ve||{}),Xe=(ht=>(ht[ht.OpenMenu=0]="OpenMenu",ht[ht.CloseMenu=1]="CloseMenu",ht[ht.GoToItem=2]="GoToItem",ht[ht.Search=3]="Search",ht[ht.ClearSearch=4]="ClearSearch",ht[ht.RegisterItem=5]="RegisterItem",ht[ht.UnregisterItem=6]="UnregisterItem",ht))(Xe||{});function W(ht,$=_e=>_e){let _e=ht.activeItemIndex!==null?ht.items[ht.activeItemIndex]:null,vt=_($(ht.items.slice()),xt=>xt.dataRef.current.domRef.current),bt=_e?vt.indexOf(_e):null;return bt===-1&&(bt=null),{items:vt,activeItemIndex:bt}}let $e={1(ht){return ht.menuState===1?ht:{...ht,activeItemIndex:null,menuState:1}},0(ht){return ht.menuState===0?ht:{...ht,__demoMode:!1,menuState:0}},2:(ht,$)=>{var _e,vt,bt,xt,Et;if(ht.menuState===1)return ht;let At={...ht,searchQuery:"",activationTrigger:(_e=$.trigger)!=null?_e:1,__demoMode:!1};if($.focus===c$1.Nothing)return{...At,activeItemIndex:null};if($.focus===c$1.Specific)return{...At,activeItemIndex:ht.items.findIndex(St=>St.id===$.id)};if($.focus===c$1.Previous){let St=ht.activeItemIndex;if(St!==null){let Rt=ht.items[St].dataRef.current.domRef,Pt=f($,{resolveItems:()=>ht.items,resolveActiveIndex:()=>ht.activeItemIndex,resolveId:kt=>kt.id,resolveDisabled:kt=>kt.dataRef.current.disabled});if(Pt!==null){let kt=ht.items[Pt].dataRef.current.domRef;if(((vt=Rt.current)==null?void 0:vt.previousElementSibling)===kt.current||((bt=kt.current)==null?void 0:bt.previousElementSibling)===null)return{...At,activeItemIndex:Pt}}}}else if($.focus===c$1.Next){let St=ht.activeItemIndex;if(St!==null){let Rt=ht.items[St].dataRef.current.domRef,Pt=f($,{resolveItems:()=>ht.items,resolveActiveIndex:()=>ht.activeItemIndex,resolveId:kt=>kt.id,resolveDisabled:kt=>kt.dataRef.current.disabled});if(Pt!==null){let kt=ht.items[Pt].dataRef.current.domRef;if(((xt=Rt.current)==null?void 0:xt.nextElementSibling)===kt.current||((Et=kt.current)==null?void 0:Et.nextElementSibling)===null)return{...At,activeItemIndex:Pt}}}}let wt=W(ht),Ct=f($,{resolveItems:()=>wt.items,resolveActiveIndex:()=>wt.activeItemIndex,resolveId:St=>St.id,resolveDisabled:St=>St.dataRef.current.disabled});return{...At,...wt,activeItemIndex:Ct}},3:(ht,$)=>{let _e=ht.searchQuery!==""?0:1,vt=ht.searchQuery+$.value.toLowerCase(),bt=(ht.activeItemIndex!==null?ht.items.slice(ht.activeItemIndex+_e).concat(ht.items.slice(0,ht.activeItemIndex+_e)):ht.items).find(Et=>{var At;return((At=Et.dataRef.current.textValue)==null?void 0:At.startsWith(vt))&&!Et.dataRef.current.disabled}),xt=bt?ht.items.indexOf(bt):-1;return xt===-1||xt===ht.activeItemIndex?{...ht,searchQuery:vt}:{...ht,searchQuery:vt,activeItemIndex:xt,activationTrigger:1}},4(ht){return ht.searchQuery===""?ht:{...ht,searchQuery:"",searchActiveItemIndex:null}},5:(ht,$)=>{let _e=W(ht,vt=>[...vt,{id:$.id,dataRef:$.dataRef}]);return{...ht,..._e}},6:(ht,$)=>{let _e=W(ht,vt=>{let bt=vt.findIndex(xt=>xt.id===$.id);return bt!==-1&&vt.splice(bt,1),vt});return{...ht,..._e,activationTrigger:1}}},j=reactExports.createContext(null);j.displayName="MenuContext";function B(ht){let $=reactExports.useContext(j);if($===null){let _e=new Error(`<${ht} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(_e,B),_e}return $}function qe(ht,$){return u$6($.type,$e,ht,$)}let ze=reactExports.Fragment;function Ye(ht,$){let{__demoMode:_e=!1,...vt}=ht,bt=reactExports.useReducer(qe,{__demoMode:_e,menuState:_e?0:1,buttonRef:reactExports.createRef(),itemsRef:reactExports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:xt,itemsRef:Et,buttonRef:At},wt]=bt,Ct=y$4($);F$2(xt===0,[At,Et],(kt,Mt)=>{var Dt;wt({type:1}),A$1(Mt,h.Loose)||(kt.preventDefault(),(Dt=At.current)==null||Dt.focus())});let St=o$3(()=>{wt({type:1})}),Rt=reactExports.useMemo(()=>({open:xt===0,close:St}),[xt,St]),Pt={ref:Ct};return React.createElement(ve,null,React.createElement(j.Provider,{value:bt},React.createElement(c$2,{value:u$6(xt,{0:i.Open,1:i.Closed})},H$1({ourProps:Pt,theirProps:vt,slot:Rt,defaultTag:ze,name:"Menu"}))))}let Ze="button";function et(ht,$){var _e;let vt=reactExports.useId(),{id:bt=`headlessui-menu-button-${vt}`,disabled:xt=!1,autoFocus:Et=!1,...At}=ht,[wt,Ct]=B("Menu.Button"),St=Fe(),Rt=y$4(wt.buttonRef,$,ye()),Pt=o$3(jt=>{switch(jt.key){case o$2.Space:case o$2.Enter:case o$2.ArrowDown:jt.preventDefault(),jt.stopPropagation(),reactDomExports.flushSync(()=>Ct({type:0})),Ct({type:2,focus:c$1.First});break;case o$2.ArrowUp:jt.preventDefault(),jt.stopPropagation(),reactDomExports.flushSync(()=>Ct({type:0})),Ct({type:2,focus:c$1.Last});break}}),kt=o$3(jt=>{switch(jt.key){case o$2.Space:jt.preventDefault();break}}),Mt=o$3(jt=>{var zt;if(r$1(jt.currentTarget))return jt.preventDefault();xt||(wt.menuState===0?(reactDomExports.flushSync(()=>Ct({type:1})),(zt=wt.buttonRef.current)==null||zt.focus({preventScroll:!0})):(jt.preventDefault(),Ct({type:0})))}),{isFocusVisible:Dt,focusProps:$t}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:Et}),{isHovered:Ft,hoverProps:Lt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:xt}),{pressed:Ot,pressProps:Ht}=w$1({disabled:xt}),Nt=reactExports.useMemo(()=>({open:wt.menuState===0,active:Ot||wt.menuState===0,disabled:xt,hover:Ft,focus:Dt,autofocus:Et}),[wt,Ft,Dt,Ot,xt,Et]),Bt=D$3(St(),{ref:Rt,id:bt,type:T(ht,wt.buttonRef),"aria-haspopup":"menu","aria-controls":(_e=wt.itemsRef.current)==null?void 0:_e.id,"aria-expanded":wt.menuState===0,disabled:xt||void 0,autoFocus:Et,onKeyDown:Pt,onKeyUp:kt,onClick:Mt},$t,Lt,Ht);return H$1({ourProps:Bt,theirProps:At,slot:Nt,defaultTag:Ze,name:"Menu.Button"})}let tt="div",nt=O$1.RenderStrategy|O$1.Static;function rt(ht,$){var _e,vt;let bt=reactExports.useId(),{id:xt=`headlessui-menu-items-${bt}`,anchor:Et,portal:At=!1,modal:wt=!0,transition:Ct=!1,...St}=ht,Rt=xe(Et),[Pt,kt]=B("Menu.Items"),[Mt,Dt]=Re(Rt),$t=be(),Ft=y$4(Pt.itemsRef,$,Rt?Mt:null),Lt=n$1(Pt.itemsRef);Rt&&(At=!0);let Ot=u$1(),[Ht,Nt]=V(Ct,Pt.itemsRef,Ot!==null?(Ot&i.Open)===i.Open:Pt.menuState===0);m$1(Ht,Pt.buttonRef,()=>{kt({type:1})});let Bt=Pt.__demoMode?!1:wt&&Pt.menuState===0;f$1(Bt,Lt);let jt=Pt.__demoMode?!1:wt&&Pt.menuState===0;y$3(jt,{allowed:o$3(()=>[Pt.buttonRef.current,Pt.itemsRef.current])});let zt=Pt.menuState!==0,Kt=p(zt,Pt.buttonRef)?!1:Ht;reactExports.useEffect(()=>{let dn=Pt.itemsRef.current;dn&&Pt.menuState===0&&dn!==(Lt==null?void 0:Lt.activeElement)&&dn.focus({preventScroll:!0})},[Pt.menuState,Pt.itemsRef,Lt,Pt.itemsRef.current]),F(Pt.menuState===0,{container:Pt.itemsRef.current,accept(dn){return dn.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:dn.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(dn){dn.setAttribute("role","none")}});let nn=p$3(),qt=o$3(dn=>{var En,cn,hn;switch(nn.dispose(),dn.key){case o$2.Space:if(Pt.searchQuery!=="")return dn.preventDefault(),dn.stopPropagation(),kt({type:3,value:dn.key});case o$2.Enter:if(dn.preventDefault(),dn.stopPropagation(),kt({type:1}),Pt.activeItemIndex!==null){let{dataRef:tn}=Pt.items[Pt.activeItemIndex];(cn=(En=tn.current)==null?void 0:En.domRef.current)==null||cn.click()}G(Pt.buttonRef.current);break;case o$2.ArrowDown:return dn.preventDefault(),dn.stopPropagation(),kt({type:2,focus:c$1.Next});case o$2.ArrowUp:return dn.preventDefault(),dn.stopPropagation(),kt({type:2,focus:c$1.Previous});case o$2.Home:case o$2.PageUp:return dn.preventDefault(),dn.stopPropagation(),kt({type:2,focus:c$1.First});case o$2.End:case o$2.PageDown:return dn.preventDefault(),dn.stopPropagation(),kt({type:2,focus:c$1.Last});case o$2.Escape:dn.preventDefault(),dn.stopPropagation(),reactDomExports.flushSync(()=>kt({type:1})),(hn=Pt.buttonRef.current)==null||hn.focus({preventScroll:!0});break;case o$2.Tab:dn.preventDefault(),dn.stopPropagation(),reactDomExports.flushSync(()=>kt({type:1})),j$2(Pt.buttonRef.current,dn.shiftKey?F$3.Previous:F$3.Next);break;default:dn.key.length===1&&(kt({type:3,value:dn.key}),nn.setTimeout(()=>kt({type:4}),350));break}}),en=o$3(dn=>{switch(dn.key){case o$2.Space:dn.preventDefault();break}}),on=reactExports.useMemo(()=>({open:Pt.menuState===0}),[Pt.menuState]),_n=D$3(Rt?$t():{},{"aria-activedescendant":Pt.activeItemIndex===null||(_e=Pt.items[Pt.activeItemIndex])==null?void 0:_e.id,"aria-labelledby":(vt=Pt.buttonRef.current)==null?void 0:vt.id,id:xt,onKeyDown:qt,onKeyUp:en,role:"menu",tabIndex:Pt.menuState===0?0:void 0,ref:Ft,style:{...St.style,...Dt,"--button-width":f$4(Pt.buttonRef,!0).width},...A(Nt)});return React.createElement(te,{enabled:At?ht.static||Ht:!1},H$1({ourProps:_n,theirProps:St,slot:on,defaultTag:tt,features:nt,visible:Kt,name:"Menu.Items"}))}let ot=reactExports.Fragment;function at(ht,$){let _e=reactExports.useId(),{id:vt=`headlessui-menu-item-${_e}`,disabled:bt=!1,...xt}=ht,[Et,At]=B("Menu.Item"),wt=Et.activeItemIndex!==null?Et.items[Et.activeItemIndex].id===vt:!1,Ct=reactExports.useRef(null),St=y$4($,Ct);n$3(()=>{if(!Et.__demoMode&&Et.menuState===0&&wt&&Et.activationTrigger!==0)return o$4().requestAnimationFrame(()=>{var Kt,nn;(nn=(Kt=Ct.current)==null?void 0:Kt.scrollIntoView)==null||nn.call(Kt,{block:"nearest"})})},[Et.__demoMode,Ct,wt,Et.menuState,Et.activationTrigger,Et.activeItemIndex]);let Rt=s(Ct),Pt=reactExports.useRef({disabled:bt,domRef:Ct,get textValue(){return Rt()}});n$3(()=>{Pt.current.disabled=bt},[Pt,bt]),n$3(()=>(At({type:5,id:vt,dataRef:Pt}),()=>At({type:6,id:vt})),[Pt,vt]);let kt=o$3(()=>{At({type:1})}),Mt=o$3(Kt=>{if(bt)return Kt.preventDefault();At({type:1}),G(Et.buttonRef.current)}),Dt=o$3(()=>{if(bt)return At({type:2,focus:c$1.Nothing});At({type:2,focus:c$1.Specific,id:vt})}),$t=u$2(),Ft=o$3(Kt=>{$t.update(Kt),!bt&&(wt||At({type:2,focus:c$1.Specific,id:vt,trigger:0}))}),Lt=o$3(Kt=>{$t.wasMoved(Kt)&&(bt||wt||At({type:2,focus:c$1.Specific,id:vt,trigger:0}))}),Ot=o$3(Kt=>{$t.wasMoved(Kt)&&(bt||wt&&At({type:2,focus:c$1.Nothing}))}),[Ht,Nt]=z(),[Bt,jt]=U$1(),zt=reactExports.useMemo(()=>({active:wt,focus:wt,disabled:bt,close:kt}),[wt,bt,kt]);return React.createElement(Nt,null,React.createElement(jt,null,H$1({ourProps:{id:vt,ref:St,role:"menuitem",tabIndex:bt===!0?void 0:-1,"aria-disabled":bt===!0?!0:void 0,"aria-labelledby":Ht,"aria-describedby":Bt,disabled:void 0,onClick:Mt,onFocus:Dt,onPointerEnter:Ft,onMouseEnter:Ft,onPointerMove:Lt,onMouseMove:Lt,onPointerLeave:Ot,onMouseLeave:Ot},theirProps:xt,slot:zt,defaultTag:ot,name:"Menu.Item"})))}let it="div";function st(ht,$){let[_e,vt]=z();return React.createElement(vt,null,H$1({ourProps:{ref:$,"aria-labelledby":_e,role:"group"},theirProps:ht,slot:{},defaultTag:it,name:"Menu.Section"}))}let lt="header";function ut(ht,$){let _e=reactExports.useId(),{id:vt=`headlessui-menu-heading-${_e}`,...bt}=ht,xt=P$1();n$3(()=>xt.register(vt),[vt,xt.register]);let Et={id:vt,ref:$,role:"presentation",...xt.props};return H$1({ourProps:Et,theirProps:bt,slot:{},defaultTag:lt,name:"Menu.Heading"})}let pt="div";function dt(ht,$){return H$1({ourProps:{ref:$,role:"separator"},theirProps:ht,slot:{},defaultTag:pt,name:"Menu.Separator"})}let mt=I$3(Ye),ct=I$3(et),ft=I$3(rt),Tt=I$3(at),yt=I$3(st),gt=I$3(ut),It=I$3(dt),Zt=Object.assign(mt,{Button:ct,Items:ft,Item:Tt,Section:yt,Heading:gt,Separator:It});function ChevronDownIcon({title:ht,titleId:$,..._e},vt){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:vt,"aria-labelledby":$},_e),ht?reactExports.createElement("title",{id:$},ht):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const ForwardRef=reactExports.forwardRef(ChevronDownIcon);function Form(){return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(249,250,250)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:'"Public Sans", "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Healthcare"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Dashboard"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Patients"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Appointments"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"More"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/3ff28297-380f-4f51-aac1-1fcac1b0d3bb.png")'}})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-[#1C1D22] tracking-light text-2xl font-bold leading-tight px-4 text-left pb-2 pt-5",children:"Add a new patient"}),jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal pb-3 pt-1 px-4",children:"Enter the details of the patient you'd like to add to your practice"}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"First name"}),jsxRuntimeExports.jsx("input",{placeholder:"Type first name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Last name"}),jsxRuntimeExports.jsx("input",{placeholder:"Type last name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Date of birth"}),jsxRuntimeExports.jsx("input",{placeholder:"MM / DD / YYYY",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Gender"}),jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl",children:[jsxRuntimeExports.jsx("input",{placeholder:"Select gender",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] rounded-r-none border-r-0 pr-2 text-base font-normal leading-normal",value:""}),jsxRuntimeExports.jsx("div",{className:"text-[#3C3F4A] flex border border-[#D5D6DD] bg-[#FFFFFF] items-center justify-center pr-[15px] rounded-r-xl border-l-0","data-icon":"CaretUpDown","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,170.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-48-48a8,8,0,0,1,11.32-11.32L128,212.69l42.34-42.35A8,8,0,0,1,181.66,170.34Zm-96-84.68L128,43.31l42.34,42.35a8,8,0,0,0,11.32-11.32l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,85.66,85.66Z"})})})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Weight (lbs)"}),jsxRuntimeExports.jsx("input",{placeholder:"Type weight",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Phone number"}),jsxRuntimeExports.jsx("input",{placeholder:"(555) 555-5555",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"px-4",children:jsxRuntimeExports.jsxs("label",{className:"flex gap-x-3 py-3 flex-row",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-[#D5D6DD] border-2 bg-transparent text-[#607AFB] checked:bg-[#607AFB] checked:border-[#607AFB] focus:ring-0 focus:ring-offset-0 focus:border-[#D5D6DD] focus:outline-none",defaultChecked:!0}),jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal",children:"Patient has an email address"})]})}),jsxRuntimeExports.jsx("div",{className:"flex px-4 py-3",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-12 px-5 flex-1 bg-[#607AFB] text-[#F9FAFA] text-base font-bold leading-normal tracking-[0.015em]",children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Save patient"})})})]})})]})})}function classNames(...ht){return ht.filter(Boolean).join(" ")}function Dropdown(ht){function $(){ht.setEditPatients(!ht.editPatients),ht.setDeletePatients(!1)}function _e(){ht.setDeletePatients(!ht.deletePatients),ht.setEditPatients(!1)}const vt=useNavigate();return jsxRuntimeExports.jsxs(Zt,{as:"div",className:"relative inline-block text-left",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(ct,{className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:["Manage patients",jsxRuntimeExports.jsx(ForwardRef,{className:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),jsxRuntimeExports.jsx(ft,{transition:!0,className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75 data-[enter]:ease-out data-[leave]:ease-in",children:jsxRuntimeExports.jsxs("div",{className:"py-1",children:[jsxRuntimeExports.jsx(Tt,{children:({focus:bt})=>jsxRuntimeExports.jsx("a",{onClick:()=>vt("/form"),className:classNames(bt?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Add Patient"})}),jsxRuntimeExports.jsx(Tt,{children:({focus:bt})=>jsxRuntimeExports.jsx("a",{onClick:$,className:classNames(bt?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Edit Patient"})}),jsxRuntimeExports.jsx(Tt,{children:({focus:bt})=>jsxRuntimeExports.jsx("a",{onClick:_e,className:classNames(bt?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Remove Patient"})})]})})]})}function bind(ht,$){return function(){return ht.apply($,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(ht=>$=>{const _e=toString.call($);return ht[_e]||(ht[_e]=_e.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=ht=>(ht=ht.toLowerCase(),$=>kindOf($)===ht),typeOfTest=ht=>$=>typeof $===ht,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(ht){return ht!==null&&!isUndefined(ht)&&ht.constructor!==null&&!isUndefined(ht.constructor)&&isFunction(ht.constructor.isBuffer)&&ht.constructor.isBuffer(ht)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(ht){let $;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?$=ArrayBuffer.isView(ht):$=ht&&ht.buffer&&isArrayBuffer(ht.buffer),$}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=ht=>ht!==null&&typeof ht=="object",isBoolean=ht=>ht===!0||ht===!1,isPlainObject=ht=>{if(kindOf(ht)!=="object")return!1;const $=getPrototypeOf(ht);return($===null||$===Object.prototype||Object.getPrototypeOf($)===null)&&!(Symbol.toStringTag in ht)&&!(Symbol.iterator in ht)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=ht=>isObject(ht)&&isFunction(ht.pipe),isFormData=ht=>{let $;return ht&&(typeof FormData=="function"&&ht instanceof FormData||isFunction(ht.append)&&(($=kindOf(ht))==="formdata"||$==="object"&&isFunction(ht.toString)&&ht.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=ht=>ht.trim?ht.trim():ht.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(ht,$,{allOwnKeys:_e=!1}={}){if(ht===null||typeof ht>"u")return;let vt,bt;if(typeof ht!="object"&&(ht=[ht]),isArray(ht))for(vt=0,bt=ht.length;vt<bt;vt++)$.call(null,ht[vt],vt,ht);else{const xt=_e?Object.getOwnPropertyNames(ht):Object.keys(ht),Et=xt.length;let At;for(vt=0;vt<Et;vt++)At=xt[vt],$.call(null,ht[At],At,ht)}}function findKey(ht,$){$=$.toLowerCase();const _e=Object.keys(ht);let vt=_e.length,bt;for(;vt-- >0;)if(bt=_e[vt],$===bt.toLowerCase())return bt;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=ht=>!isUndefined(ht)&&ht!==_global;function merge(){const{caseless:ht}=isContextDefined(this)&&this||{},$={},_e=(vt,bt)=>{const xt=ht&&findKey($,bt)||bt;isPlainObject($[xt])&&isPlainObject(vt)?$[xt]=merge($[xt],vt):isPlainObject(vt)?$[xt]=merge({},vt):isArray(vt)?$[xt]=vt.slice():$[xt]=vt};for(let vt=0,bt=arguments.length;vt<bt;vt++)arguments[vt]&&forEach(arguments[vt],_e);return $}const extend=(ht,$,_e,{allOwnKeys:vt}={})=>(forEach($,(bt,xt)=>{_e&&isFunction(bt)?ht[xt]=bind(bt,_e):ht[xt]=bt},{allOwnKeys:vt}),ht),stripBOM=ht=>(ht.charCodeAt(0)===65279&&(ht=ht.slice(1)),ht),inherits=(ht,$,_e,vt)=>{ht.prototype=Object.create($.prototype,vt),ht.prototype.constructor=ht,Object.defineProperty(ht,"super",{value:$.prototype}),_e&&Object.assign(ht.prototype,_e)},toFlatObject=(ht,$,_e,vt)=>{let bt,xt,Et;const At={};if($=$||{},ht==null)return $;do{for(bt=Object.getOwnPropertyNames(ht),xt=bt.length;xt-- >0;)Et=bt[xt],(!vt||vt(Et,ht,$))&&!At[Et]&&($[Et]=ht[Et],At[Et]=!0);ht=_e!==!1&&getPrototypeOf(ht)}while(ht&&(!_e||_e(ht,$))&&ht!==Object.prototype);return $},endsWith=(ht,$,_e)=>{ht=String(ht),(_e===void 0||_e>ht.length)&&(_e=ht.length),_e-=$.length;const vt=ht.indexOf($,_e);return vt!==-1&&vt===_e},toArray=ht=>{if(!ht)return null;if(isArray(ht))return ht;let $=ht.length;if(!isNumber($))return null;const _e=new Array($);for(;$-- >0;)_e[$]=ht[$];return _e},isTypedArray=(ht=>$=>ht&&$ instanceof ht)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(ht,$)=>{const vt=(ht&&ht[Symbol.iterator]).call(ht);let bt;for(;(bt=vt.next())&&!bt.done;){const xt=bt.value;$.call(ht,xt[0],xt[1])}},matchAll=(ht,$)=>{let _e;const vt=[];for(;(_e=ht.exec($))!==null;)vt.push(_e);return vt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=ht=>ht.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(_e,vt,bt){return vt.toUpperCase()+bt}),hasOwnProperty=(({hasOwnProperty:ht})=>($,_e)=>ht.call($,_e))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(ht,$)=>{const _e=Object.getOwnPropertyDescriptors(ht),vt={};forEach(_e,(bt,xt)=>{let Et;(Et=$(bt,xt,ht))!==!1&&(vt[xt]=Et||bt)}),Object.defineProperties(ht,vt)},freezeMethods=ht=>{reduceDescriptors(ht,($,_e)=>{if(isFunction(ht)&&["arguments","caller","callee"].indexOf(_e)!==-1)return!1;const vt=ht[_e];if(isFunction(vt)){if($.enumerable=!1,"writable"in $){$.writable=!1;return}$.set||($.set=()=>{throw Error("Can not rewrite read-only method '"+_e+"'")})}})},toObjectSet=(ht,$)=>{const _e={},vt=bt=>{bt.forEach(xt=>{_e[xt]=!0})};return isArray(ht)?vt(ht):vt(String(ht).split($)),_e},noop=()=>{},toFiniteNumber=(ht,$)=>ht!=null&&Number.isFinite(ht=+ht)?ht:$,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(ht=16,$=ALPHABET.ALPHA_DIGIT)=>{let _e="";const{length:vt}=$;for(;ht--;)_e+=$[Math.random()*vt|0];return _e};function isSpecCompliantForm(ht){return!!(ht&&isFunction(ht.append)&&ht[Symbol.toStringTag]==="FormData"&&ht[Symbol.iterator])}const toJSONObject=ht=>{const $=new Array(10),_e=(vt,bt)=>{if(isObject(vt)){if($.indexOf(vt)>=0)return;if(!("toJSON"in vt)){$[bt]=vt;const xt=isArray(vt)?[]:{};return forEach(vt,(Et,At)=>{const wt=_e(Et,bt+1);!isUndefined(wt)&&(xt[At]=wt)}),$[bt]=void 0,xt}}return vt};return _e(ht,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=ht=>ht&&(isObject(ht)||isFunction(ht))&&isFunction(ht.then)&&isFunction(ht.catch),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(ht,$,_e,vt,bt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=ht,this.name="AxiosError",$&&(this.code=$),_e&&(this.config=_e),vt&&(this.request=vt),bt&&(this.response=bt)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(ht=>{descriptors[ht]={value:ht}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(ht,$,_e,vt,bt,xt)=>{const Et=Object.create(prototype$1);return utils$1.toFlatObject(ht,Et,function(wt){return wt!==Error.prototype},At=>At!=="isAxiosError"),AxiosError.call(Et,ht.message,$,_e,vt,bt),Et.cause=ht,Et.name=ht.name,xt&&Object.assign(Et,xt),Et};const httpAdapter=null;function isVisitable(ht){return utils$1.isPlainObject(ht)||utils$1.isArray(ht)}function removeBrackets(ht){return utils$1.endsWith(ht,"[]")?ht.slice(0,-2):ht}function renderKey(ht,$,_e){return ht?ht.concat($).map(function(bt,xt){return bt=removeBrackets(bt),!_e&&xt?"["+bt+"]":bt}).join(_e?".":""):$}function isFlatArray(ht){return utils$1.isArray(ht)&&!ht.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function($){return/^is[A-Z]/.test($)});function toFormData(ht,$,_e){if(!utils$1.isObject(ht))throw new TypeError("target must be an object");$=$||new FormData,_e=utils$1.toFlatObject(_e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Dt,$t){return!utils$1.isUndefined($t[Dt])});const vt=_e.metaTokens,bt=_e.visitor||St,xt=_e.dots,Et=_e.indexes,wt=(_e.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm($);if(!utils$1.isFunction(bt))throw new TypeError("visitor must be a function");function Ct(Mt){if(Mt===null)return"";if(utils$1.isDate(Mt))return Mt.toISOString();if(!wt&&utils$1.isBlob(Mt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(Mt)||utils$1.isTypedArray(Mt)?wt&&typeof Blob=="function"?new Blob([Mt]):Buffer.from(Mt):Mt}function St(Mt,Dt,$t){let Ft=Mt;if(Mt&&!$t&&typeof Mt=="object"){if(utils$1.endsWith(Dt,"{}"))Dt=vt?Dt:Dt.slice(0,-2),Mt=JSON.stringify(Mt);else if(utils$1.isArray(Mt)&&isFlatArray(Mt)||(utils$1.isFileList(Mt)||utils$1.endsWith(Dt,"[]"))&&(Ft=utils$1.toArray(Mt)))return Dt=removeBrackets(Dt),Ft.forEach(function(Ot,Ht){!(utils$1.isUndefined(Ot)||Ot===null)&&$.append(Et===!0?renderKey([Dt],Ht,xt):Et===null?Dt:Dt+"[]",Ct(Ot))}),!1}return isVisitable(Mt)?!0:($.append(renderKey($t,Dt,xt),Ct(Mt)),!1)}const Rt=[],Pt=Object.assign(predicates,{defaultVisitor:St,convertValue:Ct,isVisitable});function kt(Mt,Dt){if(!utils$1.isUndefined(Mt)){if(Rt.indexOf(Mt)!==-1)throw Error("Circular reference detected in "+Dt.join("."));Rt.push(Mt),utils$1.forEach(Mt,function(Ft,Lt){(!(utils$1.isUndefined(Ft)||Ft===null)&&bt.call($,Ft,utils$1.isString(Lt)?Lt.trim():Lt,Dt,Pt))===!0&&kt(Ft,Dt?Dt.concat(Lt):[Lt])}),Rt.pop()}}if(!utils$1.isObject(ht))throw new TypeError("data must be an object");return kt(ht),$}function encode$1(ht){const $={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(ht).replace(/[!'()~]|%20|%00/g,function(vt){return $[vt]})}function AxiosURLSearchParams(ht,$){this._pairs=[],ht&&toFormData(ht,this,$)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function($,_e){this._pairs.push([$,_e])};prototype.toString=function($){const _e=$?function(vt){return $.call(this,vt,encode$1)}:encode$1;return this._pairs.map(function(bt){return _e(bt[0])+"="+_e(bt[1])},"").join("&")};function encode(ht){return encodeURIComponent(ht).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(ht,$,_e){if(!$)return ht;const vt=_e&&_e.encode||encode,bt=_e&&_e.serialize;let xt;if(bt?xt=bt($,_e):xt=utils$1.isURLSearchParams($)?$.toString():new AxiosURLSearchParams($,_e).toString(vt),xt){const Et=ht.indexOf("#");Et!==-1&&(ht=ht.slice(0,Et)),ht+=(ht.indexOf("?")===-1?"?":"&")+xt}return ht}class InterceptorManager{constructor(){this.handlers=[]}use($,_e,vt){return this.handlers.push({fulfilled:$,rejected:_e,synchronous:vt?vt.synchronous:!1,runWhen:vt?vt.runWhen:null}),this.handlers.length-1}eject($){this.handlers[$]&&(this.handlers[$]=null)}clear(){this.handlers&&(this.handlers=[])}forEach($){utils$1.forEach(this.handlers,function(vt){vt!==null&&$(vt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(ht=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(ht)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(ht,$){return toFormData(ht,new platform.classes.URLSearchParams,Object.assign({visitor:function(_e,vt,bt,xt){return platform.isNode&&utils$1.isBuffer(_e)?(this.append(vt,_e.toString("base64")),!1):xt.defaultVisitor.apply(this,arguments)}},$))}function parsePropPath(ht){return utils$1.matchAll(/\w+|\[(\w*)]/g,ht).map($=>$[0]==="[]"?"":$[1]||$[0])}function arrayToObject(ht){const $={},_e=Object.keys(ht);let vt;const bt=_e.length;let xt;for(vt=0;vt<bt;vt++)xt=_e[vt],$[xt]=ht[xt];return $}function formDataToJSON(ht){function $(_e,vt,bt,xt){let Et=_e[xt++];if(Et==="__proto__")return!0;const At=Number.isFinite(+Et),wt=xt>=_e.length;return Et=!Et&&utils$1.isArray(bt)?bt.length:Et,wt?(utils$1.hasOwnProp(bt,Et)?bt[Et]=[bt[Et],vt]:bt[Et]=vt,!At):((!bt[Et]||!utils$1.isObject(bt[Et]))&&(bt[Et]=[]),$(_e,vt,bt[Et],xt)&&utils$1.isArray(bt[Et])&&(bt[Et]=arrayToObject(bt[Et])),!At)}if(utils$1.isFormData(ht)&&utils$1.isFunction(ht.entries)){const _e={};return utils$1.forEachEntry(ht,(vt,bt)=>{$(parsePropPath(vt),bt,_e,0)}),_e}return null}function stringifySafely(ht,$,_e){if(utils$1.isString(ht))try{return($||JSON.parse)(ht),utils$1.trim(ht)}catch(vt){if(vt.name!=="SyntaxError")throw vt}return(_e||JSON.stringify)(ht)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function($,_e){const vt=_e.getContentType()||"",bt=vt.indexOf("application/json")>-1,xt=utils$1.isObject($);if(xt&&utils$1.isHTMLForm($)&&($=new FormData($)),utils$1.isFormData($))return bt?JSON.stringify(formDataToJSON($)):$;if(utils$1.isArrayBuffer($)||utils$1.isBuffer($)||utils$1.isStream($)||utils$1.isFile($)||utils$1.isBlob($)||utils$1.isReadableStream($))return $;if(utils$1.isArrayBufferView($))return $.buffer;if(utils$1.isURLSearchParams($))return _e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),$.toString();let At;if(xt){if(vt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm($,this.formSerializer).toString();if((At=utils$1.isFileList($))||vt.indexOf("multipart/form-data")>-1){const wt=this.env&&this.env.FormData;return toFormData(At?{"files[]":$}:$,wt&&new wt,this.formSerializer)}}return xt||bt?(_e.setContentType("application/json",!1),stringifySafely($)):$}],transformResponse:[function($){const _e=this.transitional||defaults.transitional,vt=_e&&_e.forcedJSONParsing,bt=this.responseType==="json";if(utils$1.isResponse($)||utils$1.isReadableStream($))return $;if($&&utils$1.isString($)&&(vt&&!this.responseType||bt)){const Et=!(_e&&_e.silentJSONParsing)&&bt;try{return JSON.parse($)}catch(At){if(Et)throw At.name==="SyntaxError"?AxiosError.from(At,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):At}}return $}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function($){return $>=200&&$<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],ht=>{defaults.headers[ht]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=ht=>{const $={};let _e,vt,bt;return ht&&ht.split(`
`).forEach(function(Et){bt=Et.indexOf(":"),_e=Et.substring(0,bt).trim().toLowerCase(),vt=Et.substring(bt+1).trim(),!(!_e||$[_e]&&ignoreDuplicateOf[_e])&&(_e==="set-cookie"?$[_e]?$[_e].push(vt):$[_e]=[vt]:$[_e]=$[_e]?$[_e]+", "+vt:vt)}),$},$internals=Symbol("internals");function normalizeHeader(ht){return ht&&String(ht).trim().toLowerCase()}function normalizeValue(ht){return ht===!1||ht==null?ht:utils$1.isArray(ht)?ht.map(normalizeValue):String(ht)}function parseTokens(ht){const $=Object.create(null),_e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let vt;for(;vt=_e.exec(ht);)$[vt[1]]=vt[2];return $}const isValidHeaderName=ht=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(ht.trim());function matchHeaderValue(ht,$,_e,vt,bt){if(utils$1.isFunction(vt))return vt.call(this,$,_e);if(bt&&($=_e),!!utils$1.isString($)){if(utils$1.isString(vt))return $.indexOf(vt)!==-1;if(utils$1.isRegExp(vt))return vt.test($)}}function formatHeader(ht){return ht.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,($,_e,vt)=>_e.toUpperCase()+vt)}function buildAccessors(ht,$){const _e=utils$1.toCamelCase(" "+$);["get","set","has"].forEach(vt=>{Object.defineProperty(ht,vt+_e,{value:function(bt,xt,Et){return this[vt].call(this,$,bt,xt,Et)},configurable:!0})})}class AxiosHeaders{constructor($){$&&this.set($)}set($,_e,vt){const bt=this;function xt(At,wt,Ct){const St=normalizeHeader(wt);if(!St)throw new Error("header name must be a non-empty string");const Rt=utils$1.findKey(bt,St);(!Rt||bt[Rt]===void 0||Ct===!0||Ct===void 0&&bt[Rt]!==!1)&&(bt[Rt||wt]=normalizeValue(At))}const Et=(At,wt)=>utils$1.forEach(At,(Ct,St)=>xt(Ct,St,wt));if(utils$1.isPlainObject($)||$ instanceof this.constructor)Et($,_e);else if(utils$1.isString($)&&($=$.trim())&&!isValidHeaderName($))Et(parseHeaders($),_e);else if(utils$1.isHeaders($))for(const[At,wt]of $.entries())xt(wt,At,vt);else $!=null&&xt(_e,$,vt);return this}get($,_e){if($=normalizeHeader($),$){const vt=utils$1.findKey(this,$);if(vt){const bt=this[vt];if(!_e)return bt;if(_e===!0)return parseTokens(bt);if(utils$1.isFunction(_e))return _e.call(this,bt,vt);if(utils$1.isRegExp(_e))return _e.exec(bt);throw new TypeError("parser must be boolean|regexp|function")}}}has($,_e){if($=normalizeHeader($),$){const vt=utils$1.findKey(this,$);return!!(vt&&this[vt]!==void 0&&(!_e||matchHeaderValue(this,this[vt],vt,_e)))}return!1}delete($,_e){const vt=this;let bt=!1;function xt(Et){if(Et=normalizeHeader(Et),Et){const At=utils$1.findKey(vt,Et);At&&(!_e||matchHeaderValue(vt,vt[At],At,_e))&&(delete vt[At],bt=!0)}}return utils$1.isArray($)?$.forEach(xt):xt($),bt}clear($){const _e=Object.keys(this);let vt=_e.length,bt=!1;for(;vt--;){const xt=_e[vt];(!$||matchHeaderValue(this,this[xt],xt,$,!0))&&(delete this[xt],bt=!0)}return bt}normalize($){const _e=this,vt={};return utils$1.forEach(this,(bt,xt)=>{const Et=utils$1.findKey(vt,xt);if(Et){_e[Et]=normalizeValue(bt),delete _e[xt];return}const At=$?formatHeader(xt):String(xt).trim();At!==xt&&delete _e[xt],_e[At]=normalizeValue(bt),vt[At]=!0}),this}concat(...$){return this.constructor.concat(this,...$)}toJSON($){const _e=Object.create(null);return utils$1.forEach(this,(vt,bt)=>{vt!=null&&vt!==!1&&(_e[bt]=$&&utils$1.isArray(vt)?vt.join(", "):vt)}),_e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([$,_e])=>$+": "+_e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from($){return $ instanceof this?$:new this($)}static concat($,..._e){const vt=new this($);return _e.forEach(bt=>vt.set(bt)),vt}static accessor($){const vt=(this[$internals]=this[$internals]={accessors:{}}).accessors,bt=this.prototype;function xt(Et){const At=normalizeHeader(Et);vt[At]||(buildAccessors(bt,Et),vt[At]=!0)}return utils$1.isArray($)?$.forEach(xt):xt($),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:ht},$)=>{let _e=$[0].toUpperCase()+$.slice(1);return{get:()=>ht,set(vt){this[_e]=vt}}});utils$1.freezeMethods(AxiosHeaders);function transformData(ht,$){const _e=this||defaults,vt=$||_e,bt=AxiosHeaders.from(vt.headers);let xt=vt.data;return utils$1.forEach(ht,function(At){xt=At.call(_e,xt,bt.normalize(),$?$.status:void 0)}),bt.normalize(),xt}function isCancel(ht){return!!(ht&&ht.__CANCEL__)}function CanceledError(ht,$,_e){AxiosError.call(this,ht??"canceled",AxiosError.ERR_CANCELED,$,_e),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(ht,$,_e){const vt=_e.config.validateStatus;!_e.status||!vt||vt(_e.status)?ht(_e):$(new AxiosError("Request failed with status code "+_e.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(_e.status/100)-4],_e.config,_e.request,_e))}function parseProtocol(ht){const $=/^([-+\w]{1,25})(:?\/\/|:)/.exec(ht);return $&&$[1]||""}function speedometer(ht,$){ht=ht||10;const _e=new Array(ht),vt=new Array(ht);let bt=0,xt=0,Et;return $=$!==void 0?$:1e3,function(wt){const Ct=Date.now(),St=vt[xt];Et||(Et=Ct),_e[bt]=wt,vt[bt]=Ct;let Rt=xt,Pt=0;for(;Rt!==bt;)Pt+=_e[Rt++],Rt=Rt%ht;if(bt=(bt+1)%ht,bt===xt&&(xt=(xt+1)%ht),Ct-Et<$)return;const kt=St&&Ct-St;return kt?Math.round(Pt*1e3/kt):void 0}}function throttle(ht,$){let _e=0;const vt=1e3/$;let bt=null;return function(){const Et=this===!0,At=Date.now();if(Et||At-_e>vt)return bt&&(clearTimeout(bt),bt=null),_e=At,ht.apply(null,arguments);bt||(bt=setTimeout(()=>(bt=null,_e=Date.now(),ht.apply(null,arguments)),vt-(At-_e)))}}const progressEventReducer=(ht,$,_e=3)=>{let vt=0;const bt=speedometer(50,250);return throttle(xt=>{const Et=xt.loaded,At=xt.lengthComputable?xt.total:void 0,wt=Et-vt,Ct=bt(wt),St=Et<=At;vt=Et;const Rt={loaded:Et,total:At,progress:At?Et/At:void 0,bytes:wt,rate:Ct||void 0,estimated:Ct&&At&&St?(At-Et)/Ct:void 0,event:xt,lengthComputable:At!=null};Rt[$?"download":"upload"]=!0,ht(Rt)},_e)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const $=/(msie|trident)/i.test(navigator.userAgent),_e=document.createElement("a");let vt;function bt(xt){let Et=xt;return $&&(_e.setAttribute("href",Et),Et=_e.href),_e.setAttribute("href",Et),{href:_e.href,protocol:_e.protocol?_e.protocol.replace(/:$/,""):"",host:_e.host,search:_e.search?_e.search.replace(/^\?/,""):"",hash:_e.hash?_e.hash.replace(/^#/,""):"",hostname:_e.hostname,port:_e.port,pathname:_e.pathname.charAt(0)==="/"?_e.pathname:"/"+_e.pathname}}return vt=bt(window.location.href),function(Et){const At=utils$1.isString(Et)?bt(Et):Et;return At.protocol===vt.protocol&&At.host===vt.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(ht,$,_e,vt,bt,xt){const Et=[ht+"="+encodeURIComponent($)];utils$1.isNumber(_e)&&Et.push("expires="+new Date(_e).toGMTString()),utils$1.isString(vt)&&Et.push("path="+vt),utils$1.isString(bt)&&Et.push("domain="+bt),xt===!0&&Et.push("secure"),document.cookie=Et.join("; ")},read(ht){const $=document.cookie.match(new RegExp("(^|;\\s*)("+ht+")=([^;]*)"));return $?decodeURIComponent($[3]):null},remove(ht){this.write(ht,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(ht){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(ht)}function combineURLs(ht,$){return $?ht.replace(/\/?\/$/,"")+"/"+$.replace(/^\/+/,""):ht}function buildFullPath(ht,$){return ht&&!isAbsoluteURL($)?combineURLs(ht,$):$}const headersToObject=ht=>ht instanceof AxiosHeaders?{...ht}:ht;function mergeConfig(ht,$){$=$||{};const _e={};function vt(Ct,St,Rt){return utils$1.isPlainObject(Ct)&&utils$1.isPlainObject(St)?utils$1.merge.call({caseless:Rt},Ct,St):utils$1.isPlainObject(St)?utils$1.merge({},St):utils$1.isArray(St)?St.slice():St}function bt(Ct,St,Rt){if(utils$1.isUndefined(St)){if(!utils$1.isUndefined(Ct))return vt(void 0,Ct,Rt)}else return vt(Ct,St,Rt)}function xt(Ct,St){if(!utils$1.isUndefined(St))return vt(void 0,St)}function Et(Ct,St){if(utils$1.isUndefined(St)){if(!utils$1.isUndefined(Ct))return vt(void 0,Ct)}else return vt(void 0,St)}function At(Ct,St,Rt){if(Rt in $)return vt(Ct,St);if(Rt in ht)return vt(void 0,Ct)}const wt={url:xt,method:xt,data:xt,baseURL:Et,transformRequest:Et,transformResponse:Et,paramsSerializer:Et,timeout:Et,timeoutMessage:Et,withCredentials:Et,withXSRFToken:Et,adapter:Et,responseType:Et,xsrfCookieName:Et,xsrfHeaderName:Et,onUploadProgress:Et,onDownloadProgress:Et,decompress:Et,maxContentLength:Et,maxBodyLength:Et,beforeRedirect:Et,transport:Et,httpAgent:Et,httpsAgent:Et,cancelToken:Et,socketPath:Et,responseEncoding:Et,validateStatus:At,headers:(Ct,St)=>bt(headersToObject(Ct),headersToObject(St),!0)};return utils$1.forEach(Object.keys(Object.assign({},ht,$)),function(St){const Rt=wt[St]||bt,Pt=Rt(ht[St],$[St],St);utils$1.isUndefined(Pt)&&Rt!==At||(_e[St]=Pt)}),_e}const resolveConfig=ht=>{const $=mergeConfig({},ht);let{data:_e,withXSRFToken:vt,xsrfHeaderName:bt,xsrfCookieName:xt,headers:Et,auth:At}=$;$.headers=Et=AxiosHeaders.from(Et),$.url=buildURL(buildFullPath($.baseURL,$.url),ht.params,ht.paramsSerializer),At&&Et.set("Authorization","Basic "+btoa((At.username||"")+":"+(At.password?unescape(encodeURIComponent(At.password)):"")));let wt;if(utils$1.isFormData(_e)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)Et.setContentType(void 0);else if((wt=Et.getContentType())!==!1){const[Ct,...St]=wt?wt.split(";").map(Rt=>Rt.trim()).filter(Boolean):[];Et.setContentType([Ct||"multipart/form-data",...St].join("; "))}}if(platform.hasStandardBrowserEnv&&(vt&&utils$1.isFunction(vt)&&(vt=vt($)),vt||vt!==!1&&isURLSameOrigin($.url))){const Ct=bt&&xt&&cookies.read(xt);Ct&&Et.set(bt,Ct)}return $},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(ht){return new Promise(function(_e,vt){const bt=resolveConfig(ht);let xt=bt.data;const Et=AxiosHeaders.from(bt.headers).normalize();let{responseType:At}=bt,wt;function Ct(){bt.cancelToken&&bt.cancelToken.unsubscribe(wt),bt.signal&&bt.signal.removeEventListener("abort",wt)}let St=new XMLHttpRequest;St.open(bt.method.toUpperCase(),bt.url,!0),St.timeout=bt.timeout;function Rt(){if(!St)return;const kt=AxiosHeaders.from("getAllResponseHeaders"in St&&St.getAllResponseHeaders()),Dt={data:!At||At==="text"||At==="json"?St.responseText:St.response,status:St.status,statusText:St.statusText,headers:kt,config:ht,request:St};settle(function(Ft){_e(Ft),Ct()},function(Ft){vt(Ft),Ct()},Dt),St=null}"onloadend"in St?St.onloadend=Rt:St.onreadystatechange=function(){!St||St.readyState!==4||St.status===0&&!(St.responseURL&&St.responseURL.indexOf("file:")===0)||setTimeout(Rt)},St.onabort=function(){St&&(vt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,bt,St)),St=null)},St.onerror=function(){vt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,bt,St)),St=null},St.ontimeout=function(){let Mt=bt.timeout?"timeout of "+bt.timeout+"ms exceeded":"timeout exceeded";const Dt=bt.transitional||transitionalDefaults;bt.timeoutErrorMessage&&(Mt=bt.timeoutErrorMessage),vt(new AxiosError(Mt,Dt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,bt,St)),St=null},xt===void 0&&Et.setContentType(null),"setRequestHeader"in St&&utils$1.forEach(Et.toJSON(),function(Mt,Dt){St.setRequestHeader(Dt,Mt)}),utils$1.isUndefined(bt.withCredentials)||(St.withCredentials=!!bt.withCredentials),At&&At!=="json"&&(St.responseType=bt.responseType),typeof bt.onDownloadProgress=="function"&&St.addEventListener("progress",progressEventReducer(bt.onDownloadProgress,!0)),typeof bt.onUploadProgress=="function"&&St.upload&&St.upload.addEventListener("progress",progressEventReducer(bt.onUploadProgress)),(bt.cancelToken||bt.signal)&&(wt=kt=>{St&&(vt(!kt||kt.type?new CanceledError(null,ht,St):kt),St.abort(),St=null)},bt.cancelToken&&bt.cancelToken.subscribe(wt),bt.signal&&(bt.signal.aborted?wt():bt.signal.addEventListener("abort",wt)));const Pt=parseProtocol(bt.url);if(Pt&&platform.protocols.indexOf(Pt)===-1){vt(new AxiosError("Unsupported protocol "+Pt+":",AxiosError.ERR_BAD_REQUEST,ht));return}St.send(xt||null)})},composeSignals=(ht,$)=>{let _e=new AbortController,vt;const bt=function(wt){if(!vt){vt=!0,Et();const Ct=wt instanceof Error?wt:this.reason;_e.abort(Ct instanceof AxiosError?Ct:new CanceledError(Ct instanceof Error?Ct.message:Ct))}};let xt=$&&setTimeout(()=>{bt(new AxiosError(`timeout ${$} of ms exceeded`,AxiosError.ETIMEDOUT))},$);const Et=()=>{ht&&(xt&&clearTimeout(xt),xt=null,ht.forEach(wt=>{wt&&(wt.removeEventListener?wt.removeEventListener("abort",bt):wt.unsubscribe(bt))}),ht=null)};ht.forEach(wt=>wt&&wt.addEventListener&&wt.addEventListener("abort",bt));const{signal:At}=_e;return At.unsubscribe=Et,[At,()=>{xt&&clearTimeout(xt),xt=null}]},streamChunk=function*(ht,$){let _e=ht.byteLength;if(!$||_e<$){yield ht;return}let vt=0,bt;for(;vt<_e;)bt=vt+$,yield ht.slice(vt,bt),vt=bt},readBytes=async function*(ht,$,_e){for await(const vt of ht)yield*streamChunk(ArrayBuffer.isView(vt)?vt:await _e(String(vt)),$)},trackStream=(ht,$,_e,vt,bt)=>{const xt=readBytes(ht,$,bt);let Et=0;return new ReadableStream({type:"bytes",async pull(At){const{done:wt,value:Ct}=await xt.next();if(wt){At.close(),vt();return}let St=Ct.byteLength;_e&&_e(Et+=St),At.enqueue(new Uint8Array(Ct))},cancel(At){return vt(At),xt.return()}},{highWaterMark:2})},fetchProgressDecorator=(ht,$)=>{const _e=ht!=null;return vt=>setTimeout(()=>$({lengthComputable:_e,total:ht,loaded:vt}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(ht=>$=>ht.encode($))(new TextEncoder):async ht=>new Uint8Array(await new Response(ht).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let ht=!1;const $=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return ht=!0,"half"}}).headers.has("Content-Type");return ht&&!$})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$1.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(ht=>ht.body)};isFetchSupported&&(ht=>{["text","arrayBuffer","blob","formData","stream"].forEach($=>{!resolvers[$]&&(resolvers[$]=utils$1.isFunction(ht[$])?_e=>_e[$]():(_e,vt)=>{throw new AxiosError(`Response type '${$}' is not supported`,AxiosError.ERR_NOT_SUPPORT,vt)})})})(new Response);const getBodyLength=async ht=>{if(ht==null)return 0;if(utils$1.isBlob(ht))return ht.size;if(utils$1.isSpecCompliantForm(ht))return(await new Request(ht).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(ht))return ht.byteLength;if(utils$1.isURLSearchParams(ht)&&(ht=ht+""),utils$1.isString(ht))return(await encodeText(ht)).byteLength},resolveBodyLength=async(ht,$)=>{const _e=utils$1.toFiniteNumber(ht.getContentLength());return _e??getBodyLength($)},fetchAdapter=isFetchSupported&&(async ht=>{let{url:$,method:_e,data:vt,signal:bt,cancelToken:xt,timeout:Et,onDownloadProgress:At,onUploadProgress:wt,responseType:Ct,headers:St,withCredentials:Rt="same-origin",fetchOptions:Pt}=resolveConfig(ht);Ct=Ct?(Ct+"").toLowerCase():"text";let[kt,Mt]=bt||xt||Et?composeSignals([bt,xt],Et):[],Dt,$t;const Ft=()=>{!Dt&&setTimeout(()=>{kt&&kt.unsubscribe()}),Dt=!0};let Lt;try{if(wt&&supportsRequestStream&&_e!=="get"&&_e!=="head"&&(Lt=await resolveBodyLength(St,vt))!==0){let Bt=new Request($,{method:"POST",body:vt,duplex:"half"}),jt;utils$1.isFormData(vt)&&(jt=Bt.headers.get("content-type"))&&St.setContentType(jt),Bt.body&&(vt=trackStream(Bt.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator(Lt,progressEventReducer(wt)),null,encodeText))}utils$1.isString(Rt)||(Rt=Rt?"cors":"omit"),$t=new Request($,{...Pt,signal:kt,method:_e.toUpperCase(),headers:St.normalize().toJSON(),body:vt,duplex:"half",withCredentials:Rt});let Ot=await fetch($t);const Ht=supportsResponseStream&&(Ct==="stream"||Ct==="response");if(supportsResponseStream&&(At||Ht)){const Bt={};["status","statusText","headers"].forEach(zt=>{Bt[zt]=Ot[zt]});const jt=utils$1.toFiniteNumber(Ot.headers.get("content-length"));Ot=new Response(trackStream(Ot.body,DEFAULT_CHUNK_SIZE,At&&fetchProgressDecorator(jt,progressEventReducer(At,!0)),Ht&&Ft,encodeText),Bt)}Ct=Ct||"text";let Nt=await resolvers[utils$1.findKey(resolvers,Ct)||"text"](Ot,ht);return!Ht&&Ft(),Mt&&Mt(),await new Promise((Bt,jt)=>{settle(Bt,jt,{data:Nt,headers:AxiosHeaders.from(Ot.headers),status:Ot.status,statusText:Ot.statusText,config:ht,request:$t})})}catch(Ot){throw Ft(),Ot&&Ot.name==="TypeError"&&/fetch/i.test(Ot.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,ht,$t),{cause:Ot.cause||Ot}):AxiosError.from(Ot,Ot&&Ot.code,ht,$t)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(ht,$)=>{if(ht){try{Object.defineProperty(ht,"name",{value:$})}catch{}Object.defineProperty(ht,"adapterName",{value:$})}});const renderReason=ht=>`- ${ht}`,isResolvedHandle=ht=>utils$1.isFunction(ht)||ht===null||ht===!1,adapters={getAdapter:ht=>{ht=utils$1.isArray(ht)?ht:[ht];const{length:$}=ht;let _e,vt;const bt={};for(let xt=0;xt<$;xt++){_e=ht[xt];let Et;if(vt=_e,!isResolvedHandle(_e)&&(vt=knownAdapters[(Et=String(_e)).toLowerCase()],vt===void 0))throw new AxiosError(`Unknown adapter '${Et}'`);if(vt)break;bt[Et||"#"+xt]=vt}if(!vt){const xt=Object.entries(bt).map(([At,wt])=>`adapter ${At} `+(wt===!1?"is not supported by the environment":"is not available in the build"));let Et=$?xt.length>1?`since :
`+xt.map(renderReason).join(`
`):" "+renderReason(xt[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+Et,"ERR_NOT_SUPPORT")}return vt},adapters:knownAdapters};function throwIfCancellationRequested(ht){if(ht.cancelToken&&ht.cancelToken.throwIfRequested(),ht.signal&&ht.signal.aborted)throw new CanceledError(null,ht)}function dispatchRequest(ht){return throwIfCancellationRequested(ht),ht.headers=AxiosHeaders.from(ht.headers),ht.data=transformData.call(ht,ht.transformRequest),["post","put","patch"].indexOf(ht.method)!==-1&&ht.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(ht.adapter||defaults.adapter)(ht).then(function(vt){return throwIfCancellationRequested(ht),vt.data=transformData.call(ht,ht.transformResponse,vt),vt.headers=AxiosHeaders.from(vt.headers),vt},function(vt){return isCancel(vt)||(throwIfCancellationRequested(ht),vt&&vt.response&&(vt.response.data=transformData.call(ht,ht.transformResponse,vt.response),vt.response.headers=AxiosHeaders.from(vt.response.headers))),Promise.reject(vt)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((ht,$)=>{validators$1[ht]=function(vt){return typeof vt===ht||"a"+($<1?"n ":" ")+ht}});const deprecatedWarnings={};validators$1.transitional=function($,_e,vt){function bt(xt,Et){return"[Axios v"+VERSION+"] Transitional option '"+xt+"'"+Et+(vt?". "+vt:"")}return(xt,Et,At)=>{if($===!1)throw new AxiosError(bt(Et," has been removed"+(_e?" in "+_e:"")),AxiosError.ERR_DEPRECATED);return _e&&!deprecatedWarnings[Et]&&(deprecatedWarnings[Et]=!0,console.warn(bt(Et," has been deprecated since v"+_e+" and will be removed in the near future"))),$?$(xt,Et,At):!0}};function assertOptions(ht,$,_e){if(typeof ht!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const vt=Object.keys(ht);let bt=vt.length;for(;bt-- >0;){const xt=vt[bt],Et=$[xt];if(Et){const At=ht[xt],wt=At===void 0||Et(At,xt,ht);if(wt!==!0)throw new AxiosError("option "+xt+" must be "+wt,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(_e!==!0)throw new AxiosError("Unknown option "+xt,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor($){this.defaults=$,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request($,_e){try{return await this._request($,_e)}catch(vt){if(vt instanceof Error){let bt;Error.captureStackTrace?Error.captureStackTrace(bt={}):bt=new Error;const xt=bt.stack?bt.stack.replace(/^.+\n/,""):"";try{vt.stack?xt&&!String(vt.stack).endsWith(xt.replace(/^.+\n.+\n/,""))&&(vt.stack+=`
`+xt):vt.stack=xt}catch{}}throw vt}}_request($,_e){typeof $=="string"?(_e=_e||{},_e.url=$):_e=$||{},_e=mergeConfig(this.defaults,_e);const{transitional:vt,paramsSerializer:bt,headers:xt}=_e;vt!==void 0&&validator.assertOptions(vt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),bt!=null&&(utils$1.isFunction(bt)?_e.paramsSerializer={serialize:bt}:validator.assertOptions(bt,{encode:validators.function,serialize:validators.function},!0)),_e.method=(_e.method||this.defaults.method||"get").toLowerCase();let Et=xt&&utils$1.merge(xt.common,xt[_e.method]);xt&&utils$1.forEach(["delete","get","head","post","put","patch","common"],Mt=>{delete xt[Mt]}),_e.headers=AxiosHeaders.concat(Et,xt);const At=[];let wt=!0;this.interceptors.request.forEach(function(Dt){typeof Dt.runWhen=="function"&&Dt.runWhen(_e)===!1||(wt=wt&&Dt.synchronous,At.unshift(Dt.fulfilled,Dt.rejected))});const Ct=[];this.interceptors.response.forEach(function(Dt){Ct.push(Dt.fulfilled,Dt.rejected)});let St,Rt=0,Pt;if(!wt){const Mt=[dispatchRequest.bind(this),void 0];for(Mt.unshift.apply(Mt,At),Mt.push.apply(Mt,Ct),Pt=Mt.length,St=Promise.resolve(_e);Rt<Pt;)St=St.then(Mt[Rt++],Mt[Rt++]);return St}Pt=At.length;let kt=_e;for(Rt=0;Rt<Pt;){const Mt=At[Rt++],Dt=At[Rt++];try{kt=Mt(kt)}catch($t){Dt.call(this,$t);break}}try{St=dispatchRequest.call(this,kt)}catch(Mt){return Promise.reject(Mt)}for(Rt=0,Pt=Ct.length;Rt<Pt;)St=St.then(Ct[Rt++],Ct[Rt++]);return St}getUri($){$=mergeConfig(this.defaults,$);const _e=buildFullPath($.baseURL,$.url);return buildURL(_e,$.params,$.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function($){Axios.prototype[$]=function(_e,vt){return this.request(mergeConfig(vt||{},{method:$,url:_e,data:(vt||{}).data}))}});utils$1.forEach(["post","put","patch"],function($){function _e(vt){return function(xt,Et,At){return this.request(mergeConfig(At||{},{method:$,headers:vt?{"Content-Type":"multipart/form-data"}:{},url:xt,data:Et}))}}Axios.prototype[$]=_e(),Axios.prototype[$+"Form"]=_e(!0)});class CancelToken{constructor($){if(typeof $!="function")throw new TypeError("executor must be a function.");let _e;this.promise=new Promise(function(xt){_e=xt});const vt=this;this.promise.then(bt=>{if(!vt._listeners)return;let xt=vt._listeners.length;for(;xt-- >0;)vt._listeners[xt](bt);vt._listeners=null}),this.promise.then=bt=>{let xt;const Et=new Promise(At=>{vt.subscribe(At),xt=At}).then(bt);return Et.cancel=function(){vt.unsubscribe(xt)},Et},$(function(xt,Et,At){vt.reason||(vt.reason=new CanceledError(xt,Et,At),_e(vt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe($){if(this.reason){$(this.reason);return}this._listeners?this._listeners.push($):this._listeners=[$]}unsubscribe($){if(!this._listeners)return;const _e=this._listeners.indexOf($);_e!==-1&&this._listeners.splice(_e,1)}static source(){let $;return{token:new CancelToken(function(bt){$=bt}),cancel:$}}}function spread(ht){return function(_e){return ht.apply(null,_e)}}function isAxiosError(ht){return utils$1.isObject(ht)&&ht.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([ht,$])=>{HttpStatusCode[$]=ht});function createInstance(ht){const $=new Axios(ht),_e=bind(Axios.prototype.request,$);return utils$1.extend(_e,Axios.prototype,$,{allOwnKeys:!0}),utils$1.extend(_e,$,null,{allOwnKeys:!0}),_e.create=function(bt){return createInstance(mergeConfig(ht,bt))},_e}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function($){return Promise.all($)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=ht=>formDataToJSON(utils$1.isHTMLForm(ht)?new FormData(ht):ht);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;function List(ht){const[$,_e]=reactExports.useState(!1),[vt,bt]=reactExports.useState(!1),xt=useNavigate(),[Et,At]=reactExports.useState([]),wt=St=>{const Rt=new Date,Pt=new Date(St);let kt=Rt.getFullYear()-Pt.getFullYear();const Mt=Rt.getMonth()-Pt.getMonth();return(Mt<0||Mt===0&&Rt.getDate()<Pt.getDate())&&kt--,kt};async function Ct(){const St=await axios.get("en/getpatients");At(St.data),ht.setNoofPatients(St.data.length)}return reactExports.useEffect(()=>{Ct()},[]),wt("2004-06-05T18:30:00.000Z"),jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[920px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end w-full",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-[32px] font-bold leading-tight min-w-72",children:"Patients"}),jsxRuntimeExports.jsx("div",{className:`${ht.isDoctor?"hidden":"flex"}`,children:jsxRuntimeExports.jsx(Dropdown,{editPatients:$,setEditPatients:_e,deletePatients:vt,setDeletePatients:bt})})]})}),jsxRuntimeExports.jsx("div",{className:"px-4 py-3",children:jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 h-12 w-full",children:jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl h-full",children:[jsxRuntimeExports.jsx("div",{className:"text-[#4f7396] flex border-none bg-[#e8edf3] items-center justify-center pl-4 rounded-l-xl border-r-0","data-icon":"MagnifyingGlass","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})}),jsxRuntimeExports.jsx("input",{placeholder:"Search patients",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e8edf3] focus:border-none h-full placeholder:text-[#4f7396] px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal"})]})})}),Et.map((St,Rt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 transition-all duration-300 ease-in-out hover:bg-[#e2e8f0] cursor-pointer rounded-xl ",onClick:()=>xt("/patient",{state:{id:St._id}}),children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-14 w-fit transform",style:{backgroundImage:""}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:St.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Age: ",wt(St.DOB),", Gender: ",St.gender]})]}),jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`size-6 self-start mt-4 ml-auto mb-2 ${$?"block":"hidden"} `,children:[jsxRuntimeExports.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),jsxRuntimeExports.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]}),jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:`size-6 self-start mt-4 ml-auto mb-2 ${vt?"block":"hidden"}`,children:jsxRuntimeExports.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})]},Rt))]})}function Analytics(ht){return jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[360px]",children:[jsxRuntimeExports.jsx("h3",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analytics"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Total Patients"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:ht.noofPatients}),jsxRuntimeExports.jsx("p",{className:"text-[#078838] text-base font-medium leading-normal",children:"+5%"})]}),jsxRuntimeExports.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Average Age"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:"44"}),jsxRuntimeExports.jsx("p",{className:"text-[#e73908] text-base font-medium leading-normal",children:"-2%"})]})]})]})}const Navbar=ht=>{console.log(ht);const $=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7eef4] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0d151c]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0d151c] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Sanjh Sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#0d151c] text-sm font-medium leading-normal cursor-pointer",onClick:()=>$("/"),children:"Home"}),jsxRuntimeExports.jsx("a",{className:`text-[#0d151c] text-sm font-medium leading-normal cursor-pointer ${ht.patient?"":"hidden"}`,onClick:()=>$("/main"),children:"Patients"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-2",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] font-medium text-sm leading-normal",children:ht.isDoctor?"Doctor":"Care taker"})}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/62891830-57f4-4b6d-ab96-97aa59242b87.png")'}})]})]})};function Main(ht){const[$,_e]=reactExports.useState(0);return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#f8fafb] group/design-root overflow-x-hidden",style:{fontFamily:'Inter, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx(Navbar,{isDoctor:ht.isDoctor}),jsxRuntimeExports.jsxs("div",{className:"gap-1 px-6 flex flex-1 justify-center py-5",children:[jsxRuntimeExports.jsx(List,{isDoctor:ht.isDoctor,setNoofPatients:_e,noofPatients:$}),jsxRuntimeExports.jsx(Analytics,{noofPatients:$})]})]})})}const LandingPage=()=>{const ht=reactExports.useRef(null),$=()=>{ht.current.scrollIntoView({behavior:"smooth"})};let _e=useNavigate();return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{fontFamily:'Epilogue, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_6_543)",children:[jsxRuntimeExports.jsx("path",{d:"M42.1739 20.1739L27.8261 5.82609C29.1366 7.13663 28.3989 10.1876 26.2002 13.7654C24.8538 15.9564 22.9595 18.3449 20.6522 20.6522C18.3449 22.9595 15.9564 24.8538 13.7654 26.2002C10.1876 28.3989 7.13663 29.1366 5.82609 27.8261L20.1739 42.1739C21.4845 43.4845 24.5355 42.7467 28.1133 40.548C30.3042 39.2016 32.6927 37.3073 35 35C37.3073 32.6927 39.2016 30.3042 40.548 28.1133C42.7467 24.5355 43.4845 21.4845 42.1739 20.1739Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.24189 26.4066C7.31369 26.4411 7.64204 26.5637 8.52504 26.3738C9.59462 26.1438 11.0343 25.5311 12.7183 24.4963C14.7583 23.2426 17.0256 21.4503 19.238 19.238C21.4503 17.0256 23.2426 14.7583 24.4963 12.7183C25.5311 11.0343 26.1438 9.59463 26.3738 8.52504C26.5637 7.64204 26.4411 7.31369 26.4066 7.24189C26.345 7.21246 26.143 7.14535 25.6664 7.1918C24.9745 7.25925 23.9954 7.5498 22.7699 8.14278C20.3369 9.32007 17.3369 11.4915 14.4142 14.4142C11.4915 17.3369 9.32007 20.3369 8.14278 22.7699C7.5498 23.9954 7.25925 24.9745 7.1918 25.6664C7.14534 26.143 7.21246 26.345 7.24189 26.4066ZM29.9001 10.7285C29.4519 12.0322 28.7617 13.4172 27.9042 14.8126C26.465 17.1544 24.4686 19.6641 22.0664 22.0664C19.6641 24.4686 17.1544 26.465 14.8126 27.9042C13.4172 28.7617 12.0322 29.4519 10.7285 29.9001L21.5754 40.747C21.6001 40.7606 21.8995 40.931 22.8729 40.7217C23.9424 40.4916 25.3821 39.879 27.0661 38.8441C29.1062 37.5904 31.3734 35.7982 33.5858 33.5858C35.7982 31.3734 37.5904 29.1062 38.8441 27.0661C39.879 25.3821 40.4916 23.9425 40.7216 22.8729C40.931 21.8995 40.7606 21.6001 40.747 21.5754L29.9001 10.7285ZM29.2403 4.41187L43.5881 18.7597C44.9757 20.1473 44.9743 22.1235 44.6322 23.7139C44.2714 25.3919 43.4158 27.2666 42.252 29.1604C40.8128 31.5022 38.8165 34.012 36.4142 36.4142C34.012 38.8165 31.5022 40.8128 29.1604 42.252C27.2666 43.4158 25.3919 44.2714 23.7139 44.6322C22.1235 44.9743 20.1473 44.9757 18.7597 43.5881L4.41187 29.2403C3.29027 28.1187 3.08209 26.5973 3.21067 25.2783C3.34099 23.9415 3.8369 22.4852 4.54214 21.0277C5.96129 18.0948 8.43335 14.7382 11.5858 11.5858C14.7382 8.43335 18.0948 5.9613 21.0277 4.54214C22.4852 3.8369 23.9415 3.34099 25.2783 3.21067C26.5973 3.08209 28.1187 3.29028 29.2403 4.41187Z",fill:"currentColor"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_6_543",children:jsxRuntimeExports.jsx("rect",{width:"48",height:"48",fill:"white"})})})]})}),jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh Sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-9",children:jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal cursor-pointer",onClick:$,children:"Features"})}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#607AFB] text-[#F9FAFA] text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>_e("/signin"),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Login"})})})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"@container",children:jsxRuntimeExports.jsx("div",{className:"@[480px]:p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-xl items-start justify-end px-4 pb-10 @[480px]:px-10",style:{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url("https://cdn.usegalileo.ai/sdxl10/d0342d60-6ca8-4000-abde-e44f0d824c83.png")'},children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[jsxRuntimeExports.jsx("h1",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]",children:"Saanjh Sahayak, better care for our elders"}),jsxRuntimeExports.jsx("h2",{className:"text-white text-sm font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal",children:"We are here to provide comprehensive and compassionate care to the elderly in old age homes."})]}),jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 h-14 w-full max-w-[480px] @[480px]:h-16"})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",ref:ht,children:[jsxRuntimeExports.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Caretakers"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Upload and Monitor Patient Reports"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily upload and monitor patient reports. Our system is designed to handle a variety of formats, ensuring a seamless experience."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Notification","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,128v80a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V56A16,16,0,0,1,48,40h80a8,8,0,0,1,0,16H48V208H200V128a8,8,0,0,1,16,0Zm16-68a36,36,0,1,1-36-36A36,36,0,0,1,232,60Zm-16,0a20,20,0,1,0-20,20A20,20,0,0,0,216,60Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Receive Alerts and Reminders"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Get instant alerts and reminders for medication, doctor's appointments, and more. Stay on top of your loved one's care."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",children:[jsxRuntimeExports.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Doctors"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Verify Patient Information"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Quickly and securely verify patient information. Our platform is designed to ensure compliance with privacy and data protection regulations."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Translate","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M239.15,212.42l-56-112a8,8,0,0,0-14.31,0l-21.71,43.43A88,88,0,0,1,100,126.93,103.65,103.65,0,0,0,127.69,64H152a8,8,0,0,0,0-16H96V32a8,8,0,0,0-16,0V48H24a8,8,0,0,0,0,16h87.63A87.76,87.76,0,0,1,88,116.35a87.74,87.74,0,0,1-19-31,8,8,0,1,0-15.08,5.34A103.63,103.63,0,0,0,76,127a87.55,87.55,0,0,1-52,17,8,8,0,0,0,0,16,103.46,103.46,0,0,0,64-22.08,104.18,104.18,0,0,0,51.44,21.31l-26.6,53.19a8,8,0,0,0,14.31,7.16L140.94,192h70.11l13.79,27.58A8,8,0,0,0,232,224a8,8,0,0,0,7.15-11.58ZM148.94,176,176,121.89,203.05,176Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Analyze with Large Language Model"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Utilize our powerful Large Language Model for in-depth patient analysis. Get insights and recommendations based on the latest medical research."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/fb823941-87a6-47fb-998f-c8224ea8c6db.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get help from experts"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Our team of geriatricians and nurse practitioners are here to help."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/b543c2c9-c73f-4636-8737-59e6d3f7a20e.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Stay connected"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily communicate with our team via video calls, phone calls, or chat."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/sdxl10/8329d0d0-4083-4c19-89c0-de0625991c40.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get reminders"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Set up medication reminders and get alerts when it's time to take a dose."})]})]})]})]})})]})})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(ht,$){if(ht==null)return{};var _e=_objectWithoutPropertiesLoose(ht,$),vt,bt;if(Object.getOwnPropertySymbols){var xt=Object.getOwnPropertySymbols(ht);for(bt=0;bt<xt.length;bt++)vt=xt[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(ht,vt)&&(_e[vt]=ht[vt])}return _e}function _objectWithoutPropertiesLoose(ht,$){if(ht==null)return{};var _e={};for(var vt in ht)if(Object.prototype.hasOwnProperty.call(ht,vt)){if($.indexOf(vt)>=0)continue;_e[vt]=ht[vt]}return _e}function _extends(){return _extends=Object.assign?Object.assign.bind():function(ht){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var vt in _e)Object.prototype.hasOwnProperty.call(_e,vt)&&(ht[vt]=_e[vt])}return ht},_extends.apply(this,arguments)}function ownKeys(ht,$){var _e=Object.keys(ht);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(ht);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(ht,bt).enumerable})),_e.push.apply(_e,vt)}return _e}function _objectSpread(ht){for(var $=1;$<arguments.length;$++){var _e=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(_e),!0).forEach(function(vt){_defineProperty(ht,vt,_e[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ht,Object.getOwnPropertyDescriptors(_e)):ownKeys(Object(_e)).forEach(function(vt){Object.defineProperty(ht,vt,Object.getOwnPropertyDescriptor(_e,vt))})}return ht}function _defineProperty(ht,$,_e){return $=_toPropertyKey($),$ in ht?Object.defineProperty(ht,$,{value:_e,enumerable:!0,configurable:!0,writable:!0}):ht[$]=_e,ht}function _toPropertyKey(ht){var $=_toPrimitive(ht,"string");return typeof $=="symbol"?$:$+""}function _toPrimitive(ht,$){if(typeof ht!="object"||!ht)return ht;var _e=ht[Symbol.toPrimitive];if(_e!==void 0){var vt=_e.call(ht,$||"default");if(typeof vt!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(ht)}function Tree2Element(ht){return ht&&ht.map(($,_e)=>React.createElement($.tag,_objectSpread({key:_e},$.attr),Tree2Element($.child)))}function GenIcon(ht){return $=>React.createElement(IconBase,_extends({attr:_objectSpread({},ht.attr)},$),Tree2Element(ht.child))}function IconBase(ht){var $=_e=>{var{attr:vt,size:bt,title:xt}=ht,Et=_objectWithoutProperties(ht,_excluded),At=bt||_e.size||"1em",wt;return _e.className&&(wt=_e.className),ht.className&&(wt=(wt?wt+" ":"")+ht.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},_e.attr,vt,Et,{className:wt,style:_objectSpread(_objectSpread({color:ht.color||_e.color},_e.style),ht.style),height:At,width:At,xmlns:"http://www.w3.org/2000/svg"}),xt&&React.createElement("title",null,xt),ht.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,_e=>$(_e)):$(DefaultContext)}function FaEdit(ht){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(ht)}function Profile(ht){const[$,_e]=reactExports.useState(ht.id),[vt,bt]=reactExports.useState();async function xt(){const wt=await axios.get(`/en/getpatient/${$}`);bt(wt.data)}reactExports.useEffect(()=>{xt()},[$]);const Et=wt=>{const Ct=new Date,St=new Date(wt);let Rt=Ct.getFullYear()-St.getFullYear();const Pt=Ct.getMonth()-St.getMonth();return(Pt<0||Pt===0&&Ct.getDate()<St.getDate())&&Rt--,Rt},At=[{date:"July 15, 2022",report:"Blood Test"},{date:"June 12, 2022",report:"X-ray"},{date:"March 22, 2022",report:"Blood Test"}];return vt&&jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex p-4 @container",children:[jsxRuntimeExports.jsx("div",{className:`absolute top-2 right-2 ${ht.isDoctor?"hidden":""}`,children:jsxRuntimeExports.jsx("button",{className:"text-blue-500 hover:text-blue-700",children:jsxRuntimeExports.jsx(FaEdit,{size:20})})}),jsxRuntimeExports.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4 self-start",children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-32 w-32",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/4085b1e6-79ae-4450-b2e6-2a0385966715.png")'}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:vt.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#49779c] text-base font-normal leading-normal",children:["Age ",Et(vt.DOB),", ",vt.gender,", Blood type: ",vt.bloodGroup]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 bg-slate-50 px-4 py-3",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"User","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal",children:"Patient Information"}),jsxRuntimeExports.jsxs("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:["Previous test reports: ",vt.reportsList.length]}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:"Known health conditions: Asthma, Allergies"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-14 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-10","data-icon":"Phone","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"})})}),jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-normal leading-normal flex-1 truncate",children:"Contact Number"})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsxs("p",{className:"text-[#0d151c] text-base font-normal leading-normal",children:["(+91) ",vt.phone]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-4 pb-3 pt-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Report History"}),jsxRuntimeExports.jsx("button",{className:`bg-blue-500 text-white px-4 py-2 rounded ${ht.isDoctor?"hidden":""}`,children:"Upload Reports"})]}),jsxRuntimeExports.jsx("div",{children:At.map((wt,Ct)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-[72px] py-2 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:wt.date}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:wt.report})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},Ct))})]})})}function Patient(ht){const{state:$}=useLocation(),{id:_e}=$;return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:{fontFamily:'Manrope, "Noto Sans", sans-serif;'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx(Navbar,{patient:!0,isDoctor:ht.isDoctor}),jsxRuntimeExports.jsx(Profile,{isDoctor:ht.isDoctor,id:_e})]})})}function Signin(ht){const[$,_e]=reactExports.useState(""),[vt,bt]=reactExports.useState(""),[xt,Et]=reactExports.useState(!1);let At=useNavigate();const wt=()=>{Et(!xt)},Ct={"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(248,250,252)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:"Manrope, 'Noto Sans', sans-serif"};return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:Ct,children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7edf3] px-10 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor",:!0})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]})}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-5",children:"Welcome to HealthCo"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-normal leading-normal pb-3 pt-1 px-4 text-center",children:"Please select if you are a doctor or a caretaker."}),jsxRuntimeExports.jsx("div",{className:"flex justify-stretch",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 flex-wrap px-4 py-3 justify-center ",children:[jsxRuntimeExports.jsx("button",{className:`flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 ${ht.isDoctor?" bg-[#1980e6] text-slate-50":"bg-[#e7edf3]  text-[#0e141b]"} text-sm font-bold leading-normal tracking-[0.015em]`,onClick:()=>ht.setIsDoctor(!0),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Doctor"})}),jsxRuntimeExports.jsx("button",{className:`flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 ${ht.isDoctor?"bg-[#e7edf3]  text-[#0e141b]":" bg-[#1980e6] text-slate-50"} text-sm font-bold leading-normal tracking-[0.015em]`,onClick:()=>ht.setIsDoctor(!1),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Caretaker"})})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3 self-center",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-96 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal pb-2",children:"ID"}),jsxRuntimeExports.jsx("input",{placeholder:"Enter your ID",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e7edf3] focus:border-none h-14 placeholder:text-[#4e7397] p-4 text-base font-normal leading-normal",value:$,onChange:St=>_e(St.target.value)})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3 self-center",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-96 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal pb-2",children:"Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{placeholder:"Enter your password",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e7edf3] focus:border-none h-14 placeholder:text-[#4e7397] p-4 text-base font-normal leading-normal",value:vt,onChange:St=>bt(St.target.value),type:xt?"text":"password"}),jsxRuntimeExports.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-sm text-gray-600",onClick:wt,children:xt?jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}):jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})})})]})]})}),jsxRuntimeExports.jsx("div",{className:"px-4 self-center"})]})}),jsxRuntimeExports.jsx("footer",{className:"flex justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex max-w-[960px] flex-1 flex-col",children:[jsxRuntimeExports.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal pb-3 pt-1 px-4 text-center",children:"By continuing, you agree to our Terms of Use and Privacy Policy"}),jsxRuntimeExports.jsx("div",{className:"flex px-4 py-3 justify-center",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[143px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 flex-1 bg-[#1980e6] text-slate-50 text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>At("/main"),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Sign in"})})})]})})]})})}const NewSignin=()=>{const[ht,$]=reactExports.useState(null),_e=vt=>{$(vt)};return jsxRuntimeExports.jsx("div",{className:"relative flex items-center justify-center min-h-screen bg-slate-50",children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex flex-col max-w-[960px] w-full px-6",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between border-b border-solid border-b-[#e7edf3] px-4 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-8",children:[jsxRuntimeExports.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to professionals"),children:"For professionals"}),jsxRuntimeExports.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to caretakers"),children:"For caretakers"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight pb-3",children:"Welcome to HealthCo"}),jsxRuntimeExports.jsx("button",{className:"bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg mb-6",onClick:()=>alert("Display user selection"),children:"Select User"}),ht===null&&jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>_e("doctor"),children:"Doctor"}),jsxRuntimeExports.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>_e("caretaker"),children:"Caretaker"})]}),ht&&jsxRuntimeExports.jsxs("div",{className:"text-[#0e141b] text-base font-normal leading-normal mt-4",children:["You are signed in as ",jsxRuntimeExports.jsx("strong",{children:ht}),"."]})]}),jsxRuntimeExports.jsx("footer",{className:"flex justify-center py-3",children:jsxRuntimeExports.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal",children:"By continuing, you agree to our Terms of Use and Privacy Policy"})})]})})},scriptRel="modulepreload",assetsURL=function(ht){return"/"+ht},seen={},__vitePreload=function($,_e,vt){let bt=Promise.resolve();if(_e&&_e.length>0){document.getElementsByTagName("link");const xt=document.querySelector("meta[property=csp-nonce]"),Et=(xt==null?void 0:xt.nonce)||(xt==null?void 0:xt.getAttribute("nonce"));bt=Promise.all(_e.map(At=>{if(At=assetsURL(At),At in seen)return;seen[At]=!0;const wt=At.endsWith(".css"),Ct=wt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${At}"]${Ct}`))return;const St=document.createElement("link");if(St.rel=wt?"stylesheet":scriptRel,wt||(St.as="script",St.crossOrigin=""),St.href=At,Et&&St.setAttribute("nonce",Et),document.head.appendChild(St),wt)return new Promise((Rt,Pt)=>{St.addEventListener("load",Rt),St.addEventListener("error",()=>Pt(new Error(`Unable to preload CSS for ${At}`)))})}))}return bt.then(()=>$()).catch(xt=>{const Et=new Event("vite:preloadError",{cancelable:!0});if(Et.payload=xt,window.dispatchEvent(Et),!Et.defaultPrevented)throw xt})};var __webpack_require__={};__webpack_require__.d=(ht,$)=>{for(var _e in $)__webpack_require__.o($,_e)&&!__webpack_require__.o(ht,_e)&&Object.defineProperty(ht,_e,{enumerable:!0,get:$[_e]})};__webpack_require__.o=(ht,$)=>Object.prototype.hasOwnProperty.call(ht,$);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer,AnnotationMode:()=>AnnotationMode,CMapCompressionType:()=>CMapCompressionType,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,Outliner:()=>Outliner,PDFDataRangeTransport:()=>PDFDataRangeTransport,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,renderTextLayer:()=>renderTextLayer,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,updateTextLayer:()=>updateTextLayer,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(ht){Number.isInteger(ht)&&(verbosity=ht)}function getVerbosityLevel(){return verbosity}function info(ht){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${ht}`)}function warn(ht){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${ht}`)}function unreachable(ht){throw new Error(ht)}function assert(ht,$){ht||unreachable($)}function _isValidProtocol(ht){switch(ht==null?void 0:ht.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(ht,$=null,_e=null){if(!ht)return null;try{if(_e&&typeof ht=="string"){if(_e.addDefaultProtocol&&ht.startsWith("www.")){const bt=ht.match(/\./g);(bt==null?void 0:bt.length)>=2&&(ht=`http://${ht}`)}if(_e.tryConvertEncoding)try{ht=stringToUTF8String(ht)}catch{}}const vt=$?new URL(ht,$):new URL(ht);if(_isValidProtocol(vt))return vt}catch{}return null}function shadow(ht,$,_e,vt=!1){return Object.defineProperty(ht,$,{value:_e,enumerable:!vt,configurable:!0,writable:!1}),_e}const BaseException=function(){function $(_e,vt){this.constructor===$&&unreachable("Cannot initialize BaseException."),this.message=_e,this.name=vt}return $.prototype=new Error,$.constructor=$,$}();class PasswordException extends BaseException{constructor($,_e){super($,"PasswordException"),this.code=_e}}class UnknownErrorException extends BaseException{constructor($,_e){super($,"UnknownErrorException"),this.details=_e}}class InvalidPDFException extends BaseException{constructor($){super($,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor($){super($,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor($,_e){super($,"UnexpectedResponseException"),this.status=_e}}class FormatError extends BaseException{constructor($){super($,"FormatError")}}class AbortException extends BaseException{constructor($){super($,"AbortException")}}function bytesToString(ht){(typeof ht!="object"||(ht==null?void 0:ht.length)===void 0)&&unreachable("Invalid argument for bytesToString");const $=ht.length,_e=8192;if($<_e)return String.fromCharCode.apply(null,ht);const vt=[];for(let bt=0;bt<$;bt+=_e){const xt=Math.min(bt+_e,$),Et=ht.subarray(bt,xt);vt.push(String.fromCharCode.apply(null,Et))}return vt.join("")}function stringToBytes(ht){typeof ht!="string"&&unreachable("Invalid argument for stringToBytes");const $=ht.length,_e=new Uint8Array($);for(let vt=0;vt<$;++vt)_e[vt]=ht.charCodeAt(vt)&255;return _e}function string32(ht){return String.fromCharCode(ht>>24&255,ht>>16&255,ht>>8&255,ht&255)}function objectFromMap(ht){const $=Object.create(null);for(const[_e,vt]of ht)$[_e]=vt;return $}function isLittleEndian(){const ht=new Uint8Array(4);return ht[0]=1,new Uint32Array(ht.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var $,_e;return shadow(this,"isCSSRoundSupported",(_e=($=globalThis.CSS)==null?void 0:$.supports)==null?void 0:_e.call($,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),ht=>ht.toString(16).padStart(2,"0"));var du,uy,Sx;class Util{static makeHexColor($,_e,vt){return`#${hexNumbers[$]}${hexNumbers[_e]}${hexNumbers[vt]}`}static scaleMinMax($,_e){let vt;$[0]?($[0]<0&&(vt=_e[0],_e[0]=_e[2],_e[2]=vt),_e[0]*=$[0],_e[2]*=$[0],$[3]<0&&(vt=_e[1],_e[1]=_e[3],_e[3]=vt),_e[1]*=$[3],_e[3]*=$[3]):(vt=_e[0],_e[0]=_e[1],_e[1]=vt,vt=_e[2],_e[2]=_e[3],_e[3]=vt,$[1]<0&&(vt=_e[1],_e[1]=_e[3],_e[3]=vt),_e[1]*=$[1],_e[3]*=$[1],$[2]<0&&(vt=_e[0],_e[0]=_e[2],_e[2]=vt),_e[0]*=$[2],_e[2]*=$[2]),_e[0]+=$[4],_e[1]+=$[5],_e[2]+=$[4],_e[3]+=$[5]}static transform($,_e){return[$[0]*_e[0]+$[2]*_e[1],$[1]*_e[0]+$[3]*_e[1],$[0]*_e[2]+$[2]*_e[3],$[1]*_e[2]+$[3]*_e[3],$[0]*_e[4]+$[2]*_e[5]+$[4],$[1]*_e[4]+$[3]*_e[5]+$[5]]}static applyTransform($,_e){const vt=$[0]*_e[0]+$[1]*_e[2]+_e[4],bt=$[0]*_e[1]+$[1]*_e[3]+_e[5];return[vt,bt]}static applyInverseTransform($,_e){const vt=_e[0]*_e[3]-_e[1]*_e[2],bt=($[0]*_e[3]-$[1]*_e[2]+_e[2]*_e[5]-_e[4]*_e[3])/vt,xt=(-$[0]*_e[1]+$[1]*_e[0]+_e[4]*_e[1]-_e[5]*_e[0])/vt;return[bt,xt]}static getAxialAlignedBoundingBox($,_e){const vt=this.applyTransform($,_e),bt=this.applyTransform($.slice(2,4),_e),xt=this.applyTransform([$[0],$[3]],_e),Et=this.applyTransform([$[2],$[1]],_e);return[Math.min(vt[0],bt[0],xt[0],Et[0]),Math.min(vt[1],bt[1],xt[1],Et[1]),Math.max(vt[0],bt[0],xt[0],Et[0]),Math.max(vt[1],bt[1],xt[1],Et[1])]}static inverseTransform($){const _e=$[0]*$[3]-$[1]*$[2];return[$[3]/_e,-$[1]/_e,-$[2]/_e,$[0]/_e,($[2]*$[5]-$[4]*$[3])/_e,($[4]*$[1]-$[5]*$[0])/_e]}static singularValueDecompose2dScale($){const _e=[$[0],$[2],$[1],$[3]],vt=$[0]*_e[0]+$[1]*_e[2],bt=$[0]*_e[1]+$[1]*_e[3],xt=$[2]*_e[0]+$[3]*_e[2],Et=$[2]*_e[1]+$[3]*_e[3],At=(vt+Et)/2,wt=Math.sqrt((vt+Et)**2-4*(vt*Et-xt*bt))/2,Ct=At+wt||1,St=At-wt||1;return[Math.sqrt(Ct),Math.sqrt(St)]}static normalizeRect($){const _e=$.slice(0);return $[0]>$[2]&&(_e[0]=$[2],_e[2]=$[0]),$[1]>$[3]&&(_e[1]=$[3],_e[3]=$[1]),_e}static intersect($,_e){const vt=Math.max(Math.min($[0],$[2]),Math.min(_e[0],_e[2])),bt=Math.min(Math.max($[0],$[2]),Math.max(_e[0],_e[2]));if(vt>bt)return null;const xt=Math.max(Math.min($[1],$[3]),Math.min(_e[1],_e[3])),Et=Math.min(Math.max($[1],$[3]),Math.max(_e[1],_e[3]));return xt>Et?null:[vt,xt,bt,Et]}static bezierBoundingBox($,_e,vt,bt,xt,Et,At,wt,Ct){return Ct?(Ct[0]=Math.min(Ct[0],$,At),Ct[1]=Math.min(Ct[1],_e,wt),Ct[2]=Math.max(Ct[2],$,At),Ct[3]=Math.max(Ct[3],_e,wt)):Ct=[Math.min($,At),Math.min(_e,wt),Math.max($,At),Math.max(_e,wt)],Ut(this,du,Sx).call(this,$,vt,xt,At,_e,bt,Et,wt,3*(-$+3*(vt-xt)+At),6*($-2*vt+xt),3*(vt-$),Ct),Ut(this,du,Sx).call(this,$,vt,xt,At,_e,bt,Et,wt,3*(-_e+3*(bt-Et)+wt),6*(_e-2*bt+Et),3*(bt-_e),Ct),Ct}}du=new WeakSet,uy=function($,_e,vt,bt,xt,Et,At,wt,Ct,St){if(Ct<=0||Ct>=1)return;const Rt=1-Ct,Pt=Ct*Ct,kt=Pt*Ct,Mt=Rt*(Rt*(Rt*$+3*Ct*_e)+3*Pt*vt)+kt*bt,Dt=Rt*(Rt*(Rt*xt+3*Ct*Et)+3*Pt*At)+kt*wt;St[0]=Math.min(St[0],Mt),St[1]=Math.min(St[1],Dt),St[2]=Math.max(St[2],Mt),St[3]=Math.max(St[3],Dt)},Sx=function($,_e,vt,bt,xt,Et,At,wt,Ct,St,Rt,Pt){if(Math.abs(Ct)<1e-12){Math.abs(St)>=1e-12&&Ut(this,du,uy).call(this,$,_e,vt,bt,xt,Et,At,wt,-Rt/St,Pt);return}const kt=St**2-4*Rt*Ct;if(kt<0)return;const Mt=Math.sqrt(kt),Dt=2*Ct;Ut(this,du,uy).call(this,$,_e,vt,bt,xt,Et,At,wt,(-St+Mt)/Dt,Pt),Ut(this,du,uy).call(this,$,_e,vt,bt,xt,Et,At,wt,(-St-Mt)/Dt,Pt)},Gt(Util,du);function stringToUTF8String(ht){return decodeURIComponent(escape(ht))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(ht){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),ht.replaceAll(NormalizeRegex,($,_e,vt)=>_e?_e.normalize("NFKC"):NormalizationMap.get(vt))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const ht=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(ht);else for(let $=0;$<32;$++)ht[$]=Math.floor(Math.random()*255);return bytesToString(ht)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class BaseFilterFactory{constructor(){this.constructor===BaseFilterFactory&&unreachable("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,_e){return"none"}addAlphaFilter($){return"none"}addLuminosityFilter($){return"none"}addHighlightHCMFilter($,_e,vt,bt,xt){return"none"}destroy($=!1){}}class BaseCanvasFactory{constructor(){this.constructor===BaseCanvasFactory&&unreachable("Cannot initialize BaseCanvasFactory.")}create($,_e){if($<=0||_e<=0)throw new Error("Invalid canvas size");const vt=this._createCanvas($,_e);return{canvas:vt,context:vt.getContext("2d")}}reset($,_e,vt){if(!$.canvas)throw new Error("Canvas is not specified");if(_e<=0||vt<=0)throw new Error("Invalid canvas size");$.canvas.width=_e,$.canvas.height=vt}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,_e){unreachable("Abstract method `_createCanvas` called.")}}class BaseCMapReaderFactory{constructor({baseUrl:$=null,isCompressed:_e=!0}){this.constructor===BaseCMapReaderFactory&&unreachable("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=$,this.isCompressed=_e}async fetch({name:$}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!$)throw new Error("CMap name must be specified.");const _e=this.baseUrl+$+(this.isCompressed?".bcmap":""),vt=this.isCompressed?CMapCompressionType.BINARY:CMapCompressionType.NONE;return this._fetchData(_e,vt).catch(bt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_e}`)})}_fetchData($,_e){unreachable("Abstract method `_fetchData` called.")}}class BaseStandardFontDataFactory{constructor({baseUrl:$=null}){this.constructor===BaseStandardFontDataFactory&&unreachable("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=$}async fetch({filename:$}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!$)throw new Error("Font filename must be specified.");const _e=`${this.baseUrl}${$}`;return this._fetchData(_e).catch(vt=>{throw new Error(`Unable to load font data at: ${_e}`)})}_fetchData($){unreachable("Abstract method `_fetchData` called.")}}class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&unreachable("Cannot initialize BaseSVGFactory.")}create($,_e,vt=!1){if($<=0||_e<=0)throw new Error("Invalid SVG dimensions");const bt=this._createSVG("svg:svg");return bt.setAttribute("version","1.1"),vt||(bt.setAttribute("width",`${$}px`),bt.setAttribute("height",`${_e}px`)),bt.setAttribute("preserveAspectRatio","none"),bt.setAttribute("viewBox",`0 0 ${$} ${_e}`),bt}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){unreachable("Abstract method `_createSVG` called.")}}const SVG_NS="http://www.w3.org/2000/svg",Zu=class Zu{};wr(Zu,"CSS",96),wr(Zu,"PDF",72),wr(Zu,"PDF_TO_CSS_UNITS",Zu.CSS/Zu.PDF);let PixelsPerInch=Zu;var Ju,xa,Bl,bo,qy,_d,Fr,co,Yp,Zp,dy,SE,Cx,Qp,n0,i0,Rx,r0;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:_e,ownerDocument:vt=globalThis.document}={}){super();Gt(this,Fr);Gt(this,Ju);Gt(this,xa);Gt(this,Bl);Gt(this,bo);Gt(this,qy);Gt(this,_d,0);Wt(this,Bl,_e),Wt(this,bo,vt)}addFilter(_e){if(!_e)return"none";let vt=_t(this,Fr,co).get(_e);if(vt)return vt;const[bt,xt,Et]=Ut(this,Fr,dy).call(this,_e),At=_e.length===1?bt:`${bt}${xt}${Et}`;if(vt=_t(this,Fr,co).get(At),vt)return _t(this,Fr,co).set(_e,vt),vt;const wt=`g_${_t(this,Bl)}_transfer_map_${eo(this,_d)._++}`,Ct=`url(#${wt})`;_t(this,Fr,co).set(_e,Ct),_t(this,Fr,co).set(At,Ct);const St=Ut(this,Fr,Qp).call(this,wt);return Ut(this,Fr,i0).call(this,bt,xt,Et,St),Ct}addHCMFilter(_e,vt){var Mt;const bt=`${_e}-${vt}`,xt="base";let Et=_t(this,Fr,Yp).get(xt);if((Et==null?void 0:Et.key)===bt||(Et?((Mt=Et.filter)==null||Mt.remove(),Et.key=bt,Et.url="none",Et.filter=null):(Et={key:bt,url:"none",filter:null},_t(this,Fr,Yp).set(xt,Et)),!_e||!vt))return Et.url;const At=Ut(this,Fr,r0).call(this,_e);_e=Util.makeHexColor(...At);const wt=Ut(this,Fr,r0).call(this,vt);if(vt=Util.makeHexColor(...wt),_t(this,Fr,Zp).style.color="",_e==="#000000"&&vt==="#ffffff"||_e===vt)return Et.url;const Ct=new Array(256);for(let Dt=0;Dt<=255;Dt++){const $t=Dt/255;Ct[Dt]=$t<=.03928?$t/12.92:(($t+.055)/1.055)**2.4}const St=Ct.join(","),Rt=`g_${_t(this,Bl)}_hcm_filter`,Pt=Et.filter=Ut(this,Fr,Qp).call(this,Rt);Ut(this,Fr,i0).call(this,St,St,St,Pt),Ut(this,Fr,Cx).call(this,Pt);const kt=(Dt,$t)=>{const Ft=At[Dt]/255,Lt=wt[Dt]/255,Ot=new Array($t+1);for(let Ht=0;Ht<=$t;Ht++)Ot[Ht]=Ft+Ht/$t*(Lt-Ft);return Ot.join(",")};return Ut(this,Fr,i0).call(this,kt(0,5),kt(1,5),kt(2,5),Pt),Et.url=`url(#${Rt})`,Et.url}addAlphaFilter(_e){let vt=_t(this,Fr,co).get(_e);if(vt)return vt;const[bt]=Ut(this,Fr,dy).call(this,[_e]),xt=`alpha_${bt}`;if(vt=_t(this,Fr,co).get(xt),vt)return _t(this,Fr,co).set(_e,vt),vt;const Et=`g_${_t(this,Bl)}_alpha_map_${eo(this,_d)._++}`,At=`url(#${Et})`;_t(this,Fr,co).set(_e,At),_t(this,Fr,co).set(xt,At);const wt=Ut(this,Fr,Qp).call(this,Et);return Ut(this,Fr,Rx).call(this,bt,wt),At}addLuminosityFilter(_e){let vt=_t(this,Fr,co).get(_e||"luminosity");if(vt)return vt;let bt,xt;if(_e?([bt]=Ut(this,Fr,dy).call(this,[_e]),xt=`luminosity_${bt}`):xt="luminosity",vt=_t(this,Fr,co).get(xt),vt)return _t(this,Fr,co).set(_e,vt),vt;const Et=`g_${_t(this,Bl)}_luminosity_map_${eo(this,_d)._++}`,At=`url(#${Et})`;_t(this,Fr,co).set(_e,At),_t(this,Fr,co).set(xt,At);const wt=Ut(this,Fr,Qp).call(this,Et);return Ut(this,Fr,SE).call(this,wt),_e&&Ut(this,Fr,Rx).call(this,bt,wt),At}addHighlightHCMFilter(_e,vt,bt,xt,Et){var Lt;const At=`${vt}-${bt}-${xt}-${Et}`;let wt=_t(this,Fr,Yp).get(_e);if((wt==null?void 0:wt.key)===At||(wt?((Lt=wt.filter)==null||Lt.remove(),wt.key=At,wt.url="none",wt.filter=null):(wt={key:At,url:"none",filter:null},_t(this,Fr,Yp).set(_e,wt)),!vt||!bt))return wt.url;const[Ct,St]=[vt,bt].map(Ut(this,Fr,r0).bind(this));let Rt=Math.round(.2126*Ct[0]+.7152*Ct[1]+.0722*Ct[2]),Pt=Math.round(.2126*St[0]+.7152*St[1]+.0722*St[2]),[kt,Mt]=[xt,Et].map(Ut(this,Fr,r0).bind(this));Pt<Rt&&([Rt,Pt,kt,Mt]=[Pt,Rt,Mt,kt]),_t(this,Fr,Zp).style.color="";const Dt=(Ot,Ht,Nt)=>{const Bt=new Array(256),jt=(Pt-Rt)/Nt,zt=Ot/255,Kt=(Ht-Ot)/(255*Nt);let nn=0;for(let qt=0;qt<=Nt;qt++){const en=Math.round(Rt+qt*jt),on=zt+qt*Kt;for(let _n=nn;_n<=en;_n++)Bt[_n]=on;nn=en+1}for(let qt=nn;qt<256;qt++)Bt[qt]=Bt[nn-1];return Bt.join(",")},$t=`g_${_t(this,Bl)}_hcm_${_e}_filter`,Ft=wt.filter=Ut(this,Fr,Qp).call(this,$t);return Ut(this,Fr,Cx).call(this,Ft),Ut(this,Fr,i0).call(this,Dt(kt[0],Mt[0],5),Dt(kt[1],Mt[1],5),Dt(kt[2],Mt[2],5),Ft),wt.url=`url(#${$t})`,wt.url}destroy(_e=!1){_e&&_t(this,Fr,Yp).size!==0||(_t(this,xa)&&(_t(this,xa).parentNode.parentNode.remove(),Wt(this,xa,null)),_t(this,Ju)&&(_t(this,Ju).clear(),Wt(this,Ju,null)),Wt(this,_d,0))}}Ju=new WeakMap,xa=new WeakMap,Bl=new WeakMap,bo=new WeakMap,qy=new WeakMap,_d=new WeakMap,Fr=new WeakSet,co=function(){return _t(this,Ju)||Wt(this,Ju,new Map)},Yp=function(){return _t(this,qy)||Wt(this,qy,new Map)},Zp=function(){if(!_t(this,xa)){const _e=_t(this,bo).createElement("div"),{style:vt}=_e;vt.visibility="hidden",vt.contain="strict",vt.width=vt.height=0,vt.position="absolute",vt.top=vt.left=0,vt.zIndex=-1;const bt=_t(this,bo).createElementNS(SVG_NS,"svg");bt.setAttribute("width",0),bt.setAttribute("height",0),Wt(this,xa,_t(this,bo).createElementNS(SVG_NS,"defs")),_e.append(bt),bt.append(_t(this,xa)),_t(this,bo).body.append(_e)}return _t(this,xa)},dy=function(_e){if(_e.length===1){const Ct=_e[0],St=new Array(256);for(let Pt=0;Pt<256;Pt++)St[Pt]=Ct[Pt]/255;const Rt=St.join(",");return[Rt,Rt,Rt]}const[vt,bt,xt]=_e,Et=new Array(256),At=new Array(256),wt=new Array(256);for(let Ct=0;Ct<256;Ct++)Et[Ct]=vt[Ct]/255,At[Ct]=bt[Ct]/255,wt[Ct]=xt[Ct]/255;return[Et.join(","),At.join(","),wt.join(",")]},SE=function(_e){const vt=_t(this,bo).createElementNS(SVG_NS,"feColorMatrix");vt.setAttribute("type","matrix"),vt.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),_e.append(vt)},Cx=function(_e){const vt=_t(this,bo).createElementNS(SVG_NS,"feColorMatrix");vt.setAttribute("type","matrix"),vt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),_e.append(vt)},Qp=function(_e){const vt=_t(this,bo).createElementNS(SVG_NS,"filter");return vt.setAttribute("color-interpolation-filters","sRGB"),vt.setAttribute("id",_e),_t(this,Fr,Zp).append(vt),vt},n0=function(_e,vt,bt){const xt=_t(this,bo).createElementNS(SVG_NS,vt);xt.setAttribute("type","discrete"),xt.setAttribute("tableValues",bt),_e.append(xt)},i0=function(_e,vt,bt,xt){const Et=_t(this,bo).createElementNS(SVG_NS,"feComponentTransfer");xt.append(Et),Ut(this,Fr,n0).call(this,Et,"feFuncR",_e),Ut(this,Fr,n0).call(this,Et,"feFuncG",vt),Ut(this,Fr,n0).call(this,Et,"feFuncB",bt)},Rx=function(_e,vt){const bt=_t(this,bo).createElementNS(SVG_NS,"feComponentTransfer");vt.append(bt),Ut(this,Fr,n0).call(this,bt,"feFuncA",_e)},r0=function(_e){return _t(this,Fr,Zp).style.color=_e,getRGB(getComputedStyle(_t(this,Fr,Zp)).getPropertyValue("color"))};class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:$=globalThis.document}={}){super(),this._document=$}_createCanvas($,_e){const vt=this._document.createElement("canvas");return vt.width=$,vt.height=_e,vt}}async function fetchData(ht,$="text"){if(isValidFetchUrl(ht,document.baseURI)){const _e=await fetch(ht);if(!_e.ok)throw new Error(_e.statusText);switch($){case"arraybuffer":return _e.arrayBuffer();case"blob":return _e.blob();case"json":return _e.json()}return _e.text()}return new Promise((_e,vt)=>{const bt=new XMLHttpRequest;bt.open("GET",ht,!0),bt.responseType=$,bt.onreadystatechange=()=>{if(bt.readyState===XMLHttpRequest.DONE){if(bt.status===200||bt.status===0){switch($){case"arraybuffer":case"blob":case"json":_e(bt.response);return}_e(bt.responseText);return}vt(new Error(bt.statusText))}},bt.send(null)})}class DOMCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,_e){return fetchData($,this.isCompressed?"arraybuffer":"text").then(vt=>({cMapData:vt instanceof ArrayBuffer?new Uint8Array(vt):stringToBytes(vt),compressionType:_e}))}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return fetchData($,"arraybuffer").then(_e=>new Uint8Array(_e))}}class DOMSVGFactory extends BaseSVGFactory{_createSVG($){return document.createElementNS(SVG_NS,$)}}class PageViewport{constructor({viewBox:$,scale:_e,rotation:vt,offsetX:bt=0,offsetY:xt=0,dontFlip:Et=!1}){this.viewBox=$,this.scale=_e,this.rotation=vt,this.offsetX=bt,this.offsetY=xt;const At=($[2]+$[0])/2,wt=($[3]+$[1])/2;let Ct,St,Rt,Pt;switch(vt%=360,vt<0&&(vt+=360),vt){case 180:Ct=-1,St=0,Rt=0,Pt=1;break;case 90:Ct=0,St=1,Rt=1,Pt=0;break;case 270:Ct=0,St=-1,Rt=-1,Pt=0;break;case 0:Ct=1,St=0,Rt=0,Pt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Et&&(Rt=-Rt,Pt=-Pt);let kt,Mt,Dt,$t;Ct===0?(kt=Math.abs(wt-$[1])*_e+bt,Mt=Math.abs(At-$[0])*_e+xt,Dt=($[3]-$[1])*_e,$t=($[2]-$[0])*_e):(kt=Math.abs(At-$[0])*_e+bt,Mt=Math.abs(wt-$[1])*_e+xt,Dt=($[2]-$[0])*_e,$t=($[3]-$[1])*_e),this.transform=[Ct*_e,St*_e,Rt*_e,Pt*_e,kt-Ct*_e*At-Rt*_e*wt,Mt-St*_e*At-Pt*_e*wt],this.width=Dt,this.height=$t}get rawDims(){const{viewBox:$}=this;return shadow(this,"rawDims",{pageWidth:$[2]-$[0],pageHeight:$[3]-$[1],pageX:$[0],pageY:$[1]})}clone({scale:$=this.scale,rotation:_e=this.rotation,offsetX:vt=this.offsetX,offsetY:bt=this.offsetY,dontFlip:xt=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:$,rotation:_e,offsetX:vt,offsetY:bt,dontFlip:xt})}convertToViewportPoint($,_e){return Util.applyTransform([$,_e],this.transform)}convertToViewportRectangle($){const _e=Util.applyTransform([$[0],$[1]],this.transform),vt=Util.applyTransform([$[2],$[3]],this.transform);return[_e[0],_e[1],vt[0],vt[1]]}convertToPdfPoint($,_e){return Util.applyInverseTransform([$,_e],this.transform)}}class RenderingCancelledException extends BaseException{constructor($,_e=0){super($,"RenderingCancelledException"),this.extraDelay=_e}}function isDataScheme(ht){const $=ht.length;let _e=0;for(;_e<$&&ht[_e].trim()==="";)_e++;return ht.substring(_e,_e+5).toLowerCase()==="data:"}function isPdfFile(ht){return typeof ht=="string"&&/\.pdf$/i.test(ht)}function getFilenameFromUrl(ht){return[ht]=ht.split(/[#?]/,1),ht.substring(ht.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(ht,$="document.pdf"){if(typeof ht!="string")return $;if(isDataScheme(ht))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),$;const _e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,vt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,bt=_e.exec(ht);let xt=vt.exec(bt[1])||vt.exec(bt[2])||vt.exec(bt[3]);if(xt&&(xt=xt[0],xt.includes("%")))try{xt=vt.exec(decodeURIComponent(xt))[0]}catch{}return xt||$}class StatTimer{constructor(){wr(this,"started",Object.create(null));wr(this,"times",[])}time($){$ in this.started&&warn(`Timer is already running for ${$}`),this.started[$]=Date.now()}timeEnd($){$ in this.started||warn(`Timer has not been started for ${$}`),this.times.push({name:$,start:this.started[$],end:Date.now()}),delete this.started[$]}toString(){const $=[];let _e=0;for(const{name:vt}of this.times)_e=Math.max(vt.length,_e);for(const{name:vt,start:bt,end:xt}of this.times)$.push(`${vt.padEnd(_e)} ${xt-bt}ms
`);return $.join("")}}function isValidFetchUrl(ht,$){try{const{protocol:_e}=$?new URL(ht,$):new URL(ht);return _e==="http:"||_e==="https:"}catch{return!1}}function noContextMenu(ht){ht.preventDefault()}function deprecated(ht){console.log("Deprecated API usage: "+ht)}let pdfDateStringRegex;class PDFDateString{static toDateObject($){if(!$||typeof $!="string")return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const _e=pdfDateStringRegex.exec($);if(!_e)return null;const vt=parseInt(_e[1],10);let bt=parseInt(_e[2],10);bt=bt>=1&&bt<=12?bt-1:0;let xt=parseInt(_e[3],10);xt=xt>=1&&xt<=31?xt:1;let Et=parseInt(_e[4],10);Et=Et>=0&&Et<=23?Et:0;let At=parseInt(_e[5],10);At=At>=0&&At<=59?At:0;let wt=parseInt(_e[6],10);wt=wt>=0&&wt<=59?wt:0;const Ct=_e[7]||"Z";let St=parseInt(_e[8],10);St=St>=0&&St<=23?St:0;let Rt=parseInt(_e[9],10)||0;return Rt=Rt>=0&&Rt<=59?Rt:0,Ct==="-"?(Et+=St,At+=Rt):Ct==="+"&&(Et-=St,At-=Rt),new Date(Date.UTC(vt,bt,xt,Et,At,wt))}}function getXfaPageViewport(ht,{scale:$=1,rotation:_e=0}){const{width:vt,height:bt}=ht.attributes.style,xt=[0,0,parseInt(vt),parseInt(bt)];return new PageViewport({viewBox:xt,scale:$,rotation:_e})}function getRGB(ht){if(ht.startsWith("#")){const $=parseInt(ht.slice(1),16);return[($&16711680)>>16,($&65280)>>8,$&255]}return ht.startsWith("rgb(")?ht.slice(4,-1).split(",").map($=>parseInt($)):ht.startsWith("rgba(")?ht.slice(5,-1).split(",").map($=>parseInt($)).slice(0,3):(warn(`Not a valid color format: "${ht}"`),[0,0,0])}function getColorValues(ht){const $=document.createElement("span");$.style.visibility="hidden",document.body.append($);for(const _e of ht.keys()){$.style.color=_e;const vt=window.getComputedStyle($).color;ht.set(_e,getRGB(vt))}$.remove()}function getCurrentTransform(ht){const{a:$,b:_e,c:vt,d:bt,e:xt,f:Et}=ht.getTransform();return[$,_e,vt,bt,xt,Et]}function getCurrentTransformInverse(ht){const{a:$,b:_e,c:vt,d:bt,e:xt,f:Et}=ht.getTransform().invertSelf();return[$,_e,vt,bt,xt,Et]}function setLayerDimensions(ht,$,_e=!1,vt=!0){if($ instanceof PageViewport){const{pageWidth:bt,pageHeight:xt}=$.rawDims,{style:Et}=ht,At=util_FeatureTest.isCSSRoundSupported,wt=`var(--scale-factor) * ${bt}px`,Ct=`var(--scale-factor) * ${xt}px`,St=At?`round(${wt}, 1px)`:`calc(${wt})`,Rt=At?`round(${Ct}, 1px)`:`calc(${Ct})`;!_e||$.rotation%180===0?(Et.width=St,Et.height=Rt):(Et.width=Rt,Et.height=St)}vt&&ht.setAttribute("data-main-rotation",$.rotation)}var _h,_f,_a,ep,Ky,CE,mo,RE,TE,hy,PE,Tx;const Yy=class Yy{constructor($){Gt(this,mo);Gt(this,_h,null);Gt(this,_f,null);Gt(this,_a);Gt(this,ep,null);Wt(this,_a,$)}render(){const $=Wt(this,_h,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",Ut(Yy,Ky,CE));const _e=Wt(this,ep,document.createElement("div"));_e.className="buttons",$.append(_e);const vt=_t(this,_a).toolbarPosition;if(vt){const{style:bt}=$,xt=_t(this,_a)._uiManager.direction==="ltr"?1-vt[0]:vt[0];bt.insetInlineEnd=`${100*xt}%`,bt.top=`calc(${100*vt[1]}% + var(--editor-toolbar-vert-offset))`}return Ut(this,mo,PE).call(this),$}hide(){var $;_t(this,_h).classList.add("hidden"),($=_t(this,_f))==null||$.hideDropdown()}show(){_t(this,_h).classList.remove("hidden")}addAltTextButton($){Ut(this,mo,hy).call(this,$),_t(this,ep).prepend($,_t(this,mo,Tx))}addColorPicker($){Wt(this,_f,$);const _e=$.renderButton();Ut(this,mo,hy).call(this,_e),_t(this,ep).prepend(_e,_t(this,mo,Tx))}remove(){var $;_t(this,_h).remove(),($=_t(this,_f))==null||$.destroy(),Wt(this,_f,null)}};_h=new WeakMap,_f=new WeakMap,_a=new WeakMap,ep=new WeakMap,Ky=new WeakSet,CE=function($){$.stopPropagation()},mo=new WeakSet,RE=function($){_t(this,_a)._focusEventsAllowed=!1,$.preventDefault(),$.stopPropagation()},TE=function($){_t(this,_a)._focusEventsAllowed=!0,$.preventDefault(),$.stopPropagation()},hy=function($){$.addEventListener("focusin",Ut(this,mo,RE).bind(this),{capture:!0}),$.addEventListener("focusout",Ut(this,mo,TE).bind(this),{capture:!0}),$.addEventListener("contextmenu",noContextMenu)},PE=function(){const $=document.createElement("button");$.className="delete",$.tabIndex=0,$.setAttribute("data-l10n-id",`pdfjs-editor-remove-${_t(this,_a).editorType}-button`),Ut(this,mo,hy).call(this,$),$.addEventListener("click",_e=>{_t(this,_a)._uiManager.delete()}),_t(this,ep).append($)},Tx=function(){const $=document.createElement("div");return $.className="divider",$},Gt(Yy,Ky);let EditorToolbar=Yy;var _0,tp,w0,zu,kE,ME,FE;class HighlightToolbar{constructor($){Gt(this,zu);Gt(this,_0,null);Gt(this,tp,null);Gt(this,w0);Wt(this,w0,$)}show($,_e,vt){const[bt,xt]=Ut(this,zu,ME).call(this,_e,vt),{style:Et}=_t(this,tp)||Wt(this,tp,Ut(this,zu,kE).call(this));$.append(_t(this,tp)),Et.insetInlineEnd=`${100*bt}%`,Et.top=`calc(${100*xt}% + var(--editor-toolbar-vert-offset))`}hide(){_t(this,tp).remove()}}_0=new WeakMap,tp=new WeakMap,w0=new WeakMap,zu=new WeakSet,kE=function(){const $=Wt(this,tp,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu);const _e=Wt(this,_0,document.createElement("div"));return _e.className="buttons",$.append(_e),Ut(this,zu,FE).call(this),$},ME=function($,_e){let vt=0,bt=0;for(const xt of $){const Et=xt.y+xt.height;if(Et<vt)continue;const At=xt.x+(_e?xt.width:0);if(Et>vt){bt=At,vt=Et;continue}_e?At>bt&&(bt=At):At<bt&&(bt=At)}return[_e?1-bt:bt,vt]},FE=function(){const $=document.createElement("button");$.className="highlightButton",$.tabIndex=0,$.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const _e=document.createElement("span");$.append(_e),_e.className="visuallyHidden",_e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("click",()=>{_t(this,w0).highlightSelection("floating_button")}),_t(this,_0).append($)};function bindEvents(ht,$,_e){for(const vt of _e)$.addEventListener(vt,ht[vt].bind(ht))}function opacityToHex(ht){return Math.round(Math.min(255,Math.max(1,255*ht))).toString(16).padStart(2,"0")}var Zy;class IdManager{constructor(){Gt(this,Zy,0)}get id(){return`${AnnotationEditorPrefix}${eo(this,Zy)._++}`}}Zy=new WeakMap;var S0,Qy,Lo,C0,Px;const nE=class nE{constructor(){Gt(this,C0);Gt(this,S0,getUuid());Gt(this,Qy,0);Gt(this,Lo,null)}static get _isSVGFittingCanvas(){const $='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',vt=new OffscreenCanvas(1,3).getContext("2d"),bt=new Image;bt.src=$;const xt=bt.decode().then(()=>(vt.drawImage(bt,0,0,1,1,0,0,1,3),new Uint32Array(vt.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",xt)}async getFromFile($){const{lastModified:_e,name:vt,size:bt,type:xt}=$;return Ut(this,C0,Px).call(this,`${_e}_${vt}_${bt}_${xt}`,$)}async getFromUrl($){return Ut(this,C0,Px).call(this,$,$)}async getFromId($){_t(this,Lo)||Wt(this,Lo,new Map);const _e=_t(this,Lo).get($);return _e?_e.bitmap?(_e.refCounter+=1,_e):_e.file?this.getFromFile(_e.file):this.getFromUrl(_e.url):null}getSvgUrl($){const _e=_t(this,Lo).get($);return _e!=null&&_e.isSvg?_e.svgUrl:null}deleteId($){_t(this,Lo)||Wt(this,Lo,new Map);const _e=_t(this,Lo).get($);_e&&(_e.refCounter-=1,_e.refCounter===0&&(_e.bitmap=null))}isValidId($){return $.startsWith(`image_${_t(this,S0)}_`)}};S0=new WeakMap,Qy=new WeakMap,Lo=new WeakMap,C0=new WeakSet,Px=async function($,_e){_t(this,Lo)||Wt(this,Lo,new Map);let vt=_t(this,Lo).get($);if(vt===null)return null;if(vt!=null&&vt.bitmap)return vt.refCounter+=1,vt;try{vt||(vt={bitmap:null,id:`image_${_t(this,S0)}_${eo(this,Qy)._++}`,refCounter:0,isSvg:!1});let bt;if(typeof _e=="string"?(vt.url=_e,bt=await fetchData(_e,"blob")):bt=vt.file=_e,bt.type==="image/svg+xml"){const xt=nE._isSVGFittingCanvas,Et=new FileReader,At=new Image,wt=new Promise((Ct,St)=>{At.onload=()=>{vt.bitmap=At,vt.isSvg=!0,Ct()},Et.onload=async()=>{const Rt=vt.svgUrl=Et.result;At.src=await xt?`${Rt}#svgView(preserveAspectRatio(none))`:Rt},At.onerror=Et.onerror=St});Et.readAsDataURL(bt),await wt}else vt.bitmap=await createImageBitmap(bt);vt.refCounter=1}catch(bt){console.error(bt),vt=null}return _t(this,Lo).set($,vt),vt&&_t(this,Lo).set(vt.id,vt),vt};let ImageManager=nE;var Zs,Au,R0,Qs;class CommandManager{constructor($=128){Gt(this,Zs,[]);Gt(this,Au,!1);Gt(this,R0);Gt(this,Qs,-1);Wt(this,R0,$)}add({cmd:$,undo:_e,post:vt,mustExec:bt,type:xt=NaN,overwriteIfSameType:Et=!1,keepUndo:At=!1}){if(bt&&$(),_t(this,Au))return;const wt={cmd:$,undo:_e,post:vt,type:xt};if(_t(this,Qs)===-1){_t(this,Zs).length>0&&(_t(this,Zs).length=0),Wt(this,Qs,0),_t(this,Zs).push(wt);return}if(Et&&_t(this,Zs)[_t(this,Qs)].type===xt){At&&(wt.undo=_t(this,Zs)[_t(this,Qs)].undo),_t(this,Zs)[_t(this,Qs)]=wt;return}const Ct=_t(this,Qs)+1;Ct===_t(this,R0)?_t(this,Zs).splice(0,1):(Wt(this,Qs,Ct),Ct<_t(this,Zs).length&&_t(this,Zs).splice(Ct)),_t(this,Zs).push(wt)}undo(){if(_t(this,Qs)===-1)return;Wt(this,Au,!0);const{undo:$,post:_e}=_t(this,Zs)[_t(this,Qs)];$(),_e==null||_e(),Wt(this,Au,!1),Wt(this,Qs,_t(this,Qs)-1)}redo(){if(_t(this,Qs)<_t(this,Zs).length-1){Wt(this,Qs,_t(this,Qs)+1),Wt(this,Au,!0);const{cmd:$,post:_e}=_t(this,Zs)[_t(this,Qs)];$(),_e==null||_e(),Wt(this,Au,!1)}}hasSomethingToUndo(){return _t(this,Qs)!==-1}hasSomethingToRedo(){return _t(this,Qs)<_t(this,Zs).length-1}destroy(){Wt(this,Zs,null)}}Zs=new WeakMap,Au=new WeakMap,R0=new WeakMap,Qs=new WeakMap;var Jy,LE;class KeyboardManager{constructor($){Gt(this,Jy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:_e}=util_FeatureTest.platform;for(const[vt,bt,xt={}]of $)for(const Et of vt){const At=Et.startsWith("mac+");_e&&At?(this.callbacks.set(Et.slice(4),{callback:bt,options:xt}),this.allKeys.add(Et.split("+").at(-1))):!_e&&!At&&(this.callbacks.set(Et,{callback:bt,options:xt}),this.allKeys.add(Et.split("+").at(-1)))}}exec($,_e){if(!this.allKeys.has(_e.key))return;const vt=this.callbacks.get(Ut(this,Jy,LE).call(this,_e));if(!vt)return;const{callback:bt,options:{bubbles:xt=!1,args:Et=[],checker:At=null}}=vt;At&&!At($,_e)||(bt.bind($,...Et,_e)(),xt||(_e.stopPropagation(),_e.preventDefault()))}}Jy=new WeakSet,LE=function($){$.altKey&&this.buffer.push("alt"),$.ctrlKey&&this.buffer.push("ctrl"),$.metaKey&&this.buffer.push("meta"),$.shiftKey&&this.buffer.push("shift"),this.buffer.push($.key);const _e=this.buffer.join("+");return this.buffer.length=0,_e};const _b=class _b{get _colors(){const $=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues($),shadow(this,"_colors",$)}convert($){const _e=getRGB($);if(!window.matchMedia("(forced-colors: active)").matches)return _e;for(const[vt,bt]of this._colors)if(bt.every((xt,Et)=>xt===_e[Et]))return _b._colorsMapping.get(vt);return _e}getHexCode($){const _e=this._colors.get($);return _e?Util.makeHexColor(..._e):$}};wr(_b,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=_b;var So,Vs,no,am,Ul,lm,zo,cm,np,$a,zl,ip,T0,P0,yl,um,_u,xl,ex,wu,k0,rp,M0,dm,io,xs,Wl,sp,F0,L0,D0,I0,$0,O0,N0,j0,H0,B0,U0,z0,W0,V0,Su,El,Vl,G0,Er,fy,DE,IE,py,$E,OE,NE,kx,Mx,Fx,Lx,Dx,ho,xu,jE,HE,Ix,BE,s0,$x;const om=class om{constructor($,_e,vt,bt,xt,Et,At,wt,Ct){Gt(this,Er);Gt(this,So,null);Gt(this,Vs,new Map);Gt(this,no,new Map);Gt(this,am,null);Gt(this,Ul,null);Gt(this,lm,null);Gt(this,zo,new CommandManager);Gt(this,cm,0);Gt(this,np,new Set);Gt(this,$a,null);Gt(this,zl,null);Gt(this,ip,new Set);Gt(this,T0,!1);Gt(this,P0,null);Gt(this,yl,null);Gt(this,um,null);Gt(this,_u,!1);Gt(this,xl,null);Gt(this,ex,new IdManager);Gt(this,wu,!1);Gt(this,k0,!1);Gt(this,rp,null);Gt(this,M0,null);Gt(this,dm,null);Gt(this,io,AnnotationEditorType.NONE);Gt(this,xs,new Set);Gt(this,Wl,null);Gt(this,sp,null);Gt(this,F0,null);Gt(this,L0,this.blur.bind(this));Gt(this,D0,this.focus.bind(this));Gt(this,I0,this.copy.bind(this));Gt(this,$0,this.cut.bind(this));Gt(this,O0,this.paste.bind(this));Gt(this,N0,this.keydown.bind(this));Gt(this,j0,this.keyup.bind(this));Gt(this,H0,this.onEditingAction.bind(this));Gt(this,B0,this.onPageChanging.bind(this));Gt(this,U0,this.onScaleChanging.bind(this));Gt(this,z0,Ut(this,Er,IE).bind(this));Gt(this,W0,this.onRotationChanging.bind(this));Gt(this,V0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Gt(this,Su,[0,0]);Gt(this,El,null);Gt(this,Vl,null);Gt(this,G0,null);Wt(this,Vl,$),Wt(this,G0,_e),Wt(this,am,vt),this._eventBus=bt,this._eventBus._on("editingaction",_t(this,H0)),this._eventBus._on("pagechanging",_t(this,B0)),this._eventBus._on("scalechanging",_t(this,U0)),this._eventBus._on("rotationchanging",_t(this,W0)),Ut(this,Er,$E).call(this),Ut(this,Er,Mx).call(this),Wt(this,Ul,xt.annotationStorage),Wt(this,P0,xt.filterFactory),Wt(this,sp,Et),Wt(this,um,At||null),Wt(this,T0,wt),Wt(this,dm,Ct||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const $=om.prototype,_e=Et=>_t(Et,Vl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&Et.hasSomethingToControl(),vt=(Et,{target:At})=>{if(At instanceof HTMLInputElement){const{type:wt}=At;return wt!=="text"&&wt!=="number"}return!0},bt=this.TRANSLATE_SMALL,xt=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],$.selectAll,{checker:vt}],[["ctrl+z","mac+meta+z"],$.undo,{checker:vt}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$.redo,{checker:vt}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$.delete,{checker:vt}],[["Enter","mac+Enter"],$.addNewEditorFromKeyboard,{checker:(Et,{target:At})=>!(At instanceof HTMLButtonElement)&&_t(Et,Vl).contains(At)&&!Et.isEnterHandled}],[[" ","mac+ "],$.addNewEditorFromKeyboard,{checker:(Et,{target:At})=>!(At instanceof HTMLButtonElement)&&_t(Et,Vl).contains(document.activeElement)}],[["Escape","mac+Escape"],$.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$.translateSelectedEditors,{args:[-bt,0],checker:_e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$.translateSelectedEditors,{args:[-xt,0],checker:_e}],[["ArrowRight","mac+ArrowRight"],$.translateSelectedEditors,{args:[bt,0],checker:_e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$.translateSelectedEditors,{args:[xt,0],checker:_e}],[["ArrowUp","mac+ArrowUp"],$.translateSelectedEditors,{args:[0,-bt],checker:_e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$.translateSelectedEditors,{args:[0,-xt],checker:_e}],[["ArrowDown","mac+ArrowDown"],$.translateSelectedEditors,{args:[0,bt],checker:_e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$.translateSelectedEditors,{args:[0,xt],checker:_e}]]))}destroy(){var $,_e;Ut(this,Er,Fx).call(this),Ut(this,Er,kx).call(this),this._eventBus._off("editingaction",_t(this,H0)),this._eventBus._off("pagechanging",_t(this,B0)),this._eventBus._off("scalechanging",_t(this,U0)),this._eventBus._off("rotationchanging",_t(this,W0));for(const vt of _t(this,no).values())vt.destroy();_t(this,no).clear(),_t(this,Vs).clear(),_t(this,ip).clear(),Wt(this,So,null),_t(this,xs).clear(),_t(this,zo).destroy(),($=_t(this,am))==null||$.destroy(),(_e=_t(this,xl))==null||_e.hide(),Wt(this,xl,null),_t(this,yl)&&(clearTimeout(_t(this,yl)),Wt(this,yl,null)),_t(this,El)&&(clearTimeout(_t(this,El)),Wt(this,El,null)),Ut(this,Er,OE).call(this)}async mlGuess($){var _e;return((_e=_t(this,dm))==null?void 0:_e.guess($))||null}get hasMLManager(){return!!_t(this,dm)}get hcmFilter(){return shadow(this,"hcmFilter",_t(this,sp)?_t(this,P0).addHCMFilter(_t(this,sp).foreground,_t(this,sp).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(_t(this,Vl)).direction)}get highlightColors(){return shadow(this,"highlightColors",_t(this,um)?new Map(_t(this,um).split(",").map($=>$.split("=").map(_e=>_e.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,$=>$.reverse())):null)}setMainHighlightColorPicker($){Wt(this,M0,$)}editAltText($){var _e;(_e=_t(this,am))==null||_e.editAltText(this,$)}onPageChanging({pageNumber:$}){Wt(this,cm,$-1)}focusMainContainer(){_t(this,Vl).focus()}findParent($,_e){for(const vt of _t(this,no).values()){const{x:bt,y:xt,width:Et,height:At}=vt.div.getBoundingClientRect();if($>=bt&&$<=bt+Et&&_e>=xt&&_e<=xt+At)return vt}return null}disableUserSelect($=!1){_t(this,G0).classList.toggle("noUserSelect",$)}addShouldRescale($){_t(this,ip).add($)}removeShouldRescale($){_t(this,ip).delete($)}onScaleChanging({scale:$}){this.commitOrRemove(),this.viewParameters.realScale=$*PixelsPerInch.PDF_TO_CSS_UNITS;for(const _e of _t(this,ip))_e.onScaleChanging()}onRotationChanging({pagesRotation:$}){this.commitOrRemove(),this.viewParameters.rotation=$}highlightSelection($=""){const _e=document.getSelection();if(!_e||_e.isCollapsed)return;const{anchorNode:vt,anchorOffset:bt,focusNode:xt,focusOffset:Et}=_e,At=_e.toString(),Ct=Ut(this,Er,fy).call(this,_e).closest(".textLayer"),St=this.getSelectionBoxes(Ct);if(St){_e.empty(),_t(this,io)===AnnotationEditorType.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:AnnotationEditorType.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const Rt of _t(this,no).values())if(Rt.hasTextLayer(Ct)){Rt.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:$,boxes:St,anchorNode:vt,anchorOffset:bt,focusNode:xt,focusOffset:Et,text:At});break}}}addToAnnotationStorage($){!$.isEmpty()&&_t(this,Ul)&&!_t(this,Ul).has($.id)&&_t(this,Ul).setValue($.id,$)}blur(){if(this.isShiftKeyDown=!1,_t(this,_u)&&(Wt(this,_u,!1),Ut(this,Er,py).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:$}=document;for(const _e of _t(this,xs))if(_e.div.contains($)){Wt(this,rp,[_e,$]),_e._focusEventsAllowed=!1;break}}focus(){if(!_t(this,rp))return;const[$,_e]=_t(this,rp);Wt(this,rp,null),_e.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),_e.focus()}addEditListeners(){Ut(this,Er,Mx).call(this),Ut(this,Er,Lx).call(this)}removeEditListeners(){Ut(this,Er,Fx).call(this),Ut(this,Er,Dx).call(this)}copy($){var vt;if($.preventDefault(),(vt=_t(this,So))==null||vt.commitOrRemove(),!this.hasSelection)return;const _e=[];for(const bt of _t(this,xs)){const xt=bt.serialize(!0);xt&&_e.push(xt)}_e.length!==0&&$.clipboardData.setData("application/pdfjs",JSON.stringify(_e))}cut($){this.copy($),this.delete()}paste($){$.preventDefault();const{clipboardData:_e}=$;for(const xt of _e.items)for(const Et of _t(this,zl))if(Et.isHandlingMimeForPasting(xt.type)){Et.paste(xt,this.currentLayer);return}let vt=_e.getData("application/pdfjs");if(!vt)return;try{vt=JSON.parse(vt)}catch(xt){warn(`paste: "${xt.message}".`);return}if(!Array.isArray(vt))return;this.unselectAll();const bt=this.currentLayer;try{const xt=[];for(const wt of vt){const Ct=bt.deserialize(wt);if(!Ct)return;xt.push(Ct)}const Et=()=>{for(const wt of xt)Ut(this,Er,Ix).call(this,wt);Ut(this,Er,$x).call(this,xt)},At=()=>{for(const wt of xt)wt.remove()};this.addCommands({cmd:Et,undo:At,mustExec:!0})}catch(xt){warn(`paste: "${xt.message}".`)}}keydown($){!this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!0),_t(this,io)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&om._keyboardManager.exec(this,$)}keyup($){this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!1,_t(this,_u)&&(Wt(this,_u,!1),Ut(this,Er,py).call(this,"main_toolbar")))}onEditingAction({name:$}){switch($){case"undo":case"redo":case"delete":case"selectAll":this[$]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState($){$?(Ut(this,Er,NE).call(this),Ut(this,Er,Lx).call(this),Ut(this,Er,ho).call(this,{isEditing:_t(this,io)!==AnnotationEditorType.NONE,isEmpty:Ut(this,Er,s0).call(this),hasSomethingToUndo:_t(this,zo).hasSomethingToUndo(),hasSomethingToRedo:_t(this,zo).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ut(this,Er,kx).call(this),Ut(this,Er,Dx).call(this),Ut(this,Er,ho).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($){if(!_t(this,zl)){Wt(this,zl,$);for(const _e of _t(this,zl))Ut(this,Er,xu).call(this,_e.defaultPropertiesToUpdate)}}getId(){return _t(this,ex).id}get currentLayer(){return _t(this,no).get(_t(this,cm))}getLayer($){return _t(this,no).get($)}get currentPageIndex(){return _t(this,cm)}addLayer($){_t(this,no).set($.pageIndex,$),_t(this,wu)?$.enable():$.disable()}removeLayer($){_t(this,no).delete($.pageIndex)}updateMode($,_e=null,vt=!1){if(_t(this,io)!==$){if(Wt(this,io,$),$===AnnotationEditorType.NONE){this.setEditingState(!1),Ut(this,Er,HE).call(this);return}this.setEditingState(!0),Ut(this,Er,jE).call(this),this.unselectAll();for(const bt of _t(this,no).values())bt.updateMode($);if(!_e&&vt){this.addNewEditorFromKeyboard();return}if(_e){for(const bt of _t(this,Vs).values())if(bt.annotationElementId===_e){this.setSelected(bt),bt.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar($){$!==_t(this,io)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$})}updateParams($,_e){var vt;if(_t(this,zl)){switch($){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(vt=_t(this,M0))==null||vt.updateColor(_e);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(_t(this,F0)||Wt(this,F0,new Map)).set($,_e),this.showAllEditors("highlight",_e);break}for(const bt of _t(this,xs))bt.updateParams($,_e);for(const bt of _t(this,zl))bt.updateDefaultParams($,_e)}}showAllEditors($,_e,vt=!1){var xt;for(const Et of _t(this,Vs).values())Et.editorType===$&&Et.show(_e);(((xt=_t(this,F0))==null?void 0:xt.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==_e&&Ut(this,Er,xu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,_e]])}enableWaiting($=!1){if(_t(this,k0)!==$){Wt(this,k0,$);for(const _e of _t(this,no).values())$?_e.disableClick():_e.enableClick(),_e.div.classList.toggle("waiting",$)}}getEditors($){const _e=[];for(const vt of _t(this,Vs).values())vt.pageIndex===$&&_e.push(vt);return _e}getEditor($){return _t(this,Vs).get($)}addEditor($){_t(this,Vs).set($.id,$)}removeEditor($){var _e;$.div.contains(document.activeElement)&&(_t(this,yl)&&clearTimeout(_t(this,yl)),Wt(this,yl,setTimeout(()=>{this.focusMainContainer(),Wt(this,yl,null)},0))),_t(this,Vs).delete($.id),this.unselect($),(!$.annotationElementId||!_t(this,np).has($.annotationElementId))&&((_e=_t(this,Ul))==null||_e.remove($.id))}addDeletedAnnotationElement($){_t(this,np).add($.annotationElementId),this.addChangedExistingAnnotation($),$.deleted=!0}isDeletedAnnotationElement($){return _t(this,np).has($)}removeDeletedAnnotationElement($){_t(this,np).delete($.annotationElementId),this.removeChangedExistingAnnotation($),$.deleted=!1}setActiveEditor($){_t(this,So)!==$&&(Wt(this,So,$),$&&Ut(this,Er,xu).call(this,$.propertiesToUpdate))}updateUI($){_t(this,Er,BE)===$&&Ut(this,Er,xu).call(this,$.propertiesToUpdate)}toggleSelected($){if(_t(this,xs).has($)){_t(this,xs).delete($),$.unselect(),Ut(this,Er,ho).call(this,{hasSelectedEditor:this.hasSelection});return}_t(this,xs).add($),$.select(),Ut(this,Er,xu).call(this,$.propertiesToUpdate),Ut(this,Er,ho).call(this,{hasSelectedEditor:!0})}setSelected($){for(const _e of _t(this,xs))_e!==$&&_e.unselect();_t(this,xs).clear(),_t(this,xs).add($),$.select(),Ut(this,Er,xu).call(this,$.propertiesToUpdate),Ut(this,Er,ho).call(this,{hasSelectedEditor:!0})}isSelected($){return _t(this,xs).has($)}get firstSelectedEditor(){return _t(this,xs).values().next().value}unselect($){$.unselect(),_t(this,xs).delete($),Ut(this,Er,ho).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return _t(this,xs).size!==0}get isEnterHandled(){return _t(this,xs).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){_t(this,zo).undo(),Ut(this,Er,ho).call(this,{hasSomethingToUndo:_t(this,zo).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ut(this,Er,s0).call(this)})}redo(){_t(this,zo).redo(),Ut(this,Er,ho).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_t(this,zo).hasSomethingToRedo(),isEmpty:Ut(this,Er,s0).call(this)})}addCommands($){_t(this,zo).add($),Ut(this,Er,ho).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ut(this,Er,s0).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $=[..._t(this,xs)],_e=()=>{for(const bt of $)bt.remove()},vt=()=>{for(const bt of $)Ut(this,Er,Ix).call(this,bt)};this.addCommands({cmd:_e,undo:vt,mustExec:!0})}commitOrRemove(){var $;($=_t(this,So))==null||$.commitOrRemove()}hasSomethingToControl(){return _t(this,So)||this.hasSelection}selectAll(){for(const $ of _t(this,xs))$.commit();Ut(this,Er,$x).call(this,_t(this,Vs).values())}unselectAll(){if(!(_t(this,So)&&(_t(this,So).commitOrRemove(),_t(this,io)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const $ of _t(this,xs))$.unselect();_t(this,xs).clear(),Ut(this,Er,ho).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($,_e,vt=!1){if(vt||this.commitOrRemove(),!this.hasSelection)return;_t(this,Su)[0]+=$,_t(this,Su)[1]+=_e;const[bt,xt]=_t(this,Su),Et=[..._t(this,xs)],At=1e3;_t(this,El)&&clearTimeout(_t(this,El)),Wt(this,El,setTimeout(()=>{Wt(this,El,null),_t(this,Su)[0]=_t(this,Su)[1]=0,this.addCommands({cmd:()=>{for(const wt of Et)_t(this,Vs).has(wt.id)&&wt.translateInPage(bt,xt)},undo:()=>{for(const wt of Et)_t(this,Vs).has(wt.id)&&wt.translateInPage(-bt,-xt)},mustExec:!1})},At));for(const wt of Et)wt.translateInPage($,_e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Wt(this,$a,new Map);for(const $ of _t(this,xs))_t(this,$a).set($,{savedX:$.x,savedY:$.y,savedPageIndex:$.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_t(this,$a))return!1;this.disableUserSelect(!1);const $=_t(this,$a);Wt(this,$a,null);let _e=!1;for(const[{x:bt,y:xt,pageIndex:Et},At]of $)At.newX=bt,At.newY=xt,At.newPageIndex=Et,_e||(_e=bt!==At.savedX||xt!==At.savedY||Et!==At.savedPageIndex);if(!_e)return!1;const vt=(bt,xt,Et,At)=>{if(_t(this,Vs).has(bt.id)){const wt=_t(this,no).get(At);wt?bt._setParentAndPosition(wt,xt,Et):(bt.pageIndex=At,bt.x=xt,bt.y=Et)}};return this.addCommands({cmd:()=>{for(const[bt,{newX:xt,newY:Et,newPageIndex:At}]of $)vt(bt,xt,Et,At)},undo:()=>{for(const[bt,{savedX:xt,savedY:Et,savedPageIndex:At}]of $)vt(bt,xt,Et,At)},mustExec:!0}),!0}dragSelectedEditors($,_e){if(_t(this,$a))for(const vt of _t(this,$a).keys())vt.drag($,_e)}rebuild($){if($.parent===null){const _e=this.getLayer($.pageIndex);_e?(_e.changeParent($),_e.addOrRebuild($)):(this.addEditor($),this.addToAnnotationStorage($),$.rebuild())}else $.parent.addOrRebuild($)}get isEditorHandlingKeyboard(){var $;return(($=this.getActive())==null?void 0:$.shouldGetKeyboardEvents())||_t(this,xs).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive($){return _t(this,So)===$}getActive(){return _t(this,So)}getMode(){return _t(this,io)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes($){if(!$)return null;const _e=document.getSelection();for(let Ct=0,St=_e.rangeCount;Ct<St;Ct++)if(!$.contains(_e.getRangeAt(Ct).commonAncestorContainer))return null;const{x:vt,y:bt,width:xt,height:Et}=$.getBoundingClientRect();let At;switch($.getAttribute("data-main-rotation")){case"90":At=(Ct,St,Rt,Pt)=>({x:(St-bt)/Et,y:1-(Ct+Rt-vt)/xt,width:Pt/Et,height:Rt/xt});break;case"180":At=(Ct,St,Rt,Pt)=>({x:1-(Ct+Rt-vt)/xt,y:1-(St+Pt-bt)/Et,width:Rt/xt,height:Pt/Et});break;case"270":At=(Ct,St,Rt,Pt)=>({x:1-(St+Pt-bt)/Et,y:(Ct-vt)/xt,width:Pt/Et,height:Rt/xt});break;default:At=(Ct,St,Rt,Pt)=>({x:(Ct-vt)/xt,y:(St-bt)/Et,width:Rt/xt,height:Pt/Et});break}const wt=[];for(let Ct=0,St=_e.rangeCount;Ct<St;Ct++){const Rt=_e.getRangeAt(Ct);if(!Rt.collapsed)for(const{x:Pt,y:kt,width:Mt,height:Dt}of Rt.getClientRects())Mt===0||Dt===0||wt.push(At(Pt,kt,Mt,Dt))}return wt.length===0?null:wt}addChangedExistingAnnotation({annotationElementId:$,id:_e}){(_t(this,lm)||Wt(this,lm,new Map)).set($,_e)}removeChangedExistingAnnotation({annotationElementId:$}){var _e;(_e=_t(this,lm))==null||_e.delete($)}renderAnnotationElement($){var bt;const _e=(bt=_t(this,lm))==null?void 0:bt.get($.data.id);if(!_e)return;const vt=_t(this,Ul).getRawValue(_e);vt&&(_t(this,io)===AnnotationEditorType.NONE&&!vt.hasBeenModified||vt.renderAnnotationElement($))}};So=new WeakMap,Vs=new WeakMap,no=new WeakMap,am=new WeakMap,Ul=new WeakMap,lm=new WeakMap,zo=new WeakMap,cm=new WeakMap,np=new WeakMap,$a=new WeakMap,zl=new WeakMap,ip=new WeakMap,T0=new WeakMap,P0=new WeakMap,yl=new WeakMap,um=new WeakMap,_u=new WeakMap,xl=new WeakMap,ex=new WeakMap,wu=new WeakMap,k0=new WeakMap,rp=new WeakMap,M0=new WeakMap,dm=new WeakMap,io=new WeakMap,xs=new WeakMap,Wl=new WeakMap,sp=new WeakMap,F0=new WeakMap,L0=new WeakMap,D0=new WeakMap,I0=new WeakMap,$0=new WeakMap,O0=new WeakMap,N0=new WeakMap,j0=new WeakMap,H0=new WeakMap,B0=new WeakMap,U0=new WeakMap,z0=new WeakMap,W0=new WeakMap,V0=new WeakMap,Su=new WeakMap,El=new WeakMap,Vl=new WeakMap,G0=new WeakMap,Er=new WeakSet,fy=function({anchorNode:$}){return $.nodeType===Node.TEXT_NODE?$.parentElement:$},DE=function(){const $=document.getSelection();if(!$||$.isCollapsed)return;const vt=Ut(this,Er,fy).call(this,$).closest(".textLayer"),bt=this.getSelectionBoxes(vt);bt&&(_t(this,xl)||Wt(this,xl,new HighlightToolbar(this)),_t(this,xl).show(vt,bt,this.direction==="ltr"))},IE=function(){var xt,Et,At;const $=document.getSelection();if(!$||$.isCollapsed){_t(this,Wl)&&((xt=_t(this,xl))==null||xt.hide(),Wt(this,Wl,null),Ut(this,Er,ho).call(this,{hasSelectedText:!1}));return}const{anchorNode:_e}=$;if(_e===_t(this,Wl))return;if(!Ut(this,Er,fy).call(this,$).closest(".textLayer")){_t(this,Wl)&&((Et=_t(this,xl))==null||Et.hide(),Wt(this,Wl,null),Ut(this,Er,ho).call(this,{hasSelectedText:!1}));return}if((At=_t(this,xl))==null||At.hide(),Wt(this,Wl,_e),Ut(this,Er,ho).call(this,{hasSelectedText:!0}),!(_t(this,io)!==AnnotationEditorType.HIGHLIGHT&&_t(this,io)!==AnnotationEditorType.NONE)&&(_t(this,io)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Wt(this,_u,this.isShiftKeyDown),!this.isShiftKeyDown)){const wt=Ct=>{Ct.type==="pointerup"&&Ct.button!==0||(window.removeEventListener("pointerup",wt),window.removeEventListener("blur",wt),Ct.type==="pointerup"&&Ut(this,Er,py).call(this,"main_toolbar"))};window.addEventListener("pointerup",wt),window.addEventListener("blur",wt)}},py=function($=""){_t(this,io)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection($):_t(this,T0)&&Ut(this,Er,DE).call(this)},$E=function(){document.addEventListener("selectionchange",_t(this,z0))},OE=function(){document.removeEventListener("selectionchange",_t(this,z0))},NE=function(){window.addEventListener("focus",_t(this,D0)),window.addEventListener("blur",_t(this,L0))},kx=function(){window.removeEventListener("focus",_t(this,D0)),window.removeEventListener("blur",_t(this,L0))},Mx=function(){window.addEventListener("keydown",_t(this,N0)),window.addEventListener("keyup",_t(this,j0))},Fx=function(){window.removeEventListener("keydown",_t(this,N0)),window.removeEventListener("keyup",_t(this,j0))},Lx=function(){document.addEventListener("copy",_t(this,I0)),document.addEventListener("cut",_t(this,$0)),document.addEventListener("paste",_t(this,O0))},Dx=function(){document.removeEventListener("copy",_t(this,I0)),document.removeEventListener("cut",_t(this,$0)),document.removeEventListener("paste",_t(this,O0))},ho=function($){Object.entries($).some(([vt,bt])=>_t(this,V0)[vt]!==bt)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_t(this,V0),$)}),_t(this,io)===AnnotationEditorType.HIGHLIGHT&&$.hasSelectedEditor===!1&&Ut(this,Er,xu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},xu=function($){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$})},jE=function(){if(!_t(this,wu)){Wt(this,wu,!0);for(const $ of _t(this,no).values())$.enable();for(const $ of _t(this,Vs).values())$.enable()}},HE=function(){if(this.unselectAll(),_t(this,wu)){Wt(this,wu,!1);for(const $ of _t(this,no).values())$.disable();for(const $ of _t(this,Vs).values())$.disable()}},Ix=function($){const _e=_t(this,no).get($.pageIndex);_e?_e.addOrRebuild($):(this.addEditor($),this.addToAnnotationStorage($))},BE=function(){let $=null;for($ of _t(this,xs));return $},s0=function(){if(_t(this,Vs).size===0)return!0;if(_t(this,Vs).size===1)for(const $ of _t(this,Vs).values())return $.isEmpty();return!1},$x=function($){for(const _e of _t(this,xs))_e.unselect();_t(this,xs).clear();for(const _e of $)_e.isEmpty()||(_t(this,xs).add(_e),_e.select());Ut(this,Er,ho).call(this,{hasSelectedEditor:this.hasSelection})},wr(om,"TRANSLATE_SMALL",1),wr(om,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=om;var Gl,Xl,Wo,Kl,Vo,hm,Yl,X0,Ox;const Ol=class Ol{constructor($){Gt(this,X0);Gt(this,Gl,"");Gt(this,Xl,!1);Gt(this,Wo,null);Gt(this,Kl,null);Gt(this,Vo,null);Gt(this,hm,!1);Gt(this,Yl,null);Wt(this,Yl,$)}static initialize($){Ol._l10nPromise||(Ol._l10nPromise=$)}async render(){const $=Wt(this,Wo,document.createElement("button"));$.className="altText";const _e=await Ol._l10nPromise.get("pdfjs-editor-alt-text-button-label");$.textContent=_e,$.setAttribute("aria-label",_e),$.tabIndex="0",$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",bt=>bt.stopPropagation());const vt=bt=>{bt.preventDefault(),_t(this,Yl)._uiManager.editAltText(_t(this,Yl))};return $.addEventListener("click",vt,{capture:!0}),$.addEventListener("keydown",bt=>{bt.target===$&&bt.key==="Enter"&&(Wt(this,hm,!0),vt(bt))}),await Ut(this,X0,Ox).call(this),$}finish(){_t(this,Wo)&&(_t(this,Wo).focus({focusVisible:_t(this,hm)}),Wt(this,hm,!1))}isEmpty(){return!_t(this,Gl)&&!_t(this,Xl)}get data(){return{altText:_t(this,Gl),decorative:_t(this,Xl)}}set data({altText:$,decorative:_e}){_t(this,Gl)===$&&_t(this,Xl)===_e||(Wt(this,Gl,$),Wt(this,Xl,_e),Ut(this,X0,Ox).call(this))}toggle($=!1){_t(this,Wo)&&(!$&&_t(this,Vo)&&(clearTimeout(_t(this,Vo)),Wt(this,Vo,null)),_t(this,Wo).disabled=!$)}destroy(){var $;($=_t(this,Wo))==null||$.remove(),Wt(this,Wo,null),Wt(this,Kl,null)}};Gl=new WeakMap,Xl=new WeakMap,Wo=new WeakMap,Kl=new WeakMap,Vo=new WeakMap,hm=new WeakMap,Yl=new WeakMap,X0=new WeakSet,Ox=async function(){var bt;const $=_t(this,Wo);if(!$)return;if(!_t(this,Gl)&&!_t(this,Xl)){$.classList.remove("done"),(bt=_t(this,Kl))==null||bt.remove();return}$.classList.add("done"),Ol._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(xt=>{$.setAttribute("aria-label",xt)});let _e=_t(this,Kl);if(!_e){Wt(this,Kl,_e=document.createElement("span")),_e.className="tooltip",_e.setAttribute("role","tooltip");const xt=_e.id=`alt-text-tooltip-${_t(this,Yl).id}`;$.setAttribute("aria-describedby",xt);const Et=100;$.addEventListener("mouseenter",()=>{Wt(this,Vo,setTimeout(()=>{Wt(this,Vo,null),_t(this,Kl).classList.add("show"),_t(this,Yl)._reportTelemetry({action:"alt_text_tooltip"})},Et))}),$.addEventListener("mouseleave",()=>{var At;_t(this,Vo)&&(clearTimeout(_t(this,Vo)),Wt(this,Vo,null)),(At=_t(this,Kl))==null||At.classList.remove("show")})}_e.innerText=_t(this,Xl)?await Ol._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):_t(this,Gl),_e.parentNode||$.append(_e);const vt=_t(this,Yl).getImageForAltText();vt==null||vt.setAttribute("aria-describedby",_e.id)},wr(Ol,"_l10nPromise",null);let AltText=Ol;var Go,fo,fm,op,ro,ap,pm,gm,uo,q0,lp,Cu,K0,cp,Zl,Al,mm,vm,Do,Y0,tx,ss,Nx,Z0,jx,Hx,UE,zE,Bx,Ux,zx,WE,VE,GE,XE,Wx,o0;const Rs=class Rs{constructor($){Gt(this,ss);Gt(this,Go,null);Gt(this,fo,null);Gt(this,fm,!1);Gt(this,op,!1);Gt(this,ro,null);Gt(this,ap,null);Gt(this,pm,this.focusin.bind(this));Gt(this,gm,this.focusout.bind(this));Gt(this,uo,null);Gt(this,q0,"");Gt(this,lp,!1);Gt(this,Cu,null);Gt(this,K0,!1);Gt(this,cp,!1);Gt(this,Zl,!1);Gt(this,Al,null);Gt(this,mm,0);Gt(this,vm,0);Gt(this,Do,null);wr(this,"_initialOptions",Object.create(null));wr(this,"_isVisible",!0);wr(this,"_uiManager",null);wr(this,"_focusEventsAllowed",!0);wr(this,"_l10nPromise",null);Gt(this,Y0,!1);Gt(this,tx,Rs._zIndex++);this.constructor===Rs&&unreachable("Cannot initialize AnnotationEditor."),this.parent=$.parent,this.id=$.id,this.width=this.height=null,this.pageIndex=$.parent.pageIndex,this.name=$.name,this.div=null,this._uiManager=$.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=$.isCentered,this._structTreeParentId=null;const{rotation:_e,rawDims:{pageWidth:vt,pageHeight:bt,pageX:xt,pageY:Et}}=this.parent.viewport;this.rotation=_e,this.pageRotation=(360+_e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[vt,bt],this.pageTranslation=[xt,Et];const[At,wt]=this.parentDimensions;this.x=$.x/At,this.y=$.y/wt,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const $=Rs.prototype._resizeWithKeyboard,_e=AnnotationEditorUIManager.TRANSLATE_SMALL,vt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],$,{args:[-_e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$,{args:[-vt,0]}],[["ArrowRight","mac+ArrowRight"],$,{args:[_e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$,{args:[vt,0]}],[["ArrowUp","mac+ArrowUp"],$,{args:[0,-_e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$,{args:[0,-vt]}],[["ArrowDown","mac+ArrowDown"],$,{args:[0,_e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$,{args:[0,vt]}],[["Escape","mac+Escape"],Rs.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement($){const _e=new FakeEditor({id:$.parent.getNextId(),parent:$.parent,uiManager:$._uiManager});_e.annotationElementId=$.annotationElementId,_e.deleted=!0,_e._uiManager.addToAnnotationStorage(_e)}static initialize($,_e,vt){if(Rs._l10nPromise||(Rs._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(xt=>[xt,$.get(xt.replaceAll(/([A-Z])/g,Et=>`-${Et.toLowerCase()}`))]))),vt!=null&&vt.strings)for(const xt of vt.strings)Rs._l10nPromise.set(xt,$.get(xt));if(Rs._borderLineWidth!==-1)return;const bt=getComputedStyle(document.documentElement);Rs._borderLineWidth=parseFloat(bt.getPropertyValue("--outline-width"))||0}static updateDefaultParams($,_e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting($){return!1}static paste($,_e){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _t(this,Y0)}set _isDraggable($){var _e;Wt(this,Y0,$),(_e=this.div)==null||_e.classList.toggle("draggable",$)}get isEnterHandled(){return!0}center(){const[$,_e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*_e/($*2),this.y+=this.width*$/(_e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*_e/($*2),this.y-=this.width*$/(_e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands($){this._uiManager.addCommands($)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_t(this,tx)}setParent($){$!==null?(this.pageIndex=$.pageIndex,this.pageDimensions=$.pageDimensions):Ut(this,ss,o0).call(this),this.parent=$}focusin($){this._focusEventsAllowed&&(_t(this,lp)?Wt(this,lp,!1):this.parent.setSelected(this))}focusout($){var vt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const _e=$.relatedTarget;_e!=null&&_e.closest(`#${this.id}`)||($.preventDefault(),(vt=this.parent)!=null&&vt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt($,_e,vt,bt){const[xt,Et]=this.parentDimensions;[vt,bt]=this.screenToPageTranslation(vt,bt),this.x=($+vt)/xt,this.y=(_e+bt)/Et,this.fixAndSetPosition()}translate($,_e){Ut(this,ss,Nx).call(this,this.parentDimensions,$,_e)}translateInPage($,_e){_t(this,Cu)||Wt(this,Cu,[this.x,this.y]),Ut(this,ss,Nx).call(this,this.pageDimensions,$,_e),this.div.scrollIntoView({block:"nearest"})}drag($,_e){_t(this,Cu)||Wt(this,Cu,[this.x,this.y]);const[vt,bt]=this.parentDimensions;if(this.x+=$/vt,this.y+=_e/bt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Ct,y:St}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Ct,St)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:xt,y:Et}=this;const[At,wt]=this.getBaseTranslation();xt+=At,Et+=wt,this.div.style.left=`${(100*xt).toFixed(2)}%`,this.div.style.top=`${(100*Et).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!_t(this,Cu)&&(_t(this,Cu)[0]!==this.x||_t(this,Cu)[1]!==this.y)}getBaseTranslation(){const[$,_e]=this.parentDimensions,{_borderLineWidth:vt}=Rs,bt=vt/$,xt=vt/_e;switch(this.rotation){case 90:return[-bt,xt];case 180:return[bt,xt];case 270:return[bt,-xt];default:return[-bt,-xt]}}get _mustFixPosition(){return!0}fixAndSetPosition($=this.rotation){const[_e,vt]=this.pageDimensions;let{x:bt,y:xt,width:Et,height:At}=this;if(Et*=_e,At*=vt,bt*=_e,xt*=vt,this._mustFixPosition)switch($){case 0:bt=Math.max(0,Math.min(_e-Et,bt)),xt=Math.max(0,Math.min(vt-At,xt));break;case 90:bt=Math.max(0,Math.min(_e-At,bt)),xt=Math.min(vt,Math.max(Et,xt));break;case 180:bt=Math.min(_e,Math.max(Et,bt)),xt=Math.min(vt,Math.max(At,xt));break;case 270:bt=Math.min(_e,Math.max(At,bt)),xt=Math.max(0,Math.min(vt-Et,xt));break}this.x=bt/=_e,this.y=xt/=vt;const[wt,Ct]=this.getBaseTranslation();bt+=wt,xt+=Ct;const{style:St}=this.div;St.left=`${(100*bt).toFixed(2)}%`,St.top=`${(100*xt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation($,_e){var vt;return Ut(vt=Rs,Z0,jx).call(vt,$,_e,this.parentRotation)}pageTranslationToScreen($,_e){var vt;return Ut(vt=Rs,Z0,jx).call(vt,$,_e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:$,pageDimensions:[_e,vt]}=this,bt=_e*$,xt=vt*$;return util_FeatureTest.isCSSRoundSupported?[Math.round(bt),Math.round(xt)]:[bt,xt]}setDims($,_e){const[vt,bt]=this.parentDimensions;this.div.style.width=`${(100*$/vt).toFixed(2)}%`,_t(this,op)||(this.div.style.height=`${(100*_e/bt).toFixed(2)}%`)}fixDims(){const{style:$}=this.div,{height:_e,width:vt}=$,bt=vt.endsWith("%"),xt=!_t(this,op)&&_e.endsWith("%");if(bt&&xt)return;const[Et,At]=this.parentDimensions;bt||($.width=`${(100*parseFloat(vt)/Et).toFixed(2)}%`),!_t(this,op)&&!xt&&($.height=`${(100*parseFloat(_e)/At).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var $;($=_t(this,fo))==null||$.finish()}async addEditToolbar(){return _t(this,uo)||_t(this,cp)?_t(this,uo):(Wt(this,uo,new EditorToolbar(this)),this.div.append(_t(this,uo).render()),_t(this,fo)&&_t(this,uo).addAltTextButton(await _t(this,fo).render()),_t(this,uo))}removeEditToolbar(){var $;_t(this,uo)&&(_t(this,uo).remove(),Wt(this,uo,null),($=_t(this,fo))==null||$.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){_t(this,fo)||(AltText.initialize(Rs._l10nPromise),Wt(this,fo,new AltText(this)),await this.addEditToolbar())}get altTextData(){var $;return($=_t(this,fo))==null?void 0:$.data}set altTextData($){_t(this,fo)&&(_t(this,fo).data=$)}hasAltText(){var $;return!(($=_t(this,fo))!=null&&$.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=_t(this,fm)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",_t(this,pm)),this.div.addEventListener("focusout",_t(this,gm));const[$,_e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*_e/$).toFixed(2)}%`,this.div.style.maxHeight=`${(100*$/_e).toFixed(2)}%`);const[vt,bt]=this.getInitialTranslation();return this.translate(vt,bt),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown($){const{isMac:_e}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&_e){$.preventDefault();return}if(Wt(this,lp,!0),this._isDraggable){Ut(this,ss,WE).call(this,$);return}Ut(this,ss,zx).call(this,$)}moveInDOM(){_t(this,Al)&&clearTimeout(_t(this,Al)),Wt(this,Al,setTimeout(()=>{var $;Wt(this,Al,null),($=this.parent)==null||$.moveEditorInDOM(this)},0))}_setParentAndPosition($,_e,vt){$.changeParent(this),this.x=_e,this.y=vt,this.fixAndSetPosition()}getRect($,_e,vt=this.rotation){const bt=this.parentScale,[xt,Et]=this.pageDimensions,[At,wt]=this.pageTranslation,Ct=$/bt,St=_e/bt,Rt=this.x*xt,Pt=this.y*Et,kt=this.width*xt,Mt=this.height*Et;switch(vt){case 0:return[Rt+Ct+At,Et-Pt-St-Mt+wt,Rt+Ct+kt+At,Et-Pt-St+wt];case 90:return[Rt+St+At,Et-Pt+Ct+wt,Rt+St+Mt+At,Et-Pt+Ct+kt+wt];case 180:return[Rt-Ct-kt+At,Et-Pt+St+wt,Rt-Ct+At,Et-Pt+St+Mt+wt];case 270:return[Rt-St-Mt+At,Et-Pt-Ct-kt+wt,Rt-St+At,Et-Pt-Ct+wt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords($,_e){const[vt,bt,xt,Et]=$,At=xt-vt,wt=Et-bt;switch(this.rotation){case 0:return[vt,_e-Et,At,wt];case 90:return[vt,_e-bt,wt,At];case 180:return[xt,_e-bt,At,wt];case 270:return[xt,_e-Et,wt,At];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Wt(this,cp,!0)}disableEditMode(){Wt(this,cp,!1)}isInEditMode(){return _t(this,cp)}shouldGetKeyboardEvents(){return _t(this,Zl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var $,_e;($=this.div)==null||$.addEventListener("focusin",_t(this,pm)),(_e=this.div)==null||_e.addEventListener("focusout",_t(this,gm))}rotate($){}serialize($=!1,_e=null){unreachable("An editor must be serializable")}static deserialize($,_e,vt){const bt=new this.prototype.constructor({parent:_e,id:_e.getNextId(),uiManager:vt});bt.rotation=$.rotation;const[xt,Et]=bt.pageDimensions,[At,wt,Ct,St]=bt.getRectInCurrentCoords($.rect,Et);return bt.x=At/xt,bt.y=wt/Et,bt.width=Ct/xt,bt.height=St/Et,bt}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",_t(this,pm)),this.div.removeEventListener("focusout",_t(this,gm)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),_t(this,Al)&&(clearTimeout(_t(this,Al)),Wt(this,Al,null)),Ut(this,ss,o0).call(this),this.removeEditToolbar(),_t(this,Do)){for(const $ of _t(this,Do).values())clearTimeout($);Wt(this,Do,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ut(this,ss,UE).call(this),_t(this,ro).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown($){if(!this.isResizable||$.target!==this.div||$.key!=="Enter")return;this._uiManager.setSelected(this),Wt(this,ap,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const _e=_t(this,ro).children;if(!_t(this,Go)){Wt(this,Go,Array.from(_e));const Et=Ut(this,ss,VE).bind(this),At=Ut(this,ss,GE).bind(this);for(const wt of _t(this,Go)){const Ct=wt.getAttribute("data-resizer-name");wt.setAttribute("role","spinbutton"),wt.addEventListener("keydown",Et),wt.addEventListener("blur",At),wt.addEventListener("focus",Ut(this,ss,XE).bind(this,Ct)),Rs._l10nPromise.get(`pdfjs-editor-resizer-label-${Ct}`).then(St=>wt.setAttribute("aria-label",St))}}const vt=_t(this,Go)[0];let bt=0;for(const Et of _e){if(Et===vt)break;bt++}const xt=(360-this.rotation+this.parentRotation)%360/90*(_t(this,Go).length/4);if(xt!==bt){if(xt<bt)for(let At=0;At<bt-xt;At++)_t(this,ro).append(_t(this,ro).firstChild);else if(xt>bt)for(let At=0;At<xt-bt;At++)_t(this,ro).firstChild.before(_t(this,ro).lastChild);let Et=0;for(const At of _e){const Ct=_t(this,Go)[Et++].getAttribute("data-resizer-name");Rs._l10nPromise.get(`pdfjs-editor-resizer-label-${Ct}`).then(St=>At.setAttribute("aria-label",St))}}Ut(this,ss,Wx).call(this,0),Wt(this,Zl,!0),_t(this,ro).firstChild.focus({focusVisible:!0}),$.preventDefault(),$.stopImmediatePropagation()}_resizeWithKeyboard($,_e){_t(this,Zl)&&Ut(this,ss,Ux).call(this,_t(this,q0),{movementX:$,movementY:_e})}_stopResizingWithKeyboard(){Ut(this,ss,o0).call(this),this.div.focus()}select(){var $,_e;if(this.makeResizable(),($=this.div)==null||$.classList.add("selectedEditor"),!_t(this,uo)){this.addEditToolbar().then(()=>{var vt,bt;(vt=this.div)!=null&&vt.classList.contains("selectedEditor")&&((bt=_t(this,uo))==null||bt.show())});return}(_e=_t(this,uo))==null||_e.show()}unselect(){var $,_e,vt,bt;($=_t(this,ro))==null||$.classList.add("hidden"),(_e=this.div)==null||_e.classList.remove("selectedEditor"),(vt=this.div)!=null&&vt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(bt=_t(this,uo))==null||bt.hide()}updateParams($,_e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return _t(this,K0)}set isEditing($){Wt(this,K0,$),this.parent&&($?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio($,_e){Wt(this,op,!0);const vt=$/_e,{style:bt}=this.div;bt.aspectRatio=vt,bt.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry($,_e=!1){if(_e){_t(this,Do)||Wt(this,Do,new Map);const{action:vt}=$;let bt=_t(this,Do).get(vt);bt&&clearTimeout(bt),bt=setTimeout(()=>{this._reportTelemetry($),_t(this,Do).delete(vt),_t(this,Do).size===0&&Wt(this,Do,null)},Rs._telemetryTimeout),_t(this,Do).set(vt,bt);return}$.type||($.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:$}})}show($=this._isVisible){this.div.classList.toggle("hidden",!$),this._isVisible=$}enable(){this.div&&(this.div.tabIndex=0),Wt(this,fm,!1)}disable(){this.div&&(this.div.tabIndex=-1),Wt(this,fm,!0)}renderAnnotationElement($){let _e=$.container.querySelector(".annotationContent");if(!_e)_e=document.createElement("div"),_e.classList.add("annotationContent",this.editorType),$.container.prepend(_e);else if(_e.nodeName==="CANVAS"){const vt=_e;_e=document.createElement("div"),_e.classList.add("annotationContent",this.editorType),vt.before(_e)}return _e}resetAnnotationElement($){const{firstChild:_e}=$.container;_e.nodeName==="DIV"&&_e.classList.contains("annotationContent")&&_e.remove()}};Go=new WeakMap,fo=new WeakMap,fm=new WeakMap,op=new WeakMap,ro=new WeakMap,ap=new WeakMap,pm=new WeakMap,gm=new WeakMap,uo=new WeakMap,q0=new WeakMap,lp=new WeakMap,Cu=new WeakMap,K0=new WeakMap,cp=new WeakMap,Zl=new WeakMap,Al=new WeakMap,mm=new WeakMap,vm=new WeakMap,Do=new WeakMap,Y0=new WeakMap,tx=new WeakMap,ss=new WeakSet,Nx=function([$,_e],vt,bt){[vt,bt]=this.screenToPageTranslation(vt,bt),this.x+=vt/$,this.y+=bt/_e,this.fixAndSetPosition()},Z0=new WeakSet,jx=function($,_e,vt){switch(vt){case 90:return[_e,-$];case 180:return[-$,-_e];case 270:return[-_e,$];default:return[$,_e]}},Hx=function($){switch($){case 90:{const[_e,vt]=this.pageDimensions;return[0,-_e/vt,vt/_e,0]}case 180:return[-1,0,0,-1];case 270:{const[_e,vt]=this.pageDimensions;return[0,_e/vt,-vt/_e,0]}default:return[1,0,0,1]}},UE=function(){if(_t(this,ro))return;Wt(this,ro,document.createElement("div")),_t(this,ro).classList.add("resizers");const $=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const _e of $){const vt=document.createElement("div");_t(this,ro).append(vt),vt.classList.add("resizer",_e),vt.setAttribute("data-resizer-name",_e),vt.addEventListener("pointerdown",Ut(this,ss,zE).bind(this,_e)),vt.addEventListener("contextmenu",noContextMenu),vt.tabIndex=-1}this.div.prepend(_t(this,ro))},zE=function($,_e){var Mt;_e.preventDefault();const{isMac:vt}=util_FeatureTest.platform;if(_e.button!==0||_e.ctrlKey&&vt)return;(Mt=_t(this,fo))==null||Mt.toggle(!1);const bt=Ut(this,ss,Ux).bind(this,$),xt=this._isDraggable;this._isDraggable=!1;const Et={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",bt,Et),window.addEventListener("contextmenu",noContextMenu);const At=this.x,wt=this.y,Ct=this.width,St=this.height,Rt=this.parent.div.style.cursor,Pt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(_e.target).cursor;const kt=()=>{var Dt;this.parent.togglePointerEvents(!0),(Dt=_t(this,fo))==null||Dt.toggle(!0),this._isDraggable=xt,window.removeEventListener("pointerup",kt),window.removeEventListener("blur",kt),window.removeEventListener("pointermove",bt,Et),window.removeEventListener("contextmenu",noContextMenu),this.parent.div.style.cursor=Rt,this.div.style.cursor=Pt,Ut(this,ss,Bx).call(this,At,wt,Ct,St)};window.addEventListener("pointerup",kt),window.addEventListener("blur",kt)},Bx=function($,_e,vt,bt){const xt=this.x,Et=this.y,At=this.width,wt=this.height;xt===$&&Et===_e&&At===vt&&wt===bt||this.addCommands({cmd:()=>{this.width=At,this.height=wt,this.x=xt,this.y=Et;const[Ct,St]=this.parentDimensions;this.setDims(Ct*At,St*wt),this.fixAndSetPosition()},undo:()=>{this.width=vt,this.height=bt,this.x=$,this.y=_e;const[Ct,St]=this.parentDimensions;this.setDims(Ct*vt,St*bt),this.fixAndSetPosition()},mustExec:!0})},Ux=function($,_e){const[vt,bt]=this.parentDimensions,xt=this.x,Et=this.y,At=this.width,wt=this.height,Ct=Rs.MIN_SIZE/vt,St=Rs.MIN_SIZE/bt,Rt=cn=>Math.round(cn*1e4)/1e4,Pt=Ut(this,ss,Hx).call(this,this.rotation),kt=(cn,hn)=>[Pt[0]*cn+Pt[2]*hn,Pt[1]*cn+Pt[3]*hn],Mt=Ut(this,ss,Hx).call(this,360-this.rotation),Dt=(cn,hn)=>[Mt[0]*cn+Mt[2]*hn,Mt[1]*cn+Mt[3]*hn];let $t,Ft,Lt=!1,Ot=!1;switch($){case"topLeft":Lt=!0,$t=(cn,hn)=>[0,0],Ft=(cn,hn)=>[cn,hn];break;case"topMiddle":$t=(cn,hn)=>[cn/2,0],Ft=(cn,hn)=>[cn/2,hn];break;case"topRight":Lt=!0,$t=(cn,hn)=>[cn,0],Ft=(cn,hn)=>[0,hn];break;case"middleRight":Ot=!0,$t=(cn,hn)=>[cn,hn/2],Ft=(cn,hn)=>[0,hn/2];break;case"bottomRight":Lt=!0,$t=(cn,hn)=>[cn,hn],Ft=(cn,hn)=>[0,0];break;case"bottomMiddle":$t=(cn,hn)=>[cn/2,hn],Ft=(cn,hn)=>[cn/2,0];break;case"bottomLeft":Lt=!0,$t=(cn,hn)=>[0,hn],Ft=(cn,hn)=>[cn,0];break;case"middleLeft":Ot=!0,$t=(cn,hn)=>[0,hn/2],Ft=(cn,hn)=>[cn,hn/2];break}const Ht=$t(At,wt),Nt=Ft(At,wt);let Bt=kt(...Nt);const jt=Rt(xt+Bt[0]),zt=Rt(Et+Bt[1]);let Kt=1,nn=1,[qt,en]=this.screenToPageTranslation(_e.movementX,_e.movementY);if([qt,en]=Dt(qt/vt,en/bt),Lt){const cn=Math.hypot(At,wt);Kt=nn=Math.max(Math.min(Math.hypot(Nt[0]-Ht[0]-qt,Nt[1]-Ht[1]-en)/cn,1/At,1/wt),Ct/At,St/wt)}else Ot?Kt=Math.max(Ct,Math.min(1,Math.abs(Nt[0]-Ht[0]-qt)))/At:nn=Math.max(St,Math.min(1,Math.abs(Nt[1]-Ht[1]-en)))/wt;const on=Rt(At*Kt),_n=Rt(wt*nn);Bt=kt(...Ft(on,_n));const dn=jt-Bt[0],En=zt-Bt[1];this.width=on,this.height=_n,this.x=dn,this.y=En,this.setDims(vt*on,bt*_n),this.fixAndSetPosition()},zx=function($){const{isMac:_e}=util_FeatureTest.platform;$.ctrlKey&&!_e||$.shiftKey||$.metaKey&&_e?this.parent.toggleSelected(this):this.parent.setSelected(this)},WE=function($){const _e=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let vt,bt;_e&&(this.div.classList.add("moving"),vt={passive:!0,capture:!0},Wt(this,mm,$.clientX),Wt(this,vm,$.clientY),bt=Et=>{const{clientX:At,clientY:wt}=Et,[Ct,St]=this.screenToPageTranslation(At-_t(this,mm),wt-_t(this,vm));Wt(this,mm,At),Wt(this,vm,wt),this._uiManager.dragSelectedEditors(Ct,St)},window.addEventListener("pointermove",bt,vt));const xt=()=>{window.removeEventListener("pointerup",xt),window.removeEventListener("blur",xt),_e&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",bt,vt)),Wt(this,lp,!1),this._uiManager.endDragSession()||Ut(this,ss,zx).call(this,$)};window.addEventListener("pointerup",xt),window.addEventListener("blur",xt)},VE=function($){Rs._resizerKeyboardManager.exec(this,$)},GE=function($){var _e;_t(this,Zl)&&((_e=$.relatedTarget)==null?void 0:_e.parentNode)!==_t(this,ro)&&Ut(this,ss,o0).call(this)},XE=function($){Wt(this,q0,_t(this,Zl)?$:"")},Wx=function($){if(_t(this,Go))for(const _e of _t(this,Go))_e.tabIndex=$},o0=function(){if(Wt(this,Zl,!1),Ut(this,ss,Wx).call(this,-1),_t(this,ap)){const{savedX:$,savedY:_e,savedWidth:vt,savedHeight:bt}=_t(this,ap);Ut(this,ss,Bx).call(this,$,_e,vt,bt),Wt(this,ap,null)}},Gt(Rs,Z0),wr(Rs,"_borderLineWidth",-1),wr(Rs,"_colorManager",new ColorManager),wr(Rs,"_zIndex",1),wr(Rs,"_telemetryTimeout",1e3);let AnnotationEditor=Rs;class FakeEditor extends AnnotationEditor{constructor($){super($),this.annotationElementId=$.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor($){this.h1=$?$&4294967295:SEED,this.h2=$?$&4294967295:SEED}update($){let _e,vt;if(typeof $=="string"){_e=new Uint8Array($.length*2),vt=0;for(let Dt=0,$t=$.length;Dt<$t;Dt++){const Ft=$.charCodeAt(Dt);Ft<=255?_e[vt++]=Ft:(_e[vt++]=Ft>>>8,_e[vt++]=Ft&255)}}else if(ArrayBuffer.isView($))_e=$.slice(),vt=_e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const bt=vt>>2,xt=vt-bt*4,Et=new Uint32Array(_e.buffer,0,bt);let At=0,wt=0,Ct=this.h1,St=this.h2;const Rt=3432918353,Pt=461845907,kt=Rt&MASK_LOW,Mt=Pt&MASK_LOW;for(let Dt=0;Dt<bt;Dt++)Dt&1?(At=Et[Dt],At=At*Rt&MASK_HIGH|At*kt&MASK_LOW,At=At<<15|At>>>17,At=At*Pt&MASK_HIGH|At*Mt&MASK_LOW,Ct^=At,Ct=Ct<<13|Ct>>>19,Ct=Ct*5+3864292196):(wt=Et[Dt],wt=wt*Rt&MASK_HIGH|wt*kt&MASK_LOW,wt=wt<<15|wt>>>17,wt=wt*Pt&MASK_HIGH|wt*Mt&MASK_LOW,St^=wt,St=St<<13|St>>>19,St=St*5+3864292196);switch(At=0,xt){case 3:At^=_e[bt*4+2]<<16;case 2:At^=_e[bt*4+1]<<8;case 1:At^=_e[bt*4],At=At*Rt&MASK_HIGH|At*kt&MASK_LOW,At=At<<15|At>>>17,At=At*Pt&MASK_HIGH|At*Mt&MASK_LOW,bt&1?Ct^=At:St^=At}this.h1=Ct,this.h2=St}hexdigest(){let $=this.h1,_e=this.h2;return $^=_e>>>1,$=$*3981806797&MASK_HIGH|$*36045&MASK_LOW,_e=_e*4283543511&MASK_HIGH|((_e<<16|$>>>16)*2950163797&MASK_HIGH)>>>16,$^=_e>>>1,$=$*444984403&MASK_HIGH|$*60499&MASK_LOW,_e=_e*3301882366&MASK_HIGH|((_e<<16|$>>>16)*3120437893&MASK_HIGH)>>>16,$^=_e>>>1,($>>>0).toString(16).padStart(8,"0")+(_e>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var up,so,nx,qE;class AnnotationStorage{constructor(){Gt(this,nx);Gt(this,up,!1);Gt(this,so,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue($,_e){const vt=_t(this,so).get($);return vt===void 0?_e:Object.assign(_e,vt)}getRawValue($){return _t(this,so).get($)}remove($){if(_t(this,so).delete($),_t(this,so).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const _e of _t(this,so).values())if(_e instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue($,_e){const vt=_t(this,so).get($);let bt=!1;if(vt!==void 0)for(const[xt,Et]of Object.entries(_e))vt[xt]!==Et&&(bt=!0,vt[xt]=Et);else bt=!0,_t(this,so).set($,_e);bt&&Ut(this,nx,qE).call(this),_e instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(_e.constructor._type)}has($){return _t(this,so).has($)}getAll(){return _t(this,so).size>0?objectFromMap(_t(this,so)):null}setAll($){for(const[_e,vt]of Object.entries($))this.setValue(_e,vt)}get size(){return _t(this,so).size}resetModified(){_t(this,up)&&(Wt(this,up,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(_t(this,so).size===0)return SerializableEmpty;const $=new Map,_e=new MurmurHash3_64,vt=[],bt=Object.create(null);let xt=!1;for(const[Et,At]of _t(this,so)){const wt=At instanceof AnnotationEditor?At.serialize(!1,bt):At;wt&&($.set(Et,wt),_e.update(`${Et}:${JSON.stringify(wt)}`),xt||(xt=!!wt.bitmap))}if(xt)for(const Et of $.values())Et.bitmap&&vt.push(Et.bitmap);return $.size>0?{map:$,hash:_e.hexdigest(),transfer:vt}:SerializableEmpty}get editorStats(){let $=null;const _e=new Map;for(const vt of _t(this,so).values()){if(!(vt instanceof AnnotationEditor))continue;const bt=vt.telemetryFinalData;if(!bt)continue;const{type:xt}=bt;_e.has(xt)||_e.set(xt,Object.getPrototypeOf(vt).constructor),$||($=Object.create(null));const Et=$[xt]||($[xt]=new Map);for(const[At,wt]of Object.entries(bt)){if(At==="type")continue;let Ct=Et.get(At);Ct||(Ct=new Map,Et.set(At,Ct));const St=Ct.get(wt)??0;Ct.set(wt,St+1)}}for(const[vt,bt]of _e)$[vt]=bt.computeTelemetryFinalData($[vt]);return $}}up=new WeakMap,so=new WeakMap,nx=new WeakSet,qE=function(){_t(this,up)||(Wt(this,up,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Q0;class PrintAnnotationStorage extends AnnotationStorage{constructor(_e){super();Gt(this,Q0);const{map:vt,hash:bt,transfer:xt}=_e.serializable,Et=structuredClone(vt,xt?{transfer:xt}:null);Wt(this,Q0,{map:Et,hash:bt,transfer:xt})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return _t(this,Q0)}}Q0=new WeakMap;var ym;class FontLoader{constructor({ownerDocument:$=globalThis.document,styleElement:_e=null}){Gt(this,ym,new Set);this._document=$,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace($){this.nativeFontFaces.add($),this._document.fonts.add($)}removeNativeFontFace($){this.nativeFontFaces.delete($),this._document.fonts.delete($)}insertRule($){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _e=this.styleElement.sheet;_e.insertRule($,_e.cssRules.length)}clear(){for(const $ of this.nativeFontFaces)this._document.fonts.delete($);this.nativeFontFaces.clear(),_t(this,ym).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:$,_inspectFont:_e}){if(!(!$||_t(this,ym).has($.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:vt,src:bt,style:xt}=$,Et=new FontFace(vt,bt,xt);this.addNativeFontFace(Et);try{await Et.load(),_t(this,ym).add(vt),_e==null||_e($)}catch{warn(`Cannot load system font: ${$.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Et)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind($){if($.attached||$.missingFile&&!$.systemFontInfo)return;if($.attached=!0,$.systemFontInfo){await this.loadSystemFont($);return}if(this.isFontLoadingAPISupported){const vt=$.createNativeFontFace();if(vt){this.addNativeFontFace(vt);try{await vt.loaded}catch(bt){throw warn(`Failed to load font '${vt.family}': '${bt}'.`),$.disableFontFace=!0,bt}}return}const _e=$.createFontFaceRule();if(_e){if(this.insertRule(_e),this.isSyncFontLoadingSupported)return;await new Promise(vt=>{const bt=this._queueLoadingCallback(vt);this._prepareFontLoadEvent($,bt)})}}get isFontLoadingAPISupported(){var _e;const $=!!((_e=this._document)!=null&&_e.fonts);return shadow(this,"isFontLoadingAPISupported",$)}get isSyncFontLoadingSupported(){let $=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&($=!0),shadow(this,"isSyncFontLoadingSupported",$)}_queueLoadingCallback($){function _e(){for(assert(!bt.done,"completeRequest() cannot be called twice."),bt.done=!0;vt.length>0&&vt[0].done;){const xt=vt.shift();setTimeout(xt.callback,0)}}const{loadingRequests:vt}=this,bt={done:!1,complete:_e,callback:$};return vt.push(bt),bt}get _loadTestFont(){const $=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",$)}_prepareFontLoadEvent($,_e){function vt(Ht,Nt){return Ht.charCodeAt(Nt)<<24|Ht.charCodeAt(Nt+1)<<16|Ht.charCodeAt(Nt+2)<<8|Ht.charCodeAt(Nt+3)&255}function bt(Ht,Nt,Bt,jt){const zt=Ht.substring(0,Nt),Kt=Ht.substring(Nt+Bt);return zt+jt+Kt}let xt,Et;const At=this._document.createElement("canvas");At.width=1,At.height=1;const wt=At.getContext("2d");let Ct=0;function St(Ht,Nt){if(++Ct>30){warn("Load test font never loaded."),Nt();return}if(wt.font="30px "+Ht,wt.fillText(".",0,20),wt.getImageData(0,0,1,1).data[3]>0){Nt();return}setTimeout(St.bind(null,Ht,Nt))}const Rt=`lt${Date.now()}${this.loadTestFontId++}`;let Pt=this._loadTestFont;Pt=bt(Pt,976,Rt.length,Rt);const Mt=16,Dt=1482184792;let $t=vt(Pt,Mt);for(xt=0,Et=Rt.length-3;xt<Et;xt+=4)$t=$t-Dt+vt(Rt,xt)|0;xt<Rt.length&&($t=$t-Dt+vt(Rt+"XXX",xt)|0),Pt=bt(Pt,Mt,4,string32($t));const Ft=`url(data:font/opentype;base64,${btoa(Pt)});`,Lt=`@font-face {font-family:"${Rt}";src:${Ft}}`;this.insertRule(Lt);const Ot=this._document.createElement("div");Ot.style.visibility="hidden",Ot.style.width=Ot.style.height="10px",Ot.style.position="absolute",Ot.style.top=Ot.style.left="0px";for(const Ht of[$.loadedName,Rt]){const Nt=this._document.createElement("span");Nt.textContent="Hi",Nt.style.fontFamily=Ht,Ot.append(Nt)}this._document.body.append(Ot),St(Rt,()=>{Ot.remove(),_e.complete()})}}ym=new WeakMap;class FontFaceObject{constructor($,{disableFontFace:_e=!1,inspectFont:vt=null}){this.compiledGlyphs=Object.create(null);for(const bt in $)this[bt]=$[bt];this.disableFontFace=_e===!0,this._inspectFont=vt}createNativeFontFace(){var _e;if(!this.data||this.disableFontFace)return null;let $;if(!this.cssFontInfo)$=new FontFace(this.loadedName,this.data,{});else{const vt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(vt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),$=new FontFace(this.cssFontInfo.fontFamily,this.data,vt)}return(_e=this._inspectFont)==null||_e.call(this,this),$}createFontFaceRule(){var bt;if(!this.data||this.disableFontFace)return null;const $=bytesToString(this.data),_e=`url(data:${this.mimetype};base64,${btoa($)});`;let vt;if(!this.cssFontInfo)vt=`@font-face {font-family:"${this.loadedName}";src:${_e}}`;else{let xt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(xt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),vt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${xt}src:${_e}}`}return(bt=this._inspectFont)==null||bt.call(this,this,_e),vt}getPathGenerator($,_e){if(this.compiledGlyphs[_e]!==void 0)return this.compiledGlyphs[_e];let vt;try{vt=$.get(this.loadedName+"_path_"+_e)}catch(xt){warn(`getPathGenerator - ignoring character: "${xt}".`)}if(!Array.isArray(vt)||vt.length===0)return this.compiledGlyphs[_e]=function(xt,Et){};const bt=[];for(let xt=0,Et=vt.length;xt<Et;)switch(vt[xt++]){case FontRenderOps.BEZIER_CURVE_TO:{const[At,wt,Ct,St,Rt,Pt]=vt.slice(xt,xt+6);bt.push(kt=>kt.bezierCurveTo(At,wt,Ct,St,Rt,Pt)),xt+=6}break;case FontRenderOps.MOVE_TO:{const[At,wt]=vt.slice(xt,xt+2);bt.push(Ct=>Ct.moveTo(At,wt)),xt+=2}break;case FontRenderOps.LINE_TO:{const[At,wt]=vt.slice(xt,xt+2);bt.push(Ct=>Ct.lineTo(At,wt)),xt+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[At,wt,Ct,St]=vt.slice(xt,xt+4);bt.push(Rt=>Rt.quadraticCurveTo(At,wt,Ct,St)),xt+=4}break;case FontRenderOps.RESTORE:bt.push(At=>At.restore());break;case FontRenderOps.SAVE:bt.push(At=>At.save());break;case FontRenderOps.SCALE:assert(bt.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[At,wt,Ct,St,Rt,Pt]=vt.slice(xt,xt+6);bt.push(kt=>kt.transform(At,wt,Ct,St,Rt,Pt)),xt+=6}break;case FontRenderOps.TRANSLATE:{const[At,wt]=vt.slice(xt,xt+2);bt.push(Ct=>Ct.translate(At,wt)),xt+=2}break}return this.compiledGlyphs[_e]=function(Et,At){bt[0](Et),bt[1](Et),Et.scale(At,-At);for(let wt=2,Ct=bt.length;wt<Ct;wt++)bt[wt](Et)}}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const $=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),[]),_e=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),vt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),bt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0);let xt,Et;return new Map(Object.entries({fs:$,http:_e,https:vt,url:bt,canvas:xt,path2d:Et}))})().then($=>{packageMap=$,packageCapability.resolve()},$=>{warn(`loadPackages: ${$}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get($){return packageMap==null?void 0:packageMap.get($)}}const node_utils_fetchData=function(ht){return NodePackages.get("fs").promises.readFile(ht).then(_e=>new Uint8Array(_e))};class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas($,_e){return NodePackages.get("canvas").createCanvas($,_e)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,_e){return node_utils_fetchData($).then(vt=>({cMapData:vt,compressionType:_e}))}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return node_utils_fetchData($)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(ht,$){if(!$)return;const _e=$[2]-$[0],vt=$[3]-$[1],bt=new Path2D;bt.rect($[0],$[1],_e,vt),ht.clip(bt)}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&unreachable("Cannot initialize BaseShadingPattern.")}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor($){super(),this._type=$[1],this._bbox=$[2],this._colorStops=$[3],this._p0=$[4],this._p1=$[5],this._r0=$[6],this._r1=$[7],this.matrix=null}_createGradient($){let _e;this._type==="axial"?_e=$.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(_e=$.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const vt of this._colorStops)_e.addColorStop(vt[0],vt[1]);return _e}getPattern($,_e,vt,bt){let xt;if(bt===PathType.STROKE||bt===PathType.FILL){const Et=_e.current.getClippedPathBoundingBox(bt,getCurrentTransform($))||[0,0,0,0],At=Math.ceil(Et[2]-Et[0])||1,wt=Math.ceil(Et[3]-Et[1])||1,Ct=_e.cachedCanvases.getCanvas("pattern",At,wt,!0),St=Ct.context;St.clearRect(0,0,St.canvas.width,St.canvas.height),St.beginPath(),St.rect(0,0,St.canvas.width,St.canvas.height),St.translate(-Et[0],-Et[1]),vt=Util.transform(vt,[1,0,0,1,Et[0],Et[1]]),St.transform(..._e.baseTransform),this.matrix&&St.transform(...this.matrix),applyBoundingBox(St,this._bbox),St.fillStyle=this._createGradient(St),St.fill(),xt=$.createPattern(Ct.canvas,"no-repeat");const Rt=new DOMMatrix(vt);xt.setTransform(Rt)}else applyBoundingBox($,this._bbox),xt=this._createGradient($);return xt}}function drawTriangle(ht,$,_e,vt,bt,xt,Et,At){const wt=$.coords,Ct=$.colors,St=ht.data,Rt=ht.width*4;let Pt;wt[_e+1]>wt[vt+1]&&(Pt=_e,_e=vt,vt=Pt,Pt=xt,xt=Et,Et=Pt),wt[vt+1]>wt[bt+1]&&(Pt=vt,vt=bt,bt=Pt,Pt=Et,Et=At,At=Pt),wt[_e+1]>wt[vt+1]&&(Pt=_e,_e=vt,vt=Pt,Pt=xt,xt=Et,Et=Pt);const kt=(wt[_e]+$.offsetX)*$.scaleX,Mt=(wt[_e+1]+$.offsetY)*$.scaleY,Dt=(wt[vt]+$.offsetX)*$.scaleX,$t=(wt[vt+1]+$.offsetY)*$.scaleY,Ft=(wt[bt]+$.offsetX)*$.scaleX,Lt=(wt[bt+1]+$.offsetY)*$.scaleY;if(Mt>=Lt)return;const Ot=Ct[xt],Ht=Ct[xt+1],Nt=Ct[xt+2],Bt=Ct[Et],jt=Ct[Et+1],zt=Ct[Et+2],Kt=Ct[At],nn=Ct[At+1],qt=Ct[At+2],en=Math.round(Mt),on=Math.round(Lt);let _n,dn,En,cn,hn,tn,gn,Sn;for(let rn=en;rn<=on;rn++){if(rn<$t){const ln=rn<Mt?0:(Mt-rn)/(Mt-$t);_n=kt-(kt-Dt)*ln,dn=Ot-(Ot-Bt)*ln,En=Ht-(Ht-jt)*ln,cn=Nt-(Nt-zt)*ln}else{let ln;rn>Lt?ln=1:$t===Lt?ln=0:ln=($t-rn)/($t-Lt),_n=Dt-(Dt-Ft)*ln,dn=Bt-(Bt-Kt)*ln,En=jt-(jt-nn)*ln,cn=zt-(zt-qt)*ln}let Xt;rn<Mt?Xt=0:rn>Lt?Xt=1:Xt=(Mt-rn)/(Mt-Lt),hn=kt-(kt-Ft)*Xt,tn=Ot-(Ot-Kt)*Xt,gn=Ht-(Ht-nn)*Xt,Sn=Nt-(Nt-qt)*Xt;const Yt=Math.round(Math.min(_n,hn)),Jt=Math.round(Math.max(_n,hn));let un=Rt*rn+Yt*4;for(let ln=Yt;ln<=Jt;ln++)Xt=(_n-ln)/(_n-hn),Xt<0?Xt=0:Xt>1&&(Xt=1),St[un++]=dn-(dn-tn)*Xt|0,St[un++]=En-(En-gn)*Xt|0,St[un++]=cn-(cn-Sn)*Xt|0,St[un++]=255}}function drawFigure(ht,$,_e){const vt=$.coords,bt=$.colors;let xt,Et;switch($.type){case"lattice":const At=$.verticesPerRow,wt=Math.floor(vt.length/At)-1,Ct=At-1;for(xt=0;xt<wt;xt++){let St=xt*At;for(let Rt=0;Rt<Ct;Rt++,St++)drawTriangle(ht,_e,vt[St],vt[St+1],vt[St+At],bt[St],bt[St+1],bt[St+At]),drawTriangle(ht,_e,vt[St+At+1],vt[St+1],vt[St+At],bt[St+At+1],bt[St+1],bt[St+At])}break;case"triangles":for(xt=0,Et=vt.length;xt<Et;xt+=3)drawTriangle(ht,_e,vt[xt],vt[xt+1],vt[xt+2],bt[xt],bt[xt+1],bt[xt+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor($){super(),this._coords=$[2],this._colors=$[3],this._figures=$[4],this._bounds=$[5],this._bbox=$[7],this._background=$[8],this.matrix=null}_createMeshCanvas($,_e,vt){const At=Math.floor(this._bounds[0]),wt=Math.floor(this._bounds[1]),Ct=Math.ceil(this._bounds[2])-At,St=Math.ceil(this._bounds[3])-wt,Rt=Math.min(Math.ceil(Math.abs(Ct*$[0]*1.1)),3e3),Pt=Math.min(Math.ceil(Math.abs(St*$[1]*1.1)),3e3),kt=Ct/Rt,Mt=St/Pt,Dt={coords:this._coords,colors:this._colors,offsetX:-At,offsetY:-wt,scaleX:1/kt,scaleY:1/Mt},$t=Rt+2*2,Ft=Pt+2*2,Lt=vt.getCanvas("mesh",$t,Ft,!1),Ot=Lt.context,Ht=Ot.createImageData(Rt,Pt);if(_e){const Bt=Ht.data;for(let jt=0,zt=Bt.length;jt<zt;jt+=4)Bt[jt]=_e[0],Bt[jt+1]=_e[1],Bt[jt+2]=_e[2],Bt[jt+3]=255}for(const Bt of this._figures)drawFigure(Ht,Bt,Dt);return Ot.putImageData(Ht,2,2),{canvas:Lt.canvas,offsetX:At-2*kt,offsetY:wt-2*Mt,scaleX:kt,scaleY:Mt}}getPattern($,_e,vt,bt){applyBoundingBox($,this._bbox);let xt;if(bt===PathType.SHADING)xt=Util.singularValueDecompose2dScale(getCurrentTransform($));else if(xt=Util.singularValueDecompose2dScale(_e.baseTransform),this.matrix){const At=Util.singularValueDecompose2dScale(this.matrix);xt=[xt[0]*At[0],xt[1]*At[1]]}const Et=this._createMeshCanvas(xt,bt===PathType.SHADING?null:this._background,_e.cachedCanvases);return bt!==PathType.SHADING&&($.setTransform(..._e.baseTransform),this.matrix&&$.transform(...this.matrix)),$.translate(Et.offsetX,Et.offsetY),$.scale(Et.scaleX,Et.scaleY),$.createPattern(Et.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(ht){switch(ht[0]){case"RadialAxial":return new RadialAxialShadingPattern(ht);case"Mesh":return new MeshShadingPattern(ht);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${ht[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},ix=class ix{constructor($,_e,vt,bt,xt){this.operatorList=$[2],this.matrix=$[3],this.bbox=$[4],this.xstep=$[5],this.ystep=$[6],this.paintType=$[7],this.tilingType=$[8],this.color=_e,this.ctx=vt,this.canvasGraphicsFactory=bt,this.baseTransform=xt}createPatternCanvas($){const _e=this.operatorList,vt=this.bbox,bt=this.xstep,xt=this.ystep,Et=this.paintType,At=this.tilingType,wt=this.color,Ct=this.canvasGraphicsFactory;info("TilingType: "+At);const St=vt[0],Rt=vt[1],Pt=vt[2],kt=vt[3],Mt=Util.singularValueDecompose2dScale(this.matrix),Dt=Util.singularValueDecompose2dScale(this.baseTransform),$t=[Mt[0]*Dt[0],Mt[1]*Dt[1]],Ft=this.getSizeAndScale(bt,this.ctx.canvas.width,$t[0]),Lt=this.getSizeAndScale(xt,this.ctx.canvas.height,$t[1]),Ot=$.cachedCanvases.getCanvas("pattern",Ft.size,Lt.size,!0),Ht=Ot.context,Nt=Ct.createCanvasGraphics(Ht);Nt.groupLevel=$.groupLevel,this.setFillAndStrokeStyleToContext(Nt,Et,wt);let Bt=St,jt=Rt,zt=Pt,Kt=kt;return St<0&&(Bt=0,zt+=Math.abs(St)),Rt<0&&(jt=0,Kt+=Math.abs(Rt)),Ht.translate(-(Ft.scale*Bt),-(Lt.scale*jt)),Nt.transform(Ft.scale,0,0,Lt.scale,0,0),Ht.save(),this.clipBbox(Nt,Bt,jt,zt,Kt),Nt.baseTransform=getCurrentTransform(Nt.ctx),Nt.executeOperatorList(_e),Nt.endDrawing(),{canvas:Ot.canvas,scaleX:Ft.scale,scaleY:Lt.scale,offsetX:Bt,offsetY:jt}}getSizeAndScale($,_e,vt){$=Math.abs($);const bt=Math.max(ix.MAX_PATTERN_SIZE,_e);let xt=Math.ceil($*vt);return xt>=bt?xt=bt:vt=xt/$,{scale:vt,size:xt}}clipBbox($,_e,vt,bt,xt){const Et=bt-_e,At=xt-vt;$.ctx.rect(_e,vt,Et,At),$.current.updateRectMinMax(getCurrentTransform($.ctx),[_e,vt,bt,xt]),$.clip(),$.endPath()}setFillAndStrokeStyleToContext($,_e,vt){const bt=$.ctx,xt=$.current;switch(_e){case PaintType.COLORED:const Et=this.ctx;bt.fillStyle=Et.fillStyle,bt.strokeStyle=Et.strokeStyle,xt.fillColor=Et.fillStyle,xt.strokeColor=Et.strokeStyle;break;case PaintType.UNCOLORED:const At=Util.makeHexColor(vt[0],vt[1],vt[2]);bt.fillStyle=At,bt.strokeStyle=At,xt.fillColor=At,xt.strokeColor=At;break;default:throw new FormatError(`Unsupported paint type: ${_e}`)}}getPattern($,_e,vt,bt){let xt=vt;bt!==PathType.SHADING&&(xt=Util.transform(xt,_e.baseTransform),this.matrix&&(xt=Util.transform(xt,this.matrix)));const Et=this.createPatternCanvas(_e);let At=new DOMMatrix(xt);At=At.translate(Et.offsetX,Et.offsetY),At=At.scale(1/Et.scaleX,1/Et.scaleY);const wt=$.createPattern(Et.canvas,"repeat");return wt.setTransform(At),wt}};wr(ix,"MAX_PATTERN_SIZE",3e3);let TilingPattern=ix;function convertBlackAndWhiteToRGBA({src:ht,srcPos:$=0,dest:_e,width:vt,height:bt,nonBlackColor:xt=4294967295,inverseDecode:Et=!1}){const At=util_FeatureTest.isLittleEndian?4278190080:255,[wt,Ct]=Et?[xt,At]:[At,xt],St=vt>>3,Rt=vt&7,Pt=ht.length;_e=new Uint32Array(_e.buffer);let kt=0;for(let Mt=0;Mt<bt;Mt++){for(const $t=$+St;$<$t;$++){const Ft=$<Pt?ht[$]:255;_e[kt++]=Ft&128?Ct:wt,_e[kt++]=Ft&64?Ct:wt,_e[kt++]=Ft&32?Ct:wt,_e[kt++]=Ft&16?Ct:wt,_e[kt++]=Ft&8?Ct:wt,_e[kt++]=Ft&4?Ct:wt,_e[kt++]=Ft&2?Ct:wt,_e[kt++]=Ft&1?Ct:wt}if(Rt===0)continue;const Dt=$<Pt?ht[$++]:255;for(let $t=0;$t<Rt;$t++)_e[kt++]=Dt&1<<7-$t?Ct:wt}return{srcPos:$,destPos:kt}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(ht,$){if(ht._removeMirroring)throw new Error("Context is already forwarding operations.");ht.__originalSave=ht.save,ht.__originalRestore=ht.restore,ht.__originalRotate=ht.rotate,ht.__originalScale=ht.scale,ht.__originalTranslate=ht.translate,ht.__originalTransform=ht.transform,ht.__originalSetTransform=ht.setTransform,ht.__originalResetTransform=ht.resetTransform,ht.__originalClip=ht.clip,ht.__originalMoveTo=ht.moveTo,ht.__originalLineTo=ht.lineTo,ht.__originalBezierCurveTo=ht.bezierCurveTo,ht.__originalRect=ht.rect,ht.__originalClosePath=ht.closePath,ht.__originalBeginPath=ht.beginPath,ht._removeMirroring=()=>{ht.save=ht.__originalSave,ht.restore=ht.__originalRestore,ht.rotate=ht.__originalRotate,ht.scale=ht.__originalScale,ht.translate=ht.__originalTranslate,ht.transform=ht.__originalTransform,ht.setTransform=ht.__originalSetTransform,ht.resetTransform=ht.__originalResetTransform,ht.clip=ht.__originalClip,ht.moveTo=ht.__originalMoveTo,ht.lineTo=ht.__originalLineTo,ht.bezierCurveTo=ht.__originalBezierCurveTo,ht.rect=ht.__originalRect,ht.closePath=ht.__originalClosePath,ht.beginPath=ht.__originalBeginPath,delete ht._removeMirroring},ht.save=function(){$.save(),this.__originalSave()},ht.restore=function(){$.restore(),this.__originalRestore()},ht.translate=function(vt,bt){$.translate(vt,bt),this.__originalTranslate(vt,bt)},ht.scale=function(vt,bt){$.scale(vt,bt),this.__originalScale(vt,bt)},ht.transform=function(vt,bt,xt,Et,At,wt){$.transform(vt,bt,xt,Et,At,wt),this.__originalTransform(vt,bt,xt,Et,At,wt)},ht.setTransform=function(vt,bt,xt,Et,At,wt){$.setTransform(vt,bt,xt,Et,At,wt),this.__originalSetTransform(vt,bt,xt,Et,At,wt)},ht.resetTransform=function(){$.resetTransform(),this.__originalResetTransform()},ht.rotate=function(vt){$.rotate(vt),this.__originalRotate(vt)},ht.clip=function(vt){$.clip(vt),this.__originalClip(vt)},ht.moveTo=function(_e,vt){$.moveTo(_e,vt),this.__originalMoveTo(_e,vt)},ht.lineTo=function(_e,vt){$.lineTo(_e,vt),this.__originalLineTo(_e,vt)},ht.bezierCurveTo=function(_e,vt,bt,xt,Et,At){$.bezierCurveTo(_e,vt,bt,xt,Et,At),this.__originalBezierCurveTo(_e,vt,bt,xt,Et,At)},ht.rect=function(_e,vt,bt,xt){$.rect(_e,vt,bt,xt),this.__originalRect(_e,vt,bt,xt)},ht.closePath=function(){$.closePath(),this.__originalClosePath()},ht.beginPath=function(){$.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor($){this.canvasFactory=$,this.cache=Object.create(null)}getCanvas($,_e,vt){let bt;return this.cache[$]!==void 0?(bt=this.cache[$],this.canvasFactory.reset(bt,_e,vt)):(bt=this.canvasFactory.create(_e,vt),this.cache[$]=bt),bt}delete($){delete this.cache[$]}clear(){for(const $ in this.cache){const _e=this.cache[$];this.canvasFactory.destroy(_e),delete this.cache[$]}}}function drawImageAtIntegerCoords(ht,$,_e,vt,bt,xt,Et,At,wt,Ct){const[St,Rt,Pt,kt,Mt,Dt]=getCurrentTransform(ht);if(Rt===0&&Pt===0){const Lt=Et*St+Mt,Ot=Math.round(Lt),Ht=At*kt+Dt,Nt=Math.round(Ht),Bt=(Et+wt)*St+Mt,jt=Math.abs(Math.round(Bt)-Ot)||1,zt=(At+Ct)*kt+Dt,Kt=Math.abs(Math.round(zt)-Nt)||1;return ht.setTransform(Math.sign(St),0,0,Math.sign(kt),Ot,Nt),ht.drawImage($,_e,vt,bt,xt,0,0,jt,Kt),ht.setTransform(St,Rt,Pt,kt,Mt,Dt),[jt,Kt]}if(St===0&&kt===0){const Lt=At*Pt+Mt,Ot=Math.round(Lt),Ht=Et*Rt+Dt,Nt=Math.round(Ht),Bt=(At+Ct)*Pt+Mt,jt=Math.abs(Math.round(Bt)-Ot)||1,zt=(Et+wt)*Rt+Dt,Kt=Math.abs(Math.round(zt)-Nt)||1;return ht.setTransform(0,Math.sign(Rt),Math.sign(Pt),0,Ot,Nt),ht.drawImage($,_e,vt,bt,xt,0,0,Kt,jt),ht.setTransform(St,Rt,Pt,kt,Mt,Dt),[Kt,jt]}ht.drawImage($,_e,vt,bt,xt,Et,At,wt,Ct);const $t=Math.hypot(St,Rt),Ft=Math.hypot(Pt,kt);return[$t*wt,Ft*Ct]}function compileType3Glyph(ht){const{width:$,height:_e}=ht;if($>MAX_SIZE_TO_COMPILE||_e>MAX_SIZE_TO_COMPILE)return null;const vt=1e3,bt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),xt=$+1;let Et=new Uint8Array(xt*(_e+1)),At,wt,Ct;const St=$+7&-8;let Rt=new Uint8Array(St*_e),Pt=0;for(const Ft of ht.data){let Lt=128;for(;Lt>0;)Rt[Pt++]=Ft&Lt?0:255,Lt>>=1}let kt=0;for(Pt=0,Rt[Pt]!==0&&(Et[0]=1,++kt),wt=1;wt<$;wt++)Rt[Pt]!==Rt[Pt+1]&&(Et[wt]=Rt[Pt]?2:1,++kt),Pt++;for(Rt[Pt]!==0&&(Et[wt]=2,++kt),At=1;At<_e;At++){Pt=At*St,Ct=At*xt,Rt[Pt-St]!==Rt[Pt]&&(Et[Ct]=Rt[Pt]?1:8,++kt);let Ft=(Rt[Pt]?4:0)+(Rt[Pt-St]?8:0);for(wt=1;wt<$;wt++)Ft=(Ft>>2)+(Rt[Pt+1]?4:0)+(Rt[Pt-St+1]?8:0),bt[Ft]&&(Et[Ct+wt]=bt[Ft],++kt),Pt++;if(Rt[Pt-St]!==Rt[Pt]&&(Et[Ct+wt]=Rt[Pt]?2:4,++kt),kt>vt)return null}for(Pt=St*(_e-1),Ct=At*xt,Rt[Pt]!==0&&(Et[Ct]=8,++kt),wt=1;wt<$;wt++)Rt[Pt]!==Rt[Pt+1]&&(Et[Ct+wt]=Rt[Pt]?4:8,++kt),Pt++;if(Rt[Pt]!==0&&(Et[Ct+wt]=4,++kt),kt>vt)return null;const Mt=new Int32Array([0,xt,-1,0,-xt,0,0,0,1]),Dt=new Path2D;for(At=0;kt&&At<=_e;At++){let Ft=At*xt;const Lt=Ft+$;for(;Ft<Lt&&!Et[Ft];)Ft++;if(Ft===Lt)continue;Dt.moveTo(Ft%xt,At);const Ot=Ft;let Ht=Et[Ft];do{const Nt=Mt[Ht];do Ft+=Nt;while(!Et[Ft]);const Bt=Et[Ft];Bt!==5&&Bt!==10?(Ht=Bt,Et[Ft]=0):(Ht=Bt&51*Ht>>4,Et[Ft]&=Ht>>2|Ht<<2),Dt.lineTo(Ft%xt,Ft/xt|0),Et[Ft]||--kt}while(Ot!==Ft);--At}return Rt=null,Et=null,function(Ft){Ft.save(),Ft.scale(1/$,-1/_e),Ft.translate(0,-_e),Ft.fill(Dt),Ft.beginPath(),Ft.restore()}}class CanvasExtraState{constructor($,_e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,$,_e])}clone(){const $=Object.create(this);return $.clipBox=this.clipBox.slice(),$}setCurrentPoint($,_e){this.x=$,this.y=_e}updatePathMinMax($,_e,vt){[_e,vt]=Util.applyTransform([_e,vt],$),this.minX=Math.min(this.minX,_e),this.minY=Math.min(this.minY,vt),this.maxX=Math.max(this.maxX,_e),this.maxY=Math.max(this.maxY,vt)}updateRectMinMax($,_e){const vt=Util.applyTransform(_e,$),bt=Util.applyTransform(_e.slice(2),$),xt=Util.applyTransform([_e[0],_e[3]],$),Et=Util.applyTransform([_e[2],_e[1]],$);this.minX=Math.min(this.minX,vt[0],bt[0],xt[0],Et[0]),this.minY=Math.min(this.minY,vt[1],bt[1],xt[1],Et[1]),this.maxX=Math.max(this.maxX,vt[0],bt[0],xt[0],Et[0]),this.maxY=Math.max(this.maxY,vt[1],bt[1],xt[1],Et[1])}updateScalingPathMinMax($,_e){Util.scaleMinMax($,_e),this.minX=Math.min(this.minX,_e[0]),this.minY=Math.min(this.minY,_e[1]),this.maxX=Math.max(this.maxX,_e[2]),this.maxY=Math.max(this.maxY,_e[3])}updateCurvePathMinMax($,_e,vt,bt,xt,Et,At,wt,Ct,St){const Rt=Util.bezierBoundingBox(_e,vt,bt,xt,Et,At,wt,Ct,St);St||this.updateRectMinMax($,Rt)}getPathBoundingBox($=PathType.FILL,_e=null){const vt=[this.minX,this.minY,this.maxX,this.maxY];if($===PathType.STROKE){_e||unreachable("Stroke bounding box must include transform.");const bt=Util.singularValueDecompose2dScale(_e),xt=bt[0]*this.lineWidth/2,Et=bt[1]*this.lineWidth/2;vt[0]-=xt,vt[1]-=Et,vt[2]+=xt,vt[3]+=Et}return vt}updateClipFromPath(){const $=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox($||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox($){this.clipBox=$,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox($=PathType.FILL,_e=null){return Util.intersect(this.clipBox,this.getPathBoundingBox($,_e))}}function putBinaryImageData(ht,$){if(typeof ImageData<"u"&&$ instanceof ImageData){ht.putImageData($,0,0);return}const _e=$.height,vt=$.width,bt=_e%FULL_CHUNK_HEIGHT,xt=(_e-bt)/FULL_CHUNK_HEIGHT,Et=bt===0?xt:xt+1,At=ht.createImageData(vt,FULL_CHUNK_HEIGHT);let wt=0,Ct;const St=$.data,Rt=At.data;let Pt,kt,Mt,Dt;if($.kind===util_ImageKind.GRAYSCALE_1BPP){const $t=St.byteLength,Ft=new Uint32Array(Rt.buffer,0,Rt.byteLength>>2),Lt=Ft.length,Ot=vt+7>>3,Ht=4294967295,Nt=util_FeatureTest.isLittleEndian?4278190080:255;for(Pt=0;Pt<Et;Pt++){for(Mt=Pt<xt?FULL_CHUNK_HEIGHT:bt,Ct=0,kt=0;kt<Mt;kt++){const Bt=$t-wt;let jt=0;const zt=Bt>Ot?vt:Bt*8-7,Kt=zt&-8;let nn=0,qt=0;for(;jt<Kt;jt+=8)qt=St[wt++],Ft[Ct++]=qt&128?Ht:Nt,Ft[Ct++]=qt&64?Ht:Nt,Ft[Ct++]=qt&32?Ht:Nt,Ft[Ct++]=qt&16?Ht:Nt,Ft[Ct++]=qt&8?Ht:Nt,Ft[Ct++]=qt&4?Ht:Nt,Ft[Ct++]=qt&2?Ht:Nt,Ft[Ct++]=qt&1?Ht:Nt;for(;jt<zt;jt++)nn===0&&(qt=St[wt++],nn=128),Ft[Ct++]=qt&nn?Ht:Nt,nn>>=1}for(;Ct<Lt;)Ft[Ct++]=0;ht.putImageData(At,0,Pt*FULL_CHUNK_HEIGHT)}}else if($.kind===util_ImageKind.RGBA_32BPP){for(kt=0,Dt=vt*FULL_CHUNK_HEIGHT*4,Pt=0;Pt<xt;Pt++)Rt.set(St.subarray(wt,wt+Dt)),wt+=Dt,ht.putImageData(At,0,kt),kt+=FULL_CHUNK_HEIGHT;Pt<Et&&(Dt=vt*bt*4,Rt.set(St.subarray(wt,wt+Dt)),ht.putImageData(At,0,kt))}else if($.kind===util_ImageKind.RGB_24BPP)for(Mt=FULL_CHUNK_HEIGHT,Dt=vt*Mt,Pt=0;Pt<Et;Pt++){for(Pt>=xt&&(Mt=bt,Dt=vt*Mt),Ct=0,kt=Dt;kt--;)Rt[Ct++]=St[wt++],Rt[Ct++]=St[wt++],Rt[Ct++]=St[wt++],Rt[Ct++]=255;ht.putImageData(At,0,Pt*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${$.kind}`)}function putBinaryImageMask(ht,$){if($.bitmap){ht.drawImage($.bitmap,0,0);return}const _e=$.height,vt=$.width,bt=_e%FULL_CHUNK_HEIGHT,xt=(_e-bt)/FULL_CHUNK_HEIGHT,Et=bt===0?xt:xt+1,At=ht.createImageData(vt,FULL_CHUNK_HEIGHT);let wt=0;const Ct=$.data,St=At.data;for(let Rt=0;Rt<Et;Rt++){const Pt=Rt<xt?FULL_CHUNK_HEIGHT:bt;({srcPos:wt}=convertBlackAndWhiteToRGBA({src:Ct,srcPos:wt,dest:St,width:vt,height:Pt,nonBlackColor:0})),ht.putImageData(At,0,Rt*FULL_CHUNK_HEIGHT)}}function copyCtxState(ht,$){const _e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const vt of _e)ht[vt]!==void 0&&($[vt]=ht[vt]);ht.setLineDash!==void 0&&($.setLineDash(ht.getLineDash()),$.lineDashOffset=ht.lineDashOffset)}function resetCtxToDefault(ht){if(ht.strokeStyle=ht.fillStyle="#000000",ht.fillRule="nonzero",ht.globalAlpha=1,ht.lineWidth=1,ht.lineCap="butt",ht.lineJoin="miter",ht.miterLimit=10,ht.globalCompositeOperation="source-over",ht.font="10px sans-serif",ht.setLineDash!==void 0&&(ht.setLineDash([]),ht.lineDashOffset=0),!isNodeJS){const{filter:$}=ht;$!=="none"&&$!==""&&(ht.filter="none")}}function getImageSmoothingEnabled(ht,$){if($)return!0;const _e=Util.singularValueDecompose2dScale(ht);_e[0]=Math.fround(_e[0]),_e[1]=Math.fround(_e[1]);const vt=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return _e[0]<=vt&&_e[1]<=vt}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var Wu,Vx,Gx;const iE=class iE{constructor($,_e,vt,bt,xt,{optionalContentConfig:Et,markedContentStack:At=null},wt,Ct){Gt(this,Wu);this.ctx=$,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=_e,this.objs=vt,this.canvasFactory=bt,this.filterFactory=xt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=At||[],this.optionalContentConfig=Et,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=wt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ct,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject($,_e=null){return typeof $=="string"?$.startsWith("g_")?this.commonObjs.get($):this.objs.get($):_e}beginDrawing({transform:$,viewport:_e,transparency:vt=!1,background:bt=null}){const xt=this.ctx.canvas.width,Et=this.ctx.canvas.height,At=this.ctx.fillStyle;if(this.ctx.fillStyle=bt||"#ffffff",this.ctx.fillRect(0,0,xt,Et),this.ctx.fillStyle=At,vt){const wt=this.cachedCanvases.getCanvas("transparent",xt,Et);this.compositeCtx=this.ctx,this.transparentCanvas=wt.canvas,this.ctx=wt.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),$&&(this.ctx.transform(...$),this.outputScaleX=$[0],this.outputScaleY=$[0]),this.ctx.transform(..._e.transform),this.viewportScale=_e.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList($,_e,vt,bt){const xt=$.argsArray,Et=$.fnArray;let At=_e||0;const wt=xt.length;if(wt===At)return At;const Ct=wt-At>EXECUTION_STEPS&&typeof vt=="function",St=Ct?Date.now()+EXECUTION_TIME:0;let Rt=0;const Pt=this.commonObjs,kt=this.objs;let Mt;for(;;){if(bt!==void 0&&At===bt.nextBreakPoint)return bt.breakIt(At,vt),At;if(Mt=Et[At],Mt!==OPS.dependency)this[Mt].apply(this,xt[At]);else for(const Dt of xt[At]){const $t=Dt.startsWith("g_")?Pt:kt;if(!$t.has(Dt))return $t.get(Dt,vt),At}if(At++,At===wt)return At;if(Ct&&++Rt>EXECUTION_STEPS){if(Date.now()>St)return vt(),At;Rt=0}}}endDrawing(){Ut(this,Wu,Vx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const $ of this._cachedBitmapsMap.values()){for(const _e of $.values())typeof HTMLCanvasElement<"u"&&_e instanceof HTMLCanvasElement&&(_e.width=_e.height=0);$.clear()}this._cachedBitmapsMap.clear(),Ut(this,Wu,Gx).call(this)}_scaleImage($,_e){const vt=$.width,bt=$.height;let xt=Math.max(Math.hypot(_e[0],_e[1]),1),Et=Math.max(Math.hypot(_e[2],_e[3]),1),At=vt,wt=bt,Ct="prescale1",St,Rt;for(;xt>2&&At>1||Et>2&&wt>1;){let Pt=At,kt=wt;xt>2&&At>1&&(Pt=At>=16384?Math.floor(At/2)-1||1:Math.ceil(At/2),xt/=At/Pt),Et>2&&wt>1&&(kt=wt>=16384?Math.floor(wt/2)-1||1:Math.ceil(wt)/2,Et/=wt/kt),St=this.cachedCanvases.getCanvas(Ct,Pt,kt),Rt=St.context,Rt.clearRect(0,0,Pt,kt),Rt.drawImage($,0,0,At,wt,0,0,Pt,kt),$=St.canvas,At=Pt,wt=kt,Ct=Ct==="prescale1"?"prescale2":"prescale1"}return{img:$,paintWidth:At,paintHeight:wt}}_createMaskCanvas($){const _e=this.ctx,{width:vt,height:bt}=$,xt=this.current.fillColor,Et=this.current.patternFill,At=getCurrentTransform(_e);let wt,Ct,St,Rt;if(($.bitmap||$.data)&&$.count>1){const zt=$.bitmap||$.data.buffer;Ct=JSON.stringify(Et?At:[At.slice(0,4),xt]),wt=this._cachedBitmapsMap.get(zt),wt||(wt=new Map,this._cachedBitmapsMap.set(zt,wt));const Kt=wt.get(Ct);if(Kt&&!Et){const nn=Math.round(Math.min(At[0],At[2])+At[4]),qt=Math.round(Math.min(At[1],At[3])+At[5]);return{canvas:Kt,offsetX:nn,offsetY:qt}}St=Kt}St||(Rt=this.cachedCanvases.getCanvas("maskCanvas",vt,bt),putBinaryImageMask(Rt.context,$));let Pt=Util.transform(At,[1/vt,0,0,-1/bt,0,0]);Pt=Util.transform(Pt,[1,0,0,1,0,-bt]);const[kt,Mt,Dt,$t]=Util.getAxialAlignedBoundingBox([0,0,vt,bt],Pt),Ft=Math.round(Dt-kt)||1,Lt=Math.round($t-Mt)||1,Ot=this.cachedCanvases.getCanvas("fillCanvas",Ft,Lt),Ht=Ot.context,Nt=kt,Bt=Mt;Ht.translate(-Nt,-Bt),Ht.transform(...Pt),St||(St=this._scaleImage(Rt.canvas,getCurrentTransformInverse(Ht)),St=St.img,wt&&Et&&wt.set(Ct,St)),Ht.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(Ht),$.interpolate),drawImageAtIntegerCoords(Ht,St,0,0,St.width,St.height,0,0,vt,bt),Ht.globalCompositeOperation="source-in";const jt=Util.transform(getCurrentTransformInverse(Ht),[1,0,0,1,-Nt,-Bt]);return Ht.fillStyle=Et?xt.getPattern(_e,this,jt,PathType.FILL):xt,Ht.fillRect(0,0,vt,bt),wt&&!Et&&(this.cachedCanvases.delete("fillCanvas"),wt.set(Ct,Ot.canvas)),{canvas:Ot.canvas,offsetX:Math.round(Nt),offsetY:Math.round(Bt)}}setLineWidth($){$!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=$,this.ctx.lineWidth=$}setLineCap($){this.ctx.lineCap=LINE_CAP_STYLES[$]}setLineJoin($){this.ctx.lineJoin=LINE_JOIN_STYLES[$]}setMiterLimit($){this.ctx.miterLimit=$}setDash($,_e){const vt=this.ctx;vt.setLineDash!==void 0&&(vt.setLineDash($),vt.lineDashOffset=_e)}setRenderingIntent($){}setFlatness($){}setGState($){for(const[_e,vt]of $)switch(_e){case"LW":this.setLineWidth(vt);break;case"LC":this.setLineCap(vt);break;case"LJ":this.setLineJoin(vt);break;case"ML":this.setMiterLimit(vt);break;case"D":this.setDash(vt[0],vt[1]);break;case"RI":this.setRenderingIntent(vt);break;case"FL":this.setFlatness(vt);break;case"Font":this.setFont(vt[0],vt[1]);break;case"CA":this.current.strokeAlpha=vt;break;case"ca":this.current.fillAlpha=vt,this.ctx.globalAlpha=vt;break;case"BM":this.ctx.globalCompositeOperation=vt;break;case"SMask":this.current.activeSMask=vt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(vt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const $=this.inSMaskMode;this.current.activeSMask&&!$?this.beginSMaskMode():!this.current.activeSMask&&$&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const $=this.ctx.canvas.width,_e=this.ctx.canvas.height,vt="smaskGroupAt"+this.groupLevel,bt=this.cachedCanvases.getCanvas(vt,$,_e);this.suspendedCtx=this.ctx,this.ctx=bt.context;const xt=this.ctx;xt.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,xt),mirrorContextOperations(xt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose($){if(!this.current.activeSMask)return;$?($[0]=Math.floor($[0]),$[1]=Math.floor($[1]),$[2]=Math.ceil($[2]),$[3]=Math.ceil($[3])):$=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const _e=this.current.activeSMask,vt=this.suspendedCtx;this.composeSMask(vt,_e,this.ctx,$),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask($,_e,vt,bt){const xt=bt[0],Et=bt[1],At=bt[2]-xt,wt=bt[3]-Et;At===0||wt===0||(this.genericComposeSMask(_e.context,vt,At,wt,_e.subtype,_e.backdrop,_e.transferMap,xt,Et,_e.offsetX,_e.offsetY),$.save(),$.globalAlpha=1,$.globalCompositeOperation="source-over",$.setTransform(1,0,0,1,0,0),$.drawImage(vt.canvas,0,0),$.restore())}genericComposeSMask($,_e,vt,bt,xt,Et,At,wt,Ct,St,Rt){let Pt=$.canvas,kt=wt-St,Mt=Ct-Rt;if(Et){if(kt<0||Mt<0||kt+vt>Pt.width||Mt+bt>Pt.height){const $t=this.cachedCanvases.getCanvas("maskExtension",vt,bt),Ft=$t.context;Ft.drawImage(Pt,-kt,-Mt),Et.some(Lt=>Lt!==0)&&(Ft.globalCompositeOperation="destination-atop",Ft.fillStyle=Util.makeHexColor(...Et),Ft.fillRect(0,0,vt,bt),Ft.globalCompositeOperation="source-over"),Pt=$t.canvas,kt=Mt=0}else if(Et.some($t=>$t!==0)){$.save(),$.globalAlpha=1,$.setTransform(1,0,0,1,0,0);const $t=new Path2D;$t.rect(kt,Mt,vt,bt),$.clip($t),$.globalCompositeOperation="destination-atop",$.fillStyle=Util.makeHexColor(...Et),$.fillRect(kt,Mt,vt,bt),$.restore()}}_e.save(),_e.globalAlpha=1,_e.setTransform(1,0,0,1,0,0),xt==="Alpha"&&At?_e.filter=this.filterFactory.addAlphaFilter(At):xt==="Luminosity"&&(_e.filter=this.filterFactory.addLuminosityFilter(At));const Dt=new Path2D;Dt.rect(wt,Ct,vt,bt),_e.clip(Dt),_e.globalCompositeOperation="destination-in",_e.drawImage(Pt,kt,Mt,vt,bt,wt,Ct,vt,bt),_e.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const $=this.current;this.stateStack.push($),this.current=$.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform($,_e,vt,bt,xt,Et){this.ctx.transform($,_e,vt,bt,xt,Et),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath($,_e,vt){const bt=this.ctx,xt=this.current;let Et=xt.x,At=xt.y,wt,Ct;const St=getCurrentTransform(bt),Rt=St[0]===0&&St[3]===0||St[1]===0&&St[2]===0,Pt=Rt?vt.slice(0):null;for(let kt=0,Mt=0,Dt=$.length;kt<Dt;kt++)switch($[kt]|0){case OPS.rectangle:Et=_e[Mt++],At=_e[Mt++];const $t=_e[Mt++],Ft=_e[Mt++],Lt=Et+$t,Ot=At+Ft;bt.moveTo(Et,At),$t===0||Ft===0?bt.lineTo(Lt,Ot):(bt.lineTo(Lt,At),bt.lineTo(Lt,Ot),bt.lineTo(Et,Ot)),Rt||xt.updateRectMinMax(St,[Et,At,Lt,Ot]),bt.closePath();break;case OPS.moveTo:Et=_e[Mt++],At=_e[Mt++],bt.moveTo(Et,At),Rt||xt.updatePathMinMax(St,Et,At);break;case OPS.lineTo:Et=_e[Mt++],At=_e[Mt++],bt.lineTo(Et,At),Rt||xt.updatePathMinMax(St,Et,At);break;case OPS.curveTo:wt=Et,Ct=At,Et=_e[Mt+4],At=_e[Mt+5],bt.bezierCurveTo(_e[Mt],_e[Mt+1],_e[Mt+2],_e[Mt+3],Et,At),xt.updateCurvePathMinMax(St,wt,Ct,_e[Mt],_e[Mt+1],_e[Mt+2],_e[Mt+3],Et,At,Pt),Mt+=6;break;case OPS.curveTo2:wt=Et,Ct=At,bt.bezierCurveTo(Et,At,_e[Mt],_e[Mt+1],_e[Mt+2],_e[Mt+3]),xt.updateCurvePathMinMax(St,wt,Ct,Et,At,_e[Mt],_e[Mt+1],_e[Mt+2],_e[Mt+3],Pt),Et=_e[Mt+2],At=_e[Mt+3],Mt+=4;break;case OPS.curveTo3:wt=Et,Ct=At,Et=_e[Mt+2],At=_e[Mt+3],bt.bezierCurveTo(_e[Mt],_e[Mt+1],Et,At,Et,At),xt.updateCurvePathMinMax(St,wt,Ct,_e[Mt],_e[Mt+1],Et,At,Et,At,Pt),Mt+=4;break;case OPS.closePath:bt.closePath();break}Rt&&xt.updateScalingPathMinMax(St,Pt),xt.setCurrentPoint(Et,At)}closePath(){this.ctx.closePath()}stroke($=!0){const _e=this.ctx,vt=this.current.strokeColor;_e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof vt=="object"&&(vt!=null&&vt.getPattern)?(_e.save(),_e.strokeStyle=vt.getPattern(_e,this,getCurrentTransformInverse(_e),PathType.STROKE),this.rescaleAndStroke(!1),_e.restore()):this.rescaleAndStroke(!0)),$&&this.consumePath(this.current.getClippedPathBoundingBox()),_e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill($=!0){const _e=this.ctx,vt=this.current.fillColor,bt=this.current.patternFill;let xt=!1;bt&&(_e.save(),_e.fillStyle=vt.getPattern(_e,this,getCurrentTransformInverse(_e),PathType.FILL),xt=!0);const Et=this.current.getClippedPathBoundingBox();this.contentVisible&&Et!==null&&(this.pendingEOFill?(_e.fill("evenodd"),this.pendingEOFill=!1):_e.fill()),xt&&_e.restore(),$&&this.consumePath(Et)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const $=this.pendingTextPaths,_e=this.ctx;if($===void 0){_e.beginPath();return}_e.save(),_e.beginPath();for(const vt of $)_e.setTransform(...vt.transform),_e.translate(vt.x,vt.y),vt.addToPath(_e,vt.fontSize);_e.restore(),_e.clip(),_e.beginPath(),delete this.pendingTextPaths}setCharSpacing($){this.current.charSpacing=$}setWordSpacing($){this.current.wordSpacing=$}setHScale($){this.current.textHScale=$/100}setLeading($){this.current.leading=-$}setFont($,_e){var St;const vt=this.commonObjs.get($),bt=this.current;if(!vt)throw new Error(`Can't find font for ${$}`);if(bt.fontMatrix=vt.fontMatrix||FONT_IDENTITY_MATRIX,(bt.fontMatrix[0]===0||bt.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+$),_e<0?(_e=-_e,bt.fontDirection=-1):bt.fontDirection=1,this.current.font=vt,this.current.fontSize=_e,vt.isType3Font)return;const xt=vt.loadedName||"sans-serif",Et=((St=vt.systemFontInfo)==null?void 0:St.css)||`"${xt}", ${vt.fallbackName}`;let At="normal";vt.black?At="900":vt.bold&&(At="bold");const wt=vt.italic?"italic":"normal";let Ct=_e;_e<MIN_FONT_SIZE?Ct=MIN_FONT_SIZE:_e>MAX_FONT_SIZE&&(Ct=MAX_FONT_SIZE),this.current.fontSizeScale=_e/Ct,this.ctx.font=`${wt} ${At} ${Ct}px ${Et}`}setTextRenderingMode($){this.current.textRenderingMode=$}setTextRise($){this.current.textRise=$}moveText($,_e){this.current.x=this.current.lineX+=$,this.current.y=this.current.lineY+=_e}setLeadingMoveText($,_e){this.setLeading(-_e),this.moveText($,_e)}setTextMatrix($,_e,vt,bt,xt,Et){this.current.textMatrix=[$,_e,vt,bt,xt,Et],this.current.textMatrixScale=Math.hypot($,_e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar($,_e,vt,bt){const xt=this.ctx,Et=this.current,At=Et.font,wt=Et.textRenderingMode,Ct=Et.fontSize/Et.fontSizeScale,St=wt&TextRenderingMode.FILL_STROKE_MASK,Rt=!!(wt&TextRenderingMode.ADD_TO_PATH_FLAG),Pt=Et.patternFill&&!At.missingFile;let kt;(At.disableFontFace||Rt||Pt)&&(kt=At.getPathGenerator(this.commonObjs,$)),At.disableFontFace||Pt?(xt.save(),xt.translate(_e,vt),xt.beginPath(),kt(xt,Ct),bt&&xt.setTransform(...bt),(St===TextRenderingMode.FILL||St===TextRenderingMode.FILL_STROKE)&&xt.fill(),(St===TextRenderingMode.STROKE||St===TextRenderingMode.FILL_STROKE)&&xt.stroke(),xt.restore()):((St===TextRenderingMode.FILL||St===TextRenderingMode.FILL_STROKE)&&xt.fillText($,_e,vt),(St===TextRenderingMode.STROKE||St===TextRenderingMode.FILL_STROKE)&&xt.strokeText($,_e,vt)),Rt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(xt),x:_e,y:vt,fontSize:Ct,addToPath:kt})}get isFontSubpixelAAEnabled(){const{context:$}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);$.scale(1.5,1),$.fillText("I",0,10);const _e=$.getImageData(0,0,10,10).data;let vt=!1;for(let bt=3;bt<_e.length;bt+=4)if(_e[bt]>0&&_e[bt]<255){vt=!0;break}return shadow(this,"isFontSubpixelAAEnabled",vt)}showText($){const _e=this.current,vt=_e.font;if(vt.isType3Font)return this.showType3Text($);const bt=_e.fontSize;if(bt===0)return;const xt=this.ctx,Et=_e.fontSizeScale,At=_e.charSpacing,wt=_e.wordSpacing,Ct=_e.fontDirection,St=_e.textHScale*Ct,Rt=$.length,Pt=vt.vertical,kt=Pt?1:-1,Mt=vt.defaultVMetrics,Dt=bt*_e.fontMatrix[0],$t=_e.textRenderingMode===TextRenderingMode.FILL&&!vt.disableFontFace&&!_e.patternFill;xt.save(),xt.transform(..._e.textMatrix),xt.translate(_e.x,_e.y+_e.textRise),Ct>0?xt.scale(St,-1):xt.scale(St,1);let Ft;if(_e.patternFill){xt.save();const Bt=_e.fillColor.getPattern(xt,this,getCurrentTransformInverse(xt),PathType.FILL);Ft=getCurrentTransform(xt),xt.restore(),xt.fillStyle=Bt}let Lt=_e.lineWidth;const Ot=_e.textMatrixScale;if(Ot===0||Lt===0){const Bt=_e.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(Bt===TextRenderingMode.STROKE||Bt===TextRenderingMode.FILL_STROKE)&&(Lt=this.getSinglePixelWidth())}else Lt/=Ot;if(Et!==1&&(xt.scale(Et,Et),Lt/=Et),xt.lineWidth=Lt,vt.isInvalidPDFjsFont){const Bt=[];let jt=0;for(const zt of $)Bt.push(zt.unicode),jt+=zt.width;xt.fillText(Bt.join(""),0,0),_e.x+=jt*Dt*St,xt.restore(),this.compose();return}let Ht=0,Nt;for(Nt=0;Nt<Rt;++Nt){const Bt=$[Nt];if(typeof Bt=="number"){Ht+=kt*Bt*bt/1e3;continue}let jt=!1;const zt=(Bt.isSpace?wt:0)+At,Kt=Bt.fontChar,nn=Bt.accent;let qt,en,on=Bt.width;if(Pt){const dn=Bt.vmetric||Mt,En=-(Bt.vmetric?dn[1]:on*.5)*Dt,cn=dn[2]*Dt;on=dn?-dn[0]:on,qt=En/Et,en=(Ht+cn)/Et}else qt=Ht/Et,en=0;if(vt.remeasure&&on>0){const dn=xt.measureText(Kt).width*1e3/bt*Et;if(on<dn&&this.isFontSubpixelAAEnabled){const En=on/dn;jt=!0,xt.save(),xt.scale(En,1),qt/=En}else on!==dn&&(qt+=(on-dn)/2e3*bt/Et)}if(this.contentVisible&&(Bt.isInFont||vt.missingFile)){if($t&&!nn)xt.fillText(Kt,qt,en);else if(this.paintChar(Kt,qt,en,Ft),nn){const dn=qt+bt*nn.offset.x/Et,En=en-bt*nn.offset.y/Et;this.paintChar(nn.fontChar,dn,En,Ft)}}const _n=Pt?on*Dt-zt*Ct:on*Dt+zt*Ct;Ht+=_n,jt&&xt.restore()}Pt?_e.y-=Ht:_e.x+=Ht*St,xt.restore(),this.compose()}showType3Text($){const _e=this.ctx,vt=this.current,bt=vt.font,xt=vt.fontSize,Et=vt.fontDirection,At=bt.vertical?1:-1,wt=vt.charSpacing,Ct=vt.wordSpacing,St=vt.textHScale*Et,Rt=vt.fontMatrix||FONT_IDENTITY_MATRIX,Pt=$.length,kt=vt.textRenderingMode===TextRenderingMode.INVISIBLE;let Mt,Dt,$t,Ft;if(!(kt||xt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,_e.save(),_e.transform(...vt.textMatrix),_e.translate(vt.x,vt.y),_e.scale(St,Et),Mt=0;Mt<Pt;++Mt){if(Dt=$[Mt],typeof Dt=="number"){Ft=At*Dt*xt/1e3,this.ctx.translate(Ft,0),vt.x+=Ft*St;continue}const Lt=(Dt.isSpace?Ct:0)+wt,Ot=bt.charProcOperatorList[Dt.operatorListId];if(!Ot){warn(`Type3 character "${Dt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Dt,this.save(),_e.scale(xt,xt),_e.transform(...Rt),this.executeOperatorList(Ot),this.restore()),$t=Util.applyTransform([Dt.width,0],Rt)[0]*xt+Lt,_e.translate($t,0),vt.x+=$t*St}_e.restore(),this.processingType3=null}}setCharWidth($,_e){}setCharWidthAndBounds($,_e,vt,bt,xt,Et){this.ctx.rect(vt,bt,xt-vt,Et-bt),this.ctx.clip(),this.endPath()}getColorN_Pattern($){let _e;if($[0]==="TilingPattern"){const vt=$[1],bt=this.baseTransform||getCurrentTransform(this.ctx),xt={createCanvasGraphics:Et=>new iE(Et,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};_e=new TilingPattern($,vt,this.ctx,xt,bt)}else _e=this._getPattern($[1],$[2]);return _e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor($,_e,vt){const bt=Util.makeHexColor($,_e,vt);this.ctx.strokeStyle=bt,this.current.strokeColor=bt}setFillRGBColor($,_e,vt){const bt=Util.makeHexColor($,_e,vt);this.ctx.fillStyle=bt,this.current.fillColor=bt,this.current.patternFill=!1}_getPattern($,_e=null){let vt;return this.cachedPatterns.has($)?vt=this.cachedPatterns.get($):(vt=getShadingPattern(this.getObject($)),this.cachedPatterns.set($,vt)),_e&&(vt.matrix=_e),vt}shadingFill($){if(!this.contentVisible)return;const _e=this.ctx;this.save();const vt=this._getPattern($);_e.fillStyle=vt.getPattern(_e,this,getCurrentTransformInverse(_e),PathType.SHADING);const bt=getCurrentTransformInverse(_e);if(bt){const{width:xt,height:Et}=_e.canvas,[At,wt,Ct,St]=Util.getAxialAlignedBoundingBox([0,0,xt,Et],bt);this.ctx.fillRect(At,wt,Ct-At,St-wt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin($,_e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),$&&this.transform(...$),this.baseTransform=getCurrentTransform(this.ctx),_e)){const vt=_e[2]-_e[0],bt=_e[3]-_e[1];this.ctx.rect(_e[0],_e[1],vt,bt),this.current.updateRectMinMax(getCurrentTransform(this.ctx),_e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup($){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const _e=this.ctx;$.isolated||info("TODO: Support non-isolated groups."),$.knockout&&warn("Knockout groups not supported.");const vt=getCurrentTransform(_e);if($.matrix&&_e.transform(...$.matrix),!$.bbox)throw new Error("Bounding box is required.");let bt=Util.getAxialAlignedBoundingBox($.bbox,getCurrentTransform(_e));const xt=[0,0,_e.canvas.width,_e.canvas.height];bt=Util.intersect(bt,xt)||[0,0,0,0];const Et=Math.floor(bt[0]),At=Math.floor(bt[1]),wt=Math.max(Math.ceil(bt[2])-Et,1),Ct=Math.max(Math.ceil(bt[3])-At,1);this.current.startNewPathAndClipBox([0,0,wt,Ct]);let St="groupAt"+this.groupLevel;$.smask&&(St+="_smask_"+this.smaskCounter++%2);const Rt=this.cachedCanvases.getCanvas(St,wt,Ct),Pt=Rt.context;Pt.translate(-Et,-At),Pt.transform(...vt),$.smask?this.smaskStack.push({canvas:Rt.canvas,context:Pt,offsetX:Et,offsetY:At,subtype:$.smask.subtype,backdrop:$.smask.backdrop,transferMap:$.smask.transferMap||null,startTransformInverse:null}):(_e.setTransform(1,0,0,1,0,0),_e.translate(Et,At),_e.save()),copyCtxState(_e,Pt),this.ctx=Pt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(_e),this.groupLevel++}endGroup($){if(!this.contentVisible)return;this.groupLevel--;const _e=this.ctx,vt=this.groupStack.pop();if(this.ctx=vt,this.ctx.imageSmoothingEnabled=!1,$.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const bt=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...bt);const xt=Util.getAxialAlignedBoundingBox([0,0,_e.canvas.width,_e.canvas.height],bt);this.ctx.drawImage(_e.canvas,0,0),this.ctx.restore(),this.compose(xt)}}beginAnnotation($,_e,vt,bt,xt){if(Ut(this,Wu,Vx).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),_e){const Et=_e[2]-_e[0],At=_e[3]-_e[1];if(xt&&this.annotationCanvasMap){vt=vt.slice(),vt[4]-=_e[0],vt[5]-=_e[1],_e=_e.slice(),_e[0]=_e[1]=0,_e[2]=Et,_e[3]=At;const[wt,Ct]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:St}=this,Rt=Math.ceil(Et*this.outputScaleX*St),Pt=Math.ceil(At*this.outputScaleY*St);this.annotationCanvas=this.canvasFactory.create(Rt,Pt);const{canvas:kt,context:Mt}=this.annotationCanvas;this.annotationCanvasMap.set($,kt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Mt,this.ctx.save(),this.ctx.setTransform(wt,0,0,-Ct,0,At*Ct),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.ctx.rect(_e[0],_e[1],Et,At),this.ctx.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...vt),this.transform(...bt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ut(this,Wu,Gx).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject($){if(!this.contentVisible)return;const _e=$.count;$=this.getObject($.data,$),$.count=_e;const vt=this.ctx,bt=this.processingType3;if(bt&&(bt.compiled===void 0&&(bt.compiled=compileType3Glyph($)),bt.compiled)){bt.compiled(vt);return}const xt=this._createMaskCanvas($),Et=xt.canvas;vt.save(),vt.setTransform(1,0,0,1,0,0),vt.drawImage(Et,xt.offsetX,xt.offsetY),vt.restore(),this.compose()}paintImageMaskXObjectRepeat($,_e,vt=0,bt=0,xt,Et){if(!this.contentVisible)return;$=this.getObject($.data,$);const At=this.ctx;At.save();const wt=getCurrentTransform(At);At.transform(_e,vt,bt,xt,0,0);const Ct=this._createMaskCanvas($);At.setTransform(1,0,0,1,Ct.offsetX-wt[4],Ct.offsetY-wt[5]);for(let St=0,Rt=Et.length;St<Rt;St+=2){const Pt=Util.transform(wt,[_e,vt,bt,xt,Et[St],Et[St+1]]),[kt,Mt]=Util.applyTransform([0,0],Pt);At.drawImage(Ct.canvas,kt,Mt)}At.restore(),this.compose()}paintImageMaskXObjectGroup($){if(!this.contentVisible)return;const _e=this.ctx,vt=this.current.fillColor,bt=this.current.patternFill;for(const xt of $){const{data:Et,width:At,height:wt,transform:Ct}=xt,St=this.cachedCanvases.getCanvas("maskCanvas",At,wt),Rt=St.context;Rt.save();const Pt=this.getObject(Et,xt);putBinaryImageMask(Rt,Pt),Rt.globalCompositeOperation="source-in",Rt.fillStyle=bt?vt.getPattern(Rt,this,getCurrentTransformInverse(_e),PathType.FILL):vt,Rt.fillRect(0,0,At,wt),Rt.restore(),_e.save(),_e.transform(...Ct),_e.scale(1,-1),drawImageAtIntegerCoords(_e,St.canvas,0,0,At,wt,0,-1,1,1),_e.restore()}this.compose()}paintImageXObject($){if(!this.contentVisible)return;const _e=this.getObject($);if(!_e){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(_e)}paintImageXObjectRepeat($,_e,vt,bt){if(!this.contentVisible)return;const xt=this.getObject($);if(!xt){warn("Dependent image isn't ready yet");return}const Et=xt.width,At=xt.height,wt=[];for(let Ct=0,St=bt.length;Ct<St;Ct+=2)wt.push({transform:[_e,0,0,vt,bt[Ct],bt[Ct+1]],x:0,y:0,w:Et,h:At});this.paintInlineImageXObjectGroup(xt,wt)}applyTransferMapsToCanvas($){return this.current.transferMaps!=="none"&&($.filter=this.current.transferMaps,$.drawImage($.canvas,0,0),$.filter="none"),$.canvas}applyTransferMapsToBitmap($){if(this.current.transferMaps==="none")return $.bitmap;const{bitmap:_e,width:vt,height:bt}=$,xt=this.cachedCanvases.getCanvas("inlineImage",vt,bt),Et=xt.context;return Et.filter=this.current.transferMaps,Et.drawImage(_e,0,0),Et.filter="none",xt.canvas}paintInlineImageXObject($){if(!this.contentVisible)return;const _e=$.width,vt=$.height,bt=this.ctx;if(this.save(),!isNodeJS){const{filter:At}=bt;At!=="none"&&At!==""&&(bt.filter="none")}bt.scale(1/_e,-1/vt);let xt;if($.bitmap)xt=this.applyTransferMapsToBitmap($);else if(typeof HTMLElement=="function"&&$ instanceof HTMLElement||!$.data)xt=$;else{const wt=this.cachedCanvases.getCanvas("inlineImage",_e,vt).context;putBinaryImageData(wt,$),xt=this.applyTransferMapsToCanvas(wt)}const Et=this._scaleImage(xt,getCurrentTransformInverse(bt));bt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(bt),$.interpolate),drawImageAtIntegerCoords(bt,Et.img,0,0,Et.paintWidth,Et.paintHeight,0,-vt,_e,vt),this.compose(),this.restore()}paintInlineImageXObjectGroup($,_e){if(!this.contentVisible)return;const vt=this.ctx;let bt;if($.bitmap)bt=$.bitmap;else{const xt=$.width,Et=$.height,wt=this.cachedCanvases.getCanvas("inlineImage",xt,Et).context;putBinaryImageData(wt,$),bt=this.applyTransferMapsToCanvas(wt)}for(const xt of _e)vt.save(),vt.transform(...xt.transform),vt.scale(1,-1),drawImageAtIntegerCoords(vt,bt,xt.x,xt.y,xt.w,xt.h,0,-1,1,1),vt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint($){}markPointProps($,_e){}beginMarkedContent($){this.markedContentStack.push({visible:!0})}beginMarkedContentProps($,_e){$==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(_e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath($){const _e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose($);const vt=this.ctx;this.pendingClip&&(_e||(this.pendingClip===EO_CLIP?vt.clip("evenodd"):vt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),vt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const $=getCurrentTransform(this.ctx);if($[1]===0&&$[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs($[0]),Math.abs($[3]));else{const _e=Math.abs($[0]*$[3]-$[2]*$[1]),vt=Math.hypot($[0],$[2]),bt=Math.hypot($[1],$[3]);this._cachedGetSinglePixelWidth=Math.max(vt,bt)/_e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:$}=this.current,{a:_e,b:vt,c:bt,d:xt}=this.ctx.getTransform();let Et,At;if(vt===0&&bt===0){const wt=Math.abs(_e),Ct=Math.abs(xt);if(wt===Ct)if($===0)Et=At=1/wt;else{const St=wt*$;Et=At=St<1?1/St:1}else if($===0)Et=1/wt,At=1/Ct;else{const St=wt*$,Rt=Ct*$;Et=St<1?1/St:1,At=Rt<1?1/Rt:1}}else{const wt=Math.abs(_e*xt-vt*bt),Ct=Math.hypot(_e,vt),St=Math.hypot(bt,xt);if($===0)Et=St/wt,At=Ct/wt;else{const Rt=$*wt;Et=St>Rt?St/Rt:1,At=Ct>Rt?Ct/Rt:1}}this._cachedScaleForStroking[0]=Et,this._cachedScaleForStroking[1]=At}return this._cachedScaleForStroking}rescaleAndStroke($){const{ctx:_e}=this,{lineWidth:vt}=this.current,[bt,xt]=this.getScaleForStroking();if(_e.lineWidth=vt||1,bt===1&&xt===1){_e.stroke();return}const Et=_e.getLineDash();if($&&_e.save(),_e.scale(bt,xt),Et.length>0){const At=Math.max(bt,xt);_e.setLineDash(Et.map(wt=>wt/At)),_e.lineDashOffset/=At}_e.stroke(),$&&_e.restore()}isContentVisible(){for(let $=this.markedContentStack.length-1;$>=0;$--)if(!this.markedContentStack[$].visible)return!1;return!0}};Wu=new WeakSet,Vx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Gx=function(){if(this.pageColors){const $=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if($!=="none"){const _e=this.ctx.filter;this.ctx.filter=$,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=_e}}};let CanvasGraphics=iE;for(const ht in OPS)CanvasGraphics.prototype[ht]!==void 0&&(CanvasGraphics.prototype[OPS[ht]]=CanvasGraphics.prototype[ht]);var J0,ev;class GlobalWorkerOptions{static get workerPort(){return _t(this,J0)}static set workerPort($){if(!(typeof Worker<"u"&&$ instanceof Worker)&&$!==null)throw new Error("Invalid `workerPort` type.");Wt(this,J0,$)}static get workerSrc(){return _t(this,ev)}static set workerSrc($){if(typeof $!="string")throw new Error("Invalid `workerSrc` type.");Wt(this,ev,$)}}J0=new WeakMap,ev=new WeakMap,Gt(GlobalWorkerOptions,J0,null),Gt(GlobalWorkerOptions,ev,"");const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(ht){switch(ht instanceof Error||typeof ht=="object"&&ht!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ht.name){case"AbortException":return new AbortException(ht.message);case"MissingPDFException":return new MissingPDFException(ht.message);case"PasswordException":return new PasswordException(ht.message,ht.code);case"UnexpectedResponseException":return new UnexpectedResponseException(ht.message,ht.status);case"UnknownErrorException":return new UnknownErrorException(ht.message,ht.details);default:return new UnknownErrorException(ht.message,ht.toString())}}var Dl,KE,YE,gy;class MessageHandler{constructor($,_e,vt){Gt(this,Dl);this.sourceName=$,this.targetName=_e,this.comObj=vt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=bt=>{const xt=bt.data;if(xt.targetName!==this.sourceName)return;if(xt.stream){Ut(this,Dl,YE).call(this,xt);return}if(xt.callback){const At=xt.callbackId,wt=this.callbackCapabilities[At];if(!wt)throw new Error(`Cannot resolve callback ${At}`);if(delete this.callbackCapabilities[At],xt.callback===CallbackKind.DATA)wt.resolve(xt.data);else if(xt.callback===CallbackKind.ERROR)wt.reject(wrapReason(xt.reason));else throw new Error("Unexpected callback case");return}const Et=this.actionHandler[xt.action];if(!Et)throw new Error(`Unknown action from worker: ${xt.action}`);if(xt.callbackId){const At=this.sourceName,wt=xt.sourceName;new Promise(function(Ct){Ct(Et(xt.data))}).then(function(Ct){vt.postMessage({sourceName:At,targetName:wt,callback:CallbackKind.DATA,callbackId:xt.callbackId,data:Ct})},function(Ct){vt.postMessage({sourceName:At,targetName:wt,callback:CallbackKind.ERROR,callbackId:xt.callbackId,reason:wrapReason(Ct)})});return}if(xt.streamId){Ut(this,Dl,KE).call(this,xt);return}Et(xt.data)},vt.addEventListener("message",this._onComObjOnMessage)}on($,_e){const vt=this.actionHandler;if(vt[$])throw new Error(`There is already an actionName called "${$}"`);vt[$]=_e}send($,_e,vt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,data:_e},vt)}sendWithPromise($,_e,vt){const bt=this.callbackId++,xt=Promise.withResolvers();this.callbackCapabilities[bt]=xt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,callbackId:bt,data:_e},vt)}catch(Et){xt.reject(Et)}return xt.promise}sendWithStream($,_e,vt,bt){const xt=this.streamId++,Et=this.sourceName,At=this.targetName,wt=this.comObj;return new ReadableStream({start:Ct=>{const St=Promise.withResolvers();return this.streamControllers[xt]={controller:Ct,startCall:St,pullCall:null,cancelCall:null,isClosed:!1},wt.postMessage({sourceName:Et,targetName:At,action:$,streamId:xt,data:_e,desiredSize:Ct.desiredSize},bt),St.promise},pull:Ct=>{const St=Promise.withResolvers();return this.streamControllers[xt].pullCall=St,wt.postMessage({sourceName:Et,targetName:At,stream:StreamKind.PULL,streamId:xt,desiredSize:Ct.desiredSize}),St.promise},cancel:Ct=>{assert(Ct instanceof Error,"cancel must have a valid reason");const St=Promise.withResolvers();return this.streamControllers[xt].cancelCall=St,this.streamControllers[xt].isClosed=!0,wt.postMessage({sourceName:Et,targetName:At,stream:StreamKind.CANCEL,streamId:xt,reason:wrapReason(Ct)}),St.promise}},vt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Dl=new WeakSet,KE=function($){const _e=$.streamId,vt=this.sourceName,bt=$.sourceName,xt=this.comObj,Et=this,At=this.actionHandler[$.action],wt={enqueue(Ct,St=1,Rt){if(this.isCancelled)return;const Pt=this.desiredSize;this.desiredSize-=St,Pt>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),xt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.ENQUEUE,streamId:_e,chunk:Ct},Rt)},close(){this.isCancelled||(this.isCancelled=!0,xt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.CLOSE,streamId:_e}),delete Et.streamSinks[_e])},error(Ct){assert(Ct instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,xt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.ERROR,streamId:_e,reason:wrapReason(Ct)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:$.desiredSize,ready:null};wt.sinkCapability.resolve(),wt.ready=wt.sinkCapability.promise,this.streamSinks[_e]=wt,new Promise(function(Ct){Ct(At($.data,wt))}).then(function(){xt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.START_COMPLETE,streamId:_e,success:!0})},function(Ct){xt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.START_COMPLETE,streamId:_e,reason:wrapReason(Ct)})})},YE=function($){const _e=$.streamId,vt=this.sourceName,bt=$.sourceName,xt=this.comObj,Et=this.streamControllers[_e],At=this.streamSinks[_e];switch($.stream){case StreamKind.START_COMPLETE:$.success?Et.startCall.resolve():Et.startCall.reject(wrapReason($.reason));break;case StreamKind.PULL_COMPLETE:$.success?Et.pullCall.resolve():Et.pullCall.reject(wrapReason($.reason));break;case StreamKind.PULL:if(!At){xt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.PULL_COMPLETE,streamId:_e,success:!0});break}At.desiredSize<=0&&$.desiredSize>0&&At.sinkCapability.resolve(),At.desiredSize=$.desiredSize,new Promise(function(wt){var Ct;wt((Ct=At.onPull)==null?void 0:Ct.call(At))}).then(function(){xt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.PULL_COMPLETE,streamId:_e,success:!0})},function(wt){xt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.PULL_COMPLETE,streamId:_e,reason:wrapReason(wt)})});break;case StreamKind.ENQUEUE:if(assert(Et,"enqueue should have stream controller"),Et.isClosed)break;Et.controller.enqueue($.chunk);break;case StreamKind.CLOSE:if(assert(Et,"close should have stream controller"),Et.isClosed)break;Et.isClosed=!0,Et.controller.close(),Ut(this,Dl,gy).call(this,Et,_e);break;case StreamKind.ERROR:assert(Et,"error should have stream controller"),Et.controller.error(wrapReason($.reason)),Ut(this,Dl,gy).call(this,Et,_e);break;case StreamKind.CANCEL_COMPLETE:$.success?Et.cancelCall.resolve():Et.cancelCall.reject(wrapReason($.reason)),Ut(this,Dl,gy).call(this,Et,_e);break;case StreamKind.CANCEL:if(!At)break;new Promise(function(wt){var Ct;wt((Ct=At.onCancel)==null?void 0:Ct.call(At,wrapReason($.reason)))}).then(function(){xt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.CANCEL_COMPLETE,streamId:_e,success:!0})},function(wt){xt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.CANCEL_COMPLETE,streamId:_e,reason:wrapReason(wt)})}),At.sinkCapability.reject(wrapReason($.reason)),At.isCancelled=!0,delete this.streamSinks[_e];break;default:throw new Error("Unexpected stream case")}},gy=async function($,_e){var vt,bt,xt;await Promise.allSettled([(vt=$.startCall)==null?void 0:vt.promise,(bt=$.pullCall)==null?void 0:bt.promise,(xt=$.cancelCall)==null?void 0:xt.promise]),delete this.streamControllers[_e]};var dp,tv;class Metadata{constructor({parsedData:$,rawData:_e}){Gt(this,dp);Gt(this,tv);Wt(this,dp,$),Wt(this,tv,_e)}getRaw(){return _t(this,tv)}get($){return _t(this,dp).get($)??null}getAll(){return objectFromMap(_t(this,dp))}has($){return _t(this,dp).has($)}}dp=new WeakMap,tv=new WeakMap;const INTERNAL=Symbol("INTERNAL");var nv,iv,rv,bm;class OptionalContentGroup{constructor($,{name:_e,intent:vt,usage:bt}){Gt(this,nv,!1);Gt(this,iv,!1);Gt(this,rv,!1);Gt(this,bm,!0);Wt(this,nv,!!($&RenderingIntentFlag.DISPLAY)),Wt(this,iv,!!($&RenderingIntentFlag.PRINT)),this.name=_e,this.intent=vt,this.usage=bt}get visible(){if(_t(this,rv))return _t(this,bm);if(!_t(this,bm))return!1;const{print:$,view:_e}=this.usage;return _t(this,nv)?(_e==null?void 0:_e.viewState)!=="OFF":_t(this,iv)?($==null?void 0:$.printState)!=="OFF":!0}_setVisible($,_e,vt=!1){$!==INTERNAL&&unreachable("Internal method `_setVisible` called."),Wt(this,rv,vt),Wt(this,bm,_e)}}nv=new WeakMap,iv=new WeakMap,rv=new WeakMap,bm=new WeakMap;var Ru,_s,xm,Em,sv,Xx;class OptionalContentConfig{constructor($,_e=RenderingIntentFlag.DISPLAY){Gt(this,sv);Gt(this,Ru,null);Gt(this,_s,new Map);Gt(this,xm,null);Gt(this,Em,null);if(this.renderingIntent=_e,this.name=null,this.creator=null,$!==null){this.name=$.name,this.creator=$.creator,Wt(this,Em,$.order);for(const vt of $.groups)_t(this,_s).set(vt.id,new OptionalContentGroup(_e,vt));if($.baseState==="OFF")for(const vt of _t(this,_s).values())vt._setVisible(INTERNAL,!1);for(const vt of $.on)_t(this,_s).get(vt)._setVisible(INTERNAL,!0);for(const vt of $.off)_t(this,_s).get(vt)._setVisible(INTERNAL,!1);Wt(this,xm,this.getHash())}}isVisible($){if(_t(this,_s).size===0)return!0;if(!$)return info("Optional content group not defined."),!0;if($.type==="OCG")return _t(this,_s).has($.id)?_t(this,_s).get($.id).visible:(warn(`Optional content group not found: ${$.id}`),!0);if($.type==="OCMD"){if($.expression)return Ut(this,sv,Xx).call(this,$.expression);if(!$.policy||$.policy==="AnyOn"){for(const _e of $.ids){if(!_t(this,_s).has(_e))return warn(`Optional content group not found: ${_e}`),!0;if(_t(this,_s).get(_e).visible)return!0}return!1}else if($.policy==="AllOn"){for(const _e of $.ids){if(!_t(this,_s).has(_e))return warn(`Optional content group not found: ${_e}`),!0;if(!_t(this,_s).get(_e).visible)return!1}return!0}else if($.policy==="AnyOff"){for(const _e of $.ids){if(!_t(this,_s).has(_e))return warn(`Optional content group not found: ${_e}`),!0;if(!_t(this,_s).get(_e).visible)return!0}return!1}else if($.policy==="AllOff"){for(const _e of $.ids){if(!_t(this,_s).has(_e))return warn(`Optional content group not found: ${_e}`),!0;if(_t(this,_s).get(_e).visible)return!1}return!0}return warn(`Unknown optional content policy ${$.policy}.`),!0}return warn(`Unknown group type ${$.type}.`),!0}setVisibility($,_e=!0){const vt=_t(this,_s).get($);if(!vt){warn(`Optional content group not found: ${$}`);return}vt._setVisible(INTERNAL,!!_e,!0),Wt(this,Ru,null)}setOCGState({state:$,preserveRB:_e}){let vt;for(const bt of $){switch(bt){case"ON":case"OFF":case"Toggle":vt=bt;continue}const xt=_t(this,_s).get(bt);if(xt)switch(vt){case"ON":xt._setVisible(INTERNAL,!0);break;case"OFF":xt._setVisible(INTERNAL,!1);break;case"Toggle":xt._setVisible(INTERNAL,!xt.visible);break}}Wt(this,Ru,null)}get hasInitialVisibility(){return _t(this,xm)===null||this.getHash()===_t(this,xm)}getOrder(){return _t(this,_s).size?_t(this,Em)?_t(this,Em).slice():[..._t(this,_s).keys()]:null}getGroups(){return _t(this,_s).size>0?objectFromMap(_t(this,_s)):null}getGroup($){return _t(this,_s).get($)||null}getHash(){if(_t(this,Ru)!==null)return _t(this,Ru);const $=new MurmurHash3_64;for(const[_e,vt]of _t(this,_s))$.update(`${_e}:${vt.visible}`);return Wt(this,Ru,$.hexdigest())}}Ru=new WeakMap,_s=new WeakMap,xm=new WeakMap,Em=new WeakMap,sv=new WeakSet,Xx=function($){const _e=$.length;if(_e<2)return!0;const vt=$[0];for(let bt=1;bt<_e;bt++){const xt=$[bt];let Et;if(Array.isArray(xt))Et=Ut(this,sv,Xx).call(this,xt);else if(_t(this,_s).has(xt))Et=_t(this,_s).get(xt).visible;else return warn(`Optional content group not found: ${xt}`),!0;switch(vt){case"And":if(!Et)return!1;break;case"Or":if(Et)return!0;break;case"Not":return!Et;default:return!0}}return vt==="And"};class PDFDataTransportStream{constructor($,{disableRange:_e=!1,disableStream:vt=!1}){assert($,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:bt,initialData:xt,progressiveDone:Et,contentDispositionFilename:At}=$;if(this._queuedChunks=[],this._progressiveDone=Et,this._contentDispositionFilename=At,(xt==null?void 0:xt.length)>0){const wt=xt instanceof Uint8Array&&xt.byteLength===xt.buffer.byteLength?xt.buffer:new Uint8Array(xt).buffer;this._queuedChunks.push(wt)}this._pdfDataRangeTransport=$,this._isStreamingSupported=!vt,this._isRangeSupported=!_e,this._contentLength=bt,this._fullRequestReader=null,this._rangeReaders=[],$.addRangeListener((wt,Ct)=>{this._onReceiveData({begin:wt,chunk:Ct})}),$.addProgressListener((wt,Ct)=>{this._onProgress({loaded:wt,total:Ct})}),$.addProgressiveReadListener(wt=>{this._onReceiveData({chunk:wt})}),$.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),$.transportReady()}_onReceiveData({begin:$,chunk:_e}){const vt=_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength?_e.buffer:new Uint8Array(_e).buffer;if($===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(vt):this._queuedChunks.push(vt);else{const bt=this._rangeReaders.some(function(xt){return xt._begin!==$?!1:(xt._enqueue(vt),!0)});assert(bt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}_onProgress($){var _e,vt,bt,xt;$.total===void 0?(vt=(_e=this._rangeReaders[0])==null?void 0:_e.onProgress)==null||vt.call(_e,{loaded:$.loaded}):(xt=(bt=this._fullRequestReader)==null?void 0:bt.onProgress)==null||xt.call(bt,{loaded:$.loaded,total:$.total})}_onProgressiveDone(){var $;($=this._fullRequestReader)==null||$.progressiveDone(),this._progressiveDone=!0}_removeRangeReader($){const _e=this._rangeReaders.indexOf($);_e>=0&&this._rangeReaders.splice(_e,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const $=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,$,this._progressiveDone,this._contentDispositionFilename)}getRangeReader($,_e){if(_e<=this._progressiveDataLength)return null;const vt=new PDFDataTransportStreamRangeReader(this,$,_e);return this._pdfDataRangeTransport.requestDataRange($,_e),this._rangeReaders.push(vt),vt}cancelAllRequests($){var _e;(_e=this._fullRequestReader)==null||_e.cancel($);for(const vt of this._rangeReaders.slice(0))vt.cancel($);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor($,_e,vt=!1,bt=null){this._stream=$,this._done=vt||!1,this._filename=isPdfFile(bt)?bt:null,this._queuedChunks=_e||[],this._loaded=0;for(const xt of this._queuedChunks)this._loaded+=xt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),$._fullRequestReader=this,this.onProgress=null}_enqueue($){this._done||(this._requests.length>0?this._requests.shift().resolve({value:$,done:!1}):this._queuedChunks.push($),this._loaded+=$.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor($,_e,vt){this._stream=$,this._begin=_e,this._end=vt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue($){if(!this._done){if(this._requests.length===0)this._queuedChunk=$;else{this._requests.shift().resolve({value:$,done:!1});for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _e=this._queuedChunk;return this._queuedChunk=null,{value:_e,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(ht){let $=!0,_e=vt("filename\\*","i").exec(ht);if(_e){_e=_e[1];let St=At(_e);return St=unescape(St),St=wt(St),St=Ct(St),xt(St)}if(_e=Et(ht),_e){const St=Ct(_e);return xt(St)}if(_e=vt("filename","i").exec(ht),_e){_e=_e[1];let St=At(_e);return St=Ct(St),xt(St)}function vt(St,Rt){return new RegExp("(?:^|;)\\s*"+St+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Rt)}function bt(St,Rt){if(St){if(!/^[\x00-\xFF]+$/.test(Rt))return Rt;try{const Pt=new TextDecoder(St,{fatal:!0}),kt=stringToBytes(Rt);Rt=Pt.decode(kt),$=!1}catch{}}return Rt}function xt(St){return $&&/[\x80-\xff]/.test(St)&&(St=bt("utf-8",St),$&&(St=bt("iso-8859-1",St))),St}function Et(St){const Rt=[];let Pt;const kt=vt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Pt=kt.exec(St))!==null;){let[,Dt,$t,Ft]=Pt;if(Dt=parseInt(Dt,10),Dt in Rt){if(Dt===0)break;continue}Rt[Dt]=[$t,Ft]}const Mt=[];for(let Dt=0;Dt<Rt.length&&Dt in Rt;++Dt){let[$t,Ft]=Rt[Dt];Ft=At(Ft),$t&&(Ft=unescape(Ft),Dt===0&&(Ft=wt(Ft))),Mt.push(Ft)}return Mt.join("")}function At(St){if(St.startsWith('"')){const Rt=St.slice(1).split('\\"');for(let Pt=0;Pt<Rt.length;++Pt){const kt=Rt[Pt].indexOf('"');kt!==-1&&(Rt[Pt]=Rt[Pt].slice(0,kt),Rt.length=Pt+1),Rt[Pt]=Rt[Pt].replaceAll(/\\(.)/g,"$1")}St=Rt.join('"')}return St}function wt(St){const Rt=St.indexOf("'");if(Rt===-1)return St;const Pt=St.slice(0,Rt),Mt=St.slice(Rt+1).replace(/^[^']*'/,"");return bt(Pt,Mt)}function Ct(St){return!St.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(St)?St:St.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Rt,Pt,kt,Mt){if(kt==="q"||kt==="Q")return Mt=Mt.replaceAll("_"," "),Mt=Mt.replaceAll(/=([0-9a-fA-F]{2})/g,function(Dt,$t){return String.fromCharCode(parseInt($t,16))}),bt(Pt,Mt);try{Mt=atob(Mt)}catch{}return bt(Pt,Mt)})}return""}function validateRangeRequestCapabilities({getResponseHeader:ht,isHttp:$,rangeChunkSize:_e,disableRange:vt}){const bt={allowRangeRequests:!1,suggestedLength:void 0},xt=parseInt(ht("Content-Length"),10);return!Number.isInteger(xt)||(bt.suggestedLength=xt,xt<=2*_e)||vt||!$||ht("Accept-Ranges")!=="bytes"||(ht("Content-Encoding")||"identity")!=="identity"||(bt.allowRangeRequests=!0),bt}function extractFilenameFromHeader(ht){const $=ht("Content-Disposition");if($){let _e=getFilenameFromContentDispositionHeader($);if(_e.includes("%"))try{_e=decodeURIComponent(_e)}catch{}if(isPdfFile(_e))return _e}return null}function createResponseStatusError(ht,$){return ht===404||ht===0&&$.startsWith("file:")?new MissingPDFException('Missing PDF "'+$+'".'):new UnexpectedResponseException(`Unexpected server response (${ht}) while retrieving PDF "${$}".`,ht)}function validateResponseStatus(ht){return ht===200||ht===206}function createFetchOptions(ht,$,_e){return{method:"GET",headers:ht,signal:_e.signal,mode:"cors",credentials:$?"include":"same-origin",redirect:"follow"}}function createHeaders(ht){const $=new Headers;for(const _e in ht){const vt=ht[_e];vt!==void 0&&$.append(_e,vt)}return $}function getArrayBuffer(ht){return ht instanceof Uint8Array?ht.buffer:ht instanceof ArrayBuffer?ht:(warn(`getArrayBuffer - unexpected data format: ${ht}`),new Uint8Array(ht).buffer)}class PDFFetchStream{constructor($){this.source=$,this.isHttp=/^https?:/i.test($.url),this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader($,_e){if(_e<=this._progressiveDataLength)return null;const vt=new PDFFetchStreamRangeReader(this,$,_e);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var _e;(_e=this._fullRequestReader)==null||_e.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class PDFFetchStreamReader{constructor($){this._stream=$,this._reader=null,this._loaded=0,this._filename=null;const _e=$.source;this._withCredentials=_e.withCredentials||!1,this._contentLength=_e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=_e.disableRange||!1,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!_e.disableStream,this._isRangeSupported=!_e.disableRange,this._headers=createHeaders(this._stream.httpHeaders);const vt=_e.url;fetch(vt,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(bt=>{if(!validateResponseStatus(bt.status))throw createResponseStatusError(bt.status,vt);this._reader=bt.body.getReader(),this._headersCapability.resolve();const xt=wt=>bt.headers.get(wt),{allowRangeRequests:Et,suggestedLength:At}=validateRangeRequestCapabilities({getResponseHeader:xt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Et,this._contentLength=At||this._contentLength,this._filename=extractFilenameFromHeader(xt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._headersCapability.promise;const{value:$,done:_e}=await this._reader.read();return _e?{value:$,done:_e}:(this._loaded+=$.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer($),done:!1})}cancel($){var _e;(_e=this._reader)==null||_e.cancel($),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor($,_e,vt){this._stream=$,this._reader=null,this._loaded=0;const bt=$.source;this._withCredentials=bt.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!bt.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range",`bytes=${_e}-${vt-1}`);const xt=bt.url;fetch(xt,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(Et=>{if(!validateResponseStatus(Et.status))throw createResponseStatusError(Et.status,xt);this._readCapability.resolve(),this._reader=Et.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._readCapability.promise;const{value:$,done:_e}=await this._reader.read();return _e?{value:$,done:_e}:(this._loaded+=$.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:getArrayBuffer($),done:!1})}cancel($){var _e;(_e=this._reader)==null||_e.cancel($),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(ht){const $=ht.response;return typeof $!="string"?$:stringToBytes($).buffer}class NetworkManager{constructor($,_e={}){this.url=$,this.isHttp=/^https?:/i.test($),this.httpHeaders=this.isHttp&&_e.httpHeaders||Object.create(null),this.withCredentials=_e.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange($,_e,vt){const bt={begin:$,end:_e};for(const xt in vt)bt[xt]=vt[xt];return this.request(bt)}requestFull($){return this.request($)}request($){const _e=new XMLHttpRequest,vt=this.currXhrId++,bt=this.pendingRequests[vt]={xhr:_e};_e.open("GET",this.url),_e.withCredentials=this.withCredentials;for(const xt in this.httpHeaders){const Et=this.httpHeaders[xt];Et!==void 0&&_e.setRequestHeader(xt,Et)}return this.isHttp&&"begin"in $&&"end"in $?(_e.setRequestHeader("Range",`bytes=${$.begin}-${$.end-1}`),bt.expectedStatus=PARTIAL_CONTENT_RESPONSE):bt.expectedStatus=OK_RESPONSE,_e.responseType="arraybuffer",$.onError&&(_e.onerror=function(xt){$.onError(_e.status)}),_e.onreadystatechange=this.onStateChange.bind(this,vt),_e.onprogress=this.onProgress.bind(this,vt),bt.onHeadersReceived=$.onHeadersReceived,bt.onDone=$.onDone,bt.onError=$.onError,bt.onProgress=$.onProgress,_e.send(null),vt}onProgress($,_e){var bt;const vt=this.pendingRequests[$];vt&&((bt=vt.onProgress)==null||bt.call(vt,_e))}onStateChange($,_e){var wt,Ct,St;const vt=this.pendingRequests[$];if(!vt)return;const bt=vt.xhr;if(bt.readyState>=2&&vt.onHeadersReceived&&(vt.onHeadersReceived(),delete vt.onHeadersReceived),bt.readyState!==4||!($ in this.pendingRequests))return;if(delete this.pendingRequests[$],bt.status===0&&this.isHttp){(wt=vt.onError)==null||wt.call(vt,bt.status);return}const xt=bt.status||OK_RESPONSE;if(!(xt===OK_RESPONSE&&vt.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&xt!==vt.expectedStatus){(Ct=vt.onError)==null||Ct.call(vt,bt.status);return}const At=network_getArrayBuffer(bt);if(xt===PARTIAL_CONTENT_RESPONSE){const Rt=bt.getResponseHeader("Content-Range"),Pt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Rt);vt.onDone({begin:parseInt(Pt[1],10),chunk:At})}else At?vt.onDone({begin:0,chunk:At}):(St=vt.onError)==null||St.call(vt,bt.status)}getRequestXhr($){return this.pendingRequests[$].xhr}isPendingRequest($){return $ in this.pendingRequests}abortRequest($){const _e=this.pendingRequests[$].xhr;delete this.pendingRequests[$],_e.abort()}}class PDFNetworkStream{constructor($){this._source=$,this._manager=new NetworkManager($.url,{httpHeaders:$.httpHeaders,withCredentials:$.withCredentials}),this._rangeChunkSize=$.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed($){const _e=this._rangeRequestReaders.indexOf($);_e>=0&&this._rangeRequestReaders.splice(_e,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader($,_e){const vt=new PDFNetworkStreamRangeRequestReader(this._manager,$,_e);return vt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var _e;(_e=this._fullRequestReader)==null||_e.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class PDFNetworkStreamFullRequestReader{constructor($,_e){this._manager=$;const vt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_e.url,this._fullRequestId=$.requestFull(vt),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=_e.disableRange||!1,this._contentLength=_e.length,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const $=this._fullRequestId,_e=this._manager.getRequestXhr($),vt=Et=>_e.getResponseHeader(Et),{allowRangeRequests:bt,suggestedLength:xt}=validateRangeRequestCapabilities({getResponseHeader:vt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});bt&&(this._isRangeSupported=!0),this._contentLength=xt||this._contentLength,this._filename=extractFilenameFromHeader(vt),this._isRangeSupported&&this._manager.abortRequest($),this._headersReceivedCapability.resolve()}_onDone($){if($&&(this._requests.length>0?this._requests.shift().resolve({value:$.chunk,done:!1}):this._cachedChunks.push($.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError($){this._storedError=createResponseStatusError($,this._url),this._headersReceivedCapability.reject(this._storedError);for(const _e of this._requests)_e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress($){var _e;(_e=this.onProgress)==null||_e.call(this,{loaded:$.loaded,total:$.lengthComputable?$.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0,this._headersReceivedCapability.reject($);for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor($,_e,vt){this._manager=$;const bt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=$.url,this._requestId=$.requestRange(_e,vt,bt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var $;($=this.onClosed)==null||$.call(this,this)}_onDone($){const _e=$.chunk;this._requests.length>0?this._requests.shift().resolve({value:_e,done:!1}):this._queuedChunk=_e,this._done=!0;for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError($){this._storedError=createResponseStatusError($,this._url);for(const _e of this._requests)_e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress($){var _e;this.isStreamingSupported||(_e=this.onProgress)==null||_e.call(this,{loaded:$.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const _e=this._queuedChunk;return this._queuedChunk=null,{value:_e,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(ht){const $=NodePackages.get("url"),_e=$.parse(ht);return _e.protocol==="file:"||_e.host?_e:/^[a-z]:[/\\]/i.test(ht)?$.parse(`file:///${ht}`):(_e.host||(_e.protocol="file:"),_e)}class PDFNodeStream{constructor($){this.source=$,this.url=parseUrl($.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader($,_e){if(_e<=this._progressiveDataLength)return null;const vt=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,$,_e):new PDFNodeStreamRangeReader(this,$,_e);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var _e;(_e=this._fullRequestReader)==null||_e.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class BaseFullReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null;const _e=$.source;this._contentLength=_e.length,this._loaded=0,this._filename=null,this._disableRange=_e.disableRange||!1,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!_e.disableStream,this._isRangeSupported=!_e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",_e=>{this._error(_e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const _e=$.source;this._isStreamingSupported=!_e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",_e=>{this._error(_e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(ht,$){return{protocol:ht.protocol,auth:ht.auth,host:ht.hostname,port:ht.port,path:ht.path,method:"GET",headers:$}}class PDFNodeStreamFullReader extends BaseFullReader{constructor($){super($);const _e=vt=>{if(vt.statusCode===404){const At=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=At,this._headersCapability.reject(At);return}this._headersCapability.resolve(),this._setReadableStream(vt);const bt=At=>this._readableStream.headers[At.toLowerCase()],{allowRangeRequests:xt,suggestedLength:Et}=validateRangeRequestCapabilities({getResponseHeader:bt,isHttp:$.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=xt,this._contentLength=Et||this._contentLength,this._filename=extractFilenameFromHeader(bt)};if(this._request=null,this._url.protocol==="http:"){const vt=NodePackages.get("http");this._request=vt.request(createRequestOptions(this._url,$.httpHeaders),_e)}else{const vt=NodePackages.get("https");this._request=vt.request(createRequestOptions(this._url,$.httpHeaders),_e)}this._request.on("error",vt=>{this._storedError=vt,this._headersCapability.reject(vt)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor($,_e,vt){super($),this._httpHeaders={};for(const xt in $.httpHeaders){const Et=$.httpHeaders[xt];Et!==void 0&&(this._httpHeaders[xt]=Et)}this._httpHeaders.Range=`bytes=${_e}-${vt-1}`;const bt=xt=>{if(xt.statusCode===404){const Et=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Et;return}this._setReadableStream(xt)};if(this._request=null,this._url.protocol==="http:"){const xt=NodePackages.get("http");this._request=xt.request(createRequestOptions(this._url,this._httpHeaders),bt)}else{const xt=NodePackages.get("https");this._request=xt.request(createRequestOptions(this._url,this._httpHeaders),bt)}this._request.on("error",xt=>{this._storedError=xt}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor($){super($);let _e=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(_e=_e.replace(/^\//,""));const vt=NodePackages.get("fs");vt.promises.lstat(_e).then(bt=>{this._contentLength=bt.size,this._setReadableStream(vt.createReadStream(_e)),this._headersCapability.resolve()},bt=>{bt.code==="ENOENT"&&(bt=new MissingPDFException(`Missing PDF "${_e}".`)),this._storedError=bt,this._headersCapability.reject(bt)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor($,_e,vt){super($);let bt=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(bt=bt.replace(/^\//,""));const xt=NodePackages.get("fs");this._setReadableStream(xt.createReadStream(bt,{start:_e,end:vt-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var wE,Tu,xo,ov,av,hp,Ql,lv,cv,fp,Am,_m,Pu,wm,uv,Sm,pp,dv,hv,gp,mp,Cm,fu,ZE,QE,qx,Uu,my,JE;const Bo=class Bo{constructor({textContentSource:$,container:_e,viewport:vt}){Gt(this,fu);Gt(this,Tu,Promise.withResolvers());Gt(this,xo,null);Gt(this,ov,!1);Gt(this,av,!!((wE=globalThis.FontInspector)!=null&&wE.enabled));Gt(this,hp,null);Gt(this,Ql,null);Gt(this,lv,0);Gt(this,cv,0);Gt(this,fp,null);Gt(this,Am,null);Gt(this,_m,0);Gt(this,Pu,0);Gt(this,wm,Object.create(null));Gt(this,uv,[]);Gt(this,Sm,null);Gt(this,pp,[]);Gt(this,dv,new WeakMap);Gt(this,hv,null);if($ instanceof ReadableStream)Wt(this,Sm,$);else if(typeof $=="object")Wt(this,Sm,new ReadableStream({start(wt){wt.enqueue($),wt.close()}}));else throw new Error('No "textContentSource" parameter specified.');Wt(this,xo,Wt(this,Am,_e)),Wt(this,Pu,vt.scale*(globalThis.devicePixelRatio||1)),Wt(this,_m,vt.rotation),Wt(this,Ql,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:bt,pageHeight:xt,pageX:Et,pageY:At}=vt.rawDims;Wt(this,hv,[1,0,0,-1,-Et,At+xt]),Wt(this,cv,bt),Wt(this,lv,xt),setLayerDimensions(_e,vt),_t(this,Tu).promise.catch(()=>{}).then(()=>{_t(Bo,Cm).delete(this),Wt(this,Ql,null),Wt(this,wm,null)})}render(){const $=()=>{_t(this,fp).read().then(({value:_e,done:vt})=>{if(vt){_t(this,Tu).resolve();return}_t(this,hp)??Wt(this,hp,_e.lang),Object.assign(_t(this,wm),_e.styles),Ut(this,fu,ZE).call(this,_e.items),$()},_t(this,Tu).reject)};return Wt(this,fp,_t(this,Sm).getReader()),_t(Bo,Cm).add(this),$(),_t(this,Tu).promise}update({viewport:$,onBefore:_e=null}){var xt;const vt=$.scale*(globalThis.devicePixelRatio||1),bt=$.rotation;if(bt!==_t(this,_m)&&(_e==null||_e(),Wt(this,_m,bt),setLayerDimensions(_t(this,Am),{rotation:bt})),vt!==_t(this,Pu)){_e==null||_e(),Wt(this,Pu,vt);const Et={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Ut(xt=Bo,Uu,my).call(xt,_t(this,hp))};for(const At of _t(this,pp))Et.properties=_t(this,dv).get(At),Et.div=At,Ut(this,fu,qx).call(this,Et)}}cancel(){var _e;const $=new AbortException("TextLayer task cancelled.");(_e=_t(this,fp))==null||_e.cancel($).catch(()=>{}),Wt(this,fp,null),_t(this,Tu).reject($)}get textDivs(){return _t(this,pp)}get textContentItemsStr(){return _t(this,uv)}static cleanup(){if(!(_t(this,Cm).size>0)){_t(this,gp).clear();for(const{canvas:$}of _t(this,mp).values())$.remove();_t(this,mp).clear()}}};Tu=new WeakMap,xo=new WeakMap,ov=new WeakMap,av=new WeakMap,hp=new WeakMap,Ql=new WeakMap,lv=new WeakMap,cv=new WeakMap,fp=new WeakMap,Am=new WeakMap,_m=new WeakMap,Pu=new WeakMap,wm=new WeakMap,uv=new WeakMap,Sm=new WeakMap,pp=new WeakMap,dv=new WeakMap,hv=new WeakMap,gp=new WeakMap,mp=new WeakMap,Cm=new WeakMap,fu=new WeakSet,ZE=function($){var bt,xt;if(_t(this,ov))return;(xt=_t(this,Ql)).ctx||(xt.ctx=Ut(bt=Bo,Uu,my).call(bt,_t(this,hp)));const _e=_t(this,pp),vt=_t(this,uv);for(const Et of $){if(_e.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),Wt(this,ov,!0);return}if(Et.str===void 0){if(Et.type==="beginMarkedContentProps"||Et.type==="beginMarkedContent"){const At=_t(this,xo);Wt(this,xo,document.createElement("span")),_t(this,xo).classList.add("markedContent"),Et.id!==null&&_t(this,xo).setAttribute("id",`${Et.id}`),At.append(_t(this,xo))}else Et.type==="endMarkedContent"&&Wt(this,xo,_t(this,xo).parentNode);continue}vt.push(Et.str),Ut(this,fu,QE).call(this,Et)}},QE=function($){var Dt;const _e=document.createElement("span"),vt={angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,fontSize:0};_t(this,pp).push(_e);const bt=Util.transform(_t(this,hv),$.transform);let xt=Math.atan2(bt[1],bt[0]);const Et=_t(this,wm)[$.fontName];Et.vertical&&(xt+=Math.PI/2);const At=_t(this,av)&&Et.fontSubstitution||Et.fontFamily,wt=Math.hypot(bt[2],bt[3]),Ct=wt*Ut(Dt=Bo,Uu,JE).call(Dt,At,_t(this,hp));let St,Rt;xt===0?(St=bt[4],Rt=bt[5]-Ct):(St=bt[4]+Ct*Math.sin(xt),Rt=bt[5]-Ct*Math.cos(xt));const Pt="calc(var(--scale-factor)*",kt=_e.style;_t(this,xo)===_t(this,Am)?(kt.left=`${(100*St/_t(this,cv)).toFixed(2)}%`,kt.top=`${(100*Rt/_t(this,lv)).toFixed(2)}%`):(kt.left=`${Pt}${St.toFixed(2)}px)`,kt.top=`${Pt}${Rt.toFixed(2)}px)`),kt.fontSize=`${Pt}${wt.toFixed(2)}px)`,kt.fontFamily=At,vt.fontSize=wt,_e.setAttribute("role","presentation"),_e.textContent=$.str,_e.dir=$.dir,_t(this,av)&&(_e.dataset.fontName=Et.fontSubstitutionLoadedName||$.fontName),xt!==0&&(vt.angle=xt*(180/Math.PI));let Mt=!1;if($.str.length>1)Mt=!0;else if($.str!==" "&&$.transform[0]!==$.transform[3]){const $t=Math.abs($.transform[0]),Ft=Math.abs($.transform[3]);$t!==Ft&&Math.max($t,Ft)/Math.min($t,Ft)>1.5&&(Mt=!0)}if(Mt&&(vt.canvasWidth=Et.vertical?$.height:$.width),_t(this,dv).set(_e,vt),_t(this,Ql).div=_e,_t(this,Ql).properties=vt,Ut(this,fu,qx).call(this,_t(this,Ql)),vt.hasText&&_t(this,xo).append(_e),vt.hasEOL){const $t=document.createElement("br");$t.setAttribute("role","presentation"),_t(this,xo).append($t)}},qx=function($){const{div:_e,properties:vt,ctx:bt,prevFontSize:xt,prevFontFamily:Et}=$,{style:At}=_e;let wt="";if(vt.canvasWidth!==0&&vt.hasText){const{fontFamily:Ct}=At,{canvasWidth:St,fontSize:Rt}=vt;(xt!==Rt||Et!==Ct)&&(bt.font=`${Rt*_t(this,Pu)}px ${Ct}`,$.prevFontSize=Rt,$.prevFontFamily=Ct);const{width:Pt}=bt.measureText(_e.textContent);Pt>0&&(wt=`scaleX(${St*_t(this,Pu)/Pt})`)}vt.angle!==0&&(wt=`rotate(${vt.angle}deg) ${wt}`),wt.length>0&&(At.transform=wt)},Uu=new WeakSet,my=function($=null){let _e=_t(this,mp).get($||($=""));if(!_e){const vt=document.createElement("canvas");vt.className="hiddenCanvasElement",vt.lang=$,document.body.append(vt),_e=vt.getContext("2d",{alpha:!1}),_t(this,mp).set($,_e)}return _e},JE=function($,_e){const vt=_t(this,gp).get($);if(vt)return vt;const bt=Ut(this,Uu,my).call(this,_e),xt=bt.font;bt.canvas.width=bt.canvas.height=DEFAULT_FONT_SIZE,bt.font=`${DEFAULT_FONT_SIZE}px ${$}`;const Et=bt.measureText("");let At=Et.fontBoundingBoxAscent,wt=Math.abs(Et.fontBoundingBoxDescent);if(At){const Rt=At/(At+wt);return _t(this,gp).set($,Rt),bt.canvas.width=bt.canvas.height=0,bt.font=xt,Rt}bt.strokeStyle="red",bt.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),bt.strokeText("g",0,0);let Ct=bt.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;wt=0;for(let Rt=Ct.length-1-3;Rt>=0;Rt-=4)if(Ct[Rt]>0){wt=Math.ceil(Rt/4/DEFAULT_FONT_SIZE);break}bt.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),bt.strokeText("A",0,DEFAULT_FONT_SIZE),Ct=bt.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,At=0;for(let Rt=0,Pt=Ct.length;Rt<Pt;Rt+=4)if(Ct[Rt]>0){At=DEFAULT_FONT_SIZE-Math.floor(Rt/4/DEFAULT_FONT_SIZE);break}bt.canvas.width=bt.canvas.height=0,bt.font=xt;const St=At?At/(At+wt):DEFAULT_FONT_ASCENT;return _t(this,gp).set($,St),St},Gt(Bo,Uu),Gt(Bo,gp,new Map),Gt(Bo,mp,new Map),Gt(Bo,Cm,new Set);let TextLayer=Bo;function renderTextLayer(){deprecated("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:ht,container:$,viewport:_e,...vt}=arguments[0],bt=Object.keys(vt);bt.length>0&&warn("Ignoring `renderTextLayer` parameters: "+bt.join(", "));const xt=new TextLayer({textContentSource:ht,container:$,viewport:_e}),{textDivs:Et,textContentItemsStr:At}=xt;return{promise:xt.render(),textDivs:Et,textContentItemsStr:At}}function updateTextLayer(){deprecated("`updateTextLayer`, please use `TextLayer` instead.")}class XfaText{static textContent($){const _e=[],vt={items:_e,styles:Object.create(null)};function bt(xt){var wt;if(!xt)return;let Et=null;const At=xt.name;if(At==="#text")Et=xt.value;else if(XfaText.shouldBuildText(At))(wt=xt==null?void 0:xt.attributes)!=null&&wt.textContent?Et=xt.attributes.textContent:xt.value&&(Et=xt.value);else return;if(Et!==null&&_e.push({str:Et}),!!xt.children)for(const Ct of xt.children)bt(Ct)}return bt($),vt}static shouldBuildText($){return!($==="textarea"||$==="input"||$==="option"||$==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(ht){if(typeof ht=="string"||ht instanceof URL?ht={url:ht}:(ht instanceof ArrayBuffer||ArrayBuffer.isView(ht))&&(ht={data:ht}),typeof ht!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ht.url&&!ht.data&&!ht.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const $=new PDFDocumentLoadingTask,{docId:_e}=$,vt=ht.url?getUrlProp(ht.url):null,bt=ht.data?getDataProp(ht.data):null,xt=ht.httpHeaders||null,Et=ht.withCredentials===!0,At=ht.password??null,wt=ht.range instanceof PDFDataRangeTransport?ht.range:null,Ct=Number.isInteger(ht.rangeChunkSize)&&ht.rangeChunkSize>0?ht.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let St=ht.worker instanceof PDFWorker?ht.worker:null;const Rt=ht.verbosity,Pt=typeof ht.docBaseUrl=="string"&&!isDataScheme(ht.docBaseUrl)?ht.docBaseUrl:null,kt=typeof ht.cMapUrl=="string"?ht.cMapUrl:null,Mt=ht.cMapPacked!==!1,Dt=ht.CMapReaderFactory||DefaultCMapReaderFactory,$t=typeof ht.standardFontDataUrl=="string"?ht.standardFontDataUrl:null,Ft=ht.StandardFontDataFactory||DefaultStandardFontDataFactory,Lt=ht.stopAtErrors!==!0,Ot=Number.isInteger(ht.maxImageSize)&&ht.maxImageSize>-1?ht.maxImageSize:-1,Ht=ht.isEvalSupported!==!1,Nt=typeof ht.isOffscreenCanvasSupported=="boolean"?ht.isOffscreenCanvasSupported:!isNodeJS,Bt=Number.isInteger(ht.canvasMaxAreaInBytes)?ht.canvasMaxAreaInBytes:-1,jt=typeof ht.disableFontFace=="boolean"?ht.disableFontFace:isNodeJS,zt=ht.fontExtraProperties===!0,Kt=ht.enableXfa===!0,nn=ht.ownerDocument||globalThis.document,qt=ht.disableRange===!0,en=ht.disableStream===!0,on=ht.disableAutoFetch===!0,_n=ht.pdfBug===!0,dn=wt?wt.length:ht.length??NaN,En=typeof ht.useSystemFonts=="boolean"?ht.useSystemFonts:!isNodeJS&&!jt,cn=typeof ht.useWorkerFetch=="boolean"?ht.useWorkerFetch:Dt===DOMCMapReaderFactory&&Ft===DOMStandardFontDataFactory&&kt&&$t&&isValidFetchUrl(kt,document.baseURI)&&isValidFetchUrl($t,document.baseURI),hn=ht.canvasFactory||new DefaultCanvasFactory({ownerDocument:nn}),tn=ht.filterFactory||new DefaultFilterFactory({docId:_e,ownerDocument:nn}),gn=null;setVerbosityLevel(Rt);const Sn={canvasFactory:hn,filterFactory:tn};if(cn||(Sn.cMapReaderFactory=new Dt({baseUrl:kt,isCompressed:Mt}),Sn.standardFontDataFactory=new Ft({baseUrl:$t})),!St){const Yt={verbosity:Rt,port:GlobalWorkerOptions.workerPort};St=Yt.port?PDFWorker.fromPort(Yt):new PDFWorker(Yt),$._worker=St}const rn={docId:_e,apiVersion:"4.3.136",data:bt,password:At,disableAutoFetch:on,rangeChunkSize:Ct,length:dn,docBaseUrl:Pt,enableXfa:Kt,evaluatorOptions:{maxImageSize:Ot,disableFontFace:jt,ignoreErrors:Lt,isEvalSupported:Ht,isOffscreenCanvasSupported:Nt,canvasMaxAreaInBytes:Bt,fontExtraProperties:zt,useSystemFonts:En,cMapUrl:cn?kt:null,standardFontDataUrl:cn?$t:null}},Xt={disableFontFace:jt,fontExtraProperties:zt,ownerDocument:nn,pdfBug:_n,styleElement:gn,loadingParams:{disableAutoFetch:on,enableXfa:Kt}};return St.promise.then(function(){if($.destroyed)throw new Error("Loading aborted");if(St.destroyed)throw new Error("Worker was destroyed");const Yt=St.messageHandler.sendWithPromise("GetDocRequest",rn,bt?[bt.buffer]:null);let Jt;return wt?Jt=new PDFDataTransportStream(wt,{disableRange:qt,disableStream:en}):bt||(Jt=(ln=>isNodeJS?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&isValidFetchUrl(ln.url)?new PDFFetchStream(ln):new PDFNodeStream(ln):isValidFetchUrl(ln.url)?new PDFFetchStream(ln):new PDFNetworkStream(ln))({url:vt,length:dn,httpHeaders:xt,withCredentials:Et,rangeChunkSize:Ct,disableRange:qt,disableStream:en})),Yt.then(un=>{if($.destroyed)throw new Error("Loading aborted");if(St.destroyed)throw new Error("Worker was destroyed");const ln=new MessageHandler(_e,un,St.port),fn=new WorkerTransport(ln,$,Jt,Xt,Sn);$._transport=fn,ln.send("Ready",null)})}).catch($._capability.reject),$}function getUrlProp(ht){if(ht instanceof URL)return ht.href;try{return new URL(ht,window.location).href}catch{if(isNodeJS&&typeof ht=="string")return ht}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ht){if(isNodeJS&&typeof Buffer<"u"&&ht instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ht instanceof Uint8Array&&ht.byteLength===ht.buffer.byteLength)return ht;if(typeof ht=="string")return stringToBytes(ht);if(ht instanceof ArrayBuffer||ArrayBuffer.isView(ht)||typeof ht=="object"&&!isNaN(ht==null?void 0:ht.length))return new Uint8Array(ht);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(ht){return typeof ht=="object"&&Number.isInteger(ht==null?void 0:ht.num)&&ht.num>=0&&Number.isInteger(ht==null?void 0:ht.gen)&&ht.gen>=0}var rx;const sx=class sx{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${eo(sx,rx)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var $,_e,vt;this.destroyed=!0;try{($=this._worker)!=null&&$.port&&(this._worker._pendingDestroy=!0),await((_e=this._transport)==null?void 0:_e.destroy())}catch(bt){throw(vt=this._worker)!=null&&vt.port&&delete this._worker._pendingDestroy,bt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};rx=new WeakMap,Gt(sx,rx,0);let PDFDocumentLoadingTask=sx;class PDFDataRangeTransport{constructor($,_e,vt=!1,bt=null){this.length=$,this.initialData=_e,this.progressiveDone=vt,this.contentDispositionFilename=bt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener($){this._rangeListeners.push($)}addProgressListener($){this._progressListeners.push($)}addProgressiveReadListener($){this._progressiveReadListeners.push($)}addProgressiveDoneListener($){this._progressiveDoneListeners.push($)}onDataRange($,_e){for(const vt of this._rangeListeners)vt($,_e)}onDataProgress($,_e){this._readyCapability.promise.then(()=>{for(const vt of this._progressListeners)vt($,_e)})}onDataProgressiveRead($){this._readyCapability.promise.then(()=>{for(const _e of this._progressiveReadListeners)_e($)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const $ of this._progressiveDoneListeners)$()})}transportReady(){this._readyCapability.resolve()}requestDataRange($,_e){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class PDFDocumentProxy{constructor($,_e){this._pdfInfo=$,this._transport=_e}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage($){return this._transport.getPage($)}getPageIndex($){return this._transport.getPageIndex($)}getDestinations(){return this._transport.getDestinations()}getDestination($){return this._transport.getDestination($)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:$="display"}={}){const{renderingIntent:_e}=this._transport.getRenderingIntent($);return this._transport.getOptionalContentConfig(_e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup($=!1){return this._transport.startCleanup($||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber($){return this._transport.cachedPageNumber($)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ku,Jl,Oo,Jp,vy;class PDFPageProxy{constructor($,_e,vt,bt=!1){Gt(this,Oo);Gt(this,ku,null);Gt(this,Jl,!1);this._pageIndex=$,this._pageInfo=_e,this._transport=vt,this._stats=bt?new StatTimer:null,this._pdfBug=bt,this.commonObjs=vt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:$,rotation:_e=this.rotate,offsetX:vt=0,offsetY:bt=0,dontFlip:xt=!1}={}){return new PageViewport({viewBox:this.view,scale:$,rotation:_e,offsetX:vt,offsetY:bt,dontFlip:xt})}getAnnotations({intent:$="display"}={}){const{renderingIntent:_e}=this._transport.getRenderingIntent($);return this._transport.getAnnotations(this._pageIndex,_e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var $;return(($=this._transport._htmlForXfa)==null?void 0:$.children[this._pageIndex])||null}render({canvasContext:$,viewport:_e,intent:vt="display",annotationMode:bt=AnnotationMode.ENABLE,transform:xt=null,background:Et=null,optionalContentConfigPromise:At=null,annotationCanvasMap:wt=null,pageColors:Ct=null,printAnnotationStorage:St=null}){var Ot,Ht;(Ot=this._stats)==null||Ot.time("Overall");const Rt=this._transport.getRenderingIntent(vt,bt,St),{renderingIntent:Pt,cacheKey:kt}=Rt;Wt(this,Jl,!1),Ut(this,Oo,vy).call(this),At||(At=this._transport.getOptionalContentConfig(Pt));let Mt=this._intentStates.get(kt);Mt||(Mt=Object.create(null),this._intentStates.set(kt,Mt)),Mt.streamReaderCancelTimeout&&(clearTimeout(Mt.streamReaderCancelTimeout),Mt.streamReaderCancelTimeout=null);const Dt=!!(Pt&RenderingIntentFlag.PRINT);Mt.displayReadyCapability||(Mt.displayReadyCapability=Promise.withResolvers(),Mt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ht=this._stats)==null||Ht.time("Page Request"),this._pumpOperatorList(Rt));const $t=Nt=>{var Bt;Mt.renderTasks.delete(Ft),(this._maybeCleanupAfterRender||Dt)&&Wt(this,Jl,!0),Ut(this,Oo,Jp).call(this,!Dt),Nt?(Ft.capability.reject(Nt),this._abortOperatorList({intentState:Mt,reason:Nt instanceof Error?Nt:new Error(Nt)})):Ft.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Bt=globalThis.Stats)!=null&&Bt.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Ft=new InternalRenderTask({callback:$t,params:{canvasContext:$,viewport:_e,transform:xt,background:Et},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:wt,operatorList:Mt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Dt,pdfBug:this._pdfBug,pageColors:Ct});(Mt.renderTasks||(Mt.renderTasks=new Set)).add(Ft);const Lt=Ft.task;return Promise.all([Mt.displayReadyCapability.promise,At]).then(([Nt,Bt])=>{var jt;if(this.destroyed){$t();return}if((jt=this._stats)==null||jt.time("Rendering"),!(Bt.renderingIntent&Pt))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Ft.initializeGraphics({transparency:Nt,optionalContentConfig:Bt}),Ft.operatorListChanged()}).catch($t),Lt}getOperatorList({intent:$="display",annotationMode:_e=AnnotationMode.ENABLE,printAnnotationStorage:vt=null}={}){var wt;function bt(){Et.operatorList.lastChunk&&(Et.opListReadCapability.resolve(Et.operatorList),Et.renderTasks.delete(At))}const xt=this._transport.getRenderingIntent($,_e,vt,!0);let Et=this._intentStates.get(xt.cacheKey);Et||(Et=Object.create(null),this._intentStates.set(xt.cacheKey,Et));let At;return Et.opListReadCapability||(At=Object.create(null),At.operatorListChanged=bt,Et.opListReadCapability=Promise.withResolvers(),(Et.renderTasks||(Et.renderTasks=new Set)).add(At),Et.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(wt=this._stats)==null||wt.time("Page Request"),this._pumpOperatorList(xt)),Et.opListReadCapability.promise}streamTextContent({includeMarkedContent:$=!1,disableNormalization:_e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:$===!0,disableNormalization:_e===!0},{highWaterMark:100,size(bt){return bt.items.length}})}getTextContent($={}){if(this._transport._htmlForXfa)return this.getXfa().then(vt=>XfaText.textContent(vt));const _e=this.streamTextContent($);return new Promise(function(vt,bt){function xt(){Et.read().then(function({value:wt,done:Ct}){if(Ct){vt(At);return}At.lang??(At.lang=wt.lang),Object.assign(At.styles,wt.styles),At.items.push(...wt.items),xt()},bt)}const Et=_e.getReader(),At={items:[],styles:Object.create(null),lang:null};xt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const $=[];for(const _e of this._intentStates.values())if(this._abortOperatorList({intentState:_e,reason:new Error("Page was destroyed."),force:!0}),!_e.opListReadCapability)for(const vt of _e.renderTasks)$.push(vt.completed),vt.cancel();return this.objs.clear(),Wt(this,Jl,!1),Ut(this,Oo,vy).call(this),Promise.all($)}cleanup($=!1){Wt(this,Jl,!0);const _e=Ut(this,Oo,Jp).call(this,!1);return $&&_e&&this._stats&&(this._stats=new StatTimer),_e}_startRenderPage($,_e){var bt,xt;const vt=this._intentStates.get(_e);vt&&((bt=this._stats)==null||bt.timeEnd("Page Request"),(xt=vt.displayReadyCapability)==null||xt.resolve($))}_renderPageChunk($,_e){for(let vt=0,bt=$.length;vt<bt;vt++)_e.operatorList.fnArray.push($.fnArray[vt]),_e.operatorList.argsArray.push($.argsArray[vt]);_e.operatorList.lastChunk=$.lastChunk,_e.operatorList.separateAnnots=$.separateAnnots;for(const vt of _e.renderTasks)vt.operatorListChanged();$.lastChunk&&Ut(this,Oo,Jp).call(this,!0)}_pumpOperatorList({renderingIntent:$,cacheKey:_e,annotationStorageSerializable:vt}){const{map:bt,transfer:xt}=vt,At=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:$,cacheKey:_e,annotationStorage:bt},xt).getReader(),wt=this._intentStates.get(_e);wt.streamReader=At;const Ct=()=>{At.read().then(({value:St,done:Rt})=>{if(Rt){wt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(St,wt),Ct())},St=>{if(wt.streamReader=null,!this._transport.destroyed){if(wt.operatorList){wt.operatorList.lastChunk=!0;for(const Rt of wt.renderTasks)Rt.operatorListChanged();Ut(this,Oo,Jp).call(this,!0)}if(wt.displayReadyCapability)wt.displayReadyCapability.reject(St);else if(wt.opListReadCapability)wt.opListReadCapability.reject(St);else throw St}})};Ct()}_abortOperatorList({intentState:$,reason:_e,force:vt=!1}){if($.streamReader){if($.streamReaderCancelTimeout&&(clearTimeout($.streamReaderCancelTimeout),$.streamReaderCancelTimeout=null),!vt){if($.renderTasks.size>0)return;if(_e instanceof RenderingCancelledException){let bt=RENDERING_CANCELLED_TIMEOUT;_e.extraDelay>0&&_e.extraDelay<1e3&&(bt+=_e.extraDelay),$.streamReaderCancelTimeout=setTimeout(()=>{$.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:$,reason:_e,force:!0})},bt);return}}if($.streamReader.cancel(new AbortException(_e.message)).catch(()=>{}),$.streamReader=null,!this._transport.destroyed){for(const[bt,xt]of this._intentStates)if(xt===$){this._intentStates.delete(bt);break}this.cleanup()}}}get stats(){return this._stats}}ku=new WeakMap,Jl=new WeakMap,Oo=new WeakSet,Jp=function($=!1){if(Ut(this,Oo,vy).call(this),!_t(this,Jl)||this.destroyed)return!1;if($)return Wt(this,ku,setTimeout(()=>{Wt(this,ku,null),Ut(this,Oo,Jp).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:_e,operatorList:vt}of this._intentStates.values())if(_e.size>0||!vt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Wt(this,Jl,!1),!0},vy=function(){_t(this,ku)&&(clearTimeout(_t(this,ku)),Wt(this,ku,null))};var vp,ox;class LoopbackPort{constructor(){Gt(this,vp,new Set);Gt(this,ox,Promise.resolve())}postMessage($,_e){const vt={data:structuredClone($,_e?{transfer:_e}:null)};_t(this,ox).then(()=>{for(const bt of _t(this,vp))bt.call(this,vt)})}addEventListener($,_e){_t(this,vp).add(_e)}removeEventListener($,_e){_t(this,vp).delete(_e)}terminate(){_t(this,vp).clear()}}vp=new WeakMap,ox=new WeakMap;const PDFWorkerUtil={isWorkerDisabled:!1,fakeWorkerId:0};isNodeJS&&(PDFWorkerUtil.isWorkerDisabled=!0,GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),PDFWorkerUtil.isSameOrigin=function(ht,$){let _e;try{if(_e=new URL(ht),!_e.origin||_e.origin==="null")return!1}catch{return!1}const vt=new URL($,_e);return _e.origin===vt.origin},PDFWorkerUtil.createCDNWrapper=function(ht){const $=`await import("${ht}");`;return URL.createObjectURL(new Blob([$],{type:"text/javascript"}))};var yp,Rm,yy;const wo=class wo{constructor({name:$=null,port:_e=null,verbosity:vt=getVerbosityLevel()}={}){var bt;if(this.name=$,this.destroyed=!1,this.verbosity=vt,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,_e){if((bt=_t(wo,yp))!=null&&bt.has(_e))throw new Error("Cannot use more than one PDFWorker per port.");(_t(wo,yp)||Wt(wo,yp,new WeakMap)).set(_e,this),this._initializeFromPort(_e);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_t(wo,Rm,yy)){let{workerSrc:$}=wo;try{PDFWorkerUtil.isSameOrigin(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const _e=new Worker($,{type:"module"}),vt=new MessageHandler("main","worker",_e),bt=()=>{_e.removeEventListener("error",xt),vt.destroy(),_e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},xt=()=>{this._webWorker||bt()};_e.addEventListener("error",xt),vt.on("test",At=>{if(_e.removeEventListener("error",xt),this.destroyed){bt();return}At?(this._messageHandler=vt,this._port=_e,this._webWorker=_e,this._readyCapability.resolve(),vt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),vt.destroy(),_e.terminate())}),vt.on("ready",At=>{if(_e.removeEventListener("error",xt),this.destroyed){bt();return}try{Et()}catch{this._setupFakeWorker()}});const Et=()=>{const At=new Uint8Array;vt.send("test",At,[At.buffer])};Et();return}catch{info("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||(warn("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),wo._setupFakeWorkerGlobal.then($=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const _e=new LoopbackPort;this._port=_e;const vt=`fake${PDFWorkerUtil.fakeWorkerId++}`,bt=new MessageHandler(vt+"_worker",vt,_e);$.setup(bt,_e);const xt=new MessageHandler(vt,vt+"_worker",_e);this._messageHandler=xt,this._readyCapability.resolve(),xt.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){var $;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($=_t(wo,yp))==null||$.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){var vt;if(!($!=null&&$.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const _e=(vt=_t(this,yp))==null?void 0:vt.get($.port);if(_e){if(_e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return _e}return new wo($)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>_t(this,Rm,yy)?_t(this,Rm,yy):(await import(this.workerSrc)).WorkerMessageHandler)())}};yp=new WeakMap,Rm=new WeakSet,yy=function(){var $;try{return(($=globalThis.pdfjsWorker)==null?void 0:$.WorkerMessageHandler)||null}catch{return null}},Gt(wo,Rm),Gt(wo,yp);let PDFWorker=wo;var _c,_l,Tm,Pm,wl,bp,a0;class WorkerTransport{constructor($,_e,vt,bt,xt){Gt(this,bp);Gt(this,_c,new Map);Gt(this,_l,new Map);Gt(this,Tm,new Map);Gt(this,Pm,new Map);Gt(this,wl,null);this.messageHandler=$,this.loadingTask=_e,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:bt.ownerDocument,styleElement:bt.styleElement}),this.loadingParams=bt.loadingParams,this._params=bt,this.canvasFactory=xt.canvasFactory,this.filterFactory=xt.filterFactory,this.cMapReaderFactory=xt.cMapReaderFactory,this.standardFontDataFactory=xt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=vt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent($,_e=AnnotationMode.ENABLE,vt=null,bt=!1){let xt=RenderingIntentFlag.DISPLAY,Et=SerializableEmpty;switch($){case"any":xt=RenderingIntentFlag.ANY;break;case"display":break;case"print":xt=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${$}`)}switch(_e){case AnnotationMode.DISABLE:xt+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:xt+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:xt+=RenderingIntentFlag.ANNOTATIONS_STORAGE,Et=(xt&RenderingIntentFlag.PRINT&&vt instanceof PrintAnnotationStorage?vt:this.annotationStorage).serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${_e}`)}return bt&&(xt+=RenderingIntentFlag.OPLIST),{renderingIntent:xt,cacheKey:`${xt}_${Et.hash}`,annotationStorageSerializable:Et}}destroy(){var vt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(vt=_t(this,wl))==null||vt.reject(new Error("Worker was destroyed during onPassword callback"));const $=[];for(const bt of _t(this,_l).values())$.push(bt._destroy());_t(this,_l).clear(),_t(this,Tm).clear(),_t(this,Pm).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const _e=this.messageHandler.sendWithPromise("Terminate",null);return $.push(_e),Promise.all($).then(()=>{var bt;this.commonObjs.clear(),this.fontLoader.clear(),_t(this,_c).clear(),this.filterFactory.destroy(),TextLayer.cleanup(),(bt=this._networkStream)==null||bt.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:$,loadingTask:_e}=this;$.on("GetReader",(vt,bt)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=xt=>{this._lastProgress={loaded:xt.loaded,total:xt.total}},bt.onPull=()=>{this._fullReader.read().then(function({value:xt,done:Et}){if(Et){bt.close();return}assert(xt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),bt.enqueue(new Uint8Array(xt),1,[xt])}).catch(xt=>{bt.error(xt)})},bt.onCancel=xt=>{this._fullReader.cancel(xt),bt.ready.catch(Et=>{if(!this.destroyed)throw Et})}}),$.on("ReaderHeadersReady",vt=>{const bt=Promise.withResolvers(),xt=this._fullReader;return xt.headersReady.then(()=>{var Et;(!xt.isStreamingSupported||!xt.isRangeSupported)&&(this._lastProgress&&((Et=_e.onProgress)==null||Et.call(_e,this._lastProgress)),xt.onProgress=At=>{var wt;(wt=_e.onProgress)==null||wt.call(_e,{loaded:At.loaded,total:At.total})}),bt.resolve({isStreamingSupported:xt.isStreamingSupported,isRangeSupported:xt.isRangeSupported,contentLength:xt.contentLength})},bt.reject),bt.promise}),$.on("GetRangeReader",(vt,bt)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const xt=this._networkStream.getRangeReader(vt.begin,vt.end);if(!xt){bt.close();return}bt.onPull=()=>{xt.read().then(function({value:Et,done:At}){if(At){bt.close();return}assert(Et instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),bt.enqueue(new Uint8Array(Et),1,[Et])}).catch(Et=>{bt.error(Et)})},bt.onCancel=Et=>{xt.cancel(Et),bt.ready.catch(At=>{if(!this.destroyed)throw At})}}),$.on("GetDoc",({pdfInfo:vt})=>{this._numPages=vt.numPages,this._htmlForXfa=vt.htmlForXfa,delete vt.htmlForXfa,_e._capability.resolve(new PDFDocumentProxy(vt,this))}),$.on("DocException",function(vt){let bt;switch(vt.name){case"PasswordException":bt=new PasswordException(vt.message,vt.code);break;case"InvalidPDFException":bt=new InvalidPDFException(vt.message);break;case"MissingPDFException":bt=new MissingPDFException(vt.message);break;case"UnexpectedResponseException":bt=new UnexpectedResponseException(vt.message,vt.status);break;case"UnknownErrorException":bt=new UnknownErrorException(vt.message,vt.details);break;default:unreachable("DocException - expected a valid Error.")}_e._capability.reject(bt)}),$.on("PasswordRequest",vt=>{if(Wt(this,wl,Promise.withResolvers()),_e.onPassword){const bt=xt=>{xt instanceof Error?_t(this,wl).reject(xt):_t(this,wl).resolve({password:xt})};try{_e.onPassword(bt,vt.code)}catch(xt){_t(this,wl).reject(xt)}}else _t(this,wl).reject(new PasswordException(vt.message,vt.code));return _t(this,wl).promise}),$.on("DataLoaded",vt=>{var bt;(bt=_e.onProgress)==null||bt.call(_e,{loaded:vt.length,total:vt.length}),this.downloadInfoCapability.resolve(vt)}),$.on("StartRenderPage",vt=>{if(this.destroyed)return;_t(this,_l).get(vt.pageIndex)._startRenderPage(vt.transparency,vt.cacheKey)}),$.on("commonobj",([vt,bt,xt])=>{var Et;if(this.destroyed||this.commonObjs.has(vt))return null;switch(bt){case"Font":const{disableFontFace:At,fontExtraProperties:wt,pdfBug:Ct}=this._params;if("error"in xt){const kt=xt.error;warn(`Error during font loading: ${kt}`),this.commonObjs.resolve(vt,kt);break}const St=Ct&&((Et=globalThis.FontInspector)!=null&&Et.enabled)?(kt,Mt)=>globalThis.FontInspector.fontAdded(kt,Mt):null,Rt=new FontFaceObject(xt,{disableFontFace:At,inspectFont:St});this.fontLoader.bind(Rt).catch(()=>$.sendWithPromise("FontFallback",{id:vt})).finally(()=>{!wt&&Rt.data&&(Rt.data=null),this.commonObjs.resolve(vt,Rt)});break;case"CopyLocalImage":const{imageRef:Pt}=xt;assert(Pt,"The imageRef must be defined.");for(const kt of _t(this,_l).values())for(const[,Mt]of kt.objs)if((Mt==null?void 0:Mt.ref)===Pt)return Mt.dataLen?(this.commonObjs.resolve(vt,structuredClone(Mt)),Mt.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(vt,xt);break;default:throw new Error(`Got unknown common object type ${bt}`)}return null}),$.on("obj",([vt,bt,xt,Et])=>{var wt;if(this.destroyed)return;const At=_t(this,_l).get(bt);if(!At.objs.has(vt)){if(At._intentStates.size===0){(wt=Et==null?void 0:Et.bitmap)==null||wt.close();return}switch(xt){case"Image":At.objs.resolve(vt,Et),(Et==null?void 0:Et.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(At._maybeCleanupAfterRender=!0);break;case"Pattern":At.objs.resolve(vt,Et);break;default:throw new Error(`Got unknown object type ${xt}`)}}}),$.on("DocProgress",vt=>{var bt;this.destroyed||(bt=_e.onProgress)==null||bt.call(_e,{loaded:vt.loaded,total:vt.total})}),$.on("FetchBuiltInCMap",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(vt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),$.on("FetchStandardFontData",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(vt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var vt;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:$,transfer:_e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:$,filename:((vt=this._fullReader)==null?void 0:vt.filename)??null},_e).finally(()=>{this.annotationStorage.resetModified()})}getPage($){if(!Number.isInteger($)||$<=0||$>this._numPages)return Promise.reject(new Error("Invalid page request."));const _e=$-1,vt=_t(this,Tm).get(_e);if(vt)return vt;const bt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:_e}).then(xt=>{if(this.destroyed)throw new Error("Transport destroyed");xt.refStr&&_t(this,Pm).set(xt.refStr,$);const Et=new PDFPageProxy(_e,xt,this,this._params.pdfBug);return _t(this,_l).set(_e,Et),Et});return _t(this,Tm).set(_e,bt),bt}getPageIndex($){return isRefProxy($)?this.messageHandler.sendWithPromise("GetPageIndex",{num:$.num,gen:$.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations($,_e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:$,intent:_e})}getFieldObjects(){return Ut(this,bp,a0).call(this,"GetFieldObjects")}hasJSActions(){return Ut(this,bp,a0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination($){return typeof $!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:$})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ut(this,bp,a0).call(this,"GetDocJSActions")}getPageJSActions($){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:$})}getStructTree($){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:$})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig($){return Ut(this,bp,a0).call(this,"GetOptionalContentConfig").then(_e=>new OptionalContentConfig(_e,$))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const $="GetMetadata",_e=_t(this,_c).get($);if(_e)return _e;const vt=this.messageHandler.sendWithPromise($,null).then(bt=>{var xt,Et;return{info:bt[0],metadata:bt[1]?new Metadata(bt[1]):null,contentDispositionFilename:((xt=this._fullReader)==null?void 0:xt.filename)??null,contentLength:((Et=this._fullReader)==null?void 0:Et.contentLength)??null}});return _t(this,_c).set($,vt),vt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup($=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const _e of _t(this,_l).values())if(!_e.cleanup())throw new Error(`startCleanup: Page ${_e.pageNumber} is currently rendering.`);this.commonObjs.clear(),$||this.fontLoader.clear(),_t(this,_c).clear(),this.filterFactory.destroy(!0),TextLayer.cleanup()}}cachedPageNumber($){if(!isRefProxy($))return null;const _e=$.gen===0?`${$.num}R`:`${$.num}R${$.gen}`;return _t(this,Pm).get(_e)??null}}_c=new WeakMap,_l=new WeakMap,Tm=new WeakMap,Pm=new WeakMap,wl=new WeakMap,bp=new WeakSet,a0=function($,_e=null){const vt=_t(this,_c).get($);if(vt)return vt;const bt=this.messageHandler.sendWithPromise($,_e);return _t(this,_c).set($,bt),bt};const INITIAL_DATA=Symbol("INITIAL_DATA");var Xo,fv,Kx;class PDFObjects{constructor(){Gt(this,fv);Gt(this,Xo,Object.create(null))}get($,_e=null){if(_e){const bt=Ut(this,fv,Kx).call(this,$);return bt.promise.then(()=>_e(bt.data)),null}const vt=_t(this,Xo)[$];if(!vt||vt.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${$}.`);return vt.data}has($){const _e=_t(this,Xo)[$];return!!_e&&_e.data!==INITIAL_DATA}resolve($,_e=null){const vt=Ut(this,fv,Kx).call(this,$);vt.data=_e,vt.resolve()}clear(){var $;for(const _e in _t(this,Xo)){const{data:vt}=_t(this,Xo)[_e];($=vt==null?void 0:vt.bitmap)==null||$.close()}Wt(this,Xo,Object.create(null))}*[Symbol.iterator](){for(const $ in _t(this,Xo)){const{data:_e}=_t(this,Xo)[$];_e!==INITIAL_DATA&&(yield[$,_e])}}}Xo=new WeakMap,fv=new WeakSet,Kx=function($){var _e;return(_e=_t(this,Xo))[$]||(_e[$]={...Promise.withResolvers(),data:INITIAL_DATA})};var Mu;class RenderTask{constructor($){Gt(this,Mu,null);Wt(this,Mu,$),this.onContinue=null}get promise(){return _t(this,Mu).capability.promise}cancel($=0){_t(this,Mu).cancel(null,$)}get separateAnnots(){const{separateAnnots:$}=_t(this,Mu).operatorList;if(!$)return!1;const{annotationCanvasMap:_e}=_t(this,Mu);return $.form||$.canvas&&(_e==null?void 0:_e.size)>0}}Mu=new WeakMap;var xp;const Qu=class Qu{constructor({callback:$,params:_e,objs:vt,commonObjs:bt,annotationCanvasMap:xt,operatorList:Et,pageIndex:At,canvasFactory:wt,filterFactory:Ct,useRequestAnimationFrame:St=!1,pdfBug:Rt=!1,pageColors:Pt=null}){this.callback=$,this.params=_e,this.objs=vt,this.commonObjs=bt,this.annotationCanvasMap=xt,this.operatorListIdx=null,this.operatorList=Et,this._pageIndex=At,this.canvasFactory=wt,this.filterFactory=Ct,this._pdfBug=Rt,this.pageColors=Pt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=St===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=_e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:$=!1,optionalContentConfig:_e}){var At,wt;if(this.cancelled)return;if(this._canvas){if(_t(Qu,xp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_t(Qu,xp).add(this._canvas)}this._pdfBug&&((At=globalThis.StepperManager)!=null&&At.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:vt,viewport:bt,transform:xt,background:Et}=this.params;this.gfx=new CanvasGraphics(vt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:_e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:xt,viewport:bt,transparency:$,background:Et}),this.operatorListIdx=0,this.graphicsReady=!0,(wt=this.graphicsReadyCallback)==null||wt.call(this)}cancel($=null,_e=0){var vt;this.running=!1,this.cancelled=!0,(vt=this.gfx)==null||vt.endDrawing(),_t(Qu,xp).delete(this._canvas),this.callback($||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,_e))}operatorListChanged(){var $;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}($=this.stepper)==null||$.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_t(Qu,xp).delete(this._canvas),this.callback())))}};xp=new WeakMap,Gt(Qu,xp,new WeakSet);let InternalRenderTask=Qu;const version="4.3.136",build="0cec64437";function makeColorComp(ht){return Math.floor(Math.max(0,Math.min(1,ht))*255).toString(16).padStart(2,"0")}function scaleAndClamp(ht){return Math.max(0,Math.min(255,255*ht))}class ColorConverters{static CMYK_G([$,_e,vt,bt]){return["G",1-Math.min(1,.3*$+.59*vt+.11*_e+bt)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_rgb([$]){return $=scaleAndClamp($),[$,$,$]}static G_HTML([$]){const _e=makeColorComp($);return`#${_e}${_e}${_e}`}static RGB_G([$,_e,vt]){return["G",.3*$+.59*_e+.11*vt]}static RGB_rgb($){return $.map(scaleAndClamp)}static RGB_HTML($){return`#${$.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$,_e,vt,bt]){return["RGB",1-Math.min(1,$+bt),1-Math.min(1,vt+bt),1-Math.min(1,_e+bt)]}static CMYK_rgb([$,_e,vt,bt]){return[scaleAndClamp(1-Math.min(1,$+bt)),scaleAndClamp(1-Math.min(1,vt+bt)),scaleAndClamp(1-Math.min(1,_e+bt))]}static CMYK_HTML($){const _e=this.CMYK_RGB($).slice(1);return this.RGB_HTML(_e)}static RGB_CMYK([$,_e,vt]){const bt=1-$,xt=1-_e,Et=1-vt,At=Math.min(bt,xt,Et);return["CMYK",bt,xt,Et,At]}}class XfaLayer{static setupStorage($,_e,vt,bt,xt){const Et=bt.getValue(_e,{value:null});switch(vt.name){case"textarea":if(Et.value!==null&&($.textContent=Et.value),xt==="print")break;$.addEventListener("input",At=>{bt.setValue(_e,{value:At.target.value})});break;case"input":if(vt.attributes.type==="radio"||vt.attributes.type==="checkbox"){if(Et.value===vt.attributes.xfaOn?$.setAttribute("checked",!0):Et.value===vt.attributes.xfaOff&&$.removeAttribute("checked"),xt==="print")break;$.addEventListener("change",At=>{bt.setValue(_e,{value:At.target.checked?At.target.getAttribute("xfaOn"):At.target.getAttribute("xfaOff")})})}else{if(Et.value!==null&&$.setAttribute("value",Et.value),xt==="print")break;$.addEventListener("input",At=>{bt.setValue(_e,{value:At.target.value})})}break;case"select":if(Et.value!==null){$.setAttribute("value",Et.value);for(const At of vt.children)At.attributes.value===Et.value?At.attributes.selected=!0:At.attributes.hasOwnProperty("selected")&&delete At.attributes.selected}$.addEventListener("input",At=>{const wt=At.target.options,Ct=wt.selectedIndex===-1?"":wt[wt.selectedIndex].value;bt.setValue(_e,{value:Ct})});break}}static setAttributes({html:$,element:_e,storage:vt=null,intent:bt,linkService:xt}){const{attributes:Et}=_e,At=$ instanceof HTMLAnchorElement;Et.type==="radio"&&(Et.name=`${Et.name}-${bt}`);for(const[wt,Ct]of Object.entries(Et))if(Ct!=null)switch(wt){case"class":Ct.length&&$.setAttribute(wt,Ct.join(" "));break;case"dataId":break;case"id":$.setAttribute("data-element-id",Ct);break;case"style":Object.assign($.style,Ct);break;case"textContent":$.textContent=Ct;break;default:(!At||wt!=="href"&&wt!=="newWindow")&&$.setAttribute(wt,Ct)}At&&xt.addLinkAttributes($,Et.href,Et.newWindow),vt&&Et.dataId&&this.setupStorage($,Et.dataId,_e,vt)}static render($){var Rt,Pt;const _e=$.annotationStorage,vt=$.linkService,bt=$.xfaHtml,xt=$.intent||"display",Et=document.createElement(bt.name);bt.attributes&&this.setAttributes({html:Et,element:bt,intent:xt,linkService:vt});const At=xt!=="richText",wt=$.div;if(wt.append(Et),$.viewport){const kt=`matrix(${$.viewport.transform.join(",")})`;wt.style.transform=kt}At&&wt.setAttribute("class","xfaLayer xfaFont");const Ct=[];if(bt.children.length===0){if(bt.value){const kt=document.createTextNode(bt.value);Et.append(kt),At&&XfaText.shouldBuildText(bt.name)&&Ct.push(kt)}return{textDivs:Ct}}const St=[[bt,-1,Et]];for(;St.length>0;){const[kt,Mt,Dt]=St.at(-1);if(Mt+1===kt.children.length){St.pop();continue}const $t=kt.children[++St.at(-1)[1]];if($t===null)continue;const{name:Ft}=$t;if(Ft==="#text"){const Ot=document.createTextNode($t.value);Ct.push(Ot),Dt.append(Ot);continue}const Lt=(Rt=$t==null?void 0:$t.attributes)!=null&&Rt.xmlns?document.createElementNS($t.attributes.xmlns,Ft):document.createElement(Ft);if(Dt.append(Lt),$t.attributes&&this.setAttributes({html:Lt,element:$t,storage:_e,intent:xt,linkService:vt}),((Pt=$t.children)==null?void 0:Pt.length)>0)St.push([$t,-1,Lt]);else if($t.value){const Ot=document.createTextNode($t.value);At&&XfaText.shouldBuildText(Ft)&&Ct.push(Ot),Lt.append(Ot)}}for(const kt of wt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))kt.setAttribute("readOnly",!0);return{textDivs:Ct}}static update($){const _e=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=_e,$.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(ht){return{width:ht[2]-ht[0],height:ht[3]-ht[1]}}class AnnotationElementFactory{static create($){switch($.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement($);case AnnotationType.TEXT:return new TextAnnotationElement($);case AnnotationType.WIDGET:switch($.data.fieldType){case"Tx":return new TextWidgetAnnotationElement($);case"Btn":return $.data.radioButton?new RadioButtonWidgetAnnotationElement($):$.data.checkBox?new CheckboxWidgetAnnotationElement($):new PushButtonWidgetAnnotationElement($);case"Ch":return new ChoiceWidgetAnnotationElement($);case"Sig":return new SignatureWidgetAnnotationElement($)}return new WidgetAnnotationElement($);case AnnotationType.POPUP:return new PopupAnnotationElement($);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement($);case AnnotationType.LINE:return new LineAnnotationElement($);case AnnotationType.SQUARE:return new SquareAnnotationElement($);case AnnotationType.CIRCLE:return new CircleAnnotationElement($);case AnnotationType.POLYLINE:return new PolylineAnnotationElement($);case AnnotationType.CARET:return new CaretAnnotationElement($);case AnnotationType.INK:return new InkAnnotationElement($);case AnnotationType.POLYGON:return new PolygonAnnotationElement($);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement($);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement($);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement($);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement($);case AnnotationType.STAMP:return new StampAnnotationElement($);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement($);default:return new AnnotationElement($)}}}var Ep,km,Mm,pv,Yx;const rE=class rE{constructor($,{isRenderable:_e=!1,ignoreBorder:vt=!1,createQuadrilaterals:bt=!1}={}){Gt(this,pv);Gt(this,Ep,null);Gt(this,km,!1);Gt(this,Mm,null);this.isRenderable=_e,this.data=$.data,this.layer=$.layer,this.linkService=$.linkService,this.downloadManager=$.downloadManager,this.imageResourcesPath=$.imageResourcesPath,this.renderForms=$.renderForms,this.svgFactory=$.svgFactory,this.annotationStorage=$.annotationStorage,this.enableScripting=$.enableScripting,this.hasJSActions=$.hasJSActions,this._fieldObjects=$.fieldObjects,this.parent=$.parent,_e&&(this.container=this._createContainer(vt)),bt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:$,contentsObj:_e,richText:vt}){return!!($!=null&&$.str||_e!=null&&_e.str||vt!=null&&vt.str)}get hasPopupData(){return rE._hasPopupData(this.data)}updateEdited($){var vt;if(!this.container)return;_t(this,Ep)||Wt(this,Ep,{rect:this.data.rect.slice(0)});const{rect:_e}=$;_e&&Ut(this,pv,Yx).call(this,_e),(vt=_t(this,Mm))==null||vt.popup.updateEdited($)}resetEdited(){var $;_t(this,Ep)&&(Ut(this,pv,Yx).call(this,_t(this,Ep).rect),($=_t(this,Mm))==null||$.popup.resetEdited(),Wt(this,Ep,null))}_createContainer($){const{data:_e,parent:{page:vt,viewport:bt}}=this,xt=document.createElement("section");xt.setAttribute("data-annotation-id",_e.id),this instanceof WidgetAnnotationElement||(xt.tabIndex=DEFAULT_TAB_INDEX);const{style:Et}=xt;if(Et.zIndex=this.parent.zIndex++,_e.popupRef&&xt.setAttribute("aria-haspopup","dialog"),_e.alternativeText&&(xt.title=_e.alternativeText),_e.noRotate&&xt.classList.add("norotate"),!_e.rect||this instanceof PopupAnnotationElement){const{rotation:Dt}=_e;return!_e.hasOwnCanvas&&Dt!==0&&this.setRotation(Dt,xt),xt}const{width:At,height:wt}=getRectDims(_e.rect);if(!$&&_e.borderStyle.width>0){Et.borderWidth=`${_e.borderStyle.width}px`;const Dt=_e.borderStyle.horizontalCornerRadius,$t=_e.borderStyle.verticalCornerRadius;if(Dt>0||$t>0){const Lt=`calc(${Dt}px * var(--scale-factor)) / calc(${$t}px * var(--scale-factor))`;Et.borderRadius=Lt}else if(this instanceof RadioButtonWidgetAnnotationElement){const Lt=`calc(${At}px * var(--scale-factor)) / calc(${wt}px * var(--scale-factor))`;Et.borderRadius=Lt}switch(_e.borderStyle.style){case AnnotationBorderStyleType.SOLID:Et.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:Et.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:Et.borderBottomStyle="solid";break}const Ft=_e.borderColor||null;Ft?(Wt(this,km,!0),Et.borderColor=Util.makeHexColor(Ft[0]|0,Ft[1]|0,Ft[2]|0)):Et.borderWidth=0}const Ct=Util.normalizeRect([_e.rect[0],vt.view[3]-_e.rect[1]+vt.view[1],_e.rect[2],vt.view[3]-_e.rect[3]+vt.view[1]]),{pageWidth:St,pageHeight:Rt,pageX:Pt,pageY:kt}=bt.rawDims;Et.left=`${100*(Ct[0]-Pt)/St}%`,Et.top=`${100*(Ct[1]-kt)/Rt}%`;const{rotation:Mt}=_e;return _e.hasOwnCanvas||Mt===0?(Et.width=`${100*At/St}%`,Et.height=`${100*wt/Rt}%`):this.setRotation(Mt,xt),xt}setRotation($,_e=this.container){if(!this.data.rect)return;const{pageWidth:vt,pageHeight:bt}=this.parent.viewport.rawDims,{width:xt,height:Et}=getRectDims(this.data.rect);let At,wt;$%180===0?(At=100*xt/vt,wt=100*Et/bt):(At=100*Et/vt,wt=100*xt/bt),_e.style.width=`${At}%`,_e.style.height=`${wt}%`,_e.setAttribute("data-main-rotation",(360-$)%360)}get _commonActions(){const $=(_e,vt,bt)=>{const xt=bt.detail[_e],Et=xt[0],At=xt.slice(1);bt.target.style[vt]=ColorConverters[`${Et}_HTML`](At),this.annotationStorage.setValue(this.data.id,{[vt]:ColorConverters[`${Et}_rgb`](At)})};return shadow(this,"_commonActions",{display:_e=>{const{display:vt}=_e.detail,bt=vt%2===1;this.container.style.visibility=bt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:bt,noPrint:vt===1||vt===2})},print:_e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!_e.detail.print})},hidden:_e=>{const{hidden:vt}=_e.detail;this.container.style.visibility=vt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:vt,noView:vt})},focus:_e=>{setTimeout(()=>_e.target.focus({preventScroll:!1}),0)},userName:_e=>{_e.target.title=_e.detail.userName},readonly:_e=>{_e.target.disabled=_e.detail.readonly},required:_e=>{this._setRequired(_e.target,_e.detail.required)},bgColor:_e=>{$("bgColor","backgroundColor",_e)},fillColor:_e=>{$("fillColor","backgroundColor",_e)},fgColor:_e=>{$("fgColor","color",_e)},textColor:_e=>{$("textColor","color",_e)},borderColor:_e=>{$("borderColor","borderColor",_e)},strokeColor:_e=>{$("strokeColor","borderColor",_e)},rotation:_e=>{const vt=_e.detail.rotation;this.setRotation(vt),this.annotationStorage.setValue(this.data.id,{rotation:vt})}})}_dispatchEventFromSandbox($,_e){const vt=this._commonActions;for(const bt of Object.keys(_e.detail)){const xt=$[bt]||vt[bt];xt==null||xt(_e)}}_setDefaultPropertiesFromJS($){if(!this.enableScripting)return;const _e=this.annotationStorage.getRawValue(this.data.id);if(!_e)return;const vt=this._commonActions;for(const[bt,xt]of Object.entries(_e)){const Et=vt[bt];if(Et){const At={detail:{[bt]:xt},target:$};Et(At),delete _e[bt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:$}=this.data;if(!$)return;const[_e,vt,bt,xt]=this.data.rect;if($.length===1){const[,{x:Dt,y:$t},{x:Ft,y:Lt}]=$[0];if(bt===Dt&&xt===$t&&_e===Ft&&vt===Lt)return}const{style:Et}=this.container;let At;if(_t(this,km)){const{borderColor:Dt,borderWidth:$t}=Et;Et.borderWidth=0,At=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Dt}" stroke-width="${$t}">`],this.container.classList.add("hasBorder")}const wt=bt-_e,Ct=xt-vt,{svgFactory:St}=this,Rt=St.createElement("svg");Rt.classList.add("quadrilateralsContainer"),Rt.setAttribute("width",0),Rt.setAttribute("height",0);const Pt=St.createElement("defs");Rt.append(Pt);const kt=St.createElement("clipPath"),Mt=`clippath_${this.data.id}`;kt.setAttribute("id",Mt),kt.setAttribute("clipPathUnits","objectBoundingBox"),Pt.append(kt);for(const[,{x:Dt,y:$t},{x:Ft,y:Lt}]of $){const Ot=St.createElement("rect"),Ht=(Ft-_e)/wt,Nt=(xt-$t)/Ct,Bt=(Dt-Ft)/wt,jt=($t-Lt)/Ct;Ot.setAttribute("x",Ht),Ot.setAttribute("y",Nt),Ot.setAttribute("width",Bt),Ot.setAttribute("height",jt),kt.append(Ot),At==null||At.push(`<rect vector-effect="non-scaling-stroke" x="${Ht}" y="${Nt}" width="${Bt}" height="${jt}"/>`)}_t(this,km)&&(At.push("</g></svg>')"),Et.backgroundImage=At.join("")),this.container.append(Rt),this.container.style.clipPath=`url(#${Mt})`}_createPopup(){const{container:$,data:_e}=this;$.setAttribute("aria-haspopup","dialog");const vt=Wt(this,Mm,new PopupAnnotationElement({data:{color:_e.color,titleObj:_e.titleObj,modificationDate:_e.modificationDate,contentsObj:_e.contentsObj,richText:_e.richText,parentRect:_e.rect,borderStyle:0,id:`popup_${_e.id}`,rotation:_e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(vt.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName($,_e=null){const vt=[];if(this._fieldObjects){const bt=this._fieldObjects[$];if(bt)for(const{page:xt,id:Et,exportValues:At}of bt){if(xt===-1||Et===_e)continue;const wt=typeof At=="string"?At:null,Ct=document.querySelector(`[data-element-id="${Et}"]`);if(Ct&&!GetElementsByNameSet.has(Ct)){warn(`_getElementsByName - element not allowed: ${Et}`);continue}vt.push({id:Et,exportValue:wt,domElement:Ct})}return vt}for(const bt of document.getElementsByName($)){const{exportValue:xt}=bt,Et=bt.getAttribute("data-element-id");Et!==_e&&GetElementsByNameSet.has(bt)&&vt.push({id:Et,exportValue:xt,domElement:bt})}return vt}show(){var $;this.container&&(this.container.hidden=!1),($=this.popup)==null||$.maybeShow()}hide(){var $;this.container&&(this.container.hidden=!0),($=this.popup)==null||$.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const $=this.getElementsToTriggerPopup();if(Array.isArray($))for(const _e of $)_e.classList.add("highlightArea");else $.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:$,data:{id:_e}}=this;this.container.addEventListener("dblclick",()=>{var vt;(vt=this.linkService.eventBus)==null||vt.dispatch("switchannotationeditormode",{source:this,mode:$,editId:_e})})}};Ep=new WeakMap,km=new WeakMap,Mm=new WeakMap,pv=new WeakSet,Yx=function($){const{container:{style:_e},data:{rect:vt,rotation:bt},parent:{viewport:{rawDims:{pageWidth:xt,pageHeight:Et,pageX:At,pageY:wt}}}}=this;vt==null||vt.splice(0,4,...$);const{width:Ct,height:St}=getRectDims($);_e.left=`${100*($[0]-At)/xt}%`,_e.top=`${100*(Et-$[3]+wt)/Et}%`,bt===0?(_e.width=`${100*Ct/xt}%`,_e.height=`${100*St/Et}%`):this.setRotation(bt)};let AnnotationElement=rE;var Mo,Xu,eA,tA;class LinkAnnotationElement extends AnnotationElement{constructor(_e,vt=null){super(_e,{isRenderable:!0,ignoreBorder:!!(vt!=null&&vt.ignoreBorder),createQuadrilaterals:!0});Gt(this,Mo);this.isTooltipOnly=_e.data.isTooltipOnly}render(){const{data:_e,linkService:vt}=this,bt=document.createElement("a");bt.setAttribute("data-element-id",_e.id);let xt=!1;return _e.url?(vt.addLinkAttributes(bt,_e.url,_e.newWindow),xt=!0):_e.action?(this._bindNamedAction(bt,_e.action),xt=!0):_e.attachment?(Ut(this,Mo,eA).call(this,bt,_e.attachment,_e.attachmentDest),xt=!0):_e.setOCGState?(Ut(this,Mo,tA).call(this,bt,_e.setOCGState),xt=!0):_e.dest?(this._bindLink(bt,_e.dest),xt=!0):(_e.actions&&(_e.actions.Action||_e.actions["Mouse Up"]||_e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(bt,_e),xt=!0),_e.resetForm?(this._bindResetFormAction(bt,_e.resetForm),xt=!0):this.isTooltipOnly&&!xt&&(this._bindLink(bt,""),xt=!0)),this.container.classList.add("linkAnnotation"),xt&&this.container.append(bt),this.container}_bindLink(_e,vt){_e.href=this.linkService.getDestinationHash(vt),_e.onclick=()=>(vt&&this.linkService.goToDestination(vt),!1),(vt||vt==="")&&Ut(this,Mo,Xu).call(this)}_bindNamedAction(_e,vt){_e.href=this.linkService.getAnchorUrl(""),_e.onclick=()=>(this.linkService.executeNamedAction(vt),!1),Ut(this,Mo,Xu).call(this)}_bindJSAction(_e,vt){_e.href=this.linkService.getAnchorUrl("");const bt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const xt of Object.keys(vt.actions)){const Et=bt.get(xt);Et&&(_e[Et]=()=>{var At;return(At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:vt.id,name:xt}}),!1})}_e.onclick||(_e.onclick=()=>!1),Ut(this,Mo,Xu).call(this)}_bindResetFormAction(_e,vt){const bt=_e.onclick;if(bt||(_e.href=this.linkService.getAnchorUrl("")),Ut(this,Mo,Xu).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),bt||(_e.onclick=()=>!1);return}_e.onclick=()=>{var Rt;bt==null||bt();const{fields:xt,refs:Et,include:At}=vt,wt=[];if(xt.length!==0||Et.length!==0){const Pt=new Set(Et);for(const kt of xt){const Mt=this._fieldObjects[kt]||[];for(const{id:Dt}of Mt)Pt.add(Dt)}for(const kt of Object.values(this._fieldObjects))for(const Mt of kt)Pt.has(Mt.id)===At&&wt.push(Mt)}else for(const Pt of Object.values(this._fieldObjects))wt.push(...Pt);const Ct=this.annotationStorage,St=[];for(const Pt of wt){const{id:kt}=Pt;switch(St.push(kt),Pt.type){case"text":{const Dt=Pt.defaultValue||"";Ct.setValue(kt,{value:Dt});break}case"checkbox":case"radiobutton":{const Dt=Pt.defaultValue===Pt.exportValues;Ct.setValue(kt,{value:Dt});break}case"combobox":case"listbox":{const Dt=Pt.defaultValue||"";Ct.setValue(kt,{value:Dt});break}default:continue}const Mt=document.querySelector(`[data-element-id="${kt}"]`);if(Mt){if(!GetElementsByNameSet.has(Mt)){warn(`_bindResetFormAction - element not allowed: ${kt}`);continue}}else continue;Mt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Rt=this.linkService.eventBus)==null||Rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:St,name:"ResetForm"}})),!1}}}Mo=new WeakSet,Xu=function(){this.container.setAttribute("data-internal-link","")},eA=function(_e,vt,bt=null){_e.href=this.linkService.getAnchorUrl(""),vt.description&&(_e.title=vt.description),_e.onclick=()=>{var xt;return(xt=this.downloadManager)==null||xt.openOrDownloadData(vt.content,vt.filename,bt),!1},Ut(this,Mo,Xu).call(this)},tA=function(_e,vt){_e.href=this.linkService.getAnchorUrl(""),_e.onclick=()=>(this.linkService.executeSetOCGState(vt),!1),Ut(this,Mo,Xu).call(this)};class TextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const $=document.createElement("img");return $.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",$.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),$.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append($),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas($){var _e;this.data.hasOwnCanvas&&(((_e=$.previousSibling)==null?void 0:_e.nodeName)==="CANVAS"&&($.previousSibling.hidden=!0),$.hidden=!1)}_getKeyModifier($){return util_FeatureTest.platform.isMac?$.metaKey:$.ctrlKey}_setEventListener($,_e,vt,bt,xt){vt.includes("mouse")?$.addEventListener(vt,Et=>{var At;(At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:bt,value:xt(Et),shift:Et.shiftKey,modifier:this._getKeyModifier(Et)}})}):$.addEventListener(vt,Et=>{var At;if(vt==="blur"){if(!_e.focused||!Et.relatedTarget)return;_e.focused=!1}else if(vt==="focus"){if(_e.focused)return;_e.focused=!0}xt&&((At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:bt,value:xt(Et)}}))})}_setEventListeners($,_e,vt,bt){var xt,Et,At;for(const[wt,Ct]of vt)(Ct==="Action"||(xt=this.data.actions)!=null&&xt[Ct])&&((Ct==="Focus"||Ct==="Blur")&&(_e||(_e={focused:!1})),this._setEventListener($,_e,wt,Ct,bt),Ct==="Focus"&&!((Et=this.data.actions)!=null&&Et.Blur)?this._setEventListener($,_e,"blur","Blur",null):Ct==="Blur"&&!((At=this.data.actions)!=null&&At.Focus)&&this._setEventListener($,_e,"focus","Focus",null))}_setBackgroundColor($){const _e=this.data.backgroundColor||null;$.style.backgroundColor=_e===null?"transparent":Util.makeHexColor(_e[0],_e[1],_e[2])}_setTextStyle($){const _e=["left","center","right"],{fontColor:vt}=this.data.defaultAppearanceData,bt=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,xt=$.style;let Et;const At=2,wt=Ct=>Math.round(10*Ct)/10;if(this.data.multiLine){const Ct=Math.abs(this.data.rect[3]-this.data.rect[1]-At),St=Math.round(Ct/(LINE_FACTOR*bt))||1,Rt=Ct/St;Et=Math.min(bt,wt(Rt/LINE_FACTOR))}else{const Ct=Math.abs(this.data.rect[3]-this.data.rect[1]-At);Et=Math.min(bt,wt(Ct/LINE_FACTOR))}xt.fontSize=`calc(${Et}px * var(--scale-factor))`,xt.color=Util.makeHexColor(vt[0],vt[1],vt[2]),this.data.textAlignment!==null&&(xt.textAlign=_e[this.data.textAlignment])}_setRequired($,_e){_e?$.setAttribute("required",!0):$.removeAttribute("required"),$.setAttribute("aria-required",_e)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){const _e=$.renderForms||$.data.hasOwnCanvas||!$.data.hasAppearance&&!!$.data.fieldValue;super($,{isRenderable:_e})}setPropertyOnSiblings($,_e,vt,bt){const xt=this.annotationStorage;for(const Et of this._getElementsByName($.name,$.id))Et.domElement&&(Et.domElement[_e]=vt),xt.setValue(Et.id,{[bt]:vt})}render(){var bt,xt;const $=this.annotationStorage,_e=this.data.id;this.container.classList.add("textWidgetAnnotation");let vt=null;if(this.renderForms){const Et=$.getValue(_e,{value:this.data.fieldValue});let At=Et.value||"";const wt=$.getValue(_e,{charLimit:this.data.maxLen}).charLimit;wt&&At.length>wt&&(At=At.slice(0,wt));let Ct=Et.formattedValue||((bt=this.data.textContent)==null?void 0:bt.join(`
`))||null;Ct&&this.data.comb&&(Ct=Ct.replaceAll(/\s+/g,""));const St={userValue:At,formattedValue:Ct,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(vt=document.createElement("textarea"),vt.textContent=Ct??At,this.data.doNotScroll&&(vt.style.overflowY="hidden")):(vt=document.createElement("input"),vt.type="text",vt.setAttribute("value",Ct??At),this.data.doNotScroll&&(vt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(vt.hidden=!0),GetElementsByNameSet.add(vt),vt.setAttribute("data-element-id",_e),vt.disabled=this.data.readOnly,vt.name=this.data.fieldName,vt.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(vt,this.data.required),wt&&(vt.maxLength=wt),vt.addEventListener("input",Pt=>{$.setValue(_e,{value:Pt.target.value}),this.setPropertyOnSiblings(vt,"value",Pt.target.value,"value"),St.formattedValue=null}),vt.addEventListener("resetform",Pt=>{const kt=this.data.defaultFieldValue??"";vt.value=St.userValue=kt,St.formattedValue=null});let Rt=Pt=>{const{formattedValue:kt}=St;kt!=null&&(Pt.target.value=kt),Pt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){vt.addEventListener("focus",kt=>{var Dt;if(St.focused)return;const{target:Mt}=kt;St.userValue&&(Mt.value=St.userValue),St.lastCommittedValue=Mt.value,St.commitKey=1,(Dt=this.data.actions)!=null&&Dt.Focus||(St.focused=!0)}),vt.addEventListener("updatefromsandbox",kt=>{this.showElementAndHideCanvas(kt.target);const Mt={value(Dt){St.userValue=Dt.detail.value??"",$.setValue(_e,{value:St.userValue.toString()}),Dt.target.value=St.userValue},formattedValue(Dt){const{formattedValue:$t}=Dt.detail;St.formattedValue=$t,$t!=null&&Dt.target!==document.activeElement&&(Dt.target.value=$t),$.setValue(_e,{formattedValue:$t})},selRange(Dt){Dt.target.setSelectionRange(...Dt.detail.selRange)},charLimit:Dt=>{var Ot;const{charLimit:$t}=Dt.detail,{target:Ft}=Dt;if($t===0){Ft.removeAttribute("maxLength");return}Ft.setAttribute("maxLength",$t);let Lt=St.userValue;!Lt||Lt.length<=$t||(Lt=Lt.slice(0,$t),Ft.value=St.userValue=Lt,$.setValue(_e,{value:Lt}),(Ot=this.linkService.eventBus)==null||Ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_e,name:"Keystroke",value:Lt,willCommit:!0,commitKey:1,selStart:Ft.selectionStart,selEnd:Ft.selectionEnd}}))}};this._dispatchEventFromSandbox(Mt,kt)}),vt.addEventListener("keydown",kt=>{var $t;St.commitKey=1;let Mt=-1;if(kt.key==="Escape"?Mt=0:kt.key==="Enter"&&!this.data.multiLine?Mt=2:kt.key==="Tab"&&(St.commitKey=3),Mt===-1)return;const{value:Dt}=kt.target;St.lastCommittedValue!==Dt&&(St.lastCommittedValue=Dt,St.userValue=Dt,($t=this.linkService.eventBus)==null||$t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_e,name:"Keystroke",value:Dt,willCommit:!0,commitKey:Mt,selStart:kt.target.selectionStart,selEnd:kt.target.selectionEnd}}))});const Pt=Rt;Rt=null,vt.addEventListener("blur",kt=>{var Dt,$t;if(!St.focused||!kt.relatedTarget)return;(Dt=this.data.actions)!=null&&Dt.Blur||(St.focused=!1);const{value:Mt}=kt.target;St.userValue=Mt,St.lastCommittedValue!==Mt&&(($t=this.linkService.eventBus)==null||$t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_e,name:"Keystroke",value:Mt,willCommit:!0,commitKey:St.commitKey,selStart:kt.target.selectionStart,selEnd:kt.target.selectionEnd}})),Pt(kt)}),(xt=this.data.actions)!=null&&xt.Keystroke&&vt.addEventListener("beforeinput",kt=>{var Nt;St.lastCommittedValue=null;const{data:Mt,target:Dt}=kt,{value:$t,selectionStart:Ft,selectionEnd:Lt}=Dt;let Ot=Ft,Ht=Lt;switch(kt.inputType){case"deleteWordBackward":{const Bt=$t.substring(0,Ft).match(/\w*[^\w]*$/);Bt&&(Ot-=Bt[0].length);break}case"deleteWordForward":{const Bt=$t.substring(Ft).match(/^[^\w]*\w*/);Bt&&(Ht+=Bt[0].length);break}case"deleteContentBackward":Ft===Lt&&(Ot-=1);break;case"deleteContentForward":Ft===Lt&&(Ht+=1);break}kt.preventDefault(),(Nt=this.linkService.eventBus)==null||Nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_e,name:"Keystroke",value:$t,change:Mt||"",willCommit:!1,selStart:Ot,selEnd:Ht}})}),this._setEventListeners(vt,St,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],kt=>kt.target.value)}if(Rt&&vt.addEventListener("blur",Rt),this.data.comb){const kt=(this.data.rect[2]-this.data.rect[0])/wt;vt.classList.add("comb"),vt.style.letterSpacing=`calc(${kt}px * var(--scale-factor) - 1ch)`}}else vt=document.createElement("div"),vt.textContent=this.data.fieldValue,vt.style.verticalAlign="middle",vt.style.display="table-cell",this.data.hasOwnCanvas&&(vt.hidden=!0);return this._setTextStyle(vt),this._setBackgroundColor(vt),this._setDefaultPropertiesFromJS(vt),this.container.append(vt),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:!!$.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){const $=this.annotationStorage,_e=this.data,vt=_e.id;let bt=$.getValue(vt,{value:_e.exportValue===_e.fieldValue}).value;typeof bt=="string"&&(bt=bt!=="Off",$.setValue(vt,{value:bt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const xt=document.createElement("input");return GetElementsByNameSet.add(xt),xt.setAttribute("data-element-id",vt),xt.disabled=_e.readOnly,this._setRequired(xt,this.data.required),xt.type="checkbox",xt.name=_e.fieldName,bt&&xt.setAttribute("checked",!0),xt.setAttribute("exportValue",_e.exportValue),xt.tabIndex=DEFAULT_TAB_INDEX,xt.addEventListener("change",Et=>{const{name:At,checked:wt}=Et.target;for(const Ct of this._getElementsByName(At,vt)){const St=wt&&Ct.exportValue===_e.exportValue;Ct.domElement&&(Ct.domElement.checked=St),$.setValue(Ct.id,{value:St})}$.setValue(vt,{value:wt})}),xt.addEventListener("resetform",Et=>{const At=_e.defaultFieldValue||"Off";Et.target.checked=At===_e.exportValue}),this.enableScripting&&this.hasJSActions&&(xt.addEventListener("updatefromsandbox",Et=>{const At={value(wt){wt.target.checked=wt.detail.value!=="Off",$.setValue(vt,{value:wt.target.checked})}};this._dispatchEventFromSandbox(At,Et)}),this._setEventListeners(xt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Et=>Et.target.checked)),this._setBackgroundColor(xt),this._setDefaultPropertiesFromJS(xt),this.container.append(xt),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const $=this.annotationStorage,_e=this.data,vt=_e.id;let bt=$.getValue(vt,{value:_e.fieldValue===_e.buttonValue}).value;if(typeof bt=="string"&&(bt=bt!==_e.buttonValue,$.setValue(vt,{value:bt})),bt)for(const Et of this._getElementsByName(_e.fieldName,vt))$.setValue(Et.id,{value:!1});const xt=document.createElement("input");if(GetElementsByNameSet.add(xt),xt.setAttribute("data-element-id",vt),xt.disabled=_e.readOnly,this._setRequired(xt,this.data.required),xt.type="radio",xt.name=_e.fieldName,bt&&xt.setAttribute("checked",!0),xt.tabIndex=DEFAULT_TAB_INDEX,xt.addEventListener("change",Et=>{const{name:At,checked:wt}=Et.target;for(const Ct of this._getElementsByName(At,vt))$.setValue(Ct.id,{value:!1});$.setValue(vt,{value:wt})}),xt.addEventListener("resetform",Et=>{const At=_e.defaultFieldValue;Et.target.checked=At!=null&&At===_e.buttonValue}),this.enableScripting&&this.hasJSActions){const Et=_e.buttonValue;xt.addEventListener("updatefromsandbox",At=>{const wt={value:Ct=>{const St=Et===Ct.detail.value;for(const Rt of this._getElementsByName(Ct.target.name)){const Pt=St&&Rt.id===vt;Rt.domElement&&(Rt.domElement.checked=Pt),$.setValue(Rt.id,{value:Pt})}}};this._dispatchEventFromSandbox(wt,At)}),this._setEventListeners(xt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],At=>At.target.checked)}return this._setBackgroundColor(xt),this._setDefaultPropertiesFromJS(xt),this.container.append(xt),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor($){super($,{ignoreBorder:$.data.hasAppearance})}render(){const $=super.render();$.classList.add("buttonWidgetAnnotation","pushButton");const _e=$.lastChild;return this.enableScripting&&this.hasJSActions&&_e&&(this._setDefaultPropertiesFromJS(_e),_e.addEventListener("updatefromsandbox",vt=>{this._dispatchEventFromSandbox({},vt)})),$}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const $=this.annotationStorage,_e=this.data.id,vt=$.getValue(_e,{value:this.data.fieldValue}),bt=document.createElement("select");GetElementsByNameSet.add(bt),bt.setAttribute("data-element-id",_e),bt.disabled=this.data.readOnly,this._setRequired(bt,this.data.required),bt.name=this.data.fieldName,bt.tabIndex=DEFAULT_TAB_INDEX;let xt=this.data.combo&&this.data.options.length>0;this.data.combo||(bt.size=this.data.options.length,this.data.multiSelect&&(bt.multiple=!0)),bt.addEventListener("resetform",St=>{const Rt=this.data.defaultFieldValue;for(const Pt of bt.options)Pt.selected=Pt.value===Rt});for(const St of this.data.options){const Rt=document.createElement("option");Rt.textContent=St.displayValue,Rt.value=St.exportValue,vt.value.includes(St.exportValue)&&(Rt.setAttribute("selected",!0),xt=!1),bt.append(Rt)}let Et=null;if(xt){const St=document.createElement("option");St.value=" ",St.setAttribute("hidden",!0),St.setAttribute("selected",!0),bt.prepend(St),Et=()=>{St.remove(),bt.removeEventListener("input",Et),Et=null},bt.addEventListener("input",Et)}const At=St=>{const Rt=St?"value":"textContent",{options:Pt,multiple:kt}=bt;return kt?Array.prototype.filter.call(Pt,Mt=>Mt.selected).map(Mt=>Mt[Rt]):Pt.selectedIndex===-1?null:Pt[Pt.selectedIndex][Rt]};let wt=At(!1);const Ct=St=>{const Rt=St.target.options;return Array.prototype.map.call(Rt,Pt=>({displayValue:Pt.textContent,exportValue:Pt.value}))};return this.enableScripting&&this.hasJSActions?(bt.addEventListener("updatefromsandbox",St=>{const Rt={value(Pt){Et==null||Et();const kt=Pt.detail.value,Mt=new Set(Array.isArray(kt)?kt:[kt]);for(const Dt of bt.options)Dt.selected=Mt.has(Dt.value);$.setValue(_e,{value:At(!0)}),wt=At(!1)},multipleSelection(Pt){bt.multiple=!0},remove(Pt){const kt=bt.options,Mt=Pt.detail.remove;kt[Mt].selected=!1,bt.remove(Mt),kt.length>0&&Array.prototype.findIndex.call(kt,$t=>$t.selected)===-1&&(kt[0].selected=!0),$.setValue(_e,{value:At(!0),items:Ct(Pt)}),wt=At(!1)},clear(Pt){for(;bt.length!==0;)bt.remove(0);$.setValue(_e,{value:null,items:[]}),wt=At(!1)},insert(Pt){const{index:kt,displayValue:Mt,exportValue:Dt}=Pt.detail.insert,$t=bt.children[kt],Ft=document.createElement("option");Ft.textContent=Mt,Ft.value=Dt,$t?$t.before(Ft):bt.append(Ft),$.setValue(_e,{value:At(!0),items:Ct(Pt)}),wt=At(!1)},items(Pt){const{items:kt}=Pt.detail;for(;bt.length!==0;)bt.remove(0);for(const Mt of kt){const{displayValue:Dt,exportValue:$t}=Mt,Ft=document.createElement("option");Ft.textContent=Dt,Ft.value=$t,bt.append(Ft)}bt.options.length>0&&(bt.options[0].selected=!0),$.setValue(_e,{value:At(!0),items:Ct(Pt)}),wt=At(!1)},indices(Pt){const kt=new Set(Pt.detail.indices);for(const Mt of Pt.target.options)Mt.selected=kt.has(Mt.index);$.setValue(_e,{value:At(!0)}),wt=At(!1)},editable(Pt){Pt.target.disabled=!Pt.detail.editable}};this._dispatchEventFromSandbox(Rt,St)}),bt.addEventListener("input",St=>{var kt;const Rt=At(!0),Pt=At(!1);$.setValue(_e,{value:Rt}),St.preventDefault(),(kt=this.linkService.eventBus)==null||kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_e,name:"Keystroke",value:wt,change:Pt,changeEx:Rt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(bt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],St=>St.target.value)):bt.addEventListener("input",function(St){$.setValue(_e,{value:At(!0)})}),this.data.combo&&this._setTextStyle(bt),this._setBackgroundColor(bt),this._setDefaultPropertiesFromJS(bt),this.container.append(bt),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor($){const{data:_e,elements:vt}=$;super($,{isRenderable:AnnotationElement._hasPopupData(_e)}),this.elements=vt,this.popup=null}render(){this.container.classList.add("popupAnnotation");const $=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),_e=[];for(const vt of this.elements)vt.popup=$,_e.push(vt.data.id),vt.addHighlightArea();return this.container.setAttribute("aria-controls",_e.map(vt=>`${AnnotationPrefix}${vt}`).join(",")),this.container}}var Fm,ax,lx,Lm,Ap,Os,eu,_p,gv,mv,Dm,tu,qo,nu,vv,iu,yv,wp,Sp,ws,by,Zx,nA,iA,rA,sA,xy,Ey,Qx;class PopupElement{constructor({container:$,color:_e,elements:vt,titleObj:bt,modificationDate:xt,contentsObj:Et,richText:At,parent:wt,rect:Ct,parentRect:St,open:Rt}){Gt(this,ws);Gt(this,Fm,Ut(this,ws,rA).bind(this));Gt(this,ax,Ut(this,ws,Qx).bind(this));Gt(this,lx,Ut(this,ws,Ey).bind(this));Gt(this,Lm,Ut(this,ws,xy).bind(this));Gt(this,Ap,null);Gt(this,Os,null);Gt(this,eu,null);Gt(this,_p,null);Gt(this,gv,null);Gt(this,mv,null);Gt(this,Dm,null);Gt(this,tu,!1);Gt(this,qo,null);Gt(this,nu,null);Gt(this,vv,null);Gt(this,iu,null);Gt(this,yv,null);Gt(this,wp,null);Gt(this,Sp,!1);var Pt;Wt(this,Os,$),Wt(this,yv,bt),Wt(this,eu,Et),Wt(this,iu,At),Wt(this,mv,wt),Wt(this,Ap,_e),Wt(this,vv,Ct),Wt(this,Dm,St),Wt(this,gv,vt),Wt(this,_p,PDFDateString.toDateObject(xt)),this.trigger=vt.flatMap(kt=>kt.getElementsToTriggerPopup());for(const kt of this.trigger)kt.addEventListener("click",_t(this,Lm)),kt.addEventListener("mouseenter",_t(this,lx)),kt.addEventListener("mouseleave",_t(this,ax)),kt.classList.add("popupTriggerArea");for(const kt of vt)(Pt=kt.container)==null||Pt.addEventListener("keydown",_t(this,Fm));_t(this,Os).hidden=!0,Rt&&Ut(this,ws,xy).call(this)}render(){if(_t(this,qo))return;const $=Wt(this,qo,document.createElement("div"));if($.className="popup",_t(this,Ap)){const xt=$.style.outlineColor=Util.makeHexColor(..._t(this,Ap));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$.style.backgroundColor=`color-mix(in srgb, ${xt} 30%, white)`:$.style.backgroundColor=Util.makeHexColor(..._t(this,Ap).map(At=>Math.floor(.7*(255-At)+At)))}const _e=document.createElement("span");_e.className="header";const vt=document.createElement("h1");if(_e.append(vt),{dir:vt.dir,str:vt.textContent}=_t(this,yv),$.append(_e),_t(this,_p)){const xt=document.createElement("span");xt.classList.add("popupDate"),xt.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),xt.setAttribute("data-l10n-args",JSON.stringify({date:_t(this,_p).toLocaleDateString(),time:_t(this,_p).toLocaleTimeString()})),_e.append(xt)}const bt=_t(this,ws,by);if(bt)XfaLayer.render({xfaHtml:bt,intent:"richText",div:$}),$.lastChild.classList.add("richText","popupContent");else{const xt=this._formatContents(_t(this,eu));$.append(xt)}_t(this,Os).append($)}_formatContents({str:$,dir:_e}){const vt=document.createElement("p");vt.classList.add("popupContent"),vt.dir=_e;const bt=$.split(/(?:\r\n?|\n)/);for(let xt=0,Et=bt.length;xt<Et;++xt){const At=bt[xt];vt.append(document.createTextNode(At)),xt<Et-1&&vt.append(document.createElement("br"))}return vt}updateEdited({rect:$,popupContent:_e}){var vt;_t(this,wp)||Wt(this,wp,{contentsObj:_t(this,eu),richText:_t(this,iu)}),$&&Wt(this,nu,null),_e&&(Wt(this,iu,Ut(this,ws,iA).call(this,_e)),Wt(this,eu,null)),(vt=_t(this,qo))==null||vt.remove(),Wt(this,qo,null)}resetEdited(){var $;_t(this,wp)&&({contentsObj:eo(this,eu)._,richText:eo(this,iu)._}=_t(this,wp),Wt(this,wp,null),($=_t(this,qo))==null||$.remove(),Wt(this,qo,null),Wt(this,nu,null))}forceHide(){Wt(this,Sp,this.isVisible),_t(this,Sp)&&(_t(this,Os).hidden=!0)}maybeShow(){_t(this,Sp)&&(_t(this,qo)||Ut(this,ws,Ey).call(this),Wt(this,Sp,!1),_t(this,Os).hidden=!1)}get isVisible(){return _t(this,Os).hidden===!1}}Fm=new WeakMap,ax=new WeakMap,lx=new WeakMap,Lm=new WeakMap,Ap=new WeakMap,Os=new WeakMap,eu=new WeakMap,_p=new WeakMap,gv=new WeakMap,mv=new WeakMap,Dm=new WeakMap,tu=new WeakMap,qo=new WeakMap,nu=new WeakMap,vv=new WeakMap,iu=new WeakMap,yv=new WeakMap,wp=new WeakMap,Sp=new WeakMap,ws=new WeakSet,by=function(){const $=_t(this,iu),_e=_t(this,eu);return $!=null&&$.str&&(!(_e!=null&&_e.str)||_e.str===$.str)&&_t(this,iu).html||null},Zx=function(){var $,_e,vt;return((vt=(_e=($=_t(this,ws,by))==null?void 0:$.attributes)==null?void 0:_e.style)==null?void 0:vt.fontSize)||0},nA=function(){var $,_e,vt;return((vt=(_e=($=_t(this,ws,by))==null?void 0:$.attributes)==null?void 0:_e.style)==null?void 0:vt.color)||null},iA=function($){const _e=[],vt={str:$,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:_e}]}},bt={style:{color:_t(this,ws,nA),fontSize:_t(this,ws,Zx)?`calc(${_t(this,ws,Zx)}px * var(--scale-factor))`:""}};for(const xt of $.split(`
`))_e.push({name:"span",value:xt,attributes:bt});return vt},rA=function($){$.altKey||$.shiftKey||$.ctrlKey||$.metaKey||($.key==="Enter"||$.key==="Escape"&&_t(this,tu))&&Ut(this,ws,xy).call(this)},sA=function(){if(_t(this,nu)!==null)return;const{page:{view:$},viewport:{rawDims:{pageWidth:_e,pageHeight:vt,pageX:bt,pageY:xt}}}=_t(this,mv);let Et=!!_t(this,Dm),At=Et?_t(this,Dm):_t(this,vv);for(const Mt of _t(this,gv))if(!At||Util.intersect(Mt.data.rect,At)!==null){At=Mt.data.rect,Et=!0;break}const wt=Util.normalizeRect([At[0],$[3]-At[1]+$[1],At[2],$[3]-At[3]+$[1]]),St=Et?At[2]-At[0]+5:0,Rt=wt[0]+St,Pt=wt[1];Wt(this,nu,[100*(Rt-bt)/_e,100*(Pt-xt)/vt]);const{style:kt}=_t(this,Os);kt.left=`${_t(this,nu)[0]}%`,kt.top=`${_t(this,nu)[1]}%`},xy=function(){Wt(this,tu,!_t(this,tu)),_t(this,tu)?(Ut(this,ws,Ey).call(this),_t(this,Os).addEventListener("click",_t(this,Lm)),_t(this,Os).addEventListener("keydown",_t(this,Fm))):(Ut(this,ws,Qx).call(this),_t(this,Os).removeEventListener("click",_t(this,Lm)),_t(this,Os).removeEventListener("keydown",_t(this,Fm)))},Ey=function(){_t(this,qo)||this.render(),this.isVisible?_t(this,tu)&&_t(this,Os).classList.add("focused"):(Ut(this,ws,sA).call(this),_t(this,Os).hidden=!1,_t(this,Os).style.zIndex=parseInt(_t(this,Os).style.zIndex)+1e3)},Qx=function(){_t(this,Os).classList.remove("focused"),!(_t(this,tu)||!this.isVisible)&&(_t(this,Os).hidden=!0,_t(this,Os).style.zIndex=parseInt(_t(this,Os).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0}),this.textContent=$.data.textContent,this.textPosition=$.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const $=document.createElement("div");$.classList.add("annotationTextContent"),$.setAttribute("role","comment");for(const _e of this.textContent){const vt=document.createElement("span");vt.textContent=_e,$.append(vt)}this.container.append($)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var bv;class LineAnnotationElement extends AnnotationElement{constructor(_e){super(_e,{isRenderable:!0,ignoreBorder:!0});Gt(this,bv,null)}render(){this.container.classList.add("lineAnnotation");const _e=this.data,{width:vt,height:bt}=getRectDims(_e.rect),xt=this.svgFactory.create(vt,bt,!0),Et=Wt(this,bv,this.svgFactory.createElement("svg:line"));return Et.setAttribute("x1",_e.rect[2]-_e.lineCoordinates[0]),Et.setAttribute("y1",_e.rect[3]-_e.lineCoordinates[1]),Et.setAttribute("x2",_e.rect[2]-_e.lineCoordinates[2]),Et.setAttribute("y2",_e.rect[3]-_e.lineCoordinates[3]),Et.setAttribute("stroke-width",_e.borderStyle.width||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),xt.append(Et),this.container.append(xt),!_e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,bv)}addHighlightArea(){this.container.classList.add("highlightArea")}}bv=new WeakMap;var xv;class SquareAnnotationElement extends AnnotationElement{constructor(_e){super(_e,{isRenderable:!0,ignoreBorder:!0});Gt(this,xv,null)}render(){this.container.classList.add("squareAnnotation");const _e=this.data,{width:vt,height:bt}=getRectDims(_e.rect),xt=this.svgFactory.create(vt,bt,!0),Et=_e.borderStyle.width,At=Wt(this,xv,this.svgFactory.createElement("svg:rect"));return At.setAttribute("x",Et/2),At.setAttribute("y",Et/2),At.setAttribute("width",vt-Et),At.setAttribute("height",bt-Et),At.setAttribute("stroke-width",Et||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),xt.append(At),this.container.append(xt),!_e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,xv)}addHighlightArea(){this.container.classList.add("highlightArea")}}xv=new WeakMap;var Ev;class CircleAnnotationElement extends AnnotationElement{constructor(_e){super(_e,{isRenderable:!0,ignoreBorder:!0});Gt(this,Ev,null)}render(){this.container.classList.add("circleAnnotation");const _e=this.data,{width:vt,height:bt}=getRectDims(_e.rect),xt=this.svgFactory.create(vt,bt,!0),Et=_e.borderStyle.width,At=Wt(this,Ev,this.svgFactory.createElement("svg:ellipse"));return At.setAttribute("cx",vt/2),At.setAttribute("cy",bt/2),At.setAttribute("rx",vt/2-Et/2),At.setAttribute("ry",bt/2-Et/2),At.setAttribute("stroke-width",Et||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),xt.append(At),this.container.append(xt),!_e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,Ev)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ev=new WeakMap;var Av;class PolylineAnnotationElement extends AnnotationElement{constructor(_e){super(_e,{isRenderable:!0,ignoreBorder:!0});Gt(this,Av,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const _e=this.data,{width:vt,height:bt}=getRectDims(_e.rect),xt=this.svgFactory.create(vt,bt,!0);let Et=[];for(const wt of _e.vertices){const Ct=wt.x-_e.rect[0],St=_e.rect[3]-wt.y;Et.push(Ct+","+St)}Et=Et.join(" ");const At=Wt(this,Av,this.svgFactory.createElement(this.svgElementName));return At.setAttribute("points",Et),At.setAttribute("stroke-width",_e.borderStyle.width||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),xt.append(At),this.container.append(xt),!_e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,Av)}addHighlightArea(){this.container.classList.add("highlightArea")}}Av=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor($){super($),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var _v;class InkAnnotationElement extends AnnotationElement{constructor(_e){super(_e,{isRenderable:!0,ignoreBorder:!0});Gt(this,_v,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const _e=this.data,{width:vt,height:bt}=getRectDims(_e.rect),xt=this.svgFactory.create(vt,bt,!0);for(const Et of _e.inkLists){let At=[];for(const Ct of Et){const St=Ct.x-_e.rect[0],Rt=_e.rect[3]-Ct.y;At.push(`${St},${Rt}`)}At=At.join(" ");const wt=this.svgFactory.createElement(this.svgElementName);_t(this,_v).push(wt),wt.setAttribute("points",At),wt.setAttribute("stroke-width",_e.borderStyle.width||1),wt.setAttribute("stroke","transparent"),wt.setAttribute("fill","transparent"),!_e.popupRef&&this.hasPopupData&&this._createPopup(),xt.append(wt)}return this.container.append(xt),this.container}getElementsToTriggerPopup(){return _t(this,_v)}addHighlightArea(){this.container.classList.add("highlightArea")}}_v=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var wv,Sv,Jx;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(_e){var bt;super(_e,{isRenderable:!0});Gt(this,Sv);Gt(this,wv,null);const{file:vt}=this.data;this.filename=vt.filename,this.content=vt.content,(bt=this.linkService.eventBus)==null||bt.dispatch("fileattachmentannotation",{source:this,...vt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:_e,data:vt}=this;let bt;vt.hasAppearance||vt.fillAlpha===0?bt=document.createElement("div"):(bt=document.createElement("img"),bt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(vt.name)?"paperclip":"pushpin"}.svg`,vt.fillAlpha&&vt.fillAlpha<1&&(bt.style=`filter: opacity(${Math.round(vt.fillAlpha*100)}%);`)),bt.addEventListener("dblclick",Ut(this,Sv,Jx).bind(this)),Wt(this,wv,bt);const{isMac:xt}=util_FeatureTest.platform;return _e.addEventListener("keydown",Et=>{Et.key==="Enter"&&(xt?Et.metaKey:Et.ctrlKey)&&Ut(this,Sv,Jx).call(this)}),!vt.popupRef&&this.hasPopupData?this._createPopup():bt.classList.add("popupTriggerArea"),_e.append(bt),_e}getElementsToTriggerPopup(){return _t(this,wv)}addHighlightArea(){this.container.classList.add("highlightArea")}}wv=new WeakMap,Sv=new WeakSet,Jx=function(){var _e;(_e=this.downloadManager)==null||_e.openOrDownloadData(this.content,this.filename)};var Cv,Cp,Im,Vp,oA,e1;class AnnotationLayer{constructor({div:$,accessibilityManager:_e,annotationCanvasMap:vt,annotationEditorUIManager:bt,page:xt,viewport:Et}){Gt(this,Vp);Gt(this,Cv,null);Gt(this,Cp,null);Gt(this,Im,new Map);this.div=$,Wt(this,Cv,_e),Wt(this,Cp,vt),this.page=xt,this.viewport=Et,this.zIndex=0,this._annotationEditorUIManager=bt}async render($){var Et;const{annotations:_e}=$,vt=this.div;setLayerDimensions(vt,this.viewport);const bt=new Map,xt={data:null,layer:vt,linkService:$.linkService,downloadManager:$.downloadManager,imageResourcesPath:$.imageResourcesPath||"",renderForms:$.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:$.annotationStorage||new AnnotationStorage,enableScripting:$.enableScripting===!0,hasJSActions:$.hasJSActions,fieldObjects:$.fieldObjects,parent:this,elements:null};for(const At of _e){if(At.noHTML)continue;const wt=At.annotationType===AnnotationType.POPUP;if(wt){const Rt=bt.get(At.id);if(!Rt)continue;xt.elements=Rt}else{const{width:Rt,height:Pt}=getRectDims(At.rect);if(Rt<=0||Pt<=0)continue}xt.data=At;const Ct=AnnotationElementFactory.create(xt);if(!Ct.isRenderable)continue;if(!wt&&At.popupRef){const Rt=bt.get(At.popupRef);Rt?Rt.push(Ct):bt.set(At.popupRef,[Ct])}const St=Ct.render();At.hidden&&(St.style.visibility="hidden"),Ut(this,Vp,oA).call(this,St,At.id),Ct.annotationEditorType>0&&(_t(this,Im).set(Ct.data.id,Ct),(Et=this._annotationEditorUIManager)==null||Et.renderAnnotationElement(Ct))}Ut(this,Vp,e1).call(this)}update({viewport:$}){const _e=this.div;this.viewport=$,setLayerDimensions(_e,{rotation:$.rotation}),Ut(this,Vp,e1).call(this),_e.hidden=!1}getEditableAnnotations(){return Array.from(_t(this,Im).values())}getEditableAnnotation($){return _t(this,Im).get($)}}Cv=new WeakMap,Cp=new WeakMap,Im=new WeakMap,Vp=new WeakSet,oA=function($,_e){var bt;const vt=$.firstChild||$;vt.id=`${AnnotationPrefix}${_e}`,this.div.append($),(bt=_t(this,Cv))==null||bt.moveElementInDOM(this.div,$,vt,!1)},e1=function(){if(!_t(this,Cp))return;const $=this.div;for(const[_e,vt]of _t(this,Cp)){const bt=$.querySelector(`[data-annotation-id="${_e}"]`);if(!bt)continue;vt.className="annotationContent";const{firstChild:xt}=bt;xt?xt.nodeName==="CANVAS"?xt.replaceWith(vt):xt.classList.contains("annotationContent")?xt.after(vt):xt.before(vt):bt.append(vt)}_t(this,Cp).clear()};const EOL_PATTERN=/\r\n?|\n/g;var Rv,Tv,Pv,kv,Mv,Ko,Co,Fv,Ro,$m,zs,aA,lA,cA,Ay,hu,_y,wy,uA,t1,dA;const Ps=class Ps extends AnnotationEditor{constructor(_e){super({..._e,name:"freeTextEditor"});Gt(this,zs);Gt(this,Rv,this.editorDivBlur.bind(this));Gt(this,Tv,this.editorDivFocus.bind(this));Gt(this,Pv,this.editorDivInput.bind(this));Gt(this,kv,this.editorDivKeydown.bind(this));Gt(this,Mv,this.editorDivPaste.bind(this));Gt(this,Ko);Gt(this,Co,"");Gt(this,Fv,`${this.id}-editor`);Gt(this,Ro);Gt(this,$m,null);Wt(this,Ko,_e.color||Ps._defaultColor||AnnotationEditor._defaultLineColor),Wt(this,Ro,_e.fontSize||Ps._defaultFontSize)}static get _keyboardManager(){const _e=Ps.prototype,vt=Et=>Et.isEmpty(),bt=AnnotationEditorUIManager.TRANSLATE_SMALL,xt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],_e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],_e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],_e._translateEmpty,{args:[-bt,0],checker:vt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],_e._translateEmpty,{args:[-xt,0],checker:vt}],[["ArrowRight","mac+ArrowRight"],_e._translateEmpty,{args:[bt,0],checker:vt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],_e._translateEmpty,{args:[xt,0],checker:vt}],[["ArrowUp","mac+ArrowUp"],_e._translateEmpty,{args:[0,-bt],checker:vt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],_e._translateEmpty,{args:[0,-xt],checker:vt}],[["ArrowDown","mac+ArrowDown"],_e._translateEmpty,{args:[0,bt],checker:vt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],_e._translateEmpty,{args:[0,xt],checker:vt}]]))}static initialize(_e,vt){AnnotationEditor.initialize(_e,vt,{strings:["pdfjs-free-text-default-content"]});const bt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(bt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(_e,vt){switch(_e){case AnnotationEditorParamsType.FREETEXT_SIZE:Ps._defaultFontSize=vt;break;case AnnotationEditorParamsType.FREETEXT_COLOR:Ps._defaultColor=vt;break}}updateParams(_e,vt){switch(_e){case AnnotationEditorParamsType.FREETEXT_SIZE:Ut(this,zs,aA).call(this,vt);break;case AnnotationEditorParamsType.FREETEXT_COLOR:Ut(this,zs,lA).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Ps._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,Ps._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,_t(this,Ro)],[AnnotationEditorParamsType.FREETEXT_COLOR,_t(this,Ko)]]}_translateEmpty(_e,vt){this._uiManager.translateSelectedEditors(_e,vt,!0)}getInitialTranslation(){const _e=this.parentScale;return[-Ps._internalPadding*_e,-(Ps._internalPadding+_t(this,Ro))*_e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_t(this,kv)),this.editorDiv.addEventListener("focus",_t(this,Tv)),this.editorDiv.addEventListener("blur",_t(this,Rv)),this.editorDiv.addEventListener("input",_t(this,Pv)),this.editorDiv.addEventListener("paste",_t(this,Mv)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_t(this,Fv)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",_t(this,kv)),this.editorDiv.removeEventListener("focus",_t(this,Tv)),this.editorDiv.removeEventListener("blur",_t(this,Rv)),this.editorDiv.removeEventListener("input",_t(this,Pv)),this.editorDiv.removeEventListener("paste",_t(this,Mv)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(_e){this._focusEventsAllowed&&(super.focusin(_e),_e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var _e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(_e=this._initialOptions)!=null&&_e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const _e=_t(this,Co),vt=Wt(this,Co,Ut(this,zs,cA).call(this).trimEnd());if(_e===vt)return;const bt=xt=>{if(Wt(this,Co,xt),!xt){this.remove();return}Ut(this,zs,wy).call(this),this._uiManager.rebuild(this),Ut(this,zs,Ay).call(this)};this.addCommands({cmd:()=>{bt(vt)},undo:()=>{bt(_e)},mustExec:!1}),Ut(this,zs,Ay).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(_e){this.enterInEditMode()}keydown(_e){_e.target===this.div&&_e.key==="Enter"&&(this.enterInEditMode(),_e.preventDefault())}editorDivKeydown(_e){Ps._keyboardManager.exec(this,_e)}editorDivFocus(_e){this.isEditing=!0}editorDivBlur(_e){this.isEditing=!1}editorDivInput(_e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let _e,vt;this.width&&(_e=this.x,vt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_t(this,Fv)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(xt=>{var Et;return(Et=this.editorDiv)==null?void 0:Et.setAttribute("default-content",xt)}),this.editorDiv.contentEditable=!0;const{style:bt}=this.editorDiv;if(bt.fontSize=`calc(${_t(this,Ro)}px * var(--scale-factor))`,bt.color=_t(this,Ko),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[xt,Et]=this.parentDimensions;if(this.annotationElementId){const{position:At}=_t(this,$m);let[wt,Ct]=this.getInitialTranslation();[wt,Ct]=this.pageTranslationToScreen(wt,Ct);const[St,Rt]=this.pageDimensions,[Pt,kt]=this.pageTranslation;let Mt,Dt;switch(this.rotation){case 0:Mt=_e+(At[0]-Pt)/St,Dt=vt+this.height-(At[1]-kt)/Rt;break;case 90:Mt=_e+(At[0]-Pt)/St,Dt=vt-(At[1]-kt)/Rt,[wt,Ct]=[Ct,-wt];break;case 180:Mt=_e-this.width+(At[0]-Pt)/St,Dt=vt-(At[1]-kt)/Rt,[wt,Ct]=[-wt,-Ct];break;case 270:Mt=_e+(At[0]-Pt-this.height*Rt)/St,Dt=vt+(At[1]-kt-this.width*St)/Rt,[wt,Ct]=[-Ct,wt];break}this.setAt(Mt*xt,Dt*Et,wt,Ct)}else this.setAt(_e*xt,vt*Et,this.width*xt,this.height*Et);Ut(this,zs,wy).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(_e){var Mt,Dt,$t;const vt=_e.clipboardData||window.clipboardData,{types:bt}=vt;if(bt.length===1&&bt[0]==="text/plain")return;_e.preventDefault();const xt=Ut(Mt=Ps,hu,t1).call(Mt,vt.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!xt)return;const Et=window.getSelection();if(!Et.rangeCount)return;this.editorDiv.normalize(),Et.deleteFromDocument();const At=Et.getRangeAt(0);if(!xt.includes(`
`)){At.insertNode(document.createTextNode(xt)),this.editorDiv.normalize(),Et.collapseToStart();return}const{startContainer:wt,startOffset:Ct}=At,St=[],Rt=[];if(wt.nodeType===Node.TEXT_NODE){const Ft=wt.parentElement;if(Rt.push(wt.nodeValue.slice(Ct).replaceAll(EOL_PATTERN,"")),Ft!==this.editorDiv){let Lt=St;for(const Ot of this.editorDiv.childNodes){if(Ot===Ft){Lt=Rt;continue}Lt.push(Ut(Dt=Ps,hu,_y).call(Dt,Ot))}}St.push(wt.nodeValue.slice(0,Ct).replaceAll(EOL_PATTERN,""))}else if(wt===this.editorDiv){let Ft=St,Lt=0;for(const Ot of this.editorDiv.childNodes)Lt++===Ct&&(Ft=Rt),Ft.push(Ut($t=Ps,hu,_y).call($t,Ot))}Wt(this,Co,`${St.join(`
`)}${xt}${Rt.join(`
`)}`),Ut(this,zs,wy).call(this);const Pt=new Range;let kt=St.reduce((Ft,Lt)=>Ft+Lt.length,0);for(const{firstChild:Ft}of this.editorDiv.childNodes)if(Ft.nodeType===Node.TEXT_NODE){const Lt=Ft.nodeValue.length;if(kt<=Lt){Pt.setStart(Ft,kt),Pt.setEnd(Ft,kt);break}kt-=Lt}Et.removeAllRanges(),Et.addRange(Pt)}get contentDiv(){return this.editorDiv}static deserialize(_e,vt,bt){var At;let xt=null;if(_e instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:wt,fontColor:Ct},rect:St,rotation:Rt,id:Pt},textContent:kt,textPosition:Mt,parent:{page:{pageNumber:Dt}}}=_e;if(!kt||kt.length===0)return null;xt=_e={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(Ct),fontSize:wt,value:kt.join(`
`),position:Mt,pageIndex:Dt-1,rect:St.slice(0),rotation:Rt,id:Pt,deleted:!1}}const Et=super.deserialize(_e,vt,bt);return Wt(Et,Ro,_e.fontSize),Wt(Et,Ko,Util.makeHexColor(..._e.color)),Wt(Et,Co,Ut(At=Ps,hu,t1).call(At,_e.value)),Et.annotationElementId=_e.id||null,Wt(Et,$m,xt),Et}serialize(_e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const vt=Ps._internalPadding*this.parentScale,bt=this.getRect(vt,vt),xt=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_t(this,Ko)),Et={annotationType:AnnotationEditorType.FREETEXT,color:xt,fontSize:_t(this,Ro),value:Ut(this,zs,uA).call(this),pageIndex:this.pageIndex,rect:bt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return _e?Et:this.annotationElementId&&!Ut(this,zs,dA).call(this,Et)?null:(Et.id=this.annotationElementId,Et)}renderAnnotationElement(_e){const vt=super.renderAnnotationElement(_e);if(this.deleted)return vt;const{style:bt}=vt;bt.fontSize=`calc(${_t(this,Ro)}px * var(--scale-factor))`,bt.color=_t(this,Ko),vt.replaceChildren();for(const Et of _t(this,Co).split(`
`)){const At=document.createElement("div");At.append(Et?document.createTextNode(Et):document.createElement("br")),vt.append(At)}const xt=Ps._internalPadding*this.parentScale;return _e.updateEdited({rect:this.getRect(xt,xt),popupContent:_t(this,Co)}),vt}resetAnnotationElement(_e){super.resetAnnotationElement(_e),_e.resetEdited()}};Rv=new WeakMap,Tv=new WeakMap,Pv=new WeakMap,kv=new WeakMap,Mv=new WeakMap,Ko=new WeakMap,Co=new WeakMap,Fv=new WeakMap,Ro=new WeakMap,$m=new WeakMap,zs=new WeakSet,aA=function(_e){const vt=xt=>{this.editorDiv.style.fontSize=`calc(${xt}px * var(--scale-factor))`,this.translate(0,-(xt-_t(this,Ro))*this.parentScale),Wt(this,Ro,xt),Ut(this,zs,Ay).call(this)},bt=_t(this,Ro);this.addCommands({cmd:vt.bind(this,_e),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},lA=function(_e){const vt=xt=>{Wt(this,Ko,this.editorDiv.style.color=xt)},bt=_t(this,Ko);this.addCommands({cmd:vt.bind(this,_e),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},cA=function(){var vt;const _e=[];this.editorDiv.normalize();for(const bt of this.editorDiv.childNodes)_e.push(Ut(vt=Ps,hu,_y).call(vt,bt));return _e.join(`
`)},Ay=function(){const[_e,vt]=this.parentDimensions;let bt;if(this.isAttachedToDOM)bt=this.div.getBoundingClientRect();else{const{currentLayer:xt,div:Et}=this,At=Et.style.display,wt=Et.classList.contains("hidden");Et.classList.remove("hidden"),Et.style.display="hidden",xt.div.append(this.div),bt=Et.getBoundingClientRect(),Et.remove(),Et.style.display=At,Et.classList.toggle("hidden",wt)}this.rotation%180===this.parentRotation%180?(this.width=bt.width/_e,this.height=bt.height/vt):(this.width=bt.height/_e,this.height=bt.width/vt),this.fixAndSetPosition()},hu=new WeakSet,_y=function(_e){return(_e.nodeType===Node.TEXT_NODE?_e.nodeValue:_e.innerText).replaceAll(EOL_PATTERN,"")},wy=function(){if(this.editorDiv.replaceChildren(),!!_t(this,Co))for(const _e of _t(this,Co).split(`
`)){const vt=document.createElement("div");vt.append(_e?document.createTextNode(_e):document.createElement("br")),this.editorDiv.append(vt)}},uA=function(){return _t(this,Co).replaceAll(""," ")},t1=function(_e){return _e.replaceAll(" ","")},dA=function(_e){const{value:vt,fontSize:bt,color:xt,pageIndex:Et}=_t(this,$m);return this._hasBeenMoved||_e.value!==vt||_e.fontSize!==bt||_e.color.some((At,wt)=>At!==xt[wt])||_e.pageIndex!==Et},Gt(Ps,hu),wr(Ps,"_freeTextDefaultContent",""),wr(Ps,"_internalPadding",0),wr(Ps,"_defaultColor",null),wr(Ps,"_defaultFontSize",10),wr(Ps,"_type","freetext"),wr(Ps,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=Ps;var Lv,Fu,Yo,vo,hA,Sy,fA,pA,n1;class Outliner{constructor($,_e=0,vt=0,bt=!0){Gt(this,vo);Gt(this,Lv);Gt(this,Fu,[]);Gt(this,Yo,[]);let xt=1/0,Et=-1/0,At=1/0,wt=-1/0;const St=10**-4;for(const{x:Ft,y:Lt,width:Ot,height:Ht}of $){const Nt=Math.floor((Ft-_e)/St)*St,Bt=Math.ceil((Ft+Ot+_e)/St)*St,jt=Math.floor((Lt-_e)/St)*St,zt=Math.ceil((Lt+Ht+_e)/St)*St,Kt=[Nt,jt,zt,!0],nn=[Bt,jt,zt,!1];_t(this,Fu).push(Kt,nn),xt=Math.min(xt,Nt),Et=Math.max(Et,Bt),At=Math.min(At,jt),wt=Math.max(wt,zt)}const Rt=Et-xt+2*vt,Pt=wt-At+2*vt,kt=xt-vt,Mt=At-vt,Dt=_t(this,Fu).at(bt?-1:-2),$t=[Dt[0],Dt[2]];for(const Ft of _t(this,Fu)){const[Lt,Ot,Ht]=Ft;Ft[0]=(Lt-kt)/Rt,Ft[1]=(Ot-Mt)/Pt,Ft[2]=(Ht-Mt)/Pt}Wt(this,Lv,{x:kt,y:Mt,width:Rt,height:Pt,lastPoint:$t})}getOutlines(){_t(this,Fu).sort((_e,vt)=>_e[0]-vt[0]||_e[1]-vt[1]||_e[2]-vt[2]);const $=[];for(const _e of _t(this,Fu))_e[3]?($.push(...Ut(this,vo,n1).call(this,_e)),Ut(this,vo,fA).call(this,_e)):(Ut(this,vo,pA).call(this,_e),$.push(...Ut(this,vo,n1).call(this,_e)));return Ut(this,vo,hA).call(this,$)}}Lv=new WeakMap,Fu=new WeakMap,Yo=new WeakMap,vo=new WeakSet,hA=function($){const _e=[],vt=new Set;for(const Et of $){const[At,wt,Ct]=Et;_e.push([At,wt,Et],[At,Ct,Et])}_e.sort((Et,At)=>Et[1]-At[1]||Et[0]-At[0]);for(let Et=0,At=_e.length;Et<At;Et+=2){const wt=_e[Et][2],Ct=_e[Et+1][2];wt.push(Ct),Ct.push(wt),vt.add(wt),vt.add(Ct)}const bt=[];let xt;for(;vt.size>0;){const Et=vt.values().next().value;let[At,wt,Ct,St,Rt]=Et;vt.delete(Et);let Pt=At,kt=wt;for(xt=[At,Ct],bt.push(xt);;){let Mt;if(vt.has(St))Mt=St;else if(vt.has(Rt))Mt=Rt;else break;vt.delete(Mt),[At,wt,Ct,St,Rt]=Mt,Pt!==At&&(xt.push(Pt,kt,At,kt===wt?wt:Ct),Pt=At),kt=kt===wt?Ct:wt}xt.push(Pt,kt)}return new HighlightOutline(bt,_t(this,Lv))},Sy=function($){const _e=_t(this,Yo);let vt=0,bt=_e.length-1;for(;vt<=bt;){const xt=vt+bt>>1,Et=_e[xt][0];if(Et===$)return xt;Et<$?vt=xt+1:bt=xt-1}return bt+1},fA=function([,$,_e]){const vt=Ut(this,vo,Sy).call(this,$);_t(this,Yo).splice(vt,0,[$,_e])},pA=function([,$,_e]){const vt=Ut(this,vo,Sy).call(this,$);for(let bt=vt;bt<_t(this,Yo).length;bt++){const[xt,Et]=_t(this,Yo)[bt];if(xt!==$)break;if(xt===$&&Et===_e){_t(this,Yo).splice(bt,1);return}}for(let bt=vt-1;bt>=0;bt--){const[xt,Et]=_t(this,Yo)[bt];if(xt!==$)break;if(xt===$&&Et===_e){_t(this,Yo).splice(bt,1);return}}},n1=function($){const[_e,vt,bt]=$,xt=[[_e,vt,bt]],Et=Ut(this,vo,Sy).call(this,bt);for(let At=0;At<Et;At++){const[wt,Ct]=_t(this,Yo)[At];for(let St=0,Rt=xt.length;St<Rt;St++){const[,Pt,kt]=xt[St];if(!(Ct<=Pt||kt<=wt)){if(Pt>=wt){if(kt>Ct)xt[St][1]=Ct;else{if(Rt===1)return[];xt.splice(St,1),St--,Rt--}continue}xt[St][2]=wt,kt>Ct&&xt.push([_e,Ct,kt])}}}return xt};class Outline{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize($,_e){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof FreeHighlightOutline}}var Dv,Om;class HighlightOutline extends Outline{constructor(_e,vt){super();Gt(this,Dv);Gt(this,Om);Wt(this,Om,_e),Wt(this,Dv,vt)}toSVGPath(){const _e=[];for(const vt of _t(this,Om)){let[bt,xt]=vt;_e.push(`M${bt} ${xt}`);for(let Et=2;Et<vt.length;Et+=2){const At=vt[Et],wt=vt[Et+1];At===bt?(_e.push(`V${wt}`),xt=wt):wt===xt&&(_e.push(`H${At}`),bt=At)}_e.push("Z")}return _e.join(" ")}serialize([_e,vt,bt,xt],Et){const At=[],wt=bt-_e,Ct=xt-vt;for(const St of _t(this,Om)){const Rt=new Array(St.length);for(let Pt=0;Pt<St.length;Pt+=2)Rt[Pt]=_e+St[Pt]*wt,Rt[Pt+1]=xt-St[Pt+1]*Ct;At.push(Rt)}return At}get box(){return _t(this,Dv)}}Dv=new WeakMap,Om=new WeakMap;var Sl,ru,Nm,jm,Cl,cs,Rp,Tp,Iv,$v,Hm,Bm,Lu,Ov,cx,ux,Nv,i1;const Nl=class Nl{constructor({x:$,y:_e},vt,bt,xt,Et,At=0){Gt(this,Nv);Gt(this,Sl);Gt(this,ru,[]);Gt(this,Nm);Gt(this,jm);Gt(this,Cl,[]);Gt(this,cs,new Float64Array(18));Gt(this,Rp);Gt(this,Tp);Gt(this,Iv);Gt(this,$v);Gt(this,Hm);Gt(this,Bm);Gt(this,Lu,[]);Wt(this,Sl,vt),Wt(this,Bm,xt*bt),Wt(this,jm,Et),_t(this,cs).set([NaN,NaN,NaN,NaN,$,_e],6),Wt(this,Nm,At),Wt(this,$v,_t(Nl,Ov)*bt),Wt(this,Iv,_t(Nl,ux)*bt),Wt(this,Hm,bt),_t(this,Lu).push($,_e)}get free(){return!0}isEmpty(){return isNaN(_t(this,cs)[8])}add({x:$,y:_e}){var Kt;Wt(this,Rp,$),Wt(this,Tp,_e);const[vt,bt,xt,Et]=_t(this,Sl);let[At,wt,Ct,St]=_t(this,cs).subarray(8,12);const Rt=$-Ct,Pt=_e-St,kt=Math.hypot(Rt,Pt);if(kt<_t(this,Iv))return!1;const Mt=kt-_t(this,$v),Dt=Mt/kt,$t=Dt*Rt,Ft=Dt*Pt;let Lt=At,Ot=wt;At=Ct,wt=St,Ct+=$t,St+=Ft,(Kt=_t(this,Lu))==null||Kt.push($,_e);const Ht=-Ft/Mt,Nt=$t/Mt,Bt=Ht*_t(this,Bm),jt=Nt*_t(this,Bm);return _t(this,cs).set(_t(this,cs).subarray(2,8),0),_t(this,cs).set([Ct+Bt,St+jt],4),_t(this,cs).set(_t(this,cs).subarray(14,18),12),_t(this,cs).set([Ct-Bt,St-jt],16),isNaN(_t(this,cs)[6])?(_t(this,Cl).length===0&&(_t(this,cs).set([At+Bt,wt+jt],2),_t(this,Cl).push(NaN,NaN,NaN,NaN,(At+Bt-vt)/xt,(wt+jt-bt)/Et),_t(this,cs).set([At-Bt,wt-jt],14),_t(this,ru).push(NaN,NaN,NaN,NaN,(At-Bt-vt)/xt,(wt-jt-bt)/Et)),_t(this,cs).set([Lt,Ot,At,wt,Ct,St],6),!this.isEmpty()):(_t(this,cs).set([Lt,Ot,At,wt,Ct,St],6),Math.abs(Math.atan2(Ot-wt,Lt-At)-Math.atan2(Ft,$t))<Math.PI/2?([At,wt,Ct,St]=_t(this,cs).subarray(2,6),_t(this,Cl).push(NaN,NaN,NaN,NaN,((At+Ct)/2-vt)/xt,((wt+St)/2-bt)/Et),[At,wt,Lt,Ot]=_t(this,cs).subarray(14,18),_t(this,ru).push(NaN,NaN,NaN,NaN,((Lt+At)/2-vt)/xt,((Ot+wt)/2-bt)/Et),!0):([Lt,Ot,At,wt,Ct,St]=_t(this,cs).subarray(0,6),_t(this,Cl).push(((Lt+5*At)/6-vt)/xt,((Ot+5*wt)/6-bt)/Et,((5*At+Ct)/6-vt)/xt,((5*wt+St)/6-bt)/Et,((At+Ct)/2-vt)/xt,((wt+St)/2-bt)/Et),[Ct,St,At,wt,Lt,Ot]=_t(this,cs).subarray(12,18),_t(this,ru).push(((Lt+5*At)/6-vt)/xt,((Ot+5*wt)/6-bt)/Et,((5*At+Ct)/6-vt)/xt,((5*wt+St)/6-bt)/Et,((At+Ct)/2-vt)/xt,((wt+St)/2-bt)/Et),!0))}toSVGPath(){if(this.isEmpty())return"";const $=_t(this,Cl),_e=_t(this,ru),vt=_t(this,cs).subarray(4,6),bt=_t(this,cs).subarray(16,18),[xt,Et,At,wt]=_t(this,Sl),[Ct,St,Rt,Pt]=Ut(this,Nv,i1).call(this);if(isNaN(_t(this,cs)[6])&&!this.isEmpty())return`M${(_t(this,cs)[2]-xt)/At} ${(_t(this,cs)[3]-Et)/wt} L${(_t(this,cs)[4]-xt)/At} ${(_t(this,cs)[5]-Et)/wt} L${Ct} ${St} L${Rt} ${Pt} L${(_t(this,cs)[16]-xt)/At} ${(_t(this,cs)[17]-Et)/wt} L${(_t(this,cs)[14]-xt)/At} ${(_t(this,cs)[15]-Et)/wt} Z`;const kt=[];kt.push(`M${$[4]} ${$[5]}`);for(let Mt=6;Mt<$.length;Mt+=6)isNaN($[Mt])?kt.push(`L${$[Mt+4]} ${$[Mt+5]}`):kt.push(`C${$[Mt]} ${$[Mt+1]} ${$[Mt+2]} ${$[Mt+3]} ${$[Mt+4]} ${$[Mt+5]}`);kt.push(`L${(vt[0]-xt)/At} ${(vt[1]-Et)/wt} L${Ct} ${St} L${Rt} ${Pt} L${(bt[0]-xt)/At} ${(bt[1]-Et)/wt}`);for(let Mt=_e.length-6;Mt>=6;Mt-=6)isNaN(_e[Mt])?kt.push(`L${_e[Mt+4]} ${_e[Mt+5]}`):kt.push(`C${_e[Mt]} ${_e[Mt+1]} ${_e[Mt+2]} ${_e[Mt+3]} ${_e[Mt+4]} ${_e[Mt+5]}`);return kt.push(`L${_e[4]} ${_e[5]} Z`),kt.join(" ")}getOutlines(){var Ft;const $=_t(this,Cl),_e=_t(this,ru),vt=_t(this,cs),bt=vt.subarray(4,6),xt=vt.subarray(16,18),[Et,At,wt,Ct]=_t(this,Sl),St=new Float64Array((((Ft=_t(this,Lu))==null?void 0:Ft.length)??0)+2);for(let Lt=0,Ot=St.length-2;Lt<Ot;Lt+=2)St[Lt]=(_t(this,Lu)[Lt]-Et)/wt,St[Lt+1]=(_t(this,Lu)[Lt+1]-At)/Ct;St[St.length-2]=(_t(this,Rp)-Et)/wt,St[St.length-1]=(_t(this,Tp)-At)/Ct;const[Rt,Pt,kt,Mt]=Ut(this,Nv,i1).call(this);if(isNaN(vt[6])&&!this.isEmpty()){const Lt=new Float64Array(36);return Lt.set([NaN,NaN,NaN,NaN,(vt[2]-Et)/wt,(vt[3]-At)/Ct,NaN,NaN,NaN,NaN,(vt[4]-Et)/wt,(vt[5]-At)/Ct,NaN,NaN,NaN,NaN,Rt,Pt,NaN,NaN,NaN,NaN,kt,Mt,NaN,NaN,NaN,NaN,(vt[16]-Et)/wt,(vt[17]-At)/Ct,NaN,NaN,NaN,NaN,(vt[14]-Et)/wt,(vt[15]-At)/Ct],0),new FreeHighlightOutline(Lt,St,_t(this,Sl),_t(this,Hm),_t(this,Nm),_t(this,jm))}const Dt=new Float64Array(_t(this,Cl).length+24+_t(this,ru).length);let $t=$.length;for(let Lt=0;Lt<$t;Lt+=2){if(isNaN($[Lt])){Dt[Lt]=Dt[Lt+1]=NaN;continue}Dt[Lt]=$[Lt],Dt[Lt+1]=$[Lt+1]}Dt.set([NaN,NaN,NaN,NaN,(bt[0]-Et)/wt,(bt[1]-At)/Ct,NaN,NaN,NaN,NaN,Rt,Pt,NaN,NaN,NaN,NaN,kt,Mt,NaN,NaN,NaN,NaN,(xt[0]-Et)/wt,(xt[1]-At)/Ct],$t),$t+=24;for(let Lt=_e.length-6;Lt>=6;Lt-=6)for(let Ot=0;Ot<6;Ot+=2){if(isNaN(_e[Lt+Ot])){Dt[$t]=Dt[$t+1]=NaN,$t+=2;continue}Dt[$t]=_e[Lt+Ot],Dt[$t+1]=_e[Lt+Ot+1],$t+=2}return Dt.set([NaN,NaN,NaN,NaN,_e[4],_e[5]],$t),new FreeHighlightOutline(Dt,St,_t(this,Sl),_t(this,Hm),_t(this,Nm),_t(this,jm))}};Sl=new WeakMap,ru=new WeakMap,Nm=new WeakMap,jm=new WeakMap,Cl=new WeakMap,cs=new WeakMap,Rp=new WeakMap,Tp=new WeakMap,Iv=new WeakMap,$v=new WeakMap,Hm=new WeakMap,Bm=new WeakMap,Lu=new WeakMap,Ov=new WeakMap,cx=new WeakMap,ux=new WeakMap,Nv=new WeakSet,i1=function(){const $=_t(this,cs).subarray(4,6),_e=_t(this,cs).subarray(16,18),[vt,bt,xt,Et]=_t(this,Sl);return[(_t(this,Rp)+($[0]-_e[0])/2-vt)/xt,(_t(this,Tp)+($[1]-_e[1])/2-bt)/Et,(_t(this,Rp)+(_e[0]-$[0])/2-vt)/xt,(_t(this,Tp)+(_e[1]-$[1])/2-bt)/Et]},Gt(Nl,Ov,8),Gt(Nl,cx,2),Gt(Nl,ux,_t(Nl,Ov)+_t(Nl,cx));let FreeOutliner=Nl;var Um,Pp,su,jv,To,Hv,js,Eo,l0,c0,gA;class FreeHighlightOutline extends Outline{constructor(_e,vt,bt,xt,Et,At){super();Gt(this,Eo);Gt(this,Um);Gt(this,Pp,null);Gt(this,su);Gt(this,jv);Gt(this,To);Gt(this,Hv);Gt(this,js);Wt(this,js,_e),Wt(this,To,vt),Wt(this,Um,bt),Wt(this,Hv,xt),Wt(this,su,Et),Wt(this,jv,At),Ut(this,Eo,gA).call(this,At);const{x:wt,y:Ct,width:St,height:Rt}=_t(this,Pp);for(let Pt=0,kt=_e.length;Pt<kt;Pt+=2)_e[Pt]=(_e[Pt]-wt)/St,_e[Pt+1]=(_e[Pt+1]-Ct)/Rt;for(let Pt=0,kt=vt.length;Pt<kt;Pt+=2)vt[Pt]=(vt[Pt]-wt)/St,vt[Pt+1]=(vt[Pt+1]-Ct)/Rt}toSVGPath(){const _e=[`M${_t(this,js)[4]} ${_t(this,js)[5]}`];for(let vt=6,bt=_t(this,js).length;vt<bt;vt+=6){if(isNaN(_t(this,js)[vt])){_e.push(`L${_t(this,js)[vt+4]} ${_t(this,js)[vt+5]}`);continue}_e.push(`C${_t(this,js)[vt]} ${_t(this,js)[vt+1]} ${_t(this,js)[vt+2]} ${_t(this,js)[vt+3]} ${_t(this,js)[vt+4]} ${_t(this,js)[vt+5]}`)}return _e.push("Z"),_e.join(" ")}serialize([_e,vt,bt,xt],Et){const At=bt-_e,wt=xt-vt;let Ct,St;switch(Et){case 0:Ct=Ut(this,Eo,l0).call(this,_t(this,js),_e,xt,At,-wt),St=Ut(this,Eo,l0).call(this,_t(this,To),_e,xt,At,-wt);break;case 90:Ct=Ut(this,Eo,c0).call(this,_t(this,js),_e,vt,At,wt),St=Ut(this,Eo,c0).call(this,_t(this,To),_e,vt,At,wt);break;case 180:Ct=Ut(this,Eo,l0).call(this,_t(this,js),bt,vt,-At,wt),St=Ut(this,Eo,l0).call(this,_t(this,To),bt,vt,-At,wt);break;case 270:Ct=Ut(this,Eo,c0).call(this,_t(this,js),bt,xt,-At,-wt),St=Ut(this,Eo,c0).call(this,_t(this,To),bt,xt,-At,-wt);break}return{outline:Array.from(Ct),points:[Array.from(St)]}}get box(){return _t(this,Pp)}getNewOutline(_e,vt){const{x:bt,y:xt,width:Et,height:At}=_t(this,Pp),[wt,Ct,St,Rt]=_t(this,Um),Pt=Et*St,kt=At*Rt,Mt=bt*St+wt,Dt=xt*Rt+Ct,$t=new FreeOutliner({x:_t(this,To)[0]*Pt+Mt,y:_t(this,To)[1]*kt+Dt},_t(this,Um),_t(this,Hv),_e,_t(this,jv),vt??_t(this,su));for(let Ft=2;Ft<_t(this,To).length;Ft+=2)$t.add({x:_t(this,To)[Ft]*Pt+Mt,y:_t(this,To)[Ft+1]*kt+Dt});return $t.getOutlines()}}Um=new WeakMap,Pp=new WeakMap,su=new WeakMap,jv=new WeakMap,To=new WeakMap,Hv=new WeakMap,js=new WeakMap,Eo=new WeakSet,l0=function(_e,vt,bt,xt,Et){const At=new Float64Array(_e.length);for(let wt=0,Ct=_e.length;wt<Ct;wt+=2)At[wt]=vt+_e[wt]*xt,At[wt+1]=bt+_e[wt+1]*Et;return At},c0=function(_e,vt,bt,xt,Et){const At=new Float64Array(_e.length);for(let wt=0,Ct=_e.length;wt<Ct;wt+=2)At[wt]=vt+_e[wt+1]*xt,At[wt+1]=bt+_e[wt]*Et;return At},gA=function(_e){const vt=_t(this,js);let bt=vt[4],xt=vt[5],Et=bt,At=xt,wt=bt,Ct=xt,St=bt,Rt=xt;const Pt=_e?Math.max:Math.min;for(let Ft=6,Lt=vt.length;Ft<Lt;Ft+=6){if(isNaN(vt[Ft]))Et=Math.min(Et,vt[Ft+4]),At=Math.min(At,vt[Ft+5]),wt=Math.max(wt,vt[Ft+4]),Ct=Math.max(Ct,vt[Ft+5]),Rt<vt[Ft+5]?(St=vt[Ft+4],Rt=vt[Ft+5]):Rt===vt[Ft+5]&&(St=Pt(St,vt[Ft+4]));else{const Ot=Util.bezierBoundingBox(bt,xt,...vt.slice(Ft,Ft+6));Et=Math.min(Et,Ot[0]),At=Math.min(At,Ot[1]),wt=Math.max(wt,Ot[2]),Ct=Math.max(Ct,Ot[3]),Rt<Ot[3]?(St=Ot[2],Rt=Ot[3]):Rt===Ot[3]&&(St=Pt(St,Ot[2]))}bt=vt[Ft+4],xt=vt[Ft+5]}const kt=Et-_t(this,su),Mt=At-_t(this,su),Dt=wt-Et+2*_t(this,su),$t=Ct-At+2*_t(this,su);Wt(this,Pp,{x:kt,y:Mt,width:Dt,height:$t,lastPoint:[St,Rt]})};var Bv,Uv,Zo,kp,zm,Gs,zv,Wm,Wv,Vv,Du,Vm,Ts,r1,s1,mA,qu,vA,Eu;const Hl=class Hl{constructor({editor:$=null,uiManager:_e=null}){Gt(this,Ts);Gt(this,Bv,Ut(this,Ts,mA).bind(this));Gt(this,Uv,Ut(this,Ts,vA).bind(this));Gt(this,Zo,null);Gt(this,kp,null);Gt(this,zm);Gt(this,Gs,null);Gt(this,zv,!1);Gt(this,Wm,!1);Gt(this,Wv,null);Gt(this,Vv);Gt(this,Du,null);Gt(this,Vm);var vt;$?(Wt(this,Wm,!1),Wt(this,Vm,AnnotationEditorParamsType.HIGHLIGHT_COLOR),Wt(this,Wv,$)):(Wt(this,Wm,!0),Wt(this,Vm,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),Wt(this,Du,($==null?void 0:$._uiManager)||_e),Wt(this,Vv,_t(this,Du)._eventBus),Wt(this,zm,($==null?void 0:$.color)||((vt=_t(this,Du))==null?void 0:vt.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],Hl.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Hl.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Hl.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Hl.prototype._moveToPrevious],[["Home","mac+Home"],Hl.prototype._moveToBeginning],[["End","mac+End"],Hl.prototype._moveToEnd]]))}renderButton(){const $=Wt(this,Zo,document.createElement("button"));$.className="colorPicker",$.tabIndex="0",$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),$.setAttribute("aria-haspopup",!0),$.addEventListener("click",Ut(this,Ts,qu).bind(this)),$.addEventListener("keydown",_t(this,Bv));const _e=Wt(this,kp,document.createElement("span"));return _e.className="swatch",_e.setAttribute("aria-hidden",!0),_e.style.backgroundColor=_t(this,zm),$.append(_e),$}renderMainDropdown(){const $=Wt(this,Gs,Ut(this,Ts,r1).call(this));return $.setAttribute("aria-orientation","horizontal"),$.setAttribute("aria-labelledby","highlightColorPickerLabel"),$}_colorSelectFromKeyboard($){if($.target===_t(this,Zo)){Ut(this,Ts,qu).call(this,$);return}const _e=$.target.getAttribute("data-color");_e&&Ut(this,Ts,s1).call(this,_e,$)}_moveToNext($){var _e,vt;if(!_t(this,Ts,Eu)){Ut(this,Ts,qu).call(this,$);return}if($.target===_t(this,Zo)){(_e=_t(this,Gs).firstChild)==null||_e.focus();return}(vt=$.target.nextSibling)==null||vt.focus()}_moveToPrevious($){var _e,vt;if($.target===((_e=_t(this,Gs))==null?void 0:_e.firstChild)||$.target===_t(this,Zo)){_t(this,Ts,Eu)&&this._hideDropdownFromKeyboard();return}_t(this,Ts,Eu)||Ut(this,Ts,qu).call(this,$),(vt=$.target.previousSibling)==null||vt.focus()}_moveToBeginning($){var _e;if(!_t(this,Ts,Eu)){Ut(this,Ts,qu).call(this,$);return}(_e=_t(this,Gs).firstChild)==null||_e.focus()}_moveToEnd($){var _e;if(!_t(this,Ts,Eu)){Ut(this,Ts,qu).call(this,$);return}(_e=_t(this,Gs).lastChild)==null||_e.focus()}hideDropdown(){var $;($=_t(this,Gs))==null||$.classList.add("hidden"),window.removeEventListener("pointerdown",_t(this,Uv))}_hideDropdownFromKeyboard(){var $;if(!_t(this,Wm)){if(!_t(this,Ts,Eu)){($=_t(this,Wv))==null||$.unselect();return}this.hideDropdown(),_t(this,Zo).focus({preventScroll:!0,focusVisible:_t(this,zv)})}}updateColor($){if(_t(this,kp)&&(_t(this,kp).style.backgroundColor=$),!_t(this,Gs))return;const _e=_t(this,Du).highlightColors.values();for(const vt of _t(this,Gs).children)vt.setAttribute("aria-selected",_e.next().value===$)}destroy(){var $,_e;($=_t(this,Zo))==null||$.remove(),Wt(this,Zo,null),Wt(this,kp,null),(_e=_t(this,Gs))==null||_e.remove(),Wt(this,Gs,null)}};Bv=new WeakMap,Uv=new WeakMap,Zo=new WeakMap,kp=new WeakMap,zm=new WeakMap,Gs=new WeakMap,zv=new WeakMap,Wm=new WeakMap,Wv=new WeakMap,Vv=new WeakMap,Du=new WeakMap,Vm=new WeakMap,Ts=new WeakSet,r1=function(){const $=document.createElement("div");$.addEventListener("contextmenu",noContextMenu),$.className="dropdown",$.role="listbox",$.setAttribute("aria-multiselectable",!1),$.setAttribute("aria-orientation","vertical"),$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[_e,vt]of _t(this,Du).highlightColors){const bt=document.createElement("button");bt.tabIndex="0",bt.role="option",bt.setAttribute("data-color",vt),bt.title=_e,bt.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${_e}`);const xt=document.createElement("span");bt.append(xt),xt.className="swatch",xt.style.backgroundColor=vt,bt.setAttribute("aria-selected",vt===_t(this,zm)),bt.addEventListener("click",Ut(this,Ts,s1).bind(this,vt)),$.append(bt)}return $.addEventListener("keydown",_t(this,Bv)),$},s1=function($,_e){_e.stopPropagation(),_t(this,Vv).dispatch("switchannotationeditorparams",{source:this,type:_t(this,Vm),value:$})},mA=function($){Hl._keyboardManager.exec(this,$)},qu=function($){if(_t(this,Ts,Eu)){this.hideDropdown();return}if(Wt(this,zv,$.detail===0),window.addEventListener("pointerdown",_t(this,Uv)),_t(this,Gs)){_t(this,Gs).classList.remove("hidden");return}const _e=Wt(this,Gs,Ut(this,Ts,r1).call(this));_t(this,Zo).append(_e)},vA=function($){var _e;(_e=_t(this,Gs))!=null&&_e.contains($.target)||this.hideDropdown()},Eu=function(){return _t(this,Gs)&&!_t(this,Gs).classList.contains("hidden")};let ColorPicker=Hl;var Gm,Gv,Iu,Mp,Xm,Io,Xv,qv,Fp,Qo,po,Po,dx,qm,Lp,Xs,Km,Rl,Kv,os,o1,a1,yA,bA,xA,l1,u0,No,_g,EA,Cy,d0,AA,_A,wA,SA;const vs=class vs extends AnnotationEditor{constructor(_e){super({..._e,name:"highlightEditor"});Gt(this,os);Gt(this,Gm,null);Gt(this,Gv,0);Gt(this,Iu);Gt(this,Mp,null);Gt(this,Xm,null);Gt(this,Io,null);Gt(this,Xv,null);Gt(this,qv,0);Gt(this,Fp,null);Gt(this,Qo,null);Gt(this,po,null);Gt(this,Po,!1);Gt(this,dx,Ut(this,os,EA).bind(this));Gt(this,qm,null);Gt(this,Lp);Gt(this,Xs,null);Gt(this,Km,"");Gt(this,Rl);Gt(this,Kv,"");this.color=_e.color||vs._defaultColor,Wt(this,Rl,_e.thickness||vs._defaultThickness),Wt(this,Lp,_e.opacity||vs._defaultOpacity),Wt(this,Iu,_e.boxes||null),Wt(this,Kv,_e.methodOfCreation||""),Wt(this,Km,_e.text||""),this._isDraggable=!1,_e.highlightId>-1?(Wt(this,Po,!0),Ut(this,os,a1).call(this,_e),Ut(this,os,u0).call(this)):(Wt(this,Gm,_e.anchorNode),Wt(this,Gv,_e.anchorOffset),Wt(this,Xv,_e.focusNode),Wt(this,qv,_e.focusOffset),Ut(this,os,o1).call(this),Ut(this,os,u0).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const _e=vs.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],_e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],_e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],_e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],_e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:_t(this,Po)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:_t(this,Rl),methodOfCreation:_t(this,Kv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(_e){return{numberOfColors:_e.get("color").size}}static initialize(_e,vt){var bt;AnnotationEditor.initialize(_e,vt),vs._defaultColor||(vs._defaultColor=((bt=vt.highlightColors)==null?void 0:bt.values().next().value)||"#fff066")}static updateDefaultParams(_e,vt){switch(_e){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:vs._defaultColor=vt;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:vs._defaultThickness=vt;break}}translateInPage(_e,vt){}get toolbarPosition(){return _t(this,qm)}updateParams(_e,vt){switch(_e){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:Ut(this,os,yA).call(this,vt);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Ut(this,os,bA).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,vs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,vs._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||vs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,_t(this,Rl)||vs._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,_t(this,Po)]]}async addEditToolbar(){const _e=await super.addEditToolbar();return _e?(this._uiManager.highlightColors&&(Wt(this,Xm,new ColorPicker({editor:this})),_e.addColorPicker(_t(this,Xm))),_e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Ut(this,os,d0).call(this))}getBaseTranslation(){return[0,0]}getRect(_e,vt){return super.getRect(_e,vt,Ut(this,os,d0).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){Ut(this,os,l1).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Ut(this,os,u0).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(_e){var bt;let vt=!1;this.parent&&!_e?Ut(this,os,l1).call(this):_e&&(Ut(this,os,u0).call(this,_e),vt=!this.parent&&((bt=this.div)==null?void 0:bt.classList.contains("selectedEditor"))),super.setParent(_e),this.show(this._isVisible),vt&&this.select()}rotate(_e){var xt,Et,At;const{drawLayer:vt}=this.parent;let bt;_t(this,Po)?(_e=(_e-this.rotation+360)%360,bt=Ut(xt=vs,No,_g).call(xt,_t(this,Qo).box,_e)):bt=Ut(Et=vs,No,_g).call(Et,this,_e),vt.rotate(_t(this,po),_e),vt.rotate(_t(this,Xs),_e),vt.updateBox(_t(this,po),bt),vt.updateBox(_t(this,Xs),Ut(At=vs,No,_g).call(At,_t(this,Io).box,_e))}render(){if(this.div)return this.div;const _e=super.render();_t(this,Km)&&(_e.setAttribute("aria-label",_t(this,Km)),_e.setAttribute("role","mark")),_t(this,Po)?_e.classList.add("free"):this.div.addEventListener("keydown",_t(this,dx));const vt=Wt(this,Fp,document.createElement("div"));_e.append(vt),vt.setAttribute("aria-hidden","true"),vt.className="internal",vt.style.clipPath=_t(this,Mp);const[bt,xt]=this.parentDimensions;return this.setDims(this.width*bt,this.height*xt),bindEvents(this,_t(this,Fp),["pointerover","pointerleave"]),this.enableEditing(),_e}pointerover(){this.parent.drawLayer.addClass(_t(this,Xs),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(_t(this,Xs),"hovered")}_moveCaret(_e){switch(this.parent.unselect(this),_e){case 0:case 2:Ut(this,os,Cy).call(this,!0);break;case 1:case 3:Ut(this,os,Cy).call(this,!1);break}}select(){var _e,vt;super.select(),_t(this,Xs)&&((_e=this.parent)==null||_e.drawLayer.removeClass(_t(this,Xs),"hovered"),(vt=this.parent)==null||vt.drawLayer.addClass(_t(this,Xs),"selected"))}unselect(){var _e;super.unselect(),_t(this,Xs)&&((_e=this.parent)==null||_e.drawLayer.removeClass(_t(this,Xs),"selected"),_t(this,Po)||Ut(this,os,Cy).call(this,!1))}get _mustFixPosition(){return!_t(this,Po)}show(_e=this._isVisible){super.show(_e),this.parent&&(this.parent.drawLayer.show(_t(this,po),_e),this.parent.drawLayer.show(_t(this,Xs),_e))}static startHighlighting(_e,vt,{target:bt,x:xt,y:Et}){const{x:At,y:wt,width:Ct,height:St}=bt.getBoundingClientRect(),Rt=Dt=>{Ut(this,No,wA).call(this,_e,Dt)},Pt={capture:!0,passive:!1},kt=Dt=>{Dt.preventDefault(),Dt.stopPropagation()},Mt=Dt=>{bt.removeEventListener("pointermove",Rt),window.removeEventListener("blur",Mt),window.removeEventListener("pointerup",Mt),window.removeEventListener("pointerdown",kt,Pt),window.removeEventListener("contextmenu",noContextMenu),Ut(this,No,SA).call(this,_e,Dt)};window.addEventListener("blur",Mt),window.addEventListener("pointerup",Mt),window.addEventListener("pointerdown",kt,Pt),window.addEventListener("contextmenu",noContextMenu),bt.addEventListener("pointermove",Rt),this._freeHighlight=new FreeOutliner({x:xt,y:Et},[At,wt,Ct,St],_e.scale,this._defaultThickness/2,vt,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=_e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(_e,vt,bt){var Dt;const xt=super.deserialize(_e,vt,bt),{rect:[Et,At,wt,Ct],color:St,quadPoints:Rt}=_e;xt.color=Util.makeHexColor(...St),Wt(xt,Lp,_e.opacity);const[Pt,kt]=xt.pageDimensions;xt.width=(wt-Et)/Pt,xt.height=(Ct-At)/kt;const Mt=Wt(xt,Iu,[]);for(let $t=0;$t<Rt.length;$t+=8)Mt.push({x:(Rt[4]-wt)/Pt,y:(Ct-(1-Rt[$t+5]))/kt,width:(Rt[$t+2]-Rt[$t])/Pt,height:(Rt[$t+5]-Rt[$t+1])/kt});return Ut(Dt=xt,os,o1).call(Dt),xt}serialize(_e=!1){if(this.isEmpty()||_e)return null;const vt=this.getRect(0,0),bt=AnnotationEditor._colorManager.convert(this.color);return{annotationType:AnnotationEditorType.HIGHLIGHT,color:bt,opacity:_t(this,Lp),thickness:_t(this,Rl),quadPoints:Ut(this,os,AA).call(this),outlines:Ut(this,os,_A).call(this,vt),pageIndex:this.pageIndex,rect:vt,rotation:Ut(this,os,d0).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Gm=new WeakMap,Gv=new WeakMap,Iu=new WeakMap,Mp=new WeakMap,Xm=new WeakMap,Io=new WeakMap,Xv=new WeakMap,qv=new WeakMap,Fp=new WeakMap,Qo=new WeakMap,po=new WeakMap,Po=new WeakMap,dx=new WeakMap,qm=new WeakMap,Lp=new WeakMap,Xs=new WeakMap,Km=new WeakMap,Rl=new WeakMap,Kv=new WeakMap,os=new WeakSet,o1=function(){const _e=new Outliner(_t(this,Iu),.001);Wt(this,Qo,_e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=_t(this,Qo).box;const vt=new Outliner(_t(this,Iu),.0025,.001,this._uiManager.direction==="ltr");Wt(this,Io,vt.getOutlines());const{lastPoint:bt}=_t(this,Io).box;Wt(this,qm,[(bt[0]-this.x)/this.width,(bt[1]-this.y)/this.height])},a1=function({highlightOutlines:_e,highlightId:vt,clipPathId:bt}){var Rt,Pt;if(Wt(this,Qo,_e),Wt(this,Io,_e.getNewOutline(_t(this,Rl)/2+1.5,.0025)),vt>=0)Wt(this,po,vt),Wt(this,Mp,bt),this.parent.drawLayer.finalizeLine(vt,_e),Wt(this,Xs,this.parent.drawLayer.highlightOutline(_t(this,Io)));else if(this.parent){const kt=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(_t(this,po),_e),this.parent.drawLayer.updateBox(_t(this,po),Ut(Rt=vs,No,_g).call(Rt,_t(this,Qo).box,(kt-this.rotation+360)%360)),this.parent.drawLayer.updateLine(_t(this,Xs),_t(this,Io)),this.parent.drawLayer.updateBox(_t(this,Xs),Ut(Pt=vs,No,_g).call(Pt,_t(this,Io).box,kt))}const{x:Et,y:At,width:wt,height:Ct}=_e.box;switch(this.rotation){case 0:this.x=Et,this.y=At,this.width=wt,this.height=Ct;break;case 90:{const[kt,Mt]=this.parentDimensions;this.x=At,this.y=1-Et,this.width=wt*Mt/kt,this.height=Ct*kt/Mt;break}case 180:this.x=1-Et,this.y=1-At,this.width=wt,this.height=Ct;break;case 270:{const[kt,Mt]=this.parentDimensions;this.x=1-At,this.y=Et,this.width=wt*Mt/kt,this.height=Ct*kt/Mt;break}}const{lastPoint:St}=_t(this,Io).box;Wt(this,qm,[(St[0]-Et)/wt,(St[1]-At)/Ct])},yA=function(_e){const vt=xt=>{var Et,At;this.color=xt,(Et=this.parent)==null||Et.drawLayer.changeColor(_t(this,po),xt),(At=_t(this,Xm))==null||At.updateColor(xt)},bt=this.color;this.addCommands({cmd:vt.bind(this,_e),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(_e)},!0)},bA=function(_e){const vt=_t(this,Rl),bt=xt=>{Wt(this,Rl,xt),Ut(this,os,xA).call(this,xt)};this.addCommands({cmd:bt.bind(this,_e),undo:bt.bind(this,vt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:_e},!0)},xA=function(_e){if(!_t(this,Po))return;Ut(this,os,a1).call(this,{highlightOutlines:_t(this,Qo).getNewOutline(_e/2)}),this.fixAndSetPosition();const[vt,bt]=this.parentDimensions;this.setDims(this.width*vt,this.height*bt)},l1=function(){_t(this,po)===null||!this.parent||(this.parent.drawLayer.remove(_t(this,po)),Wt(this,po,null),this.parent.drawLayer.remove(_t(this,Xs)),Wt(this,Xs,null))},u0=function(_e=this.parent){_t(this,po)===null&&({id:eo(this,po)._,clipPathId:eo(this,Mp)._}=_e.drawLayer.highlight(_t(this,Qo),this.color,_t(this,Lp)),Wt(this,Xs,_e.drawLayer.highlightOutline(_t(this,Io))),_t(this,Fp)&&(_t(this,Fp).style.clipPath=_t(this,Mp)))},No=new WeakSet,_g=function({x:_e,y:vt,width:bt,height:xt},Et){switch(Et){case 90:return{x:1-vt-xt,y:_e,width:xt,height:bt};case 180:return{x:1-_e-bt,y:1-vt-xt,width:bt,height:xt};case 270:return{x:vt,y:1-_e-bt,width:xt,height:bt}}return{x:_e,y:vt,width:bt,height:xt}},EA=function(_e){vs._keyboardManager.exec(this,_e)},Cy=function(_e){if(!_t(this,Gm))return;const vt=window.getSelection();_e?vt.setPosition(_t(this,Gm),_t(this,Gv)):vt.setPosition(_t(this,Xv),_t(this,qv))},d0=function(){return _t(this,Po)?this.rotation:0},AA=function(){if(_t(this,Po))return null;const[_e,vt]=this.pageDimensions,bt=_t(this,Iu),xt=new Array(bt.length*8);let Et=0;for(const{x:At,y:wt,width:Ct,height:St}of bt){const Rt=At*_e,Pt=(1-wt-St)*vt;xt[Et]=xt[Et+4]=Rt,xt[Et+1]=xt[Et+3]=Pt,xt[Et+2]=xt[Et+6]=Rt+Ct*_e,xt[Et+5]=xt[Et+7]=Pt+St*vt,Et+=8}return xt},_A=function(_e){return _t(this,Qo).serialize(_e,Ut(this,os,d0).call(this))},wA=function(_e,vt){this._freeHighlight.add(vt)&&_e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},SA=function(_e,vt){this._freeHighlight.isEmpty()?_e.drawLayer.removeFreeHighlight(this._freeHighlightId):_e.createAndAddNewEditor(vt,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Gt(vs,No),wr(vs,"_defaultColor",null),wr(vs,"_defaultOpacity",1),wr(vs,"_defaultThickness",12),wr(vs,"_l10nPromise"),wr(vs,"_type","highlight"),wr(vs,"_editorType",AnnotationEditorType.HIGHLIGHT),wr(vs,"_freeHighlightId",-1),wr(vs,"_freeHighlight",null),wr(vs,"_freeHighlightClipId","");let HighlightEditor=vs;var Dp,Ip,Yv,Zv,Qv,$p,Tl,ou,$o,Op,Np,jp,Hp,Bp,$u,Ar,CA,RA,TA,PA,c1,kA,u1,MA,FA,LA,DA,IA,Ku,d1,Ry,Ty,em,h1,Py,pu,$A,f1,OA,NA,p1,ky,h0;const Is=class Is extends AnnotationEditor{constructor(_e){super({..._e,name:"inkEditor"});Gt(this,Ar);Gt(this,Dp,0);Gt(this,Ip,0);Gt(this,Yv,this.canvasPointermove.bind(this));Gt(this,Zv,this.canvasPointerleave.bind(this));Gt(this,Qv,this.canvasPointerup.bind(this));Gt(this,$p,this.canvasPointerdown.bind(this));Gt(this,Tl,null);Gt(this,ou,new Path2D);Gt(this,$o,!1);Gt(this,Op,!1);Gt(this,Np,!1);Gt(this,jp,null);Gt(this,Hp,0);Gt(this,Bp,0);Gt(this,$u,null);this.color=_e.color||null,this.thickness=_e.thickness||null,this.opacity=_e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(_e,vt){AnnotationEditor.initialize(_e,vt)}static updateDefaultParams(_e,vt){switch(_e){case AnnotationEditorParamsType.INK_THICKNESS:Is._defaultThickness=vt;break;case AnnotationEditorParamsType.INK_COLOR:Is._defaultColor=vt;break;case AnnotationEditorParamsType.INK_OPACITY:Is._defaultOpacity=vt/100;break}}updateParams(_e,vt){switch(_e){case AnnotationEditorParamsType.INK_THICKNESS:Ut(this,Ar,CA).call(this,vt);break;case AnnotationEditorParamsType.INK_COLOR:Ut(this,Ar,RA).call(this,vt);break;case AnnotationEditorParamsType.INK_OPACITY:Ut(this,Ar,TA).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,Is._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,Is._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(Is._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Is._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||Is._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Is._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ut(this,Ar,Ry).call(this),Ut(this,Ar,Ty).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ut(this,Ar,em).call(this)),Ut(this,Ar,h0).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_t(this,Tl)&&(clearTimeout(_t(this,Tl)),Wt(this,Tl,null)),_t(this,jp).disconnect(),Wt(this,jp,null),super.remove())}setParent(_e){!this.parent&&_e?this._uiManager.removeShouldRescale(this):this.parent&&_e===null&&this._uiManager.addShouldRescale(this),super.setParent(_e)}onScaleChanging(){const[_e,vt]=this.parentDimensions,bt=this.width*_e,xt=this.height*vt;this.setDimensions(bt,xt)}enableEditMode(){_t(this,$o)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",_t(this,$p)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_t(this,$p)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){_t(this,$o)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Wt(this,$o,!0),this.div.classList.add("disabled"),Ut(this,Ar,h0).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(_e){this._focusEventsAllowed&&(super.focusin(_e),this.enableEditMode())}canvasPointerdown(_e){_e.button!==0||!this.isInEditMode()||_t(this,$o)||(this.setInForeground(),_e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),Ut(this,Ar,kA).call(this,_e.offsetX,_e.offsetY))}canvasPointermove(_e){_e.preventDefault(),Ut(this,Ar,u1).call(this,_e.offsetX,_e.offsetY)}canvasPointerup(_e){_e.preventDefault(),Ut(this,Ar,d1).call(this,_e)}canvasPointerleave(_e){Ut(this,Ar,d1).call(this,_e)}get isResizable(){return!this.isEmpty()&&_t(this,$o)}render(){if(this.div)return this.div;let _e,vt;this.width&&(_e=this.x,vt=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[bt,xt,Et,At]=Ut(this,Ar,PA).call(this);if(this.setAt(bt,xt,0,0),this.setDims(Et,At),Ut(this,Ar,Ry).call(this),this.width){const[wt,Ct]=this.parentDimensions;this.setAspectRatio(this.width*wt,this.height*Ct),this.setAt(_e*wt,vt*Ct,this.width*wt,this.height*Ct),Wt(this,Np,!0),Ut(this,Ar,em).call(this),this.setDims(this.width*wt,this.height*Ct),Ut(this,Ar,Ku).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ut(this,Ar,Ty).call(this),this.div}setDimensions(_e,vt){const bt=Math.round(_e),xt=Math.round(vt);if(_t(this,Hp)===bt&&_t(this,Bp)===xt)return;Wt(this,Hp,bt),Wt(this,Bp,xt),this.canvas.style.visibility="hidden";const[Et,At]=this.parentDimensions;this.width=_e/Et,this.height=vt/At,this.fixAndSetPosition(),_t(this,$o)&&Ut(this,Ar,h1).call(this,_e,vt),Ut(this,Ar,em).call(this),Ut(this,Ar,Ku).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(_e,vt,bt){var $t,Ft,Lt;if(_e instanceof InkAnnotationElement)return null;const xt=super.deserialize(_e,vt,bt);xt.thickness=_e.thickness,xt.color=Util.makeHexColor(..._e.color),xt.opacity=_e.opacity;const[Et,At]=xt.pageDimensions,wt=xt.width*Et,Ct=xt.height*At,St=xt.parentScale,Rt=_e.thickness/2;Wt(xt,$o,!0),Wt(xt,Hp,Math.round(wt)),Wt(xt,Bp,Math.round(Ct));const{paths:Pt,rect:kt,rotation:Mt}=_e;for(let{bezier:Ot}of Pt){Ot=Ut($t=Is,pu,OA).call($t,Ot,kt,Mt);const Ht=[];xt.paths.push(Ht);let Nt=St*(Ot[0]-Rt),Bt=St*(Ot[1]-Rt);for(let zt=2,Kt=Ot.length;zt<Kt;zt+=6){const nn=St*(Ot[zt]-Rt),qt=St*(Ot[zt+1]-Rt),en=St*(Ot[zt+2]-Rt),on=St*(Ot[zt+3]-Rt),_n=St*(Ot[zt+4]-Rt),dn=St*(Ot[zt+5]-Rt);Ht.push([[Nt,Bt],[nn,qt],[en,on],[_n,dn]]),Nt=_n,Bt=dn}const jt=Ut(this,pu,$A).call(this,Ht);xt.bezierPath2D.push(jt)}const Dt=Ut(Ft=xt,Ar,p1).call(Ft);return Wt(xt,Ip,Math.max(AnnotationEditor.MIN_SIZE,Dt[2]-Dt[0])),Wt(xt,Dp,Math.max(AnnotationEditor.MIN_SIZE,Dt[3]-Dt[1])),Ut(Lt=xt,Ar,h1).call(Lt,wt,Ct),xt}serialize(){if(this.isEmpty())return null;const _e=this.getRect(0,0),vt=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:vt,thickness:this.thickness,opacity:this.opacity,paths:Ut(this,Ar,NA).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,_e),pageIndex:this.pageIndex,rect:_e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Dp=new WeakMap,Ip=new WeakMap,Yv=new WeakMap,Zv=new WeakMap,Qv=new WeakMap,$p=new WeakMap,Tl=new WeakMap,ou=new WeakMap,$o=new WeakMap,Op=new WeakMap,Np=new WeakMap,jp=new WeakMap,Hp=new WeakMap,Bp=new WeakMap,$u=new WeakMap,Ar=new WeakSet,CA=function(_e){const vt=xt=>{this.thickness=xt,Ut(this,Ar,h0).call(this)},bt=this.thickness;this.addCommands({cmd:vt.bind(this,_e),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},RA=function(_e){const vt=xt=>{this.color=xt,Ut(this,Ar,Ku).call(this)},bt=this.color;this.addCommands({cmd:vt.bind(this,_e),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},TA=function(_e){const vt=xt=>{this.opacity=xt,Ut(this,Ar,Ku).call(this)};_e/=100;const bt=this.opacity;this.addCommands({cmd:vt.bind(this,_e),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},PA=function(){const{parentRotation:_e,parentDimensions:[vt,bt]}=this;switch(_e){case 90:return[0,bt,bt,vt];case 180:return[vt,bt,vt,bt];case 270:return[vt,0,bt,vt];default:return[0,0,vt,bt]}},c1=function(){const{ctx:_e,color:vt,opacity:bt,thickness:xt,parentScale:Et,scaleFactor:At}=this;_e.lineWidth=xt*Et/At,_e.lineCap="round",_e.lineJoin="round",_e.miterLimit=10,_e.strokeStyle=`${vt}${opacityToHex(bt)}`},kA=function(_e,vt){this.canvas.addEventListener("contextmenu",noContextMenu),this.canvas.addEventListener("pointerleave",_t(this,Zv)),this.canvas.addEventListener("pointermove",_t(this,Yv)),this.canvas.addEventListener("pointerup",_t(this,Qv)),this.canvas.removeEventListener("pointerdown",_t(this,$p)),this.isEditing=!0,_t(this,Np)||(Wt(this,Np,!0),Ut(this,Ar,em).call(this),this.thickness||(this.thickness=Is._defaultThickness),this.color||(this.color=Is._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Is._defaultOpacity)),this.currentPath.push([_e,vt]),Wt(this,Op,!1),Ut(this,Ar,c1).call(this),Wt(this,$u,()=>{Ut(this,Ar,LA).call(this),_t(this,$u)&&window.requestAnimationFrame(_t(this,$u))}),window.requestAnimationFrame(_t(this,$u))},u1=function(_e,vt){const[bt,xt]=this.currentPath.at(-1);if(this.currentPath.length>1&&_e===bt&&vt===xt)return;const Et=this.currentPath;let At=_t(this,ou);if(Et.push([_e,vt]),Wt(this,Op,!0),Et.length<=2){At.moveTo(...Et[0]),At.lineTo(_e,vt);return}Et.length===3&&(Wt(this,ou,At=new Path2D),At.moveTo(...Et[0])),Ut(this,Ar,DA).call(this,At,...Et.at(-3),...Et.at(-2),_e,vt)},MA=function(){if(this.currentPath.length===0)return;const _e=this.currentPath.at(-1);_t(this,ou).lineTo(..._e)},FA=function(_e,vt){Wt(this,$u,null),_e=Math.min(Math.max(_e,0),this.canvas.width),vt=Math.min(Math.max(vt,0),this.canvas.height),Ut(this,Ar,u1).call(this,_e,vt),Ut(this,Ar,MA).call(this);let bt;if(this.currentPath.length!==1)bt=Ut(this,Ar,IA).call(this);else{const Ct=[_e,vt];bt=[[Ct,Ct.slice(),Ct.slice(),Ct]]}const xt=_t(this,ou),Et=this.currentPath;this.currentPath=[],Wt(this,ou,new Path2D);const At=()=>{this.allRawPaths.push(Et),this.paths.push(bt),this.bezierPath2D.push(xt),this._uiManager.rebuild(this)},wt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ut(this,Ar,Ry).call(this),Ut(this,Ar,Ty).call(this)),Ut(this,Ar,h0).call(this))};this.addCommands({cmd:At,undo:wt,mustExec:!0})},LA=function(){if(!_t(this,Op))return;Wt(this,Op,!1);const _e=Math.ceil(this.thickness*this.parentScale),vt=this.currentPath.slice(-3),bt=vt.map(At=>At[0]),xt=vt.map(At=>At[1]);Math.min(...bt)-_e,Math.max(...bt)+_e,Math.min(...xt)-_e,Math.max(...xt)+_e;const{ctx:Et}=this;Et.save(),Et.clearRect(0,0,this.canvas.width,this.canvas.height);for(const At of this.bezierPath2D)Et.stroke(At);Et.stroke(_t(this,ou)),Et.restore()},DA=function(_e,vt,bt,xt,Et,At,wt){const Ct=(vt+xt)/2,St=(bt+Et)/2,Rt=(xt+At)/2,Pt=(Et+wt)/2;_e.bezierCurveTo(Ct+2*(xt-Ct)/3,St+2*(Et-St)/3,Rt+2*(xt-Rt)/3,Pt+2*(Et-Pt)/3,Rt,Pt)},IA=function(){const _e=this.currentPath;if(_e.length<=2)return[[_e[0],_e[0],_e.at(-1),_e.at(-1)]];const vt=[];let bt,[xt,Et]=_e[0];for(bt=1;bt<_e.length-2;bt++){const[kt,Mt]=_e[bt],[Dt,$t]=_e[bt+1],Ft=(kt+Dt)/2,Lt=(Mt+$t)/2,Ot=[xt+2*(kt-xt)/3,Et+2*(Mt-Et)/3],Ht=[Ft+2*(kt-Ft)/3,Lt+2*(Mt-Lt)/3];vt.push([[xt,Et],Ot,Ht,[Ft,Lt]]),[xt,Et]=[Ft,Lt]}const[At,wt]=_e[bt],[Ct,St]=_e[bt+1],Rt=[xt+2*(At-xt)/3,Et+2*(wt-Et)/3],Pt=[Ct+2*(At-Ct)/3,St+2*(wt-St)/3];return vt.push([[xt,Et],Rt,Pt,[Ct,St]]),vt},Ku=function(){if(this.isEmpty()){Ut(this,Ar,Py).call(this);return}Ut(this,Ar,c1).call(this);const{canvas:_e,ctx:vt}=this;vt.setTransform(1,0,0,1,0,0),vt.clearRect(0,0,_e.width,_e.height),Ut(this,Ar,Py).call(this);for(const bt of this.bezierPath2D)vt.stroke(bt)},d1=function(_e){this.canvas.removeEventListener("pointerleave",_t(this,Zv)),this.canvas.removeEventListener("pointermove",_t(this,Yv)),this.canvas.removeEventListener("pointerup",_t(this,Qv)),this.canvas.addEventListener("pointerdown",_t(this,$p)),_t(this,Tl)&&clearTimeout(_t(this,Tl)),Wt(this,Tl,setTimeout(()=>{Wt(this,Tl,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),Ut(this,Ar,FA).call(this,_e.offsetX,_e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ry=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ty=function(){Wt(this,jp,new ResizeObserver(_e=>{const vt=_e[0].contentRect;vt.width&&vt.height&&this.setDimensions(vt.width,vt.height)})),_t(this,jp).observe(this.div)},em=function(){if(!_t(this,Np))return;const[_e,vt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*_e),this.canvas.height=Math.ceil(this.height*vt),Ut(this,Ar,Py).call(this)},h1=function(_e,vt){const bt=Ut(this,Ar,ky).call(this),xt=(_e-bt)/_t(this,Ip),Et=(vt-bt)/_t(this,Dp);this.scaleFactor=Math.min(xt,Et)},Py=function(){const _e=Ut(this,Ar,ky).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+_e,this.translationY*this.scaleFactor+_e)},pu=new WeakSet,$A=function(_e){const vt=new Path2D;for(let bt=0,xt=_e.length;bt<xt;bt++){const[Et,At,wt,Ct]=_e[bt];bt===0&&vt.moveTo(...Et),vt.bezierCurveTo(At[0],At[1],wt[0],wt[1],Ct[0],Ct[1])}return vt},f1=function(_e,vt,bt){const[xt,Et,At,wt]=vt;switch(bt){case 0:for(let Ct=0,St=_e.length;Ct<St;Ct+=2)_e[Ct]+=xt,_e[Ct+1]=wt-_e[Ct+1];break;case 90:for(let Ct=0,St=_e.length;Ct<St;Ct+=2){const Rt=_e[Ct];_e[Ct]=_e[Ct+1]+xt,_e[Ct+1]=Rt+Et}break;case 180:for(let Ct=0,St=_e.length;Ct<St;Ct+=2)_e[Ct]=At-_e[Ct],_e[Ct+1]+=Et;break;case 270:for(let Ct=0,St=_e.length;Ct<St;Ct+=2){const Rt=_e[Ct];_e[Ct]=At-_e[Ct+1],_e[Ct+1]=wt-Rt}break;default:throw new Error("Invalid rotation")}return _e},OA=function(_e,vt,bt){const[xt,Et,At,wt]=vt;switch(bt){case 0:for(let Ct=0,St=_e.length;Ct<St;Ct+=2)_e[Ct]-=xt,_e[Ct+1]=wt-_e[Ct+1];break;case 90:for(let Ct=0,St=_e.length;Ct<St;Ct+=2){const Rt=_e[Ct];_e[Ct]=_e[Ct+1]-Et,_e[Ct+1]=Rt-xt}break;case 180:for(let Ct=0,St=_e.length;Ct<St;Ct+=2)_e[Ct]=At-_e[Ct],_e[Ct+1]-=Et;break;case 270:for(let Ct=0,St=_e.length;Ct<St;Ct+=2){const Rt=_e[Ct];_e[Ct]=wt-_e[Ct+1],_e[Ct+1]=At-Rt}break;default:throw new Error("Invalid rotation")}return _e},NA=function(_e,vt,bt,xt){var St,Rt;const Et=[],At=this.thickness/2,wt=_e*vt+At,Ct=_e*bt+At;for(const Pt of this.paths){const kt=[],Mt=[];for(let Dt=0,$t=Pt.length;Dt<$t;Dt++){const[Ft,Lt,Ot,Ht]=Pt[Dt];if(Ft[0]===Ht[0]&&Ft[1]===Ht[1]&&$t===1){const on=_e*Ft[0]+wt,_n=_e*Ft[1]+Ct;kt.push(on,_n),Mt.push(on,_n);break}const Nt=_e*Ft[0]+wt,Bt=_e*Ft[1]+Ct,jt=_e*Lt[0]+wt,zt=_e*Lt[1]+Ct,Kt=_e*Ot[0]+wt,nn=_e*Ot[1]+Ct,qt=_e*Ht[0]+wt,en=_e*Ht[1]+Ct;Dt===0&&(kt.push(Nt,Bt),Mt.push(Nt,Bt)),kt.push(jt,zt,Kt,nn,qt,en),Mt.push(jt,zt),Dt===$t-1&&Mt.push(qt,en)}Et.push({bezier:Ut(St=Is,pu,f1).call(St,kt,xt,this.rotation),points:Ut(Rt=Is,pu,f1).call(Rt,Mt,xt,this.rotation)})}return Et},p1=function(){let _e=1/0,vt=-1/0,bt=1/0,xt=-1/0;for(const Et of this.paths)for(const[At,wt,Ct,St]of Et){const Rt=Util.bezierBoundingBox(...At,...wt,...Ct,...St);_e=Math.min(_e,Rt[0]),bt=Math.min(bt,Rt[1]),vt=Math.max(vt,Rt[2]),xt=Math.max(xt,Rt[3])}return[_e,bt,vt,xt]},ky=function(){return _t(this,$o)?Math.ceil(this.thickness*this.parentScale):0},h0=function(_e=!1){if(this.isEmpty())return;if(!_t(this,$o)){Ut(this,Ar,Ku).call(this);return}const vt=Ut(this,Ar,p1).call(this),bt=Ut(this,Ar,ky).call(this);Wt(this,Ip,Math.max(AnnotationEditor.MIN_SIZE,vt[2]-vt[0])),Wt(this,Dp,Math.max(AnnotationEditor.MIN_SIZE,vt[3]-vt[1]));const xt=Math.ceil(bt+_t(this,Ip)*this.scaleFactor),Et=Math.ceil(bt+_t(this,Dp)*this.scaleFactor),[At,wt]=this.parentDimensions;this.width=xt/At,this.height=Et/wt,this.setAspectRatio(xt,Et);const Ct=this.translationX,St=this.translationY;this.translationX=-vt[0],this.translationY=-vt[1],Ut(this,Ar,em).call(this),Ut(this,Ar,Ku).call(this),Wt(this,Hp,xt),Wt(this,Bp,Et),this.setDims(xt,Et);const Rt=_e?bt/this.scaleFactor/2:0;this.translate(Ct-this.translationX-Rt,St-this.translationY-Rt)},Gt(Is,pu),wr(Is,"_defaultColor",null),wr(Is,"_defaultOpacity",1),wr(Is,"_defaultThickness",1),wr(Is,"_type","ink"),wr(Is,"_editorType",AnnotationEditorType.INK);let InkEditor=Is;var oo,ao,Ou,au,Nu,Ym,Pl,Up,Ml,Jo,Jv,gs,f0,p0,My,g1,jA,HA,m1,Fy,BA;const A0=class A0 extends AnnotationEditor{constructor(_e){super({..._e,name:"stampEditor"});Gt(this,gs);Gt(this,oo,null);Gt(this,ao,null);Gt(this,Ou,null);Gt(this,au,null);Gt(this,Nu,null);Gt(this,Ym,"");Gt(this,Pl,null);Gt(this,Up,null);Gt(this,Ml,null);Gt(this,Jo,!1);Gt(this,Jv,!1);Wt(this,au,_e.bitmapUrl),Wt(this,Nu,_e.bitmapFile)}static initialize(_e,vt){AnnotationEditor.initialize(_e,vt)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(vt=>`image/${vt}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(_e){return this.supportedTypes.includes(_e)}static paste(_e,vt){vt.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:_e.getAsFile()})}remove(){var _e,vt;_t(this,ao)&&(Wt(this,oo,null),this._uiManager.imageManager.deleteId(_t(this,ao)),(_e=_t(this,Pl))==null||_e.remove(),Wt(this,Pl,null),(vt=_t(this,Up))==null||vt.disconnect(),Wt(this,Up,null),_t(this,Ml)&&(clearTimeout(_t(this,Ml)),Wt(this,Ml,null))),super.remove()}rebuild(){if(!this.parent){_t(this,ao)&&Ut(this,gs,My).call(this);return}super.rebuild(),this.div!==null&&(_t(this,ao)&&_t(this,Pl)===null&&Ut(this,gs,My).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(_t(this,Ou)||_t(this,oo)||_t(this,au)||_t(this,Nu)||_t(this,ao))}get isResizable(){return!0}render(){if(this.div)return this.div;let _e,vt;if(this.width&&(_e=this.x,vt=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),_t(this,oo)?Ut(this,gs,g1).call(this):Ut(this,gs,My).call(this),this.width){const[bt,xt]=this.parentDimensions;this.setAt(_e*bt,vt*xt,this.width*bt,this.height*xt)}return this.div}getImageForAltText(){return _t(this,Pl)}static deserialize(_e,vt,bt){if(_e instanceof StampAnnotationElement)return null;const xt=super.deserialize(_e,vt,bt),{rect:Et,bitmapUrl:At,bitmapId:wt,isSvg:Ct,accessibilityData:St}=_e;wt&&bt.imageManager.isValidId(wt)?Wt(xt,ao,wt):Wt(xt,au,At),Wt(xt,Jo,Ct);const[Rt,Pt]=xt.pageDimensions;return xt.width=(Et[2]-Et[0])/Rt,xt.height=(Et[3]-Et[1])/Pt,St&&(xt.altTextData=St),xt}serialize(_e=!1,vt=null){if(this.isEmpty())return null;const bt={annotationType:AnnotationEditorType.STAMP,bitmapId:_t(this,ao),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_t(this,Jo),structTreeParentId:this._structTreeParentId};if(_e)return bt.bitmapUrl=Ut(this,gs,Fy).call(this,!0),bt.accessibilityData=this.altTextData,bt;const{decorative:xt,altText:Et}=this.altTextData;if(!xt&&Et&&(bt.accessibilityData={type:"Figure",alt:Et}),vt===null)return bt;vt.stamps||(vt.stamps=new Map);const At=_t(this,Jo)?(bt.rect[2]-bt.rect[0])*(bt.rect[3]-bt.rect[1]):null;if(!vt.stamps.has(_t(this,ao)))vt.stamps.set(_t(this,ao),{area:At,serialized:bt}),bt.bitmap=Ut(this,gs,Fy).call(this,!1);else if(_t(this,Jo)){const wt=vt.stamps.get(_t(this,ao));At>wt.area&&(wt.area=At,wt.serialized.bitmap.close(),wt.serialized.bitmap=Ut(this,gs,Fy).call(this,!1))}return bt}};oo=new WeakMap,ao=new WeakMap,Ou=new WeakMap,au=new WeakMap,Nu=new WeakMap,Ym=new WeakMap,Pl=new WeakMap,Up=new WeakMap,Ml=new WeakMap,Jo=new WeakMap,Jv=new WeakMap,gs=new WeakSet,f0=function(_e,vt=!1){if(!_e){this.remove();return}Wt(this,oo,_e.bitmap),vt||(Wt(this,ao,_e.id),Wt(this,Jo,_e.isSvg)),_e.file&&Wt(this,Ym,_e.file.name),Ut(this,gs,g1).call(this)},p0=function(){Wt(this,Ou,null),this._uiManager.enableWaiting(!1),_t(this,Pl)&&this.div.focus()},My=function(){if(_t(this,ao)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(_t(this,ao)).then(vt=>Ut(this,gs,f0).call(this,vt,!0)).finally(()=>Ut(this,gs,p0).call(this));return}if(_t(this,au)){const vt=_t(this,au);Wt(this,au,null),this._uiManager.enableWaiting(!0),Wt(this,Ou,this._uiManager.imageManager.getFromUrl(vt).then(bt=>Ut(this,gs,f0).call(this,bt)).finally(()=>Ut(this,gs,p0).call(this)));return}if(_t(this,Nu)){const vt=_t(this,Nu);Wt(this,Nu,null),this._uiManager.enableWaiting(!0),Wt(this,Ou,this._uiManager.imageManager.getFromFile(vt).then(bt=>Ut(this,gs,f0).call(this,bt)).finally(()=>Ut(this,gs,p0).call(this)));return}const _e=document.createElement("input");_e.type="file",_e.accept=A0.supportedTypesStr,Wt(this,Ou,new Promise(vt=>{_e.addEventListener("change",async()=>{if(!_e.files||_e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const bt=await this._uiManager.imageManager.getFromFile(_e.files[0]);Ut(this,gs,f0).call(this,bt)}vt()}),_e.addEventListener("cancel",()=>{this.remove(),vt()})}).finally(()=>Ut(this,gs,p0).call(this))),_e.click()},g1=function(){const{div:_e}=this;let{width:vt,height:bt}=_t(this,oo);const[xt,Et]=this.pageDimensions,At=.75;if(this.width)vt=this.width*xt,bt=this.height*Et;else if(vt>At*xt||bt>At*Et){const Rt=Math.min(At*xt/vt,At*Et/bt);vt*=Rt,bt*=Rt}const[wt,Ct]=this.parentDimensions;this.setDims(vt*wt/xt,bt*Ct/Et),this._uiManager.enableWaiting(!1);const St=Wt(this,Pl,document.createElement("canvas"));_e.append(St),_e.hidden=!1,Ut(this,gs,m1).call(this,vt,bt),Ut(this,gs,BA).call(this),_t(this,Jv)||(this.parent.addUndoableEditor(this),Wt(this,Jv,!0)),this._reportTelemetry({action:"inserted_image"}),_t(this,Ym)&&St.setAttribute("aria-label",_t(this,Ym))},jA=function(_e,vt){var At;const[bt,xt]=this.parentDimensions;this.width=_e/bt,this.height=vt/xt,this.setDims(_e,vt),(At=this._initialOptions)!=null&&At.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,_t(this,Ml)!==null&&clearTimeout(_t(this,Ml)),Wt(this,Ml,setTimeout(()=>{Wt(this,Ml,null),Ut(this,gs,m1).call(this,_e,vt)},200))},HA=function(_e,vt){const{width:bt,height:xt}=_t(this,oo);let Et=bt,At=xt,wt=_t(this,oo);for(;Et>2*_e||At>2*vt;){const Ct=Et,St=At;Et>2*_e&&(Et=Et>=16384?Math.floor(Et/2)-1:Math.ceil(Et/2)),At>2*vt&&(At=At>=16384?Math.floor(At/2)-1:Math.ceil(At/2));const Rt=new OffscreenCanvas(Et,At);Rt.getContext("2d").drawImage(wt,0,0,Ct,St,0,0,Et,At),wt=Rt.transferToImageBitmap()}return wt},m1=function(_e,vt){_e=Math.ceil(_e),vt=Math.ceil(vt);const bt=_t(this,Pl);if(!bt||bt.width===_e&&bt.height===vt)return;bt.width=_e,bt.height=vt;const xt=_t(this,Jo)?_t(this,oo):Ut(this,gs,HA).call(this,_e,vt);if(this._uiManager.hasMLManager&&!this.hasAltText()){const wt=new OffscreenCanvas(_e,vt).getContext("2d");wt.drawImage(xt,0,0,xt.width,xt.height,0,0,_e,vt),this._uiManager.mlGuess({service:"image-to-text",request:{data:wt.getImageData(0,0,_e,vt).data,width:_e,height:vt,channels:4}}).then(Ct=>{const St=(Ct==null?void 0:Ct.output)||"";this.parent&&St&&!this.hasAltText()&&(this.altTextData={altText:St,decorative:!1})})}const Et=bt.getContext("2d");Et.filter=this._uiManager.hcmFilter,Et.drawImage(xt,0,0,xt.width,xt.height,0,0,_e,vt)},Fy=function(_e){if(_e){if(_t(this,Jo)){const xt=this._uiManager.imageManager.getSvgUrl(_t(this,ao));if(xt)return xt}const vt=document.createElement("canvas");return{width:vt.width,height:vt.height}=_t(this,oo),vt.getContext("2d").drawImage(_t(this,oo),0,0),vt.toDataURL()}if(_t(this,Jo)){const[vt,bt]=this.pageDimensions,xt=Math.round(this.width*vt*PixelsPerInch.PDF_TO_CSS_UNITS),Et=Math.round(this.height*bt*PixelsPerInch.PDF_TO_CSS_UNITS),At=new OffscreenCanvas(xt,Et);return At.getContext("2d").drawImage(_t(this,oo),0,0,_t(this,oo).width,_t(this,oo).height,0,0,xt,Et),At.transferToImageBitmap()}return structuredClone(_t(this,oo))},BA=function(){Wt(this,Up,new ResizeObserver(_e=>{const vt=_e[0].contentRect;vt.width&&vt.height&&Ut(this,gs,jA).call(this,vt.width,vt.height)})),_t(this,Up).observe(this.div)},wr(A0,"_type","stamp"),wr(A0,"_editorType",AnnotationEditorType.STAMP);let StampEditor=A0;var zp,Zm,Fl,Wp,lu,cu,uu,ko,ju,Qm,Jm,go,Xr,Hu,lo,UA,v1,y1,b1,Ly;const Uo=class Uo{constructor({uiManager:$,pageIndex:_e,div:vt,accessibilityManager:bt,annotationLayer:xt,drawLayer:Et,textLayer:At,viewport:wt,l10n:Ct}){Gt(this,lo);Gt(this,zp);Gt(this,Zm,!1);Gt(this,Fl,null);Gt(this,Wp,null);Gt(this,lu,null);Gt(this,cu,null);Gt(this,uu,null);Gt(this,ko,new Map);Gt(this,ju,!1);Gt(this,Qm,!1);Gt(this,Jm,!1);Gt(this,go,null);Gt(this,Xr);const St=[..._t(Uo,Hu).values()];if(!Uo._initialized){Uo._initialized=!0;for(const Rt of St)Rt.initialize(Ct,$)}$.registerEditorTypes(St),Wt(this,Xr,$),this.pageIndex=_e,this.div=vt,Wt(this,zp,bt),Wt(this,Fl,xt),this.viewport=wt,Wt(this,go,At),this.drawLayer=Et,_t(this,Xr).addLayer(this)}get isEmpty(){return _t(this,ko).size===0}get isInvisible(){return this.isEmpty&&_t(this,Xr).getMode()===AnnotationEditorType.NONE}updateToolbar($){_t(this,Xr).updateToolbar($)}updateMode($=_t(this,Xr).getMode()){switch(Ut(this,lo,Ly).call(this),$){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:_e}=this.div;for(const vt of _t(Uo,Hu).values())_e.toggle(`${vt._type}Editing`,$===vt._editorType);this.div.hidden=!1}hasTextLayer($){var _e;return $===((_e=_t(this,go))==null?void 0:_e.div)}addInkEditorIfNeeded($){if(_t(this,Xr).getMode()!==AnnotationEditorType.INK)return;if(!$){for(const vt of _t(this,ko).values())if(vt.isEmpty()){vt.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($){_t(this,Xr).setEditingState($)}addCommands($){_t(this,Xr).addCommands($)}togglePointerEvents($=!1){this.div.classList.toggle("disabled",!$)}toggleAnnotationLayerPointerEvents($=!1){var _e;(_e=_t(this,Fl))==null||_e.div.classList.toggle("disabled",!$)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const $=new Set;for(const vt of _t(this,ko).values())vt.enableEditing(),vt.show(!0),vt.annotationElementId&&(_t(this,Xr).removeChangedExistingAnnotation(vt),$.add(vt.annotationElementId));if(!_t(this,Fl))return;const _e=_t(this,Fl).getEditableAnnotations();for(const vt of _e){if(vt.hide(),_t(this,Xr).isDeletedAnnotationElement(vt.data.id)||$.has(vt.data.id))continue;const bt=this.deserialize(vt);bt&&(this.addOrRebuild(bt),bt.enableEditing())}}disable(){var bt;Wt(this,Jm,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const $=new Map,_e=new Map;for(const xt of _t(this,ko).values())if(xt.disableEditing(),!!xt.annotationElementId){if(xt.serialize()!==null){$.set(xt.annotationElementId,xt);continue}else _e.set(xt.annotationElementId,xt);(bt=this.getEditableAnnotation(xt.annotationElementId))==null||bt.show(),xt.remove()}if(_t(this,Fl)){const xt=_t(this,Fl).getEditableAnnotations();for(const Et of xt){const{id:At}=Et.data;if(_t(this,Xr).isDeletedAnnotationElement(At))continue;let wt=_e.get(At);if(wt){wt.resetAnnotationElement(Et),wt.show(!1),Et.show();continue}wt=$.get(At),wt&&(_t(this,Xr).addChangedExistingAnnotation(wt),wt.renderAnnotationElement(Et),wt.show(!1)),Et.show()}}Ut(this,lo,Ly).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:vt}=this.div;for(const xt of _t(Uo,Hu).values())vt.remove(`${xt._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Wt(this,Jm,!1)}getEditableAnnotation($){var _e;return((_e=_t(this,Fl))==null?void 0:_e.getEditableAnnotation($))||null}setActiveEditor($){_t(this,Xr).getActive()!==$&&_t(this,Xr).setActiveEditor($)}enableTextSelection(){var $;this.div.tabIndex=-1,($=_t(this,go))!=null&&$.div&&!_t(this,cu)&&(Wt(this,cu,Ut(this,lo,UA).bind(this)),_t(this,go).div.addEventListener("pointerdown",_t(this,cu)),_t(this,go).div.classList.add("highlighting"))}disableTextSelection(){var $;this.div.tabIndex=0,($=_t(this,go))!=null&&$.div&&_t(this,cu)&&(_t(this,go).div.removeEventListener("pointerdown",_t(this,cu)),Wt(this,cu,null),_t(this,go).div.classList.remove("highlighting"))}enableClick(){_t(this,lu)||(Wt(this,lu,this.pointerdown.bind(this)),Wt(this,Wp,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",_t(this,lu)),this.div.addEventListener("pointerup",_t(this,Wp)))}disableClick(){_t(this,lu)&&(this.div.removeEventListener("pointerdown",_t(this,lu)),this.div.removeEventListener("pointerup",_t(this,Wp)),Wt(this,lu,null),Wt(this,Wp,null))}attach($){_t(this,ko).set($.id,$);const{annotationElementId:_e}=$;_e&&_t(this,Xr).isDeletedAnnotationElement(_e)&&_t(this,Xr).removeDeletedAnnotationElement($)}detach($){var _e;_t(this,ko).delete($.id),(_e=_t(this,zp))==null||_e.removePointerInTextLayer($.contentDiv),!_t(this,Jm)&&$.annotationElementId&&_t(this,Xr).addDeletedAnnotationElement($)}remove($){this.detach($),_t(this,Xr).removeEditor($),$.div.remove(),$.isAttachedToDOM=!1,_t(this,Qm)||this.addInkEditorIfNeeded(!1)}changeParent($){var _e;$.parent!==this&&($.parent&&$.annotationElementId&&(_t(this,Xr).addDeletedAnnotationElement($.annotationElementId),AnnotationEditor.deleteAnnotationElement($),$.annotationElementId=null),this.attach($),(_e=$.parent)==null||_e.detach($),$.setParent(this),$.div&&$.isAttachedToDOM&&($.div.remove(),this.div.append($.div)))}add($){if(!($.parent===this&&$.isAttachedToDOM)){if(this.changeParent($),_t(this,Xr).addEditor($),this.attach($),!$.isAttachedToDOM){const _e=$.render();this.div.append(_e),$.isAttachedToDOM=!0}$.fixAndSetPosition(),$.onceAdded(),_t(this,Xr).addToAnnotationStorage($),$._reportTelemetry($.telemetryInitialData)}}moveEditorInDOM($){var vt;if(!$.isAttachedToDOM)return;const{activeElement:_e}=document;$.div.contains(_e)&&!_t(this,uu)&&($._focusEventsAllowed=!1,Wt(this,uu,setTimeout(()=>{Wt(this,uu,null),$.div.contains(document.activeElement)?$._focusEventsAllowed=!0:($.div.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),_e.focus())},0))),$._structTreeParentId=(vt=_t(this,zp))==null?void 0:vt.moveElementInDOM(this.div,$.div,$.contentDiv,!0)}addOrRebuild($){$.needsToBeRebuilt()?($.parent||($.parent=this),$.rebuild(),$.show()):this.add($)}addUndoableEditor($){const _e=()=>$._uiManager.rebuild($),vt=()=>{$.remove()};this.addCommands({cmd:_e,undo:vt,mustExec:!1})}getNextId(){return _t(this,Xr).getId()}canCreateNewEmptyEditor(){var $;return($=_t(this,lo,v1))==null?void 0:$.canCreateNewEmptyEditor()}pasteEditor($,_e){_t(this,Xr).updateToolbar($),_t(this,Xr).updateMode($);const{offsetX:vt,offsetY:bt}=Ut(this,lo,b1).call(this),xt=this.getNextId(),Et=Ut(this,lo,y1).call(this,{parent:this,id:xt,x:vt,y:bt,uiManager:_t(this,Xr),isCentered:!0,..._e});Et&&this.add(Et)}deserialize($){var _e;return((_e=_t(Uo,Hu).get($.annotationType??$.annotationEditorType))==null?void 0:_e.deserialize($,this,_t(this,Xr)))||null}createAndAddNewEditor($,_e,vt={}){const bt=this.getNextId(),xt=Ut(this,lo,y1).call(this,{parent:this,id:bt,x:$.offsetX,y:$.offsetY,uiManager:_t(this,Xr),isCentered:_e,...vt});return xt&&this.add(xt),xt}addNewEditor(){this.createAndAddNewEditor(Ut(this,lo,b1).call(this),!0)}setSelected($){_t(this,Xr).setSelected($)}toggleSelected($){_t(this,Xr).toggleSelected($)}isSelected($){return _t(this,Xr).isSelected($)}unselect($){_t(this,Xr).unselect($)}pointerup($){const{isMac:_e}=util_FeatureTest.platform;if(!($.button!==0||$.ctrlKey&&_e)&&$.target===this.div&&_t(this,ju)){if(Wt(this,ju,!1),!_t(this,Zm)){Wt(this,Zm,!0);return}if(_t(this,Xr).getMode()===AnnotationEditorType.STAMP){_t(this,Xr).unselectAll();return}this.createAndAddNewEditor($,!1)}}pointerdown($){if(_t(this,Xr).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),_t(this,ju)){Wt(this,ju,!1);return}const{isMac:_e}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&_e||$.target!==this.div)return;Wt(this,ju,!0);const vt=_t(this,Xr).getActive();Wt(this,Zm,!vt||vt.isEmpty())}findNewParent($,_e,vt){const bt=_t(this,Xr).findParent(_e,vt);return bt===null||bt===this?!1:(bt.changeParent($),!0)}destroy(){var $,_e;(($=_t(this,Xr).getActive())==null?void 0:$.parent)===this&&(_t(this,Xr).commitOrRemove(),_t(this,Xr).setActiveEditor(null)),_t(this,uu)&&(clearTimeout(_t(this,uu)),Wt(this,uu,null));for(const vt of _t(this,ko).values())(_e=_t(this,zp))==null||_e.removePointerInTextLayer(vt.contentDiv),vt.setParent(null),vt.isAttachedToDOM=!1,vt.div.remove();this.div=null,_t(this,ko).clear(),_t(this,Xr).removeLayer(this)}render({viewport:$}){this.viewport=$,setLayerDimensions(this.div,$);for(const _e of _t(this,Xr).getEditors(this.pageIndex))this.add(_e),_e.rebuild();this.updateMode()}update({viewport:$}){_t(this,Xr).commitOrRemove(),Ut(this,lo,Ly).call(this);const _e=this.viewport.rotation,vt=$.rotation;if(this.viewport=$,setLayerDimensions(this.div,{rotation:vt}),_e!==vt)for(const bt of _t(this,ko).values())bt.rotate(vt);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:$,pageHeight:_e}=this.viewport.rawDims;return[$,_e]}get scale(){return _t(this,Xr).viewParameters.realScale}};zp=new WeakMap,Zm=new WeakMap,Fl=new WeakMap,Wp=new WeakMap,lu=new WeakMap,cu=new WeakMap,uu=new WeakMap,ko=new WeakMap,ju=new WeakMap,Qm=new WeakMap,Jm=new WeakMap,go=new WeakMap,Xr=new WeakMap,Hu=new WeakMap,lo=new WeakSet,UA=function($){if(_t(this,Xr).unselectAll(),$.target===_t(this,go).div){const{isMac:_e}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&_e)return;_t(this,Xr).showAllEditors("highlight",!0,!0),_t(this,go).div.classList.add("free"),HighlightEditor.startHighlighting(this,_t(this,Xr).direction==="ltr",$),_t(this,go).div.addEventListener("pointerup",()=>{_t(this,go).div.classList.remove("free")},{once:!0}),$.preventDefault()}},v1=function(){return _t(Uo,Hu).get(_t(this,Xr).getMode())},y1=function($){const _e=_t(this,lo,v1);return _e?new _e.prototype.constructor($):null},b1=function(){const{x:$,y:_e,width:vt,height:bt}=this.div.getBoundingClientRect(),xt=Math.max(0,$),Et=Math.max(0,_e),At=Math.min(window.innerWidth,$+vt),wt=Math.min(window.innerHeight,_e+bt),Ct=(xt+At)/2-$,St=(Et+wt)/2-_e,[Rt,Pt]=this.viewport.rotation%180===0?[Ct,St]:[St,Ct];return{offsetX:Rt,offsetY:Pt}},Ly=function(){Wt(this,Qm,!0);for(const $ of _t(this,ko).values())$.isEmpty()&&$.remove();Wt(this,Qm,!1)},wr(Uo,"_initialized",!1),Gt(Uo,Hu,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map($=>[$._editorType,$])));let AnnotationEditorLayer=Uo;var Ll,ey,qs,Bu,ty,x1,Gp,E1,zA;const to=class to{constructor({pageIndex:$}){Gt(this,Gp);Gt(this,Ll,null);Gt(this,ey,0);Gt(this,qs,new Map);Gt(this,Bu,new Map);this.pageIndex=$}setParent($){if(!_t(this,Ll)){Wt(this,Ll,$);return}if(_t(this,Ll)!==$){if(_t(this,qs).size>0)for(const _e of _t(this,qs).values())_e.remove(),$.append(_e);Wt(this,Ll,$)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}highlight($,_e,vt,bt=!1){const xt=eo(this,ey)._++,Et=Ut(this,Gp,E1).call(this,$.box);Et.classList.add("highlight"),$.free&&Et.classList.add("free");const At=to._svgFactory.createElement("defs");Et.append(At);const wt=to._svgFactory.createElement("path");At.append(wt);const Ct=`path_p${this.pageIndex}_${xt}`;wt.setAttribute("id",Ct),wt.setAttribute("d",$.toSVGPath()),bt&&_t(this,Bu).set(xt,wt);const St=Ut(this,Gp,zA).call(this,At,Ct),Rt=to._svgFactory.createElement("use");return Et.append(Rt),Et.setAttribute("fill",_e),Et.setAttribute("fill-opacity",vt),Rt.setAttribute("href",`#${Ct}`),_t(this,qs).set(xt,Et),{id:xt,clipPathId:`url(#${St})`}}highlightOutline($){const _e=eo(this,ey)._++,vt=Ut(this,Gp,E1).call(this,$.box);vt.classList.add("highlightOutline");const bt=to._svgFactory.createElement("defs");vt.append(bt);const xt=to._svgFactory.createElement("path");bt.append(xt);const Et=`path_p${this.pageIndex}_${_e}`;xt.setAttribute("id",Et),xt.setAttribute("d",$.toSVGPath()),xt.setAttribute("vector-effect","non-scaling-stroke");let At;if($.free){vt.classList.add("free");const St=to._svgFactory.createElement("mask");bt.append(St),At=`mask_p${this.pageIndex}_${_e}`,St.setAttribute("id",At),St.setAttribute("maskUnits","objectBoundingBox");const Rt=to._svgFactory.createElement("rect");St.append(Rt),Rt.setAttribute("width","1"),Rt.setAttribute("height","1"),Rt.setAttribute("fill","white");const Pt=to._svgFactory.createElement("use");St.append(Pt),Pt.setAttribute("href",`#${Et}`),Pt.setAttribute("stroke","none"),Pt.setAttribute("fill","black"),Pt.setAttribute("fill-rule","nonzero"),Pt.classList.add("mask")}const wt=to._svgFactory.createElement("use");vt.append(wt),wt.setAttribute("href",`#${Et}`),At&&wt.setAttribute("mask",`url(#${At})`);const Ct=wt.cloneNode();return vt.append(Ct),wt.classList.add("mainOutline"),Ct.classList.add("secondaryOutline"),_t(this,qs).set(_e,vt),_e}finalizeLine($,_e){const vt=_t(this,Bu).get($);_t(this,Bu).delete($),this.updateBox($,_e.box),vt.setAttribute("d",_e.toSVGPath())}updateLine($,_e){_t(this,qs).get($).firstChild.firstChild.setAttribute("d",_e.toSVGPath())}removeFreeHighlight($){this.remove($),_t(this,Bu).delete($)}updatePath($,_e){_t(this,Bu).get($).setAttribute("d",_e.toSVGPath())}updateBox($,_e){var vt;Ut(vt=to,ty,x1).call(vt,_t(this,qs).get($),_e)}show($,_e){_t(this,qs).get($).classList.toggle("hidden",!_e)}rotate($,_e){_t(this,qs).get($).setAttribute("data-main-rotation",_e)}changeColor($,_e){_t(this,qs).get($).setAttribute("fill",_e)}changeOpacity($,_e){_t(this,qs).get($).setAttribute("fill-opacity",_e)}addClass($,_e){_t(this,qs).get($).classList.add(_e)}removeClass($,_e){_t(this,qs).get($).classList.remove(_e)}remove($){_t(this,Ll)!==null&&(_t(this,qs).get($).remove(),_t(this,qs).delete($))}destroy(){Wt(this,Ll,null);for(const $ of _t(this,qs).values())$.remove();_t(this,qs).clear()}};Ll=new WeakMap,ey=new WeakMap,qs=new WeakMap,Bu=new WeakMap,ty=new WeakSet,x1=function($,{x:_e=0,y:vt=0,width:bt=1,height:xt=1}={}){const{style:Et}=$;Et.top=`${100*vt}%`,Et.left=`${100*_e}%`,Et.width=`${100*bt}%`,Et.height=`${100*xt}%`},Gp=new WeakSet,E1=function($){var vt;const _e=to._svgFactory.create(1,1,!0);return _t(this,Ll).append(_e),_e.setAttribute("aria-hidden",!0),Ut(vt=to,ty,x1).call(vt,_e,$),_e},zA=function($,_e){const vt=to._svgFactory.createElement("clipPath");$.append(vt);const bt=`clip_${_e}`;vt.setAttribute("id",bt),vt.setAttribute("clipPathUnits","objectBoundingBox");const xt=to._svgFactory.createElement("use");return vt.append(xt),xt.setAttribute("href",`#${_e}`),xt.classList.add("clip"),bt},Gt(to,ty);let DrawLayer=to;__webpack_exports__.AbortException;__webpack_exports__.AnnotationEditorLayer;__webpack_exports__.AnnotationEditorParamsType;__webpack_exports__.AnnotationEditorType;__webpack_exports__.AnnotationEditorUIManager;__webpack_exports__.AnnotationLayer;__webpack_exports__.AnnotationMode;__webpack_exports__.CMapCompressionType;__webpack_exports__.ColorPicker;__webpack_exports__.DOMSVGFactory;__webpack_exports__.DrawLayer;__webpack_exports__.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions;__webpack_exports__.ImageKind;__webpack_exports__.InvalidPDFException;__webpack_exports__.MissingPDFException;__webpack_exports__.OPS;__webpack_exports__.Outliner;__webpack_exports__.PDFDataRangeTransport;__webpack_exports__.PDFDateString;__webpack_exports__.PDFWorker;__webpack_exports__.PasswordResponses;__webpack_exports__.PermissionFlag;__webpack_exports__.PixelsPerInch;__webpack_exports__.RenderingCancelledException;__webpack_exports__.TextLayer;__webpack_exports__.UnexpectedResponseException;__webpack_exports__.Util;__webpack_exports__.VerbosityLevel;__webpack_exports__.XfaLayer;__webpack_exports__.build;__webpack_exports__.createValidAbsoluteUrl;__webpack_exports__.fetchData;__webpack_exports__.getDocument;__webpack_exports__.getFilenameFromUrl;__webpack_exports__.getPdfFilenameFromUrl;__webpack_exports__.getXfaPageViewport;__webpack_exports__.isDataScheme;__webpack_exports__.isPdfFile;__webpack_exports__.noContextMenu;__webpack_exports__.normalizeUnicode;__webpack_exports__.renderTextLayer;__webpack_exports__.setLayerDimensions;__webpack_exports__.shadow;__webpack_exports__.updateTextLayer;__webpack_exports__.version;__webpack_exports__GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker.min-DKQKFyKK.js",import.meta.url).toString();function Upload(){const[ht,$]=reactExports.useState(""),[_e,vt]=reactExports.useState(""),[bt,xt]=reactExports.useState(null);reactExports.useState(null);const Et=async At=>{At.preventDefault();const wt=new FormData;wt.append("title",ht),wt.append("file",_e),console.log(ht,_e);const Ct=await axios.post("/en/uploadpdf",wt,{headers:{"Content-Type":"multipart/form-data"}});console.log(Ct),Ct.data.status=="ok"&&(alert("Uploaded Successfully!!!"),getPdf())};return jsxRuntimeExports.jsxs("div",{className:"App",children:[jsxRuntimeExports.jsxs("form",{className:"formStyle",onSubmit:Et,children:[jsxRuntimeExports.jsx("h4",{children:"Upload Pdf in React"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"text",className:"form-control",placeholder:"Title",required:!0,onChange:At=>$(At.target.value)}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"file",class:"form-control",accept:"application/pdf",required:!0,onChange:At=>vt(At.target.files[0])}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{class:"btn btn-primary",type:"submit",children:"Submit"})]}),jsxRuntimeExports.jsxs("div",{className:"uploaded",children:[jsxRuntimeExports.jsx("h4",{children:"Uploaded PDF:"}),jsxRuntimeExports.jsx("div",{className:"output-div",children:bt==null?"":bt.map(At=>jsxRuntimeExports.jsxs("div",{className:"inner-div",children:[jsxRuntimeExports.jsxs("h6",{children:["Title: ",At.title]}),jsxRuntimeExports.jsx("button",{className:"btn btn-primary",onClick:()=>showPdf(At.pdf),children:"Show Pdf"})]}))})]})]})}var core_min={};function commonjsRequire(ht){throw new Error('Could not dynamically require "'+ht+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,_e){module.exports=$.pdfjsLib=_e()})(globalThis,()=>(()=>{var __webpack_modules__=[,(ht,$)=>{var is;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=tn,$.bytesToString=Un,$.createValidAbsoluteUrl=Sn,$.getModificationDate=nr,$.getUuid=_r,$.getVerbosityLevel=dn,$.info=En,$.isArrayBuffer=Tn,$.isArrayEqual=or,$.isNodeJS=void 0,$.normalizeUnicode=hr,$.objectFromMap=Zn,$.objectSize=Yn,$.setVerbosityLevel=_n,$.shadow=rn,$.string32=Gn,$.stringToBytes=zn,$.stringToPDFString=Wn,$.stringToUTF8String=Qn,$.unreachable=hn,$.utf8StringToString=qn,$.warn=cn;const _e=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=_e;const vt=[1,0,0,1,0,0];$.IDENTITY_MATRIX=vt;const bt=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=bt;const xt=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=xt;const Et=1.35;$.LINE_FACTOR=Et;const At=.35;$.LINE_DESCENT_FACTOR=At;const wt=At/Et;$.BASELINE_FACTOR=wt;const Ct={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=Ct;const St={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=St;const Rt="pdfjs_internal_editor_";$.AnnotationEditorPrefix=Rt;const Pt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=Pt;const kt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=kt;const Mt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=Mt;const Dt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=Dt;const $t={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=$t;const Ft={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=Ft;const Lt={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=Lt;const Ot={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=Ot;const Ht={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=Ht;const Nt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=Nt;const Bt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=Bt;const jt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=jt;const zt={O:"PageOpen",C:"PageClose"};$.PageActionEventType=zt;const Kt={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=Kt;const nn={NONE:0,BINARY:1};$.CMapCompressionType=nn;const qt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=qt;const en={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=en;let on=Kt.WARNINGS;function _n(Xn){Number.isInteger(Xn)&&(on=Xn)}function dn(){return on}function En(Xn){on>=Kt.INFOS&&console.log(`Info: ${Xn}`)}function cn(Xn){on>=Kt.WARNINGS&&console.log(`Warning: ${Xn}`)}function hn(Xn){throw new Error(Xn)}function tn(Xn,kn){Xn||hn(kn)}function gn(Xn){switch(Xn==null?void 0:Xn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Sn(Xn,kn=null,Fn=null){if(!Xn)return null;try{if(Fn&&typeof Xn=="string"){if(Fn.addDefaultProtocol&&Xn.startsWith("www.")){const gr=Xn.match(/\./g);(gr==null?void 0:gr.length)>=2&&(Xn=`http://${Xn}`)}if(Fn.tryConvertEncoding)try{Xn=Qn(Xn)}catch{}}const dr=kn?new URL(Xn,kn):new URL(Xn);if(gn(dr))return dr}catch{}return null}function rn(Xn,kn,Fn,dr=!1){return Object.defineProperty(Xn,kn,{value:Fn,enumerable:!dr,configurable:!0,writable:!1}),Fn}const Xt=function(){function kn(Fn,dr){this.constructor===kn&&hn("Cannot initialize BaseException."),this.message=Fn,this.name=dr}return kn.prototype=new Error,kn.constructor=kn,kn}();$.BaseException=Xt;class Yt extends Xt{constructor(kn,Fn){super(kn,"PasswordException"),this.code=Fn}}$.PasswordException=Yt;class Jt extends Xt{constructor(kn,Fn){super(kn,"UnknownErrorException"),this.details=Fn}}$.UnknownErrorException=Jt;class un extends Xt{constructor(kn){super(kn,"InvalidPDFException")}}$.InvalidPDFException=un;class ln extends Xt{constructor(kn){super(kn,"MissingPDFException")}}$.MissingPDFException=ln;class fn extends Xt{constructor(kn,Fn){super(kn,"UnexpectedResponseException"),this.status=Fn}}$.UnexpectedResponseException=fn;class Rn extends Xt{constructor(kn){super(kn,"FormatError")}}$.FormatError=Rn;class jn extends Xt{constructor(kn){super(kn,"AbortException")}}$.AbortException=jn;function Un(Xn){(typeof Xn!="object"||(Xn==null?void 0:Xn.length)===void 0)&&hn("Invalid argument for bytesToString");const kn=Xn.length,Fn=8192;if(kn<Fn)return String.fromCharCode.apply(null,Xn);const dr=[];for(let gr=0;gr<kn;gr+=Fn){const Tr=Math.min(gr+Fn,kn),vn=Xn.subarray(gr,Tr);dr.push(String.fromCharCode.apply(null,vn))}return dr.join("")}function zn(Xn){typeof Xn!="string"&&hn("Invalid argument for stringToBytes");const kn=Xn.length,Fn=new Uint8Array(kn);for(let dr=0;dr<kn;++dr)Fn[dr]=Xn.charCodeAt(dr)&255;return Fn}function Gn(Xn){return String.fromCharCode(Xn>>24&255,Xn>>16&255,Xn>>8&255,Xn&255)}function Yn(Xn){return Object.keys(Xn).length}function Zn(Xn){const kn=Object.create(null);for(const[Fn,dr]of Xn)kn[Fn]=dr;return kn}function Dn(){const Xn=new Uint8Array(4);return Xn[0]=1,new Uint32Array(Xn.buffer,0,1)[0]===1}function $n(){try{return new Function(""),!0}catch{return!1}}class sn{static get isLittleEndian(){return rn(this,"isLittleEndian",Dn())}static get isEvalSupported(){return rn(this,"isEvalSupported",$n())}static get isOffscreenCanvasSupported(){return rn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?rn(this,"platform",{isWin:!1,isMac:!1}):rn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var kn,Fn;return rn(this,"isCSSRoundSupported",(Fn=(kn=globalThis.CSS)==null?void 0:kn.supports)==null?void 0:Fn.call(kn,"width: round(1.5px, 1px)"))}}$.FeatureTest=sn;const mn=[...Array(256).keys()].map(Xn=>Xn.toString(16).padStart(2,"0"));class Pn{static makeHexColor(kn,Fn,dr){return`#${mn[kn]}${mn[Fn]}${mn[dr]}`}static scaleMinMax(kn,Fn){let dr;kn[0]?(kn[0]<0&&(dr=Fn[0],Fn[0]=Fn[1],Fn[1]=dr),Fn[0]*=kn[0],Fn[1]*=kn[0],kn[3]<0&&(dr=Fn[2],Fn[2]=Fn[3],Fn[3]=dr),Fn[2]*=kn[3],Fn[3]*=kn[3]):(dr=Fn[0],Fn[0]=Fn[2],Fn[2]=dr,dr=Fn[1],Fn[1]=Fn[3],Fn[3]=dr,kn[1]<0&&(dr=Fn[2],Fn[2]=Fn[3],Fn[3]=dr),Fn[2]*=kn[1],Fn[3]*=kn[1],kn[2]<0&&(dr=Fn[0],Fn[0]=Fn[1],Fn[1]=dr),Fn[0]*=kn[2],Fn[1]*=kn[2]),Fn[0]+=kn[4],Fn[1]+=kn[4],Fn[2]+=kn[5],Fn[3]+=kn[5]}static transform(kn,Fn){return[kn[0]*Fn[0]+kn[2]*Fn[1],kn[1]*Fn[0]+kn[3]*Fn[1],kn[0]*Fn[2]+kn[2]*Fn[3],kn[1]*Fn[2]+kn[3]*Fn[3],kn[0]*Fn[4]+kn[2]*Fn[5]+kn[4],kn[1]*Fn[4]+kn[3]*Fn[5]+kn[5]]}static applyTransform(kn,Fn){const dr=kn[0]*Fn[0]+kn[1]*Fn[2]+Fn[4],gr=kn[0]*Fn[1]+kn[1]*Fn[3]+Fn[5];return[dr,gr]}static applyInverseTransform(kn,Fn){const dr=Fn[0]*Fn[3]-Fn[1]*Fn[2],gr=(kn[0]*Fn[3]-kn[1]*Fn[2]+Fn[2]*Fn[5]-Fn[4]*Fn[3])/dr,Tr=(-kn[0]*Fn[1]+kn[1]*Fn[0]+Fn[4]*Fn[1]-Fn[5]*Fn[0])/dr;return[gr,Tr]}static getAxialAlignedBoundingBox(kn,Fn){const dr=this.applyTransform(kn,Fn),gr=this.applyTransform(kn.slice(2,4),Fn),Tr=this.applyTransform([kn[0],kn[3]],Fn),vn=this.applyTransform([kn[2],kn[1]],Fn);return[Math.min(dr[0],gr[0],Tr[0],vn[0]),Math.min(dr[1],gr[1],Tr[1],vn[1]),Math.max(dr[0],gr[0],Tr[0],vn[0]),Math.max(dr[1],gr[1],Tr[1],vn[1])]}static inverseTransform(kn){const Fn=kn[0]*kn[3]-kn[1]*kn[2];return[kn[3]/Fn,-kn[1]/Fn,-kn[2]/Fn,kn[0]/Fn,(kn[2]*kn[5]-kn[4]*kn[3])/Fn,(kn[4]*kn[1]-kn[5]*kn[0])/Fn]}static singularValueDecompose2dScale(kn){const Fn=[kn[0],kn[2],kn[1],kn[3]],dr=kn[0]*Fn[0]+kn[1]*Fn[2],gr=kn[0]*Fn[1]+kn[1]*Fn[3],Tr=kn[2]*Fn[0]+kn[3]*Fn[2],vn=kn[2]*Fn[1]+kn[3]*Fn[3],Vn=(dr+vn)/2,sr=Math.sqrt((dr+vn)**2-4*(dr*vn-Tr*gr))/2,mr=Vn+sr||1,br=Vn-sr||1;return[Math.sqrt(mr),Math.sqrt(br)]}static normalizeRect(kn){const Fn=kn.slice(0);return kn[0]>kn[2]&&(Fn[0]=kn[2],Fn[2]=kn[0]),kn[1]>kn[3]&&(Fn[1]=kn[3],Fn[3]=kn[1]),Fn}static intersect(kn,Fn){const dr=Math.max(Math.min(kn[0],kn[2]),Math.min(Fn[0],Fn[2])),gr=Math.min(Math.max(kn[0],kn[2]),Math.max(Fn[0],Fn[2]));if(dr>gr)return null;const Tr=Math.max(Math.min(kn[1],kn[3]),Math.min(Fn[1],Fn[3])),vn=Math.min(Math.max(kn[1],kn[3]),Math.max(Fn[1],Fn[3]));return Tr>vn?null:[dr,Tr,gr,vn]}static bezierBoundingBox(kn,Fn,dr,gr,Tr,vn,Vn,sr){const mr=[],br=[[],[]];let ur,pn,an,wn,Hn,Bn,Kn,tr;for(let Hr=0;Hr<2;++Hr){if(Hr===0?(pn=6*kn-12*dr+6*Tr,ur=-3*kn+9*dr-9*Tr+3*Vn,an=3*dr-3*kn):(pn=6*Fn-12*gr+6*vn,ur=-3*Fn+9*gr-9*vn+3*sr,an=3*gr-3*Fn),Math.abs(ur)<1e-12){if(Math.abs(pn)<1e-12)continue;wn=-an/pn,0<wn&&wn<1&&mr.push(wn);continue}Kn=pn*pn-4*an*ur,tr=Math.sqrt(Kn),!(Kn<0)&&(Hn=(-pn+tr)/(2*ur),0<Hn&&Hn<1&&mr.push(Hn),Bn=(-pn-tr)/(2*ur),0<Bn&&Bn<1&&mr.push(Bn))}let vr=mr.length,fr;const lr=vr;for(;vr--;)wn=mr[vr],fr=1-wn,br[0][vr]=fr*fr*fr*kn+3*fr*fr*wn*dr+3*fr*wn*wn*Tr+wn*wn*wn*Vn,br[1][vr]=fr*fr*fr*Fn+3*fr*fr*wn*gr+3*fr*wn*wn*vn+wn*wn*wn*sr;return br[0][lr]=kn,br[1][lr]=Fn,br[0][lr+1]=Vn,br[1][lr+1]=sr,br[0].length=br[1].length=lr+2,[Math.min(...br[0]),Math.min(...br[1]),Math.max(...br[0]),Math.max(...br[1])]}}$.Util=Pn;const On=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Wn(Xn){if(Xn[0]>=""){let Fn;if(Xn[0]===""&&Xn[1]===""?Fn="utf-16be":Xn[0]===""&&Xn[1]===""?Fn="utf-16le":Xn[0]===""&&Xn[1]===""&&Xn[2]===""&&(Fn="utf-8"),Fn)try{const dr=new TextDecoder(Fn,{fatal:!0}),gr=zn(Xn);return dr.decode(gr)}catch(dr){cn(`stringToPDFString: "${dr}".`)}}const kn=[];for(let Fn=0,dr=Xn.length;Fn<dr;Fn++){const gr=On[Xn.charCodeAt(Fn)];kn.push(gr?String.fromCharCode(gr):Xn.charAt(Fn))}return kn.join("")}function Qn(Xn){return decodeURIComponent(escape(Xn))}function qn(Xn){return unescape(encodeURIComponent(Xn))}function Tn(Xn){return typeof Xn=="object"&&(Xn==null?void 0:Xn.byteLength)!==void 0}function or(Xn,kn){if(Xn.length!==kn.length)return!1;for(let Fn=0,dr=Xn.length;Fn<dr;Fn++)if(Xn[Fn]!==kn[Fn])return!1;return!0}function nr(Xn=new Date){return[Xn.getUTCFullYear().toString(),(Xn.getUTCMonth()+1).toString().padStart(2,"0"),Xn.getUTCDate().toString().padStart(2,"0"),Xn.getUTCHours().toString().padStart(2,"0"),Xn.getUTCMinutes().toString().padStart(2,"0"),Xn.getUTCSeconds().toString().padStart(2,"0")].join("")}class Or{constructor(){Gt(this,is,!1);this.promise=new Promise((kn,Fn)=>{this.resolve=dr=>{Wt(this,is,!0),kn(dr)},this.reject=dr=>{Wt(this,is,!0),Fn(dr)}})}get settled(){return _t(this,is)}}is=new WeakMap,$.PromiseCapability=Or;let Pr=null,Kr=null;function hr(Xn){return Pr||(Pr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Kr=new Map([["","t"]])),Xn.replaceAll(Pr,(kn,Fn,dr)=>Fn?Fn.normalize("NFKC"):Kr.get(dr))}function _r(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Xn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Xn);else for(let kn=0;kn<32;kn++)Xn[kn]=Math.floor(Math.random()*255);return Un(Xn)}const Ur="pdfjs_internal_id_";$.AnnotationPrefix=Ur},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var ht,_e,vt,bt,tm,Dy,At,wt,Ct,St,Rt,Pt,kt,Mt,Dt,Iy,Ft,Lt,A1,Ht,Nt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(jt){if(typeof jt=="string"||jt instanceof URL?jt={url:jt}:(0,_util.isArrayBuffer)(jt)&&(jt={data:jt}),typeof jt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!jt.url&&!jt.data&&!jt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const zt=new PDFDocumentLoadingTask,{docId:Kt}=zt,nn=jt.url?getUrlProp(jt.url):null,qt=jt.data?getDataProp(jt.data):null,en=jt.httpHeaders||null,on=jt.withCredentials===!0,_n=jt.password??null,dn=jt.range instanceof PDFDataRangeTransport?jt.range:null,En=Number.isInteger(jt.rangeChunkSize)&&jt.rangeChunkSize>0?jt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let cn=jt.worker instanceof PDFWorker?jt.worker:null;const hn=jt.verbosity,tn=typeof jt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(jt.docBaseUrl)?jt.docBaseUrl:null,gn=typeof jt.cMapUrl=="string"?jt.cMapUrl:null,Sn=jt.cMapPacked!==!1,rn=jt.CMapReaderFactory||DefaultCMapReaderFactory,Xt=typeof jt.standardFontDataUrl=="string"?jt.standardFontDataUrl:null,Yt=jt.StandardFontDataFactory||DefaultStandardFontDataFactory,Jt=jt.stopAtErrors!==!0,un=Number.isInteger(jt.maxImageSize)&&jt.maxImageSize>-1?jt.maxImageSize:-1,ln=jt.isEvalSupported!==!1,fn=typeof jt.isOffscreenCanvasSupported=="boolean"?jt.isOffscreenCanvasSupported:!_util.isNodeJS,Rn=Number.isInteger(jt.canvasMaxAreaInBytes)?jt.canvasMaxAreaInBytes:-1,jn=typeof jt.disableFontFace=="boolean"?jt.disableFontFace:_util.isNodeJS,Un=jt.fontExtraProperties===!0,zn=jt.enableXfa===!0,Gn=jt.ownerDocument||globalThis.document,Yn=jt.disableRange===!0,Zn=jt.disableStream===!0,Dn=jt.disableAutoFetch===!0,$n=jt.pdfBug===!0,sn=dn?dn.length:jt.length??NaN,mn=typeof jt.useSystemFonts=="boolean"?jt.useSystemFonts:!_util.isNodeJS&&!jn,Pn=typeof jt.useWorkerFetch=="boolean"?jt.useWorkerFetch:rn===_display_utils.DOMCMapReaderFactory&&Yt===_display_utils.DOMStandardFontDataFactory&&gn&&Xt&&(0,_display_utils.isValidFetchUrl)(gn,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Xt,document.baseURI),On=jt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Gn}),Wn=jt.filterFactory||new DefaultFilterFactory({docId:Kt,ownerDocument:Gn}),Qn=null;(0,_util.setVerbosityLevel)(hn);const qn={canvasFactory:On,filterFactory:Wn};if(Pn||(qn.cMapReaderFactory=new rn({baseUrl:gn,isCompressed:Sn}),qn.standardFontDataFactory=new Yt({baseUrl:Xt})),!cn){const nr={verbosity:hn,port:_worker_options.GlobalWorkerOptions.workerPort};cn=nr.port?PDFWorker.fromPort(nr):new PDFWorker(nr),zt._worker=cn}const Tn={docId:Kt,apiVersion:"3.11.174",data:qt,password:_n,disableAutoFetch:Dn,rangeChunkSize:En,length:sn,docBaseUrl:tn,enableXfa:zn,evaluatorOptions:{maxImageSize:un,disableFontFace:jn,ignoreErrors:Jt,isEvalSupported:ln,isOffscreenCanvasSupported:fn,canvasMaxAreaInBytes:Rn,fontExtraProperties:Un,useSystemFonts:mn,cMapUrl:Pn?gn:null,standardFontDataUrl:Pn?Xt:null}},or={ignoreErrors:Jt,isEvalSupported:ln,disableFontFace:jn,fontExtraProperties:Un,enableXfa:zn,ownerDocument:Gn,disableAutoFetch:Dn,pdfBug:$n,styleElement:Qn};return cn.promise.then(function(){if(zt.destroyed)throw new Error("Loading aborted");const nr=_fetchDocument(cn,Tn),Or=new Promise(function(Pr){let Kr;dn?Kr=new _transport_stream.PDFDataTransportStream({length:sn,initialData:dn.initialData,progressiveDone:dn.progressiveDone,contentDispositionFilename:dn.contentDispositionFilename,disableRange:Yn,disableStream:Zn},dn):qt||(Kr=(_r=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(_r):(0,_display_utils.isValidFetchUrl)(_r.url)?new _displayFetch_stream.PDFFetchStream(_r):new _displayNetwork.PDFNetworkStream(_r))({url:nn,length:sn,httpHeaders:en,withCredentials:on,rangeChunkSize:En,disableRange:Yn,disableStream:Zn})),Pr(Kr)});return Promise.all([nr,Or]).then(function([Pr,Kr]){if(zt.destroyed)throw new Error("Loading aborted");const hr=new _message_handler.MessageHandler(Kt,Pr,cn.port),_r=new WorkerTransport(hr,zt,Kr,or,qn);zt._transport=_r,hr.send("Ready",null)})}).catch(zt._capability.reject),zt}async function _fetchDocument(jt,zt){if(jt.destroyed)throw new Error("Worker was destroyed");const Kt=await jt.messageHandler.sendWithPromise("GetDocRequest",zt,zt.data?[zt.data.buffer]:null);if(jt.destroyed)throw new Error("Worker was destroyed");return Kt}function getUrlProp(jt){if(jt instanceof URL)return jt.href;try{return new URL(jt,window.location).href}catch{if(_util.isNodeJS&&typeof jt=="string")return jt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(jt){if(_util.isNodeJS&&typeof Buffer<"u"&&jt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(jt instanceof Uint8Array&&jt.byteLength===jt.buffer.byteLength)return jt;if(typeof jt=="string")return(0,_util.stringToBytes)(jt);if(typeof jt=="object"&&!isNaN(jt==null?void 0:jt.length)||(0,_util.isArrayBuffer)(jt))return new Uint8Array(jt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${eo($,ht)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var zt,Kt,nn;this.destroyed=!0;try{(zt=this._worker)!=null&&zt.port&&(this._worker._pendingDestroy=!0),await((Kt=this._transport)==null?void 0:Kt.destroy())}catch(qt){throw(nn=this._worker)!=null&&nn.port&&delete this._worker._pendingDestroy,qt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};ht=new WeakMap,Gt($,ht,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(zt,Kt,nn=!1,qt=null){this.length=zt,this.initialData=Kt,this.progressiveDone=nn,this.contentDispositionFilename=qt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(zt){this._rangeListeners.push(zt)}addProgressListener(zt){this._progressListeners.push(zt)}addProgressiveReadListener(zt){this._progressiveReadListeners.push(zt)}addProgressiveDoneListener(zt){this._progressiveDoneListeners.push(zt)}onDataRange(zt,Kt){for(const nn of this._rangeListeners)nn(zt,Kt)}onDataProgress(zt,Kt){this._readyCapability.promise.then(()=>{for(const nn of this._progressListeners)nn(zt,Kt)})}onDataProgressiveRead(zt){this._readyCapability.promise.then(()=>{for(const Kt of this._progressiveReadListeners)Kt(zt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const zt of this._progressiveDoneListeners)zt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(zt,Kt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(zt,Kt){this._pdfInfo=zt,this._transport=Kt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(nn=>{if(!nn)return nn;const qt=[];for(const en in nn)qt.push(...nn[en]);return qt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(zt){return this._transport.getPage(zt)}getPageIndex(zt){return this._transport.getPageIndex(zt)}getDestinations(){return this._transport.getDestinations()}getDestination(zt){return this._transport.getDestination(zt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(zt=!1){return this._transport.startCleanup(zt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(zt,Kt,nn,qt=!1){Gt(this,bt);Gt(this,_e,null);Gt(this,vt,!1);this._pageIndex=zt,this._pageInfo=Kt,this._transport=nn,this._stats=qt?new _display_utils.StatTimer:null,this._pdfBug=qt,this.commonObjs=nn.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:zt,rotation:Kt=this.rotate,offsetX:nn=0,offsetY:qt=0,dontFlip:en=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:zt,rotation:Kt,offsetX:nn,offsetY:qt,dontFlip:en})}getAnnotations({intent:zt="display"}={}){const Kt=this._transport.getRenderingIntent(zt);return this._transport.getAnnotations(this._pageIndex,Kt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var zt;return((zt=this._transport._htmlForXfa)==null?void 0:zt.children[this._pageIndex])||null}render({canvasContext:zt,viewport:Kt,intent:nn="display",annotationMode:qt=_util.AnnotationMode.ENABLE,transform:en=null,background:on=null,optionalContentConfigPromise:_n=null,annotationCanvasMap:dn=null,pageColors:En=null,printAnnotationStorage:cn=null}){var Yt,Jt;(Yt=this._stats)==null||Yt.time("Overall");const hn=this._transport.getRenderingIntent(nn,qt,cn);Wt(this,vt,!1),Ut(this,bt,Dy).call(this),_n||(_n=this._transport.getOptionalContentConfig());let tn=this._intentStates.get(hn.cacheKey);tn||(tn=Object.create(null),this._intentStates.set(hn.cacheKey,tn)),tn.streamReaderCancelTimeout&&(clearTimeout(tn.streamReaderCancelTimeout),tn.streamReaderCancelTimeout=null);const gn=!!(hn.renderingIntent&_util.RenderingIntentFlag.PRINT);tn.displayReadyCapability||(tn.displayReadyCapability=new _util.PromiseCapability,tn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Jt=this._stats)==null||Jt.time("Page Request"),this._pumpOperatorList(hn));const Sn=un=>{var ln,fn;tn.renderTasks.delete(rn),(this._maybeCleanupAfterRender||gn)&&Wt(this,vt,!0),Ut(this,bt,tm).call(this,!gn),un?(rn.capability.reject(un),this._abortOperatorList({intentState:tn,reason:un instanceof Error?un:new Error(un)})):rn.capability.resolve(),(ln=this._stats)==null||ln.timeEnd("Rendering"),(fn=this._stats)==null||fn.timeEnd("Overall")},rn=new InternalRenderTask({callback:Sn,params:{canvasContext:zt,viewport:Kt,transform:en,background:on},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:dn,operatorList:tn.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!gn,pdfBug:this._pdfBug,pageColors:En});(tn.renderTasks||(tn.renderTasks=new Set)).add(rn);const Xt=rn.task;return Promise.all([tn.displayReadyCapability.promise,_n]).then(([un,ln])=>{var fn;if(this.destroyed){Sn();return}(fn=this._stats)==null||fn.time("Rendering"),rn.initializeGraphics({transparency:un,optionalContentConfig:ln}),rn.operatorListChanged()}).catch(Sn),Xt}getOperatorList({intent:zt="display",annotationMode:Kt=_util.AnnotationMode.ENABLE,printAnnotationStorage:nn=null}={}){var dn;function qt(){on.operatorList.lastChunk&&(on.opListReadCapability.resolve(on.operatorList),on.renderTasks.delete(_n))}const en=this._transport.getRenderingIntent(zt,Kt,nn,!0);let on=this._intentStates.get(en.cacheKey);on||(on=Object.create(null),this._intentStates.set(en.cacheKey,on));let _n;return on.opListReadCapability||(_n=Object.create(null),_n.operatorListChanged=qt,on.opListReadCapability=new _util.PromiseCapability,(on.renderTasks||(on.renderTasks=new Set)).add(_n),on.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(dn=this._stats)==null||dn.time("Page Request"),this._pumpOperatorList(en)),on.opListReadCapability.promise}streamTextContent({includeMarkedContent:zt=!1,disableNormalization:Kt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:zt===!0,disableNormalization:Kt===!0},{highWaterMark:100,size(qt){return qt.items.length}})}getTextContent(zt={}){if(this._transport._htmlForXfa)return this.getXfa().then(nn=>_xfa_text.XfaText.textContent(nn));const Kt=this.streamTextContent(zt);return new Promise(function(nn,qt){function en(){on.read().then(function({value:dn,done:En}){if(En){nn(_n);return}Object.assign(_n.styles,dn.styles),_n.items.push(...dn.items),en()},qt)}const on=Kt.getReader(),_n={items:[],styles:Object.create(null)};en()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const zt=[];for(const Kt of this._intentStates.values())if(this._abortOperatorList({intentState:Kt,reason:new Error("Page was destroyed."),force:!0}),!Kt.opListReadCapability)for(const nn of Kt.renderTasks)zt.push(nn.completed),nn.cancel();return this.objs.clear(),Wt(this,vt,!1),Ut(this,bt,Dy).call(this),Promise.all(zt)}cleanup(zt=!1){Wt(this,vt,!0);const Kt=Ut(this,bt,tm).call(this,!1);return zt&&Kt&&this._stats&&(this._stats=new _display_utils.StatTimer),Kt}_startRenderPage(zt,Kt){var qt,en;const nn=this._intentStates.get(Kt);nn&&((qt=this._stats)==null||qt.timeEnd("Page Request"),(en=nn.displayReadyCapability)==null||en.resolve(zt))}_renderPageChunk(zt,Kt){for(let nn=0,qt=zt.length;nn<qt;nn++)Kt.operatorList.fnArray.push(zt.fnArray[nn]),Kt.operatorList.argsArray.push(zt.argsArray[nn]);Kt.operatorList.lastChunk=zt.lastChunk,Kt.operatorList.separateAnnots=zt.separateAnnots;for(const nn of Kt.renderTasks)nn.operatorListChanged();zt.lastChunk&&Ut(this,bt,tm).call(this,!0)}_pumpOperatorList({renderingIntent:zt,cacheKey:Kt,annotationStorageSerializable:nn}){const{map:qt,transfers:en}=nn,_n=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:zt,cacheKey:Kt,annotationStorage:qt},en).getReader(),dn=this._intentStates.get(Kt);dn.streamReader=_n;const En=()=>{_n.read().then(({value:cn,done:hn})=>{if(hn){dn.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(cn,dn),En())},cn=>{if(dn.streamReader=null,!this._transport.destroyed){if(dn.operatorList){dn.operatorList.lastChunk=!0;for(const hn of dn.renderTasks)hn.operatorListChanged();Ut(this,bt,tm).call(this,!0)}if(dn.displayReadyCapability)dn.displayReadyCapability.reject(cn);else if(dn.opListReadCapability)dn.opListReadCapability.reject(cn);else throw cn}})};En()}_abortOperatorList({intentState:zt,reason:Kt,force:nn=!1}){if(zt.streamReader){if(zt.streamReaderCancelTimeout&&(clearTimeout(zt.streamReaderCancelTimeout),zt.streamReaderCancelTimeout=null),!nn){if(zt.renderTasks.size>0)return;if(Kt instanceof _display_utils.RenderingCancelledException){let qt=RENDERING_CANCELLED_TIMEOUT;Kt.extraDelay>0&&Kt.extraDelay<1e3&&(qt+=Kt.extraDelay),zt.streamReaderCancelTimeout=setTimeout(()=>{zt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:zt,reason:Kt,force:!0})},qt);return}}if(zt.streamReader.cancel(new _util.AbortException(Kt.message)).catch(()=>{}),zt.streamReader=null,!this._transport.destroyed){for(const[qt,en]of this._intentStates)if(en===zt){this._intentStates.delete(qt);break}this.cleanup()}}}get stats(){return this._stats}}_e=new WeakMap,vt=new WeakMap,bt=new WeakSet,tm=function(zt=!1){if(Ut(this,bt,Dy).call(this),!_t(this,vt)||this.destroyed)return!1;if(zt)return Wt(this,_e,setTimeout(()=>{Wt(this,_e,null),Ut(this,bt,tm).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Kt,operatorList:nn}of this._intentStates.values())if(Kt.size>0||!nn.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Wt(this,vt,!1),!0},Dy=function(){_t(this,_e)&&(clearTimeout(_t(this,_e)),Wt(this,_e,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Gt(this,At,new Set);Gt(this,wt,Promise.resolve())}postMessage(zt,Kt){const nn={data:structuredClone(zt,Kt?{transfer:Kt}:null)};_t(this,wt).then(()=>{for(const qt of _t(this,At))qt.call(this,nn)})}addEventListener(zt,Kt){_t(this,At).add(Kt)}removeEventListener(zt,Kt){_t(this,At).delete(Kt)}terminate(){_t(this,At).clear()}}At=new WeakMap,wt=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const jt=(Ct=document==null?void 0:document.currentScript)==null?void 0:Ct.src;jt&&(PDFWorkerUtil.fallbackWorkerSrc=jt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(jt,zt){let Kt;try{if(Kt=new URL(jt),!Kt.origin||Kt.origin==="null")return!1}catch{return!1}const nn=new URL(zt,Kt);return Kt.origin===nn.origin},PDFWorkerUtil.createCDNWrapper=function(jt){const zt=`importScripts("${jt}");`;return URL.createObjectURL(new Blob([zt]))}}const _PDFWorker=class _PDFWorker{constructor({name:jt=null,port:zt=null,verbosity:Kt=(0,_util.getVerbosityLevel)()}={}){var nn;if(this.name=jt,this.destroyed=!1,this.verbosity=Kt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,zt){if((nn=_t(_PDFWorker,St))!=null&&nn.has(zt))throw new Error("Cannot use more than one PDFWorker per port.");(_t(_PDFWorker,St)||Wt(_PDFWorker,St,new WeakMap)).set(zt,this),this._initializeFromPort(zt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(jt){this._port=jt,this._messageHandler=new _message_handler.MessageHandler("main","worker",jt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:jt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,jt)||(jt=PDFWorkerUtil.createCDNWrapper(new URL(jt,window.location).href));const zt=new Worker(jt),Kt=new _message_handler.MessageHandler("main","worker",zt),nn=()=>{zt.removeEventListener("error",qt),Kt.destroy(),zt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},qt=()=>{this._webWorker||nn()};zt.addEventListener("error",qt),Kt.on("test",on=>{if(zt.removeEventListener("error",qt),this.destroyed){nn();return}on?(this._messageHandler=Kt,this._port=zt,this._webWorker=zt,this._readyCapability.resolve(),Kt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Kt.destroy(),zt.terminate())}),Kt.on("ready",on=>{if(zt.removeEventListener("error",qt),this.destroyed){nn();return}try{en()}catch{this._setupFakeWorker()}});const en=()=>{const on=new Uint8Array;Kt.send("test",on,[on.buffer])};en();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(jt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const zt=new LoopbackPort;this._port=zt;const Kt=`fake${PDFWorkerUtil.fakeWorkerId++}`,nn=new _message_handler.MessageHandler(Kt+"_worker",Kt,zt);jt.setup(nn,zt);const qt=new _message_handler.MessageHandler(Kt,Kt+"_worker",zt);this._messageHandler=qt,this._readyCapability.resolve(),qt.send("configure",{verbosity:this.verbosity})}).catch(jt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${jt.message}".`))})}destroy(){var jt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(jt=_t(_PDFWorker,St))==null||jt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(jt){var Kt;if(!(jt!=null&&jt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const zt=(Kt=_t(this,St))==null?void 0:Kt.get(jt.port);if(zt){if(zt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return zt}return new _PDFWorker(jt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var jt;try{return((jt=globalThis.pdfjsWorker)==null?void 0:jt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};St=new WeakMap,Gt(_PDFWorker,St);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(zt,Kt,nn,qt,en){Gt(this,Dt);Gt(this,Rt,new Map);Gt(this,Pt,new Map);Gt(this,kt,new Map);Gt(this,Mt,null);this.messageHandler=zt,this.loadingTask=Kt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:qt.ownerDocument,styleElement:qt.styleElement}),this._params=qt,this.canvasFactory=en.canvasFactory,this.filterFactory=en.filterFactory,this.cMapReaderFactory=en.cMapReaderFactory,this.standardFontDataFactory=en.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=nn,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(zt,Kt=_util.AnnotationMode.ENABLE,nn=null,qt=!1){let en=_util.RenderingIntentFlag.DISPLAY,on=_annotation_storage.SerializableEmpty;switch(zt){case"any":en=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":en=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${zt}`)}switch(Kt){case _util.AnnotationMode.DISABLE:en+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:en+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:en+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,on=(en&_util.RenderingIntentFlag.PRINT&&nn instanceof _annotation_storage.PrintAnnotationStorage?nn:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Kt}`)}return qt&&(en+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:en,cacheKey:`${en}_${on.hash}`,annotationStorageSerializable:on}}destroy(){var nn;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(nn=_t(this,Mt))==null||nn.reject(new Error("Worker was destroyed during onPassword callback"));const zt=[];for(const qt of _t(this,Pt).values())zt.push(qt._destroy());_t(this,Pt).clear(),_t(this,kt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Kt=this.messageHandler.sendWithPromise("Terminate",null);return zt.push(Kt),Promise.all(zt).then(()=>{var qt;this.commonObjs.clear(),this.fontLoader.clear(),_t(this,Rt).clear(),this.filterFactory.destroy(),(qt=this._networkStream)==null||qt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:zt,loadingTask:Kt}=this;zt.on("GetReader",(nn,qt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=en=>{this._lastProgress={loaded:en.loaded,total:en.total}},qt.onPull=()=>{this._fullReader.read().then(function({value:en,done:on}){if(on){qt.close();return}(0,_util.assert)(en instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),qt.enqueue(new Uint8Array(en),1,[en])}).catch(en=>{qt.error(en)})},qt.onCancel=en=>{this._fullReader.cancel(en),qt.ready.catch(on=>{if(!this.destroyed)throw on})}}),zt.on("ReaderHeadersReady",nn=>{const qt=new _util.PromiseCapability,en=this._fullReader;return en.headersReady.then(()=>{var on;(!en.isStreamingSupported||!en.isRangeSupported)&&(this._lastProgress&&((on=Kt.onProgress)==null||on.call(Kt,this._lastProgress)),en.onProgress=_n=>{var dn;(dn=Kt.onProgress)==null||dn.call(Kt,{loaded:_n.loaded,total:_n.total})}),qt.resolve({isStreamingSupported:en.isStreamingSupported,isRangeSupported:en.isRangeSupported,contentLength:en.contentLength})},qt.reject),qt.promise}),zt.on("GetRangeReader",(nn,qt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const en=this._networkStream.getRangeReader(nn.begin,nn.end);if(!en){qt.close();return}qt.onPull=()=>{en.read().then(function({value:on,done:_n}){if(_n){qt.close();return}(0,_util.assert)(on instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),qt.enqueue(new Uint8Array(on),1,[on])}).catch(on=>{qt.error(on)})},qt.onCancel=on=>{en.cancel(on),qt.ready.catch(_n=>{if(!this.destroyed)throw _n})}}),zt.on("GetDoc",({pdfInfo:nn})=>{this._numPages=nn.numPages,this._htmlForXfa=nn.htmlForXfa,delete nn.htmlForXfa,Kt._capability.resolve(new PDFDocumentProxy(nn,this))}),zt.on("DocException",function(nn){let qt;switch(nn.name){case"PasswordException":qt=new _util.PasswordException(nn.message,nn.code);break;case"InvalidPDFException":qt=new _util.InvalidPDFException(nn.message);break;case"MissingPDFException":qt=new _util.MissingPDFException(nn.message);break;case"UnexpectedResponseException":qt=new _util.UnexpectedResponseException(nn.message,nn.status);break;case"UnknownErrorException":qt=new _util.UnknownErrorException(nn.message,nn.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Kt._capability.reject(qt)}),zt.on("PasswordRequest",nn=>{if(Wt(this,Mt,new _util.PromiseCapability),Kt.onPassword){const qt=en=>{en instanceof Error?_t(this,Mt).reject(en):_t(this,Mt).resolve({password:en})};try{Kt.onPassword(qt,nn.code)}catch(en){_t(this,Mt).reject(en)}}else _t(this,Mt).reject(new _util.PasswordException(nn.message,nn.code));return _t(this,Mt).promise}),zt.on("DataLoaded",nn=>{var qt;(qt=Kt.onProgress)==null||qt.call(Kt,{loaded:nn.length,total:nn.length}),this.downloadInfoCapability.resolve(nn)}),zt.on("StartRenderPage",nn=>{if(this.destroyed)return;_t(this,Pt).get(nn.pageIndex)._startRenderPage(nn.transparency,nn.cacheKey)}),zt.on("commonobj",([nn,qt,en])=>{var on;if(!this.destroyed&&!this.commonObjs.has(nn))switch(qt){case"Font":const _n=this._params;if("error"in en){const cn=en.error;(0,_util.warn)(`Error during font loading: ${cn}`),this.commonObjs.resolve(nn,cn);break}const dn=_n.pdfBug&&((on=globalThis.FontInspector)!=null&&on.enabled)?(cn,hn)=>globalThis.FontInspector.fontAdded(cn,hn):null,En=new _font_loader.FontFaceObject(en,{isEvalSupported:_n.isEvalSupported,disableFontFace:_n.disableFontFace,ignoreErrors:_n.ignoreErrors,inspectFont:dn});this.fontLoader.bind(En).catch(cn=>zt.sendWithPromise("FontFallback",{id:nn})).finally(()=>{!_n.fontExtraProperties&&En.data&&(En.data=null),this.commonObjs.resolve(nn,En)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(nn,en);break;default:throw new Error(`Got unknown common object type ${qt}`)}}),zt.on("obj",([nn,qt,en,on])=>{var dn;if(this.destroyed)return;const _n=_t(this,Pt).get(qt);if(!_n.objs.has(nn))switch(en){case"Image":if(_n.objs.resolve(nn,on),on){let En;if(on.bitmap){const{width:cn,height:hn}=on;En=cn*hn*4}else En=((dn=on.data)==null?void 0:dn.length)||0;En>_util.MAX_IMAGE_SIZE_TO_CACHE&&(_n._maybeCleanupAfterRender=!0)}break;case"Pattern":_n.objs.resolve(nn,on);break;default:throw new Error(`Got unknown object type ${en}`)}}),zt.on("DocProgress",nn=>{var qt;this.destroyed||(qt=Kt.onProgress)==null||qt.call(Kt,{loaded:nn.loaded,total:nn.total})}),zt.on("FetchBuiltInCMap",nn=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(nn):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),zt.on("FetchStandardFontData",nn=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(nn):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var nn;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:zt,transfers:Kt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:zt,filename:((nn=this._fullReader)==null?void 0:nn.filename)??null},Kt).finally(()=>{this.annotationStorage.resetModified()})}getPage(zt){if(!Number.isInteger(zt)||zt<=0||zt>this._numPages)return Promise.reject(new Error("Invalid page request."));const Kt=zt-1,nn=_t(this,kt).get(Kt);if(nn)return nn;const qt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Kt}).then(en=>{if(this.destroyed)throw new Error("Transport destroyed");const on=new PDFPageProxy(Kt,en,this,this._params.pdfBug);return _t(this,Pt).set(Kt,on),on});return _t(this,kt).set(Kt,qt),qt}getPageIndex(zt){return typeof zt!="object"||zt===null||!Number.isInteger(zt.num)||zt.num<0||!Number.isInteger(zt.gen)||zt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:zt.num,gen:zt.gen})}getAnnotations(zt,Kt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:zt,intent:Kt})}getFieldObjects(){return Ut(this,Dt,Iy).call(this,"GetFieldObjects")}hasJSActions(){return Ut(this,Dt,Iy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(zt){return typeof zt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:zt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ut(this,Dt,Iy).call(this,"GetDocJSActions")}getPageJSActions(zt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:zt})}getStructTree(zt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:zt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(zt=>new _optional_content_config.OptionalContentConfig(zt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const zt="GetMetadata",Kt=_t(this,Rt).get(zt);if(Kt)return Kt;const nn=this.messageHandler.sendWithPromise(zt,null).then(qt=>{var en,on;return{info:qt[0],metadata:qt[1]?new _metadata.Metadata(qt[1]):null,contentDispositionFilename:((en=this._fullReader)==null?void 0:en.filename)??null,contentLength:((on=this._fullReader)==null?void 0:on.contentLength)??null}});return _t(this,Rt).set(zt,nn),nn}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(zt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Kt of _t(this,Pt).values())if(!Kt.cleanup())throw new Error(`startCleanup: Page ${Kt.pageNumber} is currently rendering.`);this.commonObjs.clear(),zt||this.fontLoader.clear(),_t(this,Rt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:zt,enableXfa:Kt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:zt,enableXfa:Kt})}}Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Dt=new WeakSet,Iy=function(zt,Kt=null){const nn=_t(this,Rt).get(zt);if(nn)return nn;const qt=this.messageHandler.sendWithPromise(zt,Kt);return _t(this,Rt).set(zt,qt),qt};class PDFObjects{constructor(){Gt(this,Lt);Gt(this,Ft,Object.create(null))}get(zt,Kt=null){if(Kt){const qt=Ut(this,Lt,A1).call(this,zt);return qt.capability.promise.then(()=>Kt(qt.data)),null}const nn=_t(this,Ft)[zt];if(!(nn!=null&&nn.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${zt}.`);return nn.data}has(zt){const Kt=_t(this,Ft)[zt];return(Kt==null?void 0:Kt.capability.settled)||!1}resolve(zt,Kt=null){const nn=Ut(this,Lt,A1).call(this,zt);nn.data=Kt,nn.capability.resolve()}clear(){var zt;for(const Kt in _t(this,Ft)){const{data:nn}=_t(this,Ft)[Kt];(zt=nn==null?void 0:nn.bitmap)==null||zt.close()}Wt(this,Ft,Object.create(null))}}Ft=new WeakMap,Lt=new WeakSet,A1=function(zt){var Kt;return(Kt=_t(this,Ft))[zt]||(Kt[zt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(zt){Gt(this,Ht,null);Wt(this,Ht,zt),this.onContinue=null}get promise(){return _t(this,Ht).capability.promise}cancel(zt=0){_t(this,Ht).cancel(null,zt)}get separateAnnots(){const{separateAnnots:zt}=_t(this,Ht).operatorList;if(!zt)return!1;const{annotationCanvasMap:Kt}=_t(this,Ht);return zt.form||zt.canvas&&(Kt==null?void 0:Kt.size)>0}}Ht=new WeakMap,exports.RenderTask=RenderTask;const Bt=class Bt{constructor({callback:zt,params:Kt,objs:nn,commonObjs:qt,annotationCanvasMap:en,operatorList:on,pageIndex:_n,canvasFactory:dn,filterFactory:En,useRequestAnimationFrame:cn=!1,pdfBug:hn=!1,pageColors:tn=null}){this.callback=zt,this.params=Kt,this.objs=nn,this.commonObjs=qt,this.annotationCanvasMap=en,this.operatorListIdx=null,this.operatorList=on,this._pageIndex=_n,this.canvasFactory=dn,this.filterFactory=En,this._pdfBug=hn,this.pageColors=tn,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=cn===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Kt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:zt=!1,optionalContentConfig:Kt}){var _n,dn;if(this.cancelled)return;if(this._canvas){if(_t(Bt,Nt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_t(Bt,Nt).add(this._canvas)}this._pdfBug&&((_n=globalThis.StepperManager)!=null&&_n.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:nn,viewport:qt,transform:en,background:on}=this.params;this.gfx=new _canvas.CanvasGraphics(nn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Kt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:en,viewport:qt,transparency:zt,background:on}),this.operatorListIdx=0,this.graphicsReady=!0,(dn=this.graphicsReadyCallback)==null||dn.call(this)}cancel(zt=null,Kt=0){var nn;this.running=!1,this.cancelled=!0,(nn=this.gfx)==null||nn.endDrawing(),_t(Bt,Nt).delete(this._canvas),this.callback(zt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Kt))}operatorListChanged(){var zt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(zt=this.stepper)==null||zt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_t(Bt,Nt).delete(this._canvas),this.callback())))}};Nt=new WeakMap,Gt(Bt,Nt,new WeakSet);let InternalRenderTask=Bt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(ht,$,_e)=>{var Ct,St,Rt,WA,kt;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var vt=_e(1),bt=_e(4),xt=_e(8);const Et=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=Et;class At{constructor(){Gt(this,Rt);Gt(this,Ct,!1);Gt(this,St,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Dt,$t){const Ft=_t(this,St).get(Dt);return Ft===void 0?$t:Object.assign($t,Ft)}getRawValue(Dt){return _t(this,St).get(Dt)}remove(Dt){if(_t(this,St).delete(Dt),_t(this,St).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const $t of _t(this,St).values())if($t instanceof bt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Dt,$t){const Ft=_t(this,St).get(Dt);let Lt=!1;if(Ft!==void 0)for(const[Ot,Ht]of Object.entries($t))Ft[Ot]!==Ht&&(Lt=!0,Ft[Ot]=Ht);else Lt=!0,_t(this,St).set(Dt,$t);Lt&&Ut(this,Rt,WA).call(this),$t instanceof bt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor($t.constructor._type)}has(Dt){return _t(this,St).has(Dt)}getAll(){return _t(this,St).size>0?(0,vt.objectFromMap)(_t(this,St)):null}setAll(Dt){for(const[$t,Ft]of Object.entries(Dt))this.setValue($t,Ft)}get size(){return _t(this,St).size}resetModified(){_t(this,Ct)&&(Wt(this,Ct,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new wt(this)}get serializable(){if(_t(this,St).size===0)return Et;const Dt=new Map,$t=new xt.MurmurHash3_64,Ft=[],Lt=Object.create(null);let Ot=!1;for(const[Ht,Nt]of _t(this,St)){const Bt=Nt instanceof bt.AnnotationEditor?Nt.serialize(!1,Lt):Nt;Bt&&(Dt.set(Ht,Bt),$t.update(`${Ht}:${JSON.stringify(Bt)}`),Ot||(Ot=!!Bt.bitmap))}if(Ot)for(const Ht of Dt.values())Ht.bitmap&&Ft.push(Ht.bitmap);return Dt.size>0?{map:Dt,hash:$t.hexdigest(),transfers:Ft}:Et}}Ct=new WeakMap,St=new WeakMap,Rt=new WeakSet,WA=function(){_t(this,Ct)||(Wt(this,Ct,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=At;class wt extends At{constructor($t){super();Gt(this,kt);const{map:Ft,hash:Lt,transfers:Ot}=$t.serializable,Ht=structuredClone(Ft,Ot?{transfer:Ot}:null);Wt(this,kt,{map:Ht,hash:Lt,transfers:Ot})}get print(){(0,vt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _t(this,kt)}}kt=new WeakMap,$.PrintAnnotationStorage=wt},(ht,$,_e)=>{var wt,Ct,St,Rt,Pt,kt,Mt,Dt,$t,Ft,Lt,Ot,Ht,Nt,Bt,_1,w1,Kt,S1,C1,VA,GA,XA,R1,qA;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var vt=_e(5),bt=_e(1),xt=_e(6);const cn=class cn{constructor(tn){Gt(this,Bt);Gt(this,wt,"");Gt(this,Ct,!1);Gt(this,St,null);Gt(this,Rt,null);Gt(this,Pt,null);Gt(this,kt,!1);Gt(this,Mt,null);Gt(this,Dt,this.focusin.bind(this));Gt(this,$t,this.focusout.bind(this));Gt(this,Ft,!1);Gt(this,Lt,!1);Gt(this,Ot,!1);wr(this,"_initialOptions",Object.create(null));wr(this,"_uiManager",null);wr(this,"_focusEventsAllowed",!0);wr(this,"_l10nPromise",null);Gt(this,Ht,!1);Gt(this,Nt,cn._zIndex++);this.constructor===cn&&(0,bt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=tn.parent,this.id=tn.id,this.width=this.height=null,this.pageIndex=tn.parent.pageIndex,this.name=tn.name,this.div=null,this._uiManager=tn.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=tn.isCentered,this._structTreeParentId=null;const{rotation:gn,rawDims:{pageWidth:Sn,pageHeight:rn,pageX:Xt,pageY:Yt}}=this.parent.viewport;this.rotation=gn,this.pageRotation=(360+gn-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Sn,rn],this.pageTranslation=[Xt,Yt];const[Jt,un]=this.parentDimensions;this.x=tn.x/Jt,this.y=tn.y/un,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,bt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(tn){const gn=new At({id:tn.parent.getNextId(),parent:tn.parent,uiManager:tn._uiManager});gn.annotationElementId=tn.annotationElementId,gn.deleted=!0,gn._uiManager.addToAnnotationStorage(gn)}static initialize(tn,gn=null){if(cn._l10nPromise||(cn._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(rn=>[rn,tn.get(rn)]))),gn!=null&&gn.strings)for(const rn of gn.strings)cn._l10nPromise.set(rn,tn.get(rn));if(cn._borderLineWidth!==-1)return;const Sn=getComputedStyle(document.documentElement);cn._borderLineWidth=parseFloat(Sn.getPropertyValue("--outline-width"))||0}static updateDefaultParams(tn,gn){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(tn){return!1}static paste(tn,gn){(0,bt.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _t(this,Ht)}set _isDraggable(tn){var gn;Wt(this,Ht,tn),(gn=this.div)==null||gn.classList.toggle("draggable",tn)}center(){const[tn,gn]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*gn/(tn*2),this.y+=this.width*tn/(gn*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*gn/(tn*2),this.y-=this.width*tn/(gn*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(tn){this._uiManager.addCommands(tn)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_t(this,Nt)}setParent(tn){tn!==null&&(this.pageIndex=tn.pageIndex,this.pageDimensions=tn.pageDimensions),this.parent=tn}focusin(tn){this._focusEventsAllowed&&(_t(this,Ft)?Wt(this,Ft,!1):this.parent.setSelected(this))}focusout(tn){var Sn;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const gn=tn.relatedTarget;gn!=null&&gn.closest(`#${this.id}`)||(tn.preventDefault(),(Sn=this.parent)!=null&&Sn.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(tn,gn,Sn,rn){const[Xt,Yt]=this.parentDimensions;[Sn,rn]=this.screenToPageTranslation(Sn,rn),this.x=(tn+Sn)/Xt,this.y=(gn+rn)/Yt,this.fixAndSetPosition()}translate(tn,gn){Ut(this,Bt,_1).call(this,this.parentDimensions,tn,gn)}translateInPage(tn,gn){Ut(this,Bt,_1).call(this,this.pageDimensions,tn,gn),this.div.scrollIntoView({block:"nearest"})}drag(tn,gn){const[Sn,rn]=this.parentDimensions;if(this.x+=tn/Sn,this.y+=gn/rn,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:ln,y:fn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,ln,fn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Xt,y:Yt}=this;const[Jt,un]=Ut(this,Bt,w1).call(this);Xt+=Jt,Yt+=un,this.div.style.left=`${(100*Xt).toFixed(2)}%`,this.div.style.top=`${(100*Yt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[tn,gn]=this.pageDimensions;let{x:Sn,y:rn,width:Xt,height:Yt}=this;switch(Xt*=tn,Yt*=gn,Sn*=tn,rn*=gn,this.rotation){case 0:Sn=Math.max(0,Math.min(tn-Xt,Sn)),rn=Math.max(0,Math.min(gn-Yt,rn));break;case 90:Sn=Math.max(0,Math.min(tn-Yt,Sn)),rn=Math.min(gn,Math.max(Xt,rn));break;case 180:Sn=Math.min(tn,Math.max(Xt,Sn)),rn=Math.min(gn,Math.max(Yt,rn));break;case 270:Sn=Math.min(tn,Math.max(Yt,Sn)),rn=Math.max(0,Math.min(gn-Xt,rn));break}this.x=Sn/=tn,this.y=rn/=gn;const[Jt,un]=Ut(this,Bt,w1).call(this);Sn+=Jt,rn+=un;const{style:ln}=this.div;ln.left=`${(100*Sn).toFixed(2)}%`,ln.top=`${(100*rn).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(tn,gn){var Sn;return Ut(Sn=cn,Kt,S1).call(Sn,tn,gn,this.parentRotation)}pageTranslationToScreen(tn,gn){var Sn;return Ut(Sn=cn,Kt,S1).call(Sn,tn,gn,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:tn,pageDimensions:[gn,Sn]}=this,rn=gn*tn,Xt=Sn*tn;return bt.FeatureTest.isCSSRoundSupported?[Math.round(rn),Math.round(Xt)]:[rn,Xt]}setDims(tn,gn){var Xt;const[Sn,rn]=this.parentDimensions;this.div.style.width=`${(100*tn/Sn).toFixed(2)}%`,_t(this,kt)||(this.div.style.height=`${(100*gn/rn).toFixed(2)}%`),(Xt=_t(this,St))==null||Xt.classList.toggle("small",tn<cn.SMALL_EDITOR_SIZE||gn<cn.SMALL_EDITOR_SIZE)}fixDims(){const{style:tn}=this.div,{height:gn,width:Sn}=tn,rn=Sn.endsWith("%"),Xt=!_t(this,kt)&&gn.endsWith("%");if(rn&&Xt)return;const[Yt,Jt]=this.parentDimensions;rn||(tn.width=`${(100*parseFloat(Sn)/Yt).toFixed(2)}%`),!_t(this,kt)&&!Xt&&(tn.height=`${(100*parseFloat(gn)/Jt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(_t(this,St))return;const tn=Wt(this,St,document.createElement("button"));tn.className="altText";const gn=await cn._l10nPromise.get("editor_alt_text_button_label");tn.textContent=gn,tn.setAttribute("aria-label",gn),tn.tabIndex="0",tn.addEventListener("contextmenu",xt.noContextMenu),tn.addEventListener("pointerdown",Sn=>Sn.stopPropagation()),tn.addEventListener("click",Sn=>{Sn.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),tn.addEventListener("keydown",Sn=>{Sn.target===tn&&Sn.key==="Enter"&&(Sn.preventDefault(),this._uiManager.editAltText(this))}),Ut(this,Bt,R1).call(this),this.div.append(tn),cn.SMALL_EDITOR_SIZE||(cn.SMALL_EDITOR_SIZE=Math.min(128,Math.round(tn.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:_t(this,wt),decorative:_t(this,Ct)}}set altTextData({altText:tn,decorative:gn}){_t(this,wt)===tn&&_t(this,Ct)===gn||(Wt(this,wt,tn),Wt(this,Ct,gn),Ut(this,Bt,R1).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_t(this,Dt)),this.div.addEventListener("focusout",_t(this,$t));const[tn,gn]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*gn/tn).toFixed(2)}%`,this.div.style.maxHeight=`${(100*tn/gn).toFixed(2)}%`);const[Sn,rn]=this.getInitialTranslation();return this.translate(Sn,rn),(0,vt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(tn){const{isMac:gn}=bt.FeatureTest.platform;if(tn.button!==0||tn.ctrlKey&&gn){tn.preventDefault();return}Wt(this,Ft,!0),Ut(this,Bt,qA).call(this,tn)}moveInDOM(){var tn;(tn=this.parent)==null||tn.moveEditorInDOM(this)}_setParentAndPosition(tn,gn,Sn){tn.changeParent(this),this.x=gn,this.y=Sn,this.fixAndSetPosition()}getRect(tn,gn){const Sn=this.parentScale,[rn,Xt]=this.pageDimensions,[Yt,Jt]=this.pageTranslation,un=tn/Sn,ln=gn/Sn,fn=this.x*rn,Rn=this.y*Xt,jn=this.width*rn,Un=this.height*Xt;switch(this.rotation){case 0:return[fn+un+Yt,Xt-Rn-ln-Un+Jt,fn+un+jn+Yt,Xt-Rn-ln+Jt];case 90:return[fn+ln+Yt,Xt-Rn+un+Jt,fn+ln+Un+Yt,Xt-Rn+un+jn+Jt];case 180:return[fn-un-jn+Yt,Xt-Rn+ln+Jt,fn-un+Yt,Xt-Rn+ln+Un+Jt];case 270:return[fn-ln-Un+Yt,Xt-Rn-un-jn+Jt,fn-ln+Yt,Xt-Rn-un+Jt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(tn,gn){const[Sn,rn,Xt,Yt]=tn,Jt=Xt-Sn,un=Yt-rn;switch(this.rotation){case 0:return[Sn,gn-Yt,Jt,un];case 90:return[Sn,gn-rn,un,Jt];case 180:return[Xt,gn-rn,Jt,un];case 270:return[Xt,gn-Yt,un,Jt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Wt(this,Ot,!0)}disableEditMode(){Wt(this,Ot,!1)}isInEditMode(){return _t(this,Ot)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var tn,gn;(tn=this.div)==null||tn.addEventListener("focusin",_t(this,Dt)),(gn=this.div)==null||gn.addEventListener("focusout",_t(this,$t))}serialize(tn=!1,gn=null){(0,bt.unreachable)("An editor must be serializable")}static deserialize(tn,gn,Sn){const rn=new this.prototype.constructor({parent:gn,id:gn.getNextId(),uiManager:Sn});rn.rotation=tn.rotation;const[Xt,Yt]=rn.pageDimensions,[Jt,un,ln,fn]=rn.getRectInCurrentCoords(tn.rect,Yt);return rn.x=Jt/Xt,rn.y=un/Yt,rn.width=ln/Xt,rn.height=fn/Yt,rn}remove(){var tn;this.div.removeEventListener("focusin",_t(this,Dt)),this.div.removeEventListener("focusout",_t(this,$t)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(tn=_t(this,St))==null||tn.remove(),Wt(this,St,null),Wt(this,Rt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ut(this,Bt,VA).call(this),_t(this,Mt).classList.remove("hidden"))}select(){var tn;this.makeResizable(),(tn=this.div)==null||tn.classList.add("selectedEditor")}unselect(){var tn,gn,Sn;(tn=_t(this,Mt))==null||tn.classList.add("hidden"),(gn=this.div)==null||gn.classList.remove("selectedEditor"),(Sn=this.div)!=null&&Sn.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(tn,gn){}disableEditing(){_t(this,St)&&(_t(this,St).hidden=!0)}enableEditing(){_t(this,St)&&(_t(this,St).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return _t(this,Lt)}set isEditing(tn){Wt(this,Lt,tn),this.parent&&(tn?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(tn,gn){Wt(this,kt,!0);const Sn=tn/gn,{style:rn}=this.div;rn.aspectRatio=Sn,rn.height="auto"}static get MIN_SIZE(){return 16}};wt=new WeakMap,Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Dt=new WeakMap,$t=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,Ot=new WeakMap,Ht=new WeakMap,Nt=new WeakMap,Bt=new WeakSet,_1=function([tn,gn],Sn,rn){[Sn,rn]=this.screenToPageTranslation(Sn,rn),this.x+=Sn/tn,this.y+=rn/gn,this.fixAndSetPosition()},w1=function(){const[tn,gn]=this.parentDimensions,{_borderLineWidth:Sn}=cn,rn=Sn/tn,Xt=Sn/gn;switch(this.rotation){case 90:return[-rn,Xt];case 180:return[rn,Xt];case 270:return[rn,-Xt];default:return[-rn,-Xt]}},Kt=new WeakSet,S1=function(tn,gn,Sn){switch(Sn){case 90:return[gn,-tn];case 180:return[-tn,-gn];case 270:return[-gn,tn];default:return[tn,gn]}},C1=function(tn){switch(tn){case 90:{const[gn,Sn]=this.pageDimensions;return[0,-gn/Sn,Sn/gn,0]}case 180:return[-1,0,0,-1];case 270:{const[gn,Sn]=this.pageDimensions;return[0,gn/Sn,-Sn/gn,0]}default:return[1,0,0,1]}},VA=function(){if(_t(this,Mt))return;Wt(this,Mt,document.createElement("div")),_t(this,Mt).classList.add("resizers");const tn=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||tn.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const gn of tn){const Sn=document.createElement("div");_t(this,Mt).append(Sn),Sn.classList.add("resizer",gn),Sn.addEventListener("pointerdown",Ut(this,Bt,GA).bind(this,gn)),Sn.addEventListener("contextmenu",xt.noContextMenu)}this.div.prepend(_t(this,Mt))},GA=function(tn,gn){gn.preventDefault();const{isMac:Sn}=bt.FeatureTest.platform;if(gn.button!==0||gn.ctrlKey&&Sn)return;const rn=Ut(this,Bt,XA).bind(this,tn),Xt=this._isDraggable;this._isDraggable=!1;const Yt={passive:!0,capture:!0};window.addEventListener("pointermove",rn,Yt);const Jt=this.x,un=this.y,ln=this.width,fn=this.height,Rn=this.parent.div.style.cursor,jn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(gn.target).cursor;const Un=()=>{this._isDraggable=Xt,window.removeEventListener("pointerup",Un),window.removeEventListener("blur",Un),window.removeEventListener("pointermove",rn,Yt),this.parent.div.style.cursor=Rn,this.div.style.cursor=jn;const zn=this.x,Gn=this.y,Yn=this.width,Zn=this.height;zn===Jt&&Gn===un&&Yn===ln&&Zn===fn||this.addCommands({cmd:()=>{this.width=Yn,this.height=Zn,this.x=zn,this.y=Gn;const[Dn,$n]=this.parentDimensions;this.setDims(Dn*Yn,$n*Zn),this.fixAndSetPosition()},undo:()=>{this.width=ln,this.height=fn,this.x=Jt,this.y=un;const[Dn,$n]=this.parentDimensions;this.setDims(Dn*ln,$n*fn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Un),window.addEventListener("blur",Un)},XA=function(tn,gn){const[Sn,rn]=this.parentDimensions,Xt=this.x,Yt=this.y,Jt=this.width,un=this.height,ln=cn.MIN_SIZE/Sn,fn=cn.MIN_SIZE/rn,Rn=hr=>Math.round(hr*1e4)/1e4,jn=Ut(this,Bt,C1).call(this,this.rotation),Un=(hr,_r)=>[jn[0]*hr+jn[2]*_r,jn[1]*hr+jn[3]*_r],zn=Ut(this,Bt,C1).call(this,360-this.rotation),Gn=(hr,_r)=>[zn[0]*hr+zn[2]*_r,zn[1]*hr+zn[3]*_r];let Yn,Zn,Dn=!1,$n=!1;switch(tn){case"topLeft":Dn=!0,Yn=(hr,_r)=>[0,0],Zn=(hr,_r)=>[hr,_r];break;case"topMiddle":Yn=(hr,_r)=>[hr/2,0],Zn=(hr,_r)=>[hr/2,_r];break;case"topRight":Dn=!0,Yn=(hr,_r)=>[hr,0],Zn=(hr,_r)=>[0,_r];break;case"middleRight":$n=!0,Yn=(hr,_r)=>[hr,_r/2],Zn=(hr,_r)=>[0,_r/2];break;case"bottomRight":Dn=!0,Yn=(hr,_r)=>[hr,_r],Zn=(hr,_r)=>[0,0];break;case"bottomMiddle":Yn=(hr,_r)=>[hr/2,_r],Zn=(hr,_r)=>[hr/2,0];break;case"bottomLeft":Dn=!0,Yn=(hr,_r)=>[0,_r],Zn=(hr,_r)=>[hr,0];break;case"middleLeft":$n=!0,Yn=(hr,_r)=>[0,_r/2],Zn=(hr,_r)=>[hr,_r/2];break}const sn=Yn(Jt,un),mn=Zn(Jt,un);let Pn=Un(...mn);const On=Rn(Xt+Pn[0]),Wn=Rn(Yt+Pn[1]);let Qn=1,qn=1,[Tn,or]=this.screenToPageTranslation(gn.movementX,gn.movementY);if([Tn,or]=Gn(Tn/Sn,or/rn),Dn){const hr=Math.hypot(Jt,un);Qn=qn=Math.max(Math.min(Math.hypot(mn[0]-sn[0]-Tn,mn[1]-sn[1]-or)/hr,1/Jt,1/un),ln/Jt,fn/un)}else $n?Qn=Math.max(ln,Math.min(1,Math.abs(mn[0]-sn[0]-Tn)))/Jt:qn=Math.max(fn,Math.min(1,Math.abs(mn[1]-sn[1]-or)))/un;const nr=Rn(Jt*Qn),Or=Rn(un*qn);Pn=Un(...Zn(nr,Or));const Pr=On-Pn[0],Kr=Wn-Pn[1];this.width=nr,this.height=Or,this.x=Pr,this.y=Kr,this.setDims(Sn*nr,rn*Or),this.fixAndSetPosition()},R1=async function(){var Sn;const tn=_t(this,St);if(!tn)return;if(!_t(this,wt)&&!_t(this,Ct)){tn.classList.remove("done"),(Sn=_t(this,Rt))==null||Sn.remove();return}cn._l10nPromise.get("editor_alt_text_edit_button_label").then(rn=>{tn.setAttribute("aria-label",rn)});let gn=_t(this,Rt);if(!gn){Wt(this,Rt,gn=document.createElement("span")),gn.className="tooltip",gn.setAttribute("role","tooltip");const rn=gn.id=`alt-text-tooltip-${this.id}`;tn.setAttribute("aria-describedby",rn);const Xt=100;tn.addEventListener("mouseenter",()=>{Wt(this,Pt,setTimeout(()=>{Wt(this,Pt,null),_t(this,Rt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Xt))}),tn.addEventListener("mouseleave",()=>{var Yt;clearTimeout(_t(this,Pt)),Wt(this,Pt,null),(Yt=_t(this,Rt))==null||Yt.classList.remove("show")})}tn.classList.add("done"),gn.innerText=_t(this,Ct)?await cn._l10nPromise.get("editor_alt_text_decorative_tooltip"):_t(this,wt),gn.parentNode||tn.append(gn)},qA=function(tn){if(!this._isDraggable)return;const gn=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Sn,rn;gn&&(Sn={passive:!0,capture:!0},rn=Yt=>{const[Jt,un]=this.screenToPageTranslation(Yt.movementX,Yt.movementY);this._uiManager.dragSelectedEditors(Jt,un)},window.addEventListener("pointermove",rn,Sn));const Xt=()=>{if(window.removeEventListener("pointerup",Xt),window.removeEventListener("blur",Xt),gn&&window.removeEventListener("pointermove",rn,Sn),Wt(this,Ft,!1),!this._uiManager.endDragSession()){const{isMac:Yt}=bt.FeatureTest.platform;tn.ctrlKey&&!Yt||tn.shiftKey||tn.metaKey&&Yt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Xt),window.addEventListener("blur",Xt)},Gt(cn,Kt),wr(cn,"_borderLineWidth",-1),wr(cn,"_colorManager",new vt.ColorManager),wr(cn,"_zIndex",1),wr(cn,"SMALL_EDITOR_SIZE",0);let Et=cn;$.AnnotationEditor=Et;class At extends Et{constructor(tn){super(tn),this.annotationElementId=tn.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(ht,$,_e)=>{var kt,Mt,Dt,$t,Ft,T1,Ht,Nt,Bt,jt,zt,KA,qt,en,on,_n,dn,En,cn,hn,tn,gn,Sn,rn,Xt,Yt,Jt,un,ln,fn,Rn,jn,Un,zn,Gn,Yn,Zn,Dn,$n,sn,mn,Pn,On,Wn,Qn,qn,Tn,YA,P1,k1,$y,M1,F1,Fo,g0,ZA,QA,L1,m0,D1;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=xt,$.opacityToHex=Et;var vt=_e(1),bt=_e(6);function xt(Tr,vn,Vn){for(const sr of Vn)vn.addEventListener(sr,Tr[sr].bind(Tr))}function Et(Tr){return Math.round(Math.min(255,Math.max(1,255*Tr))).toString(16).padStart(2,"0")}class At{constructor(){Gt(this,kt,0)}getId(){return`${vt.AnnotationEditorPrefix}${eo(this,kt)._++}`}}kt=new WeakMap;const Ot=class Ot{constructor(){Gt(this,Ft);Gt(this,Mt,(0,vt.getUuid)());Gt(this,Dt,0);Gt(this,$t,null)}static get _isSVGFittingCanvas(){const vn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',sr=new OffscreenCanvas(1,3).getContext("2d"),mr=new Image;mr.src=vn;const br=mr.decode().then(()=>(sr.drawImage(mr,0,0,1,1,0,0,1,3),new Uint32Array(sr.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,vt.shadow)(this,"_isSVGFittingCanvas",br)}async getFromFile(vn){const{lastModified:Vn,name:sr,size:mr,type:br}=vn;return Ut(this,Ft,T1).call(this,`${Vn}_${sr}_${mr}_${br}`,vn)}async getFromUrl(vn){return Ut(this,Ft,T1).call(this,vn,vn)}async getFromId(vn){_t(this,$t)||Wt(this,$t,new Map);const Vn=_t(this,$t).get(vn);return Vn?Vn.bitmap?(Vn.refCounter+=1,Vn):Vn.file?this.getFromFile(Vn.file):this.getFromUrl(Vn.url):null}getSvgUrl(vn){const Vn=_t(this,$t).get(vn);return Vn!=null&&Vn.isSvg?Vn.svgUrl:null}deleteId(vn){_t(this,$t)||Wt(this,$t,new Map);const Vn=_t(this,$t).get(vn);Vn&&(Vn.refCounter-=1,Vn.refCounter===0&&(Vn.bitmap=null))}isValidId(vn){return vn.startsWith(`image_${_t(this,Mt)}_`)}};Mt=new WeakMap,Dt=new WeakMap,$t=new WeakMap,Ft=new WeakSet,T1=async function(vn,Vn){_t(this,$t)||Wt(this,$t,new Map);let sr=_t(this,$t).get(vn);if(sr===null)return null;if(sr!=null&&sr.bitmap)return sr.refCounter+=1,sr;try{sr||(sr={bitmap:null,id:`image_${_t(this,Mt)}_${eo(this,Dt)._++}`,refCounter:0,isSvg:!1});let mr;if(typeof Vn=="string"){sr.url=Vn;const br=await fetch(Vn);if(!br.ok)throw new Error(br.statusText);mr=await br.blob()}else mr=sr.file=Vn;if(mr.type==="image/svg+xml"){const br=Ot._isSVGFittingCanvas,ur=new FileReader,pn=new Image,an=new Promise((wn,Hn)=>{pn.onload=()=>{sr.bitmap=pn,sr.isSvg=!0,wn()},ur.onload=async()=>{const Bn=sr.svgUrl=ur.result;pn.src=await br?`${Bn}#svgView(preserveAspectRatio(none))`:Bn},pn.onerror=ur.onerror=Hn});ur.readAsDataURL(mr),await an}else sr.bitmap=await createImageBitmap(mr);sr.refCounter=1}catch(mr){console.error(mr),sr=null}return _t(this,$t).set(vn,sr),sr&&_t(this,$t).set(sr.id,sr),sr};let wt=Ot;class Ct{constructor(vn=128){Gt(this,Ht,[]);Gt(this,Nt,!1);Gt(this,Bt);Gt(this,jt,-1);Wt(this,Bt,vn)}add({cmd:vn,undo:Vn,mustExec:sr,type:mr=NaN,overwriteIfSameType:br=!1,keepUndo:ur=!1}){if(sr&&vn(),_t(this,Nt))return;const pn={cmd:vn,undo:Vn,type:mr};if(_t(this,jt)===-1){_t(this,Ht).length>0&&(_t(this,Ht).length=0),Wt(this,jt,0),_t(this,Ht).push(pn);return}if(br&&_t(this,Ht)[_t(this,jt)].type===mr){ur&&(pn.undo=_t(this,Ht)[_t(this,jt)].undo),_t(this,Ht)[_t(this,jt)]=pn;return}const an=_t(this,jt)+1;an===_t(this,Bt)?_t(this,Ht).splice(0,1):(Wt(this,jt,an),an<_t(this,Ht).length&&_t(this,Ht).splice(an)),_t(this,Ht).push(pn)}undo(){_t(this,jt)!==-1&&(Wt(this,Nt,!0),_t(this,Ht)[_t(this,jt)].undo(),Wt(this,Nt,!1),Wt(this,jt,_t(this,jt)-1))}redo(){_t(this,jt)<_t(this,Ht).length-1&&(Wt(this,jt,_t(this,jt)+1),Wt(this,Nt,!0),_t(this,Ht)[_t(this,jt)].cmd(),Wt(this,Nt,!1))}hasSomethingToUndo(){return _t(this,jt)!==-1}hasSomethingToRedo(){return _t(this,jt)<_t(this,Ht).length-1}destroy(){Wt(this,Ht,null)}}Ht=new WeakMap,Nt=new WeakMap,Bt=new WeakMap,jt=new WeakMap,$.CommandManager=Ct;class St{constructor(vn){Gt(this,zt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Vn}=vt.FeatureTest.platform;for(const[sr,mr,br={}]of vn)for(const ur of sr){const pn=ur.startsWith("mac+");Vn&&pn?(this.callbacks.set(ur.slice(4),{callback:mr,options:br}),this.allKeys.add(ur.split("+").at(-1))):!Vn&&!pn&&(this.callbacks.set(ur,{callback:mr,options:br}),this.allKeys.add(ur.split("+").at(-1)))}}exec(vn,Vn){if(!this.allKeys.has(Vn.key))return;const sr=this.callbacks.get(Ut(this,zt,KA).call(this,Vn));if(!sr)return;const{callback:mr,options:{bubbles:br=!1,args:ur=[],checker:pn=null}}=sr;pn&&!pn(vn,Vn)||(mr.bind(vn,...ur)(),br||(Vn.stopPropagation(),Vn.preventDefault()))}}zt=new WeakSet,KA=function(vn){vn.altKey&&this.buffer.push("alt"),vn.ctrlKey&&this.buffer.push("ctrl"),vn.metaKey&&this.buffer.push("meta"),vn.shiftKey&&this.buffer.push("shift"),this.buffer.push(vn.key);const Vn=this.buffer.join("+");return this.buffer.length=0,Vn},$.KeyboardManager=St;const nn=class nn{get _colors(){const vn=new Map([["CanvasText",null],["Canvas",null]]);return(0,bt.getColorValues)(vn),(0,vt.shadow)(this,"_colors",vn)}convert(vn){const Vn=(0,bt.getRGB)(vn);if(!window.matchMedia("(forced-colors: active)").matches)return Vn;for(const[sr,mr]of this._colors)if(mr.every((br,ur)=>br===Vn[ur]))return nn._colorsMapping.get(sr);return Vn}getHexCode(vn){const Vn=this._colors.get(vn);return Vn?vt.Util.makeHexColor(...Vn):vn}};wr(nn,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Rt=nn;$.ColorManager=Rt;const gr=class gr{constructor(vn,Vn,sr,mr,br,ur){Gt(this,Tn);Gt(this,qt,null);Gt(this,en,new Map);Gt(this,on,new Map);Gt(this,_n,null);Gt(this,dn,null);Gt(this,En,new Ct);Gt(this,cn,0);Gt(this,hn,new Set);Gt(this,tn,null);Gt(this,gn,null);Gt(this,Sn,new Set);Gt(this,rn,null);Gt(this,Xt,new At);Gt(this,Yt,!1);Gt(this,Jt,!1);Gt(this,un,null);Gt(this,ln,vt.AnnotationEditorType.NONE);Gt(this,fn,new Set);Gt(this,Rn,null);Gt(this,jn,this.blur.bind(this));Gt(this,Un,this.focus.bind(this));Gt(this,zn,this.copy.bind(this));Gt(this,Gn,this.cut.bind(this));Gt(this,Yn,this.paste.bind(this));Gt(this,Zn,this.keydown.bind(this));Gt(this,Dn,this.onEditingAction.bind(this));Gt(this,$n,this.onPageChanging.bind(this));Gt(this,sn,this.onScaleChanging.bind(this));Gt(this,mn,this.onRotationChanging.bind(this));Gt(this,Pn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Gt(this,On,[0,0]);Gt(this,Wn,null);Gt(this,Qn,null);Gt(this,qn,null);Wt(this,Qn,vn),Wt(this,qn,Vn),Wt(this,_n,sr),this._eventBus=mr,this._eventBus._on("editingaction",_t(this,Dn)),this._eventBus._on("pagechanging",_t(this,$n)),this._eventBus._on("scalechanging",_t(this,sn)),this._eventBus._on("rotationchanging",_t(this,mn)),Wt(this,dn,br.annotationStorage),Wt(this,rn,br.filterFactory),Wt(this,Rn,ur),this.viewParameters={realScale:bt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const vn=gr.prototype,Vn=br=>{const{activeElement:ur}=document;return ur&&_t(br,Qn).contains(ur)&&br.hasSomethingToControl()},sr=this.TRANSLATE_SMALL,mr=this.TRANSLATE_BIG;return(0,vt.shadow)(this,"_keyboardManager",new St([[["ctrl+a","mac+meta+a"],vn.selectAll],[["ctrl+z","mac+meta+z"],vn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],vn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],vn.delete],[["Escape","mac+Escape"],vn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],vn.translateSelectedEditors,{args:[-sr,0],checker:Vn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],vn.translateSelectedEditors,{args:[-mr,0],checker:Vn}],[["ArrowRight","mac+ArrowRight"],vn.translateSelectedEditors,{args:[sr,0],checker:Vn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],vn.translateSelectedEditors,{args:[mr,0],checker:Vn}],[["ArrowUp","mac+ArrowUp"],vn.translateSelectedEditors,{args:[0,-sr],checker:Vn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],vn.translateSelectedEditors,{args:[0,-mr],checker:Vn}],[["ArrowDown","mac+ArrowDown"],vn.translateSelectedEditors,{args:[0,sr],checker:Vn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],vn.translateSelectedEditors,{args:[0,mr],checker:Vn}]]))}destroy(){Ut(this,Tn,$y).call(this),Ut(this,Tn,P1).call(this),this._eventBus._off("editingaction",_t(this,Dn)),this._eventBus._off("pagechanging",_t(this,$n)),this._eventBus._off("scalechanging",_t(this,sn)),this._eventBus._off("rotationchanging",_t(this,mn));for(const vn of _t(this,on).values())vn.destroy();_t(this,on).clear(),_t(this,en).clear(),_t(this,Sn).clear(),Wt(this,qt,null),_t(this,fn).clear(),_t(this,En).destroy(),_t(this,_n).destroy()}get hcmFilter(){return(0,vt.shadow)(this,"hcmFilter",_t(this,Rn)?_t(this,rn).addHCMFilter(_t(this,Rn).foreground,_t(this,Rn).background):"none")}get direction(){return(0,vt.shadow)(this,"direction",getComputedStyle(_t(this,Qn)).direction)}editAltText(vn){var Vn;(Vn=_t(this,_n))==null||Vn.editAltText(this,vn)}onPageChanging({pageNumber:vn}){Wt(this,cn,vn-1)}focusMainContainer(){_t(this,Qn).focus()}findParent(vn,Vn){for(const sr of _t(this,on).values()){const{x:mr,y:br,width:ur,height:pn}=sr.div.getBoundingClientRect();if(vn>=mr&&vn<=mr+ur&&Vn>=br&&Vn<=br+pn)return sr}return null}disableUserSelect(vn=!1){_t(this,qn).classList.toggle("noUserSelect",vn)}addShouldRescale(vn){_t(this,Sn).add(vn)}removeShouldRescale(vn){_t(this,Sn).delete(vn)}onScaleChanging({scale:vn}){this.commitOrRemove(),this.viewParameters.realScale=vn*bt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Vn of _t(this,Sn))Vn.onScaleChanging()}onRotationChanging({pagesRotation:vn}){this.commitOrRemove(),this.viewParameters.rotation=vn}addToAnnotationStorage(vn){!vn.isEmpty()&&_t(this,dn)&&!_t(this,dn).has(vn.id)&&_t(this,dn).setValue(vn.id,vn)}blur(){if(!this.hasSelection)return;const{activeElement:vn}=document;for(const Vn of _t(this,fn))if(Vn.div.contains(vn)){Wt(this,un,[Vn,vn]),Vn._focusEventsAllowed=!1;break}}focus(){if(!_t(this,un))return;const[vn,Vn]=_t(this,un);Wt(this,un,null),Vn.addEventListener("focusin",()=>{vn._focusEventsAllowed=!0},{once:!0}),Vn.focus()}addEditListeners(){Ut(this,Tn,k1).call(this),Ut(this,Tn,M1).call(this)}removeEditListeners(){Ut(this,Tn,$y).call(this),Ut(this,Tn,F1).call(this)}copy(vn){var sr;if(vn.preventDefault(),(sr=_t(this,qt))==null||sr.commitOrRemove(),!this.hasSelection)return;const Vn=[];for(const mr of _t(this,fn)){const br=mr.serialize(!0);br&&Vn.push(br)}Vn.length!==0&&vn.clipboardData.setData("application/pdfjs",JSON.stringify(Vn))}cut(vn){this.copy(vn),this.delete()}paste(vn){vn.preventDefault();const{clipboardData:Vn}=vn;for(const br of Vn.items)for(const ur of _t(this,gn))if(ur.isHandlingMimeForPasting(br.type)){ur.paste(br,this.currentLayer);return}let sr=Vn.getData("application/pdfjs");if(!sr)return;try{sr=JSON.parse(sr)}catch(br){(0,vt.warn)(`paste: "${br.message}".`);return}if(!Array.isArray(sr))return;this.unselectAll();const mr=this.currentLayer;try{const br=[];for(const an of sr){const wn=mr.deserialize(an);if(!wn)return;br.push(wn)}const ur=()=>{for(const an of br)Ut(this,Tn,L1).call(this,an);Ut(this,Tn,D1).call(this,br)},pn=()=>{for(const an of br)an.remove()};this.addCommands({cmd:ur,undo:pn,mustExec:!0})}catch(br){(0,vt.warn)(`paste: "${br.message}".`)}}keydown(vn){var Vn;(Vn=this.getActive())!=null&&Vn.shouldGetKeyboardEvents()||gr._keyboardManager.exec(this,vn)}onEditingAction(vn){["undo","redo","delete","selectAll"].includes(vn.name)&&this[vn.name]()}setEditingState(vn){vn?(Ut(this,Tn,YA).call(this),Ut(this,Tn,k1).call(this),Ut(this,Tn,M1).call(this),Ut(this,Tn,Fo).call(this,{isEditing:_t(this,ln)!==vt.AnnotationEditorType.NONE,isEmpty:Ut(this,Tn,m0).call(this),hasSomethingToUndo:_t(this,En).hasSomethingToUndo(),hasSomethingToRedo:_t(this,En).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ut(this,Tn,P1).call(this),Ut(this,Tn,$y).call(this),Ut(this,Tn,F1).call(this),Ut(this,Tn,Fo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(vn){if(!_t(this,gn)){Wt(this,gn,vn);for(const Vn of _t(this,gn))Ut(this,Tn,g0).call(this,Vn.defaultPropertiesToUpdate)}}getId(){return _t(this,Xt).getId()}get currentLayer(){return _t(this,on).get(_t(this,cn))}getLayer(vn){return _t(this,on).get(vn)}get currentPageIndex(){return _t(this,cn)}addLayer(vn){_t(this,on).set(vn.pageIndex,vn),_t(this,Yt)?vn.enable():vn.disable()}removeLayer(vn){_t(this,on).delete(vn.pageIndex)}updateMode(vn,Vn=null){if(_t(this,ln)!==vn){if(Wt(this,ln,vn),vn===vt.AnnotationEditorType.NONE){this.setEditingState(!1),Ut(this,Tn,QA).call(this);return}this.setEditingState(!0),Ut(this,Tn,ZA).call(this),this.unselectAll();for(const sr of _t(this,on).values())sr.updateMode(vn);if(Vn){for(const sr of _t(this,en).values())if(sr.annotationElementId===Vn){this.setSelected(sr),sr.enterInEditMode();break}}}}updateToolbar(vn){vn!==_t(this,ln)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:vn})}updateParams(vn,Vn){if(_t(this,gn)){if(vn===vt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(vn);return}for(const sr of _t(this,fn))sr.updateParams(vn,Vn);for(const sr of _t(this,gn))sr.updateDefaultParams(vn,Vn)}}enableWaiting(vn=!1){if(_t(this,Jt)!==vn){Wt(this,Jt,vn);for(const Vn of _t(this,on).values())vn?Vn.disableClick():Vn.enableClick(),Vn.div.classList.toggle("waiting",vn)}}getEditors(vn){const Vn=[];for(const sr of _t(this,en).values())sr.pageIndex===vn&&Vn.push(sr);return Vn}getEditor(vn){return _t(this,en).get(vn)}addEditor(vn){_t(this,en).set(vn.id,vn)}removeEditor(vn){var Vn;_t(this,en).delete(vn.id),this.unselect(vn),(!vn.annotationElementId||!_t(this,hn).has(vn.annotationElementId))&&((Vn=_t(this,dn))==null||Vn.remove(vn.id))}addDeletedAnnotationElement(vn){_t(this,hn).add(vn.annotationElementId),vn.deleted=!0}isDeletedAnnotationElement(vn){return _t(this,hn).has(vn)}removeDeletedAnnotationElement(vn){_t(this,hn).delete(vn.annotationElementId),vn.deleted=!1}setActiveEditor(vn){_t(this,qt)!==vn&&(Wt(this,qt,vn),vn&&Ut(this,Tn,g0).call(this,vn.propertiesToUpdate))}toggleSelected(vn){if(_t(this,fn).has(vn)){_t(this,fn).delete(vn),vn.unselect(),Ut(this,Tn,Fo).call(this,{hasSelectedEditor:this.hasSelection});return}_t(this,fn).add(vn),vn.select(),Ut(this,Tn,g0).call(this,vn.propertiesToUpdate),Ut(this,Tn,Fo).call(this,{hasSelectedEditor:!0})}setSelected(vn){for(const Vn of _t(this,fn))Vn!==vn&&Vn.unselect();_t(this,fn).clear(),_t(this,fn).add(vn),vn.select(),Ut(this,Tn,g0).call(this,vn.propertiesToUpdate),Ut(this,Tn,Fo).call(this,{hasSelectedEditor:!0})}isSelected(vn){return _t(this,fn).has(vn)}unselect(vn){vn.unselect(),_t(this,fn).delete(vn),Ut(this,Tn,Fo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return _t(this,fn).size!==0}undo(){_t(this,En).undo(),Ut(this,Tn,Fo).call(this,{hasSomethingToUndo:_t(this,En).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ut(this,Tn,m0).call(this)})}redo(){_t(this,En).redo(),Ut(this,Tn,Fo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_t(this,En).hasSomethingToRedo(),isEmpty:Ut(this,Tn,m0).call(this)})}addCommands(vn){_t(this,En).add(vn),Ut(this,Tn,Fo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ut(this,Tn,m0).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const vn=[..._t(this,fn)],Vn=()=>{for(const mr of vn)mr.remove()},sr=()=>{for(const mr of vn)Ut(this,Tn,L1).call(this,mr)};this.addCommands({cmd:Vn,undo:sr,mustExec:!0})}commitOrRemove(){var vn;(vn=_t(this,qt))==null||vn.commitOrRemove()}hasSomethingToControl(){return _t(this,qt)||this.hasSelection}selectAll(){for(const vn of _t(this,fn))vn.commit();Ut(this,Tn,D1).call(this,_t(this,en).values())}unselectAll(){if(_t(this,qt)){_t(this,qt).commitOrRemove();return}if(this.hasSelection){for(const vn of _t(this,fn))vn.unselect();_t(this,fn).clear(),Ut(this,Tn,Fo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(vn,Vn,sr=!1){if(sr||this.commitOrRemove(),!this.hasSelection)return;_t(this,On)[0]+=vn,_t(this,On)[1]+=Vn;const[mr,br]=_t(this,On),ur=[..._t(this,fn)],pn=1e3;_t(this,Wn)&&clearTimeout(_t(this,Wn)),Wt(this,Wn,setTimeout(()=>{Wt(this,Wn,null),_t(this,On)[0]=_t(this,On)[1]=0,this.addCommands({cmd:()=>{for(const an of ur)_t(this,en).has(an.id)&&an.translateInPage(mr,br)},undo:()=>{for(const an of ur)_t(this,en).has(an.id)&&an.translateInPage(-mr,-br)},mustExec:!1})},pn));for(const an of ur)an.translateInPage(vn,Vn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Wt(this,tn,new Map);for(const vn of _t(this,fn))_t(this,tn).set(vn,{savedX:vn.x,savedY:vn.y,savedPageIndex:vn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_t(this,tn))return!1;this.disableUserSelect(!1);const vn=_t(this,tn);Wt(this,tn,null);let Vn=!1;for(const[{x:mr,y:br,pageIndex:ur},pn]of vn)pn.newX=mr,pn.newY=br,pn.newPageIndex=ur,Vn||(Vn=mr!==pn.savedX||br!==pn.savedY||ur!==pn.savedPageIndex);if(!Vn)return!1;const sr=(mr,br,ur,pn)=>{if(_t(this,en).has(mr.id)){const an=_t(this,on).get(pn);an?mr._setParentAndPosition(an,br,ur):(mr.pageIndex=pn,mr.x=br,mr.y=ur)}};return this.addCommands({cmd:()=>{for(const[mr,{newX:br,newY:ur,newPageIndex:pn}]of vn)sr(mr,br,ur,pn)},undo:()=>{for(const[mr,{savedX:br,savedY:ur,savedPageIndex:pn}]of vn)sr(mr,br,ur,pn)},mustExec:!0}),!0}dragSelectedEditors(vn,Vn){if(_t(this,tn))for(const sr of _t(this,tn).keys())sr.drag(vn,Vn)}rebuild(vn){if(vn.parent===null){const Vn=this.getLayer(vn.pageIndex);Vn?(Vn.changeParent(vn),Vn.addOrRebuild(vn)):(this.addEditor(vn),this.addToAnnotationStorage(vn),vn.rebuild())}else vn.parent.addOrRebuild(vn)}isActive(vn){return _t(this,qt)===vn}getActive(){return _t(this,qt)}getMode(){return _t(this,ln)}get imageManager(){return(0,vt.shadow)(this,"imageManager",new wt)}};qt=new WeakMap,en=new WeakMap,on=new WeakMap,_n=new WeakMap,dn=new WeakMap,En=new WeakMap,cn=new WeakMap,hn=new WeakMap,tn=new WeakMap,gn=new WeakMap,Sn=new WeakMap,rn=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,un=new WeakMap,ln=new WeakMap,fn=new WeakMap,Rn=new WeakMap,jn=new WeakMap,Un=new WeakMap,zn=new WeakMap,Gn=new WeakMap,Yn=new WeakMap,Zn=new WeakMap,Dn=new WeakMap,$n=new WeakMap,sn=new WeakMap,mn=new WeakMap,Pn=new WeakMap,On=new WeakMap,Wn=new WeakMap,Qn=new WeakMap,qn=new WeakMap,Tn=new WeakSet,YA=function(){window.addEventListener("focus",_t(this,Un)),window.addEventListener("blur",_t(this,jn))},P1=function(){window.removeEventListener("focus",_t(this,Un)),window.removeEventListener("blur",_t(this,jn))},k1=function(){window.addEventListener("keydown",_t(this,Zn),{capture:!0})},$y=function(){window.removeEventListener("keydown",_t(this,Zn),{capture:!0})},M1=function(){document.addEventListener("copy",_t(this,zn)),document.addEventListener("cut",_t(this,Gn)),document.addEventListener("paste",_t(this,Yn))},F1=function(){document.removeEventListener("copy",_t(this,zn)),document.removeEventListener("cut",_t(this,Gn)),document.removeEventListener("paste",_t(this,Yn))},Fo=function(vn){Object.entries(vn).some(([sr,mr])=>_t(this,Pn)[sr]!==mr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_t(this,Pn),vn)})},g0=function(vn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:vn})},ZA=function(){if(!_t(this,Yt)){Wt(this,Yt,!0);for(const vn of _t(this,on).values())vn.enable()}},QA=function(){if(this.unselectAll(),_t(this,Yt)){Wt(this,Yt,!1);for(const vn of _t(this,on).values())vn.disable()}},L1=function(vn){const Vn=_t(this,on).get(vn.pageIndex);Vn?Vn.addOrRebuild(vn):this.addEditor(vn)},m0=function(){if(_t(this,en).size===0)return!0;if(_t(this,en).size===1)for(const vn of _t(this,en).values())return vn.isEmpty();return!1},D1=function(vn){_t(this,fn).clear();for(const Vn of vn)Vn.isEmpty()||(_t(this,fn).add(Vn),Vn.select());Ut(this,Tn,Fo).call(this,{hasSelectedEditor:!0})},wr(gr,"TRANSLATE_SMALL",1),wr(gr,"TRANSLATE_BIG",10);let Pt=gr;$.AnnotationEditorUIManager=Pt},(ht,$,_e)=>{var cn,hn,tn,gn,Sn,rn,Xt,Yt,Jt,un,ln,fn,nm,im,I1,Oy,Ny,v0,y0;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=jt,$.getColorValues=en,$.getCurrentTransform=on,$.getCurrentTransformInverse=_n,$.getFilenameFromUrl=Ft,$.getPdfFilenameFromUrl=Lt,$.getRGB=qt,$.getXfaPageViewport=nn,$.isDataScheme=Dt,$.isPdfFile=$t,$.isValidFetchUrl=Ht,$.loadScript=Bt,$.noContextMenu=Nt,$.setLayerDimensions=dn;var vt=_e(7),bt=_e(1);const xt="http://www.w3.org/2000/svg",En=class En{};wr(En,"CSS",96),wr(En,"PDF",72),wr(En,"PDF_TO_CSS_UNITS",En.CSS/En.PDF);let Et=En;$.PixelsPerInch=Et;class At extends vt.BaseFilterFactory{constructor({docId:sn,ownerDocument:mn=globalThis.document}={}){super();Gt(this,fn);Gt(this,cn);Gt(this,hn);Gt(this,tn);Gt(this,gn);Gt(this,Sn);Gt(this,rn);Gt(this,Xt);Gt(this,Yt);Gt(this,Jt);Gt(this,un);Gt(this,ln,0);Wt(this,tn,sn),Wt(this,gn,mn)}addFilter(sn){if(!sn)return"none";let mn=_t(this,fn,nm).get(sn);if(mn)return mn;let Pn,On,Wn,Qn;if(sn.length===1){const nr=sn[0],Or=new Array(256);for(let Pr=0;Pr<256;Pr++)Or[Pr]=nr[Pr]/255;Qn=Pn=On=Wn=Or.join(",")}else{const[nr,Or,Pr]=sn,Kr=new Array(256),hr=new Array(256),_r=new Array(256);for(let Ur=0;Ur<256;Ur++)Kr[Ur]=nr[Ur]/255,hr[Ur]=Or[Ur]/255,_r[Ur]=Pr[Ur]/255;Pn=Kr.join(","),On=hr.join(","),Wn=_r.join(","),Qn=`${Pn}${On}${Wn}`}if(mn=_t(this,fn,nm).get(Qn),mn)return _t(this,fn,nm).set(sn,mn),mn;const qn=`g_${_t(this,tn)}_transfer_map_${eo(this,ln)._++}`,Tn=`url(#${qn})`;_t(this,fn,nm).set(sn,Tn),_t(this,fn,nm).set(Qn,Tn);const or=Ut(this,fn,Oy).call(this,qn);return Ut(this,fn,v0).call(this,Pn,On,Wn,or),Tn}addHCMFilter(sn,mn){var Or;const Pn=`${sn}-${mn}`;if(_t(this,rn)===Pn)return _t(this,Xt);if(Wt(this,rn,Pn),Wt(this,Xt,"none"),(Or=_t(this,Sn))==null||Or.remove(),!sn||!mn)return _t(this,Xt);const On=Ut(this,fn,y0).call(this,sn);sn=bt.Util.makeHexColor(...On);const Wn=Ut(this,fn,y0).call(this,mn);if(mn=bt.Util.makeHexColor(...Wn),_t(this,fn,im).style.color="",sn==="#000000"&&mn==="#ffffff"||sn===mn)return _t(this,Xt);const Qn=new Array(256);for(let Pr=0;Pr<=255;Pr++){const Kr=Pr/255;Qn[Pr]=Kr<=.03928?Kr/12.92:((Kr+.055)/1.055)**2.4}const qn=Qn.join(","),Tn=`g_${_t(this,tn)}_hcm_filter`,or=Wt(this,Yt,Ut(this,fn,Oy).call(this,Tn));Ut(this,fn,v0).call(this,qn,qn,qn,or),Ut(this,fn,I1).call(this,or);const nr=(Pr,Kr)=>{const hr=On[Pr]/255,_r=Wn[Pr]/255,Ur=new Array(Kr+1);for(let is=0;is<=Kr;is++)Ur[is]=hr+is/Kr*(_r-hr);return Ur.join(",")};return Ut(this,fn,v0).call(this,nr(0,5),nr(1,5),nr(2,5),or),Wt(this,Xt,`url(#${Tn})`),_t(this,Xt)}addHighlightHCMFilter(sn,mn,Pn,On){var _r;const Wn=`${sn}-${mn}-${Pn}-${On}`;if(_t(this,Jt)===Wn)return _t(this,un);if(Wt(this,Jt,Wn),Wt(this,un,"none"),(_r=_t(this,Yt))==null||_r.remove(),!sn||!mn)return _t(this,un);const[Qn,qn]=[sn,mn].map(Ut(this,fn,y0).bind(this));let Tn=Math.round(.2126*Qn[0]+.7152*Qn[1]+.0722*Qn[2]),or=Math.round(.2126*qn[0]+.7152*qn[1]+.0722*qn[2]),[nr,Or]=[Pn,On].map(Ut(this,fn,y0).bind(this));or<Tn&&([Tn,or,nr,Or]=[or,Tn,Or,nr]),_t(this,fn,im).style.color="";const Pr=(Ur,is,Xn)=>{const kn=new Array(256),Fn=(or-Tn)/Xn,dr=Ur/255,gr=(is-Ur)/(255*Xn);let Tr=0;for(let vn=0;vn<=Xn;vn++){const Vn=Math.round(Tn+vn*Fn),sr=dr+vn*gr;for(let mr=Tr;mr<=Vn;mr++)kn[mr]=sr;Tr=Vn+1}for(let vn=Tr;vn<256;vn++)kn[vn]=kn[Tr-1];return kn.join(",")},Kr=`g_${_t(this,tn)}_hcm_highlight_filter`,hr=Wt(this,Yt,Ut(this,fn,Oy).call(this,Kr));return Ut(this,fn,I1).call(this,hr),Ut(this,fn,v0).call(this,Pr(nr[0],Or[0],5),Pr(nr[1],Or[1],5),Pr(nr[2],Or[2],5),hr),Wt(this,un,`url(#${Kr})`),_t(this,un)}destroy(sn=!1){sn&&(_t(this,Xt)||_t(this,un))||(_t(this,hn)&&(_t(this,hn).parentNode.parentNode.remove(),Wt(this,hn,null)),_t(this,cn)&&(_t(this,cn).clear(),Wt(this,cn,null)),Wt(this,ln,0))}}cn=new WeakMap,hn=new WeakMap,tn=new WeakMap,gn=new WeakMap,Sn=new WeakMap,rn=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,un=new WeakMap,ln=new WeakMap,fn=new WeakSet,nm=function(){return _t(this,cn)||Wt(this,cn,new Map)},im=function(){if(!_t(this,hn)){const sn=_t(this,gn).createElement("div"),{style:mn}=sn;mn.visibility="hidden",mn.contain="strict",mn.width=mn.height=0,mn.position="absolute",mn.top=mn.left=0,mn.zIndex=-1;const Pn=_t(this,gn).createElementNS(xt,"svg");Pn.setAttribute("width",0),Pn.setAttribute("height",0),Wt(this,hn,_t(this,gn).createElementNS(xt,"defs")),sn.append(Pn),Pn.append(_t(this,hn)),_t(this,gn).body.append(sn)}return _t(this,hn)},I1=function(sn){const mn=_t(this,gn).createElementNS(xt,"feColorMatrix");mn.setAttribute("type","matrix"),mn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),sn.append(mn)},Oy=function(sn){const mn=_t(this,gn).createElementNS(xt,"filter");return mn.setAttribute("color-interpolation-filters","sRGB"),mn.setAttribute("id",sn),_t(this,fn,im).append(mn),mn},Ny=function(sn,mn,Pn){const On=_t(this,gn).createElementNS(xt,mn);On.setAttribute("type","discrete"),On.setAttribute("tableValues",Pn),sn.append(On)},v0=function(sn,mn,Pn,On){const Wn=_t(this,gn).createElementNS(xt,"feComponentTransfer");On.append(Wn),Ut(this,fn,Ny).call(this,Wn,"feFuncR",sn),Ut(this,fn,Ny).call(this,Wn,"feFuncG",mn),Ut(this,fn,Ny).call(this,Wn,"feFuncB",Pn)},y0=function(sn){return _t(this,fn,im).style.color=sn,qt(getComputedStyle(_t(this,fn,im)).getPropertyValue("color"))},$.DOMFilterFactory=At;class wt extends vt.BaseCanvasFactory{constructor({ownerDocument:$n=globalThis.document}={}){super(),this._document=$n}_createCanvas($n,sn){const mn=this._document.createElement("canvas");return mn.width=$n,mn.height=sn,mn}}$.DOMCanvasFactory=wt;async function Ct(Dn,$n=!1){if(Ht(Dn,document.baseURI)){const sn=await fetch(Dn);if(!sn.ok)throw new Error(sn.statusText);return $n?new Uint8Array(await sn.arrayBuffer()):(0,bt.stringToBytes)(await sn.text())}return new Promise((sn,mn)=>{const Pn=new XMLHttpRequest;Pn.open("GET",Dn,!0),$n&&(Pn.responseType="arraybuffer"),Pn.onreadystatechange=()=>{if(Pn.readyState===XMLHttpRequest.DONE){if(Pn.status===200||Pn.status===0){let On;if($n&&Pn.response?On=new Uint8Array(Pn.response):!$n&&Pn.responseText&&(On=(0,bt.stringToBytes)(Pn.responseText)),On){sn(On);return}}mn(new Error(Pn.statusText))}},Pn.send(null)})}class St extends vt.BaseCMapReaderFactory{_fetchData($n,sn){return Ct($n,this.isCompressed).then(mn=>({cMapData:mn,compressionType:sn}))}}$.DOMCMapReaderFactory=St;class Rt extends vt.BaseStandardFontDataFactory{_fetchData($n){return Ct($n,!0)}}$.DOMStandardFontDataFactory=Rt;class Pt extends vt.BaseSVGFactory{_createSVG($n){return document.createElementNS(xt,$n)}}$.DOMSVGFactory=Pt;class kt{constructor({viewBox:$n,scale:sn,rotation:mn,offsetX:Pn=0,offsetY:On=0,dontFlip:Wn=!1}){this.viewBox=$n,this.scale=sn,this.rotation=mn,this.offsetX=Pn,this.offsetY=On;const Qn=($n[2]+$n[0])/2,qn=($n[3]+$n[1])/2;let Tn,or,nr,Or;switch(mn%=360,mn<0&&(mn+=360),mn){case 180:Tn=-1,or=0,nr=0,Or=1;break;case 90:Tn=0,or=1,nr=1,Or=0;break;case 270:Tn=0,or=-1,nr=-1,Or=0;break;case 0:Tn=1,or=0,nr=0,Or=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Wn&&(nr=-nr,Or=-Or);let Pr,Kr,hr,_r;Tn===0?(Pr=Math.abs(qn-$n[1])*sn+Pn,Kr=Math.abs(Qn-$n[0])*sn+On,hr=($n[3]-$n[1])*sn,_r=($n[2]-$n[0])*sn):(Pr=Math.abs(Qn-$n[0])*sn+Pn,Kr=Math.abs(qn-$n[1])*sn+On,hr=($n[2]-$n[0])*sn,_r=($n[3]-$n[1])*sn),this.transform=[Tn*sn,or*sn,nr*sn,Or*sn,Pr-Tn*sn*Qn-nr*sn*qn,Kr-or*sn*Qn-Or*sn*qn],this.width=hr,this.height=_r}get rawDims(){const{viewBox:$n}=this;return(0,bt.shadow)(this,"rawDims",{pageWidth:$n[2]-$n[0],pageHeight:$n[3]-$n[1],pageX:$n[0],pageY:$n[1]})}clone({scale:$n=this.scale,rotation:sn=this.rotation,offsetX:mn=this.offsetX,offsetY:Pn=this.offsetY,dontFlip:On=!1}={}){return new kt({viewBox:this.viewBox.slice(),scale:$n,rotation:sn,offsetX:mn,offsetY:Pn,dontFlip:On})}convertToViewportPoint($n,sn){return bt.Util.applyTransform([$n,sn],this.transform)}convertToViewportRectangle($n){const sn=bt.Util.applyTransform([$n[0],$n[1]],this.transform),mn=bt.Util.applyTransform([$n[2],$n[3]],this.transform);return[sn[0],sn[1],mn[0],mn[1]]}convertToPdfPoint($n,sn){return bt.Util.applyInverseTransform([$n,sn],this.transform)}}$.PageViewport=kt;class Mt extends bt.BaseException{constructor($n,sn=0){super($n,"RenderingCancelledException"),this.extraDelay=sn}}$.RenderingCancelledException=Mt;function Dt(Dn){const $n=Dn.length;let sn=0;for(;sn<$n&&Dn[sn].trim()==="";)sn++;return Dn.substring(sn,sn+5).toLowerCase()==="data:"}function $t(Dn){return typeof Dn=="string"&&/\.pdf$/i.test(Dn)}function Ft(Dn,$n=!1){return $n||([Dn]=Dn.split(/[#?]/,1)),Dn.substring(Dn.lastIndexOf("/")+1)}function Lt(Dn,$n="document.pdf"){if(typeof Dn!="string")return $n;if(Dt(Dn))return(0,bt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),$n;const sn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,mn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Pn=sn.exec(Dn);let On=mn.exec(Pn[1])||mn.exec(Pn[2])||mn.exec(Pn[3]);if(On&&(On=On[0],On.includes("%")))try{On=mn.exec(decodeURIComponent(On))[0]}catch{}return On||$n}class Ot{constructor(){wr(this,"started",Object.create(null));wr(this,"times",[])}time($n){$n in this.started&&(0,bt.warn)(`Timer is already running for ${$n}`),this.started[$n]=Date.now()}timeEnd($n){$n in this.started||(0,bt.warn)(`Timer has not been started for ${$n}`),this.times.push({name:$n,start:this.started[$n],end:Date.now()}),delete this.started[$n]}toString(){const $n=[];let sn=0;for(const{name:mn}of this.times)sn=Math.max(mn.length,sn);for(const{name:mn,start:Pn,end:On}of this.times)$n.push(`${mn.padEnd(sn)} ${On-Pn}ms
`);return $n.join("")}}$.StatTimer=Ot;function Ht(Dn,$n){try{const{protocol:sn}=$n?new URL(Dn,$n):new URL(Dn);return sn==="http:"||sn==="https:"}catch{return!1}}function Nt(Dn){Dn.preventDefault()}function Bt(Dn,$n=!1){return new Promise((sn,mn)=>{const Pn=document.createElement("script");Pn.src=Dn,Pn.onload=function(On){$n&&Pn.remove(),sn(On)},Pn.onerror=function(){mn(new Error(`Cannot load script at: ${Pn.src}`))},(document.head||document.documentElement).append(Pn)})}function jt(Dn){console.log("Deprecated API usage: "+Dn)}let zt;class Kt{static toDateObject($n){if(!$n||typeof $n!="string")return null;zt||(zt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const sn=zt.exec($n);if(!sn)return null;const mn=parseInt(sn[1],10);let Pn=parseInt(sn[2],10);Pn=Pn>=1&&Pn<=12?Pn-1:0;let On=parseInt(sn[3],10);On=On>=1&&On<=31?On:1;let Wn=parseInt(sn[4],10);Wn=Wn>=0&&Wn<=23?Wn:0;let Qn=parseInt(sn[5],10);Qn=Qn>=0&&Qn<=59?Qn:0;let qn=parseInt(sn[6],10);qn=qn>=0&&qn<=59?qn:0;const Tn=sn[7]||"Z";let or=parseInt(sn[8],10);or=or>=0&&or<=23?or:0;let nr=parseInt(sn[9],10)||0;return nr=nr>=0&&nr<=59?nr:0,Tn==="-"?(Wn+=or,Qn+=nr):Tn==="+"&&(Wn-=or,Qn-=nr),new Date(Date.UTC(mn,Pn,On,Wn,Qn,qn))}}$.PDFDateString=Kt;function nn(Dn,{scale:$n=1,rotation:sn=0}){const{width:mn,height:Pn}=Dn.attributes.style,On=[0,0,parseInt(mn),parseInt(Pn)];return new kt({viewBox:On,scale:$n,rotation:sn})}function qt(Dn){if(Dn.startsWith("#")){const $n=parseInt(Dn.slice(1),16);return[($n&16711680)>>16,($n&65280)>>8,$n&255]}return Dn.startsWith("rgb(")?Dn.slice(4,-1).split(",").map($n=>parseInt($n)):Dn.startsWith("rgba(")?Dn.slice(5,-1).split(",").map($n=>parseInt($n)).slice(0,3):((0,bt.warn)(`Not a valid color format: "${Dn}"`),[0,0,0])}function en(Dn){const $n=document.createElement("span");$n.style.visibility="hidden",document.body.append($n);for(const sn of Dn.keys()){$n.style.color=sn;const mn=window.getComputedStyle($n).color;Dn.set(sn,qt(mn))}$n.remove()}function on(Dn){const{a:$n,b:sn,c:mn,d:Pn,e:On,f:Wn}=Dn.getTransform();return[$n,sn,mn,Pn,On,Wn]}function _n(Dn){const{a:$n,b:sn,c:mn,d:Pn,e:On,f:Wn}=Dn.getTransform().invertSelf();return[$n,sn,mn,Pn,On,Wn]}function dn(Dn,$n,sn=!1,mn=!0){if($n instanceof kt){const{pageWidth:Pn,pageHeight:On}=$n.rawDims,{style:Wn}=Dn,Qn=bt.FeatureTest.isCSSRoundSupported,qn=`var(--scale-factor) * ${Pn}px`,Tn=`var(--scale-factor) * ${On}px`,or=Qn?`round(${qn}, 1px)`:`calc(${qn})`,nr=Qn?`round(${Tn}, 1px)`:`calc(${Tn})`;!sn||$n.rotation%180===0?(Wn.width=or,Wn.height=nr):(Wn.width=nr,Wn.height=or)}mn&&Dn.setAttribute("data-main-rotation",$n.rotation)}},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var vt=_e(1);class bt{constructor(){this.constructor===bt&&(0,vt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(St){return"none"}addHCMFilter(St,Rt){return"none"}addHighlightHCMFilter(St,Rt,Pt,kt){return"none"}destroy(St=!1){}}$.BaseFilterFactory=bt;class xt{constructor(){this.constructor===xt&&(0,vt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(St,Rt){if(St<=0||Rt<=0)throw new Error("Invalid canvas size");const Pt=this._createCanvas(St,Rt);return{canvas:Pt,context:Pt.getContext("2d")}}reset(St,Rt,Pt){if(!St.canvas)throw new Error("Canvas is not specified");if(Rt<=0||Pt<=0)throw new Error("Invalid canvas size");St.canvas.width=Rt,St.canvas.height=Pt}destroy(St){if(!St.canvas)throw new Error("Canvas is not specified");St.canvas.width=0,St.canvas.height=0,St.canvas=null,St.context=null}_createCanvas(St,Rt){(0,vt.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=xt;class Et{constructor({baseUrl:St=null,isCompressed:Rt=!0}){this.constructor===Et&&(0,vt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=St,this.isCompressed=Rt}async fetch({name:St}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!St)throw new Error("CMap name must be specified.");const Rt=this.baseUrl+St+(this.isCompressed?".bcmap":""),Pt=this.isCompressed?vt.CMapCompressionType.BINARY:vt.CMapCompressionType.NONE;return this._fetchData(Rt,Pt).catch(kt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Rt}`)})}_fetchData(St,Rt){(0,vt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=Et;class At{constructor({baseUrl:St=null}){this.constructor===At&&(0,vt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=St}async fetch({filename:St}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!St)throw new Error("Font filename must be specified.");const Rt=`${this.baseUrl}${St}`;return this._fetchData(Rt).catch(Pt=>{throw new Error(`Unable to load font data at: ${Rt}`)})}_fetchData(St){(0,vt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=At;class wt{constructor(){this.constructor===wt&&(0,vt.unreachable)("Cannot initialize BaseSVGFactory.")}create(St,Rt,Pt=!1){if(St<=0||Rt<=0)throw new Error("Invalid SVG dimensions");const kt=this._createSVG("svg:svg");return kt.setAttribute("version","1.1"),Pt||(kt.setAttribute("width",`${St}px`),kt.setAttribute("height",`${Rt}px`)),kt.setAttribute("preserveAspectRatio","none"),kt.setAttribute("viewBox",`0 0 ${St} ${Rt}`),kt}createElement(St){if(typeof St!="string")throw new Error("Invalid SVG element type");return this._createSVG(St)}_createSVG(St){(0,vt.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=wt},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var vt=_e(1);const bt=3285377520,xt=4294901760,Et=65535;class At{constructor(Ct){this.h1=Ct?Ct&4294967295:bt,this.h2=Ct?Ct&4294967295:bt}update(Ct){let St,Rt;if(typeof Ct=="string"){St=new Uint8Array(Ct.length*2),Rt=0;for(let jt=0,zt=Ct.length;jt<zt;jt++){const Kt=Ct.charCodeAt(jt);Kt<=255?St[Rt++]=Kt:(St[Rt++]=Kt>>>8,St[Rt++]=Kt&255)}}else if((0,vt.isArrayBuffer)(Ct))St=Ct.slice(),Rt=St.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Pt=Rt>>2,kt=Rt-Pt*4,Mt=new Uint32Array(St.buffer,0,Pt);let Dt=0,$t=0,Ft=this.h1,Lt=this.h2;const Ot=3432918353,Ht=461845907,Nt=Ot&Et,Bt=Ht&Et;for(let jt=0;jt<Pt;jt++)jt&1?(Dt=Mt[jt],Dt=Dt*Ot&xt|Dt*Nt&Et,Dt=Dt<<15|Dt>>>17,Dt=Dt*Ht&xt|Dt*Bt&Et,Ft^=Dt,Ft=Ft<<13|Ft>>>19,Ft=Ft*5+3864292196):($t=Mt[jt],$t=$t*Ot&xt|$t*Nt&Et,$t=$t<<15|$t>>>17,$t=$t*Ht&xt|$t*Bt&Et,Lt^=$t,Lt=Lt<<13|Lt>>>19,Lt=Lt*5+3864292196);switch(Dt=0,kt){case 3:Dt^=St[Pt*4+2]<<16;case 2:Dt^=St[Pt*4+1]<<8;case 1:Dt^=St[Pt*4],Dt=Dt*Ot&xt|Dt*Nt&Et,Dt=Dt<<15|Dt>>>17,Dt=Dt*Ht&xt|Dt*Bt&Et,Pt&1?Ft^=Dt:Lt^=Dt}this.h1=Ft,this.h2=Lt}hexdigest(){let Ct=this.h1,St=this.h2;return Ct^=St>>>1,Ct=Ct*3981806797&xt|Ct*36045&Et,St=St*4283543511&xt|((St<<16|Ct>>>16)*2950163797&xt)>>>16,Ct^=St>>>1,Ct=Ct*444984403&xt|Ct*60499&Et,St=St*3301882366&xt|((St<<16|Ct>>>16)*3120437893&xt)>>>16,Ct^=St>>>1,(Ct>>>0).toString(16).padStart(8,"0")+(St>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=At},(ht,$,_e)=>{var Et;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var vt=_e(1);class bt{constructor({ownerDocument:wt=globalThis.document,styleElement:Ct=null}){Gt(this,Et,new Set);this._document=wt,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(wt){this.nativeFontFaces.add(wt),this._document.fonts.add(wt)}removeNativeFontFace(wt){this.nativeFontFaces.delete(wt),this._document.fonts.delete(wt)}insertRule(wt){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const Ct=this.styleElement.sheet;Ct.insertRule(wt,Ct.cssRules.length)}clear(){for(const wt of this.nativeFontFaces)this._document.fonts.delete(wt);this.nativeFontFaces.clear(),_t(this,Et).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(wt){if(!(!wt||_t(this,Et).has(wt.loadedName))){if((0,vt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:Ct,src:St,style:Rt}=wt,Pt=new FontFace(Ct,St,Rt);this.addNativeFontFace(Pt);try{await Pt.load(),_t(this,Et).add(Ct)}catch{(0,vt.warn)(`Cannot load system font: ${wt.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Pt)}return}(0,vt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(wt){if(wt.attached||wt.missingFile&&!wt.systemFontInfo)return;if(wt.attached=!0,wt.systemFontInfo){await this.loadSystemFont(wt.systemFontInfo);return}if(this.isFontLoadingAPISupported){const St=wt.createNativeFontFace();if(St){this.addNativeFontFace(St);try{await St.loaded}catch(Rt){throw(0,vt.warn)(`Failed to load font '${St.family}': '${Rt}'.`),wt.disableFontFace=!0,Rt}}return}const Ct=wt.createFontFaceRule();if(Ct){if(this.insertRule(Ct),this.isSyncFontLoadingSupported)return;await new Promise(St=>{const Rt=this._queueLoadingCallback(St);this._prepareFontLoadEvent(wt,Rt)})}}get isFontLoadingAPISupported(){var Ct;const wt=!!((Ct=this._document)!=null&&Ct.fonts);return(0,vt.shadow)(this,"isFontLoadingAPISupported",wt)}get isSyncFontLoadingSupported(){let wt=!1;return(vt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(wt=!0),(0,vt.shadow)(this,"isSyncFontLoadingSupported",wt)}_queueLoadingCallback(wt){function Ct(){for((0,vt.assert)(!Rt.done,"completeRequest() cannot be called twice."),Rt.done=!0;St.length>0&&St[0].done;){const Pt=St.shift();setTimeout(Pt.callback,0)}}const{loadingRequests:St}=this,Rt={done:!1,complete:Ct,callback:wt};return St.push(Rt),Rt}get _loadTestFont(){const wt=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,vt.shadow)(this,"_loadTestFont",wt)}_prepareFontLoadEvent(wt,Ct){function St(qt,en){return qt.charCodeAt(en)<<24|qt.charCodeAt(en+1)<<16|qt.charCodeAt(en+2)<<8|qt.charCodeAt(en+3)&255}function Rt(qt,en,on,_n){const dn=qt.substring(0,en),En=qt.substring(en+on);return dn+_n+En}let Pt,kt;const Mt=this._document.createElement("canvas");Mt.width=1,Mt.height=1;const Dt=Mt.getContext("2d");let $t=0;function Ft(qt,en){if(++$t>30){(0,vt.warn)("Load test font never loaded."),en();return}if(Dt.font="30px "+qt,Dt.fillText(".",0,20),Dt.getImageData(0,0,1,1).data[3]>0){en();return}setTimeout(Ft.bind(null,qt,en))}const Lt=`lt${Date.now()}${this.loadTestFontId++}`;let Ot=this._loadTestFont;Ot=Rt(Ot,976,Lt.length,Lt);const Nt=16,Bt=1482184792;let jt=St(Ot,Nt);for(Pt=0,kt=Lt.length-3;Pt<kt;Pt+=4)jt=jt-Bt+St(Lt,Pt)|0;Pt<Lt.length&&(jt=jt-Bt+St(Lt+"XXX",Pt)|0),Ot=Rt(Ot,Nt,4,(0,vt.string32)(jt));const zt=`url(data:font/opentype;base64,${btoa(Ot)});`,Kt=`@font-face {font-family:"${Lt}";src:${zt}}`;this.insertRule(Kt);const nn=this._document.createElement("div");nn.style.visibility="hidden",nn.style.width=nn.style.height="10px",nn.style.position="absolute",nn.style.top=nn.style.left="0px";for(const qt of[wt.loadedName,Lt]){const en=this._document.createElement("span");en.textContent="Hi",en.style.fontFamily=qt,nn.append(en)}this._document.body.append(nn),Ft(Lt,()=>{nn.remove(),Ct.complete()})}}Et=new WeakMap,$.FontLoader=bt;class xt{constructor(wt,{isEvalSupported:Ct=!0,disableFontFace:St=!1,ignoreErrors:Rt=!1,inspectFont:Pt=null}){this.compiledGlyphs=Object.create(null);for(const kt in wt)this[kt]=wt[kt];this.isEvalSupported=Ct!==!1,this.disableFontFace=St===!0,this.ignoreErrors=Rt===!0,this._inspectFont=Pt}createNativeFontFace(){var Ct;if(!this.data||this.disableFontFace)return null;let wt;if(!this.cssFontInfo)wt=new FontFace(this.loadedName,this.data,{});else{const St={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(St.style=`oblique ${this.cssFontInfo.italicAngle}deg`),wt=new FontFace(this.cssFontInfo.fontFamily,this.data,St)}return(Ct=this._inspectFont)==null||Ct.call(this,this),wt}createFontFaceRule(){var Rt;if(!this.data||this.disableFontFace)return null;const wt=(0,vt.bytesToString)(this.data),Ct=`url(data:${this.mimetype};base64,${btoa(wt)});`;let St;if(!this.cssFontInfo)St=`@font-face {font-family:"${this.loadedName}";src:${Ct}}`;else{let Pt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Pt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),St=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Pt}src:${Ct}}`}return(Rt=this._inspectFont)==null||Rt.call(this,this,Ct),St}getPathGenerator(wt,Ct){if(this.compiledGlyphs[Ct]!==void 0)return this.compiledGlyphs[Ct];let St;try{St=wt.get(this.loadedName+"_path_"+Ct)}catch(Rt){if(!this.ignoreErrors)throw Rt;return(0,vt.warn)(`getPathGenerator - ignoring character: "${Rt}".`),this.compiledGlyphs[Ct]=function(Pt,kt){}}if(this.isEvalSupported&&vt.FeatureTest.isEvalSupported){const Rt=[];for(const Pt of St){const kt=Pt.args!==void 0?Pt.args.join(","):"";Rt.push("c.",Pt.cmd,"(",kt,`);
`)}return this.compiledGlyphs[Ct]=new Function("c","size",Rt.join(""))}return this.compiledGlyphs[Ct]=function(Rt,Pt){for(const kt of St)kt.cmd==="scale"&&(kt.args=[Pt,-Pt]),Rt[kt.cmd].apply(Rt,kt.args)}}}$.FontFaceObject=xt},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var vt=_e(7);_e(1);const bt=function(Ct){return new Promise((St,Rt)=>{require$$5.readFile(Ct,(kt,Mt)=>{if(kt||!Mt){Rt(new Error(kt));return}St(new Uint8Array(Mt))})})};class xt extends vt.BaseFilterFactory{}$.NodeFilterFactory=xt;class Et extends vt.BaseCanvasFactory{_createCanvas(St,Rt){return require$$5.createCanvas(St,Rt)}}$.NodeCanvasFactory=Et;class At extends vt.BaseCMapReaderFactory{_fetchData(St,Rt){return bt(St).then(Pt=>({cMapData:Pt,compressionType:Rt}))}}$.NodeCMapReaderFactory=At;class wt extends vt.BaseStandardFontDataFactory{_fetchData(St){return bt(St)}}$.NodeStandardFontDataFactory=wt},(ht,$,_e)=>{var hn,$1,O1;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var vt=_e(1),bt=_e(6),xt=_e(12),Et=_e(13);const At=16,wt=100,Ct=4096,St=15,Rt=10,Pt=1e3,kt=16;function Mt(rn,Xt){if(rn._removeMirroring)throw new Error("Context is already forwarding operations.");rn.__originalSave=rn.save,rn.__originalRestore=rn.restore,rn.__originalRotate=rn.rotate,rn.__originalScale=rn.scale,rn.__originalTranslate=rn.translate,rn.__originalTransform=rn.transform,rn.__originalSetTransform=rn.setTransform,rn.__originalResetTransform=rn.resetTransform,rn.__originalClip=rn.clip,rn.__originalMoveTo=rn.moveTo,rn.__originalLineTo=rn.lineTo,rn.__originalBezierCurveTo=rn.bezierCurveTo,rn.__originalRect=rn.rect,rn.__originalClosePath=rn.closePath,rn.__originalBeginPath=rn.beginPath,rn._removeMirroring=()=>{rn.save=rn.__originalSave,rn.restore=rn.__originalRestore,rn.rotate=rn.__originalRotate,rn.scale=rn.__originalScale,rn.translate=rn.__originalTranslate,rn.transform=rn.__originalTransform,rn.setTransform=rn.__originalSetTransform,rn.resetTransform=rn.__originalResetTransform,rn.clip=rn.__originalClip,rn.moveTo=rn.__originalMoveTo,rn.lineTo=rn.__originalLineTo,rn.bezierCurveTo=rn.__originalBezierCurveTo,rn.rect=rn.__originalRect,rn.closePath=rn.__originalClosePath,rn.beginPath=rn.__originalBeginPath,delete rn._removeMirroring},rn.save=function(){Xt.save(),this.__originalSave()},rn.restore=function(){Xt.restore(),this.__originalRestore()},rn.translate=function(Jt,un){Xt.translate(Jt,un),this.__originalTranslate(Jt,un)},rn.scale=function(Jt,un){Xt.scale(Jt,un),this.__originalScale(Jt,un)},rn.transform=function(Jt,un,ln,fn,Rn,jn){Xt.transform(Jt,un,ln,fn,Rn,jn),this.__originalTransform(Jt,un,ln,fn,Rn,jn)},rn.setTransform=function(Jt,un,ln,fn,Rn,jn){Xt.setTransform(Jt,un,ln,fn,Rn,jn),this.__originalSetTransform(Jt,un,ln,fn,Rn,jn)},rn.resetTransform=function(){Xt.resetTransform(),this.__originalResetTransform()},rn.rotate=function(Jt){Xt.rotate(Jt),this.__originalRotate(Jt)},rn.clip=function(Jt){Xt.clip(Jt),this.__originalClip(Jt)},rn.moveTo=function(Yt,Jt){Xt.moveTo(Yt,Jt),this.__originalMoveTo(Yt,Jt)},rn.lineTo=function(Yt,Jt){Xt.lineTo(Yt,Jt),this.__originalLineTo(Yt,Jt)},rn.bezierCurveTo=function(Yt,Jt,un,ln,fn,Rn){Xt.bezierCurveTo(Yt,Jt,un,ln,fn,Rn),this.__originalBezierCurveTo(Yt,Jt,un,ln,fn,Rn)},rn.rect=function(Yt,Jt,un,ln){Xt.rect(Yt,Jt,un,ln),this.__originalRect(Yt,Jt,un,ln)},rn.closePath=function(){Xt.closePath(),this.__originalClosePath()},rn.beginPath=function(){Xt.beginPath(),this.__originalBeginPath()}}class Dt{constructor(Xt){this.canvasFactory=Xt,this.cache=Object.create(null)}getCanvas(Xt,Yt,Jt){let un;return this.cache[Xt]!==void 0?(un=this.cache[Xt],this.canvasFactory.reset(un,Yt,Jt)):(un=this.canvasFactory.create(Yt,Jt),this.cache[Xt]=un),un}delete(Xt){delete this.cache[Xt]}clear(){for(const Xt in this.cache){const Yt=this.cache[Xt];this.canvasFactory.destroy(Yt),delete this.cache[Xt]}}}function $t(rn,Xt,Yt,Jt,un,ln,fn,Rn,jn,Un){const[zn,Gn,Yn,Zn,Dn,$n]=(0,bt.getCurrentTransform)(rn);if(Gn===0&&Yn===0){const Pn=fn*zn+Dn,On=Math.round(Pn),Wn=Rn*Zn+$n,Qn=Math.round(Wn),qn=(fn+jn)*zn+Dn,Tn=Math.abs(Math.round(qn)-On)||1,or=(Rn+Un)*Zn+$n,nr=Math.abs(Math.round(or)-Qn)||1;return rn.setTransform(Math.sign(zn),0,0,Math.sign(Zn),On,Qn),rn.drawImage(Xt,Yt,Jt,un,ln,0,0,Tn,nr),rn.setTransform(zn,Gn,Yn,Zn,Dn,$n),[Tn,nr]}if(zn===0&&Zn===0){const Pn=Rn*Yn+Dn,On=Math.round(Pn),Wn=fn*Gn+$n,Qn=Math.round(Wn),qn=(Rn+Un)*Yn+Dn,Tn=Math.abs(Math.round(qn)-On)||1,or=(fn+jn)*Gn+$n,nr=Math.abs(Math.round(or)-Qn)||1;return rn.setTransform(0,Math.sign(Gn),Math.sign(Yn),0,On,Qn),rn.drawImage(Xt,Yt,Jt,un,ln,0,0,nr,Tn),rn.setTransform(zn,Gn,Yn,Zn,Dn,$n),[nr,Tn]}rn.drawImage(Xt,Yt,Jt,un,ln,fn,Rn,jn,Un);const sn=Math.hypot(zn,Gn),mn=Math.hypot(Yn,Zn);return[sn*jn,mn*Un]}function Ft(rn){const{width:Xt,height:Yt}=rn;if(Xt>Pt||Yt>Pt)return null;const Jt=1e3,un=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ln=Xt+1;let fn=new Uint8Array(ln*(Yt+1)),Rn,jn,Un;const zn=Xt+7&-8;let Gn=new Uint8Array(zn*Yt),Yn=0;for(const mn of rn.data){let Pn=128;for(;Pn>0;)Gn[Yn++]=mn&Pn?0:255,Pn>>=1}let Zn=0;for(Yn=0,Gn[Yn]!==0&&(fn[0]=1,++Zn),jn=1;jn<Xt;jn++)Gn[Yn]!==Gn[Yn+1]&&(fn[jn]=Gn[Yn]?2:1,++Zn),Yn++;for(Gn[Yn]!==0&&(fn[jn]=2,++Zn),Rn=1;Rn<Yt;Rn++){Yn=Rn*zn,Un=Rn*ln,Gn[Yn-zn]!==Gn[Yn]&&(fn[Un]=Gn[Yn]?1:8,++Zn);let mn=(Gn[Yn]?4:0)+(Gn[Yn-zn]?8:0);for(jn=1;jn<Xt;jn++)mn=(mn>>2)+(Gn[Yn+1]?4:0)+(Gn[Yn-zn+1]?8:0),un[mn]&&(fn[Un+jn]=un[mn],++Zn),Yn++;if(Gn[Yn-zn]!==Gn[Yn]&&(fn[Un+jn]=Gn[Yn]?2:4,++Zn),Zn>Jt)return null}for(Yn=zn*(Yt-1),Un=Rn*ln,Gn[Yn]!==0&&(fn[Un]=8,++Zn),jn=1;jn<Xt;jn++)Gn[Yn]!==Gn[Yn+1]&&(fn[Un+jn]=Gn[Yn]?4:8,++Zn),Yn++;if(Gn[Yn]!==0&&(fn[Un+jn]=4,++Zn),Zn>Jt)return null;const Dn=new Int32Array([0,ln,-1,0,-ln,0,0,0,1]),$n=new Path2D;for(Rn=0;Zn&&Rn<=Yt;Rn++){let mn=Rn*ln;const Pn=mn+Xt;for(;mn<Pn&&!fn[mn];)mn++;if(mn===Pn)continue;$n.moveTo(mn%ln,Rn);const On=mn;let Wn=fn[mn];do{const Qn=Dn[Wn];do mn+=Qn;while(!fn[mn]);const qn=fn[mn];qn!==5&&qn!==10?(Wn=qn,fn[mn]=0):(Wn=qn&51*Wn>>4,fn[mn]&=Wn>>2|Wn<<2),$n.lineTo(mn%ln,mn/ln|0),fn[mn]||--Zn}while(On!==mn);--Rn}return Gn=null,fn=null,function(mn){mn.save(),mn.scale(1/Xt,-1/Yt),mn.translate(0,-Yt),mn.fill($n),mn.beginPath(),mn.restore()}}class Lt{constructor(Xt,Yt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=vt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=vt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=vt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Xt,Yt])}clone(){const Xt=Object.create(this);return Xt.clipBox=this.clipBox.slice(),Xt}setCurrentPoint(Xt,Yt){this.x=Xt,this.y=Yt}updatePathMinMax(Xt,Yt,Jt){[Yt,Jt]=vt.Util.applyTransform([Yt,Jt],Xt),this.minX=Math.min(this.minX,Yt),this.minY=Math.min(this.minY,Jt),this.maxX=Math.max(this.maxX,Yt),this.maxY=Math.max(this.maxY,Jt)}updateRectMinMax(Xt,Yt){const Jt=vt.Util.applyTransform(Yt,Xt),un=vt.Util.applyTransform(Yt.slice(2),Xt);this.minX=Math.min(this.minX,Jt[0],un[0]),this.minY=Math.min(this.minY,Jt[1],un[1]),this.maxX=Math.max(this.maxX,Jt[0],un[0]),this.maxY=Math.max(this.maxY,Jt[1],un[1])}updateScalingPathMinMax(Xt,Yt){vt.Util.scaleMinMax(Xt,Yt),this.minX=Math.min(this.minX,Yt[0]),this.maxX=Math.max(this.maxX,Yt[1]),this.minY=Math.min(this.minY,Yt[2]),this.maxY=Math.max(this.maxY,Yt[3])}updateCurvePathMinMax(Xt,Yt,Jt,un,ln,fn,Rn,jn,Un,zn){const Gn=vt.Util.bezierBoundingBox(Yt,Jt,un,ln,fn,Rn,jn,Un);if(zn){zn[0]=Math.min(zn[0],Gn[0],Gn[2]),zn[1]=Math.max(zn[1],Gn[0],Gn[2]),zn[2]=Math.min(zn[2],Gn[1],Gn[3]),zn[3]=Math.max(zn[3],Gn[1],Gn[3]);return}this.updateRectMinMax(Xt,Gn)}getPathBoundingBox(Xt=xt.PathType.FILL,Yt=null){const Jt=[this.minX,this.minY,this.maxX,this.maxY];if(Xt===xt.PathType.STROKE){Yt||(0,vt.unreachable)("Stroke bounding box must include transform.");const un=vt.Util.singularValueDecompose2dScale(Yt),ln=un[0]*this.lineWidth/2,fn=un[1]*this.lineWidth/2;Jt[0]-=ln,Jt[1]-=fn,Jt[2]+=ln,Jt[3]+=fn}return Jt}updateClipFromPath(){const Xt=vt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Xt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Xt){this.clipBox=Xt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Xt=xt.PathType.FILL,Yt=null){return vt.Util.intersect(this.clipBox,this.getPathBoundingBox(Xt,Yt))}}function Ot(rn,Xt){if(typeof ImageData<"u"&&Xt instanceof ImageData){rn.putImageData(Xt,0,0);return}const Yt=Xt.height,Jt=Xt.width,un=Yt%kt,ln=(Yt-un)/kt,fn=un===0?ln:ln+1,Rn=rn.createImageData(Jt,kt);let jn=0,Un;const zn=Xt.data,Gn=Rn.data;let Yn,Zn,Dn,$n;if(Xt.kind===vt.ImageKind.GRAYSCALE_1BPP){const sn=zn.byteLength,mn=new Uint32Array(Gn.buffer,0,Gn.byteLength>>2),Pn=mn.length,On=Jt+7>>3,Wn=4294967295,Qn=vt.FeatureTest.isLittleEndian?4278190080:255;for(Yn=0;Yn<fn;Yn++){for(Dn=Yn<ln?kt:un,Un=0,Zn=0;Zn<Dn;Zn++){const qn=sn-jn;let Tn=0;const or=qn>On?Jt:qn*8-7,nr=or&-8;let Or=0,Pr=0;for(;Tn<nr;Tn+=8)Pr=zn[jn++],mn[Un++]=Pr&128?Wn:Qn,mn[Un++]=Pr&64?Wn:Qn,mn[Un++]=Pr&32?Wn:Qn,mn[Un++]=Pr&16?Wn:Qn,mn[Un++]=Pr&8?Wn:Qn,mn[Un++]=Pr&4?Wn:Qn,mn[Un++]=Pr&2?Wn:Qn,mn[Un++]=Pr&1?Wn:Qn;for(;Tn<or;Tn++)Or===0&&(Pr=zn[jn++],Or=128),mn[Un++]=Pr&Or?Wn:Qn,Or>>=1}for(;Un<Pn;)mn[Un++]=0;rn.putImageData(Rn,0,Yn*kt)}}else if(Xt.kind===vt.ImageKind.RGBA_32BPP){for(Zn=0,$n=Jt*kt*4,Yn=0;Yn<ln;Yn++)Gn.set(zn.subarray(jn,jn+$n)),jn+=$n,rn.putImageData(Rn,0,Zn),Zn+=kt;Yn<fn&&($n=Jt*un*4,Gn.set(zn.subarray(jn,jn+$n)),rn.putImageData(Rn,0,Zn))}else if(Xt.kind===vt.ImageKind.RGB_24BPP)for(Dn=kt,$n=Jt*Dn,Yn=0;Yn<fn;Yn++){for(Yn>=ln&&(Dn=un,$n=Jt*Dn),Un=0,Zn=$n;Zn--;)Gn[Un++]=zn[jn++],Gn[Un++]=zn[jn++],Gn[Un++]=zn[jn++],Gn[Un++]=255;rn.putImageData(Rn,0,Yn*kt)}else throw new Error(`bad image kind: ${Xt.kind}`)}function Ht(rn,Xt){if(Xt.bitmap){rn.drawImage(Xt.bitmap,0,0);return}const Yt=Xt.height,Jt=Xt.width,un=Yt%kt,ln=(Yt-un)/kt,fn=un===0?ln:ln+1,Rn=rn.createImageData(Jt,kt);let jn=0;const Un=Xt.data,zn=Rn.data;for(let Gn=0;Gn<fn;Gn++){const Yn=Gn<ln?kt:un;({srcPos:jn}=(0,Et.convertBlackAndWhiteToRGBA)({src:Un,srcPos:jn,dest:zn,width:Jt,height:Yn,nonBlackColor:0})),rn.putImageData(Rn,0,Gn*kt)}}function Nt(rn,Xt){const Yt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Jt of Yt)rn[Jt]!==void 0&&(Xt[Jt]=rn[Jt]);rn.setLineDash!==void 0&&(Xt.setLineDash(rn.getLineDash()),Xt.lineDashOffset=rn.lineDashOffset)}function Bt(rn){if(rn.strokeStyle=rn.fillStyle="#000000",rn.fillRule="nonzero",rn.globalAlpha=1,rn.lineWidth=1,rn.lineCap="butt",rn.lineJoin="miter",rn.miterLimit=10,rn.globalCompositeOperation="source-over",rn.font="10px sans-serif",rn.setLineDash!==void 0&&(rn.setLineDash([]),rn.lineDashOffset=0),!vt.isNodeJS){const{filter:Xt}=rn;Xt!=="none"&&Xt!==""&&(rn.filter="none")}}function jt(rn,Xt,Yt,Jt){const un=rn.length;for(let ln=3;ln<un;ln+=4){const fn=rn[ln];if(fn===0)rn[ln-3]=Xt,rn[ln-2]=Yt,rn[ln-1]=Jt;else if(fn<255){const Rn=255-fn;rn[ln-3]=rn[ln-3]*fn+Xt*Rn>>8,rn[ln-2]=rn[ln-2]*fn+Yt*Rn>>8,rn[ln-1]=rn[ln-1]*fn+Jt*Rn>>8}}}function zt(rn,Xt,Yt){const Jt=rn.length,un=1/255;for(let ln=3;ln<Jt;ln+=4){const fn=Yt?Yt[rn[ln]]:rn[ln];Xt[ln]=Xt[ln]*fn*un|0}}function Kt(rn,Xt,Yt){const Jt=rn.length;for(let un=3;un<Jt;un+=4){const ln=rn[un-3]*77+rn[un-2]*152+rn[un-1]*28;Xt[un]=Yt?Xt[un]*Yt[ln>>8]>>8:Xt[un]*ln>>16}}function nn(rn,Xt,Yt,Jt,un,ln,fn,Rn,jn,Un,zn){const Gn=!!ln,Yn=Gn?ln[0]:0,Zn=Gn?ln[1]:0,Dn=Gn?ln[2]:0,$n=un==="Luminosity"?Kt:zt,mn=Math.min(Jt,Math.ceil(1048576/Yt));for(let Pn=0;Pn<Jt;Pn+=mn){const On=Math.min(mn,Jt-Pn),Wn=rn.getImageData(Rn-Un,Pn+(jn-zn),Yt,On),Qn=Xt.getImageData(Rn,Pn+jn,Yt,On);Gn&&jt(Wn.data,Yn,Zn,Dn),$n(Wn.data,Qn.data,fn),Xt.putImageData(Qn,Rn,Pn+jn)}}function qt(rn,Xt,Yt,Jt){const un=Jt[0],ln=Jt[1],fn=Jt[2]-un,Rn=Jt[3]-ln;fn===0||Rn===0||(nn(Xt.context,Yt,fn,Rn,Xt.subtype,Xt.backdrop,Xt.transferMap,un,ln,Xt.offsetX,Xt.offsetY),rn.save(),rn.globalAlpha=1,rn.globalCompositeOperation="source-over",rn.setTransform(1,0,0,1,0,0),rn.drawImage(Yt.canvas,0,0),rn.restore())}function en(rn,Xt){const Yt=vt.Util.singularValueDecompose2dScale(rn);Yt[0]=Math.fround(Yt[0]),Yt[1]=Math.fround(Yt[1]);const Jt=Math.fround((globalThis.devicePixelRatio||1)*bt.PixelsPerInch.PDF_TO_CSS_UNITS);return Xt!==void 0?Xt:Yt[0]<=Jt||Yt[1]<=Jt}const on=["butt","round","square"],_n=["miter","round","bevel"],dn={},En={},Sn=class Sn{constructor(Xt,Yt,Jt,un,ln,{optionalContentConfig:fn,markedContentStack:Rn=null},jn,Un){Gt(this,hn);this.ctx=Xt,this.current=new Lt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Yt,this.objs=Jt,this.canvasFactory=un,this.filterFactory=ln,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Rn||[],this.optionalContentConfig=fn,this.cachedCanvases=new Dt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=jn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Un,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Xt,Yt=null){return typeof Xt=="string"?Xt.startsWith("g_")?this.commonObjs.get(Xt):this.objs.get(Xt):Yt}beginDrawing({transform:Xt,viewport:Yt,transparency:Jt=!1,background:un=null}){const ln=this.ctx.canvas.width,fn=this.ctx.canvas.height,Rn=this.ctx.fillStyle;if(this.ctx.fillStyle=un||"#ffffff",this.ctx.fillRect(0,0,ln,fn),this.ctx.fillStyle=Rn,Jt){const jn=this.cachedCanvases.getCanvas("transparent",ln,fn);this.compositeCtx=this.ctx,this.transparentCanvas=jn.canvas,this.ctx=jn.context,this.ctx.save(),this.ctx.transform(...(0,bt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Bt(this.ctx),Xt&&(this.ctx.transform(...Xt),this.outputScaleX=Xt[0],this.outputScaleY=Xt[0]),this.ctx.transform(...Yt.transform),this.viewportScale=Yt.scale,this.baseTransform=(0,bt.getCurrentTransform)(this.ctx)}executeOperatorList(Xt,Yt,Jt,un){const ln=Xt.argsArray,fn=Xt.fnArray;let Rn=Yt||0;const jn=ln.length;if(jn===Rn)return Rn;const Un=jn-Rn>Rt&&typeof Jt=="function",zn=Un?Date.now()+St:0;let Gn=0;const Yn=this.commonObjs,Zn=this.objs;let Dn;for(;;){if(un!==void 0&&Rn===un.nextBreakPoint)return un.breakIt(Rn,Jt),Rn;if(Dn=fn[Rn],Dn!==vt.OPS.dependency)this[Dn].apply(this,ln[Rn]);else for(const $n of ln[Rn]){const sn=$n.startsWith("g_")?Yn:Zn;if(!sn.has($n))return sn.get($n,Jt),Rn}if(Rn++,Rn===jn)return Rn;if(Un&&++Gn>Rt){if(Date.now()>zn)return Jt(),Rn;Gn=0}}}endDrawing(){Ut(this,hn,$1).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Xt of this._cachedBitmapsMap.values()){for(const Yt of Xt.values())typeof HTMLCanvasElement<"u"&&Yt instanceof HTMLCanvasElement&&(Yt.width=Yt.height=0);Xt.clear()}this._cachedBitmapsMap.clear(),Ut(this,hn,O1).call(this)}_scaleImage(Xt,Yt){const Jt=Xt.width,un=Xt.height;let ln=Math.max(Math.hypot(Yt[0],Yt[1]),1),fn=Math.max(Math.hypot(Yt[2],Yt[3]),1),Rn=Jt,jn=un,Un="prescale1",zn,Gn;for(;ln>2&&Rn>1||fn>2&&jn>1;){let Yn=Rn,Zn=jn;ln>2&&Rn>1&&(Yn=Rn>=16384?Math.floor(Rn/2)-1||1:Math.ceil(Rn/2),ln/=Rn/Yn),fn>2&&jn>1&&(Zn=jn>=16384?Math.floor(jn/2)-1||1:Math.ceil(jn)/2,fn/=jn/Zn),zn=this.cachedCanvases.getCanvas(Un,Yn,Zn),Gn=zn.context,Gn.clearRect(0,0,Yn,Zn),Gn.drawImage(Xt,0,0,Rn,jn,0,0,Yn,Zn),Xt=zn.canvas,Rn=Yn,jn=Zn,Un=Un==="prescale1"?"prescale2":"prescale1"}return{img:Xt,paintWidth:Rn,paintHeight:jn}}_createMaskCanvas(Xt){const Yt=this.ctx,{width:Jt,height:un}=Xt,ln=this.current.fillColor,fn=this.current.patternFill,Rn=(0,bt.getCurrentTransform)(Yt);let jn,Un,zn,Gn;if((Xt.bitmap||Xt.data)&&Xt.count>1){const Tn=Xt.bitmap||Xt.data.buffer;Un=JSON.stringify(fn?Rn:[Rn.slice(0,4),ln]),jn=this._cachedBitmapsMap.get(Tn),jn||(jn=new Map,this._cachedBitmapsMap.set(Tn,jn));const or=jn.get(Un);if(or&&!fn){const nr=Math.round(Math.min(Rn[0],Rn[2])+Rn[4]),Or=Math.round(Math.min(Rn[1],Rn[3])+Rn[5]);return{canvas:or,offsetX:nr,offsetY:Or}}zn=or}zn||(Gn=this.cachedCanvases.getCanvas("maskCanvas",Jt,un),Ht(Gn.context,Xt));let Yn=vt.Util.transform(Rn,[1/Jt,0,0,-1/un,0,0]);Yn=vt.Util.transform(Yn,[1,0,0,1,0,-un]);const Zn=vt.Util.applyTransform([0,0],Yn),Dn=vt.Util.applyTransform([Jt,un],Yn),$n=vt.Util.normalizeRect([Zn[0],Zn[1],Dn[0],Dn[1]]),sn=Math.round($n[2]-$n[0])||1,mn=Math.round($n[3]-$n[1])||1,Pn=this.cachedCanvases.getCanvas("fillCanvas",sn,mn),On=Pn.context,Wn=Math.min(Zn[0],Dn[0]),Qn=Math.min(Zn[1],Dn[1]);On.translate(-Wn,-Qn),On.transform(...Yn),zn||(zn=this._scaleImage(Gn.canvas,(0,bt.getCurrentTransformInverse)(On)),zn=zn.img,jn&&fn&&jn.set(Un,zn)),On.imageSmoothingEnabled=en((0,bt.getCurrentTransform)(On),Xt.interpolate),$t(On,zn,0,0,zn.width,zn.height,0,0,Jt,un),On.globalCompositeOperation="source-in";const qn=vt.Util.transform((0,bt.getCurrentTransformInverse)(On),[1,0,0,1,-Wn,-Qn]);return On.fillStyle=fn?ln.getPattern(Yt,this,qn,xt.PathType.FILL):ln,On.fillRect(0,0,Jt,un),jn&&!fn&&(this.cachedCanvases.delete("fillCanvas"),jn.set(Un,Pn.canvas)),{canvas:Pn.canvas,offsetX:Math.round(Wn),offsetY:Math.round(Qn)}}setLineWidth(Xt){Xt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Xt,this.ctx.lineWidth=Xt}setLineCap(Xt){this.ctx.lineCap=on[Xt]}setLineJoin(Xt){this.ctx.lineJoin=_n[Xt]}setMiterLimit(Xt){this.ctx.miterLimit=Xt}setDash(Xt,Yt){const Jt=this.ctx;Jt.setLineDash!==void 0&&(Jt.setLineDash(Xt),Jt.lineDashOffset=Yt)}setRenderingIntent(Xt){}setFlatness(Xt){}setGState(Xt){for(const[Yt,Jt]of Xt)switch(Yt){case"LW":this.setLineWidth(Jt);break;case"LC":this.setLineCap(Jt);break;case"LJ":this.setLineJoin(Jt);break;case"ML":this.setMiterLimit(Jt);break;case"D":this.setDash(Jt[0],Jt[1]);break;case"RI":this.setRenderingIntent(Jt);break;case"FL":this.setFlatness(Jt);break;case"Font":this.setFont(Jt[0],Jt[1]);break;case"CA":this.current.strokeAlpha=Jt;break;case"ca":this.current.fillAlpha=Jt,this.ctx.globalAlpha=Jt;break;case"BM":this.ctx.globalCompositeOperation=Jt;break;case"SMask":this.current.activeSMask=Jt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Jt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Xt=this.inSMaskMode;this.current.activeSMask&&!Xt?this.beginSMaskMode():!this.current.activeSMask&&Xt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Xt=this.ctx.canvas.width,Yt=this.ctx.canvas.height,Jt="smaskGroupAt"+this.groupLevel,un=this.cachedCanvases.getCanvas(Jt,Xt,Yt);this.suspendedCtx=this.ctx,this.ctx=un.context;const ln=this.ctx;ln.setTransform(...(0,bt.getCurrentTransform)(this.suspendedCtx)),Nt(this.suspendedCtx,ln),Mt(ln,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Nt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Xt){if(!this.current.activeSMask)return;Xt?(Xt[0]=Math.floor(Xt[0]),Xt[1]=Math.floor(Xt[1]),Xt[2]=Math.ceil(Xt[2]),Xt[3]=Math.ceil(Xt[3])):Xt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Yt=this.current.activeSMask,Jt=this.suspendedCtx;qt(Jt,Yt,this.ctx,Xt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Nt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Xt=this.current;this.stateStack.push(Xt),this.current=Xt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Nt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Xt,Yt,Jt,un,ln,fn){this.ctx.transform(Xt,Yt,Jt,un,ln,fn),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Xt,Yt,Jt){const un=this.ctx,ln=this.current;let fn=ln.x,Rn=ln.y,jn,Un;const zn=(0,bt.getCurrentTransform)(un),Gn=zn[0]===0&&zn[3]===0||zn[1]===0&&zn[2]===0,Yn=Gn?Jt.slice(0):null;for(let Zn=0,Dn=0,$n=Xt.length;Zn<$n;Zn++)switch(Xt[Zn]|0){case vt.OPS.rectangle:fn=Yt[Dn++],Rn=Yt[Dn++];const sn=Yt[Dn++],mn=Yt[Dn++],Pn=fn+sn,On=Rn+mn;un.moveTo(fn,Rn),sn===0||mn===0?un.lineTo(Pn,On):(un.lineTo(Pn,Rn),un.lineTo(Pn,On),un.lineTo(fn,On)),Gn||ln.updateRectMinMax(zn,[fn,Rn,Pn,On]),un.closePath();break;case vt.OPS.moveTo:fn=Yt[Dn++],Rn=Yt[Dn++],un.moveTo(fn,Rn),Gn||ln.updatePathMinMax(zn,fn,Rn);break;case vt.OPS.lineTo:fn=Yt[Dn++],Rn=Yt[Dn++],un.lineTo(fn,Rn),Gn||ln.updatePathMinMax(zn,fn,Rn);break;case vt.OPS.curveTo:jn=fn,Un=Rn,fn=Yt[Dn+4],Rn=Yt[Dn+5],un.bezierCurveTo(Yt[Dn],Yt[Dn+1],Yt[Dn+2],Yt[Dn+3],fn,Rn),ln.updateCurvePathMinMax(zn,jn,Un,Yt[Dn],Yt[Dn+1],Yt[Dn+2],Yt[Dn+3],fn,Rn,Yn),Dn+=6;break;case vt.OPS.curveTo2:jn=fn,Un=Rn,un.bezierCurveTo(fn,Rn,Yt[Dn],Yt[Dn+1],Yt[Dn+2],Yt[Dn+3]),ln.updateCurvePathMinMax(zn,jn,Un,fn,Rn,Yt[Dn],Yt[Dn+1],Yt[Dn+2],Yt[Dn+3],Yn),fn=Yt[Dn+2],Rn=Yt[Dn+3],Dn+=4;break;case vt.OPS.curveTo3:jn=fn,Un=Rn,fn=Yt[Dn+2],Rn=Yt[Dn+3],un.bezierCurveTo(Yt[Dn],Yt[Dn+1],fn,Rn,fn,Rn),ln.updateCurvePathMinMax(zn,jn,Un,Yt[Dn],Yt[Dn+1],fn,Rn,fn,Rn,Yn),Dn+=4;break;case vt.OPS.closePath:un.closePath();break}Gn&&ln.updateScalingPathMinMax(zn,Yn),ln.setCurrentPoint(fn,Rn)}closePath(){this.ctx.closePath()}stroke(Xt=!0){const Yt=this.ctx,Jt=this.current.strokeColor;Yt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Jt=="object"&&(Jt!=null&&Jt.getPattern)?(Yt.save(),Yt.strokeStyle=Jt.getPattern(Yt,this,(0,bt.getCurrentTransformInverse)(Yt),xt.PathType.STROKE),this.rescaleAndStroke(!1),Yt.restore()):this.rescaleAndStroke(!0)),Xt&&this.consumePath(this.current.getClippedPathBoundingBox()),Yt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Xt=!0){const Yt=this.ctx,Jt=this.current.fillColor,un=this.current.patternFill;let ln=!1;un&&(Yt.save(),Yt.fillStyle=Jt.getPattern(Yt,this,(0,bt.getCurrentTransformInverse)(Yt),xt.PathType.FILL),ln=!0);const fn=this.current.getClippedPathBoundingBox();this.contentVisible&&fn!==null&&(this.pendingEOFill?(Yt.fill("evenodd"),this.pendingEOFill=!1):Yt.fill()),ln&&Yt.restore(),Xt&&this.consumePath(fn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=dn}eoClip(){this.pendingClip=En}beginText(){this.current.textMatrix=vt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Xt=this.pendingTextPaths,Yt=this.ctx;if(Xt===void 0){Yt.beginPath();return}Yt.save(),Yt.beginPath();for(const Jt of Xt)Yt.setTransform(...Jt.transform),Yt.translate(Jt.x,Jt.y),Jt.addToPath(Yt,Jt.fontSize);Yt.restore(),Yt.clip(),Yt.beginPath(),delete this.pendingTextPaths}setCharSpacing(Xt){this.current.charSpacing=Xt}setWordSpacing(Xt){this.current.wordSpacing=Xt}setHScale(Xt){this.current.textHScale=Xt/100}setLeading(Xt){this.current.leading=-Xt}setFont(Xt,Yt){var zn;const Jt=this.commonObjs.get(Xt),un=this.current;if(!Jt)throw new Error(`Can't find font for ${Xt}`);if(un.fontMatrix=Jt.fontMatrix||vt.FONT_IDENTITY_MATRIX,(un.fontMatrix[0]===0||un.fontMatrix[3]===0)&&(0,vt.warn)("Invalid font matrix for font "+Xt),Yt<0?(Yt=-Yt,un.fontDirection=-1):un.fontDirection=1,this.current.font=Jt,this.current.fontSize=Yt,Jt.isType3Font)return;const ln=Jt.loadedName||"sans-serif",fn=((zn=Jt.systemFontInfo)==null?void 0:zn.css)||`"${ln}", ${Jt.fallbackName}`;let Rn="normal";Jt.black?Rn="900":Jt.bold&&(Rn="bold");const jn=Jt.italic?"italic":"normal";let Un=Yt;Yt<At?Un=At:Yt>wt&&(Un=wt),this.current.fontSizeScale=Yt/Un,this.ctx.font=`${jn} ${Rn} ${Un}px ${fn}`}setTextRenderingMode(Xt){this.current.textRenderingMode=Xt}setTextRise(Xt){this.current.textRise=Xt}moveText(Xt,Yt){this.current.x=this.current.lineX+=Xt,this.current.y=this.current.lineY+=Yt}setLeadingMoveText(Xt,Yt){this.setLeading(-Yt),this.moveText(Xt,Yt)}setTextMatrix(Xt,Yt,Jt,un,ln,fn){this.current.textMatrix=[Xt,Yt,Jt,un,ln,fn],this.current.textMatrixScale=Math.hypot(Xt,Yt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Xt,Yt,Jt,un){const ln=this.ctx,fn=this.current,Rn=fn.font,jn=fn.textRenderingMode,Un=fn.fontSize/fn.fontSizeScale,zn=jn&vt.TextRenderingMode.FILL_STROKE_MASK,Gn=!!(jn&vt.TextRenderingMode.ADD_TO_PATH_FLAG),Yn=fn.patternFill&&!Rn.missingFile;let Zn;(Rn.disableFontFace||Gn||Yn)&&(Zn=Rn.getPathGenerator(this.commonObjs,Xt)),Rn.disableFontFace||Yn?(ln.save(),ln.translate(Yt,Jt),ln.beginPath(),Zn(ln,Un),un&&ln.setTransform(...un),(zn===vt.TextRenderingMode.FILL||zn===vt.TextRenderingMode.FILL_STROKE)&&ln.fill(),(zn===vt.TextRenderingMode.STROKE||zn===vt.TextRenderingMode.FILL_STROKE)&&ln.stroke(),ln.restore()):((zn===vt.TextRenderingMode.FILL||zn===vt.TextRenderingMode.FILL_STROKE)&&ln.fillText(Xt,Yt,Jt),(zn===vt.TextRenderingMode.STROKE||zn===vt.TextRenderingMode.FILL_STROKE)&&ln.strokeText(Xt,Yt,Jt)),Gn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,bt.getCurrentTransform)(ln),x:Yt,y:Jt,fontSize:Un,addToPath:Zn})}get isFontSubpixelAAEnabled(){const{context:Xt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Xt.scale(1.5,1),Xt.fillText("I",0,10);const Yt=Xt.getImageData(0,0,10,10).data;let Jt=!1;for(let un=3;un<Yt.length;un+=4)if(Yt[un]>0&&Yt[un]<255){Jt=!0;break}return(0,vt.shadow)(this,"isFontSubpixelAAEnabled",Jt)}showText(Xt){const Yt=this.current,Jt=Yt.font;if(Jt.isType3Font)return this.showType3Text(Xt);const un=Yt.fontSize;if(un===0)return;const ln=this.ctx,fn=Yt.fontSizeScale,Rn=Yt.charSpacing,jn=Yt.wordSpacing,Un=Yt.fontDirection,zn=Yt.textHScale*Un,Gn=Xt.length,Yn=Jt.vertical,Zn=Yn?1:-1,Dn=Jt.defaultVMetrics,$n=un*Yt.fontMatrix[0],sn=Yt.textRenderingMode===vt.TextRenderingMode.FILL&&!Jt.disableFontFace&&!Yt.patternFill;ln.save(),ln.transform(...Yt.textMatrix),ln.translate(Yt.x,Yt.y+Yt.textRise),Un>0?ln.scale(zn,-1):ln.scale(zn,1);let mn;if(Yt.patternFill){ln.save();const qn=Yt.fillColor.getPattern(ln,this,(0,bt.getCurrentTransformInverse)(ln),xt.PathType.FILL);mn=(0,bt.getCurrentTransform)(ln),ln.restore(),ln.fillStyle=qn}let Pn=Yt.lineWidth;const On=Yt.textMatrixScale;if(On===0||Pn===0){const qn=Yt.textRenderingMode&vt.TextRenderingMode.FILL_STROKE_MASK;(qn===vt.TextRenderingMode.STROKE||qn===vt.TextRenderingMode.FILL_STROKE)&&(Pn=this.getSinglePixelWidth())}else Pn/=On;if(fn!==1&&(ln.scale(fn,fn),Pn/=fn),ln.lineWidth=Pn,Jt.isInvalidPDFjsFont){const qn=[];let Tn=0;for(const or of Xt)qn.push(or.unicode),Tn+=or.width;ln.fillText(qn.join(""),0,0),Yt.x+=Tn*$n*zn,ln.restore(),this.compose();return}let Wn=0,Qn;for(Qn=0;Qn<Gn;++Qn){const qn=Xt[Qn];if(typeof qn=="number"){Wn+=Zn*qn*un/1e3;continue}let Tn=!1;const or=(qn.isSpace?jn:0)+Rn,nr=qn.fontChar,Or=qn.accent;let Pr,Kr,hr=qn.width;if(Yn){const Ur=qn.vmetric||Dn,is=-(qn.vmetric?Ur[1]:hr*.5)*$n,Xn=Ur[2]*$n;hr=Ur?-Ur[0]:hr,Pr=is/fn,Kr=(Wn+Xn)/fn}else Pr=Wn/fn,Kr=0;if(Jt.remeasure&&hr>0){const Ur=ln.measureText(nr).width*1e3/un*fn;if(hr<Ur&&this.isFontSubpixelAAEnabled){const is=hr/Ur;Tn=!0,ln.save(),ln.scale(is,1),Pr/=is}else hr!==Ur&&(Pr+=(hr-Ur)/2e3*un/fn)}if(this.contentVisible&&(qn.isInFont||Jt.missingFile)){if(sn&&!Or)ln.fillText(nr,Pr,Kr);else if(this.paintChar(nr,Pr,Kr,mn),Or){const Ur=Pr+un*Or.offset.x/fn,is=Kr-un*Or.offset.y/fn;this.paintChar(Or.fontChar,Ur,is,mn)}}const _r=Yn?hr*$n-or*Un:hr*$n+or*Un;Wn+=_r,Tn&&ln.restore()}Yn?Yt.y-=Wn:Yt.x+=Wn*zn,ln.restore(),this.compose()}showType3Text(Xt){const Yt=this.ctx,Jt=this.current,un=Jt.font,ln=Jt.fontSize,fn=Jt.fontDirection,Rn=un.vertical?1:-1,jn=Jt.charSpacing,Un=Jt.wordSpacing,zn=Jt.textHScale*fn,Gn=Jt.fontMatrix||vt.FONT_IDENTITY_MATRIX,Yn=Xt.length,Zn=Jt.textRenderingMode===vt.TextRenderingMode.INVISIBLE;let Dn,$n,sn,mn;if(!(Zn||ln===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Yt.save(),Yt.transform(...Jt.textMatrix),Yt.translate(Jt.x,Jt.y),Yt.scale(zn,fn),Dn=0;Dn<Yn;++Dn){if($n=Xt[Dn],typeof $n=="number"){mn=Rn*$n*ln/1e3,this.ctx.translate(mn,0),Jt.x+=mn*zn;continue}const Pn=($n.isSpace?Un:0)+jn,On=un.charProcOperatorList[$n.operatorListId];if(!On){(0,vt.warn)(`Type3 character "${$n.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=$n,this.save(),Yt.scale(ln,ln),Yt.transform(...Gn),this.executeOperatorList(On),this.restore()),sn=vt.Util.applyTransform([$n.width,0],Gn)[0]*ln+Pn,Yt.translate(sn,0),Jt.x+=sn*zn}Yt.restore(),this.processingType3=null}}setCharWidth(Xt,Yt){}setCharWidthAndBounds(Xt,Yt,Jt,un,ln,fn){this.ctx.rect(Jt,un,ln-Jt,fn-un),this.ctx.clip(),this.endPath()}getColorN_Pattern(Xt){let Yt;if(Xt[0]==="TilingPattern"){const Jt=Xt[1],un=this.baseTransform||(0,bt.getCurrentTransform)(this.ctx),ln={createCanvasGraphics:fn=>new Sn(fn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Yt=new xt.TilingPattern(Xt,Jt,this.ctx,ln,un)}else Yt=this._getPattern(Xt[1],Xt[2]);return Yt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Xt,Yt,Jt){const un=vt.Util.makeHexColor(Xt,Yt,Jt);this.ctx.strokeStyle=un,this.current.strokeColor=un}setFillRGBColor(Xt,Yt,Jt){const un=vt.Util.makeHexColor(Xt,Yt,Jt);this.ctx.fillStyle=un,this.current.fillColor=un,this.current.patternFill=!1}_getPattern(Xt,Yt=null){let Jt;return this.cachedPatterns.has(Xt)?Jt=this.cachedPatterns.get(Xt):(Jt=(0,xt.getShadingPattern)(this.getObject(Xt)),this.cachedPatterns.set(Xt,Jt)),Yt&&(Jt.matrix=Yt),Jt}shadingFill(Xt){if(!this.contentVisible)return;const Yt=this.ctx;this.save();const Jt=this._getPattern(Xt);Yt.fillStyle=Jt.getPattern(Yt,this,(0,bt.getCurrentTransformInverse)(Yt),xt.PathType.SHADING);const un=(0,bt.getCurrentTransformInverse)(Yt);if(un){const{width:ln,height:fn}=Yt.canvas,[Rn,jn,Un,zn]=vt.Util.getAxialAlignedBoundingBox([0,0,ln,fn],un);this.ctx.fillRect(Rn,jn,Un-Rn,zn-jn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,vt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,vt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Xt,Yt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Xt)&&Xt.length===6&&this.transform(...Xt),this.baseTransform=(0,bt.getCurrentTransform)(this.ctx),Yt)){const Jt=Yt[2]-Yt[0],un=Yt[3]-Yt[1];this.ctx.rect(Yt[0],Yt[1],Jt,un),this.current.updateRectMinMax((0,bt.getCurrentTransform)(this.ctx),Yt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Xt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Yt=this.ctx;Xt.isolated||(0,vt.info)("TODO: Support non-isolated groups."),Xt.knockout&&(0,vt.warn)("Knockout groups not supported.");const Jt=(0,bt.getCurrentTransform)(Yt);if(Xt.matrix&&Yt.transform(...Xt.matrix),!Xt.bbox)throw new Error("Bounding box is required.");let un=vt.Util.getAxialAlignedBoundingBox(Xt.bbox,(0,bt.getCurrentTransform)(Yt));const ln=[0,0,Yt.canvas.width,Yt.canvas.height];un=vt.Util.intersect(un,ln)||[0,0,0,0];const fn=Math.floor(un[0]),Rn=Math.floor(un[1]);let jn=Math.max(Math.ceil(un[2])-fn,1),Un=Math.max(Math.ceil(un[3])-Rn,1),zn=1,Gn=1;jn>Ct&&(zn=jn/Ct,jn=Ct),Un>Ct&&(Gn=Un/Ct,Un=Ct),this.current.startNewPathAndClipBox([0,0,jn,Un]);let Yn="groupAt"+this.groupLevel;Xt.smask&&(Yn+="_smask_"+this.smaskCounter++%2);const Zn=this.cachedCanvases.getCanvas(Yn,jn,Un),Dn=Zn.context;Dn.scale(1/zn,1/Gn),Dn.translate(-fn,-Rn),Dn.transform(...Jt),Xt.smask?this.smaskStack.push({canvas:Zn.canvas,context:Dn,offsetX:fn,offsetY:Rn,scaleX:zn,scaleY:Gn,subtype:Xt.smask.subtype,backdrop:Xt.smask.backdrop,transferMap:Xt.smask.transferMap||null,startTransformInverse:null}):(Yt.setTransform(1,0,0,1,0,0),Yt.translate(fn,Rn),Yt.scale(zn,Gn),Yt.save()),Nt(Yt,Dn),this.ctx=Dn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Yt),this.groupLevel++}endGroup(Xt){if(!this.contentVisible)return;this.groupLevel--;const Yt=this.ctx,Jt=this.groupStack.pop();if(this.ctx=Jt,this.ctx.imageSmoothingEnabled=!1,Xt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const un=(0,bt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...un);const ln=vt.Util.getAxialAlignedBoundingBox([0,0,Yt.canvas.width,Yt.canvas.height],un);this.ctx.drawImage(Yt.canvas,0,0),this.ctx.restore(),this.compose(ln)}}beginAnnotation(Xt,Yt,Jt,un,ln){if(Ut(this,hn,$1).call(this),Bt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Yt)&&Yt.length===4){const fn=Yt[2]-Yt[0],Rn=Yt[3]-Yt[1];if(ln&&this.annotationCanvasMap){Jt=Jt.slice(),Jt[4]-=Yt[0],Jt[5]-=Yt[1],Yt=Yt.slice(),Yt[0]=Yt[1]=0,Yt[2]=fn,Yt[3]=Rn;const[jn,Un]=vt.Util.singularValueDecompose2dScale((0,bt.getCurrentTransform)(this.ctx)),{viewportScale:zn}=this,Gn=Math.ceil(fn*this.outputScaleX*zn),Yn=Math.ceil(Rn*this.outputScaleY*zn);this.annotationCanvas=this.canvasFactory.create(Gn,Yn);const{canvas:Zn,context:Dn}=this.annotationCanvas;this.annotationCanvasMap.set(Xt,Zn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Dn,this.ctx.save(),this.ctx.setTransform(jn,0,0,-Un,0,Rn*Un),Bt(this.ctx)}else Bt(this.ctx),this.ctx.rect(Yt[0],Yt[1],fn,Rn),this.ctx.clip(),this.endPath()}this.current=new Lt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Jt),this.transform(...un)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ut(this,hn,O1).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Xt){if(!this.contentVisible)return;const Yt=Xt.count;Xt=this.getObject(Xt.data,Xt),Xt.count=Yt;const Jt=this.ctx,un=this.processingType3;if(un&&(un.compiled===void 0&&(un.compiled=Ft(Xt)),un.compiled)){un.compiled(Jt);return}const ln=this._createMaskCanvas(Xt),fn=ln.canvas;Jt.save(),Jt.setTransform(1,0,0,1,0,0),Jt.drawImage(fn,ln.offsetX,ln.offsetY),Jt.restore(),this.compose()}paintImageMaskXObjectRepeat(Xt,Yt,Jt=0,un=0,ln,fn){if(!this.contentVisible)return;Xt=this.getObject(Xt.data,Xt);const Rn=this.ctx;Rn.save();const jn=(0,bt.getCurrentTransform)(Rn);Rn.transform(Yt,Jt,un,ln,0,0);const Un=this._createMaskCanvas(Xt);Rn.setTransform(1,0,0,1,Un.offsetX-jn[4],Un.offsetY-jn[5]);for(let zn=0,Gn=fn.length;zn<Gn;zn+=2){const Yn=vt.Util.transform(jn,[Yt,Jt,un,ln,fn[zn],fn[zn+1]]),[Zn,Dn]=vt.Util.applyTransform([0,0],Yn);Rn.drawImage(Un.canvas,Zn,Dn)}Rn.restore(),this.compose()}paintImageMaskXObjectGroup(Xt){if(!this.contentVisible)return;const Yt=this.ctx,Jt=this.current.fillColor,un=this.current.patternFill;for(const ln of Xt){const{data:fn,width:Rn,height:jn,transform:Un}=ln,zn=this.cachedCanvases.getCanvas("maskCanvas",Rn,jn),Gn=zn.context;Gn.save();const Yn=this.getObject(fn,ln);Ht(Gn,Yn),Gn.globalCompositeOperation="source-in",Gn.fillStyle=un?Jt.getPattern(Gn,this,(0,bt.getCurrentTransformInverse)(Yt),xt.PathType.FILL):Jt,Gn.fillRect(0,0,Rn,jn),Gn.restore(),Yt.save(),Yt.transform(...Un),Yt.scale(1,-1),$t(Yt,zn.canvas,0,0,Rn,jn,0,-1,1,1),Yt.restore()}this.compose()}paintImageXObject(Xt){if(!this.contentVisible)return;const Yt=this.getObject(Xt);if(!Yt){(0,vt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Yt)}paintImageXObjectRepeat(Xt,Yt,Jt,un){if(!this.contentVisible)return;const ln=this.getObject(Xt);if(!ln){(0,vt.warn)("Dependent image isn't ready yet");return}const fn=ln.width,Rn=ln.height,jn=[];for(let Un=0,zn=un.length;Un<zn;Un+=2)jn.push({transform:[Yt,0,0,Jt,un[Un],un[Un+1]],x:0,y:0,w:fn,h:Rn});this.paintInlineImageXObjectGroup(ln,jn)}applyTransferMapsToCanvas(Xt){return this.current.transferMaps!=="none"&&(Xt.filter=this.current.transferMaps,Xt.drawImage(Xt.canvas,0,0),Xt.filter="none"),Xt.canvas}applyTransferMapsToBitmap(Xt){if(this.current.transferMaps==="none")return Xt.bitmap;const{bitmap:Yt,width:Jt,height:un}=Xt,ln=this.cachedCanvases.getCanvas("inlineImage",Jt,un),fn=ln.context;return fn.filter=this.current.transferMaps,fn.drawImage(Yt,0,0),fn.filter="none",ln.canvas}paintInlineImageXObject(Xt){if(!this.contentVisible)return;const Yt=Xt.width,Jt=Xt.height,un=this.ctx;if(this.save(),!vt.isNodeJS){const{filter:Rn}=un;Rn!=="none"&&Rn!==""&&(un.filter="none")}un.scale(1/Yt,-1/Jt);let ln;if(Xt.bitmap)ln=this.applyTransferMapsToBitmap(Xt);else if(typeof HTMLElement=="function"&&Xt instanceof HTMLElement||!Xt.data)ln=Xt;else{const jn=this.cachedCanvases.getCanvas("inlineImage",Yt,Jt).context;Ot(jn,Xt),ln=this.applyTransferMapsToCanvas(jn)}const fn=this._scaleImage(ln,(0,bt.getCurrentTransformInverse)(un));un.imageSmoothingEnabled=en((0,bt.getCurrentTransform)(un),Xt.interpolate),$t(un,fn.img,0,0,fn.paintWidth,fn.paintHeight,0,-Jt,Yt,Jt),this.compose(),this.restore()}paintInlineImageXObjectGroup(Xt,Yt){if(!this.contentVisible)return;const Jt=this.ctx;let un;if(Xt.bitmap)un=Xt.bitmap;else{const ln=Xt.width,fn=Xt.height,jn=this.cachedCanvases.getCanvas("inlineImage",ln,fn).context;Ot(jn,Xt),un=this.applyTransferMapsToCanvas(jn)}for(const ln of Yt)Jt.save(),Jt.transform(...ln.transform),Jt.scale(1,-1),$t(Jt,un,ln.x,ln.y,ln.w,ln.h,0,-1,1,1),Jt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Xt){}markPointProps(Xt,Yt){}beginMarkedContent(Xt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Xt,Yt){Xt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Yt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Xt){const Yt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Xt);const Jt=this.ctx;this.pendingClip&&(Yt||(this.pendingClip===En?Jt.clip("evenodd"):Jt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Jt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Xt=(0,bt.getCurrentTransform)(this.ctx);if(Xt[1]===0&&Xt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Xt[0]),Math.abs(Xt[3]));else{const Yt=Math.abs(Xt[0]*Xt[3]-Xt[2]*Xt[1]),Jt=Math.hypot(Xt[0],Xt[2]),un=Math.hypot(Xt[1],Xt[3]);this._cachedGetSinglePixelWidth=Math.max(Jt,un)/Yt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Xt}=this.current,{a:Yt,b:Jt,c:un,d:ln}=this.ctx.getTransform();let fn,Rn;if(Jt===0&&un===0){const jn=Math.abs(Yt),Un=Math.abs(ln);if(jn===Un)if(Xt===0)fn=Rn=1/jn;else{const zn=jn*Xt;fn=Rn=zn<1?1/zn:1}else if(Xt===0)fn=1/jn,Rn=1/Un;else{const zn=jn*Xt,Gn=Un*Xt;fn=zn<1?1/zn:1,Rn=Gn<1?1/Gn:1}}else{const jn=Math.abs(Yt*ln-Jt*un),Un=Math.hypot(Yt,Jt),zn=Math.hypot(un,ln);if(Xt===0)fn=zn/jn,Rn=Un/jn;else{const Gn=Xt*jn;fn=zn>Gn?zn/Gn:1,Rn=Un>Gn?Un/Gn:1}}this._cachedScaleForStroking[0]=fn,this._cachedScaleForStroking[1]=Rn}return this._cachedScaleForStroking}rescaleAndStroke(Xt){const{ctx:Yt}=this,{lineWidth:Jt}=this.current,[un,ln]=this.getScaleForStroking();if(Yt.lineWidth=Jt||1,un===1&&ln===1){Yt.stroke();return}const fn=Yt.getLineDash();if(Xt&&Yt.save(),Yt.scale(un,ln),fn.length>0){const Rn=Math.max(un,ln);Yt.setLineDash(fn.map(jn=>jn/Rn)),Yt.lineDashOffset/=Rn}Yt.stroke(),Xt&&Yt.restore()}isContentVisible(){for(let Xt=this.markedContentStack.length-1;Xt>=0;Xt--)if(!this.markedContentStack[Xt].visible)return!1;return!0}};hn=new WeakSet,$1=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},O1=function(){if(this.pageColors){const Xt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Xt!=="none"){const Yt=this.ctx.filter;this.ctx.filter=Xt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Yt}}};let cn=Sn;$.CanvasGraphics=cn;for(const rn in vt.OPS)cn.prototype[rn]!==void 0&&(cn.prototype[vt.OPS[rn]]=cn.prototype[rn])},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=kt;var vt=_e(1),bt=_e(6);const xt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=xt;function Et(Ft,Lt){if(!Lt)return;const Ot=Lt[2]-Lt[0],Ht=Lt[3]-Lt[1],Nt=new Path2D;Nt.rect(Lt[0],Lt[1],Ot,Ht),Ft.clip(Nt)}class At{constructor(){this.constructor===At&&(0,vt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,vt.unreachable)("Abstract method `getPattern` called.")}}class wt extends At{constructor(Lt){super(),this._type=Lt[1],this._bbox=Lt[2],this._colorStops=Lt[3],this._p0=Lt[4],this._p1=Lt[5],this._r0=Lt[6],this._r1=Lt[7],this.matrix=null}_createGradient(Lt){let Ot;this._type==="axial"?Ot=Lt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Ot=Lt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Ht of this._colorStops)Ot.addColorStop(Ht[0],Ht[1]);return Ot}getPattern(Lt,Ot,Ht,Nt){let Bt;if(Nt===xt.STROKE||Nt===xt.FILL){const jt=Ot.current.getClippedPathBoundingBox(Nt,(0,bt.getCurrentTransform)(Lt))||[0,0,0,0],zt=Math.ceil(jt[2]-jt[0])||1,Kt=Math.ceil(jt[3]-jt[1])||1,nn=Ot.cachedCanvases.getCanvas("pattern",zt,Kt,!0),qt=nn.context;qt.clearRect(0,0,qt.canvas.width,qt.canvas.height),qt.beginPath(),qt.rect(0,0,qt.canvas.width,qt.canvas.height),qt.translate(-jt[0],-jt[1]),Ht=vt.Util.transform(Ht,[1,0,0,1,jt[0],jt[1]]),qt.transform(...Ot.baseTransform),this.matrix&&qt.transform(...this.matrix),Et(qt,this._bbox),qt.fillStyle=this._createGradient(qt),qt.fill(),Bt=Lt.createPattern(nn.canvas,"no-repeat");const en=new DOMMatrix(Ht);Bt.setTransform(en)}else Et(Lt,this._bbox),Bt=this._createGradient(Lt);return Bt}}function Ct(Ft,Lt,Ot,Ht,Nt,Bt,jt,zt){const Kt=Lt.coords,nn=Lt.colors,qt=Ft.data,en=Ft.width*4;let on;Kt[Ot+1]>Kt[Ht+1]&&(on=Ot,Ot=Ht,Ht=on,on=Bt,Bt=jt,jt=on),Kt[Ht+1]>Kt[Nt+1]&&(on=Ht,Ht=Nt,Nt=on,on=jt,jt=zt,zt=on),Kt[Ot+1]>Kt[Ht+1]&&(on=Ot,Ot=Ht,Ht=on,on=Bt,Bt=jt,jt=on);const _n=(Kt[Ot]+Lt.offsetX)*Lt.scaleX,dn=(Kt[Ot+1]+Lt.offsetY)*Lt.scaleY,En=(Kt[Ht]+Lt.offsetX)*Lt.scaleX,cn=(Kt[Ht+1]+Lt.offsetY)*Lt.scaleY,hn=(Kt[Nt]+Lt.offsetX)*Lt.scaleX,tn=(Kt[Nt+1]+Lt.offsetY)*Lt.scaleY;if(dn>=tn)return;const gn=nn[Bt],Sn=nn[Bt+1],rn=nn[Bt+2],Xt=nn[jt],Yt=nn[jt+1],Jt=nn[jt+2],un=nn[zt],ln=nn[zt+1],fn=nn[zt+2],Rn=Math.round(dn),jn=Math.round(tn);let Un,zn,Gn,Yn,Zn,Dn,$n,sn;for(let mn=Rn;mn<=jn;mn++){if(mn<cn){const qn=mn<dn?0:(dn-mn)/(dn-cn);Un=_n-(_n-En)*qn,zn=gn-(gn-Xt)*qn,Gn=Sn-(Sn-Yt)*qn,Yn=rn-(rn-Jt)*qn}else{let qn;mn>tn?qn=1:cn===tn?qn=0:qn=(cn-mn)/(cn-tn),Un=En-(En-hn)*qn,zn=Xt-(Xt-un)*qn,Gn=Yt-(Yt-ln)*qn,Yn=Jt-(Jt-fn)*qn}let Pn;mn<dn?Pn=0:mn>tn?Pn=1:Pn=(dn-mn)/(dn-tn),Zn=_n-(_n-hn)*Pn,Dn=gn-(gn-un)*Pn,$n=Sn-(Sn-ln)*Pn,sn=rn-(rn-fn)*Pn;const On=Math.round(Math.min(Un,Zn)),Wn=Math.round(Math.max(Un,Zn));let Qn=en*mn+On*4;for(let qn=On;qn<=Wn;qn++)Pn=(Un-qn)/(Un-Zn),Pn<0?Pn=0:Pn>1&&(Pn=1),qt[Qn++]=zn-(zn-Dn)*Pn|0,qt[Qn++]=Gn-(Gn-$n)*Pn|0,qt[Qn++]=Yn-(Yn-sn)*Pn|0,qt[Qn++]=255}}function St(Ft,Lt,Ot){const Ht=Lt.coords,Nt=Lt.colors;let Bt,jt;switch(Lt.type){case"lattice":const zt=Lt.verticesPerRow,Kt=Math.floor(Ht.length/zt)-1,nn=zt-1;for(Bt=0;Bt<Kt;Bt++){let qt=Bt*zt;for(let en=0;en<nn;en++,qt++)Ct(Ft,Ot,Ht[qt],Ht[qt+1],Ht[qt+zt],Nt[qt],Nt[qt+1],Nt[qt+zt]),Ct(Ft,Ot,Ht[qt+zt+1],Ht[qt+1],Ht[qt+zt],Nt[qt+zt+1],Nt[qt+1],Nt[qt+zt])}break;case"triangles":for(Bt=0,jt=Ht.length;Bt<jt;Bt+=3)Ct(Ft,Ot,Ht[Bt],Ht[Bt+1],Ht[Bt+2],Nt[Bt],Nt[Bt+1],Nt[Bt+2]);break;default:throw new Error("illegal figure")}}class Rt extends At{constructor(Lt){super(),this._coords=Lt[2],this._colors=Lt[3],this._figures=Lt[4],this._bounds=Lt[5],this._bbox=Lt[7],this._background=Lt[8],this.matrix=null}_createMeshCanvas(Lt,Ot,Ht){const zt=Math.floor(this._bounds[0]),Kt=Math.floor(this._bounds[1]),nn=Math.ceil(this._bounds[2])-zt,qt=Math.ceil(this._bounds[3])-Kt,en=Math.min(Math.ceil(Math.abs(nn*Lt[0]*1.1)),3e3),on=Math.min(Math.ceil(Math.abs(qt*Lt[1]*1.1)),3e3),_n=nn/en,dn=qt/on,En={coords:this._coords,colors:this._colors,offsetX:-zt,offsetY:-Kt,scaleX:1/_n,scaleY:1/dn},cn=en+2*2,hn=on+2*2,tn=Ht.getCanvas("mesh",cn,hn,!1),gn=tn.context,Sn=gn.createImageData(en,on);if(Ot){const Xt=Sn.data;for(let Yt=0,Jt=Xt.length;Yt<Jt;Yt+=4)Xt[Yt]=Ot[0],Xt[Yt+1]=Ot[1],Xt[Yt+2]=Ot[2],Xt[Yt+3]=255}for(const Xt of this._figures)St(Sn,Xt,En);return gn.putImageData(Sn,2,2),{canvas:tn.canvas,offsetX:zt-2*_n,offsetY:Kt-2*dn,scaleX:_n,scaleY:dn}}getPattern(Lt,Ot,Ht,Nt){Et(Lt,this._bbox);let Bt;if(Nt===xt.SHADING)Bt=vt.Util.singularValueDecompose2dScale((0,bt.getCurrentTransform)(Lt));else if(Bt=vt.Util.singularValueDecompose2dScale(Ot.baseTransform),this.matrix){const zt=vt.Util.singularValueDecompose2dScale(this.matrix);Bt=[Bt[0]*zt[0],Bt[1]*zt[1]]}const jt=this._createMeshCanvas(Bt,Nt===xt.SHADING?null:this._background,Ot.cachedCanvases);return Nt!==xt.SHADING&&(Lt.setTransform(...Ot.baseTransform),this.matrix&&Lt.transform(...this.matrix)),Lt.translate(jt.offsetX,jt.offsetY),Lt.scale(jt.scaleX,jt.scaleY),Lt.createPattern(jt.canvas,"no-repeat")}}class Pt extends At{getPattern(){return"hotpink"}}function kt(Ft){switch(Ft[0]){case"RadialAxial":return new wt(Ft);case"Mesh":return new Rt(Ft);case"Dummy":return new Pt}throw new Error(`Unknown IR type: ${Ft[0]}`)}const Mt={COLORED:1,UNCOLORED:2},$t=class $t{constructor(Lt,Ot,Ht,Nt,Bt){this.operatorList=Lt[2],this.matrix=Lt[3]||[1,0,0,1,0,0],this.bbox=Lt[4],this.xstep=Lt[5],this.ystep=Lt[6],this.paintType=Lt[7],this.tilingType=Lt[8],this.color=Ot,this.ctx=Ht,this.canvasGraphicsFactory=Nt,this.baseTransform=Bt}createPatternCanvas(Lt){const Ot=this.operatorList,Ht=this.bbox,Nt=this.xstep,Bt=this.ystep,jt=this.paintType,zt=this.tilingType,Kt=this.color,nn=this.canvasGraphicsFactory;(0,vt.info)("TilingType: "+zt);const qt=Ht[0],en=Ht[1],on=Ht[2],_n=Ht[3],dn=vt.Util.singularValueDecompose2dScale(this.matrix),En=vt.Util.singularValueDecompose2dScale(this.baseTransform),cn=[dn[0]*En[0],dn[1]*En[1]],hn=this.getSizeAndScale(Nt,this.ctx.canvas.width,cn[0]),tn=this.getSizeAndScale(Bt,this.ctx.canvas.height,cn[1]),gn=Lt.cachedCanvases.getCanvas("pattern",hn.size,tn.size,!0),Sn=gn.context,rn=nn.createCanvasGraphics(Sn);rn.groupLevel=Lt.groupLevel,this.setFillAndStrokeStyleToContext(rn,jt,Kt);let Xt=qt,Yt=en,Jt=on,un=_n;return qt<0&&(Xt=0,Jt+=Math.abs(qt)),en<0&&(Yt=0,un+=Math.abs(en)),Sn.translate(-(hn.scale*Xt),-(tn.scale*Yt)),rn.transform(hn.scale,0,0,tn.scale,0,0),Sn.save(),this.clipBbox(rn,Xt,Yt,Jt,un),rn.baseTransform=(0,bt.getCurrentTransform)(rn.ctx),rn.executeOperatorList(Ot),rn.endDrawing(),{canvas:gn.canvas,scaleX:hn.scale,scaleY:tn.scale,offsetX:Xt,offsetY:Yt}}getSizeAndScale(Lt,Ot,Ht){Lt=Math.abs(Lt);const Nt=Math.max($t.MAX_PATTERN_SIZE,Ot);let Bt=Math.ceil(Lt*Ht);return Bt>=Nt?Bt=Nt:Ht=Bt/Lt,{scale:Ht,size:Bt}}clipBbox(Lt,Ot,Ht,Nt,Bt){const jt=Nt-Ot,zt=Bt-Ht;Lt.ctx.rect(Ot,Ht,jt,zt),Lt.current.updateRectMinMax((0,bt.getCurrentTransform)(Lt.ctx),[Ot,Ht,Nt,Bt]),Lt.clip(),Lt.endPath()}setFillAndStrokeStyleToContext(Lt,Ot,Ht){const Nt=Lt.ctx,Bt=Lt.current;switch(Ot){case Mt.COLORED:const jt=this.ctx;Nt.fillStyle=jt.fillStyle,Nt.strokeStyle=jt.strokeStyle,Bt.fillColor=jt.fillStyle,Bt.strokeColor=jt.strokeStyle;break;case Mt.UNCOLORED:const zt=vt.Util.makeHexColor(Ht[0],Ht[1],Ht[2]);Nt.fillStyle=zt,Nt.strokeStyle=zt,Bt.fillColor=zt,Bt.strokeColor=zt;break;default:throw new vt.FormatError(`Unsupported paint type: ${Ot}`)}}getPattern(Lt,Ot,Ht,Nt){let Bt=Ht;Nt!==xt.SHADING&&(Bt=vt.Util.transform(Bt,Ot.baseTransform),this.matrix&&(Bt=vt.Util.transform(Bt,this.matrix)));const jt=this.createPatternCanvas(Ot);let zt=new DOMMatrix(Bt);zt=zt.translate(jt.offsetX,jt.offsetY),zt=zt.scale(1/jt.scaleX,1/jt.scaleY);const Kt=Lt.createPattern(jt.canvas,"repeat");return Kt.setTransform(zt),Kt}};wr($t,"MAX_PATTERN_SIZE",3e3);let Dt=$t;$.TilingPattern=Dt},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=xt,$.convertToRGBA=bt,$.grayToRGBA=At;var vt=_e(1);function bt(wt){switch(wt.kind){case vt.ImageKind.GRAYSCALE_1BPP:return xt(wt);case vt.ImageKind.RGB_24BPP:return Et(wt)}return null}function xt({src:wt,srcPos:Ct=0,dest:St,width:Rt,height:Pt,nonBlackColor:kt=4294967295,inverseDecode:Mt=!1}){const Dt=vt.FeatureTest.isLittleEndian?4278190080:255,[$t,Ft]=Mt?[kt,Dt]:[Dt,kt],Lt=Rt>>3,Ot=Rt&7,Ht=wt.length;St=new Uint32Array(St.buffer);let Nt=0;for(let Bt=0;Bt<Pt;Bt++){for(const zt=Ct+Lt;Ct<zt;Ct++){const Kt=Ct<Ht?wt[Ct]:255;St[Nt++]=Kt&128?Ft:$t,St[Nt++]=Kt&64?Ft:$t,St[Nt++]=Kt&32?Ft:$t,St[Nt++]=Kt&16?Ft:$t,St[Nt++]=Kt&8?Ft:$t,St[Nt++]=Kt&4?Ft:$t,St[Nt++]=Kt&2?Ft:$t,St[Nt++]=Kt&1?Ft:$t}if(Ot===0)continue;const jt=Ct<Ht?wt[Ct++]:255;for(let zt=0;zt<Ot;zt++)St[Nt++]=jt&1<<7-zt?Ft:$t}return{srcPos:Ct,destPos:Nt}}function Et({src:wt,srcPos:Ct=0,dest:St,destPos:Rt=0,width:Pt,height:kt}){let Mt=0;const Dt=wt.length>>2,$t=new Uint32Array(wt.buffer,Ct,Dt);if(vt.FeatureTest.isLittleEndian){for(;Mt<Dt-2;Mt+=3,Rt+=4){const Ft=$t[Mt],Lt=$t[Mt+1],Ot=$t[Mt+2];St[Rt]=Ft|4278190080,St[Rt+1]=Ft>>>24|Lt<<8|4278190080,St[Rt+2]=Lt>>>16|Ot<<16|4278190080,St[Rt+3]=Ot>>>8|4278190080}for(let Ft=Mt*4,Lt=wt.length;Ft<Lt;Ft+=3)St[Rt++]=wt[Ft]|wt[Ft+1]<<8|wt[Ft+2]<<16|4278190080}else{for(;Mt<Dt-2;Mt+=3,Rt+=4){const Ft=$t[Mt],Lt=$t[Mt+1],Ot=$t[Mt+2];St[Rt]=Ft|255,St[Rt+1]=Ft<<24|Lt>>>8|255,St[Rt+2]=Lt<<16|Ot>>>16|255,St[Rt+3]=Ot<<8|255}for(let Ft=Mt*4,Lt=wt.length;Ft<Lt;Ft+=3)St[Rt++]=wt[Ft]<<24|wt[Ft+1]<<16|wt[Ft+2]<<8|255}return{srcPos:Ct,destPos:Rt}}function At(wt,Ct){if(vt.FeatureTest.isLittleEndian)for(let St=0,Rt=wt.length;St<Rt;St++)Ct[St]=wt[St]*65793|4278190080;else for(let St=0,Rt=wt.length;St<Rt;St++)Ct[St]=wt[St]*16843008|255}},(ht,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const _e=Object.create(null);$.GlobalWorkerOptions=_e,_e.workerPort=null,_e.workerSrc=""},(ht,$,_e)=>{var wt,JA,e_,jy;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var vt=_e(1);const bt={UNKNOWN:0,DATA:1,ERROR:2},xt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Et(Pt){switch(Pt instanceof Error||typeof Pt=="object"&&Pt!==null||(0,vt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Pt.name){case"AbortException":return new vt.AbortException(Pt.message);case"MissingPDFException":return new vt.MissingPDFException(Pt.message);case"PasswordException":return new vt.PasswordException(Pt.message,Pt.code);case"UnexpectedResponseException":return new vt.UnexpectedResponseException(Pt.message,Pt.status);case"UnknownErrorException":return new vt.UnknownErrorException(Pt.message,Pt.details);default:return new vt.UnknownErrorException(Pt.message,Pt.toString())}}class At{constructor(kt,Mt,Dt){Gt(this,wt);this.sourceName=kt,this.targetName=Mt,this.comObj=Dt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=$t=>{const Ft=$t.data;if(Ft.targetName!==this.sourceName)return;if(Ft.stream){Ut(this,wt,e_).call(this,Ft);return}if(Ft.callback){const Ot=Ft.callbackId,Ht=this.callbackCapabilities[Ot];if(!Ht)throw new Error(`Cannot resolve callback ${Ot}`);if(delete this.callbackCapabilities[Ot],Ft.callback===bt.DATA)Ht.resolve(Ft.data);else if(Ft.callback===bt.ERROR)Ht.reject(Et(Ft.reason));else throw new Error("Unexpected callback case");return}const Lt=this.actionHandler[Ft.action];if(!Lt)throw new Error(`Unknown action from worker: ${Ft.action}`);if(Ft.callbackId){const Ot=this.sourceName,Ht=Ft.sourceName;new Promise(function(Nt){Nt(Lt(Ft.data))}).then(function(Nt){Dt.postMessage({sourceName:Ot,targetName:Ht,callback:bt.DATA,callbackId:Ft.callbackId,data:Nt})},function(Nt){Dt.postMessage({sourceName:Ot,targetName:Ht,callback:bt.ERROR,callbackId:Ft.callbackId,reason:Et(Nt)})});return}if(Ft.streamId){Ut(this,wt,JA).call(this,Ft);return}Lt(Ft.data)},Dt.addEventListener("message",this._onComObjOnMessage)}on(kt,Mt){const Dt=this.actionHandler;if(Dt[kt])throw new Error(`There is already an actionName called "${kt}"`);Dt[kt]=Mt}send(kt,Mt,Dt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:kt,data:Mt},Dt)}sendWithPromise(kt,Mt,Dt){const $t=this.callbackId++,Ft=new vt.PromiseCapability;this.callbackCapabilities[$t]=Ft;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:kt,callbackId:$t,data:Mt},Dt)}catch(Lt){Ft.reject(Lt)}return Ft.promise}sendWithStream(kt,Mt,Dt,$t){const Ft=this.streamId++,Lt=this.sourceName,Ot=this.targetName,Ht=this.comObj;return new ReadableStream({start:Nt=>{const Bt=new vt.PromiseCapability;return this.streamControllers[Ft]={controller:Nt,startCall:Bt,pullCall:null,cancelCall:null,isClosed:!1},Ht.postMessage({sourceName:Lt,targetName:Ot,action:kt,streamId:Ft,data:Mt,desiredSize:Nt.desiredSize},$t),Bt.promise},pull:Nt=>{const Bt=new vt.PromiseCapability;return this.streamControllers[Ft].pullCall=Bt,Ht.postMessage({sourceName:Lt,targetName:Ot,stream:xt.PULL,streamId:Ft,desiredSize:Nt.desiredSize}),Bt.promise},cancel:Nt=>{(0,vt.assert)(Nt instanceof Error,"cancel must have a valid reason");const Bt=new vt.PromiseCapability;return this.streamControllers[Ft].cancelCall=Bt,this.streamControllers[Ft].isClosed=!0,Ht.postMessage({sourceName:Lt,targetName:Ot,stream:xt.CANCEL,streamId:Ft,reason:Et(Nt)}),Bt.promise}},Dt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}wt=new WeakSet,JA=function(kt){const Mt=kt.streamId,Dt=this.sourceName,$t=kt.sourceName,Ft=this.comObj,Lt=this,Ot=this.actionHandler[kt.action],Ht={enqueue(Nt,Bt=1,jt){if(this.isCancelled)return;const zt=this.desiredSize;this.desiredSize-=Bt,zt>0&&this.desiredSize<=0&&(this.sinkCapability=new vt.PromiseCapability,this.ready=this.sinkCapability.promise),Ft.postMessage({sourceName:Dt,targetName:$t,stream:xt.ENQUEUE,streamId:Mt,chunk:Nt},jt)},close(){this.isCancelled||(this.isCancelled=!0,Ft.postMessage({sourceName:Dt,targetName:$t,stream:xt.CLOSE,streamId:Mt}),delete Lt.streamSinks[Mt])},error(Nt){(0,vt.assert)(Nt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Ft.postMessage({sourceName:Dt,targetName:$t,stream:xt.ERROR,streamId:Mt,reason:Et(Nt)}))},sinkCapability:new vt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:kt.desiredSize,ready:null};Ht.sinkCapability.resolve(),Ht.ready=Ht.sinkCapability.promise,this.streamSinks[Mt]=Ht,new Promise(function(Nt){Nt(Ot(kt.data,Ht))}).then(function(){Ft.postMessage({sourceName:Dt,targetName:$t,stream:xt.START_COMPLETE,streamId:Mt,success:!0})},function(Nt){Ft.postMessage({sourceName:Dt,targetName:$t,stream:xt.START_COMPLETE,streamId:Mt,reason:Et(Nt)})})},e_=function(kt){const Mt=kt.streamId,Dt=this.sourceName,$t=kt.sourceName,Ft=this.comObj,Lt=this.streamControllers[Mt],Ot=this.streamSinks[Mt];switch(kt.stream){case xt.START_COMPLETE:kt.success?Lt.startCall.resolve():Lt.startCall.reject(Et(kt.reason));break;case xt.PULL_COMPLETE:kt.success?Lt.pullCall.resolve():Lt.pullCall.reject(Et(kt.reason));break;case xt.PULL:if(!Ot){Ft.postMessage({sourceName:Dt,targetName:$t,stream:xt.PULL_COMPLETE,streamId:Mt,success:!0});break}Ot.desiredSize<=0&&kt.desiredSize>0&&Ot.sinkCapability.resolve(),Ot.desiredSize=kt.desiredSize,new Promise(function(Ht){var Nt;Ht((Nt=Ot.onPull)==null?void 0:Nt.call(Ot))}).then(function(){Ft.postMessage({sourceName:Dt,targetName:$t,stream:xt.PULL_COMPLETE,streamId:Mt,success:!0})},function(Ht){Ft.postMessage({sourceName:Dt,targetName:$t,stream:xt.PULL_COMPLETE,streamId:Mt,reason:Et(Ht)})});break;case xt.ENQUEUE:if((0,vt.assert)(Lt,"enqueue should have stream controller"),Lt.isClosed)break;Lt.controller.enqueue(kt.chunk);break;case xt.CLOSE:if((0,vt.assert)(Lt,"close should have stream controller"),Lt.isClosed)break;Lt.isClosed=!0,Lt.controller.close(),Ut(this,wt,jy).call(this,Lt,Mt);break;case xt.ERROR:(0,vt.assert)(Lt,"error should have stream controller"),Lt.controller.error(Et(kt.reason)),Ut(this,wt,jy).call(this,Lt,Mt);break;case xt.CANCEL_COMPLETE:kt.success?Lt.cancelCall.resolve():Lt.cancelCall.reject(Et(kt.reason)),Ut(this,wt,jy).call(this,Lt,Mt);break;case xt.CANCEL:if(!Ot)break;new Promise(function(Ht){var Nt;Ht((Nt=Ot.onCancel)==null?void 0:Nt.call(Ot,Et(kt.reason)))}).then(function(){Ft.postMessage({sourceName:Dt,targetName:$t,stream:xt.CANCEL_COMPLETE,streamId:Mt,success:!0})},function(Ht){Ft.postMessage({sourceName:Dt,targetName:$t,stream:xt.CANCEL_COMPLETE,streamId:Mt,reason:Et(Ht)})}),Ot.sinkCapability.reject(Et(kt.reason)),Ot.isCancelled=!0,delete this.streamSinks[Mt];break;default:throw new Error("Unexpected stream case")}},jy=async function(kt,Mt){var Dt,$t,Ft;await Promise.allSettled([(Dt=kt.startCall)==null?void 0:Dt.promise,($t=kt.pullCall)==null?void 0:$t.promise,(Ft=kt.cancelCall)==null?void 0:Ft.promise]),delete this.streamControllers[Mt]},$.MessageHandler=At},(ht,$,_e)=>{var xt,Et;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var vt=_e(1);class bt{constructor({parsedData:wt,rawData:Ct}){Gt(this,xt);Gt(this,Et);Wt(this,xt,wt),Wt(this,Et,Ct)}getRaw(){return _t(this,Et)}get(wt){return _t(this,xt).get(wt)??null}getAll(){return(0,vt.objectFromMap)(_t(this,xt))}has(wt){return _t(this,xt).has(wt)}}xt=new WeakMap,Et=new WeakMap,$.Metadata=bt},(ht,$,_e)=>{var wt,Ct,St,Rt,Pt,kt,N1;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var vt=_e(1),bt=_e(8);const xt=Symbol("INTERNAL");class Et{constructor($t,Ft){Gt(this,wt,!0);this.name=$t,this.intent=Ft}get visible(){return _t(this,wt)}_setVisible($t,Ft){$t!==xt&&(0,vt.unreachable)("Internal method `_setVisible` called."),Wt(this,wt,Ft)}}wt=new WeakMap;class At{constructor($t){Gt(this,kt);Gt(this,Ct,null);Gt(this,St,new Map);Gt(this,Rt,null);Gt(this,Pt,null);if(this.name=null,this.creator=null,$t!==null){this.name=$t.name,this.creator=$t.creator,Wt(this,Pt,$t.order);for(const Ft of $t.groups)_t(this,St).set(Ft.id,new Et(Ft.name,Ft.intent));if($t.baseState==="OFF")for(const Ft of _t(this,St).values())Ft._setVisible(xt,!1);for(const Ft of $t.on)_t(this,St).get(Ft)._setVisible(xt,!0);for(const Ft of $t.off)_t(this,St).get(Ft)._setVisible(xt,!1);Wt(this,Rt,this.getHash())}}isVisible($t){if(_t(this,St).size===0)return!0;if(!$t)return(0,vt.warn)("Optional content group not defined."),!0;if($t.type==="OCG")return _t(this,St).has($t.id)?_t(this,St).get($t.id).visible:((0,vt.warn)(`Optional content group not found: ${$t.id}`),!0);if($t.type==="OCMD"){if($t.expression)return Ut(this,kt,N1).call(this,$t.expression);if(!$t.policy||$t.policy==="AnyOn"){for(const Ft of $t.ids){if(!_t(this,St).has(Ft))return(0,vt.warn)(`Optional content group not found: ${Ft}`),!0;if(_t(this,St).get(Ft).visible)return!0}return!1}else if($t.policy==="AllOn"){for(const Ft of $t.ids){if(!_t(this,St).has(Ft))return(0,vt.warn)(`Optional content group not found: ${Ft}`),!0;if(!_t(this,St).get(Ft).visible)return!1}return!0}else if($t.policy==="AnyOff"){for(const Ft of $t.ids){if(!_t(this,St).has(Ft))return(0,vt.warn)(`Optional content group not found: ${Ft}`),!0;if(!_t(this,St).get(Ft).visible)return!0}return!1}else if($t.policy==="AllOff"){for(const Ft of $t.ids){if(!_t(this,St).has(Ft))return(0,vt.warn)(`Optional content group not found: ${Ft}`),!0;if(_t(this,St).get(Ft).visible)return!1}return!0}return(0,vt.warn)(`Unknown optional content policy ${$t.policy}.`),!0}return(0,vt.warn)(`Unknown group type ${$t.type}.`),!0}setVisibility($t,Ft=!0){if(!_t(this,St).has($t)){(0,vt.warn)(`Optional content group not found: ${$t}`);return}_t(this,St).get($t)._setVisible(xt,!!Ft),Wt(this,Ct,null)}get hasInitialVisibility(){return _t(this,Rt)===null||this.getHash()===_t(this,Rt)}getOrder(){return _t(this,St).size?_t(this,Pt)?_t(this,Pt).slice():[..._t(this,St).keys()]:null}getGroups(){return _t(this,St).size>0?(0,vt.objectFromMap)(_t(this,St)):null}getGroup($t){return _t(this,St).get($t)||null}getHash(){if(_t(this,Ct)!==null)return _t(this,Ct);const $t=new bt.MurmurHash3_64;for(const[Ft,Lt]of _t(this,St))$t.update(`${Ft}:${Lt.visible}`);return Wt(this,Ct,$t.hexdigest())}}Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakSet,N1=function($t){const Ft=$t.length;if(Ft<2)return!0;const Lt=$t[0];for(let Ot=1;Ot<Ft;Ot++){const Ht=$t[Ot];let Nt;if(Array.isArray(Ht))Nt=Ut(this,kt,N1).call(this,Ht);else if(_t(this,St).has(Ht))Nt=_t(this,St).get(Ht).visible;else return(0,vt.warn)(`Optional content group not found: ${Ht}`),!0;switch(Lt){case"And":if(!Nt)return!1;break;case"Or":if(Nt)return!0;break;case"Not":return!Nt;default:return!0}}return Lt==="And"},$.OptionalContentConfig=At},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var vt=_e(1),bt=_e(6);class xt{constructor({length:Ct,initialData:St,progressiveDone:Rt=!1,contentDispositionFilename:Pt=null,disableRange:kt=!1,disableStream:Mt=!1},Dt){if((0,vt.assert)(Dt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Rt,this._contentDispositionFilename=Pt,(St==null?void 0:St.length)>0){const $t=St instanceof Uint8Array&&St.byteLength===St.buffer.byteLength?St.buffer:new Uint8Array(St).buffer;this._queuedChunks.push($t)}this._pdfDataRangeTransport=Dt,this._isStreamingSupported=!Mt,this._isRangeSupported=!kt,this._contentLength=Ct,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(($t,Ft)=>{this._onReceiveData({begin:$t,chunk:Ft})}),this._pdfDataRangeTransport.addProgressListener(($t,Ft)=>{this._onProgress({loaded:$t,total:Ft})}),this._pdfDataRangeTransport.addProgressiveReadListener($t=>{this._onReceiveData({chunk:$t})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:Ct,chunk:St}){const Rt=St instanceof Uint8Array&&St.byteLength===St.buffer.byteLength?St.buffer:new Uint8Array(St).buffer;if(Ct===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Rt):this._queuedChunks.push(Rt);else{const Pt=this._rangeReaders.some(function(kt){return kt._begin!==Ct?!1:(kt._enqueue(Rt),!0)});(0,vt.assert)(Pt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var Ct;return((Ct=this._fullRequestReader)==null?void 0:Ct._loaded)??0}_onProgress(Ct){var St,Rt,Pt,kt;Ct.total===void 0?(Rt=(St=this._rangeReaders[0])==null?void 0:St.onProgress)==null||Rt.call(St,{loaded:Ct.loaded}):(kt=(Pt=this._fullRequestReader)==null?void 0:Pt.onProgress)==null||kt.call(Pt,{loaded:Ct.loaded,total:Ct.total})}_onProgressiveDone(){var Ct;(Ct=this._fullRequestReader)==null||Ct.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(Ct){const St=this._rangeReaders.indexOf(Ct);St>=0&&this._rangeReaders.splice(St,1)}getFullReader(){(0,vt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const Ct=this._queuedChunks;return this._queuedChunks=null,new Et(this,Ct,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(Ct,St){if(St<=this._progressiveDataLength)return null;const Rt=new At(this,Ct,St);return this._pdfDataRangeTransport.requestDataRange(Ct,St),this._rangeReaders.push(Rt),Rt}cancelAllRequests(Ct){var St;(St=this._fullRequestReader)==null||St.cancel(Ct);for(const Rt of this._rangeReaders.slice(0))Rt.cancel(Ct);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=xt;class Et{constructor(Ct,St,Rt=!1,Pt=null){this._stream=Ct,this._done=Rt||!1,this._filename=(0,bt.isPdfFile)(Pt)?Pt:null,this._queuedChunks=St||[],this._loaded=0;for(const kt of this._queuedChunks)this._loaded+=kt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),Ct._fullRequestReader=this,this.onProgress=null}_enqueue(Ct){this._done||(this._requests.length>0?this._requests.shift().resolve({value:Ct,done:!1}):this._queuedChunks.push(Ct),this._loaded+=Ct.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Ct=new vt.PromiseCapability;return this._requests.push(Ct),Ct.promise}cancel(Ct){this._done=!0;for(const St of this._requests)St.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class At{constructor(Ct,St,Rt){this._stream=Ct,this._begin=St,this._end=Rt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(Ct){if(!this._done){if(this._requests.length===0)this._queuedChunk=Ct;else{this._requests.shift().resolve({value:Ct,done:!1});for(const Rt of this._requests)Rt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const St=this._queuedChunk;return this._queuedChunk=null,{value:St,done:!1}}if(this._done)return{value:void 0,done:!0};const Ct=new vt.PromiseCapability;return this._requests.push(Ct),Ct.promise}cancel(Ct){this._done=!0;for(const St of this._requests)St.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var vt=_e(1),bt=_e(20);function xt(Rt,Pt,kt){return{method:"GET",headers:Rt,signal:kt.signal,mode:"cors",credentials:Pt?"include":"same-origin",redirect:"follow"}}function Et(Rt){const Pt=new Headers;for(const kt in Rt){const Mt=Rt[kt];Mt!==void 0&&Pt.append(kt,Mt)}return Pt}function At(Rt){return Rt instanceof Uint8Array?Rt.buffer:Rt instanceof ArrayBuffer?Rt:((0,vt.warn)(`getArrayBuffer - unexpected data format: ${Rt}`),new Uint8Array(Rt).buffer)}class wt{constructor(Pt){this.source=Pt,this.isHttp=/^https?:/i.test(Pt.url),this.httpHeaders=this.isHttp&&Pt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Pt;return((Pt=this._fullRequestReader)==null?void 0:Pt._loaded)??0}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ct(this),this._fullRequestReader}getRangeReader(Pt,kt){if(kt<=this._progressiveDataLength)return null;const Mt=new St(this,Pt,kt);return this._rangeRequestReaders.push(Mt),Mt}cancelAllRequests(Pt){var kt;(kt=this._fullRequestReader)==null||kt.cancel(Pt);for(const Mt of this._rangeRequestReaders.slice(0))Mt.cancel(Pt)}}$.PDFFetchStream=wt;class Ct{constructor(Pt){this._stream=Pt,this._reader=null,this._loaded=0,this._filename=null;const kt=Pt.source;this._withCredentials=kt.withCredentials||!1,this._contentLength=kt.length,this._headersCapability=new vt.PromiseCapability,this._disableRange=kt.disableRange||!1,this._rangeChunkSize=kt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!kt.disableStream,this._isRangeSupported=!kt.disableRange,this._headers=Et(this._stream.httpHeaders);const Mt=kt.url;fetch(Mt,xt(this._headers,this._withCredentials,this._abortController)).then(Dt=>{if(!(0,bt.validateResponseStatus)(Dt.status))throw(0,bt.createResponseStatusError)(Dt.status,Mt);this._reader=Dt.body.getReader(),this._headersCapability.resolve();const $t=Ot=>Dt.headers.get(Ot),{allowRangeRequests:Ft,suggestedLength:Lt}=(0,bt.validateRangeRequestCapabilities)({getResponseHeader:$t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ft,this._contentLength=Lt||this._contentLength,this._filename=(0,bt.extractFilenameFromHeader)($t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new vt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Mt;await this._headersCapability.promise;const{value:Pt,done:kt}=await this._reader.read();return kt?{value:Pt,done:kt}:(this._loaded+=Pt.byteLength,(Mt=this.onProgress)==null||Mt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:At(Pt),done:!1})}cancel(Pt){var kt;(kt=this._reader)==null||kt.cancel(Pt),this._abortController.abort()}}class St{constructor(Pt,kt,Mt){this._stream=Pt,this._reader=null,this._loaded=0;const Dt=Pt.source;this._withCredentials=Dt.withCredentials||!1,this._readCapability=new vt.PromiseCapability,this._isStreamingSupported=!Dt.disableStream,this._abortController=new AbortController,this._headers=Et(this._stream.httpHeaders),this._headers.append("Range",`bytes=${kt}-${Mt-1}`);const $t=Dt.url;fetch($t,xt(this._headers,this._withCredentials,this._abortController)).then(Ft=>{if(!(0,bt.validateResponseStatus)(Ft.status))throw(0,bt.createResponseStatusError)(Ft.status,$t);this._readCapability.resolve(),this._reader=Ft.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Mt;await this._readCapability.promise;const{value:Pt,done:kt}=await this._reader.read();return kt?{value:Pt,done:kt}:(this._loaded+=Pt.byteLength,(Mt=this.onProgress)==null||Mt.call(this,{loaded:this._loaded}),{value:At(Pt),done:!1})}cancel(Pt){var kt;(kt=this._reader)==null||kt.cancel(Pt),this._abortController.abort()}}},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=wt,$.extractFilenameFromHeader=At,$.validateRangeRequestCapabilities=Et,$.validateResponseStatus=Ct;var vt=_e(1),bt=_e(21),xt=_e(6);function Et({getResponseHeader:St,isHttp:Rt,rangeChunkSize:Pt,disableRange:kt}){const Mt={allowRangeRequests:!1,suggestedLength:void 0},Dt=parseInt(St("Content-Length"),10);return!Number.isInteger(Dt)||(Mt.suggestedLength=Dt,Dt<=2*Pt)||kt||!Rt||St("Accept-Ranges")!=="bytes"||(St("Content-Encoding")||"identity")!=="identity"||(Mt.allowRangeRequests=!0),Mt}function At(St){const Rt=St("Content-Disposition");if(Rt){let Pt=(0,bt.getFilenameFromContentDispositionHeader)(Rt);if(Pt.includes("%"))try{Pt=decodeURIComponent(Pt)}catch{}if((0,xt.isPdfFile)(Pt))return Pt}return null}function wt(St,Rt){return St===404||St===0&&Rt.startsWith("file:")?new vt.MissingPDFException('Missing PDF "'+Rt+'".'):new vt.UnexpectedResponseException(`Unexpected server response (${St}) while retrieving PDF "${Rt}".`,St)}function Ct(St){return St===200||St===206}},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=bt;var vt=_e(1);function bt(xt){let Et=!0,At=wt("filename\\*","i").exec(xt);if(At){At=At[1];let Dt=Pt(At);return Dt=unescape(Dt),Dt=kt(Dt),Dt=Mt(Dt),St(Dt)}if(At=Rt(xt),At){const Dt=Mt(At);return St(Dt)}if(At=wt("filename","i").exec(xt),At){At=At[1];let Dt=Pt(At);return Dt=Mt(Dt),St(Dt)}function wt(Dt,$t){return new RegExp("(?:^|;)\\s*"+Dt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',$t)}function Ct(Dt,$t){if(Dt){if(!/^[\x00-\xFF]+$/.test($t))return $t;try{const Ft=new TextDecoder(Dt,{fatal:!0}),Lt=(0,vt.stringToBytes)($t);$t=Ft.decode(Lt),Et=!1}catch{}}return $t}function St(Dt){return Et&&/[\x80-\xff]/.test(Dt)&&(Dt=Ct("utf-8",Dt),Et&&(Dt=Ct("iso-8859-1",Dt))),Dt}function Rt(Dt){const $t=[];let Ft;const Lt=wt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Ft=Lt.exec(Dt))!==null;){let[,Ht,Nt,Bt]=Ft;if(Ht=parseInt(Ht,10),Ht in $t){if(Ht===0)break;continue}$t[Ht]=[Nt,Bt]}const Ot=[];for(let Ht=0;Ht<$t.length&&Ht in $t;++Ht){let[Nt,Bt]=$t[Ht];Bt=Pt(Bt),Nt&&(Bt=unescape(Bt),Ht===0&&(Bt=kt(Bt))),Ot.push(Bt)}return Ot.join("")}function Pt(Dt){if(Dt.startsWith('"')){const $t=Dt.slice(1).split('\\"');for(let Ft=0;Ft<$t.length;++Ft){const Lt=$t[Ft].indexOf('"');Lt!==-1&&($t[Ft]=$t[Ft].slice(0,Lt),$t.length=Ft+1),$t[Ft]=$t[Ft].replaceAll(/\\(.)/g,"$1")}Dt=$t.join('"')}return Dt}function kt(Dt){const $t=Dt.indexOf("'");if($t===-1)return Dt;const Ft=Dt.slice(0,$t),Ot=Dt.slice($t+1).replace(/^[^']*'/,"");return Ct(Ft,Ot)}function Mt(Dt){return!Dt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Dt)?Dt:Dt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function($t,Ft,Lt,Ot){if(Lt==="q"||Lt==="Q")return Ot=Ot.replaceAll("_"," "),Ot=Ot.replaceAll(/=([0-9a-fA-F]{2})/g,function(Ht,Nt){return String.fromCharCode(parseInt(Nt,16))}),Ct(Ft,Ot);try{Ot=atob(Ot)}catch{}return Ct(Ft,Ot)})}return""}},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var vt=_e(1),bt=_e(20);const xt=200,Et=206;function At(Pt){const kt=Pt.response;return typeof kt!="string"?kt:(0,vt.stringToBytes)(kt).buffer}class wt{constructor(kt,Mt={}){this.url=kt,this.isHttp=/^https?:/i.test(kt),this.httpHeaders=this.isHttp&&Mt.httpHeaders||Object.create(null),this.withCredentials=Mt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(kt,Mt,Dt){const $t={begin:kt,end:Mt};for(const Ft in Dt)$t[Ft]=Dt[Ft];return this.request($t)}requestFull(kt){return this.request(kt)}request(kt){const Mt=new XMLHttpRequest,Dt=this.currXhrId++,$t=this.pendingRequests[Dt]={xhr:Mt};Mt.open("GET",this.url),Mt.withCredentials=this.withCredentials;for(const Ft in this.httpHeaders){const Lt=this.httpHeaders[Ft];Lt!==void 0&&Mt.setRequestHeader(Ft,Lt)}return this.isHttp&&"begin"in kt&&"end"in kt?(Mt.setRequestHeader("Range",`bytes=${kt.begin}-${kt.end-1}`),$t.expectedStatus=Et):$t.expectedStatus=xt,Mt.responseType="arraybuffer",kt.onError&&(Mt.onerror=function(Ft){kt.onError(Mt.status)}),Mt.onreadystatechange=this.onStateChange.bind(this,Dt),Mt.onprogress=this.onProgress.bind(this,Dt),$t.onHeadersReceived=kt.onHeadersReceived,$t.onDone=kt.onDone,$t.onError=kt.onError,$t.onProgress=kt.onProgress,Mt.send(null),Dt}onProgress(kt,Mt){var $t;const Dt=this.pendingRequests[kt];Dt&&(($t=Dt.onProgress)==null||$t.call(Dt,Mt))}onStateChange(kt,Mt){var Ht,Nt,Bt;const Dt=this.pendingRequests[kt];if(!Dt)return;const $t=Dt.xhr;if($t.readyState>=2&&Dt.onHeadersReceived&&(Dt.onHeadersReceived(),delete Dt.onHeadersReceived),$t.readyState!==4||!(kt in this.pendingRequests))return;if(delete this.pendingRequests[kt],$t.status===0&&this.isHttp){(Ht=Dt.onError)==null||Ht.call(Dt,$t.status);return}const Ft=$t.status||xt;if(!(Ft===xt&&Dt.expectedStatus===Et)&&Ft!==Dt.expectedStatus){(Nt=Dt.onError)==null||Nt.call(Dt,$t.status);return}const Ot=At($t);if(Ft===Et){const jt=$t.getResponseHeader("Content-Range"),zt=/bytes (\d+)-(\d+)\/(\d+)/.exec(jt);Dt.onDone({begin:parseInt(zt[1],10),chunk:Ot})}else Ot?Dt.onDone({begin:0,chunk:Ot}):(Bt=Dt.onError)==null||Bt.call(Dt,$t.status)}getRequestXhr(kt){return this.pendingRequests[kt].xhr}isPendingRequest(kt){return kt in this.pendingRequests}abortRequest(kt){const Mt=this.pendingRequests[kt].xhr;delete this.pendingRequests[kt],Mt.abort()}}class Ct{constructor(kt){this._source=kt,this._manager=new wt(kt.url,{httpHeaders:kt.httpHeaders,withCredentials:kt.withCredentials}),this._rangeChunkSize=kt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(kt){const Mt=this._rangeRequestReaders.indexOf(kt);Mt>=0&&this._rangeRequestReaders.splice(Mt,1)}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new St(this._manager,this._source),this._fullRequestReader}getRangeReader(kt,Mt){const Dt=new Rt(this._manager,kt,Mt);return Dt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Dt),Dt}cancelAllRequests(kt){var Mt;(Mt=this._fullRequestReader)==null||Mt.cancel(kt);for(const Dt of this._rangeRequestReaders.slice(0))Dt.cancel(kt)}}$.PDFNetworkStream=Ct;class St{constructor(kt,Mt){this._manager=kt;const Dt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Mt.url,this._fullRequestId=kt.requestFull(Dt),this._headersReceivedCapability=new vt.PromiseCapability,this._disableRange=Mt.disableRange||!1,this._contentLength=Mt.length,this._rangeChunkSize=Mt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const kt=this._fullRequestId,Mt=this._manager.getRequestXhr(kt),Dt=Lt=>Mt.getResponseHeader(Lt),{allowRangeRequests:$t,suggestedLength:Ft}=(0,bt.validateRangeRequestCapabilities)({getResponseHeader:Dt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});$t&&(this._isRangeSupported=!0),this._contentLength=Ft||this._contentLength,this._filename=(0,bt.extractFilenameFromHeader)(Dt),this._isRangeSupported&&this._manager.abortRequest(kt),this._headersReceivedCapability.resolve()}_onDone(kt){if(kt&&(this._requests.length>0?this._requests.shift().resolve({value:kt.chunk,done:!1}):this._cachedChunks.push(kt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Mt of this._requests)Mt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(kt){this._storedError=(0,bt.createResponseStatusError)(kt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Mt of this._requests)Mt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(kt){var Mt;(Mt=this.onProgress)==null||Mt.call(this,{loaded:kt.loaded,total:kt.lengthComputable?kt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const kt=new vt.PromiseCapability;return this._requests.push(kt),kt.promise}cancel(kt){this._done=!0,this._headersReceivedCapability.reject(kt);for(const Mt of this._requests)Mt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Rt{constructor(kt,Mt,Dt){this._manager=kt;const $t={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=kt.url,this._requestId=kt.requestRange(Mt,Dt,$t),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var kt;(kt=this.onClosed)==null||kt.call(this,this)}_onDone(kt){const Mt=kt.chunk;this._requests.length>0?this._requests.shift().resolve({value:Mt,done:!1}):this._queuedChunk=Mt,this._done=!0;for(const Dt of this._requests)Dt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(kt){this._storedError=(0,bt.createResponseStatusError)(kt,this._url);for(const Mt of this._requests)Mt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(kt){var Mt;this.isStreamingSupported||(Mt=this.onProgress)==null||Mt.call(this,{loaded:kt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Mt=this._queuedChunk;return this._queuedChunk=null,{value:Mt,done:!1}}if(this._done)return{value:void 0,done:!0};const kt=new vt.PromiseCapability;return this._requests.push(kt),kt.promise}cancel(kt){this._done=!0;for(const Mt of this._requests)Mt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var vt=_e(1),bt=_e(20);const xt=/^file:\/\/\/[a-zA-Z]:\//;function Et(Dt){const $t=require$$5,Ft=$t.parse(Dt);return Ft.protocol==="file:"||Ft.host?Ft:/^[a-z]:[/\\]/i.test(Dt)?$t.parse(`file:///${Dt}`):(Ft.host||(Ft.protocol="file:"),Ft)}class At{constructor($t){this.source=$t,this.url=Et($t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $t;return(($t=this._fullRequestReader)==null?void 0:$t._loaded)??0}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new kt(this):new Rt(this),this._fullRequestReader}getRangeReader($t,Ft){if(Ft<=this._progressiveDataLength)return null;const Lt=this.isFsUrl?new Mt(this,$t,Ft):new Pt(this,$t,Ft);return this._rangeRequestReaders.push(Lt),Lt}cancelAllRequests($t){var Ft;(Ft=this._fullRequestReader)==null||Ft.cancel($t);for(const Lt of this._rangeRequestReaders.slice(0))Lt.cancel($t)}}$.PDFNodeStream=At;class wt{constructor($t){this._url=$t.url,this._done=!1,this._storedError=null,this.onProgress=null;const Ft=$t.source;this._contentLength=Ft.length,this._loaded=0,this._filename=null,this._disableRange=Ft.disableRange||!1,this._rangeChunkSize=Ft.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Ft.disableStream,this._isRangeSupported=!Ft.disableRange,this._readableStream=null,this._readCapability=new vt.PromiseCapability,this._headersCapability=new vt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Lt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $t=this._readableStream.read();return $t===null?(this._readCapability=new vt.PromiseCapability,this.read()):(this._loaded+=$t.length,(Lt=this.onProgress)==null||Lt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($t).buffer,done:!1})}cancel($t){if(!this._readableStream){this._error($t);return}this._readableStream.destroy($t)}_error($t){this._storedError=$t,this._readCapability.resolve()}_setReadableStream($t){this._readableStream=$t,$t.on("readable",()=>{this._readCapability.resolve()}),$t.on("end",()=>{$t.destroy(),this._done=!0,this._readCapability.resolve()}),$t.on("error",Ft=>{this._error(Ft)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new vt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ct{constructor($t){this._url=$t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new vt.PromiseCapability;const Ft=$t.source;this._isStreamingSupported=!Ft.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Lt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $t=this._readableStream.read();return $t===null?(this._readCapability=new vt.PromiseCapability,this.read()):(this._loaded+=$t.length,(Lt=this.onProgress)==null||Lt.call(this,{loaded:this._loaded}),{value:new Uint8Array($t).buffer,done:!1})}cancel($t){if(!this._readableStream){this._error($t);return}this._readableStream.destroy($t)}_error($t){this._storedError=$t,this._readCapability.resolve()}_setReadableStream($t){this._readableStream=$t,$t.on("readable",()=>{this._readCapability.resolve()}),$t.on("end",()=>{$t.destroy(),this._done=!0,this._readCapability.resolve()}),$t.on("error",Ft=>{this._error(Ft)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function St(Dt,$t){return{protocol:Dt.protocol,auth:Dt.auth,host:Dt.hostname,port:Dt.port,path:Dt.path,method:"GET",headers:$t}}class Rt extends wt{constructor($t){super($t);const Ft=Lt=>{if(Lt.statusCode===404){const Bt=new vt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Bt,this._headersCapability.reject(Bt);return}this._headersCapability.resolve(),this._setReadableStream(Lt);const Ot=Bt=>this._readableStream.headers[Bt.toLowerCase()],{allowRangeRequests:Ht,suggestedLength:Nt}=(0,bt.validateRangeRequestCapabilities)({getResponseHeader:Ot,isHttp:$t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ht,this._contentLength=Nt||this._contentLength,this._filename=(0,bt.extractFilenameFromHeader)(Ot)};if(this._request=null,this._url.protocol==="http:"){const Lt=require$$5;this._request=Lt.request(St(this._url,$t.httpHeaders),Ft)}else{const Lt=require$$5;this._request=Lt.request(St(this._url,$t.httpHeaders),Ft)}this._request.on("error",Lt=>{this._storedError=Lt,this._headersCapability.reject(Lt)}),this._request.end()}}class Pt extends Ct{constructor($t,Ft,Lt){super($t),this._httpHeaders={};for(const Ht in $t.httpHeaders){const Nt=$t.httpHeaders[Ht];Nt!==void 0&&(this._httpHeaders[Ht]=Nt)}this._httpHeaders.Range=`bytes=${Ft}-${Lt-1}`;const Ot=Ht=>{if(Ht.statusCode===404){const Nt=new vt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Nt;return}this._setReadableStream(Ht)};if(this._request=null,this._url.protocol==="http:"){const Ht=require$$5;this._request=Ht.request(St(this._url,this._httpHeaders),Ot)}else{const Ht=require$$5;this._request=Ht.request(St(this._url,this._httpHeaders),Ot)}this._request.on("error",Ht=>{this._storedError=Ht}),this._request.end()}}class kt extends wt{constructor($t){super($t);let Ft=decodeURIComponent(this._url.path);xt.test(this._url.href)&&(Ft=Ft.replace(/^\//,""));const Lt=require$$5;Lt.lstat(Ft,(Ot,Ht)=>{if(Ot){Ot.code==="ENOENT"&&(Ot=new vt.MissingPDFException(`Missing PDF "${Ft}".`)),this._storedError=Ot,this._headersCapability.reject(Ot);return}this._contentLength=Ht.size,this._setReadableStream(Lt.createReadStream(Ft)),this._headersCapability.resolve()})}}class Mt extends Ct{constructor($t,Ft,Lt){super($t);let Ot=decodeURIComponent(this._url.path);xt.test(this._url.href)&&(Ot=Ot.replace(/^\//,""));const Ht=require$$5;this._setReadableStream(Ht.createReadStream(Ot,{start:Ft,end:Lt-1}))}}},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var vt=_e(6),bt=_e(1);const xt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Et="http://www.w3.org/XML/1998/namespace",At="http://www.w3.org/1999/xlink",wt=["butt","round","square"],Ct=["miter","round","bevel"],St=function(Ht,Nt="",Bt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Bt)return URL.createObjectURL(new Blob([Ht],{type:Nt}));const jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let zt=`data:${Nt};base64,`;for(let Kt=0,nn=Ht.length;Kt<nn;Kt+=3){const qt=Ht[Kt]&255,en=Ht[Kt+1]&255,on=Ht[Kt+2]&255,_n=qt>>2,dn=(qt&3)<<4|en>>4,En=Kt+1<nn?(en&15)<<2|on>>6:64,cn=Kt+2<nn?on&63:64;zt+=jt[_n]+jt[dn]+jt[En]+jt[cn]}return zt},Rt=function(){const Ht=new Uint8Array([137,80,78,71,13,10,26,10]),Nt=12,Bt=new Int32Array(256);for(let on=0;on<256;on++){let _n=on;for(let dn=0;dn<8;dn++)_n=_n&1?3988292384^_n>>1&2147483647:_n>>1&2147483647;Bt[on]=_n}function jt(on,_n,dn){let En=-1;for(let cn=_n;cn<dn;cn++){const hn=(En^on[cn])&255,tn=Bt[hn];En=En>>>8^tn}return En^-1}function zt(on,_n,dn,En){let cn=En;const hn=_n.length;dn[cn]=hn>>24&255,dn[cn+1]=hn>>16&255,dn[cn+2]=hn>>8&255,dn[cn+3]=hn&255,cn+=4,dn[cn]=on.charCodeAt(0)&255,dn[cn+1]=on.charCodeAt(1)&255,dn[cn+2]=on.charCodeAt(2)&255,dn[cn+3]=on.charCodeAt(3)&255,cn+=4,dn.set(_n,cn),cn+=_n.length;const tn=jt(dn,En+4,cn);dn[cn]=tn>>24&255,dn[cn+1]=tn>>16&255,dn[cn+2]=tn>>8&255,dn[cn+3]=tn&255}function Kt(on,_n,dn){let En=1,cn=0;for(let hn=_n;hn<dn;++hn)En=(En+(on[hn]&255))%65521,cn=(cn+En)%65521;return cn<<16|En}function nn(on){if(!bt.isNodeJS)return qt(on);try{const _n=parseInt(process.versions.node)>=8?on:Buffer.from(on),dn=require$$5.deflateSync(_n,{level:9});return dn instanceof Uint8Array?dn:new Uint8Array(dn)}catch(_n){(0,bt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+_n)}return qt(on)}function qt(on){let _n=on.length;const dn=65535,En=Math.ceil(_n/dn),cn=new Uint8Array(2+_n+En*5+4);let hn=0;cn[hn++]=120,cn[hn++]=156;let tn=0;for(;_n>dn;)cn[hn++]=0,cn[hn++]=255,cn[hn++]=255,cn[hn++]=0,cn[hn++]=0,cn.set(on.subarray(tn,tn+dn),hn),hn+=dn,tn+=dn,_n-=dn;cn[hn++]=1,cn[hn++]=_n&255,cn[hn++]=_n>>8&255,cn[hn++]=~_n&65535&255,cn[hn++]=(~_n&65535)>>8&255,cn.set(on.subarray(tn),hn),hn+=on.length-tn;const gn=Kt(on,0,on.length);return cn[hn++]=gn>>24&255,cn[hn++]=gn>>16&255,cn[hn++]=gn>>8&255,cn[hn++]=gn&255,cn}function en(on,_n,dn,En){const cn=on.width,hn=on.height;let tn,gn,Sn;const rn=on.data;switch(_n){case bt.ImageKind.GRAYSCALE_1BPP:gn=0,tn=1,Sn=cn+7>>3;break;case bt.ImageKind.RGB_24BPP:gn=2,tn=8,Sn=cn*3;break;case bt.ImageKind.RGBA_32BPP:gn=6,tn=8,Sn=cn*4;break;default:throw new Error("invalid format")}const Xt=new Uint8Array((1+Sn)*hn);let Yt=0,Jt=0;for(let Un=0;Un<hn;++Un)Xt[Yt++]=0,Xt.set(rn.subarray(Jt,Jt+Sn),Yt),Jt+=Sn,Yt+=Sn;if(_n===bt.ImageKind.GRAYSCALE_1BPP&&En){Yt=0;for(let Un=0;Un<hn;Un++){Yt++;for(let zn=0;zn<Sn;zn++)Xt[Yt++]^=255}}const un=new Uint8Array([cn>>24&255,cn>>16&255,cn>>8&255,cn&255,hn>>24&255,hn>>16&255,hn>>8&255,hn&255,tn,gn,0,0,0]),ln=nn(Xt),fn=Ht.length+Nt*3+un.length+ln.length,Rn=new Uint8Array(fn);let jn=0;return Rn.set(Ht,jn),jn+=Ht.length,zt("IHDR",un,Rn,jn),jn+=Nt+un.length,zt("IDATA",ln,Rn,jn),jn+=Nt+ln.length,zt("IEND",new Uint8Array(0),Rn,jn),St(Rn,"image/png",dn)}return function(_n,dn,En){const cn=_n.kind===void 0?bt.ImageKind.GRAYSCALE_1BPP:_n.kind;return en(_n,cn,dn,En)}}();class Pt{constructor(){this.fontSizeScale=1,this.fontWeight=xt.fontWeight,this.fontSize=0,this.textMatrix=bt.IDENTITY_MATRIX,this.fontMatrix=bt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=bt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=xt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Nt,Bt){this.x=Nt,this.y=Bt}}function kt(Ht){let Nt=[];const Bt=[];for(const jt of Ht){if(jt.fn==="save"){Nt.push({fnId:92,fn:"group",items:[]}),Bt.push(Nt),Nt=Nt.at(-1).items;continue}jt.fn==="restore"?Nt=Bt.pop():Nt.push(jt)}return Nt}function Mt(Ht){if(Number.isInteger(Ht))return Ht.toString();const Nt=Ht.toFixed(10);let Bt=Nt.length-1;if(Nt[Bt]!=="0")return Nt;do Bt--;while(Nt[Bt]==="0");return Nt.substring(0,Nt[Bt]==="."?Bt:Bt+1)}function Dt(Ht){if(Ht[4]===0&&Ht[5]===0){if(Ht[1]===0&&Ht[2]===0)return Ht[0]===1&&Ht[3]===1?"":`scale(${Mt(Ht[0])} ${Mt(Ht[3])})`;if(Ht[0]===Ht[3]&&Ht[1]===-Ht[2]){const Nt=Math.acos(Ht[0])*180/Math.PI;return`rotate(${Mt(Nt)})`}}else if(Ht[0]===1&&Ht[1]===0&&Ht[2]===0&&Ht[3]===1)return`translate(${Mt(Ht[4])} ${Mt(Ht[5])})`;return`matrix(${Mt(Ht[0])} ${Mt(Ht[1])} ${Mt(Ht[2])} ${Mt(Ht[3])} ${Mt(Ht[4])} ${Mt(Ht[5])})`}let $t=0,Ft=0,Lt=0;class Ot{constructor(Nt,Bt,jt=!1){(0,vt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new vt.DOMSVGFactory,this.current=new Pt,this.transformMatrix=bt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Nt,this.objs=Bt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!jt,this._operatorIdMapping=[];for(const zt in bt.OPS)this._operatorIdMapping[bt.OPS[zt]]=zt}getObject(Nt,Bt=null){return typeof Nt=="string"?Nt.startsWith("g_")?this.commonObjs.get(Nt):this.objs.get(Nt):Bt}save(){this.transformStack.push(this.transformMatrix);const Nt=this.current;this.extraStack.push(Nt),this.current=Nt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Nt){this.save(),this.executeOpTree(Nt),this.restore()}loadDependencies(Nt){const Bt=Nt.fnArray,jt=Nt.argsArray;for(let zt=0,Kt=Bt.length;zt<Kt;zt++)if(Bt[zt]===bt.OPS.dependency)for(const nn of jt[zt]){const qt=nn.startsWith("g_")?this.commonObjs:this.objs,en=new Promise(on=>{qt.get(nn,on)});this.current.dependencies.push(en)}return Promise.all(this.current.dependencies)}transform(Nt,Bt,jt,zt,Kt,nn){const qt=[Nt,Bt,jt,zt,Kt,nn];this.transformMatrix=bt.Util.transform(this.transformMatrix,qt),this.tgrp=null}getSVG(Nt,Bt){this.viewport=Bt;const jt=this._initialize(Bt);return this.loadDependencies(Nt).then(()=>(this.transformMatrix=bt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Nt)),jt))}convertOpList(Nt){const Bt=this._operatorIdMapping,jt=Nt.argsArray,zt=Nt.fnArray,Kt=[];for(let nn=0,qt=zt.length;nn<qt;nn++){const en=zt[nn];Kt.push({fnId:en,fn:Bt[en],args:jt[nn]})}return kt(Kt)}executeOpTree(Nt){for(const Bt of Nt){const jt=Bt.fn,zt=Bt.fnId,Kt=Bt.args;switch(zt|0){case bt.OPS.beginText:this.beginText();break;case bt.OPS.dependency:break;case bt.OPS.setLeading:this.setLeading(Kt);break;case bt.OPS.setLeadingMoveText:this.setLeadingMoveText(Kt[0],Kt[1]);break;case bt.OPS.setFont:this.setFont(Kt);break;case bt.OPS.showText:this.showText(Kt[0]);break;case bt.OPS.showSpacedText:this.showText(Kt[0]);break;case bt.OPS.endText:this.endText();break;case bt.OPS.moveText:this.moveText(Kt[0],Kt[1]);break;case bt.OPS.setCharSpacing:this.setCharSpacing(Kt[0]);break;case bt.OPS.setWordSpacing:this.setWordSpacing(Kt[0]);break;case bt.OPS.setHScale:this.setHScale(Kt[0]);break;case bt.OPS.setTextMatrix:this.setTextMatrix(Kt[0],Kt[1],Kt[2],Kt[3],Kt[4],Kt[5]);break;case bt.OPS.setTextRise:this.setTextRise(Kt[0]);break;case bt.OPS.setTextRenderingMode:this.setTextRenderingMode(Kt[0]);break;case bt.OPS.setLineWidth:this.setLineWidth(Kt[0]);break;case bt.OPS.setLineJoin:this.setLineJoin(Kt[0]);break;case bt.OPS.setLineCap:this.setLineCap(Kt[0]);break;case bt.OPS.setMiterLimit:this.setMiterLimit(Kt[0]);break;case bt.OPS.setFillRGBColor:this.setFillRGBColor(Kt[0],Kt[1],Kt[2]);break;case bt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Kt[0],Kt[1],Kt[2]);break;case bt.OPS.setStrokeColorN:this.setStrokeColorN(Kt);break;case bt.OPS.setFillColorN:this.setFillColorN(Kt);break;case bt.OPS.shadingFill:this.shadingFill(Kt[0]);break;case bt.OPS.setDash:this.setDash(Kt[0],Kt[1]);break;case bt.OPS.setRenderingIntent:this.setRenderingIntent(Kt[0]);break;case bt.OPS.setFlatness:this.setFlatness(Kt[0]);break;case bt.OPS.setGState:this.setGState(Kt[0]);break;case bt.OPS.fill:this.fill();break;case bt.OPS.eoFill:this.eoFill();break;case bt.OPS.stroke:this.stroke();break;case bt.OPS.fillStroke:this.fillStroke();break;case bt.OPS.eoFillStroke:this.eoFillStroke();break;case bt.OPS.clip:this.clip("nonzero");break;case bt.OPS.eoClip:this.clip("evenodd");break;case bt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case bt.OPS.paintImageXObject:this.paintImageXObject(Kt[0]);break;case bt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Kt[0]);break;case bt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Kt[0]);break;case bt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Kt[0],Kt[1]);break;case bt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case bt.OPS.closePath:this.closePath();break;case bt.OPS.closeStroke:this.closeStroke();break;case bt.OPS.closeFillStroke:this.closeFillStroke();break;case bt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case bt.OPS.nextLine:this.nextLine();break;case bt.OPS.transform:this.transform(Kt[0],Kt[1],Kt[2],Kt[3],Kt[4],Kt[5]);break;case bt.OPS.constructPath:this.constructPath(Kt[0],Kt[1]);break;case bt.OPS.endPath:this.endPath();break;case 92:this.group(Bt.items);break;default:(0,bt.warn)(`Unimplemented operator ${jt}`);break}}}setWordSpacing(Nt){this.current.wordSpacing=Nt}setCharSpacing(Nt){this.current.charSpacing=Nt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Nt,Bt,jt,zt,Kt,nn){const qt=this.current;qt.textMatrix=qt.lineMatrix=[Nt,Bt,jt,zt,Kt,nn],qt.textMatrixScale=Math.hypot(Nt,Bt),qt.x=qt.lineX=0,qt.y=qt.lineY=0,qt.xcoords=[],qt.ycoords=[],qt.tspan=this.svgFactory.createElement("svg:tspan"),qt.tspan.setAttributeNS(null,"font-family",qt.fontFamily),qt.tspan.setAttributeNS(null,"font-size",`${Mt(qt.fontSize)}px`),qt.tspan.setAttributeNS(null,"y",Mt(-qt.y)),qt.txtElement=this.svgFactory.createElement("svg:text"),qt.txtElement.append(qt.tspan)}beginText(){const Nt=this.current;Nt.x=Nt.lineX=0,Nt.y=Nt.lineY=0,Nt.textMatrix=bt.IDENTITY_MATRIX,Nt.lineMatrix=bt.IDENTITY_MATRIX,Nt.textMatrixScale=1,Nt.tspan=this.svgFactory.createElement("svg:tspan"),Nt.txtElement=this.svgFactory.createElement("svg:text"),Nt.txtgrp=this.svgFactory.createElement("svg:g"),Nt.xcoords=[],Nt.ycoords=[]}moveText(Nt,Bt){const jt=this.current;jt.x=jt.lineX+=Nt,jt.y=jt.lineY+=Bt,jt.xcoords=[],jt.ycoords=[],jt.tspan=this.svgFactory.createElement("svg:tspan"),jt.tspan.setAttributeNS(null,"font-family",jt.fontFamily),jt.tspan.setAttributeNS(null,"font-size",`${Mt(jt.fontSize)}px`),jt.tspan.setAttributeNS(null,"y",Mt(-jt.y))}showText(Nt){const Bt=this.current,jt=Bt.font,zt=Bt.fontSize;if(zt===0)return;const Kt=Bt.fontSizeScale,nn=Bt.charSpacing,qt=Bt.wordSpacing,en=Bt.fontDirection,on=Bt.textHScale*en,_n=jt.vertical,dn=_n?1:-1,En=jt.defaultVMetrics,cn=zt*Bt.fontMatrix[0];let hn=0;for(const Sn of Nt){if(Sn===null){hn+=en*qt;continue}else if(typeof Sn=="number"){hn+=dn*Sn*zt/1e3;continue}const rn=(Sn.isSpace?qt:0)+nn,Xt=Sn.fontChar;let Yt,Jt,un=Sn.width;if(_n){let fn;const Rn=Sn.vmetric||En;fn=Sn.vmetric?Rn[1]:un*.5,fn=-fn*cn;const jn=Rn[2]*cn;un=Rn?-Rn[0]:un,Yt=fn/Kt,Jt=(hn+jn)/Kt}else Yt=hn/Kt,Jt=0;(Sn.isInFont||jt.missingFile)&&(Bt.xcoords.push(Bt.x+Yt),_n&&Bt.ycoords.push(-Bt.y+Jt),Bt.tspan.textContent+=Xt);const ln=_n?un*cn-rn*en:un*cn+rn*en;hn+=ln}Bt.tspan.setAttributeNS(null,"x",Bt.xcoords.map(Mt).join(" ")),_n?Bt.tspan.setAttributeNS(null,"y",Bt.ycoords.map(Mt).join(" ")):Bt.tspan.setAttributeNS(null,"y",Mt(-Bt.y)),_n?Bt.y-=hn:Bt.x+=hn*on,Bt.tspan.setAttributeNS(null,"font-family",Bt.fontFamily),Bt.tspan.setAttributeNS(null,"font-size",`${Mt(Bt.fontSize)}px`),Bt.fontStyle!==xt.fontStyle&&Bt.tspan.setAttributeNS(null,"font-style",Bt.fontStyle),Bt.fontWeight!==xt.fontWeight&&Bt.tspan.setAttributeNS(null,"font-weight",Bt.fontWeight);const tn=Bt.textRenderingMode&bt.TextRenderingMode.FILL_STROKE_MASK;if(tn===bt.TextRenderingMode.FILL||tn===bt.TextRenderingMode.FILL_STROKE?(Bt.fillColor!==xt.fillColor&&Bt.tspan.setAttributeNS(null,"fill",Bt.fillColor),Bt.fillAlpha<1&&Bt.tspan.setAttributeNS(null,"fill-opacity",Bt.fillAlpha)):Bt.textRenderingMode===bt.TextRenderingMode.ADD_TO_PATH?Bt.tspan.setAttributeNS(null,"fill","transparent"):Bt.tspan.setAttributeNS(null,"fill","none"),tn===bt.TextRenderingMode.STROKE||tn===bt.TextRenderingMode.FILL_STROKE){const Sn=1/(Bt.textMatrixScale||1);this._setStrokeAttributes(Bt.tspan,Sn)}let gn=Bt.textMatrix;Bt.textRise!==0&&(gn=gn.slice(),gn[5]+=Bt.textRise),Bt.txtElement.setAttributeNS(null,"transform",`${Dt(gn)} scale(${Mt(on)}, -1)`),Bt.txtElement.setAttributeNS(Et,"xml:space","preserve"),Bt.txtElement.append(Bt.tspan),Bt.txtgrp.append(Bt.txtElement),this._ensureTransformGroup().append(Bt.txtElement)}setLeadingMoveText(Nt,Bt){this.setLeading(-Bt),this.moveText(Nt,Bt)}addFontStyle(Nt){if(!Nt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Bt=St(Nt.data,Nt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Nt.loadedName}"; src: url(${Bt}); }
`}setFont(Nt){const Bt=this.current,jt=this.commonObjs.get(Nt[0]);let zt=Nt[1];Bt.font=jt,this.embedFonts&&!jt.missingFile&&!this.embeddedFonts[jt.loadedName]&&(this.addFontStyle(jt),this.embeddedFonts[jt.loadedName]=jt),Bt.fontMatrix=jt.fontMatrix||bt.FONT_IDENTITY_MATRIX;let Kt="normal";jt.black?Kt="900":jt.bold&&(Kt="bold");const nn=jt.italic?"italic":"normal";zt<0?(zt=-zt,Bt.fontDirection=-1):Bt.fontDirection=1,Bt.fontSize=zt,Bt.fontFamily=jt.loadedName,Bt.fontWeight=Kt,Bt.fontStyle=nn,Bt.tspan=this.svgFactory.createElement("svg:tspan"),Bt.tspan.setAttributeNS(null,"y",Mt(-Bt.y)),Bt.xcoords=[],Bt.ycoords=[]}endText(){var Bt;const Nt=this.current;Nt.textRenderingMode&bt.TextRenderingMode.ADD_TO_PATH_FLAG&&((Bt=Nt.txtElement)!=null&&Bt.hasChildNodes())&&(Nt.element=Nt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Nt){Nt>0&&(this.current.lineWidth=Nt)}setLineCap(Nt){this.current.lineCap=wt[Nt]}setLineJoin(Nt){this.current.lineJoin=Ct[Nt]}setMiterLimit(Nt){this.current.miterLimit=Nt}setStrokeAlpha(Nt){this.current.strokeAlpha=Nt}setStrokeRGBColor(Nt,Bt,jt){this.current.strokeColor=bt.Util.makeHexColor(Nt,Bt,jt)}setFillAlpha(Nt){this.current.fillAlpha=Nt}setFillRGBColor(Nt,Bt,jt){this.current.fillColor=bt.Util.makeHexColor(Nt,Bt,jt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Nt){this.current.strokeColor=this._makeColorN_Pattern(Nt)}setFillColorN(Nt){this.current.fillColor=this._makeColorN_Pattern(Nt)}shadingFill(Nt){const{width:Bt,height:jt}=this.viewport,zt=bt.Util.inverseTransform(this.transformMatrix),[Kt,nn,qt,en]=bt.Util.getAxialAlignedBoundingBox([0,0,Bt,jt],zt),on=this.svgFactory.createElement("svg:rect");on.setAttributeNS(null,"x",Kt),on.setAttributeNS(null,"y",nn),on.setAttributeNS(null,"width",qt-Kt),on.setAttributeNS(null,"height",en-nn),on.setAttributeNS(null,"fill",this._makeShadingPattern(Nt)),this.current.fillAlpha<1&&on.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(on)}_makeColorN_Pattern(Nt){return Nt[0]==="TilingPattern"?this._makeTilingPattern(Nt):this._makeShadingPattern(Nt)}_makeTilingPattern(Nt){const Bt=Nt[1],jt=Nt[2],zt=Nt[3]||bt.IDENTITY_MATRIX,[Kt,nn,qt,en]=Nt[4],on=Nt[5],_n=Nt[6],dn=Nt[7],En=`shading${Lt++}`,[cn,hn,tn,gn]=bt.Util.normalizeRect([...bt.Util.applyTransform([Kt,nn],zt),...bt.Util.applyTransform([qt,en],zt)]),[Sn,rn]=bt.Util.singularValueDecompose2dScale(zt),Xt=on*Sn,Yt=_n*rn,Jt=this.svgFactory.createElement("svg:pattern");Jt.setAttributeNS(null,"id",En),Jt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Jt.setAttributeNS(null,"width",Xt),Jt.setAttributeNS(null,"height",Yt),Jt.setAttributeNS(null,"x",`${cn}`),Jt.setAttributeNS(null,"y",`${hn}`);const un=this.svg,ln=this.transformMatrix,fn=this.current.fillColor,Rn=this.current.strokeColor,jn=this.svgFactory.create(tn-cn,gn-hn);if(this.svg=jn,this.transformMatrix=zt,dn===2){const Un=bt.Util.makeHexColor(...Bt);this.current.fillColor=Un,this.current.strokeColor=Un}return this.executeOpTree(this.convertOpList(jt)),this.svg=un,this.transformMatrix=ln,this.current.fillColor=fn,this.current.strokeColor=Rn,Jt.append(jn.childNodes[0]),this.defs.append(Jt),`url(#${En})`}_makeShadingPattern(Nt){switch(typeof Nt=="string"&&(Nt=this.objs.get(Nt)),Nt[0]){case"RadialAxial":const Bt=`shading${Lt++}`,jt=Nt[3];let zt;switch(Nt[1]){case"axial":const Kt=Nt[4],nn=Nt[5];zt=this.svgFactory.createElement("svg:linearGradient"),zt.setAttributeNS(null,"id",Bt),zt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),zt.setAttributeNS(null,"x1",Kt[0]),zt.setAttributeNS(null,"y1",Kt[1]),zt.setAttributeNS(null,"x2",nn[0]),zt.setAttributeNS(null,"y2",nn[1]);break;case"radial":const qt=Nt[4],en=Nt[5],on=Nt[6],_n=Nt[7];zt=this.svgFactory.createElement("svg:radialGradient"),zt.setAttributeNS(null,"id",Bt),zt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),zt.setAttributeNS(null,"cx",en[0]),zt.setAttributeNS(null,"cy",en[1]),zt.setAttributeNS(null,"r",_n),zt.setAttributeNS(null,"fx",qt[0]),zt.setAttributeNS(null,"fy",qt[1]),zt.setAttributeNS(null,"fr",on);break;default:throw new Error(`Unknown RadialAxial type: ${Nt[1]}`)}for(const Kt of jt){const nn=this.svgFactory.createElement("svg:stop");nn.setAttributeNS(null,"offset",Kt[0]),nn.setAttributeNS(null,"stop-color",Kt[1]),zt.append(nn)}return this.defs.append(zt),`url(#${Bt})`;case"Mesh":return(0,bt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Nt[0]}`)}}setDash(Nt,Bt){this.current.dashArray=Nt,this.current.dashPhase=Bt}constructPath(Nt,Bt){const jt=this.current;let zt=jt.x,Kt=jt.y,nn=[],qt=0;for(const en of Nt)switch(en|0){case bt.OPS.rectangle:zt=Bt[qt++],Kt=Bt[qt++];const on=Bt[qt++],_n=Bt[qt++],dn=zt+on,En=Kt+_n;nn.push("M",Mt(zt),Mt(Kt),"L",Mt(dn),Mt(Kt),"L",Mt(dn),Mt(En),"L",Mt(zt),Mt(En),"Z");break;case bt.OPS.moveTo:zt=Bt[qt++],Kt=Bt[qt++],nn.push("M",Mt(zt),Mt(Kt));break;case bt.OPS.lineTo:zt=Bt[qt++],Kt=Bt[qt++],nn.push("L",Mt(zt),Mt(Kt));break;case bt.OPS.curveTo:zt=Bt[qt+4],Kt=Bt[qt+5],nn.push("C",Mt(Bt[qt]),Mt(Bt[qt+1]),Mt(Bt[qt+2]),Mt(Bt[qt+3]),Mt(zt),Mt(Kt)),qt+=6;break;case bt.OPS.curveTo2:nn.push("C",Mt(zt),Mt(Kt),Mt(Bt[qt]),Mt(Bt[qt+1]),Mt(Bt[qt+2]),Mt(Bt[qt+3])),zt=Bt[qt+2],Kt=Bt[qt+3],qt+=4;break;case bt.OPS.curveTo3:zt=Bt[qt+2],Kt=Bt[qt+3],nn.push("C",Mt(Bt[qt]),Mt(Bt[qt+1]),Mt(zt),Mt(Kt),Mt(zt),Mt(Kt)),qt+=4;break;case bt.OPS.closePath:nn.push("Z");break}nn=nn.join(" "),jt.path&&Nt.length>0&&Nt[0]!==bt.OPS.rectangle&&Nt[0]!==bt.OPS.moveTo?nn=jt.path.getAttributeNS(null,"d")+nn:(jt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(jt.path)),jt.path.setAttributeNS(null,"d",nn),jt.path.setAttributeNS(null,"fill","none"),jt.element=jt.path,jt.setCurrentPoint(zt,Kt)}endPath(){const Nt=this.current;if(Nt.path=null,!this.pendingClip)return;if(!Nt.element){this.pendingClip=null;return}const Bt=`clippath${$t++}`,jt=this.svgFactory.createElement("svg:clipPath");jt.setAttributeNS(null,"id",Bt),jt.setAttributeNS(null,"transform",Dt(this.transformMatrix));const zt=Nt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?zt.setAttributeNS(null,"clip-rule","evenodd"):zt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,jt.append(zt),this.defs.append(jt),Nt.activeClipUrl){Nt.clipGroup=null;for(const Kt of this.extraStack)Kt.clipGroup=null;jt.setAttributeNS(null,"clip-path",Nt.activeClipUrl)}Nt.activeClipUrl=`url(#${Bt})`,this.tgrp=null}clip(Nt){this.pendingClip=Nt}closePath(){const Nt=this.current;if(Nt.path){const Bt=`${Nt.path.getAttributeNS(null,"d")}Z`;Nt.path.setAttributeNS(null,"d",Bt)}}setLeading(Nt){this.current.leading=-Nt}setTextRise(Nt){this.current.textRise=Nt}setTextRenderingMode(Nt){this.current.textRenderingMode=Nt}setHScale(Nt){this.current.textHScale=Nt/100}setRenderingIntent(Nt){}setFlatness(Nt){}setGState(Nt){for(const[Bt,jt]of Nt)switch(Bt){case"LW":this.setLineWidth(jt);break;case"LC":this.setLineCap(jt);break;case"LJ":this.setLineJoin(jt);break;case"ML":this.setMiterLimit(jt);break;case"D":this.setDash(jt[0],jt[1]);break;case"RI":this.setRenderingIntent(jt);break;case"FL":this.setFlatness(jt);break;case"Font":this.setFont(jt);break;case"CA":this.setStrokeAlpha(jt);break;case"ca":this.setFillAlpha(jt);break;default:(0,bt.warn)(`Unimplemented graphic state operator ${Bt}`);break}}fill(){const Nt=this.current;Nt.element&&(Nt.element.setAttributeNS(null,"fill",Nt.fillColor),Nt.element.setAttributeNS(null,"fill-opacity",Nt.fillAlpha),this.endPath())}stroke(){const Nt=this.current;Nt.element&&(this._setStrokeAttributes(Nt.element),Nt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Nt,Bt=1){const jt=this.current;let zt=jt.dashArray;Bt!==1&&zt.length>0&&(zt=zt.map(function(Kt){return Bt*Kt})),Nt.setAttributeNS(null,"stroke",jt.strokeColor),Nt.setAttributeNS(null,"stroke-opacity",jt.strokeAlpha),Nt.setAttributeNS(null,"stroke-miterlimit",Mt(jt.miterLimit)),Nt.setAttributeNS(null,"stroke-linecap",jt.lineCap),Nt.setAttributeNS(null,"stroke-linejoin",jt.lineJoin),Nt.setAttributeNS(null,"stroke-width",Mt(Bt*jt.lineWidth)+"px"),Nt.setAttributeNS(null,"stroke-dasharray",zt.map(Mt).join(" ")),Nt.setAttributeNS(null,"stroke-dashoffset",Mt(Bt*jt.dashPhase)+"px")}eoFill(){var Nt;(Nt=this.current.element)==null||Nt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Nt;(Nt=this.current.element)==null||Nt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Nt=this.svgFactory.createElement("svg:rect");Nt.setAttributeNS(null,"x","0"),Nt.setAttributeNS(null,"y","0"),Nt.setAttributeNS(null,"width","1px"),Nt.setAttributeNS(null,"height","1px"),Nt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Nt)}paintImageXObject(Nt){const Bt=this.getObject(Nt);if(!Bt){(0,bt.warn)(`Dependent image with object ID ${Nt} is not ready yet`);return}this.paintInlineImageXObject(Bt)}paintInlineImageXObject(Nt,Bt){const jt=Nt.width,zt=Nt.height,Kt=Rt(Nt,this.forceDataSchema,!!Bt),nn=this.svgFactory.createElement("svg:rect");nn.setAttributeNS(null,"x","0"),nn.setAttributeNS(null,"y","0"),nn.setAttributeNS(null,"width",Mt(jt)),nn.setAttributeNS(null,"height",Mt(zt)),this.current.element=nn,this.clip("nonzero");const qt=this.svgFactory.createElement("svg:image");qt.setAttributeNS(At,"xlink:href",Kt),qt.setAttributeNS(null,"x","0"),qt.setAttributeNS(null,"y",Mt(-zt)),qt.setAttributeNS(null,"width",Mt(jt)+"px"),qt.setAttributeNS(null,"height",Mt(zt)+"px"),qt.setAttributeNS(null,"transform",`scale(${Mt(1/jt)} ${Mt(-1/zt)})`),Bt?Bt.append(qt):this._ensureTransformGroup().append(qt)}paintImageMaskXObject(Nt){const Bt=this.getObject(Nt.data,Nt);if(Bt.bitmap){(0,bt.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const jt=this.current,zt=Bt.width,Kt=Bt.height,nn=jt.fillColor;jt.maskId=`mask${Ft++}`;const qt=this.svgFactory.createElement("svg:mask");qt.setAttributeNS(null,"id",jt.maskId);const en=this.svgFactory.createElement("svg:rect");en.setAttributeNS(null,"x","0"),en.setAttributeNS(null,"y","0"),en.setAttributeNS(null,"width",Mt(zt)),en.setAttributeNS(null,"height",Mt(Kt)),en.setAttributeNS(null,"fill",nn),en.setAttributeNS(null,"mask",`url(#${jt.maskId})`),this.defs.append(qt),this._ensureTransformGroup().append(en),this.paintInlineImageXObject(Bt,qt)}paintFormXObjectBegin(Nt,Bt){if(Array.isArray(Nt)&&Nt.length===6&&this.transform(Nt[0],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5]),Bt){const jt=Bt[2]-Bt[0],zt=Bt[3]-Bt[1],Kt=this.svgFactory.createElement("svg:rect");Kt.setAttributeNS(null,"x",Bt[0]),Kt.setAttributeNS(null,"y",Bt[1]),Kt.setAttributeNS(null,"width",Mt(jt)),Kt.setAttributeNS(null,"height",Mt(zt)),this.current.element=Kt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Nt){const Bt=this.svgFactory.create(Nt.width,Nt.height),jt=this.svgFactory.createElement("svg:defs");Bt.append(jt),this.defs=jt;const zt=this.svgFactory.createElement("svg:g");return zt.setAttributeNS(null,"transform",Dt(Nt.transform)),Bt.append(zt),this.svg=zt,Bt}_ensureClipGroup(){if(!this.current.clipGroup){const Nt=this.svgFactory.createElement("svg:g");Nt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Nt),this.current.clipGroup=Nt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Dt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=Ot},(ht,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class _e{static textContent(bt){const xt=[],Et={items:xt,styles:Object.create(null)};function At(wt){var Rt;if(!wt)return;let Ct=null;const St=wt.name;if(St==="#text")Ct=wt.value;else if(_e.shouldBuildText(St))(Rt=wt==null?void 0:wt.attributes)!=null&&Rt.textContent?Ct=wt.attributes.textContent:wt.value&&(Ct=wt.value);else return;if(Ct!==null&&xt.push({str:Ct}),!!wt.children)for(const Pt of wt.children)At(Pt)}return At(bt),Et}static shouldBuildText(bt){return!(bt==="textarea"||bt==="input"||bt==="option"||bt==="select")}}$.XfaText=_e},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=Dt,$.updateTextLayer=$t;var vt=_e(1),bt=_e(6);const xt=1e5,Et=30,At=.8,wt=new Map;function Ct(Ft,Lt){let Ot;if(Lt&&vt.FeatureTest.isOffscreenCanvasSupported)Ot=new OffscreenCanvas(Ft,Ft).getContext("2d",{alpha:!1});else{const Ht=document.createElement("canvas");Ht.width=Ht.height=Ft,Ot=Ht.getContext("2d",{alpha:!1})}return Ot}function St(Ft,Lt){const Ot=wt.get(Ft);if(Ot)return Ot;const Ht=Ct(Et,Lt);Ht.font=`${Et}px ${Ft}`;const Nt=Ht.measureText("");let Bt=Nt.fontBoundingBoxAscent,jt=Math.abs(Nt.fontBoundingBoxDescent);if(Bt){const Kt=Bt/(Bt+jt);return wt.set(Ft,Kt),Ht.canvas.width=Ht.canvas.height=0,Kt}Ht.strokeStyle="red",Ht.clearRect(0,0,Et,Et),Ht.strokeText("g",0,0);let zt=Ht.getImageData(0,0,Et,Et).data;jt=0;for(let Kt=zt.length-1-3;Kt>=0;Kt-=4)if(zt[Kt]>0){jt=Math.ceil(Kt/4/Et);break}Ht.clearRect(0,0,Et,Et),Ht.strokeText("A",0,Et),zt=Ht.getImageData(0,0,Et,Et).data,Bt=0;for(let Kt=0,nn=zt.length;Kt<nn;Kt+=4)if(zt[Kt]>0){Bt=Et-Math.floor(Kt/4/Et);break}if(Ht.canvas.width=Ht.canvas.height=0,Bt){const Kt=Bt/(Bt+jt);return wt.set(Ft,Kt),Kt}return wt.set(Ft,At),At}function Rt(Ft,Lt,Ot){const Ht=document.createElement("span"),Nt={angle:0,canvasWidth:0,hasText:Lt.str!=="",hasEOL:Lt.hasEOL,fontSize:0};Ft._textDivs.push(Ht);const Bt=vt.Util.transform(Ft._transform,Lt.transform);let jt=Math.atan2(Bt[1],Bt[0]);const zt=Ot[Lt.fontName];zt.vertical&&(jt+=Math.PI/2);const Kt=Math.hypot(Bt[2],Bt[3]),nn=Kt*St(zt.fontFamily,Ft._isOffscreenCanvasSupported);let qt,en;jt===0?(qt=Bt[4],en=Bt[5]-nn):(qt=Bt[4]+nn*Math.sin(jt),en=Bt[5]-nn*Math.cos(jt));const on="calc(var(--scale-factor)*",_n=Ht.style;Ft._container===Ft._rootContainer?(_n.left=`${(100*qt/Ft._pageWidth).toFixed(2)}%`,_n.top=`${(100*en/Ft._pageHeight).toFixed(2)}%`):(_n.left=`${on}${qt.toFixed(2)}px)`,_n.top=`${on}${en.toFixed(2)}px)`),_n.fontSize=`${on}${Kt.toFixed(2)}px)`,_n.fontFamily=zt.fontFamily,Nt.fontSize=Kt,Ht.setAttribute("role","presentation"),Ht.textContent=Lt.str,Ht.dir=Lt.dir,Ft._fontInspectorEnabled&&(Ht.dataset.fontName=Lt.fontName),jt!==0&&(Nt.angle=jt*(180/Math.PI));let dn=!1;if(Lt.str.length>1)dn=!0;else if(Lt.str!==" "&&Lt.transform[0]!==Lt.transform[3]){const En=Math.abs(Lt.transform[0]),cn=Math.abs(Lt.transform[3]);En!==cn&&Math.max(En,cn)/Math.min(En,cn)>1.5&&(dn=!0)}dn&&(Nt.canvasWidth=zt.vertical?Lt.height:Lt.width),Ft._textDivProperties.set(Ht,Nt),Ft._isReadableStream&&Ft._layoutText(Ht)}function Pt(Ft){const{div:Lt,scale:Ot,properties:Ht,ctx:Nt,prevFontSize:Bt,prevFontFamily:jt}=Ft,{style:zt}=Lt;let Kt="";if(Ht.canvasWidth!==0&&Ht.hasText){const{fontFamily:nn}=zt,{canvasWidth:qt,fontSize:en}=Ht;(Bt!==en||jt!==nn)&&(Nt.font=`${en*Ot}px ${nn}`,Ft.prevFontSize=en,Ft.prevFontFamily=nn);const{width:on}=Nt.measureText(Lt.textContent);on>0&&(Kt=`scaleX(${qt*Ot/on})`)}Ht.angle!==0&&(Kt=`rotate(${Ht.angle}deg) ${Kt}`),Kt.length>0&&(zt.transform=Kt)}function kt(Ft){if(Ft._canceled)return;const Lt=Ft._textDivs,Ot=Ft._capability;if(Lt.length>xt){Ot.resolve();return}if(!Ft._isReadableStream)for(const Nt of Lt)Ft._layoutText(Nt);Ot.resolve()}class Mt{constructor({textContentSource:Lt,container:Ot,viewport:Ht,textDivs:Nt,textDivProperties:Bt,textContentItemsStr:jt,isOffscreenCanvasSupported:zt}){var on;this._textContentSource=Lt,this._isReadableStream=Lt instanceof ReadableStream,this._container=this._rootContainer=Ot,this._textDivs=Nt||[],this._textContentItemsStr=jt||[],this._isOffscreenCanvasSupported=zt,this._fontInspectorEnabled=!!((on=globalThis.FontInspector)!=null&&on.enabled),this._reader=null,this._textDivProperties=Bt||new WeakMap,this._canceled=!1,this._capability=new vt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Ht.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Ct(0,zt)};const{pageWidth:Kt,pageHeight:nn,pageX:qt,pageY:en}=Ht.rawDims;this._transform=[1,0,0,-1,-qt,en+nn],this._pageWidth=Kt,this._pageHeight=nn,(0,bt.setLayerDimensions)(Ot,Ht),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new vt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new vt.AbortException("TextLayer task cancelled."))}_processItems(Lt,Ot){for(const Ht of Lt){if(Ht.str===void 0){if(Ht.type==="beginMarkedContentProps"||Ht.type==="beginMarkedContent"){const Nt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Ht.id!==null&&this._container.setAttribute("id",`${Ht.id}`),Nt.append(this._container)}else Ht.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Ht.str),Rt(this,Ht,Ot)}}_layoutText(Lt){const Ot=this._layoutTextParams.properties=this._textDivProperties.get(Lt);if(this._layoutTextParams.div=Lt,Pt(this._layoutTextParams),Ot.hasText&&this._container.append(Lt),Ot.hasEOL){const Ht=document.createElement("br");Ht.setAttribute("role","presentation"),this._container.append(Ht)}}_render(){const Lt=new vt.PromiseCapability;let Ot=Object.create(null);if(this._isReadableStream){const Ht=()=>{this._reader.read().then(({value:Nt,done:Bt})=>{if(Bt){Lt.resolve();return}Object.assign(Ot,Nt.styles),this._processItems(Nt.items,Ot),Ht()},Lt.reject)};this._reader=this._textContentSource.getReader(),Ht()}else if(this._textContentSource){const{items:Ht,styles:Nt}=this._textContentSource;this._processItems(Ht,Nt),Lt.resolve()}else throw new Error('No "textContentSource" parameter specified.');Lt.promise.then(()=>{Ot=null,kt(this)},this._capability.reject)}}$.TextLayerRenderTask=Mt;function Dt(Ft){!Ft.textContentSource&&(Ft.textContent||Ft.textContentStream)&&((0,bt.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Ft.textContentSource=Ft.textContent||Ft.textContentStream);const{container:Lt,viewport:Ot}=Ft,Ht=getComputedStyle(Lt),Nt=Ht.getPropertyValue("visibility"),Bt=parseFloat(Ht.getPropertyValue("--scale-factor"));Nt==="visible"&&(!Bt||Math.abs(Bt-Ot.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const jt=new Mt(Ft);return jt._render(),jt}function $t({container:Ft,viewport:Lt,textDivs:Ot,textDivProperties:Ht,isOffscreenCanvasSupported:Nt,mustRotate:Bt=!0,mustRescale:jt=!0}){if(Bt&&(0,bt.setLayerDimensions)(Ft,{rotation:Lt.rotation}),jt){const zt=Ct(0,Nt),nn={prevFontSize:null,prevFontFamily:null,div:null,scale:Lt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:zt};for(const qt of Ot)nn.properties=Ht.get(qt),nn.div=qt,Pt(nn)}}},(ht,$,_e)=>{var St,Rt,Pt,kt,Mt,Dt,$t,Ft,Lt,Ot,Ht,j1,Hy,H1,B1;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var vt=_e(1),bt=_e(4),xt=_e(28),Et=_e(33),At=_e(6),wt=_e(34);const Kt=class Kt{constructor({uiManager:qt,pageIndex:en,div:on,accessibilityManager:_n,annotationLayer:dn,viewport:En,l10n:cn}){Gt(this,Ht);Gt(this,St);Gt(this,Rt,!1);Gt(this,Pt,null);Gt(this,kt,this.pointerup.bind(this));Gt(this,Mt,this.pointerdown.bind(this));Gt(this,Dt,new Map);Gt(this,$t,!1);Gt(this,Ft,!1);Gt(this,Lt,!1);Gt(this,Ot);const hn=[xt.FreeTextEditor,Et.InkEditor,wt.StampEditor];if(!Kt._initialized){Kt._initialized=!0;for(const tn of hn)tn.initialize(cn)}qt.registerEditorTypes(hn),Wt(this,Ot,qt),this.pageIndex=en,this.div=on,Wt(this,St,_n),Wt(this,Pt,dn),this.viewport=En,_t(this,Ot).addLayer(this)}get isEmpty(){return _t(this,Dt).size===0}updateToolbar(qt){_t(this,Ot).updateToolbar(qt)}updateMode(qt=_t(this,Ot).getMode()){Ut(this,Ht,B1).call(this),qt===vt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),qt!==vt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",qt===vt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",qt===vt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",qt===vt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(qt){if(!qt&&_t(this,Ot).getMode()!==vt.AnnotationEditorType.INK)return;if(!qt){for(const on of _t(this,Dt).values())if(on.isEmpty()){on.setInBackground();return}}Ut(this,Ht,Hy).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(qt){_t(this,Ot).setEditingState(qt)}addCommands(qt){_t(this,Ot).addCommands(qt)}enable(){this.div.style.pointerEvents="auto";const qt=new Set;for(const on of _t(this,Dt).values())on.enableEditing(),on.annotationElementId&&qt.add(on.annotationElementId);if(!_t(this,Pt))return;const en=_t(this,Pt).getEditableAnnotations();for(const on of en){if(on.hide(),_t(this,Ot).isDeletedAnnotationElement(on.data.id)||qt.has(on.data.id))continue;const _n=this.deserialize(on);_n&&(this.addOrRebuild(_n),_n.enableEditing())}}disable(){var en;Wt(this,Lt,!0),this.div.style.pointerEvents="none";const qt=new Set;for(const on of _t(this,Dt).values()){if(on.disableEditing(),!on.annotationElementId||on.serialize()!==null){qt.add(on.annotationElementId);continue}(en=this.getEditableAnnotation(on.annotationElementId))==null||en.show(),on.remove()}if(_t(this,Pt)){const on=_t(this,Pt).getEditableAnnotations();for(const _n of on){const{id:dn}=_n.data;qt.has(dn)||_t(this,Ot).isDeletedAnnotationElement(dn)||_n.show()}}Ut(this,Ht,B1).call(this),this.isEmpty&&(this.div.hidden=!0),Wt(this,Lt,!1)}getEditableAnnotation(qt){var en;return((en=_t(this,Pt))==null?void 0:en.getEditableAnnotation(qt))||null}setActiveEditor(qt){_t(this,Ot).getActive()!==qt&&_t(this,Ot).setActiveEditor(qt)}enableClick(){this.div.addEventListener("pointerdown",_t(this,Mt)),this.div.addEventListener("pointerup",_t(this,kt))}disableClick(){this.div.removeEventListener("pointerdown",_t(this,Mt)),this.div.removeEventListener("pointerup",_t(this,kt))}attach(qt){_t(this,Dt).set(qt.id,qt);const{annotationElementId:en}=qt;en&&_t(this,Ot).isDeletedAnnotationElement(en)&&_t(this,Ot).removeDeletedAnnotationElement(qt)}detach(qt){var en;_t(this,Dt).delete(qt.id),(en=_t(this,St))==null||en.removePointerInTextLayer(qt.contentDiv),!_t(this,Lt)&&qt.annotationElementId&&_t(this,Ot).addDeletedAnnotationElement(qt)}remove(qt){this.detach(qt),_t(this,Ot).removeEditor(qt),qt.div.contains(document.activeElement)&&setTimeout(()=>{_t(this,Ot).focusMainContainer()},0),qt.div.remove(),qt.isAttachedToDOM=!1,_t(this,Ft)||this.addInkEditorIfNeeded(!1)}changeParent(qt){var en;qt.parent!==this&&(qt.annotationElementId&&(_t(this,Ot).addDeletedAnnotationElement(qt.annotationElementId),bt.AnnotationEditor.deleteAnnotationElement(qt),qt.annotationElementId=null),this.attach(qt),(en=qt.parent)==null||en.detach(qt),qt.setParent(this),qt.div&&qt.isAttachedToDOM&&(qt.div.remove(),this.div.append(qt.div)))}add(qt){if(this.changeParent(qt),_t(this,Ot).addEditor(qt),this.attach(qt),!qt.isAttachedToDOM){const en=qt.render();this.div.append(en),qt.isAttachedToDOM=!0}qt.fixAndSetPosition(),qt.onceAdded(),_t(this,Ot).addToAnnotationStorage(qt)}moveEditorInDOM(qt){var on;if(!qt.isAttachedToDOM)return;const{activeElement:en}=document;qt.div.contains(en)&&(qt._focusEventsAllowed=!1,setTimeout(()=>{qt.div.contains(document.activeElement)?qt._focusEventsAllowed=!0:(qt.div.addEventListener("focusin",()=>{qt._focusEventsAllowed=!0},{once:!0}),en.focus())},0)),qt._structTreeParentId=(on=_t(this,St))==null?void 0:on.moveElementInDOM(this.div,qt.div,qt.contentDiv,!0)}addOrRebuild(qt){qt.needsToBeRebuilt()?qt.rebuild():this.add(qt)}addUndoableEditor(qt){const en=()=>qt._uiManager.rebuild(qt),on=()=>{qt.remove()};this.addCommands({cmd:en,undo:on,mustExec:!1})}getNextId(){return _t(this,Ot).getId()}pasteEditor(qt,en){_t(this,Ot).updateToolbar(qt),_t(this,Ot).updateMode(qt);const{offsetX:on,offsetY:_n}=Ut(this,Ht,H1).call(this),dn=this.getNextId(),En=Ut(this,Ht,j1).call(this,{parent:this,id:dn,x:on,y:_n,uiManager:_t(this,Ot),isCentered:!0,...en});En&&this.add(En)}deserialize(qt){switch(qt.annotationType??qt.annotationEditorType){case vt.AnnotationEditorType.FREETEXT:return xt.FreeTextEditor.deserialize(qt,this,_t(this,Ot));case vt.AnnotationEditorType.INK:return Et.InkEditor.deserialize(qt,this,_t(this,Ot));case vt.AnnotationEditorType.STAMP:return wt.StampEditor.deserialize(qt,this,_t(this,Ot))}return null}addNewEditor(){Ut(this,Ht,Hy).call(this,Ut(this,Ht,H1).call(this),!0)}setSelected(qt){_t(this,Ot).setSelected(qt)}toggleSelected(qt){_t(this,Ot).toggleSelected(qt)}isSelected(qt){return _t(this,Ot).isSelected(qt)}unselect(qt){_t(this,Ot).unselect(qt)}pointerup(qt){const{isMac:en}=vt.FeatureTest.platform;if(!(qt.button!==0||qt.ctrlKey&&en)&&qt.target===this.div&&_t(this,$t)){if(Wt(this,$t,!1),!_t(this,Rt)){Wt(this,Rt,!0);return}if(_t(this,Ot).getMode()===vt.AnnotationEditorType.STAMP){_t(this,Ot).unselectAll();return}Ut(this,Ht,Hy).call(this,qt,!1)}}pointerdown(qt){if(_t(this,$t)){Wt(this,$t,!1);return}const{isMac:en}=vt.FeatureTest.platform;if(qt.button!==0||qt.ctrlKey&&en||qt.target!==this.div)return;Wt(this,$t,!0);const on=_t(this,Ot).getActive();Wt(this,Rt,!on||on.isEmpty())}findNewParent(qt,en,on){const _n=_t(this,Ot).findParent(en,on);return _n===null||_n===this?!1:(_n.changeParent(qt),!0)}destroy(){var qt,en;((qt=_t(this,Ot).getActive())==null?void 0:qt.parent)===this&&(_t(this,Ot).commitOrRemove(),_t(this,Ot).setActiveEditor(null));for(const on of _t(this,Dt).values())(en=_t(this,St))==null||en.removePointerInTextLayer(on.contentDiv),on.setParent(null),on.isAttachedToDOM=!1,on.div.remove();this.div=null,_t(this,Dt).clear(),_t(this,Ot).removeLayer(this)}render({viewport:qt}){this.viewport=qt,(0,At.setLayerDimensions)(this.div,qt);for(const en of _t(this,Ot).getEditors(this.pageIndex))this.add(en);this.updateMode()}update({viewport:qt}){_t(this,Ot).commitOrRemove(),this.viewport=qt,(0,At.setLayerDimensions)(this.div,{rotation:qt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:qt,pageHeight:en}=this.viewport.rawDims;return[qt,en]}};St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Dt=new WeakMap,$t=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,Ot=new WeakMap,Ht=new WeakSet,j1=function(qt){switch(_t(this,Ot).getMode()){case vt.AnnotationEditorType.FREETEXT:return new xt.FreeTextEditor(qt);case vt.AnnotationEditorType.INK:return new Et.InkEditor(qt);case vt.AnnotationEditorType.STAMP:return new wt.StampEditor(qt)}return null},Hy=function(qt,en){const on=this.getNextId(),_n=Ut(this,Ht,j1).call(this,{parent:this,id:on,x:qt.offsetX,y:qt.offsetY,uiManager:_t(this,Ot),isCentered:en});return _n&&this.add(_n),_n},H1=function(){const{x:qt,y:en,width:on,height:_n}=this.div.getBoundingClientRect(),dn=Math.max(0,qt),En=Math.max(0,en),cn=Math.min(window.innerWidth,qt+on),hn=Math.min(window.innerHeight,en+_n),tn=(dn+cn)/2-qt,gn=(En+hn)/2-en,[Sn,rn]=this.viewport.rotation%180===0?[tn,gn]:[gn,tn];return{offsetX:Sn,offsetY:rn}},B1=function(){Wt(this,Ft,!0);for(const qt of _t(this,Dt).values())qt.isEmpty()&&qt.remove();Wt(this,Ft,!1)},wr(Kt,"_initialized",!1);let Ct=Kt;$.AnnotationEditorLayer=Ct},(ht,$,_e)=>{var wt,Ct,St,Rt,Pt,kt,Mt,Dt,$t,Ft,t_,n_,i_,b0,U1,r_,z1;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var vt=_e(1),bt=_e(5),xt=_e(4),Et=_e(29);const Kt=class Kt extends xt.AnnotationEditor{constructor(en){super({...en,name:"freeTextEditor"});Gt(this,Ft);Gt(this,wt,this.editorDivBlur.bind(this));Gt(this,Ct,this.editorDivFocus.bind(this));Gt(this,St,this.editorDivInput.bind(this));Gt(this,Rt,this.editorDivKeydown.bind(this));Gt(this,Pt);Gt(this,kt,"");Gt(this,Mt,`${this.id}-editor`);Gt(this,Dt);Gt(this,$t,null);Wt(this,Pt,en.color||Kt._defaultColor||xt.AnnotationEditor._defaultLineColor),Wt(this,Dt,en.fontSize||Kt._defaultFontSize)}static get _keyboardManager(){const en=Kt.prototype,on=En=>En.isEmpty(),_n=bt.AnnotationEditorUIManager.TRANSLATE_SMALL,dn=bt.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,vt.shadow)(this,"_keyboardManager",new bt.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],en.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],en.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],en._translateEmpty,{args:[-_n,0],checker:on}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],en._translateEmpty,{args:[-dn,0],checker:on}],[["ArrowRight","mac+ArrowRight"],en._translateEmpty,{args:[_n,0],checker:on}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],en._translateEmpty,{args:[dn,0],checker:on}],[["ArrowUp","mac+ArrowUp"],en._translateEmpty,{args:[0,-_n],checker:on}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],en._translateEmpty,{args:[0,-dn],checker:on}],[["ArrowDown","mac+ArrowDown"],en._translateEmpty,{args:[0,_n],checker:on}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],en._translateEmpty,{args:[0,dn],checker:on}]]))}static initialize(en){xt.AnnotationEditor.initialize(en,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const on=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(on.getPropertyValue("--freetext-padding"))}static updateDefaultParams(en,on){switch(en){case vt.AnnotationEditorParamsType.FREETEXT_SIZE:Kt._defaultFontSize=on;break;case vt.AnnotationEditorParamsType.FREETEXT_COLOR:Kt._defaultColor=on;break}}updateParams(en,on){switch(en){case vt.AnnotationEditorParamsType.FREETEXT_SIZE:Ut(this,Ft,t_).call(this,on);break;case vt.AnnotationEditorParamsType.FREETEXT_COLOR:Ut(this,Ft,n_).call(this,on);break}}static get defaultPropertiesToUpdate(){return[[vt.AnnotationEditorParamsType.FREETEXT_SIZE,Kt._defaultFontSize],[vt.AnnotationEditorParamsType.FREETEXT_COLOR,Kt._defaultColor||xt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[vt.AnnotationEditorParamsType.FREETEXT_SIZE,_t(this,Dt)],[vt.AnnotationEditorParamsType.FREETEXT_COLOR,_t(this,Pt)]]}_translateEmpty(en,on){this._uiManager.translateSelectedEditors(en,on,!0)}getInitialTranslation(){const en=this.parentScale;return[-Kt._internalPadding*en,-(Kt._internalPadding+_t(this,Dt))*en]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(vt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_t(this,Rt)),this.editorDiv.addEventListener("focus",_t(this,Ct)),this.editorDiv.addEventListener("blur",_t(this,wt)),this.editorDiv.addEventListener("input",_t(this,St)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_t(this,Mt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",_t(this,Rt)),this.editorDiv.removeEventListener("focus",_t(this,Ct)),this.editorDiv.removeEventListener("blur",_t(this,wt)),this.editorDiv.removeEventListener("input",_t(this,St)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(en){this._focusEventsAllowed&&(super.focusin(en),en.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var en;if(this.width){Ut(this,Ft,z1).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(en=this._initialOptions)!=null&&en.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const en=_t(this,kt),on=Wt(this,kt,Ut(this,Ft,i_).call(this).trimEnd());if(en===on)return;const _n=dn=>{if(Wt(this,kt,dn),!dn){this.remove();return}Ut(this,Ft,U1).call(this),this._uiManager.rebuild(this),Ut(this,Ft,b0).call(this)};this.addCommands({cmd:()=>{_n(on)},undo:()=>{_n(en)},mustExec:!1}),Ut(this,Ft,b0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(en){this.enterInEditMode()}keydown(en){en.target===this.div&&en.key==="Enter"&&(this.enterInEditMode(),en.preventDefault())}editorDivKeydown(en){Kt._keyboardManager.exec(this,en)}editorDivFocus(en){this.isEditing=!0}editorDivBlur(en){this.isEditing=!1}editorDivInput(en){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let en,on;this.width&&(en=this.x,on=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_t(this,Mt)),this.enableEditing(),xt.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(dn=>{var En;return(En=this.editorDiv)==null?void 0:En.setAttribute("aria-label",dn)}),xt.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(dn=>{var En;return(En=this.editorDiv)==null?void 0:En.setAttribute("default-content",dn)}),this.editorDiv.contentEditable=!0;const{style:_n}=this.editorDiv;if(_n.fontSize=`calc(${_t(this,Dt)}px * var(--scale-factor))`,_n.color=_t(this,Pt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,bt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[dn,En]=this.parentDimensions;if(this.annotationElementId){const{position:cn}=_t(this,$t);let[hn,tn]=this.getInitialTranslation();[hn,tn]=this.pageTranslationToScreen(hn,tn);const[gn,Sn]=this.pageDimensions,[rn,Xt]=this.pageTranslation;let Yt,Jt;switch(this.rotation){case 0:Yt=en+(cn[0]-rn)/gn,Jt=on+this.height-(cn[1]-Xt)/Sn;break;case 90:Yt=en+(cn[0]-rn)/gn,Jt=on-(cn[1]-Xt)/Sn,[hn,tn]=[tn,-hn];break;case 180:Yt=en-this.width+(cn[0]-rn)/gn,Jt=on-(cn[1]-Xt)/Sn,[hn,tn]=[-hn,-tn];break;case 270:Yt=en+(cn[0]-rn-this.height*Sn)/gn,Jt=on+(cn[1]-Xt-this.width*gn)/Sn,[hn,tn]=[-tn,hn];break}this.setAt(Yt*dn,Jt*En,hn,tn)}else this.setAt(en*dn,on*En,this.width*dn,this.height*En);Ut(this,Ft,U1).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(en,on,_n){let dn=null;if(en instanceof Et.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:cn,fontColor:hn},rect:tn,rotation:gn,id:Sn},textContent:rn,textPosition:Xt,parent:{page:{pageNumber:Yt}}}=en;if(!rn||rn.length===0)return null;dn=en={annotationType:vt.AnnotationEditorType.FREETEXT,color:Array.from(hn),fontSize:cn,value:rn.join(`
`),position:Xt,pageIndex:Yt-1,rect:tn,rotation:gn,id:Sn,deleted:!1}}const En=super.deserialize(en,on,_n);return Wt(En,Dt,en.fontSize),Wt(En,Pt,vt.Util.makeHexColor(...en.color)),Wt(En,kt,en.value),En.annotationElementId=en.id||null,Wt(En,$t,dn),En}serialize(en=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const on=Kt._internalPadding*this.parentScale,_n=this.getRect(on,on),dn=xt.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_t(this,Pt)),En={annotationType:vt.AnnotationEditorType.FREETEXT,color:dn,fontSize:_t(this,Dt),value:_t(this,kt),pageIndex:this.pageIndex,rect:_n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return en?En:this.annotationElementId&&!Ut(this,Ft,r_).call(this,En)?null:(En.id=this.annotationElementId,En)}};wt=new WeakMap,Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Dt=new WeakMap,$t=new WeakMap,Ft=new WeakSet,t_=function(en){const on=dn=>{this.editorDiv.style.fontSize=`calc(${dn}px * var(--scale-factor))`,this.translate(0,-(dn-_t(this,Dt))*this.parentScale),Wt(this,Dt,dn),Ut(this,Ft,b0).call(this)},_n=_t(this,Dt);this.addCommands({cmd:()=>{on(en)},undo:()=>{on(_n)},mustExec:!0,type:vt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},n_=function(en){const on=_t(this,Pt);this.addCommands({cmd:()=>{Wt(this,Pt,this.editorDiv.style.color=en)},undo:()=>{Wt(this,Pt,this.editorDiv.style.color=on)},mustExec:!0,type:vt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},i_=function(){const en=this.editorDiv.getElementsByTagName("div");if(en.length===0)return this.editorDiv.innerText;const on=[];for(const _n of en)on.push(_n.innerText.replace(/\r\n?|\n/,""));return on.join(`
`)},b0=function(){const[en,on]=this.parentDimensions;let _n;if(this.isAttachedToDOM)_n=this.div.getBoundingClientRect();else{const{currentLayer:dn,div:En}=this,cn=En.style.display;En.style.display="hidden",dn.div.append(this.div),_n=En.getBoundingClientRect(),En.remove(),En.style.display=cn}this.rotation%180===this.parentRotation%180?(this.width=_n.width/en,this.height=_n.height/on):(this.width=_n.height/en,this.height=_n.width/on),this.fixAndSetPosition()},U1=function(){if(this.editorDiv.replaceChildren(),!!_t(this,kt))for(const en of _t(this,kt).split(`
`)){const on=document.createElement("div");on.append(en?document.createTextNode(en):document.createElement("br")),this.editorDiv.append(on)}},r_=function(en){const{value:on,fontSize:_n,color:dn,rect:En,pageIndex:cn}=_t(this,$t);return en.value!==on||en.fontSize!==_n||en.rect.some((hn,tn)=>Math.abs(hn-En[tn])>=1)||en.color.some((hn,tn)=>hn!==dn[tn])||en.pageIndex!==cn},z1=function(en=!1){if(!this.annotationElementId)return;if(Ut(this,Ft,b0).call(this),!en&&(this.width===0||this.height===0)){setTimeout(()=>Ut(this,Ft,z1).call(this,!0),0);return}const on=Kt._internalPadding*this.parentScale;_t(this,$t).rect=this.getRect(on,on)},wr(Kt,"_freeTextDefaultContent",""),wr(Kt,"_internalPadding",0),wr(Kt,"_defaultColor",null),wr(Kt,"_defaultFontSize",10),wr(Kt,"_type","freetext");let At=Kt;$.FreeTextEditor=At},(ht,$,_e)=>{var Jt,ln,Yu,s_,jn,Un,zn,Gn,Yn,Zn,Dn,$n,sn,mn,Pn,On,Wn,Qn,qn,Tn,or,nr,o_,By,W1,V1,_r,Ur,is,Xn,kn,Fn,dr,G1,Tr,vn,Vn,sr,a_,X1;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var vt=_e(1),bt=_e(6),xt=_e(3),Et=_e(30),At=_e(31),wt=_e(32);const Ct=1e3,St=9,Rt=new WeakSet;function Pt(ur){return{width:ur[2]-ur[0],height:ur[3]-ur[1]}}class kt{static create(pn){switch(pn.data.annotationType){case vt.AnnotationType.LINK:return new Dt(pn);case vt.AnnotationType.TEXT:return new $t(pn);case vt.AnnotationType.WIDGET:switch(pn.data.fieldType){case"Tx":return new Lt(pn);case"Btn":return pn.data.radioButton?new Nt(pn):pn.data.checkBox?new Ht(pn):new Bt(pn);case"Ch":return new jt(pn);case"Sig":return new Ot(pn)}return new Ft(pn);case vt.AnnotationType.POPUP:return new zt(pn);case vt.AnnotationType.FREETEXT:return new nn(pn);case vt.AnnotationType.LINE:return new qt(pn);case vt.AnnotationType.SQUARE:return new en(pn);case vt.AnnotationType.CIRCLE:return new on(pn);case vt.AnnotationType.POLYLINE:return new _n(pn);case vt.AnnotationType.CARET:return new En(pn);case vt.AnnotationType.INK:return new cn(pn);case vt.AnnotationType.POLYGON:return new dn(pn);case vt.AnnotationType.HIGHLIGHT:return new hn(pn);case vt.AnnotationType.UNDERLINE:return new tn(pn);case vt.AnnotationType.SQUIGGLY:return new gn(pn);case vt.AnnotationType.STRIKEOUT:return new Sn(pn);case vt.AnnotationType.STAMP:return new rn(pn);case vt.AnnotationType.FILEATTACHMENT:return new Xt(pn);default:return new Mt(pn)}}}const un=class un{constructor(pn,{isRenderable:an=!1,ignoreBorder:wn=!1,createQuadrilaterals:Hn=!1}={}){Gt(this,Jt,!1);this.isRenderable=an,this.data=pn.data,this.layer=pn.layer,this.linkService=pn.linkService,this.downloadManager=pn.downloadManager,this.imageResourcesPath=pn.imageResourcesPath,this.renderForms=pn.renderForms,this.svgFactory=pn.svgFactory,this.annotationStorage=pn.annotationStorage,this.enableScripting=pn.enableScripting,this.hasJSActions=pn.hasJSActions,this._fieldObjects=pn.fieldObjects,this.parent=pn.parent,an&&(this.container=this._createContainer(wn)),Hn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:pn,contentsObj:an,richText:wn}){return!!(pn!=null&&pn.str||an!=null&&an.str||wn!=null&&wn.str)}get hasPopupData(){return un._hasPopupData(this.data)}_createContainer(pn){const{data:an,parent:{page:wn,viewport:Hn}}=this,Bn=document.createElement("section");Bn.setAttribute("data-annotation-id",an.id),this instanceof Ft||(Bn.tabIndex=Ct),Bn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Bn.setAttribute("aria-haspopup","dialog"),an.noRotate&&Bn.classList.add("norotate");const{pageWidth:Kn,pageHeight:tr,pageX:vr,pageY:fr}=Hn.rawDims;if(!an.rect||this instanceof zt){const{rotation:Dr}=an;return!an.hasOwnCanvas&&Dr!==0&&this.setRotation(Dr,Bn),Bn}const{width:lr,height:Hr}=Pt(an.rect),pr=vt.Util.normalizeRect([an.rect[0],wn.view[3]-an.rect[1]+wn.view[1],an.rect[2],wn.view[3]-an.rect[3]+wn.view[1]]);if(!pn&&an.borderStyle.width>0){Bn.style.borderWidth=`${an.borderStyle.width}px`;const Dr=an.borderStyle.horizontalCornerRadius,Vr=an.borderStyle.verticalCornerRadius;if(Dr>0||Vr>0){const hs=`calc(${Dr}px * var(--scale-factor)) / calc(${Vr}px * var(--scale-factor))`;Bn.style.borderRadius=hs}else if(this instanceof Nt){const hs=`calc(${lr}px * var(--scale-factor)) / calc(${Hr}px * var(--scale-factor))`;Bn.style.borderRadius=hs}switch(an.borderStyle.style){case vt.AnnotationBorderStyleType.SOLID:Bn.style.borderStyle="solid";break;case vt.AnnotationBorderStyleType.DASHED:Bn.style.borderStyle="dashed";break;case vt.AnnotationBorderStyleType.BEVELED:(0,vt.warn)("Unimplemented border style: beveled");break;case vt.AnnotationBorderStyleType.INSET:(0,vt.warn)("Unimplemented border style: inset");break;case vt.AnnotationBorderStyleType.UNDERLINE:Bn.style.borderBottomStyle="solid";break}const es=an.borderColor||null;es?(Wt(this,Jt,!0),Bn.style.borderColor=vt.Util.makeHexColor(es[0]|0,es[1]|0,es[2]|0)):Bn.style.borderWidth=0}Bn.style.left=`${100*(pr[0]-vr)/Kn}%`,Bn.style.top=`${100*(pr[1]-fr)/tr}%`;const{rotation:xr}=an;return an.hasOwnCanvas||xr===0?(Bn.style.width=`${100*lr/Kn}%`,Bn.style.height=`${100*Hr/tr}%`):this.setRotation(xr,Bn),Bn}setRotation(pn,an=this.container){if(!this.data.rect)return;const{pageWidth:wn,pageHeight:Hn}=this.parent.viewport.rawDims,{width:Bn,height:Kn}=Pt(this.data.rect);let tr,vr;pn%180===0?(tr=100*Bn/wn,vr=100*Kn/Hn):(tr=100*Kn/wn,vr=100*Bn/Hn),an.style.width=`${tr}%`,an.style.height=`${vr}%`,an.setAttribute("data-main-rotation",(360-pn)%360)}get _commonActions(){const pn=(an,wn,Hn)=>{const Bn=Hn.detail[an],Kn=Bn[0],tr=Bn.slice(1);Hn.target.style[wn]=Et.ColorConverters[`${Kn}_HTML`](tr),this.annotationStorage.setValue(this.data.id,{[wn]:Et.ColorConverters[`${Kn}_rgb`](tr)})};return(0,vt.shadow)(this,"_commonActions",{display:an=>{const{display:wn}=an.detail,Hn=wn%2===1;this.container.style.visibility=Hn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Hn,noPrint:wn===1||wn===2})},print:an=>{this.annotationStorage.setValue(this.data.id,{noPrint:!an.detail.print})},hidden:an=>{const{hidden:wn}=an.detail;this.container.style.visibility=wn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:wn,noView:wn})},focus:an=>{setTimeout(()=>an.target.focus({preventScroll:!1}),0)},userName:an=>{an.target.title=an.detail.userName},readonly:an=>{an.target.disabled=an.detail.readonly},required:an=>{this._setRequired(an.target,an.detail.required)},bgColor:an=>{pn("bgColor","backgroundColor",an)},fillColor:an=>{pn("fillColor","backgroundColor",an)},fgColor:an=>{pn("fgColor","color",an)},textColor:an=>{pn("textColor","color",an)},borderColor:an=>{pn("borderColor","borderColor",an)},strokeColor:an=>{pn("strokeColor","borderColor",an)},rotation:an=>{const wn=an.detail.rotation;this.setRotation(wn),this.annotationStorage.setValue(this.data.id,{rotation:wn})}})}_dispatchEventFromSandbox(pn,an){const wn=this._commonActions;for(const Hn of Object.keys(an.detail)){const Bn=pn[Hn]||wn[Hn];Bn==null||Bn(an)}}_setDefaultPropertiesFromJS(pn){if(!this.enableScripting)return;const an=this.annotationStorage.getRawValue(this.data.id);if(!an)return;const wn=this._commonActions;for(const[Hn,Bn]of Object.entries(an)){const Kn=wn[Hn];if(Kn){const tr={detail:{[Hn]:Bn},target:pn};Kn(tr),delete an[Hn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:pn}=this.data;if(!pn)return;const[an,wn,Hn,Bn]=this.data.rect;if(pn.length===1){const[,{x:Vr,y:es},{x:hs,y:Hs}]=pn[0];if(Hn===Vr&&Bn===es&&an===hs&&wn===Hs)return}const{style:Kn}=this.container;let tr;if(_t(this,Jt)){const{borderColor:Vr,borderWidth:es}=Kn;Kn.borderWidth=0,tr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Vr}" stroke-width="${es}">`],this.container.classList.add("hasBorder")}const vr=Hn-an,fr=Bn-wn,{svgFactory:lr}=this,Hr=lr.createElement("svg");Hr.classList.add("quadrilateralsContainer"),Hr.setAttribute("width",0),Hr.setAttribute("height",0);const pr=lr.createElement("defs");Hr.append(pr);const xr=lr.createElement("clipPath"),Dr=`clippath_${this.data.id}`;xr.setAttribute("id",Dr),xr.setAttribute("clipPathUnits","objectBoundingBox"),pr.append(xr);for(const[,{x:Vr,y:es},{x:hs,y:Hs}]of pn){const ks=lr.createElement("rect"),jo=(hs-an)/vr,na=(Bn-es)/fr,ga=(Vr-hs)/vr,ny=(es-Hs)/fr;ks.setAttribute("x",jo),ks.setAttribute("y",na),ks.setAttribute("width",ga),ks.setAttribute("height",ny),xr.append(ks),tr==null||tr.push(`<rect vector-effect="non-scaling-stroke" x="${jo}" y="${na}" width="${ga}" height="${ny}"/>`)}_t(this,Jt)&&(tr.push("</g></svg>')"),Kn.backgroundImage=tr.join("")),this.container.append(Hr),this.container.style.clipPath=`url(#${Dr})`}_createPopup(){const{container:pn,data:an}=this;pn.setAttribute("aria-haspopup","dialog");const wn=new zt({data:{color:an.color,titleObj:an.titleObj,modificationDate:an.modificationDate,contentsObj:an.contentsObj,richText:an.richText,parentRect:an.rect,borderStyle:0,id:`popup_${an.id}`,rotation:an.rotation},parent:this.parent,elements:[this]});this.parent.div.append(wn.render())}render(){(0,vt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(pn,an=null){const wn=[];if(this._fieldObjects){const Hn=this._fieldObjects[pn];if(Hn)for(const{page:Bn,id:Kn,exportValues:tr}of Hn){if(Bn===-1||Kn===an)continue;const vr=typeof tr=="string"?tr:null,fr=document.querySelector(`[data-element-id="${Kn}"]`);if(fr&&!Rt.has(fr)){(0,vt.warn)(`_getElementsByName - element not allowed: ${Kn}`);continue}wn.push({id:Kn,exportValue:vr,domElement:fr})}return wn}for(const Hn of document.getElementsByName(pn)){const{exportValue:Bn}=Hn,Kn=Hn.getAttribute("data-element-id");Kn!==an&&Rt.has(Hn)&&wn.push({id:Kn,exportValue:Bn,domElement:Hn})}return wn}show(){var pn;this.container&&(this.container.hidden=!1),(pn=this.popup)==null||pn.maybeShow()}hide(){var pn;this.container&&(this.container.hidden=!0),(pn=this.popup)==null||pn.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const pn=this.getElementsToTriggerPopup();if(Array.isArray(pn))for(const an of pn)an.classList.add("highlightArea");else pn.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:pn,data:{id:an}}=this;this.container.addEventListener("dblclick",()=>{var wn;(wn=this.linkService.eventBus)==null||wn.dispatch("switchannotationeditormode",{source:this,mode:pn,editId:an})})}};Jt=new WeakMap;let Mt=un;class Dt extends Mt{constructor(an,wn=null){super(an,{isRenderable:!0,ignoreBorder:!!(wn!=null&&wn.ignoreBorder),createQuadrilaterals:!0});Gt(this,ln);this.isTooltipOnly=an.data.isTooltipOnly}render(){const{data:an,linkService:wn}=this,Hn=document.createElement("a");Hn.setAttribute("data-element-id",an.id);let Bn=!1;return an.url?(wn.addLinkAttributes(Hn,an.url,an.newWindow),Bn=!0):an.action?(this._bindNamedAction(Hn,an.action),Bn=!0):an.attachment?(this._bindAttachment(Hn,an.attachment),Bn=!0):an.setOCGState?(Ut(this,ln,s_).call(this,Hn,an.setOCGState),Bn=!0):an.dest?(this._bindLink(Hn,an.dest),Bn=!0):(an.actions&&(an.actions.Action||an.actions["Mouse Up"]||an.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Hn,an),Bn=!0),an.resetForm?(this._bindResetFormAction(Hn,an.resetForm),Bn=!0):this.isTooltipOnly&&!Bn&&(this._bindLink(Hn,""),Bn=!0)),this.container.classList.add("linkAnnotation"),Bn&&this.container.append(Hn),this.container}_bindLink(an,wn){an.href=this.linkService.getDestinationHash(wn),an.onclick=()=>(wn&&this.linkService.goToDestination(wn),!1),(wn||wn==="")&&Ut(this,ln,Yu).call(this)}_bindNamedAction(an,wn){an.href=this.linkService.getAnchorUrl(""),an.onclick=()=>(this.linkService.executeNamedAction(wn),!1),Ut(this,ln,Yu).call(this)}_bindAttachment(an,wn){an.href=this.linkService.getAnchorUrl(""),an.onclick=()=>{var Hn;return(Hn=this.downloadManager)==null||Hn.openOrDownloadData(this.container,wn.content,wn.filename),!1},Ut(this,ln,Yu).call(this)}_bindJSAction(an,wn){an.href=this.linkService.getAnchorUrl("");const Hn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Bn of Object.keys(wn.actions)){const Kn=Hn.get(Bn);Kn&&(an[Kn]=()=>{var tr;return(tr=this.linkService.eventBus)==null||tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wn.id,name:Bn}}),!1})}an.onclick||(an.onclick=()=>!1),Ut(this,ln,Yu).call(this)}_bindResetFormAction(an,wn){const Hn=an.onclick;if(Hn||(an.href=this.linkService.getAnchorUrl("")),Ut(this,ln,Yu).call(this),!this._fieldObjects){(0,vt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Hn||(an.onclick=()=>!1);return}an.onclick=()=>{var Hr;Hn==null||Hn();const{fields:Bn,refs:Kn,include:tr}=wn,vr=[];if(Bn.length!==0||Kn.length!==0){const pr=new Set(Kn);for(const xr of Bn){const Dr=this._fieldObjects[xr]||[];for(const{id:Vr}of Dr)pr.add(Vr)}for(const xr of Object.values(this._fieldObjects))for(const Dr of xr)pr.has(Dr.id)===tr&&vr.push(Dr)}else for(const pr of Object.values(this._fieldObjects))vr.push(...pr);const fr=this.annotationStorage,lr=[];for(const pr of vr){const{id:xr}=pr;switch(lr.push(xr),pr.type){case"text":{const Vr=pr.defaultValue||"";fr.setValue(xr,{value:Vr});break}case"checkbox":case"radiobutton":{const Vr=pr.defaultValue===pr.exportValues;fr.setValue(xr,{value:Vr});break}case"combobox":case"listbox":{const Vr=pr.defaultValue||"";fr.setValue(xr,{value:Vr});break}default:continue}const Dr=document.querySelector(`[data-element-id="${xr}"]`);if(Dr){if(!Rt.has(Dr)){(0,vt.warn)(`_bindResetFormAction - element not allowed: ${xr}`);continue}}else continue;Dr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Hr=this.linkService.eventBus)==null||Hr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:lr,name:"ResetForm"}})),!1}}}ln=new WeakSet,Yu=function(){this.container.setAttribute("data-internal-link","")},s_=function(an,wn){an.href=this.linkService.getAnchorUrl(""),an.onclick=()=>(this.linkService.executeSetOCGState(wn),!1),Ut(this,ln,Yu).call(this)};class $t extends Mt{constructor(pn){super(pn,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const pn=document.createElement("img");return pn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",pn.alt="[{{type}} Annotation]",pn.dataset.l10nId="text_annotation_type",pn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(pn),this.container}}class Ft extends Mt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(pn){var an;this.data.hasOwnCanvas&&(((an=pn.previousSibling)==null?void 0:an.nodeName)==="CANVAS"&&(pn.previousSibling.hidden=!0),pn.hidden=!1)}_getKeyModifier(pn){const{isWin:an,isMac:wn}=vt.FeatureTest.platform;return an&&pn.ctrlKey||wn&&pn.metaKey}_setEventListener(pn,an,wn,Hn,Bn){wn.includes("mouse")?pn.addEventListener(wn,Kn=>{var tr;(tr=this.linkService.eventBus)==null||tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Hn,value:Bn(Kn),shift:Kn.shiftKey,modifier:this._getKeyModifier(Kn)}})}):pn.addEventListener(wn,Kn=>{var tr;if(wn==="blur"){if(!an.focused||!Kn.relatedTarget)return;an.focused=!1}else if(wn==="focus"){if(an.focused)return;an.focused=!0}Bn&&((tr=this.linkService.eventBus)==null||tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Hn,value:Bn(Kn)}}))})}_setEventListeners(pn,an,wn,Hn){var Bn,Kn,tr;for(const[vr,fr]of wn)(fr==="Action"||(Bn=this.data.actions)!=null&&Bn[fr])&&((fr==="Focus"||fr==="Blur")&&(an||(an={focused:!1})),this._setEventListener(pn,an,vr,fr,Hn),fr==="Focus"&&!((Kn=this.data.actions)!=null&&Kn.Blur)?this._setEventListener(pn,an,"blur","Blur",null):fr==="Blur"&&!((tr=this.data.actions)!=null&&tr.Focus)&&this._setEventListener(pn,an,"focus","Focus",null))}_setBackgroundColor(pn){const an=this.data.backgroundColor||null;pn.style.backgroundColor=an===null?"transparent":vt.Util.makeHexColor(an[0],an[1],an[2])}_setTextStyle(pn){const an=["left","center","right"],{fontColor:wn}=this.data.defaultAppearanceData,Hn=this.data.defaultAppearanceData.fontSize||St,Bn=pn.style;let Kn;const tr=2,vr=fr=>Math.round(10*fr)/10;if(this.data.multiLine){const fr=Math.abs(this.data.rect[3]-this.data.rect[1]-tr),lr=Math.round(fr/(vt.LINE_FACTOR*Hn))||1,Hr=fr/lr;Kn=Math.min(Hn,vr(Hr/vt.LINE_FACTOR))}else{const fr=Math.abs(this.data.rect[3]-this.data.rect[1]-tr);Kn=Math.min(Hn,vr(fr/vt.LINE_FACTOR))}Bn.fontSize=`calc(${Kn}px * var(--scale-factor))`,Bn.color=vt.Util.makeHexColor(wn[0],wn[1],wn[2]),this.data.textAlignment!==null&&(Bn.textAlign=an[this.data.textAlignment])}_setRequired(pn,an){an?pn.setAttribute("required",!0):pn.removeAttribute("required"),pn.setAttribute("aria-required",an)}}class Lt extends Ft{constructor(pn){const an=pn.renderForms||!pn.data.hasAppearance&&!!pn.data.fieldValue;super(pn,{isRenderable:an})}setPropertyOnSiblings(pn,an,wn,Hn){const Bn=this.annotationStorage;for(const Kn of this._getElementsByName(pn.name,pn.id))Kn.domElement&&(Kn.domElement[an]=wn),Bn.setValue(Kn.id,{[Hn]:wn})}render(){var Hn,Bn;const pn=this.annotationStorage,an=this.data.id;this.container.classList.add("textWidgetAnnotation");let wn=null;if(this.renderForms){const Kn=pn.getValue(an,{value:this.data.fieldValue});let tr=Kn.value||"";const vr=pn.getValue(an,{charLimit:this.data.maxLen}).charLimit;vr&&tr.length>vr&&(tr=tr.slice(0,vr));let fr=Kn.formattedValue||((Hn=this.data.textContent)==null?void 0:Hn.join(`
`))||null;fr&&this.data.comb&&(fr=fr.replaceAll(/\s+/g,""));const lr={userValue:tr,formattedValue:fr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(wn=document.createElement("textarea"),wn.textContent=fr??tr,this.data.doNotScroll&&(wn.style.overflowY="hidden")):(wn=document.createElement("input"),wn.type="text",wn.setAttribute("value",fr??tr),this.data.doNotScroll&&(wn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(wn.hidden=!0),Rt.add(wn),wn.setAttribute("data-element-id",an),wn.disabled=this.data.readOnly,wn.name=this.data.fieldName,wn.tabIndex=Ct,this._setRequired(wn,this.data.required),vr&&(wn.maxLength=vr),wn.addEventListener("input",pr=>{pn.setValue(an,{value:pr.target.value}),this.setPropertyOnSiblings(wn,"value",pr.target.value,"value"),lr.formattedValue=null}),wn.addEventListener("resetform",pr=>{const xr=this.data.defaultFieldValue??"";wn.value=lr.userValue=xr,lr.formattedValue=null});let Hr=pr=>{const{formattedValue:xr}=lr;xr!=null&&(pr.target.value=xr),pr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){wn.addEventListener("focus",xr=>{if(lr.focused)return;const{target:Dr}=xr;lr.userValue&&(Dr.value=lr.userValue),lr.lastCommittedValue=Dr.value,lr.commitKey=1,lr.focused=!0}),wn.addEventListener("updatefromsandbox",xr=>{this.showElementAndHideCanvas(xr.target);const Dr={value(Vr){lr.userValue=Vr.detail.value??"",pn.setValue(an,{value:lr.userValue.toString()}),Vr.target.value=lr.userValue},formattedValue(Vr){const{formattedValue:es}=Vr.detail;lr.formattedValue=es,es!=null&&Vr.target!==document.activeElement&&(Vr.target.value=es),pn.setValue(an,{formattedValue:es})},selRange(Vr){Vr.target.setSelectionRange(...Vr.detail.selRange)},charLimit:Vr=>{var ks;const{charLimit:es}=Vr.detail,{target:hs}=Vr;if(es===0){hs.removeAttribute("maxLength");return}hs.setAttribute("maxLength",es);let Hs=lr.userValue;!Hs||Hs.length<=es||(Hs=Hs.slice(0,es),hs.value=lr.userValue=Hs,pn.setValue(an,{value:Hs}),(ks=this.linkService.eventBus)==null||ks.dispatch("dispatcheventinsandbox",{source:this,detail:{id:an,name:"Keystroke",value:Hs,willCommit:!0,commitKey:1,selStart:hs.selectionStart,selEnd:hs.selectionEnd}}))}};this._dispatchEventFromSandbox(Dr,xr)}),wn.addEventListener("keydown",xr=>{var es;lr.commitKey=1;let Dr=-1;if(xr.key==="Escape"?Dr=0:xr.key==="Enter"&&!this.data.multiLine?Dr=2:xr.key==="Tab"&&(lr.commitKey=3),Dr===-1)return;const{value:Vr}=xr.target;lr.lastCommittedValue!==Vr&&(lr.lastCommittedValue=Vr,lr.userValue=Vr,(es=this.linkService.eventBus)==null||es.dispatch("dispatcheventinsandbox",{source:this,detail:{id:an,name:"Keystroke",value:Vr,willCommit:!0,commitKey:Dr,selStart:xr.target.selectionStart,selEnd:xr.target.selectionEnd}}))});const pr=Hr;Hr=null,wn.addEventListener("blur",xr=>{var Vr;if(!lr.focused||!xr.relatedTarget)return;lr.focused=!1;const{value:Dr}=xr.target;lr.userValue=Dr,lr.lastCommittedValue!==Dr&&((Vr=this.linkService.eventBus)==null||Vr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:an,name:"Keystroke",value:Dr,willCommit:!0,commitKey:lr.commitKey,selStart:xr.target.selectionStart,selEnd:xr.target.selectionEnd}})),pr(xr)}),(Bn=this.data.actions)!=null&&Bn.Keystroke&&wn.addEventListener("beforeinput",xr=>{var na;lr.lastCommittedValue=null;const{data:Dr,target:Vr}=xr,{value:es,selectionStart:hs,selectionEnd:Hs}=Vr;let ks=hs,jo=Hs;switch(xr.inputType){case"deleteWordBackward":{const ga=es.substring(0,hs).match(/\w*[^\w]*$/);ga&&(ks-=ga[0].length);break}case"deleteWordForward":{const ga=es.substring(hs).match(/^[^\w]*\w*/);ga&&(jo+=ga[0].length);break}case"deleteContentBackward":hs===Hs&&(ks-=1);break;case"deleteContentForward":hs===Hs&&(jo+=1);break}xr.preventDefault(),(na=this.linkService.eventBus)==null||na.dispatch("dispatcheventinsandbox",{source:this,detail:{id:an,name:"Keystroke",value:es,change:Dr||"",willCommit:!1,selStart:ks,selEnd:jo}})}),this._setEventListeners(wn,lr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],xr=>xr.target.value)}if(Hr&&wn.addEventListener("blur",Hr),this.data.comb){const xr=(this.data.rect[2]-this.data.rect[0])/vr;wn.classList.add("comb"),wn.style.letterSpacing=`calc(${xr}px * var(--scale-factor) - 1ch)`}}else wn=document.createElement("div"),wn.textContent=this.data.fieldValue,wn.style.verticalAlign="middle",wn.style.display="table-cell";return this._setTextStyle(wn),this._setBackgroundColor(wn),this._setDefaultPropertiesFromJS(wn),this.container.append(wn),this.container}}class Ot extends Ft{constructor(pn){super(pn,{isRenderable:!!pn.data.hasOwnCanvas})}}class Ht extends Ft{constructor(pn){super(pn,{isRenderable:pn.renderForms})}render(){const pn=this.annotationStorage,an=this.data,wn=an.id;let Hn=pn.getValue(wn,{value:an.exportValue===an.fieldValue}).value;typeof Hn=="string"&&(Hn=Hn!=="Off",pn.setValue(wn,{value:Hn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Bn=document.createElement("input");return Rt.add(Bn),Bn.setAttribute("data-element-id",wn),Bn.disabled=an.readOnly,this._setRequired(Bn,this.data.required),Bn.type="checkbox",Bn.name=an.fieldName,Hn&&Bn.setAttribute("checked",!0),Bn.setAttribute("exportValue",an.exportValue),Bn.tabIndex=Ct,Bn.addEventListener("change",Kn=>{const{name:tr,checked:vr}=Kn.target;for(const fr of this._getElementsByName(tr,wn)){const lr=vr&&fr.exportValue===an.exportValue;fr.domElement&&(fr.domElement.checked=lr),pn.setValue(fr.id,{value:lr})}pn.setValue(wn,{value:vr})}),Bn.addEventListener("resetform",Kn=>{const tr=an.defaultFieldValue||"Off";Kn.target.checked=tr===an.exportValue}),this.enableScripting&&this.hasJSActions&&(Bn.addEventListener("updatefromsandbox",Kn=>{const tr={value(vr){vr.target.checked=vr.detail.value!=="Off",pn.setValue(wn,{value:vr.target.checked})}};this._dispatchEventFromSandbox(tr,Kn)}),this._setEventListeners(Bn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Kn=>Kn.target.checked)),this._setBackgroundColor(Bn),this._setDefaultPropertiesFromJS(Bn),this.container.append(Bn),this.container}}class Nt extends Ft{constructor(pn){super(pn,{isRenderable:pn.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const pn=this.annotationStorage,an=this.data,wn=an.id;let Hn=pn.getValue(wn,{value:an.fieldValue===an.buttonValue}).value;typeof Hn=="string"&&(Hn=Hn!==an.buttonValue,pn.setValue(wn,{value:Hn}));const Bn=document.createElement("input");if(Rt.add(Bn),Bn.setAttribute("data-element-id",wn),Bn.disabled=an.readOnly,this._setRequired(Bn,this.data.required),Bn.type="radio",Bn.name=an.fieldName,Hn&&Bn.setAttribute("checked",!0),Bn.tabIndex=Ct,Bn.addEventListener("change",Kn=>{const{name:tr,checked:vr}=Kn.target;for(const fr of this._getElementsByName(tr,wn))pn.setValue(fr.id,{value:!1});pn.setValue(wn,{value:vr})}),Bn.addEventListener("resetform",Kn=>{const tr=an.defaultFieldValue;Kn.target.checked=tr!=null&&tr===an.buttonValue}),this.enableScripting&&this.hasJSActions){const Kn=an.buttonValue;Bn.addEventListener("updatefromsandbox",tr=>{const vr={value:fr=>{const lr=Kn===fr.detail.value;for(const Hr of this._getElementsByName(fr.target.name)){const pr=lr&&Hr.id===wn;Hr.domElement&&(Hr.domElement.checked=pr),pn.setValue(Hr.id,{value:pr})}}};this._dispatchEventFromSandbox(vr,tr)}),this._setEventListeners(Bn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],tr=>tr.target.checked)}return this._setBackgroundColor(Bn),this._setDefaultPropertiesFromJS(Bn),this.container.append(Bn),this.container}}class Bt extends Dt{constructor(pn){super(pn,{ignoreBorder:pn.data.hasAppearance})}render(){const pn=super.render();pn.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(pn.title=this.data.alternativeText);const an=pn.lastChild;return this.enableScripting&&this.hasJSActions&&an&&(this._setDefaultPropertiesFromJS(an),an.addEventListener("updatefromsandbox",wn=>{this._dispatchEventFromSandbox({},wn)})),pn}}class jt extends Ft{constructor(pn){super(pn,{isRenderable:pn.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const pn=this.annotationStorage,an=this.data.id,wn=pn.getValue(an,{value:this.data.fieldValue}),Hn=document.createElement("select");Rt.add(Hn),Hn.setAttribute("data-element-id",an),Hn.disabled=this.data.readOnly,this._setRequired(Hn,this.data.required),Hn.name=this.data.fieldName,Hn.tabIndex=Ct;let Bn=this.data.combo&&this.data.options.length>0;this.data.combo||(Hn.size=this.data.options.length,this.data.multiSelect&&(Hn.multiple=!0)),Hn.addEventListener("resetform",lr=>{const Hr=this.data.defaultFieldValue;for(const pr of Hn.options)pr.selected=pr.value===Hr});for(const lr of this.data.options){const Hr=document.createElement("option");Hr.textContent=lr.displayValue,Hr.value=lr.exportValue,wn.value.includes(lr.exportValue)&&(Hr.setAttribute("selected",!0),Bn=!1),Hn.append(Hr)}let Kn=null;if(Bn){const lr=document.createElement("option");lr.value=" ",lr.setAttribute("hidden",!0),lr.setAttribute("selected",!0),Hn.prepend(lr),Kn=()=>{lr.remove(),Hn.removeEventListener("input",Kn),Kn=null},Hn.addEventListener("input",Kn)}const tr=lr=>{const Hr=lr?"value":"textContent",{options:pr,multiple:xr}=Hn;return xr?Array.prototype.filter.call(pr,Dr=>Dr.selected).map(Dr=>Dr[Hr]):pr.selectedIndex===-1?null:pr[pr.selectedIndex][Hr]};let vr=tr(!1);const fr=lr=>{const Hr=lr.target.options;return Array.prototype.map.call(Hr,pr=>({displayValue:pr.textContent,exportValue:pr.value}))};return this.enableScripting&&this.hasJSActions?(Hn.addEventListener("updatefromsandbox",lr=>{const Hr={value(pr){Kn==null||Kn();const xr=pr.detail.value,Dr=new Set(Array.isArray(xr)?xr:[xr]);for(const Vr of Hn.options)Vr.selected=Dr.has(Vr.value);pn.setValue(an,{value:tr(!0)}),vr=tr(!1)},multipleSelection(pr){Hn.multiple=!0},remove(pr){const xr=Hn.options,Dr=pr.detail.remove;xr[Dr].selected=!1,Hn.remove(Dr),xr.length>0&&Array.prototype.findIndex.call(xr,es=>es.selected)===-1&&(xr[0].selected=!0),pn.setValue(an,{value:tr(!0),items:fr(pr)}),vr=tr(!1)},clear(pr){for(;Hn.length!==0;)Hn.remove(0);pn.setValue(an,{value:null,items:[]}),vr=tr(!1)},insert(pr){const{index:xr,displayValue:Dr,exportValue:Vr}=pr.detail.insert,es=Hn.children[xr],hs=document.createElement("option");hs.textContent=Dr,hs.value=Vr,es?es.before(hs):Hn.append(hs),pn.setValue(an,{value:tr(!0),items:fr(pr)}),vr=tr(!1)},items(pr){const{items:xr}=pr.detail;for(;Hn.length!==0;)Hn.remove(0);for(const Dr of xr){const{displayValue:Vr,exportValue:es}=Dr,hs=document.createElement("option");hs.textContent=Vr,hs.value=es,Hn.append(hs)}Hn.options.length>0&&(Hn.options[0].selected=!0),pn.setValue(an,{value:tr(!0),items:fr(pr)}),vr=tr(!1)},indices(pr){const xr=new Set(pr.detail.indices);for(const Dr of pr.target.options)Dr.selected=xr.has(Dr.index);pn.setValue(an,{value:tr(!0)}),vr=tr(!1)},editable(pr){pr.target.disabled=!pr.detail.editable}};this._dispatchEventFromSandbox(Hr,lr)}),Hn.addEventListener("input",lr=>{var pr;const Hr=tr(!0);pn.setValue(an,{value:Hr}),lr.preventDefault(),(pr=this.linkService.eventBus)==null||pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:an,name:"Keystroke",value:vr,changeEx:Hr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Hn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],lr=>lr.target.value)):Hn.addEventListener("input",function(lr){pn.setValue(an,{value:tr(!0)})}),this.data.combo&&this._setTextStyle(Hn),this._setBackgroundColor(Hn),this._setDefaultPropertiesFromJS(Hn),this.container.append(Hn),this.container}}class zt extends Mt{constructor(pn){const{data:an,elements:wn}=pn;super(pn,{isRenderable:Mt._hasPopupData(an)}),this.elements=wn}render(){this.container.classList.add("popupAnnotation");const pn=new Kt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),an=[];for(const wn of this.elements)wn.popup=pn,an.push(wn.data.id),wn.addHighlightArea();return this.container.setAttribute("aria-controls",an.map(wn=>`${vt.AnnotationPrefix}${wn}`).join(",")),this.container}}class Kt{constructor({container:pn,color:an,elements:wn,titleObj:Hn,modificationDate:Bn,contentsObj:Kn,richText:tr,parent:vr,rect:fr,parentRect:lr,open:Hr}){Gt(this,nr);Gt(this,jn,null);Gt(this,Un,Ut(this,nr,o_).bind(this));Gt(this,zn,Ut(this,nr,V1).bind(this));Gt(this,Gn,Ut(this,nr,W1).bind(this));Gt(this,Yn,Ut(this,nr,By).bind(this));Gt(this,Zn,null);Gt(this,Dn,null);Gt(this,$n,null);Gt(this,sn,null);Gt(this,mn,null);Gt(this,Pn,null);Gt(this,On,!1);Gt(this,Wn,null);Gt(this,Qn,null);Gt(this,qn,null);Gt(this,Tn,null);Gt(this,or,!1);var xr;Wt(this,Dn,pn),Wt(this,Tn,Hn),Wt(this,$n,Kn),Wt(this,qn,tr),Wt(this,mn,vr),Wt(this,Zn,an),Wt(this,Qn,fr),Wt(this,Pn,lr),Wt(this,sn,wn);const pr=bt.PDFDateString.toDateObject(Bn);pr&&Wt(this,jn,vr.l10n.get("annotation_date_string",{date:pr.toLocaleDateString(),time:pr.toLocaleTimeString()})),this.trigger=wn.flatMap(Dr=>Dr.getElementsToTriggerPopup());for(const Dr of this.trigger)Dr.addEventListener("click",_t(this,Yn)),Dr.addEventListener("mouseenter",_t(this,Gn)),Dr.addEventListener("mouseleave",_t(this,zn)),Dr.classList.add("popupTriggerArea");for(const Dr of wn)(xr=Dr.container)==null||xr.addEventListener("keydown",_t(this,Un));_t(this,Dn).hidden=!0,Hr&&Ut(this,nr,By).call(this)}render(){if(_t(this,Wn))return;const{page:{view:pn},viewport:{rawDims:{pageWidth:an,pageHeight:wn,pageX:Hn,pageY:Bn}}}=_t(this,mn),Kn=Wt(this,Wn,document.createElement("div"));if(Kn.className="popup",_t(this,Zn)){const ks=Kn.style.outlineColor=vt.Util.makeHexColor(..._t(this,Zn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Kn.style.backgroundColor=`color-mix(in srgb, ${ks} 30%, white)`:Kn.style.backgroundColor=vt.Util.makeHexColor(..._t(this,Zn).map(na=>Math.floor(.7*(255-na)+na)))}const tr=document.createElement("span");tr.className="header";const vr=document.createElement("h1");if(tr.append(vr),{dir:vr.dir,str:vr.textContent}=_t(this,Tn),Kn.append(tr),_t(this,jn)){const ks=document.createElement("span");ks.classList.add("popupDate"),_t(this,jn).then(jo=>{ks.textContent=jo}),tr.append(ks)}const fr=_t(this,$n),lr=_t(this,qn);if(lr!=null&&lr.str&&(!(fr!=null&&fr.str)||fr.str===lr.str))wt.XfaLayer.render({xfaHtml:lr.html,intent:"richText",div:Kn}),Kn.lastChild.classList.add("richText","popupContent");else{const ks=this._formatContents(fr);Kn.append(ks)}let Hr=!!_t(this,Pn),pr=Hr?_t(this,Pn):_t(this,Qn);for(const ks of _t(this,sn))if(!pr||vt.Util.intersect(ks.data.rect,pr)!==null){pr=ks.data.rect,Hr=!0;break}const xr=vt.Util.normalizeRect([pr[0],pn[3]-pr[1]+pn[1],pr[2],pn[3]-pr[3]+pn[1]]),Vr=Hr?pr[2]-pr[0]+5:0,es=xr[0]+Vr,hs=xr[1],{style:Hs}=_t(this,Dn);Hs.left=`${100*(es-Hn)/an}%`,Hs.top=`${100*(hs-Bn)/wn}%`,_t(this,Dn).append(Kn)}_formatContents({str:pn,dir:an}){const wn=document.createElement("p");wn.classList.add("popupContent"),wn.dir=an;const Hn=pn.split(/(?:\r\n?|\n)/);for(let Bn=0,Kn=Hn.length;Bn<Kn;++Bn){const tr=Hn[Bn];wn.append(document.createTextNode(tr)),Bn<Kn-1&&wn.append(document.createElement("br"))}return wn}forceHide(){Wt(this,or,this.isVisible),_t(this,or)&&(_t(this,Dn).hidden=!0)}maybeShow(){_t(this,or)&&(Wt(this,or,!1),_t(this,Dn).hidden=!1)}get isVisible(){return _t(this,Dn).hidden===!1}}jn=new WeakMap,Un=new WeakMap,zn=new WeakMap,Gn=new WeakMap,Yn=new WeakMap,Zn=new WeakMap,Dn=new WeakMap,$n=new WeakMap,sn=new WeakMap,mn=new WeakMap,Pn=new WeakMap,On=new WeakMap,Wn=new WeakMap,Qn=new WeakMap,qn=new WeakMap,Tn=new WeakMap,or=new WeakMap,nr=new WeakSet,o_=function(pn){pn.altKey||pn.shiftKey||pn.ctrlKey||pn.metaKey||(pn.key==="Enter"||pn.key==="Escape"&&_t(this,On))&&Ut(this,nr,By).call(this)},By=function(){Wt(this,On,!_t(this,On)),_t(this,On)?(Ut(this,nr,W1).call(this),_t(this,Dn).addEventListener("click",_t(this,Yn)),_t(this,Dn).addEventListener("keydown",_t(this,Un))):(Ut(this,nr,V1).call(this),_t(this,Dn).removeEventListener("click",_t(this,Yn)),_t(this,Dn).removeEventListener("keydown",_t(this,Un)))},W1=function(){_t(this,Wn)||this.render(),this.isVisible?_t(this,On)&&_t(this,Dn).classList.add("focused"):(_t(this,Dn).hidden=!1,_t(this,Dn).style.zIndex=parseInt(_t(this,Dn).style.zIndex)+1e3)},V1=function(){_t(this,Dn).classList.remove("focused"),!(_t(this,On)||!this.isVisible)&&(_t(this,Dn).hidden=!0,_t(this,Dn).style.zIndex=parseInt(_t(this,Dn).style.zIndex)-1e3)};class nn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0}),this.textContent=pn.data.textContent,this.textPosition=pn.data.textPosition,this.annotationEditorType=vt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const pn=document.createElement("div");pn.classList.add("annotationTextContent"),pn.setAttribute("role","comment");for(const an of this.textContent){const wn=document.createElement("span");wn.textContent=an,pn.append(wn)}this.container.append(pn)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=nn;class qt extends Mt{constructor(an){super(an,{isRenderable:!0,ignoreBorder:!0});Gt(this,_r,null)}render(){this.container.classList.add("lineAnnotation");const an=this.data,{width:wn,height:Hn}=Pt(an.rect),Bn=this.svgFactory.create(wn,Hn,!0),Kn=Wt(this,_r,this.svgFactory.createElement("svg:line"));return Kn.setAttribute("x1",an.rect[2]-an.lineCoordinates[0]),Kn.setAttribute("y1",an.rect[3]-an.lineCoordinates[1]),Kn.setAttribute("x2",an.rect[2]-an.lineCoordinates[2]),Kn.setAttribute("y2",an.rect[3]-an.lineCoordinates[3]),Kn.setAttribute("stroke-width",an.borderStyle.width||1),Kn.setAttribute("stroke","transparent"),Kn.setAttribute("fill","transparent"),Bn.append(Kn),this.container.append(Bn),!an.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,_r)}addHighlightArea(){this.container.classList.add("highlightArea")}}_r=new WeakMap;class en extends Mt{constructor(an){super(an,{isRenderable:!0,ignoreBorder:!0});Gt(this,Ur,null)}render(){this.container.classList.add("squareAnnotation");const an=this.data,{width:wn,height:Hn}=Pt(an.rect),Bn=this.svgFactory.create(wn,Hn,!0),Kn=an.borderStyle.width,tr=Wt(this,Ur,this.svgFactory.createElement("svg:rect"));return tr.setAttribute("x",Kn/2),tr.setAttribute("y",Kn/2),tr.setAttribute("width",wn-Kn),tr.setAttribute("height",Hn-Kn),tr.setAttribute("stroke-width",Kn||1),tr.setAttribute("stroke","transparent"),tr.setAttribute("fill","transparent"),Bn.append(tr),this.container.append(Bn),!an.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,Ur)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ur=new WeakMap;class on extends Mt{constructor(an){super(an,{isRenderable:!0,ignoreBorder:!0});Gt(this,is,null)}render(){this.container.classList.add("circleAnnotation");const an=this.data,{width:wn,height:Hn}=Pt(an.rect),Bn=this.svgFactory.create(wn,Hn,!0),Kn=an.borderStyle.width,tr=Wt(this,is,this.svgFactory.createElement("svg:ellipse"));return tr.setAttribute("cx",wn/2),tr.setAttribute("cy",Hn/2),tr.setAttribute("rx",wn/2-Kn/2),tr.setAttribute("ry",Hn/2-Kn/2),tr.setAttribute("stroke-width",Kn||1),tr.setAttribute("stroke","transparent"),tr.setAttribute("fill","transparent"),Bn.append(tr),this.container.append(Bn),!an.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,is)}addHighlightArea(){this.container.classList.add("highlightArea")}}is=new WeakMap;class _n extends Mt{constructor(an){super(an,{isRenderable:!0,ignoreBorder:!0});Gt(this,Xn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const an=this.data,{width:wn,height:Hn}=Pt(an.rect),Bn=this.svgFactory.create(wn,Hn,!0);let Kn=[];for(const vr of an.vertices){const fr=vr.x-an.rect[0],lr=an.rect[3]-vr.y;Kn.push(fr+","+lr)}Kn=Kn.join(" ");const tr=Wt(this,Xn,this.svgFactory.createElement(this.svgElementName));return tr.setAttribute("points",Kn),tr.setAttribute("stroke-width",an.borderStyle.width||1),tr.setAttribute("stroke","transparent"),tr.setAttribute("fill","transparent"),Bn.append(tr),this.container.append(Bn),!an.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,Xn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xn=new WeakMap;class dn extends _n{constructor(pn){super(pn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class En extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class cn extends Mt{constructor(an){super(an,{isRenderable:!0,ignoreBorder:!0});Gt(this,kn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=vt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const an=this.data,{width:wn,height:Hn}=Pt(an.rect),Bn=this.svgFactory.create(wn,Hn,!0);for(const Kn of an.inkLists){let tr=[];for(const fr of Kn){const lr=fr.x-an.rect[0],Hr=an.rect[3]-fr.y;tr.push(`${lr},${Hr}`)}tr=tr.join(" ");const vr=this.svgFactory.createElement(this.svgElementName);_t(this,kn).push(vr),vr.setAttribute("points",tr),vr.setAttribute("stroke-width",an.borderStyle.width||1),vr.setAttribute("stroke","transparent"),vr.setAttribute("fill","transparent"),!an.popupRef&&this.hasPopupData&&this._createPopup(),Bn.append(vr)}return this.container.append(Bn),this.container}getElementsToTriggerPopup(){return _t(this,kn)}addHighlightArea(){this.container.classList.add("highlightArea")}}kn=new WeakMap,$.InkAnnotationElement=cn;class hn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class tn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class gn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Sn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class rn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=rn;class Xt extends Mt{constructor(an){var Bn;super(an,{isRenderable:!0});Gt(this,dr);Gt(this,Fn,null);const{filename:wn,content:Hn}=this.data.file;this.filename=(0,bt.getFilenameFromUrl)(wn,!0),this.content=Hn,(Bn=this.linkService.eventBus)==null||Bn.dispatch("fileattachmentannotation",{source:this,filename:wn,content:Hn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:an,data:wn}=this;let Hn;wn.hasAppearance||wn.fillAlpha===0?Hn=document.createElement("div"):(Hn=document.createElement("img"),Hn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(wn.name)?"paperclip":"pushpin"}.svg`,wn.fillAlpha&&wn.fillAlpha<1&&(Hn.style=`filter: opacity(${Math.round(wn.fillAlpha*100)}%);`)),Hn.addEventListener("dblclick",Ut(this,dr,G1).bind(this)),Wt(this,Fn,Hn);const{isMac:Bn}=vt.FeatureTest.platform;return an.addEventListener("keydown",Kn=>{Kn.key==="Enter"&&(Bn?Kn.metaKey:Kn.ctrlKey)&&Ut(this,dr,G1).call(this)}),!wn.popupRef&&this.hasPopupData?this._createPopup():Hn.classList.add("popupTriggerArea"),an.append(Hn),an}getElementsToTriggerPopup(){return _t(this,Fn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fn=new WeakMap,dr=new WeakSet,G1=function(){var an;(an=this.downloadManager)==null||an.openOrDownloadData(this.container,this.content,this.filename)};class Yt{constructor({div:pn,accessibilityManager:an,annotationCanvasMap:wn,l10n:Hn,page:Bn,viewport:Kn}){Gt(this,sr);Gt(this,Tr,null);Gt(this,vn,null);Gt(this,Vn,new Map);this.div=pn,Wt(this,Tr,an),Wt(this,vn,wn),this.l10n=Hn,this.page=Bn,this.viewport=Kn,this.zIndex=0,this.l10n||(this.l10n=At.NullL10n)}async render(pn){const{annotations:an}=pn,wn=this.div;(0,bt.setLayerDimensions)(wn,this.viewport);const Hn=new Map,Bn={data:null,layer:wn,linkService:pn.linkService,downloadManager:pn.downloadManager,imageResourcesPath:pn.imageResourcesPath||"",renderForms:pn.renderForms!==!1,svgFactory:new bt.DOMSVGFactory,annotationStorage:pn.annotationStorage||new xt.AnnotationStorage,enableScripting:pn.enableScripting===!0,hasJSActions:pn.hasJSActions,fieldObjects:pn.fieldObjects,parent:this,elements:null};for(const Kn of an){if(Kn.noHTML)continue;const tr=Kn.annotationType===vt.AnnotationType.POPUP;if(tr){const lr=Hn.get(Kn.id);if(!lr)continue;Bn.elements=lr}else{const{width:lr,height:Hr}=Pt(Kn.rect);if(lr<=0||Hr<=0)continue}Bn.data=Kn;const vr=kt.create(Bn);if(!vr.isRenderable)continue;if(!tr&&Kn.popupRef){const lr=Hn.get(Kn.popupRef);lr?lr.push(vr):Hn.set(Kn.popupRef,[vr])}vr.annotationEditorType>0&&_t(this,Vn).set(vr.data.id,vr);const fr=vr.render();Kn.hidden&&(fr.style.visibility="hidden"),Ut(this,sr,a_).call(this,fr,Kn.id)}Ut(this,sr,X1).call(this),await this.l10n.translate(wn)}update({viewport:pn}){const an=this.div;this.viewport=pn,(0,bt.setLayerDimensions)(an,{rotation:pn.rotation}),Ut(this,sr,X1).call(this),an.hidden=!1}getEditableAnnotations(){return Array.from(_t(this,Vn).values())}getEditableAnnotation(pn){return _t(this,Vn).get(pn)}}Tr=new WeakMap,vn=new WeakMap,Vn=new WeakMap,sr=new WeakSet,a_=function(pn,an){var Hn;const wn=pn.firstChild||pn;wn.id=`${vt.AnnotationPrefix}${an}`,this.div.append(pn),(Hn=_t(this,Tr))==null||Hn.moveElementInDOM(this.div,pn,wn,!1)},X1=function(){if(!_t(this,vn))return;const pn=this.div;for(const[an,wn]of _t(this,vn)){const Hn=pn.querySelector(`[data-annotation-id="${an}"]`);if(!Hn)continue;const{firstChild:Bn}=Hn;Bn?Bn.nodeName==="CANVAS"?Bn.replaceWith(wn):Bn.before(wn):Hn.append(wn)}_t(this,vn).clear()},$.AnnotationLayer=Yt},(ht,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function _e(xt){return Math.floor(Math.max(0,Math.min(1,xt))*255).toString(16).padStart(2,"0")}function vt(xt){return Math.max(0,Math.min(255,255*xt))}class bt{static CMYK_G([Et,At,wt,Ct]){return["G",1-Math.min(1,.3*Et+.59*wt+.11*At+Ct)]}static G_CMYK([Et]){return["CMYK",0,0,0,1-Et]}static G_RGB([Et]){return["RGB",Et,Et,Et]}static G_rgb([Et]){return Et=vt(Et),[Et,Et,Et]}static G_HTML([Et]){const At=_e(Et);return`#${At}${At}${At}`}static RGB_G([Et,At,wt]){return["G",.3*Et+.59*At+.11*wt]}static RGB_rgb(Et){return Et.map(vt)}static RGB_HTML(Et){return`#${Et.map(_e).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Et,At,wt,Ct]){return["RGB",1-Math.min(1,Et+Ct),1-Math.min(1,wt+Ct),1-Math.min(1,At+Ct)]}static CMYK_rgb([Et,At,wt,Ct]){return[vt(1-Math.min(1,Et+Ct)),vt(1-Math.min(1,wt+Ct)),vt(1-Math.min(1,At+Ct))]}static CMYK_HTML(Et){const At=this.CMYK_RGB(Et).slice(1);return this.RGB_HTML(At)}static RGB_CMYK([Et,At,wt]){const Ct=1-Et,St=1-At,Rt=1-wt,Pt=Math.min(Ct,St,Rt);return["CMYK",Ct,St,Rt,Pt]}}$.ColorConverters=bt},(ht,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=vt;const _e={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};_e.print_progress_percent="{{progress}}%";function vt(Et,At){switch(Et){case"find_match_count":Et=`find_match_count[${At.total===1?"one":"other"}]`;break;case"find_match_count_limit":Et=`find_match_count_limit[${At.limit===1?"one":"other"}]`;break}return _e[Et]||""}function bt(Et,At){return At?Et.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(wt,Ct)=>Ct in At?At[Ct]:"{{"+Ct+"}}"):Et}const xt={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Et,At=null,wt=vt(Et,At)){return bt(wt,At)},async translate(Et){}};$.NullL10n=xt},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var vt=_e(25);class bt{static setupStorage(Et,At,wt,Ct,St){const Rt=Ct.getValue(At,{value:null});switch(wt.name){case"textarea":if(Rt.value!==null&&(Et.textContent=Rt.value),St==="print")break;Et.addEventListener("input",Pt=>{Ct.setValue(At,{value:Pt.target.value})});break;case"input":if(wt.attributes.type==="radio"||wt.attributes.type==="checkbox"){if(Rt.value===wt.attributes.xfaOn?Et.setAttribute("checked",!0):Rt.value===wt.attributes.xfaOff&&Et.removeAttribute("checked"),St==="print")break;Et.addEventListener("change",Pt=>{Ct.setValue(At,{value:Pt.target.checked?Pt.target.getAttribute("xfaOn"):Pt.target.getAttribute("xfaOff")})})}else{if(Rt.value!==null&&Et.setAttribute("value",Rt.value),St==="print")break;Et.addEventListener("input",Pt=>{Ct.setValue(At,{value:Pt.target.value})})}break;case"select":if(Rt.value!==null){Et.setAttribute("value",Rt.value);for(const Pt of wt.children)Pt.attributes.value===Rt.value?Pt.attributes.selected=!0:Pt.attributes.hasOwnProperty("selected")&&delete Pt.attributes.selected}Et.addEventListener("input",Pt=>{const kt=Pt.target.options,Mt=kt.selectedIndex===-1?"":kt[kt.selectedIndex].value;Ct.setValue(At,{value:Mt})});break}}static setAttributes({html:Et,element:At,storage:wt=null,intent:Ct,linkService:St}){const{attributes:Rt}=At,Pt=Et instanceof HTMLAnchorElement;Rt.type==="radio"&&(Rt.name=`${Rt.name}-${Ct}`);for(const[kt,Mt]of Object.entries(Rt))if(Mt!=null)switch(kt){case"class":Mt.length&&Et.setAttribute(kt,Mt.join(" "));break;case"dataId":break;case"id":Et.setAttribute("data-element-id",Mt);break;case"style":Object.assign(Et.style,Mt);break;case"textContent":Et.textContent=Mt;break;default:(!Pt||kt!=="href"&&kt!=="newWindow")&&Et.setAttribute(kt,Mt)}Pt&&St.addLinkAttributes(Et,Rt.href,Rt.newWindow),wt&&Rt.dataId&&this.setupStorage(Et,Rt.dataId,At,wt)}static render(Et){var Dt;const At=Et.annotationStorage,wt=Et.linkService,Ct=Et.xfaHtml,St=Et.intent||"display",Rt=document.createElement(Ct.name);Ct.attributes&&this.setAttributes({html:Rt,element:Ct,intent:St,linkService:wt});const Pt=[[Ct,-1,Rt]],kt=Et.div;if(kt.append(Rt),Et.viewport){const $t=`matrix(${Et.viewport.transform.join(",")})`;kt.style.transform=$t}St!=="richText"&&kt.setAttribute("class","xfaLayer xfaFont");const Mt=[];for(;Pt.length>0;){const[$t,Ft,Lt]=Pt.at(-1);if(Ft+1===$t.children.length){Pt.pop();continue}const Ot=$t.children[++Pt.at(-1)[1]];if(Ot===null)continue;const{name:Ht}=Ot;if(Ht==="#text"){const Bt=document.createTextNode(Ot.value);Mt.push(Bt),Lt.append(Bt);continue}const Nt=(Dt=Ot==null?void 0:Ot.attributes)!=null&&Dt.xmlns?document.createElementNS(Ot.attributes.xmlns,Ht):document.createElement(Ht);if(Lt.append(Nt),Ot.attributes&&this.setAttributes({html:Nt,element:Ot,storage:At,intent:St,linkService:wt}),Ot.children&&Ot.children.length>0)Pt.push([Ot,-1,Nt]);else if(Ot.value){const Bt=document.createTextNode(Ot.value);vt.XfaText.shouldBuildText(Ht)&&Mt.push(Bt),Nt.append(Bt)}}for(const $t of kt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))$t.setAttribute("readOnly",!0);return{textDivs:Mt}}static update(Et){const At=`matrix(${Et.viewport.transform.join(",")})`;Et.div.style.transform=At,Et.div.hidden=!1}}$.XfaLayer=bt},(ht,$,_e)=>{var Ct,St,Rt,Pt,kt,Mt,Dt,$t,Ft,Lt,Ot,Ht,Nt,Bt,jt,l_,c_,u_,d_,q1,h_,K1,f_,p_,g_,m_,v_,$l,Y1,Uy,zy,rm,Z1,Wy,ln,y_,Q1,b_,x_,J1,Vy,sm;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var vt=_e(1),bt=_e(4),xt=_e(29),Et=_e(6),At=_e(5);const Zn=class Zn extends bt.AnnotationEditor{constructor(sn){super({...sn,name:"inkEditor"});Gt(this,jt);Gt(this,Ct,0);Gt(this,St,0);Gt(this,Rt,this.canvasPointermove.bind(this));Gt(this,Pt,this.canvasPointerleave.bind(this));Gt(this,kt,this.canvasPointerup.bind(this));Gt(this,Mt,this.canvasPointerdown.bind(this));Gt(this,Dt,new Path2D);Gt(this,$t,!1);Gt(this,Ft,!1);Gt(this,Lt,!1);Gt(this,Ot,null);Gt(this,Ht,0);Gt(this,Nt,0);Gt(this,Bt,null);this.color=sn.color||null,this.thickness=sn.thickness||null,this.opacity=sn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(sn){bt.AnnotationEditor.initialize(sn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(sn,mn){switch(sn){case vt.AnnotationEditorParamsType.INK_THICKNESS:Zn._defaultThickness=mn;break;case vt.AnnotationEditorParamsType.INK_COLOR:Zn._defaultColor=mn;break;case vt.AnnotationEditorParamsType.INK_OPACITY:Zn._defaultOpacity=mn/100;break}}updateParams(sn,mn){switch(sn){case vt.AnnotationEditorParamsType.INK_THICKNESS:Ut(this,jt,l_).call(this,mn);break;case vt.AnnotationEditorParamsType.INK_COLOR:Ut(this,jt,c_).call(this,mn);break;case vt.AnnotationEditorParamsType.INK_OPACITY:Ut(this,jt,u_).call(this,mn);break}}static get defaultPropertiesToUpdate(){return[[vt.AnnotationEditorParamsType.INK_THICKNESS,Zn._defaultThickness],[vt.AnnotationEditorParamsType.INK_COLOR,Zn._defaultColor||bt.AnnotationEditor._defaultLineColor],[vt.AnnotationEditorParamsType.INK_OPACITY,Math.round(Zn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[vt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Zn._defaultThickness],[vt.AnnotationEditorParamsType.INK_COLOR,this.color||Zn._defaultColor||bt.AnnotationEditor._defaultLineColor],[vt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Zn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ut(this,jt,Uy).call(this),Ut(this,jt,zy).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ut(this,jt,rm).call(this)),Ut(this,jt,sm).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_t(this,Ot).disconnect(),Wt(this,Ot,null),super.remove())}setParent(sn){!this.parent&&sn?this._uiManager.removeShouldRescale(this):this.parent&&sn===null&&this._uiManager.addShouldRescale(this),super.setParent(sn)}onScaleChanging(){const[sn,mn]=this.parentDimensions,Pn=this.width*sn,On=this.height*mn;this.setDimensions(Pn,On)}enableEditMode(){_t(this,$t)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",_t(this,Mt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_t(this,Mt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){_t(this,$t)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Wt(this,$t,!0),this.div.classList.add("disabled"),Ut(this,jt,sm).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(sn){this._focusEventsAllowed&&(super.focusin(sn),this.enableEditMode())}canvasPointerdown(sn){sn.button!==0||!this.isInEditMode()||_t(this,$t)||(this.setInForeground(),sn.preventDefault(),sn.type!=="mouse"&&this.div.focus(),Ut(this,jt,h_).call(this,sn.offsetX,sn.offsetY))}canvasPointermove(sn){sn.preventDefault(),Ut(this,jt,K1).call(this,sn.offsetX,sn.offsetY)}canvasPointerup(sn){sn.preventDefault(),Ut(this,jt,Y1).call(this,sn)}canvasPointerleave(sn){Ut(this,jt,Y1).call(this,sn)}get isResizable(){return!this.isEmpty()&&_t(this,$t)}render(){if(this.div)return this.div;let sn,mn;this.width&&(sn=this.x,mn=this.y),super.render(),bt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(qn=>{var Tn;return(Tn=this.div)==null?void 0:Tn.setAttribute("aria-label",qn)});const[Pn,On,Wn,Qn]=Ut(this,jt,d_).call(this);if(this.setAt(Pn,On,0,0),this.setDims(Wn,Qn),Ut(this,jt,Uy).call(this),this.width){const[qn,Tn]=this.parentDimensions;this.setAspectRatio(this.width*qn,this.height*Tn),this.setAt(sn*qn,mn*Tn,this.width*qn,this.height*Tn),Wt(this,Lt,!0),Ut(this,jt,rm).call(this),this.setDims(this.width*qn,this.height*Tn),Ut(this,jt,$l).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ut(this,jt,zy).call(this),this.div}setDimensions(sn,mn){const Pn=Math.round(sn),On=Math.round(mn);if(_t(this,Ht)===Pn&&_t(this,Nt)===On)return;Wt(this,Ht,Pn),Wt(this,Nt,On),this.canvas.style.visibility="hidden";const[Wn,Qn]=this.parentDimensions;this.width=sn/Wn,this.height=mn/Qn,this.fixAndSetPosition(),_t(this,$t)&&Ut(this,jt,Z1).call(this,sn,mn),Ut(this,jt,rm).call(this),Ut(this,jt,$l).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(sn,mn,Pn){var _r,Ur,is;if(sn instanceof xt.InkAnnotationElement)return null;const On=super.deserialize(sn,mn,Pn);On.thickness=sn.thickness,On.color=vt.Util.makeHexColor(...sn.color),On.opacity=sn.opacity;const[Wn,Qn]=On.pageDimensions,qn=On.width*Wn,Tn=On.height*Qn,or=On.parentScale,nr=sn.thickness/2;Wt(On,$t,!0),Wt(On,Ht,Math.round(qn)),Wt(On,Nt,Math.round(Tn));const{paths:Or,rect:Pr,rotation:Kr}=sn;for(let{bezier:Xn}of Or){Xn=Ut(_r=Zn,ln,b_).call(_r,Xn,Pr,Kr);const kn=[];On.paths.push(kn);let Fn=or*(Xn[0]-nr),dr=or*(Xn[1]-nr);for(let Tr=2,vn=Xn.length;Tr<vn;Tr+=6){const Vn=or*(Xn[Tr]-nr),sr=or*(Xn[Tr+1]-nr),mr=or*(Xn[Tr+2]-nr),br=or*(Xn[Tr+3]-nr),ur=or*(Xn[Tr+4]-nr),pn=or*(Xn[Tr+5]-nr);kn.push([[Fn,dr],[Vn,sr],[mr,br],[ur,pn]]),Fn=ur,dr=pn}const gr=Ut(this,ln,y_).call(this,kn);On.bezierPath2D.push(gr)}const hr=Ut(Ur=On,jt,J1).call(Ur);return Wt(On,St,Math.max(bt.AnnotationEditor.MIN_SIZE,hr[2]-hr[0])),Wt(On,Ct,Math.max(bt.AnnotationEditor.MIN_SIZE,hr[3]-hr[1])),Ut(is=On,jt,Z1).call(is,qn,Tn),On}serialize(){if(this.isEmpty())return null;const sn=this.getRect(0,0),mn=bt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:vt.AnnotationEditorType.INK,color:mn,thickness:this.thickness,opacity:this.opacity,paths:Ut(this,jt,x_).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,sn),pageIndex:this.pageIndex,rect:sn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Dt=new WeakMap,$t=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,Ot=new WeakMap,Ht=new WeakMap,Nt=new WeakMap,Bt=new WeakMap,jt=new WeakSet,l_=function(sn){const mn=this.thickness;this.addCommands({cmd:()=>{this.thickness=sn,Ut(this,jt,sm).call(this)},undo:()=>{this.thickness=mn,Ut(this,jt,sm).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},c_=function(sn){const mn=this.color;this.addCommands({cmd:()=>{this.color=sn,Ut(this,jt,$l).call(this)},undo:()=>{this.color=mn,Ut(this,jt,$l).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},u_=function(sn){sn/=100;const mn=this.opacity;this.addCommands({cmd:()=>{this.opacity=sn,Ut(this,jt,$l).call(this)},undo:()=>{this.opacity=mn,Ut(this,jt,$l).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},d_=function(){const{parentRotation:sn,parentDimensions:[mn,Pn]}=this;switch(sn){case 90:return[0,Pn,Pn,mn];case 180:return[mn,Pn,mn,Pn];case 270:return[mn,0,Pn,mn];default:return[0,0,mn,Pn]}},q1=function(){const{ctx:sn,color:mn,opacity:Pn,thickness:On,parentScale:Wn,scaleFactor:Qn}=this;sn.lineWidth=On*Wn/Qn,sn.lineCap="round",sn.lineJoin="round",sn.miterLimit=10,sn.strokeStyle=`${mn}${(0,At.opacityToHex)(Pn)}`},h_=function(sn,mn){this.canvas.addEventListener("contextmenu",Et.noContextMenu),this.canvas.addEventListener("pointerleave",_t(this,Pt)),this.canvas.addEventListener("pointermove",_t(this,Rt)),this.canvas.addEventListener("pointerup",_t(this,kt)),this.canvas.removeEventListener("pointerdown",_t(this,Mt)),this.isEditing=!0,_t(this,Lt)||(Wt(this,Lt,!0),Ut(this,jt,rm).call(this),this.thickness||(this.thickness=Zn._defaultThickness),this.color||(this.color=Zn._defaultColor||bt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Zn._defaultOpacity)),this.currentPath.push([sn,mn]),Wt(this,Ft,!1),Ut(this,jt,q1).call(this),Wt(this,Bt,()=>{Ut(this,jt,g_).call(this),_t(this,Bt)&&window.requestAnimationFrame(_t(this,Bt))}),window.requestAnimationFrame(_t(this,Bt))},K1=function(sn,mn){const[Pn,On]=this.currentPath.at(-1);if(this.currentPath.length>1&&sn===Pn&&mn===On)return;const Wn=this.currentPath;let Qn=_t(this,Dt);if(Wn.push([sn,mn]),Wt(this,Ft,!0),Wn.length<=2){Qn.moveTo(...Wn[0]),Qn.lineTo(sn,mn);return}Wn.length===3&&(Wt(this,Dt,Qn=new Path2D),Qn.moveTo(...Wn[0])),Ut(this,jt,m_).call(this,Qn,...Wn.at(-3),...Wn.at(-2),sn,mn)},f_=function(){if(this.currentPath.length===0)return;const sn=this.currentPath.at(-1);_t(this,Dt).lineTo(...sn)},p_=function(sn,mn){Wt(this,Bt,null),sn=Math.min(Math.max(sn,0),this.canvas.width),mn=Math.min(Math.max(mn,0),this.canvas.height),Ut(this,jt,K1).call(this,sn,mn),Ut(this,jt,f_).call(this);let Pn;if(this.currentPath.length!==1)Pn=Ut(this,jt,v_).call(this);else{const Tn=[sn,mn];Pn=[[Tn,Tn.slice(),Tn.slice(),Tn]]}const On=_t(this,Dt),Wn=this.currentPath;this.currentPath=[],Wt(this,Dt,new Path2D);const Qn=()=>{this.allRawPaths.push(Wn),this.paths.push(Pn),this.bezierPath2D.push(On),this.rebuild()},qn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ut(this,jt,Uy).call(this),Ut(this,jt,zy).call(this)),Ut(this,jt,sm).call(this))};this.addCommands({cmd:Qn,undo:qn,mustExec:!0})},g_=function(){if(!_t(this,Ft))return;Wt(this,Ft,!1);const sn=Math.ceil(this.thickness*this.parentScale),mn=this.currentPath.slice(-3),Pn=mn.map(Qn=>Qn[0]),On=mn.map(Qn=>Qn[1]);Math.min(...Pn)-sn,Math.max(...Pn)+sn,Math.min(...On)-sn,Math.max(...On)+sn;const{ctx:Wn}=this;Wn.save(),Wn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Qn of this.bezierPath2D)Wn.stroke(Qn);Wn.stroke(_t(this,Dt)),Wn.restore()},m_=function(sn,mn,Pn,On,Wn,Qn,qn){const Tn=(mn+On)/2,or=(Pn+Wn)/2,nr=(On+Qn)/2,Or=(Wn+qn)/2;sn.bezierCurveTo(Tn+2*(On-Tn)/3,or+2*(Wn-or)/3,nr+2*(On-nr)/3,Or+2*(Wn-Or)/3,nr,Or)},v_=function(){const sn=this.currentPath;if(sn.length<=2)return[[sn[0],sn[0],sn.at(-1),sn.at(-1)]];const mn=[];let Pn,[On,Wn]=sn[0];for(Pn=1;Pn<sn.length-2;Pn++){const[Pr,Kr]=sn[Pn],[hr,_r]=sn[Pn+1],Ur=(Pr+hr)/2,is=(Kr+_r)/2,Xn=[On+2*(Pr-On)/3,Wn+2*(Kr-Wn)/3],kn=[Ur+2*(Pr-Ur)/3,is+2*(Kr-is)/3];mn.push([[On,Wn],Xn,kn,[Ur,is]]),[On,Wn]=[Ur,is]}const[Qn,qn]=sn[Pn],[Tn,or]=sn[Pn+1],nr=[On+2*(Qn-On)/3,Wn+2*(qn-Wn)/3],Or=[Tn+2*(Qn-Tn)/3,or+2*(qn-or)/3];return mn.push([[On,Wn],nr,Or,[Tn,or]]),mn},$l=function(){if(this.isEmpty()){Ut(this,jt,Wy).call(this);return}Ut(this,jt,q1).call(this);const{canvas:sn,ctx:mn}=this;mn.setTransform(1,0,0,1,0,0),mn.clearRect(0,0,sn.width,sn.height),Ut(this,jt,Wy).call(this);for(const Pn of this.bezierPath2D)mn.stroke(Pn)},Y1=function(sn){this.canvas.removeEventListener("pointerleave",_t(this,Pt)),this.canvas.removeEventListener("pointermove",_t(this,Rt)),this.canvas.removeEventListener("pointerup",_t(this,kt)),this.canvas.addEventListener("pointerdown",_t(this,Mt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Et.noContextMenu)},10),Ut(this,jt,p_).call(this,sn.offsetX,sn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Uy=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",bt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(sn=>{var mn;return(mn=this.canvas)==null?void 0:mn.setAttribute("aria-label",sn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},zy=function(){Wt(this,Ot,new ResizeObserver(sn=>{const mn=sn[0].contentRect;mn.width&&mn.height&&this.setDimensions(mn.width,mn.height)})),_t(this,Ot).observe(this.div)},rm=function(){if(!_t(this,Lt))return;const[sn,mn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*sn),this.canvas.height=Math.ceil(this.height*mn),Ut(this,jt,Wy).call(this)},Z1=function(sn,mn){const Pn=Ut(this,jt,Vy).call(this),On=(sn-Pn)/_t(this,St),Wn=(mn-Pn)/_t(this,Ct);this.scaleFactor=Math.min(On,Wn)},Wy=function(){const sn=Ut(this,jt,Vy).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+sn,this.translationY*this.scaleFactor+sn)},ln=new WeakSet,y_=function(sn){const mn=new Path2D;for(let Pn=0,On=sn.length;Pn<On;Pn++){const[Wn,Qn,qn,Tn]=sn[Pn];Pn===0&&mn.moveTo(...Wn),mn.bezierCurveTo(Qn[0],Qn[1],qn[0],qn[1],Tn[0],Tn[1])}return mn},Q1=function(sn,mn,Pn){const[On,Wn,Qn,qn]=mn;switch(Pn){case 0:for(let Tn=0,or=sn.length;Tn<or;Tn+=2)sn[Tn]+=On,sn[Tn+1]=qn-sn[Tn+1];break;case 90:for(let Tn=0,or=sn.length;Tn<or;Tn+=2){const nr=sn[Tn];sn[Tn]=sn[Tn+1]+On,sn[Tn+1]=nr+Wn}break;case 180:for(let Tn=0,or=sn.length;Tn<or;Tn+=2)sn[Tn]=Qn-sn[Tn],sn[Tn+1]+=Wn;break;case 270:for(let Tn=0,or=sn.length;Tn<or;Tn+=2){const nr=sn[Tn];sn[Tn]=Qn-sn[Tn+1],sn[Tn+1]=qn-nr}break;default:throw new Error("Invalid rotation")}return sn},b_=function(sn,mn,Pn){const[On,Wn,Qn,qn]=mn;switch(Pn){case 0:for(let Tn=0,or=sn.length;Tn<or;Tn+=2)sn[Tn]-=On,sn[Tn+1]=qn-sn[Tn+1];break;case 90:for(let Tn=0,or=sn.length;Tn<or;Tn+=2){const nr=sn[Tn];sn[Tn]=sn[Tn+1]-Wn,sn[Tn+1]=nr-On}break;case 180:for(let Tn=0,or=sn.length;Tn<or;Tn+=2)sn[Tn]=Qn-sn[Tn],sn[Tn+1]-=Wn;break;case 270:for(let Tn=0,or=sn.length;Tn<or;Tn+=2){const nr=sn[Tn];sn[Tn]=qn-sn[Tn+1],sn[Tn+1]=Qn-nr}break;default:throw new Error("Invalid rotation")}return sn},x_=function(sn,mn,Pn,On){var or,nr;const Wn=[],Qn=this.thickness/2,qn=sn*mn+Qn,Tn=sn*Pn+Qn;for(const Or of this.paths){const Pr=[],Kr=[];for(let hr=0,_r=Or.length;hr<_r;hr++){const[Ur,is,Xn,kn]=Or[hr],Fn=sn*Ur[0]+qn,dr=sn*Ur[1]+Tn,gr=sn*is[0]+qn,Tr=sn*is[1]+Tn,vn=sn*Xn[0]+qn,Vn=sn*Xn[1]+Tn,sr=sn*kn[0]+qn,mr=sn*kn[1]+Tn;hr===0&&(Pr.push(Fn,dr),Kr.push(Fn,dr)),Pr.push(gr,Tr,vn,Vn,sr,mr),Kr.push(gr,Tr),hr===_r-1&&Kr.push(sr,mr)}Wn.push({bezier:Ut(or=Zn,ln,Q1).call(or,Pr,On,this.rotation),points:Ut(nr=Zn,ln,Q1).call(nr,Kr,On,this.rotation)})}return Wn},J1=function(){let sn=1/0,mn=-1/0,Pn=1/0,On=-1/0;for(const Wn of this.paths)for(const[Qn,qn,Tn,or]of Wn){const nr=vt.Util.bezierBoundingBox(...Qn,...qn,...Tn,...or);sn=Math.min(sn,nr[0]),Pn=Math.min(Pn,nr[1]),mn=Math.max(mn,nr[2]),On=Math.max(On,nr[3])}return[sn,Pn,mn,On]},Vy=function(){return _t(this,$t)?Math.ceil(this.thickness*this.parentScale):0},sm=function(sn=!1){if(this.isEmpty())return;if(!_t(this,$t)){Ut(this,jt,$l).call(this);return}const mn=Ut(this,jt,J1).call(this),Pn=Ut(this,jt,Vy).call(this);Wt(this,St,Math.max(bt.AnnotationEditor.MIN_SIZE,mn[2]-mn[0])),Wt(this,Ct,Math.max(bt.AnnotationEditor.MIN_SIZE,mn[3]-mn[1]));const On=Math.ceil(Pn+_t(this,St)*this.scaleFactor),Wn=Math.ceil(Pn+_t(this,Ct)*this.scaleFactor),[Qn,qn]=this.parentDimensions;this.width=On/Qn,this.height=Wn/qn,this.setAspectRatio(On,Wn);const Tn=this.translationX,or=this.translationY;this.translationX=-mn[0],this.translationY=-mn[1],Ut(this,jt,rm).call(this),Ut(this,jt,$l).call(this),Wt(this,Ht,On),Wt(this,Nt,Wn),this.setDims(On,Wn);const nr=sn?Pn/this.scaleFactor/2:0;this.translate(Tn-this.translationX-nr,or-this.translationY-nr)},Gt(Zn,ln),wr(Zn,"_defaultColor",null),wr(Zn,"_defaultOpacity",1),wr(Zn,"_defaultThickness",1),wr(Zn,"_type","ink");let wt=Zn;$.InkEditor=wt},(ht,$,_e)=>{var wt,Ct,St,Rt,Pt,kt,Mt,Dt,$t,Ft,Lt,x0,E0,Gy,eE,E_,A_,tE,Xy,__;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var vt=_e(1),bt=_e(4),xt=_e(6),Et=_e(29);const en=class en extends bt.AnnotationEditor{constructor(dn){super({...dn,name:"stampEditor"});Gt(this,Lt);Gt(this,wt,null);Gt(this,Ct,null);Gt(this,St,null);Gt(this,Rt,null);Gt(this,Pt,null);Gt(this,kt,null);Gt(this,Mt,null);Gt(this,Dt,null);Gt(this,$t,!1);Gt(this,Ft,!1);Wt(this,Rt,dn.bitmapUrl),Wt(this,Pt,dn.bitmapFile)}static initialize(dn){bt.AnnotationEditor.initialize(dn)}static get supportedTypes(){const dn=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,vt.shadow)(this,"supportedTypes",dn.map(En=>`image/${En}`))}static get supportedTypesStr(){return(0,vt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(dn){return this.supportedTypes.includes(dn)}static paste(dn,En){En.pasteEditor(vt.AnnotationEditorType.STAMP,{bitmapFile:dn.getAsFile()})}remove(){var dn,En;_t(this,Ct)&&(Wt(this,wt,null),this._uiManager.imageManager.deleteId(_t(this,Ct)),(dn=_t(this,kt))==null||dn.remove(),Wt(this,kt,null),(En=_t(this,Mt))==null||En.disconnect(),Wt(this,Mt,null)),super.remove()}rebuild(){if(!this.parent){_t(this,Ct)&&Ut(this,Lt,Gy).call(this);return}super.rebuild(),this.div!==null&&(_t(this,Ct)&&Ut(this,Lt,Gy).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(_t(this,St)||_t(this,wt)||_t(this,Rt)||_t(this,Pt))}get isResizable(){return!0}render(){if(this.div)return this.div;let dn,En;if(this.width&&(dn=this.x,En=this.y),super.render(),this.div.hidden=!0,_t(this,wt)?Ut(this,Lt,eE).call(this):Ut(this,Lt,Gy).call(this),this.width){const[cn,hn]=this.parentDimensions;this.setAt(dn*cn,En*hn,this.width*cn,this.height*hn)}return this.div}static deserialize(dn,En,cn){if(dn instanceof Et.StampAnnotationElement)return null;const hn=super.deserialize(dn,En,cn),{rect:tn,bitmapUrl:gn,bitmapId:Sn,isSvg:rn,accessibilityData:Xt}=dn;Sn&&cn.imageManager.isValidId(Sn)?Wt(hn,Ct,Sn):Wt(hn,Rt,gn),Wt(hn,$t,rn);const[Yt,Jt]=hn.pageDimensions;return hn.width=(tn[2]-tn[0])/Yt,hn.height=(tn[3]-tn[1])/Jt,Xt&&(hn.altTextData=Xt),hn}serialize(dn=!1,En=null){if(this.isEmpty())return null;const cn={annotationType:vt.AnnotationEditorType.STAMP,bitmapId:_t(this,Ct),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_t(this,$t),structTreeParentId:this._structTreeParentId};if(dn)return cn.bitmapUrl=Ut(this,Lt,Xy).call(this,!0),cn.accessibilityData=this.altTextData,cn;const{decorative:hn,altText:tn}=this.altTextData;if(!hn&&tn&&(cn.accessibilityData={type:"Figure",alt:tn}),En===null)return cn;En.stamps||(En.stamps=new Map);const gn=_t(this,$t)?(cn.rect[2]-cn.rect[0])*(cn.rect[3]-cn.rect[1]):null;if(!En.stamps.has(_t(this,Ct)))En.stamps.set(_t(this,Ct),{area:gn,serialized:cn}),cn.bitmap=Ut(this,Lt,Xy).call(this,!1);else if(_t(this,$t)){const Sn=En.stamps.get(_t(this,Ct));gn>Sn.area&&(Sn.area=gn,Sn.serialized.bitmap.close(),Sn.serialized.bitmap=Ut(this,Lt,Xy).call(this,!1))}return cn}};wt=new WeakMap,Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Dt=new WeakMap,$t=new WeakMap,Ft=new WeakMap,Lt=new WeakSet,x0=function(dn,En=!1){if(!dn){this.remove();return}Wt(this,wt,dn.bitmap),En||(Wt(this,Ct,dn.id),Wt(this,$t,dn.isSvg)),Ut(this,Lt,eE).call(this)},E0=function(){Wt(this,St,null),this._uiManager.enableWaiting(!1),_t(this,kt)&&this.div.focus()},Gy=function(){if(_t(this,Ct)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(_t(this,Ct)).then(En=>Ut(this,Lt,x0).call(this,En,!0)).finally(()=>Ut(this,Lt,E0).call(this));return}if(_t(this,Rt)){const En=_t(this,Rt);Wt(this,Rt,null),this._uiManager.enableWaiting(!0),Wt(this,St,this._uiManager.imageManager.getFromUrl(En).then(cn=>Ut(this,Lt,x0).call(this,cn)).finally(()=>Ut(this,Lt,E0).call(this)));return}if(_t(this,Pt)){const En=_t(this,Pt);Wt(this,Pt,null),this._uiManager.enableWaiting(!0),Wt(this,St,this._uiManager.imageManager.getFromFile(En).then(cn=>Ut(this,Lt,x0).call(this,cn)).finally(()=>Ut(this,Lt,E0).call(this)));return}const dn=document.createElement("input");dn.type="file",dn.accept=en.supportedTypesStr,Wt(this,St,new Promise(En=>{dn.addEventListener("change",async()=>{if(!dn.files||dn.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const cn=await this._uiManager.imageManager.getFromFile(dn.files[0]);Ut(this,Lt,x0).call(this,cn)}En()}),dn.addEventListener("cancel",()=>{this.remove(),En()})}).finally(()=>Ut(this,Lt,E0).call(this))),dn.click()},eE=function(){const{div:dn}=this;let{width:En,height:cn}=_t(this,wt);const[hn,tn]=this.pageDimensions,gn=.75;if(this.width)En=this.width*hn,cn=this.height*tn;else if(En>gn*hn||cn>gn*tn){const Yt=Math.min(gn*hn/En,gn*tn/cn);En*=Yt,cn*=Yt}const[Sn,rn]=this.parentDimensions;this.setDims(En*Sn/hn,cn*rn/tn),this._uiManager.enableWaiting(!1);const Xt=Wt(this,kt,document.createElement("canvas"));dn.append(Xt),dn.hidden=!1,Ut(this,Lt,tE).call(this,En,cn),Ut(this,Lt,__).call(this),_t(this,Ft)||(this.parent.addUndoableEditor(this),Wt(this,Ft,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},E_=function(dn,En){var gn;const[cn,hn]=this.parentDimensions;this.width=dn/cn,this.height=En/hn,this.setDims(dn,En),(gn=this._initialOptions)!=null&&gn.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,_t(this,Dt)!==null&&clearTimeout(_t(this,Dt)),Wt(this,Dt,setTimeout(()=>{Wt(this,Dt,null),Ut(this,Lt,tE).call(this,dn,En)},200))},A_=function(dn,En){const{width:cn,height:hn}=_t(this,wt);let tn=cn,gn=hn,Sn=_t(this,wt);for(;tn>2*dn||gn>2*En;){const rn=tn,Xt=gn;tn>2*dn&&(tn=tn>=16384?Math.floor(tn/2)-1:Math.ceil(tn/2)),gn>2*En&&(gn=gn>=16384?Math.floor(gn/2)-1:Math.ceil(gn/2));const Yt=new OffscreenCanvas(tn,gn);Yt.getContext("2d").drawImage(Sn,0,0,rn,Xt,0,0,tn,gn),Sn=Yt.transferToImageBitmap()}return Sn},tE=function(dn,En){dn=Math.ceil(dn),En=Math.ceil(En);const cn=_t(this,kt);if(!cn||cn.width===dn&&cn.height===En)return;cn.width=dn,cn.height=En;const hn=_t(this,$t)?_t(this,wt):Ut(this,Lt,A_).call(this,dn,En),tn=cn.getContext("2d");tn.filter=this._uiManager.hcmFilter,tn.drawImage(hn,0,0,hn.width,hn.height,0,0,dn,En)},Xy=function(dn){if(dn){if(_t(this,$t)){const hn=this._uiManager.imageManager.getSvgUrl(_t(this,Ct));if(hn)return hn}const En=document.createElement("canvas");return{width:En.width,height:En.height}=_t(this,wt),En.getContext("2d").drawImage(_t(this,wt),0,0),En.toDataURL()}if(_t(this,$t)){const[En,cn]=this.pageDimensions,hn=Math.round(this.width*En*xt.PixelsPerInch.PDF_TO_CSS_UNITS),tn=Math.round(this.height*cn*xt.PixelsPerInch.PDF_TO_CSS_UNITS),gn=new OffscreenCanvas(hn,tn);return gn.getContext("2d").drawImage(_t(this,wt),0,0,_t(this,wt).width,_t(this,wt).height,0,0,hn,tn),gn.transferToImageBitmap()}return structuredClone(_t(this,wt))},__=function(){Wt(this,Mt,new ResizeObserver(dn=>{const En=dn[0].contentRect;En.width&&En.height&&Ut(this,Lt,E_).call(this,En.width,En.height)})),_t(this,Mt).observe(this.div)},wr(en,"_type","stamp");let At=en;$.StampEditor=At}],__webpack_module_cache__={};function __w_pdfjs_require__(ht){var $=__webpack_module_cache__[ht];if($!==void 0)return $.exports;var _e=__webpack_module_cache__[ht]={exports:{}};return __webpack_modules__[ht](_e,_e.exports,__w_pdfjs_require__),_e.exports}var __webpack_exports__={};return(()=>{var ht=__webpack_exports__;Object.defineProperty(ht,"__esModule",{value:!0}),Object.defineProperty(ht,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(ht,"AnnotationEditorLayer",{enumerable:!0,get:function(){return xt.AnnotationEditorLayer}}),Object.defineProperty(ht,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(ht,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(ht,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Et.AnnotationEditorUIManager}}),Object.defineProperty(ht,"AnnotationLayer",{enumerable:!0,get:function(){return At.AnnotationLayer}}),Object.defineProperty(ht,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(ht,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(ht,"DOMSVGFactory",{enumerable:!0,get:function(){return vt.DOMSVGFactory}}),Object.defineProperty(ht,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(ht,"GlobalWorkerOptions",{enumerable:!0,get:function(){return wt.GlobalWorkerOptions}}),Object.defineProperty(ht,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(ht,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(ht,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(ht,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(ht,"PDFDataRangeTransport",{enumerable:!0,get:function(){return _e.PDFDataRangeTransport}}),Object.defineProperty(ht,"PDFDateString",{enumerable:!0,get:function(){return vt.PDFDateString}}),Object.defineProperty(ht,"PDFWorker",{enumerable:!0,get:function(){return _e.PDFWorker}}),Object.defineProperty(ht,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(ht,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(ht,"PixelsPerInch",{enumerable:!0,get:function(){return vt.PixelsPerInch}}),Object.defineProperty(ht,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(ht,"RenderingCancelledException",{enumerable:!0,get:function(){return vt.RenderingCancelledException}}),Object.defineProperty(ht,"SVGGraphics",{enumerable:!0,get:function(){return _e.SVGGraphics}}),Object.defineProperty(ht,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(ht,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(ht,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(ht,"XfaLayer",{enumerable:!0,get:function(){return Ct.XfaLayer}}),Object.defineProperty(ht,"build",{enumerable:!0,get:function(){return _e.build}}),Object.defineProperty(ht,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(ht,"getDocument",{enumerable:!0,get:function(){return _e.getDocument}}),Object.defineProperty(ht,"getFilenameFromUrl",{enumerable:!0,get:function(){return vt.getFilenameFromUrl}}),Object.defineProperty(ht,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return vt.getPdfFilenameFromUrl}}),Object.defineProperty(ht,"getXfaPageViewport",{enumerable:!0,get:function(){return vt.getXfaPageViewport}}),Object.defineProperty(ht,"isDataScheme",{enumerable:!0,get:function(){return vt.isDataScheme}}),Object.defineProperty(ht,"isPdfFile",{enumerable:!0,get:function(){return vt.isPdfFile}}),Object.defineProperty(ht,"loadScript",{enumerable:!0,get:function(){return vt.loadScript}}),Object.defineProperty(ht,"noContextMenu",{enumerable:!0,get:function(){return vt.noContextMenu}}),Object.defineProperty(ht,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(ht,"renderTextLayer",{enumerable:!0,get:function(){return bt.renderTextLayer}}),Object.defineProperty(ht,"setLayerDimensions",{enumerable:!0,get:function(){return vt.setLayerDimensions}}),Object.defineProperty(ht,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(ht,"updateTextLayer",{enumerable:!0,get:function(){return bt.updateTextLayer}}),Object.defineProperty(ht,"version",{enumerable:!0,get:function(){return _e.version}});var $=__w_pdfjs_require__(1),_e=__w_pdfjs_require__(2),vt=__w_pdfjs_require__(6),bt=__w_pdfjs_require__(26),xt=__w_pdfjs_require__(27),Et=__w_pdfjs_require__(5),At=__w_pdfjs_require__(29),wt=__w_pdfjs_require__(14),Ct=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(ht){var $=reactExports,_e=pdfExports;function vt(Vt){var Qt=Object.create(null);return Vt&&Object.keys(Vt).forEach(function(yn){if(yn!=="default"){var bn=Object.getOwnPropertyDescriptor(Vt,yn);Object.defineProperty(Qt,yn,bn.get?bn:{enumerable:!0,get:function(){return Vt[yn]}})}}),Qt.default=Vt,Object.freeze(Qt)}var bt,xt=vt($),Et=vt(_e);ht.AnnotationType=void 0,(bt=ht.AnnotationType||(ht.AnnotationType={}))[bt.Text=1]="Text",bt[bt.Link=2]="Link",bt[bt.FreeText=3]="FreeText",bt[bt.Line=4]="Line",bt[bt.Square=5]="Square",bt[bt.Circle=6]="Circle",bt[bt.Polygon=7]="Polygon",bt[bt.Polyline=8]="Polyline",bt[bt.Highlight=9]="Highlight",bt[bt.Underline=10]="Underline",bt[bt.Squiggly=11]="Squiggly",bt[bt.StrikeOut=12]="StrikeOut",bt[bt.Stamp=13]="Stamp",bt[bt.Caret=14]="Caret",bt[bt.Ink=15]="Ink",bt[bt.Popup=16]="Popup",bt[bt.FileAttachment=17]="FileAttachment";var At=function(Vt,Qt){return At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(yn,bn){yn.__proto__=bn}||function(yn,bn){for(var An in bn)Object.prototype.hasOwnProperty.call(bn,An)&&(yn[An]=bn[An])},At(Vt,Qt)};function wt(Vt,Qt){if(typeof Qt!="function"&&Qt!==null)throw new TypeError("Class extends value "+String(Qt)+" is not a constructor or null");function yn(){this.constructor=Vt}At(Vt,Qt),Vt.prototype=Qt===null?Object.create(Qt):(yn.prototype=Qt.prototype,new yn)}var Ct,St=function(){return St=Object.assign||function(Vt){for(var Qt,yn=1,bn=arguments.length;yn<bn;yn++)for(var An in Qt=arguments[yn])Object.prototype.hasOwnProperty.call(Qt,An)&&(Vt[An]=Qt[An]);return Vt},St.apply(this,arguments)};ht.TextDirection=void 0,(Ct=ht.TextDirection||(ht.TextDirection={})).RightToLeft="RTL",Ct.LeftToRight="LTR";var Rt,Pt=xt.createContext({currentTheme:"light",direction:ht.TextDirection.LeftToRight,setCurrentTheme:function(){}}),kt=function(Vt){var Qt=[];return Object.keys(Vt).forEach(function(yn){yn&&Vt[yn]&&Qt.push(yn)}),Qt.join(" ")},Mt=typeof window<"u"?xt.useLayoutEffect:xt.useEffect,Dt=function(Vt){var Qt=xt.useRef(null),yn=Vt.once,bn=Vt.threshold,An=Vt.onVisibilityChanged;return Mt(function(){var Cn=Qt.current;if(Cn){var Nn=new IntersectionObserver(function(Mn){Mn.forEach(function(xn){var In=xn.isIntersecting,Ln=xn.intersectionRatio;An({isVisible:In,ratio:Ln}),In&&yn&&(Nn.unobserve(Cn),Nn.disconnect())})},{threshold:bn||0});return Nn.observe(Cn),function(){Nn.unobserve(Cn),Nn.disconnect()}}},[]),Qt},$t=function(Vt){var Qt=Vt.children,yn=Vt.ignoreDirection,bn=yn!==void 0&&yn,An=Vt.size,Cn=An===void 0?24:An,Nn=xt.useContext(Pt).direction,Mn=!bn&&Nn===ht.TextDirection.RightToLeft,xn="".concat(Cn||24,"px");return xt.createElement("svg",{"aria-hidden":"true",className:kt({"rpv-core__icon":!0,"rpv-core__icon--rtl":Mn}),focusable:"false",height:xn,viewBox:"0 0 24 24",width:xn},Qt)},Ft=function(){return xt.createElement($t,{size:16},xt.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},Lt=function(Vt){var Qt=Vt.children,yn=Vt.testId,bn=Vt.onClick,An=xt.useContext(Pt).direction===ht.TextDirection.RightToLeft,Cn=yn?{"data-testid":yn}:{};return xt.createElement("button",St({className:kt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":An}),type:"button",onClick:bn},Cn),Qt)},Ot=function(Vt){var Qt=Vt.size,yn=Qt===void 0?"4rem":Qt,bn=Vt.testId,An=xt.useState(!1),Cn=An[0],Nn=An[1],Mn=bn?{"data-testid":bn}:{},xn=Dt({onVisibilityChanged:function(In){Nn(In.isVisible)}});return xt.createElement("div",St({},Mn,{className:kt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Cn}),ref:xn,style:{height:yn,width:yn}}))},Ht=function(Vt){var Qt=Vt.ariaLabel,yn=Qt===void 0?"":Qt,bn=Vt.autoFocus,An=bn!==void 0&&bn,Cn=Vt.placeholder,Nn=Cn===void 0?"":Cn,Mn=Vt.testId,xn=Vt.type,In=xn===void 0?"text":xn,Ln=Vt.value,er=Ln===void 0?"":Ln,_i=Vt.onChange,Jn=Vt.onKeyDown,cr=Jn===void 0?function(){}:Jn,ar=xt.useContext(Pt).direction,rr=xt.useRef(),Qr=ar===ht.TextDirection.RightToLeft,Lr={ref:rr,"data-testid":"","aria-label":yn,className:kt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Qr}),placeholder:Nn,value:er,onChange:function(Ir){return _i(Ir.target.value)},onKeyDown:cr};return Mn&&(Lr["data-testid"]=Mn),Mt(function(){if(An){var Ir=rr.current;if(Ir){var Br=window.scrollX,Sr=window.scrollY;Ir.focus(),window.scrollTo(Br,Sr)}}},[]),In==="text"?xt.createElement("input",St({type:"text"},Lr)):xt.createElement("input",St({type:"password"},Lr))};(function(Vt){Vt[Vt.ExitFullScreen=0]="ExitFullScreen",Vt[Vt.FullScreenChange=1]="FullScreenChange",Vt[Vt.FullScreenElement=2]="FullScreenElement",Vt[Vt.FullScreenEnabled=3]="FullScreenEnabled",Vt[Vt.RequestFullScreen=4]="RequestFullScreen"})(Rt||(Rt={}));var Nt,Bt={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},jt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},zt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},Kt=typeof window<"u",nn=Kt&&(Rt.FullScreenEnabled in document&&Bt||jt.FullScreenEnabled in document&&jt||zt.FullScreenEnabled in document&&zt)||Bt,qt=function(){return Kt&&nn.FullScreenEnabled in document&&document[nn.FullScreenEnabled]===!0},en=function(Vt){return Kt?Vt[nn.ExitFullScreen]():Promise.resolve({})},on=function(){return Kt?document[nn.FullScreenElement]:null},_n=function(Vt,Qt){var yn=xt.useRef(),bn=function(){yn.current&&clearTimeout(yn.current)};return xt.useEffect(function(){return function(){return bn()}},[]),xt.useCallback(function(){for(var An=[],Cn=0;Cn<arguments.length;Cn++)An[Cn]=arguments[Cn];bn(),yn.current=setTimeout(function(){Vt.apply(void 0,An)},Qt)},[Vt,Qt])},dn=function(){var Vt=xt.useRef(!1);return xt.useEffect(function(){return Vt.current=!0,function(){Vt.current=!1}},[]),Vt},En=function(Vt){var Qt=xt.useRef(Vt);return xt.useEffect(function(){Qt.current=Vt},[Vt]),Qt.current};(function(Vt){Vt.NotRenderedYet="NotRenderedYet",Vt.Rendering="Rendering",Vt.Rendered="Rendered"})(Nt||(Nt={}));var cn,hn=-9999,tn=function(Vt){var Qt=Vt.doc,yn=Qt.numPages,bn=Qt.loadingTask.docId,An=xt.useMemo(function(){return Array(yn).fill(null).map(function(Mn,xn){return{pageIndex:xn,renderStatus:Nt.NotRenderedYet,visibility:hn}})},[bn]),Cn=xt.useRef({currentRenderingPage:-1,startRange:0,endRange:yn-1,visibilities:An}),Nn=function(Mn,xn){Cn.current.visibilities[Mn].visibility=xn};return{getHighestPriorityPage:function(){var Mn=Cn.current.visibilities.slice(Cn.current.startRange,Cn.current.endRange+1).filter(function(_i){return _i.visibility>hn});if(!Mn.length)return-1;for(var xn=Mn[0].pageIndex,In=Mn[Mn.length-1].pageIndex,Ln=Mn.length,er=0;er<Ln;er++){if(Mn[er].renderStatus===Nt.Rendering)return-1;if(Mn[er].renderStatus===Nt.NotRenderedYet)return Mn[er].pageIndex}return In+1<yn&&Cn.current.visibilities[In+1].renderStatus!==Nt.Rendered?In+1:xn-1>=0&&Cn.current.visibilities[xn-1].renderStatus!==Nt.Rendered?xn-1:-1},isInRange:function(Mn){return Mn>=Cn.current.startRange&&Mn<=Cn.current.endRange},markNotRendered:function(){for(var Mn=0;Mn<yn;Mn++)Cn.current.visibilities[Mn].renderStatus=Nt.NotRenderedYet},markRendered:function(Mn){Cn.current.visibilities[Mn].renderStatus=Nt.Rendered},markRendering:function(Mn){Cn.current.currentRenderingPage!==-1&&Cn.current.currentRenderingPage!==Mn&&Cn.current.visibilities[Cn.current.currentRenderingPage].renderStatus===Nt.Rendering&&(Cn.current.visibilities[Cn.current.currentRenderingPage].renderStatus=Nt.NotRenderedYet),Cn.current.visibilities[Mn].renderStatus=Nt.Rendering,Cn.current.currentRenderingPage=Mn},setOutOfRange:function(Mn){Nn(Mn,hn)},setRange:function(Mn,xn){Cn.current.startRange=Mn,Cn.current.endRange=xn;for(var In=0;In<yn;In++)(In<Mn||In>xn)&&(Cn.current.visibilities[In].visibility=hn,Cn.current.visibilities[In].renderStatus=Nt.NotRenderedYet)},setVisibility:Nn}},gn={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Sn=xt.createContext({l10n:gn,setL10n:function(){}}),rn=0,Xt=function(){return rn++},Yt=function(Vt,Qt,yn){var bn=function(An){var Cn=Qt.current;if(Cn){var Nn=An.target;if(Nn instanceof Element&&Nn.shadowRoot){var Mn=An.composedPath();Mn.length>0&&!Cn.contains(Mn[0])&&yn()}else Cn.contains(Nn)||yn()}};xt.useEffect(function(){if(Vt){var An={capture:!0};return document.addEventListener("click",bn,An),function(){document.removeEventListener("click",bn,An)}}},[])},Jt=function(Vt){var Qt=function(yn){yn.key==="Escape"&&Vt()};xt.useEffect(function(){return document.addEventListener("keyup",Qt),function(){document.removeEventListener("keyup",Qt)}},[])},un=function(Vt){var Qt=Vt.ariaControlsSuffix,yn=Vt.children,bn=Vt.closeOnClickOutside,An=Vt.closeOnEscape,Cn=Vt.onToggle,Nn=xt.useRef(),Mn=xt.useContext(Pt).direction===ht.TextDirection.RightToLeft;return xt.useEffect(function(){var xn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=xn}},[]),Jt(function(){Nn.current&&An&&Cn()}),Yt(bn,Nn,Cn),Mt(function(){var xn=Nn.current;if(xn){var In=.75*document.body.clientHeight;xn.getBoundingClientRect().height>=In&&(xn.style.overflow="auto",xn.style.maxHeight="".concat(In,"px"))}},[]),xt.createElement("div",{"aria-modal":"true",className:kt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Mn}),id:"rpv-core__modal-body-".concat(Qt),ref:Nn,role:"dialog",tabIndex:-1},yn)},ln=function(Vt){var Qt=Vt.children;return xt.createElement("div",{className:"rpv-core__modal-overlay"},Qt)};ht.ToggleStatus=void 0,(cn=ht.ToggleStatus||(ht.ToggleStatus={})).Close="Close",cn.Open="Open",cn.Toggle="Toggle";var fn,Rn=function(Vt){var Qt=xt.useState(Vt),yn=Qt[0],bn=Qt[1];return{opened:yn,toggle:function(An){switch(An){case ht.ToggleStatus.Close:bn(!1);break;case ht.ToggleStatus.Open:bn(!0);break;case ht.ToggleStatus.Toggle:default:bn(function(Cn){return!Cn})}}}},jn=function(Vt){var Qt=Vt.content,yn=Vt.isOpened,bn=yn!==void 0&&yn,An=Vt.target,Cn=Rn(bn),Nn=Cn.opened,Mn=Cn.toggle;return xt.createElement(xt.Fragment,null,An&&An(Mn,Nn),Nn&&Qt(Mn))};ht.Position=void 0,(fn=ht.Position||(ht.Position={})).TopLeft="TOP_LEFT",fn.TopCenter="TOP_CENTER",fn.TopRight="TOP_RIGHT",fn.RightTop="RIGHT_TOP",fn.RightCenter="RIGHT_CENTER",fn.RightBottom="RIGHT_BOTTOM",fn.BottomLeft="BOTTOM_LEFT",fn.BottomCenter="BOTTOM_CENTER",fn.BottomRight="BOTTOM_RIGHT",fn.LeftTop="LEFT_TOP",fn.LeftCenter="LEFT_CENTER",fn.LeftBottom="LEFT_BOTTOM";var Un,zn,Gn,Yn,Zn,Dn,$n,sn,mn=function(Vt,Qt,yn,bn,An){Mt(function(){var Cn=Qt.current,Nn=Vt.current,Mn=yn.current;if(Nn&&Cn&&Mn){var xn=Mn.getBoundingClientRect(),In=function(_i,Jn,cr,ar){var rr=Jn.getBoundingClientRect(),Qr=_i.getBoundingClientRect(),Lr=Qr.height,Ir=Qr.width,Br=0,Sr=0;switch(cr){case ht.Position.TopLeft:Br=rr.top-Lr,Sr=rr.left;break;case ht.Position.TopCenter:Br=rr.top-Lr,Sr=rr.left+rr.width/2-Ir/2;break;case ht.Position.TopRight:Br=rr.top-Lr,Sr=rr.left+rr.width-Ir;break;case ht.Position.RightTop:Br=rr.top,Sr=rr.left+rr.width;break;case ht.Position.RightCenter:Br=rr.top+rr.height/2-Lr/2,Sr=rr.left+rr.width;break;case ht.Position.RightBottom:Br=rr.top+rr.height-Lr,Sr=rr.left+rr.width;break;case ht.Position.BottomLeft:Br=rr.top+rr.height,Sr=rr.left;break;case ht.Position.BottomCenter:Br=rr.top+rr.height,Sr=rr.left+rr.width/2-Ir/2;break;case ht.Position.BottomRight:Br=rr.top+rr.height,Sr=rr.left+rr.width-Ir;break;case ht.Position.LeftTop:Br=rr.top,Sr=rr.left-Ir;break;case ht.Position.LeftCenter:Br=rr.top+rr.height/2-Lr/2,Sr=rr.left-Ir;break;case ht.Position.LeftBottom:Br=rr.top+rr.height-Lr,Sr=rr.left-Ir}return{left:Sr+(ar.left||0),top:Br+(ar.top||0)}}(Nn,Cn,bn,An),Ln=In.top,er=In.left;Nn.style.top="".concat(Ln-xn.top,"px"),Nn.style.left="".concat(er-xn.left,"px")}},[])},Pn=function(Vt){var Qt,yn=Vt.customClassName,bn=Vt.position;return xt.createElement("div",{className:kt((Qt={"rpv-core__arrow":!0,"rpv-core__arrow--tl":bn===ht.Position.TopLeft,"rpv-core__arrow--tc":bn===ht.Position.TopCenter,"rpv-core__arrow--tr":bn===ht.Position.TopRight,"rpv-core__arrow--rt":bn===ht.Position.RightTop,"rpv-core__arrow--rc":bn===ht.Position.RightCenter,"rpv-core__arrow--rb":bn===ht.Position.RightBottom,"rpv-core__arrow--bl":bn===ht.Position.BottomLeft,"rpv-core__arrow--bc":bn===ht.Position.BottomCenter,"rpv-core__arrow--br":bn===ht.Position.BottomRight,"rpv-core__arrow--lt":bn===ht.Position.LeftTop,"rpv-core__arrow--lc":bn===ht.Position.LeftCenter,"rpv-core__arrow--lb":bn===ht.Position.LeftBottom},Qt["".concat(yn)]=yn!=="",Qt))})},On=function(Vt){var Qt=Vt.ariaControlsSuffix,yn=Vt.children,bn=Vt.closeOnClickOutside,An=Vt.offset,Cn=Vt.position,Nn=Vt.targetRef,Mn=Vt.onClose,xn=xt.useRef(),In=xt.useRef(),Ln=xt.useRef(),er=xt.useContext(Pt).direction===ht.TextDirection.RightToLeft;Yt(bn,xn,Mn),mn(xn,Nn,Ln,Cn,An),Mt(function(){var Jn=In.current;if(Jn){var cr=.75*document.body.clientHeight;Jn.getBoundingClientRect().height>=cr&&(Jn.style.overflow="auto",Jn.style.maxHeight="".concat(cr,"px"))}},[]);var _i="rpv-core__popover-body-inner-".concat(Qt);return xt.createElement(xt.Fragment,null,xt.createElement("div",{ref:Ln,style:{left:0,position:"absolute",top:0}}),xt.createElement("div",{"aria-describedby":_i,className:kt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":er}),id:"rpv-core__popover-body-".concat(Qt),ref:xn,role:"dialog",tabIndex:-1},xt.createElement(Pn,{customClassName:"rpv-core__popover-body-arrow",position:Cn}),xt.createElement("div",{id:_i,ref:In},yn)))},Wn=function(Vt){var Qt=Vt.closeOnEscape,yn=Vt.onClose,bn=xt.useRef();return Jt(function(){bn.current&&Qt&&yn()}),xt.createElement("div",{className:"rpv-core__popover-overlay",ref:bn})},Qn=function(Vt){var Qt=Vt.ariaControlsSuffix,yn=Vt.children,bn=Vt.contentRef,An=Vt.offset,Cn=Vt.position,Nn=Vt.targetRef,Mn=xt.useRef(),xn=xt.useContext(Pt).direction===ht.TextDirection.RightToLeft;return mn(bn,Nn,Mn,Cn,An),xt.createElement(xt.Fragment,null,xt.createElement("div",{ref:Mn,style:{left:0,position:"absolute",top:0}}),xt.createElement("div",{className:kt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":xn}),id:"rpv-core__tooltip-body-".concat(Qt),ref:bn,role:"tooltip"},xt.createElement(Pn,{customClassName:"rpv-core__tooltip-body-arrow",position:Cn}),xt.createElement("div",{className:"rpv-core__tooltip-body-content"},yn)))};ht.FullScreenMode=void 0,(Un=ht.FullScreenMode||(ht.FullScreenMode={})).Normal="Normal",Un.Entering="Entering",Un.Entered="Entered",Un.EnteredCompletely="EnteredCompletely",Un.Exitting="Exitting",Un.Exited="Exited",ht.LayerRenderStatus=void 0,(zn=ht.LayerRenderStatus||(ht.LayerRenderStatus={}))[zn.PreRender=0]="PreRender",zn[zn.DidRender=1]="DidRender",ht.PageMode=void 0,(Gn=ht.PageMode||(ht.PageMode={})).Attachments="UseAttachments",Gn.Bookmarks="UseOutlines",Gn.ContentGroup="UseOC",Gn.Default="UserNone",Gn.FullScreen="FullScreen",Gn.Thumbnails="UseThumbs",ht.PasswordStatus=void 0,(Yn=ht.PasswordStatus||(ht.PasswordStatus={})).RequiredPassword="RequiredPassword",Yn.WrongPassword="WrongPassword",ht.RotateDirection=void 0,(Zn=ht.RotateDirection||(ht.RotateDirection={})).Backward="Backward",Zn.Forward="Forward",ht.ScrollMode=void 0,(Dn=ht.ScrollMode||(ht.ScrollMode={})).Page="Page",Dn.Horizontal="Horizontal",Dn.Vertical="Vertical",Dn.Wrapped="Wrapped",ht.SpecialZoomLevel=void 0,($n=ht.SpecialZoomLevel||(ht.SpecialZoomLevel={})).ActualSize="ActualSize",$n.PageFit="PageFit",$n.PageWidth="PageWidth",ht.ViewMode=void 0,(sn=ht.ViewMode||(ht.ViewMode={})).DualPage="DualPage",sn.DualPageWithCover="DualPageWithCover",sn.SinglePage="SinglePage";var qn,Tn=function(Vt,Qt){return Vt.reduce(function(yn,bn,An){return An%Qt?yn[yn.length-1].push(bn):yn.push([bn]),yn},[])},or=function(Vt,Qt){switch(Qt[1].name){case"XYZ":return{bottomOffset:function(yn,bn){return Qt[3]===null?bn:Qt[3]},leftOffset:function(yn,bn){return Qt[2]===null?0:Qt[2]},pageIndex:Vt,scaleTo:Qt[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Vt,scaleTo:ht.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Qt[2],leftOffset:0,pageIndex:Vt,scaleTo:ht.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Vt,scaleTo:1}}},nr=new Map,Or=new Map,Pr=function(Vt,Qt){return"".concat(Vt.loadingTask.docId,"___").concat(Qt.num,"R").concat(Qt.gen===0?"":Qt.gen)},Kr=function(Vt,Qt,yn){nr.set(Pr(Vt,Qt),yn)},hr=function(Vt,Qt){if(!Vt)return Promise.reject("The document is not loaded yet");var yn="".concat(Vt.loadingTask.docId,"___").concat(Qt),bn=Or.get(yn);return bn?Promise.resolve(bn):new Promise(function(An,Cn){Vt.getPage(Qt+1).then(function(Nn){Or.set(yn,Nn),Nn.ref&&Kr(Vt,Nn.ref,Qt),An(Nn)})})},_r=function(Vt,Qt){return new Promise(function(yn){new Promise(function(bn){typeof Qt=="string"?Vt.getDestination(Qt).then(function(An){bn(An)}):bn(Qt)}).then(function(bn){if(typeof bn[0]=="object"&&bn[0]!==null){var An=bn[0],Cn=function(Mn,xn){var In=Pr(Mn,xn);return nr.has(In)?nr.get(In):null}(Vt,An);Cn===null?Vt.getPageIndex(An).then(function(Mn){Kr(Vt,An,Mn),_r(Vt,Qt).then(function(xn){return yn(xn)})}):yn(or(Cn,bn))}else{var Nn=or(bn[0],bn);yn(Nn)}})})};(function(Vt){Vt[Vt.Solid=1]="Solid",Vt[Vt.Dashed=2]="Dashed",Vt[Vt.Beveled=3]="Beveled",Vt[Vt.Inset=4]="Inset",Vt[Vt.Underline=5]="Underline"})(qn||(qn={}));var Ur,is=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Xn=function(Vt,Qt,yn,bn){var An=parseInt(Vt,10);return An>=Qt&&An<=yn?An:bn},kn=function(Vt){return Vt.contentsObj?Vt.contentsObj.str:Vt.contents||""},Fn=function(Vt){return Vt.titleObj?Vt.titleObj.str:Vt.title||""},dr=function(Vt){var Qt=Vt.annotation,yn=xt.useContext(Pt).direction,bn=Fn(Qt),An=kn(Qt),Cn=yn===ht.TextDirection.RightToLeft,Nn=xt.useRef(),Mn="";if(Qt.modificationDate){var xn=function(In){var Ln=is.exec(In);if(!Ln)return null;var er=parseInt(Ln[1],10),_i=Xn(Ln[2],1,12,1)-1,Jn=Xn(Ln[3],1,31,1),cr=Xn(Ln[4],0,23,0),ar=Xn(Ln[5],0,59,0),rr=Xn(Ln[6],0,59,0),Qr=Ln[7]||"Z",Lr=Xn(Ln[8],0,23,0),Ir=Xn(Ln[9],0,59,0);switch(Qr){case"-":cr+=Lr,ar+=Ir;break;case"+":cr-=Lr,ar-=Ir}return new Date(Date.UTC(er,_i,Jn,cr,ar,rr))}(Qt.modificationDate);Mn=xn?"".concat(xn.toLocaleDateString(),", ").concat(xn.toLocaleTimeString()):""}return xt.useLayoutEffect(function(){if(Nn.current){var In=document.querySelector('[data-annotation-id="'.concat(Qt.id,'"]'));if(In){var Ln=In;return Ln.style.zIndex+=1,function(){Ln.style.zIndex="".concat(parseInt(Ln.style.zIndex,10)-1)}}}},[]),xt.createElement("div",{ref:Nn,className:kt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Cn}),style:{top:Qt.annotationType===ht.AnnotationType.Popup?"":"100%"}},bn&&xt.createElement(xt.Fragment,null,xt.createElement("div",{className:kt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Cn,"rpv-core__annotation-popup-title--rtl":Cn})},bn),xt.createElement("div",{className:"rpv-core__annotation-popup-date"},Mn)),An&&xt.createElement("div",{className:"rpv-core__annotation-popup-content"},An.split(`
`).map(function(In,Ln){return xt.createElement(xt.Fragment,{key:Ln},In,xt.createElement("br",null))})))};(function(Vt){Vt.Click="Click",Vt.Hover="Hover"})(Ur||(Ur={}));var gr,Tr=function(Vt){var Qt,yn=Vt.annotation,bn=Vt.children,An=Vt.ignoreBorder,Cn=Vt.hasPopup,Nn=Vt.isRenderable,Mn=Vt.page,xn=Vt.viewport,In=yn.rect,Ln=function(){var Nr=Rn(!1),as=Nr.opened,rs=Nr.toggle,ls=xt.useState(Ur.Hover),us=ls[0],fs=ls[1];return{opened:as,closeOnHover:function(){us===Ur.Hover&&rs(ht.ToggleStatus.Close)},openOnHover:function(){us===Ur.Hover&&rs(ht.ToggleStatus.Open)},toggleOnClick:function(){switch(us){case Ur.Click:as&&fs(Ur.Hover),rs(ht.ToggleStatus.Toggle);break;case Ur.Hover:fs(Ur.Click),rs(ht.ToggleStatus.Open)}}}}(),er=Ln.closeOnHover,_i=Ln.opened,Jn=Ln.openOnHover,cr=Ln.toggleOnClick,ar=(Qt=[In[0],Mn.view[3]+Mn.view[1]-In[1],In[2],Mn.view[3]+Mn.view[1]-In[3]],[Math.min(Qt[0],Qt[2]),Math.min(Qt[1],Qt[3]),Math.max(Qt[0],Qt[2]),Math.max(Qt[1],Qt[3])]),rr=In[2]-In[0],Qr=In[3]-In[1],Lr={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!An&&yn.borderStyle.width>0){switch(yn.borderStyle.style){case qn.Dashed:Lr.borderStyle="dashed";break;case qn.Solid:Lr.borderStyle="solid";break;case qn.Underline:Lr=Object.assign({borderBottomStyle:"solid"},Lr);case qn.Beveled:case qn.Inset:}var Ir=yn.borderStyle.width;Lr.borderWidth="".concat(Ir,"px"),yn.borderStyle.style!==qn.Underline&&(rr-=2*Ir,Qr-=2*Ir);var Br=yn.borderStyle,Sr=Br.horizontalCornerRadius,zr=Br.verticalCornerRadius;(Sr>0||zr>0)&&(Lr.borderRadius="".concat(Sr,"px / ").concat(zr,"px")),yn.color?Lr.borderColor="rgb(".concat(0|yn.color[0],", ").concat(0|yn.color[1],", ").concat(0|yn.color[2],")"):Lr.borderWidth="0"}return xt.createElement(xt.Fragment,null,Nn&&bn({popup:{opened:_i,closeOnHover:er,openOnHover:Jn,toggleOnClick:cr},slot:{attrs:{style:Object.assign({height:"".concat(Qr,"px"),left:"".concat(ar[0],"px"),top:"".concat(ar[1],"px"),transform:"matrix(".concat(xn.transform.join(","),")"),transformOrigin:"-".concat(ar[0],"px -").concat(ar[1],"px"),width:"".concat(rr,"px")},Lr)},children:xt.createElement(xt.Fragment,null,Cn&&_i&&xt.createElement(dr,{annotation:yn}))}}))},vn=function(Vt){var Qt=Vt.annotation,yn=Vt.page,bn=Vt.viewport,An=Qt.hasPopup===!1,Cn=Fn(Qt),Nn=kn(Qt),Mn=!!(Qt.hasPopup||Cn||Nn);return xt.createElement(Tr,{annotation:Qt,hasPopup:An,ignoreBorder:!0,isRenderable:Mn,page:yn,viewport:bn},function(xn){return xt.createElement("div",St({},xn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Qt.id,onClick:xn.popup.toggleOnClick,onMouseEnter:xn.popup.openOnHover,onMouseLeave:xn.popup.closeOnHover}),xn.slot.children)})},Vn=function(Vt){var Qt=Vt.annotation,yn=Vt.page,bn=Vt.viewport,An=Qt.hasPopup===!1,Cn=Fn(Qt),Nn=kn(Qt),Mn=!!(Qt.hasPopup||Cn||Nn),xn=Qt.rect,In=xn[2]-xn[0],Ln=xn[3]-xn[1],er=Qt.borderStyle.width;return xt.createElement(Tr,{annotation:Qt,hasPopup:An,ignoreBorder:!0,isRenderable:Mn,page:yn,viewport:bn},function(_i){return xt.createElement("div",St({},_i.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Qt.id,onClick:_i.popup.toggleOnClick,onMouseEnter:_i.popup.openOnHover,onMouseLeave:_i.popup.closeOnHover}),xt.createElement("svg",{height:"".concat(Ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(In," ").concat(Ln),width:"".concat(In,"px")},xt.createElement("circle",{cy:Ln/2,fill:"none",rx:In/2-er/2,ry:Ln/2-er/2,stroke:"transparent",strokeWidth:er||1})),_i.slot.children)})},sr=function(Vt){var Qt=Vt.annotation,yn=Vt.page,bn=Vt.viewport,An=Fn(Qt),Cn=kn(Qt),Nn=!(Qt.hasPopup!==!1||!An&&!Cn),Mn=function(){var xn,In,Ln,er,_i=Qt.file;_i&&(xn=_i.filename,In=_i.content,Ln=typeof In=="string"?"":URL.createObjectURL(new Blob([In],{type:""})),(er=document.createElement("a")).style.display="none",er.href=Ln||xn,er.setAttribute("download",function(Jn){var cr=Jn.split("/").pop();return cr?cr.split("#")[0].split("?")[0]:Jn}(xn)),document.body.appendChild(er),er.click(),document.body.removeChild(er),Ln&&URL.revokeObjectURL(Ln))};return xt.createElement(Tr,{annotation:Qt,hasPopup:Nn,ignoreBorder:!0,isRenderable:!0,page:yn,viewport:bn},function(xn){return xt.createElement("div",St({},xn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Qt.id,onClick:xn.popup.toggleOnClick,onDoubleClick:Mn,onMouseEnter:xn.popup.openOnHover,onMouseLeave:xn.popup.closeOnHover}),xn.slot.children)})},mr=function(Vt){var Qt=Vt.annotation,yn=Vt.page,bn=Vt.viewport,An=Qt.hasPopup===!1,Cn=Fn(Qt),Nn=kn(Qt),Mn=!!(Qt.hasPopup||Cn||Nn);return xt.createElement(Tr,{annotation:Qt,hasPopup:An,ignoreBorder:!0,isRenderable:Mn,page:yn,viewport:bn},function(xn){return xt.createElement("div",St({},xn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Qt.id,onClick:xn.popup.toggleOnClick,onMouseEnter:xn.popup.openOnHover,onMouseLeave:xn.popup.closeOnHover}),xn.slot.children)})},br=function(Vt){var Qt=Vt.annotation,yn=Vt.page,bn=Vt.viewport,An=Fn(Qt),Cn=kn(Qt),Nn=!(!An&&!Cn),Mn=!Qt.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Qt.parentType)!==-1;return Mt(function(){if(Qt.parentId){var xn=document.querySelector('[data-annotation-id="'.concat(Qt.parentId,'"]')),In=document.querySelector('[data-annotation-id="'.concat(Qt.id,'"]'));if(xn&&In){var Ln=parseFloat(xn.style.left),er=parseFloat(xn.style.top)+parseFloat(xn.style.height);In.style.left="".concat(Ln,"px"),In.style.top="".concat(er,"px"),In.style.transformOrigin="-".concat(Ln,"px -").concat(er,"px")}}},[]),xt.createElement(Tr,{annotation:Qt,hasPopup:Mn,ignoreBorder:!1,isRenderable:Nn,page:yn,viewport:bn},function(xn){return xt.createElement("div",St({},xn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Qt.id}),xt.createElement(dr,{annotation:Qt}))})},ur=function(Vt){var Qt=Vt.annotation,yn=Vt.childAnnotation,bn=Vt.page,An=Vt.viewport,Cn=Qt.hasPopup===!1,Nn=Fn(Qt),Mn=kn(Qt),xn=!!(Qt.hasPopup||Nn||Mn);if(Qt.quadPoints&&Qt.quadPoints.length>0){var In=Qt.quadPoints.map(function(Ln){return Object.assign({},Qt,{rect:[Ln[2].x,Ln[2].y,Ln[1].x,Ln[1].y],quadPoints:[]})});return xt.createElement(xt.Fragment,null,In.map(function(Ln,er){return xt.createElement(ur,{key:er,annotation:Ln,childAnnotation:yn,page:bn,viewport:An})}))}return xt.createElement(Tr,{annotation:Qt,hasPopup:Cn,ignoreBorder:!0,isRenderable:xn,page:bn,viewport:An},function(Ln){return xt.createElement(xt.Fragment,null,xt.createElement("div",St({},Ln.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Qt.id,onClick:Ln.popup.toggleOnClick,onMouseEnter:Ln.popup.openOnHover,onMouseLeave:Ln.popup.closeOnHover}),Ln.slot.children),yn&&yn.annotationType===ht.AnnotationType.Popup&&Ln.popup.opened&&xt.createElement(br,{annotation:yn,page:bn,viewport:An}))})},pn=function(Vt){var Qt=Vt.annotation,yn=Vt.page,bn=Vt.viewport,An=Qt.hasPopup===!1,Cn=Fn(Qt),Nn=kn(Qt),Mn=!!(Qt.hasPopup||Cn||Nn),xn=Qt.rect,In=xn[2]-xn[0],Ln=xn[3]-xn[1],er=Qt.borderStyle.width;return xt.createElement(Tr,{annotation:Qt,hasPopup:An,ignoreBorder:!0,isRenderable:Mn,page:yn,viewport:bn},function(_i){return xt.createElement("div",St({},_i.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Qt.id,onClick:_i.popup.toggleOnClick,onMouseEnter:_i.popup.openOnHover,onMouseLeave:_i.popup.closeOnHover}),Qt.inkLists&&Qt.inkLists.length&&xt.createElement("svg",{height:"".concat(Ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(In," ").concat(Ln),width:"".concat(In,"px")},Qt.inkLists.map(function(Jn,cr){return xt.createElement("polyline",{key:cr,fill:"none",stroke:"transparent",strokeWidth:er||1,points:Jn.map(function(ar){return"".concat(ar.x-xn[0],",").concat(xn[3]-ar.y)}).join(" ")})})),_i.slot.children)})},an=function(Vt){var Qt=Vt.annotation,yn=Vt.page,bn=Vt.viewport,An=Qt.hasPopup===!1,Cn=Fn(Qt),Nn=kn(Qt),Mn=!!(Qt.hasPopup||Cn||Nn),xn=Qt.rect,In=xn[2]-xn[0],Ln=xn[3]-xn[1],er=Qt.borderStyle.width;return xt.createElement(Tr,{annotation:Qt,hasPopup:An,ignoreBorder:!0,isRenderable:Mn,page:yn,viewport:bn},function(_i){return xt.createElement("div",St({},_i.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Qt.id,onClick:_i.popup.toggleOnClick,onMouseEnter:_i.popup.openOnHover,onMouseLeave:_i.popup.closeOnHover}),xt.createElement("svg",{height:"".concat(Ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(In," ").concat(Ln),width:"".concat(In,"px")},xt.createElement("line",{stroke:"transparent",strokeWidth:er||1,x1:xn[2]-Qt.lineCoordinates[0],x2:xn[2]-Qt.lineCoordinates[2],y1:xn[3]-Qt.lineCoordinates[1],y2:xn[3]-Qt.lineCoordinates[3]})),_i.slot.children)})},wn=/^([^\w]*)(javascript|data|vbscript)/im,Hn=/&#(\w+)(^\w|;)?/g,Bn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Kn=/^([^:]+):/gm,tr=function(Vt,Qt){var yn,bn=(yn=Vt||"",yn.replace(Hn,function(Mn,xn){return String.fromCharCode(xn)})).replace(Bn,"").trim();if(!bn)return Qt;var An=bn[0];if(An==="."||An==="/")return bn;var Cn=bn.match(Kn);if(!Cn)return bn;var Nn=Cn[0];return wn.test(Nn)?Qt:bn},vr=function(Vt){var Qt,yn=Vt.annotation,bn=Vt.annotationContainerRef,An=Vt.doc,Cn=Vt.outlines,Nn=Vt.page,Mn=Vt.pageIndex,xn=Vt.scale,In=Vt.viewport,Ln=Vt.onExecuteNamedAction,er=Vt.onJumpFromLinkAnnotation,_i=Vt.onJumpToDest,Jn=xt.useRef(),cr=Cn&&Cn.length&&yn.dest&&typeof yn.dest=="string"?(Qt=Cn.find(function(Lr){return Lr.dest===yn.dest}))===null||Qt===void 0?void 0:Qt.title:"",ar=!!(yn.url||yn.dest||yn.action||yn.unsafeUrl),rr={};if(yn.url||yn.unsafeUrl){var Qr=tr(yn.url||yn.unsafeUrl,"");Qr?rr={"data-target":"external",href:Qr,rel:"noopener noreferrer nofollow",target:yn.newWindow?"_blank":"",title:Qr}:ar=!1}else rr={href:"","data-annotation-link":yn.id,onClick:function(Lr){Lr.preventDefault(),yn.action?Ln(yn.action):_r(An,yn.dest).then(function(Ir){var Br=Jn.current,Sr=bn.current;if(Br&&Sr){var zr=Br.getBoundingClientRect();Sr.style.setProperty("height","100%"),Sr.style.setProperty("width","100%");var Nr=Sr.getBoundingClientRect();Sr.style.removeProperty("height"),Sr.style.removeProperty("width");var as=(zr.left-Nr.left)/xn,rs=(Nr.bottom-zr.bottom+zr.height)/xn;er({bottomOffset:rs,label:cr,leftOffset:as,pageIndex:Mn})}_i(Ir)})}};return cr&&(rr=Object.assign({},rr,{title:cr,"aria-label":cr})),xt.createElement(Tr,{annotation:yn,hasPopup:!1,ignoreBorder:!1,isRenderable:ar,page:Nn,viewport:In},function(Lr){return xt.createElement("div",St({},Lr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":yn.id,"data-testid":"core__annotation--link-".concat(yn.id)}),xt.createElement("a",St({ref:Jn},rr)))})},fr=function(Vt){var Qt=Vt.annotation,yn=Vt.page,bn=Vt.viewport,An=Qt.hasPopup===!1,Cn=Fn(Qt),Nn=kn(Qt),Mn=!!(Qt.hasPopup||Cn||Nn),xn=Qt.rect,In=xn[2]-xn[0],Ln=xn[3]-xn[1],er=Qt.borderStyle.width;return xt.createElement(Tr,{annotation:Qt,hasPopup:An,ignoreBorder:!0,isRenderable:Mn,page:yn,viewport:bn},function(_i){return xt.createElement("div",St({},_i.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Qt.id,onClick:_i.popup.toggleOnClick,onMouseEnter:_i.popup.openOnHover,onMouseLeave:_i.popup.closeOnHover}),Qt.vertices&&Qt.vertices.length&&xt.createElement("svg",{height:"".concat(Ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(In," ").concat(Ln),width:"".concat(In,"px")},xt.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:er||1,points:Qt.vertices.map(function(Jn){return"".concat(Jn.x-xn[0],",").concat(xn[3]-Jn.y)}).join(" ")})),_i.slot.children)})},lr=function(Vt){var Qt=Vt.annotation,yn=Vt.page,bn=Vt.viewport,An=Qt.hasPopup===!1,Cn=Fn(Qt),Nn=kn(Qt),Mn=!!(Qt.hasPopup||Cn||Nn),xn=Qt.rect,In=xn[2]-xn[0],Ln=xn[3]-xn[1],er=Qt.borderStyle.width;return xt.createElement(Tr,{annotation:Qt,hasPopup:An,ignoreBorder:!0,isRenderable:Mn,page:yn,viewport:bn},function(_i){return xt.createElement("div",St({},_i.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Qt.id,onClick:_i.popup.toggleOnClick,onMouseEnter:_i.popup.openOnHover,onMouseLeave:_i.popup.closeOnHover}),Qt.vertices&&Qt.vertices.length&&xt.createElement("svg",{height:"".concat(Ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(In," ").concat(Ln),width:"".concat(In,"px")},xt.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:er||1,points:Qt.vertices.map(function(Jn){return"".concat(Jn.x-xn[0],",").concat(xn[3]-Jn.y)}).join(" ")})),_i.slot.children)})},Hr=function(Vt){var Qt=Vt.annotation,yn=Vt.page,bn=Vt.viewport,An=Qt.hasPopup===!1,Cn=Fn(Qt),Nn=kn(Qt),Mn=!!(Qt.hasPopup||Cn||Nn),xn=Qt.rect,In=xn[2]-xn[0],Ln=xn[3]-xn[1],er=Qt.borderStyle.width;return xt.createElement(Tr,{annotation:Qt,hasPopup:An,ignoreBorder:!0,isRenderable:Mn,page:yn,viewport:bn},function(_i){return xt.createElement("div",St({},_i.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Qt.id,onClick:_i.popup.toggleOnClick,onMouseEnter:_i.popup.openOnHover,onMouseLeave:_i.popup.closeOnHover}),xt.createElement("svg",{height:"".concat(Ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(In," ").concat(Ln),width:"".concat(In,"px")},xt.createElement("rect",{height:Ln-er,fill:"none",stroke:"transparent",strokeWidth:er||1,x:er/2,y:er/2,width:In-er})),_i.slot.children)})},pr=function(Vt){var Qt=Vt.annotation,yn=Vt.page,bn=Vt.viewport,An=Qt.hasPopup===!1,Cn=Fn(Qt),Nn=kn(Qt),Mn=!!(Qt.hasPopup||Cn||Nn);return xt.createElement(Tr,{annotation:Qt,hasPopup:An,ignoreBorder:!0,isRenderable:Mn,page:yn,viewport:bn},function(xn){return xt.createElement("div",St({},xn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Qt.id,onClick:xn.popup.toggleOnClick,onMouseEnter:xn.popup.openOnHover,onMouseLeave:xn.popup.closeOnHover}),xn.slot.children)})},xr=function(Vt){var Qt=Vt.annotation,yn=Vt.page,bn=Vt.viewport,An=Qt.hasPopup===!1,Cn=Fn(Qt),Nn=kn(Qt),Mn=!!(Qt.hasPopup||Cn||Nn);return xt.createElement(Tr,{annotation:Qt,hasPopup:An,ignoreBorder:!0,isRenderable:Mn,page:yn,viewport:bn},function(xn){return xt.createElement("div",St({},xn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Qt.id,onClick:xn.popup.toggleOnClick,onMouseEnter:xn.popup.openOnHover,onMouseLeave:xn.popup.closeOnHover}),xn.slot.children)})},Dr=function(Vt){var Qt=Vt.annotation,yn=Vt.page,bn=Vt.viewport,An=Qt.hasPopup===!1,Cn=Fn(Qt),Nn=kn(Qt),Mn=!!(Qt.hasPopup||Cn||Nn);return xt.createElement(Tr,{annotation:Qt,hasPopup:An,ignoreBorder:!0,isRenderable:Mn,page:yn,viewport:bn},function(xn){return xt.createElement("div",St({},xn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Qt.id,onClick:xn.popup.toggleOnClick,onMouseEnter:xn.popup.openOnHover,onMouseLeave:xn.popup.closeOnHover}),xn.slot.children)})},Vr=function(){return xt.createElement($t,{size:16},xt.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),xt.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),xt.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),xt.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},es=function(){return xt.createElement($t,{size:16},xt.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),xt.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),xt.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),xt.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),xt.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),xt.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),xt.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),xt.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),xt.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),xt.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},hs=function(){return xt.createElement($t,{size:16},xt.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),xt.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Hs=function(){return xt.createElement($t,{size:16},xt.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),xt.createElement("path",{d:"M6 4.5L6 0.5"}),xt.createElement("path",{d:"M18 4.5L18 0.5"}),xt.createElement("path",{d:"M10 4.5L10 0.5"}),xt.createElement("path",{d:"M14 4.5L14 0.5"}))},ks=function(){return xt.createElement($t,{size:16},xt.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),xt.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),xt.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},jo=function(){return xt.createElement($t,{size:16},xt.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},na=function(Vt){var Qt=Vt.annotation,yn=Vt.childAnnotation,bn=Vt.page,An=Vt.viewport,Cn=Qt.hasPopup===!1,Nn=Fn(Qt),Mn=kn(Qt),xn=!!(Qt.hasPopup||Nn||Mn),In=Qt.name?Qt.name.toLowerCase():"";return xt.createElement(Tr,{annotation:Qt,hasPopup:Cn,ignoreBorder:!1,isRenderable:xn,page:bn,viewport:An},function(Ln){return xt.createElement(xt.Fragment,null,xt.createElement("div",St({},Ln.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Qt.id,onClick:Ln.popup.toggleOnClick,onMouseEnter:Ln.popup.openOnHover,onMouseLeave:Ln.popup.closeOnHover}),In&&xt.createElement("div",{className:"rpv-core__annotation-text-icon"},In==="check"&&xt.createElement(Ft,null),In==="comment"&&xt.createElement(Vr,null),In==="help"&&xt.createElement(es,null),In==="insert"&&xt.createElement(jo,null),In==="key"&&xt.createElement(hs,null),In==="note"&&xt.createElement(Hs,null),(In==="newparagraph"||In==="paragraph")&&xt.createElement(ks,null)),Ln.slot.children),yn&&yn.annotationType===ht.AnnotationType.Popup&&Ln.popup.opened&&xt.createElement(br,{annotation:yn,page:bn,viewport:An}))})},ga=function(Vt){var Qt=Vt.annotation,yn=Vt.page,bn=Vt.viewport,An=Qt.hasPopup===!1,Cn=Fn(Qt),Nn=kn(Qt),Mn=!!(Qt.hasPopup||Cn||Nn);return xt.createElement(Tr,{annotation:Qt,hasPopup:An,ignoreBorder:!0,isRenderable:Mn,page:yn,viewport:bn},function(xn){return xt.createElement("div",St({},xn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Qt.id,onClick:xn.popup.toggleOnClick,onMouseEnter:xn.popup.openOnHover,onMouseLeave:xn.popup.closeOnHover}),xn.slot.children)})},ny=function(Vt){var Qt=Vt.annotations,yn=Vt.doc,bn=Vt.outlines,An=Vt.page,Cn=Vt.pageIndex,Nn=Vt.plugins,Mn=Vt.rotation,xn=Vt.scale,In=Vt.onExecuteNamedAction,Ln=Vt.onJumpFromLinkAnnotation,er=Vt.onJumpToDest,_i=xt.useRef(),Jn=An.getViewport({rotation:Mn,scale:xn}).clone({dontFlip:!0}),cr=Qt.filter(function(ar){return!ar.parentId});return Mt(function(){var ar=_i.current;ar&&Nn.forEach(function(rr){rr.onAnnotationLayerRender&&rr.onAnnotationLayerRender({annotations:cr,container:ar,pageIndex:Cn,rotation:Mn,scale:xn})})},[]),xt.createElement("div",{ref:_i,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Cn)},cr.map(function(ar){var rr=Qt.find(function(Qr){return Qr.parentId===ar.id});switch(ar.annotationType){case ht.AnnotationType.Caret:return xt.createElement(vn,{key:ar.id,annotation:ar,page:An,viewport:Jn});case ht.AnnotationType.Circle:return xt.createElement(Vn,{key:ar.id,annotation:ar,page:An,viewport:Jn});case ht.AnnotationType.FileAttachment:return xt.createElement(sr,{key:ar.id,annotation:ar,page:An,viewport:Jn});case ht.AnnotationType.FreeText:return xt.createElement(mr,{key:ar.id,annotation:ar,page:An,viewport:Jn});case ht.AnnotationType.Highlight:return xt.createElement(ur,{key:ar.id,annotation:ar,childAnnotation:rr,page:An,viewport:Jn});case ht.AnnotationType.Ink:return xt.createElement(pn,{key:ar.id,annotation:ar,page:An,viewport:Jn});case ht.AnnotationType.Line:return xt.createElement(an,{key:ar.id,annotation:ar,page:An,viewport:Jn});case ht.AnnotationType.Link:return xt.createElement(vr,{key:ar.id,annotation:ar,annotationContainerRef:_i,doc:yn,outlines:bn,page:An,pageIndex:Cn,scale:xn,viewport:Jn,onExecuteNamedAction:In,onJumpFromLinkAnnotation:Ln,onJumpToDest:er});case ht.AnnotationType.Polygon:return xt.createElement(fr,{key:ar.id,annotation:ar,page:An,viewport:Jn});case ht.AnnotationType.Polyline:return xt.createElement(lr,{key:ar.id,annotation:ar,page:An,viewport:Jn});case ht.AnnotationType.Popup:return xt.createElement(br,{key:ar.id,annotation:ar,page:An,viewport:Jn});case ht.AnnotationType.Square:return xt.createElement(Hr,{key:ar.id,annotation:ar,page:An,viewport:Jn});case ht.AnnotationType.Squiggly:return xt.createElement(pr,{key:ar.id,annotation:ar,page:An,viewport:Jn});case ht.AnnotationType.Stamp:return xt.createElement(xr,{key:ar.id,annotation:ar,page:An,viewport:Jn});case ht.AnnotationType.StrikeOut:return xt.createElement(Dr,{key:ar.id,annotation:ar,page:An,viewport:Jn});case ht.AnnotationType.Text:return xt.createElement(na,{key:ar.id,annotation:ar,childAnnotation:rr,page:An,viewport:Jn});case ht.AnnotationType.Underline:return xt.createElement(ga,{key:ar.id,annotation:ar,page:An,viewport:Jn});default:return xt.createElement(xt.Fragment,{key:ar.id})}}))},w_=function(Vt){var Qt=Vt.page,yn=Vt.renderAnnotations,bn=dn(),An=xt.useState({loading:!0,annotations:[]}),Cn=An[0],Nn=An[1];return xt.useEffect(function(){Qt.getAnnotations({intent:"display"}).then(function(Mn){bn.current&&Nn({loading:!1,annotations:Mn})})},[]),Cn.loading?xt.createElement(xt.Fragment,null):yn(Cn.annotations)},S_=function(Vt){var Qt=Vt.doc,yn=Vt.outlines,bn=Vt.page,An=Vt.pageIndex,Cn=Vt.plugins,Nn=Vt.rotation,Mn=Vt.scale,xn=Vt.onExecuteNamedAction,In=Vt.onJumpFromLinkAnnotation,Ln=Vt.onJumpToDest;return xt.createElement(w_,{page:bn,renderAnnotations:function(er){return xt.createElement(ny,{annotations:er,doc:Qt,outlines:yn,page:bn,pageIndex:An,plugins:Cn,rotation:Nn,scale:Mn,onExecuteNamedAction:xn,onJumpFromLinkAnnotation:In,onJumpToDest:Ln})}})},iy=function(Vt,Qt){var yn=Vt%Qt;return yn===0?Vt:Math.floor(Vt-yn)},C_=function(Vt){var Qt=Vt.canvasLayerRef,yn=Vt.height,bn=Vt.page,An=Vt.pageIndex,Cn=Vt.plugins,Nn=Vt.rotation,Mn=Vt.scale,xn=Vt.width,In=Vt.onRenderCanvasCompleted,Ln=xt.useRef();return Mt(function(){var er=Ln.current;er&&er.cancel();var _i=Qt.current;_i.removeAttribute("data-testid"),Cn.forEach(function(Nr){Nr.onCanvasLayerRender&&Nr.onCanvasLayerRender({ele:_i,pageIndex:An,rotation:Nn,scale:Mn,status:ht.LayerRenderStatus.PreRender})});var Jn=bn.getViewport({rotation:Nn,scale:Mn}),cr=window.devicePixelRatio||1,ar=Math.sqrt(16777216/(Jn.width*Jn.height)),rr=cr>ar;rr?_i.style.transform="scale(1, 1)":_i.style.removeProperty("transform");var Qr=Math.min(ar,cr),Lr=function(Nr,as){var rs,ls;if(Math.floor(Nr)===Nr)return[Nr,1];var us=1/Nr;if(us>as)return[1,as];if(Math.floor(us)===us)return[1,us];for(var fs=Nr>1?us:Nr,$s=0,Ss=1,Ns=1,Ms=1;;){var Ls=$s+Ns,Ds=Ss+Ms;if(Ds>as)break;fs<=Ls/Ds?(Ns=(rs=[Ls,Ds])[0],Ms=rs[1]):($s=(ls=[Ls,Ds])[0],Ss=ls[1])}return fs<($s/Ss+Ns/Ms)/2?fs===Nr?[$s,Ss]:[Ss,$s]:fs===Nr?[Ns,Ms]:[Ms,Ns]}(Qr,8),Ir=Lr[0],Br=Lr[1];_i.width=iy(Jn.width*Qr,Ir),_i.height=iy(Jn.height*Qr,Ir),_i.style.width="".concat(iy(Jn.width,Br),"px"),_i.style.height="".concat(iy(Jn.height,Br),"px"),_i.hidden=!0;var Sr=_i.getContext("2d",{alpha:!1}),zr=rr||cr!==1?[Qr,0,0,Qr,0,0]:null;return Ln.current=bn.render({canvasContext:Sr,transform:zr,viewport:Jn}),Ln.current.promise.then(function(){_i.hidden=!1,_i.setAttribute("data-testid","core__canvas-layer-".concat(An)),Cn.forEach(function(Nr){Nr.onCanvasLayerRender&&Nr.onCanvasLayerRender({ele:_i,pageIndex:An,rotation:Nn,scale:Mn,status:ht.LayerRenderStatus.DidRender})}),In()},function(){In()}),function(){_i&&(_i.width=0,_i.height=0)}},[]),xt.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(yn,"px"),width:"".concat(xn,"px")}},xt.createElement("canvas",{ref:Qt}))},R_=function(Vt){var Qt=Vt.height,yn=Vt.page,bn=Vt.rotation,An=Vt.scale,Cn=Vt.width,Nn=xt.useRef();return Mt(function(){var Mn=Nn.current,xn=yn.getViewport({rotation:bn,scale:An});yn.getOperatorList().then(function(In){(function(){var Ln=Nn.current;Ln&&(Ln.innerHTML="")})(),new Et.SVGGraphics(yn.commonObjs,yn.objs).getSVG(In,xn).then(function(Ln){Ln.style.height="".concat(Qt,"px"),Ln.style.width="".concat(Cn,"px"),Mn.appendChild(Ln)})})},[]),xt.createElement("div",{className:"rpv-core__svg-layer",ref:Nn})},T_=function(Vt){var Qt=Vt.containerRef,yn=Vt.page,bn=Vt.pageIndex,An=Vt.plugins,Cn=Vt.rotation,Nn=Vt.scale,Mn=Vt.onRenderTextCompleted,xn=xt.useRef(),In=function(){var Ln=Qt.current;Ln&&([].slice.call(Ln.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(er){return Ln.removeChild(er)}),[].slice.call(Ln.querySelectorAll('br[role="presentation"]')).forEach(function(er){return Ln.removeChild(er)}))};return Mt(function(){var Ln=xn.current;Ln&&Ln.cancel();var er=Qt.current;if(er){er.removeAttribute("data-testid");var _i=yn.getViewport({rotation:Cn,scale:Nn});return An.forEach(function(Jn){Jn.onTextLayerRender&&Jn.onTextLayerRender({ele:er,pageIndex:bn,scale:Nn,status:ht.LayerRenderStatus.PreRender})}),yn.getTextContent().then(function(Jn){In(),xn.current=Et.renderTextLayer({container:er,textContent:Jn,textContentSource:Jn,viewport:_i}),xn.current.promise.then(function(){er.setAttribute("data-testid","core__text-layer-".concat(bn)),[].slice.call(er.children).forEach(function(cr){cr.classList.contains("rpv-core__text-layer-text--not")||cr.classList.add("rpv-core__text-layer-text")}),An.forEach(function(cr){cr.onTextLayerRender&&cr.onTextLayerRender({ele:er,pageIndex:bn,scale:Nn,status:ht.LayerRenderStatus.DidRender})}),Mn()},function(){er.removeAttribute("data-testid"),Mn()})}),function(){var Jn;In(),(Jn=xn.current)===null||Jn===void 0||Jn.cancel()}}},[]),xt.createElement("div",{className:"rpv-core__text-layer",ref:Qt})},P_=function(Vt){var Qt=Vt.doc,yn=Vt.measureRef,bn=Vt.outlines,An=Vt.pageIndex,Cn=Vt.pageRotation,Nn=Vt.pageSize,Mn=Vt.plugins,xn=Vt.renderPage,In=Vt.renderQueueKey,Ln=Vt.rotation,er=Vt.scale,_i=Vt.shouldRender,Jn=Vt.viewMode,cr=Vt.onExecuteNamedAction,ar=Vt.onJumpFromLinkAnnotation,rr=Vt.onJumpToDest,Qr=Vt.onRenderCompleted,Lr=Vt.onRotatePage,Ir=dn(),Br=xt.useState(null),Sr=Br[0],zr=Br[1],Nr=xt.useState(!1),as=Nr[0],rs=Nr[1],ls=xt.useState(!1),us=ls[0],fs=ls[1],$s=xt.useRef(),Ss=xt.useRef(),Ns=Math.abs(Ln+Cn)%180==0,Ms=Nn.pageWidth*er,Ls=Nn.pageHeight*er,Ds=Ns?Ms:Ls,Fs=Ns?Ls:Ms,Js=(Nn.rotation+Ln+Cn)%360,ba=xt.useRef(0),Ho=xn||function(Ws){return xt.createElement(xt.Fragment,null,Ws.canvasLayer.children,Ws.textLayer.children,Ws.annotationLayer.children)};return xt.useEffect(function(){zr(null),rs(!1),fs(!1)},[Cn,Ln,er]),xt.useEffect(function(){_i&&Ir.current&&!Sr&&hr(Qt,An).then(function(Ws){Ir.current&&(ba.current=In,zr(Ws))})},[_i,Sr]),xt.useEffect(function(){as&&us&&(In!==ba.current?(zr(null),rs(!1),fs(!1)):Qr(An))},[as,us]),xt.createElement("div",{className:kt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":Jn===ht.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":Jn===ht.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":Jn===ht.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(An),ref:yn,style:{height:"".concat(Fs,"px"),width:"".concat(Ds,"px")}},Sr?xt.createElement(xt.Fragment,null,Ho({annotationLayer:{attrs:{},children:xt.createElement(S_,{doc:Qt,outlines:bn,page:Sr,pageIndex:An,plugins:Mn,rotation:Js,scale:er,onExecuteNamedAction:cr,onJumpFromLinkAnnotation:ar,onJumpToDest:rr})},canvasLayer:{attrs:{},children:xt.createElement(C_,{canvasLayerRef:$s,height:Fs,page:Sr,pageIndex:An,plugins:Mn,rotation:Js,scale:er,width:Ds,onRenderCanvasCompleted:function(){Ir.current&&rs(!0)}})},canvasLayerRendered:as,doc:Qt,height:Fs,pageIndex:An,rotation:Js,scale:er,svgLayer:{attrs:{},children:xt.createElement(R_,{height:Fs,page:Sr,rotation:Js,scale:er,width:Ds})},textLayer:{attrs:{},children:xt.createElement(T_,{containerRef:Ss,page:Sr,pageIndex:An,plugins:Mn,rotation:Js,scale:er,onRenderTextCompleted:function(){Ir.current&&fs(!0)}})},textLayerRendered:us,width:Ds,markRendered:Qr,onRotatePage:function(Ws){return Lr(An,Ws)}}),Mn.map(function(Ws,yo){return Ws.renderPageLayer?xt.createElement(xt.Fragment,{key:yo},Ws.renderPageLayer({canvasLayerRef:$s,canvasLayerRendered:as,doc:Qt,height:Fs,pageIndex:An,rotation:Js,scale:er,textLayerRef:Ss,textLayerRendered:us,width:Ds})):xt.createElement(xt.Fragment,{key:yo})})):xt.createElement(Ot,{testId:"core__page-layer-loading-".concat(An)}))},k_=function(Vt,Qt){var yn=Qt.rect;return Vt.height!==yn.height||Vt.width!==yn.width?yn:Vt};(function(Vt){Vt.Horizontal="Horizontal",Vt.Vertical="Vertical",Vt.Both="Both"})(gr||(gr={}));var M_=function(Vt){return 1-Math.pow(1-Vt,4)},ry=1e-4,sE={left:0,top:0},oE={capture:!1,passive:!0},F_=function(Vt){var Qt=Vt.elementRef,yn=Vt.enableSmoothScroll,bn=Vt.isRtl,An=Vt.scrollDirection,Cn=Vt.onSmoothScroll,Nn=xt.useState(sE),Mn=Nn[0],xn=Nn[1],In=xt.useState(Qt.current),Ln=In[0],er=In[1],_i=bn?-1:1,Jn=xt.useRef(An);Jn.current=An;var cr=xt.useRef(sE),ar=xt.useRef(!0),rr=xt.useCallback(function(){ar.current=!0,yn&&xn(cr.current),Cn(!1)},[]),Qr=xt.useCallback(function(){if(Ln){switch(Jn.current){case gr.Horizontal:cr.current={left:_i*Ln.scrollLeft,top:0};break;case gr.Both:cr.current={left:_i*Ln.scrollLeft,top:Ln.scrollTop};break;case gr.Vertical:default:cr.current={left:0,top:Ln.scrollTop}}yn&&!ar.current||xn(cr.current)}},[Ln]);Mt(function(){er(Qt.current)}),Mt(function(){if(Ln)return Ln.addEventListener("scroll",Qr,oE),function(){Ln.removeEventListener("scroll",Qr,oE)}},[Ln]);var Lr=xt.useCallback(function(Ir,Br){var Sr=Qt.current;if(!Sr)return Promise.resolve();var zr={left:0,top:0};switch(Jn.current){case gr.Horizontal:zr.left=_i*Ir.left;break;case gr.Both:zr.left=_i*Ir.left,zr.top=Ir.top;break;case gr.Vertical:default:zr.top=Ir.top}return Br?(ar.current=!1,Cn(!0),new Promise(function(Nr,as){(function(rs,ls,us,fs,$s,Ss){$s===void 0&&($s=function(yo){return yo}),Ss===void 0&&(Ss=function(){});var Ns=0,Ms=0,Ls=!1;switch(ls){case gr.Horizontal:Ms=rs.scrollLeft,Ns=0;case gr.Both:Ms=rs.scrollLeft,Ns=rs.scrollTop;break;case gr.Vertical:default:Ms=0,Ns=rs.scrollTop}var Ds=function(){Ls||(Ls=!0,rs.scrollLeft=us.left,rs.scrollTop=us.top,Ss())};if(Math.abs(Ns-us.top)<=ry&&ls===gr.Vertical)Ds();else if(Math.abs(Ms-us.left)<=ry&&ls===gr.Horizontal)Ds();else{var Fs,Js=-1,ba=Ms-us.left,Ho=Ns-us.top,Ws=function(yo){Js===-1&&(Js=yo);var Il=yo-Js,jr=Math.min(Il/fs,1),$r=$s(jr),Cr={left:Ms-ba*$r,top:Ns-Ho*$r};switch(ls){case gr.Horizontal:rs.scrollLeft=Cr.left;break;case gr.Both:rs.scrollLeft=Cr.left,rs.scrollTop=Cr.top;break;case gr.Vertical:default:rs.scrollTop=Cr.top}Math.abs(Cr.top-us.top)<=ry&&Math.abs(Cr.left-us.left)<=ry&&!Ls&&(window.cancelAnimationFrame(Fs),Ds()),Il<fs?Fs=window.requestAnimationFrame(Ws):window.cancelAnimationFrame(Fs)};Fs=window.requestAnimationFrame(Ws)}})(Sr,Jn.current,zr,400,M_,function(){rr(),Nr()})})):new Promise(function(Nr,as){switch(Jn.current){case gr.Horizontal:Sr.scrollLeft=zr.left;break;case gr.Both:Sr.scrollLeft=zr.left,Sr.scrollTop=zr.top;break;case gr.Vertical:default:Sr.scrollTop=zr.top}Nr()})},[Qt]);return{scrollOffset:Mn,scrollTo:Lr}},e0=function(Vt,Qt,yn){return Math.max(Vt,Math.min(yn,Qt))},L_=function(Vt,Qt){if(Qt!==ht.ViewMode.DualPageWithCover)return 0;if(!function(An){var Cn=An.length;if(Cn===1)return!1;for(var Nn=1;Nn<Cn;Nn++)if(An[Nn].height!==An[0].height||An[Nn].width!==An[0].width)return!0;return!1}(Vt))return 2*Vt[0].width;var yn=Tn(Vt.slice(1),2).map(function(An){return An.length===2?An[0].width+An[1].width:An[0].width}),bn=[Vt[0].width].concat(yn);return Math.max.apply(Math,bn)},D_={left:0,top:0},I_={left:0,top:0},hx={left:0,top:0},$_={left:0,top:0},O_={height:0,width:0},aE={left:0,top:0},lE="data-virtual-index",N_=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],j_=function(Vt){var Qt=Vt.enableSmoothScroll,yn=Vt.isRtl,bn=Vt.numberOfItems,An=Vt.parentRef,Cn=Vt.setRenderRange,Nn=Vt.sizes,Mn=Vt.scrollMode,xn=Vt.viewMode,In=xt.useState(!1),Ln=In[0],er=In[1],_i=xt.useCallback(function(jr){return er(jr)},[]),Jn=xt.useRef(Mn);Jn.current=Mn;var cr=xt.useRef(xn);cr.current=xn;var ar=Mn===ht.ScrollMode.Wrapped||xn===ht.ViewMode.DualPageWithCover||xn===ht.ViewMode.DualPage?gr.Both:Mn===ht.ScrollMode.Horizontal?gr.Horizontal:gr.Vertical,rr=F_({elementRef:An,enableSmoothScroll:Qt,isRtl:yn,scrollDirection:ar,onSmoothScroll:_i}),Qr=rr.scrollOffset,Lr=rr.scrollTo,Ir=function(jr){var $r=jr.elementRef,Cr=xt.useState($r.current),kr=Cr[0],Rr=Cr[1],Wr=xt.useRef(!1),Gr=xt.useReducer(k_,{height:0,width:0}),Mr=Gr[0],yr=Gr[1];return Mt(function(){$r.current!==kr&&Rr($r.current)}),Mt(function(){if(kr&&!Wr.current){Wr.current=!0;var Yr=kr.getBoundingClientRect(),Jr=Yr.height,Es=Yr.width;yr({rect:{height:Jr,width:Es}})}},[kr]),xt.useEffect(function(){if(kr){var Yr=new ResizeObserver(function(Jr,Es){Jr.forEach(function(ys){if(ys.target===kr){var Ks=ys.contentRect,Ao=Ks.height,Zr=Ks.width;yr({rect:{height:Ao,width:Zr}})}})});return Yr.observe(kr),function(){Yr.unobserve(kr)}}},[kr]),Mr}({elementRef:An}),Br=xt.useRef({scrollOffset:aE,measurements:[]});Br.current.scrollOffset=Qr;var Sr=xt.useMemo(function(){return Array(bn).fill(-1)},[]),zr=xt.useState(Sr),Nr=zr[0],as=zr[1],rs=xt.useMemo(function(){var jr=new IntersectionObserver(function($r){$r.forEach(function(Cr){var kr=Cr.isIntersecting?Cr.intersectionRatio:-1,Rr=Cr.target.getAttribute(lE);if(Rr){var Wr=parseInt(Rr,10);0<=Wr&&Wr<bn&&as(function(Gr){return Gr[Wr]=kr,function(Mr,yr,Yr){for(var Jr,Es=0,ys=yr.length;Es<ys;Es++)!Jr&&Es in yr||(Jr||(Jr=Array.prototype.slice.call(yr,0,Es)),Jr[Es]=yr[Es]);return Mr.concat(Jr||Array.prototype.slice.call(yr))}([],Gr)})}})},{threshold:N_});return jr},[]),ls=xt.useMemo(function(){return Mn===ht.ScrollMode.Page&&xn===ht.ViewMode.SinglePage?function(jr,$r,Cr){for(var kr=[],Rr=0;Rr<jr;Rr++){var Wr={height:Math.max($r.height,Cr[Rr].height),width:Math.max($r.width,Cr[Rr].width)},Gr=Rr===0?$_:kr[Rr-1].end,Mr={left:Gr.left+Wr.width,top:Gr.top+Wr.height};kr[Rr]={index:Rr,start:Gr,size:Wr,end:Mr,visibility:-1}}return kr}(bn,Ir,Nn):xn===ht.ViewMode.DualPageWithCover?function(jr,$r,Cr,kr){for(var Rr=[],Wr=0,Gr=0,Mr=hx,yr=0;yr<jr;yr++){var Yr=yr===0?{height:kr===ht.ScrollMode.Page?Math.max($r.height,Cr[yr].height):Cr[yr].height,width:kr===ht.ScrollMode.Page?Math.max($r.width,Cr[yr].width):Cr[yr].width}:{height:kr===ht.ScrollMode.Page?Math.max($r.height,Cr[yr].height):Cr[yr].height,width:Math.max($r.width/2,Cr[yr].width)};kr===ht.ScrollMode.Page?Mr=yr===0?hx:{left:yr%2==0?Yr.width:0,top:Math.floor((yr-1)/2)*Yr.height+Rr[0].end.top}:yr===0?(Mr=hx,Wr=Cr[0].height,Gr=0):yr%2==1?(Mr={left:0,top:Wr+=Gr},Gr=yr===jr-1?Cr[yr].height:Math.max(Cr[yr].height,Cr[yr+1].height)):Mr={left:Rr[yr-1].end.left,top:Wr};var Jr={left:Mr.left+Yr.width,top:Mr.top+Yr.height};Rr[yr]={index:yr,start:Mr,size:Yr,end:Jr,visibility:-1}}return Rr}(bn,Ir,Nn,Mn):xn===ht.ViewMode.DualPage?function(jr,$r,Cr,kr){for(var Rr=[],Wr=0,Gr=0,Mr=I_,yr=0;yr<jr;yr++){var Yr={height:kr===ht.ScrollMode.Page?Math.max($r.height,Cr[yr].height):Cr[yr].height,width:Math.max($r.width/2,Cr[yr].width)};kr===ht.ScrollMode.Page?Mr={left:yr%2==0?0:Yr.width,top:Math.floor(yr/2)*Yr.height}:yr%2==0?(Mr={left:0,top:Wr+=Gr},Gr=yr===jr-1?Cr[yr].height:Math.max(Cr[yr].height,Cr[yr+1].height)):Mr={left:Rr[yr-1].end.left,top:Wr};var Jr={left:Mr.left+Yr.width,top:Mr.top+Yr.height};Rr[yr]={index:yr,start:Mr,size:Yr,end:Jr,visibility:-1}}return Rr}(bn,Ir,Nn,Mn):function(jr,$r,Cr,kr){for(var Rr=[],Wr=0,Gr={left:0,top:0},Mr=0,yr=D_,Yr=0;Yr<jr;Yr++){var Jr=Cr[Yr];if(Yr===0)Wr=Jr.width,Gr={left:0,top:0},Mr=Jr.height;else switch(kr){case ht.ScrollMode.Wrapped:(Wr+=Jr.width)<$r.width?(yr={left:Rr[Yr-1].end.left,top:Gr.top},Mr=Math.max(Mr,Jr.height)):(Wr=Jr.width,Gr={left:(yr={left:Gr.left,top:Gr.top+Mr}).left,top:yr.top},Mr=Jr.height);break;case ht.ScrollMode.Horizontal:case ht.ScrollMode.Vertical:default:yr=Rr[Yr-1].end}var Es={left:yr.left+Jr.width,top:yr.top+Jr.height};Rr[Yr]={index:Yr,start:yr,size:Jr,end:Es,visibility:-1}}return Rr}(bn,Ir,Nn,Mn)},[Mn,Nn,xn,Ir]),us=ls[bn-1]?{height:ls[bn-1].end.top,width:ls[bn-1].end.left}:O_;Br.current.measurements=ls;var fs=xt.useMemo(function(){var jr=function(Yr,Jr,Es,ys){var Ks=0;switch(Yr){case gr.Horizontal:Ks=ys.left;break;case gr.Vertical:default:Ks=ys.top}var Ao=Jr.length-1,Zr=function(ms,gu,qp,oy){for(;ms<=gu;){var Vu=(ms+gu)/2|0,t0=oy(Vu);if(t0<qp)ms=Vu+1;else{if(!(t0>qp))return Vu;gu=Vu-1}}return ms>0?ms-1:0}(0,Ao,Ks,function(ms){switch(Yr){case gr.Horizontal:return Jr[ms].start.left;case gr.Both:case gr.Vertical:default:return Jr[ms].start.top}});if(Yr===gr.Both)for(var Ys=Jr[Zr].start.top;Zr-1>=0&&Jr[Zr-1].start.top===Ys&&Jr[Zr-1].start.left>=ys.left;)Zr--;for(var As=Zr;As<=Ao;){var Cs={top:Jr[As].start.top-ys.top,left:Jr[As].start.left-ys.left},Bs={height:Es.height-Cs.top,width:Es.width-Cs.left};if(Yr===gr.Horizontal&&Bs.width<0||Yr===gr.Vertical&&Bs.height<0||Yr===gr.Both&&(Bs.width<0||Bs.height<0))break;As++}return{start:Zr,end:As}}(ar,ls,Ir,Qr),$r=jr.start,Cr=jr.end,kr=Nr.slice(e0(0,bn,$r),e0(0,bn,Cr)),Rr=$r+kr.reduce(function(Yr,Jr,Es,ys){return Jr>ys[Yr]?Es:Yr},0),Wr=Rr=e0(0,bn-1,Rr),Gr=Cn({endPage:Cr,numPages:bn,startPage:$r}),Mr=Gr.startPage,yr=Gr.endPage;switch(Mr=Math.max(Mr,0),yr=Math.min(yr,bn-1),xn){case ht.ViewMode.DualPageWithCover:Rr>0&&(Wr=Rr%2==1?Rr:Rr-1),Mr=Mr===0?0:Mr%2==1?Mr:Mr-1,bn-(yr=yr%2==1?yr-1:yr)<=2&&(yr=bn-1);break;case ht.ViewMode.DualPage:Wr=Rr%2==0?Rr:Rr-1,Mr=Mr%2==0?Mr:Mr-1,yr=yr%2==1?yr:yr-1;break;case ht.ViewMode.SinglePage:default:Wr=Rr}return{startPage:Mr,endPage:yr,maxVisbilityIndex:Wr}},[ls,Ir,Qr,xn,Nr]),$s=fs.startPage,Ss=fs.endPage,Ns=fs.maxVisbilityIndex,Ms=xt.useMemo(function(){for(var jr=[],$r=function(kr){var Rr=ls[kr],Wr=St(St({},Rr),{visibility:Nr[kr]!==void 0?Nr[kr]:-1,measureRef:function(Gr){Gr&&(Gr.setAttribute(lE,"".concat(kr)),rs.observe(Gr))}});jr.push(Wr)},Cr=$s;Cr<=Ss;Cr++)$r(Cr);return jr},[$s,Ss,Nr,ls]),Ls=xt.useCallback(function(jr,$r){var Cr=Br.current.measurements[e0(0,bn-1,jr)],kr=Jn.current===ht.ScrollMode.Page?aE:$r;return Cr?Lr({left:kr.left+Cr.start.left,top:kr.top+Cr.start.top},Qt):Promise.resolve()},[Lr,Qt]),Ds=xt.useCallback(function(jr,$r){var Cr=Br.current.measurements,kr=Cr[jr].start,Rr=Cr.find(function(Gr){return Gr.start.top-kr.top>1e-12});if(!Rr)return Promise.resolve();var Wr=Rr.index;switch(cr.current){case ht.ViewMode.DualPage:Wr=Wr%2==0?Wr:Wr+1;break;case ht.ViewMode.DualPageWithCover:Wr=Wr%2==1?Wr:Wr+1}return Ls(Wr,$r)},[]),Fs=xt.useCallback(function(jr,$r){for(var Cr=Br.current.measurements,kr=Cr[jr].start,Rr=jr,Wr=!1,Gr=bn-1;Gr>=0;Gr--)if(kr.top-Cr[Gr].start.top>1e-12){Wr=!0,Rr=Cr[Gr].index;break}if(!Wr)return Promise.resolve();switch(cr.current){case ht.ViewMode.DualPage:Rr=Rr%2==0?Rr:Rr-1;break;case ht.ViewMode.DualPageWithCover:Rr=Rr%2==0?Rr-1:Rr}return Rr===jr&&(Rr=jr-1),Ls(Rr,$r)},[]),Js=xt.useCallback(function(jr,$r){if(cr.current===ht.ViewMode.DualPageWithCover||cr.current===ht.ViewMode.DualPage)return Ds(jr,$r);switch(Jn.current){case ht.ScrollMode.Wrapped:return Ds(jr,$r);case ht.ScrollMode.Horizontal:case ht.ScrollMode.Vertical:default:return Ls(jr+1,$r)}},[]),ba=xt.useCallback(function(jr,$r){if(cr.current===ht.ViewMode.DualPageWithCover||cr.current===ht.ViewMode.DualPage)return Fs(jr,$r);switch(Jn.current){case ht.ScrollMode.Wrapped:return Fs(jr,$r);case ht.ScrollMode.Horizontal:case ht.ScrollMode.Vertical:default:return Ls(jr-1,$r)}},[]),Ho=xt.useCallback(function(){return function(jr,$r){switch($r){case ht.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(jr.width,"px")};case ht.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(jr.height,"px"),width:"100%"}}}(us,Jn.current)},[us]),Ws=xt.useCallback(function(jr){return function($r,Cr,kr){return kr!==ht.ScrollMode.Page?{}:{height:"".concat(Cr.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat($r.start.top,"px)")}}(jr,Ir,Jn.current)},[Ir]),yo=xt.useCallback(function(jr){return function($r,Cr,kr,Rr,Wr){var Gr,Mr,yr,Yr,Jr,Es,ys,Ks=Cr?"right":"left",Ao=Cr?-1:1,Zr=kr.length,Ys=$r.start.left*Ao,As=$r.size,Cs=As.height,Bs=As.width;if(Rr===ht.ViewMode.DualPageWithCover){var ms=Wr===ht.ScrollMode.Page?0:$r.start.top;return $r.index===0||Zr%2==0&&$r.index===Zr-1?((Gr={height:"".concat(Cs,"px"),minWidth:"".concat(L_(kr,Rr),"px"),width:"100%"})[Ks]=0,Gr.position="absolute",Gr.top=0,Gr.transform="translate(".concat(Ys,"px, ").concat(ms,"px)"),Gr):((Mr={height:"".concat(Cs,"px"),width:"".concat(Bs,"px")})[Ks]=0,Mr.position="absolute",Mr.top=0,Mr.transform="translate(".concat(Ys,"px, ").concat(ms,"px)"),Mr)}if(Rr===ht.ViewMode.DualPage)return(yr={height:"".concat(Cs,"px"),width:"".concat(Bs,"px")})[Ks]=0,yr.position="absolute",yr.top=0,yr.transform="translate(".concat(Ys,"px, ").concat(Wr===ht.ScrollMode.Page?0:$r.start.top,"px)"),yr;switch(Wr){case ht.ScrollMode.Horizontal:return(Yr={height:"100%",width:"".concat(Bs,"px")})[Ks]=0,Yr.position="absolute",Yr.top=0,Yr.transform="translateX(".concat(Ys,"px)"),Yr;case ht.ScrollMode.Page:return(Jr={height:"".concat(Cs,"px"),width:"".concat(Bs,"px")})[Ks]=0,Jr.position="absolute",Jr.top=0,Jr;case ht.ScrollMode.Wrapped:return(Es={height:"".concat(Cs,"px"),width:"".concat(Bs,"px")})[Ks]=0,Es.position="absolute",Es.top=0,Es.transform="translate(".concat(Ys,"px, ").concat($r.start.top,"px)"),Es;case ht.ScrollMode.Vertical:default:return(ys={height:"".concat(Cs,"px"),width:"100%"})[Ks]=0,ys.position="absolute",ys.top=0,ys.transform="translateY(".concat($r.start.top,"px)"),ys}}(jr,yn,Nn,cr.current,Jn.current)},[yn,Nn]),Il=xt.useCallback(function(jr,$r){var Cr=Br.current,kr=Cr.measurements,Rr=Cr.scrollOffset,Wr=kr[e0(0,bn-1,$r)];if(Wr){var Gr=Jn.current===ht.ScrollMode.Page?{left:Wr.start.left,top:Wr.start.top}:{left:Rr.left*jr,top:Rr.top*jr};return Lr(Gr,!1)}return Promise.resolve()},[]);return xt.useEffect(function(){return function(){rs.disconnect()}},[]),{boundingClientRect:Ir,isSmoothScrolling:Ln,startPage:$s,endPage:Ss,maxVisbilityIndex:Ns,virtualItems:Ms,getContainerStyles:Ho,getItemContainerStyles:Ws,getItemStyles:yo,scrollToItem:Ls,scrollToNextItem:Js,scrollToPreviousItem:ba,zoom:Il}},fx=function(Vt,Qt,yn,bn,An,Cn){var Nn=yn;switch(!0){case(An===ht.ViewMode.DualPageWithCover&&Cn>=3):case(An===ht.ViewMode.DualPage&&Cn>=3):Nn=2*yn;break;default:Nn=yn}switch(bn){case ht.SpecialZoomLevel.ActualSize:return 1;case ht.SpecialZoomLevel.PageFit:return Math.min((Vt.clientWidth-17)/Nn,(Vt.clientHeight-16)/Qt);case ht.SpecialZoomLevel.PageWidth:return(Vt.clientWidth-17)/Nn}},H_=function(Vt){var Qt,yn,bn=Vt.getCurrentPage,An=(Qt=50,yn=xt.useRef([]),xt.useEffect(function(){return function(){yn.current=[]}},[]),{push:function(In){var Ln=yn.current;Ln.length+1>Qt&&Ln.shift(),Ln.push(In),yn.current=Ln},map:function(In){return yn.current.map(function(Ln){return In(Ln)})},pop:function(){var In=yn.current;if(In.length===0)return null;var Ln=In.pop();return yn.current=In,Ln}}),Cn=function(In){var Ln=xt.useRef([]);return xt.useEffect(function(){return function(){Ln.current=[]}},[]),{dequeue:function(){var er=Ln.current;if(er.length===0)return null;var _i=er.shift();return Ln.current=er,_i||null},enqueue:function(er){var _i=Ln.current;_i.length+1>In&&_i.pop(),Ln.current=[er].concat(_i)},map:function(er){return Ln.current.map(function(_i){return er(_i)})}}}(50),Nn=function(){var In=Cn.dequeue();return In&&An.push(In),In&&In.pageIndex===bn()?Nn():In},Mn=function(){var In=An.pop();return In&&Cn.enqueue(In),In&&In.pageIndex===bn()?Mn():In},xn=xt.useCallback(function(In){An.push(In)},[]);return{getNextDestination:Nn,getPreviousDestination:Mn,markVisitedDestination:xn}},cE=function(Vt){var Qt=[];return Vt.map(function(yn){Qt=Qt.concat(yn).concat(function(bn){var An=[];return bn.items&&bn.items.length>0&&(An=An.concat(cE(bn.items))),An}(yn))}),Qt},uE={capture:!1,passive:!0},B_={height:0,width:0},px={height:0,width:0},U_=function(Vt){var Qt=Vt.getCurrentPage,yn=Vt.getCurrentScrollMode,bn=Vt.jumpToPage,An=Vt.targetRef,Cn=xt.useState(ht.FullScreenMode.Normal),Nn=Cn[0],Mn=Cn[1],xn=function(){var Nr=xt.useState(B_),as=Nr[0],rs=Nr[1],ls=_n(function(){rs({height:window.innerHeight,width:window.innerWidth})},100);return Mt(function(){return window.addEventListener("resize",ls,uE),function(){window.removeEventListener("resize",ls,uE)}},[]),as}(),In=xt.useState(px),Ln=In[0],er=In[1],_i=xt.useRef(px),Jn=xt.useRef(Qt()),cr=xt.useRef(px),ar=xt.useState(An.current),rr=ar[0],Qr=ar[1],Lr=xt.useRef();Mt(function(){An.current!==rr&&Qr(An.current)},[]),Mt(function(){if(rr){var Nr=new ResizeObserver(function(as){as.forEach(function(rs){var ls=rs.target.getBoundingClientRect(),us=ls.height,fs=ls.width;er({height:us,width:fs})})});return Nr.observe(rr),function(){Nr.unobserve(rr),Nr.disconnect()}}},[rr]);var Ir=xt.useCallback(function(Nr){var as=on();return as&&as!==Nr?(Mn(ht.FullScreenMode.Normal),en(as)):Promise.resolve()},[]),Br=xt.useCallback(function(Nr){Nr&&qt()&&(Qr(Nr),Ir(Nr).then(function(){Lr.current=Nr,Mn(ht.FullScreenMode.Entering),function(as){Kt&&as[nn.RequestFullScreen]()}(Nr)}))},[]),Sr=xt.useCallback(function(){on()&&(Mn(ht.FullScreenMode.Exitting),en(document))},[]),zr=xt.useCallback(function(){rr&&on()!==rr&&Mn(ht.FullScreenMode.Exitting)},[rr]);return xt.useEffect(function(){switch(Nn){case ht.FullScreenMode.Entering:Lr.current&&(Lr.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),Jn.current=Qt(),_i.current={height:window.innerHeight,width:window.innerWidth};break;case ht.FullScreenMode.Entered:yn()===ht.ScrollMode.Page?bn(Jn.current).then(function(){Mn(ht.FullScreenMode.EnteredCompletely)}):Mn(ht.FullScreenMode.EnteredCompletely);break;case ht.FullScreenMode.Exitting:Lr.current&&(Lr.current.style.backgroundColor="",Lr.current=null),Jn.current=Qt();break;case ht.FullScreenMode.Exited:Mn(ht.FullScreenMode.Normal),yn()===ht.ScrollMode.Page&&bn(Jn.current)}},[Nn]),xt.useEffect(function(){if(Nn!==ht.FullScreenMode.Normal)return Nn===ht.FullScreenMode.Entering&&xn.height===Ln.height&&xn.width===Ln.width&&xn.height>0&&xn.width>0&&(cr.current.height===0||xn.height==cr.current.height)?(cr.current={height:window.innerHeight,width:window.innerWidth},void Mn(ht.FullScreenMode.Entered)):void(Nn===ht.FullScreenMode.Exitting&&_i.current.height===xn.height&&_i.current.width===xn.width&&xn.height>0&&xn.width>0&&Mn(ht.FullScreenMode.Exited))},[Nn,xn,Ln]),xt.useEffect(function(){var Nr;return Nr=zr,Kt&&document.addEventListener(nn.FullScreenChange,Nr),function(){(function(as){Kt&&document.removeEventListener(nn.FullScreenChange,as)})(zr)}},[rr]),{enterFullScreenMode:Br,exitFullScreenMode:Sr,fullScreenMode:Nn}},z_={buildPageStyles:function(){return{}},transformSize:function(Vt){return Vt.size}},Xp={left:0,top:0},W_=function(Vt){var Qt=Vt.currentFile,yn=Vt.defaultScale,bn=Vt.doc,An=Vt.enableSmoothScroll,Cn=Vt.initialPage,Nn=Vt.initialRotation,Mn=Vt.initialScale,xn=Vt.pageLayout,In=Vt.pageSizes,Ln=Vt.plugins,er=Vt.renderPage,_i=Vt.scrollMode,Jn=Vt.setRenderRange,cr=Vt.viewMode,ar=Vt.viewerState,rr=Vt.onDocumentLoad,Qr=Vt.onOpenFile,Lr=Vt.onPageChange,Ir=Vt.onRotate,Br=Vt.onRotatePage,Sr=Vt.onZoom,zr=bn.numPages,Nr=bn.loadingTask.docId,as=xt.useContext(Sn).l10n,rs=xt.useContext(Pt),ls=rs.direction===ht.TextDirection.RightToLeft,us=xt.useRef(),fs=xt.useRef(),$s=xt.useState(Cn),Ss=$s[0],Ns=$s[1],Ms=xt.useRef(null),Ls=H_({getCurrentPage:function(){return Zr.current.pageIndex}}),Ds=xt.useState(Nn),Fs=Ds[0],Js=Ds[1],ba=En(Fs),Ho=xt.useState(!1),Ws=Ho[0],yo=Ho[1],Il=xt.useState(new Map),jr=Il[0],$r=Il[1],Cr=xt.useState(_i),kr=Cr[0],Rr=Cr[1],Wr=En(kr),Gr=xt.useState(cr),Mr=Gr[0],yr=Gr[1],Yr=En(Mr),Jr=function(ir){var qr=dn(),ts=xt.useState([]),ps=ts[0],ds=ts[1];return xt.useEffect(function(){ir.getOutline().then(function(ns){if(qr.current&&ns!==null){var Us=cE(ns);ds(Us)}})},[]),ps}(bn),Es=xt.useState(Mn),ys=Es[0],Ks=Es[1],Ao=En(ys),Zr=xt.useRef(ar),Ys=xt.useRef(typeof yn=="string"?yn:null),As=xt.useRef(-1),Cs=xt.useRef(-1),Bs=xt.useRef(Cn),ms=U_({getCurrentPage:function(){return Zr.current.pageIndex},getCurrentScrollMode:function(){return Zr.current.scrollMode},jumpToPage:function(ir){return vu(ir)},targetRef:fs}),gu=xt.useState(-1),qp=gu[0],oy=gu[1],Vu=xt.useState(0),t0=Vu[0],Y_=Vu[1],_o=tn({doc:bn});xt.useEffect(function(){return function(){nr.clear(),Or.clear()}},[Nr]);var pE=xt.useMemo(function(){return Object.assign({},z_,xn)},[]),Z_=xt.useMemo(function(){return Array(zr).fill(0).map(function(ir,qr){var ts=[In[qr].pageHeight,In[qr].pageWidth],ps=Math.abs(Fs)%180==0?{height:ts[0],width:ts[1]}:{height:ts[1],width:ts[0]},ds={height:ps.height*ys,width:ps.width*ys};return pE.transformSize({numPages:zr,pageIndex:qr,size:ds})})},[Fs,ys]),bs=j_({enableSmoothScroll:An,isRtl:ls,numberOfItems:zr,parentRef:fs,scrollMode:kr,setRenderRange:Jn,sizes:Z_,viewMode:Mr}),Q_=_n(function(){!Ys.current||Zr.current.fullScreenMode!==ht.FullScreenMode.Normal||Cn>0&&Bs.current===Cn||Gu(Ys.current)},200);(function(ir){var qr=ir.targetRef,ts=ir.onResize;Mt(function(){var ps=new ResizeObserver(function(ns){ns.forEach(function(Us){ts(Us.target)})}),ds=qr.current;if(ds)return ps.observe(ds),function(){ps.unobserve(ds)}},[])})({targetRef:fs,onResize:Q_});var mu=function(ir){var qr=ir;Ln.forEach(function(ts){ts.onViewerStateChange&&(qr=ts.onViewerStateChange(qr))}),Zr.current=qr},J_=function(){return fs.current},ew=function(){return Zr.current},tw=xt.useCallback(function(ir){Ls.markVisitedDestination(ir)},[]),vx=xt.useCallback(function(ir){var qr=ir.pageIndex,ts=ir.bottomOffset,ps=ir.leftOffset,ds=ir.scaleTo,ns=fs.current,Us=Zr.current;return ns&&Us?new Promise(function(yu,_x){hr(bn,qr).then(function(ay){var bu=ay.getViewport({scale:1}),ly=0,AE=(typeof ts=="function"?ts(bu.width,bu.height):ts)||0,cy=(typeof ps=="function"?ps(bu.width,bu.height):ps)||0,Kp=Us.scale;switch(ds){case ht.SpecialZoomLevel.PageFit:ly=0,cy=0,Gu(ht.SpecialZoomLevel.PageFit);break;case ht.SpecialZoomLevel.PageWidth:Kp=fx(ns,In[qr].pageHeight,In[qr].pageWidth,ht.SpecialZoomLevel.PageWidth,cr,zr),ly=(bu.height-AE)*Kp,cy*=Kp,Gu(Kp);break;default:ly=(bu.height-AE)*Kp,cy*=Kp}switch(Us.scrollMode){case ht.ScrollMode.Horizontal:bs.scrollToItem(qr,{left:cy,top:0}).then(function(){yu()});break;case ht.ScrollMode.Vertical:default:bs.scrollToItem(qr,{left:0,top:ly}).then(function(){yu()})}})}):Promise.resolve()},[]),gE=xt.useCallback(function(ir){return Ls.markVisitedDestination(ir),vx(ir)},[]),nw=xt.useCallback(function(){var ir=Ls.getNextDestination();return ir?vx(ir):Promise.resolve()},[]),iw=xt.useCallback(function(){var ir=Ls.getPreviousDestination();return ir?vx(ir):Promise.resolve()},[]),rw=xt.useCallback(function(){return bs.scrollToNextItem(Zr.current.pageIndex,Xp)},[]),vu=xt.useCallback(function(ir){return 0<=ir&&ir<zr?bs.scrollToItem(ir,Xp):Promise.resolve()},[]),sw=xt.useCallback(function(){return bs.scrollToPreviousItem(Zr.current.pageIndex,Xp)},[]),mE=xt.useCallback(function(ir){var qr,ts;(qr=ir.name,ts=qr.split(/\./).pop(),ts?ts.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(ps){var ds=new FileReader;ds.readAsArrayBuffer(ir),ds.onload=function(){var ns=new Uint8Array(ds.result);ps(ns)}}).then(function(ps){Qr(ir.name,ps)})},[Qr]),vE=xt.useCallback(function(ir){var qr=ir===ht.RotateDirection.Backward?-90:90,ts=Zr.current.rotation,ps=ts===360||ts===-360?qr:ts+qr;_o.markNotRendered(),Js(ps),mu(St(St({},Zr.current),{rotation:ps})),Ir({direction:ir,doc:bn,rotation:ps})},[]),yx=xt.useCallback(function(ir,qr){var ts=qr===ht.RotateDirection.Backward?-90:90,ps=Zr.current.pagesRotation,ds=(ps.has(ir)?ps.get(ir):Nn)+ts,ns=ps.set(ir,ds);$r(ns),yo(function(Us){return!Us}),mu(St(St({},Zr.current),{pagesRotation:ns,rotatedPage:ir})),Br({direction:qr,doc:bn,pageIndex:ir,rotation:ds}),_o.markRendering(ir),oy(ir)},[]),yE=xt.useCallback(function(ir){mu(St(St({},Zr.current),{scrollMode:ir})),Rr(ir)},[]),bE=xt.useCallback(function(ir){mu(St(St({},Zr.current),{viewMode:ir})),yr(ir)},[]),Gu=xt.useCallback(function(ir){var qr=fs.current,ts=Zr.current.pageIndex;if(!(ts<0||ts>=zr)){var ps=In[ts].pageHeight,ds=In[ts].pageWidth,ns=qr?typeof ir=="string"?fx(qr,ps,ds,ir,Zr.current.viewMode,zr):ir:1;Ys.current=typeof ir=="string"?ir:null,ns!==Zr.current.scale&&(Y_(function(Us){return Us+1}),_o.markNotRendered(),Ks(ns),Sr({doc:bn,scale:ns}),mu(St(St({},Zr.current),{scale:ns})))}},[]),ow=xt.useCallback(function(ir){ms.enterFullScreenMode(ir)},[]),aw=xt.useCallback(function(){ms.exitFullScreenMode()},[]);xt.useEffect(function(){mu(St(St({},Zr.current),{fullScreenMode:ms.fullScreenMode}))},[ms.fullScreenMode]),xt.useEffect(function(){var ir={enterFullScreenMode:ow,exitFullScreenMode:aw,getPagesContainer:J_,getViewerState:ew,jumpToDestination:gE,jumpToNextDestination:nw,jumpToPreviousDestination:iw,jumpToNextPage:rw,jumpToPreviousPage:sw,jumpToPage:vu,openFile:mE,rotate:vE,rotatePage:yx,setViewerState:mu,switchScrollMode:yE,switchViewMode:bE,zoom:Gu};return Ln.forEach(function(qr){qr.install&&qr.install(ir)}),function(){Ln.forEach(function(qr){qr.uninstall&&qr.uninstall(ir)})}},[Nr]),xt.useEffect(function(){rr({doc:bn,file:Qt}),Ln.forEach(function(ir){ir.onDocumentLoad&&ir.onDocumentLoad({doc:bn,file:Qt})})},[Nr]);var bx,xx,Ex,xE=bs.boundingClientRect;bx=function(){Cn&&vu(Cn)},xx=xE.height>0&&xE.width>0,Ex=xt.useRef(!1),Mt(function(){xx&&!Ex.current&&(Ex.current=!0,bx())},[bx,xx]),Mt(function(){var ir=Zr.current.pageIndex;ir>-1&&Wr!==kr&&bs.scrollToItem(ir,Xp).then(function(){ms.fullScreenMode===ht.FullScreenMode.EnteredCompletely&&(An||_o.markNotRendered(),As.current=-1)})},[kr]),Mt(function(){var ir=Zr.current.pageIndex;ir>-1&&ba!==Fs&&bs.scrollToItem(ir,Xp)},[Fs]),Mt(function(){Ao!=0&&Ao!=Zr.current.scale&&bs.zoom(Zr.current.scale/Ao,Zr.current.pageIndex).then(function(){ms.fullScreenMode===ht.FullScreenMode.EnteredCompletely&&(Cs.current=-1)})},[ys]),Mt(function(){if(Yr!==Zr.current.viewMode){var ir=bs.startPage,qr=bs.endPage,ts=bs.virtualItems;_o.markNotRendered(),_o.setRange(ir,qr);for(var ps=function(ns){var Us=ts.find(function(yu){return yu.index===ns});Us&&_o.setVisibility(ns,Us.visibility)},ds=ir;ds<=qr;ds++)ps(ds);Ax()}},[Mr]),Mt(function(){var ir=Zr.current.pageIndex;ir>-1&&Yr!==Mr&&bs.scrollToItem(ir,Xp)},[Mr]),Mt(function(){var ir=Zr.current.pageIndex;ir>0&&ir===Cn&&Bs.current===Cn&&Ys.current&&(Bs.current=-1,Gu(Ys.current))},[Ss]),xt.useEffect(function(){bs.isSmoothScrolling||Ms.current!==null&&Ms.current===Ss||(Ms.current=Ss,Lr({currentPage:Ss,doc:bn}))},[Ss,bs.isSmoothScrolling]),xt.useEffect(function(){ms.fullScreenMode===ht.FullScreenMode.Entering&&Zr.current.scrollMode===ht.ScrollMode.Page&&(As.current=Zr.current.pageIndex),ms.fullScreenMode===ht.FullScreenMode.EnteredCompletely&&Zr.current.scrollMode===ht.ScrollMode.Page&&An&&(As.current=-1),ms.fullScreenMode===ht.FullScreenMode.EnteredCompletely&&Ys.current&&(Cs.current=Zr.current.pageIndex,Gu(Ys.current))},[ms.fullScreenMode]),xt.useEffect(function(){if(ms.fullScreenMode!==ht.FullScreenMode.Entering&&ms.fullScreenMode!==ht.FullScreenMode.Exitting&&!bs.isSmoothScrolling){var ir=bs.startPage,qr=bs.endPage,ts=bs.maxVisbilityIndex,ps=bs.virtualItems,ds=ts,ns=ms.fullScreenMode===ht.FullScreenMode.Entered||ms.fullScreenMode===ht.FullScreenMode.EnteredCompletely;if(!(ns&&ds!==As.current&&As.current>-1||ns&&ds!==Cs.current&&Cs.current>-1)){Ns(ds),mu(St(St({},Zr.current),{pageIndex:ds})),_o.setRange(ir,qr);for(var Us=function(_x){var ay=ps.find(function(bu){return bu.index===_x});ay&&_o.setVisibility(_x,ay.visibility)},yu=ir;yu<=qr;yu++)Us(yu);Ax()}}},[bs.startPage,bs.endPage,bs.isSmoothScrolling,bs.maxVisbilityIndex,ms.fullScreenMode,Ws,Fs,ys]);var lw=xt.useCallback(function(ir){_o.markRendered(ir),Ax()},[t0]),Ax=function(){var ir=_o.getHighestPriorityPage();ir>-1&&_o.isInRange(ir)&&(_o.markRendering(ir),oy(ir))},cw=function(ir){var qr=Ss-1,ts=Ss+1;switch(ir){case"FirstPage":vu(0);break;case"LastPage":vu(zr-1);break;case"NextPage":ts<zr&&vu(ts);break;case"PrevPage":qr>=0&&vu(qr)}},uw=xt.useCallback(function(){var ir=bs.virtualItems,qr=[];switch(Mr){case ht.ViewMode.DualPage:qr=Tn(ir,2);break;case ht.ViewMode.DualPageWithCover:ir.length&&(qr=ir[0].index===0?[[ir[0]]].concat(Tn(ir.slice(1),2)):Tn(ir,2));break;case ht.ViewMode.SinglePage:default:qr=Tn(ir,1)}var ts=as&&as.core?as.core.pageLabel:"Page {{pageIndex}}",ps={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:us,style:{height:"100%"}},children:xt.createElement(xt.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:kt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":kr===ht.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":ls,"rpv-core__inner-pages--single":kr===ht.ScrollMode.Page,"rpv-core__inner-pages--vertical":kr===ht.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":kr===ht.ScrollMode.Wrapped}),ref:fs,style:{height:"100%",position:"relative"}},children:xt.createElement("div",{"data-testid":"core__inner-current-page-".concat(Ss),style:Object.assign({"--scale-factor":ys},bs.getContainerStyles())},qr.map(function(ds){return xt.createElement("div",{className:kt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":kr===ht.ScrollMode.Page}),style:bs.getItemContainerStyles(ds[0]),key:"".concat(ds[0].index,"-").concat(Mr)},ds.map(function(ns){var Us=Mr===ht.ViewMode.DualPageWithCover&&(ns.index===0||zr%2==0&&ns.index===zr-1);return xt.createElement("div",{"aria-label":ts.replace("{{pageIndex}}","".concat(ns.index+1)),className:kt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Mr===ht.ViewMode.DualPage&&ns.index%2==0,"rpv-core__inner-page--dual-odd":Mr===ht.ViewMode.DualPage&&ns.index%2==1,"rpv-core__inner-page--dual-cover":Us,"rpv-core__inner-page--dual-cover-even":Mr===ht.ViewMode.DualPageWithCover&&!Us&&ns.index%2==0,"rpv-core__inner-page--dual-cover-odd":Mr===ht.ViewMode.DualPageWithCover&&!Us&&ns.index%2==1,"rpv-core__inner-page--single":Mr===ht.ViewMode.SinglePage&&kr===ht.ScrollMode.Page}),role:"region",key:"".concat(ns.index,"-").concat(Mr),style:Object.assign({},bs.getItemStyles(ns),pE.buildPageStyles({numPages:zr,pageIndex:ns.index,scrollMode:kr,viewMode:Mr}))},xt.createElement(P_,{doc:bn,measureRef:ns.measureRef,outlines:Jr,pageIndex:ns.index,pageRotation:jr.has(ns.index)?jr.get(ns.index):0,pageSize:In[ns.index],plugins:Ln,renderPage:er,renderQueueKey:t0,rotation:Fs,scale:ys,shouldRender:qp===ns.index,viewMode:Mr,onExecuteNamedAction:cw,onJumpFromLinkAnnotation:tw,onJumpToDest:gE,onRenderCompleted:lw,onRotatePage:yx}))}))}))}};return Ln.forEach(function(ds){ds.renderViewer&&(ps=ds.renderViewer({containerRef:us,doc:bn,pagesContainerRef:fs,pagesRotation:jr,pageSizes:In,rotation:Fs,slot:ps,themeContext:rs,jumpToPage:vu,openFile:mE,rotate:vE,rotatePage:yx,switchScrollMode:yE,switchViewMode:bE,zoom:Gu}))}),ps},[Ln,bs]),EE=xt.useCallback(function(ir){return xt.createElement("div",St({},ir.attrs,{style:ir.attrs&&ir.attrs.style?ir.attrs.style:{}}),ir.children,ir.subSlot&&EE(ir.subSlot))},[]);return EE(uw())},dE=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],V_=function(Vt){var Qt=Vt.defaultScale,yn=Vt.doc,bn=Vt.render,An=Vt.scrollMode,Cn=Vt.viewMode,Nn=xt.useRef(),Mn=xt.useState({pageSizes:[],scale:0}),xn=Mn[0],In=Mn[1];return xt.useLayoutEffect(function(){var Ln=Array(yn.numPages).fill(0).map(function(er,_i){return new Promise(function(Jn,cr){hr(yn,_i).then(function(ar){var rr=ar.getViewport({scale:1});Jn({pageHeight:rr.height,pageWidth:rr.width,rotation:rr.rotation})})})});Promise.all(Ln).then(function(er){var _i=Nn.current;if(_i&&er.length!==0){var Jn=er[0].pageWidth,cr=er[0].pageHeight,ar=_i.parentElement,rr=(ar.clientWidth-45)/Jn,Qr=(ar.clientHeight-45)/cr,Lr=rr;switch(An){case ht.ScrollMode.Horizontal:Lr=Math.min(rr,Qr);break;case ht.ScrollMode.Vertical:default:Lr=rr}var Ir,Br,Sr=Qt?typeof Qt=="string"?fx(ar,cr,Jn,Qt,Cn,yn.numPages):Qt:(Ir=Lr,(Br=dE.findIndex(function(zr){return zr>=Ir}))===-1||Br===0?Ir:dE[Br-1]);In({pageSizes:er,scale:Sr})}})},[yn.loadingTask.docId]),xn.pageSizes.length===0||xn.scale===0?xt.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Nn},xt.createElement(Ot,null)):bn(xn.pageSizes,xn.scale)},sy=function(){},gx=function(Vt){function Qt(yn,bn){var An=Vt.call(this)||this;return An.verifyPassword=yn,An.passwordStatus=bn,An}return wt(Qt,Vt),Qt}(sy),G_=function(Vt){var Qt=Vt.passwordStatus,yn=Vt.renderProtectedView,bn=Vt.verifyPassword,An=Vt.onDocumentAskPassword,Cn=xt.useContext(Sn).l10n,Nn=xt.useState(""),Mn=Nn[0],xn=Nn[1],In=xt.useContext(Pt).direction===ht.TextDirection.RightToLeft,Ln=function(){return bn(Mn)};return xt.useEffect(function(){An&&An({verifyPassword:bn})},[]),yn?yn({passwordStatus:Qt,verifyPassword:bn}):xt.createElement("div",{className:"rpv-core__asking-password-wrapper"},xt.createElement("div",{className:kt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":In})},xt.createElement("div",{className:"rpv-core__asking-password-message"},Qt===ht.PasswordStatus.RequiredPassword&&Cn.core.askingPassword.requirePasswordToOpen,Qt===ht.PasswordStatus.WrongPassword&&Cn.core.wrongPassword.tryAgain),xt.createElement("div",{className:"rpv-core__asking-password-body"},xt.createElement("div",{className:kt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!In,"rpv-core__asking-password-input--rtl":In})},xt.createElement(Ht,{testId:"core__asking-password-input",type:"password",value:Mn,onChange:xn,onKeyDown:function(er){er.key==="Enter"&&Ln()}})),xt.createElement(Lt,{onClick:Ln},Cn.core.askingPassword.submit))))},hE=function(Vt){function Qt(yn){var bn=Vt.call(this)||this;return bn.doc=yn,bn}return wt(Qt,Vt),Qt}(sy),fE=function(Vt){function Qt(yn){var bn=Vt.call(this)||this;return bn.error=yn,bn}return wt(Qt,Vt),Qt}(sy),mx=function(Vt){function Qt(yn){var bn=Vt.call(this)||this;return bn.percentages=yn,bn}return wt(Qt,Vt),Qt}(sy),X_=function(Vt){var Qt=Vt.characterMap,yn=Vt.file,bn=Vt.httpHeaders,An=Vt.render,Cn=Vt.renderError,Nn=Vt.renderLoader,Mn=Vt.renderProtectedView,xn=Vt.transformGetDocumentParams,In=Vt.withCredentials,Ln=Vt.onDocumentAskPassword,er=xt.useContext(Pt).direction===ht.TextDirection.RightToLeft,_i=xt.useState(new mx(0)),Jn=_i[0],cr=_i[1],ar=xt.useRef(""),rr=dn();return xt.useEffect(function(){ar.current="",cr(new mx(0));var Qr=new Et.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Lr=Object.assign({httpHeaders:bn,withCredentials:In,worker:Qr},typeof yn=="string"?{url:yn}:{data:yn},Qt?{cMapUrl:Qt.url,cMapPacked:Qt.isCompressed}:{}),Ir=xn?xn(Lr):Lr,Br=Et.getDocument(Ir);return Br.onPassword=function(Sr,zr){switch(zr){case Et.PasswordResponses.NEED_PASSWORD:rr.current&&cr(new gx(Sr,ht.PasswordStatus.RequiredPassword));break;case Et.PasswordResponses.INCORRECT_PASSWORD:rr.current&&cr(new gx(Sr,ht.PasswordStatus.WrongPassword))}},Br.onProgress=function(Sr){var zr=Sr.total>0?Math.min(100,100*Sr.loaded/Sr.total):100;rr.current&&ar.current===""&&cr(new mx(zr))},Br.promise.then(function(Sr){ar.current=Sr.loadingTask.docId,rr.current&&cr(new hE(Sr))},function(Sr){return rr.current&&!Qr.destroyed&&cr(new fE({message:Sr.message||"Cannot load document",name:Sr.name}))}),function(){Br.destroy(),Qr.destroy()}},[yn]),Jn instanceof gx?xt.createElement(G_,{passwordStatus:Jn.passwordStatus,renderProtectedView:Mn,verifyPassword:Jn.verifyPassword,onDocumentAskPassword:Ln}):Jn instanceof hE?An(Jn.doc):Jn instanceof fE?Cn?Cn(Jn.error):xt.createElement("div",{className:kt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":er})},xt.createElement("div",{className:"rpv-core__doc-error-text"},Jn.error.message)):xt.createElement("div",{"data-testid":"core__doc-loading",className:kt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":er})},Nn?Nn(Jn.percentages):xt.createElement(Ot,null))},q_=function(Vt,Qt){var yn=xt.useMemo(function(){return Vt==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Vt},[]),bn=xt.useState(yn),An=bn[0],Cn=bn[1],Nn=En(An);return xt.useEffect(function(){if(Vt==="auto"){var Mn=window.matchMedia("(prefers-color-scheme: dark)"),xn=function(In){Cn(In.matches?"dark":"light")};return Mn.addEventListener("change",xn),function(){return Mn.removeEventListener("change",xn)}}},[]),xt.useEffect(function(){An!==Nn&&Qt&&Qt(An)},[An]),xt.useEffect(function(){Vt!==An&&Cn(Vt)},[Vt]),{currentTheme:An,setCurrentTheme:Cn}},K_=function(Vt){return{startPage:Vt.startPage-3,endPage:Vt.endPage+3}};ht.Button=function(Vt){var Qt=Vt.children,yn=Vt.testId,bn=Vt.onClick,An=xt.useContext(Pt).direction===ht.TextDirection.RightToLeft,Cn=yn?{"data-testid":yn}:{};return xt.createElement("button",St({className:kt({"rpv-core__button":!0,"rpv-core__button--rtl":An}),type:"button",onClick:bn},Cn),Qt)},ht.Icon=$t,ht.LazyRender=function(Vt){var Qt=Vt.attrs,yn=Vt.children,bn=Vt.testId,An=xt.useState(!1),Cn=An[0],Nn=An[1],Mn=bn?St(St({},Qt),{"data-testid":bn}):Qt,xn=Dt({once:!0,onVisibilityChanged:function(In){In.isVisible&&Nn(!0)}});return xt.createElement("div",St({ref:xn},Mn),Cn&&yn)},ht.LocalizationContext=Sn,ht.Menu=function(Vt){var Qt=Vt.children,yn=xt.useRef(),bn=xt.useRef([]),An=xt.useContext(Pt).direction===ht.TextDirection.RightToLeft,Cn=function(Mn){if(yn.current)switch(Mn.key){case"Tab":Mn.preventDefault();break;case"ArrowDown":Mn.preventDefault(),Nn(function(xn,In){return In+1});break;case"ArrowUp":Mn.preventDefault(),Nn(function(xn,In){return In-1});break;case"End":Mn.preventDefault(),Nn(function(xn,In){return xn.length-1});break;case"Home":Mn.preventDefault(),Nn(function(xn,In){return 0})}},Nn=function(Mn){if(yn.current){var xn=bn.current,In=xn.findIndex(function(er){return er.getAttribute("tabindex")==="0"}),Ln=Math.min(xn.length-1,Math.max(0,Mn(xn,In)));In>=0&&In<=xn.length-1&&xn[In].setAttribute("tabindex","-1"),xn[Ln].setAttribute("tabindex","0"),xn[Ln].focus()}};return Mt(function(){var Mn=yn.current;if(Mn){var xn=function(In){var Ln=[];return In.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(er){if(er instanceof HTMLElement){var _i=er.parentElement;(_i===In||window.getComputedStyle(_i).display!=="none")&&Ln.push(er)}}),Ln}(Mn);bn.current=xn}},[]),Mt(function(){return document.addEventListener("keydown",Cn),function(){document.removeEventListener("keydown",Cn)}},[]),xt.createElement("div",{ref:yn,"aria-orientation":"vertical",className:kt({"rpv-core__menu":!0,"rpv-core__menu--rtl":An}),role:"menu",tabIndex:0},Qt)},ht.MenuDivider=function(){return xt.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},ht.MenuItem=function(Vt){var Qt=Vt.checked,yn=Qt!==void 0&&Qt,bn=Vt.children,An=Vt.icon,Cn=An===void 0?null:An,Nn=Vt.isDisabled,Mn=Nn!==void 0&&Nn,xn=Vt.testId,In=Vt.onClick,Ln=xt.useContext(Pt).direction===ht.TextDirection.RightToLeft,er=xn?{"data-testid":xn}:{};return xt.createElement("button",St({className:kt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Mn,"rpv-core__menu-item--ltr":!Ln,"rpv-core__menu-item--rtl":Ln}),role:"menuitem",tabIndex:-1,type:"button",onClick:In},er),xt.createElement("div",{className:kt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Ln,"rpv-core__menu-item-icon--rtl":Ln})},Cn),xt.createElement("div",{className:kt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Ln,"rpv-core__menu-item-label--rtl":Ln})},bn),xt.createElement("div",{className:kt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Ln,"rpv-core__menu-item-check--rtl":Ln})},yn&&xt.createElement(Ft,null)))},ht.MinimalButton=function(Vt){var Qt=Vt.ariaLabel,yn=Qt===void 0?"":Qt,bn=Vt.ariaKeyShortcuts,An=bn===void 0?"":bn,Cn=Vt.children,Nn=Vt.isDisabled,Mn=Nn!==void 0&&Nn,xn=Vt.isSelected,In=xn!==void 0&&xn,Ln=Vt.testId,er=Vt.onClick,_i=xt.useContext(Pt).direction===ht.TextDirection.RightToLeft,Jn=Ln?{"data-testid":Ln}:{};return xt.createElement("button",St({"aria-label":yn},An&&{"aria-keyshortcuts":An},Mn&&{"aria-disabled":!0},{className:kt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Mn,"rpv-core__minimal-button--rtl":_i,"rpv-core__minimal-button--selected":In}),type:"button",onClick:er},Jn),Cn)},ht.Modal=function(Vt){var Qt=Vt.ariaControlsSuffix,yn=Vt.closeOnClickOutside,bn=Vt.closeOnEscape,An=Vt.content,Cn=Vt.isOpened,Nn=Cn!==void 0&&Cn,Mn=Vt.target,xn=Qt||"".concat(Xt());return xt.createElement(jn,{target:Mn?function(In,Ln){return xt.createElement("div",{"aria-expanded":Ln?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(xn)},Mn(In,Ln))}:null,content:function(In){return xt.createElement(ln,null,xt.createElement(un,{ariaControlsSuffix:xn,closeOnClickOutside:yn,closeOnEscape:bn,onToggle:In},An(In)))},isOpened:Nn})},ht.Popover=function(Vt){var Qt=Vt.ariaHasPopup,yn=Qt===void 0?"dialog":Qt,bn=Vt.ariaControlsSuffix,An=Vt.closeOnClickOutside,Cn=Vt.closeOnEscape,Nn=Vt.content,Mn=Vt.lockScroll,xn=Mn===void 0||Mn,In=Vt.offset,Ln=Vt.position,er=Vt.target,_i=Rn(!1),Jn=_i.opened,cr=_i.toggle,ar=xt.useRef(),rr=xt.useMemo(function(){return bn||"".concat(Xt())},[]);return xt.createElement("div",{ref:ar,"aria-expanded":Jn?"true":"false","aria-haspopup":yn,"aria-controls":"rpv-core__popver-body-".concat(rr)},er(cr,Jn),Jn&&xt.createElement(xt.Fragment,null,xn&&xt.createElement(Wn,{closeOnEscape:Cn,onClose:cr}),xt.createElement(On,{ariaControlsSuffix:rr,closeOnClickOutside:An,offset:In,position:Ln,targetRef:ar,onClose:cr},Nn(cr))))},ht.PrimaryButton=Lt,ht.ProgressBar=function(Vt){var Qt=Vt.progress,yn=xt.useContext(Pt).direction===ht.TextDirection.RightToLeft;return xt.createElement("div",{className:kt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":yn})},xt.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Qt,"%")}},Qt,"%"))},ht.Separator=function(){return xt.createElement("div",{className:"rpv-core__separator"})},ht.Spinner=Ot,ht.Splitter=function(Vt){var Qt=Vt.constrain,yn=xt.useContext(Pt).direction===ht.TextDirection.RightToLeft,bn=xt.useRef(),An=xt.useRef(),Cn=xt.useRef(),Nn=xt.useRef(0),Mn=xt.useRef(0),xn=xt.useRef(0),In=xt.useRef(0),Ln={capture:!0},er=function(Jn){var cr=bn.current,ar=An.current,rr=Cn.current;if(cr&&ar&&rr){var Qr=In.current,Lr=Jn.clientX-Nn.current,Ir=xn.current+(yn?-Lr:Lr),Br=cr.parentElement.getBoundingClientRect().width,Sr=100*Ir/Br;if(cr.classList.add("rpv-core__splitter--resizing"),Qt){var zr=Br-Ir-Qr;if(!Qt({firstHalfPercentage:Sr,firstHalfSize:Ir,secondHalfPercentage:100*zr/Br,secondHalfSize:zr}))return}ar.style.width="".concat(Sr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),ar.classList.add("rpv-core__splitter-sibling--resizing"),rr.classList.add("rpv-core__splitter-sibling--resizing")}},_i=function(Jn){var cr=bn.current,ar=An.current,rr=Cn.current;cr&&ar&&rr&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),cr.classList.remove("rpv-core__splitter--resizing"),ar.classList.remove("rpv-core__splitter-sibling--resizing"),rr.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",er,Ln),document.removeEventListener("mouseup",_i,Ln))};return xt.useEffect(function(){var Jn=bn.current;Jn&&(In.current=Jn.getBoundingClientRect().width,An.current=Jn.previousElementSibling,Cn.current=Jn.nextElementSibling)},[]),xt.createElement("div",{ref:bn,className:"rpv-core__splitter",onMouseDown:function(Jn){var cr=An.current;cr&&(Nn.current=Jn.clientX,Mn.current=Jn.clientY,xn.current=cr.getBoundingClientRect().width,document.addEventListener("mousemove",er,Ln),document.addEventListener("mouseup",_i,Ln))}})},ht.TextBox=Ht,ht.ThemeContext=Pt,ht.Tooltip=function(Vt){var Qt=Vt.ariaControlsSuffix,yn=Vt.content,bn=Vt.offset,An=Vt.position,Cn=Vt.target,Nn=Rn(!1),Mn=Nn.opened,xn=Nn.toggle,In=xt.useRef(),Ln=xt.useRef(),er=xt.useMemo(function(){return Qt||"".concat(Xt())},[]);Jt(function(){In.current&&document.activeElement&&In.current.contains(document.activeElement)&&Jn()});var _i=function(){xn(ht.ToggleStatus.Open)},Jn=function(){xn(ht.ToggleStatus.Close)};return xt.createElement(xt.Fragment,null,xt.createElement("div",{ref:In,"aria-describedby":"rpv-core__tooltip-body-".concat(er),onBlur:function(cr){cr.relatedTarget instanceof HTMLElement&&cr.currentTarget.parentElement&&cr.currentTarget.parentElement.contains(cr.relatedTarget)?Ln.current&&(Ln.current.style.display="none"):Jn()},onFocus:_i,onMouseEnter:_i,onMouseLeave:Jn},Cn),Mn&&xt.createElement(Qn,{ariaControlsSuffix:er,contentRef:Ln,offset:bn,position:An,targetRef:In},yn()))},ht.Viewer=function(Vt){var Qt=Vt.characterMap,yn=Vt.defaultScale,bn=Vt.enableSmoothScroll,An=bn===void 0||bn,Cn=Vt.fileUrl,Nn=Vt.httpHeaders,Mn=Nn===void 0?{}:Nn,xn=Vt.initialPage,In=xn===void 0?0:xn,Ln=Vt.pageLayout,er=Vt.initialRotation,_i=er===void 0?0:er,Jn=Vt.localization,cr=Vt.plugins,ar=cr===void 0?[]:cr,rr=Vt.renderError,Qr=Vt.renderLoader,Lr=Vt.renderPage,Ir=Vt.renderProtectedView,Br=Vt.scrollMode,Sr=Br===void 0?ht.ScrollMode.Vertical:Br,zr=Vt.setRenderRange,Nr=zr===void 0?K_:zr,as=Vt.transformGetDocumentParams,rs=Vt.theme,ls=rs===void 0?{direction:ht.TextDirection.LeftToRight,theme:"light"}:rs,us=Vt.viewMode,fs=us===void 0?ht.ViewMode.SinglePage:us,$s=Vt.withCredentials,Ss=$s!==void 0&&$s,Ns=Vt.onDocumentAskPassword,Ms=Vt.onDocumentLoad,Ls=Ms===void 0?function(){}:Ms,Ds=Vt.onPageChange,Fs=Ds===void 0?function(){}:Ds,Js=Vt.onRotate,ba=Js===void 0?function(){}:Js,Ho=Vt.onRotatePage,Ws=Ho===void 0?function(){}:Ho,yo=Vt.onSwitchTheme,Il=yo===void 0?function(){}:yo,jr=Vt.onZoom,$r=jr===void 0?function(){}:jr,Cr=xt.useState({data:Cn,name:typeof Cn=="string"?Cn:"",shouldLoad:!1}),kr=Cr[0],Rr=Cr[1],Wr=function(As,Cs){Rr({data:Cs,name:As,shouldLoad:!0})},Gr=xt.useState(!1),Mr=Gr[0],yr=Gr[1],Yr=En(kr);xt.useEffect(function(){var As,Cs,Bs,ms;As=Yr.data,ms=typeof(Cs=Cn),(Bs=typeof As)=="string"&&ms==="string"&&As===Cs||Bs==="object"&&ms==="object"&&As.length===Cs.length&&As.every(function(gu,qp){return gu===Cs[qp]})||Rr({data:Cn,name:typeof Cn=="string"?Cn:"",shouldLoad:Mr})},[Cn,Mr]);var Jr=Dt({onVisibilityChanged:function(As){yr(As.isVisible),As.isVisible&&Rr(function(Cs){return Object.assign({},Cs,{shouldLoad:!0})})}}),Es=typeof ls=="string"?{direction:ht.TextDirection.LeftToRight,theme:ls}:ls,ys=xt.useState(Jn||gn),Ks=ys[0],Ao=ys[1],Zr={l10n:Ks,setL10n:Ao},Ys=Object.assign({},{direction:Es.direction},q_(Es.theme||"light",Il));return xt.useEffect(function(){Jn&&Ao(Jn)},[Jn]),xt.createElement(Sn.Provider,{value:Zr},xt.createElement(Pt.Provider,{value:Ys},xt.createElement("div",{ref:Jr,className:"rpv-core__viewer rpv-core__viewer--".concat(Ys.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},kr.shouldLoad&&xt.createElement(X_,{characterMap:Qt,file:kr.data,httpHeaders:Mn,render:function(As){return xt.createElement(V_,{defaultScale:yn,doc:As,render:function(Cs,Bs){return xt.createElement(W_,{currentFile:{data:kr.data,name:kr.name},defaultScale:yn,doc:As,enableSmoothScroll:An,initialPage:In,initialRotation:_i,initialScale:Bs,pageLayout:Ln,pageSizes:Cs,plugins:ar,renderPage:Lr,scrollMode:Sr,setRenderRange:Nr,viewMode:fs,viewerState:{file:kr,fullScreenMode:ht.FullScreenMode.Normal,pageIndex:-1,pageHeight:Cs[0].pageHeight,pageWidth:Cs[0].pageWidth,pagesRotation:new Map,rotation:_i,scale:Bs,scrollMode:Sr,viewMode:fs},onDocumentLoad:Ls,onOpenFile:Wr,onPageChange:Fs,onRotate:ba,onRotatePage:Ws,onZoom:$r})},scrollMode:Sr,viewMode:fs})},renderError:rr,renderLoader:Qr,renderProtectedView:Ir,transformGetDocumentParams:as,withCredentials:Ss,onDocumentAskPassword:Ns}))))},ht.Worker=function(Vt){var Qt=Vt.children,yn=Vt.workerUrl;return Et.GlobalWorkerOptions.workerSrc=yn,xt.createElement(xt.Fragment,null,Qt)},ht.chunk=Tn,ht.classNames=kt,ht.createStore=function(Vt){var Qt=Vt||{},yn={},bn=function(Cn,Nn){var Mn;Qt=St(St({},Qt),((Mn={})[Cn]=Nn,Mn)),(yn[Cn]||[]).forEach(function(xn){return xn(Qt[Cn])})},An=function(Cn){return Qt[Cn]};return{subscribe:function(Cn,Nn){yn[Cn]=(yn[Cn]||[]).concat(Nn)},unsubscribe:function(Cn,Nn){yn[Cn]=(yn[Cn]||[]).filter(function(Mn){return Mn!==Nn})},update:function(Cn,Nn){bn(Cn,Nn)},updateCurrentValue:function(Cn,Nn){var Mn=An(Cn);Mn!==void 0&&bn(Cn,Nn(Mn))},get:function(Cn){return An(Cn)}}},ht.getDestination=_r,ht.getPage=hr,ht.isFullScreenEnabled=qt,ht.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},ht.useDebounceCallback=_n,ht.useIntersectionObserver=Dt,ht.useIsMounted=dn,ht.useIsomorphicLayoutEffect=Mt,ht.usePrevious=En,ht.useRenderQueue=tn})(core_min);const Load=()=>{reactExports.useState(null),reactExports.useState(null),reactExports.useState(null);const[ht,$]=reactExports.useState(null),[_e,vt]=reactExports.useState(""),[bt,xt]=reactExports.useState(null),[Et,At]=reactExports.useState(null);function wt(Rt){const Pt=Rt.target.files[0];if($(Pt.size/(1024*1024)),Pt){const kt=new FileReader;kt.onloadend=()=>{xt(kt.result.split(",")[1])},kt.readAsDataURL(Pt);const Mt=Rt.target.value.replace("C:\\fakepath\\","");vt(Mt)}else alert("No file selected")}const Ct=async Rt=>{Rt.preventDefault();try{await axios.post("/en/uploadpdf",{file:bt,filename:_e}),console.log("Successfully uploaded.")}catch(Pt){console.log("Error uploading details:",Pt),alert("File size too large")}},St=async Rt=>{Rt.preventDefault();try{console.log("hi");const Pt=await axios.get("/en/pdfid/66813196189877e17f54a9e0",{responseType:"arraybuffer"}),kt=new Uint8Array(Pt.data),Mt=new Blob([kt],{type:"application/pdf"});let Dt=window.URL.createObjectURL(Mt);At(Dt)}catch(Pt){console.log("Error uploading details:",Pt),alert("File size too large")}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("form",{onSubmit:Ct,children:[jsxRuntimeExports.jsx("input",{type:"file",onChange:wt,accept:"application/pdf"}),jsxRuntimeExports.jsx("button",{type:"submit",children:"Upload"})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{onClick:St,children:"show pdf"}),Et&&jsxRuntimeExports.jsx("embed",{src:Et,type:"application/pdf",width:"100%",height:"600px"})]})};function App(){const[ht,$]=reactExports.useState(!0);return jsxRuntimeExports.jsx("div",{className:"App",children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/main",element:jsxRuntimeExports.jsx(Main,{isDoctor:ht})}),jsxRuntimeExports.jsx(Route,{path:"/form",element:jsxRuntimeExports.jsx(Form,{})}),jsxRuntimeExports.jsx(Route,{path:"/patient",element:jsxRuntimeExports.jsx(Patient,{isDoctor:ht})}),jsxRuntimeExports.jsx(Route,{path:"/signin",element:jsxRuntimeExports.jsx(Signin,{setIsDoctor:$,isDoctor:ht})}),jsxRuntimeExports.jsx(Route,{path:"/newSignin",element:jsxRuntimeExports.jsx(NewSignin,{})}),jsxRuntimeExports.jsx(Route,{path:"/upload",element:jsxRuntimeExports.jsx(Upload,{})}),jsxRuntimeExports.jsx(Route,{path:"/load",element:jsxRuntimeExports.jsx(Load,{})})]})})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
