var x6=Object.defineProperty;var g9=_e=>{throw TypeError(_e)};var b6=(_e,$,ht)=>$ in _e?x6(_e,$,{enumerable:!0,configurable:!0,writable:!0,value:ht}):_e[$]=ht;var os=(_e,$,ht)=>b6(_e,typeof $!="symbol"?$+"":$,ht),V2=(_e,$,ht)=>$.has(_e)||g9("Cannot "+ht);var Xt=(_e,$,ht)=>(V2(_e,$,"read from private field"),ht?ht.call(_e):$.get(_e)),$n=(_e,$,ht)=>$.has(_e)?g9("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(_e):$.set(_e,ht),Ln=(_e,$,ht,bt)=>(V2(_e,$,"write to private field"),bt?bt.call(_e,ht):$.set(_e,ht),ht),Dn=(_e,$,ht)=>(V2(_e,$,"access private method"),ht);var Fo=(_e,$,ht,bt)=>({set _(wt){Ln(_e,$,wt,ht)},get _(){return Xt(_e,$,bt)}});function _mergeNamespaces(_e,$){for(var ht=0;ht<$.length;ht++){const bt=$[ht];if(typeof bt!="string"&&!Array.isArray(bt)){for(const wt in bt)if(wt!=="default"&&!(wt in _e)){const At=Object.getOwnPropertyDescriptor(bt,wt);At&&Object.defineProperty(_e,wt,At.get?At:{enumerable:!0,get:()=>bt[wt]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var $=_e.default;if(typeof $=="function"){var ht=function bt(){return this instanceof bt?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};ht.prototype=$.prototype}else ht={};return Object.defineProperty(ht,"__esModule",{value:!0}),Object.keys(_e).forEach(function(bt){var wt=Object.getOwnPropertyDescriptor(_e,bt);Object.defineProperty(ht,bt,wt.get?wt:{enumerable:!0,get:function(){return _e[bt]}})}),ht}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$8=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$4(_e){return _e===null||typeof _e!="object"?null:(_e=z$2&&_e[z$2]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$5={};function E$2(_e,$,ht){this.props=_e,this.context=$,this.refs=D$5,this.updater=ht||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_e,$){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,$,"setState")};E$2.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$4(){}F$4.prototype=E$2.prototype;function G$3(_e,$,ht){this.props=_e,this.context=$,this.refs=D$5,this.updater=ht||B$2}var H$3=G$3.prototype=new F$4;H$3.constructor=G$3;C$2(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$5=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$4(_e,$,ht){var bt,wt={},At=null,Ct=null;if($!=null)for(bt in $.ref!==void 0&&(Ct=$.ref),$.key!==void 0&&(At=""+$.key),$)J$2.call($,bt)&&!L$2.hasOwnProperty(bt)&&(wt[bt]=$[bt]);var St=arguments.length-2;if(St===1)wt.children=ht;else if(1<St){for(var Ft=Array(St),vt=0;vt<St;vt++)Ft[vt]=arguments[vt+2];wt.children=Ft}if(_e&&_e.defaultProps)for(bt in St=_e.defaultProps,St)wt[bt]===void 0&&(wt[bt]=St[bt]);return{$$typeof:l$3,type:_e,key:At,ref:Ct,props:wt,_owner:K$1.current}}function N$4(_e,$){return{$$typeof:l$3,type:_e.type,key:$,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$3(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$3}function escape$1(_e){var $={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(ht){return $[ht]})}var P$4=/\/+/g;function Q$1(_e,$){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):$.toString(36)}function R$2(_e,$,ht,bt,wt){var At=typeof _e;(At==="undefined"||At==="boolean")&&(_e=null);var Ct=!1;if(_e===null)Ct=!0;else switch(At){case"string":case"number":Ct=!0;break;case"object":switch(_e.$$typeof){case l$3:case n$5:Ct=!0}}if(Ct)return Ct=_e,wt=wt(Ct),_e=bt===""?"."+Q$1(Ct,0):bt,I$5(wt)?(ht="",_e!=null&&(ht=_e.replace(P$4,"$&/")+"/"),R$2(wt,$,ht,"",function(vt){return vt})):wt!=null&&(O$3(wt)&&(wt=N$4(wt,ht+(!wt.key||Ct&&Ct.key===wt.key?"":(""+wt.key).replace(P$4,"$&/")+"/")+_e)),$.push(wt)),1;if(Ct=0,bt=bt===""?".":bt+":",I$5(_e))for(var St=0;St<_e.length;St++){At=_e[St];var Ft=bt+Q$1(At,St);Ct+=R$2(At,$,ht,Ft,wt)}else if(Ft=A$4(_e),typeof Ft=="function")for(_e=Ft.call(_e),St=0;!(At=_e.next()).done;)At=At.value,Ft=bt+Q$1(At,St++),Ct+=R$2(At,$,ht,Ft,wt);else if(At==="object")throw $=String(_e),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Ct}function S$5(_e,$,ht){if(_e==null)return _e;var bt=[],wt=0;return R$2(_e,bt,"","",function(At){return $.call(ht,At,wt++)}),bt}function T$4(_e){if(_e._status===-1){var $=_e._result;$=$(),$.then(function(ht){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=ht)},function(ht){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=ht)}),_e._status===-1&&(_e._status=0,_e._result=$)}if(_e._status===1)return _e._result.default;throw _e._result}var U$3={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(_e,$,ht){S$5(_e,function(){$.apply(this,arguments)},ht)},count:function(_e){var $=0;return S$5(_e,function(){$++}),$},toArray:function(_e){return S$5(_e,function($){return $})||[]},only:function(_e){if(!O$3(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$2;react_production_min.Fragment=p$6;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$2;react_production_min.cloneElement=function(_e,$,ht){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var bt=C$2({},_e.props),wt=_e.key,At=_e.ref,Ct=_e._owner;if($!=null){if($.ref!==void 0&&(At=$.ref,Ct=K$1.current),$.key!==void 0&&(wt=""+$.key),_e.type&&_e.type.defaultProps)var St=_e.type.defaultProps;for(Ft in $)J$2.call($,Ft)&&!L$2.hasOwnProperty(Ft)&&(bt[Ft]=$[Ft]===void 0&&St!==void 0?St[Ft]:$[Ft])}var Ft=arguments.length-2;if(Ft===1)bt.children=ht;else if(1<Ft){St=Array(Ft);for(var vt=0;vt<Ft;vt++)St[vt]=arguments[vt+2];bt.children=St}return{$$typeof:l$3,type:_e.type,key:wt,ref:At,props:bt,_owner:Ct}};react_production_min.createContext=function(_e){return _e={$$typeof:u$8,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$5,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$4;react_production_min.createFactory=function(_e){var $=M$4.bind(null,_e);return $.type=_e,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$2,render:_e}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(_e){return{$$typeof:y$5,_payload:{_status:-1,_result:_e},_init:T$4}};react_production_min.memo=function(_e,$){return{$$typeof:x$1,type:_e,compare:$===void 0?null:$}};react_production_min.startTransition=function(_e){var $=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=$}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(_e,$){return U$3.current.useCallback(_e,$)};react_production_min.useContext=function(_e){return U$3.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$3.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,$){return U$3.current.useEffect(_e,$)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(_e,$,ht){return U$3.current.useImperativeHandle(_e,$,ht)};react_production_min.useInsertionEffect=function(_e,$){return U$3.current.useInsertionEffect(_e,$)};react_production_min.useLayoutEffect=function(_e,$){return U$3.current.useLayoutEffect(_e,$)};react_production_min.useMemo=function(_e,$){return U$3.current.useMemo(_e,$)};react_production_min.useReducer=function(_e,$,ht){return U$3.current.useReducer(_e,$,ht)};react_production_min.useRef=function(_e){return U$3.current.useRef(_e)};react_production_min.useState=function(_e){return U$3.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,$,ht){return U$3.current.useSyncExternalStore(_e,$,ht)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),t$4=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$6=reactExports,k=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$4=f$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$1(_e,$,ht){var bt,wt={},At=null,Ct=null;ht!==void 0&&(At=""+ht),$.key!==void 0&&(At=""+$.key),$.ref!==void 0&&(Ct=$.ref);for(bt in $)m$5.call($,bt)&&!p$5.hasOwnProperty(bt)&&(wt[bt]=$[bt]);if(_e&&_e.defaultProps)for(bt in $=_e.defaultProps,$)wt[bt]===void 0&&(wt[bt]=$[bt]);return{$$typeof:k,type:_e,key:At,ref:Ct,props:wt,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function $(Ut,zt){var cn=Ut.length;Ut.push(zt);e:for(;0<cn;){var ln=cn-1>>>1,Kt=Ut[ln];if(0<wt(Kt,zt))Ut[ln]=zt,Ut[cn]=Kt,cn=ln;else break e}}function ht(Ut){return Ut.length===0?null:Ut[0]}function bt(Ut){if(Ut.length===0)return null;var zt=Ut[0],cn=Ut.pop();if(cn!==zt){Ut[0]=cn;e:for(var ln=0,Kt=Ut.length,Jt=Kt>>>1;ln<Jt;){var Yt=2*(ln+1)-1,tn=Ut[Yt],un=Yt+1,yn=Ut[un];if(0>wt(tn,cn))un<Kt&&0>wt(yn,tn)?(Ut[ln]=yn,Ut[un]=cn,ln=un):(Ut[ln]=tn,Ut[Yt]=cn,ln=Yt);else if(un<Kt&&0>wt(yn,cn))Ut[ln]=yn,Ut[un]=cn,ln=un;else break e}}return zt}function wt(Ut,zt){var cn=Ut.sortIndex-zt.sortIndex;return cn!==0?cn:Ut.id-zt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var At=performance;_e.unstable_now=function(){return At.now()}}else{var Ct=Date,St=Ct.now();_e.unstable_now=function(){return Ct.now()-St}}var Ft=[],vt=[],Et=1,Mt=null,Pt=3,xt=!1,$t=!1,_t=!1,jt=typeof setTimeout=="function"?setTimeout:null,Rt=typeof clearTimeout=="function"?clearTimeout:null,Nt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Lt(Ut){for(var zt=ht(vt);zt!==null;){if(zt.callback===null)bt(vt);else if(zt.startTime<=Ut)bt(vt),zt.sortIndex=zt.expirationTime,$(Ft,zt);else break;zt=ht(vt)}}function kt(Ut){if(_t=!1,Lt(Ut),!$t)if(ht(Ft)!==null)$t=!0,qt(Bt);else{var zt=ht(vt);zt!==null&&nn(kt,zt.startTime-Ut)}}function Bt(Ut,zt){$t=!1,_t&&(_t=!1,Rt(Vt),Vt=-1),xt=!0;var cn=Pt;try{for(Lt(zt),Mt=ht(Ft);Mt!==null&&(!(Mt.expirationTime>zt)||Ut&&!en());){var ln=Mt.callback;if(typeof ln=="function"){Mt.callback=null,Pt=Mt.priorityLevel;var Kt=ln(Mt.expirationTime<=zt);zt=_e.unstable_now(),typeof Kt=="function"?Mt.callback=Kt:Mt===ht(Ft)&&bt(Ft),Lt(zt)}else bt(Ft);Mt=ht(Ft)}if(Mt!==null)var Jt=!0;else{var Yt=ht(vt);Yt!==null&&nn(kt,Yt.startTime-zt),Jt=!1}return Jt}finally{Mt=null,Pt=cn,xt=!1}}var Ht=!1,Ot=null,Vt=-1,Gt=5,Wt=-1;function en(){return!(_e.unstable_now()-Wt<Gt)}function Sn(){if(Ot!==null){var Ut=_e.unstable_now();Wt=Ut;var zt=!0;try{zt=Ot(!0,Ut)}finally{zt?sn():(Ht=!1,Ot=null)}}else Ht=!1}var sn;if(typeof Nt=="function")sn=function(){Nt(Sn)};else if(typeof MessageChannel<"u"){var hn=new MessageChannel,Qt=hn.port2;hn.port1.onmessage=Sn,sn=function(){Qt.postMessage(null)}}else sn=function(){jt(Sn,0)};function qt(Ut){Ot=Ut,Ht||(Ht=!0,sn())}function nn(Ut,zt){Vt=jt(function(){Ut(_e.unstable_now())},zt)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Ut){Ut.callback=null},_e.unstable_continueExecution=function(){$t||xt||($t=!0,qt(Bt))},_e.unstable_forceFrameRate=function(Ut){0>Ut||125<Ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Gt=0<Ut?Math.floor(1e3/Ut):5},_e.unstable_getCurrentPriorityLevel=function(){return Pt},_e.unstable_getFirstCallbackNode=function(){return ht(Ft)},_e.unstable_next=function(Ut){switch(Pt){case 1:case 2:case 3:var zt=3;break;default:zt=Pt}var cn=Pt;Pt=zt;try{return Ut()}finally{Pt=cn}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Ut,zt){switch(Ut){case 1:case 2:case 3:case 4:case 5:break;default:Ut=3}var cn=Pt;Pt=Ut;try{return zt()}finally{Pt=cn}},_e.unstable_scheduleCallback=function(Ut,zt,cn){var ln=_e.unstable_now();switch(typeof cn=="object"&&cn!==null?(cn=cn.delay,cn=typeof cn=="number"&&0<cn?ln+cn:ln):cn=ln,Ut){case 1:var Kt=-1;break;case 2:Kt=250;break;case 5:Kt=1073741823;break;case 4:Kt=1e4;break;default:Kt=5e3}return Kt=cn+Kt,Ut={id:Et++,callback:zt,priorityLevel:Ut,startTime:cn,expirationTime:Kt,sortIndex:-1},cn>ln?(Ut.sortIndex=cn,$(vt,Ut),ht(Ft)===null&&Ut===ht(vt)&&(_t?(Rt(Vt),Vt=-1):_t=!0,nn(kt,cn-ln))):(Ut.sortIndex=Kt,$(Ft,Ut),$t||xt||($t=!0,qt(Bt))),Ut},_e.unstable_shouldYield=en,_e.unstable_wrapCallback=function(Ut){var zt=Pt;return function(){var cn=Pt;Pt=zt;try{return Ut.apply(this,arguments)}finally{Pt=cn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(_e){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+_e,ht=1;ht<arguments.length;ht++)$+="&args[]="+encodeURIComponent(arguments[ht]);return"Minified React error #"+_e+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,$){ha(_e,$),ha(_e+"Capture",$)}function ha(_e,$){for(ea[_e]=$,_e=0;_e<$.length;_e++)da.add($[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,$,ht,bt){if(ht!==null&&ht.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return bt?!1:ht!==null?!ht.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,$,ht,bt){if($===null||typeof $>"u"||pa(_e,$,ht,bt))return!0;if(bt)return!1;if(ht!==null)switch(ht.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$1(_e,$,ht,bt,wt,At,Ct){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=bt,this.attributeNamespace=wt,this.mustUseProperty=ht,this.propertyName=_e,this.type=$,this.sanitizeURL=At,this.removeEmptyString=Ct}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$1[_e]=new v$1(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var $=_e[0];z$1[$]=new v$1($,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$1[_e]=new v$1(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$1[_e]=new v$1(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$1[_e]=new v$1(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$1[_e]=new v$1(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$1[_e]=new v$1(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$1[_e]=new v$1(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$1[_e]=new v$1(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$1[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$1[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,$,ht,bt){var wt=z$1.hasOwnProperty($)?z$1[$]:null;(wt!==null?wt.type!==0:bt||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,ht,wt,bt)&&(ht=null),bt||wt===null?oa($)&&(ht===null?_e.removeAttribute($):_e.setAttribute($,""+ht)):wt.mustUseProperty?_e[wt.propertyName]=ht===null?wt.type===3?!1:"":ht:($=wt.attributeName,bt=wt.attributeNamespace,ht===null?_e.removeAttribute($):(wt=wt.type,ht=wt===3||wt===4&&ht===!0?"":""+ht,bt?_e.setAttributeNS(bt,$,ht):_e.setAttribute($,ht))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$3=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(ht){var $=ht.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,$){if(!_e||Na)return"";Na=!0;var ht=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(vt){var bt=vt}Reflect.construct(_e,[],$)}else{try{$.call()}catch(vt){bt=vt}_e.call($.prototype)}else{try{throw Error()}catch(vt){bt=vt}_e()}}catch(vt){if(vt&&bt&&typeof vt.stack=="string"){for(var wt=vt.stack.split(`
`),At=bt.stack.split(`
`),Ct=wt.length-1,St=At.length-1;1<=Ct&&0<=St&&wt[Ct]!==At[St];)St--;for(;1<=Ct&&0<=St;Ct--,St--)if(wt[Ct]!==At[St]){if(Ct!==1||St!==1)do if(Ct--,St--,0>St||wt[Ct]!==At[St]){var Ft=`
`+wt[Ct].replace(" at new "," at ");return _e.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",_e.displayName)),Ft}while(1<=Ct&&0<=St);break}}}finally{Na=!1,Error.prepareStackTrace=ht}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var $=_e.render;return _e=_e.displayName,_e||(_e=$.displayName||$.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return $=_e.displayName||null,$!==null?$:Qa(_e.type)||"Memo";case Ha:$=_e._payload,_e=_e._init;try{return Qa(_e($))}catch{}}return null}function Ra(_e){var $=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=$.render,_e=_e.displayName||_e.name||"",$.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var $=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(_e){var $=Ta(_e)?"checked":"value",ht=Object.getOwnPropertyDescriptor(_e.constructor.prototype,$),bt=""+_e[$];if(!_e.hasOwnProperty($)&&typeof ht<"u"&&typeof ht.get=="function"&&typeof ht.set=="function"){var wt=ht.get,At=ht.set;return Object.defineProperty(_e,$,{configurable:!0,get:function(){return wt.call(this)},set:function(Ct){bt=""+Ct,At.call(this,Ct)}}),Object.defineProperty(_e,$,{enumerable:ht.enumerable}),{getValue:function(){return bt},setValue:function(Ct){bt=""+Ct},stopTracking:function(){_e._valueTracker=null,delete _e[$]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var $=_e._valueTracker;if(!$)return!0;var ht=$.getValue(),bt="";return _e&&(bt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=bt,_e!==ht?($.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,$){var ht=$.checked;return A$3({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ht??_e._wrapperState.initialChecked})}function Za(_e,$){var ht=$.defaultValue==null?"":$.defaultValue,bt=$.checked!=null?$.checked:$.defaultChecked;ht=Sa($.value!=null?$.value:ht),_e._wrapperState={initialChecked:bt,initialValue:ht,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(_e,$){$=$.checked,$!=null&&ta(_e,"checked",$,!1)}function bb(_e,$){ab(_e,$);var ht=Sa($.value),bt=$.type;if(ht!=null)bt==="number"?(ht===0&&_e.value===""||_e.value!=ht)&&(_e.value=""+ht):_e.value!==""+ht&&(_e.value=""+ht);else if(bt==="submit"||bt==="reset"){_e.removeAttribute("value");return}$.hasOwnProperty("value")?cb(_e,$.type,ht):$.hasOwnProperty("defaultValue")&&cb(_e,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(_e.defaultChecked=!!$.defaultChecked)}function db(_e,$,ht){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var bt=$.type;if(!(bt!=="submit"&&bt!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+_e._wrapperState.initialValue,ht||$===_e.value||(_e.value=$),_e.defaultValue=$}ht=_e.name,ht!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,ht!==""&&(_e.name=ht)}function cb(_e,$,ht){($!=="number"||Xa(_e.ownerDocument)!==_e)&&(ht==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+ht&&(_e.defaultValue=""+ht))}var eb=Array.isArray;function fb(_e,$,ht,bt){if(_e=_e.options,$){$={};for(var wt=0;wt<ht.length;wt++)$["$"+ht[wt]]=!0;for(ht=0;ht<_e.length;ht++)wt=$.hasOwnProperty("$"+_e[ht].value),_e[ht].selected!==wt&&(_e[ht].selected=wt),wt&&bt&&(_e[ht].defaultSelected=!0)}else{for(ht=""+Sa(ht),$=null,wt=0;wt<_e.length;wt++){if(_e[wt].value===ht){_e[wt].selected=!0,bt&&(_e[wt].defaultSelected=!0);return}$!==null||_e[wt].disabled||($=_e[wt])}$!==null&&($.selected=!0)}}function gb(_e,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$3({},$,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,$){var ht=$.value;if(ht==null){if(ht=$.children,$=$.defaultValue,ht!=null){if($!=null)throw Error(p$4(92));if(eb(ht)){if(1<ht.length)throw Error(p$4(93));ht=ht[0]}$=ht}$==null&&($=""),ht=$}_e._wrapperState={initialValue:Sa(ht)}}function ib(_e,$){var ht=Sa($.value),bt=Sa($.defaultValue);ht!=null&&(ht=""+ht,ht!==_e.value&&(_e.value=ht),$.defaultValue==null&&_e.defaultValue!==ht&&(_e.defaultValue=ht)),bt!=null&&(_e.defaultValue=""+bt)}function jb(_e){var $=_e.textContent;$===_e._wrapperState.initialValue&&$!==""&&$!==null&&(_e.value=$)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,$){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb($):_e==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,ht,bt,wt){MSApp.execUnsafeLocalFunction(function(){return _e($,ht,bt,wt)})}:_e}(function(_e,$){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;$.firstChild;)_e.appendChild($.firstChild)}});function ob(_e,$){if($){var ht=_e.firstChild;if(ht&&ht===_e.lastChild&&ht.nodeType===3){ht.nodeValue=$;return}}_e.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function($){$=$+_e.charAt(0).toUpperCase()+_e.substring(1),pb[$]=pb[_e]})});function rb(_e,$,ht){return $==null||typeof $=="boolean"||$===""?"":ht||typeof $!="number"||$===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+$).trim():$+"px"}function sb(_e,$){_e=_e.style;for(var ht in $)if($.hasOwnProperty(ht)){var bt=ht.indexOf("--")===0,wt=rb(ht,$[ht],bt);ht==="float"&&(ht="cssFloat"),bt?_e.setProperty(ht,wt):_e[ht]=wt}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,$){if($){if(tb[_e]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$4(137,_e));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$4(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$4(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$4(62))}}function vb(_e,$){if(_e.indexOf("-")===-1)return typeof $.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$4(280));var $=_e.stateNode;$&&($=Db($),yb(_e.stateNode,_e.type,$))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,$=Ab;if(Ab=zb=null,Bb(_e),$)for(_e=0;_e<$.length;_e++)Bb($[_e])}}function Gb(_e,$){return _e($)}function Hb(){}var Ib=!1;function Jb(_e,$,ht){if(Ib)return _e($,ht);Ib=!0;try{return Gb(_e,$,ht)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,$){var ht=_e.stateNode;if(ht===null)return null;var bt=Db(ht);if(bt===null)return null;ht=bt[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(bt=!bt.disabled)||(_e=_e.type,bt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!bt;break e;default:_e=!1}if(_e)return null;if(ht&&typeof ht!="function")throw Error(p$4(231,$,typeof ht));return ht}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,$,ht,bt,wt,At,Ct,St,Ft){var vt=Array.prototype.slice.call(arguments,3);try{$.apply(ht,vt)}catch(Et){this.onError(Et)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,$,ht,bt,wt,At,Ct,St,Ft){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,$,ht,bt,wt,At,Ct,St,Ft){if(Tb.apply(this,arguments),Ob){if(Ob){var vt=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=vt)}}function Vb(_e){var $=_e,ht=_e;if(_e.alternate)for(;$.return;)$=$.return;else{_e=$;do $=_e,$.flags&4098&&(ht=$.return),_e=$.return;while(_e)}return $.tag===3?ht:null}function Wb(_e){if(_e.tag===13){var $=_e.memoizedState;if($===null&&(_e=_e.alternate,_e!==null&&($=_e.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$4(188))}function Yb(_e){var $=_e.alternate;if(!$){if($=Vb(_e),$===null)throw Error(p$4(188));return $!==_e?null:_e}for(var ht=_e,bt=$;;){var wt=ht.return;if(wt===null)break;var At=wt.alternate;if(At===null){if(bt=wt.return,bt!==null){ht=bt;continue}break}if(wt.child===At.child){for(At=wt.child;At;){if(At===ht)return Xb(wt),_e;if(At===bt)return Xb(wt),$;At=At.sibling}throw Error(p$4(188))}if(ht.return!==bt.return)ht=wt,bt=At;else{for(var Ct=!1,St=wt.child;St;){if(St===ht){Ct=!0,ht=wt,bt=At;break}if(St===bt){Ct=!0,bt=wt,ht=At;break}St=St.sibling}if(!Ct){for(St=At.child;St;){if(St===ht){Ct=!0,ht=At,bt=wt;break}if(St===bt){Ct=!0,bt=At,ht=wt;break}St=St.sibling}if(!Ct)throw Error(p$4(189))}}if(ht.alternate!==bt)throw Error(p$4(190))}if(ht.tag!==3)throw Error(p$4(188));return ht.stateNode.current===ht?_e:$}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var $=$b(_e);if($!==null)return $;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,$){var ht=_e.pendingLanes;if(ht===0)return 0;var bt=0,wt=_e.suspendedLanes,At=_e.pingedLanes,Ct=ht&268435455;if(Ct!==0){var St=Ct&~wt;St!==0?bt=tc(St):(At&=Ct,At!==0&&(bt=tc(At)))}else Ct=ht&~wt,Ct!==0?bt=tc(Ct):At!==0&&(bt=tc(At));if(bt===0)return 0;if($!==0&&$!==bt&&!($&wt)&&(wt=bt&-bt,At=$&-$,wt>=At||wt===16&&(At&4194240)!==0))return $;if(bt&4&&(bt|=ht&16),$=_e.entangledLanes,$!==0)for(_e=_e.entanglements,$&=bt;0<$;)ht=31-oc($),wt=1<<ht,bt|=_e[ht],$&=~wt;return bt}function vc(_e,$){switch(_e){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,$){for(var ht=_e.suspendedLanes,bt=_e.pingedLanes,wt=_e.expirationTimes,At=_e.pendingLanes;0<At;){var Ct=31-oc(At),St=1<<Ct,Ft=wt[Ct];Ft===-1?(!(St&ht)||St&bt)&&(wt[Ct]=vc(St,$)):Ft<=$&&(_e.expiredLanes|=St),At&=~St}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var $=[],ht=0;31>ht;ht++)$.push(_e);return $}function Ac(_e,$,ht){_e.pendingLanes|=$,$!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,$=31-oc($),_e[$]=ht}function Bc(_e,$){var ht=_e.pendingLanes&~$;_e.pendingLanes=$,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=$,_e.mutableReadLanes&=$,_e.entangledLanes&=$,$=_e.entanglements;var bt=_e.eventTimes;for(_e=_e.expirationTimes;0<ht;){var wt=31-oc(ht),At=1<<wt;$[wt]=0,bt[wt]=-1,_e[wt]=-1,ht&=~At}}function Cc(_e,$){var ht=_e.entangledLanes|=$;for(_e=_e.entanglements;ht;){var bt=31-oc(ht),wt=1<<bt;wt&$|_e[bt]&$&&(_e[bt]|=$),ht&=~wt}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,$){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(_e,$,ht,bt,wt,At){return _e===null||_e.nativeEvent!==At?(_e={blockedOn:$,domEventName:ht,eventSystemFlags:bt,nativeEvent:At,targetContainers:[wt]},$!==null&&($=Cb($),$!==null&&Fc($)),_e):(_e.eventSystemFlags|=bt,$=_e.targetContainers,wt!==null&&$.indexOf(wt)===-1&&$.push(wt),_e)}function Uc(_e,$,ht,bt,wt){switch($){case"focusin":return Lc=Tc(Lc,_e,$,ht,bt,wt),!0;case"dragenter":return Mc=Tc(Mc,_e,$,ht,bt,wt),!0;case"mouseover":return Nc=Tc(Nc,_e,$,ht,bt,wt),!0;case"pointerover":var At=wt.pointerId;return Oc.set(At,Tc(Oc.get(At)||null,_e,$,ht,bt,wt)),!0;case"gotpointercapture":return At=wt.pointerId,Pc.set(At,Tc(Pc.get(At)||null,_e,$,ht,bt,wt)),!0}return!1}function Vc(_e){var $=Wc(_e.target);if($!==null){var ht=Vb($);if(ht!==null){if($=ht.tag,$===13){if($=Wb(ht),$!==null){_e.blockedOn=$,Ic(_e.priority,function(){Gc(ht)});return}}else if($===3&&ht.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=ht.tag===3?ht.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var $=_e.targetContainers;0<$.length;){var ht=Yc(_e.domEventName,_e.eventSystemFlags,$[0],_e.nativeEvent);if(ht===null){ht=_e.nativeEvent;var bt=new ht.constructor(ht.type,ht);wb=bt,ht.target.dispatchEvent(bt),wb=null}else return $=Cb(ht),$!==null&&Fc($),_e.blockedOn=ht,!1;$.shift()}return!0}function Zc(_e,$,ht){Xc(_e)&&ht.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,$){_e.blockedOn===$&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function $(wt){return ad(wt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var ht=1;ht<Kc.length;ht++){var bt=Kc[ht];bt.blockedOn===_e&&(bt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach($),Pc.forEach($),ht=0;ht<Qc.length;ht++)bt=Qc[ht],bt.blockedOn===_e&&(bt.blockedOn=null);for(;0<Qc.length&&(ht=Qc[0],ht.blockedOn===null);)Vc(ht),ht.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,$,ht,bt){var wt=C$1,At=cd.transition;cd.transition=null;try{C$1=1,fd(_e,$,ht,bt)}finally{C$1=wt,cd.transition=At}}function gd(_e,$,ht,bt){var wt=C$1,At=cd.transition;cd.transition=null;try{C$1=4,fd(_e,$,ht,bt)}finally{C$1=wt,cd.transition=At}}function fd(_e,$,ht,bt){if(dd){var wt=Yc(_e,$,ht,bt);if(wt===null)hd(_e,$,bt,id$2,ht),Sc(_e,bt);else if(Uc(wt,_e,$,ht,bt))bt.stopPropagation();else if(Sc(_e,bt),$&4&&-1<Rc.indexOf(_e)){for(;wt!==null;){var At=Cb(wt);if(At!==null&&Ec(At),At=Yc(_e,$,ht,bt),At===null&&hd(_e,$,bt,id$2,ht),At===wt)break;wt=At}wt!==null&&bt.stopPropagation()}else hd(_e,$,bt,null,ht)}}var id$2=null;function Yc(_e,$,ht,bt){if(id$2=null,_e=xb(bt),_e=Wc(_e),_e!==null)if($=Vb(_e),$===null)_e=null;else if(ht=$.tag,ht===13){if(_e=Wb($),_e!==null)return _e;_e=null}else if(ht===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;_e=null}else $!==_e&&(_e=null);return id$2=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,$=ld,ht=$.length,bt,wt="value"in kd?kd.value:kd.textContent,At=wt.length;for(_e=0;_e<ht&&$[_e]===wt[_e];_e++);var Ct=ht-_e;for(bt=1;bt<=Ct&&$[ht-bt]===wt[At-bt];bt++);return md=wt.slice(_e,1<bt?1-bt:void 0)}function od(_e){var $=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&$===13&&(_e=13)):_e=$,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function $(ht,bt,wt,At,Ct){this._reactName=ht,this._targetInst=wt,this.type=bt,this.nativeEvent=At,this.target=Ct,this.currentTarget=null;for(var St in _e)_e.hasOwnProperty(St)&&(ht=_e[St],this[St]=ht?ht(At):At[St]);return this.isDefaultPrevented=(At.defaultPrevented!=null?At.defaultPrevented:At.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ht=this.nativeEvent;ht&&(ht.preventDefault?ht.preventDefault():typeof ht.returnValue!="unknown"&&(ht.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var ht=this.nativeEvent;ht&&(ht.stopPropagation?ht.stopPropagation():typeof ht.cancelBubble!="unknown"&&(ht.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(_e):(_e=Od[_e])?!!$[_e]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(_e){if(_e.key){var $=Md[_e.key]||_e.key;if($!=="Unidentified")return $}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe=!1;function ge(_e,$){switch(_e){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,$){switch(_e){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return _e=$.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,$){if(ie)return _e==="compositionend"||!ae&&ge(_e,$)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $==="input"?!!le[_e.type]:$==="textarea"}function ne(_e,$,ht,bt){Eb(bt),$=oe($,"onChange"),0<$.length&&(ht=new td("onChange","change",null,ht,bt),_e.push({event:ht,listeners:$}))}var pe$1=null,qe$1=null;function re(_e){se(_e,0)}function te$1(_e){var $=ue(_e);if(Wa($))return _e}function ve$1(_e,$){if(_e==="change")return $}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(_e){if(_e.propertyName==="value"&&te$1(qe$1)){var $=[];ne($,qe$1,_e,xb(_e)),Jb(re,$)}}function Ce(_e,$,ht){_e==="focusin"?(Ae(),pe$1=$,qe$1=ht,pe$1.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te$1(qe$1)}function Ee(_e,$){if(_e==="click")return te$1($)}function Fe$1(_e,$){if(_e==="input"||_e==="change")return te$1($)}function Ge(_e,$){return _e===$&&(_e!==0||1/_e===1/$)||_e!==_e&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,$){if(He(_e,$))return!0;if(typeof _e!="object"||_e===null||typeof $!="object"||$===null)return!1;var ht=Object.keys(_e),bt=Object.keys($);if(ht.length!==bt.length)return!1;for(bt=0;bt<ht.length;bt++){var wt=ht[bt];if(!ja.call($,wt)||!He(_e[wt],$[wt]))return!1}return!0}function Je$1(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,$){var ht=Je$1(_e);_e=0;for(var bt;ht;){if(ht.nodeType===3){if(bt=_e+ht.textContent.length,_e<=$&&bt>=$)return{node:ht,offset:$-_e};_e=bt}e:{for(;ht;){if(ht.nextSibling){ht=ht.nextSibling;break e}ht=ht.parentNode}ht=void 0}ht=Je$1(ht)}}function Le(_e,$){return _e&&$?_e===$?!0:_e&&_e.nodeType===3?!1:$&&$.nodeType===3?Le(_e,$.parentNode):"contains"in _e?_e.contains($):_e.compareDocumentPosition?!!(_e.compareDocumentPosition($)&16):!1:!1}function Me(){for(var _e=window,$=Xa();$ instanceof _e.HTMLIFrameElement;){try{var ht=typeof $.contentWindow.location.href=="string"}catch{ht=!1}if(ht)_e=$.contentWindow;else break;$=Xa(_e.document)}return $}function Ne(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $&&($==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||$==="textarea"||_e.contentEditable==="true")}function Oe(_e){var $=Me(),ht=_e.focusedElem,bt=_e.selectionRange;if($!==ht&&ht&&ht.ownerDocument&&Le(ht.ownerDocument.documentElement,ht)){if(bt!==null&&Ne(ht)){if($=bt.start,_e=bt.end,_e===void 0&&(_e=$),"selectionStart"in ht)ht.selectionStart=$,ht.selectionEnd=Math.min(_e,ht.value.length);else if(_e=($=ht.ownerDocument||document)&&$.defaultView||window,_e.getSelection){_e=_e.getSelection();var wt=ht.textContent.length,At=Math.min(bt.start,wt);bt=bt.end===void 0?At:Math.min(bt.end,wt),!_e.extend&&At>bt&&(wt=bt,bt=At,At=wt),wt=Ke(ht,At);var Ct=Ke(ht,bt);wt&&Ct&&(_e.rangeCount!==1||_e.anchorNode!==wt.node||_e.anchorOffset!==wt.offset||_e.focusNode!==Ct.node||_e.focusOffset!==Ct.offset)&&($=$.createRange(),$.setStart(wt.node,wt.offset),_e.removeAllRanges(),At>bt?(_e.addRange($),_e.extend(Ct.node,Ct.offset)):($.setEnd(Ct.node,Ct.offset),_e.addRange($)))}}for($=[],_e=ht;_e=_e.parentNode;)_e.nodeType===1&&$.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof ht.focus=="function"&&ht.focus(),ht=0;ht<$.length;ht++)_e=$[ht],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te=!1;function Ue(_e,$,ht){var bt=ht.window===ht?ht.document:ht.nodeType===9?ht:ht.ownerDocument;Te||Qe==null||Qe!==Xa(bt)||(bt=Qe,"selectionStart"in bt&&Ne(bt)?bt={start:bt.selectionStart,end:bt.selectionEnd}:(bt=(bt.ownerDocument&&bt.ownerDocument.defaultView||window).getSelection(),bt={anchorNode:bt.anchorNode,anchorOffset:bt.anchorOffset,focusNode:bt.focusNode,focusOffset:bt.focusOffset}),Se&&Ie(Se,bt)||(Se=bt,bt=oe(Re$1,"onSelect"),0<bt.length&&($=new td("onSelect","select",null,$,ht),_e.push({event:$,listeners:bt}),$.target=Qe)))}function Ve$1(_e,$){var ht={};return ht[_e.toLowerCase()]=$.toLowerCase(),ht["Webkit"+_e]="webkit"+$,ht["Moz"+_e]="moz"+$,ht}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze$1(_e){if(Xe$1[_e])return Xe$1[_e];if(!We[_e])return _e;var $=We[_e],ht;for(ht in $)if($.hasOwnProperty(ht)&&ht in Ye$1)return Xe$1[_e]=$[ht];return _e}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,$){df.set(_e,$),fa($,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,$,ht){var bt=_e.type||"unknown-event";_e.currentTarget=ht,Ub(bt,$,void 0,_e),_e.currentTarget=null}function se(_e,$){$=($&4)!==0;for(var ht=0;ht<_e.length;ht++){var bt=_e[ht],wt=bt.event;bt=bt.listeners;e:{var At=void 0;if($)for(var Ct=bt.length-1;0<=Ct;Ct--){var St=bt[Ct],Ft=St.instance,vt=St.currentTarget;if(St=St.listener,Ft!==At&&wt.isPropagationStopped())break e;nf(wt,St,vt),At=Ft}else for(Ct=0;Ct<bt.length;Ct++){if(St=bt[Ct],Ft=St.instance,vt=St.currentTarget,St=St.listener,Ft!==At&&wt.isPropagationStopped())break e;nf(wt,St,vt),At=Ft}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$4(_e,$){var ht=$[of];ht===void 0&&(ht=$[of]=new Set);var bt=_e+"__bubble";ht.has(bt)||(pf($,_e,2,!1),ht.add(bt))}function qf(_e,$,ht){var bt=0;$&&(bt|=4),pf(ht,_e,bt,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(ht){ht!=="selectionchange"&&(mf.has(ht)||qf(ht,!1,_e),qf(ht,!0,_e))});var $=_e.nodeType===9?_e:_e.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(_e,$,ht,bt){switch(jd($)){case 1:var wt=ed;break;case 4:wt=gd;break;default:wt=fd}ht=wt.bind(null,$,ht,_e),wt=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(wt=!0),bt?wt!==void 0?_e.addEventListener($,ht,{capture:!0,passive:wt}):_e.addEventListener($,ht,!0):wt!==void 0?_e.addEventListener($,ht,{passive:wt}):_e.addEventListener($,ht,!1)}function hd(_e,$,ht,bt,wt){var At=bt;if(!($&1)&&!($&2)&&bt!==null)e:for(;;){if(bt===null)return;var Ct=bt.tag;if(Ct===3||Ct===4){var St=bt.stateNode.containerInfo;if(St===wt||St.nodeType===8&&St.parentNode===wt)break;if(Ct===4)for(Ct=bt.return;Ct!==null;){var Ft=Ct.tag;if((Ft===3||Ft===4)&&(Ft=Ct.stateNode.containerInfo,Ft===wt||Ft.nodeType===8&&Ft.parentNode===wt))return;Ct=Ct.return}for(;St!==null;){if(Ct=Wc(St),Ct===null)return;if(Ft=Ct.tag,Ft===5||Ft===6){bt=At=Ct;continue e}St=St.parentNode}}bt=bt.return}Jb(function(){var vt=At,Et=xb(ht),Mt=[];e:{var Pt=df.get(_e);if(Pt!==void 0){var xt=td,$t=_e;switch(_e){case"keypress":if(od(ht)===0)break e;case"keydown":case"keyup":xt=Rd;break;case"focusin":$t="focus",xt=Fd;break;case"focusout":$t="blur",xt=Fd;break;case"beforeblur":case"afterblur":xt=Fd;break;case"click":if(ht.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xt=Vd;break;case $e$1:case af:case bf:xt=Hd;break;case cf:xt=Xd;break;case"scroll":xt=vd;break;case"wheel":xt=Zd;break;case"copy":case"cut":case"paste":xt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xt=Td}var _t=($&4)!==0,jt=!_t&&_e==="scroll",Rt=_t?Pt!==null?Pt+"Capture":null:Pt;_t=[];for(var Nt=vt,Lt;Nt!==null;){Lt=Nt;var kt=Lt.stateNode;if(Lt.tag===5&&kt!==null&&(Lt=kt,Rt!==null&&(kt=Kb(Nt,Rt),kt!=null&&_t.push(tf(Nt,kt,Lt)))),jt)break;Nt=Nt.return}0<_t.length&&(Pt=new xt(Pt,$t,null,ht,Et),Mt.push({event:Pt,listeners:_t}))}}if(!($&7)){e:{if(Pt=_e==="mouseover"||_e==="pointerover",xt=_e==="mouseout"||_e==="pointerout",Pt&&ht!==wb&&($t=ht.relatedTarget||ht.fromElement)&&(Wc($t)||$t[uf]))break e;if((xt||Pt)&&(Pt=Et.window===Et?Et:(Pt=Et.ownerDocument)?Pt.defaultView||Pt.parentWindow:window,xt?($t=ht.relatedTarget||ht.toElement,xt=vt,$t=$t?Wc($t):null,$t!==null&&(jt=Vb($t),$t!==jt||$t.tag!==5&&$t.tag!==6)&&($t=null)):(xt=null,$t=vt),xt!==$t)){if(_t=Bd,kt="onMouseLeave",Rt="onMouseEnter",Nt="mouse",(_e==="pointerout"||_e==="pointerover")&&(_t=Td,kt="onPointerLeave",Rt="onPointerEnter",Nt="pointer"),jt=xt==null?Pt:ue(xt),Lt=$t==null?Pt:ue($t),Pt=new _t(kt,Nt+"leave",xt,ht,Et),Pt.target=jt,Pt.relatedTarget=Lt,kt=null,Wc(Et)===vt&&(_t=new _t(Rt,Nt+"enter",$t,ht,Et),_t.target=Lt,_t.relatedTarget=jt,kt=_t),jt=kt,xt&&$t)t:{for(_t=xt,Rt=$t,Nt=0,Lt=_t;Lt;Lt=vf(Lt))Nt++;for(Lt=0,kt=Rt;kt;kt=vf(kt))Lt++;for(;0<Nt-Lt;)_t=vf(_t),Nt--;for(;0<Lt-Nt;)Rt=vf(Rt),Lt--;for(;Nt--;){if(_t===Rt||Rt!==null&&_t===Rt.alternate)break t;_t=vf(_t),Rt=vf(Rt)}_t=null}else _t=null;xt!==null&&wf(Mt,Pt,xt,_t,!1),$t!==null&&jt!==null&&wf(Mt,jt,$t,_t,!0)}}e:{if(Pt=vt?ue(vt):window,xt=Pt.nodeName&&Pt.nodeName.toLowerCase(),xt==="select"||xt==="input"&&Pt.type==="file")var Bt=ve$1;else if(me(Pt))if(we)Bt=Fe$1;else{Bt=De;var Ht=Ce}else(xt=Pt.nodeName)&&xt.toLowerCase()==="input"&&(Pt.type==="checkbox"||Pt.type==="radio")&&(Bt=Ee);if(Bt&&(Bt=Bt(_e,vt))){ne(Mt,Bt,ht,Et);break e}Ht&&Ht(_e,Pt,vt),_e==="focusout"&&(Ht=Pt._wrapperState)&&Ht.controlled&&Pt.type==="number"&&cb(Pt,"number",Pt.value)}switch(Ht=vt?ue(vt):window,_e){case"focusin":(me(Ht)||Ht.contentEditable==="true")&&(Qe=Ht,Re$1=vt,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(Mt,ht,Et);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(Mt,ht,Et)}var Ot;if(ae)e:{switch(_e){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else ie?ge(_e,ht)&&(Vt="onCompositionEnd"):_e==="keydown"&&ht.keyCode===229&&(Vt="onCompositionStart");Vt&&(de&&ht.locale!=="ko"&&(ie||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ie&&(Ot=nd()):(kd=Et,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Ht=oe(vt,Vt),0<Ht.length&&(Vt=new Ld(Vt,_e,null,ht,Et),Mt.push({event:Vt,listeners:Ht}),Ot?Vt.data=Ot:(Ot=he(ht),Ot!==null&&(Vt.data=Ot)))),(Ot=ce$1?je(_e,ht):ke(_e,ht))&&(vt=oe(vt,"onBeforeInput"),0<vt.length&&(Et=new Ld("onBeforeInput","beforeinput",null,ht,Et),Mt.push({event:Et,listeners:vt}),Et.data=Ot))}se(Mt,$)})}function tf(_e,$,ht){return{instance:_e,listener:$,currentTarget:ht}}function oe(_e,$){for(var ht=$+"Capture",bt=[];_e!==null;){var wt=_e,At=wt.stateNode;wt.tag===5&&At!==null&&(wt=At,At=Kb(_e,ht),At!=null&&bt.unshift(tf(_e,At,wt)),At=Kb(_e,$),At!=null&&bt.push(tf(_e,At,wt))),_e=_e.return}return bt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,$,ht,bt,wt){for(var At=$._reactName,Ct=[];ht!==null&&ht!==bt;){var St=ht,Ft=St.alternate,vt=St.stateNode;if(Ft!==null&&Ft===bt)break;St.tag===5&&vt!==null&&(St=vt,wt?(Ft=Kb(ht,At),Ft!=null&&Ct.unshift(tf(ht,Ft,St))):wt||(Ft=Kb(ht,At),Ft!=null&&Ct.push(tf(ht,Ft,St)))),ht=ht.return}Ct.length!==0&&_e.push({event:$,listeners:Ct})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,$,ht){if($=zf($),zf(_e)!==$&&ht)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,$){return _e==="textarea"||_e==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,$){var ht=$,bt=0;do{var wt=ht.nextSibling;if(_e.removeChild(ht),wt&&wt.nodeType===8)if(ht=wt.data,ht==="/$"){if(bt===0){_e.removeChild(wt),bd($);return}bt--}else ht!=="$"&&ht!=="$?"&&ht!=="$!"||bt++;ht=wt}while(ht);bd($)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var $=_e.nodeType;if($===1||$===3)break;if($===8){if($=_e.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var $=0;_e;){if(_e.nodeType===8){var ht=_e.data;if(ht==="$"||ht==="$!"||ht==="$?"){if($===0)return _e;$--}else ht==="/$"&&$++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var $=_e[Of];if($)return $;for(var ht=_e.parentNode;ht;){if($=ht[uf]||ht[Of]){if(ht=$.alternate,$.child!==null||ht!==null&&ht.child!==null)for(_e=Mf(_e);_e!==null;){if(ht=_e[Of])return ht;_e=Mf(_e)}return $}_e=ht,ht=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$4(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$1(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(_e,$){Tf++,Sf[Tf]=_e.current,_e.current=$}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,$){var ht=_e.type.contextTypes;if(!ht)return Vf;var bt=_e.stateNode;if(bt&&bt.__reactInternalMemoizedUnmaskedChildContext===$)return bt.__reactInternalMemoizedMaskedChildContext;var wt={},At;for(At in ht)wt[At]=$[At];return bt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=$,_e.__reactInternalMemoizedMaskedChildContext=wt),wt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(_e,$,ht){if(H$2.current!==Vf)throw Error(p$4(168));G$2(H$2,$),G$2(Wf,ht)}function bg(_e,$,ht){var bt=_e.stateNode;if($=$.childContextTypes,typeof bt.getChildContext!="function")return ht;bt=bt.getChildContext();for(var wt in bt)if(!(wt in $))throw Error(p$4(108,Ra(_e)||"Unknown",wt));return A$3({},ht,bt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,_e),G$2(Wf,Wf.current),!0}function dg(_e,$,ht){var bt=_e.stateNode;if(!bt)throw Error(p$4(169));ht?(_e=bg(_e,$,Xf),bt.__reactInternalMemoizedMergedChildContext=_e,E$1(Wf),E$1(H$2),G$2(H$2,_e)):E$1(Wf),G$2(Wf,ht)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,$=C$1;try{var ht=eg;for(C$1=1;_e<ht.length;_e++){var bt=ht[_e];do bt=bt(!0);while(bt!==null)}eg=null,fg=!1}catch(wt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),wt}finally{C$1=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,$){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=$}function ug(_e,$,ht){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var bt=rg;_e=sg;var wt=32-oc(bt)-1;bt&=~(1<<wt),ht+=1;var At=32-oc($)+wt;if(30<At){var Ct=wt-wt%5;At=(bt&(1<<Ct)-1).toString(32),bt>>=Ct,wt-=Ct,rg=1<<32-oc($)+wt|ht<<wt|bt,sg=At+_e}else rg=1<<At|ht<<wt|bt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(_e,$){var ht=Bg(5,null,null,0);ht.elementType="DELETED",ht.stateNode=$,ht.return=_e,$=_e.deletions,$===null?(_e.deletions=[ht],_e.flags|=16):$.push(ht)}function Cg(_e,$){switch(_e.tag){case 5:var ht=_e.type;return $=$.nodeType!==1||ht.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=Lf($.firstChild),!0):!1;case 6:return $=_e.pendingProps===""||$.nodeType!==3?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(ht=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:$,treeContext:ht,retryLane:1073741824},ht=Bg(18,null,null,0),ht.stateNode=$,ht.return=_e,_e.child=ht,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$4){var $=yg;if($){var ht=$;if(!Cg(_e,$)){if(Dg(_e))throw Error(p$4(418));$=Lf(ht.nextSibling);var bt=xg;$&&Cg(_e,$)?Ag(bt,ht):(_e.flags=_e.flags&-4097|2,I$4=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$4(418));_e.flags=_e.flags&-4097|2,I$4=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$4)return Fg(_e),I$4=!0,!1;var $;if(($=_e.tag!==3)&&!($=_e.tag!==5)&&($=_e.type,$=$!=="head"&&$!=="body"&&!Ef(_e.type,_e.memoizedProps)),$&&($=yg)){if(Dg(_e))throw Hg(),Error(p$4(418));for(;$;)Ag(_e,$),$=Lf($.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$4(317));e:{for(_e=_e.nextSibling,$=0;_e;){if(_e.nodeType===8){var ht=_e.data;if(ht==="/$"){if($===0){yg=Lf(_e.nextSibling);break e}$--}else ht!=="$"&&ht!=="$!"&&ht!=="$?"||$++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,$,ht){if(_e=ht.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(ht._owner){if(ht=ht._owner,ht){if(ht.tag!==1)throw Error(p$4(309));var bt=ht.stateNode}if(!bt)throw Error(p$4(147,_e));var wt=bt,At=""+_e;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===At?$.ref:($=function(Ct){var St=wt.refs;Ct===null?delete St[At]:St[At]=Ct},$._stringRef=At,$)}if(typeof _e!="string")throw Error(p$4(284));if(!ht._owner)throw Error(p$4(290,_e))}return _e}function Mg(_e,$){throw _e=Object.prototype.toString.call($),Error(p$4(31,_e==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_e))}function Ng(_e){var $=_e._init;return $(_e._payload)}function Og(_e){function $(Rt,Nt){if(_e){var Lt=Rt.deletions;Lt===null?(Rt.deletions=[Nt],Rt.flags|=16):Lt.push(Nt)}}function ht(Rt,Nt){if(!_e)return null;for(;Nt!==null;)$(Rt,Nt),Nt=Nt.sibling;return null}function bt(Rt,Nt){for(Rt=new Map;Nt!==null;)Nt.key!==null?Rt.set(Nt.key,Nt):Rt.set(Nt.index,Nt),Nt=Nt.sibling;return Rt}function wt(Rt,Nt){return Rt=Pg(Rt,Nt),Rt.index=0,Rt.sibling=null,Rt}function At(Rt,Nt,Lt){return Rt.index=Lt,_e?(Lt=Rt.alternate,Lt!==null?(Lt=Lt.index,Lt<Nt?(Rt.flags|=2,Nt):Lt):(Rt.flags|=2,Nt)):(Rt.flags|=1048576,Nt)}function Ct(Rt){return _e&&Rt.alternate===null&&(Rt.flags|=2),Rt}function St(Rt,Nt,Lt,kt){return Nt===null||Nt.tag!==6?(Nt=Qg(Lt,Rt.mode,kt),Nt.return=Rt,Nt):(Nt=wt(Nt,Lt),Nt.return=Rt,Nt)}function Ft(Rt,Nt,Lt,kt){var Bt=Lt.type;return Bt===ya?Et(Rt,Nt,Lt.props.children,kt,Lt.key):Nt!==null&&(Nt.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===Ha&&Ng(Bt)===Nt.type)?(kt=wt(Nt,Lt.props),kt.ref=Lg(Rt,Nt,Lt),kt.return=Rt,kt):(kt=Rg(Lt.type,Lt.key,Lt.props,null,Rt.mode,kt),kt.ref=Lg(Rt,Nt,Lt),kt.return=Rt,kt)}function vt(Rt,Nt,Lt,kt){return Nt===null||Nt.tag!==4||Nt.stateNode.containerInfo!==Lt.containerInfo||Nt.stateNode.implementation!==Lt.implementation?(Nt=Sg(Lt,Rt.mode,kt),Nt.return=Rt,Nt):(Nt=wt(Nt,Lt.children||[]),Nt.return=Rt,Nt)}function Et(Rt,Nt,Lt,kt,Bt){return Nt===null||Nt.tag!==7?(Nt=Tg(Lt,Rt.mode,kt,Bt),Nt.return=Rt,Nt):(Nt=wt(Nt,Lt),Nt.return=Rt,Nt)}function Mt(Rt,Nt,Lt){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number")return Nt=Qg(""+Nt,Rt.mode,Lt),Nt.return=Rt,Nt;if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case va:return Lt=Rg(Nt.type,Nt.key,Nt.props,null,Rt.mode,Lt),Lt.ref=Lg(Rt,null,Nt),Lt.return=Rt,Lt;case wa:return Nt=Sg(Nt,Rt.mode,Lt),Nt.return=Rt,Nt;case Ha:var kt=Nt._init;return Mt(Rt,kt(Nt._payload),Lt)}if(eb(Nt)||Ka(Nt))return Nt=Tg(Nt,Rt.mode,Lt,null),Nt.return=Rt,Nt;Mg(Rt,Nt)}return null}function Pt(Rt,Nt,Lt,kt){var Bt=Nt!==null?Nt.key:null;if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number")return Bt!==null?null:St(Rt,Nt,""+Lt,kt);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case va:return Lt.key===Bt?Ft(Rt,Nt,Lt,kt):null;case wa:return Lt.key===Bt?vt(Rt,Nt,Lt,kt):null;case Ha:return Bt=Lt._init,Pt(Rt,Nt,Bt(Lt._payload),kt)}if(eb(Lt)||Ka(Lt))return Bt!==null?null:Et(Rt,Nt,Lt,kt,null);Mg(Rt,Lt)}return null}function xt(Rt,Nt,Lt,kt,Bt){if(typeof kt=="string"&&kt!==""||typeof kt=="number")return Rt=Rt.get(Lt)||null,St(Nt,Rt,""+kt,Bt);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case va:return Rt=Rt.get(kt.key===null?Lt:kt.key)||null,Ft(Nt,Rt,kt,Bt);case wa:return Rt=Rt.get(kt.key===null?Lt:kt.key)||null,vt(Nt,Rt,kt,Bt);case Ha:var Ht=kt._init;return xt(Rt,Nt,Lt,Ht(kt._payload),Bt)}if(eb(kt)||Ka(kt))return Rt=Rt.get(Lt)||null,Et(Nt,Rt,kt,Bt,null);Mg(Nt,kt)}return null}function $t(Rt,Nt,Lt,kt){for(var Bt=null,Ht=null,Ot=Nt,Vt=Nt=0,Gt=null;Ot!==null&&Vt<Lt.length;Vt++){Ot.index>Vt?(Gt=Ot,Ot=null):Gt=Ot.sibling;var Wt=Pt(Rt,Ot,Lt[Vt],kt);if(Wt===null){Ot===null&&(Ot=Gt);break}_e&&Ot&&Wt.alternate===null&&$(Rt,Ot),Nt=At(Wt,Nt,Vt),Ht===null?Bt=Wt:Ht.sibling=Wt,Ht=Wt,Ot=Gt}if(Vt===Lt.length)return ht(Rt,Ot),I$4&&tg(Rt,Vt),Bt;if(Ot===null){for(;Vt<Lt.length;Vt++)Ot=Mt(Rt,Lt[Vt],kt),Ot!==null&&(Nt=At(Ot,Nt,Vt),Ht===null?Bt=Ot:Ht.sibling=Ot,Ht=Ot);return I$4&&tg(Rt,Vt),Bt}for(Ot=bt(Rt,Ot);Vt<Lt.length;Vt++)Gt=xt(Ot,Rt,Vt,Lt[Vt],kt),Gt!==null&&(_e&&Gt.alternate!==null&&Ot.delete(Gt.key===null?Vt:Gt.key),Nt=At(Gt,Nt,Vt),Ht===null?Bt=Gt:Ht.sibling=Gt,Ht=Gt);return _e&&Ot.forEach(function(en){return $(Rt,en)}),I$4&&tg(Rt,Vt),Bt}function _t(Rt,Nt,Lt,kt){var Bt=Ka(Lt);if(typeof Bt!="function")throw Error(p$4(150));if(Lt=Bt.call(Lt),Lt==null)throw Error(p$4(151));for(var Ht=Bt=null,Ot=Nt,Vt=Nt=0,Gt=null,Wt=Lt.next();Ot!==null&&!Wt.done;Vt++,Wt=Lt.next()){Ot.index>Vt?(Gt=Ot,Ot=null):Gt=Ot.sibling;var en=Pt(Rt,Ot,Wt.value,kt);if(en===null){Ot===null&&(Ot=Gt);break}_e&&Ot&&en.alternate===null&&$(Rt,Ot),Nt=At(en,Nt,Vt),Ht===null?Bt=en:Ht.sibling=en,Ht=en,Ot=Gt}if(Wt.done)return ht(Rt,Ot),I$4&&tg(Rt,Vt),Bt;if(Ot===null){for(;!Wt.done;Vt++,Wt=Lt.next())Wt=Mt(Rt,Wt.value,kt),Wt!==null&&(Nt=At(Wt,Nt,Vt),Ht===null?Bt=Wt:Ht.sibling=Wt,Ht=Wt);return I$4&&tg(Rt,Vt),Bt}for(Ot=bt(Rt,Ot);!Wt.done;Vt++,Wt=Lt.next())Wt=xt(Ot,Rt,Vt,Wt.value,kt),Wt!==null&&(_e&&Wt.alternate!==null&&Ot.delete(Wt.key===null?Vt:Wt.key),Nt=At(Wt,Nt,Vt),Ht===null?Bt=Wt:Ht.sibling=Wt,Ht=Wt);return _e&&Ot.forEach(function(Sn){return $(Rt,Sn)}),I$4&&tg(Rt,Vt),Bt}function jt(Rt,Nt,Lt,kt){if(typeof Lt=="object"&&Lt!==null&&Lt.type===ya&&Lt.key===null&&(Lt=Lt.props.children),typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case va:e:{for(var Bt=Lt.key,Ht=Nt;Ht!==null;){if(Ht.key===Bt){if(Bt=Lt.type,Bt===ya){if(Ht.tag===7){ht(Rt,Ht.sibling),Nt=wt(Ht,Lt.props.children),Nt.return=Rt,Rt=Nt;break e}}else if(Ht.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===Ha&&Ng(Bt)===Ht.type){ht(Rt,Ht.sibling),Nt=wt(Ht,Lt.props),Nt.ref=Lg(Rt,Ht,Lt),Nt.return=Rt,Rt=Nt;break e}ht(Rt,Ht);break}else $(Rt,Ht);Ht=Ht.sibling}Lt.type===ya?(Nt=Tg(Lt.props.children,Rt.mode,kt,Lt.key),Nt.return=Rt,Rt=Nt):(kt=Rg(Lt.type,Lt.key,Lt.props,null,Rt.mode,kt),kt.ref=Lg(Rt,Nt,Lt),kt.return=Rt,Rt=kt)}return Ct(Rt);case wa:e:{for(Ht=Lt.key;Nt!==null;){if(Nt.key===Ht)if(Nt.tag===4&&Nt.stateNode.containerInfo===Lt.containerInfo&&Nt.stateNode.implementation===Lt.implementation){ht(Rt,Nt.sibling),Nt=wt(Nt,Lt.children||[]),Nt.return=Rt,Rt=Nt;break e}else{ht(Rt,Nt);break}else $(Rt,Nt);Nt=Nt.sibling}Nt=Sg(Lt,Rt.mode,kt),Nt.return=Rt,Rt=Nt}return Ct(Rt);case Ha:return Ht=Lt._init,jt(Rt,Nt,Ht(Lt._payload),kt)}if(eb(Lt))return $t(Rt,Nt,Lt,kt);if(Ka(Lt))return _t(Rt,Nt,Lt,kt);Mg(Rt,Lt)}return typeof Lt=="string"&&Lt!==""||typeof Lt=="number"?(Lt=""+Lt,Nt!==null&&Nt.tag===6?(ht(Rt,Nt.sibling),Nt=wt(Nt,Lt),Nt.return=Rt,Rt=Nt):(ht(Rt,Nt),Nt=Qg(Lt,Rt.mode,kt),Nt.return=Rt,Rt=Nt),Ct(Rt)):ht(Rt,Nt)}return jt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_e){var $=Wg.current;E$1(Wg),_e._currentValue=$}function bh(_e,$,ht){for(;_e!==null;){var bt=_e.alternate;if((_e.childLanes&$)!==$?(_e.childLanes|=$,bt!==null&&(bt.childLanes|=$)):bt!==null&&(bt.childLanes&$)!==$&&(bt.childLanes|=$),_e===ht)break;_e=_e.return}}function ch(_e,$){Xg=_e,Zg=Yg=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&$&&(dh=!0),_e.firstContext=null)}function eh(_e){var $=_e._currentValue;if(Zg!==_e)if(_e={context:_e,memoizedValue:$,next:null},Yg===null){if(Xg===null)throw Error(p$4(308));Yg=_e,Xg.dependencies={lanes:0,firstContext:_e}}else Yg=Yg.next=_e;return $}var fh=null;function gh(_e){fh===null?fh=[_e]:fh.push(_e)}function hh(_e,$,ht,bt){var wt=$.interleaved;return wt===null?(ht.next=ht,gh($)):(ht.next=wt.next,wt.next=ht),$.interleaved=ht,ih(_e,bt)}function ih(_e,$){_e.lanes|=$;var ht=_e.alternate;for(ht!==null&&(ht.lanes|=$),ht=_e,_e=_e.return;_e!==null;)_e.childLanes|=$,ht=_e.alternate,ht!==null&&(ht.childLanes|=$),ht=_e,_e=_e.return;return ht.tag===3?ht.stateNode:null}var jh=!1;function kh(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_e,$){_e=_e.updateQueue,$.updateQueue===_e&&($.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function mh(_e,$){return{eventTime:_e,lane:$,tag:0,payload:null,callback:null,next:null}}function nh(_e,$,ht){var bt=_e.updateQueue;if(bt===null)return null;if(bt=bt.shared,K&2){var wt=bt.pending;return wt===null?$.next=$:($.next=wt.next,wt.next=$),bt.pending=$,ih(_e,ht)}return wt=bt.interleaved,wt===null?($.next=$,gh(bt)):($.next=wt.next,wt.next=$),bt.interleaved=$,ih(_e,ht)}function oh(_e,$,ht){if($=$.updateQueue,$!==null&&($=$.shared,(ht&4194240)!==0)){var bt=$.lanes;bt&=_e.pendingLanes,ht|=bt,$.lanes=ht,Cc(_e,ht)}}function ph(_e,$){var ht=_e.updateQueue,bt=_e.alternate;if(bt!==null&&(bt=bt.updateQueue,ht===bt)){var wt=null,At=null;if(ht=ht.firstBaseUpdate,ht!==null){do{var Ct={eventTime:ht.eventTime,lane:ht.lane,tag:ht.tag,payload:ht.payload,callback:ht.callback,next:null};At===null?wt=At=Ct:At=At.next=Ct,ht=ht.next}while(ht!==null);At===null?wt=At=$:At=At.next=$}else wt=At=$;ht={baseState:bt.baseState,firstBaseUpdate:wt,lastBaseUpdate:At,shared:bt.shared,effects:bt.effects},_e.updateQueue=ht;return}_e=ht.lastBaseUpdate,_e===null?ht.firstBaseUpdate=$:_e.next=$,ht.lastBaseUpdate=$}function qh(_e,$,ht,bt){var wt=_e.updateQueue;jh=!1;var At=wt.firstBaseUpdate,Ct=wt.lastBaseUpdate,St=wt.shared.pending;if(St!==null){wt.shared.pending=null;var Ft=St,vt=Ft.next;Ft.next=null,Ct===null?At=vt:Ct.next=vt,Ct=Ft;var Et=_e.alternate;Et!==null&&(Et=Et.updateQueue,St=Et.lastBaseUpdate,St!==Ct&&(St===null?Et.firstBaseUpdate=vt:St.next=vt,Et.lastBaseUpdate=Ft))}if(At!==null){var Mt=wt.baseState;Ct=0,Et=vt=Ft=null,St=At;do{var Pt=St.lane,xt=St.eventTime;if((bt&Pt)===Pt){Et!==null&&(Et=Et.next={eventTime:xt,lane:0,tag:St.tag,payload:St.payload,callback:St.callback,next:null});e:{var $t=_e,_t=St;switch(Pt=$,xt=ht,_t.tag){case 1:if($t=_t.payload,typeof $t=="function"){Mt=$t.call(xt,Mt,Pt);break e}Mt=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=_t.payload,Pt=typeof $t=="function"?$t.call(xt,Mt,Pt):$t,Pt==null)break e;Mt=A$3({},Mt,Pt);break e;case 2:jh=!0}}St.callback!==null&&St.lane!==0&&(_e.flags|=64,Pt=wt.effects,Pt===null?wt.effects=[St]:Pt.push(St))}else xt={eventTime:xt,lane:Pt,tag:St.tag,payload:St.payload,callback:St.callback,next:null},Et===null?(vt=Et=xt,Ft=Mt):Et=Et.next=xt,Ct|=Pt;if(St=St.next,St===null){if(St=wt.shared.pending,St===null)break;Pt=St,St=Pt.next,Pt.next=null,wt.lastBaseUpdate=Pt,wt.shared.pending=null}}while(!0);if(Et===null&&(Ft=Mt),wt.baseState=Ft,wt.firstBaseUpdate=vt,wt.lastBaseUpdate=Et,$=wt.shared.interleaved,$!==null){wt=$;do Ct|=wt.lane,wt=wt.next;while(wt!==$)}else At===null&&(wt.shared.lanes=0);rh|=Ct,_e.lanes=Ct,_e.memoizedState=Mt}}function sh(_e,$,ht){if(_e=$.effects,$.effects=null,_e!==null)for($=0;$<_e.length;$++){var bt=_e[$],wt=bt.callback;if(wt!==null){if(bt.callback=null,bt=ht,typeof wt!="function")throw Error(p$4(191,wt));wt.call(bt)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(_e){if(_e===th)throw Error(p$4(174));return _e}function yh(_e,$){switch(G$2(wh,$),G$2(vh$1,_e),G$2(uh,th),_e=$.nodeType,_e){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:_e=_e===8?$.parentNode:$,$=_e.namespaceURI||null,_e=_e.tagName,$=lb($,_e)}E$1(uh),G$2(uh,$)}function zh(){E$1(uh),E$1(vh$1),E$1(wh)}function Ah(_e){xh(wh.current);var $=xh(uh.current),ht=lb($,_e.type);$!==ht&&(G$2(vh$1,_e),G$2(uh,ht))}function Bh(_e){vh$1.current===_e&&(E$1(uh),E$1(vh$1))}var L$1=Uf(0);function Ch(_e){for(var $=_e;$!==null;){if($.tag===13){var ht=$.memoizedState;if(ht!==null&&(ht=ht.dehydrated,ht===null||ht.data==="$?"||ht.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Dh=[];function Eh(){for(var _e=0;_e<Dh.length;_e++)Dh[_e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$3=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$4(321))}function Mh(_e,$){if($===null)return!1;for(var ht=0;ht<$.length&&ht<_e.length;ht++)if(!He(_e[ht],$[ht]))return!1;return!0}function Nh(_e,$,ht,bt,wt,At){if(Hh=At,M$3=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Fh.current=_e===null||_e.memoizedState===null?Oh:Ph,_e=ht(bt,wt),Jh){At=0;do{if(Jh=!1,Kh=0,25<=At)throw Error(p$4(301));At+=1,O$2=N$3=null,$.updateQueue=null,Fh.current=Qh,_e=ht(bt,wt)}while(Jh)}if(Fh.current=Rh,$=N$3!==null&&N$3.next!==null,Hh=0,O$2=N$3=M$3=null,Ih=!1,$)throw Error(p$4(300));return _e}function Sh(){var _e=Kh!==0;return Kh=0,_e}function Th(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$3.memoizedState=O$2=_e:O$2=O$2.next=_e,O$2}function Uh(){if(N$3===null){var _e=M$3.alternate;_e=_e!==null?_e.memoizedState:null}else _e=N$3.next;var $=O$2===null?M$3.memoizedState:O$2.next;if($!==null)O$2=$,N$3=_e;else{if(_e===null)throw Error(p$4(310));N$3=_e,_e={memoizedState:N$3.memoizedState,baseState:N$3.baseState,baseQueue:N$3.baseQueue,queue:N$3.queue,next:null},O$2===null?M$3.memoizedState=O$2=_e:O$2=O$2.next=_e}return O$2}function Vh(_e,$){return typeof $=="function"?$(_e):$}function Wh(_e){var $=Uh(),ht=$.queue;if(ht===null)throw Error(p$4(311));ht.lastRenderedReducer=_e;var bt=N$3,wt=bt.baseQueue,At=ht.pending;if(At!==null){if(wt!==null){var Ct=wt.next;wt.next=At.next,At.next=Ct}bt.baseQueue=wt=At,ht.pending=null}if(wt!==null){At=wt.next,bt=bt.baseState;var St=Ct=null,Ft=null,vt=At;do{var Et=vt.lane;if((Hh&Et)===Et)Ft!==null&&(Ft=Ft.next={lane:0,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),bt=vt.hasEagerState?vt.eagerState:_e(bt,vt.action);else{var Mt={lane:Et,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null};Ft===null?(St=Ft=Mt,Ct=bt):Ft=Ft.next=Mt,M$3.lanes|=Et,rh|=Et}vt=vt.next}while(vt!==null&&vt!==At);Ft===null?Ct=bt:Ft.next=St,He(bt,$.memoizedState)||(dh=!0),$.memoizedState=bt,$.baseState=Ct,$.baseQueue=Ft,ht.lastRenderedState=bt}if(_e=ht.interleaved,_e!==null){wt=_e;do At=wt.lane,M$3.lanes|=At,rh|=At,wt=wt.next;while(wt!==_e)}else wt===null&&(ht.lanes=0);return[$.memoizedState,ht.dispatch]}function Xh(_e){var $=Uh(),ht=$.queue;if(ht===null)throw Error(p$4(311));ht.lastRenderedReducer=_e;var bt=ht.dispatch,wt=ht.pending,At=$.memoizedState;if(wt!==null){ht.pending=null;var Ct=wt=wt.next;do At=_e(At,Ct.action),Ct=Ct.next;while(Ct!==wt);He(At,$.memoizedState)||(dh=!0),$.memoizedState=At,$.baseQueue===null&&($.baseState=At),ht.lastRenderedState=At}return[At,bt]}function Yh(){}function Zh(_e,$){var ht=M$3,bt=Uh(),wt=$(),At=!He(bt.memoizedState,wt);if(At&&(bt.memoizedState=wt,dh=!0),bt=bt.queue,$h(ai.bind(null,ht,bt,_e),[_e]),bt.getSnapshot!==$||At||O$2!==null&&O$2.memoizedState.tag&1){if(ht.flags|=2048,bi(9,ci.bind(null,ht,bt,wt,$),void 0,null),Q===null)throw Error(p$4(349));Hh&30||di(ht,$,wt)}return wt}function di(_e,$,ht){_e.flags|=16384,_e={getSnapshot:$,value:ht},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.stores=[_e]):(ht=$.stores,ht===null?$.stores=[_e]:ht.push(_e))}function ci(_e,$,ht,bt){$.value=ht,$.getSnapshot=bt,ei($)&&fi(_e)}function ai(_e,$,ht){return ht(function(){ei($)&&fi(_e)})}function ei(_e){var $=_e.getSnapshot;_e=_e.value;try{var ht=$();return!He(_e,ht)}catch{return!0}}function fi(_e){var $=ih(_e,1);$!==null&&gi($,_e,1,-1)}function hi(_e){var $=Th();return typeof _e=="function"&&(_e=_e()),$.memoizedState=$.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_e},$.queue=_e,_e=_e.dispatch=ii.bind(null,M$3,_e),[$.memoizedState,_e]}function bi(_e,$,ht,bt){return _e={tag:_e,create:$,destroy:ht,deps:bt,next:null},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.lastEffect=_e.next=_e):(ht=$.lastEffect,ht===null?$.lastEffect=_e.next=_e:(bt=ht.next,ht.next=_e,_e.next=bt,$.lastEffect=_e)),_e}function ji(){return Uh().memoizedState}function ki(_e,$,ht,bt){var wt=Th();M$3.flags|=_e,wt.memoizedState=bi(1|$,ht,void 0,bt===void 0?null:bt)}function li(_e,$,ht,bt){var wt=Uh();bt=bt===void 0?null:bt;var At=void 0;if(N$3!==null){var Ct=N$3.memoizedState;if(At=Ct.destroy,bt!==null&&Mh(bt,Ct.deps)){wt.memoizedState=bi($,ht,At,bt);return}}M$3.flags|=_e,wt.memoizedState=bi(1|$,ht,At,bt)}function mi(_e,$){return ki(8390656,8,_e,$)}function $h(_e,$){return li(2048,8,_e,$)}function ni(_e,$){return li(4,2,_e,$)}function oi(_e,$){return li(4,4,_e,$)}function pi(_e,$){if(typeof $=="function")return _e=_e(),$(_e),function(){$(null)};if($!=null)return _e=_e(),$.current=_e,function(){$.current=null}}function qi(_e,$,ht){return ht=ht!=null?ht.concat([_e]):null,li(4,4,pi.bind(null,$,_e),ht)}function ri(){}function si(_e,$){var ht=Uh();$=$===void 0?null:$;var bt=ht.memoizedState;return bt!==null&&$!==null&&Mh($,bt[1])?bt[0]:(ht.memoizedState=[_e,$],_e)}function ti(_e,$){var ht=Uh();$=$===void 0?null:$;var bt=ht.memoizedState;return bt!==null&&$!==null&&Mh($,bt[1])?bt[0]:(_e=_e(),ht.memoizedState=[_e,$],_e)}function ui(_e,$,ht){return Hh&21?(He(ht,$)||(ht=yc(),M$3.lanes|=ht,rh|=ht,_e.baseState=!0),$):(_e.baseState&&(_e.baseState=!1,dh=!0),_e.memoizedState=ht)}function vi(_e,$){var ht=C$1;C$1=ht!==0&&4>ht?ht:4,_e(!0);var bt=Gh.transition;Gh.transition={};try{_e(!1),$()}finally{C$1=ht,Gh.transition=bt}}function wi(){return Uh().memoizedState}function xi(_e,$,ht){var bt=yi(_e);if(ht={lane:bt,action:ht,hasEagerState:!1,eagerState:null,next:null},zi(_e))Ai($,ht);else if(ht=hh(_e,$,ht,bt),ht!==null){var wt=R$1();gi(ht,_e,bt,wt),Bi(ht,$,bt)}}function ii(_e,$,ht){var bt=yi(_e),wt={lane:bt,action:ht,hasEagerState:!1,eagerState:null,next:null};if(zi(_e))Ai($,wt);else{var At=_e.alternate;if(_e.lanes===0&&(At===null||At.lanes===0)&&(At=$.lastRenderedReducer,At!==null))try{var Ct=$.lastRenderedState,St=At(Ct,ht);if(wt.hasEagerState=!0,wt.eagerState=St,He(St,Ct)){var Ft=$.interleaved;Ft===null?(wt.next=wt,gh($)):(wt.next=Ft.next,Ft.next=wt),$.interleaved=wt;return}}catch{}finally{}ht=hh(_e,$,wt,bt),ht!==null&&(wt=R$1(),gi(ht,_e,bt,wt),Bi(ht,$,bt))}}function zi(_e){var $=_e.alternate;return _e===M$3||$!==null&&$===M$3}function Ai(_e,$){Jh=Ih=!0;var ht=_e.pending;ht===null?$.next=$:($.next=ht.next,ht.next=$),_e.pending=$}function Bi(_e,$,ht){if(ht&4194240){var bt=$.lanes;bt&=_e.pendingLanes,ht|=bt,$.lanes=ht,Cc(_e,ht)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_e,$){return Th().memoizedState=[_e,$===void 0?null:$],_e},useContext:eh,useEffect:mi,useImperativeHandle:function(_e,$,ht){return ht=ht!=null?ht.concat([_e]):null,ki(4194308,4,pi.bind(null,$,_e),ht)},useLayoutEffect:function(_e,$){return ki(4194308,4,_e,$)},useInsertionEffect:function(_e,$){return ki(4,2,_e,$)},useMemo:function(_e,$){var ht=Th();return $=$===void 0?null:$,_e=_e(),ht.memoizedState=[_e,$],_e},useReducer:function(_e,$,ht){var bt=Th();return $=ht!==void 0?ht($):$,bt.memoizedState=bt.baseState=$,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:$},bt.queue=_e,_e=_e.dispatch=xi.bind(null,M$3,_e),[bt.memoizedState,_e]},useRef:function(_e){var $=Th();return _e={current:_e},$.memoizedState=_e},useState:hi,useDebugValue:ri,useDeferredValue:function(_e){return Th().memoizedState=_e},useTransition:function(){var _e=hi(!1),$=_e[0];return _e=vi.bind(null,_e[1]),Th().memoizedState=_e,[$,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,$,ht){var bt=M$3,wt=Th();if(I$4){if(ht===void 0)throw Error(p$4(407));ht=ht()}else{if(ht=$(),Q===null)throw Error(p$4(349));Hh&30||di(bt,$,ht)}wt.memoizedState=ht;var At={value:ht,getSnapshot:$};return wt.queue=At,mi(ai.bind(null,bt,At,_e),[_e]),bt.flags|=2048,bi(9,ci.bind(null,bt,At,ht,$),void 0,null),ht},useId:function(){var _e=Th(),$=Q.identifierPrefix;if(I$4){var ht=sg,bt=rg;ht=(bt&~(1<<32-oc(bt)-1)).toString(32)+ht,$=":"+$+"R"+ht,ht=Kh++,0<ht&&($+="H"+ht.toString(32)),$+=":"}else ht=Lh++,$=":"+$+"r"+ht.toString(32)+":";return _e.memoizedState=$},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var $=Uh();return ui($,N$3.memoizedState,_e)},useTransition:function(){var _e=Wh(Vh)[0],$=Uh().memoizedState;return[_e,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var $=Uh();return N$3===null?$.memoizedState=_e:ui($,N$3.memoizedState,_e)},useTransition:function(){var _e=Xh(Vh)[0],$=Uh().memoizedState;return[_e,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_e,$){if(_e&&_e.defaultProps){$=A$3({},$),_e=_e.defaultProps;for(var ht in _e)$[ht]===void 0&&($[ht]=_e[ht]);return $}return $}function Di(_e,$,ht,bt){$=_e.memoizedState,ht=ht(bt,$),ht=ht==null?$:A$3({},$,ht),_e.memoizedState=ht,_e.lanes===0&&(_e.updateQueue.baseState=ht)}var Ei={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,$,ht){_e=_e._reactInternals;var bt=R$1(),wt=yi(_e),At=mh(bt,wt);At.payload=$,ht!=null&&(At.callback=ht),$=nh(_e,At,wt),$!==null&&(gi($,_e,wt,bt),oh($,_e,wt))},enqueueReplaceState:function(_e,$,ht){_e=_e._reactInternals;var bt=R$1(),wt=yi(_e),At=mh(bt,wt);At.tag=1,At.payload=$,ht!=null&&(At.callback=ht),$=nh(_e,At,wt),$!==null&&(gi($,_e,wt,bt),oh($,_e,wt))},enqueueForceUpdate:function(_e,$){_e=_e._reactInternals;var ht=R$1(),bt=yi(_e),wt=mh(ht,bt);wt.tag=2,$!=null&&(wt.callback=$),$=nh(_e,wt,bt),$!==null&&(gi($,_e,bt,ht),oh($,_e,bt))}};function Fi(_e,$,ht,bt,wt,At,Ct){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(bt,At,Ct):$.prototype&&$.prototype.isPureReactComponent?!Ie(ht,bt)||!Ie(wt,At):!0}function Gi(_e,$,ht){var bt=!1,wt=Vf,At=$.contextType;return typeof At=="object"&&At!==null?At=eh(At):(wt=Zf($)?Xf:H$2.current,bt=$.contextTypes,At=(bt=bt!=null)?Yf(_e,wt):Vf),$=new $(ht,At),_e.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=Ei,_e.stateNode=$,$._reactInternals=_e,bt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=wt,_e.__reactInternalMemoizedMaskedChildContext=At),$}function Hi(_e,$,ht,bt){_e=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(ht,bt),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(ht,bt),$.state!==_e&&Ei.enqueueReplaceState($,$.state,null)}function Ii(_e,$,ht,bt){var wt=_e.stateNode;wt.props=ht,wt.state=_e.memoizedState,wt.refs={},kh(_e);var At=$.contextType;typeof At=="object"&&At!==null?wt.context=eh(At):(At=Zf($)?Xf:H$2.current,wt.context=Yf(_e,At)),wt.state=_e.memoizedState,At=$.getDerivedStateFromProps,typeof At=="function"&&(Di(_e,$,At,ht),wt.state=_e.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof wt.getSnapshotBeforeUpdate=="function"||typeof wt.UNSAFE_componentWillMount!="function"&&typeof wt.componentWillMount!="function"||($=wt.state,typeof wt.componentWillMount=="function"&&wt.componentWillMount(),typeof wt.UNSAFE_componentWillMount=="function"&&wt.UNSAFE_componentWillMount(),$!==wt.state&&Ei.enqueueReplaceState(wt,wt.state,null),qh(_e,ht,wt,bt),wt.state=_e.memoizedState),typeof wt.componentDidMount=="function"&&(_e.flags|=4194308)}function Ji(_e,$){try{var ht="",bt=$;do ht+=Pa(bt),bt=bt.return;while(bt);var wt=ht}catch(At){wt=`
Error generating stack: `+At.message+`
`+At.stack}return{value:_e,source:$,stack:wt,digest:null}}function Ki(_e,$,ht){return{value:_e,source:null,stack:ht??null,digest:$??null}}function Li(_e,$){try{console.error($.value)}catch(ht){setTimeout(function(){throw ht})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_e,$,ht){ht=mh(-1,ht),ht.tag=3,ht.payload={element:null};var bt=$.value;return ht.callback=function(){Oi||(Oi=!0,Pi=bt),Li(_e,$)},ht}function Qi(_e,$,ht){ht=mh(-1,ht),ht.tag=3;var bt=_e.type.getDerivedStateFromError;if(typeof bt=="function"){var wt=$.value;ht.payload=function(){return bt(wt)},ht.callback=function(){Li(_e,$)}}var At=_e.stateNode;return At!==null&&typeof At.componentDidCatch=="function"&&(ht.callback=function(){Li(_e,$),typeof bt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var Ct=$.stack;this.componentDidCatch($.value,{componentStack:Ct!==null?Ct:""})}),ht}function Si(_e,$,ht){var bt=_e.pingCache;if(bt===null){bt=_e.pingCache=new Mi;var wt=new Set;bt.set($,wt)}else wt=bt.get($),wt===void 0&&(wt=new Set,bt.set($,wt));wt.has(ht)||(wt.add(ht),_e=Ti.bind(null,_e,$,ht),$.then(_e,_e))}function Ui(_e){do{var $;if(($=_e.tag===13)&&($=_e.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return _e;_e=_e.return}while(_e!==null);return null}function Vi(_e,$,ht,bt,wt){return _e.mode&1?(_e.flags|=65536,_e.lanes=wt,_e):(_e===$?_e.flags|=65536:(_e.flags|=128,ht.flags|=131072,ht.flags&=-52805,ht.tag===1&&(ht.alternate===null?ht.tag=17:($=mh(-1,1),$.tag=2,nh(ht,$,1))),ht.lanes|=1),_e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(_e,$,ht,bt){$.child=_e===null?Vg($,null,ht,bt):Ug($,_e.child,ht,bt)}function Yi(_e,$,ht,bt,wt){ht=ht.render;var At=$.ref;return ch($,wt),bt=Nh(_e,$,ht,bt,At,wt),ht=Sh(),_e!==null&&!dh?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~wt,Zi(_e,$,wt)):(I$4&&ht&&vg($),$.flags|=1,Xi(_e,$,bt,wt),$.child)}function $i(_e,$,ht,bt,wt){if(_e===null){var At=ht.type;return typeof At=="function"&&!aj(At)&&At.defaultProps===void 0&&ht.compare===null&&ht.defaultProps===void 0?($.tag=15,$.type=At,bj(_e,$,At,bt,wt)):(_e=Rg(ht.type,null,bt,$,$.mode,wt),_e.ref=$.ref,_e.return=$,$.child=_e)}if(At=_e.child,!(_e.lanes&wt)){var Ct=At.memoizedProps;if(ht=ht.compare,ht=ht!==null?ht:Ie,ht(Ct,bt)&&_e.ref===$.ref)return Zi(_e,$,wt)}return $.flags|=1,_e=Pg(At,bt),_e.ref=$.ref,_e.return=$,$.child=_e}function bj(_e,$,ht,bt,wt){if(_e!==null){var At=_e.memoizedProps;if(Ie(At,bt)&&_e.ref===$.ref)if(dh=!1,$.pendingProps=bt=At,(_e.lanes&wt)!==0)_e.flags&131072&&(dh=!0);else return $.lanes=_e.lanes,Zi(_e,$,wt)}return cj(_e,$,ht,bt,wt)}function dj(_e,$,ht){var bt=$.pendingProps,wt=bt.children,At=_e!==null?_e.memoizedState:null;if(bt.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=ht;else{if(!(ht&1073741824))return _e=At!==null?At.baseLanes|ht:ht,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:_e,cachePool:null,transitions:null},$.updateQueue=null,G$2(ej,fj),fj|=_e,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt=At!==null?At.baseLanes:ht,G$2(ej,fj),fj|=bt}else At!==null?(bt=At.baseLanes|ht,$.memoizedState=null):bt=ht,G$2(ej,fj),fj|=bt;return Xi(_e,$,wt,ht),$.child}function gj(_e,$){var ht=$.ref;(_e===null&&ht!==null||_e!==null&&_e.ref!==ht)&&($.flags|=512,$.flags|=2097152)}function cj(_e,$,ht,bt,wt){var At=Zf(ht)?Xf:H$2.current;return At=Yf($,At),ch($,wt),ht=Nh(_e,$,ht,bt,At,wt),bt=Sh(),_e!==null&&!dh?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~wt,Zi(_e,$,wt)):(I$4&&bt&&vg($),$.flags|=1,Xi(_e,$,ht,wt),$.child)}function hj(_e,$,ht,bt,wt){if(Zf(ht)){var At=!0;cg($)}else At=!1;if(ch($,wt),$.stateNode===null)ij(_e,$),Gi($,ht,bt),Ii($,ht,bt,wt),bt=!0;else if(_e===null){var Ct=$.stateNode,St=$.memoizedProps;Ct.props=St;var Ft=Ct.context,vt=ht.contextType;typeof vt=="object"&&vt!==null?vt=eh(vt):(vt=Zf(ht)?Xf:H$2.current,vt=Yf($,vt));var Et=ht.getDerivedStateFromProps,Mt=typeof Et=="function"||typeof Ct.getSnapshotBeforeUpdate=="function";Mt||typeof Ct.UNSAFE_componentWillReceiveProps!="function"&&typeof Ct.componentWillReceiveProps!="function"||(St!==bt||Ft!==vt)&&Hi($,Ct,bt,vt),jh=!1;var Pt=$.memoizedState;Ct.state=Pt,qh($,bt,Ct,wt),Ft=$.memoizedState,St!==bt||Pt!==Ft||Wf.current||jh?(typeof Et=="function"&&(Di($,ht,Et,bt),Ft=$.memoizedState),(St=jh||Fi($,ht,St,bt,Pt,Ft,vt))?(Mt||typeof Ct.UNSAFE_componentWillMount!="function"&&typeof Ct.componentWillMount!="function"||(typeof Ct.componentWillMount=="function"&&Ct.componentWillMount(),typeof Ct.UNSAFE_componentWillMount=="function"&&Ct.UNSAFE_componentWillMount()),typeof Ct.componentDidMount=="function"&&($.flags|=4194308)):(typeof Ct.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=bt,$.memoizedState=Ft),Ct.props=bt,Ct.state=Ft,Ct.context=vt,bt=St):(typeof Ct.componentDidMount=="function"&&($.flags|=4194308),bt=!1)}else{Ct=$.stateNode,lh(_e,$),St=$.memoizedProps,vt=$.type===$.elementType?St:Ci($.type,St),Ct.props=vt,Mt=$.pendingProps,Pt=Ct.context,Ft=ht.contextType,typeof Ft=="object"&&Ft!==null?Ft=eh(Ft):(Ft=Zf(ht)?Xf:H$2.current,Ft=Yf($,Ft));var xt=ht.getDerivedStateFromProps;(Et=typeof xt=="function"||typeof Ct.getSnapshotBeforeUpdate=="function")||typeof Ct.UNSAFE_componentWillReceiveProps!="function"&&typeof Ct.componentWillReceiveProps!="function"||(St!==Mt||Pt!==Ft)&&Hi($,Ct,bt,Ft),jh=!1,Pt=$.memoizedState,Ct.state=Pt,qh($,bt,Ct,wt);var $t=$.memoizedState;St!==Mt||Pt!==$t||Wf.current||jh?(typeof xt=="function"&&(Di($,ht,xt,bt),$t=$.memoizedState),(vt=jh||Fi($,ht,vt,bt,Pt,$t,Ft)||!1)?(Et||typeof Ct.UNSAFE_componentWillUpdate!="function"&&typeof Ct.componentWillUpdate!="function"||(typeof Ct.componentWillUpdate=="function"&&Ct.componentWillUpdate(bt,$t,Ft),typeof Ct.UNSAFE_componentWillUpdate=="function"&&Ct.UNSAFE_componentWillUpdate(bt,$t,Ft)),typeof Ct.componentDidUpdate=="function"&&($.flags|=4),typeof Ct.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof Ct.componentDidUpdate!="function"||St===_e.memoizedProps&&Pt===_e.memoizedState||($.flags|=4),typeof Ct.getSnapshotBeforeUpdate!="function"||St===_e.memoizedProps&&Pt===_e.memoizedState||($.flags|=1024),$.memoizedProps=bt,$.memoizedState=$t),Ct.props=bt,Ct.state=$t,Ct.context=Ft,bt=vt):(typeof Ct.componentDidUpdate!="function"||St===_e.memoizedProps&&Pt===_e.memoizedState||($.flags|=4),typeof Ct.getSnapshotBeforeUpdate!="function"||St===_e.memoizedProps&&Pt===_e.memoizedState||($.flags|=1024),bt=!1)}return jj(_e,$,ht,bt,At,wt)}function jj(_e,$,ht,bt,wt,At){gj(_e,$);var Ct=($.flags&128)!==0;if(!bt&&!Ct)return wt&&dg($,ht,!1),Zi(_e,$,At);bt=$.stateNode,Wi.current=$;var St=Ct&&typeof ht.getDerivedStateFromError!="function"?null:bt.render();return $.flags|=1,_e!==null&&Ct?($.child=Ug($,_e.child,null,At),$.child=Ug($,null,St,At)):Xi(_e,$,St,At),$.memoizedState=bt.state,wt&&dg($,ht,!0),$.child}function kj(_e){var $=_e.stateNode;$.pendingContext?ag(_e,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(_e,$.context,!1),yh(_e,$.containerInfo)}function lj(_e,$,ht,bt,wt){return Ig(),Jg(wt),$.flags|=256,Xi(_e,$,ht,bt),$.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function oj(_e,$,ht){var bt=$.pendingProps,wt=L$1.current,At=!1,Ct=($.flags&128)!==0,St;if((St=Ct)||(St=_e!==null&&_e.memoizedState===null?!1:(wt&2)!==0),St?(At=!0,$.flags&=-129):(_e===null||_e.memoizedState!==null)&&(wt|=1),G$2(L$1,wt&1),_e===null)return Eg($),_e=$.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?($.mode&1?_e.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(Ct=bt.children,_e=bt.fallback,At?(bt=$.mode,At=$.child,Ct={mode:"hidden",children:Ct},!(bt&1)&&At!==null?(At.childLanes=0,At.pendingProps=Ct):At=pj(Ct,bt,0,null),_e=Tg(_e,bt,ht,null),At.return=$,_e.return=$,At.sibling=_e,$.child=At,$.child.memoizedState=nj(ht),$.memoizedState=mj,_e):qj($,Ct));if(wt=_e.memoizedState,wt!==null&&(St=wt.dehydrated,St!==null))return rj(_e,$,Ct,bt,St,wt,ht);if(At){At=bt.fallback,Ct=$.mode,wt=_e.child,St=wt.sibling;var Ft={mode:"hidden",children:bt.children};return!(Ct&1)&&$.child!==wt?(bt=$.child,bt.childLanes=0,bt.pendingProps=Ft,$.deletions=null):(bt=Pg(wt,Ft),bt.subtreeFlags=wt.subtreeFlags&14680064),St!==null?At=Pg(St,At):(At=Tg(At,Ct,ht,null),At.flags|=2),At.return=$,bt.return=$,bt.sibling=At,$.child=bt,bt=At,At=$.child,Ct=_e.child.memoizedState,Ct=Ct===null?nj(ht):{baseLanes:Ct.baseLanes|ht,cachePool:null,transitions:Ct.transitions},At.memoizedState=Ct,At.childLanes=_e.childLanes&~ht,$.memoizedState=mj,bt}return At=_e.child,_e=At.sibling,bt=Pg(At,{mode:"visible",children:bt.children}),!($.mode&1)&&(bt.lanes=ht),bt.return=$,bt.sibling=null,_e!==null&&(ht=$.deletions,ht===null?($.deletions=[_e],$.flags|=16):ht.push(_e)),$.child=bt,$.memoizedState=null,bt}function qj(_e,$){return $=pj({mode:"visible",children:$},_e.mode,0,null),$.return=_e,_e.child=$}function sj(_e,$,ht,bt){return bt!==null&&Jg(bt),Ug($,_e.child,null,ht),_e=qj($,$.pendingProps.children),_e.flags|=2,$.memoizedState=null,_e}function rj(_e,$,ht,bt,wt,At,Ct){if(ht)return $.flags&256?($.flags&=-257,bt=Ki(Error(p$4(422))),sj(_e,$,Ct,bt)):$.memoizedState!==null?($.child=_e.child,$.flags|=128,null):(At=bt.fallback,wt=$.mode,bt=pj({mode:"visible",children:bt.children},wt,0,null),At=Tg(At,wt,Ct,null),At.flags|=2,bt.return=$,At.return=$,bt.sibling=At,$.child=bt,$.mode&1&&Ug($,_e.child,null,Ct),$.child.memoizedState=nj(Ct),$.memoizedState=mj,At);if(!($.mode&1))return sj(_e,$,Ct,null);if(wt.data==="$!"){if(bt=wt.nextSibling&&wt.nextSibling.dataset,bt)var St=bt.dgst;return bt=St,At=Error(p$4(419)),bt=Ki(At,bt,void 0),sj(_e,$,Ct,bt)}if(St=(Ct&_e.childLanes)!==0,dh||St){if(bt=Q,bt!==null){switch(Ct&-Ct){case 4:wt=2;break;case 16:wt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:wt=32;break;case 536870912:wt=268435456;break;default:wt=0}wt=wt&(bt.suspendedLanes|Ct)?0:wt,wt!==0&&wt!==At.retryLane&&(At.retryLane=wt,ih(_e,wt),gi(bt,_e,wt,-1))}return tj(),bt=Ki(Error(p$4(421))),sj(_e,$,Ct,bt)}return wt.data==="$?"?($.flags|=128,$.child=_e.child,$=uj.bind(null,_e),wt._reactRetry=$,null):(_e=At.treeContext,yg=Lf(wt.nextSibling),xg=$,I$4=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=$),$=qj($,bt.children),$.flags|=4096,$)}function vj(_e,$,ht){_e.lanes|=$;var bt=_e.alternate;bt!==null&&(bt.lanes|=$),bh(_e.return,$,ht)}function wj(_e,$,ht,bt,wt){var At=_e.memoizedState;At===null?_e.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:bt,tail:ht,tailMode:wt}:(At.isBackwards=$,At.rendering=null,At.renderingStartTime=0,At.last=bt,At.tail=ht,At.tailMode=wt)}function xj(_e,$,ht){var bt=$.pendingProps,wt=bt.revealOrder,At=bt.tail;if(Xi(_e,$,bt.children,ht),bt=L$1.current,bt&2)bt=bt&1|2,$.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=$.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&vj(_e,ht,$);else if(_e.tag===19)vj(_e,ht,$);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}bt&=1}if(G$2(L$1,bt),!($.mode&1))$.memoizedState=null;else switch(wt){case"forwards":for(ht=$.child,wt=null;ht!==null;)_e=ht.alternate,_e!==null&&Ch(_e)===null&&(wt=ht),ht=ht.sibling;ht=wt,ht===null?(wt=$.child,$.child=null):(wt=ht.sibling,ht.sibling=null),wj($,!1,wt,ht,At);break;case"backwards":for(ht=null,wt=$.child,$.child=null;wt!==null;){if(_e=wt.alternate,_e!==null&&Ch(_e)===null){$.child=wt;break}_e=wt.sibling,wt.sibling=ht,ht=wt,wt=_e}wj($,!0,ht,null,At);break;case"together":wj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function ij(_e,$){!($.mode&1)&&_e!==null&&(_e.alternate=null,$.alternate=null,$.flags|=2)}function Zi(_e,$,ht){if(_e!==null&&($.dependencies=_e.dependencies),rh|=$.lanes,!(ht&$.childLanes))return null;if(_e!==null&&$.child!==_e.child)throw Error(p$4(153));if($.child!==null){for(_e=$.child,ht=Pg(_e,_e.pendingProps),$.child=ht,ht.return=$;_e.sibling!==null;)_e=_e.sibling,ht=ht.sibling=Pg(_e,_e.pendingProps),ht.return=$;ht.sibling=null}return $.child}function yj(_e,$,ht){switch($.tag){case 3:kj($),Ig();break;case 5:Ah($);break;case 1:Zf($.type)&&cg($);break;case 4:yh($,$.stateNode.containerInfo);break;case 10:var bt=$.type._context,wt=$.memoizedProps.value;G$2(Wg,bt._currentValue),bt._currentValue=wt;break;case 13:if(bt=$.memoizedState,bt!==null)return bt.dehydrated!==null?(G$2(L$1,L$1.current&1),$.flags|=128,null):ht&$.child.childLanes?oj(_e,$,ht):(G$2(L$1,L$1.current&1),_e=Zi(_e,$,ht),_e!==null?_e.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(bt=(ht&$.childLanes)!==0,_e.flags&128){if(bt)return xj(_e,$,ht);$.flags|=128}if(wt=$.memoizedState,wt!==null&&(wt.rendering=null,wt.tail=null,wt.lastEffect=null),G$2(L$1,L$1.current),bt)break;return null;case 22:case 23:return $.lanes=0,dj(_e,$,ht)}return Zi(_e,$,ht)}var zj,Aj,Bj,Cj;zj=function(_e,$){for(var ht=$.child;ht!==null;){if(ht.tag===5||ht.tag===6)_e.appendChild(ht.stateNode);else if(ht.tag!==4&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===$)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===$)return;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}};Aj=function(){};Bj=function(_e,$,ht,bt){var wt=_e.memoizedProps;if(wt!==bt){_e=$.stateNode,xh(uh.current);var At=null;switch(ht){case"input":wt=Ya(_e,wt),bt=Ya(_e,bt),At=[];break;case"select":wt=A$3({},wt,{value:void 0}),bt=A$3({},bt,{value:void 0}),At=[];break;case"textarea":wt=gb(_e,wt),bt=gb(_e,bt),At=[];break;default:typeof wt.onClick!="function"&&typeof bt.onClick=="function"&&(_e.onclick=Bf)}ub(ht,bt);var Ct;ht=null;for(vt in wt)if(!bt.hasOwnProperty(vt)&&wt.hasOwnProperty(vt)&&wt[vt]!=null)if(vt==="style"){var St=wt[vt];for(Ct in St)St.hasOwnProperty(Ct)&&(ht||(ht={}),ht[Ct]="")}else vt!=="dangerouslySetInnerHTML"&&vt!=="children"&&vt!=="suppressContentEditableWarning"&&vt!=="suppressHydrationWarning"&&vt!=="autoFocus"&&(ea.hasOwnProperty(vt)?At||(At=[]):(At=At||[]).push(vt,null));for(vt in bt){var Ft=bt[vt];if(St=wt!=null?wt[vt]:void 0,bt.hasOwnProperty(vt)&&Ft!==St&&(Ft!=null||St!=null))if(vt==="style")if(St){for(Ct in St)!St.hasOwnProperty(Ct)||Ft&&Ft.hasOwnProperty(Ct)||(ht||(ht={}),ht[Ct]="");for(Ct in Ft)Ft.hasOwnProperty(Ct)&&St[Ct]!==Ft[Ct]&&(ht||(ht={}),ht[Ct]=Ft[Ct])}else ht||(At||(At=[]),At.push(vt,ht)),ht=Ft;else vt==="dangerouslySetInnerHTML"?(Ft=Ft?Ft.__html:void 0,St=St?St.__html:void 0,Ft!=null&&St!==Ft&&(At=At||[]).push(vt,Ft)):vt==="children"?typeof Ft!="string"&&typeof Ft!="number"||(At=At||[]).push(vt,""+Ft):vt!=="suppressContentEditableWarning"&&vt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(vt)?(Ft!=null&&vt==="onScroll"&&D$4("scroll",_e),At||St===Ft||(At=[])):(At=At||[]).push(vt,Ft))}ht&&(At=At||[]).push("style",ht);var vt=At;($.updateQueue=vt)&&($.flags|=4)}};Cj=function(_e,$,ht,bt){ht!==bt&&($.flags|=4)};function Dj(_e,$){if(!I$4)switch(_e.tailMode){case"hidden":$=_e.tail;for(var ht=null;$!==null;)$.alternate!==null&&(ht=$),$=$.sibling;ht===null?_e.tail=null:ht.sibling=null;break;case"collapsed":ht=_e.tail;for(var bt=null;ht!==null;)ht.alternate!==null&&(bt=ht),ht=ht.sibling;bt===null?$||_e.tail===null?_e.tail=null:_e.tail.sibling=null:bt.sibling=null}}function S$4(_e){var $=_e.alternate!==null&&_e.alternate.child===_e.child,ht=0,bt=0;if($)for(var wt=_e.child;wt!==null;)ht|=wt.lanes|wt.childLanes,bt|=wt.subtreeFlags&14680064,bt|=wt.flags&14680064,wt.return=_e,wt=wt.sibling;else for(wt=_e.child;wt!==null;)ht|=wt.lanes|wt.childLanes,bt|=wt.subtreeFlags,bt|=wt.flags,wt.return=_e,wt=wt.sibling;return _e.subtreeFlags|=bt,_e.childLanes=ht,$}function Ej(_e,$,ht){var bt=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4($),null;case 1:return Zf($.type)&&$f(),S$4($),null;case 3:return bt=$.stateNode,zh(),E$1(Wf),E$1(H$2),Eh(),bt.pendingContext&&(bt.context=bt.pendingContext,bt.pendingContext=null),(_e===null||_e.child===null)&&(Gg($)?$.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_e,$),S$4($),null;case 5:Bh($);var wt=xh(wh.current);if(ht=$.type,_e!==null&&$.stateNode!=null)Bj(_e,$,ht,bt,wt),_e.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!bt){if($.stateNode===null)throw Error(p$4(166));return S$4($),null}if(_e=xh(uh.current),Gg($)){bt=$.stateNode,ht=$.type;var At=$.memoizedProps;switch(bt[Of]=$,bt[Pf]=At,_e=($.mode&1)!==0,ht){case"dialog":D$4("cancel",bt),D$4("close",bt);break;case"iframe":case"object":case"embed":D$4("load",bt);break;case"video":case"audio":for(wt=0;wt<lf.length;wt++)D$4(lf[wt],bt);break;case"source":D$4("error",bt);break;case"img":case"image":case"link":D$4("error",bt),D$4("load",bt);break;case"details":D$4("toggle",bt);break;case"input":Za(bt,At),D$4("invalid",bt);break;case"select":bt._wrapperState={wasMultiple:!!At.multiple},D$4("invalid",bt);break;case"textarea":hb(bt,At),D$4("invalid",bt)}ub(ht,At),wt=null;for(var Ct in At)if(At.hasOwnProperty(Ct)){var St=At[Ct];Ct==="children"?typeof St=="string"?bt.textContent!==St&&(At.suppressHydrationWarning!==!0&&Af(bt.textContent,St,_e),wt=["children",St]):typeof St=="number"&&bt.textContent!==""+St&&(At.suppressHydrationWarning!==!0&&Af(bt.textContent,St,_e),wt=["children",""+St]):ea.hasOwnProperty(Ct)&&St!=null&&Ct==="onScroll"&&D$4("scroll",bt)}switch(ht){case"input":Va(bt),db(bt,At,!0);break;case"textarea":Va(bt),jb(bt);break;case"select":case"option":break;default:typeof At.onClick=="function"&&(bt.onclick=Bf)}bt=wt,$.updateQueue=bt,bt!==null&&($.flags|=4)}else{Ct=wt.nodeType===9?wt:wt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(ht)),_e==="http://www.w3.org/1999/xhtml"?ht==="script"?(_e=Ct.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof bt.is=="string"?_e=Ct.createElement(ht,{is:bt.is}):(_e=Ct.createElement(ht),ht==="select"&&(Ct=_e,bt.multiple?Ct.multiple=!0:bt.size&&(Ct.size=bt.size))):_e=Ct.createElementNS(_e,ht),_e[Of]=$,_e[Pf]=bt,zj(_e,$,!1,!1),$.stateNode=_e;e:{switch(Ct=vb(ht,bt),ht){case"dialog":D$4("cancel",_e),D$4("close",_e),wt=bt;break;case"iframe":case"object":case"embed":D$4("load",_e),wt=bt;break;case"video":case"audio":for(wt=0;wt<lf.length;wt++)D$4(lf[wt],_e);wt=bt;break;case"source":D$4("error",_e),wt=bt;break;case"img":case"image":case"link":D$4("error",_e),D$4("load",_e),wt=bt;break;case"details":D$4("toggle",_e),wt=bt;break;case"input":Za(_e,bt),wt=Ya(_e,bt),D$4("invalid",_e);break;case"option":wt=bt;break;case"select":_e._wrapperState={wasMultiple:!!bt.multiple},wt=A$3({},bt,{value:void 0}),D$4("invalid",_e);break;case"textarea":hb(_e,bt),wt=gb(_e,bt),D$4("invalid",_e);break;default:wt=bt}ub(ht,wt),St=wt;for(At in St)if(St.hasOwnProperty(At)){var Ft=St[At];At==="style"?sb(_e,Ft):At==="dangerouslySetInnerHTML"?(Ft=Ft?Ft.__html:void 0,Ft!=null&&nb(_e,Ft)):At==="children"?typeof Ft=="string"?(ht!=="textarea"||Ft!=="")&&ob(_e,Ft):typeof Ft=="number"&&ob(_e,""+Ft):At!=="suppressContentEditableWarning"&&At!=="suppressHydrationWarning"&&At!=="autoFocus"&&(ea.hasOwnProperty(At)?Ft!=null&&At==="onScroll"&&D$4("scroll",_e):Ft!=null&&ta(_e,At,Ft,Ct))}switch(ht){case"input":Va(_e),db(_e,bt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":bt.value!=null&&_e.setAttribute("value",""+Sa(bt.value));break;case"select":_e.multiple=!!bt.multiple,At=bt.value,At!=null?fb(_e,!!bt.multiple,At,!1):bt.defaultValue!=null&&fb(_e,!!bt.multiple,bt.defaultValue,!0);break;default:typeof wt.onClick=="function"&&(_e.onclick=Bf)}switch(ht){case"button":case"input":case"select":case"textarea":bt=!!bt.autoFocus;break e;case"img":bt=!0;break e;default:bt=!1}}bt&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$4($),null;case 6:if(_e&&$.stateNode!=null)Cj(_e,$,_e.memoizedProps,bt);else{if(typeof bt!="string"&&$.stateNode===null)throw Error(p$4(166));if(ht=xh(wh.current),xh(uh.current),Gg($)){if(bt=$.stateNode,ht=$.memoizedProps,bt[Of]=$,(At=bt.nodeValue!==ht)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(bt.nodeValue,ht,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(bt.nodeValue,ht,(_e.mode&1)!==0)}At&&($.flags|=4)}else bt=(ht.nodeType===9?ht:ht.ownerDocument).createTextNode(bt),bt[Of]=$,$.stateNode=bt}return S$4($),null;case 13:if(E$1(L$1),bt=$.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,At=!1;else if(At=Gg($),bt!==null&&bt.dehydrated!==null){if(_e===null){if(!At)throw Error(p$4(318));if(At=$.memoizedState,At=At!==null?At.dehydrated:null,!At)throw Error(p$4(317));At[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S$4($),At=!1}else zg!==null&&(Fj(zg),zg=null),At=!0;if(!At)return $.flags&65536?$:null}return $.flags&128?($.lanes=ht,$):(bt=bt!==null,bt!==(_e!==null&&_e.memoizedState!==null)&&bt&&($.child.flags|=8192,$.mode&1&&(_e===null||L$1.current&1?T$3===0&&(T$3=3):tj())),$.updateQueue!==null&&($.flags|=4),S$4($),null);case 4:return zh(),Aj(_e,$),_e===null&&sf($.stateNode.containerInfo),S$4($),null;case 10:return ah($.type._context),S$4($),null;case 17:return Zf($.type)&&$f(),S$4($),null;case 19:if(E$1(L$1),At=$.memoizedState,At===null)return S$4($),null;if(bt=($.flags&128)!==0,Ct=At.rendering,Ct===null)if(bt)Dj(At,!1);else{if(T$3!==0||_e!==null&&_e.flags&128)for(_e=$.child;_e!==null;){if(Ct=Ch(_e),Ct!==null){for($.flags|=128,Dj(At,!1),bt=Ct.updateQueue,bt!==null&&($.updateQueue=bt,$.flags|=4),$.subtreeFlags=0,bt=ht,ht=$.child;ht!==null;)At=ht,_e=bt,At.flags&=14680066,Ct=At.alternate,Ct===null?(At.childLanes=0,At.lanes=_e,At.child=null,At.subtreeFlags=0,At.memoizedProps=null,At.memoizedState=null,At.updateQueue=null,At.dependencies=null,At.stateNode=null):(At.childLanes=Ct.childLanes,At.lanes=Ct.lanes,At.child=Ct.child,At.subtreeFlags=0,At.deletions=null,At.memoizedProps=Ct.memoizedProps,At.memoizedState=Ct.memoizedState,At.updateQueue=Ct.updateQueue,At.type=Ct.type,_e=Ct.dependencies,At.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),ht=ht.sibling;return G$2(L$1,L$1.current&1|2),$.child}_e=_e.sibling}At.tail!==null&&B$1()>Gj&&($.flags|=128,bt=!0,Dj(At,!1),$.lanes=4194304)}else{if(!bt)if(_e=Ch(Ct),_e!==null){if($.flags|=128,bt=!0,ht=_e.updateQueue,ht!==null&&($.updateQueue=ht,$.flags|=4),Dj(At,!0),At.tail===null&&At.tailMode==="hidden"&&!Ct.alternate&&!I$4)return S$4($),null}else 2*B$1()-At.renderingStartTime>Gj&&ht!==1073741824&&($.flags|=128,bt=!0,Dj(At,!1),$.lanes=4194304);At.isBackwards?(Ct.sibling=$.child,$.child=Ct):(ht=At.last,ht!==null?ht.sibling=Ct:$.child=Ct,At.last=Ct)}return At.tail!==null?($=At.tail,At.rendering=$,At.tail=$.sibling,At.renderingStartTime=B$1(),$.sibling=null,ht=L$1.current,G$2(L$1,bt?ht&1|2:ht&1),$):(S$4($),null);case 22:case 23:return Hj(),bt=$.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==bt&&($.flags|=8192),bt&&$.mode&1?fj&1073741824&&(S$4($),$.subtreeFlags&6&&($.flags|=8192)):S$4($),null;case 24:return null;case 25:return null}throw Error(p$4(156,$.tag))}function Ij(_e,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),_e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 3:return zh(),E$1(Wf),E$1(H$2),Eh(),_e=$.flags,_e&65536&&!(_e&128)?($.flags=_e&-65537|128,$):null;case 5:return Bh($),null;case 13:if(E$1(L$1),_e=$.memoizedState,_e!==null&&_e.dehydrated!==null){if($.alternate===null)throw Error(p$4(340));Ig()}return _e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah($.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$2=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(_e,$){var ht=_e.ref;if(ht!==null)if(typeof ht=="function")try{ht(null)}catch(bt){W$2(_e,$,bt)}else ht.current=null}function Mj(_e,$,ht){try{ht()}catch(bt){W$2(_e,$,bt)}}var Nj=!1;function Oj(_e,$){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var ht={start:_e.selectionStart,end:_e.selectionEnd};else e:{ht=(ht=_e.ownerDocument)&&ht.defaultView||window;var bt=ht.getSelection&&ht.getSelection();if(bt&&bt.rangeCount!==0){ht=bt.anchorNode;var wt=bt.anchorOffset,At=bt.focusNode;bt=bt.focusOffset;try{ht.nodeType,At.nodeType}catch{ht=null;break e}var Ct=0,St=-1,Ft=-1,vt=0,Et=0,Mt=_e,Pt=null;t:for(;;){for(var xt;Mt!==ht||wt!==0&&Mt.nodeType!==3||(St=Ct+wt),Mt!==At||bt!==0&&Mt.nodeType!==3||(Ft=Ct+bt),Mt.nodeType===3&&(Ct+=Mt.nodeValue.length),(xt=Mt.firstChild)!==null;)Pt=Mt,Mt=xt;for(;;){if(Mt===_e)break t;if(Pt===ht&&++vt===wt&&(St=Ct),Pt===At&&++Et===bt&&(Ft=Ct),(xt=Mt.nextSibling)!==null)break;Mt=Pt,Pt=Mt.parentNode}Mt=xt}ht=St===-1||Ft===-1?null:{start:St,end:Ft}}else ht=null}ht=ht||{start:0,end:0}}else ht=null;for(Df={focusedElem:_e,selectionRange:ht},dd=!1,V$1=$;V$1!==null;)if($=V$1,_e=$.child,($.subtreeFlags&1028)!==0&&_e!==null)_e.return=$,V$1=_e;else for(;V$1!==null;){$=V$1;try{var $t=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if($t!==null){var _t=$t.memoizedProps,jt=$t.memoizedState,Rt=$.stateNode,Nt=Rt.getSnapshotBeforeUpdate($.elementType===$.type?_t:Ci($.type,_t),jt);Rt.__reactInternalSnapshotBeforeUpdate=Nt}break;case 3:var Lt=$.stateNode.containerInfo;Lt.nodeType===1?Lt.textContent="":Lt.nodeType===9&&Lt.documentElement&&Lt.removeChild(Lt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(kt){W$2($,$.return,kt)}if(_e=$.sibling,_e!==null){_e.return=$.return,V$1=_e;break}V$1=$.return}return $t=Nj,Nj=!1,$t}function Pj(_e,$,ht){var bt=$.updateQueue;if(bt=bt!==null?bt.lastEffect:null,bt!==null){var wt=bt=bt.next;do{if((wt.tag&_e)===_e){var At=wt.destroy;wt.destroy=void 0,At!==void 0&&Mj($,ht,At)}wt=wt.next}while(wt!==bt)}}function Qj(_e,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var ht=$=$.next;do{if((ht.tag&_e)===_e){var bt=ht.create;ht.destroy=bt()}ht=ht.next}while(ht!==$)}}function Rj(_e){var $=_e.ref;if($!==null){var ht=_e.stateNode;switch(_e.tag){case 5:_e=ht;break;default:_e=ht}typeof $=="function"?$(_e):$.current=_e}}function Sj(_e){var $=_e.alternate;$!==null&&(_e.alternate=null,Sj($)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&($=_e.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Tj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Uj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Tj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Vj(_e,$,ht){var bt=_e.tag;if(bt===5||bt===6)_e=_e.stateNode,$?ht.nodeType===8?ht.parentNode.insertBefore(_e,$):ht.insertBefore(_e,$):(ht.nodeType===8?($=ht.parentNode,$.insertBefore(_e,ht)):($=ht,$.appendChild(_e)),ht=ht._reactRootContainer,ht!=null||$.onclick!==null||($.onclick=Bf));else if(bt!==4&&(_e=_e.child,_e!==null))for(Vj(_e,$,ht),_e=_e.sibling;_e!==null;)Vj(_e,$,ht),_e=_e.sibling}function Wj(_e,$,ht){var bt=_e.tag;if(bt===5||bt===6)_e=_e.stateNode,$?ht.insertBefore(_e,$):ht.appendChild(_e);else if(bt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,$,ht),_e=_e.sibling;_e!==null;)Wj(_e,$,ht),_e=_e.sibling}var X$1=null,Xj=!1;function Yj(_e,$,ht){for(ht=ht.child;ht!==null;)Zj(_e,$,ht),ht=ht.sibling}function Zj(_e,$,ht){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,ht)}catch{}switch(ht.tag){case 5:U$2||Lj(ht,$);case 6:var bt=X$1,wt=Xj;X$1=null,Yj(_e,$,ht),X$1=bt,Xj=wt,X$1!==null&&(Xj?(_e=X$1,ht=ht.stateNode,_e.nodeType===8?_e.parentNode.removeChild(ht):_e.removeChild(ht)):X$1.removeChild(ht.stateNode));break;case 18:X$1!==null&&(Xj?(_e=X$1,ht=ht.stateNode,_e.nodeType===8?Kf(_e.parentNode,ht):_e.nodeType===1&&Kf(_e,ht),bd(_e)):Kf(X$1,ht.stateNode));break;case 4:bt=X$1,wt=Xj,X$1=ht.stateNode.containerInfo,Xj=!0,Yj(_e,$,ht),X$1=bt,Xj=wt;break;case 0:case 11:case 14:case 15:if(!U$2&&(bt=ht.updateQueue,bt!==null&&(bt=bt.lastEffect,bt!==null))){wt=bt=bt.next;do{var At=wt,Ct=At.destroy;At=At.tag,Ct!==void 0&&(At&2||At&4)&&Mj(ht,$,Ct),wt=wt.next}while(wt!==bt)}Yj(_e,$,ht);break;case 1:if(!U$2&&(Lj(ht,$),bt=ht.stateNode,typeof bt.componentWillUnmount=="function"))try{bt.props=ht.memoizedProps,bt.state=ht.memoizedState,bt.componentWillUnmount()}catch(St){W$2(ht,$,St)}Yj(_e,$,ht);break;case 21:Yj(_e,$,ht);break;case 22:ht.mode&1?(U$2=(bt=U$2)||ht.memoizedState!==null,Yj(_e,$,ht),U$2=bt):Yj(_e,$,ht);break;default:Yj(_e,$,ht)}}function ak(_e){var $=_e.updateQueue;if($!==null){_e.updateQueue=null;var ht=_e.stateNode;ht===null&&(ht=_e.stateNode=new Kj),$.forEach(function(bt){var wt=bk.bind(null,_e,bt);ht.has(bt)||(ht.add(bt),bt.then(wt,wt))})}}function ck(_e,$){var ht=$.deletions;if(ht!==null)for(var bt=0;bt<ht.length;bt++){var wt=ht[bt];try{var At=_e,Ct=$,St=Ct;e:for(;St!==null;){switch(St.tag){case 5:X$1=St.stateNode,Xj=!1;break e;case 3:X$1=St.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=St.stateNode.containerInfo,Xj=!0;break e}St=St.return}if(X$1===null)throw Error(p$4(160));Zj(At,Ct,wt),X$1=null,Xj=!1;var Ft=wt.alternate;Ft!==null&&(Ft.return=null),wt.return=null}catch(vt){W$2(wt,$,vt)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)dk($,_e),$=$.sibling}function dk(_e,$){var ht=_e.alternate,bt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(ck($,_e),ek(_e),bt&4){try{Pj(3,_e,_e.return),Qj(3,_e)}catch(_t){W$2(_e,_e.return,_t)}try{Pj(5,_e,_e.return)}catch(_t){W$2(_e,_e.return,_t)}}break;case 1:ck($,_e),ek(_e),bt&512&&ht!==null&&Lj(ht,ht.return);break;case 5:if(ck($,_e),ek(_e),bt&512&&ht!==null&&Lj(ht,ht.return),_e.flags&32){var wt=_e.stateNode;try{ob(wt,"")}catch(_t){W$2(_e,_e.return,_t)}}if(bt&4&&(wt=_e.stateNode,wt!=null)){var At=_e.memoizedProps,Ct=ht!==null?ht.memoizedProps:At,St=_e.type,Ft=_e.updateQueue;if(_e.updateQueue=null,Ft!==null)try{St==="input"&&At.type==="radio"&&At.name!=null&&ab(wt,At),vb(St,Ct);var vt=vb(St,At);for(Ct=0;Ct<Ft.length;Ct+=2){var Et=Ft[Ct],Mt=Ft[Ct+1];Et==="style"?sb(wt,Mt):Et==="dangerouslySetInnerHTML"?nb(wt,Mt):Et==="children"?ob(wt,Mt):ta(wt,Et,Mt,vt)}switch(St){case"input":bb(wt,At);break;case"textarea":ib(wt,At);break;case"select":var Pt=wt._wrapperState.wasMultiple;wt._wrapperState.wasMultiple=!!At.multiple;var xt=At.value;xt!=null?fb(wt,!!At.multiple,xt,!1):Pt!==!!At.multiple&&(At.defaultValue!=null?fb(wt,!!At.multiple,At.defaultValue,!0):fb(wt,!!At.multiple,At.multiple?[]:"",!1))}wt[Pf]=At}catch(_t){W$2(_e,_e.return,_t)}}break;case 6:if(ck($,_e),ek(_e),bt&4){if(_e.stateNode===null)throw Error(p$4(162));wt=_e.stateNode,At=_e.memoizedProps;try{wt.nodeValue=At}catch(_t){W$2(_e,_e.return,_t)}}break;case 3:if(ck($,_e),ek(_e),bt&4&&ht!==null&&ht.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(_t){W$2(_e,_e.return,_t)}break;case 4:ck($,_e),ek(_e);break;case 13:ck($,_e),ek(_e),wt=_e.child,wt.flags&8192&&(At=wt.memoizedState!==null,wt.stateNode.isHidden=At,!At||wt.alternate!==null&&wt.alternate.memoizedState!==null||(fk=B$1())),bt&4&&ak(_e);break;case 22:if(Et=ht!==null&&ht.memoizedState!==null,_e.mode&1?(U$2=(vt=U$2)||Et,ck($,_e),U$2=vt):ck($,_e),ek(_e),bt&8192){if(vt=_e.memoizedState!==null,(_e.stateNode.isHidden=vt)&&!Et&&_e.mode&1)for(V$1=_e,Et=_e.child;Et!==null;){for(Mt=V$1=Et;V$1!==null;){switch(Pt=V$1,xt=Pt.child,Pt.tag){case 0:case 11:case 14:case 15:Pj(4,Pt,Pt.return);break;case 1:Lj(Pt,Pt.return);var $t=Pt.stateNode;if(typeof $t.componentWillUnmount=="function"){bt=Pt,ht=Pt.return;try{$=bt,$t.props=$.memoizedProps,$t.state=$.memoizedState,$t.componentWillUnmount()}catch(_t){W$2(bt,ht,_t)}}break;case 5:Lj(Pt,Pt.return);break;case 22:if(Pt.memoizedState!==null){gk(Mt);continue}}xt!==null?(xt.return=Pt,V$1=xt):gk(Mt)}Et=Et.sibling}e:for(Et=null,Mt=_e;;){if(Mt.tag===5){if(Et===null){Et=Mt;try{wt=Mt.stateNode,vt?(At=wt.style,typeof At.setProperty=="function"?At.setProperty("display","none","important"):At.display="none"):(St=Mt.stateNode,Ft=Mt.memoizedProps.style,Ct=Ft!=null&&Ft.hasOwnProperty("display")?Ft.display:null,St.style.display=rb("display",Ct))}catch(_t){W$2(_e,_e.return,_t)}}}else if(Mt.tag===6){if(Et===null)try{Mt.stateNode.nodeValue=vt?"":Mt.memoizedProps}catch(_t){W$2(_e,_e.return,_t)}}else if((Mt.tag!==22&&Mt.tag!==23||Mt.memoizedState===null||Mt===_e)&&Mt.child!==null){Mt.child.return=Mt,Mt=Mt.child;continue}if(Mt===_e)break e;for(;Mt.sibling===null;){if(Mt.return===null||Mt.return===_e)break e;Et===Mt&&(Et=null),Mt=Mt.return}Et===Mt&&(Et=null),Mt.sibling.return=Mt.return,Mt=Mt.sibling}}break;case 19:ck($,_e),ek(_e),bt&4&&ak(_e);break;case 21:break;default:ck($,_e),ek(_e)}}function ek(_e){var $=_e.flags;if($&2){try{e:{for(var ht=_e.return;ht!==null;){if(Tj(ht)){var bt=ht;break e}ht=ht.return}throw Error(p$4(160))}switch(bt.tag){case 5:var wt=bt.stateNode;bt.flags&32&&(ob(wt,""),bt.flags&=-33);var At=Uj(_e);Wj(_e,At,wt);break;case 3:case 4:var Ct=bt.stateNode.containerInfo,St=Uj(_e);Vj(_e,St,Ct);break;default:throw Error(p$4(161))}}catch(Ft){W$2(_e,_e.return,Ft)}_e.flags&=-3}$&4096&&(_e.flags&=-4097)}function hk(_e,$,ht){V$1=_e,ik(_e)}function ik(_e,$,ht){for(var bt=(_e.mode&1)!==0;V$1!==null;){var wt=V$1,At=wt.child;if(wt.tag===22&&bt){var Ct=wt.memoizedState!==null||Jj;if(!Ct){var St=wt.alternate,Ft=St!==null&&St.memoizedState!==null||U$2;St=Jj;var vt=U$2;if(Jj=Ct,(U$2=Ft)&&!vt)for(V$1=wt;V$1!==null;)Ct=V$1,Ft=Ct.child,Ct.tag===22&&Ct.memoizedState!==null?jk(wt):Ft!==null?(Ft.return=Ct,V$1=Ft):jk(wt);for(;At!==null;)V$1=At,ik(At),At=At.sibling;V$1=wt,Jj=St,U$2=vt}kk(_e)}else wt.subtreeFlags&8772&&At!==null?(At.return=wt,V$1=At):kk(_e)}}function kk(_e){for(;V$1!==null;){var $=V$1;if($.flags&8772){var ht=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U$2||Qj(5,$);break;case 1:var bt=$.stateNode;if($.flags&4&&!U$2)if(ht===null)bt.componentDidMount();else{var wt=$.elementType===$.type?ht.memoizedProps:Ci($.type,ht.memoizedProps);bt.componentDidUpdate(wt,ht.memoizedState,bt.__reactInternalSnapshotBeforeUpdate)}var At=$.updateQueue;At!==null&&sh($,At,bt);break;case 3:var Ct=$.updateQueue;if(Ct!==null){if(ht=null,$.child!==null)switch($.child.tag){case 5:ht=$.child.stateNode;break;case 1:ht=$.child.stateNode}sh($,Ct,ht)}break;case 5:var St=$.stateNode;if(ht===null&&$.flags&4){ht=St;var Ft=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":Ft.autoFocus&&ht.focus();break;case"img":Ft.src&&(ht.src=Ft.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var vt=$.alternate;if(vt!==null){var Et=vt.memoizedState;if(Et!==null){var Mt=Et.dehydrated;Mt!==null&&bd(Mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$2||$.flags&512&&Rj($)}catch(Pt){W$2($,$.return,Pt)}}if($===_e){V$1=null;break}if(ht=$.sibling,ht!==null){ht.return=$.return,V$1=ht;break}V$1=$.return}}function gk(_e){for(;V$1!==null;){var $=V$1;if($===_e){V$1=null;break}var ht=$.sibling;if(ht!==null){ht.return=$.return,V$1=ht;break}V$1=$.return}}function jk(_e){for(;V$1!==null;){var $=V$1;try{switch($.tag){case 0:case 11:case 15:var ht=$.return;try{Qj(4,$)}catch(Ft){W$2($,ht,Ft)}break;case 1:var bt=$.stateNode;if(typeof bt.componentDidMount=="function"){var wt=$.return;try{bt.componentDidMount()}catch(Ft){W$2($,wt,Ft)}}var At=$.return;try{Rj($)}catch(Ft){W$2($,At,Ft)}break;case 5:var Ct=$.return;try{Rj($)}catch(Ft){W$2($,Ct,Ft)}}}catch(Ft){W$2($,$.return,Ft)}if($===_e){V$1=null;break}var St=$.sibling;if(St!==null){St.return=$.return,V$1=St;break}V$1=$.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(_e){return _e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function gi(_e,$,ht,bt){if(50<yk)throw yk=0,zk=null,Error(p$4(185));Ac(_e,ht,bt),(!(K&2)||_e!==Q)&&(_e===Q&&(!(K&2)&&(qk|=ht),T$3===4&&Ck(_e,Z)),Dk(_e,bt),ht===1&&K===0&&!($.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(_e,$){var ht=_e.callbackNode;wc(_e,$);var bt=uc(_e,_e===Q?Z:0);if(bt===0)ht!==null&&bc(ht),_e.callbackNode=null,_e.callbackPriority=0;else if($=bt&-bt,_e.callbackPriority!==$){if(ht!=null&&bc(ht),$===1)_e.tag===0?ig(Ek.bind(null,_e)):hg(Ek.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),ht=null;else{switch(Dc(bt)){case 1:ht=fc;break;case 4:ht=gc;break;case 16:ht=hc;break;case 536870912:ht=jc;break;default:ht=hc}ht=Fk(ht,Gk.bind(null,_e))}_e.callbackPriority=$,_e.callbackNode=ht}}function Gk(_e,$){if(Ak=-1,Bk=0,K&6)throw Error(p$4(327));var ht=_e.callbackNode;if(Hk()&&_e.callbackNode!==ht)return null;var bt=uc(_e,_e===Q?Z:0);if(bt===0)return null;if(bt&30||bt&_e.expiredLanes||$)$=Ik(_e,bt);else{$=bt;var wt=K;K|=2;var At=Jk();(Q!==_e||Z!==$)&&(uk=null,Gj=B$1()+500,Kk(_e,$));do try{Lk();break}catch(St){Mk(_e,St)}while(!0);$g(),mk.current=At,K=wt,Y!==null?$=0:(Q=null,Z=0,$=T$3)}if($!==0){if($===2&&(wt=xc(_e),wt!==0&&(bt=wt,$=Nk(_e,wt))),$===1)throw ht=pk,Kk(_e,0),Ck(_e,bt),Dk(_e,B$1()),ht;if($===6)Ck(_e,bt);else{if(wt=_e.current.alternate,!(bt&30)&&!Ok(wt)&&($=Ik(_e,bt),$===2&&(At=xc(_e),At!==0&&(bt=At,$=Nk(_e,At))),$===1))throw ht=pk,Kk(_e,0),Ck(_e,bt),Dk(_e,B$1()),ht;switch(_e.finishedWork=wt,_e.finishedLanes=bt,$){case 0:case 1:throw Error(p$4(345));case 2:Pk(_e,tk,uk);break;case 3:if(Ck(_e,bt),(bt&130023424)===bt&&($=fk+500-B$1(),10<$)){if(uc(_e,0)!==0)break;if(wt=_e.suspendedLanes,(wt&bt)!==bt){R$1(),_e.pingedLanes|=_e.suspendedLanes&wt;break}_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),$);break}Pk(_e,tk,uk);break;case 4:if(Ck(_e,bt),(bt&4194240)===bt)break;for($=_e.eventTimes,wt=-1;0<bt;){var Ct=31-oc(bt);At=1<<Ct,Ct=$[Ct],Ct>wt&&(wt=Ct),bt&=~At}if(bt=wt,bt=B$1()-bt,bt=(120>bt?120:480>bt?480:1080>bt?1080:1920>bt?1920:3e3>bt?3e3:4320>bt?4320:1960*lk(bt/1960))-bt,10<bt){_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),bt);break}Pk(_e,tk,uk);break;case 5:Pk(_e,tk,uk);break;default:throw Error(p$4(329))}}}return Dk(_e,B$1()),_e.callbackNode===ht?Gk.bind(null,_e):null}function Nk(_e,$){var ht=sk;return _e.current.memoizedState.isDehydrated&&(Kk(_e,$).flags|=256),_e=Ik(_e,$),_e!==2&&($=tk,tk=ht,$!==null&&Fj($)),_e}function Fj(_e){tk===null?tk=_e:tk.push.apply(tk,_e)}function Ok(_e){for(var $=_e;;){if($.flags&16384){var ht=$.updateQueue;if(ht!==null&&(ht=ht.stores,ht!==null))for(var bt=0;bt<ht.length;bt++){var wt=ht[bt],At=wt.getSnapshot;wt=wt.value;try{if(!He(At(),wt))return!1}catch{return!1}}}if(ht=$.child,$.subtreeFlags&16384&&ht!==null)ht.return=$,$=ht;else{if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Ck(_e,$){for($&=~rk,$&=~qk,_e.suspendedLanes|=$,_e.pingedLanes&=~$,_e=_e.expirationTimes;0<$;){var ht=31-oc($),bt=1<<ht;_e[ht]=-1,$&=~bt}}function Ek(_e){if(K&6)throw Error(p$4(327));Hk();var $=uc(_e,0);if(!($&1))return Dk(_e,B$1()),null;var ht=Ik(_e,$);if(_e.tag!==0&&ht===2){var bt=xc(_e);bt!==0&&($=bt,ht=Nk(_e,bt))}if(ht===1)throw ht=pk,Kk(_e,0),Ck(_e,$),Dk(_e,B$1()),ht;if(ht===6)throw Error(p$4(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=$,Pk(_e,tk,uk),Dk(_e,B$1()),null}function Qk(_e,$){var ht=K;K|=1;try{return _e($)}finally{K=ht,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(_e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var $=K;K|=1;var ht=ok.transition,bt=C$1;try{if(ok.transition=null,C$1=1,_e)return _e()}finally{C$1=bt,ok.transition=ht,K=$,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(_e,$){_e.finishedWork=null,_e.finishedLanes=0;var ht=_e.timeoutHandle;if(ht!==-1&&(_e.timeoutHandle=-1,Gf(ht)),Y!==null)for(ht=Y.return;ht!==null;){var bt=ht;switch(wg(bt),bt.tag){case 1:bt=bt.type.childContextTypes,bt!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$2),Eh();break;case 5:Bh(bt);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(bt.type._context);break;case 22:case 23:Hj()}ht=ht.return}if(Q=_e,Y=_e=Pg(_e.current,null),Z=fj=$,T$3=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for($=0;$<fh.length;$++)if(ht=fh[$],bt=ht.interleaved,bt!==null){ht.interleaved=null;var wt=bt.next,At=ht.pending;if(At!==null){var Ct=At.next;At.next=wt,bt.next=Ct}ht.pending=bt}fh=null}return _e}function Mk(_e,$){do{var ht=Y;try{if($g(),Fh.current=Rh,Ih){for(var bt=M$3.memoizedState;bt!==null;){var wt=bt.queue;wt!==null&&(wt.pending=null),bt=bt.next}Ih=!1}if(Hh=0,O$2=N$3=M$3=null,Jh=!1,Kh=0,nk.current=null,ht===null||ht.return===null){T$3=1,pk=$,Y=null;break}e:{var At=_e,Ct=ht.return,St=ht,Ft=$;if($=Z,St.flags|=32768,Ft!==null&&typeof Ft=="object"&&typeof Ft.then=="function"){var vt=Ft,Et=St,Mt=Et.tag;if(!(Et.mode&1)&&(Mt===0||Mt===11||Mt===15)){var Pt=Et.alternate;Pt?(Et.updateQueue=Pt.updateQueue,Et.memoizedState=Pt.memoizedState,Et.lanes=Pt.lanes):(Et.updateQueue=null,Et.memoizedState=null)}var xt=Ui(Ct);if(xt!==null){xt.flags&=-257,Vi(xt,Ct,St,At,$),xt.mode&1&&Si(At,vt,$),$=xt,Ft=vt;var $t=$.updateQueue;if($t===null){var _t=new Set;_t.add(Ft),$.updateQueue=_t}else $t.add(Ft);break e}else{if(!($&1)){Si(At,vt,$),tj();break e}Ft=Error(p$4(426))}}else if(I$4&&St.mode&1){var jt=Ui(Ct);if(jt!==null){!(jt.flags&65536)&&(jt.flags|=256),Vi(jt,Ct,St,At,$),Jg(Ji(Ft,St));break e}}At=Ft=Ji(Ft,St),T$3!==4&&(T$3=2),sk===null?sk=[At]:sk.push(At),At=Ct;do{switch(At.tag){case 3:At.flags|=65536,$&=-$,At.lanes|=$;var Rt=Ni(At,Ft,$);ph(At,Rt);break e;case 1:St=Ft;var Nt=At.type,Lt=At.stateNode;if(!(At.flags&128)&&(typeof Nt.getDerivedStateFromError=="function"||Lt!==null&&typeof Lt.componentDidCatch=="function"&&(Ri===null||!Ri.has(Lt)))){At.flags|=65536,$&=-$,At.lanes|=$;var kt=Qi(At,St,$);ph(At,kt);break e}}At=At.return}while(At!==null)}Sk(ht)}catch(Bt){$=Bt,Y===ht&&ht!==null&&(Y=ht=ht.return);continue}break}while(!0)}function Jk(){var _e=mk.current;return mk.current=Rh,_e===null?Rh:_e}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(_e,$){var ht=K;K|=2;var bt=Jk();(Q!==_e||Z!==$)&&(uk=null,Kk(_e,$));do try{Tk();break}catch(wt){Mk(_e,wt)}while(!0);if($g(),K=ht,mk.current=bt,Y!==null)throw Error(p$4(261));return Q=null,Z=0,T$3}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(_e){var $=Vk(_e.alternate,_e,fj);_e.memoizedProps=_e.pendingProps,$===null?Sk(_e):Y=$,nk.current=null}function Sk(_e){var $=_e;do{var ht=$.alternate;if(_e=$.return,$.flags&32768){if(ht=Ij(ht,$),ht!==null){ht.flags&=32767,Y=ht;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$3=6,Y=null;return}}else if(ht=Ej(ht,$,fj),ht!==null){Y=ht;return}if($=$.sibling,$!==null){Y=$;return}Y=$=_e}while($!==null);T$3===0&&(T$3=5)}function Pk(_e,$,ht){var bt=C$1,wt=ok.transition;try{ok.transition=null,C$1=1,Wk(_e,$,ht,bt)}finally{ok.transition=wt,C$1=bt}return null}function Wk(_e,$,ht,bt){do Hk();while(wk!==null);if(K&6)throw Error(p$4(327));ht=_e.finishedWork;var wt=_e.finishedLanes;if(ht===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,ht===_e.current)throw Error(p$4(177));_e.callbackNode=null,_e.callbackPriority=0;var At=ht.lanes|ht.childLanes;if(Bc(_e,At),_e===Q&&(Y=Q=null,Z=0),!(ht.subtreeFlags&2064)&&!(ht.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),At=(ht.flags&15990)!==0,ht.subtreeFlags&15990||At){At=ok.transition,ok.transition=null;var Ct=C$1;C$1=1;var St=K;K|=4,nk.current=null,Oj(_e,ht),dk(ht,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=ht,hk(ht),dc(),K=St,C$1=Ct,ok.transition=At}else _e.current=ht;if(vk&&(vk=!1,wk=_e,xk=wt),At=_e.pendingLanes,At===0&&(Ri=null),mc(ht.stateNode),Dk(_e,B$1()),$!==null)for(bt=_e.onRecoverableError,ht=0;ht<$.length;ht++)wt=$[ht],bt(wt.value,{componentStack:wt.stack,digest:wt.digest});if(Oi)throw Oi=!1,_e=Pi,Pi=null,_e;return xk&1&&_e.tag!==0&&Hk(),At=_e.pendingLanes,At&1?_e===zk?yk++:(yk=0,zk=_e):yk=0,jg(),null}function Hk(){if(wk!==null){var _e=Dc(xk),$=ok.transition,ht=C$1;try{if(ok.transition=null,C$1=16>_e?16:_e,wk===null)var bt=!1;else{if(_e=wk,wk=null,xk=0,K&6)throw Error(p$4(331));var wt=K;for(K|=4,V$1=_e.current;V$1!==null;){var At=V$1,Ct=At.child;if(V$1.flags&16){var St=At.deletions;if(St!==null){for(var Ft=0;Ft<St.length;Ft++){var vt=St[Ft];for(V$1=vt;V$1!==null;){var Et=V$1;switch(Et.tag){case 0:case 11:case 15:Pj(8,Et,At)}var Mt=Et.child;if(Mt!==null)Mt.return=Et,V$1=Mt;else for(;V$1!==null;){Et=V$1;var Pt=Et.sibling,xt=Et.return;if(Sj(Et),Et===vt){V$1=null;break}if(Pt!==null){Pt.return=xt,V$1=Pt;break}V$1=xt}}}var $t=At.alternate;if($t!==null){var _t=$t.child;if(_t!==null){$t.child=null;do{var jt=_t.sibling;_t.sibling=null,_t=jt}while(_t!==null)}}V$1=At}}if(At.subtreeFlags&2064&&Ct!==null)Ct.return=At,V$1=Ct;else e:for(;V$1!==null;){if(At=V$1,At.flags&2048)switch(At.tag){case 0:case 11:case 15:Pj(9,At,At.return)}var Rt=At.sibling;if(Rt!==null){Rt.return=At.return,V$1=Rt;break e}V$1=At.return}}var Nt=_e.current;for(V$1=Nt;V$1!==null;){Ct=V$1;var Lt=Ct.child;if(Ct.subtreeFlags&2064&&Lt!==null)Lt.return=Ct,V$1=Lt;else e:for(Ct=Nt;V$1!==null;){if(St=V$1,St.flags&2048)try{switch(St.tag){case 0:case 11:case 15:Qj(9,St)}}catch(Bt){W$2(St,St.return,Bt)}if(St===Ct){V$1=null;break e}var kt=St.sibling;if(kt!==null){kt.return=St.return,V$1=kt;break e}V$1=St.return}}if(K=wt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}bt=!0}return bt}finally{C$1=ht,ok.transition=$}}return!1}function Xk(_e,$,ht){$=Ji(ht,$),$=Ni(_e,$,1),_e=nh(_e,$,1),$=R$1(),_e!==null&&(Ac(_e,1,$),Dk(_e,$))}function W$2(_e,$,ht){if(_e.tag===3)Xk(_e,_e,ht);else for(;$!==null;){if($.tag===3){Xk($,_e,ht);break}else if($.tag===1){var bt=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof bt.componentDidCatch=="function"&&(Ri===null||!Ri.has(bt))){_e=Ji(ht,_e),_e=Qi($,_e,1),$=nh($,_e,1),_e=R$1(),$!==null&&(Ac($,1,_e),Dk($,_e));break}}$=$.return}}function Ti(_e,$,ht){var bt=_e.pingCache;bt!==null&&bt.delete($),$=R$1(),_e.pingedLanes|=_e.suspendedLanes&ht,Q===_e&&(Z&ht)===ht&&(T$3===4||T$3===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(_e,0):rk|=ht),Dk(_e,$)}function Yk(_e,$){$===0&&(_e.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var ht=R$1();_e=ih(_e,$),_e!==null&&(Ac(_e,$,ht),Dk(_e,ht))}function uj(_e){var $=_e.memoizedState,ht=0;$!==null&&(ht=$.retryLane),Yk(_e,ht)}function bk(_e,$){var ht=0;switch(_e.tag){case 13:var bt=_e.stateNode,wt=_e.memoizedState;wt!==null&&(ht=wt.retryLane);break;case 19:bt=_e.stateNode;break;default:throw Error(p$4(314))}bt!==null&&bt.delete($),Yk(_e,ht)}var Vk;Vk=function(_e,$,ht){if(_e!==null)if(_e.memoizedProps!==$.pendingProps||Wf.current)dh=!0;else{if(!(_e.lanes&ht)&&!($.flags&128))return dh=!1,yj(_e,$,ht);dh=!!(_e.flags&131072)}else dh=!1,I$4&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var bt=$.type;ij(_e,$),_e=$.pendingProps;var wt=Yf($,H$2.current);ch($,ht),wt=Nh(null,$,bt,_e,wt,ht);var At=Sh();return $.flags|=1,typeof wt=="object"&&wt!==null&&typeof wt.render=="function"&&wt.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(bt)?(At=!0,cg($)):At=!1,$.memoizedState=wt.state!==null&&wt.state!==void 0?wt.state:null,kh($),wt.updater=Ei,$.stateNode=wt,wt._reactInternals=$,Ii($,bt,_e,ht),$=jj(null,$,bt,!0,At,ht)):($.tag=0,I$4&&At&&vg($),Xi(null,$,wt,ht),$=$.child),$;case 16:bt=$.elementType;e:{switch(ij(_e,$),_e=$.pendingProps,wt=bt._init,bt=wt(bt._payload),$.type=bt,wt=$.tag=Zk(bt),_e=Ci(bt,_e),wt){case 0:$=cj(null,$,bt,_e,ht);break e;case 1:$=hj(null,$,bt,_e,ht);break e;case 11:$=Yi(null,$,bt,_e,ht);break e;case 14:$=$i(null,$,bt,Ci(bt.type,_e),ht);break e}throw Error(p$4(306,bt,""))}return $;case 0:return bt=$.type,wt=$.pendingProps,wt=$.elementType===bt?wt:Ci(bt,wt),cj(_e,$,bt,wt,ht);case 1:return bt=$.type,wt=$.pendingProps,wt=$.elementType===bt?wt:Ci(bt,wt),hj(_e,$,bt,wt,ht);case 3:e:{if(kj($),_e===null)throw Error(p$4(387));bt=$.pendingProps,At=$.memoizedState,wt=At.element,lh(_e,$),qh($,bt,null,ht);var Ct=$.memoizedState;if(bt=Ct.element,At.isDehydrated)if(At={element:bt,isDehydrated:!1,cache:Ct.cache,pendingSuspenseBoundaries:Ct.pendingSuspenseBoundaries,transitions:Ct.transitions},$.updateQueue.baseState=At,$.memoizedState=At,$.flags&256){wt=Ji(Error(p$4(423)),$),$=lj(_e,$,bt,ht,wt);break e}else if(bt!==wt){wt=Ji(Error(p$4(424)),$),$=lj(_e,$,bt,ht,wt);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I$4=!0,zg=null,ht=Vg($,null,bt,ht),$.child=ht;ht;)ht.flags=ht.flags&-3|4096,ht=ht.sibling;else{if(Ig(),bt===wt){$=Zi(_e,$,ht);break e}Xi(_e,$,bt,ht)}$=$.child}return $;case 5:return Ah($),_e===null&&Eg($),bt=$.type,wt=$.pendingProps,At=_e!==null?_e.memoizedProps:null,Ct=wt.children,Ef(bt,wt)?Ct=null:At!==null&&Ef(bt,At)&&($.flags|=32),gj(_e,$),Xi(_e,$,Ct,ht),$.child;case 6:return _e===null&&Eg($),null;case 13:return oj(_e,$,ht);case 4:return yh($,$.stateNode.containerInfo),bt=$.pendingProps,_e===null?$.child=Ug($,null,bt,ht):Xi(_e,$,bt,ht),$.child;case 11:return bt=$.type,wt=$.pendingProps,wt=$.elementType===bt?wt:Ci(bt,wt),Yi(_e,$,bt,wt,ht);case 7:return Xi(_e,$,$.pendingProps,ht),$.child;case 8:return Xi(_e,$,$.pendingProps.children,ht),$.child;case 12:return Xi(_e,$,$.pendingProps.children,ht),$.child;case 10:e:{if(bt=$.type._context,wt=$.pendingProps,At=$.memoizedProps,Ct=wt.value,G$2(Wg,bt._currentValue),bt._currentValue=Ct,At!==null)if(He(At.value,Ct)){if(At.children===wt.children&&!Wf.current){$=Zi(_e,$,ht);break e}}else for(At=$.child,At!==null&&(At.return=$);At!==null;){var St=At.dependencies;if(St!==null){Ct=At.child;for(var Ft=St.firstContext;Ft!==null;){if(Ft.context===bt){if(At.tag===1){Ft=mh(-1,ht&-ht),Ft.tag=2;var vt=At.updateQueue;if(vt!==null){vt=vt.shared;var Et=vt.pending;Et===null?Ft.next=Ft:(Ft.next=Et.next,Et.next=Ft),vt.pending=Ft}}At.lanes|=ht,Ft=At.alternate,Ft!==null&&(Ft.lanes|=ht),bh(At.return,ht,$),St.lanes|=ht;break}Ft=Ft.next}}else if(At.tag===10)Ct=At.type===$.type?null:At.child;else if(At.tag===18){if(Ct=At.return,Ct===null)throw Error(p$4(341));Ct.lanes|=ht,St=Ct.alternate,St!==null&&(St.lanes|=ht),bh(Ct,ht,$),Ct=At.sibling}else Ct=At.child;if(Ct!==null)Ct.return=At;else for(Ct=At;Ct!==null;){if(Ct===$){Ct=null;break}if(At=Ct.sibling,At!==null){At.return=Ct.return,Ct=At;break}Ct=Ct.return}At=Ct}Xi(_e,$,wt.children,ht),$=$.child}return $;case 9:return wt=$.type,bt=$.pendingProps.children,ch($,ht),wt=eh(wt),bt=bt(wt),$.flags|=1,Xi(_e,$,bt,ht),$.child;case 14:return bt=$.type,wt=Ci(bt,$.pendingProps),wt=Ci(bt.type,wt),$i(_e,$,bt,wt,ht);case 15:return bj(_e,$,$.type,$.pendingProps,ht);case 17:return bt=$.type,wt=$.pendingProps,wt=$.elementType===bt?wt:Ci(bt,wt),ij(_e,$),$.tag=1,Zf(bt)?(_e=!0,cg($)):_e=!1,ch($,ht),Gi($,bt,wt),Ii($,bt,wt,ht),jj(null,$,bt,!0,_e,ht);case 19:return xj(_e,$,ht);case 22:return dj(_e,$,ht)}throw Error(p$4(156,$.tag))};function Fk(_e,$){return ac(_e,$)}function $k(_e,$,ht,bt){this.tag=_e,this.key=ht,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=bt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,$,ht,bt){return new $k(_e,$,ht,bt)}function aj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function Zk(_e){if(typeof _e=="function")return aj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function Pg(_e,$){var ht=_e.alternate;return ht===null?(ht=Bg(_e.tag,$,_e.key,_e.mode),ht.elementType=_e.elementType,ht.type=_e.type,ht.stateNode=_e.stateNode,ht.alternate=_e,_e.alternate=ht):(ht.pendingProps=$,ht.type=_e.type,ht.flags=0,ht.subtreeFlags=0,ht.deletions=null),ht.flags=_e.flags&14680064,ht.childLanes=_e.childLanes,ht.lanes=_e.lanes,ht.child=_e.child,ht.memoizedProps=_e.memoizedProps,ht.memoizedState=_e.memoizedState,ht.updateQueue=_e.updateQueue,$=_e.dependencies,ht.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},ht.sibling=_e.sibling,ht.index=_e.index,ht.ref=_e.ref,ht}function Rg(_e,$,ht,bt,wt,At){var Ct=2;if(bt=_e,typeof _e=="function")aj(_e)&&(Ct=1);else if(typeof _e=="string")Ct=5;else e:switch(_e){case ya:return Tg(ht.children,wt,At,$);case za:Ct=8,wt|=8;break;case Aa:return _e=Bg(12,ht,$,wt|2),_e.elementType=Aa,_e.lanes=At,_e;case Ea:return _e=Bg(13,ht,$,wt),_e.elementType=Ea,_e.lanes=At,_e;case Fa:return _e=Bg(19,ht,$,wt),_e.elementType=Fa,_e.lanes=At,_e;case Ia:return pj(ht,wt,At,$);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:Ct=10;break e;case Ca:Ct=9;break e;case Da:Ct=11;break e;case Ga:Ct=14;break e;case Ha:Ct=16,bt=null;break e}throw Error(p$4(130,_e==null?_e:typeof _e,""))}return $=Bg(Ct,ht,$,wt),$.elementType=_e,$.type=bt,$.lanes=At,$}function Tg(_e,$,ht,bt){return _e=Bg(7,_e,bt,$),_e.lanes=ht,_e}function pj(_e,$,ht,bt){return _e=Bg(22,_e,bt,$),_e.elementType=Ia,_e.lanes=ht,_e.stateNode={isHidden:!1},_e}function Qg(_e,$,ht){return _e=Bg(6,_e,null,$),_e.lanes=ht,_e}function Sg(_e,$,ht){return $=Bg(4,_e.children!==null?_e.children:[],_e.key,$),$.lanes=ht,$.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},$}function al(_e,$,ht,bt,wt){this.tag=$,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=bt,this.onRecoverableError=wt,this.mutableSourceEagerHydrationData=null}function bl(_e,$,ht,bt,wt,At,Ct,St,Ft){return _e=new al(_e,$,ht,St,Ft),$===1?($=1,At===!0&&($|=8)):$=0,At=Bg(3,null,null,$),_e.current=At,At.stateNode=_e,At.memoizedState={element:bt,isDehydrated:ht,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(At),_e}function cl(_e,$,ht){var bt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:bt==null?null:""+bt,children:_e,containerInfo:$,implementation:ht}}function dl(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$4(170));var $=_e;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$4(171))}if(_e.tag===1){var ht=_e.type;if(Zf(ht))return bg(_e,ht,$)}return $}function el(_e,$,ht,bt,wt,At,Ct,St,Ft){return _e=bl(ht,bt,!0,_e,wt,At,Ct,St,Ft),_e.context=dl(null),ht=_e.current,bt=R$1(),wt=yi(ht),At=mh(bt,wt),At.callback=$??null,nh(ht,At,wt),_e.current.lanes=wt,Ac(_e,wt,bt),Dk(_e,bt),_e}function fl(_e,$,ht,bt){var wt=$.current,At=R$1(),Ct=yi(wt);return ht=dl(ht),$.context===null?$.context=ht:$.pendingContext=ht,$=mh(At,Ct),$.payload={element:_e},bt=bt===void 0?null:bt,bt!==null&&($.callback=bt),_e=nh(wt,$,Ct),_e!==null&&(gi(_e,wt,Ct,At),oh(_e,wt,Ct)),Ct}function gl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function hl(_e,$){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var ht=_e.retryLane;_e.retryLane=ht!==0&&ht<$?ht:$}}function il(_e,$){hl(_e,$),(_e=_e.alternate)&&hl(_e,$)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ll(_e){this._internalRoot=_e}ml.prototype.render=ll.prototype.render=function(_e){var $=this._internalRoot;if($===null)throw Error(p$4(409));fl(_e,$,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var $=_e.containerInfo;Rk(function(){fl(null,_e,null,null)}),$[uf]=null}};function ml(_e){this._internalRoot=_e}ml.prototype.unstable_scheduleHydration=function(_e){if(_e){var $=Hc();_e={blockedOn:null,target:_e,priority:$};for(var ht=0;ht<Qc.length&&$!==0&&$<Qc[ht].priority;ht++);Qc.splice(ht,0,_e),ht===0&&Vc(_e)}};function nl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_e,$,ht,bt,wt){if(wt){if(typeof bt=="function"){var At=bt;bt=function(){var vt=gl(Ct);At.call(vt)}}var Ct=el($,bt,_e,0,null,!1,!1,"",pl);return _e._reactRootContainer=Ct,_e[uf]=Ct.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(),Ct}for(;wt=_e.lastChild;)_e.removeChild(wt);if(typeof bt=="function"){var St=bt;bt=function(){var vt=gl(Ft);St.call(vt)}}var Ft=bl(_e,0,!1,null,null,!1,!1,"",pl);return _e._reactRootContainer=Ft,_e[uf]=Ft.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(function(){fl($,Ft,ht,bt)}),Ft}function rl(_e,$,ht,bt,wt){var At=ht._reactRootContainer;if(At){var Ct=At;if(typeof wt=="function"){var St=wt;wt=function(){var Ft=gl(Ct);St.call(Ft)}}fl($,Ct,_e,wt)}else Ct=ql(ht,$,_e,wt,bt);return gl(Ct)}Ec=function(_e){switch(_e.tag){case 3:var $=_e.stateNode;if($.current.memoizedState.isDehydrated){var ht=tc($.pendingLanes);ht!==0&&(Cc($,ht|1),Dk($,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var bt=ih(_e,1);if(bt!==null){var wt=R$1();gi(bt,_e,1,wt)}}),il(_e,1)}};Fc=function(_e){if(_e.tag===13){var $=ih(_e,134217728);if($!==null){var ht=R$1();gi($,_e,134217728,ht)}il(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var $=yi(_e),ht=ih(_e,$);if(ht!==null){var bt=R$1();gi(ht,_e,$,bt)}il(_e,$)}};Hc=function(){return C$1};Ic=function(_e,$){var ht=C$1;try{return C$1=_e,$()}finally{C$1=ht}};yb=function(_e,$,ht){switch($){case"input":if(bb(_e,ht),$=ht.name,ht.type==="radio"&&$!=null){for(ht=_e;ht.parentNode;)ht=ht.parentNode;for(ht=ht.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<ht.length;$++){var bt=ht[$];if(bt!==_e&&bt.form===_e.form){var wt=Db(bt);if(!wt)throw Error(p$4(90));Wa(bt),bb(bt,wt)}}}break;case"textarea":ib(_e,ht);break;case"select":$=ht.value,$!=null&&fb(_e,!!ht.multiple,$,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(_e,$){var ht=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl($))throw Error(p$4(200));return cl(_e,$,null,ht)};reactDom_production_min.createRoot=function(_e,$){if(!nl(_e))throw Error(p$4(299));var ht=!1,bt="",wt=kl;return $!=null&&($.unstable_strictMode===!0&&(ht=!0),$.identifierPrefix!==void 0&&(bt=$.identifierPrefix),$.onRecoverableError!==void 0&&(wt=$.onRecoverableError)),$=bl(_e,1,!1,null,null,ht,!1,bt,wt),_e[uf]=$.current,sf(_e.nodeType===8?_e.parentNode:_e),new ll($)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var $=_e._reactInternals;if($===void 0)throw typeof _e.render=="function"?Error(p$4(188)):(_e=Object.keys(_e).join(","),Error(p$4(268,_e)));return _e=Zb($),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Rk(_e)};reactDom_production_min.hydrate=function(_e,$,ht){if(!ol($))throw Error(p$4(200));return rl(null,_e,$,!0,ht)};reactDom_production_min.hydrateRoot=function(_e,$,ht){if(!nl(_e))throw Error(p$4(405));var bt=ht!=null&&ht.hydratedSources||null,wt=!1,At="",Ct=kl;if(ht!=null&&(ht.unstable_strictMode===!0&&(wt=!0),ht.identifierPrefix!==void 0&&(At=ht.identifierPrefix),ht.onRecoverableError!==void 0&&(Ct=ht.onRecoverableError)),$=el($,null,_e,1,ht??null,wt,!1,At,Ct),_e[uf]=$.current,sf(_e),bt)for(_e=0;_e<bt.length;_e++)ht=bt[_e],wt=ht._getVersion,wt=wt(ht._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[ht,wt]:$.mutableSourceEagerHydrationData.push(ht,wt);return new ml($)};reactDom_production_min.render=function(_e,$,ht){if(!ol($))throw Error(p$4(200));return rl(null,_e,$,!1,ht)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!ol(_e))throw Error(p$4(40));return _e._reactRootContainer?(Rk(function(){rl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,$,ht,bt){if(!ol(ht))throw Error(p$4(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$4(38));return rl(_e,$,ht,!1,bt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var bt in ht)Object.prototype.hasOwnProperty.call(ht,bt)&&(_e[bt]=ht[bt])}return _e},_extends$2.apply(this,arguments)}var Action;(function(_e){_e.Pop="POP",_e.Push="PUSH",_e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(_e){_e===void 0&&(_e={});function $(bt,wt){let{pathname:At,search:Ct,hash:St}=bt.location;return createLocation("",{pathname:At,search:Ct,hash:St},wt.state&&wt.state.usr||null,wt.state&&wt.state.key||"default")}function ht(bt,wt){return typeof wt=="string"?wt:createPath(wt)}return getUrlBasedHistory($,ht,null,_e)}function invariant$1(_e,$){if(_e===!1||_e===null||typeof _e>"u")throw new Error($)}function warning(_e,$){if(!_e){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_e,$){return{usr:_e.state,key:_e.key,idx:$}}function createLocation(_e,$,ht,bt){return ht===void 0&&(ht=null),_extends$2({pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:ht,key:$&&$.key||bt||createKey()})}function createPath(_e){let{pathname:$="/",search:ht="",hash:bt=""}=_e;return ht&&ht!=="?"&&($+=ht.charAt(0)==="?"?ht:"?"+ht),bt&&bt!=="#"&&($+=bt.charAt(0)==="#"?bt:"#"+bt),$}function parsePath(_e){let $={};if(_e){let ht=_e.indexOf("#");ht>=0&&($.hash=_e.substr(ht),_e=_e.substr(0,ht));let bt=_e.indexOf("?");bt>=0&&($.search=_e.substr(bt),_e=_e.substr(0,bt)),_e&&($.pathname=_e)}return $}function getUrlBasedHistory(_e,$,ht,bt){bt===void 0&&(bt={});let{window:wt=document.defaultView,v5Compat:At=!1}=bt,Ct=wt.history,St=Action.Pop,Ft=null,vt=Et();vt==null&&(vt=0,Ct.replaceState(_extends$2({},Ct.state,{idx:vt}),""));function Et(){return(Ct.state||{idx:null}).idx}function Mt(){St=Action.Pop;let jt=Et(),Rt=jt==null?null:jt-vt;vt=jt,Ft&&Ft({action:St,location:_t.location,delta:Rt})}function Pt(jt,Rt){St=Action.Push;let Nt=createLocation(_t.location,jt,Rt);vt=Et()+1;let Lt=getHistoryState(Nt,vt),kt=_t.createHref(Nt);try{Ct.pushState(Lt,"",kt)}catch(Bt){if(Bt instanceof DOMException&&Bt.name==="DataCloneError")throw Bt;wt.location.assign(kt)}At&&Ft&&Ft({action:St,location:_t.location,delta:1})}function xt(jt,Rt){St=Action.Replace;let Nt=createLocation(_t.location,jt,Rt);vt=Et();let Lt=getHistoryState(Nt,vt),kt=_t.createHref(Nt);Ct.replaceState(Lt,"",kt),At&&Ft&&Ft({action:St,location:_t.location,delta:0})}function $t(jt){let Rt=wt.location.origin!=="null"?wt.location.origin:wt.location.href,Nt=typeof jt=="string"?jt:createPath(jt);return Nt=Nt.replace(/ $/,"%20"),invariant$1(Rt,"No window.location.(origin|href) available to create URL for href: "+Nt),new URL(Nt,Rt)}let _t={get action(){return St},get location(){return _e(wt,Ct)},listen(jt){if(Ft)throw new Error("A history only accepts one active listener");return wt.addEventListener(PopStateEventType,Mt),Ft=jt,()=>{wt.removeEventListener(PopStateEventType,Mt),Ft=null}},createHref(jt){return $(wt,jt)},createURL:$t,encodeLocation(jt){let Rt=$t(jt);return{pathname:Rt.pathname,search:Rt.search,hash:Rt.hash}},push:Pt,replace:xt,go(jt){return Ct.go(jt)}};return _t}var ResultType;(function(_e){_e.data="data",_e.deferred="deferred",_e.redirect="redirect",_e.error="error"})(ResultType||(ResultType={}));function matchRoutes(_e,$,ht){ht===void 0&&(ht="/");let bt=typeof $=="string"?parsePath($):$,wt=stripBasename(bt.pathname||"/",ht);if(wt==null)return null;let At=flattenRoutes(_e);rankRouteBranches(At);let Ct=null;for(let St=0;Ct==null&&St<At.length;++St){let Ft=decodePath(wt);Ct=matchRouteBranch(At[St],Ft)}return Ct}function flattenRoutes(_e,$,ht,bt){$===void 0&&($=[]),ht===void 0&&(ht=[]),bt===void 0&&(bt="");let wt=(At,Ct,St)=>{let Ft={relativePath:St===void 0?At.path||"":St,caseSensitive:At.caseSensitive===!0,childrenIndex:Ct,route:At};Ft.relativePath.startsWith("/")&&(invariant$1(Ft.relativePath.startsWith(bt),'Absolute route path "'+Ft.relativePath+'" nested under path '+('"'+bt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),Ft.relativePath=Ft.relativePath.slice(bt.length));let vt=joinPaths([bt,Ft.relativePath]),Et=ht.concat(Ft);At.children&&At.children.length>0&&(invariant$1(At.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+vt+'".')),flattenRoutes(At.children,$,Et,vt)),!(At.path==null&&!At.index)&&$.push({path:vt,score:computeScore(vt,At.index),routesMeta:Et})};return _e.forEach((At,Ct)=>{var St;if(At.path===""||!((St=At.path)!=null&&St.includes("?")))wt(At,Ct);else for(let Ft of explodeOptionalSegments(At.path))wt(At,Ct,Ft)}),$}function explodeOptionalSegments(_e){let $=_e.split("/");if($.length===0)return[];let[ht,...bt]=$,wt=ht.endsWith("?"),At=ht.replace(/\?$/,"");if(bt.length===0)return wt?[At,""]:[At];let Ct=explodeOptionalSegments(bt.join("/")),St=[];return St.push(...Ct.map(Ft=>Ft===""?At:[At,Ft].join("/"))),wt&&St.push(...Ct),St.map(Ft=>_e.startsWith("/")&&Ft===""?"/":Ft)}function rankRouteBranches(_e){_e.sort(($,ht)=>$.score!==ht.score?ht.score-$.score:compareIndexes($.routesMeta.map(bt=>bt.childrenIndex),ht.routesMeta.map(bt=>bt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,$){let ht=_e.split("/"),bt=ht.length;return ht.some(isSplat)&&(bt+=splatPenalty),$&&(bt+=indexRouteValue),ht.filter(wt=>!isSplat(wt)).reduce((wt,At)=>wt+(paramRe.test(At)?dynamicSegmentValue:At===""?emptySegmentValue:staticSegmentValue),bt)}function compareIndexes(_e,$){return _e.length===$.length&&_e.slice(0,-1).every((bt,wt)=>bt===$[wt])?_e[_e.length-1]-$[$.length-1]:0}function matchRouteBranch(_e,$){let{routesMeta:ht}=_e,bt={},wt="/",At=[];for(let Ct=0;Ct<ht.length;++Ct){let St=ht[Ct],Ft=Ct===ht.length-1,vt=wt==="/"?$:$.slice(wt.length)||"/",Et=matchPath({path:St.relativePath,caseSensitive:St.caseSensitive,end:Ft},vt);if(!Et)return null;Object.assign(bt,Et.params);let Mt=St.route;At.push({params:bt,pathname:joinPaths([wt,Et.pathname]),pathnameBase:normalizePathname(joinPaths([wt,Et.pathnameBase])),route:Mt}),Et.pathnameBase!=="/"&&(wt=joinPaths([wt,Et.pathnameBase]))}return At}function matchPath(_e,$){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[ht,bt]=compilePath(_e.path,_e.caseSensitive,_e.end),wt=$.match(ht);if(!wt)return null;let At=wt[0],Ct=At.replace(/(.)\/+$/,"$1"),St=wt.slice(1);return{params:bt.reduce((vt,Et,Mt)=>{let{paramName:Pt,isOptional:xt}=Et;if(Pt==="*"){let _t=St[Mt]||"";Ct=At.slice(0,At.length-_t.length).replace(/(.)\/+$/,"$1")}const $t=St[Mt];return xt&&!$t?vt[Pt]=void 0:vt[Pt]=($t||"").replace(/%2F/g,"/"),vt},{}),pathname:At,pathnameBase:Ct,pattern:_e}}function compilePath(_e,$,ht){$===void 0&&($=!1),ht===void 0&&(ht=!0),warning(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),'Route path "'+_e+'" will be treated as if it were '+('"'+_e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_e.replace(/\*$/,"/*")+'".'));let bt=[],wt="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Ct,St,Ft)=>(bt.push({paramName:St,isOptional:Ft!=null}),Ft?"/?([^\\/]+)?":"/([^\\/]+)"));return _e.endsWith("*")?(bt.push({paramName:"*"}),wt+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ht?wt+="\\/*$":_e!==""&&_e!=="/"&&(wt+="(?:(?=\\/|$))"),[new RegExp(wt,$?void 0:"i"),bt]}function decodePath(_e){try{return _e.split("/").map($=>decodeURIComponent($).replace(/\//g,"%2F")).join("/")}catch($){return warning(!1,'The URL path "'+_e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+$+").")),_e}}function stripBasename(_e,$){if($==="/")return _e;if(!_e.toLowerCase().startsWith($.toLowerCase()))return null;let ht=$.endsWith("/")?$.length-1:$.length,bt=_e.charAt(ht);return bt&&bt!=="/"?null:_e.slice(ht)||"/"}function resolvePath(_e,$){$===void 0&&($="/");let{pathname:ht,search:bt="",hash:wt=""}=typeof _e=="string"?parsePath(_e):_e;return{pathname:ht?ht.startsWith("/")?ht:resolvePathname(ht,$):$,search:normalizeSearch(bt),hash:normalizeHash(wt)}}function resolvePathname(_e,$){let ht=$.replace(/\/+$/,"").split("/");return _e.split("/").forEach(wt=>{wt===".."?ht.length>1&&ht.pop():wt!=="."&&ht.push(wt)}),ht.length>1?ht.join("/"):"/"}function getInvalidPathError(_e,$,ht,bt){return"Cannot include a '"+_e+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(bt)+"].  Please separate it out to the ")+("`to."+ht+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(_e){return _e.filter(($,ht)=>ht===0||$.route.path&&$.route.path.length>0)}function getResolveToMatches(_e,$){let ht=getPathContributingMatches(_e);return $?ht.map((bt,wt)=>wt===_e.length-1?bt.pathname:bt.pathnameBase):ht.map(bt=>bt.pathnameBase)}function resolveTo(_e,$,ht,bt){bt===void 0&&(bt=!1);let wt;typeof _e=="string"?wt=parsePath(_e):(wt=_extends$2({},_e),invariant$1(!wt.pathname||!wt.pathname.includes("?"),getInvalidPathError("?","pathname","search",wt)),invariant$1(!wt.pathname||!wt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",wt)),invariant$1(!wt.search||!wt.search.includes("#"),getInvalidPathError("#","search","hash",wt)));let At=_e===""||wt.pathname==="",Ct=At?"/":wt.pathname,St;if(Ct==null)St=ht;else{let Mt=$.length-1;if(!bt&&Ct.startsWith("..")){let Pt=Ct.split("/");for(;Pt[0]==="..";)Pt.shift(),Mt-=1;wt.pathname=Pt.join("/")}St=Mt>=0?$[Mt]:"/"}let Ft=resolvePath(wt,St),vt=Ct&&Ct!=="/"&&Ct.endsWith("/"),Et=(At||Ct===".")&&ht.endsWith("/");return!Ft.pathname.endsWith("/")&&(vt||Et)&&(Ft.pathname+="/"),Ft}const joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_e=>!_e||_e==="?"?"":_e.startsWith("?")?_e:"?"+_e,normalizeHash=_e=>!_e||_e==="#"?"":_e.startsWith("#")?_e:"#"+_e;function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var bt in ht)Object.prototype.hasOwnProperty.call(ht,bt)&&(_e[bt]=ht[bt])}return _e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(_e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_e)}function useNavigate(){let{isDataRoute:_e}=reactExports.useContext(RouteContext);return _e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let _e=reactExports.useContext(DataRouterContext),{basename:$,future:ht,navigator:bt}=reactExports.useContext(NavigationContext),{matches:wt}=reactExports.useContext(RouteContext),{pathname:At}=useLocation(),Ct=JSON.stringify(getResolveToMatches(wt,ht.v7_relativeSplatPath)),St=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{St.current=!0}),reactExports.useCallback(function(vt,Et){if(Et===void 0&&(Et={}),!St.current)return;if(typeof vt=="number"){bt.go(vt);return}let Mt=resolveTo(vt,JSON.parse(Ct),At,Et.relative==="path");_e==null&&$!=="/"&&(Mt.pathname=Mt.pathname==="/"?$:joinPaths([$,Mt.pathname])),(Et.replace?bt.replace:bt.push)(Mt,Et.state,Et)},[$,bt,Ct,At,_e])}function useRoutes(_e,$){return useRoutesImpl(_e,$)}function useRoutesImpl(_e,$,ht,bt){useInRouterContext()||invariant$1(!1);let{navigator:wt}=reactExports.useContext(NavigationContext),{matches:At}=reactExports.useContext(RouteContext),Ct=At[At.length-1],St=Ct?Ct.params:{};Ct&&Ct.pathname;let Ft=Ct?Ct.pathnameBase:"/";Ct&&Ct.route;let vt=useLocation(),Et;if($){var Mt;let jt=typeof $=="string"?parsePath($):$;Ft==="/"||(Mt=jt.pathname)!=null&&Mt.startsWith(Ft)||invariant$1(!1),Et=jt}else Et=vt;let Pt=Et.pathname||"/",xt=Pt;if(Ft!=="/"){let jt=Ft.replace(/^\//,"").split("/");xt="/"+Pt.replace(/^\//,"").split("/").slice(jt.length).join("/")}let $t=matchRoutes(_e,{pathname:xt}),_t=_renderMatches($t&&$t.map(jt=>Object.assign({},jt,{params:Object.assign({},St,jt.params),pathname:joinPaths([Ft,wt.encodeLocation?wt.encodeLocation(jt.pathname).pathname:jt.pathname]),pathnameBase:jt.pathnameBase==="/"?Ft:joinPaths([Ft,wt.encodeLocation?wt.encodeLocation(jt.pathnameBase).pathname:jt.pathnameBase])})),At,ht,bt);return $&&_t?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},Et),navigationType:Action.Pop}},_t):_t}function DefaultErrorComponent(){let _e=useRouteError(),$=isRouteErrorResponse(_e)?_e.status+" "+_e.statusText:_e instanceof Error?_e.message:JSON.stringify(_e),ht=_e instanceof Error?_e.stack:null,wt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$),ht?reactExports.createElement("pre",{style:wt},ht):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,ht){return ht.location!==$.location||ht.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:ht.error,location:ht.location,revalidation:$.revalidation||ht.revalidation}}componentDidCatch($,ht){console.error("React Router caught the following error during render",$,ht)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_e){let{routeContext:$,match:ht,children:bt}=_e,wt=reactExports.useContext(DataRouterContext);return wt&&wt.static&&wt.staticContext&&(ht.route.errorElement||ht.route.ErrorBoundary)&&(wt.staticContext._deepestRenderedBoundaryId=ht.route.id),reactExports.createElement(RouteContext.Provider,{value:$},bt)}function _renderMatches(_e,$,ht,bt){var wt;if($===void 0&&($=[]),ht===void 0&&(ht=null),bt===void 0&&(bt=null),_e==null){var At;if((At=ht)!=null&&At.errors)_e=ht.matches;else return null}let Ct=_e,St=(wt=ht)==null?void 0:wt.errors;if(St!=null){let Et=Ct.findIndex(Mt=>Mt.route.id&&(St==null?void 0:St[Mt.route.id])!==void 0);Et>=0||invariant$1(!1),Ct=Ct.slice(0,Math.min(Ct.length,Et+1))}let Ft=!1,vt=-1;if(ht&&bt&&bt.v7_partialHydration)for(let Et=0;Et<Ct.length;Et++){let Mt=Ct[Et];if((Mt.route.HydrateFallback||Mt.route.hydrateFallbackElement)&&(vt=Et),Mt.route.id){let{loaderData:Pt,errors:xt}=ht,$t=Mt.route.loader&&Pt[Mt.route.id]===void 0&&(!xt||xt[Mt.route.id]===void 0);if(Mt.route.lazy||$t){Ft=!0,vt>=0?Ct=Ct.slice(0,vt+1):Ct=[Ct[0]];break}}}return Ct.reduceRight((Et,Mt,Pt)=>{let xt,$t=!1,_t=null,jt=null;ht&&(xt=St&&Mt.route.id?St[Mt.route.id]:void 0,_t=Mt.route.errorElement||defaultErrorElement,Ft&&(vt<0&&Pt===0?($t=!0,jt=null):vt===Pt&&($t=!0,jt=Mt.route.hydrateFallbackElement||null)));let Rt=$.concat(Ct.slice(0,Pt+1)),Nt=()=>{let Lt;return xt?Lt=_t:$t?Lt=jt:Mt.route.Component?Lt=reactExports.createElement(Mt.route.Component,null):Mt.route.element?Lt=Mt.route.element:Lt=Et,reactExports.createElement(RenderedRoute,{match:Mt,routeContext:{outlet:Et,matches:Rt,isDataRoute:ht!=null},children:Lt})};return ht&&(Mt.route.ErrorBoundary||Mt.route.errorElement||Pt===0)?reactExports.createElement(RenderErrorBoundary,{location:ht.location,revalidation:ht.revalidation,component:_t,error:xt,children:Nt(),routeContext:{outlet:null,matches:Rt,isDataRoute:!0}}):Nt()},null)}var DataRouterHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseLoaderData="useLoaderData",_e.UseActionData="useActionData",_e.UseRouteError="useRouteError",_e.UseNavigation="useNavigation",_e.UseRouteLoaderData="useRouteLoaderData",_e.UseMatches="useMatches",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e.UseRouteId="useRouteId",_e}(DataRouterStateHook$1||{});function useDataRouterContext(_e){let $=reactExports.useContext(DataRouterContext);return $||invariant$1(!1),$}function useDataRouterState(_e){let $=reactExports.useContext(DataRouterStateContext);return $||invariant$1(!1),$}function useRouteContext(_e){let $=reactExports.useContext(RouteContext);return $||invariant$1(!1),$}function useCurrentRouteId(_e){let $=useRouteContext(),ht=$.matches[$.matches.length-1];return ht.route.id||invariant$1(!1),ht.route.id}function useRouteError(){var _e;let $=reactExports.useContext(RouteErrorContext),ht=useDataRouterState(DataRouterStateHook$1.UseRouteError),bt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return $!==void 0?$:(_e=ht.errors)==null?void 0:_e[bt]}function useNavigateStable(){let{router:_e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),$=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),ht=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{ht.current=!0}),reactExports.useCallback(function(wt,At){At===void 0&&(At={}),ht.current&&(typeof wt=="number"?_e.navigate(wt):_e.navigate(wt,_extends$1({fromRouteId:$},At)))},[_e,$])}function Route(_e){invariant$1(!1)}function Router(_e){let{basename:$="/",children:ht=null,location:bt,navigationType:wt=Action.Pop,navigator:At,static:Ct=!1,future:St}=_e;useInRouterContext()&&invariant$1(!1);let Ft=$.replace(/^\/*/,"/"),vt=reactExports.useMemo(()=>({basename:Ft,navigator:At,static:Ct,future:_extends$1({v7_relativeSplatPath:!1},St)}),[Ft,St,At,Ct]);typeof bt=="string"&&(bt=parsePath(bt));let{pathname:Et="/",search:Mt="",hash:Pt="",state:xt=null,key:$t="default"}=bt,_t=reactExports.useMemo(()=>{let jt=stripBasename(Et,Ft);return jt==null?null:{location:{pathname:jt,search:Mt,hash:Pt,state:xt,key:$t},navigationType:wt}},[Ft,Et,Mt,Pt,xt,$t,wt]);return _t==null?null:reactExports.createElement(NavigationContext.Provider,{value:vt},reactExports.createElement(LocationContext.Provider,{children:ht,value:_t}))}function Routes(_e){let{children:$,location:ht}=_e;return useRoutes(createRoutesFromChildren($),ht)}new Promise(()=>{});function createRoutesFromChildren(_e,$){$===void 0&&($=[]);let ht=[];return reactExports.Children.forEach(_e,(bt,wt)=>{if(!reactExports.isValidElement(bt))return;let At=[...$,wt];if(bt.type===reactExports.Fragment){ht.push.apply(ht,createRoutesFromChildren(bt.props.children,At));return}bt.type!==Route&&invariant$1(!1),!bt.props.index||!bt.props.children||invariant$1(!1);let Ct={id:bt.props.id||At.join("-"),caseSensitive:bt.props.caseSensitive,element:bt.props.element,Component:bt.props.Component,index:bt.props.index,path:bt.props.path,loader:bt.props.loader,action:bt.props.action,errorElement:bt.props.errorElement,ErrorBoundary:bt.props.ErrorBoundary,hasErrorBoundary:bt.props.ErrorBoundary!=null||bt.props.errorElement!=null,shouldRevalidate:bt.props.shouldRevalidate,handle:bt.props.handle,lazy:bt.props.lazy};bt.props.children&&(Ct.children=createRoutesFromChildren(bt.props.children,At)),ht.push(Ct)}),ht}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=t$4[START_TRANSITION];function BrowserRouter(_e){let{basename:$,children:ht,future:bt,window:wt}=_e,At=reactExports.useRef();At.current==null&&(At.current=createBrowserHistory({window:wt,v5Compat:!0}));let Ct=At.current,[St,Ft]=reactExports.useState({action:Ct.action,location:Ct.location}),{v7_startTransition:vt}=bt||{},Et=reactExports.useCallback(Mt=>{vt&&startTransitionImpl?startTransitionImpl(()=>Ft(Mt)):Ft(Mt)},[Ft,vt]);return reactExports.useLayoutEffect(()=>Ct.listen(Et),[Ct,Et]),reactExports.createElement(Router,{basename:$,children:ht,location:St.location,navigationType:St.action,navigator:Ct,future:bt})}var DataRouterHook;(function(_e){_e.UseScrollRestoration="useScrollRestoration",_e.UseSubmit="useSubmit",_e.UseSubmitFetcher="useSubmitFetcher",_e.UseFetcher="useFetcher",_e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_e){_e.UseFetcher="useFetcher",_e.UseFetchers="useFetchers",_e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(_e){const $=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{$.current=_e},[_e]),reactExports.useCallback((...ht)=>{const bt=$.current;return bt==null?void 0:bt(...ht)},[])}const $431fbd86ca7dc216$export$b204af158042fbac=_e=>{var $;return($=_e==null?void 0:_e.ownerDocument)!==null&&$!==void 0?$:document},$431fbd86ca7dc216$export$f21a1ffae260145a=_e=>_e&&"window"in _e&&_e.window===_e?_e:$431fbd86ca7dc216$export$b204af158042fbac(_e).defaultView||window;function $c87311424ea30a05$var$testUserAgent(_e){var $;return typeof window>"u"||window.navigator==null?!1:(($=window.navigator.userAgentData)===null||$===void 0?void 0:$.brands.some(ht=>_e.test(ht.brand)))||_e.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(_e){var $;return typeof window<"u"&&window.navigator!=null?_e.test((($=window.navigator.userAgentData)===null||$===void 0?void 0:$.platform)||window.navigator.platform):!1}function $c87311424ea30a05$export$9ac100e40613ea10(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}function $c87311424ea30a05$export$a11b0059900ceec8(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}function $6a7db85432448f7f$export$60278871457622de(_e){return _e.mozInputSource===0&&_e.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&_e.pointerType?_e.type==="click"&&_e.buttons===1:_e.detail===0&&!_e.pointerType}class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor($,ht){this.nativeEvent=ht,this.target=ht.target,this.currentTarget=ht.currentTarget,this.relatedTarget=ht.relatedTarget,this.bubbles=ht.bubbles,this.cancelable=ht.cancelable,this.defaultPrevented=ht.defaultPrevented,this.eventPhase=ht.eventPhase,this.isTrusted=ht.isTrusted,this.timeStamp=ht.timeStamp,this.type=$}}function $8a9cb279dc87e130$export$715c682d09d639cc(_e){let $=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const bt=$.current;return()=>{bt.observer&&(bt.observer.disconnect(),bt.observer=null)}},[]);let ht=$8ae05eaa5c114e9c$export$7f54fc3180508a52(bt=>{_e==null||_e(bt)});return reactExports.useCallback(bt=>{if(bt.target instanceof HTMLButtonElement||bt.target instanceof HTMLInputElement||bt.target instanceof HTMLTextAreaElement||bt.target instanceof HTMLSelectElement){$.current.isFocused=!0;let wt=bt.target,At=Ct=>{$.current.isFocused=!1,wt.disabled&&ht(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",Ct)),$.current.observer&&($.current.observer.disconnect(),$.current.observer=null)};wt.addEventListener("focusout",At,{once:!0}),$.current.observer=new MutationObserver(()=>{if($.current.isFocused&&wt.disabled){var Ct;(Ct=$.current.observer)===null||Ct===void 0||Ct.disconnect();let St=wt===document.activeElement?null:document.activeElement;wt.dispatchEvent(new FocusEvent("blur",{relatedTarget:St})),wt.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:St}))}}),$.current.observer.observe(wt,{attributes:!0,attributeFilter:["disabled"]})}},[ht])}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(_e){let{isDisabled:$,onFocus:ht,onBlur:bt,onFocusChange:wt}=_e;const At=reactExports.useCallback(Ft=>{if(Ft.target===Ft.currentTarget)return bt&&bt(Ft),wt&&wt(!1),!0},[bt,wt]),Ct=$8a9cb279dc87e130$export$715c682d09d639cc(At),St=reactExports.useCallback(Ft=>{const vt=$431fbd86ca7dc216$export$b204af158042fbac(Ft.target);Ft.target===Ft.currentTarget&&vt.activeElement===Ft.target&&(ht&&ht(Ft),wt&&wt(!0),Ct(Ft))},[wt,ht,Ct]);return{focusProps:{onFocus:!$&&(ht||wt||bt)?St:void 0,onBlur:!$&&(bt||wt)?At:void 0}}}let $507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(_e,$){for(let ht of $507fabe10e71c6fb$var$changeHandlers)ht(_e,$)}function $507fabe10e71c6fb$var$isValidKey(_e){return!(_e.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&_e.altKey||_e.ctrlKey||_e.key==="Control"||_e.key==="Shift"||_e.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(_e){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(_e)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",_e))}function $507fabe10e71c6fb$var$handlePointerEvent(_e){$507fabe10e71c6fb$var$currentModality="pointer",(_e.type==="mousedown"||_e.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",_e))}function $507fabe10e71c6fb$var$handleClickEvent(_e){$6a7db85432448f7f$export$60278871457622de(_e)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(_e){_e.target===window||_e.target===document||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",_e)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(_e){if(typeof window>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(_e)))return;const $=$431fbd86ca7dc216$export$f21a1ffae260145a(_e),ht=$431fbd86ca7dc216$export$b204af158042fbac(_e);let bt=$.HTMLElement.prototype.focus;$.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,bt.apply(this,arguments)},ht.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),ht.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),ht.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),$.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),$.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(ht.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(ht.addEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(_e)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set($,{focus:bt})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(_e,$)=>{const ht=$431fbd86ca7dc216$export$f21a1ffae260145a(_e),bt=$431fbd86ca7dc216$export$b204af158042fbac(_e);$&&bt.removeEventListener("DOMContentLoaded",$),$507fabe10e71c6fb$export$d90243b58daecda7.has(ht)&&(ht.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(ht).focus,bt.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),bt.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),bt.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),ht.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),ht.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(bt.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(bt.removeEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.removeEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.removeEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(ht))};function $507fabe10e71c6fb$export$2f1888112f558a7d(_e){const $=$431fbd86ca7dc216$export$b204af158042fbac(_e);let ht;return $.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(_e):(ht=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(_e)},$.addEventListener("DOMContentLoaded",ht)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(_e,ht)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(_e,$,ht){var bt;const wt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLInputElement:HTMLInputElement,At=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLTextAreaElement:HTMLTextAreaElement,Ct=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLElement:HTMLElement,St=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).KeyboardEvent:KeyboardEvent;return _e=_e||(ht==null?void 0:ht.target)instanceof wt&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(ht==null||(bt=ht.target)===null||bt===void 0?void 0:bt.type)||(ht==null?void 0:ht.target)instanceof At||(ht==null?void 0:ht.target)instanceof Ct&&(ht==null?void 0:ht.target.isContentEditable),!(_e&&$==="keyboard"&&ht instanceof St&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[ht.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(_e,$,ht){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let bt=(wt,At)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(ht!=null&&ht.isTextInput),wt,At)&&_e($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(bt),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(bt)}},$)}function $9ab94262bd0047c7$export$420e68273165f4ec(_e){let{isDisabled:$,onBlurWithin:ht,onFocusWithin:bt,onFocusWithinChange:wt}=_e,At=reactExports.useRef({isFocusWithin:!1}),Ct=reactExports.useCallback(vt=>{At.current.isFocusWithin&&!vt.currentTarget.contains(vt.relatedTarget)&&(At.current.isFocusWithin=!1,ht&&ht(vt),wt&&wt(!1))},[ht,wt,At]),St=$8a9cb279dc87e130$export$715c682d09d639cc(Ct),Ft=reactExports.useCallback(vt=>{!At.current.isFocusWithin&&document.activeElement===vt.target&&(bt&&bt(vt),wt&&wt(!0),At.current.isFocusWithin=!0,St(vt))},[bt,wt,St]);return $?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:Ft,onBlur:Ct}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(_e){_e.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.addEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.removeEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents))}}function $6179b936705e76d3$export$ae780daf29e6d456(_e){let{onHoverStart:$,onHoverChange:ht,onHoverEnd:bt,isDisabled:wt}=_e,[At,Ct]=reactExports.useState(!1),St=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{hoverProps:Ft,triggerHoverEnd:vt}=reactExports.useMemo(()=>{let Et=(xt,$t)=>{if(St.pointerType=$t,wt||$t==="touch"||St.isHovered||!xt.currentTarget.contains(xt.target))return;St.isHovered=!0;let _t=xt.currentTarget;St.target=_t,$&&$({type:"hoverstart",target:_t,pointerType:$t}),ht&&ht(!0),Ct(!0)},Mt=(xt,$t)=>{if(St.pointerType="",St.target=null,$t==="touch"||!St.isHovered)return;St.isHovered=!1;let _t=xt.currentTarget;bt&&bt({type:"hoverend",target:_t,pointerType:$t}),ht&&ht(!1),Ct(!1)},Pt={};return typeof PointerEvent<"u"?(Pt.onPointerEnter=xt=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&xt.pointerType==="mouse"||Et(xt,xt.pointerType)},Pt.onPointerLeave=xt=>{!wt&&xt.currentTarget.contains(xt.target)&&Mt(xt,xt.pointerType)}):(Pt.onTouchStart=()=>{St.ignoreEmulatedMouseEvents=!0},Pt.onMouseEnter=xt=>{!St.ignoreEmulatedMouseEvents&&!$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&Et(xt,"mouse"),St.ignoreEmulatedMouseEvents=!1},Pt.onMouseLeave=xt=>{!wt&&xt.currentTarget.contains(xt.target)&&Mt(xt,"mouse")}),{hoverProps:Pt,triggerHoverEnd:Mt}},[$,ht,bt,wt,St]);return reactExports.useEffect(()=>{wt&&vt({currentTarget:St.target},St.pointerType)},[wt]),{hoverProps:Ft,isHovered:At}}function $f7dceffc5ad7768b$export$4e328f61c538687f(_e={}){let{autoFocus:$=!1,isTextInput:ht,within:bt}=_e,wt=reactExports.useRef({isFocused:!1,isFocusVisible:$||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[At,Ct]=reactExports.useState(!1),[St,Ft]=reactExports.useState(()=>wt.current.isFocused&&wt.current.isFocusVisible),vt=reactExports.useCallback(()=>Ft(wt.current.isFocused&&wt.current.isFocusVisible),[]),Et=reactExports.useCallback(xt=>{wt.current.isFocused=xt,Ct(xt),vt()},[vt]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(xt=>{wt.current.isFocusVisible=xt,vt()},[],{isTextInput:ht});let{focusProps:Mt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:bt,onFocusChange:Et}),{focusWithinProps:Pt}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!bt,onFocusWithinChange:Et});return{isFocused:At,isFocusVisible:St,focusProps:bt?Pt:Mt}}var i$5=Object.defineProperty,d$3=(_e,$,ht)=>$ in _e?i$5(_e,$,{enumerable:!0,configurable:!0,writable:!0,value:ht}):_e[$]=ht,r$2=(_e,$,ht)=>(d$3(_e,typeof $!="symbol"?$+"":$,ht),ht);let o$5=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set($){this.current!==$&&(this.handoffState="pending",this.currentId=0,this.current=$)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$5=new o$5;function u$7(_e){return s$5.isServer?null:_e instanceof Node?_e.ownerDocument:_e!=null&&_e.hasOwnProperty("current")&&_e.current instanceof Node?_e.current.ownerDocument:document}function t$3(_e){typeof queueMicrotask=="function"?queueMicrotask(_e):Promise.resolve().then(_e).catch($=>setTimeout(()=>{throw $}))}function o$4(){let _e=[],$={addEventListener(ht,bt,wt,At){return ht.addEventListener(bt,wt,At),$.add(()=>ht.removeEventListener(bt,wt,At))},requestAnimationFrame(...ht){let bt=requestAnimationFrame(...ht);return $.add(()=>cancelAnimationFrame(bt))},nextFrame(...ht){return $.requestAnimationFrame(()=>$.requestAnimationFrame(...ht))},setTimeout(...ht){let bt=setTimeout(...ht);return $.add(()=>clearTimeout(bt))},microTask(...ht){let bt={current:!0};return t$3(()=>{bt.current&&ht[0]()}),$.add(()=>{bt.current=!1})},style(ht,bt,wt){let At=ht.style.getPropertyValue(bt);return Object.assign(ht.style,{[bt]:wt}),this.add(()=>{Object.assign(ht.style,{[bt]:At})})},group(ht){let bt=o$4();return ht(bt),this.add(()=>bt.dispose())},add(ht){return _e.includes(ht)||_e.push(ht),()=>{let bt=_e.indexOf(ht);if(bt>=0)for(let wt of _e.splice(bt,1))wt()}},dispose(){for(let ht of _e.splice(0))ht()}};return $}function p$3(){let[_e]=reactExports.useState(o$4);return reactExports.useEffect(()=>()=>_e.dispose(),[_e]),_e}let n$3=(_e,$)=>{s$5.isServer?reactExports.useEffect(_e,$):reactExports.useLayoutEffect(_e,$)};function s$4(_e){let $=reactExports.useRef(_e);return n$3(()=>{$.current=_e},[_e]),$}let o$3=function(_e){let $=s$4(_e);return React.useCallback((...ht)=>$.current(...ht),[$])};function E(_e){let $=_e.width/2,ht=_e.height/2;return{top:_e.clientY-ht,right:_e.clientX+$,bottom:_e.clientY+ht,left:_e.clientX-$}}function P$2(_e,$){return!(!_e||!$||_e.right<$.left||_e.left>$.right||_e.bottom<$.top||_e.top>$.bottom)}function w$1({disabled:_e=!1}={}){let $=reactExports.useRef(null),[ht,bt]=reactExports.useState(!1),wt=p$3(),At=o$3(()=>{$.current=null,bt(!1),wt.dispose()}),Ct=o$3(St=>{if(wt.dispose(),$.current===null){$.current=St.currentTarget,bt(!0);{let Ft=u$7(St.currentTarget);wt.addEventListener(Ft,"pointerup",At,!1),wt.addEventListener(Ft,"pointermove",vt=>{if($.current){let Et=E(vt);bt(P$2(Et,$.current.getBoundingClientRect()))}},!1),wt.addEventListener(Ft,"pointercancel",At,!1)}}});return{pressed:ht,pressProps:_e?{}:{onPointerDown:Ct,onPointerUp:At,onClick:At}}}let e$2=reactExports.createContext(void 0);function a$7(){return reactExports.useContext(e$2)}function t$2(..._e){return Array.from(new Set(_e.flatMap($=>typeof $=="string"?$.split(" "):[]))).filter(Boolean).join(" ")}function u$6(_e,$,...ht){if(_e in $){let wt=$[_e];return typeof wt=="function"?wt(...ht):wt}let bt=new Error(`Tried to handle "${_e}" but there is no handler defined. Only defined handlers are: ${Object.keys($).map(wt=>`"${wt}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(bt,u$6),bt}var O$1=(_e=>(_e[_e.None=0]="None",_e[_e.RenderStrategy=1]="RenderStrategy",_e[_e.Static=2]="Static",_e))(O$1||{}),M$2=(_e=>(_e[_e.Unmount=0]="Unmount",_e[_e.Hidden=1]="Hidden",_e))(M$2||{});function H$1({ourProps:_e,theirProps:$,slot:ht,defaultTag:bt,features:wt,visible:At=!0,name:Ct,mergeRefs:St}){St=St??A$2;let Ft=N$2($,_e);if(At)return b$1(Ft,ht,bt,Ct,St);let vt=wt??0;if(vt&2){let{static:Et=!1,...Mt}=Ft;if(Et)return b$1(Mt,ht,bt,Ct,St)}if(vt&1){let{unmount:Et=!0,...Mt}=Ft;return u$6(Et?0:1,{0(){return null},1(){return b$1({...Mt,hidden:!0,style:{display:"none"}},ht,bt,Ct,St)}})}return b$1(Ft,ht,bt,Ct,St)}function b$1(_e,$={},ht,bt,wt){let{as:At=ht,children:Ct,refName:St="ref",...Ft}=h$2(_e,["unmount","static"]),vt=_e.ref!==void 0?{[St]:_e.ref}:{},Et=typeof Ct=="function"?Ct($):Ct;"className"in Ft&&Ft.className&&typeof Ft.className=="function"&&(Ft.className=Ft.className($)),Ft["aria-labelledby"]&&Ft["aria-labelledby"]===Ft.id&&(Ft["aria-labelledby"]=void 0);let Mt={};if($){let Pt=!1,xt=[];for(let[$t,_t]of Object.entries($))typeof _t=="boolean"&&(Pt=!0),_t===!0&&xt.push($t.replace(/([A-Z])/g,jt=>`-${jt.toLowerCase()}`));if(Pt){Mt["data-headlessui-state"]=xt.join(" ");for(let $t of xt)Mt[`data-${$t}`]=""}}if(At===reactExports.Fragment&&(Object.keys(m$3(Ft)).length>0||Object.keys(m$3(Mt)).length>0))if(!reactExports.isValidElement(Et)||Array.isArray(Et)&&Et.length>1){if(Object.keys(m$3(Ft)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${bt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$3(Ft)).concat(Object.keys(m$3(Mt))).map(Pt=>`  - ${Pt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(Pt=>`  - ${Pt}`).join(`
`)].join(`
`))}else{let Pt=Et.props,xt=Pt==null?void 0:Pt.className,$t=typeof xt=="function"?(...Rt)=>t$2(xt(...Rt),Ft.className):t$2(xt,Ft.className),_t=$t?{className:$t}:{},jt=N$2(Et.props,m$3(h$2(Ft,["ref"])));for(let Rt in Mt)Rt in jt&&delete Mt[Rt];return reactExports.cloneElement(Et,Object.assign({},jt,Mt,vt,{ref:wt(Et.ref,vt.ref)},_t))}return reactExports.createElement(At,Object.assign({},h$2(Ft,["ref"]),At!==reactExports.Fragment&&vt,At!==reactExports.Fragment&&Mt),Et)}function A$2(..._e){return _e.every($=>$==null)?void 0:$=>{for(let ht of _e)ht!=null&&(typeof ht=="function"?ht($):ht.current=$)}}function N$2(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let $={},ht={};for(let bt of _e)for(let wt in bt)wt.startsWith("on")&&typeof bt[wt]=="function"?(ht[wt]!=null||(ht[wt]=[]),ht[wt].push(bt[wt])):$[wt]=bt[wt];if($.disabled||$["aria-disabled"])for(let bt in ht)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(bt)&&(ht[bt]=[wt=>{var At;return(At=wt==null?void 0:wt.preventDefault)==null?void 0:At.call(wt)}]);for(let bt in ht)Object.assign($,{[bt](wt,...At){let Ct=ht[bt];for(let St of Ct){if((wt instanceof Event||(wt==null?void 0:wt.nativeEvent)instanceof Event)&&wt.defaultPrevented)return;St(wt,...At)}}});return $}function D$3(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let $={},ht={};for(let bt of _e)for(let wt in bt)wt.startsWith("on")&&typeof bt[wt]=="function"?(ht[wt]!=null||(ht[wt]=[]),ht[wt].push(bt[wt])):$[wt]=bt[wt];for(let bt in ht)Object.assign($,{[bt](...wt){let At=ht[bt];for(let Ct of At)Ct==null||Ct(...wt)}});return $}function I$3(_e){var $;return Object.assign(reactExports.forwardRef(_e),{displayName:($=_e.displayName)!=null?$:_e.name})}function m$3(_e){let $=Object.assign({},_e);for(let ht in $)$[ht]===void 0&&delete $[ht];return $}function h$2(_e,$=[]){let ht=Object.assign({},_e);for(let bt of $)bt in ht&&delete ht[bt];return ht}let e$1=reactExports.createContext(void 0);function u$5(){return reactExports.useContext(e$1)}function r$1(_e){let $=_e.parentElement,ht=null;for(;$&&!($ instanceof HTMLFieldSetElement);)$ instanceof HTMLLegendElement&&(ht=$),$=$.parentElement;let bt=($==null?void 0:$.getAttribute("disabled"))==="";return bt&&i$4(ht)?!1:bt}function i$4(_e){if(!_e)return!1;let $=_e.previousElementSibling;for(;$!==null;){if($ instanceof HTMLLegendElement)return!1;$=$.previousElementSibling}return!0}let u$4=Symbol();function T$2(_e,$=!0){return Object.assign(_e,{[u$4]:$})}function y$4(..._e){let $=reactExports.useRef(_e);reactExports.useEffect(()=>{$.current=_e},[_e]);let ht=o$3(bt=>{for(let wt of $.current)wt!=null&&(typeof wt=="function"?wt(bt):wt.current=bt)});return _e.every(bt=>bt==null||(bt==null?void 0:bt[u$4]))?void 0:ht}let a$6=reactExports.createContext(null);a$6.displayName="DescriptionContext";function f$5(){let _e=reactExports.useContext(a$6);if(_e===null){let $=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,f$5),$}return _e}function U$1(){let[_e,$]=reactExports.useState([]);return[_e.length>0?_e.join(" "):void 0,reactExports.useMemo(()=>function(ht){let bt=o$3(At=>($(Ct=>[...Ct,At]),()=>$(Ct=>{let St=Ct.slice(),Ft=St.indexOf(At);return Ft!==-1&&St.splice(Ft,1),St}))),wt=reactExports.useMemo(()=>({register:bt,slot:ht.slot,name:ht.name,props:ht.props,value:ht.value}),[bt,ht.slot,ht.name,ht.props,ht.value]);return React.createElement(a$6.Provider,{value:wt},ht.children)},[$])]}let S$3="p";function C(_e,$){let ht=reactExports.useId(),bt=a$7(),{id:wt=`headlessui-description-${ht}`,...At}=_e,Ct=f$5(),St=y$4($);n$3(()=>Ct.register(wt),[wt,Ct.register]);let Ft=bt||!1,vt=reactExports.useMemo(()=>({...Ct.slot,disabled:Ft}),[Ct.slot,Ft]),Et={ref:St,...Ct.props,id:wt};return H$1({ourProps:Et,theirProps:At,slot:vt,defaultTag:S$3,name:Ct.name||"Description"})}let _$1=I$3(C);Object.assign(_$1,{});var o$2=(_e=>(_e.Space=" ",_e.Enter="Enter",_e.Escape="Escape",_e.Backspace="Backspace",_e.Delete="Delete",_e.ArrowLeft="ArrowLeft",_e.ArrowUp="ArrowUp",_e.ArrowRight="ArrowRight",_e.ArrowDown="ArrowDown",_e.Home="Home",_e.End="End",_e.PageUp="PageUp",_e.PageDown="PageDown",_e.Tab="Tab",_e))(o$2||{});let c$4=reactExports.createContext(null);c$4.displayName="LabelContext";function P$1(){let _e=reactExports.useContext(c$4);if(_e===null){let $=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,P$1),$}return _e}function I$2(_e){var $,ht,bt;let wt=(ht=($=reactExports.useContext(c$4))==null?void 0:$.value)!=null?ht:void 0;return((bt=void 0)!=null?bt:0)>0?[wt,..._e].filter(Boolean).join(" "):wt}function z({inherit:_e=!1}={}){let $=I$2(),[ht,bt]=reactExports.useState([]),wt=_e?[$,...ht].filter(Boolean):ht;return[wt.length>0?wt.join(" "):void 0,reactExports.useMemo(()=>function(At){let Ct=o$3(Ft=>(bt(vt=>[...vt,Ft]),()=>bt(vt=>{let Et=vt.slice(),Mt=Et.indexOf(Ft);return Mt!==-1&&Et.splice(Mt,1),Et}))),St=reactExports.useMemo(()=>({register:Ct,slot:At.slot,name:At.name,props:At.props,value:At.value}),[Ct,At.slot,At.name,At.props,At.value]);return React.createElement(c$4.Provider,{value:St},At.children)},[bt])]}let N$1="label";function G$1(_e,$){var ht;let bt=reactExports.useId(),wt=P$1(),At=u$5(),Ct=a$7(),{id:St=`headlessui-label-${bt}`,htmlFor:Ft=At??((ht=wt.props)==null?void 0:ht.htmlFor),passive:vt=!1,...Et}=_e,Mt=y$4($);n$3(()=>wt.register(St),[St,wt.register]);let Pt=o$3(jt=>{let Rt=jt.currentTarget;if(Rt instanceof HTMLLabelElement&&jt.preventDefault(),wt.props&&"onClick"in wt.props&&typeof wt.props.onClick=="function"&&wt.props.onClick(jt),Rt instanceof HTMLLabelElement){let Nt=document.getElementById(Rt.htmlFor);if(Nt){let Lt=Nt.getAttribute("disabled");if(Lt==="true"||Lt==="")return;let kt=Nt.getAttribute("aria-disabled");if(kt==="true"||kt==="")return;(Nt instanceof HTMLInputElement&&(Nt.type==="radio"||Nt.type==="checkbox")||Nt.role==="radio"||Nt.role==="checkbox"||Nt.role==="switch")&&Nt.click(),Nt.focus({preventScroll:!0})}}}),xt=Ct||!1,$t=reactExports.useMemo(()=>({...wt.slot,disabled:xt}),[wt.slot,xt]),_t={ref:Mt,...wt.props,id:St,htmlFor:Ft,onClick:Pt};return vt&&("onClick"in _t&&(delete _t.htmlFor,delete _t.onClick),"onClick"in Et&&delete Et.onClick),H$1({ourProps:_t,theirProps:Et,slot:$t,defaultTag:Ft?N$1:"div",name:wt.name||"Label"})}let U=I$3(G$1);Object.assign(U,{});function s$3(_e){if(_e===null)return{width:0,height:0};let{width:$,height:ht}=_e.getBoundingClientRect();return{width:$,height:ht}}function f$4(_e,$=!1){let ht=_e===null?null:"current"in _e?_e.current:_e,[bt,wt]=reactExports.useReducer(()=>({}),{}),At=reactExports.useMemo(()=>s$3(ht),[ht,bt]);return n$3(()=>{if(!ht)return;let Ct=new ResizeObserver(wt);return Ct.observe(ht),()=>{Ct.disconnect()}},[ht]),$?{width:`${At.width}px`,height:`${At.height}px`}:At}let a$5=class extends Map{constructor($){super(),this.factory=$}get($){let ht=super.get($);return ht===void 0&&(ht=this.factory($),this.set($,ht)),ht}};function a$4(_e,$){let ht=_e(),bt=new Set;return{getSnapshot(){return ht},subscribe(wt){return bt.add(wt),()=>bt.delete(wt)},dispatch(wt,...At){let Ct=$[wt].call(ht,...At);Ct&&(ht=Ct,bt.forEach(St=>St()))}}}function o$1(_e){return reactExports.useSyncExternalStore(_e.subscribe,_e.getSnapshot,_e.getSnapshot)}let p$2=new a$5(()=>a$4(()=>[],{ADD(_e){return this.includes(_e)?this:[...this,_e]},REMOVE(_e){let $=this.indexOf(_e);if($===-1)return this;let ht=this.slice();return ht.splice($,1),ht}}));function x(_e,$){let ht=p$2.get($),bt=reactExports.useId(),wt=o$1(ht);if(n$3(()=>{if(_e)return ht.dispatch("ADD",bt),()=>ht.dispatch("REMOVE",bt)},[ht,_e]),!_e)return!1;let At=wt.indexOf(bt),Ct=wt.length;return At===-1&&(At=Ct,Ct+=1),At===Ct-1}let f$3=new Map,u$3=new Map;function h$1(_e){var $;let ht=($=u$3.get(_e))!=null?$:0;return u$3.set(_e,ht+1),ht!==0?()=>m$2(_e):(f$3.set(_e,{"aria-hidden":_e.getAttribute("aria-hidden"),inert:_e.inert}),_e.setAttribute("aria-hidden","true"),_e.inert=!0,()=>m$2(_e))}function m$2(_e){var $;let ht=($=u$3.get(_e))!=null?$:1;if(ht===1?u$3.delete(_e):u$3.set(_e,ht-1),ht!==1)return;let bt=f$3.get(_e);bt&&(bt["aria-hidden"]===null?_e.removeAttribute("aria-hidden"):_e.setAttribute("aria-hidden",bt["aria-hidden"]),_e.inert=bt.inert,f$3.delete(_e))}function y$3(_e,{allowed:$,disallowed:ht}={}){let bt=x(_e,"inert-others");n$3(()=>{var wt,At;if(!bt)return;let Ct=o$4();for(let Ft of(wt=ht==null?void 0:ht())!=null?wt:[])Ft&&Ct.add(h$1(Ft));let St=(At=$==null?void 0:$())!=null?At:[];for(let Ft of St){if(!Ft)continue;let vt=u$7(Ft);if(!vt)continue;let Et=Ft.parentElement;for(;Et&&Et!==vt.body;){for(let Mt of Et.children)St.some(Pt=>Mt.contains(Pt))||Ct.add(h$1(Mt));Et=Et.parentElement}}return Ct.dispose},[bt,$,ht])}function m$1(_e,$,ht){let bt=s$4(wt=>{let At=wt.getBoundingClientRect();At.x===0&&At.y===0&&At.width===0&&At.height===0&&ht()});reactExports.useEffect(()=>{if(!_e)return;let wt=$===null?null:$ instanceof HTMLElement?$:$.current;if(!wt)return;let At=o$4();if(typeof ResizeObserver<"u"){let Ct=new ResizeObserver(()=>bt.current(wt));Ct.observe(wt),At.add(()=>Ct.disconnect())}if(typeof IntersectionObserver<"u"){let Ct=new IntersectionObserver(()=>bt.current(wt));Ct.observe(wt),At.add(()=>Ct.disconnect())}return()=>At.dispose()},[$,bt,_e])}let f$2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(_e=>`${_e}:not([tabindex='-1'])`).join(","),p$1=["[data-autofocus]"].map(_e=>`${_e}:not([tabindex='-1'])`).join(",");var F$3=(_e=>(_e[_e.First=1]="First",_e[_e.Previous=2]="Previous",_e[_e.Next=4]="Next",_e[_e.Last=8]="Last",_e[_e.WrapAround=16]="WrapAround",_e[_e.NoScroll=32]="NoScroll",_e[_e.AutoFocus=64]="AutoFocus",_e))(F$3||{}),T$1=(_e=>(_e[_e.Error=0]="Error",_e[_e.Overflow=1]="Overflow",_e[_e.Success=2]="Success",_e[_e.Underflow=3]="Underflow",_e))(T$1||{}),y$2=(_e=>(_e[_e.Previous=-1]="Previous",_e[_e.Next=1]="Next",_e))(y$2||{});function b(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(f$2)).sort(($,ht)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(ht.tabIndex||Number.MAX_SAFE_INTEGER)))}function S$2(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(p$1)).sort(($,ht)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(ht.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(_e=>(_e[_e.Strict=0]="Strict",_e[_e.Loose=1]="Loose",_e))(h||{});function A$1(_e,$=0){var ht;return _e===((ht=u$7(_e))==null?void 0:ht.body)?!1:u$6($,{0(){return _e.matches(f$2)},1(){let bt=_e;for(;bt!==null;){if(bt.matches(f$2))return!0;bt=bt.parentElement}return!1}})}function G(_e){let $=u$7(_e);o$4().nextFrame(()=>{$&&!A$1($.activeElement,0)&&I$1(_e)})}var H=(_e=>(_e[_e.Keyboard=0]="Keyboard",_e[_e.Mouse=1]="Mouse",_e))(H||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",_e=>{_e.metaKey||_e.altKey||_e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",_e=>{_e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:_e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$1(_e){_e==null||_e.focus({preventScroll:!0})}let w=["textarea","input"].join(",");function O(_e){var $,ht;return(ht=($=_e==null?void 0:_e.matches)==null?void 0:$.call(_e,w))!=null?ht:!1}function _(_e,$=ht=>ht){return _e.slice().sort((ht,bt)=>{let wt=$(ht),At=$(bt);if(wt===null||At===null)return 0;let Ct=wt.compareDocumentPosition(At);return Ct&Node.DOCUMENT_POSITION_FOLLOWING?-1:Ct&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j$2(_e,$){return P(b(),$,{relativeTo:_e})}function P(_e,$,{sorted:ht=!0,relativeTo:bt=null,skipElements:wt=[]}={}){let At=Array.isArray(_e)?_e.length>0?_e[0].ownerDocument:document:_e.ownerDocument,Ct=Array.isArray(_e)?ht?_(_e):_e:$&64?S$2(_e):b(_e);wt.length>0&&Ct.length>1&&(Ct=Ct.filter(xt=>!wt.some($t=>$t!=null&&"current"in $t?($t==null?void 0:$t.current)===xt:$t===xt))),bt=bt??At.activeElement;let St=(()=>{if($&5)return 1;if($&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Ft=(()=>{if($&1)return 0;if($&2)return Math.max(0,Ct.indexOf(bt))-1;if($&4)return Math.max(0,Ct.indexOf(bt))+1;if($&8)return Ct.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),vt=$&32?{preventScroll:!0}:{},Et=0,Mt=Ct.length,Pt;do{if(Et>=Mt||Et+Mt<=0)return 0;let xt=Ft+Et;if($&16)xt=(xt+Mt)%Mt;else{if(xt<0)return 3;if(xt>=Mt)return 1}Pt=Ct[xt],Pt==null||Pt.focus(vt),Et+=St}while(Pt!==At.activeElement);return $&6&&O(Pt)&&Pt.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$3(){return/Android/gi.test(window.navigator.userAgent)}function n$2(){return t$1()||i$3()}function i$2(_e,$,ht,bt){let wt=s$4(ht);reactExports.useEffect(()=>{if(!_e)return;function At(Ct){wt.current(Ct)}return document.addEventListener($,At,bt),()=>document.removeEventListener($,At,bt)},[_e,$,bt])}function s$2(_e,$,ht,bt){let wt=s$4(ht);reactExports.useEffect(()=>{if(!_e)return;function At(Ct){wt.current(Ct)}return window.addEventListener($,At,bt),()=>window.removeEventListener($,At,bt)},[_e,$,bt])}const d$2=30;function F$2(_e,$,ht){let bt=x(_e,"outside-click"),wt=s$4(ht),At=reactExports.useCallback(function(Ft,vt){if(Ft.defaultPrevented)return;let Et=vt(Ft);if(Et===null||!Et.getRootNode().contains(Et)||!Et.isConnected)return;let Mt=function Pt(xt){return typeof xt=="function"?Pt(xt()):Array.isArray(xt)||xt instanceof Set?xt:[xt]}($);for(let Pt of Mt){if(Pt===null)continue;let xt=Pt instanceof HTMLElement?Pt:Pt.current;if(xt!=null&&xt.contains(Et)||Ft.composed&&Ft.composedPath().includes(xt))return}return!A$1(Et,h.Loose)&&Et.tabIndex!==-1&&Ft.preventDefault(),wt.current(Ft,Et)},[wt]),Ct=reactExports.useRef(null);i$2(bt,"pointerdown",Ft=>{var vt,Et;Ct.current=((Et=(vt=Ft.composedPath)==null?void 0:vt.call(Ft))==null?void 0:Et[0])||Ft.target},!0),i$2(bt,"mousedown",Ft=>{var vt,Et;Ct.current=((Et=(vt=Ft.composedPath)==null?void 0:vt.call(Ft))==null?void 0:Et[0])||Ft.target},!0),i$2(bt,"click",Ft=>{n$2()||Ct.current&&(At(Ft,()=>Ct.current),Ct.current=null)},!0);let St=reactExports.useRef({x:0,y:0});i$2(bt,"touchstart",Ft=>{St.current.x=Ft.touches[0].clientX,St.current.y=Ft.touches[0].clientY},!0),i$2(bt,"touchend",Ft=>{let vt={x:Ft.changedTouches[0].clientX,y:Ft.changedTouches[0].clientY};if(!(Math.abs(vt.x-St.current.x)>=d$2||Math.abs(vt.y-St.current.y)>=d$2))return At(Ft,()=>Ft.target instanceof HTMLElement?Ft.target:null)},!0),s$2(bt,"blur",Ft=>At(Ft,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function n$1(..._e){return reactExports.useMemo(()=>u$7(..._e),[..._e])}function i$1(_e){var $;if(_e.type)return _e.type;let ht=($=_e.as)!=null?$:"button";if(typeof ht=="string"&&ht.toLowerCase()==="button")return"button"}function T(_e,$){let[ht,bt]=reactExports.useState(()=>i$1(_e));return n$3(()=>{bt(i$1(_e))},[_e.type,_e.as]),n$3(()=>{ht||$.current&&$.current instanceof HTMLButtonElement&&!$.current.hasAttribute("type")&&bt("button")},[ht,$]),ht}function d$1(){let _e;return{before({doc:$}){var ht;let bt=$.documentElement,wt=(ht=$.defaultView)!=null?ht:window;_e=Math.max(0,wt.innerWidth-bt.clientWidth)},after({doc:$,d:ht}){let bt=$.documentElement,wt=Math.max(0,bt.clientWidth-bt.offsetWidth),At=Math.max(0,_e-wt);ht.style(bt,"paddingRight",`${At}px`)}}}function d(){return t$1()?{before({doc:_e,d:$,meta:ht}){function bt(wt){return ht.containers.flatMap(At=>At()).some(At=>At.contains(wt))}$.microTask(()=>{var wt;if(window.getComputedStyle(_e.documentElement).scrollBehavior!=="auto"){let St=o$4();St.style(_e.documentElement,"scrollBehavior","auto"),$.add(()=>$.microTask(()=>St.dispose()))}let At=(wt=window.scrollY)!=null?wt:window.pageYOffset,Ct=null;$.addEventListener(_e,"click",St=>{if(St.target instanceof HTMLElement)try{let Ft=St.target.closest("a");if(!Ft)return;let{hash:vt}=new URL(Ft.href),Et=_e.querySelector(vt);Et&&!bt(Et)&&(Ct=Et)}catch{}},!0),$.addEventListener(_e,"touchstart",St=>{if(St.target instanceof HTMLElement)if(bt(St.target)){let Ft=St.target;for(;Ft.parentElement&&bt(Ft.parentElement);)Ft=Ft.parentElement;$.style(Ft,"overscrollBehavior","contain")}else $.style(St.target,"touchAction","none")}),$.addEventListener(_e,"touchmove",St=>{if(St.target instanceof HTMLElement){if(St.target.tagName==="INPUT")return;if(bt(St.target)){let Ft=St.target;for(;Ft.parentElement&&Ft.dataset.headlessuiPortal!==""&&!(Ft.scrollHeight>Ft.clientHeight||Ft.scrollWidth>Ft.clientWidth);)Ft=Ft.parentElement;Ft.dataset.headlessuiPortal===""&&St.preventDefault()}else St.preventDefault()}},{passive:!1}),$.add(()=>{var St;let Ft=(St=window.scrollY)!=null?St:window.pageYOffset;At!==Ft&&window.scrollTo(0,At),Ct&&Ct.isConnected&&(Ct.scrollIntoView({block:"nearest"}),Ct=null)})})}}:{}}function r(){return{before({doc:_e,d:$}){$.style(_e.documentElement,"overflow","hidden")}}}function m(_e){let $={};for(let ht of _e)Object.assign($,ht($));return $}let a$3=a$4(()=>new Map,{PUSH(_e,$){var ht;let bt=(ht=this.get(_e))!=null?ht:{doc:_e,count:0,d:o$4(),meta:new Set};return bt.count++,bt.meta.add($),this.set(_e,bt),this},POP(_e,$){let ht=this.get(_e);return ht&&(ht.count--,ht.meta.delete($)),this},SCROLL_PREVENT({doc:_e,d:$,meta:ht}){let bt={doc:_e,d:$,meta:m(ht)},wt=[d(),d$1(),r()];wt.forEach(({before:At})=>At==null?void 0:At(bt)),wt.forEach(({after:At})=>At==null?void 0:At(bt))},SCROLL_ALLOW({d:_e}){_e.dispose()},TEARDOWN({doc:_e}){this.delete(_e)}});a$3.subscribe(()=>{let _e=a$3.getSnapshot(),$=new Map;for(let[ht]of _e)$.set(ht,ht.documentElement.style.overflow);for(let ht of _e.values()){let bt=$.get(ht.doc)==="hidden",wt=ht.count!==0;(wt&&!bt||!wt&&bt)&&a$3.dispatch(ht.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",ht),ht.count===0&&a$3.dispatch("TEARDOWN",ht)}});function a$2(_e,$,ht=()=>({containers:[]})){let bt=o$1(a$3),wt=$?bt.get($):void 0,At=wt?wt.count>0:!1;return n$3(()=>{if(!(!$||!_e))return a$3.dispatch("PUSH",$,ht),()=>a$3.dispatch("POP",$,ht)},[_e,$]),At}function f$1(_e,$,ht=()=>[document.body]){let bt=x(_e,"scroll-lock");a$2(bt,$,wt=>{var At;return{containers:[...(At=wt.containers)!=null?At:[],ht]}})}function t(_e){return[_e.screenX,_e.screenY]}function u$2(){let _e=reactExports.useRef([-1,-1]);return{wasMoved($){let ht=t($);return _e.current[0]===ht[0]&&_e.current[1]===ht[1]?!1:(_e.current=ht,!0)},update($){_e.current=t($)}}}function l$1(_e){let $={called:!1};return(...ht)=>{if(!$.called)return $.called=!0,_e(...ht)}}function c$3(_e=0){let[$,ht]=reactExports.useState(_e),bt=reactExports.useCallback(Ft=>ht(Ft),[$]),wt=reactExports.useCallback(Ft=>ht(vt=>vt|Ft),[$]),At=reactExports.useCallback(Ft=>($&Ft)===Ft,[$]),Ct=reactExports.useCallback(Ft=>ht(vt=>vt&~Ft),[ht]),St=reactExports.useCallback(Ft=>ht(vt=>vt^Ft),[ht]);return{flags:$,setFlag:bt,addFlag:wt,hasFlag:At,removeFlag:Ct,toggleFlag:St}}var D$2=(_e=>(_e[_e.None=0]="None",_e[_e.Closed=1]="Closed",_e[_e.Enter=2]="Enter",_e[_e.Leave=4]="Leave",_e))(D$2||{});function A(_e){let $={};for(let ht in _e)_e[ht]===!0&&($[`data-${ht}`]="");return $}function V(_e,$,ht,bt){let[wt,At]=reactExports.useState(ht),{hasFlag:Ct,addFlag:St,removeFlag:Ft}=c$3(_e&&wt?3:0),vt=reactExports.useRef(!1),Et=reactExports.useRef(!1),Mt=p$3();return n$3(function Pt(){var xt;if(!_e)return;ht&&At(!0);let $t=$.current;return $t?((xt=void 0)==null||xt.call(bt,ht),M$1($t,{inFlight:vt,prepare(){Et.current?Et.current=!1:Et.current=vt.current,vt.current=!0,!Et.current&&(ht?(St(3),Ft(4)):(St(4),Ft(2)))},run(){Et.current?ht?(Ft(3),St(4)):(Ft(4),St(3)):ht?Ft(1):St(1)},done(){var _t;Et.current&&typeof $t.getAnimations=="function"&&$t.getAnimations().length>0||(vt.current=!1,Ft(7),ht||At(!1),(_t=void 0)==null||_t.call(bt,ht))}})):ht?(St(3),Mt.nextFrame(()=>Pt())):void 0},[_e,ht,$,Mt]),_e?[wt,{closed:Ct(1),enter:Ct(2),leave:Ct(4),transition:Ct(2)||Ct(4)}]:[ht,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function M$1(_e,{prepare:$,run:ht,done:bt,inFlight:wt}){let At=o$4();return R(_e,{prepare:$,inFlight:wt}),At.nextFrame(()=>{At.add(F$1(_e,bt)),ht()}),At.dispose}function F$1(_e,$){let ht=l$1($),bt=o$4();if(!_e)return bt.dispose;let{transitionDuration:wt,transitionDelay:At}=getComputedStyle(_e),[Ct,St]=[wt,At].map(vt=>{let[Et=0]=vt.split(",").filter(Boolean).map(Mt=>Mt.includes("ms")?parseFloat(Mt):parseFloat(Mt)*1e3).sort((Mt,Pt)=>Pt-Mt);return Et}),Ft=Ct+St;if(Ft!==0){let vt=bt.group(Et=>{let Mt=Et.setTimeout(()=>{ht(),Et.dispose()},Ft);Et.addEventListener(_e,"transitionrun",Pt=>{Pt.target===Pt.currentTarget&&(Mt(),Et.addEventListener(_e,"transitioncancel",xt=>{xt.target===xt.currentTarget&&(ht(),vt())}))})});bt.addEventListener(_e,"transitionend",Et=>{Et.target===Et.currentTarget&&(ht(),bt.dispose())})}else ht();return bt.dispose}function R(_e,{inFlight:$,prepare:ht}){if($!=null&&$.current){ht();return}let bt=_e.style.transition;_e.style.transition="none",ht(),_e.offsetHeight,_e.style.transition=bt}function F(_e,{container:$,accept:ht,walk:bt}){let wt=reactExports.useRef(ht),At=reactExports.useRef(bt);reactExports.useEffect(()=>{wt.current=ht,At.current=bt},[ht,bt]),n$3(()=>{if(!$||!_e)return;let Ct=u$7($);if(!Ct)return;let St=wt.current,Ft=At.current,vt=Object.assign(Mt=>St(Mt),{acceptNode:St}),Et=Ct.createTreeWalker($,NodeFilter.SHOW_ELEMENT,vt,!1);for(;Et.nextNode();)Ft(Et.currentNode)},[$,_e,wt,At])}function getNodeName(_e){return isNode(_e)?(_e.nodeName||"").toLowerCase():"#document"}function getWindow(_e){var $;return(_e==null||($=_e.ownerDocument)==null?void 0:$.defaultView)||window}function getDocumentElement(_e){var $;return($=(isNode(_e)?_e.ownerDocument:_e.document)||window.document)==null?void 0:$.documentElement}function isNode(_e){return _e instanceof Node||_e instanceof getWindow(_e).Node}function isElement(_e){return _e instanceof Element||_e instanceof getWindow(_e).Element}function isHTMLElement(_e){return _e instanceof HTMLElement||_e instanceof getWindow(_e).HTMLElement}function isShadowRoot(_e){return typeof ShadowRoot>"u"?!1:_e instanceof ShadowRoot||_e instanceof getWindow(_e).ShadowRoot}function isOverflowElement(_e){const{overflow:$,overflowX:ht,overflowY:bt,display:wt}=getComputedStyle$2(_e);return/auto|scroll|overlay|hidden|clip/.test($+bt+ht)&&!["inline","contents"].includes(wt)}function isTableElement(_e){return["table","td","th"].includes(getNodeName(_e))}function isTopLayer(_e){return[":popover-open",":modal"].some($=>{try{return _e.matches($)}catch{return!1}})}function isContainingBlock(_e){const $=isWebKit(),ht=getComputedStyle$2(_e);return ht.transform!=="none"||ht.perspective!=="none"||(ht.containerType?ht.containerType!=="normal":!1)||!$&&(ht.backdropFilter?ht.backdropFilter!=="none":!1)||!$&&(ht.filter?ht.filter!=="none":!1)||["transform","perspective","filter"].some(bt=>(ht.willChange||"").includes(bt))||["paint","layout","strict","content"].some(bt=>(ht.contain||"").includes(bt))}function getContainingBlock(_e){let $=getParentNode(_e);for(;isHTMLElement($)&&!isLastTraversableNode($);){if(isTopLayer($))return null;if(isContainingBlock($))return $;$=getParentNode($)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(_e){return["html","body","#document"].includes(getNodeName(_e))}function getComputedStyle$2(_e){return getWindow(_e).getComputedStyle(_e)}function getNodeScroll(_e){return isElement(_e)?{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}:{scrollLeft:_e.pageXOffset,scrollTop:_e.pageYOffset}}function getParentNode(_e){if(getNodeName(_e)==="html")return _e;const $=_e.assignedSlot||_e.parentNode||isShadowRoot(_e)&&_e.host||getDocumentElement(_e);return isShadowRoot($)?$.host:$}function getNearestOverflowAncestor(_e){const $=getParentNode(_e);return isLastTraversableNode($)?_e.ownerDocument?_e.ownerDocument.body:_e.body:isHTMLElement($)&&isOverflowElement($)?$:getNearestOverflowAncestor($)}function getOverflowAncestors(_e,$,ht){var bt;$===void 0&&($=[]),ht===void 0&&(ht=!0);const wt=getNearestOverflowAncestor(_e),At=wt===((bt=_e.ownerDocument)==null?void 0:bt.body),Ct=getWindow(wt);return At?$.concat(Ct,Ct.visualViewport||[],isOverflowElement(wt)?wt:[],Ct.frameElement&&ht?getOverflowAncestors(Ct.frameElement):[]):$.concat(wt,getOverflowAncestors(wt,[],ht))}function getUserAgent(){const _e=navigator.userAgentData;return _e&&Array.isArray(_e.brands)?_e.brands.map($=>{let{brand:ht,version:bt}=$;return ht+"/"+bt}).join(" "):navigator.userAgent}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=_e=>({x:_e,y:_e}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(_e,$,ht){return max(_e,min($,ht))}function evaluate(_e,$){return typeof _e=="function"?_e($):_e}function getSide(_e){return _e.split("-")[0]}function getAlignment(_e){return _e.split("-")[1]}function getOppositeAxis(_e){return _e==="x"?"y":"x"}function getAxisLength(_e){return _e==="y"?"height":"width"}function getSideAxis(_e){return["top","bottom"].includes(getSide(_e))?"y":"x"}function getAlignmentAxis(_e){return getOppositeAxis(getSideAxis(_e))}function getAlignmentSides(_e,$,ht){ht===void 0&&(ht=!1);const bt=getAlignment(_e),wt=getAlignmentAxis(_e),At=getAxisLength(wt);let Ct=wt==="x"?bt===(ht?"end":"start")?"right":"left":bt==="start"?"bottom":"top";return $.reference[At]>$.floating[At]&&(Ct=getOppositePlacement(Ct)),[Ct,getOppositePlacement(Ct)]}function getExpandedPlacements(_e){const $=getOppositePlacement(_e);return[getOppositeAlignmentPlacement(_e),$,getOppositeAlignmentPlacement($)]}function getOppositeAlignmentPlacement(_e){return _e.replace(/start|end/g,$=>oppositeAlignmentMap[$])}function getSideList(_e,$,ht){const bt=["left","right"],wt=["right","left"],At=["top","bottom"],Ct=["bottom","top"];switch(_e){case"top":case"bottom":return ht?$?wt:bt:$?bt:wt;case"left":case"right":return $?At:Ct;default:return[]}}function getOppositeAxisPlacements(_e,$,ht,bt){const wt=getAlignment(_e);let At=getSideList(getSide(_e),ht==="start",bt);return wt&&(At=At.map(Ct=>Ct+"-"+wt),$&&(At=At.concat(At.map(getOppositeAlignmentPlacement)))),At}function getOppositePlacement(_e){return _e.replace(/left|right|bottom|top/g,$=>oppositeSideMap[$])}function expandPaddingObject(_e){return{top:0,right:0,bottom:0,left:0,..._e}}function getPaddingObject(_e){return typeof _e!="number"?expandPaddingObject(_e):{top:_e,right:_e,bottom:_e,left:_e}}function rectToClientRect(_e){const{x:$,y:ht,width:bt,height:wt}=_e;return{width:bt,height:wt,top:ht,left:$,right:$+bt,bottom:ht+wt,x:$,y:ht}}function computeCoordsFromPlacement(_e,$,ht){let{reference:bt,floating:wt}=_e;const At=getSideAxis($),Ct=getAlignmentAxis($),St=getAxisLength(Ct),Ft=getSide($),vt=At==="y",Et=bt.x+bt.width/2-wt.width/2,Mt=bt.y+bt.height/2-wt.height/2,Pt=bt[St]/2-wt[St]/2;let xt;switch(Ft){case"top":xt={x:Et,y:bt.y-wt.height};break;case"bottom":xt={x:Et,y:bt.y+bt.height};break;case"right":xt={x:bt.x+bt.width,y:Mt};break;case"left":xt={x:bt.x-wt.width,y:Mt};break;default:xt={x:bt.x,y:bt.y}}switch(getAlignment($)){case"start":xt[Ct]-=Pt*(ht&&vt?-1:1);break;case"end":xt[Ct]+=Pt*(ht&&vt?-1:1);break}return xt}const computePosition$1=async(_e,$,ht)=>{const{placement:bt="bottom",strategy:wt="absolute",middleware:At=[],platform:Ct}=ht,St=At.filter(Boolean),Ft=await(Ct.isRTL==null?void 0:Ct.isRTL($));let vt=await Ct.getElementRects({reference:_e,floating:$,strategy:wt}),{x:Et,y:Mt}=computeCoordsFromPlacement(vt,bt,Ft),Pt=bt,xt={},$t=0;for(let _t=0;_t<St.length;_t++){const{name:jt,fn:Rt}=St[_t],{x:Nt,y:Lt,data:kt,reset:Bt}=await Rt({x:Et,y:Mt,initialPlacement:bt,placement:Pt,strategy:wt,middlewareData:xt,rects:vt,platform:Ct,elements:{reference:_e,floating:$}});Et=Nt??Et,Mt=Lt??Mt,xt={...xt,[jt]:{...xt[jt],...kt}},Bt&&$t<=50&&($t++,typeof Bt=="object"&&(Bt.placement&&(Pt=Bt.placement),Bt.rects&&(vt=Bt.rects===!0?await Ct.getElementRects({reference:_e,floating:$,strategy:wt}):Bt.rects),{x:Et,y:Mt}=computeCoordsFromPlacement(vt,Pt,Ft)),_t=-1)}return{x:Et,y:Mt,placement:Pt,strategy:wt,middlewareData:xt}};async function detectOverflow$1(_e,$){var ht;$===void 0&&($={});const{x:bt,y:wt,platform:At,rects:Ct,elements:St,strategy:Ft}=_e,{boundary:vt="clippingAncestors",rootBoundary:Et="viewport",elementContext:Mt="floating",altBoundary:Pt=!1,padding:xt=0}=evaluate($,_e),$t=getPaddingObject(xt),jt=St[Pt?Mt==="floating"?"reference":"floating":Mt],Rt=rectToClientRect(await At.getClippingRect({element:(ht=await(At.isElement==null?void 0:At.isElement(jt)))==null||ht?jt:jt.contextElement||await(At.getDocumentElement==null?void 0:At.getDocumentElement(St.floating)),boundary:vt,rootBoundary:Et,strategy:Ft})),Nt=Mt==="floating"?{x:bt,y:wt,width:Ct.floating.width,height:Ct.floating.height}:Ct.reference,Lt=await(At.getOffsetParent==null?void 0:At.getOffsetParent(St.floating)),kt=await(At.isElement==null?void 0:At.isElement(Lt))?await(At.getScale==null?void 0:At.getScale(Lt))||{x:1,y:1}:{x:1,y:1},Bt=rectToClientRect(At.convertOffsetParentRelativeRectToViewportRelativeRect?await At.convertOffsetParentRelativeRectToViewportRelativeRect({elements:St,rect:Nt,offsetParent:Lt,strategy:Ft}):Nt);return{top:(Rt.top-Bt.top+$t.top)/kt.y,bottom:(Bt.bottom-Rt.bottom+$t.bottom)/kt.y,left:(Rt.left-Bt.left+$t.left)/kt.x,right:(Bt.right-Rt.right+$t.right)/kt.x}}const flip$2=function(_e){return _e===void 0&&(_e={}),{name:"flip",options:_e,async fn($){var ht,bt;const{placement:wt,middlewareData:At,rects:Ct,initialPlacement:St,platform:Ft,elements:vt}=$,{mainAxis:Et=!0,crossAxis:Mt=!0,fallbackPlacements:Pt,fallbackStrategy:xt="bestFit",fallbackAxisSideDirection:$t="none",flipAlignment:_t=!0,...jt}=evaluate(_e,$);if((ht=At.arrow)!=null&&ht.alignmentOffset)return{};const Rt=getSide(wt),Nt=getSideAxis(St),Lt=getSide(St)===St,kt=await(Ft.isRTL==null?void 0:Ft.isRTL(vt.floating)),Bt=Pt||(Lt||!_t?[getOppositePlacement(St)]:getExpandedPlacements(St)),Ht=$t!=="none";!Pt&&Ht&&Bt.push(...getOppositeAxisPlacements(St,_t,$t,kt));const Ot=[St,...Bt],Vt=await detectOverflow$1($,jt),Gt=[];let Wt=((bt=At.flip)==null?void 0:bt.overflows)||[];if(Et&&Gt.push(Vt[Rt]),Mt){const hn=getAlignmentSides(wt,Ct,kt);Gt.push(Vt[hn[0]],Vt[hn[1]])}if(Wt=[...Wt,{placement:wt,overflows:Gt}],!Gt.every(hn=>hn<=0)){var en,Sn;const hn=(((en=At.flip)==null?void 0:en.index)||0)+1,Qt=Ot[hn];if(Qt)return{data:{index:hn,overflows:Wt},reset:{placement:Qt}};let qt=(Sn=Wt.filter(nn=>nn.overflows[0]<=0).sort((nn,Ut)=>nn.overflows[1]-Ut.overflows[1])[0])==null?void 0:Sn.placement;if(!qt)switch(xt){case"bestFit":{var sn;const nn=(sn=Wt.filter(Ut=>{if(Ht){const zt=getSideAxis(Ut.placement);return zt===Nt||zt==="y"}return!0}).map(Ut=>[Ut.placement,Ut.overflows.filter(zt=>zt>0).reduce((zt,cn)=>zt+cn,0)]).sort((Ut,zt)=>Ut[1]-zt[1])[0])==null?void 0:sn[0];nn&&(qt=nn);break}case"initialPlacement":qt=St;break}if(wt!==qt)return{reset:{placement:qt}}}return{}}}};async function convertValueToCoords(_e,$){const{placement:ht,platform:bt,elements:wt}=_e,At=await(bt.isRTL==null?void 0:bt.isRTL(wt.floating)),Ct=getSide(ht),St=getAlignment(ht),Ft=getSideAxis(ht)==="y",vt=["left","top"].includes(Ct)?-1:1,Et=At&&Ft?-1:1,Mt=evaluate($,_e);let{mainAxis:Pt,crossAxis:xt,alignmentAxis:$t}=typeof Mt=="number"?{mainAxis:Mt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Mt};return St&&typeof $t=="number"&&(xt=St==="end"?$t*-1:$t),Ft?{x:xt*Et,y:Pt*vt}:{x:Pt*vt,y:xt*Et}}const offset$2=function(_e){return _e===void 0&&(_e=0),{name:"offset",options:_e,async fn($){var ht,bt;const{x:wt,y:At,placement:Ct,middlewareData:St}=$,Ft=await convertValueToCoords($,_e);return Ct===((ht=St.offset)==null?void 0:ht.placement)&&(bt=St.arrow)!=null&&bt.alignmentOffset?{}:{x:wt+Ft.x,y:At+Ft.y,data:{...Ft,placement:Ct}}}}},shift$2=function(_e){return _e===void 0&&(_e={}),{name:"shift",options:_e,async fn($){const{x:ht,y:bt,placement:wt}=$,{mainAxis:At=!0,crossAxis:Ct=!1,limiter:St={fn:jt=>{let{x:Rt,y:Nt}=jt;return{x:Rt,y:Nt}}},...Ft}=evaluate(_e,$),vt={x:ht,y:bt},Et=await detectOverflow$1($,Ft),Mt=getSideAxis(getSide(wt)),Pt=getOppositeAxis(Mt);let xt=vt[Pt],$t=vt[Mt];if(At){const jt=Pt==="y"?"top":"left",Rt=Pt==="y"?"bottom":"right",Nt=xt+Et[jt],Lt=xt-Et[Rt];xt=clamp$1(Nt,xt,Lt)}if(Ct){const jt=Mt==="y"?"top":"left",Rt=Mt==="y"?"bottom":"right",Nt=$t+Et[jt],Lt=$t-Et[Rt];$t=clamp$1(Nt,$t,Lt)}const _t=St.fn({...$,[Pt]:xt,[Mt]:$t});return{..._t,data:{x:_t.x-ht,y:_t.y-bt}}}}},size$2=function(_e){return _e===void 0&&(_e={}),{name:"size",options:_e,async fn($){const{placement:ht,rects:bt,platform:wt,elements:At}=$,{apply:Ct=()=>{},...St}=evaluate(_e,$),Ft=await detectOverflow$1($,St),vt=getSide(ht),Et=getAlignment(ht),Mt=getSideAxis(ht)==="y",{width:Pt,height:xt}=bt.floating;let $t,_t;vt==="top"||vt==="bottom"?($t=vt,_t=Et===(await(wt.isRTL==null?void 0:wt.isRTL(At.floating))?"start":"end")?"left":"right"):(_t=vt,$t=Et==="end"?"top":"bottom");const jt=xt-Ft.top-Ft.bottom,Rt=Pt-Ft.left-Ft.right,Nt=min(xt-Ft[$t],jt),Lt=min(Pt-Ft[_t],Rt),kt=!$.middlewareData.shift;let Bt=Nt,Ht=Lt;if(Mt?Ht=Et||kt?min(Lt,Rt):Rt:Bt=Et||kt?min(Nt,jt):jt,kt&&!Et){const Vt=max(Ft.left,0),Gt=max(Ft.right,0),Wt=max(Ft.top,0),en=max(Ft.bottom,0);Mt?Ht=Pt-2*(Vt!==0||Gt!==0?Vt+Gt:max(Ft.left,Ft.right)):Bt=xt-2*(Wt!==0||en!==0?Wt+en:max(Ft.top,Ft.bottom))}await Ct({...$,availableWidth:Ht,availableHeight:Bt});const Ot=await wt.getDimensions(At.floating);return Pt!==Ot.width||xt!==Ot.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(_e){const $=getComputedStyle$2(_e);let ht=parseFloat($.width)||0,bt=parseFloat($.height)||0;const wt=isHTMLElement(_e),At=wt?_e.offsetWidth:ht,Ct=wt?_e.offsetHeight:bt,St=round(ht)!==At||round(bt)!==Ct;return St&&(ht=At,bt=Ct),{width:ht,height:bt,$:St}}function unwrapElement(_e){return isElement(_e)?_e:_e.contextElement}function getScale(_e){const $=unwrapElement(_e);if(!isHTMLElement($))return createCoords(1);const ht=$.getBoundingClientRect(),{width:bt,height:wt,$:At}=getCssDimensions($);let Ct=(At?round(ht.width):ht.width)/bt,St=(At?round(ht.height):ht.height)/wt;return(!Ct||!Number.isFinite(Ct))&&(Ct=1),(!St||!Number.isFinite(St))&&(St=1),{x:Ct,y:St}}const noOffsets=createCoords(0);function getVisualOffsets(_e){const $=getWindow(_e);return!isWebKit()||!$.visualViewport?noOffsets:{x:$.visualViewport.offsetLeft,y:$.visualViewport.offsetTop}}function shouldAddVisualOffsets(_e,$,ht){return $===void 0&&($=!1),!ht||$&&ht!==getWindow(_e)?!1:$}function getBoundingClientRect(_e,$,ht,bt){$===void 0&&($=!1),ht===void 0&&(ht=!1);const wt=_e.getBoundingClientRect(),At=unwrapElement(_e);let Ct=createCoords(1);$&&(bt?isElement(bt)&&(Ct=getScale(bt)):Ct=getScale(_e));const St=shouldAddVisualOffsets(At,ht,bt)?getVisualOffsets(At):createCoords(0);let Ft=(wt.left+St.x)/Ct.x,vt=(wt.top+St.y)/Ct.y,Et=wt.width/Ct.x,Mt=wt.height/Ct.y;if(At){const Pt=getWindow(At),xt=bt&&isElement(bt)?getWindow(bt):bt;let $t=Pt,_t=$t.frameElement;for(;_t&&bt&&xt!==$t;){const jt=getScale(_t),Rt=_t.getBoundingClientRect(),Nt=getComputedStyle$2(_t),Lt=Rt.left+(_t.clientLeft+parseFloat(Nt.paddingLeft))*jt.x,kt=Rt.top+(_t.clientTop+parseFloat(Nt.paddingTop))*jt.y;Ft*=jt.x,vt*=jt.y,Et*=jt.x,Mt*=jt.y,Ft+=Lt,vt+=kt,$t=getWindow(_t),_t=$t.frameElement}}return rectToClientRect({width:Et,height:Mt,x:Ft,y:vt})}function convertOffsetParentRelativeRectToViewportRelativeRect(_e){let{elements:$,rect:ht,offsetParent:bt,strategy:wt}=_e;const At=wt==="fixed",Ct=getDocumentElement(bt),St=$?isTopLayer($.floating):!1;if(bt===Ct||St&&At)return ht;let Ft={scrollLeft:0,scrollTop:0},vt=createCoords(1);const Et=createCoords(0),Mt=isHTMLElement(bt);if((Mt||!Mt&&!At)&&((getNodeName(bt)!=="body"||isOverflowElement(Ct))&&(Ft=getNodeScroll(bt)),isHTMLElement(bt))){const Pt=getBoundingClientRect(bt);vt=getScale(bt),Et.x=Pt.x+bt.clientLeft,Et.y=Pt.y+bt.clientTop}return{width:ht.width*vt.x,height:ht.height*vt.y,x:ht.x*vt.x-Ft.scrollLeft*vt.x+Et.x,y:ht.y*vt.y-Ft.scrollTop*vt.y+Et.y}}function getClientRects(_e){return Array.from(_e.getClientRects())}function getWindowScrollBarX(_e){return getBoundingClientRect(getDocumentElement(_e)).left+getNodeScroll(_e).scrollLeft}function getDocumentRect(_e){const $=getDocumentElement(_e),ht=getNodeScroll(_e),bt=_e.ownerDocument.body,wt=max($.scrollWidth,$.clientWidth,bt.scrollWidth,bt.clientWidth),At=max($.scrollHeight,$.clientHeight,bt.scrollHeight,bt.clientHeight);let Ct=-ht.scrollLeft+getWindowScrollBarX(_e);const St=-ht.scrollTop;return getComputedStyle$2(bt).direction==="rtl"&&(Ct+=max($.clientWidth,bt.clientWidth)-wt),{width:wt,height:At,x:Ct,y:St}}function getViewportRect(_e,$){const ht=getWindow(_e),bt=getDocumentElement(_e),wt=ht.visualViewport;let At=bt.clientWidth,Ct=bt.clientHeight,St=0,Ft=0;if(wt){At=wt.width,Ct=wt.height;const vt=isWebKit();(!vt||vt&&$==="fixed")&&(St=wt.offsetLeft,Ft=wt.offsetTop)}return{width:At,height:Ct,x:St,y:Ft}}function getInnerBoundingClientRect(_e,$){const ht=getBoundingClientRect(_e,!0,$==="fixed"),bt=ht.top+_e.clientTop,wt=ht.left+_e.clientLeft,At=isHTMLElement(_e)?getScale(_e):createCoords(1),Ct=_e.clientWidth*At.x,St=_e.clientHeight*At.y,Ft=wt*At.x,vt=bt*At.y;return{width:Ct,height:St,x:Ft,y:vt}}function getClientRectFromClippingAncestor(_e,$,ht){let bt;if($==="viewport")bt=getViewportRect(_e,ht);else if($==="document")bt=getDocumentRect(getDocumentElement(_e));else if(isElement($))bt=getInnerBoundingClientRect($,ht);else{const wt=getVisualOffsets(_e);bt={...$,x:$.x-wt.x,y:$.y-wt.y}}return rectToClientRect(bt)}function hasFixedPositionAncestor(_e,$){const ht=getParentNode(_e);return ht===$||!isElement(ht)||isLastTraversableNode(ht)?!1:getComputedStyle$2(ht).position==="fixed"||hasFixedPositionAncestor(ht,$)}function getClippingElementAncestors(_e,$){const ht=$.get(_e);if(ht)return ht;let bt=getOverflowAncestors(_e,[],!1).filter(St=>isElement(St)&&getNodeName(St)!=="body"),wt=null;const At=getComputedStyle$2(_e).position==="fixed";let Ct=At?getParentNode(_e):_e;for(;isElement(Ct)&&!isLastTraversableNode(Ct);){const St=getComputedStyle$2(Ct),Ft=isContainingBlock(Ct);!Ft&&St.position==="fixed"&&(wt=null),(At?!Ft&&!wt:!Ft&&St.position==="static"&&!!wt&&["absolute","fixed"].includes(wt.position)||isOverflowElement(Ct)&&!Ft&&hasFixedPositionAncestor(_e,Ct))?bt=bt.filter(Et=>Et!==Ct):wt=St,Ct=getParentNode(Ct)}return $.set(_e,bt),bt}function getClippingRect(_e){let{element:$,boundary:ht,rootBoundary:bt,strategy:wt}=_e;const Ct=[...ht==="clippingAncestors"?isTopLayer($)?[]:getClippingElementAncestors($,this._c):[].concat(ht),bt],St=Ct[0],Ft=Ct.reduce((vt,Et)=>{const Mt=getClientRectFromClippingAncestor($,Et,wt);return vt.top=max(Mt.top,vt.top),vt.right=min(Mt.right,vt.right),vt.bottom=min(Mt.bottom,vt.bottom),vt.left=max(Mt.left,vt.left),vt},getClientRectFromClippingAncestor($,St,wt));return{width:Ft.right-Ft.left,height:Ft.bottom-Ft.top,x:Ft.left,y:Ft.top}}function getDimensions(_e){const{width:$,height:ht}=getCssDimensions(_e);return{width:$,height:ht}}function getRectRelativeToOffsetParent(_e,$,ht){const bt=isHTMLElement($),wt=getDocumentElement($),At=ht==="fixed",Ct=getBoundingClientRect(_e,!0,At,$);let St={scrollLeft:0,scrollTop:0};const Ft=createCoords(0);if(bt||!bt&&!At)if((getNodeName($)!=="body"||isOverflowElement(wt))&&(St=getNodeScroll($)),bt){const Mt=getBoundingClientRect($,!0,At,$);Ft.x=Mt.x+$.clientLeft,Ft.y=Mt.y+$.clientTop}else wt&&(Ft.x=getWindowScrollBarX(wt));const vt=Ct.left+St.scrollLeft-Ft.x,Et=Ct.top+St.scrollTop-Ft.y;return{x:vt,y:Et,width:Ct.width,height:Ct.height}}function isStaticPositioned(_e){return getComputedStyle$2(_e).position==="static"}function getTrueOffsetParent(_e,$){return!isHTMLElement(_e)||getComputedStyle$2(_e).position==="fixed"?null:$?$(_e):_e.offsetParent}function getOffsetParent(_e,$){const ht=getWindow(_e);if(isTopLayer(_e))return ht;if(!isHTMLElement(_e)){let wt=getParentNode(_e);for(;wt&&!isLastTraversableNode(wt);){if(isElement(wt)&&!isStaticPositioned(wt))return wt;wt=getParentNode(wt)}return ht}let bt=getTrueOffsetParent(_e,$);for(;bt&&isTableElement(bt)&&isStaticPositioned(bt);)bt=getTrueOffsetParent(bt,$);return bt&&isLastTraversableNode(bt)&&isStaticPositioned(bt)&&!isContainingBlock(bt)?ht:bt||getContainingBlock(_e)||ht}const getElementRects=async function(_e){const $=this.getOffsetParent||getOffsetParent,ht=this.getDimensions,bt=await ht(_e.floating);return{reference:getRectRelativeToOffsetParent(_e.reference,await $(_e.floating),_e.strategy),floating:{x:0,y:0,width:bt.width,height:bt.height}}};function isRTL(_e){return getComputedStyle$2(_e).direction==="rtl"}const platform$2={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(_e,$){let ht=null,bt;const wt=getDocumentElement(_e);function At(){var St;clearTimeout(bt),(St=ht)==null||St.disconnect(),ht=null}function Ct(St,Ft){St===void 0&&(St=!1),Ft===void 0&&(Ft=1),At();const{left:vt,top:Et,width:Mt,height:Pt}=_e.getBoundingClientRect();if(St||$(),!Mt||!Pt)return;const xt=floor(Et),$t=floor(wt.clientWidth-(vt+Mt)),_t=floor(wt.clientHeight-(Et+Pt)),jt=floor(vt),Nt={rootMargin:-xt+"px "+-$t+"px "+-_t+"px "+-jt+"px",threshold:max(0,min(1,Ft))||1};let Lt=!0;function kt(Bt){const Ht=Bt[0].intersectionRatio;if(Ht!==Ft){if(!Lt)return Ct();Ht?Ct(!1,Ht):bt=setTimeout(()=>{Ct(!1,1e-7)},1e3)}Lt=!1}try{ht=new IntersectionObserver(kt,{...Nt,root:wt.ownerDocument})}catch{ht=new IntersectionObserver(kt,Nt)}ht.observe(_e)}return Ct(!0),At}function autoUpdate(_e,$,ht,bt){bt===void 0&&(bt={});const{ancestorScroll:wt=!0,ancestorResize:At=!0,elementResize:Ct=typeof ResizeObserver=="function",layoutShift:St=typeof IntersectionObserver=="function",animationFrame:Ft=!1}=bt,vt=unwrapElement(_e),Et=wt||At?[...vt?getOverflowAncestors(vt):[],...getOverflowAncestors($)]:[];Et.forEach(Rt=>{wt&&Rt.addEventListener("scroll",ht,{passive:!0}),At&&Rt.addEventListener("resize",ht)});const Mt=vt&&St?observeMove(vt,ht):null;let Pt=-1,xt=null;Ct&&(xt=new ResizeObserver(Rt=>{let[Nt]=Rt;Nt&&Nt.target===vt&&xt&&(xt.unobserve($),cancelAnimationFrame(Pt),Pt=requestAnimationFrame(()=>{var Lt;(Lt=xt)==null||Lt.observe($)})),ht()}),vt&&!Ft&&xt.observe(vt),xt.observe($));let $t,_t=Ft?getBoundingClientRect(_e):null;Ft&&jt();function jt(){const Rt=getBoundingClientRect(_e);_t&&(Rt.x!==_t.x||Rt.y!==_t.y||Rt.width!==_t.width||Rt.height!==_t.height)&&ht(),_t=Rt,$t=requestAnimationFrame(jt)}return ht(),()=>{var Rt;Et.forEach(Nt=>{wt&&Nt.removeEventListener("scroll",ht),At&&Nt.removeEventListener("resize",ht)}),Mt==null||Mt(),(Rt=xt)==null||Rt.disconnect(),xt=null,Ft&&cancelAnimationFrame($t)}}const detectOverflow=detectOverflow$1,offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,computePosition=(_e,$,ht)=>{const bt=new Map,wt={platform:platform$2,...ht},At={...wt.platform,_c:bt};return computePosition$1(_e,$,{...wt,platform:At})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(_e,$){if(_e===$)return!0;if(typeof _e!=typeof $)return!1;if(typeof _e=="function"&&_e.toString()===$.toString())return!0;let ht,bt,wt;if(_e&&$&&typeof _e=="object"){if(Array.isArray(_e)){if(ht=_e.length,ht!==$.length)return!1;for(bt=ht;bt--!==0;)if(!deepEqual(_e[bt],$[bt]))return!1;return!0}if(wt=Object.keys(_e),ht=wt.length,ht!==Object.keys($).length)return!1;for(bt=ht;bt--!==0;)if(!{}.hasOwnProperty.call($,wt[bt]))return!1;for(bt=ht;bt--!==0;){const At=wt[bt];if(!(At==="_owner"&&_e.$$typeof)&&!deepEqual(_e[At],$[At]))return!1}return!0}return _e!==_e&&$!==$}function getDPR(_e){return typeof window>"u"?1:(_e.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(_e,$){const ht=getDPR(_e);return Math.round($*ht)/ht}function useLatestRef(_e){const $=reactExports.useRef(_e);return index$1(()=>{$.current=_e}),$}function useFloating$1(_e){_e===void 0&&(_e={});const{placement:$="bottom",strategy:ht="absolute",middleware:bt=[],platform:wt,elements:{reference:At,floating:Ct}={},transform:St=!0,whileElementsMounted:Ft,open:vt}=_e,[Et,Mt]=reactExports.useState({x:0,y:0,strategy:ht,placement:$,middlewareData:{},isPositioned:!1}),[Pt,xt]=reactExports.useState(bt);deepEqual(Pt,bt)||xt(bt);const[$t,_t]=reactExports.useState(null),[jt,Rt]=reactExports.useState(null),Nt=reactExports.useCallback(nn=>{nn!==Ht.current&&(Ht.current=nn,_t(nn))},[]),Lt=reactExports.useCallback(nn=>{nn!==Ot.current&&(Ot.current=nn,Rt(nn))},[]),kt=At||$t,Bt=Ct||jt,Ht=reactExports.useRef(null),Ot=reactExports.useRef(null),Vt=reactExports.useRef(Et),Gt=Ft!=null,Wt=useLatestRef(Ft),en=useLatestRef(wt),Sn=reactExports.useCallback(()=>{if(!Ht.current||!Ot.current)return;const nn={placement:$,strategy:ht,middleware:Pt};en.current&&(nn.platform=en.current),computePosition(Ht.current,Ot.current,nn).then(Ut=>{const zt={...Ut,isPositioned:!0};sn.current&&!deepEqual(Vt.current,zt)&&(Vt.current=zt,reactDomExports.flushSync(()=>{Mt(zt)}))})},[Pt,$,ht,en]);index$1(()=>{vt===!1&&Vt.current.isPositioned&&(Vt.current.isPositioned=!1,Mt(nn=>({...nn,isPositioned:!1})))},[vt]);const sn=reactExports.useRef(!1);index$1(()=>(sn.current=!0,()=>{sn.current=!1}),[]),index$1(()=>{if(kt&&(Ht.current=kt),Bt&&(Ot.current=Bt),kt&&Bt){if(Wt.current)return Wt.current(kt,Bt,Sn);Sn()}},[kt,Bt,Sn,Wt,Gt]);const hn=reactExports.useMemo(()=>({reference:Ht,floating:Ot,setReference:Nt,setFloating:Lt}),[Nt,Lt]),Qt=reactExports.useMemo(()=>({reference:kt,floating:Bt}),[kt,Bt]),qt=reactExports.useMemo(()=>{const nn={position:ht,left:0,top:0};if(!Qt.floating)return nn;const Ut=roundByDPR(Qt.floating,Et.x),zt=roundByDPR(Qt.floating,Et.y);return St?{...nn,transform:"translate("+Ut+"px, "+zt+"px)",...getDPR(Qt.floating)>=1.5&&{willChange:"transform"}}:{position:ht,left:Ut,top:zt}},[ht,St,Qt.floating,Et.x,Et.y]);return reactExports.useMemo(()=>({...Et,update:Sn,refs:hn,elements:Qt,floatingStyles:qt}),[Et,Sn,hn,Qt,qt])}const offset=(_e,$)=>({...offset$1(_e),options:[_e,$]}),shift=(_e,$)=>({...shift$1(_e),options:[_e,$]}),flip=(_e,$)=>({...flip$1(_e),options:[_e,$]}),size=(_e,$)=>({...size$1(_e),options:[_e,$]}),SafeReact={...t$4},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(_e=>_e());function useEffectEvent(_e){const $=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{$.current=_e}),reactExports.useCallback(function(){for(var ht=arguments.length,bt=new Array(ht),wt=0;wt<ht;wt++)bt[wt]=arguments[wt];return $.current==null?void 0:$.current(...bt)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[_e,$]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{_e==null&&$(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),_e}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const _e=new Map;return{emit($,ht){var bt;(bt=_e.get($))==null||bt.forEach(wt=>wt(ht))},on($,ht){_e.set($,[..._e.get($)||[],ht])},off($,ht){var bt;_e.set($,((bt=_e.get($))==null?void 0:bt.filter(wt=>wt!==ht))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var _e;return((_e=reactExports.useContext(FloatingNodeContext))==null?void 0:_e.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(_e){const{open:$=!1,onOpenChange:ht,elements:bt}=_e,wt=useId(),At=reactExports.useRef({}),[Ct]=reactExports.useState(()=>createPubSub()),St=useFloatingParentNodeId()!=null,[Ft,vt]=reactExports.useState(bt.reference),Et=useEffectEvent((xt,$t,_t)=>{At.current.openEvent=xt?$t:void 0,Ct.emit("openchange",{open:xt,event:$t,reason:_t,nested:St}),ht==null||ht(xt,$t,_t)}),Mt=reactExports.useMemo(()=>({setPositionReference:vt}),[]),Pt=reactExports.useMemo(()=>({reference:Ft||bt.reference||null,floating:bt.floating||null,domReference:bt.reference}),[Ft,bt.reference,bt.floating]);return reactExports.useMemo(()=>({dataRef:At,open:$,onOpenChange:Et,elements:Pt,events:Ct,floatingId:wt,refs:Mt}),[$,Et,Pt,Ct,wt,Mt])}function useFloating(_e){_e===void 0&&(_e={});const{nodeId:$}=_e,ht=useFloatingRootContext({..._e,elements:{reference:null,floating:null,..._e.elements}}),bt=_e.rootContext||ht,wt=bt.elements,[At,Ct]=reactExports.useState(null),[St,Ft]=reactExports.useState(null),Et=(wt==null?void 0:wt.reference)||At,Mt=reactExports.useRef(null),Pt=useFloatingTree();index(()=>{Et&&(Mt.current=Et)},[Et]);const xt=useFloating$1({..._e,elements:{...wt,...St&&{reference:St}}}),$t=reactExports.useCallback(Lt=>{const kt=isElement(Lt)?{getBoundingClientRect:()=>Lt.getBoundingClientRect(),contextElement:Lt}:Lt;Ft(kt),xt.refs.setReference(kt)},[xt.refs]),_t=reactExports.useCallback(Lt=>{(isElement(Lt)||Lt===null)&&(Mt.current=Lt,Ct(Lt)),(isElement(xt.refs.reference.current)||xt.refs.reference.current===null||Lt!==null&&!isElement(Lt))&&xt.refs.setReference(Lt)},[xt.refs]),jt=reactExports.useMemo(()=>({...xt.refs,setReference:_t,setPositionReference:$t,domReference:Mt}),[xt.refs,_t,$t]),Rt=reactExports.useMemo(()=>({...xt.elements,domReference:Et}),[xt.elements,Et]),Nt=reactExports.useMemo(()=>({...xt,...bt,refs:jt,elements:Rt,nodeId:$}),[xt,jt,Rt,$,bt]);return index(()=>{bt.dataRef.current.floatingContext=Nt;const Lt=Pt==null?void 0:Pt.nodesRef.current.find(kt=>kt.id===$);Lt&&(Lt.context=Nt)}),reactExports.useMemo(()=>({...xt,context:Nt,refs:jt,elements:Rt}),[xt,jt,Rt,Nt])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps(_e,$,ht){const bt=new Map,wt=ht==="item";let At=_e;if(wt&&_e){const{[ACTIVE_KEY]:Ct,[SELECTED_KEY]:St,...Ft}=_e;At=Ft}return{...ht==="floating"&&{tabIndex:-1},...At,...$.map(Ct=>{const St=Ct?Ct[ht]:null;return typeof St=="function"?_e?St(_e):null:St}).concat(_e).reduce((Ct,St)=>(St&&Object.entries(St).forEach(Ft=>{let[vt,Et]=Ft;if(!(wt&&[ACTIVE_KEY,SELECTED_KEY].includes(vt)))if(vt.indexOf("on")===0){if(bt.has(vt)||bt.set(vt,[]),typeof Et=="function"){var Mt;(Mt=bt.get(vt))==null||Mt.push(Et),Ct[vt]=function(){for(var Pt,xt=arguments.length,$t=new Array(xt),_t=0;_t<xt;_t++)$t[_t]=arguments[_t];return(Pt=bt.get(vt))==null?void 0:Pt.map(jt=>jt(...$t)).find(jt=>jt!==void 0)}}}else Ct[vt]=Et}),Ct),{})}}function useInteractions(_e){_e===void 0&&(_e=[]);const $=_e.map(St=>St==null?void 0:St.reference),ht=_e.map(St=>St==null?void 0:St.floating),bt=_e.map(St=>St==null?void 0:St.item),wt=reactExports.useCallback(St=>mergeProps(St,_e,"reference"),$),At=reactExports.useCallback(St=>mergeProps(St,_e,"floating"),ht),Ct=reactExports.useCallback(St=>mergeProps(St,_e,"item"),bt);return reactExports.useMemo(()=>({getReferenceProps:wt,getFloatingProps:At,getItemProps:Ct}),[wt,At,Ct])}function getArgsWithCustomFloatingHeight(_e,$){return{..._e,rects:{..._e.rects,floating:{..._e.rects.floating,height:$}}}}const inner=_e=>({name:"inner",options:_e,async fn($){const{listRef:ht,overflowRef:bt,onFallbackChange:wt,offset:At=0,index:Ct=0,minItemsVisible:St=4,referenceOverflowThreshold:Ft=0,scrollRef:vt,...Et}=evaluate(_e,$),{rects:Mt,elements:{floating:Pt}}=$,xt=ht.current[Ct];if(!xt)return{};const $t={...$,...await offset(-xt.offsetTop-Pt.clientTop-Mt.reference.height/2-xt.offsetHeight/2-At).fn($)},_t=(vt==null?void 0:vt.current)||Pt,jt=await detectOverflow(getArgsWithCustomFloatingHeight($t,_t.scrollHeight),Et),Rt=await detectOverflow($t,{...Et,elementContext:"reference"}),Nt=Math.max(0,jt.top),Lt=$t.y+Nt,kt=Math.max(0,_t.scrollHeight-Nt-Math.max(0,jt.bottom));return _t.style.maxHeight=kt+"px",_t.scrollTop=Nt,wt&&(_t.offsetHeight<xt.offsetHeight*Math.min(St,ht.current.length-1)-1||Rt.top>=-Ft||Rt.bottom>=-Ft?reactDomExports.flushSync(()=>wt(!0)):reactDomExports.flushSync(()=>wt(!1))),bt&&(bt.current=await detectOverflow(getArgsWithCustomFloatingHeight({...$t,y:Lt},_t.offsetHeight),Et)),{y:Lt}}});function useInnerOffset(_e,$){const{open:ht,elements:bt}=_e,{enabled:wt=!0,overflowRef:At,scrollRef:Ct,onChange:St}=$,Ft=useEffectEvent(St),vt=reactExports.useRef(!1),Et=reactExports.useRef(null),Mt=reactExports.useRef(null);reactExports.useEffect(()=>{if(!wt)return;function xt(_t){if(_t.ctrlKey||!$t||At.current==null)return;const jt=_t.deltaY,Rt=At.current.top>=-.5,Nt=At.current.bottom>=-.5,Lt=$t.scrollHeight-$t.clientHeight,kt=jt<0?-1:1,Bt=jt<0?"max":"min";$t.scrollHeight<=$t.clientHeight||(!Rt&&jt>0||!Nt&&jt<0?(_t.preventDefault(),reactDomExports.flushSync(()=>{Ft(Ht=>Ht+Math[Bt](jt,Lt*kt))})):/firefox/i.test(getUserAgent())&&($t.scrollTop+=jt))}const $t=(Ct==null?void 0:Ct.current)||bt.floating;if(ht&&$t)return $t.addEventListener("wheel",xt),requestAnimationFrame(()=>{Et.current=$t.scrollTop,At.current!=null&&(Mt.current={...At.current})}),()=>{Et.current=null,Mt.current=null,$t.removeEventListener("wheel",xt)}},[wt,ht,bt.floating,At,Ct,Ft]);const Pt=reactExports.useMemo(()=>({onKeyDown(){vt.current=!0},onWheel(){vt.current=!1},onPointerMove(){vt.current=!1},onScroll(){const xt=(Ct==null?void 0:Ct.current)||bt.floating;if(!(!At.current||!xt||!vt.current)){if(Et.current!==null){const $t=xt.scrollTop-Et.current;(At.current.bottom<-.5&&$t<-1||At.current.top<-.5&&$t>1)&&reactDomExports.flushSync(()=>Ft(_t=>_t+$t))}requestAnimationFrame(()=>{Et.current=xt.scrollTop})}}}),[bt.floating,Ft,At,Ct]);return reactExports.useMemo(()=>wt?{floating:Pt}:{},[wt,Pt])}let y$1=reactExports.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y$1.displayName="FloatingContext";let S$1=reactExports.createContext(null);S$1.displayName="PlacementContext";function xe(_e){return reactExports.useMemo(()=>_e?typeof _e=="string"?{to:_e}:_e:null,[_e])}function ye(){return reactExports.useContext(y$1).setReference}function Fe(){return reactExports.useContext(y$1).getReferenceProps}function be(){let{getFloatingProps:_e,slot:$}=reactExports.useContext(y$1);return reactExports.useCallback((...ht)=>Object.assign({},_e(...ht),{"data-anchor":$.anchor}),[_e,$])}function Re(_e=null){_e===!1&&(_e=null),typeof _e=="string"&&(_e={to:_e});let $=reactExports.useContext(S$1),ht=reactExports.useMemo(()=>_e,[JSON.stringify(_e,typeof HTMLElement<"u"?(wt,At)=>At instanceof HTMLElement?At.outerHTML:At:void 0)]);n$3(()=>{$==null||$(ht??null)},[$,ht]);let bt=reactExports.useContext(y$1);return reactExports.useMemo(()=>[bt.setFloating,_e?bt.styles:{}],[bt.setFloating,_e,bt.styles])}let q=4;function ve({children:_e,enabled:$=!0}){let[ht,bt]=reactExports.useState(null),[wt,At]=reactExports.useState(0),Ct=reactExports.useRef(null),[St,Ft]=reactExports.useState(null);pe(St);let vt=$&&ht!==null&&St!==null,{to:Et="bottom",gap:Mt=0,offset:Pt=0,padding:xt=0,inner:$t}=ce(ht,St),[_t,jt="center"]=Et.split(" ");n$3(()=>{vt&&At(0)},[vt]);let{refs:Rt,floatingStyles:Nt,context:Lt}=useFloating({open:vt,placement:_t==="selection"?jt==="center"?"bottom":`bottom-${jt}`:jt==="center"?`${_t}`:`${_t}-${jt}`,strategy:"absolute",transform:!1,middleware:[offset({mainAxis:_t==="selection"?0:Mt,crossAxis:Pt}),shift({padding:xt}),_t!=="selection"&&flip({padding:xt}),_t==="selection"&&$t?inner({...$t,padding:xt,overflowRef:Ct,offset:wt,minItemsVisible:q,referenceOverflowThreshold:xt,onFallbackChange(en){var Sn,sn;if(!en)return;let hn=Lt.elements.floating;if(!hn)return;let Qt=parseFloat(getComputedStyle(hn).scrollPaddingBottom)||0,qt=Math.min(q,hn.childElementCount),nn=0,Ut=0;for(let zt of(sn=(Sn=Lt.elements.floating)==null?void 0:Sn.childNodes)!=null?sn:[])if(zt instanceof HTMLElement){let cn=zt.offsetTop,ln=cn+zt.clientHeight+Qt,Kt=hn.scrollTop,Jt=Kt+hn.clientHeight;if(cn>=Kt&&ln<=Jt)qt--;else{Ut=Math.max(0,Math.min(ln,Jt)-Math.max(cn,Kt)),nn=zt.clientHeight;break}}qt>=1&&At(zt=>{let cn=nn*qt-Ut+Qt;return zt>=cn?zt:cn})}}):null,size({padding:xt,apply({availableWidth:en,availableHeight:Sn,elements:sn}){Object.assign(sn.floating.style,{overflow:"auto",maxWidth:`${en}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${Sn}px)`})}})].filter(Boolean),whileElementsMounted:autoUpdate}),[kt=_t,Bt=jt]=Lt.placement.split("-");_t==="selection"&&(kt="selection");let Ht=reactExports.useMemo(()=>({anchor:[kt,Bt].filter(Boolean).join(" ")}),[kt,Bt]),Ot=useInnerOffset(Lt,{overflowRef:Ct,onChange:At}),{getReferenceProps:Vt,getFloatingProps:Gt}=useInteractions([Ot]),Wt=o$3(en=>{Ft(en),Rt.setFloating(en)});return reactExports.createElement(S$1.Provider,{value:bt},reactExports.createElement(y$1.Provider,{value:{setFloating:Wt,setReference:Rt.setReference,styles:Nt,getReferenceProps:Vt,getFloatingProps:Gt,slot:Ht}},_e))}function pe(_e){n$3(()=>{if(!_e)return;let $=new MutationObserver(()=>{let ht=_e.style.maxHeight;parseFloat(ht)!==parseInt(ht)&&(_e.style.maxHeight=`${Math.ceil(parseFloat(ht))}px`)});return $.observe(_e,{attributes:!0,attributeFilter:["style"]}),()=>{$.disconnect()}},[_e])}function ce(_e,$){var ht,bt,wt;let At=L((ht=_e==null?void 0:_e.gap)!=null?ht:"var(--anchor-gap, 0)",$),Ct=L((bt=_e==null?void 0:_e.offset)!=null?bt:"var(--anchor-offset, 0)",$),St=L((wt=_e==null?void 0:_e.padding)!=null?wt:"var(--anchor-padding, 0)",$);return{..._e,gap:At,offset:Ct,padding:St}}function L(_e,$,ht=void 0){let bt=p$3(),wt=o$3((Ft,vt)=>{if(Ft==null)return[ht,null];if(typeof Ft=="number")return[Ft,null];if(typeof Ft=="string"){if(!vt)return[ht,null];let Et=J$1(Ft,vt);return[Et,Mt=>{let Pt=D$1(Ft);{let xt=Pt.map($t=>window.getComputedStyle(vt).getPropertyValue($t));bt.requestAnimationFrame(function $t(){bt.nextFrame($t);let _t=!1;for(let[Rt,Nt]of Pt.entries()){let Lt=window.getComputedStyle(vt).getPropertyValue(Nt);if(xt[Rt]!==Lt){xt[Rt]=Lt,_t=!0;break}}if(!_t)return;let jt=J$1(Ft,vt);Et!==jt&&(Mt(jt),Et=jt)})}return bt.dispose}]}return[ht,null]}),At=reactExports.useMemo(()=>wt(_e,$)[0],[_e,$]),[Ct=At,St]=reactExports.useState();return n$3(()=>{let[Ft,vt]=wt(_e,$);if(St(Ft),!!vt)return vt(St)},[_e,$]),Ct}function D$1(_e){let $=/var\((.*)\)/.exec(_e);if($){let ht=$[1].indexOf(",");if(ht===-1)return[$[1]];let bt=$[1].slice(0,ht).trim(),wt=$[1].slice(ht+1).trim();return wt?[bt,...D$1(wt)]:[bt]}return[]}function J$1(_e,$){let ht=document.createElement("div");$.appendChild(ht),ht.style.setProperty("margin-top","0px","important"),ht.style.setProperty("margin-top",_e,"important");let bt=parseFloat(window.getComputedStyle(ht).marginTop)||0;return $.removeChild(ht),bt}let n=reactExports.createContext(null);n.displayName="OpenClosedContext";var i=(_e=>(_e[_e.Open=1]="Open",_e[_e.Closed=2]="Closed",_e[_e.Closing=4]="Closing",_e[_e.Opening=8]="Opening",_e))(i||{});function u$1(){return reactExports.useContext(n)}function c$2({value:_e,children:$}){return React.createElement(n.Provider,{value:_e},$)}function u(_e){throw new Error("Unexpected object: "+_e)}var c$1=(_e=>(_e[_e.First=0]="First",_e[_e.Previous=1]="Previous",_e[_e.Next=2]="Next",_e[_e.Last=3]="Last",_e[_e.Specific=4]="Specific",_e[_e.Nothing=5]="Nothing",_e))(c$1||{});function f(_e,$){let ht=$.resolveItems();if(ht.length<=0)return null;let bt=$.resolveActiveIndex(),wt=bt??-1;switch(_e.focus){case 0:{for(let At=0;At<ht.length;++At)if(!$.resolveDisabled(ht[At],At,ht))return At;return bt}case 1:{wt===-1&&(wt=ht.length);for(let At=wt-1;At>=0;--At)if(!$.resolveDisabled(ht[At],At,ht))return At;return bt}case 2:{for(let At=wt+1;At<ht.length;++At)if(!$.resolveDisabled(ht[At],At,ht))return At;return bt}case 3:{for(let At=ht.length-1;At>=0;--At)if(!$.resolveDisabled(ht[At],At,ht))return At;return bt}case 4:{for(let At=0;At<ht.length;++At)if($.resolveId(ht[At],At,ht)===_e.id)return At;return bt}case 5:return null;default:u(_e)}}function c(_e){let $=o$3(_e),ht=reactExports.useRef(!1);reactExports.useEffect(()=>(ht.current=!1,()=>{ht.current=!0,t$3(()=>{ht.current&&$()})}),[$])}function s$1(){let _e=typeof document>"u";return"useSyncExternalStore"in t$4?($=>$.useSyncExternalStore)(t$4)(()=>()=>{},()=>!1,()=>!_e):!1}function l(){let _e=s$1(),[$,ht]=reactExports.useState(s$5.isHandoffComplete);return $&&s$5.isHandoffComplete===!1&&ht(!1),reactExports.useEffect(()=>{$!==!0&&ht(!0)},[$]),reactExports.useEffect(()=>s$5.handoff(),[]),_e?!1:$}let e=reactExports.createContext(!1);function a$1(){return reactExports.useContext(e)}function D(_e){let $=a$1(),ht=reactExports.useContext(v),bt=n$1(_e),[wt,At]=reactExports.useState(()=>{var Ct;if(!$&&ht!==null)return(Ct=ht.current)!=null?Ct:null;if(s$5.isServer)return null;let St=bt==null?void 0:bt.getElementById("headlessui-portal-root");if(St)return St;if(bt===null)return null;let Ft=bt.createElement("div");return Ft.setAttribute("id","headlessui-portal-root"),bt.body.appendChild(Ft)});return reactExports.useEffect(()=>{wt!==null&&(bt!=null&&bt.body.contains(wt)||bt==null||bt.body.appendChild(wt))},[wt,bt]),reactExports.useEffect(()=>{$||ht!==null&&At(ht.current)},[ht,At,$]),wt}let M=reactExports.Fragment,N=I$3(function(_e,$){let ht=_e,bt=reactExports.useRef(null),wt=y$4(T$2(Et=>{bt.current=Et}),$),At=n$1(bt),Ct=D(bt),[St]=reactExports.useState(()=>{var Et;return s$5.isServer?null:(Et=At==null?void 0:At.createElement("div"))!=null?Et:null}),Ft=reactExports.useContext(y),vt=l();return n$3(()=>{!Ct||!St||Ct.contains(St)||(St.setAttribute("data-headlessui-portal",""),Ct.appendChild(St))},[Ct,St]),n$3(()=>{if(St&&Ft)return Ft.register(St)},[Ft,St]),c(()=>{var Et;!Ct||!St||(St instanceof Node&&Ct.contains(St)&&Ct.removeChild(St),Ct.childNodes.length<=0&&((Et=Ct.parentElement)==null||Et.removeChild(Ct)))}),vt?!Ct||!St?null:reactDomExports.createPortal(H$1({ourProps:{ref:wt},theirProps:ht,slot:{},defaultTag:M,name:"Portal"}),St):null});function S(_e,$){let ht=y$4($),{enabled:bt=!0,...wt}=_e;return bt?React.createElement(N,{...wt,ref:ht}):H$1({ourProps:{ref:ht},theirProps:wt,slot:{},defaultTag:M,name:"Portal"})}let j$1=reactExports.Fragment,v=reactExports.createContext(null);function W$1(_e,$){let{target:ht,...bt}=_e,wt={ref:y$4($)};return React.createElement(v.Provider,{value:ht},H$1({ourProps:wt,theirProps:bt,defaultTag:j$1,name:"Popover.Group"}))}let y=reactExports.createContext(null),I=I$3(S),J=I$3(W$1),te=Object.assign(I,{Group:J});function p(_e,$){let ht=reactExports.useRef({left:0,top:0});if(n$3(()=>{let wt=$.current;if(!wt)return;let At=wt.getBoundingClientRect();At&&(ht.current=At)},[_e]),$.current==null||!_e||$.current===document.activeElement)return!1;let bt=$.current.getBoundingClientRect();return bt.top!==ht.current.top||bt.left!==ht.current.left}let a=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o(_e){var $,ht;let bt=($=_e.innerText)!=null?$:"",wt=_e.cloneNode(!0);if(!(wt instanceof HTMLElement))return bt;let At=!1;for(let St of wt.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))St.remove(),At=!0;let Ct=At?(ht=wt.innerText)!=null?ht:"":bt;return a.test(Ct)&&(Ct=Ct.replace(a,"")),Ct}function g(_e){let $=_e.getAttribute("aria-label");if(typeof $=="string")return $.trim();let ht=_e.getAttribute("aria-labelledby");if(ht){let bt=ht.split(" ").map(wt=>{let At=document.getElementById(wt);if(At){let Ct=At.getAttribute("aria-label");return typeof Ct=="string"?Ct.trim():o(At).trim()}return null}).filter(Boolean);if(bt.length>0)return bt.join(", ")}return o(_e).trim()}function s(_e){let $=reactExports.useRef(""),ht=reactExports.useRef("");return o$3(()=>{let bt=_e.current;if(!bt)return"";let wt=bt.innerText;if($.current===wt)return ht.current;let At=g(bt).trim().toLowerCase();return $.current=wt,ht.current=At,At})}var Je=(_e=>(_e[_e.Open=0]="Open",_e[_e.Closed=1]="Closed",_e))(Je||{}),Ve=(_e=>(_e[_e.Pointer=0]="Pointer",_e[_e.Other=1]="Other",_e))(Ve||{}),Xe=(_e=>(_e[_e.OpenMenu=0]="OpenMenu",_e[_e.CloseMenu=1]="CloseMenu",_e[_e.GoToItem=2]="GoToItem",_e[_e.Search=3]="Search",_e[_e.ClearSearch=4]="ClearSearch",_e[_e.RegisterItem=5]="RegisterItem",_e[_e.UnregisterItem=6]="UnregisterItem",_e))(Xe||{});function W(_e,$=ht=>ht){let ht=_e.activeItemIndex!==null?_e.items[_e.activeItemIndex]:null,bt=_($(_e.items.slice()),At=>At.dataRef.current.domRef.current),wt=ht?bt.indexOf(ht):null;return wt===-1&&(wt=null),{items:bt,activeItemIndex:wt}}let $e={1(_e){return _e.menuState===1?_e:{..._e,activeItemIndex:null,menuState:1}},0(_e){return _e.menuState===0?_e:{..._e,__demoMode:!1,menuState:0}},2:(_e,$)=>{var ht,bt,wt,At,Ct;if(_e.menuState===1)return _e;let St={..._e,searchQuery:"",activationTrigger:(ht=$.trigger)!=null?ht:1,__demoMode:!1};if($.focus===c$1.Nothing)return{...St,activeItemIndex:null};if($.focus===c$1.Specific)return{...St,activeItemIndex:_e.items.findIndex(Et=>Et.id===$.id)};if($.focus===c$1.Previous){let Et=_e.activeItemIndex;if(Et!==null){let Mt=_e.items[Et].dataRef.current.domRef,Pt=f($,{resolveItems:()=>_e.items,resolveActiveIndex:()=>_e.activeItemIndex,resolveId:xt=>xt.id,resolveDisabled:xt=>xt.dataRef.current.disabled});if(Pt!==null){let xt=_e.items[Pt].dataRef.current.domRef;if(((bt=Mt.current)==null?void 0:bt.previousElementSibling)===xt.current||((wt=xt.current)==null?void 0:wt.previousElementSibling)===null)return{...St,activeItemIndex:Pt}}}}else if($.focus===c$1.Next){let Et=_e.activeItemIndex;if(Et!==null){let Mt=_e.items[Et].dataRef.current.domRef,Pt=f($,{resolveItems:()=>_e.items,resolveActiveIndex:()=>_e.activeItemIndex,resolveId:xt=>xt.id,resolveDisabled:xt=>xt.dataRef.current.disabled});if(Pt!==null){let xt=_e.items[Pt].dataRef.current.domRef;if(((At=Mt.current)==null?void 0:At.nextElementSibling)===xt.current||((Ct=xt.current)==null?void 0:Ct.nextElementSibling)===null)return{...St,activeItemIndex:Pt}}}}let Ft=W(_e),vt=f($,{resolveItems:()=>Ft.items,resolveActiveIndex:()=>Ft.activeItemIndex,resolveId:Et=>Et.id,resolveDisabled:Et=>Et.dataRef.current.disabled});return{...St,...Ft,activeItemIndex:vt}},3:(_e,$)=>{let ht=_e.searchQuery!==""?0:1,bt=_e.searchQuery+$.value.toLowerCase(),wt=(_e.activeItemIndex!==null?_e.items.slice(_e.activeItemIndex+ht).concat(_e.items.slice(0,_e.activeItemIndex+ht)):_e.items).find(Ct=>{var St;return((St=Ct.dataRef.current.textValue)==null?void 0:St.startsWith(bt))&&!Ct.dataRef.current.disabled}),At=wt?_e.items.indexOf(wt):-1;return At===-1||At===_e.activeItemIndex?{..._e,searchQuery:bt}:{..._e,searchQuery:bt,activeItemIndex:At,activationTrigger:1}},4(_e){return _e.searchQuery===""?_e:{..._e,searchQuery:"",searchActiveItemIndex:null}},5:(_e,$)=>{let ht=W(_e,bt=>[...bt,{id:$.id,dataRef:$.dataRef}]);return{..._e,...ht}},6:(_e,$)=>{let ht=W(_e,bt=>{let wt=bt.findIndex(At=>At.id===$.id);return wt!==-1&&bt.splice(wt,1),bt});return{..._e,...ht,activationTrigger:1}}},j=reactExports.createContext(null);j.displayName="MenuContext";function B(_e){let $=reactExports.useContext(j);if($===null){let ht=new Error(`<${_e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(ht,B),ht}return $}function qe(_e,$){return u$6($.type,$e,_e,$)}let ze=reactExports.Fragment;function Ye(_e,$){let{__demoMode:ht=!1,...bt}=_e,wt=reactExports.useReducer(qe,{__demoMode:ht,menuState:ht?0:1,buttonRef:reactExports.createRef(),itemsRef:reactExports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:At,itemsRef:Ct,buttonRef:St},Ft]=wt,vt=y$4($);F$2(At===0,[St,Ct],(xt,$t)=>{var _t;Ft({type:1}),A$1($t,h.Loose)||(xt.preventDefault(),(_t=St.current)==null||_t.focus())});let Et=o$3(()=>{Ft({type:1})}),Mt=reactExports.useMemo(()=>({open:At===0,close:Et}),[At,Et]),Pt={ref:vt};return React.createElement(ve,null,React.createElement(j.Provider,{value:wt},React.createElement(c$2,{value:u$6(At,{0:i.Open,1:i.Closed})},H$1({ourProps:Pt,theirProps:bt,slot:Mt,defaultTag:ze,name:"Menu"}))))}let Ze="button";function et(_e,$){var ht;let bt=reactExports.useId(),{id:wt=`headlessui-menu-button-${bt}`,disabled:At=!1,autoFocus:Ct=!1,...St}=_e,[Ft,vt]=B("Menu.Button"),Et=Fe(),Mt=y$4(Ft.buttonRef,$,ye()),Pt=o$3(Ot=>{switch(Ot.key){case o$2.Space:case o$2.Enter:case o$2.ArrowDown:Ot.preventDefault(),Ot.stopPropagation(),reactDomExports.flushSync(()=>vt({type:0})),vt({type:2,focus:c$1.First});break;case o$2.ArrowUp:Ot.preventDefault(),Ot.stopPropagation(),reactDomExports.flushSync(()=>vt({type:0})),vt({type:2,focus:c$1.Last});break}}),xt=o$3(Ot=>{switch(Ot.key){case o$2.Space:Ot.preventDefault();break}}),$t=o$3(Ot=>{var Vt;if(r$1(Ot.currentTarget))return Ot.preventDefault();At||(Ft.menuState===0?(reactDomExports.flushSync(()=>vt({type:1})),(Vt=Ft.buttonRef.current)==null||Vt.focus({preventScroll:!0})):(Ot.preventDefault(),vt({type:0})))}),{isFocusVisible:_t,focusProps:jt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:Ct}),{isHovered:Rt,hoverProps:Nt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:At}),{pressed:Lt,pressProps:kt}=w$1({disabled:At}),Bt=reactExports.useMemo(()=>({open:Ft.menuState===0,active:Lt||Ft.menuState===0,disabled:At,hover:Rt,focus:_t,autofocus:Ct}),[Ft,Rt,_t,Lt,At,Ct]),Ht=D$3(Et(),{ref:Mt,id:wt,type:T(_e,Ft.buttonRef),"aria-haspopup":"menu","aria-controls":(ht=Ft.itemsRef.current)==null?void 0:ht.id,"aria-expanded":Ft.menuState===0,disabled:At||void 0,autoFocus:Ct,onKeyDown:Pt,onKeyUp:xt,onClick:$t},jt,Nt,kt);return H$1({ourProps:Ht,theirProps:St,slot:Bt,defaultTag:Ze,name:"Menu.Button"})}let tt="div",nt=O$1.RenderStrategy|O$1.Static;function rt(_e,$){var ht,bt;let wt=reactExports.useId(),{id:At=`headlessui-menu-items-${wt}`,anchor:Ct,portal:St=!1,modal:Ft=!0,transition:vt=!1,...Et}=_e,Mt=xe(Ct),[Pt,xt]=B("Menu.Items"),[$t,_t]=Re(Mt),jt=be(),Rt=y$4(Pt.itemsRef,$,Mt?$t:null),Nt=n$1(Pt.itemsRef);Mt&&(St=!0);let Lt=u$1(),[kt,Bt]=V(vt,Pt.itemsRef,Lt!==null?(Lt&i.Open)===i.Open:Pt.menuState===0);m$1(kt,Pt.buttonRef,()=>{xt({type:1})});let Ht=Pt.__demoMode?!1:Ft&&Pt.menuState===0;f$1(Ht,Nt);let Ot=Pt.__demoMode?!1:Ft&&Pt.menuState===0;y$3(Ot,{allowed:o$3(()=>[Pt.buttonRef.current,Pt.itemsRef.current])});let Vt=Pt.menuState!==0,Gt=p(Vt,Pt.buttonRef)?!1:kt;reactExports.useEffect(()=>{let Qt=Pt.itemsRef.current;Qt&&Pt.menuState===0&&Qt!==(Nt==null?void 0:Nt.activeElement)&&Qt.focus({preventScroll:!0})},[Pt.menuState,Pt.itemsRef,Nt,Pt.itemsRef.current]),F(Pt.menuState===0,{container:Pt.itemsRef.current,accept(Qt){return Qt.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:Qt.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(Qt){Qt.setAttribute("role","none")}});let Wt=p$3(),en=o$3(Qt=>{var qt,nn,Ut;switch(Wt.dispose(),Qt.key){case o$2.Space:if(Pt.searchQuery!=="")return Qt.preventDefault(),Qt.stopPropagation(),xt({type:3,value:Qt.key});case o$2.Enter:if(Qt.preventDefault(),Qt.stopPropagation(),xt({type:1}),Pt.activeItemIndex!==null){let{dataRef:zt}=Pt.items[Pt.activeItemIndex];(nn=(qt=zt.current)==null?void 0:qt.domRef.current)==null||nn.click()}G(Pt.buttonRef.current);break;case o$2.ArrowDown:return Qt.preventDefault(),Qt.stopPropagation(),xt({type:2,focus:c$1.Next});case o$2.ArrowUp:return Qt.preventDefault(),Qt.stopPropagation(),xt({type:2,focus:c$1.Previous});case o$2.Home:case o$2.PageUp:return Qt.preventDefault(),Qt.stopPropagation(),xt({type:2,focus:c$1.First});case o$2.End:case o$2.PageDown:return Qt.preventDefault(),Qt.stopPropagation(),xt({type:2,focus:c$1.Last});case o$2.Escape:Qt.preventDefault(),Qt.stopPropagation(),reactDomExports.flushSync(()=>xt({type:1})),(Ut=Pt.buttonRef.current)==null||Ut.focus({preventScroll:!0});break;case o$2.Tab:Qt.preventDefault(),Qt.stopPropagation(),reactDomExports.flushSync(()=>xt({type:1})),j$2(Pt.buttonRef.current,Qt.shiftKey?F$3.Previous:F$3.Next);break;default:Qt.key.length===1&&(xt({type:3,value:Qt.key}),Wt.setTimeout(()=>xt({type:4}),350));break}}),Sn=o$3(Qt=>{switch(Qt.key){case o$2.Space:Qt.preventDefault();break}}),sn=reactExports.useMemo(()=>({open:Pt.menuState===0}),[Pt.menuState]),hn=D$3(Mt?jt():{},{"aria-activedescendant":Pt.activeItemIndex===null||(ht=Pt.items[Pt.activeItemIndex])==null?void 0:ht.id,"aria-labelledby":(bt=Pt.buttonRef.current)==null?void 0:bt.id,id:At,onKeyDown:en,onKeyUp:Sn,role:"menu",tabIndex:Pt.menuState===0?0:void 0,ref:Rt,style:{...Et.style,..._t,"--button-width":f$4(Pt.buttonRef,!0).width},...A(Bt)});return React.createElement(te,{enabled:St?_e.static||kt:!1},H$1({ourProps:hn,theirProps:Et,slot:sn,defaultTag:tt,features:nt,visible:Gt,name:"Menu.Items"}))}let ot=reactExports.Fragment;function at(_e,$){let ht=reactExports.useId(),{id:bt=`headlessui-menu-item-${ht}`,disabled:wt=!1,...At}=_e,[Ct,St]=B("Menu.Item"),Ft=Ct.activeItemIndex!==null?Ct.items[Ct.activeItemIndex].id===bt:!1,vt=reactExports.useRef(null),Et=y$4($,vt);n$3(()=>{if(!Ct.__demoMode&&Ct.menuState===0&&Ft&&Ct.activationTrigger!==0)return o$4().requestAnimationFrame(()=>{var Gt,Wt;(Wt=(Gt=vt.current)==null?void 0:Gt.scrollIntoView)==null||Wt.call(Gt,{block:"nearest"})})},[Ct.__demoMode,vt,Ft,Ct.menuState,Ct.activationTrigger,Ct.activeItemIndex]);let Mt=s(vt),Pt=reactExports.useRef({disabled:wt,domRef:vt,get textValue(){return Mt()}});n$3(()=>{Pt.current.disabled=wt},[Pt,wt]),n$3(()=>(St({type:5,id:bt,dataRef:Pt}),()=>St({type:6,id:bt})),[Pt,bt]);let xt=o$3(()=>{St({type:1})}),$t=o$3(Gt=>{if(wt)return Gt.preventDefault();St({type:1}),G(Ct.buttonRef.current)}),_t=o$3(()=>{if(wt)return St({type:2,focus:c$1.Nothing});St({type:2,focus:c$1.Specific,id:bt})}),jt=u$2(),Rt=o$3(Gt=>{jt.update(Gt),!wt&&(Ft||St({type:2,focus:c$1.Specific,id:bt,trigger:0}))}),Nt=o$3(Gt=>{jt.wasMoved(Gt)&&(wt||Ft||St({type:2,focus:c$1.Specific,id:bt,trigger:0}))}),Lt=o$3(Gt=>{jt.wasMoved(Gt)&&(wt||Ft&&St({type:2,focus:c$1.Nothing}))}),[kt,Bt]=z(),[Ht,Ot]=U$1(),Vt=reactExports.useMemo(()=>({active:Ft,focus:Ft,disabled:wt,close:xt}),[Ft,wt,xt]);return React.createElement(Bt,null,React.createElement(Ot,null,H$1({ourProps:{id:bt,ref:Et,role:"menuitem",tabIndex:wt===!0?void 0:-1,"aria-disabled":wt===!0?!0:void 0,"aria-labelledby":kt,"aria-describedby":Ht,disabled:void 0,onClick:$t,onFocus:_t,onPointerEnter:Rt,onMouseEnter:Rt,onPointerMove:Nt,onMouseMove:Nt,onPointerLeave:Lt,onMouseLeave:Lt},theirProps:At,slot:Vt,defaultTag:ot,name:"Menu.Item"})))}let it="div";function st(_e,$){let[ht,bt]=z();return React.createElement(bt,null,H$1({ourProps:{ref:$,"aria-labelledby":ht,role:"group"},theirProps:_e,slot:{},defaultTag:it,name:"Menu.Section"}))}let lt="header";function ut(_e,$){let ht=reactExports.useId(),{id:bt=`headlessui-menu-heading-${ht}`,...wt}=_e,At=P$1();n$3(()=>At.register(bt),[bt,At.register]);let Ct={id:bt,ref:$,role:"presentation",...At.props};return H$1({ourProps:Ct,theirProps:wt,slot:{},defaultTag:lt,name:"Menu.Heading"})}let pt="div";function dt(_e,$){return H$1({ourProps:{ref:$,role:"separator"},theirProps:_e,slot:{},defaultTag:pt,name:"Menu.Separator"})}let mt=I$3(Ye),ct=I$3(et),ft=I$3(rt),Tt=I$3(at),yt=I$3(st),gt=I$3(ut),It=I$3(dt),Zt=Object.assign(mt,{Button:ct,Items:ft,Item:Tt,Section:yt,Heading:gt,Separator:It});function ChevronDownIcon({title:_e,titleId:$,...ht},bt){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:bt,"aria-labelledby":$},ht),_e?reactExports.createElement("title",{id:$},_e):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const ForwardRef=reactExports.forwardRef(ChevronDownIcon);function bind(_e,$){return function(){return _e.apply($,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(_e=>$=>{const ht=toString.call($);return _e[ht]||(_e[ht]=ht.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=_e=>(_e=_e.toLowerCase(),$=>kindOf($)===_e),typeOfTest=_e=>$=>typeof $===_e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(_e){return _e!==null&&!isUndefined(_e)&&_e.constructor!==null&&!isUndefined(_e.constructor)&&isFunction(_e.constructor.isBuffer)&&_e.constructor.isBuffer(_e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(_e){let $;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?$=ArrayBuffer.isView(_e):$=_e&&_e.buffer&&isArrayBuffer(_e.buffer),$}const isString$1=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=_e=>_e!==null&&typeof _e=="object",isBoolean=_e=>_e===!0||_e===!1,isPlainObject=_e=>{if(kindOf(_e)!=="object")return!1;const $=getPrototypeOf(_e);return($===null||$===Object.prototype||Object.getPrototypeOf($)===null)&&!(Symbol.toStringTag in _e)&&!(Symbol.iterator in _e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=_e=>isObject(_e)&&isFunction(_e.pipe),isFormData=_e=>{let $;return _e&&(typeof FormData=="function"&&_e instanceof FormData||isFunction(_e.append)&&(($=kindOf(_e))==="formdata"||$==="object"&&isFunction(_e.toString)&&_e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=_e=>_e.trim?_e.trim():_e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(_e,$,{allOwnKeys:ht=!1}={}){if(_e===null||typeof _e>"u")return;let bt,wt;if(typeof _e!="object"&&(_e=[_e]),isArray(_e))for(bt=0,wt=_e.length;bt<wt;bt++)$.call(null,_e[bt],bt,_e);else{const At=ht?Object.getOwnPropertyNames(_e):Object.keys(_e),Ct=At.length;let St;for(bt=0;bt<Ct;bt++)St=At[bt],$.call(null,_e[St],St,_e)}}function findKey(_e,$){$=$.toLowerCase();const ht=Object.keys(_e);let bt=ht.length,wt;for(;bt-- >0;)if(wt=ht[bt],$===wt.toLowerCase())return wt;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=_e=>!isUndefined(_e)&&_e!==_global;function merge(){const{caseless:_e}=isContextDefined(this)&&this||{},$={},ht=(bt,wt)=>{const At=_e&&findKey($,wt)||wt;isPlainObject($[At])&&isPlainObject(bt)?$[At]=merge($[At],bt):isPlainObject(bt)?$[At]=merge({},bt):isArray(bt)?$[At]=bt.slice():$[At]=bt};for(let bt=0,wt=arguments.length;bt<wt;bt++)arguments[bt]&&forEach(arguments[bt],ht);return $}const extend=(_e,$,ht,{allOwnKeys:bt}={})=>(forEach($,(wt,At)=>{ht&&isFunction(wt)?_e[At]=bind(wt,ht):_e[At]=wt},{allOwnKeys:bt}),_e),stripBOM=_e=>(_e.charCodeAt(0)===65279&&(_e=_e.slice(1)),_e),inherits=(_e,$,ht,bt)=>{_e.prototype=Object.create($.prototype,bt),_e.prototype.constructor=_e,Object.defineProperty(_e,"super",{value:$.prototype}),ht&&Object.assign(_e.prototype,ht)},toFlatObject=(_e,$,ht,bt)=>{let wt,At,Ct;const St={};if($=$||{},_e==null)return $;do{for(wt=Object.getOwnPropertyNames(_e),At=wt.length;At-- >0;)Ct=wt[At],(!bt||bt(Ct,_e,$))&&!St[Ct]&&($[Ct]=_e[Ct],St[Ct]=!0);_e=ht!==!1&&getPrototypeOf(_e)}while(_e&&(!ht||ht(_e,$))&&_e!==Object.prototype);return $},endsWith=(_e,$,ht)=>{_e=String(_e),(ht===void 0||ht>_e.length)&&(ht=_e.length),ht-=$.length;const bt=_e.indexOf($,ht);return bt!==-1&&bt===ht},toArray=_e=>{if(!_e)return null;if(isArray(_e))return _e;let $=_e.length;if(!isNumber($))return null;const ht=new Array($);for(;$-- >0;)ht[$]=_e[$];return ht},isTypedArray=(_e=>$=>_e&&$ instanceof _e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(_e,$)=>{const bt=(_e&&_e[Symbol.iterator]).call(_e);let wt;for(;(wt=bt.next())&&!wt.done;){const At=wt.value;$.call(_e,At[0],At[1])}},matchAll=(_e,$)=>{let ht;const bt=[];for(;(ht=_e.exec($))!==null;)bt.push(ht);return bt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=_e=>_e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(ht,bt,wt){return bt.toUpperCase()+wt}),hasOwnProperty=(({hasOwnProperty:_e})=>($,ht)=>_e.call($,ht))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(_e,$)=>{const ht=Object.getOwnPropertyDescriptors(_e),bt={};forEach(ht,(wt,At)=>{let Ct;(Ct=$(wt,At,_e))!==!1&&(bt[At]=Ct||wt)}),Object.defineProperties(_e,bt)},freezeMethods=_e=>{reduceDescriptors(_e,($,ht)=>{if(isFunction(_e)&&["arguments","caller","callee"].indexOf(ht)!==-1)return!1;const bt=_e[ht];if(isFunction(bt)){if($.enumerable=!1,"writable"in $){$.writable=!1;return}$.set||($.set=()=>{throw Error("Can not rewrite read-only method '"+ht+"'")})}})},toObjectSet=(_e,$)=>{const ht={},bt=wt=>{wt.forEach(At=>{ht[At]=!0})};return isArray(_e)?bt(_e):bt(String(_e).split($)),ht},noop$1=()=>{},toFiniteNumber=(_e,$)=>_e!=null&&Number.isFinite(_e=+_e)?_e:$,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(_e=16,$=ALPHABET.ALPHA_DIGIT)=>{let ht="";const{length:bt}=$;for(;_e--;)ht+=$[Math.random()*bt|0];return ht};function isSpecCompliantForm(_e){return!!(_e&&isFunction(_e.append)&&_e[Symbol.toStringTag]==="FormData"&&_e[Symbol.iterator])}const toJSONObject=_e=>{const $=new Array(10),ht=(bt,wt)=>{if(isObject(bt)){if($.indexOf(bt)>=0)return;if(!("toJSON"in bt)){$[wt]=bt;const At=isArray(bt)?[]:{};return forEach(bt,(Ct,St)=>{const Ft=ht(Ct,wt+1);!isUndefined(Ft)&&(At[St]=Ft)}),$[wt]=void 0,At}}return bt};return ht(_e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=_e=>_e&&(isObject(_e)||isFunction(_e))&&isFunction(_e.then)&&isFunction(_e.catch),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(_e,$,ht,bt,wt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=_e,this.name="AxiosError",$&&(this.code=$),ht&&(this.config=ht),bt&&(this.request=bt),wt&&(this.response=wt)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(_e=>{descriptors[_e]={value:_e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(_e,$,ht,bt,wt,At)=>{const Ct=Object.create(prototype$1);return utils$1.toFlatObject(_e,Ct,function(Ft){return Ft!==Error.prototype},St=>St!=="isAxiosError"),AxiosError.call(Ct,_e.message,$,ht,bt,wt),Ct.cause=_e,Ct.name=_e.name,At&&Object.assign(Ct,At),Ct};const httpAdapter=null;function isVisitable(_e){return utils$1.isPlainObject(_e)||utils$1.isArray(_e)}function removeBrackets(_e){return utils$1.endsWith(_e,"[]")?_e.slice(0,-2):_e}function renderKey(_e,$,ht){return _e?_e.concat($).map(function(wt,At){return wt=removeBrackets(wt),!ht&&At?"["+wt+"]":wt}).join(ht?".":""):$}function isFlatArray(_e){return utils$1.isArray(_e)&&!_e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function($){return/^is[A-Z]/.test($)});function toFormData(_e,$,ht){if(!utils$1.isObject(_e))throw new TypeError("target must be an object");$=$||new FormData,ht=utils$1.toFlatObject(ht,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_t,jt){return!utils$1.isUndefined(jt[_t])});const bt=ht.metaTokens,wt=ht.visitor||Et,At=ht.dots,Ct=ht.indexes,Ft=(ht.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm($);if(!utils$1.isFunction(wt))throw new TypeError("visitor must be a function");function vt($t){if($t===null)return"";if(utils$1.isDate($t))return $t.toISOString();if(!Ft&&utils$1.isBlob($t))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer($t)||utils$1.isTypedArray($t)?Ft&&typeof Blob=="function"?new Blob([$t]):Buffer.from($t):$t}function Et($t,_t,jt){let Rt=$t;if($t&&!jt&&typeof $t=="object"){if(utils$1.endsWith(_t,"{}"))_t=bt?_t:_t.slice(0,-2),$t=JSON.stringify($t);else if(utils$1.isArray($t)&&isFlatArray($t)||(utils$1.isFileList($t)||utils$1.endsWith(_t,"[]"))&&(Rt=utils$1.toArray($t)))return _t=removeBrackets(_t),Rt.forEach(function(Lt,kt){!(utils$1.isUndefined(Lt)||Lt===null)&&$.append(Ct===!0?renderKey([_t],kt,At):Ct===null?_t:_t+"[]",vt(Lt))}),!1}return isVisitable($t)?!0:($.append(renderKey(jt,_t,At),vt($t)),!1)}const Mt=[],Pt=Object.assign(predicates,{defaultVisitor:Et,convertValue:vt,isVisitable});function xt($t,_t){if(!utils$1.isUndefined($t)){if(Mt.indexOf($t)!==-1)throw Error("Circular reference detected in "+_t.join("."));Mt.push($t),utils$1.forEach($t,function(Rt,Nt){(!(utils$1.isUndefined(Rt)||Rt===null)&&wt.call($,Rt,utils$1.isString(Nt)?Nt.trim():Nt,_t,Pt))===!0&&xt(Rt,_t?_t.concat(Nt):[Nt])}),Mt.pop()}}if(!utils$1.isObject(_e))throw new TypeError("data must be an object");return xt(_e),$}function encode$1(_e){const $={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(_e).replace(/[!'()~]|%20|%00/g,function(bt){return $[bt]})}function AxiosURLSearchParams(_e,$){this._pairs=[],_e&&toFormData(_e,this,$)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function($,ht){this._pairs.push([$,ht])};prototype.toString=function($){const ht=$?function(bt){return $.call(this,bt,encode$1)}:encode$1;return this._pairs.map(function(wt){return ht(wt[0])+"="+ht(wt[1])},"").join("&")};function encode(_e){return encodeURIComponent(_e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(_e,$,ht){if(!$)return _e;const bt=ht&&ht.encode||encode,wt=ht&&ht.serialize;let At;if(wt?At=wt($,ht):At=utils$1.isURLSearchParams($)?$.toString():new AxiosURLSearchParams($,ht).toString(bt),At){const Ct=_e.indexOf("#");Ct!==-1&&(_e=_e.slice(0,Ct)),_e+=(_e.indexOf("?")===-1?"?":"&")+At}return _e}class InterceptorManager{constructor(){this.handlers=[]}use($,ht,bt){return this.handlers.push({fulfilled:$,rejected:ht,synchronous:bt?bt.synchronous:!1,runWhen:bt?bt.runWhen:null}),this.handlers.length-1}eject($){this.handlers[$]&&(this.handlers[$]=null)}clear(){this.handlers&&(this.handlers=[])}forEach($){utils$1.forEach(this.handlers,function(bt){bt!==null&&$(bt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(_e=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(_e)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(_e,$){return toFormData(_e,new platform.classes.URLSearchParams,Object.assign({visitor:function(ht,bt,wt,At){return platform.isNode&&utils$1.isBuffer(ht)?(this.append(bt,ht.toString("base64")),!1):At.defaultVisitor.apply(this,arguments)}},$))}function parsePropPath(_e){return utils$1.matchAll(/\w+|\[(\w*)]/g,_e).map($=>$[0]==="[]"?"":$[1]||$[0])}function arrayToObject(_e){const $={},ht=Object.keys(_e);let bt;const wt=ht.length;let At;for(bt=0;bt<wt;bt++)At=ht[bt],$[At]=_e[At];return $}function formDataToJSON(_e){function $(ht,bt,wt,At){let Ct=ht[At++];if(Ct==="__proto__")return!0;const St=Number.isFinite(+Ct),Ft=At>=ht.length;return Ct=!Ct&&utils$1.isArray(wt)?wt.length:Ct,Ft?(utils$1.hasOwnProp(wt,Ct)?wt[Ct]=[wt[Ct],bt]:wt[Ct]=bt,!St):((!wt[Ct]||!utils$1.isObject(wt[Ct]))&&(wt[Ct]=[]),$(ht,bt,wt[Ct],At)&&utils$1.isArray(wt[Ct])&&(wt[Ct]=arrayToObject(wt[Ct])),!St)}if(utils$1.isFormData(_e)&&utils$1.isFunction(_e.entries)){const ht={};return utils$1.forEachEntry(_e,(bt,wt)=>{$(parsePropPath(bt),wt,ht,0)}),ht}return null}function stringifySafely(_e,$,ht){if(utils$1.isString(_e))try{return($||JSON.parse)(_e),utils$1.trim(_e)}catch(bt){if(bt.name!=="SyntaxError")throw bt}return(ht||JSON.stringify)(_e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function($,ht){const bt=ht.getContentType()||"",wt=bt.indexOf("application/json")>-1,At=utils$1.isObject($);if(At&&utils$1.isHTMLForm($)&&($=new FormData($)),utils$1.isFormData($))return wt?JSON.stringify(formDataToJSON($)):$;if(utils$1.isArrayBuffer($)||utils$1.isBuffer($)||utils$1.isStream($)||utils$1.isFile($)||utils$1.isBlob($)||utils$1.isReadableStream($))return $;if(utils$1.isArrayBufferView($))return $.buffer;if(utils$1.isURLSearchParams($))return ht.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),$.toString();let St;if(At){if(bt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm($,this.formSerializer).toString();if((St=utils$1.isFileList($))||bt.indexOf("multipart/form-data")>-1){const Ft=this.env&&this.env.FormData;return toFormData(St?{"files[]":$}:$,Ft&&new Ft,this.formSerializer)}}return At||wt?(ht.setContentType("application/json",!1),stringifySafely($)):$}],transformResponse:[function($){const ht=this.transitional||defaults.transitional,bt=ht&&ht.forcedJSONParsing,wt=this.responseType==="json";if(utils$1.isResponse($)||utils$1.isReadableStream($))return $;if($&&utils$1.isString($)&&(bt&&!this.responseType||wt)){const Ct=!(ht&&ht.silentJSONParsing)&&wt;try{return JSON.parse($)}catch(St){if(Ct)throw St.name==="SyntaxError"?AxiosError.from(St,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):St}}return $}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function($){return $>=200&&$<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],_e=>{defaults.headers[_e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=_e=>{const $={};let ht,bt,wt;return _e&&_e.split(`
`).forEach(function(Ct){wt=Ct.indexOf(":"),ht=Ct.substring(0,wt).trim().toLowerCase(),bt=Ct.substring(wt+1).trim(),!(!ht||$[ht]&&ignoreDuplicateOf[ht])&&(ht==="set-cookie"?$[ht]?$[ht].push(bt):$[ht]=[bt]:$[ht]=$[ht]?$[ht]+", "+bt:bt)}),$},$internals=Symbol("internals");function normalizeHeader(_e){return _e&&String(_e).trim().toLowerCase()}function normalizeValue(_e){return _e===!1||_e==null?_e:utils$1.isArray(_e)?_e.map(normalizeValue):String(_e)}function parseTokens(_e){const $=Object.create(null),ht=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let bt;for(;bt=ht.exec(_e);)$[bt[1]]=bt[2];return $}const isValidHeaderName=_e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_e.trim());function matchHeaderValue(_e,$,ht,bt,wt){if(utils$1.isFunction(bt))return bt.call(this,$,ht);if(wt&&($=ht),!!utils$1.isString($)){if(utils$1.isString(bt))return $.indexOf(bt)!==-1;if(utils$1.isRegExp(bt))return bt.test($)}}function formatHeader(_e){return _e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,($,ht,bt)=>ht.toUpperCase()+bt)}function buildAccessors(_e,$){const ht=utils$1.toCamelCase(" "+$);["get","set","has"].forEach(bt=>{Object.defineProperty(_e,bt+ht,{value:function(wt,At,Ct){return this[bt].call(this,$,wt,At,Ct)},configurable:!0})})}class AxiosHeaders{constructor($){$&&this.set($)}set($,ht,bt){const wt=this;function At(St,Ft,vt){const Et=normalizeHeader(Ft);if(!Et)throw new Error("header name must be a non-empty string");const Mt=utils$1.findKey(wt,Et);(!Mt||wt[Mt]===void 0||vt===!0||vt===void 0&&wt[Mt]!==!1)&&(wt[Mt||Ft]=normalizeValue(St))}const Ct=(St,Ft)=>utils$1.forEach(St,(vt,Et)=>At(vt,Et,Ft));if(utils$1.isPlainObject($)||$ instanceof this.constructor)Ct($,ht);else if(utils$1.isString($)&&($=$.trim())&&!isValidHeaderName($))Ct(parseHeaders($),ht);else if(utils$1.isHeaders($))for(const[St,Ft]of $.entries())At(Ft,St,bt);else $!=null&&At(ht,$,bt);return this}get($,ht){if($=normalizeHeader($),$){const bt=utils$1.findKey(this,$);if(bt){const wt=this[bt];if(!ht)return wt;if(ht===!0)return parseTokens(wt);if(utils$1.isFunction(ht))return ht.call(this,wt,bt);if(utils$1.isRegExp(ht))return ht.exec(wt);throw new TypeError("parser must be boolean|regexp|function")}}}has($,ht){if($=normalizeHeader($),$){const bt=utils$1.findKey(this,$);return!!(bt&&this[bt]!==void 0&&(!ht||matchHeaderValue(this,this[bt],bt,ht)))}return!1}delete($,ht){const bt=this;let wt=!1;function At(Ct){if(Ct=normalizeHeader(Ct),Ct){const St=utils$1.findKey(bt,Ct);St&&(!ht||matchHeaderValue(bt,bt[St],St,ht))&&(delete bt[St],wt=!0)}}return utils$1.isArray($)?$.forEach(At):At($),wt}clear($){const ht=Object.keys(this);let bt=ht.length,wt=!1;for(;bt--;){const At=ht[bt];(!$||matchHeaderValue(this,this[At],At,$,!0))&&(delete this[At],wt=!0)}return wt}normalize($){const ht=this,bt={};return utils$1.forEach(this,(wt,At)=>{const Ct=utils$1.findKey(bt,At);if(Ct){ht[Ct]=normalizeValue(wt),delete ht[At];return}const St=$?formatHeader(At):String(At).trim();St!==At&&delete ht[At],ht[St]=normalizeValue(wt),bt[St]=!0}),this}concat(...$){return this.constructor.concat(this,...$)}toJSON($){const ht=Object.create(null);return utils$1.forEach(this,(bt,wt)=>{bt!=null&&bt!==!1&&(ht[wt]=$&&utils$1.isArray(bt)?bt.join(", "):bt)}),ht}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([$,ht])=>$+": "+ht).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from($){return $ instanceof this?$:new this($)}static concat($,...ht){const bt=new this($);return ht.forEach(wt=>bt.set(wt)),bt}static accessor($){const bt=(this[$internals]=this[$internals]={accessors:{}}).accessors,wt=this.prototype;function At(Ct){const St=normalizeHeader(Ct);bt[St]||(buildAccessors(wt,Ct),bt[St]=!0)}return utils$1.isArray($)?$.forEach(At):At($),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:_e},$)=>{let ht=$[0].toUpperCase()+$.slice(1);return{get:()=>_e,set(bt){this[ht]=bt}}});utils$1.freezeMethods(AxiosHeaders);function transformData(_e,$){const ht=this||defaults,bt=$||ht,wt=AxiosHeaders.from(bt.headers);let At=bt.data;return utils$1.forEach(_e,function(St){At=St.call(ht,At,wt.normalize(),$?$.status:void 0)}),wt.normalize(),At}function isCancel(_e){return!!(_e&&_e.__CANCEL__)}function CanceledError(_e,$,ht){AxiosError.call(this,_e??"canceled",AxiosError.ERR_CANCELED,$,ht),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(_e,$,ht){const bt=ht.config.validateStatus;!ht.status||!bt||bt(ht.status)?_e(ht):$(new AxiosError("Request failed with status code "+ht.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(ht.status/100)-4],ht.config,ht.request,ht))}function parseProtocol(_e){const $=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_e);return $&&$[1]||""}function speedometer(_e,$){_e=_e||10;const ht=new Array(_e),bt=new Array(_e);let wt=0,At=0,Ct;return $=$!==void 0?$:1e3,function(Ft){const vt=Date.now(),Et=bt[At];Ct||(Ct=vt),ht[wt]=Ft,bt[wt]=vt;let Mt=At,Pt=0;for(;Mt!==wt;)Pt+=ht[Mt++],Mt=Mt%_e;if(wt=(wt+1)%_e,wt===At&&(At=(At+1)%_e),vt-Ct<$)return;const xt=Et&&vt-Et;return xt?Math.round(Pt*1e3/xt):void 0}}function throttle(_e,$){let ht=0;const bt=1e3/$;let wt=null;return function(){const Ct=this===!0,St=Date.now();if(Ct||St-ht>bt)return wt&&(clearTimeout(wt),wt=null),ht=St,_e.apply(null,arguments);wt||(wt=setTimeout(()=>(wt=null,ht=Date.now(),_e.apply(null,arguments)),bt-(St-ht)))}}const progressEventReducer=(_e,$,ht=3)=>{let bt=0;const wt=speedometer(50,250);return throttle(At=>{const Ct=At.loaded,St=At.lengthComputable?At.total:void 0,Ft=Ct-bt,vt=wt(Ft),Et=Ct<=St;bt=Ct;const Mt={loaded:Ct,total:St,progress:St?Ct/St:void 0,bytes:Ft,rate:vt||void 0,estimated:vt&&St&&Et?(St-Ct)/vt:void 0,event:At,lengthComputable:St!=null};Mt[$?"download":"upload"]=!0,_e(Mt)},ht)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const $=/(msie|trident)/i.test(navigator.userAgent),ht=document.createElement("a");let bt;function wt(At){let Ct=At;return $&&(ht.setAttribute("href",Ct),Ct=ht.href),ht.setAttribute("href",Ct),{href:ht.href,protocol:ht.protocol?ht.protocol.replace(/:$/,""):"",host:ht.host,search:ht.search?ht.search.replace(/^\?/,""):"",hash:ht.hash?ht.hash.replace(/^#/,""):"",hostname:ht.hostname,port:ht.port,pathname:ht.pathname.charAt(0)==="/"?ht.pathname:"/"+ht.pathname}}return bt=wt(window.location.href),function(Ct){const St=utils$1.isString(Ct)?wt(Ct):Ct;return St.protocol===bt.protocol&&St.host===bt.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(_e,$,ht,bt,wt,At){const Ct=[_e+"="+encodeURIComponent($)];utils$1.isNumber(ht)&&Ct.push("expires="+new Date(ht).toGMTString()),utils$1.isString(bt)&&Ct.push("path="+bt),utils$1.isString(wt)&&Ct.push("domain="+wt),At===!0&&Ct.push("secure"),document.cookie=Ct.join("; ")},read(_e){const $=document.cookie.match(new RegExp("(^|;\\s*)("+_e+")=([^;]*)"));return $?decodeURIComponent($[3]):null},remove(_e){this.write(_e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(_e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_e)}function combineURLs(_e,$){return $?_e.replace(/\/?\/$/,"")+"/"+$.replace(/^\/+/,""):_e}function buildFullPath(_e,$){return _e&&!isAbsoluteURL($)?combineURLs(_e,$):$}const headersToObject=_e=>_e instanceof AxiosHeaders?{..._e}:_e;function mergeConfig(_e,$){$=$||{};const ht={};function bt(vt,Et,Mt){return utils$1.isPlainObject(vt)&&utils$1.isPlainObject(Et)?utils$1.merge.call({caseless:Mt},vt,Et):utils$1.isPlainObject(Et)?utils$1.merge({},Et):utils$1.isArray(Et)?Et.slice():Et}function wt(vt,Et,Mt){if(utils$1.isUndefined(Et)){if(!utils$1.isUndefined(vt))return bt(void 0,vt,Mt)}else return bt(vt,Et,Mt)}function At(vt,Et){if(!utils$1.isUndefined(Et))return bt(void 0,Et)}function Ct(vt,Et){if(utils$1.isUndefined(Et)){if(!utils$1.isUndefined(vt))return bt(void 0,vt)}else return bt(void 0,Et)}function St(vt,Et,Mt){if(Mt in $)return bt(vt,Et);if(Mt in _e)return bt(void 0,vt)}const Ft={url:At,method:At,data:At,baseURL:Ct,transformRequest:Ct,transformResponse:Ct,paramsSerializer:Ct,timeout:Ct,timeoutMessage:Ct,withCredentials:Ct,withXSRFToken:Ct,adapter:Ct,responseType:Ct,xsrfCookieName:Ct,xsrfHeaderName:Ct,onUploadProgress:Ct,onDownloadProgress:Ct,decompress:Ct,maxContentLength:Ct,maxBodyLength:Ct,beforeRedirect:Ct,transport:Ct,httpAgent:Ct,httpsAgent:Ct,cancelToken:Ct,socketPath:Ct,responseEncoding:Ct,validateStatus:St,headers:(vt,Et)=>wt(headersToObject(vt),headersToObject(Et),!0)};return utils$1.forEach(Object.keys(Object.assign({},_e,$)),function(Et){const Mt=Ft[Et]||wt,Pt=Mt(_e[Et],$[Et],Et);utils$1.isUndefined(Pt)&&Mt!==St||(ht[Et]=Pt)}),ht}const resolveConfig=_e=>{const $=mergeConfig({},_e);let{data:ht,withXSRFToken:bt,xsrfHeaderName:wt,xsrfCookieName:At,headers:Ct,auth:St}=$;$.headers=Ct=AxiosHeaders.from(Ct),$.url=buildURL(buildFullPath($.baseURL,$.url),_e.params,_e.paramsSerializer),St&&Ct.set("Authorization","Basic "+btoa((St.username||"")+":"+(St.password?unescape(encodeURIComponent(St.password)):"")));let Ft;if(utils$1.isFormData(ht)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)Ct.setContentType(void 0);else if((Ft=Ct.getContentType())!==!1){const[vt,...Et]=Ft?Ft.split(";").map(Mt=>Mt.trim()).filter(Boolean):[];Ct.setContentType([vt||"multipart/form-data",...Et].join("; "))}}if(platform.hasStandardBrowserEnv&&(bt&&utils$1.isFunction(bt)&&(bt=bt($)),bt||bt!==!1&&isURLSameOrigin($.url))){const vt=wt&&At&&cookies.read(At);vt&&Ct.set(wt,vt)}return $},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(_e){return new Promise(function(ht,bt){const wt=resolveConfig(_e);let At=wt.data;const Ct=AxiosHeaders.from(wt.headers).normalize();let{responseType:St}=wt,Ft;function vt(){wt.cancelToken&&wt.cancelToken.unsubscribe(Ft),wt.signal&&wt.signal.removeEventListener("abort",Ft)}let Et=new XMLHttpRequest;Et.open(wt.method.toUpperCase(),wt.url,!0),Et.timeout=wt.timeout;function Mt(){if(!Et)return;const xt=AxiosHeaders.from("getAllResponseHeaders"in Et&&Et.getAllResponseHeaders()),_t={data:!St||St==="text"||St==="json"?Et.responseText:Et.response,status:Et.status,statusText:Et.statusText,headers:xt,config:_e,request:Et};settle(function(Rt){ht(Rt),vt()},function(Rt){bt(Rt),vt()},_t),Et=null}"onloadend"in Et?Et.onloadend=Mt:Et.onreadystatechange=function(){!Et||Et.readyState!==4||Et.status===0&&!(Et.responseURL&&Et.responseURL.indexOf("file:")===0)||setTimeout(Mt)},Et.onabort=function(){Et&&(bt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,wt,Et)),Et=null)},Et.onerror=function(){bt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,wt,Et)),Et=null},Et.ontimeout=function(){let $t=wt.timeout?"timeout of "+wt.timeout+"ms exceeded":"timeout exceeded";const _t=wt.transitional||transitionalDefaults;wt.timeoutErrorMessage&&($t=wt.timeoutErrorMessage),bt(new AxiosError($t,_t.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,wt,Et)),Et=null},At===void 0&&Ct.setContentType(null),"setRequestHeader"in Et&&utils$1.forEach(Ct.toJSON(),function($t,_t){Et.setRequestHeader(_t,$t)}),utils$1.isUndefined(wt.withCredentials)||(Et.withCredentials=!!wt.withCredentials),St&&St!=="json"&&(Et.responseType=wt.responseType),typeof wt.onDownloadProgress=="function"&&Et.addEventListener("progress",progressEventReducer(wt.onDownloadProgress,!0)),typeof wt.onUploadProgress=="function"&&Et.upload&&Et.upload.addEventListener("progress",progressEventReducer(wt.onUploadProgress)),(wt.cancelToken||wt.signal)&&(Ft=xt=>{Et&&(bt(!xt||xt.type?new CanceledError(null,_e,Et):xt),Et.abort(),Et=null)},wt.cancelToken&&wt.cancelToken.subscribe(Ft),wt.signal&&(wt.signal.aborted?Ft():wt.signal.addEventListener("abort",Ft)));const Pt=parseProtocol(wt.url);if(Pt&&platform.protocols.indexOf(Pt)===-1){bt(new AxiosError("Unsupported protocol "+Pt+":",AxiosError.ERR_BAD_REQUEST,_e));return}Et.send(At||null)})},composeSignals=(_e,$)=>{let ht=new AbortController,bt;const wt=function(Ft){if(!bt){bt=!0,Ct();const vt=Ft instanceof Error?Ft:this.reason;ht.abort(vt instanceof AxiosError?vt:new CanceledError(vt instanceof Error?vt.message:vt))}};let At=$&&setTimeout(()=>{wt(new AxiosError(`timeout ${$} of ms exceeded`,AxiosError.ETIMEDOUT))},$);const Ct=()=>{_e&&(At&&clearTimeout(At),At=null,_e.forEach(Ft=>{Ft&&(Ft.removeEventListener?Ft.removeEventListener("abort",wt):Ft.unsubscribe(wt))}),_e=null)};_e.forEach(Ft=>Ft&&Ft.addEventListener&&Ft.addEventListener("abort",wt));const{signal:St}=ht;return St.unsubscribe=Ct,[St,()=>{At&&clearTimeout(At),At=null}]},streamChunk=function*(_e,$){let ht=_e.byteLength;if(!$||ht<$){yield _e;return}let bt=0,wt;for(;bt<ht;)wt=bt+$,yield _e.slice(bt,wt),bt=wt},readBytes=async function*(_e,$,ht){for await(const bt of _e)yield*streamChunk(ArrayBuffer.isView(bt)?bt:await ht(String(bt)),$)},trackStream=(_e,$,ht,bt,wt)=>{const At=readBytes(_e,$,wt);let Ct=0;return new ReadableStream({type:"bytes",async pull(St){const{done:Ft,value:vt}=await At.next();if(Ft){St.close(),bt();return}let Et=vt.byteLength;ht&&ht(Ct+=Et),St.enqueue(new Uint8Array(vt))},cancel(St){return bt(St),At.return()}},{highWaterMark:2})},fetchProgressDecorator=(_e,$)=>{const ht=_e!=null;return bt=>setTimeout(()=>$({lengthComputable:ht,total:_e,loaded:bt}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(_e=>$=>_e.encode($))(new TextEncoder):async _e=>new Uint8Array(await new Response(_e).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let _e=!1;const $=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return _e=!0,"half"}}).headers.has("Content-Type");return _e&&!$})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$1.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(_e=>_e.body)};isFetchSupported&&(_e=>{["text","arrayBuffer","blob","formData","stream"].forEach($=>{!resolvers[$]&&(resolvers[$]=utils$1.isFunction(_e[$])?ht=>ht[$]():(ht,bt)=>{throw new AxiosError(`Response type '${$}' is not supported`,AxiosError.ERR_NOT_SUPPORT,bt)})})})(new Response);const getBodyLength=async _e=>{if(_e==null)return 0;if(utils$1.isBlob(_e))return _e.size;if(utils$1.isSpecCompliantForm(_e))return(await new Request(_e).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(_e))return _e.byteLength;if(utils$1.isURLSearchParams(_e)&&(_e=_e+""),utils$1.isString(_e))return(await encodeText(_e)).byteLength},resolveBodyLength=async(_e,$)=>{const ht=utils$1.toFiniteNumber(_e.getContentLength());return ht??getBodyLength($)},fetchAdapter=isFetchSupported&&(async _e=>{let{url:$,method:ht,data:bt,signal:wt,cancelToken:At,timeout:Ct,onDownloadProgress:St,onUploadProgress:Ft,responseType:vt,headers:Et,withCredentials:Mt="same-origin",fetchOptions:Pt}=resolveConfig(_e);vt=vt?(vt+"").toLowerCase():"text";let[xt,$t]=wt||At||Ct?composeSignals([wt,At],Ct):[],_t,jt;const Rt=()=>{!_t&&setTimeout(()=>{xt&&xt.unsubscribe()}),_t=!0};let Nt;try{if(Ft&&supportsRequestStream&&ht!=="get"&&ht!=="head"&&(Nt=await resolveBodyLength(Et,bt))!==0){let Ht=new Request($,{method:"POST",body:bt,duplex:"half"}),Ot;utils$1.isFormData(bt)&&(Ot=Ht.headers.get("content-type"))&&Et.setContentType(Ot),Ht.body&&(bt=trackStream(Ht.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator(Nt,progressEventReducer(Ft)),null,encodeText))}utils$1.isString(Mt)||(Mt=Mt?"cors":"omit"),jt=new Request($,{...Pt,signal:xt,method:ht.toUpperCase(),headers:Et.normalize().toJSON(),body:bt,duplex:"half",withCredentials:Mt});let Lt=await fetch(jt);const kt=supportsResponseStream&&(vt==="stream"||vt==="response");if(supportsResponseStream&&(St||kt)){const Ht={};["status","statusText","headers"].forEach(Vt=>{Ht[Vt]=Lt[Vt]});const Ot=utils$1.toFiniteNumber(Lt.headers.get("content-length"));Lt=new Response(trackStream(Lt.body,DEFAULT_CHUNK_SIZE,St&&fetchProgressDecorator(Ot,progressEventReducer(St,!0)),kt&&Rt,encodeText),Ht)}vt=vt||"text";let Bt=await resolvers[utils$1.findKey(resolvers,vt)||"text"](Lt,_e);return!kt&&Rt(),$t&&$t(),await new Promise((Ht,Ot)=>{settle(Ht,Ot,{data:Bt,headers:AxiosHeaders.from(Lt.headers),status:Lt.status,statusText:Lt.statusText,config:_e,request:jt})})}catch(Lt){throw Rt(),Lt&&Lt.name==="TypeError"&&/fetch/i.test(Lt.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,_e,jt),{cause:Lt.cause||Lt}):AxiosError.from(Lt,Lt&&Lt.code,_e,jt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(_e,$)=>{if(_e){try{Object.defineProperty(_e,"name",{value:$})}catch{}Object.defineProperty(_e,"adapterName",{value:$})}});const renderReason=_e=>`- ${_e}`,isResolvedHandle=_e=>utils$1.isFunction(_e)||_e===null||_e===!1,adapters={getAdapter:_e=>{_e=utils$1.isArray(_e)?_e:[_e];const{length:$}=_e;let ht,bt;const wt={};for(let At=0;At<$;At++){ht=_e[At];let Ct;if(bt=ht,!isResolvedHandle(ht)&&(bt=knownAdapters[(Ct=String(ht)).toLowerCase()],bt===void 0))throw new AxiosError(`Unknown adapter '${Ct}'`);if(bt)break;wt[Ct||"#"+At]=bt}if(!bt){const At=Object.entries(wt).map(([St,Ft])=>`adapter ${St} `+(Ft===!1?"is not supported by the environment":"is not available in the build"));let Ct=$?At.length>1?`since :
`+At.map(renderReason).join(`
`):" "+renderReason(At[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+Ct,"ERR_NOT_SUPPORT")}return bt},adapters:knownAdapters};function throwIfCancellationRequested(_e){if(_e.cancelToken&&_e.cancelToken.throwIfRequested(),_e.signal&&_e.signal.aborted)throw new CanceledError(null,_e)}function dispatchRequest(_e){return throwIfCancellationRequested(_e),_e.headers=AxiosHeaders.from(_e.headers),_e.data=transformData.call(_e,_e.transformRequest),["post","put","patch"].indexOf(_e.method)!==-1&&_e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(_e.adapter||defaults.adapter)(_e).then(function(bt){return throwIfCancellationRequested(_e),bt.data=transformData.call(_e,_e.transformResponse,bt),bt.headers=AxiosHeaders.from(bt.headers),bt},function(bt){return isCancel(bt)||(throwIfCancellationRequested(_e),bt&&bt.response&&(bt.response.data=transformData.call(_e,_e.transformResponse,bt.response),bt.response.headers=AxiosHeaders.from(bt.response.headers))),Promise.reject(bt)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((_e,$)=>{validators$1[_e]=function(bt){return typeof bt===_e||"a"+($<1?"n ":" ")+_e}});const deprecatedWarnings={};validators$1.transitional=function($,ht,bt){function wt(At,Ct){return"[Axios v"+VERSION+"] Transitional option '"+At+"'"+Ct+(bt?". "+bt:"")}return(At,Ct,St)=>{if($===!1)throw new AxiosError(wt(Ct," has been removed"+(ht?" in "+ht:"")),AxiosError.ERR_DEPRECATED);return ht&&!deprecatedWarnings[Ct]&&(deprecatedWarnings[Ct]=!0,console.warn(wt(Ct," has been deprecated since v"+ht+" and will be removed in the near future"))),$?$(At,Ct,St):!0}};function assertOptions(_e,$,ht){if(typeof _e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const bt=Object.keys(_e);let wt=bt.length;for(;wt-- >0;){const At=bt[wt],Ct=$[At];if(Ct){const St=_e[At],Ft=St===void 0||Ct(St,At,_e);if(Ft!==!0)throw new AxiosError("option "+At+" must be "+Ft,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(ht!==!0)throw new AxiosError("Unknown option "+At,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor($){this.defaults=$,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request($,ht){try{return await this._request($,ht)}catch(bt){if(bt instanceof Error){let wt;Error.captureStackTrace?Error.captureStackTrace(wt={}):wt=new Error;const At=wt.stack?wt.stack.replace(/^.+\n/,""):"";try{bt.stack?At&&!String(bt.stack).endsWith(At.replace(/^.+\n.+\n/,""))&&(bt.stack+=`
`+At):bt.stack=At}catch{}}throw bt}}_request($,ht){typeof $=="string"?(ht=ht||{},ht.url=$):ht=$||{},ht=mergeConfig(this.defaults,ht);const{transitional:bt,paramsSerializer:wt,headers:At}=ht;bt!==void 0&&validator.assertOptions(bt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),wt!=null&&(utils$1.isFunction(wt)?ht.paramsSerializer={serialize:wt}:validator.assertOptions(wt,{encode:validators.function,serialize:validators.function},!0)),ht.method=(ht.method||this.defaults.method||"get").toLowerCase();let Ct=At&&utils$1.merge(At.common,At[ht.method]);At&&utils$1.forEach(["delete","get","head","post","put","patch","common"],$t=>{delete At[$t]}),ht.headers=AxiosHeaders.concat(Ct,At);const St=[];let Ft=!0;this.interceptors.request.forEach(function(_t){typeof _t.runWhen=="function"&&_t.runWhen(ht)===!1||(Ft=Ft&&_t.synchronous,St.unshift(_t.fulfilled,_t.rejected))});const vt=[];this.interceptors.response.forEach(function(_t){vt.push(_t.fulfilled,_t.rejected)});let Et,Mt=0,Pt;if(!Ft){const $t=[dispatchRequest.bind(this),void 0];for($t.unshift.apply($t,St),$t.push.apply($t,vt),Pt=$t.length,Et=Promise.resolve(ht);Mt<Pt;)Et=Et.then($t[Mt++],$t[Mt++]);return Et}Pt=St.length;let xt=ht;for(Mt=0;Mt<Pt;){const $t=St[Mt++],_t=St[Mt++];try{xt=$t(xt)}catch(jt){_t.call(this,jt);break}}try{Et=dispatchRequest.call(this,xt)}catch($t){return Promise.reject($t)}for(Mt=0,Pt=vt.length;Mt<Pt;)Et=Et.then(vt[Mt++],vt[Mt++]);return Et}getUri($){$=mergeConfig(this.defaults,$);const ht=buildFullPath($.baseURL,$.url);return buildURL(ht,$.params,$.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function($){Axios.prototype[$]=function(ht,bt){return this.request(mergeConfig(bt||{},{method:$,url:ht,data:(bt||{}).data}))}});utils$1.forEach(["post","put","patch"],function($){function ht(bt){return function(At,Ct,St){return this.request(mergeConfig(St||{},{method:$,headers:bt?{"Content-Type":"multipart/form-data"}:{},url:At,data:Ct}))}}Axios.prototype[$]=ht(),Axios.prototype[$+"Form"]=ht(!0)});class CancelToken{constructor($){if(typeof $!="function")throw new TypeError("executor must be a function.");let ht;this.promise=new Promise(function(At){ht=At});const bt=this;this.promise.then(wt=>{if(!bt._listeners)return;let At=bt._listeners.length;for(;At-- >0;)bt._listeners[At](wt);bt._listeners=null}),this.promise.then=wt=>{let At;const Ct=new Promise(St=>{bt.subscribe(St),At=St}).then(wt);return Ct.cancel=function(){bt.unsubscribe(At)},Ct},$(function(At,Ct,St){bt.reason||(bt.reason=new CanceledError(At,Ct,St),ht(bt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe($){if(this.reason){$(this.reason);return}this._listeners?this._listeners.push($):this._listeners=[$]}unsubscribe($){if(!this._listeners)return;const ht=this._listeners.indexOf($);ht!==-1&&this._listeners.splice(ht,1)}static source(){let $;return{token:new CancelToken(function(wt){$=wt}),cancel:$}}}function spread(_e){return function(ht){return _e.apply(null,ht)}}function isAxiosError(_e){return utils$1.isObject(_e)&&_e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([_e,$])=>{HttpStatusCode[$]=_e});function createInstance(_e){const $=new Axios(_e),ht=bind(Axios.prototype.request,$);return utils$1.extend(ht,Axios.prototype,$,{allOwnKeys:!0}),utils$1.extend(ht,$,null,{allOwnKeys:!0}),ht.create=function(wt){return createInstance(mergeConfig(_e,wt))},ht}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function($){return Promise.all($)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=_e=>formDataToJSON(utils$1.isHTMLForm(_e)?new FormData(_e):_e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=_e=>_e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(..._e)=>_e.filter(($,ht,bt)=>!!$&&bt.indexOf($)===ht).join(" ");/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:_e="currentColor",size:$=24,strokeWidth:ht=2,absoluteStrokeWidth:bt,className:wt="",children:At,iconNode:Ct,...St},Ft)=>reactExports.createElement("svg",{ref:Ft,...defaultAttributes,width:$,height:$,stroke:_e,strokeWidth:bt?Number(ht)*24/Number($):ht,className:mergeClasses("lucide",wt),...St},[...Ct.map(([vt,Et])=>reactExports.createElement(vt,Et)),...Array.isArray(At)?At:[At]]));/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(_e,$)=>{const ht=reactExports.forwardRef(({className:bt,...wt},At)=>reactExports.createElement(Icon,{ref:At,iconNode:$,className:mergeClasses(`lucide-${toKebabCase(_e)}`,bt),...wt}));return ht.displayName=`${_e}`,ht};/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LineChart=createLucideIcon("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader=createLucideIcon("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageCircle=createLucideIcon("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose(_e,$),bt,wt;if(Object.getOwnPropertySymbols){var At=Object.getOwnPropertySymbols(_e);for(wt=0;wt<At.length;wt++)bt=At[wt],!($.indexOf(bt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,bt)&&(ht[bt]=_e[bt])}return ht}function _objectWithoutPropertiesLoose(_e,$){if(_e==null)return{};var ht={};for(var bt in _e)if(Object.prototype.hasOwnProperty.call(_e,bt)){if($.indexOf(bt)>=0)continue;ht[bt]=_e[bt]}return ht}function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var bt in ht)Object.prototype.hasOwnProperty.call(ht,bt)&&(_e[bt]=ht[bt])}return _e},_extends.apply(this,arguments)}function ownKeys(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var bt=Object.getOwnPropertySymbols(_e);$&&(bt=bt.filter(function(wt){return Object.getOwnPropertyDescriptor(_e,wt).enumerable})),ht.push.apply(ht,bt)}return ht}function _objectSpread(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(ht),!0).forEach(function(bt){_defineProperty(_e,bt,ht[bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys(Object(ht)).forEach(function(bt){Object.defineProperty(_e,bt,Object.getOwnPropertyDescriptor(ht,bt))})}return _e}function _defineProperty(_e,$,ht){return $=_toPropertyKey($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey(_e){var $=_toPrimitive(_e,"string");return typeof $=="symbol"?$:$+""}function _toPrimitive(_e,$){if(typeof _e!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var bt=ht.call(_e,$||"default");if(typeof bt!="object")return bt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function Tree2Element(_e){return _e&&_e.map(($,ht)=>React.createElement($.tag,_objectSpread({key:ht},$.attr),Tree2Element($.child)))}function GenIcon(_e){return $=>React.createElement(IconBase,_extends({attr:_objectSpread({},_e.attr)},$),Tree2Element(_e.child))}function IconBase(_e){var $=ht=>{var{attr:bt,size:wt,title:At}=_e,Ct=_objectWithoutProperties(_e,_excluded),St=wt||ht.size||"1em",Ft;return ht.className&&(Ft=ht.className),_e.className&&(Ft=(Ft?Ft+" ":"")+_e.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},ht.attr,bt,Ct,{className:Ft,style:_objectSpread(_objectSpread({color:_e.color||ht.color},ht.style),_e.style),height:St,width:St,xmlns:"http://www.w3.org/2000/svg"}),At&&React.createElement("title",null,At),_e.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,ht=>$(ht)):$(DefaultContext)}function FaEdit(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(_e)}const MotionConfigContext=reactExports.createContext({transformPagePoint:_e=>_e,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=_e=>_e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};class Queue{constructor(){this.order=[],this.scheduled=new Set}add($){if(!this.scheduled.has($))return this.scheduled.add($),this.order.push($),!0}remove($){const ht=this.order.indexOf($);ht!==-1&&(this.order.splice(ht,1),this.scheduled.delete($))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(_e){let $=new Queue,ht=new Queue,bt=0,wt=!1,At=!1;const Ct=new WeakSet,St={schedule:(Ft,vt=!1,Et=!1)=>{const Mt=Et&&wt,Pt=Mt?$:ht;return vt&&Ct.add(Ft),Pt.add(Ft)&&Mt&&wt&&(bt=$.order.length),Ft},cancel:Ft=>{ht.remove(Ft),Ct.delete(Ft)},process:Ft=>{if(wt){At=!0;return}if(wt=!0,[$,ht]=[ht,$],ht.clear(),bt=$.order.length,bt)for(let vt=0;vt<bt;vt++){const Et=$.order[vt];Ct.has(Et)&&(St.schedule(Et),_e()),Et(Ft)}wt=!1,At&&(At=!1,St.process(Ft))}};return St}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(_e,$){let ht=!1,bt=!0;const wt={delta:0,timestamp:0,isProcessing:!1},At=stepsOrder.reduce((Mt,Pt)=>(Mt[Pt]=createRenderStep(()=>ht=!0),Mt),{}),Ct=Mt=>{At[Mt].process(wt)},St=()=>{const Mt=performance.now();ht=!1,wt.delta=bt?1e3/60:Math.max(Math.min(Mt-wt.timestamp,maxElapsed),1),wt.timestamp=Mt,wt.isProcessing=!0,stepsOrder.forEach(Ct),wt.isProcessing=!1,ht&&$&&(bt=!1,_e(St))},Ft=()=>{ht=!0,bt=!0,wt.isProcessing||_e(St)};return{schedule:stepsOrder.reduce((Mt,Pt)=>{const xt=At[Pt];return Mt[Pt]=($t,_t=!1,jt=!1)=>(ht||Ft(),xt.schedule($t,_t,jt)),Mt},{}),cancel:Mt=>stepsOrder.forEach(Pt=>At[Pt].cancel(Mt)),state:wt,steps:At}}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);function isRefObject(_e){return _e&&typeof _e=="object"&&Object.prototype.hasOwnProperty.call(_e,"current")}const SwitchLayoutGroupContext=reactExports.createContext({});let scheduleHandoffComplete=!1;function useVisualElement(_e,$,ht,bt,wt){const{visualElement:At}=reactExports.useContext(MotionContext),Ct=reactExports.useContext(LazyContext),St=reactExports.useContext(PresenceContext),Ft=reactExports.useContext(MotionConfigContext).reducedMotion,vt=reactExports.useRef();bt=bt||Ct.renderer,!vt.current&&bt&&(vt.current=bt(_e,{visualState:$,parent:At,props:ht,presenceContext:St,blockInitialAnimation:St?St.initial===!1:!1,reducedMotionConfig:Ft}));const Et=vt.current,Mt=reactExports.useContext(SwitchLayoutGroupContext);Et&&!Et.projection&&wt&&(Et.type==="html"||Et.type==="svg")&&createProjectionNode$1(vt.current,ht,wt,Mt),reactExports.useInsertionEffect(()=>{Et&&Et.update(ht,St)});const Pt=reactExports.useRef(!!(ht[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect(()=>{Et&&(Et.updateFeatures(),microtask.render(Et.render),Pt.current&&Et.animationState&&Et.animationState.animateChanges())}),reactExports.useEffect(()=>{Et&&(!Pt.current&&Et.animationState&&Et.animationState.animateChanges(),Pt.current&&(Pt.current=!1,scheduleHandoffComplete||(scheduleHandoffComplete=!0,queueMicrotask(completeHandoff))))}),Et}function completeHandoff(){window.HandoffComplete=!0}function createProjectionNode$1(_e,$,ht,bt){const{layoutId:wt,layout:At,drag:Ct,dragConstraints:St,layoutScroll:Ft,layoutRoot:vt}=$;_e.projection=new ht(_e.latestValues,$["data-framer-portal-id"]?void 0:getClosestProjectingNode(_e.parent)),_e.projection.setOptions({layoutId:wt,layout:At,alwaysMeasureLayout:!!Ct||St&&isRefObject(St),visualElement:_e,scheduleRender:()=>_e.scheduleRender(),animationType:typeof At=="string"?At:"both",initialPromotionConfig:bt,layoutScroll:Ft,layoutRoot:vt})}function getClosestProjectingNode(_e){if(_e)return _e.options.allowProjection!==!1?_e.projection:getClosestProjectingNode(_e.parent)}function useMotionRef(_e,$,ht){return reactExports.useCallback(bt=>{bt&&_e.mount&&_e.mount(bt),$&&(bt?$.mount(bt):$.unmount()),ht&&(typeof ht=="function"?ht(bt):isRefObject(ht)&&(ht.current=bt))},[$])}function isVariantLabel(_e){return typeof _e=="string"||Array.isArray(_e)}function isAnimationControls(_e){return _e!==null&&typeof _e=="object"&&typeof _e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(_e){return isAnimationControls(_e.animate)||variantProps.some($=>isVariantLabel(_e[$]))}function isVariantNode(_e){return!!(isControllingVariants(_e)||_e.variants)}function getCurrentTreeVariants(_e,$){if(isControllingVariants(_e)){const{initial:ht,animate:bt}=_e;return{initial:ht===!1||isVariantLabel(ht)?ht:void 0,animate:isVariantLabel(bt)?bt:void 0}}return _e.inherit!==!1?$:{}}function useCreateMotionContext(_e){const{initial:$,animate:ht}=getCurrentTreeVariants(_e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:$,animate:ht}),[variantLabelsAsDependency($),variantLabelsAsDependency(ht)])}function variantLabelsAsDependency(_e){return Array.isArray(_e)?_e.join(" "):_e}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const _e in featureProps)featureDefinitions[_e]={isEnabled:$=>featureProps[_e].some(ht=>!!$[ht])};function loadFeatures(_e){for(const $ in _e)featureDefinitions[$]={...featureDefinitions[$],..._e[$]}}const LayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol"),noop=_e=>_e;let invariant=noop;function createMotionComponent({preloadedFeatures:_e,createVisualElement:$,useRender:ht,useVisualState:bt,Component:wt}){_e&&loadFeatures(_e);function At(St,Ft){let vt;const Et={...reactExports.useContext(MotionConfigContext),...St,layoutId:useLayoutId(St)},{isStatic:Mt}=Et,Pt=useCreateMotionContext(St),xt=bt(St,Mt);if(!Mt&&isBrowser){useStrictMode();const $t=getProjectionFunctionality(Et);vt=$t.MeasureLayout,Pt.visualElement=useVisualElement(wt,xt,Et,$,$t.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:Pt,children:[vt&&Pt.visualElement?jsxRuntimeExports.jsx(vt,{visualElement:Pt.visualElement,...Et}):null,ht(wt,St,useMotionRef(xt,Pt.visualElement,Ft),xt,Mt,Pt.visualElement)]})}const Ct=reactExports.forwardRef(At);return Ct[motionComponentSymbol]=wt,Ct}function useLayoutId({layoutId:_e}){const $=reactExports.useContext(LayoutGroupContext).id;return $&&_e!==void 0?$+"-"+_e:_e}function useStrictMode(_e,$){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(_e){const{drag:$,layout:ht}=featureDefinitions;if(!$&&!ht)return{};const bt={...$,...ht};return{MeasureLayout:$!=null&&$.isEnabled(_e)||ht!=null&&ht.isEnabled(_e)?bt.MeasureLayout:void 0,ProjectionNode:bt.ProjectionNode}}function createMotionProxy(_e){function $(bt,wt={}){return createMotionComponent(_e(bt,wt))}if(typeof Proxy>"u")return $;const ht=new Map;return new Proxy($,{get:(bt,wt)=>(ht.has(wt)||ht.set(wt,$(wt)),ht.get(wt))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(_e){return typeof _e!="string"||_e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(_e)>-1||/[A-Z]/u.test(_e))}const scaleCorrectors={};function addScaleCorrector(_e){Object.assign(scaleCorrectors,_e)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(_e,{layout:$,layoutId:ht}){return transformProps.has(_e)||_e.startsWith("origin")||($||ht!==void 0)&&(!!scaleCorrectors[_e]||_e==="opacity")}const isMotionValue=_e=>!!(_e&&_e.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(_e,{enableHardwareAcceleration:$=!0,allowTransformNone:ht=!0},bt,wt){let At="";for(let Ct=0;Ct<numTransforms;Ct++){const St=transformPropOrder[Ct];if(_e[St]!==void 0){const Ft=translateAlias[St]||St;At+=`${Ft}(${_e[St]}) `}}return $&&!_e.z&&(At+="translateZ(0)"),At=At.trim(),wt?At=wt(_e,bt?"":At):ht&&bt&&(At="none"),At}const checkStringStartsWith=_e=>$=>typeof $=="string"&&$.startsWith(_e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=_e=>startsAsVariableToken(_e)?singleCssVariableRegex.test(_e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(_e,$)=>$&&typeof _e=="number"?$.transform(_e):_e,clamp=(_e,$,ht)=>ht>$?$:ht<_e?_e:ht,number={test:_e=>typeof _e=="number",parse:parseFloat,transform:_e=>_e},alpha={...number,transform:_e=>clamp(0,1,_e)},scale={...number,default:1},sanitize=_e=>Math.round(_e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function isString(_e){return typeof _e=="string"}function isNullish(_e){return _e==null}const createUnitType=_e=>({test:$=>isString($)&&$.endsWith(_e)&&$.split(" ").length===1,parse:parseFloat,transform:$=>`${$}${_e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:_e=>percent.parse(_e)/100,transform:_e=>percent.transform(_e*100)},int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,backgroundPositionX:px,backgroundPositionY:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(_e,$,ht,bt){const{style:wt,vars:At,transform:Ct,transformOrigin:St}=_e;let Ft=!1,vt=!1,Et=!0;for(const Mt in $){const Pt=$[Mt];if(isCSSVariableName(Mt)){At[Mt]=Pt;continue}const xt=numberValueTypes[Mt],$t=getValueAsType(Pt,xt);if(transformProps.has(Mt)){if(Ft=!0,Ct[Mt]=$t,!Et)continue;Pt!==(xt.default||0)&&(Et=!1)}else Mt.startsWith("origin")?(vt=!0,St[Mt]=$t):wt[Mt]=$t}if($.transform||(Ft||bt?wt.transform=buildTransform(_e.transform,ht,Et,bt):wt.transform&&(wt.transform="none")),vt){const{originX:Mt="50%",originY:Pt="50%",originZ:xt=0}=St;wt.transformOrigin=`${Mt} ${Pt} ${xt}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(_e,$,ht){for(const bt in $)!isMotionValue($[bt])&&!isForcedMotionValue(bt,ht)&&(_e[bt]=$[bt])}function useInitialMotionValues({transformTemplate:_e},$,ht){return reactExports.useMemo(()=>{const bt=createHtmlRenderState();return buildHTMLStyles(bt,$,{enableHardwareAcceleration:!ht},_e),Object.assign({},bt.vars,bt.style)},[$])}function useStyle(_e,$,ht){const bt=_e.style||{},wt={};return copyRawValuesOnly(wt,bt,_e),Object.assign(wt,useInitialMotionValues(_e,$,ht)),wt}function useHTMLProps(_e,$,ht){const bt={},wt=useStyle(_e,$,ht);return _e.drag&&_e.dragListener!==!1&&(bt.draggable=!1,wt.userSelect=wt.WebkitUserSelect=wt.WebkitTouchCallout="none",wt.touchAction=_e.drag===!0?"none":`pan-${_e.drag==="x"?"y":"x"}`),_e.tabIndex===void 0&&(_e.onTap||_e.onTapStart||_e.whileTap)&&(bt.tabIndex=0),bt.style=wt,bt}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(_e){return _e.startsWith("while")||_e.startsWith("drag")&&_e!=="draggable"||_e.startsWith("layout")||_e.startsWith("onTap")||_e.startsWith("onPan")||_e.startsWith("onLayout")||validMotionProps.has(_e)}let shouldForward=_e=>!isValidMotionProp(_e);function loadExternalIsValidProp(_e){_e&&(shouldForward=$=>$.startsWith("on")?!isValidMotionProp($):_e($))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(_e,$,ht){const bt={};for(const wt in _e)wt==="values"&&typeof _e.values=="object"||(shouldForward(wt)||ht===!0&&isValidMotionProp(wt)||!$&&!isValidMotionProp(wt)||_e.draggable&&wt.startsWith("onDrag"))&&(bt[wt]=_e[wt]);return bt}function calcOrigin$1(_e,$,ht){return typeof _e=="string"?_e:px.transform($+ht*_e)}function calcSVGTransformOrigin(_e,$,ht){const bt=calcOrigin$1($,_e.x,_e.width),wt=calcOrigin$1(ht,_e.y,_e.height);return`${bt} ${wt}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(_e,$,ht=1,bt=0,wt=!0){_e.pathLength=1;const At=wt?dashKeys:camelKeys;_e[At.offset]=px.transform(-bt);const Ct=px.transform($),St=px.transform(ht);_e[At.array]=`${Ct} ${St}`}function buildSVGAttrs(_e,{attrX:$,attrY:ht,attrScale:bt,originX:wt,originY:At,pathLength:Ct,pathSpacing:St=1,pathOffset:Ft=0,...vt},Et,Mt,Pt){if(buildHTMLStyles(_e,vt,Et,Pt),Mt){_e.style.viewBox&&(_e.attrs.viewBox=_e.style.viewBox);return}_e.attrs=_e.style,_e.style={};const{attrs:xt,style:$t,dimensions:_t}=_e;xt.transform&&(_t&&($t.transform=xt.transform),delete xt.transform),_t&&(wt!==void 0||At!==void 0||$t.transform)&&($t.transformOrigin=calcSVGTransformOrigin(_t,wt!==void 0?wt:.5,At!==void 0?At:.5)),$!==void 0&&(xt.x=$),ht!==void 0&&(xt.y=ht),bt!==void 0&&(xt.scale=bt),Ct!==void 0&&buildSVGPath(xt,Ct,St,Ft,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=_e=>typeof _e=="string"&&_e.toLowerCase()==="svg";function useSVGProps(_e,$,ht,bt){const wt=reactExports.useMemo(()=>{const At=createSvgRenderState();return buildSVGAttrs(At,$,{enableHardwareAcceleration:!1},isSVGTag(bt),_e.transformTemplate),{...At.attrs,style:{...At.style}}},[$]);if(_e.style){const At={};copyRawValuesOnly(At,_e.style,_e),wt.style={...At,...wt.style}}return wt}function createUseRender(_e=!1){return(ht,bt,wt,{latestValues:At},Ct)=>{const Ft=(isSVGComponent(ht)?useSVGProps:useHTMLProps)(bt,At,Ct,ht),vt=filterProps(bt,typeof ht=="string",_e),Et=ht!==reactExports.Fragment?{...vt,...Ft,ref:wt}:{},{children:Mt}=bt,Pt=reactExports.useMemo(()=>isMotionValue(Mt)?Mt.get():Mt,[Mt]);return reactExports.createElement(ht,{...Et,children:Pt})}}function renderHTML(_e,{style:$,vars:ht},bt,wt){Object.assign(_e.style,$,wt&&wt.getProjectionStyles(bt));for(const At in ht)_e.style.setProperty(At,ht[At])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(_e,$,ht,bt){renderHTML(_e,$,void 0,bt);for(const wt in $.attrs)_e.setAttribute(camelCaseAttributes.has(wt)?wt:camelToDash(wt),$.attrs[wt])}function scrapeMotionValuesFromProps$1(_e,$,ht){var bt;const{style:wt}=_e,At={};for(const Ct in wt)(isMotionValue(wt[Ct])||$.style&&isMotionValue($.style[Ct])||isForcedMotionValue(Ct,_e)||((bt=ht==null?void 0:ht.getValue(Ct))===null||bt===void 0?void 0:bt.liveStyle)!==void 0)&&(At[Ct]=wt[Ct]);return At}function scrapeMotionValuesFromProps(_e,$,ht){const bt=scrapeMotionValuesFromProps$1(_e,$,ht);for(const wt in _e)if(isMotionValue(_e[wt])||isMotionValue($[wt])){const At=transformPropOrder.indexOf(wt)!==-1?"attr"+wt.charAt(0).toUpperCase()+wt.substring(1):wt;bt[At]=_e[wt]}return bt}function getValueState(_e){const $=[{},{}];return _e==null||_e.values.forEach((ht,bt)=>{$[0][bt]=ht.get(),$[1][bt]=ht.getVelocity()}),$}function resolveVariantFromProps(_e,$,ht,bt){if(typeof $=="function"){const[wt,At]=getValueState(bt);$=$(ht!==void 0?ht:_e.custom,wt,At)}if(typeof $=="string"&&($=_e.variants&&_e.variants[$]),typeof $=="function"){const[wt,At]=getValueState(bt);$=$(ht!==void 0?ht:_e.custom,wt,At)}return $}function useConstant(_e){const $=reactExports.useRef(null);return $.current===null&&($.current=_e()),$.current}const isKeyframesTarget=_e=>Array.isArray(_e),isCustomValue=_e=>!!(_e&&typeof _e=="object"&&_e.mix&&_e.toValue),resolveFinalValueInKeyframes=_e=>isKeyframesTarget(_e)?_e[_e.length-1]||0:_e;function resolveMotionValue(_e){const $=isMotionValue(_e)?_e.get():_e;return isCustomValue($)?$.toValue():$}function makeState({scrapeMotionValuesFromProps:_e,createRenderState:$,onMount:ht},bt,wt,At){const Ct={latestValues:makeLatestValues(bt,wt,At,_e),renderState:$()};return ht&&(Ct.mount=St=>ht(bt,St,Ct)),Ct}const makeUseVisualState=_e=>($,ht)=>{const bt=reactExports.useContext(MotionContext),wt=reactExports.useContext(PresenceContext),At=()=>makeState(_e,$,bt,wt);return ht?At():useConstant(At)};function makeLatestValues(_e,$,ht,bt){const wt={},At=bt(_e,{});for(const Pt in At)wt[Pt]=resolveMotionValue(At[Pt]);let{initial:Ct,animate:St}=_e;const Ft=isControllingVariants(_e),vt=isVariantNode(_e);$&&vt&&!Ft&&_e.inherit!==!1&&(Ct===void 0&&(Ct=$.initial),St===void 0&&(St=$.animate));let Et=ht?ht.initial===!1:!1;Et=Et||Ct===!1;const Mt=Et?St:Ct;return Mt&&typeof Mt!="boolean"&&!isAnimationControls(Mt)&&(Array.isArray(Mt)?Mt:[Mt]).forEach(xt=>{const $t=resolveVariantFromProps(_e,xt);if(!$t)return;const{transitionEnd:_t,transition:jt,...Rt}=$t;for(const Nt in Rt){let Lt=Rt[Nt];if(Array.isArray(Lt)){const kt=Et?Lt.length-1:0;Lt=Lt[kt]}Lt!==null&&(wt[Nt]=Lt)}for(const Nt in _t)wt[Nt]=_t[Nt]}),wt}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(_e,$,{renderState:ht,latestValues:bt})=>{frame.read(()=>{try{ht.dimensions=typeof $.getBBox=="function"?$.getBBox():$.getBoundingClientRect()}catch{ht.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(ht,bt,{enableHardwareAcceleration:!1},isSVGTag($.tagName),_e.transformTemplate),renderSVG($,ht)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(_e,{forwardMotionProps:$=!1},ht,bt){return{...isSVGComponent(_e)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:ht,useRender:createUseRender($),createVisualElement:bt,Component:_e}}function addDomEvent(_e,$,ht,bt={passive:!0}){return _e.addEventListener($,ht,bt),()=>_e.removeEventListener($,ht)}const isPrimaryPointer=_e=>_e.pointerType==="mouse"?typeof _e.button!="number"||_e.button<=0:_e.isPrimary!==!1;function extractEventInfo(_e,$="page"){return{point:{x:_e[`${$}X`],y:_e[`${$}Y`]}}}const addPointerInfo=_e=>$=>isPrimaryPointer($)&&_e($,extractEventInfo($));function addPointerEvent(_e,$,ht,bt){return addDomEvent(_e,$,addPointerInfo(ht),bt)}const combineFunctions=(_e,$)=>ht=>$(_e(ht)),pipe=(..._e)=>_e.reduce(combineFunctions);function createLock(_e){let $=null;return()=>{const ht=()=>{$=null};return $===null?($=_e,ht):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(_e){let $=!1;if(_e==="y")$=globalVerticalLock();else if(_e==="x")$=globalHorizontalLock();else{const ht=globalHorizontalLock(),bt=globalVerticalLock();ht&&bt?$=()=>{ht(),bt()}:(ht&&ht(),bt&&bt())}return $}function isDragActive(){const _e=getGlobalLock(!0);return _e?(_e(),!1):!0}class Feature{constructor($){this.isMounted=!1,this.node=$}update(){}}function addHoverEvent(_e,$){const ht=$?"pointerenter":"pointerleave",bt=$?"onHoverStart":"onHoverEnd",wt=(At,Ct)=>{if(At.pointerType==="touch"||isDragActive())return;const St=_e.getProps();_e.animationState&&St.whileHover&&_e.animationState.setActive("whileHover",$);const Ft=St[bt];Ft&&frame.postRender(()=>Ft(At,Ct))};return addPointerEvent(_e.current,ht,wt,{passive:!_e.getProps()[bt]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let $=!1;try{$=this.node.current.matches(":focus-visible")}catch{$=!0}!$||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(_e,$)=>$?_e===$?!0:isNodeOrChild(_e,$.parentElement):!1;function fireSyntheticPointerEvent(_e,$){if(!$)return;const ht=new PointerEvent("pointer"+_e);$(ht,extractEventInfo(ht))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop,this.removeEndListeners=noop,this.removeAccessibleListeners=noop,this.startPointerPress=($,ht)=>{if(this.isPressing)return;this.removeEndListeners();const bt=this.node.getProps(),At=addPointerEvent(window,"pointerup",(St,Ft)=>{if(!this.checkPressEnd())return;const{onTap:vt,onTapCancel:Et,globalTapTarget:Mt}=this.node.getProps(),Pt=!Mt&&!isNodeOrChild(this.node.current,St.target)?Et:vt;Pt&&frame.update(()=>Pt(St,Ft))},{passive:!(bt.onTap||bt.onPointerUp)}),Ct=addPointerEvent(window,"pointercancel",(St,Ft)=>this.cancelPress(St,Ft),{passive:!(bt.onTapCancel||bt.onPointerCancel)});this.removeEndListeners=pipe(At,Ct),this.startPress($,ht)},this.startAccessiblePress=()=>{const $=At=>{if(At.key!=="Enter"||this.isPressing)return;const Ct=St=>{St.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(Ft,vt)=>{const{onTap:Et}=this.node.getProps();Et&&frame.postRender(()=>Et(Ft,vt))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",Ct),fireSyntheticPointerEvent("down",(St,Ft)=>{this.startPress(St,Ft)})},ht=addDomEvent(this.node.current,"keydown",$),bt=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(At,Ct)=>this.cancelPress(At,Ct))},wt=addDomEvent(this.node.current,"blur",bt);this.removeAccessibleListeners=pipe(ht,wt)}}startPress($,ht){this.isPressing=!0;const{onTapStart:bt,whileTap:wt}=this.node.getProps();wt&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),bt&&frame.postRender(()=>bt($,ht))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress($,ht){if(!this.checkPressEnd())return;const{onTapCancel:bt}=this.node.getProps();bt&&frame.postRender(()=>bt($,ht))}mount(){const $=this.node.getProps(),ht=addPointerEvent($.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!($.onTapStart||$.onPointerStart)}),bt=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(ht,bt)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=_e=>{const $=observerCallbacks.get(_e.target);$&&$(_e)},fireAllObserverCallbacks=_e=>{_e.forEach(fireObserverCallback)};function initIntersectionObserver({root:_e,...$}){const ht=_e||document;observers.has(ht)||observers.set(ht,{});const bt=observers.get(ht),wt=JSON.stringify($);return bt[wt]||(bt[wt]=new IntersectionObserver(fireAllObserverCallbacks,{root:_e,...$})),bt[wt]}function observeIntersection(_e,$,ht){const bt=initIntersectionObserver($);return observerCallbacks.set(_e,ht),bt.observe(_e),()=>{observerCallbacks.delete(_e),bt.unobserve(_e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:$={}}=this.node.getProps(),{root:ht,margin:bt,amount:wt="some",once:At}=$,Ct={root:ht?ht.current:void 0,rootMargin:bt,threshold:typeof wt=="number"?wt:thresholdNames[wt]},St=Ft=>{const{isIntersecting:vt}=Ft;if(this.isInView===vt||(this.isInView=vt,At&&!vt&&this.hasEnteredView))return;vt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",vt);const{onViewportEnter:Et,onViewportLeave:Mt}=this.node.getProps(),Pt=vt?Et:Mt;Pt&&Pt(Ft)};return observeIntersection(this.node.current,Ct,St)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:$,prevProps:ht}=this.node;["amount","margin","root"].some(hasViewportOptionChanged($,ht))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:_e={}},{viewport:$={}}={}){return ht=>_e[ht]!==$[ht]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(_e,$){if(!Array.isArray($))return!1;const ht=$.length;if(ht!==_e.length)return!1;for(let bt=0;bt<ht;bt++)if($[bt]!==_e[bt])return!1;return!0}function resolveVariant(_e,$,ht){const bt=_e.getProps();return resolveVariantFromProps(bt,$,ht!==void 0?ht:bt.custom,_e)}const secondsToMilliseconds=_e=>_e*1e3,millisecondsToSeconds=_e=>_e/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=_e=>({type:"spring",stiffness:550,damping:_e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(_e,{keyframes:$})=>$.length>2?keyframesTransition:transformProps.has(_e)?_e.startsWith("scale")?criticallyDampedSpring($[1]):underDampedSpring:ease;function isTransitionDefined({when:_e,delay:$,delayChildren:ht,staggerChildren:bt,staggerDirection:wt,repeat:At,repeatType:Ct,repeatDelay:St,from:Ft,elapsed:vt,...Et}){return!!Object.keys(Et).length}function getValueTransition(_e,$){return _e[$]||_e.default||_e}const isNotNull=_e=>_e!==null;function getFinalKeyframe(_e,{repeat:$,repeatType:ht="loop"},bt){const wt=_e.filter(isNotNull),At=$&&ht!=="loop"&&$%2===1?0:wt.length-1;return!At||bt===void 0?wt[At]:bt}let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:_e=>{now=_e,queueMicrotask(clearTime)}},isZeroValueString=_e=>/^0[^.\s]+$/u.test(_e);function isNone(_e){return typeof _e=="number"?_e===0:_e!==null?_e==="none"||_e==="0"||isZeroValueString(_e):!0}const isNumericalString=_e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(_e),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(_e){const $=splitCSSVariableRegex.exec(_e);if(!$)return[,];const[,ht,bt,wt]=$;return[`--${ht??bt}`,wt]}function getVariableValue(_e,$,ht=1){const[bt,wt]=parseCSSVariable(_e);if(!bt)return;const At=window.getComputedStyle($).getPropertyValue(bt);if(At){const Ct=At.trim();return isNumericalString(Ct)?parseFloat(Ct):Ct}return isCSSVariableToken(wt)?getVariableValue(wt,$,ht+1):wt}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=_e=>_e===number||_e===px,getPosFromMatrix=(_e,$)=>parseFloat(_e.split(", ")[$]),getTranslateFromMatrix=(_e,$)=>(ht,{transform:bt})=>{if(bt==="none"||!bt)return 0;const wt=bt.match(/^matrix3d\((.+)\)$/u);if(wt)return getPosFromMatrix(wt[1],$);{const At=bt.match(/^matrix\((.+)\)$/u);return At?getPosFromMatrix(At[1],_e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(_e=>!transformKeys.has(_e));function removeNonTranslationalTransform(_e){const $=[];return nonTranslationalTransformKeys.forEach(ht=>{const bt=_e.getValue(ht);bt!==void 0&&($.push([ht,bt.get()]),bt.set(ht.startsWith("scale")?1:0))}),$}const positionalValues={width:({x:_e},{paddingLeft:$="0",paddingRight:ht="0"})=>_e.max-_e.min-parseFloat($)-parseFloat(ht),height:({y:_e},{paddingTop:$="0",paddingBottom:ht="0"})=>_e.max-_e.min-parseFloat($)-parseFloat(ht),top:(_e,{top:$})=>parseFloat($),left:(_e,{left:$})=>parseFloat($),bottom:({y:_e},{top:$})=>parseFloat($)+(_e.max-_e.min),right:({x:_e},{left:$})=>parseFloat($)+(_e.max-_e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=_e=>$=>$.test(_e),auto={test:_e=>_e==="auto",parse:_e=>_e},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=_e=>dimensionValueTypes.find(testValueType(_e)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const _e=Array.from(toResolve).filter(bt=>bt.needsMeasurement),$=new Set(_e.map(bt=>bt.element)),ht=new Map;$.forEach(bt=>{const wt=removeNonTranslationalTransform(bt);wt.length&&(ht.set(bt,wt),bt.render())}),_e.forEach(bt=>bt.measureInitialState()),$.forEach(bt=>{bt.render();const wt=ht.get(bt);wt&&wt.forEach(([At,Ct])=>{var St;(St=bt.getValue(At))===null||St===void 0||St.set(Ct)})}),_e.forEach(bt=>bt.measureEndState()),_e.forEach(bt=>{bt.suspendedScrollY!==void 0&&window.scrollTo(0,bt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(_e=>_e.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(_e=>{_e.readKeyframes(),_e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor($,ht,bt,wt,At,Ct=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...$],this.onComplete=ht,this.name=bt,this.motionValue=wt,this.element=At,this.isAsync=Ct}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:$,name:ht,element:bt,motionValue:wt}=this;for(let At=0;At<$.length;At++)if($[At]===null)if(At===0){const Ct=wt==null?void 0:wt.get(),St=$[$.length-1];if(Ct!==void 0)$[0]=Ct;else if(bt&&ht){const Ft=bt.readValue(ht,St);Ft!=null&&($[0]=Ft)}$[0]===void 0&&($[0]=St),wt&&Ct===void 0&&wt.set($[0])}else $[At]=$[At-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isColorString=(_e,$)=>ht=>!!(isString(ht)&&singleColorRegex.test(ht)&&ht.startsWith(_e)||$&&!isNullish(ht)&&Object.prototype.hasOwnProperty.call(ht,$)),splitColor=(_e,$,ht)=>bt=>{if(!isString(bt))return bt;const[wt,At,Ct,St]=bt.match(floatRegex);return{[_e]:parseFloat(wt),[$]:parseFloat(At),[ht]:parseFloat(Ct),alpha:St!==void 0?parseFloat(St):1}},clampRgbUnit=_e=>clamp(0,255,_e),rgbUnit={...number,transform:_e=>Math.round(clampRgbUnit(_e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:_e,green:$,blue:ht,alpha:bt=1})=>"rgba("+rgbUnit.transform(_e)+", "+rgbUnit.transform($)+", "+rgbUnit.transform(ht)+", "+sanitize(alpha.transform(bt))+")"};function parseHex(_e){let $="",ht="",bt="",wt="";return _e.length>5?($=_e.substring(1,3),ht=_e.substring(3,5),bt=_e.substring(5,7),wt=_e.substring(7,9)):($=_e.substring(1,2),ht=_e.substring(2,3),bt=_e.substring(3,4),wt=_e.substring(4,5),$+=$,ht+=ht,bt+=bt,wt+=wt),{red:parseInt($,16),green:parseInt(ht,16),blue:parseInt(bt,16),alpha:wt?parseInt(wt,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:_e,saturation:$,lightness:ht,alpha:bt=1})=>"hsla("+Math.round(_e)+", "+percent.transform(sanitize($))+", "+percent.transform(sanitize(ht))+", "+sanitize(alpha.transform(bt))+")"},color={test:_e=>rgba.test(_e)||hex.test(_e)||hsla.test(_e),parse:_e=>rgba.test(_e)?rgba.parse(_e):hsla.test(_e)?hsla.parse(_e):hex.parse(_e),transform:_e=>isString(_e)?_e:_e.hasOwnProperty("red")?rgba.transform(_e):hsla.transform(_e)};function test(_e){var $,ht;return isNaN(_e)&&isString(_e)&&((($=_e.match(floatRegex))===null||$===void 0?void 0:$.length)||0)+(((ht=_e.match(colorRegex))===null||ht===void 0?void 0:ht.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(_e){const $=_e.toString(),ht=[],bt={color:[],number:[],var:[]},wt=[];let At=0;const St=$.replace(complexRegex,Ft=>(color.test(Ft)?(bt.color.push(At),wt.push(COLOR_TOKEN),ht.push(color.parse(Ft))):Ft.startsWith(VAR_FUNCTION_TOKEN)?(bt.var.push(At),wt.push(VAR_TOKEN),ht.push(Ft)):(bt.number.push(At),wt.push(NUMBER_TOKEN),ht.push(parseFloat(Ft))),++At,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:ht,split:St,indexes:bt,types:wt}}function parseComplexValue(_e){return analyseComplexValue(_e).values}function createTransformer(_e){const{split:$,types:ht}=analyseComplexValue(_e),bt=$.length;return wt=>{let At="";for(let Ct=0;Ct<bt;Ct++)if(At+=$[Ct],wt[Ct]!==void 0){const St=ht[Ct];St===NUMBER_TOKEN?At+=sanitize(wt[Ct]):St===COLOR_TOKEN?At+=color.transform(wt[Ct]):At+=wt[Ct]}return At}}const convertNumbersToZero=_e=>typeof _e=="number"?0:_e;function getAnimatableNone$1(_e){const $=parseComplexValue(_e);return createTransformer(_e)($.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(_e){const[$,ht]=_e.slice(0,-1).split("(");if($==="drop-shadow")return _e;const[bt]=ht.match(floatRegex)||[];if(!bt)return _e;const wt=ht.replace(bt,"");let At=maxDefaults.has($)?1:0;return bt!==ht&&(At*=100),$+"("+At+wt+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:_e=>{const $=_e.match(functionRegex);return $?$.map(applyDefaultFilter).join(" "):_e}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=_e=>defaultValueTypes[_e];function getAnimatableNone(_e,$){let ht=getDefaultValueType(_e);return ht!==filter&&(ht=complex),ht.getAnimatableNone?ht.getAnimatableNone($):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(_e,$,ht){let bt=0,wt;for(;bt<_e.length&&!wt;){const At=_e[bt];typeof At=="string"&&!invalidTemplates.has(At)&&analyseComplexValue(At).values.length&&(wt=_e[bt]),bt++}if(wt&&ht)for(const At of $)_e[At]=getAnimatableNone(ht,wt)}class DOMKeyframesResolver extends KeyframeResolver{constructor($,ht,bt,wt){super($,ht,bt,wt,wt==null?void 0:wt.owner,!0)}readKeyframes(){const{unresolvedKeyframes:$,element:ht,name:bt}=this;if(!ht.current)return;super.readKeyframes();for(let Ft=0;Ft<$.length;Ft++){let vt=$[Ft];if(typeof vt=="string"&&(vt=vt.trim(),isCSSVariableToken(vt))){const Et=getVariableValue(vt,ht.current);Et!==void 0&&($[Ft]=Et),Ft===$.length-1&&(this.finalKeyframe=vt)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(bt)||$.length!==2)return;const[wt,At]=$,Ct=findDimensionValueType(wt),St=findDimensionValueType(At);if(Ct!==St)if(isNumOrPxType(Ct)&&isNumOrPxType(St))for(let Ft=0;Ft<$.length;Ft++){const vt=$[Ft];typeof vt=="string"&&($[Ft]=parseFloat(vt))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:$,name:ht}=this,bt=[];for(let wt=0;wt<$.length;wt++)isNone($[wt])&&bt.push(wt);bt.length&&makeNoneKeyframesAnimatable($,bt,ht)}measureInitialState(){const{element:$,unresolvedKeyframes:ht,name:bt}=this;if(!$.current)return;bt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[bt]($.measureViewportBox(),window.getComputedStyle($.current)),ht[0]=this.measuredOrigin;const wt=ht[ht.length-1];wt!==void 0&&$.getValue(bt,wt).jump(wt,!1)}measureEndState(){var $;const{element:ht,name:bt,unresolvedKeyframes:wt}=this;if(!ht.current)return;const At=ht.getValue(bt);At&&At.jump(this.measuredOrigin,!1);const Ct=wt.length-1,St=wt[Ct];wt[Ct]=positionalValues[bt](ht.measureViewportBox(),window.getComputedStyle(ht.current)),St!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=St),!(($=this.removedTransforms)===null||$===void 0)&&$.length&&this.removedTransforms.forEach(([Ft,vt])=>{ht.getValue(Ft).set(vt)}),this.resolveNoneKeyframes()}}function memo(_e){let $;return()=>($===void 0&&($=_e()),$)}const isAnimatable=(_e,$)=>$==="zIndex"?!1:!!(typeof _e=="number"||Array.isArray(_e)||typeof _e=="string"&&(complex.test(_e)||_e==="0")&&!_e.startsWith("url("));function hasKeyframesChanged(_e){const $=_e[0];if(_e.length===1)return!0;for(let ht=0;ht<_e.length;ht++)if(_e[ht]!==$)return!0}function canAnimate(_e,$,ht,bt){const wt=_e[0];if(wt===null)return!1;if($==="display"||$==="visibility")return!0;const At=_e[_e.length-1],Ct=isAnimatable(wt,$),St=isAnimatable(At,$);return!Ct||!St?!1:hasKeyframesChanged(_e)||ht==="spring"&&bt}class BaseAnimation{constructor({autoplay:$=!0,delay:ht=0,type:bt="keyframes",repeat:wt=0,repeatDelay:At=0,repeatType:Ct="loop",...St}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:$,delay:ht,type:bt,repeat:wt,repeatDelay:At,repeatType:Ct,...St},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved($,ht){this.hasAttemptedResolve=!0;const{name:bt,type:wt,velocity:At,delay:Ct,onComplete:St,onUpdate:Ft,isGenerator:vt}=this.options;if(!vt&&!canAnimate($,bt,wt,At))if(Ct)this.options.duration=0;else{Ft==null||Ft(getFinalKeyframe($,this.options,ht)),St==null||St(),this.resolveFinishedPromise();return}const Et=this.initPlayback($,ht);Et!==!1&&(this._resolved={keyframes:$,finalKeyframe:ht,...Et},this.onPostResolved())}onPostResolved(){}then($,ht){return this.currentFinishedPromise.then($,ht)}updateFinishedPromise(){this.currentFinishedPromise=new Promise($=>{this.resolveFinishedPromise=$})}}function velocityPerSecond(_e,$){return $?_e*(1e3/$):0}const velocitySampleDuration=5;function calcGeneratorVelocity(_e,$,ht){const bt=Math.max($-velocitySampleDuration,0);return velocityPerSecond(ht-_e(bt),$-bt)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:_e=800,bounce:$=.25,velocity:ht=0,mass:bt=1}){let wt,At,Ct=1-$;Ct=clamp(minDamping,maxDamping,Ct),_e=clamp(minDuration,maxDuration$1,millisecondsToSeconds(_e)),Ct<1?(wt=vt=>{const Et=vt*Ct,Mt=Et*_e,Pt=Et-ht,xt=calcAngularFreq(vt,Ct),$t=Math.exp(-Mt);return safeMin-Pt/xt*$t},At=vt=>{const Mt=vt*Ct*_e,Pt=Mt*ht+ht,xt=Math.pow(Ct,2)*Math.pow(vt,2)*_e,$t=Math.exp(-Mt),_t=calcAngularFreq(Math.pow(vt,2),Ct);return(-wt(vt)+safeMin>0?-1:1)*((Pt-xt)*$t)/_t}):(wt=vt=>{const Et=Math.exp(-vt*_e),Mt=(vt-ht)*_e+1;return-safeMin+Et*Mt},At=vt=>{const Et=Math.exp(-vt*_e),Mt=(ht-vt)*(_e*_e);return Et*Mt});const St=5/_e,Ft=approximateRoot(wt,At,St);if(_e=secondsToMilliseconds(_e),isNaN(Ft))return{stiffness:100,damping:10,duration:_e};{const vt=Math.pow(Ft,2)*bt;return{stiffness:vt,damping:Ct*2*Math.sqrt(bt*vt),duration:_e}}}const rootIterations=12;function approximateRoot(_e,$,ht){let bt=ht;for(let wt=1;wt<rootIterations;wt++)bt=bt-_e(bt)/$(bt);return bt}function calcAngularFreq(_e,$){return _e*Math.sqrt(1-$*$)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(_e,$){return $.some(ht=>_e[ht]!==void 0)}function getSpringOptions(_e){let $={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,..._e};if(!isSpringType(_e,physicsKeys)&&isSpringType(_e,durationKeys)){const ht=findSpring(_e);$={...$,...ht,mass:1},$.isResolvedFromDuration=!0}return $}function spring({keyframes:_e,restDelta:$,restSpeed:ht,...bt}){const wt=_e[0],At=_e[_e.length-1],Ct={done:!1,value:wt},{stiffness:St,damping:Ft,mass:vt,duration:Et,velocity:Mt,isResolvedFromDuration:Pt}=getSpringOptions({...bt,velocity:-millisecondsToSeconds(bt.velocity||0)}),xt=Mt||0,$t=Ft/(2*Math.sqrt(St*vt)),_t=At-wt,jt=millisecondsToSeconds(Math.sqrt(St/vt)),Rt=Math.abs(_t)<5;ht||(ht=Rt?.01:2),$||($=Rt?.005:.5);let Nt;if($t<1){const Lt=calcAngularFreq(jt,$t);Nt=kt=>{const Bt=Math.exp(-$t*jt*kt);return At-Bt*((xt+$t*jt*_t)/Lt*Math.sin(Lt*kt)+_t*Math.cos(Lt*kt))}}else if($t===1)Nt=Lt=>At-Math.exp(-jt*Lt)*(_t+(xt+jt*_t)*Lt);else{const Lt=jt*Math.sqrt($t*$t-1);Nt=kt=>{const Bt=Math.exp(-$t*jt*kt),Ht=Math.min(Lt*kt,300);return At-Bt*((xt+$t*jt*_t)*Math.sinh(Ht)+Lt*_t*Math.cosh(Ht))/Lt}}return{calculatedDuration:Pt&&Et||null,next:Lt=>{const kt=Nt(Lt);if(Pt)Ct.done=Lt>=Et;else{let Bt=xt;Lt!==0&&($t<1?Bt=calcGeneratorVelocity(Nt,Lt,kt):Bt=0);const Ht=Math.abs(Bt)<=ht,Ot=Math.abs(At-kt)<=$;Ct.done=Ht&&Ot}return Ct.value=Ct.done?At:kt,Ct}}}function inertia({keyframes:_e,velocity:$=0,power:ht=.8,timeConstant:bt=325,bounceDamping:wt=10,bounceStiffness:At=500,modifyTarget:Ct,min:St,max:Ft,restDelta:vt=.5,restSpeed:Et}){const Mt=_e[0],Pt={done:!1,value:Mt},xt=Vt=>St!==void 0&&Vt<St||Ft!==void 0&&Vt>Ft,$t=Vt=>St===void 0?Ft:Ft===void 0||Math.abs(St-Vt)<Math.abs(Ft-Vt)?St:Ft;let _t=ht*$;const jt=Mt+_t,Rt=Ct===void 0?jt:Ct(jt);Rt!==jt&&(_t=Rt-Mt);const Nt=Vt=>-_t*Math.exp(-Vt/bt),Lt=Vt=>Rt+Nt(Vt),kt=Vt=>{const Gt=Nt(Vt),Wt=Lt(Vt);Pt.done=Math.abs(Gt)<=vt,Pt.value=Pt.done?Rt:Wt};let Bt,Ht;const Ot=Vt=>{xt(Pt.value)&&(Bt=Vt,Ht=spring({keyframes:[Pt.value,$t(Pt.value)],velocity:calcGeneratorVelocity(Lt,Vt,Pt.value),damping:wt,stiffness:At,restDelta:vt,restSpeed:Et}))};return Ot(0),{calculatedDuration:null,next:Vt=>{let Gt=!1;return!Ht&&Bt===void 0&&(Gt=!0,kt(Vt),Ot(Vt)),Bt!==void 0&&Vt>=Bt?Ht.next(Vt-Bt):(!Gt&&kt(Vt),Pt)}}}const calcBezier=(_e,$,ht)=>(((1-3*ht+3*$)*_e+(3*ht-6*$))*_e+3*$)*_e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(_e,$,ht,bt,wt){let At,Ct,St=0;do Ct=$+(ht-$)/2,At=calcBezier(Ct,bt,wt)-_e,At>0?ht=Ct:$=Ct;while(Math.abs(At)>subdivisionPrecision&&++St<subdivisionMaxIterations);return Ct}function cubicBezier(_e,$,ht,bt){if(_e===$&&ht===bt)return noop;const wt=At=>binarySubdivide(At,0,1,_e,ht);return At=>At===0||At===1?At:calcBezier(wt(At),$,bt)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=_e=>Array.isArray(_e)&&typeof _e[0]!="number",mirrorEasing=_e=>$=>$<=.5?_e(2*$)/2:(2-_e(2*(1-$)))/2,reverseEasing=_e=>$=>1-_e(1-$),circIn=_e=>1-Math.sin(Math.acos(_e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=_e=>(_e*=2)<1?.5*backIn(_e):.5*(2-Math.pow(2,-10*(_e-1))),easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=_e=>{if(Array.isArray(_e)){invariant(_e.length===4);const[$,ht,bt,wt]=_e;return cubicBezier($,ht,bt,wt)}else if(typeof _e=="string")return invariant(easingLookup[_e]!==void 0),easingLookup[_e];return _e},progress=(_e,$,ht)=>{const bt=$-_e;return bt===0?1:(ht-_e)/bt},mixNumber$1=(_e,$,ht)=>_e+($-_e)*ht;function hueToRgb(_e,$,ht){return ht<0&&(ht+=1),ht>1&&(ht-=1),ht<1/6?_e+($-_e)*6*ht:ht<1/2?$:ht<2/3?_e+($-_e)*(2/3-ht)*6:_e}function hslaToRgba({hue:_e,saturation:$,lightness:ht,alpha:bt}){_e/=360,$/=100,ht/=100;let wt=0,At=0,Ct=0;if(!$)wt=At=Ct=ht;else{const St=ht<.5?ht*(1+$):ht+$-ht*$,Ft=2*ht-St;wt=hueToRgb(Ft,St,_e+1/3),At=hueToRgb(Ft,St,_e),Ct=hueToRgb(Ft,St,_e-1/3)}return{red:Math.round(wt*255),green:Math.round(At*255),blue:Math.round(Ct*255),alpha:bt}}function mixImmediate(_e,$){return ht=>ht>0?$:_e}const mixLinearColor=(_e,$,ht)=>{const bt=_e*_e,wt=ht*($*$-bt)+bt;return wt<0?0:Math.sqrt(wt)},colorTypes=[hex,rgba,hsla],getColorType=_e=>colorTypes.find($=>$.test(_e));function asRGBA(_e){const $=getColorType(_e);if(!$)return!1;let ht=$.parse(_e);return $===hsla&&(ht=hslaToRgba(ht)),ht}const mixColor=(_e,$)=>{const ht=asRGBA(_e),bt=asRGBA($);if(!ht||!bt)return mixImmediate(_e,$);const wt={...ht};return At=>(wt.red=mixLinearColor(ht.red,bt.red,At),wt.green=mixLinearColor(ht.green,bt.green,At),wt.blue=mixLinearColor(ht.blue,bt.blue,At),wt.alpha=mixNumber$1(ht.alpha,bt.alpha,At),rgba.transform(wt))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(_e,$){return invisibleValues.has(_e)?ht=>ht<=0?_e:$:ht=>ht>=1?$:_e}function mixNumber(_e,$){return ht=>mixNumber$1(_e,$,ht)}function getMixer(_e){return typeof _e=="number"?mixNumber:typeof _e=="string"?isCSSVariableToken(_e)?mixImmediate:color.test(_e)?mixColor:mixComplex:Array.isArray(_e)?mixArray:typeof _e=="object"?color.test(_e)?mixColor:mixObject:mixImmediate}function mixArray(_e,$){const ht=[..._e],bt=ht.length,wt=_e.map((At,Ct)=>getMixer(At)(At,$[Ct]));return At=>{for(let Ct=0;Ct<bt;Ct++)ht[Ct]=wt[Ct](At);return ht}}function mixObject(_e,$){const ht={..._e,...$},bt={};for(const wt in ht)_e[wt]!==void 0&&$[wt]!==void 0&&(bt[wt]=getMixer(_e[wt])(_e[wt],$[wt]));return wt=>{for(const At in bt)ht[At]=bt[At](wt);return ht}}function matchOrder(_e,$){var ht;const bt=[],wt={color:0,var:0,number:0};for(let At=0;At<$.values.length;At++){const Ct=$.types[At],St=_e.indexes[Ct][wt[Ct]],Ft=(ht=_e.values[St])!==null&&ht!==void 0?ht:0;bt[At]=Ft,wt[Ct]++}return bt}const mixComplex=(_e,$)=>{const ht=complex.createTransformer($),bt=analyseComplexValue(_e),wt=analyseComplexValue($);return bt.indexes.var.length===wt.indexes.var.length&&bt.indexes.color.length===wt.indexes.color.length&&bt.indexes.number.length>=wt.indexes.number.length?invisibleValues.has(_e)&&!wt.values.length||invisibleValues.has($)&&!bt.values.length?mixVisibility(_e,$):pipe(mixArray(matchOrder(bt,wt),wt.values),ht):mixImmediate(_e,$)};function mix(_e,$,ht){return typeof _e=="number"&&typeof $=="number"&&typeof ht=="number"?mixNumber$1(_e,$,ht):getMixer(_e)(_e,$)}function createMixers(_e,$,ht){const bt=[],wt=ht||mix,At=_e.length-1;for(let Ct=0;Ct<At;Ct++){let St=wt(_e[Ct],_e[Ct+1]);if($){const Ft=Array.isArray($)?$[Ct]||noop:$;St=pipe(Ft,St)}bt.push(St)}return bt}function interpolate(_e,$,{clamp:ht=!0,ease:bt,mixer:wt}={}){const At=_e.length;if(invariant(At===$.length),At===1)return()=>$[0];if(At===2&&_e[0]===_e[1])return()=>$[1];_e[0]>_e[At-1]&&(_e=[..._e].reverse(),$=[...$].reverse());const Ct=createMixers($,bt,wt),St=Ct.length,Ft=vt=>{let Et=0;if(St>1)for(;Et<_e.length-2&&!(vt<_e[Et+1]);Et++);const Mt=progress(_e[Et],_e[Et+1],vt);return Ct[Et](Mt)};return ht?vt=>Ft(clamp(_e[0],_e[At-1],vt)):Ft}function fillOffset(_e,$){const ht=_e[_e.length-1];for(let bt=1;bt<=$;bt++){const wt=progress(0,$,bt);_e.push(mixNumber$1(ht,1,wt))}}function defaultOffset(_e){const $=[0];return fillOffset($,_e.length-1),$}function convertOffsetToTimes(_e,$){return _e.map(ht=>ht*$)}function defaultEasing(_e,$){return _e.map(()=>$||easeInOut).splice(0,_e.length-1)}function keyframes({duration:_e=300,keyframes:$,times:ht,ease:bt="easeInOut"}){const wt=isEasingArray(bt)?bt.map(easingDefinitionToFunction):easingDefinitionToFunction(bt),At={done:!1,value:$[0]},Ct=convertOffsetToTimes(ht&&ht.length===$.length?ht:defaultOffset($),_e),St=interpolate(Ct,$,{ease:Array.isArray(wt)?wt:defaultEasing($,wt)});return{calculatedDuration:_e,next:Ft=>(At.value=St(Ft),At.done=Ft>=_e,At)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(_e){let $=0;const ht=50;let bt=_e.next($);for(;!bt.done&&$<maxGeneratorDuration;)$+=ht,bt=_e.next($);return $>=maxGeneratorDuration?1/0:$}const frameloopDriver=_e=>{const $=({timestamp:ht})=>_e(ht);return{start:()=>frame.update($,!0),stop:()=>cancelFrame($),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=_e=>_e/100;class MainThreadAnimation extends BaseAnimation{constructor({KeyframeResolver:$=KeyframeResolver,...ht}){super(ht),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:St}=this.options;St&&St()};const{name:bt,motionValue:wt,keyframes:At}=this.options,Ct=(St,Ft)=>this.onKeyframesResolved(St,Ft);bt&&wt&&wt.owner?this.resolver=wt.owner.resolveKeyframes(At,Ct,bt,wt):this.resolver=new $(At,Ct,bt,wt),this.resolver.scheduleResolve()}initPlayback($){const{type:ht="keyframes",repeat:bt=0,repeatDelay:wt=0,repeatType:At,velocity:Ct=0}=this.options,St=generators[ht]||keyframes;let Ft,vt;St!==keyframes&&typeof $[0]!="number"&&(Ft=pipe(percentToProgress,mix($[0],$[1])),$=[0,100]);const Et=St({...this.options,keyframes:$});At==="mirror"&&(vt=St({...this.options,keyframes:[...$].reverse(),velocity:-Ct})),Et.calculatedDuration===null&&(Et.calculatedDuration=calcGeneratorDuration(Et));const{calculatedDuration:Mt}=Et,Pt=Mt+wt,xt=Pt*(bt+1)-wt;return{generator:Et,mirroredGenerator:vt,mapPercentToKeyframes:Ft,calculatedDuration:Mt,resolvedDuration:Pt,totalDuration:xt}}onPostResolved(){const{autoplay:$=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!$?this.pause():this.state=this.pendingPlayState}tick($,ht=!1){const{resolved:bt}=this;if(!bt){const{keyframes:Vt}=this.options;return{done:!0,value:Vt[Vt.length-1]}}const{finalKeyframe:wt,generator:At,mirroredGenerator:Ct,mapPercentToKeyframes:St,keyframes:Ft,calculatedDuration:vt,totalDuration:Et,resolvedDuration:Mt}=bt;if(this.startTime===null)return At.next(0);const{delay:Pt,repeat:xt,repeatType:$t,repeatDelay:_t,onUpdate:jt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,$):this.speed<0&&(this.startTime=Math.min($-Et/this.speed,this.startTime)),ht?this.currentTime=$:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round($-this.startTime)*this.speed;const Rt=this.currentTime-Pt*(this.speed>=0?1:-1),Nt=this.speed>=0?Rt<0:Rt>Et;this.currentTime=Math.max(Rt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=Et);let Lt=this.currentTime,kt=At;if(xt){const Vt=Math.min(this.currentTime,Et)/Mt;let Gt=Math.floor(Vt),Wt=Vt%1;!Wt&&Vt>=1&&(Wt=1),Wt===1&&Gt--,Gt=Math.min(Gt,xt+1),!!(Gt%2)&&($t==="reverse"?(Wt=1-Wt,_t&&(Wt-=_t/Mt)):$t==="mirror"&&(kt=Ct)),Lt=clamp(0,1,Wt)*Mt}const Bt=Nt?{done:!1,value:Ft[0]}:kt.next(Lt);St&&(Bt.value=St(Bt.value));let{done:Ht}=Bt;!Nt&&vt!==null&&(Ht=this.speed>=0?this.currentTime>=Et:this.currentTime<=0);const Ot=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Ht);return Ot&&wt!==void 0&&(Bt.value=getFinalKeyframe(Ft,this.options,wt)),jt&&jt(Bt.value),Ot&&this.finish(),Bt}get duration(){const{resolved:$}=this;return $?millisecondsToSeconds($.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time($){$=secondsToMilliseconds($),this.currentTime=$,this.holdTime!==null||this.speed===0?this.holdTime=$:this.driver&&(this.startTime=this.driver.now()-$/this.speed)}get speed(){return this.playbackSpeed}set speed($){const ht=this.playbackSpeed!==$;this.playbackSpeed=$,ht&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:$=frameloopDriver,onPlay:ht}=this.options;this.driver||(this.driver=$(wt=>this.tick(wt))),ht&&ht();const bt=this.driver.now();this.holdTime!==null?this.startTime=bt-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=bt),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var $;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=($=this.currentTime)!==null&&$!==void 0?$:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:$}=this.options;$&&$()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample($){return this.startTime=0,this.tick($,!0)}}const isBezierDefinition=_e=>Array.isArray(_e)&&typeof _e[0]=="number";function isWaapiSupportedEasing(_e){return!!(!_e||typeof _e=="string"&&_e in supportedWaapiEasing||isBezierDefinition(_e)||Array.isArray(_e)&&_e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([_e,$,ht,bt])=>`cubic-bezier(${_e}, ${$}, ${ht}, ${bt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasingWithDefault(_e){return mapEasingToNativeEasing(_e)||supportedWaapiEasing.easeOut}function mapEasingToNativeEasing(_e){if(_e)return isBezierDefinition(_e)?cubicBezierAsString(_e):Array.isArray(_e)?_e.map(mapEasingToNativeEasingWithDefault):supportedWaapiEasing[_e]}function animateStyle(_e,$,ht,{delay:bt=0,duration:wt=300,repeat:At=0,repeatType:Ct="loop",ease:St,times:Ft}={}){const vt={[$]:ht};Ft&&(vt.offset=Ft);const Et=mapEasingToNativeEasing(St);return Array.isArray(Et)&&(vt.easing=Et),_e.animate(vt,{delay:bt,duration:wt,easing:Array.isArray(Et)?"linear":Et,fill:"both",iterations:At+1,direction:Ct==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(_e){return _e.type==="spring"||_e.name==="backgroundColor"||!isWaapiSupportedEasing(_e.ease)}function pregenerateKeyframes(_e,$){const ht=new MainThreadAnimation({...$,keyframes:_e,repeat:0,delay:0,isGenerator:!0});let bt={done:!1,value:_e[0]};const wt=[];let At=0;for(;!bt.done&&At<maxDuration;)bt=ht.sample(At),wt.push(bt.value),At+=sampleDelta;return{times:void 0,keyframes:wt,duration:At-sampleDelta,ease:"linear"}}class AcceleratedAnimation extends BaseAnimation{constructor($){super($);const{name:ht,motionValue:bt,keyframes:wt}=this.options;this.resolver=new DOMKeyframesResolver(wt,(At,Ct)=>this.onKeyframesResolved(At,Ct),ht,bt),this.resolver.scheduleResolve()}initPlayback($,ht){var bt;let{duration:wt=300,times:At,ease:Ct,type:St,motionValue:Ft,name:vt}=this.options;if(!(!((bt=Ft.owner)===null||bt===void 0)&&bt.current))return!1;if(requiresPregeneratedKeyframes(this.options)){const{onComplete:Mt,onUpdate:Pt,motionValue:xt,...$t}=this.options,_t=pregenerateKeyframes($,$t);$=_t.keyframes,$.length===1&&($[1]=$[0]),wt=_t.duration,At=_t.times,Ct=_t.ease,St="keyframes"}const Et=animateStyle(Ft.owner.current,vt,$,{...this.options,duration:wt,times:At,ease:Ct});return Et.startTime=time.now(),this.pendingTimeline?(Et.timeline=this.pendingTimeline,this.pendingTimeline=void 0):Et.onfinish=()=>{const{onComplete:Mt}=this.options;Ft.set(getFinalKeyframe($,this.options,ht)),Mt&&Mt(),this.cancel(),this.resolveFinishedPromise()},{animation:Et,duration:wt,times:At,type:St,ease:Ct,keyframes:$}}get duration(){const{resolved:$}=this;if(!$)return 0;const{duration:ht}=$;return millisecondsToSeconds(ht)}get time(){const{resolved:$}=this;if(!$)return 0;const{animation:ht}=$;return millisecondsToSeconds(ht.currentTime||0)}set time($){const{resolved:ht}=this;if(!ht)return;const{animation:bt}=ht;bt.currentTime=secondsToMilliseconds($)}get speed(){const{resolved:$}=this;if(!$)return 1;const{animation:ht}=$;return ht.playbackRate}set speed($){const{resolved:ht}=this;if(!ht)return;const{animation:bt}=ht;bt.playbackRate=$}get state(){const{resolved:$}=this;if(!$)return"idle";const{animation:ht}=$;return ht.playState}attachTimeline($){if(!this._resolved)this.pendingTimeline=$;else{const{resolved:ht}=this;if(!ht)return noop;const{animation:bt}=ht;bt.timeline=$,bt.onfinish=null}return noop}play(){if(this.isStopped)return;const{resolved:$}=this;if(!$)return;const{animation:ht}=$;ht.playState==="finished"&&this.updateFinishedPromise(),ht.play()}pause(){const{resolved:$}=this;if(!$)return;const{animation:ht}=$;ht.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:$}=this;if(!$)return;const{animation:ht,keyframes:bt,duration:wt,type:At,ease:Ct,times:St}=$;if(!(ht.playState==="idle"||ht.playState==="finished")){if(this.time){const{motionValue:Ft,onUpdate:vt,onComplete:Et,...Mt}=this.options,Pt=new MainThreadAnimation({...Mt,keyframes:bt,duration:wt,type:At,ease:Ct,times:St,isGenerator:!0}),xt=secondsToMilliseconds(this.time);Ft.setWithVelocity(Pt.sample(xt-sampleDelta).value,Pt.sample(xt).value,sampleDelta)}this.cancel()}}complete(){const{resolved:$}=this;$&&$.animation.finish()}cancel(){const{resolved:$}=this;$&&$.animation.cancel()}static supports($){const{motionValue:ht,name:bt,repeatDelay:wt,repeatType:At,damping:Ct,type:St}=$;return supportsWaapi()&&bt&&acceleratedValues.has(bt)&&ht&&ht.owner&&ht.owner.current instanceof HTMLElement&&!ht.owner.getProps().onUpdate&&!wt&&At!=="mirror"&&Ct!==0&&St!=="inertia"}}function observeTimeline(_e,$){let ht;const bt=()=>{const{currentTime:wt}=$,Ct=(wt===null?0:wt.value)/100;ht!==Ct&&_e(Ct),ht=Ct};return frame.update(bt,!0),()=>cancelFrame(bt)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor($){this.stop=()=>this.runAll("stop"),this.animations=$.filter(Boolean)}then($,ht){return Promise.all(this.animations).then($).catch(ht)}getAll($){return this.animations[0][$]}setAll($,ht){for(let bt=0;bt<this.animations.length;bt++)this.animations[bt][$]=ht}attachTimeline($){const ht=this.animations.map(bt=>{if(supportsScrollTimeline()&&bt.attachTimeline)bt.attachTimeline($);else return bt.pause(),observeTimeline(wt=>{bt.time=bt.duration*wt},$)});return()=>{ht.forEach((bt,wt)=>{bt&&bt(),this.animations[wt].stop()})}}get time(){return this.getAll("time")}set time($){this.setAll("time",$)}get speed(){return this.getAll("speed")}set speed($){this.setAll("speed",$)}get duration(){let $=0;for(let ht=0;ht<this.animations.length;ht++)$=Math.max($,this.animations[ht].duration);return $}runAll($){this.animations.forEach(ht=>ht[$]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const animateMotionValue=(_e,$,ht,bt={},wt,At)=>Ct=>{const St=getValueTransition(bt,_e)||{},Ft=St.delay||bt.delay||0;let{elapsed:vt=0}=bt;vt=vt-secondsToMilliseconds(Ft);let Et={keyframes:Array.isArray(ht)?ht:[null,ht],ease:"easeOut",velocity:$.getVelocity(),...St,delay:-vt,onUpdate:Pt=>{$.set(Pt),St.onUpdate&&St.onUpdate(Pt)},onComplete:()=>{Ct(),St.onComplete&&St.onComplete()},name:_e,motionValue:$,element:At?void 0:wt};isTransitionDefined(St)||(Et={...Et,...getDefaultTransition(_e,Et)}),Et.duration&&(Et.duration=secondsToMilliseconds(Et.duration)),Et.repeatDelay&&(Et.repeatDelay=secondsToMilliseconds(Et.repeatDelay)),Et.from!==void 0&&(Et.keyframes[0]=Et.from);let Mt=!1;if((Et.type===!1||Et.duration===0&&!Et.repeatDelay)&&(Et.duration=0,Et.delay===0&&(Mt=!0)),Mt&&!At&&$.get()!==void 0){const Pt=getFinalKeyframe(Et.keyframes,St);if(Pt!==void 0)return frame.update(()=>{Et.onUpdate(Pt),Et.onComplete()}),new GroupPlaybackControls([])}return!At&&AcceleratedAnimation.supports(Et)?new AcceleratedAnimation(Et):new MainThreadAnimation(Et)};function isWillChangeMotionValue(_e){return!!(isMotionValue(_e)&&_e.add)}function addUniqueItem(_e,$){_e.indexOf($)===-1&&_e.push($)}function removeItem(_e,$){const ht=_e.indexOf($);ht>-1&&_e.splice(ht,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add($){return addUniqueItem(this.subscriptions,$),()=>removeItem(this.subscriptions,$)}notify($,ht,bt){const wt=this.subscriptions.length;if(wt)if(wt===1)this.subscriptions[0]($,ht,bt);else for(let At=0;At<wt;At++){const Ct=this.subscriptions[At];Ct&&Ct($,ht,bt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=_e=>!isNaN(parseFloat(_e));class MotionValue{constructor($,ht={}){this.version="11.2.13",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(bt,wt=!0)=>{const At=time.now();this.updatedAt!==At&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(bt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),wt&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent($),this.owner=ht.owner}setCurrent($){this.current=$,this.updatedAt=time.now(),this.canTrackVelocity===null&&$!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue($=this.current){this.prevFrameValue=$,this.prevUpdatedAt=this.updatedAt}onChange($){return this.on("change",$)}on($,ht){this.events[$]||(this.events[$]=new SubscriptionManager);const bt=this.events[$].add(ht);return $==="change"?()=>{bt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:bt}clearListeners(){for(const $ in this.events)this.events[$].clear()}attach($,ht){this.passiveEffect=$,this.stopPassiveEffect=ht}set($,ht=!0){!ht||!this.passiveEffect?this.updateAndNotify($,ht):this.passiveEffect($,this.updateAndNotify)}setWithVelocity($,ht,bt){this.set(ht),this.prev=void 0,this.prevFrameValue=$,this.prevUpdatedAt=this.updatedAt-bt}jump($,ht=!0){this.updateAndNotify($),this.prev=$,this.prevUpdatedAt=this.prevFrameValue=void 0,ht&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const $=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||$-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const ht=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),ht)}start($){return this.stop(),new Promise(ht=>{this.hasAnimated=!0,this.animation=$(ht),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(_e,$){return new MotionValue(_e,$)}function setMotionValue(_e,$,ht){_e.hasValue($)?_e.getValue($).set(ht):_e.addValue($,motionValue(ht))}function setTarget(_e,$){const ht=resolveVariant(_e,$);let{transitionEnd:bt={},transition:wt={},...At}=ht||{};At={...At,...bt};for(const Ct in At){const St=resolveFinalValueInKeyframes(At[Ct]);setMotionValue(_e,Ct,St)}}function getOptimisedAppearId(_e){return _e.getProps()[optimizedAppearDataAttribute]}function shouldBlockAnimation({protectedKeys:_e,needsAnimating:$},ht){const bt=_e.hasOwnProperty(ht)&&$[ht]!==!0;return $[ht]=!1,bt}function animateTarget(_e,$,{delay:ht=0,transitionOverride:bt,type:wt}={}){var At;let{transition:Ct=_e.getDefaultTransition(),transitionEnd:St,...Ft}=$;const vt=_e.getValue("willChange");bt&&(Ct=bt);const Et=[],Mt=wt&&_e.animationState&&_e.animationState.getState()[wt];for(const Pt in Ft){const xt=_e.getValue(Pt,(At=_e.latestValues[Pt])!==null&&At!==void 0?At:null),$t=Ft[Pt];if($t===void 0||Mt&&shouldBlockAnimation(Mt,Pt))continue;const _t={delay:ht,elapsed:0,...getValueTransition(Ct||{},Pt)};let jt=!1;if(window.HandoffAppearAnimations){const Nt=getOptimisedAppearId(_e);if(Nt){const Lt=window.HandoffAppearAnimations(Nt,Pt,xt,frame);Lt!==null&&(_t.elapsed=Lt,jt=!0)}}xt.start(animateMotionValue(Pt,xt,$t,_e.shouldReduceMotion&&transformProps.has(Pt)?{type:!1}:_t,_e,jt));const Rt=xt.animation;Rt&&(isWillChangeMotionValue(vt)&&(vt.add(Pt),Rt.then(()=>vt.remove(Pt))),Et.push(Rt))}return St&&Promise.all(Et).then(()=>{frame.update(()=>{St&&setTarget(_e,St)})}),Et}function animateVariant(_e,$,ht={}){var bt;const wt=resolveVariant(_e,$,ht.type==="exit"?(bt=_e.presenceContext)===null||bt===void 0?void 0:bt.custom:void 0);let{transition:At=_e.getDefaultTransition()||{}}=wt||{};ht.transitionOverride&&(At=ht.transitionOverride);const Ct=wt?()=>Promise.all(animateTarget(_e,wt,ht)):()=>Promise.resolve(),St=_e.variantChildren&&_e.variantChildren.size?(vt=0)=>{const{delayChildren:Et=0,staggerChildren:Mt,staggerDirection:Pt}=At;return animateChildren(_e,$,Et+vt,Mt,Pt,ht)}:()=>Promise.resolve(),{when:Ft}=At;if(Ft){const[vt,Et]=Ft==="beforeChildren"?[Ct,St]:[St,Ct];return vt().then(()=>Et())}else return Promise.all([Ct(),St(ht.delay)])}function animateChildren(_e,$,ht=0,bt=0,wt=1,At){const Ct=[],St=(_e.variantChildren.size-1)*bt,Ft=wt===1?(vt=0)=>vt*bt:(vt=0)=>St-vt*bt;return Array.from(_e.variantChildren).sort(sortByTreeOrder).forEach((vt,Et)=>{vt.notify("AnimationStart",$),Ct.push(animateVariant(vt,$,{...At,delay:ht+Ft(Et)}).then(()=>vt.notify("AnimationComplete",$)))}),Promise.all(Ct)}function sortByTreeOrder(_e,$){return _e.sortNodePosition($)}function animateVisualElement(_e,$,ht={}){_e.notify("AnimationStart",$);let bt;if(Array.isArray($)){const wt=$.map(At=>animateVariant(_e,At,ht));bt=Promise.all(wt)}else if(typeof $=="string")bt=animateVariant(_e,$,ht);else{const wt=typeof $=="function"?resolveVariant(_e,$,ht.custom):$;bt=Promise.all(animateTarget(_e,wt,ht))}return bt.then(()=>{frame.postRender(()=>{_e.notify("AnimationComplete",$)})})}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(_e){return $=>Promise.all($.map(({animation:ht,options:bt})=>animateVisualElement(_e,ht,bt)))}function createAnimationState(_e){let $=animateList(_e),ht=createState(),bt=!0;const wt=Ft=>(vt,Et)=>{var Mt;const Pt=resolveVariant(_e,Et,Ft==="exit"?(Mt=_e.presenceContext)===null||Mt===void 0?void 0:Mt.custom:void 0);if(Pt){const{transition:xt,transitionEnd:$t,..._t}=Pt;vt={...vt,..._t,...$t}}return vt};function At(Ft){$=Ft(_e)}function Ct(Ft){const vt=_e.getProps(),Et=_e.getVariantContext(!0)||{},Mt=[],Pt=new Set;let xt={},$t=1/0;for(let jt=0;jt<numAnimationTypes;jt++){const Rt=reversePriorityOrder[jt],Nt=ht[Rt],Lt=vt[Rt]!==void 0?vt[Rt]:Et[Rt],kt=isVariantLabel(Lt),Bt=Rt===Ft?Nt.isActive:null;Bt===!1&&($t=jt);let Ht=Lt===Et[Rt]&&Lt!==vt[Rt]&&kt;if(Ht&&bt&&_e.manuallyAnimateOnMount&&(Ht=!1),Nt.protectedKeys={...xt},!Nt.isActive&&Bt===null||!Lt&&!Nt.prevProp||isAnimationControls(Lt)||typeof Lt=="boolean")continue;let Vt=checkVariantsDidChange(Nt.prevProp,Lt)||Rt===Ft&&Nt.isActive&&!Ht&&kt||jt>$t&&kt,Gt=!1;const Wt=Array.isArray(Lt)?Lt:[Lt];let en=Wt.reduce(wt(Rt),{});Bt===!1&&(en={});const{prevResolvedValues:Sn={}}=Nt,sn={...Sn,...en},hn=Qt=>{Vt=!0,Pt.has(Qt)&&(Gt=!0,Pt.delete(Qt)),Nt.needsAnimating[Qt]=!0;const qt=_e.getValue(Qt);qt&&(qt.liveStyle=!1)};for(const Qt in sn){const qt=en[Qt],nn=Sn[Qt];if(xt.hasOwnProperty(Qt))continue;let Ut=!1;isKeyframesTarget(qt)&&isKeyframesTarget(nn)?Ut=!shallowCompare(qt,nn):Ut=qt!==nn,Ut?qt!=null?hn(Qt):Pt.add(Qt):qt!==void 0&&Pt.has(Qt)?hn(Qt):Nt.protectedKeys[Qt]=!0}Nt.prevProp=Lt,Nt.prevResolvedValues=en,Nt.isActive&&(xt={...xt,...en}),bt&&_e.blockInitialAnimation&&(Vt=!1),Vt&&(!Ht||Gt)&&Mt.push(...Wt.map(Qt=>({animation:Qt,options:{type:Rt}})))}if(Pt.size){const jt={};Pt.forEach(Rt=>{const Nt=_e.getBaseTarget(Rt),Lt=_e.getValue(Rt);Lt&&(Lt.liveStyle=!0),jt[Rt]=Nt??null}),Mt.push({animation:jt})}let _t=!!Mt.length;return bt&&(vt.initial===!1||vt.initial===vt.animate)&&!_e.manuallyAnimateOnMount&&(_t=!1),bt=!1,_t?$(Mt):Promise.resolve()}function St(Ft,vt){var Et;if(ht[Ft].isActive===vt)return Promise.resolve();(Et=_e.variantChildren)===null||Et===void 0||Et.forEach(Pt=>{var xt;return(xt=Pt.animationState)===null||xt===void 0?void 0:xt.setActive(Ft,vt)}),ht[Ft].isActive=vt;const Mt=Ct(Ft);for(const Pt in ht)ht[Pt].protectedKeys={};return Mt}return{animateChanges:Ct,setActive:St,setAnimateFunction:At,getState:()=>ht,reset:()=>{ht=createState(),bt=!0}}}function checkVariantsDidChange(_e,$){return typeof $=="string"?$!==_e:Array.isArray($)?!shallowCompare($,_e):!1}function createTypeState(_e=!1){return{isActive:_e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor($){super($),$.animationState||($.animationState=createAnimationState($))}updateAnimationControlsSubscription(){const{animate:$}=this.node.getProps();isAnimationControls($)&&(this.unmountControls=$.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:$}=this.node.getProps(),{animate:ht}=this.node.prevProps||{};$!==ht&&this.updateAnimationControlsSubscription()}unmount(){var $;this.node.animationState.reset(),($=this.unmountControls)===null||$===void 0||$.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:$,onExitComplete:ht}=this.node.presenceContext,{isPresent:bt}=this.node.prevPresenceContext||{};if(!this.node.animationState||$===bt)return;const wt=this.node.animationState.setActive("exit",!$);ht&&!$&&wt.then(()=>ht(this.id))}mount(){const{register:$}=this.node.presenceContext||{};$&&(this.unmount=$(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(_e,$)=>Math.abs(_e-$);function distance2D(_e,$){const ht=distance(_e.x,$.x),bt=distance(_e.y,$.y);return Math.sqrt(ht**2+bt**2)}class PanSession{constructor($,ht,{transformPagePoint:bt,contextWindow:wt,dragSnapToOrigin:At=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Mt=getPanInfo(this.lastMoveEventInfo,this.history),Pt=this.startEvent!==null,xt=distance2D(Mt.offset,{x:0,y:0})>=3;if(!Pt&&!xt)return;const{point:$t}=Mt,{timestamp:_t}=frameData;this.history.push({...$t,timestamp:_t});const{onStart:jt,onMove:Rt}=this.handlers;Pt||(jt&&jt(this.lastMoveEvent,Mt),this.startEvent=this.lastMoveEvent),Rt&&Rt(this.lastMoveEvent,Mt)},this.handlePointerMove=(Mt,Pt)=>{this.lastMoveEvent=Mt,this.lastMoveEventInfo=transformPoint(Pt,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(Mt,Pt)=>{this.end();const{onEnd:xt,onSessionEnd:$t,resumeAnimation:_t}=this.handlers;if(this.dragSnapToOrigin&&_t&&_t(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const jt=getPanInfo(Mt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(Pt,this.transformPagePoint),this.history);this.startEvent&&xt&&xt(Mt,jt),$t&&$t(Mt,jt)},!isPrimaryPointer($))return;this.dragSnapToOrigin=At,this.handlers=ht,this.transformPagePoint=bt,this.contextWindow=wt||window;const Ct=extractEventInfo($),St=transformPoint(Ct,this.transformPagePoint),{point:Ft}=St,{timestamp:vt}=frameData;this.history=[{...Ft,timestamp:vt}];const{onSessionStart:Et}=ht;Et&&Et($,getPanInfo(St,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers($){this.handlers=$}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(_e,$){return $?{point:$(_e.point)}:_e}function subtractPoint(_e,$){return{x:_e.x-$.x,y:_e.y-$.y}}function getPanInfo({point:_e},$){return{point:_e,delta:subtractPoint(_e,lastDevicePoint($)),offset:subtractPoint(_e,startDevicePoint($)),velocity:getVelocity($,.1)}}function startDevicePoint(_e){return _e[0]}function lastDevicePoint(_e){return _e[_e.length-1]}function getVelocity(_e,$){if(_e.length<2)return{x:0,y:0};let ht=_e.length-1,bt=null;const wt=lastDevicePoint(_e);for(;ht>=0&&(bt=_e[ht],!(wt.timestamp-bt.timestamp>secondsToMilliseconds($)));)ht--;if(!bt)return{x:0,y:0};const At=millisecondsToSeconds(wt.timestamp-bt.timestamp);if(At===0)return{x:0,y:0};const Ct={x:(wt.x-bt.x)/At,y:(wt.y-bt.y)/At};return Ct.x===1/0&&(Ct.x=0),Ct.y===1/0&&(Ct.y=0),Ct}function calcLength(_e){return _e.max-_e.min}function isNear(_e,$=0,ht=.01){return Math.abs(_e-$)<=ht}function calcAxisDelta(_e,$,ht,bt=.5){_e.origin=bt,_e.originPoint=mixNumber$1($.min,$.max,_e.origin),_e.scale=calcLength(ht)/calcLength($),(isNear(_e.scale,1,1e-4)||isNaN(_e.scale))&&(_e.scale=1),_e.translate=mixNumber$1(ht.min,ht.max,_e.origin)-_e.originPoint,(isNear(_e.translate)||isNaN(_e.translate))&&(_e.translate=0)}function calcBoxDelta(_e,$,ht,bt){calcAxisDelta(_e.x,$.x,ht.x,bt?bt.originX:void 0),calcAxisDelta(_e.y,$.y,ht.y,bt?bt.originY:void 0)}function calcRelativeAxis(_e,$,ht){_e.min=ht.min+$.min,_e.max=_e.min+calcLength($)}function calcRelativeBox(_e,$,ht){calcRelativeAxis(_e.x,$.x,ht.x),calcRelativeAxis(_e.y,$.y,ht.y)}function calcRelativeAxisPosition(_e,$,ht){_e.min=$.min-ht.min,_e.max=_e.min+calcLength($)}function calcRelativePosition(_e,$,ht){calcRelativeAxisPosition(_e.x,$.x,ht.x),calcRelativeAxisPosition(_e.y,$.y,ht.y)}function applyConstraints(_e,{min:$,max:ht},bt){return $!==void 0&&_e<$?_e=bt?mixNumber$1($,_e,bt.min):Math.max(_e,$):ht!==void 0&&_e>ht&&(_e=bt?mixNumber$1(ht,_e,bt.max):Math.min(_e,ht)),_e}function calcRelativeAxisConstraints(_e,$,ht){return{min:$!==void 0?_e.min+$:void 0,max:ht!==void 0?_e.max+ht-(_e.max-_e.min):void 0}}function calcRelativeConstraints(_e,{top:$,left:ht,bottom:bt,right:wt}){return{x:calcRelativeAxisConstraints(_e.x,ht,wt),y:calcRelativeAxisConstraints(_e.y,$,bt)}}function calcViewportAxisConstraints(_e,$){let ht=$.min-_e.min,bt=$.max-_e.max;return $.max-$.min<_e.max-_e.min&&([ht,bt]=[bt,ht]),{min:ht,max:bt}}function calcViewportConstraints(_e,$){return{x:calcViewportAxisConstraints(_e.x,$.x),y:calcViewportAxisConstraints(_e.y,$.y)}}function calcOrigin(_e,$){let ht=.5;const bt=calcLength(_e),wt=calcLength($);return wt>bt?ht=progress($.min,$.max-bt,_e.min):bt>wt&&(ht=progress(_e.min,_e.max-wt,$.min)),clamp(0,1,ht)}function rebaseAxisConstraints(_e,$){const ht={};return $.min!==void 0&&(ht.min=$.min-_e.min),$.max!==void 0&&(ht.max=$.max-_e.min),ht}const defaultElastic=.35;function resolveDragElastic(_e=defaultElastic){return _e===!1?_e=0:_e===!0&&(_e=defaultElastic),{x:resolveAxisElastic(_e,"left","right"),y:resolveAxisElastic(_e,"top","bottom")}}function resolveAxisElastic(_e,$,ht){return{min:resolvePointElastic(_e,$),max:resolvePointElastic(_e,ht)}}function resolvePointElastic(_e,$){return typeof _e=="number"?_e:_e[$]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(_e){return[_e("x"),_e("y")]}function convertBoundingBoxToBox({top:_e,left:$,right:ht,bottom:bt}){return{x:{min:$,max:ht},y:{min:_e,max:bt}}}function convertBoxToBoundingBox({x:_e,y:$}){return{top:$.min,right:_e.max,bottom:$.max,left:_e.min}}function transformBoxPoints(_e,$){if(!$)return _e;const ht=$({x:_e.left,y:_e.top}),bt=$({x:_e.right,y:_e.bottom});return{top:ht.y,left:ht.x,bottom:bt.y,right:bt.x}}function isIdentityScale(_e){return _e===void 0||_e===1}function hasScale({scale:_e,scaleX:$,scaleY:ht}){return!isIdentityScale(_e)||!isIdentityScale($)||!isIdentityScale(ht)}function hasTransform(_e){return hasScale(_e)||has2DTranslate(_e)||_e.z||_e.rotate||_e.rotateX||_e.rotateY||_e.skewX||_e.skewY}function has2DTranslate(_e){return is2DTranslate(_e.x)||is2DTranslate(_e.y)}function is2DTranslate(_e){return _e&&_e!=="0%"}function scalePoint(_e,$,ht){const bt=_e-ht,wt=$*bt;return ht+wt}function applyPointDelta(_e,$,ht,bt,wt){return wt!==void 0&&(_e=scalePoint(_e,wt,bt)),scalePoint(_e,ht,bt)+$}function applyAxisDelta(_e,$=0,ht=1,bt,wt){_e.min=applyPointDelta(_e.min,$,ht,bt,wt),_e.max=applyPointDelta(_e.max,$,ht,bt,wt)}function applyBoxDelta(_e,{x:$,y:ht}){applyAxisDelta(_e.x,$.translate,$.scale,$.originPoint),applyAxisDelta(_e.y,ht.translate,ht.scale,ht.originPoint)}function applyTreeDeltas(_e,$,ht,bt=!1){const wt=ht.length;if(!wt)return;$.x=$.y=1;let At,Ct;for(let St=0;St<wt;St++){At=ht[St],Ct=At.projectionDelta;const Ft=At.instance;Ft&&Ft.style&&Ft.style.display==="contents"||(bt&&At.options.layoutScroll&&At.scroll&&At!==At.root&&transformBox(_e,{x:-At.scroll.offset.x,y:-At.scroll.offset.y}),Ct&&($.x*=Ct.x.scale,$.y*=Ct.y.scale,applyBoxDelta(_e,Ct)),bt&&hasTransform(At.latestValues)&&transformBox(_e,At.latestValues))}$.x=snapToDefault($.x),$.y=snapToDefault($.y)}function snapToDefault(_e){return Number.isInteger(_e)||_e>1.0000000000001||_e<.999999999999?_e:1}function translateAxis(_e,$){_e.min=_e.min+$,_e.max=_e.max+$}function transformAxis(_e,$,[ht,bt,wt]){const At=$[wt]!==void 0?$[wt]:.5,Ct=mixNumber$1(_e.min,_e.max,At);applyAxisDelta(_e,$[ht],$[bt],Ct,$.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(_e,$){transformAxis(_e.x,$,xKeys$1),transformAxis(_e.y,$,yKeys$1)}function measureViewportBox(_e,$){return convertBoundingBoxToBox(transformBoxPoints(_e.getBoundingClientRect(),$))}function measurePageBox(_e,$,ht){const bt=measureViewportBox(_e,ht),{scroll:wt}=$;return wt&&(translateAxis(bt.x,wt.offset.x),translateAxis(bt.y,wt.offset.y)),bt}const getContextWindow=({current:_e})=>_e?_e.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor($){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=$}start($,{snapToCursor:ht=!1}={}){const{presenceContext:bt}=this.visualElement;if(bt&&bt.isPresent===!1)return;const wt=Et=>{const{dragSnapToOrigin:Mt}=this.getProps();Mt?this.pauseAnimation():this.stopAnimation(),ht&&this.snapToCursor(extractEventInfo(Et,"page").point)},At=(Et,Mt)=>{const{drag:Pt,dragPropagation:xt,onDragStart:$t}=this.getProps();if(Pt&&!xt&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(Pt),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(jt=>{let Rt=this.getAxisMotionValue(jt).get()||0;if(percent.test(Rt)){const{projection:Nt}=this.visualElement;if(Nt&&Nt.layout){const Lt=Nt.layout.layoutBox[jt];Lt&&(Rt=calcLength(Lt)*(parseFloat(Rt)/100))}}this.originPoint[jt]=Rt}),$t&&frame.postRender(()=>$t(Et,Mt));const{animationState:_t}=this.visualElement;_t&&_t.setActive("whileDrag",!0)},Ct=(Et,Mt)=>{const{dragPropagation:Pt,dragDirectionLock:xt,onDirectionLock:$t,onDrag:_t}=this.getProps();if(!Pt&&!this.openGlobalLock)return;const{offset:jt}=Mt;if(xt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(jt),this.currentDirection!==null&&$t&&$t(this.currentDirection);return}this.updateAxis("x",Mt.point,jt),this.updateAxis("y",Mt.point,jt),this.visualElement.render(),_t&&_t(Et,Mt)},St=(Et,Mt)=>this.stop(Et,Mt),Ft=()=>eachAxis(Et=>{var Mt;return this.getAnimationState(Et)==="paused"&&((Mt=this.getAxisMotionValue(Et).animation)===null||Mt===void 0?void 0:Mt.play())}),{dragSnapToOrigin:vt}=this.getProps();this.panSession=new PanSession($,{onSessionStart:wt,onStart:At,onMove:Ct,onSessionEnd:St,resumeAnimation:Ft},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:vt,contextWindow:getContextWindow(this.visualElement)})}stop($,ht){const bt=this.isDragging;if(this.cancel(),!bt)return;const{velocity:wt}=ht;this.startAnimation(wt);const{onDragEnd:At}=this.getProps();At&&frame.postRender(()=>At($,ht))}cancel(){this.isDragging=!1;const{projection:$,animationState:ht}=this.visualElement;$&&($.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:bt}=this.getProps();!bt&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),ht&&ht.setActive("whileDrag",!1)}updateAxis($,ht,bt){const{drag:wt}=this.getProps();if(!bt||!shouldDrag($,wt,this.currentDirection))return;const At=this.getAxisMotionValue($);let Ct=this.originPoint[$]+bt[$];this.constraints&&this.constraints[$]&&(Ct=applyConstraints(Ct,this.constraints[$],this.elastic[$])),At.set(Ct)}resolveConstraints(){var $;const{dragConstraints:ht,dragElastic:bt}=this.getProps(),wt=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):($=this.visualElement.projection)===null||$===void 0?void 0:$.layout,At=this.constraints;ht&&isRefObject(ht)?this.constraints||(this.constraints=this.resolveRefConstraints()):ht&&wt?this.constraints=calcRelativeConstraints(wt.layoutBox,ht):this.constraints=!1,this.elastic=resolveDragElastic(bt),At!==this.constraints&&wt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(Ct=>{this.constraints!==!1&&this.getAxisMotionValue(Ct)&&(this.constraints[Ct]=rebaseAxisConstraints(wt.layoutBox[Ct],this.constraints[Ct]))})}resolveRefConstraints(){const{dragConstraints:$,onMeasureDragConstraints:ht}=this.getProps();if(!$||!isRefObject($))return!1;const bt=$.current,{projection:wt}=this.visualElement;if(!wt||!wt.layout)return!1;const At=measurePageBox(bt,wt.root,this.visualElement.getTransformPagePoint());let Ct=calcViewportConstraints(wt.layout.layoutBox,At);if(ht){const St=ht(convertBoxToBoundingBox(Ct));this.hasMutatedConstraints=!!St,St&&(Ct=convertBoundingBoxToBox(St))}return Ct}startAnimation($){const{drag:ht,dragMomentum:bt,dragElastic:wt,dragTransition:At,dragSnapToOrigin:Ct,onDragTransitionEnd:St}=this.getProps(),Ft=this.constraints||{},vt=eachAxis(Et=>{if(!shouldDrag(Et,ht,this.currentDirection))return;let Mt=Ft&&Ft[Et]||{};Ct&&(Mt={min:0,max:0});const Pt=wt?200:1e6,xt=wt?40:1e7,$t={type:"inertia",velocity:bt?$[Et]:0,bounceStiffness:Pt,bounceDamping:xt,timeConstant:750,restDelta:1,restSpeed:10,...At,...Mt};return this.startAxisValueAnimation(Et,$t)});return Promise.all(vt).then(St)}startAxisValueAnimation($,ht){const bt=this.getAxisMotionValue($);return bt.start(animateMotionValue($,bt,0,ht,this.visualElement))}stopAnimation(){eachAxis($=>this.getAxisMotionValue($).stop())}pauseAnimation(){eachAxis($=>{var ht;return(ht=this.getAxisMotionValue($).animation)===null||ht===void 0?void 0:ht.pause()})}getAnimationState($){var ht;return(ht=this.getAxisMotionValue($).animation)===null||ht===void 0?void 0:ht.state}getAxisMotionValue($){const ht=`_drag${$.toUpperCase()}`,bt=this.visualElement.getProps(),wt=bt[ht];return wt||this.visualElement.getValue($,(bt.initial?bt.initial[$]:void 0)||0)}snapToCursor($){eachAxis(ht=>{const{drag:bt}=this.getProps();if(!shouldDrag(ht,bt,this.currentDirection))return;const{projection:wt}=this.visualElement,At=this.getAxisMotionValue(ht);if(wt&&wt.layout){const{min:Ct,max:St}=wt.layout.layoutBox[ht];At.set($[ht]-mixNumber$1(Ct,St,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:$,dragConstraints:ht}=this.getProps(),{projection:bt}=this.visualElement;if(!isRefObject(ht)||!bt||!this.constraints)return;this.stopAnimation();const wt={x:0,y:0};eachAxis(Ct=>{const St=this.getAxisMotionValue(Ct);if(St&&this.constraints!==!1){const Ft=St.get();wt[Ct]=calcOrigin({min:Ft,max:Ft},this.constraints[Ct])}});const{transformTemplate:At}=this.visualElement.getProps();this.visualElement.current.style.transform=At?At({},""):"none",bt.root&&bt.root.updateScroll(),bt.updateLayout(),this.resolveConstraints(),eachAxis(Ct=>{if(!shouldDrag(Ct,$,null))return;const St=this.getAxisMotionValue(Ct),{min:Ft,max:vt}=this.constraints[Ct];St.set(mixNumber$1(Ft,vt,wt[Ct]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const $=this.visualElement.current,ht=addPointerEvent($,"pointerdown",Ft=>{const{drag:vt,dragListener:Et=!0}=this.getProps();vt&&Et&&this.start(Ft)}),bt=()=>{const{dragConstraints:Ft}=this.getProps();isRefObject(Ft)&&Ft.current&&(this.constraints=this.resolveRefConstraints())},{projection:wt}=this.visualElement,At=wt.addEventListener("measure",bt);wt&&!wt.layout&&(wt.root&&wt.root.updateScroll(),wt.updateLayout()),frame.read(bt);const Ct=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),St=wt.addEventListener("didUpdate",({delta:Ft,hasLayoutChanged:vt})=>{this.isDragging&&vt&&(eachAxis(Et=>{const Mt=this.getAxisMotionValue(Et);Mt&&(this.originPoint[Et]+=Ft[Et].translate,Mt.set(Mt.get()+Ft[Et].translate))}),this.visualElement.render())});return()=>{Ct(),ht(),At(),St&&St()}}getProps(){const $=this.visualElement.getProps(),{drag:ht=!1,dragDirectionLock:bt=!1,dragPropagation:wt=!1,dragConstraints:At=!1,dragElastic:Ct=defaultElastic,dragMomentum:St=!0}=$;return{...$,drag:ht,dragDirectionLock:bt,dragPropagation:wt,dragConstraints:At,dragElastic:Ct,dragMomentum:St}}}function shouldDrag(_e,$,ht){return($===!0||$===_e)&&(ht===null||ht===_e)}function getCurrentDirection(_e,$=10){let ht=null;return Math.abs(_e.y)>$?ht="y":Math.abs(_e.x)>$&&(ht="x"),ht}class DragGesture extends Feature{constructor($){super($),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls($)}mount(){const{dragControls:$}=this.node.getProps();$&&(this.removeGroupControls=$.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=_e=>($,ht)=>{_e&&frame.postRender(()=>_e($,ht))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown($){this.session=new PanSession($,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:$,onPanStart:ht,onPan:bt,onPanEnd:wt}=this.node.getProps();return{onSessionStart:asyncHandler($),onStart:asyncHandler(ht),onMove:bt,onEnd:(At,Ct)=>{delete this.session,wt&&frame.postRender(()=>wt(At,Ct))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",$=>this.onPointerDown($))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const _e=reactExports.useContext(PresenceContext);if(_e===null)return[!0,null];const{isPresent:$,onExitComplete:ht,register:bt}=_e,wt=reactExports.useId();return reactExports.useEffect(()=>bt(wt),[]),!$&&ht?[!1,()=>ht&&ht(wt)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(_e,$){return $.max===$.min?0:_e/($.max-$.min)*100}const correctBorderRadius={correct:(_e,$)=>{if(!$.target)return _e;if(typeof _e=="string")if(px.test(_e))_e=parseFloat(_e);else return _e;const ht=pixelsToPercent(_e,$.target.x),bt=pixelsToPercent(_e,$.target.y);return`${ht}% ${bt}%`}},correctBoxShadow={correct:(_e,{treeScale:$,projectionDelta:ht})=>{const bt=_e,wt=complex.parse(_e);if(wt.length>5)return bt;const At=complex.createTransformer(_e),Ct=typeof wt[0]!="number"?1:0,St=ht.x.scale*$.x,Ft=ht.y.scale*$.y;wt[0+Ct]/=St,wt[1+Ct]/=Ft;const vt=mixNumber$1(St,Ft,.5);return typeof wt[2+Ct]=="number"&&(wt[2+Ct]/=vt),typeof wt[3+Ct]=="number"&&(wt[3+Ct]/=vt),At(wt)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:$,layoutGroup:ht,switchLayoutGroup:bt,layoutId:wt}=this.props,{projection:At}=$;addScaleCorrector(defaultScaleCorrectors),At&&(ht.group&&ht.group.add(At),bt&&bt.register&&wt&&bt.register(At),At.root.didUpdate(),At.addEventListener("animationComplete",()=>{this.safeToRemove()}),At.setOptions({...At.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate($){const{layoutDependency:ht,visualElement:bt,drag:wt,isPresent:At}=this.props,Ct=bt.projection;return Ct&&(Ct.isPresent=At,wt||$.layoutDependency!==ht||ht===void 0?Ct.willUpdate():this.safeToRemove(),$.isPresent!==At&&(At?Ct.promote():Ct.relegate()||frame.postRender(()=>{const St=Ct.getStack();(!St||!St.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:$}=this.props.visualElement;$&&($.root.didUpdate(),microtask.postRender(()=>{!$.currentAnimation&&$.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:$,layoutGroup:ht,switchLayoutGroup:bt}=this.props,{projection:wt}=$;wt&&(wt.scheduleCheckAfterUnmount(),ht&&ht.group&&ht.group.remove(wt),bt&&bt.deregister&&bt.deregister(wt))}safeToRemove(){const{safeToRemove:$}=this.props;$&&$()}render(){return null}}function MeasureLayout(_e){const[$,ht]=usePresence(),bt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{..._e,layoutGroup:bt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:$,safeToRemove:ht})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=_e=>typeof _e=="string"?parseFloat(_e):_e,isPx=_e=>typeof _e=="number"||px.test(_e);function mixValues(_e,$,ht,bt,wt,At){wt?(_e.opacity=mixNumber$1(0,ht.opacity!==void 0?ht.opacity:1,easeCrossfadeIn(bt)),_e.opacityExit=mixNumber$1($.opacity!==void 0?$.opacity:1,0,easeCrossfadeOut(bt))):At&&(_e.opacity=mixNumber$1($.opacity!==void 0?$.opacity:1,ht.opacity!==void 0?ht.opacity:1,bt));for(let Ct=0;Ct<numBorders;Ct++){const St=`border${borders[Ct]}Radius`;let Ft=getRadius($,St),vt=getRadius(ht,St);if(Ft===void 0&&vt===void 0)continue;Ft||(Ft=0),vt||(vt=0),Ft===0||vt===0||isPx(Ft)===isPx(vt)?(_e[St]=Math.max(mixNumber$1(asNumber(Ft),asNumber(vt),bt),0),(percent.test(vt)||percent.test(Ft))&&(_e[St]+="%")):_e[St]=vt}($.rotate||ht.rotate)&&(_e.rotate=mixNumber$1($.rotate||0,ht.rotate||0,bt))}function getRadius(_e,$){return _e[$]!==void 0?_e[$]:_e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(_e,$,ht){return bt=>bt<_e?0:bt>$?1:ht(progress(_e,$,bt))}function copyAxisInto(_e,$){_e.min=$.min,_e.max=$.max}function copyBoxInto(_e,$){copyAxisInto(_e.x,$.x),copyAxisInto(_e.y,$.y)}function removePointDelta(_e,$,ht,bt,wt){return _e-=$,_e=scalePoint(_e,1/ht,bt),wt!==void 0&&(_e=scalePoint(_e,1/wt,bt)),_e}function removeAxisDelta(_e,$=0,ht=1,bt=.5,wt,At=_e,Ct=_e){if(percent.test($)&&($=parseFloat($),$=mixNumber$1(Ct.min,Ct.max,$/100)-Ct.min),typeof $!="number")return;let St=mixNumber$1(At.min,At.max,bt);_e===At&&(St-=$),_e.min=removePointDelta(_e.min,$,ht,St,wt),_e.max=removePointDelta(_e.max,$,ht,St,wt)}function removeAxisTransforms(_e,$,[ht,bt,wt],At,Ct){removeAxisDelta(_e,$[ht],$[bt],$[wt],$.scale,At,Ct)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(_e,$,ht,bt){removeAxisTransforms(_e.x,$,xKeys,ht?ht.x:void 0,bt?bt.x:void 0),removeAxisTransforms(_e.y,$,yKeys,ht?ht.y:void 0,bt?bt.y:void 0)}function isAxisDeltaZero(_e){return _e.translate===0&&_e.scale===1}function isDeltaZero(_e){return isAxisDeltaZero(_e.x)&&isAxisDeltaZero(_e.y)}function boxEquals(_e,$){return _e.x.min===$.x.min&&_e.x.max===$.x.max&&_e.y.min===$.y.min&&_e.y.max===$.y.max}function boxEqualsRounded(_e,$){return Math.round(_e.x.min)===Math.round($.x.min)&&Math.round(_e.x.max)===Math.round($.x.max)&&Math.round(_e.y.min)===Math.round($.y.min)&&Math.round(_e.y.max)===Math.round($.y.max)}function aspectRatio(_e){return calcLength(_e.x)/calcLength(_e.y)}class NodeStack{constructor(){this.members=[]}add($){addUniqueItem(this.members,$),$.scheduleRender()}remove($){if(removeItem(this.members,$),$===this.prevLead&&(this.prevLead=void 0),$===this.lead){const ht=this.members[this.members.length-1];ht&&this.promote(ht)}}relegate($){const ht=this.members.findIndex(wt=>$===wt);if(ht===0)return!1;let bt;for(let wt=ht;wt>=0;wt--){const At=this.members[wt];if(At.isPresent!==!1){bt=At;break}}return bt?(this.promote(bt),!0):!1}promote($,ht){const bt=this.lead;if($!==bt&&(this.prevLead=bt,this.lead=$,$.show(),bt)){bt.instance&&bt.scheduleRender(),$.scheduleRender(),$.resumeFrom=bt,ht&&($.resumeFrom.preserveOpacity=!0),bt.snapshot&&($.snapshot=bt.snapshot,$.snapshot.latestValues=bt.animationValues||bt.latestValues),$.root&&$.root.isUpdating&&($.isLayoutDirty=!0);const{crossfade:wt}=$.options;wt===!1&&bt.hide()}}exitAnimationComplete(){this.members.forEach($=>{const{options:ht,resumingFrom:bt}=$;ht.onExitComplete&&ht.onExitComplete(),bt&&bt.options.onExitComplete&&bt.options.onExitComplete()})}scheduleRender(){this.members.forEach($=>{$.instance&&$.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(_e,$,ht){let bt="";const wt=_e.x.translate/$.x,At=_e.y.translate/$.y,Ct=(ht==null?void 0:ht.z)||0;if((wt||At||Ct)&&(bt=`translate3d(${wt}px, ${At}px, ${Ct}px) `),($.x!==1||$.y!==1)&&(bt+=`scale(${1/$.x}, ${1/$.y}) `),ht){const{transformPerspective:vt,rotate:Et,rotateX:Mt,rotateY:Pt,skewX:xt,skewY:$t}=ht;vt&&(bt=`perspective(${vt}px) ${bt}`),Et&&(bt+=`rotate(${Et}deg) `),Mt&&(bt+=`rotateX(${Mt}deg) `),Pt&&(bt+=`rotateY(${Pt}deg) `),xt&&(bt+=`skewX(${xt}deg) `),$t&&(bt+=`skewY(${$t}deg) `)}const St=_e.x.scale*$.x,Ft=_e.y.scale*$.y;return(St!==1||Ft!==1)&&(bt+=`scale(${St}, ${Ft})`),bt||"none"}const compareByDepth=(_e,$)=>_e.depth-$.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add($){addUniqueItem(this.children,$),this.isDirty=!0}remove($){removeItem(this.children,$),this.isDirty=!0}forEach($){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach($)}}function delay(_e,$){const ht=time.now(),bt=({timestamp:wt})=>{const At=wt-ht;At>=$&&(cancelFrame(bt),_e(At-$))};return frame.read(bt,!0),()=>cancelFrame(bt)}function record(_e){window.MotionDebug&&window.MotionDebug.record(_e)}function isSVGElement(_e){return _e instanceof SVGElement&&_e.tagName!=="svg"}function animateSingleValue(_e,$,ht){const bt=isMotionValue(_e)?_e:motionValue(_e);return bt.start(animateMotionValue("",bt,$,ht)),bt.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function resetDistortingTransform(_e,$,ht,bt){const{latestValues:wt}=$;wt[_e]&&(ht[_e]=wt[_e],$.setStaticValue(_e,0),bt&&(bt[_e]=0))}function isOptimisedAppearTree(_e){if(_e.hasCheckedOptimisedAppear=!0,_e.root===_e)return!1;const{visualElement:$}=_e.options;return $?getOptimisedAppearId($)?!0:_e.parent&&!_e.parent.hasCheckedOptimisedAppear?isOptimisedAppearTree(_e.parent):!1:!1}function createProjectionNode({attachResizeListener:_e,defaultParent:$,measureScroll:ht,checkIsScrollRoot:bt,resetTransform:wt}){return class{constructor(Ct={},St=$==null?void 0:$()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=Ct,this.root=St?St.root||St:this,this.path=St?[...St.path,St]:[],this.parent=St,this.depth=St?St.depth+1:0;for(let Ft=0;Ft<this.path.length;Ft++)this.path[Ft].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(Ct,St){return this.eventHandlers.has(Ct)||this.eventHandlers.set(Ct,new SubscriptionManager),this.eventHandlers.get(Ct).add(St)}notifyListeners(Ct,...St){const Ft=this.eventHandlers.get(Ct);Ft&&Ft.notify(...St)}hasListeners(Ct){return this.eventHandlers.has(Ct)}mount(Ct,St=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(Ct),this.instance=Ct;const{layoutId:Ft,layout:vt,visualElement:Et}=this.options;if(Et&&!Et.current&&Et.mount(Ct),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),St&&(vt||Ft)&&(this.isLayoutDirty=!0),_e){let Mt;const Pt=()=>this.root.updateBlockedByResize=!1;_e(Ct,()=>{this.root.updateBlockedByResize=!0,Mt&&Mt(),Mt=delay(Pt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}Ft&&this.root.registerSharedNode(Ft,this),this.options.animate!==!1&&Et&&(Ft||vt)&&this.addEventListener("didUpdate",({delta:Mt,hasLayoutChanged:Pt,hasRelativeTargetChanged:xt,layout:$t})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _t=this.options.transition||Et.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:jt,onLayoutAnimationComplete:Rt}=Et.getProps(),Nt=!this.targetLayout||!boxEqualsRounded(this.targetLayout,$t)||xt,Lt=!Pt&&xt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Lt||Pt&&(Nt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(Mt,Lt);const kt={...getValueTransition(_t,"layout"),onPlay:jt,onComplete:Rt};(Et.shouldReduceMotion||this.options.layoutRoot)&&(kt.delay=0,kt.type=!1),this.startAnimation(kt)}else Pt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=$t})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const Ct=this.getStack();Ct&&Ct.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:Ct}=this.options;return Ct&&Ct.getProps().transformTemplate}willUpdate(Ct=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&isOptimisedAppearTree(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Et=0;Et<this.path.length;Et++){const Mt=this.path[Et];Mt.shouldResetTransform=!0,Mt.updateScroll("snapshot"),Mt.options.layoutRoot&&Mt.willUpdate(!1)}const{layoutId:St,layout:Ft}=this.options;if(St===void 0&&!Ft)return;const vt=this.getTransformTemplate();this.prevTransformTemplateValue=vt?vt(this.latestValues,""):void 0,this.updateSnapshot(),Ct&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const St=time.now();frameData.delta=clamp(0,1e3/60,St-frameData.timestamp),frameData.timestamp=St,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let Ft=0;Ft<this.path.length;Ft++)this.path[Ft].updateScroll();const Ct=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:St}=this.options;St&&St.notify("LayoutMeasure",this.layout.layoutBox,Ct?Ct.layoutBox:void 0)}updateScroll(Ct="measure"){let St=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===Ct&&(St=!1),St&&(this.scroll={animationId:this.root.animationId,phase:Ct,isRoot:bt(this.instance),offset:ht(this.instance)})}resetTransform(){if(!wt)return;const Ct=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,St=this.projectionDelta&&!isDeltaZero(this.projectionDelta),Ft=this.getTransformTemplate(),vt=Ft?Ft(this.latestValues,""):void 0,Et=vt!==this.prevTransformTemplateValue;Ct&&(St||hasTransform(this.latestValues)||Et)&&(wt(this.instance,vt),this.shouldResetTransform=!1,this.scheduleRender())}measure(Ct=!0){const St=this.measurePageBox();let Ft=this.removeElementScroll(St);return Ct&&(Ft=this.removeTransform(Ft)),roundBox(Ft),{animationId:this.root.animationId,measuredBox:St,layoutBox:Ft,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:Ct}=this.options;if(!Ct)return createBox();const St=Ct.measureViewportBox(),{scroll:Ft}=this.root;return Ft&&(translateAxis(St.x,Ft.offset.x),translateAxis(St.y,Ft.offset.y)),St}removeElementScroll(Ct){const St=createBox();copyBoxInto(St,Ct);for(let Ft=0;Ft<this.path.length;Ft++){const vt=this.path[Ft],{scroll:Et,options:Mt}=vt;if(vt!==this.root&&Et&&Mt.layoutScroll){if(Et.isRoot){copyBoxInto(St,Ct);const{scroll:Pt}=this.root;Pt&&(translateAxis(St.x,-Pt.offset.x),translateAxis(St.y,-Pt.offset.y))}translateAxis(St.x,Et.offset.x),translateAxis(St.y,Et.offset.y)}}return St}applyTransform(Ct,St=!1){const Ft=createBox();copyBoxInto(Ft,Ct);for(let vt=0;vt<this.path.length;vt++){const Et=this.path[vt];!St&&Et.options.layoutScroll&&Et.scroll&&Et!==Et.root&&transformBox(Ft,{x:-Et.scroll.offset.x,y:-Et.scroll.offset.y}),hasTransform(Et.latestValues)&&transformBox(Ft,Et.latestValues)}return hasTransform(this.latestValues)&&transformBox(Ft,this.latestValues),Ft}removeTransform(Ct){const St=createBox();copyBoxInto(St,Ct);for(let Ft=0;Ft<this.path.length;Ft++){const vt=this.path[Ft];if(!vt.instance||!hasTransform(vt.latestValues))continue;hasScale(vt.latestValues)&&vt.updateSnapshot();const Et=createBox(),Mt=vt.measurePageBox();copyBoxInto(Et,Mt),removeBoxTransforms(St,vt.latestValues,vt.snapshot?vt.snapshot.layoutBox:void 0,Et)}return hasTransform(this.latestValues)&&removeBoxTransforms(St,this.latestValues),St}setTargetDelta(Ct){this.targetDelta=Ct,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(Ct){this.options={...this.options,...Ct,crossfade:Ct.crossfade!==void 0?Ct.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(Ct=!1){var St;const Ft=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=Ft.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=Ft.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=Ft.isSharedProjectionDirty);const vt=!!this.resumingFrom||this!==Ft;if(!(Ct||vt&&this.isSharedProjectionDirty||this.isProjectionDirty||!((St=this.parent)===null||St===void 0)&&St.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:Mt,layoutId:Pt}=this.options;if(!(!this.layout||!(Mt||Pt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const xt=this.getClosestProjectingParent();xt&&xt.layout&&this.animationProgress!==1?(this.relativeParent=xt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,xt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const xt=this.getClosestProjectingParent();xt&&!!xt.resumingFrom==!!this.resumingFrom&&!xt.options.layoutScroll&&xt.target&&this.animationProgress!==1?(this.relativeParent=xt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,xt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var Ct;const St=this.getLead(),Ft=!!this.resumingFrom||this!==St;let vt=!0;if((this.isProjectionDirty||!((Ct=this.parent)===null||Ct===void 0)&&Ct.isProjectionDirty)&&(vt=!1),Ft&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(vt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(vt=!1),vt)return;const{layout:Et,layoutId:Mt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Et||Mt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const Pt=this.treeScale.x,xt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Ft),St.layout&&!St.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(St.target=St.layout.layoutBox,St.targetWithTransforms=createBox());const{target:$t}=St;if(!$t){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const _t=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,$t,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==_t||this.treeScale.x!==Pt||this.treeScale.y!==xt)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",$t)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(Ct=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),Ct){const St=this.getStack();St&&St.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(Ct,St=!1){const Ft=this.snapshot,vt=Ft?Ft.latestValues:{},Et={...this.latestValues},Mt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!St;const Pt=createBox(),xt=Ft?Ft.source:void 0,$t=this.layout?this.layout.source:void 0,_t=xt!==$t,jt=this.getStack(),Rt=!jt||jt.members.length<=1,Nt=!!(_t&&!Rt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let Lt;this.mixTargetDelta=kt=>{const Bt=kt/1e3;mixAxisDelta(Mt.x,Ct.x,Bt),mixAxisDelta(Mt.y,Ct.y,Bt),this.setTargetDelta(Mt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(Pt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,Pt,Bt),Lt&&boxEquals(this.relativeTarget,Lt)&&(this.isProjectionDirty=!1),Lt||(Lt=createBox()),copyBoxInto(Lt,this.relativeTarget)),_t&&(this.animationValues=Et,mixValues(Et,vt,this.latestValues,Bt,Nt,Rt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Bt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(Ct){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...Ct,onUpdate:St=>{this.mixTargetDelta(St),Ct.onUpdate&&Ct.onUpdate(St)},onComplete:()=>{Ct.onComplete&&Ct.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const Ct=this.getStack();Ct&&Ct.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const Ct=this.getLead();let{targetWithTransforms:St,target:Ft,layout:vt,latestValues:Et}=Ct;if(!(!St||!Ft||!vt)){if(this!==Ct&&this.layout&&vt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,vt.layoutBox)){Ft=this.target||createBox();const Mt=calcLength(this.layout.layoutBox.x);Ft.x.min=Ct.target.x.min,Ft.x.max=Ft.x.min+Mt;const Pt=calcLength(this.layout.layoutBox.y);Ft.y.min=Ct.target.y.min,Ft.y.max=Ft.y.min+Pt}copyBoxInto(St,Ft),transformBox(St,Et),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,St,Et)}}registerSharedNode(Ct,St){this.sharedNodes.has(Ct)||this.sharedNodes.set(Ct,new NodeStack),this.sharedNodes.get(Ct).add(St);const vt=St.options.initialPromotionConfig;St.promote({transition:vt?vt.transition:void 0,preserveFollowOpacity:vt&&vt.shouldPreserveFollowOpacity?vt.shouldPreserveFollowOpacity(St):void 0})}isLead(){const Ct=this.getStack();return Ct?Ct.lead===this:!0}getLead(){var Ct;const{layoutId:St}=this.options;return St?((Ct=this.getStack())===null||Ct===void 0?void 0:Ct.lead)||this:this}getPrevLead(){var Ct;const{layoutId:St}=this.options;return St?(Ct=this.getStack())===null||Ct===void 0?void 0:Ct.prevLead:void 0}getStack(){const{layoutId:Ct}=this.options;if(Ct)return this.root.sharedNodes.get(Ct)}promote({needsReset:Ct,transition:St,preserveFollowOpacity:Ft}={}){const vt=this.getStack();vt&&vt.promote(this,Ft),Ct&&(this.projectionDelta=void 0,this.needsReset=!0),St&&this.setOptions({transition:St})}relegate(){const Ct=this.getStack();return Ct?Ct.relegate(this):!1}resetSkewAndRotation(){const{visualElement:Ct}=this.options;if(!Ct)return;let St=!1;const{latestValues:Ft}=Ct;if((Ft.z||Ft.rotate||Ft.rotateX||Ft.rotateY||Ft.rotateZ||Ft.skewX||Ft.skewY)&&(St=!0),!St)return;const vt={};Ft.z&&resetDistortingTransform("z",Ct,vt,this.animationValues);for(let Et=0;Et<transformAxes.length;Et++)resetDistortingTransform(`rotate${transformAxes[Et]}`,Ct,vt,this.animationValues),resetDistortingTransform(`skew${transformAxes[Et]}`,Ct,vt,this.animationValues);Ct.render();for(const Et in vt)Ct.setStaticValue(Et,vt[Et]),this.animationValues&&(this.animationValues[Et]=vt[Et]);Ct.scheduleRender()}getProjectionStyles(Ct){var St,Ft;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const vt={visibility:""},Et=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,vt.opacity="",vt.pointerEvents=resolveMotionValue(Ct==null?void 0:Ct.pointerEvents)||"",vt.transform=Et?Et(this.latestValues,""):"none",vt;const Mt=this.getLead();if(!this.projectionDelta||!this.layout||!Mt.target){const _t={};return this.options.layoutId&&(_t.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_t.pointerEvents=resolveMotionValue(Ct==null?void 0:Ct.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(_t.transform=Et?Et({},""):"none",this.hasProjected=!1),_t}const Pt=Mt.animationValues||Mt.latestValues;this.applyTransformsToTarget(),vt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,Pt),Et&&(vt.transform=Et(Pt,vt.transform));const{x:xt,y:$t}=this.projectionDelta;vt.transformOrigin=`${xt.origin*100}% ${$t.origin*100}% 0`,Mt.animationValues?vt.opacity=Mt===this?(Ft=(St=Pt.opacity)!==null&&St!==void 0?St:this.latestValues.opacity)!==null&&Ft!==void 0?Ft:1:this.preserveOpacity?this.latestValues.opacity:Pt.opacityExit:vt.opacity=Mt===this?Pt.opacity!==void 0?Pt.opacity:"":Pt.opacityExit!==void 0?Pt.opacityExit:0;for(const _t in scaleCorrectors){if(Pt[_t]===void 0)continue;const{correct:jt,applyTo:Rt}=scaleCorrectors[_t],Nt=vt.transform==="none"?Pt[_t]:jt(Pt[_t],Mt);if(Rt){const Lt=Rt.length;for(let kt=0;kt<Lt;kt++)vt[Rt[kt]]=Nt}else vt[_t]=Nt}return this.options.layoutId&&(vt.pointerEvents=Mt===this?resolveMotionValue(Ct==null?void 0:Ct.pointerEvents)||"":"none"),vt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(Ct=>{var St;return(St=Ct.currentAnimation)===null||St===void 0?void 0:St.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(_e){_e.updateLayout()}function notifyLayoutUpdate(_e){var $;const ht=(($=_e.resumeFrom)===null||$===void 0?void 0:$.snapshot)||_e.snapshot;if(_e.isLead()&&_e.layout&&ht&&_e.hasListeners("didUpdate")){const{layoutBox:bt,measuredBox:wt}=_e.layout,{animationType:At}=_e.options,Ct=ht.source!==_e.layout.source;At==="size"?eachAxis(Mt=>{const Pt=Ct?ht.measuredBox[Mt]:ht.layoutBox[Mt],xt=calcLength(Pt);Pt.min=bt[Mt].min,Pt.max=Pt.min+xt}):shouldAnimatePositionOnly(At,ht.layoutBox,bt)&&eachAxis(Mt=>{const Pt=Ct?ht.measuredBox[Mt]:ht.layoutBox[Mt],xt=calcLength(bt[Mt]);Pt.max=Pt.min+xt,_e.relativeTarget&&!_e.currentAnimation&&(_e.isProjectionDirty=!0,_e.relativeTarget[Mt].max=_e.relativeTarget[Mt].min+xt)});const St=createDelta();calcBoxDelta(St,bt,ht.layoutBox);const Ft=createDelta();Ct?calcBoxDelta(Ft,_e.applyTransform(wt,!0),ht.measuredBox):calcBoxDelta(Ft,bt,ht.layoutBox);const vt=!isDeltaZero(St);let Et=!1;if(!_e.resumeFrom){const Mt=_e.getClosestProjectingParent();if(Mt&&!Mt.resumeFrom){const{snapshot:Pt,layout:xt}=Mt;if(Pt&&xt){const $t=createBox();calcRelativePosition($t,ht.layoutBox,Pt.layoutBox);const _t=createBox();calcRelativePosition(_t,bt,xt.layoutBox),boxEqualsRounded($t,_t)||(Et=!0),Mt.options.layoutRoot&&(_e.relativeTarget=_t,_e.relativeTargetOrigin=$t,_e.relativeParent=Mt)}}}_e.notifyListeners("didUpdate",{layout:bt,snapshot:ht,delta:Ft,layoutDelta:St,hasLayoutChanged:vt,hasRelativeTargetChanged:Et})}else if(_e.isLead()){const{onExitComplete:bt}=_e.options;bt&&bt()}_e.options.transition=void 0}function propagateDirtyNodes(_e){projectionFrameData.totalNodes++,_e.parent&&(_e.isProjecting()||(_e.isProjectionDirty=_e.parent.isProjectionDirty),_e.isSharedProjectionDirty||(_e.isSharedProjectionDirty=!!(_e.isProjectionDirty||_e.parent.isProjectionDirty||_e.parent.isSharedProjectionDirty)),_e.isTransformDirty||(_e.isTransformDirty=_e.parent.isTransformDirty))}function cleanDirtyNodes(_e){_e.isProjectionDirty=_e.isSharedProjectionDirty=_e.isTransformDirty=!1}function clearSnapshot(_e){_e.clearSnapshot()}function clearMeasurements(_e){_e.clearMeasurements()}function clearIsLayoutDirty(_e){_e.isLayoutDirty=!1}function resetTransformStyle(_e){const{visualElement:$}=_e.options;$&&$.getProps().onBeforeLayoutMeasure&&$.notify("BeforeLayoutMeasure"),_e.resetTransform()}function finishAnimation(_e){_e.finishAnimation(),_e.targetDelta=_e.relativeTarget=_e.target=void 0,_e.isProjectionDirty=!0}function resolveTargetDelta(_e){_e.resolveTargetDelta()}function calcProjection(_e){_e.calcProjection()}function resetSkewAndRotation(_e){_e.resetSkewAndRotation()}function removeLeadSnapshots(_e){_e.removeLeadSnapshot()}function mixAxisDelta(_e,$,ht){_e.translate=mixNumber$1($.translate,0,ht),_e.scale=mixNumber$1($.scale,1,ht),_e.origin=$.origin,_e.originPoint=$.originPoint}function mixAxis(_e,$,ht,bt){_e.min=mixNumber$1($.min,ht.min,bt),_e.max=mixNumber$1($.max,ht.max,bt)}function mixBox(_e,$,ht,bt){mixAxis(_e.x,$.x,ht.x,bt),mixAxis(_e.y,$.y,ht.y,bt)}function hasOpacityCrossfade(_e){return _e.animationValues&&_e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=_e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(_e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(_e){_e.min=roundPoint(_e.min),_e.max=roundPoint(_e.max)}function roundBox(_e){roundAxis(_e.x),roundAxis(_e.y)}function shouldAnimatePositionOnly(_e,$,ht){return _e==="position"||_e==="preserve-aspect"&&!isNear(aspectRatio($),aspectRatio(ht),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(_e,$)=>addDomEvent(_e,"resize",$),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:_e=>({x:_e.scrollLeft,y:_e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const _e=new DocumentProjectionNode({});_e.mount(window),_e.setOptions({layoutScroll:!0}),rootProjectionNode.current=_e}return rootProjectionNode.current},resetTransform:(_e,$)=>{_e.style.transform=$!==void 0?$:"none"},checkIsScrollRoot:_e=>window.getComputedStyle(_e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const _e=window.matchMedia("(prefers-reduced-motion)"),$=()=>prefersReducedMotion.current=_e.matches;_e.addListener($),$()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(_e,$,ht){const{willChange:bt}=$;for(const wt in $){const At=$[wt],Ct=ht[wt];if(isMotionValue(At))_e.addValue(wt,At),isWillChangeMotionValue(bt)&&bt.add(wt);else if(isMotionValue(Ct))_e.addValue(wt,motionValue(At,{owner:_e})),isWillChangeMotionValue(bt)&&bt.remove(wt);else if(Ct!==At)if(_e.hasValue(wt)){const St=_e.getValue(wt);St.liveStyle===!0?St.jump(At):St.hasAnimated||St.set(At)}else{const St=_e.getStaticValue(wt);_e.addValue(wt,motionValue(St!==void 0?St:At,{owner:_e}))}}for(const wt in ht)$[wt]===void 0&&_e.removeValue(wt);return $}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color,complex],findValueType=_e=>valueTypes.find(testValueType(_e)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{scrapeMotionValuesFromProps($,ht,bt){return{}}constructor({parent:$,props:ht,presenceContext:bt,reducedMotionConfig:wt,blockInitialAnimation:At,visualState:Ct},St={}){this.resolveKeyframes=(Pt,xt,$t,_t)=>new this.KeyframeResolver(Pt,xt,$t,_t,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:Ft,renderState:vt}=Ct;this.latestValues=Ft,this.baseTarget={...Ft},this.initialValues=ht.initial?{...Ft}:{},this.renderState=vt,this.parent=$,this.props=ht,this.presenceContext=bt,this.depth=$?$.depth+1:0,this.reducedMotionConfig=wt,this.options=St,this.blockInitialAnimation=!!At,this.isControllingVariants=isControllingVariants(ht),this.isVariantNode=isVariantNode(ht),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!($&&$.current);const{willChange:Et,...Mt}=this.scrapeMotionValuesFromProps(ht,{},this);for(const Pt in Mt){const xt=Mt[Pt];Ft[Pt]!==void 0&&isMotionValue(xt)&&(xt.set(Ft[Pt],!1),isWillChangeMotionValue(Et)&&Et.add(Pt))}}mount($){this.current=$,visualElementStore.set($,this),this.projection&&!this.projection.instance&&this.projection.mount($),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((ht,bt)=>this.bindToMotionValue(bt,ht)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach($=>$()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const $ in this.events)this.events[$].clear();for(const $ in this.features){const ht=this.features[$];ht&&(ht.unmount(),ht.isMounted=!1)}this.current=null}bindToMotionValue($,ht){const bt=transformProps.has($),wt=ht.on("change",Ct=>{this.latestValues[$]=Ct,this.props.onUpdate&&frame.preRender(this.notifyUpdate),bt&&this.projection&&(this.projection.isTransformDirty=!0)}),At=ht.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set($,()=>{wt(),At(),ht.owner&&ht.stop()})}sortNodePosition($){return!this.current||!this.sortInstanceNodePosition||this.type!==$.type?0:this.sortInstanceNodePosition(this.current,$.current)}updateFeatures(){let $="animation";for($ in featureDefinitions){const ht=featureDefinitions[$];if(!ht)continue;const{isEnabled:bt,Feature:wt}=ht;if(!this.features[$]&&wt&&bt(this.props)&&(this.features[$]=new wt(this)),this.features[$]){const At=this.features[$];At.isMounted?At.update():(At.mount(),At.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue($){return this.latestValues[$]}setStaticValue($,ht){this.latestValues[$]=ht}update($,ht){($.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=$,this.prevPresenceContext=this.presenceContext,this.presenceContext=ht;for(let bt=0;bt<propEventHandlers.length;bt++){const wt=propEventHandlers[bt];this.propEventSubscriptions[wt]&&(this.propEventSubscriptions[wt](),delete this.propEventSubscriptions[wt]);const At="on"+wt,Ct=$[At];Ct&&(this.propEventSubscriptions[wt]=this.on(wt,Ct))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps($,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant($){return this.props.variants?this.props.variants[$]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext($=!1){if($)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const bt=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(bt.initial=this.props.initial),bt}const ht={};for(let bt=0;bt<numVariantProps;bt++){const wt=variantProps[bt],At=this.props[wt];(isVariantLabel(At)||At===!1)&&(ht[wt]=At)}return ht}addVariantChild($){const ht=this.getClosestVariantNode();if(ht)return ht.variantChildren&&ht.variantChildren.add($),()=>ht.variantChildren.delete($)}addValue($,ht){const bt=this.values.get($);ht!==bt&&(bt&&this.removeValue($),this.bindToMotionValue($,ht),this.values.set($,ht),this.latestValues[$]=ht.get())}removeValue($){this.values.delete($);const ht=this.valueSubscriptions.get($);ht&&(ht(),this.valueSubscriptions.delete($)),delete this.latestValues[$],this.removeValueFromRenderState($,this.renderState)}hasValue($){return this.values.has($)}getValue($,ht){if(this.props.values&&this.props.values[$])return this.props.values[$];let bt=this.values.get($);return bt===void 0&&ht!==void 0&&(bt=motionValue(ht===null?void 0:ht,{owner:this}),this.addValue($,bt)),bt}readValue($,ht){var bt;let wt=this.latestValues[$]!==void 0||!this.current?this.latestValues[$]:(bt=this.getBaseTargetFromProps(this.props,$))!==null&&bt!==void 0?bt:this.readValueFromInstance(this.current,$,this.options);return wt!=null&&(typeof wt=="string"&&(isNumericalString(wt)||isZeroValueString(wt))?wt=parseFloat(wt):!findValueType(wt)&&complex.test(ht)&&(wt=getAnimatableNone($,ht)),this.setBaseTarget($,isMotionValue(wt)?wt.get():wt)),isMotionValue(wt)?wt.get():wt}setBaseTarget($,ht){this.baseTarget[$]=ht}getBaseTarget($){var ht;const{initial:bt}=this.props;let wt;if(typeof bt=="string"||typeof bt=="object"){const Ct=resolveVariantFromProps(this.props,bt,(ht=this.presenceContext)===null||ht===void 0?void 0:ht.custom);Ct&&(wt=Ct[$])}if(bt&&wt!==void 0)return wt;const At=this.getBaseTargetFromProps(this.props,$);return At!==void 0&&!isMotionValue(At)?At:this.initialValues[$]!==void 0&&wt===void 0?void 0:this.baseTarget[$]}on($,ht){return this.events[$]||(this.events[$]=new SubscriptionManager),this.events[$].add(ht)}notify($,...ht){this.events[$]&&this.events[$].notify(...ht)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition($,ht){return $.compareDocumentPosition(ht)&2?1:-1}getBaseTargetFromProps($,ht){return $.style?$.style[ht]:void 0}removeValueFromRenderState($,{vars:ht,style:bt}){delete ht[$],delete bt[$]}}function getComputedStyle$1(_e){return window.getComputedStyle(_e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance($,ht){if(transformProps.has(ht)){const bt=getDefaultValueType(ht);return bt&&bt.default||0}else{const bt=getComputedStyle$1($),wt=(isCSSVariableName(ht)?bt.getPropertyValue(ht):bt[ht])||0;return typeof wt=="string"?wt.trim():wt}}measureInstanceViewportBox($,{transformPagePoint:ht}){return measureViewportBox($,ht)}build($,ht,bt,wt){buildHTMLStyles($,ht,bt,wt.transformTemplate)}scrapeMotionValuesFromProps($,ht,bt){return scrapeMotionValuesFromProps$1($,ht,bt)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:$}=this.props;isMotionValue($)&&(this.childSubscription=$.on("change",ht=>{this.current&&(this.current.textContent=`${ht}`)}))}renderInstance($,ht,bt,wt){renderHTML($,ht,bt,wt)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps($,ht){return $[ht]}readValueFromInstance($,ht){if(transformProps.has(ht)){const bt=getDefaultValueType(ht);return bt&&bt.default||0}return ht=camelCaseAttributes.has(ht)?ht:camelToDash(ht),$.getAttribute(ht)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps($,ht,bt){return scrapeMotionValuesFromProps($,ht,bt)}build($,ht,bt,wt){buildSVGAttrs($,ht,bt,this.isSVGTag,wt.transformTemplate)}renderInstance($,ht,bt,wt){renderSVG($,ht,bt,wt)}mount($){this.isSVGTag=isSVGTag($.tagName),super.mount($)}}const createDomVisualElement=(_e,$)=>isSVGComponent(_e)?new SVGVisualElement($,{enableHardwareAcceleration:!1}):new HTMLVisualElement($,{allowProjection:_e!==reactExports.Fragment,enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((_e,$)=>createDomMotionConfig(_e,$,preloadedFeatures,createDomVisualElement));function useIsMounted(){const _e=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(_e.current=!0,()=>{_e.current=!1}),[]),_e}function useForceUpdate(){const _e=useIsMounted(),[$,ht]=reactExports.useState(0),bt=reactExports.useCallback(()=>{_e.current&&ht($+1)},[$]);return[reactExports.useCallback(()=>frame.postRender(bt),[bt]),$]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate($){const ht=this.props.childRef.current;if(ht&&$.isPresent&&!this.props.isPresent){const bt=this.props.sizeRef.current;bt.height=ht.offsetHeight||0,bt.width=ht.offsetWidth||0,bt.top=ht.offsetTop,bt.left=ht.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:_e,isPresent:$}){const ht=reactExports.useId(),bt=reactExports.useRef(null),wt=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:At}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:Ct,height:St,top:Ft,left:vt}=wt.current;if($||!bt.current||!Ct||!St)return;bt.current.dataset.motionPopId=ht;const Et=document.createElement("style");return At&&(Et.nonce=At),document.head.appendChild(Et),Et.sheet&&Et.sheet.insertRule(`
          [data-motion-pop-id="${ht}"] {
            position: absolute !important;
            width: ${Ct}px !important;
            height: ${St}px !important;
            top: ${Ft}px !important;
            left: ${vt}px !important;
          }
        `),()=>{document.head.removeChild(Et)}},[$]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:$,childRef:bt,sizeRef:wt,children:reactExports.cloneElement(_e,{ref:bt})})}const PresenceChild=({children:_e,initial:$,isPresent:ht,onExitComplete:bt,custom:wt,presenceAffectsLayout:At,mode:Ct})=>{const St=useConstant(newChildrenMap),Ft=reactExports.useId(),vt=reactExports.useMemo(()=>({id:Ft,initial:$,isPresent:ht,custom:wt,onExitComplete:Et=>{St.set(Et,!0);for(const Mt of St.values())if(!Mt)return;bt&&bt()},register:Et=>(St.set(Et,!1),()=>St.delete(Et))}),At?[Math.random()]:[ht]);return reactExports.useMemo(()=>{St.forEach((Et,Mt)=>St.set(Mt,!1))},[ht]),reactExports.useEffect(()=>{!ht&&!St.size&&bt&&bt()},[ht]),Ct==="popLayout"&&(_e=jsxRuntimeExports.jsx(PopChild,{isPresent:ht,children:_e})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:vt,children:_e})};function newChildrenMap(){return new Map}function useUnmountEffect(_e){return reactExports.useEffect(()=>()=>_e(),[])}const getChildKey=_e=>_e.key||"";function updateChildLookup(_e,$){_e.forEach(ht=>{const bt=getChildKey(ht);$.set(bt,ht)})}function onlyElements(_e){const $=[];return reactExports.Children.forEach(_e,ht=>{reactExports.isValidElement(ht)&&$.push(ht)}),$}const AnimatePresence=({children:_e,custom:$,initial:ht=!0,onExitComplete:bt,exitBeforeEnter:wt,presenceAffectsLayout:At=!0,mode:Ct="sync"})=>{const St=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],Ft=useIsMounted(),vt=onlyElements(_e);let Et=vt;const Mt=reactExports.useRef(new Map).current,Pt=reactExports.useRef(Et),xt=reactExports.useRef(new Map).current,$t=reactExports.useRef(!0);if(useIsomorphicLayoutEffect(()=>{$t.current=!1,updateChildLookup(vt,xt),Pt.current=Et}),useUnmountEffect(()=>{$t.current=!0,xt.clear(),Mt.clear()}),$t.current)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Et.map(Nt=>jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,initial:ht?void 0:!1,presenceAffectsLayout:At,mode:Ct,children:Nt},getChildKey(Nt)))});Et=[...Et];const _t=Pt.current.map(getChildKey),jt=vt.map(getChildKey),Rt=_t.length;for(let Nt=0;Nt<Rt;Nt++){const Lt=_t[Nt];jt.indexOf(Lt)===-1&&!Mt.has(Lt)&&Mt.set(Lt,void 0)}return Ct==="wait"&&Mt.size&&(Et=[]),Mt.forEach((Nt,Lt)=>{if(jt.indexOf(Lt)!==-1)return;const kt=xt.get(Lt);if(!kt)return;const Bt=_t.indexOf(Lt);let Ht=Nt;if(!Ht){const Ot=()=>{Mt.delete(Lt);const Vt=Array.from(xt.keys()).filter(Gt=>!jt.includes(Gt));if(Vt.forEach(Gt=>xt.delete(Gt)),Pt.current=vt.filter(Gt=>{const Wt=getChildKey(Gt);return Wt===Lt||Vt.includes(Wt)}),!Mt.size){if(Ft.current===!1)return;St(),bt&&bt()}};Ht=jsxRuntimeExports.jsx(PresenceChild,{isPresent:!1,onExitComplete:Ot,custom:$,presenceAffectsLayout:At,mode:Ct,children:kt},getChildKey(kt)),Mt.set(Lt,Ht)}Et.splice(Bt,0,Ht)}),Et=Et.map(Nt=>{const Lt=Nt.key;return Mt.has(Lt)?Nt:jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,presenceAffectsLayout:At,mode:Ct,children:Nt},getChildKey(Nt))}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Mt.size?Et:Et.map(Nt=>reactExports.cloneElement(Nt))})},scriptRel="modulepreload",assetsURL=function(_e){return"/"+_e},seen={},__vitePreload=function($,ht,bt){let wt=Promise.resolve();if(ht&&ht.length>0){document.getElementsByTagName("link");const At=document.querySelector("meta[property=csp-nonce]"),Ct=(At==null?void 0:At.nonce)||(At==null?void 0:At.getAttribute("nonce"));wt=Promise.all(ht.map(St=>{if(St=assetsURL(St),St in seen)return;seen[St]=!0;const Ft=St.endsWith(".css"),vt=Ft?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${St}"]${vt}`))return;const Et=document.createElement("link");if(Et.rel=Ft?"stylesheet":scriptRel,Ft||(Et.as="script",Et.crossOrigin=""),Et.href=St,Ct&&Et.setAttribute("nonce",Ct),document.head.appendChild(Et),Ft)return new Promise((Mt,Pt)=>{Et.addEventListener("load",Mt),Et.addEventListener("error",()=>Pt(new Error(`Unable to preload CSS for ${St}`)))})}))}return wt.then(()=>$()).catch(At=>{const Ct=new Event("vite:preloadError",{cancelable:!0});if(Ct.payload=At,window.dispatchEvent(Ct),!Ct.defaultPrevented)throw At})};var __webpack_require__={};__webpack_require__.d=(_e,$)=>{for(var ht in $)__webpack_require__.o($,ht)&&!__webpack_require__.o(_e,ht)&&Object.defineProperty(_e,ht,{enumerable:!0,get:$[ht]})};__webpack_require__.o=(_e,$)=>Object.prototype.hasOwnProperty.call(_e,$);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer,AnnotationMode:()=>AnnotationMode,CMapCompressionType:()=>CMapCompressionType,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,Outliner:()=>Outliner,PDFDataRangeTransport:()=>PDFDataRangeTransport,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,renderTextLayer:()=>renderTextLayer,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,updateTextLayer:()=>updateTextLayer,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(_e){Number.isInteger(_e)&&(verbosity=_e)}function getVerbosityLevel(){return verbosity}function info(_e){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${_e}`)}function warn(_e){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${_e}`)}function unreachable(_e){throw new Error(_e)}function assert(_e,$){_e||unreachable($)}function _isValidProtocol(_e){switch(_e==null?void 0:_e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(_e,$=null,ht=null){if(!_e)return null;try{if(ht&&typeof _e=="string"){if(ht.addDefaultProtocol&&_e.startsWith("www.")){const wt=_e.match(/\./g);(wt==null?void 0:wt.length)>=2&&(_e=`http://${_e}`)}if(ht.tryConvertEncoding)try{_e=stringToUTF8String(_e)}catch{}}const bt=$?new URL(_e,$):new URL(_e);if(_isValidProtocol(bt))return bt}catch{}return null}function shadow(_e,$,ht,bt=!1){return Object.defineProperty(_e,$,{value:ht,enumerable:!bt,configurable:!0,writable:!1}),ht}const BaseException=function(){function $(ht,bt){this.constructor===$&&unreachable("Cannot initialize BaseException."),this.message=ht,this.name=bt}return $.prototype=new Error,$.constructor=$,$}();class PasswordException extends BaseException{constructor($,ht){super($,"PasswordException"),this.code=ht}}class UnknownErrorException extends BaseException{constructor($,ht){super($,"UnknownErrorException"),this.details=ht}}class InvalidPDFException extends BaseException{constructor($){super($,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor($){super($,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor($,ht){super($,"UnexpectedResponseException"),this.status=ht}}class FormatError extends BaseException{constructor($){super($,"FormatError")}}class AbortException extends BaseException{constructor($){super($,"AbortException")}}function bytesToString(_e){(typeof _e!="object"||(_e==null?void 0:_e.length)===void 0)&&unreachable("Invalid argument for bytesToString");const $=_e.length,ht=8192;if($<ht)return String.fromCharCode.apply(null,_e);const bt=[];for(let wt=0;wt<$;wt+=ht){const At=Math.min(wt+ht,$),Ct=_e.subarray(wt,At);bt.push(String.fromCharCode.apply(null,Ct))}return bt.join("")}function stringToBytes(_e){typeof _e!="string"&&unreachable("Invalid argument for stringToBytes");const $=_e.length,ht=new Uint8Array($);for(let bt=0;bt<$;++bt)ht[bt]=_e.charCodeAt(bt)&255;return ht}function string32(_e){return String.fromCharCode(_e>>24&255,_e>>16&255,_e>>8&255,_e&255)}function objectFromMap(_e){const $=Object.create(null);for(const[ht,bt]of _e)$[ht]=bt;return $}function isLittleEndian(){const _e=new Uint8Array(4);return _e[0]=1,new Uint32Array(_e.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var $,ht;return shadow(this,"isCSSRoundSupported",(ht=($=globalThis.CSS)==null?void 0:$.supports)==null?void 0:ht.call($,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),_e=>_e.toString(16).padStart(2,"0"));var Ru,Hx,z2;class Util{static makeHexColor($,ht,bt){return`#${hexNumbers[$]}${hexNumbers[ht]}${hexNumbers[bt]}`}static scaleMinMax($,ht){let bt;$[0]?($[0]<0&&(bt=ht[0],ht[0]=ht[2],ht[2]=bt),ht[0]*=$[0],ht[2]*=$[0],$[3]<0&&(bt=ht[1],ht[1]=ht[3],ht[3]=bt),ht[1]*=$[3],ht[3]*=$[3]):(bt=ht[0],ht[0]=ht[1],ht[1]=bt,bt=ht[2],ht[2]=ht[3],ht[3]=bt,$[1]<0&&(bt=ht[1],ht[1]=ht[3],ht[3]=bt),ht[1]*=$[1],ht[3]*=$[1],$[2]<0&&(bt=ht[0],ht[0]=ht[2],ht[2]=bt),ht[0]*=$[2],ht[2]*=$[2]),ht[0]+=$[4],ht[1]+=$[5],ht[2]+=$[4],ht[3]+=$[5]}static transform($,ht){return[$[0]*ht[0]+$[2]*ht[1],$[1]*ht[0]+$[3]*ht[1],$[0]*ht[2]+$[2]*ht[3],$[1]*ht[2]+$[3]*ht[3],$[0]*ht[4]+$[2]*ht[5]+$[4],$[1]*ht[4]+$[3]*ht[5]+$[5]]}static applyTransform($,ht){const bt=$[0]*ht[0]+$[1]*ht[2]+ht[4],wt=$[0]*ht[1]+$[1]*ht[3]+ht[5];return[bt,wt]}static applyInverseTransform($,ht){const bt=ht[0]*ht[3]-ht[1]*ht[2],wt=($[0]*ht[3]-$[1]*ht[2]+ht[2]*ht[5]-ht[4]*ht[3])/bt,At=(-$[0]*ht[1]+$[1]*ht[0]+ht[4]*ht[1]-ht[5]*ht[0])/bt;return[wt,At]}static getAxialAlignedBoundingBox($,ht){const bt=this.applyTransform($,ht),wt=this.applyTransform($.slice(2,4),ht),At=this.applyTransform([$[0],$[3]],ht),Ct=this.applyTransform([$[2],$[1]],ht);return[Math.min(bt[0],wt[0],At[0],Ct[0]),Math.min(bt[1],wt[1],At[1],Ct[1]),Math.max(bt[0],wt[0],At[0],Ct[0]),Math.max(bt[1],wt[1],At[1],Ct[1])]}static inverseTransform($){const ht=$[0]*$[3]-$[1]*$[2];return[$[3]/ht,-$[1]/ht,-$[2]/ht,$[0]/ht,($[2]*$[5]-$[4]*$[3])/ht,($[4]*$[1]-$[5]*$[0])/ht]}static singularValueDecompose2dScale($){const ht=[$[0],$[2],$[1],$[3]],bt=$[0]*ht[0]+$[1]*ht[2],wt=$[0]*ht[1]+$[1]*ht[3],At=$[2]*ht[0]+$[3]*ht[2],Ct=$[2]*ht[1]+$[3]*ht[3],St=(bt+Ct)/2,Ft=Math.sqrt((bt+Ct)**2-4*(bt*Ct-At*wt))/2,vt=St+Ft||1,Et=St-Ft||1;return[Math.sqrt(vt),Math.sqrt(Et)]}static normalizeRect($){const ht=$.slice(0);return $[0]>$[2]&&(ht[0]=$[2],ht[2]=$[0]),$[1]>$[3]&&(ht[1]=$[3],ht[3]=$[1]),ht}static intersect($,ht){const bt=Math.max(Math.min($[0],$[2]),Math.min(ht[0],ht[2])),wt=Math.min(Math.max($[0],$[2]),Math.max(ht[0],ht[2]));if(bt>wt)return null;const At=Math.max(Math.min($[1],$[3]),Math.min(ht[1],ht[3])),Ct=Math.min(Math.max($[1],$[3]),Math.max(ht[1],ht[3]));return At>Ct?null:[bt,At,wt,Ct]}static bezierBoundingBox($,ht,bt,wt,At,Ct,St,Ft,vt){return vt?(vt[0]=Math.min(vt[0],$,St),vt[1]=Math.min(vt[1],ht,Ft),vt[2]=Math.max(vt[2],$,St),vt[3]=Math.max(vt[3],ht,Ft)):vt=[Math.min($,St),Math.min(ht,Ft),Math.max($,St),Math.max(ht,Ft)],Dn(this,Ru,z2).call(this,$,bt,At,St,ht,wt,Ct,Ft,3*(-$+3*(bt-At)+St),6*($-2*bt+At),3*(bt-$),vt),Dn(this,Ru,z2).call(this,$,bt,At,St,ht,wt,Ct,Ft,3*(-ht+3*(wt-Ct)+Ft),6*(ht-2*wt+Ct),3*(wt-ht),vt),vt}}Ru=new WeakSet,Hx=function($,ht,bt,wt,At,Ct,St,Ft,vt,Et){if(vt<=0||vt>=1)return;const Mt=1-vt,Pt=vt*vt,xt=Pt*vt,$t=Mt*(Mt*(Mt*$+3*vt*ht)+3*Pt*bt)+xt*wt,_t=Mt*(Mt*(Mt*At+3*vt*Ct)+3*Pt*St)+xt*Ft;Et[0]=Math.min(Et[0],$t),Et[1]=Math.min(Et[1],_t),Et[2]=Math.max(Et[2],$t),Et[3]=Math.max(Et[3],_t)},z2=function($,ht,bt,wt,At,Ct,St,Ft,vt,Et,Mt,Pt){if(Math.abs(vt)<1e-12){Math.abs(Et)>=1e-12&&Dn(this,Ru,Hx).call(this,$,ht,bt,wt,At,Ct,St,Ft,-Mt/Et,Pt);return}const xt=Et**2-4*Mt*vt;if(xt<0)return;const $t=Math.sqrt(xt),_t=2*vt;Dn(this,Ru,Hx).call(this,$,ht,bt,wt,At,Ct,St,Ft,(-Et+$t)/_t,Pt),Dn(this,Ru,Hx).call(this,$,ht,bt,wt,At,Ct,St,Ft,(-Et-$t)/_t,Pt)},$n(Util,Ru);function stringToUTF8String(_e){return decodeURIComponent(escape(_e))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(_e){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),_e.replaceAll(NormalizeRegex,($,ht,bt)=>ht?ht.normalize("NFKC"):NormalizationMap.get(bt))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const _e=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(_e);else for(let $=0;$<32;$++)_e[$]=Math.floor(Math.random()*255);return bytesToString(_e)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class BaseFilterFactory{constructor(){this.constructor===BaseFilterFactory&&unreachable("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,ht){return"none"}addAlphaFilter($){return"none"}addLuminosityFilter($){return"none"}addHighlightHCMFilter($,ht,bt,wt,At){return"none"}destroy($=!1){}}class BaseCanvasFactory{constructor(){this.constructor===BaseCanvasFactory&&unreachable("Cannot initialize BaseCanvasFactory.")}create($,ht){if($<=0||ht<=0)throw new Error("Invalid canvas size");const bt=this._createCanvas($,ht);return{canvas:bt,context:bt.getContext("2d")}}reset($,ht,bt){if(!$.canvas)throw new Error("Canvas is not specified");if(ht<=0||bt<=0)throw new Error("Invalid canvas size");$.canvas.width=ht,$.canvas.height=bt}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,ht){unreachable("Abstract method `_createCanvas` called.")}}class BaseCMapReaderFactory{constructor({baseUrl:$=null,isCompressed:ht=!0}){this.constructor===BaseCMapReaderFactory&&unreachable("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=$,this.isCompressed=ht}async fetch({name:$}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!$)throw new Error("CMap name must be specified.");const ht=this.baseUrl+$+(this.isCompressed?".bcmap":""),bt=this.isCompressed?CMapCompressionType.BINARY:CMapCompressionType.NONE;return this._fetchData(ht,bt).catch(wt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ht}`)})}_fetchData($,ht){unreachable("Abstract method `_fetchData` called.")}}class BaseStandardFontDataFactory{constructor({baseUrl:$=null}){this.constructor===BaseStandardFontDataFactory&&unreachable("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=$}async fetch({filename:$}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!$)throw new Error("Font filename must be specified.");const ht=`${this.baseUrl}${$}`;return this._fetchData(ht).catch(bt=>{throw new Error(`Unable to load font data at: ${ht}`)})}_fetchData($){unreachable("Abstract method `_fetchData` called.")}}class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&unreachable("Cannot initialize BaseSVGFactory.")}create($,ht,bt=!1){if($<=0||ht<=0)throw new Error("Invalid SVG dimensions");const wt=this._createSVG("svg:svg");return wt.setAttribute("version","1.1"),bt||(wt.setAttribute("width",`${$}px`),wt.setAttribute("height",`${ht}px`)),wt.setAttribute("preserveAspectRatio","none"),wt.setAttribute("viewBox",`0 0 ${$} ${ht}`),wt}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){unreachable("Abstract method `_createSVG` called.")}}const SVG_NS="http://www.w3.org/2000/svg",E0=class E0{};os(E0,"CSS",96),os(E0,"PDF",72),os(E0,"PDF_TO_CSS_UNITS",E0.CSS/E0.PDF);let PixelsPerInch=E0;var F0,$l,lu,Do,x2,T0,ls,Co,R1,O1,Vx,x9,X2,I1,Vp,zp,W2,Xp;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:ht,ownerDocument:bt=globalThis.document}={}){super();$n(this,ls);$n(this,F0);$n(this,$l);$n(this,lu);$n(this,Do);$n(this,x2);$n(this,T0,0);Ln(this,lu,ht),Ln(this,Do,bt)}addFilter(ht){if(!ht)return"none";let bt=Xt(this,ls,Co).get(ht);if(bt)return bt;const[wt,At,Ct]=Dn(this,ls,Vx).call(this,ht),St=ht.length===1?wt:`${wt}${At}${Ct}`;if(bt=Xt(this,ls,Co).get(St),bt)return Xt(this,ls,Co).set(ht,bt),bt;const Ft=`g_${Xt(this,lu)}_transfer_map_${Fo(this,T0)._++}`,vt=`url(#${Ft})`;Xt(this,ls,Co).set(ht,vt),Xt(this,ls,Co).set(St,vt);const Et=Dn(this,ls,I1).call(this,Ft);return Dn(this,ls,zp).call(this,wt,At,Ct,Et),vt}addHCMFilter(ht,bt){var $t;const wt=`${ht}-${bt}`,At="base";let Ct=Xt(this,ls,R1).get(At);if((Ct==null?void 0:Ct.key)===wt||(Ct?(($t=Ct.filter)==null||$t.remove(),Ct.key=wt,Ct.url="none",Ct.filter=null):(Ct={key:wt,url:"none",filter:null},Xt(this,ls,R1).set(At,Ct)),!ht||!bt))return Ct.url;const St=Dn(this,ls,Xp).call(this,ht);ht=Util.makeHexColor(...St);const Ft=Dn(this,ls,Xp).call(this,bt);if(bt=Util.makeHexColor(...Ft),Xt(this,ls,O1).style.color="",ht==="#000000"&&bt==="#ffffff"||ht===bt)return Ct.url;const vt=new Array(256);for(let _t=0;_t<=255;_t++){const jt=_t/255;vt[_t]=jt<=.03928?jt/12.92:((jt+.055)/1.055)**2.4}const Et=vt.join(","),Mt=`g_${Xt(this,lu)}_hcm_filter`,Pt=Ct.filter=Dn(this,ls,I1).call(this,Mt);Dn(this,ls,zp).call(this,Et,Et,Et,Pt),Dn(this,ls,X2).call(this,Pt);const xt=(_t,jt)=>{const Rt=St[_t]/255,Nt=Ft[_t]/255,Lt=new Array(jt+1);for(let kt=0;kt<=jt;kt++)Lt[kt]=Rt+kt/jt*(Nt-Rt);return Lt.join(",")};return Dn(this,ls,zp).call(this,xt(0,5),xt(1,5),xt(2,5),Pt),Ct.url=`url(#${Mt})`,Ct.url}addAlphaFilter(ht){let bt=Xt(this,ls,Co).get(ht);if(bt)return bt;const[wt]=Dn(this,ls,Vx).call(this,[ht]),At=`alpha_${wt}`;if(bt=Xt(this,ls,Co).get(At),bt)return Xt(this,ls,Co).set(ht,bt),bt;const Ct=`g_${Xt(this,lu)}_alpha_map_${Fo(this,T0)._++}`,St=`url(#${Ct})`;Xt(this,ls,Co).set(ht,St),Xt(this,ls,Co).set(At,St);const Ft=Dn(this,ls,I1).call(this,Ct);return Dn(this,ls,W2).call(this,wt,Ft),St}addLuminosityFilter(ht){let bt=Xt(this,ls,Co).get(ht||"luminosity");if(bt)return bt;let wt,At;if(ht?([wt]=Dn(this,ls,Vx).call(this,[ht]),At=`luminosity_${wt}`):At="luminosity",bt=Xt(this,ls,Co).get(At),bt)return Xt(this,ls,Co).set(ht,bt),bt;const Ct=`g_${Xt(this,lu)}_luminosity_map_${Fo(this,T0)._++}`,St=`url(#${Ct})`;Xt(this,ls,Co).set(ht,St),Xt(this,ls,Co).set(At,St);const Ft=Dn(this,ls,I1).call(this,Ct);return Dn(this,ls,x9).call(this,Ft),ht&&Dn(this,ls,W2).call(this,wt,Ft),St}addHighlightHCMFilter(ht,bt,wt,At,Ct){var Nt;const St=`${bt}-${wt}-${At}-${Ct}`;let Ft=Xt(this,ls,R1).get(ht);if((Ft==null?void 0:Ft.key)===St||(Ft?((Nt=Ft.filter)==null||Nt.remove(),Ft.key=St,Ft.url="none",Ft.filter=null):(Ft={key:St,url:"none",filter:null},Xt(this,ls,R1).set(ht,Ft)),!bt||!wt))return Ft.url;const[vt,Et]=[bt,wt].map(Dn(this,ls,Xp).bind(this));let Mt=Math.round(.2126*vt[0]+.7152*vt[1]+.0722*vt[2]),Pt=Math.round(.2126*Et[0]+.7152*Et[1]+.0722*Et[2]),[xt,$t]=[At,Ct].map(Dn(this,ls,Xp).bind(this));Pt<Mt&&([Mt,Pt,xt,$t]=[Pt,Mt,$t,xt]),Xt(this,ls,O1).style.color="";const _t=(Lt,kt,Bt)=>{const Ht=new Array(256),Ot=(Pt-Mt)/Bt,Vt=Lt/255,Gt=(kt-Lt)/(255*Bt);let Wt=0;for(let en=0;en<=Bt;en++){const Sn=Math.round(Mt+en*Ot),sn=Vt+en*Gt;for(let hn=Wt;hn<=Sn;hn++)Ht[hn]=sn;Wt=Sn+1}for(let en=Wt;en<256;en++)Ht[en]=Ht[Wt-1];return Ht.join(",")},jt=`g_${Xt(this,lu)}_hcm_${ht}_filter`,Rt=Ft.filter=Dn(this,ls,I1).call(this,jt);return Dn(this,ls,X2).call(this,Rt),Dn(this,ls,zp).call(this,_t(xt[0],$t[0],5),_t(xt[1],$t[1],5),_t(xt[2],$t[2],5),Rt),Ft.url=`url(#${jt})`,Ft.url}destroy(ht=!1){ht&&Xt(this,ls,R1).size!==0||(Xt(this,$l)&&(Xt(this,$l).parentNode.parentNode.remove(),Ln(this,$l,null)),Xt(this,F0)&&(Xt(this,F0).clear(),Ln(this,F0,null)),Ln(this,T0,0))}}F0=new WeakMap,$l=new WeakMap,lu=new WeakMap,Do=new WeakMap,x2=new WeakMap,T0=new WeakMap,ls=new WeakSet,Co=function(){return Xt(this,F0)||Ln(this,F0,new Map)},R1=function(){return Xt(this,x2)||Ln(this,x2,new Map)},O1=function(){if(!Xt(this,$l)){const ht=Xt(this,Do).createElement("div"),{style:bt}=ht;bt.visibility="hidden",bt.contain="strict",bt.width=bt.height=0,bt.position="absolute",bt.top=bt.left=0,bt.zIndex=-1;const wt=Xt(this,Do).createElementNS(SVG_NS,"svg");wt.setAttribute("width",0),wt.setAttribute("height",0),Ln(this,$l,Xt(this,Do).createElementNS(SVG_NS,"defs")),ht.append(wt),wt.append(Xt(this,$l)),Xt(this,Do).body.append(ht)}return Xt(this,$l)},Vx=function(ht){if(ht.length===1){const vt=ht[0],Et=new Array(256);for(let Pt=0;Pt<256;Pt++)Et[Pt]=vt[Pt]/255;const Mt=Et.join(",");return[Mt,Mt,Mt]}const[bt,wt,At]=ht,Ct=new Array(256),St=new Array(256),Ft=new Array(256);for(let vt=0;vt<256;vt++)Ct[vt]=bt[vt]/255,St[vt]=wt[vt]/255,Ft[vt]=At[vt]/255;return[Ct.join(","),St.join(","),Ft.join(",")]},x9=function(ht){const bt=Xt(this,Do).createElementNS(SVG_NS,"feColorMatrix");bt.setAttribute("type","matrix"),bt.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),ht.append(bt)},X2=function(ht){const bt=Xt(this,Do).createElementNS(SVG_NS,"feColorMatrix");bt.setAttribute("type","matrix"),bt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ht.append(bt)},I1=function(ht){const bt=Xt(this,Do).createElementNS(SVG_NS,"filter");return bt.setAttribute("color-interpolation-filters","sRGB"),bt.setAttribute("id",ht),Xt(this,ls,O1).append(bt),bt},Vp=function(ht,bt,wt){const At=Xt(this,Do).createElementNS(SVG_NS,bt);At.setAttribute("type","discrete"),At.setAttribute("tableValues",wt),ht.append(At)},zp=function(ht,bt,wt,At){const Ct=Xt(this,Do).createElementNS(SVG_NS,"feComponentTransfer");At.append(Ct),Dn(this,ls,Vp).call(this,Ct,"feFuncR",ht),Dn(this,ls,Vp).call(this,Ct,"feFuncG",bt),Dn(this,ls,Vp).call(this,Ct,"feFuncB",wt)},W2=function(ht,bt){const wt=Xt(this,Do).createElementNS(SVG_NS,"feComponentTransfer");bt.append(wt),Dn(this,ls,Vp).call(this,wt,"feFuncA",ht)},Xp=function(ht){return Xt(this,ls,O1).style.color=ht,getRGB(getComputedStyle(Xt(this,ls,O1)).getPropertyValue("color"))};class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:$=globalThis.document}={}){super(),this._document=$}_createCanvas($,ht){const bt=this._document.createElement("canvas");return bt.width=$,bt.height=ht,bt}}async function fetchData(_e,$="text"){if(isValidFetchUrl(_e,document.baseURI)){const ht=await fetch(_e);if(!ht.ok)throw new Error(ht.statusText);switch($){case"arraybuffer":return ht.arrayBuffer();case"blob":return ht.blob();case"json":return ht.json()}return ht.text()}return new Promise((ht,bt)=>{const wt=new XMLHttpRequest;wt.open("GET",_e,!0),wt.responseType=$,wt.onreadystatechange=()=>{if(wt.readyState===XMLHttpRequest.DONE){if(wt.status===200||wt.status===0){switch($){case"arraybuffer":case"blob":case"json":ht(wt.response);return}ht(wt.responseText);return}bt(new Error(wt.statusText))}},wt.send(null)})}class DOMCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,ht){return fetchData($,this.isCompressed?"arraybuffer":"text").then(bt=>({cMapData:bt instanceof ArrayBuffer?new Uint8Array(bt):stringToBytes(bt),compressionType:ht}))}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return fetchData($,"arraybuffer").then(ht=>new Uint8Array(ht))}}class DOMSVGFactory extends BaseSVGFactory{_createSVG($){return document.createElementNS(SVG_NS,$)}}class PageViewport{constructor({viewBox:$,scale:ht,rotation:bt,offsetX:wt=0,offsetY:At=0,dontFlip:Ct=!1}){this.viewBox=$,this.scale=ht,this.rotation=bt,this.offsetX=wt,this.offsetY=At;const St=($[2]+$[0])/2,Ft=($[3]+$[1])/2;let vt,Et,Mt,Pt;switch(bt%=360,bt<0&&(bt+=360),bt){case 180:vt=-1,Et=0,Mt=0,Pt=1;break;case 90:vt=0,Et=1,Mt=1,Pt=0;break;case 270:vt=0,Et=-1,Mt=-1,Pt=0;break;case 0:vt=1,Et=0,Mt=0,Pt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ct&&(Mt=-Mt,Pt=-Pt);let xt,$t,_t,jt;vt===0?(xt=Math.abs(Ft-$[1])*ht+wt,$t=Math.abs(St-$[0])*ht+At,_t=($[3]-$[1])*ht,jt=($[2]-$[0])*ht):(xt=Math.abs(St-$[0])*ht+wt,$t=Math.abs(Ft-$[1])*ht+At,_t=($[2]-$[0])*ht,jt=($[3]-$[1])*ht),this.transform=[vt*ht,Et*ht,Mt*ht,Pt*ht,xt-vt*ht*St-Mt*ht*Ft,$t-Et*ht*St-Pt*ht*Ft],this.width=_t,this.height=jt}get rawDims(){const{viewBox:$}=this;return shadow(this,"rawDims",{pageWidth:$[2]-$[0],pageHeight:$[3]-$[1],pageX:$[0],pageY:$[1]})}clone({scale:$=this.scale,rotation:ht=this.rotation,offsetX:bt=this.offsetX,offsetY:wt=this.offsetY,dontFlip:At=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:$,rotation:ht,offsetX:bt,offsetY:wt,dontFlip:At})}convertToViewportPoint($,ht){return Util.applyTransform([$,ht],this.transform)}convertToViewportRectangle($){const ht=Util.applyTransform([$[0],$[1]],this.transform),bt=Util.applyTransform([$[2],$[3]],this.transform);return[ht[0],ht[1],bt[0],bt[1]]}convertToPdfPoint($,ht){return Util.applyInverseTransform([$,ht],this.transform)}}class RenderingCancelledException extends BaseException{constructor($,ht=0){super($,"RenderingCancelledException"),this.extraDelay=ht}}function isDataScheme(_e){const $=_e.length;let ht=0;for(;ht<$&&_e[ht].trim()==="";)ht++;return _e.substring(ht,ht+5).toLowerCase()==="data:"}function isPdfFile(_e){return typeof _e=="string"&&/\.pdf$/i.test(_e)}function getFilenameFromUrl(_e){return[_e]=_e.split(/[#?]/,1),_e.substring(_e.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(_e,$="document.pdf"){if(typeof _e!="string")return $;if(isDataScheme(_e))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),$;const ht=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,bt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,wt=ht.exec(_e);let At=bt.exec(wt[1])||bt.exec(wt[2])||bt.exec(wt[3]);if(At&&(At=At[0],At.includes("%")))try{At=bt.exec(decodeURIComponent(At))[0]}catch{}return At||$}class StatTimer{constructor(){os(this,"started",Object.create(null));os(this,"times",[])}time($){$ in this.started&&warn(`Timer is already running for ${$}`),this.started[$]=Date.now()}timeEnd($){$ in this.started||warn(`Timer has not been started for ${$}`),this.times.push({name:$,start:this.started[$],end:Date.now()}),delete this.started[$]}toString(){const $=[];let ht=0;for(const{name:bt}of this.times)ht=Math.max(bt.length,ht);for(const{name:bt,start:wt,end:At}of this.times)$.push(`${bt.padEnd(ht)} ${At-wt}ms
`);return $.join("")}}function isValidFetchUrl(_e,$){try{const{protocol:ht}=$?new URL(_e,$):new URL(_e);return ht==="http:"||ht==="https:"}catch{return!1}}function noContextMenu(_e){_e.preventDefault()}function deprecated(_e){console.log("Deprecated API usage: "+_e)}let pdfDateStringRegex;class PDFDateString{static toDateObject($){if(!$||typeof $!="string")return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ht=pdfDateStringRegex.exec($);if(!ht)return null;const bt=parseInt(ht[1],10);let wt=parseInt(ht[2],10);wt=wt>=1&&wt<=12?wt-1:0;let At=parseInt(ht[3],10);At=At>=1&&At<=31?At:1;let Ct=parseInt(ht[4],10);Ct=Ct>=0&&Ct<=23?Ct:0;let St=parseInt(ht[5],10);St=St>=0&&St<=59?St:0;let Ft=parseInt(ht[6],10);Ft=Ft>=0&&Ft<=59?Ft:0;const vt=ht[7]||"Z";let Et=parseInt(ht[8],10);Et=Et>=0&&Et<=23?Et:0;let Mt=parseInt(ht[9],10)||0;return Mt=Mt>=0&&Mt<=59?Mt:0,vt==="-"?(Ct+=Et,St+=Mt):vt==="+"&&(Ct-=Et,St-=Mt),new Date(Date.UTC(bt,wt,At,Ct,St,Ft))}}function getXfaPageViewport(_e,{scale:$=1,rotation:ht=0}){const{width:bt,height:wt}=_e.attributes.style,At=[0,0,parseInt(bt),parseInt(wt)];return new PageViewport({viewBox:At,scale:$,rotation:ht})}function getRGB(_e){if(_e.startsWith("#")){const $=parseInt(_e.slice(1),16);return[($&16711680)>>16,($&65280)>>8,$&255]}return _e.startsWith("rgb(")?_e.slice(4,-1).split(",").map($=>parseInt($)):_e.startsWith("rgba(")?_e.slice(5,-1).split(",").map($=>parseInt($)).slice(0,3):(warn(`Not a valid color format: "${_e}"`),[0,0,0])}function getColorValues(_e){const $=document.createElement("span");$.style.visibility="hidden",document.body.append($);for(const ht of _e.keys()){$.style.color=ht;const bt=window.getComputedStyle($).color;_e.set(ht,getRGB(bt))}$.remove()}function getCurrentTransform(_e){const{a:$,b:ht,c:bt,d:wt,e:At,f:Ct}=_e.getTransform();return[$,ht,bt,wt,At,Ct]}function getCurrentTransformInverse(_e){const{a:$,b:ht,c:bt,d:wt,e:At,f:Ct}=_e.getTransform().invertSelf();return[$,ht,bt,wt,At,Ct]}function setLayerDimensions(_e,$,ht=!1,bt=!0){if($ instanceof PageViewport){const{pageWidth:wt,pageHeight:At}=$.rawDims,{style:Ct}=_e,St=util_FeatureTest.isCSSRoundSupported,Ft=`var(--scale-factor) * ${wt}px`,vt=`var(--scale-factor) * ${At}px`,Et=St?`round(${Ft}, 1px)`:`calc(${Ft})`,Mt=St?`round(${vt}, 1px)`:`calc(${vt})`;!ht||$.rotation%180===0?(Ct.width=Et,Ct.height=Mt):(Ct.width=Mt,Ct.height=Et)}bt&&_e.setAttribute("data-main-rotation",$.rotation)}var P0,_0,Bl,M0,b2,b9,Ro,y9,v9,zx,w9,G2;const y2=class y2{constructor($){$n(this,Ro);$n(this,P0,null);$n(this,_0,null);$n(this,Bl);$n(this,M0,null);Ln(this,Bl,$)}render(){const $=Ln(this,P0,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",Dn(y2,b2,b9));const ht=Ln(this,M0,document.createElement("div"));ht.className="buttons",$.append(ht);const bt=Xt(this,Bl).toolbarPosition;if(bt){const{style:wt}=$,At=Xt(this,Bl)._uiManager.direction==="ltr"?1-bt[0]:bt[0];wt.insetInlineEnd=`${100*At}%`,wt.top=`calc(${100*bt[1]}% + var(--editor-toolbar-vert-offset))`}return Dn(this,Ro,w9).call(this),$}hide(){var $;Xt(this,P0).classList.add("hidden"),($=Xt(this,_0))==null||$.hideDropdown()}show(){Xt(this,P0).classList.remove("hidden")}addAltTextButton($){Dn(this,Ro,zx).call(this,$),Xt(this,M0).prepend($,Xt(this,Ro,G2))}addColorPicker($){Ln(this,_0,$);const ht=$.renderButton();Dn(this,Ro,zx).call(this,ht),Xt(this,M0).prepend(ht,Xt(this,Ro,G2))}remove(){var $;Xt(this,P0).remove(),($=Xt(this,_0))==null||$.destroy(),Ln(this,_0,null)}};P0=new WeakMap,_0=new WeakMap,Bl=new WeakMap,M0=new WeakMap,b2=new WeakSet,b9=function($){$.stopPropagation()},Ro=new WeakSet,y9=function($){Xt(this,Bl)._focusEventsAllowed=!1,$.preventDefault(),$.stopPropagation()},v9=function($){Xt(this,Bl)._focusEventsAllowed=!0,$.preventDefault(),$.stopPropagation()},zx=function($){$.addEventListener("focusin",Dn(this,Ro,y9).bind(this),{capture:!0}),$.addEventListener("focusout",Dn(this,Ro,v9).bind(this),{capture:!0}),$.addEventListener("contextmenu",noContextMenu)},w9=function(){const $=document.createElement("button");$.className="delete",$.tabIndex=0,$.setAttribute("data-l10n-id",`pdfjs-editor-remove-${Xt(this,Bl).editorType}-button`),Dn(this,Ro,zx).call(this,$),$.addEventListener("click",ht=>{Xt(this,Bl)._uiManager.delete()}),Xt(this,M0).append($)},G2=function(){const $=document.createElement("div");return $.className="divider",$},$n(y2,b2);let EditorToolbar=y2;var rm,R0,sm,f0,A9,S9,C9;class HighlightToolbar{constructor($){$n(this,f0);$n(this,rm,null);$n(this,R0,null);$n(this,sm);Ln(this,sm,$)}show($,ht,bt){const[wt,At]=Dn(this,f0,S9).call(this,ht,bt),{style:Ct}=Xt(this,R0)||Ln(this,R0,Dn(this,f0,A9).call(this));$.append(Xt(this,R0)),Ct.insetInlineEnd=`${100*wt}%`,Ct.top=`calc(${100*At}% + var(--editor-toolbar-vert-offset))`}hide(){Xt(this,R0).remove()}}rm=new WeakMap,R0=new WeakMap,sm=new WeakMap,f0=new WeakSet,A9=function(){const $=Ln(this,R0,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu);const ht=Ln(this,rm,document.createElement("div"));return ht.className="buttons",$.append(ht),Dn(this,f0,C9).call(this),$},S9=function($,ht){let bt=0,wt=0;for(const At of $){const Ct=At.y+At.height;if(Ct<bt)continue;const St=At.x+(ht?At.width:0);if(Ct>bt){wt=St,bt=Ct;continue}ht?St>wt&&(wt=St):St<wt&&(wt=St)}return[ht?1-wt:wt,bt]},C9=function(){const $=document.createElement("button");$.className="highlightButton",$.tabIndex=0,$.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const ht=document.createElement("span");$.append(ht),ht.className="visuallyHidden",ht.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("click",()=>{Xt(this,sm).highlightSelection("floating_button")}),Xt(this,rm).append($)};function bindEvents(_e,$,ht){for(const bt of ht)$.addEventListener(bt,_e[bt].bind(_e))}function opacityToHex(_e){return Math.round(Math.min(255,Math.max(1,255*_e))).toString(16).padStart(2,"0")}var v2;class IdManager{constructor(){$n(this,v2,0)}get id(){return`${AnnotationEditorPrefix}${Fo(this,v2)._++}`}}v2=new WeakMap;var am,w2,Ko,om,q2;const i9=class i9{constructor(){$n(this,om);$n(this,am,getUuid());$n(this,w2,0);$n(this,Ko,null)}static get _isSVGFittingCanvas(){const $='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',bt=new OffscreenCanvas(1,3).getContext("2d"),wt=new Image;wt.src=$;const At=wt.decode().then(()=>(bt.drawImage(wt,0,0,1,1,0,0,1,3),new Uint32Array(bt.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",At)}async getFromFile($){const{lastModified:ht,name:bt,size:wt,type:At}=$;return Dn(this,om,q2).call(this,`${ht}_${bt}_${wt}_${At}`,$)}async getFromUrl($){return Dn(this,om,q2).call(this,$,$)}async getFromId($){Xt(this,Ko)||Ln(this,Ko,new Map);const ht=Xt(this,Ko).get($);return ht?ht.bitmap?(ht.refCounter+=1,ht):ht.file?this.getFromFile(ht.file):this.getFromUrl(ht.url):null}getSvgUrl($){const ht=Xt(this,Ko).get($);return ht!=null&&ht.isSvg?ht.svgUrl:null}deleteId($){Xt(this,Ko)||Ln(this,Ko,new Map);const ht=Xt(this,Ko).get($);ht&&(ht.refCounter-=1,ht.refCounter===0&&(ht.bitmap=null))}isValidId($){return $.startsWith(`image_${Xt(this,am)}_`)}};am=new WeakMap,w2=new WeakMap,Ko=new WeakMap,om=new WeakSet,q2=async function($,ht){Xt(this,Ko)||Ln(this,Ko,new Map);let bt=Xt(this,Ko).get($);if(bt===null)return null;if(bt!=null&&bt.bitmap)return bt.refCounter+=1,bt;try{bt||(bt={bitmap:null,id:`image_${Xt(this,am)}_${Fo(this,w2)._++}`,refCounter:0,isSvg:!1});let wt;if(typeof ht=="string"?(bt.url=ht,wt=await fetchData(ht,"blob")):wt=bt.file=ht,wt.type==="image/svg+xml"){const At=i9._isSVGFittingCanvas,Ct=new FileReader,St=new Image,Ft=new Promise((vt,Et)=>{St.onload=()=>{bt.bitmap=St,bt.isSvg=!0,vt()},Ct.onload=async()=>{const Mt=bt.svgUrl=Ct.result;St.src=await At?`${Mt}#svgView(preserveAspectRatio(none))`:Mt},St.onerror=Ct.onerror=Et});Ct.readAsDataURL(wt),await Ft}else bt.bitmap=await createImageBitmap(wt);bt.refCounter=1}catch(wt){console.error(wt),bt=null}return Xt(this,Ko).set($,bt),bt&&Xt(this,Ko).set(bt.id,bt),bt};let ImageManager=i9;var fo,Wu,lm,po;class CommandManager{constructor($=128){$n(this,fo,[]);$n(this,Wu,!1);$n(this,lm);$n(this,po,-1);Ln(this,lm,$)}add({cmd:$,undo:ht,post:bt,mustExec:wt,type:At=NaN,overwriteIfSameType:Ct=!1,keepUndo:St=!1}){if(wt&&$(),Xt(this,Wu))return;const Ft={cmd:$,undo:ht,post:bt,type:At};if(Xt(this,po)===-1){Xt(this,fo).length>0&&(Xt(this,fo).length=0),Ln(this,po,0),Xt(this,fo).push(Ft);return}if(Ct&&Xt(this,fo)[Xt(this,po)].type===At){St&&(Ft.undo=Xt(this,fo)[Xt(this,po)].undo),Xt(this,fo)[Xt(this,po)]=Ft;return}const vt=Xt(this,po)+1;vt===Xt(this,lm)?Xt(this,fo).splice(0,1):(Ln(this,po,vt),vt<Xt(this,fo).length&&Xt(this,fo).splice(vt)),Xt(this,fo).push(Ft)}undo(){if(Xt(this,po)===-1)return;Ln(this,Wu,!0);const{undo:$,post:ht}=Xt(this,fo)[Xt(this,po)];$(),ht==null||ht(),Ln(this,Wu,!1),Ln(this,po,Xt(this,po)-1)}redo(){if(Xt(this,po)<Xt(this,fo).length-1){Ln(this,po,Xt(this,po)+1),Ln(this,Wu,!0);const{cmd:$,post:ht}=Xt(this,fo)[Xt(this,po)];$(),ht==null||ht(),Ln(this,Wu,!1)}}hasSomethingToUndo(){return Xt(this,po)!==-1}hasSomethingToRedo(){return Xt(this,po)<Xt(this,fo).length-1}destroy(){Ln(this,fo,null)}}fo=new WeakMap,Wu=new WeakMap,lm=new WeakMap,po=new WeakMap;var A2,E9;class KeyboardManager{constructor($){$n(this,A2);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:ht}=util_FeatureTest.platform;for(const[bt,wt,At={}]of $)for(const Ct of bt){const St=Ct.startsWith("mac+");ht&&St?(this.callbacks.set(Ct.slice(4),{callback:wt,options:At}),this.allKeys.add(Ct.split("+").at(-1))):!ht&&!St&&(this.callbacks.set(Ct,{callback:wt,options:At}),this.allKeys.add(Ct.split("+").at(-1)))}}exec($,ht){if(!this.allKeys.has(ht.key))return;const bt=this.callbacks.get(Dn(this,A2,E9).call(this,ht));if(!bt)return;const{callback:wt,options:{bubbles:At=!1,args:Ct=[],checker:St=null}}=bt;St&&!St($,ht)||(wt.bind($,...Ct,ht)(),At||(ht.stopPropagation(),ht.preventDefault()))}}A2=new WeakSet,E9=function($){$.altKey&&this.buffer.push("alt"),$.ctrlKey&&this.buffer.push("ctrl"),$.metaKey&&this.buffer.push("meta"),$.shiftKey&&this.buffer.push("shift"),this.buffer.push($.key);const ht=this.buffer.join("+");return this.buffer.length=0,ht};const S2=class S2{get _colors(){const $=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues($),shadow(this,"_colors",$)}convert($){const ht=getRGB($);if(!window.matchMedia("(forced-colors: active)").matches)return ht;for(const[bt,wt]of this._colors)if(wt.every((At,Ct)=>At===ht[Ct]))return S2._colorsMapping.get(bt);return ht}getHexCode($){const ht=this._colors.get($);return ht?Util.makeHexColor(...ht):$}};os(S2,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=S2;var Ho,ao,xo,U1,cu,H1,Sl,V1,O0,Ul,uu,I0,cm,um,Hl,z1,Gu,Vl,C2,qu,hm,D0,dm,X1,bo,Hs,hu,L0,fm,pm,gm,mm,xm,bm,ym,vm,wm,Am,Sm,Cm,Em,km,Ku,zl,du,Fm,Kr,Xx,k9,F9,Wx,T9,P9,_9,K2,Y2,J2,Z2,Q2,To,zu,M9,R9,_b,O9,Wp,ey;const j1=class j1{constructor($,ht,bt,wt,At,Ct,St,Ft,vt){$n(this,Kr);$n(this,Ho,null);$n(this,ao,new Map);$n(this,xo,new Map);$n(this,U1,null);$n(this,cu,null);$n(this,H1,null);$n(this,Sl,new CommandManager);$n(this,V1,0);$n(this,O0,new Set);$n(this,Ul,null);$n(this,uu,null);$n(this,I0,new Set);$n(this,cm,!1);$n(this,um,null);$n(this,Hl,null);$n(this,z1,null);$n(this,Gu,!1);$n(this,Vl,null);$n(this,C2,new IdManager);$n(this,qu,!1);$n(this,hm,!1);$n(this,D0,null);$n(this,dm,null);$n(this,X1,null);$n(this,bo,AnnotationEditorType.NONE);$n(this,Hs,new Set);$n(this,hu,null);$n(this,L0,null);$n(this,fm,null);$n(this,pm,this.blur.bind(this));$n(this,gm,this.focus.bind(this));$n(this,mm,this.copy.bind(this));$n(this,xm,this.cut.bind(this));$n(this,bm,this.paste.bind(this));$n(this,ym,this.keydown.bind(this));$n(this,vm,this.keyup.bind(this));$n(this,wm,this.onEditingAction.bind(this));$n(this,Am,this.onPageChanging.bind(this));$n(this,Sm,this.onScaleChanging.bind(this));$n(this,Cm,Dn(this,Kr,F9).bind(this));$n(this,Em,this.onRotationChanging.bind(this));$n(this,km,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});$n(this,Ku,[0,0]);$n(this,zl,null);$n(this,du,null);$n(this,Fm,null);Ln(this,du,$),Ln(this,Fm,ht),Ln(this,U1,bt),this._eventBus=wt,this._eventBus._on("editingaction",Xt(this,wm)),this._eventBus._on("pagechanging",Xt(this,Am)),this._eventBus._on("scalechanging",Xt(this,Sm)),this._eventBus._on("rotationchanging",Xt(this,Em)),Dn(this,Kr,T9).call(this),Dn(this,Kr,Y2).call(this),Ln(this,cu,At.annotationStorage),Ln(this,um,At.filterFactory),Ln(this,L0,Ct),Ln(this,z1,St||null),Ln(this,cm,Ft),Ln(this,X1,vt||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const $=j1.prototype,ht=Ct=>Xt(Ct,du).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&Ct.hasSomethingToControl(),bt=(Ct,{target:St})=>{if(St instanceof HTMLInputElement){const{type:Ft}=St;return Ft!=="text"&&Ft!=="number"}return!0},wt=this.TRANSLATE_SMALL,At=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],$.selectAll,{checker:bt}],[["ctrl+z","mac+meta+z"],$.undo,{checker:bt}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$.redo,{checker:bt}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$.delete,{checker:bt}],[["Enter","mac+Enter"],$.addNewEditorFromKeyboard,{checker:(Ct,{target:St})=>!(St instanceof HTMLButtonElement)&&Xt(Ct,du).contains(St)&&!Ct.isEnterHandled}],[[" ","mac+ "],$.addNewEditorFromKeyboard,{checker:(Ct,{target:St})=>!(St instanceof HTMLButtonElement)&&Xt(Ct,du).contains(document.activeElement)}],[["Escape","mac+Escape"],$.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$.translateSelectedEditors,{args:[-wt,0],checker:ht}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$.translateSelectedEditors,{args:[-At,0],checker:ht}],[["ArrowRight","mac+ArrowRight"],$.translateSelectedEditors,{args:[wt,0],checker:ht}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$.translateSelectedEditors,{args:[At,0],checker:ht}],[["ArrowUp","mac+ArrowUp"],$.translateSelectedEditors,{args:[0,-wt],checker:ht}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$.translateSelectedEditors,{args:[0,-At],checker:ht}],[["ArrowDown","mac+ArrowDown"],$.translateSelectedEditors,{args:[0,wt],checker:ht}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$.translateSelectedEditors,{args:[0,At],checker:ht}]]))}destroy(){var $,ht;Dn(this,Kr,J2).call(this),Dn(this,Kr,K2).call(this),this._eventBus._off("editingaction",Xt(this,wm)),this._eventBus._off("pagechanging",Xt(this,Am)),this._eventBus._off("scalechanging",Xt(this,Sm)),this._eventBus._off("rotationchanging",Xt(this,Em));for(const bt of Xt(this,xo).values())bt.destroy();Xt(this,xo).clear(),Xt(this,ao).clear(),Xt(this,I0).clear(),Ln(this,Ho,null),Xt(this,Hs).clear(),Xt(this,Sl).destroy(),($=Xt(this,U1))==null||$.destroy(),(ht=Xt(this,Vl))==null||ht.hide(),Ln(this,Vl,null),Xt(this,Hl)&&(clearTimeout(Xt(this,Hl)),Ln(this,Hl,null)),Xt(this,zl)&&(clearTimeout(Xt(this,zl)),Ln(this,zl,null)),Dn(this,Kr,P9).call(this)}async mlGuess($){var ht;return((ht=Xt(this,X1))==null?void 0:ht.guess($))||null}get hasMLManager(){return!!Xt(this,X1)}get hcmFilter(){return shadow(this,"hcmFilter",Xt(this,L0)?Xt(this,um).addHCMFilter(Xt(this,L0).foreground,Xt(this,L0).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(Xt(this,du)).direction)}get highlightColors(){return shadow(this,"highlightColors",Xt(this,z1)?new Map(Xt(this,z1).split(",").map($=>$.split("=").map(ht=>ht.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,$=>$.reverse())):null)}setMainHighlightColorPicker($){Ln(this,dm,$)}editAltText($){var ht;(ht=Xt(this,U1))==null||ht.editAltText(this,$)}onPageChanging({pageNumber:$}){Ln(this,V1,$-1)}focusMainContainer(){Xt(this,du).focus()}findParent($,ht){for(const bt of Xt(this,xo).values()){const{x:wt,y:At,width:Ct,height:St}=bt.div.getBoundingClientRect();if($>=wt&&$<=wt+Ct&&ht>=At&&ht<=At+St)return bt}return null}disableUserSelect($=!1){Xt(this,Fm).classList.toggle("noUserSelect",$)}addShouldRescale($){Xt(this,I0).add($)}removeShouldRescale($){Xt(this,I0).delete($)}onScaleChanging({scale:$}){this.commitOrRemove(),this.viewParameters.realScale=$*PixelsPerInch.PDF_TO_CSS_UNITS;for(const ht of Xt(this,I0))ht.onScaleChanging()}onRotationChanging({pagesRotation:$}){this.commitOrRemove(),this.viewParameters.rotation=$}highlightSelection($=""){const ht=document.getSelection();if(!ht||ht.isCollapsed)return;const{anchorNode:bt,anchorOffset:wt,focusNode:At,focusOffset:Ct}=ht,St=ht.toString(),vt=Dn(this,Kr,Xx).call(this,ht).closest(".textLayer"),Et=this.getSelectionBoxes(vt);if(Et){ht.empty(),Xt(this,bo)===AnnotationEditorType.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:AnnotationEditorType.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const Mt of Xt(this,xo).values())if(Mt.hasTextLayer(vt)){Mt.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:$,boxes:Et,anchorNode:bt,anchorOffset:wt,focusNode:At,focusOffset:Ct,text:St});break}}}addToAnnotationStorage($){!$.isEmpty()&&Xt(this,cu)&&!Xt(this,cu).has($.id)&&Xt(this,cu).setValue($.id,$)}blur(){if(this.isShiftKeyDown=!1,Xt(this,Gu)&&(Ln(this,Gu,!1),Dn(this,Kr,Wx).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:$}=document;for(const ht of Xt(this,Hs))if(ht.div.contains($)){Ln(this,D0,[ht,$]),ht._focusEventsAllowed=!1;break}}focus(){if(!Xt(this,D0))return;const[$,ht]=Xt(this,D0);Ln(this,D0,null),ht.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),ht.focus()}addEditListeners(){Dn(this,Kr,Y2).call(this),Dn(this,Kr,Z2).call(this)}removeEditListeners(){Dn(this,Kr,J2).call(this),Dn(this,Kr,Q2).call(this)}copy($){var bt;if($.preventDefault(),(bt=Xt(this,Ho))==null||bt.commitOrRemove(),!this.hasSelection)return;const ht=[];for(const wt of Xt(this,Hs)){const At=wt.serialize(!0);At&&ht.push(At)}ht.length!==0&&$.clipboardData.setData("application/pdfjs",JSON.stringify(ht))}cut($){this.copy($),this.delete()}paste($){$.preventDefault();const{clipboardData:ht}=$;for(const At of ht.items)for(const Ct of Xt(this,uu))if(Ct.isHandlingMimeForPasting(At.type)){Ct.paste(At,this.currentLayer);return}let bt=ht.getData("application/pdfjs");if(!bt)return;try{bt=JSON.parse(bt)}catch(At){warn(`paste: "${At.message}".`);return}if(!Array.isArray(bt))return;this.unselectAll();const wt=this.currentLayer;try{const At=[];for(const Ft of bt){const vt=wt.deserialize(Ft);if(!vt)return;At.push(vt)}const Ct=()=>{for(const Ft of At)Dn(this,Kr,_b).call(this,Ft);Dn(this,Kr,ey).call(this,At)},St=()=>{for(const Ft of At)Ft.remove()};this.addCommands({cmd:Ct,undo:St,mustExec:!0})}catch(At){warn(`paste: "${At.message}".`)}}keydown($){!this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!0),Xt(this,bo)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&j1._keyboardManager.exec(this,$)}keyup($){this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!1,Xt(this,Gu)&&(Ln(this,Gu,!1),Dn(this,Kr,Wx).call(this,"main_toolbar")))}onEditingAction({name:$}){switch($){case"undo":case"redo":case"delete":case"selectAll":this[$]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState($){$?(Dn(this,Kr,_9).call(this),Dn(this,Kr,Z2).call(this),Dn(this,Kr,To).call(this,{isEditing:Xt(this,bo)!==AnnotationEditorType.NONE,isEmpty:Dn(this,Kr,Wp).call(this),hasSomethingToUndo:Xt(this,Sl).hasSomethingToUndo(),hasSomethingToRedo:Xt(this,Sl).hasSomethingToRedo(),hasSelectedEditor:!1})):(Dn(this,Kr,K2).call(this),Dn(this,Kr,Q2).call(this),Dn(this,Kr,To).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($){if(!Xt(this,uu)){Ln(this,uu,$);for(const ht of Xt(this,uu))Dn(this,Kr,zu).call(this,ht.defaultPropertiesToUpdate)}}getId(){return Xt(this,C2).id}get currentLayer(){return Xt(this,xo).get(Xt(this,V1))}getLayer($){return Xt(this,xo).get($)}get currentPageIndex(){return Xt(this,V1)}addLayer($){Xt(this,xo).set($.pageIndex,$),Xt(this,qu)?$.enable():$.disable()}removeLayer($){Xt(this,xo).delete($.pageIndex)}updateMode($,ht=null,bt=!1){if(Xt(this,bo)!==$){if(Ln(this,bo,$),$===AnnotationEditorType.NONE){this.setEditingState(!1),Dn(this,Kr,R9).call(this);return}this.setEditingState(!0),Dn(this,Kr,M9).call(this),this.unselectAll();for(const wt of Xt(this,xo).values())wt.updateMode($);if(!ht&&bt){this.addNewEditorFromKeyboard();return}if(ht){for(const wt of Xt(this,ao).values())if(wt.annotationElementId===ht){this.setSelected(wt),wt.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar($){$!==Xt(this,bo)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$})}updateParams($,ht){var bt;if(Xt(this,uu)){switch($){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(bt=Xt(this,dm))==null||bt.updateColor(ht);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(Xt(this,fm)||Ln(this,fm,new Map)).set($,ht),this.showAllEditors("highlight",ht);break}for(const wt of Xt(this,Hs))wt.updateParams($,ht);for(const wt of Xt(this,uu))wt.updateDefaultParams($,ht)}}showAllEditors($,ht,bt=!1){var At;for(const Ct of Xt(this,ao).values())Ct.editorType===$&&Ct.show(ht);(((At=Xt(this,fm))==null?void 0:At.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==ht&&Dn(this,Kr,zu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,ht]])}enableWaiting($=!1){if(Xt(this,hm)!==$){Ln(this,hm,$);for(const ht of Xt(this,xo).values())$?ht.disableClick():ht.enableClick(),ht.div.classList.toggle("waiting",$)}}getEditors($){const ht=[];for(const bt of Xt(this,ao).values())bt.pageIndex===$&&ht.push(bt);return ht}getEditor($){return Xt(this,ao).get($)}addEditor($){Xt(this,ao).set($.id,$)}removeEditor($){var ht;$.div.contains(document.activeElement)&&(Xt(this,Hl)&&clearTimeout(Xt(this,Hl)),Ln(this,Hl,setTimeout(()=>{this.focusMainContainer(),Ln(this,Hl,null)},0))),Xt(this,ao).delete($.id),this.unselect($),(!$.annotationElementId||!Xt(this,O0).has($.annotationElementId))&&((ht=Xt(this,cu))==null||ht.remove($.id))}addDeletedAnnotationElement($){Xt(this,O0).add($.annotationElementId),this.addChangedExistingAnnotation($),$.deleted=!0}isDeletedAnnotationElement($){return Xt(this,O0).has($)}removeDeletedAnnotationElement($){Xt(this,O0).delete($.annotationElementId),this.removeChangedExistingAnnotation($),$.deleted=!1}setActiveEditor($){Xt(this,Ho)!==$&&(Ln(this,Ho,$),$&&Dn(this,Kr,zu).call(this,$.propertiesToUpdate))}updateUI($){Xt(this,Kr,O9)===$&&Dn(this,Kr,zu).call(this,$.propertiesToUpdate)}toggleSelected($){if(Xt(this,Hs).has($)){Xt(this,Hs).delete($),$.unselect(),Dn(this,Kr,To).call(this,{hasSelectedEditor:this.hasSelection});return}Xt(this,Hs).add($),$.select(),Dn(this,Kr,zu).call(this,$.propertiesToUpdate),Dn(this,Kr,To).call(this,{hasSelectedEditor:!0})}setSelected($){for(const ht of Xt(this,Hs))ht!==$&&ht.unselect();Xt(this,Hs).clear(),Xt(this,Hs).add($),$.select(),Dn(this,Kr,zu).call(this,$.propertiesToUpdate),Dn(this,Kr,To).call(this,{hasSelectedEditor:!0})}isSelected($){return Xt(this,Hs).has($)}get firstSelectedEditor(){return Xt(this,Hs).values().next().value}unselect($){$.unselect(),Xt(this,Hs).delete($),Dn(this,Kr,To).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Xt(this,Hs).size!==0}get isEnterHandled(){return Xt(this,Hs).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){Xt(this,Sl).undo(),Dn(this,Kr,To).call(this,{hasSomethingToUndo:Xt(this,Sl).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Dn(this,Kr,Wp).call(this)})}redo(){Xt(this,Sl).redo(),Dn(this,Kr,To).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Xt(this,Sl).hasSomethingToRedo(),isEmpty:Dn(this,Kr,Wp).call(this)})}addCommands($){Xt(this,Sl).add($),Dn(this,Kr,To).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Dn(this,Kr,Wp).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $=[...Xt(this,Hs)],ht=()=>{for(const wt of $)wt.remove()},bt=()=>{for(const wt of $)Dn(this,Kr,_b).call(this,wt)};this.addCommands({cmd:ht,undo:bt,mustExec:!0})}commitOrRemove(){var $;($=Xt(this,Ho))==null||$.commitOrRemove()}hasSomethingToControl(){return Xt(this,Ho)||this.hasSelection}selectAll(){for(const $ of Xt(this,Hs))$.commit();Dn(this,Kr,ey).call(this,Xt(this,ao).values())}unselectAll(){if(!(Xt(this,Ho)&&(Xt(this,Ho).commitOrRemove(),Xt(this,bo)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const $ of Xt(this,Hs))$.unselect();Xt(this,Hs).clear(),Dn(this,Kr,To).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($,ht,bt=!1){if(bt||this.commitOrRemove(),!this.hasSelection)return;Xt(this,Ku)[0]+=$,Xt(this,Ku)[1]+=ht;const[wt,At]=Xt(this,Ku),Ct=[...Xt(this,Hs)],St=1e3;Xt(this,zl)&&clearTimeout(Xt(this,zl)),Ln(this,zl,setTimeout(()=>{Ln(this,zl,null),Xt(this,Ku)[0]=Xt(this,Ku)[1]=0,this.addCommands({cmd:()=>{for(const Ft of Ct)Xt(this,ao).has(Ft.id)&&Ft.translateInPage(wt,At)},undo:()=>{for(const Ft of Ct)Xt(this,ao).has(Ft.id)&&Ft.translateInPage(-wt,-At)},mustExec:!1})},St));for(const Ft of Ct)Ft.translateInPage($,ht)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Ln(this,Ul,new Map);for(const $ of Xt(this,Hs))Xt(this,Ul).set($,{savedX:$.x,savedY:$.y,savedPageIndex:$.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Xt(this,Ul))return!1;this.disableUserSelect(!1);const $=Xt(this,Ul);Ln(this,Ul,null);let ht=!1;for(const[{x:wt,y:At,pageIndex:Ct},St]of $)St.newX=wt,St.newY=At,St.newPageIndex=Ct,ht||(ht=wt!==St.savedX||At!==St.savedY||Ct!==St.savedPageIndex);if(!ht)return!1;const bt=(wt,At,Ct,St)=>{if(Xt(this,ao).has(wt.id)){const Ft=Xt(this,xo).get(St);Ft?wt._setParentAndPosition(Ft,At,Ct):(wt.pageIndex=St,wt.x=At,wt.y=Ct)}};return this.addCommands({cmd:()=>{for(const[wt,{newX:At,newY:Ct,newPageIndex:St}]of $)bt(wt,At,Ct,St)},undo:()=>{for(const[wt,{savedX:At,savedY:Ct,savedPageIndex:St}]of $)bt(wt,At,Ct,St)},mustExec:!0}),!0}dragSelectedEditors($,ht){if(Xt(this,Ul))for(const bt of Xt(this,Ul).keys())bt.drag($,ht)}rebuild($){if($.parent===null){const ht=this.getLayer($.pageIndex);ht?(ht.changeParent($),ht.addOrRebuild($)):(this.addEditor($),this.addToAnnotationStorage($),$.rebuild())}else $.parent.addOrRebuild($)}get isEditorHandlingKeyboard(){var $;return(($=this.getActive())==null?void 0:$.shouldGetKeyboardEvents())||Xt(this,Hs).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive($){return Xt(this,Ho)===$}getActive(){return Xt(this,Ho)}getMode(){return Xt(this,bo)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes($){if(!$)return null;const ht=document.getSelection();for(let vt=0,Et=ht.rangeCount;vt<Et;vt++)if(!$.contains(ht.getRangeAt(vt).commonAncestorContainer))return null;const{x:bt,y:wt,width:At,height:Ct}=$.getBoundingClientRect();let St;switch($.getAttribute("data-main-rotation")){case"90":St=(vt,Et,Mt,Pt)=>({x:(Et-wt)/Ct,y:1-(vt+Mt-bt)/At,width:Pt/Ct,height:Mt/At});break;case"180":St=(vt,Et,Mt,Pt)=>({x:1-(vt+Mt-bt)/At,y:1-(Et+Pt-wt)/Ct,width:Mt/At,height:Pt/Ct});break;case"270":St=(vt,Et,Mt,Pt)=>({x:1-(Et+Pt-wt)/Ct,y:(vt-bt)/At,width:Pt/Ct,height:Mt/At});break;default:St=(vt,Et,Mt,Pt)=>({x:(vt-bt)/At,y:(Et-wt)/Ct,width:Mt/At,height:Pt/Ct});break}const Ft=[];for(let vt=0,Et=ht.rangeCount;vt<Et;vt++){const Mt=ht.getRangeAt(vt);if(!Mt.collapsed)for(const{x:Pt,y:xt,width:$t,height:_t}of Mt.getClientRects())$t===0||_t===0||Ft.push(St(Pt,xt,$t,_t))}return Ft.length===0?null:Ft}addChangedExistingAnnotation({annotationElementId:$,id:ht}){(Xt(this,H1)||Ln(this,H1,new Map)).set($,ht)}removeChangedExistingAnnotation({annotationElementId:$}){var ht;(ht=Xt(this,H1))==null||ht.delete($)}renderAnnotationElement($){var wt;const ht=(wt=Xt(this,H1))==null?void 0:wt.get($.data.id);if(!ht)return;const bt=Xt(this,cu).getRawValue(ht);bt&&(Xt(this,bo)===AnnotationEditorType.NONE&&!bt.hasBeenModified||bt.renderAnnotationElement($))}};Ho=new WeakMap,ao=new WeakMap,xo=new WeakMap,U1=new WeakMap,cu=new WeakMap,H1=new WeakMap,Sl=new WeakMap,V1=new WeakMap,O0=new WeakMap,Ul=new WeakMap,uu=new WeakMap,I0=new WeakMap,cm=new WeakMap,um=new WeakMap,Hl=new WeakMap,z1=new WeakMap,Gu=new WeakMap,Vl=new WeakMap,C2=new WeakMap,qu=new WeakMap,hm=new WeakMap,D0=new WeakMap,dm=new WeakMap,X1=new WeakMap,bo=new WeakMap,Hs=new WeakMap,hu=new WeakMap,L0=new WeakMap,fm=new WeakMap,pm=new WeakMap,gm=new WeakMap,mm=new WeakMap,xm=new WeakMap,bm=new WeakMap,ym=new WeakMap,vm=new WeakMap,wm=new WeakMap,Am=new WeakMap,Sm=new WeakMap,Cm=new WeakMap,Em=new WeakMap,km=new WeakMap,Ku=new WeakMap,zl=new WeakMap,du=new WeakMap,Fm=new WeakMap,Kr=new WeakSet,Xx=function({anchorNode:$}){return $.nodeType===Node.TEXT_NODE?$.parentElement:$},k9=function(){const $=document.getSelection();if(!$||$.isCollapsed)return;const bt=Dn(this,Kr,Xx).call(this,$).closest(".textLayer"),wt=this.getSelectionBoxes(bt);wt&&(Xt(this,Vl)||Ln(this,Vl,new HighlightToolbar(this)),Xt(this,Vl).show(bt,wt,this.direction==="ltr"))},F9=function(){var At,Ct,St;const $=document.getSelection();if(!$||$.isCollapsed){Xt(this,hu)&&((At=Xt(this,Vl))==null||At.hide(),Ln(this,hu,null),Dn(this,Kr,To).call(this,{hasSelectedText:!1}));return}const{anchorNode:ht}=$;if(ht===Xt(this,hu))return;if(!Dn(this,Kr,Xx).call(this,$).closest(".textLayer")){Xt(this,hu)&&((Ct=Xt(this,Vl))==null||Ct.hide(),Ln(this,hu,null),Dn(this,Kr,To).call(this,{hasSelectedText:!1}));return}if((St=Xt(this,Vl))==null||St.hide(),Ln(this,hu,ht),Dn(this,Kr,To).call(this,{hasSelectedText:!0}),!(Xt(this,bo)!==AnnotationEditorType.HIGHLIGHT&&Xt(this,bo)!==AnnotationEditorType.NONE)&&(Xt(this,bo)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Ln(this,Gu,this.isShiftKeyDown),!this.isShiftKeyDown)){const Ft=vt=>{vt.type==="pointerup"&&vt.button!==0||(window.removeEventListener("pointerup",Ft),window.removeEventListener("blur",Ft),vt.type==="pointerup"&&Dn(this,Kr,Wx).call(this,"main_toolbar"))};window.addEventListener("pointerup",Ft),window.addEventListener("blur",Ft)}},Wx=function($=""){Xt(this,bo)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection($):Xt(this,cm)&&Dn(this,Kr,k9).call(this)},T9=function(){document.addEventListener("selectionchange",Xt(this,Cm))},P9=function(){document.removeEventListener("selectionchange",Xt(this,Cm))},_9=function(){window.addEventListener("focus",Xt(this,gm)),window.addEventListener("blur",Xt(this,pm))},K2=function(){window.removeEventListener("focus",Xt(this,gm)),window.removeEventListener("blur",Xt(this,pm))},Y2=function(){window.addEventListener("keydown",Xt(this,ym)),window.addEventListener("keyup",Xt(this,vm))},J2=function(){window.removeEventListener("keydown",Xt(this,ym)),window.removeEventListener("keyup",Xt(this,vm))},Z2=function(){document.addEventListener("copy",Xt(this,mm)),document.addEventListener("cut",Xt(this,xm)),document.addEventListener("paste",Xt(this,bm))},Q2=function(){document.removeEventListener("copy",Xt(this,mm)),document.removeEventListener("cut",Xt(this,xm)),document.removeEventListener("paste",Xt(this,bm))},To=function($){Object.entries($).some(([bt,wt])=>Xt(this,km)[bt]!==wt)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Xt(this,km),$)}),Xt(this,bo)===AnnotationEditorType.HIGHLIGHT&&$.hasSelectedEditor===!1&&Dn(this,Kr,zu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},zu=function($){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$})},M9=function(){if(!Xt(this,qu)){Ln(this,qu,!0);for(const $ of Xt(this,xo).values())$.enable();for(const $ of Xt(this,ao).values())$.enable()}},R9=function(){if(this.unselectAll(),Xt(this,qu)){Ln(this,qu,!1);for(const $ of Xt(this,xo).values())$.disable();for(const $ of Xt(this,ao).values())$.disable()}},_b=function($){const ht=Xt(this,xo).get($.pageIndex);ht?ht.addOrRebuild($):(this.addEditor($),this.addToAnnotationStorage($))},O9=function(){let $=null;for($ of Xt(this,Hs));return $},Wp=function(){if(Xt(this,ao).size===0)return!0;if(Xt(this,ao).size===1)for(const $ of Xt(this,ao).values())return $.isEmpty();return!1},ey=function($){for(const ht of Xt(this,Hs))ht.unselect();Xt(this,Hs).clear();for(const ht of $)ht.isEmpty()||(Xt(this,Hs).add(ht),ht.select());Dn(this,Kr,To).call(this,{hasSelectedEditor:this.hasSelection})},os(j1,"TRANSLATE_SMALL",1),os(j1,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=j1;var fu,pu,Cl,gu,El,W1,mu,Tm,ty;const su=class su{constructor($){$n(this,Tm);$n(this,fu,"");$n(this,pu,!1);$n(this,Cl,null);$n(this,gu,null);$n(this,El,null);$n(this,W1,!1);$n(this,mu,null);Ln(this,mu,$)}static initialize($){su._l10nPromise||(su._l10nPromise=$)}async render(){const $=Ln(this,Cl,document.createElement("button"));$.className="altText";const ht=await su._l10nPromise.get("pdfjs-editor-alt-text-button-label");$.textContent=ht,$.setAttribute("aria-label",ht),$.tabIndex="0",$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",wt=>wt.stopPropagation());const bt=wt=>{wt.preventDefault(),Xt(this,mu)._uiManager.editAltText(Xt(this,mu))};return $.addEventListener("click",bt,{capture:!0}),$.addEventListener("keydown",wt=>{wt.target===$&&wt.key==="Enter"&&(Ln(this,W1,!0),bt(wt))}),await Dn(this,Tm,ty).call(this),$}finish(){Xt(this,Cl)&&(Xt(this,Cl).focus({focusVisible:Xt(this,W1)}),Ln(this,W1,!1))}isEmpty(){return!Xt(this,fu)&&!Xt(this,pu)}get data(){return{altText:Xt(this,fu),decorative:Xt(this,pu)}}set data({altText:$,decorative:ht}){Xt(this,fu)===$&&Xt(this,pu)===ht||(Ln(this,fu,$),Ln(this,pu,ht),Dn(this,Tm,ty).call(this))}toggle($=!1){Xt(this,Cl)&&(!$&&Xt(this,El)&&(clearTimeout(Xt(this,El)),Ln(this,El,null)),Xt(this,Cl).disabled=!$)}destroy(){var $;($=Xt(this,Cl))==null||$.remove(),Ln(this,Cl,null),Ln(this,gu,null)}};fu=new WeakMap,pu=new WeakMap,Cl=new WeakMap,gu=new WeakMap,El=new WeakMap,W1=new WeakMap,mu=new WeakMap,Tm=new WeakSet,ty=async function(){var wt;const $=Xt(this,Cl);if(!$)return;if(!Xt(this,fu)&&!Xt(this,pu)){$.classList.remove("done"),(wt=Xt(this,gu))==null||wt.remove();return}$.classList.add("done"),su._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(At=>{$.setAttribute("aria-label",At)});let ht=Xt(this,gu);if(!ht){Ln(this,gu,ht=document.createElement("span")),ht.className="tooltip",ht.setAttribute("role","tooltip");const At=ht.id=`alt-text-tooltip-${Xt(this,mu).id}`;$.setAttribute("aria-describedby",At);const Ct=100;$.addEventListener("mouseenter",()=>{Ln(this,El,setTimeout(()=>{Ln(this,El,null),Xt(this,gu).classList.add("show"),Xt(this,mu)._reportTelemetry({action:"alt_text_tooltip"})},Ct))}),$.addEventListener("mouseleave",()=>{var St;Xt(this,El)&&(clearTimeout(Xt(this,El)),Ln(this,El,null)),(St=Xt(this,gu))==null||St.classList.remove("show")})}ht.innerText=Xt(this,pu)?await su._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):Xt(this,fu),ht.parentNode||$.append(ht);const bt=Xt(this,mu).getImageForAltText();bt==null||bt.setAttribute("aria-describedby",ht.id)},os(su,"_l10nPromise",null);let AltText=su;var Fl,Po,G1,N0,yo,$0,q1,K1,Eo,Pm,B0,Yu,_m,j0,xu,Xl,Y1,J1,Yo,Mm,E2,Fs,ny,Rm,iy,ry,I9,D9,sy,ay,oy,L9,N9,$9,B9,ly,Gp;const Ys=class Ys{constructor($){$n(this,Fs);$n(this,Fl,null);$n(this,Po,null);$n(this,G1,!1);$n(this,N0,!1);$n(this,yo,null);$n(this,$0,null);$n(this,q1,this.focusin.bind(this));$n(this,K1,this.focusout.bind(this));$n(this,Eo,null);$n(this,Pm,"");$n(this,B0,!1);$n(this,Yu,null);$n(this,_m,!1);$n(this,j0,!1);$n(this,xu,!1);$n(this,Xl,null);$n(this,Y1,0);$n(this,J1,0);$n(this,Yo,null);os(this,"_initialOptions",Object.create(null));os(this,"_isVisible",!0);os(this,"_uiManager",null);os(this,"_focusEventsAllowed",!0);os(this,"_l10nPromise",null);$n(this,Mm,!1);$n(this,E2,Ys._zIndex++);this.constructor===Ys&&unreachable("Cannot initialize AnnotationEditor."),this.parent=$.parent,this.id=$.id,this.width=this.height=null,this.pageIndex=$.parent.pageIndex,this.name=$.name,this.div=null,this._uiManager=$.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=$.isCentered,this._structTreeParentId=null;const{rotation:ht,rawDims:{pageWidth:bt,pageHeight:wt,pageX:At,pageY:Ct}}=this.parent.viewport;this.rotation=ht,this.pageRotation=(360+ht-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[bt,wt],this.pageTranslation=[At,Ct];const[St,Ft]=this.parentDimensions;this.x=$.x/St,this.y=$.y/Ft,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const $=Ys.prototype._resizeWithKeyboard,ht=AnnotationEditorUIManager.TRANSLATE_SMALL,bt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],$,{args:[-ht,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$,{args:[-bt,0]}],[["ArrowRight","mac+ArrowRight"],$,{args:[ht,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$,{args:[bt,0]}],[["ArrowUp","mac+ArrowUp"],$,{args:[0,-ht]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$,{args:[0,-bt]}],[["ArrowDown","mac+ArrowDown"],$,{args:[0,ht]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$,{args:[0,bt]}],[["Escape","mac+Escape"],Ys.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement($){const ht=new FakeEditor({id:$.parent.getNextId(),parent:$.parent,uiManager:$._uiManager});ht.annotationElementId=$.annotationElementId,ht.deleted=!0,ht._uiManager.addToAnnotationStorage(ht)}static initialize($,ht,bt){if(Ys._l10nPromise||(Ys._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(At=>[At,$.get(At.replaceAll(/([A-Z])/g,Ct=>`-${Ct.toLowerCase()}`))]))),bt!=null&&bt.strings)for(const At of bt.strings)Ys._l10nPromise.set(At,$.get(At));if(Ys._borderLineWidth!==-1)return;const wt=getComputedStyle(document.documentElement);Ys._borderLineWidth=parseFloat(wt.getPropertyValue("--outline-width"))||0}static updateDefaultParams($,ht){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting($){return!1}static paste($,ht){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Xt(this,Mm)}set _isDraggable($){var ht;Ln(this,Mm,$),(ht=this.div)==null||ht.classList.toggle("draggable",$)}get isEnterHandled(){return!0}center(){const[$,ht]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*ht/($*2),this.y+=this.width*$/(ht*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*ht/($*2),this.y-=this.width*$/(ht*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands($){this._uiManager.addCommands($)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Xt(this,E2)}setParent($){$!==null?(this.pageIndex=$.pageIndex,this.pageDimensions=$.pageDimensions):Dn(this,Fs,Gp).call(this),this.parent=$}focusin($){this._focusEventsAllowed&&(Xt(this,B0)?Ln(this,B0,!1):this.parent.setSelected(this))}focusout($){var bt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const ht=$.relatedTarget;ht!=null&&ht.closest(`#${this.id}`)||($.preventDefault(),(bt=this.parent)!=null&&bt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt($,ht,bt,wt){const[At,Ct]=this.parentDimensions;[bt,wt]=this.screenToPageTranslation(bt,wt),this.x=($+bt)/At,this.y=(ht+wt)/Ct,this.fixAndSetPosition()}translate($,ht){Dn(this,Fs,ny).call(this,this.parentDimensions,$,ht)}translateInPage($,ht){Xt(this,Yu)||Ln(this,Yu,[this.x,this.y]),Dn(this,Fs,ny).call(this,this.pageDimensions,$,ht),this.div.scrollIntoView({block:"nearest"})}drag($,ht){Xt(this,Yu)||Ln(this,Yu,[this.x,this.y]);const[bt,wt]=this.parentDimensions;if(this.x+=$/bt,this.y+=ht/wt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:vt,y:Et}=this.div.getBoundingClientRect();this.parent.findNewParent(this,vt,Et)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:At,y:Ct}=this;const[St,Ft]=this.getBaseTranslation();At+=St,Ct+=Ft,this.div.style.left=`${(100*At).toFixed(2)}%`,this.div.style.top=`${(100*Ct).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!Xt(this,Yu)&&(Xt(this,Yu)[0]!==this.x||Xt(this,Yu)[1]!==this.y)}getBaseTranslation(){const[$,ht]=this.parentDimensions,{_borderLineWidth:bt}=Ys,wt=bt/$,At=bt/ht;switch(this.rotation){case 90:return[-wt,At];case 180:return[wt,At];case 270:return[wt,-At];default:return[-wt,-At]}}get _mustFixPosition(){return!0}fixAndSetPosition($=this.rotation){const[ht,bt]=this.pageDimensions;let{x:wt,y:At,width:Ct,height:St}=this;if(Ct*=ht,St*=bt,wt*=ht,At*=bt,this._mustFixPosition)switch($){case 0:wt=Math.max(0,Math.min(ht-Ct,wt)),At=Math.max(0,Math.min(bt-St,At));break;case 90:wt=Math.max(0,Math.min(ht-St,wt)),At=Math.min(bt,Math.max(Ct,At));break;case 180:wt=Math.min(ht,Math.max(Ct,wt)),At=Math.min(bt,Math.max(St,At));break;case 270:wt=Math.min(ht,Math.max(St,wt)),At=Math.max(0,Math.min(bt-Ct,At));break}this.x=wt/=ht,this.y=At/=bt;const[Ft,vt]=this.getBaseTranslation();wt+=Ft,At+=vt;const{style:Et}=this.div;Et.left=`${(100*wt).toFixed(2)}%`,Et.top=`${(100*At).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation($,ht){var bt;return Dn(bt=Ys,Rm,iy).call(bt,$,ht,this.parentRotation)}pageTranslationToScreen($,ht){var bt;return Dn(bt=Ys,Rm,iy).call(bt,$,ht,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:$,pageDimensions:[ht,bt]}=this,wt=ht*$,At=bt*$;return util_FeatureTest.isCSSRoundSupported?[Math.round(wt),Math.round(At)]:[wt,At]}setDims($,ht){const[bt,wt]=this.parentDimensions;this.div.style.width=`${(100*$/bt).toFixed(2)}%`,Xt(this,N0)||(this.div.style.height=`${(100*ht/wt).toFixed(2)}%`)}fixDims(){const{style:$}=this.div,{height:ht,width:bt}=$,wt=bt.endsWith("%"),At=!Xt(this,N0)&&ht.endsWith("%");if(wt&&At)return;const[Ct,St]=this.parentDimensions;wt||($.width=`${(100*parseFloat(bt)/Ct).toFixed(2)}%`),!Xt(this,N0)&&!At&&($.height=`${(100*parseFloat(ht)/St).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var $;($=Xt(this,Po))==null||$.finish()}async addEditToolbar(){return Xt(this,Eo)||Xt(this,j0)?Xt(this,Eo):(Ln(this,Eo,new EditorToolbar(this)),this.div.append(Xt(this,Eo).render()),Xt(this,Po)&&Xt(this,Eo).addAltTextButton(await Xt(this,Po).render()),Xt(this,Eo))}removeEditToolbar(){var $;Xt(this,Eo)&&(Xt(this,Eo).remove(),Ln(this,Eo,null),($=Xt(this,Po))==null||$.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){Xt(this,Po)||(AltText.initialize(Ys._l10nPromise),Ln(this,Po,new AltText(this)),await this.addEditToolbar())}get altTextData(){var $;return($=Xt(this,Po))==null?void 0:$.data}set altTextData($){Xt(this,Po)&&(Xt(this,Po).data=$)}hasAltText(){var $;return!(($=Xt(this,Po))!=null&&$.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=Xt(this,G1)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",Xt(this,q1)),this.div.addEventListener("focusout",Xt(this,K1));const[$,ht]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*ht/$).toFixed(2)}%`,this.div.style.maxHeight=`${(100*$/ht).toFixed(2)}%`);const[bt,wt]=this.getInitialTranslation();return this.translate(bt,wt),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown($){const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht){$.preventDefault();return}if(Ln(this,B0,!0),this._isDraggable){Dn(this,Fs,L9).call(this,$);return}Dn(this,Fs,oy).call(this,$)}moveInDOM(){Xt(this,Xl)&&clearTimeout(Xt(this,Xl)),Ln(this,Xl,setTimeout(()=>{var $;Ln(this,Xl,null),($=this.parent)==null||$.moveEditorInDOM(this)},0))}_setParentAndPosition($,ht,bt){$.changeParent(this),this.x=ht,this.y=bt,this.fixAndSetPosition()}getRect($,ht,bt=this.rotation){const wt=this.parentScale,[At,Ct]=this.pageDimensions,[St,Ft]=this.pageTranslation,vt=$/wt,Et=ht/wt,Mt=this.x*At,Pt=this.y*Ct,xt=this.width*At,$t=this.height*Ct;switch(bt){case 0:return[Mt+vt+St,Ct-Pt-Et-$t+Ft,Mt+vt+xt+St,Ct-Pt-Et+Ft];case 90:return[Mt+Et+St,Ct-Pt+vt+Ft,Mt+Et+$t+St,Ct-Pt+vt+xt+Ft];case 180:return[Mt-vt-xt+St,Ct-Pt+Et+Ft,Mt-vt+St,Ct-Pt+Et+$t+Ft];case 270:return[Mt-Et-$t+St,Ct-Pt-vt-xt+Ft,Mt-Et+St,Ct-Pt-vt+Ft];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords($,ht){const[bt,wt,At,Ct]=$,St=At-bt,Ft=Ct-wt;switch(this.rotation){case 0:return[bt,ht-Ct,St,Ft];case 90:return[bt,ht-wt,Ft,St];case 180:return[At,ht-wt,St,Ft];case 270:return[At,ht-Ct,Ft,St];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ln(this,j0,!0)}disableEditMode(){Ln(this,j0,!1)}isInEditMode(){return Xt(this,j0)}shouldGetKeyboardEvents(){return Xt(this,xu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var $,ht;($=this.div)==null||$.addEventListener("focusin",Xt(this,q1)),(ht=this.div)==null||ht.addEventListener("focusout",Xt(this,K1))}rotate($){}serialize($=!1,ht=null){unreachable("An editor must be serializable")}static deserialize($,ht,bt){const wt=new this.prototype.constructor({parent:ht,id:ht.getNextId(),uiManager:bt});wt.rotation=$.rotation;const[At,Ct]=wt.pageDimensions,[St,Ft,vt,Et]=wt.getRectInCurrentCoords($.rect,Ct);return wt.x=St/At,wt.y=Ft/Ct,wt.width=vt/At,wt.height=Et/Ct,wt}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",Xt(this,q1)),this.div.removeEventListener("focusout",Xt(this,K1)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),Xt(this,Xl)&&(clearTimeout(Xt(this,Xl)),Ln(this,Xl,null)),Dn(this,Fs,Gp).call(this),this.removeEditToolbar(),Xt(this,Yo)){for(const $ of Xt(this,Yo).values())clearTimeout($);Ln(this,Yo,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(Dn(this,Fs,I9).call(this),Xt(this,yo).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown($){if(!this.isResizable||$.target!==this.div||$.key!=="Enter")return;this._uiManager.setSelected(this),Ln(this,$0,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const ht=Xt(this,yo).children;if(!Xt(this,Fl)){Ln(this,Fl,Array.from(ht));const Ct=Dn(this,Fs,N9).bind(this),St=Dn(this,Fs,$9).bind(this);for(const Ft of Xt(this,Fl)){const vt=Ft.getAttribute("data-resizer-name");Ft.setAttribute("role","spinbutton"),Ft.addEventListener("keydown",Ct),Ft.addEventListener("blur",St),Ft.addEventListener("focus",Dn(this,Fs,B9).bind(this,vt)),Ys._l10nPromise.get(`pdfjs-editor-resizer-label-${vt}`).then(Et=>Ft.setAttribute("aria-label",Et))}}const bt=Xt(this,Fl)[0];let wt=0;for(const Ct of ht){if(Ct===bt)break;wt++}const At=(360-this.rotation+this.parentRotation)%360/90*(Xt(this,Fl).length/4);if(At!==wt){if(At<wt)for(let St=0;St<wt-At;St++)Xt(this,yo).append(Xt(this,yo).firstChild);else if(At>wt)for(let St=0;St<At-wt;St++)Xt(this,yo).firstChild.before(Xt(this,yo).lastChild);let Ct=0;for(const St of ht){const vt=Xt(this,Fl)[Ct++].getAttribute("data-resizer-name");Ys._l10nPromise.get(`pdfjs-editor-resizer-label-${vt}`).then(Et=>St.setAttribute("aria-label",Et))}}Dn(this,Fs,ly).call(this,0),Ln(this,xu,!0),Xt(this,yo).firstChild.focus({focusVisible:!0}),$.preventDefault(),$.stopImmediatePropagation()}_resizeWithKeyboard($,ht){Xt(this,xu)&&Dn(this,Fs,ay).call(this,Xt(this,Pm),{movementX:$,movementY:ht})}_stopResizingWithKeyboard(){Dn(this,Fs,Gp).call(this),this.div.focus()}select(){var $,ht;if(this.makeResizable(),($=this.div)==null||$.classList.add("selectedEditor"),!Xt(this,Eo)){this.addEditToolbar().then(()=>{var bt,wt;(bt=this.div)!=null&&bt.classList.contains("selectedEditor")&&((wt=Xt(this,Eo))==null||wt.show())});return}(ht=Xt(this,Eo))==null||ht.show()}unselect(){var $,ht,bt,wt;($=Xt(this,yo))==null||$.classList.add("hidden"),(ht=this.div)==null||ht.classList.remove("selectedEditor"),(bt=this.div)!=null&&bt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(wt=Xt(this,Eo))==null||wt.hide()}updateParams($,ht){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return Xt(this,_m)}set isEditing($){Ln(this,_m,$),this.parent&&($?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio($,ht){Ln(this,N0,!0);const bt=$/ht,{style:wt}=this.div;wt.aspectRatio=bt,wt.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry($,ht=!1){if(ht){Xt(this,Yo)||Ln(this,Yo,new Map);const{action:bt}=$;let wt=Xt(this,Yo).get(bt);wt&&clearTimeout(wt),wt=setTimeout(()=>{this._reportTelemetry($),Xt(this,Yo).delete(bt),Xt(this,Yo).size===0&&Ln(this,Yo,null)},Ys._telemetryTimeout),Xt(this,Yo).set(bt,wt);return}$.type||($.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:$}})}show($=this._isVisible){this.div.classList.toggle("hidden",!$),this._isVisible=$}enable(){this.div&&(this.div.tabIndex=0),Ln(this,G1,!1)}disable(){this.div&&(this.div.tabIndex=-1),Ln(this,G1,!0)}renderAnnotationElement($){let ht=$.container.querySelector(".annotationContent");if(!ht)ht=document.createElement("div"),ht.classList.add("annotationContent",this.editorType),$.container.prepend(ht);else if(ht.nodeName==="CANVAS"){const bt=ht;ht=document.createElement("div"),ht.classList.add("annotationContent",this.editorType),bt.before(ht)}return ht}resetAnnotationElement($){const{firstChild:ht}=$.container;ht.nodeName==="DIV"&&ht.classList.contains("annotationContent")&&ht.remove()}};Fl=new WeakMap,Po=new WeakMap,G1=new WeakMap,N0=new WeakMap,yo=new WeakMap,$0=new WeakMap,q1=new WeakMap,K1=new WeakMap,Eo=new WeakMap,Pm=new WeakMap,B0=new WeakMap,Yu=new WeakMap,_m=new WeakMap,j0=new WeakMap,xu=new WeakMap,Xl=new WeakMap,Y1=new WeakMap,J1=new WeakMap,Yo=new WeakMap,Mm=new WeakMap,E2=new WeakMap,Fs=new WeakSet,ny=function([$,ht],bt,wt){[bt,wt]=this.screenToPageTranslation(bt,wt),this.x+=bt/$,this.y+=wt/ht,this.fixAndSetPosition()},Rm=new WeakSet,iy=function($,ht,bt){switch(bt){case 90:return[ht,-$];case 180:return[-$,-ht];case 270:return[-ht,$];default:return[$,ht]}},ry=function($){switch($){case 90:{const[ht,bt]=this.pageDimensions;return[0,-ht/bt,bt/ht,0]}case 180:return[-1,0,0,-1];case 270:{const[ht,bt]=this.pageDimensions;return[0,ht/bt,-bt/ht,0]}default:return[1,0,0,1]}},I9=function(){if(Xt(this,yo))return;Ln(this,yo,document.createElement("div")),Xt(this,yo).classList.add("resizers");const $=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const ht of $){const bt=document.createElement("div");Xt(this,yo).append(bt),bt.classList.add("resizer",ht),bt.setAttribute("data-resizer-name",ht),bt.addEventListener("pointerdown",Dn(this,Fs,D9).bind(this,ht)),bt.addEventListener("contextmenu",noContextMenu),bt.tabIndex=-1}this.div.prepend(Xt(this,yo))},D9=function($,ht){var $t;ht.preventDefault();const{isMac:bt}=util_FeatureTest.platform;if(ht.button!==0||ht.ctrlKey&&bt)return;($t=Xt(this,Po))==null||$t.toggle(!1);const wt=Dn(this,Fs,ay).bind(this,$),At=this._isDraggable;this._isDraggable=!1;const Ct={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",wt,Ct),window.addEventListener("contextmenu",noContextMenu);const St=this.x,Ft=this.y,vt=this.width,Et=this.height,Mt=this.parent.div.style.cursor,Pt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(ht.target).cursor;const xt=()=>{var _t;this.parent.togglePointerEvents(!0),(_t=Xt(this,Po))==null||_t.toggle(!0),this._isDraggable=At,window.removeEventListener("pointerup",xt),window.removeEventListener("blur",xt),window.removeEventListener("pointermove",wt,Ct),window.removeEventListener("contextmenu",noContextMenu),this.parent.div.style.cursor=Mt,this.div.style.cursor=Pt,Dn(this,Fs,sy).call(this,St,Ft,vt,Et)};window.addEventListener("pointerup",xt),window.addEventListener("blur",xt)},sy=function($,ht,bt,wt){const At=this.x,Ct=this.y,St=this.width,Ft=this.height;At===$&&Ct===ht&&St===bt&&Ft===wt||this.addCommands({cmd:()=>{this.width=St,this.height=Ft,this.x=At,this.y=Ct;const[vt,Et]=this.parentDimensions;this.setDims(vt*St,Et*Ft),this.fixAndSetPosition()},undo:()=>{this.width=bt,this.height=wt,this.x=$,this.y=ht;const[vt,Et]=this.parentDimensions;this.setDims(vt*bt,Et*wt),this.fixAndSetPosition()},mustExec:!0})},ay=function($,ht){const[bt,wt]=this.parentDimensions,At=this.x,Ct=this.y,St=this.width,Ft=this.height,vt=Ys.MIN_SIZE/bt,Et=Ys.MIN_SIZE/wt,Mt=nn=>Math.round(nn*1e4)/1e4,Pt=Dn(this,Fs,ry).call(this,this.rotation),xt=(nn,Ut)=>[Pt[0]*nn+Pt[2]*Ut,Pt[1]*nn+Pt[3]*Ut],$t=Dn(this,Fs,ry).call(this,360-this.rotation),_t=(nn,Ut)=>[$t[0]*nn+$t[2]*Ut,$t[1]*nn+$t[3]*Ut];let jt,Rt,Nt=!1,Lt=!1;switch($){case"topLeft":Nt=!0,jt=(nn,Ut)=>[0,0],Rt=(nn,Ut)=>[nn,Ut];break;case"topMiddle":jt=(nn,Ut)=>[nn/2,0],Rt=(nn,Ut)=>[nn/2,Ut];break;case"topRight":Nt=!0,jt=(nn,Ut)=>[nn,0],Rt=(nn,Ut)=>[0,Ut];break;case"middleRight":Lt=!0,jt=(nn,Ut)=>[nn,Ut/2],Rt=(nn,Ut)=>[0,Ut/2];break;case"bottomRight":Nt=!0,jt=(nn,Ut)=>[nn,Ut],Rt=(nn,Ut)=>[0,0];break;case"bottomMiddle":jt=(nn,Ut)=>[nn/2,Ut],Rt=(nn,Ut)=>[nn/2,0];break;case"bottomLeft":Nt=!0,jt=(nn,Ut)=>[0,Ut],Rt=(nn,Ut)=>[nn,0];break;case"middleLeft":Lt=!0,jt=(nn,Ut)=>[0,Ut/2],Rt=(nn,Ut)=>[nn,Ut/2];break}const kt=jt(St,Ft),Bt=Rt(St,Ft);let Ht=xt(...Bt);const Ot=Mt(At+Ht[0]),Vt=Mt(Ct+Ht[1]);let Gt=1,Wt=1,[en,Sn]=this.screenToPageTranslation(ht.movementX,ht.movementY);if([en,Sn]=_t(en/bt,Sn/wt),Nt){const nn=Math.hypot(St,Ft);Gt=Wt=Math.max(Math.min(Math.hypot(Bt[0]-kt[0]-en,Bt[1]-kt[1]-Sn)/nn,1/St,1/Ft),vt/St,Et/Ft)}else Lt?Gt=Math.max(vt,Math.min(1,Math.abs(Bt[0]-kt[0]-en)))/St:Wt=Math.max(Et,Math.min(1,Math.abs(Bt[1]-kt[1]-Sn)))/Ft;const sn=Mt(St*Gt),hn=Mt(Ft*Wt);Ht=xt(...Rt(sn,hn));const Qt=Ot-Ht[0],qt=Vt-Ht[1];this.width=sn,this.height=hn,this.x=Qt,this.y=qt,this.setDims(bt*sn,wt*hn),this.fixAndSetPosition()},oy=function($){const{isMac:ht}=util_FeatureTest.platform;$.ctrlKey&&!ht||$.shiftKey||$.metaKey&&ht?this.parent.toggleSelected(this):this.parent.setSelected(this)},L9=function($){const ht=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let bt,wt;ht&&(this.div.classList.add("moving"),bt={passive:!0,capture:!0},Ln(this,Y1,$.clientX),Ln(this,J1,$.clientY),wt=Ct=>{const{clientX:St,clientY:Ft}=Ct,[vt,Et]=this.screenToPageTranslation(St-Xt(this,Y1),Ft-Xt(this,J1));Ln(this,Y1,St),Ln(this,J1,Ft),this._uiManager.dragSelectedEditors(vt,Et)},window.addEventListener("pointermove",wt,bt));const At=()=>{window.removeEventListener("pointerup",At),window.removeEventListener("blur",At),ht&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",wt,bt)),Ln(this,B0,!1),this._uiManager.endDragSession()||Dn(this,Fs,oy).call(this,$)};window.addEventListener("pointerup",At),window.addEventListener("blur",At)},N9=function($){Ys._resizerKeyboardManager.exec(this,$)},$9=function($){var ht;Xt(this,xu)&&((ht=$.relatedTarget)==null?void 0:ht.parentNode)!==Xt(this,yo)&&Dn(this,Fs,Gp).call(this)},B9=function($){Ln(this,Pm,Xt(this,xu)?$:"")},ly=function($){if(Xt(this,Fl))for(const ht of Xt(this,Fl))ht.tabIndex=$},Gp=function(){if(Ln(this,xu,!1),Dn(this,Fs,ly).call(this,-1),Xt(this,$0)){const{savedX:$,savedY:ht,savedWidth:bt,savedHeight:wt}=Xt(this,$0);Dn(this,Fs,sy).call(this,$,ht,bt,wt),Ln(this,$0,null)}},$n(Ys,Rm),os(Ys,"_borderLineWidth",-1),os(Ys,"_colorManager",new ColorManager),os(Ys,"_zIndex",1),os(Ys,"_telemetryTimeout",1e3);let AnnotationEditor=Ys;class FakeEditor extends AnnotationEditor{constructor($){super($),this.annotationElementId=$.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor($){this.h1=$?$&4294967295:SEED,this.h2=$?$&4294967295:SEED}update($){let ht,bt;if(typeof $=="string"){ht=new Uint8Array($.length*2),bt=0;for(let _t=0,jt=$.length;_t<jt;_t++){const Rt=$.charCodeAt(_t);Rt<=255?ht[bt++]=Rt:(ht[bt++]=Rt>>>8,ht[bt++]=Rt&255)}}else if(ArrayBuffer.isView($))ht=$.slice(),bt=ht.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const wt=bt>>2,At=bt-wt*4,Ct=new Uint32Array(ht.buffer,0,wt);let St=0,Ft=0,vt=this.h1,Et=this.h2;const Mt=3432918353,Pt=461845907,xt=Mt&MASK_LOW,$t=Pt&MASK_LOW;for(let _t=0;_t<wt;_t++)_t&1?(St=Ct[_t],St=St*Mt&MASK_HIGH|St*xt&MASK_LOW,St=St<<15|St>>>17,St=St*Pt&MASK_HIGH|St*$t&MASK_LOW,vt^=St,vt=vt<<13|vt>>>19,vt=vt*5+3864292196):(Ft=Ct[_t],Ft=Ft*Mt&MASK_HIGH|Ft*xt&MASK_LOW,Ft=Ft<<15|Ft>>>17,Ft=Ft*Pt&MASK_HIGH|Ft*$t&MASK_LOW,Et^=Ft,Et=Et<<13|Et>>>19,Et=Et*5+3864292196);switch(St=0,At){case 3:St^=ht[wt*4+2]<<16;case 2:St^=ht[wt*4+1]<<8;case 1:St^=ht[wt*4],St=St*Mt&MASK_HIGH|St*xt&MASK_LOW,St=St<<15|St>>>17,St=St*Pt&MASK_HIGH|St*$t&MASK_LOW,wt&1?vt^=St:Et^=St}this.h1=vt,this.h2=Et}hexdigest(){let $=this.h1,ht=this.h2;return $^=ht>>>1,$=$*3981806797&MASK_HIGH|$*36045&MASK_LOW,ht=ht*4283543511&MASK_HIGH|((ht<<16|$>>>16)*2950163797&MASK_HIGH)>>>16,$^=ht>>>1,$=$*444984403&MASK_HIGH|$*60499&MASK_LOW,ht=ht*3301882366&MASK_HIGH|((ht<<16|$>>>16)*3120437893&MASK_HIGH)>>>16,$^=ht>>>1,($>>>0).toString(16).padStart(8,"0")+(ht>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var U0,vo,k2,j9;class AnnotationStorage{constructor(){$n(this,k2);$n(this,U0,!1);$n(this,vo,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue($,ht){const bt=Xt(this,vo).get($);return bt===void 0?ht:Object.assign(ht,bt)}getRawValue($){return Xt(this,vo).get($)}remove($){if(Xt(this,vo).delete($),Xt(this,vo).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ht of Xt(this,vo).values())if(ht instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue($,ht){const bt=Xt(this,vo).get($);let wt=!1;if(bt!==void 0)for(const[At,Ct]of Object.entries(ht))bt[At]!==Ct&&(wt=!0,bt[At]=Ct);else wt=!0,Xt(this,vo).set($,ht);wt&&Dn(this,k2,j9).call(this),ht instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ht.constructor._type)}has($){return Xt(this,vo).has($)}getAll(){return Xt(this,vo).size>0?objectFromMap(Xt(this,vo)):null}setAll($){for(const[ht,bt]of Object.entries($))this.setValue(ht,bt)}get size(){return Xt(this,vo).size}resetModified(){Xt(this,U0)&&(Ln(this,U0,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(Xt(this,vo).size===0)return SerializableEmpty;const $=new Map,ht=new MurmurHash3_64,bt=[],wt=Object.create(null);let At=!1;for(const[Ct,St]of Xt(this,vo)){const Ft=St instanceof AnnotationEditor?St.serialize(!1,wt):St;Ft&&($.set(Ct,Ft),ht.update(`${Ct}:${JSON.stringify(Ft)}`),At||(At=!!Ft.bitmap))}if(At)for(const Ct of $.values())Ct.bitmap&&bt.push(Ct.bitmap);return $.size>0?{map:$,hash:ht.hexdigest(),transfer:bt}:SerializableEmpty}get editorStats(){let $=null;const ht=new Map;for(const bt of Xt(this,vo).values()){if(!(bt instanceof AnnotationEditor))continue;const wt=bt.telemetryFinalData;if(!wt)continue;const{type:At}=wt;ht.has(At)||ht.set(At,Object.getPrototypeOf(bt).constructor),$||($=Object.create(null));const Ct=$[At]||($[At]=new Map);for(const[St,Ft]of Object.entries(wt)){if(St==="type")continue;let vt=Ct.get(St);vt||(vt=new Map,Ct.set(St,vt));const Et=vt.get(Ft)??0;vt.set(Ft,Et+1)}}for(const[bt,wt]of ht)$[bt]=wt.computeTelemetryFinalData($[bt]);return $}}U0=new WeakMap,vo=new WeakMap,k2=new WeakSet,j9=function(){Xt(this,U0)||(Ln(this,U0,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Om;class PrintAnnotationStorage extends AnnotationStorage{constructor(ht){super();$n(this,Om);const{map:bt,hash:wt,transfer:At}=ht.serializable,Ct=structuredClone(bt,At?{transfer:At}:null);Ln(this,Om,{map:Ct,hash:wt,transfer:At})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return Xt(this,Om)}}Om=new WeakMap;var Z1;class FontLoader{constructor({ownerDocument:$=globalThis.document,styleElement:ht=null}){$n(this,Z1,new Set);this._document=$,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace($){this.nativeFontFaces.add($),this._document.fonts.add($)}removeNativeFontFace($){this.nativeFontFaces.delete($),this._document.fonts.delete($)}insertRule($){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ht=this.styleElement.sheet;ht.insertRule($,ht.cssRules.length)}clear(){for(const $ of this.nativeFontFaces)this._document.fonts.delete($);this.nativeFontFaces.clear(),Xt(this,Z1).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:$,_inspectFont:ht}){if(!(!$||Xt(this,Z1).has($.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:bt,src:wt,style:At}=$,Ct=new FontFace(bt,wt,At);this.addNativeFontFace(Ct);try{await Ct.load(),Xt(this,Z1).add(bt),ht==null||ht($)}catch{warn(`Cannot load system font: ${$.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Ct)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind($){if($.attached||$.missingFile&&!$.systemFontInfo)return;if($.attached=!0,$.systemFontInfo){await this.loadSystemFont($);return}if(this.isFontLoadingAPISupported){const bt=$.createNativeFontFace();if(bt){this.addNativeFontFace(bt);try{await bt.loaded}catch(wt){throw warn(`Failed to load font '${bt.family}': '${wt}'.`),$.disableFontFace=!0,wt}}return}const ht=$.createFontFaceRule();if(ht){if(this.insertRule(ht),this.isSyncFontLoadingSupported)return;await new Promise(bt=>{const wt=this._queueLoadingCallback(bt);this._prepareFontLoadEvent($,wt)})}}get isFontLoadingAPISupported(){var ht;const $=!!((ht=this._document)!=null&&ht.fonts);return shadow(this,"isFontLoadingAPISupported",$)}get isSyncFontLoadingSupported(){let $=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&($=!0),shadow(this,"isSyncFontLoadingSupported",$)}_queueLoadingCallback($){function ht(){for(assert(!wt.done,"completeRequest() cannot be called twice."),wt.done=!0;bt.length>0&&bt[0].done;){const At=bt.shift();setTimeout(At.callback,0)}}const{loadingRequests:bt}=this,wt={done:!1,complete:ht,callback:$};return bt.push(wt),wt}get _loadTestFont(){const $=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",$)}_prepareFontLoadEvent($,ht){function bt(kt,Bt){return kt.charCodeAt(Bt)<<24|kt.charCodeAt(Bt+1)<<16|kt.charCodeAt(Bt+2)<<8|kt.charCodeAt(Bt+3)&255}function wt(kt,Bt,Ht,Ot){const Vt=kt.substring(0,Bt),Gt=kt.substring(Bt+Ht);return Vt+Ot+Gt}let At,Ct;const St=this._document.createElement("canvas");St.width=1,St.height=1;const Ft=St.getContext("2d");let vt=0;function Et(kt,Bt){if(++vt>30){warn("Load test font never loaded."),Bt();return}if(Ft.font="30px "+kt,Ft.fillText(".",0,20),Ft.getImageData(0,0,1,1).data[3]>0){Bt();return}setTimeout(Et.bind(null,kt,Bt))}const Mt=`lt${Date.now()}${this.loadTestFontId++}`;let Pt=this._loadTestFont;Pt=wt(Pt,976,Mt.length,Mt);const $t=16,_t=1482184792;let jt=bt(Pt,$t);for(At=0,Ct=Mt.length-3;At<Ct;At+=4)jt=jt-_t+bt(Mt,At)|0;At<Mt.length&&(jt=jt-_t+bt(Mt+"XXX",At)|0),Pt=wt(Pt,$t,4,string32(jt));const Rt=`url(data:font/opentype;base64,${btoa(Pt)});`,Nt=`@font-face {font-family:"${Mt}";src:${Rt}}`;this.insertRule(Nt);const Lt=this._document.createElement("div");Lt.style.visibility="hidden",Lt.style.width=Lt.style.height="10px",Lt.style.position="absolute",Lt.style.top=Lt.style.left="0px";for(const kt of[$.loadedName,Mt]){const Bt=this._document.createElement("span");Bt.textContent="Hi",Bt.style.fontFamily=kt,Lt.append(Bt)}this._document.body.append(Lt),Et(Mt,()=>{Lt.remove(),ht.complete()})}}Z1=new WeakMap;class FontFaceObject{constructor($,{disableFontFace:ht=!1,inspectFont:bt=null}){this.compiledGlyphs=Object.create(null);for(const wt in $)this[wt]=$[wt];this.disableFontFace=ht===!0,this._inspectFont=bt}createNativeFontFace(){var ht;if(!this.data||this.disableFontFace)return null;let $;if(!this.cssFontInfo)$=new FontFace(this.loadedName,this.data,{});else{const bt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(bt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),$=new FontFace(this.cssFontInfo.fontFamily,this.data,bt)}return(ht=this._inspectFont)==null||ht.call(this,this),$}createFontFaceRule(){var wt;if(!this.data||this.disableFontFace)return null;const $=bytesToString(this.data),ht=`url(data:${this.mimetype};base64,${btoa($)});`;let bt;if(!this.cssFontInfo)bt=`@font-face {font-family:"${this.loadedName}";src:${ht}}`;else{let At=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(At+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),bt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${At}src:${ht}}`}return(wt=this._inspectFont)==null||wt.call(this,this,ht),bt}getPathGenerator($,ht){if(this.compiledGlyphs[ht]!==void 0)return this.compiledGlyphs[ht];let bt;try{bt=$.get(this.loadedName+"_path_"+ht)}catch(At){warn(`getPathGenerator - ignoring character: "${At}".`)}if(!Array.isArray(bt)||bt.length===0)return this.compiledGlyphs[ht]=function(At,Ct){};const wt=[];for(let At=0,Ct=bt.length;At<Ct;)switch(bt[At++]){case FontRenderOps.BEZIER_CURVE_TO:{const[St,Ft,vt,Et,Mt,Pt]=bt.slice(At,At+6);wt.push(xt=>xt.bezierCurveTo(St,Ft,vt,Et,Mt,Pt)),At+=6}break;case FontRenderOps.MOVE_TO:{const[St,Ft]=bt.slice(At,At+2);wt.push(vt=>vt.moveTo(St,Ft)),At+=2}break;case FontRenderOps.LINE_TO:{const[St,Ft]=bt.slice(At,At+2);wt.push(vt=>vt.lineTo(St,Ft)),At+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[St,Ft,vt,Et]=bt.slice(At,At+4);wt.push(Mt=>Mt.quadraticCurveTo(St,Ft,vt,Et)),At+=4}break;case FontRenderOps.RESTORE:wt.push(St=>St.restore());break;case FontRenderOps.SAVE:wt.push(St=>St.save());break;case FontRenderOps.SCALE:assert(wt.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[St,Ft,vt,Et,Mt,Pt]=bt.slice(At,At+6);wt.push(xt=>xt.transform(St,Ft,vt,Et,Mt,Pt)),At+=6}break;case FontRenderOps.TRANSLATE:{const[St,Ft]=bt.slice(At,At+2);wt.push(vt=>vt.translate(St,Ft)),At+=2}break}return this.compiledGlyphs[ht]=function(Ct,St){wt[0](Ct),wt[1](Ct),Ct.scale(St,-St);for(let Ft=2,vt=wt.length;Ft<vt;Ft++)wt[Ft](Ct)}}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const $=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),[]),ht=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),bt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),wt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0);let At,Ct;return new Map(Object.entries({fs:$,http:ht,https:bt,url:wt,canvas:At,path2d:Ct}))})().then($=>{packageMap=$,packageCapability.resolve()},$=>{warn(`loadPackages: ${$}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get($){return packageMap==null?void 0:packageMap.get($)}}const node_utils_fetchData=function(_e){return NodePackages.get("fs").promises.readFile(_e).then(ht=>new Uint8Array(ht))};class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas($,ht){return NodePackages.get("canvas").createCanvas($,ht)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,ht){return node_utils_fetchData($).then(bt=>({cMapData:bt,compressionType:ht}))}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return node_utils_fetchData($)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(_e,$){if(!$)return;const ht=$[2]-$[0],bt=$[3]-$[1],wt=new Path2D;wt.rect($[0],$[1],ht,bt),_e.clip(wt)}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&unreachable("Cannot initialize BaseShadingPattern.")}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor($){super(),this._type=$[1],this._bbox=$[2],this._colorStops=$[3],this._p0=$[4],this._p1=$[5],this._r0=$[6],this._r1=$[7],this.matrix=null}_createGradient($){let ht;this._type==="axial"?ht=$.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ht=$.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const bt of this._colorStops)ht.addColorStop(bt[0],bt[1]);return ht}getPattern($,ht,bt,wt){let At;if(wt===PathType.STROKE||wt===PathType.FILL){const Ct=ht.current.getClippedPathBoundingBox(wt,getCurrentTransform($))||[0,0,0,0],St=Math.ceil(Ct[2]-Ct[0])||1,Ft=Math.ceil(Ct[3]-Ct[1])||1,vt=ht.cachedCanvases.getCanvas("pattern",St,Ft,!0),Et=vt.context;Et.clearRect(0,0,Et.canvas.width,Et.canvas.height),Et.beginPath(),Et.rect(0,0,Et.canvas.width,Et.canvas.height),Et.translate(-Ct[0],-Ct[1]),bt=Util.transform(bt,[1,0,0,1,Ct[0],Ct[1]]),Et.transform(...ht.baseTransform),this.matrix&&Et.transform(...this.matrix),applyBoundingBox(Et,this._bbox),Et.fillStyle=this._createGradient(Et),Et.fill(),At=$.createPattern(vt.canvas,"no-repeat");const Mt=new DOMMatrix(bt);At.setTransform(Mt)}else applyBoundingBox($,this._bbox),At=this._createGradient($);return At}}function drawTriangle(_e,$,ht,bt,wt,At,Ct,St){const Ft=$.coords,vt=$.colors,Et=_e.data,Mt=_e.width*4;let Pt;Ft[ht+1]>Ft[bt+1]&&(Pt=ht,ht=bt,bt=Pt,Pt=At,At=Ct,Ct=Pt),Ft[bt+1]>Ft[wt+1]&&(Pt=bt,bt=wt,wt=Pt,Pt=Ct,Ct=St,St=Pt),Ft[ht+1]>Ft[bt+1]&&(Pt=ht,ht=bt,bt=Pt,Pt=At,At=Ct,Ct=Pt);const xt=(Ft[ht]+$.offsetX)*$.scaleX,$t=(Ft[ht+1]+$.offsetY)*$.scaleY,_t=(Ft[bt]+$.offsetX)*$.scaleX,jt=(Ft[bt+1]+$.offsetY)*$.scaleY,Rt=(Ft[wt]+$.offsetX)*$.scaleX,Nt=(Ft[wt+1]+$.offsetY)*$.scaleY;if($t>=Nt)return;const Lt=vt[At],kt=vt[At+1],Bt=vt[At+2],Ht=vt[Ct],Ot=vt[Ct+1],Vt=vt[Ct+2],Gt=vt[St],Wt=vt[St+1],en=vt[St+2],Sn=Math.round($t),sn=Math.round(Nt);let hn,Qt,qt,nn,Ut,zt,cn,ln;for(let Kt=Sn;Kt<=sn;Kt++){if(Kt<jt){const yn=Kt<$t?0:($t-Kt)/($t-jt);hn=xt-(xt-_t)*yn,Qt=Lt-(Lt-Ht)*yn,qt=kt-(kt-Ot)*yn,nn=Bt-(Bt-Vt)*yn}else{let yn;Kt>Nt?yn=1:jt===Nt?yn=0:yn=(jt-Kt)/(jt-Nt),hn=_t-(_t-Rt)*yn,Qt=Ht-(Ht-Gt)*yn,qt=Ot-(Ot-Wt)*yn,nn=Vt-(Vt-en)*yn}let Jt;Kt<$t?Jt=0:Kt>Nt?Jt=1:Jt=($t-Kt)/($t-Nt),Ut=xt-(xt-Rt)*Jt,zt=Lt-(Lt-Gt)*Jt,cn=kt-(kt-Wt)*Jt,ln=Bt-(Bt-en)*Jt;const Yt=Math.round(Math.min(hn,Ut)),tn=Math.round(Math.max(hn,Ut));let un=Mt*Kt+Yt*4;for(let yn=Yt;yn<=tn;yn++)Jt=(hn-yn)/(hn-Ut),Jt<0?Jt=0:Jt>1&&(Jt=1),Et[un++]=Qt-(Qt-zt)*Jt|0,Et[un++]=qt-(qt-cn)*Jt|0,Et[un++]=nn-(nn-ln)*Jt|0,Et[un++]=255}}function drawFigure(_e,$,ht){const bt=$.coords,wt=$.colors;let At,Ct;switch($.type){case"lattice":const St=$.verticesPerRow,Ft=Math.floor(bt.length/St)-1,vt=St-1;for(At=0;At<Ft;At++){let Et=At*St;for(let Mt=0;Mt<vt;Mt++,Et++)drawTriangle(_e,ht,bt[Et],bt[Et+1],bt[Et+St],wt[Et],wt[Et+1],wt[Et+St]),drawTriangle(_e,ht,bt[Et+St+1],bt[Et+1],bt[Et+St],wt[Et+St+1],wt[Et+1],wt[Et+St])}break;case"triangles":for(At=0,Ct=bt.length;At<Ct;At+=3)drawTriangle(_e,ht,bt[At],bt[At+1],bt[At+2],wt[At],wt[At+1],wt[At+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor($){super(),this._coords=$[2],this._colors=$[3],this._figures=$[4],this._bounds=$[5],this._bbox=$[7],this._background=$[8],this.matrix=null}_createMeshCanvas($,ht,bt){const St=Math.floor(this._bounds[0]),Ft=Math.floor(this._bounds[1]),vt=Math.ceil(this._bounds[2])-St,Et=Math.ceil(this._bounds[3])-Ft,Mt=Math.min(Math.ceil(Math.abs(vt*$[0]*1.1)),3e3),Pt=Math.min(Math.ceil(Math.abs(Et*$[1]*1.1)),3e3),xt=vt/Mt,$t=Et/Pt,_t={coords:this._coords,colors:this._colors,offsetX:-St,offsetY:-Ft,scaleX:1/xt,scaleY:1/$t},jt=Mt+2*2,Rt=Pt+2*2,Nt=bt.getCanvas("mesh",jt,Rt,!1),Lt=Nt.context,kt=Lt.createImageData(Mt,Pt);if(ht){const Ht=kt.data;for(let Ot=0,Vt=Ht.length;Ot<Vt;Ot+=4)Ht[Ot]=ht[0],Ht[Ot+1]=ht[1],Ht[Ot+2]=ht[2],Ht[Ot+3]=255}for(const Ht of this._figures)drawFigure(kt,Ht,_t);return Lt.putImageData(kt,2,2),{canvas:Nt.canvas,offsetX:St-2*xt,offsetY:Ft-2*$t,scaleX:xt,scaleY:$t}}getPattern($,ht,bt,wt){applyBoundingBox($,this._bbox);let At;if(wt===PathType.SHADING)At=Util.singularValueDecompose2dScale(getCurrentTransform($));else if(At=Util.singularValueDecompose2dScale(ht.baseTransform),this.matrix){const St=Util.singularValueDecompose2dScale(this.matrix);At=[At[0]*St[0],At[1]*St[1]]}const Ct=this._createMeshCanvas(At,wt===PathType.SHADING?null:this._background,ht.cachedCanvases);return wt!==PathType.SHADING&&($.setTransform(...ht.baseTransform),this.matrix&&$.transform(...this.matrix)),$.translate(Ct.offsetX,Ct.offsetY),$.scale(Ct.scaleX,Ct.scaleY),$.createPattern(Ct.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(_e){switch(_e[0]){case"RadialAxial":return new RadialAxialShadingPattern(_e);case"Mesh":return new MeshShadingPattern(_e);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${_e[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},F2=class F2{constructor($,ht,bt,wt,At){this.operatorList=$[2],this.matrix=$[3],this.bbox=$[4],this.xstep=$[5],this.ystep=$[6],this.paintType=$[7],this.tilingType=$[8],this.color=ht,this.ctx=bt,this.canvasGraphicsFactory=wt,this.baseTransform=At}createPatternCanvas($){const ht=this.operatorList,bt=this.bbox,wt=this.xstep,At=this.ystep,Ct=this.paintType,St=this.tilingType,Ft=this.color,vt=this.canvasGraphicsFactory;info("TilingType: "+St);const Et=bt[0],Mt=bt[1],Pt=bt[2],xt=bt[3],$t=Util.singularValueDecompose2dScale(this.matrix),_t=Util.singularValueDecompose2dScale(this.baseTransform),jt=[$t[0]*_t[0],$t[1]*_t[1]],Rt=this.getSizeAndScale(wt,this.ctx.canvas.width,jt[0]),Nt=this.getSizeAndScale(At,this.ctx.canvas.height,jt[1]),Lt=$.cachedCanvases.getCanvas("pattern",Rt.size,Nt.size,!0),kt=Lt.context,Bt=vt.createCanvasGraphics(kt);Bt.groupLevel=$.groupLevel,this.setFillAndStrokeStyleToContext(Bt,Ct,Ft);let Ht=Et,Ot=Mt,Vt=Pt,Gt=xt;return Et<0&&(Ht=0,Vt+=Math.abs(Et)),Mt<0&&(Ot=0,Gt+=Math.abs(Mt)),kt.translate(-(Rt.scale*Ht),-(Nt.scale*Ot)),Bt.transform(Rt.scale,0,0,Nt.scale,0,0),kt.save(),this.clipBbox(Bt,Ht,Ot,Vt,Gt),Bt.baseTransform=getCurrentTransform(Bt.ctx),Bt.executeOperatorList(ht),Bt.endDrawing(),{canvas:Lt.canvas,scaleX:Rt.scale,scaleY:Nt.scale,offsetX:Ht,offsetY:Ot}}getSizeAndScale($,ht,bt){$=Math.abs($);const wt=Math.max(F2.MAX_PATTERN_SIZE,ht);let At=Math.ceil($*bt);return At>=wt?At=wt:bt=At/$,{scale:bt,size:At}}clipBbox($,ht,bt,wt,At){const Ct=wt-ht,St=At-bt;$.ctx.rect(ht,bt,Ct,St),$.current.updateRectMinMax(getCurrentTransform($.ctx),[ht,bt,wt,At]),$.clip(),$.endPath()}setFillAndStrokeStyleToContext($,ht,bt){const wt=$.ctx,At=$.current;switch(ht){case PaintType.COLORED:const Ct=this.ctx;wt.fillStyle=Ct.fillStyle,wt.strokeStyle=Ct.strokeStyle,At.fillColor=Ct.fillStyle,At.strokeColor=Ct.strokeStyle;break;case PaintType.UNCOLORED:const St=Util.makeHexColor(bt[0],bt[1],bt[2]);wt.fillStyle=St,wt.strokeStyle=St,At.fillColor=St,At.strokeColor=St;break;default:throw new FormatError(`Unsupported paint type: ${ht}`)}}getPattern($,ht,bt,wt){let At=bt;wt!==PathType.SHADING&&(At=Util.transform(At,ht.baseTransform),this.matrix&&(At=Util.transform(At,this.matrix)));const Ct=this.createPatternCanvas(ht);let St=new DOMMatrix(At);St=St.translate(Ct.offsetX,Ct.offsetY),St=St.scale(1/Ct.scaleX,1/Ct.scaleY);const Ft=$.createPattern(Ct.canvas,"repeat");return Ft.setTransform(St),Ft}};os(F2,"MAX_PATTERN_SIZE",3e3);let TilingPattern=F2;function convertBlackAndWhiteToRGBA({src:_e,srcPos:$=0,dest:ht,width:bt,height:wt,nonBlackColor:At=4294967295,inverseDecode:Ct=!1}){const St=util_FeatureTest.isLittleEndian?4278190080:255,[Ft,vt]=Ct?[At,St]:[St,At],Et=bt>>3,Mt=bt&7,Pt=_e.length;ht=new Uint32Array(ht.buffer);let xt=0;for(let $t=0;$t<wt;$t++){for(const jt=$+Et;$<jt;$++){const Rt=$<Pt?_e[$]:255;ht[xt++]=Rt&128?vt:Ft,ht[xt++]=Rt&64?vt:Ft,ht[xt++]=Rt&32?vt:Ft,ht[xt++]=Rt&16?vt:Ft,ht[xt++]=Rt&8?vt:Ft,ht[xt++]=Rt&4?vt:Ft,ht[xt++]=Rt&2?vt:Ft,ht[xt++]=Rt&1?vt:Ft}if(Mt===0)continue;const _t=$<Pt?_e[$++]:255;for(let jt=0;jt<Mt;jt++)ht[xt++]=_t&1<<7-jt?vt:Ft}return{srcPos:$,destPos:xt}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(_e,$){if(_e._removeMirroring)throw new Error("Context is already forwarding operations.");_e.__originalSave=_e.save,_e.__originalRestore=_e.restore,_e.__originalRotate=_e.rotate,_e.__originalScale=_e.scale,_e.__originalTranslate=_e.translate,_e.__originalTransform=_e.transform,_e.__originalSetTransform=_e.setTransform,_e.__originalResetTransform=_e.resetTransform,_e.__originalClip=_e.clip,_e.__originalMoveTo=_e.moveTo,_e.__originalLineTo=_e.lineTo,_e.__originalBezierCurveTo=_e.bezierCurveTo,_e.__originalRect=_e.rect,_e.__originalClosePath=_e.closePath,_e.__originalBeginPath=_e.beginPath,_e._removeMirroring=()=>{_e.save=_e.__originalSave,_e.restore=_e.__originalRestore,_e.rotate=_e.__originalRotate,_e.scale=_e.__originalScale,_e.translate=_e.__originalTranslate,_e.transform=_e.__originalTransform,_e.setTransform=_e.__originalSetTransform,_e.resetTransform=_e.__originalResetTransform,_e.clip=_e.__originalClip,_e.moveTo=_e.__originalMoveTo,_e.lineTo=_e.__originalLineTo,_e.bezierCurveTo=_e.__originalBezierCurveTo,_e.rect=_e.__originalRect,_e.closePath=_e.__originalClosePath,_e.beginPath=_e.__originalBeginPath,delete _e._removeMirroring},_e.save=function(){$.save(),this.__originalSave()},_e.restore=function(){$.restore(),this.__originalRestore()},_e.translate=function(bt,wt){$.translate(bt,wt),this.__originalTranslate(bt,wt)},_e.scale=function(bt,wt){$.scale(bt,wt),this.__originalScale(bt,wt)},_e.transform=function(bt,wt,At,Ct,St,Ft){$.transform(bt,wt,At,Ct,St,Ft),this.__originalTransform(bt,wt,At,Ct,St,Ft)},_e.setTransform=function(bt,wt,At,Ct,St,Ft){$.setTransform(bt,wt,At,Ct,St,Ft),this.__originalSetTransform(bt,wt,At,Ct,St,Ft)},_e.resetTransform=function(){$.resetTransform(),this.__originalResetTransform()},_e.rotate=function(bt){$.rotate(bt),this.__originalRotate(bt)},_e.clip=function(bt){$.clip(bt),this.__originalClip(bt)},_e.moveTo=function(ht,bt){$.moveTo(ht,bt),this.__originalMoveTo(ht,bt)},_e.lineTo=function(ht,bt){$.lineTo(ht,bt),this.__originalLineTo(ht,bt)},_e.bezierCurveTo=function(ht,bt,wt,At,Ct,St){$.bezierCurveTo(ht,bt,wt,At,Ct,St),this.__originalBezierCurveTo(ht,bt,wt,At,Ct,St)},_e.rect=function(ht,bt,wt,At){$.rect(ht,bt,wt,At),this.__originalRect(ht,bt,wt,At)},_e.closePath=function(){$.closePath(),this.__originalClosePath()},_e.beginPath=function(){$.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor($){this.canvasFactory=$,this.cache=Object.create(null)}getCanvas($,ht,bt){let wt;return this.cache[$]!==void 0?(wt=this.cache[$],this.canvasFactory.reset(wt,ht,bt)):(wt=this.canvasFactory.create(ht,bt),this.cache[$]=wt),wt}delete($){delete this.cache[$]}clear(){for(const $ in this.cache){const ht=this.cache[$];this.canvasFactory.destroy(ht),delete this.cache[$]}}}function drawImageAtIntegerCoords(_e,$,ht,bt,wt,At,Ct,St,Ft,vt){const[Et,Mt,Pt,xt,$t,_t]=getCurrentTransform(_e);if(Mt===0&&Pt===0){const Nt=Ct*Et+$t,Lt=Math.round(Nt),kt=St*xt+_t,Bt=Math.round(kt),Ht=(Ct+Ft)*Et+$t,Ot=Math.abs(Math.round(Ht)-Lt)||1,Vt=(St+vt)*xt+_t,Gt=Math.abs(Math.round(Vt)-Bt)||1;return _e.setTransform(Math.sign(Et),0,0,Math.sign(xt),Lt,Bt),_e.drawImage($,ht,bt,wt,At,0,0,Ot,Gt),_e.setTransform(Et,Mt,Pt,xt,$t,_t),[Ot,Gt]}if(Et===0&&xt===0){const Nt=St*Pt+$t,Lt=Math.round(Nt),kt=Ct*Mt+_t,Bt=Math.round(kt),Ht=(St+vt)*Pt+$t,Ot=Math.abs(Math.round(Ht)-Lt)||1,Vt=(Ct+Ft)*Mt+_t,Gt=Math.abs(Math.round(Vt)-Bt)||1;return _e.setTransform(0,Math.sign(Mt),Math.sign(Pt),0,Lt,Bt),_e.drawImage($,ht,bt,wt,At,0,0,Gt,Ot),_e.setTransform(Et,Mt,Pt,xt,$t,_t),[Gt,Ot]}_e.drawImage($,ht,bt,wt,At,Ct,St,Ft,vt);const jt=Math.hypot(Et,Mt),Rt=Math.hypot(Pt,xt);return[jt*Ft,Rt*vt]}function compileType3Glyph(_e){const{width:$,height:ht}=_e;if($>MAX_SIZE_TO_COMPILE||ht>MAX_SIZE_TO_COMPILE)return null;const bt=1e3,wt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),At=$+1;let Ct=new Uint8Array(At*(ht+1)),St,Ft,vt;const Et=$+7&-8;let Mt=new Uint8Array(Et*ht),Pt=0;for(const Rt of _e.data){let Nt=128;for(;Nt>0;)Mt[Pt++]=Rt&Nt?0:255,Nt>>=1}let xt=0;for(Pt=0,Mt[Pt]!==0&&(Ct[0]=1,++xt),Ft=1;Ft<$;Ft++)Mt[Pt]!==Mt[Pt+1]&&(Ct[Ft]=Mt[Pt]?2:1,++xt),Pt++;for(Mt[Pt]!==0&&(Ct[Ft]=2,++xt),St=1;St<ht;St++){Pt=St*Et,vt=St*At,Mt[Pt-Et]!==Mt[Pt]&&(Ct[vt]=Mt[Pt]?1:8,++xt);let Rt=(Mt[Pt]?4:0)+(Mt[Pt-Et]?8:0);for(Ft=1;Ft<$;Ft++)Rt=(Rt>>2)+(Mt[Pt+1]?4:0)+(Mt[Pt-Et+1]?8:0),wt[Rt]&&(Ct[vt+Ft]=wt[Rt],++xt),Pt++;if(Mt[Pt-Et]!==Mt[Pt]&&(Ct[vt+Ft]=Mt[Pt]?2:4,++xt),xt>bt)return null}for(Pt=Et*(ht-1),vt=St*At,Mt[Pt]!==0&&(Ct[vt]=8,++xt),Ft=1;Ft<$;Ft++)Mt[Pt]!==Mt[Pt+1]&&(Ct[vt+Ft]=Mt[Pt]?4:8,++xt),Pt++;if(Mt[Pt]!==0&&(Ct[vt+Ft]=4,++xt),xt>bt)return null;const $t=new Int32Array([0,At,-1,0,-At,0,0,0,1]),_t=new Path2D;for(St=0;xt&&St<=ht;St++){let Rt=St*At;const Nt=Rt+$;for(;Rt<Nt&&!Ct[Rt];)Rt++;if(Rt===Nt)continue;_t.moveTo(Rt%At,St);const Lt=Rt;let kt=Ct[Rt];do{const Bt=$t[kt];do Rt+=Bt;while(!Ct[Rt]);const Ht=Ct[Rt];Ht!==5&&Ht!==10?(kt=Ht,Ct[Rt]=0):(kt=Ht&51*kt>>4,Ct[Rt]&=kt>>2|kt<<2),_t.lineTo(Rt%At,Rt/At|0),Ct[Rt]||--xt}while(Lt!==Rt);--St}return Mt=null,Ct=null,function(Rt){Rt.save(),Rt.scale(1/$,-1/ht),Rt.translate(0,-ht),Rt.fill(_t),Rt.beginPath(),Rt.restore()}}class CanvasExtraState{constructor($,ht){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,$,ht])}clone(){const $=Object.create(this);return $.clipBox=this.clipBox.slice(),$}setCurrentPoint($,ht){this.x=$,this.y=ht}updatePathMinMax($,ht,bt){[ht,bt]=Util.applyTransform([ht,bt],$),this.minX=Math.min(this.minX,ht),this.minY=Math.min(this.minY,bt),this.maxX=Math.max(this.maxX,ht),this.maxY=Math.max(this.maxY,bt)}updateRectMinMax($,ht){const bt=Util.applyTransform(ht,$),wt=Util.applyTransform(ht.slice(2),$),At=Util.applyTransform([ht[0],ht[3]],$),Ct=Util.applyTransform([ht[2],ht[1]],$);this.minX=Math.min(this.minX,bt[0],wt[0],At[0],Ct[0]),this.minY=Math.min(this.minY,bt[1],wt[1],At[1],Ct[1]),this.maxX=Math.max(this.maxX,bt[0],wt[0],At[0],Ct[0]),this.maxY=Math.max(this.maxY,bt[1],wt[1],At[1],Ct[1])}updateScalingPathMinMax($,ht){Util.scaleMinMax($,ht),this.minX=Math.min(this.minX,ht[0]),this.minY=Math.min(this.minY,ht[1]),this.maxX=Math.max(this.maxX,ht[2]),this.maxY=Math.max(this.maxY,ht[3])}updateCurvePathMinMax($,ht,bt,wt,At,Ct,St,Ft,vt,Et){const Mt=Util.bezierBoundingBox(ht,bt,wt,At,Ct,St,Ft,vt,Et);Et||this.updateRectMinMax($,Mt)}getPathBoundingBox($=PathType.FILL,ht=null){const bt=[this.minX,this.minY,this.maxX,this.maxY];if($===PathType.STROKE){ht||unreachable("Stroke bounding box must include transform.");const wt=Util.singularValueDecompose2dScale(ht),At=wt[0]*this.lineWidth/2,Ct=wt[1]*this.lineWidth/2;bt[0]-=At,bt[1]-=Ct,bt[2]+=At,bt[3]+=Ct}return bt}updateClipFromPath(){const $=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox($||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox($){this.clipBox=$,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox($=PathType.FILL,ht=null){return Util.intersect(this.clipBox,this.getPathBoundingBox($,ht))}}function putBinaryImageData(_e,$){if(typeof ImageData<"u"&&$ instanceof ImageData){_e.putImageData($,0,0);return}const ht=$.height,bt=$.width,wt=ht%FULL_CHUNK_HEIGHT,At=(ht-wt)/FULL_CHUNK_HEIGHT,Ct=wt===0?At:At+1,St=_e.createImageData(bt,FULL_CHUNK_HEIGHT);let Ft=0,vt;const Et=$.data,Mt=St.data;let Pt,xt,$t,_t;if($.kind===util_ImageKind.GRAYSCALE_1BPP){const jt=Et.byteLength,Rt=new Uint32Array(Mt.buffer,0,Mt.byteLength>>2),Nt=Rt.length,Lt=bt+7>>3,kt=4294967295,Bt=util_FeatureTest.isLittleEndian?4278190080:255;for(Pt=0;Pt<Ct;Pt++){for($t=Pt<At?FULL_CHUNK_HEIGHT:wt,vt=0,xt=0;xt<$t;xt++){const Ht=jt-Ft;let Ot=0;const Vt=Ht>Lt?bt:Ht*8-7,Gt=Vt&-8;let Wt=0,en=0;for(;Ot<Gt;Ot+=8)en=Et[Ft++],Rt[vt++]=en&128?kt:Bt,Rt[vt++]=en&64?kt:Bt,Rt[vt++]=en&32?kt:Bt,Rt[vt++]=en&16?kt:Bt,Rt[vt++]=en&8?kt:Bt,Rt[vt++]=en&4?kt:Bt,Rt[vt++]=en&2?kt:Bt,Rt[vt++]=en&1?kt:Bt;for(;Ot<Vt;Ot++)Wt===0&&(en=Et[Ft++],Wt=128),Rt[vt++]=en&Wt?kt:Bt,Wt>>=1}for(;vt<Nt;)Rt[vt++]=0;_e.putImageData(St,0,Pt*FULL_CHUNK_HEIGHT)}}else if($.kind===util_ImageKind.RGBA_32BPP){for(xt=0,_t=bt*FULL_CHUNK_HEIGHT*4,Pt=0;Pt<At;Pt++)Mt.set(Et.subarray(Ft,Ft+_t)),Ft+=_t,_e.putImageData(St,0,xt),xt+=FULL_CHUNK_HEIGHT;Pt<Ct&&(_t=bt*wt*4,Mt.set(Et.subarray(Ft,Ft+_t)),_e.putImageData(St,0,xt))}else if($.kind===util_ImageKind.RGB_24BPP)for($t=FULL_CHUNK_HEIGHT,_t=bt*$t,Pt=0;Pt<Ct;Pt++){for(Pt>=At&&($t=wt,_t=bt*$t),vt=0,xt=_t;xt--;)Mt[vt++]=Et[Ft++],Mt[vt++]=Et[Ft++],Mt[vt++]=Et[Ft++],Mt[vt++]=255;_e.putImageData(St,0,Pt*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${$.kind}`)}function putBinaryImageMask(_e,$){if($.bitmap){_e.drawImage($.bitmap,0,0);return}const ht=$.height,bt=$.width,wt=ht%FULL_CHUNK_HEIGHT,At=(ht-wt)/FULL_CHUNK_HEIGHT,Ct=wt===0?At:At+1,St=_e.createImageData(bt,FULL_CHUNK_HEIGHT);let Ft=0;const vt=$.data,Et=St.data;for(let Mt=0;Mt<Ct;Mt++){const Pt=Mt<At?FULL_CHUNK_HEIGHT:wt;({srcPos:Ft}=convertBlackAndWhiteToRGBA({src:vt,srcPos:Ft,dest:Et,width:bt,height:Pt,nonBlackColor:0})),_e.putImageData(St,0,Mt*FULL_CHUNK_HEIGHT)}}function copyCtxState(_e,$){const ht=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const bt of ht)_e[bt]!==void 0&&($[bt]=_e[bt]);_e.setLineDash!==void 0&&($.setLineDash(_e.getLineDash()),$.lineDashOffset=_e.lineDashOffset)}function resetCtxToDefault(_e){if(_e.strokeStyle=_e.fillStyle="#000000",_e.fillRule="nonzero",_e.globalAlpha=1,_e.lineWidth=1,_e.lineCap="butt",_e.lineJoin="miter",_e.miterLimit=10,_e.globalCompositeOperation="source-over",_e.font="10px sans-serif",_e.setLineDash!==void 0&&(_e.setLineDash([]),_e.lineDashOffset=0),!isNodeJS){const{filter:$}=_e;$!=="none"&&$!==""&&(_e.filter="none")}}function getImageSmoothingEnabled(_e,$){if($)return!0;const ht=Util.singularValueDecompose2dScale(_e);ht[0]=Math.fround(ht[0]),ht[1]=Math.fround(ht[1]);const bt=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return ht[0]<=bt&&ht[1]<=bt}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var p0,cy,uy;const r9=class r9{constructor($,ht,bt,wt,At,{optionalContentConfig:Ct,markedContentStack:St=null},Ft,vt){$n(this,p0);this.ctx=$,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ht,this.objs=bt,this.canvasFactory=wt,this.filterFactory=At,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=St||[],this.optionalContentConfig=Ct,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Ft,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=vt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject($,ht=null){return typeof $=="string"?$.startsWith("g_")?this.commonObjs.get($):this.objs.get($):ht}beginDrawing({transform:$,viewport:ht,transparency:bt=!1,background:wt=null}){const At=this.ctx.canvas.width,Ct=this.ctx.canvas.height,St=this.ctx.fillStyle;if(this.ctx.fillStyle=wt||"#ffffff",this.ctx.fillRect(0,0,At,Ct),this.ctx.fillStyle=St,bt){const Ft=this.cachedCanvases.getCanvas("transparent",At,Ct);this.compositeCtx=this.ctx,this.transparentCanvas=Ft.canvas,this.ctx=Ft.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),$&&(this.ctx.transform(...$),this.outputScaleX=$[0],this.outputScaleY=$[0]),this.ctx.transform(...ht.transform),this.viewportScale=ht.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList($,ht,bt,wt){const At=$.argsArray,Ct=$.fnArray;let St=ht||0;const Ft=At.length;if(Ft===St)return St;const vt=Ft-St>EXECUTION_STEPS&&typeof bt=="function",Et=vt?Date.now()+EXECUTION_TIME:0;let Mt=0;const Pt=this.commonObjs,xt=this.objs;let $t;for(;;){if(wt!==void 0&&St===wt.nextBreakPoint)return wt.breakIt(St,bt),St;if($t=Ct[St],$t!==OPS.dependency)this[$t].apply(this,At[St]);else for(const _t of At[St]){const jt=_t.startsWith("g_")?Pt:xt;if(!jt.has(_t))return jt.get(_t,bt),St}if(St++,St===Ft)return St;if(vt&&++Mt>EXECUTION_STEPS){if(Date.now()>Et)return bt(),St;Mt=0}}}endDrawing(){Dn(this,p0,cy).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const $ of this._cachedBitmapsMap.values()){for(const ht of $.values())typeof HTMLCanvasElement<"u"&&ht instanceof HTMLCanvasElement&&(ht.width=ht.height=0);$.clear()}this._cachedBitmapsMap.clear(),Dn(this,p0,uy).call(this)}_scaleImage($,ht){const bt=$.width,wt=$.height;let At=Math.max(Math.hypot(ht[0],ht[1]),1),Ct=Math.max(Math.hypot(ht[2],ht[3]),1),St=bt,Ft=wt,vt="prescale1",Et,Mt;for(;At>2&&St>1||Ct>2&&Ft>1;){let Pt=St,xt=Ft;At>2&&St>1&&(Pt=St>=16384?Math.floor(St/2)-1||1:Math.ceil(St/2),At/=St/Pt),Ct>2&&Ft>1&&(xt=Ft>=16384?Math.floor(Ft/2)-1||1:Math.ceil(Ft)/2,Ct/=Ft/xt),Et=this.cachedCanvases.getCanvas(vt,Pt,xt),Mt=Et.context,Mt.clearRect(0,0,Pt,xt),Mt.drawImage($,0,0,St,Ft,0,0,Pt,xt),$=Et.canvas,St=Pt,Ft=xt,vt=vt==="prescale1"?"prescale2":"prescale1"}return{img:$,paintWidth:St,paintHeight:Ft}}_createMaskCanvas($){const ht=this.ctx,{width:bt,height:wt}=$,At=this.current.fillColor,Ct=this.current.patternFill,St=getCurrentTransform(ht);let Ft,vt,Et,Mt;if(($.bitmap||$.data)&&$.count>1){const Vt=$.bitmap||$.data.buffer;vt=JSON.stringify(Ct?St:[St.slice(0,4),At]),Ft=this._cachedBitmapsMap.get(Vt),Ft||(Ft=new Map,this._cachedBitmapsMap.set(Vt,Ft));const Gt=Ft.get(vt);if(Gt&&!Ct){const Wt=Math.round(Math.min(St[0],St[2])+St[4]),en=Math.round(Math.min(St[1],St[3])+St[5]);return{canvas:Gt,offsetX:Wt,offsetY:en}}Et=Gt}Et||(Mt=this.cachedCanvases.getCanvas("maskCanvas",bt,wt),putBinaryImageMask(Mt.context,$));let Pt=Util.transform(St,[1/bt,0,0,-1/wt,0,0]);Pt=Util.transform(Pt,[1,0,0,1,0,-wt]);const[xt,$t,_t,jt]=Util.getAxialAlignedBoundingBox([0,0,bt,wt],Pt),Rt=Math.round(_t-xt)||1,Nt=Math.round(jt-$t)||1,Lt=this.cachedCanvases.getCanvas("fillCanvas",Rt,Nt),kt=Lt.context,Bt=xt,Ht=$t;kt.translate(-Bt,-Ht),kt.transform(...Pt),Et||(Et=this._scaleImage(Mt.canvas,getCurrentTransformInverse(kt)),Et=Et.img,Ft&&Ct&&Ft.set(vt,Et)),kt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(kt),$.interpolate),drawImageAtIntegerCoords(kt,Et,0,0,Et.width,Et.height,0,0,bt,wt),kt.globalCompositeOperation="source-in";const Ot=Util.transform(getCurrentTransformInverse(kt),[1,0,0,1,-Bt,-Ht]);return kt.fillStyle=Ct?At.getPattern(ht,this,Ot,PathType.FILL):At,kt.fillRect(0,0,bt,wt),Ft&&!Ct&&(this.cachedCanvases.delete("fillCanvas"),Ft.set(vt,Lt.canvas)),{canvas:Lt.canvas,offsetX:Math.round(Bt),offsetY:Math.round(Ht)}}setLineWidth($){$!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=$,this.ctx.lineWidth=$}setLineCap($){this.ctx.lineCap=LINE_CAP_STYLES[$]}setLineJoin($){this.ctx.lineJoin=LINE_JOIN_STYLES[$]}setMiterLimit($){this.ctx.miterLimit=$}setDash($,ht){const bt=this.ctx;bt.setLineDash!==void 0&&(bt.setLineDash($),bt.lineDashOffset=ht)}setRenderingIntent($){}setFlatness($){}setGState($){for(const[ht,bt]of $)switch(ht){case"LW":this.setLineWidth(bt);break;case"LC":this.setLineCap(bt);break;case"LJ":this.setLineJoin(bt);break;case"ML":this.setMiterLimit(bt);break;case"D":this.setDash(bt[0],bt[1]);break;case"RI":this.setRenderingIntent(bt);break;case"FL":this.setFlatness(bt);break;case"Font":this.setFont(bt[0],bt[1]);break;case"CA":this.current.strokeAlpha=bt;break;case"ca":this.current.fillAlpha=bt,this.ctx.globalAlpha=bt;break;case"BM":this.ctx.globalCompositeOperation=bt;break;case"SMask":this.current.activeSMask=bt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(bt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const $=this.inSMaskMode;this.current.activeSMask&&!$?this.beginSMaskMode():!this.current.activeSMask&&$&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const $=this.ctx.canvas.width,ht=this.ctx.canvas.height,bt="smaskGroupAt"+this.groupLevel,wt=this.cachedCanvases.getCanvas(bt,$,ht);this.suspendedCtx=this.ctx,this.ctx=wt.context;const At=this.ctx;At.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,At),mirrorContextOperations(At,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose($){if(!this.current.activeSMask)return;$?($[0]=Math.floor($[0]),$[1]=Math.floor($[1]),$[2]=Math.ceil($[2]),$[3]=Math.ceil($[3])):$=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ht=this.current.activeSMask,bt=this.suspendedCtx;this.composeSMask(bt,ht,this.ctx,$),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask($,ht,bt,wt){const At=wt[0],Ct=wt[1],St=wt[2]-At,Ft=wt[3]-Ct;St===0||Ft===0||(this.genericComposeSMask(ht.context,bt,St,Ft,ht.subtype,ht.backdrop,ht.transferMap,At,Ct,ht.offsetX,ht.offsetY),$.save(),$.globalAlpha=1,$.globalCompositeOperation="source-over",$.setTransform(1,0,0,1,0,0),$.drawImage(bt.canvas,0,0),$.restore())}genericComposeSMask($,ht,bt,wt,At,Ct,St,Ft,vt,Et,Mt){let Pt=$.canvas,xt=Ft-Et,$t=vt-Mt;if(Ct){if(xt<0||$t<0||xt+bt>Pt.width||$t+wt>Pt.height){const jt=this.cachedCanvases.getCanvas("maskExtension",bt,wt),Rt=jt.context;Rt.drawImage(Pt,-xt,-$t),Ct.some(Nt=>Nt!==0)&&(Rt.globalCompositeOperation="destination-atop",Rt.fillStyle=Util.makeHexColor(...Ct),Rt.fillRect(0,0,bt,wt),Rt.globalCompositeOperation="source-over"),Pt=jt.canvas,xt=$t=0}else if(Ct.some(jt=>jt!==0)){$.save(),$.globalAlpha=1,$.setTransform(1,0,0,1,0,0);const jt=new Path2D;jt.rect(xt,$t,bt,wt),$.clip(jt),$.globalCompositeOperation="destination-atop",$.fillStyle=Util.makeHexColor(...Ct),$.fillRect(xt,$t,bt,wt),$.restore()}}ht.save(),ht.globalAlpha=1,ht.setTransform(1,0,0,1,0,0),At==="Alpha"&&St?ht.filter=this.filterFactory.addAlphaFilter(St):At==="Luminosity"&&(ht.filter=this.filterFactory.addLuminosityFilter(St));const _t=new Path2D;_t.rect(Ft,vt,bt,wt),ht.clip(_t),ht.globalCompositeOperation="destination-in",ht.drawImage(Pt,xt,$t,bt,wt,Ft,vt,bt,wt),ht.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const $=this.current;this.stateStack.push($),this.current=$.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform($,ht,bt,wt,At,Ct){this.ctx.transform($,ht,bt,wt,At,Ct),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath($,ht,bt){const wt=this.ctx,At=this.current;let Ct=At.x,St=At.y,Ft,vt;const Et=getCurrentTransform(wt),Mt=Et[0]===0&&Et[3]===0||Et[1]===0&&Et[2]===0,Pt=Mt?bt.slice(0):null;for(let xt=0,$t=0,_t=$.length;xt<_t;xt++)switch($[xt]|0){case OPS.rectangle:Ct=ht[$t++],St=ht[$t++];const jt=ht[$t++],Rt=ht[$t++],Nt=Ct+jt,Lt=St+Rt;wt.moveTo(Ct,St),jt===0||Rt===0?wt.lineTo(Nt,Lt):(wt.lineTo(Nt,St),wt.lineTo(Nt,Lt),wt.lineTo(Ct,Lt)),Mt||At.updateRectMinMax(Et,[Ct,St,Nt,Lt]),wt.closePath();break;case OPS.moveTo:Ct=ht[$t++],St=ht[$t++],wt.moveTo(Ct,St),Mt||At.updatePathMinMax(Et,Ct,St);break;case OPS.lineTo:Ct=ht[$t++],St=ht[$t++],wt.lineTo(Ct,St),Mt||At.updatePathMinMax(Et,Ct,St);break;case OPS.curveTo:Ft=Ct,vt=St,Ct=ht[$t+4],St=ht[$t+5],wt.bezierCurveTo(ht[$t],ht[$t+1],ht[$t+2],ht[$t+3],Ct,St),At.updateCurvePathMinMax(Et,Ft,vt,ht[$t],ht[$t+1],ht[$t+2],ht[$t+3],Ct,St,Pt),$t+=6;break;case OPS.curveTo2:Ft=Ct,vt=St,wt.bezierCurveTo(Ct,St,ht[$t],ht[$t+1],ht[$t+2],ht[$t+3]),At.updateCurvePathMinMax(Et,Ft,vt,Ct,St,ht[$t],ht[$t+1],ht[$t+2],ht[$t+3],Pt),Ct=ht[$t+2],St=ht[$t+3],$t+=4;break;case OPS.curveTo3:Ft=Ct,vt=St,Ct=ht[$t+2],St=ht[$t+3],wt.bezierCurveTo(ht[$t],ht[$t+1],Ct,St,Ct,St),At.updateCurvePathMinMax(Et,Ft,vt,ht[$t],ht[$t+1],Ct,St,Ct,St,Pt),$t+=4;break;case OPS.closePath:wt.closePath();break}Mt&&At.updateScalingPathMinMax(Et,Pt),At.setCurrentPoint(Ct,St)}closePath(){this.ctx.closePath()}stroke($=!0){const ht=this.ctx,bt=this.current.strokeColor;ht.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof bt=="object"&&(bt!=null&&bt.getPattern)?(ht.save(),ht.strokeStyle=bt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.STROKE),this.rescaleAndStroke(!1),ht.restore()):this.rescaleAndStroke(!0)),$&&this.consumePath(this.current.getClippedPathBoundingBox()),ht.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill($=!0){const ht=this.ctx,bt=this.current.fillColor,wt=this.current.patternFill;let At=!1;wt&&(ht.save(),ht.fillStyle=bt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.FILL),At=!0);const Ct=this.current.getClippedPathBoundingBox();this.contentVisible&&Ct!==null&&(this.pendingEOFill?(ht.fill("evenodd"),this.pendingEOFill=!1):ht.fill()),At&&ht.restore(),$&&this.consumePath(Ct)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const $=this.pendingTextPaths,ht=this.ctx;if($===void 0){ht.beginPath();return}ht.save(),ht.beginPath();for(const bt of $)ht.setTransform(...bt.transform),ht.translate(bt.x,bt.y),bt.addToPath(ht,bt.fontSize);ht.restore(),ht.clip(),ht.beginPath(),delete this.pendingTextPaths}setCharSpacing($){this.current.charSpacing=$}setWordSpacing($){this.current.wordSpacing=$}setHScale($){this.current.textHScale=$/100}setLeading($){this.current.leading=-$}setFont($,ht){var Et;const bt=this.commonObjs.get($),wt=this.current;if(!bt)throw new Error(`Can't find font for ${$}`);if(wt.fontMatrix=bt.fontMatrix||FONT_IDENTITY_MATRIX,(wt.fontMatrix[0]===0||wt.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+$),ht<0?(ht=-ht,wt.fontDirection=-1):wt.fontDirection=1,this.current.font=bt,this.current.fontSize=ht,bt.isType3Font)return;const At=bt.loadedName||"sans-serif",Ct=((Et=bt.systemFontInfo)==null?void 0:Et.css)||`"${At}", ${bt.fallbackName}`;let St="normal";bt.black?St="900":bt.bold&&(St="bold");const Ft=bt.italic?"italic":"normal";let vt=ht;ht<MIN_FONT_SIZE?vt=MIN_FONT_SIZE:ht>MAX_FONT_SIZE&&(vt=MAX_FONT_SIZE),this.current.fontSizeScale=ht/vt,this.ctx.font=`${Ft} ${St} ${vt}px ${Ct}`}setTextRenderingMode($){this.current.textRenderingMode=$}setTextRise($){this.current.textRise=$}moveText($,ht){this.current.x=this.current.lineX+=$,this.current.y=this.current.lineY+=ht}setLeadingMoveText($,ht){this.setLeading(-ht),this.moveText($,ht)}setTextMatrix($,ht,bt,wt,At,Ct){this.current.textMatrix=[$,ht,bt,wt,At,Ct],this.current.textMatrixScale=Math.hypot($,ht),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar($,ht,bt,wt){const At=this.ctx,Ct=this.current,St=Ct.font,Ft=Ct.textRenderingMode,vt=Ct.fontSize/Ct.fontSizeScale,Et=Ft&TextRenderingMode.FILL_STROKE_MASK,Mt=!!(Ft&TextRenderingMode.ADD_TO_PATH_FLAG),Pt=Ct.patternFill&&!St.missingFile;let xt;(St.disableFontFace||Mt||Pt)&&(xt=St.getPathGenerator(this.commonObjs,$)),St.disableFontFace||Pt?(At.save(),At.translate(ht,bt),At.beginPath(),xt(At,vt),wt&&At.setTransform(...wt),(Et===TextRenderingMode.FILL||Et===TextRenderingMode.FILL_STROKE)&&At.fill(),(Et===TextRenderingMode.STROKE||Et===TextRenderingMode.FILL_STROKE)&&At.stroke(),At.restore()):((Et===TextRenderingMode.FILL||Et===TextRenderingMode.FILL_STROKE)&&At.fillText($,ht,bt),(Et===TextRenderingMode.STROKE||Et===TextRenderingMode.FILL_STROKE)&&At.strokeText($,ht,bt)),Mt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(At),x:ht,y:bt,fontSize:vt,addToPath:xt})}get isFontSubpixelAAEnabled(){const{context:$}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);$.scale(1.5,1),$.fillText("I",0,10);const ht=$.getImageData(0,0,10,10).data;let bt=!1;for(let wt=3;wt<ht.length;wt+=4)if(ht[wt]>0&&ht[wt]<255){bt=!0;break}return shadow(this,"isFontSubpixelAAEnabled",bt)}showText($){const ht=this.current,bt=ht.font;if(bt.isType3Font)return this.showType3Text($);const wt=ht.fontSize;if(wt===0)return;const At=this.ctx,Ct=ht.fontSizeScale,St=ht.charSpacing,Ft=ht.wordSpacing,vt=ht.fontDirection,Et=ht.textHScale*vt,Mt=$.length,Pt=bt.vertical,xt=Pt?1:-1,$t=bt.defaultVMetrics,_t=wt*ht.fontMatrix[0],jt=ht.textRenderingMode===TextRenderingMode.FILL&&!bt.disableFontFace&&!ht.patternFill;At.save(),At.transform(...ht.textMatrix),At.translate(ht.x,ht.y+ht.textRise),vt>0?At.scale(Et,-1):At.scale(Et,1);let Rt;if(ht.patternFill){At.save();const Ht=ht.fillColor.getPattern(At,this,getCurrentTransformInverse(At),PathType.FILL);Rt=getCurrentTransform(At),At.restore(),At.fillStyle=Ht}let Nt=ht.lineWidth;const Lt=ht.textMatrixScale;if(Lt===0||Nt===0){const Ht=ht.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(Ht===TextRenderingMode.STROKE||Ht===TextRenderingMode.FILL_STROKE)&&(Nt=this.getSinglePixelWidth())}else Nt/=Lt;if(Ct!==1&&(At.scale(Ct,Ct),Nt/=Ct),At.lineWidth=Nt,bt.isInvalidPDFjsFont){const Ht=[];let Ot=0;for(const Vt of $)Ht.push(Vt.unicode),Ot+=Vt.width;At.fillText(Ht.join(""),0,0),ht.x+=Ot*_t*Et,At.restore(),this.compose();return}let kt=0,Bt;for(Bt=0;Bt<Mt;++Bt){const Ht=$[Bt];if(typeof Ht=="number"){kt+=xt*Ht*wt/1e3;continue}let Ot=!1;const Vt=(Ht.isSpace?Ft:0)+St,Gt=Ht.fontChar,Wt=Ht.accent;let en,Sn,sn=Ht.width;if(Pt){const Qt=Ht.vmetric||$t,qt=-(Ht.vmetric?Qt[1]:sn*.5)*_t,nn=Qt[2]*_t;sn=Qt?-Qt[0]:sn,en=qt/Ct,Sn=(kt+nn)/Ct}else en=kt/Ct,Sn=0;if(bt.remeasure&&sn>0){const Qt=At.measureText(Gt).width*1e3/wt*Ct;if(sn<Qt&&this.isFontSubpixelAAEnabled){const qt=sn/Qt;Ot=!0,At.save(),At.scale(qt,1),en/=qt}else sn!==Qt&&(en+=(sn-Qt)/2e3*wt/Ct)}if(this.contentVisible&&(Ht.isInFont||bt.missingFile)){if(jt&&!Wt)At.fillText(Gt,en,Sn);else if(this.paintChar(Gt,en,Sn,Rt),Wt){const Qt=en+wt*Wt.offset.x/Ct,qt=Sn-wt*Wt.offset.y/Ct;this.paintChar(Wt.fontChar,Qt,qt,Rt)}}const hn=Pt?sn*_t-Vt*vt:sn*_t+Vt*vt;kt+=hn,Ot&&At.restore()}Pt?ht.y-=kt:ht.x+=kt*Et,At.restore(),this.compose()}showType3Text($){const ht=this.ctx,bt=this.current,wt=bt.font,At=bt.fontSize,Ct=bt.fontDirection,St=wt.vertical?1:-1,Ft=bt.charSpacing,vt=bt.wordSpacing,Et=bt.textHScale*Ct,Mt=bt.fontMatrix||FONT_IDENTITY_MATRIX,Pt=$.length,xt=bt.textRenderingMode===TextRenderingMode.INVISIBLE;let $t,_t,jt,Rt;if(!(xt||At===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ht.save(),ht.transform(...bt.textMatrix),ht.translate(bt.x,bt.y),ht.scale(Et,Ct),$t=0;$t<Pt;++$t){if(_t=$[$t],typeof _t=="number"){Rt=St*_t*At/1e3,this.ctx.translate(Rt,0),bt.x+=Rt*Et;continue}const Nt=(_t.isSpace?vt:0)+Ft,Lt=wt.charProcOperatorList[_t.operatorListId];if(!Lt){warn(`Type3 character "${_t.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=_t,this.save(),ht.scale(At,At),ht.transform(...Mt),this.executeOperatorList(Lt),this.restore()),jt=Util.applyTransform([_t.width,0],Mt)[0]*At+Nt,ht.translate(jt,0),bt.x+=jt*Et}ht.restore(),this.processingType3=null}}setCharWidth($,ht){}setCharWidthAndBounds($,ht,bt,wt,At,Ct){this.ctx.rect(bt,wt,At-bt,Ct-wt),this.ctx.clip(),this.endPath()}getColorN_Pattern($){let ht;if($[0]==="TilingPattern"){const bt=$[1],wt=this.baseTransform||getCurrentTransform(this.ctx),At={createCanvasGraphics:Ct=>new r9(Ct,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ht=new TilingPattern($,bt,this.ctx,At,wt)}else ht=this._getPattern($[1],$[2]);return ht}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor($,ht,bt){const wt=Util.makeHexColor($,ht,bt);this.ctx.strokeStyle=wt,this.current.strokeColor=wt}setFillRGBColor($,ht,bt){const wt=Util.makeHexColor($,ht,bt);this.ctx.fillStyle=wt,this.current.fillColor=wt,this.current.patternFill=!1}_getPattern($,ht=null){let bt;return this.cachedPatterns.has($)?bt=this.cachedPatterns.get($):(bt=getShadingPattern(this.getObject($)),this.cachedPatterns.set($,bt)),ht&&(bt.matrix=ht),bt}shadingFill($){if(!this.contentVisible)return;const ht=this.ctx;this.save();const bt=this._getPattern($);ht.fillStyle=bt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.SHADING);const wt=getCurrentTransformInverse(ht);if(wt){const{width:At,height:Ct}=ht.canvas,[St,Ft,vt,Et]=Util.getAxialAlignedBoundingBox([0,0,At,Ct],wt);this.ctx.fillRect(St,Ft,vt-St,Et-Ft)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin($,ht){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),$&&this.transform(...$),this.baseTransform=getCurrentTransform(this.ctx),ht)){const bt=ht[2]-ht[0],wt=ht[3]-ht[1];this.ctx.rect(ht[0],ht[1],bt,wt),this.current.updateRectMinMax(getCurrentTransform(this.ctx),ht),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup($){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ht=this.ctx;$.isolated||info("TODO: Support non-isolated groups."),$.knockout&&warn("Knockout groups not supported.");const bt=getCurrentTransform(ht);if($.matrix&&ht.transform(...$.matrix),!$.bbox)throw new Error("Bounding box is required.");let wt=Util.getAxialAlignedBoundingBox($.bbox,getCurrentTransform(ht));const At=[0,0,ht.canvas.width,ht.canvas.height];wt=Util.intersect(wt,At)||[0,0,0,0];const Ct=Math.floor(wt[0]),St=Math.floor(wt[1]),Ft=Math.max(Math.ceil(wt[2])-Ct,1),vt=Math.max(Math.ceil(wt[3])-St,1);this.current.startNewPathAndClipBox([0,0,Ft,vt]);let Et="groupAt"+this.groupLevel;$.smask&&(Et+="_smask_"+this.smaskCounter++%2);const Mt=this.cachedCanvases.getCanvas(Et,Ft,vt),Pt=Mt.context;Pt.translate(-Ct,-St),Pt.transform(...bt),$.smask?this.smaskStack.push({canvas:Mt.canvas,context:Pt,offsetX:Ct,offsetY:St,subtype:$.smask.subtype,backdrop:$.smask.backdrop,transferMap:$.smask.transferMap||null,startTransformInverse:null}):(ht.setTransform(1,0,0,1,0,0),ht.translate(Ct,St),ht.save()),copyCtxState(ht,Pt),this.ctx=Pt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ht),this.groupLevel++}endGroup($){if(!this.contentVisible)return;this.groupLevel--;const ht=this.ctx,bt=this.groupStack.pop();if(this.ctx=bt,this.ctx.imageSmoothingEnabled=!1,$.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const wt=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...wt);const At=Util.getAxialAlignedBoundingBox([0,0,ht.canvas.width,ht.canvas.height],wt);this.ctx.drawImage(ht.canvas,0,0),this.ctx.restore(),this.compose(At)}}beginAnnotation($,ht,bt,wt,At){if(Dn(this,p0,cy).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),ht){const Ct=ht[2]-ht[0],St=ht[3]-ht[1];if(At&&this.annotationCanvasMap){bt=bt.slice(),bt[4]-=ht[0],bt[5]-=ht[1],ht=ht.slice(),ht[0]=ht[1]=0,ht[2]=Ct,ht[3]=St;const[Ft,vt]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:Et}=this,Mt=Math.ceil(Ct*this.outputScaleX*Et),Pt=Math.ceil(St*this.outputScaleY*Et);this.annotationCanvas=this.canvasFactory.create(Mt,Pt);const{canvas:xt,context:$t}=this.annotationCanvas;this.annotationCanvasMap.set($,xt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=$t,this.ctx.save(),this.ctx.setTransform(Ft,0,0,-vt,0,St*vt),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.ctx.rect(ht[0],ht[1],Ct,St),this.ctx.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...bt),this.transform(...wt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Dn(this,p0,uy).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject($){if(!this.contentVisible)return;const ht=$.count;$=this.getObject($.data,$),$.count=ht;const bt=this.ctx,wt=this.processingType3;if(wt&&(wt.compiled===void 0&&(wt.compiled=compileType3Glyph($)),wt.compiled)){wt.compiled(bt);return}const At=this._createMaskCanvas($),Ct=At.canvas;bt.save(),bt.setTransform(1,0,0,1,0,0),bt.drawImage(Ct,At.offsetX,At.offsetY),bt.restore(),this.compose()}paintImageMaskXObjectRepeat($,ht,bt=0,wt=0,At,Ct){if(!this.contentVisible)return;$=this.getObject($.data,$);const St=this.ctx;St.save();const Ft=getCurrentTransform(St);St.transform(ht,bt,wt,At,0,0);const vt=this._createMaskCanvas($);St.setTransform(1,0,0,1,vt.offsetX-Ft[4],vt.offsetY-Ft[5]);for(let Et=0,Mt=Ct.length;Et<Mt;Et+=2){const Pt=Util.transform(Ft,[ht,bt,wt,At,Ct[Et],Ct[Et+1]]),[xt,$t]=Util.applyTransform([0,0],Pt);St.drawImage(vt.canvas,xt,$t)}St.restore(),this.compose()}paintImageMaskXObjectGroup($){if(!this.contentVisible)return;const ht=this.ctx,bt=this.current.fillColor,wt=this.current.patternFill;for(const At of $){const{data:Ct,width:St,height:Ft,transform:vt}=At,Et=this.cachedCanvases.getCanvas("maskCanvas",St,Ft),Mt=Et.context;Mt.save();const Pt=this.getObject(Ct,At);putBinaryImageMask(Mt,Pt),Mt.globalCompositeOperation="source-in",Mt.fillStyle=wt?bt.getPattern(Mt,this,getCurrentTransformInverse(ht),PathType.FILL):bt,Mt.fillRect(0,0,St,Ft),Mt.restore(),ht.save(),ht.transform(...vt),ht.scale(1,-1),drawImageAtIntegerCoords(ht,Et.canvas,0,0,St,Ft,0,-1,1,1),ht.restore()}this.compose()}paintImageXObject($){if(!this.contentVisible)return;const ht=this.getObject($);if(!ht){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ht)}paintImageXObjectRepeat($,ht,bt,wt){if(!this.contentVisible)return;const At=this.getObject($);if(!At){warn("Dependent image isn't ready yet");return}const Ct=At.width,St=At.height,Ft=[];for(let vt=0,Et=wt.length;vt<Et;vt+=2)Ft.push({transform:[ht,0,0,bt,wt[vt],wt[vt+1]],x:0,y:0,w:Ct,h:St});this.paintInlineImageXObjectGroup(At,Ft)}applyTransferMapsToCanvas($){return this.current.transferMaps!=="none"&&($.filter=this.current.transferMaps,$.drawImage($.canvas,0,0),$.filter="none"),$.canvas}applyTransferMapsToBitmap($){if(this.current.transferMaps==="none")return $.bitmap;const{bitmap:ht,width:bt,height:wt}=$,At=this.cachedCanvases.getCanvas("inlineImage",bt,wt),Ct=At.context;return Ct.filter=this.current.transferMaps,Ct.drawImage(ht,0,0),Ct.filter="none",At.canvas}paintInlineImageXObject($){if(!this.contentVisible)return;const ht=$.width,bt=$.height,wt=this.ctx;if(this.save(),!isNodeJS){const{filter:St}=wt;St!=="none"&&St!==""&&(wt.filter="none")}wt.scale(1/ht,-1/bt);let At;if($.bitmap)At=this.applyTransferMapsToBitmap($);else if(typeof HTMLElement=="function"&&$ instanceof HTMLElement||!$.data)At=$;else{const Ft=this.cachedCanvases.getCanvas("inlineImage",ht,bt).context;putBinaryImageData(Ft,$),At=this.applyTransferMapsToCanvas(Ft)}const Ct=this._scaleImage(At,getCurrentTransformInverse(wt));wt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(wt),$.interpolate),drawImageAtIntegerCoords(wt,Ct.img,0,0,Ct.paintWidth,Ct.paintHeight,0,-bt,ht,bt),this.compose(),this.restore()}paintInlineImageXObjectGroup($,ht){if(!this.contentVisible)return;const bt=this.ctx;let wt;if($.bitmap)wt=$.bitmap;else{const At=$.width,Ct=$.height,Ft=this.cachedCanvases.getCanvas("inlineImage",At,Ct).context;putBinaryImageData(Ft,$),wt=this.applyTransferMapsToCanvas(Ft)}for(const At of ht)bt.save(),bt.transform(...At.transform),bt.scale(1,-1),drawImageAtIntegerCoords(bt,wt,At.x,At.y,At.w,At.h,0,-1,1,1),bt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint($){}markPointProps($,ht){}beginMarkedContent($){this.markedContentStack.push({visible:!0})}beginMarkedContentProps($,ht){$==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ht)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath($){const ht=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose($);const bt=this.ctx;this.pendingClip&&(ht||(this.pendingClip===EO_CLIP?bt.clip("evenodd"):bt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),bt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const $=getCurrentTransform(this.ctx);if($[1]===0&&$[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs($[0]),Math.abs($[3]));else{const ht=Math.abs($[0]*$[3]-$[2]*$[1]),bt=Math.hypot($[0],$[2]),wt=Math.hypot($[1],$[3]);this._cachedGetSinglePixelWidth=Math.max(bt,wt)/ht}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:$}=this.current,{a:ht,b:bt,c:wt,d:At}=this.ctx.getTransform();let Ct,St;if(bt===0&&wt===0){const Ft=Math.abs(ht),vt=Math.abs(At);if(Ft===vt)if($===0)Ct=St=1/Ft;else{const Et=Ft*$;Ct=St=Et<1?1/Et:1}else if($===0)Ct=1/Ft,St=1/vt;else{const Et=Ft*$,Mt=vt*$;Ct=Et<1?1/Et:1,St=Mt<1?1/Mt:1}}else{const Ft=Math.abs(ht*At-bt*wt),vt=Math.hypot(ht,bt),Et=Math.hypot(wt,At);if($===0)Ct=Et/Ft,St=vt/Ft;else{const Mt=$*Ft;Ct=Et>Mt?Et/Mt:1,St=vt>Mt?vt/Mt:1}}this._cachedScaleForStroking[0]=Ct,this._cachedScaleForStroking[1]=St}return this._cachedScaleForStroking}rescaleAndStroke($){const{ctx:ht}=this,{lineWidth:bt}=this.current,[wt,At]=this.getScaleForStroking();if(ht.lineWidth=bt||1,wt===1&&At===1){ht.stroke();return}const Ct=ht.getLineDash();if($&&ht.save(),ht.scale(wt,At),Ct.length>0){const St=Math.max(wt,At);ht.setLineDash(Ct.map(Ft=>Ft/St)),ht.lineDashOffset/=St}ht.stroke(),$&&ht.restore()}isContentVisible(){for(let $=this.markedContentStack.length-1;$>=0;$--)if(!this.markedContentStack[$].visible)return!1;return!0}};p0=new WeakSet,cy=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},uy=function(){if(this.pageColors){const $=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if($!=="none"){const ht=this.ctx.filter;this.ctx.filter=$,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=ht}}};let CanvasGraphics=r9;for(const _e in OPS)CanvasGraphics.prototype[_e]!==void 0&&(CanvasGraphics.prototype[OPS[_e]]=CanvasGraphics.prototype[_e]);var Im,Dm;class GlobalWorkerOptions{static get workerPort(){return Xt(this,Im)}static set workerPort($){if(!(typeof Worker<"u"&&$ instanceof Worker)&&$!==null)throw new Error("Invalid `workerPort` type.");Ln(this,Im,$)}static get workerSrc(){return Xt(this,Dm)}static set workerSrc($){if(typeof $!="string")throw new Error("Invalid `workerSrc` type.");Ln(this,Dm,$)}}Im=new WeakMap,Dm=new WeakMap,$n(GlobalWorkerOptions,Im,null),$n(GlobalWorkerOptions,Dm,"");const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new AbortException(_e.message);case"MissingPDFException":return new MissingPDFException(_e.message);case"PasswordException":return new PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new UnknownErrorException(_e.message,_e.details);default:return new UnknownErrorException(_e.message,_e.toString())}}var nu,U9,H9,Gx;class MessageHandler{constructor($,ht,bt){$n(this,nu);this.sourceName=$,this.targetName=ht,this.comObj=bt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=wt=>{const At=wt.data;if(At.targetName!==this.sourceName)return;if(At.stream){Dn(this,nu,H9).call(this,At);return}if(At.callback){const St=At.callbackId,Ft=this.callbackCapabilities[St];if(!Ft)throw new Error(`Cannot resolve callback ${St}`);if(delete this.callbackCapabilities[St],At.callback===CallbackKind.DATA)Ft.resolve(At.data);else if(At.callback===CallbackKind.ERROR)Ft.reject(wrapReason(At.reason));else throw new Error("Unexpected callback case");return}const Ct=this.actionHandler[At.action];if(!Ct)throw new Error(`Unknown action from worker: ${At.action}`);if(At.callbackId){const St=this.sourceName,Ft=At.sourceName;new Promise(function(vt){vt(Ct(At.data))}).then(function(vt){bt.postMessage({sourceName:St,targetName:Ft,callback:CallbackKind.DATA,callbackId:At.callbackId,data:vt})},function(vt){bt.postMessage({sourceName:St,targetName:Ft,callback:CallbackKind.ERROR,callbackId:At.callbackId,reason:wrapReason(vt)})});return}if(At.streamId){Dn(this,nu,U9).call(this,At);return}Ct(At.data)},bt.addEventListener("message",this._onComObjOnMessage)}on($,ht){const bt=this.actionHandler;if(bt[$])throw new Error(`There is already an actionName called "${$}"`);bt[$]=ht}send($,ht,bt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,data:ht},bt)}sendWithPromise($,ht,bt){const wt=this.callbackId++,At=Promise.withResolvers();this.callbackCapabilities[wt]=At;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,callbackId:wt,data:ht},bt)}catch(Ct){At.reject(Ct)}return At.promise}sendWithStream($,ht,bt,wt){const At=this.streamId++,Ct=this.sourceName,St=this.targetName,Ft=this.comObj;return new ReadableStream({start:vt=>{const Et=Promise.withResolvers();return this.streamControllers[At]={controller:vt,startCall:Et,pullCall:null,cancelCall:null,isClosed:!1},Ft.postMessage({sourceName:Ct,targetName:St,action:$,streamId:At,data:ht,desiredSize:vt.desiredSize},wt),Et.promise},pull:vt=>{const Et=Promise.withResolvers();return this.streamControllers[At].pullCall=Et,Ft.postMessage({sourceName:Ct,targetName:St,stream:StreamKind.PULL,streamId:At,desiredSize:vt.desiredSize}),Et.promise},cancel:vt=>{assert(vt instanceof Error,"cancel must have a valid reason");const Et=Promise.withResolvers();return this.streamControllers[At].cancelCall=Et,this.streamControllers[At].isClosed=!0,Ft.postMessage({sourceName:Ct,targetName:St,stream:StreamKind.CANCEL,streamId:At,reason:wrapReason(vt)}),Et.promise}},bt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}nu=new WeakSet,U9=function($){const ht=$.streamId,bt=this.sourceName,wt=$.sourceName,At=this.comObj,Ct=this,St=this.actionHandler[$.action],Ft={enqueue(vt,Et=1,Mt){if(this.isCancelled)return;const Pt=this.desiredSize;this.desiredSize-=Et,Pt>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),At.postMessage({sourceName:bt,targetName:wt,stream:StreamKind.ENQUEUE,streamId:ht,chunk:vt},Mt)},close(){this.isCancelled||(this.isCancelled=!0,At.postMessage({sourceName:bt,targetName:wt,stream:StreamKind.CLOSE,streamId:ht}),delete Ct.streamSinks[ht])},error(vt){assert(vt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,At.postMessage({sourceName:bt,targetName:wt,stream:StreamKind.ERROR,streamId:ht,reason:wrapReason(vt)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:$.desiredSize,ready:null};Ft.sinkCapability.resolve(),Ft.ready=Ft.sinkCapability.promise,this.streamSinks[ht]=Ft,new Promise(function(vt){vt(St($.data,Ft))}).then(function(){At.postMessage({sourceName:bt,targetName:wt,stream:StreamKind.START_COMPLETE,streamId:ht,success:!0})},function(vt){At.postMessage({sourceName:bt,targetName:wt,stream:StreamKind.START_COMPLETE,streamId:ht,reason:wrapReason(vt)})})},H9=function($){const ht=$.streamId,bt=this.sourceName,wt=$.sourceName,At=this.comObj,Ct=this.streamControllers[ht],St=this.streamSinks[ht];switch($.stream){case StreamKind.START_COMPLETE:$.success?Ct.startCall.resolve():Ct.startCall.reject(wrapReason($.reason));break;case StreamKind.PULL_COMPLETE:$.success?Ct.pullCall.resolve():Ct.pullCall.reject(wrapReason($.reason));break;case StreamKind.PULL:if(!St){At.postMessage({sourceName:bt,targetName:wt,stream:StreamKind.PULL_COMPLETE,streamId:ht,success:!0});break}St.desiredSize<=0&&$.desiredSize>0&&St.sinkCapability.resolve(),St.desiredSize=$.desiredSize,new Promise(function(Ft){var vt;Ft((vt=St.onPull)==null?void 0:vt.call(St))}).then(function(){At.postMessage({sourceName:bt,targetName:wt,stream:StreamKind.PULL_COMPLETE,streamId:ht,success:!0})},function(Ft){At.postMessage({sourceName:bt,targetName:wt,stream:StreamKind.PULL_COMPLETE,streamId:ht,reason:wrapReason(Ft)})});break;case StreamKind.ENQUEUE:if(assert(Ct,"enqueue should have stream controller"),Ct.isClosed)break;Ct.controller.enqueue($.chunk);break;case StreamKind.CLOSE:if(assert(Ct,"close should have stream controller"),Ct.isClosed)break;Ct.isClosed=!0,Ct.controller.close(),Dn(this,nu,Gx).call(this,Ct,ht);break;case StreamKind.ERROR:assert(Ct,"error should have stream controller"),Ct.controller.error(wrapReason($.reason)),Dn(this,nu,Gx).call(this,Ct,ht);break;case StreamKind.CANCEL_COMPLETE:$.success?Ct.cancelCall.resolve():Ct.cancelCall.reject(wrapReason($.reason)),Dn(this,nu,Gx).call(this,Ct,ht);break;case StreamKind.CANCEL:if(!St)break;new Promise(function(Ft){var vt;Ft((vt=St.onCancel)==null?void 0:vt.call(St,wrapReason($.reason)))}).then(function(){At.postMessage({sourceName:bt,targetName:wt,stream:StreamKind.CANCEL_COMPLETE,streamId:ht,success:!0})},function(Ft){At.postMessage({sourceName:bt,targetName:wt,stream:StreamKind.CANCEL_COMPLETE,streamId:ht,reason:wrapReason(Ft)})}),St.sinkCapability.reject(wrapReason($.reason)),St.isCancelled=!0,delete this.streamSinks[ht];break;default:throw new Error("Unexpected stream case")}},Gx=async function($,ht){var bt,wt,At;await Promise.allSettled([(bt=$.startCall)==null?void 0:bt.promise,(wt=$.pullCall)==null?void 0:wt.promise,(At=$.cancelCall)==null?void 0:At.promise]),delete this.streamControllers[ht]};var H0,Lm;class Metadata{constructor({parsedData:$,rawData:ht}){$n(this,H0);$n(this,Lm);Ln(this,H0,$),Ln(this,Lm,ht)}getRaw(){return Xt(this,Lm)}get($){return Xt(this,H0).get($)??null}getAll(){return objectFromMap(Xt(this,H0))}has($){return Xt(this,H0).has($)}}H0=new WeakMap,Lm=new WeakMap;const INTERNAL=Symbol("INTERNAL");var Nm,$m,Bm,Q1;class OptionalContentGroup{constructor($,{name:ht,intent:bt,usage:wt}){$n(this,Nm,!1);$n(this,$m,!1);$n(this,Bm,!1);$n(this,Q1,!0);Ln(this,Nm,!!($&RenderingIntentFlag.DISPLAY)),Ln(this,$m,!!($&RenderingIntentFlag.PRINT)),this.name=ht,this.intent=bt,this.usage=wt}get visible(){if(Xt(this,Bm))return Xt(this,Q1);if(!Xt(this,Q1))return!1;const{print:$,view:ht}=this.usage;return Xt(this,Nm)?(ht==null?void 0:ht.viewState)!=="OFF":Xt(this,$m)?($==null?void 0:$.printState)!=="OFF":!0}_setVisible($,ht,bt=!1){$!==INTERNAL&&unreachable("Internal method `_setVisible` called."),Ln(this,Bm,bt),Ln(this,Q1,ht)}}Nm=new WeakMap,$m=new WeakMap,Bm=new WeakMap,Q1=new WeakMap;var Ju,Xs,ep,tp,jm,hy;class OptionalContentConfig{constructor($,ht=RenderingIntentFlag.DISPLAY){$n(this,jm);$n(this,Ju,null);$n(this,Xs,new Map);$n(this,ep,null);$n(this,tp,null);if(this.renderingIntent=ht,this.name=null,this.creator=null,$!==null){this.name=$.name,this.creator=$.creator,Ln(this,tp,$.order);for(const bt of $.groups)Xt(this,Xs).set(bt.id,new OptionalContentGroup(ht,bt));if($.baseState==="OFF")for(const bt of Xt(this,Xs).values())bt._setVisible(INTERNAL,!1);for(const bt of $.on)Xt(this,Xs).get(bt)._setVisible(INTERNAL,!0);for(const bt of $.off)Xt(this,Xs).get(bt)._setVisible(INTERNAL,!1);Ln(this,ep,this.getHash())}}isVisible($){if(Xt(this,Xs).size===0)return!0;if(!$)return info("Optional content group not defined."),!0;if($.type==="OCG")return Xt(this,Xs).has($.id)?Xt(this,Xs).get($.id).visible:(warn(`Optional content group not found: ${$.id}`),!0);if($.type==="OCMD"){if($.expression)return Dn(this,jm,hy).call(this,$.expression);if(!$.policy||$.policy==="AnyOn"){for(const ht of $.ids){if(!Xt(this,Xs).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(Xt(this,Xs).get(ht).visible)return!0}return!1}else if($.policy==="AllOn"){for(const ht of $.ids){if(!Xt(this,Xs).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(!Xt(this,Xs).get(ht).visible)return!1}return!0}else if($.policy==="AnyOff"){for(const ht of $.ids){if(!Xt(this,Xs).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(!Xt(this,Xs).get(ht).visible)return!0}return!1}else if($.policy==="AllOff"){for(const ht of $.ids){if(!Xt(this,Xs).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(Xt(this,Xs).get(ht).visible)return!1}return!0}return warn(`Unknown optional content policy ${$.policy}.`),!0}return warn(`Unknown group type ${$.type}.`),!0}setVisibility($,ht=!0){const bt=Xt(this,Xs).get($);if(!bt){warn(`Optional content group not found: ${$}`);return}bt._setVisible(INTERNAL,!!ht,!0),Ln(this,Ju,null)}setOCGState({state:$,preserveRB:ht}){let bt;for(const wt of $){switch(wt){case"ON":case"OFF":case"Toggle":bt=wt;continue}const At=Xt(this,Xs).get(wt);if(At)switch(bt){case"ON":At._setVisible(INTERNAL,!0);break;case"OFF":At._setVisible(INTERNAL,!1);break;case"Toggle":At._setVisible(INTERNAL,!At.visible);break}}Ln(this,Ju,null)}get hasInitialVisibility(){return Xt(this,ep)===null||this.getHash()===Xt(this,ep)}getOrder(){return Xt(this,Xs).size?Xt(this,tp)?Xt(this,tp).slice():[...Xt(this,Xs).keys()]:null}getGroups(){return Xt(this,Xs).size>0?objectFromMap(Xt(this,Xs)):null}getGroup($){return Xt(this,Xs).get($)||null}getHash(){if(Xt(this,Ju)!==null)return Xt(this,Ju);const $=new MurmurHash3_64;for(const[ht,bt]of Xt(this,Xs))$.update(`${ht}:${bt.visible}`);return Ln(this,Ju,$.hexdigest())}}Ju=new WeakMap,Xs=new WeakMap,ep=new WeakMap,tp=new WeakMap,jm=new WeakSet,hy=function($){const ht=$.length;if(ht<2)return!0;const bt=$[0];for(let wt=1;wt<ht;wt++){const At=$[wt];let Ct;if(Array.isArray(At))Ct=Dn(this,jm,hy).call(this,At);else if(Xt(this,Xs).has(At))Ct=Xt(this,Xs).get(At).visible;else return warn(`Optional content group not found: ${At}`),!0;switch(bt){case"And":if(!Ct)return!1;break;case"Or":if(Ct)return!0;break;case"Not":return!Ct;default:return!0}}return bt==="And"};class PDFDataTransportStream{constructor($,{disableRange:ht=!1,disableStream:bt=!1}){assert($,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:wt,initialData:At,progressiveDone:Ct,contentDispositionFilename:St}=$;if(this._queuedChunks=[],this._progressiveDone=Ct,this._contentDispositionFilename=St,(At==null?void 0:At.length)>0){const Ft=At instanceof Uint8Array&&At.byteLength===At.buffer.byteLength?At.buffer:new Uint8Array(At).buffer;this._queuedChunks.push(Ft)}this._pdfDataRangeTransport=$,this._isStreamingSupported=!bt,this._isRangeSupported=!ht,this._contentLength=wt,this._fullRequestReader=null,this._rangeReaders=[],$.addRangeListener((Ft,vt)=>{this._onReceiveData({begin:Ft,chunk:vt})}),$.addProgressListener((Ft,vt)=>{this._onProgress({loaded:Ft,total:vt})}),$.addProgressiveReadListener(Ft=>{this._onReceiveData({chunk:Ft})}),$.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),$.transportReady()}_onReceiveData({begin:$,chunk:ht}){const bt=ht instanceof Uint8Array&&ht.byteLength===ht.buffer.byteLength?ht.buffer:new Uint8Array(ht).buffer;if($===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(bt):this._queuedChunks.push(bt);else{const wt=this._rangeReaders.some(function(At){return At._begin!==$?!1:(At._enqueue(bt),!0)});assert(wt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}_onProgress($){var ht,bt,wt,At;$.total===void 0?(bt=(ht=this._rangeReaders[0])==null?void 0:ht.onProgress)==null||bt.call(ht,{loaded:$.loaded}):(At=(wt=this._fullRequestReader)==null?void 0:wt.onProgress)==null||At.call(wt,{loaded:$.loaded,total:$.total})}_onProgressiveDone(){var $;($=this._fullRequestReader)==null||$.progressiveDone(),this._progressiveDone=!0}_removeRangeReader($){const ht=this._rangeReaders.indexOf($);ht>=0&&this._rangeReaders.splice(ht,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const $=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,$,this._progressiveDone,this._contentDispositionFilename)}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const bt=new PDFDataTransportStreamRangeReader(this,$,ht);return this._pdfDataRangeTransport.requestDataRange($,ht),this._rangeReaders.push(bt),bt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const bt of this._rangeReaders.slice(0))bt.cancel($);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor($,ht,bt=!1,wt=null){this._stream=$,this._done=bt||!1,this._filename=isPdfFile(wt)?wt:null,this._queuedChunks=ht||[],this._loaded=0;for(const At of this._queuedChunks)this._loaded+=At.byteLength;this._requests=[],this._headersReady=Promise.resolve(),$._fullRequestReader=this,this.onProgress=null}_enqueue($){this._done||(this._requests.length>0?this._requests.shift().resolve({value:$,done:!1}):this._queuedChunks.push($),this._loaded+=$.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor($,ht,bt){this._stream=$,this._begin=ht,this._end=bt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue($){if(!this._done){if(this._requests.length===0)this._queuedChunk=$;else{this._requests.shift().resolve({value:$,done:!1});for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(_e){let $=!0,ht=bt("filename\\*","i").exec(_e);if(ht){ht=ht[1];let Et=St(ht);return Et=unescape(Et),Et=Ft(Et),Et=vt(Et),At(Et)}if(ht=Ct(_e),ht){const Et=vt(ht);return At(Et)}if(ht=bt("filename","i").exec(_e),ht){ht=ht[1];let Et=St(ht);return Et=vt(Et),At(Et)}function bt(Et,Mt){return new RegExp("(?:^|;)\\s*"+Et+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Mt)}function wt(Et,Mt){if(Et){if(!/^[\x00-\xFF]+$/.test(Mt))return Mt;try{const Pt=new TextDecoder(Et,{fatal:!0}),xt=stringToBytes(Mt);Mt=Pt.decode(xt),$=!1}catch{}}return Mt}function At(Et){return $&&/[\x80-\xff]/.test(Et)&&(Et=wt("utf-8",Et),$&&(Et=wt("iso-8859-1",Et))),Et}function Ct(Et){const Mt=[];let Pt;const xt=bt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Pt=xt.exec(Et))!==null;){let[,_t,jt,Rt]=Pt;if(_t=parseInt(_t,10),_t in Mt){if(_t===0)break;continue}Mt[_t]=[jt,Rt]}const $t=[];for(let _t=0;_t<Mt.length&&_t in Mt;++_t){let[jt,Rt]=Mt[_t];Rt=St(Rt),jt&&(Rt=unescape(Rt),_t===0&&(Rt=Ft(Rt))),$t.push(Rt)}return $t.join("")}function St(Et){if(Et.startsWith('"')){const Mt=Et.slice(1).split('\\"');for(let Pt=0;Pt<Mt.length;++Pt){const xt=Mt[Pt].indexOf('"');xt!==-1&&(Mt[Pt]=Mt[Pt].slice(0,xt),Mt.length=Pt+1),Mt[Pt]=Mt[Pt].replaceAll(/\\(.)/g,"$1")}Et=Mt.join('"')}return Et}function Ft(Et){const Mt=Et.indexOf("'");if(Mt===-1)return Et;const Pt=Et.slice(0,Mt),$t=Et.slice(Mt+1).replace(/^[^']*'/,"");return wt(Pt,$t)}function vt(Et){return!Et.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Et)?Et:Et.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Mt,Pt,xt,$t){if(xt==="q"||xt==="Q")return $t=$t.replaceAll("_"," "),$t=$t.replaceAll(/=([0-9a-fA-F]{2})/g,function(_t,jt){return String.fromCharCode(parseInt(jt,16))}),wt(Pt,$t);try{$t=atob($t)}catch{}return wt(Pt,$t)})}return""}function validateRangeRequestCapabilities({getResponseHeader:_e,isHttp:$,rangeChunkSize:ht,disableRange:bt}){const wt={allowRangeRequests:!1,suggestedLength:void 0},At=parseInt(_e("Content-Length"),10);return!Number.isInteger(At)||(wt.suggestedLength=At,At<=2*ht)||bt||!$||_e("Accept-Ranges")!=="bytes"||(_e("Content-Encoding")||"identity")!=="identity"||(wt.allowRangeRequests=!0),wt}function extractFilenameFromHeader(_e){const $=_e("Content-Disposition");if($){let ht=getFilenameFromContentDispositionHeader($);if(ht.includes("%"))try{ht=decodeURIComponent(ht)}catch{}if(isPdfFile(ht))return ht}return null}function createResponseStatusError(_e,$){return _e===404||_e===0&&$.startsWith("file:")?new MissingPDFException('Missing PDF "'+$+'".'):new UnexpectedResponseException(`Unexpected server response (${_e}) while retrieving PDF "${$}".`,_e)}function validateResponseStatus(_e){return _e===200||_e===206}function createFetchOptions(_e,$,ht){return{method:"GET",headers:_e,signal:ht.signal,mode:"cors",credentials:$?"include":"same-origin",redirect:"follow"}}function createHeaders(_e){const $=new Headers;for(const ht in _e){const bt=_e[ht];bt!==void 0&&$.append(ht,bt)}return $}function getArrayBuffer(_e){return _e instanceof Uint8Array?_e.buffer:_e instanceof ArrayBuffer?_e:(warn(`getArrayBuffer - unexpected data format: ${_e}`),new Uint8Array(_e).buffer)}class PDFFetchStream{constructor($){this.source=$,this.isHttp=/^https?:/i.test($.url),this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const bt=new PDFFetchStreamRangeReader(this,$,ht);return this._rangeRequestReaders.push(bt),bt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const bt of this._rangeRequestReaders.slice(0))bt.cancel($)}}class PDFFetchStreamReader{constructor($){this._stream=$,this._reader=null,this._loaded=0,this._filename=null;const ht=$.source;this._withCredentials=ht.withCredentials||!1,this._contentLength=ht.length,this._headersCapability=Promise.withResolvers(),this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._headers=createHeaders(this._stream.httpHeaders);const bt=ht.url;fetch(bt,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(wt=>{if(!validateResponseStatus(wt.status))throw createResponseStatusError(wt.status,bt);this._reader=wt.body.getReader(),this._headersCapability.resolve();const At=Ft=>wt.headers.get(Ft),{allowRangeRequests:Ct,suggestedLength:St}=validateRangeRequestCapabilities({getResponseHeader:At,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ct,this._contentLength=St||this._contentLength,this._filename=extractFilenameFromHeader(At),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;await this._headersCapability.promise;const{value:$,done:ht}=await this._reader.read();return ht?{value:$,done:ht}:(this._loaded+=$.byteLength,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer($),done:!1})}cancel($){var ht;(ht=this._reader)==null||ht.cancel($),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor($,ht,bt){this._stream=$,this._reader=null,this._loaded=0;const wt=$.source;this._withCredentials=wt.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!wt.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ht}-${bt-1}`);const At=wt.url;fetch(At,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(Ct=>{if(!validateResponseStatus(Ct.status))throw createResponseStatusError(Ct.status,At);this._readCapability.resolve(),this._reader=Ct.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;await this._readCapability.promise;const{value:$,done:ht}=await this._reader.read();return ht?{value:$,done:ht}:(this._loaded+=$.byteLength,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded}),{value:getArrayBuffer($),done:!1})}cancel($){var ht;(ht=this._reader)==null||ht.cancel($),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(_e){const $=_e.response;return typeof $!="string"?$:stringToBytes($).buffer}class NetworkManager{constructor($,ht={}){this.url=$,this.isHttp=/^https?:/i.test($),this.httpHeaders=this.isHttp&&ht.httpHeaders||Object.create(null),this.withCredentials=ht.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange($,ht,bt){const wt={begin:$,end:ht};for(const At in bt)wt[At]=bt[At];return this.request(wt)}requestFull($){return this.request($)}request($){const ht=new XMLHttpRequest,bt=this.currXhrId++,wt=this.pendingRequests[bt]={xhr:ht};ht.open("GET",this.url),ht.withCredentials=this.withCredentials;for(const At in this.httpHeaders){const Ct=this.httpHeaders[At];Ct!==void 0&&ht.setRequestHeader(At,Ct)}return this.isHttp&&"begin"in $&&"end"in $?(ht.setRequestHeader("Range",`bytes=${$.begin}-${$.end-1}`),wt.expectedStatus=PARTIAL_CONTENT_RESPONSE):wt.expectedStatus=OK_RESPONSE,ht.responseType="arraybuffer",$.onError&&(ht.onerror=function(At){$.onError(ht.status)}),ht.onreadystatechange=this.onStateChange.bind(this,bt),ht.onprogress=this.onProgress.bind(this,bt),wt.onHeadersReceived=$.onHeadersReceived,wt.onDone=$.onDone,wt.onError=$.onError,wt.onProgress=$.onProgress,ht.send(null),bt}onProgress($,ht){var wt;const bt=this.pendingRequests[$];bt&&((wt=bt.onProgress)==null||wt.call(bt,ht))}onStateChange($,ht){var Ft,vt,Et;const bt=this.pendingRequests[$];if(!bt)return;const wt=bt.xhr;if(wt.readyState>=2&&bt.onHeadersReceived&&(bt.onHeadersReceived(),delete bt.onHeadersReceived),wt.readyState!==4||!($ in this.pendingRequests))return;if(delete this.pendingRequests[$],wt.status===0&&this.isHttp){(Ft=bt.onError)==null||Ft.call(bt,wt.status);return}const At=wt.status||OK_RESPONSE;if(!(At===OK_RESPONSE&&bt.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&At!==bt.expectedStatus){(vt=bt.onError)==null||vt.call(bt,wt.status);return}const St=network_getArrayBuffer(wt);if(At===PARTIAL_CONTENT_RESPONSE){const Mt=wt.getResponseHeader("Content-Range"),Pt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Mt);bt.onDone({begin:parseInt(Pt[1],10),chunk:St})}else St?bt.onDone({begin:0,chunk:St}):(Et=bt.onError)==null||Et.call(bt,wt.status)}getRequestXhr($){return this.pendingRequests[$].xhr}isPendingRequest($){return $ in this.pendingRequests}abortRequest($){const ht=this.pendingRequests[$].xhr;delete this.pendingRequests[$],ht.abort()}}class PDFNetworkStream{constructor($){this._source=$,this._manager=new NetworkManager($.url,{httpHeaders:$.httpHeaders,withCredentials:$.withCredentials}),this._rangeChunkSize=$.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed($){const ht=this._rangeRequestReaders.indexOf($);ht>=0&&this._rangeRequestReaders.splice(ht,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader($,ht){const bt=new PDFNetworkStreamRangeRequestReader(this._manager,$,ht);return bt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(bt),bt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const bt of this._rangeRequestReaders.slice(0))bt.cancel($)}}class PDFNetworkStreamFullRequestReader{constructor($,ht){this._manager=$;const bt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ht.url,this._fullRequestId=$.requestFull(bt),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=ht.disableRange||!1,this._contentLength=ht.length,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const $=this._fullRequestId,ht=this._manager.getRequestXhr($),bt=Ct=>ht.getResponseHeader(Ct),{allowRangeRequests:wt,suggestedLength:At}=validateRangeRequestCapabilities({getResponseHeader:bt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});wt&&(this._isRangeSupported=!0),this._contentLength=At||this._contentLength,this._filename=extractFilenameFromHeader(bt),this._isRangeSupported&&this._manager.abortRequest($),this._headersReceivedCapability.resolve()}_onDone($){if($&&(this._requests.length>0?this._requests.shift().resolve({value:$.chunk,done:!1}):this._cachedChunks.push($.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}}_onError($){this._storedError=createResponseStatusError($,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ht of this._requests)ht.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress($){var ht;(ht=this.onProgress)==null||ht.call(this,{loaded:$.loaded,total:$.lengthComputable?$.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0,this._headersReceivedCapability.reject($);for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor($,ht,bt){this._manager=$;const wt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=$.url,this._requestId=$.requestRange(ht,bt,wt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var $;($=this.onClosed)==null||$.call(this,this)}_onDone($){const ht=$.chunk;this._requests.length>0?this._requests.shift().resolve({value:ht,done:!1}):this._queuedChunk=ht,this._done=!0;for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError($){this._storedError=createResponseStatusError($,this._url);for(const ht of this._requests)ht.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress($){var ht;this.isStreamingSupported||(ht=this.onProgress)==null||ht.call(this,{loaded:$.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(_e){const $=NodePackages.get("url"),ht=$.parse(_e);return ht.protocol==="file:"||ht.host?ht:/^[a-z]:[/\\]/i.test(_e)?$.parse(`file:///${_e}`):(ht.host||(ht.protocol="file:"),ht)}class PDFNodeStream{constructor($){this.source=$,this.url=parseUrl($.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const bt=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,$,ht):new PDFNodeStreamRangeReader(this,$,ht);return this._rangeRequestReaders.push(bt),bt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const bt of this._rangeRequestReaders.slice(0))bt.cancel($)}}class BaseFullReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null;const ht=$.source;this._contentLength=ht.length,this._loaded=0,this._filename=null,this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",ht=>{this._error(ht)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const ht=$.source;this._isStreamingSupported=!ht.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",ht=>{this._error(ht)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(_e,$){return{protocol:_e.protocol,auth:_e.auth,host:_e.hostname,port:_e.port,path:_e.path,method:"GET",headers:$}}class PDFNodeStreamFullReader extends BaseFullReader{constructor($){super($);const ht=bt=>{if(bt.statusCode===404){const St=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=St,this._headersCapability.reject(St);return}this._headersCapability.resolve(),this._setReadableStream(bt);const wt=St=>this._readableStream.headers[St.toLowerCase()],{allowRangeRequests:At,suggestedLength:Ct}=validateRangeRequestCapabilities({getResponseHeader:wt,isHttp:$.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=At,this._contentLength=Ct||this._contentLength,this._filename=extractFilenameFromHeader(wt)};if(this._request=null,this._url.protocol==="http:"){const bt=NodePackages.get("http");this._request=bt.request(createRequestOptions(this._url,$.httpHeaders),ht)}else{const bt=NodePackages.get("https");this._request=bt.request(createRequestOptions(this._url,$.httpHeaders),ht)}this._request.on("error",bt=>{this._storedError=bt,this._headersCapability.reject(bt)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor($,ht,bt){super($),this._httpHeaders={};for(const At in $.httpHeaders){const Ct=$.httpHeaders[At];Ct!==void 0&&(this._httpHeaders[At]=Ct)}this._httpHeaders.Range=`bytes=${ht}-${bt-1}`;const wt=At=>{if(At.statusCode===404){const Ct=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ct;return}this._setReadableStream(At)};if(this._request=null,this._url.protocol==="http:"){const At=NodePackages.get("http");this._request=At.request(createRequestOptions(this._url,this._httpHeaders),wt)}else{const At=NodePackages.get("https");this._request=At.request(createRequestOptions(this._url,this._httpHeaders),wt)}this._request.on("error",At=>{this._storedError=At}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor($){super($);let ht=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(ht=ht.replace(/^\//,""));const bt=NodePackages.get("fs");bt.promises.lstat(ht).then(wt=>{this._contentLength=wt.size,this._setReadableStream(bt.createReadStream(ht)),this._headersCapability.resolve()},wt=>{wt.code==="ENOENT"&&(wt=new MissingPDFException(`Missing PDF "${ht}".`)),this._storedError=wt,this._headersCapability.reject(wt)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor($,ht,bt){super($);let wt=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(wt=wt.replace(/^\//,""));const At=NodePackages.get("fs");this._setReadableStream(At.createReadStream(wt,{start:ht,end:bt-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var m9,Zu,Lo,Um,Hm,V0,bu,Vm,zm,z0,np,ip,Qu,rp,Xm,sp,X0,Wm,Gm,W0,G0,ap,Iu,V9,z9,dy,d0,qx,X9;const wl=class wl{constructor({textContentSource:$,container:ht,viewport:bt}){$n(this,Iu);$n(this,Zu,Promise.withResolvers());$n(this,Lo,null);$n(this,Um,!1);$n(this,Hm,!!((m9=globalThis.FontInspector)!=null&&m9.enabled));$n(this,V0,null);$n(this,bu,null);$n(this,Vm,0);$n(this,zm,0);$n(this,z0,null);$n(this,np,null);$n(this,ip,0);$n(this,Qu,0);$n(this,rp,Object.create(null));$n(this,Xm,[]);$n(this,sp,null);$n(this,X0,[]);$n(this,Wm,new WeakMap);$n(this,Gm,null);if($ instanceof ReadableStream)Ln(this,sp,$);else if(typeof $=="object")Ln(this,sp,new ReadableStream({start(Ft){Ft.enqueue($),Ft.close()}}));else throw new Error('No "textContentSource" parameter specified.');Ln(this,Lo,Ln(this,np,ht)),Ln(this,Qu,bt.scale*(globalThis.devicePixelRatio||1)),Ln(this,ip,bt.rotation),Ln(this,bu,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:wt,pageHeight:At,pageX:Ct,pageY:St}=bt.rawDims;Ln(this,Gm,[1,0,0,-1,-Ct,St+At]),Ln(this,zm,wt),Ln(this,Vm,At),setLayerDimensions(ht,bt),Xt(this,Zu).promise.catch(()=>{}).then(()=>{Xt(wl,ap).delete(this),Ln(this,bu,null),Ln(this,rp,null)})}render(){const $=()=>{Xt(this,z0).read().then(({value:ht,done:bt})=>{if(bt){Xt(this,Zu).resolve();return}Xt(this,V0)??Ln(this,V0,ht.lang),Object.assign(Xt(this,rp),ht.styles),Dn(this,Iu,V9).call(this,ht.items),$()},Xt(this,Zu).reject)};return Ln(this,z0,Xt(this,sp).getReader()),Xt(wl,ap).add(this),$(),Xt(this,Zu).promise}update({viewport:$,onBefore:ht=null}){var At;const bt=$.scale*(globalThis.devicePixelRatio||1),wt=$.rotation;if(wt!==Xt(this,ip)&&(ht==null||ht(),Ln(this,ip,wt),setLayerDimensions(Xt(this,np),{rotation:wt})),bt!==Xt(this,Qu)){ht==null||ht(),Ln(this,Qu,bt);const Ct={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Dn(At=wl,d0,qx).call(At,Xt(this,V0))};for(const St of Xt(this,X0))Ct.properties=Xt(this,Wm).get(St),Ct.div=St,Dn(this,Iu,dy).call(this,Ct)}}cancel(){var ht;const $=new AbortException("TextLayer task cancelled.");(ht=Xt(this,z0))==null||ht.cancel($).catch(()=>{}),Ln(this,z0,null),Xt(this,Zu).reject($)}get textDivs(){return Xt(this,X0)}get textContentItemsStr(){return Xt(this,Xm)}static cleanup(){if(!(Xt(this,ap).size>0)){Xt(this,W0).clear();for(const{canvas:$}of Xt(this,G0).values())$.remove();Xt(this,G0).clear()}}};Zu=new WeakMap,Lo=new WeakMap,Um=new WeakMap,Hm=new WeakMap,V0=new WeakMap,bu=new WeakMap,Vm=new WeakMap,zm=new WeakMap,z0=new WeakMap,np=new WeakMap,ip=new WeakMap,Qu=new WeakMap,rp=new WeakMap,Xm=new WeakMap,sp=new WeakMap,X0=new WeakMap,Wm=new WeakMap,Gm=new WeakMap,W0=new WeakMap,G0=new WeakMap,ap=new WeakMap,Iu=new WeakSet,V9=function($){var wt,At;if(Xt(this,Um))return;(At=Xt(this,bu)).ctx||(At.ctx=Dn(wt=wl,d0,qx).call(wt,Xt(this,V0)));const ht=Xt(this,X0),bt=Xt(this,Xm);for(const Ct of $){if(ht.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),Ln(this,Um,!0);return}if(Ct.str===void 0){if(Ct.type==="beginMarkedContentProps"||Ct.type==="beginMarkedContent"){const St=Xt(this,Lo);Ln(this,Lo,document.createElement("span")),Xt(this,Lo).classList.add("markedContent"),Ct.id!==null&&Xt(this,Lo).setAttribute("id",`${Ct.id}`),St.append(Xt(this,Lo))}else Ct.type==="endMarkedContent"&&Ln(this,Lo,Xt(this,Lo).parentNode);continue}bt.push(Ct.str),Dn(this,Iu,z9).call(this,Ct)}},z9=function($){var _t;const ht=document.createElement("span"),bt={angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,fontSize:0};Xt(this,X0).push(ht);const wt=Util.transform(Xt(this,Gm),$.transform);let At=Math.atan2(wt[1],wt[0]);const Ct=Xt(this,rp)[$.fontName];Ct.vertical&&(At+=Math.PI/2);const St=Xt(this,Hm)&&Ct.fontSubstitution||Ct.fontFamily,Ft=Math.hypot(wt[2],wt[3]),vt=Ft*Dn(_t=wl,d0,X9).call(_t,St,Xt(this,V0));let Et,Mt;At===0?(Et=wt[4],Mt=wt[5]-vt):(Et=wt[4]+vt*Math.sin(At),Mt=wt[5]-vt*Math.cos(At));const Pt="calc(var(--scale-factor)*",xt=ht.style;Xt(this,Lo)===Xt(this,np)?(xt.left=`${(100*Et/Xt(this,zm)).toFixed(2)}%`,xt.top=`${(100*Mt/Xt(this,Vm)).toFixed(2)}%`):(xt.left=`${Pt}${Et.toFixed(2)}px)`,xt.top=`${Pt}${Mt.toFixed(2)}px)`),xt.fontSize=`${Pt}${Ft.toFixed(2)}px)`,xt.fontFamily=St,bt.fontSize=Ft,ht.setAttribute("role","presentation"),ht.textContent=$.str,ht.dir=$.dir,Xt(this,Hm)&&(ht.dataset.fontName=Ct.fontSubstitutionLoadedName||$.fontName),At!==0&&(bt.angle=At*(180/Math.PI));let $t=!1;if($.str.length>1)$t=!0;else if($.str!==" "&&$.transform[0]!==$.transform[3]){const jt=Math.abs($.transform[0]),Rt=Math.abs($.transform[3]);jt!==Rt&&Math.max(jt,Rt)/Math.min(jt,Rt)>1.5&&($t=!0)}if($t&&(bt.canvasWidth=Ct.vertical?$.height:$.width),Xt(this,Wm).set(ht,bt),Xt(this,bu).div=ht,Xt(this,bu).properties=bt,Dn(this,Iu,dy).call(this,Xt(this,bu)),bt.hasText&&Xt(this,Lo).append(ht),bt.hasEOL){const jt=document.createElement("br");jt.setAttribute("role","presentation"),Xt(this,Lo).append(jt)}},dy=function($){const{div:ht,properties:bt,ctx:wt,prevFontSize:At,prevFontFamily:Ct}=$,{style:St}=ht;let Ft="";if(bt.canvasWidth!==0&&bt.hasText){const{fontFamily:vt}=St,{canvasWidth:Et,fontSize:Mt}=bt;(At!==Mt||Ct!==vt)&&(wt.font=`${Mt*Xt(this,Qu)}px ${vt}`,$.prevFontSize=Mt,$.prevFontFamily=vt);const{width:Pt}=wt.measureText(ht.textContent);Pt>0&&(Ft=`scaleX(${Et*Xt(this,Qu)/Pt})`)}bt.angle!==0&&(Ft=`rotate(${bt.angle}deg) ${Ft}`),Ft.length>0&&(St.transform=Ft)},d0=new WeakSet,qx=function($=null){let ht=Xt(this,G0).get($||($=""));if(!ht){const bt=document.createElement("canvas");bt.className="hiddenCanvasElement",bt.lang=$,document.body.append(bt),ht=bt.getContext("2d",{alpha:!1}),Xt(this,G0).set($,ht)}return ht},X9=function($,ht){const bt=Xt(this,W0).get($);if(bt)return bt;const wt=Dn(this,d0,qx).call(this,ht),At=wt.font;wt.canvas.width=wt.canvas.height=DEFAULT_FONT_SIZE,wt.font=`${DEFAULT_FONT_SIZE}px ${$}`;const Ct=wt.measureText("");let St=Ct.fontBoundingBoxAscent,Ft=Math.abs(Ct.fontBoundingBoxDescent);if(St){const Mt=St/(St+Ft);return Xt(this,W0).set($,Mt),wt.canvas.width=wt.canvas.height=0,wt.font=At,Mt}wt.strokeStyle="red",wt.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),wt.strokeText("g",0,0);let vt=wt.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;Ft=0;for(let Mt=vt.length-1-3;Mt>=0;Mt-=4)if(vt[Mt]>0){Ft=Math.ceil(Mt/4/DEFAULT_FONT_SIZE);break}wt.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),wt.strokeText("A",0,DEFAULT_FONT_SIZE),vt=wt.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,St=0;for(let Mt=0,Pt=vt.length;Mt<Pt;Mt+=4)if(vt[Mt]>0){St=DEFAULT_FONT_SIZE-Math.floor(Mt/4/DEFAULT_FONT_SIZE);break}wt.canvas.width=wt.canvas.height=0,wt.font=At;const Et=St?St/(St+Ft):DEFAULT_FONT_ASCENT;return Xt(this,W0).set($,Et),Et},$n(wl,d0),$n(wl,W0,new Map),$n(wl,G0,new Map),$n(wl,ap,new Set);let TextLayer=wl;function renderTextLayer(){deprecated("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:_e,container:$,viewport:ht,...bt}=arguments[0],wt=Object.keys(bt);wt.length>0&&warn("Ignoring `renderTextLayer` parameters: "+wt.join(", "));const At=new TextLayer({textContentSource:_e,container:$,viewport:ht}),{textDivs:Ct,textContentItemsStr:St}=At;return{promise:At.render(),textDivs:Ct,textContentItemsStr:St}}function updateTextLayer(){deprecated("`updateTextLayer`, please use `TextLayer` instead.")}class XfaText{static textContent($){const ht=[],bt={items:ht,styles:Object.create(null)};function wt(At){var Ft;if(!At)return;let Ct=null;const St=At.name;if(St==="#text")Ct=At.value;else if(XfaText.shouldBuildText(St))(Ft=At==null?void 0:At.attributes)!=null&&Ft.textContent?Ct=At.attributes.textContent:At.value&&(Ct=At.value);else return;if(Ct!==null&&ht.push({str:Ct}),!!At.children)for(const vt of At.children)wt(vt)}return wt($),bt}static shouldBuildText($){return!($==="textarea"||$==="input"||$==="option"||$==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(_e){if(typeof _e=="string"||_e instanceof URL?_e={url:_e}:(_e instanceof ArrayBuffer||ArrayBuffer.isView(_e))&&(_e={data:_e}),typeof _e!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!_e.url&&!_e.data&&!_e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const $=new PDFDocumentLoadingTask,{docId:ht}=$,bt=_e.url?getUrlProp(_e.url):null,wt=_e.data?getDataProp(_e.data):null,At=_e.httpHeaders||null,Ct=_e.withCredentials===!0,St=_e.password??null,Ft=_e.range instanceof PDFDataRangeTransport?_e.range:null,vt=Number.isInteger(_e.rangeChunkSize)&&_e.rangeChunkSize>0?_e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Et=_e.worker instanceof PDFWorker?_e.worker:null;const Mt=_e.verbosity,Pt=typeof _e.docBaseUrl=="string"&&!isDataScheme(_e.docBaseUrl)?_e.docBaseUrl:null,xt=typeof _e.cMapUrl=="string"?_e.cMapUrl:null,$t=_e.cMapPacked!==!1,_t=_e.CMapReaderFactory||DefaultCMapReaderFactory,jt=typeof _e.standardFontDataUrl=="string"?_e.standardFontDataUrl:null,Rt=_e.StandardFontDataFactory||DefaultStandardFontDataFactory,Nt=_e.stopAtErrors!==!0,Lt=Number.isInteger(_e.maxImageSize)&&_e.maxImageSize>-1?_e.maxImageSize:-1,kt=_e.isEvalSupported!==!1,Bt=typeof _e.isOffscreenCanvasSupported=="boolean"?_e.isOffscreenCanvasSupported:!isNodeJS,Ht=Number.isInteger(_e.canvasMaxAreaInBytes)?_e.canvasMaxAreaInBytes:-1,Ot=typeof _e.disableFontFace=="boolean"?_e.disableFontFace:isNodeJS,Vt=_e.fontExtraProperties===!0,Gt=_e.enableXfa===!0,Wt=_e.ownerDocument||globalThis.document,en=_e.disableRange===!0,Sn=_e.disableStream===!0,sn=_e.disableAutoFetch===!0,hn=_e.pdfBug===!0,Qt=Ft?Ft.length:_e.length??NaN,qt=typeof _e.useSystemFonts=="boolean"?_e.useSystemFonts:!isNodeJS&&!Ot,nn=typeof _e.useWorkerFetch=="boolean"?_e.useWorkerFetch:_t===DOMCMapReaderFactory&&Rt===DOMStandardFontDataFactory&&xt&&jt&&isValidFetchUrl(xt,document.baseURI)&&isValidFetchUrl(jt,document.baseURI),Ut=_e.canvasFactory||new DefaultCanvasFactory({ownerDocument:Wt}),zt=_e.filterFactory||new DefaultFilterFactory({docId:ht,ownerDocument:Wt}),cn=null;setVerbosityLevel(Mt);const ln={canvasFactory:Ut,filterFactory:zt};if(nn||(ln.cMapReaderFactory=new _t({baseUrl:xt,isCompressed:$t}),ln.standardFontDataFactory=new Rt({baseUrl:jt})),!Et){const Yt={verbosity:Mt,port:GlobalWorkerOptions.workerPort};Et=Yt.port?PDFWorker.fromPort(Yt):new PDFWorker(Yt),$._worker=Et}const Kt={docId:ht,apiVersion:"4.3.136",data:wt,password:St,disableAutoFetch:sn,rangeChunkSize:vt,length:Qt,docBaseUrl:Pt,enableXfa:Gt,evaluatorOptions:{maxImageSize:Lt,disableFontFace:Ot,ignoreErrors:Nt,isEvalSupported:kt,isOffscreenCanvasSupported:Bt,canvasMaxAreaInBytes:Ht,fontExtraProperties:Vt,useSystemFonts:qt,cMapUrl:nn?xt:null,standardFontDataUrl:nn?jt:null}},Jt={disableFontFace:Ot,fontExtraProperties:Vt,ownerDocument:Wt,pdfBug:hn,styleElement:cn,loadingParams:{disableAutoFetch:sn,enableXfa:Gt}};return Et.promise.then(function(){if($.destroyed)throw new Error("Loading aborted");if(Et.destroyed)throw new Error("Worker was destroyed");const Yt=Et.messageHandler.sendWithPromise("GetDocRequest",Kt,wt?[wt.buffer]:null);let tn;return Ft?tn=new PDFDataTransportStream(Ft,{disableRange:en,disableStream:Sn}):wt||(tn=(yn=>isNodeJS?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&isValidFetchUrl(yn.url)?new PDFFetchStream(yn):new PDFNodeStream(yn):isValidFetchUrl(yn.url)?new PDFFetchStream(yn):new PDFNetworkStream(yn))({url:bt,length:Qt,httpHeaders:At,withCredentials:Ct,rangeChunkSize:vt,disableRange:en,disableStream:Sn})),Yt.then(un=>{if($.destroyed)throw new Error("Loading aborted");if(Et.destroyed)throw new Error("Worker was destroyed");const yn=new MessageHandler(ht,un,Et.port),xn=new WorkerTransport(yn,$,tn,Jt,ln);$._transport=xn,yn.send("Ready",null)})}).catch($._capability.reject),$}function getUrlProp(_e){if(_e instanceof URL)return _e.href;try{return new URL(_e,window.location).href}catch{if(isNodeJS&&typeof _e=="string")return _e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(_e){if(isNodeJS&&typeof Buffer<"u"&&_e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength)return _e;if(typeof _e=="string")return stringToBytes(_e);if(_e instanceof ArrayBuffer||ArrayBuffer.isView(_e)||typeof _e=="object"&&!isNaN(_e==null?void 0:_e.length))return new Uint8Array(_e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(_e){return typeof _e=="object"&&Number.isInteger(_e==null?void 0:_e.num)&&_e.num>=0&&Number.isInteger(_e==null?void 0:_e.gen)&&_e.gen>=0}var T2;const P2=class P2{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Fo(P2,T2)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var $,ht,bt;this.destroyed=!0;try{($=this._worker)!=null&&$.port&&(this._worker._pendingDestroy=!0),await((ht=this._transport)==null?void 0:ht.destroy())}catch(wt){throw(bt=this._worker)!=null&&bt.port&&delete this._worker._pendingDestroy,wt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};T2=new WeakMap,$n(P2,T2,0);let PDFDocumentLoadingTask=P2;class PDFDataRangeTransport{constructor($,ht,bt=!1,wt=null){this.length=$,this.initialData=ht,this.progressiveDone=bt,this.contentDispositionFilename=wt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener($){this._rangeListeners.push($)}addProgressListener($){this._progressListeners.push($)}addProgressiveReadListener($){this._progressiveReadListeners.push($)}addProgressiveDoneListener($){this._progressiveDoneListeners.push($)}onDataRange($,ht){for(const bt of this._rangeListeners)bt($,ht)}onDataProgress($,ht){this._readyCapability.promise.then(()=>{for(const bt of this._progressListeners)bt($,ht)})}onDataProgressiveRead($){this._readyCapability.promise.then(()=>{for(const ht of this._progressiveReadListeners)ht($)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const $ of this._progressiveDoneListeners)$()})}transportReady(){this._readyCapability.resolve()}requestDataRange($,ht){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class PDFDocumentProxy{constructor($,ht){this._pdfInfo=$,this._transport=ht}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage($){return this._transport.getPage($)}getPageIndex($){return this._transport.getPageIndex($)}getDestinations(){return this._transport.getDestinations()}getDestination($){return this._transport.getDestination($)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:$="display"}={}){const{renderingIntent:ht}=this._transport.getRenderingIntent($);return this._transport.getOptionalContentConfig(ht)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup($=!1){return this._transport.startCleanup($||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber($){return this._transport.cachedPageNumber($)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var e0,yu,Qo,D1,Kx;class PDFPageProxy{constructor($,ht,bt,wt=!1){$n(this,Qo);$n(this,e0,null);$n(this,yu,!1);this._pageIndex=$,this._pageInfo=ht,this._transport=bt,this._stats=wt?new StatTimer:null,this._pdfBug=wt,this.commonObjs=bt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:$,rotation:ht=this.rotate,offsetX:bt=0,offsetY:wt=0,dontFlip:At=!1}={}){return new PageViewport({viewBox:this.view,scale:$,rotation:ht,offsetX:bt,offsetY:wt,dontFlip:At})}getAnnotations({intent:$="display"}={}){const{renderingIntent:ht}=this._transport.getRenderingIntent($);return this._transport.getAnnotations(this._pageIndex,ht)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var $;return(($=this._transport._htmlForXfa)==null?void 0:$.children[this._pageIndex])||null}render({canvasContext:$,viewport:ht,intent:bt="display",annotationMode:wt=AnnotationMode.ENABLE,transform:At=null,background:Ct=null,optionalContentConfigPromise:St=null,annotationCanvasMap:Ft=null,pageColors:vt=null,printAnnotationStorage:Et=null}){var Lt,kt;(Lt=this._stats)==null||Lt.time("Overall");const Mt=this._transport.getRenderingIntent(bt,wt,Et),{renderingIntent:Pt,cacheKey:xt}=Mt;Ln(this,yu,!1),Dn(this,Qo,Kx).call(this),St||(St=this._transport.getOptionalContentConfig(Pt));let $t=this._intentStates.get(xt);$t||($t=Object.create(null),this._intentStates.set(xt,$t)),$t.streamReaderCancelTimeout&&(clearTimeout($t.streamReaderCancelTimeout),$t.streamReaderCancelTimeout=null);const _t=!!(Pt&RenderingIntentFlag.PRINT);$t.displayReadyCapability||($t.displayReadyCapability=Promise.withResolvers(),$t.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(kt=this._stats)==null||kt.time("Page Request"),this._pumpOperatorList(Mt));const jt=Bt=>{var Ht;$t.renderTasks.delete(Rt),(this._maybeCleanupAfterRender||_t)&&Ln(this,yu,!0),Dn(this,Qo,D1).call(this,!_t),Bt?(Rt.capability.reject(Bt),this._abortOperatorList({intentState:$t,reason:Bt instanceof Error?Bt:new Error(Bt)})):Rt.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Ht=globalThis.Stats)!=null&&Ht.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Rt=new InternalRenderTask({callback:jt,params:{canvasContext:$,viewport:ht,transform:At,background:Ct},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ft,operatorList:$t.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_t,pdfBug:this._pdfBug,pageColors:vt});($t.renderTasks||($t.renderTasks=new Set)).add(Rt);const Nt=Rt.task;return Promise.all([$t.displayReadyCapability.promise,St]).then(([Bt,Ht])=>{var Ot;if(this.destroyed){jt();return}if((Ot=this._stats)==null||Ot.time("Rendering"),!(Ht.renderingIntent&Pt))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Rt.initializeGraphics({transparency:Bt,optionalContentConfig:Ht}),Rt.operatorListChanged()}).catch(jt),Nt}getOperatorList({intent:$="display",annotationMode:ht=AnnotationMode.ENABLE,printAnnotationStorage:bt=null}={}){var Ft;function wt(){Ct.operatorList.lastChunk&&(Ct.opListReadCapability.resolve(Ct.operatorList),Ct.renderTasks.delete(St))}const At=this._transport.getRenderingIntent($,ht,bt,!0);let Ct=this._intentStates.get(At.cacheKey);Ct||(Ct=Object.create(null),this._intentStates.set(At.cacheKey,Ct));let St;return Ct.opListReadCapability||(St=Object.create(null),St.operatorListChanged=wt,Ct.opListReadCapability=Promise.withResolvers(),(Ct.renderTasks||(Ct.renderTasks=new Set)).add(St),Ct.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ft=this._stats)==null||Ft.time("Page Request"),this._pumpOperatorList(At)),Ct.opListReadCapability.promise}streamTextContent({includeMarkedContent:$=!1,disableNormalization:ht=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:$===!0,disableNormalization:ht===!0},{highWaterMark:100,size(wt){return wt.items.length}})}getTextContent($={}){if(this._transport._htmlForXfa)return this.getXfa().then(bt=>XfaText.textContent(bt));const ht=this.streamTextContent($);return new Promise(function(bt,wt){function At(){Ct.read().then(function({value:Ft,done:vt}){if(vt){bt(St);return}St.lang??(St.lang=Ft.lang),Object.assign(St.styles,Ft.styles),St.items.push(...Ft.items),At()},wt)}const Ct=ht.getReader(),St={items:[],styles:Object.create(null),lang:null};At()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const $=[];for(const ht of this._intentStates.values())if(this._abortOperatorList({intentState:ht,reason:new Error("Page was destroyed."),force:!0}),!ht.opListReadCapability)for(const bt of ht.renderTasks)$.push(bt.completed),bt.cancel();return this.objs.clear(),Ln(this,yu,!1),Dn(this,Qo,Kx).call(this),Promise.all($)}cleanup($=!1){Ln(this,yu,!0);const ht=Dn(this,Qo,D1).call(this,!1);return $&&ht&&this._stats&&(this._stats=new StatTimer),ht}_startRenderPage($,ht){var wt,At;const bt=this._intentStates.get(ht);bt&&((wt=this._stats)==null||wt.timeEnd("Page Request"),(At=bt.displayReadyCapability)==null||At.resolve($))}_renderPageChunk($,ht){for(let bt=0,wt=$.length;bt<wt;bt++)ht.operatorList.fnArray.push($.fnArray[bt]),ht.operatorList.argsArray.push($.argsArray[bt]);ht.operatorList.lastChunk=$.lastChunk,ht.operatorList.separateAnnots=$.separateAnnots;for(const bt of ht.renderTasks)bt.operatorListChanged();$.lastChunk&&Dn(this,Qo,D1).call(this,!0)}_pumpOperatorList({renderingIntent:$,cacheKey:ht,annotationStorageSerializable:bt}){const{map:wt,transfer:At}=bt,St=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:$,cacheKey:ht,annotationStorage:wt},At).getReader(),Ft=this._intentStates.get(ht);Ft.streamReader=St;const vt=()=>{St.read().then(({value:Et,done:Mt})=>{if(Mt){Ft.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Et,Ft),vt())},Et=>{if(Ft.streamReader=null,!this._transport.destroyed){if(Ft.operatorList){Ft.operatorList.lastChunk=!0;for(const Mt of Ft.renderTasks)Mt.operatorListChanged();Dn(this,Qo,D1).call(this,!0)}if(Ft.displayReadyCapability)Ft.displayReadyCapability.reject(Et);else if(Ft.opListReadCapability)Ft.opListReadCapability.reject(Et);else throw Et}})};vt()}_abortOperatorList({intentState:$,reason:ht,force:bt=!1}){if($.streamReader){if($.streamReaderCancelTimeout&&(clearTimeout($.streamReaderCancelTimeout),$.streamReaderCancelTimeout=null),!bt){if($.renderTasks.size>0)return;if(ht instanceof RenderingCancelledException){let wt=RENDERING_CANCELLED_TIMEOUT;ht.extraDelay>0&&ht.extraDelay<1e3&&(wt+=ht.extraDelay),$.streamReaderCancelTimeout=setTimeout(()=>{$.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:$,reason:ht,force:!0})},wt);return}}if($.streamReader.cancel(new AbortException(ht.message)).catch(()=>{}),$.streamReader=null,!this._transport.destroyed){for(const[wt,At]of this._intentStates)if(At===$){this._intentStates.delete(wt);break}this.cleanup()}}}get stats(){return this._stats}}e0=new WeakMap,yu=new WeakMap,Qo=new WeakSet,D1=function($=!1){if(Dn(this,Qo,Kx).call(this),!Xt(this,yu)||this.destroyed)return!1;if($)return Ln(this,e0,setTimeout(()=>{Ln(this,e0,null),Dn(this,Qo,D1).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ht,operatorList:bt}of this._intentStates.values())if(ht.size>0||!bt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Ln(this,yu,!1),!0},Kx=function(){Xt(this,e0)&&(clearTimeout(Xt(this,e0)),Ln(this,e0,null))};var q0,_2;class LoopbackPort{constructor(){$n(this,q0,new Set);$n(this,_2,Promise.resolve())}postMessage($,ht){const bt={data:structuredClone($,ht?{transfer:ht}:null)};Xt(this,_2).then(()=>{for(const wt of Xt(this,q0))wt.call(this,bt)})}addEventListener($,ht){Xt(this,q0).add(ht)}removeEventListener($,ht){Xt(this,q0).delete(ht)}terminate(){Xt(this,q0).clear()}}q0=new WeakMap,_2=new WeakMap;const PDFWorkerUtil={isWorkerDisabled:!1,fakeWorkerId:0};isNodeJS&&(PDFWorkerUtil.isWorkerDisabled=!0,GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),PDFWorkerUtil.isSameOrigin=function(_e,$){let ht;try{if(ht=new URL(_e),!ht.origin||ht.origin==="null")return!1}catch{return!1}const bt=new URL($,ht);return ht.origin===bt.origin},PDFWorkerUtil.createCDNWrapper=function(_e){const $=`await import("${_e}");`;return URL.createObjectURL(new Blob([$],{type:"text/javascript"}))};var K0,op,Yx;const Uo=class Uo{constructor({name:$=null,port:ht=null,verbosity:bt=getVerbosityLevel()}={}){var wt;if(this.name=$,this.destroyed=!1,this.verbosity=bt,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,ht){if((wt=Xt(Uo,K0))!=null&&wt.has(ht))throw new Error("Cannot use more than one PDFWorker per port.");(Xt(Uo,K0)||Ln(Uo,K0,new WeakMap)).set(ht,this),this._initializeFromPort(ht);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!Xt(Uo,op,Yx)){let{workerSrc:$}=Uo;try{PDFWorkerUtil.isSameOrigin(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const ht=new Worker($,{type:"module"}),bt=new MessageHandler("main","worker",ht),wt=()=>{ht.removeEventListener("error",At),bt.destroy(),ht.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},At=()=>{this._webWorker||wt()};ht.addEventListener("error",At),bt.on("test",St=>{if(ht.removeEventListener("error",At),this.destroyed){wt();return}St?(this._messageHandler=bt,this._port=ht,this._webWorker=ht,this._readyCapability.resolve(),bt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),bt.destroy(),ht.terminate())}),bt.on("ready",St=>{if(ht.removeEventListener("error",At),this.destroyed){wt();return}try{Ct()}catch{this._setupFakeWorker()}});const Ct=()=>{const St=new Uint8Array;bt.send("test",St,[St.buffer])};Ct();return}catch{info("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||(warn("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),Uo._setupFakeWorkerGlobal.then($=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ht=new LoopbackPort;this._port=ht;const bt=`fake${PDFWorkerUtil.fakeWorkerId++}`,wt=new MessageHandler(bt+"_worker",bt,ht);$.setup(wt,ht);const At=new MessageHandler(bt,bt+"_worker",ht);this._messageHandler=At,this._readyCapability.resolve(),At.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){var $;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($=Xt(Uo,K0))==null||$.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){var bt;if(!($!=null&&$.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ht=(bt=Xt(this,K0))==null?void 0:bt.get($.port);if(ht){if(ht._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ht}return new Uo($)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>Xt(this,op,Yx)?Xt(this,op,Yx):(await import(this.workerSrc)).WorkerMessageHandler)())}};K0=new WeakMap,op=new WeakSet,Yx=function(){var $;try{return(($=globalThis.pdfjsWorker)==null?void 0:$.WorkerMessageHandler)||null}catch{return null}},$n(Uo,op),$n(Uo,K0);let PDFWorker=Uo;var vu,Wl,lp,cp,Gl,Y0,qp;class WorkerTransport{constructor($,ht,bt,wt,At){$n(this,Y0);$n(this,vu,new Map);$n(this,Wl,new Map);$n(this,lp,new Map);$n(this,cp,new Map);$n(this,Gl,null);this.messageHandler=$,this.loadingTask=ht,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:wt.ownerDocument,styleElement:wt.styleElement}),this.loadingParams=wt.loadingParams,this._params=wt,this.canvasFactory=At.canvasFactory,this.filterFactory=At.filterFactory,this.cMapReaderFactory=At.cMapReaderFactory,this.standardFontDataFactory=At.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=bt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent($,ht=AnnotationMode.ENABLE,bt=null,wt=!1){let At=RenderingIntentFlag.DISPLAY,Ct=SerializableEmpty;switch($){case"any":At=RenderingIntentFlag.ANY;break;case"display":break;case"print":At=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${$}`)}switch(ht){case AnnotationMode.DISABLE:At+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:At+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:At+=RenderingIntentFlag.ANNOTATIONS_STORAGE,Ct=(At&RenderingIntentFlag.PRINT&&bt instanceof PrintAnnotationStorage?bt:this.annotationStorage).serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${ht}`)}return wt&&(At+=RenderingIntentFlag.OPLIST),{renderingIntent:At,cacheKey:`${At}_${Ct.hash}`,annotationStorageSerializable:Ct}}destroy(){var bt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(bt=Xt(this,Gl))==null||bt.reject(new Error("Worker was destroyed during onPassword callback"));const $=[];for(const wt of Xt(this,Wl).values())$.push(wt._destroy());Xt(this,Wl).clear(),Xt(this,lp).clear(),Xt(this,cp).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ht=this.messageHandler.sendWithPromise("Terminate",null);return $.push(ht),Promise.all($).then(()=>{var wt;this.commonObjs.clear(),this.fontLoader.clear(),Xt(this,vu).clear(),this.filterFactory.destroy(),TextLayer.cleanup(),(wt=this._networkStream)==null||wt.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:$,loadingTask:ht}=this;$.on("GetReader",(bt,wt)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=At=>{this._lastProgress={loaded:At.loaded,total:At.total}},wt.onPull=()=>{this._fullReader.read().then(function({value:At,done:Ct}){if(Ct){wt.close();return}assert(At instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),wt.enqueue(new Uint8Array(At),1,[At])}).catch(At=>{wt.error(At)})},wt.onCancel=At=>{this._fullReader.cancel(At),wt.ready.catch(Ct=>{if(!this.destroyed)throw Ct})}}),$.on("ReaderHeadersReady",bt=>{const wt=Promise.withResolvers(),At=this._fullReader;return At.headersReady.then(()=>{var Ct;(!At.isStreamingSupported||!At.isRangeSupported)&&(this._lastProgress&&((Ct=ht.onProgress)==null||Ct.call(ht,this._lastProgress)),At.onProgress=St=>{var Ft;(Ft=ht.onProgress)==null||Ft.call(ht,{loaded:St.loaded,total:St.total})}),wt.resolve({isStreamingSupported:At.isStreamingSupported,isRangeSupported:At.isRangeSupported,contentLength:At.contentLength})},wt.reject),wt.promise}),$.on("GetRangeReader",(bt,wt)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const At=this._networkStream.getRangeReader(bt.begin,bt.end);if(!At){wt.close();return}wt.onPull=()=>{At.read().then(function({value:Ct,done:St}){if(St){wt.close();return}assert(Ct instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),wt.enqueue(new Uint8Array(Ct),1,[Ct])}).catch(Ct=>{wt.error(Ct)})},wt.onCancel=Ct=>{At.cancel(Ct),wt.ready.catch(St=>{if(!this.destroyed)throw St})}}),$.on("GetDoc",({pdfInfo:bt})=>{this._numPages=bt.numPages,this._htmlForXfa=bt.htmlForXfa,delete bt.htmlForXfa,ht._capability.resolve(new PDFDocumentProxy(bt,this))}),$.on("DocException",function(bt){let wt;switch(bt.name){case"PasswordException":wt=new PasswordException(bt.message,bt.code);break;case"InvalidPDFException":wt=new InvalidPDFException(bt.message);break;case"MissingPDFException":wt=new MissingPDFException(bt.message);break;case"UnexpectedResponseException":wt=new UnexpectedResponseException(bt.message,bt.status);break;case"UnknownErrorException":wt=new UnknownErrorException(bt.message,bt.details);break;default:unreachable("DocException - expected a valid Error.")}ht._capability.reject(wt)}),$.on("PasswordRequest",bt=>{if(Ln(this,Gl,Promise.withResolvers()),ht.onPassword){const wt=At=>{At instanceof Error?Xt(this,Gl).reject(At):Xt(this,Gl).resolve({password:At})};try{ht.onPassword(wt,bt.code)}catch(At){Xt(this,Gl).reject(At)}}else Xt(this,Gl).reject(new PasswordException(bt.message,bt.code));return Xt(this,Gl).promise}),$.on("DataLoaded",bt=>{var wt;(wt=ht.onProgress)==null||wt.call(ht,{loaded:bt.length,total:bt.length}),this.downloadInfoCapability.resolve(bt)}),$.on("StartRenderPage",bt=>{if(this.destroyed)return;Xt(this,Wl).get(bt.pageIndex)._startRenderPage(bt.transparency,bt.cacheKey)}),$.on("commonobj",([bt,wt,At])=>{var Ct;if(this.destroyed||this.commonObjs.has(bt))return null;switch(wt){case"Font":const{disableFontFace:St,fontExtraProperties:Ft,pdfBug:vt}=this._params;if("error"in At){const xt=At.error;warn(`Error during font loading: ${xt}`),this.commonObjs.resolve(bt,xt);break}const Et=vt&&((Ct=globalThis.FontInspector)!=null&&Ct.enabled)?(xt,$t)=>globalThis.FontInspector.fontAdded(xt,$t):null,Mt=new FontFaceObject(At,{disableFontFace:St,inspectFont:Et});this.fontLoader.bind(Mt).catch(()=>$.sendWithPromise("FontFallback",{id:bt})).finally(()=>{!Ft&&Mt.data&&(Mt.data=null),this.commonObjs.resolve(bt,Mt)});break;case"CopyLocalImage":const{imageRef:Pt}=At;assert(Pt,"The imageRef must be defined.");for(const xt of Xt(this,Wl).values())for(const[,$t]of xt.objs)if(($t==null?void 0:$t.ref)===Pt)return $t.dataLen?(this.commonObjs.resolve(bt,structuredClone($t)),$t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(bt,At);break;default:throw new Error(`Got unknown common object type ${wt}`)}return null}),$.on("obj",([bt,wt,At,Ct])=>{var Ft;if(this.destroyed)return;const St=Xt(this,Wl).get(wt);if(!St.objs.has(bt)){if(St._intentStates.size===0){(Ft=Ct==null?void 0:Ct.bitmap)==null||Ft.close();return}switch(At){case"Image":St.objs.resolve(bt,Ct),(Ct==null?void 0:Ct.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(St._maybeCleanupAfterRender=!0);break;case"Pattern":St.objs.resolve(bt,Ct);break;default:throw new Error(`Got unknown object type ${At}`)}}}),$.on("DocProgress",bt=>{var wt;this.destroyed||(wt=ht.onProgress)==null||wt.call(ht,{loaded:bt.loaded,total:bt.total})}),$.on("FetchBuiltInCMap",bt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(bt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),$.on("FetchStandardFontData",bt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(bt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var bt;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:$,transfer:ht}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:$,filename:((bt=this._fullReader)==null?void 0:bt.filename)??null},ht).finally(()=>{this.annotationStorage.resetModified()})}getPage($){if(!Number.isInteger($)||$<=0||$>this._numPages)return Promise.reject(new Error("Invalid page request."));const ht=$-1,bt=Xt(this,lp).get(ht);if(bt)return bt;const wt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ht}).then(At=>{if(this.destroyed)throw new Error("Transport destroyed");At.refStr&&Xt(this,cp).set(At.refStr,$);const Ct=new PDFPageProxy(ht,At,this,this._params.pdfBug);return Xt(this,Wl).set(ht,Ct),Ct});return Xt(this,lp).set(ht,wt),wt}getPageIndex($){return isRefProxy($)?this.messageHandler.sendWithPromise("GetPageIndex",{num:$.num,gen:$.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations($,ht){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:$,intent:ht})}getFieldObjects(){return Dn(this,Y0,qp).call(this,"GetFieldObjects")}hasJSActions(){return Dn(this,Y0,qp).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination($){return typeof $!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:$})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Dn(this,Y0,qp).call(this,"GetDocJSActions")}getPageJSActions($){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:$})}getStructTree($){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:$})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig($){return Dn(this,Y0,qp).call(this,"GetOptionalContentConfig").then(ht=>new OptionalContentConfig(ht,$))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const $="GetMetadata",ht=Xt(this,vu).get($);if(ht)return ht;const bt=this.messageHandler.sendWithPromise($,null).then(wt=>{var At,Ct;return{info:wt[0],metadata:wt[1]?new Metadata(wt[1]):null,contentDispositionFilename:((At=this._fullReader)==null?void 0:At.filename)??null,contentLength:((Ct=this._fullReader)==null?void 0:Ct.contentLength)??null}});return Xt(this,vu).set($,bt),bt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup($=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ht of Xt(this,Wl).values())if(!ht.cleanup())throw new Error(`startCleanup: Page ${ht.pageNumber} is currently rendering.`);this.commonObjs.clear(),$||this.fontLoader.clear(),Xt(this,vu).clear(),this.filterFactory.destroy(!0),TextLayer.cleanup()}}cachedPageNumber($){if(!isRefProxy($))return null;const ht=$.gen===0?`${$.num}R`:`${$.num}R${$.gen}`;return Xt(this,cp).get(ht)??null}}vu=new WeakMap,Wl=new WeakMap,lp=new WeakMap,cp=new WeakMap,Gl=new WeakMap,Y0=new WeakSet,qp=function($,ht=null){const bt=Xt(this,vu).get($);if(bt)return bt;const wt=this.messageHandler.sendWithPromise($,ht);return Xt(this,vu).set($,wt),wt};const INITIAL_DATA=Symbol("INITIAL_DATA");var Tl,qm,fy;class PDFObjects{constructor(){$n(this,qm);$n(this,Tl,Object.create(null))}get($,ht=null){if(ht){const wt=Dn(this,qm,fy).call(this,$);return wt.promise.then(()=>ht(wt.data)),null}const bt=Xt(this,Tl)[$];if(!bt||bt.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${$}.`);return bt.data}has($){const ht=Xt(this,Tl)[$];return!!ht&&ht.data!==INITIAL_DATA}resolve($,ht=null){const bt=Dn(this,qm,fy).call(this,$);bt.data=ht,bt.resolve()}clear(){var $;for(const ht in Xt(this,Tl)){const{data:bt}=Xt(this,Tl)[ht];($=bt==null?void 0:bt.bitmap)==null||$.close()}Ln(this,Tl,Object.create(null))}*[Symbol.iterator](){for(const $ in Xt(this,Tl)){const{data:ht}=Xt(this,Tl)[$];ht!==INITIAL_DATA&&(yield[$,ht])}}}Tl=new WeakMap,qm=new WeakSet,fy=function($){var ht;return(ht=Xt(this,Tl))[$]||(ht[$]={...Promise.withResolvers(),data:INITIAL_DATA})};var t0;class RenderTask{constructor($){$n(this,t0,null);Ln(this,t0,$),this.onContinue=null}get promise(){return Xt(this,t0).capability.promise}cancel($=0){Xt(this,t0).cancel(null,$)}get separateAnnots(){const{separateAnnots:$}=Xt(this,t0).operatorList;if(!$)return!1;const{annotationCanvasMap:ht}=Xt(this,t0);return $.form||$.canvas&&(ht==null?void 0:ht.size)>0}}t0=new WeakMap;var J0;const k0=class k0{constructor({callback:$,params:ht,objs:bt,commonObjs:wt,annotationCanvasMap:At,operatorList:Ct,pageIndex:St,canvasFactory:Ft,filterFactory:vt,useRequestAnimationFrame:Et=!1,pdfBug:Mt=!1,pageColors:Pt=null}){this.callback=$,this.params=ht,this.objs=bt,this.commonObjs=wt,this.annotationCanvasMap=At,this.operatorListIdx=null,this.operatorList=Ct,this._pageIndex=St,this.canvasFactory=Ft,this.filterFactory=vt,this._pdfBug=Mt,this.pageColors=Pt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Et===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ht.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:$=!1,optionalContentConfig:ht}){var St,Ft;if(this.cancelled)return;if(this._canvas){if(Xt(k0,J0).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Xt(k0,J0).add(this._canvas)}this._pdfBug&&((St=globalThis.StepperManager)!=null&&St.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:bt,viewport:wt,transform:At,background:Ct}=this.params;this.gfx=new CanvasGraphics(bt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ht},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:At,viewport:wt,transparency:$,background:Ct}),this.operatorListIdx=0,this.graphicsReady=!0,(Ft=this.graphicsReadyCallback)==null||Ft.call(this)}cancel($=null,ht=0){var bt;this.running=!1,this.cancelled=!0,(bt=this.gfx)==null||bt.endDrawing(),Xt(k0,J0).delete(this._canvas),this.callback($||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ht))}operatorListChanged(){var $;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}($=this.stepper)==null||$.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Xt(k0,J0).delete(this._canvas),this.callback())))}};J0=new WeakMap,$n(k0,J0,new WeakSet);let InternalRenderTask=k0;const version="4.3.136",build="0cec64437";function makeColorComp(_e){return Math.floor(Math.max(0,Math.min(1,_e))*255).toString(16).padStart(2,"0")}function scaleAndClamp(_e){return Math.max(0,Math.min(255,255*_e))}class ColorConverters{static CMYK_G([$,ht,bt,wt]){return["G",1-Math.min(1,.3*$+.59*bt+.11*ht+wt)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_rgb([$]){return $=scaleAndClamp($),[$,$,$]}static G_HTML([$]){const ht=makeColorComp($);return`#${ht}${ht}${ht}`}static RGB_G([$,ht,bt]){return["G",.3*$+.59*ht+.11*bt]}static RGB_rgb($){return $.map(scaleAndClamp)}static RGB_HTML($){return`#${$.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$,ht,bt,wt]){return["RGB",1-Math.min(1,$+wt),1-Math.min(1,bt+wt),1-Math.min(1,ht+wt)]}static CMYK_rgb([$,ht,bt,wt]){return[scaleAndClamp(1-Math.min(1,$+wt)),scaleAndClamp(1-Math.min(1,bt+wt)),scaleAndClamp(1-Math.min(1,ht+wt))]}static CMYK_HTML($){const ht=this.CMYK_RGB($).slice(1);return this.RGB_HTML(ht)}static RGB_CMYK([$,ht,bt]){const wt=1-$,At=1-ht,Ct=1-bt,St=Math.min(wt,At,Ct);return["CMYK",wt,At,Ct,St]}}class XfaLayer{static setupStorage($,ht,bt,wt,At){const Ct=wt.getValue(ht,{value:null});switch(bt.name){case"textarea":if(Ct.value!==null&&($.textContent=Ct.value),At==="print")break;$.addEventListener("input",St=>{wt.setValue(ht,{value:St.target.value})});break;case"input":if(bt.attributes.type==="radio"||bt.attributes.type==="checkbox"){if(Ct.value===bt.attributes.xfaOn?$.setAttribute("checked",!0):Ct.value===bt.attributes.xfaOff&&$.removeAttribute("checked"),At==="print")break;$.addEventListener("change",St=>{wt.setValue(ht,{value:St.target.checked?St.target.getAttribute("xfaOn"):St.target.getAttribute("xfaOff")})})}else{if(Ct.value!==null&&$.setAttribute("value",Ct.value),At==="print")break;$.addEventListener("input",St=>{wt.setValue(ht,{value:St.target.value})})}break;case"select":if(Ct.value!==null){$.setAttribute("value",Ct.value);for(const St of bt.children)St.attributes.value===Ct.value?St.attributes.selected=!0:St.attributes.hasOwnProperty("selected")&&delete St.attributes.selected}$.addEventListener("input",St=>{const Ft=St.target.options,vt=Ft.selectedIndex===-1?"":Ft[Ft.selectedIndex].value;wt.setValue(ht,{value:vt})});break}}static setAttributes({html:$,element:ht,storage:bt=null,intent:wt,linkService:At}){const{attributes:Ct}=ht,St=$ instanceof HTMLAnchorElement;Ct.type==="radio"&&(Ct.name=`${Ct.name}-${wt}`);for(const[Ft,vt]of Object.entries(Ct))if(vt!=null)switch(Ft){case"class":vt.length&&$.setAttribute(Ft,vt.join(" "));break;case"dataId":break;case"id":$.setAttribute("data-element-id",vt);break;case"style":Object.assign($.style,vt);break;case"textContent":$.textContent=vt;break;default:(!St||Ft!=="href"&&Ft!=="newWindow")&&$.setAttribute(Ft,vt)}St&&At.addLinkAttributes($,Ct.href,Ct.newWindow),bt&&Ct.dataId&&this.setupStorage($,Ct.dataId,ht,bt)}static render($){var Mt,Pt;const ht=$.annotationStorage,bt=$.linkService,wt=$.xfaHtml,At=$.intent||"display",Ct=document.createElement(wt.name);wt.attributes&&this.setAttributes({html:Ct,element:wt,intent:At,linkService:bt});const St=At!=="richText",Ft=$.div;if(Ft.append(Ct),$.viewport){const xt=`matrix(${$.viewport.transform.join(",")})`;Ft.style.transform=xt}St&&Ft.setAttribute("class","xfaLayer xfaFont");const vt=[];if(wt.children.length===0){if(wt.value){const xt=document.createTextNode(wt.value);Ct.append(xt),St&&XfaText.shouldBuildText(wt.name)&&vt.push(xt)}return{textDivs:vt}}const Et=[[wt,-1,Ct]];for(;Et.length>0;){const[xt,$t,_t]=Et.at(-1);if($t+1===xt.children.length){Et.pop();continue}const jt=xt.children[++Et.at(-1)[1]];if(jt===null)continue;const{name:Rt}=jt;if(Rt==="#text"){const Lt=document.createTextNode(jt.value);vt.push(Lt),_t.append(Lt);continue}const Nt=(Mt=jt==null?void 0:jt.attributes)!=null&&Mt.xmlns?document.createElementNS(jt.attributes.xmlns,Rt):document.createElement(Rt);if(_t.append(Nt),jt.attributes&&this.setAttributes({html:Nt,element:jt,storage:ht,intent:At,linkService:bt}),((Pt=jt.children)==null?void 0:Pt.length)>0)Et.push([jt,-1,Nt]);else if(jt.value){const Lt=document.createTextNode(jt.value);St&&XfaText.shouldBuildText(Rt)&&vt.push(Lt),Nt.append(Lt)}}for(const xt of Ft.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))xt.setAttribute("readOnly",!0);return{textDivs:vt}}static update($){const ht=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=ht,$.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(_e){return{width:_e[2]-_e[0],height:_e[3]-_e[1]}}class AnnotationElementFactory{static create($){switch($.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement($);case AnnotationType.TEXT:return new TextAnnotationElement($);case AnnotationType.WIDGET:switch($.data.fieldType){case"Tx":return new TextWidgetAnnotationElement($);case"Btn":return $.data.radioButton?new RadioButtonWidgetAnnotationElement($):$.data.checkBox?new CheckboxWidgetAnnotationElement($):new PushButtonWidgetAnnotationElement($);case"Ch":return new ChoiceWidgetAnnotationElement($);case"Sig":return new SignatureWidgetAnnotationElement($)}return new WidgetAnnotationElement($);case AnnotationType.POPUP:return new PopupAnnotationElement($);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement($);case AnnotationType.LINE:return new LineAnnotationElement($);case AnnotationType.SQUARE:return new SquareAnnotationElement($);case AnnotationType.CIRCLE:return new CircleAnnotationElement($);case AnnotationType.POLYLINE:return new PolylineAnnotationElement($);case AnnotationType.CARET:return new CaretAnnotationElement($);case AnnotationType.INK:return new InkAnnotationElement($);case AnnotationType.POLYGON:return new PolygonAnnotationElement($);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement($);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement($);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement($);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement($);case AnnotationType.STAMP:return new StampAnnotationElement($);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement($);default:return new AnnotationElement($)}}}var Z0,up,hp,Km,py;const s9=class s9{constructor($,{isRenderable:ht=!1,ignoreBorder:bt=!1,createQuadrilaterals:wt=!1}={}){$n(this,Km);$n(this,Z0,null);$n(this,up,!1);$n(this,hp,null);this.isRenderable=ht,this.data=$.data,this.layer=$.layer,this.linkService=$.linkService,this.downloadManager=$.downloadManager,this.imageResourcesPath=$.imageResourcesPath,this.renderForms=$.renderForms,this.svgFactory=$.svgFactory,this.annotationStorage=$.annotationStorage,this.enableScripting=$.enableScripting,this.hasJSActions=$.hasJSActions,this._fieldObjects=$.fieldObjects,this.parent=$.parent,ht&&(this.container=this._createContainer(bt)),wt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:$,contentsObj:ht,richText:bt}){return!!($!=null&&$.str||ht!=null&&ht.str||bt!=null&&bt.str)}get hasPopupData(){return s9._hasPopupData(this.data)}updateEdited($){var bt;if(!this.container)return;Xt(this,Z0)||Ln(this,Z0,{rect:this.data.rect.slice(0)});const{rect:ht}=$;ht&&Dn(this,Km,py).call(this,ht),(bt=Xt(this,hp))==null||bt.popup.updateEdited($)}resetEdited(){var $;Xt(this,Z0)&&(Dn(this,Km,py).call(this,Xt(this,Z0).rect),($=Xt(this,hp))==null||$.popup.resetEdited(),Ln(this,Z0,null))}_createContainer($){const{data:ht,parent:{page:bt,viewport:wt}}=this,At=document.createElement("section");At.setAttribute("data-annotation-id",ht.id),this instanceof WidgetAnnotationElement||(At.tabIndex=DEFAULT_TAB_INDEX);const{style:Ct}=At;if(Ct.zIndex=this.parent.zIndex++,ht.popupRef&&At.setAttribute("aria-haspopup","dialog"),ht.alternativeText&&(At.title=ht.alternativeText),ht.noRotate&&At.classList.add("norotate"),!ht.rect||this instanceof PopupAnnotationElement){const{rotation:_t}=ht;return!ht.hasOwnCanvas&&_t!==0&&this.setRotation(_t,At),At}const{width:St,height:Ft}=getRectDims(ht.rect);if(!$&&ht.borderStyle.width>0){Ct.borderWidth=`${ht.borderStyle.width}px`;const _t=ht.borderStyle.horizontalCornerRadius,jt=ht.borderStyle.verticalCornerRadius;if(_t>0||jt>0){const Nt=`calc(${_t}px * var(--scale-factor)) / calc(${jt}px * var(--scale-factor))`;Ct.borderRadius=Nt}else if(this instanceof RadioButtonWidgetAnnotationElement){const Nt=`calc(${St}px * var(--scale-factor)) / calc(${Ft}px * var(--scale-factor))`;Ct.borderRadius=Nt}switch(ht.borderStyle.style){case AnnotationBorderStyleType.SOLID:Ct.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:Ct.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:Ct.borderBottomStyle="solid";break}const Rt=ht.borderColor||null;Rt?(Ln(this,up,!0),Ct.borderColor=Util.makeHexColor(Rt[0]|0,Rt[1]|0,Rt[2]|0)):Ct.borderWidth=0}const vt=Util.normalizeRect([ht.rect[0],bt.view[3]-ht.rect[1]+bt.view[1],ht.rect[2],bt.view[3]-ht.rect[3]+bt.view[1]]),{pageWidth:Et,pageHeight:Mt,pageX:Pt,pageY:xt}=wt.rawDims;Ct.left=`${100*(vt[0]-Pt)/Et}%`,Ct.top=`${100*(vt[1]-xt)/Mt}%`;const{rotation:$t}=ht;return ht.hasOwnCanvas||$t===0?(Ct.width=`${100*St/Et}%`,Ct.height=`${100*Ft/Mt}%`):this.setRotation($t,At),At}setRotation($,ht=this.container){if(!this.data.rect)return;const{pageWidth:bt,pageHeight:wt}=this.parent.viewport.rawDims,{width:At,height:Ct}=getRectDims(this.data.rect);let St,Ft;$%180===0?(St=100*At/bt,Ft=100*Ct/wt):(St=100*Ct/bt,Ft=100*At/wt),ht.style.width=`${St}%`,ht.style.height=`${Ft}%`,ht.setAttribute("data-main-rotation",(360-$)%360)}get _commonActions(){const $=(ht,bt,wt)=>{const At=wt.detail[ht],Ct=At[0],St=At.slice(1);wt.target.style[bt]=ColorConverters[`${Ct}_HTML`](St),this.annotationStorage.setValue(this.data.id,{[bt]:ColorConverters[`${Ct}_rgb`](St)})};return shadow(this,"_commonActions",{display:ht=>{const{display:bt}=ht.detail,wt=bt%2===1;this.container.style.visibility=wt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:wt,noPrint:bt===1||bt===2})},print:ht=>{this.annotationStorage.setValue(this.data.id,{noPrint:!ht.detail.print})},hidden:ht=>{const{hidden:bt}=ht.detail;this.container.style.visibility=bt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:bt,noView:bt})},focus:ht=>{setTimeout(()=>ht.target.focus({preventScroll:!1}),0)},userName:ht=>{ht.target.title=ht.detail.userName},readonly:ht=>{ht.target.disabled=ht.detail.readonly},required:ht=>{this._setRequired(ht.target,ht.detail.required)},bgColor:ht=>{$("bgColor","backgroundColor",ht)},fillColor:ht=>{$("fillColor","backgroundColor",ht)},fgColor:ht=>{$("fgColor","color",ht)},textColor:ht=>{$("textColor","color",ht)},borderColor:ht=>{$("borderColor","borderColor",ht)},strokeColor:ht=>{$("strokeColor","borderColor",ht)},rotation:ht=>{const bt=ht.detail.rotation;this.setRotation(bt),this.annotationStorage.setValue(this.data.id,{rotation:bt})}})}_dispatchEventFromSandbox($,ht){const bt=this._commonActions;for(const wt of Object.keys(ht.detail)){const At=$[wt]||bt[wt];At==null||At(ht)}}_setDefaultPropertiesFromJS($){if(!this.enableScripting)return;const ht=this.annotationStorage.getRawValue(this.data.id);if(!ht)return;const bt=this._commonActions;for(const[wt,At]of Object.entries(ht)){const Ct=bt[wt];if(Ct){const St={detail:{[wt]:At},target:$};Ct(St),delete ht[wt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:$}=this.data;if(!$)return;const[ht,bt,wt,At]=this.data.rect;if($.length===1){const[,{x:_t,y:jt},{x:Rt,y:Nt}]=$[0];if(wt===_t&&At===jt&&ht===Rt&&bt===Nt)return}const{style:Ct}=this.container;let St;if(Xt(this,up)){const{borderColor:_t,borderWidth:jt}=Ct;Ct.borderWidth=0,St=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_t}" stroke-width="${jt}">`],this.container.classList.add("hasBorder")}const Ft=wt-ht,vt=At-bt,{svgFactory:Et}=this,Mt=Et.createElement("svg");Mt.classList.add("quadrilateralsContainer"),Mt.setAttribute("width",0),Mt.setAttribute("height",0);const Pt=Et.createElement("defs");Mt.append(Pt);const xt=Et.createElement("clipPath"),$t=`clippath_${this.data.id}`;xt.setAttribute("id",$t),xt.setAttribute("clipPathUnits","objectBoundingBox"),Pt.append(xt);for(const[,{x:_t,y:jt},{x:Rt,y:Nt}]of $){const Lt=Et.createElement("rect"),kt=(Rt-ht)/Ft,Bt=(At-jt)/vt,Ht=(_t-Rt)/Ft,Ot=(jt-Nt)/vt;Lt.setAttribute("x",kt),Lt.setAttribute("y",Bt),Lt.setAttribute("width",Ht),Lt.setAttribute("height",Ot),xt.append(Lt),St==null||St.push(`<rect vector-effect="non-scaling-stroke" x="${kt}" y="${Bt}" width="${Ht}" height="${Ot}"/>`)}Xt(this,up)&&(St.push("</g></svg>')"),Ct.backgroundImage=St.join("")),this.container.append(Mt),this.container.style.clipPath=`url(#${$t})`}_createPopup(){const{container:$,data:ht}=this;$.setAttribute("aria-haspopup","dialog");const bt=Ln(this,hp,new PopupAnnotationElement({data:{color:ht.color,titleObj:ht.titleObj,modificationDate:ht.modificationDate,contentsObj:ht.contentsObj,richText:ht.richText,parentRect:ht.rect,borderStyle:0,id:`popup_${ht.id}`,rotation:ht.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(bt.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName($,ht=null){const bt=[];if(this._fieldObjects){const wt=this._fieldObjects[$];if(wt)for(const{page:At,id:Ct,exportValues:St}of wt){if(At===-1||Ct===ht)continue;const Ft=typeof St=="string"?St:null,vt=document.querySelector(`[data-element-id="${Ct}"]`);if(vt&&!GetElementsByNameSet.has(vt)){warn(`_getElementsByName - element not allowed: ${Ct}`);continue}bt.push({id:Ct,exportValue:Ft,domElement:vt})}return bt}for(const wt of document.getElementsByName($)){const{exportValue:At}=wt,Ct=wt.getAttribute("data-element-id");Ct!==ht&&GetElementsByNameSet.has(wt)&&bt.push({id:Ct,exportValue:At,domElement:wt})}return bt}show(){var $;this.container&&(this.container.hidden=!1),($=this.popup)==null||$.maybeShow()}hide(){var $;this.container&&(this.container.hidden=!0),($=this.popup)==null||$.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const $=this.getElementsToTriggerPopup();if(Array.isArray($))for(const ht of $)ht.classList.add("highlightArea");else $.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:$,data:{id:ht}}=this;this.container.addEventListener("dblclick",()=>{var bt;(bt=this.linkService.eventBus)==null||bt.dispatch("switchannotationeditormode",{source:this,mode:$,editId:ht})})}};Z0=new WeakMap,up=new WeakMap,hp=new WeakMap,Km=new WeakSet,py=function($){const{container:{style:ht},data:{rect:bt,rotation:wt},parent:{viewport:{rawDims:{pageWidth:At,pageHeight:Ct,pageX:St,pageY:Ft}}}}=this;bt==null||bt.splice(0,4,...$);const{width:vt,height:Et}=getRectDims($);ht.left=`${100*($[0]-St)/At}%`,ht.top=`${100*(Ct-$[3]+Ft)/Ct}%`,wt===0?(ht.width=`${100*vt/At}%`,ht.height=`${100*Et/Ct}%`):this.setRotation(wt)};let AnnotationElement=s9;var qo,A0,W9,G9;class LinkAnnotationElement extends AnnotationElement{constructor(ht,bt=null){super(ht,{isRenderable:!0,ignoreBorder:!!(bt!=null&&bt.ignoreBorder),createQuadrilaterals:!0});$n(this,qo);this.isTooltipOnly=ht.data.isTooltipOnly}render(){const{data:ht,linkService:bt}=this,wt=document.createElement("a");wt.setAttribute("data-element-id",ht.id);let At=!1;return ht.url?(bt.addLinkAttributes(wt,ht.url,ht.newWindow),At=!0):ht.action?(this._bindNamedAction(wt,ht.action),At=!0):ht.attachment?(Dn(this,qo,W9).call(this,wt,ht.attachment,ht.attachmentDest),At=!0):ht.setOCGState?(Dn(this,qo,G9).call(this,wt,ht.setOCGState),At=!0):ht.dest?(this._bindLink(wt,ht.dest),At=!0):(ht.actions&&(ht.actions.Action||ht.actions["Mouse Up"]||ht.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(wt,ht),At=!0),ht.resetForm?(this._bindResetFormAction(wt,ht.resetForm),At=!0):this.isTooltipOnly&&!At&&(this._bindLink(wt,""),At=!0)),this.container.classList.add("linkAnnotation"),At&&this.container.append(wt),this.container}_bindLink(ht,bt){ht.href=this.linkService.getDestinationHash(bt),ht.onclick=()=>(bt&&this.linkService.goToDestination(bt),!1),(bt||bt==="")&&Dn(this,qo,A0).call(this)}_bindNamedAction(ht,bt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>(this.linkService.executeNamedAction(bt),!1),Dn(this,qo,A0).call(this)}_bindJSAction(ht,bt){ht.href=this.linkService.getAnchorUrl("");const wt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const At of Object.keys(bt.actions)){const Ct=wt.get(At);Ct&&(ht[Ct]=()=>{var St;return(St=this.linkService.eventBus)==null||St.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt.id,name:At}}),!1})}ht.onclick||(ht.onclick=()=>!1),Dn(this,qo,A0).call(this)}_bindResetFormAction(ht,bt){const wt=ht.onclick;if(wt||(ht.href=this.linkService.getAnchorUrl("")),Dn(this,qo,A0).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),wt||(ht.onclick=()=>!1);return}ht.onclick=()=>{var Mt;wt==null||wt();const{fields:At,refs:Ct,include:St}=bt,Ft=[];if(At.length!==0||Ct.length!==0){const Pt=new Set(Ct);for(const xt of At){const $t=this._fieldObjects[xt]||[];for(const{id:_t}of $t)Pt.add(_t)}for(const xt of Object.values(this._fieldObjects))for(const $t of xt)Pt.has($t.id)===St&&Ft.push($t)}else for(const Pt of Object.values(this._fieldObjects))Ft.push(...Pt);const vt=this.annotationStorage,Et=[];for(const Pt of Ft){const{id:xt}=Pt;switch(Et.push(xt),Pt.type){case"text":{const _t=Pt.defaultValue||"";vt.setValue(xt,{value:_t});break}case"checkbox":case"radiobutton":{const _t=Pt.defaultValue===Pt.exportValues;vt.setValue(xt,{value:_t});break}case"combobox":case"listbox":{const _t=Pt.defaultValue||"";vt.setValue(xt,{value:_t});break}default:continue}const $t=document.querySelector(`[data-element-id="${xt}"]`);if($t){if(!GetElementsByNameSet.has($t)){warn(`_bindResetFormAction - element not allowed: ${xt}`);continue}}else continue;$t.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Mt=this.linkService.eventBus)==null||Mt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Et,name:"ResetForm"}})),!1}}}qo=new WeakSet,A0=function(){this.container.setAttribute("data-internal-link","")},W9=function(ht,bt,wt=null){ht.href=this.linkService.getAnchorUrl(""),bt.description&&(ht.title=bt.description),ht.onclick=()=>{var At;return(At=this.downloadManager)==null||At.openOrDownloadData(bt.content,bt.filename,wt),!1},Dn(this,qo,A0).call(this)},G9=function(ht,bt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>(this.linkService.executeSetOCGState(bt),!1),Dn(this,qo,A0).call(this)};class TextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const $=document.createElement("img");return $.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",$.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),$.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append($),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas($){var ht;this.data.hasOwnCanvas&&(((ht=$.previousSibling)==null?void 0:ht.nodeName)==="CANVAS"&&($.previousSibling.hidden=!0),$.hidden=!1)}_getKeyModifier($){return util_FeatureTest.platform.isMac?$.metaKey:$.ctrlKey}_setEventListener($,ht,bt,wt,At){bt.includes("mouse")?$.addEventListener(bt,Ct=>{var St;(St=this.linkService.eventBus)==null||St.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:wt,value:At(Ct),shift:Ct.shiftKey,modifier:this._getKeyModifier(Ct)}})}):$.addEventListener(bt,Ct=>{var St;if(bt==="blur"){if(!ht.focused||!Ct.relatedTarget)return;ht.focused=!1}else if(bt==="focus"){if(ht.focused)return;ht.focused=!0}At&&((St=this.linkService.eventBus)==null||St.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:wt,value:At(Ct)}}))})}_setEventListeners($,ht,bt,wt){var At,Ct,St;for(const[Ft,vt]of bt)(vt==="Action"||(At=this.data.actions)!=null&&At[vt])&&((vt==="Focus"||vt==="Blur")&&(ht||(ht={focused:!1})),this._setEventListener($,ht,Ft,vt,wt),vt==="Focus"&&!((Ct=this.data.actions)!=null&&Ct.Blur)?this._setEventListener($,ht,"blur","Blur",null):vt==="Blur"&&!((St=this.data.actions)!=null&&St.Focus)&&this._setEventListener($,ht,"focus","Focus",null))}_setBackgroundColor($){const ht=this.data.backgroundColor||null;$.style.backgroundColor=ht===null?"transparent":Util.makeHexColor(ht[0],ht[1],ht[2])}_setTextStyle($){const ht=["left","center","right"],{fontColor:bt}=this.data.defaultAppearanceData,wt=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,At=$.style;let Ct;const St=2,Ft=vt=>Math.round(10*vt)/10;if(this.data.multiLine){const vt=Math.abs(this.data.rect[3]-this.data.rect[1]-St),Et=Math.round(vt/(LINE_FACTOR*wt))||1,Mt=vt/Et;Ct=Math.min(wt,Ft(Mt/LINE_FACTOR))}else{const vt=Math.abs(this.data.rect[3]-this.data.rect[1]-St);Ct=Math.min(wt,Ft(vt/LINE_FACTOR))}At.fontSize=`calc(${Ct}px * var(--scale-factor))`,At.color=Util.makeHexColor(bt[0],bt[1],bt[2]),this.data.textAlignment!==null&&(At.textAlign=ht[this.data.textAlignment])}_setRequired($,ht){ht?$.setAttribute("required",!0):$.removeAttribute("required"),$.setAttribute("aria-required",ht)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){const ht=$.renderForms||$.data.hasOwnCanvas||!$.data.hasAppearance&&!!$.data.fieldValue;super($,{isRenderable:ht})}setPropertyOnSiblings($,ht,bt,wt){const At=this.annotationStorage;for(const Ct of this._getElementsByName($.name,$.id))Ct.domElement&&(Ct.domElement[ht]=bt),At.setValue(Ct.id,{[wt]:bt})}render(){var wt,At;const $=this.annotationStorage,ht=this.data.id;this.container.classList.add("textWidgetAnnotation");let bt=null;if(this.renderForms){const Ct=$.getValue(ht,{value:this.data.fieldValue});let St=Ct.value||"";const Ft=$.getValue(ht,{charLimit:this.data.maxLen}).charLimit;Ft&&St.length>Ft&&(St=St.slice(0,Ft));let vt=Ct.formattedValue||((wt=this.data.textContent)==null?void 0:wt.join(`
`))||null;vt&&this.data.comb&&(vt=vt.replaceAll(/\s+/g,""));const Et={userValue:St,formattedValue:vt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(bt=document.createElement("textarea"),bt.textContent=vt??St,this.data.doNotScroll&&(bt.style.overflowY="hidden")):(bt=document.createElement("input"),bt.type="text",bt.setAttribute("value",vt??St),this.data.doNotScroll&&(bt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(bt.hidden=!0),GetElementsByNameSet.add(bt),bt.setAttribute("data-element-id",ht),bt.disabled=this.data.readOnly,bt.name=this.data.fieldName,bt.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(bt,this.data.required),Ft&&(bt.maxLength=Ft),bt.addEventListener("input",Pt=>{$.setValue(ht,{value:Pt.target.value}),this.setPropertyOnSiblings(bt,"value",Pt.target.value,"value"),Et.formattedValue=null}),bt.addEventListener("resetform",Pt=>{const xt=this.data.defaultFieldValue??"";bt.value=Et.userValue=xt,Et.formattedValue=null});let Mt=Pt=>{const{formattedValue:xt}=Et;xt!=null&&(Pt.target.value=xt),Pt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){bt.addEventListener("focus",xt=>{var _t;if(Et.focused)return;const{target:$t}=xt;Et.userValue&&($t.value=Et.userValue),Et.lastCommittedValue=$t.value,Et.commitKey=1,(_t=this.data.actions)!=null&&_t.Focus||(Et.focused=!0)}),bt.addEventListener("updatefromsandbox",xt=>{this.showElementAndHideCanvas(xt.target);const $t={value(_t){Et.userValue=_t.detail.value??"",$.setValue(ht,{value:Et.userValue.toString()}),_t.target.value=Et.userValue},formattedValue(_t){const{formattedValue:jt}=_t.detail;Et.formattedValue=jt,jt!=null&&_t.target!==document.activeElement&&(_t.target.value=jt),$.setValue(ht,{formattedValue:jt})},selRange(_t){_t.target.setSelectionRange(..._t.detail.selRange)},charLimit:_t=>{var Lt;const{charLimit:jt}=_t.detail,{target:Rt}=_t;if(jt===0){Rt.removeAttribute("maxLength");return}Rt.setAttribute("maxLength",jt);let Nt=Et.userValue;!Nt||Nt.length<=jt||(Nt=Nt.slice(0,jt),Rt.value=Et.userValue=Nt,$.setValue(ht,{value:Nt}),(Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Nt,willCommit:!0,commitKey:1,selStart:Rt.selectionStart,selEnd:Rt.selectionEnd}}))}};this._dispatchEventFromSandbox($t,xt)}),bt.addEventListener("keydown",xt=>{var jt;Et.commitKey=1;let $t=-1;if(xt.key==="Escape"?$t=0:xt.key==="Enter"&&!this.data.multiLine?$t=2:xt.key==="Tab"&&(Et.commitKey=3),$t===-1)return;const{value:_t}=xt.target;Et.lastCommittedValue!==_t&&(Et.lastCommittedValue=_t,Et.userValue=_t,(jt=this.linkService.eventBus)==null||jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:_t,willCommit:!0,commitKey:$t,selStart:xt.target.selectionStart,selEnd:xt.target.selectionEnd}}))});const Pt=Mt;Mt=null,bt.addEventListener("blur",xt=>{var _t,jt;if(!Et.focused||!xt.relatedTarget)return;(_t=this.data.actions)!=null&&_t.Blur||(Et.focused=!1);const{value:$t}=xt.target;Et.userValue=$t,Et.lastCommittedValue!==$t&&((jt=this.linkService.eventBus)==null||jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:$t,willCommit:!0,commitKey:Et.commitKey,selStart:xt.target.selectionStart,selEnd:xt.target.selectionEnd}})),Pt(xt)}),(At=this.data.actions)!=null&&At.Keystroke&&bt.addEventListener("beforeinput",xt=>{var Bt;Et.lastCommittedValue=null;const{data:$t,target:_t}=xt,{value:jt,selectionStart:Rt,selectionEnd:Nt}=_t;let Lt=Rt,kt=Nt;switch(xt.inputType){case"deleteWordBackward":{const Ht=jt.substring(0,Rt).match(/\w*[^\w]*$/);Ht&&(Lt-=Ht[0].length);break}case"deleteWordForward":{const Ht=jt.substring(Rt).match(/^[^\w]*\w*/);Ht&&(kt+=Ht[0].length);break}case"deleteContentBackward":Rt===Nt&&(Lt-=1);break;case"deleteContentForward":Rt===Nt&&(kt+=1);break}xt.preventDefault(),(Bt=this.linkService.eventBus)==null||Bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:jt,change:$t||"",willCommit:!1,selStart:Lt,selEnd:kt}})}),this._setEventListeners(bt,Et,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],xt=>xt.target.value)}if(Mt&&bt.addEventListener("blur",Mt),this.data.comb){const xt=(this.data.rect[2]-this.data.rect[0])/Ft;bt.classList.add("comb"),bt.style.letterSpacing=`calc(${xt}px * var(--scale-factor) - 1ch)`}}else bt=document.createElement("div"),bt.textContent=this.data.fieldValue,bt.style.verticalAlign="middle",bt.style.display="table-cell",this.data.hasOwnCanvas&&(bt.hidden=!0);return this._setTextStyle(bt),this._setBackgroundColor(bt),this._setDefaultPropertiesFromJS(bt),this.container.append(bt),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:!!$.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){const $=this.annotationStorage,ht=this.data,bt=ht.id;let wt=$.getValue(bt,{value:ht.exportValue===ht.fieldValue}).value;typeof wt=="string"&&(wt=wt!=="Off",$.setValue(bt,{value:wt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const At=document.createElement("input");return GetElementsByNameSet.add(At),At.setAttribute("data-element-id",bt),At.disabled=ht.readOnly,this._setRequired(At,this.data.required),At.type="checkbox",At.name=ht.fieldName,wt&&At.setAttribute("checked",!0),At.setAttribute("exportValue",ht.exportValue),At.tabIndex=DEFAULT_TAB_INDEX,At.addEventListener("change",Ct=>{const{name:St,checked:Ft}=Ct.target;for(const vt of this._getElementsByName(St,bt)){const Et=Ft&&vt.exportValue===ht.exportValue;vt.domElement&&(vt.domElement.checked=Et),$.setValue(vt.id,{value:Et})}$.setValue(bt,{value:Ft})}),At.addEventListener("resetform",Ct=>{const St=ht.defaultFieldValue||"Off";Ct.target.checked=St===ht.exportValue}),this.enableScripting&&this.hasJSActions&&(At.addEventListener("updatefromsandbox",Ct=>{const St={value(Ft){Ft.target.checked=Ft.detail.value!=="Off",$.setValue(bt,{value:Ft.target.checked})}};this._dispatchEventFromSandbox(St,Ct)}),this._setEventListeners(At,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ct=>Ct.target.checked)),this._setBackgroundColor(At),this._setDefaultPropertiesFromJS(At),this.container.append(At),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const $=this.annotationStorage,ht=this.data,bt=ht.id;let wt=$.getValue(bt,{value:ht.fieldValue===ht.buttonValue}).value;if(typeof wt=="string"&&(wt=wt!==ht.buttonValue,$.setValue(bt,{value:wt})),wt)for(const Ct of this._getElementsByName(ht.fieldName,bt))$.setValue(Ct.id,{value:!1});const At=document.createElement("input");if(GetElementsByNameSet.add(At),At.setAttribute("data-element-id",bt),At.disabled=ht.readOnly,this._setRequired(At,this.data.required),At.type="radio",At.name=ht.fieldName,wt&&At.setAttribute("checked",!0),At.tabIndex=DEFAULT_TAB_INDEX,At.addEventListener("change",Ct=>{const{name:St,checked:Ft}=Ct.target;for(const vt of this._getElementsByName(St,bt))$.setValue(vt.id,{value:!1});$.setValue(bt,{value:Ft})}),At.addEventListener("resetform",Ct=>{const St=ht.defaultFieldValue;Ct.target.checked=St!=null&&St===ht.buttonValue}),this.enableScripting&&this.hasJSActions){const Ct=ht.buttonValue;At.addEventListener("updatefromsandbox",St=>{const Ft={value:vt=>{const Et=Ct===vt.detail.value;for(const Mt of this._getElementsByName(vt.target.name)){const Pt=Et&&Mt.id===bt;Mt.domElement&&(Mt.domElement.checked=Pt),$.setValue(Mt.id,{value:Pt})}}};this._dispatchEventFromSandbox(Ft,St)}),this._setEventListeners(At,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],St=>St.target.checked)}return this._setBackgroundColor(At),this._setDefaultPropertiesFromJS(At),this.container.append(At),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor($){super($,{ignoreBorder:$.data.hasAppearance})}render(){const $=super.render();$.classList.add("buttonWidgetAnnotation","pushButton");const ht=$.lastChild;return this.enableScripting&&this.hasJSActions&&ht&&(this._setDefaultPropertiesFromJS(ht),ht.addEventListener("updatefromsandbox",bt=>{this._dispatchEventFromSandbox({},bt)})),$}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const $=this.annotationStorage,ht=this.data.id,bt=$.getValue(ht,{value:this.data.fieldValue}),wt=document.createElement("select");GetElementsByNameSet.add(wt),wt.setAttribute("data-element-id",ht),wt.disabled=this.data.readOnly,this._setRequired(wt,this.data.required),wt.name=this.data.fieldName,wt.tabIndex=DEFAULT_TAB_INDEX;let At=this.data.combo&&this.data.options.length>0;this.data.combo||(wt.size=this.data.options.length,this.data.multiSelect&&(wt.multiple=!0)),wt.addEventListener("resetform",Et=>{const Mt=this.data.defaultFieldValue;for(const Pt of wt.options)Pt.selected=Pt.value===Mt});for(const Et of this.data.options){const Mt=document.createElement("option");Mt.textContent=Et.displayValue,Mt.value=Et.exportValue,bt.value.includes(Et.exportValue)&&(Mt.setAttribute("selected",!0),At=!1),wt.append(Mt)}let Ct=null;if(At){const Et=document.createElement("option");Et.value=" ",Et.setAttribute("hidden",!0),Et.setAttribute("selected",!0),wt.prepend(Et),Ct=()=>{Et.remove(),wt.removeEventListener("input",Ct),Ct=null},wt.addEventListener("input",Ct)}const St=Et=>{const Mt=Et?"value":"textContent",{options:Pt,multiple:xt}=wt;return xt?Array.prototype.filter.call(Pt,$t=>$t.selected).map($t=>$t[Mt]):Pt.selectedIndex===-1?null:Pt[Pt.selectedIndex][Mt]};let Ft=St(!1);const vt=Et=>{const Mt=Et.target.options;return Array.prototype.map.call(Mt,Pt=>({displayValue:Pt.textContent,exportValue:Pt.value}))};return this.enableScripting&&this.hasJSActions?(wt.addEventListener("updatefromsandbox",Et=>{const Mt={value(Pt){Ct==null||Ct();const xt=Pt.detail.value,$t=new Set(Array.isArray(xt)?xt:[xt]);for(const _t of wt.options)_t.selected=$t.has(_t.value);$.setValue(ht,{value:St(!0)}),Ft=St(!1)},multipleSelection(Pt){wt.multiple=!0},remove(Pt){const xt=wt.options,$t=Pt.detail.remove;xt[$t].selected=!1,wt.remove($t),xt.length>0&&Array.prototype.findIndex.call(xt,jt=>jt.selected)===-1&&(xt[0].selected=!0),$.setValue(ht,{value:St(!0),items:vt(Pt)}),Ft=St(!1)},clear(Pt){for(;wt.length!==0;)wt.remove(0);$.setValue(ht,{value:null,items:[]}),Ft=St(!1)},insert(Pt){const{index:xt,displayValue:$t,exportValue:_t}=Pt.detail.insert,jt=wt.children[xt],Rt=document.createElement("option");Rt.textContent=$t,Rt.value=_t,jt?jt.before(Rt):wt.append(Rt),$.setValue(ht,{value:St(!0),items:vt(Pt)}),Ft=St(!1)},items(Pt){const{items:xt}=Pt.detail;for(;wt.length!==0;)wt.remove(0);for(const $t of xt){const{displayValue:_t,exportValue:jt}=$t,Rt=document.createElement("option");Rt.textContent=_t,Rt.value=jt,wt.append(Rt)}wt.options.length>0&&(wt.options[0].selected=!0),$.setValue(ht,{value:St(!0),items:vt(Pt)}),Ft=St(!1)},indices(Pt){const xt=new Set(Pt.detail.indices);for(const $t of Pt.target.options)$t.selected=xt.has($t.index);$.setValue(ht,{value:St(!0)}),Ft=St(!1)},editable(Pt){Pt.target.disabled=!Pt.detail.editable}};this._dispatchEventFromSandbox(Mt,Et)}),wt.addEventListener("input",Et=>{var xt;const Mt=St(!0),Pt=St(!1);$.setValue(ht,{value:Mt}),Et.preventDefault(),(xt=this.linkService.eventBus)==null||xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Ft,change:Pt,changeEx:Mt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(wt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Et=>Et.target.value)):wt.addEventListener("input",function(Et){$.setValue(ht,{value:St(!0)})}),this.data.combo&&this._setTextStyle(wt),this._setBackgroundColor(wt),this._setDefaultPropertiesFromJS(wt),this.container.append(wt),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor($){const{data:ht,elements:bt}=$;super($,{isRenderable:AnnotationElement._hasPopupData(ht)}),this.elements=bt,this.popup=null}render(){this.container.classList.add("popupAnnotation");const $=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),ht=[];for(const bt of this.elements)bt.popup=$,ht.push(bt.data.id),bt.addHighlightArea();return this.container.setAttribute("aria-controls",ht.map(bt=>`${AnnotationPrefix}${bt}`).join(",")),this.container}}var dp,M2,R2,fp,Q0,$a,wu,_h,Ym,Jm,pp,Au,Pl,Su,Zm,Cu,Qm,_d,_f,Ws,Jx,gy,q9,K9,Y9,J9,Zx,Qx,my;class PopupElement{constructor({container:$,color:ht,elements:bt,titleObj:wt,modificationDate:At,contentsObj:Ct,richText:St,parent:Ft,rect:vt,parentRect:Et,open:Mt}){$n(this,Ws);$n(this,dp,Dn(this,Ws,Y9).bind(this));$n(this,M2,Dn(this,Ws,my).bind(this));$n(this,R2,Dn(this,Ws,Qx).bind(this));$n(this,fp,Dn(this,Ws,Zx).bind(this));$n(this,Q0,null);$n(this,$a,null);$n(this,wu,null);$n(this,_h,null);$n(this,Ym,null);$n(this,Jm,null);$n(this,pp,null);$n(this,Au,!1);$n(this,Pl,null);$n(this,Su,null);$n(this,Zm,null);$n(this,Cu,null);$n(this,Qm,null);$n(this,_d,null);$n(this,_f,!1);var Pt;Ln(this,$a,$),Ln(this,Qm,wt),Ln(this,wu,Ct),Ln(this,Cu,St),Ln(this,Jm,Ft),Ln(this,Q0,ht),Ln(this,Zm,vt),Ln(this,pp,Et),Ln(this,Ym,bt),Ln(this,_h,PDFDateString.toDateObject(At)),this.trigger=bt.flatMap(xt=>xt.getElementsToTriggerPopup());for(const xt of this.trigger)xt.addEventListener("click",Xt(this,fp)),xt.addEventListener("mouseenter",Xt(this,R2)),xt.addEventListener("mouseleave",Xt(this,M2)),xt.classList.add("popupTriggerArea");for(const xt of bt)(Pt=xt.container)==null||Pt.addEventListener("keydown",Xt(this,dp));Xt(this,$a).hidden=!0,Mt&&Dn(this,Ws,Zx).call(this)}render(){if(Xt(this,Pl))return;const $=Ln(this,Pl,document.createElement("div"));if($.className="popup",Xt(this,Q0)){const At=$.style.outlineColor=Util.makeHexColor(...Xt(this,Q0));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$.style.backgroundColor=`color-mix(in srgb, ${At} 30%, white)`:$.style.backgroundColor=Util.makeHexColor(...Xt(this,Q0).map(St=>Math.floor(.7*(255-St)+St)))}const ht=document.createElement("span");ht.className="header";const bt=document.createElement("h1");if(ht.append(bt),{dir:bt.dir,str:bt.textContent}=Xt(this,Qm),$.append(ht),Xt(this,_h)){const At=document.createElement("span");At.classList.add("popupDate"),At.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),At.setAttribute("data-l10n-args",JSON.stringify({date:Xt(this,_h).toLocaleDateString(),time:Xt(this,_h).toLocaleTimeString()})),ht.append(At)}const wt=Xt(this,Ws,Jx);if(wt)XfaLayer.render({xfaHtml:wt,intent:"richText",div:$}),$.lastChild.classList.add("richText","popupContent");else{const At=this._formatContents(Xt(this,wu));$.append(At)}Xt(this,$a).append($)}_formatContents({str:$,dir:ht}){const bt=document.createElement("p");bt.classList.add("popupContent"),bt.dir=ht;const wt=$.split(/(?:\r\n?|\n)/);for(let At=0,Ct=wt.length;At<Ct;++At){const St=wt[At];bt.append(document.createTextNode(St)),At<Ct-1&&bt.append(document.createElement("br"))}return bt}updateEdited({rect:$,popupContent:ht}){var bt;Xt(this,_d)||Ln(this,_d,{contentsObj:Xt(this,wu),richText:Xt(this,Cu)}),$&&Ln(this,Su,null),ht&&(Ln(this,Cu,Dn(this,Ws,K9).call(this,ht)),Ln(this,wu,null)),(bt=Xt(this,Pl))==null||bt.remove(),Ln(this,Pl,null)}resetEdited(){var $;Xt(this,_d)&&({contentsObj:Fo(this,wu)._,richText:Fo(this,Cu)._}=Xt(this,_d),Ln(this,_d,null),($=Xt(this,Pl))==null||$.remove(),Ln(this,Pl,null),Ln(this,Su,null))}forceHide(){Ln(this,_f,this.isVisible),Xt(this,_f)&&(Xt(this,$a).hidden=!0)}maybeShow(){Xt(this,_f)&&(Xt(this,Pl)||Dn(this,Ws,Qx).call(this),Ln(this,_f,!1),Xt(this,$a).hidden=!1)}get isVisible(){return Xt(this,$a).hidden===!1}}dp=new WeakMap,M2=new WeakMap,R2=new WeakMap,fp=new WeakMap,Q0=new WeakMap,$a=new WeakMap,wu=new WeakMap,_h=new WeakMap,Ym=new WeakMap,Jm=new WeakMap,pp=new WeakMap,Au=new WeakMap,Pl=new WeakMap,Su=new WeakMap,Zm=new WeakMap,Cu=new WeakMap,Qm=new WeakMap,_d=new WeakMap,_f=new WeakMap,Ws=new WeakSet,Jx=function(){const $=Xt(this,Cu),ht=Xt(this,wu);return $!=null&&$.str&&(!(ht!=null&&ht.str)||ht.str===$.str)&&Xt(this,Cu).html||null},gy=function(){var $,ht,bt;return((bt=(ht=($=Xt(this,Ws,Jx))==null?void 0:$.attributes)==null?void 0:ht.style)==null?void 0:bt.fontSize)||0},q9=function(){var $,ht,bt;return((bt=(ht=($=Xt(this,Ws,Jx))==null?void 0:$.attributes)==null?void 0:ht.style)==null?void 0:bt.color)||null},K9=function($){const ht=[],bt={str:$,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:ht}]}},wt={style:{color:Xt(this,Ws,q9),fontSize:Xt(this,Ws,gy)?`calc(${Xt(this,Ws,gy)}px * var(--scale-factor))`:""}};for(const At of $.split(`
`))ht.push({name:"span",value:At,attributes:wt});return bt},Y9=function($){$.altKey||$.shiftKey||$.ctrlKey||$.metaKey||($.key==="Enter"||$.key==="Escape"&&Xt(this,Au))&&Dn(this,Ws,Zx).call(this)},J9=function(){if(Xt(this,Su)!==null)return;const{page:{view:$},viewport:{rawDims:{pageWidth:ht,pageHeight:bt,pageX:wt,pageY:At}}}=Xt(this,Jm);let Ct=!!Xt(this,pp),St=Ct?Xt(this,pp):Xt(this,Zm);for(const $t of Xt(this,Ym))if(!St||Util.intersect($t.data.rect,St)!==null){St=$t.data.rect,Ct=!0;break}const Ft=Util.normalizeRect([St[0],$[3]-St[1]+$[1],St[2],$[3]-St[3]+$[1]]),Et=Ct?St[2]-St[0]+5:0,Mt=Ft[0]+Et,Pt=Ft[1];Ln(this,Su,[100*(Mt-wt)/ht,100*(Pt-At)/bt]);const{style:xt}=Xt(this,$a);xt.left=`${Xt(this,Su)[0]}%`,xt.top=`${Xt(this,Su)[1]}%`},Zx=function(){Ln(this,Au,!Xt(this,Au)),Xt(this,Au)?(Dn(this,Ws,Qx).call(this),Xt(this,$a).addEventListener("click",Xt(this,fp)),Xt(this,$a).addEventListener("keydown",Xt(this,dp))):(Dn(this,Ws,my).call(this),Xt(this,$a).removeEventListener("click",Xt(this,fp)),Xt(this,$a).removeEventListener("keydown",Xt(this,dp)))},Qx=function(){Xt(this,Pl)||this.render(),this.isVisible?Xt(this,Au)&&Xt(this,$a).classList.add("focused"):(Dn(this,Ws,J9).call(this),Xt(this,$a).hidden=!1,Xt(this,$a).style.zIndex=parseInt(Xt(this,$a).style.zIndex)+1e3)},my=function(){Xt(this,$a).classList.remove("focused"),!(Xt(this,Au)||!this.isVisible)&&(Xt(this,$a).hidden=!0,Xt(this,$a).style.zIndex=parseInt(Xt(this,$a).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0}),this.textContent=$.data.textContent,this.textPosition=$.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const $=document.createElement("div");$.classList.add("annotationTextContent"),$.setAttribute("role","comment");for(const ht of this.textContent){const bt=document.createElement("span");bt.textContent=ht,$.append(bt)}this.container.append($)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var ex;class LineAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});$n(this,ex,null)}render(){this.container.classList.add("lineAnnotation");const ht=this.data,{width:bt,height:wt}=getRectDims(ht.rect),At=this.svgFactory.create(bt,wt,!0),Ct=Ln(this,ex,this.svgFactory.createElement("svg:line"));return Ct.setAttribute("x1",ht.rect[2]-ht.lineCoordinates[0]),Ct.setAttribute("y1",ht.rect[3]-ht.lineCoordinates[1]),Ct.setAttribute("x2",ht.rect[2]-ht.lineCoordinates[2]),Ct.setAttribute("y2",ht.rect[3]-ht.lineCoordinates[3]),Ct.setAttribute("stroke-width",ht.borderStyle.width||1),Ct.setAttribute("stroke","transparent"),Ct.setAttribute("fill","transparent"),At.append(Ct),this.container.append(At),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Xt(this,ex)}addHighlightArea(){this.container.classList.add("highlightArea")}}ex=new WeakMap;var tx;class SquareAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});$n(this,tx,null)}render(){this.container.classList.add("squareAnnotation");const ht=this.data,{width:bt,height:wt}=getRectDims(ht.rect),At=this.svgFactory.create(bt,wt,!0),Ct=ht.borderStyle.width,St=Ln(this,tx,this.svgFactory.createElement("svg:rect"));return St.setAttribute("x",Ct/2),St.setAttribute("y",Ct/2),St.setAttribute("width",bt-Ct),St.setAttribute("height",wt-Ct),St.setAttribute("stroke-width",Ct||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),At.append(St),this.container.append(At),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Xt(this,tx)}addHighlightArea(){this.container.classList.add("highlightArea")}}tx=new WeakMap;var nx;class CircleAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});$n(this,nx,null)}render(){this.container.classList.add("circleAnnotation");const ht=this.data,{width:bt,height:wt}=getRectDims(ht.rect),At=this.svgFactory.create(bt,wt,!0),Ct=ht.borderStyle.width,St=Ln(this,nx,this.svgFactory.createElement("svg:ellipse"));return St.setAttribute("cx",bt/2),St.setAttribute("cy",wt/2),St.setAttribute("rx",bt/2-Ct/2),St.setAttribute("ry",wt/2-Ct/2),St.setAttribute("stroke-width",Ct||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),At.append(St),this.container.append(At),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Xt(this,nx)}addHighlightArea(){this.container.classList.add("highlightArea")}}nx=new WeakMap;var ix;class PolylineAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});$n(this,ix,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const ht=this.data,{width:bt,height:wt}=getRectDims(ht.rect),At=this.svgFactory.create(bt,wt,!0);let Ct=[];for(const Ft of ht.vertices){const vt=Ft.x-ht.rect[0],Et=ht.rect[3]-Ft.y;Ct.push(vt+","+Et)}Ct=Ct.join(" ");const St=Ln(this,ix,this.svgFactory.createElement(this.svgElementName));return St.setAttribute("points",Ct),St.setAttribute("stroke-width",ht.borderStyle.width||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),At.append(St),this.container.append(At),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Xt(this,ix)}addHighlightArea(){this.container.classList.add("highlightArea")}}ix=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor($){super($),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var rx;class InkAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});$n(this,rx,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const ht=this.data,{width:bt,height:wt}=getRectDims(ht.rect),At=this.svgFactory.create(bt,wt,!0);for(const Ct of ht.inkLists){let St=[];for(const vt of Ct){const Et=vt.x-ht.rect[0],Mt=ht.rect[3]-vt.y;St.push(`${Et},${Mt}`)}St=St.join(" ");const Ft=this.svgFactory.createElement(this.svgElementName);Xt(this,rx).push(Ft),Ft.setAttribute("points",St),Ft.setAttribute("stroke-width",ht.borderStyle.width||1),Ft.setAttribute("stroke","transparent"),Ft.setAttribute("fill","transparent"),!ht.popupRef&&this.hasPopupData&&this._createPopup(),At.append(Ft)}return this.container.append(At),this.container}getElementsToTriggerPopup(){return Xt(this,rx)}addHighlightArea(){this.container.classList.add("highlightArea")}}rx=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var sx,ax,xy;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(ht){var wt;super(ht,{isRenderable:!0});$n(this,ax);$n(this,sx,null);const{file:bt}=this.data;this.filename=bt.filename,this.content=bt.content,(wt=this.linkService.eventBus)==null||wt.dispatch("fileattachmentannotation",{source:this,...bt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:ht,data:bt}=this;let wt;bt.hasAppearance||bt.fillAlpha===0?wt=document.createElement("div"):(wt=document.createElement("img"),wt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(bt.name)?"paperclip":"pushpin"}.svg`,bt.fillAlpha&&bt.fillAlpha<1&&(wt.style=`filter: opacity(${Math.round(bt.fillAlpha*100)}%);`)),wt.addEventListener("dblclick",Dn(this,ax,xy).bind(this)),Ln(this,sx,wt);const{isMac:At}=util_FeatureTest.platform;return ht.addEventListener("keydown",Ct=>{Ct.key==="Enter"&&(At?Ct.metaKey:Ct.ctrlKey)&&Dn(this,ax,xy).call(this)}),!bt.popupRef&&this.hasPopupData?this._createPopup():wt.classList.add("popupTriggerArea"),ht.append(wt),ht}getElementsToTriggerPopup(){return Xt(this,sx)}addHighlightArea(){this.container.classList.add("highlightArea")}}sx=new WeakMap,ax=new WeakSet,xy=function(){var ht;(ht=this.downloadManager)==null||ht.openOrDownloadData(this.content,this.filename)};var ox,e1,gp,y1,Z9,by;class AnnotationLayer{constructor({div:$,accessibilityManager:ht,annotationCanvasMap:bt,annotationEditorUIManager:wt,page:At,viewport:Ct}){$n(this,y1);$n(this,ox,null);$n(this,e1,null);$n(this,gp,new Map);this.div=$,Ln(this,ox,ht),Ln(this,e1,bt),this.page=At,this.viewport=Ct,this.zIndex=0,this._annotationEditorUIManager=wt}async render($){var Ct;const{annotations:ht}=$,bt=this.div;setLayerDimensions(bt,this.viewport);const wt=new Map,At={data:null,layer:bt,linkService:$.linkService,downloadManager:$.downloadManager,imageResourcesPath:$.imageResourcesPath||"",renderForms:$.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:$.annotationStorage||new AnnotationStorage,enableScripting:$.enableScripting===!0,hasJSActions:$.hasJSActions,fieldObjects:$.fieldObjects,parent:this,elements:null};for(const St of ht){if(St.noHTML)continue;const Ft=St.annotationType===AnnotationType.POPUP;if(Ft){const Mt=wt.get(St.id);if(!Mt)continue;At.elements=Mt}else{const{width:Mt,height:Pt}=getRectDims(St.rect);if(Mt<=0||Pt<=0)continue}At.data=St;const vt=AnnotationElementFactory.create(At);if(!vt.isRenderable)continue;if(!Ft&&St.popupRef){const Mt=wt.get(St.popupRef);Mt?Mt.push(vt):wt.set(St.popupRef,[vt])}const Et=vt.render();St.hidden&&(Et.style.visibility="hidden"),Dn(this,y1,Z9).call(this,Et,St.id),vt.annotationEditorType>0&&(Xt(this,gp).set(vt.data.id,vt),(Ct=this._annotationEditorUIManager)==null||Ct.renderAnnotationElement(vt))}Dn(this,y1,by).call(this)}update({viewport:$}){const ht=this.div;this.viewport=$,setLayerDimensions(ht,{rotation:$.rotation}),Dn(this,y1,by).call(this),ht.hidden=!1}getEditableAnnotations(){return Array.from(Xt(this,gp).values())}getEditableAnnotation($){return Xt(this,gp).get($)}}ox=new WeakMap,e1=new WeakMap,gp=new WeakMap,y1=new WeakSet,Z9=function($,ht){var wt;const bt=$.firstChild||$;bt.id=`${AnnotationPrefix}${ht}`,this.div.append($),(wt=Xt(this,ox))==null||wt.moveElementInDOM(this.div,$,bt,!1)},by=function(){if(!Xt(this,e1))return;const $=this.div;for(const[ht,bt]of Xt(this,e1)){const wt=$.querySelector(`[data-annotation-id="${ht}"]`);if(!wt)continue;bt.className="annotationContent";const{firstChild:At}=wt;At?At.nodeName==="CANVAS"?At.replaceWith(bt):At.classList.contains("annotationContent")?At.after(bt):At.before(bt):wt.append(bt)}Xt(this,e1).clear()};const EOL_PATTERN=/\r\n?|\n/g;var lx,cx,ux,hx,dx,_l,Vo,fx,zo,mp,ro,Q9,e3,t3,e2,Ou,t2,n2,n3,yy,i3;const Zs=class Zs extends AnnotationEditor{constructor(ht){super({...ht,name:"freeTextEditor"});$n(this,ro);$n(this,lx,this.editorDivBlur.bind(this));$n(this,cx,this.editorDivFocus.bind(this));$n(this,ux,this.editorDivInput.bind(this));$n(this,hx,this.editorDivKeydown.bind(this));$n(this,dx,this.editorDivPaste.bind(this));$n(this,_l);$n(this,Vo,"");$n(this,fx,`${this.id}-editor`);$n(this,zo);$n(this,mp,null);Ln(this,_l,ht.color||Zs._defaultColor||AnnotationEditor._defaultLineColor),Ln(this,zo,ht.fontSize||Zs._defaultFontSize)}static get _keyboardManager(){const ht=Zs.prototype,bt=Ct=>Ct.isEmpty(),wt=AnnotationEditorUIManager.TRANSLATE_SMALL,At=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ht.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ht.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ht._translateEmpty,{args:[-wt,0],checker:bt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ht._translateEmpty,{args:[-At,0],checker:bt}],[["ArrowRight","mac+ArrowRight"],ht._translateEmpty,{args:[wt,0],checker:bt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ht._translateEmpty,{args:[At,0],checker:bt}],[["ArrowUp","mac+ArrowUp"],ht._translateEmpty,{args:[0,-wt],checker:bt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ht._translateEmpty,{args:[0,-At],checker:bt}],[["ArrowDown","mac+ArrowDown"],ht._translateEmpty,{args:[0,wt],checker:bt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ht._translateEmpty,{args:[0,At],checker:bt}]]))}static initialize(ht,bt){AnnotationEditor.initialize(ht,bt,{strings:["pdfjs-free-text-default-content"]});const wt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(wt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ht,bt){switch(ht){case AnnotationEditorParamsType.FREETEXT_SIZE:Zs._defaultFontSize=bt;break;case AnnotationEditorParamsType.FREETEXT_COLOR:Zs._defaultColor=bt;break}}updateParams(ht,bt){switch(ht){case AnnotationEditorParamsType.FREETEXT_SIZE:Dn(this,ro,Q9).call(this,bt);break;case AnnotationEditorParamsType.FREETEXT_COLOR:Dn(this,ro,e3).call(this,bt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Zs._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,Zs._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Xt(this,zo)],[AnnotationEditorParamsType.FREETEXT_COLOR,Xt(this,_l)]]}_translateEmpty(ht,bt){this._uiManager.translateSelectedEditors(ht,bt,!0)}getInitialTranslation(){const ht=this.parentScale;return[-Zs._internalPadding*ht,-(Zs._internalPadding+Xt(this,zo))*ht]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Xt(this,hx)),this.editorDiv.addEventListener("focus",Xt(this,cx)),this.editorDiv.addEventListener("blur",Xt(this,lx)),this.editorDiv.addEventListener("input",Xt(this,ux)),this.editorDiv.addEventListener("paste",Xt(this,dx)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Xt(this,fx)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Xt(this,hx)),this.editorDiv.removeEventListener("focus",Xt(this,cx)),this.editorDiv.removeEventListener("blur",Xt(this,lx)),this.editorDiv.removeEventListener("input",Xt(this,ux)),this.editorDiv.removeEventListener("paste",Xt(this,dx)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(ht){this._focusEventsAllowed&&(super.focusin(ht),ht.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ht;this.width||(this.enableEditMode(),this.editorDiv.focus(),(ht=this._initialOptions)!=null&&ht.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ht=Xt(this,Vo),bt=Ln(this,Vo,Dn(this,ro,t3).call(this).trimEnd());if(ht===bt)return;const wt=At=>{if(Ln(this,Vo,At),!At){this.remove();return}Dn(this,ro,n2).call(this),this._uiManager.rebuild(this),Dn(this,ro,e2).call(this)};this.addCommands({cmd:()=>{wt(bt)},undo:()=>{wt(ht)},mustExec:!1}),Dn(this,ro,e2).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ht){this.enterInEditMode()}keydown(ht){ht.target===this.div&&ht.key==="Enter"&&(this.enterInEditMode(),ht.preventDefault())}editorDivKeydown(ht){Zs._keyboardManager.exec(this,ht)}editorDivFocus(ht){this.isEditing=!0}editorDivBlur(ht){this.isEditing=!1}editorDivInput(ht){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ht,bt;this.width&&(ht=this.x,bt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Xt(this,fx)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(At=>{var Ct;return(Ct=this.editorDiv)==null?void 0:Ct.setAttribute("default-content",At)}),this.editorDiv.contentEditable=!0;const{style:wt}=this.editorDiv;if(wt.fontSize=`calc(${Xt(this,zo)}px * var(--scale-factor))`,wt.color=Xt(this,_l),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[At,Ct]=this.parentDimensions;if(this.annotationElementId){const{position:St}=Xt(this,mp);let[Ft,vt]=this.getInitialTranslation();[Ft,vt]=this.pageTranslationToScreen(Ft,vt);const[Et,Mt]=this.pageDimensions,[Pt,xt]=this.pageTranslation;let $t,_t;switch(this.rotation){case 0:$t=ht+(St[0]-Pt)/Et,_t=bt+this.height-(St[1]-xt)/Mt;break;case 90:$t=ht+(St[0]-Pt)/Et,_t=bt-(St[1]-xt)/Mt,[Ft,vt]=[vt,-Ft];break;case 180:$t=ht-this.width+(St[0]-Pt)/Et,_t=bt-(St[1]-xt)/Mt,[Ft,vt]=[-Ft,-vt];break;case 270:$t=ht+(St[0]-Pt-this.height*Mt)/Et,_t=bt+(St[1]-xt-this.width*Et)/Mt,[Ft,vt]=[-vt,Ft];break}this.setAt($t*At,_t*Ct,Ft,vt)}else this.setAt(ht*At,bt*Ct,this.width*At,this.height*Ct);Dn(this,ro,n2).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(ht){var $t,_t,jt;const bt=ht.clipboardData||window.clipboardData,{types:wt}=bt;if(wt.length===1&&wt[0]==="text/plain")return;ht.preventDefault();const At=Dn($t=Zs,Ou,yy).call($t,bt.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!At)return;const Ct=window.getSelection();if(!Ct.rangeCount)return;this.editorDiv.normalize(),Ct.deleteFromDocument();const St=Ct.getRangeAt(0);if(!At.includes(`
`)){St.insertNode(document.createTextNode(At)),this.editorDiv.normalize(),Ct.collapseToStart();return}const{startContainer:Ft,startOffset:vt}=St,Et=[],Mt=[];if(Ft.nodeType===Node.TEXT_NODE){const Rt=Ft.parentElement;if(Mt.push(Ft.nodeValue.slice(vt).replaceAll(EOL_PATTERN,"")),Rt!==this.editorDiv){let Nt=Et;for(const Lt of this.editorDiv.childNodes){if(Lt===Rt){Nt=Mt;continue}Nt.push(Dn(_t=Zs,Ou,t2).call(_t,Lt))}}Et.push(Ft.nodeValue.slice(0,vt).replaceAll(EOL_PATTERN,""))}else if(Ft===this.editorDiv){let Rt=Et,Nt=0;for(const Lt of this.editorDiv.childNodes)Nt++===vt&&(Rt=Mt),Rt.push(Dn(jt=Zs,Ou,t2).call(jt,Lt))}Ln(this,Vo,`${Et.join(`
`)}${At}${Mt.join(`
`)}`),Dn(this,ro,n2).call(this);const Pt=new Range;let xt=Et.reduce((Rt,Nt)=>Rt+Nt.length,0);for(const{firstChild:Rt}of this.editorDiv.childNodes)if(Rt.nodeType===Node.TEXT_NODE){const Nt=Rt.nodeValue.length;if(xt<=Nt){Pt.setStart(Rt,xt),Pt.setEnd(Rt,xt);break}xt-=Nt}Ct.removeAllRanges(),Ct.addRange(Pt)}get contentDiv(){return this.editorDiv}static deserialize(ht,bt,wt){var St;let At=null;if(ht instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ft,fontColor:vt},rect:Et,rotation:Mt,id:Pt},textContent:xt,textPosition:$t,parent:{page:{pageNumber:_t}}}=ht;if(!xt||xt.length===0)return null;At=ht={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(vt),fontSize:Ft,value:xt.join(`
`),position:$t,pageIndex:_t-1,rect:Et.slice(0),rotation:Mt,id:Pt,deleted:!1}}const Ct=super.deserialize(ht,bt,wt);return Ln(Ct,zo,ht.fontSize),Ln(Ct,_l,Util.makeHexColor(...ht.color)),Ln(Ct,Vo,Dn(St=Zs,Ou,yy).call(St,ht.value)),Ct.annotationElementId=ht.id||null,Ln(Ct,mp,At),Ct}serialize(ht=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const bt=Zs._internalPadding*this.parentScale,wt=this.getRect(bt,bt),At=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Xt(this,_l)),Ct={annotationType:AnnotationEditorType.FREETEXT,color:At,fontSize:Xt(this,zo),value:Dn(this,ro,n3).call(this),pageIndex:this.pageIndex,rect:wt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ht?Ct:this.annotationElementId&&!Dn(this,ro,i3).call(this,Ct)?null:(Ct.id=this.annotationElementId,Ct)}renderAnnotationElement(ht){const bt=super.renderAnnotationElement(ht);if(this.deleted)return bt;const{style:wt}=bt;wt.fontSize=`calc(${Xt(this,zo)}px * var(--scale-factor))`,wt.color=Xt(this,_l),bt.replaceChildren();for(const Ct of Xt(this,Vo).split(`
`)){const St=document.createElement("div");St.append(Ct?document.createTextNode(Ct):document.createElement("br")),bt.append(St)}const At=Zs._internalPadding*this.parentScale;return ht.updateEdited({rect:this.getRect(At,At),popupContent:Xt(this,Vo)}),bt}resetAnnotationElement(ht){super.resetAnnotationElement(ht),ht.resetEdited()}};lx=new WeakMap,cx=new WeakMap,ux=new WeakMap,hx=new WeakMap,dx=new WeakMap,_l=new WeakMap,Vo=new WeakMap,fx=new WeakMap,zo=new WeakMap,mp=new WeakMap,ro=new WeakSet,Q9=function(ht){const bt=At=>{this.editorDiv.style.fontSize=`calc(${At}px * var(--scale-factor))`,this.translate(0,-(At-Xt(this,zo))*this.parentScale),Ln(this,zo,At),Dn(this,ro,e2).call(this)},wt=Xt(this,zo);this.addCommands({cmd:bt.bind(this,ht),undo:bt.bind(this,wt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},e3=function(ht){const bt=At=>{Ln(this,_l,this.editorDiv.style.color=At)},wt=Xt(this,_l);this.addCommands({cmd:bt.bind(this,ht),undo:bt.bind(this,wt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},t3=function(){var bt;const ht=[];this.editorDiv.normalize();for(const wt of this.editorDiv.childNodes)ht.push(Dn(bt=Zs,Ou,t2).call(bt,wt));return ht.join(`
`)},e2=function(){const[ht,bt]=this.parentDimensions;let wt;if(this.isAttachedToDOM)wt=this.div.getBoundingClientRect();else{const{currentLayer:At,div:Ct}=this,St=Ct.style.display,Ft=Ct.classList.contains("hidden");Ct.classList.remove("hidden"),Ct.style.display="hidden",At.div.append(this.div),wt=Ct.getBoundingClientRect(),Ct.remove(),Ct.style.display=St,Ct.classList.toggle("hidden",Ft)}this.rotation%180===this.parentRotation%180?(this.width=wt.width/ht,this.height=wt.height/bt):(this.width=wt.height/ht,this.height=wt.width/bt),this.fixAndSetPosition()},Ou=new WeakSet,t2=function(ht){return(ht.nodeType===Node.TEXT_NODE?ht.nodeValue:ht.innerText).replaceAll(EOL_PATTERN,"")},n2=function(){if(this.editorDiv.replaceChildren(),!!Xt(this,Vo))for(const ht of Xt(this,Vo).split(`
`)){const bt=document.createElement("div");bt.append(ht?document.createTextNode(ht):document.createElement("br")),this.editorDiv.append(bt)}},n3=function(){return Xt(this,Vo).replaceAll(""," ")},yy=function(ht){return ht.replaceAll(" ","")},i3=function(ht){const{value:bt,fontSize:wt,color:At,pageIndex:Ct}=Xt(this,mp);return this._hasBeenMoved||ht.value!==bt||ht.fontSize!==wt||ht.color.some((St,Ft)=>St!==At[Ft])||ht.pageIndex!==Ct},$n(Zs,Ou),os(Zs,"_freeTextDefaultContent",""),os(Zs,"_internalPadding",0),os(Zs,"_defaultColor",null),os(Zs,"_defaultFontSize",10),os(Zs,"_type","freetext"),os(Zs,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=Zs;var gx,n0,Ml,Oo,r3,i2,s3,a3,vy;class Outliner{constructor($,ht=0,bt=0,wt=!0){$n(this,Oo);$n(this,gx);$n(this,n0,[]);$n(this,Ml,[]);let At=1/0,Ct=-1/0,St=1/0,Ft=-1/0;const Et=10**-4;for(const{x:Rt,y:Nt,width:Lt,height:kt}of $){const Bt=Math.floor((Rt-ht)/Et)*Et,Ht=Math.ceil((Rt+Lt+ht)/Et)*Et,Ot=Math.floor((Nt-ht)/Et)*Et,Vt=Math.ceil((Nt+kt+ht)/Et)*Et,Gt=[Bt,Ot,Vt,!0],Wt=[Ht,Ot,Vt,!1];Xt(this,n0).push(Gt,Wt),At=Math.min(At,Bt),Ct=Math.max(Ct,Ht),St=Math.min(St,Ot),Ft=Math.max(Ft,Vt)}const Mt=Ct-At+2*bt,Pt=Ft-St+2*bt,xt=At-bt,$t=St-bt,_t=Xt(this,n0).at(wt?-1:-2),jt=[_t[0],_t[2]];for(const Rt of Xt(this,n0)){const[Nt,Lt,kt]=Rt;Rt[0]=(Nt-xt)/Mt,Rt[1]=(Lt-$t)/Pt,Rt[2]=(kt-$t)/Pt}Ln(this,gx,{x:xt,y:$t,width:Mt,height:Pt,lastPoint:jt})}getOutlines(){Xt(this,n0).sort((ht,bt)=>ht[0]-bt[0]||ht[1]-bt[1]||ht[2]-bt[2]);const $=[];for(const ht of Xt(this,n0))ht[3]?($.push(...Dn(this,Oo,vy).call(this,ht)),Dn(this,Oo,s3).call(this,ht)):(Dn(this,Oo,a3).call(this,ht),$.push(...Dn(this,Oo,vy).call(this,ht)));return Dn(this,Oo,r3).call(this,$)}}gx=new WeakMap,n0=new WeakMap,Ml=new WeakMap,Oo=new WeakSet,r3=function($){const ht=[],bt=new Set;for(const Ct of $){const[St,Ft,vt]=Ct;ht.push([St,Ft,Ct],[St,vt,Ct])}ht.sort((Ct,St)=>Ct[1]-St[1]||Ct[0]-St[0]);for(let Ct=0,St=ht.length;Ct<St;Ct+=2){const Ft=ht[Ct][2],vt=ht[Ct+1][2];Ft.push(vt),vt.push(Ft),bt.add(Ft),bt.add(vt)}const wt=[];let At;for(;bt.size>0;){const Ct=bt.values().next().value;let[St,Ft,vt,Et,Mt]=Ct;bt.delete(Ct);let Pt=St,xt=Ft;for(At=[St,vt],wt.push(At);;){let $t;if(bt.has(Et))$t=Et;else if(bt.has(Mt))$t=Mt;else break;bt.delete($t),[St,Ft,vt,Et,Mt]=$t,Pt!==St&&(At.push(Pt,xt,St,xt===Ft?Ft:vt),Pt=St),xt=xt===Ft?vt:Ft}At.push(Pt,xt)}return new HighlightOutline(wt,Xt(this,gx))},i2=function($){const ht=Xt(this,Ml);let bt=0,wt=ht.length-1;for(;bt<=wt;){const At=bt+wt>>1,Ct=ht[At][0];if(Ct===$)return At;Ct<$?bt=At+1:wt=At-1}return wt+1},s3=function([,$,ht]){const bt=Dn(this,Oo,i2).call(this,$);Xt(this,Ml).splice(bt,0,[$,ht])},a3=function([,$,ht]){const bt=Dn(this,Oo,i2).call(this,$);for(let wt=bt;wt<Xt(this,Ml).length;wt++){const[At,Ct]=Xt(this,Ml)[wt];if(At!==$)break;if(At===$&&Ct===ht){Xt(this,Ml).splice(wt,1);return}}for(let wt=bt-1;wt>=0;wt--){const[At,Ct]=Xt(this,Ml)[wt];if(At!==$)break;if(At===$&&Ct===ht){Xt(this,Ml).splice(wt,1);return}}},vy=function($){const[ht,bt,wt]=$,At=[[ht,bt,wt]],Ct=Dn(this,Oo,i2).call(this,wt);for(let St=0;St<Ct;St++){const[Ft,vt]=Xt(this,Ml)[St];for(let Et=0,Mt=At.length;Et<Mt;Et++){const[,Pt,xt]=At[Et];if(!(vt<=Pt||xt<=Ft)){if(Pt>=Ft){if(xt>vt)At[Et][1]=vt;else{if(Mt===1)return[];At.splice(Et,1),Et--,Mt--}continue}At[Et][2]=Ft,xt>vt&&At.push([ht,vt,xt])}}}return At};class Outline{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize($,ht){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof FreeHighlightOutline}}var mx,xp;class HighlightOutline extends Outline{constructor(ht,bt){super();$n(this,mx);$n(this,xp);Ln(this,xp,ht),Ln(this,mx,bt)}toSVGPath(){const ht=[];for(const bt of Xt(this,xp)){let[wt,At]=bt;ht.push(`M${wt} ${At}`);for(let Ct=2;Ct<bt.length;Ct+=2){const St=bt[Ct],Ft=bt[Ct+1];St===wt?(ht.push(`V${Ft}`),At=Ft):Ft===At&&(ht.push(`H${St}`),wt=St)}ht.push("Z")}return ht.join(" ")}serialize([ht,bt,wt,At],Ct){const St=[],Ft=wt-ht,vt=At-bt;for(const Et of Xt(this,xp)){const Mt=new Array(Et.length);for(let Pt=0;Pt<Et.length;Pt+=2)Mt[Pt]=ht+Et[Pt]*Ft,Mt[Pt+1]=At-Et[Pt+1]*vt;St.push(Mt)}return St}get box(){return Xt(this,mx)}}mx=new WeakMap,xp=new WeakMap;var Kl,Eu,bp,yp,Yl,Os,t1,n1,xx,bx,vp,wp,i0,yx,O2,I2,vx,wy;const au=class au{constructor({x:$,y:ht},bt,wt,At,Ct,St=0){$n(this,vx);$n(this,Kl);$n(this,Eu,[]);$n(this,bp);$n(this,yp);$n(this,Yl,[]);$n(this,Os,new Float64Array(18));$n(this,t1);$n(this,n1);$n(this,xx);$n(this,bx);$n(this,vp);$n(this,wp);$n(this,i0,[]);Ln(this,Kl,bt),Ln(this,wp,At*wt),Ln(this,yp,Ct),Xt(this,Os).set([NaN,NaN,NaN,NaN,$,ht],6),Ln(this,bp,St),Ln(this,bx,Xt(au,yx)*wt),Ln(this,xx,Xt(au,I2)*wt),Ln(this,vp,wt),Xt(this,i0).push($,ht)}get free(){return!0}isEmpty(){return isNaN(Xt(this,Os)[8])}add({x:$,y:ht}){var Gt;Ln(this,t1,$),Ln(this,n1,ht);const[bt,wt,At,Ct]=Xt(this,Kl);let[St,Ft,vt,Et]=Xt(this,Os).subarray(8,12);const Mt=$-vt,Pt=ht-Et,xt=Math.hypot(Mt,Pt);if(xt<Xt(this,xx))return!1;const $t=xt-Xt(this,bx),_t=$t/xt,jt=_t*Mt,Rt=_t*Pt;let Nt=St,Lt=Ft;St=vt,Ft=Et,vt+=jt,Et+=Rt,(Gt=Xt(this,i0))==null||Gt.push($,ht);const kt=-Rt/$t,Bt=jt/$t,Ht=kt*Xt(this,wp),Ot=Bt*Xt(this,wp);return Xt(this,Os).set(Xt(this,Os).subarray(2,8),0),Xt(this,Os).set([vt+Ht,Et+Ot],4),Xt(this,Os).set(Xt(this,Os).subarray(14,18),12),Xt(this,Os).set([vt-Ht,Et-Ot],16),isNaN(Xt(this,Os)[6])?(Xt(this,Yl).length===0&&(Xt(this,Os).set([St+Ht,Ft+Ot],2),Xt(this,Yl).push(NaN,NaN,NaN,NaN,(St+Ht-bt)/At,(Ft+Ot-wt)/Ct),Xt(this,Os).set([St-Ht,Ft-Ot],14),Xt(this,Eu).push(NaN,NaN,NaN,NaN,(St-Ht-bt)/At,(Ft-Ot-wt)/Ct)),Xt(this,Os).set([Nt,Lt,St,Ft,vt,Et],6),!this.isEmpty()):(Xt(this,Os).set([Nt,Lt,St,Ft,vt,Et],6),Math.abs(Math.atan2(Lt-Ft,Nt-St)-Math.atan2(Rt,jt))<Math.PI/2?([St,Ft,vt,Et]=Xt(this,Os).subarray(2,6),Xt(this,Yl).push(NaN,NaN,NaN,NaN,((St+vt)/2-bt)/At,((Ft+Et)/2-wt)/Ct),[St,Ft,Nt,Lt]=Xt(this,Os).subarray(14,18),Xt(this,Eu).push(NaN,NaN,NaN,NaN,((Nt+St)/2-bt)/At,((Lt+Ft)/2-wt)/Ct),!0):([Nt,Lt,St,Ft,vt,Et]=Xt(this,Os).subarray(0,6),Xt(this,Yl).push(((Nt+5*St)/6-bt)/At,((Lt+5*Ft)/6-wt)/Ct,((5*St+vt)/6-bt)/At,((5*Ft+Et)/6-wt)/Ct,((St+vt)/2-bt)/At,((Ft+Et)/2-wt)/Ct),[vt,Et,St,Ft,Nt,Lt]=Xt(this,Os).subarray(12,18),Xt(this,Eu).push(((Nt+5*St)/6-bt)/At,((Lt+5*Ft)/6-wt)/Ct,((5*St+vt)/6-bt)/At,((5*Ft+Et)/6-wt)/Ct,((St+vt)/2-bt)/At,((Ft+Et)/2-wt)/Ct),!0))}toSVGPath(){if(this.isEmpty())return"";const $=Xt(this,Yl),ht=Xt(this,Eu),bt=Xt(this,Os).subarray(4,6),wt=Xt(this,Os).subarray(16,18),[At,Ct,St,Ft]=Xt(this,Kl),[vt,Et,Mt,Pt]=Dn(this,vx,wy).call(this);if(isNaN(Xt(this,Os)[6])&&!this.isEmpty())return`M${(Xt(this,Os)[2]-At)/St} ${(Xt(this,Os)[3]-Ct)/Ft} L${(Xt(this,Os)[4]-At)/St} ${(Xt(this,Os)[5]-Ct)/Ft} L${vt} ${Et} L${Mt} ${Pt} L${(Xt(this,Os)[16]-At)/St} ${(Xt(this,Os)[17]-Ct)/Ft} L${(Xt(this,Os)[14]-At)/St} ${(Xt(this,Os)[15]-Ct)/Ft} Z`;const xt=[];xt.push(`M${$[4]} ${$[5]}`);for(let $t=6;$t<$.length;$t+=6)isNaN($[$t])?xt.push(`L${$[$t+4]} ${$[$t+5]}`):xt.push(`C${$[$t]} ${$[$t+1]} ${$[$t+2]} ${$[$t+3]} ${$[$t+4]} ${$[$t+5]}`);xt.push(`L${(bt[0]-At)/St} ${(bt[1]-Ct)/Ft} L${vt} ${Et} L${Mt} ${Pt} L${(wt[0]-At)/St} ${(wt[1]-Ct)/Ft}`);for(let $t=ht.length-6;$t>=6;$t-=6)isNaN(ht[$t])?xt.push(`L${ht[$t+4]} ${ht[$t+5]}`):xt.push(`C${ht[$t]} ${ht[$t+1]} ${ht[$t+2]} ${ht[$t+3]} ${ht[$t+4]} ${ht[$t+5]}`);return xt.push(`L${ht[4]} ${ht[5]} Z`),xt.join(" ")}getOutlines(){var Rt;const $=Xt(this,Yl),ht=Xt(this,Eu),bt=Xt(this,Os),wt=bt.subarray(4,6),At=bt.subarray(16,18),[Ct,St,Ft,vt]=Xt(this,Kl),Et=new Float64Array((((Rt=Xt(this,i0))==null?void 0:Rt.length)??0)+2);for(let Nt=0,Lt=Et.length-2;Nt<Lt;Nt+=2)Et[Nt]=(Xt(this,i0)[Nt]-Ct)/Ft,Et[Nt+1]=(Xt(this,i0)[Nt+1]-St)/vt;Et[Et.length-2]=(Xt(this,t1)-Ct)/Ft,Et[Et.length-1]=(Xt(this,n1)-St)/vt;const[Mt,Pt,xt,$t]=Dn(this,vx,wy).call(this);if(isNaN(bt[6])&&!this.isEmpty()){const Nt=new Float64Array(36);return Nt.set([NaN,NaN,NaN,NaN,(bt[2]-Ct)/Ft,(bt[3]-St)/vt,NaN,NaN,NaN,NaN,(bt[4]-Ct)/Ft,(bt[5]-St)/vt,NaN,NaN,NaN,NaN,Mt,Pt,NaN,NaN,NaN,NaN,xt,$t,NaN,NaN,NaN,NaN,(bt[16]-Ct)/Ft,(bt[17]-St)/vt,NaN,NaN,NaN,NaN,(bt[14]-Ct)/Ft,(bt[15]-St)/vt],0),new FreeHighlightOutline(Nt,Et,Xt(this,Kl),Xt(this,vp),Xt(this,bp),Xt(this,yp))}const _t=new Float64Array(Xt(this,Yl).length+24+Xt(this,Eu).length);let jt=$.length;for(let Nt=0;Nt<jt;Nt+=2){if(isNaN($[Nt])){_t[Nt]=_t[Nt+1]=NaN;continue}_t[Nt]=$[Nt],_t[Nt+1]=$[Nt+1]}_t.set([NaN,NaN,NaN,NaN,(wt[0]-Ct)/Ft,(wt[1]-St)/vt,NaN,NaN,NaN,NaN,Mt,Pt,NaN,NaN,NaN,NaN,xt,$t,NaN,NaN,NaN,NaN,(At[0]-Ct)/Ft,(At[1]-St)/vt],jt),jt+=24;for(let Nt=ht.length-6;Nt>=6;Nt-=6)for(let Lt=0;Lt<6;Lt+=2){if(isNaN(ht[Nt+Lt])){_t[jt]=_t[jt+1]=NaN,jt+=2;continue}_t[jt]=ht[Nt+Lt],_t[jt+1]=ht[Nt+Lt+1],jt+=2}return _t.set([NaN,NaN,NaN,NaN,ht[4],ht[5]],jt),new FreeHighlightOutline(_t,Et,Xt(this,Kl),Xt(this,vp),Xt(this,bp),Xt(this,yp))}};Kl=new WeakMap,Eu=new WeakMap,bp=new WeakMap,yp=new WeakMap,Yl=new WeakMap,Os=new WeakMap,t1=new WeakMap,n1=new WeakMap,xx=new WeakMap,bx=new WeakMap,vp=new WeakMap,wp=new WeakMap,i0=new WeakMap,yx=new WeakMap,O2=new WeakMap,I2=new WeakMap,vx=new WeakSet,wy=function(){const $=Xt(this,Os).subarray(4,6),ht=Xt(this,Os).subarray(16,18),[bt,wt,At,Ct]=Xt(this,Kl);return[(Xt(this,t1)+($[0]-ht[0])/2-bt)/At,(Xt(this,n1)+($[1]-ht[1])/2-wt)/Ct,(Xt(this,t1)+(ht[0]-$[0])/2-bt)/At,(Xt(this,n1)+(ht[1]-$[1])/2-wt)/Ct]},$n(au,yx,8),$n(au,O2,2),$n(au,I2,Xt(au,yx)+Xt(au,O2));let FreeOutliner=au;var Ap,i1,ku,wx,Xo,Ax,to,No,Kp,Yp,o3;class FreeHighlightOutline extends Outline{constructor(ht,bt,wt,At,Ct,St){super();$n(this,No);$n(this,Ap);$n(this,i1,null);$n(this,ku);$n(this,wx);$n(this,Xo);$n(this,Ax);$n(this,to);Ln(this,to,ht),Ln(this,Xo,bt),Ln(this,Ap,wt),Ln(this,Ax,At),Ln(this,ku,Ct),Ln(this,wx,St),Dn(this,No,o3).call(this,St);const{x:Ft,y:vt,width:Et,height:Mt}=Xt(this,i1);for(let Pt=0,xt=ht.length;Pt<xt;Pt+=2)ht[Pt]=(ht[Pt]-Ft)/Et,ht[Pt+1]=(ht[Pt+1]-vt)/Mt;for(let Pt=0,xt=bt.length;Pt<xt;Pt+=2)bt[Pt]=(bt[Pt]-Ft)/Et,bt[Pt+1]=(bt[Pt+1]-vt)/Mt}toSVGPath(){const ht=[`M${Xt(this,to)[4]} ${Xt(this,to)[5]}`];for(let bt=6,wt=Xt(this,to).length;bt<wt;bt+=6){if(isNaN(Xt(this,to)[bt])){ht.push(`L${Xt(this,to)[bt+4]} ${Xt(this,to)[bt+5]}`);continue}ht.push(`C${Xt(this,to)[bt]} ${Xt(this,to)[bt+1]} ${Xt(this,to)[bt+2]} ${Xt(this,to)[bt+3]} ${Xt(this,to)[bt+4]} ${Xt(this,to)[bt+5]}`)}return ht.push("Z"),ht.join(" ")}serialize([ht,bt,wt,At],Ct){const St=wt-ht,Ft=At-bt;let vt,Et;switch(Ct){case 0:vt=Dn(this,No,Kp).call(this,Xt(this,to),ht,At,St,-Ft),Et=Dn(this,No,Kp).call(this,Xt(this,Xo),ht,At,St,-Ft);break;case 90:vt=Dn(this,No,Yp).call(this,Xt(this,to),ht,bt,St,Ft),Et=Dn(this,No,Yp).call(this,Xt(this,Xo),ht,bt,St,Ft);break;case 180:vt=Dn(this,No,Kp).call(this,Xt(this,to),wt,bt,-St,Ft),Et=Dn(this,No,Kp).call(this,Xt(this,Xo),wt,bt,-St,Ft);break;case 270:vt=Dn(this,No,Yp).call(this,Xt(this,to),wt,At,-St,-Ft),Et=Dn(this,No,Yp).call(this,Xt(this,Xo),wt,At,-St,-Ft);break}return{outline:Array.from(vt),points:[Array.from(Et)]}}get box(){return Xt(this,i1)}getNewOutline(ht,bt){const{x:wt,y:At,width:Ct,height:St}=Xt(this,i1),[Ft,vt,Et,Mt]=Xt(this,Ap),Pt=Ct*Et,xt=St*Mt,$t=wt*Et+Ft,_t=At*Mt+vt,jt=new FreeOutliner({x:Xt(this,Xo)[0]*Pt+$t,y:Xt(this,Xo)[1]*xt+_t},Xt(this,Ap),Xt(this,Ax),ht,Xt(this,wx),bt??Xt(this,ku));for(let Rt=2;Rt<Xt(this,Xo).length;Rt+=2)jt.add({x:Xt(this,Xo)[Rt]*Pt+$t,y:Xt(this,Xo)[Rt+1]*xt+_t});return jt.getOutlines()}}Ap=new WeakMap,i1=new WeakMap,ku=new WeakMap,wx=new WeakMap,Xo=new WeakMap,Ax=new WeakMap,to=new WeakMap,No=new WeakSet,Kp=function(ht,bt,wt,At,Ct){const St=new Float64Array(ht.length);for(let Ft=0,vt=ht.length;Ft<vt;Ft+=2)St[Ft]=bt+ht[Ft]*At,St[Ft+1]=wt+ht[Ft+1]*Ct;return St},Yp=function(ht,bt,wt,At,Ct){const St=new Float64Array(ht.length);for(let Ft=0,vt=ht.length;Ft<vt;Ft+=2)St[Ft]=bt+ht[Ft+1]*At,St[Ft+1]=wt+ht[Ft]*Ct;return St},o3=function(ht){const bt=Xt(this,to);let wt=bt[4],At=bt[5],Ct=wt,St=At,Ft=wt,vt=At,Et=wt,Mt=At;const Pt=ht?Math.max:Math.min;for(let Rt=6,Nt=bt.length;Rt<Nt;Rt+=6){if(isNaN(bt[Rt]))Ct=Math.min(Ct,bt[Rt+4]),St=Math.min(St,bt[Rt+5]),Ft=Math.max(Ft,bt[Rt+4]),vt=Math.max(vt,bt[Rt+5]),Mt<bt[Rt+5]?(Et=bt[Rt+4],Mt=bt[Rt+5]):Mt===bt[Rt+5]&&(Et=Pt(Et,bt[Rt+4]));else{const Lt=Util.bezierBoundingBox(wt,At,...bt.slice(Rt,Rt+6));Ct=Math.min(Ct,Lt[0]),St=Math.min(St,Lt[1]),Ft=Math.max(Ft,Lt[2]),vt=Math.max(vt,Lt[3]),Mt<Lt[3]?(Et=Lt[2],Mt=Lt[3]):Mt===Lt[3]&&(Et=Pt(Et,Lt[2]))}wt=bt[Rt+4],At=bt[Rt+5]}const xt=Ct-Xt(this,ku),$t=St-Xt(this,ku),_t=Ft-Ct+2*Xt(this,ku),jt=vt-St+2*Xt(this,ku);Ln(this,i1,{x:xt,y:$t,width:_t,height:jt,lastPoint:[Et,Mt]})};var Sx,Cx,Rl,r1,Sp,oo,Ex,Cp,kx,Fx,r0,Ep,Js,Ay,Sy,l3,S0,c3,Xu;const ou=class ou{constructor({editor:$=null,uiManager:ht=null}){$n(this,Js);$n(this,Sx,Dn(this,Js,l3).bind(this));$n(this,Cx,Dn(this,Js,c3).bind(this));$n(this,Rl,null);$n(this,r1,null);$n(this,Sp);$n(this,oo,null);$n(this,Ex,!1);$n(this,Cp,!1);$n(this,kx,null);$n(this,Fx);$n(this,r0,null);$n(this,Ep);var bt;$?(Ln(this,Cp,!1),Ln(this,Ep,AnnotationEditorParamsType.HIGHLIGHT_COLOR),Ln(this,kx,$)):(Ln(this,Cp,!0),Ln(this,Ep,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),Ln(this,r0,($==null?void 0:$._uiManager)||ht),Ln(this,Fx,Xt(this,r0)._eventBus),Ln(this,Sp,($==null?void 0:$.color)||((bt=Xt(this,r0))==null?void 0:bt.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],ou.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ou.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ou.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ou.prototype._moveToPrevious],[["Home","mac+Home"],ou.prototype._moveToBeginning],[["End","mac+End"],ou.prototype._moveToEnd]]))}renderButton(){const $=Ln(this,Rl,document.createElement("button"));$.className="colorPicker",$.tabIndex="0",$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),$.setAttribute("aria-haspopup",!0),$.addEventListener("click",Dn(this,Js,S0).bind(this)),$.addEventListener("keydown",Xt(this,Sx));const ht=Ln(this,r1,document.createElement("span"));return ht.className="swatch",ht.setAttribute("aria-hidden",!0),ht.style.backgroundColor=Xt(this,Sp),$.append(ht),$}renderMainDropdown(){const $=Ln(this,oo,Dn(this,Js,Ay).call(this));return $.setAttribute("aria-orientation","horizontal"),$.setAttribute("aria-labelledby","highlightColorPickerLabel"),$}_colorSelectFromKeyboard($){if($.target===Xt(this,Rl)){Dn(this,Js,S0).call(this,$);return}const ht=$.target.getAttribute("data-color");ht&&Dn(this,Js,Sy).call(this,ht,$)}_moveToNext($){var ht,bt;if(!Xt(this,Js,Xu)){Dn(this,Js,S0).call(this,$);return}if($.target===Xt(this,Rl)){(ht=Xt(this,oo).firstChild)==null||ht.focus();return}(bt=$.target.nextSibling)==null||bt.focus()}_moveToPrevious($){var ht,bt;if($.target===((ht=Xt(this,oo))==null?void 0:ht.firstChild)||$.target===Xt(this,Rl)){Xt(this,Js,Xu)&&this._hideDropdownFromKeyboard();return}Xt(this,Js,Xu)||Dn(this,Js,S0).call(this,$),(bt=$.target.previousSibling)==null||bt.focus()}_moveToBeginning($){var ht;if(!Xt(this,Js,Xu)){Dn(this,Js,S0).call(this,$);return}(ht=Xt(this,oo).firstChild)==null||ht.focus()}_moveToEnd($){var ht;if(!Xt(this,Js,Xu)){Dn(this,Js,S0).call(this,$);return}(ht=Xt(this,oo).lastChild)==null||ht.focus()}hideDropdown(){var $;($=Xt(this,oo))==null||$.classList.add("hidden"),window.removeEventListener("pointerdown",Xt(this,Cx))}_hideDropdownFromKeyboard(){var $;if(!Xt(this,Cp)){if(!Xt(this,Js,Xu)){($=Xt(this,kx))==null||$.unselect();return}this.hideDropdown(),Xt(this,Rl).focus({preventScroll:!0,focusVisible:Xt(this,Ex)})}}updateColor($){if(Xt(this,r1)&&(Xt(this,r1).style.backgroundColor=$),!Xt(this,oo))return;const ht=Xt(this,r0).highlightColors.values();for(const bt of Xt(this,oo).children)bt.setAttribute("aria-selected",ht.next().value===$)}destroy(){var $,ht;($=Xt(this,Rl))==null||$.remove(),Ln(this,Rl,null),Ln(this,r1,null),(ht=Xt(this,oo))==null||ht.remove(),Ln(this,oo,null)}};Sx=new WeakMap,Cx=new WeakMap,Rl=new WeakMap,r1=new WeakMap,Sp=new WeakMap,oo=new WeakMap,Ex=new WeakMap,Cp=new WeakMap,kx=new WeakMap,Fx=new WeakMap,r0=new WeakMap,Ep=new WeakMap,Js=new WeakSet,Ay=function(){const $=document.createElement("div");$.addEventListener("contextmenu",noContextMenu),$.className="dropdown",$.role="listbox",$.setAttribute("aria-multiselectable",!1),$.setAttribute("aria-orientation","vertical"),$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[ht,bt]of Xt(this,r0).highlightColors){const wt=document.createElement("button");wt.tabIndex="0",wt.role="option",wt.setAttribute("data-color",bt),wt.title=ht,wt.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${ht}`);const At=document.createElement("span");wt.append(At),At.className="swatch",At.style.backgroundColor=bt,wt.setAttribute("aria-selected",bt===Xt(this,Sp)),wt.addEventListener("click",Dn(this,Js,Sy).bind(this,bt)),$.append(wt)}return $.addEventListener("keydown",Xt(this,Sx)),$},Sy=function($,ht){ht.stopPropagation(),Xt(this,Fx).dispatch("switchannotationeditorparams",{source:this,type:Xt(this,Ep),value:$})},l3=function($){ou._keyboardManager.exec(this,$)},S0=function($){if(Xt(this,Js,Xu)){this.hideDropdown();return}if(Ln(this,Ex,$.detail===0),window.addEventListener("pointerdown",Xt(this,Cx)),Xt(this,oo)){Xt(this,oo).classList.remove("hidden");return}const ht=Ln(this,oo,Dn(this,Js,Ay).call(this));Xt(this,Rl).append(ht)},c3=function($){var ht;(ht=Xt(this,oo))!=null&&ht.contains($.target)||this.hideDropdown()},Xu=function(){return Xt(this,oo)&&!Xt(this,oo).classList.contains("hidden")};let ColorPicker=ou;var kp,Tx,s0,s1,Fp,Jo,Px,_x,a1,Ol,_o,Wo,D2,Tp,o1,lo,Pp,Jl,Mx,Ts,Cy,Ey,u3,h3,d3,ky,Jp,xl,L1,f3,r2,Zp,p3,g3,m3,x3;const Bs=class Bs extends AnnotationEditor{constructor(ht){super({...ht,name:"highlightEditor"});$n(this,Ts);$n(this,kp,null);$n(this,Tx,0);$n(this,s0);$n(this,s1,null);$n(this,Fp,null);$n(this,Jo,null);$n(this,Px,null);$n(this,_x,0);$n(this,a1,null);$n(this,Ol,null);$n(this,_o,null);$n(this,Wo,!1);$n(this,D2,Dn(this,Ts,f3).bind(this));$n(this,Tp,null);$n(this,o1);$n(this,lo,null);$n(this,Pp,"");$n(this,Jl);$n(this,Mx,"");this.color=ht.color||Bs._defaultColor,Ln(this,Jl,ht.thickness||Bs._defaultThickness),Ln(this,o1,ht.opacity||Bs._defaultOpacity),Ln(this,s0,ht.boxes||null),Ln(this,Mx,ht.methodOfCreation||""),Ln(this,Pp,ht.text||""),this._isDraggable=!1,ht.highlightId>-1?(Ln(this,Wo,!0),Dn(this,Ts,Ey).call(this,ht),Dn(this,Ts,Jp).call(this)):(Ln(this,kp,ht.anchorNode),Ln(this,Tx,ht.anchorOffset),Ln(this,Px,ht.focusNode),Ln(this,_x,ht.focusOffset),Dn(this,Ts,Cy).call(this),Dn(this,Ts,Jp).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const ht=Bs.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],ht._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],ht._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],ht._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],ht._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:Xt(this,Wo)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:Xt(this,Jl),methodOfCreation:Xt(this,Mx)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(ht){return{numberOfColors:ht.get("color").size}}static initialize(ht,bt){var wt;AnnotationEditor.initialize(ht,bt),Bs._defaultColor||(Bs._defaultColor=((wt=bt.highlightColors)==null?void 0:wt.values().next().value)||"#fff066")}static updateDefaultParams(ht,bt){switch(ht){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:Bs._defaultColor=bt;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Bs._defaultThickness=bt;break}}translateInPage(ht,bt){}get toolbarPosition(){return Xt(this,Tp)}updateParams(ht,bt){switch(ht){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:Dn(this,Ts,u3).call(this,bt);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Dn(this,Ts,h3).call(this,bt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,Bs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Bs._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||Bs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Xt(this,Jl)||Bs._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,Xt(this,Wo)]]}async addEditToolbar(){const ht=await super.addEditToolbar();return ht?(this._uiManager.highlightColors&&(Ln(this,Fp,new ColorPicker({editor:this})),ht.addColorPicker(Xt(this,Fp))),ht):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Dn(this,Ts,Zp).call(this))}getBaseTranslation(){return[0,0]}getRect(ht,bt){return super.getRect(ht,bt,Dn(this,Ts,Zp).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){Dn(this,Ts,ky).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Dn(this,Ts,Jp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(ht){var wt;let bt=!1;this.parent&&!ht?Dn(this,Ts,ky).call(this):ht&&(Dn(this,Ts,Jp).call(this,ht),bt=!this.parent&&((wt=this.div)==null?void 0:wt.classList.contains("selectedEditor"))),super.setParent(ht),this.show(this._isVisible),bt&&this.select()}rotate(ht){var At,Ct,St;const{drawLayer:bt}=this.parent;let wt;Xt(this,Wo)?(ht=(ht-this.rotation+360)%360,wt=Dn(At=Bs,xl,L1).call(At,Xt(this,Ol).box,ht)):wt=Dn(Ct=Bs,xl,L1).call(Ct,this,ht),bt.rotate(Xt(this,_o),ht),bt.rotate(Xt(this,lo),ht),bt.updateBox(Xt(this,_o),wt),bt.updateBox(Xt(this,lo),Dn(St=Bs,xl,L1).call(St,Xt(this,Jo).box,ht))}render(){if(this.div)return this.div;const ht=super.render();Xt(this,Pp)&&(ht.setAttribute("aria-label",Xt(this,Pp)),ht.setAttribute("role","mark")),Xt(this,Wo)?ht.classList.add("free"):this.div.addEventListener("keydown",Xt(this,D2));const bt=Ln(this,a1,document.createElement("div"));ht.append(bt),bt.setAttribute("aria-hidden","true"),bt.className="internal",bt.style.clipPath=Xt(this,s1);const[wt,At]=this.parentDimensions;return this.setDims(this.width*wt,this.height*At),bindEvents(this,Xt(this,a1),["pointerover","pointerleave"]),this.enableEditing(),ht}pointerover(){this.parent.drawLayer.addClass(Xt(this,lo),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(Xt(this,lo),"hovered")}_moveCaret(ht){switch(this.parent.unselect(this),ht){case 0:case 2:Dn(this,Ts,r2).call(this,!0);break;case 1:case 3:Dn(this,Ts,r2).call(this,!1);break}}select(){var ht,bt;super.select(),Xt(this,lo)&&((ht=this.parent)==null||ht.drawLayer.removeClass(Xt(this,lo),"hovered"),(bt=this.parent)==null||bt.drawLayer.addClass(Xt(this,lo),"selected"))}unselect(){var ht;super.unselect(),Xt(this,lo)&&((ht=this.parent)==null||ht.drawLayer.removeClass(Xt(this,lo),"selected"),Xt(this,Wo)||Dn(this,Ts,r2).call(this,!1))}get _mustFixPosition(){return!Xt(this,Wo)}show(ht=this._isVisible){super.show(ht),this.parent&&(this.parent.drawLayer.show(Xt(this,_o),ht),this.parent.drawLayer.show(Xt(this,lo),ht))}static startHighlighting(ht,bt,{target:wt,x:At,y:Ct}){const{x:St,y:Ft,width:vt,height:Et}=wt.getBoundingClientRect(),Mt=_t=>{Dn(this,xl,m3).call(this,ht,_t)},Pt={capture:!0,passive:!1},xt=_t=>{_t.preventDefault(),_t.stopPropagation()},$t=_t=>{wt.removeEventListener("pointermove",Mt),window.removeEventListener("blur",$t),window.removeEventListener("pointerup",$t),window.removeEventListener("pointerdown",xt,Pt),window.removeEventListener("contextmenu",noContextMenu),Dn(this,xl,x3).call(this,ht,_t)};window.addEventListener("blur",$t),window.addEventListener("pointerup",$t),window.addEventListener("pointerdown",xt,Pt),window.addEventListener("contextmenu",noContextMenu),wt.addEventListener("pointermove",Mt),this._freeHighlight=new FreeOutliner({x:At,y:Ct},[St,Ft,vt,Et],ht.scale,this._defaultThickness/2,bt,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=ht.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(ht,bt,wt){var _t;const At=super.deserialize(ht,bt,wt),{rect:[Ct,St,Ft,vt],color:Et,quadPoints:Mt}=ht;At.color=Util.makeHexColor(...Et),Ln(At,o1,ht.opacity);const[Pt,xt]=At.pageDimensions;At.width=(Ft-Ct)/Pt,At.height=(vt-St)/xt;const $t=Ln(At,s0,[]);for(let jt=0;jt<Mt.length;jt+=8)$t.push({x:(Mt[4]-Ft)/Pt,y:(vt-(1-Mt[jt+5]))/xt,width:(Mt[jt+2]-Mt[jt])/Pt,height:(Mt[jt+5]-Mt[jt+1])/xt});return Dn(_t=At,Ts,Cy).call(_t),At}serialize(ht=!1){if(this.isEmpty()||ht)return null;const bt=this.getRect(0,0),wt=AnnotationEditor._colorManager.convert(this.color);return{annotationType:AnnotationEditorType.HIGHLIGHT,color:wt,opacity:Xt(this,o1),thickness:Xt(this,Jl),quadPoints:Dn(this,Ts,p3).call(this),outlines:Dn(this,Ts,g3).call(this,bt),pageIndex:this.pageIndex,rect:bt,rotation:Dn(this,Ts,Zp).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};kp=new WeakMap,Tx=new WeakMap,s0=new WeakMap,s1=new WeakMap,Fp=new WeakMap,Jo=new WeakMap,Px=new WeakMap,_x=new WeakMap,a1=new WeakMap,Ol=new WeakMap,_o=new WeakMap,Wo=new WeakMap,D2=new WeakMap,Tp=new WeakMap,o1=new WeakMap,lo=new WeakMap,Pp=new WeakMap,Jl=new WeakMap,Mx=new WeakMap,Ts=new WeakSet,Cy=function(){const ht=new Outliner(Xt(this,s0),.001);Ln(this,Ol,ht.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=Xt(this,Ol).box;const bt=new Outliner(Xt(this,s0),.0025,.001,this._uiManager.direction==="ltr");Ln(this,Jo,bt.getOutlines());const{lastPoint:wt}=Xt(this,Jo).box;Ln(this,Tp,[(wt[0]-this.x)/this.width,(wt[1]-this.y)/this.height])},Ey=function({highlightOutlines:ht,highlightId:bt,clipPathId:wt}){var Mt,Pt;if(Ln(this,Ol,ht),Ln(this,Jo,ht.getNewOutline(Xt(this,Jl)/2+1.5,.0025)),bt>=0)Ln(this,_o,bt),Ln(this,s1,wt),this.parent.drawLayer.finalizeLine(bt,ht),Ln(this,lo,this.parent.drawLayer.highlightOutline(Xt(this,Jo)));else if(this.parent){const xt=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(Xt(this,_o),ht),this.parent.drawLayer.updateBox(Xt(this,_o),Dn(Mt=Bs,xl,L1).call(Mt,Xt(this,Ol).box,(xt-this.rotation+360)%360)),this.parent.drawLayer.updateLine(Xt(this,lo),Xt(this,Jo)),this.parent.drawLayer.updateBox(Xt(this,lo),Dn(Pt=Bs,xl,L1).call(Pt,Xt(this,Jo).box,xt))}const{x:Ct,y:St,width:Ft,height:vt}=ht.box;switch(this.rotation){case 0:this.x=Ct,this.y=St,this.width=Ft,this.height=vt;break;case 90:{const[xt,$t]=this.parentDimensions;this.x=St,this.y=1-Ct,this.width=Ft*$t/xt,this.height=vt*xt/$t;break}case 180:this.x=1-Ct,this.y=1-St,this.width=Ft,this.height=vt;break;case 270:{const[xt,$t]=this.parentDimensions;this.x=1-St,this.y=Ct,this.width=Ft*$t/xt,this.height=vt*xt/$t;break}}const{lastPoint:Et}=Xt(this,Jo).box;Ln(this,Tp,[(Et[0]-Ct)/Ft,(Et[1]-St)/vt])},u3=function(ht){const bt=At=>{var Ct,St;this.color=At,(Ct=this.parent)==null||Ct.drawLayer.changeColor(Xt(this,_o),At),(St=Xt(this,Fp))==null||St.updateColor(At)},wt=this.color;this.addCommands({cmd:bt.bind(this,ht),undo:bt.bind(this,wt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(ht)},!0)},h3=function(ht){const bt=Xt(this,Jl),wt=At=>{Ln(this,Jl,At),Dn(this,Ts,d3).call(this,At)};this.addCommands({cmd:wt.bind(this,ht),undo:wt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:ht},!0)},d3=function(ht){if(!Xt(this,Wo))return;Dn(this,Ts,Ey).call(this,{highlightOutlines:Xt(this,Ol).getNewOutline(ht/2)}),this.fixAndSetPosition();const[bt,wt]=this.parentDimensions;this.setDims(this.width*bt,this.height*wt)},ky=function(){Xt(this,_o)===null||!this.parent||(this.parent.drawLayer.remove(Xt(this,_o)),Ln(this,_o,null),this.parent.drawLayer.remove(Xt(this,lo)),Ln(this,lo,null))},Jp=function(ht=this.parent){Xt(this,_o)===null&&({id:Fo(this,_o)._,clipPathId:Fo(this,s1)._}=ht.drawLayer.highlight(Xt(this,Ol),this.color,Xt(this,o1)),Ln(this,lo,ht.drawLayer.highlightOutline(Xt(this,Jo))),Xt(this,a1)&&(Xt(this,a1).style.clipPath=Xt(this,s1)))},xl=new WeakSet,L1=function({x:ht,y:bt,width:wt,height:At},Ct){switch(Ct){case 90:return{x:1-bt-At,y:ht,width:At,height:wt};case 180:return{x:1-ht-wt,y:1-bt-At,width:wt,height:At};case 270:return{x:bt,y:1-ht-wt,width:At,height:wt}}return{x:ht,y:bt,width:wt,height:At}},f3=function(ht){Bs._keyboardManager.exec(this,ht)},r2=function(ht){if(!Xt(this,kp))return;const bt=window.getSelection();ht?bt.setPosition(Xt(this,kp),Xt(this,Tx)):bt.setPosition(Xt(this,Px),Xt(this,_x))},Zp=function(){return Xt(this,Wo)?this.rotation:0},p3=function(){if(Xt(this,Wo))return null;const[ht,bt]=this.pageDimensions,wt=Xt(this,s0),At=new Array(wt.length*8);let Ct=0;for(const{x:St,y:Ft,width:vt,height:Et}of wt){const Mt=St*ht,Pt=(1-Ft-Et)*bt;At[Ct]=At[Ct+4]=Mt,At[Ct+1]=At[Ct+3]=Pt,At[Ct+2]=At[Ct+6]=Mt+vt*ht,At[Ct+5]=At[Ct+7]=Pt+Et*bt,Ct+=8}return At},g3=function(ht){return Xt(this,Ol).serialize(ht,Dn(this,Ts,Zp).call(this))},m3=function(ht,bt){this._freeHighlight.add(bt)&&ht.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},x3=function(ht,bt){this._freeHighlight.isEmpty()?ht.drawLayer.removeFreeHighlight(this._freeHighlightId):ht.createAndAddNewEditor(bt,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},$n(Bs,xl),os(Bs,"_defaultColor",null),os(Bs,"_defaultOpacity",1),os(Bs,"_defaultThickness",12),os(Bs,"_l10nPromise"),os(Bs,"_type","highlight"),os(Bs,"_editorType",AnnotationEditorType.HIGHLIGHT),os(Bs,"_freeHighlightId",-1),os(Bs,"_freeHighlight",null),os(Bs,"_freeHighlightClipId","");let HighlightEditor=Bs;var l1,c1,Rx,Ox,Ix,u1,Zl,Fu,Zo,h1,d1,f1,p1,g1,a0,Zr,b3,y3,v3,w3,Fy,A3,Ty,S3,C3,E3,k3,F3,C0,Py,s2,a2,N1,_y,o2,Du,T3,My,P3,_3,Ry,l2,Qp;const _a=class _a extends AnnotationEditor{constructor(ht){super({...ht,name:"inkEditor"});$n(this,Zr);$n(this,l1,0);$n(this,c1,0);$n(this,Rx,this.canvasPointermove.bind(this));$n(this,Ox,this.canvasPointerleave.bind(this));$n(this,Ix,this.canvasPointerup.bind(this));$n(this,u1,this.canvasPointerdown.bind(this));$n(this,Zl,null);$n(this,Fu,new Path2D);$n(this,Zo,!1);$n(this,h1,!1);$n(this,d1,!1);$n(this,f1,null);$n(this,p1,0);$n(this,g1,0);$n(this,a0,null);this.color=ht.color||null,this.thickness=ht.thickness||null,this.opacity=ht.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(ht,bt){AnnotationEditor.initialize(ht,bt)}static updateDefaultParams(ht,bt){switch(ht){case AnnotationEditorParamsType.INK_THICKNESS:_a._defaultThickness=bt;break;case AnnotationEditorParamsType.INK_COLOR:_a._defaultColor=bt;break;case AnnotationEditorParamsType.INK_OPACITY:_a._defaultOpacity=bt/100;break}}updateParams(ht,bt){switch(ht){case AnnotationEditorParamsType.INK_THICKNESS:Dn(this,Zr,b3).call(this,bt);break;case AnnotationEditorParamsType.INK_COLOR:Dn(this,Zr,y3).call(this,bt);break;case AnnotationEditorParamsType.INK_OPACITY:Dn(this,Zr,v3).call(this,bt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,_a._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,_a._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(_a._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||_a._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||_a._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??_a._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Dn(this,Zr,s2).call(this),Dn(this,Zr,a2).call(this)),this.isAttachedToDOM||(this.parent.add(this),Dn(this,Zr,N1).call(this)),Dn(this,Zr,Qp).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Xt(this,Zl)&&(clearTimeout(Xt(this,Zl)),Ln(this,Zl,null)),Xt(this,f1).disconnect(),Ln(this,f1,null),super.remove())}setParent(ht){!this.parent&&ht?this._uiManager.removeShouldRescale(this):this.parent&&ht===null&&this._uiManager.addShouldRescale(this),super.setParent(ht)}onScaleChanging(){const[ht,bt]=this.parentDimensions,wt=this.width*ht,At=this.height*bt;this.setDimensions(wt,At)}enableEditMode(){Xt(this,Zo)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Xt(this,u1)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Xt(this,u1)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Xt(this,Zo)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ln(this,Zo,!0),this.div.classList.add("disabled"),Dn(this,Zr,Qp).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(ht){this._focusEventsAllowed&&(super.focusin(ht),this.enableEditMode())}canvasPointerdown(ht){ht.button!==0||!this.isInEditMode()||Xt(this,Zo)||(this.setInForeground(),ht.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),Dn(this,Zr,A3).call(this,ht.offsetX,ht.offsetY))}canvasPointermove(ht){ht.preventDefault(),Dn(this,Zr,Ty).call(this,ht.offsetX,ht.offsetY)}canvasPointerup(ht){ht.preventDefault(),Dn(this,Zr,Py).call(this,ht)}canvasPointerleave(ht){Dn(this,Zr,Py).call(this,ht)}get isResizable(){return!this.isEmpty()&&Xt(this,Zo)}render(){if(this.div)return this.div;let ht,bt;this.width&&(ht=this.x,bt=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[wt,At,Ct,St]=Dn(this,Zr,w3).call(this);if(this.setAt(wt,At,0,0),this.setDims(Ct,St),Dn(this,Zr,s2).call(this),this.width){const[Ft,vt]=this.parentDimensions;this.setAspectRatio(this.width*Ft,this.height*vt),this.setAt(ht*Ft,bt*vt,this.width*Ft,this.height*vt),Ln(this,d1,!0),Dn(this,Zr,N1).call(this),this.setDims(this.width*Ft,this.height*vt),Dn(this,Zr,C0).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Dn(this,Zr,a2).call(this),this.div}setDimensions(ht,bt){const wt=Math.round(ht),At=Math.round(bt);if(Xt(this,p1)===wt&&Xt(this,g1)===At)return;Ln(this,p1,wt),Ln(this,g1,At),this.canvas.style.visibility="hidden";const[Ct,St]=this.parentDimensions;this.width=ht/Ct,this.height=bt/St,this.fixAndSetPosition(),Xt(this,Zo)&&Dn(this,Zr,_y).call(this,ht,bt),Dn(this,Zr,N1).call(this),Dn(this,Zr,C0).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(ht,bt,wt){var jt,Rt,Nt;if(ht instanceof InkAnnotationElement)return null;const At=super.deserialize(ht,bt,wt);At.thickness=ht.thickness,At.color=Util.makeHexColor(...ht.color),At.opacity=ht.opacity;const[Ct,St]=At.pageDimensions,Ft=At.width*Ct,vt=At.height*St,Et=At.parentScale,Mt=ht.thickness/2;Ln(At,Zo,!0),Ln(At,p1,Math.round(Ft)),Ln(At,g1,Math.round(vt));const{paths:Pt,rect:xt,rotation:$t}=ht;for(let{bezier:Lt}of Pt){Lt=Dn(jt=_a,Du,P3).call(jt,Lt,xt,$t);const kt=[];At.paths.push(kt);let Bt=Et*(Lt[0]-Mt),Ht=Et*(Lt[1]-Mt);for(let Vt=2,Gt=Lt.length;Vt<Gt;Vt+=6){const Wt=Et*(Lt[Vt]-Mt),en=Et*(Lt[Vt+1]-Mt),Sn=Et*(Lt[Vt+2]-Mt),sn=Et*(Lt[Vt+3]-Mt),hn=Et*(Lt[Vt+4]-Mt),Qt=Et*(Lt[Vt+5]-Mt);kt.push([[Bt,Ht],[Wt,en],[Sn,sn],[hn,Qt]]),Bt=hn,Ht=Qt}const Ot=Dn(this,Du,T3).call(this,kt);At.bezierPath2D.push(Ot)}const _t=Dn(Rt=At,Zr,Ry).call(Rt);return Ln(At,c1,Math.max(AnnotationEditor.MIN_SIZE,_t[2]-_t[0])),Ln(At,l1,Math.max(AnnotationEditor.MIN_SIZE,_t[3]-_t[1])),Dn(Nt=At,Zr,_y).call(Nt,Ft,vt),At}serialize(){if(this.isEmpty())return null;const ht=this.getRect(0,0),bt=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:bt,thickness:this.thickness,opacity:this.opacity,paths:Dn(this,Zr,_3).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ht),pageIndex:this.pageIndex,rect:ht,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};l1=new WeakMap,c1=new WeakMap,Rx=new WeakMap,Ox=new WeakMap,Ix=new WeakMap,u1=new WeakMap,Zl=new WeakMap,Fu=new WeakMap,Zo=new WeakMap,h1=new WeakMap,d1=new WeakMap,f1=new WeakMap,p1=new WeakMap,g1=new WeakMap,a0=new WeakMap,Zr=new WeakSet,b3=function(ht){const bt=At=>{this.thickness=At,Dn(this,Zr,Qp).call(this)},wt=this.thickness;this.addCommands({cmd:bt.bind(this,ht),undo:bt.bind(this,wt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},y3=function(ht){const bt=At=>{this.color=At,Dn(this,Zr,C0).call(this)},wt=this.color;this.addCommands({cmd:bt.bind(this,ht),undo:bt.bind(this,wt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},v3=function(ht){const bt=At=>{this.opacity=At,Dn(this,Zr,C0).call(this)};ht/=100;const wt=this.opacity;this.addCommands({cmd:bt.bind(this,ht),undo:bt.bind(this,wt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},w3=function(){const{parentRotation:ht,parentDimensions:[bt,wt]}=this;switch(ht){case 90:return[0,wt,wt,bt];case 180:return[bt,wt,bt,wt];case 270:return[bt,0,wt,bt];default:return[0,0,bt,wt]}},Fy=function(){const{ctx:ht,color:bt,opacity:wt,thickness:At,parentScale:Ct,scaleFactor:St}=this;ht.lineWidth=At*Ct/St,ht.lineCap="round",ht.lineJoin="round",ht.miterLimit=10,ht.strokeStyle=`${bt}${opacityToHex(wt)}`},A3=function(ht,bt){this.canvas.addEventListener("contextmenu",noContextMenu),this.canvas.addEventListener("pointerleave",Xt(this,Ox)),this.canvas.addEventListener("pointermove",Xt(this,Rx)),this.canvas.addEventListener("pointerup",Xt(this,Ix)),this.canvas.removeEventListener("pointerdown",Xt(this,u1)),this.isEditing=!0,Xt(this,d1)||(Ln(this,d1,!0),Dn(this,Zr,N1).call(this),this.thickness||(this.thickness=_a._defaultThickness),this.color||(this.color=_a._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=_a._defaultOpacity)),this.currentPath.push([ht,bt]),Ln(this,h1,!1),Dn(this,Zr,Fy).call(this),Ln(this,a0,()=>{Dn(this,Zr,E3).call(this),Xt(this,a0)&&window.requestAnimationFrame(Xt(this,a0))}),window.requestAnimationFrame(Xt(this,a0))},Ty=function(ht,bt){const[wt,At]=this.currentPath.at(-1);if(this.currentPath.length>1&&ht===wt&&bt===At)return;const Ct=this.currentPath;let St=Xt(this,Fu);if(Ct.push([ht,bt]),Ln(this,h1,!0),Ct.length<=2){St.moveTo(...Ct[0]),St.lineTo(ht,bt);return}Ct.length===3&&(Ln(this,Fu,St=new Path2D),St.moveTo(...Ct[0])),Dn(this,Zr,k3).call(this,St,...Ct.at(-3),...Ct.at(-2),ht,bt)},S3=function(){if(this.currentPath.length===0)return;const ht=this.currentPath.at(-1);Xt(this,Fu).lineTo(...ht)},C3=function(ht,bt){Ln(this,a0,null),ht=Math.min(Math.max(ht,0),this.canvas.width),bt=Math.min(Math.max(bt,0),this.canvas.height),Dn(this,Zr,Ty).call(this,ht,bt),Dn(this,Zr,S3).call(this);let wt;if(this.currentPath.length!==1)wt=Dn(this,Zr,F3).call(this);else{const vt=[ht,bt];wt=[[vt,vt.slice(),vt.slice(),vt]]}const At=Xt(this,Fu),Ct=this.currentPath;this.currentPath=[],Ln(this,Fu,new Path2D);const St=()=>{this.allRawPaths.push(Ct),this.paths.push(wt),this.bezierPath2D.push(At),this._uiManager.rebuild(this)},Ft=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Dn(this,Zr,s2).call(this),Dn(this,Zr,a2).call(this)),Dn(this,Zr,Qp).call(this))};this.addCommands({cmd:St,undo:Ft,mustExec:!0})},E3=function(){if(!Xt(this,h1))return;Ln(this,h1,!1);const ht=Math.ceil(this.thickness*this.parentScale),bt=this.currentPath.slice(-3),wt=bt.map(St=>St[0]),At=bt.map(St=>St[1]);Math.min(...wt)-ht,Math.max(...wt)+ht,Math.min(...At)-ht,Math.max(...At)+ht;const{ctx:Ct}=this;Ct.save(),Ct.clearRect(0,0,this.canvas.width,this.canvas.height);for(const St of this.bezierPath2D)Ct.stroke(St);Ct.stroke(Xt(this,Fu)),Ct.restore()},k3=function(ht,bt,wt,At,Ct,St,Ft){const vt=(bt+At)/2,Et=(wt+Ct)/2,Mt=(At+St)/2,Pt=(Ct+Ft)/2;ht.bezierCurveTo(vt+2*(At-vt)/3,Et+2*(Ct-Et)/3,Mt+2*(At-Mt)/3,Pt+2*(Ct-Pt)/3,Mt,Pt)},F3=function(){const ht=this.currentPath;if(ht.length<=2)return[[ht[0],ht[0],ht.at(-1),ht.at(-1)]];const bt=[];let wt,[At,Ct]=ht[0];for(wt=1;wt<ht.length-2;wt++){const[xt,$t]=ht[wt],[_t,jt]=ht[wt+1],Rt=(xt+_t)/2,Nt=($t+jt)/2,Lt=[At+2*(xt-At)/3,Ct+2*($t-Ct)/3],kt=[Rt+2*(xt-Rt)/3,Nt+2*($t-Nt)/3];bt.push([[At,Ct],Lt,kt,[Rt,Nt]]),[At,Ct]=[Rt,Nt]}const[St,Ft]=ht[wt],[vt,Et]=ht[wt+1],Mt=[At+2*(St-At)/3,Ct+2*(Ft-Ct)/3],Pt=[vt+2*(St-vt)/3,Et+2*(Ft-Et)/3];return bt.push([[At,Ct],Mt,Pt,[vt,Et]]),bt},C0=function(){if(this.isEmpty()){Dn(this,Zr,o2).call(this);return}Dn(this,Zr,Fy).call(this);const{canvas:ht,ctx:bt}=this;bt.setTransform(1,0,0,1,0,0),bt.clearRect(0,0,ht.width,ht.height),Dn(this,Zr,o2).call(this);for(const wt of this.bezierPath2D)bt.stroke(wt)},Py=function(ht){this.canvas.removeEventListener("pointerleave",Xt(this,Ox)),this.canvas.removeEventListener("pointermove",Xt(this,Rx)),this.canvas.removeEventListener("pointerup",Xt(this,Ix)),this.canvas.addEventListener("pointerdown",Xt(this,u1)),Xt(this,Zl)&&clearTimeout(Xt(this,Zl)),Ln(this,Zl,setTimeout(()=>{Ln(this,Zl,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),Dn(this,Zr,C3).call(this,ht.offsetX,ht.offsetY),this.addToAnnotationStorage(),this.setInBackground()},s2=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},a2=function(){Ln(this,f1,new ResizeObserver(ht=>{const bt=ht[0].contentRect;bt.width&&bt.height&&this.setDimensions(bt.width,bt.height)})),Xt(this,f1).observe(this.div)},N1=function(){if(!Xt(this,d1))return;const[ht,bt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*ht),this.canvas.height=Math.ceil(this.height*bt),Dn(this,Zr,o2).call(this)},_y=function(ht,bt){const wt=Dn(this,Zr,l2).call(this),At=(ht-wt)/Xt(this,c1),Ct=(bt-wt)/Xt(this,l1);this.scaleFactor=Math.min(At,Ct)},o2=function(){const ht=Dn(this,Zr,l2).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ht,this.translationY*this.scaleFactor+ht)},Du=new WeakSet,T3=function(ht){const bt=new Path2D;for(let wt=0,At=ht.length;wt<At;wt++){const[Ct,St,Ft,vt]=ht[wt];wt===0&&bt.moveTo(...Ct),bt.bezierCurveTo(St[0],St[1],Ft[0],Ft[1],vt[0],vt[1])}return bt},My=function(ht,bt,wt){const[At,Ct,St,Ft]=bt;switch(wt){case 0:for(let vt=0,Et=ht.length;vt<Et;vt+=2)ht[vt]+=At,ht[vt+1]=Ft-ht[vt+1];break;case 90:for(let vt=0,Et=ht.length;vt<Et;vt+=2){const Mt=ht[vt];ht[vt]=ht[vt+1]+At,ht[vt+1]=Mt+Ct}break;case 180:for(let vt=0,Et=ht.length;vt<Et;vt+=2)ht[vt]=St-ht[vt],ht[vt+1]+=Ct;break;case 270:for(let vt=0,Et=ht.length;vt<Et;vt+=2){const Mt=ht[vt];ht[vt]=St-ht[vt+1],ht[vt+1]=Ft-Mt}break;default:throw new Error("Invalid rotation")}return ht},P3=function(ht,bt,wt){const[At,Ct,St,Ft]=bt;switch(wt){case 0:for(let vt=0,Et=ht.length;vt<Et;vt+=2)ht[vt]-=At,ht[vt+1]=Ft-ht[vt+1];break;case 90:for(let vt=0,Et=ht.length;vt<Et;vt+=2){const Mt=ht[vt];ht[vt]=ht[vt+1]-Ct,ht[vt+1]=Mt-At}break;case 180:for(let vt=0,Et=ht.length;vt<Et;vt+=2)ht[vt]=St-ht[vt],ht[vt+1]-=Ct;break;case 270:for(let vt=0,Et=ht.length;vt<Et;vt+=2){const Mt=ht[vt];ht[vt]=Ft-ht[vt+1],ht[vt+1]=St-Mt}break;default:throw new Error("Invalid rotation")}return ht},_3=function(ht,bt,wt,At){var Et,Mt;const Ct=[],St=this.thickness/2,Ft=ht*bt+St,vt=ht*wt+St;for(const Pt of this.paths){const xt=[],$t=[];for(let _t=0,jt=Pt.length;_t<jt;_t++){const[Rt,Nt,Lt,kt]=Pt[_t];if(Rt[0]===kt[0]&&Rt[1]===kt[1]&&jt===1){const sn=ht*Rt[0]+Ft,hn=ht*Rt[1]+vt;xt.push(sn,hn),$t.push(sn,hn);break}const Bt=ht*Rt[0]+Ft,Ht=ht*Rt[1]+vt,Ot=ht*Nt[0]+Ft,Vt=ht*Nt[1]+vt,Gt=ht*Lt[0]+Ft,Wt=ht*Lt[1]+vt,en=ht*kt[0]+Ft,Sn=ht*kt[1]+vt;_t===0&&(xt.push(Bt,Ht),$t.push(Bt,Ht)),xt.push(Ot,Vt,Gt,Wt,en,Sn),$t.push(Ot,Vt),_t===jt-1&&$t.push(en,Sn)}Ct.push({bezier:Dn(Et=_a,Du,My).call(Et,xt,At,this.rotation),points:Dn(Mt=_a,Du,My).call(Mt,$t,At,this.rotation)})}return Ct},Ry=function(){let ht=1/0,bt=-1/0,wt=1/0,At=-1/0;for(const Ct of this.paths)for(const[St,Ft,vt,Et]of Ct){const Mt=Util.bezierBoundingBox(...St,...Ft,...vt,...Et);ht=Math.min(ht,Mt[0]),wt=Math.min(wt,Mt[1]),bt=Math.max(bt,Mt[2]),At=Math.max(At,Mt[3])}return[ht,wt,bt,At]},l2=function(){return Xt(this,Zo)?Math.ceil(this.thickness*this.parentScale):0},Qp=function(ht=!1){if(this.isEmpty())return;if(!Xt(this,Zo)){Dn(this,Zr,C0).call(this);return}const bt=Dn(this,Zr,Ry).call(this),wt=Dn(this,Zr,l2).call(this);Ln(this,c1,Math.max(AnnotationEditor.MIN_SIZE,bt[2]-bt[0])),Ln(this,l1,Math.max(AnnotationEditor.MIN_SIZE,bt[3]-bt[1]));const At=Math.ceil(wt+Xt(this,c1)*this.scaleFactor),Ct=Math.ceil(wt+Xt(this,l1)*this.scaleFactor),[St,Ft]=this.parentDimensions;this.width=At/St,this.height=Ct/Ft,this.setAspectRatio(At,Ct);const vt=this.translationX,Et=this.translationY;this.translationX=-bt[0],this.translationY=-bt[1],Dn(this,Zr,N1).call(this),Dn(this,Zr,C0).call(this),Ln(this,p1,At),Ln(this,g1,Ct),this.setDims(At,Ct);const Mt=ht?wt/this.scaleFactor/2:0;this.translate(vt-this.translationX-Mt,Et-this.translationY-Mt)},$n(_a,Du),os(_a,"_defaultColor",null),os(_a,"_defaultOpacity",1),os(_a,"_defaultThickness",1),os(_a,"_type","ink"),os(_a,"_editorType",AnnotationEditorType.INK);let InkEditor=_a;var wo,Ao,o0,Tu,l0,_p,Ql,m1,_c,Il,Dx,Ns,_g,em,c2,Oy,M3,R3,Iy,u2,O3;const im=class im extends AnnotationEditor{constructor(ht){super({...ht,name:"stampEditor"});$n(this,Ns);$n(this,wo,null);$n(this,Ao,null);$n(this,o0,null);$n(this,Tu,null);$n(this,l0,null);$n(this,_p,"");$n(this,Ql,null);$n(this,m1,null);$n(this,_c,null);$n(this,Il,!1);$n(this,Dx,!1);Ln(this,Tu,ht.bitmapUrl),Ln(this,l0,ht.bitmapFile)}static initialize(ht,bt){AnnotationEditor.initialize(ht,bt)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(bt=>`image/${bt}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(ht){return this.supportedTypes.includes(ht)}static paste(ht,bt){bt.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:ht.getAsFile()})}remove(){var ht,bt;Xt(this,Ao)&&(Ln(this,wo,null),this._uiManager.imageManager.deleteId(Xt(this,Ao)),(ht=Xt(this,Ql))==null||ht.remove(),Ln(this,Ql,null),(bt=Xt(this,m1))==null||bt.disconnect(),Ln(this,m1,null),Xt(this,_c)&&(clearTimeout(Xt(this,_c)),Ln(this,_c,null))),super.remove()}rebuild(){if(!this.parent){Xt(this,Ao)&&Dn(this,Ns,c2).call(this);return}super.rebuild(),this.div!==null&&(Xt(this,Ao)&&Xt(this,Ql)===null&&Dn(this,Ns,c2).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Xt(this,o0)||Xt(this,wo)||Xt(this,Tu)||Xt(this,l0)||Xt(this,Ao))}get isResizable(){return!0}render(){if(this.div)return this.div;let ht,bt;if(this.width&&(ht=this.x,bt=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),Xt(this,wo)?Dn(this,Ns,Oy).call(this):Dn(this,Ns,c2).call(this),this.width){const[wt,At]=this.parentDimensions;this.setAt(ht*wt,bt*At,this.width*wt,this.height*At)}return this.div}getImageForAltText(){return Xt(this,Ql)}static deserialize(ht,bt,wt){if(ht instanceof StampAnnotationElement)return null;const At=super.deserialize(ht,bt,wt),{rect:Ct,bitmapUrl:St,bitmapId:Ft,isSvg:vt,accessibilityData:Et}=ht;Ft&&wt.imageManager.isValidId(Ft)?Ln(At,Ao,Ft):Ln(At,Tu,St),Ln(At,Il,vt);const[Mt,Pt]=At.pageDimensions;return At.width=(Ct[2]-Ct[0])/Mt,At.height=(Ct[3]-Ct[1])/Pt,Et&&(At.altTextData=Et),At}serialize(ht=!1,bt=null){if(this.isEmpty())return null;const wt={annotationType:AnnotationEditorType.STAMP,bitmapId:Xt(this,Ao),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Xt(this,Il),structTreeParentId:this._structTreeParentId};if(ht)return wt.bitmapUrl=Dn(this,Ns,u2).call(this,!0),wt.accessibilityData=this.altTextData,wt;const{decorative:At,altText:Ct}=this.altTextData;if(!At&&Ct&&(wt.accessibilityData={type:"Figure",alt:Ct}),bt===null)return wt;bt.stamps||(bt.stamps=new Map);const St=Xt(this,Il)?(wt.rect[2]-wt.rect[0])*(wt.rect[3]-wt.rect[1]):null;if(!bt.stamps.has(Xt(this,Ao)))bt.stamps.set(Xt(this,Ao),{area:St,serialized:wt}),wt.bitmap=Dn(this,Ns,u2).call(this,!1);else if(Xt(this,Il)){const Ft=bt.stamps.get(Xt(this,Ao));St>Ft.area&&(Ft.area=St,Ft.serialized.bitmap.close(),Ft.serialized.bitmap=Dn(this,Ns,u2).call(this,!1))}return wt}};wo=new WeakMap,Ao=new WeakMap,o0=new WeakMap,Tu=new WeakMap,l0=new WeakMap,_p=new WeakMap,Ql=new WeakMap,m1=new WeakMap,_c=new WeakMap,Il=new WeakMap,Dx=new WeakMap,Ns=new WeakSet,_g=function(ht,bt=!1){if(!ht){this.remove();return}Ln(this,wo,ht.bitmap),bt||(Ln(this,Ao,ht.id),Ln(this,Il,ht.isSvg)),ht.file&&Ln(this,_p,ht.file.name),Dn(this,Ns,Oy).call(this)},em=function(){Ln(this,o0,null),this._uiManager.enableWaiting(!1),Xt(this,Ql)&&this.div.focus()},c2=function(){if(Xt(this,Ao)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Xt(this,Ao)).then(bt=>Dn(this,Ns,_g).call(this,bt,!0)).finally(()=>Dn(this,Ns,em).call(this));return}if(Xt(this,Tu)){const bt=Xt(this,Tu);Ln(this,Tu,null),this._uiManager.enableWaiting(!0),Ln(this,o0,this._uiManager.imageManager.getFromUrl(bt).then(wt=>Dn(this,Ns,_g).call(this,wt)).finally(()=>Dn(this,Ns,em).call(this)));return}if(Xt(this,l0)){const bt=Xt(this,l0);Ln(this,l0,null),this._uiManager.enableWaiting(!0),Ln(this,o0,this._uiManager.imageManager.getFromFile(bt).then(wt=>Dn(this,Ns,_g).call(this,wt)).finally(()=>Dn(this,Ns,em).call(this)));return}const ht=document.createElement("input");ht.type="file",ht.accept=im.supportedTypesStr,Ln(this,o0,new Promise(bt=>{ht.addEventListener("change",async()=>{if(!ht.files||ht.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const wt=await this._uiManager.imageManager.getFromFile(ht.files[0]);Dn(this,Ns,_g).call(this,wt)}bt()}),ht.addEventListener("cancel",()=>{this.remove(),bt()})}).finally(()=>Dn(this,Ns,em).call(this))),ht.click()},Oy=function(){const{div:ht}=this;let{width:bt,height:wt}=Xt(this,wo);const[At,Ct]=this.pageDimensions,St=.75;if(this.width)bt=this.width*At,wt=this.height*Ct;else if(bt>St*At||wt>St*Ct){const Mt=Math.min(St*At/bt,St*Ct/wt);bt*=Mt,wt*=Mt}const[Ft,vt]=this.parentDimensions;this.setDims(bt*Ft/At,wt*vt/Ct),this._uiManager.enableWaiting(!1);const Et=Ln(this,Ql,document.createElement("canvas"));ht.append(Et),ht.hidden=!1,Dn(this,Ns,Iy).call(this,bt,wt),Dn(this,Ns,O3).call(this),Xt(this,Dx)||(this.parent.addUndoableEditor(this),Ln(this,Dx,!0)),this._reportTelemetry({action:"inserted_image"}),Xt(this,_p)&&Et.setAttribute("aria-label",Xt(this,_p))},M3=function(ht,bt){var St;const[wt,At]=this.parentDimensions;this.width=ht/wt,this.height=bt/At,this.setDims(ht,bt),(St=this._initialOptions)!=null&&St.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Xt(this,_c)!==null&&clearTimeout(Xt(this,_c)),Ln(this,_c,setTimeout(()=>{Ln(this,_c,null),Dn(this,Ns,Iy).call(this,ht,bt)},200))},R3=function(ht,bt){const{width:wt,height:At}=Xt(this,wo);let Ct=wt,St=At,Ft=Xt(this,wo);for(;Ct>2*ht||St>2*bt;){const vt=Ct,Et=St;Ct>2*ht&&(Ct=Ct>=16384?Math.floor(Ct/2)-1:Math.ceil(Ct/2)),St>2*bt&&(St=St>=16384?Math.floor(St/2)-1:Math.ceil(St/2));const Mt=new OffscreenCanvas(Ct,St);Mt.getContext("2d").drawImage(Ft,0,0,vt,Et,0,0,Ct,St),Ft=Mt.transferToImageBitmap()}return Ft},Iy=function(ht,bt){ht=Math.ceil(ht),bt=Math.ceil(bt);const wt=Xt(this,Ql);if(!wt||wt.width===ht&&wt.height===bt)return;wt.width=ht,wt.height=bt;const At=Xt(this,Il)?Xt(this,wo):Dn(this,Ns,R3).call(this,ht,bt);if(this._uiManager.hasMLManager&&!this.hasAltText()){const Ft=new OffscreenCanvas(ht,bt).getContext("2d");Ft.drawImage(At,0,0,At.width,At.height,0,0,ht,bt),this._uiManager.mlGuess({service:"image-to-text",request:{data:Ft.getImageData(0,0,ht,bt).data,width:ht,height:bt,channels:4}}).then(vt=>{const Et=(vt==null?void 0:vt.output)||"";this.parent&&Et&&!this.hasAltText()&&(this.altTextData={altText:Et,decorative:!1})})}const Ct=wt.getContext("2d");Ct.filter=this._uiManager.hcmFilter,Ct.drawImage(At,0,0,At.width,At.height,0,0,ht,bt)},u2=function(ht){if(ht){if(Xt(this,Il)){const At=this._uiManager.imageManager.getSvgUrl(Xt(this,Ao));if(At)return At}const bt=document.createElement("canvas");return{width:bt.width,height:bt.height}=Xt(this,wo),bt.getContext("2d").drawImage(Xt(this,wo),0,0),bt.toDataURL()}if(Xt(this,Il)){const[bt,wt]=this.pageDimensions,At=Math.round(this.width*bt*PixelsPerInch.PDF_TO_CSS_UNITS),Ct=Math.round(this.height*wt*PixelsPerInch.PDF_TO_CSS_UNITS),St=new OffscreenCanvas(At,Ct);return St.getContext("2d").drawImage(Xt(this,wo),0,0,Xt(this,wo).width,Xt(this,wo).height,0,0,At,Ct),St.transferToImageBitmap()}return structuredClone(Xt(this,wo))},O3=function(){Ln(this,m1,new ResizeObserver(ht=>{const bt=ht[0].contentRect;bt.width&&bt.height&&Dn(this,Ns,M3).call(this,bt.width,bt.height)})),Xt(this,m1).observe(this.div)},os(im,"_type","stamp"),os(im,"_editorType",AnnotationEditorType.STAMP);let StampEditor=im;var x1,Mp,eu,b1,Pu,_u,Mu,Go,c0,Rp,Op,Mo,xs,u0,So,I3,Dy,Ly,Ny,h2;const Al=class Al{constructor({uiManager:$,pageIndex:ht,div:bt,accessibilityManager:wt,annotationLayer:At,drawLayer:Ct,textLayer:St,viewport:Ft,l10n:vt}){$n(this,So);$n(this,x1);$n(this,Mp,!1);$n(this,eu,null);$n(this,b1,null);$n(this,Pu,null);$n(this,_u,null);$n(this,Mu,null);$n(this,Go,new Map);$n(this,c0,!1);$n(this,Rp,!1);$n(this,Op,!1);$n(this,Mo,null);$n(this,xs);const Et=[...Xt(Al,u0).values()];if(!Al._initialized){Al._initialized=!0;for(const Mt of Et)Mt.initialize(vt,$)}$.registerEditorTypes(Et),Ln(this,xs,$),this.pageIndex=ht,this.div=bt,Ln(this,x1,wt),Ln(this,eu,At),this.viewport=Ft,Ln(this,Mo,St),this.drawLayer=Ct,Xt(this,xs).addLayer(this)}get isEmpty(){return Xt(this,Go).size===0}get isInvisible(){return this.isEmpty&&Xt(this,xs).getMode()===AnnotationEditorType.NONE}updateToolbar($){Xt(this,xs).updateToolbar($)}updateMode($=Xt(this,xs).getMode()){switch(Dn(this,So,h2).call(this),$){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:ht}=this.div;for(const bt of Xt(Al,u0).values())ht.toggle(`${bt._type}Editing`,$===bt._editorType);this.div.hidden=!1}hasTextLayer($){var ht;return $===((ht=Xt(this,Mo))==null?void 0:ht.div)}addInkEditorIfNeeded($){if(Xt(this,xs).getMode()!==AnnotationEditorType.INK)return;if(!$){for(const bt of Xt(this,Go).values())if(bt.isEmpty()){bt.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($){Xt(this,xs).setEditingState($)}addCommands($){Xt(this,xs).addCommands($)}togglePointerEvents($=!1){this.div.classList.toggle("disabled",!$)}toggleAnnotationLayerPointerEvents($=!1){var ht;(ht=Xt(this,eu))==null||ht.div.classList.toggle("disabled",!$)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const $=new Set;for(const bt of Xt(this,Go).values())bt.enableEditing(),bt.show(!0),bt.annotationElementId&&(Xt(this,xs).removeChangedExistingAnnotation(bt),$.add(bt.annotationElementId));if(!Xt(this,eu))return;const ht=Xt(this,eu).getEditableAnnotations();for(const bt of ht){if(bt.hide(),Xt(this,xs).isDeletedAnnotationElement(bt.data.id)||$.has(bt.data.id))continue;const wt=this.deserialize(bt);wt&&(this.addOrRebuild(wt),wt.enableEditing())}}disable(){var wt;Ln(this,Op,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const $=new Map,ht=new Map;for(const At of Xt(this,Go).values())if(At.disableEditing(),!!At.annotationElementId){if(At.serialize()!==null){$.set(At.annotationElementId,At);continue}else ht.set(At.annotationElementId,At);(wt=this.getEditableAnnotation(At.annotationElementId))==null||wt.show(),At.remove()}if(Xt(this,eu)){const At=Xt(this,eu).getEditableAnnotations();for(const Ct of At){const{id:St}=Ct.data;if(Xt(this,xs).isDeletedAnnotationElement(St))continue;let Ft=ht.get(St);if(Ft){Ft.resetAnnotationElement(Ct),Ft.show(!1),Ct.show();continue}Ft=$.get(St),Ft&&(Xt(this,xs).addChangedExistingAnnotation(Ft),Ft.renderAnnotationElement(Ct),Ft.show(!1)),Ct.show()}}Dn(this,So,h2).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:bt}=this.div;for(const At of Xt(Al,u0).values())bt.remove(`${At._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Ln(this,Op,!1)}getEditableAnnotation($){var ht;return((ht=Xt(this,eu))==null?void 0:ht.getEditableAnnotation($))||null}setActiveEditor($){Xt(this,xs).getActive()!==$&&Xt(this,xs).setActiveEditor($)}enableTextSelection(){var $;this.div.tabIndex=-1,($=Xt(this,Mo))!=null&&$.div&&!Xt(this,_u)&&(Ln(this,_u,Dn(this,So,I3).bind(this)),Xt(this,Mo).div.addEventListener("pointerdown",Xt(this,_u)),Xt(this,Mo).div.classList.add("highlighting"))}disableTextSelection(){var $;this.div.tabIndex=0,($=Xt(this,Mo))!=null&&$.div&&Xt(this,_u)&&(Xt(this,Mo).div.removeEventListener("pointerdown",Xt(this,_u)),Ln(this,_u,null),Xt(this,Mo).div.classList.remove("highlighting"))}enableClick(){Xt(this,Pu)||(Ln(this,Pu,this.pointerdown.bind(this)),Ln(this,b1,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",Xt(this,Pu)),this.div.addEventListener("pointerup",Xt(this,b1)))}disableClick(){Xt(this,Pu)&&(this.div.removeEventListener("pointerdown",Xt(this,Pu)),this.div.removeEventListener("pointerup",Xt(this,b1)),Ln(this,Pu,null),Ln(this,b1,null))}attach($){Xt(this,Go).set($.id,$);const{annotationElementId:ht}=$;ht&&Xt(this,xs).isDeletedAnnotationElement(ht)&&Xt(this,xs).removeDeletedAnnotationElement($)}detach($){var ht;Xt(this,Go).delete($.id),(ht=Xt(this,x1))==null||ht.removePointerInTextLayer($.contentDiv),!Xt(this,Op)&&$.annotationElementId&&Xt(this,xs).addDeletedAnnotationElement($)}remove($){this.detach($),Xt(this,xs).removeEditor($),$.div.remove(),$.isAttachedToDOM=!1,Xt(this,Rp)||this.addInkEditorIfNeeded(!1)}changeParent($){var ht;$.parent!==this&&($.parent&&$.annotationElementId&&(Xt(this,xs).addDeletedAnnotationElement($.annotationElementId),AnnotationEditor.deleteAnnotationElement($),$.annotationElementId=null),this.attach($),(ht=$.parent)==null||ht.detach($),$.setParent(this),$.div&&$.isAttachedToDOM&&($.div.remove(),this.div.append($.div)))}add($){if(!($.parent===this&&$.isAttachedToDOM)){if(this.changeParent($),Xt(this,xs).addEditor($),this.attach($),!$.isAttachedToDOM){const ht=$.render();this.div.append(ht),$.isAttachedToDOM=!0}$.fixAndSetPosition(),$.onceAdded(),Xt(this,xs).addToAnnotationStorage($),$._reportTelemetry($.telemetryInitialData)}}moveEditorInDOM($){var bt;if(!$.isAttachedToDOM)return;const{activeElement:ht}=document;$.div.contains(ht)&&!Xt(this,Mu)&&($._focusEventsAllowed=!1,Ln(this,Mu,setTimeout(()=>{Ln(this,Mu,null),$.div.contains(document.activeElement)?$._focusEventsAllowed=!0:($.div.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),ht.focus())},0))),$._structTreeParentId=(bt=Xt(this,x1))==null?void 0:bt.moveElementInDOM(this.div,$.div,$.contentDiv,!0)}addOrRebuild($){$.needsToBeRebuilt()?($.parent||($.parent=this),$.rebuild(),$.show()):this.add($)}addUndoableEditor($){const ht=()=>$._uiManager.rebuild($),bt=()=>{$.remove()};this.addCommands({cmd:ht,undo:bt,mustExec:!1})}getNextId(){return Xt(this,xs).getId()}canCreateNewEmptyEditor(){var $;return($=Xt(this,So,Dy))==null?void 0:$.canCreateNewEmptyEditor()}pasteEditor($,ht){Xt(this,xs).updateToolbar($),Xt(this,xs).updateMode($);const{offsetX:bt,offsetY:wt}=Dn(this,So,Ny).call(this),At=this.getNextId(),Ct=Dn(this,So,Ly).call(this,{parent:this,id:At,x:bt,y:wt,uiManager:Xt(this,xs),isCentered:!0,...ht});Ct&&this.add(Ct)}deserialize($){var ht;return((ht=Xt(Al,u0).get($.annotationType??$.annotationEditorType))==null?void 0:ht.deserialize($,this,Xt(this,xs)))||null}createAndAddNewEditor($,ht,bt={}){const wt=this.getNextId(),At=Dn(this,So,Ly).call(this,{parent:this,id:wt,x:$.offsetX,y:$.offsetY,uiManager:Xt(this,xs),isCentered:ht,...bt});return At&&this.add(At),At}addNewEditor(){this.createAndAddNewEditor(Dn(this,So,Ny).call(this),!0)}setSelected($){Xt(this,xs).setSelected($)}toggleSelected($){Xt(this,xs).toggleSelected($)}isSelected($){return Xt(this,xs).isSelected($)}unselect($){Xt(this,xs).unselect($)}pointerup($){const{isMac:ht}=util_FeatureTest.platform;if(!($.button!==0||$.ctrlKey&&ht)&&$.target===this.div&&Xt(this,c0)){if(Ln(this,c0,!1),!Xt(this,Mp)){Ln(this,Mp,!0);return}if(Xt(this,xs).getMode()===AnnotationEditorType.STAMP){Xt(this,xs).unselectAll();return}this.createAndAddNewEditor($,!1)}}pointerdown($){if(Xt(this,xs).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),Xt(this,c0)){Ln(this,c0,!1);return}const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht||$.target!==this.div)return;Ln(this,c0,!0);const bt=Xt(this,xs).getActive();Ln(this,Mp,!bt||bt.isEmpty())}findNewParent($,ht,bt){const wt=Xt(this,xs).findParent(ht,bt);return wt===null||wt===this?!1:(wt.changeParent($),!0)}destroy(){var $,ht;(($=Xt(this,xs).getActive())==null?void 0:$.parent)===this&&(Xt(this,xs).commitOrRemove(),Xt(this,xs).setActiveEditor(null)),Xt(this,Mu)&&(clearTimeout(Xt(this,Mu)),Ln(this,Mu,null));for(const bt of Xt(this,Go).values())(ht=Xt(this,x1))==null||ht.removePointerInTextLayer(bt.contentDiv),bt.setParent(null),bt.isAttachedToDOM=!1,bt.div.remove();this.div=null,Xt(this,Go).clear(),Xt(this,xs).removeLayer(this)}render({viewport:$}){this.viewport=$,setLayerDimensions(this.div,$);for(const ht of Xt(this,xs).getEditors(this.pageIndex))this.add(ht),ht.rebuild();this.updateMode()}update({viewport:$}){Xt(this,xs).commitOrRemove(),Dn(this,So,h2).call(this);const ht=this.viewport.rotation,bt=$.rotation;if(this.viewport=$,setLayerDimensions(this.div,{rotation:bt}),ht!==bt)for(const wt of Xt(this,Go).values())wt.rotate(bt);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:$,pageHeight:ht}=this.viewport.rawDims;return[$,ht]}get scale(){return Xt(this,xs).viewParameters.realScale}};x1=new WeakMap,Mp=new WeakMap,eu=new WeakMap,b1=new WeakMap,Pu=new WeakMap,_u=new WeakMap,Mu=new WeakMap,Go=new WeakMap,c0=new WeakMap,Rp=new WeakMap,Op=new WeakMap,Mo=new WeakMap,xs=new WeakMap,u0=new WeakMap,So=new WeakSet,I3=function($){if(Xt(this,xs).unselectAll(),$.target===Xt(this,Mo).div){const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht)return;Xt(this,xs).showAllEditors("highlight",!0,!0),Xt(this,Mo).div.classList.add("free"),HighlightEditor.startHighlighting(this,Xt(this,xs).direction==="ltr",$),Xt(this,Mo).div.addEventListener("pointerup",()=>{Xt(this,Mo).div.classList.remove("free")},{once:!0}),$.preventDefault()}},Dy=function(){return Xt(Al,u0).get(Xt(this,xs).getMode())},Ly=function($){const ht=Xt(this,So,Dy);return ht?new ht.prototype.constructor($):null},Ny=function(){const{x:$,y:ht,width:bt,height:wt}=this.div.getBoundingClientRect(),At=Math.max(0,$),Ct=Math.max(0,ht),St=Math.min(window.innerWidth,$+bt),Ft=Math.min(window.innerHeight,ht+wt),vt=(At+St)/2-$,Et=(Ct+Ft)/2-ht,[Mt,Pt]=this.viewport.rotation%180===0?[vt,Et]:[Et,vt];return{offsetX:Mt,offsetY:Pt}},h2=function(){Ln(this,Rp,!0);for(const $ of Xt(this,Go).values())$.isEmpty()&&$.remove();Ln(this,Rp,!1)},os(Al,"_initialized",!1),$n(Al,u0,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map($=>[$._editorType,$])));let AnnotationEditorLayer=Al;var tu,Lx,co,h0,Nx,$y,v1,By,D3;const mo=class mo{constructor({pageIndex:$}){$n(this,v1);$n(this,tu,null);$n(this,Lx,0);$n(this,co,new Map);$n(this,h0,new Map);this.pageIndex=$}setParent($){if(!Xt(this,tu)){Ln(this,tu,$);return}if(Xt(this,tu)!==$){if(Xt(this,co).size>0)for(const ht of Xt(this,co).values())ht.remove(),$.append(ht);Ln(this,tu,$)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}highlight($,ht,bt,wt=!1){const At=Fo(this,Lx)._++,Ct=Dn(this,v1,By).call(this,$.box);Ct.classList.add("highlight"),$.free&&Ct.classList.add("free");const St=mo._svgFactory.createElement("defs");Ct.append(St);const Ft=mo._svgFactory.createElement("path");St.append(Ft);const vt=`path_p${this.pageIndex}_${At}`;Ft.setAttribute("id",vt),Ft.setAttribute("d",$.toSVGPath()),wt&&Xt(this,h0).set(At,Ft);const Et=Dn(this,v1,D3).call(this,St,vt),Mt=mo._svgFactory.createElement("use");return Ct.append(Mt),Ct.setAttribute("fill",ht),Ct.setAttribute("fill-opacity",bt),Mt.setAttribute("href",`#${vt}`),Xt(this,co).set(At,Ct),{id:At,clipPathId:`url(#${Et})`}}highlightOutline($){const ht=Fo(this,Lx)._++,bt=Dn(this,v1,By).call(this,$.box);bt.classList.add("highlightOutline");const wt=mo._svgFactory.createElement("defs");bt.append(wt);const At=mo._svgFactory.createElement("path");wt.append(At);const Ct=`path_p${this.pageIndex}_${ht}`;At.setAttribute("id",Ct),At.setAttribute("d",$.toSVGPath()),At.setAttribute("vector-effect","non-scaling-stroke");let St;if($.free){bt.classList.add("free");const Et=mo._svgFactory.createElement("mask");wt.append(Et),St=`mask_p${this.pageIndex}_${ht}`,Et.setAttribute("id",St),Et.setAttribute("maskUnits","objectBoundingBox");const Mt=mo._svgFactory.createElement("rect");Et.append(Mt),Mt.setAttribute("width","1"),Mt.setAttribute("height","1"),Mt.setAttribute("fill","white");const Pt=mo._svgFactory.createElement("use");Et.append(Pt),Pt.setAttribute("href",`#${Ct}`),Pt.setAttribute("stroke","none"),Pt.setAttribute("fill","black"),Pt.setAttribute("fill-rule","nonzero"),Pt.classList.add("mask")}const Ft=mo._svgFactory.createElement("use");bt.append(Ft),Ft.setAttribute("href",`#${Ct}`),St&&Ft.setAttribute("mask",`url(#${St})`);const vt=Ft.cloneNode();return bt.append(vt),Ft.classList.add("mainOutline"),vt.classList.add("secondaryOutline"),Xt(this,co).set(ht,bt),ht}finalizeLine($,ht){const bt=Xt(this,h0).get($);Xt(this,h0).delete($),this.updateBox($,ht.box),bt.setAttribute("d",ht.toSVGPath())}updateLine($,ht){Xt(this,co).get($).firstChild.firstChild.setAttribute("d",ht.toSVGPath())}removeFreeHighlight($){this.remove($),Xt(this,h0).delete($)}updatePath($,ht){Xt(this,h0).get($).setAttribute("d",ht.toSVGPath())}updateBox($,ht){var bt;Dn(bt=mo,Nx,$y).call(bt,Xt(this,co).get($),ht)}show($,ht){Xt(this,co).get($).classList.toggle("hidden",!ht)}rotate($,ht){Xt(this,co).get($).setAttribute("data-main-rotation",ht)}changeColor($,ht){Xt(this,co).get($).setAttribute("fill",ht)}changeOpacity($,ht){Xt(this,co).get($).setAttribute("fill-opacity",ht)}addClass($,ht){Xt(this,co).get($).classList.add(ht)}removeClass($,ht){Xt(this,co).get($).classList.remove(ht)}remove($){Xt(this,tu)!==null&&(Xt(this,co).get($).remove(),Xt(this,co).delete($))}destroy(){Ln(this,tu,null);for(const $ of Xt(this,co).values())$.remove();Xt(this,co).clear()}};tu=new WeakMap,Lx=new WeakMap,co=new WeakMap,h0=new WeakMap,Nx=new WeakSet,$y=function($,{x:ht=0,y:bt=0,width:wt=1,height:At=1}={}){const{style:Ct}=$;Ct.top=`${100*bt}%`,Ct.left=`${100*ht}%`,Ct.width=`${100*wt}%`,Ct.height=`${100*At}%`},v1=new WeakSet,By=function($){var bt;const ht=mo._svgFactory.create(1,1,!0);return Xt(this,tu).append(ht),ht.setAttribute("aria-hidden",!0),Dn(bt=mo,Nx,$y).call(bt,ht,$),ht},D3=function($,ht){const bt=mo._svgFactory.createElement("clipPath");$.append(bt);const wt=`clip_${ht}`;bt.setAttribute("id",wt),bt.setAttribute("clipPathUnits","objectBoundingBox");const At=mo._svgFactory.createElement("use");return bt.append(At),At.setAttribute("href",`#${ht}`),At.classList.add("clip"),wt},$n(mo,Nx);let DrawLayer=mo;__webpack_exports__.AbortException;__webpack_exports__.AnnotationEditorLayer;__webpack_exports__.AnnotationEditorParamsType;__webpack_exports__.AnnotationEditorType;__webpack_exports__.AnnotationEditorUIManager;__webpack_exports__.AnnotationLayer;__webpack_exports__.AnnotationMode;__webpack_exports__.CMapCompressionType;__webpack_exports__.ColorPicker;__webpack_exports__.DOMSVGFactory;__webpack_exports__.DrawLayer;__webpack_exports__.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions;__webpack_exports__.ImageKind;__webpack_exports__.InvalidPDFException;__webpack_exports__.MissingPDFException;__webpack_exports__.OPS;__webpack_exports__.Outliner;__webpack_exports__.PDFDataRangeTransport;__webpack_exports__.PDFDateString;__webpack_exports__.PDFWorker;__webpack_exports__.PasswordResponses;__webpack_exports__.PermissionFlag;__webpack_exports__.PixelsPerInch;__webpack_exports__.RenderingCancelledException;__webpack_exports__.TextLayer;__webpack_exports__.UnexpectedResponseException;__webpack_exports__.Util;__webpack_exports__.VerbosityLevel;__webpack_exports__.XfaLayer;__webpack_exports__.build;__webpack_exports__.createValidAbsoluteUrl;__webpack_exports__.fetchData;__webpack_exports__.getDocument;__webpack_exports__.getFilenameFromUrl;__webpack_exports__.getPdfFilenameFromUrl;__webpack_exports__.getXfaPageViewport;__webpack_exports__.isDataScheme;__webpack_exports__.isPdfFile;__webpack_exports__.noContextMenu;__webpack_exports__.normalizeUnicode;__webpack_exports__.renderTextLayer;__webpack_exports__.setLayerDimensions;__webpack_exports__.shadow;__webpack_exports__.updateTextLayer;__webpack_exports__.version;function commonjsRequire(_e){throw new Error('Could not dynamically require "'+_e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,ht){module.exports=ht()})(globalThis,()=>(()=>{var __webpack_modules__=[,(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.UNSUPPORTED_FEATURES=$.TextRenderingMode=$.StreamType=$.RenderingIntentFlag=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FontType=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.AnnotationType=$.AnnotationStateModelType=$.AnnotationReviewState=$.AnnotationReplyType=$.AnnotationMode=$.AnnotationMarkedState=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.arrayByteLength=on,$.arraysToBytes=wn,$.assert=Jt,$.bytesToString=vn,$.createPromiseCapability=ir,$.createValidAbsoluteUrl=tn,$.escapeString=jn,$.getModificationDate=tr,$.getVerbosityLevel=zt,$.info=cn,$.isArrayBuffer=cr,$.isArrayEqual=rr,$.isAscii=qn,$.objectFromMap=Tn,$.objectSize=Cn,$.setVerbosityLevel=Ut,$.shadow=un,$.string32=pn,$.stringToBytes=gn,$.stringToPDFString=On,$.stringToUTF16BEString=Gn,$.stringToUTF8String=Yn,$.unreachable=Kt,$.utf8StringToString=er,$.warn=ln,ht(2);const bt=[1,0,0,1,0,0];$.IDENTITY_MATRIX=bt;const wt=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=wt;const At=1.35;$.LINE_FACTOR=At;const Ct=.35;$.LINE_DESCENT_FACTOR=Ct;const St={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=St;const Ft={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=Ft;const vt="pdfjs_internal_editor_";$.AnnotationEditorPrefix=vt;const Et={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};$.AnnotationEditorType=Et;const Mt={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};$.AnnotationEditorParamsType=Mt;const Pt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=Pt;const xt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=xt;const $t={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=$t;const _t={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=_t;const jt={MARKED:"Marked",REVIEW:"Review"};$.AnnotationStateModelType=jt;const Rt={MARKED:"Marked",UNMARKED:"Unmarked"};$.AnnotationMarkedState=Rt;const Nt={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};$.AnnotationReviewState=Nt;const Lt={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=Lt;const kt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=kt;const Bt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=Bt;const Ht={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=Ht;const Ot={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=Ot;const Vt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=Vt;const Gt={O:"PageOpen",C:"PageClose"};$.PageActionEventType=Gt;const Wt={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};$.StreamType=Wt;const en={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};$.FontType=en;const Sn={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=Sn;const sn={NONE:0,BINARY:1,STREAM:2};$.CMapCompressionType=sn;const hn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=hn;const Qt={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};$.UNSUPPORTED_FEATURES=Qt;const qt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=qt;let nn=Sn.WARNINGS;function Ut(Kn){Number.isInteger(Kn)&&(nn=Kn)}function zt(){return nn}function cn(Kn){nn>=Sn.INFOS&&console.log(`Info: ${Kn}`)}function ln(Kn){nn>=Sn.WARNINGS&&console.log(`Warning: ${Kn}`)}function Kt(Kn){throw new Error(Kn)}function Jt(Kn,Vn){Kn||Kt(Vn)}function Yt(Kn){if(!Kn)return!1;switch(Kn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function tn(Kn,Vn=null,Bn=null){if(!Kn)return null;try{if(Bn&&typeof Kn=="string"){if(Bn.addDefaultProtocol&&Kn.startsWith("www.")){const br=Kn.match(/\./g);br&&br.length>=2&&(Kn=`http://${Kn}`)}if(Bn.tryConvertEncoding)try{Kn=Yn(Kn)}catch{}}const lr=Vn?new URL(Kn,Vn):new URL(Kn);if(Yt(lr))return lr}catch{}return null}function un(Kn,Vn,Bn){return Object.defineProperty(Kn,Vn,{value:Bn,enumerable:!0,configurable:!0,writable:!1}),Bn}const yn=function(){function Vn(Bn,lr){this.constructor===Vn&&Kt("Cannot initialize BaseException."),this.message=Bn,this.name=lr}return Vn.prototype=new Error,Vn.constructor=Vn,Vn}();$.BaseException=yn;class xn extends yn{constructor(Vn,Bn){super(Vn,"PasswordException"),this.code=Bn}}$.PasswordException=xn;class rn extends yn{constructor(Vn,Bn){super(Vn,"UnknownErrorException"),this.details=Bn}}$.UnknownErrorException=rn;class dn extends yn{constructor(Vn){super(Vn,"InvalidPDFException")}}$.InvalidPDFException=dn;class An extends yn{constructor(Vn){super(Vn,"MissingPDFException")}}$.MissingPDFException=An;class an extends yn{constructor(Vn,Bn){super(Vn,"UnexpectedResponseException"),this.status=Bn}}$.UnexpectedResponseException=an;class fn extends yn{constructor(Vn){super(Vn,"FormatError")}}$.FormatError=fn;class bn extends yn{constructor(Vn){super(Vn,"AbortException")}}$.AbortException=bn;function vn(Kn){(typeof Kn!="object"||Kn===null||Kn.length===void 0)&&Kt("Invalid argument for bytesToString");const Vn=Kn.length,Bn=8192;if(Vn<Bn)return String.fromCharCode.apply(null,Kn);const lr=[];for(let br=0;br<Vn;br+=Bn){const Pr=Math.min(br+Bn,Vn),nr=Kn.subarray(br,Pr);lr.push(String.fromCharCode.apply(null,nr))}return lr.join("")}function gn(Kn){typeof Kn!="string"&&Kt("Invalid argument for stringToBytes");const Vn=Kn.length,Bn=new Uint8Array(Vn);for(let lr=0;lr<Vn;++lr)Bn[lr]=Kn.charCodeAt(lr)&255;return Bn}function on(Kn){if(Kn.length!==void 0)return Kn.length;if(Kn.byteLength!==void 0)return Kn.byteLength;Kt("Invalid argument for arrayByteLength")}function wn(Kn){const Vn=Kn.length;if(Vn===1&&Kn[0]instanceof Uint8Array)return Kn[0];let Bn=0;for(let Pr=0;Pr<Vn;Pr++)Bn+=on(Kn[Pr]);let lr=0;const br=new Uint8Array(Bn);for(let Pr=0;Pr<Vn;Pr++){let nr=Kn[Pr];nr instanceof Uint8Array||(typeof nr=="string"?nr=gn(nr):nr=new Uint8Array(nr));const _i=nr.byteLength;br.set(nr,lr),lr+=_i}return br}function pn(Kn){return String.fromCharCode(Kn>>24&255,Kn>>16&255,Kn>>8&255,Kn&255)}function Cn(Kn){return Object.keys(Kn).length}function Tn(Kn){const Vn=Object.create(null);for(const[Bn,lr]of Kn)Vn[Bn]=lr;return Vn}function Fn(){const Kn=new Uint8Array(4);return Kn[0]=1,new Uint32Array(Kn.buffer,0,1)[0]===1}function En(){try{return new Function(""),!0}catch{return!1}}class kn{static get isLittleEndian(){return un(this,"isLittleEndian",Fn())}static get isEvalSupported(){return un(this,"isEvalSupported",En())}static get isOffscreenCanvasSupported(){return un(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}$.FeatureTest=kn;const Pn=[...Array(256).keys()].map(Kn=>Kn.toString(16).padStart(2,"0"));class _n{static makeHexColor(Vn,Bn,lr){return`#${Pn[Vn]}${Pn[Bn]}${Pn[lr]}`}static scaleMinMax(Vn,Bn){let lr;Vn[0]?(Vn[0]<0&&(lr=Bn[0],Bn[0]=Bn[1],Bn[1]=lr),Bn[0]*=Vn[0],Bn[1]*=Vn[0],Vn[3]<0&&(lr=Bn[2],Bn[2]=Bn[3],Bn[3]=lr),Bn[2]*=Vn[3],Bn[3]*=Vn[3]):(lr=Bn[0],Bn[0]=Bn[2],Bn[2]=lr,lr=Bn[1],Bn[1]=Bn[3],Bn[3]=lr,Vn[1]<0&&(lr=Bn[2],Bn[2]=Bn[3],Bn[3]=lr),Bn[2]*=Vn[1],Bn[3]*=Vn[1],Vn[2]<0&&(lr=Bn[0],Bn[0]=Bn[1],Bn[1]=lr),Bn[0]*=Vn[2],Bn[1]*=Vn[2]),Bn[0]+=Vn[4],Bn[1]+=Vn[4],Bn[2]+=Vn[5],Bn[3]+=Vn[5]}static transform(Vn,Bn){return[Vn[0]*Bn[0]+Vn[2]*Bn[1],Vn[1]*Bn[0]+Vn[3]*Bn[1],Vn[0]*Bn[2]+Vn[2]*Bn[3],Vn[1]*Bn[2]+Vn[3]*Bn[3],Vn[0]*Bn[4]+Vn[2]*Bn[5]+Vn[4],Vn[1]*Bn[4]+Vn[3]*Bn[5]+Vn[5]]}static applyTransform(Vn,Bn){const lr=Vn[0]*Bn[0]+Vn[1]*Bn[2]+Bn[4],br=Vn[0]*Bn[1]+Vn[1]*Bn[3]+Bn[5];return[lr,br]}static applyInverseTransform(Vn,Bn){const lr=Bn[0]*Bn[3]-Bn[1]*Bn[2],br=(Vn[0]*Bn[3]-Vn[1]*Bn[2]+Bn[2]*Bn[5]-Bn[4]*Bn[3])/lr,Pr=(-Vn[0]*Bn[1]+Vn[1]*Bn[0]+Bn[4]*Bn[1]-Bn[5]*Bn[0])/lr;return[br,Pr]}static getAxialAlignedBoundingBox(Vn,Bn){const lr=_n.applyTransform(Vn,Bn),br=_n.applyTransform(Vn.slice(2,4),Bn),Pr=_n.applyTransform([Vn[0],Vn[3]],Bn),nr=_n.applyTransform([Vn[2],Vn[1]],Bn);return[Math.min(lr[0],br[0],Pr[0],nr[0]),Math.min(lr[1],br[1],Pr[1],nr[1]),Math.max(lr[0],br[0],Pr[0],nr[0]),Math.max(lr[1],br[1],Pr[1],nr[1])]}static inverseTransform(Vn){const Bn=Vn[0]*Vn[3]-Vn[1]*Vn[2];return[Vn[3]/Bn,-Vn[1]/Bn,-Vn[2]/Bn,Vn[0]/Bn,(Vn[2]*Vn[5]-Vn[4]*Vn[3])/Bn,(Vn[4]*Vn[1]-Vn[5]*Vn[0])/Bn]}static apply3dTransform(Vn,Bn){return[Vn[0]*Bn[0]+Vn[1]*Bn[1]+Vn[2]*Bn[2],Vn[3]*Bn[0]+Vn[4]*Bn[1]+Vn[5]*Bn[2],Vn[6]*Bn[0]+Vn[7]*Bn[1]+Vn[8]*Bn[2]]}static singularValueDecompose2dScale(Vn){const Bn=[Vn[0],Vn[2],Vn[1],Vn[3]],lr=Vn[0]*Bn[0]+Vn[1]*Bn[2],br=Vn[0]*Bn[1]+Vn[1]*Bn[3],Pr=Vn[2]*Bn[0]+Vn[3]*Bn[2],nr=Vn[2]*Bn[1]+Vn[3]*Bn[3],_i=(lr+nr)/2,zn=Math.sqrt((lr+nr)**2-4*(lr*nr-Pr*br))/2,wr=_i+zn||1,Cr=_i-zn||1;return[Math.sqrt(wr),Math.sqrt(Cr)]}static normalizeRect(Vn){const Bn=Vn.slice(0);return Vn[0]>Vn[2]&&(Bn[0]=Vn[2],Bn[2]=Vn[0]),Vn[1]>Vn[3]&&(Bn[1]=Vn[3],Bn[3]=Vn[1]),Bn}static intersect(Vn,Bn){const lr=Math.max(Math.min(Vn[0],Vn[2]),Math.min(Bn[0],Bn[2])),br=Math.min(Math.max(Vn[0],Vn[2]),Math.max(Bn[0],Bn[2]));if(lr>br)return null;const Pr=Math.max(Math.min(Vn[1],Vn[3]),Math.min(Bn[1],Bn[3])),nr=Math.min(Math.max(Vn[1],Vn[3]),Math.max(Bn[1],Bn[3]));return Pr>nr?null:[lr,Pr,br,nr]}static bezierBoundingBox(Vn,Bn,lr,br,Pr,nr,_i,zn){const wr=[],Cr=[[],[]];let yr,Br,gr,Mr,qr,pr,zr,Rr;for(let Ur=0;Ur<2;++Ur){if(Ur===0?(Br=6*Vn-12*lr+6*Pr,yr=-3*Vn+9*lr-9*Pr+3*_i,gr=3*lr-3*Vn):(Br=6*Bn-12*br+6*nr,yr=-3*Bn+9*br-9*nr+3*zn,gr=3*br-3*Bn),Math.abs(yr)<1e-12){if(Math.abs(Br)<1e-12)continue;Mr=-gr/Br,0<Mr&&Mr<1&&wr.push(Mr);continue}zr=Br*Br-4*gr*yr,Rr=Math.sqrt(zr),!(zr<0)&&(qr=(-Br+Rr)/(2*yr),0<qr&&qr<1&&wr.push(qr),pr=(-Br-Rr)/(2*yr),0<pr&&pr<1&&wr.push(pr))}let fs=wr.length,Yr;const Jr=fs;for(;fs--;)Mr=wr[fs],Yr=1-Mr,Cr[0][fs]=Yr*Yr*Yr*Vn+3*Yr*Yr*Mr*lr+3*Yr*Mr*Mr*Pr+Mr*Mr*Mr*_i,Cr[1][fs]=Yr*Yr*Yr*Bn+3*Yr*Yr*Mr*br+3*Yr*Mr*Mr*nr+Mr*Mr*Mr*zn;return Cr[0][Jr]=Vn,Cr[1][Jr]=Bn,Cr[0][Jr+1]=_i,Cr[1][Jr+1]=zn,Cr[0].length=Cr[1].length=Jr+2,[Math.min(...Cr[0]),Math.min(...Cr[1]),Math.max(...Cr[0]),Math.max(...Cr[1])]}}$.Util=_n;const Mn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function On(Kn){if(Kn[0]>=""){let Bn;if(Kn[0]===""&&Kn[1]===""?Bn="utf-16be":Kn[0]===""&&Kn[1]===""?Bn="utf-16le":Kn[0]===""&&Kn[1]===""&&Kn[2]===""&&(Bn="utf-8"),Bn)try{const lr=new TextDecoder(Bn,{fatal:!0}),br=gn(Kn);return lr.decode(br)}catch(lr){ln(`stringToPDFString: "${lr}".`)}}const Vn=[];for(let Bn=0,lr=Kn.length;Bn<lr;Bn++){const br=Mn[Kn.charCodeAt(Bn)];Vn.push(br?String.fromCharCode(br):Kn.charAt(Bn))}return Vn.join("")}function jn(Kn){return Kn.replace(/([()\\\n\r])/g,Vn=>Vn===`
`?"\\n":Vn==="\r"?"\\r":`\\${Vn}`)}function qn(Kn){return/^[\x00-\x7F]*$/.test(Kn)}function Gn(Kn){const Vn=[""];for(let Bn=0,lr=Kn.length;Bn<lr;Bn++){const br=Kn.charCodeAt(Bn);Vn.push(String.fromCharCode(br>>8&255),String.fromCharCode(br&255))}return Vn.join("")}function Yn(Kn){return decodeURIComponent(escape(Kn))}function er(Kn){return unescape(encodeURIComponent(Kn))}function cr(Kn){return typeof Kn=="object"&&Kn!==null&&Kn.byteLength!==void 0}function rr(Kn,Vn){if(Kn.length!==Vn.length)return!1;for(let Bn=0,lr=Kn.length;Bn<lr;Bn++)if(Kn[Bn]!==Vn[Bn])return!1;return!0}function tr(Kn=new Date){return[Kn.getUTCFullYear().toString(),(Kn.getUTCMonth()+1).toString().padStart(2,"0"),Kn.getUTCDate().toString().padStart(2,"0"),Kn.getUTCHours().toString().padStart(2,"0"),Kn.getUTCMinutes().toString().padStart(2,"0"),Kn.getUTCSeconds().toString().padStart(2,"0")].join("")}function ir(){const Kn=Object.create(null);let Vn=!1;return Object.defineProperty(Kn,"settled",{get(){return Vn}}),Kn.promise=new Promise(function(Bn,lr){Kn.resolve=function(br){Vn=!0,Bn(br)},Kn.reject=function(br){Vn=!0,lr(br)}}),Kn}},(_e,$,ht)=>{ht(3)},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.isNodeJS=void 0;const ht=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=ht},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var _e,ht,bt,wt,At,Ct,St,Ft,vt,jy,Mt,Pt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:$t,NodeCMapReaderFactory:_t,NodeStandardFontDataFactory:jt}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=$t,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=_t,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=jt}let createPDFNetworkStream;function setPDFNetworkStreamFactory($t){createPDFNetworkStream=$t}function getDocument($t){const _t=new PDFDocumentLoadingTask;let jt;if(typeof $t=="string"||$t instanceof URL)jt={url:$t};else if((0,_util.isArrayBuffer)($t))jt={data:$t};else if($t instanceof PDFDataRangeTransport)jt={range:$t};else{if(typeof $t!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!$t.url&&!$t.data&&!$t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");jt=$t}const Rt=Object.create(null);let Nt=null,Lt=null;for(const Bt in jt){const Ht=jt[Bt];switch(Bt){case"url":if(typeof window<"u")try{Rt[Bt]=new URL(Ht,window.location).href;continue}catch(Ot){(0,_util.warn)(`Cannot create valid URL: "${Ot}".`)}else if(typeof Ht=="string"||Ht instanceof URL){Rt[Bt]=Ht.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":Nt=Ht;continue;case"worker":Lt=Ht;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&Ht instanceof Buffer)Rt[Bt]=new Uint8Array(Ht);else{if(Ht instanceof Uint8Array)break;if(typeof Ht=="string")Rt[Bt]=(0,_util.stringToBytes)(Ht);else if(typeof Ht=="object"&&Ht!==null&&!isNaN(Ht.length))Rt[Bt]=new Uint8Array(Ht);else if((0,_util.isArrayBuffer)(Ht))Rt[Bt]=new Uint8Array(Ht);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}Rt[Bt]=Ht}if(Rt.CMapReaderFactory=Rt.CMapReaderFactory||DefaultCMapReaderFactory,Rt.StandardFontDataFactory=Rt.StandardFontDataFactory||DefaultStandardFontDataFactory,Rt.ignoreErrors=Rt.stopAtErrors!==!0,Rt.fontExtraProperties=Rt.fontExtraProperties===!0,Rt.pdfBug=Rt.pdfBug===!0,Rt.enableXfa=Rt.enableXfa===!0,(!Number.isInteger(Rt.rangeChunkSize)||Rt.rangeChunkSize<1)&&(Rt.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof Rt.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(Rt.docBaseUrl))&&(Rt.docBaseUrl=null),(!Number.isInteger(Rt.maxImageSize)||Rt.maxImageSize<-1)&&(Rt.maxImageSize=-1),typeof Rt.cMapUrl!="string"&&(Rt.cMapUrl=null),typeof Rt.standardFontDataUrl!="string"&&(Rt.standardFontDataUrl=null),typeof Rt.useWorkerFetch!="boolean"&&(Rt.useWorkerFetch=Rt.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&Rt.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof Rt.isEvalSupported!="boolean"&&(Rt.isEvalSupported=!0),typeof Rt.disableFontFace!="boolean"&&(Rt.disableFontFace=_is_node.isNodeJS),typeof Rt.useSystemFonts!="boolean"&&(Rt.useSystemFonts=!_is_node.isNodeJS&&!Rt.disableFontFace),(typeof Rt.ownerDocument!="object"||Rt.ownerDocument===null)&&(Rt.ownerDocument=globalThis.document),typeof Rt.disableRange!="boolean"&&(Rt.disableRange=!1),typeof Rt.disableStream!="boolean"&&(Rt.disableStream=!1),typeof Rt.disableAutoFetch!="boolean"&&(Rt.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(Rt.verbosity),!Lt){const Bt={verbosity:Rt.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};Lt=Bt.port?PDFWorker.fromPort(Bt):new PDFWorker(Bt),_t._worker=Lt}const kt=_t.docId;return Lt.promise.then(function(){if(_t.destroyed)throw new Error("Loading aborted");const Bt=_fetchDocument(Lt,Rt,Nt,kt),Ht=new Promise(function(Ot){let Vt;Nt?Vt=new _transport_stream.PDFDataTransportStream({length:Rt.length,initialData:Rt.initialData,progressiveDone:Rt.progressiveDone,contentDispositionFilename:Rt.contentDispositionFilename,disableRange:Rt.disableRange,disableStream:Rt.disableStream},Nt):Rt.data||(Vt=createPDFNetworkStream({url:Rt.url,length:Rt.length,httpHeaders:Rt.httpHeaders,withCredentials:Rt.withCredentials,rangeChunkSize:Rt.rangeChunkSize,disableRange:Rt.disableRange,disableStream:Rt.disableStream})),Ot(Vt)});return Promise.all([Bt,Ht]).then(function([Ot,Vt]){if(_t.destroyed)throw new Error("Loading aborted");const Gt=new _message_handler.MessageHandler(kt,Ot,Lt.port),Wt=new WorkerTransport(Gt,_t,Vt,Rt);_t._transport=Wt,Gt.send("Ready",null)})}).catch(_t._capability.reject),_t}async function _fetchDocument($t,_t,jt,Rt){if($t.destroyed)throw new Error("Worker was destroyed");jt&&(_t.length=jt.length,_t.initialData=jt.initialData,_t.progressiveDone=jt.progressiveDone,_t.contentDispositionFilename=jt.contentDispositionFilename);const Nt=await $t.messageHandler.sendWithPromise("GetDocRequest",{docId:Rt,apiVersion:"2.16.105",source:{data:_t.data,url:_t.url,password:_t.password,disableAutoFetch:_t.disableAutoFetch,rangeChunkSize:_t.rangeChunkSize,length:_t.length},maxImageSize:_t.maxImageSize,disableFontFace:_t.disableFontFace,docBaseUrl:_t.docBaseUrl,ignoreErrors:_t.ignoreErrors,isEvalSupported:_t.isEvalSupported,fontExtraProperties:_t.fontExtraProperties,enableXfa:_t.enableXfa,useSystemFonts:_t.useSystemFonts,cMapUrl:_t.useWorkerFetch?_t.cMapUrl:null,standardFontDataUrl:_t.useWorkerFetch?_t.standardFontDataUrl:null});if(_t.data&&(_t.data=null),$t.destroyed)throw new Error("Worker was destroyed");return Nt}const $=class ${constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Fo($,_e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var _t;this.destroyed=!0,await((_t=this._transport)==null?void 0:_t.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};_e=new WeakMap,$n($,_e,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(_t,jt,Rt=!1,Nt=null){this.length=_t,this.initialData=jt,this.progressiveDone=Rt,this.contentDispositionFilename=Nt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(_t){this._rangeListeners.push(_t)}addProgressListener(_t){this._progressListeners.push(_t)}addProgressiveReadListener(_t){this._progressiveReadListeners.push(_t)}addProgressiveDoneListener(_t){this._progressiveDoneListeners.push(_t)}onDataRange(_t,jt){for(const Rt of this._rangeListeners)Rt(_t,jt)}onDataProgress(_t,jt){this._readyCapability.promise.then(()=>{for(const Rt of this._progressListeners)Rt(_t,jt)})}onDataProgressiveRead(_t){this._readyCapability.promise.then(()=>{for(const jt of this._progressiveReadListeners)jt(_t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const _t of this._progressiveDoneListeners)_t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(_t,jt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(_t,jt){this._pdfInfo=_t,this._transport=jt,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(_t){return this._transport.getPage(_t)}getPageIndex(_t){return this._transport.getPageIndex(_t)}getDestinations(){return this._transport.getDestinations()}getDestination(_t){return this._transport.getDestination(_t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(_t=!1){return this._transport.startCleanup(_t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(_t,jt,Rt,Nt,Lt=!1){this._pageIndex=_t,this._pageInfo=jt,this._ownerDocument=Nt,this._transport=Rt,this._stats=Lt?new _display_utils.StatTimer:null,this._pdfBug=Lt,this.commonObjs=Rt.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:_t,rotation:jt=this.rotate,offsetX:Rt=0,offsetY:Nt=0,dontFlip:Lt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:_t,rotation:jt,offsetX:Rt,offsetY:Nt,dontFlip:Lt})}getAnnotations({intent:_t="display"}={}){const jt=this._transport.getRenderingIntent(_t);let Rt=this._annotationPromises.get(jt.cacheKey);return Rt||(Rt=this._transport.getAnnotations(this._pageIndex,jt.renderingIntent),this._annotationPromises.set(jt.cacheKey,Rt),Rt=Rt.then(Nt=>{for(const Lt of Nt)Lt.titleObj!==void 0&&Object.defineProperty(Lt,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),Lt.titleObj.str}}),Lt.contentsObj!==void 0&&Object.defineProperty(Lt,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),Lt.contentsObj.str}});return Nt})),Rt}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var _t;return((_t=this._transport._htmlForXfa)==null?void 0:_t.children[this._pageIndex])||null}render({canvasContext:_t,viewport:jt,intent:Rt="display",annotationMode:Nt=_util.AnnotationMode.ENABLE,transform:Lt=null,imageLayer:kt=null,canvasFactory:Bt=null,background:Ht=null,optionalContentConfigPromise:Ot=null,annotationCanvasMap:Vt=null,pageColors:Gt=null,printAnnotationStorage:Wt=null}){var Ut,zt;((Ut=arguments[0])==null?void 0:Ut.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&Nt===_util.AnnotationMode.ENABLE&&(Nt=_util.AnnotationMode.ENABLE_FORMS)),((zt=arguments[0])==null?void 0:zt.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&Nt===_util.AnnotationMode.ENABLE&&(Nt=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const en=this._transport.getRenderingIntent(Rt,Nt,Wt);this.pendingCleanup=!1,Ot||(Ot=this._transport.getOptionalContentConfig());let Sn=this._intentStates.get(en.cacheKey);Sn||(Sn=Object.create(null),this._intentStates.set(en.cacheKey,Sn)),Sn.streamReaderCancelTimeout&&(clearTimeout(Sn.streamReaderCancelTimeout),Sn.streamReaderCancelTimeout=null);const sn=Bt||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),hn=!!(en.renderingIntent&_util.RenderingIntentFlag.PRINT);Sn.displayReadyCapability||(Sn.displayReadyCapability=(0,_util.createPromiseCapability)(),Sn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(en));const Qt=cn=>{Sn.renderTasks.delete(qt),(this.cleanupAfterRender||hn)&&(this.pendingCleanup=!0),this._tryCleanup(),cn?(qt.capability.reject(cn),this._abortOperatorList({intentState:Sn,reason:cn instanceof Error?cn:new Error(cn)})):qt.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},qt=new InternalRenderTask({callback:Qt,params:{canvasContext:_t,viewport:jt,transform:Lt,imageLayer:kt,background:Ht},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Vt,operatorList:Sn.operatorList,pageIndex:this._pageIndex,canvasFactory:sn,useRequestAnimationFrame:!hn,pdfBug:this._pdfBug,pageColors:Gt});(Sn.renderTasks||(Sn.renderTasks=new Set)).add(qt);const nn=qt.task;return Promise.all([Sn.displayReadyCapability.promise,Ot]).then(([cn,ln])=>{if(this.pendingCleanup){Qt();return}this._stats&&this._stats.time("Rendering"),qt.initializeGraphics({transparency:cn,optionalContentConfig:ln}),qt.operatorListChanged()}).catch(Qt),nn}getOperatorList({intent:_t="display",annotationMode:jt=_util.AnnotationMode.ENABLE,printAnnotationStorage:Rt=null}={}){function Nt(){kt.operatorList.lastChunk&&(kt.opListReadCapability.resolve(kt.operatorList),kt.renderTasks.delete(Bt))}const Lt=this._transport.getRenderingIntent(_t,jt,Rt,!0);let kt=this._intentStates.get(Lt.cacheKey);kt||(kt=Object.create(null),this._intentStates.set(Lt.cacheKey,kt));let Bt;return kt.opListReadCapability||(Bt=Object.create(null),Bt.operatorListChanged=Nt,kt.opListReadCapability=(0,_util.createPromiseCapability)(),(kt.renderTasks||(kt.renderTasks=new Set)).add(Bt),kt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(Lt)),kt.opListReadCapability.promise}streamTextContent({disableCombineTextItems:_t=!1,includeMarkedContent:jt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:_t!==!0,includeMarkedContent:jt===!0},{highWaterMark:100,size(Nt){return Nt.items.length}})}getTextContent(_t={}){if(this._transport._htmlForXfa)return this.getXfa().then(Rt=>_xfa_text.XfaText.textContent(Rt));const jt=this.streamTextContent(_t);return new Promise(function(Rt,Nt){function Lt(){kt.read().then(function({value:Ht,done:Ot}){if(Ot){Rt(Bt);return}Object.assign(Bt.styles,Ht.styles),Bt.items.push(...Ht.items),Lt()},Nt)}const kt=jt.getReader(),Bt={items:[],styles:Object.create(null)};Lt()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const _t=[];for(const jt of this._intentStates.values())if(this._abortOperatorList({intentState:jt,reason:new Error("Page was destroyed."),force:!0}),!jt.opListReadCapability)for(const Rt of jt.renderTasks)_t.push(Rt.completed),Rt.cancel();this.objs.clear();for(const jt of this._bitmaps)jt.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(_t)}cleanup(_t=!1){return this.pendingCleanup=!0,this._tryCleanup(_t)}_tryCleanup(_t=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:jt,operatorList:Rt}of this._intentStates.values())if(jt.size>0||!Rt.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,_t&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const jt of this._bitmaps)jt.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(_t,jt){const Rt=this._intentStates.get(jt);Rt&&(this._stats&&this._stats.timeEnd("Page Request"),Rt.displayReadyCapability&&Rt.displayReadyCapability.resolve(_t))}_renderPageChunk(_t,jt){for(let Rt=0,Nt=_t.length;Rt<Nt;Rt++)jt.operatorList.fnArray.push(_t.fnArray[Rt]),jt.operatorList.argsArray.push(_t.argsArray[Rt]);jt.operatorList.lastChunk=_t.lastChunk,jt.operatorList.separateAnnots=_t.separateAnnots;for(const Rt of jt.renderTasks)Rt.operatorListChanged();_t.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:_t,cacheKey:jt,annotationStorageMap:Rt}){const Lt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:_t,cacheKey:jt,annotationStorage:Rt}).getReader(),kt=this._intentStates.get(jt);kt.streamReader=Lt;const Bt=()=>{Lt.read().then(({value:Ht,done:Ot})=>{if(Ot){kt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ht,kt),Bt())},Ht=>{if(kt.streamReader=null,!this._transport.destroyed){if(kt.operatorList){kt.operatorList.lastChunk=!0;for(const Ot of kt.renderTasks)Ot.operatorListChanged();this._tryCleanup()}if(kt.displayReadyCapability)kt.displayReadyCapability.reject(Ht);else if(kt.opListReadCapability)kt.opListReadCapability.reject(Ht);else throw Ht}})};Bt()}_abortOperatorList({intentState:_t,reason:jt,force:Rt=!1}){if(_t.streamReader){if(!Rt){if(_t.renderTasks.size>0)return;if(jt instanceof _display_utils.RenderingCancelledException){_t.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:_t,reason:jt,force:!0}),_t.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(_t.streamReader.cancel(new _util.AbortException(jt.message)).catch(()=>{}),_t.streamReader=null,!this._transport.destroyed){for(const[Nt,Lt]of this._intentStates)if(Lt===_t){this._intentStates.delete(Nt);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(_t,jt){const Rt={data:structuredClone(_t,jt)};this._deferred.then(()=>{for(const Nt of this._listeners)Nt.call(this,Rt)})}addEventListener(_t,jt){this._listeners.push(jt)}removeEventListener(_t,jt){const Rt=this._listeners.indexOf(jt);this._listeners.splice(Rt,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const $t=(ht=document==null?void 0:document.currentScript)==null?void 0:ht.src;$t&&(PDFWorkerUtil.fallbackWorkerSrc=$t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function($t,_t){let jt;try{if(jt=new URL($t),!jt.origin||jt.origin==="null")return!1}catch{return!1}const Rt=new URL(_t,jt);return jt.origin===Rt.origin},PDFWorkerUtil.createCDNWrapper=function($t){const _t=`importScripts("${$t}");`;return URL.createObjectURL(new Blob([_t]))}}const _PDFWorker=class _PDFWorker{constructor({name:$t=null,port:_t=null,verbosity:jt=(0,_util.getVerbosityLevel)()}={}){if(_t&&Xt(_PDFWorker,bt).has(_t))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=$t,this.destroyed=!1,this.verbosity=jt,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,_t){Xt(_PDFWorker,bt).set(_t,this),this._initializeFromPort(_t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($t){this._port=$t,this._messageHandler=new _message_handler.MessageHandler("main","worker",$t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:$t}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,$t)||($t=PDFWorkerUtil.createCDNWrapper(new URL($t,window.location).href));const _t=new Worker($t),jt=new _message_handler.MessageHandler("main","worker",_t),Rt=()=>{_t.removeEventListener("error",Nt),jt.destroy(),_t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Nt=()=>{this._webWorker||Rt()};_t.addEventListener("error",Nt),jt.on("test",kt=>{if(_t.removeEventListener("error",Nt),this.destroyed){Rt();return}kt?(this._messageHandler=jt,this._port=_t,this._webWorker=_t,this._readyCapability.resolve(),jt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),jt.destroy(),_t.terminate())}),jt.on("ready",kt=>{if(_t.removeEventListener("error",Nt),this.destroyed){Rt();return}try{Lt()}catch{this._setupFakeWorker()}});const Lt=()=>{const kt=new Uint8Array;jt.send("test",kt,[kt.buffer])};Lt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then($t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const _t=new LoopbackPort;this._port=_t;const jt=`fake${PDFWorkerUtil.fakeWorkerId++}`,Rt=new _message_handler.MessageHandler(jt+"_worker",jt,_t);$t.setup(Rt,_t);const Nt=new _message_handler.MessageHandler(jt,jt+"_worker",_t);this._messageHandler=Nt,this._readyCapability.resolve(),Nt.send("configure",{verbosity:this.verbosity})}).catch($t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Xt(_PDFWorker,bt).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($t){if(!($t!=null&&$t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Xt(this,bt).has($t.port)?Xt(this,bt).get($t.port):new _PDFWorker($t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var $t;try{return(($t=globalThis.pdfjsWorker)==null?void 0:$t.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};bt=new WeakMap,$n(_PDFWorker,bt,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(_t,jt,Rt,Nt){$n(this,wt,null);$n(this,At,new Map);$n(this,Ct,new Map);$n(this,St,null);this.messageHandler=_t,this.loadingTask=jt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:jt.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:Nt.ownerDocument,styleElement:Nt.styleElement}),this._params=Nt,Nt.useWorkerFetch||(this.CMapReaderFactory=new Nt.CMapReaderFactory({baseUrl:Nt.cMapUrl,isCompressed:Nt.cMapPacked}),this.StandardFontDataFactory=new Nt.StandardFontDataFactory({baseUrl:Nt.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=Rt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Xt(this,wt)}getRenderingIntent(_t,jt=_util.AnnotationMode.ENABLE,Rt=null,Nt=!1){let Lt=_util.RenderingIntentFlag.DISPLAY,kt=null;switch(_t){case"any":Lt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Lt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${_t}`)}switch(jt){case _util.AnnotationMode.DISABLE:Lt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Lt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Lt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,kt=(Lt&_util.RenderingIntentFlag.PRINT&&Rt instanceof _annotation_storage.PrintAnnotationStorage?Rt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${jt}`)}return Nt&&(Lt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Lt,cacheKey:`${Lt}_${_annotation_storage.AnnotationStorage.getHash(kt)}`,annotationStorageMap:kt}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const _t=[];for(const Rt of Xt(this,At).values())_t.push(Rt._destroy());Xt(this,At).clear(),Xt(this,Ct).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const jt=this.messageHandler.sendWithPromise("Terminate",null);return _t.push(jt),Promise.all(_t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ln(this,St,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:_t,loadingTask:jt}=this;_t.on("GetReader",(Rt,Nt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Lt=>{this._lastProgress={loaded:Lt.loaded,total:Lt.total}},Nt.onPull=()=>{this._fullReader.read().then(function({value:Lt,done:kt}){if(kt){Nt.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(Lt),"GetReader - expected an ArrayBuffer."),Nt.enqueue(new Uint8Array(Lt),1,[Lt])}).catch(Lt=>{Nt.error(Lt)})},Nt.onCancel=Lt=>{this._fullReader.cancel(Lt),Nt.ready.catch(kt=>{if(!this.destroyed)throw kt})}}),_t.on("ReaderHeadersReady",Rt=>{const Nt=(0,_util.createPromiseCapability)(),Lt=this._fullReader;return Lt.headersReady.then(()=>{var kt;(!Lt.isStreamingSupported||!Lt.isRangeSupported)&&(this._lastProgress&&((kt=jt.onProgress)==null||kt.call(jt,this._lastProgress)),Lt.onProgress=Bt=>{var Ht;(Ht=jt.onProgress)==null||Ht.call(jt,{loaded:Bt.loaded,total:Bt.total})}),Nt.resolve({isStreamingSupported:Lt.isStreamingSupported,isRangeSupported:Lt.isRangeSupported,contentLength:Lt.contentLength})},Nt.reject),Nt.promise}),_t.on("GetRangeReader",(Rt,Nt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Lt=this._networkStream.getRangeReader(Rt.begin,Rt.end);if(!Lt){Nt.close();return}Nt.onPull=()=>{Lt.read().then(function({value:kt,done:Bt}){if(Bt){Nt.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(kt),"GetRangeReader - expected an ArrayBuffer."),Nt.enqueue(new Uint8Array(kt),1,[kt])}).catch(kt=>{Nt.error(kt)})},Nt.onCancel=kt=>{Lt.cancel(kt),Nt.ready.catch(Bt=>{if(!this.destroyed)throw Bt})}}),_t.on("GetDoc",({pdfInfo:Rt})=>{this._numPages=Rt.numPages,this._htmlForXfa=Rt.htmlForXfa,delete Rt.htmlForXfa,jt._capability.resolve(new PDFDocumentProxy(Rt,this))}),_t.on("DocException",function(Rt){let Nt;switch(Rt.name){case"PasswordException":Nt=new _util.PasswordException(Rt.message,Rt.code);break;case"InvalidPDFException":Nt=new _util.InvalidPDFException(Rt.message);break;case"MissingPDFException":Nt=new _util.MissingPDFException(Rt.message);break;case"UnexpectedResponseException":Nt=new _util.UnexpectedResponseException(Rt.message,Rt.status);break;case"UnknownErrorException":Nt=new _util.UnknownErrorException(Rt.message,Rt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}jt._capability.reject(Nt)}),_t.on("PasswordRequest",Rt=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),jt.onPassword){const Nt=Lt=>{Lt instanceof Error?this._passwordCapability.reject(Lt):this._passwordCapability.resolve({password:Lt})};try{jt.onPassword(Nt,Rt.code)}catch(Lt){this._passwordCapability.reject(Lt)}}else this._passwordCapability.reject(new _util.PasswordException(Rt.message,Rt.code));return this._passwordCapability.promise}),_t.on("DataLoaded",Rt=>{var Nt;(Nt=jt.onProgress)==null||Nt.call(jt,{loaded:Rt.length,total:Rt.length}),this.downloadInfoCapability.resolve(Rt)}),_t.on("StartRenderPage",Rt=>{if(this.destroyed)return;Xt(this,At).get(Rt.pageIndex)._startRenderPage(Rt.transparency,Rt.cacheKey)}),_t.on("commonobj",([Rt,Nt,Lt])=>{var kt;if(!this.destroyed&&!this.commonObjs.has(Rt))switch(Nt){case"Font":const Bt=this._params;if("error"in Lt){const Vt=Lt.error;(0,_util.warn)(`Error during font loading: ${Vt}`),this.commonObjs.resolve(Rt,Vt);break}let Ht=null;Bt.pdfBug&&((kt=globalThis.FontInspector)!=null&&kt.enabled)&&(Ht={registerFont(Vt,Gt){globalThis.FontInspector.fontAdded(Vt,Gt)}});const Ot=new _font_loader.FontFaceObject(Lt,{isEvalSupported:Bt.isEvalSupported,disableFontFace:Bt.disableFontFace,ignoreErrors:Bt.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:Ht});this.fontLoader.bind(Ot).catch(Vt=>_t.sendWithPromise("FontFallback",{id:Rt})).finally(()=>{!Bt.fontExtraProperties&&Ot.data&&(Ot.data=null),this.commonObjs.resolve(Rt,Ot)});break;case"FontPath":case"Image":this.commonObjs.resolve(Rt,Lt);break;default:throw new Error(`Got unknown common object type ${Nt}`)}}),_t.on("obj",([Rt,Nt,Lt,kt])=>{var Ht;if(this.destroyed)return;const Bt=Xt(this,At).get(Nt);if(!Bt.objs.has(Rt))switch(Lt){case"Image":Bt.objs.resolve(Rt,kt);const Ot=8e6;if(kt){let Vt;if(kt.bitmap){const{bitmap:Gt,width:Wt,height:en}=kt;Vt=Wt*en*4,Bt._bitmaps.add(Gt)}else Vt=((Ht=kt.data)==null?void 0:Ht.length)||0;Vt>Ot&&(Bt.cleanupAfterRender=!0)}break;case"Pattern":Bt.objs.resolve(Rt,kt);break;default:throw new Error(`Got unknown object type ${Lt}`)}}),_t.on("DocProgress",Rt=>{var Nt;this.destroyed||(Nt=jt.onProgress)==null||Nt.call(jt,{loaded:Rt.loaded,total:Rt.total})}),_t.on("DocStats",Rt=>{this.destroyed||Ln(this,wt,Object.freeze({streamTypes:Object.freeze(Rt.streamTypes),fontTypes:Object.freeze(Rt.fontTypes)}))}),_t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),_t.on("FetchBuiltInCMap",Rt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(Rt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),_t.on("FetchStandardFontData",Rt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(Rt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:_t}){var jt,Rt;this.destroyed||(Rt=(jt=this.loadingTask).onUnsupportedFeature)==null||Rt.call(jt,_t)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(_t){if(!Number.isInteger(_t)||_t<=0||_t>this._numPages)return Promise.reject(new Error("Invalid page request."));const jt=_t-1,Rt=Xt(this,Ct).get(jt);if(Rt)return Rt;const Nt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:jt}).then(Lt=>{if(this.destroyed)throw new Error("Transport destroyed");const kt=new PDFPageProxy(jt,Lt,this,this._params.ownerDocument,this._params.pdfBug);return Xt(this,At).set(jt,kt),kt});return Xt(this,Ct).set(jt,Nt),Nt}getPageIndex(_t){return typeof _t!="object"||_t===null||!Number.isInteger(_t.num)||_t.num<0||!Number.isInteger(_t.gen)||_t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:_t.num,gen:_t.gen})}getAnnotations(_t,jt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:_t,intent:jt})}saveDocument(){var _t;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((_t=this._fullReader)==null?void 0:_t.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(_t){return typeof _t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:_t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(_t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:_t})}getStructTree(_t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:_t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(_t=>new _optional_content_config.OptionalContentConfig(_t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Xt(this,St)||Ln(this,St,this.messageHandler.sendWithPromise("GetMetadata",null).then(_t=>{var jt,Rt;return{info:_t[0],metadata:_t[1]?new _metadata.Metadata(_t[1]):null,contentDispositionFilename:((jt=this._fullReader)==null?void 0:jt.filename)??null,contentLength:((Rt=this._fullReader)==null?void 0:Rt.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(_t=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const jt of Xt(this,At).values())if(!jt.cleanup())throw new Error(`startCleanup: Page ${jt.pageNumber} is currently rendering.`);this.commonObjs.clear(),_t||this.fontLoader.clear(),Ln(this,St,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const _t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:_t.disableAutoFetch,enableXfa:_t.enableXfa})}}wt=new WeakMap,At=new WeakMap,Ct=new WeakMap,St=new WeakMap;class PDFObjects{constructor(){$n(this,vt);$n(this,Ft,Object.create(null))}get(_t,jt=null){if(jt){const Nt=Dn(this,vt,jy).call(this,_t);return Nt.capability.promise.then(()=>jt(Nt.data)),null}const Rt=Xt(this,Ft)[_t];if(!(Rt!=null&&Rt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${_t}.`);return Rt.data}has(_t){const jt=Xt(this,Ft)[_t];return(jt==null?void 0:jt.capability.settled)||!1}resolve(_t,jt=null){const Rt=Dn(this,vt,jy).call(this,_t);Rt.data=jt,Rt.capability.resolve()}clear(){Ln(this,Ft,Object.create(null))}}Ft=new WeakMap,vt=new WeakSet,jy=function(_t){const jt=Xt(this,Ft)[_t];return jt||(Xt(this,Ft)[_t]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(_t){$n(this,Mt,null);Ln(this,Mt,_t),this.onContinue=null}get promise(){return Xt(this,Mt).capability.promise}cancel(){Xt(this,Mt).cancel()}get separateAnnots(){const{separateAnnots:_t}=Xt(this,Mt).operatorList;if(!_t)return!1;const{annotationCanvasMap:jt}=Xt(this,Mt);return _t.form||_t.canvas&&(jt==null?void 0:jt.size)>0}}Mt=new WeakMap,exports.RenderTask=RenderTask;const xt=class xt{constructor({callback:_t,params:jt,objs:Rt,commonObjs:Nt,annotationCanvasMap:Lt,operatorList:kt,pageIndex:Bt,canvasFactory:Ht,useRequestAnimationFrame:Ot=!1,pdfBug:Vt=!1,pageColors:Gt=null}){this.callback=_t,this.params=jt,this.objs=Rt,this.commonObjs=Nt,this.annotationCanvasMap=Lt,this.operatorListIdx=null,this.operatorList=kt,this._pageIndex=Bt,this.canvasFactory=Ht,this._pdfBug=Vt,this.pageColors=Gt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Ot===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=jt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:_t=!1,optionalContentConfig:jt}){var Ht;if(this.cancelled)return;if(this._canvas){if(Xt(xt,Pt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Xt(xt,Pt).add(this._canvas)}this._pdfBug&&((Ht=globalThis.StepperManager)!=null&&Ht.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Rt,viewport:Nt,transform:Lt,imageLayer:kt,background:Bt}=this.params;this.gfx=new _canvas.CanvasGraphics(Rt,this.commonObjs,this.objs,this.canvasFactory,kt,jt,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Lt,viewport:Nt,transparency:_t,background:Bt}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(_t=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Xt(xt,Pt).delete(this._canvas),this.callback(_t||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&Xt(xt,Pt).delete(this._canvas),this.callback())))}};Pt=new WeakMap,$n(xt,Pt,new WeakSet);let InternalRenderTask=xt;const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(_e,$,ht)=>{var Ft,L3,Et;Object.defineProperty($,"__esModule",{value:!0}),$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var bt=ht(1),wt=ht(6),At=ht(10);class Ct{constructor(){$n(this,Ft);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Pt,xt){const $t=this._storage.get(Pt);return $t===void 0?xt:Object.assign(xt,$t)}getRawValue(Pt){return this._storage.get(Pt)}remove(Pt){if(this._storage.delete(Pt),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const xt of this._storage.values())if(xt instanceof wt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Pt,xt){const $t=this._storage.get(Pt);let _t=!1;if($t!==void 0)for(const[jt,Rt]of Object.entries(xt))$t[jt]!==Rt&&(_t=!0,$t[jt]=Rt);else _t=!0,this._storage.set(Pt,xt);_t&&Dn(this,Ft,L3).call(this),xt instanceof wt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(xt.constructor._type)}has(Pt){return this._storage.has(Pt)}getAll(){return this._storage.size>0?(0,bt.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new St(this)}get serializable(){if(this._storage.size===0)return null;const Pt=new Map;for(const[xt,$t]of this._storage){const _t=$t instanceof wt.AnnotationEditor?$t.serialize():$t;_t&&Pt.set(xt,_t)}return Pt}static getHash(Pt){if(!Pt)return"";const xt=new At.MurmurHash3_64;for(const[$t,_t]of Pt)xt.update(`${$t}:${JSON.stringify(_t)}`);return xt.hexdigest()}}Ft=new WeakSet,L3=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=Ct;class St extends Ct{constructor(xt){super();$n(this,Et,null);Ln(this,Et,structuredClone(xt.serializable))}get print(){(0,bt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Xt(this,Et)}}Et=new WeakMap,$.PrintAnnotationStorage=St},(_e,$,ht)=>{var Ct,St,Ft,vt,Et,Mt;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var bt=ht(7),wt=ht(1);const Pt=class Pt{constructor($t){$n(this,Ct,this.focusin.bind(this));$n(this,St,this.focusout.bind(this));$n(this,Ft,!1);$n(this,vt,!1);$n(this,Et,!1);$n(this,Mt,Pt._zIndex++);this.constructor===Pt&&(0,wt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=$t.parent,this.id=$t.id,this.width=this.height=null,this.pageIndex=$t.parent.pageIndex,this.name=$t.name,this.div=null;const[_t,jt]=this.parent.viewportBaseDimensions;this.x=$t.x/_t,this.y=$t.y/jt,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,wt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Xt(this,Mt)}focusin($t){Xt(this,Ft)?Ln(this,Ft,!1):this.parent.setSelected(this)}focusout($t){if(!this.isAttachedToDOM)return;const _t=$t.relatedTarget;_t!=null&&_t.closest(`#${this.id}`)||($t.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart($t){const _t=this.parent.div.getBoundingClientRect();this.startX=$t.clientX-_t.x,this.startY=$t.clientY-_t.y,$t.dataTransfer.setData("text/plain",this.id),$t.dataTransfer.effectAllowed="move"}setAt($t,_t,jt,Rt){const[Nt,Lt]=this.parent.viewportBaseDimensions;[jt,Rt]=this.screenToPageTranslation(jt,Rt),this.x=($t+jt)/Nt,this.y=(_t+Rt)/Lt,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate($t,_t){const[jt,Rt]=this.parent.viewportBaseDimensions;[$t,_t]=this.screenToPageTranslation($t,_t),this.x+=$t/jt,this.y+=_t/Rt,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation($t,_t){const{rotation:jt}=this.parent.viewport;switch(jt){case 90:return[_t,-$t];case 180:return[-$t,-_t];case 270:return[-_t,$t];default:return[$t,_t]}}setDims($t,_t){const[jt,Rt]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*$t/jt}%`,this.div.style.height=`${100*_t/Rt}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Xt(this,Ct)),this.div.addEventListener("focusout",Xt(this,St));const[$t,_t]=this.getInitialTranslation();return this.translate($t,_t),(0,bt.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown($t){const _t=bt.KeyboardManager.platform.isMac;if($t.button!==0||$t.ctrlKey&&_t){$t.preventDefault();return}$t.ctrlKey&&!_t||$t.shiftKey||$t.metaKey&&_t?this.parent.toggleSelected(this):this.parent.setSelected(this),Ln(this,Ft,!0)}getRect($t,_t){const[jt,Rt]=this.parent.viewportBaseDimensions,[Nt,Lt]=this.parent.pageDimensions,kt=Nt*$t/jt,Bt=Lt*_t/Rt,Ht=this.x*Nt,Ot=this.y*Lt,Vt=this.width*Nt,Gt=this.height*Lt;switch(this.rotation){case 0:return[Ht+kt,Lt-Ot-Bt-Gt,Ht+kt+Vt,Lt-Ot-Bt];case 90:return[Ht+Bt,Lt-Ot+kt,Ht+Bt+Gt,Lt-Ot+kt+Vt];case 180:return[Ht-kt-Vt,Lt-Ot+Bt,Ht-kt,Lt-Ot+Bt+Gt];case 270:return[Ht-Bt-Gt,Lt-Ot-kt-Vt,Ht-Bt,Lt-Ot-kt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords($t,_t){const[jt,Rt,Nt,Lt]=$t,kt=Nt-jt,Bt=Lt-Rt;switch(this.rotation){case 0:return[jt,_t-Lt,kt,Bt];case 90:return[jt,_t-Rt,Bt,kt];case 180:return[Nt,_t-Rt,kt,Bt];case 270:return[Nt,_t-Lt,Bt,kt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ln(this,Et,!0)}disableEditMode(){Ln(this,Et,!1)}isInEditMode(){return Xt(this,Et)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var $t;($t=this.div)==null||$t.addEventListener("focusin",Xt(this,Ct))}serialize(){(0,wt.unreachable)("An editor must be serializable")}static deserialize($t,_t){const jt=new this.prototype.constructor({parent:_t,id:_t.getNextId()});jt.rotation=$t.rotation;const[Rt,Nt]=_t.pageDimensions,[Lt,kt,Bt,Ht]=jt.getRectInCurrentCoords($t.rect,Nt);return jt.x=Lt/Rt,jt.y=kt/Nt,jt.width=Bt/Rt,jt.height=Ht/Nt,jt}remove(){this.div.removeEventListener("focusin",Xt(this,Ct)),this.div.removeEventListener("focusout",Xt(this,St)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var $t;($t=this.div)==null||$t.classList.add("selectedEditor")}unselect(){var $t;($t=this.div)==null||$t.classList.remove("selectedEditor")}updateParams($t,_t){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return Xt(this,vt)}set isEditing($t){Ln(this,vt,$t),$t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};Ct=new WeakMap,St=new WeakMap,Ft=new WeakMap,vt=new WeakMap,Et=new WeakMap,Mt=new WeakMap,os(Pt,"_colorManager",new bt.ColorManager),os(Pt,"_zIndex",1);let At=Pt;$.AnnotationEditor=At},(_e,$,ht)=>{var xt,$t,_t,jt,Rt,Nt,N3,Bt,Ot,Vt,Gt,Wt,en,Sn,sn,hn,Qt,qt,nn,Ut,zt,cn,ln,Kt,Jt,Yt,$3,Uy,jo,tm,B3,j3,Hy,nm,d2;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=At,$.opacityToHex=Ct;var bt=ht(1),wt=ht(8);function At(vn,gn,on){for(const wn of on)gn.addEventListener(wn,vn[wn].bind(vn))}function Ct(vn){return Math.round(Math.min(255,Math.max(1,255*vn))).toString(16).padStart(2,"0")}class St{constructor(){$n(this,xt,0)}getId(){return`${bt.AnnotationEditorPrefix}${Fo(this,xt)._++}`}}xt=new WeakMap;class Ft{constructor(gn=128){$n(this,$t,[]);$n(this,_t,!1);$n(this,jt);$n(this,Rt,-1);Ln(this,jt,gn)}add({cmd:gn,undo:on,mustExec:wn,type:pn=NaN,overwriteIfSameType:Cn=!1,keepUndo:Tn=!1}){if(wn&&gn(),Xt(this,_t))return;const Fn={cmd:gn,undo:on,type:pn};if(Xt(this,Rt)===-1){Xt(this,$t).length>0&&(Xt(this,$t).length=0),Ln(this,Rt,0),Xt(this,$t).push(Fn);return}if(Cn&&Xt(this,$t)[Xt(this,Rt)].type===pn){Tn&&(Fn.undo=Xt(this,$t)[Xt(this,Rt)].undo),Xt(this,$t)[Xt(this,Rt)]=Fn;return}const En=Xt(this,Rt)+1;En===Xt(this,jt)?Xt(this,$t).splice(0,1):(Ln(this,Rt,En),En<Xt(this,$t).length&&Xt(this,$t).splice(En)),Xt(this,$t).push(Fn)}undo(){Xt(this,Rt)!==-1&&(Ln(this,_t,!0),Xt(this,$t)[Xt(this,Rt)].undo(),Ln(this,_t,!1),Ln(this,Rt,Xt(this,Rt)-1))}redo(){Xt(this,Rt)<Xt(this,$t).length-1&&(Ln(this,Rt,Xt(this,Rt)+1),Ln(this,_t,!0),Xt(this,$t)[Xt(this,Rt)].cmd(),Ln(this,_t,!1))}hasSomethingToUndo(){return Xt(this,Rt)!==-1}hasSomethingToRedo(){return Xt(this,Rt)<Xt(this,$t).length-1}destroy(){Ln(this,$t,null)}}$t=new WeakMap,_t=new WeakMap,jt=new WeakMap,Rt=new WeakMap,$.CommandManager=Ft;const kt=class kt{constructor(gn){$n(this,Nt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const on=kt.platform.isMac;for(const[wn,pn]of gn)for(const Cn of wn){const Tn=Cn.startsWith("mac+");on&&Tn?(this.callbacks.set(Cn.slice(4),pn),this.allKeys.add(Cn.split("+").at(-1))):!on&&!Tn&&(this.callbacks.set(Cn,pn),this.allKeys.add(Cn.split("+").at(-1)))}}static get platform(){const gn=typeof navigator<"u"?navigator.platform:"";return(0,bt.shadow)(this,"platform",{isWin:gn.includes("Win"),isMac:gn.includes("Mac")})}exec(gn,on){if(!this.allKeys.has(on.key))return;const wn=this.callbacks.get(Dn(this,Nt,N3).call(this,on));wn&&(wn.bind(gn)(),on.stopPropagation(),on.preventDefault())}};Nt=new WeakSet,N3=function(gn){gn.altKey&&this.buffer.push("alt"),gn.ctrlKey&&this.buffer.push("ctrl"),gn.metaKey&&this.buffer.push("meta"),gn.shiftKey&&this.buffer.push("shift"),this.buffer.push(gn.key);const on=this.buffer.join("+");return this.buffer.length=0,on};let vt=kt;$.KeyboardManager=vt;class Et{constructor(){$n(this,Bt,null)}copy(gn){gn&&(Array.isArray(gn)?Ln(this,Bt,gn.map(on=>on.serialize())):Ln(this,Bt,[gn.serialize()]),Ln(this,Bt,Xt(this,Bt).filter(on=>!!on)),Xt(this,Bt).length===0&&Ln(this,Bt,null))}paste(){return Xt(this,Bt)}isEmpty(){return Xt(this,Bt)===null}destroy(){Ln(this,Bt,null)}}Bt=new WeakMap;const Ht=class Ht{get _colors(){const gn=new Map([["CanvasText",null],["Canvas",null]]);return(0,wt.getColorValues)(gn),(0,bt.shadow)(this,"_colors",gn)}convert(gn){const on=(0,wt.getRGB)(gn);if(!window.matchMedia("(forced-colors: active)").matches)return on;for(const[wn,pn]of this._colors)if(pn.every((Cn,Tn)=>Cn===on[Tn]))return Ht._colorsMapping.get(wn);return on}getHexCode(gn){const on=this._colors.get(gn);return on?bt.Util.makeHexColor(...on):gn}};os(Ht,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Mt=Ht;$.ColorManager=Mt;const bn=class bn{constructor(gn,on){$n(this,Yt);$n(this,Ot,null);$n(this,Vt,new Map);$n(this,Gt,new Map);$n(this,Wt,new Et);$n(this,en,new Ft);$n(this,Sn,0);$n(this,sn,null);$n(this,hn,null);$n(this,Qt,new St);$n(this,qt,!1);$n(this,nn,bt.AnnotationEditorType.NONE);$n(this,Ut,new Set);$n(this,zt,this.keydown.bind(this));$n(this,cn,this.onEditingAction.bind(this));$n(this,ln,this.onPageChanging.bind(this));$n(this,Kt,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});$n(this,Jt,null);Ln(this,Jt,gn),Ln(this,hn,on),Xt(this,hn)._on("editingaction",Xt(this,cn)),Xt(this,hn)._on("pagechanging",Xt(this,ln))}destroy(){Dn(this,Yt,Uy).call(this),Xt(this,hn)._off("editingaction",Xt(this,cn)),Xt(this,hn)._off("pagechanging",Xt(this,ln));for(const gn of Xt(this,Gt).values())gn.destroy();Xt(this,Gt).clear(),Xt(this,Vt).clear(),Ln(this,Ot,null),Xt(this,Ut).clear(),Xt(this,Wt).destroy(),Xt(this,en).destroy()}onPageChanging({pageNumber:gn}){Ln(this,Sn,gn-1)}focusMainContainer(){Xt(this,Jt).focus()}keydown(gn){var on;(on=this.getActive())!=null&&on.shouldGetKeyboardEvents()||bn._keyboardManager.exec(this,gn)}onEditingAction(gn){["undo","redo","cut","copy","paste","delete","selectAll"].includes(gn.name)&&this[gn.name]()}setEditingState(gn){gn?(Dn(this,Yt,$3).call(this),Dn(this,Yt,jo).call(this,{isEditing:Xt(this,nn)!==bt.AnnotationEditorType.NONE,isEmpty:Dn(this,Yt,nm).call(this),hasSomethingToUndo:Xt(this,en).hasSomethingToUndo(),hasSomethingToRedo:Xt(this,en).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:Xt(this,Wt).isEmpty()})):(Dn(this,Yt,Uy).call(this),Dn(this,Yt,jo).call(this,{isEditing:!1}))}registerEditorTypes(gn){Ln(this,sn,gn);for(const on of Xt(this,sn))Dn(this,Yt,tm).call(this,on.defaultPropertiesToUpdate)}getId(){return Xt(this,Qt).getId()}addLayer(gn){Xt(this,Gt).set(gn.pageIndex,gn),Xt(this,qt)?gn.enable():gn.disable()}removeLayer(gn){Xt(this,Gt).delete(gn.pageIndex)}updateMode(gn){if(Ln(this,nn,gn),gn===bt.AnnotationEditorType.NONE)this.setEditingState(!1),Dn(this,Yt,j3).call(this);else{this.setEditingState(!0),Dn(this,Yt,B3).call(this);for(const on of Xt(this,Gt).values())on.updateMode(gn)}}updateToolbar(gn){gn!==Xt(this,nn)&&Xt(this,hn).dispatch("switchannotationeditormode",{source:this,mode:gn})}updateParams(gn,on){for(const wn of Xt(this,Ut))wn.updateParams(gn,on);for(const wn of Xt(this,sn))wn.updateDefaultParams(gn,on)}getEditors(gn){const on=[];for(const wn of Xt(this,Vt).values())wn.pageIndex===gn&&on.push(wn);return on}getEditor(gn){return Xt(this,Vt).get(gn)}addEditor(gn){Xt(this,Vt).set(gn.id,gn)}removeEditor(gn){Xt(this,Vt).delete(gn.id),this.unselect(gn)}setActiveEditor(gn){Xt(this,Ot)!==gn&&(Ln(this,Ot,gn),gn&&Dn(this,Yt,tm).call(this,gn.propertiesToUpdate))}toggleSelected(gn){if(Xt(this,Ut).has(gn)){Xt(this,Ut).delete(gn),gn.unselect(),Dn(this,Yt,jo).call(this,{hasSelectedEditor:this.hasSelection});return}Xt(this,Ut).add(gn),gn.select(),Dn(this,Yt,tm).call(this,gn.propertiesToUpdate),Dn(this,Yt,jo).call(this,{hasSelectedEditor:!0})}setSelected(gn){for(const on of Xt(this,Ut))on!==gn&&on.unselect();Xt(this,Ut).clear(),Xt(this,Ut).add(gn),gn.select(),Dn(this,Yt,tm).call(this,gn.propertiesToUpdate),Dn(this,Yt,jo).call(this,{hasSelectedEditor:!0})}isSelected(gn){return Xt(this,Ut).has(gn)}unselect(gn){gn.unselect(),Xt(this,Ut).delete(gn),Dn(this,Yt,jo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Xt(this,Ut).size!==0}undo(){Xt(this,en).undo(),Dn(this,Yt,jo).call(this,{hasSomethingToUndo:Xt(this,en).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Dn(this,Yt,nm).call(this)})}redo(){Xt(this,en).redo(),Dn(this,Yt,jo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Xt(this,en).hasSomethingToRedo(),isEmpty:Dn(this,Yt,nm).call(this)})}addCommands(gn){Xt(this,en).add(gn),Dn(this,Yt,jo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Dn(this,Yt,nm).call(this)})}delete(){if(Xt(this,Ot)&&Xt(this,Ot).commitOrRemove(),!this.hasSelection)return;const gn=[...Xt(this,Ut)],on=()=>{for(const pn of gn)pn.remove()},wn=()=>{for(const pn of gn)Dn(this,Yt,Hy).call(this,pn)};this.addCommands({cmd:on,undo:wn,mustExec:!0})}copy(){if(Xt(this,Ot)&&Xt(this,Ot).commitOrRemove(),this.hasSelection){const gn=[];for(const on of Xt(this,Ut))on.isEmpty()||gn.push(on);if(gn.length===0)return;Xt(this,Wt).copy(gn),Dn(this,Yt,jo).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(Xt(this,Wt).isEmpty())return;this.unselectAll();const gn=Xt(this,Gt).get(Xt(this,Sn)),on=Xt(this,Wt).paste().map(Cn=>gn.deserialize(Cn)),wn=()=>{for(const Cn of on)Dn(this,Yt,Hy).call(this,Cn);Dn(this,Yt,d2).call(this,on)},pn=()=>{for(const Cn of on)Cn.remove()};this.addCommands({cmd:wn,undo:pn,mustExec:!0})}selectAll(){for(const gn of Xt(this,Ut))gn.commit();Dn(this,Yt,d2).call(this,Xt(this,Vt).values())}unselectAll(){if(Xt(this,Ot)){Xt(this,Ot).commitOrRemove();return}if(Dn(this,Yt,d2).size!==0){for(const gn of Xt(this,Ut))gn.unselect();Xt(this,Ut).clear(),Dn(this,Yt,jo).call(this,{hasSelectedEditor:!1})}}isActive(gn){return Xt(this,Ot)===gn}getActive(){return Xt(this,Ot)}getMode(){return Xt(this,nn)}};Ot=new WeakMap,Vt=new WeakMap,Gt=new WeakMap,Wt=new WeakMap,en=new WeakMap,Sn=new WeakMap,sn=new WeakMap,hn=new WeakMap,Qt=new WeakMap,qt=new WeakMap,nn=new WeakMap,Ut=new WeakMap,zt=new WeakMap,cn=new WeakMap,ln=new WeakMap,Kt=new WeakMap,Jt=new WeakMap,Yt=new WeakSet,$3=function(){Xt(this,Jt).addEventListener("keydown",Xt(this,zt))},Uy=function(){Xt(this,Jt).removeEventListener("keydown",Xt(this,zt))},jo=function(gn){Object.entries(gn).some(([wn,pn])=>Xt(this,Kt)[wn]!==pn)&&Xt(this,hn).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Xt(this,Kt),gn)})},tm=function(gn){Xt(this,hn).dispatch("annotationeditorparamschanged",{source:this,details:gn})},B3=function(){if(!Xt(this,qt)){Ln(this,qt,!0);for(const gn of Xt(this,Gt).values())gn.enable()}},j3=function(){if(this.unselectAll(),Xt(this,qt)){Ln(this,qt,!1);for(const gn of Xt(this,Gt).values())gn.disable()}},Hy=function(gn){const on=Xt(this,Gt).get(gn.pageIndex);on?on.addOrRebuild(gn):this.addEditor(gn)},nm=function(){if(Xt(this,Vt).size===0)return!0;if(Xt(this,Vt).size===1)for(const gn of Xt(this,Vt).values())return gn.isEmpty();return!1},d2=function(gn){Xt(this,Ut).clear();for(const on of gn)on.isEmpty()||(Xt(this,Ut).add(on),on.select());Dn(this,Yt,jo).call(this,{hasSelectedEditor:!0})},os(bn,"_keyboardManager",new vt([[["ctrl+a","mac+meta+a"],bn.prototype.selectAll],[["ctrl+c","mac+meta+c"],bn.prototype.copy],[["ctrl+v","mac+meta+v"],bn.prototype.paste],[["ctrl+x","mac+meta+x"],bn.prototype.cut],[["ctrl+z","mac+meta+z"],bn.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],bn.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],bn.prototype.delete],[["Escape","mac+Escape"],bn.prototype.unselectAll]]));let Pt=bn;$.AnnotationEditorUIManager=Pt},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=$.AnnotationPrefix=void 0,$.deprecated=Ht,$.getColorValues=en,$.getCurrentTransform=Sn,$.getCurrentTransformInverse=sn,$.getFilenameFromUrl=Rt,$.getPdfFilenameFromUrl=Nt,$.getRGB=Wt,$.getXfaPageViewport=Gt,$.isDataScheme=_t,$.isPdfFile=jt,$.isValidFetchUrl=kt,$.loadScript=Bt;var bt=ht(9),wt=ht(1);const At="http://www.w3.org/2000/svg",Ct="pdfjs_internal_id_";$.AnnotationPrefix=Ct;const hn=class hn{};os(hn,"CSS",96),os(hn,"PDF",72),os(hn,"PDF_TO_CSS_UNITS",hn.CSS/hn.PDF);let St=hn;$.PixelsPerInch=St;class Ft extends bt.BaseCanvasFactory{constructor({ownerDocument:qt=globalThis.document}={}){super(),this._document=qt}_createCanvas(qt,nn){const Ut=this._document.createElement("canvas");return Ut.width=qt,Ut.height=nn,Ut}}$.DOMCanvasFactory=Ft;async function vt(Qt,qt=!1){if(kt(Qt,document.baseURI)){const nn=await fetch(Qt);if(!nn.ok)throw new Error(nn.statusText);return qt?new Uint8Array(await nn.arrayBuffer()):(0,wt.stringToBytes)(await nn.text())}return new Promise((nn,Ut)=>{const zt=new XMLHttpRequest;zt.open("GET",Qt,!0),qt&&(zt.responseType="arraybuffer"),zt.onreadystatechange=()=>{if(zt.readyState===XMLHttpRequest.DONE){if(zt.status===200||zt.status===0){let cn;if(qt&&zt.response?cn=new Uint8Array(zt.response):!qt&&zt.responseText&&(cn=(0,wt.stringToBytes)(zt.responseText)),cn){nn(cn);return}}Ut(new Error(zt.statusText))}},zt.send(null)})}class Et extends bt.BaseCMapReaderFactory{_fetchData(qt,nn){return vt(qt,this.isCompressed).then(Ut=>({cMapData:Ut,compressionType:nn}))}}$.DOMCMapReaderFactory=Et;class Mt extends bt.BaseStandardFontDataFactory{_fetchData(qt){return vt(qt,!0)}}$.DOMStandardFontDataFactory=Mt;class Pt extends bt.BaseSVGFactory{_createSVG(qt){return document.createElementNS(At,qt)}}$.DOMSVGFactory=Pt;class xt{constructor({viewBox:qt,scale:nn,rotation:Ut,offsetX:zt=0,offsetY:cn=0,dontFlip:ln=!1}){this.viewBox=qt,this.scale=nn,this.rotation=Ut,this.offsetX=zt,this.offsetY=cn;const Kt=(qt[2]+qt[0])/2,Jt=(qt[3]+qt[1])/2;let Yt,tn,un,yn;switch(Ut%=360,Ut<0&&(Ut+=360),Ut){case 180:Yt=-1,tn=0,un=0,yn=1;break;case 90:Yt=0,tn=1,un=1,yn=0;break;case 270:Yt=0,tn=-1,un=-1,yn=0;break;case 0:Yt=1,tn=0,un=0,yn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ln&&(un=-un,yn=-yn);let xn,rn,dn,An;Yt===0?(xn=Math.abs(Jt-qt[1])*nn+zt,rn=Math.abs(Kt-qt[0])*nn+cn,dn=Math.abs(qt[3]-qt[1])*nn,An=Math.abs(qt[2]-qt[0])*nn):(xn=Math.abs(Kt-qt[0])*nn+zt,rn=Math.abs(Jt-qt[1])*nn+cn,dn=Math.abs(qt[2]-qt[0])*nn,An=Math.abs(qt[3]-qt[1])*nn),this.transform=[Yt*nn,tn*nn,un*nn,yn*nn,xn-Yt*nn*Kt-un*nn*Jt,rn-tn*nn*Kt-yn*nn*Jt],this.width=dn,this.height=An}clone({scale:qt=this.scale,rotation:nn=this.rotation,offsetX:Ut=this.offsetX,offsetY:zt=this.offsetY,dontFlip:cn=!1}={}){return new xt({viewBox:this.viewBox.slice(),scale:qt,rotation:nn,offsetX:Ut,offsetY:zt,dontFlip:cn})}convertToViewportPoint(qt,nn){return wt.Util.applyTransform([qt,nn],this.transform)}convertToViewportRectangle(qt){const nn=wt.Util.applyTransform([qt[0],qt[1]],this.transform),Ut=wt.Util.applyTransform([qt[2],qt[3]],this.transform);return[nn[0],nn[1],Ut[0],Ut[1]]}convertToPdfPoint(qt,nn){return wt.Util.applyInverseTransform([qt,nn],this.transform)}}$.PageViewport=xt;class $t extends wt.BaseException{constructor(qt,nn){super(qt,"RenderingCancelledException"),this.type=nn}}$.RenderingCancelledException=$t;function _t(Qt){const qt=Qt.length;let nn=0;for(;nn<qt&&Qt[nn].trim()==="";)nn++;return Qt.substring(nn,nn+5).toLowerCase()==="data:"}function jt(Qt){return typeof Qt=="string"&&/\.pdf$/i.test(Qt)}function Rt(Qt){const qt=Qt.indexOf("#"),nn=Qt.indexOf("?"),Ut=Math.min(qt>0?qt:Qt.length,nn>0?nn:Qt.length);return Qt.substring(Qt.lastIndexOf("/",Ut)+1,Ut)}function Nt(Qt,qt="document.pdf"){if(typeof Qt!="string")return qt;if(_t(Qt))return(0,wt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),qt;const nn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ut=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,zt=nn.exec(Qt);let cn=Ut.exec(zt[1])||Ut.exec(zt[2])||Ut.exec(zt[3]);if(cn&&(cn=cn[0],cn.includes("%")))try{cn=Ut.exec(decodeURIComponent(cn))[0]}catch{}return cn||qt}class Lt{constructor(){this.started=Object.create(null),this.times=[]}time(qt){qt in this.started&&(0,wt.warn)(`Timer is already running for ${qt}`),this.started[qt]=Date.now()}timeEnd(qt){qt in this.started||(0,wt.warn)(`Timer has not been started for ${qt}`),this.times.push({name:qt,start:this.started[qt],end:Date.now()}),delete this.started[qt]}toString(){const qt=[];let nn=0;for(const Ut of this.times){const zt=Ut.name;zt.length>nn&&(nn=zt.length)}for(const Ut of this.times){const zt=Ut.end-Ut.start;qt.push(`${Ut.name.padEnd(nn)} ${zt}ms
`)}return qt.join("")}}$.StatTimer=Lt;function kt(Qt,qt){try{const{protocol:nn}=qt?new URL(Qt,qt):new URL(Qt);return nn==="http:"||nn==="https:"}catch{return!1}}function Bt(Qt,qt=!1){return new Promise((nn,Ut)=>{const zt=document.createElement("script");zt.src=Qt,zt.onload=function(cn){qt&&zt.remove(),nn(cn)},zt.onerror=function(){Ut(new Error(`Cannot load script at: ${zt.src}`))},(document.head||document.documentElement).append(zt)})}function Ht(Qt){console.log("Deprecated API usage: "+Qt)}let Ot;class Vt{static toDateObject(qt){if(!qt||typeof qt!="string")return null;Ot||(Ot=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const nn=Ot.exec(qt);if(!nn)return null;const Ut=parseInt(nn[1],10);let zt=parseInt(nn[2],10);zt=zt>=1&&zt<=12?zt-1:0;let cn=parseInt(nn[3],10);cn=cn>=1&&cn<=31?cn:1;let ln=parseInt(nn[4],10);ln=ln>=0&&ln<=23?ln:0;let Kt=parseInt(nn[5],10);Kt=Kt>=0&&Kt<=59?Kt:0;let Jt=parseInt(nn[6],10);Jt=Jt>=0&&Jt<=59?Jt:0;const Yt=nn[7]||"Z";let tn=parseInt(nn[8],10);tn=tn>=0&&tn<=23?tn:0;let un=parseInt(nn[9],10)||0;return un=un>=0&&un<=59?un:0,Yt==="-"?(ln+=tn,Kt+=un):Yt==="+"&&(ln-=tn,Kt-=un),new Date(Date.UTC(Ut,zt,cn,ln,Kt,Jt))}}$.PDFDateString=Vt;function Gt(Qt,{scale:qt=1,rotation:nn=0}){const{width:Ut,height:zt}=Qt.attributes.style,cn=[0,0,parseInt(Ut),parseInt(zt)];return new xt({viewBox:cn,scale:qt,rotation:nn})}function Wt(Qt){if(Qt.startsWith("#")){const qt=parseInt(Qt.slice(1),16);return[(qt&16711680)>>16,(qt&65280)>>8,qt&255]}return Qt.startsWith("rgb(")?Qt.slice(4,-1).split(",").map(qt=>parseInt(qt)):Qt.startsWith("rgba(")?Qt.slice(5,-1).split(",").map(qt=>parseInt(qt)).slice(0,3):((0,wt.warn)(`Not a valid color format: "${Qt}"`),[0,0,0])}function en(Qt){const qt=document.createElement("span");qt.style.visibility="hidden",document.body.append(qt);for(const nn of Qt.keys()){qt.style.color=nn;const Ut=window.getComputedStyle(qt).color;Qt.set(nn,Wt(Ut))}qt.remove()}function Sn(Qt){const{a:qt,b:nn,c:Ut,d:zt,e:cn,f:ln}=Qt.getTransform();return[qt,nn,Ut,zt,cn,ln]}function sn(Qt){const{a:qt,b:nn,c:Ut,d:zt,e:cn,f:ln}=Qt.getTransform().invertSelf();return[qt,nn,Ut,zt,cn,ln]}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var bt=ht(1);class wt{constructor(){this.constructor===wt&&(0,bt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(vt,Et){if(vt<=0||Et<=0)throw new Error("Invalid canvas size");const Mt=this._createCanvas(vt,Et);return{canvas:Mt,context:Mt.getContext("2d")}}reset(vt,Et,Mt){if(!vt.canvas)throw new Error("Canvas is not specified");if(Et<=0||Mt<=0)throw new Error("Invalid canvas size");vt.canvas.width=Et,vt.canvas.height=Mt}destroy(vt){if(!vt.canvas)throw new Error("Canvas is not specified");vt.canvas.width=0,vt.canvas.height=0,vt.canvas=null,vt.context=null}_createCanvas(vt,Et){(0,bt.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=wt;class At{constructor({baseUrl:vt=null,isCompressed:Et=!1}){this.constructor===At&&(0,bt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=vt,this.isCompressed=Et}async fetch({name:vt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!vt)throw new Error("CMap name must be specified.");const Et=this.baseUrl+vt+(this.isCompressed?".bcmap":""),Mt=this.isCompressed?bt.CMapCompressionType.BINARY:bt.CMapCompressionType.NONE;return this._fetchData(Et,Mt).catch(Pt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Et}`)})}_fetchData(vt,Et){(0,bt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=At;class Ct{constructor({baseUrl:vt=null}){this.constructor===Ct&&(0,bt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=vt}async fetch({filename:vt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!vt)throw new Error("Font filename must be specified.");const Et=`${this.baseUrl}${vt}`;return this._fetchData(Et).catch(Mt=>{throw new Error(`Unable to load font data at: ${Et}`)})}_fetchData(vt){(0,bt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=Ct;class St{constructor(){this.constructor===St&&(0,bt.unreachable)("Cannot initialize BaseSVGFactory.")}create(vt,Et,Mt=!1){if(vt<=0||Et<=0)throw new Error("Invalid SVG dimensions");const Pt=this._createSVG("svg:svg");return Pt.setAttribute("version","1.1"),Mt||(Pt.setAttribute("width",`${vt}px`),Pt.setAttribute("height",`${Et}px`)),Pt.setAttribute("preserveAspectRatio","none"),Pt.setAttribute("viewBox",`0 0 ${vt} ${Et}`),Pt}createElement(vt){if(typeof vt!="string")throw new Error("Invalid SVG element type");return this._createSVG(vt)}_createSVG(vt){(0,bt.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=St},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var bt=ht(1);const wt=3285377520,At=4294901760,Ct=65535;class St{constructor(vt){this.h1=vt?vt&4294967295:wt,this.h2=vt?vt&4294967295:wt}update(vt){let Et,Mt;if(typeof vt=="string"){Et=new Uint8Array(vt.length*2),Mt=0;for(let Ot=0,Vt=vt.length;Ot<Vt;Ot++){const Gt=vt.charCodeAt(Ot);Gt<=255?Et[Mt++]=Gt:(Et[Mt++]=Gt>>>8,Et[Mt++]=Gt&255)}}else if((0,bt.isArrayBuffer)(vt))Et=vt.slice(),Mt=Et.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Pt=Mt>>2,xt=Mt-Pt*4,$t=new Uint32Array(Et.buffer,0,Pt);let _t=0,jt=0,Rt=this.h1,Nt=this.h2;const Lt=3432918353,kt=461845907,Bt=Lt&Ct,Ht=kt&Ct;for(let Ot=0;Ot<Pt;Ot++)Ot&1?(_t=$t[Ot],_t=_t*Lt&At|_t*Bt&Ct,_t=_t<<15|_t>>>17,_t=_t*kt&At|_t*Ht&Ct,Rt^=_t,Rt=Rt<<13|Rt>>>19,Rt=Rt*5+3864292196):(jt=$t[Ot],jt=jt*Lt&At|jt*Bt&Ct,jt=jt<<15|jt>>>17,jt=jt*kt&At|jt*Ht&Ct,Nt^=jt,Nt=Nt<<13|Nt>>>19,Nt=Nt*5+3864292196);switch(_t=0,xt){case 3:_t^=Et[Pt*4+2]<<16;case 2:_t^=Et[Pt*4+1]<<8;case 1:_t^=Et[Pt*4],_t=_t*Lt&At|_t*Bt&Ct,_t=_t<<15|_t>>>17,_t=_t*kt&At|_t*Ht&Ct,Pt&1?Rt^=_t:Nt^=_t}this.h1=Rt,this.h2=Nt}hexdigest(){let vt=this.h1,Et=this.h2;vt^=Et>>>1,vt=vt*3981806797&At|vt*36045&Ct,Et=Et*4283543511&At|((Et<<16|vt>>>16)*2950163797&At)>>>16,vt^=Et>>>1,vt=vt*444984403&At|vt*60499&Ct,Et=Et*3301882366&At|((Et<<16|vt>>>16)*3120437893&At)>>>16,vt^=Et>>>1;const Mt=(vt>>>0).toString(16),Pt=(Et>>>0).toString(16);return Mt.padStart(8,"0")+Pt.padStart(8,"0")}}$.MurmurHash3_64=St},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var bt=ht(1);class wt{constructor({docId:Ft,onUnsupportedFeature:vt,ownerDocument:Et=globalThis.document,styleElement:Mt=null}){this.constructor===wt&&(0,bt.unreachable)("Cannot initialize BaseFontLoader."),this.docId=Ft,this._onUnsupportedFeature=vt,this._document=Et,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(Ft){this.nativeFontFaces.push(Ft),this._document.fonts.add(Ft)}insertRule(Ft){let vt=this.styleElement;vt||(vt=this.styleElement=this._document.createElement("style"),vt.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(vt));const Et=vt.sheet;Et.insertRule(Ft,Et.cssRules.length)}clear(){for(const Ft of this.nativeFontFaces)this._document.fonts.delete(Ft);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(Ft){if(Ft.attached||Ft.missingFile)return;if(Ft.attached=!0,this.isFontLoadingAPISupported){const Et=Ft.createNativeFontFace();if(Et){this.addNativeFontFace(Et);try{await Et.loaded}catch(Mt){throw this._onUnsupportedFeature({featureId:bt.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,bt.warn)(`Failed to load font '${Et.family}': '${Mt}'.`),Ft.disableFontFace=!0,Mt}}return}const vt=Ft.createFontFaceRule();if(vt){if(this.insertRule(vt),this.isSyncFontLoadingSupported)return;await new Promise(Et=>{const Mt=this._queueLoadingCallback(Et);this._prepareFontLoadEvent([vt],[Ft],Mt)})}}_queueLoadingCallback(Ft){(0,bt.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var vt;const Ft=!!((vt=this._document)!=null&&vt.fonts);return(0,bt.shadow)(this,"isFontLoadingAPISupported",Ft)}get isSyncFontLoadingSupported(){(0,bt.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,bt.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(Ft,vt,Et){(0,bt.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let At;$.FontLoader=At,$.FontLoader=At=class extends wt{constructor(Ft){super(Ft),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let Ft=!1;if(typeof navigator>"u")Ft=!0;else{const vt=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(vt==null?void 0:vt[1])>=14&&(Ft=!0)}return(0,bt.shadow)(this,"isSyncFontLoadingSupported",Ft)}_queueLoadingCallback(Ft){function vt(){for((0,bt.assert)(!Mt.done,"completeRequest() cannot be called twice."),Mt.done=!0;Et.requests.length>0&&Et.requests[0].done;){const Pt=Et.requests.shift();setTimeout(Pt.callback,0)}}const Et=this.loadingContext,Mt={id:`pdfjs-font-loading-${Et.nextRequestId++}`,done:!1,complete:vt,callback:Ft};return Et.requests.push(Mt),Mt}get _loadTestFont(){const Ft=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,bt.shadow)(this,"_loadTestFont",Ft())}_prepareFontLoadEvent(Ft,vt,Et){function Mt(sn,hn){return sn.charCodeAt(hn)<<24|sn.charCodeAt(hn+1)<<16|sn.charCodeAt(hn+2)<<8|sn.charCodeAt(hn+3)&255}function Pt(sn,hn,Qt,qt){const nn=sn.substring(0,hn),Ut=sn.substring(hn+Qt);return nn+qt+Ut}let xt,$t;const _t=this._document.createElement("canvas");_t.width=1,_t.height=1;const jt=_t.getContext("2d");let Rt=0;function Nt(sn,hn){if(Rt++,Rt>30){(0,bt.warn)("Load test font never loaded."),hn();return}if(jt.font="30px "+sn,jt.fillText(".",0,20),jt.getImageData(0,0,1,1).data[3]>0){hn();return}setTimeout(Nt.bind(null,sn,hn))}const Lt=`lt${Date.now()}${this.loadTestFontId++}`;let kt=this._loadTestFont;kt=Pt(kt,976,Lt.length,Lt);const Ht=16,Ot=1482184792;let Vt=Mt(kt,Ht);for(xt=0,$t=Lt.length-3;xt<$t;xt+=4)Vt=Vt-Ot+Mt(Lt,xt)|0;xt<Lt.length&&(Vt=Vt-Ot+Mt(Lt+"XXX",xt)|0),kt=Pt(kt,Ht,4,(0,bt.string32)(Vt));const Gt=`url(data:font/opentype;base64,${btoa(kt)});`,Wt=`@font-face {font-family:"${Lt}";src:${Gt}}`;this.insertRule(Wt);const en=[];for(const sn of vt)en.push(sn.loadedName);en.push(Lt);const Sn=this._document.createElement("div");Sn.style.visibility="hidden",Sn.style.width=Sn.style.height="10px",Sn.style.position="absolute",Sn.style.top=Sn.style.left="0px";for(const sn of en){const hn=this._document.createElement("span");hn.textContent="Hi",hn.style.fontFamily=sn,Sn.append(hn)}this._document.body.append(Sn),Nt(Lt,()=>{Sn.remove(),Et.complete()})}};class Ct{constructor(Ft,{isEvalSupported:vt=!0,disableFontFace:Et=!1,ignoreErrors:Mt=!1,onUnsupportedFeature:Pt,fontRegistry:xt=null}){this.compiledGlyphs=Object.create(null);for(const $t in Ft)this[$t]=Ft[$t];this.isEvalSupported=vt!==!1,this.disableFontFace=Et===!0,this.ignoreErrors=Mt===!0,this._onUnsupportedFeature=Pt,this.fontRegistry=xt}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let Ft;if(!this.cssFontInfo)Ft=new FontFace(this.loadedName,this.data,{});else{const vt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(vt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Ft=new FontFace(this.cssFontInfo.fontFamily,this.data,vt)}return this.fontRegistry&&this.fontRegistry.registerFont(this),Ft}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const Ft=(0,bt.bytesToString)(this.data),vt=`url(data:${this.mimetype};base64,${btoa(Ft)});`;let Et;if(!this.cssFontInfo)Et=`@font-face {font-family:"${this.loadedName}";src:${vt}}`;else{let Mt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Mt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),Et=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Mt}src:${vt}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,vt),Et}getPathGenerator(Ft,vt){if(this.compiledGlyphs[vt]!==void 0)return this.compiledGlyphs[vt];let Et;try{Et=Ft.get(this.loadedName+"_path_"+vt)}catch(Mt){if(!this.ignoreErrors)throw Mt;return this._onUnsupportedFeature({featureId:bt.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,bt.warn)(`getPathGenerator - ignoring character: "${Mt}".`),this.compiledGlyphs[vt]=function(Pt,xt){}}if(this.isEvalSupported&&bt.FeatureTest.isEvalSupported){const Mt=[];for(const Pt of Et){const xt=Pt.args!==void 0?Pt.args.join(","):"";Mt.push("c.",Pt.cmd,"(",xt,`);
`)}return this.compiledGlyphs[vt]=new Function("c","size",Mt.join(""))}return this.compiledGlyphs[vt]=function(Mt,Pt){for(const xt of Et)xt.cmd==="scale"&&(xt.args=[Pt,-Pt]),Mt[xt.cmd].apply(Mt,xt.args)}}}$.FontFaceObject=Ct},(_e,$,ht)=>{var zt,Vy;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var bt=ht(8),wt=ht(1),At=ht(13),Ct=ht(14),St=ht(3);const Ft=16,vt=100,Et=4096,Mt=15,Pt=10,xt=St.isNodeJS&&typeof Path2D>"u"?-1:1e3,$t=16;function _t(Kt,Jt){if(Kt._removeMirroring)throw new Error("Context is already forwarding operations.");Kt.__originalSave=Kt.save,Kt.__originalRestore=Kt.restore,Kt.__originalRotate=Kt.rotate,Kt.__originalScale=Kt.scale,Kt.__originalTranslate=Kt.translate,Kt.__originalTransform=Kt.transform,Kt.__originalSetTransform=Kt.setTransform,Kt.__originalResetTransform=Kt.resetTransform,Kt.__originalClip=Kt.clip,Kt.__originalMoveTo=Kt.moveTo,Kt.__originalLineTo=Kt.lineTo,Kt.__originalBezierCurveTo=Kt.bezierCurveTo,Kt.__originalRect=Kt.rect,Kt.__originalClosePath=Kt.closePath,Kt.__originalBeginPath=Kt.beginPath,Kt._removeMirroring=()=>{Kt.save=Kt.__originalSave,Kt.restore=Kt.__originalRestore,Kt.rotate=Kt.__originalRotate,Kt.scale=Kt.__originalScale,Kt.translate=Kt.__originalTranslate,Kt.transform=Kt.__originalTransform,Kt.setTransform=Kt.__originalSetTransform,Kt.resetTransform=Kt.__originalResetTransform,Kt.clip=Kt.__originalClip,Kt.moveTo=Kt.__originalMoveTo,Kt.lineTo=Kt.__originalLineTo,Kt.bezierCurveTo=Kt.__originalBezierCurveTo,Kt.rect=Kt.__originalRect,Kt.closePath=Kt.__originalClosePath,Kt.beginPath=Kt.__originalBeginPath,delete Kt._removeMirroring},Kt.save=function(){Jt.save(),this.__originalSave()},Kt.restore=function(){Jt.restore(),this.__originalRestore()},Kt.translate=function(tn,un){Jt.translate(tn,un),this.__originalTranslate(tn,un)},Kt.scale=function(tn,un){Jt.scale(tn,un),this.__originalScale(tn,un)},Kt.transform=function(tn,un,yn,xn,rn,dn){Jt.transform(tn,un,yn,xn,rn,dn),this.__originalTransform(tn,un,yn,xn,rn,dn)},Kt.setTransform=function(tn,un,yn,xn,rn,dn){Jt.setTransform(tn,un,yn,xn,rn,dn),this.__originalSetTransform(tn,un,yn,xn,rn,dn)},Kt.resetTransform=function(){Jt.resetTransform(),this.__originalResetTransform()},Kt.rotate=function(tn){Jt.rotate(tn),this.__originalRotate(tn)},Kt.clip=function(tn){Jt.clip(tn),this.__originalClip(tn)},Kt.moveTo=function(Yt,tn){Jt.moveTo(Yt,tn),this.__originalMoveTo(Yt,tn)},Kt.lineTo=function(Yt,tn){Jt.lineTo(Yt,tn),this.__originalLineTo(Yt,tn)},Kt.bezierCurveTo=function(Yt,tn,un,yn,xn,rn){Jt.bezierCurveTo(Yt,tn,un,yn,xn,rn),this.__originalBezierCurveTo(Yt,tn,un,yn,xn,rn)},Kt.rect=function(Yt,tn,un,yn){Jt.rect(Yt,tn,un,yn),this.__originalRect(Yt,tn,un,yn)},Kt.closePath=function(){Jt.closePath(),this.__originalClosePath()},Kt.beginPath=function(){Jt.beginPath(),this.__originalBeginPath()}}class jt{constructor(Jt){this.canvasFactory=Jt,this.cache=Object.create(null)}getCanvas(Jt,Yt,tn){let un;return this.cache[Jt]!==void 0?(un=this.cache[Jt],this.canvasFactory.reset(un,Yt,tn)):(un=this.canvasFactory.create(Yt,tn),this.cache[Jt]=un),un}delete(Jt){delete this.cache[Jt]}clear(){for(const Jt in this.cache){const Yt=this.cache[Jt];this.canvasFactory.destroy(Yt),delete this.cache[Jt]}}}function Rt(Kt,Jt,Yt,tn,un,yn,xn,rn,dn,An){const[an,fn,bn,vn,gn,on]=(0,bt.getCurrentTransform)(Kt);if(fn===0&&bn===0){const Cn=xn*an+gn,Tn=Math.round(Cn),Fn=rn*vn+on,En=Math.round(Fn),kn=(xn+dn)*an+gn,Pn=Math.abs(Math.round(kn)-Tn)||1,_n=(rn+An)*vn+on,Mn=Math.abs(Math.round(_n)-En)||1;return Kt.setTransform(Math.sign(an),0,0,Math.sign(vn),Tn,En),Kt.drawImage(Jt,Yt,tn,un,yn,0,0,Pn,Mn),Kt.setTransform(an,fn,bn,vn,gn,on),[Pn,Mn]}if(an===0&&vn===0){const Cn=rn*bn+gn,Tn=Math.round(Cn),Fn=xn*fn+on,En=Math.round(Fn),kn=(rn+An)*bn+gn,Pn=Math.abs(Math.round(kn)-Tn)||1,_n=(xn+dn)*fn+on,Mn=Math.abs(Math.round(_n)-En)||1;return Kt.setTransform(0,Math.sign(fn),Math.sign(bn),0,Tn,En),Kt.drawImage(Jt,Yt,tn,un,yn,0,0,Mn,Pn),Kt.setTransform(an,fn,bn,vn,gn,on),[Mn,Pn]}Kt.drawImage(Jt,Yt,tn,un,yn,xn,rn,dn,An);const wn=Math.hypot(an,fn),pn=Math.hypot(bn,vn);return[wn*dn,pn*An]}function Nt(Kt){const{width:Jt,height:Yt}=Kt;if(Jt>xt||Yt>xt)return null;const tn=1e3,un=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),yn=Jt+1;let xn=new Uint8Array(yn*(Yt+1)),rn,dn,An;const an=Jt+7&-8;let fn=new Uint8Array(an*Yt),bn=0;for(const pn of Kt.data){let Cn=128;for(;Cn>0;)fn[bn++]=pn&Cn?0:255,Cn>>=1}let vn=0;for(bn=0,fn[bn]!==0&&(xn[0]=1,++vn),dn=1;dn<Jt;dn++)fn[bn]!==fn[bn+1]&&(xn[dn]=fn[bn]?2:1,++vn),bn++;for(fn[bn]!==0&&(xn[dn]=2,++vn),rn=1;rn<Yt;rn++){bn=rn*an,An=rn*yn,fn[bn-an]!==fn[bn]&&(xn[An]=fn[bn]?1:8,++vn);let pn=(fn[bn]?4:0)+(fn[bn-an]?8:0);for(dn=1;dn<Jt;dn++)pn=(pn>>2)+(fn[bn+1]?4:0)+(fn[bn-an+1]?8:0),un[pn]&&(xn[An+dn]=un[pn],++vn),bn++;if(fn[bn-an]!==fn[bn]&&(xn[An+dn]=fn[bn]?2:4,++vn),vn>tn)return null}for(bn=an*(Yt-1),An=rn*yn,fn[bn]!==0&&(xn[An]=8,++vn),dn=1;dn<Jt;dn++)fn[bn]!==fn[bn+1]&&(xn[An+dn]=fn[bn]?4:8,++vn),bn++;if(fn[bn]!==0&&(xn[An+dn]=4,++vn),vn>tn)return null;const gn=new Int32Array([0,yn,-1,0,-yn,0,0,0,1]),on=new Path2D;for(rn=0;vn&&rn<=Yt;rn++){let pn=rn*yn;const Cn=pn+Jt;for(;pn<Cn&&!xn[pn];)pn++;if(pn===Cn)continue;on.moveTo(pn%yn,rn);const Tn=pn;let Fn=xn[pn];do{const En=gn[Fn];do pn+=En;while(!xn[pn]);const kn=xn[pn];kn!==5&&kn!==10?(Fn=kn,xn[pn]=0):(Fn=kn&51*Fn>>4,xn[pn]&=Fn>>2|Fn<<2),on.lineTo(pn%yn,pn/yn|0),xn[pn]||--vn}while(Tn!==pn);--rn}return fn=null,xn=null,function(pn){pn.save(),pn.scale(1/Jt,-1/Yt),pn.translate(0,-Yt),pn.fill(on),pn.beginPath(),pn.restore()}}class Lt{constructor(Jt,Yt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=wt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=wt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=wt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,Jt,Yt])}clone(){const Jt=Object.create(this);return Jt.clipBox=this.clipBox.slice(),Jt}setCurrentPoint(Jt,Yt){this.x=Jt,this.y=Yt}updatePathMinMax(Jt,Yt,tn){[Yt,tn]=wt.Util.applyTransform([Yt,tn],Jt),this.minX=Math.min(this.minX,Yt),this.minY=Math.min(this.minY,tn),this.maxX=Math.max(this.maxX,Yt),this.maxY=Math.max(this.maxY,tn)}updateRectMinMax(Jt,Yt){const tn=wt.Util.applyTransform(Yt,Jt),un=wt.Util.applyTransform(Yt.slice(2),Jt);this.minX=Math.min(this.minX,tn[0],un[0]),this.minY=Math.min(this.minY,tn[1],un[1]),this.maxX=Math.max(this.maxX,tn[0],un[0]),this.maxY=Math.max(this.maxY,tn[1],un[1])}updateScalingPathMinMax(Jt,Yt){wt.Util.scaleMinMax(Jt,Yt),this.minX=Math.min(this.minX,Yt[0]),this.maxX=Math.max(this.maxX,Yt[1]),this.minY=Math.min(this.minY,Yt[2]),this.maxY=Math.max(this.maxY,Yt[3])}updateCurvePathMinMax(Jt,Yt,tn,un,yn,xn,rn,dn,An,an){const fn=wt.Util.bezierBoundingBox(Yt,tn,un,yn,xn,rn,dn,An);if(an){an[0]=Math.min(an[0],fn[0],fn[2]),an[1]=Math.max(an[1],fn[0],fn[2]),an[2]=Math.min(an[2],fn[1],fn[3]),an[3]=Math.max(an[3],fn[1],fn[3]);return}this.updateRectMinMax(Jt,fn)}getPathBoundingBox(Jt=At.PathType.FILL,Yt=null){const tn=[this.minX,this.minY,this.maxX,this.maxY];if(Jt===At.PathType.STROKE){Yt||(0,wt.unreachable)("Stroke bounding box must include transform.");const un=wt.Util.singularValueDecompose2dScale(Yt),yn=un[0]*this.lineWidth/2,xn=un[1]*this.lineWidth/2;tn[0]-=yn,tn[1]-=xn,tn[2]+=yn,tn[3]+=xn}return tn}updateClipFromPath(){const Jt=wt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Jt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Jt){this.clipBox=Jt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Jt=At.PathType.FILL,Yt=null){return wt.Util.intersect(this.clipBox,this.getPathBoundingBox(Jt,Yt))}}function kt(Kt,Jt,Yt=null){if(typeof ImageData<"u"&&Jt instanceof ImageData){Kt.putImageData(Jt,0,0);return}const tn=Jt.height,un=Jt.width,yn=tn%$t,xn=(tn-yn)/$t,rn=yn===0?xn:xn+1,dn=Kt.createImageData(un,$t);let An=0,an;const fn=Jt.data,bn=dn.data;let vn,gn,on,wn,pn,Cn,Tn,Fn;if(Yt)switch(Yt.length){case 1:pn=Yt[0],Cn=Yt[0],Tn=Yt[0],Fn=Yt[0];break;case 4:pn=Yt[0],Cn=Yt[1],Tn=Yt[2],Fn=Yt[3];break}if(Jt.kind===wt.ImageKind.GRAYSCALE_1BPP){const En=fn.byteLength,kn=new Uint32Array(bn.buffer,0,bn.byteLength>>2),Pn=kn.length,_n=un+7>>3;let Mn=4294967295,On=wt.FeatureTest.isLittleEndian?4278190080:255;for(Fn&&Fn[0]===255&&Fn[255]===0&&([Mn,On]=[On,Mn]),vn=0;vn<rn;vn++){for(on=vn<xn?$t:yn,an=0,gn=0;gn<on;gn++){const jn=En-An;let qn=0;const Gn=jn>_n?un:jn*8-7,Yn=Gn&-8;let er=0,cr=0;for(;qn<Yn;qn+=8)cr=fn[An++],kn[an++]=cr&128?Mn:On,kn[an++]=cr&64?Mn:On,kn[an++]=cr&32?Mn:On,kn[an++]=cr&16?Mn:On,kn[an++]=cr&8?Mn:On,kn[an++]=cr&4?Mn:On,kn[an++]=cr&2?Mn:On,kn[an++]=cr&1?Mn:On;for(;qn<Gn;qn++)er===0&&(cr=fn[An++],er=128),kn[an++]=cr&er?Mn:On,er>>=1}for(;an<Pn;)kn[an++]=0;Kt.putImageData(dn,0,vn*$t)}}else if(Jt.kind===wt.ImageKind.RGBA_32BPP){const En=!!(pn||Cn||Tn);for(gn=0,wn=un*$t*4,vn=0;vn<xn;vn++){if(bn.set(fn.subarray(An,An+wn)),An+=wn,En)for(let kn=0;kn<wn;kn+=4)pn&&(bn[kn+0]=pn[bn[kn+0]]),Cn&&(bn[kn+1]=Cn[bn[kn+1]]),Tn&&(bn[kn+2]=Tn[bn[kn+2]]);Kt.putImageData(dn,0,gn),gn+=$t}if(vn<rn){if(wn=un*yn*4,bn.set(fn.subarray(An,An+wn)),En)for(let kn=0;kn<wn;kn+=4)pn&&(bn[kn+0]=pn[bn[kn+0]]),Cn&&(bn[kn+1]=Cn[bn[kn+1]]),Tn&&(bn[kn+2]=Tn[bn[kn+2]]);Kt.putImageData(dn,0,gn)}}else if(Jt.kind===wt.ImageKind.RGB_24BPP){const En=!!(pn||Cn||Tn);for(on=$t,wn=un*on,vn=0;vn<rn;vn++){for(vn>=xn&&(on=yn,wn=un*on),an=0,gn=wn;gn--;)bn[an++]=fn[An++],bn[an++]=fn[An++],bn[an++]=fn[An++],bn[an++]=255;if(En)for(let kn=0;kn<an;kn+=4)pn&&(bn[kn+0]=pn[bn[kn+0]]),Cn&&(bn[kn+1]=Cn[bn[kn+1]]),Tn&&(bn[kn+2]=Tn[bn[kn+2]]);Kt.putImageData(dn,0,vn*$t)}}else throw new Error(`bad image kind: ${Jt.kind}`)}function Bt(Kt,Jt){if(Jt.bitmap){Kt.drawImage(Jt.bitmap,0,0);return}const Yt=Jt.height,tn=Jt.width,un=Yt%$t,yn=(Yt-un)/$t,xn=un===0?yn:yn+1,rn=Kt.createImageData(tn,$t);let dn=0;const An=Jt.data,an=rn.data;for(let fn=0;fn<xn;fn++){const bn=fn<yn?$t:un;({srcPos:dn}=(0,Ct.applyMaskImageData)({src:An,srcPos:dn,dest:an,width:tn,height:bn})),Kt.putImageData(rn,0,fn*$t)}}function Ht(Kt,Jt){const Yt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let tn=0,un=Yt.length;tn<un;tn++){const yn=Yt[tn];Kt[yn]!==void 0&&(Jt[yn]=Kt[yn])}Kt.setLineDash!==void 0&&(Jt.setLineDash(Kt.getLineDash()),Jt.lineDashOffset=Kt.lineDashOffset)}function Ot(Kt,Jt){Kt.strokeStyle=Kt.fillStyle=Jt||"#000000",Kt.fillRule="nonzero",Kt.globalAlpha=1,Kt.lineWidth=1,Kt.lineCap="butt",Kt.lineJoin="miter",Kt.miterLimit=10,Kt.globalCompositeOperation="source-over",Kt.font="10px sans-serif",Kt.setLineDash!==void 0&&(Kt.setLineDash([]),Kt.lineDashOffset=0)}function Vt(Kt,Jt,Yt,tn){const un=Kt.length;for(let yn=3;yn<un;yn+=4){const xn=Kt[yn];if(xn===0)Kt[yn-3]=Jt,Kt[yn-2]=Yt,Kt[yn-1]=tn;else if(xn<255){const rn=255-xn;Kt[yn-3]=Kt[yn-3]*xn+Jt*rn>>8,Kt[yn-2]=Kt[yn-2]*xn+Yt*rn>>8,Kt[yn-1]=Kt[yn-1]*xn+tn*rn>>8}}}function Gt(Kt,Jt,Yt){const tn=Kt.length,un=1/255;for(let yn=3;yn<tn;yn+=4){const xn=Yt?Yt[Kt[yn]]:Kt[yn];Jt[yn]=Jt[yn]*xn*un|0}}function Wt(Kt,Jt,Yt){const tn=Kt.length;for(let un=3;un<tn;un+=4){const yn=Kt[un-3]*77+Kt[un-2]*152+Kt[un-1]*28;Jt[un]=Yt?Jt[un]*Yt[yn>>8]>>8:Jt[un]*yn>>16}}function en(Kt,Jt,Yt,tn,un,yn,xn,rn,dn,An,an){const fn=!!yn,bn=fn?yn[0]:0,vn=fn?yn[1]:0,gn=fn?yn[2]:0;let on;un==="Luminosity"?on=Wt:on=Gt;const pn=Math.min(tn,Math.ceil(1048576/Yt));for(let Cn=0;Cn<tn;Cn+=pn){const Tn=Math.min(pn,tn-Cn),Fn=Kt.getImageData(rn-An,Cn+(dn-an),Yt,Tn),En=Jt.getImageData(rn,Cn+dn,Yt,Tn);fn&&Vt(Fn.data,bn,vn,gn),on(Fn.data,En.data,xn),Jt.putImageData(En,rn,Cn+dn)}}function Sn(Kt,Jt,Yt,tn){const un=tn[0],yn=tn[1],xn=tn[2]-un,rn=tn[3]-yn;xn===0||rn===0||(en(Jt.context,Yt,xn,rn,Jt.subtype,Jt.backdrop,Jt.transferMap,un,yn,Jt.offsetX,Jt.offsetY),Kt.save(),Kt.globalAlpha=1,Kt.globalCompositeOperation="source-over",Kt.setTransform(1,0,0,1,0,0),Kt.drawImage(Yt.canvas,0,0),Kt.restore())}function sn(Kt,Jt){const Yt=wt.Util.singularValueDecompose2dScale(Kt);Yt[0]=Math.fround(Yt[0]),Yt[1]=Math.fround(Yt[1]);const tn=Math.fround((globalThis.devicePixelRatio||1)*bt.PixelsPerInch.PDF_TO_CSS_UNITS);return Jt!==void 0?Jt:Yt[0]<=tn||Yt[1]<=tn}const hn=["butt","round","square"],Qt=["miter","round","bevel"],qt={},nn={},ln=class ln{constructor(Jt,Yt,tn,un,yn,xn,rn,dn){$n(this,zt);this.ctx=Jt,this.current=new Lt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Yt,this.objs=tn,this.canvasFactory=un,this.imageLayer=yn,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=xn,this.cachedCanvases=new jt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=rn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(dn==null?void 0:dn.background)||null,this.foregroundColor=(dn==null?void 0:dn.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Jt,Yt=null){return typeof Jt=="string"?Jt.startsWith("g_")?this.commonObjs.get(Jt):this.objs.get(Jt):Yt}beginDrawing({transform:Jt,viewport:Yt,transparency:tn=!1,background:un=null}){const yn=this.ctx.canvas.width,xn=this.ctx.canvas.height,rn=un||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const dn=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const An=this.backgroundColor=this.ctx.fillStyle;let an=!0,fn=rn;if(this.ctx.fillStyle=rn,fn=this.ctx.fillStyle,an=typeof fn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fn),dn==="#000000"&&An==="#ffffff"||dn===An||!an)this.foregroundColor=this.backgroundColor=null;else{const[bn,vn,gn]=(0,bt.getRGB)(fn),on=pn=>(pn/=255,pn<=.03928?pn/12.92:((pn+.055)/1.055)**2.4),wn=Math.round(.2126*on(bn)+.7152*on(vn)+.0722*on(gn));this.selectColor=(pn,Cn,Tn)=>{const Fn=.2126*on(pn)+.7152*on(Cn)+.0722*on(Tn);return Math.round(Fn)===wn?An:dn}}}if(this.ctx.fillStyle=this.backgroundColor||rn,this.ctx.fillRect(0,0,yn,xn),this.ctx.restore(),tn){const dn=this.cachedCanvases.getCanvas("transparent",yn,xn);this.compositeCtx=this.ctx,this.transparentCanvas=dn.canvas,this.ctx=dn.context,this.ctx.save(),this.ctx.transform(...(0,bt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Ot(this.ctx,this.foregroundColor),Jt&&(this.ctx.transform(...Jt),this.outputScaleX=Jt[0],this.outputScaleY=Jt[0]),this.ctx.transform(...Yt.transform),this.viewportScale=Yt.scale,this.baseTransform=(0,bt.getCurrentTransform)(this.ctx),this.imageLayer&&((0,bt.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(Jt,Yt,tn,un){const yn=Jt.argsArray,xn=Jt.fnArray;let rn=Yt||0;const dn=yn.length;if(dn===rn)return rn;const An=dn-rn>Pt&&typeof tn=="function",an=An?Date.now()+Mt:0;let fn=0;const bn=this.commonObjs,vn=this.objs;let gn;for(;;){if(un!==void 0&&rn===un.nextBreakPoint)return un.breakIt(rn,tn),rn;if(gn=xn[rn],gn!==wt.OPS.dependency)this[gn].apply(this,yn[rn]);else for(const on of yn[rn]){const wn=on.startsWith("g_")?bn:vn;if(!wn.has(on))return wn.get(on,tn),rn}if(rn++,rn===dn)return rn;if(An&&++fn>Pt){if(Date.now()>an)return tn(),rn;fn=0}}}endDrawing(){Dn(this,zt,Vy).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Jt of this._cachedBitmapsMap.values()){for(const Yt of Jt.values())typeof HTMLCanvasElement<"u"&&Yt instanceof HTMLCanvasElement&&(Yt.width=Yt.height=0);Jt.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(Jt,Yt){const tn=Jt.width,un=Jt.height;let yn=Math.max(Math.hypot(Yt[0],Yt[1]),1),xn=Math.max(Math.hypot(Yt[2],Yt[3]),1),rn=tn,dn=un,An="prescale1",an,fn;for(;yn>2&&rn>1||xn>2&&dn>1;){let bn=rn,vn=dn;yn>2&&rn>1&&(bn=Math.ceil(rn/2),yn/=rn/bn),xn>2&&dn>1&&(vn=Math.ceil(dn/2),xn/=dn/vn),an=this.cachedCanvases.getCanvas(An,bn,vn),fn=an.context,fn.clearRect(0,0,bn,vn),fn.drawImage(Jt,0,0,rn,dn,0,0,bn,vn),Jt=an.canvas,rn=bn,dn=vn,An=An==="prescale1"?"prescale2":"prescale1"}return{img:Jt,paintWidth:rn,paintHeight:dn}}_createMaskCanvas(Jt){const Yt=this.ctx,{width:tn,height:un}=Jt,yn=this.current.fillColor,xn=this.current.patternFill,rn=(0,bt.getCurrentTransform)(Yt);let dn,An,an,fn;if((Jt.bitmap||Jt.data)&&Jt.count>1){const Pn=Jt.bitmap||Jt.data.buffer,_n=rn.slice(0,4);An=JSON.stringify(xn?_n:[_n,yn]),dn=this._cachedBitmapsMap.get(Pn),dn||(dn=new Map,this._cachedBitmapsMap.set(Pn,dn));const Mn=dn.get(An);if(Mn&&!xn){const On=Math.round(Math.min(rn[0],rn[2])+rn[4]),jn=Math.round(Math.min(rn[1],rn[3])+rn[5]);return{canvas:Mn,offsetX:On,offsetY:jn}}an=Mn}an||(fn=this.cachedCanvases.getCanvas("maskCanvas",tn,un),Bt(fn.context,Jt));let bn=wt.Util.transform(rn,[1/tn,0,0,-1/un,0,0]);bn=wt.Util.transform(bn,[1,0,0,1,0,-un]);const vn=wt.Util.applyTransform([0,0],bn),gn=wt.Util.applyTransform([tn,un],bn),on=wt.Util.normalizeRect([vn[0],vn[1],gn[0],gn[1]]),wn=Math.round(on[2]-on[0])||1,pn=Math.round(on[3]-on[1])||1,Cn=this.cachedCanvases.getCanvas("fillCanvas",wn,pn),Tn=Cn.context,Fn=Math.min(vn[0],gn[0]),En=Math.min(vn[1],gn[1]);Tn.translate(-Fn,-En),Tn.transform(...bn),an||(an=this._scaleImage(fn.canvas,(0,bt.getCurrentTransformInverse)(Tn)),an=an.img,dn&&xn&&dn.set(An,an)),Tn.imageSmoothingEnabled=sn((0,bt.getCurrentTransform)(Tn),Jt.interpolate),Rt(Tn,an,0,0,an.width,an.height,0,0,tn,un),Tn.globalCompositeOperation="source-in";const kn=wt.Util.transform((0,bt.getCurrentTransformInverse)(Tn),[1,0,0,1,-Fn,-En]);return Tn.fillStyle=xn?yn.getPattern(Yt,this,kn,At.PathType.FILL):yn,Tn.fillRect(0,0,tn,un),dn&&!xn&&(this.cachedCanvases.delete("fillCanvas"),dn.set(An,Cn.canvas)),{canvas:Cn.canvas,offsetX:Math.round(Fn),offsetY:Math.round(En)}}setLineWidth(Jt){Jt!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=Jt,this.ctx.lineWidth=Jt}setLineCap(Jt){this.ctx.lineCap=hn[Jt]}setLineJoin(Jt){this.ctx.lineJoin=Qt[Jt]}setMiterLimit(Jt){this.ctx.miterLimit=Jt}setDash(Jt,Yt){const tn=this.ctx;tn.setLineDash!==void 0&&(tn.setLineDash(Jt),tn.lineDashOffset=Yt)}setRenderingIntent(Jt){}setFlatness(Jt){}setGState(Jt){for(let Yt=0,tn=Jt.length;Yt<tn;Yt++){const un=Jt[Yt],yn=un[0],xn=un[1];switch(yn){case"LW":this.setLineWidth(xn);break;case"LC":this.setLineCap(xn);break;case"LJ":this.setLineJoin(xn);break;case"ML":this.setMiterLimit(xn);break;case"D":this.setDash(xn[0],xn[1]);break;case"RI":this.setRenderingIntent(xn);break;case"FL":this.setFlatness(xn);break;case"Font":this.setFont(xn[0],xn[1]);break;case"CA":this.current.strokeAlpha=un[1];break;case"ca":this.current.fillAlpha=un[1],this.ctx.globalAlpha=un[1];break;case"BM":this.ctx.globalCompositeOperation=xn;break;case"SMask":this.current.activeSMask=xn?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=xn}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Jt=this.inSMaskMode;this.current.activeSMask&&!Jt?this.beginSMaskMode():!this.current.activeSMask&&Jt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Jt=this.ctx.canvas.width,Yt=this.ctx.canvas.height,tn="smaskGroupAt"+this.groupLevel,un=this.cachedCanvases.getCanvas(tn,Jt,Yt);this.suspendedCtx=this.ctx,this.ctx=un.context;const yn=this.ctx;yn.setTransform(...(0,bt.getCurrentTransform)(this.suspendedCtx)),Ht(this.suspendedCtx,yn),_t(yn,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ht(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Jt){if(!this.current.activeSMask)return;Jt?(Jt[0]=Math.floor(Jt[0]),Jt[1]=Math.floor(Jt[1]),Jt[2]=Math.ceil(Jt[2]),Jt[3]=Math.ceil(Jt[3])):Jt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Yt=this.current.activeSMask,tn=this.suspendedCtx;Sn(tn,Yt,this.ctx,Jt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Ht(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Jt=this.current;this.stateStack.push(Jt),this.current=Jt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ht(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(Jt,Yt,tn,un,yn,xn){this.ctx.transform(Jt,Yt,tn,un,yn,xn),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(Jt,Yt,tn){const un=this.ctx,yn=this.current;let xn=yn.x,rn=yn.y,dn,An;const an=(0,bt.getCurrentTransform)(un),fn=an[0]===0&&an[3]===0||an[1]===0&&an[2]===0,bn=fn?tn.slice(0):null;for(let vn=0,gn=0,on=Jt.length;vn<on;vn++)switch(Jt[vn]|0){case wt.OPS.rectangle:xn=Yt[gn++],rn=Yt[gn++];const wn=Yt[gn++],pn=Yt[gn++],Cn=xn+wn,Tn=rn+pn;un.moveTo(xn,rn),wn===0||pn===0?un.lineTo(Cn,Tn):(un.lineTo(Cn,rn),un.lineTo(Cn,Tn),un.lineTo(xn,Tn)),fn||yn.updateRectMinMax(an,[xn,rn,Cn,Tn]),un.closePath();break;case wt.OPS.moveTo:xn=Yt[gn++],rn=Yt[gn++],un.moveTo(xn,rn),fn||yn.updatePathMinMax(an,xn,rn);break;case wt.OPS.lineTo:xn=Yt[gn++],rn=Yt[gn++],un.lineTo(xn,rn),fn||yn.updatePathMinMax(an,xn,rn);break;case wt.OPS.curveTo:dn=xn,An=rn,xn=Yt[gn+4],rn=Yt[gn+5],un.bezierCurveTo(Yt[gn],Yt[gn+1],Yt[gn+2],Yt[gn+3],xn,rn),yn.updateCurvePathMinMax(an,dn,An,Yt[gn],Yt[gn+1],Yt[gn+2],Yt[gn+3],xn,rn,bn),gn+=6;break;case wt.OPS.curveTo2:dn=xn,An=rn,un.bezierCurveTo(xn,rn,Yt[gn],Yt[gn+1],Yt[gn+2],Yt[gn+3]),yn.updateCurvePathMinMax(an,dn,An,xn,rn,Yt[gn],Yt[gn+1],Yt[gn+2],Yt[gn+3],bn),xn=Yt[gn+2],rn=Yt[gn+3],gn+=4;break;case wt.OPS.curveTo3:dn=xn,An=rn,xn=Yt[gn+2],rn=Yt[gn+3],un.bezierCurveTo(Yt[gn],Yt[gn+1],xn,rn,xn,rn),yn.updateCurvePathMinMax(an,dn,An,Yt[gn],Yt[gn+1],xn,rn,xn,rn,bn),gn+=4;break;case wt.OPS.closePath:un.closePath();break}fn&&yn.updateScalingPathMinMax(an,bn),yn.setCurrentPoint(xn,rn)}closePath(){this.ctx.closePath()}stroke(Jt){Jt=typeof Jt<"u"?Jt:!0;const Yt=this.ctx,tn=this.current.strokeColor;Yt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof tn=="object"&&(tn!=null&&tn.getPattern)?(Yt.save(),Yt.strokeStyle=tn.getPattern(Yt,this,(0,bt.getCurrentTransformInverse)(Yt),At.PathType.STROKE),this.rescaleAndStroke(!1),Yt.restore()):this.rescaleAndStroke(!0)),Jt&&this.consumePath(this.current.getClippedPathBoundingBox()),Yt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Jt){Jt=typeof Jt<"u"?Jt:!0;const Yt=this.ctx,tn=this.current.fillColor,un=this.current.patternFill;let yn=!1;un&&(Yt.save(),Yt.fillStyle=tn.getPattern(Yt,this,(0,bt.getCurrentTransformInverse)(Yt),At.PathType.FILL),yn=!0);const xn=this.current.getClippedPathBoundingBox();this.contentVisible&&xn!==null&&(this.pendingEOFill?(Yt.fill("evenodd"),this.pendingEOFill=!1):Yt.fill()),yn&&Yt.restore(),Jt&&this.consumePath(xn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=qt}eoClip(){this.pendingClip=nn}beginText(){this.current.textMatrix=wt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Jt=this.pendingTextPaths,Yt=this.ctx;if(Jt===void 0){Yt.beginPath();return}Yt.save(),Yt.beginPath();for(const tn of Jt)Yt.setTransform(...tn.transform),Yt.translate(tn.x,tn.y),tn.addToPath(Yt,tn.fontSize);Yt.restore(),Yt.clip(),Yt.beginPath(),delete this.pendingTextPaths}setCharSpacing(Jt){this.current.charSpacing=Jt}setWordSpacing(Jt){this.current.wordSpacing=Jt}setHScale(Jt){this.current.textHScale=Jt/100}setLeading(Jt){this.current.leading=-Jt}setFont(Jt,Yt){const tn=this.commonObjs.get(Jt),un=this.current;if(!tn)throw new Error(`Can't find font for ${Jt}`);if(un.fontMatrix=tn.fontMatrix||wt.FONT_IDENTITY_MATRIX,(un.fontMatrix[0]===0||un.fontMatrix[3]===0)&&(0,wt.warn)("Invalid font matrix for font "+Jt),Yt<0?(Yt=-Yt,un.fontDirection=-1):un.fontDirection=1,this.current.font=tn,this.current.fontSize=Yt,tn.isType3Font)return;const yn=tn.loadedName||"sans-serif";let xn="normal";tn.black?xn="900":tn.bold&&(xn="bold");const rn=tn.italic?"italic":"normal",dn=`"${yn}", ${tn.fallbackName}`;let An=Yt;Yt<Ft?An=Ft:Yt>vt&&(An=vt),this.current.fontSizeScale=Yt/An,this.ctx.font=`${rn} ${xn} ${An}px ${dn}`}setTextRenderingMode(Jt){this.current.textRenderingMode=Jt}setTextRise(Jt){this.current.textRise=Jt}moveText(Jt,Yt){this.current.x=this.current.lineX+=Jt,this.current.y=this.current.lineY+=Yt}setLeadingMoveText(Jt,Yt){this.setLeading(-Yt),this.moveText(Jt,Yt)}setTextMatrix(Jt,Yt,tn,un,yn,xn){this.current.textMatrix=[Jt,Yt,tn,un,yn,xn],this.current.textMatrixScale=Math.hypot(Jt,Yt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Jt,Yt,tn,un){const yn=this.ctx,xn=this.current,rn=xn.font,dn=xn.textRenderingMode,An=xn.fontSize/xn.fontSizeScale,an=dn&wt.TextRenderingMode.FILL_STROKE_MASK,fn=!!(dn&wt.TextRenderingMode.ADD_TO_PATH_FLAG),bn=xn.patternFill&&!rn.missingFile;let vn;(rn.disableFontFace||fn||bn)&&(vn=rn.getPathGenerator(this.commonObjs,Jt)),rn.disableFontFace||bn?(yn.save(),yn.translate(Yt,tn),yn.beginPath(),vn(yn,An),un&&yn.setTransform(...un),(an===wt.TextRenderingMode.FILL||an===wt.TextRenderingMode.FILL_STROKE)&&yn.fill(),(an===wt.TextRenderingMode.STROKE||an===wt.TextRenderingMode.FILL_STROKE)&&yn.stroke(),yn.restore()):((an===wt.TextRenderingMode.FILL||an===wt.TextRenderingMode.FILL_STROKE)&&yn.fillText(Jt,Yt,tn),(an===wt.TextRenderingMode.STROKE||an===wt.TextRenderingMode.FILL_STROKE)&&yn.strokeText(Jt,Yt,tn)),fn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,bt.getCurrentTransform)(yn),x:Yt,y:tn,fontSize:An,addToPath:vn})}get isFontSubpixelAAEnabled(){const{context:Jt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Jt.scale(1.5,1),Jt.fillText("I",0,10);const Yt=Jt.getImageData(0,0,10,10).data;let tn=!1;for(let un=3;un<Yt.length;un+=4)if(Yt[un]>0&&Yt[un]<255){tn=!0;break}return(0,wt.shadow)(this,"isFontSubpixelAAEnabled",tn)}showText(Jt){const Yt=this.current,tn=Yt.font;if(tn.isType3Font)return this.showType3Text(Jt);const un=Yt.fontSize;if(un===0)return;const yn=this.ctx,xn=Yt.fontSizeScale,rn=Yt.charSpacing,dn=Yt.wordSpacing,An=Yt.fontDirection,an=Yt.textHScale*An,fn=Jt.length,bn=tn.vertical,vn=bn?1:-1,gn=tn.defaultVMetrics,on=un*Yt.fontMatrix[0],wn=Yt.textRenderingMode===wt.TextRenderingMode.FILL&&!tn.disableFontFace&&!Yt.patternFill;yn.save(),yn.transform(...Yt.textMatrix),yn.translate(Yt.x,Yt.y+Yt.textRise),An>0?yn.scale(an,-1):yn.scale(an,1);let pn;if(Yt.patternFill){yn.save();const kn=Yt.fillColor.getPattern(yn,this,(0,bt.getCurrentTransformInverse)(yn),At.PathType.FILL);pn=(0,bt.getCurrentTransform)(yn),yn.restore(),yn.fillStyle=kn}let Cn=Yt.lineWidth;const Tn=Yt.textMatrixScale;if(Tn===0||Cn===0){const kn=Yt.textRenderingMode&wt.TextRenderingMode.FILL_STROKE_MASK;(kn===wt.TextRenderingMode.STROKE||kn===wt.TextRenderingMode.FILL_STROKE)&&(Cn=this.getSinglePixelWidth())}else Cn/=Tn;xn!==1&&(yn.scale(xn,xn),Cn/=xn),yn.lineWidth=Cn;let Fn=0,En;for(En=0;En<fn;++En){const kn=Jt[En];if(typeof kn=="number"){Fn+=vn*kn*un/1e3;continue}let Pn=!1;const _n=(kn.isSpace?dn:0)+rn,Mn=kn.fontChar,On=kn.accent;let jn,qn,Gn=kn.width;if(bn){const er=kn.vmetric||gn,cr=-(kn.vmetric?er[1]:Gn*.5)*on,rr=er[2]*on;Gn=er?-er[0]:Gn,jn=cr/xn,qn=(Fn+rr)/xn}else jn=Fn/xn,qn=0;if(tn.remeasure&&Gn>0){const er=yn.measureText(Mn).width*1e3/un*xn;if(Gn<er&&this.isFontSubpixelAAEnabled){const cr=Gn/er;Pn=!0,yn.save(),yn.scale(cr,1),jn/=cr}else Gn!==er&&(jn+=(Gn-er)/2e3*un/xn)}if(this.contentVisible&&(kn.isInFont||tn.missingFile)){if(wn&&!On)yn.fillText(Mn,jn,qn);else if(this.paintChar(Mn,jn,qn,pn),On){const er=jn+un*On.offset.x/xn,cr=qn-un*On.offset.y/xn;this.paintChar(On.fontChar,er,cr,pn)}}let Yn;bn?Yn=Gn*on-_n*An:Yn=Gn*on+_n*An,Fn+=Yn,Pn&&yn.restore()}bn?Yt.y-=Fn:Yt.x+=Fn*an,yn.restore(),this.compose()}showType3Text(Jt){const Yt=this.ctx,tn=this.current,un=tn.font,yn=tn.fontSize,xn=tn.fontDirection,rn=un.vertical?1:-1,dn=tn.charSpacing,An=tn.wordSpacing,an=tn.textHScale*xn,fn=tn.fontMatrix||wt.FONT_IDENTITY_MATRIX,bn=Jt.length,vn=tn.textRenderingMode===wt.TextRenderingMode.INVISIBLE;let gn,on,wn,pn;if(!(vn||yn===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Yt.save(),Yt.transform(...tn.textMatrix),Yt.translate(tn.x,tn.y),Yt.scale(an,xn),gn=0;gn<bn;++gn){if(on=Jt[gn],typeof on=="number"){pn=rn*on*yn/1e3,this.ctx.translate(pn,0),tn.x+=pn*an;continue}const Cn=(on.isSpace?An:0)+dn,Tn=un.charProcOperatorList[on.operatorListId];if(!Tn){(0,wt.warn)(`Type3 character "${on.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=on,this.save(),Yt.scale(yn,yn),Yt.transform(...fn),this.executeOperatorList(Tn),this.restore()),wn=wt.Util.applyTransform([on.width,0],fn)[0]*yn+Cn,Yt.translate(wn,0),tn.x+=wn*an}Yt.restore(),this.processingType3=null}}setCharWidth(Jt,Yt){}setCharWidthAndBounds(Jt,Yt,tn,un,yn,xn){this.ctx.rect(tn,un,yn-tn,xn-un),this.ctx.clip(),this.endPath()}getColorN_Pattern(Jt){let Yt;if(Jt[0]==="TilingPattern"){const tn=Jt[1],un=this.baseTransform||(0,bt.getCurrentTransform)(this.ctx),yn={createCanvasGraphics:xn=>new ln(xn,this.commonObjs,this.objs,this.canvasFactory)};Yt=new At.TilingPattern(Jt,tn,this.ctx,yn,un)}else Yt=this._getPattern(Jt[1],Jt[2]);return Yt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Jt,Yt,tn){var yn;const un=((yn=this.selectColor)==null?void 0:yn.call(this,Jt,Yt,tn))||wt.Util.makeHexColor(Jt,Yt,tn);this.ctx.strokeStyle=un,this.current.strokeColor=un}setFillRGBColor(Jt,Yt,tn){var yn;const un=((yn=this.selectColor)==null?void 0:yn.call(this,Jt,Yt,tn))||wt.Util.makeHexColor(Jt,Yt,tn);this.ctx.fillStyle=un,this.current.fillColor=un,this.current.patternFill=!1}_getPattern(Jt,Yt=null){let tn;return this.cachedPatterns.has(Jt)?tn=this.cachedPatterns.get(Jt):(tn=(0,At.getShadingPattern)(this.objs.get(Jt)),this.cachedPatterns.set(Jt,tn)),Yt&&(tn.matrix=Yt),tn}shadingFill(Jt){if(!this.contentVisible)return;const Yt=this.ctx;this.save();const tn=this._getPattern(Jt);Yt.fillStyle=tn.getPattern(Yt,this,(0,bt.getCurrentTransformInverse)(Yt),At.PathType.SHADING);const un=(0,bt.getCurrentTransformInverse)(Yt);if(un){const yn=Yt.canvas,xn=yn.width,rn=yn.height,dn=wt.Util.applyTransform([0,0],un),An=wt.Util.applyTransform([0,rn],un),an=wt.Util.applyTransform([xn,0],un),fn=wt.Util.applyTransform([xn,rn],un),bn=Math.min(dn[0],An[0],an[0],fn[0]),vn=Math.min(dn[1],An[1],an[1],fn[1]),gn=Math.max(dn[0],An[0],an[0],fn[0]),on=Math.max(dn[1],An[1],an[1],fn[1]);this.ctx.fillRect(bn,vn,gn-bn,on-vn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,wt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,wt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Jt,Yt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Jt)&&Jt.length===6&&this.transform(...Jt),this.baseTransform=(0,bt.getCurrentTransform)(this.ctx),Yt)){const tn=Yt[2]-Yt[0],un=Yt[3]-Yt[1];this.ctx.rect(Yt[0],Yt[1],tn,un),this.current.updateRectMinMax((0,bt.getCurrentTransform)(this.ctx),Yt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Jt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Yt=this.ctx;Jt.isolated||(0,wt.info)("TODO: Support non-isolated groups."),Jt.knockout&&(0,wt.warn)("Knockout groups not supported.");const tn=(0,bt.getCurrentTransform)(Yt);if(Jt.matrix&&Yt.transform(...Jt.matrix),!Jt.bbox)throw new Error("Bounding box is required.");let un=wt.Util.getAxialAlignedBoundingBox(Jt.bbox,(0,bt.getCurrentTransform)(Yt));const yn=[0,0,Yt.canvas.width,Yt.canvas.height];un=wt.Util.intersect(un,yn)||[0,0,0,0];const xn=Math.floor(un[0]),rn=Math.floor(un[1]);let dn=Math.max(Math.ceil(un[2])-xn,1),An=Math.max(Math.ceil(un[3])-rn,1),an=1,fn=1;dn>Et&&(an=dn/Et,dn=Et),An>Et&&(fn=An/Et,An=Et),this.current.startNewPathAndClipBox([0,0,dn,An]);let bn="groupAt"+this.groupLevel;Jt.smask&&(bn+="_smask_"+this.smaskCounter++%2);const vn=this.cachedCanvases.getCanvas(bn,dn,An),gn=vn.context;gn.scale(1/an,1/fn),gn.translate(-xn,-rn),gn.transform(...tn),Jt.smask?this.smaskStack.push({canvas:vn.canvas,context:gn,offsetX:xn,offsetY:rn,scaleX:an,scaleY:fn,subtype:Jt.smask.subtype,backdrop:Jt.smask.backdrop,transferMap:Jt.smask.transferMap||null,startTransformInverse:null}):(Yt.setTransform(1,0,0,1,0,0),Yt.translate(xn,rn),Yt.scale(an,fn),Yt.save()),Ht(Yt,gn),this.ctx=gn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Yt),this.groupLevel++}endGroup(Jt){if(!this.contentVisible)return;this.groupLevel--;const Yt=this.ctx,tn=this.groupStack.pop();if(this.ctx=tn,this.ctx.imageSmoothingEnabled=!1,Jt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const un=(0,bt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...un);const yn=wt.Util.getAxialAlignedBoundingBox([0,0,Yt.canvas.width,Yt.canvas.height],un);this.ctx.drawImage(Yt.canvas,0,0),this.ctx.restore(),this.compose(yn)}}beginAnnotation(Jt,Yt,tn,un,yn){if(Dn(this,zt,Vy).call(this),Ot(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Yt)&&Yt.length===4){const xn=Yt[2]-Yt[0],rn=Yt[3]-Yt[1];if(yn&&this.annotationCanvasMap){tn=tn.slice(),tn[4]-=Yt[0],tn[5]-=Yt[1],Yt=Yt.slice(),Yt[0]=Yt[1]=0,Yt[2]=xn,Yt[3]=rn;const[dn,An]=wt.Util.singularValueDecompose2dScale((0,bt.getCurrentTransform)(this.ctx)),{viewportScale:an}=this,fn=Math.ceil(xn*this.outputScaleX*an),bn=Math.ceil(rn*this.outputScaleY*an);this.annotationCanvas=this.canvasFactory.create(fn,bn);const{canvas:vn,context:gn}=this.annotationCanvas;this.annotationCanvasMap.set(Jt,vn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=gn,this.ctx.setTransform(dn,0,0,-An,0,rn*An),Ot(this.ctx,this.foregroundColor)}else Ot(this.ctx,this.foregroundColor),this.ctx.rect(Yt[0],Yt[1],xn,rn),this.ctx.clip(),this.endPath()}this.current=new Lt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...tn),this.transform(...un)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Jt){if(!this.contentVisible)return;const Yt=Jt.count;Jt=this.getObject(Jt.data,Jt),Jt.count=Yt;const tn=this.ctx,un=this.processingType3;if(un&&(un.compiled===void 0&&(un.compiled=Nt(Jt)),un.compiled)){un.compiled(tn);return}const yn=this._createMaskCanvas(Jt),xn=yn.canvas;tn.save(),tn.setTransform(1,0,0,1,0,0),tn.drawImage(xn,yn.offsetX,yn.offsetY),tn.restore(),this.compose()}paintImageMaskXObjectRepeat(Jt,Yt,tn=0,un=0,yn,xn){if(!this.contentVisible)return;Jt=this.getObject(Jt.data,Jt);const rn=this.ctx;rn.save();const dn=(0,bt.getCurrentTransform)(rn);rn.transform(Yt,tn,un,yn,0,0);const An=this._createMaskCanvas(Jt);rn.setTransform(1,0,0,1,0,0);for(let an=0,fn=xn.length;an<fn;an+=2){const bn=wt.Util.transform(dn,[Yt,tn,un,yn,xn[an],xn[an+1]]),[vn,gn]=wt.Util.applyTransform([0,0],bn);rn.drawImage(An.canvas,vn,gn)}rn.restore(),this.compose()}paintImageMaskXObjectGroup(Jt){if(!this.contentVisible)return;const Yt=this.ctx,tn=this.current.fillColor,un=this.current.patternFill;for(const yn of Jt){const{data:xn,width:rn,height:dn,transform:An}=yn,an=this.cachedCanvases.getCanvas("maskCanvas",rn,dn),fn=an.context;fn.save();const bn=this.getObject(xn,yn);Bt(fn,bn),fn.globalCompositeOperation="source-in",fn.fillStyle=un?tn.getPattern(fn,this,(0,bt.getCurrentTransformInverse)(Yt),At.PathType.FILL):tn,fn.fillRect(0,0,rn,dn),fn.restore(),Yt.save(),Yt.transform(...An),Yt.scale(1,-1),Rt(Yt,an.canvas,0,0,rn,dn,0,-1,1,1),Yt.restore()}this.compose()}paintImageXObject(Jt){if(!this.contentVisible)return;const Yt=this.getObject(Jt);if(!Yt){(0,wt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Yt)}paintImageXObjectRepeat(Jt,Yt,tn,un){if(!this.contentVisible)return;const yn=this.getObject(Jt);if(!yn){(0,wt.warn)("Dependent image isn't ready yet");return}const xn=yn.width,rn=yn.height,dn=[];for(let An=0,an=un.length;An<an;An+=2)dn.push({transform:[Yt,0,0,tn,un[An],un[An+1]],x:0,y:0,w:xn,h:rn});this.paintInlineImageXObjectGroup(yn,dn)}paintInlineImageXObject(Jt){if(!this.contentVisible)return;const Yt=Jt.width,tn=Jt.height,un=this.ctx;this.save(),un.scale(1/Yt,-1/tn);let yn;if(typeof HTMLElement=="function"&&Jt instanceof HTMLElement||!Jt.data)yn=Jt;else{const An=this.cachedCanvases.getCanvas("inlineImage",Yt,tn),an=An.context;kt(an,Jt,this.current.transferMaps),yn=An.canvas}const xn=this._scaleImage(yn,(0,bt.getCurrentTransformInverse)(un));un.imageSmoothingEnabled=sn((0,bt.getCurrentTransform)(un),Jt.interpolate);const[rn,dn]=Rt(un,xn.img,0,0,xn.paintWidth,xn.paintHeight,0,-tn,Yt,tn);if(this.imageLayer){const[An,an]=wt.Util.applyTransform([0,-tn],(0,bt.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:Jt,left:An,top:an,width:rn,height:dn})}this.compose(),this.restore()}paintInlineImageXObjectGroup(Jt,Yt){if(!this.contentVisible)return;const tn=this.ctx,un=Jt.width,yn=Jt.height,xn=this.cachedCanvases.getCanvas("inlineImage",un,yn),rn=xn.context;kt(rn,Jt,this.current.transferMaps);for(const dn of Yt){if(tn.save(),tn.transform(...dn.transform),tn.scale(1,-1),Rt(tn,xn.canvas,dn.x,dn.y,dn.w,dn.h,0,-1,1,1),this.imageLayer){const[An,an]=wt.Util.applyTransform([dn.x,dn.y],(0,bt.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:Jt,left:An,top:an,width:un,height:yn})}tn.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Jt){}markPointProps(Jt,Yt){}beginMarkedContent(Jt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Jt,Yt){Jt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Yt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Jt){const Yt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Jt);const tn=this.ctx;this.pendingClip&&(Yt||(this.pendingClip===nn?tn.clip("evenodd"):tn.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),tn.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Jt=(0,bt.getCurrentTransform)(this.ctx);if(Jt[1]===0&&Jt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Jt[0]),Math.abs(Jt[3]));else{const Yt=Math.abs(Jt[0]*Jt[3]-Jt[2]*Jt[1]),tn=Math.hypot(Jt[0],Jt[2]),un=Math.hypot(Jt[1],Jt[3]);this._cachedGetSinglePixelWidth=Math.max(tn,un)/Yt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:Jt}=this.current,Yt=(0,bt.getCurrentTransform)(this.ctx);let tn,un;if(Yt[1]===0&&Yt[2]===0){const yn=Math.abs(Yt[0]),xn=Math.abs(Yt[3]);if(Jt===0)tn=1/yn,un=1/xn;else{const rn=yn*Jt,dn=xn*Jt;tn=rn<1?1/rn:1,un=dn<1?1/dn:1}}else{const yn=Math.abs(Yt[0]*Yt[3]-Yt[2]*Yt[1]),xn=Math.hypot(Yt[0],Yt[1]),rn=Math.hypot(Yt[2],Yt[3]);if(Jt===0)tn=rn/yn,un=xn/yn;else{const dn=Jt*yn;tn=rn>dn?rn/dn:1,un=xn>dn?xn/dn:1}}this._cachedScaleForStroking=[tn,un]}return this._cachedScaleForStroking}rescaleAndStroke(Jt){const{ctx:Yt}=this,{lineWidth:tn}=this.current,[un,yn]=this.getScaleForStroking();if(Yt.lineWidth=tn||1,un===1&&yn===1){Yt.stroke();return}let xn,rn,dn;Jt&&(xn=(0,bt.getCurrentTransform)(Yt),rn=Yt.getLineDash().slice(),dn=Yt.lineDashOffset),Yt.scale(un,yn);const An=Math.max(un,yn);Yt.setLineDash(Yt.getLineDash().map(an=>an/An)),Yt.lineDashOffset/=An,Yt.stroke(),Jt&&(Yt.setTransform(...xn),Yt.setLineDash(rn),Yt.lineDashOffset=dn)}isContentVisible(){for(let Jt=this.markedContentStack.length-1;Jt>=0;Jt--)if(!this.markedContentStack[Jt].visible)return!1;return!0}};zt=new WeakSet,Vy=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let Ut=ln;$.CanvasGraphics=Ut;for(const Kt in wt.OPS)Ut.prototype[Kt]!==void 0&&(Ut.prototype[wt.OPS[Kt]]=Ut.prototype[Kt])},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=$t;var bt=ht(1),wt=ht(8),At=ht(3);const Ct={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=Ct;function St(Rt,Nt){if(!Nt||At.isNodeJS)return;const Lt=Nt[2]-Nt[0],kt=Nt[3]-Nt[1],Bt=new Path2D;Bt.rect(Nt[0],Nt[1],Lt,kt),Rt.clip(Bt)}class Ft{constructor(){this.constructor===Ft&&(0,bt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,bt.unreachable)("Abstract method `getPattern` called.")}}class vt extends Ft{constructor(Nt){super(),this._type=Nt[1],this._bbox=Nt[2],this._colorStops=Nt[3],this._p0=Nt[4],this._p1=Nt[5],this._r0=Nt[6],this._r1=Nt[7],this.matrix=null}_createGradient(Nt){let Lt;this._type==="axial"?Lt=Nt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Lt=Nt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const kt of this._colorStops)Lt.addColorStop(kt[0],kt[1]);return Lt}getPattern(Nt,Lt,kt,Bt){let Ht;if(Bt===Ct.STROKE||Bt===Ct.FILL){const Ot=Lt.current.getClippedPathBoundingBox(Bt,(0,wt.getCurrentTransform)(Nt))||[0,0,0,0],Vt=Math.ceil(Ot[2]-Ot[0])||1,Gt=Math.ceil(Ot[3]-Ot[1])||1,Wt=Lt.cachedCanvases.getCanvas("pattern",Vt,Gt,!0),en=Wt.context;en.clearRect(0,0,en.canvas.width,en.canvas.height),en.beginPath(),en.rect(0,0,en.canvas.width,en.canvas.height),en.translate(-Ot[0],-Ot[1]),kt=bt.Util.transform(kt,[1,0,0,1,Ot[0],Ot[1]]),en.transform(...Lt.baseTransform),this.matrix&&en.transform(...this.matrix),St(en,this._bbox),en.fillStyle=this._createGradient(en),en.fill(),Ht=Nt.createPattern(Wt.canvas,"no-repeat");const Sn=new DOMMatrix(kt);try{Ht.setTransform(Sn)}catch(sn){(0,bt.warn)(`RadialAxialShadingPattern.getPattern: "${sn==null?void 0:sn.message}".`)}}else St(Nt,this._bbox),Ht=this._createGradient(Nt);return Ht}}function Et(Rt,Nt,Lt,kt,Bt,Ht,Ot,Vt){const Gt=Nt.coords,Wt=Nt.colors,en=Rt.data,Sn=Rt.width*4;let sn;Gt[Lt+1]>Gt[kt+1]&&(sn=Lt,Lt=kt,kt=sn,sn=Ht,Ht=Ot,Ot=sn),Gt[kt+1]>Gt[Bt+1]&&(sn=kt,kt=Bt,Bt=sn,sn=Ot,Ot=Vt,Vt=sn),Gt[Lt+1]>Gt[kt+1]&&(sn=Lt,Lt=kt,kt=sn,sn=Ht,Ht=Ot,Ot=sn);const hn=(Gt[Lt]+Nt.offsetX)*Nt.scaleX,Qt=(Gt[Lt+1]+Nt.offsetY)*Nt.scaleY,qt=(Gt[kt]+Nt.offsetX)*Nt.scaleX,nn=(Gt[kt+1]+Nt.offsetY)*Nt.scaleY,Ut=(Gt[Bt]+Nt.offsetX)*Nt.scaleX,zt=(Gt[Bt+1]+Nt.offsetY)*Nt.scaleY;if(Qt>=zt)return;const cn=Wt[Ht],ln=Wt[Ht+1],Kt=Wt[Ht+2],Jt=Wt[Ot],Yt=Wt[Ot+1],tn=Wt[Ot+2],un=Wt[Vt],yn=Wt[Vt+1],xn=Wt[Vt+2],rn=Math.round(Qt),dn=Math.round(zt);let An,an,fn,bn,vn,gn,on,wn;for(let pn=rn;pn<=dn;pn++){if(pn<nn){let kn;pn<Qt?kn=0:kn=(Qt-pn)/(Qt-nn),An=hn-(hn-qt)*kn,an=cn-(cn-Jt)*kn,fn=ln-(ln-Yt)*kn,bn=Kt-(Kt-tn)*kn}else{let kn;pn>zt?kn=1:nn===zt?kn=0:kn=(nn-pn)/(nn-zt),An=qt-(qt-Ut)*kn,an=Jt-(Jt-un)*kn,fn=Yt-(Yt-yn)*kn,bn=tn-(tn-xn)*kn}let Cn;pn<Qt?Cn=0:pn>zt?Cn=1:Cn=(Qt-pn)/(Qt-zt),vn=hn-(hn-Ut)*Cn,gn=cn-(cn-un)*Cn,on=ln-(ln-yn)*Cn,wn=Kt-(Kt-xn)*Cn;const Tn=Math.round(Math.min(An,vn)),Fn=Math.round(Math.max(An,vn));let En=Sn*pn+Tn*4;for(let kn=Tn;kn<=Fn;kn++)Cn=(An-kn)/(An-vn),Cn<0?Cn=0:Cn>1&&(Cn=1),en[En++]=an-(an-gn)*Cn|0,en[En++]=fn-(fn-on)*Cn|0,en[En++]=bn-(bn-wn)*Cn|0,en[En++]=255}}function Mt(Rt,Nt,Lt){const kt=Nt.coords,Bt=Nt.colors;let Ht,Ot;switch(Nt.type){case"lattice":const Vt=Nt.verticesPerRow,Gt=Math.floor(kt.length/Vt)-1,Wt=Vt-1;for(Ht=0;Ht<Gt;Ht++){let en=Ht*Vt;for(let Sn=0;Sn<Wt;Sn++,en++)Et(Rt,Lt,kt[en],kt[en+1],kt[en+Vt],Bt[en],Bt[en+1],Bt[en+Vt]),Et(Rt,Lt,kt[en+Vt+1],kt[en+1],kt[en+Vt],Bt[en+Vt+1],Bt[en+1],Bt[en+Vt])}break;case"triangles":for(Ht=0,Ot=kt.length;Ht<Ot;Ht+=3)Et(Rt,Lt,kt[Ht],kt[Ht+1],kt[Ht+2],Bt[Ht],Bt[Ht+1],Bt[Ht+2]);break;default:throw new Error("illegal figure")}}class Pt extends Ft{constructor(Nt){super(),this._coords=Nt[2],this._colors=Nt[3],this._figures=Nt[4],this._bounds=Nt[5],this._bbox=Nt[7],this._background=Nt[8],this.matrix=null}_createMeshCanvas(Nt,Lt,kt){const Vt=Math.floor(this._bounds[0]),Gt=Math.floor(this._bounds[1]),Wt=Math.ceil(this._bounds[2])-Vt,en=Math.ceil(this._bounds[3])-Gt,Sn=Math.min(Math.ceil(Math.abs(Wt*Nt[0]*1.1)),3e3),sn=Math.min(Math.ceil(Math.abs(en*Nt[1]*1.1)),3e3),hn=Wt/Sn,Qt=en/sn,qt={coords:this._coords,colors:this._colors,offsetX:-Vt,offsetY:-Gt,scaleX:1/hn,scaleY:1/Qt},nn=Sn+2*2,Ut=sn+2*2,zt=kt.getCanvas("mesh",nn,Ut,!1),cn=zt.context,ln=cn.createImageData(Sn,sn);if(Lt){const Jt=ln.data;for(let Yt=0,tn=Jt.length;Yt<tn;Yt+=4)Jt[Yt]=Lt[0],Jt[Yt+1]=Lt[1],Jt[Yt+2]=Lt[2],Jt[Yt+3]=255}for(const Jt of this._figures)Mt(ln,Jt,qt);return cn.putImageData(ln,2,2),{canvas:zt.canvas,offsetX:Vt-2*hn,offsetY:Gt-2*Qt,scaleX:hn,scaleY:Qt}}getPattern(Nt,Lt,kt,Bt){St(Nt,this._bbox);let Ht;if(Bt===Ct.SHADING)Ht=bt.Util.singularValueDecompose2dScale((0,wt.getCurrentTransform)(Nt));else if(Ht=bt.Util.singularValueDecompose2dScale(Lt.baseTransform),this.matrix){const Vt=bt.Util.singularValueDecompose2dScale(this.matrix);Ht=[Ht[0]*Vt[0],Ht[1]*Vt[1]]}const Ot=this._createMeshCanvas(Ht,Bt===Ct.SHADING?null:this._background,Lt.cachedCanvases);return Bt!==Ct.SHADING&&(Nt.setTransform(...Lt.baseTransform),this.matrix&&Nt.transform(...this.matrix)),Nt.translate(Ot.offsetX,Ot.offsetY),Nt.scale(Ot.scaleX,Ot.scaleY),Nt.createPattern(Ot.canvas,"no-repeat")}}class xt extends Ft{getPattern(){return"hotpink"}}function $t(Rt){switch(Rt[0]){case"RadialAxial":return new vt(Rt);case"Mesh":return new Pt(Rt);case"Dummy":return new xt}throw new Error(`Unknown IR type: ${Rt[0]}`)}const _t={COLORED:1,UNCOLORED:2};class jt{static get MAX_PATTERN_SIZE(){return(0,bt.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(Nt,Lt,kt,Bt,Ht){this.operatorList=Nt[2],this.matrix=Nt[3]||[1,0,0,1,0,0],this.bbox=Nt[4],this.xstep=Nt[5],this.ystep=Nt[6],this.paintType=Nt[7],this.tilingType=Nt[8],this.color=Lt,this.ctx=kt,this.canvasGraphicsFactory=Bt,this.baseTransform=Ht}createPatternCanvas(Nt){const Lt=this.operatorList,kt=this.bbox,Bt=this.xstep,Ht=this.ystep,Ot=this.paintType,Vt=this.tilingType,Gt=this.color,Wt=this.canvasGraphicsFactory;(0,bt.info)("TilingType: "+Vt);const en=kt[0],Sn=kt[1],sn=kt[2],hn=kt[3],Qt=bt.Util.singularValueDecompose2dScale(this.matrix),qt=bt.Util.singularValueDecompose2dScale(this.baseTransform),nn=[Qt[0]*qt[0],Qt[1]*qt[1]],Ut=this.getSizeAndScale(Bt,this.ctx.canvas.width,nn[0]),zt=this.getSizeAndScale(Ht,this.ctx.canvas.height,nn[1]),cn=Nt.cachedCanvases.getCanvas("pattern",Ut.size,zt.size,!0),ln=cn.context,Kt=Wt.createCanvasGraphics(ln);Kt.groupLevel=Nt.groupLevel,this.setFillAndStrokeStyleToContext(Kt,Ot,Gt);let Jt=en,Yt=Sn,tn=sn,un=hn;return en<0&&(Jt=0,tn+=Math.abs(en)),Sn<0&&(Yt=0,un+=Math.abs(Sn)),ln.translate(-(Ut.scale*Jt),-(zt.scale*Yt)),Kt.transform(Ut.scale,0,0,zt.scale,0,0),ln.save(),this.clipBbox(Kt,Jt,Yt,tn,un),Kt.baseTransform=(0,wt.getCurrentTransform)(Kt.ctx),Kt.executeOperatorList(Lt),Kt.endDrawing(),{canvas:cn.canvas,scaleX:Ut.scale,scaleY:zt.scale,offsetX:Jt,offsetY:Yt}}getSizeAndScale(Nt,Lt,kt){Nt=Math.abs(Nt);const Bt=Math.max(jt.MAX_PATTERN_SIZE,Lt);let Ht=Math.ceil(Nt*kt);return Ht>=Bt?Ht=Bt:kt=Ht/Nt,{scale:kt,size:Ht}}clipBbox(Nt,Lt,kt,Bt,Ht){const Ot=Bt-Lt,Vt=Ht-kt;Nt.ctx.rect(Lt,kt,Ot,Vt),Nt.current.updateRectMinMax((0,wt.getCurrentTransform)(Nt.ctx),[Lt,kt,Bt,Ht]),Nt.clip(),Nt.endPath()}setFillAndStrokeStyleToContext(Nt,Lt,kt){const Bt=Nt.ctx,Ht=Nt.current;switch(Lt){case _t.COLORED:const Ot=this.ctx;Bt.fillStyle=Ot.fillStyle,Bt.strokeStyle=Ot.strokeStyle,Ht.fillColor=Ot.fillStyle,Ht.strokeColor=Ot.strokeStyle;break;case _t.UNCOLORED:const Vt=bt.Util.makeHexColor(kt[0],kt[1],kt[2]);Bt.fillStyle=Vt,Bt.strokeStyle=Vt,Ht.fillColor=Vt,Ht.strokeColor=Vt;break;default:throw new bt.FormatError(`Unsupported paint type: ${Lt}`)}}getPattern(Nt,Lt,kt,Bt){let Ht=kt;Bt!==Ct.SHADING&&(Ht=bt.Util.transform(Ht,Lt.baseTransform),this.matrix&&(Ht=bt.Util.transform(Ht,this.matrix)));const Ot=this.createPatternCanvas(Lt);let Vt=new DOMMatrix(Ht);Vt=Vt.translate(Ot.offsetX,Ot.offsetY),Vt=Vt.scale(1/Ot.scaleX,1/Ot.scaleY);const Gt=Nt.createPattern(Ot.canvas,"repeat");try{Gt.setTransform(Vt)}catch(Wt){(0,bt.warn)(`TilingPattern.getPattern: "${Wt==null?void 0:Wt.message}".`)}return Gt}}$.TilingPattern=jt},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.applyMaskImageData=wt;var bt=ht(1);function wt({src:At,srcPos:Ct=0,dest:St,destPos:Ft=0,width:vt,height:Et,inverseDecode:Mt=!1}){const Pt=bt.FeatureTest.isLittleEndian?4278190080:255,[xt,$t]=Mt?[0,Pt]:[Pt,0],_t=vt>>3,jt=vt&7,Rt=At.length;St=new Uint32Array(St.buffer);for(let Nt=0;Nt<Et;Nt++){for(const kt=Ct+_t;Ct<kt;Ct++){const Bt=Ct<Rt?At[Ct]:255;St[Ft++]=Bt&128?$t:xt,St[Ft++]=Bt&64?$t:xt,St[Ft++]=Bt&32?$t:xt,St[Ft++]=Bt&16?$t:xt,St[Ft++]=Bt&8?$t:xt,St[Ft++]=Bt&4?$t:xt,St[Ft++]=Bt&2?$t:xt,St[Ft++]=Bt&1?$t:xt}if(jt===0)continue;const Lt=Ct<Rt?At[Ct++]:255;for(let kt=0;kt<jt;kt++)St[Ft++]=Lt&1<<7-kt?$t:xt}return{srcPos:Ct,destPos:Ft}}},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const ht=Object.create(null);$.GlobalWorkerOptions=ht,ht.workerPort=ht.workerPort===void 0?null:ht.workerPort,ht.workerSrc=ht.workerSrc===void 0?"":ht.workerSrc},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var bt=ht(1);const wt={UNKNOWN:0,DATA:1,ERROR:2},At={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ct(Ft){switch(Ft instanceof Error||typeof Ft=="object"&&Ft!==null||(0,bt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Ft.name){case"AbortException":return new bt.AbortException(Ft.message);case"MissingPDFException":return new bt.MissingPDFException(Ft.message);case"PasswordException":return new bt.PasswordException(Ft.message,Ft.code);case"UnexpectedResponseException":return new bt.UnexpectedResponseException(Ft.message,Ft.status);case"UnknownErrorException":return new bt.UnknownErrorException(Ft.message,Ft.details);default:return new bt.UnknownErrorException(Ft.message,Ft.toString())}}class St{constructor(vt,Et,Mt){this.sourceName=vt,this.targetName=Et,this.comObj=Mt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Pt=>{const xt=Pt.data;if(xt.targetName!==this.sourceName)return;if(xt.stream){this._processStreamMessage(xt);return}if(xt.callback){const _t=xt.callbackId,jt=this.callbackCapabilities[_t];if(!jt)throw new Error(`Cannot resolve callback ${_t}`);if(delete this.callbackCapabilities[_t],xt.callback===wt.DATA)jt.resolve(xt.data);else if(xt.callback===wt.ERROR)jt.reject(Ct(xt.reason));else throw new Error("Unexpected callback case");return}const $t=this.actionHandler[xt.action];if(!$t)throw new Error(`Unknown action from worker: ${xt.action}`);if(xt.callbackId){const _t=this.sourceName,jt=xt.sourceName;new Promise(function(Rt){Rt($t(xt.data))}).then(function(Rt){Mt.postMessage({sourceName:_t,targetName:jt,callback:wt.DATA,callbackId:xt.callbackId,data:Rt})},function(Rt){Mt.postMessage({sourceName:_t,targetName:jt,callback:wt.ERROR,callbackId:xt.callbackId,reason:Ct(Rt)})});return}if(xt.streamId){this._createStreamSink(xt);return}$t(xt.data)},Mt.addEventListener("message",this._onComObjOnMessage)}on(vt,Et){const Mt=this.actionHandler;if(Mt[vt])throw new Error(`There is already an actionName called "${vt}"`);Mt[vt]=Et}send(vt,Et,Mt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:vt,data:Et},Mt)}sendWithPromise(vt,Et,Mt){const Pt=this.callbackId++,xt=(0,bt.createPromiseCapability)();this.callbackCapabilities[Pt]=xt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:vt,callbackId:Pt,data:Et},Mt)}catch($t){xt.reject($t)}return xt.promise}sendWithStream(vt,Et,Mt,Pt){const xt=this.streamId++,$t=this.sourceName,_t=this.targetName,jt=this.comObj;return new ReadableStream({start:Rt=>{const Nt=(0,bt.createPromiseCapability)();return this.streamControllers[xt]={controller:Rt,startCall:Nt,pullCall:null,cancelCall:null,isClosed:!1},jt.postMessage({sourceName:$t,targetName:_t,action:vt,streamId:xt,data:Et,desiredSize:Rt.desiredSize},Pt),Nt.promise},pull:Rt=>{const Nt=(0,bt.createPromiseCapability)();return this.streamControllers[xt].pullCall=Nt,jt.postMessage({sourceName:$t,targetName:_t,stream:At.PULL,streamId:xt,desiredSize:Rt.desiredSize}),Nt.promise},cancel:Rt=>{(0,bt.assert)(Rt instanceof Error,"cancel must have a valid reason");const Nt=(0,bt.createPromiseCapability)();return this.streamControllers[xt].cancelCall=Nt,this.streamControllers[xt].isClosed=!0,jt.postMessage({sourceName:$t,targetName:_t,stream:At.CANCEL,streamId:xt,reason:Ct(Rt)}),Nt.promise}},Mt)}_createStreamSink(vt){const Et=vt.streamId,Mt=this.sourceName,Pt=vt.sourceName,xt=this.comObj,$t=this,_t=this.actionHandler[vt.action],jt={enqueue(Rt,Nt=1,Lt){if(this.isCancelled)return;const kt=this.desiredSize;this.desiredSize-=Nt,kt>0&&this.desiredSize<=0&&(this.sinkCapability=(0,bt.createPromiseCapability)(),this.ready=this.sinkCapability.promise),xt.postMessage({sourceName:Mt,targetName:Pt,stream:At.ENQUEUE,streamId:Et,chunk:Rt},Lt)},close(){this.isCancelled||(this.isCancelled=!0,xt.postMessage({sourceName:Mt,targetName:Pt,stream:At.CLOSE,streamId:Et}),delete $t.streamSinks[Et])},error(Rt){(0,bt.assert)(Rt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,xt.postMessage({sourceName:Mt,targetName:Pt,stream:At.ERROR,streamId:Et,reason:Ct(Rt)}))},sinkCapability:(0,bt.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:vt.desiredSize,ready:null};jt.sinkCapability.resolve(),jt.ready=jt.sinkCapability.promise,this.streamSinks[Et]=jt,new Promise(function(Rt){Rt(_t(vt.data,jt))}).then(function(){xt.postMessage({sourceName:Mt,targetName:Pt,stream:At.START_COMPLETE,streamId:Et,success:!0})},function(Rt){xt.postMessage({sourceName:Mt,targetName:Pt,stream:At.START_COMPLETE,streamId:Et,reason:Ct(Rt)})})}_processStreamMessage(vt){const Et=vt.streamId,Mt=this.sourceName,Pt=vt.sourceName,xt=this.comObj,$t=this.streamControllers[Et],_t=this.streamSinks[Et];switch(vt.stream){case At.START_COMPLETE:vt.success?$t.startCall.resolve():$t.startCall.reject(Ct(vt.reason));break;case At.PULL_COMPLETE:vt.success?$t.pullCall.resolve():$t.pullCall.reject(Ct(vt.reason));break;case At.PULL:if(!_t){xt.postMessage({sourceName:Mt,targetName:Pt,stream:At.PULL_COMPLETE,streamId:Et,success:!0});break}_t.desiredSize<=0&&vt.desiredSize>0&&_t.sinkCapability.resolve(),_t.desiredSize=vt.desiredSize,new Promise(function(jt){jt(_t.onPull&&_t.onPull())}).then(function(){xt.postMessage({sourceName:Mt,targetName:Pt,stream:At.PULL_COMPLETE,streamId:Et,success:!0})},function(jt){xt.postMessage({sourceName:Mt,targetName:Pt,stream:At.PULL_COMPLETE,streamId:Et,reason:Ct(jt)})});break;case At.ENQUEUE:if((0,bt.assert)($t,"enqueue should have stream controller"),$t.isClosed)break;$t.controller.enqueue(vt.chunk);break;case At.CLOSE:if((0,bt.assert)($t,"close should have stream controller"),$t.isClosed)break;$t.isClosed=!0,$t.controller.close(),this._deleteStreamController($t,Et);break;case At.ERROR:(0,bt.assert)($t,"error should have stream controller"),$t.controller.error(Ct(vt.reason)),this._deleteStreamController($t,Et);break;case At.CANCEL_COMPLETE:vt.success?$t.cancelCall.resolve():$t.cancelCall.reject(Ct(vt.reason)),this._deleteStreamController($t,Et);break;case At.CANCEL:if(!_t)break;new Promise(function(jt){jt(_t.onCancel&&_t.onCancel(Ct(vt.reason)))}).then(function(){xt.postMessage({sourceName:Mt,targetName:Pt,stream:At.CANCEL_COMPLETE,streamId:Et,success:!0})},function(jt){xt.postMessage({sourceName:Mt,targetName:Pt,stream:At.CANCEL_COMPLETE,streamId:Et,reason:Ct(jt)})}),_t.sinkCapability.reject(Ct(vt.reason)),_t.isCancelled=!0,delete this.streamSinks[Et];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(vt,Et){await Promise.allSettled([vt.startCall&&vt.startCall.promise,vt.pullCall&&vt.pullCall.promise,vt.cancelCall&&vt.cancelCall.promise]),delete this.streamControllers[Et]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$.MessageHandler=St},(_e,$,ht)=>{var At,Ct;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var bt=ht(1);class wt{constructor({parsedData:Ft,rawData:vt}){$n(this,At);$n(this,Ct);Ln(this,At,Ft),Ln(this,Ct,vt)}getRaw(){return Xt(this,Ct)}get(Ft){return Xt(this,At).get(Ft)??null}getAll(){return(0,bt.objectFromMap)(Xt(this,At))}has(Ft){return Xt(this,At).has(Ft)}}At=new WeakMap,Ct=new WeakMap,$.Metadata=wt},(_e,$,ht)=>{var St,Ft,vt,Et,Mt,Pt,zy;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var bt=ht(1);const wt=Symbol("INTERNAL");class At{constructor(_t,jt){$n(this,St,!0);this.name=_t,this.intent=jt}get visible(){return Xt(this,St)}_setVisible(_t,jt){_t!==wt&&(0,bt.unreachable)("Internal method `_setVisible` called."),Ln(this,St,jt)}}St=new WeakMap;class Ct{constructor(_t){$n(this,Pt);$n(this,Ft,!0);$n(this,vt,new Map);$n(this,Et,null);$n(this,Mt,null);if(this.name=null,this.creator=null,_t!==null){this.name=_t.name,this.creator=_t.creator,Ln(this,Mt,_t.order);for(const jt of _t.groups)Xt(this,vt).set(jt.id,new At(jt.name,jt.intent));if(_t.baseState==="OFF")for(const jt of Xt(this,vt).values())jt._setVisible(wt,!1);for(const jt of _t.on)Xt(this,vt).get(jt)._setVisible(wt,!0);for(const jt of _t.off)Xt(this,vt).get(jt)._setVisible(wt,!1);Ln(this,Et,new Map);for(const[jt,Rt]of Xt(this,vt))Xt(this,Et).set(jt,Rt.visible)}}isVisible(_t){if(Xt(this,vt).size===0)return!0;if(!_t)return(0,bt.warn)("Optional content group not defined."),!0;if(_t.type==="OCG")return Xt(this,vt).has(_t.id)?Xt(this,vt).get(_t.id).visible:((0,bt.warn)(`Optional content group not found: ${_t.id}`),!0);if(_t.type==="OCMD"){if(_t.expression)return Dn(this,Pt,zy).call(this,_t.expression);if(!_t.policy||_t.policy==="AnyOn"){for(const jt of _t.ids){if(!Xt(this,vt).has(jt))return(0,bt.warn)(`Optional content group not found: ${jt}`),!0;if(Xt(this,vt).get(jt).visible)return!0}return!1}else if(_t.policy==="AllOn"){for(const jt of _t.ids){if(!Xt(this,vt).has(jt))return(0,bt.warn)(`Optional content group not found: ${jt}`),!0;if(!Xt(this,vt).get(jt).visible)return!1}return!0}else if(_t.policy==="AnyOff"){for(const jt of _t.ids){if(!Xt(this,vt).has(jt))return(0,bt.warn)(`Optional content group not found: ${jt}`),!0;if(!Xt(this,vt).get(jt).visible)return!0}return!1}else if(_t.policy==="AllOff"){for(const jt of _t.ids){if(!Xt(this,vt).has(jt))return(0,bt.warn)(`Optional content group not found: ${jt}`),!0;if(Xt(this,vt).get(jt).visible)return!1}return!0}return(0,bt.warn)(`Unknown optional content policy ${_t.policy}.`),!0}return(0,bt.warn)(`Unknown group type ${_t.type}.`),!0}setVisibility(_t,jt=!0){if(!Xt(this,vt).has(_t)){(0,bt.warn)(`Optional content group not found: ${_t}`);return}Xt(this,vt).get(_t)._setVisible(wt,!!jt),Ln(this,Ft,null)}get hasInitialVisibility(){if(Xt(this,Ft)!==null)return Xt(this,Ft);for(const[_t,jt]of Xt(this,vt)){const Rt=Xt(this,Et).get(_t);if(jt.visible!==Rt)return Ln(this,Ft,!1)}return Ln(this,Ft,!0)}getOrder(){return Xt(this,vt).size?Xt(this,Mt)?Xt(this,Mt).slice():[...Xt(this,vt).keys()]:null}getGroups(){return Xt(this,vt).size>0?(0,bt.objectFromMap)(Xt(this,vt)):null}getGroup(_t){return Xt(this,vt).get(_t)||null}}Ft=new WeakMap,vt=new WeakMap,Et=new WeakMap,Mt=new WeakMap,Pt=new WeakSet,zy=function(_t){const jt=_t.length;if(jt<2)return!0;const Rt=_t[0];for(let Nt=1;Nt<jt;Nt++){const Lt=_t[Nt];let kt;if(Array.isArray(Lt))kt=Dn(this,Pt,zy).call(this,Lt);else if(Xt(this,vt).has(Lt))kt=Xt(this,vt).get(Lt).visible;else return(0,bt.warn)(`Optional content group not found: ${Lt}`),!0;switch(Rt){case"And":if(!kt)return!1;break;case"Or":if(kt)return!0;break;case"Not":return!kt;default:return!0}}return Rt==="And"},$.OptionalContentConfig=Ct},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var bt=ht(1),wt=ht(8);class At{constructor(vt,Et){(0,bt.assert)(Et,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=vt.progressiveDone||!1,this._contentDispositionFilename=vt.contentDispositionFilename||null;const Mt=vt.initialData;if((Mt==null?void 0:Mt.length)>0){const Pt=new Uint8Array(Mt).buffer;this._queuedChunks.push(Pt)}this._pdfDataRangeTransport=Et,this._isStreamingSupported=!vt.disableStream,this._isRangeSupported=!vt.disableRange,this._contentLength=vt.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Pt,xt)=>{this._onReceiveData({begin:Pt,chunk:xt})}),this._pdfDataRangeTransport.addProgressListener((Pt,xt)=>{this._onProgress({loaded:Pt,total:xt})}),this._pdfDataRangeTransport.addProgressiveReadListener(Pt=>{this._onReceiveData({chunk:Pt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(vt){const Et=new Uint8Array(vt.chunk).buffer;if(vt.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Et):this._queuedChunks.push(Et);else{const Mt=this._rangeReaders.some(function(Pt){return Pt._begin!==vt.begin?!1:(Pt._enqueue(Et),!0)});(0,bt.assert)(Mt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var vt;return((vt=this._fullRequestReader)==null?void 0:vt._loaded)??0}_onProgress(vt){if(vt.total===void 0){const Et=this._rangeReaders[0];Et!=null&&Et.onProgress&&Et.onProgress({loaded:vt.loaded})}else{const Et=this._fullRequestReader;Et!=null&&Et.onProgress&&Et.onProgress({loaded:vt.loaded,total:vt.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(vt){const Et=this._rangeReaders.indexOf(vt);Et>=0&&this._rangeReaders.splice(Et,1)}getFullReader(){(0,bt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const vt=this._queuedChunks;return this._queuedChunks=null,new Ct(this,vt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(vt,Et){if(Et<=this._progressiveDataLength)return null;const Mt=new St(this,vt,Et);return this._pdfDataRangeTransport.requestDataRange(vt,Et),this._rangeReaders.push(Mt),Mt}cancelAllRequests(vt){this._fullRequestReader&&this._fullRequestReader.cancel(vt);for(const Et of this._rangeReaders.slice(0))Et.cancel(vt);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=At;class Ct{constructor(vt,Et,Mt=!1,Pt=null){this._stream=vt,this._done=Mt||!1,this._filename=(0,wt.isPdfFile)(Pt)?Pt:null,this._queuedChunks=Et||[],this._loaded=0;for(const xt of this._queuedChunks)this._loaded+=xt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),vt._fullRequestReader=this,this.onProgress=null}_enqueue(vt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:vt,done:!1}):this._queuedChunks.push(vt),this._loaded+=vt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const vt=(0,bt.createPromiseCapability)();return this._requests.push(vt),vt.promise}cancel(vt){this._done=!0;for(const Et of this._requests)Et.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class St{constructor(vt,Et,Mt){this._stream=vt,this._begin=Et,this._end=Mt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(vt){if(!this._done){if(this._requests.length===0)this._queuedChunk=vt;else{this._requests.shift().resolve({value:vt,done:!1});for(const Mt of this._requests)Mt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const Et=this._queuedChunk;return this._queuedChunk=null,{value:Et,done:!1}}if(this._done)return{value:void 0,done:!0};const vt=(0,bt.createPromiseCapability)();return this._requests.push(vt),vt.promise}cancel(vt){this._done=!0;for(const Et of this._requests)Et.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class ht{static textContent(wt){const At=[],Ct={items:At,styles:Object.create(null)};function St(Ft){var Mt;if(!Ft)return;let vt=null;const Et=Ft.name;if(Et==="#text")vt=Ft.value;else if(ht.shouldBuildText(Et))(Mt=Ft==null?void 0:Ft.attributes)!=null&&Mt.textContent?vt=Ft.attributes.textContent:Ft.value&&(vt=Ft.value);else return;if(vt!==null&&At.push({str:vt}),!!Ft.children)for(const Pt of Ft.children)St(Pt)}return St(wt),Ct}static shouldBuildText(wt){return!(wt==="textarea"||wt==="input"||wt==="option"||wt==="select")}}$.XfaText=ht},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var bt=ht(9);const wt=function(Ft){return new Promise((vt,Et)=>{require$$5.readFile(Ft,(Pt,xt)=>{if(Pt||!xt){Et(new Error(Pt));return}vt(new Uint8Array(xt))})})};class At extends bt.BaseCanvasFactory{_createCanvas(vt,Et){return require$$5.createCanvas(vt,Et)}}$.NodeCanvasFactory=At;class Ct extends bt.BaseCMapReaderFactory{_fetchData(vt,Et){return wt(vt).then(Mt=>({cMapData:Mt,compressionType:Et}))}}$.NodeCMapReaderFactory=Ct;class St extends bt.BaseStandardFontDataFactory{_fetchData(vt){return wt(vt)}}$.NodeStandardFontDataFactory=St},(_e,$,ht)=>{var Ft,vt,Et,Mt,Pt,xt,$t,_t,jt,Xy,U3,Wy,H3;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var bt=ht(7),wt=ht(1),At=ht(23),Ct=ht(24);const Bt=class Bt{constructor(Ot){$n(this,jt);$n(this,Ft);$n(this,vt,!1);$n(this,Et,this.pointerup.bind(this));$n(this,Mt,this.pointerdown.bind(this));$n(this,Pt,new Map);$n(this,xt,!1);$n(this,$t,!1);$n(this,_t);Bt._initialized||(Bt._initialized=!0,At.FreeTextEditor.initialize(Ot.l10n),Ct.InkEditor.initialize(Ot.l10n),Ot.uiManager.registerEditorTypes([At.FreeTextEditor,Ct.InkEditor])),Ln(this,_t,Ot.uiManager),this.annotationStorage=Ot.annotationStorage,this.pageIndex=Ot.pageIndex,this.div=Ot.div,Ln(this,Ft,Ot.accessibilityManager),Xt(this,_t).addLayer(this)}updateToolbar(Ot){Xt(this,_t).updateToolbar(Ot)}updateMode(Ot=Xt(this,_t).getMode()){Dn(this,jt,H3).call(this),Ot===wt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Xt(this,_t).unselectAll()}addInkEditorIfNeeded(Ot){if(!Ot&&Xt(this,_t).getMode()!==wt.AnnotationEditorType.INK)return;if(!Ot){for(const Gt of Xt(this,Pt).values())if(Gt.isEmpty()){Gt.setInBackground();return}}Dn(this,jt,Wy).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(Ot){Xt(this,_t).setEditingState(Ot)}addCommands(Ot){Xt(this,_t).addCommands(Ot)}enable(){this.div.style.pointerEvents="auto";for(const Ot of Xt(this,Pt).values())Ot.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const Ot of Xt(this,Pt).values())Ot.disableEditing()}setActiveEditor(Ot){Xt(this,_t).getActive()!==Ot&&Xt(this,_t).setActiveEditor(Ot)}enableClick(){this.div.addEventListener("pointerdown",Xt(this,Mt)),this.div.addEventListener("pointerup",Xt(this,Et))}disableClick(){this.div.removeEventListener("pointerdown",Xt(this,Mt)),this.div.removeEventListener("pointerup",Xt(this,Et))}attach(Ot){Xt(this,Pt).set(Ot.id,Ot)}detach(Ot){var Vt;Xt(this,Pt).delete(Ot.id),(Vt=Xt(this,Ft))==null||Vt.removePointerInTextLayer(Ot.contentDiv)}remove(Ot){Xt(this,_t).removeEditor(Ot),this.detach(Ot),this.annotationStorage.remove(Ot.id),Ot.div.style.display="none",setTimeout(()=>{Ot.div.style.display="",Ot.div.remove(),Ot.isAttachedToDOM=!1,document.activeElement===document.body&&Xt(this,_t).focusMainContainer()},0),Xt(this,$t)||this.addInkEditorIfNeeded(!1)}add(Ot){if(Dn(this,jt,Xy).call(this,Ot),Xt(this,_t).addEditor(Ot),this.attach(Ot),!Ot.isAttachedToDOM){const Vt=Ot.render();this.div.append(Vt),Ot.isAttachedToDOM=!0}this.moveEditorInDOM(Ot),Ot.onceAdded(),this.addToAnnotationStorage(Ot)}moveEditorInDOM(Ot){var Vt;(Vt=Xt(this,Ft))==null||Vt.moveElementInDOM(this.div,Ot.div,Ot.contentDiv,!0)}addToAnnotationStorage(Ot){!Ot.isEmpty()&&!this.annotationStorage.has(Ot.id)&&this.annotationStorage.setValue(Ot.id,Ot)}addOrRebuild(Ot){Ot.needsToBeRebuilt()?Ot.rebuild():this.add(Ot)}addANewEditor(Ot){const Vt=()=>{this.addOrRebuild(Ot)},Gt=()=>{Ot.remove()};this.addCommands({cmd:Vt,undo:Gt,mustExec:!0})}addUndoableEditor(Ot){const Vt=()=>{this.addOrRebuild(Ot)},Gt=()=>{Ot.remove()};this.addCommands({cmd:Vt,undo:Gt,mustExec:!1})}getNextId(){return Xt(this,_t).getId()}deserialize(Ot){switch(Ot.annotationType){case wt.AnnotationEditorType.FREETEXT:return At.FreeTextEditor.deserialize(Ot,this);case wt.AnnotationEditorType.INK:return Ct.InkEditor.deserialize(Ot,this)}return null}setSelected(Ot){Xt(this,_t).setSelected(Ot)}toggleSelected(Ot){Xt(this,_t).toggleSelected(Ot)}isSelected(Ot){return Xt(this,_t).isSelected(Ot)}unselect(Ot){Xt(this,_t).unselect(Ot)}pointerup(Ot){const Vt=bt.KeyboardManager.platform.isMac;if(!(Ot.button!==0||Ot.ctrlKey&&Vt)&&Ot.target===this.div&&Xt(this,xt)){if(Ln(this,xt,!1),!Xt(this,vt)){Ln(this,vt,!0);return}Dn(this,jt,Wy).call(this,Ot)}}pointerdown(Ot){const Vt=bt.KeyboardManager.platform.isMac;if(Ot.button!==0||Ot.ctrlKey&&Vt||Ot.target!==this.div)return;Ln(this,xt,!0);const Gt=Xt(this,_t).getActive();Ln(this,vt,!Gt||Gt.isEmpty())}drop(Ot){const Vt=Ot.dataTransfer.getData("text/plain"),Gt=Xt(this,_t).getEditor(Vt);if(!Gt)return;Ot.preventDefault(),Ot.dataTransfer.dropEffect="move",Dn(this,jt,Xy).call(this,Gt);const Wt=this.div.getBoundingClientRect(),en=Ot.clientX-Wt.x,Sn=Ot.clientY-Wt.y;Gt.translate(en-Gt.startX,Sn-Gt.startY),this.moveEditorInDOM(Gt),Gt.div.focus()}dragover(Ot){Ot.preventDefault()}destroy(){var Ot,Vt;((Ot=Xt(this,_t).getActive())==null?void 0:Ot.parent)===this&&Xt(this,_t).setActiveEditor(null);for(const Gt of Xt(this,Pt).values())(Vt=Xt(this,Ft))==null||Vt.removePointerInTextLayer(Gt.contentDiv),Gt.isAttachedToDOM=!1,Gt.div.remove(),Gt.parent=null;this.div=null,Xt(this,Pt).clear(),Xt(this,_t).removeLayer(this)}render(Ot){this.viewport=Ot.viewport,(0,bt.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const Vt of Xt(this,_t).getEditors(this.pageIndex))this.add(Vt);this.updateMode()}update(Ot){this.viewport=Ot.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[Ot,Vt,Gt,Wt]=this.viewport.viewBox,en=Gt-Ot,Sn=Wt-Vt;return[en,Sn]}get viewportBaseDimensions(){const{width:Ot,height:Vt,rotation:Gt}=this.viewport;return Gt%180===0?[Ot,Vt]:[Vt,Ot]}setDimensions(){const{width:Ot,height:Vt,rotation:Gt}=this.viewport,Wt=Gt%180!==0,en=Math.floor(Ot)+"px",Sn=Math.floor(Vt)+"px";this.div.style.width=Wt?Sn:en,this.div.style.height=Wt?en:Sn,this.div.setAttribute("data-main-rotation",Gt)}};Ft=new WeakMap,vt=new WeakMap,Et=new WeakMap,Mt=new WeakMap,Pt=new WeakMap,xt=new WeakMap,$t=new WeakMap,_t=new WeakMap,jt=new WeakSet,Xy=function(Ot){var Vt;Ot.parent!==this&&(this.attach(Ot),Ot.pageIndex=this.pageIndex,(Vt=Ot.parent)==null||Vt.detach(Ot),Ot.parent=this,Ot.div&&Ot.isAttachedToDOM&&(Ot.div.remove(),this.div.append(Ot.div)))},U3=function(Ot){switch(Xt(this,_t).getMode()){case wt.AnnotationEditorType.FREETEXT:return new At.FreeTextEditor(Ot);case wt.AnnotationEditorType.INK:return new Ct.InkEditor(Ot)}return null},Wy=function(Ot){const Vt=this.getNextId(),Gt=Dn(this,jt,U3).call(this,{parent:this,id:Vt,x:Ot.offsetX,y:Ot.offsetY});return Gt&&this.add(Gt),Gt},H3=function(){Ln(this,$t,!0);for(const Ot of Xt(this,Pt).values())Ot.isEmpty()&&Ot.remove();Ln(this,$t,!1)},os(Bt,"_initialized",!1);let St=Bt;$.AnnotationEditorLayer=St},(_e,$,ht)=>{var St,Ft,vt,Et,Mt,Pt,xt,$t,V3,z3,X3,Gy;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var bt=ht(1),wt=ht(7),At=ht(6);const Lt=class Lt extends At.AnnotationEditor{constructor(Ht){super({...Ht,name:"freeTextEditor"});$n(this,$t);$n(this,St,this.editorDivBlur.bind(this));$n(this,Ft,this.editorDivFocus.bind(this));$n(this,vt,this.editorDivKeydown.bind(this));$n(this,Et);$n(this,Mt,"");$n(this,Pt,!1);$n(this,xt);Ln(this,Et,Ht.color||Lt._defaultColor||At.AnnotationEditor._defaultLineColor),Ln(this,xt,Ht.fontSize||Lt._defaultFontSize)}static initialize(Ht){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(Vt=>[Vt,Ht.get(Vt)]));const Ot=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ot.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Ht,Ot){switch(Ht){case bt.AnnotationEditorParamsType.FREETEXT_SIZE:Lt._defaultFontSize=Ot;break;case bt.AnnotationEditorParamsType.FREETEXT_COLOR:Lt._defaultColor=Ot;break}}updateParams(Ht,Ot){switch(Ht){case bt.AnnotationEditorParamsType.FREETEXT_SIZE:Dn(this,$t,V3).call(this,Ot);break;case bt.AnnotationEditorParamsType.FREETEXT_COLOR:Dn(this,$t,z3).call(this,Ot);break}}static get defaultPropertiesToUpdate(){return[[bt.AnnotationEditorParamsType.FREETEXT_SIZE,Lt._defaultFontSize],[bt.AnnotationEditorParamsType.FREETEXT_COLOR,Lt._defaultColor||At.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[bt.AnnotationEditorParamsType.FREETEXT_SIZE,Xt(this,xt)],[bt.AnnotationEditorParamsType.FREETEXT_COLOR,Xt(this,Et)]]}getInitialTranslation(){return[-Lt._internalPadding*this.parent.scaleFactor,-(Lt._internalPadding+Xt(this,xt))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(bt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",Xt(this,vt)),this.editorDiv.addEventListener("focus",Xt(this,Ft)),this.editorDiv.addEventListener("blur",Xt(this,St)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",Xt(this,vt)),this.editorDiv.removeEventListener("focus",Xt(this,Ft)),this.editorDiv.removeEventListener("blur",Xt(this,St)),this.div.focus(),this.isEditing=!1)}focusin(Ht){super.focusin(Ht),Ht.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),Xt(this,Pt)||(Ln(this,Pt,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Ln(this,Mt,Dn(this,$t,X3).call(this).trimEnd()),Dn(this,$t,Gy).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(Ht){this.enableEditMode(),this.editorDiv.focus()}keydown(Ht){Ht.target===this.div&&Ht.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(Ht){Lt._keyboardManager.exec(this,Ht)}editorDivFocus(Ht){this.isEditing=!0}editorDivBlur(Ht){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Ht,Ot;this.width&&(Ht=this.x,Ot=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),Lt._l10nPromise.get("editor_free_text_aria_label").then(Gt=>{var Wt;return(Wt=this.editorDiv)==null?void 0:Wt.setAttribute("aria-label",Gt)}),Lt._l10nPromise.get("free_text_default_content").then(Gt=>{var Wt;return(Wt=this.editorDiv)==null?void 0:Wt.setAttribute("default-content",Gt)}),this.editorDiv.contentEditable=!0;const{style:Vt}=this.editorDiv;if(Vt.fontSize=`calc(${Xt(this,xt)}px * var(--scale-factor))`,Vt.color=Xt(this,Et),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,wt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Gt,Wt]=this.parent.viewportBaseDimensions;this.setAt(Ht*Gt,Ot*Wt,this.width*Gt,this.height*Wt);for(const en of Xt(this,Mt).split(`
`)){const Sn=document.createElement("div");Sn.append(en?document.createTextNode(en):document.createElement("br")),this.editorDiv.append(Sn)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Ht,Ot){const Vt=super.deserialize(Ht,Ot);return Ln(Vt,xt,Ht.fontSize),Ln(Vt,Et,bt.Util.makeHexColor(...Ht.color)),Ln(Vt,Mt,Ht.value),Vt}serialize(){if(this.isEmpty())return null;const Ht=Lt._internalPadding*this.parent.scaleFactor,Ot=this.getRect(Ht,Ht),Vt=At.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:bt.AnnotationEditorType.FREETEXT,color:Vt,fontSize:Xt(this,xt),value:Xt(this,Mt),pageIndex:this.parent.pageIndex,rect:Ot,rotation:this.rotation}}};St=new WeakMap,Ft=new WeakMap,vt=new WeakMap,Et=new WeakMap,Mt=new WeakMap,Pt=new WeakMap,xt=new WeakMap,$t=new WeakSet,V3=function(Ht){const Ot=Gt=>{this.editorDiv.style.fontSize=`calc(${Gt}px * var(--scale-factor))`,this.translate(0,-(Gt-Xt(this,xt))*this.parent.scaleFactor),Ln(this,xt,Gt),Dn(this,$t,Gy).call(this)},Vt=Xt(this,xt);this.parent.addCommands({cmd:()=>{Ot(Ht)},undo:()=>{Ot(Vt)},mustExec:!0,type:bt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},z3=function(Ht){const Ot=Xt(this,Et);this.parent.addCommands({cmd:()=>{Ln(this,Et,Ht),this.editorDiv.style.color=Ht},undo:()=>{Ln(this,Et,Ot),this.editorDiv.style.color=Ot},mustExec:!0,type:bt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},X3=function(){const Ht=this.editorDiv.getElementsByTagName("div");if(Ht.length===0)return this.editorDiv.innerText;const Ot=[];for(let Vt=0,Gt=Ht.length;Vt<Gt;Vt++){const en=Ht[Vt].firstChild;(en==null?void 0:en.nodeName)==="#text"?Ot.push(en.data):Ot.push("")}return Ot.join(`
`)},Gy=function(){const[Ht,Ot]=this.parent.viewportBaseDimensions,Vt=this.div.getBoundingClientRect();this.width=Vt.width/Ht,this.height=Vt.height/Ot},os(Lt,"_freeTextDefaultContent",""),os(Lt,"_l10nPromise"),os(Lt,"_internalPadding",0),os(Lt,"_defaultColor",null),os(Lt,"_defaultFontSize",10),os(Lt,"_keyboardManager",new wt.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Lt.prototype.commitOrRemove]])),os(Lt,"_type","freetext");let Ct=Lt;$.FreeTextEditor=Ct},(_e,$,ht)=>{var vt,Et,Mt,Pt,xt,$t,_t,jt,Rt,Nt,Lt,kt,Bt,Ht,Ot,W3,G3,q3,K3,qy,Y3,J3,Z3,Nl,Ky,f2,p2,$1,Yy,g2,Jt,Jy,Q3,e6,t6,Zy,m2,B1,Qy;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0,Object.defineProperty($,"fitCurve",{enumerable:!0,get:function(){return At.fitCurve}});var bt=ht(1),wt=ht(6),At=ht(25),Ct=ht(7);const St=16,an=class an extends wt.AnnotationEditor{constructor(vn){super({...vn,name:"inkEditor"});$n(this,Ot);$n(this,vt,0);$n(this,Et,0);$n(this,Mt,0);$n(this,Pt,this.canvasPointermove.bind(this));$n(this,xt,this.canvasPointerleave.bind(this));$n(this,$t,this.canvasPointerup.bind(this));$n(this,_t,this.canvasPointerdown.bind(this));$n(this,jt,!1);$n(this,Rt,!1);$n(this,Nt,null);$n(this,Lt,null);$n(this,kt,0);$n(this,Bt,0);$n(this,Ht,null);this.color=vn.color||null,this.thickness=vn.thickness||null,this.opacity=vn.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(vn){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(gn=>[gn,vn.get(gn)]))}static updateDefaultParams(vn,gn){switch(vn){case bt.AnnotationEditorParamsType.INK_THICKNESS:an._defaultThickness=gn;break;case bt.AnnotationEditorParamsType.INK_COLOR:an._defaultColor=gn;break;case bt.AnnotationEditorParamsType.INK_OPACITY:an._defaultOpacity=gn/100;break}}updateParams(vn,gn){switch(vn){case bt.AnnotationEditorParamsType.INK_THICKNESS:Dn(this,Ot,W3).call(this,gn);break;case bt.AnnotationEditorParamsType.INK_COLOR:Dn(this,Ot,G3).call(this,gn);break;case bt.AnnotationEditorParamsType.INK_OPACITY:Dn(this,Ot,q3).call(this,gn);break}}static get defaultPropertiesToUpdate(){return[[bt.AnnotationEditorParamsType.INK_THICKNESS,an._defaultThickness],[bt.AnnotationEditorParamsType.INK_COLOR,an._defaultColor||wt.AnnotationEditor._defaultLineColor],[bt.AnnotationEditorParamsType.INK_OPACITY,Math.round(an._defaultOpacity*100)]]}get propertiesToUpdate(){return[[bt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||an._defaultThickness],[bt.AnnotationEditorParamsType.INK_COLOR,this.color||an._defaultColor||wt.AnnotationEditor._defaultLineColor],[bt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??an._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Dn(this,Ot,f2).call(this),Dn(this,Ot,p2).call(this)),this.isAttachedToDOM||(this.parent.add(this),Dn(this,Ot,$1).call(this)),Dn(this,Ot,B1).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Xt(this,Lt).disconnect(),Ln(this,Lt,null),super.remove())}enableEditMode(){Xt(this,jt)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",Xt(this,_t)),this.canvas.addEventListener("pointerup",Xt(this,$t)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Xt(this,_t)),this.canvas.removeEventListener("pointerup",Xt(this,$t)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Xt(this,jt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ln(this,jt,!0),this.div.classList.add("disabled"),Dn(this,Ot,B1).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(vn){super.focusin(vn),this.enableEditMode()}canvasPointerdown(vn){vn.button!==0||!this.isInEditMode()||Xt(this,jt)||(this.setInForeground(),vn.type!=="mouse"&&this.div.focus(),vn.stopPropagation(),this.canvas.addEventListener("pointerleave",Xt(this,xt)),this.canvas.addEventListener("pointermove",Xt(this,Pt)),Dn(this,Ot,Y3).call(this,vn.offsetX,vn.offsetY))}canvasPointermove(vn){vn.stopPropagation(),Dn(this,Ot,J3).call(this,vn.offsetX,vn.offsetY)}canvasPointerup(vn){vn.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(vn.stopPropagation(),Dn(this,Ot,Ky).call(this,vn),this.setInBackground())}canvasPointerleave(vn){Dn(this,Ot,Ky).call(this,vn),this.setInBackground()}render(){if(this.div)return this.div;let vn,gn;this.width&&(vn=this.x,gn=this.y),super.render(),an._l10nPromise.get("editor_ink_aria_label").then(Tn=>{var Fn;return(Fn=this.div)==null?void 0:Fn.setAttribute("aria-label",Tn)});const[on,wn,pn,Cn]=Dn(this,Ot,K3).call(this);if(this.setAt(on,wn,0,0),this.setDims(pn,Cn),Dn(this,Ot,f2).call(this),this.width){const[Tn,Fn]=this.parent.viewportBaseDimensions;this.setAt(vn*Tn,gn*Fn,this.width*Tn,this.height*Fn),Ln(this,Rt,!0),Dn(this,Ot,$1).call(this),this.setDims(this.width*Tn,this.height*Fn),Dn(this,Ot,Nl).call(this),Dn(this,Ot,Qy).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Dn(this,Ot,p2).call(this),this.div}setDimensions(vn,gn){const on=Math.round(vn),wn=Math.round(gn);if(Xt(this,kt)===on&&Xt(this,Bt)===wn)return;Ln(this,kt,on),Ln(this,Bt,wn),this.canvas.style.visibility="hidden",Xt(this,vt)&&Math.abs(Xt(this,vt)-vn/gn)>.01&&(gn=Math.ceil(vn/Xt(this,vt)),this.setDims(vn,gn));const[pn,Cn]=this.parent.viewportBaseDimensions;this.width=vn/pn,this.height=gn/Cn,Xt(this,jt)&&Dn(this,Ot,Yy).call(this,vn,gn),Dn(this,Ot,$1).call(this),Dn(this,Ot,Nl).call(this),this.canvas.style.visibility="visible"}static deserialize(vn,gn){var Pn,_n;const on=super.deserialize(vn,gn);on.thickness=vn.thickness,on.color=bt.Util.makeHexColor(...vn.color),on.opacity=vn.opacity;const[wn,pn]=gn.pageDimensions,Cn=on.width*wn,Tn=on.height*pn,Fn=gn.scaleFactor,En=vn.thickness/2;Ln(on,vt,Cn/Tn),Ln(on,jt,!0),Ln(on,kt,Math.round(Cn)),Ln(on,Bt,Math.round(Tn));for(const{bezier:Mn}of vn.paths){const On=[];on.paths.push(On);let jn=Fn*(Mn[0]-En),qn=Fn*(Tn-Mn[1]-En);for(let Yn=2,er=Mn.length;Yn<er;Yn+=6){const cr=Fn*(Mn[Yn]-En),rr=Fn*(Tn-Mn[Yn+1]-En),tr=Fn*(Mn[Yn+2]-En),ir=Fn*(Tn-Mn[Yn+3]-En),Kn=Fn*(Mn[Yn+4]-En),Vn=Fn*(Tn-Mn[Yn+5]-En);On.push([[jn,qn],[cr,rr],[tr,ir],[Kn,Vn]]),jn=Kn,qn=Vn}const Gn=Dn(this,Jt,Jy).call(this,On);on.bezierPath2D.push(Gn)}const kn=Dn(Pn=on,Ot,Zy).call(Pn);return Ln(on,Mt,Math.max(St,kn[2]-kn[0])),Ln(on,Et,Math.max(St,kn[3]-kn[1])),Dn(_n=on,Ot,Yy).call(_n,Cn,Tn),on}serialize(){if(this.isEmpty())return null;const vn=this.getRect(0,0),gn=this.rotation%180===0?vn[3]-vn[1]:vn[2]-vn[0],on=wt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:bt.AnnotationEditorType.INK,color:on,thickness:this.thickness,opacity:this.opacity,paths:Dn(this,Ot,Q3).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,gn),pageIndex:this.parent.pageIndex,rect:vn,rotation:this.rotation}}};vt=new WeakMap,Et=new WeakMap,Mt=new WeakMap,Pt=new WeakMap,xt=new WeakMap,$t=new WeakMap,_t=new WeakMap,jt=new WeakMap,Rt=new WeakMap,Nt=new WeakMap,Lt=new WeakMap,kt=new WeakMap,Bt=new WeakMap,Ht=new WeakMap,Ot=new WeakSet,W3=function(vn){const gn=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=vn,Dn(this,Ot,B1).call(this)},undo:()=>{this.thickness=gn,Dn(this,Ot,B1).call(this)},mustExec:!0,type:bt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},G3=function(vn){const gn=this.color;this.parent.addCommands({cmd:()=>{this.color=vn,Dn(this,Ot,Nl).call(this)},undo:()=>{this.color=gn,Dn(this,Ot,Nl).call(this)},mustExec:!0,type:bt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},q3=function(vn){vn/=100;const gn=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=vn,Dn(this,Ot,Nl).call(this)},undo:()=>{this.opacity=gn,Dn(this,Ot,Nl).call(this)},mustExec:!0,type:bt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},K3=function(){const{width:vn,height:gn,rotation:on}=this.parent.viewport;switch(on){case 90:return[0,vn,vn,gn];case 180:return[vn,gn,vn,gn];case 270:return[gn,0,vn,gn];default:return[0,0,vn,gn]}},qy=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,Ct.opacityToHex)(this.opacity)}`},Y3=function(vn,gn){this.isEditing=!0,Xt(this,Rt)||(Ln(this,Rt,!0),Dn(this,Ot,$1).call(this),this.thickness||(this.thickness=an._defaultThickness),this.color||(this.color=an._defaultColor||wt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=an._defaultOpacity)),this.currentPath.push([vn,gn]),Ln(this,Nt,null),Dn(this,Ot,qy).call(this),this.ctx.beginPath(),this.ctx.moveTo(vn,gn),Ln(this,Ht,()=>{Xt(this,Ht)&&(Xt(this,Nt)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):Dn(this,Ot,Nl).call(this),this.ctx.lineTo(...Xt(this,Nt)),Ln(this,Nt,null),this.ctx.stroke()),window.requestAnimationFrame(Xt(this,Ht)))}),window.requestAnimationFrame(Xt(this,Ht))},J3=function(vn,gn){const[on,wn]=this.currentPath.at(-1);vn===on&&gn===wn||(this.currentPath.push([vn,gn]),Ln(this,Nt,[vn,gn]))},Z3=function(vn,gn){var En;this.ctx.closePath(),Ln(this,Ht,null),vn=Math.min(Math.max(vn,0),this.canvas.width),gn=Math.min(Math.max(gn,0),this.canvas.height);const[on,wn]=this.currentPath.at(-1);(vn!==on||gn!==wn)&&this.currentPath.push([vn,gn]);let pn;if(this.currentPath.length!==1)pn=(0,At.fitCurve)(this.currentPath,30,null);else{const kn=[vn,gn];pn=[[kn,kn.slice(),kn.slice(),kn]]}const Cn=Dn(En=an,Jt,Jy).call(En,pn);this.currentPath.length=0;const Tn=()=>{this.paths.push(pn),this.bezierPath2D.push(Cn),this.rebuild()},Fn=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Dn(this,Ot,f2).call(this),Dn(this,Ot,p2).call(this)),Dn(this,Ot,B1).call(this))};this.parent.addCommands({cmd:Tn,undo:Fn,mustExec:!0})},Nl=function(){if(this.isEmpty()){Dn(this,Ot,g2).call(this);return}Dn(this,Ot,qy).call(this);const{canvas:vn,ctx:gn}=this;gn.setTransform(1,0,0,1,0,0),gn.clearRect(0,0,vn.width,vn.height),Dn(this,Ot,g2).call(this);for(const on of this.bezierPath2D)gn.stroke(on)},Ky=function(vn){Dn(this,Ot,Z3).call(this,vn.offsetX,vn.offsetY),this.canvas.removeEventListener("pointerleave",Xt(this,xt)),this.canvas.removeEventListener("pointermove",Xt(this,Pt)),this.parent.addToAnnotationStorage(this)},f2=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",an._l10nPromise.get("editor_ink_canvas_aria_label").then(vn=>{var gn;return(gn=this.canvas)==null?void 0:gn.setAttribute("aria-label",vn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},p2=function(){Ln(this,Lt,new ResizeObserver(vn=>{const gn=vn[0].contentRect;gn.width&&gn.height&&this.setDimensions(gn.width,gn.height)})),Xt(this,Lt).observe(this.div)},$1=function(){if(!Xt(this,Rt))return;const[vn,gn]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*vn),this.canvas.height=Math.ceil(this.height*gn),Dn(this,Ot,g2).call(this)},Yy=function(vn,gn){const on=Dn(this,Ot,m2).call(this),wn=(vn-on)/Xt(this,Mt),pn=(gn-on)/Xt(this,Et);this.scaleFactor=Math.min(wn,pn)},g2=function(){const vn=Dn(this,Ot,m2).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+vn,this.translationY*this.scaleFactor+vn)},Jt=new WeakSet,Jy=function(vn){const gn=new Path2D;for(let on=0,wn=vn.length;on<wn;on++){const[pn,Cn,Tn,Fn]=vn[on];on===0&&gn.moveTo(...pn),gn.bezierCurveTo(Cn[0],Cn[1],Tn[0],Tn[1],Fn[0],Fn[1])}return gn},Q3=function(vn,gn,on,wn){const Cn=[],Tn=this.thickness/2;let Fn,En;for(const kn of this.paths){Fn=[],En=[];for(let Pn=0,_n=kn.length;Pn<_n;Pn++){const[Mn,On,jn,qn]=kn[Pn],Gn=vn*(Mn[0]+gn)+Tn,Yn=wn-vn*(Mn[1]+on)-Tn,er=vn*(On[0]+gn)+Tn,cr=wn-vn*(On[1]+on)-Tn,rr=vn*(jn[0]+gn)+Tn,tr=wn-vn*(jn[1]+on)-Tn,ir=vn*(qn[0]+gn)+Tn,Kn=wn-vn*(qn[1]+on)-Tn;Pn===0&&(Fn.push(Gn,Yn),En.push(Gn,Yn)),Fn.push(er,cr,rr,tr,ir,Kn),Dn(this,Ot,e6).call(this,Gn,Yn,er,cr,rr,tr,ir,Kn,4,En)}Cn.push({bezier:Fn,points:En})}return Cn},e6=function(vn,gn,on,wn,pn,Cn,Tn,Fn,En,kn){if(Dn(this,Ot,t6).call(this,vn,gn,on,wn,pn,Cn,Tn,Fn)){kn.push(Tn,Fn);return}for(let Pn=1;Pn<En-1;Pn++){const _n=Pn/En,Mn=1-_n;let On=_n*vn+Mn*on,jn=_n*gn+Mn*wn,qn=_n*on+Mn*pn,Gn=_n*wn+Mn*Cn;const Yn=_n*pn+Mn*Tn,er=_n*Cn+Mn*Fn;On=_n*On+Mn*qn,jn=_n*jn+Mn*Gn,qn=_n*qn+Mn*Yn,Gn=_n*Gn+Mn*er,On=_n*On+Mn*qn,jn=_n*jn+Mn*Gn,kn.push(On,jn)}kn.push(Tn,Fn)},t6=function(vn,gn,on,wn,pn,Cn,Tn,Fn){const kn=(3*on-2*vn-Tn)**2,Pn=(3*wn-2*gn-Fn)**2,_n=(3*pn-vn-2*Tn)**2,Mn=(3*Cn-gn-2*Fn)**2;return Math.max(kn,_n)+Math.max(Pn,Mn)<=10},Zy=function(){let vn=1/0,gn=-1/0,on=1/0,wn=-1/0;for(const pn of this.paths)for(const[Cn,Tn,Fn,En]of pn){const kn=bt.Util.bezierBoundingBox(...Cn,...Tn,...Fn,...En);vn=Math.min(vn,kn[0]),on=Math.min(on,kn[1]),gn=Math.max(gn,kn[2]),wn=Math.max(wn,kn[3])}return[vn,on,gn,wn]},m2=function(){return Xt(this,jt)?Math.ceil(this.thickness*this.parent.scaleFactor):0},B1=function(vn=!1){if(this.isEmpty())return;if(!Xt(this,jt)){Dn(this,Ot,Nl).call(this);return}const gn=Dn(this,Ot,Zy).call(this),on=Dn(this,Ot,m2).call(this);Ln(this,Mt,Math.max(St,gn[2]-gn[0])),Ln(this,Et,Math.max(St,gn[3]-gn[1]));const wn=Math.ceil(on+Xt(this,Mt)*this.scaleFactor),pn=Math.ceil(on+Xt(this,Et)*this.scaleFactor),[Cn,Tn]=this.parent.viewportBaseDimensions;this.width=wn/Cn,this.height=pn/Tn,Ln(this,vt,wn/pn),Dn(this,Ot,Qy).call(this);const Fn=this.translationX,En=this.translationY;this.translationX=-gn[0],this.translationY=-gn[1],Dn(this,Ot,$1).call(this),Dn(this,Ot,Nl).call(this),Ln(this,kt,wn),Ln(this,Bt,pn),this.setDims(wn,pn);const kn=vn?on/this.scaleFactor/2:0;this.translate(Fn-this.translationX-kn,En-this.translationY-kn)},Qy=function(){const{style:vn}=this.div;Xt(this,vt)>=1?(vn.minHeight=`${St}px`,vn.minWidth=`${Math.round(Xt(this,vt)*St)}px`):(vn.minWidth=`${St}px`,vn.minHeight=`${Math.round(St/Xt(this,vt))}px`)},$n(an,Jt),os(an,"_defaultColor",null),os(an,"_defaultOpacity",1),os(an,"_defaultThickness",1),os(an,"_l10nPromise"),os(an,"_type","ink");let Ft=an;$.InkEditor=Ft},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.fitCurve=void 0;const bt=ht(26);$.fitCurve=bt},_e=>{function $($t,_t,jt){if(!Array.isArray($t))throw new TypeError("First argument should be an array");if($t.forEach(kt=>{if(!Array.isArray(kt)||kt.some(Bt=>typeof Bt!="number")||kt.length!==$t[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),$t=$t.filter((kt,Bt)=>Bt===0||!kt.every((Ht,Ot)=>Ht===$t[Bt-1][Ot])),$t.length<2)return[];const Rt=$t.length,Nt=Mt($t[1],$t[0]),Lt=Mt($t[Rt-2],$t[Rt-1]);return ht($t,Nt,Lt,_t,jt)}function ht($t,_t,jt,Rt,Nt){var kt,Bt,Ht,Ot,Vt,Gt,Wt,en,Sn,sn,hn,Qt,qt;if($t.length===2)return Qt=Pt.vectorLen(Pt.subtract($t[0],$t[1]))/3,kt=[$t[0],Pt.addArrays($t[0],Pt.mulItems(_t,Qt)),Pt.addArrays($t[1],Pt.mulItems(jt,Qt)),$t[1]],[kt];if(Bt=St($t),[kt,Ot,Gt]=bt($t,Bt,Bt,_t,jt,Nt),Ot===0||Ot<Rt)return[kt];if(Ot<Rt*Rt)for(Ht=Bt,Vt=Ot,Wt=Gt,qt=0;qt<20;qt++){if(Ht=At(kt,$t,Ht),[kt,Ot,Gt]=bt($t,Bt,Ht,_t,jt,Nt),Ot<Rt)return[kt];if(Gt===Wt){let nn=Ot/Vt;if(nn>.9999&&nn<1.0001)break}Vt=Ot,Wt=Gt}return hn=[],en=Pt.subtract($t[Gt-1],$t[Gt+1]),en.every(nn=>nn===0)&&(en=Pt.subtract($t[Gt-1],$t[Gt]),[en[0],en[1]]=[-en[1],en[0]]),Sn=Pt.normalize(en),sn=Pt.mulItems(Sn,-1),hn=hn.concat(ht($t.slice(0,Gt+1),_t,Sn,Rt,Nt)),hn=hn.concat(ht($t.slice(Gt),sn,jt,Rt,Nt)),hn}function bt($t,_t,jt,Rt,Nt,Lt){var kt,Bt,Ht;return kt=wt($t,jt,Rt,Nt),[Bt,Ht]=Ft($t,kt,_t),Lt&&Lt({bez:kt,points:$t,params:_t,maxErr:Bt,maxPoint:Ht}),[kt,Bt,Ht]}function wt($t,_t,jt,Rt){var Nt,Lt,kt,Bt,Ht,Ot,Vt,Gt,Wt,en,Sn,sn,hn,Qt,qt,nn,Ut,zt=$t[0],cn=$t[$t.length-1];for(Nt=[zt,null,null,cn],Lt=Pt.zeros_Xx2x2(_t.length),hn=0,Qt=_t.length;hn<Qt;hn++)nn=_t[hn],Ut=1-nn,kt=Lt[hn],kt[0]=Pt.mulItems(jt,3*nn*(Ut*Ut)),kt[1]=Pt.mulItems(Rt,3*Ut*(nn*nn));for(Bt=[[0,0],[0,0]],Ht=[0,0],hn=0,Qt=$t.length;hn<Qt;hn++)nn=_t[hn],kt=Lt[hn],Bt[0][0]+=Pt.dot(kt[0],kt[0]),Bt[0][1]+=Pt.dot(kt[0],kt[1]),Bt[1][0]+=Pt.dot(kt[0],kt[1]),Bt[1][1]+=Pt.dot(kt[1],kt[1]),qt=Pt.subtract($t[hn],xt.q([zt,zt,cn,cn],nn)),Ht[0]+=Pt.dot(kt[0],qt),Ht[1]+=Pt.dot(kt[1],qt);return Ot=Bt[0][0]*Bt[1][1]-Bt[1][0]*Bt[0][1],Vt=Bt[0][0]*Ht[1]-Bt[1][0]*Ht[0],Gt=Ht[0]*Bt[1][1]-Ht[1]*Bt[0][1],Wt=Ot===0?0:Gt/Ot,en=Ot===0?0:Vt/Ot,sn=Pt.vectorLen(Pt.subtract(zt,cn)),Sn=1e-6*sn,Wt<Sn||en<Sn?(Nt[1]=Pt.addArrays(zt,Pt.mulItems(jt,sn/3)),Nt[2]=Pt.addArrays(cn,Pt.mulItems(Rt,sn/3))):(Nt[1]=Pt.addArrays(zt,Pt.mulItems(jt,Wt)),Nt[2]=Pt.addArrays(cn,Pt.mulItems(Rt,en))),Nt}function At($t,_t,jt){return jt.map((Rt,Nt)=>Ct($t,_t[Nt],Rt))}function Ct($t,_t,jt){var Rt=Pt.subtract(xt.q($t,jt),_t),Nt=xt.qprime($t,jt),Lt=Pt.mulMatrix(Rt,Nt),kt=Pt.sum(Pt.squareItems(Nt))+2*Pt.mulMatrix(Rt,xt.qprimeprime($t,jt));return kt===0?jt:jt-Lt/kt}function St($t){var _t=[],jt,Rt,Nt;return $t.forEach((Lt,kt)=>{jt=kt?Rt+Pt.vectorLen(Pt.subtract(Lt,Nt)):0,_t.push(jt),Rt=jt,Nt=Lt}),_t=_t.map(Lt=>Lt/Rt),_t}function Ft($t,_t,jt){var Rt,Nt,Lt,kt,Bt,Ht,Ot,Vt;Nt=0,Lt=Math.floor($t.length/2);const Gt=vt(_t,10);for(Bt=0,Ht=$t.length;Bt<Ht;Bt++)Ot=$t[Bt],Vt=Et(_t,jt[Bt],Gt,10),kt=Pt.subtract(xt.q(_t,Vt),Ot),Rt=kt[0]*kt[0]+kt[1]*kt[1],Rt>Nt&&(Nt=Rt,Lt=Bt);return[Nt,Lt]}var vt=function($t,_t){for(var jt,Rt=[0],Nt=$t[0],Lt=0,kt=1;kt<=_t;kt++)jt=xt.q($t,kt/_t),Lt+=Pt.vectorLen(Pt.subtract(jt,Nt)),Rt.push(Lt),Nt=jt;return Rt=Rt.map(Bt=>Bt/Lt),Rt};function Et($t,_t,jt,Rt){if(_t<0)return 0;if(_t>1)return 1;for(var Nt,Lt,kt,Bt,Ht,Ot=1;Ot<=Rt;Ot++)if(_t<=jt[Ot]){Bt=(Ot-1)/Rt,kt=Ot/Rt,Lt=jt[Ot-1],Nt=jt[Ot],Ht=(_t-Lt)/(Nt-Lt)*(kt-Bt)+Bt;break}return Ht}function Mt($t,_t){return Pt.normalize(Pt.subtract($t,_t))}class Pt{static zeros_Xx2x2(_t){for(var jt=[];_t--;)jt.push([0,0]);return jt}static mulItems(_t,jt){return _t.map(Rt=>Rt*jt)}static mulMatrix(_t,jt){return _t.reduce((Rt,Nt,Lt)=>Rt+Nt*jt[Lt],0)}static subtract(_t,jt){return _t.map((Rt,Nt)=>Rt-jt[Nt])}static addArrays(_t,jt){return _t.map((Rt,Nt)=>Rt+jt[Nt])}static addItems(_t,jt){return _t.map(Rt=>Rt+jt)}static sum(_t){return _t.reduce((jt,Rt)=>jt+Rt)}static dot(_t,jt){return Pt.mulMatrix(_t,jt)}static vectorLen(_t){return Math.hypot(..._t)}static divItems(_t,jt){return _t.map(Rt=>Rt/jt)}static squareItems(_t){return _t.map(jt=>jt*jt)}static normalize(_t){return this.divItems(_t,this.vectorLen(_t))}}class xt{static q(_t,jt){var Rt=1-jt,Nt=Pt.mulItems(_t[0],Rt*Rt*Rt),Lt=Pt.mulItems(_t[1],3*Rt*Rt*jt),kt=Pt.mulItems(_t[2],3*Rt*jt*jt),Bt=Pt.mulItems(_t[3],jt*jt*jt);return Pt.addArrays(Pt.addArrays(Nt,Lt),Pt.addArrays(kt,Bt))}static qprime(_t,jt){var Rt=1-jt,Nt=Pt.mulItems(Pt.subtract(_t[1],_t[0]),3*Rt*Rt),Lt=Pt.mulItems(Pt.subtract(_t[2],_t[1]),6*Rt*jt),kt=Pt.mulItems(Pt.subtract(_t[3],_t[2]),3*jt*jt);return Pt.addArrays(Pt.addArrays(Nt,Lt),kt)}static qprimeprime(_t,jt){return Pt.addArrays(Pt.mulItems(Pt.addArrays(Pt.subtract(_t[2],Pt.mulItems(_t[1],2)),_t[0]),6*(1-jt)),Pt.mulItems(Pt.addArrays(Pt.subtract(_t[3],Pt.mulItems(_t[2],2)),_t[1]),6*jt))}}_e.exports=$,_e.exports.fitCubic=ht,_e.exports.createTangent=Mt},(_e,$,ht)=>{var Jt,e9,t9,n9;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationLayer=void 0;var bt=ht(1),wt=ht(8),At=ht(5),Ct=ht(28),St=ht(29);const Ft=1e3,vt=9,Et=new WeakSet;function Mt(xn){return{width:xn[2]-xn[0],height:xn[3]-xn[1]}}class Pt{static create(rn){switch(rn.data.annotationType){case bt.AnnotationType.LINK:return new $t(rn);case bt.AnnotationType.TEXT:return new _t(rn);case bt.AnnotationType.WIDGET:switch(rn.data.fieldType){case"Tx":return new Rt(rn);case"Btn":return rn.data.radioButton?new Lt(rn):rn.data.checkBox?new Nt(rn):new kt(rn);case"Ch":return new Bt(rn)}return new jt(rn);case bt.AnnotationType.POPUP:return new Ht(rn);case bt.AnnotationType.FREETEXT:return new Vt(rn);case bt.AnnotationType.LINE:return new Gt(rn);case bt.AnnotationType.SQUARE:return new Wt(rn);case bt.AnnotationType.CIRCLE:return new en(rn);case bt.AnnotationType.POLYLINE:return new Sn(rn);case bt.AnnotationType.CARET:return new hn(rn);case bt.AnnotationType.INK:return new Qt(rn);case bt.AnnotationType.POLYGON:return new sn(rn);case bt.AnnotationType.HIGHLIGHT:return new qt(rn);case bt.AnnotationType.UNDERLINE:return new nn(rn);case bt.AnnotationType.SQUIGGLY:return new Ut(rn);case bt.AnnotationType.STRIKEOUT:return new zt(rn);case bt.AnnotationType.STAMP:return new cn(rn);case bt.AnnotationType.FILEATTACHMENT:return new ln(rn);default:return new xt(rn)}}}class xt{constructor(rn,{isRenderable:dn=!1,ignoreBorder:An=!1,createQuadrilaterals:an=!1}={}){this.isRenderable=dn,this.data=rn.data,this.layer=rn.layer,this.page=rn.page,this.viewport=rn.viewport,this.linkService=rn.linkService,this.downloadManager=rn.downloadManager,this.imageResourcesPath=rn.imageResourcesPath,this.renderForms=rn.renderForms,this.svgFactory=rn.svgFactory,this.annotationStorage=rn.annotationStorage,this.enableScripting=rn.enableScripting,this.hasJSActions=rn.hasJSActions,this._fieldObjects=rn.fieldObjects,this._mouseState=rn.mouseState,dn&&(this.container=this._createContainer(An)),an&&(this.quadrilaterals=this._createQuadrilaterals(An))}_createContainer(rn=!1){const dn=this.data,An=this.page,an=this.viewport,fn=document.createElement("section"),{width:bn,height:vn}=Mt(dn.rect),[gn,on,wn,pn]=an.viewBox,Cn=wn-gn,Tn=pn-on;fn.setAttribute("data-annotation-id",dn.id);const Fn=bt.Util.normalizeRect([dn.rect[0],An.view[3]-dn.rect[1]+An.view[1],dn.rect[2],An.view[3]-dn.rect[3]+An.view[1]]);if(!rn&&dn.borderStyle.width>0){fn.style.borderWidth=`${dn.borderStyle.width}px`;const kn=dn.borderStyle.horizontalCornerRadius,Pn=dn.borderStyle.verticalCornerRadius;if(kn>0||Pn>0){const Mn=`calc(${kn}px * var(--scale-factor)) / calc(${Pn}px * var(--scale-factor))`;fn.style.borderRadius=Mn}else if(this instanceof Lt){const Mn=`calc(${bn}px * var(--scale-factor)) / calc(${vn}px * var(--scale-factor))`;fn.style.borderRadius=Mn}switch(dn.borderStyle.style){case bt.AnnotationBorderStyleType.SOLID:fn.style.borderStyle="solid";break;case bt.AnnotationBorderStyleType.DASHED:fn.style.borderStyle="dashed";break;case bt.AnnotationBorderStyleType.BEVELED:(0,bt.warn)("Unimplemented border style: beveled");break;case bt.AnnotationBorderStyleType.INSET:(0,bt.warn)("Unimplemented border style: inset");break;case bt.AnnotationBorderStyleType.UNDERLINE:fn.style.borderBottomStyle="solid";break}const _n=dn.borderColor||null;_n?fn.style.borderColor=bt.Util.makeHexColor(_n[0]|0,_n[1]|0,_n[2]|0):fn.style.borderWidth=0}fn.style.left=`${100*(Fn[0]-gn)/Cn}%`,fn.style.top=`${100*(Fn[1]-on)/Tn}%`;const{rotation:En}=dn;return dn.hasOwnCanvas||En===0?(fn.style.width=`${100*bn/Cn}%`,fn.style.height=`${100*vn/Tn}%`):this.setRotation(En,fn),fn}setRotation(rn,dn=this.container){const[An,an,fn,bn]=this.viewport.viewBox,vn=fn-An,gn=bn-an,{width:on,height:wn}=Mt(this.data.rect);let pn,Cn;rn%180===0?(pn=100*on/vn,Cn=100*wn/gn):(pn=100*wn/vn,Cn=100*on/gn),dn.style.width=`${pn}%`,dn.style.height=`${Cn}%`,dn.setAttribute("data-main-rotation",(360-rn)%360)}get _commonActions(){const rn=(dn,An,an)=>{const fn=an.detail[dn];an.target.style[An]=Ct.ColorConverters[`${fn[0]}_HTML`](fn.slice(1))};return(0,bt.shadow)(this,"_commonActions",{display:dn=>{const An=dn.detail.display%2===1;this.container.style.visibility=An?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:An,print:dn.detail.display===0||dn.detail.display===3})},print:dn=>{this.annotationStorage.setValue(this.data.id,{print:dn.detail.print})},hidden:dn=>{this.container.style.visibility=dn.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:dn.detail.hidden})},focus:dn=>{setTimeout(()=>dn.target.focus({preventScroll:!1}),0)},userName:dn=>{dn.target.title=dn.detail.userName},readonly:dn=>{dn.detail.readonly?dn.target.setAttribute("readonly",""):dn.target.removeAttribute("readonly")},required:dn=>{this._setRequired(dn.target,dn.detail.required)},bgColor:dn=>{rn("bgColor","backgroundColor",dn)},fillColor:dn=>{rn("fillColor","backgroundColor",dn)},fgColor:dn=>{rn("fgColor","color",dn)},textColor:dn=>{rn("textColor","color",dn)},borderColor:dn=>{rn("borderColor","borderColor",dn)},strokeColor:dn=>{rn("strokeColor","borderColor",dn)},rotation:dn=>{const An=dn.detail.rotation;this.setRotation(An),this.annotationStorage.setValue(this.data.id,{rotation:An})}})}_dispatchEventFromSandbox(rn,dn){const An=this._commonActions;for(const an of Object.keys(dn.detail)){const fn=rn[an]||An[an];fn&&fn(dn)}}_setDefaultPropertiesFromJS(rn){if(!this.enableScripting)return;const dn=this.annotationStorage.getRawValue(this.data.id);if(!dn)return;const An=this._commonActions;for(const[an,fn]of Object.entries(dn)){const bn=An[an];if(bn){const vn={detail:{[an]:fn},target:rn};bn(vn),delete dn[an]}}}_createQuadrilaterals(rn=!1){if(!this.data.quadPoints)return null;const dn=[],An=this.data.rect;for(const an of this.data.quadPoints)this.data.rect=[an[2].x,an[2].y,an[1].x,an[1].y],dn.push(this._createContainer(rn));return this.data.rect=An,dn}_createPopup(rn,dn){let An=this.container;this.quadrilaterals&&(rn=rn||this.quadrilaterals,An=this.quadrilaterals[0]),rn||(rn=document.createElement("div"),rn.className="popupTriggerArea",An.append(rn));const fn=new Ot({container:An,trigger:rn,color:dn.color,titleObj:dn.titleObj,modificationDate:dn.modificationDate,contentsObj:dn.contentsObj,richText:dn.richText,hideWrapper:!0}).render();fn.style.left="100%",An.append(fn)}_renderQuadrilaterals(rn){for(const dn of this.quadrilaterals)dn.className=rn;return this.quadrilaterals}render(){(0,bt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(rn,dn=null){const An=[];if(this._fieldObjects){const an=this._fieldObjects[rn];if(an)for(const{page:fn,id:bn,exportValues:vn}of an){if(fn===-1||bn===dn)continue;const gn=typeof vn=="string"?vn:null,on=document.querySelector(`[data-element-id="${bn}"]`);if(on&&!Et.has(on)){(0,bt.warn)(`_getElementsByName - element not allowed: ${bn}`);continue}An.push({id:bn,exportValue:gn,domElement:on})}return An}for(const an of document.getElementsByName(rn)){const{id:fn,exportValue:bn}=an;fn!==dn&&Et.has(an)&&An.push({id:fn,exportValue:bn,domElement:an})}return An}static get platform(){const rn=typeof navigator<"u"?navigator.platform:"";return(0,bt.shadow)(this,"platform",{isWin:rn.includes("Win"),isMac:rn.includes("Mac")})}}class $t extends xt{constructor(rn,dn=null){super(rn,{isRenderable:!0,ignoreBorder:!!(dn!=null&&dn.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=rn.data.isTooltipOnly}render(){const{data:rn,linkService:dn}=this,An=document.createElement("a");An.setAttribute("data-element-id",rn.id);let an=!1;return rn.url?(dn.addLinkAttributes(An,rn.url,rn.newWindow),an=!0):rn.action?(this._bindNamedAction(An,rn.action),an=!0):rn.dest?(this._bindLink(An,rn.dest),an=!0):(rn.actions&&(rn.actions.Action||rn.actions["Mouse Up"]||rn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(An,rn),an=!0),rn.resetForm?(this._bindResetFormAction(An,rn.resetForm),an=!0):this.isTooltipOnly&&!an&&(this._bindLink(An,""),an=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((fn,bn)=>{const vn=bn===0?An:An.cloneNode();return fn.append(vn),fn}):(this.container.className="linkAnnotation",an&&this.container.append(An),this.container)}_bindLink(rn,dn){rn.href=this.linkService.getDestinationHash(dn),rn.onclick=()=>(dn&&this.linkService.goToDestination(dn),!1),(dn||dn==="")&&(rn.className="internalLink")}_bindNamedAction(rn,dn){rn.href=this.linkService.getAnchorUrl(""),rn.onclick=()=>(this.linkService.executeNamedAction(dn),!1),rn.className="internalLink"}_bindJSAction(rn,dn){rn.href=this.linkService.getAnchorUrl("");const An=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const an of Object.keys(dn.actions)){const fn=An.get(an);fn&&(rn[fn]=()=>{var bn;return(bn=this.linkService.eventBus)==null||bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:dn.id,name:an}}),!1})}rn.onclick||(rn.onclick=()=>!1),rn.className="internalLink"}_bindResetFormAction(rn,dn){const An=rn.onclick;if(An||(rn.href=this.linkService.getAnchorUrl("")),rn.className="internalLink",!this._fieldObjects){(0,bt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),An||(rn.onclick=()=>!1);return}rn.onclick=()=>{var wn;An&&An();const{fields:an,refs:fn,include:bn}=dn,vn=[];if(an.length!==0||fn.length!==0){const pn=new Set(fn);for(const Cn of an){const Tn=this._fieldObjects[Cn]||[];for(const{id:Fn}of Tn)pn.add(Fn)}for(const Cn of Object.values(this._fieldObjects))for(const Tn of Cn)pn.has(Tn.id)===bn&&vn.push(Tn)}else for(const pn of Object.values(this._fieldObjects))vn.push(...pn);const gn=this.annotationStorage,on=[];for(const pn of vn){const{id:Cn}=pn;switch(on.push(Cn),pn.type){case"text":{const Fn=pn.defaultValue||"";gn.setValue(Cn,{value:Fn});break}case"checkbox":case"radiobutton":{const Fn=pn.defaultValue===pn.exportValues;gn.setValue(Cn,{value:Fn});break}case"combobox":case"listbox":{const Fn=pn.defaultValue||"";gn.setValue(Cn,{value:Fn});break}default:continue}const Tn=document.querySelector(`[data-element-id="${Cn}"]`);if(Tn){if(!Et.has(Tn)){(0,bt.warn)(`_bindResetFormAction - element not allowed: ${Cn}`);continue}}else continue;Tn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((wn=this.linkService.eventBus)==null||wn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:on,name:"ResetForm"}})),!1}}}class _t extends xt{constructor(rn){var An,an,fn;const dn=!!(rn.data.hasPopup||(An=rn.data.titleObj)!=null&&An.str||(an=rn.data.contentsObj)!=null&&an.str||(fn=rn.data.richText)!=null&&fn.str);super(rn,{isRenderable:dn})}render(){this.container.className="textAnnotation";const rn=document.createElement("img");return rn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",rn.alt="[{{type}} Annotation]",rn.dataset.l10nId="text_annotation_type",rn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(rn,this.data),this.container.append(rn),this.container}}class jt extends xt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(rn){const{isWin:dn,isMac:An}=xt.platform;return dn&&rn.ctrlKey||An&&rn.metaKey}_setEventListener(rn,dn,An,an){dn.includes("mouse")?rn.addEventListener(dn,fn=>{var bn;(bn=this.linkService.eventBus)==null||bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:An,value:an(fn),shift:fn.shiftKey,modifier:this._getKeyModifier(fn)}})}):rn.addEventListener(dn,fn=>{var bn;(bn=this.linkService.eventBus)==null||bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:An,value:an(fn)}})})}_setEventListeners(rn,dn,An){var an;for(const[fn,bn]of dn)(bn==="Action"||(an=this.data.actions)!=null&&an[bn])&&this._setEventListener(rn,fn,bn,An)}_setBackgroundColor(rn){const dn=this.data.backgroundColor||null;rn.style.backgroundColor=dn===null?"transparent":bt.Util.makeHexColor(dn[0],dn[1],dn[2])}_setTextStyle(rn){const dn=["left","center","right"],{fontColor:An}=this.data.defaultAppearanceData,an=this.data.defaultAppearanceData.fontSize||vt,fn=rn.style;let bn;if(this.data.multiLine){const vn=Math.abs(this.data.rect[3]-this.data.rect[1]),gn=Math.round(vn/(bt.LINE_FACTOR*an))||1,on=vn/gn;bn=Math.min(an,Math.round(on/bt.LINE_FACTOR))}else{const vn=Math.abs(this.data.rect[3]-this.data.rect[1]);bn=Math.min(an,Math.round(vn/bt.LINE_FACTOR))}fn.fontSize=`calc(${bn}px * var(--scale-factor))`,fn.color=bt.Util.makeHexColor(An[0],An[1],An[2]),this.data.textAlignment!==null&&(fn.textAlign=dn[this.data.textAlignment])}_setRequired(rn,dn){dn?rn.setAttribute("required",!0):rn.removeAttribute("required"),rn.setAttribute("aria-required",dn)}}class Rt extends jt{constructor(rn){const dn=rn.renderForms||!rn.data.hasAppearance&&!!rn.data.fieldValue;super(rn,{isRenderable:dn})}setPropertyOnSiblings(rn,dn,An,an){const fn=this.annotationStorage;for(const bn of this._getElementsByName(rn.name,rn.id))bn.domElement&&(bn.domElement[dn]=An),fn.setValue(bn.id,{[an]:An})}render(){var an;const rn=this.annotationStorage,dn=this.data.id;this.container.className="textWidgetAnnotation";let An=null;if(this.renderForms){const fn=rn.getValue(dn,{value:this.data.fieldValue});let bn=fn.formattedValue||fn.value||"";const vn=rn.getValue(dn,{charLimit:this.data.maxLen}).charLimit;vn&&bn.length>vn&&(bn=bn.slice(0,vn));const gn={userValue:bn,formattedValue:null,valueOnFocus:""};this.data.multiLine?(An=document.createElement("textarea"),An.textContent=bn,this.data.doNotScroll&&(An.style.overflowY="hidden")):(An=document.createElement("input"),An.type="text",An.setAttribute("value",bn),this.data.doNotScroll&&(An.style.overflowX="hidden")),Et.add(An),An.setAttribute("data-element-id",dn),An.disabled=this.data.readOnly,An.name=this.data.fieldName,An.tabIndex=Ft,this._setRequired(An,this.data.required),vn&&(An.maxLength=vn),An.addEventListener("input",wn=>{rn.setValue(dn,{value:wn.target.value}),this.setPropertyOnSiblings(An,"value",wn.target.value,"value")}),An.addEventListener("resetform",wn=>{const pn=this.data.defaultFieldValue??"";An.value=gn.userValue=pn,gn.formattedValue=null});let on=wn=>{const{formattedValue:pn}=gn;pn!=null&&(wn.target.value=pn),wn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){An.addEventListener("focus",pn=>{gn.userValue&&(pn.target.value=gn.userValue),gn.valueOnFocus=pn.target.value}),An.addEventListener("updatefromsandbox",pn=>{const Cn={value(Tn){gn.userValue=Tn.detail.value??"",rn.setValue(dn,{value:gn.userValue.toString()}),Tn.target.value=gn.userValue},formattedValue(Tn){const{formattedValue:Fn}=Tn.detail;gn.formattedValue=Fn,Fn!=null&&Tn.target!==document.activeElement&&(Tn.target.value=Fn),rn.setValue(dn,{formattedValue:Fn})},selRange(Tn){Tn.target.setSelectionRange(...Tn.detail.selRange)},charLimit:Tn=>{var Pn;const{charLimit:Fn}=Tn.detail,{target:En}=Tn;if(Fn===0){En.removeAttribute("maxLength");return}En.setAttribute("maxLength",Fn);let kn=gn.userValue;!kn||kn.length<=Fn||(kn=kn.slice(0,Fn),En.value=gn.userValue=kn,rn.setValue(dn,{value:kn}),(Pn=this.linkService.eventBus)==null||Pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:dn,name:"Keystroke",value:kn,willCommit:!0,commitKey:1,selStart:En.selectionStart,selEnd:En.selectionEnd}}))}};this._dispatchEventFromSandbox(Cn,pn)}),An.addEventListener("keydown",pn=>{var Fn;let Cn=-1;if(pn.key==="Escape"?Cn=0:pn.key==="Enter"?Cn=2:pn.key==="Tab"&&(Cn=3),Cn===-1)return;const{value:Tn}=pn.target;gn.valueOnFocus!==Tn&&(gn.userValue=Tn,(Fn=this.linkService.eventBus)==null||Fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:dn,name:"Keystroke",value:Tn,willCommit:!0,commitKey:Cn,selStart:pn.target.selectionStart,selEnd:pn.target.selectionEnd}}))});const wn=on;on=null,An.addEventListener("blur",pn=>{var Tn;const{value:Cn}=pn.target;gn.userValue=Cn,this._mouseState.isDown&&gn.valueOnFocus!==Cn&&((Tn=this.linkService.eventBus)==null||Tn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:dn,name:"Keystroke",value:Cn,willCommit:!0,commitKey:1,selStart:pn.target.selectionStart,selEnd:pn.target.selectionEnd}})),wn(pn)}),(an=this.data.actions)!=null&&an.Keystroke&&An.addEventListener("beforeinput",pn=>{var Mn;const{data:Cn,target:Tn}=pn,{value:Fn,selectionStart:En,selectionEnd:kn}=Tn;let Pn=En,_n=kn;switch(pn.inputType){case"deleteWordBackward":{const On=Fn.substring(0,En).match(/\w*[^\w]*$/);On&&(Pn-=On[0].length);break}case"deleteWordForward":{const On=Fn.substring(En).match(/^[^\w]*\w*/);On&&(_n+=On[0].length);break}case"deleteContentBackward":En===kn&&(Pn-=1);break;case"deleteContentForward":En===kn&&(_n+=1);break}pn.preventDefault(),(Mn=this.linkService.eventBus)==null||Mn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:dn,name:"Keystroke",value:Fn,change:Cn||"",willCommit:!1,selStart:Pn,selEnd:_n}})}),this._setEventListeners(An,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],pn=>pn.target.value)}if(on&&An.addEventListener("blur",on),this.data.comb){const pn=(this.data.rect[2]-this.data.rect[0])/vn;An.classList.add("comb"),An.style.letterSpacing=`calc(${pn}px * var(--scale-factor) - 1ch)`}}else An=document.createElement("div"),An.textContent=this.data.fieldValue,An.style.verticalAlign="middle",An.style.display="table-cell";return this._setTextStyle(An),this._setBackgroundColor(An),this._setDefaultPropertiesFromJS(An),this.container.append(An),this.container}}class Nt extends jt{constructor(rn){super(rn,{isRenderable:rn.renderForms})}render(){const rn=this.annotationStorage,dn=this.data,An=dn.id;let an=rn.getValue(An,{value:dn.exportValue===dn.fieldValue}).value;typeof an=="string"&&(an=an!=="Off",rn.setValue(An,{value:an})),this.container.className="buttonWidgetAnnotation checkBox";const fn=document.createElement("input");return Et.add(fn),fn.setAttribute("data-element-id",An),fn.disabled=dn.readOnly,this._setRequired(fn,this.data.required),fn.type="checkbox",fn.name=dn.fieldName,an&&fn.setAttribute("checked",!0),fn.setAttribute("exportValue",dn.exportValue),fn.tabIndex=Ft,fn.addEventListener("change",bn=>{const{name:vn,checked:gn}=bn.target;for(const on of this._getElementsByName(vn,An)){const wn=gn&&on.exportValue===dn.exportValue;on.domElement&&(on.domElement.checked=wn),rn.setValue(on.id,{value:wn})}rn.setValue(An,{value:gn})}),fn.addEventListener("resetform",bn=>{const vn=dn.defaultFieldValue||"Off";bn.target.checked=vn===dn.exportValue}),this.enableScripting&&this.hasJSActions&&(fn.addEventListener("updatefromsandbox",bn=>{const vn={value(gn){gn.target.checked=gn.detail.value!=="Off",rn.setValue(An,{value:gn.target.checked})}};this._dispatchEventFromSandbox(vn,bn)}),this._setEventListeners(fn,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],bn=>bn.target.checked)),this._setBackgroundColor(fn),this._setDefaultPropertiesFromJS(fn),this.container.append(fn),this.container}}class Lt extends jt{constructor(rn){super(rn,{isRenderable:rn.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const rn=this.annotationStorage,dn=this.data,An=dn.id;let an=rn.getValue(An,{value:dn.fieldValue===dn.buttonValue}).value;typeof an=="string"&&(an=an!==dn.buttonValue,rn.setValue(An,{value:an}));const fn=document.createElement("input");if(Et.add(fn),fn.setAttribute("data-element-id",An),fn.disabled=dn.readOnly,this._setRequired(fn,this.data.required),fn.type="radio",fn.name=dn.fieldName,an&&fn.setAttribute("checked",!0),fn.tabIndex=Ft,fn.addEventListener("change",bn=>{const{name:vn,checked:gn}=bn.target;for(const on of this._getElementsByName(vn,An))rn.setValue(on.id,{value:!1});rn.setValue(An,{value:gn})}),fn.addEventListener("resetform",bn=>{const vn=dn.defaultFieldValue;bn.target.checked=vn!=null&&vn===dn.buttonValue}),this.enableScripting&&this.hasJSActions){const bn=dn.buttonValue;fn.addEventListener("updatefromsandbox",vn=>{const gn={value:on=>{const wn=bn===on.detail.value;for(const pn of this._getElementsByName(on.target.name)){const Cn=wn&&pn.id===An;pn.domElement&&(pn.domElement.checked=Cn),rn.setValue(pn.id,{value:Cn})}}};this._dispatchEventFromSandbox(gn,vn)}),this._setEventListeners(fn,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],vn=>vn.target.checked)}return this._setBackgroundColor(fn),this._setDefaultPropertiesFromJS(fn),this.container.append(fn),this.container}}class kt extends $t{constructor(rn){super(rn,{ignoreBorder:rn.data.hasAppearance})}render(){const rn=super.render();rn.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(rn.title=this.data.alternativeText);const dn=rn.lastChild;return this.enableScripting&&this.hasJSActions&&dn&&(this._setDefaultPropertiesFromJS(dn),dn.addEventListener("updatefromsandbox",An=>{this._dispatchEventFromSandbox({},An)})),rn}}class Bt extends jt{constructor(rn){super(rn,{isRenderable:rn.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const rn=this.annotationStorage,dn=this.data.id,An=rn.getValue(dn,{value:this.data.fieldValue}),an=document.createElement("select");Et.add(an),an.setAttribute("data-element-id",dn),an.disabled=this.data.readOnly,this._setRequired(an,this.data.required),an.name=this.data.fieldName,an.tabIndex=Ft;let fn=this.data.combo&&this.data.options.length>0;this.data.combo||(an.size=this.data.options.length,this.data.multiSelect&&(an.multiple=!0)),an.addEventListener("resetform",on=>{const wn=this.data.defaultFieldValue;for(const pn of an.options)pn.selected=pn.value===wn});for(const on of this.data.options){const wn=document.createElement("option");wn.textContent=on.displayValue,wn.value=on.exportValue,An.value.includes(on.exportValue)&&(wn.setAttribute("selected",!0),fn=!1),an.append(wn)}let bn=null;if(fn){const on=document.createElement("option");on.value=" ",on.setAttribute("hidden",!0),on.setAttribute("selected",!0),an.prepend(on),bn=()=>{on.remove(),an.removeEventListener("input",bn),bn=null},an.addEventListener("input",bn)}const vn=(on,wn)=>{const pn=wn?"value":"textContent",Cn=on.target.options;return on.target.multiple?Array.prototype.filter.call(Cn,Tn=>Tn.selected).map(Tn=>Tn[pn]):Cn.selectedIndex===-1?null:Cn[Cn.selectedIndex][pn]},gn=on=>{const wn=on.target.options;return Array.prototype.map.call(wn,pn=>({displayValue:pn.textContent,exportValue:pn.value}))};return this.enableScripting&&this.hasJSActions?(an.addEventListener("updatefromsandbox",on=>{const wn={value(pn){bn==null||bn();const Cn=pn.detail.value,Tn=new Set(Array.isArray(Cn)?Cn:[Cn]);for(const Fn of an.options)Fn.selected=Tn.has(Fn.value);rn.setValue(dn,{value:vn(pn,!0)})},multipleSelection(pn){an.multiple=!0},remove(pn){const Cn=an.options,Tn=pn.detail.remove;Cn[Tn].selected=!1,an.remove(Tn),Cn.length>0&&Array.prototype.findIndex.call(Cn,En=>En.selected)===-1&&(Cn[0].selected=!0),rn.setValue(dn,{value:vn(pn,!0),items:gn(pn)})},clear(pn){for(;an.length!==0;)an.remove(0);rn.setValue(dn,{value:null,items:[]})},insert(pn){const{index:Cn,displayValue:Tn,exportValue:Fn}=pn.detail.insert,En=an.children[Cn],kn=document.createElement("option");kn.textContent=Tn,kn.value=Fn,En?En.before(kn):an.append(kn),rn.setValue(dn,{value:vn(pn,!0),items:gn(pn)})},items(pn){const{items:Cn}=pn.detail;for(;an.length!==0;)an.remove(0);for(const Tn of Cn){const{displayValue:Fn,exportValue:En}=Tn,kn=document.createElement("option");kn.textContent=Fn,kn.value=En,an.append(kn)}an.options.length>0&&(an.options[0].selected=!0),rn.setValue(dn,{value:vn(pn,!0),items:gn(pn)})},indices(pn){const Cn=new Set(pn.detail.indices);for(const Tn of pn.target.options)Tn.selected=Cn.has(Tn.index);rn.setValue(dn,{value:vn(pn,!0)})},editable(pn){pn.target.disabled=!pn.detail.editable}};this._dispatchEventFromSandbox(wn,on)}),an.addEventListener("input",on=>{var Cn;const wn=vn(on,!0),pn=vn(on,!1);rn.setValue(dn,{value:wn}),(Cn=this.linkService.eventBus)==null||Cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:dn,name:"Keystroke",value:pn,changeEx:wn,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(an,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],on=>on.target.checked)):an.addEventListener("input",function(on){rn.setValue(dn,{value:vn(on,!0)})}),this.data.combo&&this._setTextStyle(an),this._setBackgroundColor(an),this._setDefaultPropertiesFromJS(an),this.container.append(an),this.container}}class Ht extends xt{constructor(rn){var An,an,fn;const dn=!!((An=rn.data.titleObj)!=null&&An.str||(an=rn.data.contentsObj)!=null&&an.str||(fn=rn.data.richText)!=null&&fn.str);super(rn,{isRenderable:dn})}render(){const rn=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",rn.includes(this.data.parentType))return this.container;const dn=`[data-annotation-id="${this.data.parentId}"]`,An=this.layer.querySelectorAll(dn);if(An.length===0)return this.container;const an=new Ot({container:this.container,trigger:Array.from(An),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),fn=this.page,bn=bt.Util.normalizeRect([this.data.parentRect[0],fn.view[3]-this.data.parentRect[1]+fn.view[1],this.data.parentRect[2],fn.view[3]-this.data.parentRect[3]+fn.view[1]]),vn=bn[0]+this.data.parentRect[2]-this.data.parentRect[0],gn=bn[1],[on,wn,pn,Cn]=this.viewport.viewBox,Tn=pn-on,Fn=Cn-wn;return this.container.style.left=`${100*(vn-on)/Tn}%`,this.container.style.top=`${100*(gn-wn)/Fn}%`,this.container.append(an.render()),this.container}}class Ot{constructor(rn){this.container=rn.container,this.trigger=rn.trigger,this.color=rn.color,this.titleObj=rn.titleObj,this.modificationDate=rn.modificationDate,this.contentsObj=rn.contentsObj,this.richText=rn.richText,this.hideWrapper=rn.hideWrapper||!1,this.pinned=!1}render(){var vn,gn;const dn=document.createElement("div");dn.className="popupWrapper",this.hideElement=this.hideWrapper?dn:this.container,this.hideElement.hidden=!0;const An=document.createElement("div");An.className="popup";const an=this.color;if(an){const on=.7*(255-an[0])+an[0],wn=.7*(255-an[1])+an[1],pn=.7*(255-an[2])+an[2];An.style.backgroundColor=bt.Util.makeHexColor(on|0,wn|0,pn|0)}const fn=document.createElement("h1");fn.dir=this.titleObj.dir,fn.textContent=this.titleObj.str,An.append(fn);const bn=wt.PDFDateString.toDateObject(this.modificationDate);if(bn){const on=document.createElement("span");on.className="popupDate",on.textContent="{{date}}, {{time}}",on.dataset.l10nId="annotation_date_string",on.dataset.l10nArgs=JSON.stringify({date:bn.toLocaleDateString(),time:bn.toLocaleTimeString()}),An.append(on)}if((vn=this.richText)!=null&&vn.str&&(!((gn=this.contentsObj)!=null&&gn.str)||this.contentsObj.str===this.richText.str))St.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:An}),An.lastChild.className="richText popupContent";else{const on=this._formatContents(this.contentsObj);An.append(on)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const on of this.trigger)on.addEventListener("click",this._toggle.bind(this)),on.addEventListener("mouseover",this._show.bind(this,!1)),on.addEventListener("mouseout",this._hide.bind(this,!1));return An.addEventListener("click",this._hide.bind(this,!0)),dn.append(An),dn}_formatContents({str:rn,dir:dn}){const An=document.createElement("p");An.className="popupContent",An.dir=dn;const an=rn.split(/(?:\r\n?|\n)/);for(let fn=0,bn=an.length;fn<bn;++fn){const vn=an[fn];An.append(document.createTextNode(vn)),fn<bn-1&&An.append(document.createElement("br"))}return An}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(rn=!1){rn&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(rn=!0){rn&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class Vt extends xt{constructor(rn){var An,an,fn;const dn=!!(rn.data.hasPopup||(An=rn.data.titleObj)!=null&&An.str||(an=rn.data.contentsObj)!=null&&an.str||(fn=rn.data.richText)!=null&&fn.str);super(rn,{isRenderable:dn,ignoreBorder:!0}),this.textContent=rn.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const rn=document.createElement("div");rn.className="annotationTextContent",rn.setAttribute("role","comment");for(const dn of this.textContent){const An=document.createElement("span");An.textContent=dn,rn.append(An)}this.container.append(rn)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Gt extends xt{constructor(rn){var An,an,fn;const dn=!!(rn.data.hasPopup||(An=rn.data.titleObj)!=null&&An.str||(an=rn.data.contentsObj)!=null&&an.str||(fn=rn.data.richText)!=null&&fn.str);super(rn,{isRenderable:dn,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const rn=this.data,{width:dn,height:An}=Mt(rn.rect),an=this.svgFactory.create(dn,An,!0),fn=this.svgFactory.createElement("svg:line");return fn.setAttribute("x1",rn.rect[2]-rn.lineCoordinates[0]),fn.setAttribute("y1",rn.rect[3]-rn.lineCoordinates[1]),fn.setAttribute("x2",rn.rect[2]-rn.lineCoordinates[2]),fn.setAttribute("y2",rn.rect[3]-rn.lineCoordinates[3]),fn.setAttribute("stroke-width",rn.borderStyle.width||1),fn.setAttribute("stroke","transparent"),fn.setAttribute("fill","transparent"),an.append(fn),this.container.append(an),this._createPopup(fn,rn),this.container}}class Wt extends xt{constructor(rn){var An,an,fn;const dn=!!(rn.data.hasPopup||(An=rn.data.titleObj)!=null&&An.str||(an=rn.data.contentsObj)!=null&&an.str||(fn=rn.data.richText)!=null&&fn.str);super(rn,{isRenderable:dn,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const rn=this.data,{width:dn,height:An}=Mt(rn.rect),an=this.svgFactory.create(dn,An,!0),fn=rn.borderStyle.width,bn=this.svgFactory.createElement("svg:rect");return bn.setAttribute("x",fn/2),bn.setAttribute("y",fn/2),bn.setAttribute("width",dn-fn),bn.setAttribute("height",An-fn),bn.setAttribute("stroke-width",fn||1),bn.setAttribute("stroke","transparent"),bn.setAttribute("fill","transparent"),an.append(bn),this.container.append(an),this._createPopup(bn,rn),this.container}}class en extends xt{constructor(rn){var An,an,fn;const dn=!!(rn.data.hasPopup||(An=rn.data.titleObj)!=null&&An.str||(an=rn.data.contentsObj)!=null&&an.str||(fn=rn.data.richText)!=null&&fn.str);super(rn,{isRenderable:dn,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const rn=this.data,{width:dn,height:An}=Mt(rn.rect),an=this.svgFactory.create(dn,An,!0),fn=rn.borderStyle.width,bn=this.svgFactory.createElement("svg:ellipse");return bn.setAttribute("cx",dn/2),bn.setAttribute("cy",An/2),bn.setAttribute("rx",dn/2-fn/2),bn.setAttribute("ry",An/2-fn/2),bn.setAttribute("stroke-width",fn||1),bn.setAttribute("stroke","transparent"),bn.setAttribute("fill","transparent"),an.append(bn),this.container.append(an),this._createPopup(bn,rn),this.container}}class Sn extends xt{constructor(rn){var An,an,fn;const dn=!!(rn.data.hasPopup||(An=rn.data.titleObj)!=null&&An.str||(an=rn.data.contentsObj)!=null&&an.str||(fn=rn.data.richText)!=null&&fn.str);super(rn,{isRenderable:dn,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const rn=this.data,{width:dn,height:An}=Mt(rn.rect),an=this.svgFactory.create(dn,An,!0);let fn=[];for(const vn of rn.vertices){const gn=vn.x-rn.rect[0],on=rn.rect[3]-vn.y;fn.push(gn+","+on)}fn=fn.join(" ");const bn=this.svgFactory.createElement(this.svgElementName);return bn.setAttribute("points",fn),bn.setAttribute("stroke-width",rn.borderStyle.width||1),bn.setAttribute("stroke","transparent"),bn.setAttribute("fill","transparent"),an.append(bn),this.container.append(an),this._createPopup(bn,rn),this.container}}class sn extends Sn{constructor(rn){super(rn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class hn extends xt{constructor(rn){var An,an,fn;const dn=!!(rn.data.hasPopup||(An=rn.data.titleObj)!=null&&An.str||(an=rn.data.contentsObj)!=null&&an.str||(fn=rn.data.richText)!=null&&fn.str);super(rn,{isRenderable:dn,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Qt extends xt{constructor(rn){var An,an,fn;const dn=!!(rn.data.hasPopup||(An=rn.data.titleObj)!=null&&An.str||(an=rn.data.contentsObj)!=null&&an.str||(fn=rn.data.richText)!=null&&fn.str);super(rn,{isRenderable:dn,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const rn=this.data,{width:dn,height:An}=Mt(rn.rect),an=this.svgFactory.create(dn,An,!0);for(const fn of rn.inkLists){let bn=[];for(const gn of fn){const on=gn.x-rn.rect[0],wn=rn.rect[3]-gn.y;bn.push(`${on},${wn}`)}bn=bn.join(" ");const vn=this.svgFactory.createElement(this.svgElementName);vn.setAttribute("points",bn),vn.setAttribute("stroke-width",rn.borderStyle.width||1),vn.setAttribute("stroke","transparent"),vn.setAttribute("fill","transparent"),this._createPopup(vn,rn),an.append(vn)}return this.container.append(an),this.container}}class qt extends xt{constructor(rn){var An,an,fn;const dn=!!(rn.data.hasPopup||(An=rn.data.titleObj)!=null&&An.str||(an=rn.data.contentsObj)!=null&&an.str||(fn=rn.data.richText)!=null&&fn.str);super(rn,{isRenderable:dn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class nn extends xt{constructor(rn){var An,an,fn;const dn=!!(rn.data.hasPopup||(An=rn.data.titleObj)!=null&&An.str||(an=rn.data.contentsObj)!=null&&an.str||(fn=rn.data.richText)!=null&&fn.str);super(rn,{isRenderable:dn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Ut extends xt{constructor(rn){var An,an,fn;const dn=!!(rn.data.hasPopup||(An=rn.data.titleObj)!=null&&An.str||(an=rn.data.contentsObj)!=null&&an.str||(fn=rn.data.richText)!=null&&fn.str);super(rn,{isRenderable:dn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class zt extends xt{constructor(rn){var An,an,fn;const dn=!!(rn.data.hasPopup||(An=rn.data.titleObj)!=null&&An.str||(an=rn.data.contentsObj)!=null&&an.str||(fn=rn.data.richText)!=null&&fn.str);super(rn,{isRenderable:dn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class cn extends xt{constructor(rn){var An,an,fn;const dn=!!(rn.data.hasPopup||(An=rn.data.titleObj)!=null&&An.str||(an=rn.data.contentsObj)!=null&&an.str||(fn=rn.data.richText)!=null&&fn.str);super(rn,{isRenderable:dn,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ln extends xt{constructor(rn){var an;super(rn,{isRenderable:!0});const{filename:dn,content:An}=this.data.file;this.filename=(0,wt.getFilenameFromUrl)(dn),this.content=An,(an=this.linkService.eventBus)==null||an.dispatch("fileattachmentannotation",{source:this,filename:dn,content:An})}render(){var dn,An;this.container.className="fileAttachmentAnnotation";const rn=document.createElement("div");return rn.className="popupTriggerArea",rn.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((dn=this.data.titleObj)!=null&&dn.str||(An=this.data.contentsObj)!=null&&An.str||this.data.richText)&&this._createPopup(rn,this.data),this.container.append(rn),this.container}_download(){var rn;(rn=this.downloadManager)==null||rn.openOrDownloadData(this.container,this.content,this.filename)}}const yn=class yn{static render(rn){var vn,gn;const{annotations:dn,div:An,viewport:an,accessibilityManager:fn}=rn;Dn(this,Jt,t9).call(this,An,an);let bn=0;for(const on of dn){if(on.annotationType!==bt.AnnotationType.POPUP){const{width:pn,height:Cn}=Mt(on.rect);if(pn<=0||Cn<=0)continue}const wn=Pt.create({data:on,layer:An,page:rn.page,viewport:an,linkService:rn.linkService,downloadManager:rn.downloadManager,imageResourcesPath:rn.imageResourcesPath||"",renderForms:rn.renderForms!==!1,svgFactory:new wt.DOMSVGFactory,annotationStorage:rn.annotationStorage||new At.AnnotationStorage,enableScripting:rn.enableScripting,hasJSActions:rn.hasJSActions,fieldObjects:rn.fieldObjects,mouseState:rn.mouseState||{isDown:!1}});if(wn.isRenderable){const pn=wn.render();if(on.hidden&&(pn.style.visibility="hidden"),Array.isArray(pn))for(const Cn of pn)Cn.style.zIndex=bn++,Dn(vn=yn,Jt,e9).call(vn,Cn,on.id,An,fn);else pn.style.zIndex=bn++,wn instanceof Ht?An.prepend(pn):Dn(gn=yn,Jt,e9).call(gn,pn,on.id,An,fn)}}Dn(this,Jt,n9).call(this,An,rn.annotationCanvasMap)}static update(rn){const{annotationCanvasMap:dn,div:An,viewport:an}=rn;Dn(this,Jt,t9).call(this,An,an),Dn(this,Jt,n9).call(this,An,dn),An.hidden=!1}};Jt=new WeakSet,e9=function(rn,dn,An,an){const fn=rn.firstChild||rn;fn.id=`${wt.AnnotationPrefix}${dn}`,An.append(rn),an==null||an.moveElementInDOM(An,rn,fn,!1)},t9=function(rn,{width:dn,height:An,rotation:an}){const{style:fn}=rn,bn=an%180!==0,vn=Math.floor(dn)+"px",gn=Math.floor(An)+"px";fn.width=bn?gn:vn,fn.height=bn?vn:gn,rn.setAttribute("data-main-rotation",an)},n9=function(rn,dn){if(dn){for(const[An,an]of dn){const fn=rn.querySelector(`[data-annotation-id="${An}"]`);if(!fn)continue;const{firstChild:bn}=fn;bn?bn.nodeName==="CANVAS"?bn.replaceWith(an):bn.before(an):fn.append(an)}dn.clear()}},$n(yn,Jt);let Kt=yn;$.AnnotationLayer=Kt},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function ht(wt){return Math.floor(Math.max(0,Math.min(1,wt))*255).toString(16).padStart(2,"0")}class bt{static CMYK_G([At,Ct,St,Ft]){return["G",1-Math.min(1,.3*At+.59*St+.11*Ct+Ft)]}static G_CMYK([At]){return["CMYK",0,0,0,1-At]}static G_RGB([At]){return["RGB",At,At,At]}static G_HTML([At]){const Ct=ht(At);return`#${Ct}${Ct}${Ct}`}static RGB_G([At,Ct,St]){return["G",.3*At+.59*Ct+.11*St]}static RGB_HTML([At,Ct,St]){const Ft=ht(At),vt=ht(Ct),Et=ht(St);return`#${Ft}${vt}${Et}`}static T_HTML(){return"#00000000"}static CMYK_RGB([At,Ct,St,Ft]){return["RGB",1-Math.min(1,At+Ft),1-Math.min(1,St+Ft),1-Math.min(1,Ct+Ft)]}static CMYK_HTML(At){const Ct=this.CMYK_RGB(At).slice(1);return this.RGB_HTML(Ct)}static RGB_CMYK([At,Ct,St]){const Ft=1-At,vt=1-Ct,Et=1-St,Mt=Math.min(Ft,vt,Et);return["CMYK",Ft,vt,Et,Mt]}}$.ColorConverters=bt},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var bt=ht(20);class wt{static setupStorage(Ct,St,Ft,vt,Et){const Mt=vt.getValue(St,{value:null});switch(Ft.name){case"textarea":if(Mt.value!==null&&(Ct.textContent=Mt.value),Et==="print")break;Ct.addEventListener("input",Pt=>{vt.setValue(St,{value:Pt.target.value})});break;case"input":if(Ft.attributes.type==="radio"||Ft.attributes.type==="checkbox"){if(Mt.value===Ft.attributes.xfaOn?Ct.setAttribute("checked",!0):Mt.value===Ft.attributes.xfaOff&&Ct.removeAttribute("checked"),Et==="print")break;Ct.addEventListener("change",Pt=>{vt.setValue(St,{value:Pt.target.checked?Pt.target.getAttribute("xfaOn"):Pt.target.getAttribute("xfaOff")})})}else{if(Mt.value!==null&&Ct.setAttribute("value",Mt.value),Et==="print")break;Ct.addEventListener("input",Pt=>{vt.setValue(St,{value:Pt.target.value})})}break;case"select":if(Mt.value!==null)for(const Pt of Ft.children)Pt.attributes.value===Mt.value&&(Pt.attributes.selected=!0);Ct.addEventListener("input",Pt=>{const xt=Pt.target.options,$t=xt.selectedIndex===-1?"":xt[xt.selectedIndex].value;vt.setValue(St,{value:$t})});break}}static setAttributes({html:Ct,element:St,storage:Ft=null,intent:vt,linkService:Et}){const{attributes:Mt}=St,Pt=Ct instanceof HTMLAnchorElement;Mt.type==="radio"&&(Mt.name=`${Mt.name}-${vt}`);for(const[xt,$t]of Object.entries(Mt))if($t!=null)switch(xt){case"class":$t.length&&Ct.setAttribute(xt,$t.join(" "));break;case"dataId":break;case"id":Ct.setAttribute("data-element-id",$t);break;case"style":Object.assign(Ct.style,$t);break;case"textContent":Ct.textContent=$t;break;default:(!Pt||xt!=="href"&&xt!=="newWindow")&&Ct.setAttribute(xt,$t)}Pt&&Et.addLinkAttributes(Ct,Mt.href,Mt.newWindow),Ft&&Mt.dataId&&this.setupStorage(Ct,Mt.dataId,St,Ft)}static render(Ct){var _t;const St=Ct.annotationStorage,Ft=Ct.linkService,vt=Ct.xfaHtml,Et=Ct.intent||"display",Mt=document.createElement(vt.name);vt.attributes&&this.setAttributes({html:Mt,element:vt,intent:Et,linkService:Ft});const Pt=[[vt,-1,Mt]],xt=Ct.div;if(xt.append(Mt),Ct.viewport){const jt=`matrix(${Ct.viewport.transform.join(",")})`;xt.style.transform=jt}Et!=="richText"&&xt.setAttribute("class","xfaLayer xfaFont");const $t=[];for(;Pt.length>0;){const[jt,Rt,Nt]=Pt.at(-1);if(Rt+1===jt.children.length){Pt.pop();continue}const Lt=jt.children[++Pt.at(-1)[1]];if(Lt===null)continue;const{name:kt}=Lt;if(kt==="#text"){const Ht=document.createTextNode(Lt.value);$t.push(Ht),Nt.append(Ht);continue}let Bt;if((_t=Lt==null?void 0:Lt.attributes)!=null&&_t.xmlns?Bt=document.createElementNS(Lt.attributes.xmlns,kt):Bt=document.createElement(kt),Nt.append(Bt),Lt.attributes&&this.setAttributes({html:Bt,element:Lt,storage:St,intent:Et,linkService:Ft}),Lt.children&&Lt.children.length>0)Pt.push([Lt,-1,Bt]);else if(Lt.value){const Ht=document.createTextNode(Lt.value);bt.XfaText.shouldBuildText(kt)&&$t.push(Ht),Bt.append(Ht)}}for(const jt of xt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))jt.setAttribute("readOnly",!0);return{textDivs:$t}}static update(Ct){const St=`matrix(${Ct.viewport.transform.join(",")})`;Ct.div.style.transform=St,Ct.div.hidden=!1}}$.XfaLayer=wt},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=Nt;var bt=ht(1),wt=ht(8);const At=1e5,Ct=30,St=.8,Ft=new Map,vt=/^\s+$/g;function Et(Lt,kt){const Bt=Ft.get(Lt);if(Bt)return Bt;kt.save(),kt.font=`${Ct}px ${Lt}`;const Ht=kt.measureText("");let Ot=Ht.fontBoundingBoxAscent,Vt=Math.abs(Ht.fontBoundingBoxDescent);if(Ot){kt.restore();const Wt=Ot/(Ot+Vt);return Ft.set(Lt,Wt),Wt}kt.strokeStyle="red",kt.clearRect(0,0,Ct,Ct),kt.strokeText("g",0,0);let Gt=kt.getImageData(0,0,Ct,Ct).data;Vt=0;for(let Wt=Gt.length-1-3;Wt>=0;Wt-=4)if(Gt[Wt]>0){Vt=Math.ceil(Wt/4/Ct);break}kt.clearRect(0,0,Ct,Ct),kt.strokeText("A",0,Ct),Gt=kt.getImageData(0,0,Ct,Ct).data,Ot=0;for(let Wt=0,en=Gt.length;Wt<en;Wt+=4)if(Gt[Wt]>0){Ot=Ct-Math.floor(Wt/4/Ct);break}if(kt.restore(),Ot){const Wt=Ot/(Ot+Vt);return Ft.set(Lt,Wt),Wt}return Ft.set(Lt,St),St}function Mt(Lt,kt,Bt,Ht){const Ot=document.createElement("span"),Vt=Lt._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:kt.str!=="",hasEOL:kt.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:kt.str!=="",hasEOL:kt.hasEOL,fontSize:0};Lt._textDivs.push(Ot);const Gt=bt.Util.transform(Lt._viewport.transform,kt.transform);let Wt=Math.atan2(Gt[1],Gt[0]);const en=Bt[kt.fontName];en.vertical&&(Wt+=Math.PI/2);const Sn=Math.hypot(Gt[2],Gt[3]),sn=Sn*Et(en.fontFamily,Ht);let hn,Qt;Wt===0?(hn=Gt[4],Qt=Gt[5]-sn):(hn=Gt[4]+sn*Math.sin(Wt),Qt=Gt[5]-sn*Math.cos(Wt)),Ot.style.left=`${hn}px`,Ot.style.top=`${Qt}px`,Ot.style.fontSize=`${Sn}px`,Ot.style.fontFamily=en.fontFamily,Vt.fontSize=Sn,Ot.setAttribute("role","presentation"),Ot.textContent=kt.str,Ot.dir=kt.dir,Lt._fontInspectorEnabled&&(Ot.dataset.fontName=kt.fontName),Wt!==0&&(Vt.angle=Wt*(180/Math.PI));let qt=!1;if(kt.str.length>1||Lt._enhanceTextSelection&&vt.test(kt.str))qt=!0;else if(kt.str!==" "&&kt.transform[0]!==kt.transform[3]){const nn=Math.abs(kt.transform[0]),Ut=Math.abs(kt.transform[3]);nn!==Ut&&Math.max(nn,Ut)/Math.min(nn,Ut)>1.5&&(qt=!0)}if(qt&&(en.vertical?Vt.canvasWidth=kt.height*Lt._viewport.scale:Vt.canvasWidth=kt.width*Lt._viewport.scale),Lt._textDivProperties.set(Ot,Vt),Lt._textContentStream&&Lt._layoutText(Ot),Lt._enhanceTextSelection&&Vt.hasText){let nn=1,Ut=0;Wt!==0&&(nn=Math.cos(Wt),Ut=Math.sin(Wt));const zt=(en.vertical?kt.height:kt.width)*Lt._viewport.scale,cn=Sn;let ln,Kt;Wt!==0?(ln=[nn,Ut,-Ut,nn,hn,Qt],Kt=bt.Util.getAxialAlignedBoundingBox([0,0,zt,cn],ln)):Kt=[hn,Qt,hn+zt,Qt+cn],Lt._bounds.push({left:Kt[0],top:Kt[1],right:Kt[2],bottom:Kt[3],div:Ot,size:[zt,cn],m:ln})}}function Pt(Lt){if(Lt._canceled)return;const kt=Lt._textDivs,Bt=Lt._capability,Ht=kt.length;if(Ht>At){Lt._renderingDone=!0,Bt.resolve();return}if(!Lt._textContentStream)for(let Ot=0;Ot<Ht;Ot++)Lt._layoutText(kt[Ot]);Lt._renderingDone=!0,Bt.resolve()}function xt(Lt,kt,Bt){let Ht=0;for(let Ot=0;Ot<Bt;Ot++){const Vt=Lt[kt++];Vt>0&&(Ht=Ht?Math.min(Vt,Ht):Vt)}return Ht}function $t(Lt){const kt=Lt._bounds,Bt=Lt._viewport,Ht=_t(Bt.width,Bt.height,kt);for(let Ot=0;Ot<Ht.length;Ot++){const Vt=kt[Ot].div,Gt=Lt._textDivProperties.get(Vt);if(Gt.angle===0){Gt.paddingLeft=kt[Ot].left-Ht[Ot].left,Gt.paddingTop=kt[Ot].top-Ht[Ot].top,Gt.paddingRight=Ht[Ot].right-kt[Ot].right,Gt.paddingBottom=Ht[Ot].bottom-kt[Ot].bottom,Lt._textDivProperties.set(Vt,Gt);continue}const Wt=Ht[Ot],en=kt[Ot],Sn=en.m,sn=Sn[0],hn=Sn[1],Qt=[[0,0],[0,en.size[1]],[en.size[0],0],en.size],qt=new Float64Array(64);for(let Ut=0,zt=Qt.length;Ut<zt;Ut++){const cn=bt.Util.applyTransform(Qt[Ut],Sn);qt[Ut+0]=sn&&(Wt.left-cn[0])/sn,qt[Ut+4]=hn&&(Wt.top-cn[1])/hn,qt[Ut+8]=sn&&(Wt.right-cn[0])/sn,qt[Ut+12]=hn&&(Wt.bottom-cn[1])/hn,qt[Ut+16]=hn&&(Wt.left-cn[0])/-hn,qt[Ut+20]=sn&&(Wt.top-cn[1])/sn,qt[Ut+24]=hn&&(Wt.right-cn[0])/-hn,qt[Ut+28]=sn&&(Wt.bottom-cn[1])/sn,qt[Ut+32]=sn&&(Wt.left-cn[0])/-sn,qt[Ut+36]=hn&&(Wt.top-cn[1])/-hn,qt[Ut+40]=sn&&(Wt.right-cn[0])/-sn,qt[Ut+44]=hn&&(Wt.bottom-cn[1])/-hn,qt[Ut+48]=hn&&(Wt.left-cn[0])/hn,qt[Ut+52]=sn&&(Wt.top-cn[1])/-sn,qt[Ut+56]=hn&&(Wt.right-cn[0])/hn,qt[Ut+60]=sn&&(Wt.bottom-cn[1])/-sn}const nn=1+Math.min(Math.abs(sn),Math.abs(hn));Gt.paddingLeft=xt(qt,32,16)/nn,Gt.paddingTop=xt(qt,48,16)/nn,Gt.paddingRight=xt(qt,0,16)/nn,Gt.paddingBottom=xt(qt,16,16)/nn,Lt._textDivProperties.set(Vt,Gt)}}function _t(Lt,kt,Bt){const Ht=Bt.map(function(Vt,Gt){return{x1:Vt.left,y1:Vt.top,x2:Vt.right,y2:Vt.bottom,index:Gt,x1New:void 0,x2New:void 0}});jt(Lt,Ht);const Ot=new Array(Bt.length);for(const Vt of Ht){const Gt=Vt.index;Ot[Gt]={left:Vt.x1New,top:0,right:Vt.x2New,bottom:0}}Bt.map(function(Vt,Gt){const Wt=Ot[Gt],en=Ht[Gt];en.x1=Vt.top,en.y1=Lt-Wt.right,en.x2=Vt.bottom,en.y2=Lt-Wt.left,en.index=Gt,en.x1New=void 0,en.x2New=void 0}),jt(kt,Ht);for(const Vt of Ht){const Gt=Vt.index;Ot[Gt].top=Vt.x1New,Ot[Gt].bottom=Vt.x2New}return Ot}function jt(Lt,kt){kt.sort(function(Ot,Vt){return Ot.x1-Vt.x1||Ot.index-Vt.index});const Ht=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const Ot of kt){let Vt=0;for(;Vt<Ht.length&&Ht[Vt].end<=Ot.y1;)Vt++;let Gt=Ht.length-1;for(;Gt>=0&&Ht[Gt].start>=Ot.y2;)Gt--;let Wt,en,Sn,sn,hn=-1/0;for(Sn=Vt;Sn<=Gt;Sn++){Wt=Ht[Sn],en=Wt.boundary;let nn;en.x2>Ot.x1?nn=en.index>Ot.index?en.x1New:Ot.x1:en.x2New===void 0?nn=(en.x2+Ot.x1)/2:nn=en.x2New,nn>hn&&(hn=nn)}for(Ot.x1New=hn,Sn=Vt;Sn<=Gt;Sn++)Wt=Ht[Sn],en=Wt.boundary,en.x2New===void 0?en.x2>Ot.x1?en.index>Ot.index&&(en.x2New=en.x2):en.x2New=hn:en.x2New>hn&&(en.x2New=Math.max(hn,en.x2));const Qt=[];let qt=null;for(Sn=Vt;Sn<=Gt;Sn++){Wt=Ht[Sn],en=Wt.boundary;const nn=en.x2>Ot.x2?en:Ot;qt===nn?Qt.at(-1).end=Wt.end:(Qt.push({start:Wt.start,end:Wt.end,boundary:nn}),qt=nn)}for(Ht[Vt].start<Ot.y1&&(Qt[0].start=Ot.y1,Qt.unshift({start:Ht[Vt].start,end:Ot.y1,boundary:Ht[Vt].boundary})),Ot.y2<Ht[Gt].end&&(Qt.at(-1).end=Ot.y2,Qt.push({start:Ot.y2,end:Ht[Gt].end,boundary:Ht[Gt].boundary})),Sn=Vt;Sn<=Gt;Sn++){if(Wt=Ht[Sn],en=Wt.boundary,en.x2New!==void 0)continue;let nn=!1;for(sn=Vt-1;!nn&&sn>=0&&Ht[sn].start>=en.y1;sn--)nn=Ht[sn].boundary===en;for(sn=Gt+1;!nn&&sn<Ht.length&&Ht[sn].end<=en.y2;sn++)nn=Ht[sn].boundary===en;for(sn=0;!nn&&sn<Qt.length;sn++)nn=Qt[sn].boundary===en;nn||(en.x2New=hn)}Array.prototype.splice.apply(Ht,[Vt,Gt-Vt+1,...Qt])}for(const Ot of Ht){const Vt=Ot.boundary;Vt.x2New===void 0&&(Vt.x2New=Math.max(Lt,Vt.x2))}}class Rt{constructor({textContent:kt,textContentStream:Bt,container:Ht,viewport:Ot,textDivs:Vt,textContentItemsStr:Gt,enhanceTextSelection:Wt}){var en;Wt&&(0,wt.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=kt,this._textContentStream=Bt,this._container=Ht,this._document=Ht.ownerDocument,this._viewport=Ot,this._textDivs=Vt||[],this._textContentItemsStr=Gt||[],this._enhanceTextSelection=!!Wt,this._fontInspectorEnabled=!!((en=globalThis.FontInspector)!=null&&en.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,bt.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new bt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(kt,Bt){for(let Ht=0,Ot=kt.length;Ht<Ot;Ht++){if(kt[Ht].str===void 0){if(kt[Ht].type==="beginMarkedContentProps"||kt[Ht].type==="beginMarkedContent"){const Vt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),kt[Ht].id!==null&&this._container.setAttribute("id",`${kt[Ht].id}`),Vt.append(this._container)}else kt[Ht].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(kt[Ht].str),Mt(this,kt[Ht],Bt,this._layoutTextCtx)}}_layoutText(kt){const Bt=this._textDivProperties.get(kt);let Ht="";if(Bt.canvasWidth!==0&&Bt.hasText){const{fontFamily:Ot}=kt.style,{fontSize:Vt}=Bt;(Vt!==this._layoutTextLastFontSize||Ot!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${Vt*this._devicePixelRatio}px ${Ot}`,this._layoutTextLastFontSize=Vt,this._layoutTextLastFontFamily=Ot);const{width:Gt}=this._layoutTextCtx.measureText(kt.textContent);if(Gt>0){const Wt=this._devicePixelRatio*Bt.canvasWidth/Gt;this._enhanceTextSelection&&(Bt.scale=Wt),Ht=`scaleX(${Wt})`}}if(Bt.angle!==0&&(Ht=`rotate(${Bt.angle}deg) ${Ht}`),Ht.length>0&&(this._enhanceTextSelection&&(Bt.originalTransform=Ht),kt.style.transform=Ht),Bt.hasText&&this._container.append(kt),Bt.hasEOL){const Ot=document.createElement("br");Ot.setAttribute("role","presentation"),this._container.append(Ot)}}_render(kt=0){const Bt=(0,bt.createPromiseCapability)();let Ht=Object.create(null);const Ot=this._document.createElement("canvas");if(Ot.height=Ot.width=Ct,this._layoutTextCtx=Ot.getContext("2d",{alpha:!1}),this._textContent){const Vt=this._textContent.items,Gt=this._textContent.styles;this._processItems(Vt,Gt),Bt.resolve()}else if(this._textContentStream){const Vt=()=>{this._reader.read().then(({value:Gt,done:Wt})=>{if(Wt){Bt.resolve();return}Object.assign(Ht,Gt.styles),this._processItems(Gt.items,Ht),Vt()},Bt.reject)};this._reader=this._textContentStream.getReader(),Vt()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');Bt.promise.then(()=>{Ht=null,kt?this._renderTimer=setTimeout(()=>{Pt(this),this._renderTimer=null},kt):Pt(this)},this._capability.reject)}expandTextDivs(kt=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&($t(this),this._bounds=null);const Bt=[],Ht=[];for(let Ot=0,Vt=this._textDivs.length;Ot<Vt;Ot++){const Gt=this._textDivs[Ot],Wt=this._textDivProperties.get(Gt);Wt.hasText&&(kt?(Bt.length=0,Ht.length=0,Wt.originalTransform&&Bt.push(Wt.originalTransform),Wt.paddingTop>0?(Ht.push(`${Wt.paddingTop}px`),Bt.push(`translateY(${-Wt.paddingTop}px)`)):Ht.push(0),Wt.paddingRight>0?Ht.push(`${Wt.paddingRight/Wt.scale}px`):Ht.push(0),Wt.paddingBottom>0?Ht.push(`${Wt.paddingBottom}px`):Ht.push(0),Wt.paddingLeft>0?(Ht.push(`${Wt.paddingLeft/Wt.scale}px`),Bt.push(`translateX(${-Wt.paddingLeft/Wt.scale}px)`)):Ht.push(0),Gt.style.padding=Ht.join(" "),Bt.length&&(Gt.style.transform=Bt.join(" "))):(Gt.style.padding=null,Gt.style.transform=Wt.originalTransform))}}}$.TextLayerRenderTask=Rt;function Nt(Lt){const kt=new Rt({textContent:Lt.textContent,textContentStream:Lt.textContentStream,container:Lt.container,viewport:Lt.viewport,textDivs:Lt.textDivs,textContentItemsStr:Lt.textContentItemsStr,enhanceTextSelection:Lt.enhanceTextSelection});return kt._render(Lt.timeout),kt}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var bt=ht(8),wt=ht(1),At=ht(3);let Ct=class{constructor(){(0,wt.unreachable)("Not implemented: SVGGraphics")}};$.SVGGraphics=Ct;{let _t=function(Bt){let Ht=[];const Ot=[];for(const Vt of Bt){if(Vt.fn==="save"){Ht.push({fnId:92,fn:"group",items:[]}),Ot.push(Ht),Ht=Ht.at(-1).items;continue}Vt.fn==="restore"?Ht=Ot.pop():Ht.push(Vt)}return Ht},jt=function(Bt){if(Number.isInteger(Bt))return Bt.toString();const Ht=Bt.toFixed(10);let Ot=Ht.length-1;if(Ht[Ot]!=="0")return Ht;do Ot--;while(Ht[Ot]==="0");return Ht.substring(0,Ht[Ot]==="."?Ot:Ot+1)},Rt=function(Bt){if(Bt[4]===0&&Bt[5]===0){if(Bt[1]===0&&Bt[2]===0)return Bt[0]===1&&Bt[3]===1?"":`scale(${jt(Bt[0])} ${jt(Bt[3])})`;if(Bt[0]===Bt[3]&&Bt[1]===-Bt[2]){const Ht=Math.acos(Bt[0])*180/Math.PI;return`rotate(${jt(Ht)})`}}else if(Bt[0]===1&&Bt[1]===0&&Bt[2]===0&&Bt[3]===1)return`translate(${jt(Bt[4])} ${jt(Bt[5])})`;return`matrix(${jt(Bt[0])} ${jt(Bt[1])} ${jt(Bt[2])} ${jt(Bt[3])} ${jt(Bt[4])} ${jt(Bt[5])})`};const St={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Ft="http://www.w3.org/XML/1998/namespace",vt="http://www.w3.org/1999/xlink",Et=["butt","round","square"],Mt=["miter","round","bevel"],Pt=function(Bt,Ht="",Ot=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Ot)return URL.createObjectURL(new Blob([Bt],{type:Ht}));const Vt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Gt=`data:${Ht};base64,`;for(let Wt=0,en=Bt.length;Wt<en;Wt+=3){const Sn=Bt[Wt]&255,sn=Bt[Wt+1]&255,hn=Bt[Wt+2]&255,Qt=Sn>>2,qt=(Sn&3)<<4|sn>>4,nn=Wt+1<en?(sn&15)<<2|hn>>6:64,Ut=Wt+2<en?hn&63:64;Gt+=Vt[Qt]+Vt[qt]+Vt[nn]+Vt[Ut]}return Gt},xt=function(){const Bt=new Uint8Array([137,80,78,71,13,10,26,10]),Ht=12,Ot=new Int32Array(256);for(let hn=0;hn<256;hn++){let Qt=hn;for(let qt=0;qt<8;qt++)Qt&1?Qt=3988292384^Qt>>1&2147483647:Qt=Qt>>1&2147483647;Ot[hn]=Qt}function Vt(hn,Qt,qt){let nn=-1;for(let Ut=Qt;Ut<qt;Ut++){const zt=(nn^hn[Ut])&255,cn=Ot[zt];nn=nn>>>8^cn}return nn^-1}function Gt(hn,Qt,qt,nn){let Ut=nn;const zt=Qt.length;qt[Ut]=zt>>24&255,qt[Ut+1]=zt>>16&255,qt[Ut+2]=zt>>8&255,qt[Ut+3]=zt&255,Ut+=4,qt[Ut]=hn.charCodeAt(0)&255,qt[Ut+1]=hn.charCodeAt(1)&255,qt[Ut+2]=hn.charCodeAt(2)&255,qt[Ut+3]=hn.charCodeAt(3)&255,Ut+=4,qt.set(Qt,Ut),Ut+=Qt.length;const cn=Vt(qt,nn+4,Ut);qt[Ut]=cn>>24&255,qt[Ut+1]=cn>>16&255,qt[Ut+2]=cn>>8&255,qt[Ut+3]=cn&255}function Wt(hn,Qt,qt){let nn=1,Ut=0;for(let zt=Qt;zt<qt;++zt)nn=(nn+(hn[zt]&255))%65521,Ut=(Ut+nn)%65521;return Ut<<16|nn}function en(hn){if(!At.isNodeJS)return Sn(hn);try{let Qt;parseInt(process.versions.node)>=8?Qt=hn:Qt=Buffer.from(hn);const qt=require$$5.deflateSync(Qt,{level:9});return qt instanceof Uint8Array?qt:new Uint8Array(qt)}catch(Qt){(0,wt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Qt)}return Sn(hn)}function Sn(hn){let Qt=hn.length;const qt=65535,nn=Math.ceil(Qt/qt),Ut=new Uint8Array(2+Qt+nn*5+4);let zt=0;Ut[zt++]=120,Ut[zt++]=156;let cn=0;for(;Qt>qt;)Ut[zt++]=0,Ut[zt++]=255,Ut[zt++]=255,Ut[zt++]=0,Ut[zt++]=0,Ut.set(hn.subarray(cn,cn+qt),zt),zt+=qt,cn+=qt,Qt-=qt;Ut[zt++]=1,Ut[zt++]=Qt&255,Ut[zt++]=Qt>>8&255,Ut[zt++]=~Qt&65535&255,Ut[zt++]=(~Qt&65535)>>8&255,Ut.set(hn.subarray(cn),zt),zt+=hn.length-cn;const ln=Wt(hn,0,hn.length);return Ut[zt++]=ln>>24&255,Ut[zt++]=ln>>16&255,Ut[zt++]=ln>>8&255,Ut[zt++]=ln&255,Ut}function sn(hn,Qt,qt,nn){const Ut=hn.width,zt=hn.height;let cn,ln,Kt;const Jt=hn.data;switch(Qt){case wt.ImageKind.GRAYSCALE_1BPP:ln=0,cn=1,Kt=Ut+7>>3;break;case wt.ImageKind.RGB_24BPP:ln=2,cn=8,Kt=Ut*3;break;case wt.ImageKind.RGBA_32BPP:ln=6,cn=8,Kt=Ut*4;break;default:throw new Error("invalid format")}const Yt=new Uint8Array((1+Kt)*zt);let tn=0,un=0;for(let an=0;an<zt;++an)Yt[tn++]=0,Yt.set(Jt.subarray(un,un+Kt),tn),un+=Kt,tn+=Kt;if(Qt===wt.ImageKind.GRAYSCALE_1BPP&&nn){tn=0;for(let an=0;an<zt;an++){tn++;for(let fn=0;fn<Kt;fn++)Yt[tn++]^=255}}const yn=new Uint8Array([Ut>>24&255,Ut>>16&255,Ut>>8&255,Ut&255,zt>>24&255,zt>>16&255,zt>>8&255,zt&255,cn,ln,0,0,0]),xn=en(Yt),rn=Bt.length+Ht*3+yn.length+xn.length,dn=new Uint8Array(rn);let An=0;return dn.set(Bt,An),An+=Bt.length,Gt("IHDR",yn,dn,An),An+=Ht+yn.length,Gt("IDATA",xn,dn,An),An+=Ht+xn.length,Gt("IEND",new Uint8Array(0),dn,An),Pt(dn,"image/png",qt)}return function(Qt,qt,nn){const Ut=Qt.kind===void 0?wt.ImageKind.GRAYSCALE_1BPP:Qt.kind;return sn(Qt,Ut,qt,nn)}}();class $t{constructor(){this.fontSizeScale=1,this.fontWeight=St.fontWeight,this.fontSize=0,this.textMatrix=wt.IDENTITY_MATRIX,this.fontMatrix=wt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=wt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=St.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Ht,Ot){this.x=Ht,this.y=Ot}}let Nt=0,Lt=0,kt=0;$.SVGGraphics=Ct=class{constructor(Bt,Ht,Ot=!1){(0,bt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new bt.DOMSVGFactory,this.current=new $t,this.transformMatrix=wt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Bt,this.objs=Ht,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Ot,this._operatorIdMapping=[];for(const Vt in wt.OPS)this._operatorIdMapping[wt.OPS[Vt]]=Vt}save(){this.transformStack.push(this.transformMatrix);const Bt=this.current;this.extraStack.push(Bt),this.current=Bt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Bt){this.save(),this.executeOpTree(Bt),this.restore()}loadDependencies(Bt){const Ht=Bt.fnArray,Ot=Bt.argsArray;for(let Vt=0,Gt=Ht.length;Vt<Gt;Vt++)if(Ht[Vt]===wt.OPS.dependency)for(const Wt of Ot[Vt]){const en=Wt.startsWith("g_")?this.commonObjs:this.objs,Sn=new Promise(sn=>{en.get(Wt,sn)});this.current.dependencies.push(Sn)}return Promise.all(this.current.dependencies)}transform(Bt,Ht,Ot,Vt,Gt,Wt){const en=[Bt,Ht,Ot,Vt,Gt,Wt];this.transformMatrix=wt.Util.transform(this.transformMatrix,en),this.tgrp=null}getSVG(Bt,Ht){this.viewport=Ht;const Ot=this._initialize(Ht);return this.loadDependencies(Bt).then(()=>(this.transformMatrix=wt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Bt)),Ot))}convertOpList(Bt){const Ht=this._operatorIdMapping,Ot=Bt.argsArray,Vt=Bt.fnArray,Gt=[];for(let Wt=0,en=Vt.length;Wt<en;Wt++){const Sn=Vt[Wt];Gt.push({fnId:Sn,fn:Ht[Sn],args:Ot[Wt]})}return _t(Gt)}executeOpTree(Bt){for(const Ht of Bt){const Ot=Ht.fn,Vt=Ht.fnId,Gt=Ht.args;switch(Vt|0){case wt.OPS.beginText:this.beginText();break;case wt.OPS.dependency:break;case wt.OPS.setLeading:this.setLeading(Gt);break;case wt.OPS.setLeadingMoveText:this.setLeadingMoveText(Gt[0],Gt[1]);break;case wt.OPS.setFont:this.setFont(Gt);break;case wt.OPS.showText:this.showText(Gt[0]);break;case wt.OPS.showSpacedText:this.showText(Gt[0]);break;case wt.OPS.endText:this.endText();break;case wt.OPS.moveText:this.moveText(Gt[0],Gt[1]);break;case wt.OPS.setCharSpacing:this.setCharSpacing(Gt[0]);break;case wt.OPS.setWordSpacing:this.setWordSpacing(Gt[0]);break;case wt.OPS.setHScale:this.setHScale(Gt[0]);break;case wt.OPS.setTextMatrix:this.setTextMatrix(Gt[0],Gt[1],Gt[2],Gt[3],Gt[4],Gt[5]);break;case wt.OPS.setTextRise:this.setTextRise(Gt[0]);break;case wt.OPS.setTextRenderingMode:this.setTextRenderingMode(Gt[0]);break;case wt.OPS.setLineWidth:this.setLineWidth(Gt[0]);break;case wt.OPS.setLineJoin:this.setLineJoin(Gt[0]);break;case wt.OPS.setLineCap:this.setLineCap(Gt[0]);break;case wt.OPS.setMiterLimit:this.setMiterLimit(Gt[0]);break;case wt.OPS.setFillRGBColor:this.setFillRGBColor(Gt[0],Gt[1],Gt[2]);break;case wt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Gt[0],Gt[1],Gt[2]);break;case wt.OPS.setStrokeColorN:this.setStrokeColorN(Gt);break;case wt.OPS.setFillColorN:this.setFillColorN(Gt);break;case wt.OPS.shadingFill:this.shadingFill(Gt[0]);break;case wt.OPS.setDash:this.setDash(Gt[0],Gt[1]);break;case wt.OPS.setRenderingIntent:this.setRenderingIntent(Gt[0]);break;case wt.OPS.setFlatness:this.setFlatness(Gt[0]);break;case wt.OPS.setGState:this.setGState(Gt[0]);break;case wt.OPS.fill:this.fill();break;case wt.OPS.eoFill:this.eoFill();break;case wt.OPS.stroke:this.stroke();break;case wt.OPS.fillStroke:this.fillStroke();break;case wt.OPS.eoFillStroke:this.eoFillStroke();break;case wt.OPS.clip:this.clip("nonzero");break;case wt.OPS.eoClip:this.clip("evenodd");break;case wt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case wt.OPS.paintImageXObject:this.paintImageXObject(Gt[0]);break;case wt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Gt[0]);break;case wt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Gt[0]);break;case wt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Gt[0],Gt[1]);break;case wt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case wt.OPS.closePath:this.closePath();break;case wt.OPS.closeStroke:this.closeStroke();break;case wt.OPS.closeFillStroke:this.closeFillStroke();break;case wt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case wt.OPS.nextLine:this.nextLine();break;case wt.OPS.transform:this.transform(Gt[0],Gt[1],Gt[2],Gt[3],Gt[4],Gt[5]);break;case wt.OPS.constructPath:this.constructPath(Gt[0],Gt[1]);break;case wt.OPS.endPath:this.endPath();break;case 92:this.group(Ht.items);break;default:(0,wt.warn)(`Unimplemented operator ${Ot}`);break}}}setWordSpacing(Bt){this.current.wordSpacing=Bt}setCharSpacing(Bt){this.current.charSpacing=Bt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Bt,Ht,Ot,Vt,Gt,Wt){const en=this.current;en.textMatrix=en.lineMatrix=[Bt,Ht,Ot,Vt,Gt,Wt],en.textMatrixScale=Math.hypot(Bt,Ht),en.x=en.lineX=0,en.y=en.lineY=0,en.xcoords=[],en.ycoords=[],en.tspan=this.svgFactory.createElement("svg:tspan"),en.tspan.setAttributeNS(null,"font-family",en.fontFamily),en.tspan.setAttributeNS(null,"font-size",`${jt(en.fontSize)}px`),en.tspan.setAttributeNS(null,"y",jt(-en.y)),en.txtElement=this.svgFactory.createElement("svg:text"),en.txtElement.append(en.tspan)}beginText(){const Bt=this.current;Bt.x=Bt.lineX=0,Bt.y=Bt.lineY=0,Bt.textMatrix=wt.IDENTITY_MATRIX,Bt.lineMatrix=wt.IDENTITY_MATRIX,Bt.textMatrixScale=1,Bt.tspan=this.svgFactory.createElement("svg:tspan"),Bt.txtElement=this.svgFactory.createElement("svg:text"),Bt.txtgrp=this.svgFactory.createElement("svg:g"),Bt.xcoords=[],Bt.ycoords=[]}moveText(Bt,Ht){const Ot=this.current;Ot.x=Ot.lineX+=Bt,Ot.y=Ot.lineY+=Ht,Ot.xcoords=[],Ot.ycoords=[],Ot.tspan=this.svgFactory.createElement("svg:tspan"),Ot.tspan.setAttributeNS(null,"font-family",Ot.fontFamily),Ot.tspan.setAttributeNS(null,"font-size",`${jt(Ot.fontSize)}px`),Ot.tspan.setAttributeNS(null,"y",jt(-Ot.y))}showText(Bt){const Ht=this.current,Ot=Ht.font,Vt=Ht.fontSize;if(Vt===0)return;const Gt=Ht.fontSizeScale,Wt=Ht.charSpacing,en=Ht.wordSpacing,Sn=Ht.fontDirection,sn=Ht.textHScale*Sn,hn=Ot.vertical,Qt=hn?1:-1,qt=Ot.defaultVMetrics,nn=Vt*Ht.fontMatrix[0];let Ut=0;for(const ln of Bt){if(ln===null){Ut+=Sn*en;continue}else if(typeof ln=="number"){Ut+=Qt*ln*Vt/1e3;continue}const Kt=(ln.isSpace?en:0)+Wt,Jt=ln.fontChar;let Yt,tn,un=ln.width;if(hn){let xn;const rn=ln.vmetric||qt;xn=ln.vmetric?rn[1]:un*.5,xn=-xn*nn;const dn=rn[2]*nn;un=rn?-rn[0]:un,Yt=xn/Gt,tn=(Ut+dn)/Gt}else Yt=Ut/Gt,tn=0;(ln.isInFont||Ot.missingFile)&&(Ht.xcoords.push(Ht.x+Yt),hn&&Ht.ycoords.push(-Ht.y+tn),Ht.tspan.textContent+=Jt);let yn;hn?yn=un*nn-Kt*Sn:yn=un*nn+Kt*Sn,Ut+=yn}Ht.tspan.setAttributeNS(null,"x",Ht.xcoords.map(jt).join(" ")),hn?Ht.tspan.setAttributeNS(null,"y",Ht.ycoords.map(jt).join(" ")):Ht.tspan.setAttributeNS(null,"y",jt(-Ht.y)),hn?Ht.y-=Ut:Ht.x+=Ut*sn,Ht.tspan.setAttributeNS(null,"font-family",Ht.fontFamily),Ht.tspan.setAttributeNS(null,"font-size",`${jt(Ht.fontSize)}px`),Ht.fontStyle!==St.fontStyle&&Ht.tspan.setAttributeNS(null,"font-style",Ht.fontStyle),Ht.fontWeight!==St.fontWeight&&Ht.tspan.setAttributeNS(null,"font-weight",Ht.fontWeight);const zt=Ht.textRenderingMode&wt.TextRenderingMode.FILL_STROKE_MASK;if(zt===wt.TextRenderingMode.FILL||zt===wt.TextRenderingMode.FILL_STROKE?(Ht.fillColor!==St.fillColor&&Ht.tspan.setAttributeNS(null,"fill",Ht.fillColor),Ht.fillAlpha<1&&Ht.tspan.setAttributeNS(null,"fill-opacity",Ht.fillAlpha)):Ht.textRenderingMode===wt.TextRenderingMode.ADD_TO_PATH?Ht.tspan.setAttributeNS(null,"fill","transparent"):Ht.tspan.setAttributeNS(null,"fill","none"),zt===wt.TextRenderingMode.STROKE||zt===wt.TextRenderingMode.FILL_STROKE){const ln=1/(Ht.textMatrixScale||1);this._setStrokeAttributes(Ht.tspan,ln)}let cn=Ht.textMatrix;Ht.textRise!==0&&(cn=cn.slice(),cn[5]+=Ht.textRise),Ht.txtElement.setAttributeNS(null,"transform",`${Rt(cn)} scale(${jt(sn)}, -1)`),Ht.txtElement.setAttributeNS(Ft,"xml:space","preserve"),Ht.txtElement.append(Ht.tspan),Ht.txtgrp.append(Ht.txtElement),this._ensureTransformGroup().append(Ht.txtElement)}setLeadingMoveText(Bt,Ht){this.setLeading(-Ht),this.moveText(Bt,Ht)}addFontStyle(Bt){if(!Bt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Ht=Pt(Bt.data,Bt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Bt.loadedName}"; src: url(${Ht}); }
`}setFont(Bt){const Ht=this.current,Ot=this.commonObjs.get(Bt[0]);let Vt=Bt[1];Ht.font=Ot,this.embedFonts&&!Ot.missingFile&&!this.embeddedFonts[Ot.loadedName]&&(this.addFontStyle(Ot),this.embeddedFonts[Ot.loadedName]=Ot),Ht.fontMatrix=Ot.fontMatrix||wt.FONT_IDENTITY_MATRIX;let Gt="normal";Ot.black?Gt="900":Ot.bold&&(Gt="bold");const Wt=Ot.italic?"italic":"normal";Vt<0?(Vt=-Vt,Ht.fontDirection=-1):Ht.fontDirection=1,Ht.fontSize=Vt,Ht.fontFamily=Ot.loadedName,Ht.fontWeight=Gt,Ht.fontStyle=Wt,Ht.tspan=this.svgFactory.createElement("svg:tspan"),Ht.tspan.setAttributeNS(null,"y",jt(-Ht.y)),Ht.xcoords=[],Ht.ycoords=[]}endText(){var Ht;const Bt=this.current;Bt.textRenderingMode&wt.TextRenderingMode.ADD_TO_PATH_FLAG&&((Ht=Bt.txtElement)!=null&&Ht.hasChildNodes())&&(Bt.element=Bt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Bt){Bt>0&&(this.current.lineWidth=Bt)}setLineCap(Bt){this.current.lineCap=Et[Bt]}setLineJoin(Bt){this.current.lineJoin=Mt[Bt]}setMiterLimit(Bt){this.current.miterLimit=Bt}setStrokeAlpha(Bt){this.current.strokeAlpha=Bt}setStrokeRGBColor(Bt,Ht,Ot){this.current.strokeColor=wt.Util.makeHexColor(Bt,Ht,Ot)}setFillAlpha(Bt){this.current.fillAlpha=Bt}setFillRGBColor(Bt,Ht,Ot){this.current.fillColor=wt.Util.makeHexColor(Bt,Ht,Ot),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Bt){this.current.strokeColor=this._makeColorN_Pattern(Bt)}setFillColorN(Bt){this.current.fillColor=this._makeColorN_Pattern(Bt)}shadingFill(Bt){const Ht=this.viewport.width,Ot=this.viewport.height,Vt=wt.Util.inverseTransform(this.transformMatrix),Gt=wt.Util.applyTransform([0,0],Vt),Wt=wt.Util.applyTransform([0,Ot],Vt),en=wt.Util.applyTransform([Ht,0],Vt),Sn=wt.Util.applyTransform([Ht,Ot],Vt),sn=Math.min(Gt[0],Wt[0],en[0],Sn[0]),hn=Math.min(Gt[1],Wt[1],en[1],Sn[1]),Qt=Math.max(Gt[0],Wt[0],en[0],Sn[0]),qt=Math.max(Gt[1],Wt[1],en[1],Sn[1]),nn=this.svgFactory.createElement("svg:rect");nn.setAttributeNS(null,"x",sn),nn.setAttributeNS(null,"y",hn),nn.setAttributeNS(null,"width",Qt-sn),nn.setAttributeNS(null,"height",qt-hn),nn.setAttributeNS(null,"fill",this._makeShadingPattern(Bt)),this.current.fillAlpha<1&&nn.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(nn)}_makeColorN_Pattern(Bt){return Bt[0]==="TilingPattern"?this._makeTilingPattern(Bt):this._makeShadingPattern(Bt)}_makeTilingPattern(Bt){const Ht=Bt[1],Ot=Bt[2],Vt=Bt[3]||wt.IDENTITY_MATRIX,[Gt,Wt,en,Sn]=Bt[4],sn=Bt[5],hn=Bt[6],Qt=Bt[7],qt=`shading${kt++}`,[nn,Ut,zt,cn]=wt.Util.normalizeRect([...wt.Util.applyTransform([Gt,Wt],Vt),...wt.Util.applyTransform([en,Sn],Vt)]),[ln,Kt]=wt.Util.singularValueDecompose2dScale(Vt),Jt=sn*ln,Yt=hn*Kt,tn=this.svgFactory.createElement("svg:pattern");tn.setAttributeNS(null,"id",qt),tn.setAttributeNS(null,"patternUnits","userSpaceOnUse"),tn.setAttributeNS(null,"width",Jt),tn.setAttributeNS(null,"height",Yt),tn.setAttributeNS(null,"x",`${nn}`),tn.setAttributeNS(null,"y",`${Ut}`);const un=this.svg,yn=this.transformMatrix,xn=this.current.fillColor,rn=this.current.strokeColor,dn=this.svgFactory.create(zt-nn,cn-Ut);if(this.svg=dn,this.transformMatrix=Vt,Qt===2){const An=wt.Util.makeHexColor(...Ht);this.current.fillColor=An,this.current.strokeColor=An}return this.executeOpTree(this.convertOpList(Ot)),this.svg=un,this.transformMatrix=yn,this.current.fillColor=xn,this.current.strokeColor=rn,tn.append(dn.childNodes[0]),this.defs.append(tn),`url(#${qt})`}_makeShadingPattern(Bt){switch(typeof Bt=="string"&&(Bt=this.objs.get(Bt)),Bt[0]){case"RadialAxial":const Ht=`shading${kt++}`,Ot=Bt[3];let Vt;switch(Bt[1]){case"axial":const Gt=Bt[4],Wt=Bt[5];Vt=this.svgFactory.createElement("svg:linearGradient"),Vt.setAttributeNS(null,"id",Ht),Vt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Vt.setAttributeNS(null,"x1",Gt[0]),Vt.setAttributeNS(null,"y1",Gt[1]),Vt.setAttributeNS(null,"x2",Wt[0]),Vt.setAttributeNS(null,"y2",Wt[1]);break;case"radial":const en=Bt[4],Sn=Bt[5],sn=Bt[6],hn=Bt[7];Vt=this.svgFactory.createElement("svg:radialGradient"),Vt.setAttributeNS(null,"id",Ht),Vt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Vt.setAttributeNS(null,"cx",Sn[0]),Vt.setAttributeNS(null,"cy",Sn[1]),Vt.setAttributeNS(null,"r",hn),Vt.setAttributeNS(null,"fx",en[0]),Vt.setAttributeNS(null,"fy",en[1]),Vt.setAttributeNS(null,"fr",sn);break;default:throw new Error(`Unknown RadialAxial type: ${Bt[1]}`)}for(const Gt of Ot){const Wt=this.svgFactory.createElement("svg:stop");Wt.setAttributeNS(null,"offset",Gt[0]),Wt.setAttributeNS(null,"stop-color",Gt[1]),Vt.append(Wt)}return this.defs.append(Vt),`url(#${Ht})`;case"Mesh":return(0,wt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Bt[0]}`)}}setDash(Bt,Ht){this.current.dashArray=Bt,this.current.dashPhase=Ht}constructPath(Bt,Ht){const Ot=this.current;let Vt=Ot.x,Gt=Ot.y,Wt=[],en=0;for(const Sn of Bt)switch(Sn|0){case wt.OPS.rectangle:Vt=Ht[en++],Gt=Ht[en++];const sn=Ht[en++],hn=Ht[en++],Qt=Vt+sn,qt=Gt+hn;Wt.push("M",jt(Vt),jt(Gt),"L",jt(Qt),jt(Gt),"L",jt(Qt),jt(qt),"L",jt(Vt),jt(qt),"Z");break;case wt.OPS.moveTo:Vt=Ht[en++],Gt=Ht[en++],Wt.push("M",jt(Vt),jt(Gt));break;case wt.OPS.lineTo:Vt=Ht[en++],Gt=Ht[en++],Wt.push("L",jt(Vt),jt(Gt));break;case wt.OPS.curveTo:Vt=Ht[en+4],Gt=Ht[en+5],Wt.push("C",jt(Ht[en]),jt(Ht[en+1]),jt(Ht[en+2]),jt(Ht[en+3]),jt(Vt),jt(Gt)),en+=6;break;case wt.OPS.curveTo2:Wt.push("C",jt(Vt),jt(Gt),jt(Ht[en]),jt(Ht[en+1]),jt(Ht[en+2]),jt(Ht[en+3])),Vt=Ht[en+2],Gt=Ht[en+3],en+=4;break;case wt.OPS.curveTo3:Vt=Ht[en+2],Gt=Ht[en+3],Wt.push("C",jt(Ht[en]),jt(Ht[en+1]),jt(Vt),jt(Gt),jt(Vt),jt(Gt)),en+=4;break;case wt.OPS.closePath:Wt.push("Z");break}Wt=Wt.join(" "),Ot.path&&Bt.length>0&&Bt[0]!==wt.OPS.rectangle&&Bt[0]!==wt.OPS.moveTo?Wt=Ot.path.getAttributeNS(null,"d")+Wt:(Ot.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Ot.path)),Ot.path.setAttributeNS(null,"d",Wt),Ot.path.setAttributeNS(null,"fill","none"),Ot.element=Ot.path,Ot.setCurrentPoint(Vt,Gt)}endPath(){const Bt=this.current;if(Bt.path=null,!this.pendingClip)return;if(!Bt.element){this.pendingClip=null;return}const Ht=`clippath${Nt++}`,Ot=this.svgFactory.createElement("svg:clipPath");Ot.setAttributeNS(null,"id",Ht),Ot.setAttributeNS(null,"transform",Rt(this.transformMatrix));const Vt=Bt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Vt.setAttributeNS(null,"clip-rule","evenodd"):Vt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Ot.append(Vt),this.defs.append(Ot),Bt.activeClipUrl){Bt.clipGroup=null;for(const Gt of this.extraStack)Gt.clipGroup=null;Ot.setAttributeNS(null,"clip-path",Bt.activeClipUrl)}Bt.activeClipUrl=`url(#${Ht})`,this.tgrp=null}clip(Bt){this.pendingClip=Bt}closePath(){const Bt=this.current;if(Bt.path){const Ht=`${Bt.path.getAttributeNS(null,"d")}Z`;Bt.path.setAttributeNS(null,"d",Ht)}}setLeading(Bt){this.current.leading=-Bt}setTextRise(Bt){this.current.textRise=Bt}setTextRenderingMode(Bt){this.current.textRenderingMode=Bt}setHScale(Bt){this.current.textHScale=Bt/100}setRenderingIntent(Bt){}setFlatness(Bt){}setGState(Bt){for(const[Ht,Ot]of Bt)switch(Ht){case"LW":this.setLineWidth(Ot);break;case"LC":this.setLineCap(Ot);break;case"LJ":this.setLineJoin(Ot);break;case"ML":this.setMiterLimit(Ot);break;case"D":this.setDash(Ot[0],Ot[1]);break;case"RI":this.setRenderingIntent(Ot);break;case"FL":this.setFlatness(Ot);break;case"Font":this.setFont(Ot);break;case"CA":this.setStrokeAlpha(Ot);break;case"ca":this.setFillAlpha(Ot);break;default:(0,wt.warn)(`Unimplemented graphic state operator ${Ht}`);break}}fill(){const Bt=this.current;Bt.element&&(Bt.element.setAttributeNS(null,"fill",Bt.fillColor),Bt.element.setAttributeNS(null,"fill-opacity",Bt.fillAlpha),this.endPath())}stroke(){const Bt=this.current;Bt.element&&(this._setStrokeAttributes(Bt.element),Bt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Bt,Ht=1){const Ot=this.current;let Vt=Ot.dashArray;Ht!==1&&Vt.length>0&&(Vt=Vt.map(function(Gt){return Ht*Gt})),Bt.setAttributeNS(null,"stroke",Ot.strokeColor),Bt.setAttributeNS(null,"stroke-opacity",Ot.strokeAlpha),Bt.setAttributeNS(null,"stroke-miterlimit",jt(Ot.miterLimit)),Bt.setAttributeNS(null,"stroke-linecap",Ot.lineCap),Bt.setAttributeNS(null,"stroke-linejoin",Ot.lineJoin),Bt.setAttributeNS(null,"stroke-width",jt(Ht*Ot.lineWidth)+"px"),Bt.setAttributeNS(null,"stroke-dasharray",Vt.map(jt).join(" ")),Bt.setAttributeNS(null,"stroke-dashoffset",jt(Ht*Ot.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Bt=this.svgFactory.createElement("svg:rect");Bt.setAttributeNS(null,"x","0"),Bt.setAttributeNS(null,"y","0"),Bt.setAttributeNS(null,"width","1px"),Bt.setAttributeNS(null,"height","1px"),Bt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Bt)}paintImageXObject(Bt){const Ht=Bt.startsWith("g_")?this.commonObjs.get(Bt):this.objs.get(Bt);if(!Ht){(0,wt.warn)(`Dependent image with object ID ${Bt} is not ready yet`);return}this.paintInlineImageXObject(Ht)}paintInlineImageXObject(Bt,Ht){const Ot=Bt.width,Vt=Bt.height,Gt=xt(Bt,this.forceDataSchema,!!Ht),Wt=this.svgFactory.createElement("svg:rect");Wt.setAttributeNS(null,"x","0"),Wt.setAttributeNS(null,"y","0"),Wt.setAttributeNS(null,"width",jt(Ot)),Wt.setAttributeNS(null,"height",jt(Vt)),this.current.element=Wt,this.clip("nonzero");const en=this.svgFactory.createElement("svg:image");en.setAttributeNS(vt,"xlink:href",Gt),en.setAttributeNS(null,"x","0"),en.setAttributeNS(null,"y",jt(-Vt)),en.setAttributeNS(null,"width",jt(Ot)+"px"),en.setAttributeNS(null,"height",jt(Vt)+"px"),en.setAttributeNS(null,"transform",`scale(${jt(1/Ot)} ${jt(-1/Vt)})`),Ht?Ht.append(en):this._ensureTransformGroup().append(en)}paintImageMaskXObject(Bt){const Ht=this.current,Ot=Bt.width,Vt=Bt.height,Gt=Ht.fillColor;Ht.maskId=`mask${Lt++}`;const Wt=this.svgFactory.createElement("svg:mask");Wt.setAttributeNS(null,"id",Ht.maskId);const en=this.svgFactory.createElement("svg:rect");en.setAttributeNS(null,"x","0"),en.setAttributeNS(null,"y","0"),en.setAttributeNS(null,"width",jt(Ot)),en.setAttributeNS(null,"height",jt(Vt)),en.setAttributeNS(null,"fill",Gt),en.setAttributeNS(null,"mask",`url(#${Ht.maskId})`),this.defs.append(Wt),this._ensureTransformGroup().append(en),this.paintInlineImageXObject(Bt,Wt)}paintFormXObjectBegin(Bt,Ht){if(Array.isArray(Bt)&&Bt.length===6&&this.transform(Bt[0],Bt[1],Bt[2],Bt[3],Bt[4],Bt[5]),Ht){const Ot=Ht[2]-Ht[0],Vt=Ht[3]-Ht[1],Gt=this.svgFactory.createElement("svg:rect");Gt.setAttributeNS(null,"x",Ht[0]),Gt.setAttributeNS(null,"y",Ht[1]),Gt.setAttributeNS(null,"width",jt(Ot)),Gt.setAttributeNS(null,"height",jt(Vt)),this.current.element=Gt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Bt){const Ht=this.svgFactory.create(Bt.width,Bt.height),Ot=this.svgFactory.createElement("svg:defs");Ht.append(Ot),this.defs=Ot;const Vt=this.svgFactory.createElement("svg:g");return Vt.setAttributeNS(null,"transform",Rt(Bt.transform)),Ht.append(Vt),this.svg=Vt,Ht}_ensureClipGroup(){if(!this.current.clipGroup){const Bt=this.svgFactory.createElement("svg:g");Bt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Bt),this.current.clipGroup=Bt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Rt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var bt=ht(1),wt=ht(33);const At=require$$5,Ct=require$$5,St=require$$5,Ft=require$$5,vt=/^file:\/\/\/[a-zA-Z]:\//;function Et(Lt){const kt=Ft.parse(Lt);return kt.protocol==="file:"||kt.host?kt:/^[a-z]:[/\\]/i.test(Lt)?Ft.parse(`file:///${Lt}`):(kt.host||(kt.protocol="file:"),kt)}class Mt{constructor(kt){this.source=kt,this.url=Et(kt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&kt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var kt;return((kt=this._fullRequestReader)==null?void 0:kt._loaded)??0}getFullReader(){return(0,bt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Rt(this):new _t(this),this._fullRequestReader}getRangeReader(kt,Bt){if(Bt<=this._progressiveDataLength)return null;const Ht=this.isFsUrl?new Nt(this,kt,Bt):new jt(this,kt,Bt);return this._rangeRequestReaders.push(Ht),Ht}cancelAllRequests(kt){this._fullRequestReader&&this._fullRequestReader.cancel(kt);for(const Bt of this._rangeRequestReaders.slice(0))Bt.cancel(kt)}}$.PDFNodeStream=Mt;class Pt{constructor(kt){this._url=kt.url,this._done=!1,this._storedError=null,this.onProgress=null;const Bt=kt.source;this._contentLength=Bt.length,this._loaded=0,this._filename=null,this._disableRange=Bt.disableRange||!1,this._rangeChunkSize=Bt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Bt.disableStream,this._isRangeSupported=!Bt.disableRange,this._readableStream=null,this._readCapability=(0,bt.createPromiseCapability)(),this._headersCapability=(0,bt.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const kt=this._readableStream.read();return kt===null?(this._readCapability=(0,bt.createPromiseCapability)(),this.read()):(this._loaded+=kt.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(kt).buffer,done:!1})}cancel(kt){if(!this._readableStream){this._error(kt);return}this._readableStream.destroy(kt)}_error(kt){this._storedError=kt,this._readCapability.resolve()}_setReadableStream(kt){this._readableStream=kt,kt.on("readable",()=>{this._readCapability.resolve()}),kt.on("end",()=>{kt.destroy(),this._done=!0,this._readCapability.resolve()}),kt.on("error",Bt=>{this._error(Bt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new bt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class xt{constructor(kt){this._url=kt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,bt.createPromiseCapability)();const Bt=kt.source;this._isStreamingSupported=!Bt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const kt=this._readableStream.read();return kt===null?(this._readCapability=(0,bt.createPromiseCapability)(),this.read()):(this._loaded+=kt.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(kt).buffer,done:!1})}cancel(kt){if(!this._readableStream){this._error(kt);return}this._readableStream.destroy(kt)}_error(kt){this._storedError=kt,this._readCapability.resolve()}_setReadableStream(kt){this._readableStream=kt,kt.on("readable",()=>{this._readCapability.resolve()}),kt.on("end",()=>{kt.destroy(),this._done=!0,this._readCapability.resolve()}),kt.on("error",Bt=>{this._error(Bt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function $t(Lt,kt){return{protocol:Lt.protocol,auth:Lt.auth,host:Lt.hostname,port:Lt.port,path:Lt.path,method:"GET",headers:kt}}class _t extends Pt{constructor(kt){super(kt);const Bt=Ht=>{if(Ht.statusCode===404){const Wt=new bt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Wt,this._headersCapability.reject(Wt);return}this._headersCapability.resolve(),this._setReadableStream(Ht);const Ot=Wt=>this._readableStream.headers[Wt.toLowerCase()],{allowRangeRequests:Vt,suggestedLength:Gt}=(0,wt.validateRangeRequestCapabilities)({getResponseHeader:Ot,isHttp:kt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Vt,this._contentLength=Gt||this._contentLength,this._filename=(0,wt.extractFilenameFromHeader)(Ot)};this._request=null,this._url.protocol==="http:"?this._request=Ct.request($t(this._url,kt.httpHeaders),Bt):this._request=St.request($t(this._url,kt.httpHeaders),Bt),this._request.on("error",Ht=>{this._storedError=Ht,this._headersCapability.reject(Ht)}),this._request.end()}}class jt extends xt{constructor(kt,Bt,Ht){super(kt),this._httpHeaders={};for(const Vt in kt.httpHeaders){const Gt=kt.httpHeaders[Vt];typeof Gt>"u"||(this._httpHeaders[Vt]=Gt)}this._httpHeaders.Range=`bytes=${Bt}-${Ht-1}`;const Ot=Vt=>{if(Vt.statusCode===404){const Gt=new bt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Gt;return}this._setReadableStream(Vt)};this._request=null,this._url.protocol==="http:"?this._request=Ct.request($t(this._url,this._httpHeaders),Ot):this._request=St.request($t(this._url,this._httpHeaders),Ot),this._request.on("error",Vt=>{this._storedError=Vt}),this._request.end()}}class Rt extends Pt{constructor(kt){super(kt);let Bt=decodeURIComponent(this._url.path);vt.test(this._url.href)&&(Bt=Bt.replace(/^\//,"")),At.lstat(Bt,(Ht,Ot)=>{if(Ht){Ht.code==="ENOENT"&&(Ht=new bt.MissingPDFException(`Missing PDF "${Bt}".`)),this._storedError=Ht,this._headersCapability.reject(Ht);return}this._contentLength=Ot.size,this._setReadableStream(At.createReadStream(Bt)),this._headersCapability.resolve()})}}class Nt extends xt{constructor(kt,Bt,Ht){super(kt);let Ot=decodeURIComponent(this._url.path);vt.test(this._url.href)&&(Ot=Ot.replace(/^\//,"")),this._setReadableStream(At.createReadStream(Ot,{start:Bt,end:Ht-1}))}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=Ft,$.extractFilenameFromHeader=St,$.validateRangeRequestCapabilities=Ct,$.validateResponseStatus=vt;var bt=ht(1),wt=ht(34),At=ht(8);function Ct({getResponseHeader:Et,isHttp:Mt,rangeChunkSize:Pt,disableRange:xt}){const $t={allowRangeRequests:!1,suggestedLength:void 0},_t=parseInt(Et("Content-Length"),10);return!Number.isInteger(_t)||($t.suggestedLength=_t,_t<=2*Pt)||xt||!Mt||Et("Accept-Ranges")!=="bytes"||(Et("Content-Encoding")||"identity")!=="identity"||($t.allowRangeRequests=!0),$t}function St(Et){const Mt=Et("Content-Disposition");if(Mt){let Pt=(0,wt.getFilenameFromContentDispositionHeader)(Mt);if(Pt.includes("%"))try{Pt=decodeURIComponent(Pt)}catch{}if((0,At.isPdfFile)(Pt))return Pt}return null}function Ft(Et,Mt){return Et===404||Et===0&&Mt.startsWith("file:")?new bt.MissingPDFException('Missing PDF "'+Mt+'".'):new bt.UnexpectedResponseException(`Unexpected server response (${Et}) while retrieving PDF "${Mt}".`,Et)}function vt(Et){return Et===200||Et===206}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=wt;var bt=ht(1);function wt(At){let Ct=!0,St=Ft("filename\\*","i").exec(At);if(St){St=St[1];let _t=Pt(St);return _t=unescape(_t),_t=xt(_t),_t=$t(_t),Et(_t)}if(St=Mt(At),St){const _t=$t(St);return Et(_t)}if(St=Ft("filename","i").exec(At),St){St=St[1];let _t=Pt(St);return _t=$t(_t),Et(_t)}function Ft(_t,jt){return new RegExp("(?:^|;)\\s*"+_t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',jt)}function vt(_t,jt){if(_t){if(!/^[\x00-\xFF]+$/.test(jt))return jt;try{const Rt=new TextDecoder(_t,{fatal:!0}),Nt=(0,bt.stringToBytes)(jt);jt=Rt.decode(Nt),Ct=!1}catch{}}return jt}function Et(_t){return Ct&&/[\x80-\xff]/.test(_t)&&(_t=vt("utf-8",_t),Ct&&(_t=vt("iso-8859-1",_t))),_t}function Mt(_t){const jt=[];let Rt;const Nt=Ft("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Rt=Nt.exec(_t))!==null;){let[,kt,Bt,Ht]=Rt;if(kt=parseInt(kt,10),kt in jt){if(kt===0)break;continue}jt[kt]=[Bt,Ht]}const Lt=[];for(let kt=0;kt<jt.length&&kt in jt;++kt){let[Bt,Ht]=jt[kt];Ht=Pt(Ht),Bt&&(Ht=unescape(Ht),kt===0&&(Ht=xt(Ht))),Lt.push(Ht)}return Lt.join("")}function Pt(_t){if(_t.startsWith('"')){const jt=_t.slice(1).split('\\"');for(let Rt=0;Rt<jt.length;++Rt){const Nt=jt[Rt].indexOf('"');Nt!==-1&&(jt[Rt]=jt[Rt].slice(0,Nt),jt.length=Rt+1),jt[Rt]=jt[Rt].replace(/\\(.)/g,"$1")}_t=jt.join('"')}return _t}function xt(_t){const jt=_t.indexOf("'");if(jt===-1)return _t;const Rt=_t.slice(0,jt),Lt=_t.slice(jt+1).replace(/^[^']*'/,"");return vt(Rt,Lt)}function $t(_t){return!_t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(_t)?_t:_t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(jt,Rt,Nt,Lt){if(Nt==="q"||Nt==="Q")return Lt=Lt.replace(/_/g," "),Lt=Lt.replace(/=([0-9a-fA-F]{2})/g,function(kt,Bt){return String.fromCharCode(parseInt(Bt,16))}),vt(Rt,Lt);try{Lt=atob(Lt)}catch{}return vt(Rt,Lt)})}return""}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var bt=ht(1),wt=ht(33);const At=200,Ct=206;function St(Pt){const xt=Pt.response;return typeof xt!="string"?xt:(0,bt.stringToBytes)(xt).buffer}class Ft{constructor(xt,$t={}){this.url=xt,this.isHttp=/^https?:/i.test(xt),this.httpHeaders=this.isHttp&&$t.httpHeaders||Object.create(null),this.withCredentials=$t.withCredentials||!1,this.getXhr=$t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(xt,$t,_t){const jt={begin:xt,end:$t};for(const Rt in _t)jt[Rt]=_t[Rt];return this.request(jt)}requestFull(xt){return this.request(xt)}request(xt){const $t=this.getXhr(),_t=this.currXhrId++,jt=this.pendingRequests[_t]={xhr:$t};$t.open("GET",this.url),$t.withCredentials=this.withCredentials;for(const Rt in this.httpHeaders){const Nt=this.httpHeaders[Rt];typeof Nt>"u"||$t.setRequestHeader(Rt,Nt)}return this.isHttp&&"begin"in xt&&"end"in xt?($t.setRequestHeader("Range",`bytes=${xt.begin}-${xt.end-1}`),jt.expectedStatus=Ct):jt.expectedStatus=At,$t.responseType="arraybuffer",xt.onError&&($t.onerror=function(Rt){xt.onError($t.status)}),$t.onreadystatechange=this.onStateChange.bind(this,_t),$t.onprogress=this.onProgress.bind(this,_t),jt.onHeadersReceived=xt.onHeadersReceived,jt.onDone=xt.onDone,jt.onError=xt.onError,jt.onProgress=xt.onProgress,$t.send(null),_t}onProgress(xt,$t){var jt;const _t=this.pendingRequests[xt];_t&&((jt=_t.onProgress)==null||jt.call(_t,$t))}onStateChange(xt,$t){var kt,Bt,Ht;const _t=this.pendingRequests[xt];if(!_t)return;const jt=_t.xhr;if(jt.readyState>=2&&_t.onHeadersReceived&&(_t.onHeadersReceived(),delete _t.onHeadersReceived),jt.readyState!==4||!(xt in this.pendingRequests))return;if(delete this.pendingRequests[xt],jt.status===0&&this.isHttp){(kt=_t.onError)==null||kt.call(_t,jt.status);return}const Rt=jt.status||At;if(!(Rt===At&&_t.expectedStatus===Ct)&&Rt!==_t.expectedStatus){(Bt=_t.onError)==null||Bt.call(_t,jt.status);return}const Lt=St(jt);if(Rt===Ct){const Ot=jt.getResponseHeader("Content-Range"),Vt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Ot);_t.onDone({begin:parseInt(Vt[1],10),chunk:Lt})}else Lt?_t.onDone({begin:0,chunk:Lt}):(Ht=_t.onError)==null||Ht.call(_t,jt.status)}getRequestXhr(xt){return this.pendingRequests[xt].xhr}isPendingRequest(xt){return xt in this.pendingRequests}abortRequest(xt){const $t=this.pendingRequests[xt].xhr;delete this.pendingRequests[xt],$t.abort()}}class vt{constructor(xt){this._source=xt,this._manager=new Ft(xt.url,{httpHeaders:xt.httpHeaders,withCredentials:xt.withCredentials}),this._rangeChunkSize=xt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(xt){const $t=this._rangeRequestReaders.indexOf(xt);$t>=0&&this._rangeRequestReaders.splice($t,1)}getFullReader(){return(0,bt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Et(this._manager,this._source),this._fullRequestReader}getRangeReader(xt,$t){const _t=new Mt(this._manager,xt,$t);return _t.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(_t),_t}cancelAllRequests(xt){var $t;($t=this._fullRequestReader)==null||$t.cancel(xt);for(const _t of this._rangeRequestReaders.slice(0))_t.cancel(xt)}}$.PDFNetworkStream=vt;class Et{constructor(xt,$t){this._manager=xt;const _t={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=$t.url,this._fullRequestId=xt.requestFull(_t),this._headersReceivedCapability=(0,bt.createPromiseCapability)(),this._disableRange=$t.disableRange||!1,this._contentLength=$t.length,this._rangeChunkSize=$t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const xt=this._fullRequestId,$t=this._manager.getRequestXhr(xt),_t=Nt=>$t.getResponseHeader(Nt),{allowRangeRequests:jt,suggestedLength:Rt}=(0,wt.validateRangeRequestCapabilities)({getResponseHeader:_t,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});jt&&(this._isRangeSupported=!0),this._contentLength=Rt||this._contentLength,this._filename=(0,wt.extractFilenameFromHeader)(_t),this._isRangeSupported&&this._manager.abortRequest(xt),this._headersReceivedCapability.resolve()}_onDone(xt){if(xt&&(this._requests.length>0?this._requests.shift().resolve({value:xt.chunk,done:!1}):this._cachedChunks.push(xt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const $t of this._requests)$t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(xt){this._storedError=(0,wt.createResponseStatusError)(xt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const $t of this._requests)$t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(xt){var $t;($t=this.onProgress)==null||$t.call(this,{loaded:xt.loaded,total:xt.lengthComputable?xt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const xt=(0,bt.createPromiseCapability)();return this._requests.push(xt),xt.promise}cancel(xt){this._done=!0,this._headersReceivedCapability.reject(xt);for(const $t of this._requests)$t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Mt{constructor(xt,$t,_t){this._manager=xt;const jt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=xt.url,this._requestId=xt.requestRange($t,_t,jt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var xt;(xt=this.onClosed)==null||xt.call(this,this)}_onDone(xt){const $t=xt.chunk;this._requests.length>0?this._requests.shift().resolve({value:$t,done:!1}):this._queuedChunk=$t,this._done=!0;for(const _t of this._requests)_t.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(xt){this._storedError=(0,wt.createResponseStatusError)(xt,this._url);for(const $t of this._requests)$t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(xt){var $t;this.isStreamingSupported||($t=this.onProgress)==null||$t.call(this,{loaded:xt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const $t=this._queuedChunk;return this._queuedChunk=null,{value:$t,done:!1}}if(this._done)return{value:void 0,done:!0};const xt=(0,bt.createPromiseCapability)();return this._requests.push(xt),xt.promise}cancel(xt){this._done=!0;for(const $t of this._requests)$t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var bt=ht(1),wt=ht(33);function At(Et,Mt,Pt){return{method:"GET",headers:Et,signal:Pt.signal,mode:"cors",credentials:Mt?"include":"same-origin",redirect:"follow"}}function Ct(Et){const Mt=new Headers;for(const Pt in Et){const xt=Et[Pt];typeof xt>"u"||Mt.append(Pt,xt)}return Mt}class St{constructor(Mt){this.source=Mt,this.isHttp=/^https?:/i.test(Mt.url),this.httpHeaders=this.isHttp&&Mt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Mt;return((Mt=this._fullRequestReader)==null?void 0:Mt._loaded)??0}getFullReader(){return(0,bt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ft(this),this._fullRequestReader}getRangeReader(Mt,Pt){if(Pt<=this._progressiveDataLength)return null;const xt=new vt(this,Mt,Pt);return this._rangeRequestReaders.push(xt),xt}cancelAllRequests(Mt){this._fullRequestReader&&this._fullRequestReader.cancel(Mt);for(const Pt of this._rangeRequestReaders.slice(0))Pt.cancel(Mt)}}$.PDFFetchStream=St;class Ft{constructor(Mt){this._stream=Mt,this._reader=null,this._loaded=0,this._filename=null;const Pt=Mt.source;this._withCredentials=Pt.withCredentials||!1,this._contentLength=Pt.length,this._headersCapability=(0,bt.createPromiseCapability)(),this._disableRange=Pt.disableRange||!1,this._rangeChunkSize=Pt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!Pt.disableStream,this._isRangeSupported=!Pt.disableRange,this._headers=Ct(this._stream.httpHeaders);const xt=Pt.url;fetch(xt,At(this._headers,this._withCredentials,this._abortController)).then($t=>{if(!(0,wt.validateResponseStatus)($t.status))throw(0,wt.createResponseStatusError)($t.status,xt);this._reader=$t.body.getReader(),this._headersCapability.resolve();const _t=Nt=>$t.headers.get(Nt),{allowRangeRequests:jt,suggestedLength:Rt}=(0,wt.validateRangeRequestCapabilities)({getResponseHeader:_t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=jt,this._contentLength=Rt||this._contentLength,this._filename=(0,wt.extractFilenameFromHeader)(_t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new bt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:Mt,done:Pt}=await this._reader.read();return Pt?{value:Mt,done:Pt}:(this._loaded+=Mt.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Mt).buffer,done:!1})}cancel(Mt){this._reader&&this._reader.cancel(Mt),this._abortController.abort()}}class vt{constructor(Mt,Pt,xt){this._stream=Mt,this._reader=null,this._loaded=0;const $t=Mt.source;this._withCredentials=$t.withCredentials||!1,this._readCapability=(0,bt.createPromiseCapability)(),this._isStreamingSupported=!$t.disableStream,this._abortController=new AbortController,this._headers=Ct(this._stream.httpHeaders),this._headers.append("Range",`bytes=${Pt}-${xt-1}`);const _t=$t.url;fetch(_t,At(this._headers,this._withCredentials,this._abortController)).then(jt=>{if(!(0,wt.validateResponseStatus)(jt.status))throw(0,wt.createResponseStatusError)(jt.status,_t);this._readCapability.resolve(),this._reader=jt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:Mt,done:Pt}=await this._reader.read();return Pt?{value:Mt,done:Pt}:(this._loaded+=Mt.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(Mt).buffer,done:!1})}cancel(Mt){this._reader&&this._reader.cancel(Mt),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(_e){var $=__webpack_module_cache__[_e];if($!==void 0)return $.exports;var ht=__webpack_module_cache__[_e]={exports:{}};return __webpack_modules__[_e](ht,ht.exports,__w_pdfjs_require__),ht.exports}var __webpack_exports__={};return(()=>{var _e=__webpack_exports__;Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return wt.AnnotationEditorLayer}}),Object.defineProperty(_e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(_e,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(_e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return At.AnnotationEditorUIManager}}),Object.defineProperty(_e,"AnnotationLayer",{enumerable:!0,get:function(){return Ct.AnnotationLayer}}),Object.defineProperty(_e,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(_e,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(_e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return St.GlobalWorkerOptions}}),Object.defineProperty(_e,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(_e,"LoopbackPort",{enumerable:!0,get:function(){return ht.LoopbackPort}}),Object.defineProperty(_e,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(_e,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(_e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ht.PDFDataRangeTransport}}),Object.defineProperty(_e,"PDFDateString",{enumerable:!0,get:function(){return bt.PDFDateString}}),Object.defineProperty(_e,"PDFWorker",{enumerable:!0,get:function(){return ht.PDFWorker}}),Object.defineProperty(_e,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(_e,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(_e,"PixelsPerInch",{enumerable:!0,get:function(){return bt.PixelsPerInch}}),Object.defineProperty(_e,"RenderingCancelledException",{enumerable:!0,get:function(){return bt.RenderingCancelledException}}),Object.defineProperty(_e,"SVGGraphics",{enumerable:!0,get:function(){return Et.SVGGraphics}}),Object.defineProperty(_e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return $.UNSUPPORTED_FEATURES}}),Object.defineProperty(_e,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(_e,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(_e,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(_e,"XfaLayer",{enumerable:!0,get:function(){return Mt.XfaLayer}}),Object.defineProperty(_e,"build",{enumerable:!0,get:function(){return ht.build}}),Object.defineProperty(_e,"createPromiseCapability",{enumerable:!0,get:function(){return $.createPromiseCapability}}),Object.defineProperty(_e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(_e,"getDocument",{enumerable:!0,get:function(){return ht.getDocument}}),Object.defineProperty(_e,"getFilenameFromUrl",{enumerable:!0,get:function(){return bt.getFilenameFromUrl}}),Object.defineProperty(_e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return bt.getPdfFilenameFromUrl}}),Object.defineProperty(_e,"getXfaPageViewport",{enumerable:!0,get:function(){return bt.getXfaPageViewport}}),Object.defineProperty(_e,"isPdfFile",{enumerable:!0,get:function(){return bt.isPdfFile}}),Object.defineProperty(_e,"loadScript",{enumerable:!0,get:function(){return bt.loadScript}}),Object.defineProperty(_e,"renderTextLayer",{enumerable:!0,get:function(){return vt.renderTextLayer}}),Object.defineProperty(_e,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(_e,"version",{enumerable:!0,get:function(){return ht.version}});var $=__w_pdfjs_require__(1),ht=__w_pdfjs_require__(4),bt=__w_pdfjs_require__(8),wt=__w_pdfjs_require__(22),At=__w_pdfjs_require__(7),Ct=__w_pdfjs_require__(27),St=__w_pdfjs_require__(15),Ft=__w_pdfjs_require__(3),vt=__w_pdfjs_require__(30),Et=__w_pdfjs_require__(31),Mt=__w_pdfjs_require__(29);if(Ft.isNodeJS){const{PDFNodeStream:Pt}=__w_pdfjs_require__(32);(0,ht.setPDFNetworkStreamFactory)(xt=>new Pt(xt))}else{const{PDFNetworkStream:Pt}=__w_pdfjs_require__(35),{PDFFetchStream:xt}=__w_pdfjs_require__(36);(0,ht.setPDFNetworkStreamFactory)($t=>(0,bt.isValidFetchUrl)($t.url)?new xt($t):new Pt($t))}})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdfjs=getDefaultExportFromCjs(pdfExports);var pdf_worker_entry={},pdf_worker={exports:{}};(function(_e,$){(function(bt,wt){_e.exports=wt()})(globalThis,()=>(()=>{var ht=[,(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.WorkerTask=St.WorkerMessageHandler=void 0;var vt=Ft(2),Et=Ft(5),Mt=Ft(6),Pt=Ft(8),xt=Ft(71),$t=Ft(65),_t=Ft(4),jt=Ft(102),Rt=Ft(103);class Nt{constructor(Ht){this.name=Ht,this.terminated=!1,this._capability=(0,vt.createPromiseCapability)()}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}St.WorkerTask=Nt;class Lt{static setup(Ht,Ot){let Vt=!1;Ht.on("test",function(Wt){Vt||(Vt=!0,Ht.send("test",Wt instanceof Uint8Array))}),Ht.on("configure",function(Wt){(0,vt.setVerbosityLevel)(Wt.verbosity)}),Ht.on("GetDocRequest",function(Wt){return Lt.createDocumentHandler(Wt,Ot)})}static createDocumentHandler(Ht,Ot){let Vt,Gt=!1,Wt=null;const en=[],Sn=(0,vt.getVerbosityLevel)(),sn=Ht.apiVersion,hn="2.16.105";if(sn!==hn)throw new Error(`The API version "${sn}" does not match the Worker version "${hn}".`);const Qt=[];for(const un in[])Qt.push(un);if(Qt.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+Qt.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");if(typeof ReadableStream>"u"){const un="The browser/environment lacks native support for critical functionality used by the PDF.js library (e.g. `ReadableStream`); ";throw _t.isNodeJS?new Error(un+"please use a `legacy`-build instead."):new Error(un+"please update to a supported browser.")}const qt=Ht.docId,nn=Ht.docBaseUrl,Ut=Ht.docId+"_worker";let zt=new jt.MessageHandler(Ut,qt,Ot);function cn(){if(Gt)throw new Error("Worker was terminated")}function ln(un){en.push(un)}function Kt(un){un.finish();const yn=en.indexOf(un);en.splice(yn,1)}async function Jt(un){await Vt.ensureDoc("checkHeader"),await Vt.ensureDoc("parseStartXRef"),await Vt.ensureDoc("parse",[un]),await Vt.ensureDoc("checkFirstPage",[un]),await Vt.ensureDoc("checkLastPage",[un]);const yn=await Vt.ensureDoc("isPureXfa");if(yn){const An=new Nt("loadXfaFonts");ln(An),await Promise.all([Vt.loadXfaFonts(zt,An).catch(an=>{}).then(()=>Kt(An)),Vt.loadXfaImages()])}const[xn,rn]=await Promise.all([Vt.ensureDoc("numPages"),Vt.ensureDoc("fingerprints")]),dn=yn?await Vt.ensureDoc("htmlForXfa"):null;return{numPages:xn,fingerprints:rn,htmlForXfa:dn}}function Yt(un,yn,xn){const rn=(0,vt.createPromiseCapability)();let dn;const An=un.source;if(An.data){try{dn=new Pt.LocalPdfManager(qt,An.data,An.password,zt,yn,xn,nn),rn.resolve(dn)}catch(wn){rn.reject(wn)}return rn.promise}let an,fn=[];try{an=new Rt.PDFWorkerStream(zt)}catch(wn){return rn.reject(wn),rn.promise}const bn=an.getFullReader();bn.headersReady.then(function(){if(!bn.isRangeSupported)return;const wn=An.disableAutoFetch||bn.isStreamingSupported;dn=new Pt.NetworkPdfManager(qt,an,{msgHandler:zt,password:An.password,length:bn.contentLength,disableAutoFetch:wn,rangeChunkSize:An.rangeChunkSize},yn,xn,nn);for(const pn of fn)dn.sendProgressiveData(pn);fn=[],rn.resolve(dn),Wt=null}).catch(function(wn){rn.reject(wn),Wt=null});let vn=0;const gn=function(){const wn=(0,vt.arraysToBytes)(fn);An.length&&wn.length!==An.length&&(0,vt.warn)("reported HTTP length is different from actual");try{dn=new Pt.LocalPdfManager(qt,wn,An.password,zt,yn,xn,nn),rn.resolve(dn)}catch(pn){rn.reject(pn)}fn=[]};return new Promise(function(wn,pn){const Cn=function({value:Tn,done:Fn}){try{if(cn(),Fn){dn||gn(),Wt=null;return}vn+=(0,vt.arrayByteLength)(Tn),bn.isStreamingSupported||zt.send("DocProgress",{loaded:vn,total:Math.max(vn,bn.contentLength||0)}),dn?dn.sendProgressiveData(Tn):fn.push(Tn),bn.read().then(Cn,pn)}catch(En){pn(En)}};bn.read().then(Cn,pn)}).catch(function(wn){rn.reject(wn),Wt=null}),Wt=function(wn){an.cancelAllRequests(wn)},rn.promise}function tn(un){function yn(An){cn(),zt.send("GetDoc",{pdfInfo:An})}function xn(An){if(cn(),An instanceof vt.PasswordException){const an=new Nt(`PasswordException: response ${An.code}`);ln(an),zt.sendWithPromise("PasswordRequest",An).then(function({password:fn}){Kt(an),Vt.updatePassword(fn),rn()}).catch(function(){Kt(an),zt.send("DocException",An)})}else An instanceof vt.InvalidPDFException||An instanceof vt.MissingPDFException||An instanceof vt.UnexpectedResponseException||An instanceof vt.UnknownErrorException?zt.send("DocException",An):zt.send("DocException",new vt.UnknownErrorException(An.message,An.toString()))}function rn(){cn(),Jt(!1).then(yn,function(An){if(cn(),!(An instanceof Mt.XRefParseException)){xn(An);return}Vt.requestLoadedStream(),Vt.onLoadedStream().then(function(){cn(),Jt(!0).then(yn,xn)})})}cn();const dn={maxImageSize:un.maxImageSize,disableFontFace:un.disableFontFace,ignoreErrors:un.ignoreErrors,isEvalSupported:un.isEvalSupported,fontExtraProperties:un.fontExtraProperties,useSystemFonts:un.useSystemFonts,cMapUrl:un.cMapUrl,standardFontDataUrl:un.standardFontDataUrl};Yt(un,dn,un.enableXfa).then(function(An){if(Gt)throw An.terminate(new vt.AbortException("Worker was terminated.")),new Error("Worker was terminated");Vt=An,Vt.onLoadedStream().then(function(an){zt.send("DataLoaded",{length:an.bytes.byteLength})})}).then(rn,xn)}return zt.on("GetPage",function(yn){return Vt.getPage(yn.pageIndex).then(function(xn){return Promise.all([Vt.ensure(xn,"rotate"),Vt.ensure(xn,"ref"),Vt.ensure(xn,"userUnit"),Vt.ensure(xn,"view")]).then(function([rn,dn,An,an]){return{rotate:rn,ref:dn,userUnit:An,view:an}})})}),zt.on("GetPageIndex",function(yn){const xn=Et.Ref.get(yn.num,yn.gen);return Vt.ensureCatalog("getPageIndex",[xn])}),zt.on("GetDestinations",function(yn){return Vt.ensureCatalog("destinations")}),zt.on("GetDestination",function(yn){return Vt.ensureCatalog("getDestination",[yn.id])}),zt.on("GetPageLabels",function(yn){return Vt.ensureCatalog("pageLabels")}),zt.on("GetPageLayout",function(yn){return Vt.ensureCatalog("pageLayout")}),zt.on("GetPageMode",function(yn){return Vt.ensureCatalog("pageMode")}),zt.on("GetViewerPreferences",function(un){return Vt.ensureCatalog("viewerPreferences")}),zt.on("GetOpenAction",function(un){return Vt.ensureCatalog("openAction")}),zt.on("GetAttachments",function(yn){return Vt.ensureCatalog("attachments")}),zt.on("GetJavaScript",function(yn){return Vt.ensureCatalog("javaScript")}),zt.on("GetDocJSActions",function(yn){return Vt.ensureCatalog("jsActions")}),zt.on("GetPageJSActions",function({pageIndex:un}){return Vt.getPage(un).then(function(yn){return Vt.ensure(yn,"jsActions")})}),zt.on("GetOutline",function(yn){return Vt.ensureCatalog("documentOutline")}),zt.on("GetOptionalContentConfig",function(un){return Vt.ensureCatalog("optionalContentConfig")}),zt.on("GetPermissions",function(un){return Vt.ensureCatalog("permissions")}),zt.on("GetMetadata",function(yn){return Promise.all([Vt.ensureDoc("documentInfo"),Vt.ensureCatalog("metadata")])}),zt.on("GetMarkInfo",function(yn){return Vt.ensureCatalog("markInfo")}),zt.on("GetData",function(yn){return Vt.requestLoadedStream(),Vt.onLoadedStream().then(function(xn){return xn.bytes})}),zt.on("GetAnnotations",function({pageIndex:un,intent:yn}){return Vt.getPage(un).then(function(xn){const rn=new Nt(`GetAnnotations: page ${un}`);return ln(rn),xn.getAnnotationsData(zt,rn,yn).then(dn=>(Kt(rn),dn),dn=>{Kt(rn)})})}),zt.on("GetFieldObjects",function(un){return Vt.ensureDoc("fieldObjects")}),zt.on("HasJSActions",function(un){return Vt.ensureDoc("hasJSActions")}),zt.on("GetCalculationOrderIds",function(un){return Vt.ensureDoc("calculationOrderIds")}),zt.on("SaveDocument",function({isPureXfa:un,numPages:yn,annotationStorage:xn,filename:rn}){Vt.requestLoadedStream();const dn=un?null:(0,Mt.getNewAnnotationsMap)(xn),An=[Vt.onLoadedStream(),Vt.ensureCatalog("acroForm"),Vt.ensureCatalog("acroFormRef"),Vt.ensureDoc("xref"),Vt.ensureDoc("startXRef")];if(dn)for(const[an,fn]of dn)An.push(Vt.getPage(an).then(bn=>{const vn=new Nt(`Save (editor): page ${an}`);return bn.saveNewAnnotations(zt,vn,fn).finally(function(){Kt(vn)})}));if(un)An.push(Vt.serializeXfaData(xn));else for(let an=0;an<yn;an++)An.push(Vt.getPage(an).then(function(fn){const bn=new Nt(`Save: page ${an}`);return fn.save(zt,bn,xn).finally(function(){Kt(bn)})}));return Promise.all(An).then(function([an,fn,bn,vn,gn,...on]){let wn=[],pn=null;if(un){if(pn=on[0],!pn)return an.bytes}else if(wn=on.flat(2),wn.length===0)return an.bytes;const Cn=fn instanceof Et.Dict&&fn.get("XFA")||null;let Tn=null,Fn=!1;if(Array.isArray(Cn)){for(let kn=0,Pn=Cn.length;kn<Pn;kn+=2)Cn[kn]==="datasets"&&(Tn=Cn[kn+1],bn=null,Fn=!0);Tn===null&&(Tn=vn.getNewRef())}else Cn&&(bn=null,(0,vt.warn)("Unsupported XFA type."));let En=Object.create(null);if(vn.trailer){const kn=Object.create(null),Pn=vn.trailer.get("Info")||null;Pn instanceof Et.Dict&&Pn.forEach((_n,Mn)=>{typeof Mn=="string"&&(kn[_n]=(0,vt.stringToPDFString)(Mn))}),En={rootRef:vn.trailer.getRaw("Root")||null,encryptRef:vn.trailer.getRaw("Encrypt")||null,newRef:vn.getNewRef(),infoRef:vn.trailer.getRaw("Info")||null,info:kn,fileIds:vn.trailer.get("ID")||null,startXRef:gn,filename:rn}}return vn.resetNewRef(),(0,$t.incrementalUpdate)({originalData:an.bytes,xrefInfo:En,newRefs:wn,xref:vn,hasXfa:!!Cn,xfaDatasetsRef:Tn,hasXfaDatasetsEntry:Fn,acroFormRef:bn,acroForm:fn,xfaData:pn})})}),zt.on("GetOperatorList",function(yn,xn){const rn=yn.pageIndex;Vt.getPage(rn).then(function(dn){const An=new Nt(`GetOperatorList: page ${rn}`);ln(An);const an=Sn>=vt.VerbosityLevel.INFOS?Date.now():0;dn.getOperatorList({handler:zt,sink:xn,task:An,intent:yn.intent,cacheKey:yn.cacheKey,annotationStorage:yn.annotationStorage}).then(function(fn){Kt(An),an&&(0,vt.info)(`page=${rn+1} - getOperatorList: time=${Date.now()-an}ms, len=${fn.length}`),xn.close()},function(fn){Kt(An),!An.terminated&&(zt.send("UnsupportedFeature",{featureId:vt.UNSUPPORTED_FEATURES.errorOperatorList}),xn.error(fn))})})}),zt.on("GetTextContent",function(yn,xn){const rn=yn.pageIndex;Vt.getPage(rn).then(function(dn){const An=new Nt("GetTextContent: page "+rn);ln(An);const an=Sn>=vt.VerbosityLevel.INFOS?Date.now():0;dn.extractTextContent({handler:zt,task:An,sink:xn,includeMarkedContent:yn.includeMarkedContent,combineTextItems:yn.combineTextItems}).then(function(){Kt(An),an&&(0,vt.info)(`page=${rn+1} - getTextContent: time=${Date.now()-an}ms`),xn.close()},function(fn){Kt(An),!An.terminated&&xn.error(fn)})})}),zt.on("GetStructTree",function(yn){return Vt.getPage(yn.pageIndex).then(function(xn){return Vt.ensure(xn,"getStructTree")})}),zt.on("FontFallback",function(un){return Vt.fontFallback(un.id,zt)}),zt.on("Cleanup",function(yn){return Vt.cleanup(!0)}),zt.on("Terminate",function(yn){Gt=!0;const xn=[];if(Vt){Vt.terminate(new vt.AbortException("Worker was terminated."));const rn=Vt.cleanup();xn.push(rn),Vt=null}else(0,xt.clearGlobalCaches)();Wt&&Wt(new vt.AbortException("Worker was terminated."));for(const rn of en)xn.push(rn.finished),rn.terminate();return Promise.all(xn).then(function(){zt.destroy(),zt=null})}),zt.on("Ready",function(yn){tn(Ht),Ht=null}),Ut}static initializeFromPort(Ht){const Ot=new jt.MessageHandler("worker","main",Ht);Lt.setup(Ot,Ht),Ot.send("ready",null)}}St.WorkerMessageHandler=Lt;function kt(Bt){return typeof Bt.postMessage=="function"&&"onmessage"in Bt}typeof window>"u"&&!_t.isNodeJS&&typeof self<"u"&&kt(self)&&Lt.initializeFromPort(self)},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.VerbosityLevel=St.Util=St.UnknownErrorException=St.UnexpectedResponseException=St.UNSUPPORTED_FEATURES=St.TextRenderingMode=St.StreamType=St.RenderingIntentFlag=St.PermissionFlag=St.PasswordResponses=St.PasswordException=St.PageActionEventType=St.OPS=St.MissingPDFException=St.LINE_FACTOR=St.LINE_DESCENT_FACTOR=St.InvalidPDFException=St.ImageKind=St.IDENTITY_MATRIX=St.FormatError=St.FontType=St.FeatureTest=St.FONT_IDENTITY_MATRIX=St.DocumentActionEventType=St.CMapCompressionType=St.BaseException=St.AnnotationType=St.AnnotationStateModelType=St.AnnotationReviewState=St.AnnotationReplyType=St.AnnotationMode=St.AnnotationMarkedState=St.AnnotationFlag=St.AnnotationFieldFlag=St.AnnotationEditorType=St.AnnotationEditorPrefix=St.AnnotationEditorParamsType=St.AnnotationBorderStyleType=St.AnnotationActionEventType=St.AbortException=void 0,St.arrayByteLength=En,St.arraysToBytes=kn,St.assert=rn,St.bytesToString=Tn,St.createPromiseCapability=Pr,St.createValidAbsoluteUrl=An,St.escapeString=rr,St.getModificationDate=br,St.getVerbosityLevel=tn,St.info=un,St.isArrayBuffer=Bn,St.isArrayEqual=lr,St.isAscii=tr,St.objectFromMap=Mn,St.objectSize=_n,St.setVerbosityLevel=Yt,St.shadow=an,St.string32=Pn,St.stringToBytes=Fn,St.stringToPDFString=cr,St.stringToUTF16BEString=ir,St.stringToUTF8String=Kn,St.unreachable=xn,St.utf8StringToString=Vn,St.warn=yn,Ft(3);const vt=[1,0,0,1,0,0];St.IDENTITY_MATRIX=vt;const Et=[.001,0,0,.001,0,0];St.FONT_IDENTITY_MATRIX=Et;const Mt=1.35;St.LINE_FACTOR=Mt;const Pt=.35;St.LINE_DESCENT_FACTOR=Pt;const xt={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};St.RenderingIntentFlag=xt;const $t={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};St.AnnotationMode=$t;const _t="pdfjs_internal_editor_";St.AnnotationEditorPrefix=_t;const jt={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};St.AnnotationEditorType=jt;const Rt={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};St.AnnotationEditorParamsType=Rt;const Nt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};St.PermissionFlag=Nt;const Lt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};St.TextRenderingMode=Lt;const kt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};St.ImageKind=kt;const Bt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};St.AnnotationType=Bt;const Ht={MARKED:"Marked",REVIEW:"Review"};St.AnnotationStateModelType=Ht;const Ot={MARKED:"Marked",UNMARKED:"Unmarked"};St.AnnotationMarkedState=Ot;const Vt={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};St.AnnotationReviewState=Vt;const Gt={GROUP:"Group",REPLY:"R"};St.AnnotationReplyType=Gt;const Wt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};St.AnnotationFlag=Wt;const en={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};St.AnnotationFieldFlag=en;const Sn={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};St.AnnotationBorderStyleType=Sn;const sn={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};St.AnnotationActionEventType=sn;const hn={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};St.DocumentActionEventType=hn;const Qt={O:"PageOpen",C:"PageClose"};St.PageActionEventType=Qt;const qt={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};St.StreamType=qt;const nn={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};St.FontType=nn;const Ut={ERRORS:0,WARNINGS:1,INFOS:5};St.VerbosityLevel=Ut;const zt={NONE:0,BINARY:1,STREAM:2};St.CMapCompressionType=zt;const cn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};St.OPS=cn;const ln={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};St.UNSUPPORTED_FEATURES=ln;const Kt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};St.PasswordResponses=Kt;let Jt=Ut.WARNINGS;function Yt(nr){Number.isInteger(nr)&&(Jt=nr)}function tn(){return Jt}function un(nr){Jt>=Ut.INFOS&&console.log(`Info: ${nr}`)}function yn(nr){Jt>=Ut.WARNINGS&&console.log(`Warning: ${nr}`)}function xn(nr){throw new Error(nr)}function rn(nr,_i){nr||xn(_i)}function dn(nr){if(!nr)return!1;switch(nr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function An(nr,_i=null,zn=null){if(!nr)return null;try{if(zn&&typeof nr=="string"){if(zn.addDefaultProtocol&&nr.startsWith("www.")){const Cr=nr.match(/\./g);Cr&&Cr.length>=2&&(nr=`http://${nr}`)}if(zn.tryConvertEncoding)try{nr=Kn(nr)}catch{}}const wr=_i?new URL(nr,_i):new URL(nr);if(dn(wr))return wr}catch{}return null}function an(nr,_i,zn){return Object.defineProperty(nr,_i,{value:zn,enumerable:!0,configurable:!0,writable:!1}),zn}const fn=function(){function _i(zn,wr){this.constructor===_i&&xn("Cannot initialize BaseException."),this.message=zn,this.name=wr}return _i.prototype=new Error,_i.constructor=_i,_i}();St.BaseException=fn;class bn extends fn{constructor(_i,zn){super(_i,"PasswordException"),this.code=zn}}St.PasswordException=bn;class vn extends fn{constructor(_i,zn){super(_i,"UnknownErrorException"),this.details=zn}}St.UnknownErrorException=vn;class gn extends fn{constructor(_i){super(_i,"InvalidPDFException")}}St.InvalidPDFException=gn;class on extends fn{constructor(_i){super(_i,"MissingPDFException")}}St.MissingPDFException=on;class wn extends fn{constructor(_i,zn){super(_i,"UnexpectedResponseException"),this.status=zn}}St.UnexpectedResponseException=wn;class pn extends fn{constructor(_i){super(_i,"FormatError")}}St.FormatError=pn;class Cn extends fn{constructor(_i){super(_i,"AbortException")}}St.AbortException=Cn;function Tn(nr){(typeof nr!="object"||nr===null||nr.length===void 0)&&xn("Invalid argument for bytesToString");const _i=nr.length,zn=8192;if(_i<zn)return String.fromCharCode.apply(null,nr);const wr=[];for(let Cr=0;Cr<_i;Cr+=zn){const yr=Math.min(Cr+zn,_i),Br=nr.subarray(Cr,yr);wr.push(String.fromCharCode.apply(null,Br))}return wr.join("")}function Fn(nr){typeof nr!="string"&&xn("Invalid argument for stringToBytes");const _i=nr.length,zn=new Uint8Array(_i);for(let wr=0;wr<_i;++wr)zn[wr]=nr.charCodeAt(wr)&255;return zn}function En(nr){if(nr.length!==void 0)return nr.length;if(nr.byteLength!==void 0)return nr.byteLength;xn("Invalid argument for arrayByteLength")}function kn(nr){const _i=nr.length;if(_i===1&&nr[0]instanceof Uint8Array)return nr[0];let zn=0;for(let yr=0;yr<_i;yr++)zn+=En(nr[yr]);let wr=0;const Cr=new Uint8Array(zn);for(let yr=0;yr<_i;yr++){let Br=nr[yr];Br instanceof Uint8Array||(typeof Br=="string"?Br=Fn(Br):Br=new Uint8Array(Br));const gr=Br.byteLength;Cr.set(Br,wr),wr+=gr}return Cr}function Pn(nr){return String.fromCharCode(nr>>24&255,nr>>16&255,nr>>8&255,nr&255)}function _n(nr){return Object.keys(nr).length}function Mn(nr){const _i=Object.create(null);for(const[zn,wr]of nr)_i[zn]=wr;return _i}function On(){const nr=new Uint8Array(4);return nr[0]=1,new Uint32Array(nr.buffer,0,1)[0]===1}function jn(){try{return new Function(""),!0}catch{return!1}}class qn{static get isLittleEndian(){return an(this,"isLittleEndian",On())}static get isEvalSupported(){return an(this,"isEvalSupported",jn())}static get isOffscreenCanvasSupported(){return an(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}St.FeatureTest=qn;const Gn=[...Array(256).keys()].map(nr=>nr.toString(16).padStart(2,"0"));class Yn{static makeHexColor(_i,zn,wr){return`#${Gn[_i]}${Gn[zn]}${Gn[wr]}`}static scaleMinMax(_i,zn){let wr;_i[0]?(_i[0]<0&&(wr=zn[0],zn[0]=zn[1],zn[1]=wr),zn[0]*=_i[0],zn[1]*=_i[0],_i[3]<0&&(wr=zn[2],zn[2]=zn[3],zn[3]=wr),zn[2]*=_i[3],zn[3]*=_i[3]):(wr=zn[0],zn[0]=zn[2],zn[2]=wr,wr=zn[1],zn[1]=zn[3],zn[3]=wr,_i[1]<0&&(wr=zn[2],zn[2]=zn[3],zn[3]=wr),zn[2]*=_i[1],zn[3]*=_i[1],_i[2]<0&&(wr=zn[0],zn[0]=zn[1],zn[1]=wr),zn[0]*=_i[2],zn[1]*=_i[2]),zn[0]+=_i[4],zn[1]+=_i[4],zn[2]+=_i[5],zn[3]+=_i[5]}static transform(_i,zn){return[_i[0]*zn[0]+_i[2]*zn[1],_i[1]*zn[0]+_i[3]*zn[1],_i[0]*zn[2]+_i[2]*zn[3],_i[1]*zn[2]+_i[3]*zn[3],_i[0]*zn[4]+_i[2]*zn[5]+_i[4],_i[1]*zn[4]+_i[3]*zn[5]+_i[5]]}static applyTransform(_i,zn){const wr=_i[0]*zn[0]+_i[1]*zn[2]+zn[4],Cr=_i[0]*zn[1]+_i[1]*zn[3]+zn[5];return[wr,Cr]}static applyInverseTransform(_i,zn){const wr=zn[0]*zn[3]-zn[1]*zn[2],Cr=(_i[0]*zn[3]-_i[1]*zn[2]+zn[2]*zn[5]-zn[4]*zn[3])/wr,yr=(-_i[0]*zn[1]+_i[1]*zn[0]+zn[4]*zn[1]-zn[5]*zn[0])/wr;return[Cr,yr]}static getAxialAlignedBoundingBox(_i,zn){const wr=Yn.applyTransform(_i,zn),Cr=Yn.applyTransform(_i.slice(2,4),zn),yr=Yn.applyTransform([_i[0],_i[3]],zn),Br=Yn.applyTransform([_i[2],_i[1]],zn);return[Math.min(wr[0],Cr[0],yr[0],Br[0]),Math.min(wr[1],Cr[1],yr[1],Br[1]),Math.max(wr[0],Cr[0],yr[0],Br[0]),Math.max(wr[1],Cr[1],yr[1],Br[1])]}static inverseTransform(_i){const zn=_i[0]*_i[3]-_i[1]*_i[2];return[_i[3]/zn,-_i[1]/zn,-_i[2]/zn,_i[0]/zn,(_i[2]*_i[5]-_i[4]*_i[3])/zn,(_i[4]*_i[1]-_i[5]*_i[0])/zn]}static apply3dTransform(_i,zn){return[_i[0]*zn[0]+_i[1]*zn[1]+_i[2]*zn[2],_i[3]*zn[0]+_i[4]*zn[1]+_i[5]*zn[2],_i[6]*zn[0]+_i[7]*zn[1]+_i[8]*zn[2]]}static singularValueDecompose2dScale(_i){const zn=[_i[0],_i[2],_i[1],_i[3]],wr=_i[0]*zn[0]+_i[1]*zn[2],Cr=_i[0]*zn[1]+_i[1]*zn[3],yr=_i[2]*zn[0]+_i[3]*zn[2],Br=_i[2]*zn[1]+_i[3]*zn[3],gr=(wr+Br)/2,Mr=Math.sqrt((wr+Br)**2-4*(wr*Br-yr*Cr))/2,qr=gr+Mr||1,pr=gr-Mr||1;return[Math.sqrt(qr),Math.sqrt(pr)]}static normalizeRect(_i){const zn=_i.slice(0);return _i[0]>_i[2]&&(zn[0]=_i[2],zn[2]=_i[0]),_i[1]>_i[3]&&(zn[1]=_i[3],zn[3]=_i[1]),zn}static intersect(_i,zn){const wr=Math.max(Math.min(_i[0],_i[2]),Math.min(zn[0],zn[2])),Cr=Math.min(Math.max(_i[0],_i[2]),Math.max(zn[0],zn[2]));if(wr>Cr)return null;const yr=Math.max(Math.min(_i[1],_i[3]),Math.min(zn[1],zn[3])),Br=Math.min(Math.max(_i[1],_i[3]),Math.max(zn[1],zn[3]));return yr>Br?null:[wr,yr,Cr,Br]}static bezierBoundingBox(_i,zn,wr,Cr,yr,Br,gr,Mr){const qr=[],pr=[[],[]];let zr,Rr,fs,Yr,Jr,Ur,Is,_s;for(let vr=0;vr<2;++vr){if(vr===0?(Rr=6*_i-12*wr+6*yr,zr=-3*_i+9*wr-9*yr+3*gr,fs=3*wr-3*_i):(Rr=6*zn-12*Cr+6*Br,zr=-3*zn+9*Cr-9*Br+3*Mr,fs=3*Cr-3*zn),Math.abs(zr)<1e-12){if(Math.abs(Rr)<1e-12)continue;Yr=-fs/Rr,0<Yr&&Yr<1&&qr.push(Yr);continue}Is=Rr*Rr-4*fs*zr,_s=Math.sqrt(Is),!(Is<0)&&(Jr=(-Rr+_s)/(2*zr),0<Jr&&Jr<1&&qr.push(Jr),Ur=(-Rr-_s)/(2*zr),0<Ur&&Ur<1&&qr.push(Ur))}let mr=qr.length,or;const xr=mr;for(;mr--;)Yr=qr[mr],or=1-Yr,pr[0][mr]=or*or*or*_i+3*or*or*Yr*wr+3*or*Yr*Yr*yr+Yr*Yr*Yr*gr,pr[1][mr]=or*or*or*zn+3*or*or*Yr*Cr+3*or*Yr*Yr*Br+Yr*Yr*Yr*Mr;return pr[0][xr]=_i,pr[1][xr]=zn,pr[0][xr+1]=gr,pr[1][xr+1]=Mr,pr[0].length=pr[1].length=xr+2,[Math.min(...pr[0]),Math.min(...pr[1]),Math.max(...pr[0]),Math.max(...pr[1])]}}St.Util=Yn;const er=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function cr(nr){if(nr[0]>=""){let zn;if(nr[0]===""&&nr[1]===""?zn="utf-16be":nr[0]===""&&nr[1]===""?zn="utf-16le":nr[0]===""&&nr[1]===""&&nr[2]===""&&(zn="utf-8"),zn)try{const wr=new TextDecoder(zn,{fatal:!0}),Cr=Fn(nr);return wr.decode(Cr)}catch(wr){yn(`stringToPDFString: "${wr}".`)}}const _i=[];for(let zn=0,wr=nr.length;zn<wr;zn++){const Cr=er[nr.charCodeAt(zn)];_i.push(Cr?String.fromCharCode(Cr):nr.charAt(zn))}return _i.join("")}function rr(nr){return nr.replace(/([()\\\n\r])/g,_i=>_i===`
`?"\\n":_i==="\r"?"\\r":`\\${_i}`)}function tr(nr){return/^[\x00-\x7F]*$/.test(nr)}function ir(nr){const _i=[""];for(let zn=0,wr=nr.length;zn<wr;zn++){const Cr=nr.charCodeAt(zn);_i.push(String.fromCharCode(Cr>>8&255),String.fromCharCode(Cr&255))}return _i.join("")}function Kn(nr){return decodeURIComponent(escape(nr))}function Vn(nr){return unescape(encodeURIComponent(nr))}function Bn(nr){return typeof nr=="object"&&nr!==null&&nr.byteLength!==void 0}function lr(nr,_i){if(nr.length!==_i.length)return!1;for(let zn=0,wr=nr.length;zn<wr;zn++)if(nr[zn]!==_i[zn])return!1;return!0}function br(nr=new Date){return[nr.getUTCFullYear().toString(),(nr.getUTCMonth()+1).toString().padStart(2,"0"),nr.getUTCDate().toString().padStart(2,"0"),nr.getUTCHours().toString().padStart(2,"0"),nr.getUTCMinutes().toString().padStart(2,"0"),nr.getUTCSeconds().toString().padStart(2,"0")].join("")}function Pr(){const nr=Object.create(null);let _i=!1;return Object.defineProperty(nr,"settled",{get(){return _i}}),nr.promise=new Promise(function(zn,wr){nr.resolve=function(Cr){_i=!0,zn(Cr)},nr.reject=function(Cr){_i=!0,wr(Cr)}}),nr}},(Ct,St,Ft)=>{Ft(4)},(Ct,St)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.isNodeJS=void 0;const Ft=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");St.isNodeJS=Ft},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.RefSetCache=St.RefSet=St.Ref=St.Name=St.EOF=St.Dict=St.Cmd=St.CIRCULAR_REF=void 0,St.clearPrimitiveCaches=Ot,St.isCmd=kt,St.isDict=Bt,St.isName=Lt,St.isRefsEqual=Ht;var vt=Ft(2);const Et=Symbol("CIRCULAR_REF");St.CIRCULAR_REF=Et;const Mt=Symbol("EOF");St.EOF=Mt;const Pt=function(){let Gt=Object.create(null);class Wt{constructor(Sn){this.name=Sn}static get(Sn){return Gt[Sn]||(Gt[Sn]=new Wt(Sn))}static _clearCache(){Gt=Object.create(null)}}return Wt}();St.Name=Pt;const xt=function(){let Gt=Object.create(null);class Wt{constructor(Sn){this.cmd=Sn}static get(Sn){return Gt[Sn]||(Gt[Sn]=new Wt(Sn))}static _clearCache(){Gt=Object.create(null)}}return Wt}();St.Cmd=xt;const $t=function(){return $t};class _t{constructor(Gt=null){this._map=Object.create(null),this.xref=Gt,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=$t}assignXref(Gt){this.xref=Gt}get size(){return Object.keys(this._map).length}get(Gt,Wt,en){let Sn=this._map[Gt];return Sn===void 0&&Wt!==void 0&&(Sn=this._map[Wt],Sn===void 0&&en!==void 0&&(Sn=this._map[en])),Sn instanceof jt&&this.xref?this.xref.fetch(Sn,this.suppressEncryption):Sn}async getAsync(Gt,Wt,en){let Sn=this._map[Gt];return Sn===void 0&&Wt!==void 0&&(Sn=this._map[Wt],Sn===void 0&&en!==void 0&&(Sn=this._map[en])),Sn instanceof jt&&this.xref?this.xref.fetchAsync(Sn,this.suppressEncryption):Sn}getArray(Gt,Wt,en){let Sn=this._map[Gt];if(Sn===void 0&&Wt!==void 0&&(Sn=this._map[Wt],Sn===void 0&&en!==void 0&&(Sn=this._map[en])),Sn instanceof jt&&this.xref&&(Sn=this.xref.fetch(Sn,this.suppressEncryption)),Array.isArray(Sn)){Sn=Sn.slice();for(let sn=0,hn=Sn.length;sn<hn;sn++)Sn[sn]instanceof jt&&this.xref&&(Sn[sn]=this.xref.fetch(Sn[sn],this.suppressEncryption))}return Sn}getRaw(Gt){return this._map[Gt]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(Gt,Wt){this._map[Gt]=Wt}has(Gt){return this._map[Gt]!==void 0}forEach(Gt){for(const Wt in this._map)Gt(Wt,this.get(Wt))}static get empty(){const Gt=new _t(null);return Gt.set=(Wt,en)=>{(0,vt.unreachable)("Should not call `set` on the empty dictionary.")},(0,vt.shadow)(this,"empty",Gt)}static merge({xref:Gt,dictArray:Wt,mergeSubDicts:en=!1}){const Sn=new _t(Gt),sn=new Map;for(const hn of Wt)if(hn instanceof _t)for(const[Qt,qt]of Object.entries(hn._map)){let nn=sn.get(Qt);if(nn===void 0)nn=[],sn.set(Qt,nn);else if(!en||!(qt instanceof _t))continue;nn.push(qt)}for(const[hn,Qt]of sn){if(Qt.length===1||!(Qt[0]instanceof _t)){Sn._map[hn]=Qt[0];continue}const qt=new _t(Gt);for(const nn of Qt)for(const[Ut,zt]of Object.entries(nn._map))qt._map[Ut]===void 0&&(qt._map[Ut]=zt);qt.size>0&&(Sn._map[hn]=qt)}return sn.clear(),Sn.size>0?Sn:_t.empty}}St.Dict=_t;const jt=function(){let Gt=Object.create(null);class Wt{constructor(Sn,sn){this.num=Sn,this.gen=sn}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static get(Sn,sn){const hn=sn===0?`${Sn}R`:`${Sn}R${sn}`;return Gt[hn]||(Gt[hn]=new Wt(Sn,sn))}static _clearCache(){Gt=Object.create(null)}}return Wt}();St.Ref=jt;class Rt{constructor(Gt=null){this._set=new Set(Gt&&Gt._set)}has(Gt){return this._set.has(Gt.toString())}put(Gt){this._set.add(Gt.toString())}remove(Gt){this._set.delete(Gt.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}St.RefSet=Rt;class Nt{constructor(){this._map=new Map}get size(){return this._map.size}get(Gt){return this._map.get(Gt.toString())}has(Gt){return this._map.has(Gt.toString())}put(Gt,Wt){this._map.set(Gt.toString(),Wt)}putAlias(Gt,Wt){this._map.set(Gt.toString(),this.get(Wt))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}St.RefSetCache=Nt;function Lt(Vt,Gt){return Vt instanceof Pt&&(Gt===void 0||Vt.name===Gt)}function kt(Vt,Gt){return Vt instanceof xt&&(Gt===void 0||Vt.cmd===Gt)}function Bt(Vt,Gt){return Vt instanceof _t&&(Gt===void 0||Lt(Vt.get("Type"),Gt))}function Ht(Vt,Gt){return Vt.num===Gt.num&&Vt.gen===Gt.gen}function Ot(){xt._clearCache(),Pt._clearCache(),jt._clearCache()}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.XRefParseException=St.XRefEntryException=St.ParserEOFException=St.MissingDataException=St.DocStats=void 0,St.collectActions=hn,St.encodeToXmlString=qt,St.escapePDFName=Sn,St.getArrayLookupTableFactory=xt,St.getInheritableProperty=Lt,St.getLookupTableFactory=Pt,St.getNewAnnotationsMap=cn,St.isWhiteSpace=Wt,St.log2=Ht,St.numberToString=zt,St.parseXFAPath=en,St.readInt8=Ot,St.readUint16=Vt,St.readUint32=Gt,St.recoverJsURL=Ut,St.toRomanNumerals=Bt,St.validateCSSFont=nn;var vt=Ft(2),Et=Ft(5),Mt=Ft(7);function Pt(ln){let Kt;return function(){return ln&&(Kt=Object.create(null),ln(Kt),ln=null),Kt}}function xt(ln){let Kt;return function(){if(ln){let Jt=ln();ln=null,Kt=Object.create(null);for(let Yt=0,tn=Jt.length;Yt<tn;Yt+=2)Kt[Jt[Yt]]=Jt[Yt+1];Jt=null}return Kt}}class $t extends vt.BaseException{constructor(Kt,Jt){super(`Missing data [${Kt}, ${Jt})`,"MissingDataException"),this.begin=Kt,this.end=Jt}}St.MissingDataException=$t;class _t extends vt.BaseException{constructor(Kt){super(Kt,"ParserEOFException")}}St.ParserEOFException=_t;class jt extends vt.BaseException{constructor(Kt){super(Kt,"XRefEntryException")}}St.XRefEntryException=jt;class Rt extends vt.BaseException{constructor(Kt){super(Kt,"XRefParseException")}}St.XRefParseException=Rt;class Nt{constructor(Kt){this._handler=Kt,this._streamTypes=new Set,this._fontTypes=new Set}_send(){const Kt=Object.create(null),Jt=Object.create(null);for(const Yt of this._streamTypes)Kt[Yt]=!0;for(const Yt of this._fontTypes)Jt[Yt]=!0;this._handler.send("DocStats",{streamTypes:Kt,fontTypes:Jt})}addStreamType(Kt){this._streamTypes.has(Kt)||(this._streamTypes.add(Kt),this._send())}addFontType(Kt){this._fontTypes.has(Kt)||(this._fontTypes.add(Kt),this._send())}}St.DocStats=Nt;function Lt({dict:ln,key:Kt,getArray:Jt=!1,stopWhenFound:Yt=!0}){let tn;const un=new Et.RefSet;for(;ln instanceof Et.Dict&&!(ln.objId&&un.has(ln.objId));){ln.objId&&un.put(ln.objId);const yn=Jt?ln.getArray(Kt):ln.get(Kt);if(yn!==void 0){if(Yt)return yn;tn||(tn=[]),tn.push(yn)}ln=ln.get("Parent")}return tn}const kt=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function Bt(ln,Kt=!1){(0,vt.assert)(Number.isInteger(ln)&&ln>0,"The number should be a positive integer.");const Jt=[];let Yt;for(;ln>=1e3;)ln-=1e3,Jt.push("M");Yt=ln/100|0,ln%=100,Jt.push(kt[Yt]),Yt=ln/10|0,ln%=10,Jt.push(kt[10+Yt]),Jt.push(kt[20+ln]);const tn=Jt.join("");return Kt?tn.toLowerCase():tn}function Ht(ln){return ln<=0?0:Math.ceil(Math.log2(ln))}function Ot(ln,Kt){return ln[Kt]<<24>>24}function Vt(ln,Kt){return ln[Kt]<<8|ln[Kt+1]}function Gt(ln,Kt){return(ln[Kt]<<24|ln[Kt+1]<<16|ln[Kt+2]<<8|ln[Kt+3])>>>0}function Wt(ln){return ln===32||ln===9||ln===13||ln===10}function en(ln){const Kt=/(.+)\[(\d+)\]$/;return ln.split(".").map(Jt=>{const Yt=Jt.match(Kt);return Yt?{name:Yt[1],pos:parseInt(Yt[2],10)}:{name:Jt,pos:0}})}function Sn(ln){const Kt=[];let Jt=0;for(let Yt=0,tn=ln.length;Yt<tn;Yt++){const un=ln.charCodeAt(Yt);(un<33||un>126||un===35||un===40||un===41||un===60||un===62||un===91||un===93||un===123||un===125||un===47||un===37)&&(Jt<Yt&&Kt.push(ln.substring(Jt,Yt)),Kt.push(`#${un.toString(16)}`),Jt=Yt+1)}return Kt.length===0?ln:(Jt<ln.length&&Kt.push(ln.substring(Jt,ln.length)),Kt.join(""))}function sn(ln,Kt,Jt,Yt){if(!ln)return;let tn=null;if(ln instanceof Et.Ref){if(Yt.has(ln))return;tn=ln,Yt.put(tn),ln=Kt.fetch(ln)}if(Array.isArray(ln))for(const un of ln)sn(un,Kt,Jt,Yt);else if(ln instanceof Et.Dict){if((0,Et.isName)(ln.get("S"),"JavaScript")){const un=ln.get("JS");let yn;un instanceof Mt.BaseStream?yn=un.getString():typeof un=="string"&&(yn=un),yn=yn&&(0,vt.stringToPDFString)(yn).replace(/\u0000/g,""),yn&&Jt.push(yn)}sn(ln.getRaw("Next"),Kt,Jt,Yt)}tn&&Yt.remove(tn)}function hn(ln,Kt,Jt){const Yt=Object.create(null),tn=Lt({dict:Kt,key:"AA",stopWhenFound:!1});if(tn)for(let un=tn.length-1;un>=0;un--){const yn=tn[un];if(yn instanceof Et.Dict)for(const xn of yn.getKeys()){const rn=Jt[xn];if(!rn)continue;const dn=yn.getRaw(xn),An=new Et.RefSet,an=[];sn(dn,ln,an,An),an.length>0&&(Yt[rn]=an)}}if(Kt.has("A")){const un=Kt.get("A"),yn=new Et.RefSet,xn=[];sn(un,ln,xn,yn),xn.length>0&&(Yt.Action=xn)}return(0,vt.objectSize)(Yt)>0?Yt:null}const Qt={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function qt(ln){const Kt=[];let Jt=0;for(let Yt=0,tn=ln.length;Yt<tn;Yt++){const un=ln.codePointAt(Yt);if(32<=un&&un<=126){const yn=Qt[un];yn&&(Jt<Yt&&Kt.push(ln.substring(Jt,Yt)),Kt.push(yn),Jt=Yt+1)}else Jt<Yt&&Kt.push(ln.substring(Jt,Yt)),Kt.push(`&#x${un.toString(16).toUpperCase()};`),un>55295&&(un<57344||un>65533)&&Yt++,Jt=Yt+1}return Kt.length===0?ln:(Jt<ln.length&&Kt.push(ln.substring(Jt,ln.length)),Kt.join(""))}function nn(ln){const Kt="14",Jt="400",Yt=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:tn,fontWeight:un,italicAngle:yn}=ln;if(/^".*"$/.test(tn)){if(/[^\\]"/.test(tn.slice(1,tn.length-1)))return(0,vt.warn)(`XFA - FontFamily contains some unescaped ": ${tn}.`),!1}else if(/^'.*'$/.test(tn)){if(/[^\\]'/.test(tn.slice(1,tn.length-1)))return(0,vt.warn)(`XFA - FontFamily contains some unescaped ': ${tn}.`),!1}else for(const dn of tn.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(dn)||!/^[\w-\\]+$/.test(dn))return(0,vt.warn)(`XFA - FontFamily contains some invalid <custom-ident>: ${tn}.`),!1;const xn=un?un.toString():"";ln.fontWeight=Yt.has(xn)?xn:Jt;const rn=parseFloat(yn);return ln.italicAngle=isNaN(rn)||rn<-90||rn>90?Kt:yn.toString(),!0}function Ut(ln){const Kt=["app.launchURL","window.open","xfa.host.gotoURL"],Yt=new RegExp("^\\s*("+Kt.join("|").split(".").join("\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(ln);if(Yt&&Yt[2]){const tn=Yt[2];let un=!1;return Yt[3]==="true"&&Yt[1]==="app.launchURL"&&(un=!0),{url:tn,newWindow:un}}return null}function zt(ln){if(Number.isInteger(ln))return ln.toString();const Kt=Math.round(ln*100);return Kt%100===0?(Kt/100).toString():Kt%10===0?ln.toFixed(1):ln.toFixed(2)}function cn(ln){if(!ln)return null;const Kt=new Map;for(const[Jt,Yt]of ln){if(!Jt.startsWith(vt.AnnotationEditorPrefix))continue;let tn=Kt.get(Yt.pageIndex);tn||(tn=[],Kt.set(Yt.pageIndex,tn)),tn.push(Yt)}return Kt.size>0?Kt:null}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.BaseStream=void 0;var vt=Ft(2);class Et{constructor(){this.constructor===Et&&(0,vt.unreachable)("Cannot initialize BaseStream.")}get length(){(0,vt.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,vt.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,vt.shadow)(this,"isDataLoaded",!0)}getByte(){(0,vt.unreachable)("Abstract method `getByte` called")}getBytes(Pt){(0,vt.unreachable)("Abstract method `getBytes` called")}peekByte(){const Pt=this.getByte();return Pt!==-1&&this.pos--,Pt}peekBytes(Pt){const xt=this.getBytes(Pt);return this.pos-=xt.length,xt}getUint16(){const Pt=this.getByte(),xt=this.getByte();return Pt===-1||xt===-1?-1:(Pt<<8)+xt}getInt32(){const Pt=this.getByte(),xt=this.getByte(),$t=this.getByte(),_t=this.getByte();return(Pt<<24)+(xt<<16)+($t<<8)+_t}getByteRange(Pt,xt){(0,vt.unreachable)("Abstract method `getByteRange` called")}getString(Pt){return(0,vt.bytesToString)(this.getBytes(Pt))}skip(Pt){this.pos+=Pt||1}reset(){(0,vt.unreachable)("Abstract method `reset` called")}moveStart(){(0,vt.unreachable)("Abstract method `moveStart` called")}makeSubStream(Pt,xt,$t=null){(0,vt.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}St.BaseStream=Et},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.NetworkPdfManager=St.LocalPdfManager=void 0;var vt=Ft(2),Et=Ft(9),Mt=Ft(6),Pt=Ft(11),xt=Ft(10);function $t(Nt){if(Nt){const Lt=(0,vt.createValidAbsoluteUrl)(Nt);if(Lt)return Lt.href;(0,vt.warn)(`Invalid absolute docBaseUrl: "${Nt}".`)}return null}class _t{constructor(){this.constructor===_t&&(0,vt.unreachable)("Cannot initialize BasePdfManager.")}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){const Lt=this.pdfDocument.catalog;return(0,vt.shadow)(this,"docBaseUrl",Lt.baseUrl||this._docBaseUrl)}onLoadedStream(){(0,vt.unreachable)("Abstract method `onLoadedStream` called")}ensureDoc(Lt,kt){return this.ensure(this.pdfDocument,Lt,kt)}ensureXRef(Lt,kt){return this.ensure(this.pdfDocument.xref,Lt,kt)}ensureCatalog(Lt,kt){return this.ensure(this.pdfDocument.catalog,Lt,kt)}getPage(Lt){return this.pdfDocument.getPage(Lt)}fontFallback(Lt,kt){return this.pdfDocument.fontFallback(Lt,kt)}loadXfaFonts(Lt,kt){return this.pdfDocument.loadXfaFonts(Lt,kt)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(Lt){return this.pdfDocument.serializeXfaData(Lt)}cleanup(Lt=!1){return this.pdfDocument.cleanup(Lt)}async ensure(Lt,kt,Bt){(0,vt.unreachable)("Abstract method `ensure` called")}requestRange(Lt,kt){(0,vt.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(){(0,vt.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(Lt){(0,vt.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(Lt){this._password=Lt}terminate(Lt){(0,vt.unreachable)("Abstract method `terminate` called")}}class jt extends _t{constructor(Lt,kt,Bt,Ht,Ot,Vt,Gt){super(),this._docId=Lt,this._password=Bt,this._docBaseUrl=$t(Gt),this.msgHandler=Ht,this.evaluatorOptions=Ot,this.enableXfa=Vt;const Wt=new xt.Stream(kt);this.pdfDocument=new Pt.PDFDocument(this,Wt),this._loadedStreamPromise=Promise.resolve(Wt)}async ensure(Lt,kt,Bt){const Ht=Lt[kt];return typeof Ht=="function"?Ht.apply(Lt,Bt):Ht}requestRange(Lt,kt){return Promise.resolve()}requestLoadedStream(){}onLoadedStream(){return this._loadedStreamPromise}terminate(Lt){}}St.LocalPdfManager=jt;class Rt extends _t{constructor(Lt,kt,Bt,Ht,Ot,Vt){super(),this._docId=Lt,this._password=Bt.password,this._docBaseUrl=$t(Vt),this.msgHandler=Bt.msgHandler,this.evaluatorOptions=Ht,this.enableXfa=Ot,this.streamManager=new Et.ChunkedStreamManager(kt,{msgHandler:Bt.msgHandler,length:Bt.length,disableAutoFetch:Bt.disableAutoFetch,rangeChunkSize:Bt.rangeChunkSize}),this.pdfDocument=new Pt.PDFDocument(this,this.streamManager.getStream())}async ensure(Lt,kt,Bt){try{const Ht=Lt[kt];return typeof Ht=="function"?Ht.apply(Lt,Bt):Ht}catch(Ht){if(!(Ht instanceof Mt.MissingDataException))throw Ht;return await this.requestRange(Ht.begin,Ht.end),this.ensure(Lt,kt,Bt)}}requestRange(Lt,kt){return this.streamManager.requestRange(Lt,kt)}requestLoadedStream(){this.streamManager.requestAllChunks()}sendProgressiveData(Lt){this.streamManager.onReceiveData({chunk:Lt})}onLoadedStream(){return this.streamManager.onLoadedStream()}terminate(Lt){this.streamManager.abort(Lt)}}St.NetworkPdfManager=Rt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.ChunkedStreamManager=St.ChunkedStream=void 0;var vt=Ft(2),Et=Ft(6),Mt=Ft(10);class Pt extends Mt.Stream{constructor(_t,jt,Rt){super(new Uint8Array(_t),0,_t,null),this.chunkSize=jt,this._loadedChunks=new Set,this.numChunks=Math.ceil(_t/jt),this.manager=Rt,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const _t=[];for(let jt=0,Rt=this.numChunks;jt<Rt;++jt)this._loadedChunks.has(jt)||_t.push(jt);return _t}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(_t,jt){const Rt=this.chunkSize;if(_t%Rt!==0)throw new Error(`Bad begin offset: ${_t}`);const Nt=_t+jt.byteLength;if(Nt%Rt!==0&&Nt!==this.bytes.length)throw new Error(`Bad end offset: ${Nt}`);this.bytes.set(new Uint8Array(jt),_t);const Lt=Math.floor(_t/Rt),kt=Math.floor((Nt-1)/Rt)+1;for(let Bt=Lt;Bt<kt;++Bt)this._loadedChunks.add(Bt)}onReceiveProgressiveData(_t){let jt=this.progressiveDataLength;const Rt=Math.floor(jt/this.chunkSize);this.bytes.set(new Uint8Array(_t),jt),jt+=_t.byteLength,this.progressiveDataLength=jt;const Nt=jt>=this.end?this.numChunks:Math.floor(jt/this.chunkSize);for(let Lt=Rt;Lt<Nt;++Lt)this._loadedChunks.add(Lt)}ensureByte(_t){if(_t<this.progressiveDataLength)return;const jt=Math.floor(_t/this.chunkSize);if(!(jt>this.numChunks)&&jt!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(jt))throw new Et.MissingDataException(_t,_t+1);this.lastSuccessfulEnsureByteChunk=jt}}ensureRange(_t,jt){if(_t>=jt||jt<=this.progressiveDataLength)return;const Rt=Math.floor(_t/this.chunkSize);if(Rt>this.numChunks)return;const Nt=Math.min(Math.floor((jt-1)/this.chunkSize)+1,this.numChunks);for(let Lt=Rt;Lt<Nt;++Lt)if(!this._loadedChunks.has(Lt))throw new Et.MissingDataException(_t,jt)}nextEmptyChunk(_t){const jt=this.numChunks;for(let Rt=0;Rt<jt;++Rt){const Nt=(_t+Rt)%jt;if(!this._loadedChunks.has(Nt))return Nt}return null}hasChunk(_t){return this._loadedChunks.has(_t)}getByte(){const _t=this.pos;return _t>=this.end?-1:(_t>=this.progressiveDataLength&&this.ensureByte(_t),this.bytes[this.pos++])}getBytes(_t){const jt=this.bytes,Rt=this.pos,Nt=this.end;if(!_t)return Nt>this.progressiveDataLength&&this.ensureRange(Rt,Nt),jt.subarray(Rt,Nt);let Lt=Rt+_t;return Lt>Nt&&(Lt=Nt),Lt>this.progressiveDataLength&&this.ensureRange(Rt,Lt),this.pos=Lt,jt.subarray(Rt,Lt)}getByteRange(_t,jt){return _t<0&&(_t=0),jt>this.end&&(jt=this.end),jt>this.progressiveDataLength&&this.ensureRange(_t,jt),this.bytes.subarray(_t,jt)}makeSubStream(_t,jt,Rt=null){jt?_t+jt>this.progressiveDataLength&&this.ensureRange(_t,_t+jt):_t>=this.progressiveDataLength&&this.ensureByte(_t);function Nt(){}Nt.prototype=Object.create(this),Nt.prototype.getMissingChunks=function(){const kt=this.chunkSize,Bt=Math.floor(this.start/kt),Ht=Math.floor((this.end-1)/kt)+1,Ot=[];for(let Vt=Bt;Vt<Ht;++Vt)this._loadedChunks.has(Vt)||Ot.push(Vt);return Ot},Object.defineProperty(Nt.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const Lt=new Nt;return Lt.pos=Lt.start=_t,Lt.end=_t+jt||this.end,Lt.dict=Rt,Lt}getBaseStreams(){return[this]}}St.ChunkedStream=Pt;class xt{constructor(_t,jt){this.length=jt.length,this.chunkSize=jt.rangeChunkSize,this.stream=new Pt(this.length,this.chunkSize,this),this.pdfNetworkStream=_t,this.disableAutoFetch=jt.disableAutoFetch,this.msgHandler=jt.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,vt.createPromiseCapability)()}onLoadedStream(){return this._loadedStreamCapability.promise}sendRequest(_t,jt){const Rt=this.pdfNetworkStream.getRangeReader(_t,jt);Rt.isStreamingSupported||(Rt.onProgress=this.onProgress.bind(this));let Nt=[],Lt=0;return new Promise((kt,Bt)=>{const Ht=Ot=>{try{if(!Ot.done){const Gt=Ot.value;Nt.push(Gt),Lt+=(0,vt.arrayByteLength)(Gt),Rt.isStreamingSupported&&this.onProgress({loaded:Lt}),Rt.read().then(Ht,Bt);return}const Vt=(0,vt.arraysToBytes)(Nt);Nt=null,kt(Vt)}catch(Vt){Bt(Vt)}};Rt.read().then(Ht,Bt)}).then(kt=>{this.aborted||this.onReceiveData({chunk:kt,begin:_t})})}requestAllChunks(){const _t=this.stream.getMissingChunks();return this._requestChunks(_t),this._loadedStreamCapability.promise}_requestChunks(_t){const jt=this.currRequestId++,Rt=new Set;this._chunksNeededByRequest.set(jt,Rt);for(const kt of _t)this.stream.hasChunk(kt)||Rt.add(kt);if(Rt.size===0)return Promise.resolve();const Nt=(0,vt.createPromiseCapability)();this._promisesByRequest.set(jt,Nt);const Lt=[];for(const kt of Rt){let Bt=this._requestsByChunk.get(kt);Bt||(Bt=[],this._requestsByChunk.set(kt,Bt),Lt.push(kt)),Bt.push(jt)}if(Lt.length>0){const kt=this.groupChunks(Lt);for(const Bt of kt){const Ht=Bt.beginChunk*this.chunkSize,Ot=Math.min(Bt.endChunk*this.chunkSize,this.length);this.sendRequest(Ht,Ot).catch(Nt.reject)}}return Nt.promise.catch(kt=>{if(!this.aborted)throw kt})}getStream(){return this.stream}requestRange(_t,jt){jt=Math.min(jt,this.length);const Rt=this.getBeginChunk(_t),Nt=this.getEndChunk(jt),Lt=[];for(let kt=Rt;kt<Nt;++kt)Lt.push(kt);return this._requestChunks(Lt)}requestRanges(_t=[]){const jt=[];for(const Rt of _t){const Nt=this.getBeginChunk(Rt.begin),Lt=this.getEndChunk(Rt.end);for(let kt=Nt;kt<Lt;++kt)jt.includes(kt)||jt.push(kt)}return jt.sort(function(Rt,Nt){return Rt-Nt}),this._requestChunks(jt)}groupChunks(_t){const jt=[];let Rt=-1,Nt=-1;for(let Lt=0,kt=_t.length;Lt<kt;++Lt){const Bt=_t[Lt];Rt<0&&(Rt=Bt),Nt>=0&&Nt+1!==Bt&&(jt.push({beginChunk:Rt,endChunk:Nt+1}),Rt=Bt),Lt+1===_t.length&&jt.push({beginChunk:Rt,endChunk:Bt+1}),Nt=Bt}return jt}onProgress(_t){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+_t.loaded,total:this.length})}onReceiveData(_t){const jt=_t.chunk,Rt=_t.begin===void 0,Nt=Rt?this.progressiveDataLength:_t.begin,Lt=Nt+jt.byteLength,kt=Math.floor(Nt/this.chunkSize),Bt=Lt<this.length?Math.floor(Lt/this.chunkSize):Math.ceil(Lt/this.chunkSize);Rt?(this.stream.onReceiveProgressiveData(jt),this.progressiveDataLength=Lt):this.stream.onReceiveData(Nt,jt),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const Ht=[];for(let Ot=kt;Ot<Bt;++Ot){const Vt=this._requestsByChunk.get(Ot);if(Vt){this._requestsByChunk.delete(Ot);for(const Gt of Vt){const Wt=this._chunksNeededByRequest.get(Gt);Wt.has(Ot)&&Wt.delete(Ot),!(Wt.size>0)&&Ht.push(Gt)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let Ot;if(this.stream.numChunksLoaded===1){const Vt=this.stream.numChunks-1;this.stream.hasChunk(Vt)||(Ot=Vt)}else Ot=this.stream.nextEmptyChunk(Bt);Number.isInteger(Ot)&&this._requestChunks([Ot])}for(const Ot of Ht){const Vt=this._promisesByRequest.get(Ot);this._promisesByRequest.delete(Ot),Vt.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(_t){this._loadedStreamCapability.reject(_t)}getBeginChunk(_t){return Math.floor(_t/this.chunkSize)}getEndChunk(_t){return Math.floor((_t-1)/this.chunkSize)+1}abort(_t){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(_t);for(const jt of this._promisesByRequest.values())jt.reject(_t)}}St.ChunkedStreamManager=xt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.StringStream=St.Stream=St.NullStream=void 0;var vt=Ft(7),Et=Ft(2);class Mt extends vt.BaseStream{constructor(_t,jt,Rt,Nt){super(),this.bytes=_t instanceof Uint8Array?_t:new Uint8Array(_t),this.start=jt||0,this.pos=this.start,this.end=jt+Rt||this.bytes.length,this.dict=Nt}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(_t){const jt=this.bytes,Rt=this.pos,Nt=this.end;if(!_t)return jt.subarray(Rt,Nt);let Lt=Rt+_t;return Lt>Nt&&(Lt=Nt),this.pos=Lt,jt.subarray(Rt,Lt)}getByteRange(_t,jt){return _t<0&&(_t=0),jt>this.end&&(jt=this.end),this.bytes.subarray(_t,jt)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(_t,jt,Rt=null){return new Mt(this.bytes.buffer,_t,jt,Rt)}}St.Stream=Mt;class Pt extends Mt{constructor(_t){super((0,Et.stringToBytes)(_t))}}St.StringStream=Pt;class xt extends Mt{constructor(){super(new Uint8Array(0))}}St.NullStream=xt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.Page=St.PDFDocument=void 0;var vt=Ft(12),Et=Ft(2),Mt=Ft(6),Pt=Ft(5),xt=Ft(51),$t=Ft(7),_t=Ft(67),jt=Ft(69),Rt=Ft(71),Nt=Ft(100),Lt=Ft(17),kt=Ft(10),Bt=Ft(75),Ht=Ft(62),Ot=Ft(15),Vt=Ft(19),Gt=Ft(74),Wt=Ft(65),en=Ft(76),Sn=Ft(101);const sn=1,hn=[0,0,612,792];class Qt{constructor({pdfManager:tn,xref:un,pageIndex:yn,pageDict:xn,ref:rn,globalIdFactory:dn,fontCache:An,builtInCMapCache:an,standardFontDataCache:fn,globalImageCache:bn,nonBlendModesSet:vn,xfaFactory:gn}){this.pdfManager=tn,this.pageIndex=yn,this.pageDict=xn,this.xref=un,this.ref=rn,this.fontCache=An,this.builtInCMapCache=an,this.standardFontDataCache=fn,this.globalImageCache=bn,this.nonBlendModesSet=vn,this.evaluatorOptions=tn.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=gn;const on={obj:0};this._localIdFactory=class extends dn{static createObjId(){return`p${yn}_${++on.obj}`}static getPageObjId(){return`page${rn.toString()}`}}}_getInheritableProperty(tn,un=!1){const yn=(0,Mt.getInheritableProperty)({dict:this.pageDict,key:tn,getArray:un,stopWhenFound:!1});return Array.isArray(yn)?yn.length===1||!(yn[0]instanceof Pt.Dict)?yn[0]:Pt.Dict.merge({xref:this.xref,dictArray:yn}):yn}get content(){return this.pageDict.getArray("Contents")}get resources(){const tn=this._getInheritableProperty("Resources");return(0,Et.shadow)(this,"resources",tn instanceof Pt.Dict?tn:Pt.Dict.empty)}_getBoundingBox(tn){if(this.xfaData)return this.xfaData.bbox;const un=this._getInheritableProperty(tn,!0);if(Array.isArray(un)&&un.length===4){if(un[2]-un[0]!==0&&un[3]-un[1]!==0)return un;(0,Et.warn)(`Empty /${tn} entry.`)}return null}get mediaBox(){return(0,Et.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||hn)}get cropBox(){return(0,Et.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let tn=this.pageDict.get("UserUnit");return(typeof tn!="number"||tn<=0)&&(tn=sn),(0,Et.shadow)(this,"userUnit",tn)}get view(){const{cropBox:tn,mediaBox:un}=this;let yn;if(tn===un||(0,Et.isArrayEqual)(tn,un))yn=un;else{const xn=Et.Util.intersect(tn,un);xn&&xn[2]-xn[0]!==0&&xn[3]-xn[1]!==0?yn=xn:(0,Et.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,Et.shadow)(this,"view",yn||un)}get rotate(){let tn=this._getInheritableProperty("Rotate")||0;return tn%90!==0?tn=0:tn>=360?tn%=360:tn<0&&(tn=(tn%360+360)%360),(0,Et.shadow)(this,"rotate",tn)}_onSubStreamError(tn,un,yn){if(this.evaluatorOptions.ignoreErrors){tn.send("UnsupportedFeature",{featureId:Et.UNSUPPORTED_FEATURES.errorContentSubStream}),(0,Et.warn)(`getContentStream - ignoring sub-stream (${yn}): "${un}".`);return}throw un}getContentStream(tn){return this.pdfManager.ensure(this,"content").then(un=>un instanceof $t.BaseStream?un:Array.isArray(un)?new Vt.StreamsSequenceStream(un,this._onSubStreamError.bind(this,tn)):new kt.NullStream)}get xfaData(){return(0,Et.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(tn,un,yn){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const xn=new Ot.PartialEvaluator({xref:this.xref,handler:tn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),rn=this.pageDict,dn=this.annotations.slice(),An=await vt.AnnotationFactory.saveNewAnnotations(xn,un,yn);for(const{ref:gn}of An.annotations)dn.push(gn);const an=rn.get("Annots");rn.set("Annots",dn);const fn=[];let bn=null;this.xref.encrypt&&(bn=this.xref.encrypt.createCipherTransform(this.ref.num,this.ref.gen)),(0,Wt.writeObject)(this.ref,rn,fn,bn),an&&rn.set("Annots",an);const vn=An.dependencies;return vn.push({ref:this.ref,data:fn.join("")},...An.annotations),vn}save(tn,un,yn){const xn=new Ot.PartialEvaluator({xref:this.xref,handler:tn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(rn){const dn=[];for(const An of rn)An.mustBePrinted(yn)&&dn.push(An.save(xn,un,yn).catch(function(an){return(0,Et.warn)(`save - ignoring annotation data during "${un.name}" task: "${an}".`),null}));return Promise.all(dn).then(function(An){return An.filter(an=>!!an)})})}loadResources(tn){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new Bt.ObjectLoader(this.resources,tn,this.xref).load())}getOperatorList({handler:tn,sink:un,task:yn,intent:xn,cacheKey:rn,annotationStorage:dn=null}){const An=this.getContentStream(tn),an=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),fn=new Ot.PartialEvaluator({xref:this.xref,handler:tn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),bn=this.xfaFactory?null:(0,Mt.getNewAnnotationsMap)(dn);let vn=Promise.resolve(null);if(bn){const wn=bn.get(this.pageIndex);wn&&(vn=vt.AnnotationFactory.printNewAnnotations(fn,yn,wn))}const on=Promise.all([An,an]).then(([wn])=>{const pn=new Ht.OperatorList(xn,un);return tn.send("StartRenderPage",{transparency:fn.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:rn}),fn.getOperatorList({stream:wn,task:yn,resources:this.resources,operatorList:pn}).then(function(){return pn})});return Promise.all([on,this._parsedAnnotations,vn]).then(function([wn,pn,Cn]){if(Cn&&(pn=pn.concat(Cn)),pn.length===0||xn&Et.RenderingIntentFlag.ANNOTATIONS_DISABLE)return wn.flush(!0),{length:wn.totalLength};const Tn=!!(xn&Et.RenderingIntentFlag.ANNOTATIONS_FORMS),Fn=!!(xn&Et.RenderingIntentFlag.ANY),En=!!(xn&Et.RenderingIntentFlag.DISPLAY),kn=!!(xn&Et.RenderingIntentFlag.PRINT),Pn=[];for(const _n of pn)(Fn||En&&_n.mustBeViewed(dn)||kn&&_n.mustBePrinted(dn))&&Pn.push(_n.getOperatorList(fn,yn,xn,Tn,dn).catch(function(Mn){return(0,Et.warn)(`getOperatorList - ignoring annotation data during "${yn.name}" task: "${Mn}".`),null}));return Promise.all(Pn).then(function(_n){let Mn=!1,On=!1;for(const{opList:jn,separateForm:qn,separateCanvas:Gn}of _n)wn.addOpList(jn),qn&&(Mn=qn),Gn&&(On=Gn);return wn.flush(!0,{form:Mn,canvas:On}),{length:wn.totalLength}})})}extractTextContent({handler:tn,task:un,includeMarkedContent:yn,sink:xn,combineTextItems:rn}){const dn=this.getContentStream(tn),An=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([dn,An]).then(([fn])=>new Ot.PartialEvaluator({xref:this.xref,handler:tn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}).getTextContent({stream:fn,task:un,resources:this.resources,includeMarkedContent:yn,combineTextItems:rn,sink:xn,viewBox:this.view}))}async getStructTree(){const tn=await this.pdfManager.ensureCatalog("structTreeRoot");return tn?(await this.pdfManager.ensure(this,"_parseStructTree",[tn])).serializable:null}_parseStructTree(tn){const un=new Gt.StructTreePage(tn,this.pageDict);return un.parse(),un}async getAnnotationsData(tn,un,yn){const xn=await this._parsedAnnotations;if(xn.length===0)return[];const rn=[],dn=[];let An;const an=!!(yn&Et.RenderingIntentFlag.ANY),fn=!!(yn&Et.RenderingIntentFlag.DISPLAY),bn=!!(yn&Et.RenderingIntentFlag.PRINT);for(const vn of xn){const gn=an||fn&&vn.viewable;(gn||bn&&vn.printable)&&dn.push(vn.data),vn.hasTextContent&&gn&&(An||(An=new Ot.PartialEvaluator({xref:this.xref,handler:tn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions})),rn.push(vn.extractTextContent(An,un,this.view).catch(function(on){(0,Et.warn)(`getAnnotationsData - ignoring textContent during "${un.name}" task: "${on}".`)})))}return await Promise.all(rn),dn}get annotations(){const tn=this._getInheritableProperty("Annots");return(0,Et.shadow)(this,"annotations",Array.isArray(tn)?tn:[])}get _parsedAnnotations(){const tn=this.pdfManager.ensure(this,"annotations").then(()=>{const un=[];for(const yn of this.annotations)un.push(vt.AnnotationFactory.create(this.xref,yn,this.pdfManager,this._localIdFactory,!1).catch(function(xn){return(0,Et.warn)(`_parsedAnnotations: "${xn}".`),null}));return Promise.all(un).then(function(yn){if(yn.length===0)return yn;const xn=[];let rn;for(const dn of yn)if(dn){if(dn instanceof vt.PopupAnnotation){rn||(rn=[]),rn.push(dn);continue}xn.push(dn)}return rn&&xn.push(...rn),xn})});return(0,Et.shadow)(this,"_parsedAnnotations",tn)}get jsActions(){const tn=(0,Mt.collectActions)(this.xref,this.pageDict,Et.PageActionEventType);return(0,Et.shadow)(this,"jsActions",tn)}}St.Page=Qt;const qt=new Uint8Array([37,80,68,70,45]),nn=new Uint8Array([115,116,97,114,116,120,114,101,102]),Ut=new Uint8Array([101,110,100,111,98,106]),zt=1024,cn="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0",ln=/^[1-9]\.\d$/;function Kt(Yt,tn,un=1024,yn=!1){const xn=tn.length,rn=Yt.peekBytes(un),dn=rn.length-xn;if(dn<=0)return!1;if(yn){const An=xn-1;let an=rn.length-1;for(;an>=An;){let fn=0;for(;fn<xn&&rn[an-fn]===tn[An-fn];)fn++;if(fn>=xn)return Yt.pos+=an-An,!0;an--}}else{let An=0;for(;An<=dn;){let an=0;for(;an<xn&&rn[An+an]===tn[an];)an++;if(an>=xn)return Yt.pos+=An,!0;An++}}return!1}class Jt{constructor(tn,un){if(un.length<=0)throw new Et.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=tn,this.stream=un,this.xref=new Sn.XRef(un,tn),this._pagePromises=new Map,this._version=null;const yn={font:0};this._globalIdFactory=class{static getDocId(){return`g_${tn.docId}`}static createFontId(){return`f${++yn.font}`}static createObjId(){(0,Et.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,Et.unreachable)("Abstract method `getPageObjId` called.")}}}parse(tn){this.xref.parse(tn),this.catalog=new jt.Catalog(this.pdfManager,this.xref),this.catalog.version&&(this._version=this.catalog.version)}get linearization(){let tn=null;try{tn=Lt.Linearization.create(this.stream)}catch(un){if(un instanceof Mt.MissingDataException)throw un;(0,Et.info)(un)}return(0,Et.shadow)(this,"linearization",tn)}get startXRef(){const tn=this.stream;let un=0;if(this.linearization)tn.reset(),Kt(tn,Ut)&&(un=tn.pos+6-tn.start);else{const xn=nn.length;let rn=!1,dn=tn.end;for(;!rn&&dn>0;)dn-=1024-xn,dn<0&&(dn=0),tn.pos=dn,rn=Kt(tn,nn,1024,!0);if(rn){tn.skip(9);let An;do An=tn.getByte();while((0,Mt.isWhiteSpace)(An));let an="";for(;An>=32&&An<=57;)an+=String.fromCharCode(An),An=tn.getByte();un=parseInt(an,10),isNaN(un)&&(un=0)}}return(0,Et.shadow)(this,"startXRef",un)}checkHeader(){const tn=this.stream;if(tn.reset(),!Kt(tn,qt))return;tn.moveStart();const un=12;let yn="",xn;for(;(xn=tn.getByte())>32&&!(yn.length>=un);)yn+=String.fromCharCode(xn);this._version||(this._version=yn.substring(5))}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let tn=0;return this.catalog.hasActualNumPages?tn=this.catalog.numPages:this.xfaFactory?tn=this.xfaFactory.getNumPages():this.linearization?tn=this.linearization.numPages:tn=this.catalog.numPages,(0,Et.shadow)(this,"numPages",tn)}_hasOnlyDocumentSignatures(tn,un=0){return Array.isArray(tn)?tn.every(xn=>{if(xn=this.xref.fetchIfRef(xn),!(xn instanceof Pt.Dict))return!1;if(xn.has("Kids"))return++un>10?((0,Et.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(xn.get("Kids"),un);const rn=(0,Pt.isName)(xn.get("FT"),"Sig"),dn=xn.get("Rect"),An=Array.isArray(dn)&&dn.every(an=>an===0);return rn&&An}):!1}get _xfaStreams(){const tn=this.catalog.acroForm;if(!tn)return null;const un=tn.get("XFA"),yn={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(un instanceof $t.BaseStream&&!un.isEmpty)return yn["xdp:xdp"]=un,yn;if(!Array.isArray(un)||un.length===0)return null;for(let xn=0,rn=un.length;xn<rn;xn+=2){let dn;if(xn===0?dn="xdp:xdp":xn===rn-2?dn="/xdp:xdp":dn=un[xn],!yn.hasOwnProperty(dn))continue;const An=this.xref.fetchIfRef(un[xn+1]);!(An instanceof $t.BaseStream)||An.isEmpty||(yn[dn]=An)}return yn}get xfaDatasets(){const tn=this._xfaStreams;if(!tn)return(0,Et.shadow)(this,"xfaDatasets",null);for(const un of["datasets","xdp:xdp"]){const yn=tn[un];if(yn)try{const xn=(0,Et.stringToUTF8String)(yn.getString()),rn={[un]:xn};return(0,Et.shadow)(this,"xfaDatasets",new Nt.DatasetReader(rn))}catch{(0,Et.warn)("XFA - Invalid utf-8 string.");break}}return(0,Et.shadow)(this,"xfaDatasets",null)}get xfaData(){const tn=this._xfaStreams;if(!tn)return null;const un=Object.create(null);for(const[yn,xn]of Object.entries(tn))if(xn)try{un[yn]=(0,Et.stringToUTF8String)(xn.getString())}catch{return(0,Et.warn)("XFA - Invalid utf-8 string."),null}return un}get xfaFactory(){let tn;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(tn=this.xfaData),(0,Et.shadow)(this,"xfaFactory",tn?new en.XFAFactory(tn):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const tn=await this.pdfManager.ensureCatalog("xfaImages");if(!tn)return;const un=tn.getKeys();await new Bt.ObjectLoader(tn,un,this.xref).load();const xn=new Map;for(const rn of un){const dn=tn.get(rn);dn instanceof $t.BaseStream&&xn.set(rn,dn.getBytes())}this.xfaFactory.setImages(xn)}async loadXfaFonts(tn,un){const yn=await this.pdfManager.ensureCatalog("acroForm");if(!yn)return;const xn=await yn.getAsync("DR");if(!(xn instanceof Pt.Dict))return;await new Bt.ObjectLoader(xn,["Font"],this.xref).load();const dn=xn.get("Font");if(!(dn instanceof Pt.Dict))return;const An=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);An.useSystemFonts=!1;const an=new Ot.PartialEvaluator({xref:this.xref,handler:tn,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:An}),fn=new Ht.OperatorList,bn=[],vn={get font(){return bn.at(-1)},set font(Cn){bn.push(Cn)},clone(){return this}},gn=new Map;dn.forEach((Cn,Tn)=>{gn.set(Cn,Tn)});const on=[];for(const[Cn,Tn]of gn){const Fn=Tn.get("FontDescriptor");if(!(Fn instanceof Pt.Dict))continue;let En=Fn.get("FontFamily");En=En.replace(/[ ]+(\d)/g,"$1");const kn=Fn.get("FontWeight"),Pn=-Fn.get("ItalicAngle"),_n={fontFamily:En,fontWeight:kn,italicAngle:Pn};(0,Mt.validateCSSFont)(_n)&&on.push(an.handleSetFont(xn,[Pt.Name.get(Cn),1],null,fn,un,vn,null,_n).catch(function(Mn){return(0,Et.warn)(`loadXfaFonts: "${Mn}".`),null}))}await Promise.all(on);const wn=this.xfaFactory.setFonts(bn);if(!wn)return;An.ignoreErrors=!0,on.length=0,bn.length=0;const pn=new Set;for(const Cn of wn)(0,xt.getXfaFontName)(`${Cn}-Regular`)||pn.add(Cn);pn.size&&wn.push("PdfJS-Fallback");for(const Cn of wn)if(!pn.has(Cn))for(const Tn of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const Fn=`${Cn}-${Tn.name}`,En=(0,xt.getXfaFontDict)(Fn);on.push(an.handleSetFont(xn,[Pt.Name.get(Fn),1],null,fn,un,vn,En,{fontFamily:Cn,fontWeight:Tn.fontWeight,italicAngle:Tn.italicAngle}).catch(function(kn){return(0,Et.warn)(`loadXfaFonts: "${kn}".`),null}))}await Promise.all(on),this.xfaFactory.appendFonts(bn,pn)}async serializeXfaData(tn){return this.xfaFactory?this.xfaFactory.serializeData(tn):null}get formInfo(){const tn={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},un=this.catalog.acroForm;if(!un)return(0,Et.shadow)(this,"formInfo",tn);try{const yn=un.get("Fields"),xn=Array.isArray(yn)&&yn.length>0;tn.hasFields=xn;const rn=un.get("XFA");tn.hasXfa=Array.isArray(rn)&&rn.length>0||rn instanceof $t.BaseStream&&!rn.isEmpty;const An=!!(un.get("SigFlags")&1),an=An&&this._hasOnlyDocumentSignatures(yn);tn.hasAcroForm=xn&&!an,tn.hasSignatures=An}catch(yn){if(yn instanceof Mt.MissingDataException)throw yn;(0,Et.warn)(`Cannot fetch form information: "${yn}".`)}return(0,Et.shadow)(this,"formInfo",tn)}get documentInfo(){let tn=this._version;(typeof tn!="string"||!ln.test(tn))&&((0,Et.warn)(`Invalid PDF header version number: ${tn}`),tn=null);const un={PDFFormatVersion:tn,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let yn;try{yn=this.xref.trailer.get("Info")}catch(xn){if(xn instanceof Mt.MissingDataException)throw xn;(0,Et.info)("The document information dictionary is invalid.")}if(!(yn instanceof Pt.Dict))return(0,Et.shadow)(this,"documentInfo",un);for(const xn of yn.getKeys()){const rn=yn.get(xn);switch(xn){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof rn=="string"){un[xn]=(0,Et.stringToPDFString)(rn);continue}break;case"Trapped":if(rn instanceof Pt.Name){un[xn]=rn;continue}break;default:let dn;switch(typeof rn){case"string":dn=(0,Et.stringToPDFString)(rn);break;case"number":case"boolean":dn=rn;break;default:rn instanceof Pt.Name&&(dn=rn);break}if(dn===void 0){(0,Et.warn)(`Bad value, for custom key "${xn}", in Info: ${rn}.`);continue}un.Custom||(un.Custom=Object.create(null)),un.Custom[xn]=dn;continue}(0,Et.warn)(`Bad value, for key "${xn}", in Info: ${rn}.`)}return(0,Et.shadow)(this,"documentInfo",un)}get fingerprints(){function tn(dn){return typeof dn=="string"&&dn.length>0&&dn!==cn}function un(dn){const An=[];for(let an=0,fn=dn.length;an<fn;an++){const bn=dn[an].toString(16);An.push(bn.padStart(2,"0"))}return An.join("")}const yn=this.xref.trailer.get("ID");let xn,rn;return Array.isArray(yn)&&tn(yn[0])?(xn=(0,Et.stringToBytes)(yn[0]),yn[1]!==yn[0]&&tn(yn[1])&&(rn=(0,Et.stringToBytes)(yn[1]))):xn=(0,_t.calculateMD5)(this.stream.getByteRange(0,zt),0,zt),(0,Et.shadow)(this,"fingerprints",[un(xn),rn?un(rn):null])}async _getLinearizationPage(tn){const{catalog:un,linearization:yn,xref:xn}=this,rn=Pt.Ref.get(yn.objectNumberFirst,0);try{const dn=await xn.fetchAsync(rn);if(dn instanceof Pt.Dict){let An=dn.getRaw("Type");if(An instanceof Pt.Ref&&(An=await xn.fetchAsync(An)),(0,Pt.isName)(An,"Page")||!dn.has("Type")&&!dn.has("Kids"))return un.pageKidsCountCache.has(rn)||un.pageKidsCountCache.put(rn,1),un.pageIndexCache.has(rn)||un.pageIndexCache.put(rn,0),[dn,rn]}throw new Et.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(dn){return(0,Et.warn)(`_getLinearizationPage: "${dn.message}".`),un.getPageDict(tn)}}getPage(tn){const un=this._pagePromises.get(tn);if(un)return un;const{catalog:yn,linearization:xn,xfaFactory:rn}=this;let dn;return rn?dn=Promise.resolve([Pt.Dict.empty,null]):xn&&xn.pageFirst===tn?dn=this._getLinearizationPage(tn):dn=yn.getPageDict(tn),dn=dn.then(([An,an])=>new Qt({pdfManager:this.pdfManager,xref:this.xref,pageIndex:tn,pageDict:An,ref:an,globalIdFactory:this._globalIdFactory,fontCache:yn.fontCache,builtInCMapCache:yn.builtInCMapCache,standardFontDataCache:yn.standardFontDataCache,globalImageCache:yn.globalImageCache,nonBlendModesSet:yn.nonBlendModesSet,xfaFactory:rn})),this._pagePromises.set(tn,dn),dn}async checkFirstPage(tn=!1){if(!tn)try{await this.getPage(0)}catch(un){if(un instanceof Mt.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new Mt.XRefParseException}}async checkLastPage(tn=!1){const{catalog:un,pdfManager:yn}=this;un.setActualNumPages();let xn;try{if(await Promise.all([yn.ensureDoc("xfaFactory"),yn.ensureDoc("linearization"),yn.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?xn=this.linearization.numPages:xn=un.numPages,Number.isInteger(xn)){if(xn<=1)return}else throw new Et.FormatError("Page count is not an integer.");await this.getPage(xn-1)}catch(rn){if(this._pagePromises.delete(xn-1),await this.cleanup(),rn instanceof Mt.XRefEntryException&&!tn)throw new Mt.XRefParseException;(0,Et.warn)(`checkLastPage - invalid /Pages tree /Count: ${xn}.`);let dn;try{dn=await un.getAllPageDicts(tn)}catch(An){if(An instanceof Mt.XRefEntryException&&!tn)throw new Mt.XRefParseException;un.setActualNumPages(1);return}for(const[An,[an,fn]]of dn){let bn;an instanceof Error?(bn=Promise.reject(an),bn.catch(()=>{})):bn=Promise.resolve(new Qt({pdfManager:yn,xref:this.xref,pageIndex:An,pageDict:an,ref:fn,globalIdFactory:this._globalIdFactory,fontCache:un.fontCache,builtInCMapCache:un.builtInCMapCache,standardFontDataCache:un.standardFontDataCache,globalImageCache:un.globalImageCache,nonBlendModesSet:un.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(An,bn)}un.setActualNumPages(dn.size)}}fontFallback(tn,un){return this.catalog.fontFallback(tn,un)}async cleanup(tn=!1){return this.catalog?this.catalog.cleanup(tn):(0,Rt.clearGlobalCaches)()}_collectFieldObjects(tn,un,yn){const xn=this.xref.fetchIfRef(un);if(xn.has("T")){const rn=(0,Et.stringToPDFString)(xn.get("T"));tn===""?tn=rn:tn=`${tn}.${rn}`}if(yn.has(tn)||yn.set(tn,[]),yn.get(tn).push(vt.AnnotationFactory.create(this.xref,un,this.pdfManager,this._localIdFactory,!0).then(rn=>rn&&rn.getFieldObject()).catch(function(rn){return(0,Et.warn)(`_collectFieldObjects: "${rn}".`),null})),xn.has("Kids")){const rn=xn.get("Kids");for(const dn of rn)this._collectFieldObjects(tn,dn,yn)}}get fieldObjects(){if(!this.formInfo.hasFields)return(0,Et.shadow)(this,"fieldObjects",Promise.resolve(null));const tn=Object.create(null),un=new Map;for(const xn of this.catalog.acroForm.get("Fields"))this._collectFieldObjects("",xn,un);const yn=[];for(const[xn,rn]of un)yn.push(Promise.all(rn).then(dn=>{dn=dn.filter(An=>!!An),dn.length>0&&(tn[xn]=dn)}));return(0,Et.shadow)(this,"fieldObjects",Promise.all(yn).then(()=>tn))}get hasJSActions(){const tn=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,Et.shadow)(this,"hasJSActions",tn)}async _parseHasJSActions(){const[tn,un]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return tn?!0:un?Object.values(un).some(yn=>yn.some(xn=>xn.actions!==null)):!1}get calculationOrderIds(){const tn=this.catalog.acroForm;if(!tn||!tn.has("CO"))return(0,Et.shadow)(this,"calculationOrderIds",null);const un=tn.get("CO");if(!Array.isArray(un)||un.length===0)return(0,Et.shadow)(this,"calculationOrderIds",null);const yn=[];for(const xn of un)xn instanceof Pt.Ref&&yn.push(xn.toString());return yn.length===0?(0,Et.shadow)(this,"calculationOrderIds",null):(0,Et.shadow)(this,"calculationOrderIds",yn)}}St.PDFDocument=Jt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.PopupAnnotation=St.MarkupAnnotation=St.AnnotationFactory=St.AnnotationBorderStyle=St.Annotation=void 0,St.getQuadPoints=Gt;var vt=Ft(2),Et=Ft(6),Mt=Ft(13),Pt=Ft(5),xt=Ft(65),$t=Ft(7),_t=Ft(60),jt=Ft(69),Rt=Ft(14),Nt=Ft(72),Lt=Ft(75),kt=Ft(62),Bt=Ft(10),Ht=Ft(76);class Ot{static create(on,wn,pn,Cn,Tn){return Promise.all([pn.ensureCatalog("acroForm"),pn.ensureCatalog("baseUrl"),pn.ensureDoc("xfaDatasets"),Tn?this._getPageIndex(on,wn,pn):-1]).then(([Fn,En,kn,Pn])=>pn.ensure(this,"_create",[on,wn,pn,Cn,Fn,kn,Tn,Pn]))}static _create(on,wn,pn,Cn,Tn,Fn,En,kn=-1){const Pn=on.fetchIfRef(wn);if(!(Pn instanceof Pt.Dict))return;const _n=wn instanceof Pt.Ref?wn.toString():`annot_${Cn.createObjId()}`;let Mn=Pn.get("Subtype");Mn=Mn instanceof Pt.Name?Mn.name:null;const On={xref:on,ref:wn,dict:Pn,subtype:Mn,id:_n,pdfManager:pn,acroForm:Tn instanceof Pt.Dict?Tn:Pt.Dict.empty,xfaDatasets:Fn,collectFields:En,pageIndex:kn};switch(Mn){case"Link":return new cn(On);case"Text":return new zt(On);case"Widget":let jn=(0,Et.getInheritableProperty)({dict:Pn,key:"FT"});switch(jn=jn instanceof Pt.Name?jn.name:null,jn){case"Tx":return new Qt(On);case"Btn":return new qt(On);case"Ch":return new nn(On);case"Sig":return new Ut(On)}return(0,vt.warn)(`Unimplemented widget field type "${jn}", falling back to base field type.`),new hn(On);case"Popup":return new ln(On);case"FreeText":return new Kt(On);case"Line":return new Jt(On);case"Square":return new Yt(On);case"Circle":return new tn(On);case"PolyLine":return new un(On);case"Polygon":return new yn(On);case"Caret":return new xn(On);case"Ink":return new rn(On);case"Highlight":return new dn(On);case"Underline":return new An(On);case"Squiggly":return new an(On);case"StrikeOut":return new fn(On);case"Stamp":return new bn(On);case"FileAttachment":return new vn(On);default:return En||(Mn?(0,vt.warn)(`Unimplemented annotation type "${Mn}", falling back to base annotation.`):(0,vt.warn)("Annotation is missing the required /Subtype.")),new en(On)}}static async _getPageIndex(on,wn,pn){try{const Cn=await on.fetchIfRefAsync(wn);if(!(Cn instanceof Pt.Dict))return-1;const Tn=Cn.getRaw("P");return Tn instanceof Pt.Ref?await pn.ensureCatalog("getPageIndex",[Tn]):-1}catch(Cn){return(0,vt.warn)(`_getPageIndex: "${Cn}".`),-1}}static async saveNewAnnotations(on,wn,pn){const Cn=on.xref;let Tn;const Fn=[],En=[];for(const kn of pn)switch(kn.annotationType){case vt.AnnotationEditorType.FREETEXT:if(!Tn){const Pn=new Pt.Dict(Cn);Pn.set("BaseFont",Pt.Name.get("Helvetica")),Pn.set("Type",Pt.Name.get("Font")),Pn.set("Subtype",Pt.Name.get("Type1")),Pn.set("Encoding",Pt.Name.get("WinAnsiEncoding"));const _n=[];Tn=Cn.getNewRef(),(0,xt.writeObject)(Tn,Pn,_n,null),Fn.push({ref:Tn,data:_n.join("")})}En.push(Kt.createNewAnnotation(Cn,kn,Fn,{evaluator:on,task:wn,baseFontRef:Tn}));break;case vt.AnnotationEditorType.INK:En.push(rn.createNewAnnotation(Cn,kn,Fn))}return{annotations:await Promise.all(En),dependencies:Fn}}static async printNewAnnotations(on,wn,pn){if(!pn)return null;const Cn=on.xref,Tn=[];for(const Fn of pn)switch(Fn.annotationType){case vt.AnnotationEditorType.FREETEXT:Tn.push(Kt.createNewPrintAnnotation(Cn,Fn,{evaluator:on,task:wn}));break;case vt.AnnotationEditorType.INK:Tn.push(rn.createNewPrintAnnotation(Cn,Fn));break}return Promise.all(Tn)}}St.AnnotationFactory=Ot;function Vt(gn,on=new Uint8ClampedArray(3)){if(!Array.isArray(gn))return on;const wn=on||new Uint8ClampedArray(3);switch(gn.length){case 0:return null;case 1:return Rt.ColorSpace.singletons.gray.getRgbItem(gn,0,wn,0),wn;case 3:return Rt.ColorSpace.singletons.rgb.getRgbItem(gn,0,wn,0),wn;case 4:return Rt.ColorSpace.singletons.cmyk.getRgbItem(gn,0,wn,0),wn;default:return on}}function Gt(gn,on){if(!gn.has("QuadPoints"))return null;const wn=gn.getArray("QuadPoints");if(!Array.isArray(wn)||wn.length===0||wn.length%8>0)return null;const pn=[];for(let Cn=0,Tn=wn.length/8;Cn<Tn;Cn++){pn.push([]);for(let Fn=Cn*8,En=Cn*8+8;Fn<En;Fn+=2){const kn=wn[Fn],Pn=wn[Fn+1];if(on!==null&&(kn<on[0]||kn>on[2]||Pn<on[1]||Pn>on[3]))return null;pn[Cn].push({x:kn,y:Pn})}}return pn.map(Cn=>{const[Tn,Fn,En,kn]=Cn.reduce(([Pn,_n,Mn,On],jn)=>[Math.min(Pn,jn.x),Math.max(_n,jn.x),Math.min(Mn,jn.y),Math.max(On,jn.y)],[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE]);return[{x:Tn,y:kn},{x:Fn,y:kn},{x:Tn,y:En},{x:Fn,y:En}]})}function Wt(gn,on,wn){const[pn,Cn,Tn,Fn]=vt.Util.getAxialAlignedBoundingBox(on,wn);if(pn===Tn||Cn===Fn)return[1,0,0,1,gn[0],gn[1]];const En=(gn[2]-gn[0])/(Tn-pn),kn=(gn[3]-gn[1])/(Fn-Cn);return[En,0,0,kn,gn[0]-pn*En,gn[1]-Cn*kn]}class en{constructor(on){const wn=on.dict;this.setTitle(wn.get("T")),this.setContents(wn.get("Contents")),this.setModificationDate(wn.get("M")),this.setFlags(wn.get("F")),this.setRectangle(wn.getArray("Rect")),this.setColor(wn.getArray("C")),this.setBorderStyle(wn),this.setAppearance(wn),this.setOptionalContent(wn);const pn=wn.get("MK");if(this.setBorderAndBackgroundColors(pn),this.setRotation(pn),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:on.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:on.subtype,hasOwnCanvas:!1},on.collectFields){const Cn=wn.get("Kids");if(Array.isArray(Cn)){const Tn=[];for(const Fn of Cn)Fn instanceof Pt.Ref&&Tn.push(Fn.toString());Tn.length!==0&&(this.data.kidIds=Tn)}this.data.actions=(0,Et.collectActions)(on.xref,wn,vt.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(wn),this.data.pageIndex=on.pageIndex}this._fallbackFontDict=null}_hasFlag(on,wn){return!!(on&wn)}_isViewable(on){return!this._hasFlag(on,vt.AnnotationFlag.INVISIBLE)&&!this._hasFlag(on,vt.AnnotationFlag.NOVIEW)}_isPrintable(on){return this._hasFlag(on,vt.AnnotationFlag.PRINT)&&!this._hasFlag(on,vt.AnnotationFlag.INVISIBLE)}mustBeViewed(on){const wn=on&&on.get(this.data.id);return wn&&wn.hidden!==void 0?!wn.hidden:this.viewable&&!this._hasFlag(this.flags,vt.AnnotationFlag.HIDDEN)}mustBePrinted(on){const wn=on&&on.get(this.data.id);return wn&&wn.print!==void 0?wn.print:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(on){const wn=typeof on=="string"?(0,vt.stringToPDFString)(on):"",pn=wn&&(0,_t.bidi)(wn).dir==="rtl"?"rtl":"ltr";return{str:wn,dir:pn}}setTitle(on){this._title=this._parseStringHelper(on)}setContents(on){this._contents=this._parseStringHelper(on)}setModificationDate(on){this.modificationDate=typeof on=="string"?on:null}setFlags(on){this.flags=Number.isInteger(on)&&on>0?on:0}hasFlag(on){return this._hasFlag(this.flags,on)}setRectangle(on){Array.isArray(on)&&on.length===4?this.rectangle=vt.Util.normalizeRect(on):this.rectangle=[0,0,0,0]}setColor(on){this.color=Vt(on)}setLineEndings(on){if(this.lineEndings=["None","None"],Array.isArray(on)&&on.length===2)for(let wn=0;wn<2;wn++){const pn=on[wn];if(pn instanceof Pt.Name)switch(pn.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[wn]=pn.name;continue}(0,vt.warn)(`Ignoring invalid lineEnding: ${pn}`)}}setRotation(on){if(this.rotation=0,on instanceof Pt.Dict){let wn=on.get("R")||0;Number.isInteger(wn)&&wn!==0&&(wn%=360,wn<0&&(wn+=360),wn%90===0&&(this.rotation=wn))}}setBorderAndBackgroundColors(on){on instanceof Pt.Dict?(this.borderColor=Vt(on.getArray("BC"),null),this.backgroundColor=Vt(on.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(on){if(this.borderStyle=new Sn,on instanceof Pt.Dict)if(on.has("BS")){const wn=on.get("BS"),pn=wn.get("Type");(!pn||(0,Pt.isName)(pn,"Border"))&&(this.borderStyle.setWidth(wn.get("W"),this.rectangle),this.borderStyle.setStyle(wn.get("S")),this.borderStyle.setDashArray(wn.getArray("D")))}else if(on.has("Border")){const wn=on.getArray("Border");Array.isArray(wn)&&wn.length>=3&&(this.borderStyle.setHorizontalCornerRadius(wn[0]),this.borderStyle.setVerticalCornerRadius(wn[1]),this.borderStyle.setWidth(wn[2],this.rectangle),wn.length===4&&this.borderStyle.setDashArray(wn[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(on){this.appearance=null;const wn=on.get("AP");if(!(wn instanceof Pt.Dict))return;const pn=wn.get("N");if(pn instanceof $t.BaseStream){this.appearance=pn;return}if(!(pn instanceof Pt.Dict))return;const Cn=on.get("AS");!(Cn instanceof Pt.Name)||!pn.has(Cn.name)||(this.appearance=pn.get(Cn.name))}setOptionalContent(on){this.oc=null;const wn=on.get("OC");wn instanceof Pt.Name?(0,vt.warn)("setOptionalContent: Support for /Name-entry is not implemented."):wn instanceof Pt.Dict&&(this.oc=wn)}loadResources(on,wn){return wn.dict.getAsync("Resources").then(pn=>pn?new Lt.ObjectLoader(pn,on,pn.xref).load().then(function(){return pn}):void 0)}async getOperatorList(on,wn,pn,Cn,Tn){const Fn=this.data;let En=this.appearance;const kn=!!(this.data.hasOwnCanvas&&pn&vt.RenderingIntentFlag.DISPLAY);if(!En){if(!kn)return{opList:new kt.OperatorList,separateForm:!1,separateCanvas:!1};En=new Bt.StringStream(""),En.dict=new Pt.Dict}const Pn=En.dict,_n=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],En),Mn=Pn.getArray("BBox")||[0,0,1,1],On=Pn.getArray("Matrix")||[1,0,0,1,0,0],jn=Wt(Fn.rect,Mn,On),qn=new kt.OperatorList;let Gn;return this.oc&&(Gn=await on.parseMarkedContentProps(this.oc,null)),Gn!==void 0&&qn.addOp(vt.OPS.beginMarkedContentProps,["OC",Gn]),qn.addOp(vt.OPS.beginAnnotation,[Fn.id,Fn.rect,jn,On,kn]),await on.getOperatorList({stream:En,task:wn,resources:_n,operatorList:qn,fallbackFontDict:this._fallbackFontDict}),qn.addOp(vt.OPS.endAnnotation,[]),Gn!==void 0&&qn.addOp(vt.OPS.endMarkedContent,[]),this.reset(),{opList:qn,separateForm:!1,separateCanvas:kn}}async save(on,wn,pn){return null}get hasTextContent(){return!1}async extractTextContent(on,wn,pn){if(!this.appearance)return;const Cn=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),Tn=[],Fn=[],En={desiredSize:Math.Infinity,ready:!0,enqueue(kn,Pn){for(const _n of kn.items)Fn.push(_n.str),_n.hasEOL&&(Tn.push(Fn.join("")),Fn.length=0)}};await on.getTextContent({stream:this.appearance,task:wn,resources:Cn,includeMarkedContent:!0,combineTextItems:!0,sink:En,viewBox:pn}),this.reset(),Fn.length&&Tn.push(Fn.join("")),Tn.length>0&&(this.data.textContent=Tn)}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const on of this._streams)on.reset()}_constructFieldName(on){if(!on.has("T")&&!on.has("Parent"))return(0,vt.warn)("Unknown field name, falling back to empty field name."),"";if(!on.has("Parent"))return(0,vt.stringToPDFString)(on.get("T"));const wn=[];on.has("T")&&wn.unshift((0,vt.stringToPDFString)(on.get("T")));let pn=on;const Cn=new Pt.RefSet;for(on.objId&&Cn.put(on.objId);pn.has("Parent")&&(pn=pn.get("Parent"),!(!(pn instanceof Pt.Dict)||pn.objId&&Cn.has(pn.objId)));)pn.objId&&Cn.put(pn.objId),pn.has("T")&&wn.unshift((0,vt.stringToPDFString)(pn.get("T")));return wn.join(".")}}St.Annotation=en;class Sn{constructor(){this.width=1,this.style=vt.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(on,wn=[0,0,0,0]){if(on instanceof Pt.Name){this.width=0;return}if(typeof on=="number"){if(on>0){const pn=(wn[2]-wn[0])/2,Cn=(wn[3]-wn[1])/2;pn>0&&Cn>0&&(on>pn||on>Cn)&&((0,vt.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${on}`),on=1)}this.width=on}}setStyle(on){if(on instanceof Pt.Name)switch(on.name){case"S":this.style=vt.AnnotationBorderStyleType.SOLID;break;case"D":this.style=vt.AnnotationBorderStyleType.DASHED;break;case"B":this.style=vt.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=vt.AnnotationBorderStyleType.INSET;break;case"U":this.style=vt.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(on,wn=!1){if(Array.isArray(on)&&on.length>0){let pn=!0,Cn=!0;for(const Tn of on)if(+Tn>=0)Tn>0&&(Cn=!1);else{pn=!1;break}pn&&!Cn?(this.dashArray=on,wn&&this.setStyle(Pt.Name.get("D"))):this.width=0}else on&&(this.width=0)}setHorizontalCornerRadius(on){Number.isInteger(on)&&(this.horizontalCornerRadius=on)}setVerticalCornerRadius(on){Number.isInteger(on)&&(this.verticalCornerRadius=on)}}St.AnnotationBorderStyle=Sn;class sn extends en{constructor(on){super(on);const wn=on.dict;if(wn.has("IRT")){const pn=wn.getRaw("IRT");this.data.inReplyTo=pn instanceof Pt.Ref?pn.toString():null;const Cn=wn.get("RT");this.data.replyType=Cn instanceof Pt.Name?Cn.name:vt.AnnotationReplyType.REPLY}if(this.data.replyType===vt.AnnotationReplyType.GROUP){const pn=wn.get("IRT");this.setTitle(pn.get("T")),this.data.titleObj=this._title,this.setContents(pn.get("Contents")),this.data.contentsObj=this._contents,pn.has("CreationDate")?(this.setCreationDate(pn.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,pn.has("M")?(this.setModificationDate(pn.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,this.data.hasPopup=pn.has("Popup"),pn.has("C")?(this.setColor(pn.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(wn.get("CreationDate")),this.data.creationDate=this.creationDate,this.data.hasPopup=wn.has("Popup"),wn.has("C")||(this.data.color=null);wn.has("RC")&&(this.data.richText=Ht.XFAFactory.getRichTextAsHtml(wn.get("RC")))}setCreationDate(on){this.creationDate=typeof on=="string"?on:null}_setDefaultAppearance({xref:on,extra:wn,strokeColor:pn,fillColor:Cn,blendMode:Tn,strokeAlpha:Fn,fillAlpha:En,pointsCallback:kn}){let Pn=Number.MAX_VALUE,_n=Number.MAX_VALUE,Mn=Number.MIN_VALUE,On=Number.MIN_VALUE;const jn=["q"];wn&&jn.push(wn),pn&&jn.push(`${pn[0]} ${pn[1]} ${pn[2]} RG`),Cn&&jn.push(`${Cn[0]} ${Cn[1]} ${Cn[2]} rg`);let qn=this.data.quadPoints;qn||(qn=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Vn of qn){const[Bn,lr,br,Pr]=kn(jn,Vn);Pn=Math.min(Pn,Bn),Mn=Math.max(Mn,lr),_n=Math.min(_n,br),On=Math.max(On,Pr)}jn.push("Q");const Gn=new Pt.Dict(on),Yn=new Pt.Dict(on);Yn.set("Subtype",Pt.Name.get("Form"));const er=new Bt.StringStream(jn.join(" "));er.dict=Yn,Gn.set("Fm0",er);const cr=new Pt.Dict(on);Tn&&cr.set("BM",Pt.Name.get(Tn)),typeof Fn=="number"&&cr.set("CA",Fn),typeof En=="number"&&cr.set("ca",En);const rr=new Pt.Dict(on);rr.set("GS0",cr);const tr=new Pt.Dict(on);tr.set("ExtGState",rr),tr.set("XObject",Gn);const ir=new Pt.Dict(on);ir.set("Resources",tr);const Kn=this.data.rect=[Pn,_n,Mn,On];ir.set("BBox",Kn),this.appearance=new Bt.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=ir,this._streams.push(this.appearance,er)}static async createNewAnnotation(on,wn,pn,Cn){const Tn=on.getNewRef(),Fn=on.getNewRef(),En=this.createNewDict(wn,on,{apRef:Fn}),kn=await this.createNewAppearanceStream(wn,on,Cn),Pn=[];let _n=on.encrypt?on.encrypt.createCipherTransform(Fn.num,Fn.gen):null;return(0,xt.writeObject)(Fn,kn,Pn,_n),pn.push({ref:Fn,data:Pn.join("")}),Pn.length=0,_n=on.encrypt?on.encrypt.createCipherTransform(Tn.num,Tn.gen):null,(0,xt.writeObject)(Tn,En,Pn,_n),{ref:Tn,data:Pn.join("")}}static async createNewPrintAnnotation(on,wn,pn){const Cn=await this.createNewAppearanceStream(wn,on,pn),Tn=this.createNewDict(wn,on,{ap:Cn});return new this.prototype.constructor({dict:Tn,xref:on})}}St.MarkupAnnotation=sn;class hn extends en{constructor(on){super(on);const wn=on.dict,pn=this.data;this.ref=on.ref,pn.annotationType=vt.AnnotationType.WIDGET,pn.fieldName===void 0&&(pn.fieldName=this._constructFieldName(wn)),pn.actions===void 0&&(pn.actions=(0,Et.collectActions)(on.xref,wn,vt.AnnotationActionEventType));let Cn=(0,Et.getInheritableProperty)({dict:wn,key:"V",getArray:!0});pn.fieldValue=this._decodeFormValue(Cn);const Tn=(0,Et.getInheritableProperty)({dict:wn,key:"DV",getArray:!0});if(pn.defaultFieldValue=this._decodeFormValue(Tn),Cn===void 0&&on.xfaDatasets){const Mn=this._title.str;Mn&&(this._hasValueFromXFA=!0,pn.fieldValue=Cn=on.xfaDatasets.getValue(Mn))}Cn===void 0&&pn.defaultFieldValue!==null&&(pn.fieldValue=pn.defaultFieldValue),pn.alternativeText=(0,vt.stringToPDFString)(wn.get("TU")||"");const Fn=(0,Et.getInheritableProperty)({dict:wn,key:"DA"})||on.acroForm.get("DA");this._defaultAppearance=typeof Fn=="string"?Fn:"",pn.defaultAppearanceData=(0,Mt.parseDefaultAppearance)(this._defaultAppearance);const En=(0,Et.getInheritableProperty)({dict:wn,key:"FT"});pn.fieldType=En instanceof Pt.Name?En.name:null;const kn=(0,Et.getInheritableProperty)({dict:wn,key:"DR"}),Pn=on.acroForm.get("DR"),_n=this.appearance&&this.appearance.dict.get("Resources");this._fieldResources={localResources:kn,acroFormResources:Pn,appearanceResources:_n,mergedResources:Pt.Dict.merge({xref:on.xref,dictArray:[kn,_n,Pn],mergeSubDicts:!0})},pn.fieldFlags=(0,Et.getInheritableProperty)({dict:wn,key:"Ff"}),(!Number.isInteger(pn.fieldFlags)||pn.fieldFlags<0)&&(pn.fieldFlags=0),pn.readOnly=this.hasFieldFlag(vt.AnnotationFieldFlag.READONLY),pn.required=this.hasFieldFlag(vt.AnnotationFieldFlag.REQUIRED),pn.hidden=this._hasFlag(pn.annotationFlags,vt.AnnotationFlag.HIDDEN)}_decodeFormValue(on){return Array.isArray(on)?on.filter(wn=>typeof wn=="string").map(wn=>(0,vt.stringToPDFString)(wn)):on instanceof Pt.Name?(0,vt.stringToPDFString)(on.name):typeof on=="string"?(0,vt.stringToPDFString)(on):null}hasFieldFlag(on){return!!(this.data.fieldFlags&on)}static _getRotationMatrix(on,wn,pn){switch(on){case 90:return[0,1,-1,0,wn,0];case 180:return[-1,0,0,-1,wn,pn];case 270:return[0,-1,1,0,0,pn];default:throw new Error("Invalid rotation")}}getRotationMatrix(on){const wn=on?on.get(this.data.id):void 0;let pn=wn&&wn.rotation;if(pn===void 0&&(pn=this.rotation),pn===0)return vt.IDENTITY_MATRIX;const Cn=this.data.rect[2]-this.data.rect[0],Tn=this.data.rect[3]-this.data.rect[1];return hn._getRotationMatrix(pn,Cn,Tn)}getBorderAndBackgroundAppearances(on){const wn=on?on.get(this.data.id):void 0;let pn=wn&&wn.rotation;if(pn===void 0&&(pn=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const Cn=this.data.rect[2]-this.data.rect[0],Tn=this.data.rect[3]-this.data.rect[1],Fn=pn===0||pn===180?`0 0 ${Cn} ${Tn} re`:`0 0 ${Tn} ${Cn} re`;let En="";if(this.backgroundColor&&(En=`${(0,Mt.getPdfColor)(this.backgroundColor,!0)} ${Fn} f `),this.borderColor){const kn=this.borderStyle.width||1;En+=`${kn} w ${(0,Mt.getPdfColor)(this.borderColor,!1)} ${Fn} S `}return En}async getOperatorList(on,wn,pn,Cn,Tn){if(Cn&&!(this instanceof Ut))return{opList:new kt.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(on,wn,pn,Cn,Tn);const Fn=await this._getAppearance(on,wn,Tn);if(this.appearance&&Fn===null)return super.getOperatorList(on,wn,pn,Cn,Tn);const En=new kt.OperatorList;if(!this._defaultAppearance||Fn===null)return{opList:En,separateForm:!1,separateCanvas:!1};const kn=[1,0,0,1,0,0],Pn=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],_n=Wt(this.data.rect,Pn,kn);let Mn;this.oc&&(Mn=await on.parseMarkedContentProps(this.oc,null)),Mn!==void 0&&En.addOp(vt.OPS.beginMarkedContentProps,["OC",Mn]),En.addOp(vt.OPS.beginAnnotation,[this.data.id,this.data.rect,_n,this.getRotationMatrix(Tn),!1]);const On=new Bt.StringStream(Fn);return await on.getOperatorList({stream:On,task:wn,resources:this._fieldResources.mergedResources,operatorList:En}),En.addOp(vt.OPS.endAnnotation,[]),Mn!==void 0&&En.addOp(vt.OPS.endMarkedContent,[]),{opList:En,separateForm:!1,separateCanvas:!1}}_getMKDict(on){const wn=new Pt.Dict(null);return on&&wn.set("R",on),this.borderColor&&wn.set("BC",Array.from(this.borderColor).map(pn=>pn/255)),this.backgroundColor&&wn.set("BG",Array.from(this.backgroundColor).map(pn=>pn/255)),wn.size>0?wn:null}async save(on,wn,pn){const Cn=pn?pn.get(this.data.id):void 0;let Tn=Cn&&Cn.value,Fn=Cn&&Cn.rotation;if(Tn===this.data.fieldValue||Tn===void 0){if(!this._hasValueFromXFA&&Fn===void 0)return null;Tn=Tn||this.data.fieldValue}if(Fn===void 0&&!this._hasValueFromXFA&&Array.isArray(Tn)&&Array.isArray(this.data.fieldValue)&&Tn.length===this.data.fieldValue.length&&Tn.every((Vn,Bn)=>Vn===this.data.fieldValue[Bn]))return null;Fn===void 0&&(Fn=this.rotation);let En=await this._getAppearance(on,wn,pn);if(En===null)return null;const{xref:kn}=on,Pn=kn.fetchIfRef(this.ref);if(!(Pn instanceof Pt.Dict))return null;const _n=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],Mn={path:(0,vt.stringToPDFString)(Pn.get("T")||""),value:Tn},On=kn.getNewRef(),jn=new Pt.Dict(kn);jn.set("N",On);const qn=kn.encrypt;let Gn=null,Yn=null;qn&&(Gn=qn.createCipherTransform(this.ref.num,this.ref.gen),Yn=qn.createCipherTransform(On.num,On.gen),En=Yn.encryptString(En));const er=Vn=>(0,vt.isAscii)(Vn)?Vn:(0,vt.stringToUTF16BEString)(Vn);Pn.set("V",Array.isArray(Tn)?Tn.map(er):er(Tn)),Pn.set("AP",jn),Pn.set("M",`D:${(0,vt.getModificationDate)()}`);const cr=this._getMKDict(Fn);cr&&Pn.set("MK",cr);const rr=new Pt.Dict(kn);rr.set("Length",En.length),rr.set("Subtype",Pt.Name.get("Form")),rr.set("Resources",this._getSaveFieldResources(kn)),rr.set("BBox",_n);const tr=this.getRotationMatrix(pn);tr!==vt.IDENTITY_MATRIX&&rr.set("Matrix",tr);const ir=[`${this.ref.num} ${this.ref.gen} obj
`];(0,xt.writeDict)(Pn,ir,Gn),ir.push(`
endobj
`);const Kn=[`${On.num} ${On.gen} obj
`];return(0,xt.writeDict)(rr,Kn,Yn),Kn.push(` stream
`,En,`
endstream
endobj
`),[{ref:this.ref,data:ir.join(""),xfa:Mn},{ref:On,data:Kn.join(""),xfa:null}]}async _getAppearance(on,wn,pn){if(this.hasFieldFlag(vt.AnnotationFieldFlag.PASSWORD))return null;const Tn=pn?pn.get(this.data.id):void 0;let Fn,En;if(Tn&&(Fn=Tn.formattedValue||Tn.value,En=Tn.rotation),En===void 0&&Fn===void 0&&(!this._hasValueFromXFA||this.appearance))return null;if(Fn===void 0&&(Fn=this.data.fieldValue,!Fn)||(Array.isArray(Fn)&&Fn.length===1&&(Fn=Fn[0]),(0,vt.assert)(typeof Fn=="string","Expected `value` to be a string."),Fn=Fn.trim(),Fn===""))return"";En===void 0&&(En=this.rotation);let kn=-1;this.data.multiLine&&(kn=Fn.split(/\r\n|\r|\n/).length);const Pn=2,_n=Pn;let Mn=this.data.rect[3]-this.data.rect[1],On=this.data.rect[2]-this.data.rect[0];(En===90||En===270)&&([On,Mn]=[Mn,On]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,Mt.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const jn=await hn._getFontData(on,wn,this.data.defaultAppearanceData,this._fieldResources.mergedResources),[qn,Gn]=this._computeFontSize(Mn-Pn,On-2*_n,Fn,jn,kn);let Yn=jn.descent;isNaN(Yn)&&(Yn=0);const cr=Math.min(Math.floor((Mn-Gn)/2),Pn)+Math.abs(Yn)*Gn,rr=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(qn,Fn,jn,Gn,On,Mn,rr,_n,cr,pn);const tr=jn.encodeString(Fn).join("");if(this.data.comb)return this._getCombAppearance(qn,jn,tr,On,_n,cr,pn);const ir=this.getBorderAndBackgroundAppearances(pn);if(rr===0||rr>2)return`/Tx BMC q ${ir}BT `+qn+` 1 0 0 1 ${_n} ${cr} Tm (${(0,vt.escapeString)(tr)}) Tj ET Q EMC`;const Kn=this._renderText(tr,jn,Gn,On,rr,_n,cr);return`/Tx BMC q ${ir}BT `+qn+` 1 0 0 1 0 0 Tm ${Kn} ET Q EMC`}static async _getFontData(on,wn,pn,Cn){const Tn=new kt.OperatorList,Fn={font:null,clone(){return this}},{fontName:En,fontSize:kn}=pn;return await on.handleSetFont(Cn,[En&&Pt.Name.get(En),kn],null,Tn,wn,Fn,null),Fn.font}_getTextWidth(on,wn){return wn.charsToGlyphs(on).reduce((pn,Cn)=>pn+Cn.width,0)/1e3}_computeFontSize(on,wn,pn,Cn,Tn){let{fontSize:Fn}=this.data.defaultAppearanceData;if(!Fn){const En=_n=>Math.floor(_n*100)/100;if(Tn===-1){const _n=this._getTextWidth(pn,Cn);Fn=En(Math.min(on/vt.LINE_FACTOR,wn/_n))}else{const _n=pn.split(/\r\n?|\n/),Mn=[];for(const Gn of _n){const Yn=Cn.encodeString(Gn).join(""),er=Cn.charsToGlyphs(Yn),cr=Cn.getCharPositions(Yn);Mn.push({line:Yn,glyphs:er,positions:cr})}const On=Gn=>{let Yn=0;for(const er of Mn){const cr=this._splitLine(null,Cn,Gn,wn,er);if(Yn+=cr.length*Gn,Yn>on)return!0}return!1};Fn=12;let jn=Fn*vt.LINE_FACTOR,qn=Math.round(on/jn);for(qn=Math.max(qn,Tn);;){if(jn=on/qn,Fn=En(jn/vt.LINE_FACTOR),On(Fn)){qn++;continue}break}}const{fontName:kn,fontColor:Pn}=this.data.defaultAppearanceData;this._defaultAppearance=(0,Mt.createDefaultAppearance)({fontSize:Fn,fontName:kn,fontColor:Pn})}return[this._defaultAppearance,Fn]}_renderText(on,wn,pn,Cn,Tn,Fn,En){let kn;if(Tn===1){const Pn=this._getTextWidth(on,wn)*pn;kn=(Cn-Pn)/2}else if(Tn===2){const Pn=this._getTextWidth(on,wn)*pn;kn=Cn-Pn-Fn}else kn=Fn;return kn=(0,Et.numberToString)(kn),En=(0,Et.numberToString)(En),`${kn} ${En} Td (${(0,vt.escapeString)(on)}) Tj`}_getSaveFieldResources(on){const{localResources:wn,appearanceResources:pn,acroFormResources:Cn}=this._fieldResources,Tn=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!Tn)return wn||Pt.Dict.empty;for(const Fn of[wn,pn])if(Fn instanceof Pt.Dict){const En=Fn.get("Font");if(En instanceof Pt.Dict&&En.has(Tn))return Fn}if(Cn instanceof Pt.Dict){const Fn=Cn.get("Font");if(Fn instanceof Pt.Dict&&Fn.has(Tn)){const En=new Pt.Dict(on);En.set(Tn,Fn.getRaw(Tn));const kn=new Pt.Dict(on);return kn.set("Font",En),Pt.Dict.merge({xref:on,dictArray:[kn,wn],mergeSubDicts:!0})}}return wn||Pt.Dict.empty}getFieldObject(){return null}}class Qt extends hn{constructor(on){super(on),this._hasText=!0;const wn=on.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let pn=(0,Et.getInheritableProperty)({dict:wn,key:"Q"});(!Number.isInteger(pn)||pn<0||pn>2)&&(pn=null),this.data.textAlignment=pn;let Cn=(0,Et.getInheritableProperty)({dict:wn,key:"MaxLen"});(!Number.isInteger(Cn)||Cn<0)&&(Cn=0),this.data.maxLen=Cn,this.data.multiLine=this.hasFieldFlag(vt.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(vt.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(vt.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(vt.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(vt.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(vt.AnnotationFieldFlag.DONOTSCROLL)}_getCombAppearance(on,wn,pn,Cn,Tn,Fn,En){const kn=(0,Et.numberToString)(Cn/this.data.maxLen),Pn=[],_n=wn.getCharPositions(pn);for(const[jn,qn]of _n)Pn.push(`(${(0,vt.escapeString)(pn.substring(jn,qn))}) Tj`);const Mn=this.getBorderAndBackgroundAppearances(En),On=Pn.join(` ${kn} 0 Td `);return`/Tx BMC q ${Mn}BT `+on+` 1 0 0 1 ${Tn} ${Fn} Tm ${On} ET Q EMC`}_getMultilineAppearance(on,wn,pn,Cn,Tn,Fn,En,kn,Pn,_n){const Mn=wn.split(/\r\n?|\n/),On=[],jn=Tn-2*kn;for(const Yn of Mn){const er=this._splitLine(Yn,pn,Cn,jn);for(const cr of er){const rr=On.length===0?kn:0;On.push(this._renderText(cr,pn,Cn,Tn,En,rr,-Cn))}}const qn=On.join(`
`);return`/Tx BMC q ${this.getBorderAndBackgroundAppearances(_n)}BT `+on+` 1 0 0 1 0 ${Fn} Tm ${qn} ET Q EMC`}_splitLine(on,wn,pn,Cn,Tn={}){on=Tn.line||wn.encodeString(on).join("");const Fn=Tn.glyphs||wn.charsToGlyphs(on);if(Fn.length<=1)return[on];const En=Tn.positions||wn.getCharPositions(on),kn=pn/1e3,Pn=[];let _n=-1,Mn=-1,On=-1,jn=0,qn=0;for(let Gn=0,Yn=Fn.length;Gn<Yn;Gn++){const[er,cr]=En[Gn],rr=Fn[Gn],tr=rr.width*kn;rr.unicode===" "?qn+tr>Cn?(Pn.push(on.substring(jn,er)),jn=er,qn=tr,_n=-1,On=-1):(qn+=tr,_n=er,Mn=cr,On=Gn):qn+tr>Cn?_n!==-1?(Pn.push(on.substring(jn,Mn)),jn=Mn,Gn=On+1,_n=-1,qn=0):(Pn.push(on.substring(jn,er)),jn=er,qn=tr):qn+=tr}return jn<on.length&&Pn.push(on.substring(jn,on.length)),Pn}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(vt.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class qt extends hn{constructor(on){super(on),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(vt.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(vt.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(vt.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(vt.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(vt.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(on):this.data.radioButton?this._processRadioButton(on):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(on)):(0,vt.warn)("Invalid field flags for button widget annotation")}async getOperatorList(on,wn,pn,Cn,Tn){if(this.data.pushButton)return super.getOperatorList(on,wn,pn,!1,Tn);let Fn=null,En=null;if(Tn){const Pn=Tn.get(this.data.id);Fn=Pn?Pn.value:null,En=Pn?Pn.rotation:null}if(Fn===null&&this.appearance)return super.getOperatorList(on,wn,pn,Cn,Tn);Fn==null&&(this.data.checkBox?Fn=this.data.fieldValue===this.data.exportValue:Fn=this.data.fieldValue===this.data.buttonValue);const kn=Fn?this.checkedAppearance:this.uncheckedAppearance;if(kn){const Pn=this.appearance,_n=kn.dict.getArray("Matrix")||vt.IDENTITY_MATRIX;En&&kn.dict.set("Matrix",this.getRotationMatrix(Tn)),this.appearance=kn;const Mn=super.getOperatorList(on,wn,pn,Cn,Tn);return this.appearance=Pn,kn.dict.set("Matrix",_n),Mn}return{opList:new kt.OperatorList,separateForm:!1,separateCanvas:!1}}async save(on,wn,pn){return this.data.checkBox?this._saveCheckbox(on,wn,pn):this.data.radioButton?this._saveRadioButton(on,wn,pn):null}async _saveCheckbox(on,wn,pn){if(!pn)return null;const Cn=pn.get(this.data.id);let Tn=Cn&&Cn.rotation,Fn=Cn&&Cn.value;if(Tn===void 0&&(Fn===void 0||this.data.fieldValue===this.data.exportValue===Fn))return null;const En=on.xref.fetchIfRef(this.ref);if(!(En instanceof Pt.Dict))return null;Tn===void 0&&(Tn=this.rotation),Fn===void 0&&(Fn=this.data.fieldValue===this.data.exportValue);const kn={path:(0,vt.stringToPDFString)(En.get("T")||""),value:Fn?this.data.exportValue:""},Pn=Pt.Name.get(Fn?this.data.exportValue:"Off");En.set("V",Pn),En.set("AS",Pn),En.set("M",`D:${(0,vt.getModificationDate)()}`);const _n=this._getMKDict(Tn);_n&&En.set("MK",_n);const Mn=on.xref.encrypt;let On=null;Mn&&(On=Mn.createCipherTransform(this.ref.num,this.ref.gen));const jn=[`${this.ref.num} ${this.ref.gen} obj
`];return(0,xt.writeDict)(En,jn,On),jn.push(`
endobj
`),[{ref:this.ref,data:jn.join(""),xfa:kn}]}async _saveRadioButton(on,wn,pn){if(!pn)return null;const Cn=pn.get(this.data.id);let Tn=Cn&&Cn.rotation,Fn=Cn&&Cn.value;if(Tn===void 0&&(Fn===void 0||this.data.fieldValue===this.data.buttonValue===Fn))return null;const En=on.xref.fetchIfRef(this.ref);if(!(En instanceof Pt.Dict))return null;Fn===void 0&&(Fn=this.data.fieldValue===this.data.buttonValue),Tn===void 0&&(Tn=this.rotation);const kn={path:(0,vt.stringToPDFString)(En.get("T")||""),value:Fn?this.data.buttonValue:""},Pn=Pt.Name.get(Fn?this.data.buttonValue:"Off");let _n=null;const Mn=on.xref.encrypt;if(Fn)if(this.parent instanceof Pt.Ref){const Yn=on.xref.fetch(this.parent);let er=null;Mn&&(er=Mn.createCipherTransform(this.parent.num,this.parent.gen)),Yn.set("V",Pn),_n=[`${this.parent.num} ${this.parent.gen} obj
`],(0,xt.writeDict)(Yn,_n,er),_n.push(`
endobj
`)}else this.parent instanceof Pt.Dict&&this.parent.set("V",Pn);En.set("AS",Pn),En.set("M",`D:${(0,vt.getModificationDate)()}`);const On=this._getMKDict(Tn);On&&En.set("MK",On);let jn=null;Mn&&(jn=Mn.createCipherTransform(this.ref.num,this.ref.gen));const qn=[`${this.ref.num} ${this.ref.gen} obj
`];(0,xt.writeDict)(En,qn,jn),qn.push(`
endobj
`);const Gn=[{ref:this.ref,data:qn.join(""),xfa:kn}];return _n!==null&&Gn.push({ref:this.parent,data:_n.join(""),xfa:null}),Gn}_getDefaultCheckedAppearance(on,wn){const pn=this.data.rect[2]-this.data.rect[0],Cn=this.data.rect[3]-this.data.rect[1],Tn=[0,0,pn,Cn],En=Math.min(pn,Cn)*.8;let kn,Pn;wn==="check"?(kn={width:.755*En,height:.705*En},Pn="3"):wn==="disc"?(kn={width:.791*En,height:.705*En},Pn="l"):(0,vt.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${wn}`);const _n=(0,Et.numberToString)((pn-kn.width)/2),Mn=(0,Et.numberToString)((Cn-kn.height)/2),On=`q BT /PdfJsZaDb ${En} Tf 0 g ${_n} ${Mn} Td (${Pn}) Tj ET Q`,jn=new Pt.Dict(on.xref);jn.set("FormType",1),jn.set("Subtype",Pt.Name.get("Form")),jn.set("Type",Pt.Name.get("XObject")),jn.set("BBox",Tn),jn.set("Matrix",[1,0,0,1,0,0]),jn.set("Length",On.length);const qn=new Pt.Dict(on.xref),Gn=new Pt.Dict(on.xref);Gn.set("PdfJsZaDb",this.fallbackFontDict),qn.set("Font",Gn),jn.set("Resources",qn),this.checkedAppearance=new Bt.StringStream(On),this.checkedAppearance.dict=jn,this._streams.push(this.checkedAppearance)}_processCheckBox(on){const wn=on.dict.get("AP");if(!(wn instanceof Pt.Dict))return;const pn=wn.get("N");if(!(pn instanceof Pt.Dict))return;const Cn=this._decodeFormValue(on.dict.get("AS"));typeof Cn=="string"&&(this.data.fieldValue=Cn);const Tn=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",Fn=pn.getKeys();if(Fn.length===0)Fn.push("Off",Tn);else if(Fn.length===1)Fn[0]==="Off"?Fn.push(Tn):Fn.unshift("Off");else if(Fn.includes(Tn))Fn.length=0,Fn.push("Off",Tn);else{const En=Fn.find(kn=>kn!=="Off");Fn.length=0,Fn.push("Off",En)}Fn.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=Fn[1],this.checkedAppearance=pn.get(this.data.exportValue)||null,this.uncheckedAppearance=pn.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(on,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processRadioButton(on){this.data.fieldValue=this.data.buttonValue=null;const wn=on.dict.get("Parent");if(wn instanceof Pt.Dict){this.parent=on.dict.getRaw("Parent");const Tn=wn.get("V");Tn instanceof Pt.Name&&(this.data.fieldValue=this._decodeFormValue(Tn))}const pn=on.dict.get("AP");if(!(pn instanceof Pt.Dict))return;const Cn=pn.get("N");if(Cn instanceof Pt.Dict){for(const Tn of Cn.getKeys())if(Tn!=="Off"){this.data.buttonValue=this._decodeFormValue(Tn);break}this.checkedAppearance=Cn.get(this.data.buttonValue)||null,this.uncheckedAppearance=Cn.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(on,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}}_processPushButton(on){if(!on.dict.has("A")&&!on.dict.has("AA")&&!this.data.alternativeText){(0,vt.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!on.dict.has("A")&&!on.dict.has("AA"),jt.Catalog.parseDestDictionary({destDict:on.dict,resultObj:this.data,docBaseUrl:on.pdfManager.docBaseUrl})}getFieldObject(){let on="button",wn;return this.data.checkBox?(on="checkbox",wn=this.data.exportValue):this.data.radioButton&&(on="radiobutton",wn=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:wn,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:on}}get fallbackFontDict(){const on=new Pt.Dict;return on.set("BaseFont",Pt.Name.get("ZapfDingbats")),on.set("Type",Pt.Name.get("FallbackType")),on.set("Subtype",Pt.Name.get("FallbackType")),on.set("Encoding",Pt.Name.get("ZapfDingbatsEncoding")),(0,vt.shadow)(this,"fallbackFontDict",on)}}class nn extends hn{constructor(on){super(on),this.data.options=[];const wn=(0,Et.getInheritableProperty)({dict:on.dict,key:"Opt"});if(Array.isArray(wn)){const pn=on.xref;for(let Cn=0,Tn=wn.length;Cn<Tn;Cn++){const Fn=pn.fetchIfRef(wn[Cn]),En=Array.isArray(Fn);this.data.options[Cn]={exportValue:this._decodeFormValue(En?pn.fetchIfRef(Fn[0]):Fn),displayValue:this._decodeFormValue(En?pn.fetchIfRef(Fn[1]):Fn)}}}typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]),this.data.combo=this.hasFieldFlag(vt.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(vt.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const on=this.data.combo?"combobox":"listbox",wn=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:wn,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:on}}async _getAppearance(on,wn,pn){if(this.data.combo)return super._getAppearance(on,wn,pn);if(!pn)return null;const Cn=pn.get(this.data.id);if(!Cn)return null;const Tn=Cn.rotation;let Fn=Cn.value;if(Tn===void 0&&Fn===void 0)return null;Fn===void 0?Fn=this.data.fieldValue:Array.isArray(Fn)||(Fn=[Fn]);const En=2,kn=En;let Pn=this.data.rect[3]-this.data.rect[1],_n=this.data.rect[2]-this.data.rect[0];(Tn===90||Tn===270)&&([_n,Pn]=[Pn,_n]);const Mn=this.data.options.length,On=[];for(let Kn=0;Kn<Mn;Kn++){const{exportValue:Vn}=this.data.options[Kn];Fn.includes(Vn)&&On.push(Kn)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,Mt.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const jn=await hn._getFontData(on,wn,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let qn,{fontSize:Gn}=this.data.defaultAppearanceData;if(Gn)qn=this._defaultAppearance;else{const Kn=(Pn-En)/Mn;let Vn=-1,Bn;for(const{displayValue:lr}of this.data.options){const br=this._getTextWidth(lr,jn);br>Vn&&(Vn=br,Bn=lr)}[qn,Gn]=this._computeFontSize(Kn,_n-2*kn,Bn,jn,-1)}const Yn=Gn*vt.LINE_FACTOR,er=(Yn-Gn)/2,cr=Math.floor(Pn/Yn);let rr;if(On.length===1){const Kn=On[0],Vn=Kn%cr;rr=Kn-Vn}else rr=On.length?On[0]:0;const tr=Math.min(rr+cr+1,Mn),ir=["/Tx BMC q",`1 1 ${_n} ${Pn} re W n`];if(On.length){ir.push("0.600006 0.756866 0.854904 rg");for(const Kn of On)rr<=Kn&&Kn<tr&&ir.push(`1 ${Pn-(Kn-rr+1)*Yn} ${_n} ${Yn} re f`)}ir.push("BT",qn,`1 0 0 1 0 ${Pn} Tm`);for(let Kn=rr;Kn<tr;Kn++){const{displayValue:Vn}=this.data.options[Kn],Bn=Kn===rr?kn:0,lr=Kn===rr?er:0;ir.push(this._renderText(Vn,jn,Gn,_n,0,Bn,-Yn+lr))}return ir.push("ET Q EMC"),ir.join(`
`)}}class Ut extends hn{constructor(on){super(on),this.data.fieldValue=null}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class zt extends sn{constructor(on){super(on);const pn=on.dict;this.data.annotationType=vt.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=pn.has("Name")?pn.get("Name").name:"Note"),pn.has("State")?(this.data.state=pn.get("State")||null,this.data.stateModel=pn.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class cn extends en{constructor(on){super(on),this.data.annotationType=vt.AnnotationType.LINK;const wn=Gt(on.dict,this.rectangle);wn&&(this.data.quadPoints=wn),this.data.borderColor=this.data.borderColor||this.data.color,jt.Catalog.parseDestDictionary({destDict:on.dict,resultObj:this.data,docBaseUrl:on.pdfManager.docBaseUrl})}}class ln extends en{constructor(on){super(on),this.data.annotationType=vt.AnnotationType.POPUP;let wn=on.dict.get("Parent");if(!wn){(0,vt.warn)("Popup annotation has a missing or invalid parent annotation.");return}const pn=wn.get("Subtype");this.data.parentType=pn instanceof Pt.Name?pn.name:null;const Cn=on.dict.getRaw("Parent");this.data.parentId=Cn instanceof Pt.Ref?Cn.toString():null;const Tn=wn.getArray("Rect");Array.isArray(Tn)&&Tn.length===4?this.data.parentRect=vt.Util.normalizeRect(Tn):this.data.parentRect=[0,0,0,0];const Fn=wn.get("RT");if((0,Pt.isName)(Fn,vt.AnnotationReplyType.GROUP)&&(wn=wn.get("IRT")),wn.has("M")?(this.setModificationDate(wn.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,wn.has("C")?(this.setColor(wn.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const En=wn.get("F");this._isViewable(En)&&this.setFlags(En)}this.setTitle(wn.get("T")),this.data.titleObj=this._title,this.setContents(wn.get("Contents")),this.data.contentsObj=this._contents,wn.has("RC")&&(this.data.richText=Ht.XFAFactory.getRichTextAsHtml(wn.get("RC")))}}St.PopupAnnotation=ln;class Kt extends sn{constructor(on){super(on),this.data.annotationType=vt.AnnotationType.FREETEXT}get hasTextContent(){return!!this.appearance}static createNewDict(on,wn,{apRef:pn,ap:Cn}){const{color:Tn,fontSize:Fn,rect:En,rotation:kn,user:Pn,value:_n}=on,Mn=new Pt.Dict(wn);Mn.set("Type",Pt.Name.get("Annot")),Mn.set("Subtype",Pt.Name.get("FreeText")),Mn.set("CreationDate",`D:${(0,vt.getModificationDate)()}`),Mn.set("Rect",En);const On=`/Helv ${Fn} Tf ${(0,Mt.getPdfColor)(Tn,!0)}`;Mn.set("DA",On),Mn.set("Contents",_n),Mn.set("F",4),Mn.set("Border",[0,0,0]),Mn.set("Rotate",kn),Pn&&Mn.set("T",(0,vt.stringToUTF8String)(Pn));const jn=new Pt.Dict(wn);return Mn.set("AP",jn),pn?jn.set("N",pn):jn.set("N",Cn),Mn}static async createNewAppearanceStream(on,wn,pn){const{baseFontRef:Cn,evaluator:Tn,task:Fn}=pn,{color:En,fontSize:kn,rect:Pn,rotation:_n,value:Mn}=on,On=new Pt.Dict(wn),jn=new Pt.Dict(wn);if(Cn)jn.set("Helv",Cn);else{const qr=new Pt.Dict(wn);qr.set("BaseFont",Pt.Name.get("Helvetica")),qr.set("Type",Pt.Name.get("Font")),qr.set("Subtype",Pt.Name.get("Type1")),qr.set("Encoding",Pt.Name.get("WinAnsiEncoding")),jn.set("Helv",qr)}On.set("Font",jn);const qn=await hn._getFontData(Tn,Fn,{fontName:"Helvetica",fontSize:kn},On),[Gn,Yn,er,cr]=Pn;let rr=er-Gn,tr=cr-Yn;_n%180!==0&&([rr,tr]=[tr,rr]);const ir=Mn.split(`
`),Kn=kn/1e3;let Vn=-1/0;const Bn=[];for(let qr of ir){qr=qn.encodeString(qr).join(""),Bn.push(qr);let pr=0;const zr=qn.charsToGlyphs(qr);for(const Rr of zr)pr+=Rr.width*Kn;Vn=Math.max(Vn,pr)}let lr=1;Vn>rr&&(lr=rr/Vn);let br=1;const Pr=vt.LINE_FACTOR*kn,nr=vt.LINE_DESCENT_FACTOR*kn,_i=Pr*ir.length;_i>tr&&(br=tr/_i);const zn=Math.min(lr,br),wr=kn*zn,Cr=["q",`0 0 ${(0,Et.numberToString)(rr)} ${(0,Et.numberToString)(tr)} re W n`,"BT",`1 0 0 1 0 ${(0,Et.numberToString)(tr+nr)} Tm 0 Tc ${(0,Mt.getPdfColor)(En,!0)}`,`/Helv ${(0,Et.numberToString)(wr)} Tf`],yr=(0,Et.numberToString)(Pr);for(const qr of Bn)Cr.push(`0 -${yr} Td (${(0,vt.escapeString)(qr)}) Tj`);Cr.push("ET","Q");const Br=Cr.join(`
`),gr=new Pt.Dict(wn);if(gr.set("FormType",1),gr.set("Subtype",Pt.Name.get("Form")),gr.set("Type",Pt.Name.get("XObject")),gr.set("BBox",[0,0,rr,tr]),gr.set("Length",Br.length),gr.set("Resources",On),_n){const qr=hn._getRotationMatrix(_n,rr,tr);gr.set("Matrix",qr)}const Mr=new Bt.StringStream(Br);return Mr.dict=gr,Mr}}class Jt extends sn{constructor(on){super(on);const{dict:wn}=on;this.data.annotationType=vt.AnnotationType.LINE;const pn=wn.getArray("L");if(this.data.lineCoordinates=vt.Util.normalizeRect(pn),this.setLineEndings(wn.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const Cn=this.color?Array.from(this.color).map(On=>On/255):[0,0,0],Tn=wn.get("CA");let Fn=null,En=wn.getArray("IC");En&&(En=Vt(En,null),Fn=En?Array.from(En).map(On=>On/255):null);const kn=Fn?Tn:null,Pn=this.borderStyle.width||1,_n=2*Pn,Mn=[this.data.lineCoordinates[0]-_n,this.data.lineCoordinates[1]-_n,this.data.lineCoordinates[2]+_n,this.data.lineCoordinates[3]+_n];vt.Util.intersect(this.rectangle,Mn)||(this.rectangle=Mn),this._setDefaultAppearance({xref:on.xref,extra:`${Pn} w`,strokeColor:Cn,fillColor:Fn,strokeAlpha:Tn,fillAlpha:kn,pointsCallback:(On,jn)=>(On.push(`${pn[0]} ${pn[1]} m`,`${pn[2]} ${pn[3]} l`,"S"),[jn[0].x-Pn,jn[1].x+Pn,jn[3].y-Pn,jn[1].y+Pn])})}}}class Yt extends sn{constructor(on){if(super(on),this.data.annotationType=vt.AnnotationType.SQUARE,!this.appearance){const wn=this.color?Array.from(this.color).map(En=>En/255):[0,0,0],pn=on.dict.get("CA");let Cn=null,Tn=on.dict.getArray("IC");Tn&&(Tn=Vt(Tn,null),Cn=Tn?Array.from(Tn).map(En=>En/255):null);const Fn=Cn?pn:null;if(this.borderStyle.width===0&&!Cn)return;this._setDefaultAppearance({xref:on.xref,extra:`${this.borderStyle.width} w`,strokeColor:wn,fillColor:Cn,strokeAlpha:pn,fillAlpha:Fn,pointsCallback:(En,kn)=>{const Pn=kn[2].x+this.borderStyle.width/2,_n=kn[2].y+this.borderStyle.width/2,Mn=kn[3].x-kn[2].x-this.borderStyle.width,On=kn[1].y-kn[3].y-this.borderStyle.width;return En.push(`${Pn} ${_n} ${Mn} ${On} re`),Cn?En.push("B"):En.push("S"),[kn[0].x,kn[1].x,kn[3].y,kn[1].y]}})}}}class tn extends sn{constructor(on){if(super(on),this.data.annotationType=vt.AnnotationType.CIRCLE,!this.appearance){const wn=this.color?Array.from(this.color).map(kn=>kn/255):[0,0,0],pn=on.dict.get("CA");let Cn=null,Tn=on.dict.getArray("IC");Tn&&(Tn=Vt(Tn,null),Cn=Tn?Array.from(Tn).map(kn=>kn/255):null);const Fn=Cn?pn:null;if(this.borderStyle.width===0&&!Cn)return;const En=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:on.xref,extra:`${this.borderStyle.width} w`,strokeColor:wn,fillColor:Cn,strokeAlpha:pn,fillAlpha:Fn,pointsCallback:(kn,Pn)=>{const _n=Pn[0].x+this.borderStyle.width/2,Mn=Pn[0].y-this.borderStyle.width/2,On=Pn[3].x-this.borderStyle.width/2,jn=Pn[3].y+this.borderStyle.width/2,qn=_n+(On-_n)/2,Gn=Mn+(jn-Mn)/2,Yn=(On-_n)/2*En,er=(jn-Mn)/2*En;return kn.push(`${qn} ${jn} m`,`${qn+Yn} ${jn} ${On} ${Gn+er} ${On} ${Gn} c`,`${On} ${Gn-er} ${qn+Yn} ${Mn} ${qn} ${Mn} c`,`${qn-Yn} ${Mn} ${_n} ${Gn-er} ${_n} ${Gn} c`,`${_n} ${Gn+er} ${qn-Yn} ${jn} ${qn} ${jn} c`,"h"),Cn?kn.push("B"):kn.push("S"),[Pn[0].x,Pn[1].x,Pn[3].y,Pn[1].y]}})}}}class un extends sn{constructor(on){super(on);const{dict:wn}=on;this.data.annotationType=vt.AnnotationType.POLYLINE,this.data.vertices=[],this instanceof yn||(this.setLineEndings(wn.getArray("LE")),this.data.lineEndings=this.lineEndings);const pn=wn.getArray("Vertices");if(Array.isArray(pn)){for(let Cn=0,Tn=pn.length;Cn<Tn;Cn+=2)this.data.vertices.push({x:pn[Cn],y:pn[Cn+1]});if(!this.appearance){const Cn=this.color?Array.from(this.color).map(Pn=>Pn/255):[0,0,0],Tn=wn.get("CA"),Fn=this.borderStyle.width||1,En=2*Fn,kn=[1/0,1/0,-1/0,-1/0];for(const Pn of this.data.vertices)kn[0]=Math.min(kn[0],Pn.x-En),kn[1]=Math.min(kn[1],Pn.y-En),kn[2]=Math.max(kn[2],Pn.x+En),kn[3]=Math.max(kn[3],Pn.y+En);vt.Util.intersect(this.rectangle,kn)||(this.rectangle=kn),this._setDefaultAppearance({xref:on.xref,extra:`${Fn} w`,strokeColor:Cn,strokeAlpha:Tn,pointsCallback:(Pn,_n)=>{const Mn=this.data.vertices;for(let On=0,jn=Mn.length;On<jn;On++)Pn.push(`${Mn[On].x} ${Mn[On].y} ${On===0?"m":"l"}`);return Pn.push("S"),[_n[0].x,_n[1].x,_n[3].y,_n[1].y]}})}}}}class yn extends un{constructor(on){super(on),this.data.annotationType=vt.AnnotationType.POLYGON}}class xn extends sn{constructor(on){super(on),this.data.annotationType=vt.AnnotationType.CARET}}class rn extends sn{constructor(on){super(on),this.data.annotationType=vt.AnnotationType.INK,this.data.inkLists=[];const wn=on.dict.getArray("InkList");if(!Array.isArray(wn))return;const pn=on.xref;for(let Cn=0,Tn=wn.length;Cn<Tn;++Cn){this.data.inkLists.push([]);for(let Fn=0,En=wn[Cn].length;Fn<En;Fn+=2)this.data.inkLists[Cn].push({x:pn.fetchIfRef(wn[Cn][Fn]),y:pn.fetchIfRef(wn[Cn][Fn+1])})}if(!this.appearance){const Cn=this.color?Array.from(this.color).map(Pn=>Pn/255):[0,0,0],Tn=on.dict.get("CA"),Fn=this.borderStyle.width||1,En=2*Fn,kn=[1/0,1/0,-1/0,-1/0];for(const Pn of this.data.inkLists)for(const _n of Pn)kn[0]=Math.min(kn[0],_n.x-En),kn[1]=Math.min(kn[1],_n.y-En),kn[2]=Math.max(kn[2],_n.x+En),kn[3]=Math.max(kn[3],_n.y+En);vt.Util.intersect(this.rectangle,kn)||(this.rectangle=kn),this._setDefaultAppearance({xref:on.xref,extra:`${Fn} w`,strokeColor:Cn,strokeAlpha:Tn,pointsCallback:(Pn,_n)=>{for(const Mn of this.data.inkLists){for(let On=0,jn=Mn.length;On<jn;On++)Pn.push(`${Mn[On].x} ${Mn[On].y} ${On===0?"m":"l"}`);Pn.push("S")}return[_n[0].x,_n[1].x,_n[3].y,_n[1].y]}})}}static createNewDict(on,wn,{apRef:pn,ap:Cn}){const{paths:Tn,rect:Fn,rotation:En}=on,kn=new Pt.Dict(wn);kn.set("Type",Pt.Name.get("Annot")),kn.set("Subtype",Pt.Name.get("Ink")),kn.set("CreationDate",`D:${(0,vt.getModificationDate)()}`),kn.set("Rect",Fn),kn.set("InkList",Tn.map(_n=>_n.points)),kn.set("F",4),kn.set("Border",[0,0,0]),kn.set("Rotate",En);const Pn=new Pt.Dict(wn);return kn.set("AP",Pn),pn?Pn.set("N",pn):Pn.set("N",Cn),kn}static async createNewAppearanceStream(on,wn,pn){const{color:Cn,rect:Tn,rotation:Fn,paths:En,thickness:kn,opacity:Pn}=on,[_n,Mn,On,jn]=Tn;let qn=On-_n,Gn=jn-Mn;Fn%180!==0&&([qn,Gn]=[Gn,qn]);const Yn=[`${kn} w 1 J 1 j`,`${(0,Mt.getPdfColor)(Cn,!1)}`];Pn!==1&&Yn.push("/R0 gs");const er=[];for(const{bezier:ir}of En){er.length=0,er.push(`${(0,Et.numberToString)(ir[0])} ${(0,Et.numberToString)(ir[1])} m`);for(let Kn=2,Vn=ir.length;Kn<Vn;Kn+=6){const Bn=ir.slice(Kn,Kn+6).map(Et.numberToString).join(" ");er.push(`${Bn} c`)}er.push("S"),Yn.push(er.join(`
`))}const cr=Yn.join(`
`),rr=new Pt.Dict(wn);if(rr.set("FormType",1),rr.set("Subtype",Pt.Name.get("Form")),rr.set("Type",Pt.Name.get("XObject")),rr.set("BBox",[0,0,qn,Gn]),rr.set("Length",cr.length),Fn){const ir=hn._getRotationMatrix(Fn,qn,Gn);rr.set("Matrix",ir)}if(Pn!==1){const ir=new Pt.Dict(wn),Kn=new Pt.Dict(wn),Vn=new Pt.Dict(wn);Vn.set("CA",Pn),Vn.set("Type",Pt.Name.get("ExtGState")),Kn.set("R0",Vn),ir.set("ExtGState",Kn),rr.set("Resources",ir)}const tr=new Bt.StringStream(cr);return tr.dict=rr,tr}}class dn extends sn{constructor(on){if(super(on),this.data.annotationType=vt.AnnotationType.HIGHLIGHT,this.data.quadPoints=Gt(on.dict,null)){const pn=this.appearance&&this.appearance.dict.get("Resources");if(!this.appearance||!(pn&&pn.has("ExtGState"))){this.appearance&&(0,vt.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const Cn=this.color?Array.from(this.color).map(Fn=>Fn/255):[1,1,0],Tn=on.dict.get("CA");this._setDefaultAppearance({xref:on.xref,fillColor:Cn,blendMode:"Multiply",fillAlpha:Tn,pointsCallback:(Fn,En)=>(Fn.push(`${En[0].x} ${En[0].y} m`,`${En[1].x} ${En[1].y} l`,`${En[3].x} ${En[3].y} l`,`${En[2].x} ${En[2].y} l`,"f"),[En[0].x,En[1].x,En[3].y,En[1].y])})}}else this.data.hasPopup=!1}}class An extends sn{constructor(on){if(super(on),this.data.annotationType=vt.AnnotationType.UNDERLINE,this.data.quadPoints=Gt(on.dict,null)){if(!this.appearance){const pn=this.color?Array.from(this.color).map(Tn=>Tn/255):[0,0,0],Cn=on.dict.get("CA");this._setDefaultAppearance({xref:on.xref,extra:"[] 0 d 1 w",strokeColor:pn,strokeAlpha:Cn,pointsCallback:(Tn,Fn)=>(Tn.push(`${Fn[2].x} ${Fn[2].y} m`,`${Fn[3].x} ${Fn[3].y} l`,"S"),[Fn[0].x,Fn[1].x,Fn[3].y,Fn[1].y])})}}else this.data.hasPopup=!1}}class an extends sn{constructor(on){if(super(on),this.data.annotationType=vt.AnnotationType.SQUIGGLY,this.data.quadPoints=Gt(on.dict,null)){if(!this.appearance){const pn=this.color?Array.from(this.color).map(Tn=>Tn/255):[0,0,0],Cn=on.dict.get("CA");this._setDefaultAppearance({xref:on.xref,extra:"[] 0 d 1 w",strokeColor:pn,strokeAlpha:Cn,pointsCallback:(Tn,Fn)=>{const En=(Fn[0].y-Fn[2].y)/6;let kn=En,Pn=Fn[2].x;const _n=Fn[2].y,Mn=Fn[3].x;Tn.push(`${Pn} ${_n+kn} m`);do Pn+=2,kn=kn===0?En:0,Tn.push(`${Pn} ${_n+kn} l`);while(Pn<Mn);return Tn.push("S"),[Fn[2].x,Mn,_n-2*En,_n+2*En]}})}}else this.data.hasPopup=!1}}class fn extends sn{constructor(on){if(super(on),this.data.annotationType=vt.AnnotationType.STRIKEOUT,this.data.quadPoints=Gt(on.dict,null)){if(!this.appearance){const pn=this.color?Array.from(this.color).map(Tn=>Tn/255):[0,0,0],Cn=on.dict.get("CA");this._setDefaultAppearance({xref:on.xref,extra:"[] 0 d 1 w",strokeColor:pn,strokeAlpha:Cn,pointsCallback:(Tn,Fn)=>(Tn.push(`${(Fn[0].x+Fn[2].x)/2} ${(Fn[0].y+Fn[2].y)/2} m`,`${(Fn[1].x+Fn[3].x)/2} ${(Fn[1].y+Fn[3].y)/2} l`,"S"),[Fn[0].x,Fn[1].x,Fn[3].y,Fn[1].y])})}}else this.data.hasPopup=!1}}class bn extends sn{constructor(on){super(on),this.data.annotationType=vt.AnnotationType.STAMP}}class vn extends sn{constructor(on){super(on);const wn=new Nt.FileSpec(on.dict.get("FS"),on.xref);this.data.annotationType=vt.AnnotationType.FILEATTACHMENT,this.data.file=wn.serializable}}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.createDefaultAppearance=Nt,St.getPdfColor=Rt,St.parseDefaultAppearance=jt;var vt=Ft(6),Et=Ft(2),Mt=Ft(14),Pt=Ft(15),xt=Ft(5),$t=Ft(10);class _t extends Pt.EvaluatorPreprocessor{constructor(kt){super(new $t.StringStream(kt))}parse(){const kt={fn:0,args:[]},Bt={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;kt.args.length=0,!!this.read(kt);){if(this.savedStatesDepth!==0)continue;const{fn:Ht,args:Ot}=kt;switch(Ht|0){case Et.OPS.setFont:const[Vt,Gt]=Ot;Vt instanceof xt.Name&&(Bt.fontName=Vt.name),typeof Gt=="number"&&Gt>0&&(Bt.fontSize=Gt);break;case Et.OPS.setFillRGBColor:Mt.ColorSpace.singletons.rgb.getRgbItem(Ot,0,Bt.fontColor,0);break;case Et.OPS.setFillGray:Mt.ColorSpace.singletons.gray.getRgbItem(Ot,0,Bt.fontColor,0);break;case Et.OPS.setFillColorSpace:Mt.ColorSpace.singletons.cmyk.getRgbItem(Ot,0,Bt.fontColor,0);break}}}catch(Ht){(0,Et.warn)(`parseDefaultAppearance - ignoring errors: "${Ht}".`)}return Bt}}function jt(Lt){return new _t(Lt).parse()}function Rt(Lt,kt){if(Lt[0]===Lt[1]&&Lt[1]===Lt[2]){const Bt=Lt[0]/255;return`${(0,vt.numberToString)(Bt)} ${kt?"g":"G"}`}return Array.from(Lt).map(Bt=>(0,vt.numberToString)(Bt/255)).join(" ")+` ${kt?"rg":"RG"}`}function Nt({fontSize:Lt,fontName:kt,fontColor:Bt}){return`/${(0,vt.escapePDFName)(kt)} ${Lt} Tf ${Rt(Bt,!0)}`}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.ColorSpace=void 0;var vt=Ft(2),Et=Ft(5),Mt=Ft(7),Pt=Ft(6);function xt(Vt,Gt,Wt,en,Sn,sn,hn){hn=hn!==1?0:hn;const qt=Wt/Sn,nn=en/sn;let Ut=0,zt;const cn=new Uint16Array(Sn),ln=Wt*3;for(let Kt=0;Kt<Sn;Kt++)cn[Kt]=Math.floor(Kt*qt)*3;for(let Kt=0;Kt<sn;Kt++){const Jt=Math.floor(Kt*nn)*ln;for(let Yt=0;Yt<Sn;Yt++)zt=Jt+cn[Yt],Gt[Ut++]=Vt[zt++],Gt[Ut++]=Vt[zt++],Gt[Ut++]=Vt[zt++],Ut+=hn}}class $t{constructor(Gt,Wt){this.constructor===$t&&(0,vt.unreachable)("Cannot initialize ColorSpace."),this.name=Gt,this.numComps=Wt}getRgb(Gt,Wt){const en=new Uint8ClampedArray(3);return this.getRgbItem(Gt,Wt,en,0),en}getRgbItem(Gt,Wt,en,Sn){(0,vt.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(Gt,Wt,en,Sn,sn,hn,Qt){(0,vt.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(Gt,Wt){(0,vt.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(Gt){return!1}isDefaultDecode(Gt,Wt){return $t.isDefaultDecode(Gt,this.numComps)}fillRgb(Gt,Wt,en,Sn,sn,hn,Qt,qt,nn){const Ut=Wt*en;let zt=null;const cn=1<<Qt,ln=en!==sn||Wt!==Sn;if(this.isPassthrough(Qt))zt=qt;else if(this.numComps===1&&Ut>cn&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const Kt=Qt<=8?new Uint8Array(cn):new Uint16Array(cn);for(let Yt=0;Yt<cn;Yt++)Kt[Yt]=Yt;const Jt=new Uint8ClampedArray(cn*3);if(this.getRgbBuffer(Kt,0,cn,Jt,0,Qt,0),ln){zt=new Uint8Array(Ut*3);let Yt=0;for(let tn=0;tn<Ut;++tn){const un=qt[tn]*3;zt[Yt++]=Jt[un],zt[Yt++]=Jt[un+1],zt[Yt++]=Jt[un+2]}}else{let Yt=0;for(let tn=0;tn<Ut;++tn){const un=qt[tn]*3;Gt[Yt++]=Jt[un],Gt[Yt++]=Jt[un+1],Gt[Yt++]=Jt[un+2],Yt+=nn}}}else ln?(zt=new Uint8ClampedArray(Ut*3),this.getRgbBuffer(qt,0,Ut,zt,0,Qt,0)):this.getRgbBuffer(qt,0,Sn*hn,Gt,0,Qt,nn);if(zt)if(ln)xt(zt,Gt,Wt,en,Sn,sn,nn);else{let Kt=0,Jt=0;for(let Yt=0,tn=Sn*hn;Yt<tn;Yt++)Gt[Kt++]=zt[Jt++],Gt[Kt++]=zt[Jt++],Gt[Kt++]=zt[Jt++],Kt+=nn}}get usesZeroToOneRange(){return(0,vt.shadow)(this,"usesZeroToOneRange",!0)}static _cache(Gt,Wt,en,Sn){if(!en)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!Sn)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let sn,hn;Gt instanceof Et.Ref&&(hn=Gt,Gt=Wt.fetch(Gt)),Gt instanceof Et.Name&&(sn=Gt.name),(sn||hn)&&en.set(sn,hn,Sn)}static getCached(Gt,Wt,en){if(!en)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(Gt instanceof Et.Ref){const Sn=en.getByRef(Gt);if(Sn)return Sn;try{Gt=Wt.fetch(Gt)}catch(sn){if(sn instanceof Pt.MissingDataException)throw sn}}if(Gt instanceof Et.Name){const Sn=en.getByName(Gt.name);if(Sn)return Sn}return null}static async parseAsync({cs:Gt,xref:Wt,resources:en=null,pdfFunctionFactory:Sn,localColorSpaceCache:sn}){const hn=this._parse(Gt,Wt,en,Sn);return this._cache(Gt,Wt,sn,hn),hn}static parse({cs:Gt,xref:Wt,resources:en=null,pdfFunctionFactory:Sn,localColorSpaceCache:sn}){const hn=this.getCached(Gt,Wt,sn);if(hn)return hn;const Qt=this._parse(Gt,Wt,en,Sn);return this._cache(Gt,Wt,sn,Qt),Qt}static _parse(Gt,Wt,en=null,Sn){if(Gt=Wt.fetchIfRef(Gt),Gt instanceof Et.Name)switch(Gt.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new jt(null);default:if(en instanceof Et.Dict){const sn=en.get("ColorSpace");if(sn instanceof Et.Dict){const hn=sn.get(Gt.name);if(hn){if(hn instanceof Et.Name)return this._parse(hn,Wt,en,Sn);Gt=hn;break}}}throw new vt.FormatError(`Unrecognized ColorSpace: ${Gt.name}`)}if(Array.isArray(Gt)){const sn=Wt.fetchIfRef(Gt[0]).name;let hn,Qt,qt,nn,Ut,zt;switch(sn){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return hn=Wt.fetchIfRef(Gt[1]),nn=hn.getArray("WhitePoint"),Ut=hn.getArray("BlackPoint"),zt=hn.get("Gamma"),new Bt(nn,Ut,zt);case"CalRGB":hn=Wt.fetchIfRef(Gt[1]),nn=hn.getArray("WhitePoint"),Ut=hn.getArray("BlackPoint"),zt=hn.getArray("Gamma");const cn=hn.getArray("Matrix");return new Ht(nn,Ut,zt,cn);case"ICCBased":const Kt=Wt.fetchIfRef(Gt[1]).dict;Qt=Kt.get("N");const Jt=Kt.get("Alternate");if(Jt){const rn=this._parse(Jt,Wt,en,Sn);if(rn.numComps===Qt)return rn;(0,vt.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(Qt===1)return this.singletons.gray;if(Qt===3)return this.singletons.rgb;if(Qt===4)return this.singletons.cmyk;break;case"Pattern":return qt=Gt[1]||null,qt&&(qt=this._parse(qt,Wt,en,Sn)),new jt(qt);case"I":case"Indexed":qt=this._parse(Gt[1],Wt,en,Sn);const Yt=Wt.fetchIfRef(Gt[2])+1,tn=Wt.fetchIfRef(Gt[3]);return new Rt(qt,Yt,tn);case"Separation":case"DeviceN":const un=Wt.fetchIfRef(Gt[1]);Qt=Array.isArray(un)?un.length:1,qt=this._parse(Gt[2],Wt,en,Sn);const yn=Sn.create(Gt[3]);return new _t(Qt,qt,yn);case"Lab":hn=Wt.fetchIfRef(Gt[1]),nn=hn.getArray("WhitePoint"),Ut=hn.getArray("BlackPoint");const xn=hn.getArray("Range");return new Ot(nn,Ut,xn);default:throw new vt.FormatError(`Unimplemented ColorSpace object: ${sn}`)}}throw new vt.FormatError(`Unrecognized ColorSpace object: ${Gt}`)}static isDefaultDecode(Gt,Wt){if(!Array.isArray(Gt))return!0;if(Wt*2!==Gt.length)return(0,vt.warn)("The decode map is not the correct length"),!0;for(let en=0,Sn=Gt.length;en<Sn;en+=2)if(Gt[en]!==0||Gt[en+1]!==1)return!1;return!0}static get singletons(){return(0,vt.shadow)(this,"singletons",{get gray(){return(0,vt.shadow)(this,"gray",new Nt)},get rgb(){return(0,vt.shadow)(this,"rgb",new Lt)},get cmyk(){return(0,vt.shadow)(this,"cmyk",new kt)}})}}St.ColorSpace=$t;class _t extends $t{constructor(Gt,Wt,en){super("Alternate",Gt),this.base=Wt,this.tintFn=en,this.tmpBuf=new Float32Array(Wt.numComps)}getRgbItem(Gt,Wt,en,Sn){const sn=this.tmpBuf;this.tintFn(Gt,Wt,sn,0),this.base.getRgbItem(sn,0,en,Sn)}getRgbBuffer(Gt,Wt,en,Sn,sn,hn,Qt){const qt=this.tintFn,nn=this.base,Ut=1/((1<<hn)-1),zt=nn.numComps,cn=nn.usesZeroToOneRange,ln=(nn.isPassthrough(8)||!cn)&&Qt===0;let Kt=ln?sn:0;const Jt=ln?Sn:new Uint8ClampedArray(zt*en),Yt=this.numComps,tn=new Float32Array(Yt),un=new Float32Array(zt);let yn,xn;for(yn=0;yn<en;yn++){for(xn=0;xn<Yt;xn++)tn[xn]=Gt[Wt++]*Ut;if(qt(tn,0,un,0),cn)for(xn=0;xn<zt;xn++)Jt[Kt++]=un[xn]*255;else nn.getRgbItem(un,0,Jt,Kt),Kt+=zt}ln||nn.getRgbBuffer(Jt,0,en,Sn,sn,8,Qt)}getOutputLength(Gt,Wt){return this.base.getOutputLength(Gt*this.base.numComps/this.numComps,Wt)}}class jt extends $t{constructor(Gt){super("Pattern",null),this.base=Gt}isDefaultDecode(Gt,Wt){(0,vt.unreachable)("Should not call PatternCS.isDefaultDecode")}}class Rt extends $t{constructor(Gt,Wt,en){super("Indexed",1),this.base=Gt,this.highVal=Wt;const Sn=Gt.numComps*Wt;if(this.lookup=new Uint8Array(Sn),en instanceof Mt.BaseStream){const sn=en.getBytes(Sn);this.lookup.set(sn)}else if(typeof en=="string")for(let sn=0;sn<Sn;++sn)this.lookup[sn]=en.charCodeAt(sn)&255;else throw new vt.FormatError(`IndexedCS - unrecognized lookup table: ${en}`)}getRgbItem(Gt,Wt,en,Sn){const sn=this.base.numComps,hn=Gt[Wt]*sn;this.base.getRgbBuffer(this.lookup,hn,1,en,Sn,8,0)}getRgbBuffer(Gt,Wt,en,Sn,sn,hn,Qt){const qt=this.base,nn=qt.numComps,Ut=qt.getOutputLength(nn,Qt),zt=this.lookup;for(let cn=0;cn<en;++cn){const ln=Gt[Wt++]*nn;qt.getRgbBuffer(zt,ln,1,Sn,sn,8,Qt),sn+=Ut}}getOutputLength(Gt,Wt){return this.base.getOutputLength(Gt*this.base.numComps,Wt)}isDefaultDecode(Gt,Wt){return Array.isArray(Gt)?Gt.length!==2?((0,vt.warn)("Decode map length is not correct"),!0):!Number.isInteger(Wt)||Wt<1?((0,vt.warn)("Bits per component is not correct"),!0):Gt[0]===0&&Gt[1]===(1<<Wt)-1:!0}}class Nt extends $t{constructor(){super("DeviceGray",1)}getRgbItem(Gt,Wt,en,Sn){const sn=Gt[Wt]*255;en[Sn]=en[Sn+1]=en[Sn+2]=sn}getRgbBuffer(Gt,Wt,en,Sn,sn,hn,Qt){const qt=255/((1<<hn)-1);let nn=Wt,Ut=sn;for(let zt=0;zt<en;++zt){const cn=qt*Gt[nn++];Sn[Ut++]=cn,Sn[Ut++]=cn,Sn[Ut++]=cn,Ut+=Qt}}getOutputLength(Gt,Wt){return Gt*(3+Wt)}}class Lt extends $t{constructor(){super("DeviceRGB",3)}getRgbItem(Gt,Wt,en,Sn){en[Sn]=Gt[Wt]*255,en[Sn+1]=Gt[Wt+1]*255,en[Sn+2]=Gt[Wt+2]*255}getRgbBuffer(Gt,Wt,en,Sn,sn,hn,Qt){if(hn===8&&Qt===0){Sn.set(Gt.subarray(Wt,Wt+en*3),sn);return}const qt=255/((1<<hn)-1);let nn=Wt,Ut=sn;for(let zt=0;zt<en;++zt)Sn[Ut++]=qt*Gt[nn++],Sn[Ut++]=qt*Gt[nn++],Sn[Ut++]=qt*Gt[nn++],Ut+=Qt}getOutputLength(Gt,Wt){return Gt*(3+Wt)/3|0}isPassthrough(Gt){return Gt===8}}const kt=function(){function Gt(en,Sn,sn,hn,Qt){const qt=en[Sn]*sn,nn=en[Sn+1]*sn,Ut=en[Sn+2]*sn,zt=en[Sn+3]*sn;hn[Qt]=255+qt*(-4.387332384609988*qt+54.48615194189176*nn+18.82290502165302*Ut+212.25662451639585*zt+-285.2331026137004)+nn*(1.7149763477362134*nn-5.6096736904047315*Ut+-17.873870861415444*zt-5.497006427196366)+Ut*(-2.5217340131683033*Ut-21.248923337353073*zt+17.5119270841813)+zt*(-21.86122147463605*zt-189.48180835922747),hn[Qt+1]=255+qt*(8.841041422036149*qt+60.118027045597366*nn+6.871425592049007*Ut+31.159100130055922*zt+-79.2970844816548)+nn*(-15.310361306967817*nn+17.575251261109482*Ut+131.35250912493976*zt-190.9453302588951)+Ut*(4.444339102852739*Ut+9.8632861493405*zt-24.86741582555878)+zt*(-20.737325471181034*zt-187.80453709719578),hn[Qt+2]=255+qt*(.8842522430003296*qt+8.078677503112928*nn+30.89978309703729*Ut-.23883238689178934*zt+-14.183576799673286)+nn*(10.49593273432072*nn+63.02378494754052*Ut+50.606957656360734*zt-112.23884253719248)+Ut*(.03296041114873217*Ut+115.60384449646641*zt+-193.58209356861505)+zt*(-22.33816807309886*zt-180.12613974708367)}class Wt extends $t{constructor(){super("DeviceCMYK",4)}getRgbItem(Sn,sn,hn,Qt){Gt(Sn,sn,1,hn,Qt)}getRgbBuffer(Sn,sn,hn,Qt,qt,nn,Ut){const zt=1/((1<<nn)-1);for(let cn=0;cn<hn;cn++)Gt(Sn,sn,zt,Qt,qt),sn+=4,qt+=3+Ut}getOutputLength(Sn,sn){return Sn/4*(3+sn)|0}}return Wt}(),Bt=function(){function Gt(en,Sn,sn,hn,Qt,qt){const Ut=(Sn[sn]*qt)**en.G,zt=en.YW*Ut,cn=Math.max(295.8*zt**.3333333333333333-40.8,0);hn[Qt]=cn,hn[Qt+1]=cn,hn[Qt+2]=cn}class Wt extends $t{constructor(Sn,sn,hn){if(super("CalGray",1),!Sn)throw new vt.FormatError("WhitePoint missing - required for color space CalGray");if(sn=sn||[0,0,0],hn=hn||1,this.XW=Sn[0],this.YW=Sn[1],this.ZW=Sn[2],this.XB=sn[0],this.YB=sn[1],this.ZB=sn[2],this.G=hn,this.XW<0||this.ZW<0||this.YW!==1)throw new vt.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,vt.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,vt.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,vt.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(Sn,sn,hn,Qt){Gt(this,Sn,sn,hn,Qt,1)}getRgbBuffer(Sn,sn,hn,Qt,qt,nn,Ut){const zt=1/((1<<nn)-1);for(let cn=0;cn<hn;++cn)Gt(this,Sn,sn,Qt,qt,zt),sn+=1,qt+=3+Ut}getOutputLength(Sn,sn){return Sn*(3+sn)}}return Wt}(),Ht=function(){const Gt=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),Wt=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),en=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),Sn=new Float32Array([1,1,1]),sn=new Float32Array(3),hn=new Float32Array(3),Qt=new Float32Array(3),qt=(24/116)**3/8;function nn(xn,rn,dn){dn[0]=xn[0]*rn[0]+xn[1]*rn[1]+xn[2]*rn[2],dn[1]=xn[3]*rn[0]+xn[4]*rn[1]+xn[5]*rn[2],dn[2]=xn[6]*rn[0]+xn[7]*rn[1]+xn[8]*rn[2]}function Ut(xn,rn,dn){dn[0]=rn[0]*1/xn[0],dn[1]=rn[1]*1/xn[1],dn[2]=rn[2]*1/xn[2]}function zt(xn,rn,dn){dn[0]=rn[0]*.95047/xn[0],dn[1]=rn[1]*1/xn[1],dn[2]=rn[2]*1.08883/xn[2]}function cn(xn){return xn<=.0031308?ln(0,1,12.92*xn):xn>=.99554525?1:ln(0,1,(1+.055)*xn**(1/2.4)-.055)}function ln(xn,rn,dn){return Math.max(xn,Math.min(rn,dn))}function Kt(xn){return xn<0?-Kt(-xn):xn>8?((xn+16)/116)**3:xn*qt}function Jt(xn,rn,dn){if(xn[0]===0&&xn[1]===0&&xn[2]===0){dn[0]=rn[0],dn[1]=rn[1],dn[2]=rn[2];return}const An=Kt(0),an=An,fn=Kt(xn[0]),bn=An,vn=Kt(xn[1]),gn=An,on=Kt(xn[2]),wn=(1-an)/(1-fn),pn=1-wn,Cn=(1-bn)/(1-vn),Tn=1-Cn,Fn=(1-gn)/(1-on),En=1-Fn;dn[0]=rn[0]*wn+pn,dn[1]=rn[1]*Cn+Tn,dn[2]=rn[2]*Fn+En}function Yt(xn,rn,dn){if(xn[0]===1&&xn[2]===1){dn[0]=rn[0],dn[1]=rn[1],dn[2]=rn[2];return}const An=dn;nn(Gt,rn,An);const an=sn;Ut(xn,An,an),nn(Wt,an,dn)}function tn(xn,rn,dn){const An=dn;nn(Gt,rn,An);const an=sn;zt(xn,An,an),nn(Wt,an,dn)}function un(xn,rn,dn,An,an,fn){const bn=ln(0,1,rn[dn]*fn),vn=ln(0,1,rn[dn+1]*fn),gn=ln(0,1,rn[dn+2]*fn),on=bn===1?1:bn**xn.GR,wn=vn===1?1:vn**xn.GG,pn=gn===1?1:gn**xn.GB,Cn=xn.MXA*on+xn.MXB*wn+xn.MXC*pn,Tn=xn.MYA*on+xn.MYB*wn+xn.MYC*pn,Fn=xn.MZA*on+xn.MZB*wn+xn.MZC*pn,En=hn;En[0]=Cn,En[1]=Tn,En[2]=Fn;const kn=Qt;Yt(xn.whitePoint,En,kn);const Pn=hn;Jt(xn.blackPoint,kn,Pn);const _n=Qt;tn(Sn,Pn,_n);const Mn=hn;nn(en,_n,Mn),An[an]=cn(Mn[0])*255,An[an+1]=cn(Mn[1])*255,An[an+2]=cn(Mn[2])*255}class yn extends $t{constructor(rn,dn,An,an){if(super("CalRGB",3),!rn)throw new vt.FormatError("WhitePoint missing - required for color space CalRGB");dn=dn||new Float32Array(3),An=An||new Float32Array([1,1,1]),an=an||new Float32Array([1,0,0,0,1,0,0,0,1]);const fn=rn[0],bn=rn[1],vn=rn[2];this.whitePoint=rn;const gn=dn[0],on=dn[1],wn=dn[2];if(this.blackPoint=dn,this.GR=An[0],this.GG=An[1],this.GB=An[2],this.MXA=an[0],this.MYA=an[1],this.MZA=an[2],this.MXB=an[3],this.MYB=an[4],this.MZB=an[5],this.MXC=an[6],this.MYC=an[7],this.MZC=an[8],fn<0||vn<0||bn!==1)throw new vt.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(gn<0||on<0||wn<0)&&((0,vt.info)(`Invalid BlackPoint for ${this.name} [${gn}, ${on}, ${wn}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,vt.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(rn,dn,An,an){un(this,rn,dn,An,an,1)}getRgbBuffer(rn,dn,An,an,fn,bn,vn){const gn=1/((1<<bn)-1);for(let on=0;on<An;++on)un(this,rn,dn,an,fn,gn),dn+=3,fn+=3+vn}getOutputLength(rn,dn){return rn*(3+dn)/3|0}}return yn}(),Ot=function(){function Gt(sn){let hn;return sn>=6/29?hn=sn**3:hn=108/841*(sn-4/29),hn}function Wt(sn,hn,Qt,qt){return Qt+sn*(qt-Qt)/hn}function en(sn,hn,Qt,qt,nn,Ut){let zt=hn[Qt],cn=hn[Qt+1],ln=hn[Qt+2];qt!==!1&&(zt=Wt(zt,qt,0,100),cn=Wt(cn,qt,sn.amin,sn.amax),ln=Wt(ln,qt,sn.bmin,sn.bmax)),cn>sn.amax?cn=sn.amax:cn<sn.amin&&(cn=sn.amin),ln>sn.bmax?ln=sn.bmax:ln<sn.bmin&&(ln=sn.bmin);const Kt=(zt+16)/116,Jt=Kt+cn/500,Yt=Kt-ln/200,tn=sn.XW*Gt(Jt),un=sn.YW*Gt(Kt),yn=sn.ZW*Gt(Yt);let xn,rn,dn;sn.ZW<1?(xn=tn*3.1339+un*-1.617+yn*-.4906,rn=tn*-.9785+un*1.916+yn*.0333,dn=tn*.072+un*-.229+yn*1.4057):(xn=tn*3.2406+un*-1.5372+yn*-.4986,rn=tn*-.9689+un*1.8758+yn*.0415,dn=tn*.0557+un*-.204+yn*1.057),nn[Ut]=Math.sqrt(xn)*255,nn[Ut+1]=Math.sqrt(rn)*255,nn[Ut+2]=Math.sqrt(dn)*255}class Sn extends $t{constructor(hn,Qt,qt){if(super("Lab",3),!hn)throw new vt.FormatError("WhitePoint missing - required for color space Lab");if(Qt=Qt||[0,0,0],qt=qt||[-100,100,-100,100],this.XW=hn[0],this.YW=hn[1],this.ZW=hn[2],this.amin=qt[0],this.amax=qt[1],this.bmin=qt[2],this.bmax=qt[3],this.XB=Qt[0],this.YB=Qt[1],this.ZB=Qt[2],this.XW<0||this.ZW<0||this.YW!==1)throw new vt.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,vt.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,vt.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(hn,Qt,qt,nn){en(this,hn,Qt,!1,qt,nn)}getRgbBuffer(hn,Qt,qt,nn,Ut,zt,cn){const ln=(1<<zt)-1;for(let Kt=0;Kt<qt;Kt++)en(this,hn,Qt,ln,nn,Ut),Qt+=3,Ut+=3+cn}getOutputLength(hn,Qt){return hn*(3+Qt)/3|0}isDefaultDecode(hn,Qt){return!0}get usesZeroToOneRange(){return(0,vt.shadow)(this,"usesZeroToOneRange",!1)}}return Sn}()},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.PartialEvaluator=St.EvaluatorPreprocessor=void 0;var vt=Ft(2),Et=Ft(16),Mt=Ft(5),Pt=Ft(34),xt=Ft(38),$t=Ft(37),_t=Ft(41),jt=Ft(40),Rt=Ft(50),Nt=Ft(51),Lt=Ft(42),kt=Ft(57),Bt=Ft(17),Ht=Ft(59),Ot=Ft(10),Vt=Ft(7),Gt=Ft(60),Wt=Ft(14),en=Ft(19),Sn=Ft(39),sn=Ft(6),hn=Ft(45),Qt=Ft(61),qt=Ft(62),nn=Ft(63);const Ut=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),zt={TILING:1,SHADING:2},cn=10,ln=Promise.resolve();function Kt(An,an=!1){if(Array.isArray(An)){for(let fn=0,bn=An.length;fn<bn;fn++){const vn=Kt(An[fn],!0);if(vn)return vn}return(0,vt.warn)(`Unsupported blend mode Array: ${An}`),"source-over"}if(!(An instanceof Mt.Name))return an?null:"source-over";switch(An.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return an?null:((0,vt.warn)(`Unsupported blend mode: ${An.name}`),"source-over")}function Jt(An){An.fn===vt.OPS.paintImageMaskXObject&&An.args[0]&&An.args[0].count>0&&An.args[0].count++}class Yt{static get TIME_SLOT_DURATION_MS(){return(0,vt.shadow)(this,"TIME_SLOT_DURATION_MS",20)}static get CHECK_TIME_EVERY(){return(0,vt.shadow)(this,"CHECK_TIME_EVERY",100)}constructor(){this.reset()}check(){return++this.checked<Yt.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+Yt.TIME_SLOT_DURATION_MS,this.checked=0}}class tn{constructor({xref:an,handler:fn,pageIndex:bn,idFactory:vn,fontCache:gn,builtInCMapCache:on,standardFontDataCache:wn,globalImageCache:pn,options:Cn=null}){this.xref=an,this.handler=fn,this.pageIndex=bn,this.idFactory=vn,this.fontCache=gn,this.builtInCMapCache=on,this.standardFontDataCache=wn,this.globalImageCache=pn,this.options=Cn||Ut,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}get _pdfFunctionFactory(){const an=new kt.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,vt.shadow)(this,"_pdfFunctionFactory",an)}clone(an=null){const fn=Object.create(this);return fn.options=Object.assign(Object.create(null),this.options,an),fn}hasBlendModes(an,fn){if(!(an instanceof Mt.Dict)||an.objId&&fn.has(an.objId))return!1;const bn=new Mt.RefSet(fn);an.objId&&bn.put(an.objId);const vn=[an],gn=this.xref;for(;vn.length;){const on=vn.shift(),wn=on.get("ExtGState");if(wn instanceof Mt.Dict)for(let Cn of wn.getRawValues()){if(Cn instanceof Mt.Ref){if(bn.has(Cn))continue;try{Cn=gn.fetch(Cn)}catch(Fn){bn.put(Cn),(0,vt.info)(`hasBlendModes - ignoring ExtGState: "${Fn}".`);continue}}if(!(Cn instanceof Mt.Dict))continue;Cn.objId&&bn.put(Cn.objId);const Tn=Cn.get("BM");if(Tn instanceof Mt.Name){if(Tn.name!=="Normal")return!0;continue}if(Tn!==void 0&&Array.isArray(Tn)){for(const Fn of Tn)if(Fn instanceof Mt.Name&&Fn.name!=="Normal")return!0}}const pn=on.get("XObject");if(pn instanceof Mt.Dict)for(let Cn of pn.getRawValues()){if(Cn instanceof Mt.Ref){if(bn.has(Cn))continue;try{Cn=gn.fetch(Cn)}catch(Fn){bn.put(Cn),(0,vt.info)(`hasBlendModes - ignoring XObject: "${Fn}".`);continue}}if(!(Cn instanceof Vt.BaseStream))continue;Cn.dict.objId&&bn.put(Cn.dict.objId);const Tn=Cn.dict.get("Resources");Tn instanceof Mt.Dict&&(Tn.objId&&bn.has(Tn.objId)||(vn.push(Tn),Tn.objId&&bn.put(Tn.objId)))}}for(const on of bn)fn.put(on);return!1}async fetchBuiltInCMap(an){const fn=this.builtInCMapCache.get(an);if(fn)return fn;let bn;if(this.options.cMapUrl!==null){const vn=`${this.options.cMapUrl}${an}.bcmap`,gn=await fetch(vn);if(!gn.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${vn}" with "${gn.statusText}".`);bn={cMapData:new Uint8Array(await gn.arrayBuffer()),compressionType:vt.CMapCompressionType.BINARY}}else bn=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:an});return bn.compressionType!==vt.CMapCompressionType.NONE&&this.builtInCMapCache.set(an,bn),bn}async fetchStandardFontData(an){const fn=this.standardFontDataCache.get(an);if(fn)return new Ot.Stream(fn);if(this.options.useSystemFonts&&an!=="Symbol"&&an!=="ZapfDingbats")return null;const bn=(0,_t.getFontNameToFileMap)(),vn=bn[an];let gn;if(this.options.standardFontDataUrl!==null){const on=`${this.options.standardFontDataUrl}${vn}`,wn=await fetch(on);wn.ok?gn=await wn.arrayBuffer():(0,vt.warn)(`fetchStandardFontData: failed to fetch file "${on}" with "${wn.statusText}".`)}else try{gn=await this.handler.sendWithPromise("FetchStandardFontData",{filename:vn})}catch(on){(0,vt.warn)(`fetchStandardFontData: failed to fetch file "${vn}" with "${on}".`)}return gn?(this.standardFontDataCache.set(an,gn),new Ot.Stream(gn)):null}async buildFormXObject(an,fn,bn,vn,gn,on,wn){const pn=fn.dict,Cn=pn.getArray("Matrix");let Tn=pn.getArray("BBox");Array.isArray(Tn)&&Tn.length===4?Tn=vt.Util.normalizeRect(Tn):Tn=null;let Fn,En;pn.has("OC")&&(Fn=await this.parseMarkedContentProps(pn.get("OC"),an)),Fn!==void 0&&vn.addOp(vt.OPS.beginMarkedContentProps,["OC",Fn]);const kn=pn.get("Group");if(kn){En={matrix:Cn,bbox:Tn,smask:bn,isolated:!1,knockout:!1};const _n=kn.get("S");let Mn=null;if((0,Mt.isName)(_n,"Transparency")&&(En.isolated=kn.get("I")||!1,En.knockout=kn.get("K")||!1,kn.has("CS"))){const On=kn.getRaw("CS"),jn=Wt.ColorSpace.getCached(On,this.xref,wn);jn?Mn=jn:Mn=await this.parseColorSpace({cs:On,resources:an,localColorSpaceCache:wn})}bn&&bn.backdrop&&(Mn=Mn||Wt.ColorSpace.singletons.rgb,bn.backdrop=Mn.getRgb(bn.backdrop,0)),vn.addOp(vt.OPS.beginGroup,[En])}const Pn=kn?[Cn,null]:[Cn,Tn];return vn.addOp(vt.OPS.paintFormXObjectBegin,Pn),this.getOperatorList({stream:fn,task:gn,resources:pn.get("Resources")||an,operatorList:vn,initialState:on}).then(function(){vn.addOp(vt.OPS.paintFormXObjectEnd,[]),kn&&vn.addOp(vt.OPS.endGroup,[En]),Fn!==void 0&&vn.addOp(vt.OPS.endMarkedContent,[])})}_sendImgData(an,fn,bn=!1){const vn=fn?[fn.bitmap||fn.data.buffer]:null;return this.parsingType3Font||bn?this.handler.send("commonobj",[an,"Image",fn],vn):this.handler.send("obj",[an,this.pageIndex,"Image",fn],vn)}async buildPaintImageXObject({resources:an,image:fn,isInline:bn=!1,operatorList:vn,cacheKey:gn,localImageCache:on,localColorSpaceCache:wn}){const pn=fn.dict,Cn=pn.objId,Tn=pn.get("W","Width"),Fn=pn.get("H","Height");if(!(Tn&&typeof Tn=="number")||!(Fn&&typeof Fn=="number")){(0,vt.warn)("Image dimensions are missing, or not numbers.");return}const En=this.options.maxImageSize;if(En!==-1&&Tn*Fn>En){const er="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,vt.warn)(er);return}throw new Error(er)}let kn;pn.has("OC")&&(kn=await this.parseMarkedContentProps(pn.get("OC"),an));const Pn=pn.get("IM","ImageMask")||!1;let _n,Mn;if(Pn){const er=pn.get("I","Interpolate"),cr=Tn+7>>3,rr=fn.getBytes(cr*Fn),tr=pn.getArray("D","Decode");if(this.parsingType3Font){_n=nn.PDFImage.createRawMask({imgArray:rr,width:Tn,height:Fn,imageIsFromDecodeStream:fn instanceof en.DecodeStream,inverseDecode:!!tr&&tr[0]>0,interpolate:er}),_n.cached=!!gn,Mn=[_n],vn.addImageOps(vt.OPS.paintImageMaskXObject,Mn,kn),gn&&on.set(gn,Cn,{fn:vt.OPS.paintImageMaskXObject,args:Mn,optionalContent:kn});return}if(_n=nn.PDFImage.createMask({imgArray:rr,width:Tn,height:Fn,imageIsFromDecodeStream:fn instanceof en.DecodeStream,inverseDecode:!!tr&&tr[0]>0,interpolate:er}),_n.isSingleOpaquePixel){vn.addImageOps(vt.OPS.paintSolidColorImageMask,[],kn),gn&&on.set(gn,Cn,{fn:vt.OPS.paintSolidColorImageMask,args:[],optionalContent:kn});return}const ir=`mask_${this.idFactory.createObjId()}`;vn.addDependency(ir),this._sendImgData(ir,_n),Mn=[{data:ir,width:_n.width,height:_n.height,interpolate:_n.interpolate,count:1}],vn.addImageOps(vt.OPS.paintImageMaskXObject,Mn,kn),gn&&on.set(gn,Cn,{fn:vt.OPS.paintImageMaskXObject,args:Mn,optionalContent:kn});return}const On=pn.get("SM","SMask")||!1,jn=pn.get("Mask")||!1;if(bn&&!On&&!jn&&Tn+Fn<200){_n=new nn.PDFImage({xref:this.xref,res:an,image:fn,isInline:bn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:wn}).createImageData(!0),vn.addImageOps(vt.OPS.paintInlineImageXObject,[_n],kn);return}let Gn=`img_${this.idFactory.createObjId()}`,Yn=!1;this.parsingType3Font?Gn=`${this.idFactory.getDocId()}_type3_${Gn}`:Cn&&(Yn=this.globalImageCache.shouldCache(Cn,this.pageIndex),Yn&&(Gn=`${this.idFactory.getDocId()}_${Gn}`)),vn.addDependency(Gn),Mn=[Gn,Tn,Fn],nn.PDFImage.buildImage({xref:this.xref,res:an,image:fn,isInline:bn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:wn}).then(er=>(_n=er.createImageData(!1),gn&&Cn&&Yn&&this.globalImageCache.addByteSize(Cn,_n.data.length),this._sendImgData(Gn,_n,Yn))).catch(er=>((0,vt.warn)(`Unable to decode image "${Gn}": "${er}".`),this._sendImgData(Gn,null,Yn))),vn.addImageOps(vt.OPS.paintImageXObject,Mn,kn),gn&&(on.set(gn,Cn,{fn:vt.OPS.paintImageXObject,args:Mn,optionalContent:kn}),Cn&&((0,vt.assert)(!bn,"Cannot cache an inline image globally."),this.globalImageCache.addPageIndex(Cn,this.pageIndex),Yn&&this.globalImageCache.setData(Cn,{objId:Gn,fn:vt.OPS.paintImageXObject,args:Mn,optionalContent:kn,byteSize:0})))}handleSMask(an,fn,bn,vn,gn,on){const wn=an.get("G"),pn={subtype:an.get("S").name,backdrop:an.get("BC")},Cn=an.get("TR");if((0,kt.isPDFFunction)(Cn)){const Tn=this._pdfFunctionFactory.create(Cn),Fn=new Uint8Array(256),En=new Float32Array(1);for(let kn=0;kn<256;kn++)En[0]=kn/255,Tn(En,0,En,0),Fn[kn]=En[0]*255|0;pn.transferMap=Fn}return this.buildFormXObject(fn,wn,pn,bn,vn,gn.state.clone(),on)}handleTransferFunction(an){let fn;if(Array.isArray(an))fn=an;else if((0,kt.isPDFFunction)(an))fn=[an];else return null;const bn=[];let vn=0,gn=0;for(const on of fn){const wn=this.xref.fetchIfRef(on);if(vn++,(0,Mt.isName)(wn,"Identity")){bn.push(null);continue}else if(!(0,kt.isPDFFunction)(wn))return null;const pn=this._pdfFunctionFactory.create(wn),Cn=new Uint8Array(256),Tn=new Float32Array(1);for(let Fn=0;Fn<256;Fn++)Tn[0]=Fn/255,pn(Tn,0,Tn,0),Cn[Fn]=Tn[0]*255|0;bn.push(Cn),gn++}return!(vn===1||vn===4)||gn===0?null:bn}handleTilingType(an,fn,bn,vn,gn,on,wn,pn){const Cn=new qt.OperatorList,Tn=Mt.Dict.merge({xref:this.xref,dictArray:[gn.get("Resources"),bn]});return this.getOperatorList({stream:vn,task:wn,resources:Tn,operatorList:Cn}).then(function(){const Fn=Cn.getIR(),En=(0,Rt.getTilingPatternIR)(Fn,gn,fn);on.addDependencies(Cn.dependencies),on.addOp(an,En),gn.objId&&pn.set(null,gn.objId,{operatorListIR:Fn,dict:gn})}).catch(Fn=>{if(!(Fn instanceof vt.AbortException)){if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:vt.UNSUPPORTED_FEATURES.errorTilingPattern}),(0,vt.warn)(`handleTilingType - ignoring pattern: "${Fn}".`);return}throw Fn}})}handleSetFont(an,fn,bn,vn,gn,on,wn=null,pn=null){const Cn=fn&&fn[0]instanceof Mt.Name?fn[0].name:null;return this.loadFont(Cn,bn,an,wn,pn).then(Tn=>Tn.font.isType3Font?Tn.loadType3Data(this,an,gn).then(function(){return vn.addDependencies(Tn.type3Dependencies),Tn}).catch(Fn=>(this.handler.send("UnsupportedFeature",{featureId:vt.UNSUPPORTED_FEATURES.errorFontLoadType3}),new un({loadedName:"g_font_error",font:new Pt.ErrorFont(`Type3 font load error: ${Fn}`),dict:Tn.font,evaluatorOptions:this.options}))):Tn).then(Tn=>(on.font=Tn.font,Tn.send(this.handler),Tn.loadedName))}handleText(an,fn){const bn=fn.font,vn=bn.charsToGlyphs(an);return bn.data&&(fn.textRenderingMode&vt.TextRenderingMode.ADD_TO_PATH_FLAG||fn.fillColorSpace.name==="Pattern"||bn.disableFontFace||this.options.disableFontFace)&&tn.buildFontPaths(bn,vn,this.handler,this.options),vn}ensureStateFont(an){if(an.font)return;const fn=new vt.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:vt.UNSUPPORTED_FEATURES.errorFontState}),(0,vt.warn)(`ensureStateFont: "${fn}".`);return}throw fn}async setGState({resources:an,gState:fn,operatorList:bn,cacheKey:vn,task:gn,stateManager:on,localGStateCache:wn,localColorSpaceCache:pn}){const Cn=fn.objId;let Tn=!0;const Fn=[],En=fn.getKeys();let kn=Promise.resolve();for(let Pn=0,_n=En.length;Pn<_n;Pn++){const Mn=En[Pn],On=fn.get(Mn);switch(Mn){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":Fn.push([Mn,On]);break;case"Font":Tn=!1,kn=kn.then(()=>this.handleSetFont(an,null,On[0],bn,gn,on.state).then(function(qn){bn.addDependency(qn),Fn.push([Mn,[qn,On[1]]])}));break;case"BM":Fn.push([Mn,Kt(On)]);break;case"SMask":if((0,Mt.isName)(On,"None")){Fn.push([Mn,!1]);break}On instanceof Mt.Dict?(Tn=!1,kn=kn.then(()=>this.handleSMask(On,an,bn,gn,on,pn)),Fn.push([Mn,!0])):(0,vt.warn)("Unsupported SMask type");break;case"TR":const jn=this.handleTransferFunction(On);Fn.push([Mn,jn]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,vt.info)("graphic state operator "+Mn);break;default:(0,vt.info)("Unknown graphic state operator "+Mn);break}}return kn.then(function(){Fn.length>0&&bn.addOp(vt.OPS.setGState,[Fn]),Tn&&wn.set(vn,Cn,Fn)})}loadFont(an,fn,bn,vn=null,gn=null){const on=async()=>new un({loadedName:"g_font_error",font:new Pt.ErrorFont(`Font "${an}" is not available.`),dict:fn,evaluatorOptions:this.options}),wn=this.xref;let pn;if(fn)fn instanceof Mt.Ref&&(pn=fn);else{const _n=bn.get("Font");_n&&(pn=_n.getRaw(an))}if(!pn){const _n=`Font "${an||fn&&fn.toString()}" is not available`;if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,vt.warn)(`${_n}.`),on();this.handler.send("UnsupportedFeature",{featureId:vt.UNSUPPORTED_FEATURES.errorFontMissing}),(0,vt.warn)(`${_n} -- attempting to fallback to a default font.`),vn?pn=vn:pn=tn.fallbackFontDict}if(this.parsingType3Font&&this.type3FontRefs.has(pn))return on();if(this.fontCache.has(pn))return this.fontCache.get(pn);if(fn=wn.fetchIfRef(pn),!(fn instanceof Mt.Dict))return on();if(fn.cacheKey&&this.fontCache.has(fn.cacheKey))return this.fontCache.get(fn.cacheKey);const Cn=(0,vt.createPromiseCapability)();let Tn;try{Tn=this.preEvaluateFont(fn),Tn.cssFontInfo=gn}catch(_n){return(0,vt.warn)(`loadFont - preEvaluateFont failed: "${_n}".`),on()}const{descriptor:Fn,hash:En}=Tn,kn=pn instanceof Mt.Ref;let Pn;if(kn&&(Pn=`f${pn.toString()}`),En&&Fn instanceof Mt.Dict){Fn.fontAliases||(Fn.fontAliases=Object.create(null));const _n=Fn.fontAliases;if(_n[En]){const Mn=_n[En].aliasRef;if(kn&&Mn&&this.fontCache.has(Mn))return this.fontCache.putAlias(pn,Mn),this.fontCache.get(pn)}else _n[En]={fontID:this.idFactory.createFontId()};kn&&(_n[En].aliasRef=pn),Pn=_n[En].fontID}return kn?this.fontCache.put(pn,Cn.promise):(Pn||(Pn=this.idFactory.createFontId()),fn.cacheKey=`cacheKey_${Pn}`,this.fontCache.put(fn.cacheKey,Cn.promise)),(0,vt.assert)(Pn&&Pn.startsWith("f"),'The "fontID" must be (correctly) defined.'),fn.loadedName=`${this.idFactory.getDocId()}_${Pn}`,this.translateFont(Tn).then(_n=>{_n.fontType!==void 0&&wn.stats.addFontType(_n.fontType),Cn.resolve(new un({loadedName:fn.loadedName,font:_n,dict:fn,evaluatorOptions:this.options}))}).catch(_n=>{this.handler.send("UnsupportedFeature",{featureId:vt.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,vt.warn)(`loadFont - translateFont failed: "${_n}".`);try{const Mn=Fn&&Fn.get("FontFile3"),On=Mn&&Mn.get("Subtype"),jn=(0,xt.getFontType)(Tn.type,On&&On.name);jn!==void 0&&wn.stats.addFontType(jn)}catch{}Cn.resolve(new un({loadedName:fn.loadedName,font:new Pt.ErrorFont(_n instanceof Error?_n.message:_n),dict:fn,evaluatorOptions:this.options}))}),Cn.promise}buildPath(an,fn,bn,vn=!1){const gn=an.length-1;bn||(bn=[]);let on;if(gn<0||an.fnArray[gn]!==vt.OPS.constructPath)vn&&((0,vt.warn)(`Encountered path operator "${fn}" inside of a text object.`),an.addOp(vt.OPS.save,null)),on=[1/0,-1/0,1/0,-1/0],an.addOp(vt.OPS.constructPath,[[fn],bn,on]),vn&&an.addOp(vt.OPS.restore,null);else{const wn=an.argsArray[gn];wn[0].push(fn),Array.prototype.push.apply(wn[1],bn),on=wn[2]}switch(fn){case vt.OPS.rectangle:on[0]=Math.min(on[0],bn[0],bn[0]+bn[2]),on[1]=Math.max(on[1],bn[0],bn[0]+bn[2]),on[2]=Math.min(on[2],bn[1],bn[1]+bn[3]),on[3]=Math.max(on[3],bn[1],bn[1]+bn[3]);break;case vt.OPS.moveTo:case vt.OPS.lineTo:on[0]=Math.min(on[0],bn[0]),on[1]=Math.max(on[1],bn[0]),on[2]=Math.min(on[2],bn[1]),on[3]=Math.max(on[3],bn[1]);break}}parseColorSpace({cs:an,resources:fn,localColorSpaceCache:bn}){return Wt.ColorSpace.parseAsync({cs:an,xref:this.xref,resources:fn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:bn}).catch(vn=>{if(vn instanceof vt.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:vt.UNSUPPORTED_FEATURES.errorColorSpace}),(0,vt.warn)(`parseColorSpace - ignoring ColorSpace: "${vn}".`),null;throw vn})}parseShading({shading:an,resources:fn,localColorSpaceCache:bn,localShadingPatternCache:vn}){let gn=vn.get(an);if(!gn){var on=Rt.Pattern.parseShading(an,this.xref,fn,this.handler,this._pdfFunctionFactory,bn);const wn=on.getIR();gn=`pattern_${this.idFactory.createObjId()}`,vn.set(an,gn),this.handler.send("obj",[gn,this.pageIndex,"Pattern",wn])}return gn}handleColorN(an,fn,bn,vn,gn,on,wn,pn,Cn,Tn){const Fn=bn.pop();if(Fn instanceof Mt.Name){const En=gn.getRaw(Fn.name),kn=En instanceof Mt.Ref&&Cn.getByRef(En);if(kn)try{const _n=vn.base?vn.base.getRgb(bn,0):null,Mn=(0,Rt.getTilingPatternIR)(kn.operatorListIR,kn.dict,_n);an.addOp(fn,Mn);return}catch{}const Pn=this.xref.fetchIfRef(En);if(Pn){const _n=Pn instanceof Vt.BaseStream?Pn.dict:Pn,Mn=_n.get("PatternType");if(Mn===zt.TILING){const On=vn.base?vn.base.getRgb(bn,0):null;return this.handleTilingType(fn,On,on,Pn,_n,an,wn,Cn)}else if(Mn===zt.SHADING){const On=_n.get("Shading"),jn=_n.getArray("Matrix"),qn=this.parseShading({shading:On,resources:on,localColorSpaceCache:pn,localShadingPatternCache:Tn});an.addOp(fn,["Shading",qn,jn]);return}throw new vt.FormatError(`Unknown PatternType: ${Mn}`)}}throw new vt.FormatError(`Unknown PatternName: ${Fn}`)}_parseVisibilityExpression(an,fn,bn){if(++fn>10){(0,vt.warn)("Visibility expression is too deeply nested");return}const gn=an.length,on=this.xref.fetchIfRef(an[0]);if(gn<2||!(on instanceof Mt.Name)){(0,vt.warn)("Invalid visibility expression");return}switch(on.name){case"And":case"Or":case"Not":bn.push(on.name);break;default:(0,vt.warn)(`Invalid operator ${on.name} in visibility expression`);return}for(let wn=1;wn<gn;wn++){const pn=an[wn],Cn=this.xref.fetchIfRef(pn);if(Array.isArray(Cn)){const Tn=[];bn.push(Tn),this._parseVisibilityExpression(Cn,fn,Tn)}else pn instanceof Mt.Ref&&bn.push(pn.toString())}}async parseMarkedContentProps(an,fn){let bn;if(an instanceof Mt.Name)bn=fn.get("Properties").get(an.name);else if(an instanceof Mt.Dict)bn=an;else throw new vt.FormatError("Optional content properties malformed.");const vn=bn.get("Type").name;if(vn==="OCG")return{type:vn,id:bn.objId};if(vn==="OCMD"){const gn=bn.get("VE");if(Array.isArray(gn)){const wn=[];if(this._parseVisibilityExpression(gn,0,wn),wn.length>0)return{type:"OCMD",expression:wn}}const on=bn.get("OCGs");if(Array.isArray(on)||on instanceof Mt.Dict){const wn=[];if(Array.isArray(on))for(const pn of on)wn.push(pn.toString());else wn.push(on.objId);return{type:vn,ids:wn,policy:bn.get("P")instanceof Mt.Name?bn.get("P").name:null,expression:null}}else if(on instanceof Mt.Ref)return{type:vn,id:on.toString()}}return null}getOperatorList({stream:an,task:fn,resources:bn,operatorList:vn,initialState:gn=null,fallbackFontDict:on=null}){if(bn=bn||Mt.Dict.empty,gn=gn||new rn,!vn)throw new Error('getOperatorList: missing "operatorList" parameter');const wn=this,pn=this.xref;let Cn=!1;const Tn=new Ht.LocalImageCache,Fn=new Ht.LocalColorSpaceCache,En=new Ht.LocalGStateCache,kn=new Ht.LocalTilingPatternCache,Pn=new Map,_n=bn.get("XObject")||Mt.Dict.empty,Mn=bn.get("Pattern")||Mt.Dict.empty,On=new yn(gn),jn=new dn(an,pn,On),qn=new Yt;function Gn(Yn){for(let er=0,cr=jn.savedStatesDepth;er<cr;er++)vn.addOp(vt.OPS.restore,[])}return new Promise(function Yn(er,cr){const rr=function(gr){Promise.all([gr,vn.ready]).then(function(){try{Yn(er,cr)}catch(Mr){cr(Mr)}},cr)};fn.ensureNotTerminated(),qn.reset();const tr={};let ir,Kn,Vn,Bn,lr,br;for(;!(ir=qn.check())&&(tr.args=null,!!jn.read(tr));){let gr=tr.args,Mr=tr.fn;switch(Mr|0){case vt.OPS.paintXObject:if(br=gr[0]instanceof Mt.Name,lr=gr[0].name,br){const pr=Tn.getByName(lr);if(pr){vn.addImageOps(pr.fn,pr.args,pr.optionalContent),Jt(pr),gr=null;continue}}rr(new Promise(function(pr,zr){if(!br)throw new vt.FormatError("XObject must be referred to by name.");let Rr=_n.getRaw(lr);if(Rr instanceof Mt.Ref){const Yr=Tn.getByRef(Rr);if(Yr){vn.addImageOps(Yr.fn,Yr.args,Yr.optionalContent),Jt(Yr),pr();return}const Jr=wn.globalImageCache.getData(Rr,wn.pageIndex);if(Jr){vn.addDependency(Jr.objId),vn.addImageOps(Jr.fn,Jr.args,Jr.optionalContent),pr();return}Rr=pn.fetch(Rr)}if(!(Rr instanceof Vt.BaseStream))throw new vt.FormatError("XObject should be a stream");const fs=Rr.dict.get("Subtype");if(!(fs instanceof Mt.Name))throw new vt.FormatError("XObject should have a Name subtype");if(fs.name==="Form"){On.save(),wn.buildFormXObject(bn,Rr,null,vn,fn,On.state.clone(),Fn).then(function(){On.restore(),pr()},zr);return}else if(fs.name==="Image"){wn.buildPaintImageXObject({resources:bn,image:Rr,operatorList:vn,cacheKey:lr,localImageCache:Tn,localColorSpaceCache:Fn}).then(pr,zr);return}else if(fs.name==="PS")(0,vt.info)("Ignored XObject subtype PS");else throw new vt.FormatError(`Unhandled XObject subtype ${fs.name}`);pr()}).catch(function(pr){if(!(pr instanceof vt.AbortException)){if(wn.options.ignoreErrors){wn.handler.send("UnsupportedFeature",{featureId:vt.UNSUPPORTED_FEATURES.errorXObject}),(0,vt.warn)(`getOperatorList - ignoring XObject: "${pr}".`);return}throw pr}}));return;case vt.OPS.setFont:var Pr=gr[1];rr(wn.handleSetFont(bn,gr,null,vn,fn,On.state,on).then(function(pr){vn.addDependency(pr),vn.addOp(vt.OPS.setFont,[pr,Pr])}));return;case vt.OPS.beginText:Cn=!0;break;case vt.OPS.endText:Cn=!1;break;case vt.OPS.endInlineImage:var nr=gr[0].cacheKey;if(nr){const pr=Tn.getByName(nr);if(pr){vn.addImageOps(pr.fn,pr.args,pr.optionalContent),Jt(pr),gr=null;continue}}rr(wn.buildPaintImageXObject({resources:bn,image:gr[0],isInline:!0,operatorList:vn,cacheKey:nr,localImageCache:Tn,localColorSpaceCache:Fn}));return;case vt.OPS.showText:if(!On.state.font){wn.ensureStateFont(On.state);continue}gr[0]=wn.handleText(gr[0],On.state);break;case vt.OPS.showSpacedText:if(!On.state.font){wn.ensureStateFont(On.state);continue}var _i=gr[0],zn=[],wr=_i.length,Cr=On.state;for(Kn=0;Kn<wr;++Kn){const pr=_i[Kn];typeof pr=="string"?Array.prototype.push.apply(zn,wn.handleText(pr,Cr)):typeof pr=="number"&&zn.push(pr)}gr[0]=zn,Mr=vt.OPS.showText;break;case vt.OPS.nextLineShowText:if(!On.state.font){wn.ensureStateFont(On.state);continue}vn.addOp(vt.OPS.nextLine),gr[0]=wn.handleText(gr[0],On.state),Mr=vt.OPS.showText;break;case vt.OPS.nextLineSetSpacingShowText:if(!On.state.font){wn.ensureStateFont(On.state);continue}vn.addOp(vt.OPS.nextLine),vn.addOp(vt.OPS.setWordSpacing,[gr.shift()]),vn.addOp(vt.OPS.setCharSpacing,[gr.shift()]),gr[0]=wn.handleText(gr[0],On.state),Mr=vt.OPS.showText;break;case vt.OPS.setTextRenderingMode:On.state.textRenderingMode=gr[0];break;case vt.OPS.setFillColorSpace:{const pr=Wt.ColorSpace.getCached(gr[0],pn,Fn);if(pr){On.state.fillColorSpace=pr;continue}rr(wn.parseColorSpace({cs:gr[0],resources:bn,localColorSpaceCache:Fn}).then(function(zr){zr&&(On.state.fillColorSpace=zr)}));return}case vt.OPS.setStrokeColorSpace:{const pr=Wt.ColorSpace.getCached(gr[0],pn,Fn);if(pr){On.state.strokeColorSpace=pr;continue}rr(wn.parseColorSpace({cs:gr[0],resources:bn,localColorSpaceCache:Fn}).then(function(zr){zr&&(On.state.strokeColorSpace=zr)}));return}case vt.OPS.setFillColor:Bn=On.state.fillColorSpace,gr=Bn.getRgb(gr,0),Mr=vt.OPS.setFillRGBColor;break;case vt.OPS.setStrokeColor:Bn=On.state.strokeColorSpace,gr=Bn.getRgb(gr,0),Mr=vt.OPS.setStrokeRGBColor;break;case vt.OPS.setFillGray:On.state.fillColorSpace=Wt.ColorSpace.singletons.gray,gr=Wt.ColorSpace.singletons.gray.getRgb(gr,0),Mr=vt.OPS.setFillRGBColor;break;case vt.OPS.setStrokeGray:On.state.strokeColorSpace=Wt.ColorSpace.singletons.gray,gr=Wt.ColorSpace.singletons.gray.getRgb(gr,0),Mr=vt.OPS.setStrokeRGBColor;break;case vt.OPS.setFillCMYKColor:On.state.fillColorSpace=Wt.ColorSpace.singletons.cmyk,gr=Wt.ColorSpace.singletons.cmyk.getRgb(gr,0),Mr=vt.OPS.setFillRGBColor;break;case vt.OPS.setStrokeCMYKColor:On.state.strokeColorSpace=Wt.ColorSpace.singletons.cmyk,gr=Wt.ColorSpace.singletons.cmyk.getRgb(gr,0),Mr=vt.OPS.setStrokeRGBColor;break;case vt.OPS.setFillRGBColor:On.state.fillColorSpace=Wt.ColorSpace.singletons.rgb,gr=Wt.ColorSpace.singletons.rgb.getRgb(gr,0);break;case vt.OPS.setStrokeRGBColor:On.state.strokeColorSpace=Wt.ColorSpace.singletons.rgb,gr=Wt.ColorSpace.singletons.rgb.getRgb(gr,0);break;case vt.OPS.setFillColorN:if(Bn=On.state.fillColorSpace,Bn.name==="Pattern"){rr(wn.handleColorN(vn,vt.OPS.setFillColorN,gr,Bn,Mn,bn,fn,Fn,kn,Pn));return}gr=Bn.getRgb(gr,0),Mr=vt.OPS.setFillRGBColor;break;case vt.OPS.setStrokeColorN:if(Bn=On.state.strokeColorSpace,Bn.name==="Pattern"){rr(wn.handleColorN(vn,vt.OPS.setStrokeColorN,gr,Bn,Mn,bn,fn,Fn,kn,Pn));return}gr=Bn.getRgb(gr,0),Mr=vt.OPS.setStrokeRGBColor;break;case vt.OPS.shadingFill:var yr=bn.get("Shading");if(!yr)throw new vt.FormatError("No shading resource found");var Br=yr.get(gr[0].name);if(!Br)throw new vt.FormatError("No shading object found");gr=[wn.parseShading({shading:Br,resources:bn,localColorSpaceCache:Fn,localShadingPatternCache:Pn})],Mr=vt.OPS.shadingFill;break;case vt.OPS.setGState:if(br=gr[0]instanceof Mt.Name,lr=gr[0].name,br){const pr=En.getByName(lr);if(pr){pr.length>0&&vn.addOp(vt.OPS.setGState,[pr]),gr=null;continue}}rr(new Promise(function(pr,zr){if(!br)throw new vt.FormatError("GState must be referred to by name.");const Rr=bn.get("ExtGState");if(!(Rr instanceof Mt.Dict))throw new vt.FormatError("ExtGState should be a dictionary.");const fs=Rr.get(lr);if(!(fs instanceof Mt.Dict))throw new vt.FormatError("GState should be a dictionary.");wn.setGState({resources:bn,gState:fs,operatorList:vn,cacheKey:lr,task:fn,stateManager:On,localGStateCache:En,localColorSpaceCache:Fn}).then(pr,zr)}).catch(function(pr){if(!(pr instanceof vt.AbortException)){if(wn.options.ignoreErrors){wn.handler.send("UnsupportedFeature",{featureId:vt.UNSUPPORTED_FEATURES.errorExtGState}),(0,vt.warn)(`getOperatorList - ignoring ExtGState: "${pr}".`);return}throw pr}}));return;case vt.OPS.moveTo:case vt.OPS.lineTo:case vt.OPS.curveTo:case vt.OPS.curveTo2:case vt.OPS.curveTo3:case vt.OPS.closePath:case vt.OPS.rectangle:wn.buildPath(vn,Mr,gr,Cn);continue;case vt.OPS.markPoint:case vt.OPS.markPointProps:case vt.OPS.beginCompat:case vt.OPS.endCompat:continue;case vt.OPS.beginMarkedContentProps:if(!(gr[0]instanceof Mt.Name)){(0,vt.warn)(`Expected name for beginMarkedContentProps arg0=${gr[0]}`);continue}if(gr[0].name==="OC"){rr(wn.parseMarkedContentProps(gr[1],bn).then(pr=>{vn.addOp(vt.OPS.beginMarkedContentProps,["OC",pr])}).catch(pr=>{if(!(pr instanceof vt.AbortException)){if(wn.options.ignoreErrors){wn.handler.send("UnsupportedFeature",{featureId:vt.UNSUPPORTED_FEATURES.errorMarkedContent}),(0,vt.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${pr}".`);return}throw pr}}));return}gr=[gr[0].name,gr[1]instanceof Mt.Dict?gr[1].get("MCID"):null];break;case vt.OPS.beginMarkedContent:case vt.OPS.endMarkedContent:default:if(gr!==null){for(Kn=0,Vn=gr.length;Kn<Vn&&!(gr[Kn]instanceof Mt.Dict);Kn++);if(Kn<Vn){(0,vt.warn)("getOperatorList - ignoring operator: "+Mr);continue}}}vn.addOp(Mr,gr)}if(ir){rr(ln);return}Gn(),er()}).catch(Yn=>{if(!(Yn instanceof vt.AbortException)){if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:vt.UNSUPPORTED_FEATURES.errorOperatorList}),(0,vt.warn)(`getOperatorList - ignoring errors during "${fn.name}" task: "${Yn}".`),Gn();return}throw Yn}})}getTextContent({stream:an,task:fn,resources:bn,stateManager:vn=null,combineTextItems:gn=!1,includeMarkedContent:on=!1,sink:wn,seenStyles:pn=new Set,viewBox:Cn}){bn=bn||Mt.Dict.empty,vn=vn||new yn(new xn);const Tn=(0,jt.getNormalizedUnicodes)(),Fn={items:[],styles:Object.create(null)},En={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},kn=[" "," "];let Pn=0;function _n(pr){const zr=(Pn+1)%2,Rr=kn[Pn]!==" "&&kn[zr]===" ";return kn[Pn]=pr,Pn=zr,Rr}function Mn(){kn[0]=kn[1]=" ",Pn=0}const On=.1,jn=.03,qn=-.2,Gn=.1,Yn=.6,er=this,cr=this.xref,rr=[];let tr=null;const ir=new Ht.LocalImageCache,Kn=new Ht.LocalGStateCache,Vn=new dn(an,cr,vn);let Bn;function lr(){const pr=Bn.font,zr=[Bn.fontSize*Bn.textHScale,0,0,Bn.fontSize,0,Bn.textRise];if(pr.isType3Font&&(Bn.fontSize<=1||pr.isCharBBox)&&!(0,vt.isArrayEqual)(Bn.fontMatrix,vt.FONT_IDENTITY_MATRIX)){const Rr=pr.bbox[3]-pr.bbox[1];Rr>0&&(zr[3]*=Rr*Bn.fontMatrix[3])}return vt.Util.transform(Bn.ctm,vt.Util.transform(Bn.textMatrix,zr))}function br(){if(En.initialized)return En;const pr=Bn.font,zr=pr.loadedName;pn.has(zr)||(pn.add(zr),Fn.styles[zr]={fontFamily:pr.fallbackName,ascent:pr.ascent,descent:pr.descent,vertical:pr.vertical}),En.fontName=zr;const Rr=En.transform=lr();pr.vertical?(En.width=En.totalWidth=Math.hypot(Rr[0],Rr[1]),En.height=En.totalHeight=0,En.vertical=!0):(En.width=En.totalWidth=0,En.height=En.totalHeight=Math.hypot(Rr[2],Rr[3]),En.vertical=!1);const fs=Math.hypot(Bn.textLineMatrix[0],Bn.textLineMatrix[1]),Yr=Math.hypot(Bn.ctm[0],Bn.ctm[1]);return En.textAdvanceScale=Yr*fs,En.trackingSpaceMin=Bn.fontSize*On,En.notASpace=Bn.fontSize*jn,En.negativeSpaceMax=Bn.fontSize*qn,En.spaceInFlowMin=Bn.fontSize*Gn,En.spaceInFlowMax=Bn.fontSize*Yn,En.hasEOL=!1,En.initialized=!0,En}function Pr(){if(!En.initialized)return;const pr=Math.hypot(Bn.textLineMatrix[0],Bn.textLineMatrix[1]),Rr=Math.hypot(Bn.ctm[0],Bn.ctm[1])*pr;Rr!==En.textAdvanceScale&&(En.vertical?(En.totalHeight+=En.height*En.textAdvanceScale,En.height=0):(En.totalWidth+=En.width*En.textAdvanceScale,En.width=0),En.textAdvanceScale=Rr)}function nr(pr){const zr=pr.str.join(""),Rr=(0,Gt.bidi)(zr,-1,pr.vertical);return{str:Rr.str,dir:Rr.dir,width:Math.abs(pr.totalWidth),height:Math.abs(pr.totalHeight),transform:pr.transform,fontName:pr.fontName,hasEOL:pr.hasEOL}}function _i(pr,zr){return er.loadFont(pr,zr,bn).then(function(Rr){return Rr.font.isType3Font?Rr.loadType3Data(er,bn,fn).catch(function(){}).then(function(){return Rr}):Rr}).then(function(Rr){Bn.font=Rr.font,Bn.fontMatrix=Rr.font.fontMatrix||vt.FONT_IDENTITY_MATRIX})}function zn(pr,zr,Rr){const fs=Math.hypot(Rr[0],Rr[1]);return[(Rr[0]*pr+Rr[1]*zr)/fs,(Rr[2]*pr+Rr[3]*zr)/fs]}function wr(){const pr=lr();let zr=pr[4],Rr=pr[5];const fs=zr-Cn[0],Yr=Rr-Cn[1];if(fs<0||fs>Cn[2]||Yr<0||Yr>Cn[3])return!1;if(!gn||!Bn.font||!En.prevTransform)return!0;let Jr=En.prevTransform[4],Ur=En.prevTransform[5];if(Jr===zr&&Ur===Rr)return!0;let Is=-1;switch(pr[0]&&pr[1]===0&&pr[2]===0?Is=pr[0]>0?0:180:pr[1]&&pr[0]===0&&pr[3]===0&&(Is=pr[1]>0?90:270),Is){case 0:break;case 90:[zr,Rr]=[Rr,zr],[Jr,Ur]=[Ur,Jr];break;case 180:[zr,Rr,Jr,Ur]=[-zr,-Rr,-Jr,-Ur];break;case 270:[zr,Rr]=[-Rr,-zr],[Jr,Ur]=[-Ur,-Jr];break;default:[zr,Rr]=zn(zr,Rr,pr),[Jr,Ur]=zn(Jr,Ur,En.prevTransform)}if(Bn.font.vertical){const xr=(Ur-Rr)/En.textAdvanceScale,vr=zr-Jr,Or=Math.sign(En.height);return xr<Or*En.negativeSpaceMax?Math.abs(vr)>.5*En.width?(yr(),!0):(Mn(),gr(),!0):Math.abs(vr)>En.width?(yr(),!0):(xr<=Or*En.notASpace&&Mn(),xr<=Or*En.trackingSpaceMin?En.height+=xr:Br(xr,En.prevTransform,Or)||(En.str.length===0?(Mn(),Fn.items.push({str:" ",dir:"ltr",width:0,height:Math.abs(xr),transform:En.prevTransform,fontName:En.fontName,hasEOL:!1})):En.height+=xr),!0)}const _s=(zr-Jr)/En.textAdvanceScale,mr=Rr-Ur,or=Math.sign(En.width);return _s<or*En.negativeSpaceMax?Math.abs(mr)>.5*En.height?(yr(),!0):(Mn(),gr(),!0):Math.abs(mr)>En.height?(yr(),!0):(_s<=or*En.notASpace&&Mn(),_s<=or*En.trackingSpaceMin?En.width+=_s:Br(_s,En.prevTransform,or)||(En.str.length===0?(Mn(),Fn.items.push({str:" ",dir:"ltr",width:Math.abs(_s),height:0,transform:En.prevTransform,fontName:En.fontName,hasEOL:!1})):En.width+=_s),!0)}function Cr({chars:pr,extraSpacing:zr}){const Rr=Bn.font;if(!pr){const Jr=Bn.charSpacing+zr;Jr&&(Rr.vertical?Bn.translateTextMatrix(0,-Jr):Bn.translateTextMatrix(Jr*Bn.textHScale,0));return}const fs=Rr.charsToGlyphs(pr),Yr=Bn.fontMatrix[0]*Bn.fontSize;for(let Jr=0,Ur=fs.length;Jr<Ur;Jr++){const Is=fs[Jr];if(Is.isInvisibleFormatMark)continue;let _s=Bn.charSpacing+(Jr+1===Ur?zr:0),mr=Is.width;Rr.vertical&&(mr=Is.vmetric?Is.vmetric[0]:-mr);let or=mr*Yr;if(Is.isWhitespace){Rr.vertical?(_s+=-or+Bn.wordSpacing,Bn.translateTextMatrix(0,-_s)):(_s+=or+Bn.wordSpacing,Bn.translateTextMatrix(_s*Bn.textHScale,0)),_n(" ");continue}if(!wr())continue;const xr=br();Is.isZeroWidthDiacritic&&(or=0),Rr.vertical?(Bn.translateTextMatrix(0,or),or=Math.abs(or),xr.height+=or):(or*=Bn.textHScale,Bn.translateTextMatrix(or,0),xr.width+=or),or&&(xr.prevTransform=lr());let vr=Is.unicode;vr=Tn[vr]||vr,vr=(0,jt.reverseIfRtl)(vr),_n(vr)&&xr.str.push(" "),xr.str.push(vr),_s&&(Rr.vertical?Bn.translateTextMatrix(0,-_s):Bn.translateTextMatrix(_s*Bn.textHScale,0))}}function yr(){Mn(),En.initialized?(En.hasEOL=!0,gr()):Fn.items.push({str:"",dir:"ltr",width:0,height:0,transform:lr(),fontName:Bn.font.loadedName,hasEOL:!0})}function Br(pr,zr,Rr){if(Rr*En.spaceInFlowMin<=pr&&pr<=Rr*En.spaceInFlowMax)return En.initialized&&(Mn(),En.str.push(" ")),!1;const fs=En.fontName;let Yr=0;return En.vertical&&(Yr=pr,pr=0),gr(),Mn(),Fn.items.push({str:" ",dir:"ltr",width:Math.abs(pr),height:Math.abs(Yr),transform:zr||lr(),fontName:fs,hasEOL:!1}),!0}function gr(){!En.initialized||!En.str||(En.vertical?En.totalHeight+=En.height*En.textAdvanceScale:En.totalWidth+=En.width*En.textAdvanceScale,Fn.items.push(nr(En)),En.initialized=!1,En.str.length=0)}function Mr(pr=!1){const zr=Fn.items.length;zr!==0&&(pr&&zr<cn||(wn.enqueue(Fn,zr),Fn.items=[],Fn.styles=Object.create(null)))}const qr=new Yt;return new Promise(function pr(zr,Rr){const fs=function(xr){Mr(!0),Promise.all([xr,wn.ready]).then(function(){try{pr(zr,Rr)}catch(vr){Rr(vr)}},Rr)};fn.ensureNotTerminated(),qr.reset();const Yr={};let Jr,Ur=[];for(;!(Jr=qr.check())&&(Ur.length=0,Yr.args=Ur,!!Vn.read(Yr));){Bn=vn.state;const xr=Yr.fn;switch(Ur=Yr.args,xr|0){case vt.OPS.setFont:var Is=Ur[0].name,_s=Ur[1];if(Bn.font&&Is===Bn.fontName&&_s===Bn.fontSize)break;gr(),Bn.fontName=Is,Bn.fontSize=_s,fs(_i(Is,null));return;case vt.OPS.setTextRise:Bn.textRise=Ur[0];break;case vt.OPS.setHScale:Bn.textHScale=Ur[0]/100;break;case vt.OPS.setLeading:Bn.leading=Ur[0];break;case vt.OPS.moveText:Bn.translateTextLineMatrix(Ur[0],Ur[1]),Bn.textMatrix=Bn.textLineMatrix.slice();break;case vt.OPS.setLeadingMoveText:Bn.leading=-Ur[1],Bn.translateTextLineMatrix(Ur[0],Ur[1]),Bn.textMatrix=Bn.textLineMatrix.slice();break;case vt.OPS.nextLine:Bn.carriageReturn();break;case vt.OPS.setTextMatrix:Bn.setTextMatrix(Ur[0],Ur[1],Ur[2],Ur[3],Ur[4],Ur[5]),Bn.setTextLineMatrix(Ur[0],Ur[1],Ur[2],Ur[3],Ur[4],Ur[5]),Pr();break;case vt.OPS.setCharSpacing:Bn.charSpacing=Ur[0];break;case vt.OPS.setWordSpacing:Bn.wordSpacing=Ur[0];break;case vt.OPS.beginText:Bn.textMatrix=vt.IDENTITY_MATRIX.slice(),Bn.textLineMatrix=vt.IDENTITY_MATRIX.slice();break;case vt.OPS.showSpacedText:if(!vn.state.font){er.ensureStateFont(vn.state);continue}const vr=(Bn.font.vertical?1:-1)*Bn.fontSize/1e3,Or=Ur[0];for(let Ir=0,kr=Or.length;Ir<kr-1;Ir++){const $r=Or[Ir];if(typeof $r=="string")rr.push($r);else if(typeof $r=="number"&&$r!==0){const Hr=rr.join("");rr.length=0,Cr({chars:Hr,extraSpacing:$r*vr})}}const Gr=Or.at(-1);if(typeof Gr=="string"&&rr.push(Gr),rr.length>0){const Ir=rr.join("");rr.length=0,Cr({chars:Ir,extraSpacing:0})}break;case vt.OPS.showText:if(!vn.state.font){er.ensureStateFont(vn.state);continue}Cr({chars:Ur[0],extraSpacing:0});break;case vt.OPS.nextLineShowText:if(!vn.state.font){er.ensureStateFont(vn.state);continue}Bn.carriageReturn(),Cr({chars:Ur[0],extraSpacing:0});break;case vt.OPS.nextLineSetSpacingShowText:if(!vn.state.font){er.ensureStateFont(vn.state);continue}Bn.wordSpacing=Ur[0],Bn.charSpacing=Ur[1],Bn.carriageReturn(),Cr({chars:Ur[2],extraSpacing:0});break;case vt.OPS.paintXObject:gr(),tr||(tr=bn.get("XObject")||Mt.Dict.empty);var mr=Ur[0]instanceof Mt.Name,or=Ur[0].name;if(mr&&ir.getByName(or))break;fs(new Promise(function(Ir,kr){if(!mr)throw new vt.FormatError("XObject must be referred to by name.");let $r=tr.getRaw(or);if($r instanceof Mt.Ref){if(ir.getByRef($r)){Ir();return}if(er.globalImageCache.getData($r,er.pageIndex)){Ir();return}$r=cr.fetch($r)}if(!($r instanceof Vt.BaseStream))throw new vt.FormatError("XObject should be a stream");const Hr=$r.dict.get("Subtype");if(!(Hr instanceof Mt.Name))throw new vt.FormatError("XObject should have a Name subtype");if(Hr.name!=="Form"){ir.set(or,$r.dict.objId,!0),Ir();return}const us=vn.state.clone(),rs=new yn(us),Xr=$r.dict.getArray("Matrix");Array.isArray(Xr)&&Xr.length===6&&rs.transform(Xr),Mr();const Qn={enqueueInvoked:!1,enqueue(sr,fr){this.enqueueInvoked=!0,wn.enqueue(sr,fr)},get desiredSize(){return wn.desiredSize},get ready(){return wn.ready}};er.getTextContent({stream:$r,task:fn,resources:$r.dict.get("Resources")||bn,stateManager:rs,combineTextItems:gn,includeMarkedContent:on,sink:Qn,seenStyles:pn,viewBox:Cn}).then(function(){Qn.enqueueInvoked||ir.set(or,$r.dict.objId,!0),Ir()},kr)}).catch(function(Ir){if(!(Ir instanceof vt.AbortException)){if(er.options.ignoreErrors){(0,vt.warn)(`getTextContent - ignoring XObject: "${Ir}".`);return}throw Ir}}));return;case vt.OPS.setGState:if(mr=Ur[0]instanceof Mt.Name,or=Ur[0].name,mr&&Kn.getByName(or))break;fs(new Promise(function(Ir,kr){if(!mr)throw new vt.FormatError("GState must be referred to by name.");const $r=bn.get("ExtGState");if(!($r instanceof Mt.Dict))throw new vt.FormatError("ExtGState should be a dictionary.");const Hr=$r.get(or);if(!(Hr instanceof Mt.Dict))throw new vt.FormatError("GState should be a dictionary.");const us=Hr.get("Font");if(!us){Kn.set(or,Hr.objId,!0),Ir();return}gr(),Bn.fontName=null,Bn.fontSize=us[1],_i(null,us[0]).then(Ir,kr)}).catch(function(Ir){if(!(Ir instanceof vt.AbortException)){if(er.options.ignoreErrors){(0,vt.warn)(`getTextContent - ignoring ExtGState: "${Ir}".`);return}throw Ir}}));return;case vt.OPS.beginMarkedContent:gr(),on&&Fn.items.push({type:"beginMarkedContent",tag:Ur[0]instanceof Mt.Name?Ur[0].name:null});break;case vt.OPS.beginMarkedContentProps:if(gr(),on){let Ir=null;Ur[1]instanceof Mt.Dict&&(Ir=Ur[1].get("MCID")),Fn.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Ir)?`${er.idFactory.getPageObjId()}_mcid${Ir}`:null,tag:Ur[0]instanceof Mt.Name?Ur[0].name:null})}break;case vt.OPS.endMarkedContent:gr(),on&&Fn.items.push({type:"endMarkedContent"});break}if(Fn.items.length>=wn.desiredSize){Jr=!0;break}}if(Jr){fs(ln);return}gr(),Mr(),zr()}).catch(pr=>{if(!(pr instanceof vt.AbortException)){if(this.options.ignoreErrors){(0,vt.warn)(`getTextContent - ignoring errors during "${fn.name}" task: "${pr}".`),gr(),Mr();return}throw pr}})}extractDataStructures(an,fn,bn){const vn=this.xref;let gn;const on=this.readToUnicode(bn.toUnicode||an.get("ToUnicode")||fn.get("ToUnicode"));if(bn.composite){const Tn=an.get("CIDSystemInfo");Tn instanceof Mt.Dict&&(bn.cidSystemInfo={registry:(0,vt.stringToPDFString)(Tn.get("Registry")),ordering:(0,vt.stringToPDFString)(Tn.get("Ordering")),supplement:Tn.get("Supplement")});try{const Fn=an.get("CIDToGIDMap");Fn instanceof Vt.BaseStream&&(gn=Fn.getBytes())}catch(Fn){if(!this.options.ignoreErrors)throw Fn;(0,vt.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${Fn}".`)}}const wn=[];let pn=null,Cn;if(an.has("Encoding")){if(Cn=an.get("Encoding"),Cn instanceof Mt.Dict){if(pn=Cn.get("BaseEncoding"),pn=pn instanceof Mt.Name?pn.name:null,Cn.has("Differences")){const Tn=Cn.get("Differences");let Fn=0;for(let En=0,kn=Tn.length;En<kn;En++){const Pn=vn.fetchIfRef(Tn[En]);if(typeof Pn=="number")Fn=Pn;else if(Pn instanceof Mt.Name)wn[Fn++]=Pn.name;else throw new vt.FormatError(`Invalid entry in 'Differences' array: ${Pn}`)}}}else if(Cn instanceof Mt.Name)pn=Cn.name;else{const Tn="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new vt.FormatError(Tn);(0,vt.warn)(Tn)}pn!=="MacRomanEncoding"&&pn!=="MacExpertEncoding"&&pn!=="WinAnsiEncoding"&&(pn=null)}if(pn)bn.defaultEncoding=(0,$t.getEncoding)(pn);else{const Tn=!!(bn.flags&xt.FontFlags.Symbolic),Fn=!!(bn.flags&xt.FontFlags.Nonsymbolic);Cn=$t.StandardEncoding,bn.type==="TrueType"&&!Fn&&(Cn=$t.WinAnsiEncoding),Tn&&(Cn=$t.MacRomanEncoding,(!bn.file||bn.isInternalFont)&&(/Symbol/i.test(bn.name)?Cn=$t.SymbolSetEncoding:/Dingbats|Wingdings/i.test(bn.name)&&(Cn=$t.ZapfDingbatsEncoding))),bn.defaultEncoding=Cn}return bn.differences=wn,bn.baseEncodingName=pn,bn.hasEncoding=!!pn||wn.length>0,bn.dict=an,on.then(Tn=>(bn.toUnicode=Tn,this.buildToUnicode(bn))).then(Tn=>(bn.toUnicode=Tn,gn&&(bn.cidToGidMap=this.readCidToGidMap(gn,Tn)),bn))}_simpleFontToUnicode(an,fn=!1){(0,vt.assert)(!an.composite,"Must be a simple font.");const bn=[],vn=an.defaultEncoding.slice(),gn=an.baseEncodingName,on=an.differences;for(const pn in on){const Cn=on[pn];Cn!==".notdef"&&(vn[pn]=Cn)}const wn=(0,Sn.getGlyphsUnicode)();for(const pn in vn){let Cn=vn[pn];if(Cn!==""){if(wn[Cn]===void 0){let Tn=0;switch(Cn[0]){case"G":Cn.length===3&&(Tn=parseInt(Cn.substring(1),16));break;case"g":Cn.length===5&&(Tn=parseInt(Cn.substring(1),16));break;case"C":case"c":if(Cn.length>=3&&Cn.length<=4){const En=Cn.substring(1);if(fn){Tn=parseInt(En,16);break}if(Tn=+En,Number.isNaN(Tn)&&Number.isInteger(parseInt(En,16)))return this._simpleFontToUnicode(an,!0)}break;default:const Fn=(0,jt.getUnicodeForGlyph)(Cn,wn);Fn!==-1&&(Tn=Fn)}if(Tn>0&&Tn<=1114111&&Number.isInteger(Tn)){if(gn&&Tn===+pn){const Fn=(0,$t.getEncoding)(gn);if(Fn&&(Cn=Fn[pn])){bn[pn]=String.fromCharCode(wn[Cn]);continue}}bn[pn]=String.fromCodePoint(Tn)}continue}bn[pn]=String.fromCharCode(wn[Cn])}}return bn}async buildToUnicode(an){if(an.hasIncludedToUnicodeMap=!!an.toUnicode&&an.toUnicode.length>0,an.hasIncludedToUnicodeMap)return!an.composite&&an.hasEncoding&&(an.fallbackToUnicode=this._simpleFontToUnicode(an)),an.toUnicode;if(!an.composite)return new Lt.ToUnicodeMap(this._simpleFontToUnicode(an));if(an.composite&&(an.cMap.builtInCMap&&!(an.cMap instanceof Et.IdentityCMap)||an.cidSystemInfo.registry==="Adobe"&&(an.cidSystemInfo.ordering==="GB1"||an.cidSystemInfo.ordering==="CNS1"||an.cidSystemInfo.ordering==="Japan1"||an.cidSystemInfo.ordering==="Korea1"))){const{registry:fn,ordering:bn}=an.cidSystemInfo,vn=Mt.Name.get(`${fn}-${bn}-UCS2`),gn=await Et.CMapFactory.create({encoding:vn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),on=[];return an.cMap.forEach(function(wn,pn){if(pn>65535)throw new vt.FormatError("Max size of CID is 65,535");const Cn=gn.lookup(pn);Cn&&(on[wn]=String.fromCharCode((Cn.charCodeAt(0)<<8)+Cn.charCodeAt(1)))}),new Lt.ToUnicodeMap(on)}return new Lt.IdentityToUnicodeMap(an.firstChar,an.lastChar)}readToUnicode(an){return an?an instanceof Mt.Name?Et.CMapFactory.create({encoding:an,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(fn){return fn instanceof Et.IdentityCMap?new Lt.IdentityToUnicodeMap(0,65535):new Lt.ToUnicodeMap(fn.getMap())}):an instanceof Vt.BaseStream?Et.CMapFactory.create({encoding:an,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(fn){if(fn instanceof Et.IdentityCMap)return new Lt.IdentityToUnicodeMap(0,65535);const bn=new Array(fn.length);return fn.forEach(function(vn,gn){if(typeof gn=="number"){bn[vn]=String.fromCodePoint(gn);return}const on=[];for(let wn=0;wn<gn.length;wn+=2){const pn=gn.charCodeAt(wn)<<8|gn.charCodeAt(wn+1);if((pn&63488)!==55296){on.push(pn);continue}wn+=2;const Cn=gn.charCodeAt(wn)<<8|gn.charCodeAt(wn+1);on.push(((pn&1023)<<10)+(Cn&1023)+65536)}bn[vn]=String.fromCodePoint(...on)}),new Lt.ToUnicodeMap(bn)},fn=>{if(fn instanceof vt.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:vt.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,vt.warn)(`readToUnicode - ignoring ToUnicode data: "${fn}".`),null;throw fn}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(an,fn){const bn=[];for(let vn=0,gn=an.length;vn<gn;vn++){const on=an[vn++]<<8|an[vn],wn=vn>>1;on===0&&!fn.has(wn)||(bn[wn]=on)}return bn}extractWidths(an,fn,bn){const vn=this.xref;let gn=[],on=0;const wn=[];let pn,Cn,Tn,Fn,En,kn,Pn,_n;if(bn.composite){if(on=an.has("DW")?an.get("DW"):1e3,_n=an.get("W"),_n)for(Cn=0,Tn=_n.length;Cn<Tn;Cn++)if(kn=vn.fetchIfRef(_n[Cn++]),Pn=vn.fetchIfRef(_n[Cn]),Array.isArray(Pn))for(Fn=0,En=Pn.length;Fn<En;Fn++)gn[kn++]=vn.fetchIfRef(Pn[Fn]);else{const jn=vn.fetchIfRef(_n[++Cn]);for(Fn=kn;Fn<=Pn;Fn++)gn[Fn]=jn}if(bn.vertical){let jn=an.getArray("DW2")||[880,-1e3];if(pn=[jn[1],on*.5,jn[0]],jn=an.get("W2"),jn)for(Cn=0,Tn=jn.length;Cn<Tn;Cn++)if(kn=vn.fetchIfRef(jn[Cn++]),Pn=vn.fetchIfRef(jn[Cn]),Array.isArray(Pn))for(Fn=0,En=Pn.length;Fn<En;Fn++)wn[kn++]=[vn.fetchIfRef(Pn[Fn++]),vn.fetchIfRef(Pn[Fn++]),vn.fetchIfRef(Pn[Fn])];else{const qn=[vn.fetchIfRef(jn[++Cn]),vn.fetchIfRef(jn[++Cn]),vn.fetchIfRef(jn[++Cn])];for(Fn=kn;Fn<=Pn;Fn++)wn[Fn]=qn}}}else{const jn=bn.firstChar;if(_n=an.get("Widths"),_n){for(Fn=jn,Cn=0,Tn=_n.length;Cn<Tn;Cn++)gn[Fn++]=vn.fetchIfRef(_n[Cn]);on=parseFloat(fn.get("MissingWidth"))||0}else{const qn=an.get("BaseFont");if(qn instanceof Mt.Name){const Gn=this.getBaseFontMetrics(qn.name);gn=this.buildCharCodeToWidth(Gn.widths,bn),on=Gn.defaultWidth}}}let Mn=!0,On=on;for(const jn in gn){const qn=gn[jn];if(qn){if(!On){On=qn;continue}if(On!==qn){Mn=!1;break}}}Mn&&(bn.flags|=xt.FontFlags.FixedPitch),bn.defaultWidth=on,bn.widths=gn,bn.defaultVMetrics=pn,bn.vmetrics=wn}isSerifFont(an){const fn=an.split("-")[0];return fn in(0,_t.getSerifFonts)()||fn.search(/serif/gi)!==-1}getBaseFontMetrics(an){let fn=0,bn=Object.create(null),vn=!1,on=(0,_t.getStdFontMap)()[an]||an;const wn=(0,hn.getMetrics)();on in wn||(this.isSerifFont(an)?on="Times-Roman":on="Helvetica");const pn=wn[on];return typeof pn=="number"?(fn=pn,vn=!0):bn=pn(),{defaultWidth:fn,monospace:vn,widths:bn}}buildCharCodeToWidth(an,fn){const bn=Object.create(null),vn=fn.differences,gn=fn.defaultEncoding;for(let on=0;on<256;on++){if(on in vn&&an[vn[on]]){bn[on]=an[vn[on]];continue}if(on in gn&&an[gn[on]]){bn[on]=an[gn[on]];continue}}return bn}preEvaluateFont(an){const fn=an;let bn=an.get("Subtype");if(!(bn instanceof Mt.Name))throw new vt.FormatError("invalid font Subtype");let vn=!1,gn,on;if(bn.name==="Type0"){const Tn=an.get("DescendantFonts");if(!Tn)throw new vt.FormatError("Descendant fonts are not specified");if(an=Array.isArray(Tn)?this.xref.fetchIfRef(Tn[0]):Tn,!(an instanceof Mt.Dict))throw new vt.FormatError("Descendant font is not a dictionary.");if(bn=an.get("Subtype"),!(bn instanceof Mt.Name))throw new vt.FormatError("invalid font Subtype");vn=!0}const wn=an.get("FirstChar")||0,pn=an.get("LastChar")||(vn?65535:255),Cn=an.get("FontDescriptor");if(Cn){gn=new Qt.MurmurHash3_64;const Tn=fn.getRaw("Encoding");if(Tn instanceof Mt.Name)gn.update(Tn.name);else if(Tn instanceof Mt.Ref)gn.update(Tn.toString());else if(Tn instanceof Mt.Dict){for(const En of Tn.getRawValues())if(En instanceof Mt.Name)gn.update(En.name);else if(En instanceof Mt.Ref)gn.update(En.toString());else if(Array.isArray(En)){const kn=En.length,Pn=new Array(kn);for(let _n=0;_n<kn;_n++){const Mn=En[_n];Mn instanceof Mt.Name?Pn[_n]=Mn.name:(typeof Mn=="number"||Mn instanceof Mt.Ref)&&(Pn[_n]=Mn.toString())}gn.update(Pn.join())}}if(gn.update(`${wn}-${pn}`),on=an.get("ToUnicode")||fn.get("ToUnicode"),on instanceof Vt.BaseStream){const En=on.str||on,kn=En.buffer?new Uint8Array(En.buffer.buffer,0,En.bufferLength):new Uint8Array(En.bytes.buffer,En.start,En.end-En.start);gn.update(kn)}else on instanceof Mt.Name&&gn.update(on.name);const Fn=an.get("Widths")||fn.get("Widths");if(Array.isArray(Fn)){const En=[];for(const kn of Fn)(typeof kn=="number"||kn instanceof Mt.Ref)&&En.push(kn.toString());gn.update(En.join())}if(vn){gn.update("compositeFont");const En=an.get("W")||fn.get("W");if(Array.isArray(En)){const Pn=[];for(const _n of En)if(typeof _n=="number"||_n instanceof Mt.Ref)Pn.push(_n.toString());else if(Array.isArray(_n)){const Mn=[];for(const On of _n)(typeof On=="number"||On instanceof Mt.Ref)&&Mn.push(On.toString());Pn.push(`[${Mn.join()}]`)}gn.update(Pn.join())}const kn=an.getRaw("CIDToGIDMap")||fn.getRaw("CIDToGIDMap");kn instanceof Mt.Name?gn.update(kn.name):kn instanceof Mt.Ref?gn.update(kn.toString()):kn instanceof Vt.BaseStream&&gn.update(kn.peekBytes())}}return{descriptor:Cn,dict:an,baseDict:fn,composite:vn,type:bn.name,firstChar:wn,lastChar:pn,toUnicode:on,hash:gn?gn.hexdigest():""}}async translateFont({descriptor:an,dict:fn,baseDict:bn,composite:vn,type:gn,firstChar:on,lastChar:wn,toUnicode:pn,cssFontInfo:Cn}){const Tn=gn==="Type3";let Fn;if(!an)if(Tn)an=new Mt.Dict(null),an.set("FontName",Mt.Name.get(gn)),an.set("FontBBox",fn.getArray("FontBBox")||[0,0,0,0]);else{let er=fn.get("BaseFont");if(!(er instanceof Mt.Name))throw new vt.FormatError("Base font is not specified");er=er.name.replace(/[,_]/g,"-");const cr=this.getBaseFontMetrics(er),rr=er.split("-")[0],tr=(this.isSerifFont(rr)?xt.FontFlags.Serif:0)|(cr.monospace?xt.FontFlags.FixedPitch:0)|((0,_t.getSymbolsFonts)()[rr]?xt.FontFlags.Symbolic:xt.FontFlags.Nonsymbolic);Fn={type:gn,name:er,loadedName:bn.loadedName,widths:cr.widths,defaultWidth:cr.defaultWidth,isSimulatedFlags:!0,flags:tr,firstChar:on,lastChar:wn,toUnicode:pn,xHeight:0,capHeight:0,italicAngle:0,isType3Font:Tn};const ir=fn.get("Widths"),Kn=(0,_t.getStandardFontName)(er);let Vn=null;return Kn&&(Fn.isStandardFont=!0,Vn=await this.fetchStandardFontData(Kn),Fn.isInternalFont=!!Vn),this.extractDataStructures(fn,fn,Fn).then(Bn=>{if(ir){const lr=[];let br=on;for(let Pr=0,nr=ir.length;Pr<nr;Pr++)lr[br++]=this.xref.fetchIfRef(ir[Pr]);Bn.widths=lr}else Bn.widths=this.buildCharCodeToWidth(cr.widths,Bn);return new Pt.Font(er,Vn,Bn)})}let En=an.get("FontName"),kn=fn.get("BaseFont");if(typeof En=="string"&&(En=Mt.Name.get(En)),typeof kn=="string"&&(kn=Mt.Name.get(kn)),!Tn){const er=En&&En.name,cr=kn&&kn.name;er!==cr&&((0,vt.info)(`The FontDescriptor's FontName is "${er}" but should be the same as the Font's BaseFont "${cr}".`),er&&cr&&cr.startsWith(er)&&(En=kn))}if(En=En||kn,!(En instanceof Mt.Name))throw new vt.FormatError("invalid font name");let Pn,_n,Mn,On,jn;try{Pn=an.get("FontFile","FontFile2","FontFile3")}catch(er){if(!this.options.ignoreErrors)throw er;(0,vt.warn)(`translateFont - fetching "${En.name}" font file: "${er}".`),Pn=new Ot.NullStream}let qn=!1,Gn=!1,Yn=null;if(Pn){if(Pn.dict){const er=Pn.dict.get("Subtype");er instanceof Mt.Name&&(_n=er.name),Mn=Pn.dict.get("Length1"),On=Pn.dict.get("Length2"),jn=Pn.dict.get("Length3")}}else if(Cn){const er=(0,Nt.getXfaFontName)(En.name);er&&(Cn.fontFamily=`${Cn.fontFamily}-PdfJS-XFA`,Cn.metrics=er.metrics||null,Yn=er.factors||null,Pn=await this.fetchStandardFontData(er.name),Gn=!!Pn,bn=fn=(0,Nt.getXfaFontDict)(En.name),vn=!0)}else if(!Tn){const er=(0,_t.getStandardFontName)(En.name);er&&(qn=!0,Pn=await this.fetchStandardFontData(er),Gn=!!Pn)}if(Fn={type:gn,name:En.name,subtype:_n,file:Pn,length1:Mn,length2:On,length3:jn,isStandardFont:qn,isInternalFont:Gn,loadedName:bn.loadedName,composite:vn,fixedPitch:!1,fontMatrix:fn.getArray("FontMatrix")||vt.FONT_IDENTITY_MATRIX,firstChar:on,lastChar:wn,toUnicode:pn,bbox:an.getArray("FontBBox")||fn.getArray("FontBBox"),ascent:an.get("Ascent"),descent:an.get("Descent"),xHeight:an.get("XHeight")||0,capHeight:an.get("CapHeight")||0,flags:an.get("Flags"),italicAngle:an.get("ItalicAngle")||0,isType3Font:Tn,cssFontInfo:Cn,scaleFactors:Yn},vn){const er=bn.get("Encoding");er instanceof Mt.Name&&(Fn.cidEncoding=er.name);const cr=await Et.CMapFactory.create({encoding:er,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Fn.cMap=cr,Fn.vertical=Fn.cMap.vertical}return this.extractDataStructures(fn,bn,Fn).then(er=>(this.extractWidths(fn,an,er),new Pt.Font(En.name,Pn,er)))}static buildFontPaths(an,fn,bn,vn){function gn(on){const wn=`${an.loadedName}_path_${on}`;try{if(an.renderer.hasBuiltPath(on))return;bn.send("commonobj",[wn,"FontPath",an.renderer.getPathJs(on)])}catch(pn){if(vn.ignoreErrors){bn.send("UnsupportedFeature",{featureId:vt.UNSUPPORTED_FEATURES.errorFontBuildPath}),(0,vt.warn)(`buildFontPaths - ignoring ${wn} glyph: "${pn}".`);return}throw pn}}for(const on of fn){gn(on.fontChar);const wn=on.accent;wn&&wn.fontChar&&gn(wn.fontChar)}}static get fallbackFontDict(){const an=new Mt.Dict;return an.set("BaseFont",Mt.Name.get("PDFJS-FallbackFont")),an.set("Type",Mt.Name.get("FallbackType")),an.set("Subtype",Mt.Name.get("FallbackType")),an.set("Encoding",Mt.Name.get("WinAnsiEncoding")),(0,vt.shadow)(this,"fallbackFontDict",an)}}St.PartialEvaluator=tn;class un{constructor({loadedName:an,font:fn,dict:bn,evaluatorOptions:vn}){this.loadedName=an,this.font=fn,this.dict=bn,this._evaluatorOptions=vn||Ut,this.type3Loaded=null,this.type3Dependencies=fn.isType3Font?new Set:null,this.sent=!1}send(an){this.sent||(this.sent=!0,an.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(an){this.font.data&&(this.font.disableFontFace=!0,tn.buildFontPaths(this.font,this.font.glyphCacheValues,an,this._evaluatorOptions))}loadType3Data(an,fn,bn){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const vn=an.clone({ignoreErrors:!1});vn.parsingType3Font=!0;const gn=new Mt.RefSet(an.type3FontRefs);this.dict.objId&&!gn.has(this.dict.objId)&&gn.put(this.dict.objId),vn.type3FontRefs=gn;const on=this.font,wn=this.type3Dependencies;let pn=Promise.resolve();const Cn=this.dict.get("CharProcs"),Tn=this.dict.get("Resources")||fn,Fn=Object.create(null),En=vt.Util.normalizeRect(on.bbox||[0,0,0,0]),kn=En[2]-En[0],Pn=En[3]-En[1],_n=Math.hypot(kn,Pn);for(const Mn of Cn.getKeys())pn=pn.then(()=>{const On=Cn.get(Mn),jn=new qt.OperatorList;return vn.getOperatorList({stream:On,task:bn,resources:Tn,operatorList:jn}).then(()=>{jn.fnArray[0]===vt.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(jn,_n),Fn[Mn]=jn.getIR();for(const qn of jn.dependencies)wn.add(qn)}).catch(function(qn){(0,vt.warn)(`Type3 font resource "${Mn}" is not available.`);const Gn=new qt.OperatorList;Fn[Mn]=Gn.getIR()})});return this.type3Loaded=pn.then(()=>{on.charProcOperatorList=Fn,this._bbox&&(on.isCharBBox=!0,on.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(an,fn=NaN){const bn=vt.Util.normalizeRect(an.argsArray[0].slice(2)),vn=bn[2]-bn[0],gn=bn[3]-bn[1],on=Math.hypot(vn,gn);vn===0||gn===0?(an.fnArray.splice(0,1),an.argsArray.splice(0,1)):(fn===0||Math.round(on/fn)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],bn[0]),this._bbox[1]=Math.min(this._bbox[1],bn[1]),this._bbox[2]=Math.max(this._bbox[2],bn[2]),this._bbox[3]=Math.max(this._bbox[3],bn[3]));let wn=0,pn=an.length;for(;wn<pn;){switch(an.fnArray[wn]){case vt.OPS.setCharWidthAndBounds:break;case vt.OPS.setStrokeColorSpace:case vt.OPS.setFillColorSpace:case vt.OPS.setStrokeColor:case vt.OPS.setStrokeColorN:case vt.OPS.setFillColor:case vt.OPS.setFillColorN:case vt.OPS.setStrokeGray:case vt.OPS.setFillGray:case vt.OPS.setStrokeRGBColor:case vt.OPS.setFillRGBColor:case vt.OPS.setStrokeCMYKColor:case vt.OPS.setFillCMYKColor:case vt.OPS.shadingFill:case vt.OPS.setRenderingIntent:an.fnArray.splice(wn,1),an.argsArray.splice(wn,1),pn--;continue;case vt.OPS.setGState:const[Cn]=an.argsArray[wn];let Tn=0,Fn=Cn.length;for(;Tn<Fn;){const[En]=Cn[Tn];switch(En){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":Cn.splice(Tn,1),Fn--;continue}Tn++}break}wn++}}}class yn{constructor(an=new rn){this.state=an,this.stateStack=[]}save(){const an=this.state;this.stateStack.push(this.state),this.state=an.clone()}restore(){const an=this.stateStack.pop();an&&(this.state=an)}transform(an){this.state.ctm=vt.Util.transform(this.state.ctm,an)}}class xn{constructor(){this.ctm=new Float32Array(vt.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=vt.FONT_IDENTITY_MATRIX,this.textMatrix=vt.IDENTITY_MATRIX.slice(),this.textLineMatrix=vt.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(an,fn,bn,vn,gn,on){const wn=this.textMatrix;wn[0]=an,wn[1]=fn,wn[2]=bn,wn[3]=vn,wn[4]=gn,wn[5]=on}setTextLineMatrix(an,fn,bn,vn,gn,on){const wn=this.textLineMatrix;wn[0]=an,wn[1]=fn,wn[2]=bn,wn[3]=vn,wn[4]=gn,wn[5]=on}translateTextMatrix(an,fn){const bn=this.textMatrix;bn[4]=bn[0]*an+bn[2]*fn+bn[4],bn[5]=bn[1]*an+bn[3]*fn+bn[5]}translateTextLineMatrix(an,fn){const bn=this.textLineMatrix;bn[4]=bn[0]*an+bn[2]*fn+bn[4],bn[5]=bn[1]*an+bn[3]*fn+bn[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const an=Object.create(this);return an.textMatrix=this.textMatrix.slice(),an.textLineMatrix=this.textLineMatrix.slice(),an.fontMatrix=this.fontMatrix.slice(),an}}class rn{constructor(){this.ctm=new Float32Array(vt.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=vt.TextRenderingMode.FILL,this.fillColorSpace=Wt.ColorSpace.singletons.gray,this.strokeColorSpace=Wt.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class dn{static get opMap(){const an=(0,sn.getLookupTableFactory)(function(fn){fn.w={id:vt.OPS.setLineWidth,numArgs:1,variableArgs:!1},fn.J={id:vt.OPS.setLineCap,numArgs:1,variableArgs:!1},fn.j={id:vt.OPS.setLineJoin,numArgs:1,variableArgs:!1},fn.M={id:vt.OPS.setMiterLimit,numArgs:1,variableArgs:!1},fn.d={id:vt.OPS.setDash,numArgs:2,variableArgs:!1},fn.ri={id:vt.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},fn.i={id:vt.OPS.setFlatness,numArgs:1,variableArgs:!1},fn.gs={id:vt.OPS.setGState,numArgs:1,variableArgs:!1},fn.q={id:vt.OPS.save,numArgs:0,variableArgs:!1},fn.Q={id:vt.OPS.restore,numArgs:0,variableArgs:!1},fn.cm={id:vt.OPS.transform,numArgs:6,variableArgs:!1},fn.m={id:vt.OPS.moveTo,numArgs:2,variableArgs:!1},fn.l={id:vt.OPS.lineTo,numArgs:2,variableArgs:!1},fn.c={id:vt.OPS.curveTo,numArgs:6,variableArgs:!1},fn.v={id:vt.OPS.curveTo2,numArgs:4,variableArgs:!1},fn.y={id:vt.OPS.curveTo3,numArgs:4,variableArgs:!1},fn.h={id:vt.OPS.closePath,numArgs:0,variableArgs:!1},fn.re={id:vt.OPS.rectangle,numArgs:4,variableArgs:!1},fn.S={id:vt.OPS.stroke,numArgs:0,variableArgs:!1},fn.s={id:vt.OPS.closeStroke,numArgs:0,variableArgs:!1},fn.f={id:vt.OPS.fill,numArgs:0,variableArgs:!1},fn.F={id:vt.OPS.fill,numArgs:0,variableArgs:!1},fn["f*"]={id:vt.OPS.eoFill,numArgs:0,variableArgs:!1},fn.B={id:vt.OPS.fillStroke,numArgs:0,variableArgs:!1},fn["B*"]={id:vt.OPS.eoFillStroke,numArgs:0,variableArgs:!1},fn.b={id:vt.OPS.closeFillStroke,numArgs:0,variableArgs:!1},fn["b*"]={id:vt.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},fn.n={id:vt.OPS.endPath,numArgs:0,variableArgs:!1},fn.W={id:vt.OPS.clip,numArgs:0,variableArgs:!1},fn["W*"]={id:vt.OPS.eoClip,numArgs:0,variableArgs:!1},fn.BT={id:vt.OPS.beginText,numArgs:0,variableArgs:!1},fn.ET={id:vt.OPS.endText,numArgs:0,variableArgs:!1},fn.Tc={id:vt.OPS.setCharSpacing,numArgs:1,variableArgs:!1},fn.Tw={id:vt.OPS.setWordSpacing,numArgs:1,variableArgs:!1},fn.Tz={id:vt.OPS.setHScale,numArgs:1,variableArgs:!1},fn.TL={id:vt.OPS.setLeading,numArgs:1,variableArgs:!1},fn.Tf={id:vt.OPS.setFont,numArgs:2,variableArgs:!1},fn.Tr={id:vt.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},fn.Ts={id:vt.OPS.setTextRise,numArgs:1,variableArgs:!1},fn.Td={id:vt.OPS.moveText,numArgs:2,variableArgs:!1},fn.TD={id:vt.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},fn.Tm={id:vt.OPS.setTextMatrix,numArgs:6,variableArgs:!1},fn["T*"]={id:vt.OPS.nextLine,numArgs:0,variableArgs:!1},fn.Tj={id:vt.OPS.showText,numArgs:1,variableArgs:!1},fn.TJ={id:vt.OPS.showSpacedText,numArgs:1,variableArgs:!1},fn["'"]={id:vt.OPS.nextLineShowText,numArgs:1,variableArgs:!1},fn['"']={id:vt.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},fn.d0={id:vt.OPS.setCharWidth,numArgs:2,variableArgs:!1},fn.d1={id:vt.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},fn.CS={id:vt.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},fn.cs={id:vt.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},fn.SC={id:vt.OPS.setStrokeColor,numArgs:4,variableArgs:!0},fn.SCN={id:vt.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},fn.sc={id:vt.OPS.setFillColor,numArgs:4,variableArgs:!0},fn.scn={id:vt.OPS.setFillColorN,numArgs:33,variableArgs:!0},fn.G={id:vt.OPS.setStrokeGray,numArgs:1,variableArgs:!1},fn.g={id:vt.OPS.setFillGray,numArgs:1,variableArgs:!1},fn.RG={id:vt.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},fn.rg={id:vt.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},fn.K={id:vt.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},fn.k={id:vt.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},fn.sh={id:vt.OPS.shadingFill,numArgs:1,variableArgs:!1},fn.BI={id:vt.OPS.beginInlineImage,numArgs:0,variableArgs:!1},fn.ID={id:vt.OPS.beginImageData,numArgs:0,variableArgs:!1},fn.EI={id:vt.OPS.endInlineImage,numArgs:1,variableArgs:!1},fn.Do={id:vt.OPS.paintXObject,numArgs:1,variableArgs:!1},fn.MP={id:vt.OPS.markPoint,numArgs:1,variableArgs:!1},fn.DP={id:vt.OPS.markPointProps,numArgs:2,variableArgs:!1},fn.BMC={id:vt.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},fn.BDC={id:vt.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},fn.EMC={id:vt.OPS.endMarkedContent,numArgs:0,variableArgs:!1},fn.BX={id:vt.OPS.beginCompat,numArgs:0,variableArgs:!1},fn.EX={id:vt.OPS.endCompat,numArgs:0,variableArgs:!1},fn.BM=null,fn.BD=null,fn.true=null,fn.fa=null,fn.fal=null,fn.fals=null,fn.false=null,fn.nu=null,fn.nul=null,fn.null=null});return(0,vt.shadow)(this,"opMap",an())}static get MAX_INVALID_PATH_OPS(){return(0,vt.shadow)(this,"MAX_INVALID_PATH_OPS",10)}constructor(an,fn,bn=new yn){this.parser=new Bt.Parser({lexer:new Bt.Lexer(an,dn.opMap),xref:fn}),this.stateManager=bn,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(an){let fn=an.args;for(;;){const bn=this.parser.getObj();if(bn instanceof Mt.Cmd){const vn=bn.cmd,gn=dn.opMap[vn];if(!gn){(0,vt.warn)(`Unknown command "${vn}".`);continue}const on=gn.id,wn=gn.numArgs;let pn=fn!==null?fn.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=on>=vt.OPS.moveTo&&on<=vt.OPS.endPath,gn.variableArgs)pn>wn&&(0,vt.info)(`Command ${vn}: expected [0, ${wn}] args, but received ${pn} args.`);else{if(pn!==wn){const Cn=this.nonProcessedArgs;for(;pn>wn;)Cn.push(fn.shift()),pn--;for(;pn<wn&&Cn.length!==0;)fn===null&&(fn=[]),fn.unshift(Cn.pop()),pn++}if(pn<wn){const Cn=`command ${vn}: expected ${wn} args, but received ${pn} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>dn.MAX_INVALID_PATH_OPS)throw new vt.FormatError(`Invalid ${Cn}`);(0,vt.warn)(`Skipping ${Cn}`),fn!==null&&(fn.length=0);continue}}return this.preprocessCommand(on,fn),an.fn=on,an.args=fn,!0}if(bn===Mt.EOF)return!1;if(bn!==null&&(fn===null&&(fn=[]),fn.push(bn),fn.length>33))throw new vt.FormatError("Too many arguments")}}preprocessCommand(an,fn){switch(an|0){case vt.OPS.save:this.stateManager.save();break;case vt.OPS.restore:this.stateManager.restore();break;case vt.OPS.transform:this.stateManager.transform(fn);break}}}St.EvaluatorPreprocessor=dn},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.IdentityCMap=St.CMapFactory=St.CMap=void 0;var vt=Ft(2),Et=Ft(5),Mt=Ft(7),Pt=Ft(17),xt=Ft(6),$t=Ft(10);const _t=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],jt=2**24-1;class Rt{constructor(Ht=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=Ht}addCodespaceRange(Ht,Ot,Vt){this.codespaceRanges[Ht-1].push(Ot,Vt),this.numCodespaceRanges++}mapCidRange(Ht,Ot,Vt){if(Ot-Ht>jt)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;Ht<=Ot;)this._map[Ht++]=Vt++}mapBfRange(Ht,Ot,Vt){if(Ot-Ht>jt)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const Gt=Vt.length-1;for(;Ht<=Ot;){this._map[Ht++]=Vt;const Wt=Vt.charCodeAt(Gt)+1;if(Wt>255){Vt=Vt.substring(0,Gt-1)+String.fromCharCode(Vt.charCodeAt(Gt-1)+1)+"\0";continue}Vt=Vt.substring(0,Gt)+String.fromCharCode(Wt)}}mapBfRangeToArray(Ht,Ot,Vt){if(Ot-Ht>jt)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const Gt=Vt.length;let Wt=0;for(;Ht<=Ot&&Wt<Gt;)this._map[Ht]=Vt[Wt++],++Ht}mapOne(Ht,Ot){this._map[Ht]=Ot}lookup(Ht){return this._map[Ht]}contains(Ht){return this._map[Ht]!==void 0}forEach(Ht){const Ot=this._map,Vt=Ot.length;if(Vt<=65536)for(let Gt=0;Gt<Vt;Gt++)Ot[Gt]!==void 0&&Ht(Gt,Ot[Gt]);else for(const Gt in Ot)Ht(Gt,Ot[Gt])}charCodeOf(Ht){const Ot=this._map;if(Ot.length<=65536)return Ot.indexOf(Ht);for(const Vt in Ot)if(Ot[Vt]===Ht)return Vt|0;return-1}getMap(){return this._map}readCharCode(Ht,Ot,Vt){let Gt=0;const Wt=this.codespaceRanges;for(let en=0,Sn=Wt.length;en<Sn;en++){Gt=(Gt<<8|Ht.charCodeAt(Ot+en))>>>0;const sn=Wt[en];for(let hn=0,Qt=sn.length;hn<Qt;){const qt=sn[hn++],nn=sn[hn++];if(Gt>=qt&&Gt<=nn){Vt.charcode=Gt,Vt.length=en+1;return}}}Vt.charcode=0,Vt.length=1}getCharCodeLength(Ht){const Ot=this.codespaceRanges;for(let Vt=0,Gt=Ot.length;Vt<Gt;Vt++){const Wt=Ot[Vt];for(let en=0,Sn=Wt.length;en<Sn;){const sn=Wt[en++],hn=Wt[en++];if(Ht>=sn&&Ht<=hn)return Vt+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let Ht=0;Ht<65536;Ht++)if(this._map[Ht]!==Ht)return!1;return!0}}St.CMap=Rt;class Nt extends Rt{constructor(Ht,Ot){super(),this.vertical=Ht,this.addCodespaceRange(Ot,0,65535)}mapCidRange(Ht,Ot,Vt){(0,vt.unreachable)("should not call mapCidRange")}mapBfRange(Ht,Ot,Vt){(0,vt.unreachable)("should not call mapBfRange")}mapBfRangeToArray(Ht,Ot,Vt){(0,vt.unreachable)("should not call mapBfRangeToArray")}mapOne(Ht,Ot){(0,vt.unreachable)("should not call mapCidOne")}lookup(Ht){return Number.isInteger(Ht)&&Ht<=65535?Ht:void 0}contains(Ht){return Number.isInteger(Ht)&&Ht<=65535}forEach(Ht){for(let Ot=0;Ot<=65535;Ot++)Ht(Ot,Ot)}charCodeOf(Ht){return Number.isInteger(Ht)&&Ht<=65535?Ht:-1}getMap(){const Ht=new Array(65536);for(let Ot=0;Ot<=65535;Ot++)Ht[Ot]=Ot;return Ht}get length(){return 65536}get isIdentityCMap(){(0,vt.unreachable)("should not access .isIdentityCMap")}}St.IdentityCMap=Nt;const Lt=function(){function Ht(hn,Qt){let qt=0;for(let nn=0;nn<=Qt;nn++)qt=qt<<8|hn[nn];return qt>>>0}function Ot(hn,Qt){return Qt===1?String.fromCharCode(hn[0],hn[1]):Qt===3?String.fromCharCode(hn[0],hn[1],hn[2],hn[3]):String.fromCharCode.apply(null,hn.subarray(0,Qt+1))}function Vt(hn,Qt,qt){let nn=0;for(let Ut=qt;Ut>=0;Ut--)nn+=hn[Ut]+Qt[Ut],hn[Ut]=nn&255,nn>>=8}function Gt(hn,Qt){let qt=1;for(let nn=Qt;nn>=0&&qt>0;nn--)qt+=hn[nn],hn[nn]=qt&255,qt>>=8}const Wt=16,en=19;class Sn{constructor(Qt){this.buffer=Qt,this.pos=0,this.end=Qt.length,this.tmpBuf=new Uint8Array(en)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let Qt=0,qt;do{const nn=this.readByte();if(nn<0)throw new vt.FormatError("unexpected EOF in bcmap");qt=!(nn&128),Qt=Qt<<7|nn&127}while(!qt);return Qt}readSigned(){const Qt=this.readNumber();return Qt&1?~(Qt>>>1):Qt>>>1}readHex(Qt,qt){Qt.set(this.buffer.subarray(this.pos,this.pos+qt+1)),this.pos+=qt+1}readHexNumber(Qt,qt){let nn;const Ut=this.tmpBuf;let zt=0;do{const Jt=this.readByte();if(Jt<0)throw new vt.FormatError("unexpected EOF in bcmap");nn=!(Jt&128),Ut[zt++]=Jt&127}while(!nn);let cn=qt,ln=0,Kt=0;for(;cn>=0;){for(;Kt<8&&Ut.length>0;)ln|=Ut[--zt]<<Kt,Kt+=7;Qt[cn]=ln&255,cn--,ln>>=8,Kt-=8}}readHexSigned(Qt,qt){this.readHexNumber(Qt,qt);const nn=Qt[qt]&1?255:0;let Ut=0;for(let zt=0;zt<=qt;zt++)Ut=(Ut&1)<<8|Qt[zt],Qt[zt]=Ut>>1^nn}readString(){const Qt=this.readNumber();let qt="";for(let nn=0;nn<Qt;nn++)qt+=String.fromCharCode(this.readNumber());return qt}}class sn{async process(Qt,qt,nn){const Ut=new Sn(Qt),zt=Ut.readByte();qt.vertical=!!(zt&1);let cn=null;const ln=new Uint8Array(Wt),Kt=new Uint8Array(Wt),Jt=new Uint8Array(Wt),Yt=new Uint8Array(Wt),tn=new Uint8Array(Wt);let un,yn;for(;(yn=Ut.readByte())>=0;){const xn=yn>>5;if(xn===7){switch(yn&31){case 0:Ut.readString();break;case 1:cn=Ut.readString();break}continue}const rn=!!(yn&16),dn=yn&15;if(dn+1>Wt)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const An=1,an=Ut.readNumber();switch(xn){case 0:Ut.readHex(ln,dn),Ut.readHexNumber(Kt,dn),Vt(Kt,ln,dn),qt.addCodespaceRange(dn+1,Ht(ln,dn),Ht(Kt,dn));for(let fn=1;fn<an;fn++)Gt(Kt,dn),Ut.readHexNumber(ln,dn),Vt(ln,Kt,dn),Ut.readHexNumber(Kt,dn),Vt(Kt,ln,dn),qt.addCodespaceRange(dn+1,Ht(ln,dn),Ht(Kt,dn));break;case 1:Ut.readHex(ln,dn),Ut.readHexNumber(Kt,dn),Vt(Kt,ln,dn),Ut.readNumber();for(let fn=1;fn<an;fn++)Gt(Kt,dn),Ut.readHexNumber(ln,dn),Vt(ln,Kt,dn),Ut.readHexNumber(Kt,dn),Vt(Kt,ln,dn),Ut.readNumber();break;case 2:Ut.readHex(Jt,dn),un=Ut.readNumber(),qt.mapOne(Ht(Jt,dn),un);for(let fn=1;fn<an;fn++)Gt(Jt,dn),rn||(Ut.readHexNumber(tn,dn),Vt(Jt,tn,dn)),un=Ut.readSigned()+(un+1),qt.mapOne(Ht(Jt,dn),un);break;case 3:Ut.readHex(ln,dn),Ut.readHexNumber(Kt,dn),Vt(Kt,ln,dn),un=Ut.readNumber(),qt.mapCidRange(Ht(ln,dn),Ht(Kt,dn),un);for(let fn=1;fn<an;fn++)Gt(Kt,dn),rn?ln.set(Kt):(Ut.readHexNumber(ln,dn),Vt(ln,Kt,dn)),Ut.readHexNumber(Kt,dn),Vt(Kt,ln,dn),un=Ut.readNumber(),qt.mapCidRange(Ht(ln,dn),Ht(Kt,dn),un);break;case 4:Ut.readHex(Jt,An),Ut.readHex(Yt,dn),qt.mapOne(Ht(Jt,An),Ot(Yt,dn));for(let fn=1;fn<an;fn++)Gt(Jt,An),rn||(Ut.readHexNumber(tn,An),Vt(Jt,tn,An)),Gt(Yt,dn),Ut.readHexSigned(tn,dn),Vt(Yt,tn,dn),qt.mapOne(Ht(Jt,An),Ot(Yt,dn));break;case 5:Ut.readHex(ln,An),Ut.readHexNumber(Kt,An),Vt(Kt,ln,An),Ut.readHex(Yt,dn),qt.mapBfRange(Ht(ln,An),Ht(Kt,An),Ot(Yt,dn));for(let fn=1;fn<an;fn++)Gt(Kt,An),rn?ln.set(Kt):(Ut.readHexNumber(ln,An),Vt(ln,Kt,An)),Ut.readHexNumber(Kt,An),Vt(Kt,ln,An),Ut.readHex(Yt,dn),qt.mapBfRange(Ht(ln,An),Ht(Kt,An),Ot(Yt,dn));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${xn}`)}}return cn?nn(cn):qt}}return sn}(),kt=function(){function Ht(zt){let cn=0;for(let ln=0;ln<zt.length;ln++)cn=cn<<8|zt.charCodeAt(ln);return cn>>>0}function Ot(zt){if(typeof zt!="string")throw new vt.FormatError("Malformed CMap: expected string.")}function Vt(zt){if(!Number.isInteger(zt))throw new vt.FormatError("Malformed CMap: expected int.")}function Gt(zt,cn){for(;;){let ln=cn.getObj();if(ln===Et.EOF)break;if((0,Et.isCmd)(ln,"endbfchar"))return;Ot(ln);const Kt=Ht(ln);ln=cn.getObj(),Ot(ln);const Jt=ln;zt.mapOne(Kt,Jt)}}function Wt(zt,cn){for(;;){let ln=cn.getObj();if(ln===Et.EOF)break;if((0,Et.isCmd)(ln,"endbfrange"))return;Ot(ln);const Kt=Ht(ln);ln=cn.getObj(),Ot(ln);const Jt=Ht(ln);if(ln=cn.getObj(),Number.isInteger(ln)||typeof ln=="string"){const Yt=Number.isInteger(ln)?String.fromCharCode(ln):ln;zt.mapBfRange(Kt,Jt,Yt)}else if((0,Et.isCmd)(ln,"[")){ln=cn.getObj();const Yt=[];for(;!(0,Et.isCmd)(ln,"]")&&ln!==Et.EOF;)Yt.push(ln),ln=cn.getObj();zt.mapBfRangeToArray(Kt,Jt,Yt)}else break}throw new vt.FormatError("Invalid bf range.")}function en(zt,cn){for(;;){let ln=cn.getObj();if(ln===Et.EOF)break;if((0,Et.isCmd)(ln,"endcidchar"))return;Ot(ln);const Kt=Ht(ln);ln=cn.getObj(),Vt(ln);const Jt=ln;zt.mapOne(Kt,Jt)}}function Sn(zt,cn){for(;;){let ln=cn.getObj();if(ln===Et.EOF)break;if((0,Et.isCmd)(ln,"endcidrange"))return;Ot(ln);const Kt=Ht(ln);ln=cn.getObj(),Ot(ln);const Jt=Ht(ln);ln=cn.getObj(),Vt(ln);const Yt=ln;zt.mapCidRange(Kt,Jt,Yt)}}function sn(zt,cn){for(;;){let ln=cn.getObj();if(ln===Et.EOF)break;if((0,Et.isCmd)(ln,"endcodespacerange"))return;if(typeof ln!="string")break;const Kt=Ht(ln);if(ln=cn.getObj(),typeof ln!="string")break;const Jt=Ht(ln);zt.addCodespaceRange(ln.length,Kt,Jt)}throw new vt.FormatError("Invalid codespace range.")}function hn(zt,cn){const ln=cn.getObj();Number.isInteger(ln)&&(zt.vertical=!!ln)}function Qt(zt,cn){const ln=cn.getObj();ln instanceof Et.Name&&(zt.name=ln.name)}async function qt(zt,cn,ln,Kt){let Jt,Yt;e:for(;;)try{const tn=cn.getObj();if(tn===Et.EOF)break;if(tn instanceof Et.Name)tn.name==="WMode"?hn(zt,cn):tn.name==="CMapName"&&Qt(zt,cn),Jt=tn;else if(tn instanceof Et.Cmd)switch(tn.cmd){case"endcmap":break e;case"usecmap":Jt instanceof Et.Name&&(Yt=Jt.name);break;case"begincodespacerange":sn(zt,cn);break;case"beginbfchar":Gt(zt,cn);break;case"begincidchar":en(zt,cn);break;case"beginbfrange":Wt(zt,cn);break;case"begincidrange":Sn(zt,cn);break}}catch(tn){if(tn instanceof xt.MissingDataException)throw tn;(0,vt.warn)("Invalid cMap data: "+tn);continue}return!Kt&&Yt&&(Kt=Yt),Kt?nn(zt,ln,Kt):zt}async function nn(zt,cn,ln){if(zt.useCMap=await Ut(ln,cn),zt.numCodespaceRanges===0){const Kt=zt.useCMap.codespaceRanges;for(let Jt=0;Jt<Kt.length;Jt++)zt.codespaceRanges[Jt]=Kt[Jt].slice();zt.numCodespaceRanges=zt.useCMap.numCodespaceRanges}return zt.useCMap.forEach(function(Kt,Jt){zt.contains(Kt)||zt.mapOne(Kt,zt.useCMap.lookup(Kt))}),zt}async function Ut(zt,cn){if(zt==="Identity-H")return new Nt(!1,2);if(zt==="Identity-V")return new Nt(!0,2);if(!_t.includes(zt))throw new Error("Unknown CMap name: "+zt);if(!cn)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:ln,compressionType:Kt}=await cn(zt),Jt=new Rt(!0);if(Kt===vt.CMapCompressionType.BINARY)return new Lt().process(ln,Jt,Yt=>nn(Jt,cn,Yt));if(Kt===vt.CMapCompressionType.NONE){const Yt=new Pt.Lexer(new $t.Stream(ln));return qt(Jt,Yt,cn,null)}throw new Error("TODO: Only BINARY/NONE CMap compression is currently supported.")}return{async create(zt){const cn=zt.encoding,ln=zt.fetchBuiltInCMap,Kt=zt.useCMap;if(cn instanceof Et.Name)return Ut(cn.name,ln);if(cn instanceof Mt.BaseStream){const Jt=await qt(new Rt,new Pt.Lexer(cn),ln,Kt);return Jt.isIdentityCMap?Ut(Jt.name,ln):Jt}throw new Error("Encoding required.")}}}();St.CMapFactory=kt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.Parser=St.Linearization=St.Lexer=void 0;var vt=Ft(2),Et=Ft(5),Mt=Ft(6),Pt=Ft(18),xt=Ft(20),$t=Ft(21),_t=Ft(23),jt=Ft(24),Rt=Ft(27),Nt=Ft(29),Lt=Ft(31),kt=Ft(10),Bt=Ft(32),Ht=Ft(33);const Ot=1e3,Vt=5552;function Gt(Qt){const qt=Qt.length;let nn=1,Ut=0;for(let zt=0;zt<qt;++zt)nn+=Qt[zt]&255,Ut+=nn;return Ut%65521<<16|nn%65521}class Wt{constructor({lexer:qt,xref:nn,allowStreams:Ut=!1,recoveryMode:zt=!1}){this.lexer=qt,this.xref=nn,this.allowStreams=Ut,this.recoveryMode=zt,this.imageCache=Object.create(null),this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof Et.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(qt){if(qt instanceof Mt.MissingDataException)throw qt;return!1}}getObj(qt=null){const nn=this.buf1;if(this.shift(),nn instanceof Et.Cmd)switch(nn.cmd){case"BI":return this.makeInlineImage(qt);case"[":const Ut=[];for(;!(0,Et.isCmd)(this.buf1,"]")&&this.buf1!==Et.EOF;)Ut.push(this.getObj(qt));if(this.buf1===Et.EOF){if(this.recoveryMode)return Ut;throw new Mt.ParserEOFException("End of file inside array.")}return this.shift(),Ut;case"<<":const zt=new Et.Dict(this.xref);for(;!(0,Et.isCmd)(this.buf1,">>")&&this.buf1!==Et.EOF;){if(!(this.buf1 instanceof Et.Name)){(0,vt.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const cn=this.buf1.name;if(this.shift(),this.buf1===Et.EOF)break;zt.set(cn,this.getObj(qt))}if(this.buf1===Et.EOF){if(this.recoveryMode)return zt;throw new Mt.ParserEOFException("End of file inside dictionary.")}return(0,Et.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(zt,qt):zt:(this.shift(),zt);default:return nn}if(Number.isInteger(nn)){if(Number.isInteger(this.buf1)&&(0,Et.isCmd)(this.buf2,"R")){const Ut=Et.Ref.get(nn,this.buf1);return this.shift(),this.shift(),Ut}return nn}return typeof nn=="string"&&qt?qt.decryptString(nn):nn}findDefaultInlineStreamEnd(qt){const Jt=this.lexer,Yt=qt.pos,tn=10;let un=0,yn,xn;for(;(yn=qt.getByte())!==-1;)if(un===0)un=yn===69?1:0;else if(un===1)un=yn===73?2:0;else if((0,vt.assert)(un===2,"findDefaultInlineStreamEnd - invalid state."),yn===32||yn===10||yn===13){xn=qt.pos;const dn=qt.peekBytes(tn);for(let An=0,an=dn.length;An<an;An++)if(yn=dn[An],!(yn===0&&dn[An+1]!==0)&&yn!==10&&yn!==13&&(yn<32||yn>127)){un=0;break}if(un!==2)continue;if(Jt.knownCommands){const An=Jt.peekObj();An instanceof Et.Cmd&&!Jt.knownCommands[An.cmd]&&(un=0)}else(0,vt.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");if(un===2)break}else un=0;yn===-1&&((0,vt.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),xn&&((0,vt.warn)('... trying to recover by using the last "EI" occurrence.'),qt.skip(-(qt.pos-xn))));let rn=4;return qt.skip(-rn),yn=qt.peekByte(),qt.skip(rn),(0,Mt.isWhiteSpace)(yn)||rn--,qt.pos-rn-Yt}findDCTDecodeInlineStreamEnd(qt){const nn=qt.pos;let Ut=!1,zt,cn;for(;(zt=qt.getByte())!==-1;)if(zt===255){switch(qt.getByte()){case 0:break;case 255:qt.skip(-1);break;case 217:Ut=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:cn=qt.getUint16(),cn>2?qt.skip(cn-2):qt.skip(-2);break}if(Ut)break}const ln=qt.pos-nn;return zt===-1?((0,vt.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),qt.skip(-ln),this.findDefaultInlineStreamEnd(qt)):(this.inlineStreamSkipEI(qt),ln)}findASCII85DecodeInlineStreamEnd(qt){const zt=qt.pos;let cn;for(;(cn=qt.getByte())!==-1;)if(cn===126){const Kt=qt.pos;for(cn=qt.peekByte();(0,Mt.isWhiteSpace)(cn);)qt.skip(),cn=qt.peekByte();if(cn===62){qt.skip();break}if(qt.pos>Kt){const Jt=qt.peekBytes(2);if(Jt[0]===69&&Jt[1]===73)break}}const ln=qt.pos-zt;return cn===-1?((0,vt.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),qt.skip(-ln),this.findDefaultInlineStreamEnd(qt)):(this.inlineStreamSkipEI(qt),ln)}findASCIIHexDecodeInlineStreamEnd(qt){const Ut=qt.pos;let zt;for(;(zt=qt.getByte())!==-1&&zt!==62;);const cn=qt.pos-Ut;return zt===-1?((0,vt.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),qt.skip(-cn),this.findDefaultInlineStreamEnd(qt)):(this.inlineStreamSkipEI(qt),cn)}inlineStreamSkipEI(qt){let zt=0,cn;for(;(cn=qt.getByte())!==-1;)if(zt===0)zt=cn===69?1:0;else if(zt===1)zt=cn===73?2:0;else if(zt===2)break}makeInlineImage(qt){const nn=this.lexer,Ut=nn.stream,zt=new Et.Dict(this.xref);let cn;for(;!(0,Et.isCmd)(this.buf1,"ID")&&this.buf1!==Et.EOF;){if(!(this.buf1 instanceof Et.Name))throw new vt.FormatError("Dictionary key must be a name object");const yn=this.buf1.name;if(this.shift(),this.buf1===Et.EOF)break;zt.set(yn,this.getObj(qt))}nn.beginInlineImagePos!==-1&&(cn=Ut.pos-nn.beginInlineImagePos);const ln=zt.get("F","Filter");let Kt;if(ln instanceof Et.Name)Kt=ln.name;else if(Array.isArray(ln)){const yn=this.xref.fetchIfRef(ln[0]);yn instanceof Et.Name&&(Kt=yn.name)}const Jt=Ut.pos;let Yt;switch(Kt){case"DCT":case"DCTDecode":Yt=this.findDCTDecodeInlineStreamEnd(Ut);break;case"A85":case"ASCII85Decode":Yt=this.findASCII85DecodeInlineStreamEnd(Ut);break;case"AHx":case"ASCIIHexDecode":Yt=this.findASCIIHexDecodeInlineStreamEnd(Ut);break;default:Yt=this.findDefaultInlineStreamEnd(Ut)}let tn=Ut.makeSubStream(Jt,Yt,zt),un;if(Yt<Ot&&cn<Vt){const yn=tn.getBytes();tn.reset();const xn=Ut.pos;Ut.pos=nn.beginInlineImagePos;const rn=Ut.getBytes(cn);Ut.pos=xn,un=Gt(yn)+"_"+Gt(rn);const dn=this.imageCache[un];if(dn!==void 0)return this.buf2=Et.Cmd.get("EI"),this.shift(),dn.reset(),dn}return qt&&(tn=qt.createStream(tn,Yt)),tn=this.filter(tn,zt,Yt),tn.dict=zt,un!==void 0&&(tn.cacheKey=`inline_${Yt}_${un}`,this.imageCache[un]=tn),this.buf2=Et.Cmd.get("EI"),this.shift(),tn}_findStreamLength(qt,nn){const{stream:Ut}=this.lexer;Ut.pos=qt;const zt=2048,cn=nn.length;for(;Ut.pos<Ut.end;){const ln=Ut.peekBytes(zt),Kt=ln.length-cn;if(Kt<=0)break;let Jt=0;for(;Jt<Kt;){let Yt=0;for(;Yt<cn&&ln[Jt+Yt]===nn[Yt];)Yt++;if(Yt>=cn)return Ut.pos+=Jt,Ut.pos-qt;Jt++}Ut.pos+=Kt}return-1}makeStream(qt,nn){const Ut=this.lexer;let zt=Ut.stream;Ut.skipToNextLine();const cn=zt.pos-1;let ln=qt.get("Length");if(Number.isInteger(ln)||((0,vt.info)(`Bad length "${ln&&ln.toString()}" in stream.`),ln=0),zt.pos=cn+ln,Ut.nextChar(),this.tryShift()&&(0,Et.isCmd)(this.buf2,"endstream"))this.shift();else{const Kt=new Uint8Array([101,110,100,115,116,114,101,97,109]);let Jt=this._findStreamLength(cn,Kt);if(Jt<0){for(let tn=1;tn<=1;tn++){const un=Kt.length-tn,yn=Kt.slice(0,un),xn=this._findStreamLength(cn,yn);if(xn>=0){const rn=zt.peekBytes(un+1)[un];if(!(0,Mt.isWhiteSpace)(rn))break;(0,vt.info)(`Found "${(0,vt.bytesToString)(yn)}" when searching for endstream command.`),Jt=xn;break}}if(Jt<0)throw new vt.FormatError("Missing endstream command.")}ln=Jt,Ut.nextChar(),this.shift(),this.shift()}return this.shift(),zt=zt.makeSubStream(cn,ln,qt),nn&&(zt=nn.createStream(zt,ln)),zt=this.filter(zt,qt,ln),zt.dict=qt,zt}filter(qt,nn,Ut){let zt=nn.get("F","Filter"),cn=nn.get("DP","DecodeParms");if(zt instanceof Et.Name)return Array.isArray(cn)&&(0,vt.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(qt,zt.name,Ut,cn);let ln=Ut;if(Array.isArray(zt)){const Kt=zt,Jt=cn;for(let Yt=0,tn=Kt.length;Yt<tn;++Yt){if(zt=this.xref.fetchIfRef(Kt[Yt]),!(zt instanceof Et.Name))throw new vt.FormatError(`Bad filter name "${zt}"`);cn=null,Array.isArray(Jt)&&Yt in Jt&&(cn=this.xref.fetchIfRef(Jt[Yt])),qt=this.makeFilter(qt,zt.name,ln,cn),ln=null}}return qt}makeFilter(qt,nn,Ut,zt){if(Ut===0)return(0,vt.warn)(`Empty "${nn}" stream.`),new kt.NullStream;const cn=this.xref.stats;try{switch(nn){case"Fl":case"FlateDecode":return cn.addStreamType(vt.StreamType.FLATE),zt?new Bt.PredictorStream(new _t.FlateStream(qt,Ut),Ut,zt):new _t.FlateStream(qt,Ut);case"LZW":case"LZWDecode":cn.addStreamType(vt.StreamType.LZW);let ln=1;return zt?(zt.has("EarlyChange")&&(ln=zt.get("EarlyChange")),new Bt.PredictorStream(new Lt.LZWStream(qt,Ut,ln),Ut,zt)):new Lt.LZWStream(qt,Ut,ln);case"DCT":case"DCTDecode":return cn.addStreamType(vt.StreamType.DCT),new Rt.JpegStream(qt,Ut,zt);case"JPX":case"JPXDecode":return cn.addStreamType(vt.StreamType.JPX),new Nt.JpxStream(qt,Ut,zt);case"A85":case"ASCII85Decode":return cn.addStreamType(vt.StreamType.A85),new Pt.Ascii85Stream(qt,Ut);case"AHx":case"ASCIIHexDecode":return cn.addStreamType(vt.StreamType.AHX),new xt.AsciiHexStream(qt,Ut);case"CCF":case"CCITTFaxDecode":return cn.addStreamType(vt.StreamType.CCF),new $t.CCITTFaxStream(qt,Ut,zt);case"RL":case"RunLengthDecode":return cn.addStreamType(vt.StreamType.RLX),new Ht.RunLengthStream(qt,Ut);case"JBIG2Decode":return cn.addStreamType(vt.StreamType.JBIG),new jt.Jbig2Stream(qt,Ut,zt)}return(0,vt.warn)(`Filter "${nn}" is not supported.`),qt}catch(ln){if(ln instanceof Mt.MissingDataException)throw ln;return(0,vt.warn)(`Invalid stream: "${ln}"`),new kt.NullStream}}}St.Parser=Wt;const en=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Sn(Qt){return Qt>=48&&Qt<=57?Qt&15:Qt>=65&&Qt<=70||Qt>=97&&Qt<=102?(Qt&15)+9:-1}class sn{constructor(qt,nn=null){this.stream=qt,this.nextChar(),this.strBuf=[],this.knownCommands=nn,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let qt=this.currentChar,nn=!1,Ut=0,zt=0;if(qt===45?(zt=-1,qt=this.nextChar(),qt===45&&(qt=this.nextChar())):qt===43&&(zt=1,qt=this.nextChar()),qt===10||qt===13)do qt=this.nextChar();while(qt===10||qt===13);if(qt===46&&(Ut=10,qt=this.nextChar()),qt<48||qt>57){if((0,Mt.isWhiteSpace)(qt)||qt===-1){if(Ut===10&&zt===0)return(0,vt.warn)("Lexer.getNumber - treating a single decimal point as zero."),0;if(Ut===0&&zt===-1)return(0,vt.warn)("Lexer.getNumber - treating a single minus sign as zero."),0}throw new vt.FormatError(`Invalid number: ${String.fromCharCode(qt)} (charCode ${qt})`)}zt=zt||1;let cn=qt-48,ln=0,Kt=1;for(;(qt=this.nextChar())>=0;)if(qt>=48&&qt<=57){const Jt=qt-48;nn?ln=ln*10+Jt:(Ut!==0&&(Ut*=10),cn=cn*10+Jt)}else if(qt===46)if(Ut===0)Ut=1;else break;else if(qt===45)(0,vt.warn)("Badly formatted number: minus sign in the middle");else if(qt===69||qt===101){if(qt=this.peekChar(),qt===43||qt===45)Kt=qt===45?-1:1,this.nextChar();else if(qt<48||qt>57)break;nn=!0}else break;return Ut!==0&&(cn/=Ut),nn&&(cn*=10**(Kt*ln)),zt*cn}getString(){let qt=1,nn=!1;const Ut=this.strBuf;Ut.length=0;let zt=this.nextChar();for(;;){let cn=!1;switch(zt|0){case-1:(0,vt.warn)("Unterminated string"),nn=!0;break;case 40:++qt,Ut.push("(");break;case 41:--qt===0?(this.nextChar(),nn=!0):Ut.push(")");break;case 92:switch(zt=this.nextChar(),zt){case-1:(0,vt.warn)("Unterminated string"),nn=!0;break;case 110:Ut.push(`
`);break;case 114:Ut.push("\r");break;case 116:Ut.push("	");break;case 98:Ut.push("\b");break;case 102:Ut.push("\f");break;case 92:case 40:case 41:Ut.push(String.fromCharCode(zt));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let ln=zt&15;zt=this.nextChar(),cn=!0,zt>=48&&zt<=55&&(ln=(ln<<3)+(zt&15),zt=this.nextChar(),zt>=48&&zt<=55&&(cn=!1,ln=(ln<<3)+(zt&15))),Ut.push(String.fromCharCode(ln));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:Ut.push(String.fromCharCode(zt));break}break;default:Ut.push(String.fromCharCode(zt));break}if(nn)break;cn||(zt=this.nextChar())}return Ut.join("")}getName(){let qt,nn;const Ut=this.strBuf;for(Ut.length=0;(qt=this.nextChar())>=0&&!en[qt];)if(qt===35){if(qt=this.nextChar(),en[qt]){(0,vt.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),Ut.push("#");break}const zt=Sn(qt);if(zt!==-1){nn=qt,qt=this.nextChar();const cn=Sn(qt);if(cn===-1){if((0,vt.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(qt)}) in hexadecimal number.`),Ut.push("#",String.fromCharCode(nn)),en[qt])break;Ut.push(String.fromCharCode(qt));continue}Ut.push(String.fromCharCode(zt<<4|cn))}else Ut.push("#",String.fromCharCode(qt))}else Ut.push(String.fromCharCode(qt));return Ut.length>127&&(0,vt.warn)(`Name token is longer than allowed by the spec: ${Ut.length}`),Et.Name.get(Ut.join(""))}_hexStringWarn(qt){if(this._hexStringNumWarn++===5){(0,vt.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,vt.warn)(`getHexString - ignoring invalid character: ${qt}`)}getHexString(){const qt=this.strBuf;qt.length=0;let nn=this.currentChar,Ut=!0,zt,cn;for(this._hexStringNumWarn=0;;)if(nn<0){(0,vt.warn)("Unterminated hex string");break}else if(nn===62){this.nextChar();break}else if(en[nn]===1){nn=this.nextChar();continue}else{if(Ut){if(zt=Sn(nn),zt===-1){this._hexStringWarn(nn),nn=this.nextChar();continue}}else{if(cn=Sn(nn),cn===-1){this._hexStringWarn(nn),nn=this.nextChar();continue}qt.push(String.fromCharCode(zt<<4|cn))}Ut=!Ut,nn=this.nextChar()}return qt.join("")}getObj(){let qt=!1,nn=this.currentChar;for(;;){if(nn<0)return Et.EOF;if(qt)(nn===10||nn===13)&&(qt=!1);else if(nn===37)qt=!0;else if(en[nn]!==1)break;nn=this.nextChar()}switch(nn|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),Et.Cmd.get("[");case 93:return this.nextChar(),Et.Cmd.get("]");case 60:return nn=this.nextChar(),nn===60?(this.nextChar(),Et.Cmd.get("<<")):this.getHexString();case 62:return nn=this.nextChar(),nn===62?(this.nextChar(),Et.Cmd.get(">>")):Et.Cmd.get(">");case 123:return this.nextChar(),Et.Cmd.get("{");case 125:return this.nextChar(),Et.Cmd.get("}");case 41:throw this.nextChar(),new vt.FormatError(`Illegal character: ${nn}`)}let Ut=String.fromCharCode(nn);if(nn<32||nn>127){const ln=this.peekChar();if(ln>=32&&ln<=127)return this.nextChar(),Et.Cmd.get(Ut)}const zt=this.knownCommands;let cn=zt&&zt[Ut]!==void 0;for(;(nn=this.nextChar())>=0&&!en[nn];){const ln=Ut+String.fromCharCode(nn);if(cn&&zt[ln]===void 0)break;if(Ut.length===128)throw new vt.FormatError(`Command token too long: ${Ut.length}`);Ut=ln,cn=zt&&zt[Ut]!==void 0}return Ut==="true"?!0:Ut==="false"?!1:Ut==="null"?null:(Ut==="BI"&&(this.beginInlineImagePos=this.stream.pos),Et.Cmd.get(Ut))}peekObj(){const qt=this.stream.pos,nn=this.currentChar,Ut=this.beginInlineImagePos;let zt;try{zt=this.getObj()}catch(cn){if(cn instanceof Mt.MissingDataException)throw cn;(0,vt.warn)(`peekObj: ${cn}`)}return this.stream.pos=qt,this.currentChar=nn,this.beginInlineImagePos=Ut,zt}skipToNextLine(){let qt=this.currentChar;for(;qt>=0;){if(qt===13){qt=this.nextChar(),qt===10&&this.nextChar();break}else if(qt===10){this.nextChar();break}qt=this.nextChar()}}}St.Lexer=sn;class hn{static create(qt){function nn(un,yn,xn=!1){const rn=un.get(yn);if(Number.isInteger(rn)&&(xn?rn>=0:rn>0))return rn;throw new Error(`The "${yn}" parameter in the linearization dictionary is invalid.`)}function Ut(un){const yn=un.get("H");let xn;if(Array.isArray(yn)&&((xn=yn.length)===2||xn===4)){for(let rn=0;rn<xn;rn++){const dn=yn[rn];if(!(Number.isInteger(dn)&&dn>0))throw new Error(`Hint (${rn}) in the linearization dictionary is invalid.`)}return yn}throw new Error("Hint array in the linearization dictionary is invalid.")}const zt=new Wt({lexer:new sn(qt),xref:null}),cn=zt.getObj(),ln=zt.getObj(),Kt=zt.getObj(),Jt=zt.getObj();let Yt,tn;if(Number.isInteger(cn)&&Number.isInteger(ln)&&(0,Et.isCmd)(Kt,"obj")&&Jt instanceof Et.Dict&&typeof(Yt=Jt.get("Linearized"))=="number"&&Yt>0){if((tn=nn(Jt,"L"))!==qt.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:tn,hints:Ut(Jt),objectNumberFirst:nn(Jt,"O"),endFirst:nn(Jt,"E"),numPages:nn(Jt,"N"),mainXRefEntriesOffset:nn(Jt,"T"),pageFirst:Jt.has("P")?nn(Jt,"P",!0):0}}}St.Linearization=hn},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.Ascii85Stream=void 0;var vt=Ft(19),Et=Ft(6);class Mt extends vt.DecodeStream{constructor(xt,$t){$t&&($t*=.8),super($t),this.str=xt,this.dict=xt.dict,this.input=new Uint8Array(5)}readBlock(){const jt=this.str;let Rt=jt.getByte();for(;(0,Et.isWhiteSpace)(Rt);)Rt=jt.getByte();if(Rt===-1||Rt===126){this.eof=!0;return}const Nt=this.bufferLength;let Lt,kt;if(Rt===122){for(Lt=this.ensureBuffer(Nt+4),kt=0;kt<4;++kt)Lt[Nt+kt]=0;this.bufferLength+=4}else{const Bt=this.input;for(Bt[0]=Rt,kt=1;kt<5;++kt){for(Rt=jt.getByte();(0,Et.isWhiteSpace)(Rt);)Rt=jt.getByte();if(Bt[kt]=Rt,Rt===-1||Rt===126)break}if(Lt=this.ensureBuffer(Nt+kt-1),this.bufferLength+=kt-1,kt<5){for(;kt<5;++kt)Bt[kt]=117;this.eof=!0}let Ht=0;for(kt=0;kt<5;++kt)Ht=Ht*85+(Bt[kt]-33);for(kt=3;kt>=0;--kt)Lt[Nt+kt]=Ht&255,Ht>>=8}}}St.Ascii85Stream=Mt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.StreamsSequenceStream=St.DecodeStream=void 0;var vt=Ft(7),Et=Ft(10);const Mt=new Uint8Array(0);class Pt extends vt.BaseStream{constructor(_t){if(super(),this._rawMinBufferLength=_t||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=Mt,this.minBufferLength=512,_t)for(;this.minBufferLength<_t;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(_t){const jt=this.buffer;if(_t<=jt.byteLength)return jt;let Rt=this.minBufferLength;for(;Rt<_t;)Rt*=2;const Nt=new Uint8Array(Rt);return Nt.set(jt),this.buffer=Nt}getByte(){const _t=this.pos;for(;this.bufferLength<=_t;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(_t){const jt=this.pos;let Rt;if(_t){for(this.ensureBuffer(jt+_t),Rt=jt+_t;!this.eof&&this.bufferLength<Rt;)this.readBlock();const Nt=this.bufferLength;Rt>Nt&&(Rt=Nt)}else{for(;!this.eof;)this.readBlock();Rt=this.bufferLength}return this.pos=Rt,this.buffer.subarray(jt,Rt)}reset(){this.pos=0}makeSubStream(_t,jt,Rt=null){if(jt===void 0)for(;!this.eof;)this.readBlock();else{const Nt=_t+jt;for(;this.bufferLength<=Nt&&!this.eof;)this.readBlock()}return new Et.Stream(this.buffer,_t,jt,Rt)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}St.DecodeStream=Pt;class xt extends Pt{constructor(_t,jt=null){let Rt=0;for(const Nt of _t)Rt+=Nt instanceof Pt?Nt._rawMinBufferLength:Nt.length;super(Rt),this.streams=_t,this._onError=jt}readBlock(){const _t=this.streams;if(_t.length===0){this.eof=!0;return}const jt=_t.shift();let Rt;try{Rt=jt.getBytes()}catch(Bt){if(this._onError){this._onError(Bt,jt.dict&&jt.dict.objId);return}throw Bt}const Nt=this.bufferLength,Lt=Nt+Rt.length;this.ensureBuffer(Lt).set(Rt,Nt),this.bufferLength=Lt}getBaseStreams(){const _t=[];for(const jt of this.streams){const Rt=jt.getBaseStreams();Rt&&_t.push(...Rt)}return _t.length>0?_t:null}}St.StreamsSequenceStream=xt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.AsciiHexStream=void 0;var vt=Ft(19);class Et extends vt.DecodeStream{constructor(Pt,xt){xt&&(xt*=.5),super(xt),this.str=Pt,this.dict=Pt.dict,this.firstDigit=-1}readBlock(){const xt=this.str.getBytes(8e3);if(!xt.length){this.eof=!0;return}const $t=xt.length+1>>1,_t=this.ensureBuffer(this.bufferLength+$t);let jt=this.bufferLength,Rt=this.firstDigit;for(const Nt of xt){let Lt;if(Nt>=48&&Nt<=57)Lt=Nt&15;else if(Nt>=65&&Nt<=70||Nt>=97&&Nt<=102)Lt=(Nt&15)+9;else if(Nt===62){this.eof=!0;break}else continue;Rt<0?Rt=Lt:(_t[jt++]=Rt<<4|Lt,Rt=-1)}Rt>=0&&this.eof&&(_t[jt++]=Rt<<4,Rt=-1),this.firstDigit=Rt,this.bufferLength=jt}}St.AsciiHexStream=Et},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.CCITTFaxStream=void 0;var vt=Ft(22),Et=Ft(19),Mt=Ft(5);class Pt extends Et.DecodeStream{constructor($t,_t,jt){super(_t),this.str=$t,this.dict=$t.dict,jt instanceof Mt.Dict||(jt=Mt.Dict.empty);const Rt={next(){return $t.getByte()}};this.ccittFaxDecoder=new vt.CCITTFaxDecoder(Rt,{K:jt.get("K"),EndOfLine:jt.get("EndOfLine"),EncodedByteAlign:jt.get("EncodedByteAlign"),Columns:jt.get("Columns"),Rows:jt.get("Rows"),EndOfBlock:jt.get("EndOfBlock"),BlackIs1:jt.get("BlackIs1")})}readBlock(){for(;!this.eof;){const $t=this.ccittFaxDecoder.readNextChar();if($t===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=$t}}}St.CCITTFaxStream=Pt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.CCITTFaxDecoder=void 0;var vt=Ft(2);const Et=-2,Mt=-1,Pt=0,xt=1,$t=2,_t=3,jt=4,Rt=5,Nt=6,Lt=7,kt=8,Bt=[[-1,-1],[-1,-1],[7,kt],[7,Lt],[6,Nt],[6,Nt],[6,Rt],[6,Rt],[4,Pt],[4,Pt],[4,Pt],[4,Pt],[4,Pt],[4,Pt],[4,Pt],[4,Pt],[3,xt],[3,xt],[3,xt],[3,xt],[3,xt],[3,xt],[3,xt],[3,xt],[3,xt],[3,xt],[3,xt],[3,xt],[3,xt],[3,xt],[3,xt],[3,xt],[3,jt],[3,jt],[3,jt],[3,jt],[3,jt],[3,jt],[3,jt],[3,jt],[3,jt],[3,jt],[3,jt],[3,jt],[3,jt],[3,jt],[3,jt],[3,jt],[3,_t],[3,_t],[3,_t],[3,_t],[3,_t],[3,_t],[3,_t],[3,_t],[3,_t],[3,_t],[3,_t],[3,_t],[3,_t],[3,_t],[3,_t],[3,_t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t],[1,$t]],Ht=[[-1,-1],[12,Et],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],Ot=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],Vt=[[-1,-1],[-1,-1],[12,Et],[12,Et],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],Gt=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],Wt=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class en{constructor(sn,hn={}){if(!sn||typeof sn.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=sn,this.eof=!1,this.encoding=hn.K||0,this.eoline=hn.EndOfLine||!1,this.byteAlign=hn.EncodedByteAlign||!1,this.columns=hn.Columns||1728,this.rows=hn.Rows||0;let Qt=hn.EndOfBlock;Qt==null&&(Qt=!0),this.eoblock=Qt,this.black=hn.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let qt;for(;(qt=this._lookBits(12))===0;)this._eatBits(1);qt===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const sn=this.refLine,hn=this.codingLine,Qt=this.columns;let qt,nn,Ut,zt;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let ln,Kt,Jt;if(this.nextLine2D){for(zt=0;hn[zt]<Qt;++zt)sn[zt]=hn[zt];for(sn[zt++]=Qt,sn[zt]=Qt,hn[0]=0,this.codingPos=0,qt=0,nn=0;hn[this.codingPos]<Qt;)switch(ln=this._getTwoDimCode(),ln){case Pt:this._addPixels(sn[qt+1],nn),sn[qt+1]<Qt&&(qt+=2);break;case xt:if(ln=Kt=0,nn){do ln+=Jt=this._getBlackCode();while(Jt>=64);do Kt+=Jt=this._getWhiteCode();while(Jt>=64)}else{do ln+=Jt=this._getWhiteCode();while(Jt>=64);do Kt+=Jt=this._getBlackCode();while(Jt>=64)}for(this._addPixels(hn[this.codingPos]+ln,nn),hn[this.codingPos]<Qt&&this._addPixels(hn[this.codingPos]+Kt,nn^1);sn[qt]<=hn[this.codingPos]&&sn[qt]<Qt;)qt+=2;break;case Lt:if(this._addPixels(sn[qt]+3,nn),nn^=1,hn[this.codingPos]<Qt)for(++qt;sn[qt]<=hn[this.codingPos]&&sn[qt]<Qt;)qt+=2;break;case Rt:if(this._addPixels(sn[qt]+2,nn),nn^=1,hn[this.codingPos]<Qt)for(++qt;sn[qt]<=hn[this.codingPos]&&sn[qt]<Qt;)qt+=2;break;case _t:if(this._addPixels(sn[qt]+1,nn),nn^=1,hn[this.codingPos]<Qt)for(++qt;sn[qt]<=hn[this.codingPos]&&sn[qt]<Qt;)qt+=2;break;case $t:if(this._addPixels(sn[qt],nn),nn^=1,hn[this.codingPos]<Qt)for(++qt;sn[qt]<=hn[this.codingPos]&&sn[qt]<Qt;)qt+=2;break;case kt:if(this._addPixelsNeg(sn[qt]-3,nn),nn^=1,hn[this.codingPos]<Qt)for(qt>0?--qt:++qt;sn[qt]<=hn[this.codingPos]&&sn[qt]<Qt;)qt+=2;break;case Nt:if(this._addPixelsNeg(sn[qt]-2,nn),nn^=1,hn[this.codingPos]<Qt)for(qt>0?--qt:++qt;sn[qt]<=hn[this.codingPos]&&sn[qt]<Qt;)qt+=2;break;case jt:if(this._addPixelsNeg(sn[qt]-1,nn),nn^=1,hn[this.codingPos]<Qt)for(qt>0?--qt:++qt;sn[qt]<=hn[this.codingPos]&&sn[qt]<Qt;)qt+=2;break;case Mt:this._addPixels(Qt,0),this.eof=!0;break;default:(0,vt.info)("bad 2d code"),this._addPixels(Qt,0),this.err=!0}}else for(hn[0]=0,this.codingPos=0,nn=0;hn[this.codingPos]<Qt;){if(ln=0,nn)do ln+=Jt=this._getBlackCode();while(Jt>=64);else do ln+=Jt=this._getWhiteCode();while(Jt>=64);this._addPixels(hn[this.codingPos]+ln,nn),nn^=1}let Yt=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(ln=this._lookBits(12),this.eoline)for(;ln!==Mt&&ln!==1;)this._eatBits(1),ln=this._lookBits(12);else for(;ln===0;)this._eatBits(1),ln=this._lookBits(12);ln===1?(this._eatBits(12),Yt=!0):ln===Mt&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&Yt&&this.byteAlign){if(ln=this._lookBits(12),ln===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(zt=0;zt<4;++zt)ln=this._lookBits(12),ln!==1&&(0,vt.info)("bad rtc code: "+ln),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(ln=this._lookBits(13),ln===Mt)return this.eof=!0,-1;if(ln>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(ln&1))}hn[0]>0?this.outputBits=hn[this.codingPos=0]:this.outputBits=hn[this.codingPos=1],this.row++}let cn;if(this.outputBits>=8)cn=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&hn[this.codingPos]<Qt&&(this.codingPos++,this.outputBits=hn[this.codingPos]-hn[this.codingPos-1]);else{Ut=8,cn=0;do{if(typeof this.outputBits!="number")throw new vt.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>Ut?(cn<<=Ut,this.codingPos&1||(cn|=255>>8-Ut),this.outputBits-=Ut,Ut=0):(cn<<=this.outputBits,this.codingPos&1||(cn|=255>>8-this.outputBits),Ut-=this.outputBits,this.outputBits=0,hn[this.codingPos]<Qt?(this.codingPos++,this.outputBits=hn[this.codingPos]-hn[this.codingPos-1]):Ut>0&&(cn<<=Ut,Ut=0))}while(Ut)}return this.black&&(cn^=255),cn}_addPixels(sn,hn){const Qt=this.codingLine;let qt=this.codingPos;sn>Qt[qt]&&(sn>this.columns&&((0,vt.info)("row is wrong length"),this.err=!0,sn=this.columns),qt&1^hn&&++qt,Qt[qt]=sn),this.codingPos=qt}_addPixelsNeg(sn,hn){const Qt=this.codingLine;let qt=this.codingPos;if(sn>Qt[qt])sn>this.columns&&((0,vt.info)("row is wrong length"),this.err=!0,sn=this.columns),qt&1^hn&&++qt,Qt[qt]=sn;else if(sn<Qt[qt]){for(sn<0&&((0,vt.info)("invalid code"),this.err=!0,sn=0);qt>0&&sn<Qt[qt-1];)--qt;Qt[qt]=sn}this.codingPos=qt}_findTableCode(sn,hn,Qt,qt){const nn=qt||0;for(let Ut=sn;Ut<=hn;++Ut){let zt=this._lookBits(Ut);if(zt===Mt)return[!0,1,!1];if(Ut<hn&&(zt<<=hn-Ut),!nn||zt>=nn){const cn=Qt[zt-nn];if(cn[0]===Ut)return this._eatBits(Ut),[!0,cn[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let sn=0,hn;if(this.eoblock){if(sn=this._lookBits(7),hn=Bt[sn],hn&&hn[0]>0)return this._eatBits(hn[0]),hn[1]}else{const Qt=this._findTableCode(1,7,Bt);if(Qt[0]&&Qt[2])return Qt[1]}return(0,vt.info)("Bad two dim code"),Mt}_getWhiteCode(){let sn=0,hn;if(this.eoblock){if(sn=this._lookBits(12),sn===Mt)return 1;if(sn>>5?hn=Ot[sn>>3]:hn=Ht[sn],hn[0]>0)return this._eatBits(hn[0]),hn[1]}else{let Qt=this._findTableCode(1,9,Ot);if(Qt[0]||(Qt=this._findTableCode(11,12,Ht),Qt[0]))return Qt[1]}return(0,vt.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let sn,hn;if(this.eoblock){if(sn=this._lookBits(13),sn===Mt)return 1;if(sn>>7?!(sn>>9)&&sn>>7?hn=Gt[(sn>>1)-64]:hn=Wt[sn>>7]:hn=Vt[sn],hn[0]>0)return this._eatBits(hn[0]),hn[1]}else{let Qt=this._findTableCode(2,6,Wt);if(Qt[0]||(Qt=this._findTableCode(7,12,Gt,64),Qt[0])||(Qt=this._findTableCode(10,13,Vt),Qt[0]))return Qt[1]}return(0,vt.info)("bad black code"),this._eatBits(1),1}_lookBits(sn){let hn;for(;this.inputBits<sn;){if((hn=this.source.next())===-1)return this.inputBits===0?Mt:this.inputBuf<<sn-this.inputBits&65535>>16-sn;this.inputBuf=this.inputBuf<<8|hn,this.inputBits+=8}return this.inputBuf>>this.inputBits-sn&65535>>16-sn}_eatBits(sn){(this.inputBits-=sn)<0&&(this.inputBits=0)}}St.CCITTFaxDecoder=en},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.FlateStream=void 0;var vt=Ft(19),Et=Ft(2);const Mt=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pt=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),xt=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),$t=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],_t=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class jt extends vt.DecodeStream{constructor(Nt,Lt){super(Lt),this.str=Nt,this.dict=Nt.dict;const kt=Nt.getByte(),Bt=Nt.getByte();if(kt===-1||Bt===-1)throw new Et.FormatError(`Invalid header in flate stream: ${kt}, ${Bt}`);if((kt&15)!==8)throw new Et.FormatError(`Unknown compression method in flate stream: ${kt}, ${Bt}`);if(((kt<<8)+Bt)%31!==0)throw new Et.FormatError(`Bad FCHECK in flate stream: ${kt}, ${Bt}`);if(Bt&32)throw new Et.FormatError(`FDICT bit set in flate stream: ${kt}, ${Bt}`);this.codeSize=0,this.codeBuf=0}getBits(Nt){const Lt=this.str;let kt=this.codeSize,Bt=this.codeBuf,Ht;for(;kt<Nt;){if((Ht=Lt.getByte())===-1)throw new Et.FormatError("Bad encoding in flate stream");Bt|=Ht<<kt,kt+=8}return Ht=Bt&(1<<Nt)-1,this.codeBuf=Bt>>Nt,this.codeSize=kt-=Nt,Ht}getCode(Nt){const Lt=this.str,kt=Nt[0],Bt=Nt[1];let Ht=this.codeSize,Ot=this.codeBuf,Vt;for(;Ht<Bt&&(Vt=Lt.getByte())!==-1;)Ot|=Vt<<Ht,Ht+=8;const Gt=kt[Ot&(1<<Bt)-1],Wt=Gt>>16,en=Gt&65535;if(Wt<1||Ht<Wt)throw new Et.FormatError("Bad encoding in flate stream");return this.codeBuf=Ot>>Wt,this.codeSize=Ht-Wt,en}generateHuffmanTable(Nt){const Lt=Nt.length;let kt=0,Bt;for(Bt=0;Bt<Lt;++Bt)Nt[Bt]>kt&&(kt=Nt[Bt]);const Ht=1<<kt,Ot=new Int32Array(Ht);for(let Vt=1,Gt=0,Wt=2;Vt<=kt;++Vt,Gt<<=1,Wt<<=1)for(let en=0;en<Lt;++en)if(Nt[en]===Vt){let Sn=0,sn=Gt;for(Bt=0;Bt<Vt;++Bt)Sn=Sn<<1|sn&1,sn>>=1;for(Bt=Sn;Bt<Ht;Bt+=Wt)Ot[Bt]=Vt<<16|en;++Gt}return[Ot,kt]}readBlock(){let Nt,Lt;const kt=this.str;let Bt=this.getBits(3);if(Bt&1&&(this.eof=!0),Bt>>=1,Bt===0){let Wt;if((Wt=kt.getByte())===-1)throw new Et.FormatError("Bad block header in flate stream");let en=Wt;if((Wt=kt.getByte())===-1)throw new Et.FormatError("Bad block header in flate stream");if(en|=Wt<<8,(Wt=kt.getByte())===-1)throw new Et.FormatError("Bad block header in flate stream");let Sn=Wt;if((Wt=kt.getByte())===-1)throw new Et.FormatError("Bad block header in flate stream");if(Sn|=Wt<<8,Sn!==(~en&65535)&&(en!==0||Sn!==0))throw new Et.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const sn=this.bufferLength,hn=sn+en;if(Nt=this.ensureBuffer(hn),this.bufferLength=hn,en===0)kt.peekByte()===-1&&(this.eof=!0);else{const Qt=kt.getBytes(en);Nt.set(Qt,sn),Qt.length<en&&(this.eof=!0)}return}let Ht,Ot;if(Bt===1)Ht=$t,Ot=_t;else if(Bt===2){const Wt=this.getBits(5)+257,en=this.getBits(5)+1,Sn=this.getBits(4)+4,sn=new Uint8Array(Mt.length);let hn;for(hn=0;hn<Sn;++hn)sn[Mt[hn]]=this.getBits(3);const Qt=this.generateHuffmanTable(sn);Lt=0,hn=0;const qt=Wt+en,nn=new Uint8Array(qt);let Ut,zt,cn;for(;hn<qt;){const ln=this.getCode(Qt);if(ln===16)Ut=2,zt=3,cn=Lt;else if(ln===17)Ut=3,zt=3,cn=Lt=0;else if(ln===18)Ut=7,zt=11,cn=Lt=0;else{nn[hn++]=Lt=ln;continue}let Kt=this.getBits(Ut)+zt;for(;Kt-- >0;)nn[hn++]=cn}Ht=this.generateHuffmanTable(nn.subarray(0,Wt)),Ot=this.generateHuffmanTable(nn.subarray(Wt,qt))}else throw new Et.FormatError("Unknown block type in flate stream");Nt=this.buffer;let Vt=Nt?Nt.length:0,Gt=this.bufferLength;for(;;){let Wt=this.getCode(Ht);if(Wt<256){Gt+1>=Vt&&(Nt=this.ensureBuffer(Gt+1),Vt=Nt.length),Nt[Gt++]=Wt;continue}if(Wt===256){this.bufferLength=Gt;return}Wt-=257,Wt=Pt[Wt];let en=Wt>>16;en>0&&(en=this.getBits(en)),Lt=(Wt&65535)+en,Wt=this.getCode(Ot),Wt=xt[Wt],en=Wt>>16,en>0&&(en=this.getBits(en));const Sn=(Wt&65535)+en;Gt+Lt>=Vt&&(Nt=this.ensureBuffer(Gt+Lt),Vt=Nt.length);for(let sn=0;sn<Lt;++sn,++Gt)Nt[Gt]=Nt[Gt-Sn]}}}St.FlateStream=jt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.Jbig2Stream=void 0;var vt=Ft(7),Et=Ft(19),Mt=Ft(5),Pt=Ft(25),xt=Ft(2);class $t extends Et.DecodeStream{constructor(jt,Rt,Nt){super(Rt),this.stream=jt,this.dict=jt.dict,this.maybeLength=Rt,this.params=Nt}get bytes(){return(0,xt.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(jt){}readBlock(){if(this.eof)return;const jt=new Pt.Jbig2Image,Rt=[];if(this.params instanceof Mt.Dict){const kt=this.params.get("JBIG2Globals");if(kt instanceof vt.BaseStream){const Bt=kt.getBytes();Rt.push({data:Bt,start:0,end:Bt.length})}}Rt.push({data:this.bytes,start:0,end:this.bytes.length});const Nt=jt.parseChunks(Rt),Lt=Nt.length;for(let kt=0;kt<Lt;kt++)Nt[kt]^=255;this.buffer=Nt,this.bufferLength=Lt,this.eof=!0}}St.Jbig2Stream=$t},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.Jbig2Image=void 0;var vt=Ft(2),Et=Ft(6),Mt=Ft(26),Pt=Ft(22);class xt extends vt.BaseException{constructor(vn){super(`JBIG2 error: ${vn}`,"Jbig2Error")}}class $t{getContexts(vn){return vn in this?this[vn]:this[vn]=new Int8Array(65536)}}class _t{constructor(vn,gn,on){this.data=vn,this.start=gn,this.end=on}get decoder(){const vn=new Mt.ArithmeticDecoder(this.data,this.start,this.end);return(0,vt.shadow)(this,"decoder",vn)}get contextCache(){const vn=new $t;return(0,vt.shadow)(this,"contextCache",vn)}}function jt(bn,vn,gn){const on=bn.getContexts(vn);let wn=1;function pn(Fn){let En=0;for(let kn=0;kn<Fn;kn++){const Pn=gn.readBit(on,wn);wn=wn<256?wn<<1|Pn:(wn<<1|Pn)&511|256,En=En<<1|Pn}return En>>>0}const Cn=pn(1),Tn=pn(1)?pn(1)?pn(1)?pn(1)?pn(1)?pn(32)+4436:pn(12)+340:pn(8)+84:pn(6)+20:pn(4)+4:pn(2);return Cn===0?Tn:Tn>0?-Tn:null}function Rt(bn,vn,gn){const on=bn.getContexts("IAID");let wn=1;for(let pn=0;pn<gn;pn++){const Cn=vn.readBit(on,wn);wn=wn<<1|Cn}return gn<31?wn&(1<<gn)-1:wn&2147483647}const Nt=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],Lt=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],kt=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],Bt=[39717,1941,229,405];function Ht(bn,vn,gn){const on=gn.decoder,wn=gn.contextCache.getContexts("GB"),pn=[];let Cn,Tn,Fn,En,kn,Pn,_n;const Mn=31735;for(Tn=0;Tn<vn;Tn++)for(kn=pn[Tn]=new Uint8Array(bn),Pn=Tn<1?kn:pn[Tn-1],_n=Tn<2?kn:pn[Tn-2],Cn=_n[0]<<13|_n[1]<<12|_n[2]<<11|Pn[0]<<7|Pn[1]<<6|Pn[2]<<5|Pn[3]<<4,Fn=0;Fn<bn;Fn++)kn[Fn]=En=on.readBit(wn,Cn),Cn=(Cn&Mn)<<1|(Fn+3<bn?_n[Fn+3]<<11:0)|(Fn+4<bn?Pn[Fn+4]<<4:0)|En;return pn}function Ot(bn,vn,gn,on,wn,pn,Cn,Tn){if(bn){const Mr=new yn(Tn.data,Tn.start,Tn.end);return an(Mr,vn,gn,!1)}if(on===0&&!pn&&!wn&&Cn.length===4&&Cn[0].x===3&&Cn[0].y===-1&&Cn[1].x===-3&&Cn[1].y===-1&&Cn[2].x===2&&Cn[2].y===-2&&Cn[3].x===-2&&Cn[3].y===-2)return Ht(vn,gn,Tn);const Fn=Lt[on].concat(Cn);Fn.sort(function(Mr,qr){return Mr.y-qr.y||Mr.x-qr.x});const En=Fn.length,kn=new Int8Array(En),Pn=new Int8Array(En),_n=[];let Mn=0,On=0,jn=0,qn=0,Gn,Yn;for(Yn=0;Yn<En;Yn++)kn[Yn]=Fn[Yn].x,Pn[Yn]=Fn[Yn].y,On=Math.min(On,Fn[Yn].x),jn=Math.max(jn,Fn[Yn].x),qn=Math.min(qn,Fn[Yn].y),Yn<En-1&&Fn[Yn].y===Fn[Yn+1].y&&Fn[Yn].x===Fn[Yn+1].x-1?Mn|=1<<En-1-Yn:_n.push(Yn);const er=_n.length,cr=new Int8Array(er),rr=new Int8Array(er),tr=new Uint16Array(er);for(Gn=0;Gn<er;Gn++)Yn=_n[Gn],cr[Gn]=Fn[Yn].x,rr[Gn]=Fn[Yn].y,tr[Gn]=1<<En-1-Yn;const ir=-On,Kn=-qn,Vn=vn-jn,Bn=Bt[on];let lr=new Uint8Array(vn);const br=[],Pr=Tn.decoder,nr=Tn.contextCache.getContexts("GB");let _i=0,zn,wr,Cr,yr=0,Br,gr;for(let Mr=0;Mr<gn;Mr++){if(wn){const qr=Pr.readBit(nr,Bn);if(_i^=qr,_i){br.push(lr);continue}}for(lr=new Uint8Array(lr),br.push(lr),zn=0;zn<vn;zn++){if(zn>=ir&&zn<Vn&&Mr>=Kn)for(yr=yr<<1&Mn,Yn=0;Yn<er;Yn++)wr=Mr+rr[Yn],Cr=zn+cr[Yn],Br=br[wr][Cr],Br&&(Br=tr[Yn],yr|=Br);else for(yr=0,gr=En-1,Yn=0;Yn<En;Yn++,gr--)Cr=zn+kn[Yn],Cr>=0&&Cr<vn&&(wr=Mr+Pn[Yn],wr>=0&&(Br=br[wr][Cr],Br&&(yr|=Br<<gr)));const qr=Pr.readBit(nr,yr);lr[zn]=qr}}return br}function Vt(bn,vn,gn,on,wn,pn,Cn,Tn,Fn){let En=kt[gn].coding;gn===0&&(En=En.concat([Tn[0]]));const kn=En.length,Pn=new Int32Array(kn),_n=new Int32Array(kn);let Mn;for(Mn=0;Mn<kn;Mn++)Pn[Mn]=En[Mn].x,_n[Mn]=En[Mn].y;let On=kt[gn].reference;gn===0&&(On=On.concat([Tn[1]]));const jn=On.length,qn=new Int32Array(jn),Gn=new Int32Array(jn);for(Mn=0;Mn<jn;Mn++)qn[Mn]=On[Mn].x,Gn[Mn]=On[Mn].y;const Yn=on[0].length,er=on.length,cr=[],rr=Fn.decoder,tr=Fn.contextCache.getContexts("GR");for(let ir=0;ir<vn;ir++){const Kn=new Uint8Array(bn);cr.push(Kn);for(let Vn=0;Vn<bn;Vn++){let Bn,lr,br=0;for(Mn=0;Mn<kn;Mn++)Bn=ir+_n[Mn],lr=Vn+Pn[Mn],Bn<0||lr<0||lr>=bn?br<<=1:br=br<<1|cr[Bn][lr];for(Mn=0;Mn<jn;Mn++)Bn=ir+Gn[Mn]-pn,lr=Vn+qn[Mn]-wn,Bn<0||Bn>=er||lr<0||lr>=Yn?br<<=1:br=br<<1|on[Bn][lr];const Pr=rr.readBit(tr,br);Kn[Vn]=Pr}}return cr}function Gt(bn,vn,gn,on,wn,pn,Cn,Tn,Fn,En,kn,Pn){if(bn&&vn)throw new xt("symbol refinement with Huffman is not supported");const _n=[];let Mn=0,On=(0,Et.log2)(gn.length+on);const jn=kn.decoder,qn=kn.contextCache;let Gn,Yn;for(bn&&(Gn=un(1),Yn=[],On=Math.max(On,1));_n.length<on;){const Vn=bn?pn.tableDeltaHeight.decode(Pn):jt(qn,"IADH",jn);Mn+=Vn;let Bn=0,lr=0;const br=bn?Yn.length:0;for(;;){const Pr=bn?pn.tableDeltaWidth.decode(Pn):jt(qn,"IADW",jn);if(Pr===null)break;Bn+=Pr,lr+=Bn;let nr;if(vn){const _i=jt(qn,"IAAI",jn);if(_i>1)nr=Wt(bn,vn,Bn,Mn,0,_i,1,gn.concat(_n),On,0,0,1,0,pn,Fn,En,kn,0,Pn);else{const zn=Rt(qn,jn,On),wr=jt(qn,"IARDX",jn),Cr=jt(qn,"IARDY",jn),yr=zn<gn.length?gn[zn]:_n[zn-gn.length];nr=Vt(Bn,Mn,Fn,yr,wr,Cr,!1,En,kn)}_n.push(nr)}else bn?Yn.push(Bn):(nr=Ot(!1,Bn,Mn,Cn,!1,null,Tn,kn),_n.push(nr))}if(bn&&!vn){const Pr=pn.tableBitmapSize.decode(Pn);Pn.byteAlign();let nr;if(Pr===0)nr=An(Pn,lr,Mn);else{const zn=Pn.end,wr=Pn.position+Pr;Pn.end=wr,nr=an(Pn,lr,Mn,!1),Pn.end=zn,Pn.position=wr}const _i=Yn.length;if(br===_i-1)_n.push(nr);else{let zn,wr,Cr=0,yr,Br,gr;for(zn=br;zn<_i;zn++){for(Br=Yn[zn],yr=Cr+Br,gr=[],wr=0;wr<Mn;wr++)gr.push(nr[wr].subarray(Cr,yr));_n.push(gr),Cr=yr}}}}const er=[],cr=[];let rr=!1,tr,ir;const Kn=gn.length+on;for(;cr.length<Kn;){let Vn=bn?Gn.decode(Pn):jt(qn,"IAEX",jn);for(;Vn--;)cr.push(rr);rr=!rr}for(tr=0,ir=gn.length;tr<ir;tr++)cr[tr]&&er.push(gn[tr]);for(let Vn=0;Vn<on;tr++,Vn++)cr[tr]&&er.push(_n[Vn]);return er}function Wt(bn,vn,gn,on,wn,pn,Cn,Tn,Fn,En,kn,Pn,_n,Mn,On,jn,qn,Gn,Yn){if(bn&&vn)throw new xt("refinement with Huffman is not supported");const er=[];let cr,rr;for(cr=0;cr<on;cr++){if(rr=new Uint8Array(gn),wn)for(let Bn=0;Bn<gn;Bn++)rr[Bn]=wn;er.push(rr)}const tr=qn.decoder,ir=qn.contextCache;let Kn=bn?-Mn.tableDeltaT.decode(Yn):-jt(ir,"IADT",tr),Vn=0;for(cr=0;cr<pn;){const Bn=bn?Mn.tableDeltaT.decode(Yn):jt(ir,"IADT",tr);Kn+=Bn;const lr=bn?Mn.tableFirstS.decode(Yn):jt(ir,"IAFS",tr);Vn+=lr;let br=Vn;do{let Pr=0;Cn>1&&(Pr=bn?Yn.readBits(Gn):jt(ir,"IAIT",tr));const nr=Cn*Kn+Pr,_i=bn?Mn.symbolIDTable.decode(Yn):Rt(ir,tr,Fn),zn=vn&&(bn?Yn.readBit():jt(ir,"IARI",tr));let wr=Tn[_i],Cr=wr[0].length,yr=wr.length;if(zn){const Rr=jt(ir,"IARDW",tr),fs=jt(ir,"IARDH",tr),Yr=jt(ir,"IARDX",tr),Jr=jt(ir,"IARDY",tr);Cr+=Rr,yr+=fs,wr=Vt(Cr,yr,On,wr,(Rr>>1)+Yr,(fs>>1)+Jr,!1,jn,qn)}const Br=nr-(Pn&1?0:yr-1),gr=br-(Pn&2?Cr-1:0);let Mr,qr,pr;if(En){for(Mr=0;Mr<yr;Mr++){if(rr=er[gr+Mr],!rr)continue;pr=wr[Mr];const Rr=Math.min(gn-Br,Cr);switch(_n){case 0:for(qr=0;qr<Rr;qr++)rr[Br+qr]|=pr[qr];break;case 2:for(qr=0;qr<Rr;qr++)rr[Br+qr]^=pr[qr];break;default:throw new xt(`operator ${_n} is not supported`)}}br+=yr-1}else{for(qr=0;qr<yr;qr++)if(rr=er[Br+qr],!!rr)switch(pr=wr[qr],_n){case 0:for(Mr=0;Mr<Cr;Mr++)rr[gr+Mr]|=pr[Mr];break;case 2:for(Mr=0;Mr<Cr;Mr++)rr[gr+Mr]^=pr[Mr];break;default:throw new xt(`operator ${_n} is not supported`)}br+=Cr-1}cr++;const zr=bn?Mn.tableDeltaS.decode(Yn):jt(ir,"IADS",tr);if(zr===null)break;br+=zr+kn}while(!0)}return er}function en(bn,vn,gn,on,wn,pn){const Cn=[];bn||(Cn.push({x:-vn,y:0}),wn===0&&Cn.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Tn=(on+1)*vn,Fn=Ot(bn,Tn,gn,wn,!1,null,Cn,pn),En=[];for(let kn=0;kn<=on;kn++){const Pn=[],_n=vn*kn,Mn=_n+vn;for(let On=0;On<gn;On++)Pn.push(Fn[On].subarray(_n,Mn));En.push(Pn)}return En}function Sn(bn,vn,gn,on,wn,pn,Cn,Tn,Fn,En,kn,Pn,_n,Mn,On){if(Cn)throw new xt("skip is not supported");if(Tn!==0)throw new xt(`operator "${Tn}" is not supported in halftone region`);const qn=[];let Gn,Yn,er;for(Gn=0;Gn<wn;Gn++){if(er=new Uint8Array(on),pn)for(Yn=0;Yn<on;Yn++)er[Yn]=pn;qn.push(er)}const cr=vn.length,rr=vn[0],tr=rr[0].length,ir=rr.length,Kn=(0,Et.log2)(cr),Vn=[];bn||(Vn.push({x:gn<=1?3:2,y:-1}),gn===0&&Vn.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Bn=[];let lr,br;for(bn&&(lr=new yn(On.data,On.start,On.end)),Gn=Kn-1;Gn>=0;Gn--)bn?br=an(lr,Fn,En,!0):br=Ot(!1,Fn,En,gn,!1,null,Vn,On),Bn[Gn]=br;let Pr,nr,_i,zn,wr,Cr,yr,Br,gr;for(Pr=0;Pr<En;Pr++)for(nr=0;nr<Fn;nr++){for(_i=0,zn=0,Yn=Kn-1;Yn>=0;Yn--)_i^=Bn[Yn][Pr][nr],zn|=_i<<Yn;if(wr=vn[zn],Cr=kn+Pr*Mn+nr*_n>>8,yr=Pn+Pr*_n-nr*Mn>>8,Cr>=0&&Cr+tr<=on&&yr>=0&&yr+ir<=wn)for(Gn=0;Gn<ir;Gn++)for(gr=qn[yr+Gn],Br=wr[Gn],Yn=0;Yn<tr;Yn++)gr[Cr+Yn]|=Br[Yn];else{let Mr,qr;for(Gn=0;Gn<ir;Gn++)if(qr=yr+Gn,!(qr<0||qr>=wn))for(gr=qn[qr],Br=wr[Gn],Yn=0;Yn<tr;Yn++)Mr=Cr+Yn,Mr>=0&&Mr<on&&(gr[Mr]|=Br[Yn])}}return qn}function sn(bn,vn){const gn={};gn.number=(0,Et.readUint32)(bn,vn);const on=bn[vn+4],wn=on&63;if(!Nt[wn])throw new xt("invalid segment type: "+wn);gn.type=wn,gn.typeName=Nt[wn],gn.deferredNonRetain=!!(on&128);const pn=!!(on&64),Cn=bn[vn+5];let Tn=Cn>>5&7;const Fn=[Cn&31];let En=vn+6;if(Cn===7){Tn=(0,Et.readUint32)(bn,En-1)&536870911,En+=3;let On=Tn+7>>3;for(Fn[0]=bn[En++];--On>0;)Fn.push(bn[En++])}else if(Cn===5||Cn===6)throw new xt("invalid referred-to flags");gn.retainBits=Fn;let kn=4;gn.number<=256?kn=1:gn.number<=65536&&(kn=2);const Pn=[];let _n,Mn;for(_n=0;_n<Tn;_n++){let On;kn===1?On=bn[En]:kn===2?On=(0,Et.readUint16)(bn,En):On=(0,Et.readUint32)(bn,En),Pn.push(On),En+=kn}if(gn.referredTo=Pn,pn?(gn.pageAssociation=(0,Et.readUint32)(bn,En),En+=4):gn.pageAssociation=bn[En++],gn.length=(0,Et.readUint32)(bn,En),En+=4,gn.length===4294967295)if(wn===38){const On=Qt(bn,En),qn=!!(bn[En+qt]&1),Gn=6,Yn=new Uint8Array(Gn);for(qn||(Yn[0]=255,Yn[1]=172),Yn[2]=On.height>>>24&255,Yn[3]=On.height>>16&255,Yn[4]=On.height>>8&255,Yn[5]=On.height&255,_n=En,Mn=bn.length;_n<Mn;_n++){let er=0;for(;er<Gn&&Yn[er]===bn[_n+er];)er++;if(er===Gn){gn.length=_n+Gn;break}}if(gn.length===4294967295)throw new xt("segment end was not found")}else throw new xt("invalid unknown segment length");return gn.headerEnd=En,gn}function hn(bn,vn,gn,on){const wn=[];let pn=gn;for(;pn<on;){const Cn=sn(vn,pn);pn=Cn.headerEnd;const Tn={header:Cn,data:vn};if(bn.randomAccess||(Tn.start=pn,pn+=Cn.length,Tn.end=pn),wn.push(Tn),Cn.type===51)break}if(bn.randomAccess)for(let Cn=0,Tn=wn.length;Cn<Tn;Cn++)wn[Cn].start=pn,pn+=wn[Cn].header.length,wn[Cn].end=pn;return wn}function Qt(bn,vn){return{width:(0,Et.readUint32)(bn,vn),height:(0,Et.readUint32)(bn,vn+4),x:(0,Et.readUint32)(bn,vn+8),y:(0,Et.readUint32)(bn,vn+12),combinationOperator:bn[vn+16]&7}}const qt=17;function nn(bn,vn){const gn=bn.header,on=bn.data,wn=bn.end;let pn=bn.start,Cn,Tn,Fn,En;switch(gn.type){case 0:const Pn={},_n=(0,Et.readUint16)(on,pn);if(Pn.huffman=!!(_n&1),Pn.refinement=!!(_n&2),Pn.huffmanDHSelector=_n>>2&3,Pn.huffmanDWSelector=_n>>4&3,Pn.bitmapSizeSelector=_n>>6&1,Pn.aggregationInstancesSelector=_n>>7&1,Pn.bitmapCodingContextUsed=!!(_n&256),Pn.bitmapCodingContextRetained=!!(_n&512),Pn.template=_n>>10&3,Pn.refinementTemplate=_n>>12&1,pn+=2,!Pn.huffman){for(En=Pn.template===0?4:1,Tn=[],Fn=0;Fn<En;Fn++)Tn.push({x:(0,Et.readInt8)(on,pn),y:(0,Et.readInt8)(on,pn+1)}),pn+=2;Pn.at=Tn}if(Pn.refinement&&!Pn.refinementTemplate){for(Tn=[],Fn=0;Fn<2;Fn++)Tn.push({x:(0,Et.readInt8)(on,pn),y:(0,Et.readInt8)(on,pn+1)}),pn+=2;Pn.refinementAt=Tn}Pn.numberOfExportedSymbols=(0,Et.readUint32)(on,pn),pn+=4,Pn.numberOfNewSymbols=(0,Et.readUint32)(on,pn),pn+=4,Cn=[Pn,gn.number,gn.referredTo,on,pn,wn];break;case 6:case 7:const Mn={};Mn.info=Qt(on,pn),pn+=qt;const On=(0,Et.readUint16)(on,pn);if(pn+=2,Mn.huffman=!!(On&1),Mn.refinement=!!(On&2),Mn.logStripSize=On>>2&3,Mn.stripSize=1<<Mn.logStripSize,Mn.referenceCorner=On>>4&3,Mn.transposed=!!(On&64),Mn.combinationOperator=On>>7&3,Mn.defaultPixelValue=On>>9&1,Mn.dsOffset=On<<17>>27,Mn.refinementTemplate=On>>15&1,Mn.huffman){const ir=(0,Et.readUint16)(on,pn);pn+=2,Mn.huffmanFS=ir&3,Mn.huffmanDS=ir>>2&3,Mn.huffmanDT=ir>>4&3,Mn.huffmanRefinementDW=ir>>6&3,Mn.huffmanRefinementDH=ir>>8&3,Mn.huffmanRefinementDX=ir>>10&3,Mn.huffmanRefinementDY=ir>>12&3,Mn.huffmanRefinementSizeSelector=!!(ir&16384)}if(Mn.refinement&&!Mn.refinementTemplate){for(Tn=[],Fn=0;Fn<2;Fn++)Tn.push({x:(0,Et.readInt8)(on,pn),y:(0,Et.readInt8)(on,pn+1)}),pn+=2;Mn.refinementAt=Tn}Mn.numberOfSymbolInstances=(0,Et.readUint32)(on,pn),pn+=4,Cn=[Mn,gn.referredTo,on,pn,wn];break;case 16:const jn={},qn=on[pn++];jn.mmr=!!(qn&1),jn.template=qn>>1&3,jn.patternWidth=on[pn++],jn.patternHeight=on[pn++],jn.maxPatternIndex=(0,Et.readUint32)(on,pn),pn+=4,Cn=[jn,gn.number,on,pn,wn];break;case 22:case 23:const Gn={};Gn.info=Qt(on,pn),pn+=qt;const Yn=on[pn++];Gn.mmr=!!(Yn&1),Gn.template=Yn>>1&3,Gn.enableSkip=!!(Yn&8),Gn.combinationOperator=Yn>>4&7,Gn.defaultPixelValue=Yn>>7&1,Gn.gridWidth=(0,Et.readUint32)(on,pn),pn+=4,Gn.gridHeight=(0,Et.readUint32)(on,pn),pn+=4,Gn.gridOffsetX=(0,Et.readUint32)(on,pn)&4294967295,pn+=4,Gn.gridOffsetY=(0,Et.readUint32)(on,pn)&4294967295,pn+=4,Gn.gridVectorX=(0,Et.readUint16)(on,pn),pn+=2,Gn.gridVectorY=(0,Et.readUint16)(on,pn),pn+=2,Cn=[Gn,gn.referredTo,on,pn,wn];break;case 38:case 39:const er={};er.info=Qt(on,pn),pn+=qt;const cr=on[pn++];if(er.mmr=!!(cr&1),er.template=cr>>1&3,er.prediction=!!(cr&8),!er.mmr){for(En=er.template===0?4:1,Tn=[],Fn=0;Fn<En;Fn++)Tn.push({x:(0,Et.readInt8)(on,pn),y:(0,Et.readInt8)(on,pn+1)}),pn+=2;er.at=Tn}Cn=[er,on,pn,wn];break;case 48:const rr={width:(0,Et.readUint32)(on,pn),height:(0,Et.readUint32)(on,pn+4),resolutionX:(0,Et.readUint32)(on,pn+8),resolutionY:(0,Et.readUint32)(on,pn+12)};rr.height===4294967295&&delete rr.height;const tr=on[pn+16];(0,Et.readUint16)(on,pn+17),rr.lossless=!!(tr&1),rr.refinement=!!(tr&2),rr.defaultPixelValue=tr>>2&1,rr.combinationOperator=tr>>3&3,rr.requiresBuffer=!!(tr&32),rr.combinationOperatorOverride=!!(tr&64),Cn=[rr];break;case 49:break;case 50:break;case 51:break;case 53:Cn=[gn.number,on,pn,wn];break;case 62:break;default:throw new xt(`segment type ${gn.typeName}(${gn.type}) is not implemented`)}const kn="on"+gn.typeName;kn in vn&&vn[kn].apply(vn,Cn)}function Ut(bn,vn){for(let gn=0,on=bn.length;gn<on;gn++)nn(bn[gn],vn)}function zt(bn){const vn=new cn;for(let gn=0,on=bn.length;gn<on;gn++){const wn=bn[gn],pn=hn({},wn.data,wn.start,wn.end);Ut(pn,vn)}return vn.buffer}class cn{onPageInformation(vn){this.currentPageInfo=vn;const gn=vn.width+7>>3,on=new Uint8ClampedArray(gn*vn.height);vn.defaultPixelValue&&on.fill(255),this.buffer=on}drawBitmap(vn,gn){const on=this.currentPageInfo,wn=vn.width,pn=vn.height,Cn=on.width+7>>3,Tn=on.combinationOperatorOverride?vn.combinationOperator:on.combinationOperator,Fn=this.buffer,En=128>>(vn.x&7);let kn=vn.y*Cn+(vn.x>>3),Pn,_n,Mn,On;switch(Tn){case 0:for(Pn=0;Pn<pn;Pn++){for(Mn=En,On=kn,_n=0;_n<wn;_n++)gn[Pn][_n]&&(Fn[On]|=Mn),Mn>>=1,Mn||(Mn=128,On++);kn+=Cn}break;case 2:for(Pn=0;Pn<pn;Pn++){for(Mn=En,On=kn,_n=0;_n<wn;_n++)gn[Pn][_n]&&(Fn[On]^=Mn),Mn>>=1,Mn||(Mn=128,On++);kn+=Cn}break;default:throw new xt(`operator ${Tn} is not supported`)}}onImmediateGenericRegion(vn,gn,on,wn){const pn=vn.info,Cn=new _t(gn,on,wn),Tn=Ot(vn.mmr,pn.width,pn.height,vn.template,vn.prediction,null,vn.at,Cn);this.drawBitmap(pn,Tn)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(vn,gn,on,wn,pn,Cn){let Tn,Fn;vn.huffman&&(Tn=dn(vn,on,this.customTables),Fn=new yn(wn,pn,Cn));let En=this.symbols;En||(this.symbols=En={});const kn=[];for(const _n of on){const Mn=En[_n];Mn&&kn.push(...Mn)}const Pn=new _t(wn,pn,Cn);En[gn]=Gt(vn.huffman,vn.refinement,kn,vn.numberOfNewSymbols,vn.numberOfExportedSymbols,Tn,vn.template,vn.at,vn.refinementTemplate,vn.refinementAt,Pn,Fn)}onImmediateTextRegion(vn,gn,on,wn,pn){const Cn=vn.info;let Tn,Fn;const En=this.symbols,kn=[];for(const On of gn){const jn=En[On];jn&&kn.push(...jn)}const Pn=(0,Et.log2)(kn.length);vn.huffman&&(Fn=new yn(on,wn,pn),Tn=rn(vn,gn,this.customTables,kn.length,Fn));const _n=new _t(on,wn,pn),Mn=Wt(vn.huffman,vn.refinement,Cn.width,Cn.height,vn.defaultPixelValue,vn.numberOfSymbolInstances,vn.stripSize,kn,Pn,vn.transposed,vn.dsOffset,vn.referenceCorner,vn.combinationOperator,Tn,vn.refinementTemplate,vn.refinementAt,_n,vn.logStripSize,Fn);this.drawBitmap(Cn,Mn)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(vn,gn,on,wn,pn){let Cn=this.patterns;Cn||(this.patterns=Cn={});const Tn=new _t(on,wn,pn);Cn[gn]=en(vn.mmr,vn.patternWidth,vn.patternHeight,vn.maxPatternIndex,vn.template,Tn)}onImmediateHalftoneRegion(vn,gn,on,wn,pn){const Cn=this.patterns[gn[0]],Tn=vn.info,Fn=new _t(on,wn,pn),En=Sn(vn.mmr,Cn,vn.template,Tn.width,Tn.height,vn.defaultPixelValue,vn.enableSkip,vn.combinationOperator,vn.gridWidth,vn.gridHeight,vn.gridOffsetX,vn.gridOffsetY,vn.gridVectorX,vn.gridVectorY,Fn);this.drawBitmap(Tn,En)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(vn,gn,on,wn){let pn=this.customTables;pn||(this.customTables=pn={}),pn[vn]=Yt(gn,on,wn)}}class ln{constructor(vn){vn.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=vn[0],this.rangeLength=0,this.prefixCode=vn[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=vn[0],this.prefixLength=vn[1],this.rangeLength=vn[2],this.prefixCode=vn[3],this.isLowerRange=vn[4]==="lower")}}class Kt{constructor(vn){this.children=[],vn?(this.isLeaf=!0,this.rangeLength=vn.rangeLength,this.rangeLow=vn.rangeLow,this.isLowerRange=vn.isLowerRange,this.isOOB=vn.isOOB):this.isLeaf=!1}buildTree(vn,gn){const on=vn.prefixCode>>gn&1;if(gn<=0)this.children[on]=new Kt(vn);else{let wn=this.children[on];wn||(this.children[on]=wn=new Kt(null)),wn.buildTree(vn,gn-1)}}decodeNode(vn){if(this.isLeaf){if(this.isOOB)return null;const on=vn.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-on:on)}const gn=this.children[vn.readBit()];if(!gn)throw new xt("invalid Huffman data");return gn.decodeNode(vn)}}class Jt{constructor(vn,gn){gn||this.assignPrefixCodes(vn),this.rootNode=new Kt(null);for(let on=0,wn=vn.length;on<wn;on++){const pn=vn[on];pn.prefixLength>0&&this.rootNode.buildTree(pn,pn.prefixLength-1)}}decode(vn){return this.rootNode.decodeNode(vn)}assignPrefixCodes(vn){const gn=vn.length;let on=0;for(let kn=0;kn<gn;kn++)on=Math.max(on,vn[kn].prefixLength);const wn=new Uint32Array(on+1);for(let kn=0;kn<gn;kn++)wn[vn[kn].prefixLength]++;let pn=1,Cn=0,Tn,Fn,En;for(wn[0]=0;pn<=on;){for(Cn=Cn+wn[pn-1]<<1,Tn=Cn,Fn=0;Fn<gn;)En=vn[Fn],En.prefixLength===pn&&(En.prefixCode=Tn,Tn++),Fn++;pn++}}}function Yt(bn,vn,gn){const on=bn[vn],wn=(0,Et.readUint32)(bn,vn+1)&4294967295,pn=(0,Et.readUint32)(bn,vn+5)&4294967295,Cn=new yn(bn,vn+9,gn),Tn=(on>>1&7)+1,Fn=(on>>4&7)+1,En=[];let kn,Pn,_n=wn;do kn=Cn.readBits(Tn),Pn=Cn.readBits(Fn),En.push(new ln([_n,kn,Pn,0])),_n+=1<<Pn;while(_n<pn);return kn=Cn.readBits(Tn),En.push(new ln([wn-1,kn,32,0,"lower"])),kn=Cn.readBits(Tn),En.push(new ln([pn,kn,32,0])),on&1&&(kn=Cn.readBits(Tn),En.push(new ln([kn,0]))),new Jt(En,!1)}const tn={};function un(bn){let vn=tn[bn];if(vn)return vn;let gn;switch(bn){case 1:gn=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:gn=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:gn=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:gn=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:gn=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:gn=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:gn=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:gn=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:gn=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:gn=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:gn=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:gn=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:gn=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:gn=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:gn=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new xt(`standard table B.${bn} does not exist`)}for(let on=0,wn=gn.length;on<wn;on++)gn[on]=new ln(gn[on]);return vn=new Jt(gn,!0),tn[bn]=vn,vn}class yn{constructor(vn,gn,on){this.data=vn,this.start=gn,this.end=on,this.position=gn,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new xt("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const vn=this.currentByte>>this.shift&1;return this.shift--,vn}readBits(vn){let gn=0,on;for(on=vn-1;on>=0;on--)gn|=this.readBit()<<on;return gn}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function xn(bn,vn,gn){let on=0;for(let wn=0,pn=vn.length;wn<pn;wn++){const Cn=gn[vn[wn]];if(Cn){if(bn===on)return Cn;on++}}throw new xt("can't find custom Huffman table")}function rn(bn,vn,gn,on,wn){const pn=[];for(let _n=0;_n<=34;_n++){const Mn=wn.readBits(4);pn.push(new ln([_n,Mn,0,0]))}const Cn=new Jt(pn,!1);pn.length=0;for(let _n=0;_n<on;){const Mn=Cn.decode(wn);if(Mn>=32){let On,jn,qn;switch(Mn){case 32:if(_n===0)throw new xt("no previous value in symbol ID table");jn=wn.readBits(2)+3,On=pn[_n-1].prefixLength;break;case 33:jn=wn.readBits(3)+3,On=0;break;case 34:jn=wn.readBits(7)+11,On=0;break;default:throw new xt("invalid code length in symbol ID table")}for(qn=0;qn<jn;qn++)pn.push(new ln([_n,On,0,0])),_n++}else pn.push(new ln([_n,Mn,0,0])),_n++}wn.byteAlign();const Tn=new Jt(pn,!1);let Fn=0,En,kn,Pn;switch(bn.huffmanFS){case 0:case 1:En=un(bn.huffmanFS+6);break;case 3:En=xn(Fn,vn,gn),Fn++;break;default:throw new xt("invalid Huffman FS selector")}switch(bn.huffmanDS){case 0:case 1:case 2:kn=un(bn.huffmanDS+8);break;case 3:kn=xn(Fn,vn,gn),Fn++;break;default:throw new xt("invalid Huffman DS selector")}switch(bn.huffmanDT){case 0:case 1:case 2:Pn=un(bn.huffmanDT+11);break;case 3:Pn=xn(Fn,vn,gn),Fn++;break;default:throw new xt("invalid Huffman DT selector")}if(bn.refinement)throw new xt("refinement with Huffman is not supported");return{symbolIDTable:Tn,tableFirstS:En,tableDeltaS:kn,tableDeltaT:Pn}}function dn(bn,vn,gn){let on=0,wn,pn;switch(bn.huffmanDHSelector){case 0:case 1:wn=un(bn.huffmanDHSelector+4);break;case 3:wn=xn(on,vn,gn),on++;break;default:throw new xt("invalid Huffman DH selector")}switch(bn.huffmanDWSelector){case 0:case 1:pn=un(bn.huffmanDWSelector+2);break;case 3:pn=xn(on,vn,gn),on++;break;default:throw new xt("invalid Huffman DW selector")}let Cn,Tn;return bn.bitmapSizeSelector?(Cn=xn(on,vn,gn),on++):Cn=un(1),bn.aggregationInstancesSelector?Tn=xn(on,vn,gn):Tn=un(1),{tableDeltaHeight:wn,tableDeltaWidth:pn,tableBitmapSize:Cn,tableAggregateInstances:Tn}}function An(bn,vn,gn){const on=[];for(let wn=0;wn<gn;wn++){const pn=new Uint8Array(vn);on.push(pn);for(let Cn=0;Cn<vn;Cn++)pn[Cn]=bn.readBit();bn.byteAlign()}return on}function an(bn,vn,gn,on){const wn={K:-1,Columns:vn,Rows:gn,BlackIs1:!0,EndOfBlock:on},pn=new Pt.CCITTFaxDecoder(bn,wn),Cn=[];let Tn,Fn=!1;for(let En=0;En<gn;En++){const kn=new Uint8Array(vn);Cn.push(kn);let Pn=-1;for(let _n=0;_n<vn;_n++)Pn<0&&(Tn=pn.readNextChar(),Tn===-1&&(Tn=0,Fn=!0),Pn=7),kn[_n]=Tn>>Pn&1,Pn--}if(on&&!Fn)for(let kn=0;kn<5&&pn.readNextChar()!==-1;kn++);return Cn}class fn{parseChunks(vn){return zt(vn)}parse(vn){throw new Error("Not implemented: Jbig2Image.parse")}}St.Jbig2Image=fn},(Ct,St)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.ArithmeticDecoder=void 0;const Ft=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class vt{constructor(Mt,Pt,xt){this.data=Mt,this.bp=Pt,this.dataEnd=xt,this.chigh=Mt[Pt],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const Mt=this.data;let Pt=this.bp;Mt[Pt]===255?Mt[Pt+1]>143?(this.clow+=65280,this.ct=8):(Pt++,this.clow+=Mt[Pt]<<9,this.ct=7,this.bp=Pt):(Pt++,this.clow+=Pt<this.dataEnd?Mt[Pt]<<8:65280,this.ct=8,this.bp=Pt),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(Mt,Pt){let xt=Mt[Pt]>>1,$t=Mt[Pt]&1;const _t=Ft[xt],jt=_t.qe;let Rt,Nt=this.a-jt;if(this.chigh<jt)Nt<jt?(Nt=jt,Rt=$t,xt=_t.nmps):(Nt=jt,Rt=1^$t,_t.switchFlag===1&&($t=Rt),xt=_t.nlps);else{if(this.chigh-=jt,Nt&32768)return this.a=Nt,$t;Nt<jt?(Rt=1^$t,_t.switchFlag===1&&($t=Rt),xt=_t.nlps):(Rt=$t,xt=_t.nmps)}do this.ct===0&&this.byteIn(),Nt<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(Nt&32768));return this.a=Nt,Mt[Pt]=xt<<1|$t,Rt}}St.ArithmeticDecoder=vt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.JpegStream=void 0;var vt=Ft(19),Et=Ft(5),Mt=Ft(28),Pt=Ft(2);class xt extends vt.DecodeStream{constructor(_t,jt,Rt){let Nt;for(;(Nt=_t.getByte())!==-1;)if(Nt===255){_t.skip(-1);break}super(jt),this.stream=_t,this.dict=_t.dict,this.maybeLength=jt,this.params=Rt}get bytes(){return(0,Pt.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(_t){}readBlock(){if(this.eof)return;const _t={decodeTransform:void 0,colorTransform:void 0},jt=this.dict.getArray("D","Decode");if(this.forceRGB&&Array.isArray(jt)){const Lt=this.dict.get("BPC","BitsPerComponent")||8,kt=jt.length,Bt=new Int32Array(kt);let Ht=!1;const Ot=(1<<Lt)-1;for(let Vt=0;Vt<kt;Vt+=2)Bt[Vt]=(jt[Vt+1]-jt[Vt])*256|0,Bt[Vt+1]=jt[Vt]*Ot|0,(Bt[Vt]!==256||Bt[Vt+1]!==0)&&(Ht=!0);Ht&&(_t.decodeTransform=Bt)}if(this.params instanceof Et.Dict){const Lt=this.params.get("ColorTransform");Number.isInteger(Lt)&&(_t.colorTransform=Lt)}const Rt=new Mt.JpegImage(_t);Rt.parse(this.bytes);const Nt=Rt.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=Nt,this.bufferLength=Nt.length,this.eof=!0}}St.JpegStream=xt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.JpegImage=void 0;var vt=Ft(2),Et=Ft(6);class Mt extends vt.BaseException{constructor(Qt){super(`JPEG error: ${Qt}`,"JpegError")}}class Pt extends vt.BaseException{constructor(Qt,qt){super(Qt,"DNLMarkerError"),this.scanLines=qt}}class xt extends vt.BaseException{constructor(Qt){super(Qt,"EOIMarkerError")}}const $t=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),_t=4017,jt=799,Rt=3406,Nt=2276,Lt=1567,kt=3784,Bt=5793,Ht=2896;function Ot(hn,Qt){let qt=0,nn,Ut,zt=16;for(;zt>0&&!hn[zt-1];)zt--;const cn=[{children:[],index:0}];let ln=cn[0],Kt;for(nn=0;nn<zt;nn++){for(Ut=0;Ut<hn[nn];Ut++){for(ln=cn.pop(),ln.children[ln.index]=Qt[qt];ln.index>0;)ln=cn.pop();for(ln.index++,cn.push(ln);cn.length<=nn;)cn.push(Kt={children:[],index:0}),ln.children[ln.index]=Kt.children,ln=Kt;qt++}nn+1<zt&&(cn.push(Kt={children:[],index:0}),ln.children[ln.index]=Kt.children,ln=Kt)}return cn[0].children}function Vt(hn,Qt,qt){return 64*((hn.blocksPerLine+1)*Qt+qt)}function Gt(hn,Qt,qt,nn,Ut,zt,cn,ln,Kt,Jt=!1){const Yt=qt.mcusPerLine,tn=qt.progressive,un=Qt;let yn=0,xn=0;function rn(){if(xn>0)return xn--,yn>>xn&1;if(yn=hn[Qt++],yn===255){const tr=hn[Qt++];if(tr){if(tr===220&&Jt){Qt+=2;const ir=(0,Et.readUint16)(hn,Qt);if(Qt+=2,ir>0&&ir!==qt.scanLines)throw new Pt("Found DNL marker (0xFFDC) while parsing scan data",ir)}else if(tr===217){if(Jt){const ir=Tn*(qt.precision===8?8:0);if(ir>0&&Math.round(qt.scanLines/ir)>=10)throw new Pt("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",ir)}throw new xt("Found EOI marker (0xFFD9) while parsing scan data")}throw new Mt(`unexpected marker ${(yn<<8|tr).toString(16)}`)}}return xn=7,yn>>>7}function dn(tr){let ir=tr;for(;;){switch(ir=ir[rn()],typeof ir){case"number":return ir;case"object":continue}throw new Mt("invalid huffman sequence")}}function An(tr){let ir=0;for(;tr>0;)ir=ir<<1|rn(),tr--;return ir}function an(tr){if(tr===1)return rn()===1?1:-1;const ir=An(tr);return ir>=1<<tr-1?ir:ir+(-1<<tr)+1}function fn(tr,ir){const Kn=dn(tr.huffmanTableDC),Vn=Kn===0?0:an(Kn);tr.blockData[ir]=tr.pred+=Vn;let Bn=1;for(;Bn<64;){const lr=dn(tr.huffmanTableAC),br=lr&15,Pr=lr>>4;if(br===0){if(Pr<15)break;Bn+=16;continue}Bn+=Pr;const nr=$t[Bn];tr.blockData[ir+nr]=an(br),Bn++}}function bn(tr,ir){const Kn=dn(tr.huffmanTableDC),Vn=Kn===0?0:an(Kn)<<Kt;tr.blockData[ir]=tr.pred+=Vn}function vn(tr,ir){tr.blockData[ir]|=rn()<<Kt}let gn=0;function on(tr,ir){if(gn>0){gn--;return}let Kn=zt;const Vn=cn;for(;Kn<=Vn;){const Bn=dn(tr.huffmanTableAC),lr=Bn&15,br=Bn>>4;if(lr===0){if(br<15){gn=An(br)+(1<<br)-1;break}Kn+=16;continue}Kn+=br;const Pr=$t[Kn];tr.blockData[ir+Pr]=an(lr)*(1<<Kt),Kn++}}let wn=0,pn;function Cn(tr,ir){let Kn=zt;const Vn=cn;let Bn=0,lr,br;for(;Kn<=Vn;){const Pr=ir+$t[Kn],nr=tr.blockData[Pr]<0?-1:1;switch(wn){case 0:if(br=dn(tr.huffmanTableAC),lr=br&15,Bn=br>>4,lr===0)Bn<15?(gn=An(Bn)+(1<<Bn),wn=4):(Bn=16,wn=1);else{if(lr!==1)throw new Mt("invalid ACn encoding");pn=an(lr),wn=Bn?2:3}continue;case 1:case 2:tr.blockData[Pr]?tr.blockData[Pr]+=nr*(rn()<<Kt):(Bn--,Bn===0&&(wn=wn===2?3:0));break;case 3:tr.blockData[Pr]?tr.blockData[Pr]+=nr*(rn()<<Kt):(tr.blockData[Pr]=pn<<Kt,wn=0);break;case 4:tr.blockData[Pr]&&(tr.blockData[Pr]+=nr*(rn()<<Kt));break}Kn++}wn===4&&(gn--,gn===0&&(wn=0))}let Tn=0;function Fn(tr,ir,Kn,Vn,Bn){const lr=Kn/Yt|0,br=Kn%Yt;Tn=lr*tr.v+Vn;const Pr=br*tr.h+Bn,nr=Vt(tr,Tn,Pr);ir(tr,nr)}function En(tr,ir,Kn){Tn=Kn/tr.blocksPerLine|0;const Vn=Kn%tr.blocksPerLine,Bn=Vt(tr,Tn,Vn);ir(tr,Bn)}const kn=nn.length;let Pn,_n,Mn,On,jn,qn;tn?zt===0?qn=ln===0?bn:vn:qn=ln===0?on:Cn:qn=fn;let Gn=0,Yn,er;kn===1?er=nn[0].blocksPerLine*nn[0].blocksPerColumn:er=Yt*qt.mcusPerColumn;let cr,rr;for(;Gn<=er;){const tr=Ut?Math.min(er-Gn,Ut):er;if(tr>0){for(_n=0;_n<kn;_n++)nn[_n].pred=0;if(gn=0,kn===1)for(Pn=nn[0],jn=0;jn<tr;jn++)En(Pn,qn,Gn),Gn++;else for(jn=0;jn<tr;jn++){for(_n=0;_n<kn;_n++)for(Pn=nn[_n],cr=Pn.h,rr=Pn.v,Mn=0;Mn<rr;Mn++)for(On=0;On<cr;On++)Fn(Pn,qn,Gn,Mn,On);Gn++}}if(xn=0,Yn=Sn(hn,Qt),!Yn)break;if(Yn.invalid){const ir=tr>0?"unexpected":"excessive";(0,vt.warn)(`decodeScan - ${ir} MCU data, current marker is: ${Yn.invalid}`),Qt=Yn.offset}if(Yn.marker>=65488&&Yn.marker<=65495)Qt+=2;else break}return Qt-un}function Wt(hn,Qt,qt){const nn=hn.quantizationTable,Ut=hn.blockData;let zt,cn,ln,Kt,Jt,Yt,tn,un,yn,xn,rn,dn,An,an,fn,bn,vn;if(!nn)throw new Mt("missing required Quantization Table.");for(let gn=0;gn<64;gn+=8){if(yn=Ut[Qt+gn],xn=Ut[Qt+gn+1],rn=Ut[Qt+gn+2],dn=Ut[Qt+gn+3],An=Ut[Qt+gn+4],an=Ut[Qt+gn+5],fn=Ut[Qt+gn+6],bn=Ut[Qt+gn+7],yn*=nn[gn],!(xn|rn|dn|An|an|fn|bn)){vn=Bt*yn+512>>10,qt[gn]=vn,qt[gn+1]=vn,qt[gn+2]=vn,qt[gn+3]=vn,qt[gn+4]=vn,qt[gn+5]=vn,qt[gn+6]=vn,qt[gn+7]=vn;continue}xn*=nn[gn+1],rn*=nn[gn+2],dn*=nn[gn+3],An*=nn[gn+4],an*=nn[gn+5],fn*=nn[gn+6],bn*=nn[gn+7],zt=Bt*yn+128>>8,cn=Bt*An+128>>8,ln=rn,Kt=fn,Jt=Ht*(xn-bn)+128>>8,un=Ht*(xn+bn)+128>>8,Yt=dn<<4,tn=an<<4,zt=zt+cn+1>>1,cn=zt-cn,vn=ln*kt+Kt*Lt+128>>8,ln=ln*Lt-Kt*kt+128>>8,Kt=vn,Jt=Jt+tn+1>>1,tn=Jt-tn,un=un+Yt+1>>1,Yt=un-Yt,zt=zt+Kt+1>>1,Kt=zt-Kt,cn=cn+ln+1>>1,ln=cn-ln,vn=Jt*Nt+un*Rt+2048>>12,Jt=Jt*Rt-un*Nt+2048>>12,un=vn,vn=Yt*jt+tn*_t+2048>>12,Yt=Yt*_t-tn*jt+2048>>12,tn=vn,qt[gn]=zt+un,qt[gn+7]=zt-un,qt[gn+1]=cn+tn,qt[gn+6]=cn-tn,qt[gn+2]=ln+Yt,qt[gn+5]=ln-Yt,qt[gn+3]=Kt+Jt,qt[gn+4]=Kt-Jt}for(let gn=0;gn<8;++gn){if(yn=qt[gn],xn=qt[gn+8],rn=qt[gn+16],dn=qt[gn+24],An=qt[gn+32],an=qt[gn+40],fn=qt[gn+48],bn=qt[gn+56],!(xn|rn|dn|An|an|fn|bn)){vn=Bt*yn+8192>>14,vn<-2040?vn=0:vn>=2024?vn=255:vn=vn+2056>>4,Ut[Qt+gn]=vn,Ut[Qt+gn+8]=vn,Ut[Qt+gn+16]=vn,Ut[Qt+gn+24]=vn,Ut[Qt+gn+32]=vn,Ut[Qt+gn+40]=vn,Ut[Qt+gn+48]=vn,Ut[Qt+gn+56]=vn;continue}zt=Bt*yn+2048>>12,cn=Bt*An+2048>>12,ln=rn,Kt=fn,Jt=Ht*(xn-bn)+2048>>12,un=Ht*(xn+bn)+2048>>12,Yt=dn,tn=an,zt=(zt+cn+1>>1)+4112,cn=zt-cn,vn=ln*kt+Kt*Lt+2048>>12,ln=ln*Lt-Kt*kt+2048>>12,Kt=vn,Jt=Jt+tn+1>>1,tn=Jt-tn,un=un+Yt+1>>1,Yt=un-Yt,zt=zt+Kt+1>>1,Kt=zt-Kt,cn=cn+ln+1>>1,ln=cn-ln,vn=Jt*Nt+un*Rt+2048>>12,Jt=Jt*Rt-un*Nt+2048>>12,un=vn,vn=Yt*jt+tn*_t+2048>>12,Yt=Yt*_t-tn*jt+2048>>12,tn=vn,yn=zt+un,bn=zt-un,xn=cn+tn,fn=cn-tn,rn=ln+Yt,an=ln-Yt,dn=Kt+Jt,An=Kt-Jt,yn<16?yn=0:yn>=4080?yn=255:yn>>=4,xn<16?xn=0:xn>=4080?xn=255:xn>>=4,rn<16?rn=0:rn>=4080?rn=255:rn>>=4,dn<16?dn=0:dn>=4080?dn=255:dn>>=4,An<16?An=0:An>=4080?An=255:An>>=4,an<16?an=0:an>=4080?an=255:an>>=4,fn<16?fn=0:fn>=4080?fn=255:fn>>=4,bn<16?bn=0:bn>=4080?bn=255:bn>>=4,Ut[Qt+gn]=yn,Ut[Qt+gn+8]=xn,Ut[Qt+gn+16]=rn,Ut[Qt+gn+24]=dn,Ut[Qt+gn+32]=An,Ut[Qt+gn+40]=an,Ut[Qt+gn+48]=fn,Ut[Qt+gn+56]=bn}}function en(hn,Qt){const qt=Qt.blocksPerLine,nn=Qt.blocksPerColumn,Ut=new Int16Array(64);for(let zt=0;zt<nn;zt++)for(let cn=0;cn<qt;cn++){const ln=Vt(Qt,zt,cn);Wt(Qt,ln,Ut)}return Qt.blockData}function Sn(hn,Qt,qt=Qt){const nn=hn.length-1;let Ut=qt<Qt?qt:Qt;if(Qt>=nn)return null;const zt=(0,Et.readUint16)(hn,Qt);if(zt>=65472&&zt<=65534)return{invalid:null,marker:zt,offset:Qt};let cn=(0,Et.readUint16)(hn,Ut);for(;!(cn>=65472&&cn<=65534);){if(++Ut>=nn)return null;cn=(0,Et.readUint16)(hn,Ut)}return{invalid:zt.toString(16),marker:cn,offset:Ut}}class sn{constructor({decodeTransform:Qt=null,colorTransform:qt=-1}={}){this._decodeTransform=Qt,this._colorTransform=qt}parse(Qt,{dnlScanLines:qt=null}={}){function nn(){const rn=(0,Et.readUint16)(Qt,zt);zt+=2;let dn=zt+rn-2;const An=Sn(Qt,dn,zt);An&&An.invalid&&((0,vt.warn)("readDataBlock - incorrect length, current marker is: "+An.invalid),dn=An.offset);const an=Qt.subarray(zt,dn);return zt+=an.length,an}function Ut(rn){const dn=Math.ceil(rn.samplesPerLine/8/rn.maxH),An=Math.ceil(rn.scanLines/8/rn.maxV);for(let an=0,fn=rn.components.length;an<fn;an++){const bn=rn.components[an],vn=Math.ceil(Math.ceil(rn.samplesPerLine/8)*bn.h/rn.maxH),gn=Math.ceil(Math.ceil(rn.scanLines/8)*bn.v/rn.maxV),on=dn*bn.h,pn=64*(An*bn.v)*(on+1);bn.blockData=new Int16Array(pn),bn.blocksPerLine=vn,bn.blocksPerColumn=gn}rn.mcusPerLine=dn,rn.mcusPerColumn=An}let zt=0,cn=null,ln=null,Kt,Jt,Yt=0;const tn=[],un=[],yn=[];let xn=(0,Et.readUint16)(Qt,zt);if(zt+=2,xn!==65496)throw new Mt("SOI not found");xn=(0,Et.readUint16)(Qt,zt),zt+=2;e:for(;xn!==65497;){let rn,dn,An;switch(xn){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const an=nn();xn===65504&&an[0]===74&&an[1]===70&&an[2]===73&&an[3]===70&&an[4]===0&&(cn={version:{major:an[5],minor:an[6]},densityUnits:an[7],xDensity:an[8]<<8|an[9],yDensity:an[10]<<8|an[11],thumbWidth:an[12],thumbHeight:an[13],thumbData:an.subarray(14,14+3*an[12]*an[13])}),xn===65518&&an[0]===65&&an[1]===100&&an[2]===111&&an[3]===98&&an[4]===101&&(ln={version:an[5]<<8|an[6],flags0:an[7]<<8|an[8],flags1:an[9]<<8|an[10],transformCode:an[11]});break;case 65499:const fn=(0,Et.readUint16)(Qt,zt);zt+=2;const bn=fn+zt-2;let vn;for(;zt<bn;){const On=Qt[zt++],jn=new Uint16Array(64);if(On>>4)if(On>>4===1)for(dn=0;dn<64;dn++)vn=$t[dn],jn[vn]=(0,Et.readUint16)(Qt,zt),zt+=2;else throw new Mt("DQT - invalid table spec");else for(dn=0;dn<64;dn++)vn=$t[dn],jn[vn]=Qt[zt++];tn[On&15]=jn}break;case 65472:case 65473:case 65474:if(Kt)throw new Mt("Only single frame JPEGs supported");zt+=2,Kt={},Kt.extended=xn===65473,Kt.progressive=xn===65474,Kt.precision=Qt[zt++];const gn=(0,Et.readUint16)(Qt,zt);zt+=2,Kt.scanLines=qt||gn,Kt.samplesPerLine=(0,Et.readUint16)(Qt,zt),zt+=2,Kt.components=[],Kt.componentIds={};const on=Qt[zt++];let wn=0,pn=0;for(rn=0;rn<on;rn++){const On=Qt[zt],jn=Qt[zt+1]>>4,qn=Qt[zt+1]&15;wn<jn&&(wn=jn),pn<qn&&(pn=qn);const Gn=Qt[zt+2];An=Kt.components.push({h:jn,v:qn,quantizationId:Gn,quantizationTable:null}),Kt.componentIds[On]=An-1,zt+=3}Kt.maxH=wn,Kt.maxV=pn,Ut(Kt);break;case 65476:const Cn=(0,Et.readUint16)(Qt,zt);for(zt+=2,rn=2;rn<Cn;){const On=Qt[zt++],jn=new Uint8Array(16);let qn=0;for(dn=0;dn<16;dn++,zt++)qn+=jn[dn]=Qt[zt];const Gn=new Uint8Array(qn);for(dn=0;dn<qn;dn++,zt++)Gn[dn]=Qt[zt];rn+=17+qn,(On>>4?un:yn)[On&15]=Ot(jn,Gn)}break;case 65501:zt+=2,Jt=(0,Et.readUint16)(Qt,zt),zt+=2;break;case 65498:const Tn=++Yt===1&&!qt;zt+=2;const Fn=Qt[zt++],En=[];for(rn=0;rn<Fn;rn++){const On=Qt[zt++],jn=Kt.componentIds[On],qn=Kt.components[jn];qn.index=On;const Gn=Qt[zt++];qn.huffmanTableDC=yn[Gn>>4],qn.huffmanTableAC=un[Gn&15],En.push(qn)}const kn=Qt[zt++],Pn=Qt[zt++],_n=Qt[zt++];try{const On=Gt(Qt,zt,Kt,En,Jt,kn,Pn,_n>>4,_n&15,Tn);zt+=On}catch(On){if(On instanceof Pt)return(0,vt.warn)(`${On.message} -- attempting to re-parse the JPEG image.`),this.parse(Qt,{dnlScanLines:On.scanLines});if(On instanceof xt){(0,vt.warn)(`${On.message} -- ignoring the rest of the image data.`);break e}throw On}break;case 65500:zt+=4;break;case 65535:Qt[zt]!==255&&zt--;break;default:const Mn=Sn(Qt,zt-2,zt-3);if(Mn&&Mn.invalid){(0,vt.warn)("JpegImage.parse - unexpected data, current marker is: "+Mn.invalid),zt=Mn.offset;break}if(!Mn||zt>=Qt.length-1){(0,vt.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new Mt("JpegImage.parse - unknown marker: "+xn.toString(16))}xn=(0,Et.readUint16)(Qt,zt),zt+=2}this.width=Kt.samplesPerLine,this.height=Kt.scanLines,this.jfif=cn,this.adobe=ln,this.components=[];for(let rn=0,dn=Kt.components.length;rn<dn;rn++){const An=Kt.components[rn],an=tn[An.quantizationId];an&&(An.quantizationTable=an),this.components.push({index:An.index,output:en(Kt,An),scaleX:An.h/Kt.maxH,scaleY:An.v/Kt.maxV,blocksPerLine:An.blocksPerLine,blocksPerColumn:An.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(Qt,qt,nn=!1){const Ut=this.width/Qt,zt=this.height/qt;let cn,ln,Kt,Jt,Yt,tn,un,yn,xn,rn,dn=0,An;const an=this.components.length,fn=Qt*qt*an,bn=new Uint8ClampedArray(fn),vn=new Uint32Array(Qt),gn=4294967288;let on;for(un=0;un<an;un++){if(cn=this.components[un],ln=cn.scaleX*Ut,Kt=cn.scaleY*zt,dn=un,An=cn.output,Jt=cn.blocksPerLine+1<<3,ln!==on){for(Yt=0;Yt<Qt;Yt++)yn=0|Yt*ln,vn[Yt]=(yn&gn)<<3|yn&7;on=ln}for(tn=0;tn<qt;tn++)for(yn=0|tn*Kt,rn=Jt*(yn&gn)|(yn&7)<<3,Yt=0;Yt<Qt;Yt++)bn[dn]=An[rn+vn[Yt]],dn+=an}let wn=this._decodeTransform;if(!nn&&an===4&&!wn&&(wn=new Int32Array([-256,255,-256,255,-256,255,-256,255])),wn)for(un=0;un<fn;)for(yn=0,xn=0;yn<an;yn++,un++,xn+=2)bn[un]=(bn[un]*wn[xn]>>8)+wn[xn+1];return bn}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(Qt){let qt,nn,Ut;for(let zt=0,cn=Qt.length;zt<cn;zt+=3)qt=Qt[zt],nn=Qt[zt+1],Ut=Qt[zt+2],Qt[zt]=qt-179.456+1.402*Ut,Qt[zt+1]=qt+135.459-.344*nn-.714*Ut,Qt[zt+2]=qt-226.816+1.772*nn;return Qt}_convertYcckToRgb(Qt){let qt,nn,Ut,zt,cn=0;for(let ln=0,Kt=Qt.length;ln<Kt;ln+=4)qt=Qt[ln],nn=Qt[ln+1],Ut=Qt[ln+2],zt=Qt[ln+3],Qt[cn++]=-122.67195406894+nn*(-660635669420364e-19*nn+.000437130475926232*Ut-54080610064599e-18*qt+.00048449797120281*zt-.154362151871126)+Ut*(-.000957964378445773*Ut+.000817076911346625*qt-.00477271405408747*zt+1.53380253221734)+qt*(.000961250184130688*qt-.00266257332283933*zt+.48357088451265)+zt*(-.000336197177618394*zt+.484791561490776),Qt[cn++]=107.268039397724+nn*(219927104525741e-19*nn-.000640992018297945*Ut+.000659397001245577*qt+.000426105652938837*zt-.176491792462875)+Ut*(-.000778269941513683*Ut+.00130872261408275*qt+.000770482631801132*zt-.151051492775562)+qt*(.00126935368114843*qt-.00265090189010898*zt+.25802910206845)+zt*(-.000318913117588328*zt-.213742400323665),Qt[cn++]=-20.810012546947+nn*(-.000570115196973677*nn-263409051004589e-19*Ut+.0020741088115012*qt-.00288260236853442*zt+.814272968359295)+Ut*(-153496057440975e-19*Ut-.000132689043961446*qt+.000560833691242812*zt-.195152027534049)+qt*(.00174418132927582*qt-.00255243321439347*zt+.116935020465145)+zt*(-.000343531996510555*zt+.24165260232407);return Qt.subarray(0,cn)}_convertYcckToCmyk(Qt){let qt,nn,Ut;for(let zt=0,cn=Qt.length;zt<cn;zt+=4)qt=Qt[zt],nn=Qt[zt+1],Ut=Qt[zt+2],Qt[zt]=434.456-qt-1.402*Ut,Qt[zt+1]=119.541-qt+.344*nn+.714*Ut,Qt[zt+2]=481.816-qt-1.772*nn;return Qt}_convertCmykToRgb(Qt){let qt,nn,Ut,zt,cn=0;for(let ln=0,Kt=Qt.length;ln<Kt;ln+=4)qt=Qt[ln],nn=Qt[ln+1],Ut=Qt[ln+2],zt=Qt[ln+3],Qt[cn++]=255+qt*(-6747147073602441e-20*qt+.0008379262121013727*nn+.0002894718188643294*Ut+.003264231057537806*zt-1.1185611867203937)+nn*(26374107616089405e-21*nn-8626949158638572e-20*Ut-.0002748769067499491*zt-.02155688794978967)+Ut*(-3878099212869363e-20*Ut-.0003267808279485286*zt+.0686742238595345)-zt*(.0003361971776183937*zt+.7430659151342254),Qt[cn++]=255+qt*(.00013596372813588848*qt+.000924537132573585*nn+.00010567359618683593*Ut+.0004791864687436512*zt-.3109689587515875)+nn*(-.00023545346108370344*nn+.0002702845253534714*Ut+.0020200308977307156*zt-.7488052167015494)+Ut*(6834815998235662e-20*Ut+.00015168452363460973*zt-.09751927774728933)-zt*(.0003189131175883281*zt+.7364883807733168),Qt[cn++]=255+qt*(13598650411385307e-21*qt+.00012423956175490851*nn+.0004751985097583589*Ut-36729317476630422e-22*zt-.05562186980264034)+nn*(.00016141380598724676*nn+.0009692239130725186*Ut+.0007782692450036253*zt-.44015232367526463)+Ut*(5068882914068769e-22*Ut+.0017778369011375071*zt-.7591454649749609)-zt*(.0003435319965105553*zt+.7063770186160144);return Qt.subarray(0,cn)}getData({width:Qt,height:qt,forceRGB:nn=!1,isSourcePDF:Ut=!1}){if(this.numComponents>4)throw new Mt("Unsupported color mode");const zt=this._getLinearizedBlockData(Qt,qt,Ut);if(this.numComponents===1&&nn){const cn=zt.length,ln=new Uint8ClampedArray(cn*3);let Kt=0;for(let Jt=0;Jt<cn;Jt++){const Yt=zt[Jt];ln[Kt++]=Yt,ln[Kt++]=Yt,ln[Kt++]=Yt}return ln}else{if(this.numComponents===3&&this._isColorConversionNeeded)return this._convertYccToRgb(zt);if(this.numComponents===4){if(this._isColorConversionNeeded)return nn?this._convertYcckToRgb(zt):this._convertYcckToCmyk(zt);if(nn)return this._convertCmykToRgb(zt)}}return zt}}St.JpegImage=sn},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.JpxStream=void 0;var vt=Ft(19),Et=Ft(30),Mt=Ft(2);class Pt extends vt.DecodeStream{constructor($t,_t,jt){super(_t),this.stream=$t,this.dict=$t.dict,this.maybeLength=_t,this.params=jt}get bytes(){return(0,Mt.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer($t){}readBlock(){if(this.eof)return;const $t=new Et.JpxImage;$t.parse(this.bytes);const _t=$t.width,jt=$t.height,Rt=$t.componentsCount,Nt=$t.tiles.length;if(Nt===1)this.buffer=$t.tiles[0].items;else{const Lt=new Uint8ClampedArray(_t*jt*Rt);for(let kt=0;kt<Nt;kt++){const Bt=$t.tiles[kt],Ht=Bt.width,Ot=Bt.height,Vt=Bt.left,Gt=Bt.top,Wt=Bt.items;let en=0,Sn=(_t*Gt+Vt)*Rt;const sn=_t*Rt,hn=Ht*Rt;for(let Qt=0;Qt<Ot;Qt++){const qt=Wt.subarray(en,en+hn);Lt.set(qt,Sn),en+=hn,Sn+=sn}}this.buffer=Lt}this.bufferLength=this.buffer.length,this.eof=!0}}St.JpxStream=Pt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.JpxImage=void 0;var vt=Ft(2),Et=Ft(6),Mt=Ft(26);class Pt extends vt.BaseException{constructor(tn){super(`JPX error: ${tn}`,"JpxError")}}const xt={LL:0,LH:1,HL:1,HH:2};class $t{constructor(){this.failOnCorruptedImage=!1}parse(tn){if((0,Et.readUint16)(tn,0)===65359){this.parseCodestream(tn,0,tn.length);return}const yn=tn.length;let xn=0;for(;xn<yn;){let rn=8,dn=(0,Et.readUint32)(tn,xn);const An=(0,Et.readUint32)(tn,xn+4);if(xn+=rn,dn===1&&(dn=(0,Et.readUint32)(tn,xn)*4294967296+(0,Et.readUint32)(tn,xn+4),xn+=8,rn+=8),dn===0&&(dn=yn-xn+rn),dn<rn)throw new Pt("Invalid box field size");const an=dn-rn;let fn=!0;switch(An){case 1785737832:fn=!1;break;case 1668246642:const bn=tn[xn];if(bn===1){const gn=(0,Et.readUint32)(tn,xn+3);switch(gn){case 16:case 17:case 18:break;default:(0,vt.warn)("Unknown colorspace "+gn);break}}else bn===2&&(0,vt.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(tn,xn,xn+an);break;case 1783636e3:(0,Et.readUint32)(tn,xn)!==218793738&&(0,vt.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const vn=String.fromCharCode(An>>24&255,An>>16&255,An>>8&255,An&255);(0,vt.warn)(`Unsupported header type ${An} (${vn}).`);break}fn&&(xn+=an)}}parseImageProperties(tn){let un=tn.getByte();for(;un>=0;){const yn=un;if(un=tn.getByte(),(yn<<8|un)===65361){tn.skip(4);const rn=tn.getInt32()>>>0,dn=tn.getInt32()>>>0,An=tn.getInt32()>>>0,an=tn.getInt32()>>>0;tn.skip(16);const fn=tn.getUint16();this.width=rn-An,this.height=dn-an,this.componentsCount=fn,this.bitsPerComponent=8;return}}throw new Pt("No size marker found in JPX stream")}parseCodestream(tn,un,yn){const xn={};let rn=!1;try{let dn=un;for(;dn+1<yn;){const An=(0,Et.readUint16)(tn,dn);dn+=2;let an=0,fn,bn,vn,gn,on,wn;switch(An){case 65359:xn.mainHeader=!0;break;case 65497:break;case 65361:an=(0,Et.readUint16)(tn,dn);const pn={};pn.Xsiz=(0,Et.readUint32)(tn,dn+4),pn.Ysiz=(0,Et.readUint32)(tn,dn+8),pn.XOsiz=(0,Et.readUint32)(tn,dn+12),pn.YOsiz=(0,Et.readUint32)(tn,dn+16),pn.XTsiz=(0,Et.readUint32)(tn,dn+20),pn.YTsiz=(0,Et.readUint32)(tn,dn+24),pn.XTOsiz=(0,Et.readUint32)(tn,dn+28),pn.YTOsiz=(0,Et.readUint32)(tn,dn+32);const Cn=(0,Et.readUint16)(tn,dn+36);pn.Csiz=Cn;const Tn=[];fn=dn+38;for(let jn=0;jn<Cn;jn++){const qn={precision:(tn[fn]&127)+1,isSigned:!!(tn[fn]&128),XRsiz:tn[fn+1],YRsiz:tn[fn+2]};fn+=3,_t(qn,pn),Tn.push(qn)}xn.SIZ=pn,xn.components=Tn,jt(xn,Tn),xn.QCC=[],xn.COC=[];break;case 65372:an=(0,Et.readUint16)(tn,dn);const Fn={};switch(fn=dn+2,bn=tn[fn++],bn&31){case 0:gn=8,on=!0;break;case 1:gn=16,on=!1;break;case 2:gn=16,on=!0;break;default:throw new Error("Invalid SQcd value "+bn)}for(Fn.noQuantization=gn===8,Fn.scalarExpounded=on,Fn.guardBits=bn>>5,vn=[];fn<an+dn;){const jn={};gn===8?(jn.epsilon=tn[fn++]>>3,jn.mu=0):(jn.epsilon=tn[fn]>>3,jn.mu=(tn[fn]&7)<<8|tn[fn+1],fn+=2),vn.push(jn)}Fn.SPqcds=vn,xn.mainHeader?xn.QCD=Fn:(xn.currentTile.QCD=Fn,xn.currentTile.QCC=[]);break;case 65373:an=(0,Et.readUint16)(tn,dn);const En={};fn=dn+2;let kn;switch(xn.SIZ.Csiz<257?kn=tn[fn++]:(kn=(0,Et.readUint16)(tn,fn),fn+=2),bn=tn[fn++],bn&31){case 0:gn=8,on=!0;break;case 1:gn=16,on=!1;break;case 2:gn=16,on=!0;break;default:throw new Error("Invalid SQcd value "+bn)}for(En.noQuantization=gn===8,En.scalarExpounded=on,En.guardBits=bn>>5,vn=[];fn<an+dn;){const jn={};gn===8?(jn.epsilon=tn[fn++]>>3,jn.mu=0):(jn.epsilon=tn[fn]>>3,jn.mu=(tn[fn]&7)<<8|tn[fn+1],fn+=2),vn.push(jn)}En.SPqcds=vn,xn.mainHeader?xn.QCC[kn]=En:xn.currentTile.QCC[kn]=En;break;case 65362:an=(0,Et.readUint16)(tn,dn);const Pn={};fn=dn+2;const _n=tn[fn++];Pn.entropyCoderWithCustomPrecincts=!!(_n&1),Pn.sopMarkerUsed=!!(_n&2),Pn.ephMarkerUsed=!!(_n&4),Pn.progressionOrder=tn[fn++],Pn.layersCount=(0,Et.readUint16)(tn,fn),fn+=2,Pn.multipleComponentTransform=tn[fn++],Pn.decompositionLevelsCount=tn[fn++],Pn.xcb=(tn[fn++]&15)+2,Pn.ycb=(tn[fn++]&15)+2;const Mn=tn[fn++];if(Pn.selectiveArithmeticCodingBypass=!!(Mn&1),Pn.resetContextProbabilities=!!(Mn&2),Pn.terminationOnEachCodingPass=!!(Mn&4),Pn.verticallyStripe=!!(Mn&8),Pn.predictableTermination=!!(Mn&16),Pn.segmentationSymbolUsed=!!(Mn&32),Pn.reversibleTransformation=tn[fn++],Pn.entropyCoderWithCustomPrecincts){const jn=[];for(;fn<an+dn;){const qn=tn[fn++];jn.push({PPx:qn&15,PPy:qn>>4})}Pn.precinctsSizes=jn}const On=[];Pn.selectiveArithmeticCodingBypass&&On.push("selectiveArithmeticCodingBypass"),Pn.terminationOnEachCodingPass&&On.push("terminationOnEachCodingPass"),Pn.verticallyStripe&&On.push("verticallyStripe"),Pn.predictableTermination&&On.push("predictableTermination"),On.length>0&&(rn=!0,(0,vt.warn)(`JPX: Unsupported COD options (${On.join(", ")}).`)),xn.mainHeader?xn.COD=Pn:(xn.currentTile.COD=Pn,xn.currentTile.COC=[]);break;case 65424:an=(0,Et.readUint16)(tn,dn),wn={},wn.index=(0,Et.readUint16)(tn,dn+2),wn.length=(0,Et.readUint32)(tn,dn+4),wn.dataEnd=wn.length+dn-2,wn.partIndex=tn[dn+8],wn.partsCount=tn[dn+9],xn.mainHeader=!1,wn.partIndex===0&&(wn.COD=xn.COD,wn.COC=xn.COC.slice(0),wn.QCD=xn.QCD,wn.QCC=xn.QCC.slice(0)),xn.currentTile=wn;break;case 65427:wn=xn.currentTile,wn.partIndex===0&&(nn(xn,wn.index),Sn(xn)),an=wn.dataEnd-dn,sn(xn,tn,dn,an);break;case 65363:(0,vt.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:an=(0,Et.readUint16)(tn,dn);break;default:throw new Error("Unknown codestream code: "+An.toString(16))}dn+=an}}catch(dn){if(rn||this.failOnCorruptedImage)throw new Pt(dn.message);(0,vt.warn)(`JPX: Trying to recover from: "${dn.message}".`)}this.tiles=qt(xn),this.width=xn.SIZ.Xsiz-xn.SIZ.XOsiz,this.height=xn.SIZ.Ysiz-xn.SIZ.YOsiz,this.componentsCount=xn.SIZ.Csiz}}St.JpxImage=$t;function _t(Yt,tn){Yt.x0=Math.ceil(tn.XOsiz/Yt.XRsiz),Yt.x1=Math.ceil(tn.Xsiz/Yt.XRsiz),Yt.y0=Math.ceil(tn.YOsiz/Yt.YRsiz),Yt.y1=Math.ceil(tn.Ysiz/Yt.YRsiz),Yt.width=Yt.x1-Yt.x0,Yt.height=Yt.y1-Yt.y0}function jt(Yt,tn){const un=Yt.SIZ,yn=[];let xn;const rn=Math.ceil((un.Xsiz-un.XTOsiz)/un.XTsiz),dn=Math.ceil((un.Ysiz-un.YTOsiz)/un.YTsiz);for(let an=0;an<dn;an++)for(let fn=0;fn<rn;fn++)xn={},xn.tx0=Math.max(un.XTOsiz+fn*un.XTsiz,un.XOsiz),xn.ty0=Math.max(un.YTOsiz+an*un.YTsiz,un.YOsiz),xn.tx1=Math.min(un.XTOsiz+(fn+1)*un.XTsiz,un.Xsiz),xn.ty1=Math.min(un.YTOsiz+(an+1)*un.YTsiz,un.Ysiz),xn.width=xn.tx1-xn.tx0,xn.height=xn.ty1-xn.ty0,xn.components=[],yn.push(xn);Yt.tiles=yn;const An=un.Csiz;for(let an=0,fn=An;an<fn;an++){const bn=tn[an];for(let vn=0,gn=yn.length;vn<gn;vn++){const on={};xn=yn[vn],on.tcx0=Math.ceil(xn.tx0/bn.XRsiz),on.tcy0=Math.ceil(xn.ty0/bn.YRsiz),on.tcx1=Math.ceil(xn.tx1/bn.XRsiz),on.tcy1=Math.ceil(xn.ty1/bn.YRsiz),on.width=on.tcx1-on.tcx0,on.height=on.tcy1-on.tcy0,xn.components[an]=on}}}function Rt(Yt,tn,un){const yn=tn.codingStyleParameters,xn={};return yn.entropyCoderWithCustomPrecincts?(xn.PPx=yn.precinctsSizes[un].PPx,xn.PPy=yn.precinctsSizes[un].PPy):(xn.PPx=15,xn.PPy=15),xn.xcb_=un>0?Math.min(yn.xcb,xn.PPx-1):Math.min(yn.xcb,xn.PPx),xn.ycb_=un>0?Math.min(yn.ycb,xn.PPy-1):Math.min(yn.ycb,xn.PPy),xn}function Nt(Yt,tn,un){const yn=1<<un.PPx,xn=1<<un.PPy,rn=tn.resLevel===0,dn=1<<un.PPx+(rn?0:-1),An=1<<un.PPy+(rn?0:-1),an=tn.trx1>tn.trx0?Math.ceil(tn.trx1/yn)-Math.floor(tn.trx0/yn):0,fn=tn.try1>tn.try0?Math.ceil(tn.try1/xn)-Math.floor(tn.try0/xn):0,bn=an*fn;tn.precinctParameters={precinctWidth:yn,precinctHeight:xn,numprecinctswide:an,numprecinctshigh:fn,numprecincts:bn,precinctWidthInSubband:dn,precinctHeightInSubband:An}}function Lt(Yt,tn,un){const yn=un.xcb_,xn=un.ycb_,rn=1<<yn,dn=1<<xn,An=tn.tbx0>>yn,an=tn.tby0>>xn,fn=tn.tbx1+rn-1>>yn,bn=tn.tby1+dn-1>>xn,vn=tn.resolution.precinctParameters,gn=[],on=[];let wn,pn,Cn,Tn;for(pn=an;pn<bn;pn++)for(wn=An;wn<fn;wn++){Cn={cbx:wn,cby:pn,tbx0:rn*wn,tby0:dn*pn,tbx1:rn*(wn+1),tby1:dn*(pn+1)},Cn.tbx0_=Math.max(tn.tbx0,Cn.tbx0),Cn.tby0_=Math.max(tn.tby0,Cn.tby0),Cn.tbx1_=Math.min(tn.tbx1,Cn.tbx1),Cn.tby1_=Math.min(tn.tby1,Cn.tby1);const Fn=Math.floor((Cn.tbx0_-tn.tbx0)/vn.precinctWidthInSubband),En=Math.floor((Cn.tby0_-tn.tby0)/vn.precinctHeightInSubband);if(Tn=Fn+En*vn.numprecinctswide,Cn.precinctNumber=Tn,Cn.subbandType=tn.type,Cn.Lblock=3,Cn.tbx1_<=Cn.tbx0_||Cn.tby1_<=Cn.tby0_)continue;gn.push(Cn);let kn=on[Tn];kn!==void 0?(wn<kn.cbxMin?kn.cbxMin=wn:wn>kn.cbxMax&&(kn.cbxMax=wn),pn<kn.cbyMin?kn.cbxMin=pn:pn>kn.cbyMax&&(kn.cbyMax=pn)):on[Tn]=kn={cbxMin:wn,cbyMin:pn,cbxMax:wn,cbyMax:pn},Cn.precinct=kn}tn.codeblockParameters={codeblockWidth:yn,codeblockHeight:xn,numcodeblockwide:fn-An+1,numcodeblockhigh:bn-an+1},tn.codeblocks=gn,tn.precincts=on}function kt(Yt,tn,un){const yn=[],xn=Yt.subbands;for(let rn=0,dn=xn.length;rn<dn;rn++){const an=xn[rn].codeblocks;for(let fn=0,bn=an.length;fn<bn;fn++){const vn=an[fn];vn.precinctNumber===tn&&yn.push(vn)}}return{layerNumber:un,codeblocks:yn}}function Bt(Yt){const tn=Yt.SIZ,un=Yt.currentTile.index,yn=Yt.tiles[un],xn=yn.codingStyleDefaultParameters.layersCount,rn=tn.Csiz;let dn=0;for(let vn=0;vn<rn;vn++)dn=Math.max(dn,yn.components[vn].codingStyleParameters.decompositionLevelsCount);let An=0,an=0,fn=0,bn=0;this.nextPacket=function(){for(;An<xn;An++){for(;an<=dn;an++){for(;fn<rn;fn++){const gn=yn.components[fn];if(an>gn.codingStyleParameters.decompositionLevelsCount)continue;const on=gn.resolutions[an],wn=on.precinctParameters.numprecincts;for(;bn<wn;){const pn=kt(on,bn,An);return bn++,pn}bn=0}fn=0}an=0}throw new Pt("Out of packets")}}function Ht(Yt){const tn=Yt.SIZ,un=Yt.currentTile.index,yn=Yt.tiles[un],xn=yn.codingStyleDefaultParameters.layersCount,rn=tn.Csiz;let dn=0;for(let vn=0;vn<rn;vn++)dn=Math.max(dn,yn.components[vn].codingStyleParameters.decompositionLevelsCount);let An=0,an=0,fn=0,bn=0;this.nextPacket=function(){for(;An<=dn;An++){for(;an<xn;an++){for(;fn<rn;fn++){const gn=yn.components[fn];if(An>gn.codingStyleParameters.decompositionLevelsCount)continue;const on=gn.resolutions[An],wn=on.precinctParameters.numprecincts;for(;bn<wn;){const pn=kt(on,bn,an);return bn++,pn}bn=0}fn=0}an=0}throw new Pt("Out of packets")}}function Ot(Yt){const tn=Yt.SIZ,un=Yt.currentTile.index,yn=Yt.tiles[un],xn=yn.codingStyleDefaultParameters.layersCount,rn=tn.Csiz;let dn,An,an,fn,bn=0;for(an=0;an<rn;an++){const gn=yn.components[an];bn=Math.max(bn,gn.codingStyleParameters.decompositionLevelsCount)}const vn=new Int32Array(bn+1);for(An=0;An<=bn;++An){let gn=0;for(an=0;an<rn;++an){const on=yn.components[an].resolutions;An<on.length&&(gn=Math.max(gn,on[An].precinctParameters.numprecincts))}vn[An]=gn}dn=0,An=0,an=0,fn=0,this.nextPacket=function(){for(;An<=bn;An++){for(;fn<vn[An];fn++){for(;an<rn;an++){const on=yn.components[an];if(An>on.codingStyleParameters.decompositionLevelsCount)continue;const wn=on.resolutions[An],pn=wn.precinctParameters.numprecincts;if(!(fn>=pn)){for(;dn<xn;){const Cn=kt(wn,fn,dn);return dn++,Cn}dn=0}}an=0}fn=0}throw new Pt("Out of packets")}}function Vt(Yt){const tn=Yt.SIZ,un=Yt.currentTile.index,yn=Yt.tiles[un],xn=yn.codingStyleDefaultParameters.layersCount,rn=tn.Csiz,dn=en(yn),An=dn;let an=0,fn=0,bn=0,vn=0,gn=0;this.nextPacket=function(){for(;gn<An.maxNumHigh;gn++){for(;vn<An.maxNumWide;vn++){for(;bn<rn;bn++){const wn=yn.components[bn],pn=wn.codingStyleParameters.decompositionLevelsCount;for(;fn<=pn;fn++){const Cn=wn.resolutions[fn],Tn=dn.components[bn].resolutions[fn],Fn=Wt(vn,gn,Tn,An,Cn);if(Fn!==null){for(;an<xn;){const En=kt(Cn,Fn,an);return an++,En}an=0}}fn=0}bn=0}vn=0}throw new Pt("Out of packets")}}function Gt(Yt){const tn=Yt.SIZ,un=Yt.currentTile.index,yn=Yt.tiles[un],xn=yn.codingStyleDefaultParameters.layersCount,rn=tn.Csiz,dn=en(yn);let An=0,an=0,fn=0,bn=0,vn=0;this.nextPacket=function(){for(;fn<rn;++fn){const on=yn.components[fn],wn=dn.components[fn],pn=on.codingStyleParameters.decompositionLevelsCount;for(;vn<wn.maxNumHigh;vn++){for(;bn<wn.maxNumWide;bn++){for(;an<=pn;an++){const Cn=on.resolutions[an],Tn=wn.resolutions[an],Fn=Wt(bn,vn,Tn,wn,Cn);if(Fn!==null){for(;An<xn;){const En=kt(Cn,Fn,An);return An++,En}An=0}}an=0}bn=0}vn=0}throw new Pt("Out of packets")}}function Wt(Yt,tn,un,yn,xn){const rn=Yt*yn.minWidth,dn=tn*yn.minHeight;if(rn%un.width!==0||dn%un.height!==0)return null;const An=dn/un.width*xn.precinctParameters.numprecinctswide;return rn/un.height+An}function en(Yt){const tn=Yt.components.length;let un=Number.MAX_VALUE,yn=Number.MAX_VALUE,xn=0,rn=0;const dn=new Array(tn);for(let An=0;An<tn;An++){const an=Yt.components[An],fn=an.codingStyleParameters.decompositionLevelsCount,bn=new Array(fn+1);let vn=Number.MAX_VALUE,gn=Number.MAX_VALUE,on=0,wn=0,pn=1;for(let Cn=fn;Cn>=0;--Cn){const Tn=an.resolutions[Cn],Fn=pn*Tn.precinctParameters.precinctWidth,En=pn*Tn.precinctParameters.precinctHeight;vn=Math.min(vn,Fn),gn=Math.min(gn,En),on=Math.max(on,Tn.precinctParameters.numprecinctswide),wn=Math.max(wn,Tn.precinctParameters.numprecinctshigh),bn[Cn]={width:Fn,height:En},pn<<=1}un=Math.min(un,vn),yn=Math.min(yn,gn),xn=Math.max(xn,on),rn=Math.max(rn,wn),dn[An]={resolutions:bn,minWidth:vn,minHeight:gn,maxNumWide:on,maxNumHigh:wn}}return{components:dn,minWidth:un,minHeight:yn,maxNumWide:xn,maxNumHigh:rn}}function Sn(Yt){const tn=Yt.SIZ,un=Yt.currentTile.index,yn=Yt.tiles[un],xn=tn.Csiz;for(let dn=0;dn<xn;dn++){const An=yn.components[dn],an=An.codingStyleParameters.decompositionLevelsCount,fn=[],bn=[];for(let vn=0;vn<=an;vn++){const gn=Rt(Yt,An,vn),on={},wn=1<<an-vn;on.trx0=Math.ceil(An.tcx0/wn),on.try0=Math.ceil(An.tcy0/wn),on.trx1=Math.ceil(An.tcx1/wn),on.try1=Math.ceil(An.tcy1/wn),on.resLevel=vn,Nt(Yt,on,gn),fn.push(on);let pn;if(vn===0)pn={},pn.type="LL",pn.tbx0=Math.ceil(An.tcx0/wn),pn.tby0=Math.ceil(An.tcy0/wn),pn.tbx1=Math.ceil(An.tcx1/wn),pn.tby1=Math.ceil(An.tcy1/wn),pn.resolution=on,Lt(Yt,pn,gn),bn.push(pn),on.subbands=[pn];else{const Cn=1<<an-vn+1,Tn=[];pn={},pn.type="HL",pn.tbx0=Math.ceil(An.tcx0/Cn-.5),pn.tby0=Math.ceil(An.tcy0/Cn),pn.tbx1=Math.ceil(An.tcx1/Cn-.5),pn.tby1=Math.ceil(An.tcy1/Cn),pn.resolution=on,Lt(Yt,pn,gn),bn.push(pn),Tn.push(pn),pn={},pn.type="LH",pn.tbx0=Math.ceil(An.tcx0/Cn),pn.tby0=Math.ceil(An.tcy0/Cn-.5),pn.tbx1=Math.ceil(An.tcx1/Cn),pn.tby1=Math.ceil(An.tcy1/Cn-.5),pn.resolution=on,Lt(Yt,pn,gn),bn.push(pn),Tn.push(pn),pn={},pn.type="HH",pn.tbx0=Math.ceil(An.tcx0/Cn-.5),pn.tby0=Math.ceil(An.tcy0/Cn-.5),pn.tbx1=Math.ceil(An.tcx1/Cn-.5),pn.tby1=Math.ceil(An.tcy1/Cn-.5),pn.resolution=on,Lt(Yt,pn,gn),bn.push(pn),Tn.push(pn),on.subbands=Tn}}An.resolutions=fn,An.subbands=bn}const rn=yn.codingStyleDefaultParameters.progressionOrder;switch(rn){case 0:yn.packetsIterator=new Bt(Yt);break;case 1:yn.packetsIterator=new Ht(Yt);break;case 2:yn.packetsIterator=new Ot(Yt);break;case 3:yn.packetsIterator=new Vt(Yt);break;case 4:yn.packetsIterator=new Gt(Yt);break;default:throw new Pt(`Unsupported progression order ${rn}`)}}function sn(Yt,tn,un,yn){let xn=0,rn,dn=0,An=!1;function an(Fn){for(;dn<Fn;){const En=tn[un+xn];xn++,An?(rn=rn<<7|En,dn+=7,An=!1):(rn=rn<<8|En,dn+=8),En===255&&(An=!0)}return dn-=Fn,rn>>>dn&(1<<Fn)-1}function fn(Fn){return tn[un+xn-1]===255&&tn[un+xn]===Fn?(bn(1),!0):tn[un+xn]===255&&tn[un+xn+1]===Fn?(bn(2),!0):!1}function bn(Fn){xn+=Fn}function vn(){dn=0,An&&(xn++,An=!1)}function gn(){if(an(1)===0)return 1;if(an(1)===0)return 2;let Fn=an(2);return Fn<3?Fn+3:(Fn=an(5),Fn<31?Fn+6:(Fn=an(7),Fn+37))}const on=Yt.currentTile.index,wn=Yt.tiles[on],pn=Yt.COD.sopMarkerUsed,Cn=Yt.COD.ephMarkerUsed,Tn=wn.packetsIterator;for(;xn<yn;){vn(),pn&&fn(145)&&bn(4);const Fn=Tn.nextPacket();if(!an(1))continue;const En=Fn.layerNumber,kn=[];let Pn;for(let _n=0,Mn=Fn.codeblocks.length;_n<Mn;_n++){Pn=Fn.codeblocks[_n];let On=Pn.precinct;const jn=Pn.cbx-On.cbxMin,qn=Pn.cby-On.cbyMin;let Gn=!1,Yn=!1,er,cr;if(Pn.included!==void 0)Gn=!!an(1);else{On=Pn.precinct;let Vn;if(On.inclusionTree!==void 0)Vn=On.inclusionTree;else{const Bn=On.cbxMax-On.cbxMin+1,lr=On.cbyMax-On.cbyMin+1;Vn=new zt(Bn,lr,En),cr=new Ut(Bn,lr),On.inclusionTree=Vn,On.zeroBitPlanesTree=cr;for(let br=0;br<En;br++)if(an(1)!==0)throw new Pt("Invalid tag tree")}if(Vn.reset(jn,qn,En))for(;;)if(an(1)){if(er=!Vn.nextLevel(),er){Pn.included=!0,Gn=Yn=!0;break}}else{Vn.incrementValue(En);break}}if(!Gn)continue;if(Yn){for(cr=On.zeroBitPlanesTree,cr.reset(jn,qn);;)if(an(1)){if(er=!cr.nextLevel(),er)break}else cr.incrementValue();Pn.zeroBitPlanes=cr.value}const rr=gn();for(;an(1);)Pn.Lblock++;const tr=(0,Et.log2)(rr),ir=(rr<1<<tr?tr-1:tr)+Pn.Lblock,Kn=an(ir);kn.push({codeblock:Pn,codingpasses:rr,dataLength:Kn})}for(vn(),Cn&&fn(146);kn.length>0;){const _n=kn.shift();Pn=_n.codeblock,Pn.data===void 0&&(Pn.data=[]),Pn.data.push({data:tn,start:un+xn,end:un+xn+_n.dataLength,codingpasses:_n.codingpasses}),xn+=_n.dataLength}}return xn}function hn(Yt,tn,un,yn,xn,rn,dn,An,an){const fn=yn.tbx0,bn=yn.tby0,vn=yn.tbx1-yn.tbx0,gn=yn.codeblocks,on=yn.type.charAt(0)==="H"?1:0,wn=yn.type.charAt(1)==="H"?tn:0;for(let pn=0,Cn=gn.length;pn<Cn;++pn){const Tn=gn[pn],Fn=Tn.tbx1_-Tn.tbx0_,En=Tn.tby1_-Tn.tby0_;if(Fn===0||En===0||Tn.data===void 0)continue;const kn=new cn(Fn,En,Tn.subbandType,Tn.zeroBitPlanes,rn);let Pn=2;const _n=Tn.data;let Mn=0,On=0,jn,qn,Gn;for(jn=0,qn=_n.length;jn<qn;jn++)Gn=_n[jn],Mn+=Gn.end-Gn.start,On+=Gn.codingpasses;const Yn=new Uint8Array(Mn);let er=0;for(jn=0,qn=_n.length;jn<qn;jn++){Gn=_n[jn];const nr=Gn.data.subarray(Gn.start,Gn.end);Yn.set(nr,er),er+=nr.length}const cr=new Mt.ArithmeticDecoder(Yn,0,Mn);for(kn.setDecoder(cr),jn=0;jn<On;jn++){switch(Pn){case 0:kn.runSignificancePropagationPass();break;case 1:kn.runMagnitudeRefinementPass();break;case 2:kn.runCleanupPass(),An&&kn.checkSegmentationSymbol();break}an&&kn.reset(),Pn=(Pn+1)%3}let rr=Tn.tbx0_-fn+(Tn.tby0_-bn)*vn;const tr=kn.coefficentsSign,ir=kn.coefficentsMagnitude,Kn=kn.bitsDecoded,Vn=dn?0:.5;let Bn,lr,br;er=0;const Pr=yn.type!=="LL";for(jn=0;jn<En;jn++){const _i=2*(rr/vn|0)*(tn-vn)+on+wn;for(Bn=0;Bn<Fn;Bn++){if(lr=ir[er],lr!==0){lr=(lr+Vn)*xn,tr[er]!==0&&(lr=-lr),br=Kn[er];const zn=Pr?_i+(rr<<1):rr;dn&&br>=rn?Yt[zn]=lr:Yt[zn]=lr*(1<<rn-br)}rr++,er++}rr+=vn-Fn}}}function Qt(Yt,tn,un){const yn=tn.components[un],xn=yn.codingStyleParameters,rn=yn.quantizationParameters,dn=xn.decompositionLevelsCount,An=rn.SPqcds,an=rn.scalarExpounded,fn=rn.guardBits,bn=xn.segmentationSymbolUsed,vn=xn.resetContextProbabilities,gn=Yt.components[un].precision,on=xn.reversibleTransformation,wn=on?new Jt:new Kt,pn=[];let Cn=0;for(let Fn=0;Fn<=dn;Fn++){const En=yn.resolutions[Fn],kn=En.trx1-En.trx0,Pn=En.try1-En.try0,_n=new Float32Array(kn*Pn);for(let Mn=0,On=En.subbands.length;Mn<On;Mn++){let jn,qn;an?(jn=An[Cn].mu,qn=An[Cn].epsilon,Cn++):(jn=An[0].mu,qn=An[0].epsilon+(Fn>0?1-Fn:0));const Gn=En.subbands[Mn],Yn=xt[Gn.type],er=on?1:2**(gn+Yn-qn)*(1+jn/2048),cr=fn+qn-1;hn(_n,kn,Pn,Gn,er,cr,on,bn,vn)}pn.push({width:kn,height:Pn,items:_n})}const Tn=wn.calculate(pn,yn.tcx0,yn.tcy0);return{left:yn.tcx0,top:yn.tcy0,width:Tn.width,height:Tn.height,items:Tn.items}}function qt(Yt){const tn=Yt.SIZ,un=Yt.components,yn=tn.Csiz,xn=[];for(let rn=0,dn=Yt.tiles.length;rn<dn;rn++){const An=Yt.tiles[rn],an=[];for(let kn=0;kn<yn;kn++)an[kn]=Qt(Yt,An,kn);const fn=an[0],bn=new Uint8ClampedArray(fn.items.length*yn),vn={left:fn.left,top:fn.top,width:fn.width,height:fn.height,items:bn};let gn,on,wn=0,pn,Cn,Tn,Fn,En;if(An.codingStyleDefaultParameters.multipleComponentTransform){const kn=yn===4,Pn=an[0].items,_n=an[1].items,Mn=an[2].items,On=kn?an[3].items:null;gn=un[0].precision-8,on=(128<<gn)+.5;const jn=An.components[0],qn=yn-3;if(Cn=Pn.length,jn.codingStyleParameters.reversibleTransformation)for(pn=0;pn<Cn;pn++,wn+=qn){Tn=Pn[pn]+on,Fn=_n[pn],En=Mn[pn];const Gn=Tn-(En+Fn>>2);bn[wn++]=Gn+En>>gn,bn[wn++]=Gn>>gn,bn[wn++]=Gn+Fn>>gn}else for(pn=0;pn<Cn;pn++,wn+=qn)Tn=Pn[pn]+on,Fn=_n[pn],En=Mn[pn],bn[wn++]=Tn+1.402*En>>gn,bn[wn++]=Tn-.34413*Fn-.71414*En>>gn,bn[wn++]=Tn+1.772*Fn>>gn;if(kn)for(pn=0,wn=3;pn<Cn;pn++,wn+=4)bn[wn]=On[pn]+on>>gn}else for(let kn=0;kn<yn;kn++){const Pn=an[kn].items;for(gn=un[kn].precision-8,on=(128<<gn)+.5,wn=kn,pn=0,Cn=Pn.length;pn<Cn;pn++)bn[wn]=Pn[pn]+on>>gn,wn+=yn}xn.push(vn)}return xn}function nn(Yt,tn){const yn=Yt.SIZ.Csiz,xn=Yt.tiles[tn];for(let rn=0;rn<yn;rn++){const dn=xn.components[rn],An=Yt.currentTile.QCC[rn]!==void 0?Yt.currentTile.QCC[rn]:Yt.currentTile.QCD;dn.quantizationParameters=An;const an=Yt.currentTile.COC[rn]!==void 0?Yt.currentTile.COC[rn]:Yt.currentTile.COD;dn.codingStyleParameters=an}xn.codingStyleDefaultParameters=Yt.currentTile.COD}class Ut{constructor(tn,un){const yn=(0,Et.log2)(Math.max(tn,un))+1;this.levels=[];for(let xn=0;xn<yn;xn++){const rn={width:tn,height:un,items:[]};this.levels.push(rn),tn=Math.ceil(tn/2),un=Math.ceil(un/2)}}reset(tn,un){let yn=0,xn=0,rn;for(;yn<this.levels.length;){rn=this.levels[yn];const dn=tn+un*rn.width;if(rn.items[dn]!==void 0){xn=rn.items[dn];break}rn.index=dn,tn>>=1,un>>=1,yn++}yn--,rn=this.levels[yn],rn.items[rn.index]=xn,this.currentLevel=yn,delete this.value}incrementValue(){const tn=this.levels[this.currentLevel];tn.items[tn.index]++}nextLevel(){let tn=this.currentLevel,un=this.levels[tn];const yn=un.items[un.index];return tn--,tn<0?(this.value=yn,!1):(this.currentLevel=tn,un=this.levels[tn],un.items[un.index]=yn,!0)}}class zt{constructor(tn,un,yn){const xn=(0,Et.log2)(Math.max(tn,un))+1;this.levels=[];for(let rn=0;rn<xn;rn++){const dn=new Uint8Array(tn*un);for(let an=0,fn=dn.length;an<fn;an++)dn[an]=yn;const An={width:tn,height:un,items:dn};this.levels.push(An),tn=Math.ceil(tn/2),un=Math.ceil(un/2)}}reset(tn,un,yn){let xn=0;for(;xn<this.levels.length;){const rn=this.levels[xn],dn=tn+un*rn.width;rn.index=dn;const An=rn.items[dn];if(An===255)break;if(An>yn)return this.currentLevel=xn,this.propagateValues(),!1;tn>>=1,un>>=1,xn++}return this.currentLevel=xn-1,!0}incrementValue(tn){const un=this.levels[this.currentLevel];un.items[un.index]=tn+1,this.propagateValues()}propagateValues(){let tn=this.currentLevel,un=this.levels[tn];const yn=un.items[un.index];for(;--tn>=0;)un=this.levels[tn],un.items[un.index]=yn}nextLevel(){let tn=this.currentLevel,un=this.levels[tn];const yn=un.items[un.index];return un.items[un.index]=255,tn--,tn<0?!1:(this.currentLevel=tn,un=this.levels[tn],un.items[un.index]=yn,!0)}}const cn=function(){const yn=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),xn=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),rn=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);class dn{constructor(an,fn,bn,vn,gn){this.width=an,this.height=fn;let on;bn==="HH"?on=rn:bn==="HL"?on=xn:on=yn,this.contextLabelTable=on;const wn=an*fn;this.neighborsSignificance=new Uint8Array(wn),this.coefficentsSign=new Uint8Array(wn);let pn;gn>14?pn=new Uint32Array(wn):gn>6?pn=new Uint16Array(wn):pn=new Uint8Array(wn),this.coefficentsMagnitude=pn,this.processingFlags=new Uint8Array(wn);const Cn=new Uint8Array(wn);if(vn!==0)for(let Tn=0;Tn<wn;Tn++)Cn[Tn]=vn;this.bitsDecoded=Cn,this.reset()}setDecoder(an){this.decoder=an}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6}setNeighborsSignificance(an,fn,bn){const vn=this.neighborsSignificance,gn=this.width,on=this.height,wn=fn>0,pn=fn+1<gn;let Cn;an>0&&(Cn=bn-gn,wn&&(vn[Cn-1]+=16),pn&&(vn[Cn+1]+=16),vn[Cn]+=4),an+1<on&&(Cn=bn+gn,wn&&(vn[Cn-1]+=16),pn&&(vn[Cn+1]+=16),vn[Cn]+=4),wn&&(vn[bn-1]+=1),pn&&(vn[bn+1]+=1),vn[bn]|=128}runSignificancePropagationPass(){const an=this.decoder,fn=this.width,bn=this.height,vn=this.coefficentsMagnitude,gn=this.coefficentsSign,on=this.neighborsSignificance,wn=this.processingFlags,pn=this.contexts,Cn=this.contextLabelTable,Tn=this.bitsDecoded,Fn=-2,En=1,kn=2;for(let Pn=0;Pn<bn;Pn+=4)for(let _n=0;_n<fn;_n++){let Mn=Pn*fn+_n;for(let On=0;On<4;On++,Mn+=fn){const jn=Pn+On;if(jn>=bn)break;if(wn[Mn]&=Fn,vn[Mn]||!on[Mn])continue;const qn=Cn[on[Mn]];if(an.readBit(pn,qn)){const Yn=this.decodeSignBit(jn,_n,Mn);gn[Mn]=Yn,vn[Mn]=1,this.setNeighborsSignificance(jn,_n,Mn),wn[Mn]|=kn}Tn[Mn]++,wn[Mn]|=En}}}decodeSignBit(an,fn,bn){const vn=this.width,gn=this.height,on=this.coefficentsMagnitude,wn=this.coefficentsSign;let pn,Cn,Tn,Fn,En,kn;Fn=fn>0&&on[bn-1]!==0,fn+1<vn&&on[bn+1]!==0?(Tn=wn[bn+1],Fn?(Cn=wn[bn-1],pn=1-Tn-Cn):pn=1-Tn-Tn):Fn?(Cn=wn[bn-1],pn=1-Cn-Cn):pn=0;const Pn=3*pn;return Fn=an>0&&on[bn-vn]!==0,an+1<gn&&on[bn+vn]!==0?(Tn=wn[bn+vn],Fn?(Cn=wn[bn-vn],pn=1-Tn-Cn+Pn):pn=1-Tn-Tn+Pn):Fn?(Cn=wn[bn-vn],pn=1-Cn-Cn+Pn):pn=Pn,pn>=0?(En=9+pn,kn=this.decoder.readBit(this.contexts,En)):(En=9-pn,kn=this.decoder.readBit(this.contexts,En)^1),kn}runMagnitudeRefinementPass(){const an=this.decoder,fn=this.width,bn=this.height,vn=this.coefficentsMagnitude,gn=this.neighborsSignificance,on=this.contexts,wn=this.bitsDecoded,pn=this.processingFlags,Cn=1,Tn=2,Fn=fn*bn,En=fn*4;for(let kn=0,Pn;kn<Fn;kn=Pn){Pn=Math.min(Fn,kn+En);for(let _n=0;_n<fn;_n++)for(let Mn=kn+_n;Mn<Pn;Mn+=fn){if(!vn[Mn]||pn[Mn]&Cn)continue;let On=16;pn[Mn]&Tn&&(pn[Mn]^=Tn,On=(gn[Mn]&127)===0?15:14);const jn=an.readBit(on,On);vn[Mn]=vn[Mn]<<1|jn,wn[Mn]++,pn[Mn]|=Cn}}}runCleanupPass(){const an=this.decoder,fn=this.width,bn=this.height,vn=this.neighborsSignificance,gn=this.coefficentsMagnitude,on=this.coefficentsSign,wn=this.contexts,pn=this.contextLabelTable,Cn=this.bitsDecoded,Tn=this.processingFlags,Fn=1,En=2,kn=fn,Pn=fn*2,_n=fn*3;let Mn;for(let On=0;On<bn;On=Mn){Mn=Math.min(On+4,bn);const jn=On*fn,qn=On+3<bn;for(let Gn=0;Gn<fn;Gn++){const Yn=jn+Gn,er=qn&&Tn[Yn]===0&&Tn[Yn+kn]===0&&Tn[Yn+Pn]===0&&Tn[Yn+_n]===0&&vn[Yn]===0&&vn[Yn+kn]===0&&vn[Yn+Pn]===0&&vn[Yn+_n]===0;let cr=0,rr=Yn,tr=On,ir;if(er){if(!an.readBit(wn,18)){Cn[Yn]++,Cn[Yn+kn]++,Cn[Yn+Pn]++,Cn[Yn+_n]++;continue}cr=an.readBit(wn,17)<<1|an.readBit(wn,17),cr!==0&&(tr=On+cr,rr+=cr*fn),ir=this.decodeSignBit(tr,Gn,rr),on[rr]=ir,gn[rr]=1,this.setNeighborsSignificance(tr,Gn,rr),Tn[rr]|=En,rr=Yn;for(let Vn=On;Vn<=tr;Vn++,rr+=fn)Cn[rr]++;cr++}for(tr=On+cr;tr<Mn;tr++,rr+=fn){if(gn[rr]||Tn[rr]&Fn)continue;const Kn=pn[vn[rr]];an.readBit(wn,Kn)===1&&(ir=this.decodeSignBit(tr,Gn,rr),on[rr]=ir,gn[rr]=1,this.setNeighborsSignificance(tr,Gn,rr),Tn[rr]|=En),Cn[rr]++}}}}checkSegmentationSymbol(){const an=this.decoder,fn=this.contexts;if((an.readBit(fn,17)<<3|an.readBit(fn,17)<<2|an.readBit(fn,17)<<1|an.readBit(fn,17))!==10)throw new Pt("Invalid segmentation symbol")}}return dn}();class ln{constructor(){this.constructor===ln&&(0,vt.unreachable)("Cannot initialize Transform.")}calculate(tn,un,yn){let xn=tn[0];for(let rn=1,dn=tn.length;rn<dn;rn++)xn=this.iterate(xn,tn[rn],un,yn);return xn}extend(tn,un,yn){let xn=un-1,rn=un+1,dn=un+yn-2,An=un+yn;tn[xn--]=tn[rn++],tn[An++]=tn[dn--],tn[xn--]=tn[rn++],tn[An++]=tn[dn--],tn[xn--]=tn[rn++],tn[An++]=tn[dn--],tn[xn]=tn[rn],tn[An]=tn[dn]}filter(tn,un,yn){(0,vt.unreachable)("Abstract method `filter` called")}iterate(tn,un,yn,xn){const rn=tn.width,dn=tn.height;let An=tn.items;const an=un.width,fn=un.height,bn=un.items;let vn,gn,on,wn,pn,Cn;for(on=0,vn=0;vn<dn;vn++)for(wn=vn*2*an,gn=0;gn<rn;gn++,on++,wn+=2)bn[wn]=An[on];An=tn.items=null;const Tn=4,Fn=new Float32Array(an+2*Tn);if(an===1){if(yn&1)for(Cn=0,on=0;Cn<fn;Cn++,on+=an)bn[on]*=.5}else for(Cn=0,on=0;Cn<fn;Cn++,on+=an)Fn.set(bn.subarray(on,on+an),Tn),this.extend(Fn,Tn,an),this.filter(Fn,Tn,an),bn.set(Fn.subarray(Tn,Tn+an),on);let En=16;const kn=[];for(vn=0;vn<En;vn++)kn.push(new Float32Array(fn+2*Tn));let Pn,_n=0;if(tn=Tn+fn,fn===1){if(xn&1)for(pn=0;pn<an;pn++)bn[pn]*=.5}else for(pn=0;pn<an;pn++){if(_n===0){for(En=Math.min(an-pn,En),on=pn,wn=Tn;wn<tn;on+=an,wn++)for(Pn=0;Pn<En;Pn++)kn[Pn][wn]=bn[on+Pn];_n=En}_n--;const Mn=kn[_n];if(this.extend(Mn,Tn,fn),this.filter(Mn,Tn,fn),_n===0)for(on=pn-En+1,wn=Tn;wn<tn;on+=an,wn++)for(Pn=0;Pn<En;Pn++)bn[on+Pn]=kn[Pn][wn]}return{width:an,height:fn,items:bn}}}class Kt extends ln{filter(tn,un,yn){const xn=yn>>1;un|=0;let rn,dn,An,an;const fn=-1.586134342059924,bn=-.052980118572961,vn=.882911075530934,gn=.443506852043971,on=1.230174104914001,wn=1/on;for(rn=un-3,dn=xn+4;dn--;rn+=2)tn[rn]*=wn;for(rn=un-2,An=gn*tn[rn-1],dn=xn+3;dn--&&(an=gn*tn[rn+1],tn[rn]=on*tn[rn]-An-an,dn--);rn+=2)rn+=2,An=gn*tn[rn+1],tn[rn]=on*tn[rn]-An-an;for(rn=un-1,An=vn*tn[rn-1],dn=xn+2;dn--&&(an=vn*tn[rn+1],tn[rn]-=An+an,dn--);rn+=2)rn+=2,An=vn*tn[rn+1],tn[rn]-=An+an;for(rn=un,An=bn*tn[rn-1],dn=xn+1;dn--&&(an=bn*tn[rn+1],tn[rn]-=An+an,dn--);rn+=2)rn+=2,An=bn*tn[rn+1],tn[rn]-=An+an;if(xn!==0)for(rn=un+1,An=fn*tn[rn-1],dn=xn;dn--&&(an=fn*tn[rn+1],tn[rn]-=An+an,dn--);rn+=2)rn+=2,An=fn*tn[rn+1],tn[rn]-=An+an}}class Jt extends ln{filter(tn,un,yn){const xn=yn>>1;un|=0;let rn,dn;for(rn=un,dn=xn+1;dn--;rn+=2)tn[rn]-=tn[rn-1]+tn[rn+1]+2>>2;for(rn=un+1,dn=xn;dn--;rn+=2)tn[rn]+=tn[rn-1]+tn[rn+1]>>1}}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.LZWStream=void 0;var vt=Ft(19);class Et extends vt.DecodeStream{constructor(Pt,xt,$t){super(xt),this.str=Pt,this.dict=Pt.dict,this.cachedData=0,this.bitsCached=0;const _t=4096,jt={earlyChange:$t,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(_t),dictionaryLengths:new Uint16Array(_t),dictionaryPrevCodes:new Uint16Array(_t),currentSequence:new Uint8Array(_t),currentSequenceLength:0};for(let Rt=0;Rt<256;++Rt)jt.dictionaryValues[Rt]=Rt,jt.dictionaryLengths[Rt]=1;this.lzwState=jt}readBits(Pt){let xt=this.bitsCached,$t=this.cachedData;for(;xt<Pt;){const _t=this.str.getByte();if(_t===-1)return this.eof=!0,null;$t=$t<<8|_t,xt+=8}return this.bitsCached=xt-=Pt,this.cachedData=$t,this.lastCode=null,$t>>>xt&(1<<Pt)-1}readBlock(){let $t=1024,_t,jt,Rt;const Nt=this.lzwState;if(!Nt)return;const Lt=Nt.earlyChange;let kt=Nt.nextCode;const Bt=Nt.dictionaryValues,Ht=Nt.dictionaryLengths,Ot=Nt.dictionaryPrevCodes;let Vt=Nt.codeLength,Gt=Nt.prevCode;const Wt=Nt.currentSequence;let en=Nt.currentSequenceLength,Sn=0,sn=this.bufferLength,hn=this.ensureBuffer(this.bufferLength+$t);for(_t=0;_t<512;_t++){const Qt=this.readBits(Vt),qt=en>0;if(Qt<256)Wt[0]=Qt,en=1;else if(Qt>=258)if(Qt<kt)for(en=Ht[Qt],jt=en-1,Rt=Qt;jt>=0;jt--)Wt[jt]=Bt[Rt],Rt=Ot[Rt];else Wt[en++]=Wt[0];else if(Qt===256){Vt=9,kt=258,en=0;continue}else{this.eof=!0,delete this.lzwState;break}if(qt&&(Ot[kt]=Gt,Ht[kt]=Ht[Gt]+1,Bt[kt]=Wt[0],kt++,Vt=kt+Lt&kt+Lt-1?Vt:Math.min(Math.log(kt+Lt)/.6931471805599453+1,12)|0),Gt=Qt,Sn+=en,$t<Sn){do $t+=512;while($t<Sn);hn=this.ensureBuffer(this.bufferLength+$t)}for(jt=0;jt<en;jt++)hn[sn++]=Wt[jt]}Nt.nextCode=kt,Nt.codeLength=Vt,Nt.prevCode=Gt,Nt.currentSequenceLength=en,this.bufferLength=sn}}St.LZWStream=Et},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.PredictorStream=void 0;var vt=Ft(19),Et=Ft(5),Mt=Ft(2);class Pt extends vt.DecodeStream{constructor($t,_t,jt){if(super(_t),!(jt instanceof Et.Dict))return $t;const Rt=this.predictor=jt.get("Predictor")||1;if(Rt<=1)return $t;if(Rt!==2&&(Rt<10||Rt>15))throw new Mt.FormatError(`Unsupported predictor: ${Rt}`);Rt===2?this.readBlock=this.readBlockTiff:this.readBlock=this.readBlockPng,this.str=$t,this.dict=$t.dict;const Nt=this.colors=jt.get("Colors")||1,Lt=this.bits=jt.get("BPC","BitsPerComponent")||8,kt=this.columns=jt.get("Columns")||1;return this.pixBytes=Nt*Lt+7>>3,this.rowBytes=kt*Nt*Lt+7>>3,this}readBlockTiff(){const $t=this.rowBytes,_t=this.bufferLength,jt=this.ensureBuffer(_t+$t),Rt=this.bits,Nt=this.colors,Lt=this.str.getBytes($t);if(this.eof=!Lt.length,this.eof)return;let kt=0,Bt=0,Ht=0,Ot=0,Vt=_t,Gt;if(Rt===1&&Nt===1)for(Gt=0;Gt<$t;++Gt){let Wt=Lt[Gt]^kt;Wt^=Wt>>1,Wt^=Wt>>2,Wt^=Wt>>4,kt=(Wt&1)<<7,jt[Vt++]=Wt}else if(Rt===8){for(Gt=0;Gt<Nt;++Gt)jt[Vt++]=Lt[Gt];for(;Gt<$t;++Gt)jt[Vt]=jt[Vt-Nt]+Lt[Gt],Vt++}else if(Rt===16){const Wt=Nt*2;for(Gt=0;Gt<Wt;++Gt)jt[Vt++]=Lt[Gt];for(;Gt<$t;Gt+=2){const en=((Lt[Gt]&255)<<8)+(Lt[Gt+1]&255)+((jt[Vt-Wt]&255)<<8)+(jt[Vt-Wt+1]&255);jt[Vt++]=en>>8&255,jt[Vt++]=en&255}}else{const Wt=new Uint8Array(Nt+1),en=(1<<Rt)-1;let Sn=0,sn=_t;const hn=this.columns;for(Gt=0;Gt<hn;++Gt)for(let Qt=0;Qt<Nt;++Qt)Ht<Rt&&(kt=kt<<8|Lt[Sn++]&255,Ht+=8),Wt[Qt]=Wt[Qt]+(kt>>Ht-Rt)&en,Ht-=Rt,Bt=Bt<<Rt|Wt[Qt],Ot+=Rt,Ot>=8&&(jt[sn++]=Bt>>Ot-8&255,Ot-=8);Ot>0&&(jt[sn++]=(Bt<<8-Ot)+(kt&(1<<8-Ot)-1))}this.bufferLength+=$t}readBlockPng(){const $t=this.rowBytes,_t=this.pixBytes,jt=this.str.getByte(),Rt=this.str.getBytes($t);if(this.eof=!Rt.length,this.eof)return;const Nt=this.bufferLength,Lt=this.ensureBuffer(Nt+$t);let kt=Lt.subarray(Nt-$t,Nt);kt.length===0&&(kt=new Uint8Array($t));let Bt,Ht=Nt,Ot,Vt;switch(jt){case 0:for(Bt=0;Bt<$t;++Bt)Lt[Ht++]=Rt[Bt];break;case 1:for(Bt=0;Bt<_t;++Bt)Lt[Ht++]=Rt[Bt];for(;Bt<$t;++Bt)Lt[Ht]=Lt[Ht-_t]+Rt[Bt]&255,Ht++;break;case 2:for(Bt=0;Bt<$t;++Bt)Lt[Ht++]=kt[Bt]+Rt[Bt]&255;break;case 3:for(Bt=0;Bt<_t;++Bt)Lt[Ht++]=(kt[Bt]>>1)+Rt[Bt];for(;Bt<$t;++Bt)Lt[Ht]=(kt[Bt]+Lt[Ht-_t]>>1)+Rt[Bt]&255,Ht++;break;case 4:for(Bt=0;Bt<_t;++Bt)Ot=kt[Bt],Vt=Rt[Bt],Lt[Ht++]=Ot+Vt;for(;Bt<$t;++Bt){Ot=kt[Bt];const Gt=kt[Bt-_t],Wt=Lt[Ht-_t],en=Wt+Ot-Gt;let Sn=en-Wt;Sn<0&&(Sn=-Sn);let sn=en-Ot;sn<0&&(sn=-sn);let hn=en-Gt;hn<0&&(hn=-hn),Vt=Rt[Bt],Sn<=sn&&Sn<=hn?Lt[Ht++]=Wt+Vt:sn<=hn?Lt[Ht++]=Ot+Vt:Lt[Ht++]=Gt+Vt}break;default:throw new Mt.FormatError(`Unsupported predictor: ${jt}`)}this.bufferLength+=$t}}St.PredictorStream=Pt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.RunLengthStream=void 0;var vt=Ft(19);class Et extends vt.DecodeStream{constructor(Pt,xt){super(xt),this.str=Pt,this.dict=Pt.dict}readBlock(){const Pt=this.str.getBytes(2);if(!Pt||Pt.length<2||Pt[0]===128){this.eof=!0;return}let xt,$t=this.bufferLength,_t=Pt[0];if(_t<128){if(xt=this.ensureBuffer($t+_t+1),xt[$t++]=Pt[1],_t>0){const jt=this.str.getBytes(_t);xt.set(jt,$t),$t+=_t}}else{_t=257-_t;const jt=Pt[1];xt=this.ensureBuffer($t+_t+1);for(let Rt=0;Rt<_t;Rt++)xt[$t++]=jt}this.bufferLength=$t}}St.RunLengthStream=Et},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.Font=St.ErrorFont=void 0;var vt=Ft(2),Et=Ft(35),Mt=Ft(38),Pt=Ft(40),xt=Ft(39),$t=Ft(37),_t=Ft(41),jt=Ft(42),Rt=Ft(43),Nt=Ft(44),Lt=Ft(45),kt=Ft(46),Bt=Ft(16),Ht=Ft(47),Ot=Ft(6),Vt=Ft(10),Gt=Ft(48);const Wt=[[57344,63743],[1048576,1114109]],en=1e3,Sn=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],sn=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function hn(En){if(!En.fontMatrix||En.fontMatrix[0]===vt.FONT_IDENTITY_MATRIX[0])return;const kn=.001/En.fontMatrix[0],Pn=En.widths;for(const _n in Pn)Pn[_n]*=kn;En.defaultWidth*=kn}function Qt(En,kn){if(En.isInternalFont||kn===En.defaultEncoding||En.toUnicode instanceof jt.IdentityToUnicodeMap)return;const Pn=[],_n=(0,xt.getGlyphsUnicode)();for(const Mn in kn){if(En.hasIncludedToUnicodeMap){if(En.toUnicode.has(Mn))continue}else if(En.hasEncoding&&(En.differences.length===0||En.differences[Mn]!==void 0))continue;const On=kn[Mn],jn=(0,Pt.getUnicodeForGlyph)(On,_n);jn!==-1&&(Pn[Mn]=String.fromCharCode(jn))}Pn.length>0&&En.toUnicode.amend(Pn)}function qt(En){if(!En.fallbackToUnicode||En.toUnicode instanceof jt.IdentityToUnicodeMap)return;const kn=[];for(const Pn in En.fallbackToUnicode)En.toUnicode.has(Pn)||(kn[Pn]=En.fallbackToUnicode[Pn]);kn.length>0&&En.toUnicode.amend(kn)}class nn{constructor(kn,Pn,_n,Mn,On,jn,qn,Gn,Yn){this.originalCharCode=kn,this.fontChar=Pn,this.unicode=_n,this.accent=Mn,this.width=On,this.vmetric=jn,this.operatorListId=qn,this.isSpace=Gn,this.isInFont=Yn;const er=(0,Pt.getCharUnicodeCategory)(_n);this.isWhitespace=er.isWhitespace,this.isZeroWidthDiacritic=er.isZeroWidthDiacritic,this.isInvisibleFormatMark=er.isInvisibleFormatMark}matchesForCache(kn,Pn,_n,Mn,On,jn,qn,Gn,Yn){return this.originalCharCode===kn&&this.fontChar===Pn&&this.unicode===_n&&this.accent===Mn&&this.width===On&&this.vmetric===jn&&this.operatorListId===qn&&this.isSpace===Gn&&this.isInFont===Yn}}function Ut(En,kn){return(En<<8)+kn}function zt(En,kn,Pn){En[kn+1]=Pn,En[kn]=Pn>>>8}function cn(En,kn){const Pn=(En<<8)+kn;return Pn&32768?Pn-65536:Pn}function ln(En,kn,Pn,_n){return(En<<24)+(kn<<16)+(Pn<<8)+_n}function Kt(En){return String.fromCharCode(En>>8&255,En&255)}function Jt(En){return En>32767?En=32767:En<-32768&&(En=-32768),String.fromCharCode(En>>8&255,En&255)}function Yt(En){const kn=En.peekBytes(4);return(0,Ot.readUint32)(kn,0)===65536||(0,vt.bytesToString)(kn)==="true"}function tn(En){const kn=En.peekBytes(4);return(0,vt.bytesToString)(kn)==="ttcf"}function un(En){const kn=En.peekBytes(4);return(0,vt.bytesToString)(kn)==="OTTO"}function yn(En){const kn=En.peekBytes(2);return kn[0]===37&&kn[1]===33||kn[0]===128&&kn[1]===1}function xn(En){const kn=En.peekBytes(4);return kn[0]>=1&&kn[3]>=1&&kn[3]<=4}function rn(En,{type:kn,subtype:Pn,composite:_n}){let Mn,On;return Yt(En)||tn(En)?_n?Mn="CIDFontType2":Mn="TrueType":un(En)?_n?Mn="CIDFontType2":Mn="OpenType":yn(En)?_n?Mn="CIDFontType0":Mn=kn==="MMType1"?"MMType1":"Type1":xn(En)?_n?(Mn="CIDFontType0",On="CIDFontType0C"):(Mn=kn==="MMType1"?"MMType1":"Type1",On="Type1C"):((0,vt.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),Mn=kn,On=Pn),[Mn,On]}function dn(En,kn){for(const Pn in kn)En[+Pn]=kn[Pn]}function An(En,kn,Pn){const _n=[];let Mn;for(let On=0,jn=En.length;On<jn;On++)Mn=(0,Pt.getUnicodeForGlyph)(En[On],kn),Mn!==-1&&(_n[On]=Mn);for(const On in Pn)Mn=(0,Pt.getUnicodeForGlyph)(Pn[On],kn),Mn!==-1&&(_n[+On]=Mn);return _n}function an(En,kn,Pn=!1){switch(kn.length){case 1:return kn.charCodeAt(0);case 2:return kn.charCodeAt(0)<<8|kn.charCodeAt(1)}const _n=`Unsupported CID string (charCode ${En}): "${kn}".`;if(Pn)throw new vt.FormatError(_n);return(0,vt.warn)(_n),kn}function fn(En,kn,Pn,_n){const Mn=Object.create(null),On=new Map,jn=[],qn=new Set;let Gn=0;const Yn=Wt[Gn][0];let er=Yn,cr=Wt[Gn][1];for(let rr in En){rr|=0;let tr=En[rr];if(!kn(tr))continue;if(er>cr){if(Gn++,Gn>=Wt.length){(0,vt.warn)("Ran out of space in font private use area.");break}er=Wt[Gn][0],cr=Wt[Gn][1]}const ir=er++;tr===0&&(tr=Pn);let Kn=_n.get(rr);typeof Kn=="string"&&(Kn=Kn.codePointAt(0)),Kn&&Kn<Yn&&!qn.has(tr)&&(On.set(Kn,tr),qn.add(tr)),Mn[ir]=tr,jn[rr]=ir}return{toFontChar:jn,charCodeToGlyphId:Mn,toUnicodeExtraMap:On,nextAvailableFontCharCode:er}}function bn(En,kn,Pn){const _n=[];for(const jn in En)En[jn]>=Pn||_n.push({fontCharCode:jn|0,glyphId:En[jn]});if(kn)for(const[jn,qn]of kn)qn>=Pn||_n.push({fontCharCode:jn,glyphId:qn});_n.length===0&&_n.push({fontCharCode:0,glyphId:0}),_n.sort(function(qn,Gn){return qn.fontCharCode-Gn.fontCharCode});const Mn=[],On=_n.length;for(let jn=0;jn<On;){const qn=_n[jn].fontCharCode,Gn=[_n[jn].glyphId];++jn;let Yn=qn;for(;jn<On&&Yn+1===_n[jn].fontCharCode&&(Gn.push(_n[jn].glyphId),++Yn,++jn,Yn!==65535););Mn.push([qn,Yn,Gn])}return Mn}function vn(En,kn,Pn){const _n=bn(En,kn,Pn),Mn=_n.at(-1)[1]>65535?2:1;let On="\0\0"+Kt(Mn)+"\0\0"+(0,vt.string32)(4+Mn*8),jn,qn,Gn,Yn;for(jn=_n.length-1;jn>=0&&!(_n[jn][0]<=65535);--jn);const er=jn+1;_n[jn][0]<65535&&_n[jn][1]===65535&&(_n[jn][1]=65534);const cr=_n[jn][1]<65535?1:0,rr=er+cr,tr=Ht.OpenTypeFileBuilder.getSearchParams(rr,2);let ir="",Kn="",Vn="",Bn="",lr="",br=0,Pr,nr,_i,zn;for(jn=0,qn=er;jn<qn;jn++){Pr=_n[jn],nr=Pr[0],_i=Pr[1],ir+=Kt(nr),Kn+=Kt(_i),zn=Pr[2];let Br=!0;for(Gn=1,Yn=zn.length;Gn<Yn;++Gn)if(zn[Gn]!==zn[Gn-1]+1){Br=!1;break}if(Br){const gr=zn[0];Vn+=Kt(gr-nr&65535),Bn+=Kt(0)}else{const gr=(rr-jn)*2+br*2;for(br+=_i-nr+1,Vn+=Kt(0),Bn+=Kt(gr),Gn=0,Yn=zn.length;Gn<Yn;++Gn)lr+=Kt(zn[Gn])}}cr>0&&(Kn+="",ir+="",Vn+="\0",Bn+="\0\0");const wr="\0\0"+Kt(2*rr)+Kt(tr.range)+Kt(tr.entry)+Kt(tr.rangeShift)+Kn+"\0\0"+ir+Vn+Bn+lr;let Cr="",yr="";if(Mn>1){for(On+=`\0\0
`+(0,vt.string32)(4+Mn*8+4+wr.length),Cr="",jn=0,qn=_n.length;jn<qn;jn++){Pr=_n[jn],nr=Pr[0],zn=Pr[2];let Br=zn[0];for(Gn=1,Yn=zn.length;Gn<Yn;++Gn)zn[Gn]!==zn[Gn-1]+1&&(_i=Pr[0]+Gn-1,Cr+=(0,vt.string32)(nr)+(0,vt.string32)(_i)+(0,vt.string32)(Br),nr=_i+1,Br=zn[Gn]);Cr+=(0,vt.string32)(nr)+(0,vt.string32)(Pr[1])+(0,vt.string32)(Br)}yr="\0\f\0\0"+(0,vt.string32)(Cr.length+16)+"\0\0\0\0"+(0,vt.string32)(Cr.length/12)}return On+"\0"+Kt(wr.length+4)+wr+yr+Cr}function gn(En,kn){kn.pos=(kn.start||0)+En.offset;const Pn=kn.getUint16();kn.skip(60);const _n=kn.getUint16();if(Pn<4&&_n&768)return!1;const Mn=kn.getUint16(),On=kn.getUint16();return Mn>On||(kn.skip(6),kn.getUint16()===0)?!1:(En.data[8]=En.data[9]=0,!0)}function on(En,kn,Pn){Pn=Pn||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let _n=0,Mn=0,On=0,jn=0,qn=null,Gn=0;if(kn){for(let Vn in kn){Vn|=0,(qn>Vn||!qn)&&(qn=Vn),Gn<Vn&&(Gn=Vn);const Bn=(0,Pt.getUnicodeRangeFor)(Vn);if(Bn<32)_n|=1<<Bn;else if(Bn<64)Mn|=1<<Bn-32;else if(Bn<96)On|=1<<Bn-64;else if(Bn<123)jn|=1<<Bn-96;else throw new vt.FormatError("Unicode ranges Bits > 123 are reserved for internal usage")}Gn>65535&&(Gn=65535)}else qn=0,Gn=255;const Yn=En.bbox||[0,0,0,0],er=Pn.unitsPerEm||1/(En.fontMatrix||vt.FONT_IDENTITY_MATRIX)[0],cr=En.ascentScaled?1:er/en,rr=Pn.ascent||Math.round(cr*(En.ascent||Yn[3]));let tr=Pn.descent||Math.round(cr*(En.descent||Yn[1]));tr>0&&En.descent>0&&Yn[1]<0&&(tr=-tr);const ir=Pn.yMax||rr,Kn=-Pn.yMin||-tr;return"\0$\0\0\0\0\0\0\0\0\x001\0\0\0\0"+String.fromCharCode(En.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,vt.string32)(_n)+(0,vt.string32)(Mn)+(0,vt.string32)(On)+(0,vt.string32)(jn)+"*21*"+Kt(En.italicAngle?1:0)+Kt(qn||En.firstChar)+Kt(Gn||En.lastChar)+Kt(rr)+Kt(tr)+"\0d"+Kt(ir)+Kt(Kn)+"\0\0\0\0\0\0\0\0"+Kt(En.xHeight)+Kt(En.capHeight)+Kt(0)+Kt(qn||En.firstChar)+"\0"}function wn(En){const kn=Math.floor(En.italicAngle*65536);return"\0\0\0"+(0,vt.string32)(kn)+"\0\0\0\0"+(0,vt.string32)(En.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function pn(En){return En.replace(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function Cn(En,kn){kn||(kn=[[],[]]);const Pn=[kn[0][0]||"Original licence",kn[0][1]||En,kn[0][2]||"Unknown",kn[0][3]||"uniqueID",kn[0][4]||En,kn[0][5]||"Version 0.11",kn[0][6]||pn(En),kn[0][7]||"Unknown",kn[0][8]||"Unknown",kn[0][9]||"Unknown"],_n=[];let Mn,On,jn,qn,Gn;for(Mn=0,On=Pn.length;Mn<On;Mn++){Gn=kn[1][Mn]||Pn[Mn];const Vn=[];for(jn=0,qn=Gn.length;jn<qn;jn++)Vn.push(Kt(Gn.charCodeAt(jn)));_n.push(Vn.join(""))}const Yn=[Pn,_n],er=["\0","\0"],cr=["\0\0","\0"],rr=["\0\0","	"],tr=Pn.length*er.length;let ir="\0\0"+Kt(tr)+Kt(tr*12+6),Kn=0;for(Mn=0,On=er.length;Mn<On;Mn++){const Vn=Yn[Mn];for(jn=0,qn=Vn.length;jn<qn;jn++){Gn=Vn[jn];const Bn=er[Mn]+cr[Mn]+rr[Mn]+Kt(jn)+Kt(Gn.length)+Kt(Kn);ir+=Bn,Kn+=Gn.length}}return ir+=Pn.join("")+_n.join(""),ir}class Tn{constructor(kn,Pn,_n){this.name=kn,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=_n.loadedName,this.isType3Font=_n.isType3Font,this.missingFile=!1,this.cssFontInfo=_n.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let Mn=!!(_n.flags&Mt.FontFlags.Serif);if(!Mn&&!_n.isSimulatedFlags){const Yn=kn.replace(/[,_]/g,"-").split("-")[0],er=(0,_t.getSerifFonts)();for(const cr of Yn.split("+"))if(er[cr]){Mn=!0;break}}this.isSerifFont=Mn,this.isSymbolicFont=!!(_n.flags&Mt.FontFlags.Symbolic),this.isMonospace=!!(_n.flags&Mt.FontFlags.FixedPitch);let On=_n.type,jn=_n.subtype;this.type=On,this.subtype=jn;let qn="sans-serif";if(this.isMonospace?qn="monospace":this.isSerifFont&&(qn="serif"),this.fallbackName=qn,this.differences=_n.differences,this.widths=_n.widths,this.defaultWidth=_n.defaultWidth,this.composite=_n.composite,this.cMap=_n.cMap,this.capHeight=_n.capHeight/en,this.ascent=_n.ascent/en,this.descent=_n.descent/en,this.lineHeight=this.ascent-this.descent,this.fontMatrix=_n.fontMatrix,this.bbox=_n.bbox,this.defaultEncoding=_n.defaultEncoding,this.toUnicode=_n.toUnicode,this.toFontChar=[],_n.type==="Type3"){for(let Yn=0;Yn<256;Yn++)this.toFontChar[Yn]=this.differences[Yn]||_n.defaultEncoding[Yn];this.fontType=vt.FontType.TYPE3;return}if(this.cidEncoding=_n.cidEncoding||"",this.vertical=!!_n.vertical,this.vertical&&(this.vmetrics=_n.vmetrics,this.defaultVMetrics=_n.defaultVMetrics),!Pn||Pn.isEmpty){Pn&&(0,vt.warn)('Font file is empty in "'+kn+'" ('+this.loadedName+")"),this.fallbackToSystemFont(_n);return}[On,jn]=rn(Pn,_n),(On!==this.type||jn!==this.subtype)&&(0,vt.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${On}/${jn}.`);let Gn;try{switch(On){case"MMType1":(0,vt.info)("MMType1 font ("+kn+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const Yn=jn==="Type1C"||jn==="CIDFontType0C"?new Rt.CFFFont(Pn,_n):new Gt.Type1Font(kn,Pn,_n);hn(_n),Gn=this.convert(kn,Yn,_n);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",Gn=this.checkAndRepair(kn,Pn,_n),this.isOpenType&&(hn(_n),On="OpenType");break;default:throw new vt.FormatError(`Font ${On} is not supported`)}}catch(Yn){(0,vt.warn)(Yn),this.fallbackToSystemFont(_n);return}qt(_n),this.data=Gn,this.fontType=(0,Mt.getFontType)(On,jn,_n.isStandardFont),this.fontMatrix=_n.fontMatrix,this.widths=_n.widths,this.defaultWidth=_n.defaultWidth,this.toUnicode=_n.toUnicode,this.seacMap=_n.seacMap}get renderer(){const kn=Nt.FontRendererFactory.create(this,Mt.SEAC_ANALYSIS_ENABLED);return(0,vt.shadow)(this,"renderer",kn)}exportData(kn=!1){const Pn=kn?[...Sn,...sn]:Sn,_n=Object.create(null);let Mn,On;for(Mn of Pn)On=this[Mn],On!==void 0&&(_n[Mn]=On);return _n}fallbackToSystemFont(kn){this.missingFile=!0;const Pn=this.name,_n=this.type,Mn=this.subtype;let On=(0,Mt.normalizeFontName)(Pn);const jn=(0,_t.getStdFontMap)(),qn=(0,_t.getNonStdFontMap)(),Gn=!!jn[On],Yn=!!(qn[On]&&jn[qn[On]]);On=jn[On]||qn[On]||On;const cr=(0,Lt.getFontBasicMetrics)()[On];cr&&(isNaN(this.ascent)&&(this.ascent=cr.ascent/en),isNaN(this.descent)&&(this.descent=cr.descent/en),isNaN(this.capHeight)&&(this.capHeight=cr.capHeight/en)),this.bold=On.search(/bold/gi)!==-1,this.italic=On.search(/oblique/gi)!==-1||On.search(/italic/gi)!==-1,this.black=Pn.search(/Black/g)!==-1;const rr=Pn.search(/Narrow/g)!==-1;if(this.remeasure=(!Gn||rr)&&Object.keys(this.widths).length>0,(Gn||Yn)&&_n==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const tr=kn.cidToGidMap,ir=[];if(dn(ir,(0,_t.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(Pn)?dn(ir,(0,_t.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(Pn)&&dn(ir,(0,_t.getSupplementalGlyphMapForCalibri)()),tr){for(const Kn in ir){const Vn=ir[Kn];tr[Vn]!==void 0&&(ir[+Kn]=tr[Vn])}tr.length!==this.toUnicode.length&&kn.hasIncludedToUnicodeMap&&this.toUnicode instanceof jt.IdentityToUnicodeMap&&this.toUnicode.forEach(function(Kn,Vn){const Bn=ir[Kn];tr[Bn]===void 0&&(ir[+Kn]=Vn)})}this.toUnicode instanceof jt.IdentityToUnicodeMap||this.toUnicode.forEach(function(Kn,Vn){ir[+Kn]=Vn}),this.toFontChar=ir,this.toUnicode=new jt.ToUnicodeMap(ir)}else if(/Symbol/i.test(On))this.toFontChar=An($t.SymbolSetEncoding,(0,xt.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(On))/Wingdings/i.test(Pn)&&(0,vt.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=An($t.ZapfDingbatsEncoding,(0,xt.getDingbatsGlyphsUnicode)(),this.differences);else if(Gn){const tr=An(this.defaultEncoding,(0,xt.getGlyphsUnicode)(),this.differences);_n==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof jt.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(ir,Kn){tr[+ir]=Kn}),this.toFontChar=tr}else{const tr=(0,xt.getGlyphsUnicode)(),ir=[];this.toUnicode.forEach((Kn,Vn)=>{if(!this.composite){const Bn=this.differences[Kn]||this.defaultEncoding[Kn],lr=(0,Pt.getUnicodeForGlyph)(Bn,tr);lr!==-1&&(Vn=lr)}ir[+Kn]=Vn}),this.composite&&this.toUnicode instanceof jt.IdentityToUnicodeMap&&/Verdana/i.test(Pn)&&dn(ir,(0,_t.getGlyphMapForStandardFonts)()),this.toFontChar=ir}qt(kn),this.loadedName=On.split("-")[0],this.fontType=(0,Mt.getFontType)(_n,Mn,kn.isStandardFont)}checkAndRepair(kn,Pn,_n){const Mn=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function On(mr,or){const xr=Object.create(null);xr["OS/2"]=null,xr.cmap=null,xr.head=null,xr.hhea=null,xr.hmtx=null,xr.maxp=null,xr.name=null,xr.post=null;for(let vr=0;vr<or;vr++){const Or=jn(mr);Mn.includes(Or.tag)&&Or.length!==0&&(xr[Or.tag]=Or)}return xr}function jn(mr){const or=mr.getString(4),xr=mr.getInt32()>>>0,vr=mr.getInt32()>>>0,Or=mr.getInt32()>>>0,Gr=mr.pos;mr.pos=mr.start||0,mr.skip(vr);const Ir=mr.getBytes(Or);return mr.pos=Gr,or==="head"&&(Ir[8]=Ir[9]=Ir[10]=Ir[11]=0,Ir[17]|=32),{tag:or,checksum:xr,length:Or,offset:vr,data:Ir}}function qn(mr){return{version:mr.getString(4),numTables:mr.getUint16(),searchRange:mr.getUint16(),entrySelector:mr.getUint16(),rangeShift:mr.getUint16()}}function Gn(mr){const or=mr.getString(4);(0,vt.assert)(or==="ttcf","Must be a TrueType Collection font.");const xr=mr.getUint16(),vr=mr.getUint16(),Or=mr.getInt32()>>>0,Gr=[];for(let kr=0;kr<Or;kr++)Gr.push(mr.getInt32()>>>0);const Ir={ttcTag:or,majorVersion:xr,minorVersion:vr,numFonts:Or,offsetTable:Gr};switch(xr){case 1:return Ir;case 2:return Ir.dsigTag=mr.getInt32()>>>0,Ir.dsigLength=mr.getInt32()>>>0,Ir.dsigOffset=mr.getInt32()>>>0,Ir}throw new vt.FormatError(`Invalid TrueType Collection majorVersion: ${xr}.`)}function Yn(mr,or){const{numFonts:xr,offsetTable:vr}=Gn(mr),Or=or.split("+");let Gr;for(let Ir=0;Ir<xr;Ir++){mr.pos=(mr.start||0)+vr[Ir];const kr=qn(mr),$r=On(mr,kr.numTables);if(!$r.name)throw new vt.FormatError('TrueType Collection font must contain a "name" table.');const Hr=Vn($r.name);for(let us=0,rs=Hr.length;us<rs;us++)for(let Xr=0,Qn=Hr[us].length;Xr<Qn;Xr++){const sr=Hr[us][Xr]&&Hr[us][Xr].replace(/\s/g,"");if(sr){if(sr===or)return{header:kr,tables:$r};if(!(Or.length<2))for(const fr of Or)sr===fr&&(Gr={name:fr,header:kr,tables:$r})}}}if(Gr)return(0,vt.warn)(`TrueType Collection does not contain "${or}" font, falling back to "${Gr.name}" font instead.`),{header:Gr.header,tables:Gr.tables};throw new vt.FormatError(`TrueType Collection does not contain "${or}" font.`)}function er(mr,or,xr,vr){if(!mr)return(0,vt.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let Or,Gr=(or.start||0)+mr.offset;or.pos=Gr,or.skip(2);const Ir=or.getUint16();let kr,$r=!1;for(let sr=0;sr<Ir;sr++){const fr=or.getUint16(),ur=or.getUint16(),_r=or.getInt32()>>>0;let Qr=!1;if(!(kr&&kr.platformId===fr&&kr.encodingId===ur)){if(fr===0&&(ur===0||ur===1||ur===3))Qr=!0;else if(fr===1&&ur===0)Qr=!0;else if(fr===3&&ur===1&&(vr||!kr))Qr=!0,xr||($r=!0);else if(xr&&fr===3&&ur===0){Qr=!0;let Ps=!0;if(sr<Ir-1){const es=or.peekBytes(2);Ut(es[0],es[1])<fr&&(Ps=!1)}Ps&&($r=!0)}if(Qr&&(kr={platformId:fr,encodingId:ur,offset:_r}),$r)break}}if(kr&&(or.pos=Gr+kr.offset),!kr||or.peekByte()===-1)return(0,vt.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const Hr=or.getUint16();let us=!1;const rs=[];let Xr,Qn;if(Hr===0){for(or.skip(4),Xr=0;Xr<256;Xr++){const sr=or.getByte();sr&&rs.push({charCode:Xr,glyphId:sr})}us=!0}else if(Hr===2){or.skip(4);const sr=[];let fr=0;for(let _r=0;_r<256;_r++){const Qr=or.getUint16()>>3;sr.push(Qr),fr=Math.max(Qr,fr)}const ur=[];for(let _r=0;_r<=fr;_r++)ur.push({firstCode:or.getUint16(),entryCount:or.getUint16(),idDelta:cn(or.getByte(),or.getByte()),idRangePos:or.pos+or.getUint16()});for(let _r=0;_r<256;_r++)if(sr[_r]===0)or.pos=ur[0].idRangePos+2*_r,Qn=or.getUint16(),rs.push({charCode:_r,glyphId:Qn});else{const Qr=ur[sr[_r]];for(Xr=0;Xr<Qr.entryCount;Xr++){const Ps=(_r<<8)+Xr+Qr.firstCode;or.pos=Qr.idRangePos+2*Xr,Qn=or.getUint16(),Qn!==0&&(Qn=(Qn+Qr.idDelta)%65536),rs.push({charCode:Ps,glyphId:Qn})}}}else if(Hr===4){or.skip(4);const sr=or.getUint16()>>1;or.skip(6);const fr=[];let ur;for(ur=0;ur<sr;ur++)fr.push({end:or.getUint16()});for(or.skip(2),ur=0;ur<sr;ur++)fr[ur].start=or.getUint16();for(ur=0;ur<sr;ur++)fr[ur].delta=or.getUint16();let _r=0,Qr;for(ur=0;ur<sr;ur++){Or=fr[ur];const es=or.getUint16();if(!es){Or.offsetIndex=-1;continue}Qr=(es>>1)-(sr-ur),Or.offsetIndex=Qr,_r=Math.max(_r,Qr+Or.end-Or.start+1)}const Ps=[];for(Xr=0;Xr<_r;Xr++)Ps.push(or.getUint16());for(ur=0;ur<sr;ur++){Or=fr[ur],Gr=Or.start;const es=Or.end,hs=Or.delta;for(Qr=Or.offsetIndex,Xr=Gr;Xr<=es;Xr++)Xr!==65535&&(Qn=Qr<0?Xr:Ps[Qr+Xr-Gr],Qn=Qn+hs&65535,rs.push({charCode:Xr,glyphId:Qn}))}}else if(Hr===6){or.skip(4);const sr=or.getUint16(),fr=or.getUint16();for(Xr=0;Xr<fr;Xr++){Qn=or.getUint16();const ur=sr+Xr;rs.push({charCode:ur,glyphId:Qn})}}else if(Hr===12){or.skip(10);const sr=or.getInt32()>>>0;for(Xr=0;Xr<sr;Xr++){const fr=or.getInt32()>>>0,ur=or.getInt32()>>>0;let _r=or.getInt32()>>>0;for(let Qr=fr;Qr<=ur;Qr++)rs.push({charCode:Qr,glyphId:_r++})}}else return(0,vt.warn)("cmap table has unsupported format: "+Hr),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};rs.sort(function(sr,fr){return sr.charCode-fr.charCode});for(let sr=1;sr<rs.length;sr++)rs[sr-1].charCode===rs[sr].charCode&&(rs.splice(sr,1),sr--);return{platformId:kr.platformId,encodingId:kr.encodingId,mappings:rs,hasShortCmap:us}}function cr(mr,or,xr,vr,Or,Gr){if(!or){xr&&(xr.data=null);return}mr.pos=(mr.start||0)+or.offset,mr.pos+=4,mr.pos+=2,mr.pos+=2,mr.pos+=2,mr.pos+=2,mr.pos+=2,mr.pos+=2,mr.pos+=2,mr.pos+=2,mr.pos+=2;const Ir=mr.getUint16();mr.pos+=8,mr.pos+=2;let kr=mr.getUint16();Ir!==0&&(Ut(vr.data[44],vr.data[45])&2||(or.data[22]=0,or.data[23]=0)),kr>Or&&((0,vt.info)(`The numOfMetrics (${kr}) should not be greater than the numGlyphs (${Or}).`),kr=Or,or.data[34]=(kr&65280)>>8,or.data[35]=kr&255);const Hr=Or-kr-(xr.length-kr*4>>1);if(Hr>0){const us=new Uint8Array(xr.length+Hr*2);us.set(xr.data),Gr&&(us[xr.length]=xr.data[2],us[xr.length+1]=xr.data[3]),xr.data=us}}function rr(mr,or,xr,vr,Or,Gr){const Ir={length:0,sizeOfInstructions:0};if(xr-or<=12)return Ir;const kr=mr.subarray(or,xr);let $r=cn(kr[0],kr[1]);if($r<0)return $r=-1,zt(kr,0,$r),vr.set(kr,Or),Ir.length=kr.length,Ir;let Hr,us=10,rs=0;for(Hr=0;Hr<$r;Hr++)rs=(kr[us]<<8|kr[us+1])+1,us+=2;const Xr=us,Qn=kr[us]<<8|kr[us+1];Ir.sizeOfInstructions=Qn,us+=2+Qn;const sr=us;let fr=0;for(Hr=0;Hr<rs;Hr++){const _r=kr[us++];_r&192&&(kr[us-1]=_r&63);let Qr=2;_r&2?Qr=1:_r&16&&(Qr=0);let Ps=2;_r&4?Ps=1:_r&32&&(Ps=0);const es=Qr+Ps;if(fr+=es,_r&8){const hs=kr[us++];Hr+=hs,fr+=hs*es}}if(fr===0)return Ir;let ur=us+fr;return ur>kr.length?Ir:!Gr&&Qn>0?(vr.set(kr.subarray(0,Xr),Or),vr.set([0,0],Or+Xr),vr.set(kr.subarray(sr,ur),Or+Xr+2),ur-=Qn,kr.length-ur>3&&(ur=ur+3&-4),Ir.length=ur,Ir):kr.length-ur>3?(ur=ur+3&-4,vr.set(kr.subarray(0,ur),Or),Ir.length=ur,Ir):(vr.set(kr,Or),Ir.length=kr.length,Ir)}function tr(mr,or,xr){const vr=mr.data,Or=ln(vr[0],vr[1],vr[2],vr[3]);Or>>16!==1&&((0,vt.info)("Attempting to fix invalid version in head table: "+Or),vr[0]=0,vr[1]=1,vr[2]=0,vr[3]=0);const Gr=Ut(vr[50],vr[51]);if(Gr<0||Gr>1){(0,vt.info)("Attempting to fix invalid indexToLocFormat in head table: "+Gr);const Ir=or+1;if(xr===Ir<<1)vr[50]=0,vr[51]=0;else if(xr===Ir<<2)vr[50]=0,vr[51]=1;else throw new vt.FormatError("Could not fix indexToLocFormat: "+Gr)}}function ir(mr,or,xr,vr,Or,Gr,Ir){let kr,$r,Hr;vr?(kr=4,$r=function(Ms,Qs){return Ms[Qs]<<24|Ms[Qs+1]<<16|Ms[Qs+2]<<8|Ms[Qs+3]},Hr=function(Ms,Qs,ko){Ms[Qs]=ko>>>24&255,Ms[Qs+1]=ko>>16&255,Ms[Qs+2]=ko>>8&255,Ms[Qs+3]=ko&255}):(kr=2,$r=function(Ms,Qs){return Ms[Qs]<<9|Ms[Qs+1]<<1},Hr=function(Ms,Qs,ko){Ms[Qs]=ko>>9&255,Ms[Qs+1]=ko>>1&255});const us=Gr?xr+1:xr,rs=kr*(1+us),Xr=new Uint8Array(rs);Xr.set(mr.data.subarray(0,rs)),mr.data=Xr;const Qn=or.data,sr=Qn.length,fr=new Uint8Array(sr);let ur,_r;const Qr=[];for(ur=0,_r=0;ur<xr+1;ur++,_r+=kr){let hs=$r(Xr,_r);hs>sr&&(hs=sr),Qr.push({index:ur,offset:hs,endOffset:0})}for(Qr.sort((hs,Ms)=>hs.offset-Ms.offset),ur=0;ur<xr;ur++)Qr[ur].endOffset=Qr[ur+1].offset;for(Qr.sort((hs,Ms)=>hs.index-Ms.index),ur=0;ur<xr;ur++){const{offset:hs,endOffset:Ms}=Qr[ur];if(hs!==0||Ms!==0)break;const Qs=Qr[ur+1].offset;if(Qs!==0){Qr[ur].endOffset=Qs;break}}const Ps=Object.create(null);let es=0;for(Hr(Xr,0,es),ur=0,_r=kr;ur<xr;ur++,_r+=kr){const hs=rr(Qn,Qr[ur].offset,Qr[ur].endOffset,fr,es,Or),Ms=hs.length;Ms===0&&(Ps[ur]=!0),hs.sizeOfInstructions>Ir&&(Ir=hs.sizeOfInstructions),es+=Ms,Hr(Xr,_r,es)}if(es===0){const hs=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(ur=0,_r=kr;ur<us;ur++,_r+=kr)Hr(Xr,_r,hs.length);or.data=hs}else if(Gr){const hs=$r(Xr,kr);fr.length>hs+es?or.data=fr.subarray(0,hs+es):(or.data=new Uint8Array(hs+es),or.data.set(fr.subarray(0,es))),or.data.set(fr.subarray(0,hs),es),Hr(mr.data,Xr.length-kr,es+hs)}else or.data=fr.subarray(0,es);return{missingGlyphs:Ps,maxSizeOfInstructions:Ir}}function Kn(mr,or,xr){const vr=(Pn.start||0)+mr.offset;Pn.pos=vr;const Or=mr.length,Gr=vr+Or,Ir=Pn.getInt32();Pn.skip(28);let kr,$r=!0,Hr;switch(Ir){case 65536:kr=Mt.MacStandardGlyphOrdering;break;case 131072:const us=Pn.getUint16();if(us!==xr){$r=!1;break}const rs=[];for(Hr=0;Hr<us;++Hr){const sr=Pn.getUint16();if(sr>=32768){$r=!1;break}rs.push(sr)}if(!$r)break;const Xr=[],Qn=[];for(;Pn.pos<Gr;){const sr=Pn.getByte();for(Qn.length=sr,Hr=0;Hr<sr;++Hr)Qn[Hr]=String.fromCharCode(Pn.getByte());Xr.push(Qn.join(""))}for(kr=[],Hr=0;Hr<us;++Hr){const sr=rs[Hr];if(sr<258){kr.push(Mt.MacStandardGlyphOrdering[sr]);continue}kr.push(Xr[sr-258])}break;case 196608:break;default:(0,vt.warn)("Unknown/unsupported post table version "+Ir),$r=!1,or.defaultEncoding&&(kr=or.defaultEncoding);break}return or.glyphNames=kr,$r}function Vn(mr){const or=(Pn.start||0)+mr.offset;Pn.pos=or;const xr=[[],[]],vr=mr.length,Or=or+vr;if(Pn.getUint16()!==0||vr<6)return xr;const kr=Pn.getUint16(),$r=Pn.getUint16(),Hr=[],us=12;let rs,Xr;for(rs=0;rs<kr&&Pn.pos+us<=Or;rs++){const Qn={platform:Pn.getUint16(),encoding:Pn.getUint16(),language:Pn.getUint16(),name:Pn.getUint16(),length:Pn.getUint16(),offset:Pn.getUint16()};(Qn.platform===1&&Qn.encoding===0&&Qn.language===0||Qn.platform===3&&Qn.encoding===1&&Qn.language===1033)&&Hr.push(Qn)}for(rs=0,Xr=Hr.length;rs<Xr;rs++){const Qn=Hr[rs];if(Qn.length<=0)continue;const sr=or+$r+Qn.offset;if(sr+Qn.length>Or)continue;Pn.pos=sr;const fr=Qn.name;if(Qn.encoding){let ur="";for(let _r=0,Qr=Qn.length;_r<Qr;_r+=2)ur+=String.fromCharCode(Pn.getUint16());xr[1][fr]=ur}else xr[0][fr]=Pn.getString(Qn.length)}return xr}const Bn=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function lr(mr,or){let xr=mr.data,vr=0,Or,Gr,Ir,kr,$r,Hr=0,us=0;const rs=[],Xr=[],Qn=[];let sr=or.tooComplexToFollowFunctions,fr=!1,ur=0,_r=0;for(let Ps=xr.length;vr<Ps;){const es=xr[vr++];if(es===64)if(Gr=xr[vr++],fr||_r)vr+=Gr;else for(Or=0;Or<Gr;Or++)rs.push(xr[vr++]);else if(es===65)if(Gr=xr[vr++],fr||_r)vr+=Gr*2;else for(Or=0;Or<Gr;Or++)Ir=xr[vr++],rs.push(Ir<<8|xr[vr++]);else if((es&248)===176)if(Gr=es-176+1,fr||_r)vr+=Gr;else for(Or=0;Or<Gr;Or++)rs.push(xr[vr++]);else if((es&248)===184)if(Gr=es-184+1,fr||_r)vr+=Gr*2;else for(Or=0;Or<Gr;Or++)Ir=xr[vr++],rs.push(Ir<<8|xr[vr++]);else if(es===43&&!sr){if(!fr&&!_r){if(kr=rs.at(-1),isNaN(kr))(0,vt.info)("TT: CALL empty stack (or invalid entry).");else if(or.functionsUsed[kr]=!0,kr in or.functionsStackDeltas){const hs=rs.length+or.functionsStackDeltas[kr];if(hs<0){(0,vt.warn)("TT: CALL invalid functions stack delta."),or.hintsValid=!1;return}rs.length=hs}else if(kr in or.functionsDefined&&!Qn.includes(kr)){if(Xr.push({data:xr,i:vr,stackTop:rs.length-1}),Qn.push(kr),$r=or.functionsDefined[kr],!$r){(0,vt.warn)("TT: CALL non-existent function"),or.hintsValid=!1;return}xr=$r.data,vr=$r.i}}}else if(es===44&&!sr)(fr||_r)&&((0,vt.warn)("TT: nested FDEFs not allowed"),sr=!0),fr=!0,us=vr,kr=rs.pop(),or.functionsDefined[kr]={data:xr,i:vr};else if(es===45)if(fr)fr=!1,Hr=vr;else{if($r=Xr.pop(),!$r){(0,vt.warn)("TT: ENDF bad stack"),or.hintsValid=!1;return}kr=Qn.pop(),xr=$r.data,vr=$r.i,or.functionsStackDeltas[kr]=rs.length-$r.stackTop}else if(es===137)(fr||_r)&&((0,vt.warn)("TT: nested IDEFs not allowed"),sr=!0),fr=!0,us=vr;else if(es===88)++ur;else if(es===27)_r=ur;else if(es===89)_r===ur&&(_r=0),--ur;else if(es===28&&!fr&&!_r){const hs=rs.at(-1);hs>0&&(vr+=hs-1)}if(!fr&&!_r){let hs=0;for(es<=142?hs=Bn[es]:es>=192&&es<=223?hs=-1:es>=224&&(hs=-2),es>=113&&es<=117&&(Gr=rs.pop(),isNaN(Gr)||(hs=-Gr*2));hs<0&&rs.length>0;)rs.pop(),hs++;for(;hs>0;)rs.push(NaN),hs--}}or.tooComplexToFollowFunctions=sr;const Qr=[xr];vr>xr.length&&Qr.push(new Uint8Array(vr-xr.length)),us>Hr&&((0,vt.warn)("TT: complementing a missing function tail"),Qr.push(new Uint8Array([34,45]))),Pr(mr,Qr)}function br(mr,or){if(!mr.tooComplexToFollowFunctions){if(mr.functionsDefined.length>or){(0,vt.warn)("TT: more functions defined than expected"),mr.hintsValid=!1;return}for(let xr=0,vr=mr.functionsUsed.length;xr<vr;xr++){if(xr>or){(0,vt.warn)("TT: invalid function id: "+xr),mr.hintsValid=!1;return}if(mr.functionsUsed[xr]&&!mr.functionsDefined[xr]){(0,vt.warn)("TT: undefined function: "+xr),mr.hintsValid=!1;return}}}}function Pr(mr,or){if(or.length>1){let xr=0,vr,Or;for(vr=0,Or=or.length;vr<Or;vr++)xr+=or[vr].length;xr=xr+3&-4;const Gr=new Uint8Array(xr);let Ir=0;for(vr=0,Or=or.length;vr<Or;vr++)Gr.set(or[vr],Ir),Ir+=or[vr].length;mr.data=Gr,mr.length=xr}}function nr(mr,or,xr,vr){const Or={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(mr&&lr(mr,Or),or&&lr(or,Or),mr&&br(Or,vr),xr&&xr.length&1){const Gr=new Uint8Array(xr.length+1);Gr.set(xr.data),xr.data=Gr}return Or.hintsValid}Pn=new Vt.Stream(new Uint8Array(Pn.getBytes()));let _i,zn;if(tn(Pn)){const mr=Yn(Pn,this.name);_i=mr.header,zn=mr.tables}else _i=qn(Pn),zn=On(Pn,_i.numTables);let wr,Cr;const yr=!zn["CFF "];if(yr){if(!zn.loca)throw new vt.FormatError('Required "loca" table is not found');zn.glyf||((0,vt.warn)('Required "glyf" table is not found -- trying to recover.'),zn.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const mr=_n.composite&&((_n.cidToGidMap||[]).length>0||!(_n.cMap instanceof Bt.IdentityCMap));if(_i.version==="OTTO"&&!mr||!zn.head||!zn.hhea||!zn.maxp||!zn.post)return Cr=new Vt.Stream(zn["CFF "].data),wr=new Rt.CFFFont(Cr,_n),hn(_n),this.convert(kn,wr,_n);delete zn.glyf,delete zn.loca,delete zn.fpgm,delete zn.prep,delete zn["cvt "],this.isOpenType=!0}if(!zn.maxp)throw new vt.FormatError('Required "maxp" table is not found');Pn.pos=(Pn.start||0)+zn.maxp.offset;const Br=Pn.getInt32(),gr=Pn.getUint16();if(_n.scaleFactors&&_n.scaleFactors.length===gr&&yr){const{scaleFactors:mr}=_n,or=Ut(zn.head.data[50],zn.head.data[51]),xr=new kt.GlyfTable({glyfTable:zn.glyf.data,isGlyphLocationsLong:or,locaTable:zn.loca.data,numGlyphs:gr});xr.scale(mr);const{glyf:vr,loca:Or,isLocationLong:Gr}=xr.write();zn.glyf.data=vr,zn.loca.data=Or,Gr!==!!or&&(zn.head.data[50]=0,zn.head.data[51]=Gr?1:0);const Ir=zn.hmtx.data;for(let kr=0;kr<gr;kr++){const $r=4*kr,Hr=Math.round(mr[kr]*Ut(Ir[$r],Ir[$r+1]));Ir[$r]=Hr>>8&255,Ir[$r+1]=Hr&255;const us=Math.round(mr[kr]*cn(Ir[$r+2],Ir[$r+3]));zt(Ir,$r+2,us)}}let Mr=gr+1,qr=!0;Mr>65535&&(qr=!1,Mr=gr,(0,vt.warn)("Not enough space in glyfs to duplicate first glyph."));let pr=0,zr=0;Br>=65536&&zn.maxp.length>=22&&(Pn.pos+=8,Pn.getUint16()>2&&(zn.maxp.data[14]=0,zn.maxp.data[15]=2),Pn.pos+=4,pr=Pn.getUint16(),Pn.pos+=4,zr=Pn.getUint16()),zn.maxp.data[4]=Mr>>8,zn.maxp.data[5]=Mr&255;const Rr=nr(zn.fpgm,zn.prep,zn["cvt "],pr);if(Rr||(delete zn.fpgm,delete zn.prep,delete zn["cvt "]),cr(Pn,zn.hhea,zn.hmtx,zn.head,Mr,qr),!zn.head)throw new vt.FormatError('Required "head" table is not found');tr(zn.head,gr,yr?zn.loca.length:0);let fs=Object.create(null);if(yr){const mr=Ut(zn.head.data[50],zn.head.data[51]),or=ir(zn.loca,zn.glyf,gr,mr,Rr,qr,zr);fs=or.missingGlyphs,Br>=65536&&zn.maxp.length>=22&&(zn.maxp.data[26]=or.maxSizeOfInstructions>>8,zn.maxp.data[27]=or.maxSizeOfInstructions&255)}if(!zn.hhea)throw new vt.FormatError('Required "hhea" table is not found');zn.hhea.data[10]===0&&zn.hhea.data[11]===0&&(zn.hhea.data[10]=255,zn.hhea.data[11]=255);const Yr={unitsPerEm:Ut(zn.head.data[18],zn.head.data[19]),yMax:Ut(zn.head.data[42],zn.head.data[43]),yMin:cn(zn.head.data[38],zn.head.data[39]),ascent:cn(zn.hhea.data[4],zn.hhea.data[5]),descent:cn(zn.hhea.data[6],zn.hhea.data[7]),lineGap:cn(zn.hhea.data[8],zn.hhea.data[9])};this.ascent=Yr.ascent/Yr.unitsPerEm,this.descent=Yr.descent/Yr.unitsPerEm,this.lineGap=Yr.lineGap/Yr.unitsPerEm,this.cssFontInfo&&this.cssFontInfo.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,zn.post&&Kn(zn.post,_n,gr),zn.post={tag:"post",data:wn(_n)};const Jr=[];function Ur(mr){return!fs[mr]}if(_n.composite){const mr=_n.cidToGidMap||[],or=mr.length===0;_n.cMap.forEach(function(xr,vr){if(typeof vr=="string"&&(vr=an(xr,vr,!0)),vr>65535)throw new vt.FormatError("Max size of CID is 65,535");let Or=-1;or?Or=vr:mr[vr]!==void 0&&(Or=mr[vr]),Or>=0&&Or<gr&&Ur(Or)&&(Jr[xr]=Or)})}else{const mr=er(zn.cmap,Pn,this.isSymbolicFont,_n.hasEncoding),or=mr.platformId,xr=mr.encodingId,vr=mr.mappings,Or=vr.length;let Gr=[],Ir=!1;if(_n.hasEncoding&&(_n.baseEncodingName==="MacRomanEncoding"||_n.baseEncodingName==="WinAnsiEncoding")&&(Gr=(0,$t.getEncoding)(_n.baseEncodingName)),_n.hasEncoding&&!this.isSymbolicFont&&(or===3&&xr===1||or===1&&xr===0)){const kr=(0,xt.getGlyphsUnicode)();for(let $r=0;$r<256;$r++){let Hr;if(this.differences[$r]!==void 0?Hr=this.differences[$r]:Gr.length&&Gr[$r]!==""?Hr=Gr[$r]:Hr=$t.StandardEncoding[$r],!Hr)continue;const us=(0,Mt.recoverGlyphName)(Hr,kr);let rs;if(or===3&&xr===1?rs=kr[us]:or===1&&xr===0&&(rs=$t.MacRomanEncoding.indexOf(us)),rs===void 0){if(!_n.glyphNames&&_n.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof jt.IdentityToUnicodeMap)){const Xr=this.toUnicode.get($r);Xr&&(rs=Xr.codePointAt(0))}if(rs===void 0)continue}for(let Xr=0;Xr<Or;++Xr)if(vr[Xr].charCode===rs){Jr[$r]=vr[Xr].glyphId;break}}}else if(or===0){for(let kr=0;kr<Or;++kr)Jr[vr[kr].charCode]=vr[kr].glyphId;Ir=!0}else for(let kr=0;kr<Or;++kr){let $r=vr[kr].charCode;or===3&&$r>=61440&&$r<=61695&&($r&=255),Jr[$r]=vr[kr].glyphId}if(_n.glyphNames&&(Gr.length||this.differences.length))for(let kr=0;kr<256;++kr){if(!Ir&&Jr[kr]!==void 0)continue;const $r=this.differences[kr]||Gr[kr];if(!$r)continue;const Hr=_n.glyphNames.indexOf($r);Hr>0&&Ur(Hr)&&(Jr[kr]=Hr)}}Jr.length===0&&(Jr[0]=0);let Is=Mr-1;if(qr||(Is=0),!_n.cssFontInfo){const mr=fn(Jr,Ur,Is,this.toUnicode);this.toFontChar=mr.toFontChar,zn.cmap={tag:"cmap",data:vn(mr.charCodeToGlyphId,mr.toUnicodeExtraMap,Mr)},(!zn["OS/2"]||!gn(zn["OS/2"],Pn))&&(zn["OS/2"]={tag:"OS/2",data:on(_n,mr.charCodeToGlyphId,Yr)})}if(!yr)try{Cr=new Vt.Stream(zn["CFF "].data),wr=new Et.CFFParser(Cr,_n,Mt.SEAC_ANALYSIS_ENABLED).parse(),wr.duplicateFirstGlyph();const or=new Et.CFFCompiler(wr);zn["CFF "].data=or.compile()}catch{(0,vt.warn)("Failed to compile font "+_n.loadedName)}if(!zn.name)zn.name={tag:"name",data:Cn(this.name)};else{const mr=Vn(zn.name);zn.name.data=Cn(kn,mr),this.psName=mr[0][6]||null}const _s=new Ht.OpenTypeFileBuilder(_i.version);for(const mr in zn)_s.addTable(mr,zn[mr].data);return _s.toArray()}convert(kn,Pn,_n){_n.fixedPitch=!1,_n.builtInEncoding&&Qt(_n,_n.builtInEncoding);let Mn=1;Pn instanceof Rt.CFFFont&&(Mn=Pn.numGlyphs-1);const On=Pn.getGlyphMapping(_n);let jn=null,qn=On,Gn=null;_n.cssFontInfo||(jn=fn(On,Pn.hasGlyphId.bind(Pn),Mn,this.toUnicode),this.toFontChar=jn.toFontChar,qn=jn.charCodeToGlyphId,Gn=jn.toUnicodeExtraMap);const Yn=Pn.numGlyphs;function er(Kn,Vn){let Bn=null;for(const lr in Kn)Vn===Kn[lr]&&(Bn||(Bn=[]),Bn.push(lr|0));return Bn}function cr(Kn,Vn){for(const Bn in Kn)if(Vn===Kn[Bn])return Bn|0;return jn.charCodeToGlyphId[jn.nextAvailableFontCharCode]=Vn,jn.nextAvailableFontCharCode++}const rr=Pn.seacs;if(jn&&Mt.SEAC_ANALYSIS_ENABLED&&rr&&rr.length){const Kn=_n.fontMatrix||vt.FONT_IDENTITY_MATRIX,Vn=Pn.getCharset(),Bn=Object.create(null);for(let lr in rr){lr|=0;const br=rr[lr],Pr=$t.StandardEncoding[br[2]],nr=$t.StandardEncoding[br[3]],_i=Vn.indexOf(Pr),zn=Vn.indexOf(nr);if(_i<0||zn<0)continue;const wr={x:br[0]*Kn[0]+br[1]*Kn[2]+Kn[4],y:br[0]*Kn[1]+br[1]*Kn[3]+Kn[5]},Cr=er(On,lr);if(Cr)for(let yr=0,Br=Cr.length;yr<Br;yr++){const gr=Cr[yr],Mr=jn.charCodeToGlyphId,qr=cr(Mr,_i),pr=cr(Mr,zn);Bn[gr]={baseFontCharCode:qr,accentFontCharCode:pr,accentOffset:wr}}}_n.seacMap=Bn}const tr=1/(_n.fontMatrix||vt.FONT_IDENTITY_MATRIX)[0],ir=new Ht.OpenTypeFileBuilder("OTTO");return ir.addTable("CFF ",Pn.data),ir.addTable("OS/2",on(_n,qn)),ir.addTable("cmap",vn(qn,Gn,Yn)),ir.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\0\0"+Jt(tr)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+Jt(_n.descent)+""+Jt(_n.ascent)+Kt(_n.italicAngle?2:0)+"\0\0\0\0\0\0\0"),ir.addTable("hhea","\0\0\0"+Jt(_n.ascent)+Jt(_n.descent)+"\0\0\0\0\0\0\0\0"+Jt(_n.capHeight)+Jt(Math.tan(_n.italicAngle)*_n.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+Kt(Yn)),ir.addTable("hmtx",function(){const Vn=Pn.charstrings,Bn=Pn.cff?Pn.cff.widths:null;let lr="\0\0\0\0";for(let br=1,Pr=Yn;br<Pr;br++){let nr=0;if(Vn){const _i=Vn[br-1];nr="width"in _i?_i.width:0}else Bn&&(nr=Math.ceil(Bn[br]||0));lr+=Kt(nr)+Kt(0)}return lr}()),ir.addTable("maxp","\0\0P\0"+Kt(Yn)),ir.addTable("name",Cn(kn)),ir.addTable("post",wn(_n)),ir.toArray()}get spaceWidth(){const kn=["space","minus","one","i","I"];let Pn;for(let _n=0,Mn=kn.length;_n<Mn;_n++){const On=kn[_n];if(On in this.widths){Pn=this.widths[On];break}const qn=(0,xt.getGlyphsUnicode)()[On];let Gn=0;if(this.composite&&this.cMap.contains(qn)&&(Gn=this.cMap.lookup(qn),typeof Gn=="string"&&(Gn=an(qn,Gn))),!Gn&&this.toUnicode&&(Gn=this.toUnicode.charCodeOf(qn)),Gn<=0&&(Gn=qn),Pn=this.widths[Gn],Pn)break}return Pn=Pn||this.defaultWidth,(0,vt.shadow)(this,"spaceWidth",Pn)}_charToGlyph(kn,Pn=!1){let _n,Mn,On,jn=kn;this.cMap&&this.cMap.contains(kn)&&(jn=this.cMap.lookup(kn),typeof jn=="string"&&(jn=an(kn,jn))),Mn=this.widths[jn],typeof Mn!="number"&&(Mn=this.defaultWidth);const qn=this.vmetrics&&this.vmetrics[jn];let Gn=this.toUnicode.get(kn)||kn;typeof Gn=="number"&&(Gn=String.fromCharCode(Gn));let Yn=this.toFontChar[kn]!==void 0;if(_n=this.toFontChar[kn]||kn,this.missingFile){const tr=this.differences[kn]||this.defaultEncoding[kn];(tr===".notdef"||tr==="")&&this.type==="Type1"&&(_n=32),_n=(0,Pt.mapSpecialUnicodeValues)(_n)}this.isType3Font&&(On=_n);let er=null;if(this.seacMap&&this.seacMap[kn]){Yn=!0;const tr=this.seacMap[kn];_n=tr.baseFontCharCode,er={fontChar:String.fromCodePoint(tr.accentFontCharCode),offset:tr.accentOffset}}let cr="";typeof _n=="number"&&(_n<=1114111?cr=String.fromCodePoint(_n):(0,vt.warn)(`charToGlyph - invalid fontCharCode: ${_n}`));let rr=this._glyphCache[kn];return(!rr||!rr.matchesForCache(kn,cr,Gn,er,Mn,qn,On,Pn,Yn))&&(rr=new nn(kn,cr,Gn,er,Mn,qn,On,Pn,Yn),this._glyphCache[kn]=rr),rr}charsToGlyphs(kn){let Pn=this._charsCache[kn];if(Pn)return Pn;if(Pn=[],this.cMap){const _n=Object.create(null),Mn=kn.length;let On=0;for(;On<Mn;){this.cMap.readCharCode(kn,On,_n);const{charcode:jn,length:qn}=_n;On+=qn;const Gn=this._charToGlyph(jn,qn===1&&kn.charCodeAt(On-1)===32);Pn.push(Gn)}}else for(let _n=0,Mn=kn.length;_n<Mn;++_n){const On=kn.charCodeAt(_n),jn=this._charToGlyph(On,On===32);Pn.push(jn)}return this._charsCache[kn]=Pn}getCharPositions(kn){const Pn=[];if(this.cMap){const _n=Object.create(null);let Mn=0;for(;Mn<kn.length;){this.cMap.readCharCode(kn,Mn,_n);const On=_n.length;Pn.push([Mn,Mn+On]),Mn+=On}}else for(let _n=0,Mn=kn.length;_n<Mn;++_n)Pn.push([_n,_n+1]);return Pn}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(kn){const Pn=[],_n=[],Mn=()=>Pn.length%2===1,On=this.toUnicode instanceof jt.IdentityToUnicodeMap?jn=>this.toUnicode.charCodeOf(jn):jn=>this.toUnicode.charCodeOf(String.fromCodePoint(jn));for(let jn=0,qn=kn.length;jn<qn;jn++){const Gn=kn.codePointAt(jn);if(Gn>55295&&(Gn<57344||Gn>65533)&&jn++,this.toUnicode){const Yn=On(Gn);if(Yn!==-1){Mn()&&(Pn.push(_n.join("")),_n.length=0);const er=this.cMap?this.cMap.getCharCodeLength(Yn):1;for(let cr=er-1;cr>=0;cr--)_n.push(String.fromCharCode(Yn>>8*cr&255));continue}}Mn()||(Pn.push(_n.join("")),_n.length=0),_n.push(String.fromCodePoint(Gn))}return Pn.push(_n.join("")),Pn}}St.Font=Tn;class Fn{constructor(kn){this.error=kn,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(kn){return[kn]}exportData(kn=!1){return{error:this.error}}}St.ErrorFont=Fn},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.CFFTopDict=St.CFFStrings=St.CFFStandardStrings=St.CFFPrivateDict=St.CFFParser=St.CFFIndex=St.CFFHeader=St.CFFFDSelect=St.CFFCompiler=St.CFFCharset=St.CFF=void 0;var vt=Ft(2),Et=Ft(36),Mt=Ft(37);const Pt=10,xt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];St.CFFStandardStrings=xt;const $t=391,_t=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],jt=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(nn,Ut){nn[Ut-2]=nn[Ut-2]+nn[Ut-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(nn,Ut){nn[Ut-2]=nn[Ut-2]-nn[Ut-1]}},{id:"div",min:2,stackDelta:-1,stackFn(nn,Ut){nn[Ut-2]=nn[Ut-2]/nn[Ut-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(nn,Ut){nn[Ut-1]=-nn[Ut-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(nn,Ut){nn[Ut-2]=nn[Ut-2]*nn[Ut-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class Rt{constructor(Ut,zt,cn){this.bytes=Ut.getBytes(),this.properties=zt,this.seacAnalysisEnabled=!!cn}parse(){const Ut=this.properties,zt=new Nt;this.cff=zt;const cn=this.parseHeader(),ln=this.parseIndex(cn.endPos),Kt=this.parseIndex(ln.endPos),Jt=this.parseIndex(Kt.endPos),Yt=this.parseIndex(Jt.endPos),tn=this.parseDict(Kt.obj.get(0)),un=this.createDict(Vt,tn,zt.strings);zt.header=cn.obj,zt.names=this.parseNameIndex(ln.obj),zt.strings=this.parseStringIndex(Jt.obj),zt.topDict=un,zt.globalSubrIndex=Yt.obj,this.parsePrivateDict(zt.topDict),zt.isCIDFont=un.hasName("ROS");const yn=un.getByName("CharStrings"),xn=this.parseIndex(yn).obj,rn=un.getByName("FontMatrix");rn&&(Ut.fontMatrix=rn);const dn=un.getByName("FontBBox");dn&&(Ut.ascent=Math.max(dn[3],dn[1]),Ut.descent=Math.min(dn[1],dn[3]),Ut.ascentScaled=!0);let An,an;if(zt.isCIDFont){const bn=this.parseIndex(un.getByName("FDArray")).obj;for(let vn=0,gn=bn.count;vn<gn;++vn){const on=bn.get(vn),wn=this.createDict(Vt,this.parseDict(on),zt.strings);this.parsePrivateDict(wn),zt.fdArray.push(wn)}an=null,An=this.parseCharsets(un.getByName("charset"),xn.count,zt.strings,!0),zt.fdSelect=this.parseFDSelect(un.getByName("FDSelect"),xn.count)}else An=this.parseCharsets(un.getByName("charset"),xn.count,zt.strings,!1),an=this.parseEncoding(un.getByName("Encoding"),Ut,zt.strings,An.charset);zt.charset=An,zt.encoding=an;const fn=this.parseCharStrings({charStrings:xn,localSubrIndex:un.privateDict.subrsIndex,globalSubrIndex:Yt.obj,fdSelect:zt.fdSelect,fdArray:zt.fdArray,privateDict:un.privateDict});return zt.charStrings=fn.charStrings,zt.seacs=fn.seacs,zt.widths=fn.widths,zt}parseHeader(){let Ut=this.bytes;const zt=Ut.length;let cn=0;for(;cn<zt&&Ut[cn]!==1;)++cn;if(cn>=zt)throw new vt.FormatError("Invalid CFF header");cn!==0&&((0,vt.info)("cff data is shifted"),Ut=Ut.subarray(cn),this.bytes=Ut);const ln=Ut[0],Kt=Ut[1],Jt=Ut[2],Yt=Ut[3];return{obj:new Lt(ln,Kt,Jt,Yt),endPos:Jt}}parseDict(Ut){let zt=0;function cn(){let tn=Ut[zt++];return tn===30?ln():tn===28?(tn=Ut[zt++],tn=(tn<<24|Ut[zt++]<<16)>>16,tn):tn===29?(tn=Ut[zt++],tn=tn<<8|Ut[zt++],tn=tn<<8|Ut[zt++],tn=tn<<8|Ut[zt++],tn):tn>=32&&tn<=246?tn-139:tn>=247&&tn<=250?(tn-247)*256+Ut[zt++]+108:tn>=251&&tn<=254?-((tn-251)*256)-Ut[zt++]-108:((0,vt.warn)('CFFParser_parseDict: "'+tn+'" is a reserved command.'),NaN)}function ln(){let tn="";const yn=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],xn=Ut.length;for(;zt<xn;){const rn=Ut[zt++],dn=rn>>4,An=rn&15;if(dn===15||(tn+=yn[dn],An===15))break;tn+=yn[An]}return parseFloat(tn)}let Kt=[];const Jt=[];zt=0;const Yt=Ut.length;for(;zt<Yt;){let tn=Ut[zt];tn<=21?(tn===12&&(tn=tn<<8|Ut[++zt]),Jt.push([tn,Kt]),Kt=[],++zt):Kt.push(cn())}return Jt}parseIndex(Ut){const zt=new Bt,cn=this.bytes,ln=cn[Ut++]<<8|cn[Ut++],Kt=[];let Jt=Ut,Yt,tn;if(ln!==0){const un=cn[Ut++],yn=Ut+(ln+1)*un-1;for(Yt=0,tn=ln+1;Yt<tn;++Yt){let xn=0;for(let rn=0;rn<un;++rn)xn<<=8,xn+=cn[Ut++];Kt.push(yn+xn)}Jt=Kt[ln]}for(Yt=0,tn=Kt.length-1;Yt<tn;++Yt){const un=Kt[Yt],yn=Kt[Yt+1];zt.add(cn.subarray(un,yn))}return{obj:zt,endPos:Jt}}parseNameIndex(Ut){const zt=[];for(let cn=0,ln=Ut.count;cn<ln;++cn){const Kt=Ut.get(cn);zt.push((0,vt.bytesToString)(Kt))}return zt}parseStringIndex(Ut){const zt=new kt;for(let cn=0,ln=Ut.count;cn<ln;++cn){const Kt=Ut.get(cn);zt.add((0,vt.bytesToString)(Kt))}return zt}createDict(Ut,zt,cn){const ln=new Ut(cn);for(let Kt=0,Jt=zt.length;Kt<Jt;++Kt){const Yt=zt[Kt],tn=Yt[0],un=Yt[1];ln.setByKey(tn,un)}return ln}parseCharString(Ut,zt,cn,ln){if(!zt||Ut.callDepth>Pt)return!1;let Kt=Ut.stackSize;const Jt=Ut.stack,Yt=zt.length;for(let tn=0;tn<Yt;){const un=zt[tn++];let yn=null;if(un===12){const xn=zt[tn++];xn===0?(zt[tn-2]=139,zt[tn-1]=22,Kt=0):yn=jt[xn]}else if(un===28)Jt[Kt]=(zt[tn]<<24|zt[tn+1]<<16)>>16,tn+=2,Kt++;else if(un===14){if(Kt>=4&&(Kt-=4,this.seacAnalysisEnabled))return Ut.seac=Jt.slice(Kt,Kt+4),!1;yn=_t[un]}else if(un>=32&&un<=246)Jt[Kt]=un-139,Kt++;else if(un>=247&&un<=254)Jt[Kt]=un<251?(un-247<<8)+zt[tn]+108:-(un-251<<8)-zt[tn]-108,tn++,Kt++;else if(un===255)Jt[Kt]=(zt[tn]<<24|zt[tn+1]<<16|zt[tn+2]<<8|zt[tn+3])/65536,tn+=4,Kt++;else if(un===19||un===20)Ut.hints+=Kt>>1,tn+=Ut.hints+7>>3,Kt%=2,yn=_t[un];else if(un===10||un===29){let xn;if(un===10?xn=cn:xn=ln,!xn)return yn=_t[un],(0,vt.warn)("Missing subrsIndex for "+yn.id),!1;let rn=32768;xn.count<1240?rn=107:xn.count<33900&&(rn=1131);const dn=Jt[--Kt]+rn;if(dn<0||dn>=xn.count||isNaN(dn))return yn=_t[un],(0,vt.warn)("Out of bounds subrIndex for "+yn.id),!1;if(Ut.stackSize=Kt,Ut.callDepth++,!this.parseCharString(Ut,xn.get(dn),cn,ln))return!1;Ut.callDepth--,Kt=Ut.stackSize;continue}else{if(un===11)return Ut.stackSize=Kt,!0;un===0&&tn===zt.length?(zt[tn-1]=14,yn=_t[14]):yn=_t[un]}if(yn){if(yn.stem&&(Ut.hints+=Kt>>1,un===3||un===23?Ut.hasVStems=!0:Ut.hasVStems&&(un===1||un===18)&&((0,vt.warn)("CFF stem hints are in wrong order"),zt[tn-1]=un===1?3:23)),"min"in yn&&!Ut.undefStack&&Kt<yn.min)return(0,vt.warn)("Not enough parameters for "+yn.id+"; actual: "+Kt+", expected: "+yn.min),Kt===0?(zt[tn-1]=14,!0):!1;Ut.firstStackClearing&&yn.stackClearing&&(Ut.firstStackClearing=!1,Kt-=yn.min,Kt>=2&&yn.stem?Kt%=2:Kt>1&&(0,vt.warn)("Found too many parameters for stack-clearing command"),Kt>0&&(Ut.width=Jt[Kt-1])),"stackDelta"in yn?("stackFn"in yn&&yn.stackFn(Jt,Kt),Kt+=yn.stackDelta):yn.stackClearing?Kt=0:yn.resetStack?(Kt=0,Ut.undefStack=!1):yn.undefStack&&(Kt=0,Ut.undefStack=!0,Ut.firstStackClearing=!1)}}return Ut.stackSize=Kt,!0}parseCharStrings({charStrings:Ut,localSubrIndex:zt,globalSubrIndex:cn,fdSelect:ln,fdArray:Kt,privateDict:Jt}){const Yt=[],tn=[],un=Ut.count;for(let yn=0;yn<un;yn++){const xn=Ut.get(yn),rn={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let dn=!0,An=null,an=Jt;if(ln&&Kt.length){const fn=ln.getFDIndex(yn);fn===-1&&((0,vt.warn)("Glyph index is not in fd select."),dn=!1),fn>=Kt.length&&((0,vt.warn)("Invalid fd index for glyph index."),dn=!1),dn&&(an=Kt[fn].privateDict,An=an.subrsIndex)}else zt&&(An=zt);if(dn&&(dn=this.parseCharString(rn,xn,An,cn)),rn.width!==null){const fn=an.getByName("nominalWidthX");tn[yn]=fn+rn.width}else{const fn=an.getByName("defaultWidthX");tn[yn]=fn}rn.seac!==null&&(Yt[yn]=rn.seac),dn||Ut.set(yn,new Uint8Array([14]))}return{charStrings:Ut,seacs:Yt,widths:tn}}emptyPrivateDictionary(Ut){const zt=this.createDict(Wt,[],Ut.strings);Ut.setByKey(18,[0,0]),Ut.privateDict=zt}parsePrivateDict(Ut){if(!Ut.hasName("Private")){this.emptyPrivateDictionary(Ut);return}const zt=Ut.getByName("Private");if(!Array.isArray(zt)||zt.length!==2){Ut.removeByName("Private");return}const cn=zt[0],ln=zt[1];if(cn===0||ln>=this.bytes.length){this.emptyPrivateDictionary(Ut);return}const Kt=ln+cn,Jt=this.bytes.subarray(ln,Kt),Yt=this.parseDict(Jt),tn=this.createDict(Wt,Yt,Ut.strings);if(Ut.privateDict=tn,!tn.getByName("Subrs"))return;const un=tn.getByName("Subrs"),yn=ln+un;if(un===0||yn>=this.bytes.length){this.emptyPrivateDictionary(Ut);return}const xn=this.parseIndex(yn);tn.subrsIndex=xn.obj}parseCharsets(Ut,zt,cn,ln){if(Ut===0)return new Sn(!0,en.ISO_ADOBE,Et.ISOAdobeCharset);if(Ut===1)return new Sn(!0,en.EXPERT,Et.ExpertCharset);if(Ut===2)return new Sn(!0,en.EXPERT_SUBSET,Et.ExpertSubsetCharset);const Kt=this.bytes,Jt=Ut,Yt=Kt[Ut++],tn=[ln?0:".notdef"];let un,yn,xn;switch(zt-=1,Yt){case 0:for(xn=0;xn<zt;xn++)un=Kt[Ut++]<<8|Kt[Ut++],tn.push(ln?un:cn.get(un));break;case 1:for(;tn.length<=zt;)for(un=Kt[Ut++]<<8|Kt[Ut++],yn=Kt[Ut++],xn=0;xn<=yn;xn++)tn.push(ln?un++:cn.get(un++));break;case 2:for(;tn.length<=zt;)for(un=Kt[Ut++]<<8|Kt[Ut++],yn=Kt[Ut++]<<8|Kt[Ut++],xn=0;xn<=yn;xn++)tn.push(ln?un++:cn.get(un++));break;default:throw new vt.FormatError("Unknown charset format")}const rn=Ut,dn=Kt.subarray(Jt,rn);return new Sn(!1,Yt,tn,dn)}parseEncoding(Ut,zt,cn,ln){const Kt=Object.create(null),Jt=this.bytes;let Yt=!1,tn,un,yn,xn=null;function rn(){const dn=Jt[Ut++];for(un=0;un<dn;un++){const An=Jt[Ut++],an=(Jt[Ut++]<<8)+(Jt[Ut++]&255);Kt[An]=ln.indexOf(cn.get(an))}}if(Ut===0||Ut===1){Yt=!0,tn=Ut;const dn=Ut?Mt.ExpertEncoding:Mt.StandardEncoding;for(un=0,yn=ln.length;un<yn;un++){const An=dn.indexOf(ln[un]);An!==-1&&(Kt[An]=un)}}else{const dn=Ut;switch(tn=Jt[Ut++],tn&127){case 0:const an=Jt[Ut++];for(un=1;un<=an;un++)Kt[Jt[Ut++]]=un;break;case 1:const fn=Jt[Ut++];let bn=1;for(un=0;un<fn;un++){const vn=Jt[Ut++],gn=Jt[Ut++];for(let on=vn;on<=vn+gn;on++)Kt[on]=bn++}break;default:throw new vt.FormatError(`Unknown encoding format: ${tn} in CFF`)}const An=Ut;tn&128&&(Jt[dn]&=127,rn()),xn=Jt.subarray(dn,An)}return tn&=127,new sn(Yt,tn,Kt,xn)}parseFDSelect(Ut,zt){const cn=this.bytes,ln=cn[Ut++],Kt=[];let Jt;switch(ln){case 0:for(Jt=0;Jt<zt;++Jt){const tn=cn[Ut++];Kt.push(tn)}break;case 3:const Yt=cn[Ut++]<<8|cn[Ut++];for(Jt=0;Jt<Yt;++Jt){let tn=cn[Ut++]<<8|cn[Ut++];Jt===0&&tn!==0&&((0,vt.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),tn=0);const un=cn[Ut++],yn=cn[Ut]<<8|cn[Ut+1];for(let xn=tn;xn<yn;++xn)Kt.push(un)}Ut+=2;break;default:throw new vt.FormatError(`parseFDSelect: Unknown format "${ln}".`)}if(Kt.length!==zt)throw new vt.FormatError("parseFDSelect: Invalid font data.");return new hn(ln,Kt)}}St.CFFParser=Rt;class Nt{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new kt,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,vt.warn)("Not enough space in charstrings to duplicate first glyph.");return}const Ut=this.charStrings.get(0);this.charStrings.add(Ut),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(Ut){return Ut<0||Ut>=this.charStrings.count?!1:this.charStrings.get(Ut).length>0}}St.CFF=Nt;class Lt{constructor(Ut,zt,cn,ln){this.major=Ut,this.minor=zt,this.hdrSize=cn,this.offSize=ln}}St.CFFHeader=Lt;class kt{constructor(){this.strings=[]}get(Ut){return Ut>=0&&Ut<=$t-1?xt[Ut]:Ut-$t<=this.strings.length?this.strings[Ut-$t]:xt[0]}getSID(Ut){let zt=xt.indexOf(Ut);return zt!==-1?zt:(zt=this.strings.indexOf(Ut),zt!==-1?zt+$t:-1)}add(Ut){this.strings.push(Ut)}get count(){return this.strings.length}}St.CFFStrings=kt;class Bt{constructor(){this.objects=[],this.length=0}add(Ut){this.length+=Ut.length,this.objects.push(Ut)}set(Ut,zt){this.length+=zt.length-this.objects[Ut].length,this.objects[Ut]=zt}get(Ut){return this.objects[Ut]}get count(){return this.objects.length}}St.CFFIndex=Bt;class Ht{constructor(Ut,zt){this.keyToNameMap=Ut.keyToNameMap,this.nameToKeyMap=Ut.nameToKeyMap,this.defaults=Ut.defaults,this.types=Ut.types,this.opcodes=Ut.opcodes,this.order=Ut.order,this.strings=zt,this.values=Object.create(null)}setByKey(Ut,zt){if(!(Ut in this.keyToNameMap))return!1;const cn=zt.length;if(cn===0)return!0;for(let Kt=0;Kt<cn;Kt++)if(isNaN(zt[Kt]))return(0,vt.warn)('Invalid CFFDict value: "'+zt+'" for key "'+Ut+'".'),!0;const ln=this.types[Ut];return(ln==="num"||ln==="sid"||ln==="offset")&&(zt=zt[0]),this.values[Ut]=zt,!0}setByName(Ut,zt){if(!(Ut in this.nameToKeyMap))throw new vt.FormatError(`Invalid dictionary name "${Ut}"`);this.values[this.nameToKeyMap[Ut]]=zt}hasName(Ut){return this.nameToKeyMap[Ut]in this.values}getByName(Ut){if(!(Ut in this.nameToKeyMap))throw new vt.FormatError(`Invalid dictionary name ${Ut}"`);const zt=this.nameToKeyMap[Ut];return zt in this.values?this.values[zt]:this.defaults[zt]}removeByName(Ut){delete this.values[this.nameToKeyMap[Ut]]}static createTables(Ut){const zt={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(let cn=0,ln=Ut.length;cn<ln;++cn){const Kt=Ut[cn],Jt=Array.isArray(Kt[0])?(Kt[0][0]<<8)+Kt[0][1]:Kt[0];zt.keyToNameMap[Jt]=Kt[1],zt.nameToKeyMap[Kt[1]]=Jt,zt.types[Jt]=Kt[2],zt.defaults[Jt]=Kt[3],zt.opcodes[Jt]=Array.isArray(Kt[0])?Kt[0]:[Kt[0]],zt.order.push(Jt)}return zt}}const Ot=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class Vt extends Ht{static get tables(){return(0,vt.shadow)(this,"tables",this.createTables(Ot))}constructor(Ut){super(Vt.tables,Ut),this.privateDict=null}}St.CFFTopDict=Vt;const Gt=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class Wt extends Ht{static get tables(){return(0,vt.shadow)(this,"tables",this.createTables(Gt))}constructor(Ut){super(Wt.tables,Ut),this.subrsIndex=null}}St.CFFPrivateDict=Wt;const en={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class Sn{constructor(Ut,zt,cn,ln){this.predefined=Ut,this.format=zt,this.charset=cn,this.raw=ln}}St.CFFCharset=Sn;class sn{constructor(Ut,zt,cn,ln){this.predefined=Ut,this.format=zt,this.encoding=cn,this.raw=ln}}class hn{constructor(Ut,zt){this.format=Ut,this.fdSelect=zt}getFDIndex(Ut){return Ut<0||Ut>=this.fdSelect.length?-1:this.fdSelect[Ut]}}St.CFFFDSelect=hn;class Qt{constructor(){this.offsets=Object.create(null)}isTracking(Ut){return Ut in this.offsets}track(Ut,zt){if(Ut in this.offsets)throw new vt.FormatError(`Already tracking location of ${Ut}`);this.offsets[Ut]=zt}offset(Ut){for(const zt in this.offsets)this.offsets[zt]+=Ut}setEntryLocation(Ut,zt,cn){if(!(Ut in this.offsets))throw new vt.FormatError(`Not tracking location of ${Ut}`);const ln=cn.data,Kt=this.offsets[Ut],Jt=5;for(let Yt=0,tn=zt.length;Yt<tn;++Yt){const un=Yt*Jt+Kt,yn=un+1,xn=un+2,rn=un+3,dn=un+4;if(ln[un]!==29||ln[yn]!==0||ln[xn]!==0||ln[rn]!==0||ln[dn]!==0)throw new vt.FormatError("writing to an offset that is not empty");const An=zt[Yt];ln[un]=29,ln[yn]=An>>24&255,ln[xn]=An>>16&255,ln[rn]=An>>8&255,ln[dn]=An&255}}}class qt{constructor(Ut){this.cff=Ut}compile(){const Ut=this.cff,zt={data:[],length:0,add(rn){this.data=this.data.concat(rn),this.length=this.data.length}},cn=this.compileHeader(Ut.header);zt.add(cn);const ln=this.compileNameIndex(Ut.names);if(zt.add(ln),Ut.isCIDFont&&Ut.topDict.hasName("FontMatrix")){const rn=Ut.topDict.getByName("FontMatrix");Ut.topDict.removeByName("FontMatrix");for(let dn=0,An=Ut.fdArray.length;dn<An;dn++){const an=Ut.fdArray[dn];let fn=rn.slice(0);an.hasName("FontMatrix")&&(fn=vt.Util.transform(fn,an.getByName("FontMatrix"))),an.setByName("FontMatrix",fn)}}const Kt=Ut.topDict.getByName("XUID");Kt&&Kt.length>16&&Ut.topDict.removeByName("XUID"),Ut.topDict.setByName("charset",0);let Jt=this.compileTopDicts([Ut.topDict],zt.length,Ut.isCIDFont);zt.add(Jt.output);const Yt=Jt.trackers[0],tn=this.compileStringIndex(Ut.strings.strings);zt.add(tn);const un=this.compileIndex(Ut.globalSubrIndex);if(zt.add(un),Ut.encoding&&Ut.topDict.hasName("Encoding"))if(Ut.encoding.predefined)Yt.setEntryLocation("Encoding",[Ut.encoding.format],zt);else{const rn=this.compileEncoding(Ut.encoding);Yt.setEntryLocation("Encoding",[zt.length],zt),zt.add(rn)}const yn=this.compileCharset(Ut.charset,Ut.charStrings.count,Ut.strings,Ut.isCIDFont);Yt.setEntryLocation("charset",[zt.length],zt),zt.add(yn);const xn=this.compileCharStrings(Ut.charStrings);if(Yt.setEntryLocation("CharStrings",[zt.length],zt),zt.add(xn),Ut.isCIDFont){Yt.setEntryLocation("FDSelect",[zt.length],zt);const rn=this.compileFDSelect(Ut.fdSelect);zt.add(rn),Jt=this.compileTopDicts(Ut.fdArray,zt.length,!0),Yt.setEntryLocation("FDArray",[zt.length],zt),zt.add(Jt.output);const dn=Jt.trackers;this.compilePrivateDicts(Ut.fdArray,dn,zt)}return this.compilePrivateDicts([Ut.topDict],[Yt],zt),zt.add([0]),zt.data}encodeNumber(Ut){return Number.isInteger(Ut)?this.encodeInteger(Ut):this.encodeFloat(Ut)}static get EncodeFloatRegExp(){return(0,vt.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(Ut){let zt=Ut.toString();const cn=qt.EncodeFloatRegExp.exec(zt);if(cn){const tn=parseFloat("1e"+((cn[2]?+cn[2]:0)+cn[1].length));zt=(Math.round(Ut*tn)/tn).toString()}let ln="",Kt,Jt;for(Kt=0,Jt=zt.length;Kt<Jt;++Kt){const tn=zt[Kt];tn==="e"?ln+=zt[++Kt]==="-"?"c":"b":tn==="."?ln+="a":tn==="-"?ln+="e":ln+=tn}ln+=ln.length&1?"f":"ff";const Yt=[30];for(Kt=0,Jt=ln.length;Kt<Jt;Kt+=2)Yt.push(parseInt(ln.substring(Kt,Kt+2),16));return Yt}encodeInteger(Ut){let zt;return Ut>=-107&&Ut<=107?zt=[Ut+139]:Ut>=108&&Ut<=1131?(Ut-=108,zt=[(Ut>>8)+247,Ut&255]):Ut>=-1131&&Ut<=-108?(Ut=-Ut-108,zt=[(Ut>>8)+251,Ut&255]):Ut>=-32768&&Ut<=32767?zt=[28,Ut>>8&255,Ut&255]:zt=[29,Ut>>24&255,Ut>>16&255,Ut>>8&255,Ut&255],zt}compileHeader(Ut){return[Ut.major,Ut.minor,4,Ut.offSize]}compileNameIndex(Ut){const zt=new Bt;for(let cn=0,ln=Ut.length;cn<ln;++cn){const Kt=Ut[cn],Jt=Math.min(Kt.length,127);let Yt=new Array(Jt);for(let tn=0;tn<Jt;tn++){let un=Kt[tn];(un<"!"||un>"~"||un==="["||un==="]"||un==="("||un===")"||un==="{"||un==="}"||un==="<"||un===">"||un==="/"||un==="%")&&(un="_"),Yt[tn]=un}Yt=Yt.join(""),Yt===""&&(Yt="Bad_Font_Name"),zt.add((0,vt.stringToBytes)(Yt))}return this.compileIndex(zt)}compileTopDicts(Ut,zt,cn){const ln=[];let Kt=new Bt;for(let Jt=0,Yt=Ut.length;Jt<Yt;++Jt){const tn=Ut[Jt];cn&&(tn.removeByName("CIDFontVersion"),tn.removeByName("CIDFontRevision"),tn.removeByName("CIDFontType"),tn.removeByName("CIDCount"),tn.removeByName("UIDBase"));const un=new Qt,yn=this.compileDict(tn,un);ln.push(un),Kt.add(yn),un.offset(zt)}return Kt=this.compileIndex(Kt,ln),{trackers:ln,output:Kt}}compilePrivateDicts(Ut,zt,cn){for(let ln=0,Kt=Ut.length;ln<Kt;++ln){const Jt=Ut[ln],Yt=Jt.privateDict;if(!Yt||!Jt.hasName("Private"))throw new vt.FormatError("There must be a private dictionary.");const tn=new Qt,un=this.compileDict(Yt,tn);let yn=cn.length;if(tn.offset(yn),un.length||(yn=0),zt[ln].setEntryLocation("Private",[un.length,yn],cn),cn.add(un),Yt.subrsIndex&&Yt.hasName("Subrs")){const xn=this.compileIndex(Yt.subrsIndex);tn.setEntryLocation("Subrs",[un.length],cn),cn.add(xn)}}}compileDict(Ut,zt){const cn=[];for(const ln of Ut.order){if(!(ln in Ut.values))continue;let Kt=Ut.values[ln],Jt=Ut.types[ln];if(Array.isArray(Jt)||(Jt=[Jt]),Array.isArray(Kt)||(Kt=[Kt]),Kt.length!==0){for(let Yt=0,tn=Jt.length;Yt<tn;++Yt){const un=Jt[Yt],yn=Kt[Yt];switch(un){case"num":case"sid":cn.push(...this.encodeNumber(yn));break;case"offset":const xn=Ut.keyToNameMap[ln];zt.isTracking(xn)||zt.track(xn,cn.length),cn.push(29,0,0,0,0);break;case"array":case"delta":cn.push(...this.encodeNumber(yn));for(let rn=1,dn=Kt.length;rn<dn;++rn)cn.push(...this.encodeNumber(Kt[rn]));break;default:throw new vt.FormatError(`Unknown data type of ${un}`)}}cn.push(...Ut.opcodes[ln])}}return cn}compileStringIndex(Ut){const zt=new Bt;for(let cn=0,ln=Ut.length;cn<ln;++cn)zt.add((0,vt.stringToBytes)(Ut[cn]));return this.compileIndex(zt)}compileGlobalSubrIndex(){const Ut=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(Ut))}compileCharStrings(Ut){const zt=new Bt;for(let cn=0;cn<Ut.count;cn++){const ln=Ut.get(cn);if(ln.length===0){zt.add(new Uint8Array([139,14]));continue}zt.add(ln)}return this.compileIndex(zt)}compileCharset(Ut,zt,cn,ln){let Kt;const Jt=zt-1;if(ln)Kt=new Uint8Array([2,0,0,Jt>>8&255,Jt&255]);else{const Yt=1+Jt*2;Kt=new Uint8Array(Yt),Kt[0]=0;let tn=0;const un=Ut.charset.length;let yn=!1;for(let xn=1;xn<Kt.length;xn+=2){let rn=0;if(tn<un){const dn=Ut.charset[tn++];rn=cn.getSID(dn),rn===-1&&(rn=0,yn||(yn=!0,(0,vt.warn)(`Couldn't find ${dn} in CFF strings`)))}Kt[xn]=rn>>8&255,Kt[xn+1]=rn&255}}return this.compileTypedArray(Kt)}compileEncoding(Ut){return this.compileTypedArray(Ut.raw)}compileFDSelect(Ut){const zt=Ut.format;let cn,ln;switch(zt){case 0:for(cn=new Uint8Array(1+Ut.fdSelect.length),cn[0]=zt,ln=0;ln<Ut.fdSelect.length;ln++)cn[ln+1]=Ut.fdSelect[ln];break;case 3:const Kt=0;let Jt=Ut.fdSelect[0];const Yt=[zt,0,0,Kt>>8&255,Kt&255,Jt];for(ln=1;ln<Ut.fdSelect.length;ln++){const un=Ut.fdSelect[ln];un!==Jt&&(Yt.push(ln>>8&255,ln&255,un),Jt=un)}const tn=(Yt.length-3)/3;Yt[1]=tn>>8&255,Yt[2]=tn&255,Yt.push(ln>>8&255,ln&255),cn=new Uint8Array(Yt);break}return this.compileTypedArray(cn)}compileTypedArray(Ut){const zt=[];for(let cn=0,ln=Ut.length;cn<ln;++cn)zt[cn]=Ut[cn];return zt}compileIndex(Ut,zt=[]){const cn=Ut.objects,ln=cn.length;if(ln===0)return[0,0];const Kt=[ln>>8&255,ln&255];let Jt=1,Yt;for(Yt=0;Yt<ln;++Yt)Jt+=cn[Yt].length;let tn;Jt<256?tn=1:Jt<65536?tn=2:Jt<16777216?tn=3:tn=4,Kt.push(tn);let un=1;for(Yt=0;Yt<ln+1;Yt++)tn===1?Kt.push(un&255):tn===2?Kt.push(un>>8&255,un&255):tn===3?Kt.push(un>>16&255,un>>8&255,un&255):Kt.push(un>>>24&255,un>>16&255,un>>8&255,un&255),cn[Yt]&&(un+=cn[Yt].length);for(Yt=0;Yt<ln;Yt++){zt[Yt]&&zt[Yt].offset(Kt.length);for(let yn=0,xn=cn[Yt].length;yn<xn;yn++)Kt.push(cn[Yt][yn])}return Kt}}St.CFFCompiler=qt},(Ct,St)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.ISOAdobeCharset=St.ExpertSubsetCharset=St.ExpertCharset=void 0;const Ft=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];St.ISOAdobeCharset=Ft;const vt=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];St.ExpertCharset=vt;const Et=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];St.ExpertSubsetCharset=Et},(Ct,St)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.ZapfDingbatsEncoding=St.WinAnsiEncoding=St.SymbolSetEncoding=St.StandardEncoding=St.MacRomanEncoding=St.ExpertEncoding=void 0,St.getEncoding=_t;const Ft=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];St.ExpertEncoding=Ft;const vt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],Et=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];St.MacRomanEncoding=Et;const Mt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];St.StandardEncoding=Mt;const Pt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];St.WinAnsiEncoding=Pt;const xt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];St.SymbolSetEncoding=xt;const $t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];St.ZapfDingbatsEncoding=$t;function _t(jt){switch(jt){case"WinAnsiEncoding":return Pt;case"StandardEncoding":return Mt;case"MacRomanEncoding":return Et;case"SymbolSetEncoding":return xt;case"ZapfDingbatsEncoding":return $t;case"ExpertEncoding":return Ft;case"MacExpertEncoding":return vt;default:return null}}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.SEAC_ANALYSIS_ENABLED=St.MacStandardGlyphOrdering=St.FontFlags=void 0,St.getFontType=jt,St.normalizeFontName=Lt,St.recoverGlyphName=Rt,St.type1FontGlyphMapping=Nt;var vt=Ft(2),Et=Ft(37),Mt=Ft(39),Pt=Ft(40);const xt=!0;St.SEAC_ANALYSIS_ENABLED=xt;const $t={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};St.FontFlags=$t;const _t=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];St.MacStandardGlyphOrdering=_t;function jt(kt,Bt,Ht=!1){switch(kt){case"Type1":return Ht?vt.FontType.TYPE1STANDARD:Bt==="Type1C"?vt.FontType.TYPE1C:vt.FontType.TYPE1;case"CIDFontType0":return Bt==="CIDFontType0C"?vt.FontType.CIDFONTTYPE0C:vt.FontType.CIDFONTTYPE0;case"OpenType":return vt.FontType.OPENTYPE;case"TrueType":return vt.FontType.TRUETYPE;case"CIDFontType2":return vt.FontType.CIDFONTTYPE2;case"MMType1":return vt.FontType.MMTYPE1;case"Type0":return vt.FontType.TYPE0;default:return vt.FontType.UNKNOWN}}function Rt(kt,Bt){if(Bt[kt]!==void 0)return kt;const Ht=(0,Pt.getUnicodeForGlyph)(kt,Bt);if(Ht!==-1){for(const Ot in Bt)if(Bt[Ot]===Ht)return Ot}return(0,vt.info)("Unable to recover a standard glyph name for: "+kt),kt}function Nt(kt,Bt,Ht){const Ot=Object.create(null);let Vt,Gt,Wt;const en=!!(kt.flags&$t.Symbolic);if(kt.isInternalFont)for(Wt=Bt,Gt=0;Gt<Wt.length;Gt++)Vt=Ht.indexOf(Wt[Gt]),Vt>=0?Ot[Gt]=Vt:Ot[Gt]=0;else if(kt.baseEncodingName)for(Wt=(0,Et.getEncoding)(kt.baseEncodingName),Gt=0;Gt<Wt.length;Gt++)Vt=Ht.indexOf(Wt[Gt]),Vt>=0?Ot[Gt]=Vt:Ot[Gt]=0;else if(en)for(Gt in Bt)Ot[Gt]=Bt[Gt];else for(Wt=Et.StandardEncoding,Gt=0;Gt<Wt.length;Gt++)Vt=Ht.indexOf(Wt[Gt]),Vt>=0?Ot[Gt]=Vt:Ot[Gt]=0;const Sn=kt.differences;let sn;if(Sn)for(Gt in Sn){const hn=Sn[Gt];if(Vt=Ht.indexOf(hn),Vt===-1){sn||(sn=(0,Mt.getGlyphsUnicode)());const Qt=Rt(hn,sn);Qt!==hn&&(Vt=Ht.indexOf(Qt))}Vt>=0?Ot[Gt]=Vt:Ot[Gt]=0}return Ot}function Lt(kt){return kt.replace(/[,_]/g,"-").replace(/\s/g,"")}},(Ct,St,Ft)=>{Ft.r(St),Ft.d(St,{getDingbatsGlyphsUnicode:()=>Mt,getGlyphsUnicode:()=>Et});var vt=Ft(6);const Et=(0,vt.getArrayLookupTableFactory)(function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"ffl",64260,"fi",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]}),Mt=(0,vt.getArrayLookupTableFactory)(function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]})},(Ct,St,Ft)=>{Ft.r(St),Ft.d(St,{clearUnicodeCaches:()=>Bt,getCharUnicodeCategory:()=>kt,getNormalizedUnicodes:()=>jt,getUnicodeForGlyph:()=>Pt,getUnicodeRangeFor:()=>$t,mapSpecialUnicodeValues:()=>Mt,reverseIfRtl:()=>Rt});var vt=Ft(6);const Et=(0,vt.getLookupTableFactory)(function(Ht){Ht[63721]=169,Ht[63193]=169,Ht[63720]=174,Ht[63194]=174,Ht[63722]=8482,Ht[63195]=8482,Ht[63729]=9127,Ht[63730]=9128,Ht[63731]=9129,Ht[63740]=9131,Ht[63741]=9132,Ht[63742]=9133,Ht[63726]=9121,Ht[63727]=9122,Ht[63728]=9123,Ht[63737]=9124,Ht[63738]=9125,Ht[63739]=9126,Ht[63723]=9115,Ht[63724]=9116,Ht[63725]=9117,Ht[63734]=9118,Ht[63735]=9119,Ht[63736]=9120});function Mt(Ht){return Ht>=65520&&Ht<=65535?0:Ht>=62976&&Ht<=63743?Et()[Ht]||Ht:Ht===173?45:Ht}function Pt(Ht,Ot){let Vt=Ot[Ht];if(Vt!==void 0)return Vt;if(!Ht)return-1;if(Ht[0]==="u"){const Gt=Ht.length;let Wt;if(Gt===7&&Ht[1]==="n"&&Ht[2]==="i")Wt=Ht.substring(3);else if(Gt>=5&&Gt<=7)Wt=Ht.substring(1);else return-1;if(Wt===Wt.toUpperCase()&&(Vt=parseInt(Wt,16),Vt>=0))return Vt}return-1}const xt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function $t(Ht){for(let Ot=0,Vt=xt.length;Ot<Vt;Ot++){const Gt=xt[Ot];if(Ht>=Gt.begin&&Ht<Gt.end)return Ot}return-1}function _t(Ht){let Ot=xt[13];return Ht>=Ot.begin&&Ht<Ot.end||(Ot=xt[11],Ht>=Ot.begin&&Ht<Ot.end)}const jt=(0,vt.getArrayLookupTableFactory)(function(){return[""," ",""," ",""," ","","",""," ","","IJ","","ij","","L","","l","","n","","s","","D","","D","","d","","LJ","","Lj","","lj","","NJ","","Nj","","nj","","DZ","","Dz","","dz",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","a",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ","",".","","..","","...","","","","","","","","","","!!",""," ","","??","","?!","","!?","","",""," ","","Rs","","a/c","","a/s","","C","","c/o","","c/u","","","","F","","No","","TEL","","","","","","","","","","FAX","","I","","II","","III","","IV","","V","","VI","","VII","","VIII","","IX","","X","","XI","","XII","","L","","C","","D","","M","","i","","ii","","iii","","iv","","v","","vi","","vii","","viii","","ix","","x","","xi","","xii","","l","","c","","d","","m","","","","","","","","","","(1)","","(2)","","(3)","","(4)","","(5)","","(6)","","(7)","","(8)","","(9)","","(10)","","(11)","","(12)","","(13)","","(14)","","(15)","","(16)","","(17)","","(18)","","(19)","","(20)","","1.","","2.","","3.","","4.","","5.","","6.","","7.","","8.","","9.","","10.","","11.","","12.","","13.","","14.","","15.","","16.","","17.","","18.","","19.","","20.","","(a)","","(b)","","(c)","","(d)","","(e)","","(f)","","(g)","","(h)","","(i)","","(j)","","(k)","","(l)","","(m)","","(n)","","(o)","","(p)","","(q)","","(r)","","(s)","","(t)","","(u)","","(v)","","(w)","","(x)","","(y)","","(z)","","","","::=","","==","","===","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","0","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","13","","14","","15","","16","","17","","18","","19","","20","","21","","22","","23","","24","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","13","","14","","15","","16","","17","","18","","19","","20","","21","","22","","23","","24","","25","","26","","27","","28","","29","","30","","31","","ff","","fi","","fl","","ffi","","ffl","","t","","st","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""," ",""," ",""," ",""," ",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","","_","","_","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]});function Rt(Ht){const Ot=Ht.length;if(Ot<=1||!_t(Ht.charCodeAt(0)))return Ht;const Vt=[];for(let Gt=Ot-1;Gt>=0;Gt--)Vt.push(Ht[Gt]);return Vt.join("")}const Nt=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),Lt=new Map;function kt(Ht){const Ot=Lt.get(Ht);if(Ot)return Ot;const Vt=Ht.match(Nt),Gt={isWhitespace:!!(Vt&&Vt[1]),isZeroWidthDiacritic:!!(Vt&&Vt[2]),isInvisibleFormatMark:!!(Vt&&Vt[3])};return Lt.set(Ht,Gt),Gt}function Bt(){Lt.clear()}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.getSerifFonts=St.getNonStdFontMap=St.getGlyphMapForStandardFonts=St.getFontNameToFileMap=void 0,St.getStandardFontName=Lt,St.getSymbolsFonts=St.getSupplementalGlyphMapForCalibri=St.getSupplementalGlyphMapForArialBlack=St.getStdFontMap=void 0;var vt=Ft(6),Et=Ft(38);const Mt=(0,vt.getLookupTableFactory)(function(kt){kt["Times-Roman"]="Times-Roman",kt.Helvetica="Helvetica",kt.Courier="Courier",kt.Symbol="Symbol",kt["Times-Bold"]="Times-Bold",kt["Helvetica-Bold"]="Helvetica-Bold",kt["Courier-Bold"]="Courier-Bold",kt.ZapfDingbats="ZapfDingbats",kt["Times-Italic"]="Times-Italic",kt["Helvetica-Oblique"]="Helvetica-Oblique",kt["Courier-Oblique"]="Courier-Oblique",kt["Times-BoldItalic"]="Times-BoldItalic",kt["Helvetica-BoldOblique"]="Helvetica-BoldOblique",kt["Courier-BoldOblique"]="Courier-BoldOblique",kt.ArialNarrow="Helvetica",kt["ArialNarrow-Bold"]="Helvetica-Bold",kt["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",kt["ArialNarrow-Italic"]="Helvetica-Oblique",kt.ArialBlack="Helvetica",kt["ArialBlack-Bold"]="Helvetica-Bold",kt["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",kt["ArialBlack-Italic"]="Helvetica-Oblique",kt["Arial-Black"]="Helvetica",kt["Arial-Black-Bold"]="Helvetica-Bold",kt["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",kt["Arial-Black-Italic"]="Helvetica-Oblique",kt.Arial="Helvetica",kt["Arial-Bold"]="Helvetica-Bold",kt["Arial-BoldItalic"]="Helvetica-BoldOblique",kt["Arial-Italic"]="Helvetica-Oblique",kt.ArialMT="Helvetica",kt["Arial-BoldItalicMT"]="Helvetica-BoldOblique",kt["Arial-BoldMT"]="Helvetica-Bold",kt["Arial-ItalicMT"]="Helvetica-Oblique",kt.ArialUnicodeMS="Helvetica",kt["ArialUnicodeMS-Bold"]="Helvetica-Bold",kt["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",kt["ArialUnicodeMS-Italic"]="Helvetica-Oblique",kt["Courier-BoldItalic"]="Courier-BoldOblique",kt["Courier-Italic"]="Courier-Oblique",kt.CourierNew="Courier",kt["CourierNew-Bold"]="Courier-Bold",kt["CourierNew-BoldItalic"]="Courier-BoldOblique",kt["CourierNew-Italic"]="Courier-Oblique",kt["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",kt["CourierNewPS-BoldMT"]="Courier-Bold",kt["CourierNewPS-ItalicMT"]="Courier-Oblique",kt.CourierNewPSMT="Courier",kt["Helvetica-BoldItalic"]="Helvetica-BoldOblique",kt["Helvetica-Italic"]="Helvetica-Oblique",kt["Symbol-Bold"]="Symbol",kt["Symbol-BoldItalic"]="Symbol",kt["Symbol-Italic"]="Symbol",kt.TimesNewRoman="Times-Roman",kt["TimesNewRoman-Bold"]="Times-Bold",kt["TimesNewRoman-BoldItalic"]="Times-BoldItalic",kt["TimesNewRoman-Italic"]="Times-Italic",kt.TimesNewRomanPS="Times-Roman",kt["TimesNewRomanPS-Bold"]="Times-Bold",kt["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",kt["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",kt["TimesNewRomanPS-BoldMT"]="Times-Bold",kt["TimesNewRomanPS-Italic"]="Times-Italic",kt["TimesNewRomanPS-ItalicMT"]="Times-Italic",kt.TimesNewRomanPSMT="Times-Roman",kt["TimesNewRomanPSMT-Bold"]="Times-Bold",kt["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",kt["TimesNewRomanPSMT-Italic"]="Times-Italic"});St.getStdFontMap=Mt;const Pt=(0,vt.getLookupTableFactory)(function(kt){kt.Courier="FoxitFixed.pfb",kt["Courier-Bold"]="FoxitFixedBold.pfb",kt["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",kt["Courier-Oblique"]="FoxitFixedItalic.pfb",kt.Helvetica="FoxitSans.pfb",kt["Helvetica-Bold"]="FoxitSansBold.pfb",kt["Helvetica-BoldOblique"]="FoxitSansBoldItalic.pfb",kt["Helvetica-Oblique"]="FoxitSansItalic.pfb",kt["Times-Roman"]="FoxitSerif.pfb",kt["Times-Bold"]="FoxitSerifBold.pfb",kt["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",kt["Times-Italic"]="FoxitSerifItalic.pfb",kt.Symbol="FoxitSymbol.pfb",kt.ZapfDingbats="FoxitDingbats.pfb",kt["LiberationSans-Regular"]="LiberationSans-Regular.ttf",kt["LiberationSans-Bold"]="LiberationSans-Bold.ttf",kt["LiberationSans-Italic"]="LiberationSans-Italic.ttf",kt["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});St.getFontNameToFileMap=Pt;const xt=(0,vt.getLookupTableFactory)(function(kt){kt.Calibri="Helvetica",kt["Calibri-Bold"]="Helvetica-Bold",kt["Calibri-BoldItalic"]="Helvetica-BoldOblique",kt["Calibri-Italic"]="Helvetica-Oblique",kt.CenturyGothic="Helvetica",kt["CenturyGothic-Bold"]="Helvetica-Bold",kt["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",kt["CenturyGothic-Italic"]="Helvetica-Oblique",kt.ComicSansMS="Comic Sans MS",kt["ComicSansMS-Bold"]="Comic Sans MS-Bold",kt["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",kt["ComicSansMS-Italic"]="Comic Sans MS-Italic",kt["ItcSymbol-Bold"]="Helvetica-Bold",kt["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",kt["ItcSymbol-Book"]="Helvetica",kt["ItcSymbol-BookItalic"]="Helvetica-Oblique",kt["ItcSymbol-Medium"]="Helvetica",kt["ItcSymbol-MediumItalic"]="Helvetica-Oblique",kt.LucidaConsole="Courier",kt["LucidaConsole-Bold"]="Courier-Bold",kt["LucidaConsole-BoldItalic"]="Courier-BoldOblique",kt["LucidaConsole-Italic"]="Courier-Oblique",kt["LucidaSans-Demi"]="Helvetica-Bold",kt["MS-Gothic"]="MS Gothic",kt["MS-Gothic-Bold"]="MS Gothic-Bold",kt["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",kt["MS-Gothic-Italic"]="MS Gothic-Italic",kt["MS-Mincho"]="MS Mincho",kt["MS-Mincho-Bold"]="MS Mincho-Bold",kt["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",kt["MS-Mincho-Italic"]="MS Mincho-Italic",kt["MS-PGothic"]="MS PGothic",kt["MS-PGothic-Bold"]="MS PGothic-Bold",kt["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",kt["MS-PGothic-Italic"]="MS PGothic-Italic",kt["MS-PMincho"]="MS PMincho",kt["MS-PMincho-Bold"]="MS PMincho-Bold",kt["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",kt["MS-PMincho-Italic"]="MS PMincho-Italic",kt.NuptialScript="Times-Italic",kt.SegoeUISymbol="Helvetica",kt.Wingdings="ZapfDingbats",kt["Wingdings-Regular"]="ZapfDingbats"});St.getNonStdFontMap=xt;const $t=(0,vt.getLookupTableFactory)(function(kt){kt["Adobe Jenson"]=!0,kt["Adobe Text"]=!0,kt.Albertus=!0,kt.Aldus=!0,kt.Alexandria=!0,kt.Algerian=!0,kt["American Typewriter"]=!0,kt.Antiqua=!0,kt.Apex=!0,kt.Arno=!0,kt.Aster=!0,kt.Aurora=!0,kt.Baskerville=!0,kt.Bell=!0,kt.Bembo=!0,kt["Bembo Schoolbook"]=!0,kt.Benguiat=!0,kt["Berkeley Old Style"]=!0,kt["Bernhard Modern"]=!0,kt["Berthold City"]=!0,kt.Bodoni=!0,kt["Bauer Bodoni"]=!0,kt["Book Antiqua"]=!0,kt.Bookman=!0,kt["Bordeaux Roman"]=!0,kt["Californian FB"]=!0,kt.Calisto=!0,kt.Calvert=!0,kt.Capitals=!0,kt.Cambria=!0,kt.Cartier=!0,kt.Caslon=!0,kt.Catull=!0,kt.Centaur=!0,kt["Century Old Style"]=!0,kt["Century Schoolbook"]=!0,kt.Chaparral=!0,kt["Charis SIL"]=!0,kt.Cheltenham=!0,kt["Cholla Slab"]=!0,kt.Clarendon=!0,kt.Clearface=!0,kt.Cochin=!0,kt.Colonna=!0,kt["Computer Modern"]=!0,kt["Concrete Roman"]=!0,kt.Constantia=!0,kt["Cooper Black"]=!0,kt.Corona=!0,kt.Ecotype=!0,kt.Egyptienne=!0,kt.Elephant=!0,kt.Excelsior=!0,kt.Fairfield=!0,kt["FF Scala"]=!0,kt.Folkard=!0,kt.Footlight=!0,kt.FreeSerif=!0,kt["Friz Quadrata"]=!0,kt.Garamond=!0,kt.Gentium=!0,kt.Georgia=!0,kt.Gloucester=!0,kt["Goudy Old Style"]=!0,kt["Goudy Schoolbook"]=!0,kt["Goudy Pro Font"]=!0,kt.Granjon=!0,kt["Guardian Egyptian"]=!0,kt.Heather=!0,kt.Hercules=!0,kt["High Tower Text"]=!0,kt.Hiroshige=!0,kt["Hoefler Text"]=!0,kt["Humana Serif"]=!0,kt.Imprint=!0,kt["Ionic No. 5"]=!0,kt.Janson=!0,kt.Joanna=!0,kt.Korinna=!0,kt.Lexicon=!0,kt.LiberationSerif=!0,kt["Liberation Serif"]=!0,kt["Linux Libertine"]=!0,kt.Literaturnaya=!0,kt.Lucida=!0,kt["Lucida Bright"]=!0,kt.Melior=!0,kt.Memphis=!0,kt.Miller=!0,kt.Minion=!0,kt.Modern=!0,kt["Mona Lisa"]=!0,kt["Mrs Eaves"]=!0,kt["MS Serif"]=!0,kt["Museo Slab"]=!0,kt["New York"]=!0,kt["Nimbus Roman"]=!0,kt["NPS Rawlinson Roadway"]=!0,kt.NuptialScript=!0,kt.Palatino=!0,kt.Perpetua=!0,kt.Plantin=!0,kt["Plantin Schoolbook"]=!0,kt.Playbill=!0,kt["Poor Richard"]=!0,kt["Rawlinson Roadway"]=!0,kt.Renault=!0,kt.Requiem=!0,kt.Rockwell=!0,kt.Roman=!0,kt["Rotis Serif"]=!0,kt.Sabon=!0,kt.Scala=!0,kt.Seagull=!0,kt.Sistina=!0,kt.Souvenir=!0,kt.STIX=!0,kt["Stone Informal"]=!0,kt["Stone Serif"]=!0,kt.Sylfaen=!0,kt.Times=!0,kt.Trajan=!0,kt.Trinit=!0,kt["Trump Mediaeval"]=!0,kt.Utopia=!0,kt["Vale Type"]=!0,kt["Bitstream Vera"]=!0,kt["Vera Serif"]=!0,kt.Versailles=!0,kt.Wanted=!0,kt.Weiss=!0,kt["Wide Latin"]=!0,kt.Windsor=!0,kt.XITS=!0});St.getSerifFonts=$t;const _t=(0,vt.getLookupTableFactory)(function(kt){kt.Dingbats=!0,kt.Symbol=!0,kt.ZapfDingbats=!0});St.getSymbolsFonts=_t;const jt=(0,vt.getLookupTableFactory)(function(kt){kt[2]=10,kt[3]=32,kt[4]=33,kt[5]=34,kt[6]=35,kt[7]=36,kt[8]=37,kt[9]=38,kt[10]=39,kt[11]=40,kt[12]=41,kt[13]=42,kt[14]=43,kt[15]=44,kt[16]=45,kt[17]=46,kt[18]=47,kt[19]=48,kt[20]=49,kt[21]=50,kt[22]=51,kt[23]=52,kt[24]=53,kt[25]=54,kt[26]=55,kt[27]=56,kt[28]=57,kt[29]=58,kt[30]=894,kt[31]=60,kt[32]=61,kt[33]=62,kt[34]=63,kt[35]=64,kt[36]=65,kt[37]=66,kt[38]=67,kt[39]=68,kt[40]=69,kt[41]=70,kt[42]=71,kt[43]=72,kt[44]=73,kt[45]=74,kt[46]=75,kt[47]=76,kt[48]=77,kt[49]=78,kt[50]=79,kt[51]=80,kt[52]=81,kt[53]=82,kt[54]=83,kt[55]=84,kt[56]=85,kt[57]=86,kt[58]=87,kt[59]=88,kt[60]=89,kt[61]=90,kt[62]=91,kt[63]=92,kt[64]=93,kt[65]=94,kt[66]=95,kt[67]=96,kt[68]=97,kt[69]=98,kt[70]=99,kt[71]=100,kt[72]=101,kt[73]=102,kt[74]=103,kt[75]=104,kt[76]=105,kt[77]=106,kt[78]=107,kt[79]=108,kt[80]=109,kt[81]=110,kt[82]=111,kt[83]=112,kt[84]=113,kt[85]=114,kt[86]=115,kt[87]=116,kt[88]=117,kt[89]=118,kt[90]=119,kt[91]=120,kt[92]=121,kt[93]=122,kt[94]=123,kt[95]=124,kt[96]=125,kt[97]=126,kt[98]=196,kt[99]=197,kt[100]=199,kt[101]=201,kt[102]=209,kt[103]=214,kt[104]=220,kt[105]=225,kt[106]=224,kt[107]=226,kt[108]=228,kt[109]=227,kt[110]=229,kt[111]=231,kt[112]=233,kt[113]=232,kt[114]=234,kt[115]=235,kt[116]=237,kt[117]=236,kt[118]=238,kt[119]=239,kt[120]=241,kt[121]=243,kt[122]=242,kt[123]=244,kt[124]=246,kt[125]=245,kt[126]=250,kt[127]=249,kt[128]=251,kt[129]=252,kt[130]=8224,kt[131]=176,kt[132]=162,kt[133]=163,kt[134]=167,kt[135]=8226,kt[136]=182,kt[137]=223,kt[138]=174,kt[139]=169,kt[140]=8482,kt[141]=180,kt[142]=168,kt[143]=8800,kt[144]=198,kt[145]=216,kt[146]=8734,kt[147]=177,kt[148]=8804,kt[149]=8805,kt[150]=165,kt[151]=181,kt[152]=8706,kt[153]=8721,kt[154]=8719,kt[156]=8747,kt[157]=170,kt[158]=186,kt[159]=8486,kt[160]=230,kt[161]=248,kt[162]=191,kt[163]=161,kt[164]=172,kt[165]=8730,kt[166]=402,kt[167]=8776,kt[168]=8710,kt[169]=171,kt[170]=187,kt[171]=8230,kt[200]=193,kt[203]=205,kt[210]=218,kt[223]=711,kt[224]=321,kt[225]=322,kt[226]=352,kt[227]=353,kt[228]=381,kt[229]=382,kt[233]=221,kt[234]=253,kt[252]=263,kt[253]=268,kt[254]=269,kt[258]=258,kt[260]=260,kt[261]=261,kt[265]=280,kt[266]=281,kt[267]=282,kt[268]=283,kt[269]=313,kt[275]=323,kt[276]=324,kt[278]=328,kt[283]=344,kt[284]=345,kt[285]=346,kt[286]=347,kt[292]=367,kt[295]=377,kt[296]=378,kt[298]=380,kt[305]=963,kt[306]=964,kt[307]=966,kt[308]=8215,kt[309]=8252,kt[310]=8319,kt[311]=8359,kt[312]=8592,kt[313]=8593,kt[337]=9552,kt[493]=1039,kt[494]=1040,kt[672]=1488,kt[673]=1489,kt[674]=1490,kt[675]=1491,kt[676]=1492,kt[677]=1493,kt[678]=1494,kt[679]=1495,kt[680]=1496,kt[681]=1497,kt[682]=1498,kt[683]=1499,kt[684]=1500,kt[685]=1501,kt[686]=1502,kt[687]=1503,kt[688]=1504,kt[689]=1505,kt[690]=1506,kt[691]=1507,kt[692]=1508,kt[693]=1509,kt[694]=1510,kt[695]=1511,kt[696]=1512,kt[697]=1513,kt[698]=1514,kt[705]=1524,kt[706]=8362,kt[710]=64288,kt[711]=64298,kt[759]=1617,kt[761]=1776,kt[763]=1778,kt[775]=1652,kt[777]=1764,kt[778]=1780,kt[779]=1781,kt[780]=1782,kt[782]=771,kt[783]=64726,kt[786]=8363,kt[788]=8532,kt[790]=768,kt[791]=769,kt[792]=768,kt[795]=803,kt[797]=64336,kt[798]=64337,kt[799]=64342,kt[800]=64343,kt[801]=64344,kt[802]=64345,kt[803]=64362,kt[804]=64363,kt[805]=64364,kt[2424]=7821,kt[2425]=7822,kt[2426]=7823,kt[2427]=7824,kt[2428]=7825,kt[2429]=7826,kt[2430]=7827,kt[2433]=7682,kt[2678]=8045,kt[2679]=8046,kt[2830]=1552,kt[2838]=686,kt[2840]=751,kt[2842]=753,kt[2843]=754,kt[2844]=755,kt[2846]=757,kt[2856]=767,kt[2857]=848,kt[2858]=849,kt[2862]=853,kt[2863]=854,kt[2864]=855,kt[2865]=861,kt[2866]=862,kt[2906]=7460,kt[2908]=7462,kt[2909]=7463,kt[2910]=7464,kt[2912]=7466,kt[2913]=7467,kt[2914]=7468,kt[2916]=7470,kt[2917]=7471,kt[2918]=7472,kt[2920]=7474,kt[2921]=7475,kt[2922]=7476,kt[2924]=7478,kt[2925]=7479,kt[2926]=7480,kt[2928]=7482,kt[2929]=7483,kt[2930]=7484,kt[2932]=7486,kt[2933]=7487,kt[2934]=7488,kt[2936]=7490,kt[2937]=7491,kt[2938]=7492,kt[2940]=7494,kt[2941]=7495,kt[2942]=7496,kt[2944]=7498,kt[2946]=7500,kt[2948]=7502,kt[2950]=7504,kt[2951]=7505,kt[2952]=7506,kt[2954]=7508,kt[2955]=7509,kt[2956]=7510,kt[2958]=7512,kt[2959]=7513,kt[2960]=7514,kt[2962]=7516,kt[2963]=7517,kt[2964]=7518,kt[2966]=7520,kt[2967]=7521,kt[2968]=7522,kt[2970]=7524,kt[2971]=7525,kt[2972]=7526,kt[2974]=7528,kt[2975]=7529,kt[2976]=7530,kt[2978]=1537,kt[2979]=1538,kt[2980]=1539,kt[2982]=1549,kt[2983]=1551,kt[2984]=1552,kt[2986]=1554,kt[2987]=1555,kt[2988]=1556,kt[2990]=1623,kt[2991]=1624,kt[2995]=1775,kt[2999]=1791,kt[3002]=64290,kt[3003]=64291,kt[3004]=64292,kt[3006]=64294,kt[3007]=64295,kt[3008]=64296,kt[3011]=1900,kt[3014]=8223,kt[3015]=8244,kt[3017]=7532,kt[3018]=7533,kt[3019]=7534,kt[3075]=7590,kt[3076]=7591,kt[3079]=7594,kt[3080]=7595,kt[3083]=7598,kt[3084]=7599,kt[3087]=7602,kt[3088]=7603,kt[3091]=7606,kt[3092]=7607,kt[3095]=7610,kt[3096]=7611,kt[3099]=7614,kt[3100]=7615,kt[3103]=7618,kt[3104]=7619,kt[3107]=8337,kt[3108]=8338,kt[3116]=1884,kt[3119]=1885,kt[3120]=1885,kt[3123]=1886,kt[3124]=1886,kt[3127]=1887,kt[3128]=1887,kt[3131]=1888,kt[3132]=1888,kt[3135]=1889,kt[3136]=1889,kt[3139]=1890,kt[3140]=1890,kt[3143]=1891,kt[3144]=1891,kt[3147]=1892,kt[3148]=1892,kt[3153]=580,kt[3154]=581,kt[3157]=584,kt[3158]=585,kt[3161]=588,kt[3162]=589,kt[3165]=891,kt[3166]=892,kt[3169]=1274,kt[3170]=1275,kt[3173]=1278,kt[3174]=1279,kt[3181]=7622,kt[3182]=7623,kt[3282]=11799,kt[3316]=578,kt[3379]=42785,kt[3393]=1159,kt[3416]=8377});St.getGlyphMapForStandardFonts=jt;const Rt=(0,vt.getLookupTableFactory)(function(kt){kt[227]=322,kt[264]=261,kt[291]=346});St.getSupplementalGlyphMapForArialBlack=Rt;const Nt=(0,vt.getLookupTableFactory)(function(kt){kt[1]=32,kt[4]=65,kt[6]=193,kt[17]=66,kt[18]=67,kt[21]=268,kt[24]=68,kt[28]=69,kt[30]=201,kt[32]=282,kt[38]=70,kt[39]=71,kt[44]=72,kt[47]=73,kt[49]=205,kt[58]=74,kt[60]=75,kt[62]=76,kt[68]=77,kt[69]=78,kt[75]=79,kt[87]=80,kt[89]=81,kt[90]=82,kt[92]=344,kt[94]=83,kt[97]=352,kt[100]=84,kt[104]=85,kt[115]=86,kt[116]=87,kt[121]=88,kt[122]=89,kt[124]=221,kt[127]=90,kt[129]=381,kt[258]=97,kt[260]=225,kt[268]=261,kt[271]=98,kt[272]=99,kt[273]=263,kt[275]=269,kt[282]=100,kt[286]=101,kt[288]=233,kt[290]=283,kt[295]=281,kt[296]=102,kt[336]=103,kt[346]=104,kt[349]=105,kt[351]=237,kt[361]=106,kt[364]=107,kt[367]=108,kt[371]=322,kt[373]=109,kt[374]=110,kt[381]=111,kt[383]=243,kt[393]=112,kt[395]=113,kt[396]=114,kt[398]=345,kt[400]=115,kt[401]=347,kt[403]=353,kt[410]=116,kt[437]=117,kt[448]=118,kt[449]=119,kt[454]=120,kt[455]=121,kt[457]=253,kt[460]=122,kt[462]=382,kt[463]=380,kt[853]=44,kt[855]=58,kt[856]=46,kt[876]=47,kt[878]=45,kt[882]=45,kt[894]=40,kt[895]=41,kt[896]=91,kt[897]=93,kt[923]=64,kt[1004]=48,kt[1005]=49,kt[1006]=50,kt[1007]=51,kt[1008]=52,kt[1009]=53,kt[1010]=54,kt[1011]=55,kt[1012]=56,kt[1013]=57,kt[1081]=37,kt[1085]=43,kt[1086]=45});St.getSupplementalGlyphMapForCalibri=Nt;function Lt(kt){const Bt=(0,Et.normalizeFontName)(kt);return Mt()[Bt]}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.ToUnicodeMap=St.IdentityToUnicodeMap=void 0;var vt=Ft(2);class Et{constructor(xt=[]){this._map=xt}get length(){return this._map.length}forEach(xt){for(const $t in this._map)xt($t,this._map[$t].charCodeAt(0))}has(xt){return this._map[xt]!==void 0}get(xt){return this._map[xt]}charCodeOf(xt){const $t=this._map;if($t.length<=65536)return $t.indexOf(xt);for(const _t in $t)if($t[_t]===xt)return _t|0;return-1}amend(xt){for(const $t in xt)this._map[$t]=xt[$t]}}St.ToUnicodeMap=Et;class Mt{constructor(xt,$t){this.firstChar=xt,this.lastChar=$t}get length(){return this.lastChar+1-this.firstChar}forEach(xt){for(let $t=this.firstChar,_t=this.lastChar;$t<=_t;$t++)xt($t,$t)}has(xt){return this.firstChar<=xt&&xt<=this.lastChar}get(xt){if(this.firstChar<=xt&&xt<=this.lastChar)return String.fromCharCode(xt)}charCodeOf(xt){return Number.isInteger(xt)&&xt>=this.firstChar&&xt<=this.lastChar?xt:-1}amend(xt){(0,vt.unreachable)("Should not call amend()")}}St.IdentityToUnicodeMap=Mt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.CFFFont=void 0;var vt=Ft(35),Et=Ft(38),Mt=Ft(2);class Pt{constructor($t,_t){this.properties=_t;const jt=new vt.CFFParser($t,_t,Et.SEAC_ANALYSIS_ENABLED);this.cff=jt.parse(),this.cff.duplicateFirstGlyph();const Rt=new vt.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=Rt.compile()}catch{(0,Mt.warn)("Failed to compile font "+_t.loadedName),this.data=$t}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const $t=this.cff,_t=this.properties,jt=$t.charset.charset;let Rt,Nt;if(_t.composite){Rt=Object.create(null);let kt;if($t.isCIDFont)for(Nt=0;Nt<jt.length;Nt++){const Bt=jt[Nt];kt=_t.cMap.charCodeOf(Bt),Rt[kt]=Nt}else for(Nt=0;Nt<$t.charStrings.count;Nt++)kt=_t.cMap.charCodeOf(Nt),Rt[kt]=Nt;return Rt}let Lt=$t.encoding?$t.encoding.encoding:null;return _t.isInternalFont&&(Lt=_t.defaultEncoding),Rt=(0,Et.type1FontGlyphMapping)(_t,Lt,jt),Rt}hasGlyphId($t){return this.cff.hasGlyphId($t)}_createBuiltInEncoding(){const{charset:$t,encoding:_t}=this.cff;if(!$t||!_t)return;const jt=$t.charset,Rt=_t.encoding,Nt=[];for(const Lt in Rt){const kt=Rt[Lt];if(kt>=0){const Bt=jt[kt];Bt&&(Nt[Lt]=Bt)}}Nt.length>0&&(this.properties.builtInEncoding=Nt)}}St.CFFFont=Pt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.FontRendererFactory=void 0;var vt=Ft(2),Et=Ft(35),Mt=Ft(39),Pt=Ft(37),xt=Ft(10);function $t(Qt,qt){return(Qt[qt]<<24|Qt[qt+1]<<16|Qt[qt+2]<<8|Qt[qt+3])>>>0}function _t(Qt,qt){return Qt[qt]<<8|Qt[qt+1]}function jt(Qt,qt){return(Qt[qt]<<24|Qt[qt+1]<<16)>>16}function Rt(Qt,qt){return Qt[qt]<<24>>24}function Nt(Qt,qt){return jt(Qt,qt)/16384}function Lt(Qt){const qt=Qt.length;let nn=32768;return qt<1240?nn=107:qt<33900&&(nn=1131),nn}function kt(Qt,qt,nn){const Ut=_t(Qt,qt+2)===1?$t(Qt,qt+8):$t(Qt,qt+16),zt=_t(Qt,qt+Ut);let cn,ln,Kt;if(zt===4){_t(Qt,qt+Ut+2);const Jt=_t(Qt,qt+Ut+6)>>1;for(ln=qt+Ut+14,cn=[],Kt=0;Kt<Jt;Kt++,ln+=2)cn[Kt]={end:_t(Qt,ln)};for(ln+=2,Kt=0;Kt<Jt;Kt++,ln+=2)cn[Kt].start=_t(Qt,ln);for(Kt=0;Kt<Jt;Kt++,ln+=2)cn[Kt].idDelta=_t(Qt,ln);for(Kt=0;Kt<Jt;Kt++,ln+=2){let Yt=_t(Qt,ln);if(Yt!==0){cn[Kt].ids=[];for(let tn=0,un=cn[Kt].end-cn[Kt].start+1;tn<un;tn++)cn[Kt].ids[tn]=_t(Qt,ln+Yt),Yt+=2}}return cn}else if(zt===12){const Jt=$t(Qt,qt+Ut+12);for(ln=qt+Ut+16,cn=[],Kt=0;Kt<Jt;Kt++)qt=$t(Qt,ln),cn.push({start:qt,end:$t(Qt,ln+4),idDelta:$t(Qt,ln+8)-qt}),ln+=12;return cn}throw new vt.FormatError(`unsupported cmap: ${zt}`)}function Bt(Qt,qt,nn,Ut){const zt={},ln=new Et.CFFParser(new xt.Stream(Qt,qt,nn-qt),zt,Ut).parse();return{glyphs:ln.charStrings.objects,subrs:ln.topDict.privateDict&&ln.topDict.privateDict.subrsIndex&&ln.topDict.privateDict.subrsIndex.objects,gsubrs:ln.globalSubrIndex&&ln.globalSubrIndex.objects,isCFFCIDFont:ln.isCIDFont,fdSelect:ln.fdSelect,fdArray:ln.fdArray}}function Ht(Qt,qt,nn){let Ut,zt;nn?(Ut=4,zt=$t):(Ut=2,zt=(Kt,Jt)=>2*_t(Kt,Jt));const cn=[];let ln=zt(qt,0);for(let Kt=Ut;Kt<qt.length;Kt+=Ut){const Jt=zt(qt,Kt);cn.push(Qt.subarray(ln,Jt)),ln=Jt}return cn}function Ot(Qt,qt){const nn=qt.codePointAt(0);let Ut=0,zt=0,cn=Qt.length-1;for(;zt<cn;){const ln=zt+cn+1>>1;nn<Qt[ln].start?cn=ln-1:zt=ln}return Qt[zt].start<=nn&&nn<=Qt[zt].end&&(Ut=Qt[zt].idDelta+(Qt[zt].ids?Qt[zt].ids[nn-Qt[zt].start]:nn)&65535),{charCode:nn,glyphId:Ut}}function Vt(Qt,qt,nn){function Ut(un,yn){qt.push({cmd:"moveTo",args:[un,yn]})}function zt(un,yn){qt.push({cmd:"lineTo",args:[un,yn]})}function cn(un,yn,xn,rn){qt.push({cmd:"quadraticCurveTo",args:[un,yn,xn,rn]})}let ln=0;const Kt=jt(Qt,ln);let Jt,Yt=0,tn=0;if(ln+=10,Kt<0)do{Jt=_t(Qt,ln);const un=_t(Qt,ln+2);ln+=4;let yn,xn;Jt&1?(Jt&2?(yn=jt(Qt,ln),xn=jt(Qt,ln+2)):(yn=_t(Qt,ln),xn=_t(Qt,ln+2)),ln+=4):Jt&2?(yn=Rt(Qt,ln++),xn=Rt(Qt,ln++)):(yn=Qt[ln++],xn=Qt[ln++]),Jt&2?(Yt=yn,tn=xn):(Yt=0,tn=0);let rn=1,dn=1,An=0,an=0;Jt&8?(rn=dn=Nt(Qt,ln),ln+=2):Jt&64?(rn=Nt(Qt,ln),dn=Nt(Qt,ln+2),ln+=4):Jt&128&&(rn=Nt(Qt,ln),An=Nt(Qt,ln+2),an=Nt(Qt,ln+4),dn=Nt(Qt,ln+6),ln+=8);const fn=nn.glyphs[un];fn&&(qt.push({cmd:"save"},{cmd:"transform",args:[rn,An,an,dn,Yt,tn]}),Vt(fn,qt,nn),qt.push({cmd:"restore"}))}while(Jt&32);else{const un=[];let yn,xn;for(yn=0;yn<Kt;yn++)un.push(_t(Qt,ln)),ln+=2;const rn=_t(Qt,ln);ln+=2+rn;const dn=un.at(-1)+1,An=[];for(;An.length<dn;){Jt=Qt[ln++];let fn=1;for(Jt&8&&(fn+=Qt[ln++]);fn-- >0;)An.push({flags:Jt})}for(yn=0;yn<dn;yn++){switch(An[yn].flags&18){case 0:Yt+=jt(Qt,ln),ln+=2;break;case 2:Yt-=Qt[ln++];break;case 18:Yt+=Qt[ln++];break}An[yn].x=Yt}for(yn=0;yn<dn;yn++){switch(An[yn].flags&36){case 0:tn+=jt(Qt,ln),ln+=2;break;case 4:tn-=Qt[ln++];break;case 36:tn+=Qt[ln++];break}An[yn].y=tn}let an=0;for(ln=0;ln<Kt;ln++){const fn=un[ln],bn=An.slice(an,fn+1);if(bn[0].flags&1)bn.push(bn[0]);else if(bn.at(-1).flags&1)bn.unshift(bn.at(-1));else{const vn={flags:1,x:(bn[0].x+bn.at(-1).x)/2,y:(bn[0].y+bn.at(-1).y)/2};bn.unshift(vn),bn.push(vn)}for(Ut(bn[0].x,bn[0].y),yn=1,xn=bn.length;yn<xn;yn++)bn[yn].flags&1?zt(bn[yn].x,bn[yn].y):bn[yn+1].flags&1?(cn(bn[yn].x,bn[yn].y,bn[yn+1].x,bn[yn+1].y),yn++):cn(bn[yn].x,bn[yn].y,(bn[yn].x+bn[yn+1].x)/2,(bn[yn].y+bn[yn+1].y)/2);an=fn+1}}}function Gt(Qt,qt,nn,Ut){function zt(yn,xn){qt.push({cmd:"moveTo",args:[yn,xn]})}function cn(yn,xn){qt.push({cmd:"lineTo",args:[yn,xn]})}function ln(yn,xn,rn,dn,An,an){qt.push({cmd:"bezierCurveTo",args:[yn,xn,rn,dn,An,an]})}const Kt=[];let Jt=0,Yt=0,tn=0;function un(yn){let xn=0;for(;xn<yn.length;){let rn=!1,dn=yn[xn++],An,an,fn,bn,vn,gn,on,wn,pn;switch(dn){case 1:tn+=Kt.length>>1,rn=!0;break;case 3:tn+=Kt.length>>1,rn=!0;break;case 4:Yt+=Kt.pop(),zt(Jt,Yt),rn=!0;break;case 5:for(;Kt.length>0;)Jt+=Kt.shift(),Yt+=Kt.shift(),cn(Jt,Yt);break;case 6:for(;Kt.length>0&&(Jt+=Kt.shift(),cn(Jt,Yt),Kt.length!==0);)Yt+=Kt.shift(),cn(Jt,Yt);break;case 7:for(;Kt.length>0&&(Yt+=Kt.shift(),cn(Jt,Yt),Kt.length!==0);)Jt+=Kt.shift(),cn(Jt,Yt);break;case 8:for(;Kt.length>0;)An=Jt+Kt.shift(),fn=Yt+Kt.shift(),an=An+Kt.shift(),bn=fn+Kt.shift(),Jt=an+Kt.shift(),Yt=bn+Kt.shift(),ln(An,fn,an,bn,Jt,Yt);break;case 10:if(wn=Kt.pop(),pn=null,nn.isCFFCIDFont){const Cn=nn.fdSelect.getFDIndex(Ut);if(Cn>=0&&Cn<nn.fdArray.length){const Tn=nn.fdArray[Cn];let Fn;Tn.privateDict&&Tn.privateDict.subrsIndex&&(Fn=Tn.privateDict.subrsIndex.objects),Fn&&(wn+=Lt(Fn),pn=Fn[wn])}else(0,vt.warn)("Invalid fd index for glyph index.")}else pn=nn.subrs[wn+nn.subrsBias];pn&&un(pn);break;case 11:return;case 12:switch(dn=yn[xn++],dn){case 34:An=Jt+Kt.shift(),an=An+Kt.shift(),vn=Yt+Kt.shift(),Jt=an+Kt.shift(),ln(An,Yt,an,vn,Jt,vn),An=Jt+Kt.shift(),an=An+Kt.shift(),Jt=an+Kt.shift(),ln(An,vn,an,Yt,Jt,Yt);break;case 35:An=Jt+Kt.shift(),fn=Yt+Kt.shift(),an=An+Kt.shift(),bn=fn+Kt.shift(),Jt=an+Kt.shift(),Yt=bn+Kt.shift(),ln(An,fn,an,bn,Jt,Yt),An=Jt+Kt.shift(),fn=Yt+Kt.shift(),an=An+Kt.shift(),bn=fn+Kt.shift(),Jt=an+Kt.shift(),Yt=bn+Kt.shift(),ln(An,fn,an,bn,Jt,Yt),Kt.pop();break;case 36:An=Jt+Kt.shift(),vn=Yt+Kt.shift(),an=An+Kt.shift(),gn=vn+Kt.shift(),Jt=an+Kt.shift(),ln(An,vn,an,gn,Jt,gn),An=Jt+Kt.shift(),an=An+Kt.shift(),on=gn+Kt.shift(),Jt=an+Kt.shift(),ln(An,gn,an,on,Jt,Yt);break;case 37:const Cn=Jt,Tn=Yt;An=Jt+Kt.shift(),fn=Yt+Kt.shift(),an=An+Kt.shift(),bn=fn+Kt.shift(),Jt=an+Kt.shift(),Yt=bn+Kt.shift(),ln(An,fn,an,bn,Jt,Yt),An=Jt+Kt.shift(),fn=Yt+Kt.shift(),an=An+Kt.shift(),bn=fn+Kt.shift(),Jt=an,Yt=bn,Math.abs(Jt-Cn)>Math.abs(Yt-Tn)?Jt+=Kt.shift():Yt+=Kt.shift(),ln(An,fn,an,bn,Jt,Yt);break;default:throw new vt.FormatError(`unknown operator: 12 ${dn}`)}break;case 14:if(Kt.length>=4){const Cn=Kt.pop(),Tn=Kt.pop();Yt=Kt.pop(),Jt=Kt.pop(),qt.push({cmd:"save"},{cmd:"translate",args:[Jt,Yt]});let Fn=Ot(nn.cmap,String.fromCharCode(nn.glyphNameMap[Pt.StandardEncoding[Cn]]));Gt(nn.glyphs[Fn.glyphId],qt,nn,Fn.glyphId),qt.push({cmd:"restore"}),Fn=Ot(nn.cmap,String.fromCharCode(nn.glyphNameMap[Pt.StandardEncoding[Tn]])),Gt(nn.glyphs[Fn.glyphId],qt,nn,Fn.glyphId)}return;case 18:tn+=Kt.length>>1,rn=!0;break;case 19:tn+=Kt.length>>1,xn+=tn+7>>3,rn=!0;break;case 20:tn+=Kt.length>>1,xn+=tn+7>>3,rn=!0;break;case 21:Yt+=Kt.pop(),Jt+=Kt.pop(),zt(Jt,Yt),rn=!0;break;case 22:Jt+=Kt.pop(),zt(Jt,Yt),rn=!0;break;case 23:tn+=Kt.length>>1,rn=!0;break;case 24:for(;Kt.length>2;)An=Jt+Kt.shift(),fn=Yt+Kt.shift(),an=An+Kt.shift(),bn=fn+Kt.shift(),Jt=an+Kt.shift(),Yt=bn+Kt.shift(),ln(An,fn,an,bn,Jt,Yt);Jt+=Kt.shift(),Yt+=Kt.shift(),cn(Jt,Yt);break;case 25:for(;Kt.length>6;)Jt+=Kt.shift(),Yt+=Kt.shift(),cn(Jt,Yt);An=Jt+Kt.shift(),fn=Yt+Kt.shift(),an=An+Kt.shift(),bn=fn+Kt.shift(),Jt=an+Kt.shift(),Yt=bn+Kt.shift(),ln(An,fn,an,bn,Jt,Yt);break;case 26:for(Kt.length%2&&(Jt+=Kt.shift());Kt.length>0;)An=Jt,fn=Yt+Kt.shift(),an=An+Kt.shift(),bn=fn+Kt.shift(),Jt=an,Yt=bn+Kt.shift(),ln(An,fn,an,bn,Jt,Yt);break;case 27:for(Kt.length%2&&(Yt+=Kt.shift());Kt.length>0;)An=Jt+Kt.shift(),fn=Yt,an=An+Kt.shift(),bn=fn+Kt.shift(),Jt=an+Kt.shift(),Yt=bn,ln(An,fn,an,bn,Jt,Yt);break;case 28:Kt.push((yn[xn]<<24|yn[xn+1]<<16)>>16),xn+=2;break;case 29:wn=Kt.pop()+nn.gsubrsBias,pn=nn.gsubrs[wn],pn&&un(pn);break;case 30:for(;Kt.length>0&&(An=Jt,fn=Yt+Kt.shift(),an=An+Kt.shift(),bn=fn+Kt.shift(),Jt=an+Kt.shift(),Yt=bn+(Kt.length===1?Kt.shift():0),ln(An,fn,an,bn,Jt,Yt),Kt.length!==0);)An=Jt+Kt.shift(),fn=Yt,an=An+Kt.shift(),bn=fn+Kt.shift(),Yt=bn+Kt.shift(),Jt=an+(Kt.length===1?Kt.shift():0),ln(An,fn,an,bn,Jt,Yt);break;case 31:for(;Kt.length>0&&(An=Jt+Kt.shift(),fn=Yt,an=An+Kt.shift(),bn=fn+Kt.shift(),Yt=bn+Kt.shift(),Jt=an+(Kt.length===1?Kt.shift():0),ln(An,fn,an,bn,Jt,Yt),Kt.length!==0);)An=Jt,fn=Yt+Kt.shift(),an=An+Kt.shift(),bn=fn+Kt.shift(),Jt=an+Kt.shift(),Yt=bn+(Kt.length===1?Kt.shift():0),ln(An,fn,an,bn,Jt,Yt);break;default:if(dn<32)throw new vt.FormatError(`unknown operator: ${dn}`);dn<247?Kt.push(dn-139):dn<251?Kt.push((dn-247)*256+yn[xn++]+108):dn<255?Kt.push(-(dn-251)*256-yn[xn++]-108):(Kt.push((yn[xn]<<24|yn[xn+1]<<16|yn[xn+2]<<8|yn[xn+3])/65536),xn+=4);break}rn&&(Kt.length=0)}}un(Qt)}const Wt=[];class en{constructor(qt){this.constructor===en&&(0,vt.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=qt,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(qt){const{charCode:nn,glyphId:Ut}=Ot(this.cmap,qt);let zt=this.compiledGlyphs[Ut];if(!zt)try{zt=this.compileGlyph(this.glyphs[Ut],Ut),this.compiledGlyphs[Ut]=zt}catch(cn){throw this.compiledGlyphs[Ut]=Wt,this.compiledCharCodeToGlyphId[nn]===void 0&&(this.compiledCharCodeToGlyphId[nn]=Ut),cn}return this.compiledCharCodeToGlyphId[nn]===void 0&&(this.compiledCharCodeToGlyphId[nn]=Ut),zt}compileGlyph(qt,nn){if(!qt||qt.length===0||qt[0]===14)return Wt;let Ut=this.fontMatrix;if(this.isCFFCIDFont){const cn=this.fdSelect.getFDIndex(nn);cn>=0&&cn<this.fdArray.length?Ut=this.fdArray[cn].getByName("FontMatrix")||vt.FONT_IDENTITY_MATRIX:(0,vt.warn)("Invalid fd index for glyph index.")}const zt=[{cmd:"save"},{cmd:"transform",args:Ut.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(qt,zt,nn),zt.push({cmd:"restore"}),zt}compileGlyphImpl(){(0,vt.unreachable)("Children classes should implement this.")}hasBuiltPath(qt){const{charCode:nn,glyphId:Ut}=Ot(this.cmap,qt);return this.compiledGlyphs[Ut]!==void 0&&this.compiledCharCodeToGlyphId[nn]!==void 0}}class Sn extends en{constructor(qt,nn,Ut){super(Ut||[488e-6,0,0,488e-6,0,0]),this.glyphs=qt,this.cmap=nn}compileGlyphImpl(qt,nn){Vt(qt,nn,this)}}class sn extends en{constructor(qt,nn,Ut,zt){super(Ut||[.001,0,0,.001,0,0]),this.glyphs=qt.glyphs,this.gsubrs=qt.gsubrs||[],this.subrs=qt.subrs||[],this.cmap=nn,this.glyphNameMap=zt||(0,Mt.getGlyphsUnicode)(),this.gsubrsBias=Lt(this.gsubrs),this.subrsBias=Lt(this.subrs),this.isCFFCIDFont=qt.isCFFCIDFont,this.fdSelect=qt.fdSelect,this.fdArray=qt.fdArray}compileGlyphImpl(qt,nn,Ut){Gt(qt,nn,this,Ut)}}class hn{static create(qt,nn){const Ut=new Uint8Array(qt.data);let zt,cn,ln,Kt,Jt,Yt;const tn=_t(Ut,4);for(let un=0,yn=12;un<tn;un++,yn+=16){const xn=(0,vt.bytesToString)(Ut.subarray(yn,yn+4)),rn=$t(Ut,yn+8),dn=$t(Ut,yn+12);switch(xn){case"cmap":zt=kt(Ut,rn);break;case"glyf":cn=Ut.subarray(rn,rn+dn);break;case"loca":ln=Ut.subarray(rn,rn+dn);break;case"head":Yt=_t(Ut,rn+18),Jt=_t(Ut,rn+50);break;case"CFF ":Kt=Bt(Ut,rn,rn+dn,nn);break}}if(cn){const un=Yt?[1/Yt,0,0,1/Yt,0,0]:qt.fontMatrix;return new Sn(Ht(cn,ln,Jt),zt,un)}return new sn(Kt,zt,qt.fontMatrix,qt.glyphNameMap)}}St.FontRendererFactory=hn},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.getMetrics=St.getFontBasicMetrics=void 0;var vt=Ft(6);const Et=(0,vt.getLookupTableFactory)(function(Pt){Pt.Courier=600,Pt["Courier-Bold"]=600,Pt["Courier-BoldOblique"]=600,Pt["Courier-Oblique"]=600,Pt.Helvetica=(0,vt.getLookupTableFactory)(function(xt){xt.space=278,xt.exclam=278,xt.quotedbl=355,xt.numbersign=556,xt.dollar=556,xt.percent=889,xt.ampersand=667,xt.quoteright=222,xt.parenleft=333,xt.parenright=333,xt.asterisk=389,xt.plus=584,xt.comma=278,xt.hyphen=333,xt.period=278,xt.slash=278,xt.zero=556,xt.one=556,xt.two=556,xt.three=556,xt.four=556,xt.five=556,xt.six=556,xt.seven=556,xt.eight=556,xt.nine=556,xt.colon=278,xt.semicolon=278,xt.less=584,xt.equal=584,xt.greater=584,xt.question=556,xt.at=1015,xt.A=667,xt.B=667,xt.C=722,xt.D=722,xt.E=667,xt.F=611,xt.G=778,xt.H=722,xt.I=278,xt.J=500,xt.K=667,xt.L=556,xt.M=833,xt.N=722,xt.O=778,xt.P=667,xt.Q=778,xt.R=722,xt.S=667,xt.T=611,xt.U=722,xt.V=667,xt.W=944,xt.X=667,xt.Y=667,xt.Z=611,xt.bracketleft=278,xt.backslash=278,xt.bracketright=278,xt.asciicircum=469,xt.underscore=556,xt.quoteleft=222,xt.a=556,xt.b=556,xt.c=500,xt.d=556,xt.e=556,xt.f=278,xt.g=556,xt.h=556,xt.i=222,xt.j=222,xt.k=500,xt.l=222,xt.m=833,xt.n=556,xt.o=556,xt.p=556,xt.q=556,xt.r=333,xt.s=500,xt.t=278,xt.u=556,xt.v=500,xt.w=722,xt.x=500,xt.y=500,xt.z=500,xt.braceleft=334,xt.bar=260,xt.braceright=334,xt.asciitilde=584,xt.exclamdown=333,xt.cent=556,xt.sterling=556,xt.fraction=167,xt.yen=556,xt.florin=556,xt.section=556,xt.currency=556,xt.quotesingle=191,xt.quotedblleft=333,xt.guillemotleft=556,xt.guilsinglleft=333,xt.guilsinglright=333,xt.fi=500,xt.fl=500,xt.endash=556,xt.dagger=556,xt.daggerdbl=556,xt.periodcentered=278,xt.paragraph=537,xt.bullet=350,xt.quotesinglbase=222,xt.quotedblbase=333,xt.quotedblright=333,xt.guillemotright=556,xt.ellipsis=1e3,xt.perthousand=1e3,xt.questiondown=611,xt.grave=333,xt.acute=333,xt.circumflex=333,xt.tilde=333,xt.macron=333,xt.breve=333,xt.dotaccent=333,xt.dieresis=333,xt.ring=333,xt.cedilla=333,xt.hungarumlaut=333,xt.ogonek=333,xt.caron=333,xt.emdash=1e3,xt.AE=1e3,xt.ordfeminine=370,xt.Lslash=556,xt.Oslash=778,xt.OE=1e3,xt.ordmasculine=365,xt.ae=889,xt.dotlessi=278,xt.lslash=222,xt.oslash=611,xt.oe=944,xt.germandbls=611,xt.Idieresis=278,xt.eacute=556,xt.abreve=556,xt.uhungarumlaut=556,xt.ecaron=556,xt.Ydieresis=667,xt.divide=584,xt.Yacute=667,xt.Acircumflex=667,xt.aacute=556,xt.Ucircumflex=722,xt.yacute=500,xt.scommaaccent=500,xt.ecircumflex=556,xt.Uring=722,xt.Udieresis=722,xt.aogonek=556,xt.Uacute=722,xt.uogonek=556,xt.Edieresis=667,xt.Dcroat=722,xt.commaaccent=250,xt.copyright=737,xt.Emacron=667,xt.ccaron=500,xt.aring=556,xt.Ncommaaccent=722,xt.lacute=222,xt.agrave=556,xt.Tcommaaccent=611,xt.Cacute=722,xt.atilde=556,xt.Edotaccent=667,xt.scaron=500,xt.scedilla=500,xt.iacute=278,xt.lozenge=471,xt.Rcaron=722,xt.Gcommaaccent=778,xt.ucircumflex=556,xt.acircumflex=556,xt.Amacron=667,xt.rcaron=333,xt.ccedilla=500,xt.Zdotaccent=611,xt.Thorn=667,xt.Omacron=778,xt.Racute=722,xt.Sacute=667,xt.dcaron=643,xt.Umacron=722,xt.uring=556,xt.threesuperior=333,xt.Ograve=778,xt.Agrave=667,xt.Abreve=667,xt.multiply=584,xt.uacute=556,xt.Tcaron=611,xt.partialdiff=476,xt.ydieresis=500,xt.Nacute=722,xt.icircumflex=278,xt.Ecircumflex=667,xt.adieresis=556,xt.edieresis=556,xt.cacute=500,xt.nacute=556,xt.umacron=556,xt.Ncaron=722,xt.Iacute=278,xt.plusminus=584,xt.brokenbar=260,xt.registered=737,xt.Gbreve=778,xt.Idotaccent=278,xt.summation=600,xt.Egrave=667,xt.racute=333,xt.omacron=556,xt.Zacute=611,xt.Zcaron=611,xt.greaterequal=549,xt.Eth=722,xt.Ccedilla=722,xt.lcommaaccent=222,xt.tcaron=317,xt.eogonek=556,xt.Uogonek=722,xt.Aacute=667,xt.Adieresis=667,xt.egrave=556,xt.zacute=500,xt.iogonek=222,xt.Oacute=778,xt.oacute=556,xt.amacron=556,xt.sacute=500,xt.idieresis=278,xt.Ocircumflex=778,xt.Ugrave=722,xt.Delta=612,xt.thorn=556,xt.twosuperior=333,xt.Odieresis=778,xt.mu=556,xt.igrave=278,xt.ohungarumlaut=556,xt.Eogonek=667,xt.dcroat=556,xt.threequarters=834,xt.Scedilla=667,xt.lcaron=299,xt.Kcommaaccent=667,xt.Lacute=556,xt.trademark=1e3,xt.edotaccent=556,xt.Igrave=278,xt.Imacron=278,xt.Lcaron=556,xt.onehalf=834,xt.lessequal=549,xt.ocircumflex=556,xt.ntilde=556,xt.Uhungarumlaut=722,xt.Eacute=667,xt.emacron=556,xt.gbreve=556,xt.onequarter=834,xt.Scaron=667,xt.Scommaaccent=667,xt.Ohungarumlaut=778,xt.degree=400,xt.ograve=556,xt.Ccaron=722,xt.ugrave=556,xt.radical=453,xt.Dcaron=722,xt.rcommaaccent=333,xt.Ntilde=722,xt.otilde=556,xt.Rcommaaccent=722,xt.Lcommaaccent=556,xt.Atilde=667,xt.Aogonek=667,xt.Aring=667,xt.Otilde=778,xt.zdotaccent=500,xt.Ecaron=667,xt.Iogonek=278,xt.kcommaaccent=500,xt.minus=584,xt.Icircumflex=278,xt.ncaron=556,xt.tcommaaccent=278,xt.logicalnot=584,xt.odieresis=556,xt.udieresis=556,xt.notequal=549,xt.gcommaaccent=556,xt.eth=556,xt.zcaron=500,xt.ncommaaccent=556,xt.onesuperior=333,xt.imacron=278,xt.Euro=556}),Pt["Helvetica-Bold"]=(0,vt.getLookupTableFactory)(function(xt){xt.space=278,xt.exclam=333,xt.quotedbl=474,xt.numbersign=556,xt.dollar=556,xt.percent=889,xt.ampersand=722,xt.quoteright=278,xt.parenleft=333,xt.parenright=333,xt.asterisk=389,xt.plus=584,xt.comma=278,xt.hyphen=333,xt.period=278,xt.slash=278,xt.zero=556,xt.one=556,xt.two=556,xt.three=556,xt.four=556,xt.five=556,xt.six=556,xt.seven=556,xt.eight=556,xt.nine=556,xt.colon=333,xt.semicolon=333,xt.less=584,xt.equal=584,xt.greater=584,xt.question=611,xt.at=975,xt.A=722,xt.B=722,xt.C=722,xt.D=722,xt.E=667,xt.F=611,xt.G=778,xt.H=722,xt.I=278,xt.J=556,xt.K=722,xt.L=611,xt.M=833,xt.N=722,xt.O=778,xt.P=667,xt.Q=778,xt.R=722,xt.S=667,xt.T=611,xt.U=722,xt.V=667,xt.W=944,xt.X=667,xt.Y=667,xt.Z=611,xt.bracketleft=333,xt.backslash=278,xt.bracketright=333,xt.asciicircum=584,xt.underscore=556,xt.quoteleft=278,xt.a=556,xt.b=611,xt.c=556,xt.d=611,xt.e=556,xt.f=333,xt.g=611,xt.h=611,xt.i=278,xt.j=278,xt.k=556,xt.l=278,xt.m=889,xt.n=611,xt.o=611,xt.p=611,xt.q=611,xt.r=389,xt.s=556,xt.t=333,xt.u=611,xt.v=556,xt.w=778,xt.x=556,xt.y=556,xt.z=500,xt.braceleft=389,xt.bar=280,xt.braceright=389,xt.asciitilde=584,xt.exclamdown=333,xt.cent=556,xt.sterling=556,xt.fraction=167,xt.yen=556,xt.florin=556,xt.section=556,xt.currency=556,xt.quotesingle=238,xt.quotedblleft=500,xt.guillemotleft=556,xt.guilsinglleft=333,xt.guilsinglright=333,xt.fi=611,xt.fl=611,xt.endash=556,xt.dagger=556,xt.daggerdbl=556,xt.periodcentered=278,xt.paragraph=556,xt.bullet=350,xt.quotesinglbase=278,xt.quotedblbase=500,xt.quotedblright=500,xt.guillemotright=556,xt.ellipsis=1e3,xt.perthousand=1e3,xt.questiondown=611,xt.grave=333,xt.acute=333,xt.circumflex=333,xt.tilde=333,xt.macron=333,xt.breve=333,xt.dotaccent=333,xt.dieresis=333,xt.ring=333,xt.cedilla=333,xt.hungarumlaut=333,xt.ogonek=333,xt.caron=333,xt.emdash=1e3,xt.AE=1e3,xt.ordfeminine=370,xt.Lslash=611,xt.Oslash=778,xt.OE=1e3,xt.ordmasculine=365,xt.ae=889,xt.dotlessi=278,xt.lslash=278,xt.oslash=611,xt.oe=944,xt.germandbls=611,xt.Idieresis=278,xt.eacute=556,xt.abreve=556,xt.uhungarumlaut=611,xt.ecaron=556,xt.Ydieresis=667,xt.divide=584,xt.Yacute=667,xt.Acircumflex=722,xt.aacute=556,xt.Ucircumflex=722,xt.yacute=556,xt.scommaaccent=556,xt.ecircumflex=556,xt.Uring=722,xt.Udieresis=722,xt.aogonek=556,xt.Uacute=722,xt.uogonek=611,xt.Edieresis=667,xt.Dcroat=722,xt.commaaccent=250,xt.copyright=737,xt.Emacron=667,xt.ccaron=556,xt.aring=556,xt.Ncommaaccent=722,xt.lacute=278,xt.agrave=556,xt.Tcommaaccent=611,xt.Cacute=722,xt.atilde=556,xt.Edotaccent=667,xt.scaron=556,xt.scedilla=556,xt.iacute=278,xt.lozenge=494,xt.Rcaron=722,xt.Gcommaaccent=778,xt.ucircumflex=611,xt.acircumflex=556,xt.Amacron=722,xt.rcaron=389,xt.ccedilla=556,xt.Zdotaccent=611,xt.Thorn=667,xt.Omacron=778,xt.Racute=722,xt.Sacute=667,xt.dcaron=743,xt.Umacron=722,xt.uring=611,xt.threesuperior=333,xt.Ograve=778,xt.Agrave=722,xt.Abreve=722,xt.multiply=584,xt.uacute=611,xt.Tcaron=611,xt.partialdiff=494,xt.ydieresis=556,xt.Nacute=722,xt.icircumflex=278,xt.Ecircumflex=667,xt.adieresis=556,xt.edieresis=556,xt.cacute=556,xt.nacute=611,xt.umacron=611,xt.Ncaron=722,xt.Iacute=278,xt.plusminus=584,xt.brokenbar=280,xt.registered=737,xt.Gbreve=778,xt.Idotaccent=278,xt.summation=600,xt.Egrave=667,xt.racute=389,xt.omacron=611,xt.Zacute=611,xt.Zcaron=611,xt.greaterequal=549,xt.Eth=722,xt.Ccedilla=722,xt.lcommaaccent=278,xt.tcaron=389,xt.eogonek=556,xt.Uogonek=722,xt.Aacute=722,xt.Adieresis=722,xt.egrave=556,xt.zacute=500,xt.iogonek=278,xt.Oacute=778,xt.oacute=611,xt.amacron=556,xt.sacute=556,xt.idieresis=278,xt.Ocircumflex=778,xt.Ugrave=722,xt.Delta=612,xt.thorn=611,xt.twosuperior=333,xt.Odieresis=778,xt.mu=611,xt.igrave=278,xt.ohungarumlaut=611,xt.Eogonek=667,xt.dcroat=611,xt.threequarters=834,xt.Scedilla=667,xt.lcaron=400,xt.Kcommaaccent=722,xt.Lacute=611,xt.trademark=1e3,xt.edotaccent=556,xt.Igrave=278,xt.Imacron=278,xt.Lcaron=611,xt.onehalf=834,xt.lessequal=549,xt.ocircumflex=611,xt.ntilde=611,xt.Uhungarumlaut=722,xt.Eacute=667,xt.emacron=556,xt.gbreve=611,xt.onequarter=834,xt.Scaron=667,xt.Scommaaccent=667,xt.Ohungarumlaut=778,xt.degree=400,xt.ograve=611,xt.Ccaron=722,xt.ugrave=611,xt.radical=549,xt.Dcaron=722,xt.rcommaaccent=389,xt.Ntilde=722,xt.otilde=611,xt.Rcommaaccent=722,xt.Lcommaaccent=611,xt.Atilde=722,xt.Aogonek=722,xt.Aring=722,xt.Otilde=778,xt.zdotaccent=500,xt.Ecaron=667,xt.Iogonek=278,xt.kcommaaccent=556,xt.minus=584,xt.Icircumflex=278,xt.ncaron=611,xt.tcommaaccent=333,xt.logicalnot=584,xt.odieresis=611,xt.udieresis=611,xt.notequal=549,xt.gcommaaccent=611,xt.eth=611,xt.zcaron=500,xt.ncommaaccent=611,xt.onesuperior=333,xt.imacron=278,xt.Euro=556}),Pt["Helvetica-BoldOblique"]=(0,vt.getLookupTableFactory)(function(xt){xt.space=278,xt.exclam=333,xt.quotedbl=474,xt.numbersign=556,xt.dollar=556,xt.percent=889,xt.ampersand=722,xt.quoteright=278,xt.parenleft=333,xt.parenright=333,xt.asterisk=389,xt.plus=584,xt.comma=278,xt.hyphen=333,xt.period=278,xt.slash=278,xt.zero=556,xt.one=556,xt.two=556,xt.three=556,xt.four=556,xt.five=556,xt.six=556,xt.seven=556,xt.eight=556,xt.nine=556,xt.colon=333,xt.semicolon=333,xt.less=584,xt.equal=584,xt.greater=584,xt.question=611,xt.at=975,xt.A=722,xt.B=722,xt.C=722,xt.D=722,xt.E=667,xt.F=611,xt.G=778,xt.H=722,xt.I=278,xt.J=556,xt.K=722,xt.L=611,xt.M=833,xt.N=722,xt.O=778,xt.P=667,xt.Q=778,xt.R=722,xt.S=667,xt.T=611,xt.U=722,xt.V=667,xt.W=944,xt.X=667,xt.Y=667,xt.Z=611,xt.bracketleft=333,xt.backslash=278,xt.bracketright=333,xt.asciicircum=584,xt.underscore=556,xt.quoteleft=278,xt.a=556,xt.b=611,xt.c=556,xt.d=611,xt.e=556,xt.f=333,xt.g=611,xt.h=611,xt.i=278,xt.j=278,xt.k=556,xt.l=278,xt.m=889,xt.n=611,xt.o=611,xt.p=611,xt.q=611,xt.r=389,xt.s=556,xt.t=333,xt.u=611,xt.v=556,xt.w=778,xt.x=556,xt.y=556,xt.z=500,xt.braceleft=389,xt.bar=280,xt.braceright=389,xt.asciitilde=584,xt.exclamdown=333,xt.cent=556,xt.sterling=556,xt.fraction=167,xt.yen=556,xt.florin=556,xt.section=556,xt.currency=556,xt.quotesingle=238,xt.quotedblleft=500,xt.guillemotleft=556,xt.guilsinglleft=333,xt.guilsinglright=333,xt.fi=611,xt.fl=611,xt.endash=556,xt.dagger=556,xt.daggerdbl=556,xt.periodcentered=278,xt.paragraph=556,xt.bullet=350,xt.quotesinglbase=278,xt.quotedblbase=500,xt.quotedblright=500,xt.guillemotright=556,xt.ellipsis=1e3,xt.perthousand=1e3,xt.questiondown=611,xt.grave=333,xt.acute=333,xt.circumflex=333,xt.tilde=333,xt.macron=333,xt.breve=333,xt.dotaccent=333,xt.dieresis=333,xt.ring=333,xt.cedilla=333,xt.hungarumlaut=333,xt.ogonek=333,xt.caron=333,xt.emdash=1e3,xt.AE=1e3,xt.ordfeminine=370,xt.Lslash=611,xt.Oslash=778,xt.OE=1e3,xt.ordmasculine=365,xt.ae=889,xt.dotlessi=278,xt.lslash=278,xt.oslash=611,xt.oe=944,xt.germandbls=611,xt.Idieresis=278,xt.eacute=556,xt.abreve=556,xt.uhungarumlaut=611,xt.ecaron=556,xt.Ydieresis=667,xt.divide=584,xt.Yacute=667,xt.Acircumflex=722,xt.aacute=556,xt.Ucircumflex=722,xt.yacute=556,xt.scommaaccent=556,xt.ecircumflex=556,xt.Uring=722,xt.Udieresis=722,xt.aogonek=556,xt.Uacute=722,xt.uogonek=611,xt.Edieresis=667,xt.Dcroat=722,xt.commaaccent=250,xt.copyright=737,xt.Emacron=667,xt.ccaron=556,xt.aring=556,xt.Ncommaaccent=722,xt.lacute=278,xt.agrave=556,xt.Tcommaaccent=611,xt.Cacute=722,xt.atilde=556,xt.Edotaccent=667,xt.scaron=556,xt.scedilla=556,xt.iacute=278,xt.lozenge=494,xt.Rcaron=722,xt.Gcommaaccent=778,xt.ucircumflex=611,xt.acircumflex=556,xt.Amacron=722,xt.rcaron=389,xt.ccedilla=556,xt.Zdotaccent=611,xt.Thorn=667,xt.Omacron=778,xt.Racute=722,xt.Sacute=667,xt.dcaron=743,xt.Umacron=722,xt.uring=611,xt.threesuperior=333,xt.Ograve=778,xt.Agrave=722,xt.Abreve=722,xt.multiply=584,xt.uacute=611,xt.Tcaron=611,xt.partialdiff=494,xt.ydieresis=556,xt.Nacute=722,xt.icircumflex=278,xt.Ecircumflex=667,xt.adieresis=556,xt.edieresis=556,xt.cacute=556,xt.nacute=611,xt.umacron=611,xt.Ncaron=722,xt.Iacute=278,xt.plusminus=584,xt.brokenbar=280,xt.registered=737,xt.Gbreve=778,xt.Idotaccent=278,xt.summation=600,xt.Egrave=667,xt.racute=389,xt.omacron=611,xt.Zacute=611,xt.Zcaron=611,xt.greaterequal=549,xt.Eth=722,xt.Ccedilla=722,xt.lcommaaccent=278,xt.tcaron=389,xt.eogonek=556,xt.Uogonek=722,xt.Aacute=722,xt.Adieresis=722,xt.egrave=556,xt.zacute=500,xt.iogonek=278,xt.Oacute=778,xt.oacute=611,xt.amacron=556,xt.sacute=556,xt.idieresis=278,xt.Ocircumflex=778,xt.Ugrave=722,xt.Delta=612,xt.thorn=611,xt.twosuperior=333,xt.Odieresis=778,xt.mu=611,xt.igrave=278,xt.ohungarumlaut=611,xt.Eogonek=667,xt.dcroat=611,xt.threequarters=834,xt.Scedilla=667,xt.lcaron=400,xt.Kcommaaccent=722,xt.Lacute=611,xt.trademark=1e3,xt.edotaccent=556,xt.Igrave=278,xt.Imacron=278,xt.Lcaron=611,xt.onehalf=834,xt.lessequal=549,xt.ocircumflex=611,xt.ntilde=611,xt.Uhungarumlaut=722,xt.Eacute=667,xt.emacron=556,xt.gbreve=611,xt.onequarter=834,xt.Scaron=667,xt.Scommaaccent=667,xt.Ohungarumlaut=778,xt.degree=400,xt.ograve=611,xt.Ccaron=722,xt.ugrave=611,xt.radical=549,xt.Dcaron=722,xt.rcommaaccent=389,xt.Ntilde=722,xt.otilde=611,xt.Rcommaaccent=722,xt.Lcommaaccent=611,xt.Atilde=722,xt.Aogonek=722,xt.Aring=722,xt.Otilde=778,xt.zdotaccent=500,xt.Ecaron=667,xt.Iogonek=278,xt.kcommaaccent=556,xt.minus=584,xt.Icircumflex=278,xt.ncaron=611,xt.tcommaaccent=333,xt.logicalnot=584,xt.odieresis=611,xt.udieresis=611,xt.notequal=549,xt.gcommaaccent=611,xt.eth=611,xt.zcaron=500,xt.ncommaaccent=611,xt.onesuperior=333,xt.imacron=278,xt.Euro=556}),Pt["Helvetica-Oblique"]=(0,vt.getLookupTableFactory)(function(xt){xt.space=278,xt.exclam=278,xt.quotedbl=355,xt.numbersign=556,xt.dollar=556,xt.percent=889,xt.ampersand=667,xt.quoteright=222,xt.parenleft=333,xt.parenright=333,xt.asterisk=389,xt.plus=584,xt.comma=278,xt.hyphen=333,xt.period=278,xt.slash=278,xt.zero=556,xt.one=556,xt.two=556,xt.three=556,xt.four=556,xt.five=556,xt.six=556,xt.seven=556,xt.eight=556,xt.nine=556,xt.colon=278,xt.semicolon=278,xt.less=584,xt.equal=584,xt.greater=584,xt.question=556,xt.at=1015,xt.A=667,xt.B=667,xt.C=722,xt.D=722,xt.E=667,xt.F=611,xt.G=778,xt.H=722,xt.I=278,xt.J=500,xt.K=667,xt.L=556,xt.M=833,xt.N=722,xt.O=778,xt.P=667,xt.Q=778,xt.R=722,xt.S=667,xt.T=611,xt.U=722,xt.V=667,xt.W=944,xt.X=667,xt.Y=667,xt.Z=611,xt.bracketleft=278,xt.backslash=278,xt.bracketright=278,xt.asciicircum=469,xt.underscore=556,xt.quoteleft=222,xt.a=556,xt.b=556,xt.c=500,xt.d=556,xt.e=556,xt.f=278,xt.g=556,xt.h=556,xt.i=222,xt.j=222,xt.k=500,xt.l=222,xt.m=833,xt.n=556,xt.o=556,xt.p=556,xt.q=556,xt.r=333,xt.s=500,xt.t=278,xt.u=556,xt.v=500,xt.w=722,xt.x=500,xt.y=500,xt.z=500,xt.braceleft=334,xt.bar=260,xt.braceright=334,xt.asciitilde=584,xt.exclamdown=333,xt.cent=556,xt.sterling=556,xt.fraction=167,xt.yen=556,xt.florin=556,xt.section=556,xt.currency=556,xt.quotesingle=191,xt.quotedblleft=333,xt.guillemotleft=556,xt.guilsinglleft=333,xt.guilsinglright=333,xt.fi=500,xt.fl=500,xt.endash=556,xt.dagger=556,xt.daggerdbl=556,xt.periodcentered=278,xt.paragraph=537,xt.bullet=350,xt.quotesinglbase=222,xt.quotedblbase=333,xt.quotedblright=333,xt.guillemotright=556,xt.ellipsis=1e3,xt.perthousand=1e3,xt.questiondown=611,xt.grave=333,xt.acute=333,xt.circumflex=333,xt.tilde=333,xt.macron=333,xt.breve=333,xt.dotaccent=333,xt.dieresis=333,xt.ring=333,xt.cedilla=333,xt.hungarumlaut=333,xt.ogonek=333,xt.caron=333,xt.emdash=1e3,xt.AE=1e3,xt.ordfeminine=370,xt.Lslash=556,xt.Oslash=778,xt.OE=1e3,xt.ordmasculine=365,xt.ae=889,xt.dotlessi=278,xt.lslash=222,xt.oslash=611,xt.oe=944,xt.germandbls=611,xt.Idieresis=278,xt.eacute=556,xt.abreve=556,xt.uhungarumlaut=556,xt.ecaron=556,xt.Ydieresis=667,xt.divide=584,xt.Yacute=667,xt.Acircumflex=667,xt.aacute=556,xt.Ucircumflex=722,xt.yacute=500,xt.scommaaccent=500,xt.ecircumflex=556,xt.Uring=722,xt.Udieresis=722,xt.aogonek=556,xt.Uacute=722,xt.uogonek=556,xt.Edieresis=667,xt.Dcroat=722,xt.commaaccent=250,xt.copyright=737,xt.Emacron=667,xt.ccaron=500,xt.aring=556,xt.Ncommaaccent=722,xt.lacute=222,xt.agrave=556,xt.Tcommaaccent=611,xt.Cacute=722,xt.atilde=556,xt.Edotaccent=667,xt.scaron=500,xt.scedilla=500,xt.iacute=278,xt.lozenge=471,xt.Rcaron=722,xt.Gcommaaccent=778,xt.ucircumflex=556,xt.acircumflex=556,xt.Amacron=667,xt.rcaron=333,xt.ccedilla=500,xt.Zdotaccent=611,xt.Thorn=667,xt.Omacron=778,xt.Racute=722,xt.Sacute=667,xt.dcaron=643,xt.Umacron=722,xt.uring=556,xt.threesuperior=333,xt.Ograve=778,xt.Agrave=667,xt.Abreve=667,xt.multiply=584,xt.uacute=556,xt.Tcaron=611,xt.partialdiff=476,xt.ydieresis=500,xt.Nacute=722,xt.icircumflex=278,xt.Ecircumflex=667,xt.adieresis=556,xt.edieresis=556,xt.cacute=500,xt.nacute=556,xt.umacron=556,xt.Ncaron=722,xt.Iacute=278,xt.plusminus=584,xt.brokenbar=260,xt.registered=737,xt.Gbreve=778,xt.Idotaccent=278,xt.summation=600,xt.Egrave=667,xt.racute=333,xt.omacron=556,xt.Zacute=611,xt.Zcaron=611,xt.greaterequal=549,xt.Eth=722,xt.Ccedilla=722,xt.lcommaaccent=222,xt.tcaron=317,xt.eogonek=556,xt.Uogonek=722,xt.Aacute=667,xt.Adieresis=667,xt.egrave=556,xt.zacute=500,xt.iogonek=222,xt.Oacute=778,xt.oacute=556,xt.amacron=556,xt.sacute=500,xt.idieresis=278,xt.Ocircumflex=778,xt.Ugrave=722,xt.Delta=612,xt.thorn=556,xt.twosuperior=333,xt.Odieresis=778,xt.mu=556,xt.igrave=278,xt.ohungarumlaut=556,xt.Eogonek=667,xt.dcroat=556,xt.threequarters=834,xt.Scedilla=667,xt.lcaron=299,xt.Kcommaaccent=667,xt.Lacute=556,xt.trademark=1e3,xt.edotaccent=556,xt.Igrave=278,xt.Imacron=278,xt.Lcaron=556,xt.onehalf=834,xt.lessequal=549,xt.ocircumflex=556,xt.ntilde=556,xt.Uhungarumlaut=722,xt.Eacute=667,xt.emacron=556,xt.gbreve=556,xt.onequarter=834,xt.Scaron=667,xt.Scommaaccent=667,xt.Ohungarumlaut=778,xt.degree=400,xt.ograve=556,xt.Ccaron=722,xt.ugrave=556,xt.radical=453,xt.Dcaron=722,xt.rcommaaccent=333,xt.Ntilde=722,xt.otilde=556,xt.Rcommaaccent=722,xt.Lcommaaccent=556,xt.Atilde=667,xt.Aogonek=667,xt.Aring=667,xt.Otilde=778,xt.zdotaccent=500,xt.Ecaron=667,xt.Iogonek=278,xt.kcommaaccent=500,xt.minus=584,xt.Icircumflex=278,xt.ncaron=556,xt.tcommaaccent=278,xt.logicalnot=584,xt.odieresis=556,xt.udieresis=556,xt.notequal=549,xt.gcommaaccent=556,xt.eth=556,xt.zcaron=500,xt.ncommaaccent=556,xt.onesuperior=333,xt.imacron=278,xt.Euro=556}),Pt.Symbol=(0,vt.getLookupTableFactory)(function(xt){xt.space=250,xt.exclam=333,xt.universal=713,xt.numbersign=500,xt.existential=549,xt.percent=833,xt.ampersand=778,xt.suchthat=439,xt.parenleft=333,xt.parenright=333,xt.asteriskmath=500,xt.plus=549,xt.comma=250,xt.minus=549,xt.period=250,xt.slash=278,xt.zero=500,xt.one=500,xt.two=500,xt.three=500,xt.four=500,xt.five=500,xt.six=500,xt.seven=500,xt.eight=500,xt.nine=500,xt.colon=278,xt.semicolon=278,xt.less=549,xt.equal=549,xt.greater=549,xt.question=444,xt.congruent=549,xt.Alpha=722,xt.Beta=667,xt.Chi=722,xt.Delta=612,xt.Epsilon=611,xt.Phi=763,xt.Gamma=603,xt.Eta=722,xt.Iota=333,xt.theta1=631,xt.Kappa=722,xt.Lambda=686,xt.Mu=889,xt.Nu=722,xt.Omicron=722,xt.Pi=768,xt.Theta=741,xt.Rho=556,xt.Sigma=592,xt.Tau=611,xt.Upsilon=690,xt.sigma1=439,xt.Omega=768,xt.Xi=645,xt.Psi=795,xt.Zeta=611,xt.bracketleft=333,xt.therefore=863,xt.bracketright=333,xt.perpendicular=658,xt.underscore=500,xt.radicalex=500,xt.alpha=631,xt.beta=549,xt.chi=549,xt.delta=494,xt.epsilon=439,xt.phi=521,xt.gamma=411,xt.eta=603,xt.iota=329,xt.phi1=603,xt.kappa=549,xt.lambda=549,xt.mu=576,xt.nu=521,xt.omicron=549,xt.pi=549,xt.theta=521,xt.rho=549,xt.sigma=603,xt.tau=439,xt.upsilon=576,xt.omega1=713,xt.omega=686,xt.xi=493,xt.psi=686,xt.zeta=494,xt.braceleft=480,xt.bar=200,xt.braceright=480,xt.similar=549,xt.Euro=750,xt.Upsilon1=620,xt.minute=247,xt.lessequal=549,xt.fraction=167,xt.infinity=713,xt.florin=500,xt.club=753,xt.diamond=753,xt.heart=753,xt.spade=753,xt.arrowboth=1042,xt.arrowleft=987,xt.arrowup=603,xt.arrowright=987,xt.arrowdown=603,xt.degree=400,xt.plusminus=549,xt.second=411,xt.greaterequal=549,xt.multiply=549,xt.proportional=713,xt.partialdiff=494,xt.bullet=460,xt.divide=549,xt.notequal=549,xt.equivalence=549,xt.approxequal=549,xt.ellipsis=1e3,xt.arrowvertex=603,xt.arrowhorizex=1e3,xt.carriagereturn=658,xt.aleph=823,xt.Ifraktur=686,xt.Rfraktur=795,xt.weierstrass=987,xt.circlemultiply=768,xt.circleplus=768,xt.emptyset=823,xt.intersection=768,xt.union=768,xt.propersuperset=713,xt.reflexsuperset=713,xt.notsubset=713,xt.propersubset=713,xt.reflexsubset=713,xt.element=713,xt.notelement=713,xt.angle=768,xt.gradient=713,xt.registerserif=790,xt.copyrightserif=790,xt.trademarkserif=890,xt.product=823,xt.radical=549,xt.dotmath=250,xt.logicalnot=713,xt.logicaland=603,xt.logicalor=603,xt.arrowdblboth=1042,xt.arrowdblleft=987,xt.arrowdblup=603,xt.arrowdblright=987,xt.arrowdbldown=603,xt.lozenge=494,xt.angleleft=329,xt.registersans=790,xt.copyrightsans=790,xt.trademarksans=786,xt.summation=713,xt.parenlefttp=384,xt.parenleftex=384,xt.parenleftbt=384,xt.bracketlefttp=384,xt.bracketleftex=384,xt.bracketleftbt=384,xt.bracelefttp=494,xt.braceleftmid=494,xt.braceleftbt=494,xt.braceex=494,xt.angleright=329,xt.integral=274,xt.integraltp=686,xt.integralex=686,xt.integralbt=686,xt.parenrighttp=384,xt.parenrightex=384,xt.parenrightbt=384,xt.bracketrighttp=384,xt.bracketrightex=384,xt.bracketrightbt=384,xt.bracerighttp=494,xt.bracerightmid=494,xt.bracerightbt=494,xt.apple=790}),Pt["Times-Roman"]=(0,vt.getLookupTableFactory)(function(xt){xt.space=250,xt.exclam=333,xt.quotedbl=408,xt.numbersign=500,xt.dollar=500,xt.percent=833,xt.ampersand=778,xt.quoteright=333,xt.parenleft=333,xt.parenright=333,xt.asterisk=500,xt.plus=564,xt.comma=250,xt.hyphen=333,xt.period=250,xt.slash=278,xt.zero=500,xt.one=500,xt.two=500,xt.three=500,xt.four=500,xt.five=500,xt.six=500,xt.seven=500,xt.eight=500,xt.nine=500,xt.colon=278,xt.semicolon=278,xt.less=564,xt.equal=564,xt.greater=564,xt.question=444,xt.at=921,xt.A=722,xt.B=667,xt.C=667,xt.D=722,xt.E=611,xt.F=556,xt.G=722,xt.H=722,xt.I=333,xt.J=389,xt.K=722,xt.L=611,xt.M=889,xt.N=722,xt.O=722,xt.P=556,xt.Q=722,xt.R=667,xt.S=556,xt.T=611,xt.U=722,xt.V=722,xt.W=944,xt.X=722,xt.Y=722,xt.Z=611,xt.bracketleft=333,xt.backslash=278,xt.bracketright=333,xt.asciicircum=469,xt.underscore=500,xt.quoteleft=333,xt.a=444,xt.b=500,xt.c=444,xt.d=500,xt.e=444,xt.f=333,xt.g=500,xt.h=500,xt.i=278,xt.j=278,xt.k=500,xt.l=278,xt.m=778,xt.n=500,xt.o=500,xt.p=500,xt.q=500,xt.r=333,xt.s=389,xt.t=278,xt.u=500,xt.v=500,xt.w=722,xt.x=500,xt.y=500,xt.z=444,xt.braceleft=480,xt.bar=200,xt.braceright=480,xt.asciitilde=541,xt.exclamdown=333,xt.cent=500,xt.sterling=500,xt.fraction=167,xt.yen=500,xt.florin=500,xt.section=500,xt.currency=500,xt.quotesingle=180,xt.quotedblleft=444,xt.guillemotleft=500,xt.guilsinglleft=333,xt.guilsinglright=333,xt.fi=556,xt.fl=556,xt.endash=500,xt.dagger=500,xt.daggerdbl=500,xt.periodcentered=250,xt.paragraph=453,xt.bullet=350,xt.quotesinglbase=333,xt.quotedblbase=444,xt.quotedblright=444,xt.guillemotright=500,xt.ellipsis=1e3,xt.perthousand=1e3,xt.questiondown=444,xt.grave=333,xt.acute=333,xt.circumflex=333,xt.tilde=333,xt.macron=333,xt.breve=333,xt.dotaccent=333,xt.dieresis=333,xt.ring=333,xt.cedilla=333,xt.hungarumlaut=333,xt.ogonek=333,xt.caron=333,xt.emdash=1e3,xt.AE=889,xt.ordfeminine=276,xt.Lslash=611,xt.Oslash=722,xt.OE=889,xt.ordmasculine=310,xt.ae=667,xt.dotlessi=278,xt.lslash=278,xt.oslash=500,xt.oe=722,xt.germandbls=500,xt.Idieresis=333,xt.eacute=444,xt.abreve=444,xt.uhungarumlaut=500,xt.ecaron=444,xt.Ydieresis=722,xt.divide=564,xt.Yacute=722,xt.Acircumflex=722,xt.aacute=444,xt.Ucircumflex=722,xt.yacute=500,xt.scommaaccent=389,xt.ecircumflex=444,xt.Uring=722,xt.Udieresis=722,xt.aogonek=444,xt.Uacute=722,xt.uogonek=500,xt.Edieresis=611,xt.Dcroat=722,xt.commaaccent=250,xt.copyright=760,xt.Emacron=611,xt.ccaron=444,xt.aring=444,xt.Ncommaaccent=722,xt.lacute=278,xt.agrave=444,xt.Tcommaaccent=611,xt.Cacute=667,xt.atilde=444,xt.Edotaccent=611,xt.scaron=389,xt.scedilla=389,xt.iacute=278,xt.lozenge=471,xt.Rcaron=667,xt.Gcommaaccent=722,xt.ucircumflex=500,xt.acircumflex=444,xt.Amacron=722,xt.rcaron=333,xt.ccedilla=444,xt.Zdotaccent=611,xt.Thorn=556,xt.Omacron=722,xt.Racute=667,xt.Sacute=556,xt.dcaron=588,xt.Umacron=722,xt.uring=500,xt.threesuperior=300,xt.Ograve=722,xt.Agrave=722,xt.Abreve=722,xt.multiply=564,xt.uacute=500,xt.Tcaron=611,xt.partialdiff=476,xt.ydieresis=500,xt.Nacute=722,xt.icircumflex=278,xt.Ecircumflex=611,xt.adieresis=444,xt.edieresis=444,xt.cacute=444,xt.nacute=500,xt.umacron=500,xt.Ncaron=722,xt.Iacute=333,xt.plusminus=564,xt.brokenbar=200,xt.registered=760,xt.Gbreve=722,xt.Idotaccent=333,xt.summation=600,xt.Egrave=611,xt.racute=333,xt.omacron=500,xt.Zacute=611,xt.Zcaron=611,xt.greaterequal=549,xt.Eth=722,xt.Ccedilla=667,xt.lcommaaccent=278,xt.tcaron=326,xt.eogonek=444,xt.Uogonek=722,xt.Aacute=722,xt.Adieresis=722,xt.egrave=444,xt.zacute=444,xt.iogonek=278,xt.Oacute=722,xt.oacute=500,xt.amacron=444,xt.sacute=389,xt.idieresis=278,xt.Ocircumflex=722,xt.Ugrave=722,xt.Delta=612,xt.thorn=500,xt.twosuperior=300,xt.Odieresis=722,xt.mu=500,xt.igrave=278,xt.ohungarumlaut=500,xt.Eogonek=611,xt.dcroat=500,xt.threequarters=750,xt.Scedilla=556,xt.lcaron=344,xt.Kcommaaccent=722,xt.Lacute=611,xt.trademark=980,xt.edotaccent=444,xt.Igrave=333,xt.Imacron=333,xt.Lcaron=611,xt.onehalf=750,xt.lessequal=549,xt.ocircumflex=500,xt.ntilde=500,xt.Uhungarumlaut=722,xt.Eacute=611,xt.emacron=444,xt.gbreve=500,xt.onequarter=750,xt.Scaron=556,xt.Scommaaccent=556,xt.Ohungarumlaut=722,xt.degree=400,xt.ograve=500,xt.Ccaron=667,xt.ugrave=500,xt.radical=453,xt.Dcaron=722,xt.rcommaaccent=333,xt.Ntilde=722,xt.otilde=500,xt.Rcommaaccent=667,xt.Lcommaaccent=611,xt.Atilde=722,xt.Aogonek=722,xt.Aring=722,xt.Otilde=722,xt.zdotaccent=444,xt.Ecaron=611,xt.Iogonek=333,xt.kcommaaccent=500,xt.minus=564,xt.Icircumflex=333,xt.ncaron=500,xt.tcommaaccent=278,xt.logicalnot=564,xt.odieresis=500,xt.udieresis=500,xt.notequal=549,xt.gcommaaccent=500,xt.eth=500,xt.zcaron=444,xt.ncommaaccent=500,xt.onesuperior=300,xt.imacron=278,xt.Euro=500}),Pt["Times-Bold"]=(0,vt.getLookupTableFactory)(function(xt){xt.space=250,xt.exclam=333,xt.quotedbl=555,xt.numbersign=500,xt.dollar=500,xt.percent=1e3,xt.ampersand=833,xt.quoteright=333,xt.parenleft=333,xt.parenright=333,xt.asterisk=500,xt.plus=570,xt.comma=250,xt.hyphen=333,xt.period=250,xt.slash=278,xt.zero=500,xt.one=500,xt.two=500,xt.three=500,xt.four=500,xt.five=500,xt.six=500,xt.seven=500,xt.eight=500,xt.nine=500,xt.colon=333,xt.semicolon=333,xt.less=570,xt.equal=570,xt.greater=570,xt.question=500,xt.at=930,xt.A=722,xt.B=667,xt.C=722,xt.D=722,xt.E=667,xt.F=611,xt.G=778,xt.H=778,xt.I=389,xt.J=500,xt.K=778,xt.L=667,xt.M=944,xt.N=722,xt.O=778,xt.P=611,xt.Q=778,xt.R=722,xt.S=556,xt.T=667,xt.U=722,xt.V=722,xt.W=1e3,xt.X=722,xt.Y=722,xt.Z=667,xt.bracketleft=333,xt.backslash=278,xt.bracketright=333,xt.asciicircum=581,xt.underscore=500,xt.quoteleft=333,xt.a=500,xt.b=556,xt.c=444,xt.d=556,xt.e=444,xt.f=333,xt.g=500,xt.h=556,xt.i=278,xt.j=333,xt.k=556,xt.l=278,xt.m=833,xt.n=556,xt.o=500,xt.p=556,xt.q=556,xt.r=444,xt.s=389,xt.t=333,xt.u=556,xt.v=500,xt.w=722,xt.x=500,xt.y=500,xt.z=444,xt.braceleft=394,xt.bar=220,xt.braceright=394,xt.asciitilde=520,xt.exclamdown=333,xt.cent=500,xt.sterling=500,xt.fraction=167,xt.yen=500,xt.florin=500,xt.section=500,xt.currency=500,xt.quotesingle=278,xt.quotedblleft=500,xt.guillemotleft=500,xt.guilsinglleft=333,xt.guilsinglright=333,xt.fi=556,xt.fl=556,xt.endash=500,xt.dagger=500,xt.daggerdbl=500,xt.periodcentered=250,xt.paragraph=540,xt.bullet=350,xt.quotesinglbase=333,xt.quotedblbase=500,xt.quotedblright=500,xt.guillemotright=500,xt.ellipsis=1e3,xt.perthousand=1e3,xt.questiondown=500,xt.grave=333,xt.acute=333,xt.circumflex=333,xt.tilde=333,xt.macron=333,xt.breve=333,xt.dotaccent=333,xt.dieresis=333,xt.ring=333,xt.cedilla=333,xt.hungarumlaut=333,xt.ogonek=333,xt.caron=333,xt.emdash=1e3,xt.AE=1e3,xt.ordfeminine=300,xt.Lslash=667,xt.Oslash=778,xt.OE=1e3,xt.ordmasculine=330,xt.ae=722,xt.dotlessi=278,xt.lslash=278,xt.oslash=500,xt.oe=722,xt.germandbls=556,xt.Idieresis=389,xt.eacute=444,xt.abreve=500,xt.uhungarumlaut=556,xt.ecaron=444,xt.Ydieresis=722,xt.divide=570,xt.Yacute=722,xt.Acircumflex=722,xt.aacute=500,xt.Ucircumflex=722,xt.yacute=500,xt.scommaaccent=389,xt.ecircumflex=444,xt.Uring=722,xt.Udieresis=722,xt.aogonek=500,xt.Uacute=722,xt.uogonek=556,xt.Edieresis=667,xt.Dcroat=722,xt.commaaccent=250,xt.copyright=747,xt.Emacron=667,xt.ccaron=444,xt.aring=500,xt.Ncommaaccent=722,xt.lacute=278,xt.agrave=500,xt.Tcommaaccent=667,xt.Cacute=722,xt.atilde=500,xt.Edotaccent=667,xt.scaron=389,xt.scedilla=389,xt.iacute=278,xt.lozenge=494,xt.Rcaron=722,xt.Gcommaaccent=778,xt.ucircumflex=556,xt.acircumflex=500,xt.Amacron=722,xt.rcaron=444,xt.ccedilla=444,xt.Zdotaccent=667,xt.Thorn=611,xt.Omacron=778,xt.Racute=722,xt.Sacute=556,xt.dcaron=672,xt.Umacron=722,xt.uring=556,xt.threesuperior=300,xt.Ograve=778,xt.Agrave=722,xt.Abreve=722,xt.multiply=570,xt.uacute=556,xt.Tcaron=667,xt.partialdiff=494,xt.ydieresis=500,xt.Nacute=722,xt.icircumflex=278,xt.Ecircumflex=667,xt.adieresis=500,xt.edieresis=444,xt.cacute=444,xt.nacute=556,xt.umacron=556,xt.Ncaron=722,xt.Iacute=389,xt.plusminus=570,xt.brokenbar=220,xt.registered=747,xt.Gbreve=778,xt.Idotaccent=389,xt.summation=600,xt.Egrave=667,xt.racute=444,xt.omacron=500,xt.Zacute=667,xt.Zcaron=667,xt.greaterequal=549,xt.Eth=722,xt.Ccedilla=722,xt.lcommaaccent=278,xt.tcaron=416,xt.eogonek=444,xt.Uogonek=722,xt.Aacute=722,xt.Adieresis=722,xt.egrave=444,xt.zacute=444,xt.iogonek=278,xt.Oacute=778,xt.oacute=500,xt.amacron=500,xt.sacute=389,xt.idieresis=278,xt.Ocircumflex=778,xt.Ugrave=722,xt.Delta=612,xt.thorn=556,xt.twosuperior=300,xt.Odieresis=778,xt.mu=556,xt.igrave=278,xt.ohungarumlaut=500,xt.Eogonek=667,xt.dcroat=556,xt.threequarters=750,xt.Scedilla=556,xt.lcaron=394,xt.Kcommaaccent=778,xt.Lacute=667,xt.trademark=1e3,xt.edotaccent=444,xt.Igrave=389,xt.Imacron=389,xt.Lcaron=667,xt.onehalf=750,xt.lessequal=549,xt.ocircumflex=500,xt.ntilde=556,xt.Uhungarumlaut=722,xt.Eacute=667,xt.emacron=444,xt.gbreve=500,xt.onequarter=750,xt.Scaron=556,xt.Scommaaccent=556,xt.Ohungarumlaut=778,xt.degree=400,xt.ograve=500,xt.Ccaron=722,xt.ugrave=556,xt.radical=549,xt.Dcaron=722,xt.rcommaaccent=444,xt.Ntilde=722,xt.otilde=500,xt.Rcommaaccent=722,xt.Lcommaaccent=667,xt.Atilde=722,xt.Aogonek=722,xt.Aring=722,xt.Otilde=778,xt.zdotaccent=444,xt.Ecaron=667,xt.Iogonek=389,xt.kcommaaccent=556,xt.minus=570,xt.Icircumflex=389,xt.ncaron=556,xt.tcommaaccent=333,xt.logicalnot=570,xt.odieresis=500,xt.udieresis=556,xt.notequal=549,xt.gcommaaccent=500,xt.eth=500,xt.zcaron=444,xt.ncommaaccent=556,xt.onesuperior=300,xt.imacron=278,xt.Euro=500}),Pt["Times-BoldItalic"]=(0,vt.getLookupTableFactory)(function(xt){xt.space=250,xt.exclam=389,xt.quotedbl=555,xt.numbersign=500,xt.dollar=500,xt.percent=833,xt.ampersand=778,xt.quoteright=333,xt.parenleft=333,xt.parenright=333,xt.asterisk=500,xt.plus=570,xt.comma=250,xt.hyphen=333,xt.period=250,xt.slash=278,xt.zero=500,xt.one=500,xt.two=500,xt.three=500,xt.four=500,xt.five=500,xt.six=500,xt.seven=500,xt.eight=500,xt.nine=500,xt.colon=333,xt.semicolon=333,xt.less=570,xt.equal=570,xt.greater=570,xt.question=500,xt.at=832,xt.A=667,xt.B=667,xt.C=667,xt.D=722,xt.E=667,xt.F=667,xt.G=722,xt.H=778,xt.I=389,xt.J=500,xt.K=667,xt.L=611,xt.M=889,xt.N=722,xt.O=722,xt.P=611,xt.Q=722,xt.R=667,xt.S=556,xt.T=611,xt.U=722,xt.V=667,xt.W=889,xt.X=667,xt.Y=611,xt.Z=611,xt.bracketleft=333,xt.backslash=278,xt.bracketright=333,xt.asciicircum=570,xt.underscore=500,xt.quoteleft=333,xt.a=500,xt.b=500,xt.c=444,xt.d=500,xt.e=444,xt.f=333,xt.g=500,xt.h=556,xt.i=278,xt.j=278,xt.k=500,xt.l=278,xt.m=778,xt.n=556,xt.o=500,xt.p=500,xt.q=500,xt.r=389,xt.s=389,xt.t=278,xt.u=556,xt.v=444,xt.w=667,xt.x=500,xt.y=444,xt.z=389,xt.braceleft=348,xt.bar=220,xt.braceright=348,xt.asciitilde=570,xt.exclamdown=389,xt.cent=500,xt.sterling=500,xt.fraction=167,xt.yen=500,xt.florin=500,xt.section=500,xt.currency=500,xt.quotesingle=278,xt.quotedblleft=500,xt.guillemotleft=500,xt.guilsinglleft=333,xt.guilsinglright=333,xt.fi=556,xt.fl=556,xt.endash=500,xt.dagger=500,xt.daggerdbl=500,xt.periodcentered=250,xt.paragraph=500,xt.bullet=350,xt.quotesinglbase=333,xt.quotedblbase=500,xt.quotedblright=500,xt.guillemotright=500,xt.ellipsis=1e3,xt.perthousand=1e3,xt.questiondown=500,xt.grave=333,xt.acute=333,xt.circumflex=333,xt.tilde=333,xt.macron=333,xt.breve=333,xt.dotaccent=333,xt.dieresis=333,xt.ring=333,xt.cedilla=333,xt.hungarumlaut=333,xt.ogonek=333,xt.caron=333,xt.emdash=1e3,xt.AE=944,xt.ordfeminine=266,xt.Lslash=611,xt.Oslash=722,xt.OE=944,xt.ordmasculine=300,xt.ae=722,xt.dotlessi=278,xt.lslash=278,xt.oslash=500,xt.oe=722,xt.germandbls=500,xt.Idieresis=389,xt.eacute=444,xt.abreve=500,xt.uhungarumlaut=556,xt.ecaron=444,xt.Ydieresis=611,xt.divide=570,xt.Yacute=611,xt.Acircumflex=667,xt.aacute=500,xt.Ucircumflex=722,xt.yacute=444,xt.scommaaccent=389,xt.ecircumflex=444,xt.Uring=722,xt.Udieresis=722,xt.aogonek=500,xt.Uacute=722,xt.uogonek=556,xt.Edieresis=667,xt.Dcroat=722,xt.commaaccent=250,xt.copyright=747,xt.Emacron=667,xt.ccaron=444,xt.aring=500,xt.Ncommaaccent=722,xt.lacute=278,xt.agrave=500,xt.Tcommaaccent=611,xt.Cacute=667,xt.atilde=500,xt.Edotaccent=667,xt.scaron=389,xt.scedilla=389,xt.iacute=278,xt.lozenge=494,xt.Rcaron=667,xt.Gcommaaccent=722,xt.ucircumflex=556,xt.acircumflex=500,xt.Amacron=667,xt.rcaron=389,xt.ccedilla=444,xt.Zdotaccent=611,xt.Thorn=611,xt.Omacron=722,xt.Racute=667,xt.Sacute=556,xt.dcaron=608,xt.Umacron=722,xt.uring=556,xt.threesuperior=300,xt.Ograve=722,xt.Agrave=667,xt.Abreve=667,xt.multiply=570,xt.uacute=556,xt.Tcaron=611,xt.partialdiff=494,xt.ydieresis=444,xt.Nacute=722,xt.icircumflex=278,xt.Ecircumflex=667,xt.adieresis=500,xt.edieresis=444,xt.cacute=444,xt.nacute=556,xt.umacron=556,xt.Ncaron=722,xt.Iacute=389,xt.plusminus=570,xt.brokenbar=220,xt.registered=747,xt.Gbreve=722,xt.Idotaccent=389,xt.summation=600,xt.Egrave=667,xt.racute=389,xt.omacron=500,xt.Zacute=611,xt.Zcaron=611,xt.greaterequal=549,xt.Eth=722,xt.Ccedilla=667,xt.lcommaaccent=278,xt.tcaron=366,xt.eogonek=444,xt.Uogonek=722,xt.Aacute=667,xt.Adieresis=667,xt.egrave=444,xt.zacute=389,xt.iogonek=278,xt.Oacute=722,xt.oacute=500,xt.amacron=500,xt.sacute=389,xt.idieresis=278,xt.Ocircumflex=722,xt.Ugrave=722,xt.Delta=612,xt.thorn=500,xt.twosuperior=300,xt.Odieresis=722,xt.mu=576,xt.igrave=278,xt.ohungarumlaut=500,xt.Eogonek=667,xt.dcroat=500,xt.threequarters=750,xt.Scedilla=556,xt.lcaron=382,xt.Kcommaaccent=667,xt.Lacute=611,xt.trademark=1e3,xt.edotaccent=444,xt.Igrave=389,xt.Imacron=389,xt.Lcaron=611,xt.onehalf=750,xt.lessequal=549,xt.ocircumflex=500,xt.ntilde=556,xt.Uhungarumlaut=722,xt.Eacute=667,xt.emacron=444,xt.gbreve=500,xt.onequarter=750,xt.Scaron=556,xt.Scommaaccent=556,xt.Ohungarumlaut=722,xt.degree=400,xt.ograve=500,xt.Ccaron=667,xt.ugrave=556,xt.radical=549,xt.Dcaron=722,xt.rcommaaccent=389,xt.Ntilde=722,xt.otilde=500,xt.Rcommaaccent=667,xt.Lcommaaccent=611,xt.Atilde=667,xt.Aogonek=667,xt.Aring=667,xt.Otilde=722,xt.zdotaccent=389,xt.Ecaron=667,xt.Iogonek=389,xt.kcommaaccent=500,xt.minus=606,xt.Icircumflex=389,xt.ncaron=556,xt.tcommaaccent=278,xt.logicalnot=606,xt.odieresis=500,xt.udieresis=556,xt.notequal=549,xt.gcommaaccent=500,xt.eth=500,xt.zcaron=389,xt.ncommaaccent=556,xt.onesuperior=300,xt.imacron=278,xt.Euro=500}),Pt["Times-Italic"]=(0,vt.getLookupTableFactory)(function(xt){xt.space=250,xt.exclam=333,xt.quotedbl=420,xt.numbersign=500,xt.dollar=500,xt.percent=833,xt.ampersand=778,xt.quoteright=333,xt.parenleft=333,xt.parenright=333,xt.asterisk=500,xt.plus=675,xt.comma=250,xt.hyphen=333,xt.period=250,xt.slash=278,xt.zero=500,xt.one=500,xt.two=500,xt.three=500,xt.four=500,xt.five=500,xt.six=500,xt.seven=500,xt.eight=500,xt.nine=500,xt.colon=333,xt.semicolon=333,xt.less=675,xt.equal=675,xt.greater=675,xt.question=500,xt.at=920,xt.A=611,xt.B=611,xt.C=667,xt.D=722,xt.E=611,xt.F=611,xt.G=722,xt.H=722,xt.I=333,xt.J=444,xt.K=667,xt.L=556,xt.M=833,xt.N=667,xt.O=722,xt.P=611,xt.Q=722,xt.R=611,xt.S=500,xt.T=556,xt.U=722,xt.V=611,xt.W=833,xt.X=611,xt.Y=556,xt.Z=556,xt.bracketleft=389,xt.backslash=278,xt.bracketright=389,xt.asciicircum=422,xt.underscore=500,xt.quoteleft=333,xt.a=500,xt.b=500,xt.c=444,xt.d=500,xt.e=444,xt.f=278,xt.g=500,xt.h=500,xt.i=278,xt.j=278,xt.k=444,xt.l=278,xt.m=722,xt.n=500,xt.o=500,xt.p=500,xt.q=500,xt.r=389,xt.s=389,xt.t=278,xt.u=500,xt.v=444,xt.w=667,xt.x=444,xt.y=444,xt.z=389,xt.braceleft=400,xt.bar=275,xt.braceright=400,xt.asciitilde=541,xt.exclamdown=389,xt.cent=500,xt.sterling=500,xt.fraction=167,xt.yen=500,xt.florin=500,xt.section=500,xt.currency=500,xt.quotesingle=214,xt.quotedblleft=556,xt.guillemotleft=500,xt.guilsinglleft=333,xt.guilsinglright=333,xt.fi=500,xt.fl=500,xt.endash=500,xt.dagger=500,xt.daggerdbl=500,xt.periodcentered=250,xt.paragraph=523,xt.bullet=350,xt.quotesinglbase=333,xt.quotedblbase=556,xt.quotedblright=556,xt.guillemotright=500,xt.ellipsis=889,xt.perthousand=1e3,xt.questiondown=500,xt.grave=333,xt.acute=333,xt.circumflex=333,xt.tilde=333,xt.macron=333,xt.breve=333,xt.dotaccent=333,xt.dieresis=333,xt.ring=333,xt.cedilla=333,xt.hungarumlaut=333,xt.ogonek=333,xt.caron=333,xt.emdash=889,xt.AE=889,xt.ordfeminine=276,xt.Lslash=556,xt.Oslash=722,xt.OE=944,xt.ordmasculine=310,xt.ae=667,xt.dotlessi=278,xt.lslash=278,xt.oslash=500,xt.oe=667,xt.germandbls=500,xt.Idieresis=333,xt.eacute=444,xt.abreve=500,xt.uhungarumlaut=500,xt.ecaron=444,xt.Ydieresis=556,xt.divide=675,xt.Yacute=556,xt.Acircumflex=611,xt.aacute=500,xt.Ucircumflex=722,xt.yacute=444,xt.scommaaccent=389,xt.ecircumflex=444,xt.Uring=722,xt.Udieresis=722,xt.aogonek=500,xt.Uacute=722,xt.uogonek=500,xt.Edieresis=611,xt.Dcroat=722,xt.commaaccent=250,xt.copyright=760,xt.Emacron=611,xt.ccaron=444,xt.aring=500,xt.Ncommaaccent=667,xt.lacute=278,xt.agrave=500,xt.Tcommaaccent=556,xt.Cacute=667,xt.atilde=500,xt.Edotaccent=611,xt.scaron=389,xt.scedilla=389,xt.iacute=278,xt.lozenge=471,xt.Rcaron=611,xt.Gcommaaccent=722,xt.ucircumflex=500,xt.acircumflex=500,xt.Amacron=611,xt.rcaron=389,xt.ccedilla=444,xt.Zdotaccent=556,xt.Thorn=611,xt.Omacron=722,xt.Racute=611,xt.Sacute=500,xt.dcaron=544,xt.Umacron=722,xt.uring=500,xt.threesuperior=300,xt.Ograve=722,xt.Agrave=611,xt.Abreve=611,xt.multiply=675,xt.uacute=500,xt.Tcaron=556,xt.partialdiff=476,xt.ydieresis=444,xt.Nacute=667,xt.icircumflex=278,xt.Ecircumflex=611,xt.adieresis=500,xt.edieresis=444,xt.cacute=444,xt.nacute=500,xt.umacron=500,xt.Ncaron=667,xt.Iacute=333,xt.plusminus=675,xt.brokenbar=275,xt.registered=760,xt.Gbreve=722,xt.Idotaccent=333,xt.summation=600,xt.Egrave=611,xt.racute=389,xt.omacron=500,xt.Zacute=556,xt.Zcaron=556,xt.greaterequal=549,xt.Eth=722,xt.Ccedilla=667,xt.lcommaaccent=278,xt.tcaron=300,xt.eogonek=444,xt.Uogonek=722,xt.Aacute=611,xt.Adieresis=611,xt.egrave=444,xt.zacute=389,xt.iogonek=278,xt.Oacute=722,xt.oacute=500,xt.amacron=500,xt.sacute=389,xt.idieresis=278,xt.Ocircumflex=722,xt.Ugrave=722,xt.Delta=612,xt.thorn=500,xt.twosuperior=300,xt.Odieresis=722,xt.mu=500,xt.igrave=278,xt.ohungarumlaut=500,xt.Eogonek=611,xt.dcroat=500,xt.threequarters=750,xt.Scedilla=500,xt.lcaron=300,xt.Kcommaaccent=667,xt.Lacute=556,xt.trademark=980,xt.edotaccent=444,xt.Igrave=333,xt.Imacron=333,xt.Lcaron=611,xt.onehalf=750,xt.lessequal=549,xt.ocircumflex=500,xt.ntilde=500,xt.Uhungarumlaut=722,xt.Eacute=611,xt.emacron=444,xt.gbreve=500,xt.onequarter=750,xt.Scaron=500,xt.Scommaaccent=500,xt.Ohungarumlaut=722,xt.degree=400,xt.ograve=500,xt.Ccaron=667,xt.ugrave=500,xt.radical=453,xt.Dcaron=722,xt.rcommaaccent=389,xt.Ntilde=667,xt.otilde=500,xt.Rcommaaccent=611,xt.Lcommaaccent=556,xt.Atilde=611,xt.Aogonek=611,xt.Aring=611,xt.Otilde=722,xt.zdotaccent=389,xt.Ecaron=611,xt.Iogonek=333,xt.kcommaaccent=444,xt.minus=675,xt.Icircumflex=333,xt.ncaron=500,xt.tcommaaccent=278,xt.logicalnot=675,xt.odieresis=500,xt.udieresis=500,xt.notequal=549,xt.gcommaaccent=500,xt.eth=500,xt.zcaron=389,xt.ncommaaccent=500,xt.onesuperior=300,xt.imacron=278,xt.Euro=500}),Pt.ZapfDingbats=(0,vt.getLookupTableFactory)(function(xt){xt.space=278,xt.a1=974,xt.a2=961,xt.a202=974,xt.a3=980,xt.a4=719,xt.a5=789,xt.a119=790,xt.a118=791,xt.a117=690,xt.a11=960,xt.a12=939,xt.a13=549,xt.a14=855,xt.a15=911,xt.a16=933,xt.a105=911,xt.a17=945,xt.a18=974,xt.a19=755,xt.a20=846,xt.a21=762,xt.a22=761,xt.a23=571,xt.a24=677,xt.a25=763,xt.a26=760,xt.a27=759,xt.a28=754,xt.a6=494,xt.a7=552,xt.a8=537,xt.a9=577,xt.a10=692,xt.a29=786,xt.a30=788,xt.a31=788,xt.a32=790,xt.a33=793,xt.a34=794,xt.a35=816,xt.a36=823,xt.a37=789,xt.a38=841,xt.a39=823,xt.a40=833,xt.a41=816,xt.a42=831,xt.a43=923,xt.a44=744,xt.a45=723,xt.a46=749,xt.a47=790,xt.a48=792,xt.a49=695,xt.a50=776,xt.a51=768,xt.a52=792,xt.a53=759,xt.a54=707,xt.a55=708,xt.a56=682,xt.a57=701,xt.a58=826,xt.a59=815,xt.a60=789,xt.a61=789,xt.a62=707,xt.a63=687,xt.a64=696,xt.a65=689,xt.a66=786,xt.a67=787,xt.a68=713,xt.a69=791,xt.a70=785,xt.a71=791,xt.a72=873,xt.a73=761,xt.a74=762,xt.a203=762,xt.a75=759,xt.a204=759,xt.a76=892,xt.a77=892,xt.a78=788,xt.a79=784,xt.a81=438,xt.a82=138,xt.a83=277,xt.a84=415,xt.a97=392,xt.a98=392,xt.a99=668,xt.a100=668,xt.a89=390,xt.a90=390,xt.a93=317,xt.a94=317,xt.a91=276,xt.a92=276,xt.a205=509,xt.a85=509,xt.a206=410,xt.a86=410,xt.a87=234,xt.a88=234,xt.a95=334,xt.a96=334,xt.a101=732,xt.a102=544,xt.a103=544,xt.a104=910,xt.a106=667,xt.a107=760,xt.a108=760,xt.a112=776,xt.a111=595,xt.a110=694,xt.a109=626,xt.a120=788,xt.a121=788,xt.a122=788,xt.a123=788,xt.a124=788,xt.a125=788,xt.a126=788,xt.a127=788,xt.a128=788,xt.a129=788,xt.a130=788,xt.a131=788,xt.a132=788,xt.a133=788,xt.a134=788,xt.a135=788,xt.a136=788,xt.a137=788,xt.a138=788,xt.a139=788,xt.a140=788,xt.a141=788,xt.a142=788,xt.a143=788,xt.a144=788,xt.a145=788,xt.a146=788,xt.a147=788,xt.a148=788,xt.a149=788,xt.a150=788,xt.a151=788,xt.a152=788,xt.a153=788,xt.a154=788,xt.a155=788,xt.a156=788,xt.a157=788,xt.a158=788,xt.a159=788,xt.a160=894,xt.a161=838,xt.a163=1016,xt.a164=458,xt.a196=748,xt.a165=924,xt.a192=748,xt.a166=918,xt.a167=927,xt.a168=928,xt.a169=928,xt.a170=834,xt.a171=873,xt.a172=828,xt.a173=924,xt.a162=924,xt.a174=917,xt.a175=930,xt.a176=931,xt.a177=463,xt.a178=883,xt.a179=836,xt.a193=836,xt.a180=867,xt.a199=867,xt.a181=696,xt.a200=696,xt.a182=874,xt.a201=874,xt.a183=760,xt.a184=946,xt.a197=771,xt.a185=865,xt.a194=771,xt.a198=888,xt.a186=967,xt.a195=888,xt.a187=831,xt.a188=873,xt.a189=927,xt.a190=970,xt.a191=918})});St.getMetrics=Et;const Mt=(0,vt.getLookupTableFactory)(function(Pt){Pt.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},Pt["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},Pt["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},Pt["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},Pt.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},Pt["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},Pt["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},Pt["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},Pt["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},Pt["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},Pt["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},Pt["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},Pt.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},Pt.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});St.getFontBasicMetrics=Mt},(Ct,St)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.GlyfTable=void 0;const Ft=1,vt=2,Et=4,Mt=8,Pt=16,xt=32,$t=64,_t=1,jt=2,Rt=8,Nt=32,Lt=64,kt=128,Bt=256;class Ht{constructor({glyfTable:sn,isGlyphLocationsLong:hn,locaTable:Qt,numGlyphs:qt}){this.glyphs=[];const nn=new DataView(Qt.buffer,Qt.byteOffset,Qt.byteLength),Ut=new DataView(sn.buffer,sn.byteOffset,sn.byteLength),zt=hn?4:2;let cn=hn?nn.getUint32(0):2*nn.getUint16(0),ln=0;for(let Kt=0;Kt<qt;Kt++){ln+=zt;const Jt=hn?nn.getUint32(ln):2*nn.getUint16(ln);if(Jt===cn){this.glyphs.push(new Ot({}));continue}const Yt=Ot.parse(cn,Ut);this.glyphs.push(Yt),cn=Jt}}getSize(){return this.glyphs.reduce((sn,hn)=>{const Qt=hn.getSize();return sn+(Qt+3&-4)},0)}write(){const sn=this.getSize(),hn=new DataView(new ArrayBuffer(sn)),Qt=sn>131070,qt=Qt?4:2,nn=new DataView(new ArrayBuffer((this.glyphs.length+1)*qt));Qt?nn.setUint32(0,0):nn.setUint16(0,0);let Ut=0,zt=0;for(const cn of this.glyphs)Ut+=cn.write(Ut,hn),Ut=Ut+3&-4,zt+=qt,Qt?nn.setUint32(zt,Ut):nn.setUint16(zt,Ut>>1);return{isLocationLong:Qt,loca:new Uint8Array(nn.buffer),glyf:new Uint8Array(hn.buffer)}}scale(sn){for(let hn=0,Qt=this.glyphs.length;hn<Qt;hn++)this.glyphs[hn].scale(sn[hn])}}St.GlyfTable=Ht;class Ot{constructor({header:sn=null,simple:hn=null,composites:Qt=null}){this.header=sn,this.simple=hn,this.composites=Qt}static parse(sn,hn){const[Qt,qt]=Vt.parse(sn,hn);if(sn+=Qt,qt.numberOfContours<0){const Ut=[];for(;;){const[zt,cn]=en.parse(sn,hn);if(sn+=zt,Ut.push(cn),!(cn.flags&Nt))break}return new Ot({header:qt,composites:Ut})}const nn=Wt.parse(sn,hn,qt.numberOfContours);return new Ot({header:qt,simple:nn})}getSize(){if(!this.header)return 0;const sn=this.simple?this.simple.getSize():this.composites.reduce((hn,Qt)=>hn+Qt.getSize(),0);return this.header.getSize()+sn}write(sn,hn){if(!this.header)return 0;const Qt=sn;if(sn+=this.header.write(sn,hn),this.simple)sn+=this.simple.write(sn,hn);else for(const qt of this.composites)sn+=qt.write(sn,hn);return sn-Qt}scale(sn){if(!this.header)return;const hn=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(hn,sn),this.simple)this.simple.scale(hn,sn);else for(const Qt of this.composites)Qt.scale(hn,sn)}}class Vt{constructor({numberOfContours:sn,xMin:hn,yMin:Qt,xMax:qt,yMax:nn}){this.numberOfContours=sn,this.xMin=hn,this.yMin=Qt,this.xMax=qt,this.yMax=nn}static parse(sn,hn){return[10,new Vt({numberOfContours:hn.getInt16(sn),xMin:hn.getInt16(sn+2),yMin:hn.getInt16(sn+4),xMax:hn.getInt16(sn+6),yMax:hn.getInt16(sn+8)})]}getSize(){return 10}write(sn,hn){return hn.setInt16(sn,this.numberOfContours),hn.setInt16(sn+2,this.xMin),hn.setInt16(sn+4,this.yMin),hn.setInt16(sn+6,this.xMax),hn.setInt16(sn+8,this.yMax),10}scale(sn,hn){this.xMin=Math.round(sn+(this.xMin-sn)*hn),this.xMax=Math.round(sn+(this.xMax-sn)*hn)}}class Gt{constructor({flags:sn,xCoordinates:hn,yCoordinates:Qt}){this.xCoordinates=hn,this.yCoordinates=Qt,this.flags=sn}}class Wt{constructor({contours:sn,instructions:hn}){this.contours=sn,this.instructions=hn}static parse(sn,hn,Qt){const qt=[];for(let xn=0;xn<Qt;xn++){const rn=hn.getUint16(sn);sn+=2,qt.push(rn)}const nn=qt[Qt-1]+1,Ut=hn.getUint16(sn);sn+=2;const zt=new Uint8Array(hn).slice(sn,sn+Ut);sn+=Ut;const cn=[];for(let xn=0;xn<nn;sn++,xn++){let rn=hn.getUint8(sn);if(cn.push(rn),rn&Mt){const dn=hn.getUint8(++sn);rn^=Mt;for(let An=0;An<dn;An++)cn.push(rn);xn+=dn}}const ln=[];let Kt=[],Jt=[],Yt=[];const tn=[];let un=0,yn=0;for(let xn=0;xn<nn;xn++){const rn=cn[xn];if(rn&vt){const dn=hn.getUint8(sn++);yn+=rn&Pt?dn:-dn,Kt.push(yn)}else rn&Pt||(yn+=hn.getInt16(sn),sn+=2),Kt.push(yn);qt[un]===xn&&(un++,ln.push(Kt),Kt=[])}yn=0,un=0;for(let xn=0;xn<nn;xn++){const rn=cn[xn];if(rn&Et){const dn=hn.getUint8(sn++);yn+=rn&xt?dn:-dn,Jt.push(yn)}else rn&xt||(yn+=hn.getInt16(sn),sn+=2),Jt.push(yn);Yt.push(rn&Ft|rn&$t),qt[un]===xn&&(Kt=ln[un],un++,tn.push(new Gt({flags:Yt,xCoordinates:Kt,yCoordinates:Jt})),Jt=[],Yt=[])}return new Wt({contours:tn,instructions:zt})}getSize(){let sn=this.contours.length*2+2+this.instructions.length,hn=0,Qt=0;for(const qt of this.contours){sn+=qt.flags.length;for(let nn=0,Ut=qt.xCoordinates.length;nn<Ut;nn++){const zt=qt.xCoordinates[nn],cn=qt.yCoordinates[nn];let ln=Math.abs(zt-hn);ln>255?sn+=2:ln>0&&(sn+=1),hn=zt,ln=Math.abs(cn-Qt),ln>255?sn+=2:ln>0&&(sn+=1),Qt=cn}}return sn}write(sn,hn){const Qt=sn,qt=[],nn=[],Ut=[];let zt=0,cn=0;for(const ln of this.contours){for(let Kt=0,Jt=ln.xCoordinates.length;Kt<Jt;Kt++){let Yt=ln.flags[Kt];const tn=ln.xCoordinates[Kt];let un=tn-zt;if(un===0)Yt|=Pt,qt.push(0);else{const xn=Math.abs(un);xn<=255?(Yt|=un>=0?vt|Pt:vt,qt.push(xn)):qt.push(un)}zt=tn;const yn=ln.yCoordinates[Kt];if(un=yn-cn,un===0)Yt|=xt,nn.push(0);else{const xn=Math.abs(un);xn<=255?(Yt|=un>=0?Et|xt:Et,nn.push(xn)):nn.push(un)}cn=yn,Ut.push(Yt)}hn.setUint16(sn,qt.length-1),sn+=2}hn.setUint16(sn,this.instructions.length),sn+=2,this.instructions.length&&(new Uint8Array(hn.buffer,0,hn.buffer.byteLength).set(this.instructions,sn),sn+=this.instructions.length);for(const ln of Ut)hn.setUint8(sn++,ln);for(let ln=0,Kt=qt.length;ln<Kt;ln++){const Jt=qt[ln],Yt=Ut[ln];Yt&vt?hn.setUint8(sn++,Jt):Yt&Pt||(hn.setInt16(sn,Jt),sn+=2)}for(let ln=0,Kt=nn.length;ln<Kt;ln++){const Jt=nn[ln],Yt=Ut[ln];Yt&Et?hn.setUint8(sn++,Jt):Yt&xt||(hn.setInt16(sn,Jt),sn+=2)}return sn-Qt}scale(sn,hn){for(const Qt of this.contours)if(Qt.xCoordinates.length!==0)for(let qt=0,nn=Qt.xCoordinates.length;qt<nn;qt++)Qt.xCoordinates[qt]=Math.round(sn+(Qt.xCoordinates[qt]-sn)*hn)}}class en{constructor({flags:sn,glyphIndex:hn,argument1:Qt,argument2:qt,transf:nn,instructions:Ut}){this.flags=sn,this.glyphIndex=hn,this.argument1=Qt,this.argument2=qt,this.transf=nn,this.instructions=Ut}static parse(sn,hn){const Qt=sn,qt=[];let nn=hn.getUint16(sn);const Ut=hn.getUint16(sn+2);sn+=4;let zt,cn;nn&_t?(nn&jt?(zt=hn.getInt16(sn),cn=hn.getInt16(sn+2)):(zt=hn.getUint16(sn),cn=hn.getUint16(sn+2)),sn+=4,nn^=_t):(nn&jt?(zt=hn.getInt8(sn),cn=hn.getInt8(sn+1)):(zt=hn.getUint8(sn),cn=hn.getUint8(sn+1)),sn+=2),nn&Rt?(qt.push(hn.getUint16(sn)),sn+=2):nn&Lt?(qt.push(hn.getUint16(sn),hn.getUint16(sn+2)),sn+=4):nn&kt&&(qt.push(hn.getUint16(sn),hn.getUint16(sn+2),hn.getUint16(sn+4),hn.getUint16(sn+6)),sn+=8);let ln=null;if(nn&Bt){const Kt=hn.getUint16(sn);sn+=2,ln=new Uint8Array(hn).slice(sn,sn+Kt),sn+=Kt}return[sn-Qt,new en({flags:nn,glyphIndex:Ut,argument1:zt,argument2:cn,transf:qt,instructions:ln})]}getSize(){let sn=4+this.transf.length*2;return this.flags&Bt&&(sn+=2+this.instructions.length),sn+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(sn+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(sn+=2),sn}write(sn,hn){const Qt=sn;return this.flags&jt?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=_t):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=_t),hn.setUint16(sn,this.flags),hn.setUint16(sn+2,this.glyphIndex),sn+=4,this.flags&_t?(this.flags&jt?(hn.setInt16(sn,this.argument1),hn.setInt16(sn+2,this.argument2)):(hn.setUint16(sn,this.argument1),hn.setUint16(sn+2,this.argument2)),sn+=4):(hn.setUint8(sn,this.argument1),hn.setUint8(sn+1,this.argument2),sn+=2),this.flags&Bt&&(hn.setUint16(sn,this.instructions.length),sn+=2,this.instructions.length&&(new Uint8Array(hn.buffer,0,hn.buffer.byteLength).set(this.instructions,sn),sn+=this.instructions.length)),sn-Qt}scale(sn,hn){}}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.OpenTypeFileBuilder=void 0;var vt=Ft(6),Et=Ft(2);function Mt(Rt,Nt,Lt){Rt[Nt]=Lt>>8&255,Rt[Nt+1]=Lt&255}function Pt(Rt,Nt,Lt){Rt[Nt]=Lt>>24&255,Rt[Nt+1]=Lt>>16&255,Rt[Nt+2]=Lt>>8&255,Rt[Nt+3]=Lt&255}function xt(Rt,Nt,Lt){if(Lt instanceof Uint8Array)Rt.set(Lt,Nt);else if(typeof Lt=="string")for(let kt=0,Bt=Lt.length;kt<Bt;kt++)Rt[Nt++]=Lt.charCodeAt(kt)&255;else for(let kt=0,Bt=Lt.length;kt<Bt;kt++)Rt[Nt++]=Lt[kt]&255}const $t=12,_t=16;class jt{constructor(Nt){this.sfnt=Nt,this.tables=Object.create(null)}static getSearchParams(Nt,Lt){let kt=1,Bt=0;for(;(kt^Nt)>kt;)kt<<=1,Bt++;const Ht=kt*Lt;return{range:Ht,entry:Bt,rangeShift:Lt*Nt-Ht}}toArray(){let Nt=this.sfnt;const Lt=this.tables,kt=Object.keys(Lt);kt.sort();const Bt=kt.length;let Ht,Ot,Vt,Gt,Wt,en=$t+Bt*_t;const Sn=[en];for(Ht=0;Ht<Bt;Ht++){Gt=Lt[kt[Ht]];const Qt=(Gt.length+3&-4)>>>0;en+=Qt,Sn.push(en)}const sn=new Uint8Array(en);for(Ht=0;Ht<Bt;Ht++)Gt=Lt[kt[Ht]],xt(sn,Sn[Ht],Gt);Nt==="true"&&(Nt=(0,Et.string32)(65536)),sn[0]=Nt.charCodeAt(0)&255,sn[1]=Nt.charCodeAt(1)&255,sn[2]=Nt.charCodeAt(2)&255,sn[3]=Nt.charCodeAt(3)&255,Mt(sn,4,Bt);const hn=jt.getSearchParams(Bt,16);for(Mt(sn,6,hn.range),Mt(sn,8,hn.entry),Mt(sn,10,hn.rangeShift),en=$t,Ht=0;Ht<Bt;Ht++){Wt=kt[Ht],sn[en]=Wt.charCodeAt(0)&255,sn[en+1]=Wt.charCodeAt(1)&255,sn[en+2]=Wt.charCodeAt(2)&255,sn[en+3]=Wt.charCodeAt(3)&255;let Qt=0;for(Ot=Sn[Ht],Vt=Sn[Ht+1];Ot<Vt;Ot+=4){const qt=(0,vt.readUint32)(sn,Ot);Qt=Qt+qt>>>0}Pt(sn,en+4,Qt),Pt(sn,en+8,Sn[Ht]),Pt(sn,en+12,Lt[Wt].length),en+=_t}return sn}addTable(Nt,Lt){if(Nt in this.tables)throw new Error("Table "+Nt+" already exists");this.tables[Nt]=Lt}}St.OpenTypeFileBuilder=jt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.Type1Font=void 0;var vt=Ft(35),Et=Ft(38),Mt=Ft(6),Pt=Ft(10),xt=Ft(49),$t=Ft(2);function _t(Lt,kt,Bt){const Ht=Lt.length,Ot=kt.length,Vt=Ht-Ot;let Gt=Bt,Wt=!1;for(;Gt<Vt;){let en=0;for(;en<Ot&&Lt[Gt+en]===kt[en];)en++;if(en>=Ot){for(Gt+=en;Gt<Ht&&(0,Mt.isWhiteSpace)(Lt[Gt]);)Gt++;Wt=!0;break}Gt++}return{found:Wt,length:Gt}}function jt(Lt,kt){const Bt=[101,101,120,101,99],Ht=Lt.pos;let Ot,Vt,Gt;try{Ot=Lt.getBytes(kt),Vt=Ot.length}catch{}if(Vt===kt&&(Gt=_t(Ot,Bt,kt-2*Bt.length),Gt.found&&Gt.length===kt))return{stream:new Pt.Stream(Ot),length:kt};(0,$t.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),Lt.pos=Ht;const Wt=2048;let en;for(;;){const Sn=Lt.peekBytes(Wt);if(Gt=_t(Sn,Bt,0),Gt.length===0)break;if(Lt.pos+=Gt.length,Gt.found){en=Lt.pos-Ht;break}}return Lt.pos=Ht,en?{stream:new Pt.Stream(Lt.getBytes(en)),length:en}:((0,$t.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new Pt.Stream(Lt.getBytes(kt)),length:kt})}function Rt(Lt,kt){const Bt=Lt.getBytes();return{stream:new Pt.Stream(Bt),length:Bt.length}}class Nt{constructor(kt,Bt,Ht){let Vt=Ht.length1;Ht.length2;let Gt=Bt.peekBytes(6);const Wt=Gt[0]===128&&Gt[1]===1;Wt&&(Bt.skip(6),Vt=Gt[5]<<24|Gt[4]<<16|Gt[3]<<8|Gt[2]);const en=jt(Bt,Vt);new xt.Type1Parser(en.stream,!1,Et.SEAC_ANALYSIS_ENABLED).extractFontHeader(Ht),Wt&&(Gt=Bt.getBytes(6),Gt[5]<<24|Gt[4]<<16|Gt[3]<<8|Gt[2]);const sn=Rt(Bt),Qt=new xt.Type1Parser(sn.stream,!0,Et.SEAC_ANALYSIS_ENABLED).extractFontProgram(Ht);for(const zt in Qt.properties)Ht[zt]=Qt.properties[zt];const qt=Qt.charstrings,nn=this.getType2Charstrings(qt),Ut=this.getType2Subrs(Qt.subrs);this.charstrings=qt,this.data=this.wrap(kt,nn,this.charstrings,Ut,Ht),this.seacs=this.getSeacs(Qt.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const kt=[".notdef"];for(const{glyphName:Bt}of this.charstrings)kt.push(Bt);return kt}getGlyphMapping(kt){const Bt=this.charstrings;if(kt.composite){const Wt=Object.create(null);for(let en=0,Sn=Bt.length;en<Sn;en++){const sn=kt.cMap.charCodeOf(en);Wt[sn]=en+1}return Wt}const Ht=[".notdef"];let Ot,Vt;for(Vt=0;Vt<Bt.length;Vt++)Ht.push(Bt[Vt].glyphName);const Gt=kt.builtInEncoding;if(Gt){Ot=Object.create(null);for(const Wt in Gt)Vt=Ht.indexOf(Gt[Wt]),Vt>=0&&(Ot[Wt]=Vt)}return(0,Et.type1FontGlyphMapping)(kt,Ot,Ht)}hasGlyphId(kt){return kt<0||kt>=this.numGlyphs?!1:kt===0?!0:this.charstrings[kt-1].charstring.length>0}getSeacs(kt){const Bt=[];for(let Ht=0,Ot=kt.length;Ht<Ot;Ht++){const Vt=kt[Ht];Vt.seac&&(Bt[Ht+1]=Vt.seac)}return Bt}getType2Charstrings(kt){const Bt=[];for(let Ht=0,Ot=kt.length;Ht<Ot;Ht++)Bt.push(kt[Ht].charstring);return Bt}getType2Subrs(kt){let Bt=0;const Ht=kt.length;Ht<1133?Bt=107:Ht<33769?Bt=1131:Bt=32768;const Ot=[];let Vt;for(Vt=0;Vt<Bt;Vt++)Ot.push([11]);for(Vt=0;Vt<Ht;Vt++)Ot.push(kt[Vt]);return Ot}wrap(kt,Bt,Ht,Ot,Vt){const Gt=new vt.CFF;Gt.header=new vt.CFFHeader(1,0,4,4),Gt.names=[kt];const Wt=new vt.CFFTopDict;Wt.setByName("version",391),Wt.setByName("Notice",392),Wt.setByName("FullName",393),Wt.setByName("FamilyName",394),Wt.setByName("Weight",395),Wt.setByName("Encoding",null),Wt.setByName("FontMatrix",Vt.fontMatrix),Wt.setByName("FontBBox",Vt.bbox),Wt.setByName("charset",null),Wt.setByName("CharStrings",null),Wt.setByName("Private",null),Gt.topDict=Wt;const en=new vt.CFFStrings;en.add("Version 0.11"),en.add("See original notice"),en.add(kt),en.add(kt),en.add("Medium"),Gt.strings=en,Gt.globalSubrIndex=new vt.CFFIndex;const Sn=Bt.length,sn=[".notdef"];let hn,Qt;for(hn=0;hn<Sn;hn++){const ln=Ht[hn].glyphName;vt.CFFStandardStrings.indexOf(ln)===-1&&en.add(ln),sn.push(ln)}Gt.charset=new vt.CFFCharset(!1,0,sn);const qt=new vt.CFFIndex;for(qt.add([139,14]),hn=0;hn<Sn;hn++)qt.add(Bt[hn]);Gt.charStrings=qt;const nn=new vt.CFFPrivateDict;nn.setByName("Subrs",null);const Ut=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(hn=0,Qt=Ut.length;hn<Qt;hn++){const ln=Ut[hn];if(!(ln in Vt.privateData))continue;const Kt=Vt.privateData[ln];if(Array.isArray(Kt))for(let Jt=Kt.length-1;Jt>0;Jt--)Kt[Jt]-=Kt[Jt-1];nn.setByName(ln,Kt)}Gt.topDict.privateDict=nn;const zt=new vt.CFFIndex;for(hn=0,Qt=Ot.length;hn<Qt;hn++)zt.add(Ot[hn]);return nn.subrsIndex=zt,new vt.CFFCompiler(Gt).compile()}}St.Type1Font=Nt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.Type1Parser=void 0;var vt=Ft(37),Et=Ft(6),Mt=Ft(10),Pt=Ft(2);const xt=!1,$t={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class _t{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(Vt,Gt,Wt){const en=Vt.length;let Sn=!1,sn,hn,Qt;for(let qt=0;qt<en;qt++){let nn=Vt[qt];if(nn<32){switch(nn===12&&(nn=(nn<<8)+Vt[++qt]),nn){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){Sn=!0;break}const Kt=this.stack.pop();this.stack.push(0,Kt);break}Sn=this.executeCommand(1,$t.vmoveto);break;case 5:Sn=this.executeCommand(2,$t.rlineto);break;case 6:Sn=this.executeCommand(1,$t.hlineto);break;case 7:Sn=this.executeCommand(1,$t.vlineto);break;case 8:Sn=this.executeCommand(6,$t.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){Sn=!0;break}if(Qt=this.stack.pop(),!Gt[Qt]){Sn=!0;break}Sn=this.convert(Gt[Qt],Gt,Wt);break;case 11:return Sn;case 13:if(this.stack.length<2){Sn=!0;break}sn=this.stack.pop(),hn=this.stack.pop(),this.lsb=hn,this.width=sn,this.stack.push(sn,hn),Sn=this.executeCommand(2,$t.hmoveto);break;case 14:this.output.push($t.endchar[0]);break;case 21:if(this.flexing)break;Sn=this.executeCommand(2,$t.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}Sn=this.executeCommand(1,$t.hmoveto);break;case 30:Sn=this.executeCommand(4,$t.vhcurveto);break;case 31:Sn=this.executeCommand(4,$t.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(Wt){const Kt=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-Kt,Sn=this.executeCommand(0,$t.endchar)}else Sn=this.executeCommand(4,$t.endchar);break;case 3079:if(this.stack.length<4){Sn=!0;break}this.stack.pop(),sn=this.stack.pop();const Ut=this.stack.pop();hn=this.stack.pop(),this.lsb=hn,this.width=sn,this.stack.push(sn,hn,Ut),Sn=this.executeCommand(3,$t.rmoveto);break;case 3084:if(this.stack.length<2){Sn=!0;break}const zt=this.stack.pop(),cn=this.stack.pop();this.stack.push(cn/zt);break;case 3088:if(this.stack.length<2){Sn=!0;break}Qt=this.stack.pop();const ln=this.stack.pop();if(Qt===0&&ln===3){const Kt=this.stack.splice(this.stack.length-17,17);this.stack.push(Kt[2]+Kt[0],Kt[3]+Kt[1],Kt[4],Kt[5],Kt[6],Kt[7],Kt[8],Kt[9],Kt[10],Kt[11],Kt[12],Kt[13],Kt[14]),Sn=this.executeCommand(13,$t.flex,!0),this.flexing=!1,this.stack.push(Kt[15],Kt[16])}else Qt===1&&ln===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,Pt.warn)('Unknown type 1 charstring command of "'+nn+'"');break}if(Sn)break;continue}else nn<=246?nn-=139:nn<=250?nn=(nn-247)*256+Vt[++qt]+108:nn<=254?nn=-((nn-251)*256)-Vt[++qt]-108:nn=(Vt[++qt]&255)<<24|(Vt[++qt]&255)<<16|(Vt[++qt]&255)<<8|(Vt[++qt]&255)<<0;this.stack.push(nn)}return Sn}executeCommand(Vt,Gt,Wt){const en=this.stack.length;if(Vt>en)return!0;const Sn=en-Vt;for(let sn=Sn;sn<en;sn++){let hn=this.stack[sn];Number.isInteger(hn)?this.output.push(28,hn>>8&255,hn&255):(hn=65536*hn|0,this.output.push(255,hn>>24&255,hn>>16&255,hn>>8&255,hn&255))}return this.output.push(...Gt),Wt?this.stack.splice(Sn,Vt):this.stack.length=0,!1}}const jt=55665,Rt=4330;function Nt(Ot){return Ot>=48&&Ot<=57||Ot>=65&&Ot<=70||Ot>=97&&Ot<=102}function Lt(Ot,Vt,Gt){if(Gt>=Ot.length)return new Uint8Array(0);const Wt=52845,en=22719;let Sn=Vt|0,sn,hn;for(sn=0;sn<Gt;sn++)Sn=(Ot[sn]+Sn)*Wt+en&65535;const Qt=Ot.length-Gt,qt=new Uint8Array(Qt);for(sn=Gt,hn=0;hn<Qt;sn++,hn++){const nn=Ot[sn];qt[hn]=nn^Sn>>8,Sn=(nn+Sn)*Wt+en&65535}return qt}function kt(Ot,Vt,Gt){let Sn=Vt|0;const sn=Ot.length,hn=sn>>>1,Qt=new Uint8Array(hn);let qt,nn;for(qt=0,nn=0;qt<sn;qt++){const Ut=Ot[qt];if(!Nt(Ut))continue;qt++;let zt;for(;qt<sn&&!Nt(zt=Ot[qt]);)qt++;if(qt<sn){const cn=parseInt(String.fromCharCode(Ut,zt),16);Qt[nn++]=cn^Sn>>8,Sn=(cn+Sn)*52845+22719&65535}}return Qt.slice(Gt,nn)}function Bt(Ot){return Ot===47||Ot===91||Ot===93||Ot===123||Ot===125||Ot===40||Ot===41}class Ht{constructor(Vt,Gt,Wt){if(Gt){const en=Vt.getBytes(),Sn=!((Nt(en[0])||(0,Et.isWhiteSpace)(en[0]))&&Nt(en[1])&&Nt(en[2])&&Nt(en[3])&&Nt(en[4])&&Nt(en[5])&&Nt(en[6])&&Nt(en[7]));Vt=new Mt.Stream(Sn?Lt(en,jt,4):kt(en,jt,4))}this.seacAnalysisEnabled=!!Wt,this.stream=Vt,this.nextChar()}readNumberArray(){this.getToken();const Vt=[];for(;;){const Gt=this.getToken();if(Gt===null||Gt==="]"||Gt==="}")break;Vt.push(parseFloat(Gt||0))}return Vt}readNumber(){const Vt=this.getToken();return parseFloat(Vt||0)}readInt(){const Vt=this.getToken();return parseInt(Vt||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let Vt=!1,Gt=this.currentChar;for(;;){if(Gt===-1)return null;if(Vt)(Gt===10||Gt===13)&&(Vt=!1);else if(Gt===37)Vt=!0;else if(!(0,Et.isWhiteSpace)(Gt))break;Gt=this.nextChar()}if(Bt(Gt))return this.nextChar(),String.fromCharCode(Gt);let Wt="";do Wt+=String.fromCharCode(Gt),Gt=this.nextChar();while(Gt>=0&&!(0,Et.isWhiteSpace)(Gt)&&!Bt(Gt));return Wt}readCharStrings(Vt,Gt){return Gt===-1?Vt:Lt(Vt,Rt,Gt)}extractFontProgram(Vt){const Gt=this.stream,Wt=[],en=[],Sn=Object.create(null);Sn.lenIV=4;const sn={subrs:[],charstrings:[],properties:{privateData:Sn}};let hn,Qt,qt,nn;for(;(hn=this.getToken())!==null;)if(hn==="/")switch(hn=this.getToken(),hn){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();hn=this.getToken(),!(hn===null||hn==="end");){if(hn!=="/")continue;const zt=this.getToken();Qt=this.readInt(),this.getToken(),qt=Qt>0?Gt.getBytes(Qt):new Uint8Array(0),nn=sn.properties.privateData.lenIV;const cn=this.readCharStrings(qt,nn);this.nextChar(),hn=this.getToken(),hn==="noaccess"?this.getToken():hn==="/"&&this.prevChar(),en.push({glyph:zt,encoded:cn})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const zt=this.readInt();Qt=this.readInt(),this.getToken(),qt=Qt>0?Gt.getBytes(Qt):new Uint8Array(0),nn=sn.properties.privateData.lenIV;const cn=this.readCharStrings(qt,nn);this.nextChar(),hn=this.getToken(),hn==="noaccess"&&this.getToken(),Wt[zt]=cn}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const Ut=this.readNumberArray();Ut.length>0&&Ut.length%2===0&&xt&&(sn.properties.privateData[hn]=Ut);break;case"StemSnapH":case"StemSnapV":sn.properties.privateData[hn]=this.readNumberArray();break;case"StdHW":case"StdVW":sn.properties.privateData[hn]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":sn.properties.privateData[hn]=this.readNumber();break;case"ForceBold":sn.properties.privateData[hn]=this.readBoolean();break}for(const{encoded:Ut,glyph:zt}of en){const cn=new _t,ln=cn.convert(Ut,Wt,this.seacAnalysisEnabled);let Kt=cn.output;ln&&(Kt=[14]);const Jt={glyphName:zt,charstring:Kt,width:cn.width,lsb:cn.lsb,seac:cn.seac};if(zt===".notdef"?sn.charstrings.unshift(Jt):sn.charstrings.push(Jt),Vt.builtInEncoding){const Yt=Vt.builtInEncoding.indexOf(zt);Yt>-1&&Vt.widths[Yt]===void 0&&Yt>=Vt.firstChar&&Yt<=Vt.lastChar&&(Vt.widths[Yt]=cn.width)}}return sn}extractFontHeader(Vt){let Gt;for(;(Gt=this.getToken())!==null;)if(Gt==="/")switch(Gt=this.getToken(),Gt){case"FontMatrix":const Wt=this.readNumberArray();Vt.fontMatrix=Wt;break;case"Encoding":const en=this.getToken();let Sn;if(!/^\d+$/.test(en))Sn=(0,vt.getEncoding)(en);else{Sn=[];const hn=parseInt(en,10)|0;this.getToken();for(let Qt=0;Qt<hn;Qt++){for(Gt=this.getToken();Gt!=="dup"&&Gt!=="def";)if(Gt=this.getToken(),Gt===null)return;if(Gt==="def")break;const qt=this.readInt();this.getToken();const nn=this.getToken();Sn[qt]=nn,this.getToken()}}Vt.builtInEncoding=Sn;break;case"FontBBox":const sn=this.readNumberArray();Vt.ascent=Math.max(sn[3],sn[1]),Vt.descent=Math.min(sn[1],sn[3]),Vt.ascentScaled=!0;break}}}St.Type1Parser=Ht},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.Pattern=void 0,St.getTilingPatternIR=Bt;var vt=Ft(2),Et=Ft(7),Mt=Ft(14),Pt=Ft(6);const xt={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class $t{constructor(){(0,vt.unreachable)("Cannot initialize Pattern.")}static parseShading(Ot,Vt,Gt,Wt,en,Sn){const sn=Ot instanceof Et.BaseStream?Ot.dict:Ot,hn=sn.get("ShadingType");try{switch(hn){case xt.AXIAL:case xt.RADIAL:return new jt(sn,Vt,Gt,en,Sn);case xt.FREE_FORM_MESH:case xt.LATTICE_FORM_MESH:case xt.COONS_PATCH_MESH:case xt.TENSOR_PATCH_MESH:return new Lt(Ot,Vt,Gt,en,Sn);default:throw new vt.FormatError("Unsupported ShadingType: "+hn)}}catch(Qt){if(Qt instanceof Pt.MissingDataException)throw Qt;return Wt.send("UnsupportedFeature",{featureId:vt.UNSUPPORTED_FEATURES.shadingPattern}),(0,vt.warn)(Qt),new kt}}}St.Pattern=$t;class _t{static get SMALL_NUMBER(){return(0,vt.shadow)(this,"SMALL_NUMBER",1e-6)}constructor(){this.constructor===_t&&(0,vt.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,vt.unreachable)("Abstract method `getIR` called.")}}class jt extends _t{constructor(Ot,Vt,Gt,Wt,en){super(),this.coordsArr=Ot.getArray("Coords"),this.shadingType=Ot.get("ShadingType");const Sn=Mt.ColorSpace.parse({cs:Ot.getRaw("CS")||Ot.getRaw("ColorSpace"),xref:Vt,resources:Gt,pdfFunctionFactory:Wt,localColorSpaceCache:en}),sn=Ot.getArray("BBox");Array.isArray(sn)&&sn.length===4?this.bbox=vt.Util.normalizeRect(sn):this.bbox=null;let hn=0,Qt=1;if(Ot.has("Domain")){const yn=Ot.getArray("Domain");hn=yn[0],Qt=yn[1]}let qt=!1,nn=!1;if(Ot.has("Extend")){const yn=Ot.getArray("Extend");qt=yn[0],nn=yn[1]}if(this.shadingType===xt.RADIAL&&(!qt||!nn)){const[yn,xn,rn,dn,An,an]=this.coordsArr,fn=Math.hypot(yn-dn,xn-An);rn<=an+fn&&an<=rn+fn&&(0,vt.warn)("Unsupported radial gradient.")}this.extendStart=qt,this.extendEnd=nn;const Ut=Ot.getRaw("Function"),zt=Wt.createFromArray(Ut),cn=10,ln=(Qt-hn)/cn,Kt=this.colorStops=[];if(hn>=Qt||ln<=0){(0,vt.info)("Bad shading domain.");return}const Jt=new Float32Array(Sn.numComps),Yt=new Float32Array(1);let tn;for(let yn=0;yn<=cn;yn++){Yt[0]=hn+yn*ln,zt(Yt,0,Jt,0),tn=Sn.getRgb(Jt,0);const xn=vt.Util.makeHexColor(tn[0],tn[1],tn[2]);Kt.push([yn/cn,xn])}let un="transparent";Ot.has("Background")&&(tn=Sn.getRgb(Ot.get("Background"),0),un=vt.Util.makeHexColor(tn[0],tn[1],tn[2])),qt||(Kt.unshift([0,un]),Kt[1][0]+=_t.SMALL_NUMBER),nn||(Kt.at(-1)[0]-=_t.SMALL_NUMBER,Kt.push([1,un])),this.colorStops=Kt}getIR(){const Ot=this.coordsArr,Vt=this.shadingType;let Gt,Wt,en,Sn,sn;return Vt===xt.AXIAL?(Wt=[Ot[0],Ot[1]],en=[Ot[2],Ot[3]],Sn=null,sn=null,Gt="axial"):Vt===xt.RADIAL?(Wt=[Ot[0],Ot[1]],en=[Ot[3],Ot[4]],Sn=Ot[2],sn=Ot[5],Gt="radial"):(0,vt.unreachable)(`getPattern type unknown: ${Vt}`),["RadialAxial",Gt,this.bbox,this.colorStops,Wt,en,Sn,sn]}}class Rt{constructor(Ot,Vt){this.stream=Ot,this.context=Vt,this.buffer=0,this.bufferLength=0;const Gt=Vt.numComps;this.tmpCompsBuf=new Float32Array(Gt);const Wt=Vt.colorSpace.numComps;this.tmpCsCompsBuf=Vt.colorFn?new Float32Array(Wt):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const Ot=this.stream.getByte();return Ot<0?!1:(this.buffer=Ot,this.bufferLength=8,!0)}readBits(Ot){let Vt=this.buffer,Gt=this.bufferLength;if(Ot===32){if(Gt===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;Vt=Vt<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const Wt=this.stream.getByte();return this.buffer=Wt&(1<<Gt)-1,(Vt<<8-Gt|(Wt&255)>>Gt)>>>0}if(Ot===8&&Gt===0)return this.stream.getByte();for(;Gt<Ot;)Vt=Vt<<8|this.stream.getByte(),Gt+=8;return Gt-=Ot,this.bufferLength=Gt,this.buffer=Vt&(1<<Gt)-1,Vt>>Gt}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const Ot=this.context.bitsPerCoordinate,Vt=this.readBits(Ot),Gt=this.readBits(Ot),Wt=this.context.decode,en=Ot<32?1/((1<<Ot)-1):23283064365386963e-26;return[Vt*en*(Wt[1]-Wt[0])+Wt[0],Gt*en*(Wt[3]-Wt[2])+Wt[2]]}readComponents(){const Ot=this.context.numComps,Vt=this.context.bitsPerComponent,Gt=Vt<32?1/((1<<Vt)-1):23283064365386963e-26,Wt=this.context.decode,en=this.tmpCompsBuf;for(let sn=0,hn=4;sn<Ot;sn++,hn+=2){const Qt=this.readBits(Vt);en[sn]=Qt*Gt*(Wt[hn+1]-Wt[hn])+Wt[hn]}const Sn=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(en,0,Sn,0),this.context.colorSpace.getRgb(Sn,0)}}const Nt=function(){function Ot(Gt){const Wt=[];for(let en=0;en<=Gt;en++){const Sn=en/Gt,sn=1-Sn;Wt.push(new Float32Array([sn*sn*sn,3*Sn*sn*sn,3*Sn*Sn*sn,Sn*Sn*Sn]))}return Wt}const Vt=[];return function(Gt){return Vt[Gt]||(Vt[Gt]=Ot(Gt)),Vt[Gt]}}();class Lt extends _t{static get MIN_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,vt.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}static get MAX_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,vt.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}static get TRIANGLE_DENSITY(){return(0,vt.shadow)(this,"TRIANGLE_DENSITY",20)}constructor(Ot,Vt,Gt,Wt,en){if(super(),!(Ot instanceof Et.BaseStream))throw new vt.FormatError("Mesh data is not a stream");const Sn=Ot.dict;this.shadingType=Sn.get("ShadingType");const sn=Sn.getArray("BBox");Array.isArray(sn)&&sn.length===4?this.bbox=vt.Util.normalizeRect(sn):this.bbox=null;const hn=Mt.ColorSpace.parse({cs:Sn.getRaw("CS")||Sn.getRaw("ColorSpace"),xref:Vt,resources:Gt,pdfFunctionFactory:Wt,localColorSpaceCache:en});this.background=Sn.has("Background")?hn.getRgb(Sn.get("Background"),0):null;const Qt=Sn.getRaw("Function"),qt=Qt?Wt.createFromArray(Qt):null;this.coords=[],this.colors=[],this.figures=[];const nn={bitsPerCoordinate:Sn.get("BitsPerCoordinate"),bitsPerComponent:Sn.get("BitsPerComponent"),bitsPerFlag:Sn.get("BitsPerFlag"),decode:Sn.getArray("Decode"),colorFn:qt,colorSpace:hn,numComps:qt?1:hn.numComps},Ut=new Rt(Ot,nn);let zt=!1;switch(this.shadingType){case xt.FREE_FORM_MESH:this._decodeType4Shading(Ut);break;case xt.LATTICE_FORM_MESH:const cn=Sn.get("VerticesPerRow")|0;if(cn<2)throw new vt.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(Ut,cn);break;case xt.COONS_PATCH_MESH:this._decodeType6Shading(Ut),zt=!0;break;case xt.TENSOR_PATCH_MESH:this._decodeType7Shading(Ut),zt=!0;break;default:(0,vt.unreachable)("Unsupported mesh type.");break}if(zt){this._updateBounds();for(let cn=0,ln=this.figures.length;cn<ln;cn++)this._buildFigureFromPatch(cn)}this._updateBounds(),this._packData()}_decodeType4Shading(Ot){const Vt=this.coords,Gt=this.colors,Wt=[];let en=0;for(;Ot.hasData;){const Sn=Ot.readFlag(),sn=Ot.readCoordinate(),hn=Ot.readComponents();if(en===0){if(!(0<=Sn&&Sn<=2))throw new vt.FormatError("Unknown type4 flag");switch(Sn){case 0:en=3;break;case 1:Wt.push(Wt.at(-2),Wt.at(-1)),en=1;break;case 2:Wt.push(Wt.at(-3),Wt.at(-1)),en=1;break}}Wt.push(Vt.length),Vt.push(sn),Gt.push(hn),en--,Ot.align()}this.figures.push({type:"triangles",coords:new Int32Array(Wt),colors:new Int32Array(Wt)})}_decodeType5Shading(Ot,Vt){const Gt=this.coords,Wt=this.colors,en=[];for(;Ot.hasData;){const Sn=Ot.readCoordinate(),sn=Ot.readComponents();en.push(Gt.length),Gt.push(Sn),Wt.push(sn)}this.figures.push({type:"lattice",coords:new Int32Array(en),colors:new Int32Array(en),verticesPerRow:Vt})}_decodeType6Shading(Ot){const Vt=this.coords,Gt=this.colors,Wt=new Int32Array(16),en=new Int32Array(4);for(;Ot.hasData;){const Sn=Ot.readFlag();if(!(0<=Sn&&Sn<=3))throw new vt.FormatError("Unknown type6 flag");const sn=Vt.length;for(let zt=0,cn=Sn!==0?8:12;zt<cn;zt++)Vt.push(Ot.readCoordinate());const hn=Gt.length;for(let zt=0,cn=Sn!==0?2:4;zt<cn;zt++)Gt.push(Ot.readComponents());let Qt,qt,nn,Ut;switch(Sn){case 0:Wt[12]=sn+3,Wt[13]=sn+4,Wt[14]=sn+5,Wt[15]=sn+6,Wt[8]=sn+2,Wt[11]=sn+7,Wt[4]=sn+1,Wt[7]=sn+8,Wt[0]=sn,Wt[1]=sn+11,Wt[2]=sn+10,Wt[3]=sn+9,en[2]=hn+1,en[3]=hn+2,en[0]=hn,en[1]=hn+3;break;case 1:Qt=Wt[12],qt=Wt[13],nn=Wt[14],Ut=Wt[15],Wt[12]=Ut,Wt[13]=sn+0,Wt[14]=sn+1,Wt[15]=sn+2,Wt[8]=nn,Wt[11]=sn+3,Wt[4]=qt,Wt[7]=sn+4,Wt[0]=Qt,Wt[1]=sn+7,Wt[2]=sn+6,Wt[3]=sn+5,Qt=en[2],qt=en[3],en[2]=qt,en[3]=hn,en[0]=Qt,en[1]=hn+1;break;case 2:Qt=Wt[15],qt=Wt[11],Wt[12]=Wt[3],Wt[13]=sn+0,Wt[14]=sn+1,Wt[15]=sn+2,Wt[8]=Wt[7],Wt[11]=sn+3,Wt[4]=qt,Wt[7]=sn+4,Wt[0]=Qt,Wt[1]=sn+7,Wt[2]=sn+6,Wt[3]=sn+5,Qt=en[3],en[2]=en[1],en[3]=hn,en[0]=Qt,en[1]=hn+1;break;case 3:Wt[12]=Wt[0],Wt[13]=sn+0,Wt[14]=sn+1,Wt[15]=sn+2,Wt[8]=Wt[1],Wt[11]=sn+3,Wt[4]=Wt[2],Wt[7]=sn+4,Wt[0]=Wt[3],Wt[1]=sn+7,Wt[2]=sn+6,Wt[3]=sn+5,en[2]=en[0],en[3]=hn,en[0]=en[1],en[1]=hn+1;break}Wt[5]=Vt.length,Vt.push([(-4*Vt[Wt[0]][0]-Vt[Wt[15]][0]+6*(Vt[Wt[4]][0]+Vt[Wt[1]][0])-2*(Vt[Wt[12]][0]+Vt[Wt[3]][0])+3*(Vt[Wt[13]][0]+Vt[Wt[7]][0]))/9,(-4*Vt[Wt[0]][1]-Vt[Wt[15]][1]+6*(Vt[Wt[4]][1]+Vt[Wt[1]][1])-2*(Vt[Wt[12]][1]+Vt[Wt[3]][1])+3*(Vt[Wt[13]][1]+Vt[Wt[7]][1]))/9]),Wt[6]=Vt.length,Vt.push([(-4*Vt[Wt[3]][0]-Vt[Wt[12]][0]+6*(Vt[Wt[2]][0]+Vt[Wt[7]][0])-2*(Vt[Wt[0]][0]+Vt[Wt[15]][0])+3*(Vt[Wt[4]][0]+Vt[Wt[14]][0]))/9,(-4*Vt[Wt[3]][1]-Vt[Wt[12]][1]+6*(Vt[Wt[2]][1]+Vt[Wt[7]][1])-2*(Vt[Wt[0]][1]+Vt[Wt[15]][1])+3*(Vt[Wt[4]][1]+Vt[Wt[14]][1]))/9]),Wt[9]=Vt.length,Vt.push([(-4*Vt[Wt[12]][0]-Vt[Wt[3]][0]+6*(Vt[Wt[8]][0]+Vt[Wt[13]][0])-2*(Vt[Wt[0]][0]+Vt[Wt[15]][0])+3*(Vt[Wt[11]][0]+Vt[Wt[1]][0]))/9,(-4*Vt[Wt[12]][1]-Vt[Wt[3]][1]+6*(Vt[Wt[8]][1]+Vt[Wt[13]][1])-2*(Vt[Wt[0]][1]+Vt[Wt[15]][1])+3*(Vt[Wt[11]][1]+Vt[Wt[1]][1]))/9]),Wt[10]=Vt.length,Vt.push([(-4*Vt[Wt[15]][0]-Vt[Wt[0]][0]+6*(Vt[Wt[11]][0]+Vt[Wt[14]][0])-2*(Vt[Wt[12]][0]+Vt[Wt[3]][0])+3*(Vt[Wt[2]][0]+Vt[Wt[8]][0]))/9,(-4*Vt[Wt[15]][1]-Vt[Wt[0]][1]+6*(Vt[Wt[11]][1]+Vt[Wt[14]][1])-2*(Vt[Wt[12]][1]+Vt[Wt[3]][1])+3*(Vt[Wt[2]][1]+Vt[Wt[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(Wt),colors:new Int32Array(en)})}}_decodeType7Shading(Ot){const Vt=this.coords,Gt=this.colors,Wt=new Int32Array(16),en=new Int32Array(4);for(;Ot.hasData;){const Sn=Ot.readFlag();if(!(0<=Sn&&Sn<=3))throw new vt.FormatError("Unknown type7 flag");const sn=Vt.length;for(let zt=0,cn=Sn!==0?12:16;zt<cn;zt++)Vt.push(Ot.readCoordinate());const hn=Gt.length;for(let zt=0,cn=Sn!==0?2:4;zt<cn;zt++)Gt.push(Ot.readComponents());let Qt,qt,nn,Ut;switch(Sn){case 0:Wt[12]=sn+3,Wt[13]=sn+4,Wt[14]=sn+5,Wt[15]=sn+6,Wt[8]=sn+2,Wt[9]=sn+13,Wt[10]=sn+14,Wt[11]=sn+7,Wt[4]=sn+1,Wt[5]=sn+12,Wt[6]=sn+15,Wt[7]=sn+8,Wt[0]=sn,Wt[1]=sn+11,Wt[2]=sn+10,Wt[3]=sn+9,en[2]=hn+1,en[3]=hn+2,en[0]=hn,en[1]=hn+3;break;case 1:Qt=Wt[12],qt=Wt[13],nn=Wt[14],Ut=Wt[15],Wt[12]=Ut,Wt[13]=sn+0,Wt[14]=sn+1,Wt[15]=sn+2,Wt[8]=nn,Wt[9]=sn+9,Wt[10]=sn+10,Wt[11]=sn+3,Wt[4]=qt,Wt[5]=sn+8,Wt[6]=sn+11,Wt[7]=sn+4,Wt[0]=Qt,Wt[1]=sn+7,Wt[2]=sn+6,Wt[3]=sn+5,Qt=en[2],qt=en[3],en[2]=qt,en[3]=hn,en[0]=Qt,en[1]=hn+1;break;case 2:Qt=Wt[15],qt=Wt[11],Wt[12]=Wt[3],Wt[13]=sn+0,Wt[14]=sn+1,Wt[15]=sn+2,Wt[8]=Wt[7],Wt[9]=sn+9,Wt[10]=sn+10,Wt[11]=sn+3,Wt[4]=qt,Wt[5]=sn+8,Wt[6]=sn+11,Wt[7]=sn+4,Wt[0]=Qt,Wt[1]=sn+7,Wt[2]=sn+6,Wt[3]=sn+5,Qt=en[3],en[2]=en[1],en[3]=hn,en[0]=Qt,en[1]=hn+1;break;case 3:Wt[12]=Wt[0],Wt[13]=sn+0,Wt[14]=sn+1,Wt[15]=sn+2,Wt[8]=Wt[1],Wt[9]=sn+9,Wt[10]=sn+10,Wt[11]=sn+3,Wt[4]=Wt[2],Wt[5]=sn+8,Wt[6]=sn+11,Wt[7]=sn+4,Wt[0]=Wt[3],Wt[1]=sn+7,Wt[2]=sn+6,Wt[3]=sn+5,en[2]=en[0],en[3]=hn,en[0]=en[1],en[1]=hn+1;break}this.figures.push({type:"patch",coords:new Int32Array(Wt),colors:new Int32Array(en)})}}_buildFigureFromPatch(Ot){const Vt=this.figures[Ot];(0,vt.assert)(Vt.type==="patch","Unexpected patch mesh figure");const Gt=this.coords,Wt=this.colors,en=Vt.coords,Sn=Vt.colors,sn=Math.min(Gt[en[0]][0],Gt[en[3]][0],Gt[en[12]][0],Gt[en[15]][0]),hn=Math.min(Gt[en[0]][1],Gt[en[3]][1],Gt[en[12]][1],Gt[en[15]][1]),Qt=Math.max(Gt[en[0]][0],Gt[en[3]][0],Gt[en[12]][0],Gt[en[15]][0]),qt=Math.max(Gt[en[0]][1],Gt[en[3]][1],Gt[en[12]][1],Gt[en[15]][1]);let nn=Math.ceil((Qt-sn)*Lt.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));nn=Math.max(Lt.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(Lt.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,nn));let Ut=Math.ceil((qt-hn)*Lt.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));Ut=Math.max(Lt.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(Lt.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,Ut));const zt=nn+1,cn=new Int32Array((Ut+1)*zt),ln=new Int32Array((Ut+1)*zt);let Kt=0;const Jt=new Uint8Array(3),Yt=new Uint8Array(3),tn=Wt[Sn[0]],un=Wt[Sn[1]],yn=Wt[Sn[2]],xn=Wt[Sn[3]],rn=Nt(Ut),dn=Nt(nn);for(let An=0;An<=Ut;An++){Jt[0]=(tn[0]*(Ut-An)+yn[0]*An)/Ut|0,Jt[1]=(tn[1]*(Ut-An)+yn[1]*An)/Ut|0,Jt[2]=(tn[2]*(Ut-An)+yn[2]*An)/Ut|0,Yt[0]=(un[0]*(Ut-An)+xn[0]*An)/Ut|0,Yt[1]=(un[1]*(Ut-An)+xn[1]*An)/Ut|0,Yt[2]=(un[2]*(Ut-An)+xn[2]*An)/Ut|0;for(let an=0;an<=nn;an++,Kt++){if((An===0||An===Ut)&&(an===0||an===nn))continue;let fn=0,bn=0,vn=0;for(let on=0;on<=3;on++)for(let wn=0;wn<=3;wn++,vn++){const pn=rn[An][on]*dn[an][wn];fn+=Gt[en[vn]][0]*pn,bn+=Gt[en[vn]][1]*pn}cn[Kt]=Gt.length,Gt.push([fn,bn]),ln[Kt]=Wt.length;const gn=new Uint8Array(3);gn[0]=(Jt[0]*(nn-an)+Yt[0]*an)/nn|0,gn[1]=(Jt[1]*(nn-an)+Yt[1]*an)/nn|0,gn[2]=(Jt[2]*(nn-an)+Yt[2]*an)/nn|0,Wt.push(gn)}}cn[0]=en[0],ln[0]=Sn[0],cn[nn]=en[3],ln[nn]=Sn[1],cn[zt*Ut]=en[12],ln[zt*Ut]=Sn[2],cn[zt*Ut+nn]=en[15],ln[zt*Ut+nn]=Sn[3],this.figures[Ot]={type:"lattice",coords:cn,colors:ln,verticesPerRow:zt}}_updateBounds(){let Ot=this.coords[0][0],Vt=this.coords[0][1],Gt=Ot,Wt=Vt;for(let en=1,Sn=this.coords.length;en<Sn;en++){const sn=this.coords[en][0],hn=this.coords[en][1];Ot=Ot>sn?sn:Ot,Vt=Vt>hn?hn:Vt,Gt=Gt<sn?sn:Gt,Wt=Wt<hn?hn:Wt}this.bounds=[Ot,Vt,Gt,Wt]}_packData(){let Ot,Vt,Gt,Wt;const en=this.coords,Sn=new Float32Array(en.length*2);for(Ot=0,Gt=0,Vt=en.length;Ot<Vt;Ot++){const qt=en[Ot];Sn[Gt++]=qt[0],Sn[Gt++]=qt[1]}this.coords=Sn;const sn=this.colors,hn=new Uint8Array(sn.length*3);for(Ot=0,Gt=0,Vt=sn.length;Ot<Vt;Ot++){const qt=sn[Ot];hn[Gt++]=qt[0],hn[Gt++]=qt[1],hn[Gt++]=qt[2]}this.colors=hn;const Qt=this.figures;for(Ot=0,Vt=Qt.length;Ot<Vt;Ot++){const qt=Qt[Ot],nn=qt.coords,Ut=qt.colors;for(Gt=0,Wt=nn.length;Gt<Wt;Gt++)nn[Gt]*=2,Ut[Gt]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class kt extends _t{getIR(){return["Dummy"]}}function Bt(Ht,Ot,Vt){const Gt=Ot.getArray("Matrix"),Wt=vt.Util.normalizeRect(Ot.getArray("BBox")),en=Ot.get("XStep"),Sn=Ot.get("YStep"),sn=Ot.get("PaintType"),hn=Ot.get("TilingType");if(Wt[2]-Wt[0]===0||Wt[3]-Wt[1]===0)throw new vt.FormatError(`Invalid getTilingPatternIR /BBox array: [${Wt}].`);return["TilingPattern",Vt,Ht,Gt,Wt,en,Sn,sn,hn]}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.getXfaFontDict=kt,St.getXfaFontName=Nt;var vt=Ft(52),Et=Ft(5),Mt=Ft(53),Pt=Ft(54),xt=Ft(55),$t=Ft(56),_t=Ft(6),jt=Ft(38);const Rt=(0,_t.getLookupTableFactory)(function(Bt){Bt["MyriadPro-Regular"]=Bt["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:xt.MyriadProRegularFactors,baseWidths:Pt.LiberationSansRegularWidths,baseMapping:Pt.LiberationSansRegularMapping,metrics:xt.MyriadProRegularMetrics},Bt["MyriadPro-Bold"]=Bt["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:xt.MyriadProBoldFactors,baseWidths:Pt.LiberationSansBoldWidths,baseMapping:Pt.LiberationSansBoldMapping,metrics:xt.MyriadProBoldMetrics},Bt["MyriadPro-It"]=Bt["MyriadPro-Italic"]=Bt["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:xt.MyriadProItalicFactors,baseWidths:Pt.LiberationSansItalicWidths,baseMapping:Pt.LiberationSansItalicMapping,metrics:xt.MyriadProItalicMetrics},Bt["MyriadPro-BoldIt"]=Bt["MyriadPro-BoldItalic"]=Bt["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:xt.MyriadProBoldItalicFactors,baseWidths:Pt.LiberationSansBoldItalicWidths,baseMapping:Pt.LiberationSansBoldItalicMapping,metrics:xt.MyriadProBoldItalicMetrics},Bt.ArialMT=Bt.Arial=Bt["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:Pt.LiberationSansRegularWidths,baseMapping:Pt.LiberationSansRegularMapping},Bt["Arial-BoldMT"]=Bt["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:Pt.LiberationSansBoldWidths,baseMapping:Pt.LiberationSansBoldMapping},Bt["Arial-ItalicMT"]=Bt["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:Pt.LiberationSansItalicWidths,baseMapping:Pt.LiberationSansItalicMapping},Bt["Arial-BoldItalicMT"]=Bt["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:Pt.LiberationSansBoldItalicWidths,baseMapping:Pt.LiberationSansBoldItalicMapping},Bt["Calibri-Regular"]={name:"LiberationSans-Regular",factors:vt.CalibriRegularFactors,baseWidths:Pt.LiberationSansRegularWidths,baseMapping:Pt.LiberationSansRegularMapping,metrics:vt.CalibriRegularMetrics},Bt["Calibri-Bold"]={name:"LiberationSans-Bold",factors:vt.CalibriBoldFactors,baseWidths:Pt.LiberationSansBoldWidths,baseMapping:Pt.LiberationSansBoldMapping,metrics:vt.CalibriBoldMetrics},Bt["Calibri-Italic"]={name:"LiberationSans-Italic",factors:vt.CalibriItalicFactors,baseWidths:Pt.LiberationSansItalicWidths,baseMapping:Pt.LiberationSansItalicMapping,metrics:vt.CalibriItalicMetrics},Bt["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:vt.CalibriBoldItalicFactors,baseWidths:Pt.LiberationSansBoldItalicWidths,baseMapping:Pt.LiberationSansBoldItalicMapping,metrics:vt.CalibriBoldItalicMetrics},Bt["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:$t.SegoeuiRegularFactors,baseWidths:Pt.LiberationSansRegularWidths,baseMapping:Pt.LiberationSansRegularMapping,metrics:$t.SegoeuiRegularMetrics},Bt["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:$t.SegoeuiBoldFactors,baseWidths:Pt.LiberationSansBoldWidths,baseMapping:Pt.LiberationSansBoldMapping,metrics:$t.SegoeuiBoldMetrics},Bt["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:$t.SegoeuiItalicFactors,baseWidths:Pt.LiberationSansItalicWidths,baseMapping:Pt.LiberationSansItalicMapping,metrics:$t.SegoeuiItalicMetrics},Bt["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:$t.SegoeuiBoldItalicFactors,baseWidths:Pt.LiberationSansBoldItalicWidths,baseMapping:Pt.LiberationSansBoldItalicMapping,metrics:$t.SegoeuiBoldItalicMetrics},Bt["Helvetica-Regular"]=Bt.Helvetica={name:"LiberationSans-Regular",factors:Mt.HelveticaRegularFactors,baseWidths:Pt.LiberationSansRegularWidths,baseMapping:Pt.LiberationSansRegularMapping,metrics:Mt.HelveticaRegularMetrics},Bt["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:Mt.HelveticaBoldFactors,baseWidths:Pt.LiberationSansBoldWidths,baseMapping:Pt.LiberationSansBoldMapping,metrics:Mt.HelveticaBoldMetrics},Bt["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:Mt.HelveticaItalicFactors,baseWidths:Pt.LiberationSansItalicWidths,baseMapping:Pt.LiberationSansItalicMapping,metrics:Mt.HelveticaItalicMetrics},Bt["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Mt.HelveticaBoldItalicFactors,baseWidths:Pt.LiberationSansBoldItalicWidths,baseMapping:Pt.LiberationSansBoldItalicMapping,metrics:Mt.HelveticaBoldItalicMetrics}});function Nt(Bt){const Ht=(0,jt.normalizeFontName)(Bt);return Rt()[Ht]}function Lt(Bt){const Ht=Nt(Bt);if(!Ht)return null;const{baseWidths:Ot,baseMapping:Vt,factors:Gt}=Ht;let Wt;Gt?Wt=Ot.map((hn,Qt)=>hn*Gt[Qt]):Wt=Ot;let en=-2,Sn;const sn=[];for(const[hn,Qt]of Vt.map((qt,nn)=>[qt,nn]).sort(([qt],[nn])=>qt-nn))hn!==-1&&(hn===en+1?(Sn.push(Wt[Qt]),en+=1):(en=hn,Sn=[Wt[Qt]],sn.push(hn,Sn)));return sn}function kt(Bt){const Ht=Lt(Bt),Ot=new Et.Dict(null);Ot.set("BaseFont",Et.Name.get(Bt)),Ot.set("Type",Et.Name.get("Font")),Ot.set("Subtype",Et.Name.get("CIDFontType2")),Ot.set("Encoding",Et.Name.get("Identity-H")),Ot.set("CIDToGIDMap",Et.Name.get("Identity")),Ot.set("W",Ht),Ot.set("FirstChar",Ht[0]),Ot.set("LastChar",Ht.at(-2)+Ht.at(-1).length-1);const Vt=new Et.Dict(null);Ot.set("FontDescriptor",Vt);const Gt=new Et.Dict(null);return Gt.set("Ordering","Identity"),Gt.set("Registry","Adobe"),Gt.set("Supplement",0),Ot.set("CIDSystemInfo",Gt),Ot}},(Ct,St)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.CalibriRegularMetrics=St.CalibriRegularFactors=St.CalibriItalicMetrics=St.CalibriItalicFactors=St.CalibriBoldMetrics=St.CalibriBoldItalicMetrics=St.CalibriBoldItalicFactors=St.CalibriBoldFactors=void 0;const Ft=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];St.CalibriBoldFactors=Ft;const vt={lineHeight:1.2207,lineGap:.2207};St.CalibriBoldMetrics=vt;const Et=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];St.CalibriBoldItalicFactors=Et;const Mt={lineHeight:1.2207,lineGap:.2207};St.CalibriBoldItalicMetrics=Mt;const Pt=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];St.CalibriItalicFactors=Pt;const xt={lineHeight:1.2207,lineGap:.2207};St.CalibriItalicMetrics=xt;const $t=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];St.CalibriRegularFactors=$t;const _t={lineHeight:1.2207,lineGap:.2207};St.CalibriRegularMetrics=_t},(Ct,St)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.HelveticaRegularMetrics=St.HelveticaRegularFactors=St.HelveticaItalicMetrics=St.HelveticaItalicFactors=St.HelveticaBoldMetrics=St.HelveticaBoldItalicMetrics=St.HelveticaBoldItalicFactors=St.HelveticaBoldFactors=void 0;const Ft=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];St.HelveticaBoldFactors=Ft;const vt={lineHeight:1.2,lineGap:.2};St.HelveticaBoldMetrics=vt;const Et=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];St.HelveticaBoldItalicFactors=Et;const Mt={lineHeight:1.35,lineGap:.2};St.HelveticaBoldItalicMetrics=Mt;const Pt=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];St.HelveticaItalicFactors=Pt;const xt={lineHeight:1.35,lineGap:.2};St.HelveticaItalicMetrics=xt;const $t=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];St.HelveticaRegularFactors=$t;const _t={lineHeight:1.2,lineGap:.2};St.HelveticaRegularMetrics=_t},(Ct,St)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.LiberationSansRegularWidths=St.LiberationSansRegularMapping=St.LiberationSansItalicWidths=St.LiberationSansItalicMapping=St.LiberationSansBoldWidths=St.LiberationSansBoldMapping=St.LiberationSansBoldItalicWidths=St.LiberationSansBoldItalicMapping=void 0;const Ft=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];St.LiberationSansBoldWidths=Ft;const vt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];St.LiberationSansBoldMapping=vt;const Et=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];St.LiberationSansBoldItalicWidths=Et;const Mt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];St.LiberationSansBoldItalicMapping=Mt;const Pt=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];St.LiberationSansItalicWidths=Pt;const xt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];St.LiberationSansItalicMapping=xt;const $t=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];St.LiberationSansRegularWidths=$t;const _t=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];St.LiberationSansRegularMapping=_t},(Ct,St)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.MyriadProRegularMetrics=St.MyriadProRegularFactors=St.MyriadProItalicMetrics=St.MyriadProItalicFactors=St.MyriadProBoldMetrics=St.MyriadProBoldItalicMetrics=St.MyriadProBoldItalicFactors=St.MyriadProBoldFactors=void 0;const Ft=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];St.MyriadProBoldFactors=Ft;const vt={lineHeight:1.2,lineGap:.2};St.MyriadProBoldMetrics=vt;const Et=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];St.MyriadProBoldItalicFactors=Et;const Mt={lineHeight:1.2,lineGap:.2};St.MyriadProBoldItalicMetrics=Mt;const Pt=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];St.MyriadProItalicFactors=Pt;const xt={lineHeight:1.2,lineGap:.2};St.MyriadProItalicMetrics=xt;const $t=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];St.MyriadProRegularFactors=$t;const _t={lineHeight:1.2,lineGap:.2};St.MyriadProRegularMetrics=_t},(Ct,St)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.SegoeuiRegularMetrics=St.SegoeuiRegularFactors=St.SegoeuiItalicMetrics=St.SegoeuiItalicFactors=St.SegoeuiBoldMetrics=St.SegoeuiBoldItalicMetrics=St.SegoeuiBoldItalicFactors=St.SegoeuiBoldFactors=void 0;const Ft=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];St.SegoeuiBoldFactors=Ft;const vt={lineHeight:1.33008,lineGap:0};St.SegoeuiBoldMetrics=vt;const Et=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];St.SegoeuiBoldItalicFactors=Et;const Mt={lineHeight:1.33008,lineGap:0};St.SegoeuiBoldItalicMetrics=Mt;const Pt=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];St.SegoeuiItalicFactors=Pt;const xt={lineHeight:1.33008,lineGap:0};St.SegoeuiItalicMetrics=xt;const $t=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];St.SegoeuiRegularFactors=$t;const _t={lineHeight:1.33008,lineGap:0};St.SegoeuiRegularMetrics=_t},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.PostScriptEvaluator=St.PostScriptCompiler=St.PDFFunctionFactory=void 0,St.isPDFFunction=Rt;var vt=Ft(5),Et=Ft(2),Mt=Ft(58),Pt=Ft(7),xt=Ft(59);class $t{constructor({xref:Ut,isEvalSupported:zt=!0}){this.xref=Ut,this.isEvalSupported=zt!==!1}create(Ut){const zt=this.getCached(Ut);if(zt)return zt;const cn=jt.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:Ut instanceof vt.Ref?this.xref.fetch(Ut):Ut});return this._cache(Ut,cn),cn}createFromArray(Ut){const zt=this.getCached(Ut);if(zt)return zt;const cn=jt.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:Ut instanceof vt.Ref?this.xref.fetch(Ut):Ut});return this._cache(Ut,cn),cn}getCached(Ut){let zt;if(Ut instanceof vt.Ref?zt=Ut:Ut instanceof vt.Dict?zt=Ut.objId:Ut instanceof Pt.BaseStream&&(zt=Ut.dict&&Ut.dict.objId),zt){const cn=this._localFunctionCache.getByRef(zt);if(cn)return cn}return null}_cache(Ut,zt){if(!zt)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let cn;Ut instanceof vt.Ref?cn=Ut:Ut instanceof vt.Dict?cn=Ut.objId:Ut instanceof Pt.BaseStream&&(cn=Ut.dict&&Ut.dict.objId),cn&&this._localFunctionCache.set(null,cn,zt)}get _localFunctionCache(){return(0,Et.shadow)(this,"_localFunctionCache",new xt.LocalFunctionCache)}}St.PDFFunctionFactory=$t;function _t(nn){if(!Array.isArray(nn))return null;const Ut=nn.length;for(let zt=0;zt<Ut;zt++)if(typeof nn[zt]!="number"){const cn=new Array(Ut);for(let ln=0;ln<Ut;ln++)cn[ln]=+nn[ln];return cn}return nn}class jt{static getSampleArray(Ut,zt,cn,ln){let Kt,Jt,Yt=1;for(Kt=0,Jt=Ut.length;Kt<Jt;Kt++)Yt*=Ut[Kt];Yt*=zt;const tn=new Array(Yt);let un=0,yn=0;const xn=1/(2**cn-1),rn=ln.getBytes((Yt*cn+7)/8);let dn=0;for(Kt=0;Kt<Yt;Kt++){for(;un<cn;)yn<<=8,yn|=rn[dn++],un+=8;un-=cn,tn[Kt]=(yn>>un)*xn,yn&=(1<<un)-1}return tn}static parse({xref:Ut,isEvalSupported:zt,fn:cn}){const ln=cn.dict||cn;switch(ln.get("FunctionType")){case 0:return this.constructSampled({xref:Ut,isEvalSupported:zt,fn:cn,dict:ln});case 1:break;case 2:return this.constructInterpolated({xref:Ut,isEvalSupported:zt,dict:ln});case 3:return this.constructStiched({xref:Ut,isEvalSupported:zt,dict:ln});case 4:return this.constructPostScript({xref:Ut,isEvalSupported:zt,fn:cn,dict:ln})}throw new Et.FormatError("Unknown type of function")}static parseArray({xref:Ut,isEvalSupported:zt,fnObj:cn}){if(!Array.isArray(cn))return this.parse({xref:Ut,isEvalSupported:zt,fn:cn});const ln=[];for(let Kt=0,Jt=cn.length;Kt<Jt;Kt++)ln.push(this.parse({xref:Ut,isEvalSupported:zt,fn:Ut.fetchIfRef(cn[Kt])}));return function(Kt,Jt,Yt,tn){for(let un=0,yn=ln.length;un<yn;un++)ln[un](Kt,Jt,Yt,tn+un)}}static constructSampled({xref:Ut,isEvalSupported:zt,fn:cn,dict:ln}){function Kt(bn){const vn=bn.length,gn=[];let on=0;for(let wn=0;wn<vn;wn+=2)gn[on++]=[bn[wn],bn[wn+1]];return gn}function Jt(bn,vn,gn,on,wn){return on+(bn-vn)*((wn-on)/(gn-vn))}let Yt=_t(ln.getArray("Domain")),tn=_t(ln.getArray("Range"));if(!Yt||!tn)throw new Et.FormatError("No domain or range");const un=Yt.length/2,yn=tn.length/2;Yt=Kt(Yt),tn=Kt(tn);const xn=_t(ln.getArray("Size")),rn=ln.get("BitsPerSample"),dn=ln.get("Order")||1;dn!==1&&(0,Et.info)("No support for cubic spline interpolation: "+dn);let An=_t(ln.getArray("Encode"));if(An)An=Kt(An);else{An=[];for(let bn=0;bn<un;++bn)An.push([0,xn[bn]-1])}let an=_t(ln.getArray("Decode"));an?an=Kt(an):an=tn;const fn=this.getSampleArray(xn,yn,rn,cn);return function(vn,gn,on,wn){const pn=1<<un,Cn=new Float64Array(pn),Tn=new Uint32Array(pn);let Fn,En;for(En=0;En<pn;En++)Cn[En]=1;let kn=yn,Pn=1;for(Fn=0;Fn<un;++Fn){const _n=Yt[Fn][0],Mn=Yt[Fn][1],On=Math.min(Math.max(vn[gn+Fn],_n),Mn);let jn=Jt(On,_n,Mn,An[Fn][0],An[Fn][1]);const qn=xn[Fn];jn=Math.min(Math.max(jn,0),qn-1);const Gn=jn<qn-1?Math.floor(jn):jn-1,Yn=Gn+1-jn,er=jn-Gn,cr=Gn*kn,rr=cr+kn;for(En=0;En<pn;En++)En&Pn?(Cn[En]*=er,Tn[En]+=rr):(Cn[En]*=Yn,Tn[En]+=cr);kn*=qn,Pn<<=1}for(En=0;En<yn;++En){let _n=0;for(Fn=0;Fn<pn;Fn++)_n+=fn[Tn[Fn]+En]*Cn[Fn];_n=Jt(_n,0,1,an[En][0],an[En][1]),on[wn+En]=Math.min(Math.max(_n,tn[En][0]),tn[En][1])}}}static constructInterpolated({xref:Ut,isEvalSupported:zt,dict:cn}){const ln=_t(cn.getArray("C0"))||[0],Kt=_t(cn.getArray("C1"))||[1],Jt=cn.get("N"),Yt=[];for(let un=0,yn=ln.length;un<yn;++un)Yt.push(Kt[un]-ln[un]);const tn=Yt.length;return function(yn,xn,rn,dn){const An=Jt===1?yn[xn]:yn[xn]**Jt;for(let an=0;an<tn;++an)rn[dn+an]=ln[an]+An*Yt[an]}}static constructStiched({xref:Ut,isEvalSupported:zt,dict:cn}){const ln=_t(cn.getArray("Domain"));if(!ln)throw new Et.FormatError("No domain");if(ln.length/2!==1)throw new Et.FormatError("Bad domain for stiched function");const Jt=cn.get("Functions"),Yt=[];for(let xn=0,rn=Jt.length;xn<rn;++xn)Yt.push(this.parse({xref:Ut,isEvalSupported:zt,fn:Ut.fetchIfRef(Jt[xn])}));const tn=_t(cn.getArray("Bounds")),un=_t(cn.getArray("Encode")),yn=new Float32Array(1);return function(rn,dn,An,an){const bn=function(Fn,En,kn){return Fn>kn?Fn=kn:Fn<En&&(Fn=En),Fn}(rn[dn],ln[0],ln[1]),vn=tn.length;let gn;for(gn=0;gn<vn&&!(bn<tn[gn]);++gn);let on=ln[0];gn>0&&(on=tn[gn-1]);let wn=ln[1];gn<tn.length&&(wn=tn[gn]);const pn=un[2*gn],Cn=un[2*gn+1];yn[0]=on===wn?pn:pn+(bn-on)*(Cn-pn)/(wn-on),Yt[gn](yn,0,An,an)}}static constructPostScript({xref:Ut,isEvalSupported:zt,fn:cn,dict:ln}){const Kt=_t(ln.getArray("Domain")),Jt=_t(ln.getArray("Range"));if(!Kt)throw new Et.FormatError("No domain.");if(!Jt)throw new Et.FormatError("No range.");const Yt=new Mt.PostScriptLexer(cn),un=new Mt.PostScriptParser(Yt).parse();if(zt&&Et.FeatureTest.isEvalSupported){const bn=new qt().compile(un,Kt,Jt);if(bn)return new Function("src","srcOffset","dest","destOffset",bn)}(0,Et.info)("Unable to compile PS function");const yn=Jt.length>>1,xn=Kt.length>>1,rn=new Lt(un),dn=Object.create(null);let an=2048*4;const fn=new Float32Array(xn);return function(vn,gn,on,wn){let pn,Cn,Tn="";const Fn=fn;for(pn=0;pn<xn;pn++)Cn=vn[gn+pn],Fn[pn]=Cn,Tn+=Cn+"_";const En=dn[Tn];if(En!==void 0){on.set(En,wn);return}const kn=new Float32Array(yn),Pn=rn.execute(Fn),_n=Pn.length-yn;for(pn=0;pn<yn;pn++){Cn=Pn[_n+pn];let Mn=Jt[pn*2];Cn<Mn?Cn=Mn:(Mn=Jt[pn*2+1],Cn>Mn&&(Cn=Mn)),kn[pn]=Cn}an>0&&(an--,dn[Tn]=kn),on.set(kn,wn)}}}function Rt(nn){let Ut;if(typeof nn!="object")return!1;if(nn instanceof vt.Dict)Ut=nn;else if(nn instanceof Pt.BaseStream)Ut=nn.dict;else return!1;return Ut.has("FunctionType")}class Nt{static get MAX_STACK_SIZE(){return(0,Et.shadow)(this,"MAX_STACK_SIZE",100)}constructor(Ut){this.stack=Ut?Array.prototype.slice.call(Ut,0):[]}push(Ut){if(this.stack.length>=Nt.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(Ut)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(Ut){if(this.stack.length+Ut>=Nt.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const zt=this.stack;for(let cn=zt.length-Ut,ln=Ut-1;ln>=0;ln--,cn++)zt.push(zt[cn])}index(Ut){this.push(this.stack[this.stack.length-Ut-1])}roll(Ut,zt){const cn=this.stack,ln=cn.length-Ut,Kt=cn.length-1,Jt=ln+(zt-Math.floor(zt/Ut)*Ut);for(let Yt=ln,tn=Kt;Yt<tn;Yt++,tn--){const un=cn[Yt];cn[Yt]=cn[tn],cn[tn]=un}for(let Yt=ln,tn=Jt-1;Yt<tn;Yt++,tn--){const un=cn[Yt];cn[Yt]=cn[tn],cn[tn]=un}for(let Yt=Jt,tn=Kt;Yt<tn;Yt++,tn--){const un=cn[Yt];cn[Yt]=cn[tn],cn[tn]=un}}}class Lt{constructor(Ut){this.operators=Ut}execute(Ut){const zt=new Nt(Ut);let cn=0;const ln=this.operators,Kt=ln.length;let Jt,Yt,tn;for(;cn<Kt;){if(Jt=ln[cn++],typeof Jt=="number"){zt.push(Jt);continue}switch(Jt){case"jz":tn=zt.pop(),Yt=zt.pop(),Yt||(cn=tn);break;case"j":Yt=zt.pop(),cn=Yt;break;case"abs":Yt=zt.pop(),zt.push(Math.abs(Yt));break;case"add":tn=zt.pop(),Yt=zt.pop(),zt.push(Yt+tn);break;case"and":tn=zt.pop(),Yt=zt.pop(),typeof Yt=="boolean"&&typeof tn=="boolean"?zt.push(Yt&&tn):zt.push(Yt&tn);break;case"atan":Yt=zt.pop(),zt.push(Math.atan(Yt));break;case"bitshift":tn=zt.pop(),Yt=zt.pop(),Yt>0?zt.push(Yt<<tn):zt.push(Yt>>tn);break;case"ceiling":Yt=zt.pop(),zt.push(Math.ceil(Yt));break;case"copy":Yt=zt.pop(),zt.copy(Yt);break;case"cos":Yt=zt.pop(),zt.push(Math.cos(Yt));break;case"cvi":Yt=zt.pop()|0,zt.push(Yt);break;case"cvr":break;case"div":tn=zt.pop(),Yt=zt.pop(),zt.push(Yt/tn);break;case"dup":zt.copy(1);break;case"eq":tn=zt.pop(),Yt=zt.pop(),zt.push(Yt===tn);break;case"exch":zt.roll(2,1);break;case"exp":tn=zt.pop(),Yt=zt.pop(),zt.push(Yt**tn);break;case"false":zt.push(!1);break;case"floor":Yt=zt.pop(),zt.push(Math.floor(Yt));break;case"ge":tn=zt.pop(),Yt=zt.pop(),zt.push(Yt>=tn);break;case"gt":tn=zt.pop(),Yt=zt.pop(),zt.push(Yt>tn);break;case"idiv":tn=zt.pop(),Yt=zt.pop(),zt.push(Yt/tn|0);break;case"index":Yt=zt.pop(),zt.index(Yt);break;case"le":tn=zt.pop(),Yt=zt.pop(),zt.push(Yt<=tn);break;case"ln":Yt=zt.pop(),zt.push(Math.log(Yt));break;case"log":Yt=zt.pop(),zt.push(Math.log(Yt)/Math.LN10);break;case"lt":tn=zt.pop(),Yt=zt.pop(),zt.push(Yt<tn);break;case"mod":tn=zt.pop(),Yt=zt.pop(),zt.push(Yt%tn);break;case"mul":tn=zt.pop(),Yt=zt.pop(),zt.push(Yt*tn);break;case"ne":tn=zt.pop(),Yt=zt.pop(),zt.push(Yt!==tn);break;case"neg":Yt=zt.pop(),zt.push(-Yt);break;case"not":Yt=zt.pop(),typeof Yt=="boolean"?zt.push(!Yt):zt.push(~Yt);break;case"or":tn=zt.pop(),Yt=zt.pop(),typeof Yt=="boolean"&&typeof tn=="boolean"?zt.push(Yt||tn):zt.push(Yt|tn);break;case"pop":zt.pop();break;case"roll":tn=zt.pop(),Yt=zt.pop(),zt.roll(Yt,tn);break;case"round":Yt=zt.pop(),zt.push(Math.round(Yt));break;case"sin":Yt=zt.pop(),zt.push(Math.sin(Yt));break;case"sqrt":Yt=zt.pop(),zt.push(Math.sqrt(Yt));break;case"sub":tn=zt.pop(),Yt=zt.pop(),zt.push(Yt-tn);break;case"true":zt.push(!0);break;case"truncate":Yt=zt.pop(),Yt=Yt<0?Math.ceil(Yt):Math.floor(Yt),zt.push(Yt);break;case"xor":tn=zt.pop(),Yt=zt.pop(),typeof Yt=="boolean"&&typeof tn=="boolean"?zt.push(Yt!==tn):zt.push(Yt^tn);break;default:throw new Et.FormatError(`Unknown operator ${Jt}`)}}return zt.stack}}St.PostScriptEvaluator=Lt;class kt{constructor(Ut){this.type=Ut}visit(Ut){(0,Et.unreachable)("abstract method")}}class Bt extends kt{constructor(Ut,zt,cn){super("args"),this.index=Ut,this.min=zt,this.max=cn}visit(Ut){Ut.visitArgument(this)}}class Ht extends kt{constructor(Ut){super("literal"),this.number=Ut,this.min=Ut,this.max=Ut}visit(Ut){Ut.visitLiteral(this)}}class Ot extends kt{constructor(Ut,zt,cn,ln,Kt){super("binary"),this.op=Ut,this.arg1=zt,this.arg2=cn,this.min=ln,this.max=Kt}visit(Ut){Ut.visitBinaryOperation(this)}}class Vt extends kt{constructor(Ut,zt){super("max"),this.arg=Ut,this.min=Ut.min,this.max=zt}visit(Ut){Ut.visitMin(this)}}class Gt extends kt{constructor(Ut,zt,cn){super("var"),this.index=Ut,this.min=zt,this.max=cn}visit(Ut){Ut.visitVariable(this)}}class Wt extends kt{constructor(Ut,zt){super("definition"),this.variable=Ut,this.arg=zt}visit(Ut){Ut.visitVariableDefinition(this)}}class en{constructor(){this.parts=[]}visitArgument(Ut){this.parts.push("Math.max(",Ut.min,", Math.min(",Ut.max,", src[srcOffset + ",Ut.index,"]))")}visitVariable(Ut){this.parts.push("v",Ut.index)}visitLiteral(Ut){this.parts.push(Ut.number)}visitBinaryOperation(Ut){this.parts.push("("),Ut.arg1.visit(this),this.parts.push(" ",Ut.op," "),Ut.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(Ut){this.parts.push("var "),Ut.variable.visit(this),this.parts.push(" = "),Ut.arg.visit(this),this.parts.push(";")}visitMin(Ut){this.parts.push("Math.min("),Ut.arg.visit(this),this.parts.push(", ",Ut.max,")")}toString(){return this.parts.join("")}}function Sn(nn,Ut){return Ut.type==="literal"&&Ut.number===0?nn:nn.type==="literal"&&nn.number===0?Ut:Ut.type==="literal"&&nn.type==="literal"?new Ht(nn.number+Ut.number):new Ot("+",nn,Ut,nn.min+Ut.min,nn.max+Ut.max)}function sn(nn,Ut){if(Ut.type==="literal"){if(Ut.number===0)return new Ht(0);if(Ut.number===1)return nn;if(nn.type==="literal")return new Ht(nn.number*Ut.number)}if(nn.type==="literal"){if(nn.number===0)return new Ht(0);if(nn.number===1)return Ut}const zt=Math.min(nn.min*Ut.min,nn.min*Ut.max,nn.max*Ut.min,nn.max*Ut.max),cn=Math.max(nn.min*Ut.min,nn.min*Ut.max,nn.max*Ut.min,nn.max*Ut.max);return new Ot("*",nn,Ut,zt,cn)}function hn(nn,Ut){if(Ut.type==="literal"){if(Ut.number===0)return nn;if(nn.type==="literal")return new Ht(nn.number-Ut.number)}return Ut.type==="binary"&&Ut.op==="-"&&nn.type==="literal"&&nn.number===1&&Ut.arg1.type==="literal"&&Ut.arg1.number===1?Ut.arg2:new Ot("-",nn,Ut,nn.min-Ut.max,nn.max-Ut.min)}function Qt(nn,Ut){return nn.min>=Ut?new Ht(Ut):nn.max<=Ut?nn:new Vt(nn,Ut)}class qt{compile(Ut,zt,cn){const ln=[],Kt=[],Jt=zt.length>>1,Yt=cn.length>>1;let tn=0,un,yn,xn,rn,dn,An,an,fn;for(let vn=0;vn<Jt;vn++)ln.push(new Bt(vn,zt[vn*2],zt[vn*2+1]));for(let vn=0,gn=Ut.length;vn<gn;vn++){if(fn=Ut[vn],typeof fn=="number"){ln.push(new Ht(fn));continue}switch(fn){case"add":if(ln.length<2)return null;rn=ln.pop(),xn=ln.pop(),ln.push(Sn(xn,rn));break;case"cvr":if(ln.length<1)return null;break;case"mul":if(ln.length<2)return null;rn=ln.pop(),xn=ln.pop(),ln.push(sn(xn,rn));break;case"sub":if(ln.length<2)return null;rn=ln.pop(),xn=ln.pop(),ln.push(hn(xn,rn));break;case"exch":if(ln.length<2)return null;dn=ln.pop(),An=ln.pop(),ln.push(dn,An);break;case"pop":if(ln.length<1)return null;ln.pop();break;case"index":if(ln.length<1||(xn=ln.pop(),xn.type!=="literal")||(un=xn.number,un<0||!Number.isInteger(un)||ln.length<un))return null;if(dn=ln[ln.length-un-1],dn.type==="literal"||dn.type==="var"){ln.push(dn);break}an=new Gt(tn++,dn.min,dn.max),ln[ln.length-un-1]=an,ln.push(an),Kt.push(new Wt(an,dn));break;case"dup":if(ln.length<1)return null;if(typeof Ut[vn+1]=="number"&&Ut[vn+2]==="gt"&&Ut[vn+3]===vn+7&&Ut[vn+4]==="jz"&&Ut[vn+5]==="pop"&&Ut[vn+6]===Ut[vn+1]){xn=ln.pop(),ln.push(Qt(xn,Ut[vn+1])),vn+=6;break}if(dn=ln.at(-1),dn.type==="literal"||dn.type==="var"){ln.push(dn);break}an=new Gt(tn++,dn.min,dn.max),ln[ln.length-1]=an,ln.push(an),Kt.push(new Wt(an,dn));break;case"roll":if(ln.length<2||(rn=ln.pop(),xn=ln.pop(),rn.type!=="literal"||xn.type!=="literal")||(yn=rn.number,un=xn.number,un<=0||!Number.isInteger(un)||!Number.isInteger(yn)||ln.length<un))return null;if(yn=(yn%un+un)%un,yn===0)break;Array.prototype.push.apply(ln,ln.splice(ln.length-un,un-yn));break;default:return null}}if(ln.length!==Yt)return null;const bn=[];for(const vn of Kt){const gn=new en;vn.visit(gn),bn.push(gn.toString())}for(let vn=0,gn=ln.length;vn<gn;vn++){const on=ln[vn],wn=new en;on.visit(wn);const pn=cn[vn*2],Cn=cn[vn*2+1],Tn=[wn.toString()];pn>on.min&&(Tn.unshift("Math.max(",pn,", "),Tn.push(")")),Cn<on.max&&(Tn.unshift("Math.min(",Cn,", "),Tn.push(")")),Tn.unshift("dest[destOffset + ",vn,"] = "),Tn.push(";"),bn.push(Tn.join(""))}return bn.join(`
`)}}St.PostScriptCompiler=qt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.PostScriptParser=St.PostScriptLexer=void 0;var vt=Ft(2),Et=Ft(5),Mt=Ft(6);class Pt{constructor(Rt){this.lexer=Rt,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(Rt){return this.token.type===Rt?(this.nextToken(),!0):!1}expect(Rt){if(this.accept(Rt))return!0;throw new vt.FormatError(`Unexpected symbol: found ${this.token.type} expected ${Rt}.`)}parse(){return this.nextToken(),this.expect(xt.LBRACE),this.parseBlock(),this.expect(xt.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(xt.NUMBER))this.operators.push(this.prev.value);else if(this.accept(xt.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(xt.LBRACE))this.parseCondition();else return}parseCondition(){const Rt=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(xt.RBRACE),this.accept(xt.IF))this.operators[Rt]=this.operators.length,this.operators[Rt+1]="jz";else if(this.accept(xt.LBRACE)){const Nt=this.operators.length;this.operators.push(null,null);const Lt=this.operators.length;this.parseBlock(),this.expect(xt.RBRACE),this.expect(xt.IFELSE),this.operators[Nt]=this.operators.length,this.operators[Nt+1]="j",this.operators[Rt]=Lt,this.operators[Rt+1]="jz"}else throw new vt.FormatError("PS Function: error parsing conditional.")}}St.PostScriptParser=Pt;const xt={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class $t{static get opCache(){return(0,vt.shadow)(this,"opCache",Object.create(null))}constructor(Rt,Nt){this.type=Rt,this.value=Nt}static getOperator(Rt){const Nt=$t.opCache[Rt];return Nt||($t.opCache[Rt]=new $t(xt.OPERATOR,Rt))}static get LBRACE(){return(0,vt.shadow)(this,"LBRACE",new $t(xt.LBRACE,"{"))}static get RBRACE(){return(0,vt.shadow)(this,"RBRACE",new $t(xt.RBRACE,"}"))}static get IF(){return(0,vt.shadow)(this,"IF",new $t(xt.IF,"IF"))}static get IFELSE(){return(0,vt.shadow)(this,"IFELSE",new $t(xt.IFELSE,"IFELSE"))}}class _t{constructor(Rt){this.stream=Rt,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let Rt=!1,Nt=this.currentChar;for(;;){if(Nt<0)return Et.EOF;if(Rt)(Nt===10||Nt===13)&&(Rt=!1);else if(Nt===37)Rt=!0;else if(!(0,Mt.isWhiteSpace)(Nt))break;Nt=this.nextChar()}switch(Nt|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new $t(xt.NUMBER,this.getNumber());case 123:return this.nextChar(),$t.LBRACE;case 125:return this.nextChar(),$t.RBRACE}const Lt=this.strBuf;for(Lt.length=0,Lt[0]=String.fromCharCode(Nt);(Nt=this.nextChar())>=0&&(Nt>=65&&Nt<=90||Nt>=97&&Nt<=122);)Lt.push(String.fromCharCode(Nt));const kt=Lt.join("");switch(kt.toLowerCase()){case"if":return $t.IF;case"ifelse":return $t.IFELSE;default:return $t.getOperator(kt)}}getNumber(){let Rt=this.currentChar;const Nt=this.strBuf;for(Nt.length=0,Nt[0]=String.fromCharCode(Rt);(Rt=this.nextChar())>=0&&(Rt>=48&&Rt<=57||Rt===45||Rt===46);)Nt.push(String.fromCharCode(Rt));const Lt=parseFloat(Nt.join(""));if(isNaN(Lt))throw new vt.FormatError(`Invalid floating point number: ${Lt}`);return Lt}}St.PostScriptLexer=_t},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.LocalTilingPatternCache=St.LocalImageCache=St.LocalGStateCache=St.LocalFunctionCache=St.LocalColorSpaceCache=St.GlobalImageCache=void 0;var vt=Ft(2),Et=Ft(5);class Mt{constructor(Lt){this.constructor===Mt&&(0,vt.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(Lt&&Lt.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new Et.RefSetCache}getByName(Lt){this._onlyRefs&&(0,vt.unreachable)("Should not call `getByName` method.");const kt=this._nameRefMap.get(Lt);return kt?this.getByRef(kt):this._imageMap.get(Lt)||null}getByRef(Lt){return this._imageCache.get(Lt)||null}set(Lt,kt,Bt){(0,vt.unreachable)("Abstract method `set` called.")}}class Pt extends Mt{set(Lt,kt=null,Bt){if(typeof Lt!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(kt){if(this._imageCache.has(kt))return;this._nameRefMap.set(Lt,kt),this._imageCache.put(kt,Bt);return}this._imageMap.has(Lt)||this._imageMap.set(Lt,Bt)}}St.LocalImageCache=Pt;class xt extends Mt{set(Lt=null,kt=null,Bt){if(typeof Lt!="string"&&!kt)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(kt){if(this._imageCache.has(kt))return;Lt!==null&&this._nameRefMap.set(Lt,kt),this._imageCache.put(kt,Bt);return}this._imageMap.has(Lt)||this._imageMap.set(Lt,Bt)}}St.LocalColorSpaceCache=xt;class $t extends Mt{constructor(Lt){super({onlyRefs:!0})}set(Lt=null,kt,Bt){if(!kt)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(kt)||this._imageCache.put(kt,Bt)}}St.LocalFunctionCache=$t;class _t extends Mt{set(Lt,kt=null,Bt){if(typeof Lt!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(kt){if(this._imageCache.has(kt))return;this._nameRefMap.set(Lt,kt),this._imageCache.put(kt,Bt);return}this._imageMap.has(Lt)||this._imageMap.set(Lt,Bt)}}St.LocalGStateCache=_t;class jt extends Mt{constructor(Lt){super({onlyRefs:!0})}set(Lt=null,kt,Bt){if(!kt)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(kt)||this._imageCache.put(kt,Bt)}}St.LocalTilingPatternCache=jt;class Rt{static get NUM_PAGES_THRESHOLD(){return(0,vt.shadow)(this,"NUM_PAGES_THRESHOLD",2)}static get MIN_IMAGES_TO_CACHE(){return(0,vt.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}static get MAX_BYTE_SIZE(){return(0,vt.shadow)(this,"MAX_BYTE_SIZE",4e7)}constructor(){this._refCache=new Et.RefSetCache,this._imageCache=new Et.RefSetCache}get _byteSize(){let Lt=0;for(const kt of this._imageCache)Lt+=kt.byteSize;return Lt}get _cacheLimitReached(){return!(this._imageCache.size<Rt.MIN_IMAGES_TO_CACHE||this._byteSize<Rt.MAX_BYTE_SIZE)}shouldCache(Lt,kt){const Bt=this._refCache.get(Lt);return!((Bt?Bt.size+(Bt.has(kt)?0:1):1)<Rt.NUM_PAGES_THRESHOLD||!this._imageCache.has(Lt)&&this._cacheLimitReached)}addPageIndex(Lt,kt){let Bt=this._refCache.get(Lt);Bt||(Bt=new Set,this._refCache.put(Lt,Bt)),Bt.add(kt)}addByteSize(Lt,kt){const Bt=this._imageCache.get(Lt);Bt&&(Bt.byteSize||(Bt.byteSize=kt))}getData(Lt,kt){const Bt=this._refCache.get(Lt);if(!Bt||Bt.size<Rt.NUM_PAGES_THRESHOLD)return null;const Ht=this._imageCache.get(Lt);return Ht?(Bt.add(kt),Ht):null}setData(Lt,kt){if(!this._refCache.has(Lt))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');if(!this._imageCache.has(Lt)){if(this._cacheLimitReached){(0,vt.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(Lt,kt)}}clear(Lt=!1){Lt||this._refCache.clear(),this._imageCache.clear()}}St.GlobalImageCache=Rt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.bidi=kt;var vt=Ft(2);const Et=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],Mt=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function Pt(Bt){return(Bt&1)!==0}function xt(Bt){return(Bt&1)===0}function $t(Bt,Ht,Ot){let Vt,Gt;for(Vt=Ht,Gt=Bt.length;Vt<Gt;++Vt)if(Bt[Vt]!==Ot)return Vt;return Vt}function _t(Bt,Ht,Ot,Vt){for(let Gt=Ht;Gt<Ot;++Gt)Bt[Gt]=Vt}function jt(Bt,Ht,Ot){for(let Vt=Ht,Gt=Ot-1;Vt<Gt;++Vt,--Gt){const Wt=Bt[Vt];Bt[Vt]=Bt[Gt],Bt[Gt]=Wt}}function Rt(Bt,Ht,Ot=!1){let Vt="ltr";return Ot?Vt="ttb":Ht||(Vt="rtl"),{str:Bt,dir:Vt}}const Nt=[],Lt=[];function kt(Bt,Ht=-1,Ot=!1){let Vt=!0;const Gt=Bt.length;if(Gt===0||Ot)return Rt(Bt,Vt,Ot);Nt.length=Gt,Lt.length=Gt;let Wt=0,en,Sn;for(en=0;en<Gt;++en){Nt[en]=Bt.charAt(en);const Kt=Bt.charCodeAt(en);let Jt="L";Kt<=255?Jt=Et[Kt]:1424<=Kt&&Kt<=1524?Jt="R":1536<=Kt&&Kt<=1791?(Jt=Mt[Kt&255],Jt||(0,vt.warn)("Bidi: invalid Unicode character "+Kt.toString(16))):1792<=Kt&&Kt<=2220&&(Jt="AL"),(Jt==="R"||Jt==="AL"||Jt==="AN")&&Wt++,Lt[en]=Jt}if(Wt===0)return Vt=!0,Rt(Bt,Vt);Ht===-1&&(Wt/Gt<.3&&Gt>4?(Vt=!0,Ht=0):(Vt=!1,Ht=1));const sn=[];for(en=0;en<Gt;++en)sn[en]=Ht;const hn=Pt(Ht)?"R":"L",Qt=hn,qt=Qt;let nn=Qt;for(en=0;en<Gt;++en)Lt[en]==="NSM"?Lt[en]=nn:nn=Lt[en];nn=Qt;let Ut;for(en=0;en<Gt;++en)Ut=Lt[en],Ut==="EN"?Lt[en]=nn==="AL"?"AN":"EN":(Ut==="R"||Ut==="L"||Ut==="AL")&&(nn=Ut);for(en=0;en<Gt;++en)Ut=Lt[en],Ut==="AL"&&(Lt[en]="R");for(en=1;en<Gt-1;++en)Lt[en]==="ES"&&Lt[en-1]==="EN"&&Lt[en+1]==="EN"&&(Lt[en]="EN"),Lt[en]==="CS"&&(Lt[en-1]==="EN"||Lt[en-1]==="AN")&&Lt[en+1]===Lt[en-1]&&(Lt[en]=Lt[en-1]);for(en=0;en<Gt;++en)if(Lt[en]==="EN"){for(let Kt=en-1;Kt>=0&&Lt[Kt]==="ET";--Kt)Lt[Kt]="EN";for(let Kt=en+1;Kt<Gt&&Lt[Kt]==="ET";++Kt)Lt[Kt]="EN"}for(en=0;en<Gt;++en)Ut=Lt[en],(Ut==="WS"||Ut==="ES"||Ut==="ET"||Ut==="CS")&&(Lt[en]="ON");for(nn=Qt,en=0;en<Gt;++en)Ut=Lt[en],Ut==="EN"?Lt[en]=nn==="L"?"L":"EN":(Ut==="R"||Ut==="L")&&(nn=Ut);for(en=0;en<Gt;++en)if(Lt[en]==="ON"){const Kt=$t(Lt,en+1,"ON");let Jt=Qt;en>0&&(Jt=Lt[en-1]);let Yt=qt;Kt+1<Gt&&(Yt=Lt[Kt+1]),Jt!=="L"&&(Jt="R"),Yt!=="L"&&(Yt="R"),Jt===Yt&&_t(Lt,en,Kt,Jt),en=Kt-1}for(en=0;en<Gt;++en)Lt[en]==="ON"&&(Lt[en]=hn);for(en=0;en<Gt;++en)Ut=Lt[en],xt(sn[en])?Ut==="R"?sn[en]+=1:(Ut==="AN"||Ut==="EN")&&(sn[en]+=2):(Ut==="L"||Ut==="AN"||Ut==="EN")&&(sn[en]+=1);let zt=-1,cn=99,ln;for(en=0,Sn=sn.length;en<Sn;++en)ln=sn[en],zt<ln&&(zt=ln),cn>ln&&Pt(ln)&&(cn=ln);for(ln=zt;ln>=cn;--ln){let Kt=-1;for(en=0,Sn=sn.length;en<Sn;++en)sn[en]<ln?Kt>=0&&(jt(Nt,Kt,en),Kt=-1):Kt<0&&(Kt=en);Kt>=0&&jt(Nt,Kt,sn.length)}for(en=0,Sn=Nt.length;en<Sn;++en){const Kt=Nt[en];(Kt==="<"||Kt===">")&&(Nt[en]="")}return Rt(Nt.join(""),Vt)}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.MurmurHash3_64=void 0;var vt=Ft(2);const Et=3285377520,Mt=4294901760,Pt=65535;class xt{constructor(_t){this.h1=_t?_t&4294967295:Et,this.h2=_t?_t&4294967295:Et}update(_t){let jt,Rt;if(typeof _t=="string"){jt=new Uint8Array(_t.length*2),Rt=0;for(let sn=0,hn=_t.length;sn<hn;sn++){const Qt=_t.charCodeAt(sn);Qt<=255?jt[Rt++]=Qt:(jt[Rt++]=Qt>>>8,jt[Rt++]=Qt&255)}}else if((0,vt.isArrayBuffer)(_t))jt=_t.slice(),Rt=jt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Nt=Rt>>2,Lt=Rt-Nt*4,kt=new Uint32Array(jt.buffer,0,Nt);let Bt=0,Ht=0,Ot=this.h1,Vt=this.h2;const Gt=3432918353,Wt=461845907,en=Gt&Pt,Sn=Wt&Pt;for(let sn=0;sn<Nt;sn++)sn&1?(Bt=kt[sn],Bt=Bt*Gt&Mt|Bt*en&Pt,Bt=Bt<<15|Bt>>>17,Bt=Bt*Wt&Mt|Bt*Sn&Pt,Ot^=Bt,Ot=Ot<<13|Ot>>>19,Ot=Ot*5+3864292196):(Ht=kt[sn],Ht=Ht*Gt&Mt|Ht*en&Pt,Ht=Ht<<15|Ht>>>17,Ht=Ht*Wt&Mt|Ht*Sn&Pt,Vt^=Ht,Vt=Vt<<13|Vt>>>19,Vt=Vt*5+3864292196);switch(Bt=0,Lt){case 3:Bt^=jt[Nt*4+2]<<16;case 2:Bt^=jt[Nt*4+1]<<8;case 1:Bt^=jt[Nt*4],Bt=Bt*Gt&Mt|Bt*en&Pt,Bt=Bt<<15|Bt>>>17,Bt=Bt*Wt&Mt|Bt*Sn&Pt,Nt&1?Ot^=Bt:Vt^=Bt}this.h1=Ot,this.h2=Vt}hexdigest(){let _t=this.h1,jt=this.h2;_t^=jt>>>1,_t=_t*3981806797&Mt|_t*36045&Pt,jt=jt*4283543511&Mt|((jt<<16|_t>>>16)*2950163797&Mt)>>>16,_t^=jt>>>1,_t=_t*444984403&Mt|_t*60499&Pt,jt=jt*3301882366&Mt|((jt<<16|_t>>>16)*3120437893&Mt)>>>16,_t^=jt>>>1;const Rt=(_t>>>0).toString(16),Nt=(jt>>>0).toString(16);return Rt.padStart(8,"0")+Nt.padStart(8,"0")}}St.MurmurHash3_64=xt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.OperatorList=void 0;var vt=Ft(2);function Et(_t,jt,Rt,Nt,Lt){let kt=_t;for(let Bt=0,Ht=jt.length-1;Bt<Ht;Bt++){const Ot=jt[Bt];kt=kt[Ot]||(kt[Ot]=[])}kt[jt.at(-1)]={checkFn:Rt,iterateFn:Nt,processFn:Lt}}const Mt=[];Et(Mt,[vt.OPS.save,vt.OPS.transform,vt.OPS.paintInlineImageXObject,vt.OPS.restore],null,function(jt,Rt){const Nt=jt.fnArray,Lt=jt.iCurr-3,kt=(Rt-Lt)%4;switch(kt){case 0:return Nt[Rt]===vt.OPS.save;case 1:return Nt[Rt]===vt.OPS.transform;case 2:return Nt[Rt]===vt.OPS.paintInlineImageXObject;case 3:return Nt[Rt]===vt.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${kt}`)},function(jt,Rt){const Ht=jt.fnArray,Ot=jt.argsArray,Vt=jt.iCurr,Gt=Vt-3,Wt=Vt-2,en=Vt-1,Sn=Math.min(Math.floor((Rt-Gt)/4),200);if(Sn<10)return Rt-(Rt-Gt)%4;let sn=0;const hn=[];let Qt=0,qt=1,nn=1;for(let Kt=0;Kt<Sn;Kt++){const Jt=Ot[Wt+(Kt<<2)],Yt=Ot[en+(Kt<<2)][0];qt+Yt.width>1e3&&(sn=Math.max(sn,qt),nn+=Qt+2,qt=0,Qt=0),hn.push({transform:Jt,x:qt,y:nn,w:Yt.width,h:Yt.height}),qt+=Yt.width+2,Qt=Math.max(Qt,Yt.height)}const Ut=Math.max(sn,qt)+1,zt=nn+Qt+1,cn=new Uint8Array(Ut*zt*4),ln=Ut<<2;for(let Kt=0;Kt<Sn;Kt++){const Jt=Ot[en+(Kt<<2)][0].data,Yt=hn[Kt].w<<2;let tn=0,un=hn[Kt].x+hn[Kt].y*Ut<<2;cn.set(Jt.subarray(0,Yt),un-ln);for(let yn=0,xn=hn[Kt].h;yn<xn;yn++)cn.set(Jt.subarray(tn,tn+Yt),un),tn+=Yt,un+=ln;for(cn.set(Jt.subarray(tn-Yt,tn),un);un>=0;)Jt[un-4]=Jt[un],Jt[un-3]=Jt[un+1],Jt[un-2]=Jt[un+2],Jt[un-1]=Jt[un+3],Jt[un+Yt]=Jt[un+Yt-4],Jt[un+Yt+1]=Jt[un+Yt-3],Jt[un+Yt+2]=Jt[un+Yt-2],Jt[un+Yt+3]=Jt[un+Yt-1],un-=ln}return Ht.splice(Gt,Sn*4,vt.OPS.paintInlineImageXObjectGroup),Ot.splice(Gt,Sn*4,[{width:Ut,height:zt,kind:vt.ImageKind.RGBA_32BPP,data:cn},hn]),Gt+1}),Et(Mt,[vt.OPS.save,vt.OPS.transform,vt.OPS.paintImageMaskXObject,vt.OPS.restore],null,function(jt,Rt){const Nt=jt.fnArray,Lt=jt.iCurr-3,kt=(Rt-Lt)%4;switch(kt){case 0:return Nt[Rt]===vt.OPS.save;case 1:return Nt[Rt]===vt.OPS.transform;case 2:return Nt[Rt]===vt.OPS.paintImageMaskXObject;case 3:return Nt[Rt]===vt.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${kt}`)},function(jt,Rt){const Bt=jt.fnArray,Ht=jt.argsArray,Ot=jt.iCurr,Vt=Ot-3,Gt=Ot-2,Wt=Ot-1;let en=Math.floor((Rt-Vt)/4);if(en<10)return Rt-(Rt-Vt)%4;let Sn=!1,sn,hn;const Qt=Ht[Wt][0],qt=Ht[Gt][0],nn=Ht[Gt][1],Ut=Ht[Gt][2],zt=Ht[Gt][3];if(nn===Ut){Sn=!0,sn=Gt+4;let cn=Wt+4;for(let ln=1;ln<en;ln++,sn+=4,cn+=4)if(hn=Ht[sn],Ht[cn][0]!==Qt||hn[0]!==qt||hn[1]!==nn||hn[2]!==Ut||hn[3]!==zt){ln<10?Sn=!1:en=ln;break}}if(Sn){en=Math.min(en,1e3);const cn=new Float32Array(en*2);sn=Gt;for(let ln=0;ln<en;ln++,sn+=4)hn=Ht[sn],cn[ln<<1]=hn[4],cn[(ln<<1)+1]=hn[5];Bt.splice(Vt,en*4,vt.OPS.paintImageMaskXObjectRepeat),Ht.splice(Vt,en*4,[Qt,qt,nn,Ut,zt,cn])}else{en=Math.min(en,100);const cn=[];for(let ln=0;ln<en;ln++){hn=Ht[Gt+(ln<<2)];const Kt=Ht[Wt+(ln<<2)][0];cn.push({data:Kt.data,width:Kt.width,height:Kt.height,interpolate:Kt.interpolate,count:Kt.count,transform:hn})}Bt.splice(Vt,en*4,vt.OPS.paintImageMaskXObjectGroup),Ht.splice(Vt,en*4,[cn])}return Vt+1}),Et(Mt,[vt.OPS.save,vt.OPS.transform,vt.OPS.paintImageXObject,vt.OPS.restore],function(_t){const jt=_t.argsArray,Rt=_t.iCurr-2;return jt[Rt][1]===0&&jt[Rt][2]===0},function(jt,Rt){const Nt=jt.fnArray,Lt=jt.argsArray,kt=jt.iCurr-3,Bt=(Rt-kt)%4;switch(Bt){case 0:return Nt[Rt]===vt.OPS.save;case 1:if(Nt[Rt]!==vt.OPS.transform)return!1;const Ht=jt.iCurr-2,Ot=Lt[Ht][0],Vt=Lt[Ht][3];return!(Lt[Rt][0]!==Ot||Lt[Rt][1]!==0||Lt[Rt][2]!==0||Lt[Rt][3]!==Vt);case 2:if(Nt[Rt]!==vt.OPS.paintImageXObject)return!1;const Gt=jt.iCurr-1,Wt=Lt[Gt][0];return Lt[Rt][0]===Wt;case 3:return Nt[Rt]===vt.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${Bt}`)},function(_t,jt){const Lt=_t.fnArray,kt=_t.argsArray,Bt=_t.iCurr,Ht=Bt-3,Ot=Bt-2,Vt=Bt-1,Gt=kt[Vt][0],Wt=kt[Ot][0],en=kt[Ot][3],Sn=Math.min(Math.floor((jt-Ht)/4),1e3);if(Sn<3)return jt-(jt-Ht)%4;const sn=new Float32Array(Sn*2);let hn=Ot;for(let qt=0;qt<Sn;qt++,hn+=4){const nn=kt[hn];sn[qt<<1]=nn[4],sn[(qt<<1)+1]=nn[5]}const Qt=[Gt,Wt,en,sn];return Lt.splice(Ht,Sn*4,vt.OPS.paintImageXObjectRepeat),kt.splice(Ht,Sn*4,Qt),Ht+1}),Et(Mt,[vt.OPS.beginText,vt.OPS.setFont,vt.OPS.setTextMatrix,vt.OPS.showText,vt.OPS.endText],null,function(jt,Rt){const Nt=jt.fnArray,Lt=jt.argsArray,kt=jt.iCurr-4,Bt=(Rt-kt)%5;switch(Bt){case 0:return Nt[Rt]===vt.OPS.beginText;case 1:return Nt[Rt]===vt.OPS.setFont;case 2:return Nt[Rt]===vt.OPS.setTextMatrix;case 3:if(Nt[Rt]!==vt.OPS.showText)return!1;const Ht=jt.iCurr-3,Ot=Lt[Ht][0],Vt=Lt[Ht][1];return!(Lt[Rt][0]!==Ot||Lt[Rt][1]!==Vt);case 4:return Nt[Rt]===vt.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${Bt}`)},function(_t,jt){const Lt=_t.fnArray,kt=_t.argsArray,Bt=_t.iCurr,Ht=Bt-4,Ot=Bt-3,Vt=Bt-2,Gt=Bt-1,Wt=Bt,en=kt[Ot][0],Sn=kt[Ot][1];let sn=Math.min(Math.floor((jt-Ht)/5),1e3);if(sn<3)return jt-(jt-Ht)%5;let hn=Ht;Ht>=4&&Lt[Ht-4]===Lt[Ot]&&Lt[Ht-3]===Lt[Vt]&&Lt[Ht-2]===Lt[Gt]&&Lt[Ht-1]===Lt[Wt]&&kt[Ht-4][0]===en&&kt[Ht-4][1]===Sn&&(sn++,hn-=5);let Qt=hn+4;for(let qt=1;qt<sn;qt++)Lt.splice(Qt,3),kt.splice(Qt,3),Qt+=2;return Qt+1});class Pt{constructor(jt){this.queue=jt}_optimize(){}push(jt,Rt){this.queue.fnArray.push(jt),this.queue.argsArray.push(Rt),this._optimize()}flush(){}reset(){}}class xt extends Pt{constructor(jt){super(jt),this.state=null,this.context={iCurr:0,fnArray:jt.fnArray,argsArray:jt.argsArray},this.match=null,this.lastProcessed=0}_optimize(){const jt=this.queue.fnArray;let Rt=this.lastProcessed,Nt=jt.length,Lt=this.state,kt=this.match;if(!Lt&&!kt&&Rt+1===Nt&&!Mt[jt[Rt]]){this.lastProcessed=Nt;return}const Bt=this.context;for(;Rt<Nt;){if(kt){if((0,kt.iterateFn)(Bt,Rt)){Rt++;continue}if(Rt=(0,kt.processFn)(Bt,Rt+1),Nt=jt.length,kt=null,Lt=null,Rt>=Nt)break}if(Lt=(Lt||Mt)[jt[Rt]],!Lt||Array.isArray(Lt)){Rt++;continue}if(Bt.iCurr=Rt,Rt++,Lt.checkFn&&!(0,Lt.checkFn)(Bt)){Lt=null;continue}kt=Lt,Lt=null}this.state=Lt,this.match=kt,this.lastProcessed=Rt}flush(){for(;this.match;){const jt=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,jt),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class $t{static get CHUNK_SIZE(){return(0,vt.shadow)(this,"CHUNK_SIZE",1e3)}static get CHUNK_SIZE_ABOUT(){return(0,vt.shadow)(this,"CHUNK_SIZE_ABOUT",this.CHUNK_SIZE-5)}constructor(jt=0,Rt){this._streamSink=Rt,this.fnArray=[],this.argsArray=[],Rt&&!(jt&vt.RenderingIntentFlag.OPLIST)?this.optimizer=new xt(this):this.optimizer=new Pt(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=Rt?null:Promise.resolve()}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(jt,Rt){this.optimizer.push(jt,Rt),this.weight++,this._streamSink&&(this.weight>=$t.CHUNK_SIZE?this.flush():this.weight>=$t.CHUNK_SIZE_ABOUT&&(jt===vt.OPS.restore||jt===vt.OPS.endText)&&this.flush())}addImageOps(jt,Rt,Nt){Nt!==void 0&&this.addOp(vt.OPS.beginMarkedContentProps,["OC",Nt]),this.addOp(jt,Rt),Nt!==void 0&&this.addOp(vt.OPS.endMarkedContent,[])}addDependency(jt){this.dependencies.has(jt)||(this.dependencies.add(jt),this.addOp(vt.OPS.dependency,[jt]))}addDependencies(jt){for(const Rt of jt)this.addDependency(Rt)}addOpList(jt){if(!(jt instanceof $t)){(0,vt.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const Rt of jt.dependencies)this.dependencies.add(Rt);for(let Rt=0,Nt=jt.length;Rt<Nt;Rt++)this.addOp(jt.fnArray[Rt],jt.argsArray[Rt])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const jt=[],{fnArray:Rt,argsArray:Nt,length:Lt}=this;for(let kt=0;kt<Lt;kt++)switch(Rt[kt]){case vt.OPS.paintInlineImageXObject:case vt.OPS.paintInlineImageXObjectGroup:case vt.OPS.paintImageMaskXObject:const Bt=Nt[kt][0];!Bt.cached&&Bt.data&&Bt.data.buffer instanceof ArrayBuffer&&jt.push(Bt.data.buffer);break}return jt}flush(jt=!1,Rt=null){this.optimizer.flush();const Nt=this.length;this._totalLength+=Nt,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:jt,separateAnnots:Rt,length:Nt},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}St.OperatorList=$t},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.PDFImage=void 0;var vt=Ft(2),Et=Ft(64),Mt=Ft(7),Pt=Ft(14),xt=Ft(19),$t=Ft(27),_t=Ft(30),jt=Ft(5);function Rt(kt,Bt,Ht,Ot){return kt=Bt+kt*Ht,kt<0?kt=0:kt>Ot&&(kt=Ot),kt}function Nt(kt,Bt,Ht,Ot,Vt,Gt){const Wt=Vt*Gt;let en;Bt<=8?en=new Uint8Array(Wt):Bt<=16?en=new Uint16Array(Wt):en=new Uint32Array(Wt);const Sn=Ht/Vt,sn=Ot/Gt;let hn,Qt,qt,nn=0,Ut;const zt=new Uint16Array(Vt),cn=Ht;for(hn=0;hn<Vt;hn++)zt[hn]=Math.floor(hn*Sn);for(hn=0;hn<Gt;hn++)for(qt=Math.floor(hn*sn)*cn,Qt=0;Qt<Vt;Qt++)Ut=qt+zt[Qt],en[nn++]=kt[Ut];return en}class Lt{constructor({xref:Bt,res:Ht,image:Ot,isInline:Vt=!1,smask:Gt=null,mask:Wt=null,isMask:en=!1,pdfFunctionFactory:Sn,localColorSpaceCache:sn}){this.image=Ot;const hn=Ot.dict,Qt=hn.get("F","Filter");let qt;if(Qt instanceof jt.Name)qt=Qt.name;else if(Array.isArray(Qt)){const cn=Bt.fetchIfRef(Qt[0]);cn instanceof jt.Name&&(qt=cn.name)}switch(qt){case"JPXDecode":const cn=new _t.JpxImage;cn.parseImageProperties(Ot.stream),Ot.stream.reset(),Ot.width=cn.width,Ot.height=cn.height,Ot.bitsPerComponent=cn.bitsPerComponent,Ot.numComps=cn.componentsCount;break;case"JBIG2Decode":Ot.bitsPerComponent=1,Ot.numComps=1;break}let nn=hn.get("W","Width"),Ut=hn.get("H","Height");if(Number.isInteger(Ot.width)&&Ot.width>0&&Number.isInteger(Ot.height)&&Ot.height>0&&(Ot.width!==nn||Ot.height!==Ut)&&((0,vt.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),nn=Ot.width,Ut=Ot.height),nn<1||Ut<1)throw new vt.FormatError(`Invalid image width: ${nn} or height: ${Ut}`);this.width=nn,this.height=Ut,this.interpolate=hn.get("I","Interpolate"),this.imageMask=hn.get("IM","ImageMask")||!1,this.matte=hn.get("Matte")||!1;let zt=Ot.bitsPerComponent;if(!zt&&(zt=hn.get("BPC","BitsPerComponent"),!zt))if(this.imageMask)zt=1;else throw new vt.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=zt,!this.imageMask){let cn=hn.getRaw("CS")||hn.getRaw("ColorSpace");if(!cn)switch((0,vt.info)("JPX images (which do not require color spaces)"),Ot.numComps){case 1:cn=jt.Name.get("DeviceGray");break;case 3:cn=jt.Name.get("DeviceRGB");break;case 4:cn=jt.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${Ot.numComps} color components not supported.`)}this.colorSpace=Pt.ColorSpace.parse({cs:cn,xref:Bt,resources:Vt?Ht:null,pdfFunctionFactory:Sn,localColorSpaceCache:sn}),this.numComps=this.colorSpace.numComps}if(this.decode=hn.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,zt)||en&&!Pt.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const cn=(1<<zt)-1;this.decodeCoefficients=[],this.decodeAddends=[];const ln=this.colorSpace&&this.colorSpace.name==="Indexed";for(let Kt=0,Jt=0;Kt<this.decode.length;Kt+=2,++Jt){const Yt=this.decode[Kt],tn=this.decode[Kt+1];this.decodeCoefficients[Jt]=ln?(tn-Yt)/cn:tn-Yt,this.decodeAddends[Jt]=ln?Yt:cn*Yt}}Gt?this.smask=new Lt({xref:Bt,res:Ht,image:Gt,isInline:Vt,pdfFunctionFactory:Sn,localColorSpaceCache:sn}):Wt&&(Wt instanceof Mt.BaseStream?Wt.dict.get("IM","ImageMask")?this.mask=new Lt({xref:Bt,res:Ht,image:Wt,isInline:Vt,isMask:!0,pdfFunctionFactory:Sn,localColorSpaceCache:sn}):(0,vt.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=Wt)}static async buildImage({xref:Bt,res:Ht,image:Ot,isInline:Vt=!1,pdfFunctionFactory:Gt,localColorSpaceCache:Wt}){const en=Ot;let Sn=null,sn=null;const hn=Ot.dict.get("SMask"),Qt=Ot.dict.get("Mask");return hn?hn instanceof Mt.BaseStream?Sn=hn:(0,vt.warn)("Unsupported /SMask format."):Qt&&(Qt instanceof Mt.BaseStream||Array.isArray(Qt)?sn=Qt:(0,vt.warn)("Unsupported /Mask format.")),new Lt({xref:Bt,res:Ht,image:en,isInline:Vt,smask:Sn,mask:sn,pdfFunctionFactory:Gt,localColorSpaceCache:Wt})}static createRawMask({imgArray:Bt,width:Ht,height:Ot,imageIsFromDecodeStream:Vt,inverseDecode:Gt,interpolate:Wt}){const en=(Ht+7>>3)*Ot,Sn=Bt.byteLength,sn=en===Sn;let hn,Qt;if(Vt&&(!Gt||sn)?hn=Bt:Gt?(hn=new Uint8Array(en),hn.set(Bt),hn.fill(255,Sn)):hn=new Uint8Array(Bt),Gt)for(Qt=0;Qt<Sn;Qt++)hn[Qt]^=255;return{data:hn,width:Ht,height:Ot,interpolate:Wt}}static createMask({imgArray:Bt,width:Ht,height:Ot,imageIsFromDecodeStream:Vt,inverseDecode:Gt,interpolate:Wt}){const en=Ht===1&&Ot===1&&Gt===(Bt.length===0||!!(Bt[0]&128));if(en)return{isSingleOpaquePixel:en};if(vt.FeatureTest.isOffscreenCanvasSupported){const Sn=new OffscreenCanvas(Ht,Ot),sn=Sn.getContext("2d"),hn=sn.createImageData(Ht,Ot);(0,Et.applyMaskImageData)({src:Bt,dest:hn.data,width:Ht,height:Ot,inverseDecode:Gt}),sn.putImageData(hn,0,0);const Qt=Sn.transferToImageBitmap();return{data:null,width:Ht,height:Ot,interpolate:Wt,bitmap:Qt}}return this.createRawMask({imgArray:Bt,width:Ht,height:Ot,inverseDecode:Gt,imageIsFromDecodeStream:Vt,interpolate:Wt})}get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}decodeBuffer(Bt){const Ht=this.bpc,Ot=this.numComps,Vt=this.decodeAddends,Gt=this.decodeCoefficients,Wt=(1<<Ht)-1;let en,Sn;if(Ht===1){for(en=0,Sn=Bt.length;en<Sn;en++)Bt[en]=+!Bt[en];return}let sn=0;for(en=0,Sn=this.width*this.height;en<Sn;en++)for(let hn=0;hn<Ot;hn++)Bt[sn]=Rt(Bt[sn],Vt[hn],Gt[hn],Wt),sn++}getComponents(Bt){const Ht=this.bpc;if(Ht===8)return Bt;const Ot=this.width,Vt=this.height,Gt=this.numComps,Wt=Ot*Vt*Gt;let en=0,Sn;Ht<=8?Sn=new Uint8Array(Wt):Ht<=16?Sn=new Uint16Array(Wt):Sn=new Uint32Array(Wt);const sn=Ot*Gt,hn=(1<<Ht)-1;let Qt=0,qt,nn;if(Ht===1){let Ut,zt,cn;for(let ln=0;ln<Vt;ln++){for(zt=Qt+(sn&-8),cn=Qt+sn;Qt<zt;)nn=Bt[en++],Sn[Qt]=nn>>7&1,Sn[Qt+1]=nn>>6&1,Sn[Qt+2]=nn>>5&1,Sn[Qt+3]=nn>>4&1,Sn[Qt+4]=nn>>3&1,Sn[Qt+5]=nn>>2&1,Sn[Qt+6]=nn>>1&1,Sn[Qt+7]=nn&1,Qt+=8;if(Qt<cn)for(nn=Bt[en++],Ut=128;Qt<cn;)Sn[Qt++]=+!!(nn&Ut),Ut>>=1}}else{let Ut=0;for(nn=0,Qt=0,qt=Wt;Qt<qt;++Qt){for(Qt%sn===0&&(nn=0,Ut=0);Ut<Ht;)nn=nn<<8|Bt[en++],Ut+=8;const zt=Ut-Ht;let cn=nn>>zt;cn<0?cn=0:cn>hn&&(cn=hn),Sn[Qt]=cn,nn&=(1<<zt)-1,Ut=zt}}return Sn}fillOpacity(Bt,Ht,Ot,Vt,Gt){const Wt=this.smask,en=this.mask;let Sn,sn,hn,Qt,qt,nn;if(Wt)sn=Wt.width,hn=Wt.height,Sn=new Uint8ClampedArray(sn*hn),Wt.fillGrayBuffer(Sn),(sn!==Ht||hn!==Ot)&&(Sn=Nt(Sn,Wt.bpc,sn,hn,Ht,Ot));else if(en)if(en instanceof Lt){for(sn=en.width,hn=en.height,Sn=new Uint8ClampedArray(sn*hn),en.numComps=1,en.fillGrayBuffer(Sn),Qt=0,qt=sn*hn;Qt<qt;++Qt)Sn[Qt]=255-Sn[Qt];(sn!==Ht||hn!==Ot)&&(Sn=Nt(Sn,en.bpc,sn,hn,Ht,Ot))}else if(Array.isArray(en)){Sn=new Uint8ClampedArray(Ht*Ot);const Ut=this.numComps;for(Qt=0,qt=Ht*Ot;Qt<qt;++Qt){let zt=0;const cn=Qt*Ut;for(nn=0;nn<Ut;++nn){const ln=Gt[cn+nn],Kt=nn*2;if(ln<en[Kt]||ln>en[Kt+1]){zt=255;break}}Sn[Qt]=zt}}else throw new vt.FormatError("Unknown mask format.");if(Sn)for(Qt=0,nn=3,qt=Ht*Vt;Qt<qt;++Qt,nn+=4)Bt[nn]=Sn[Qt];else for(Qt=0,nn=3,qt=Ht*Vt;Qt<qt;++Qt,nn+=4)Bt[nn]=255}undoPreblend(Bt,Ht,Ot){const Vt=this.smask&&this.smask.matte;if(!Vt)return;const Gt=this.colorSpace.getRgb(Vt,0),Wt=Gt[0],en=Gt[1],Sn=Gt[2],sn=Ht*Ot*4;for(let hn=0;hn<sn;hn+=4){const Qt=Bt[hn+3];if(Qt===0){Bt[hn]=255,Bt[hn+1]=255,Bt[hn+2]=255;continue}const qt=255/Qt;Bt[hn]=(Bt[hn]-Wt)*qt+Wt,Bt[hn+1]=(Bt[hn+1]-en)*qt+en,Bt[hn+2]=(Bt[hn+2]-Sn)*qt+Sn}}createImageData(Bt=!1){const Ht=this.drawWidth,Ot=this.drawHeight,Vt={width:Ht,height:Ot,interpolate:this.interpolate,kind:0,data:null},Gt=this.numComps,Wt=this.width,en=this.height,Sn=this.bpc,sn=Wt*Gt*Sn+7>>3;if(!Bt){let zt;if(this.colorSpace.name==="DeviceGray"&&Sn===1?zt=vt.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&Sn===8&&!this.needsDecode&&(zt=vt.ImageKind.RGB_24BPP),zt&&!this.smask&&!this.mask&&Ht===Wt&&Ot===en){if(Vt.kind=zt,Vt.data=this.getImageBytes(en*sn,{}),this.needsDecode){(0,vt.assert)(zt===vt.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const cn=Vt.data;for(let ln=0,Kt=cn.length;ln<Kt;ln++)cn[ln]^=255}return Vt}if(this.image instanceof $t.JpegStream&&!this.smask&&!this.mask){let cn=en*sn;switch(this.colorSpace.name){case"DeviceGray":cn*=3;case"DeviceRGB":case"DeviceCMYK":return Vt.kind=vt.ImageKind.RGB_24BPP,Vt.data=this.getImageBytes(cn,{drawWidth:Ht,drawHeight:Ot,forceRGB:!0}),Vt}}}const hn=this.getImageBytes(en*sn,{internal:!0}),Qt=0|hn.length/sn*Ot/en,qt=this.getComponents(hn);let nn,Ut;return!Bt&&!this.smask&&!this.mask?(Vt.kind=vt.ImageKind.RGB_24BPP,Vt.data=new Uint8ClampedArray(Ht*Ot*3),nn=0,Ut=!1):(Vt.kind=vt.ImageKind.RGBA_32BPP,Vt.data=new Uint8ClampedArray(Ht*Ot*4),nn=1,Ut=!0,this.fillOpacity(Vt.data,Ht,Ot,Qt,qt)),this.needsDecode&&this.decodeBuffer(qt),this.colorSpace.fillRgb(Vt.data,Wt,en,Ht,Ot,Qt,Sn,qt,nn),Ut&&this.undoPreblend(Vt.data,Ht,Qt),Vt}fillGrayBuffer(Bt){const Ht=this.numComps;if(Ht!==1)throw new vt.FormatError(`Reading gray scale from a color image: ${Ht}`);const Ot=this.width,Vt=this.height,Gt=this.bpc,Wt=Ot*Ht*Gt+7>>3,en=this.getImageBytes(Vt*Wt,{internal:!0}),Sn=this.getComponents(en);let sn,hn;if(Gt===1){if(hn=Ot*Vt,this.needsDecode)for(sn=0;sn<hn;++sn)Bt[sn]=Sn[sn]-1&255;else for(sn=0;sn<hn;++sn)Bt[sn]=-Sn[sn]&255;return}this.needsDecode&&this.decodeBuffer(Sn),hn=Ot*Vt;const Qt=255/((1<<Gt)-1);for(sn=0;sn<hn;++sn)Bt[sn]=Qt*Sn[sn]}getImageBytes(Bt,{drawWidth:Ht,drawHeight:Ot,forceRGB:Vt=!1,internal:Gt=!1}){this.image.reset(),this.image.drawWidth=Ht||this.width,this.image.drawHeight=Ot||this.height,this.image.forceRGB=!!Vt;const Wt=this.image.getBytes(Bt);return Gt||this.image instanceof xt.DecodeStream?Wt:((0,vt.assert)(Wt instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(Wt))}}St.PDFImage=Lt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.applyMaskImageData=Et;var vt=Ft(2);function Et({src:Mt,srcPos:Pt=0,dest:xt,destPos:$t=0,width:_t,height:jt,inverseDecode:Rt=!1}){const Nt=vt.FeatureTest.isLittleEndian?4278190080:255,[Lt,kt]=Rt?[0,Nt]:[Nt,0],Bt=_t>>3,Ht=_t&7,Ot=Mt.length;xt=new Uint32Array(xt.buffer);for(let Vt=0;Vt<jt;Vt++){for(const Wt=Pt+Bt;Pt<Wt;Pt++){const en=Pt<Ot?Mt[Pt]:255;xt[$t++]=en&128?kt:Lt,xt[$t++]=en&64?kt:Lt,xt[$t++]=en&32?kt:Lt,xt[$t++]=en&16?kt:Lt,xt[$t++]=en&8?kt:Lt,xt[$t++]=en&4?kt:Lt,xt[$t++]=en&2?kt:Lt,xt[$t++]=en&1?kt:Lt}if(Ht===0)continue;const Gt=Pt<Ot?Mt[Pt++]:255;for(let Wt=0;Wt<Ht;Wt++)xt[$t++]=Gt&1<<7-Wt?kt:Lt}return{srcPos:Pt,destPos:$t}}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.incrementalUpdate=Gt,St.writeDict=jt,St.writeObject=_t;var vt=Ft(2),Et=Ft(5),Mt=Ft(6),Pt=Ft(66),xt=Ft(7),$t=Ft(67);function _t(Wt,en,Sn,sn){Sn.push(`${Wt.num} ${Wt.gen} obj
`),en instanceof Et.Dict?jt(en,Sn,sn):en instanceof xt.BaseStream&&Rt(en,Sn,sn),Sn.push(`
endobj
`)}function jt(Wt,en,Sn){en.push("<<");for(const sn of Wt.getKeys())en.push(` /${(0,Mt.escapePDFName)(sn)} `),Lt(Wt.getRaw(sn),en,Sn);en.push(">>")}function Rt(Wt,en,Sn){jt(Wt.dict,en,Sn),en.push(` stream
`);let sn=Wt.getString();Sn!==null&&(sn=Sn.encryptString(sn)),en.push(sn,`
endstream
`)}function Nt(Wt,en,Sn){en.push("[");let sn=!0;for(const hn of Wt)sn?sn=!1:en.push(" "),Lt(hn,en,Sn);en.push("]")}function Lt(Wt,en,Sn){Wt instanceof Et.Name?en.push(`/${(0,Mt.escapePDFName)(Wt.name)}`):Wt instanceof Et.Ref?en.push(`${Wt.num} ${Wt.gen} R`):Array.isArray(Wt)?Nt(Wt,en,Sn):typeof Wt=="string"?(Sn!==null&&(Wt=Sn.encryptString(Wt)),en.push(`(${(0,vt.escapeString)(Wt)})`)):typeof Wt=="number"?en.push((0,Mt.numberToString)(Wt)):typeof Wt=="boolean"?en.push(Wt.toString()):Wt instanceof Et.Dict?jt(Wt,en,Sn):Wt instanceof xt.BaseStream?Rt(Wt,en,Sn):Wt===null?en.push("null"):(0,vt.warn)(`Unhandled value in writer: ${typeof Wt}, please file a bug.`)}function kt(Wt,en,Sn,sn){for(let hn=en+Sn-1;hn>Sn-1;hn--)sn[hn]=Wt&255,Wt>>=8;return Sn+en}function Bt(Wt,en,Sn){for(let sn=0,hn=Wt.length;sn<hn;sn++)Sn[en+sn]=Wt.charCodeAt(sn)&255}function Ht(Wt,en){const Sn=Math.floor(Date.now()/1e3),sn=en.filename||"",hn=[Sn.toString(),sn,Wt.toString()];let Qt=hn.reduce((Ut,zt)=>Ut+zt.length,0);for(const Ut of Object.values(en.info))hn.push(Ut),Qt+=Ut.length;const qt=new Uint8Array(Qt);let nn=0;for(const Ut of hn)Bt(Ut,nn,qt),nn+=Ut.length;return(0,vt.bytesToString)((0,$t.calculateMD5)(qt))}function Ot(Wt,en){const Sn=new Pt.SimpleXMLParser({hasAttributes:!0}).parseFromString(Wt);for(const{xfa:hn}of en){if(!hn)continue;const{path:Qt,value:qt}=hn;if(!Qt)continue;const nn=Sn.documentElement.searchNode((0,Mt.parseXFAPath)(Qt),0);nn?Array.isArray(qt)?nn.childNodes=qt.map(Ut=>new Pt.SimpleDOMNode("value",Ut)):nn.childNodes=[new Pt.SimpleDOMNode("#text",qt)]:(0,vt.warn)(`Node not found for path: ${Qt}`)}const sn=[];return Sn.documentElement.dump(sn),sn.join("")}function Vt({xfaData:Wt,xfaDatasetsRef:en,hasXfaDatasetsEntry:Sn,acroFormRef:sn,acroForm:hn,newRefs:Qt,xref:qt,xrefInfo:nn}){if(qt===null)return;if(!Sn){if(!sn){(0,vt.warn)("XFA - Cannot save it");return}const cn=hn.get("XFA"),ln=cn.slice();ln.splice(2,0,"datasets"),ln.splice(3,0,en),hn.set("XFA",ln);const Kt=qt.encrypt;let Jt=null;Kt&&(Jt=Kt.createCipherTransform(sn.num,sn.gen));const Yt=[`${sn.num} ${sn.gen} obj
`];jt(hn,Yt,Jt),Yt.push(`
`),hn.set("XFA",cn),Qt.push({ref:sn,data:Yt.join("")})}if(Wt===null){const cn=qt.fetchIfRef(en);Wt=Ot(cn.getString(),Qt)}const Ut=qt.encrypt;Ut&&(Wt=Ut.createCipherTransform(en.num,en.gen).encryptString(Wt));const zt=`${en.num} ${en.gen} obj
<< /Type /EmbeddedFile /Length ${Wt.length}>>
stream
`+Wt+`
endstream
endobj
`;Qt.push({ref:en,data:zt})}function Gt({originalData:Wt,xrefInfo:en,newRefs:Sn,xref:sn=null,hasXfa:hn=!1,xfaDatasetsRef:Qt=null,hasXfaDatasetsEntry:qt=!1,acroFormRef:nn=null,acroForm:Ut=null,xfaData:zt=null}){hn&&Vt({xfaData:zt,xfaDatasetsRef:Qt,hasXfaDatasetsEntry:qt,acroFormRef:nn,acroForm:Ut,newRefs:Sn,xref:sn,xrefInfo:en});const cn=new Et.Dict(null),ln=en.newRef;let Kt,Jt;const Yt=Wt.at(-1);Yt===10||Yt===13?(Kt=[],Jt=Wt.length):(Kt=[`
`],Jt=Wt.length+1),cn.set("Size",ln.num+1),cn.set("Prev",en.startXRef),cn.set("Type",Et.Name.get("XRef")),en.rootRef!==null&&cn.set("Root",en.rootRef),en.infoRef!==null&&cn.set("Info",en.infoRef),en.encryptRef!==null&&cn.set("Encrypt",en.encryptRef),Sn.push({ref:ln,data:""}),Sn=Sn.sort((gn,on)=>gn.ref.num-on.ref.num);const tn=[[0,1,65535]],un=[0,1];let yn=0;for(const{ref:gn,data:on}of Sn)yn=Math.max(yn,Jt),tn.push([1,Jt,Math.min(gn.gen,65535)]),Jt+=on.length,un.push(gn.num,1),Kt.push(on);if(cn.set("Index",un),Array.isArray(en.fileIds)&&en.fileIds.length>0){const gn=Ht(Jt,en);cn.set("ID",[en.fileIds[0],gn])}const rn=[1,Math.ceil(Math.log2(yn)/8),2],An=(rn[0]+rn[1]+rn[2])*tn.length;cn.set("W",rn),cn.set("Length",An),Kt.push(`${ln.num} ${ln.gen} obj
`),jt(cn,Kt,null),Kt.push(` stream
`);const an=Kt.reduce((gn,on)=>gn+on.length,0),fn=`
endstream
endobj
startxref
${Jt}
%%EOF
`,bn=new Uint8Array(Wt.length+an+An+fn.length);bn.set(Wt);let vn=Wt.length;for(const gn of Kt)Bt(gn,vn,bn),vn+=gn.length;for(const[gn,on,wn]of tn)vn=kt(gn,rn[0],vn,bn),vn=kt(on,rn[1],vn,bn),vn=kt(wn,rn[2],vn,bn);return Bt(fn,vn,bn),bn}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.XMLParserErrorCode=St.XMLParserBase=St.SimpleXMLParser=St.SimpleDOMNode=void 0;var vt=Ft(6);const Et={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};St.XMLParserErrorCode=Et;function Mt(jt,Rt){const Nt=jt[Rt];return Nt===" "||Nt===`
`||Nt==="\r"||Nt==="	"}function Pt(jt){for(let Rt=0,Nt=jt.length;Rt<Nt;Rt++)if(!Mt(jt,Rt))return!1;return!0}class xt{_resolveEntities(Rt){return Rt.replace(/&([^;]+);/g,(Nt,Lt)=>{if(Lt.substring(0,2)==="#x")return String.fromCodePoint(parseInt(Lt.substring(2),16));if(Lt.substring(0,1)==="#")return String.fromCodePoint(parseInt(Lt.substring(1),10));switch(Lt){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(Lt)})}_parseContent(Rt,Nt){const Lt=[];let kt=Nt;function Bt(){for(;kt<Rt.length&&Mt(Rt,kt);)++kt}for(;kt<Rt.length&&!Mt(Rt,kt)&&Rt[kt]!==">"&&Rt[kt]!=="/";)++kt;const Ht=Rt.substring(Nt,kt);for(Bt();kt<Rt.length&&Rt[kt]!==">"&&Rt[kt]!=="/"&&Rt[kt]!=="?";){Bt();let Ot="",Vt="";for(;kt<Rt.length&&!Mt(Rt,kt)&&Rt[kt]!=="=";)Ot+=Rt[kt],++kt;if(Bt(),Rt[kt]!=="=")return null;++kt,Bt();const Gt=Rt[kt];if(Gt!=='"'&&Gt!=="'")return null;const Wt=Rt.indexOf(Gt,++kt);if(Wt<0)return null;Vt=Rt.substring(kt,Wt),Lt.push({name:Ot,value:this._resolveEntities(Vt)}),kt=Wt+1,Bt()}return{name:Ht,attributes:Lt,parsed:kt-Nt}}_parseProcessingInstruction(Rt,Nt){let Lt=Nt;function kt(){for(;Lt<Rt.length&&Mt(Rt,Lt);)++Lt}for(;Lt<Rt.length&&!Mt(Rt,Lt)&&Rt[Lt]!==">"&&Rt[Lt]!=="?"&&Rt[Lt]!=="/";)++Lt;const Bt=Rt.substring(Nt,Lt);kt();const Ht=Lt;for(;Lt<Rt.length&&(Rt[Lt]!=="?"||Rt[Lt+1]!==">");)++Lt;const Ot=Rt.substring(Ht,Lt);return{name:Bt,value:Ot,parsed:Lt-Nt}}parseXml(Rt){let Nt=0;for(;Nt<Rt.length;){const Lt=Rt[Nt];let kt=Nt;if(Lt==="<"){++kt;const Bt=Rt[kt];let Ht;switch(Bt){case"/":if(++kt,Ht=Rt.indexOf(">",kt),Ht<0){this.onError(Et.UnterminatedElement);return}this.onEndElement(Rt.substring(kt,Ht)),kt=Ht+1;break;case"?":++kt;const Ot=this._parseProcessingInstruction(Rt,kt);if(Rt.substring(kt+Ot.parsed,kt+Ot.parsed+2)!=="?>"){this.onError(Et.UnterminatedXmlDeclaration);return}this.onPi(Ot.name,Ot.value),kt+=Ot.parsed+2;break;case"!":if(Rt.substring(kt+1,kt+3)==="--"){if(Ht=Rt.indexOf("-->",kt+3),Ht<0){this.onError(Et.UnterminatedComment);return}this.onComment(Rt.substring(kt+3,Ht)),kt=Ht+3}else if(Rt.substring(kt+1,kt+8)==="[CDATA["){if(Ht=Rt.indexOf("]]>",kt+8),Ht<0){this.onError(Et.UnterminatedCdat);return}this.onCdata(Rt.substring(kt+8,Ht)),kt=Ht+3}else if(Rt.substring(kt+1,kt+8)==="DOCTYPE"){const Wt=Rt.indexOf("[",kt+8);let en=!1;if(Ht=Rt.indexOf(">",kt+8),Ht<0){this.onError(Et.UnterminatedDoctypeDeclaration);return}if(Wt>0&&Ht>Wt){if(Ht=Rt.indexOf("]>",kt+8),Ht<0){this.onError(Et.UnterminatedDoctypeDeclaration);return}en=!0}const Sn=Rt.substring(kt+8,Ht+(en?1:0));this.onDoctype(Sn),kt=Ht+(en?2:1)}else{this.onError(Et.MalformedElement);return}break;default:const Vt=this._parseContent(Rt,kt);if(Vt===null){this.onError(Et.MalformedElement);return}let Gt=!1;if(Rt.substring(kt+Vt.parsed,kt+Vt.parsed+2)==="/>")Gt=!0;else if(Rt.substring(kt+Vt.parsed,kt+Vt.parsed+1)!==">"){this.onError(Et.UnterminatedElement);return}this.onBeginElement(Vt.name,Vt.attributes,Gt),kt+=Vt.parsed+(Gt?2:1);break}}else{for(;kt<Rt.length&&Rt[kt]!=="<";)kt++;const Bt=Rt.substring(Nt,kt);this.onText(this._resolveEntities(Bt))}Nt=kt}}onResolveEntity(Rt){return`&${Rt};`}onPi(Rt,Nt){}onComment(Rt){}onCdata(Rt){}onDoctype(Rt){}onText(Rt){}onBeginElement(Rt,Nt,Lt){}onEndElement(Rt){}onError(Rt){}}St.XMLParserBase=xt;class $t{constructor(Rt,Nt){this.nodeName=Rt,this.nodeValue=Nt,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const Rt=this.parentNode.childNodes;if(!Rt)return;const Nt=Rt.indexOf(this);if(Nt!==-1)return Rt[Nt+1]}get textContent(){return this.childNodes?this.childNodes.map(function(Rt){return Rt.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}searchNode(Rt,Nt){if(Nt>=Rt.length)return this;const Lt=Rt[Nt],kt=[];let Bt=this;for(;;){if(Lt.name===Bt.nodeName)if(Lt.pos===0){const Ht=Bt.searchNode(Rt,Nt+1);if(Ht!==null)return Ht}else{if(kt.length===0)return null;{const[Ht]=kt.pop();let Ot=0;for(const Vt of Ht.childNodes)if(Lt.name===Vt.nodeName){if(Ot===Lt.pos)return Vt.searchNode(Rt,Nt+1);Ot++}return Bt.searchNode(Rt,Nt+1)}}if(Bt.childNodes&&Bt.childNodes.length!==0)kt.push([Bt,0]),Bt=Bt.childNodes[0];else{if(kt.length===0)return null;for(;kt.length!==0;){const[Ht,Ot]=kt.pop(),Vt=Ot+1;if(Vt<Ht.childNodes.length){kt.push([Ht,Vt]),Bt=Ht.childNodes[Vt];break}}if(kt.length===0)return null}}}dump(Rt){if(this.nodeName==="#text"){Rt.push((0,vt.encodeToXmlString)(this.nodeValue));return}if(Rt.push(`<${this.nodeName}`),this.attributes)for(const Nt of this.attributes)Rt.push(` ${Nt.name}="${(0,vt.encodeToXmlString)(Nt.value)}"`);if(this.hasChildNodes()){Rt.push(">");for(const Nt of this.childNodes)Nt.dump(Rt);Rt.push(`</${this.nodeName}>`)}else this.nodeValue?Rt.push(`>${(0,vt.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):Rt.push("/>")}}St.SimpleDOMNode=$t;class _t extends xt{constructor({hasAttributes:Rt=!1,lowerCaseName:Nt=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=Et.NoError,this._hasAttributes=Rt,this._lowerCaseName=Nt}parseFromString(Rt){if(this._currentFragment=[],this._stack=[],this._errorCode=Et.NoError,this.parseXml(Rt),this._errorCode!==Et.NoError)return;const[Nt]=this._currentFragment;if(Nt)return{documentElement:Nt}}onText(Rt){if(Pt(Rt))return;const Nt=new $t("#text",Rt);this._currentFragment.push(Nt)}onCdata(Rt){const Nt=new $t("#text",Rt);this._currentFragment.push(Nt)}onBeginElement(Rt,Nt,Lt){this._lowerCaseName&&(Rt=Rt.toLowerCase());const kt=new $t(Rt);kt.childNodes=[],this._hasAttributes&&(kt.attributes=Nt),this._currentFragment.push(kt),!Lt&&(this._stack.push(this._currentFragment),this._currentFragment=kt.childNodes)}onEndElement(Rt){this._currentFragment=this._stack.pop()||[];const Nt=this._currentFragment.at(-1);if(!Nt)return null;for(let Lt=0,kt=Nt.childNodes.length;Lt<kt;Lt++)Nt.childNodes[Lt].parentNode=Nt;return Nt}onError(Rt){this._errorCode=Rt}}St.SimpleXMLParser=_t},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.calculateSHA256=St.calculateMD5=St.PDF20=St.PDF17=St.CipherTransformFactory=St.ARCFourCipher=St.AES256Cipher=St.AES128Cipher=void 0,St.calculateSHA384=Rt,St.calculateSHA512=void 0;var vt=Ft(2),Et=Ft(5),Mt=Ft(68);class Pt{constructor(en){this.a=0,this.b=0;const Sn=new Uint8Array(256),sn=en.length;for(let hn=0;hn<256;++hn)Sn[hn]=hn;for(let hn=0,Qt=0;hn<256;++hn){const qt=Sn[hn];Qt=Qt+qt+en[hn%sn]&255,Sn[hn]=Sn[Qt],Sn[Qt]=qt}this.s=Sn}encryptBlock(en){let Sn=this.a,sn=this.b;const hn=this.s,Qt=en.length,qt=new Uint8Array(Qt);for(let nn=0;nn<Qt;++nn){Sn=Sn+1&255;const Ut=hn[Sn];sn=sn+Ut&255;const zt=hn[sn];hn[Sn]=zt,hn[sn]=Ut,qt[nn]=en[nn]^hn[Ut+zt&255]}return this.a=Sn,this.b=sn,qt}decryptBlock(en){return this.encryptBlock(en)}encrypt(en){return this.encryptBlock(en)}}St.ARCFourCipher=Pt;const xt=function(){const en=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),Sn=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function sn(hn,Qt,qt){let nn=1732584193,Ut=-271733879,zt=-1732584194,cn=271733878;const ln=qt+72&-64,Kt=new Uint8Array(ln);let Jt,Yt;for(Jt=0;Jt<qt;++Jt)Kt[Jt]=hn[Qt++];Kt[Jt++]=128;const tn=ln-8;for(;Jt<tn;)Kt[Jt++]=0;Kt[Jt++]=qt<<3&255,Kt[Jt++]=qt>>5&255,Kt[Jt++]=qt>>13&255,Kt[Jt++]=qt>>21&255,Kt[Jt++]=qt>>>29&255,Kt[Jt++]=0,Kt[Jt++]=0,Kt[Jt++]=0;const un=new Int32Array(16);for(Jt=0;Jt<ln;){for(Yt=0;Yt<16;++Yt,Jt+=4)un[Yt]=Kt[Jt]|Kt[Jt+1]<<8|Kt[Jt+2]<<16|Kt[Jt+3]<<24;let yn=nn,xn=Ut,rn=zt,dn=cn,An,an;for(Yt=0;Yt<64;++Yt){Yt<16?(An=xn&rn|~xn&dn,an=Yt):Yt<32?(An=dn&xn|~dn&rn,an=5*Yt+1&15):Yt<48?(An=xn^rn^dn,an=3*Yt+5&15):(An=rn^(xn|~dn),an=7*Yt&15);const fn=dn,bn=yn+An+Sn[Yt]+un[an]|0,vn=en[Yt];dn=rn,rn=xn,xn=xn+(bn<<vn|bn>>>32-vn)|0,yn=fn}nn=nn+yn|0,Ut=Ut+xn|0,zt=zt+rn|0,cn=cn+dn|0}return new Uint8Array([nn&255,nn>>8&255,nn>>16&255,nn>>>24&255,Ut&255,Ut>>8&255,Ut>>16&255,Ut>>>24&255,zt&255,zt>>8&255,zt>>16&255,zt>>>24&255,cn&255,cn>>8&255,cn>>16&255,cn>>>24&255])}return sn}();St.calculateMD5=xt;class $t{constructor(en,Sn){this.high=en|0,this.low=Sn|0}and(en){this.high&=en.high,this.low&=en.low}xor(en){this.high^=en.high,this.low^=en.low}or(en){this.high|=en.high,this.low|=en.low}shiftRight(en){en>=32?(this.low=this.high>>>en-32|0,this.high=0):(this.low=this.low>>>en|this.high<<32-en,this.high=this.high>>>en|0)}shiftLeft(en){en>=32?(this.high=this.low<<en-32,this.low=0):(this.high=this.high<<en|this.low>>>32-en,this.low<<=en)}rotateRight(en){let Sn,sn;en&32?(sn=this.low,Sn=this.high):(Sn=this.low,sn=this.high),en&=31,this.low=Sn>>>en|sn<<32-en,this.high=sn>>>en|Sn<<32-en}not(){this.high=~this.high,this.low=~this.low}add(en){const Sn=(this.low>>>0)+(en.low>>>0);let sn=(this.high>>>0)+(en.high>>>0);Sn>4294967295&&(sn+=1),this.low=Sn|0,this.high=sn|0}copyTo(en,Sn){en[Sn]=this.high>>>24&255,en[Sn+1]=this.high>>16&255,en[Sn+2]=this.high>>8&255,en[Sn+3]=this.high&255,en[Sn+4]=this.low>>>24&255,en[Sn+5]=this.low>>16&255,en[Sn+6]=this.low>>8&255,en[Sn+7]=this.low&255}assign(en){this.high=en.high,this.low=en.low}}const _t=function(){function en(cn,ln){return cn>>>ln|cn<<32-ln}function Sn(cn,ln,Kt){return cn&ln^~cn&Kt}function sn(cn,ln,Kt){return cn&ln^cn&Kt^ln&Kt}function hn(cn){return en(cn,2)^en(cn,13)^en(cn,22)}function Qt(cn){return en(cn,6)^en(cn,11)^en(cn,25)}function qt(cn){return en(cn,7)^en(cn,18)^cn>>>3}function nn(cn){return en(cn,17)^en(cn,19)^cn>>>10}const Ut=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function zt(cn,ln,Kt){let Jt=1779033703,Yt=3144134277,tn=1013904242,un=2773480762,yn=1359893119,xn=2600822924,rn=528734635,dn=1541459225;const An=Math.ceil((Kt+9)/64)*64,an=new Uint8Array(An);let fn,bn;for(fn=0;fn<Kt;++fn)an[fn]=cn[ln++];an[fn++]=128;const vn=An-8;for(;fn<vn;)an[fn++]=0;an[fn++]=0,an[fn++]=0,an[fn++]=0,an[fn++]=Kt>>>29&255,an[fn++]=Kt>>21&255,an[fn++]=Kt>>13&255,an[fn++]=Kt>>5&255,an[fn++]=Kt<<3&255;const gn=new Uint32Array(64);for(fn=0;fn<An;){for(bn=0;bn<16;++bn)gn[bn]=an[fn]<<24|an[fn+1]<<16|an[fn+2]<<8|an[fn+3],fn+=4;for(bn=16;bn<64;++bn)gn[bn]=nn(gn[bn-2])+gn[bn-7]+qt(gn[bn-15])+gn[bn-16]|0;let on=Jt,wn=Yt,pn=tn,Cn=un,Tn=yn,Fn=xn,En=rn,kn=dn,Pn,_n;for(bn=0;bn<64;++bn)Pn=kn+Qt(Tn)+Sn(Tn,Fn,En)+Ut[bn]+gn[bn],_n=hn(on)+sn(on,wn,pn),kn=En,En=Fn,Fn=Tn,Tn=Cn+Pn|0,Cn=pn,pn=wn,wn=on,on=Pn+_n|0;Jt=Jt+on|0,Yt=Yt+wn|0,tn=tn+pn|0,un=un+Cn|0,yn=yn+Tn|0,xn=xn+Fn|0,rn=rn+En|0,dn=dn+kn|0}return new Uint8Array([Jt>>24&255,Jt>>16&255,Jt>>8&255,Jt&255,Yt>>24&255,Yt>>16&255,Yt>>8&255,Yt&255,tn>>24&255,tn>>16&255,tn>>8&255,tn&255,un>>24&255,un>>16&255,un>>8&255,un&255,yn>>24&255,yn>>16&255,yn>>8&255,yn&255,xn>>24&255,xn>>16&255,xn>>8&255,xn&255,rn>>24&255,rn>>16&255,rn>>8&255,rn&255,dn>>24&255,dn>>16&255,dn>>8&255,dn&255])}return zt}();St.calculateSHA256=_t;const jt=function(){function en(zt,cn,ln,Kt,Jt){zt.assign(cn),zt.and(ln),Jt.assign(cn),Jt.not(),Jt.and(Kt),zt.xor(Jt)}function Sn(zt,cn,ln,Kt,Jt){zt.assign(cn),zt.and(ln),Jt.assign(cn),Jt.and(Kt),zt.xor(Jt),Jt.assign(ln),Jt.and(Kt),zt.xor(Jt)}function sn(zt,cn,ln){zt.assign(cn),zt.rotateRight(28),ln.assign(cn),ln.rotateRight(34),zt.xor(ln),ln.assign(cn),ln.rotateRight(39),zt.xor(ln)}function hn(zt,cn,ln){zt.assign(cn),zt.rotateRight(14),ln.assign(cn),ln.rotateRight(18),zt.xor(ln),ln.assign(cn),ln.rotateRight(41),zt.xor(ln)}function Qt(zt,cn,ln){zt.assign(cn),zt.rotateRight(1),ln.assign(cn),ln.rotateRight(8),zt.xor(ln),ln.assign(cn),ln.shiftRight(7),zt.xor(ln)}function qt(zt,cn,ln){zt.assign(cn),zt.rotateRight(19),ln.assign(cn),ln.rotateRight(61),zt.xor(ln),ln.assign(cn),ln.shiftRight(6),zt.xor(ln)}const nn=[new $t(1116352408,3609767458),new $t(1899447441,602891725),new $t(3049323471,3964484399),new $t(3921009573,2173295548),new $t(961987163,4081628472),new $t(1508970993,3053834265),new $t(2453635748,2937671579),new $t(2870763221,3664609560),new $t(3624381080,2734883394),new $t(310598401,1164996542),new $t(607225278,1323610764),new $t(1426881987,3590304994),new $t(1925078388,4068182383),new $t(2162078206,991336113),new $t(2614888103,633803317),new $t(3248222580,3479774868),new $t(3835390401,2666613458),new $t(4022224774,944711139),new $t(264347078,2341262773),new $t(604807628,2007800933),new $t(770255983,1495990901),new $t(1249150122,1856431235),new $t(1555081692,3175218132),new $t(1996064986,2198950837),new $t(2554220882,3999719339),new $t(2821834349,766784016),new $t(2952996808,2566594879),new $t(3210313671,3203337956),new $t(3336571891,1034457026),new $t(3584528711,2466948901),new $t(113926993,3758326383),new $t(338241895,168717936),new $t(666307205,1188179964),new $t(773529912,1546045734),new $t(1294757372,1522805485),new $t(1396182291,2643833823),new $t(1695183700,2343527390),new $t(1986661051,1014477480),new $t(2177026350,1206759142),new $t(2456956037,344077627),new $t(2730485921,1290863460),new $t(2820302411,3158454273),new $t(3259730800,3505952657),new $t(3345764771,106217008),new $t(3516065817,3606008344),new $t(3600352804,1432725776),new $t(4094571909,1467031594),new $t(275423344,851169720),new $t(430227734,3100823752),new $t(506948616,1363258195),new $t(659060556,3750685593),new $t(883997877,3785050280),new $t(958139571,3318307427),new $t(1322822218,3812723403),new $t(1537002063,2003034995),new $t(1747873779,3602036899),new $t(1955562222,1575990012),new $t(2024104815,1125592928),new $t(2227730452,2716904306),new $t(2361852424,442776044),new $t(2428436474,593698344),new $t(2756734187,3733110249),new $t(3204031479,2999351573),new $t(3329325298,3815920427),new $t(3391569614,3928383900),new $t(3515267271,566280711),new $t(3940187606,3454069534),new $t(4118630271,4000239992),new $t(116418474,1914138554),new $t(174292421,2731055270),new $t(289380356,3203993006),new $t(460393269,320620315),new $t(685471733,587496836),new $t(852142971,1086792851),new $t(1017036298,365543100),new $t(1126000580,2618297676),new $t(1288033470,3409855158),new $t(1501505948,4234509866),new $t(1607167915,987167468),new $t(1816402316,1246189591)];function Ut(zt,cn,ln,Kt=!1){let Jt,Yt,tn,un,yn,xn,rn,dn;Kt?(Jt=new $t(3418070365,3238371032),Yt=new $t(1654270250,914150663),tn=new $t(2438529370,812702999),un=new $t(355462360,4144912697),yn=new $t(1731405415,4290775857),xn=new $t(2394180231,1750603025),rn=new $t(3675008525,1694076839),dn=new $t(1203062813,3204075428)):(Jt=new $t(1779033703,4089235720),Yt=new $t(3144134277,2227873595),tn=new $t(1013904242,4271175723),un=new $t(2773480762,1595750129),yn=new $t(1359893119,2917565137),xn=new $t(2600822924,725511199),rn=new $t(528734635,4215389547),dn=new $t(1541459225,327033209));const An=Math.ceil((ln+17)/128)*128,an=new Uint8Array(An);let fn,bn;for(fn=0;fn<ln;++fn)an[fn]=zt[cn++];an[fn++]=128;const vn=An-16;for(;fn<vn;)an[fn++]=0;an[fn++]=0,an[fn++]=0,an[fn++]=0,an[fn++]=0,an[fn++]=0,an[fn++]=0,an[fn++]=0,an[fn++]=0,an[fn++]=0,an[fn++]=0,an[fn++]=0,an[fn++]=ln>>>29&255,an[fn++]=ln>>21&255,an[fn++]=ln>>13&255,an[fn++]=ln>>5&255,an[fn++]=ln<<3&255;const gn=new Array(80);for(fn=0;fn<80;fn++)gn[fn]=new $t(0,0);let on=new $t(0,0),wn=new $t(0,0),pn=new $t(0,0),Cn=new $t(0,0),Tn=new $t(0,0),Fn=new $t(0,0),En=new $t(0,0),kn=new $t(0,0);const Pn=new $t(0,0),_n=new $t(0,0),Mn=new $t(0,0),On=new $t(0,0);let jn;for(fn=0;fn<An;){for(bn=0;bn<16;++bn)gn[bn].high=an[fn]<<24|an[fn+1]<<16|an[fn+2]<<8|an[fn+3],gn[bn].low=an[fn+4]<<24|an[fn+5]<<16|an[fn+6]<<8|an[fn+7],fn+=8;for(bn=16;bn<80;++bn)jn=gn[bn],qt(jn,gn[bn-2],On),jn.add(gn[bn-7]),Qt(Mn,gn[bn-15],On),jn.add(Mn),jn.add(gn[bn-16]);for(on.assign(Jt),wn.assign(Yt),pn.assign(tn),Cn.assign(un),Tn.assign(yn),Fn.assign(xn),En.assign(rn),kn.assign(dn),bn=0;bn<80;++bn)Pn.assign(kn),hn(Mn,Tn,On),Pn.add(Mn),en(Mn,Tn,Fn,En,On),Pn.add(Mn),Pn.add(nn[bn]),Pn.add(gn[bn]),sn(_n,on,On),Sn(Mn,on,wn,pn,On),_n.add(Mn),jn=kn,kn=En,En=Fn,Fn=Tn,Cn.add(Pn),Tn=Cn,Cn=pn,pn=wn,wn=on,jn.assign(Pn),jn.add(_n),on=jn;Jt.add(on),Yt.add(wn),tn.add(pn),un.add(Cn),yn.add(Tn),xn.add(Fn),rn.add(En),dn.add(kn)}let qn;return Kt?(qn=new Uint8Array(48),Jt.copyTo(qn,0),Yt.copyTo(qn,8),tn.copyTo(qn,16),un.copyTo(qn,24),yn.copyTo(qn,32),xn.copyTo(qn,40)):(qn=new Uint8Array(64),Jt.copyTo(qn,0),Yt.copyTo(qn,8),tn.copyTo(qn,16),un.copyTo(qn,24),yn.copyTo(qn,32),xn.copyTo(qn,40),rn.copyTo(qn,48),dn.copyTo(qn,56)),qn}return Ut}();St.calculateSHA512=jt;function Rt(Wt,en,Sn){return jt(Wt,en,Sn,!0)}class Nt{decryptBlock(en){return en}encrypt(en){return en}}class Lt{constructor(){this.constructor===Lt&&(0,vt.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let en=0;en<256;en++)en<128?this._mixCol[en]=en<<1:this._mixCol[en]=en<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(en){(0,vt.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(en,Sn){let sn,hn,Qt;const qt=new Uint8Array(16);qt.set(en);for(let nn=0,Ut=this._keySize;nn<16;++nn,++Ut)qt[nn]^=Sn[Ut];for(let nn=this._cyclesOfRepetition-1;nn>=1;--nn){sn=qt[13],qt[13]=qt[9],qt[9]=qt[5],qt[5]=qt[1],qt[1]=sn,sn=qt[14],hn=qt[10],qt[14]=qt[6],qt[10]=qt[2],qt[6]=sn,qt[2]=hn,sn=qt[15],hn=qt[11],Qt=qt[7],qt[15]=qt[3],qt[11]=sn,qt[7]=hn,qt[3]=Qt;for(let Ut=0;Ut<16;++Ut)qt[Ut]=this._inv_s[qt[Ut]];for(let Ut=0,zt=nn*16;Ut<16;++Ut,++zt)qt[Ut]^=Sn[zt];for(let Ut=0;Ut<16;Ut+=4){const zt=this._mix[qt[Ut]],cn=this._mix[qt[Ut+1]],ln=this._mix[qt[Ut+2]],Kt=this._mix[qt[Ut+3]];sn=zt^cn>>>8^cn<<24^ln>>>16^ln<<16^Kt>>>24^Kt<<8,qt[Ut]=sn>>>24&255,qt[Ut+1]=sn>>16&255,qt[Ut+2]=sn>>8&255,qt[Ut+3]=sn&255}}sn=qt[13],qt[13]=qt[9],qt[9]=qt[5],qt[5]=qt[1],qt[1]=sn,sn=qt[14],hn=qt[10],qt[14]=qt[6],qt[10]=qt[2],qt[6]=sn,qt[2]=hn,sn=qt[15],hn=qt[11],Qt=qt[7],qt[15]=qt[3],qt[11]=sn,qt[7]=hn,qt[3]=Qt;for(let nn=0;nn<16;++nn)qt[nn]=this._inv_s[qt[nn]],qt[nn]^=Sn[nn];return qt}_encrypt(en,Sn){const sn=this._s;let hn,Qt,qt;const nn=new Uint8Array(16);nn.set(en);for(let Ut=0;Ut<16;++Ut)nn[Ut]^=Sn[Ut];for(let Ut=1;Ut<this._cyclesOfRepetition;Ut++){for(let zt=0;zt<16;++zt)nn[zt]=sn[nn[zt]];qt=nn[1],nn[1]=nn[5],nn[5]=nn[9],nn[9]=nn[13],nn[13]=qt,qt=nn[2],Qt=nn[6],nn[2]=nn[10],nn[6]=nn[14],nn[10]=qt,nn[14]=Qt,qt=nn[3],Qt=nn[7],hn=nn[11],nn[3]=nn[15],nn[7]=qt,nn[11]=Qt,nn[15]=hn;for(let zt=0;zt<16;zt+=4){const cn=nn[zt+0],ln=nn[zt+1],Kt=nn[zt+2],Jt=nn[zt+3];hn=cn^ln^Kt^Jt,nn[zt+0]^=hn^this._mixCol[cn^ln],nn[zt+1]^=hn^this._mixCol[ln^Kt],nn[zt+2]^=hn^this._mixCol[Kt^Jt],nn[zt+3]^=hn^this._mixCol[Jt^cn]}for(let zt=0,cn=Ut*16;zt<16;++zt,++cn)nn[zt]^=Sn[cn]}for(let Ut=0;Ut<16;++Ut)nn[Ut]=sn[nn[Ut]];qt=nn[1],nn[1]=nn[5],nn[5]=nn[9],nn[9]=nn[13],nn[13]=qt,qt=nn[2],Qt=nn[6],nn[2]=nn[10],nn[6]=nn[14],nn[10]=qt,nn[14]=Qt,qt=nn[3],Qt=nn[7],hn=nn[11],nn[3]=nn[15],nn[7]=qt,nn[11]=Qt,nn[15]=hn;for(let Ut=0,zt=this._keySize;Ut<16;++Ut,++zt)nn[Ut]^=Sn[zt];return nn}_decryptBlock2(en,Sn){const sn=en.length;let hn=this.buffer,Qt=this.bufferPosition;const qt=[];let nn=this.iv;for(let cn=0;cn<sn;++cn){if(hn[Qt]=en[cn],++Qt,Qt<16)continue;const ln=this._decrypt(hn,this._key);for(let Kt=0;Kt<16;++Kt)ln[Kt]^=nn[Kt];nn=hn,qt.push(ln),hn=new Uint8Array(16),Qt=0}if(this.buffer=hn,this.bufferLength=Qt,this.iv=nn,qt.length===0)return new Uint8Array(0);let Ut=16*qt.length;if(Sn){const cn=qt.at(-1);let ln=cn[15];if(ln<=16){for(let Kt=15,Jt=16-ln;Kt>=Jt;--Kt)if(cn[Kt]!==ln){ln=0;break}Ut-=ln,qt[qt.length-1]=cn.subarray(0,16-ln)}}const zt=new Uint8Array(Ut);for(let cn=0,ln=0,Kt=qt.length;cn<Kt;++cn,ln+=16)zt.set(qt[cn],ln);return zt}decryptBlock(en,Sn,sn=null){const hn=en.length,Qt=this.buffer;let qt=this.bufferPosition;if(sn)this.iv=sn;else{for(let nn=0;qt<16&&nn<hn;++nn,++qt)Qt[qt]=en[nn];if(qt<16)return this.bufferLength=qt,new Uint8Array(0);this.iv=Qt,en=en.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(en,Sn)}encrypt(en,Sn){const sn=en.length;let hn=this.buffer,Qt=this.bufferPosition;const qt=[];Sn||(Sn=new Uint8Array(16));for(let zt=0;zt<sn;++zt){if(hn[Qt]=en[zt],++Qt,Qt<16)continue;for(let ln=0;ln<16;++ln)hn[ln]^=Sn[ln];const cn=this._encrypt(hn,this._key);Sn=cn,qt.push(cn),hn=new Uint8Array(16),Qt=0}if(this.buffer=hn,this.bufferLength=Qt,this.iv=Sn,qt.length===0)return new Uint8Array(0);const nn=16*qt.length,Ut=new Uint8Array(nn);for(let zt=0,cn=0,ln=qt.length;zt<ln;++zt,cn+=16)Ut.set(qt[zt],cn);return Ut}}class kt extends Lt{constructor(en){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(en)}_expandKey(en){const sn=this._s,hn=this._rcon,Qt=new Uint8Array(176);Qt.set(en);for(let qt=16,nn=1;qt<176;++nn){let Ut=Qt[qt-3],zt=Qt[qt-2],cn=Qt[qt-1],ln=Qt[qt-4];Ut=sn[Ut],zt=sn[zt],cn=sn[cn],ln=sn[ln],Ut^=hn[nn];for(let Kt=0;Kt<4;++Kt)Qt[qt]=Ut^=Qt[qt-16],qt++,Qt[qt]=zt^=Qt[qt-16],qt++,Qt[qt]=cn^=Qt[qt-16],qt++,Qt[qt]=ln^=Qt[qt-16],qt++}return Qt}}St.AES128Cipher=kt;class Bt extends Lt{constructor(en){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(en)}_expandKey(en){const sn=this._s,hn=new Uint8Array(240);hn.set(en);let Qt=1,qt,nn,Ut,zt;for(let cn=32,ln=1;cn<240;++ln){cn%32===16?(qt=sn[qt],nn=sn[nn],Ut=sn[Ut],zt=sn[zt]):cn%32===0&&(qt=hn[cn-3],nn=hn[cn-2],Ut=hn[cn-1],zt=hn[cn-4],qt=sn[qt],nn=sn[nn],Ut=sn[Ut],zt=sn[zt],qt^=Qt,(Qt<<=1)>=256&&(Qt=(Qt^27)&255));for(let Kt=0;Kt<4;++Kt)hn[cn]=qt^=hn[cn-32],cn++,hn[cn]=nn^=hn[cn-32],cn++,hn[cn]=Ut^=hn[cn-32],cn++,hn[cn]=zt^=hn[cn-32],cn++}return hn}}St.AES256Cipher=Bt;class Ht{checkOwnerPassword(en,Sn,sn,hn){const Qt=new Uint8Array(en.length+56);Qt.set(en,0),Qt.set(Sn,en.length),Qt.set(sn,en.length+Sn.length);const qt=_t(Qt,0,Qt.length);return(0,vt.isArrayEqual)(qt,hn)}checkUserPassword(en,Sn,sn){const hn=new Uint8Array(en.length+8);hn.set(en,0),hn.set(Sn,en.length);const Qt=_t(hn,0,hn.length);return(0,vt.isArrayEqual)(Qt,sn)}getOwnerKey(en,Sn,sn,hn){const Qt=new Uint8Array(en.length+56);Qt.set(en,0),Qt.set(Sn,en.length),Qt.set(sn,en.length+Sn.length);const qt=_t(Qt,0,Qt.length);return new Bt(qt).decryptBlock(hn,!1,new Uint8Array(16))}getUserKey(en,Sn,sn){const hn=new Uint8Array(en.length+8);hn.set(en,0),hn.set(Sn,en.length);const Qt=_t(hn,0,hn.length);return new Bt(Qt).decryptBlock(sn,!1,new Uint8Array(16))}}St.PDF17=Ht;const Ot=function(){function en(sn,hn,Qt){let qt=_t(hn,0,hn.length).subarray(0,32),nn=[0],Ut=0;for(;Ut<64||nn.at(-1)>Ut-32;){const zt=sn.length+qt.length+Qt.length,cn=new Uint8Array(zt);let ln=0;cn.set(sn,ln),ln+=sn.length,cn.set(qt,ln),ln+=qt.length,cn.set(Qt,ln);const Kt=new Uint8Array(zt*64);for(let tn=0,un=0;tn<64;tn++,un+=zt)Kt.set(cn,un);nn=new kt(qt.subarray(0,16)).encrypt(Kt,qt.subarray(16,32));let Yt=0;for(let tn=0;tn<16;tn++)Yt*=256%3,Yt%=3,Yt+=(nn[tn]>>>0)%3,Yt%=3;Yt===0?qt=_t(nn,0,nn.length):Yt===1?qt=Rt(nn,0,nn.length):Yt===2&&(qt=jt(nn,0,nn.length)),Ut++}return qt.subarray(0,32)}class Sn{hash(hn,Qt,qt){return en(hn,Qt,qt)}checkOwnerPassword(hn,Qt,qt,nn){const Ut=new Uint8Array(hn.length+56);Ut.set(hn,0),Ut.set(Qt,hn.length),Ut.set(qt,hn.length+Qt.length);const zt=en(hn,Ut,qt);return(0,vt.isArrayEqual)(zt,nn)}checkUserPassword(hn,Qt,qt){const nn=new Uint8Array(hn.length+8);nn.set(hn,0),nn.set(Qt,hn.length);const Ut=en(hn,nn,[]);return(0,vt.isArrayEqual)(Ut,qt)}getOwnerKey(hn,Qt,qt,nn){const Ut=new Uint8Array(hn.length+56);Ut.set(hn,0),Ut.set(Qt,hn.length),Ut.set(qt,hn.length+Qt.length);const zt=en(hn,Ut,qt);return new Bt(zt).decryptBlock(nn,!1,new Uint8Array(16))}getUserKey(hn,Qt,qt){const nn=new Uint8Array(hn.length+8);nn.set(hn,0),nn.set(Qt,hn.length);const Ut=en(hn,nn,[]);return new Bt(Ut).decryptBlock(qt,!1,new Uint8Array(16))}}return Sn}();St.PDF20=Ot;class Vt{constructor(en,Sn){this.StringCipherConstructor=en,this.StreamCipherConstructor=Sn}createStream(en,Sn){const sn=new this.StreamCipherConstructor;return new Mt.DecryptStream(en,Sn,function(Qt,qt){return sn.decryptBlock(Qt,qt)})}decryptString(en){const Sn=new this.StringCipherConstructor;let sn=(0,vt.stringToBytes)(en);return sn=Sn.decryptBlock(sn,!0),(0,vt.bytesToString)(sn)}encryptString(en){const Sn=new this.StringCipherConstructor;if(Sn instanceof Lt){const Qt=16-en.length%16;en+=String.fromCharCode(Qt).repeat(Qt);const qt=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(qt);else for(let zt=0;zt<16;zt++)qt[zt]=Math.floor(256*Math.random());let nn=(0,vt.stringToBytes)(en);nn=Sn.encrypt(nn,qt);const Ut=new Uint8Array(16+nn.length);return Ut.set(qt),Ut.set(nn,16),(0,vt.bytesToString)(Ut)}let sn=(0,vt.stringToBytes)(en);return sn=Sn.encrypt(sn),(0,vt.bytesToString)(sn)}}const Gt=function(){const en=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function Sn(zt,cn,ln,Kt,Jt,Yt,tn,un,yn,xn,rn,dn){if(cn){const an=Math.min(127,cn.length);cn=cn.subarray(0,an)}else cn=[];let An;return zt===6?An=new Ot:An=new Ht,An.checkUserPassword(cn,un,tn)?An.getUserKey(cn,yn,rn):cn.length&&An.checkOwnerPassword(cn,Kt,Yt,ln)?An.getOwnerKey(cn,Jt,Yt,xn):null}function sn(zt,cn,ln,Kt,Jt,Yt,tn,un){const yn=40+ln.length+zt.length,xn=new Uint8Array(yn);let rn=0,dn,An;if(cn)for(An=Math.min(32,cn.length);rn<An;++rn)xn[rn]=cn[rn];for(dn=0;rn<32;)xn[rn++]=en[dn++];for(dn=0,An=ln.length;dn<An;++dn)xn[rn++]=ln[dn];for(xn[rn++]=Jt&255,xn[rn++]=Jt>>8&255,xn[rn++]=Jt>>16&255,xn[rn++]=Jt>>>24&255,dn=0,An=zt.length;dn<An;++dn)xn[rn++]=zt[dn];Yt>=4&&!un&&(xn[rn++]=255,xn[rn++]=255,xn[rn++]=255,xn[rn++]=255);let an=xt(xn,0,rn);const fn=tn>>3;if(Yt>=3)for(dn=0;dn<50;++dn)an=xt(an,0,fn);const bn=an.subarray(0,fn);let vn,gn;if(Yt>=3){for(rn=0;rn<32;++rn)xn[rn]=en[rn];for(dn=0,An=zt.length;dn<An;++dn)xn[rn++]=zt[dn];vn=new Pt(bn),gn=vn.encryptBlock(xt(xn,0,rn)),An=bn.length;const on=new Uint8Array(An);for(dn=1;dn<=19;++dn){for(let wn=0;wn<An;++wn)on[wn]=bn[wn]^dn;vn=new Pt(on),gn=vn.encryptBlock(gn)}for(dn=0,An=gn.length;dn<An;++dn)if(Kt[dn]!==gn[dn])return null}else for(vn=new Pt(bn),gn=vn.encryptBlock(en),dn=0,An=gn.length;dn<An;++dn)if(Kt[dn]!==gn[dn])return null;return bn}function hn(zt,cn,ln,Kt){const Jt=new Uint8Array(32);let Yt=0;const tn=Math.min(32,zt.length);for(;Yt<tn;++Yt)Jt[Yt]=zt[Yt];let un=0;for(;Yt<32;)Jt[Yt++]=en[un++];let yn=xt(Jt,0,Yt);const xn=Kt>>3;if(ln>=3)for(un=0;un<50;++un)yn=xt(yn,0,yn.length);let rn,dn;if(ln>=3){dn=cn;const An=new Uint8Array(xn);for(un=19;un>=0;un--){for(let an=0;an<xn;++an)An[an]=yn[an]^un;rn=new Pt(An),dn=rn.encryptBlock(dn)}}else rn=new Pt(yn.subarray(0,xn)),dn=rn.encryptBlock(cn);return dn}const Qt=Et.Name.get("Identity");function qt(zt,cn,ln,Kt=!1){const Jt=new Uint8Array(ln.length+9),Yt=ln.length;let tn;for(tn=0;tn<Yt;++tn)Jt[tn]=ln[tn];return Jt[tn++]=zt&255,Jt[tn++]=zt>>8&255,Jt[tn++]=zt>>16&255,Jt[tn++]=cn&255,Jt[tn++]=cn>>8&255,Kt&&(Jt[tn++]=115,Jt[tn++]=65,Jt[tn++]=108,Jt[tn++]=84),xt(Jt,0,tn).subarray(0,Math.min(ln.length+5,16))}function nn(zt,cn,ln,Kt,Jt){if(!(cn instanceof Et.Name))throw new vt.FormatError("Invalid crypt filter name.");const Yt=zt.get(cn.name);let tn;if(Yt!=null&&(tn=Yt.get("CFM")),!tn||tn.name==="None")return function(){return new Nt};if(tn.name==="V2")return function(){return new Pt(qt(ln,Kt,Jt,!1))};if(tn.name==="AESV2")return function(){return new kt(qt(ln,Kt,Jt,!0))};if(tn.name==="AESV3")return function(){return new Bt(Jt)};throw new vt.FormatError("Unknown crypto method")}class Ut{constructor(cn,ln,Kt){const Jt=cn.get("Filter");if(!(0,Et.isName)(Jt,"Standard"))throw new vt.FormatError("unknown encryption method");this.filterName=Jt.name,this.dict=cn;const Yt=cn.get("V");if(!Number.isInteger(Yt)||Yt!==1&&Yt!==2&&Yt!==4&&Yt!==5)throw new vt.FormatError("unsupported encryption algorithm");this.algorithm=Yt;let tn=cn.get("Length");if(!tn)if(Yt<=3)tn=40;else{const bn=cn.get("CF"),vn=cn.get("StmF");if(bn instanceof Et.Dict&&vn instanceof Et.Name){bn.suppressEncryption=!0;const gn=bn.get(vn.name);tn=gn&&gn.get("Length")||128,tn<40&&(tn<<=3)}}if(!Number.isInteger(tn)||tn<40||tn%8!==0)throw new vt.FormatError("invalid key length");const un=(0,vt.stringToBytes)(cn.get("O")).subarray(0,32),yn=(0,vt.stringToBytes)(cn.get("U")).subarray(0,32),xn=cn.get("P"),rn=cn.get("R"),dn=(Yt===4||Yt===5)&&cn.get("EncryptMetadata")!==!1;this.encryptMetadata=dn;const An=(0,vt.stringToBytes)(ln);let an;if(Kt){if(rn===6)try{Kt=(0,vt.utf8StringToString)(Kt)}catch{(0,vt.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}an=(0,vt.stringToBytes)(Kt)}let fn;if(Yt!==5)fn=sn(An,an,un,yn,xn,rn,tn,dn);else{const bn=(0,vt.stringToBytes)(cn.get("O")).subarray(32,40),vn=(0,vt.stringToBytes)(cn.get("O")).subarray(40,48),gn=(0,vt.stringToBytes)(cn.get("U")).subarray(0,48),on=(0,vt.stringToBytes)(cn.get("U")).subarray(32,40),wn=(0,vt.stringToBytes)(cn.get("U")).subarray(40,48),pn=(0,vt.stringToBytes)(cn.get("OE")),Cn=(0,vt.stringToBytes)(cn.get("UE"));(0,vt.stringToBytes)(cn.get("Perms")),fn=Sn(rn,an,un,bn,vn,gn,yn,on,wn,pn,Cn)}if(!fn&&!Kt)throw new vt.PasswordException("No password given",vt.PasswordResponses.NEED_PASSWORD);if(!fn&&Kt){const bn=hn(an,un,rn,tn);fn=sn(An,bn,un,yn,xn,rn,tn,dn)}if(!fn)throw new vt.PasswordException("Incorrect Password",vt.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=fn,Yt>=4){const bn=cn.get("CF");bn instanceof Et.Dict&&(bn.suppressEncryption=!0),this.cf=bn,this.stmf=cn.get("StmF")||Qt,this.strf=cn.get("StrF")||Qt,this.eff=cn.get("EFF")||this.stmf}}createCipherTransform(cn,ln){if(this.algorithm===4||this.algorithm===5)return new Vt(nn(this.cf,this.strf,cn,ln,this.encryptionKey),nn(this.cf,this.stmf,cn,ln,this.encryptionKey));const Kt=qt(cn,ln,this.encryptionKey,!1),Jt=function(){return new Pt(Kt)};return new Vt(Jt,Jt)}}return Ut}();St.CipherTransformFactory=Gt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.DecryptStream=void 0;var vt=Ft(19);const Et=512;class Mt extends vt.DecodeStream{constructor(xt,$t,_t){super($t),this.str=xt,this.dict=xt.dict,this.decrypt=_t,this.nextChunk=null,this.initialized=!1}readBlock(){let xt;if(this.initialized?xt=this.nextChunk:(xt=this.str.getBytes(Et),this.initialized=!0),!xt||xt.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(Et);const $t=this.nextChunk&&this.nextChunk.length>0,_t=this.decrypt;xt=_t(xt,!$t);let jt=this.bufferLength;const Rt=xt.length,Nt=this.ensureBuffer(jt+Rt);for(let Lt=0;Lt<Rt;Lt++)Nt[jt++]=xt[Lt];this.bufferLength=jt}}St.DecryptStream=Mt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.Catalog=void 0;var vt=Ft(6),Et=Ft(2),Mt=Ft(5),Pt=Ft(70),xt=Ft(7),$t=Ft(71),_t=Ft(14),jt=Ft(72),Rt=Ft(59),Nt=Ft(73),Lt=Ft(74);function kt(Ht){return Ht instanceof Mt.Dict&&(Ht=Ht.get("D")),Array.isArray(Ht)?Ht:null}class Bt{constructor(Ot,Vt){if(this.pdfManager=Ot,this.xref=Vt,this._catDict=Vt.getCatalogObj(),!(this._catDict instanceof Mt.Dict))throw new Et.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new Mt.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new Rt.GlobalImageCache,this.pageKidsCountCache=new Mt.RefSetCache,this.pageIndexCache=new Mt.RefSetCache,this.nonBlendModesSet=new Mt.RefSet}get version(){const Ot=this._catDict.get("Version");return(0,Et.shadow)(this,"version",Ot instanceof Mt.Name?Ot.name:null)}get lang(){const Ot=this._catDict.get("Lang");return(0,Et.shadow)(this,"lang",typeof Ot=="string"?(0,Et.stringToPDFString)(Ot):null)}get needsRendering(){const Ot=this._catDict.get("NeedsRendering");return(0,Et.shadow)(this,"needsRendering",typeof Ot=="boolean"?Ot:!1)}get collection(){let Ot=null;try{const Vt=this._catDict.get("Collection");Vt instanceof Mt.Dict&&Vt.size>0&&(Ot=Vt)}catch(Vt){if(Vt instanceof vt.MissingDataException)throw Vt;(0,Et.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,Et.shadow)(this,"collection",Ot)}get acroForm(){let Ot=null;try{const Vt=this._catDict.get("AcroForm");Vt instanceof Mt.Dict&&Vt.size>0&&(Ot=Vt)}catch(Vt){if(Vt instanceof vt.MissingDataException)throw Vt;(0,Et.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,Et.shadow)(this,"acroForm",Ot)}get acroFormRef(){const Ot=this._catDict.getRaw("AcroForm");return(0,Et.shadow)(this,"acroFormRef",Ot instanceof Mt.Ref?Ot:null)}get metadata(){const Ot=this._catDict.getRaw("Metadata");if(!(Ot instanceof Mt.Ref))return(0,Et.shadow)(this,"metadata",null);let Vt=null;try{const Gt=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata),Wt=this.xref.fetch(Ot,Gt);if(Wt instanceof xt.BaseStream&&Wt.dict instanceof Mt.Dict){const en=Wt.dict.get("Type"),Sn=Wt.dict.get("Subtype");if((0,Mt.isName)(en,"Metadata")&&(0,Mt.isName)(Sn,"XML")){const sn=(0,Et.stringToUTF8String)(Wt.getString());sn&&(Vt=new Nt.MetadataParser(sn).serializable)}}}catch(Gt){if(Gt instanceof vt.MissingDataException)throw Gt;(0,Et.info)(`Skipping invalid Metadata: "${Gt}".`)}return(0,Et.shadow)(this,"metadata",Vt)}get markInfo(){let Ot=null;try{Ot=this._readMarkInfo()}catch(Vt){if(Vt instanceof vt.MissingDataException)throw Vt;(0,Et.warn)("Unable to read mark info.")}return(0,Et.shadow)(this,"markInfo",Ot)}_readMarkInfo(){const Ot=this._catDict.get("MarkInfo");if(!(Ot instanceof Mt.Dict))return null;const Vt={Marked:!1,UserProperties:!1,Suspects:!1};for(const Gt in Vt){const Wt=Ot.get(Gt);typeof Wt=="boolean"&&(Vt[Gt]=Wt)}return Vt}get structTreeRoot(){let Ot=null;try{Ot=this._readStructTreeRoot()}catch(Vt){if(Vt instanceof vt.MissingDataException)throw Vt;(0,Et.warn)("Unable read to structTreeRoot info.")}return(0,Et.shadow)(this,"structTreeRoot",Ot)}_readStructTreeRoot(){const Ot=this._catDict.get("StructTreeRoot");if(!(Ot instanceof Mt.Dict))return null;const Vt=new Lt.StructTreeRoot(Ot);return Vt.init(),Vt}get toplevelPagesDict(){const Ot=this._catDict.get("Pages");if(!(Ot instanceof Mt.Dict))throw new Et.FormatError("Invalid top-level pages dictionary.");return(0,Et.shadow)(this,"toplevelPagesDict",Ot)}get documentOutline(){let Ot=null;try{Ot=this._readDocumentOutline()}catch(Vt){if(Vt instanceof vt.MissingDataException)throw Vt;(0,Et.warn)("Unable to read document outline.")}return(0,Et.shadow)(this,"documentOutline",Ot)}_readDocumentOutline(){let Ot=this._catDict.get("Outlines");if(!(Ot instanceof Mt.Dict)||(Ot=Ot.getRaw("First"),!(Ot instanceof Mt.Ref)))return null;const Vt={items:[]},Gt=[{obj:Ot,parent:Vt}],Wt=new Mt.RefSet;Wt.put(Ot);const en=this.xref,Sn=new Uint8ClampedArray(3);for(;Gt.length>0;){const sn=Gt.shift(),hn=en.fetchIfRef(sn.obj);if(hn===null)continue;if(!hn.has("Title"))throw new Et.FormatError("Invalid outline item encountered.");const Qt={url:null,dest:null};Bt.parseDestDictionary({destDict:hn,resultObj:Qt,docBaseUrl:this.pdfManager.docBaseUrl});const qt=hn.get("Title"),nn=hn.get("F")||0,Ut=hn.getArray("C"),zt=hn.get("Count");let cn=Sn;Array.isArray(Ut)&&Ut.length===3&&(Ut[0]!==0||Ut[1]!==0||Ut[2]!==0)&&(cn=_t.ColorSpace.singletons.rgb.getRgb(Ut,0));const ln={dest:Qt.dest,url:Qt.url,unsafeUrl:Qt.unsafeUrl,newWindow:Qt.newWindow,title:(0,Et.stringToPDFString)(qt),color:cn,count:Number.isInteger(zt)?zt:void 0,bold:!!(nn&2),italic:!!(nn&1),items:[]};sn.parent.items.push(ln),Ot=hn.getRaw("First"),Ot instanceof Mt.Ref&&!Wt.has(Ot)&&(Gt.push({obj:Ot,parent:ln}),Wt.put(Ot)),Ot=hn.getRaw("Next"),Ot instanceof Mt.Ref&&!Wt.has(Ot)&&(Gt.push({obj:Ot,parent:sn.parent}),Wt.put(Ot))}return Vt.items.length>0?Vt.items:null}get permissions(){let Ot=null;try{Ot=this._readPermissions()}catch(Vt){if(Vt instanceof vt.MissingDataException)throw Vt;(0,Et.warn)("Unable to read permissions.")}return(0,Et.shadow)(this,"permissions",Ot)}_readPermissions(){const Ot=this.xref.trailer.get("Encrypt");if(!(Ot instanceof Mt.Dict))return null;let Vt=Ot.get("P");if(typeof Vt!="number")return null;Vt+=4294967296;const Gt=[];for(const Wt in Et.PermissionFlag){const en=Et.PermissionFlag[Wt];Vt&en&&Gt.push(en)}return Gt}get optionalContentConfig(){let Ot=null;try{const Vt=this._catDict.get("OCProperties");if(!Vt)return(0,Et.shadow)(this,"optionalContentConfig",null);const Gt=Vt.get("D");if(!Gt)return(0,Et.shadow)(this,"optionalContentConfig",null);const Wt=Vt.get("OCGs");if(!Array.isArray(Wt))return(0,Et.shadow)(this,"optionalContentConfig",null);const en=[],Sn=[];for(const sn of Wt){if(!(sn instanceof Mt.Ref))continue;Sn.push(sn);const hn=this.xref.fetchIfRef(sn);en.push({id:sn.toString(),name:typeof hn.get("Name")=="string"?(0,Et.stringToPDFString)(hn.get("Name")):null,intent:typeof hn.get("Intent")=="string"?(0,Et.stringToPDFString)(hn.get("Intent")):null})}Ot=this._readOptionalContentConfig(Gt,Sn),Ot.groups=en}catch(Vt){if(Vt instanceof vt.MissingDataException)throw Vt;(0,Et.warn)(`Unable to read optional content config: ${Vt}`)}return(0,Et.shadow)(this,"optionalContentConfig",Ot)}_readOptionalContentConfig(Ot,Vt){function Gt(Qt){const qt=[];if(Array.isArray(Qt))for(const nn of Qt)nn instanceof Mt.Ref&&Vt.includes(nn)&&qt.push(nn.toString());return qt}function Wt(Qt,qt=0){if(!Array.isArray(Qt))return null;const nn=[];for(const zt of Qt){if(zt instanceof Mt.Ref&&Vt.includes(zt)){sn.put(zt),nn.push(zt.toString());continue}const cn=en(zt,qt);cn&&nn.push(cn)}if(qt>0)return nn;const Ut=[];for(const zt of Vt)sn.has(zt)||Ut.push(zt.toString());return Ut.length&&nn.push({name:null,order:Ut}),nn}function en(Qt,qt){if(++qt>hn)return(0,Et.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const nn=Sn.fetchIfRef(Qt);if(!Array.isArray(nn))return null;const Ut=Sn.fetchIfRef(nn[0]);if(typeof Ut!="string")return null;const zt=Wt(nn.slice(1),qt);return!zt||!zt.length?null:{name:(0,Et.stringToPDFString)(Ut),order:zt}}const Sn=this.xref,sn=new Mt.RefSet,hn=10;return{name:typeof Ot.get("Name")=="string"?(0,Et.stringToPDFString)(Ot.get("Name")):null,creator:typeof Ot.get("Creator")=="string"?(0,Et.stringToPDFString)(Ot.get("Creator")):null,baseState:Ot.get("BaseState")instanceof Mt.Name?Ot.get("BaseState").name:null,on:Gt(Ot.get("ON")),off:Gt(Ot.get("OFF")),order:Wt(Ot.get("Order")),groups:null}}setActualNumPages(Ot=null){this._actualNumPages=Ot}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const Ot=this.toplevelPagesDict.get("Count");if(!Number.isInteger(Ot))throw new Et.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,Et.shadow)(this,"_pagesCount",Ot)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const Ot=this._readDests(),Vt=Object.create(null);if(Ot instanceof Pt.NameTree)for(const[Gt,Wt]of Ot.getAll()){const en=kt(Wt);en&&(Vt[(0,Et.stringToPDFString)(Gt)]=en)}else Ot instanceof Mt.Dict&&Ot.forEach(function(Gt,Wt){const en=kt(Wt);en&&(Vt[Gt]=en)});return(0,Et.shadow)(this,"destinations",Vt)}getDestination(Ot){const Vt=this._readDests();if(Vt instanceof Pt.NameTree){const Gt=kt(Vt.get(Ot));if(Gt)return Gt;const Wt=this.destinations[Ot];if(Wt)return(0,Et.warn)(`Found "${Ot}" at an incorrect position in the NameTree.`),Wt}else if(Vt instanceof Mt.Dict){const Gt=kt(Vt.get(Ot));if(Gt)return Gt}return null}_readDests(){const Ot=this._catDict.get("Names");if(Ot&&Ot.has("Dests"))return new Pt.NameTree(Ot.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let Ot=null;try{Ot=this._readPageLabels()}catch(Vt){if(Vt instanceof vt.MissingDataException)throw Vt;(0,Et.warn)("Unable to read page labels.")}return(0,Et.shadow)(this,"pageLabels",Ot)}_readPageLabels(){const Ot=this._catDict.getRaw("PageLabels");if(!Ot)return null;const Vt=new Array(this.numPages);let Gt=null,Wt="";const Sn=new Pt.NumberTree(Ot,this.xref).getAll();let sn="",hn=1;for(let Qt=0,qt=this.numPages;Qt<qt;Qt++){const nn=Sn.get(Qt);if(nn!==void 0){if(!(nn instanceof Mt.Dict))throw new Et.FormatError("PageLabel is not a dictionary.");if(nn.has("Type")&&!(0,Mt.isName)(nn.get("Type"),"PageLabel"))throw new Et.FormatError("Invalid type in PageLabel dictionary.");if(nn.has("S")){const Ut=nn.get("S");if(!(Ut instanceof Mt.Name))throw new Et.FormatError("Invalid style in PageLabel dictionary.");Gt=Ut.name}else Gt=null;if(nn.has("P")){const Ut=nn.get("P");if(typeof Ut!="string")throw new Et.FormatError("Invalid prefix in PageLabel dictionary.");Wt=(0,Et.stringToPDFString)(Ut)}else Wt="";if(nn.has("St")){const Ut=nn.get("St");if(!(Number.isInteger(Ut)&&Ut>=1))throw new Et.FormatError("Invalid start in PageLabel dictionary.");hn=Ut}else hn=1}switch(Gt){case"D":sn=hn;break;case"R":case"r":sn=(0,vt.toRomanNumerals)(hn,Gt==="r");break;case"A":case"a":const Ut=26,ln=Gt==="a"?97:65,Kt=hn-1;sn=String.fromCharCode(ln+Kt%Ut).repeat(Math.floor(Kt/Ut)+1);break;default:if(Gt)throw new Et.FormatError(`Invalid style "${Gt}" in PageLabel dictionary.`);sn=""}Vt[Qt]=Wt+sn,hn++}return Vt}get pageLayout(){const Ot=this._catDict.get("PageLayout");let Vt="";if(Ot instanceof Mt.Name)switch(Ot.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":Vt=Ot.name}return(0,Et.shadow)(this,"pageLayout",Vt)}get pageMode(){const Ot=this._catDict.get("PageMode");let Vt="UseNone";if(Ot instanceof Mt.Name)switch(Ot.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":Vt=Ot.name}return(0,Et.shadow)(this,"pageMode",Vt)}get viewerPreferences(){const Ot=this._catDict.get("ViewerPreferences");if(!(Ot instanceof Mt.Dict))return(0,Et.shadow)(this,"viewerPreferences",null);let Vt=null;for(const Gt of Ot.getKeys()){const Wt=Ot.get(Gt);let en;switch(Gt){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof Wt=="boolean"&&(en=Wt);break;case"NonFullScreenPageMode":if(Wt instanceof Mt.Name)switch(Wt.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":en=Wt.name;break;default:en="UseNone"}break;case"Direction":if(Wt instanceof Mt.Name)switch(Wt.name){case"L2R":case"R2L":en=Wt.name;break;default:en="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(Wt instanceof Mt.Name)switch(Wt.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":en=Wt.name;break;default:en="CropBox"}break;case"PrintScaling":if(Wt instanceof Mt.Name)switch(Wt.name){case"None":case"AppDefault":en=Wt.name;break;default:en="AppDefault"}break;case"Duplex":if(Wt instanceof Mt.Name)switch(Wt.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":en=Wt.name;break;default:en="None"}break;case"PrintPageRange":Array.isArray(Wt)&&Wt.length%2===0&&Wt.every((sn,hn,Qt)=>Number.isInteger(sn)&&sn>0&&(hn===0||sn>=Qt[hn-1])&&sn<=this.numPages)&&(en=Wt);break;case"NumCopies":Number.isInteger(Wt)&&Wt>0&&(en=Wt);break;default:(0,Et.warn)(`Ignoring non-standard key in ViewerPreferences: ${Gt}.`);continue}if(en===void 0){(0,Et.warn)(`Bad value, for key "${Gt}", in ViewerPreferences: ${Wt}.`);continue}Vt||(Vt=Object.create(null)),Vt[Gt]=en}return(0,Et.shadow)(this,"viewerPreferences",Vt)}get openAction(){const Ot=this._catDict.get("OpenAction"),Vt=Object.create(null);if(Ot instanceof Mt.Dict){const Gt=new Mt.Dict(this.xref);Gt.set("A",Ot);const Wt={url:null,dest:null,action:null};Bt.parseDestDictionary({destDict:Gt,resultObj:Wt}),Array.isArray(Wt.dest)?Vt.dest=Wt.dest:Wt.action&&(Vt.action=Wt.action)}else Array.isArray(Ot)&&(Vt.dest=Ot);return(0,Et.shadow)(this,"openAction",(0,Et.objectSize)(Vt)>0?Vt:null)}get attachments(){const Ot=this._catDict.get("Names");let Vt=null;if(Ot instanceof Mt.Dict&&Ot.has("EmbeddedFiles")){const Gt=new Pt.NameTree(Ot.getRaw("EmbeddedFiles"),this.xref);for(const[Wt,en]of Gt.getAll()){const Sn=new jt.FileSpec(en,this.xref);Vt||(Vt=Object.create(null)),Vt[(0,Et.stringToPDFString)(Wt)]=Sn.serializable}}return(0,Et.shadow)(this,"attachments",Vt)}get xfaImages(){const Ot=this._catDict.get("Names");let Vt=null;if(Ot instanceof Mt.Dict&&Ot.has("XFAImages")){const Gt=new Pt.NameTree(Ot.getRaw("XFAImages"),this.xref);for(const[Wt,en]of Gt.getAll())Vt||(Vt=new Mt.Dict(this.xref)),Vt.set((0,Et.stringToPDFString)(Wt),en)}return(0,Et.shadow)(this,"xfaImages",Vt)}_collectJavaScript(){const Ot=this._catDict.get("Names");let Vt=null;function Gt(en,Sn){if(!(Sn instanceof Mt.Dict)||!(0,Mt.isName)(Sn.get("S"),"JavaScript"))return;let sn=Sn.get("JS");if(sn instanceof xt.BaseStream)sn=sn.getString();else if(typeof sn!="string")return;Vt===null&&(Vt=new Map),sn=(0,Et.stringToPDFString)(sn).replace(/\u0000/g,""),Vt.set(en,sn)}if(Ot instanceof Mt.Dict&&Ot.has("JavaScript")){const en=new Pt.NameTree(Ot.getRaw("JavaScript"),this.xref);for(const[Sn,sn]of en.getAll())Gt((0,Et.stringToPDFString)(Sn),sn)}const Wt=this._catDict.get("OpenAction");return Wt&&Gt("OpenAction",Wt),Vt}get javaScript(){const Ot=this._collectJavaScript();return(0,Et.shadow)(this,"javaScript",Ot?[...Ot.values()]:null)}get jsActions(){const Ot=this._collectJavaScript();let Vt=(0,vt.collectActions)(this.xref,this._catDict,Et.DocumentActionEventType);if(Ot){Vt||(Vt=Object.create(null));for(const[Gt,Wt]of Ot)Gt in Vt?Vt[Gt].push(Wt):Vt[Gt]=[Wt]}return(0,Et.shadow)(this,"jsActions",Vt)}async fontFallback(Ot,Vt){const Gt=await Promise.all(this.fontCache);for(const Wt of Gt)if(Wt.loadedName===Ot){Wt.fallback(Vt);return}}async cleanup(Ot=!1){(0,$t.clearGlobalCaches)(),this.globalImageCache.clear(Ot),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const Vt=await Promise.all(this.fontCache);for(const{dict:Gt}of Vt)delete Gt.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear()}async getPageDict(Ot){const Vt=[this.toplevelPagesDict],Gt=new Mt.RefSet,Wt=this._catDict.getRaw("Pages");Wt instanceof Mt.Ref&&Gt.put(Wt);const en=this.xref,Sn=this.pageKidsCountCache,sn=this.pageIndexCache;let hn=0;for(;Vt.length;){const Qt=Vt.pop();if(Qt instanceof Mt.Ref){const zt=Sn.get(Qt);if(zt>=0&&hn+zt<=Ot){hn+=zt;continue}if(Gt.has(Qt))throw new Et.FormatError("Pages tree contains circular reference.");Gt.put(Qt);const cn=await en.fetchAsync(Qt);if(cn instanceof Mt.Dict){let ln=cn.getRaw("Type");if(ln instanceof Mt.Ref&&(ln=await en.fetchAsync(ln)),(0,Mt.isName)(ln,"Page")||!cn.has("Kids")){if(Sn.has(Qt)||Sn.put(Qt,1),sn.has(Qt)||sn.put(Qt,hn),hn===Ot)return[cn,Qt];hn++;continue}}Vt.push(cn);continue}if(!(Qt instanceof Mt.Dict))throw new Et.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:qt}=Qt;let nn=Qt.getRaw("Count");if(nn instanceof Mt.Ref&&(nn=await en.fetchAsync(nn)),Number.isInteger(nn)&&nn>=0&&(qt&&!Sn.has(qt)&&Sn.put(qt,nn),hn+nn<=Ot)){hn+=nn;continue}let Ut=Qt.getRaw("Kids");if(Ut instanceof Mt.Ref&&(Ut=await en.fetchAsync(Ut)),!Array.isArray(Ut)){let zt=Qt.getRaw("Type");if(zt instanceof Mt.Ref&&(zt=await en.fetchAsync(zt)),(0,Mt.isName)(zt,"Page")||!Qt.has("Kids")){if(hn===Ot)return[Qt,null];hn++;continue}throw new Et.FormatError("Page dictionary kids object is not an array.")}for(let zt=Ut.length-1;zt>=0;zt--)Vt.push(Ut[zt])}throw new Error(`Page index ${Ot} not found.`)}async getAllPageDicts(Ot=!1){const Vt=[{currentNode:this.toplevelPagesDict,posInKids:0}],Gt=new Mt.RefSet,Wt=this._catDict.getRaw("Pages");Wt instanceof Mt.Ref&&Gt.put(Wt);const en=new Map,Sn=this.xref,sn=this.pageIndexCache;let hn=0;function Qt(nn,Ut){Ut&&!sn.has(Ut)&&sn.put(Ut,hn),en.set(hn++,[nn,Ut])}function qt(nn){if(nn instanceof vt.XRefEntryException&&!Ot)throw nn;en.set(hn++,[nn,null])}for(;Vt.length>0;){const nn=Vt.at(-1),{currentNode:Ut,posInKids:zt}=nn;let cn=Ut.getRaw("Kids");if(cn instanceof Mt.Ref)try{cn=await Sn.fetchAsync(cn)}catch(Yt){qt(Yt);break}if(!Array.isArray(cn)){qt(new Et.FormatError("Page dictionary kids object is not an array."));break}if(zt>=cn.length){Vt.pop();continue}const ln=cn[zt];let Kt;if(ln instanceof Mt.Ref){if(Gt.has(ln)){qt(new Et.FormatError("Pages tree contains circular reference."));break}Gt.put(ln);try{Kt=await Sn.fetchAsync(ln)}catch(Yt){qt(Yt);break}}else Kt=ln;if(!(Kt instanceof Mt.Dict)){qt(new Et.FormatError("Page dictionary kid reference points to wrong type of object."));break}let Jt=Kt.getRaw("Type");if(Jt instanceof Mt.Ref)try{Jt=await Sn.fetchAsync(Jt)}catch(Yt){qt(Yt);break}(0,Mt.isName)(Jt,"Page")||!Kt.has("Kids")?Qt(Kt,ln instanceof Mt.Ref?ln:null):Vt.push({currentNode:Kt,posInKids:0}),nn.posInKids++}return en}getPageIndex(Ot){const Vt=this.pageIndexCache.get(Ot);if(Vt!==void 0)return Promise.resolve(Vt);const Gt=this.xref;function Wt(sn){let hn=0,Qt;return Gt.fetchAsync(sn).then(function(qt){if((0,Mt.isRefsEqual)(sn,Ot)&&!(0,Mt.isDict)(qt,"Page")&&!(qt instanceof Mt.Dict&&!qt.has("Type")&&qt.has("Contents")))throw new Et.FormatError("The reference does not point to a /Page dictionary.");if(!qt)return null;if(!(qt instanceof Mt.Dict))throw new Et.FormatError("Node must be a dictionary.");return Qt=qt.getRaw("Parent"),qt.getAsync("Parent")}).then(function(qt){if(!qt)return null;if(!(qt instanceof Mt.Dict))throw new Et.FormatError("Parent must be a dictionary.");return qt.getAsync("Kids")}).then(function(qt){if(!qt)return null;const nn=[];let Ut=!1;for(let zt=0,cn=qt.length;zt<cn;zt++){const ln=qt[zt];if(!(ln instanceof Mt.Ref))throw new Et.FormatError("Kid must be a reference.");if((0,Mt.isRefsEqual)(ln,sn)){Ut=!0;break}nn.push(Gt.fetchAsync(ln).then(function(Kt){if(!(Kt instanceof Mt.Dict))throw new Et.FormatError("Kid node must be a dictionary.");Kt.has("Count")?hn+=Kt.get("Count"):hn++}))}if(!Ut)throw new Et.FormatError("Kid reference not found in parent's kids.");return Promise.all(nn).then(function(){return[hn,Qt]})})}let en=0;const Sn=sn=>Wt(sn).then(hn=>{if(!hn)return this.pageIndexCache.put(Ot,en),en;const[Qt,qt]=hn;return en+=Qt,Sn(qt)});return Sn(Ot)}get baseUrl(){const Ot=this._catDict.get("URI");if(Ot instanceof Mt.Dict){const Vt=Ot.get("Base");if(typeof Vt=="string"){const Gt=(0,Et.createValidAbsoluteUrl)(Vt,null,{tryConvertEncoding:!0});if(Gt)return(0,Et.shadow)(this,"baseUrl",Gt.href)}}return(0,Et.shadow)(this,"baseUrl",null)}static parseDestDictionary(Ot){const Vt=Ot.destDict;if(!(Vt instanceof Mt.Dict)){(0,Et.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}const Gt=Ot.resultObj;if(typeof Gt!="object"){(0,Et.warn)("parseDestDictionary: `resultObj` must be an object.");return}const Wt=Ot.docBaseUrl||null;let en=Vt.get("A"),Sn,sn;if(en instanceof Mt.Dict||(Vt.has("Dest")?en=Vt.get("Dest"):(en=Vt.get("AA"),en instanceof Mt.Dict&&(en.has("D")?en=en.get("D"):en.has("U")&&(en=en.get("U"))))),en instanceof Mt.Dict){const hn=en.get("S");if(!(hn instanceof Mt.Name)){(0,Et.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const Qt=hn.name;switch(Qt){case"ResetForm":const qt=en.get("Flags"),nn=((typeof qt=="number"?qt:0)&1)===0,Ut=[],zt=[];for(const yn of en.get("Fields")||[])yn instanceof Mt.Ref?zt.push(yn.toString()):typeof yn=="string"&&Ut.push((0,Et.stringToPDFString)(yn));Gt.resetForm={fields:Ut,refs:zt,include:nn};break;case"URI":Sn=en.get("URI"),Sn instanceof Mt.Name&&(Sn="/"+Sn.name);break;case"GoTo":sn=en.get("D");break;case"Launch":case"GoToR":const cn=en.get("F");cn instanceof Mt.Dict?Sn=cn.get("F")||null:typeof cn=="string"&&(Sn=cn);let ln=en.get("D");if(ln&&(ln instanceof Mt.Name&&(ln=ln.name),typeof Sn=="string")){const yn=Sn.split("#")[0];typeof ln=="string"?Sn=yn+"#"+ln:Array.isArray(ln)&&(Sn=yn+"#"+JSON.stringify(ln))}const Kt=en.get("NewWindow");typeof Kt=="boolean"&&(Gt.newWindow=Kt);break;case"Named":const Jt=en.get("N");Jt instanceof Mt.Name&&(Gt.action=Jt.name);break;case"JavaScript":const Yt=en.get("JS");let tn;Yt instanceof xt.BaseStream?tn=Yt.getString():typeof Yt=="string"&&(tn=Yt);const un=tn&&(0,vt.recoverJsURL)((0,Et.stringToPDFString)(tn));if(un){Sn=un.url,Gt.newWindow=un.newWindow;break}default:if(Qt==="JavaScript"||Qt==="SubmitForm")break;(0,Et.warn)(`parseDestDictionary - unsupported action: "${Qt}".`);break}}else Vt.has("Dest")&&(sn=Vt.get("Dest"));if(typeof Sn=="string"){const hn=(0,Et.createValidAbsoluteUrl)(Sn,Wt,{addDefaultProtocol:!0,tryConvertEncoding:!0});hn&&(Gt.url=hn.href),Gt.unsafeUrl=Sn}sn&&(sn instanceof Mt.Name&&(sn=sn.name),typeof sn=="string"?Gt.dest=(0,Et.stringToPDFString)(sn):Array.isArray(sn)&&(Gt.dest=sn))}}St.Catalog=Bt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.NumberTree=St.NameTree=void 0;var vt=Ft(5),Et=Ft(2);class Mt{constructor(_t,jt,Rt){this.constructor===Mt&&(0,Et.unreachable)("Cannot initialize NameOrNumberTree."),this.root=_t,this.xref=jt,this._type=Rt}getAll(){const _t=new Map;if(!this.root)return _t;const jt=this.xref,Rt=new vt.RefSet;Rt.put(this.root);const Nt=[this.root];for(;Nt.length>0;){const Lt=jt.fetchIfRef(Nt.shift());if(!(Lt instanceof vt.Dict))continue;if(Lt.has("Kids")){const Bt=Lt.get("Kids");if(!Array.isArray(Bt))continue;for(const Ht of Bt){if(Rt.has(Ht))throw new Et.FormatError(`Duplicate entry in "${this._type}" tree.`);Nt.push(Ht),Rt.put(Ht)}continue}const kt=Lt.get(this._type);if(Array.isArray(kt))for(let Bt=0,Ht=kt.length;Bt<Ht;Bt+=2)_t.set(jt.fetchIfRef(kt[Bt]),jt.fetchIfRef(kt[Bt+1]))}return _t}get(_t){if(!this.root)return null;const jt=this.xref;let Rt=jt.fetchIfRef(this.root),Nt=0;const Lt=10;for(;Rt.has("Kids");){if(++Nt>Lt)return(0,Et.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const Bt=Rt.get("Kids");if(!Array.isArray(Bt))return null;let Ht=0,Ot=Bt.length-1;for(;Ht<=Ot;){const Vt=Ht+Ot>>1,Gt=jt.fetchIfRef(Bt[Vt]),Wt=Gt.get("Limits");if(_t<jt.fetchIfRef(Wt[0]))Ot=Vt-1;else if(_t>jt.fetchIfRef(Wt[1]))Ht=Vt+1;else{Rt=Gt;break}}if(Ht>Ot)return null}const kt=Rt.get(this._type);if(Array.isArray(kt)){let Bt=0,Ht=kt.length-2;for(;Bt<=Ht;){const Ot=Bt+Ht>>1,Vt=Ot+(Ot&1),Gt=jt.fetchIfRef(kt[Vt]);if(_t<Gt)Ht=Vt-2;else if(_t>Gt)Bt=Vt+2;else return jt.fetchIfRef(kt[Vt+1])}}return null}}class Pt extends Mt{constructor(_t,jt){super(_t,jt,"Names")}}St.NameTree=Pt;class xt extends Mt{constructor(_t,jt){super(_t,jt,"Nums")}}St.NumberTree=xt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.clearGlobalCaches=Mt;var vt=Ft(5),Et=Ft(40);function Mt(){(0,vt.clearPrimitiveCaches)(),(0,Et.clearUnicodeCaches)()}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.FileSpec=void 0;var vt=Ft(2),Et=Ft(7),Mt=Ft(5);function Pt($t){return $t.has("UF")?$t.get("UF"):$t.has("F")?$t.get("F"):$t.has("Unix")?$t.get("Unix"):$t.has("Mac")?$t.get("Mac"):$t.has("DOS")?$t.get("DOS"):null}class xt{constructor(_t,jt){_t instanceof Mt.Dict&&(this.xref=jt,this.root=_t,_t.has("FS")&&(this.fs=_t.get("FS")),this.description=_t.has("Desc")?(0,vt.stringToPDFString)(_t.get("Desc")):"",_t.has("RF")&&(0,vt.warn)("Related file specifications are not supported"),this.contentAvailable=!0,_t.has("EF")||(this.contentAvailable=!1,(0,vt.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const _t=Pt(this.root)||"unnamed";this._filename=(0,vt.stringToPDFString)(_t).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=Pt(this.root.get("EF")));let _t=null;if(this.contentRef){const jt=this.xref.fetchIfRef(this.contentRef);jt instanceof Et.BaseStream?_t=jt.getBytes():(0,vt.warn)("Embedded file specification points to non-existing/invalid content")}else(0,vt.warn)("Embedded file specification does not have a content");return _t}get serializable(){return{filename:this.filename,content:this.content}}}St.FileSpec=xt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.MetadataParser=void 0;var vt=Ft(66);class Et{constructor(Pt){Pt=this._repair(Pt);const $t=new vt.SimpleXMLParser({lowerCaseName:!0}).parseFromString(Pt);this._metadataMap=new Map,this._data=Pt,$t&&this._parse($t)}_repair(Pt){return Pt.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(xt,$t){const _t=$t.replace(/\\([0-3])([0-7])([0-7])/g,function(Rt,Nt,Lt,kt){return String.fromCharCode(Nt*64+Lt*8+kt*1)}).replace(/&(amp|apos|gt|lt|quot);/g,function(Rt,Nt){switch(Nt){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${Nt} isn't defined.`)}),jt=[];for(let Rt=0,Nt=_t.length;Rt<Nt;Rt+=2){const Lt=_t.charCodeAt(Rt)*256+_t.charCodeAt(Rt+1);Lt>=32&&Lt<127&&Lt!==60&&Lt!==62&&Lt!==38?jt.push(String.fromCharCode(Lt)):jt.push("&#x"+(65536+Lt).toString(16).substring(1)+";")}return">"+jt.join("")})}_getSequence(Pt){const xt=Pt.nodeName;return xt!=="rdf:bag"&&xt!=="rdf:seq"&&xt!=="rdf:alt"?null:Pt.childNodes.filter($t=>$t.nodeName==="rdf:li")}_parseArray(Pt){if(!Pt.hasChildNodes())return;const[xt]=Pt.childNodes,$t=this._getSequence(xt)||[];this._metadataMap.set(Pt.nodeName,$t.map(_t=>_t.textContent.trim()))}_parse(Pt){let xt=Pt.documentElement;if(xt.nodeName!=="rdf:rdf")for(xt=xt.firstChild;xt&&xt.nodeName!=="rdf:rdf";)xt=xt.nextSibling;if(!(!xt||xt.nodeName!=="rdf:rdf"||!xt.hasChildNodes())){for(const $t of xt.childNodes)if($t.nodeName==="rdf:description")for(const _t of $t.childNodes){const jt=_t.nodeName;switch(jt){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(_t);continue}this._metadataMap.set(jt,_t.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}St.MetadataParser=Et},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.StructTreeRoot=St.StructTreePage=void 0;var vt=Ft(5),Et=Ft(2),Mt=Ft(70);const Pt=40,xt={PAGE_CONTENT:"PAGE_CONTENT",STREAM_CONTENT:"STREAM_CONTENT",OBJECT:"OBJECT",ELEMENT:"ELEMENT"};class $t{constructor(Lt){this.dict=Lt,this.roleMap=new Map}init(){this.readRoleMap()}readRoleMap(){const Lt=this.dict.get("RoleMap");Lt instanceof vt.Dict&&Lt.forEach((kt,Bt)=>{Bt instanceof vt.Name&&this.roleMap.set(kt,Bt.name)})}}St.StructTreeRoot=$t;class _t{constructor(Lt,kt){this.tree=Lt,this.dict=kt,this.kids=[],this.parseKids()}get role(){const Lt=this.dict.get("S"),kt=Lt instanceof vt.Name?Lt.name:"",{root:Bt}=this.tree;return Bt.roleMap.has(kt)?Bt.roleMap.get(kt):kt}parseKids(){let Lt=null;const kt=this.dict.getRaw("Pg");kt instanceof vt.Ref&&(Lt=kt.toString());const Bt=this.dict.get("K");if(Array.isArray(Bt))for(const Ht of Bt){const Ot=this.parseKid(Lt,Ht);Ot&&this.kids.push(Ot)}else{const Ht=this.parseKid(Lt,Bt);Ht&&this.kids.push(Ht)}}parseKid(Lt,kt){if(Number.isInteger(kt))return this.tree.pageDict.objId!==Lt?null:new jt({type:xt.PAGE_CONTENT,mcid:kt,pageObjId:Lt});let Bt=null;if(kt instanceof vt.Ref?Bt=this.dict.xref.fetch(kt):kt instanceof vt.Dict&&(Bt=kt),!Bt)return null;const Ht=Bt.getRaw("Pg");Ht instanceof vt.Ref&&(Lt=Ht.toString());const Ot=Bt.get("Type")instanceof vt.Name?Bt.get("Type").name:null;return Ot==="MCR"?this.tree.pageDict.objId!==Lt?null:new jt({type:xt.STREAM_CONTENT,refObjId:Bt.getRaw("Stm")instanceof vt.Ref?Bt.getRaw("Stm").toString():null,pageObjId:Lt,mcid:Bt.get("MCID")}):Ot==="OBJR"?this.tree.pageDict.objId!==Lt?null:new jt({type:xt.OBJECT,refObjId:Bt.getRaw("Obj")instanceof vt.Ref?Bt.getRaw("Obj").toString():null,pageObjId:Lt}):new jt({type:xt.ELEMENT,dict:Bt})}}class jt{constructor({type:Lt,dict:kt=null,mcid:Bt=null,pageObjId:Ht=null,refObjId:Ot=null}){this.type=Lt,this.dict=kt,this.mcid=Bt,this.pageObjId=Ht,this.refObjId=Ot,this.parentNode=null}}class Rt{constructor(Lt,kt){this.root=Lt,this.rootDict=Lt?Lt.dict:null,this.pageDict=kt,this.nodes=[]}parse(){if(!this.root||!this.rootDict)return;const Lt=this.rootDict.get("ParentTree");if(!Lt)return;const kt=this.pageDict.get("StructParents");if(!Number.isInteger(kt))return;const Ht=new Mt.NumberTree(Lt,this.rootDict.xref).get(kt);if(!Array.isArray(Ht))return;const Ot=new Map;for(const Vt of Ht)Vt instanceof vt.Ref&&this.addNode(this.rootDict.xref.fetch(Vt),Ot)}addNode(Lt,kt,Bt=0){if(Bt>Pt)return(0,Et.warn)("StructTree MAX_DEPTH reached."),null;if(kt.has(Lt))return kt.get(Lt);const Ht=new _t(this,Lt);kt.set(Lt,Ht);const Ot=Lt.get("P");if(!Ot||(0,vt.isName)(Ot.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(Lt,Ht)||kt.delete(Lt),Ht;const Vt=this.addNode(Ot,kt,Bt+1);if(!Vt)return Ht;let Gt=!1;for(const Wt of Vt.kids)Wt.type===xt.ELEMENT&&Wt.dict===Lt&&(Wt.parentNode=Ht,Gt=!0);return Gt||kt.delete(Lt),Ht}addTopLevelNode(Lt,kt){const Bt=this.rootDict.get("K");if(!Bt)return!1;if(Bt instanceof vt.Dict)return Bt.objId!==Lt.objId?!1:(this.nodes[0]=kt,!0);if(!Array.isArray(Bt))return!0;let Ht=!1;for(let Ot=0;Ot<Bt.length;Ot++){const Vt=Bt[Ot];Vt&&Vt.toString()===Lt.objId&&(this.nodes[Ot]=kt,Ht=!0)}return Ht}get serializable(){function Lt(Bt,Ht,Ot=0){if(Ot>Pt){(0,Et.warn)("StructTree too deep to be fully serialized.");return}const Vt=Object.create(null);Vt.role=Bt.role,Vt.children=[],Ht.children.push(Vt);const Gt=Bt.dict.get("Alt");typeof Gt=="string"&&(Vt.alt=(0,Et.stringToPDFString)(Gt));const Wt=Bt.dict.get("Lang");typeof Wt=="string"&&(Vt.lang=(0,Et.stringToPDFString)(Wt));for(const en of Bt.kids){const Sn=en.type===xt.ELEMENT?en.parentNode:null;if(Sn){Lt(Sn,Vt,Ot+1);continue}else en.type===xt.PAGE_CONTENT||en.type===xt.STREAM_CONTENT?Vt.children.push({type:"content",id:`page${en.pageObjId}_mcid${en.mcid}`}):en.type===xt.OBJECT&&Vt.children.push({type:"object",id:en.refObjId})}}const kt=Object.create(null);kt.children=[],kt.role="Root";for(const Bt of this.nodes)Bt&&Lt(Bt,kt);return kt}}St.StructTreePage=Rt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.ObjectLoader=void 0;var vt=Ft(5),Et=Ft(7),Mt=Ft(6),Pt=Ft(2);function xt(jt){return jt instanceof vt.Ref||jt instanceof vt.Dict||jt instanceof Et.BaseStream||Array.isArray(jt)}function $t(jt,Rt){if(jt instanceof vt.Dict)jt=jt.getRawValues();else if(jt instanceof Et.BaseStream)jt=jt.dict.getRawValues();else if(!Array.isArray(jt))return;for(const Nt of jt)xt(Nt)&&Rt.push(Nt)}class _t{constructor(Rt,Nt,Lt){this.dict=Rt,this.keys=Nt,this.xref=Lt,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:Rt,dict:Nt}=this;this.refSet=new vt.RefSet;const Lt=[];for(let kt=0,Bt=Rt.length;kt<Bt;kt++){const Ht=Nt.getRaw(Rt[kt]);Ht!==void 0&&Lt.push(Ht)}return this._walk(Lt)}async _walk(Rt){const Nt=[],Lt=[];for(;Rt.length;){let kt=Rt.pop();if(kt instanceof vt.Ref){if(this.refSet.has(kt))continue;try{this.refSet.put(kt),kt=this.xref.fetch(kt)}catch(Bt){if(!(Bt instanceof Mt.MissingDataException)){(0,Pt.warn)(`ObjectLoader._walk - requesting all data: "${Bt}".`),this.refSet=null;const{manager:Ht}=this.xref.stream;return Ht.requestAllChunks()}Nt.push(kt),Lt.push({begin:Bt.begin,end:Bt.end})}}if(kt instanceof Et.BaseStream){const Bt=kt.getBaseStreams();if(Bt){let Ht=!1;for(const Ot of Bt)Ot.isDataLoaded||(Ht=!0,Lt.push({begin:Ot.start,end:Ot.end}));Ht&&Nt.push(kt)}}$t(kt,Rt)}if(Lt.length){await this.xref.stream.manager.requestRanges(Lt);for(const kt of Nt)kt instanceof vt.Ref&&this.refSet.remove(kt);return this._walk(Nt)}this.refSet=null}}St.ObjectLoader=_t},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.XFAFactory=void 0;var vt=Ft(77),Et=Ft(81),Mt=Ft(87),Pt=Ft(85),xt=Ft(78),$t=Ft(2),_t=Ft(88),jt=Ft(98);class Rt{constructor(Lt){try{this.root=new _t.XFAParser().parse(Rt._createDocument(Lt));const kt=new Et.Binder(this.root);this.form=kt.bind(),this.dataHandler=new Mt.DataHandler(this.root,kt.getData()),this.form[vt.$globalData].template=this.form}catch(kt){(0,$t.warn)(`XFA - an error occurred during parsing and binding: ${kt}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const Lt=this.form[vt.$toPages]();return new Promise((kt,Bt)=>{const Ht=()=>{try{const Ot=Lt.next();Ot.done?kt(Ot.value):setTimeout(Ht,0)}catch(Ot){Bt(Ot)}};setTimeout(Ht,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(Lt=>{const{width:kt,height:Bt}=Lt.attributes.style;return[0,0,parseInt(kt),parseInt(Bt)]})}catch(Lt){(0,$t.warn)(`XFA - an error occurred during layout: ${Lt}`)}}getBoundingBox(Lt){return this.dims[Lt]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(Lt){this.form[vt.$globalData].images=Lt}setFonts(Lt){this.form[vt.$globalData].fontFinder=new Pt.FontFinder(Lt);const kt=[];for(let Bt of this.form[vt.$globalData].usedTypefaces)Bt=(0,xt.stripQuotes)(Bt),this.form[vt.$globalData].fontFinder.find(Bt)||kt.push(Bt);return kt.length>0?kt:null}appendFonts(Lt,kt){this.form[vt.$globalData].fontFinder.add(Lt,kt)}async getPages(){this.pages||await this._createPages();const Lt=this.pages;return this.pages=null,Lt}serializeData(Lt){return this.dataHandler.serialize(Lt)}static _createDocument(Lt){return Lt["/xdp:xdp"]?Object.values(Lt).join(""):Lt["xdp:xdp"]}static getRichTextAsHtml(Lt){if(!Lt||typeof Lt!="string")return null;try{let kt=new _t.XFAParser(jt.XhtmlNamespace,!0).parse(Lt);if(!["body","xhtml"].includes(kt[vt.$nodeName])){const Vt=jt.XhtmlNamespace.body({});Vt[vt.$appendChild](kt),kt=Vt}const Bt=kt[vt.$toHTML]();if(!Bt.success)return null;const{html:Ht}=Bt,{attributes:Ot}=Ht;return Ot&&(Ot.class&&(Ot.class=Ot.class.filter(Vt=>!Vt.startsWith("xfa"))),Ot.dir="auto"),{html:Ht,str:kt[vt.$text]()}}catch(kt){(0,$t.warn)(`XFA - an error occurred during parsing of rich text: ${kt}`)}return null}}St.XFAFactory=Rt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.XmlObject=St.XFAObjectArray=St.XFAObject=St.XFAAttribute=St.StringObject=St.OptionObject=St.Option10=St.Option01=St.IntegerObject=St.ContentObject=St.$uid=St.$toStyle=St.$toString=St.$toPages=St.$toHTML=St.$text=St.$tabIndex=St.$setValue=St.$setSetAttributes=St.$setId=St.$searchNode=St.$root=St.$resolvePrototypes=St.$removeChild=St.$pushPara=St.$pushGlyphs=St.$popPara=St.$onText=St.$onChildCheck=St.$onChild=St.$nsAttributes=St.$nodeName=St.$namespaceId=St.$isUsable=St.$isTransparent=St.$isThereMoreWidth=St.$isSplittable=St.$isNsAgnostic=St.$isDescendent=St.$isDataValue=St.$isCDATAXml=St.$isBindable=St.$insertAt=St.$indexOf=St.$ids=St.$hasSettableValue=St.$globalData=St.$getTemplateRoot=St.$getSubformParent=St.$getRealChildrenByNameIt=St.$getParent=St.$getNextPage=St.$getExtra=St.$getDataValue=St.$getContainedChildren=St.$getChildrenByNameIt=St.$getChildrenByName=St.$getChildrenByClass=St.$getChildren=St.$getAvailableSpace=St.$getAttributes=St.$getAttributeIt=St.$flushHTML=St.$finalize=St.$extra=St.$dump=St.$data=St.$content=St.$consumed=St.$clone=St.$cleanup=St.$cleanPage=St.$clean=St.$childrenToHTML=St.$appendChild=St.$addHTML=St.$acceptWhitespace=void 0;var vt=Ft(78),Et=Ft(2),Mt=Ft(6),Pt=Ft(79),xt=Ft(80);const $t=Symbol();St.$acceptWhitespace=$t;const _t=Symbol();St.$addHTML=_t;const jt=Symbol();St.$appendChild=jt;const Rt=Symbol();St.$childrenToHTML=Rt;const Nt=Symbol();St.$clean=Nt;const Lt=Symbol();St.$cleanPage=Lt;const kt=Symbol();St.$cleanup=kt;const Bt=Symbol();St.$clone=Bt;const Ht=Symbol();St.$consumed=Ht;const Ot=Symbol("content");St.$content=Ot;const Vt=Symbol("data");St.$data=Vt;const Gt=Symbol();St.$dump=Gt;const Wt=Symbol("extra");St.$extra=Wt;const en=Symbol();St.$finalize=en;const Sn=Symbol();St.$flushHTML=Sn;const sn=Symbol();St.$getAttributeIt=sn;const hn=Symbol();St.$getAttributes=hn;const Qt=Symbol();St.$getAvailableSpace=Qt;const qt=Symbol();St.$getChildrenByClass=qt;const nn=Symbol();St.$getChildrenByName=nn;const Ut=Symbol();St.$getChildrenByNameIt=Ut;const zt=Symbol();St.$getDataValue=zt;const cn=Symbol();St.$getExtra=cn;const ln=Symbol();St.$getRealChildrenByNameIt=ln;const Kt=Symbol();St.$getChildren=Kt;const Jt=Symbol();St.$getContainedChildren=Jt;const Yt=Symbol();St.$getNextPage=Yt;const tn=Symbol();St.$getSubformParent=tn;const un=Symbol();St.$getParent=un;const yn=Symbol();St.$getTemplateRoot=yn;const xn=Symbol();St.$globalData=xn;const rn=Symbol();St.$hasSettableValue=rn;const dn=Symbol();St.$ids=dn;const An=Symbol();St.$indexOf=An;const an=Symbol();St.$insertAt=an;const fn=Symbol();St.$isCDATAXml=fn;const bn=Symbol();St.$isBindable=bn;const vn=Symbol();St.$isDataValue=vn;const gn=Symbol();St.$isDescendent=gn;const on=Symbol();St.$isNsAgnostic=on;const wn=Symbol();St.$isSplittable=wn;const pn=Symbol();St.$isThereMoreWidth=pn;const Cn=Symbol();St.$isTransparent=Cn;const Tn=Symbol();St.$isUsable=Tn;const Fn=Symbol(),En=Symbol("namespaceId");St.$namespaceId=En;const kn=Symbol("nodeName");St.$nodeName=kn;const Pn=Symbol();St.$nsAttributes=Pn;const _n=Symbol();St.$onChild=_n;const Mn=Symbol();St.$onChildCheck=Mn;const On=Symbol();St.$onText=On;const jn=Symbol();St.$pushGlyphs=jn;const qn=Symbol();St.$popPara=qn;const Gn=Symbol();St.$pushPara=Gn;const Yn=Symbol();St.$removeChild=Yn;const er=Symbol("root");St.$root=er;const cr=Symbol();St.$resolvePrototypes=cr;const rr=Symbol();St.$searchNode=rr;const tr=Symbol();St.$setId=tr;const ir=Symbol();St.$setSetAttributes=ir;const Kn=Symbol();St.$setValue=Kn;const Vn=Symbol();St.$tabIndex=Vn;const Bn=Symbol();St.$text=Bn;const lr=Symbol();St.$toPages=lr;const br=Symbol();St.$toHTML=br;const Pr=Symbol();St.$toString=Pr;const nr=Symbol();St.$toStyle=nr;const _i=Symbol("uid");St.$uid=_i;const zn=Symbol(),wr=Symbol(),Cr=Symbol(),yr=Symbol("_children"),Br=Symbol(),gr=Symbol(),Mr=Symbol(),qr=Symbol(),pr=Symbol(),zr=Symbol(),Rr=Symbol(),fs=Symbol(),Yr=Symbol(),Jr=Symbol("parent"),Ur=Symbol(),Is=Symbol(),_s=Symbol();let mr=0;const or=Pt.NamespaceIds.datasets.id;class xr{constructor(Qn,sr,fr=!1){this[En]=Qn,this[kn]=sr,this[Rr]=fr,this[Jr]=null,this[yr]=[],this[_i]=`${sr}${mr++}`,this[xn]=null}[_n](Qn){if(!this[Rr]||!this[Mn](Qn))return!1;const sr=Qn[kn],fr=this[sr];if(fr instanceof vr){if(fr.push(Qn))return this[jt](Qn),!0}else return fr!==null&&this[Yn](fr),this[sr]=Qn,this[jt](Qn),!0;let ur="";return this.id?ur=` (id: ${this.id})`:this.name&&(ur=` (name: ${this.name} ${this.h.value})`),(0,Et.warn)(`XFA - node "${this[kn]}"${ur} has already enough "${sr}"!`),!1}[Mn](Qn){return this.hasOwnProperty(Qn[kn])&&Qn[En]===this[En]}[on](){return!1}[$t](){return!1}[fn](){return!1}[bn](){return!1}[qn](){this.para&&this[yn]()[Wt].paraStack.pop()}[Gn](){this[yn]()[Wt].paraStack.push(this.para)}[tr](Qn){this.id&&this[En]===Pt.NamespaceIds.template.id&&Qn.set(this.id,this)}[yn](){return this[xn].template}[wn](){return!1}[pn](){return!1}[jt](Qn){Qn[Jr]=this,this[yr].push(Qn),!Qn[xn]&&this[xn]&&(Qn[xn]=this[xn])}[Yn](Qn){const sr=this[yr].indexOf(Qn);this[yr].splice(sr,1)}[rn](){return this.hasOwnProperty("value")}[Kn](Qn){}[On](Qn){}[en](){}[Nt](Qn){delete this[Rr],this[kt]&&(Qn.clean(this[kt]),delete this[kt])}[An](Qn){return this[yr].indexOf(Qn)}[an](Qn,sr){sr[Jr]=this,this[yr].splice(Qn,0,sr),!sr[xn]&&this[xn]&&(sr[xn]=this[xn])}[Cn](){return!this.name}[Fn](){return""}[Bn](){return this[yr].length===0?this[Ot]:this[yr].map(Qn=>Qn[Bn]()).join("")}get[Cr](){const Qn=Object.getPrototypeOf(this);if(!Qn._attributes){const sr=Qn._attributes=new Set;for(const fr of Object.getOwnPropertyNames(this)){if(this[fr]===null||this[fr]instanceof xr||this[fr]instanceof vr)break;sr.add(fr)}}return(0,Et.shadow)(this,Cr,Qn._attributes)}[gn](Qn){let sr=this;for(;sr;){if(sr===Qn)return!0;sr=sr[un]()}return!1}[un](){return this[Jr]}[tn](){return this[un]()}[Kt](Qn=null){return Qn?this[Qn]:this[yr]}[Gt](){const Qn=Object.create(null);this[Ot]&&(Qn.$content=this[Ot]);for(const sr of Object.getOwnPropertyNames(this)){const fr=this[sr];fr!==null&&(fr instanceof xr?Qn[sr]=fr[Gt]():fr instanceof vr?fr.isEmpty()||(Qn[sr]=fr.dump()):Qn[sr]=fr)}return Qn}[nr](){return null}[br](){return vt.HTMLResult.EMPTY}*[Jt](){for(const Qn of this[Kt]())yield Qn}*[qr](Qn,sr){for(const fr of this[Jt]())if(!Qn||sr===Qn.has(fr[kn])){const ur=this[Qt](),_r=fr[br](ur);_r.success||(this[Wt].failingNode=fr),yield _r}}[Sn](){return null}[_t](Qn,sr){this[Wt].children.push(Qn)}[Qt](){}[Rt]({filter:Qn=null,include:sr=!0}){if(!this[Wt].generator)this[Wt].generator=this[qr](Qn,sr);else{const fr=this[Qt](),ur=this[Wt].failingNode[br](fr);if(!ur.success)return ur;ur.html&&this[_t](ur.html,ur.bbox),delete this[Wt].failingNode}for(;;){const fr=this[Wt].generator.next();if(fr.done)break;const ur=fr.value;if(!ur.success)return ur;ur.html&&this[_t](ur.html,ur.bbox)}return this[Wt].generator=null,vt.HTMLResult.EMPTY}[ir](Qn){this[Is]=new Set(Object.keys(Qn))}[zr](Qn){const sr=this[Cr],fr=this[Is];return[...Qn].filter(ur=>sr.has(ur)&&!fr.has(ur))}[cr](Qn,sr=new Set){for(const fr of this[yr])fr[Ur](Qn,sr)}[Ur](Qn,sr){const fr=this[pr](Qn,sr);fr?this[zn](fr,Qn,sr):this[cr](Qn,sr)}[pr](Qn,sr){const{use:fr,usehref:ur}=this;if(!fr&&!ur)return null;let _r=null,Qr=null,Ps=null,es=fr;if(ur?(es=ur,ur.startsWith("#som(")&&ur.endsWith(")")?Qr=ur.slice(5,ur.length-1):ur.startsWith(".#som(")&&ur.endsWith(")")?Qr=ur.slice(6,ur.length-1):ur.startsWith("#")?Ps=ur.slice(1):ur.startsWith(".#")&&(Ps=ur.slice(2))):fr.startsWith("#")?Ps=fr.slice(1):Qr=fr,this.use=this.usehref="",Ps?_r=Qn.get(Ps):(_r=(0,xt.searchNode)(Qn.get(er),this,Qr,!0,!1),_r&&(_r=_r[0])),!_r)return(0,Et.warn)(`XFA - Invalid prototype reference: ${es}.`),null;if(_r[kn]!==this[kn])return(0,Et.warn)(`XFA - Incompatible prototype: ${_r[kn]} !== ${this[kn]}.`),null;if(sr.has(_r))return(0,Et.warn)("XFA - Cycle detected in prototypes use."),null;sr.add(_r);const hs=_r[pr](Qn,sr);return hs&&_r[zn](hs,Qn,sr),_r[cr](Qn,sr),sr.delete(_r),_r}[zn](Qn,sr,fr){if(fr.has(Qn)){(0,Et.warn)("XFA - Cycle detected in prototypes use.");return}!this[Ot]&&Qn[Ot]&&(this[Ot]=Qn[Ot]),new Set(fr).add(Qn);for(const _r of this[zr](Qn[Is]))this[_r]=Qn[_r],this[Is]&&this[Is].add(_r);for(const _r of Object.getOwnPropertyNames(this)){if(this[Cr].has(_r))continue;const Qr=this[_r],Ps=Qn[_r];if(Qr instanceof vr){for(const es of Qr[yr])es[Ur](sr,fr);for(let es=Qr[yr].length,hs=Ps[yr].length;es<hs;es++){const Ms=Qn[yr][es][Bt]();if(Qr.push(Ms))Ms[Jr]=this,this[yr].push(Ms),Ms[Ur](sr,fr);else break}continue}if(Qr!==null){Qr[cr](sr,fr),Ps&&Qr[zn](Ps,sr,fr);continue}if(Ps!==null){const es=Ps[Bt]();es[Jr]=this,this[_r]=es,this[yr].push(es),es[Ur](sr,fr)}}}static[Br](Qn){return Array.isArray(Qn)?Qn.map(sr=>xr[Br](sr)):typeof Qn=="object"&&Qn!==null?Object.assign({},Qn):Qn}[Bt](){const Qn=Object.create(Object.getPrototypeOf(this));for(const sr of Object.getOwnPropertySymbols(this))try{Qn[sr]=this[sr]}catch{(0,Et.shadow)(Qn,sr,this[sr])}Qn[_i]=`${Qn[kn]}${mr++}`,Qn[yr]=[];for(const sr of Object.getOwnPropertyNames(this)){if(this[Cr].has(sr)){Qn[sr]=xr[Br](this[sr]);continue}const fr=this[sr];fr instanceof vr?Qn[sr]=new vr(fr[fs]):Qn[sr]=null}for(const sr of this[yr]){const fr=sr[kn],ur=sr[Bt]();Qn[yr].push(ur),ur[Jr]=Qn,Qn[fr]===null?Qn[fr]=ur:Qn[fr][yr].push(ur)}return Qn}[Kt](Qn=null){return Qn?this[yr].filter(sr=>sr[kn]===Qn):this[yr]}[qt](Qn){return this[Qn]}[nn](Qn,sr,fr=!0){return Array.from(this[Ut](Qn,sr,fr))}*[Ut](Qn,sr,fr=!0){if(Qn==="parent"){yield this[Jr];return}for(const ur of this[yr])ur[kn]===Qn&&(yield ur),ur.name===Qn&&(yield ur),(sr||ur[Cn]())&&(yield*ur[Ut](Qn,sr,!1));fr&&this[Cr].has(Qn)&&(yield new Or(this,Qn,this[Qn]))}}St.XFAObject=xr;class vr{constructor(Qn=1/0){this[fs]=Qn,this[yr]=[]}push(Qn){return this[yr].length<=this[fs]?(this[yr].push(Qn),!0):((0,Et.warn)(`XFA - node "${Qn[kn]}" accepts no more than ${this[fs]} children`),!1)}isEmpty(){return this[yr].length===0}dump(){return this[yr].length===1?this[yr][0][Gt]():this[yr].map(Qn=>Qn[Gt]())}[Bt](){const Qn=new vr(this[fs]);return Qn[yr]=this[yr].map(sr=>sr[Bt]()),Qn}get children(){return this[yr]}clear(){this[yr].length=0}}St.XFAObjectArray=vr;class Or{constructor(Qn,sr,fr){this[Jr]=Qn,this[kn]=sr,this[Ot]=fr,this[Ht]=!1,this[_i]=`attribute${mr++}`}[un](){return this[Jr]}[vn](){return!0}[zt](){return this[Ot].trim()}[Kn](Qn){Qn=Qn.value||"",this[Ot]=Qn.toString()}[Bn](){return this[Ot]}[gn](Qn){return this[Jr]===Qn||this[Jr][gn](Qn)}}St.XFAAttribute=Or;class Gr extends xr{constructor(Qn,sr,fr={}){if(super(Qn,sr),this[Ot]="",this[gr]=null,sr!=="#text"){const ur=new Map;this[wr]=ur;for(const[_r,Qr]of Object.entries(fr))ur.set(_r,new Or(this,_r,Qr));if(fr.hasOwnProperty(Pn)){const _r=fr[Pn].xfa.dataNode;_r!==void 0&&(_r==="dataGroup"?this[gr]=!1:_r==="dataValue"&&(this[gr]=!0))}}this[Ht]=!1}[Pr](Qn){const sr=this[kn];if(sr==="#text"){Qn.push((0,Mt.encodeToXmlString)(this[Ot]));return}const fr=(0,Et.utf8StringToString)(sr),ur=this[En]===or?"xfa:":"";Qn.push(`<${ur}${fr}`);for(const[_r,Qr]of this[wr].entries()){const Ps=(0,Et.utf8StringToString)(_r);Qn.push(` ${Ps}="${(0,Mt.encodeToXmlString)(Qr[Ot])}"`)}if(this[gr]!==null&&(this[gr]?Qn.push(' xfa:dataNode="dataValue"'):Qn.push(' xfa:dataNode="dataGroup"')),!this[Ot]&&this[yr].length===0){Qn.push("/>");return}if(Qn.push(">"),this[Ot])typeof this[Ot]=="string"?Qn.push((0,Mt.encodeToXmlString)(this[Ot])):this[Ot][Pr](Qn);else for(const _r of this[yr])_r[Pr](Qn);Qn.push(`</${ur}${fr}>`)}[_n](Qn){if(this[Ot]){const sr=new Gr(this[En],"#text");this[jt](sr),sr[Ot]=this[Ot],this[Ot]=""}return this[jt](Qn),!0}[On](Qn){this[Ot]+=Qn}[en](){if(this[Ot]&&this[yr].length>0){const Qn=new Gr(this[En],"#text");this[jt](Qn),Qn[Ot]=this[Ot],delete this[Ot]}}[br](){return this[kn]==="#text"?vt.HTMLResult.success({name:"#text",value:this[Ot]}):vt.HTMLResult.EMPTY}[Kt](Qn=null){return Qn?this[yr].filter(sr=>sr[kn]===Qn):this[yr]}[hn](){return this[wr]}[qt](Qn){const sr=this[wr].get(Qn);return sr!==void 0?sr:this[Kt](Qn)}*[Ut](Qn,sr){const fr=this[wr].get(Qn);fr&&(yield fr);for(const ur of this[yr])ur[kn]===Qn&&(yield ur),sr&&(yield*ur[Ut](Qn,sr))}*[sn](Qn,sr){const fr=this[wr].get(Qn);fr&&(!sr||!fr[Ht])&&(yield fr);for(const ur of this[yr])yield*ur[sn](Qn,sr)}*[ln](Qn,sr,fr){for(const ur of this[yr])ur[kn]===Qn&&(!fr||!ur[Ht])&&(yield ur),sr&&(yield*ur[ln](Qn,sr,fr))}[vn](){return this[gr]===null?this[yr].length===0||this[yr][0][En]===Pt.NamespaceIds.xhtml.id:this[gr]}[zt](){return this[gr]===null?this[yr].length===0?this[Ot].trim():this[yr][0][En]===Pt.NamespaceIds.xhtml.id?this[yr][0][Bn]().trim():null:this[Ot].trim()}[Kn](Qn){Qn=Qn.value||"",this[Ot]=Qn.toString()}[Gt](Qn=!1){const sr=Object.create(null);Qn&&(sr.$ns=this[En]),this[Ot]&&(sr.$content=this[Ot]),sr.$name=this[kn],sr.children=[];for(const fr of this[yr])sr.children.push(fr[Gt](Qn));sr.attributes=Object.create(null);for(const[fr,ur]of this[wr])sr.attributes[fr]=ur[Ot];return sr}}St.XmlObject=Gr;class Ir extends xr{constructor(Qn,sr){super(Qn,sr),this[Ot]=""}[On](Qn){this[Ot]+=Qn}[en](){}}St.ContentObject=Ir;class kr extends Ir{constructor(Qn,sr,fr){super(Qn,sr),this[Yr]=fr}[en](){this[Ot]=(0,vt.getKeyword)({data:this[Ot],defaultValue:this[Yr][0],validate:Qn=>this[Yr].includes(Qn)})}[Nt](Qn){super[Nt](Qn),delete this[Yr]}}St.OptionObject=kr;class $r extends Ir{[en](){this[Ot]=this[Ot].trim()}}St.StringObject=$r;class Hr extends Ir{constructor(Qn,sr,fr,ur){super(Qn,sr),this[Mr]=fr,this[_s]=ur}[en](){this[Ot]=(0,vt.getInteger)({data:this[Ot],defaultValue:this[Mr],validate:this[_s]})}[Nt](Qn){super[Nt](Qn),delete this[Mr],delete this[_s]}}St.IntegerObject=Hr;class us extends Hr{constructor(Qn,sr){super(Qn,sr,0,fr=>fr===1)}}St.Option01=us;class rs extends Hr{constructor(Qn,sr){super(Qn,sr,1,fr=>fr===0)}}St.Option10=rs},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.HTMLResult=void 0,St.getBBox=Bt,St.getColor=kt,St.getFloat=$t,St.getInteger=xt,St.getKeyword=_t,St.getMeasurement=Rt,St.getRatio=Nt,St.getRelevant=Lt,St.getStringOption=jt,St.stripQuotes=Pt;var vt=Ft(2);const Et={pt:Ot=>Ot,cm:Ot=>Ot/2.54*72,mm:Ot=>Ot/(10*2.54)*72,in:Ot=>Ot*72,px:Ot=>Ot},Mt=/([+-]?\d+\.?\d*)(.*)/;function Pt(Ot){return Ot.startsWith("'")||Ot.startsWith('"')?Ot.slice(1,Ot.length-1):Ot}function xt({data:Ot,defaultValue:Vt,validate:Gt}){if(!Ot)return Vt;Ot=Ot.trim();const Wt=parseInt(Ot,10);return!isNaN(Wt)&&Gt(Wt)?Wt:Vt}function $t({data:Ot,defaultValue:Vt,validate:Gt}){if(!Ot)return Vt;Ot=Ot.trim();const Wt=parseFloat(Ot);return!isNaN(Wt)&&Gt(Wt)?Wt:Vt}function _t({data:Ot,defaultValue:Vt,validate:Gt}){return Ot?(Ot=Ot.trim(),Gt(Ot)?Ot:Vt):Vt}function jt(Ot,Vt){return _t({data:Ot,defaultValue:Vt[0],validate:Gt=>Vt.includes(Gt)})}function Rt(Ot,Vt="0"){if(Vt=Vt||"0",!Ot)return Rt(Vt);const Gt=Ot.trim().match(Mt);if(!Gt)return Rt(Vt);const[,Wt,en]=Gt,Sn=parseFloat(Wt);if(isNaN(Sn))return Rt(Vt);if(Sn===0)return 0;const sn=Et[en];return sn?sn(Sn):Sn}function Nt(Ot){if(!Ot)return{num:1,den:1};const Vt=Ot.trim().split(/\s*:\s*/).map(en=>parseFloat(en)).filter(en=>!isNaN(en));if(Vt.length===1&&Vt.push(1),Vt.length===0)return{num:1,den:1};const[Gt,Wt]=Vt;return{num:Gt,den:Wt}}function Lt(Ot){return Ot?Ot.trim().split(/\s+/).map(Vt=>({excluded:Vt[0]==="-",viewname:Vt.substring(1)})):[]}function kt(Ot,Vt=[0,0,0]){let[Gt,Wt,en]=Vt;if(!Ot)return{r:Gt,g:Wt,b:en};const Sn=Ot.trim().split(/\s*,\s*/).map(sn=>Math.min(Math.max(0,parseInt(sn.trim(),10)),255)).map(sn=>isNaN(sn)?0:sn);return Sn.length<3?{r:Gt,g:Wt,b:en}:([Gt,Wt,en]=Sn,{r:Gt,g:Wt,b:en})}function Bt(Ot){if(!Ot)return{x:-1,y:-1,width:-1,height:-1};const Gt=Ot.trim().split(/\s*,\s*/).map(hn=>Rt(hn,"-1"));if(Gt.length<4||Gt[2]<0||Gt[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[Wt,en,Sn,sn]=Gt;return{x:Wt,y:en,width:Sn,height:sn}}class Ht{static get FAILURE(){return(0,vt.shadow)(this,"FAILURE",new Ht(!1,null,null,null))}static get EMPTY(){return(0,vt.shadow)(this,"EMPTY",new Ht(!0,null,null,null))}constructor(Vt,Gt,Wt,en){this.success=Vt,this.html=Gt,this.bbox=Wt,this.breakNode=en}isBreak(){return!!this.breakNode}static breakNode(Vt){return new Ht(!1,null,null,Vt)}static success(Vt,Gt=null){return new Ht(!0,Vt,Gt,null)}}St.HTMLResult=Ht},(Ct,St)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.NamespaceIds=St.$buildXFAObject=void 0;const Ft=Symbol();St.$buildXFAObject=Ft;const vt={config:{id:0,check:Et=>Et.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:Et=>Et.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:Et=>Et.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:Et=>Et.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:Et=>Et.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:Et=>Et==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:Et=>Et==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:Et=>Et.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:Et=>Et==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:Et=>Et.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:Et=>Et.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:Et=>Et==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:Et=>Et==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:Et=>Et==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:Et=>Et==="http://ns.adobe.com/xmpmeta/"}};St.NamespaceIds=vt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.createDataNode=Ht,St.searchNode=kt;var vt=Ft(77),Et=Ft(79),Mt=Ft(2);const Pt=/^[^.[]+/,xt=/^[^\]]+/,$t={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},_t=new Map([["$data",(Ot,Vt)=>Ot.datasets?Ot.datasets.data:Ot],["$record",(Ot,Vt)=>(Ot.datasets?Ot.datasets.data:Ot)[vt.$getChildren]()[0]],["$template",(Ot,Vt)=>Ot.template],["$connectionSet",(Ot,Vt)=>Ot.connectionSet],["$form",(Ot,Vt)=>Ot.form],["$layout",(Ot,Vt)=>Ot.layout],["$host",(Ot,Vt)=>Ot.host],["$dataWindow",(Ot,Vt)=>Ot.dataWindow],["$event",(Ot,Vt)=>Ot.event],["!",(Ot,Vt)=>Ot.datasets],["$xfa",(Ot,Vt)=>Ot],["xfa",(Ot,Vt)=>Ot],["$",(Ot,Vt)=>Vt]]),jt=new WeakMap,Rt=Et.NamespaceIds.datasets.id;function Nt(Ot){return Ot=Ot.trim(),Ot==="*"?1/0:parseInt(Ot,10)||0}function Lt(Ot,Vt,Gt=!0){let Wt=Ot.match(Pt);if(!Wt)return null;let[en]=Wt;const Sn=[{name:en,cacheName:"."+en,index:0,js:null,formCalc:null,operator:$t.dot}];let sn=en.length;for(;sn<Ot.length;){const hn=sn;if(Ot.charAt(sn++)==="["){if(Wt=Ot.slice(sn).match(xt),!Wt)return(0,Mt.warn)("XFA - Invalid index in SOM expression"),null;Sn.at(-1).index=Nt(Wt[0]),sn+=Wt[0].length+1;continue}let qt;switch(Ot.charAt(sn)){case".":if(!Vt)return null;sn++,qt=$t.dotDot;break;case"#":sn++,qt=$t.dotHash;break;case"[":if(Gt)return(0,Mt.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;qt=$t.dotBracket;break;case"(":if(Gt)return(0,Mt.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;qt=$t.dotParen;break;default:qt=$t.dot;break}if(Wt=Ot.slice(sn).match(Pt),!Wt)break;[en]=Wt,sn+=en.length,Sn.push({name:en,cacheName:Ot.slice(hn,sn),operator:qt,index:0,js:null,formCalc:null})}return Sn}function kt(Ot,Vt,Gt,Wt=!0,en=!0){const Sn=Lt(Gt,Wt);if(!Sn)return null;const sn=_t.get(Sn[0].name);let hn=0,Qt;sn?(Qt=!0,Ot=[sn(Ot,Vt)],hn=1):(Qt=Vt===null,Ot=[Vt||Ot]);for(let qt=Sn.length;hn<qt;hn++){const{name:nn,cacheName:Ut,operator:zt,index:cn}=Sn[hn],ln=[];for(const Kt of Ot){if(!(Kt instanceof vt.XFAObject))continue;let Jt,Yt;if(en&&(Yt=jt.get(Kt),Yt||(Yt=new Map,jt.set(Kt,Yt)),Jt=Yt.get(Ut)),!Jt){switch(zt){case $t.dot:Jt=Kt[vt.$getChildrenByName](nn,!1);break;case $t.dotDot:Jt=Kt[vt.$getChildrenByName](nn,!0);break;case $t.dotHash:Jt=Kt[vt.$getChildrenByClass](nn),Jt instanceof vt.XFAObjectArray?Jt=Jt.children:Jt=[Jt];break}en&&Yt.set(Ut,Jt)}Jt.length>0&&ln.push(Jt)}if(ln.length===0&&!Qt&&hn===0){if(Vt=Vt[vt.$getParent](),!Vt)return null;hn=-1,Ot=[Vt];continue}isFinite(cn)?Ot=ln.filter(Kt=>cn<Kt.length).map(Kt=>Kt[cn]):Ot=ln.flat()}return Ot.length===0?null:Ot}function Bt(Ot,Vt){let Gt=null;for(const{name:Wt,index:en}of Vt){for(let Sn=0,sn=isFinite(en)?en:0;Sn<=sn;Sn++){const hn=Ot[vt.$namespaceId]===Rt?-1:Ot[vt.$namespaceId];Gt=new vt.XmlObject(hn,Wt),Ot[vt.$appendChild](Gt)}Ot=Gt}return Gt}function Ht(Ot,Vt,Gt){const Wt=Lt(Gt);if(!Wt||Wt.some(sn=>sn.operator===$t.dotDot))return null;const en=_t.get(Wt[0].name);let Sn=0;en?(Ot=en(Ot,Vt),Sn=1):Ot=Vt||Ot;for(let sn=Wt.length;Sn<sn;Sn++){const{name:hn,operator:Qt,index:qt}=Wt[Sn];if(!isFinite(qt))return Wt[Sn].index=0,Bt(Ot,Wt.slice(Sn));let nn;switch(Qt){case $t.dot:nn=Ot[vt.$getChildrenByName](hn,!1);break;case $t.dotDot:nn=Ot[vt.$getChildrenByName](hn,!0);break;case $t.dotHash:nn=Ot[vt.$getChildrenByClass](hn),nn instanceof vt.XFAObjectArray?nn=nn.children:nn=[nn];break}if(nn.length===0)return Bt(Ot,Wt.slice(Sn));if(qt<nn.length){const Ut=nn[qt];if(!(Ut instanceof vt.XFAObject))return(0,Mt.warn)("XFA - Cannot create a node."),null;Ot=Ut}else return Wt[Sn].index=qt-nn.length,Bt(Ot,Wt.slice(Sn))}return null}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.Binder=void 0;var vt=Ft(77),Et=Ft(82),Mt=Ft(80),Pt=Ft(79),xt=Ft(2);const $t=Pt.NamespaceIds.datasets.id;function _t(Rt){const Nt=new Et.Text({});return Nt[vt.$content]=Rt,Nt}class jt{constructor(Nt){this.root=Nt,this.datasets=Nt.datasets,Nt.datasets&&Nt.datasets.data?this.data=Nt.datasets.data:this.data=new vt.XmlObject(Pt.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[vt.$getChildren]().length===0,this.root.form=this.form=Nt.template[vt.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(Nt,Lt,kt){if(Nt[vt.$data]=Lt,Nt[vt.$hasSettableValue]())if(Lt[vt.$isDataValue]()){const Bt=Lt[vt.$getDataValue]();Nt[vt.$setValue](_t(Bt))}else if(Nt instanceof Et.Field&&Nt.ui&&Nt.ui.choiceList&&Nt.ui.choiceList.open==="multiSelect"){const Bt=Lt[vt.$getChildren]().map(Ht=>Ht[vt.$content].trim()).join(`
`);Nt[vt.$setValue](_t(Bt))}else this._isConsumeData()&&(0,xt.warn)("XFA - Nodes haven't the same type.");else!Lt[vt.$isDataValue]()||this._isMatchTemplate()?this._bindElement(Nt,Lt):(0,xt.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(Nt,Lt,kt,Bt){if(!Nt)return null;let Ht,Ot;for(let Vt=0;Vt<3;Vt++){for(Ht=kt[vt.$getRealChildrenByNameIt](Nt,!1,!0);Ot=Ht.next().value,!!Ot;)if(Lt===Ot[vt.$isDataValue]())return Ot;if(kt[vt.$namespaceId]===Pt.NamespaceIds.datasets.id&&kt[vt.$nodeName]==="data")break;kt=kt[vt.$getParent]()}return Bt?(Ht=this.data[vt.$getRealChildrenByNameIt](Nt,!0,!1),Ot=Ht.next().value,Ot||(Ht=this.data[vt.$getAttributeIt](Nt,!0),Ot=Ht.next().value,Ot&&Ot[vt.$isDataValue]())?Ot:null):null}_setProperties(Nt,Lt){if(Nt.hasOwnProperty("setProperty"))for(const{ref:kt,target:Bt,connection:Ht}of Nt.setProperty.children){if(Ht||!kt)continue;const Ot=(0,Mt.searchNode)(this.root,Lt,kt,!1,!1);if(!Ot){(0,xt.warn)(`XFA - Invalid reference: ${kt}.`);continue}const[Vt]=Ot;if(!Vt[vt.$isDescendent](this.data)){(0,xt.warn)("XFA - Invalid node: must be a data node.");continue}const Gt=(0,Mt.searchNode)(this.root,Nt,Bt,!1,!1);if(!Gt){(0,xt.warn)(`XFA - Invalid target: ${Bt}.`);continue}const[Wt]=Gt;if(!Wt[vt.$isDescendent](Nt)){(0,xt.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const en=Wt[vt.$getParent]();if(Wt instanceof Et.SetProperty||en instanceof Et.SetProperty){(0,xt.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(Wt instanceof Et.BindItems||en instanceof Et.BindItems){(0,xt.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const Sn=Vt[vt.$text](),sn=Wt[vt.$nodeName];if(Wt instanceof vt.XFAAttribute){const hn=Object.create(null);hn[sn]=Sn;const Qt=Reflect.construct(Object.getPrototypeOf(en).constructor,[hn]);en[sn]=Qt[sn];continue}if(!Wt.hasOwnProperty(vt.$content)){(0,xt.warn)("XFA - Invalid node to use in setProperty");continue}Wt[vt.$data]=Vt,Wt[vt.$content]=Sn,Wt[vt.$finalize]()}}_bindItems(Nt,Lt){if(!Nt.hasOwnProperty("items")||!Nt.hasOwnProperty("bindItems")||Nt.bindItems.isEmpty())return;for(const Ht of Nt.items.children)Nt[vt.$removeChild](Ht);Nt.items.clear();const kt=new Et.Items({}),Bt=new Et.Items({});Nt[vt.$appendChild](kt),Nt.items.push(kt),Nt[vt.$appendChild](Bt),Nt.items.push(Bt);for(const{ref:Ht,labelRef:Ot,valueRef:Vt,connection:Gt}of Nt.bindItems.children){if(Gt||!Ht)continue;const Wt=(0,Mt.searchNode)(this.root,Lt,Ht,!1,!1);if(!Wt){(0,xt.warn)(`XFA - Invalid reference: ${Ht}.`);continue}for(const en of Wt){if(!en[vt.$isDescendent](this.datasets)){(0,xt.warn)(`XFA - Invalid ref (${Ht}): must be a datasets child.`);continue}const Sn=(0,Mt.searchNode)(this.root,en,Ot,!0,!1);if(!Sn){(0,xt.warn)(`XFA - Invalid label: ${Ot}.`);continue}const[sn]=Sn;if(!sn[vt.$isDescendent](this.datasets)){(0,xt.warn)("XFA - Invalid label: must be a datasets child.");continue}const hn=(0,Mt.searchNode)(this.root,en,Vt,!0,!1);if(!hn){(0,xt.warn)(`XFA - Invalid value: ${Vt}.`);continue}const[Qt]=hn;if(!Qt[vt.$isDescendent](this.datasets)){(0,xt.warn)("XFA - Invalid value: must be a datasets child.");continue}const qt=_t(sn[vt.$text]()),nn=_t(Qt[vt.$text]());kt[vt.$appendChild](qt),kt.text.push(qt),Bt[vt.$appendChild](nn),Bt.text.push(nn)}}}_bindOccurrences(Nt,Lt,kt){let Bt;if(Lt.length>1&&(Bt=Nt[vt.$clone](),Bt[vt.$removeChild](Bt.occur),Bt.occur=null),this._bindValue(Nt,Lt[0],kt),this._setProperties(Nt,Lt[0]),this._bindItems(Nt,Lt[0]),Lt.length===1)return;const Ht=Nt[vt.$getParent](),Ot=Nt[vt.$nodeName],Vt=Ht[vt.$indexOf](Nt);for(let Gt=1,Wt=Lt.length;Gt<Wt;Gt++){const en=Lt[Gt],Sn=Bt[vt.$clone]();Ht[Ot].push(Sn),Ht[vt.$insertAt](Vt+Gt,Sn),this._bindValue(Sn,en,kt),this._setProperties(Sn,en),this._bindItems(Sn,en)}}_createOccurrences(Nt){if(!this.emptyMerge)return;const{occur:Lt}=Nt;if(!Lt||Lt.initial<=1)return;const kt=Nt[vt.$getParent](),Bt=Nt[vt.$nodeName];if(!(kt[Bt]instanceof vt.XFAObjectArray))return;let Ht;Nt.name?Ht=kt[Bt].children.filter(Gt=>Gt.name===Nt.name).length:Ht=kt[Bt].children.length;const Ot=kt[vt.$indexOf](Nt)+1,Vt=Lt.initial-Ht;if(Vt){const Gt=Nt[vt.$clone]();Gt[vt.$removeChild](Gt.occur),Gt.occur=null,kt[Bt].push(Gt),kt[vt.$insertAt](Ot,Gt);for(let Wt=1;Wt<Vt;Wt++){const en=Gt[vt.$clone]();kt[Bt].push(en),kt[vt.$insertAt](Ot+Wt,en)}}}_getOccurInfo(Nt){const{name:Lt,occur:kt}=Nt;if(!kt||!Lt)return[1,1];const Bt=kt.max===-1?1/0:kt.max;return[kt.min,Bt]}_setAndBind(Nt,Lt){this._setProperties(Nt,Lt),this._bindItems(Nt,Lt),this._bindElement(Nt,Lt)}_bindElement(Nt,Lt){const kt=[];this._createOccurrences(Nt);for(const Bt of Nt[vt.$getChildren]()){if(Bt[vt.$data])continue;if(this._mergeMode===void 0&&Bt[vt.$nodeName]==="subform"){this._mergeMode=Bt.mergeMode==="consumeData";const Sn=Lt[vt.$getChildren]();if(Sn.length>0)this._bindOccurrences(Bt,[Sn[0]],null);else if(this.emptyMerge){const sn=Lt[vt.$namespaceId]===$t?-1:Lt[vt.$namespaceId],hn=Bt[vt.$data]=new vt.XmlObject(sn,Bt.name||"root");Lt[vt.$appendChild](hn),this._bindElement(Bt,hn)}continue}if(!Bt[vt.$isBindable]())continue;let Ht=!1,Ot=null,Vt=null,Gt=null;if(Bt.bind){switch(Bt.bind.match){case"none":this._setAndBind(Bt,Lt);continue;case"global":Ht=!0;break;case"dataRef":if(!Bt.bind.ref){(0,xt.warn)(`XFA - ref is empty in node ${Bt[vt.$nodeName]}.`),this._setAndBind(Bt,Lt);continue}Vt=Bt.bind.ref;break}Bt.bind.picture&&(Ot=Bt.bind.picture[vt.$content])}const[Wt,en]=this._getOccurInfo(Bt);if(Vt)if(Gt=(0,Mt.searchNode)(this.root,Lt,Vt,!0,!1),Gt===null){if(Gt=(0,Mt.createDataNode)(this.data,Lt,Vt),!Gt)continue;this._isConsumeData()&&(Gt[vt.$consumed]=!0),this._setAndBind(Bt,Gt);continue}else this._isConsumeData()&&(Gt=Gt.filter(Sn=>!Sn[vt.$consumed])),Gt.length>en?Gt=Gt.slice(0,en):Gt.length===0&&(Gt=null),Gt&&this._isConsumeData()&&Gt.forEach(Sn=>{Sn[vt.$consumed]=!0});else{if(!Bt.name){this._setAndBind(Bt,Lt);continue}if(this._isConsumeData()){const Sn=[];for(;Sn.length<en;){const sn=this._findDataByNameToConsume(Bt.name,Bt[vt.$hasSettableValue](),Lt,Ht);if(!sn)break;sn[vt.$consumed]=!0,Sn.push(sn)}Gt=Sn.length>0?Sn:null}else{if(Gt=Lt[vt.$getRealChildrenByNameIt](Bt.name,!1,this.emptyMerge).next().value,!Gt){if(Wt===0){kt.push(Bt);continue}const Sn=Lt[vt.$namespaceId]===$t?-1:Lt[vt.$namespaceId];Gt=Bt[vt.$data]=new vt.XmlObject(Sn,Bt.name),this.emptyMerge&&(Gt[vt.$consumed]=!0),Lt[vt.$appendChild](Gt),this._setAndBind(Bt,Gt);continue}this.emptyMerge&&(Gt[vt.$consumed]=!0),Gt=[Gt]}}Gt?this._bindOccurrences(Bt,Gt,Ot):Wt>0?this._setAndBind(Bt,Lt):kt.push(Bt)}kt.forEach(Bt=>Bt[vt.$getParent]()[vt.$removeChild](Bt))}}St.Binder=jt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.Value=St.Text=St.TemplateNamespace=St.Template=St.SetProperty=St.Items=St.Field=St.BindItems=void 0;var vt=Ft(77),Et=Ft(79),Mt=Ft(83),Pt=Ft(84),xt=Ft(78),$t=Ft(2),_t=Ft(85),jt=Ft(6),Rt=Ft(80);const Nt=Et.NamespaceIds.template.id,Lt="http://www.w3.org/2000/svg",kt=2,Bt=3,Ht=5e3,Ot=/^H(\d+)$/,Vt=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),Gt=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function Wt(In){if(!In||!In.border)return{w:0,h:0};const Dt=In.border[vt.$getExtra]();return Dt?{w:Dt.widths[0]+Dt.widths[2]+Dt.insets[0]+Dt.insets[2],h:Dt.widths[1]+Dt.widths[3]+Dt.insets[1]+Dt.insets[3]}:{w:0,h:0}}function en(In){return In.margin&&(In.margin.topInset||In.margin.rightInset||In.margin.bottomInset||In.margin.leftInset)}function Sn(In,Dt){if(!In.value){const mn=new $u({});In[vt.$appendChild](mn),In.value=mn}In.value[vt.$setValue](Dt)}function*sn(In){for(const Dt of In[vt.$getChildren]()){if(Dt instanceof m0){yield*Dt[vt.$getContainedChildren]();continue}yield Dt}}function hn(In){return In.validate&&In.validate.nullTest==="error"}function Qt(In){for(;In;){if(!In.traversal){In[vt.$tabIndex]=In[vt.$getParent]()[vt.$tabIndex];return}if(In[vt.$tabIndex])return;let Dt=null;for(const Hn of In.traversal[vt.$getChildren]())if(Hn.operation==="next"){Dt=Hn;break}if(!Dt||!Dt.ref){In[vt.$tabIndex]=In[vt.$getParent]()[vt.$tabIndex];return}const mn=In[vt.$getTemplateRoot]();In[vt.$tabIndex]=++mn[vt.$tabIndex];const Nn=mn[vt.$searchNode](Dt.ref,In);if(!Nn)return;In=Nn[0]}}function qt(In,Dt){const mn=In.assist;if(mn){const Nn=mn[vt.$toHTML]();Nn&&(Dt.title=Nn);const Xn=mn.role.match(Ot);if(Xn){const Wn="heading",Jn=Xn[1];Dt.role=Wn,Dt["aria-level"]=Jn}}if(In.layout==="table")Dt.role="table";else if(In.layout==="row")Dt.role="row";else{const Nn=In[vt.$getParent]();Nn.layout==="row"&&(Nn.assist&&Nn.assist.role==="TH"?Dt.role="columnheader":Dt.role="cell")}}function nn(In){if(!In.assist)return null;const Dt=In.assist;return Dt.speak&&Dt.speak[vt.$content]!==""?Dt.speak[vt.$content]:Dt.toolTip?Dt.toolTip[vt.$content]:null}function Ut(In){return xt.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:In}]})}function zt(In){const Dt=In[vt.$getTemplateRoot]();Dt[vt.$extra].firstUnsplittable===null&&(Dt[vt.$extra].firstUnsplittable=In,Dt[vt.$extra].noLayoutFailure=!0)}function cn(In){const Dt=In[vt.$getTemplateRoot]();Dt[vt.$extra].firstUnsplittable===In&&(Dt[vt.$extra].noLayoutFailure=!1)}function ln(In){if(In[vt.$extra]||(In[vt.$extra]=Object.create(null),In.targetType==="auto"))return!1;const Dt=In[vt.$getTemplateRoot]();let mn=null;if(In.target){if(mn=Dt[vt.$searchNode](In.target,In[vt.$getParent]()),!mn)return!1;mn=mn[0]}const{currentPageArea:Nn,currentContentArea:Hn}=Dt[vt.$extra];if(In.targetType==="pageArea")return mn instanceof ur||(mn=null),In.startNew?(In[vt.$extra].target=mn||Nn,!0):mn&&mn!==Nn?(In[vt.$extra].target=mn,!0):!1;mn instanceof _n||(mn=null);const Xn=mn&&mn[vt.$getParent]();let Wn,Jn=Xn;if(In.startNew)if(mn){const Zn=Xn.contentArea.children,ar=Zn.indexOf(Hn),hr=Zn.indexOf(mn);ar!==-1&&ar<hr&&(Jn=null),Wn=hr-1}else Wn=Nn.contentArea.children.indexOf(Hn);else if(mn&&mn!==Hn)Wn=Xn.contentArea.children.indexOf(mn)-1,Jn=Xn===Nn?null:Xn;else return!1;return In[vt.$extra].target=Jn,In[vt.$extra].index=Wn,!0}function Kt(In,Dt,mn){const Nn=In[vt.$getTemplateRoot](),Hn=Nn[vt.$extra].noLayoutFailure,Xn=Dt[vt.$getSubformParent];Dt[vt.$getSubformParent]=()=>In,Nn[vt.$extra].noLayoutFailure=!0;const Wn=Dt[vt.$toHTML](mn);In[vt.$addHTML](Wn.html,Wn.bbox),Nn[vt.$extra].noLayoutFailure=Hn,Dt[vt.$getSubformParent]=Xn}class Jt extends vt.StringObject{constructor(Dt){super(Nt,"appearanceFilter"),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Yt extends vt.XFAObject{constructor(Dt){super(Nt,"arc",!0),this.circular=(0,xt.getInteger)({data:Dt.circular,defaultValue:0,validate:mn=>mn===1}),this.hand=(0,xt.getStringOption)(Dt.hand,["even","left","right"]),this.id=Dt.id||"",this.startAngle=(0,xt.getFloat)({data:Dt.startAngle,defaultValue:0,validate:mn=>!0}),this.sweepAngle=(0,xt.getFloat)({data:Dt.sweepAngle,defaultValue:360,validate:mn=>!0}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.edge=null,this.fill=null}[vt.$toHTML](){const Dt=this.edge||new ir({}),mn=Dt[vt.$toStyle](),Nn=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(Nn,this.fill[vt.$toStyle]()):Nn.fill="transparent",Nn.strokeWidth=(0,Pt.measureToString)(Dt.presence==="visible"?Dt.thickness:0),Nn.stroke=mn.color;let Hn;const Xn={xmlns:Lt,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)Hn={name:"ellipse",attributes:{xmlns:Lt,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:Nn}};else{const Zn=this.startAngle*Math.PI/180,ar=this.sweepAngle*Math.PI/180,hr=this.sweepAngle>180?1:0,[dr,Er,Sr,Ar]=[50*(1+Math.cos(Zn)),50*(1-Math.sin(Zn)),50*(1+Math.cos(Zn+ar)),50*(1-Math.sin(Zn+ar))];Hn={name:"path",attributes:{xmlns:Lt,d:`M ${dr} ${Er} A 50 50 0 ${hr} 0 ${Sr} ${Ar}`,vectorEffect:"non-scaling-stroke",style:Nn}},Object.assign(Xn,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const Wn={name:"svg",children:[Hn],attributes:Xn},Jn=this[vt.$getParent]()[vt.$getParent]();return en(Jn)?xt.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Wn]}):(Wn.attributes.style.position="absolute",xt.HTMLResult.success(Wn))}}class tn extends vt.XFAObject{constructor(Dt){super(Nt,"area",!0),this.colSpan=(0,xt.getInteger)({data:Dt.colSpan,defaultValue:1,validate:mn=>mn>=1||mn===-1}),this.id=Dt.id||"",this.name=Dt.name||"",this.relevant=(0,xt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.x=(0,xt.getMeasurement)(Dt.x,"0pt"),this.y=(0,xt.getMeasurement)(Dt.y,"0pt"),this.desc=null,this.extras=null,this.area=new vt.XFAObjectArray,this.draw=new vt.XFAObjectArray,this.exObject=new vt.XFAObjectArray,this.exclGroup=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray,this.subformSet=new vt.XFAObjectArray}*[vt.$getContainedChildren](){yield*sn(this)}[vt.$isTransparent](){return!0}[vt.$isBindable](){return!0}[vt.$addHTML](Dt,mn){const[Nn,Hn,Xn,Wn]=mn;this[vt.$extra].width=Math.max(this[vt.$extra].width,Nn+Xn),this[vt.$extra].height=Math.max(this[vt.$extra].height,Hn+Wn),this[vt.$extra].children.push(Dt)}[vt.$getAvailableSpace](){return this[vt.$extra].availableSpace}[vt.$toHTML](Dt){const mn=(0,Pt.toStyle)(this,"position"),Nn={style:mn,id:this[vt.$uid],class:["xfaArea"]};(0,Pt.isPrintOnly)(this)&&Nn.class.push("xfaPrintOnly"),this.name&&(Nn.xfaName=this.name);const Hn=[];this[vt.$extra]={children:Hn,width:0,height:0,availableSpace:Dt};const Xn=this[vt.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!Xn.success)return Xn.isBreak()?Xn:(delete this[vt.$extra],xt.HTMLResult.FAILURE);mn.width=(0,Pt.measureToString)(this[vt.$extra].width),mn.height=(0,Pt.measureToString)(this[vt.$extra].height);const Wn={name:"div",attributes:Nn,children:Hn},Jn=[this.x,this.y,this[vt.$extra].width,this[vt.$extra].height];return delete this[vt.$extra],xt.HTMLResult.success(Wn,Jn)}}class un extends vt.XFAObject{constructor(Dt){super(Nt,"assist",!0),this.id=Dt.id||"",this.role=Dt.role||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.speak=null,this.toolTip=null}[vt.$toHTML](){return this.toolTip&&this.toolTip[vt.$content]?this.toolTip[vt.$content]:null}}class yn extends vt.XFAObject{constructor(Dt){super(Nt,"barcode",!0),this.charEncoding=(0,xt.getKeyword)({data:Dt.charEncoding?Dt.charEncoding.toLowerCase():"",defaultValue:"",validate:mn=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(mn)||mn.match(/iso-8859-\d{2}/)}),this.checksum=(0,xt.getStringOption)(Dt.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,xt.getInteger)({data:Dt.dataColumnCount,defaultValue:-1,validate:mn=>mn>=0}),this.dataLength=(0,xt.getInteger)({data:Dt.dataLength,defaultValue:-1,validate:mn=>mn>=0}),this.dataPrep=(0,xt.getStringOption)(Dt.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,xt.getInteger)({data:Dt.dataRowCount,defaultValue:-1,validate:mn=>mn>=0}),this.endChar=Dt.endChar||"",this.errorCorrectionLevel=(0,xt.getInteger)({data:Dt.errorCorrectionLevel,defaultValue:-1,validate:mn=>mn>=0&&mn<=8}),this.id=Dt.id||"",this.moduleHeight=(0,xt.getMeasurement)(Dt.moduleHeight,"5mm"),this.moduleWidth=(0,xt.getMeasurement)(Dt.moduleWidth,"0.25mm"),this.printCheckDigit=(0,xt.getInteger)({data:Dt.printCheckDigit,defaultValue:0,validate:mn=>mn===1}),this.rowColumnRatio=(0,xt.getRatio)(Dt.rowColumnRatio),this.startChar=Dt.startChar||"",this.textLocation=(0,xt.getStringOption)(Dt.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,xt.getInteger)({data:Dt.truncate,defaultValue:0,validate:mn=>mn===1}),this.type=(0,xt.getStringOption)(Dt.type?Dt.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,xt.getStringOption)(Dt.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.wideNarrowRatio=(0,xt.getRatio)(Dt.wideNarrowRatio),this.encrypt=null,this.extras=null}}class xn extends vt.XFAObject{constructor(Dt){super(Nt,"bind",!0),this.match=(0,xt.getStringOption)(Dt.match,["once","dataRef","global","none"]),this.ref=Dt.ref||"",this.picture=null}}class rn extends vt.XFAObject{constructor(Dt){super(Nt,"bindItems"),this.connection=Dt.connection||"",this.labelRef=Dt.labelRef||"",this.ref=Dt.ref||"",this.valueRef=Dt.valueRef||""}}St.BindItems=rn;class dn extends vt.XFAObject{constructor(Dt){super(Nt,"bookend"),this.id=Dt.id||"",this.leader=Dt.leader||"",this.trailer=Dt.trailer||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class An extends vt.Option01{constructor(Dt){super(Nt,"boolean"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[vt.$toHTML](Dt){return Ut(this[vt.$content]===1?"1":"0")}}class an extends vt.XFAObject{constructor(Dt){super(Nt,"border",!0),this.break=(0,xt.getStringOption)(Dt.break,["close","open"]),this.hand=(0,xt.getStringOption)(Dt.hand,["even","left","right"]),this.id=Dt.id||"",this.presence=(0,xt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,xt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.corner=new vt.XFAObjectArray(4),this.edge=new vt.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[vt.$getExtra](){if(!this[vt.$extra]){const Dt=this.edge.children.slice();if(Dt.length<4){const Hn=Dt.at(-1)||new ir({});for(let Xn=Dt.length;Xn<4;Xn++)Dt.push(Hn)}const mn=Dt.map(Hn=>Hn.thickness),Nn=[0,0,0,0];this.margin&&(Nn[0]=this.margin.topInset,Nn[1]=this.margin.rightInset,Nn[2]=this.margin.bottomInset,Nn[3]=this.margin.leftInset),this[vt.$extra]={widths:mn,insets:Nn,edges:Dt}}return this[vt.$extra]}[vt.$toStyle](){const{edges:Dt}=this[vt.$getExtra](),mn=Dt.map(Hn=>{const Xn=Hn[vt.$toStyle]();return Xn.color=Xn.color||"#000000",Xn}),Nn=Object.create(null);if(this.margin&&Object.assign(Nn,this.margin[vt.$toStyle]()),this.fill&&this.fill.presence==="visible"&&Object.assign(Nn,this.fill[vt.$toStyle]()),this.corner.children.some(Hn=>Hn.radius!==0)){const Hn=this.corner.children.map(Xn=>Xn[vt.$toStyle]());if(Hn.length===2||Hn.length===3){const Xn=Hn.at(-1);for(let Wn=Hn.length;Wn<4;Wn++)Hn.push(Xn)}Nn.borderRadius=Hn.map(Xn=>Xn.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":Nn.borderStyle="";break;case"inactive":Nn.borderStyle="none";break;default:Nn.borderStyle=mn.map(Hn=>Hn.style).join(" ");break}return Nn.borderWidth=mn.map(Hn=>Hn.width).join(" "),Nn.borderColor=mn.map(Hn=>Hn.color).join(" "),Nn}}class fn extends vt.XFAObject{constructor(Dt){super(Nt,"break",!0),this.after=(0,xt.getStringOption)(Dt.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=Dt.afterTarget||"",this.before=(0,xt.getStringOption)(Dt.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=Dt.beforeTarget||"",this.bookendLeader=Dt.bookendLeader||"",this.bookendTrailer=Dt.bookendTrailer||"",this.id=Dt.id||"",this.overflowLeader=Dt.overflowLeader||"",this.overflowTarget=Dt.overflowTarget||"",this.overflowTrailer=Dt.overflowTrailer||"",this.startNew=(0,xt.getInteger)({data:Dt.startNew,defaultValue:0,validate:mn=>mn===1}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}}class bn extends vt.XFAObject{constructor(Dt){super(Nt,"breakAfter",!0),this.id=Dt.id||"",this.leader=Dt.leader||"",this.startNew=(0,xt.getInteger)({data:Dt.startNew,defaultValue:0,validate:mn=>mn===1}),this.target=Dt.target||"",this.targetType=(0,xt.getStringOption)(Dt.targetType,["auto","contentArea","pageArea"]),this.trailer=Dt.trailer||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.script=null}}class vn extends vt.XFAObject{constructor(Dt){super(Nt,"breakBefore",!0),this.id=Dt.id||"",this.leader=Dt.leader||"",this.startNew=(0,xt.getInteger)({data:Dt.startNew,defaultValue:0,validate:mn=>mn===1}),this.target=Dt.target||"",this.targetType=(0,xt.getStringOption)(Dt.targetType,["auto","contentArea","pageArea"]),this.trailer=Dt.trailer||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.script=null}[vt.$toHTML](Dt){return this[vt.$extra]={},xt.HTMLResult.FAILURE}}class gn extends vt.XFAObject{constructor(Dt){super(Nt,"button",!0),this.highlight=(0,xt.getStringOption)(Dt.highlight,["inverted","none","outline","push"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}[vt.$toHTML](Dt){const Nn=this[vt.$getParent]()[vt.$getParent](),Hn={name:"button",attributes:{id:this[vt.$uid],class:["xfaButton"],style:{}},children:[]};for(const Xn of Nn.event.children){if(Xn.activity!=="click"||!Xn.script)continue;const Wn=(0,jt.recoverJsURL)(Xn.script[vt.$content]);if(!Wn)continue;const Jn=(0,Pt.fixURL)(Wn.url);Jn&&Hn.children.push({name:"a",attributes:{id:"link"+this[vt.$uid],href:Jn,newWindow:Wn.newWindow,class:["xfaLink"],style:{}},children:[]})}return xt.HTMLResult.success(Hn)}}class on extends vt.XFAObject{constructor(Dt){super(Nt,"calculate",!0),this.id=Dt.id||"",this.override=(0,xt.getStringOption)(Dt.override,["disabled","error","ignore","warning"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.message=null,this.script=null}}class wn extends vt.XFAObject{constructor(Dt){super(Nt,"caption",!0),this.id=Dt.id||"",this.placement=(0,xt.getStringOption)(Dt.placement,["left","bottom","inline","right","top"]),this.presence=(0,xt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,xt.getMeasurement)(Dt.reserve)),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[vt.$setValue](Dt){Sn(this,Dt)}[vt.$getExtra](Dt){if(!this[vt.$extra]){let{width:mn,height:Nn}=Dt;switch(this.placement){case"left":case"right":case"inline":mn=this.reserve<=0?mn:this.reserve;break;case"top":case"bottom":Nn=this.reserve<=0?Nn:this.reserve;break}this[vt.$extra]=(0,Pt.layoutNode)(this,{width:mn,height:Nn})}return this[vt.$extra]}[vt.$toHTML](Dt){if(!this.value)return xt.HTMLResult.EMPTY;this[vt.$pushPara]();const mn=this.value[vt.$toHTML](Dt).html;if(!mn)return this[vt.$popPara](),xt.HTMLResult.EMPTY;const Nn=this.reserve;if(this.reserve<=0){const{w:Wn,h:Jn}=this[vt.$getExtra](Dt);switch(this.placement){case"left":case"right":case"inline":this.reserve=Wn;break;case"top":case"bottom":this.reserve=Jn;break}}const Hn=[];typeof mn=="string"?Hn.push({name:"#text",value:mn}):Hn.push(mn);const Xn=(0,Pt.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(Xn.width=(0,Pt.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(Xn.height=(0,Pt.measureToString)(this.reserve));break}return(0,Pt.setPara)(this,null,mn),this[vt.$popPara](),this.reserve=Nn,xt.HTMLResult.success({name:"div",attributes:{style:Xn,class:["xfaCaption"]},children:Hn})}}class pn extends vt.StringObject{constructor(Dt){super(Nt,"certificate"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Cn extends vt.XFAObject{constructor(Dt){super(Nt,"certificates",!0),this.credentialServerPolicy=(0,xt.getStringOption)(Dt.credentialServerPolicy,["optional","required"]),this.id=Dt.id||"",this.url=Dt.url||"",this.urlPolicy=Dt.urlPolicy||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class Tn extends vt.XFAObject{constructor(Dt){super(Nt,"checkButton",!0),this.id=Dt.id||"",this.mark=(0,xt.getStringOption)(Dt.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,xt.getStringOption)(Dt.shape,["square","round"]),this.size=(0,xt.getMeasurement)(Dt.size,"10pt"),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.margin=null}[vt.$toHTML](Dt){const mn=(0,Pt.toStyle)("margin"),Nn=(0,Pt.measureToString)(this.size);mn.width=mn.height=Nn;let Hn,Xn,Wn;const Jn=this[vt.$getParent]()[vt.$getParent](),Zn=Jn.items.children.length&&Jn.items.children[0][vt.$toHTML]().html||[],ar={on:(Zn[0]!==void 0?Zn[0]:"on").toString(),off:(Zn[1]!==void 0?Zn[1]:"off").toString()},dr=(Jn.value&&Jn.value[vt.$text]()||"off")===ar.on||void 0,Er=Jn[vt.$getSubformParent](),Sr=Jn[vt.$uid];let Ar;Er instanceof Cr?(Wn=Er[vt.$uid],Hn="radio",Xn="xfaRadio",Ar=Er[vt.$data]&&Er[vt.$data][vt.$uid]||Er[vt.$uid]):(Hn="checkbox",Xn="xfaCheckbox",Ar=Jn[vt.$data]&&Jn[vt.$data][vt.$uid]||Jn[vt.$uid]);const Lr={name:"input",attributes:{class:[Xn],style:mn,fieldId:Sr,dataId:Ar,type:Hn,checked:dr,xfaOn:ar.on,xfaOff:ar.off,"aria-label":nn(Jn),"aria-required":!1}};return Wn&&(Lr.attributes.name=Wn),hn(Jn)&&(Lr.attributes["aria-required"]=!0,Lr.attributes.required=!0),xt.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Lr]})}}class Fn extends vt.XFAObject{constructor(Dt){super(Nt,"choiceList",!0),this.commitOn=(0,xt.getStringOption)(Dt.commitOn,["select","exit"]),this.id=Dt.id||"",this.open=(0,xt.getStringOption)(Dt.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,xt.getInteger)({data:Dt.textEntry,defaultValue:0,validate:mn=>mn===1}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.margin=null}[vt.$toHTML](Dt){const mn=(0,Pt.toStyle)(this,"border","margin"),Hn=this[vt.$getParent]()[vt.$getParent](),Wn={fontSize:`calc(${Hn.font&&Hn.font.size||10}px * var(--scale-factor))`},Jn=[];if(Hn.items.children.length>0){const ar=Hn.items;let hr=0,dr=0;ar.children.length===2&&(hr=ar.children[0].save,dr=1-hr);const Er=ar.children[hr][vt.$toHTML]().html,Sr=ar.children[dr][vt.$toHTML]().html;let Ar=!1;const Lr=Hn.value&&Hn.value[vt.$text]()||"";for(let Vr=0,Fr=Er.length;Vr<Fr;Vr++){const Nr={name:"option",attributes:{value:Sr[Vr]||Er[Vr],style:Wn},value:Er[Vr]};Sr[Vr]===Lr&&(Nr.attributes.selected=Ar=!0),Jn.push(Nr)}Ar||Jn.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const Zn={class:["xfaSelect"],fieldId:Hn[vt.$uid],dataId:Hn[vt.$data]&&Hn[vt.$data][vt.$uid]||Hn[vt.$uid],style:mn,"aria-label":nn(Hn),"aria-required":!1};return hn(Hn)&&(Zn["aria-required"]=!0,Zn.required=!0),this.open==="multiSelect"&&(Zn.multiple=!0),xt.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:Jn,attributes:Zn}]})}}class En extends vt.XFAObject{constructor(Dt){super(Nt,"color",!0),this.cSpace=(0,xt.getStringOption)(Dt.cSpace,["SRGB"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.value=Dt.value?(0,xt.getColor)(Dt.value):"",this.extras=null}[vt.$hasSettableValue](){return!1}[vt.$toStyle](){return this.value?$t.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class kn extends vt.XFAObject{constructor(Dt){super(Nt,"comb"),this.id=Dt.id||"",this.numberOfCells=(0,xt.getInteger)({data:Dt.numberOfCells,defaultValue:0,validate:mn=>mn>=0}),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Pn extends vt.XFAObject{constructor(Dt){super(Nt,"connect",!0),this.connection=Dt.connection||"",this.id=Dt.id||"",this.ref=Dt.ref||"",this.usage=(0,xt.getStringOption)(Dt.usage,["exportAndImport","exportOnly","importOnly"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.picture=null}}class _n extends vt.XFAObject{constructor(Dt){super(Nt,"contentArea",!0),this.h=(0,xt.getMeasurement)(Dt.h),this.id=Dt.id||"",this.name=Dt.name||"",this.relevant=(0,xt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=(0,xt.getMeasurement)(Dt.w),this.x=(0,xt.getMeasurement)(Dt.x,"0pt"),this.y=(0,xt.getMeasurement)(Dt.y,"0pt"),this.desc=null,this.extras=null}[vt.$toHTML](Dt){const mn=(0,Pt.measureToString)(this.x),Nn=(0,Pt.measureToString)(this.y),Hn={left:mn,top:Nn,width:(0,Pt.measureToString)(this.w),height:(0,Pt.measureToString)(this.h)},Xn=["xfaContentarea"];return(0,Pt.isPrintOnly)(this)&&Xn.push("xfaPrintOnly"),xt.HTMLResult.success({name:"div",children:[],attributes:{style:Hn,class:Xn,id:this[vt.$uid]}})}}class Mn extends vt.XFAObject{constructor(Dt){super(Nt,"corner",!0),this.id=Dt.id||"",this.inverted=(0,xt.getInteger)({data:Dt.inverted,defaultValue:0,validate:mn=>mn===1}),this.join=(0,xt.getStringOption)(Dt.join,["square","round"]),this.presence=(0,xt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,xt.getMeasurement)(Dt.radius),this.stroke=(0,xt.getStringOption)(Dt.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,xt.getMeasurement)(Dt.thickness,"0.5pt"),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[vt.$toStyle](){const Dt=(0,Pt.toStyle)(this,"visibility");return Dt.radius=(0,Pt.measureToString)(this.join==="square"?0:this.radius),Dt}}class On extends vt.ContentObject{constructor(Dt){super(Nt,"date"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[vt.$finalize](){const Dt=this[vt.$content].trim();this[vt.$content]=Dt?new Date(Dt):null}[vt.$toHTML](Dt){return Ut(this[vt.$content]?this[vt.$content].toString():"")}}class jn extends vt.ContentObject{constructor(Dt){super(Nt,"dateTime"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[vt.$finalize](){const Dt=this[vt.$content].trim();this[vt.$content]=Dt?new Date(Dt):null}[vt.$toHTML](Dt){return Ut(this[vt.$content]?this[vt.$content].toString():"")}}class qn extends vt.XFAObject{constructor(Dt){super(Nt,"dateTimeEdit",!0),this.hScrollPolicy=(0,xt.getStringOption)(Dt.hScrollPolicy,["auto","off","on"]),this.id=Dt.id||"",this.picker=(0,xt.getStringOption)(Dt.picker,["host","none"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[vt.$toHTML](Dt){const mn=(0,Pt.toStyle)(this,"border","font","margin"),Nn=this[vt.$getParent]()[vt.$getParent](),Hn={name:"input",attributes:{type:"text",fieldId:Nn[vt.$uid],dataId:Nn[vt.$data]&&Nn[vt.$data][vt.$uid]||Nn[vt.$uid],class:["xfaTextfield"],style:mn,"aria-label":nn(Nn),"aria-required":!1}};return hn(Nn)&&(Hn.attributes["aria-required"]=!0,Hn.attributes.required=!0),xt.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Hn]})}}class Gn extends vt.ContentObject{constructor(Dt){super(Nt,"decimal"),this.fracDigits=(0,xt.getInteger)({data:Dt.fracDigits,defaultValue:2,validate:mn=>!0}),this.id=Dt.id||"",this.leadDigits=(0,xt.getInteger)({data:Dt.leadDigits,defaultValue:-1,validate:mn=>!0}),this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[vt.$finalize](){const Dt=parseFloat(this[vt.$content].trim());this[vt.$content]=isNaN(Dt)?null:Dt}[vt.$toHTML](Dt){return Ut(this[vt.$content]!==null?this[vt.$content].toString():"")}}class Yn extends vt.XFAObject{constructor(Dt){super(Nt,"defaultUi",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}}class er extends vt.XFAObject{constructor(Dt){super(Nt,"desc",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}}class cr extends vt.OptionObject{constructor(Dt){super(Nt,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class rr extends vt.XFAObject{constructor(Dt){super(Nt,"digestMethods",!0),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.digestMethod=new vt.XFAObjectArray}}class tr extends vt.XFAObject{constructor(Dt){super(Nt,"draw",!0),this.anchorType=(0,xt.getStringOption)(Dt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,xt.getInteger)({data:Dt.colSpan,defaultValue:1,validate:mn=>mn>=1||mn===-1}),this.h=Dt.h?(0,xt.getMeasurement)(Dt.h):"",this.hAlign=(0,xt.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.locale=Dt.locale||"",this.maxH=(0,xt.getMeasurement)(Dt.maxH,"0pt"),this.maxW=(0,xt.getMeasurement)(Dt.maxW,"0pt"),this.minH=(0,xt.getMeasurement)(Dt.minH,"0pt"),this.minW=(0,xt.getMeasurement)(Dt.minW,"0pt"),this.name=Dt.name||"",this.presence=(0,xt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,xt.getRelevant)(Dt.relevant),this.rotate=(0,xt.getInteger)({data:Dt.rotate,defaultValue:0,validate:mn=>mn%90===0}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=Dt.w?(0,xt.getMeasurement)(Dt.w):"",this.x=(0,xt.getMeasurement)(Dt.x,"0pt"),this.y=(0,xt.getMeasurement)(Dt.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new vt.XFAObjectArray}[vt.$setValue](Dt){Sn(this,Dt)}[vt.$toHTML](Dt){if(Qt(this),this.presence==="hidden"||this.presence==="inactive")return xt.HTMLResult.EMPTY;(0,Pt.fixDimensions)(this),this[vt.$pushPara]();const mn=this.w,Nn=this.h,{w:Hn,h:Xn,isBroken:Wn}=(0,Pt.layoutNode)(this,Dt);if(Hn&&this.w===""){if(Wn&&this[vt.$getSubformParent]()[vt.$isThereMoreWidth]())return this[vt.$popPara](),xt.HTMLResult.FAILURE;this.w=Hn}if(Xn&&this.h===""&&(this.h=Xn),zt(this),!(0,Mt.checkDimensions)(this,Dt))return this.w=mn,this.h=Nn,this[vt.$popPara](),xt.HTMLResult.FAILURE;cn(this);const Jn=(0,Pt.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,Pt.setMinMaxDimensions)(this,Jn),Jn.margin&&(Jn.padding=Jn.margin,delete Jn.margin);const Zn=["xfaDraw"];this.font&&Zn.push("xfaFont"),(0,Pt.isPrintOnly)(this)&&Zn.push("xfaPrintOnly");const ar={style:Jn,id:this[vt.$uid],class:Zn};this.name&&(ar.xfaName=this.name);const hr={name:"div",attributes:ar,children:[]};qt(this,ar);const dr=(0,Pt.computeBbox)(this,hr,Dt),Er=this.value?this.value[vt.$toHTML](Dt).html:null;return Er===null?(this.w=mn,this.h=Nn,this[vt.$popPara](),xt.HTMLResult.success((0,Pt.createWrapper)(this,hr),dr)):(hr.children.push(Er),(0,Pt.setPara)(this,Jn,Er),this.w=mn,this.h=Nn,this[vt.$popPara](),xt.HTMLResult.success((0,Pt.createWrapper)(this,hr),dr))}}class ir extends vt.XFAObject{constructor(Dt){super(Nt,"edge",!0),this.cap=(0,xt.getStringOption)(Dt.cap,["square","butt","round"]),this.id=Dt.id||"",this.presence=(0,xt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,xt.getStringOption)(Dt.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,xt.getMeasurement)(Dt.thickness,"0.5pt"),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[vt.$toStyle](){const Dt=(0,Pt.toStyle)(this,"visibility");if(Object.assign(Dt,{linecap:this.cap,width:(0,Pt.measureToString)(this.thickness),color:this.color?this.color[vt.$toStyle]():"#000000",style:""}),this.presence!=="visible")Dt.style="none";else switch(this.stroke){case"solid":Dt.style="solid";break;case"dashDot":Dt.style="dashed";break;case"dashDotDot":Dt.style="dashed";break;case"dashed":Dt.style="dashed";break;case"dotted":Dt.style="dotted";break;case"embossed":Dt.style="ridge";break;case"etched":Dt.style="groove";break;case"lowered":Dt.style="inset";break;case"raised":Dt.style="outset";break}return Dt}}class Kn extends vt.OptionObject{constructor(Dt){super(Nt,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Vn extends vt.XFAObject{constructor(Dt){super(Nt,"encodings",!0),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.encoding=new vt.XFAObjectArray}}class Bn extends vt.XFAObject{constructor(Dt){super(Nt,"encrypt",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.certificate=null}}class lr extends vt.XFAObject{constructor(Dt){super(Nt,"encryptData",!0),this.id=Dt.id||"",this.operation=(0,xt.getStringOption)(Dt.operation,["encrypt","decrypt"]),this.target=Dt.target||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.filter=null,this.manifest=null}}class br extends vt.XFAObject{constructor(Dt){super(Nt,"encryption",!0),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.certificate=new vt.XFAObjectArray}}class Pr extends vt.OptionObject{constructor(Dt){super(Nt,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class nr extends vt.XFAObject{constructor(Dt){super(Nt,"encryptionMethods",!0),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.encryptionMethod=new vt.XFAObjectArray}}class _i extends vt.XFAObject{constructor(Dt){super(Nt,"event",!0),this.activity=(0,xt.getStringOption)(Dt.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=Dt.id||"",this.listen=(0,xt.getStringOption)(Dt.listen,["refOnly","refAndDescendents"]),this.name=Dt.name||"",this.ref=Dt.ref||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class zn extends vt.ContentObject{constructor(Dt){super(Nt,"exData"),this.contentType=Dt.contentType||"",this.href=Dt.href||"",this.id=Dt.id||"",this.maxLength=(0,xt.getInteger)({data:Dt.maxLength,defaultValue:-1,validate:mn=>mn>=-1}),this.name=Dt.name||"",this.rid=Dt.rid||"",this.transferEncoding=(0,xt.getStringOption)(Dt.transferEncoding,["none","base64","package"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}[vt.$isCDATAXml](){return this.contentType==="text/html"}[vt.$onChild](Dt){return this.contentType==="text/html"&&Dt[vt.$namespaceId]===Et.NamespaceIds.xhtml.id?(this[vt.$content]=Dt,!0):this.contentType==="text/xml"?(this[vt.$content]=Dt,!0):!1}[vt.$toHTML](Dt){return this.contentType!=="text/html"||!this[vt.$content]?xt.HTMLResult.EMPTY:this[vt.$content][vt.$toHTML](Dt)}}class wr extends vt.XFAObject{constructor(Dt){super(Nt,"exObject",!0),this.archive=Dt.archive||"",this.classId=Dt.classId||"",this.codeBase=Dt.codeBase||"",this.codeType=Dt.codeType||"",this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.exObject=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}}class Cr extends vt.XFAObject{constructor(Dt){super(Nt,"exclGroup",!0),this.access=(0,xt.getStringOption)(Dt.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=Dt.accessKey||"",this.anchorType=(0,xt.getStringOption)(Dt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,xt.getInteger)({data:Dt.colSpan,defaultValue:1,validate:mn=>mn>=1||mn===-1}),this.h=Dt.h?(0,xt.getMeasurement)(Dt.h):"",this.hAlign=(0,xt.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.layout=(0,xt.getStringOption)(Dt.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,xt.getMeasurement)(Dt.maxH,"0pt"),this.maxW=(0,xt.getMeasurement)(Dt.maxW,"0pt"),this.minH=(0,xt.getMeasurement)(Dt.minH,"0pt"),this.minW=(0,xt.getMeasurement)(Dt.minW,"0pt"),this.name=Dt.name||"",this.presence=(0,xt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,xt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=Dt.w?(0,xt.getMeasurement)(Dt.w):"",this.x=(0,xt.getMeasurement)(Dt.x,"0pt"),this.y=(0,xt.getMeasurement)(Dt.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new vt.XFAObjectArray,this.event=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.setProperty=new vt.XFAObjectArray}[vt.$isBindable](){return!0}[vt.$hasSettableValue](){return!0}[vt.$setValue](Dt){for(const mn of this.field.children){if(!mn.value){const Nn=new $u({});mn[vt.$appendChild](Nn),mn.value=Nn}mn.value[vt.$setValue](Dt)}}[vt.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[vt.$extra].attempt===0&&this[vt.$extra].numberInLine>0||this[vt.$getParent]()[vt.$isThereMoreWidth]()}[vt.$isSplittable](){const Dt=this[vt.$getSubformParent]();return Dt[vt.$isSplittable]()?this[vt.$extra]._isSplittable!==void 0?this[vt.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[vt.$extra]._isSplittable=!1,!1):Dt.layout&&Dt.layout.endsWith("-tb")&&Dt[vt.$extra].numberInLine!==0?!1:(this[vt.$extra]._isSplittable=!0,!0):!1}[vt.$flushHTML](){return(0,Mt.flushHTML)(this)}[vt.$addHTML](Dt,mn){(0,Mt.addHTML)(this,Dt,mn)}[vt.$getAvailableSpace](){return(0,Mt.getAvailableSpace)(this)}[vt.$toHTML](Dt){if(Qt(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return xt.HTMLResult.EMPTY;(0,Pt.fixDimensions)(this);const mn=[],Nn={id:this[vt.$uid],class:[]};(0,Pt.setAccess)(this,Nn.class),this[vt.$extra]||(this[vt.$extra]=Object.create(null)),Object.assign(this[vt.$extra],{children:mn,attributes:Nn,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,Dt.width),height:Math.min(this.h||1/0,Dt.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Hn=this[vt.$isSplittable]();if(Hn||zt(this),!(0,Mt.checkDimensions)(this,Dt))return xt.HTMLResult.FAILURE;const Xn=new Set(["field"]);if(this.layout.includes("row")){const Fr=this[vt.$getSubformParent]().columnWidths;Array.isArray(Fr)&&Fr.length>0&&(this[vt.$extra].columnWidths=Fr,this[vt.$extra].currentColumn=0)}const Wn=(0,Pt.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Jn=["xfaExclgroup"],Zn=(0,Pt.layoutClass)(this);Zn&&Jn.push(Zn),(0,Pt.isPrintOnly)(this)&&Jn.push("xfaPrintOnly"),Nn.style=Wn,Nn.class=Jn,this.name&&(Nn.xfaName=this.name),this[vt.$pushPara]();const ar=this.layout==="lr-tb"||this.layout==="rl-tb",hr=ar?kt:1;for(;this[vt.$extra].attempt<hr;this[vt.$extra].attempt++){ar&&this[vt.$extra].attempt===kt-1&&(this[vt.$extra].numberInLine=0);const Fr=this[vt.$childrenToHTML]({filter:Xn,include:!0});if(Fr.success)break;if(Fr.isBreak())return this[vt.$popPara](),Fr;if(ar&&this[vt.$extra].attempt===0&&this[vt.$extra].numberInLine===0&&!this[vt.$getTemplateRoot]()[vt.$extra].noLayoutFailure){this[vt.$extra].attempt=hr;break}}if(this[vt.$popPara](),Hn||cn(this),this[vt.$extra].attempt===hr)return Hn||delete this[vt.$extra],xt.HTMLResult.FAILURE;let dr=0,Er=0;this.margin&&(dr=this.margin.leftInset+this.margin.rightInset,Er=this.margin.topInset+this.margin.bottomInset);const Sr=Math.max(this[vt.$extra].width+dr,this.w||0),Ar=Math.max(this[vt.$extra].height+Er,this.h||0),Lr=[this.x,this.y,Sr,Ar];this.w===""&&(Wn.width=(0,Pt.measureToString)(Sr)),this.h===""&&(Wn.height=(0,Pt.measureToString)(Ar));const Vr={name:"div",attributes:Nn,children:mn};return qt(this,Nn),delete this[vt.$extra],xt.HTMLResult.success((0,Pt.createWrapper)(this,Vr),Lr)}}class yr extends vt.XFAObject{constructor(Dt){super(Nt,"execute"),this.connection=Dt.connection||"",this.executeType=(0,xt.getStringOption)(Dt.executeType,["import","remerge"]),this.id=Dt.id||"",this.runAt=(0,xt.getStringOption)(Dt.runAt,["client","both","server"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Br extends vt.XFAObject{constructor(Dt){super(Nt,"extras",!0),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.extras=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}}class gr extends vt.XFAObject{constructor(Dt){super(Nt,"field",!0),this.access=(0,xt.getStringOption)(Dt.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=Dt.accessKey||"",this.anchorType=(0,xt.getStringOption)(Dt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,xt.getInteger)({data:Dt.colSpan,defaultValue:1,validate:mn=>mn>=1||mn===-1}),this.h=Dt.h?(0,xt.getMeasurement)(Dt.h):"",this.hAlign=(0,xt.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.locale=Dt.locale||"",this.maxH=(0,xt.getMeasurement)(Dt.maxH,"0pt"),this.maxW=(0,xt.getMeasurement)(Dt.maxW,"0pt"),this.minH=(0,xt.getMeasurement)(Dt.minH,"0pt"),this.minW=(0,xt.getMeasurement)(Dt.minW,"0pt"),this.name=Dt.name||"",this.presence=(0,xt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,xt.getRelevant)(Dt.relevant),this.rotate=(0,xt.getInteger)({data:Dt.rotate,defaultValue:0,validate:mn=>mn%90===0}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=Dt.w?(0,xt.getMeasurement)(Dt.w):"",this.x=(0,xt.getMeasurement)(Dt.x,"0pt"),this.y=(0,xt.getMeasurement)(Dt.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new vt.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new vt.XFAObjectArray,this.connect=new vt.XFAObjectArray,this.event=new vt.XFAObjectArray,this.setProperty=new vt.XFAObjectArray}[vt.$isBindable](){return!0}[vt.$setValue](Dt){Sn(this,Dt)}[vt.$toHTML](Dt){if(Qt(this),!this.ui){this.ui=new y0({}),this.ui[vt.$globalData]=this[vt.$globalData],this[vt.$appendChild](this.ui);let Fr;switch(this.items.children.length){case 0:Fr=new iu({}),this.ui.textEdit=Fr;break;case 1:Fr=new Tn({}),this.ui.checkButton=Fr;break;case 2:Fr=new Fn({}),this.ui.choiceList=Fr;break}this.ui[vt.$appendChild](Fr)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return xt.HTMLResult.EMPTY;this.caption&&delete this.caption[vt.$extra],this[vt.$pushPara]();const mn=this.caption?this.caption[vt.$toHTML](Dt).html:null,Nn=this.w,Hn=this.h;let Xn=0,Wn=0;this.margin&&(Xn=this.margin.leftInset+this.margin.rightInset,Wn=this.margin.topInset+this.margin.bottomInset);let Jn=null;if(this.w===""||this.h===""){let Fr=null,Nr=null,jr=0,Dr=0;if(this.ui.checkButton)jr=Dr=this.ui.checkButton.size;else{const{w:is,h:ws}=(0,Pt.layoutNode)(this,Dt);is!==null?(jr=is,Dr=ws):Dr=(0,_t.getMetrics)(this.font,!0).lineNoGap}if(Jn=Wt(this.ui[vt.$getExtra]()),jr+=Jn.w,Dr+=Jn.h,this.caption){const{w:is,h:ws,isBroken:ps}=this.caption[vt.$getExtra](Dt);if(ps&&this[vt.$getSubformParent]()[vt.$isThereMoreWidth]())return this[vt.$popPara](),xt.HTMLResult.FAILURE;switch(Fr=is,Nr=ws,this.caption.placement){case"left":case"right":case"inline":Fr+=jr;break;case"top":case"bottom":Nr+=Dr;break}}else Fr=jr,Nr=Dr;Fr&&this.w===""&&(Fr+=Xn,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Fr?Fr:this.minW)),Nr&&this.h===""&&(Nr+=Wn,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<Nr?Nr:this.minH))}if(this[vt.$popPara](),(0,Pt.fixDimensions)(this),zt(this),!(0,Mt.checkDimensions)(this,Dt))return this.w=Nn,this.h=Hn,this[vt.$popPara](),xt.HTMLResult.FAILURE;cn(this);const Zn=(0,Pt.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,Pt.setMinMaxDimensions)(this,Zn);const ar=["xfaField"];this.font&&ar.push("xfaFont"),(0,Pt.isPrintOnly)(this)&&ar.push("xfaPrintOnly");const hr={style:Zn,id:this[vt.$uid],class:ar};Zn.margin&&(Zn.padding=Zn.margin,delete Zn.margin),(0,Pt.setAccess)(this,ar),this.name&&(hr.xfaName=this.name);const dr=[],Er={name:"div",attributes:hr,children:dr};qt(this,hr);const Sr=this.border?this.border[vt.$toStyle]():null,Ar=(0,Pt.computeBbox)(this,Er,Dt),Lr=this.ui[vt.$toHTML]().html;if(!Lr)return Object.assign(Zn,Sr),xt.HTMLResult.success((0,Pt.createWrapper)(this,Er),Ar);this[vt.$tabIndex]&&(Lr.children&&Lr.children[0]?Lr.children[0].attributes.tabindex=this[vt.$tabIndex]:Lr.attributes.tabindex=this[vt.$tabIndex]),Lr.attributes.style||(Lr.attributes.style=Object.create(null));let Vr=null;if(this.ui.button?(Lr.children.length===1&&([Vr]=Lr.children.splice(0,1)),Object.assign(Lr.attributes.style,Sr)):Object.assign(Zn,Sr),dr.push(Lr),this.value){if(this.ui.imageEdit)Lr.children.push(this.value[vt.$toHTML]().html);else if(!this.ui.button){let Fr="";if(this.value.exData)Fr=this.value.exData[vt.$text]();else if(this.value.text)Fr=this.value.text[vt.$getExtra]();else{const Nr=this.value[vt.$toHTML]().html;Nr!==null&&(Fr=Nr.children[0].value)}this.ui.textEdit&&this.value.text&&this.value.text.maxChars&&(Lr.children[0].attributes.maxLength=this.value.text.maxChars),Fr&&(this.ui.numericEdit&&(Fr=parseFloat(Fr),Fr=isNaN(Fr)?"":Fr.toString()),Lr.children[0].name==="textarea"?Lr.children[0].attributes.textContent=Fr:Lr.children[0].attributes.value=Fr)}}if(!this.ui.imageEdit&&Lr.children&&Lr.children[0]&&this.h){Jn=Jn||Wt(this.ui[vt.$getExtra]());let Fr=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Fr=this.caption.reserve,Fr<=0&&(Fr=this.caption[vt.$getExtra](Dt).h);const Nr=this.h-Fr-Wn-Jn.h;Lr.children[0].attributes.style.height=(0,Pt.measureToString)(Nr)}else Lr.children[0].attributes.style.height="100%"}if(Vr&&Lr.children.push(Vr),!mn)return Lr.attributes.class&&Lr.attributes.class.push("xfaLeft"),this.w=Nn,this.h=Hn,xt.HTMLResult.success((0,Pt.createWrapper)(this,Er),Ar);if(this.ui.button)return Zn.padding&&delete Zn.padding,mn.name==="div"&&(mn.name="span"),Lr.children.push(mn),xt.HTMLResult.success(Er,Ar);switch(this.ui.checkButton&&(mn.attributes.class[0]="xfaCaptionForCheckButton"),Lr.attributes.class||(Lr.attributes.class=[]),Lr.children.splice(0,0,mn),this.caption.placement){case"left":Lr.attributes.class.push("xfaLeft");break;case"right":Lr.attributes.class.push("xfaRight");break;case"top":Lr.attributes.class.push("xfaTop");break;case"bottom":Lr.attributes.class.push("xfaBottom");break;case"inline":Lr.attributes.class.push("xfaLeft");break}return this.w=Nn,this.h=Hn,xt.HTMLResult.success((0,Pt.createWrapper)(this,Er),Ar)}}St.Field=gr;class Mr extends vt.XFAObject{constructor(Dt){super(Nt,"fill",!0),this.id=Dt.id||"",this.presence=(0,xt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[vt.$toStyle](){const Dt=this[vt.$getParent](),Nn=Dt[vt.$getParent]()[vt.$getParent](),Hn=Object.create(null);let Xn="color",Wn=Xn;Dt instanceof an&&(Xn="background-color",Wn="background",Nn instanceof y0&&(Hn.backgroundColor="white")),(Dt instanceof w1||Dt instanceof Yt)&&(Xn=Wn="fill",Hn.fill="white");for(const Jn of Object.getOwnPropertyNames(this)){if(Jn==="extras"||Jn==="color")continue;const Zn=this[Jn];if(!(Zn instanceof vt.XFAObject))continue;const ar=Zn[vt.$toStyle](this.color);return ar&&(Hn[ar.startsWith("#")?Xn:Wn]=ar),Hn}if(this.color&&this.color.value){const Jn=this.color[vt.$toStyle]();Hn[Jn.startsWith("#")?Xn:Wn]=Jn}return Hn}}class qr extends vt.XFAObject{constructor(Dt){super(Nt,"filter",!0),this.addRevocationInfo=(0,xt.getStringOption)(Dt.addRevocationInfo,["","required","optional","none"]),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.version=(0,xt.getInteger)({data:this.version,defaultValue:5,validate:mn=>mn>=1&&mn<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class pr extends vt.ContentObject{constructor(Dt){super(Nt,"float"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[vt.$finalize](){const Dt=parseFloat(this[vt.$content].trim());this[vt.$content]=isNaN(Dt)?null:Dt}[vt.$toHTML](Dt){return Ut(this[vt.$content]!==null?this[vt.$content].toString():"")}}class zr extends vt.XFAObject{constructor(Dt){super(Nt,"font",!0),this.baselineShift=(0,xt.getMeasurement)(Dt.baselineShift),this.fontHorizontalScale=(0,xt.getFloat)({data:Dt.fontHorizontalScale,defaultValue:100,validate:mn=>mn>=0}),this.fontVerticalScale=(0,xt.getFloat)({data:Dt.fontVerticalScale,defaultValue:100,validate:mn=>mn>=0}),this.id=Dt.id||"",this.kerningMode=(0,xt.getStringOption)(Dt.kerningMode,["none","pair"]),this.letterSpacing=(0,xt.getMeasurement)(Dt.letterSpacing,"0"),this.lineThrough=(0,xt.getInteger)({data:Dt.lineThrough,defaultValue:0,validate:mn=>mn===1||mn===2}),this.lineThroughPeriod=(0,xt.getStringOption)(Dt.lineThroughPeriod,["all","word"]),this.overline=(0,xt.getInteger)({data:Dt.overline,defaultValue:0,validate:mn=>mn===1||mn===2}),this.overlinePeriod=(0,xt.getStringOption)(Dt.overlinePeriod,["all","word"]),this.posture=(0,xt.getStringOption)(Dt.posture,["normal","italic"]),this.size=(0,xt.getMeasurement)(Dt.size,"10pt"),this.typeface=Dt.typeface||"Courier",this.underline=(0,xt.getInteger)({data:Dt.underline,defaultValue:0,validate:mn=>mn===1||mn===2}),this.underlinePeriod=(0,xt.getStringOption)(Dt.underlinePeriod,["all","word"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.weight=(0,xt.getStringOption)(Dt.weight,["normal","bold"]),this.extras=null,this.fill=null}[vt.$clean](Dt){super[vt.$clean](Dt),this[vt.$globalData].usedTypefaces.add(this.typeface)}[vt.$toStyle](){const Dt=(0,Pt.toStyle)(this,"fill"),mn=Dt.color;return mn&&(mn==="#000000"?delete Dt.color:mn.startsWith("#")||(Dt.background=mn,Dt.backgroundClip="text",Dt.color="transparent")),this.baselineShift&&(Dt.verticalAlign=(0,Pt.measureToString)(this.baselineShift)),Dt.fontKerning=this.kerningMode==="none"?"none":"normal",Dt.letterSpacing=(0,Pt.measureToString)(this.letterSpacing),this.lineThrough!==0&&(Dt.textDecoration="line-through",this.lineThrough===2&&(Dt.textDecorationStyle="double")),this.overline!==0&&(Dt.textDecoration="overline",this.overline===2&&(Dt.textDecorationStyle="double")),Dt.fontStyle=this.posture,Dt.fontSize=(0,Pt.measureToString)(.99*this.size),(0,Pt.setFontFamily)(this,this,this[vt.$globalData].fontFinder,Dt),this.underline!==0&&(Dt.textDecoration="underline",this.underline===2&&(Dt.textDecorationStyle="double")),Dt.fontWeight=this.weight,Dt}}class Rr extends vt.XFAObject{constructor(Dt){super(Nt,"format",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.picture=null}}class fs extends vt.StringObject{constructor(Dt){super(Nt,"handler"),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Yr extends vt.XFAObject{constructor(Dt){super(Nt,"hyphenation"),this.excludeAllCaps=(0,xt.getInteger)({data:Dt.excludeAllCaps,defaultValue:0,validate:mn=>mn===1}),this.excludeInitialCap=(0,xt.getInteger)({data:Dt.excludeInitialCap,defaultValue:0,validate:mn=>mn===1}),this.hyphenate=(0,xt.getInteger)({data:Dt.hyphenate,defaultValue:0,validate:mn=>mn===1}),this.id=Dt.id||"",this.pushCharacterCount=(0,xt.getInteger)({data:Dt.pushCharacterCount,defaultValue:3,validate:mn=>mn>=0}),this.remainCharacterCount=(0,xt.getInteger)({data:Dt.remainCharacterCount,defaultValue:3,validate:mn=>mn>=0}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.wordCharacterCount=(0,xt.getInteger)({data:Dt.wordCharacterCount,defaultValue:7,validate:mn=>mn>=0})}}class Jr extends vt.StringObject{constructor(Dt){super(Nt,"image"),this.aspect=(0,xt.getStringOption)(Dt.aspect,["fit","actual","height","none","width"]),this.contentType=Dt.contentType||"",this.href=Dt.href||"",this.id=Dt.id||"",this.name=Dt.name||"",this.transferEncoding=(0,xt.getStringOption)(Dt.transferEncoding,["base64","none","package"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}[vt.$toHTML](){if(this.contentType&&!Vt.has(this.contentType.toLowerCase()))return xt.HTMLResult.EMPTY;let Dt=this[vt.$globalData].images&&this[vt.$globalData].images.get(this.href);if(!Dt&&(this.href||!this[vt.$content])||(!Dt&&this.transferEncoding==="base64"&&(Dt=(0,$t.stringToBytes)(atob(this[vt.$content]))),!Dt))return xt.HTMLResult.EMPTY;if(!this.contentType){for(const[Xn,Wn]of Gt)if(Dt.length>Xn.length&&Xn.every((Jn,Zn)=>Jn===Dt[Zn])){this.contentType=Wn;break}if(!this.contentType)return xt.HTMLResult.EMPTY}const mn=new Blob([Dt],{type:this.contentType});let Nn;switch(this.aspect){case"fit":case"actual":break;case"height":Nn={height:"100%",objectFit:"fill"};break;case"none":Nn={width:"100%",height:"100%",objectFit:"fill"};break;case"width":Nn={width:"100%",objectFit:"fill"};break}const Hn=this[vt.$getParent]();return xt.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:Nn,src:URL.createObjectURL(mn),alt:Hn?nn(Hn[vt.$getParent]()):null}})}}class Ur extends vt.XFAObject{constructor(Dt){super(Nt,"imageEdit",!0),this.data=(0,xt.getStringOption)(Dt.data,["link","embed"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.margin=null}[vt.$toHTML](Dt){return this.data==="embed"?xt.HTMLResult.success({name:"div",children:[],attributes:{}}):xt.HTMLResult.EMPTY}}class Is extends vt.ContentObject{constructor(Dt){super(Nt,"integer"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[vt.$finalize](){const Dt=parseInt(this[vt.$content].trim(),10);this[vt.$content]=isNaN(Dt)?null:Dt}[vt.$toHTML](Dt){return Ut(this[vt.$content]!==null?this[vt.$content].toString():"")}}class _s extends vt.XFAObject{constructor(Dt){super(Nt,"issuers",!0),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.certificate=new vt.XFAObjectArray}}class mr extends vt.XFAObject{constructor(Dt){super(Nt,"items",!0),this.id=Dt.id||"",this.name=Dt.name||"",this.presence=(0,xt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.ref=Dt.ref||"",this.save=(0,xt.getInteger)({data:Dt.save,defaultValue:0,validate:mn=>mn===1}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}[vt.$toHTML](){const Dt=[];for(const mn of this[vt.$getChildren]())Dt.push(mn[vt.$text]());return xt.HTMLResult.success(Dt)}}St.Items=mr;class or extends vt.XFAObject{constructor(Dt){super(Nt,"keep",!0),this.id=Dt.id||"";const mn=["none","contentArea","pageArea"];this.intact=(0,xt.getStringOption)(Dt.intact,mn),this.next=(0,xt.getStringOption)(Dt.next,mn),this.previous=(0,xt.getStringOption)(Dt.previous,mn),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}}class xr extends vt.XFAObject{constructor(Dt){super(Nt,"keyUsage");const mn=["","yes","no"];this.crlSign=(0,xt.getStringOption)(Dt.crlSign,mn),this.dataEncipherment=(0,xt.getStringOption)(Dt.dataEncipherment,mn),this.decipherOnly=(0,xt.getStringOption)(Dt.decipherOnly,mn),this.digitalSignature=(0,xt.getStringOption)(Dt.digitalSignature,mn),this.encipherOnly=(0,xt.getStringOption)(Dt.encipherOnly,mn),this.id=Dt.id||"",this.keyAgreement=(0,xt.getStringOption)(Dt.keyAgreement,mn),this.keyCertSign=(0,xt.getStringOption)(Dt.keyCertSign,mn),this.keyEncipherment=(0,xt.getStringOption)(Dt.keyEncipherment,mn),this.nonRepudiation=(0,xt.getStringOption)(Dt.nonRepudiation,mn),this.type=(0,xt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class vr extends vt.XFAObject{constructor(Dt){super(Nt,"line",!0),this.hand=(0,xt.getStringOption)(Dt.hand,["even","left","right"]),this.id=Dt.id||"",this.slope=(0,xt.getStringOption)(Dt.slope,["\\","/"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.edge=null}[vt.$toHTML](){const Dt=this[vt.$getParent]()[vt.$getParent](),mn=this.edge||new ir({}),Nn=mn[vt.$toStyle](),Hn=Object.create(null),Xn=mn.presence==="visible"?mn.thickness:0;Hn.strokeWidth=(0,Pt.measureToString)(Xn),Hn.stroke=Nn.color;let Wn,Jn,Zn,ar,hr="100%",dr="100%";Dt.w<=Xn?([Wn,Jn,Zn,ar]=["50%",0,"50%","100%"],hr=Hn.strokeWidth):Dt.h<=Xn?([Wn,Jn,Zn,ar]=[0,"50%","100%","50%"],dr=Hn.strokeWidth):this.slope==="\\"?[Wn,Jn,Zn,ar]=[0,0,"100%","100%"]:[Wn,Jn,Zn,ar]=[0,"100%","100%",0];const Sr={name:"svg",children:[{name:"line",attributes:{xmlns:Lt,x1:Wn,y1:Jn,x2:Zn,y2:ar,style:Hn}}],attributes:{xmlns:Lt,width:hr,height:dr,style:{overflow:"visible"}}};return en(Dt)?xt.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Sr]}):(Sr.attributes.style.position="absolute",xt.HTMLResult.success(Sr))}}class Or extends vt.XFAObject{constructor(Dt){super(Nt,"linear",!0),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["toRight","toBottom","toLeft","toTop"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[vt.$toStyle](Dt){Dt=Dt?Dt[vt.$toStyle]():"#FFFFFF";const mn=this.type.replace(/([RBLT])/," $1").toLowerCase(),Nn=this.color?this.color[vt.$toStyle]():"#000000";return`linear-gradient(${mn}, ${Dt}, ${Nn})`}}class Gr extends vt.ContentObject{constructor(Dt){super(Nt,"lockDocument"),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}[vt.$finalize](){this[vt.$content]=(0,xt.getStringOption)(this[vt.$content],["auto","0","1"])}}class Ir extends vt.XFAObject{constructor(Dt){super(Nt,"manifest",!0),this.action=(0,xt.getStringOption)(Dt.action,["include","all","exclude"]),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.ref=new vt.XFAObjectArray}}class kr extends vt.XFAObject{constructor(Dt){super(Nt,"margin",!0),this.bottomInset=(0,xt.getMeasurement)(Dt.bottomInset,"0"),this.id=Dt.id||"",this.leftInset=(0,xt.getMeasurement)(Dt.leftInset,"0"),this.rightInset=(0,xt.getMeasurement)(Dt.rightInset,"0"),this.topInset=(0,xt.getMeasurement)(Dt.topInset,"0"),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}[vt.$toStyle](){return{margin:(0,Pt.measureToString)(this.topInset)+" "+(0,Pt.measureToString)(this.rightInset)+" "+(0,Pt.measureToString)(this.bottomInset)+" "+(0,Pt.measureToString)(this.leftInset)}}}class $r extends vt.XFAObject{constructor(Dt){super(Nt,"mdp"),this.id=Dt.id||"",this.permissions=(0,xt.getInteger)({data:Dt.permissions,defaultValue:2,validate:mn=>mn===1||mn===3}),this.signatureType=(0,xt.getStringOption)(Dt.signatureType,["filler","author"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Hr extends vt.XFAObject{constructor(Dt){super(Nt,"medium"),this.id=Dt.id||"",this.imagingBBox=(0,xt.getBBox)(Dt.imagingBBox),this.long=(0,xt.getMeasurement)(Dt.long),this.orientation=(0,xt.getStringOption)(Dt.orientation,["portrait","landscape"]),this.short=(0,xt.getMeasurement)(Dt.short),this.stock=Dt.stock||"",this.trayIn=(0,xt.getStringOption)(Dt.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,xt.getStringOption)(Dt.trayOut,["auto","delegate"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class us extends vt.XFAObject{constructor(Dt){super(Nt,"message",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.text=new vt.XFAObjectArray}}class rs extends vt.XFAObject{constructor(Dt){super(Nt,"numericEdit",!0),this.hScrollPolicy=(0,xt.getStringOption)(Dt.hScrollPolicy,["auto","off","on"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[vt.$toHTML](Dt){const mn=(0,Pt.toStyle)(this,"border","font","margin"),Nn=this[vt.$getParent]()[vt.$getParent](),Hn={name:"input",attributes:{type:"text",fieldId:Nn[vt.$uid],dataId:Nn[vt.$data]&&Nn[vt.$data][vt.$uid]||Nn[vt.$uid],class:["xfaTextfield"],style:mn,"aria-label":nn(Nn),"aria-required":!1}};return hn(Nn)&&(Hn.attributes["aria-required"]=!0,Hn.attributes.required=!0),xt.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Hn]})}}class Xr extends vt.XFAObject{constructor(Dt){super(Nt,"occur",!0),this.id=Dt.id||"",this.initial=Dt.initial!==""?(0,xt.getInteger)({data:Dt.initial,defaultValue:"",validate:mn=>!0}):"",this.max=Dt.max!==""?(0,xt.getInteger)({data:Dt.max,defaultValue:1,validate:mn=>!0}):"",this.min=Dt.min!==""?(0,xt.getInteger)({data:Dt.min,defaultValue:1,validate:mn=>!0}):"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}[vt.$clean](){const Dt=this[vt.$getParent](),mn=this.min;this.min===""&&(this.min=Dt instanceof ur||Dt instanceof _r?0:1),this.max===""&&(mn===""?this.max=Dt instanceof ur||Dt instanceof _r?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=Dt instanceof Nu?1:this.min)}}class Qn extends vt.StringObject{constructor(Dt){super(Nt,"oid"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class sr extends vt.XFAObject{constructor(Dt){super(Nt,"oids",!0),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.oid=new vt.XFAObjectArray}}class fr extends vt.XFAObject{constructor(Dt){super(Nt,"overflow"),this.id=Dt.id||"",this.leader=Dt.leader||"",this.target=Dt.target||"",this.trailer=Dt.trailer||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[vt.$getExtra](){if(!this[vt.$extra]){const Dt=this[vt.$getParent](),mn=this[vt.$getTemplateRoot](),Nn=mn[vt.$searchNode](this.target,Dt),Hn=mn[vt.$searchNode](this.leader,Dt),Xn=mn[vt.$searchNode](this.trailer,Dt);this[vt.$extra]={target:Nn&&Nn[0]||null,leader:Hn&&Hn[0]||null,trailer:Xn&&Xn[0]||null,addLeader:!1,addTrailer:!1}}return this[vt.$extra]}}class ur extends vt.XFAObject{constructor(Dt){super(Nt,"pageArea",!0),this.blankOrNotBlank=(0,xt.getStringOption)(Dt.blankOrNotBlank,["any","blank","notBlank"]),this.id=Dt.id||"",this.initialNumber=(0,xt.getInteger)({data:Dt.initialNumber,defaultValue:1,validate:mn=>!0}),this.name=Dt.name||"",this.numbered=(0,xt.getInteger)({data:Dt.numbered,defaultValue:1,validate:mn=>!0}),this.oddOrEven=(0,xt.getStringOption)(Dt.oddOrEven,["any","even","odd"]),this.pagePosition=(0,xt.getStringOption)(Dt.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,xt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new vt.XFAObjectArray,this.contentArea=new vt.XFAObjectArray,this.draw=new vt.XFAObjectArray,this.exclGroup=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray}[vt.$isUsable](){return this[vt.$extra]?!this.occur||this.occur.max===-1||this[vt.$extra].numberOfUse<this.occur.max:(this[vt.$extra]={numberOfUse:0},!0)}[vt.$cleanPage](){delete this[vt.$extra]}[vt.$getNextPage](){this[vt.$extra]||(this[vt.$extra]={numberOfUse:0});const Dt=this[vt.$getParent]();return Dt.relation==="orderedOccurrence"&&this[vt.$isUsable]()?(this[vt.$extra].numberOfUse+=1,this):Dt[vt.$getNextPage]()}[vt.$getAvailableSpace](){return this[vt.$extra].space||{width:0,height:0}}[vt.$toHTML](){this[vt.$extra]||(this[vt.$extra]={numberOfUse:1});const Dt=[];this[vt.$extra].children=Dt;const mn=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(mn.width=(0,Pt.measureToString)(this.medium.short),mn.height=(0,Pt.measureToString)(this.medium.long),this[vt.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const Nn=mn.width;mn.width=mn.height,mn.height=Nn,this[vt.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,$t.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[vt.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[vt.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),xt.HTMLResult.success({name:"div",children:Dt,attributes:{class:["xfaPage"],id:this[vt.$uid],style:mn,xfaName:this.name}})}}class _r extends vt.XFAObject{constructor(Dt){super(Nt,"pageSet",!0),this.duplexImposition=(0,xt.getStringOption)(Dt.duplexImposition,["longEdge","shortEdge"]),this.id=Dt.id||"",this.name=Dt.name||"",this.relation=(0,xt.getStringOption)(Dt.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,xt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.occur=null,this.pageArea=new vt.XFAObjectArray,this.pageSet=new vt.XFAObjectArray}[vt.$cleanPage](){for(const Dt of this.pageArea.children)Dt[vt.$cleanPage]();for(const Dt of this.pageSet.children)Dt[vt.$cleanPage]()}[vt.$isUsable](){return!this.occur||this.occur.max===-1||this[vt.$extra].numberOfUse<this.occur.max}[vt.$getNextPage](){if(this[vt.$extra]||(this[vt.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[vt.$extra].pageIndex+1<this.pageArea.children.length)return this[vt.$extra].pageIndex+=1,this.pageArea.children[this[vt.$extra].pageIndex][vt.$getNextPage]();if(this[vt.$extra].pageSetIndex+1<this.pageSet.children.length)return this[vt.$extra].pageSetIndex+=1,this.pageSet.children[this[vt.$extra].pageSetIndex][vt.$getNextPage]();if(this[vt.$isUsable]())return this[vt.$extra].numberOfUse+=1,this[vt.$extra].pageIndex=-1,this[vt.$extra].pageSetIndex=-1,this[vt.$getNextPage]();const Xn=this[vt.$getParent]();return Xn instanceof _r?Xn[vt.$getNextPage]():(this[vt.$cleanPage](),this[vt.$getNextPage]())}const Dt=this[vt.$getTemplateRoot]()[vt.$extra].pageNumber,mn=Dt%2===0?"even":"odd",Nn=Dt===0?"first":"rest";let Hn=this.pageArea.children.find(Xn=>Xn.oddOrEven===mn&&Xn.pagePosition===Nn);return Hn||(Hn=this.pageArea.children.find(Xn=>Xn.oddOrEven==="any"&&Xn.pagePosition===Nn),Hn)||(Hn=this.pageArea.children.find(Xn=>Xn.oddOrEven==="any"&&Xn.pagePosition==="any"),Hn)?Hn:this.pageArea.children[0]}}class Qr extends vt.XFAObject{constructor(Dt){super(Nt,"para",!0),this.hAlign=(0,xt.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.lineHeight=Dt.lineHeight?(0,xt.getMeasurement)(Dt.lineHeight,"0pt"):"",this.marginLeft=Dt.marginLeft?(0,xt.getMeasurement)(Dt.marginLeft,"0pt"):"",this.marginRight=Dt.marginRight?(0,xt.getMeasurement)(Dt.marginRight,"0pt"):"",this.orphans=(0,xt.getInteger)({data:Dt.orphans,defaultValue:0,validate:mn=>mn>=0}),this.preserve=Dt.preserve||"",this.radixOffset=Dt.radixOffset?(0,xt.getMeasurement)(Dt.radixOffset,"0pt"):"",this.spaceAbove=Dt.spaceAbove?(0,xt.getMeasurement)(Dt.spaceAbove,"0pt"):"",this.spaceBelow=Dt.spaceBelow?(0,xt.getMeasurement)(Dt.spaceBelow,"0pt"):"",this.tabDefault=Dt.tabDefault?(0,xt.getMeasurement)(this.tabDefault):"",this.tabStops=(Dt.tabStops||"").trim().split(/\s+/).map((mn,Nn)=>Nn%2===1?(0,xt.getMeasurement)(mn):mn),this.textIndent=Dt.textIndent?(0,xt.getMeasurement)(Dt.textIndent,"0pt"):"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.vAlign=(0,xt.getStringOption)(Dt.vAlign,["top","bottom","middle"]),this.widows=(0,xt.getInteger)({data:Dt.widows,defaultValue:0,validate:mn=>mn>=0}),this.hyphenation=null}[vt.$toStyle](){const Dt=(0,Pt.toStyle)(this,"hAlign");return this.marginLeft!==""&&(Dt.paddingLeft=(0,Pt.measureToString)(this.marginLeft)),this.marginRight!==""&&(Dt.paddingight=(0,Pt.measureToString)(this.marginRight)),this.spaceAbove!==""&&(Dt.paddingTop=(0,Pt.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(Dt.paddingBottom=(0,Pt.measureToString)(this.spaceBelow)),this.textIndent!==""&&(Dt.textIndent=(0,Pt.measureToString)(this.textIndent),(0,Pt.fixTextIndent)(Dt)),this.lineHeight>0&&(Dt.lineHeight=(0,Pt.measureToString)(this.lineHeight)),this.tabDefault!==""&&(Dt.tabSize=(0,Pt.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(Dt,this.hyphenatation[vt.$toStyle]()),Dt}}class Ps extends vt.XFAObject{constructor(Dt){super(Nt,"passwordEdit",!0),this.hScrollPolicy=(0,xt.getStringOption)(Dt.hScrollPolicy,["auto","off","on"]),this.id=Dt.id||"",this.passwordChar=Dt.passwordChar||"*",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.margin=null}}class es extends vt.XFAObject{constructor(Dt){super(Nt,"pattern",!0),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[vt.$toStyle](Dt){Dt=Dt?Dt[vt.$toStyle]():"#FFFFFF";const mn=this.color?this.color[vt.$toStyle]():"#000000",Nn=5,Hn="repeating-linear-gradient",Xn=`${Dt},${Dt} ${Nn}px,${mn} ${Nn}px,${mn} ${2*Nn}px`;switch(this.type){case"crossHatch":return`${Hn}(to top,${Xn}) ${Hn}(to right,${Xn})`;case"crossDiagonal":return`${Hn}(45deg,${Xn}) ${Hn}(-45deg,${Xn})`;case"diagonalLeft":return`${Hn}(45deg,${Xn})`;case"diagonalRight":return`${Hn}(-45deg,${Xn})`;case"horizontal":return`${Hn}(to top,${Xn})`;case"vertical":return`${Hn}(to right,${Xn})`}return""}}class hs extends vt.StringObject{constructor(Dt){super(Nt,"picture"),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Ms extends vt.XFAObject{constructor(Dt){super(Nt,"proto",!0),this.appearanceFilter=new vt.XFAObjectArray,this.arc=new vt.XFAObjectArray,this.area=new vt.XFAObjectArray,this.assist=new vt.XFAObjectArray,this.barcode=new vt.XFAObjectArray,this.bindItems=new vt.XFAObjectArray,this.bookend=new vt.XFAObjectArray,this.boolean=new vt.XFAObjectArray,this.border=new vt.XFAObjectArray,this.break=new vt.XFAObjectArray,this.breakAfter=new vt.XFAObjectArray,this.breakBefore=new vt.XFAObjectArray,this.button=new vt.XFAObjectArray,this.calculate=new vt.XFAObjectArray,this.caption=new vt.XFAObjectArray,this.certificate=new vt.XFAObjectArray,this.certificates=new vt.XFAObjectArray,this.checkButton=new vt.XFAObjectArray,this.choiceList=new vt.XFAObjectArray,this.color=new vt.XFAObjectArray,this.comb=new vt.XFAObjectArray,this.connect=new vt.XFAObjectArray,this.contentArea=new vt.XFAObjectArray,this.corner=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.dateTimeEdit=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.defaultUi=new vt.XFAObjectArray,this.desc=new vt.XFAObjectArray,this.digestMethod=new vt.XFAObjectArray,this.digestMethods=new vt.XFAObjectArray,this.draw=new vt.XFAObjectArray,this.edge=new vt.XFAObjectArray,this.encoding=new vt.XFAObjectArray,this.encodings=new vt.XFAObjectArray,this.encrypt=new vt.XFAObjectArray,this.encryptData=new vt.XFAObjectArray,this.encryption=new vt.XFAObjectArray,this.encryptionMethod=new vt.XFAObjectArray,this.encryptionMethods=new vt.XFAObjectArray,this.event=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.exObject=new vt.XFAObjectArray,this.exclGroup=new vt.XFAObjectArray,this.execute=new vt.XFAObjectArray,this.extras=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.fill=new vt.XFAObjectArray,this.filter=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.font=new vt.XFAObjectArray,this.format=new vt.XFAObjectArray,this.handler=new vt.XFAObjectArray,this.hyphenation=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.imageEdit=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.issuers=new vt.XFAObjectArray,this.items=new vt.XFAObjectArray,this.keep=new vt.XFAObjectArray,this.keyUsage=new vt.XFAObjectArray,this.line=new vt.XFAObjectArray,this.linear=new vt.XFAObjectArray,this.lockDocument=new vt.XFAObjectArray,this.manifest=new vt.XFAObjectArray,this.margin=new vt.XFAObjectArray,this.mdp=new vt.XFAObjectArray,this.medium=new vt.XFAObjectArray,this.message=new vt.XFAObjectArray,this.numericEdit=new vt.XFAObjectArray,this.occur=new vt.XFAObjectArray,this.oid=new vt.XFAObjectArray,this.oids=new vt.XFAObjectArray,this.overflow=new vt.XFAObjectArray,this.pageArea=new vt.XFAObjectArray,this.pageSet=new vt.XFAObjectArray,this.para=new vt.XFAObjectArray,this.passwordEdit=new vt.XFAObjectArray,this.pattern=new vt.XFAObjectArray,this.picture=new vt.XFAObjectArray,this.radial=new vt.XFAObjectArray,this.reason=new vt.XFAObjectArray,this.reasons=new vt.XFAObjectArray,this.rectangle=new vt.XFAObjectArray,this.ref=new vt.XFAObjectArray,this.script=new vt.XFAObjectArray,this.setProperty=new vt.XFAObjectArray,this.signData=new vt.XFAObjectArray,this.signature=new vt.XFAObjectArray,this.signing=new vt.XFAObjectArray,this.solid=new vt.XFAObjectArray,this.speak=new vt.XFAObjectArray,this.stipple=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray,this.subformSet=new vt.XFAObjectArray,this.subjectDN=new vt.XFAObjectArray,this.subjectDNs=new vt.XFAObjectArray,this.submit=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.textEdit=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray,this.timeStamp=new vt.XFAObjectArray,this.toolTip=new vt.XFAObjectArray,this.traversal=new vt.XFAObjectArray,this.traverse=new vt.XFAObjectArray,this.ui=new vt.XFAObjectArray,this.validate=new vt.XFAObjectArray,this.value=new vt.XFAObjectArray,this.variables=new vt.XFAObjectArray}}class Qs extends vt.XFAObject{constructor(Dt){super(Nt,"radial",!0),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["toEdge","toCenter"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[vt.$toStyle](Dt){Dt=Dt?Dt[vt.$toStyle]():"#FFFFFF";const mn=this.color?this.color[vt.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${Dt},${mn}`:`${mn},${Dt}`})`}}class ko extends vt.StringObject{constructor(Dt){super(Nt,"reason"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Ip extends vt.XFAObject{constructor(Dt){super(Nt,"reasons",!0),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.reason=new vt.XFAObjectArray}}class w1 extends vt.XFAObject{constructor(Dt){super(Nt,"rectangle",!0),this.hand=(0,xt.getStringOption)(Dt.hand,["even","left","right"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.corner=new vt.XFAObjectArray(4),this.edge=new vt.XFAObjectArray(4),this.fill=null}[vt.$toHTML](){const Dt=this.edge.children.length?this.edge.children[0]:new ir({}),mn=Dt[vt.$toStyle](),Nn=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(Nn,this.fill[vt.$toStyle]()):Nn.fill="transparent",Nn.strokeWidth=(0,Pt.measureToString)(Dt.presence==="visible"?Dt.thickness:0),Nn.stroke=mn.color;const Xn=(this.corner.children.length?this.corner.children[0]:new Mn({}))[vt.$toStyle](),Jn={name:"svg",children:[{name:"rect",attributes:{xmlns:Lt,width:"100%",height:"100%",x:0,y:0,rx:Xn.radius,ry:Xn.radius,style:Nn}}],attributes:{xmlns:Lt,style:{overflow:"visible"},width:"100%",height:"100%"}},Zn=this[vt.$getParent]()[vt.$getParent]();return en(Zn)?xt.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Jn]}):(Jn.attributes.style.position="absolute",xt.HTMLResult.success(Jn))}}class A1 extends vt.StringObject{constructor(Dt){super(Nt,"ref"),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class S1 extends vt.StringObject{constructor(Dt){super(Nt,"script"),this.binding=Dt.binding||"",this.contentType=Dt.contentType||"",this.id=Dt.id||"",this.name=Dt.name||"",this.runAt=(0,xt.getStringOption)(Dt.runAt,["client","both","server"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class C1 extends vt.XFAObject{constructor(Dt){super(Nt,"setProperty"),this.connection=Dt.connection||"",this.ref=Dt.ref||"",this.target=Dt.target||""}}St.SetProperty=C1;class Dp extends vt.XFAObject{constructor(Dt){super(Nt,"signData",!0),this.id=Dt.id||"",this.operation=(0,xt.getStringOption)(Dt.operation,["sign","clear","verify"]),this.ref=Dt.ref||"",this.target=Dt.target||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.filter=null,this.manifest=null}}class g0 extends vt.XFAObject{constructor(Dt){super(Nt,"signature",!0),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["PDF1.3","PDF1.6"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Lp extends vt.XFAObject{constructor(Dt){super(Nt,"signing",!0),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.certificate=new vt.XFAObjectArray}}class E1 extends vt.XFAObject{constructor(Dt){super(Nt,"solid",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}[vt.$toStyle](Dt){return Dt?Dt[vt.$toStyle]():"#FFFFFF"}}class k1 extends vt.StringObject{constructor(Dt){super(Nt,"speak"),this.disable=(0,xt.getInteger)({data:Dt.disable,defaultValue:0,validate:mn=>mn===1}),this.id=Dt.id||"",this.priority=(0,xt.getStringOption)(Dt.priority,["custom","caption","name","toolTip"]),this.rid=Dt.rid||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Np extends vt.XFAObject{constructor(Dt){super(Nt,"stipple",!0),this.id=Dt.id||"",this.rate=(0,xt.getInteger)({data:Dt.rate,defaultValue:50,validate:mn=>mn>=0&&mn<=100}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[vt.$toStyle](Dt){const mn=this.rate/100;return $t.Util.makeHexColor(Math.round(Dt.value.r*(1-mn)+this.value.r*mn),Math.round(Dt.value.g*(1-mn)+this.value.g*mn),Math.round(Dt.value.b*(1-mn)+this.value.b*mn))}}class Lu extends vt.XFAObject{constructor(Dt){super(Nt,"subform",!0),this.access=(0,xt.getStringOption)(Dt.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,xt.getInteger)({data:Dt.allowMacro,defaultValue:0,validate:mn=>mn===1}),this.anchorType=(0,xt.getStringOption)(Dt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,xt.getInteger)({data:Dt.colSpan,defaultValue:1,validate:mn=>mn>=1||mn===-1}),this.columnWidths=(Dt.columnWidths||"").trim().split(/\s+/).map(mn=>mn==="-1"?-1:(0,xt.getMeasurement)(mn)),this.h=Dt.h?(0,xt.getMeasurement)(Dt.h):"",this.hAlign=(0,xt.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.layout=(0,xt.getStringOption)(Dt.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=Dt.locale||"",this.maxH=(0,xt.getMeasurement)(Dt.maxH,"0pt"),this.maxW=(0,xt.getMeasurement)(Dt.maxW,"0pt"),this.mergeMode=(0,xt.getStringOption)(Dt.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,xt.getMeasurement)(Dt.minH,"0pt"),this.minW=(0,xt.getMeasurement)(Dt.minW,"0pt"),this.name=Dt.name||"",this.presence=(0,xt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,xt.getRelevant)(Dt.relevant),this.restoreState=(0,xt.getStringOption)(Dt.restoreState,["manual","auto"]),this.scope=(0,xt.getStringOption)(Dt.scope,["name","none"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=Dt.w?(0,xt.getMeasurement)(Dt.w):"",this.x=(0,xt.getMeasurement)(Dt.x,"0pt"),this.y=(0,xt.getMeasurement)(Dt.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new vt.XFAObjectArray,this.breakAfter=new vt.XFAObjectArray,this.breakBefore=new vt.XFAObjectArray,this.connect=new vt.XFAObjectArray,this.draw=new vt.XFAObjectArray,this.event=new vt.XFAObjectArray,this.exObject=new vt.XFAObjectArray,this.exclGroup=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.proto=new vt.XFAObjectArray,this.setProperty=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray,this.subformSet=new vt.XFAObjectArray}[vt.$getSubformParent](){const Dt=this[vt.$getParent]();return Dt instanceof m0?Dt[vt.$getSubformParent]():Dt}[vt.$isBindable](){return!0}[vt.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[vt.$extra].attempt===0&&this[vt.$extra].numberInLine>0||this[vt.$getParent]()[vt.$isThereMoreWidth]()}*[vt.$getContainedChildren](){yield*sn(this)}[vt.$flushHTML](){return(0,Mt.flushHTML)(this)}[vt.$addHTML](Dt,mn){(0,Mt.addHTML)(this,Dt,mn)}[vt.$getAvailableSpace](){return(0,Mt.getAvailableSpace)(this)}[vt.$isSplittable](){const Dt=this[vt.$getSubformParent]();return Dt[vt.$isSplittable]()?this[vt.$extra]._isSplittable!==void 0?this[vt.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[vt.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[vt.$extra]._isSplittable=!1,!1):Dt.layout&&Dt.layout.endsWith("-tb")&&Dt[vt.$extra].numberInLine!==0?!1:(this[vt.$extra]._isSplittable=!0,!0):!1}[vt.$toHTML](Dt){if(Qt(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const Dr=new bn({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});Dr[vt.$globalData]=this[vt.$globalData],this[vt.$appendChild](Dr),this.breakAfter.push(Dr)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const Dr=new vn({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});Dr[vt.$globalData]=this[vt.$globalData],this[vt.$appendChild](Dr),this.breakBefore.push(Dr)}if(this.break.overflowTarget!==""){const Dr=new fr({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});Dr[vt.$globalData]=this[vt.$globalData],this[vt.$appendChild](Dr),this.overflow.push(Dr)}this[vt.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return xt.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,$t.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const Dr=this.breakBefore.children[0];if(ln(Dr))return xt.HTMLResult.breakNode(Dr)}if(this[vt.$extra]&&this[vt.$extra].afterBreakAfter)return xt.HTMLResult.EMPTY;(0,Pt.fixDimensions)(this);const mn=[],Nn={id:this[vt.$uid],class:[]};(0,Pt.setAccess)(this,Nn.class),this[vt.$extra]||(this[vt.$extra]=Object.create(null)),Object.assign(this[vt.$extra],{children:mn,line:null,attributes:Nn,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,Dt.width),height:Math.min(this.h||1/0,Dt.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Hn=this[vt.$getTemplateRoot](),Xn=Hn[vt.$extra].noLayoutFailure,Wn=this[vt.$isSplittable]();if(Wn||zt(this),!(0,Mt.checkDimensions)(this,Dt))return xt.HTMLResult.FAILURE;const Jn=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const Dr=this[vt.$getSubformParent]().columnWidths;Array.isArray(Dr)&&Dr.length>0&&(this[vt.$extra].columnWidths=Dr,this[vt.$extra].currentColumn=0)}const Zn=(0,Pt.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),ar=["xfaSubform"],hr=(0,Pt.layoutClass)(this);if(hr&&ar.push(hr),Nn.style=Zn,Nn.class=ar,this.name&&(Nn.xfaName=this.name),this.overflow){const Dr=this.overflow[vt.$getExtra]();Dr.addLeader&&(Dr.addLeader=!1,Kt(this,Dr.leader,Dt))}this[vt.$pushPara]();const dr=this.layout==="lr-tb"||this.layout==="rl-tb",Er=dr?kt:1;for(;this[vt.$extra].attempt<Er;this[vt.$extra].attempt++){dr&&this[vt.$extra].attempt===kt-1&&(this[vt.$extra].numberInLine=0);const Dr=this[vt.$childrenToHTML]({filter:Jn,include:!0});if(Dr.success)break;if(Dr.isBreak())return this[vt.$popPara](),Dr;if(dr&&this[vt.$extra].attempt===0&&this[vt.$extra].numberInLine===0&&!Hn[vt.$extra].noLayoutFailure){this[vt.$extra].attempt=Er;break}}if(this[vt.$popPara](),Wn||cn(this),Hn[vt.$extra].noLayoutFailure=Xn,this[vt.$extra].attempt===Er)return this.overflow&&(this[vt.$getTemplateRoot]()[vt.$extra].overflowNode=this.overflow),Wn||delete this[vt.$extra],xt.HTMLResult.FAILURE;if(this.overflow){const Dr=this.overflow[vt.$getExtra]();Dr.addTrailer&&(Dr.addTrailer=!1,Kt(this,Dr.trailer,Dt))}let Sr=0,Ar=0;this.margin&&(Sr=this.margin.leftInset+this.margin.rightInset,Ar=this.margin.topInset+this.margin.bottomInset);const Lr=Math.max(this[vt.$extra].width+Sr,this.w||0),Vr=Math.max(this[vt.$extra].height+Ar,this.h||0),Fr=[this.x,this.y,Lr,Vr];if(this.w===""&&(Zn.width=(0,Pt.measureToString)(Lr)),this.h===""&&(Zn.height=(0,Pt.measureToString)(Vr)),(Zn.width==="0px"||Zn.height==="0px")&&mn.length===0)return xt.HTMLResult.EMPTY;const Nr={name:"div",attributes:Nn,children:mn};qt(this,Nn);const jr=xt.HTMLResult.success((0,Pt.createWrapper)(this,Nr),Fr);if(this.breakAfter.children.length>=1){const Dr=this.breakAfter.children[0];if(ln(Dr))return this[vt.$extra].afterBreakAfter=jr,xt.HTMLResult.breakNode(Dr)}return delete this[vt.$extra],jr}}class m0 extends vt.XFAObject{constructor(Dt){super(Nt,"subformSet",!0),this.id=Dt.id||"",this.name=Dt.name||"",this.relation=(0,xt.getStringOption)(Dt.relation,["ordered","choice","unordered"]),this.relevant=(0,xt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new vt.XFAObjectArray,this.breakBefore=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray,this.subformSet=new vt.XFAObjectArray}*[vt.$getContainedChildren](){yield*sn(this)}[vt.$getSubformParent](){let Dt=this[vt.$getParent]();for(;!(Dt instanceof Lu);)Dt=Dt[vt.$getParent]();return Dt}[vt.$isBindable](){return!0}}class $p extends vt.ContentObject{constructor(Dt){super(Nt,"subjectDN"),this.delimiter=Dt.delimiter||",",this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[vt.$finalize](){this[vt.$content]=new Map(this[vt.$content].split(this.delimiter).map(Dt=>(Dt=Dt.split("=",2),Dt[0]=Dt[0].trim(),Dt)))}}class Dl extends vt.XFAObject{constructor(Dt){super(Nt,"subjectDNs",!0),this.id=Dt.id||"",this.type=(0,xt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.subjectDN=new vt.XFAObjectArray}}class Bp extends vt.XFAObject{constructor(Dt){super(Nt,"submit",!0),this.embedPDF=(0,xt.getInteger)({data:Dt.embedPDF,defaultValue:0,validate:mn=>mn===1}),this.format=(0,xt.getStringOption)(Dt.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=Dt.id||"",this.target=Dt.target||"",this.textEncoding=(0,xt.getKeyword)({data:Dt.textEncoding?Dt.textEncoding.toLowerCase():"",defaultValue:"",validate:mn=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(mn)||mn.match(/iso-8859-\d{2}/)}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.xdpContent=Dt.xdpContent||"",this.encrypt=null,this.encryptData=new vt.XFAObjectArray,this.signData=new vt.XFAObjectArray}}class Nu extends vt.XFAObject{constructor(Dt){super(Nt,"template",!0),this.baseProfile=(0,xt.getStringOption)(Dt.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new vt.XFAObjectArray}[vt.$finalize](){this.subform.children.length===0&&(0,$t.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,$t.warn)("XFA - Several subforms in template node: please file a bug."),this[vt.$tabIndex]=Ht}[vt.$isSplittable](){return!0}[vt.$searchNode](Dt,mn){return Dt.startsWith("#")?[this[vt.$ids].get(Dt.slice(1))]:(0,Rt.searchNode)(this,mn,Dt,!0,!0)}*[vt.$toPages](){if(!this.subform.children.length)return xt.HTMLResult.success({name:"div",children:[]});this[vt.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const Dt=this.subform.children[0];Dt.pageSet[vt.$cleanPage]();const mn=Dt.pageSet.pageArea.children,Nn={name:"div",children:[]};let Hn=null,Xn=null,Wn=null;if(Dt.breakBefore.children.length>=1?(Xn=Dt.breakBefore.children[0],Wn=Xn.target):Dt.subform.children.length>=1&&Dt.subform.children[0].breakBefore.children.length>=1?(Xn=Dt.subform.children[0].breakBefore.children[0],Wn=Xn.target):Dt.break&&Dt.break.beforeTarget?(Xn=Dt.break,Wn=Xn.beforeTarget):Dt.subform.children.length>=1&&Dt.subform.children[0].break&&Dt.subform.children[0].break.beforeTarget&&(Xn=Dt.subform.children[0].break,Wn=Xn.beforeTarget),Xn){const Ar=this[vt.$searchNode](Wn,Xn[vt.$getParent]());Ar instanceof ur&&(Hn=Ar,Xn[vt.$extra]={})}Hn||(Hn=mn[0]),Hn[vt.$extra]={numberOfUse:1};const Jn=Hn[vt.$getParent]();Jn[vt.$extra]={numberOfUse:1,pageIndex:Jn.pageArea.children.indexOf(Hn),pageSetIndex:0};let Zn,ar=null,hr=null,dr=!0,Er=0,Sr=0;for(;;){if(dr)Er=0;else if(Nn.children.pop(),++Er===Bt)return(0,$t.warn)("XFA - Something goes wrong: please file a bug."),Nn;Zn=null,this[vt.$extra].currentPageArea=Hn;const Ar=Hn[vt.$toHTML]().html;Nn.children.push(Ar),ar&&(this[vt.$extra].noLayoutFailure=!0,Ar.children.push(ar[vt.$toHTML](Hn[vt.$extra].space).html),ar=null),hr&&(this[vt.$extra].noLayoutFailure=!0,Ar.children.push(hr[vt.$toHTML](Hn[vt.$extra].space).html),hr=null);const Lr=Hn.contentArea.children,Vr=Ar.children.filter(Nr=>Nr.attributes.class.includes("xfaContentarea"));dr=!1,this[vt.$extra].firstUnsplittable=null,this[vt.$extra].noLayoutFailure=!1;const Fr=Nr=>{const jr=Dt[vt.$flushHTML]();jr&&(dr=dr||jr.children&&jr.children.length!==0,Vr[Nr].children.push(jr))};for(let Nr=Sr,jr=Lr.length;Nr<jr;Nr++){const Dr=this[vt.$extra].currentContentArea=Lr[Nr],is={width:Dr.w,height:Dr.h};Sr=0,ar&&(Vr[Nr].children.push(ar[vt.$toHTML](is).html),ar=null),hr&&(Vr[Nr].children.push(hr[vt.$toHTML](is).html),hr=null);const ws=Dt[vt.$toHTML](is);if(ws.success)return ws.html?(dr=dr||ws.html.children&&ws.html.children.length!==0,Vr[Nr].children.push(ws.html)):!dr&&Nn.children.length>1&&Nn.children.pop(),Nn;if(ws.isBreak()){const ps=ws.breakNode;if(Fr(Nr),ps.targetType==="auto")continue;ps.leader&&(ar=this[vt.$searchNode](ps.leader,ps[vt.$getParent]()),ar=ar?ar[0]:null),ps.trailer&&(hr=this[vt.$searchNode](ps.trailer,ps[vt.$getParent]()),hr=hr?hr[0]:null),ps.targetType==="pageArea"?(Zn=ps[vt.$extra].target,Nr=1/0):ps[vt.$extra].target?(Zn=ps[vt.$extra].target,Sr=ps[vt.$extra].index+1,Nr=1/0):Nr=ps[vt.$extra].index;continue}if(this[vt.$extra].overflowNode){const ps=this[vt.$extra].overflowNode;this[vt.$extra].overflowNode=null;const Ss=ps[vt.$getExtra](),Cs=Ss.target;Ss.addLeader=Ss.leader!==null,Ss.addTrailer=Ss.trailer!==null,Fr(Nr);const Rs=Nr;if(Nr=1/0,Cs instanceof ur)Zn=Cs;else if(Cs instanceof _n){const Gs=Lr.indexOf(Cs);Gs!==-1?Gs>Rs?Nr=Gs-1:Sr=Gs:(Zn=Cs[vt.$getParent](),Sr=Zn.contentArea.children.indexOf(Cs))}continue}Fr(Nr)}this[vt.$extra].pageNumber+=1,Zn&&(Zn[vt.$isUsable]()?Zn[vt.$extra].numberOfUse+=1:Zn=null),Hn=Zn||Hn[vt.$getNextPage](),yield null}}}St.Template=Nu;class F1 extends vt.ContentObject{constructor(Dt){super(Nt,"text"),this.id=Dt.id||"",this.maxChars=(0,xt.getInteger)({data:Dt.maxChars,defaultValue:0,validate:mn=>mn>=0}),this.name=Dt.name||"",this.rid=Dt.rid||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[vt.$acceptWhitespace](){return!0}[vt.$onChild](Dt){return Dt[vt.$namespaceId]===Et.NamespaceIds.xhtml.id?(this[vt.$content]=Dt,!0):((0,$t.warn)(`XFA - Invalid content in Text: ${Dt[vt.$nodeName]}.`),!1)}[vt.$onText](Dt){this[vt.$content]instanceof vt.XFAObject||super[vt.$onText](Dt)}[vt.$finalize](){typeof this[vt.$content]=="string"&&(this[vt.$content]=this[vt.$content].replace(/\r\n/g,`
`))}[vt.$getExtra](){return typeof this[vt.$content]=="string"?this[vt.$content].split(/[\u2029\u2028\n]/).reduce((Dt,mn)=>(mn&&Dt.push(mn),Dt),[]).join(`
`):this[vt.$content][vt.$text]()}[vt.$toHTML](Dt){if(typeof this[vt.$content]=="string"){const mn=Ut(this[vt.$content]).html;return this[vt.$content].includes("\u2029")?(mn.name="div",mn.children=[],this[vt.$content].split("\u2029").map(Nn=>Nn.split(/[\u2028\n]/).reduce((Hn,Xn)=>(Hn.push({name:"span",value:Xn},{name:"br"}),Hn),[])).forEach(Nn=>{mn.children.push({name:"p",children:Nn})})):/[\u2028\n]/.test(this[vt.$content])&&(mn.name="div",mn.children=[],this[vt.$content].split(/[\u2028\n]/).forEach(Nn=>{mn.children.push({name:"span",value:Nn},{name:"br"})})),xt.HTMLResult.success(mn)}return this[vt.$content][vt.$toHTML](Dt)}}St.Text=F1;class iu extends vt.XFAObject{constructor(Dt){super(Nt,"textEdit",!0),this.allowRichText=(0,xt.getInteger)({data:Dt.allowRichText,defaultValue:0,validate:mn=>mn===1}),this.hScrollPolicy=(0,xt.getStringOption)(Dt.hScrollPolicy,["auto","off","on"]),this.id=Dt.id||"",this.multiLine=(0,xt.getInteger)({data:Dt.multiLine,defaultValue:"",validate:mn=>mn===0||mn===1}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.vScrollPolicy=(0,xt.getStringOption)(Dt.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[vt.$toHTML](Dt){const mn=(0,Pt.toStyle)(this,"border","font","margin");let Nn;const Hn=this[vt.$getParent]()[vt.$getParent]();return this.multiLine===""&&(this.multiLine=Hn instanceof tr?1:0),this.multiLine===1?Nn={name:"textarea",attributes:{dataId:Hn[vt.$data]&&Hn[vt.$data][vt.$uid]||Hn[vt.$uid],fieldId:Hn[vt.$uid],class:["xfaTextfield"],style:mn,"aria-label":nn(Hn),"aria-required":!1}}:Nn={name:"input",attributes:{type:"text",dataId:Hn[vt.$data]&&Hn[vt.$data][vt.$uid]||Hn[vt.$uid],fieldId:Hn[vt.$uid],class:["xfaTextfield"],style:mn,"aria-label":nn(Hn),"aria-required":!1}},hn(Hn)&&(Nn.attributes["aria-required"]=!0,Nn.attributes.required=!0),xt.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Nn]})}}class x0 extends vt.StringObject{constructor(Dt){super(Nt,"time"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[vt.$finalize](){const Dt=this[vt.$content].trim();this[vt.$content]=Dt?new Date(Dt):null}[vt.$toHTML](Dt){return Ut(this[vt.$content]?this[vt.$content].toString():"")}}class jp extends vt.XFAObject{constructor(Dt){super(Nt,"timeStamp"),this.id=Dt.id||"",this.server=Dt.server||"",this.type=(0,xt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class T1 extends vt.StringObject{constructor(Dt){super(Nt,"toolTip"),this.id=Dt.id||"",this.rid=Dt.rid||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class P1 extends vt.XFAObject{constructor(Dt){super(Nt,"traversal",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.traverse=new vt.XFAObjectArray}}class b0 extends vt.XFAObject{constructor(Dt){super(Nt,"traverse",!0),this.id=Dt.id||"",this.operation=(0,xt.getStringOption)(Dt.operation,["next","back","down","first","left","right","up"]),this.ref=Dt.ref||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[vt.$isTransparent](){return!1}}class y0 extends vt.XFAObject{constructor(Dt){super(Nt,"ui",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[vt.$getExtra](){if(this[vt.$extra]===void 0){for(const Dt of Object.getOwnPropertyNames(this)){if(Dt==="extras"||Dt==="picture")continue;const mn=this[Dt];if(mn instanceof vt.XFAObject)return this[vt.$extra]=mn,mn}this[vt.$extra]=null}return this[vt.$extra]}[vt.$toHTML](Dt){const mn=this[vt.$getExtra]();return mn?mn[vt.$toHTML](Dt):xt.HTMLResult.EMPTY}}class Up extends vt.XFAObject{constructor(Dt){super(Nt,"validate",!0),this.formatTest=(0,xt.getStringOption)(Dt.formatTest,["warning","disabled","error"]),this.id=Dt.id||"",this.nullTest=(0,xt.getStringOption)(Dt.nullTest,["disabled","error","warning"]),this.scriptTest=(0,xt.getStringOption)(Dt.scriptTest,["error","disabled","warning"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class $u extends vt.XFAObject{constructor(Dt){super(Nt,"value",!0),this.id=Dt.id||"",this.override=(0,xt.getInteger)({data:Dt.override,defaultValue:0,validate:mn=>mn===1}),this.relevant=(0,xt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[vt.$setValue](Dt){const mn=this[vt.$getParent]();if(mn instanceof gr&&mn.ui&&mn.ui.imageEdit){this.image||(this.image=new Jr({}),this[vt.$appendChild](this.image)),this.image[vt.$content]=Dt[vt.$content];return}const Nn=Dt[vt.$nodeName];if(this[Nn]!==null){this[Nn][vt.$content]=Dt[vt.$content];return}for(const Hn of Object.getOwnPropertyNames(this)){const Xn=this[Hn];Xn instanceof vt.XFAObject&&(this[Hn]=null,this[vt.$removeChild](Xn))}this[Dt[vt.$nodeName]]=Dt,this[vt.$appendChild](Dt)}[vt.$text](){if(this.exData)return typeof this.exData[vt.$content]=="string"?this.exData[vt.$content].trim():this.exData[vt.$content][vt.$text]().trim();for(const Dt of Object.getOwnPropertyNames(this)){if(Dt==="image")continue;const mn=this[Dt];if(mn instanceof vt.XFAObject)return(mn[vt.$content]||"").toString().trim()}return null}[vt.$toHTML](Dt){for(const mn of Object.getOwnPropertyNames(this)){const Nn=this[mn];if(Nn instanceof vt.XFAObject)return Nn[vt.$toHTML](Dt)}return xt.HTMLResult.EMPTY}}St.Value=$u;class Rn extends vt.XFAObject{constructor(Dt){super(Nt,"variables",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.manifest=new vt.XFAObjectArray,this.script=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}[vt.$isTransparent](){return!0}}class Un{static[Et.$buildXFAObject](Dt,mn){if(Un.hasOwnProperty(Dt)){const Nn=Un[Dt](mn);return Nn[vt.$setSetAttributes](mn),Nn}}static appearanceFilter(Dt){return new Jt(Dt)}static arc(Dt){return new Yt(Dt)}static area(Dt){return new tn(Dt)}static assist(Dt){return new un(Dt)}static barcode(Dt){return new yn(Dt)}static bind(Dt){return new xn(Dt)}static bindItems(Dt){return new rn(Dt)}static bookend(Dt){return new dn(Dt)}static boolean(Dt){return new An(Dt)}static border(Dt){return new an(Dt)}static break(Dt){return new fn(Dt)}static breakAfter(Dt){return new bn(Dt)}static breakBefore(Dt){return new vn(Dt)}static button(Dt){return new gn(Dt)}static calculate(Dt){return new on(Dt)}static caption(Dt){return new wn(Dt)}static certificate(Dt){return new pn(Dt)}static certificates(Dt){return new Cn(Dt)}static checkButton(Dt){return new Tn(Dt)}static choiceList(Dt){return new Fn(Dt)}static color(Dt){return new En(Dt)}static comb(Dt){return new kn(Dt)}static connect(Dt){return new Pn(Dt)}static contentArea(Dt){return new _n(Dt)}static corner(Dt){return new Mn(Dt)}static date(Dt){return new On(Dt)}static dateTime(Dt){return new jn(Dt)}static dateTimeEdit(Dt){return new qn(Dt)}static decimal(Dt){return new Gn(Dt)}static defaultUi(Dt){return new Yn(Dt)}static desc(Dt){return new er(Dt)}static digestMethod(Dt){return new cr(Dt)}static digestMethods(Dt){return new rr(Dt)}static draw(Dt){return new tr(Dt)}static edge(Dt){return new ir(Dt)}static encoding(Dt){return new Kn(Dt)}static encodings(Dt){return new Vn(Dt)}static encrypt(Dt){return new Bn(Dt)}static encryptData(Dt){return new lr(Dt)}static encryption(Dt){return new br(Dt)}static encryptionMethod(Dt){return new Pr(Dt)}static encryptionMethods(Dt){return new nr(Dt)}static event(Dt){return new _i(Dt)}static exData(Dt){return new zn(Dt)}static exObject(Dt){return new wr(Dt)}static exclGroup(Dt){return new Cr(Dt)}static execute(Dt){return new yr(Dt)}static extras(Dt){return new Br(Dt)}static field(Dt){return new gr(Dt)}static fill(Dt){return new Mr(Dt)}static filter(Dt){return new qr(Dt)}static float(Dt){return new pr(Dt)}static font(Dt){return new zr(Dt)}static format(Dt){return new Rr(Dt)}static handler(Dt){return new fs(Dt)}static hyphenation(Dt){return new Yr(Dt)}static image(Dt){return new Jr(Dt)}static imageEdit(Dt){return new Ur(Dt)}static integer(Dt){return new Is(Dt)}static issuers(Dt){return new _s(Dt)}static items(Dt){return new mr(Dt)}static keep(Dt){return new or(Dt)}static keyUsage(Dt){return new xr(Dt)}static line(Dt){return new vr(Dt)}static linear(Dt){return new Or(Dt)}static lockDocument(Dt){return new Gr(Dt)}static manifest(Dt){return new Ir(Dt)}static margin(Dt){return new kr(Dt)}static mdp(Dt){return new $r(Dt)}static medium(Dt){return new Hr(Dt)}static message(Dt){return new us(Dt)}static numericEdit(Dt){return new rs(Dt)}static occur(Dt){return new Xr(Dt)}static oid(Dt){return new Qn(Dt)}static oids(Dt){return new sr(Dt)}static overflow(Dt){return new fr(Dt)}static pageArea(Dt){return new ur(Dt)}static pageSet(Dt){return new _r(Dt)}static para(Dt){return new Qr(Dt)}static passwordEdit(Dt){return new Ps(Dt)}static pattern(Dt){return new es(Dt)}static picture(Dt){return new hs(Dt)}static proto(Dt){return new Ms(Dt)}static radial(Dt){return new Qs(Dt)}static reason(Dt){return new ko(Dt)}static reasons(Dt){return new Ip(Dt)}static rectangle(Dt){return new w1(Dt)}static ref(Dt){return new A1(Dt)}static script(Dt){return new S1(Dt)}static setProperty(Dt){return new C1(Dt)}static signData(Dt){return new Dp(Dt)}static signature(Dt){return new g0(Dt)}static signing(Dt){return new Lp(Dt)}static solid(Dt){return new E1(Dt)}static speak(Dt){return new k1(Dt)}static stipple(Dt){return new Np(Dt)}static subform(Dt){return new Lu(Dt)}static subformSet(Dt){return new m0(Dt)}static subjectDN(Dt){return new $p(Dt)}static subjectDNs(Dt){return new Dl(Dt)}static submit(Dt){return new Bp(Dt)}static template(Dt){return new Nu(Dt)}static text(Dt){return new F1(Dt)}static textEdit(Dt){return new iu(Dt)}static time(Dt){return new x0(Dt)}static timeStamp(Dt){return new jp(Dt)}static toolTip(Dt){return new T1(Dt)}static traversal(Dt){return new P1(Dt)}static traverse(Dt){return new b0(Dt)}static ui(Dt){return new y0(Dt)}static validate(Dt){return new Up(Dt)}static value(Dt){return new $u(Dt)}static variables(Dt){return new Rn(Dt)}}St.TemplateNamespace=Un},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.addHTML=xt,St.checkDimensions=jt,St.flushHTML=Pt,St.getAvailableSpace=$t;var vt=Ft(77),Et=Ft(84);function Mt(Rt,Nt){return{name:"div",attributes:{class:[Rt.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:Nt}}function Pt(Rt){if(!Rt[vt.$extra])return null;const Lt={name:"div",attributes:Rt[vt.$extra].attributes,children:Rt[vt.$extra].children};if(Rt[vt.$extra].failingNode){const kt=Rt[vt.$extra].failingNode[vt.$flushHTML]();kt&&(Rt.layout.endsWith("-tb")?Lt.children.push(Mt(Rt,[kt])):Lt.children.push(kt))}return Lt.children.length===0?null:Lt}function xt(Rt,Nt,Lt){const kt=Rt[vt.$extra],Bt=kt.availableSpace,[Ht,Ot,Vt,Gt]=Lt;switch(Rt.layout){case"position":{kt.width=Math.max(kt.width,Ht+Vt),kt.height=Math.max(kt.height,Ot+Gt),kt.children.push(Nt);break}case"lr-tb":case"rl-tb":(!kt.line||kt.attempt===1)&&(kt.line=Mt(Rt,[]),kt.children.push(kt.line),kt.numberInLine=0),kt.numberInLine+=1,kt.line.children.push(Nt),kt.attempt===0?(kt.currentWidth+=Vt,kt.height=Math.max(kt.height,kt.prevHeight+Gt)):(kt.currentWidth=Vt,kt.prevHeight=kt.height,kt.height+=Gt,kt.attempt=0),kt.width=Math.max(kt.width,kt.currentWidth);break;case"rl-row":case"row":{kt.children.push(Nt),kt.width+=Vt,kt.height=Math.max(kt.height,Gt);const Wt=(0,Et.measureToString)(kt.height);for(const en of kt.children)en.attributes.style.height=Wt;break}case"table":{kt.width=Math.min(Bt.width,Math.max(kt.width,Vt)),kt.height+=Gt,kt.children.push(Nt);break}case"tb":{kt.width=Math.min(Bt.width,Math.max(kt.width,Vt)),kt.height+=Gt,kt.children.push(Nt);break}}}function $t(Rt){const Nt=Rt[vt.$extra].availableSpace,Lt=Rt.margin?Rt.margin.topInset+Rt.margin.bottomInset:0,kt=Rt.margin?Rt.margin.leftInset+Rt.margin.rightInset:0;switch(Rt.layout){case"lr-tb":case"rl-tb":return Rt[vt.$extra].attempt===0?{width:Nt.width-kt-Rt[vt.$extra].currentWidth,height:Nt.height-Lt-Rt[vt.$extra].prevHeight}:{width:Nt.width-kt,height:Nt.height-Lt-Rt[vt.$extra].height};case"rl-row":case"row":return{width:Rt[vt.$extra].columnWidths.slice(Rt[vt.$extra].currentColumn).reduce((Ht,Ot)=>Ht+Ot),height:Nt.height-kt};case"table":case"tb":return{width:Nt.width-kt,height:Nt.height-Lt-Rt[vt.$extra].height};case"position":default:return Nt}}function _t(Rt){let Nt=Rt.w===""?NaN:Rt.w,Lt=Rt.h===""?NaN:Rt.h,[kt,Bt]=[0,0];switch(Rt.anchorType||""){case"bottomCenter":[kt,Bt]=[Nt/2,Lt];break;case"bottomLeft":[kt,Bt]=[0,Lt];break;case"bottomRight":[kt,Bt]=[Nt,Lt];break;case"middleCenter":[kt,Bt]=[Nt/2,Lt/2];break;case"middleLeft":[kt,Bt]=[0,Lt/2];break;case"middleRight":[kt,Bt]=[Nt,Lt/2];break;case"topCenter":[kt,Bt]=[Nt/2,0];break;case"topRight":[kt,Bt]=[Nt,0];break}let Ht,Ot;switch(Rt.rotate||0){case 0:[Ht,Ot]=[-kt,-Bt];break;case 90:[Ht,Ot]=[-Bt,kt],[Nt,Lt]=[Lt,-Nt];break;case 180:[Ht,Ot]=[kt,Bt],[Nt,Lt]=[-Nt,-Lt];break;case 270:[Ht,Ot]=[Bt,-kt],[Nt,Lt]=[-Lt,Nt];break}return[Rt.x+Ht+Math.min(0,Nt),Rt.y+Ot+Math.min(0,Lt),Math.abs(Nt),Math.abs(Lt)]}function jt(Rt,Nt){if(Rt[vt.$getTemplateRoot]()[vt.$extra].firstUnsplittable===null||Rt.w===0||Rt.h===0)return!0;const Lt=2,kt=Rt[vt.$getSubformParent](),Bt=kt[vt.$extra]&&kt[vt.$extra].attempt||0,[,Ht,Ot,Vt]=_t(Rt);switch(kt.layout){case"lr-tb":case"rl-tb":return Bt===0?Rt[vt.$getTemplateRoot]()[vt.$extra].noLayoutFailure?Rt.w!==""?Math.round(Ot-Nt.width)<=Lt:Nt.width>Lt:Rt.h!==""&&Math.round(Vt-Nt.height)>Lt?!1:Rt.w!==""?Math.round(Ot-Nt.width)<=Lt?!0:kt[vt.$extra].numberInLine===0?Nt.height>Lt:!1:Nt.width>Lt:Rt[vt.$getTemplateRoot]()[vt.$extra].noLayoutFailure?!0:Rt.h!==""&&Math.round(Vt-Nt.height)>Lt?!1:Rt.w===""||Math.round(Ot-Nt.width)<=Lt?Nt.height>Lt:kt[vt.$isThereMoreWidth]()?!1:Nt.height>Lt;case"table":case"tb":return Rt[vt.$getTemplateRoot]()[vt.$extra].noLayoutFailure?!0:Rt.h!==""&&!Rt[vt.$isSplittable]()?Math.round(Vt-Nt.height)<=Lt:Rt.w===""||Math.round(Ot-Nt.width)<=Lt?Nt.height>Lt:kt[vt.$isThereMoreWidth]()?!1:Nt.height>Lt;case"position":if(Rt[vt.$getTemplateRoot]()[vt.$extra].noLayoutFailure||Rt.h===""||Math.round(Vt+Ht-Nt.height)<=Lt)return!0;const Gt=Rt[vt.$getTemplateRoot]()[vt.$extra].currentContentArea;return Vt+Ht>Gt.h;case"rl-row":case"row":return Rt[vt.$getTemplateRoot]()[vt.$extra].noLayoutFailure?!0:Rt.h!==""?Math.round(Vt-Nt.height)<=Lt:!0;default:return!0}}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.computeBbox=Lt,St.createWrapper=Ot,St.fixDimensions=kt,St.fixTextIndent=Vt,St.fixURL=hn,St.isPrintOnly=Wt,St.layoutClass=Bt,St.layoutNode=Nt,St.measureToString=$t,St.setAccess=Gt,St.setFontFamily=sn,St.setMinMaxDimensions=jt,St.setPara=Sn,St.toStyle=Ht;var vt=Ft(77),Et=Ft(2),Mt=Ft(78),Pt=Ft(85),xt=Ft(86);function $t(Qt){return typeof Qt=="string"?"0px":Number.isInteger(Qt)?`${Qt}px`:`${Qt.toFixed(2)}px`}const _t={anchorType(Qt,qt){const nn=Qt[vt.$getSubformParent]();if(!(!nn||nn.layout&&nn.layout!=="position"))switch("transform"in qt||(qt.transform=""),Qt.anchorType){case"bottomCenter":qt.transform+="translate(-50%, -100%)";break;case"bottomLeft":qt.transform+="translate(0,-100%)";break;case"bottomRight":qt.transform+="translate(-100%,-100%)";break;case"middleCenter":qt.transform+="translate(-50%,-50%)";break;case"middleLeft":qt.transform+="translate(0,-50%)";break;case"middleRight":qt.transform+="translate(-100%,-50%)";break;case"topCenter":qt.transform+="translate(-50%,0)";break;case"topRight":qt.transform+="translate(-100%,0)";break}},dimensions(Qt,qt){const nn=Qt[vt.$getSubformParent]();let Ut=Qt.w;const zt=Qt.h;if(nn.layout&&nn.layout.includes("row")){const cn=nn[vt.$extra],ln=Qt.colSpan;let Kt;ln===-1?(Kt=cn.columnWidths.slice(cn.currentColumn).reduce((Jt,Yt)=>Jt+Yt,0),cn.currentColumn=0):(Kt=cn.columnWidths.slice(cn.currentColumn,cn.currentColumn+ln).reduce((Jt,Yt)=>Jt+Yt,0),cn.currentColumn=(cn.currentColumn+Qt.colSpan)%cn.columnWidths.length),isNaN(Kt)||(Ut=Qt.w=Kt)}Ut!==""?qt.width=$t(Ut):qt.width="auto",zt!==""?qt.height=$t(zt):qt.height="auto"},position(Qt,qt){const nn=Qt[vt.$getSubformParent]();nn&&nn.layout&&nn.layout!=="position"||(qt.position="absolute",qt.left=$t(Qt.x),qt.top=$t(Qt.y))},rotate(Qt,qt){Qt.rotate&&("transform"in qt||(qt.transform=""),qt.transform+=`rotate(-${Qt.rotate}deg)`,qt.transformOrigin="top left")},presence(Qt,qt){switch(Qt.presence){case"invisible":qt.visibility="hidden";break;case"hidden":case"inactive":qt.display="none";break}},hAlign(Qt,qt){if(Qt[vt.$nodeName]==="para")switch(Qt.hAlign){case"justifyAll":qt.textAlign="justify-all";break;case"radix":qt.textAlign="left";break;default:qt.textAlign=Qt.hAlign}else switch(Qt.hAlign){case"left":qt.alignSelf="start";break;case"center":qt.alignSelf="center";break;case"right":qt.alignSelf="end";break}},margin(Qt,qt){Qt.margin&&(qt.margin=Qt.margin[vt.$toStyle]().margin)}};function jt(Qt,qt){Qt[vt.$getSubformParent]().layout==="position"&&(Qt.minW>0&&(qt.minWidth=$t(Qt.minW)),Qt.maxW>0&&(qt.maxWidth=$t(Qt.maxW)),Qt.minH>0&&(qt.minHeight=$t(Qt.minH)),Qt.maxH>0&&(qt.maxHeight=$t(Qt.maxH)))}function Rt(Qt,qt,nn,Ut,zt,cn){const ln=new xt.TextMeasure(qt,nn,Ut,zt);return typeof Qt=="string"?ln.addString(Qt):Qt[vt.$pushGlyphs](ln),ln.compute(cn)}function Nt(Qt,qt){let nn=null,Ut=null,zt=!1;if((!Qt.w||!Qt.h)&&Qt.value){let cn=0,ln=0;Qt.margin&&(cn=Qt.margin.leftInset+Qt.margin.rightInset,ln=Qt.margin.topInset+Qt.margin.bottomInset);let Kt=null,Jt=null;Qt.para&&(Jt=Object.create(null),Kt=Qt.para.lineHeight===""?null:Qt.para.lineHeight,Jt.top=Qt.para.spaceAbove===""?0:Qt.para.spaceAbove,Jt.bottom=Qt.para.spaceBelow===""?0:Qt.para.spaceBelow,Jt.left=Qt.para.marginLeft===""?0:Qt.para.marginLeft,Jt.right=Qt.para.marginRight===""?0:Qt.para.marginRight);let Yt=Qt.font;if(!Yt){const yn=Qt[vt.$getTemplateRoot]();let xn=Qt[vt.$getParent]();for(;xn&&xn!==yn;){if(xn.font){Yt=xn.font;break}xn=xn[vt.$getParent]()}}const tn=(Qt.w||qt.width)-cn,un=Qt[vt.$globalData].fontFinder;if(Qt.value.exData&&Qt.value.exData[vt.$content]&&Qt.value.exData.contentType==="text/html"){const yn=Rt(Qt.value.exData[vt.$content],Yt,Jt,Kt,un,tn);Ut=yn.width,nn=yn.height,zt=yn.isBroken}else{const yn=Qt.value[vt.$text]();if(yn){const xn=Rt(yn,Yt,Jt,Kt,un,tn);Ut=xn.width,nn=xn.height,zt=xn.isBroken}}Ut!==null&&!Qt.w&&(Ut+=cn),nn!==null&&!Qt.h&&(nn+=ln)}return{w:Ut,h:nn,isBroken:zt}}function Lt(Qt,qt,nn){let Ut;if(Qt.w!==""&&Qt.h!=="")Ut=[Qt.x,Qt.y,Qt.w,Qt.h];else{if(!nn)return null;let zt=Qt.w;if(zt===""){if(Qt.maxW===0){const ln=Qt[vt.$getSubformParent]();ln.layout==="position"&&ln.w!==""?zt=0:zt=Qt.minW}else zt=Math.min(Qt.maxW,nn.width);qt.attributes.style.width=$t(zt)}let cn=Qt.h;if(cn===""){if(Qt.maxH===0){const ln=Qt[vt.$getSubformParent]();ln.layout==="position"&&ln.h!==""?cn=0:cn=Qt.minH}else cn=Math.min(Qt.maxH,nn.height);qt.attributes.style.height=$t(cn)}Ut=[Qt.x,Qt.y,zt,cn]}return Ut}function kt(Qt){const qt=Qt[vt.$getSubformParent]();if(qt.layout&&qt.layout.includes("row")){const nn=qt[vt.$extra],Ut=Qt.colSpan;let zt;Ut===-1?zt=nn.columnWidths.slice(nn.currentColumn).reduce((cn,ln)=>cn+ln,0):zt=nn.columnWidths.slice(nn.currentColumn,nn.currentColumn+Ut).reduce((cn,ln)=>cn+ln,0),isNaN(zt)||(Qt.w=zt)}qt.layout&&qt.layout!=="position"&&(Qt.x=Qt.y=0),Qt.layout==="table"&&Qt.w===""&&Array.isArray(Qt.columnWidths)&&(Qt.w=Qt.columnWidths.reduce((nn,Ut)=>nn+Ut,0))}function Bt(Qt){switch(Qt.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function Ht(Qt,...qt){const nn=Object.create(null);for(const Ut of qt){const zt=Qt[Ut];if(zt!==null){if(_t.hasOwnProperty(Ut)){_t[Ut](Qt,nn);continue}if(zt instanceof vt.XFAObject){const cn=zt[vt.$toStyle]();cn?Object.assign(nn,cn):(0,Et.warn)(`(DEBUG) - XFA - style for ${Ut} not implemented yet`)}}}return nn}function Ot(Qt,qt){const{attributes:nn}=qt,{style:Ut}=nn,zt={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(nn.class.push("xfaWrapped"),Qt.border){const{widths:cn,insets:ln}=Qt.border[vt.$extra];let Kt,Jt,Yt=ln[0],tn=ln[3];const un=ln[0]+ln[2],yn=ln[1]+ln[3];switch(Qt.border.hand){case"even":Yt-=cn[0]/2,tn-=cn[3]/2,Kt=`calc(100% + ${(cn[1]+cn[3])/2-yn}px)`,Jt=`calc(100% + ${(cn[0]+cn[2])/2-un}px)`;break;case"left":Yt-=cn[0],tn-=cn[3],Kt=`calc(100% + ${cn[1]+cn[3]-yn}px)`,Jt=`calc(100% + ${cn[0]+cn[2]-un}px)`;break;case"right":Kt=yn?`calc(100% - ${yn}px)`:"100%",Jt=un?`calc(100% - ${un}px)`:"100%";break}const xn=["xfaBorder"];Wt(Qt.border)&&xn.push("xfaPrintOnly");const rn={name:"div",attributes:{class:xn,style:{top:`${Yt}px`,left:`${tn}px`,width:Kt,height:Jt}},children:[]};for(const dn of["border","borderWidth","borderColor","borderRadius","borderStyle"])Ut[dn]!==void 0&&(rn.attributes.style[dn]=Ut[dn],delete Ut[dn]);zt.children.push(rn,qt)}else zt.children.push(qt);for(const cn of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])Ut[cn]!==void 0&&(zt.attributes.style[cn]=Ut[cn],delete Ut[cn]);return Ut.position==="absolute"?zt.attributes.style.position="absolute":zt.attributes.style.position="relative",delete Ut.position,Ut.alignSelf&&(zt.attributes.style.alignSelf=Ut.alignSelf,delete Ut.alignSelf),zt}function Vt(Qt){const qt=(0,Mt.getMeasurement)(Qt.textIndent,"0px");if(qt>=0)return;const Ut="padding"+((Qt.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),zt=(0,Mt.getMeasurement)(Qt[Ut],"0px");Qt[Ut]=`${zt-qt}px`}function Gt(Qt,qt){switch(Qt.access){case"nonInteractive":qt.push("xfaNonInteractive");break;case"readOnly":qt.push("xfaReadOnly");break;case"protected":qt.push("xfaDisabled");break}}function Wt(Qt){return Qt.relevant.length>0&&!Qt.relevant[0].excluded&&Qt.relevant[0].viewname==="print"}function en(Qt){const qt=Qt[vt.$getTemplateRoot]()[vt.$extra].paraStack;return qt.length?qt.at(-1):null}function Sn(Qt,qt,nn){if(nn.attributes.class&&nn.attributes.class.includes("xfaRich")){qt&&(Qt.h===""&&(qt.height="auto"),Qt.w===""&&(qt.width="auto"));const Ut=en(Qt);if(Ut){const zt=nn.attributes.style;switch(zt.display="flex",zt.flexDirection="column",Ut.vAlign){case"top":zt.justifyContent="start";break;case"bottom":zt.justifyContent="end";break;case"middle":zt.justifyContent="center";break}const cn=Ut[vt.$toStyle]();for(const[ln,Kt]of Object.entries(cn))ln in zt||(zt[ln]=Kt)}}}function sn(Qt,qt,nn,Ut){if(!nn){delete Ut.fontFamily;return}const zt=(0,Mt.stripQuotes)(Qt.typeface);Ut.fontFamily=`"${zt}"`;const cn=nn.find(zt);if(cn){const{fontFamily:ln}=cn.regular.cssFontInfo;ln!==zt&&(Ut.fontFamily=`"${ln}"`);const Kt=en(qt);if(Kt&&Kt.lineHeight!==""||Ut.lineHeight)return;const Jt=(0,Pt.selectFont)(Qt,cn);Jt&&(Ut.lineHeight=Math.max(1.2,Jt.lineHeight))}}function hn(Qt){const qt=(0,Et.createValidAbsoluteUrl)(Qt,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return qt?qt.href:null}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.FontFinder=void 0,St.getMetrics=$t,St.selectFont=xt;var vt=Ft(77),Et=Ft(78),Mt=Ft(2);class Pt{constructor(jt){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(jt)}add(jt,Rt=null){for(const Lt of jt)this.addPdfFont(Lt);for(const Lt of this.fonts.values())Lt.regular||(Lt.regular=Lt.italic||Lt.bold||Lt.bolditalic);if(!Rt||Rt.size===0)return;const Nt=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const Lt of Rt)this.fonts.set(Lt,Nt)}addPdfFont(jt){const Rt=jt.cssFontInfo,Nt=Rt.fontFamily;let Lt=this.fonts.get(Nt);Lt||(Lt=Object.create(null),this.fonts.set(Nt,Lt),this.defaultFont||(this.defaultFont=Lt));let kt="";const Bt=parseFloat(Rt.fontWeight);parseFloat(Rt.italicAngle)!==0?kt=Bt>=700?"bolditalic":"italic":Bt>=700&&(kt="bold"),kt||((jt.name.includes("Bold")||jt.psName&&jt.psName.includes("Bold"))&&(kt="bold"),(jt.name.includes("Italic")||jt.name.endsWith("It")||jt.psName&&(jt.psName.includes("Italic")||jt.psName.endsWith("It")))&&(kt+="italic")),kt||(kt="regular"),Lt[kt]=jt}getDefault(){return this.defaultFont}find(jt,Rt=!0){let Nt=this.fonts.get(jt)||this.cache.get(jt);if(Nt)return Nt;const Lt=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let kt=jt.replace(Lt,"");if(Nt=this.fonts.get(kt),Nt)return this.cache.set(jt,Nt),Nt;kt=kt.toLowerCase();const Bt=[];for(const[Ht,Ot]of this.fonts.entries())Ht.replace(Lt,"").toLowerCase().startsWith(kt)&&Bt.push(Ot);if(Bt.length===0)for(const[,Ht]of this.fonts.entries())Ht.regular.name&&Ht.regular.name.replace(Lt,"").toLowerCase().startsWith(kt)&&Bt.push(Ht);if(Bt.length===0){kt=kt.replace(/psmt|mt/gi,"");for(const[Ht,Ot]of this.fonts.entries())Ht.replace(Lt,"").toLowerCase().startsWith(kt)&&Bt.push(Ot)}if(Bt.length===0)for(const Ht of this.fonts.values())Ht.regular.name&&Ht.regular.name.replace(Lt,"").toLowerCase().startsWith(kt)&&Bt.push(Ht);return Bt.length>=1?(Bt.length!==1&&Rt&&(0,Mt.warn)(`XFA - Too many choices to guess the correct font: ${jt}`),this.cache.set(jt,Bt[0]),Bt[0]):(Rt&&!this.warned.has(jt)&&(this.warned.add(jt),(0,Mt.warn)(`XFA - Cannot find the font: ${jt}`)),null)}}St.FontFinder=Pt;function xt(_t,jt){return _t.posture==="italic"?_t.weight==="bold"?jt.bolditalic:jt.italic:_t.weight==="bold"?jt.bold:jt.regular}function $t(_t,jt=!1){let Rt=null;if(_t){const Bt=(0,Et.stripQuotes)(_t.typeface),Ht=_t[vt.$globalData].fontFinder.find(Bt);Rt=xt(_t,Ht)}if(!Rt)return{lineHeight:12,lineGap:2,lineNoGap:10};const Nt=_t.size||10,Lt=Rt.lineHeight?Math.max(jt?0:1.2,Rt.lineHeight):1.2,kt=Rt.lineGap===void 0?.2:Rt.lineGap;return{lineHeight:Lt*Nt,lineGap:kt*Nt,lineNoGap:Math.max(1,Lt-kt)*Nt}}},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.TextMeasure=void 0;var vt=Ft(85);const Et=1.02;class Mt{constructor(_t,jt,Rt,Nt){if(this.lineHeight=Rt,this.paraMargin=jt||{top:0,bottom:0,left:0,right:0},!_t){[this.pdfFont,this.xfaFont]=this.defaultFont(Nt);return}this.xfaFont={typeface:_t.typeface,posture:_t.posture,weight:_t.weight,size:_t.size,letterSpacing:_t.letterSpacing};const Lt=Nt.find(_t.typeface);if(!Lt){[this.pdfFont,this.xfaFont]=this.defaultFont(Nt);return}this.pdfFont=(0,vt.selectFont)(_t,Lt),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(Nt))}defaultFont(_t){const jt=_t.find("Helvetica",!1)||_t.find("Myriad Pro",!1)||_t.find("Arial",!1)||_t.getDefault();if(jt&&jt.regular){const Nt=jt.regular,kt={typeface:Nt.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[Nt,kt]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class Pt{constructor(_t,jt,Rt,Nt){this.fontFinder=Nt,this.stack=[new Mt(_t,jt,Rt,Nt)]}pushData(_t,jt,Rt){const Nt=this.stack.at(-1);for(const kt of["typeface","posture","weight","size","letterSpacing"])_t[kt]||(_t[kt]=Nt.xfaFont[kt]);for(const kt of["top","bottom","left","right"])isNaN(jt[kt])&&(jt[kt]=Nt.paraMargin[kt]);const Lt=new Mt(_t,jt,Rt||Nt.lineHeight,this.fontFinder);Lt.pdfFont||(Lt.pdfFont=Nt.pdfFont),this.stack.push(Lt)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class xt{constructor(_t,jt,Rt,Nt){this.glyphs=[],this.fontSelector=new Pt(_t,jt,Rt,Nt),this.extraHeight=0}pushData(_t,jt,Rt){this.fontSelector.pushData(_t,jt,Rt)}popFont(_t){return this.fontSelector.popFont()}addPara(){const _t=this.fontSelector.topFont();this.extraHeight+=_t.paraMargin.top+_t.paraMargin.bottom}addString(_t){if(!_t)return;const jt=this.fontSelector.topFont(),Rt=jt.xfaFont.size;if(jt.pdfFont){const Nt=jt.xfaFont.letterSpacing,Lt=jt.pdfFont,kt=Lt.lineHeight||1.2,Bt=jt.lineHeight||Math.max(1.2,kt)*Rt,Ht=Lt.lineGap===void 0?.2:Lt.lineGap,Ot=kt-Ht,Vt=Math.max(1,Ot)*Rt,Gt=Rt/1e3,Wt=Lt.defaultWidth||Lt.charsToGlyphs(" ")[0].width;for(const en of _t.split(/[\u2029\n]/)){const Sn=Lt.encodeString(en).join(""),sn=Lt.charsToGlyphs(Sn);for(const hn of sn){const Qt=hn.width||Wt;this.glyphs.push([Qt*Gt+Nt,Bt,Vt,hn.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const Nt of _t.split(/[\u2029\n]/)){for(const Lt of Nt.split(""))this.glyphs.push([Rt,1.2*Rt,Rt,Lt,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(_t){let jt=-1,Rt=0,Nt=0,Lt=0,kt=0,Bt=0,Ht=!1,Ot=!0;for(let Vt=0,Gt=this.glyphs.length;Vt<Gt;Vt++){const[Wt,en,Sn,sn,hn]=this.glyphs[Vt],Qt=sn===" ",qt=Ot?Sn:en;if(hn){Nt=Math.max(Nt,kt),kt=0,Lt+=Bt,Bt=qt,jt=-1,Rt=0,Ot=!1;continue}if(Qt){kt+Wt>_t?(Nt=Math.max(Nt,kt),kt=0,Lt+=Bt,Bt=qt,jt=-1,Rt=0,Ht=!0,Ot=!1):(Bt=Math.max(qt,Bt),Rt=kt,kt+=Wt,jt=Vt);continue}if(kt+Wt>_t){Lt+=Bt,Bt=qt,jt!==-1?(Vt=jt,Nt=Math.max(Nt,Rt),kt=0,jt=-1,Rt=0):(Nt=Math.max(Nt,kt),kt=Wt),Ht=!0,Ot=!1;continue}kt+=Wt,Bt=Math.max(qt,Bt)}return Nt=Math.max(Nt,kt),Lt+=Bt+this.extraHeight,{width:Et*Nt,height:Lt,isBroken:Ht}}}St.TextMeasure=xt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.DataHandler=void 0;var vt=Ft(77);class Et{constructor(Pt,xt){this.data=xt,this.dataset=Pt.datasets||null}serialize(Pt){const xt=[[-1,this.data[vt.$getChildren]()]];for(;xt.length>0;){const _t=xt.at(-1),[jt,Rt]=_t;if(jt+1===Rt.length){xt.pop();continue}const Nt=Rt[++_t[0]],Lt=Pt.get(Nt[vt.$uid]);if(Lt)Nt[vt.$setValue](Lt);else{const Bt=Nt[vt.$getAttributes]();for(const Ht of Bt.values()){const Ot=Pt.get(Ht[vt.$uid]);if(Ot){Ht[vt.$setValue](Ot);break}}}const kt=Nt[vt.$getChildren]();kt.length>0&&xt.push([-1,kt])}const $t=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const _t of this.dataset[vt.$getChildren]())_t[vt.$nodeName]!=="data"&&_t[vt.$toString]($t);return this.data[vt.$toString]($t),$t.push("</xfa:datasets>"),$t.join("")}}St.DataHandler=Et},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.XFAParser=void 0;var vt=Ft(77),Et=Ft(66),Mt=Ft(89),Pt=Ft(2);class xt extends Et.XMLParserBase{constructor(_t=null,jt=!1){super(),this._builder=new Mt.Builder(_t),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=Et.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=jt}parse(_t){if(this.parseXml(_t),this._errorCode===Et.XMLParserErrorCode.NoError)return this._current[vt.$finalize](),this._current.element}onText(_t){if(_t=_t.replace(this._nbsps,jt=>jt.slice(1)+" "),this._richText||this._current[vt.$acceptWhitespace]()){this._current[vt.$onText](_t,this._richText);return}this._whiteRegex.test(_t)||this._current[vt.$onText](_t.trim())}onCdata(_t){this._current[vt.$onText](_t)}_mkAttributes(_t,jt){let Rt=null,Nt=null;const Lt=Object.create({});for(const{name:kt,value:Bt}of _t)if(kt==="xmlns")Rt?(0,Pt.warn)(`XFA - multiple namespace definition in <${jt}>`):Rt=Bt;else if(kt.startsWith("xmlns:")){const Ht=kt.substring(6);Nt||(Nt=[]),Nt.push({prefix:Ht,value:Bt})}else{const Ht=kt.indexOf(":");if(Ht===-1)Lt[kt]=Bt;else{let Ot=Lt[vt.$nsAttributes];Ot||(Ot=Lt[vt.$nsAttributes]=Object.create(null));const[Vt,Gt]=[kt.slice(0,Ht),kt.slice(Ht+1)];let Wt=Ot[Vt];Wt||(Wt=Ot[Vt]=Object.create(null)),Wt[Gt]=Bt}}return[Rt,Nt,Lt]}_getNameAndPrefix(_t,jt){const Rt=_t.indexOf(":");return Rt===-1?[_t,null]:[_t.substring(Rt+1),jt?"":_t.substring(0,Rt)]}onBeginElement(_t,jt,Rt){const[Nt,Lt,kt]=this._mkAttributes(jt,_t),[Bt,Ht]=this._getNameAndPrefix(_t,this._builder.isNsAgnostic()),Ot=this._builder.build({nsPrefix:Ht,name:Bt,attributes:kt,namespace:Nt,prefixes:Lt});if(Ot[vt.$globalData]=this._globalData,Rt){Ot[vt.$finalize](),this._current[vt.$onChild](Ot)&&Ot[vt.$setId](this._ids),Ot[vt.$clean](this._builder);return}this._stack.push(this._current),this._current=Ot}onEndElement(_t){const jt=this._current;if(jt[vt.$isCDATAXml]()&&typeof jt[vt.$content]=="string"){const Rt=new xt;Rt._globalData=this._globalData;const Nt=Rt.parse(jt[vt.$content]);jt[vt.$content]=null,jt[vt.$onChild](Nt)}jt[vt.$finalize](),this._current=this._stack.pop(),this._current[vt.$onChild](jt)&&jt[vt.$setId](this._ids),jt[vt.$clean](this._builder)}onError(_t){this._errorCode=_t}}St.XFAParser=xt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.Builder=void 0;var vt=Ft(79),Et=Ft(77),Mt=Ft(90),Pt=Ft(82),xt=Ft(99),$t=Ft(2);class _t extends Et.XFAObject{constructor(Lt){super(-1,"root",Object.create(null)),this.element=null,this[Et.$ids]=Lt}[Et.$onChild](Lt){return this.element=Lt,!0}[Et.$finalize](){super[Et.$finalize](),this.element.template instanceof Pt.Template&&(this[Et.$ids].set(Et.$root,this.element),this.element.template[Et.$resolvePrototypes](this[Et.$ids]),this.element.template[Et.$ids]=this[Et.$ids])}}class jt extends Et.XFAObject{constructor(){super(-1,"",Object.create(null))}[Et.$onChild](Lt){return!1}}class Rt{constructor(Lt=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(vt.NamespaceIds).map(({id:kt})=>kt)),this._currentNamespace=Lt||new xt.UnknownNamespace(++this._nextNsId)}buildRoot(Lt){return new _t(Lt)}build({nsPrefix:Lt,name:kt,attributes:Bt,namespace:Ht,prefixes:Ot}){const Vt=Ht!==null;if(Vt&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(Ht)),Ot&&this._addNamespacePrefix(Ot),Bt.hasOwnProperty(Et.$nsAttributes)){const en=Mt.NamespaceSetUp.datasets,Sn=Bt[Et.$nsAttributes];let sn=null;for(const[hn,Qt]of Object.entries(Sn))if(this._getNamespaceToUse(hn)===en){sn={xfa:Qt};break}sn?Bt[Et.$nsAttributes]=sn:delete Bt[Et.$nsAttributes]}const Gt=this._getNamespaceToUse(Lt),Wt=Gt&&Gt[vt.$buildXFAObject](kt,Bt)||new jt;return Wt[Et.$isNsAgnostic]()&&this._nsAgnosticLevel++,(Vt||Ot||Wt[Et.$isNsAgnostic]())&&(Wt[Et.$cleanup]={hasNamespace:Vt,prefixes:Ot,nsAgnostic:Wt[Et.$isNsAgnostic]()}),Wt}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(Lt){let kt=this._namespaces.get(Lt);if(kt)return kt;for(const[Bt,{check:Ht}]of Object.entries(vt.NamespaceIds))if(Ht(Lt)){if(kt=Mt.NamespaceSetUp[Bt],kt)return this._namespaces.set(Lt,kt),kt;break}return kt=new xt.UnknownNamespace(++this._nextNsId),this._namespaces.set(Lt,kt),kt}_addNamespacePrefix(Lt){for(const{prefix:kt,value:Bt}of Lt){const Ht=this._searchNamespace(Bt);let Ot=this._namespacePrefixes.get(kt);Ot||(Ot=[],this._namespacePrefixes.set(kt,Ot)),Ot.push(Ht)}}_getNamespaceToUse(Lt){if(!Lt)return this._currentNamespace;const kt=this._namespacePrefixes.get(Lt);return kt&&kt.length>0?kt.at(-1):((0,$t.warn)(`Unknown namespace prefix: ${Lt}.`),null)}clean(Lt){const{hasNamespace:kt,prefixes:Bt,nsAgnostic:Ht}=Lt;kt&&(this._currentNamespace=this._namespaceStack.pop()),Bt&&Bt.forEach(({prefix:Ot})=>{this._namespacePrefixes.get(Ot).pop()}),Ht&&this._nsAgnosticLevel--}}St.Builder=Rt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.NamespaceSetUp=void 0;var vt=Ft(91),Et=Ft(92),Mt=Ft(93),Pt=Ft(94),xt=Ft(95),$t=Ft(96),_t=Ft(82),jt=Ft(97),Rt=Ft(98);const Nt={config:vt.ConfigNamespace,connection:Et.ConnectionSetNamespace,datasets:Mt.DatasetsNamespace,localeSet:Pt.LocaleSetNamespace,signature:xt.SignatureNamespace,stylesheet:$t.StylesheetNamespace,template:_t.TemplateNamespace,xdp:jt.XdpNamespace,xhtml:Rt.XhtmlNamespace};St.NamespaceSetUp=Nt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.ConfigNamespace=void 0;var vt=Ft(79),Et=Ft(77),Mt=Ft(78),Pt=Ft(2);const xt=vt.NamespaceIds.config.id;class $t extends Et.XFAObject{constructor(mn){super(xt,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new Et.XFAObjectArray}}class _t extends Et.XFAObject{constructor(mn){super(xt,"acrobat7",!0),this.dynamicRender=null}}class jt extends Et.OptionObject{constructor(mn){super(xt,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class Rt extends Et.OptionObject{constructor(mn){super(xt,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class Nt extends Et.Option01{constructor(mn){super(xt,"addSilentPrint")}}class Lt extends Et.Option01{constructor(mn){super(xt,"addViewerPreferences")}}class kt extends Et.Option10{constructor(mn){super(xt,"adjustData")}}class Bt extends Et.IntegerObject{constructor(mn){super(xt,"adobeExtensionLevel",0,Nn=>Nn>=1&&Nn<=8)}}class Ht extends Et.XFAObject{constructor(mn){super(xt,"agent",!0),this.name=mn.name?mn.name.trim():"",this.common=new Et.XFAObjectArray}}class Ot extends Et.ContentObject{constructor(mn){super(xt,"alwaysEmbed")}}class Vt extends Et.StringObject{constructor(mn){super(xt,"amd")}}class Gt extends Et.XFAObject{constructor(mn){super(xt,"area"),this.level=(0,Mt.getInteger)({data:mn.level,defaultValue:0,validate:Nn=>Nn>=1&&Nn<=3}),this.name=(0,Mt.getStringOption)(mn.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class Wt extends Et.OptionObject{constructor(mn){super(xt,"attributes",["preserve","delegate","ignore"])}}class en extends Et.OptionObject{constructor(mn){super(xt,"autoSave",["disabled","enabled"])}}class Sn extends Et.StringObject{constructor(mn){super(xt,"base")}}class sn extends Et.XFAObject{constructor(mn){super(xt,"batchOutput"),this.format=(0,Mt.getStringOption)(mn.format,["none","concat","zip","zipCompress"])}}class hn extends Et.ContentObject{constructor(mn){super(xt,"behaviorOverride")}[Et.$finalize](){this[Et.$content]=new Map(this[Et.$content].trim().split(/\s+/).filter(mn=>mn.includes(":")).map(mn=>mn.split(":",2)))}}class Qt extends Et.XFAObject{constructor(mn){super(xt,"cache",!0),this.templateCache=null}}class qt extends Et.Option01{constructor(mn){super(xt,"change")}}class nn extends Et.XFAObject{constructor(mn){super(xt,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new Et.XFAObjectArray}}class Ut extends Et.XFAObject{constructor(mn){super(xt,"compress"),this.scope=(0,Mt.getStringOption)(mn.scope,["imageOnly","document"])}}class zt extends Et.Option01{constructor(mn){super(xt,"compressLogicalStructure")}}class cn extends Et.Option10{constructor(mn){super(xt,"compressObjectStream")}}class ln extends Et.XFAObject{constructor(mn){super(xt,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class Kt extends Et.XFAObject{constructor(mn){super(xt,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new Et.XFAObjectArray}}class Jt extends Et.OptionObject{constructor(mn){super(xt,"conformance",["A","B"])}}class Yt extends Et.Option01{constructor(mn){super(xt,"contentCopy")}}class tn extends Et.IntegerObject{constructor(mn){super(xt,"copies",1,Nn=>Nn>=1)}}class un extends Et.StringObject{constructor(mn){super(xt,"creator")}}class yn extends Et.IntegerObject{constructor(mn){super(xt,"currentPage",0,Nn=>Nn>=0)}}class xn extends Et.XFAObject{constructor(mn){super(xt,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new Et.XFAObjectArray,this.transform=new Et.XFAObjectArray}}class rn extends Et.XFAObject{constructor(mn){super(xt,"debug",!0),this.uri=null}}class dn extends Et.ContentObject{constructor(mn){super(xt,"defaultTypeface"),this.writingScript=(0,Mt.getStringOption)(mn.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class An extends Et.OptionObject{constructor(mn){super(xt,"destination",["pdf","pcl","ps","webClient","zpl"])}}class an extends Et.Option01{constructor(mn){super(xt,"documentAssembly")}}class fn extends Et.XFAObject{constructor(mn){super(xt,"driver",!0),this.name=mn.name?mn.name.trim():"",this.fontInfo=null,this.xdc=null}}class bn extends Et.OptionObject{constructor(mn){super(xt,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class vn extends Et.OptionObject{constructor(mn){super(xt,"dynamicRender",["forbidden","required"])}}class gn extends Et.Option01{constructor(mn){super(xt,"embed")}}class on extends Et.Option01{constructor(mn){super(xt,"encrypt")}}class wn extends Et.XFAObject{constructor(mn){super(xt,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class pn extends Et.OptionObject{constructor(mn){super(xt,"encryptionLevel",["40bit","128bit"])}}class Cn extends Et.StringObject{constructor(mn){super(xt,"enforce")}}class Tn extends Et.XFAObject{constructor(mn){super(xt,"equate"),this.force=(0,Mt.getInteger)({data:mn.force,defaultValue:1,validate:Nn=>Nn===0}),this.from=mn.from||"",this.to=mn.to||""}}class Fn extends Et.XFAObject{constructor(mn){super(xt,"equateRange"),this.from=mn.from||"",this.to=mn.to||"",this._unicodeRange=mn.unicodeRange||""}get unicodeRange(){const mn=[],Nn=/U\+([0-9a-fA-F]+)/,Hn=this._unicodeRange;for(let Xn of Hn.split(",").map(Wn=>Wn.trim()).filter(Wn=>!!Wn))Xn=Xn.split("-",2).map(Wn=>{const Jn=Wn.match(Nn);return Jn?parseInt(Jn[1],16):0}),Xn.length===1&&Xn.push(Xn[0]),mn.push(Xn);return(0,Pt.shadow)(this,"unicodeRange",mn)}}class En extends Et.ContentObject{constructor(mn){super(xt,"exclude")}[Et.$finalize](){this[Et.$content]=this[Et.$content].trim().split(/\s+/).filter(mn=>mn&&["calculate","close","enter","exit","initialize","ready","validate"].includes(mn))}}class kn extends Et.StringObject{constructor(mn){super(xt,"excludeNS")}}class Pn extends Et.OptionObject{constructor(mn){super(xt,"flipLabel",["usePrinterSetting","on","off"])}}class _n extends Et.XFAObject{constructor(mn){super(xt,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new Et.XFAObjectArray,this.defaultTypeface=new Et.XFAObjectArray,this.neverEmbed=new Et.XFAObjectArray}}class Mn extends Et.Option01{constructor(mn){super(xt,"formFieldFilling")}}class On extends Et.StringObject{constructor(mn){super(xt,"groupParent")}}class jn extends Et.OptionObject{constructor(mn){super(xt,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class qn extends Et.StringObject{constructor(mn){super(xt,"includeXDPContent")}}class Gn extends Et.OptionObject{constructor(mn){super(xt,"incrementalLoad",["none","forwardOnly"])}}class Yn extends Et.Option01{constructor(mn){super(xt,"incrementalMerge")}}class er extends Et.Option01{constructor(mn){super(xt,"interactive")}}class cr extends Et.OptionObject{constructor(mn){super(xt,"jog",["usePrinterSetting","none","pageSet"])}}class rr extends Et.XFAObject{constructor(mn){super(xt,"labelPrinter",!0),this.name=(0,Mt.getStringOption)(mn.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class tr extends Et.OptionObject{constructor(mn){super(xt,"layout",["paginate","panel"])}}class ir extends Et.IntegerObject{constructor(mn){super(xt,"level",0,Nn=>Nn>0)}}class Kn extends Et.Option01{constructor(mn){super(xt,"linearized")}}class Vn extends Et.StringObject{constructor(mn){super(xt,"locale")}}class Bn extends Et.StringObject{constructor(mn){super(xt,"localeSet")}}class lr extends Et.XFAObject{constructor(mn){super(xt,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class br extends Et.XFAObject{constructor(mn){super(xt,"map",!0),this.equate=new Et.XFAObjectArray,this.equateRange=new Et.XFAObjectArray}}class Pr extends Et.XFAObject{constructor(mn){super(xt,"mediumInfo",!0),this.map=null}}class nr extends Et.XFAObject{constructor(mn){super(xt,"message",!0),this.msgId=null,this.severity=null}}class _i extends Et.XFAObject{constructor(mn){super(xt,"messaging",!0),this.message=new Et.XFAObjectArray}}class zn extends Et.OptionObject{constructor(mn){super(xt,"mode",["append","overwrite"])}}class wr extends Et.Option01{constructor(mn){super(xt,"modifyAnnots")}}class Cr extends Et.IntegerObject{constructor(mn){super(xt,"msgId",1,Nn=>Nn>=1)}}class yr extends Et.StringObject{constructor(mn){super(xt,"nameAttr")}}class Br extends Et.ContentObject{constructor(mn){super(xt,"neverEmbed")}}class gr extends Et.IntegerObject{constructor(mn){super(xt,"numberOfCopies",null,Nn=>Nn>=2&&Nn<=5)}}class Mr extends Et.XFAObject{constructor(mn){super(xt,"openAction",!0),this.destination=null}}class qr extends Et.XFAObject{constructor(mn){super(xt,"output",!0),this.to=null,this.type=null,this.uri=null}}class pr extends Et.StringObject{constructor(mn){super(xt,"outputBin")}}class zr extends Et.XFAObject{constructor(mn){super(xt,"outputXSL",!0),this.uri=null}}class Rr extends Et.OptionObject{constructor(mn){super(xt,"overprint",["none","both","draw","field"])}}class fs extends Et.StringObject{constructor(mn){super(xt,"packets")}[Et.$finalize](){this[Et.$content]!=="*"&&(this[Et.$content]=this[Et.$content].trim().split(/\s+/).filter(mn=>["config","datasets","template","xfdf","xslt"].includes(mn)))}}class Yr extends Et.XFAObject{constructor(mn){super(xt,"pageOffset"),this.x=(0,Mt.getInteger)({data:mn.x,defaultValue:"useXDCSetting",validate:Nn=>!0}),this.y=(0,Mt.getInteger)({data:mn.y,defaultValue:"useXDCSetting",validate:Nn=>!0})}}class Jr extends Et.StringObject{constructor(mn){super(xt,"pageRange")}[Et.$finalize](){const mn=this[Et.$content].trim().split(/\s+/).map(Hn=>parseInt(Hn,10)),Nn=[];for(let Hn=0,Xn=mn.length;Hn<Xn;Hn+=2)Nn.push(mn.slice(Hn,Hn+2));this[Et.$content]=Nn}}class Ur extends Et.OptionObject{constructor(mn){super(xt,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class Is extends Et.OptionObject{constructor(mn){super(xt,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class _s extends Et.IntegerObject{constructor(mn){super(xt,"part",1,Nn=>!1)}}class mr extends Et.XFAObject{constructor(mn){super(xt,"pcl",!0),this.name=mn.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class or extends Et.XFAObject{constructor(mn){super(xt,"pdf",!0),this.name=mn.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class xr extends Et.XFAObject{constructor(mn){super(xt,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class vr extends Et.XFAObject{constructor(mn){super(xt,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class Or extends Et.Option01{constructor(mn){super(xt,"pickTrayByPDFSize")}}class Gr extends Et.StringObject{constructor(mn){super(xt,"picture")}}class Ir extends Et.Option01{constructor(mn){super(xt,"plaintextMetadata")}}class kr extends Et.OptionObject{constructor(mn){super(xt,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class $r extends Et.XFAObject{constructor(mn){super(xt,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new Et.XFAObjectArray,this.labelPrinter=new Et.XFAObjectArray,this.pcl=new Et.XFAObjectArray,this.pdf=new Et.XFAObjectArray,this.ps=new Et.XFAObjectArray,this.submitUrl=new Et.XFAObjectArray,this.webClient=new Et.XFAObjectArray,this.zpl=new Et.XFAObjectArray}}class Hr extends Et.Option01{constructor(mn){super(xt,"print")}}class us extends Et.Option01{constructor(mn){super(xt,"printHighQuality")}}class rs extends Et.OptionObject{constructor(mn){super(xt,"printScaling",["appdefault","noScaling"])}}class Xr extends Et.StringObject{constructor(mn){super(xt,"printerName")}}class Qn extends Et.StringObject{constructor(mn){super(xt,"producer")}}class sr extends Et.XFAObject{constructor(mn){super(xt,"ps",!0),this.name=mn.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class fr extends Et.ContentObject{constructor(mn){super(xt,"range")}[Et.$finalize](){this[Et.$content]=this[Et.$content].trim().split(/\s*,\s*/,2).map(mn=>mn.split("-").map(Nn=>parseInt(Nn.trim(),10))).filter(mn=>mn.every(Nn=>!isNaN(Nn))).map(mn=>(mn.length===1&&mn.push(mn[0]),mn))}}class ur extends Et.ContentObject{constructor(mn){super(xt,"record")}[Et.$finalize](){this[Et.$content]=this[Et.$content].trim();const mn=parseInt(this[Et.$content],10);!isNaN(mn)&&mn>=0&&(this[Et.$content]=mn)}}class _r extends Et.ContentObject{constructor(mn){super(xt,"relevant")}[Et.$finalize](){this[Et.$content]=this[Et.$content].trim().split(/\s+/)}}class Qr extends Et.ContentObject{constructor(mn){super(xt,"rename")}[Et.$finalize](){this[Et.$content]=this[Et.$content].trim(),(this[Et.$content].toLowerCase().startsWith("xml")||this[Et.$content].match(new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u")))&&(0,Pt.warn)("XFA - Rename: invalid XFA name")}}class Ps extends Et.OptionObject{constructor(mn){super(xt,"renderPolicy",["server","client"])}}class es extends Et.OptionObject{constructor(mn){super(xt,"runScripts",["both","client","none","server"])}}class hs extends Et.XFAObject{constructor(mn){super(xt,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class Ms extends Et.OptionObject{constructor(mn){super(xt,"scriptModel",["XFA","none"])}}class Qs extends Et.OptionObject{constructor(mn){super(xt,"severity",["ignore","error","information","trace","warning"])}}class ko extends Et.XFAObject{constructor(mn){super(xt,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Ip extends Et.XFAObject{constructor(mn){super(xt,"staple"),this.mode=(0,Mt.getStringOption)(mn.mode,["usePrinterSetting","on","off"])}}class w1 extends Et.StringObject{constructor(mn){super(xt,"startNode")}}class A1 extends Et.IntegerObject{constructor(mn){super(xt,"startPage",0,Nn=>!0)}}class S1 extends Et.OptionObject{constructor(mn){super(xt,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class C1 extends Et.StringObject{constructor(mn){super(xt,"submitUrl")}}class Dp extends Et.IntegerObject{constructor(mn){super(xt,"subsetBelow",100,Nn=>Nn>=0&&Nn<=100)}}class g0 extends Et.Option01{constructor(mn){super(xt,"suppressBanner")}}class Lp extends Et.Option01{constructor(mn){super(xt,"tagged")}}class E1 extends Et.XFAObject{constructor(mn){super(xt,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class k1 extends Et.OptionObject{constructor(mn){super(xt,"threshold",["trace","error","information","warning"])}}class Np extends Et.OptionObject{constructor(mn){super(xt,"to",["null","memory","stderr","stdout","system","uri"])}}class Lu extends Et.XFAObject{constructor(mn){super(xt,"templateCache"),this.maxEntries=(0,Mt.getInteger)({data:mn.maxEntries,defaultValue:5,validate:Nn=>Nn>=0})}}class m0 extends Et.XFAObject{constructor(mn){super(xt,"trace",!0),this.area=new Et.XFAObjectArray}}class $p extends Et.XFAObject{constructor(mn){super(xt,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Dl extends Et.OptionObject{constructor(mn){super(xt,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Bp extends Et.StringObject{constructor(mn){super(xt,"uri")}}class Nu extends Et.OptionObject{constructor(mn){super(xt,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class F1 extends Et.ContentObject{constructor(mn){super(xt,"validateApprovalSignatures")}[Et.$finalize](){this[Et.$content]=this[Et.$content].trim().split(/\s+/).filter(mn=>["docReady","postSign"].includes(mn))}}class iu extends Et.OptionObject{constructor(mn){super(xt,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class x0 extends Et.OptionObject{constructor(mn){super(xt,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class jp extends Et.XFAObject{constructor(mn){super(xt,"VersionControl"),this.outputBelow=(0,Mt.getStringOption)(mn.outputBelow,["warn","error","update"]),this.sourceAbove=(0,Mt.getStringOption)(mn.sourceAbove,["warn","error"]),this.sourceBelow=(0,Mt.getStringOption)(mn.sourceBelow,["update","maintain"])}}class T1 extends Et.XFAObject{constructor(mn){super(xt,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class P1 extends Et.XFAObject{constructor(mn){super(xt,"webClient",!0),this.name=mn.name?mn.name.trim():"",this.fontInfo=null,this.xdc=null}}class b0 extends Et.OptionObject{constructor(mn){super(xt,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class y0 extends Et.ContentObject{constructor(mn){super(xt,"window")}[Et.$finalize](){const mn=this[Et.$content].trim().split(/\s*,\s*/,2).map(Nn=>parseInt(Nn,10));if(mn.some(Nn=>isNaN(Nn))){this[Et.$content]=[0,0];return}mn.length===1&&mn.push(mn[0]),this[Et.$content]=mn}}class Up extends Et.XFAObject{constructor(mn){super(xt,"xdc",!0),this.uri=new Et.XFAObjectArray,this.xsl=new Et.XFAObjectArray}}class $u extends Et.XFAObject{constructor(mn){super(xt,"xdp",!0),this.packets=null}}class Rn extends Et.XFAObject{constructor(mn){super(xt,"xsl",!0),this.debug=null,this.uri=null}}class Un extends Et.XFAObject{constructor(mn){super(xt,"zpl",!0),this.name=mn.name?mn.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class In{static[vt.$buildXFAObject](mn,Nn){if(In.hasOwnProperty(mn))return In[mn](Nn)}static acrobat(mn){return new $t(mn)}static acrobat7(mn){return new _t(mn)}static ADBE_JSConsole(mn){return new jt(mn)}static ADBE_JSDebugger(mn){return new Rt(mn)}static addSilentPrint(mn){return new Nt(mn)}static addViewerPreferences(mn){return new Lt(mn)}static adjustData(mn){return new kt(mn)}static adobeExtensionLevel(mn){return new Bt(mn)}static agent(mn){return new Ht(mn)}static alwaysEmbed(mn){return new Ot(mn)}static amd(mn){return new Vt(mn)}static area(mn){return new Gt(mn)}static attributes(mn){return new Wt(mn)}static autoSave(mn){return new en(mn)}static base(mn){return new Sn(mn)}static batchOutput(mn){return new sn(mn)}static behaviorOverride(mn){return new hn(mn)}static cache(mn){return new Qt(mn)}static change(mn){return new qt(mn)}static common(mn){return new nn(mn)}static compress(mn){return new Ut(mn)}static compressLogicalStructure(mn){return new zt(mn)}static compressObjectStream(mn){return new cn(mn)}static compression(mn){return new ln(mn)}static config(mn){return new Kt(mn)}static conformance(mn){return new Jt(mn)}static contentCopy(mn){return new Yt(mn)}static copies(mn){return new tn(mn)}static creator(mn){return new un(mn)}static currentPage(mn){return new yn(mn)}static data(mn){return new xn(mn)}static debug(mn){return new rn(mn)}static defaultTypeface(mn){return new dn(mn)}static destination(mn){return new An(mn)}static documentAssembly(mn){return new an(mn)}static driver(mn){return new fn(mn)}static duplexOption(mn){return new bn(mn)}static dynamicRender(mn){return new vn(mn)}static embed(mn){return new gn(mn)}static encrypt(mn){return new on(mn)}static encryption(mn){return new wn(mn)}static encryptionLevel(mn){return new pn(mn)}static enforce(mn){return new Cn(mn)}static equate(mn){return new Tn(mn)}static equateRange(mn){return new Fn(mn)}static exclude(mn){return new En(mn)}static excludeNS(mn){return new kn(mn)}static flipLabel(mn){return new Pn(mn)}static fontInfo(mn){return new _n(mn)}static formFieldFilling(mn){return new Mn(mn)}static groupParent(mn){return new On(mn)}static ifEmpty(mn){return new jn(mn)}static includeXDPContent(mn){return new qn(mn)}static incrementalLoad(mn){return new Gn(mn)}static incrementalMerge(mn){return new Yn(mn)}static interactive(mn){return new er(mn)}static jog(mn){return new cr(mn)}static labelPrinter(mn){return new rr(mn)}static layout(mn){return new tr(mn)}static level(mn){return new ir(mn)}static linearized(mn){return new Kn(mn)}static locale(mn){return new Vn(mn)}static localeSet(mn){return new Bn(mn)}static log(mn){return new lr(mn)}static map(mn){return new br(mn)}static mediumInfo(mn){return new Pr(mn)}static message(mn){return new nr(mn)}static messaging(mn){return new _i(mn)}static mode(mn){return new zn(mn)}static modifyAnnots(mn){return new wr(mn)}static msgId(mn){return new Cr(mn)}static nameAttr(mn){return new yr(mn)}static neverEmbed(mn){return new Br(mn)}static numberOfCopies(mn){return new gr(mn)}static openAction(mn){return new Mr(mn)}static output(mn){return new qr(mn)}static outputBin(mn){return new pr(mn)}static outputXSL(mn){return new zr(mn)}static overprint(mn){return new Rr(mn)}static packets(mn){return new fs(mn)}static pageOffset(mn){return new Yr(mn)}static pageRange(mn){return new Jr(mn)}static pagination(mn){return new Ur(mn)}static paginationOverride(mn){return new Is(mn)}static part(mn){return new _s(mn)}static pcl(mn){return new mr(mn)}static pdf(mn){return new or(mn)}static pdfa(mn){return new xr(mn)}static permissions(mn){return new vr(mn)}static pickTrayByPDFSize(mn){return new Or(mn)}static picture(mn){return new Gr(mn)}static plaintextMetadata(mn){return new Ir(mn)}static presence(mn){return new kr(mn)}static present(mn){return new $r(mn)}static print(mn){return new Hr(mn)}static printHighQuality(mn){return new us(mn)}static printScaling(mn){return new rs(mn)}static printerName(mn){return new Xr(mn)}static producer(mn){return new Qn(mn)}static ps(mn){return new sr(mn)}static range(mn){return new fr(mn)}static record(mn){return new ur(mn)}static relevant(mn){return new _r(mn)}static rename(mn){return new Qr(mn)}static renderPolicy(mn){return new Ps(mn)}static runScripts(mn){return new es(mn)}static script(mn){return new hs(mn)}static scriptModel(mn){return new Ms(mn)}static severity(mn){return new Qs(mn)}static silentPrint(mn){return new ko(mn)}static staple(mn){return new Ip(mn)}static startNode(mn){return new w1(mn)}static startPage(mn){return new A1(mn)}static submitFormat(mn){return new S1(mn)}static submitUrl(mn){return new C1(mn)}static subsetBelow(mn){return new Dp(mn)}static suppressBanner(mn){return new g0(mn)}static tagged(mn){return new Lp(mn)}static template(mn){return new E1(mn)}static templateCache(mn){return new Lu(mn)}static threshold(mn){return new k1(mn)}static to(mn){return new Np(mn)}static trace(mn){return new m0(mn)}static transform(mn){return new $p(mn)}static type(mn){return new Dl(mn)}static uri(mn){return new Bp(mn)}static validate(mn){return new Nu(mn)}static validateApprovalSignatures(mn){return new F1(mn)}static validationMessaging(mn){return new iu(mn)}static version(mn){return new x0(mn)}static versionControl(mn){return new jp(mn)}static viewerPreferences(mn){return new T1(mn)}static webClient(mn){return new P1(mn)}static whitespace(mn){return new b0(mn)}static window(mn){return new y0(mn)}static xdc(mn){return new Up(mn)}static xdp(mn){return new $u(mn)}static xsl(mn){return new Rn(mn)}static zpl(mn){return new Un(mn)}}St.ConfigNamespace=In},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.ConnectionSetNamespace=void 0;var vt=Ft(79),Et=Ft(77);const Mt=vt.NamespaceIds.connectionSet.id;class Pt extends Et.XFAObject{constructor(Wt){super(Mt,"connectionSet",!0),this.wsdlConnection=new Et.XFAObjectArray,this.xmlConnection=new Et.XFAObjectArray,this.xsdConnection=new Et.XFAObjectArray}}class xt extends Et.XFAObject{constructor(Wt){super(Mt,"effectiveInputPolicy"),this.id=Wt.id||"",this.name=Wt.name||"",this.use=Wt.use||"",this.usehref=Wt.usehref||""}}class $t extends Et.XFAObject{constructor(Wt){super(Mt,"effectiveOutputPolicy"),this.id=Wt.id||"",this.name=Wt.name||"",this.use=Wt.use||"",this.usehref=Wt.usehref||""}}class _t extends Et.StringObject{constructor(Wt){super(Mt,"operation"),this.id=Wt.id||"",this.input=Wt.input||"",this.name=Wt.name||"",this.output=Wt.output||"",this.use=Wt.use||"",this.usehref=Wt.usehref||""}}class jt extends Et.StringObject{constructor(Wt){super(Mt,"rootElement"),this.id=Wt.id||"",this.name=Wt.name||"",this.use=Wt.use||"",this.usehref=Wt.usehref||""}}class Rt extends Et.StringObject{constructor(Wt){super(Mt,"soapAction"),this.id=Wt.id||"",this.name=Wt.name||"",this.use=Wt.use||"",this.usehref=Wt.usehref||""}}class Nt extends Et.StringObject{constructor(Wt){super(Mt,"soapAddress"),this.id=Wt.id||"",this.name=Wt.name||"",this.use=Wt.use||"",this.usehref=Wt.usehref||""}}class Lt extends Et.StringObject{constructor(Wt){super(Mt,"uri"),this.id=Wt.id||"",this.name=Wt.name||"",this.use=Wt.use||"",this.usehref=Wt.usehref||""}}class kt extends Et.StringObject{constructor(Wt){super(Mt,"wsdlAddress"),this.id=Wt.id||"",this.name=Wt.name||"",this.use=Wt.use||"",this.usehref=Wt.usehref||""}}class Bt extends Et.XFAObject{constructor(Wt){super(Mt,"wsdlConnection",!0),this.dataDescription=Wt.dataDescription||"",this.name=Wt.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class Ht extends Et.XFAObject{constructor(Wt){super(Mt,"xmlConnection",!0),this.dataDescription=Wt.dataDescription||"",this.name=Wt.name||"",this.uri=null}}class Ot extends Et.XFAObject{constructor(Wt){super(Mt,"xsdConnection",!0),this.dataDescription=Wt.dataDescription||"",this.name=Wt.name||"",this.rootElement=null,this.uri=null}}class Vt{static[vt.$buildXFAObject](Wt,en){if(Vt.hasOwnProperty(Wt))return Vt[Wt](en)}static connectionSet(Wt){return new Pt(Wt)}static effectiveInputPolicy(Wt){return new xt(Wt)}static effectiveOutputPolicy(Wt){return new $t(Wt)}static operation(Wt){return new _t(Wt)}static rootElement(Wt){return new jt(Wt)}static soapAction(Wt){return new Rt(Wt)}static soapAddress(Wt){return new Nt(Wt)}static uri(Wt){return new Lt(Wt)}static wsdlAddress(Wt){return new kt(Wt)}static wsdlConnection(Wt){return new Bt(Wt)}static xmlConnection(Wt){return new Ht(Wt)}static xsdConnection(Wt){return new Ot(Wt)}}St.ConnectionSetNamespace=Vt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.DatasetsNamespace=void 0;var vt=Ft(77),Et=Ft(79);const Mt=Et.NamespaceIds.datasets.id;class Pt extends vt.XmlObject{constructor(jt){super(Mt,"data",jt)}[vt.$isNsAgnostic](){return!0}}class xt extends vt.XFAObject{constructor(jt){super(Mt,"datasets",!0),this.data=null,this.Signature=null}[vt.$onChild](jt){const Rt=jt[vt.$nodeName];(Rt==="data"&&jt[vt.$namespaceId]===Mt||Rt==="Signature"&&jt[vt.$namespaceId]===Et.NamespaceIds.signature.id)&&(this[Rt]=jt),this[vt.$appendChild](jt)}}class $t{static[Et.$buildXFAObject](jt,Rt){if($t.hasOwnProperty(jt))return $t[jt](Rt)}static datasets(jt){return new xt(jt)}static data(jt){return new Pt(jt)}}St.DatasetsNamespace=$t},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.LocaleSetNamespace=void 0;var vt=Ft(79),Et=Ft(77),Mt=Ft(78);const Pt=vt.NamespaceIds.localeSet.id;class xt extends Et.XFAObject{constructor(Jt){super(Pt,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new Et.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new Et.XFAObjectArray(2)}}class $t extends Et.StringObject{constructor(Jt){super(Pt,"currencySymbol"),this.name=(0,Mt.getStringOption)(Jt.name,["symbol","isoname","decimal"])}}class _t extends Et.XFAObject{constructor(Jt){super(Pt,"currencySymbols",!0),this.currencySymbol=new Et.XFAObjectArray(3)}}class jt extends Et.StringObject{constructor(Jt){super(Pt,"datePattern"),this.name=(0,Mt.getStringOption)(Jt.name,["full","long","med","short"])}}class Rt extends Et.XFAObject{constructor(Jt){super(Pt,"datePatterns",!0),this.datePattern=new Et.XFAObjectArray(4)}}class Nt extends Et.ContentObject{constructor(Jt){super(Pt,"dateTimeSymbols")}}class Lt extends Et.StringObject{constructor(Jt){super(Pt,"day")}}class kt extends Et.XFAObject{constructor(Jt){super(Pt,"dayNames",!0),this.abbr=(0,Mt.getInteger)({data:Jt.abbr,defaultValue:0,validate:Yt=>Yt===1}),this.day=new Et.XFAObjectArray(7)}}class Bt extends Et.StringObject{constructor(Jt){super(Pt,"era")}}class Ht extends Et.XFAObject{constructor(Jt){super(Pt,"eraNames",!0),this.era=new Et.XFAObjectArray(2)}}class Ot extends Et.XFAObject{constructor(Jt){super(Pt,"locale",!0),this.desc=Jt.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class Vt extends Et.XFAObject{constructor(Jt){super(Pt,"localeSet",!0),this.locale=new Et.XFAObjectArray}}class Gt extends Et.StringObject{constructor(Jt){super(Pt,"meridiem")}}class Wt extends Et.XFAObject{constructor(Jt){super(Pt,"meridiemNames",!0),this.meridiem=new Et.XFAObjectArray(2)}}class en extends Et.StringObject{constructor(Jt){super(Pt,"month")}}class Sn extends Et.XFAObject{constructor(Jt){super(Pt,"monthNames",!0),this.abbr=(0,Mt.getInteger)({data:Jt.abbr,defaultValue:0,validate:Yt=>Yt===1}),this.month=new Et.XFAObjectArray(12)}}class sn extends Et.StringObject{constructor(Jt){super(Pt,"numberPattern"),this.name=(0,Mt.getStringOption)(Jt.name,["full","long","med","short"])}}class hn extends Et.XFAObject{constructor(Jt){super(Pt,"numberPatterns",!0),this.numberPattern=new Et.XFAObjectArray(4)}}class Qt extends Et.StringObject{constructor(Jt){super(Pt,"numberSymbol"),this.name=(0,Mt.getStringOption)(Jt.name,["decimal","grouping","percent","minus","zero"])}}class qt extends Et.XFAObject{constructor(Jt){super(Pt,"numberSymbols",!0),this.numberSymbol=new Et.XFAObjectArray(5)}}class nn extends Et.StringObject{constructor(Jt){super(Pt,"timePattern"),this.name=(0,Mt.getStringOption)(Jt.name,["full","long","med","short"])}}class Ut extends Et.XFAObject{constructor(Jt){super(Pt,"timePatterns",!0),this.timePattern=new Et.XFAObjectArray(4)}}class zt extends Et.XFAObject{constructor(Jt){super(Pt,"typeFace",!0),this.name=Jt.name|""}}class cn extends Et.XFAObject{constructor(Jt){super(Pt,"typeFaces",!0),this.typeFace=new Et.XFAObjectArray}}class ln{static[vt.$buildXFAObject](Jt,Yt){if(ln.hasOwnProperty(Jt))return ln[Jt](Yt)}static calendarSymbols(Jt){return new xt(Jt)}static currencySymbol(Jt){return new $t(Jt)}static currencySymbols(Jt){return new _t(Jt)}static datePattern(Jt){return new jt(Jt)}static datePatterns(Jt){return new Rt(Jt)}static dateTimeSymbols(Jt){return new Nt(Jt)}static day(Jt){return new Lt(Jt)}static dayNames(Jt){return new kt(Jt)}static era(Jt){return new Bt(Jt)}static eraNames(Jt){return new Ht(Jt)}static locale(Jt){return new Ot(Jt)}static localeSet(Jt){return new Vt(Jt)}static meridiem(Jt){return new Gt(Jt)}static meridiemNames(Jt){return new Wt(Jt)}static month(Jt){return new en(Jt)}static monthNames(Jt){return new Sn(Jt)}static numberPattern(Jt){return new sn(Jt)}static numberPatterns(Jt){return new hn(Jt)}static numberSymbol(Jt){return new Qt(Jt)}static numberSymbols(Jt){return new qt(Jt)}static timePattern(Jt){return new nn(Jt)}static timePatterns(Jt){return new Ut(Jt)}static typeFace(Jt){return new zt(Jt)}static typeFaces(Jt){return new cn(Jt)}}St.LocaleSetNamespace=ln},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.SignatureNamespace=void 0;var vt=Ft(79),Et=Ft(77);const Mt=vt.NamespaceIds.signature.id;class Pt extends Et.XFAObject{constructor(_t){super(Mt,"signature",!0)}}class xt{static[vt.$buildXFAObject](_t,jt){if(xt.hasOwnProperty(_t))return xt[_t](jt)}static signature(_t){return new Pt(_t)}}St.SignatureNamespace=xt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.StylesheetNamespace=void 0;var vt=Ft(79),Et=Ft(77);const Mt=vt.NamespaceIds.stylesheet.id;class Pt extends Et.XFAObject{constructor(_t){super(Mt,"stylesheet",!0)}}class xt{static[vt.$buildXFAObject](_t,jt){if(xt.hasOwnProperty(_t))return xt[_t](jt)}static stylesheet(_t){return new Pt(_t)}}St.StylesheetNamespace=xt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.XdpNamespace=void 0;var vt=Ft(79),Et=Ft(77);const Mt=vt.NamespaceIds.xdp.id;class Pt extends Et.XFAObject{constructor(_t){super(Mt,"xdp",!0),this.uuid=_t.uuid||"",this.timeStamp=_t.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new Et.XFAObjectArray,this.template=null}[Et.$onChildCheck](_t){const jt=vt.NamespaceIds[_t[Et.$nodeName]];return jt&&_t[Et.$namespaceId]===jt.id}}class xt{static[vt.$buildXFAObject](_t,jt){if(xt.hasOwnProperty(_t))return xt[_t](jt)}static xdp(_t){return new Pt(_t)}}St.XdpNamespace=xt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.XhtmlNamespace=void 0;var vt=Ft(77),Et=Ft(79),Mt=Ft(84),Pt=Ft(78);const xt=Et.NamespaceIds.xhtml.id,$t=Symbol(),_t=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),jt=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",Kt=>Kt==="none"?"none":"normal"],["xfa-font-horizontal-scale",Kt=>`scaleX(${Math.max(0,Math.min(parseInt(Kt)/100)).toFixed(2)})`],["xfa-font-vertical-scale",Kt=>`scaleY(${Math.max(0,Math.min(parseInt(Kt)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(Kt,Jt)=>(Kt=Jt.fontSize=(0,Pt.getMeasurement)(Kt),(0,Mt.measureToString)(.99*Kt))],["letter-spacing",Kt=>(0,Mt.measureToString)((0,Pt.getMeasurement)(Kt))],["line-height",Kt=>(0,Mt.measureToString)((0,Pt.getMeasurement)(Kt))],["margin",Kt=>(0,Mt.measureToString)((0,Pt.getMeasurement)(Kt))],["margin-bottom",Kt=>(0,Mt.measureToString)((0,Pt.getMeasurement)(Kt))],["margin-left",Kt=>(0,Mt.measureToString)((0,Pt.getMeasurement)(Kt))],["margin-right",Kt=>(0,Mt.measureToString)((0,Pt.getMeasurement)(Kt))],["margin-top",Kt=>(0,Mt.measureToString)((0,Pt.getMeasurement)(Kt))],["text-indent",Kt=>(0,Mt.measureToString)((0,Pt.getMeasurement)(Kt))],["font-family",Kt=>Kt],["vertical-align",Kt=>(0,Mt.measureToString)((0,Pt.getMeasurement)(Kt))]]),Rt=/\s+/g,Nt=/[\r\n]+/g,Lt=/\r\n?/g;function kt(Kt,Jt,Yt){const tn=Object.create(null);if(!Kt)return tn;const un=Object.create(null);for(const[yn,xn]of Kt.split(";").map(rn=>rn.split(":",2))){const rn=jt.get(yn);if(rn==="")continue;let dn=xn;rn&&(typeof rn=="string"?dn=rn:dn=rn(xn,un)),yn.endsWith("scale")?tn.transform?tn.transform=`${tn[yn]} ${dn}`:tn.transform=dn:tn[yn.replaceAll(/-([a-zA-Z])/g,(An,an)=>an.toUpperCase())]=dn}if(tn.fontFamily&&(0,Mt.setFontFamily)({typeface:tn.fontFamily,weight:tn.fontWeight||"normal",posture:tn.fontStyle||"normal",size:un.fontSize||0},Jt,Jt[vt.$globalData].fontFinder,tn),Yt&&tn.verticalAlign&&tn.verticalAlign!=="0px"&&tn.fontSize){const rn=(0,Pt.getMeasurement)(tn.fontSize);tn.fontSize=(0,Mt.measureToString)(rn*.583),tn.verticalAlign=(0,Mt.measureToString)(Math.sign((0,Pt.getMeasurement)(tn.verticalAlign))*rn*.333)}return Yt&&tn.fontSize&&(tn.fontSize=`calc(${tn.fontSize} * var(--scale-factor))`),(0,Mt.fixTextIndent)(tn),tn}function Bt(Kt){return Kt.style?Kt.style.trim().split(/\s*;\s*/).filter(Jt=>!!Jt).map(Jt=>Jt.split(/\s*:\s*/,2)).filter(([Jt,Yt])=>(Jt==="font-family"&&Kt[vt.$globalData].usedTypefaces.add(Yt),_t.has(Jt))).map(Jt=>Jt.join(":")).join(";"):""}const Ht=new Set(["body","html"]);class Ot extends vt.XmlObject{constructor(Jt,Yt){super(xt,Yt),this[$t]=!1,this.style=Jt.style||""}[vt.$clean](Jt){super[vt.$clean](Jt),this.style=Bt(this)}[vt.$acceptWhitespace](){return!Ht.has(this[vt.$nodeName])}[vt.$onText](Jt,Yt=!1){Yt?this[$t]=!0:(Jt=Jt.replace(Nt,""),this.style.includes("xfa-spacerun:yes")||(Jt=Jt.replace(Rt," "))),Jt&&(this[vt.$content]+=Jt)}[vt.$pushGlyphs](Jt,Yt=!0){const tn=Object.create(null),un={top:NaN,bottom:NaN,left:NaN,right:NaN};let yn=null;for(const[xn,rn]of this.style.split(";").map(dn=>dn.split(":",2)))switch(xn){case"font-family":tn.typeface=(0,Pt.stripQuotes)(rn);break;case"font-size":tn.size=(0,Pt.getMeasurement)(rn);break;case"font-weight":tn.weight=rn;break;case"font-style":tn.posture=rn;break;case"letter-spacing":tn.letterSpacing=(0,Pt.getMeasurement)(rn);break;case"margin":const dn=rn.split(/ \t/).map(An=>(0,Pt.getMeasurement)(An));switch(dn.length){case 1:un.top=un.bottom=un.left=un.right=dn[0];break;case 2:un.top=un.bottom=dn[0],un.left=un.right=dn[1];break;case 3:un.top=dn[0],un.bottom=dn[2],un.left=un.right=dn[1];break;case 4:un.top=dn[0],un.left=dn[1],un.bottom=dn[2],un.right=dn[3];break}break;case"margin-top":un.top=(0,Pt.getMeasurement)(rn);break;case"margin-bottom":un.bottom=(0,Pt.getMeasurement)(rn);break;case"margin-left":un.left=(0,Pt.getMeasurement)(rn);break;case"margin-right":un.right=(0,Pt.getMeasurement)(rn);break;case"line-height":yn=(0,Pt.getMeasurement)(rn);break}if(Jt.pushData(tn,un,yn),this[vt.$content])Jt.addString(this[vt.$content]);else for(const xn of this[vt.$getChildren]()){if(xn[vt.$nodeName]==="#text"){Jt.addString(xn[vt.$content]);continue}xn[vt.$pushGlyphs](Jt)}Yt&&Jt.popFont()}[vt.$toHTML](Jt){const Yt=[];if(this[vt.$extra]={children:Yt},this[vt.$childrenToHTML]({}),Yt.length===0&&!this[vt.$content])return Pt.HTMLResult.EMPTY;let tn;return this[$t]?tn=this[vt.$content]?this[vt.$content].replace(Lt,`
`):void 0:tn=this[vt.$content]||void 0,Pt.HTMLResult.success({name:this[vt.$nodeName],attributes:{href:this.href,style:kt(this.style,this,this[$t])},children:Yt,value:tn})}}class Vt extends Ot{constructor(Jt){super(Jt,"a"),this.href=(0,Mt.fixURL)(Jt.href)||""}}class Gt extends Ot{constructor(Jt){super(Jt,"b")}[vt.$pushGlyphs](Jt){Jt.pushFont({weight:"bold"}),super[vt.$pushGlyphs](Jt),Jt.popFont()}}class Wt extends Ot{constructor(Jt){super(Jt,"body")}[vt.$toHTML](Jt){const Yt=super[vt.$toHTML](Jt),{html:tn}=Yt;return tn?(tn.name="div",tn.attributes.class=["xfaRich"],Yt):Pt.HTMLResult.EMPTY}}class en extends Ot{constructor(Jt){super(Jt,"br")}[vt.$text](){return`
`}[vt.$pushGlyphs](Jt){Jt.addString(`
`)}[vt.$toHTML](Jt){return Pt.HTMLResult.success({name:"br"})}}class Sn extends Ot{constructor(Jt){super(Jt,"html")}[vt.$toHTML](Jt){const Yt=[];if(this[vt.$extra]={children:Yt},this[vt.$childrenToHTML]({}),Yt.length===0)return Pt.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[vt.$content]||""});if(Yt.length===1){const tn=Yt[0];if(tn.attributes&&tn.attributes.class.includes("xfaRich"))return Pt.HTMLResult.success(tn)}return Pt.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:Yt})}}class sn extends Ot{constructor(Jt){super(Jt,"i")}[vt.$pushGlyphs](Jt){Jt.pushFont({posture:"italic"}),super[vt.$pushGlyphs](Jt),Jt.popFont()}}class hn extends Ot{constructor(Jt){super(Jt,"li")}}class Qt extends Ot{constructor(Jt){super(Jt,"ol")}}class qt extends Ot{constructor(Jt){super(Jt,"p")}[vt.$pushGlyphs](Jt){super[vt.$pushGlyphs](Jt,!1),Jt.addString(`
`),Jt.addPara(),Jt.popFont()}[vt.$text](){return this[vt.$getParent]()[vt.$getChildren]().at(-1)===this?super[vt.$text]():super[vt.$text]()+`
`}}class nn extends Ot{constructor(Jt){super(Jt,"span")}}class Ut extends Ot{constructor(Jt){super(Jt,"sub")}}class zt extends Ot{constructor(Jt){super(Jt,"sup")}}class cn extends Ot{constructor(Jt){super(Jt,"ul")}}class ln{static[Et.$buildXFAObject](Jt,Yt){if(ln.hasOwnProperty(Jt))return ln[Jt](Yt)}static a(Jt){return new Vt(Jt)}static b(Jt){return new Gt(Jt)}static body(Jt){return new Wt(Jt)}static br(Jt){return new en(Jt)}static html(Jt){return new Sn(Jt)}static i(Jt){return new sn(Jt)}static li(Jt){return new hn(Jt)}static ol(Jt){return new Qt(Jt)}static p(Jt){return new qt(Jt)}static span(Jt){return new nn(Jt)}static sub(Jt){return new Ut(Jt)}static sup(Jt){return new zt(Jt)}static ul(Jt){return new cn(Jt)}}St.XhtmlNamespace=ln},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.UnknownNamespace=void 0;var vt=Ft(79),Et=Ft(77);class Mt{constructor(xt){this.namespaceId=xt}[vt.$buildXFAObject](xt,$t){return new Et.XmlObject(this.namespaceId,xt,$t)}}St.UnknownNamespace=Mt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.DatasetReader=void 0;var vt=Ft(2),Et=Ft(6),Mt=Ft(66);function Pt(_t){try{return(0,vt.stringToUTF8String)(_t)}catch(jt){return(0,vt.warn)(`UTF-8 decoding failed: "${jt}".`),_t}}class xt extends Mt.SimpleXMLParser{constructor(jt){super(jt),this.node=null}onEndElement(jt){const Rt=super.onEndElement(jt);if(Rt&&jt==="xfa:datasets")throw this.node=Rt,new Error("Aborting DatasetXMLParser.")}}class $t{constructor(jt){if(jt.datasets)this.node=new Mt.SimpleXMLParser({hasAttributes:!0}).parseFromString(jt.datasets).documentElement;else{const Rt=new xt({hasAttributes:!0});try{Rt.parseFromString(jt["xdp:xdp"])}catch{}this.node=Rt.node}}getValue(jt){if(!this.node||!jt)return"";const Rt=this.node.searchNode((0,Et.parseXFAPath)(jt),0);if(!Rt)return"";const Nt=Rt.firstChild;return Nt&&Nt.nodeName==="value"?Rt.children.map(Lt=>Pt(Lt.textContent)):Pt(Rt.textContent)}}St.DatasetReader=$t},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.XRef=void 0;var vt=Ft(2),Et=Ft(5),Mt=Ft(6),Pt=Ft(17),xt=Ft(7),$t=Ft(67);class _t{constructor(Rt,Nt){this.stream=Rt,this.pdfManager=Nt,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this._pendingRefs=new Et.RefSet,this.stats=new Mt.DocStats(Nt.msgHandler),this._newRefNum=null}getNewRef(){return this._newRefNum===null&&(this._newRefNum=this.entries.length||1),Et.Ref.get(this._newRefNum++,0)}resetNewRef(){this._newRefNum=null}setStartXRef(Rt){this.startXRefQueue=[Rt]}parse(Rt=!1){let Nt;Rt?((0,vt.warn)("Indexing all PDF objects"),Nt=this.indexObjects()):Nt=this.readXRef(),Nt.assignXref(this),this.trailer=Nt;let Lt;try{Lt=Nt.get("Encrypt")}catch(Bt){if(Bt instanceof Mt.MissingDataException)throw Bt;(0,vt.warn)(`XRef.parse - Invalid "Encrypt" reference: "${Bt}".`)}if(Lt instanceof Et.Dict){const Bt=Nt.get("ID"),Ht=Bt&&Bt.length?Bt[0]:"";Lt.suppressEncryption=!0,this.encrypt=new $t.CipherTransformFactory(Lt,Ht,this.pdfManager.password)}let kt;try{kt=Nt.get("Root")}catch(Bt){if(Bt instanceof Mt.MissingDataException)throw Bt;(0,vt.warn)(`XRef.parse - Invalid "Root" reference: "${Bt}".`)}if(kt instanceof Et.Dict)try{if(kt.get("Pages")instanceof Et.Dict){this.root=kt;return}}catch(Bt){if(Bt instanceof Mt.MissingDataException)throw Bt;(0,vt.warn)(`XRef.parse - Invalid "Pages" reference: "${Bt}".`)}throw Rt?new vt.InvalidPDFException("Invalid Root reference."):new Mt.XRefParseException}processXRefTable(Rt){"tableState"in this||(this.tableState={entryNum:0,streamPos:Rt.lexer.stream.pos,parserBuf1:Rt.buf1,parserBuf2:Rt.buf2});const Nt=this.readXRefTable(Rt);if(!(0,Et.isCmd)(Nt,"trailer"))throw new vt.FormatError("Invalid XRef table: could not find trailer dictionary");let Lt=Rt.getObj();if(!(Lt instanceof Et.Dict)&&Lt.dict&&(Lt=Lt.dict),!(Lt instanceof Et.Dict))throw new vt.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,Lt}readXRefTable(Rt){const Nt=Rt.lexer.stream,Lt=this.tableState;Nt.pos=Lt.streamPos,Rt.buf1=Lt.parserBuf1,Rt.buf2=Lt.parserBuf2;let kt;for(;;){if(!("firstEntryNum"in Lt)||!("entryCount"in Lt)){if((0,Et.isCmd)(kt=Rt.getObj(),"trailer"))break;Lt.firstEntryNum=kt,Lt.entryCount=Rt.getObj()}let Bt=Lt.firstEntryNum;const Ht=Lt.entryCount;if(!Number.isInteger(Bt)||!Number.isInteger(Ht))throw new vt.FormatError("Invalid XRef table: wrong types in subsection header");for(let Ot=Lt.entryNum;Ot<Ht;Ot++){Lt.streamPos=Nt.pos,Lt.entryNum=Ot,Lt.parserBuf1=Rt.buf1,Lt.parserBuf2=Rt.buf2;const Vt={};Vt.offset=Rt.getObj(),Vt.gen=Rt.getObj();const Gt=Rt.getObj();if(Gt instanceof Et.Cmd)switch(Gt.cmd){case"f":Vt.free=!0;break;case"n":Vt.uncompressed=!0;break}if(!Number.isInteger(Vt.offset)||!Number.isInteger(Vt.gen)||!(Vt.free||Vt.uncompressed))throw new vt.FormatError(`Invalid entry in XRef subsection: ${Bt}, ${Ht}`);Ot===0&&Vt.free&&Bt===1&&(Bt=0),this.entries[Ot+Bt]||(this.entries[Ot+Bt]=Vt)}Lt.entryNum=0,Lt.streamPos=Nt.pos,Lt.parserBuf1=Rt.buf1,Lt.parserBuf2=Rt.buf2,delete Lt.firstEntryNum,delete Lt.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new vt.FormatError("Invalid XRef table: unexpected first object");return kt}processXRefStream(Rt){if(!("streamState"in this)){const Nt=Rt.dict,Lt=Nt.get("W");let kt=Nt.get("Index");kt||(kt=[0,Nt.get("Size")]),this.streamState={entryRanges:kt,byteWidths:Lt,entryNum:0,streamPos:Rt.pos}}return this.readXRefStream(Rt),delete this.streamState,Rt.dict}readXRefStream(Rt){const Nt=this.streamState;Rt.pos=Nt.streamPos;const[Lt,kt,Bt]=Nt.byteWidths,Ht=Nt.entryRanges;for(;Ht.length>0;){const[Ot,Vt]=Ht;if(!Number.isInteger(Ot)||!Number.isInteger(Vt))throw new vt.FormatError(`Invalid XRef range fields: ${Ot}, ${Vt}`);if(!Number.isInteger(Lt)||!Number.isInteger(kt)||!Number.isInteger(Bt))throw new vt.FormatError(`Invalid XRef entry fields length: ${Ot}, ${Vt}`);for(let Gt=Nt.entryNum;Gt<Vt;++Gt){Nt.entryNum=Gt,Nt.streamPos=Rt.pos;let Wt=0,en=0,Sn=0;for(let hn=0;hn<Lt;++hn){const Qt=Rt.getByte();if(Qt===-1)throw new vt.FormatError("Invalid XRef byteWidths 'type'.");Wt=Wt<<8|Qt}Lt===0&&(Wt=1);for(let hn=0;hn<kt;++hn){const Qt=Rt.getByte();if(Qt===-1)throw new vt.FormatError("Invalid XRef byteWidths 'offset'.");en=en<<8|Qt}for(let hn=0;hn<Bt;++hn){const Qt=Rt.getByte();if(Qt===-1)throw new vt.FormatError("Invalid XRef byteWidths 'generation'.");Sn=Sn<<8|Qt}const sn={};switch(sn.offset=en,sn.gen=Sn,Wt){case 0:sn.free=!0;break;case 1:sn.uncompressed=!0;break;case 2:break;default:throw new vt.FormatError(`Invalid XRef entry type: ${Wt}`)}this.entries[Ot+Gt]||(this.entries[Ot+Gt]=sn)}Nt.entryNum=0,Nt.streamPos=Rt.pos,Ht.splice(0,2)}}indexObjects(){function Ot(Yt,tn){let un="",yn=Yt[tn];for(;yn!==10&&yn!==13&&yn!==60&&!(++tn>=Yt.length);)un+=String.fromCharCode(yn),yn=Yt[tn];return un}function Vt(Yt,tn,un){const yn=un.length,xn=Yt.length;let rn=0;for(;tn<xn;){let dn=0;for(;dn<yn&&Yt[tn+dn]===un[dn];)++dn;if(dn>=yn)break;tn++,rn++}return rn}const Gt=/^(\d+)\s+(\d+)\s+obj\b/,Wt=/\bendobj[\b\s]$/,en=/\s+(\d+\s+\d+\s+obj[\b\s<])$/,Sn=25,sn=new Uint8Array([116,114,97,105,108,101,114]),hn=new Uint8Array([115,116,97,114,116,120,114,101,102]),Qt=new Uint8Array([111,98,106]),qt=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const nn=this.stream;nn.pos=0;const Ut=nn.getBytes(),zt=Ut.length;let cn=nn.start;const ln=[],Kt=[];for(;cn<zt;){let Yt=Ut[cn];if(Yt===9||Yt===10||Yt===13||Yt===32){++cn;continue}if(Yt===37){do{if(++cn,cn>=zt)break;Yt=Ut[cn]}while(Yt!==10&&Yt!==13);continue}const tn=Ot(Ut,cn);let un;if(tn.startsWith("xref")&&(tn.length===4||/\s/.test(tn[4])))cn+=Vt(Ut,cn,sn),ln.push(cn),cn+=Vt(Ut,cn,hn);else if(un=Gt.exec(tn)){const yn=un[1]|0,xn=un[2]|0;let rn,dn=cn+tn.length,An=!1;if(!this.entries[yn])An=!0;else if(this.entries[yn].gen===xn)try{new Pt.Parser({lexer:new Pt.Lexer(nn.makeSubStream(dn))}).getObj(),An=!0}catch(bn){bn instanceof Mt.ParserEOFException?(0,vt.warn)(`indexObjects -- checking object (${tn}): "${bn}".`):An=!0}for(An&&(this.entries[yn]={offset:cn-nn.start,gen:xn,uncompressed:!0});dn<Ut.length;){const bn=dn+Vt(Ut,dn,Qt)+4;rn=bn-cn;const vn=Math.max(bn-Sn,dn),gn=(0,vt.bytesToString)(Ut.subarray(vn,bn));if(Wt.test(gn))break;{const on=en.exec(gn);if(on&&on[1]){(0,vt.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),rn-=on[1].length;break}}dn=bn}const an=Ut.subarray(cn,cn+rn),fn=Vt(an,0,qt);fn<rn&&an[fn+5]<64&&(Kt.push(cn-nn.start),this.xrefstms[cn-nn.start]=1),cn+=rn}else tn.startsWith("trailer")&&(tn.length===7||/\s/.test(tn[7]))?(ln.push(cn),cn+=Vt(Ut,cn,hn)):cn+=tn.length+1}for(let Yt=0,tn=Kt.length;Yt<tn;++Yt)this.startXRefQueue.push(Kt[Yt]),this.readXRef(!0);let Jt;for(let Yt=0,tn=ln.length;Yt<tn;++Yt){nn.pos=ln[Yt];const un=new Pt.Parser({lexer:new Pt.Lexer(nn),xref:this,allowStreams:!0,recoveryMode:!0}),yn=un.getObj();if(!(0,Et.isCmd)(yn,"trailer"))continue;const xn=un.getObj();if(xn instanceof Et.Dict){try{const rn=xn.get("Root");if(!(rn instanceof Et.Dict))continue;const dn=rn.get("Pages");if(!(dn instanceof Et.Dict))continue;const An=dn.get("Count");if(!Number.isInteger(An))continue}catch{continue}if(xn.has("ID"))return xn;Jt=xn}}if(Jt)return Jt;if(this.topDict)return this.topDict;throw new vt.InvalidPDFException("Invalid PDF structure.")}readXRef(Rt=!1){const Nt=this.stream,Lt=new Set;try{for(;this.startXRefQueue.length;){const kt=this.startXRefQueue[0];if(Lt.has(kt)){(0,vt.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}Lt.add(kt),Nt.pos=kt+Nt.start;const Bt=new Pt.Parser({lexer:new Pt.Lexer(Nt),xref:this,allowStreams:!0});let Ht=Bt.getObj(),Ot;if((0,Et.isCmd)(Ht,"xref")){if(Ot=this.processXRefTable(Bt),this.topDict||(this.topDict=Ot),Ht=Ot.get("XRefStm"),Number.isInteger(Ht)){const Vt=Ht;Vt in this.xrefstms||(this.xrefstms[Vt]=1,this.startXRefQueue.push(Vt))}}else if(Number.isInteger(Ht)){if(!Number.isInteger(Bt.getObj())||!(0,Et.isCmd)(Bt.getObj(),"obj")||!((Ht=Bt.getObj())instanceof xt.BaseStream))throw new vt.FormatError("Invalid XRef stream");if(Ot=this.processXRefStream(Ht),this.topDict||(this.topDict=Ot),!Ot)throw new vt.FormatError("Failed to read XRef stream")}else throw new vt.FormatError("Invalid XRef stream header");Ht=Ot.get("Prev"),Number.isInteger(Ht)?this.startXRefQueue.push(Ht):Ht instanceof Et.Ref&&this.startXRefQueue.push(Ht.num),this.startXRefQueue.shift()}return this.topDict}catch(kt){if(kt instanceof Mt.MissingDataException)throw kt;(0,vt.info)("(while reading XRef): "+kt),this.startXRefQueue.shift()}if(!Rt)throw new Mt.XRefParseException}getEntry(Rt){const Nt=this.entries[Rt];return Nt&&!Nt.free&&Nt.offset?Nt:null}fetchIfRef(Rt,Nt=!1){return Rt instanceof Et.Ref?this.fetch(Rt,Nt):Rt}fetch(Rt,Nt=!1){if(!(Rt instanceof Et.Ref))throw new Error("ref object is not a reference");const Lt=Rt.num,kt=this._cacheMap.get(Lt);if(kt!==void 0)return kt instanceof Et.Dict&&!kt.objId&&(kt.objId=Rt.toString()),kt;let Bt=this.getEntry(Lt);if(Bt===null)return this._cacheMap.set(Lt,Bt),Bt;if(this._pendingRefs.has(Rt))return this._pendingRefs.remove(Rt),(0,vt.warn)(`Ignoring circular reference: ${Rt}.`),Et.CIRCULAR_REF;this._pendingRefs.put(Rt);try{Bt.uncompressed?Bt=this.fetchUncompressed(Rt,Bt,Nt):Bt=this.fetchCompressed(Rt,Bt,Nt),this._pendingRefs.remove(Rt)}catch(Ht){throw this._pendingRefs.remove(Rt),Ht}return Bt instanceof Et.Dict?Bt.objId=Rt.toString():Bt instanceof xt.BaseStream&&(Bt.dict.objId=Rt.toString()),Bt}fetchUncompressed(Rt,Nt,Lt=!1){const kt=Rt.gen;let Bt=Rt.num;if(Nt.gen!==kt)throw new Mt.XRefEntryException(`Inconsistent generation in XRef: ${Rt}`);const Ht=this.stream.makeSubStream(Nt.offset+this.stream.start),Ot=new Pt.Parser({lexer:new Pt.Lexer(Ht),xref:this,allowStreams:!0}),Vt=Ot.getObj(),Gt=Ot.getObj(),Wt=Ot.getObj();if(Vt!==Bt||Gt!==kt||!(Wt instanceof Et.Cmd))throw new Mt.XRefEntryException(`Bad (uncompressed) XRef entry: ${Rt}`);if(Wt.cmd!=="obj"){if(Wt.cmd.startsWith("obj")&&(Bt=parseInt(Wt.cmd.substring(3),10),!Number.isNaN(Bt)))return Bt;throw new Mt.XRefEntryException(`Bad (uncompressed) XRef entry: ${Rt}`)}return this.encrypt&&!Lt?Nt=Ot.getObj(this.encrypt.createCipherTransform(Bt,kt)):Nt=Ot.getObj(),Nt instanceof xt.BaseStream||this._cacheMap.set(Bt,Nt),Nt}fetchCompressed(Rt,Nt,Lt=!1){const kt=Nt.offset,Bt=this.fetch(Et.Ref.get(kt,0));if(!(Bt instanceof xt.BaseStream))throw new vt.FormatError("bad ObjStm stream");const Ht=Bt.dict.get("First"),Ot=Bt.dict.get("N");if(!Number.isInteger(Ht)||!Number.isInteger(Ot))throw new vt.FormatError("invalid first and n parameters for ObjStm stream");let Vt=new Pt.Parser({lexer:new Pt.Lexer(Bt),xref:this,allowStreams:!0});const Gt=new Array(Ot),Wt=new Array(Ot);for(let sn=0;sn<Ot;++sn){const hn=Vt.getObj();if(!Number.isInteger(hn))throw new vt.FormatError(`invalid object number in the ObjStm stream: ${hn}`);const Qt=Vt.getObj();if(!Number.isInteger(Qt))throw new vt.FormatError(`invalid object offset in the ObjStm stream: ${Qt}`);Gt[sn]=hn,Wt[sn]=Qt}const en=(Bt.start||0)+Ht,Sn=new Array(Ot);for(let sn=0;sn<Ot;++sn){const hn=sn<Ot-1?Wt[sn+1]-Wt[sn]:void 0;if(hn<0)throw new vt.FormatError("Invalid offset in the ObjStm stream.");Vt=new Pt.Parser({lexer:new Pt.Lexer(Bt.makeSubStream(en+Wt[sn],hn,Bt.dict)),xref:this,allowStreams:!0});const Qt=Vt.getObj();if(Sn[sn]=Qt,Qt instanceof xt.BaseStream)continue;const qt=Gt[sn],nn=this.entries[qt];nn&&nn.offset===kt&&nn.gen===sn&&this._cacheMap.set(qt,Qt)}if(Nt=Sn[Nt.gen],Nt===void 0)throw new Mt.XRefEntryException(`Bad (compressed) XRef entry: ${Rt}`);return Nt}async fetchIfRefAsync(Rt,Nt){return Rt instanceof Et.Ref?this.fetchAsync(Rt,Nt):Rt}async fetchAsync(Rt,Nt){try{return this.fetch(Rt,Nt)}catch(Lt){if(!(Lt instanceof Mt.MissingDataException))throw Lt;return await this.pdfManager.requestRange(Lt.begin,Lt.end),this.fetchAsync(Rt,Nt)}}getCatalogObj(){return this.root}}St.XRef=_t},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.MessageHandler=void 0;var vt=Ft(2);const Et={UNKNOWN:0,DATA:1,ERROR:2},Mt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Pt($t){switch($t instanceof Error||typeof $t=="object"&&$t!==null||(0,vt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),$t.name){case"AbortException":return new vt.AbortException($t.message);case"MissingPDFException":return new vt.MissingPDFException($t.message);case"PasswordException":return new vt.PasswordException($t.message,$t.code);case"UnexpectedResponseException":return new vt.UnexpectedResponseException($t.message,$t.status);case"UnknownErrorException":return new vt.UnknownErrorException($t.message,$t.details);default:return new vt.UnknownErrorException($t.message,$t.toString())}}class xt{constructor(_t,jt,Rt){this.sourceName=_t,this.targetName=jt,this.comObj=Rt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Nt=>{const Lt=Nt.data;if(Lt.targetName!==this.sourceName)return;if(Lt.stream){this._processStreamMessage(Lt);return}if(Lt.callback){const Bt=Lt.callbackId,Ht=this.callbackCapabilities[Bt];if(!Ht)throw new Error(`Cannot resolve callback ${Bt}`);if(delete this.callbackCapabilities[Bt],Lt.callback===Et.DATA)Ht.resolve(Lt.data);else if(Lt.callback===Et.ERROR)Ht.reject(Pt(Lt.reason));else throw new Error("Unexpected callback case");return}const kt=this.actionHandler[Lt.action];if(!kt)throw new Error(`Unknown action from worker: ${Lt.action}`);if(Lt.callbackId){const Bt=this.sourceName,Ht=Lt.sourceName;new Promise(function(Ot){Ot(kt(Lt.data))}).then(function(Ot){Rt.postMessage({sourceName:Bt,targetName:Ht,callback:Et.DATA,callbackId:Lt.callbackId,data:Ot})},function(Ot){Rt.postMessage({sourceName:Bt,targetName:Ht,callback:Et.ERROR,callbackId:Lt.callbackId,reason:Pt(Ot)})});return}if(Lt.streamId){this._createStreamSink(Lt);return}kt(Lt.data)},Rt.addEventListener("message",this._onComObjOnMessage)}on(_t,jt){const Rt=this.actionHandler;if(Rt[_t])throw new Error(`There is already an actionName called "${_t}"`);Rt[_t]=jt}send(_t,jt,Rt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_t,data:jt},Rt)}sendWithPromise(_t,jt,Rt){const Nt=this.callbackId++,Lt=(0,vt.createPromiseCapability)();this.callbackCapabilities[Nt]=Lt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_t,callbackId:Nt,data:jt},Rt)}catch(kt){Lt.reject(kt)}return Lt.promise}sendWithStream(_t,jt,Rt,Nt){const Lt=this.streamId++,kt=this.sourceName,Bt=this.targetName,Ht=this.comObj;return new ReadableStream({start:Ot=>{const Vt=(0,vt.createPromiseCapability)();return this.streamControllers[Lt]={controller:Ot,startCall:Vt,pullCall:null,cancelCall:null,isClosed:!1},Ht.postMessage({sourceName:kt,targetName:Bt,action:_t,streamId:Lt,data:jt,desiredSize:Ot.desiredSize},Nt),Vt.promise},pull:Ot=>{const Vt=(0,vt.createPromiseCapability)();return this.streamControllers[Lt].pullCall=Vt,Ht.postMessage({sourceName:kt,targetName:Bt,stream:Mt.PULL,streamId:Lt,desiredSize:Ot.desiredSize}),Vt.promise},cancel:Ot=>{(0,vt.assert)(Ot instanceof Error,"cancel must have a valid reason");const Vt=(0,vt.createPromiseCapability)();return this.streamControllers[Lt].cancelCall=Vt,this.streamControllers[Lt].isClosed=!0,Ht.postMessage({sourceName:kt,targetName:Bt,stream:Mt.CANCEL,streamId:Lt,reason:Pt(Ot)}),Vt.promise}},Rt)}_createStreamSink(_t){const jt=_t.streamId,Rt=this.sourceName,Nt=_t.sourceName,Lt=this.comObj,kt=this,Bt=this.actionHandler[_t.action],Ht={enqueue(Ot,Vt=1,Gt){if(this.isCancelled)return;const Wt=this.desiredSize;this.desiredSize-=Vt,Wt>0&&this.desiredSize<=0&&(this.sinkCapability=(0,vt.createPromiseCapability)(),this.ready=this.sinkCapability.promise),Lt.postMessage({sourceName:Rt,targetName:Nt,stream:Mt.ENQUEUE,streamId:jt,chunk:Ot},Gt)},close(){this.isCancelled||(this.isCancelled=!0,Lt.postMessage({sourceName:Rt,targetName:Nt,stream:Mt.CLOSE,streamId:jt}),delete kt.streamSinks[jt])},error(Ot){(0,vt.assert)(Ot instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Lt.postMessage({sourceName:Rt,targetName:Nt,stream:Mt.ERROR,streamId:jt,reason:Pt(Ot)}))},sinkCapability:(0,vt.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:_t.desiredSize,ready:null};Ht.sinkCapability.resolve(),Ht.ready=Ht.sinkCapability.promise,this.streamSinks[jt]=Ht,new Promise(function(Ot){Ot(Bt(_t.data,Ht))}).then(function(){Lt.postMessage({sourceName:Rt,targetName:Nt,stream:Mt.START_COMPLETE,streamId:jt,success:!0})},function(Ot){Lt.postMessage({sourceName:Rt,targetName:Nt,stream:Mt.START_COMPLETE,streamId:jt,reason:Pt(Ot)})})}_processStreamMessage(_t){const jt=_t.streamId,Rt=this.sourceName,Nt=_t.sourceName,Lt=this.comObj,kt=this.streamControllers[jt],Bt=this.streamSinks[jt];switch(_t.stream){case Mt.START_COMPLETE:_t.success?kt.startCall.resolve():kt.startCall.reject(Pt(_t.reason));break;case Mt.PULL_COMPLETE:_t.success?kt.pullCall.resolve():kt.pullCall.reject(Pt(_t.reason));break;case Mt.PULL:if(!Bt){Lt.postMessage({sourceName:Rt,targetName:Nt,stream:Mt.PULL_COMPLETE,streamId:jt,success:!0});break}Bt.desiredSize<=0&&_t.desiredSize>0&&Bt.sinkCapability.resolve(),Bt.desiredSize=_t.desiredSize,new Promise(function(Ht){Ht(Bt.onPull&&Bt.onPull())}).then(function(){Lt.postMessage({sourceName:Rt,targetName:Nt,stream:Mt.PULL_COMPLETE,streamId:jt,success:!0})},function(Ht){Lt.postMessage({sourceName:Rt,targetName:Nt,stream:Mt.PULL_COMPLETE,streamId:jt,reason:Pt(Ht)})});break;case Mt.ENQUEUE:if((0,vt.assert)(kt,"enqueue should have stream controller"),kt.isClosed)break;kt.controller.enqueue(_t.chunk);break;case Mt.CLOSE:if((0,vt.assert)(kt,"close should have stream controller"),kt.isClosed)break;kt.isClosed=!0,kt.controller.close(),this._deleteStreamController(kt,jt);break;case Mt.ERROR:(0,vt.assert)(kt,"error should have stream controller"),kt.controller.error(Pt(_t.reason)),this._deleteStreamController(kt,jt);break;case Mt.CANCEL_COMPLETE:_t.success?kt.cancelCall.resolve():kt.cancelCall.reject(Pt(_t.reason)),this._deleteStreamController(kt,jt);break;case Mt.CANCEL:if(!Bt)break;new Promise(function(Ht){Ht(Bt.onCancel&&Bt.onCancel(Pt(_t.reason)))}).then(function(){Lt.postMessage({sourceName:Rt,targetName:Nt,stream:Mt.CANCEL_COMPLETE,streamId:jt,success:!0})},function(Ht){Lt.postMessage({sourceName:Rt,targetName:Nt,stream:Mt.CANCEL_COMPLETE,streamId:jt,reason:Pt(Ht)})}),Bt.sinkCapability.reject(Pt(_t.reason)),Bt.isCancelled=!0,delete this.streamSinks[jt];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(_t,jt){await Promise.allSettled([_t.startCall&&_t.startCall.promise,_t.pullCall&&_t.pullCall.promise,_t.cancelCall&&_t.cancelCall.promise]),delete this.streamControllers[jt]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}St.MessageHandler=xt},(Ct,St,Ft)=>{Object.defineProperty(St,"__esModule",{value:!0}),St.PDFWorkerStream=void 0;var vt=Ft(2);class Et{constructor($t){this._msgHandler=$t,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new Mt(this._msgHandler),this._fullRequestReader}getRangeReader($t,_t){const jt=new Pt($t,_t,this._msgHandler);return this._rangeRequestReaders.push(jt),jt}cancelAllRequests($t){this._fullRequestReader&&this._fullRequestReader.cancel($t);for(const _t of this._rangeRequestReaders.slice(0))_t.cancel($t)}}St.PDFWorkerStream=Et;class Mt{constructor($t){this._msgHandler=$t,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const _t=this._msgHandler.sendWithStream("GetReader");this._reader=_t.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(jt=>{this._isStreamingSupported=jt.isStreamingSupported,this._isRangeSupported=jt.isRangeSupported,this._contentLength=jt.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:$t,done:_t}=await this._reader.read();return _t?{value:void 0,done:!0}:{value:$t.buffer,done:!1}}cancel($t){this._reader.cancel($t)}}class Pt{constructor($t,_t,jt){this._msgHandler=jt,this.onProgress=null;const Rt=this._msgHandler.sendWithStream("GetRangeReader",{begin:$t,end:_t});this._reader=Rt.getReader()}get isStreamingSupported(){return!1}async read(){const{value:$t,done:_t}=await this._reader.read();return _t?{value:void 0,done:!0}:{value:$t.buffer,done:!1}}cancel($t){this._reader.cancel($t)}}}],bt={};function wt(Ct){var St=bt[Ct];if(St!==void 0)return St.exports;var Ft=bt[Ct]={exports:{}};return ht[Ct](Ft,Ft.exports,wt),Ft.exports}wt.d=(Ct,St)=>{for(var Ft in St)wt.o(St,Ft)&&!wt.o(Ct,Ft)&&Object.defineProperty(Ct,Ft,{enumerable:!0,get:St[Ft]})},wt.o=(Ct,St)=>Object.prototype.hasOwnProperty.call(Ct,St),wt.r=Ct=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ct,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ct,"__esModule",{value:!0})};var At={};return(()=>{var Ct=At;Object.defineProperty(Ct,"__esModule",{value:!0}),Object.defineProperty(Ct,"WorkerMessageHandler",{enumerable:!0,get:function(){return St.WorkerMessageHandler}});var St=wt(1)})(),At})())})(pdf_worker);var pdf_workerExports=pdf_worker.exports;(typeof window<"u"?window:{}).pdfjsWorker=pdf_workerExports;var core_min={};(function(_e){var $=reactExports,ht=pdfExports;function bt(Rn){var Un=Object.create(null);return Rn&&Object.keys(Rn).forEach(function(In){if(In!=="default"){var Dt=Object.getOwnPropertyDescriptor(Rn,In);Object.defineProperty(Un,In,Dt.get?Dt:{enumerable:!0,get:function(){return Rn[In]}})}}),Un.default=Rn,Object.freeze(Un)}var wt,At=bt($),Ct=bt(ht);_e.AnnotationType=void 0,(wt=_e.AnnotationType||(_e.AnnotationType={}))[wt.Text=1]="Text",wt[wt.Link=2]="Link",wt[wt.FreeText=3]="FreeText",wt[wt.Line=4]="Line",wt[wt.Square=5]="Square",wt[wt.Circle=6]="Circle",wt[wt.Polygon=7]="Polygon",wt[wt.Polyline=8]="Polyline",wt[wt.Highlight=9]="Highlight",wt[wt.Underline=10]="Underline",wt[wt.Squiggly=11]="Squiggly",wt[wt.StrikeOut=12]="StrikeOut",wt[wt.Stamp=13]="Stamp",wt[wt.Caret=14]="Caret",wt[wt.Ink=15]="Ink",wt[wt.Popup=16]="Popup",wt[wt.FileAttachment=17]="FileAttachment";var St=function(Rn,Un){return St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(In,Dt){In.__proto__=Dt}||function(In,Dt){for(var mn in Dt)Object.prototype.hasOwnProperty.call(Dt,mn)&&(In[mn]=Dt[mn])},St(Rn,Un)};function Ft(Rn,Un){if(typeof Un!="function"&&Un!==null)throw new TypeError("Class extends value "+String(Un)+" is not a constructor or null");function In(){this.constructor=Rn}St(Rn,Un),Rn.prototype=Un===null?Object.create(Un):(In.prototype=Un.prototype,new In)}var vt,Et=function(){return Et=Object.assign||function(Rn){for(var Un,In=1,Dt=arguments.length;In<Dt;In++)for(var mn in Un=arguments[In])Object.prototype.hasOwnProperty.call(Un,mn)&&(Rn[mn]=Un[mn]);return Rn},Et.apply(this,arguments)};_e.TextDirection=void 0,(vt=_e.TextDirection||(_e.TextDirection={})).RightToLeft="RTL",vt.LeftToRight="LTR";var Mt,Pt=At.createContext({currentTheme:"light",direction:_e.TextDirection.LeftToRight,setCurrentTheme:function(){}}),xt=function(Rn){var Un=[];return Object.keys(Rn).forEach(function(In){In&&Rn[In]&&Un.push(In)}),Un.join(" ")},$t=typeof window<"u"?At.useLayoutEffect:At.useEffect,_t=function(Rn){var Un=At.useRef(null),In=Rn.once,Dt=Rn.threshold,mn=Rn.onVisibilityChanged;return $t(function(){var Nn=Un.current;if(Nn){var Hn=new IntersectionObserver(function(Xn){Xn.forEach(function(Wn){var Jn=Wn.isIntersecting,Zn=Wn.intersectionRatio;mn({isVisible:Jn,ratio:Zn}),Jn&&In&&(Hn.unobserve(Nn),Hn.disconnect())})},{threshold:Dt||0});return Hn.observe(Nn),function(){Hn.unobserve(Nn),Hn.disconnect()}}},[]),Un},jt=function(Rn){var Un=Rn.children,In=Rn.ignoreDirection,Dt=In!==void 0&&In,mn=Rn.size,Nn=mn===void 0?24:mn,Hn=At.useContext(Pt).direction,Xn=!Dt&&Hn===_e.TextDirection.RightToLeft,Wn="".concat(Nn||24,"px");return At.createElement("svg",{"aria-hidden":"true",className:xt({"rpv-core__icon":!0,"rpv-core__icon--rtl":Xn}),focusable:"false",height:Wn,viewBox:"0 0 24 24",width:Wn},Un)},Rt=function(){return At.createElement(jt,{size:16},At.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},Nt=function(Rn){var Un=Rn.children,In=Rn.testId,Dt=Rn.onClick,mn=At.useContext(Pt).direction===_e.TextDirection.RightToLeft,Nn=In?{"data-testid":In}:{};return At.createElement("button",Et({className:xt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":mn}),type:"button",onClick:Dt},Nn),Un)},Lt=function(Rn){var Un=Rn.size,In=Un===void 0?"4rem":Un,Dt=Rn.testId,mn=At.useState(!1),Nn=mn[0],Hn=mn[1],Xn=Dt?{"data-testid":Dt}:{},Wn=_t({onVisibilityChanged:function(Jn){Hn(Jn.isVisible)}});return At.createElement("div",Et({},Xn,{className:xt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Nn}),ref:Wn,style:{height:In,width:In}}))},kt=function(Rn){var Un=Rn.ariaLabel,In=Un===void 0?"":Un,Dt=Rn.autoFocus,mn=Dt!==void 0&&Dt,Nn=Rn.placeholder,Hn=Nn===void 0?"":Nn,Xn=Rn.testId,Wn=Rn.type,Jn=Wn===void 0?"text":Wn,Zn=Rn.value,ar=Zn===void 0?"":Zn,hr=Rn.onChange,dr=Rn.onKeyDown,Er=dr===void 0?function(){}:dr,Sr=At.useContext(Pt).direction,Ar=At.useRef(),Lr=Sr===_e.TextDirection.RightToLeft,Vr={ref:Ar,"data-testid":"","aria-label":In,className:xt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Lr}),placeholder:Hn,value:ar,onChange:function(Fr){return hr(Fr.target.value)},onKeyDown:Er};return Xn&&(Vr["data-testid"]=Xn),$t(function(){if(mn){var Fr=Ar.current;if(Fr){var Nr=window.scrollX,jr=window.scrollY;Fr.focus(),window.scrollTo(Nr,jr)}}},[]),Jn==="text"?At.createElement("input",Et({type:"text"},Vr)):At.createElement("input",Et({type:"password"},Vr))};(function(Rn){Rn[Rn.ExitFullScreen=0]="ExitFullScreen",Rn[Rn.FullScreenChange=1]="FullScreenChange",Rn[Rn.FullScreenElement=2]="FullScreenElement",Rn[Rn.FullScreenEnabled=3]="FullScreenEnabled",Rn[Rn.RequestFullScreen=4]="RequestFullScreen"})(Mt||(Mt={}));var Bt,Ht={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Ot={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Vt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},Gt=typeof window<"u",Wt=Gt&&(Mt.FullScreenEnabled in document&&Ht||Ot.FullScreenEnabled in document&&Ot||Vt.FullScreenEnabled in document&&Vt)||Ht,en=function(){return Gt&&Wt.FullScreenEnabled in document&&document[Wt.FullScreenEnabled]===!0},Sn=function(Rn){return Gt?Rn[Wt.ExitFullScreen]():Promise.resolve({})},sn=function(){return Gt?document[Wt.FullScreenElement]:null},hn=function(Rn,Un){var In=At.useRef(),Dt=function(){In.current&&clearTimeout(In.current)};return At.useEffect(function(){return function(){return Dt()}},[]),At.useCallback(function(){for(var mn=[],Nn=0;Nn<arguments.length;Nn++)mn[Nn]=arguments[Nn];Dt(),In.current=setTimeout(function(){Rn.apply(void 0,mn)},Un)},[Rn,Un])},Qt=function(){var Rn=At.useRef(!1);return At.useEffect(function(){return Rn.current=!0,function(){Rn.current=!1}},[]),Rn},qt=function(Rn){var Un=At.useRef(Rn);return At.useEffect(function(){Un.current=Rn},[Rn]),Un.current};(function(Rn){Rn.NotRenderedYet="NotRenderedYet",Rn.Rendering="Rendering",Rn.Rendered="Rendered"})(Bt||(Bt={}));var nn,Ut=-9999,zt=function(Rn){var Un=Rn.doc,In=Un.numPages,Dt=Un.loadingTask.docId,mn=At.useMemo(function(){return Array(In).fill(null).map(function(Xn,Wn){return{pageIndex:Wn,renderStatus:Bt.NotRenderedYet,visibility:Ut}})},[Dt]),Nn=At.useRef({currentRenderingPage:-1,startRange:0,endRange:In-1,visibilities:mn}),Hn=function(Xn,Wn){Nn.current.visibilities[Xn].visibility=Wn};return{getHighestPriorityPage:function(){var Xn=Nn.current.visibilities.slice(Nn.current.startRange,Nn.current.endRange+1).filter(function(hr){return hr.visibility>Ut});if(!Xn.length)return-1;for(var Wn=Xn[0].pageIndex,Jn=Xn[Xn.length-1].pageIndex,Zn=Xn.length,ar=0;ar<Zn;ar++){if(Xn[ar].renderStatus===Bt.Rendering)return-1;if(Xn[ar].renderStatus===Bt.NotRenderedYet)return Xn[ar].pageIndex}return Jn+1<In&&Nn.current.visibilities[Jn+1].renderStatus!==Bt.Rendered?Jn+1:Wn-1>=0&&Nn.current.visibilities[Wn-1].renderStatus!==Bt.Rendered?Wn-1:-1},isInRange:function(Xn){return Xn>=Nn.current.startRange&&Xn<=Nn.current.endRange},markNotRendered:function(){for(var Xn=0;Xn<In;Xn++)Nn.current.visibilities[Xn].renderStatus=Bt.NotRenderedYet},markRendered:function(Xn){Nn.current.visibilities[Xn].renderStatus=Bt.Rendered},markRendering:function(Xn){Nn.current.currentRenderingPage!==-1&&Nn.current.currentRenderingPage!==Xn&&Nn.current.visibilities[Nn.current.currentRenderingPage].renderStatus===Bt.Rendering&&(Nn.current.visibilities[Nn.current.currentRenderingPage].renderStatus=Bt.NotRenderedYet),Nn.current.visibilities[Xn].renderStatus=Bt.Rendering,Nn.current.currentRenderingPage=Xn},setOutOfRange:function(Xn){Hn(Xn,Ut)},setRange:function(Xn,Wn){Nn.current.startRange=Xn,Nn.current.endRange=Wn;for(var Jn=0;Jn<In;Jn++)(Jn<Xn||Jn>Wn)&&(Nn.current.visibilities[Jn].visibility=Ut,Nn.current.visibilities[Jn].renderStatus=Bt.NotRenderedYet)},setVisibility:Hn}},cn={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},ln=At.createContext({l10n:cn,setL10n:function(){}}),Kt=0,Jt=function(){return Kt++},Yt=function(Rn,Un,In){var Dt=function(mn){var Nn=Un.current;if(Nn){var Hn=mn.target;if(Hn instanceof Element&&Hn.shadowRoot){var Xn=mn.composedPath();Xn.length>0&&!Nn.contains(Xn[0])&&In()}else Nn.contains(Hn)||In()}};At.useEffect(function(){if(Rn){var mn={capture:!0};return document.addEventListener("click",Dt,mn),function(){document.removeEventListener("click",Dt,mn)}}},[])},tn=function(Rn){var Un=function(In){In.key==="Escape"&&Rn()};At.useEffect(function(){return document.addEventListener("keyup",Un),function(){document.removeEventListener("keyup",Un)}},[])},un=function(Rn){var Un=Rn.ariaControlsSuffix,In=Rn.children,Dt=Rn.closeOnClickOutside,mn=Rn.closeOnEscape,Nn=Rn.onToggle,Hn=At.useRef(),Xn=At.useContext(Pt).direction===_e.TextDirection.RightToLeft;return At.useEffect(function(){var Wn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Wn}},[]),tn(function(){Hn.current&&mn&&Nn()}),Yt(Dt,Hn,Nn),$t(function(){var Wn=Hn.current;if(Wn){var Jn=.75*document.body.clientHeight;Wn.getBoundingClientRect().height>=Jn&&(Wn.style.overflow="auto",Wn.style.maxHeight="".concat(Jn,"px"))}},[]),At.createElement("div",{"aria-modal":"true",className:xt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Xn}),id:"rpv-core__modal-body-".concat(Un),ref:Hn,role:"dialog",tabIndex:-1},In)},yn=function(Rn){var Un=Rn.children;return At.createElement("div",{className:"rpv-core__modal-overlay"},Un)};_e.ToggleStatus=void 0,(nn=_e.ToggleStatus||(_e.ToggleStatus={})).Close="Close",nn.Open="Open",nn.Toggle="Toggle";var xn,rn=function(Rn){var Un=At.useState(Rn),In=Un[0],Dt=Un[1];return{opened:In,toggle:function(mn){switch(mn){case _e.ToggleStatus.Close:Dt(!1);break;case _e.ToggleStatus.Open:Dt(!0);break;case _e.ToggleStatus.Toggle:default:Dt(function(Nn){return!Nn})}}}},dn=function(Rn){var Un=Rn.content,In=Rn.isOpened,Dt=In!==void 0&&In,mn=Rn.target,Nn=rn(Dt),Hn=Nn.opened,Xn=Nn.toggle;return At.createElement(At.Fragment,null,mn&&mn(Xn,Hn),Hn&&Un(Xn))};_e.Position=void 0,(xn=_e.Position||(_e.Position={})).TopLeft="TOP_LEFT",xn.TopCenter="TOP_CENTER",xn.TopRight="TOP_RIGHT",xn.RightTop="RIGHT_TOP",xn.RightCenter="RIGHT_CENTER",xn.RightBottom="RIGHT_BOTTOM",xn.BottomLeft="BOTTOM_LEFT",xn.BottomCenter="BOTTOM_CENTER",xn.BottomRight="BOTTOM_RIGHT",xn.LeftTop="LEFT_TOP",xn.LeftCenter="LEFT_CENTER",xn.LeftBottom="LEFT_BOTTOM";var An,an,fn,bn,vn,gn,on,wn,pn=function(Rn,Un,In,Dt,mn){$t(function(){var Nn=Un.current,Hn=Rn.current,Xn=In.current;if(Hn&&Nn&&Xn){var Wn=Xn.getBoundingClientRect(),Jn=function(hr,dr,Er,Sr){var Ar=dr.getBoundingClientRect(),Lr=hr.getBoundingClientRect(),Vr=Lr.height,Fr=Lr.width,Nr=0,jr=0;switch(Er){case _e.Position.TopLeft:Nr=Ar.top-Vr,jr=Ar.left;break;case _e.Position.TopCenter:Nr=Ar.top-Vr,jr=Ar.left+Ar.width/2-Fr/2;break;case _e.Position.TopRight:Nr=Ar.top-Vr,jr=Ar.left+Ar.width-Fr;break;case _e.Position.RightTop:Nr=Ar.top,jr=Ar.left+Ar.width;break;case _e.Position.RightCenter:Nr=Ar.top+Ar.height/2-Vr/2,jr=Ar.left+Ar.width;break;case _e.Position.RightBottom:Nr=Ar.top+Ar.height-Vr,jr=Ar.left+Ar.width;break;case _e.Position.BottomLeft:Nr=Ar.top+Ar.height,jr=Ar.left;break;case _e.Position.BottomCenter:Nr=Ar.top+Ar.height,jr=Ar.left+Ar.width/2-Fr/2;break;case _e.Position.BottomRight:Nr=Ar.top+Ar.height,jr=Ar.left+Ar.width-Fr;break;case _e.Position.LeftTop:Nr=Ar.top,jr=Ar.left-Fr;break;case _e.Position.LeftCenter:Nr=Ar.top+Ar.height/2-Vr/2,jr=Ar.left-Fr;break;case _e.Position.LeftBottom:Nr=Ar.top+Ar.height-Vr,jr=Ar.left-Fr}return{left:jr+(Sr.left||0),top:Nr+(Sr.top||0)}}(Hn,Nn,Dt,mn),Zn=Jn.top,ar=Jn.left;Hn.style.top="".concat(Zn-Wn.top,"px"),Hn.style.left="".concat(ar-Wn.left,"px")}},[])},Cn=function(Rn){var Un,In=Rn.customClassName,Dt=Rn.position;return At.createElement("div",{className:xt((Un={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Dt===_e.Position.TopLeft,"rpv-core__arrow--tc":Dt===_e.Position.TopCenter,"rpv-core__arrow--tr":Dt===_e.Position.TopRight,"rpv-core__arrow--rt":Dt===_e.Position.RightTop,"rpv-core__arrow--rc":Dt===_e.Position.RightCenter,"rpv-core__arrow--rb":Dt===_e.Position.RightBottom,"rpv-core__arrow--bl":Dt===_e.Position.BottomLeft,"rpv-core__arrow--bc":Dt===_e.Position.BottomCenter,"rpv-core__arrow--br":Dt===_e.Position.BottomRight,"rpv-core__arrow--lt":Dt===_e.Position.LeftTop,"rpv-core__arrow--lc":Dt===_e.Position.LeftCenter,"rpv-core__arrow--lb":Dt===_e.Position.LeftBottom},Un["".concat(In)]=In!=="",Un))})},Tn=function(Rn){var Un=Rn.ariaControlsSuffix,In=Rn.children,Dt=Rn.closeOnClickOutside,mn=Rn.offset,Nn=Rn.position,Hn=Rn.targetRef,Xn=Rn.onClose,Wn=At.useRef(),Jn=At.useRef(),Zn=At.useRef(),ar=At.useContext(Pt).direction===_e.TextDirection.RightToLeft;Yt(Dt,Wn,Xn),pn(Wn,Hn,Zn,Nn,mn),$t(function(){var dr=Jn.current;if(dr){var Er=.75*document.body.clientHeight;dr.getBoundingClientRect().height>=Er&&(dr.style.overflow="auto",dr.style.maxHeight="".concat(Er,"px"))}},[]);var hr="rpv-core__popover-body-inner-".concat(Un);return At.createElement(At.Fragment,null,At.createElement("div",{ref:Zn,style:{left:0,position:"absolute",top:0}}),At.createElement("div",{"aria-describedby":hr,className:xt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":ar}),id:"rpv-core__popover-body-".concat(Un),ref:Wn,role:"dialog",tabIndex:-1},At.createElement(Cn,{customClassName:"rpv-core__popover-body-arrow",position:Nn}),At.createElement("div",{id:hr,ref:Jn},In)))},Fn=function(Rn){var Un=Rn.closeOnEscape,In=Rn.onClose,Dt=At.useRef();return tn(function(){Dt.current&&Un&&In()}),At.createElement("div",{className:"rpv-core__popover-overlay",ref:Dt})},En=function(Rn){var Un=Rn.ariaControlsSuffix,In=Rn.children,Dt=Rn.contentRef,mn=Rn.offset,Nn=Rn.position,Hn=Rn.targetRef,Xn=At.useRef(),Wn=At.useContext(Pt).direction===_e.TextDirection.RightToLeft;return pn(Dt,Hn,Xn,Nn,mn),At.createElement(At.Fragment,null,At.createElement("div",{ref:Xn,style:{left:0,position:"absolute",top:0}}),At.createElement("div",{className:xt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Wn}),id:"rpv-core__tooltip-body-".concat(Un),ref:Dt,role:"tooltip"},At.createElement(Cn,{customClassName:"rpv-core__tooltip-body-arrow",position:Nn}),At.createElement("div",{className:"rpv-core__tooltip-body-content"},In)))};_e.FullScreenMode=void 0,(An=_e.FullScreenMode||(_e.FullScreenMode={})).Normal="Normal",An.Entering="Entering",An.Entered="Entered",An.EnteredCompletely="EnteredCompletely",An.Exitting="Exitting",An.Exited="Exited",_e.LayerRenderStatus=void 0,(an=_e.LayerRenderStatus||(_e.LayerRenderStatus={}))[an.PreRender=0]="PreRender",an[an.DidRender=1]="DidRender",_e.PageMode=void 0,(fn=_e.PageMode||(_e.PageMode={})).Attachments="UseAttachments",fn.Bookmarks="UseOutlines",fn.ContentGroup="UseOC",fn.Default="UserNone",fn.FullScreen="FullScreen",fn.Thumbnails="UseThumbs",_e.PasswordStatus=void 0,(bn=_e.PasswordStatus||(_e.PasswordStatus={})).RequiredPassword="RequiredPassword",bn.WrongPassword="WrongPassword",_e.RotateDirection=void 0,(vn=_e.RotateDirection||(_e.RotateDirection={})).Backward="Backward",vn.Forward="Forward",_e.ScrollMode=void 0,(gn=_e.ScrollMode||(_e.ScrollMode={})).Page="Page",gn.Horizontal="Horizontal",gn.Vertical="Vertical",gn.Wrapped="Wrapped",_e.SpecialZoomLevel=void 0,(on=_e.SpecialZoomLevel||(_e.SpecialZoomLevel={})).ActualSize="ActualSize",on.PageFit="PageFit",on.PageWidth="PageWidth",_e.ViewMode=void 0,(wn=_e.ViewMode||(_e.ViewMode={})).DualPage="DualPage",wn.DualPageWithCover="DualPageWithCover",wn.SinglePage="SinglePage";var kn,Pn=function(Rn,Un){return Rn.reduce(function(In,Dt,mn){return mn%Un?In[In.length-1].push(Dt):In.push([Dt]),In},[])},_n=function(Rn,Un){switch(Un[1].name){case"XYZ":return{bottomOffset:function(In,Dt){return Un[3]===null?Dt:Un[3]},leftOffset:function(In,Dt){return Un[2]===null?0:Un[2]},pageIndex:Rn,scaleTo:Un[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Rn,scaleTo:_e.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Un[2],leftOffset:0,pageIndex:Rn,scaleTo:_e.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Rn,scaleTo:1}}},Mn=new Map,On=new Map,jn=function(Rn,Un){return"".concat(Rn.loadingTask.docId,"___").concat(Un.num,"R").concat(Un.gen===0?"":Un.gen)},qn=function(Rn,Un,In){Mn.set(jn(Rn,Un),In)},Gn=function(Rn,Un){if(!Rn)return Promise.reject("The document is not loaded yet");var In="".concat(Rn.loadingTask.docId,"___").concat(Un),Dt=On.get(In);return Dt?Promise.resolve(Dt):new Promise(function(mn,Nn){Rn.getPage(Un+1).then(function(Hn){On.set(In,Hn),Hn.ref&&qn(Rn,Hn.ref,Un),mn(Hn)})})},Yn=function(Rn,Un){return new Promise(function(In){new Promise(function(Dt){typeof Un=="string"?Rn.getDestination(Un).then(function(mn){Dt(mn)}):Dt(Un)}).then(function(Dt){if(typeof Dt[0]=="object"&&Dt[0]!==null){var mn=Dt[0],Nn=function(Xn,Wn){var Jn=jn(Xn,Wn);return Mn.has(Jn)?Mn.get(Jn):null}(Rn,mn);Nn===null?Rn.getPageIndex(mn).then(function(Xn){qn(Rn,mn,Xn),Yn(Rn,Un).then(function(Wn){return In(Wn)})}):In(_n(Nn,Dt))}else{var Hn=_n(Dt[0],Dt);In(Hn)}})})};(function(Rn){Rn[Rn.Solid=1]="Solid",Rn[Rn.Dashed=2]="Dashed",Rn[Rn.Beveled=3]="Beveled",Rn[Rn.Inset=4]="Inset",Rn[Rn.Underline=5]="Underline"})(kn||(kn={}));var er,cr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),rr=function(Rn,Un,In,Dt){var mn=parseInt(Rn,10);return mn>=Un&&mn<=In?mn:Dt},tr=function(Rn){return Rn.contentsObj?Rn.contentsObj.str:Rn.contents||""},ir=function(Rn){return Rn.titleObj?Rn.titleObj.str:Rn.title||""},Kn=function(Rn){var Un=Rn.annotation,In=At.useContext(Pt).direction,Dt=ir(Un),mn=tr(Un),Nn=In===_e.TextDirection.RightToLeft,Hn=At.useRef(),Xn="";if(Un.modificationDate){var Wn=function(Jn){var Zn=cr.exec(Jn);if(!Zn)return null;var ar=parseInt(Zn[1],10),hr=rr(Zn[2],1,12,1)-1,dr=rr(Zn[3],1,31,1),Er=rr(Zn[4],0,23,0),Sr=rr(Zn[5],0,59,0),Ar=rr(Zn[6],0,59,0),Lr=Zn[7]||"Z",Vr=rr(Zn[8],0,23,0),Fr=rr(Zn[9],0,59,0);switch(Lr){case"-":Er+=Vr,Sr+=Fr;break;case"+":Er-=Vr,Sr-=Fr}return new Date(Date.UTC(ar,hr,dr,Er,Sr,Ar))}(Un.modificationDate);Xn=Wn?"".concat(Wn.toLocaleDateString(),", ").concat(Wn.toLocaleTimeString()):""}return At.useLayoutEffect(function(){if(Hn.current){var Jn=document.querySelector('[data-annotation-id="'.concat(Un.id,'"]'));if(Jn){var Zn=Jn;return Zn.style.zIndex+=1,function(){Zn.style.zIndex="".concat(parseInt(Zn.style.zIndex,10)-1)}}}},[]),At.createElement("div",{ref:Hn,className:xt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Nn}),style:{top:Un.annotationType===_e.AnnotationType.Popup?"":"100%"}},Dt&&At.createElement(At.Fragment,null,At.createElement("div",{className:xt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Nn,"rpv-core__annotation-popup-title--rtl":Nn})},Dt),At.createElement("div",{className:"rpv-core__annotation-popup-date"},Xn)),mn&&At.createElement("div",{className:"rpv-core__annotation-popup-content"},mn.split(`
`).map(function(Jn,Zn){return At.createElement(At.Fragment,{key:Zn},Jn,At.createElement("br",null))})))};(function(Rn){Rn.Click="Click",Rn.Hover="Hover"})(er||(er={}));var Vn,Bn=function(Rn){var Un,In=Rn.annotation,Dt=Rn.children,mn=Rn.ignoreBorder,Nn=Rn.hasPopup,Hn=Rn.isRenderable,Xn=Rn.page,Wn=Rn.viewport,Jn=In.rect,Zn=function(){var is=rn(!1),ws=is.opened,ps=is.toggle,Ss=At.useState(er.Hover),Cs=Ss[0],Rs=Ss[1];return{opened:ws,closeOnHover:function(){Cs===er.Hover&&ps(_e.ToggleStatus.Close)},openOnHover:function(){Cs===er.Hover&&ps(_e.ToggleStatus.Open)},toggleOnClick:function(){switch(Cs){case er.Click:ws&&Rs(er.Hover),ps(_e.ToggleStatus.Toggle);break;case er.Hover:Rs(er.Click),ps(_e.ToggleStatus.Open)}}}}(),ar=Zn.closeOnHover,hr=Zn.opened,dr=Zn.openOnHover,Er=Zn.toggleOnClick,Sr=(Un=[Jn[0],Xn.view[3]+Xn.view[1]-Jn[1],Jn[2],Xn.view[3]+Xn.view[1]-Jn[3]],[Math.min(Un[0],Un[2]),Math.min(Un[1],Un[3]),Math.max(Un[0],Un[2]),Math.max(Un[1],Un[3])]),Ar=Jn[2]-Jn[0],Lr=Jn[3]-Jn[1],Vr={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!mn&&In.borderStyle.width>0){switch(In.borderStyle.style){case kn.Dashed:Vr.borderStyle="dashed";break;case kn.Solid:Vr.borderStyle="solid";break;case kn.Underline:Vr=Object.assign({borderBottomStyle:"solid"},Vr);case kn.Beveled:case kn.Inset:}var Fr=In.borderStyle.width;Vr.borderWidth="".concat(Fr,"px"),In.borderStyle.style!==kn.Underline&&(Ar-=2*Fr,Lr-=2*Fr);var Nr=In.borderStyle,jr=Nr.horizontalCornerRadius,Dr=Nr.verticalCornerRadius;(jr>0||Dr>0)&&(Vr.borderRadius="".concat(jr,"px / ").concat(Dr,"px")),In.color?Vr.borderColor="rgb(".concat(0|In.color[0],", ").concat(0|In.color[1],", ").concat(0|In.color[2],")"):Vr.borderWidth="0"}return At.createElement(At.Fragment,null,Hn&&Dt({popup:{opened:hr,closeOnHover:ar,openOnHover:dr,toggleOnClick:Er},slot:{attrs:{style:Object.assign({height:"".concat(Lr,"px"),left:"".concat(Sr[0],"px"),top:"".concat(Sr[1],"px"),transform:"matrix(".concat(Wn.transform.join(","),")"),transformOrigin:"-".concat(Sr[0],"px -").concat(Sr[1],"px"),width:"".concat(Ar,"px")},Vr)},children:At.createElement(At.Fragment,null,Nn&&hr&&At.createElement(Kn,{annotation:In}))}}))},lr=function(Rn){var Un=Rn.annotation,In=Rn.page,Dt=Rn.viewport,mn=Un.hasPopup===!1,Nn=ir(Un),Hn=tr(Un),Xn=!!(Un.hasPopup||Nn||Hn);return At.createElement(Bn,{annotation:Un,hasPopup:mn,ignoreBorder:!0,isRenderable:Xn,page:In,viewport:Dt},function(Wn){return At.createElement("div",Et({},Wn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Un.id,onClick:Wn.popup.toggleOnClick,onMouseEnter:Wn.popup.openOnHover,onMouseLeave:Wn.popup.closeOnHover}),Wn.slot.children)})},br=function(Rn){var Un=Rn.annotation,In=Rn.page,Dt=Rn.viewport,mn=Un.hasPopup===!1,Nn=ir(Un),Hn=tr(Un),Xn=!!(Un.hasPopup||Nn||Hn),Wn=Un.rect,Jn=Wn[2]-Wn[0],Zn=Wn[3]-Wn[1],ar=Un.borderStyle.width;return At.createElement(Bn,{annotation:Un,hasPopup:mn,ignoreBorder:!0,isRenderable:Xn,page:In,viewport:Dt},function(hr){return At.createElement("div",Et({},hr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Un.id,onClick:hr.popup.toggleOnClick,onMouseEnter:hr.popup.openOnHover,onMouseLeave:hr.popup.closeOnHover}),At.createElement("svg",{height:"".concat(Zn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Jn," ").concat(Zn),width:"".concat(Jn,"px")},At.createElement("circle",{cy:Zn/2,fill:"none",rx:Jn/2-ar/2,ry:Zn/2-ar/2,stroke:"transparent",strokeWidth:ar||1})),hr.slot.children)})},Pr=function(Rn){var Un=Rn.annotation,In=Rn.page,Dt=Rn.viewport,mn=ir(Un),Nn=tr(Un),Hn=!(Un.hasPopup!==!1||!mn&&!Nn),Xn=function(){var Wn,Jn,Zn,ar,hr=Un.file;hr&&(Wn=hr.filename,Jn=hr.content,Zn=typeof Jn=="string"?"":URL.createObjectURL(new Blob([Jn],{type:""})),(ar=document.createElement("a")).style.display="none",ar.href=Zn||Wn,ar.setAttribute("download",function(dr){var Er=dr.split("/").pop();return Er?Er.split("#")[0].split("?")[0]:dr}(Wn)),document.body.appendChild(ar),ar.click(),document.body.removeChild(ar),Zn&&URL.revokeObjectURL(Zn))};return At.createElement(Bn,{annotation:Un,hasPopup:Hn,ignoreBorder:!0,isRenderable:!0,page:In,viewport:Dt},function(Wn){return At.createElement("div",Et({},Wn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Un.id,onClick:Wn.popup.toggleOnClick,onDoubleClick:Xn,onMouseEnter:Wn.popup.openOnHover,onMouseLeave:Wn.popup.closeOnHover}),Wn.slot.children)})},nr=function(Rn){var Un=Rn.annotation,In=Rn.page,Dt=Rn.viewport,mn=Un.hasPopup===!1,Nn=ir(Un),Hn=tr(Un),Xn=!!(Un.hasPopup||Nn||Hn);return At.createElement(Bn,{annotation:Un,hasPopup:mn,ignoreBorder:!0,isRenderable:Xn,page:In,viewport:Dt},function(Wn){return At.createElement("div",Et({},Wn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Un.id,onClick:Wn.popup.toggleOnClick,onMouseEnter:Wn.popup.openOnHover,onMouseLeave:Wn.popup.closeOnHover}),Wn.slot.children)})},_i=function(Rn){var Un=Rn.annotation,In=Rn.page,Dt=Rn.viewport,mn=ir(Un),Nn=tr(Un),Hn=!(!mn&&!Nn),Xn=!Un.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Un.parentType)!==-1;return $t(function(){if(Un.parentId){var Wn=document.querySelector('[data-annotation-id="'.concat(Un.parentId,'"]')),Jn=document.querySelector('[data-annotation-id="'.concat(Un.id,'"]'));if(Wn&&Jn){var Zn=parseFloat(Wn.style.left),ar=parseFloat(Wn.style.top)+parseFloat(Wn.style.height);Jn.style.left="".concat(Zn,"px"),Jn.style.top="".concat(ar,"px"),Jn.style.transformOrigin="-".concat(Zn,"px -").concat(ar,"px")}}},[]),At.createElement(Bn,{annotation:Un,hasPopup:Xn,ignoreBorder:!1,isRenderable:Hn,page:In,viewport:Dt},function(Wn){return At.createElement("div",Et({},Wn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Un.id}),At.createElement(Kn,{annotation:Un}))})},zn=function(Rn){var Un=Rn.annotation,In=Rn.childAnnotation,Dt=Rn.page,mn=Rn.viewport,Nn=Un.hasPopup===!1,Hn=ir(Un),Xn=tr(Un),Wn=!!(Un.hasPopup||Hn||Xn);if(Un.quadPoints&&Un.quadPoints.length>0){var Jn=Un.quadPoints.map(function(Zn){return Object.assign({},Un,{rect:[Zn[2].x,Zn[2].y,Zn[1].x,Zn[1].y],quadPoints:[]})});return At.createElement(At.Fragment,null,Jn.map(function(Zn,ar){return At.createElement(zn,{key:ar,annotation:Zn,childAnnotation:In,page:Dt,viewport:mn})}))}return At.createElement(Bn,{annotation:Un,hasPopup:Nn,ignoreBorder:!0,isRenderable:Wn,page:Dt,viewport:mn},function(Zn){return At.createElement(At.Fragment,null,At.createElement("div",Et({},Zn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Un.id,onClick:Zn.popup.toggleOnClick,onMouseEnter:Zn.popup.openOnHover,onMouseLeave:Zn.popup.closeOnHover}),Zn.slot.children),In&&In.annotationType===_e.AnnotationType.Popup&&Zn.popup.opened&&At.createElement(_i,{annotation:In,page:Dt,viewport:mn}))})},wr=function(Rn){var Un=Rn.annotation,In=Rn.page,Dt=Rn.viewport,mn=Un.hasPopup===!1,Nn=ir(Un),Hn=tr(Un),Xn=!!(Un.hasPopup||Nn||Hn),Wn=Un.rect,Jn=Wn[2]-Wn[0],Zn=Wn[3]-Wn[1],ar=Un.borderStyle.width;return At.createElement(Bn,{annotation:Un,hasPopup:mn,ignoreBorder:!0,isRenderable:Xn,page:In,viewport:Dt},function(hr){return At.createElement("div",Et({},hr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Un.id,onClick:hr.popup.toggleOnClick,onMouseEnter:hr.popup.openOnHover,onMouseLeave:hr.popup.closeOnHover}),Un.inkLists&&Un.inkLists.length&&At.createElement("svg",{height:"".concat(Zn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Jn," ").concat(Zn),width:"".concat(Jn,"px")},Un.inkLists.map(function(dr,Er){return At.createElement("polyline",{key:Er,fill:"none",stroke:"transparent",strokeWidth:ar||1,points:dr.map(function(Sr){return"".concat(Sr.x-Wn[0],",").concat(Wn[3]-Sr.y)}).join(" ")})})),hr.slot.children)})},Cr=function(Rn){var Un=Rn.annotation,In=Rn.page,Dt=Rn.viewport,mn=Un.hasPopup===!1,Nn=ir(Un),Hn=tr(Un),Xn=!!(Un.hasPopup||Nn||Hn),Wn=Un.rect,Jn=Wn[2]-Wn[0],Zn=Wn[3]-Wn[1],ar=Un.borderStyle.width;return At.createElement(Bn,{annotation:Un,hasPopup:mn,ignoreBorder:!0,isRenderable:Xn,page:In,viewport:Dt},function(hr){return At.createElement("div",Et({},hr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Un.id,onClick:hr.popup.toggleOnClick,onMouseEnter:hr.popup.openOnHover,onMouseLeave:hr.popup.closeOnHover}),At.createElement("svg",{height:"".concat(Zn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Jn," ").concat(Zn),width:"".concat(Jn,"px")},At.createElement("line",{stroke:"transparent",strokeWidth:ar||1,x1:Wn[2]-Un.lineCoordinates[0],x2:Wn[2]-Un.lineCoordinates[2],y1:Wn[3]-Un.lineCoordinates[1],y2:Wn[3]-Un.lineCoordinates[3]})),hr.slot.children)})},yr=/^([^\w]*)(javascript|data|vbscript)/im,Br=/&#(\w+)(^\w|;)?/g,gr=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Mr=/^([^:]+):/gm,qr=function(Rn,Un){var In,Dt=(In=Rn||"",In.replace(Br,function(Xn,Wn){return String.fromCharCode(Wn)})).replace(gr,"").trim();if(!Dt)return Un;var mn=Dt[0];if(mn==="."||mn==="/")return Dt;var Nn=Dt.match(Mr);if(!Nn)return Dt;var Hn=Nn[0];return yr.test(Hn)?Un:Dt},pr=function(Rn){var Un,In=Rn.annotation,Dt=Rn.annotationContainerRef,mn=Rn.doc,Nn=Rn.outlines,Hn=Rn.page,Xn=Rn.pageIndex,Wn=Rn.scale,Jn=Rn.viewport,Zn=Rn.onExecuteNamedAction,ar=Rn.onJumpFromLinkAnnotation,hr=Rn.onJumpToDest,dr=At.useRef(),Er=Nn&&Nn.length&&In.dest&&typeof In.dest=="string"?(Un=Nn.find(function(Vr){return Vr.dest===In.dest}))===null||Un===void 0?void 0:Un.title:"",Sr=!!(In.url||In.dest||In.action||In.unsafeUrl),Ar={};if(In.url||In.unsafeUrl){var Lr=qr(In.url||In.unsafeUrl,"");Lr?Ar={"data-target":"external",href:Lr,rel:"noopener noreferrer nofollow",target:In.newWindow?"_blank":"",title:Lr}:Sr=!1}else Ar={href:"","data-annotation-link":In.id,onClick:function(Vr){Vr.preventDefault(),In.action?Zn(In.action):Yn(mn,In.dest).then(function(Fr){var Nr=dr.current,jr=Dt.current;if(Nr&&jr){var Dr=Nr.getBoundingClientRect();jr.style.setProperty("height","100%"),jr.style.setProperty("width","100%");var is=jr.getBoundingClientRect();jr.style.removeProperty("height"),jr.style.removeProperty("width");var ws=(Dr.left-is.left)/Wn,ps=(is.bottom-Dr.bottom+Dr.height)/Wn;ar({bottomOffset:ps,label:Er,leftOffset:ws,pageIndex:Xn})}hr(Fr)})}};return Er&&(Ar=Object.assign({},Ar,{title:Er,"aria-label":Er})),At.createElement(Bn,{annotation:In,hasPopup:!1,ignoreBorder:!1,isRenderable:Sr,page:Hn,viewport:Jn},function(Vr){return At.createElement("div",Et({},Vr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":In.id,"data-testid":"core__annotation--link-".concat(In.id)}),At.createElement("a",Et({ref:dr},Ar)))})},zr=function(Rn){var Un=Rn.annotation,In=Rn.page,Dt=Rn.viewport,mn=Un.hasPopup===!1,Nn=ir(Un),Hn=tr(Un),Xn=!!(Un.hasPopup||Nn||Hn),Wn=Un.rect,Jn=Wn[2]-Wn[0],Zn=Wn[3]-Wn[1],ar=Un.borderStyle.width;return At.createElement(Bn,{annotation:Un,hasPopup:mn,ignoreBorder:!0,isRenderable:Xn,page:In,viewport:Dt},function(hr){return At.createElement("div",Et({},hr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Un.id,onClick:hr.popup.toggleOnClick,onMouseEnter:hr.popup.openOnHover,onMouseLeave:hr.popup.closeOnHover}),Un.vertices&&Un.vertices.length&&At.createElement("svg",{height:"".concat(Zn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Jn," ").concat(Zn),width:"".concat(Jn,"px")},At.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:ar||1,points:Un.vertices.map(function(dr){return"".concat(dr.x-Wn[0],",").concat(Wn[3]-dr.y)}).join(" ")})),hr.slot.children)})},Rr=function(Rn){var Un=Rn.annotation,In=Rn.page,Dt=Rn.viewport,mn=Un.hasPopup===!1,Nn=ir(Un),Hn=tr(Un),Xn=!!(Un.hasPopup||Nn||Hn),Wn=Un.rect,Jn=Wn[2]-Wn[0],Zn=Wn[3]-Wn[1],ar=Un.borderStyle.width;return At.createElement(Bn,{annotation:Un,hasPopup:mn,ignoreBorder:!0,isRenderable:Xn,page:In,viewport:Dt},function(hr){return At.createElement("div",Et({},hr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Un.id,onClick:hr.popup.toggleOnClick,onMouseEnter:hr.popup.openOnHover,onMouseLeave:hr.popup.closeOnHover}),Un.vertices&&Un.vertices.length&&At.createElement("svg",{height:"".concat(Zn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Jn," ").concat(Zn),width:"".concat(Jn,"px")},At.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:ar||1,points:Un.vertices.map(function(dr){return"".concat(dr.x-Wn[0],",").concat(Wn[3]-dr.y)}).join(" ")})),hr.slot.children)})},fs=function(Rn){var Un=Rn.annotation,In=Rn.page,Dt=Rn.viewport,mn=Un.hasPopup===!1,Nn=ir(Un),Hn=tr(Un),Xn=!!(Un.hasPopup||Nn||Hn),Wn=Un.rect,Jn=Wn[2]-Wn[0],Zn=Wn[3]-Wn[1],ar=Un.borderStyle.width;return At.createElement(Bn,{annotation:Un,hasPopup:mn,ignoreBorder:!0,isRenderable:Xn,page:In,viewport:Dt},function(hr){return At.createElement("div",Et({},hr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Un.id,onClick:hr.popup.toggleOnClick,onMouseEnter:hr.popup.openOnHover,onMouseLeave:hr.popup.closeOnHover}),At.createElement("svg",{height:"".concat(Zn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Jn," ").concat(Zn),width:"".concat(Jn,"px")},At.createElement("rect",{height:Zn-ar,fill:"none",stroke:"transparent",strokeWidth:ar||1,x:ar/2,y:ar/2,width:Jn-ar})),hr.slot.children)})},Yr=function(Rn){var Un=Rn.annotation,In=Rn.page,Dt=Rn.viewport,mn=Un.hasPopup===!1,Nn=ir(Un),Hn=tr(Un),Xn=!!(Un.hasPopup||Nn||Hn);return At.createElement(Bn,{annotation:Un,hasPopup:mn,ignoreBorder:!0,isRenderable:Xn,page:In,viewport:Dt},function(Wn){return At.createElement("div",Et({},Wn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Un.id,onClick:Wn.popup.toggleOnClick,onMouseEnter:Wn.popup.openOnHover,onMouseLeave:Wn.popup.closeOnHover}),Wn.slot.children)})},Jr=function(Rn){var Un=Rn.annotation,In=Rn.page,Dt=Rn.viewport,mn=Un.hasPopup===!1,Nn=ir(Un),Hn=tr(Un),Xn=!!(Un.hasPopup||Nn||Hn);return At.createElement(Bn,{annotation:Un,hasPopup:mn,ignoreBorder:!0,isRenderable:Xn,page:In,viewport:Dt},function(Wn){return At.createElement("div",Et({},Wn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Un.id,onClick:Wn.popup.toggleOnClick,onMouseEnter:Wn.popup.openOnHover,onMouseLeave:Wn.popup.closeOnHover}),Wn.slot.children)})},Ur=function(Rn){var Un=Rn.annotation,In=Rn.page,Dt=Rn.viewport,mn=Un.hasPopup===!1,Nn=ir(Un),Hn=tr(Un),Xn=!!(Un.hasPopup||Nn||Hn);return At.createElement(Bn,{annotation:Un,hasPopup:mn,ignoreBorder:!0,isRenderable:Xn,page:In,viewport:Dt},function(Wn){return At.createElement("div",Et({},Wn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Un.id,onClick:Wn.popup.toggleOnClick,onMouseEnter:Wn.popup.openOnHover,onMouseLeave:Wn.popup.closeOnHover}),Wn.slot.children)})},Is=function(){return At.createElement(jt,{size:16},At.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),At.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),At.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),At.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},_s=function(){return At.createElement(jt,{size:16},At.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),At.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),At.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),At.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),At.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),At.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),At.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),At.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),At.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),At.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},mr=function(){return At.createElement(jt,{size:16},At.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),At.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},or=function(){return At.createElement(jt,{size:16},At.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),At.createElement("path",{d:"M6 4.5L6 0.5"}),At.createElement("path",{d:"M18 4.5L18 0.5"}),At.createElement("path",{d:"M10 4.5L10 0.5"}),At.createElement("path",{d:"M14 4.5L14 0.5"}))},xr=function(){return At.createElement(jt,{size:16},At.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),At.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),At.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},vr=function(){return At.createElement(jt,{size:16},At.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Or=function(Rn){var Un=Rn.annotation,In=Rn.childAnnotation,Dt=Rn.page,mn=Rn.viewport,Nn=Un.hasPopup===!1,Hn=ir(Un),Xn=tr(Un),Wn=!!(Un.hasPopup||Hn||Xn),Jn=Un.name?Un.name.toLowerCase():"";return At.createElement(Bn,{annotation:Un,hasPopup:Nn,ignoreBorder:!1,isRenderable:Wn,page:Dt,viewport:mn},function(Zn){return At.createElement(At.Fragment,null,At.createElement("div",Et({},Zn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Un.id,onClick:Zn.popup.toggleOnClick,onMouseEnter:Zn.popup.openOnHover,onMouseLeave:Zn.popup.closeOnHover}),Jn&&At.createElement("div",{className:"rpv-core__annotation-text-icon"},Jn==="check"&&At.createElement(Rt,null),Jn==="comment"&&At.createElement(Is,null),Jn==="help"&&At.createElement(_s,null),Jn==="insert"&&At.createElement(vr,null),Jn==="key"&&At.createElement(mr,null),Jn==="note"&&At.createElement(or,null),(Jn==="newparagraph"||Jn==="paragraph")&&At.createElement(xr,null)),Zn.slot.children),In&&In.annotationType===_e.AnnotationType.Popup&&Zn.popup.opened&&At.createElement(_i,{annotation:In,page:Dt,viewport:mn}))})},Gr=function(Rn){var Un=Rn.annotation,In=Rn.page,Dt=Rn.viewport,mn=Un.hasPopup===!1,Nn=ir(Un),Hn=tr(Un),Xn=!!(Un.hasPopup||Nn||Hn);return At.createElement(Bn,{annotation:Un,hasPopup:mn,ignoreBorder:!0,isRenderable:Xn,page:In,viewport:Dt},function(Wn){return At.createElement("div",Et({},Wn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Un.id,onClick:Wn.popup.toggleOnClick,onMouseEnter:Wn.popup.openOnHover,onMouseLeave:Wn.popup.closeOnHover}),Wn.slot.children)})},Ir=function(Rn){var Un=Rn.annotations,In=Rn.doc,Dt=Rn.outlines,mn=Rn.page,Nn=Rn.pageIndex,Hn=Rn.plugins,Xn=Rn.rotation,Wn=Rn.scale,Jn=Rn.onExecuteNamedAction,Zn=Rn.onJumpFromLinkAnnotation,ar=Rn.onJumpToDest,hr=At.useRef(),dr=mn.getViewport({rotation:Xn,scale:Wn}).clone({dontFlip:!0}),Er=Un.filter(function(Sr){return!Sr.parentId});return $t(function(){var Sr=hr.current;Sr&&Hn.forEach(function(Ar){Ar.onAnnotationLayerRender&&Ar.onAnnotationLayerRender({annotations:Er,container:Sr,pageIndex:Nn,rotation:Xn,scale:Wn})})},[]),At.createElement("div",{ref:hr,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Nn)},Er.map(function(Sr){var Ar=Un.find(function(Lr){return Lr.parentId===Sr.id});switch(Sr.annotationType){case _e.AnnotationType.Caret:return At.createElement(lr,{key:Sr.id,annotation:Sr,page:mn,viewport:dr});case _e.AnnotationType.Circle:return At.createElement(br,{key:Sr.id,annotation:Sr,page:mn,viewport:dr});case _e.AnnotationType.FileAttachment:return At.createElement(Pr,{key:Sr.id,annotation:Sr,page:mn,viewport:dr});case _e.AnnotationType.FreeText:return At.createElement(nr,{key:Sr.id,annotation:Sr,page:mn,viewport:dr});case _e.AnnotationType.Highlight:return At.createElement(zn,{key:Sr.id,annotation:Sr,childAnnotation:Ar,page:mn,viewport:dr});case _e.AnnotationType.Ink:return At.createElement(wr,{key:Sr.id,annotation:Sr,page:mn,viewport:dr});case _e.AnnotationType.Line:return At.createElement(Cr,{key:Sr.id,annotation:Sr,page:mn,viewport:dr});case _e.AnnotationType.Link:return At.createElement(pr,{key:Sr.id,annotation:Sr,annotationContainerRef:hr,doc:In,outlines:Dt,page:mn,pageIndex:Nn,scale:Wn,viewport:dr,onExecuteNamedAction:Jn,onJumpFromLinkAnnotation:Zn,onJumpToDest:ar});case _e.AnnotationType.Polygon:return At.createElement(zr,{key:Sr.id,annotation:Sr,page:mn,viewport:dr});case _e.AnnotationType.Polyline:return At.createElement(Rr,{key:Sr.id,annotation:Sr,page:mn,viewport:dr});case _e.AnnotationType.Popup:return At.createElement(_i,{key:Sr.id,annotation:Sr,page:mn,viewport:dr});case _e.AnnotationType.Square:return At.createElement(fs,{key:Sr.id,annotation:Sr,page:mn,viewport:dr});case _e.AnnotationType.Squiggly:return At.createElement(Yr,{key:Sr.id,annotation:Sr,page:mn,viewport:dr});case _e.AnnotationType.Stamp:return At.createElement(Jr,{key:Sr.id,annotation:Sr,page:mn,viewport:dr});case _e.AnnotationType.StrikeOut:return At.createElement(Ur,{key:Sr.id,annotation:Sr,page:mn,viewport:dr});case _e.AnnotationType.Text:return At.createElement(Or,{key:Sr.id,annotation:Sr,childAnnotation:Ar,page:mn,viewport:dr});case _e.AnnotationType.Underline:return At.createElement(Gr,{key:Sr.id,annotation:Sr,page:mn,viewport:dr});default:return At.createElement(At.Fragment,{key:Sr.id})}}))},kr=function(Rn){var Un=Rn.page,In=Rn.renderAnnotations,Dt=Qt(),mn=At.useState({loading:!0,annotations:[]}),Nn=mn[0],Hn=mn[1];return At.useEffect(function(){Un.getAnnotations({intent:"display"}).then(function(Xn){Dt.current&&Hn({loading:!1,annotations:Xn})})},[]),Nn.loading?At.createElement(At.Fragment,null):In(Nn.annotations)},$r=function(Rn){var Un=Rn.doc,In=Rn.outlines,Dt=Rn.page,mn=Rn.pageIndex,Nn=Rn.plugins,Hn=Rn.rotation,Xn=Rn.scale,Wn=Rn.onExecuteNamedAction,Jn=Rn.onJumpFromLinkAnnotation,Zn=Rn.onJumpToDest;return At.createElement(kr,{page:Dt,renderAnnotations:function(ar){return At.createElement(Ir,{annotations:ar,doc:Un,outlines:In,page:Dt,pageIndex:mn,plugins:Nn,rotation:Hn,scale:Xn,onExecuteNamedAction:Wn,onJumpFromLinkAnnotation:Jn,onJumpToDest:Zn})}})},Hr=function(Rn,Un){var In=Rn%Un;return In===0?Rn:Math.floor(Rn-In)},us=function(Rn){var Un=Rn.canvasLayerRef,In=Rn.height,Dt=Rn.page,mn=Rn.pageIndex,Nn=Rn.plugins,Hn=Rn.rotation,Xn=Rn.scale,Wn=Rn.width,Jn=Rn.onRenderCanvasCompleted,Zn=At.useRef();return $t(function(){var ar=Zn.current;ar&&ar.cancel();var hr=Un.current;hr.removeAttribute("data-testid"),Nn.forEach(function(is){is.onCanvasLayerRender&&is.onCanvasLayerRender({ele:hr,pageIndex:mn,rotation:Hn,scale:Xn,status:_e.LayerRenderStatus.PreRender})});var dr=Dt.getViewport({rotation:Hn,scale:Xn}),Er=window.devicePixelRatio||1,Sr=Math.sqrt(16777216/(dr.width*dr.height)),Ar=Er>Sr;Ar?hr.style.transform="scale(1, 1)":hr.style.removeProperty("transform");var Lr=Math.min(Sr,Er),Vr=function(is,ws){var ps,Ss;if(Math.floor(is)===is)return[is,1];var Cs=1/is;if(Cs>ws)return[1,ws];if(Math.floor(Cs)===Cs)return[1,Cs];for(var Rs=is>1?Cs:is,Gs=0,qs=1,eo=1,na=1;;){var xa=Gs+eo,ba=qs+na;if(ba>ws)break;Rs<=xa/ba?(eo=(ps=[xa,ba])[0],na=ps[1]):(Gs=(Ss=[xa,ba])[0],qs=Ss[1])}return Rs<(Gs/qs+eo/na)/2?Rs===is?[Gs,qs]:[qs,Gs]:Rs===is?[eo,na]:[na,eo]}(Lr,8),Fr=Vr[0],Nr=Vr[1];hr.width=Hr(dr.width*Lr,Fr),hr.height=Hr(dr.height*Lr,Fr),hr.style.width="".concat(Hr(dr.width,Nr),"px"),hr.style.height="".concat(Hr(dr.height,Nr),"px"),hr.hidden=!0;var jr=hr.getContext("2d",{alpha:!1}),Dr=Ar||Er!==1?[Lr,0,0,Lr,0,0]:null;return Zn.current=Dt.render({canvasContext:jr,transform:Dr,viewport:dr}),Zn.current.promise.then(function(){hr.hidden=!1,hr.setAttribute("data-testid","core__canvas-layer-".concat(mn)),Nn.forEach(function(is){is.onCanvasLayerRender&&is.onCanvasLayerRender({ele:hr,pageIndex:mn,rotation:Hn,scale:Xn,status:_e.LayerRenderStatus.DidRender})}),Jn()},function(){Jn()}),function(){hr&&(hr.width=0,hr.height=0)}},[]),At.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(In,"px"),width:"".concat(Wn,"px")}},At.createElement("canvas",{ref:Un}))},rs=function(Rn){var Un=Rn.height,In=Rn.page,Dt=Rn.rotation,mn=Rn.scale,Nn=Rn.width,Hn=At.useRef();return $t(function(){var Xn=Hn.current,Wn=In.getViewport({rotation:Dt,scale:mn});In.getOperatorList().then(function(Jn){(function(){var Zn=Hn.current;Zn&&(Zn.innerHTML="")})(),new Ct.SVGGraphics(In.commonObjs,In.objs).getSVG(Jn,Wn).then(function(Zn){Zn.style.height="".concat(Un,"px"),Zn.style.width="".concat(Nn,"px"),Xn.appendChild(Zn)})})},[]),At.createElement("div",{className:"rpv-core__svg-layer",ref:Hn})},Xr=function(Rn){var Un=Rn.containerRef,In=Rn.page,Dt=Rn.pageIndex,mn=Rn.plugins,Nn=Rn.rotation,Hn=Rn.scale,Xn=Rn.onRenderTextCompleted,Wn=At.useRef(),Jn=function(){var Zn=Un.current;Zn&&([].slice.call(Zn.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(ar){return Zn.removeChild(ar)}),[].slice.call(Zn.querySelectorAll('br[role="presentation"]')).forEach(function(ar){return Zn.removeChild(ar)}))};return $t(function(){var Zn=Wn.current;Zn&&Zn.cancel();var ar=Un.current;if(ar){ar.removeAttribute("data-testid");var hr=In.getViewport({rotation:Nn,scale:Hn});return mn.forEach(function(dr){dr.onTextLayerRender&&dr.onTextLayerRender({ele:ar,pageIndex:Dt,scale:Hn,status:_e.LayerRenderStatus.PreRender})}),In.getTextContent().then(function(dr){Jn(),Wn.current=Ct.renderTextLayer({container:ar,textContent:dr,textContentSource:dr,viewport:hr}),Wn.current.promise.then(function(){ar.setAttribute("data-testid","core__text-layer-".concat(Dt)),[].slice.call(ar.children).forEach(function(Er){Er.classList.contains("rpv-core__text-layer-text--not")||Er.classList.add("rpv-core__text-layer-text")}),mn.forEach(function(Er){Er.onTextLayerRender&&Er.onTextLayerRender({ele:ar,pageIndex:Dt,scale:Hn,status:_e.LayerRenderStatus.DidRender})}),Xn()},function(){ar.removeAttribute("data-testid"),Xn()})}),function(){var dr;Jn(),(dr=Wn.current)===null||dr===void 0||dr.cancel()}}},[]),At.createElement("div",{className:"rpv-core__text-layer",ref:Un})},Qn=function(Rn){var Un=Rn.doc,In=Rn.measureRef,Dt=Rn.outlines,mn=Rn.pageIndex,Nn=Rn.pageRotation,Hn=Rn.pageSize,Xn=Rn.plugins,Wn=Rn.renderPage,Jn=Rn.renderQueueKey,Zn=Rn.rotation,ar=Rn.scale,hr=Rn.shouldRender,dr=Rn.viewMode,Er=Rn.onExecuteNamedAction,Sr=Rn.onJumpFromLinkAnnotation,Ar=Rn.onJumpToDest,Lr=Rn.onRenderCompleted,Vr=Rn.onRotatePage,Fr=Qt(),Nr=At.useState(null),jr=Nr[0],Dr=Nr[1],is=At.useState(!1),ws=is[0],ps=is[1],Ss=At.useState(!1),Cs=Ss[0],Rs=Ss[1],Gs=At.useRef(),qs=At.useRef(),eo=Math.abs(Zn+Nn)%180==0,na=Hn.pageWidth*ar,xa=Hn.pageHeight*ar,ba=eo?na:xa,ga=eo?xa:na,go=(Hn.rotation+Zn+Nn)%360,Ll=At.useRef(0),yl=Wn||function(so){return At.createElement(At.Fragment,null,so.canvasLayer.children,so.textLayer.children,so.annotationLayer.children)};return At.useEffect(function(){Dr(null),ps(!1),Rs(!1)},[Nn,Zn,ar]),At.useEffect(function(){hr&&Fr.current&&!jr&&Gn(Un,mn).then(function(so){Fr.current&&(Ll.current=Jn,Dr(so))})},[hr,jr]),At.useEffect(function(){ws&&Cs&&(Jn!==Ll.current?(Dr(null),ps(!1),Rs(!1)):Lr(mn))},[ws,Cs]),At.createElement("div",{className:xt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":dr===_e.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":dr===_e.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":dr===_e.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(mn),ref:In,style:{height:"".concat(ga,"px"),width:"".concat(ba,"px")}},jr?At.createElement(At.Fragment,null,yl({annotationLayer:{attrs:{},children:At.createElement($r,{doc:Un,outlines:Dt,page:jr,pageIndex:mn,plugins:Xn,rotation:go,scale:ar,onExecuteNamedAction:Er,onJumpFromLinkAnnotation:Sr,onJumpToDest:Ar})},canvasLayer:{attrs:{},children:At.createElement(us,{canvasLayerRef:Gs,height:ga,page:jr,pageIndex:mn,plugins:Xn,rotation:go,scale:ar,width:ba,onRenderCanvasCompleted:function(){Fr.current&&ps(!0)}})},canvasLayerRendered:ws,doc:Un,height:ga,pageIndex:mn,rotation:go,scale:ar,svgLayer:{attrs:{},children:At.createElement(rs,{height:ga,page:jr,rotation:go,scale:ar,width:ba})},textLayer:{attrs:{},children:At.createElement(Xr,{containerRef:qs,page:jr,pageIndex:mn,plugins:Xn,rotation:go,scale:ar,onRenderTextCompleted:function(){Fr.current&&Rs(!0)}})},textLayerRendered:Cs,width:ba,markRendered:Lr,onRotatePage:function(so){return Vr(mn,so)}}),Xn.map(function(so,Io){return so.renderPageLayer?At.createElement(At.Fragment,{key:Io},so.renderPageLayer({canvasLayerRef:Gs,canvasLayerRendered:ws,doc:Un,height:ga,pageIndex:mn,rotation:go,scale:ar,textLayerRef:qs,textLayerRendered:Cs,width:ba})):At.createElement(At.Fragment,{key:Io})})):At.createElement(Lt,{testId:"core__page-layer-loading-".concat(mn)}))},sr=function(Rn,Un){var In=Un.rect;return Rn.height!==In.height||Rn.width!==In.width?In:Rn};(function(Rn){Rn.Horizontal="Horizontal",Rn.Vertical="Vertical",Rn.Both="Both"})(Vn||(Vn={}));var fr=function(Rn){return 1-Math.pow(1-Rn,4)},ur=1e-4,_r={left:0,top:0},Qr={capture:!1,passive:!0},Ps=function(Rn){var Un=Rn.elementRef,In=Rn.enableSmoothScroll,Dt=Rn.isRtl,mn=Rn.scrollDirection,Nn=Rn.onSmoothScroll,Hn=At.useState(_r),Xn=Hn[0],Wn=Hn[1],Jn=At.useState(Un.current),Zn=Jn[0],ar=Jn[1],hr=Dt?-1:1,dr=At.useRef(mn);dr.current=mn;var Er=At.useRef(_r),Sr=At.useRef(!0),Ar=At.useCallback(function(){Sr.current=!0,In&&Wn(Er.current),Nn(!1)},[]),Lr=At.useCallback(function(){if(Zn){switch(dr.current){case Vn.Horizontal:Er.current={left:hr*Zn.scrollLeft,top:0};break;case Vn.Both:Er.current={left:hr*Zn.scrollLeft,top:Zn.scrollTop};break;case Vn.Vertical:default:Er.current={left:0,top:Zn.scrollTop}}In&&!Sr.current||Wn(Er.current)}},[Zn]);$t(function(){ar(Un.current)}),$t(function(){if(Zn)return Zn.addEventListener("scroll",Lr,Qr),function(){Zn.removeEventListener("scroll",Lr,Qr)}},[Zn]);var Vr=At.useCallback(function(Fr,Nr){var jr=Un.current;if(!jr)return Promise.resolve();var Dr={left:0,top:0};switch(dr.current){case Vn.Horizontal:Dr.left=hr*Fr.left;break;case Vn.Both:Dr.left=hr*Fr.left,Dr.top=Fr.top;break;case Vn.Vertical:default:Dr.top=Fr.top}return Nr?(Sr.current=!1,Nn(!0),new Promise(function(is,ws){(function(ps,Ss,Cs,Rs,Gs,qs){Gs===void 0&&(Gs=function(Io){return Io}),qs===void 0&&(qs=function(){});var eo=0,na=0,xa=!1;switch(Ss){case Vn.Horizontal:na=ps.scrollLeft,eo=0;case Vn.Both:na=ps.scrollLeft,eo=ps.scrollTop;break;case Vn.Vertical:default:na=0,eo=ps.scrollTop}var ba=function(){xa||(xa=!0,ps.scrollLeft=Cs.left,ps.scrollTop=Cs.top,qs())};if(Math.abs(eo-Cs.top)<=ur&&Ss===Vn.Vertical)ba();else if(Math.abs(na-Cs.left)<=ur&&Ss===Vn.Horizontal)ba();else{var ga,go=-1,Ll=na-Cs.left,yl=eo-Cs.top,so=function(Io){go===-1&&(go=Io);var ru=Io-go,ds=Math.min(ru/Rs,1),cs=Gs(ds),ts={left:na-Ll*cs,top:eo-yl*cs};switch(Ss){case Vn.Horizontal:ps.scrollLeft=ts.left;break;case Vn.Both:ps.scrollLeft=ts.left,ps.scrollTop=ts.top;break;case Vn.Vertical:default:ps.scrollTop=ts.top}Math.abs(ts.top-Cs.top)<=ur&&Math.abs(ts.left-Cs.left)<=ur&&!xa&&(window.cancelAnimationFrame(ga),ba()),ru<Rs?ga=window.requestAnimationFrame(so):window.cancelAnimationFrame(ga)};ga=window.requestAnimationFrame(so)}})(jr,dr.current,Dr,400,fr,function(){Ar(),is()})})):new Promise(function(is,ws){switch(dr.current){case Vn.Horizontal:jr.scrollLeft=Dr.left;break;case Vn.Both:jr.scrollLeft=Dr.left,jr.scrollTop=Dr.top;break;case Vn.Vertical:default:jr.scrollTop=Dr.top}is()})},[Un]);return{scrollOffset:Xn,scrollTo:Vr}},es=function(Rn,Un,In){return Math.max(Rn,Math.min(In,Un))},hs=function(Rn,Un){if(Un!==_e.ViewMode.DualPageWithCover)return 0;if(!function(mn){var Nn=mn.length;if(Nn===1)return!1;for(var Hn=1;Hn<Nn;Hn++)if(mn[Hn].height!==mn[0].height||mn[Hn].width!==mn[0].width)return!0;return!1}(Rn))return 2*Rn[0].width;var In=Pn(Rn.slice(1),2).map(function(mn){return mn.length===2?mn[0].width+mn[1].width:mn[0].width}),Dt=[Rn[0].width].concat(In);return Math.max.apply(Math,Dt)},Ms={left:0,top:0},Qs={left:0,top:0},ko={left:0,top:0},Ip={left:0,top:0},w1={height:0,width:0},A1={left:0,top:0},S1="data-virtual-index",C1=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Dp=function(Rn){var Un=Rn.enableSmoothScroll,In=Rn.isRtl,Dt=Rn.numberOfItems,mn=Rn.parentRef,Nn=Rn.setRenderRange,Hn=Rn.sizes,Xn=Rn.scrollMode,Wn=Rn.viewMode,Jn=At.useState(!1),Zn=Jn[0],ar=Jn[1],hr=At.useCallback(function(ds){return ar(ds)},[]),dr=At.useRef(Xn);dr.current=Xn;var Er=At.useRef(Wn);Er.current=Wn;var Sr=Xn===_e.ScrollMode.Wrapped||Wn===_e.ViewMode.DualPageWithCover||Wn===_e.ViewMode.DualPage?Vn.Both:Xn===_e.ScrollMode.Horizontal?Vn.Horizontal:Vn.Vertical,Ar=Ps({elementRef:mn,enableSmoothScroll:Un,isRtl:In,scrollDirection:Sr,onSmoothScroll:hr}),Lr=Ar.scrollOffset,Vr=Ar.scrollTo,Fr=function(ds){var cs=ds.elementRef,ts=At.useState(cs.current),ss=ts[0],ns=ts[1],gs=At.useRef(!1),ms=At.useReducer(sr,{height:0,width:0}),as=ms[0],Wr=ms[1];return $t(function(){cs.current!==ss&&ns(cs.current)}),$t(function(){if(ss&&!gs.current){gs.current=!0;var ys=ss.getBoundingClientRect(),As=ys.height,Vs=ys.width;Wr({rect:{height:As,width:Vs}})}},[ss]),At.useEffect(function(){if(ss){var ys=new ResizeObserver(function(As,Vs){As.forEach(function(js){if(js.target===ss){var uo=js.contentRect,$o=uo.height,vs=uo.width;Wr({rect:{height:$o,width:vs}})}})});return ys.observe(ss),function(){ys.unobserve(ss)}}},[ss]),as}({elementRef:mn}),Nr=At.useRef({scrollOffset:A1,measurements:[]});Nr.current.scrollOffset=Lr;var jr=At.useMemo(function(){return Array(Dt).fill(-1)},[]),Dr=At.useState(jr),is=Dr[0],ws=Dr[1],ps=At.useMemo(function(){var ds=new IntersectionObserver(function(cs){cs.forEach(function(ts){var ss=ts.isIntersecting?ts.intersectionRatio:-1,ns=ts.target.getAttribute(S1);if(ns){var gs=parseInt(ns,10);0<=gs&&gs<Dt&&ws(function(ms){return ms[gs]=ss,function(as,Wr,ys){for(var As,Vs=0,js=Wr.length;Vs<js;Vs++)!As&&Vs in Wr||(As||(As=Array.prototype.slice.call(Wr,0,Vs)),As[Vs]=Wr[Vs]);return as.concat(As||Array.prototype.slice.call(Wr))}([],ms)})}})},{threshold:C1});return ds},[]),Ss=At.useMemo(function(){return Xn===_e.ScrollMode.Page&&Wn===_e.ViewMode.SinglePage?function(ds,cs,ts){for(var ss=[],ns=0;ns<ds;ns++){var gs={height:Math.max(cs.height,ts[ns].height),width:Math.max(cs.width,ts[ns].width)},ms=ns===0?Ip:ss[ns-1].end,as={left:ms.left+gs.width,top:ms.top+gs.height};ss[ns]={index:ns,start:ms,size:gs,end:as,visibility:-1}}return ss}(Dt,Fr,Hn):Wn===_e.ViewMode.DualPageWithCover?function(ds,cs,ts,ss){for(var ns=[],gs=0,ms=0,as=ko,Wr=0;Wr<ds;Wr++){var ys=Wr===0?{height:ss===_e.ScrollMode.Page?Math.max(cs.height,ts[Wr].height):ts[Wr].height,width:ss===_e.ScrollMode.Page?Math.max(cs.width,ts[Wr].width):ts[Wr].width}:{height:ss===_e.ScrollMode.Page?Math.max(cs.height,ts[Wr].height):ts[Wr].height,width:Math.max(cs.width/2,ts[Wr].width)};ss===_e.ScrollMode.Page?as=Wr===0?ko:{left:Wr%2==0?ys.width:0,top:Math.floor((Wr-1)/2)*ys.height+ns[0].end.top}:Wr===0?(as=ko,gs=ts[0].height,ms=0):Wr%2==1?(as={left:0,top:gs+=ms},ms=Wr===ds-1?ts[Wr].height:Math.max(ts[Wr].height,ts[Wr+1].height)):as={left:ns[Wr-1].end.left,top:gs};var As={left:as.left+ys.width,top:as.top+ys.height};ns[Wr]={index:Wr,start:as,size:ys,end:As,visibility:-1}}return ns}(Dt,Fr,Hn,Xn):Wn===_e.ViewMode.DualPage?function(ds,cs,ts,ss){for(var ns=[],gs=0,ms=0,as=Qs,Wr=0;Wr<ds;Wr++){var ys={height:ss===_e.ScrollMode.Page?Math.max(cs.height,ts[Wr].height):ts[Wr].height,width:Math.max(cs.width/2,ts[Wr].width)};ss===_e.ScrollMode.Page?as={left:Wr%2==0?0:ys.width,top:Math.floor(Wr/2)*ys.height}:Wr%2==0?(as={left:0,top:gs+=ms},ms=Wr===ds-1?ts[Wr].height:Math.max(ts[Wr].height,ts[Wr+1].height)):as={left:ns[Wr-1].end.left,top:gs};var As={left:as.left+ys.width,top:as.top+ys.height};ns[Wr]={index:Wr,start:as,size:ys,end:As,visibility:-1}}return ns}(Dt,Fr,Hn,Xn):function(ds,cs,ts,ss){for(var ns=[],gs=0,ms={left:0,top:0},as=0,Wr=Ms,ys=0;ys<ds;ys++){var As=ts[ys];if(ys===0)gs=As.width,ms={left:0,top:0},as=As.height;else switch(ss){case _e.ScrollMode.Wrapped:(gs+=As.width)<cs.width?(Wr={left:ns[ys-1].end.left,top:ms.top},as=Math.max(as,As.height)):(gs=As.width,ms={left:(Wr={left:ms.left,top:ms.top+as}).left,top:Wr.top},as=As.height);break;case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:Wr=ns[ys-1].end}var Vs={left:Wr.left+As.width,top:Wr.top+As.height};ns[ys]={index:ys,start:Wr,size:As,end:Vs,visibility:-1}}return ns}(Dt,Fr,Hn,Xn)},[Xn,Hn,Wn,Fr]),Cs=Ss[Dt-1]?{height:Ss[Dt-1].end.top,width:Ss[Dt-1].end.left}:w1;Nr.current.measurements=Ss;var Rs=At.useMemo(function(){var ds=function(ys,As,Vs,js){var uo=0;switch(ys){case Vn.Horizontal:uo=js.left;break;case Vn.Vertical:default:uo=js.top}var $o=As.length-1,vs=function($s,Bu,_1,$x){for(;$s<=Bu;){var v0=($s+Bu)/2|0,Hp=$x(v0);if(Hp<_1)$s=v0+1;else{if(!(Hp>_1))return v0;Bu=v0-1}}return $s>0?$s-1:0}(0,$o,uo,function($s){switch(ys){case Vn.Horizontal:return As[$s].start.left;case Vn.Both:case Vn.Vertical:default:return As[$s].start.top}});if(ys===Vn.Both)for(var ho=As[vs].start.top;vs-1>=0&&As[vs-1].start.top===ho&&As[vs-1].start.left>=js.left;)vs--;for(var zs=vs;zs<=$o;){var Ks={top:As[zs].start.top-js.top,left:As[zs].start.left-js.left},no={height:Vs.height-Ks.top,width:Vs.width-Ks.left};if(ys===Vn.Horizontal&&no.width<0||ys===Vn.Vertical&&no.height<0||ys===Vn.Both&&(no.width<0||no.height<0))break;zs++}return{start:vs,end:zs}}(Sr,Ss,Fr,Lr),cs=ds.start,ts=ds.end,ss=is.slice(es(0,Dt,cs),es(0,Dt,ts)),ns=cs+ss.reduce(function(ys,As,Vs,js){return As>js[ys]?Vs:ys},0),gs=ns=es(0,Dt-1,ns),ms=Nn({endPage:ts,numPages:Dt,startPage:cs}),as=ms.startPage,Wr=ms.endPage;switch(as=Math.max(as,0),Wr=Math.min(Wr,Dt-1),Wn){case _e.ViewMode.DualPageWithCover:ns>0&&(gs=ns%2==1?ns:ns-1),as=as===0?0:as%2==1?as:as-1,Dt-(Wr=Wr%2==1?Wr-1:Wr)<=2&&(Wr=Dt-1);break;case _e.ViewMode.DualPage:gs=ns%2==0?ns:ns-1,as=as%2==0?as:as-1,Wr=Wr%2==1?Wr:Wr-1;break;case _e.ViewMode.SinglePage:default:gs=ns}return{startPage:as,endPage:Wr,maxVisbilityIndex:gs}},[Ss,Fr,Lr,Wn,is]),Gs=Rs.startPage,qs=Rs.endPage,eo=Rs.maxVisbilityIndex,na=At.useMemo(function(){for(var ds=[],cs=function(ss){var ns=Ss[ss],gs=Et(Et({},ns),{visibility:is[ss]!==void 0?is[ss]:-1,measureRef:function(ms){ms&&(ms.setAttribute(S1,"".concat(ss)),ps.observe(ms))}});ds.push(gs)},ts=Gs;ts<=qs;ts++)cs(ts);return ds},[Gs,qs,is,Ss]),xa=At.useCallback(function(ds,cs){var ts=Nr.current.measurements[es(0,Dt-1,ds)],ss=dr.current===_e.ScrollMode.Page?A1:cs;return ts?Vr({left:ss.left+ts.start.left,top:ss.top+ts.start.top},Un):Promise.resolve()},[Vr,Un]),ba=At.useCallback(function(ds,cs){var ts=Nr.current.measurements,ss=ts[ds].start,ns=ts.find(function(ms){return ms.start.top-ss.top>1e-12});if(!ns)return Promise.resolve();var gs=ns.index;switch(Er.current){case _e.ViewMode.DualPage:gs=gs%2==0?gs:gs+1;break;case _e.ViewMode.DualPageWithCover:gs=gs%2==1?gs:gs+1}return xa(gs,cs)},[]),ga=At.useCallback(function(ds,cs){for(var ts=Nr.current.measurements,ss=ts[ds].start,ns=ds,gs=!1,ms=Dt-1;ms>=0;ms--)if(ss.top-ts[ms].start.top>1e-12){gs=!0,ns=ts[ms].index;break}if(!gs)return Promise.resolve();switch(Er.current){case _e.ViewMode.DualPage:ns=ns%2==0?ns:ns-1;break;case _e.ViewMode.DualPageWithCover:ns=ns%2==0?ns-1:ns}return ns===ds&&(ns=ds-1),xa(ns,cs)},[]),go=At.useCallback(function(ds,cs){if(Er.current===_e.ViewMode.DualPageWithCover||Er.current===_e.ViewMode.DualPage)return ba(ds,cs);switch(dr.current){case _e.ScrollMode.Wrapped:return ba(ds,cs);case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:return xa(ds+1,cs)}},[]),Ll=At.useCallback(function(ds,cs){if(Er.current===_e.ViewMode.DualPageWithCover||Er.current===_e.ViewMode.DualPage)return ga(ds,cs);switch(dr.current){case _e.ScrollMode.Wrapped:return ga(ds,cs);case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:return xa(ds-1,cs)}},[]),yl=At.useCallback(function(){return function(ds,cs){switch(cs){case _e.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(ds.width,"px")};case _e.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(ds.height,"px"),width:"100%"}}}(Cs,dr.current)},[Cs]),so=At.useCallback(function(ds){return function(cs,ts,ss){return ss!==_e.ScrollMode.Page?{}:{height:"".concat(ts.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(cs.start.top,"px)")}}(ds,Fr,dr.current)},[Fr]),Io=At.useCallback(function(ds){return function(cs,ts,ss,ns,gs){var ms,as,Wr,ys,As,Vs,js,uo=ts?"right":"left",$o=ts?-1:1,vs=ss.length,ho=cs.start.left*$o,zs=cs.size,Ks=zs.height,no=zs.width;if(ns===_e.ViewMode.DualPageWithCover){var $s=gs===_e.ScrollMode.Page?0:cs.start.top;return cs.index===0||vs%2==0&&cs.index===vs-1?((ms={height:"".concat(Ks,"px"),minWidth:"".concat(hs(ss,ns),"px"),width:"100%"})[uo]=0,ms.position="absolute",ms.top=0,ms.transform="translate(".concat(ho,"px, ").concat($s,"px)"),ms):((as={height:"".concat(Ks,"px"),width:"".concat(no,"px")})[uo]=0,as.position="absolute",as.top=0,as.transform="translate(".concat(ho,"px, ").concat($s,"px)"),as)}if(ns===_e.ViewMode.DualPage)return(Wr={height:"".concat(Ks,"px"),width:"".concat(no,"px")})[uo]=0,Wr.position="absolute",Wr.top=0,Wr.transform="translate(".concat(ho,"px, ").concat(gs===_e.ScrollMode.Page?0:cs.start.top,"px)"),Wr;switch(gs){case _e.ScrollMode.Horizontal:return(ys={height:"100%",width:"".concat(no,"px")})[uo]=0,ys.position="absolute",ys.top=0,ys.transform="translateX(".concat(ho,"px)"),ys;case _e.ScrollMode.Page:return(As={height:"".concat(Ks,"px"),width:"".concat(no,"px")})[uo]=0,As.position="absolute",As.top=0,As;case _e.ScrollMode.Wrapped:return(Vs={height:"".concat(Ks,"px"),width:"".concat(no,"px")})[uo]=0,Vs.position="absolute",Vs.top=0,Vs.transform="translate(".concat(ho,"px, ").concat(cs.start.top,"px)"),Vs;case _e.ScrollMode.Vertical:default:return(js={height:"".concat(Ks,"px"),width:"100%"})[uo]=0,js.position="absolute",js.top=0,js.transform="translateY(".concat(cs.start.top,"px)"),js}}(ds,In,Hn,Er.current,dr.current)},[In,Hn]),ru=At.useCallback(function(ds,cs){var ts=Nr.current,ss=ts.measurements,ns=ts.scrollOffset,gs=ss[es(0,Dt-1,cs)];if(gs){var ms=dr.current===_e.ScrollMode.Page?{left:gs.start.left,top:gs.start.top}:{left:ns.left*ds,top:ns.top*ds};return Vr(ms,!1)}return Promise.resolve()},[]);return At.useEffect(function(){return function(){ps.disconnect()}},[]),{boundingClientRect:Fr,isSmoothScrolling:Zn,startPage:Gs,endPage:qs,maxVisbilityIndex:eo,virtualItems:na,getContainerStyles:yl,getItemContainerStyles:so,getItemStyles:Io,scrollToItem:xa,scrollToNextItem:go,scrollToPreviousItem:Ll,zoom:ru}},g0=function(Rn,Un,In,Dt,mn,Nn){var Hn=In;switch(!0){case(mn===_e.ViewMode.DualPageWithCover&&Nn>=3):case(mn===_e.ViewMode.DualPage&&Nn>=3):Hn=2*In;break;default:Hn=In}switch(Dt){case _e.SpecialZoomLevel.ActualSize:return 1;case _e.SpecialZoomLevel.PageFit:return Math.min((Rn.clientWidth-17)/Hn,(Rn.clientHeight-16)/Un);case _e.SpecialZoomLevel.PageWidth:return(Rn.clientWidth-17)/Hn}},Lp=function(Rn){var Un,In,Dt=Rn.getCurrentPage,mn=(Un=50,In=At.useRef([]),At.useEffect(function(){return function(){In.current=[]}},[]),{push:function(Jn){var Zn=In.current;Zn.length+1>Un&&Zn.shift(),Zn.push(Jn),In.current=Zn},map:function(Jn){return In.current.map(function(Zn){return Jn(Zn)})},pop:function(){var Jn=In.current;if(Jn.length===0)return null;var Zn=Jn.pop();return In.current=Jn,Zn}}),Nn=function(Jn){var Zn=At.useRef([]);return At.useEffect(function(){return function(){Zn.current=[]}},[]),{dequeue:function(){var ar=Zn.current;if(ar.length===0)return null;var hr=ar.shift();return Zn.current=ar,hr||null},enqueue:function(ar){var hr=Zn.current;hr.length+1>Jn&&hr.pop(),Zn.current=[ar].concat(hr)},map:function(ar){return Zn.current.map(function(hr){return ar(hr)})}}}(50),Hn=function(){var Jn=Nn.dequeue();return Jn&&mn.push(Jn),Jn&&Jn.pageIndex===Dt()?Hn():Jn},Xn=function(){var Jn=mn.pop();return Jn&&Nn.enqueue(Jn),Jn&&Jn.pageIndex===Dt()?Xn():Jn},Wn=At.useCallback(function(Jn){mn.push(Jn)},[]);return{getNextDestination:Hn,getPreviousDestination:Xn,markVisitedDestination:Wn}},E1=function(Rn){var Un=[];return Rn.map(function(In){Un=Un.concat(In).concat(function(Dt){var mn=[];return Dt.items&&Dt.items.length>0&&(mn=mn.concat(E1(Dt.items))),mn}(In))}),Un},k1={capture:!1,passive:!0},Np={height:0,width:0},Lu={height:0,width:0},m0=function(Rn){var Un=Rn.getCurrentPage,In=Rn.getCurrentScrollMode,Dt=Rn.jumpToPage,mn=Rn.targetRef,Nn=At.useState(_e.FullScreenMode.Normal),Hn=Nn[0],Xn=Nn[1],Wn=function(){var is=At.useState(Np),ws=is[0],ps=is[1],Ss=hn(function(){ps({height:window.innerHeight,width:window.innerWidth})},100);return $t(function(){return window.addEventListener("resize",Ss,k1),function(){window.removeEventListener("resize",Ss,k1)}},[]),ws}(),Jn=At.useState(Lu),Zn=Jn[0],ar=Jn[1],hr=At.useRef(Lu),dr=At.useRef(Un()),Er=At.useRef(Lu),Sr=At.useState(mn.current),Ar=Sr[0],Lr=Sr[1],Vr=At.useRef();$t(function(){mn.current!==Ar&&Lr(mn.current)},[]),$t(function(){if(Ar){var is=new ResizeObserver(function(ws){ws.forEach(function(ps){var Ss=ps.target.getBoundingClientRect(),Cs=Ss.height,Rs=Ss.width;ar({height:Cs,width:Rs})})});return is.observe(Ar),function(){is.unobserve(Ar),is.disconnect()}}},[Ar]);var Fr=At.useCallback(function(is){var ws=sn();return ws&&ws!==is?(Xn(_e.FullScreenMode.Normal),Sn(ws)):Promise.resolve()},[]),Nr=At.useCallback(function(is){is&&en()&&(Lr(is),Fr(is).then(function(){Vr.current=is,Xn(_e.FullScreenMode.Entering),function(ws){Gt&&ws[Wt.RequestFullScreen]()}(is)}))},[]),jr=At.useCallback(function(){sn()&&(Xn(_e.FullScreenMode.Exitting),Sn(document))},[]),Dr=At.useCallback(function(){Ar&&sn()!==Ar&&Xn(_e.FullScreenMode.Exitting)},[Ar]);return At.useEffect(function(){switch(Hn){case _e.FullScreenMode.Entering:Vr.current&&(Vr.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),dr.current=Un(),hr.current={height:window.innerHeight,width:window.innerWidth};break;case _e.FullScreenMode.Entered:In()===_e.ScrollMode.Page?Dt(dr.current).then(function(){Xn(_e.FullScreenMode.EnteredCompletely)}):Xn(_e.FullScreenMode.EnteredCompletely);break;case _e.FullScreenMode.Exitting:Vr.current&&(Vr.current.style.backgroundColor="",Vr.current=null),dr.current=Un();break;case _e.FullScreenMode.Exited:Xn(_e.FullScreenMode.Normal),In()===_e.ScrollMode.Page&&Dt(dr.current)}},[Hn]),At.useEffect(function(){if(Hn!==_e.FullScreenMode.Normal)return Hn===_e.FullScreenMode.Entering&&Wn.height===Zn.height&&Wn.width===Zn.width&&Wn.height>0&&Wn.width>0&&(Er.current.height===0||Wn.height==Er.current.height)?(Er.current={height:window.innerHeight,width:window.innerWidth},void Xn(_e.FullScreenMode.Entered)):void(Hn===_e.FullScreenMode.Exitting&&hr.current.height===Wn.height&&hr.current.width===Wn.width&&Wn.height>0&&Wn.width>0&&Xn(_e.FullScreenMode.Exited))},[Hn,Wn,Zn]),At.useEffect(function(){var is;return is=Dr,Gt&&document.addEventListener(Wt.FullScreenChange,is),function(){(function(ws){Gt&&document.removeEventListener(Wt.FullScreenChange,ws)})(Dr)}},[Ar]),{enterFullScreenMode:Nr,exitFullScreenMode:jr,fullScreenMode:Hn}},$p={buildPageStyles:function(){return{}},transformSize:function(Rn){return Rn.size}},Dl={left:0,top:0},Bp=function(Rn){var Un=Rn.currentFile,In=Rn.defaultScale,Dt=Rn.doc,mn=Rn.enableSmoothScroll,Nn=Rn.initialPage,Hn=Rn.initialRotation,Xn=Rn.initialScale,Wn=Rn.pageLayout,Jn=Rn.pageSizes,Zn=Rn.plugins,ar=Rn.renderPage,hr=Rn.scrollMode,dr=Rn.setRenderRange,Er=Rn.viewMode,Sr=Rn.viewerState,Ar=Rn.onDocumentLoad,Lr=Rn.onOpenFile,Vr=Rn.onPageChange,Fr=Rn.onRotate,Nr=Rn.onRotatePage,jr=Rn.onZoom,Dr=Dt.numPages,is=Dt.loadingTask.docId,ws=At.useContext(ln).l10n,ps=At.useContext(Pt),Ss=ps.direction===_e.TextDirection.RightToLeft,Cs=At.useRef(),Rs=At.useRef(),Gs=At.useState(Nn),qs=Gs[0],eo=Gs[1],na=At.useRef(null),xa=Lp({getCurrentPage:function(){return vs.current.pageIndex}}),ba=At.useState(Hn),ga=ba[0],go=ba[1],Ll=qt(ga),yl=At.useState(!1),so=yl[0],Io=yl[1],ru=At.useState(new Map),ds=ru[0],cs=ru[1],ts=At.useState(hr),ss=ts[0],ns=ts[1],gs=qt(ss),ms=At.useState(Er),as=ms[0],Wr=ms[1],ys=qt(as),As=function(Tr){var bs=Qt(),Es=At.useState([]),Ls=Es[0],Ds=Es[1];return At.useEffect(function(){Tr.getOutline().then(function(ks){if(bs.current&&ks!==null){var io=E1(ks);Ds(io)}})},[]),Ls}(Dt),Vs=At.useState(Xn),js=Vs[0],uo=Vs[1],$o=qt(js),vs=At.useRef(Sr),ho=At.useRef(typeof In=="string"?In:null),zs=At.useRef(-1),Ks=At.useRef(-1),no=At.useRef(Nn),$s=m0({getCurrentPage:function(){return vs.current.pageIndex},getCurrentScrollMode:function(){return vs.current.scrollMode},jumpToPage:function(Tr){return Uu(Tr)},targetRef:Rs}),Bu=At.useState(-1),_1=Bu[0],$x=Bu[1],v0=At.useState(0),Hp=v0[0],n6=v0[1],Bo=zt({doc:Dt});At.useEffect(function(){return function(){Mn.clear(),On.clear()}},[is]);var a9=At.useMemo(function(){return Object.assign({},$p,Wn)},[]),i6=At.useMemo(function(){return Array(Dr).fill(0).map(function(Tr,bs){var Es=[Jn[bs].pageHeight,Jn[bs].pageWidth],Ls=Math.abs(ga)%180==0?{height:Es[0],width:Es[1]}:{height:Es[1],width:Es[0]},Ds={height:Ls.height*js,width:Ls.width*js};return a9.transformSize({numPages:Dr,pageIndex:bs,size:Ds})})},[ga,js]),Us=Dp({enableSmoothScroll:mn,isRtl:Ss,numberOfItems:Dr,parentRef:Rs,scrollMode:ss,setRenderRange:dr,sizes:i6,viewMode:as}),r6=hn(function(){!ho.current||vs.current.fullScreenMode!==_e.FullScreenMode.Normal||Nn>0&&no.current===Nn||w0(ho.current)},200);(function(Tr){var bs=Tr.targetRef,Es=Tr.onResize;$t(function(){var Ls=new ResizeObserver(function(ks){ks.forEach(function(io){Es(io.target)})}),Ds=bs.current;if(Ds)return Ls.observe(Ds),function(){Ls.unobserve(Ds)}},[])})({targetRef:Rs,onResize:r6});var ju=function(Tr){var bs=Tr;Zn.forEach(function(Es){Es.onViewerStateChange&&(bs=Es.onViewerStateChange(bs))}),vs.current=bs},s6=function(){return Rs.current},a6=function(){return vs.current},o6=At.useCallback(function(Tr){xa.markVisitedDestination(Tr)},[]),L2=At.useCallback(function(Tr){var bs=Tr.pageIndex,Es=Tr.bottomOffset,Ls=Tr.leftOffset,Ds=Tr.scaleTo,ks=Rs.current,io=vs.current;return ks&&io?new Promise(function(Hu,H2){Gn(Dt,bs).then(function(Bx){var Vu=Bx.getViewport({scale:1}),jx=0,p9=(typeof Es=="function"?Es(Vu.width,Vu.height):Es)||0,Ux=(typeof Ls=="function"?Ls(Vu.width,Vu.height):Ls)||0,M1=io.scale;switch(Ds){case _e.SpecialZoomLevel.PageFit:jx=0,Ux=0,w0(_e.SpecialZoomLevel.PageFit);break;case _e.SpecialZoomLevel.PageWidth:M1=g0(ks,Jn[bs].pageHeight,Jn[bs].pageWidth,_e.SpecialZoomLevel.PageWidth,Er,Dr),jx=(Vu.height-p9)*M1,Ux*=M1,w0(M1);break;default:jx=(Vu.height-p9)*M1,Ux*=M1}switch(io.scrollMode){case _e.ScrollMode.Horizontal:Us.scrollToItem(bs,{left:Ux,top:0}).then(function(){Hu()});break;case _e.ScrollMode.Vertical:default:Us.scrollToItem(bs,{left:0,top:jx}).then(function(){Hu()})}})}):Promise.resolve()},[]),o9=At.useCallback(function(Tr){return xa.markVisitedDestination(Tr),L2(Tr)},[]),l6=At.useCallback(function(){var Tr=xa.getNextDestination();return Tr?L2(Tr):Promise.resolve()},[]),c6=At.useCallback(function(){var Tr=xa.getPreviousDestination();return Tr?L2(Tr):Promise.resolve()},[]),u6=At.useCallback(function(){return Us.scrollToNextItem(vs.current.pageIndex,Dl)},[]),Uu=At.useCallback(function(Tr){return 0<=Tr&&Tr<Dr?Us.scrollToItem(Tr,Dl):Promise.resolve()},[]),h6=At.useCallback(function(){return Us.scrollToPreviousItem(vs.current.pageIndex,Dl)},[]),l9=At.useCallback(function(Tr){var bs,Es;(bs=Tr.name,Es=bs.split(/\./).pop(),Es?Es.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Ls){var Ds=new FileReader;Ds.readAsArrayBuffer(Tr),Ds.onload=function(){var ks=new Uint8Array(Ds.result);Ls(ks)}}).then(function(Ls){Lr(Tr.name,Ls)})},[Lr]),c9=At.useCallback(function(Tr){var bs=Tr===_e.RotateDirection.Backward?-90:90,Es=vs.current.rotation,Ls=Es===360||Es===-360?bs:Es+bs;Bo.markNotRendered(),go(Ls),ju(Et(Et({},vs.current),{rotation:Ls})),Fr({direction:Tr,doc:Dt,rotation:Ls})},[]),N2=At.useCallback(function(Tr,bs){var Es=bs===_e.RotateDirection.Backward?-90:90,Ls=vs.current.pagesRotation,Ds=(Ls.has(Tr)?Ls.get(Tr):Hn)+Es,ks=Ls.set(Tr,Ds);cs(ks),Io(function(io){return!io}),ju(Et(Et({},vs.current),{pagesRotation:ks,rotatedPage:Tr})),Nr({direction:bs,doc:Dt,pageIndex:Tr,rotation:Ds}),Bo.markRendering(Tr),$x(Tr)},[]),u9=At.useCallback(function(Tr){ju(Et(Et({},vs.current),{scrollMode:Tr})),ns(Tr)},[]),h9=At.useCallback(function(Tr){ju(Et(Et({},vs.current),{viewMode:Tr})),Wr(Tr)},[]),w0=At.useCallback(function(Tr){var bs=Rs.current,Es=vs.current.pageIndex;if(!(Es<0||Es>=Dr)){var Ls=Jn[Es].pageHeight,Ds=Jn[Es].pageWidth,ks=bs?typeof Tr=="string"?g0(bs,Ls,Ds,Tr,vs.current.viewMode,Dr):Tr:1;ho.current=typeof Tr=="string"?Tr:null,ks!==vs.current.scale&&(n6(function(io){return io+1}),Bo.markNotRendered(),uo(ks),jr({doc:Dt,scale:ks}),ju(Et(Et({},vs.current),{scale:ks})))}},[]),d6=At.useCallback(function(Tr){$s.enterFullScreenMode(Tr)},[]),f6=At.useCallback(function(){$s.exitFullScreenMode()},[]);At.useEffect(function(){ju(Et(Et({},vs.current),{fullScreenMode:$s.fullScreenMode}))},[$s.fullScreenMode]),At.useEffect(function(){var Tr={enterFullScreenMode:d6,exitFullScreenMode:f6,getPagesContainer:s6,getViewerState:a6,jumpToDestination:o9,jumpToNextDestination:l6,jumpToPreviousDestination:c6,jumpToNextPage:u6,jumpToPreviousPage:h6,jumpToPage:Uu,openFile:l9,rotate:c9,rotatePage:N2,setViewerState:ju,switchScrollMode:u9,switchViewMode:h9,zoom:w0};return Zn.forEach(function(bs){bs.install&&bs.install(Tr)}),function(){Zn.forEach(function(bs){bs.uninstall&&bs.uninstall(Tr)})}},[is]),At.useEffect(function(){Ar({doc:Dt,file:Un}),Zn.forEach(function(Tr){Tr.onDocumentLoad&&Tr.onDocumentLoad({doc:Dt,file:Un})})},[is]);var $2,B2,j2,d9=Us.boundingClientRect;$2=function(){Nn&&Uu(Nn)},B2=d9.height>0&&d9.width>0,j2=At.useRef(!1),$t(function(){B2&&!j2.current&&(j2.current=!0,$2())},[$2,B2]),$t(function(){var Tr=vs.current.pageIndex;Tr>-1&&gs!==ss&&Us.scrollToItem(Tr,Dl).then(function(){$s.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&(mn||Bo.markNotRendered(),zs.current=-1)})},[ss]),$t(function(){var Tr=vs.current.pageIndex;Tr>-1&&Ll!==ga&&Us.scrollToItem(Tr,Dl)},[ga]),$t(function(){$o!=0&&$o!=vs.current.scale&&Us.zoom(vs.current.scale/$o,vs.current.pageIndex).then(function(){$s.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&(Ks.current=-1)})},[js]),$t(function(){if(ys!==vs.current.viewMode){var Tr=Us.startPage,bs=Us.endPage,Es=Us.virtualItems;Bo.markNotRendered(),Bo.setRange(Tr,bs);for(var Ls=function(ks){var io=Es.find(function(Hu){return Hu.index===ks});io&&Bo.setVisibility(ks,io.visibility)},Ds=Tr;Ds<=bs;Ds++)Ls(Ds);U2()}},[as]),$t(function(){var Tr=vs.current.pageIndex;Tr>-1&&ys!==as&&Us.scrollToItem(Tr,Dl)},[as]),$t(function(){var Tr=vs.current.pageIndex;Tr>0&&Tr===Nn&&no.current===Nn&&ho.current&&(no.current=-1,w0(ho.current))},[qs]),At.useEffect(function(){Us.isSmoothScrolling||na.current!==null&&na.current===qs||(na.current=qs,Vr({currentPage:qs,doc:Dt}))},[qs,Us.isSmoothScrolling]),At.useEffect(function(){$s.fullScreenMode===_e.FullScreenMode.Entering&&vs.current.scrollMode===_e.ScrollMode.Page&&(zs.current=vs.current.pageIndex),$s.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&vs.current.scrollMode===_e.ScrollMode.Page&&mn&&(zs.current=-1),$s.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&ho.current&&(Ks.current=vs.current.pageIndex,w0(ho.current))},[$s.fullScreenMode]),At.useEffect(function(){if($s.fullScreenMode!==_e.FullScreenMode.Entering&&$s.fullScreenMode!==_e.FullScreenMode.Exitting&&!Us.isSmoothScrolling){var Tr=Us.startPage,bs=Us.endPage,Es=Us.maxVisbilityIndex,Ls=Us.virtualItems,Ds=Es,ks=$s.fullScreenMode===_e.FullScreenMode.Entered||$s.fullScreenMode===_e.FullScreenMode.EnteredCompletely;if(!(ks&&Ds!==zs.current&&zs.current>-1||ks&&Ds!==Ks.current&&Ks.current>-1)){eo(Ds),ju(Et(Et({},vs.current),{pageIndex:Ds})),Bo.setRange(Tr,bs);for(var io=function(H2){var Bx=Ls.find(function(Vu){return Vu.index===H2});Bx&&Bo.setVisibility(H2,Bx.visibility)},Hu=Tr;Hu<=bs;Hu++)io(Hu);U2()}}},[Us.startPage,Us.endPage,Us.isSmoothScrolling,Us.maxVisbilityIndex,$s.fullScreenMode,so,ga,js]);var p6=At.useCallback(function(Tr){Bo.markRendered(Tr),U2()},[Hp]),U2=function(){var Tr=Bo.getHighestPriorityPage();Tr>-1&&Bo.isInRange(Tr)&&(Bo.markRendering(Tr),$x(Tr))},g6=function(Tr){var bs=qs-1,Es=qs+1;switch(Tr){case"FirstPage":Uu(0);break;case"LastPage":Uu(Dr-1);break;case"NextPage":Es<Dr&&Uu(Es);break;case"PrevPage":bs>=0&&Uu(bs)}},m6=At.useCallback(function(){var Tr=Us.virtualItems,bs=[];switch(as){case _e.ViewMode.DualPage:bs=Pn(Tr,2);break;case _e.ViewMode.DualPageWithCover:Tr.length&&(bs=Tr[0].index===0?[[Tr[0]]].concat(Pn(Tr.slice(1),2)):Pn(Tr,2));break;case _e.ViewMode.SinglePage:default:bs=Pn(Tr,1)}var Es=ws&&ws.core?ws.core.pageLabel:"Page {{pageIndex}}",Ls={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Cs,style:{height:"100%"}},children:At.createElement(At.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:xt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":ss===_e.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Ss,"rpv-core__inner-pages--single":ss===_e.ScrollMode.Page,"rpv-core__inner-pages--vertical":ss===_e.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":ss===_e.ScrollMode.Wrapped}),ref:Rs,style:{height:"100%",position:"relative"}},children:At.createElement("div",{"data-testid":"core__inner-current-page-".concat(qs),style:Object.assign({"--scale-factor":js},Us.getContainerStyles())},bs.map(function(Ds){return At.createElement("div",{className:xt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":ss===_e.ScrollMode.Page}),style:Us.getItemContainerStyles(Ds[0]),key:"".concat(Ds[0].index,"-").concat(as)},Ds.map(function(ks){var io=as===_e.ViewMode.DualPageWithCover&&(ks.index===0||Dr%2==0&&ks.index===Dr-1);return At.createElement("div",{"aria-label":Es.replace("{{pageIndex}}","".concat(ks.index+1)),className:xt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":as===_e.ViewMode.DualPage&&ks.index%2==0,"rpv-core__inner-page--dual-odd":as===_e.ViewMode.DualPage&&ks.index%2==1,"rpv-core__inner-page--dual-cover":io,"rpv-core__inner-page--dual-cover-even":as===_e.ViewMode.DualPageWithCover&&!io&&ks.index%2==0,"rpv-core__inner-page--dual-cover-odd":as===_e.ViewMode.DualPageWithCover&&!io&&ks.index%2==1,"rpv-core__inner-page--single":as===_e.ViewMode.SinglePage&&ss===_e.ScrollMode.Page}),role:"region",key:"".concat(ks.index,"-").concat(as),style:Object.assign({},Us.getItemStyles(ks),a9.buildPageStyles({numPages:Dr,pageIndex:ks.index,scrollMode:ss,viewMode:as}))},At.createElement(Qn,{doc:Dt,measureRef:ks.measureRef,outlines:As,pageIndex:ks.index,pageRotation:ds.has(ks.index)?ds.get(ks.index):0,pageSize:Jn[ks.index],plugins:Zn,renderPage:ar,renderQueueKey:Hp,rotation:ga,scale:js,shouldRender:_1===ks.index,viewMode:as,onExecuteNamedAction:g6,onJumpFromLinkAnnotation:o6,onJumpToDest:o9,onRenderCompleted:p6,onRotatePage:N2}))}))}))}};return Zn.forEach(function(Ds){Ds.renderViewer&&(Ls=Ds.renderViewer({containerRef:Cs,doc:Dt,pagesContainerRef:Rs,pagesRotation:ds,pageSizes:Jn,rotation:ga,slot:Ls,themeContext:ps,jumpToPage:Uu,openFile:l9,rotate:c9,rotatePage:N2,switchScrollMode:u9,switchViewMode:h9,zoom:w0}))}),Ls},[Zn,Us]),f9=At.useCallback(function(Tr){return At.createElement("div",Et({},Tr.attrs,{style:Tr.attrs&&Tr.attrs.style?Tr.attrs.style:{}}),Tr.children,Tr.subSlot&&f9(Tr.subSlot))},[]);return f9(m6())},Nu=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],F1=function(Rn){var Un=Rn.defaultScale,In=Rn.doc,Dt=Rn.render,mn=Rn.scrollMode,Nn=Rn.viewMode,Hn=At.useRef(),Xn=At.useState({pageSizes:[],scale:0}),Wn=Xn[0],Jn=Xn[1];return At.useLayoutEffect(function(){var Zn=Array(In.numPages).fill(0).map(function(ar,hr){return new Promise(function(dr,Er){Gn(In,hr).then(function(Sr){var Ar=Sr.getViewport({scale:1});dr({pageHeight:Ar.height,pageWidth:Ar.width,rotation:Ar.rotation})})})});Promise.all(Zn).then(function(ar){var hr=Hn.current;if(hr&&ar.length!==0){var dr=ar[0].pageWidth,Er=ar[0].pageHeight,Sr=hr.parentElement,Ar=(Sr.clientWidth-45)/dr,Lr=(Sr.clientHeight-45)/Er,Vr=Ar;switch(mn){case _e.ScrollMode.Horizontal:Vr=Math.min(Ar,Lr);break;case _e.ScrollMode.Vertical:default:Vr=Ar}var Fr,Nr,jr=Un?typeof Un=="string"?g0(Sr,Er,dr,Un,Nn,In.numPages):Un:(Fr=Vr,(Nr=Nu.findIndex(function(Dr){return Dr>=Fr}))===-1||Nr===0?Fr:Nu[Nr-1]);Jn({pageSizes:ar,scale:jr})}})},[In.loadingTask.docId]),Wn.pageSizes.length===0||Wn.scale===0?At.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Hn},At.createElement(Lt,null)):Dt(Wn.pageSizes,Wn.scale)},iu=function(){},x0=function(Rn){function Un(In,Dt){var mn=Rn.call(this)||this;return mn.verifyPassword=In,mn.passwordStatus=Dt,mn}return Ft(Un,Rn),Un}(iu),jp=function(Rn){var Un=Rn.passwordStatus,In=Rn.renderProtectedView,Dt=Rn.verifyPassword,mn=Rn.onDocumentAskPassword,Nn=At.useContext(ln).l10n,Hn=At.useState(""),Xn=Hn[0],Wn=Hn[1],Jn=At.useContext(Pt).direction===_e.TextDirection.RightToLeft,Zn=function(){return Dt(Xn)};return At.useEffect(function(){mn&&mn({verifyPassword:Dt})},[]),In?In({passwordStatus:Un,verifyPassword:Dt}):At.createElement("div",{className:"rpv-core__asking-password-wrapper"},At.createElement("div",{className:xt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Jn})},At.createElement("div",{className:"rpv-core__asking-password-message"},Un===_e.PasswordStatus.RequiredPassword&&Nn.core.askingPassword.requirePasswordToOpen,Un===_e.PasswordStatus.WrongPassword&&Nn.core.wrongPassword.tryAgain),At.createElement("div",{className:"rpv-core__asking-password-body"},At.createElement("div",{className:xt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Jn,"rpv-core__asking-password-input--rtl":Jn})},At.createElement(kt,{testId:"core__asking-password-input",type:"password",value:Xn,onChange:Wn,onKeyDown:function(ar){ar.key==="Enter"&&Zn()}})),At.createElement(Nt,{onClick:Zn},Nn.core.askingPassword.submit))))},T1=function(Rn){function Un(In){var Dt=Rn.call(this)||this;return Dt.doc=In,Dt}return Ft(Un,Rn),Un}(iu),P1=function(Rn){function Un(In){var Dt=Rn.call(this)||this;return Dt.error=In,Dt}return Ft(Un,Rn),Un}(iu),b0=function(Rn){function Un(In){var Dt=Rn.call(this)||this;return Dt.percentages=In,Dt}return Ft(Un,Rn),Un}(iu),y0=function(Rn){var Un=Rn.characterMap,In=Rn.file,Dt=Rn.httpHeaders,mn=Rn.render,Nn=Rn.renderError,Hn=Rn.renderLoader,Xn=Rn.renderProtectedView,Wn=Rn.transformGetDocumentParams,Jn=Rn.withCredentials,Zn=Rn.onDocumentAskPassword,ar=At.useContext(Pt).direction===_e.TextDirection.RightToLeft,hr=At.useState(new b0(0)),dr=hr[0],Er=hr[1],Sr=At.useRef(""),Ar=Qt();return At.useEffect(function(){Sr.current="",Er(new b0(0));var Lr=new Ct.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Vr=Object.assign({httpHeaders:Dt,withCredentials:Jn,worker:Lr},typeof In=="string"?{url:In}:{data:In},Un?{cMapUrl:Un.url,cMapPacked:Un.isCompressed}:{}),Fr=Wn?Wn(Vr):Vr,Nr=Ct.getDocument(Fr);return Nr.onPassword=function(jr,Dr){switch(Dr){case Ct.PasswordResponses.NEED_PASSWORD:Ar.current&&Er(new x0(jr,_e.PasswordStatus.RequiredPassword));break;case Ct.PasswordResponses.INCORRECT_PASSWORD:Ar.current&&Er(new x0(jr,_e.PasswordStatus.WrongPassword))}},Nr.onProgress=function(jr){var Dr=jr.total>0?Math.min(100,100*jr.loaded/jr.total):100;Ar.current&&Sr.current===""&&Er(new b0(Dr))},Nr.promise.then(function(jr){Sr.current=jr.loadingTask.docId,Ar.current&&Er(new T1(jr))},function(jr){return Ar.current&&!Lr.destroyed&&Er(new P1({message:jr.message||"Cannot load document",name:jr.name}))}),function(){Nr.destroy(),Lr.destroy()}},[In]),dr instanceof x0?At.createElement(jp,{passwordStatus:dr.passwordStatus,renderProtectedView:Xn,verifyPassword:dr.verifyPassword,onDocumentAskPassword:Zn}):dr instanceof T1?mn(dr.doc):dr instanceof P1?Nn?Nn(dr.error):At.createElement("div",{className:xt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":ar})},At.createElement("div",{className:"rpv-core__doc-error-text"},dr.error.message)):At.createElement("div",{"data-testid":"core__doc-loading",className:xt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":ar})},Hn?Hn(dr.percentages):At.createElement(Lt,null))},Up=function(Rn,Un){var In=At.useMemo(function(){return Rn==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Rn},[]),Dt=At.useState(In),mn=Dt[0],Nn=Dt[1],Hn=qt(mn);return At.useEffect(function(){if(Rn==="auto"){var Xn=window.matchMedia("(prefers-color-scheme: dark)"),Wn=function(Jn){Nn(Jn.matches?"dark":"light")};return Xn.addEventListener("change",Wn),function(){return Xn.removeEventListener("change",Wn)}}},[]),At.useEffect(function(){mn!==Hn&&Un&&Un(mn)},[mn]),At.useEffect(function(){Rn!==mn&&Nn(Rn)},[Rn]),{currentTheme:mn,setCurrentTheme:Nn}},$u=function(Rn){return{startPage:Rn.startPage-3,endPage:Rn.endPage+3}};_e.Button=function(Rn){var Un=Rn.children,In=Rn.testId,Dt=Rn.onClick,mn=At.useContext(Pt).direction===_e.TextDirection.RightToLeft,Nn=In?{"data-testid":In}:{};return At.createElement("button",Et({className:xt({"rpv-core__button":!0,"rpv-core__button--rtl":mn}),type:"button",onClick:Dt},Nn),Un)},_e.Icon=jt,_e.LazyRender=function(Rn){var Un=Rn.attrs,In=Rn.children,Dt=Rn.testId,mn=At.useState(!1),Nn=mn[0],Hn=mn[1],Xn=Dt?Et(Et({},Un),{"data-testid":Dt}):Un,Wn=_t({once:!0,onVisibilityChanged:function(Jn){Jn.isVisible&&Hn(!0)}});return At.createElement("div",Et({ref:Wn},Xn),Nn&&In)},_e.LocalizationContext=ln,_e.Menu=function(Rn){var Un=Rn.children,In=At.useRef(),Dt=At.useRef([]),mn=At.useContext(Pt).direction===_e.TextDirection.RightToLeft,Nn=function(Xn){if(In.current)switch(Xn.key){case"Tab":Xn.preventDefault();break;case"ArrowDown":Xn.preventDefault(),Hn(function(Wn,Jn){return Jn+1});break;case"ArrowUp":Xn.preventDefault(),Hn(function(Wn,Jn){return Jn-1});break;case"End":Xn.preventDefault(),Hn(function(Wn,Jn){return Wn.length-1});break;case"Home":Xn.preventDefault(),Hn(function(Wn,Jn){return 0})}},Hn=function(Xn){if(In.current){var Wn=Dt.current,Jn=Wn.findIndex(function(ar){return ar.getAttribute("tabindex")==="0"}),Zn=Math.min(Wn.length-1,Math.max(0,Xn(Wn,Jn)));Jn>=0&&Jn<=Wn.length-1&&Wn[Jn].setAttribute("tabindex","-1"),Wn[Zn].setAttribute("tabindex","0"),Wn[Zn].focus()}};return $t(function(){var Xn=In.current;if(Xn){var Wn=function(Jn){var Zn=[];return Jn.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(ar){if(ar instanceof HTMLElement){var hr=ar.parentElement;(hr===Jn||window.getComputedStyle(hr).display!=="none")&&Zn.push(ar)}}),Zn}(Xn);Dt.current=Wn}},[]),$t(function(){return document.addEventListener("keydown",Nn),function(){document.removeEventListener("keydown",Nn)}},[]),At.createElement("div",{ref:In,"aria-orientation":"vertical",className:xt({"rpv-core__menu":!0,"rpv-core__menu--rtl":mn}),role:"menu",tabIndex:0},Un)},_e.MenuDivider=function(){return At.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},_e.MenuItem=function(Rn){var Un=Rn.checked,In=Un!==void 0&&Un,Dt=Rn.children,mn=Rn.icon,Nn=mn===void 0?null:mn,Hn=Rn.isDisabled,Xn=Hn!==void 0&&Hn,Wn=Rn.testId,Jn=Rn.onClick,Zn=At.useContext(Pt).direction===_e.TextDirection.RightToLeft,ar=Wn?{"data-testid":Wn}:{};return At.createElement("button",Et({className:xt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Xn,"rpv-core__menu-item--ltr":!Zn,"rpv-core__menu-item--rtl":Zn}),role:"menuitem",tabIndex:-1,type:"button",onClick:Jn},ar),At.createElement("div",{className:xt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Zn,"rpv-core__menu-item-icon--rtl":Zn})},Nn),At.createElement("div",{className:xt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Zn,"rpv-core__menu-item-label--rtl":Zn})},Dt),At.createElement("div",{className:xt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Zn,"rpv-core__menu-item-check--rtl":Zn})},In&&At.createElement(Rt,null)))},_e.MinimalButton=function(Rn){var Un=Rn.ariaLabel,In=Un===void 0?"":Un,Dt=Rn.ariaKeyShortcuts,mn=Dt===void 0?"":Dt,Nn=Rn.children,Hn=Rn.isDisabled,Xn=Hn!==void 0&&Hn,Wn=Rn.isSelected,Jn=Wn!==void 0&&Wn,Zn=Rn.testId,ar=Rn.onClick,hr=At.useContext(Pt).direction===_e.TextDirection.RightToLeft,dr=Zn?{"data-testid":Zn}:{};return At.createElement("button",Et({"aria-label":In},mn&&{"aria-keyshortcuts":mn},Xn&&{"aria-disabled":!0},{className:xt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Xn,"rpv-core__minimal-button--rtl":hr,"rpv-core__minimal-button--selected":Jn}),type:"button",onClick:ar},dr),Nn)},_e.Modal=function(Rn){var Un=Rn.ariaControlsSuffix,In=Rn.closeOnClickOutside,Dt=Rn.closeOnEscape,mn=Rn.content,Nn=Rn.isOpened,Hn=Nn!==void 0&&Nn,Xn=Rn.target,Wn=Un||"".concat(Jt());return At.createElement(dn,{target:Xn?function(Jn,Zn){return At.createElement("div",{"aria-expanded":Zn?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Wn)},Xn(Jn,Zn))}:null,content:function(Jn){return At.createElement(yn,null,At.createElement(un,{ariaControlsSuffix:Wn,closeOnClickOutside:In,closeOnEscape:Dt,onToggle:Jn},mn(Jn)))},isOpened:Hn})},_e.Popover=function(Rn){var Un=Rn.ariaHasPopup,In=Un===void 0?"dialog":Un,Dt=Rn.ariaControlsSuffix,mn=Rn.closeOnClickOutside,Nn=Rn.closeOnEscape,Hn=Rn.content,Xn=Rn.lockScroll,Wn=Xn===void 0||Xn,Jn=Rn.offset,Zn=Rn.position,ar=Rn.target,hr=rn(!1),dr=hr.opened,Er=hr.toggle,Sr=At.useRef(),Ar=At.useMemo(function(){return Dt||"".concat(Jt())},[]);return At.createElement("div",{ref:Sr,"aria-expanded":dr?"true":"false","aria-haspopup":In,"aria-controls":"rpv-core__popver-body-".concat(Ar)},ar(Er,dr),dr&&At.createElement(At.Fragment,null,Wn&&At.createElement(Fn,{closeOnEscape:Nn,onClose:Er}),At.createElement(Tn,{ariaControlsSuffix:Ar,closeOnClickOutside:mn,offset:Jn,position:Zn,targetRef:Sr,onClose:Er},Hn(Er))))},_e.PrimaryButton=Nt,_e.ProgressBar=function(Rn){var Un=Rn.progress,In=At.useContext(Pt).direction===_e.TextDirection.RightToLeft;return At.createElement("div",{className:xt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":In})},At.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Un,"%")}},Un,"%"))},_e.Separator=function(){return At.createElement("div",{className:"rpv-core__separator"})},_e.Spinner=Lt,_e.Splitter=function(Rn){var Un=Rn.constrain,In=At.useContext(Pt).direction===_e.TextDirection.RightToLeft,Dt=At.useRef(),mn=At.useRef(),Nn=At.useRef(),Hn=At.useRef(0),Xn=At.useRef(0),Wn=At.useRef(0),Jn=At.useRef(0),Zn={capture:!0},ar=function(dr){var Er=Dt.current,Sr=mn.current,Ar=Nn.current;if(Er&&Sr&&Ar){var Lr=Jn.current,Vr=dr.clientX-Hn.current,Fr=Wn.current+(In?-Vr:Vr),Nr=Er.parentElement.getBoundingClientRect().width,jr=100*Fr/Nr;if(Er.classList.add("rpv-core__splitter--resizing"),Un){var Dr=Nr-Fr-Lr;if(!Un({firstHalfPercentage:jr,firstHalfSize:Fr,secondHalfPercentage:100*Dr/Nr,secondHalfSize:Dr}))return}Sr.style.width="".concat(jr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Sr.classList.add("rpv-core__splitter-sibling--resizing"),Ar.classList.add("rpv-core__splitter-sibling--resizing")}},hr=function(dr){var Er=Dt.current,Sr=mn.current,Ar=Nn.current;Er&&Sr&&Ar&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Er.classList.remove("rpv-core__splitter--resizing"),Sr.classList.remove("rpv-core__splitter-sibling--resizing"),Ar.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",ar,Zn),document.removeEventListener("mouseup",hr,Zn))};return At.useEffect(function(){var dr=Dt.current;dr&&(Jn.current=dr.getBoundingClientRect().width,mn.current=dr.previousElementSibling,Nn.current=dr.nextElementSibling)},[]),At.createElement("div",{ref:Dt,className:"rpv-core__splitter",onMouseDown:function(dr){var Er=mn.current;Er&&(Hn.current=dr.clientX,Xn.current=dr.clientY,Wn.current=Er.getBoundingClientRect().width,document.addEventListener("mousemove",ar,Zn),document.addEventListener("mouseup",hr,Zn))}})},_e.TextBox=kt,_e.ThemeContext=Pt,_e.Tooltip=function(Rn){var Un=Rn.ariaControlsSuffix,In=Rn.content,Dt=Rn.offset,mn=Rn.position,Nn=Rn.target,Hn=rn(!1),Xn=Hn.opened,Wn=Hn.toggle,Jn=At.useRef(),Zn=At.useRef(),ar=At.useMemo(function(){return Un||"".concat(Jt())},[]);tn(function(){Jn.current&&document.activeElement&&Jn.current.contains(document.activeElement)&&dr()});var hr=function(){Wn(_e.ToggleStatus.Open)},dr=function(){Wn(_e.ToggleStatus.Close)};return At.createElement(At.Fragment,null,At.createElement("div",{ref:Jn,"aria-describedby":"rpv-core__tooltip-body-".concat(ar),onBlur:function(Er){Er.relatedTarget instanceof HTMLElement&&Er.currentTarget.parentElement&&Er.currentTarget.parentElement.contains(Er.relatedTarget)?Zn.current&&(Zn.current.style.display="none"):dr()},onFocus:hr,onMouseEnter:hr,onMouseLeave:dr},Nn),Xn&&At.createElement(En,{ariaControlsSuffix:ar,contentRef:Zn,offset:Dt,position:mn,targetRef:Jn},In()))},_e.Viewer=function(Rn){var Un=Rn.characterMap,In=Rn.defaultScale,Dt=Rn.enableSmoothScroll,mn=Dt===void 0||Dt,Nn=Rn.fileUrl,Hn=Rn.httpHeaders,Xn=Hn===void 0?{}:Hn,Wn=Rn.initialPage,Jn=Wn===void 0?0:Wn,Zn=Rn.pageLayout,ar=Rn.initialRotation,hr=ar===void 0?0:ar,dr=Rn.localization,Er=Rn.plugins,Sr=Er===void 0?[]:Er,Ar=Rn.renderError,Lr=Rn.renderLoader,Vr=Rn.renderPage,Fr=Rn.renderProtectedView,Nr=Rn.scrollMode,jr=Nr===void 0?_e.ScrollMode.Vertical:Nr,Dr=Rn.setRenderRange,is=Dr===void 0?$u:Dr,ws=Rn.transformGetDocumentParams,ps=Rn.theme,Ss=ps===void 0?{direction:_e.TextDirection.LeftToRight,theme:"light"}:ps,Cs=Rn.viewMode,Rs=Cs===void 0?_e.ViewMode.SinglePage:Cs,Gs=Rn.withCredentials,qs=Gs!==void 0&&Gs,eo=Rn.onDocumentAskPassword,na=Rn.onDocumentLoad,xa=na===void 0?function(){}:na,ba=Rn.onPageChange,ga=ba===void 0?function(){}:ba,go=Rn.onRotate,Ll=go===void 0?function(){}:go,yl=Rn.onRotatePage,so=yl===void 0?function(){}:yl,Io=Rn.onSwitchTheme,ru=Io===void 0?function(){}:Io,ds=Rn.onZoom,cs=ds===void 0?function(){}:ds,ts=At.useState({data:Nn,name:typeof Nn=="string"?Nn:"",shouldLoad:!1}),ss=ts[0],ns=ts[1],gs=function(zs,Ks){ns({data:Ks,name:zs,shouldLoad:!0})},ms=At.useState(!1),as=ms[0],Wr=ms[1],ys=qt(ss);At.useEffect(function(){var zs,Ks,no,$s;zs=ys.data,$s=typeof(Ks=Nn),(no=typeof zs)=="string"&&$s==="string"&&zs===Ks||no==="object"&&$s==="object"&&zs.length===Ks.length&&zs.every(function(Bu,_1){return Bu===Ks[_1]})||ns({data:Nn,name:typeof Nn=="string"?Nn:"",shouldLoad:as})},[Nn,as]);var As=_t({onVisibilityChanged:function(zs){Wr(zs.isVisible),zs.isVisible&&ns(function(Ks){return Object.assign({},Ks,{shouldLoad:!0})})}}),Vs=typeof Ss=="string"?{direction:_e.TextDirection.LeftToRight,theme:Ss}:Ss,js=At.useState(dr||cn),uo=js[0],$o=js[1],vs={l10n:uo,setL10n:$o},ho=Object.assign({},{direction:Vs.direction},Up(Vs.theme||"light",ru));return At.useEffect(function(){dr&&$o(dr)},[dr]),At.createElement(ln.Provider,{value:vs},At.createElement(Pt.Provider,{value:ho},At.createElement("div",{ref:As,className:"rpv-core__viewer rpv-core__viewer--".concat(ho.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},ss.shouldLoad&&At.createElement(y0,{characterMap:Un,file:ss.data,httpHeaders:Xn,render:function(zs){return At.createElement(F1,{defaultScale:In,doc:zs,render:function(Ks,no){return At.createElement(Bp,{currentFile:{data:ss.data,name:ss.name},defaultScale:In,doc:zs,enableSmoothScroll:mn,initialPage:Jn,initialRotation:hr,initialScale:no,pageLayout:Zn,pageSizes:Ks,plugins:Sr,renderPage:Vr,scrollMode:jr,setRenderRange:is,viewMode:Rs,viewerState:{file:ss,fullScreenMode:_e.FullScreenMode.Normal,pageIndex:-1,pageHeight:Ks[0].pageHeight,pageWidth:Ks[0].pageWidth,pagesRotation:new Map,rotation:hr,scale:no,scrollMode:jr,viewMode:Rs},onDocumentLoad:xa,onOpenFile:gs,onPageChange:ga,onRotate:Ll,onRotatePage:so,onZoom:cs})},scrollMode:jr,viewMode:Rs})},renderError:Ar,renderLoader:Lr,renderProtectedView:Fr,transformGetDocumentParams:ws,withCredentials:qs,onDocumentAskPassword:eo}))))},_e.Worker=function(Rn){var Un=Rn.children,In=Rn.workerUrl;return Ct.GlobalWorkerOptions.workerSrc=In,At.createElement(At.Fragment,null,Un)},_e.chunk=Pn,_e.classNames=xt,_e.createStore=function(Rn){var Un=Rn||{},In={},Dt=function(Nn,Hn){var Xn;Un=Et(Et({},Un),((Xn={})[Nn]=Hn,Xn)),(In[Nn]||[]).forEach(function(Wn){return Wn(Un[Nn])})},mn=function(Nn){return Un[Nn]};return{subscribe:function(Nn,Hn){In[Nn]=(In[Nn]||[]).concat(Hn)},unsubscribe:function(Nn,Hn){In[Nn]=(In[Nn]||[]).filter(function(Xn){return Xn!==Hn})},update:function(Nn,Hn){Dt(Nn,Hn)},updateCurrentValue:function(Nn,Hn){var Xn=mn(Nn);Xn!==void 0&&Dt(Nn,Hn(Xn))},get:function(Nn){return mn(Nn)}}},_e.getDestination=Yn,_e.getPage=Gn,_e.isFullScreenEnabled=en,_e.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},_e.useDebounceCallback=hn,_e.useIntersectionObserver=_t,_e.useIsMounted=Qt,_e.useIsomorphicLayoutEffect=$t,_e.usePrevious=qt,_e.useRenderQueue=zt})(core_min);export{AnimatePresence as A,BrowserRouter as B,CircleCheckBig as C,ForwardRef as F,Loader as L,MessageCircle as M,Routes as R,Send as S,Tt as T,User as U,X,Zt as Z,__webpack_exports__GlobalWorkerOptions as _,axios as a,LoaderCircle as b,ct as c,FileText as d,TriangleAlert as e,ft as f,LineChart as g,CircleX as h,FaEdit as i,jsxRuntimeExports as j,useLocation as k,pdfExports as l,motion as m,pdf_worker_entry as n,Route as o,pdfjs as p,client as q,reactExports as r,React as s,useNavigate as u};
